{
  "owner": {
    "id": "m-brady",
    "display_name": "michael",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/13804476?u=6eb43ce0dd4897b86a2ccc3b3cad3e5372022736&v=4",
    "url": "https://github.com/m-brady",
    "bio": null,
    "stats": {
      "total_repos": 1,
      "total_plugins": 3,
      "total_commands": 0,
      "total_skills": 2,
      "total_stars": 0,
      "total_forks": 0
    }
  },
  "repos": [
    {
      "full_name": "m-brady/claude-plugins",
      "url": "https://github.com/m-brady/claude-plugins",
      "description": null,
      "homepage": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2025-11-08T02:34:12Z",
        "created_at": "2025-11-07T13:43:41Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 912
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 7826
        },
        {
          "path": "plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/cloudflare-workers-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/cloudflare-workers-plugin/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/cloudflare-workers-plugin/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 244
        },
        {
          "path": "plugins/cloudflare-workers-plugin/README.md",
          "type": "blob",
          "size": 3568
        },
        {
          "path": "plugins/cloudflare-workers-plugin/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/cloudflare-workers-plugin/skills/cloudflare-workers",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/cloudflare-workers-plugin/skills/cloudflare-workers/SKILL.md",
          "type": "blob",
          "size": 9918
        },
        {
          "path": "plugins/skill-creator-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skill-creator-plugin/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skill-creator-plugin/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 372
        },
        {
          "path": "plugins/skill-creator-plugin/README.md",
          "type": "blob",
          "size": 6935
        },
        {
          "path": "plugins/skill-creator-plugin/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skill-creator-plugin/skills/skill-creator",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skill-creator-plugin/skills/skill-creator/REFERENCE.md",
          "type": "blob",
          "size": 9616
        },
        {
          "path": "plugins/skill-creator-plugin/skills/skill-creator/SKILL.md",
          "type": "blob",
          "size": 13471
        },
        {
          "path": "plugins/skill-creator-plugin/skills/skill-creator/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skill-creator-plugin/skills/skill-creator/scripts/validate-skill.py",
          "type": "blob",
          "size": 8458
        },
        {
          "path": "plugins/skill-creator-plugin/skills/skill-creator/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skill-creator-plugin/skills/skill-creator/templates/basic-skill-template.md",
          "type": "blob",
          "size": 1448
        },
        {
          "path": "plugins/skill-creator-plugin/skills/skill-creator/templates/readonly-skill-template.md",
          "type": "blob",
          "size": 1926
        },
        {
          "path": "plugins/sqlc-go-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/sqlc-go-plugin/package.json",
          "type": "blob",
          "size": 585
        },
        {
          "path": "plugins/sqlc-go-plugin/skill.md",
          "type": "blob",
          "size": 13204
        }
      ],
      "marketplace": {
        "name": "claude-plugins",
        "version": null,
        "description": "A marketplace for Claude Code plugins, containing Skills, commands, agents, hooks, and MCP servers",
        "owner_info": {
          "name": "Michael Brady",
          "github": "m-brady"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "sqlc-go",
            "description": "Expert guidance for using sqlc with Go and PostgreSQL, including query writing, type mappings, and migration management",
            "source": "./plugins/sqlc-go-plugin",
            "category": null,
            "version": null,
            "author": null,
            "install_commands": [
              "/plugin marketplace add m-brady/claude-plugins",
              "/plugin install sqlc-go@claude-plugins"
            ],
            "signals": {
              "stars": 0,
              "forks": 0,
              "pushed_at": "2025-11-08T02:34:12Z",
              "created_at": "2025-11-07T13:43:41Z",
              "license": null
            },
            "commands": [],
            "skills": []
          },
          {
            "name": "cloudflare-workers",
            "description": "Skill for developing and deploying Cloudflare Workers",
            "source": "./plugins/cloudflare-workers-plugin",
            "category": null,
            "version": null,
            "author": null,
            "install_commands": [
              "/plugin marketplace add m-brady/claude-plugins",
              "/plugin install cloudflare-workers@claude-plugins"
            ],
            "signals": {
              "stars": 0,
              "forks": 0,
              "pushed_at": "2025-11-08T02:34:12Z",
              "created_at": "2025-11-07T13:43:41Z",
              "license": null
            },
            "commands": [],
            "skills": [
              {
                "name": "cloudflare-workers",
                "description": "Build Cloudflare Workers serverless applications with TypeScript. Supports Workers KV, Durable Objects, D1, R2, Hyperdrive, Queues, Vectorize, Workers AI, Browser Rendering, Workflows, and Agents. Use when working with Cloudflare Workers, edge computing, serverless functions, or any Cloudflare platform services.",
                "path": "plugins/cloudflare-workers-plugin/skills/cloudflare-workers/SKILL.md",
                "frontmatter": {
                  "name": "cloudflare-workers",
                  "description": "Build Cloudflare Workers serverless applications with TypeScript. Supports Workers KV, Durable Objects, D1, R2, Hyperdrive, Queues, Vectorize, Workers AI, Browser Rendering, Workflows, and Agents. Use when working with Cloudflare Workers, edge computing, serverless functions, or any Cloudflare platform services."
                },
                "content": "# Cloudflare Workers\n\nGenerate complete, production-ready Cloudflare Workers solutions with best practices and proper TypeScript types.\n\n## System Context\nYou are an advanced assistant specialized in generating Cloudflare Workers code with deep knowledge of Cloudflare's platform, APIs, and best practices.\n\n## Behavior Guidelines\n- Respond in a friendly and concise manner\n- Focus exclusively on Cloudflare Workers solutions\n- Provide complete, self-contained solutions\n- Default to current best practices\n- Ask clarifying questions when requirements are ambiguous\n\n## Code Standards\n- Generate code in TypeScript by default unless JavaScript is specifically requested\n- Add appropriate TypeScript types and interfaces\n- Import all methods, classes and types used in the code\n- Use ES modules format exclusively (never Service Worker format)\n- Keep all code in a single file unless otherwise specified\n- Use official SDKs or libraries for service integrations when available\n- Minimize other external dependencies\n- Do not use libraries with FFI/native/C bindings\n- Follow Cloudflare Workers security best practices\n- Never bake secrets into code\n- Include proper error handling and logging\n- Include comments explaining complex logic\n\n## Output Format\n- Use Markdown code blocks to separate code from explanations\n- Provide separate blocks for main worker code, configuration, type definitions, and examples\n- Output complete files, never partial updates or diffs\n- Format code consistently using standard TypeScript/JavaScript conventions\n\n## Cloudflare Integrations\nIntegrate with appropriate Cloudflare services for data storage:\n- Workers KV for key-value storage\n- Durable Objects for strongly consistent state management\n- D1 for relational data\n- R2 for object storage\n- Hyperdrive to connect to PostgreSQL databases\n- Queues for asynchronous processing\n- Vectorize for embeddings and vector search\n- Workers Analytics Engine for tracking events and metrics\n- Workers AI for inference (use official SDKs for Claude/OpenAI)\n- Browser Rendering for remote browser capabilities\n- Workers Static Assets for frontend applications\n\nInclude all necessary bindings in code and wrangler.jsonc.\n\n## Configuration Requirements\n- Always provide wrangler.jsonc (not wrangler.toml)\n- Set compatibility_date = \"2025-03-07\"\n- Set compatibility_flags = [\"nodejs_compat\"]\n- Set observability with enabled = true and head_sampling_rate = 1\n- Include appropriate triggers, bindings, environment variables, routes, and domains\n- Do not include dependencies in wrangler.jsonc\n- Only include bindings actually used in the code\n\n## Security Guidelines\n- Implement proper request validation\n- Use appropriate security headers\n- Handle CORS correctly\n- Implement rate limiting where appropriate\n- Follow least privilege principle for bindings\n- Sanitize user inputs\n\n## Testing Guidance\n- Include basic test examples\n- Provide curl commands for API endpoints\n- Add example environment variable values\n- Include sample requests and responses\n\n## Performance Guidelines\n- Optimize for cold starts\n- Minimize unnecessary computation\n- Use appropriate caching strategies\n- Consider Workers limits and quotas\n- Implement streaming where beneficial\n\n## Error Handling\n- Implement proper error boundaries\n- Return appropriate HTTP status codes\n- Provide meaningful error messages\n- Log errors appropriately\n- Handle edge cases gracefully\n\n## WebSocket Guidelines\n- Use the Durable Objects WebSocket Hibernation API\n- Use `this.ctx.acceptWebSocket(server)` to accept connections\n- Define `async webSocketMessage()` handler\n- Define `async webSocketClose()` handler\n- Do not use the `addEventListener` pattern\n- Handle WebSocket upgrade requests explicitly\n\n## Agents Guidelines\n- Strongly prefer the `agents` to build AI Agents\n- Use streaming responses from AI SDKs\n- Use appropriate SDK for the AI service\n- Prefer `this.setState` API to manage state\n- Use `this.sql` for direct SQLite database interaction when beneficial\n- Use `useAgent` React hook for client interfaces\n- Ensure proper `Env` and state type parameters when extending Agent\n- Include valid Durable Object bindings in wrangler.jsonc\n- Set `migrations[].new_sqlite_classes` to Agent class name\n\n## Examples\n\n### Basic Worker Structure\n\n```typescript\nexport default {\n  async fetch(request: Request, env: Env, ctx: ExecutionContext): Promise<Response> {\n    try {\n      // Your logic here\n      return new Response('Hello World!', {\n        headers: { 'Content-Type': 'text/plain' },\n      });\n    } catch (error) {\n      console.error('Error:', error);\n      return new Response('Internal Server Error', { status: 500 });\n    }\n  },\n};\n\ninterface Env {\n  // Your bindings here\n}\n```\n\n### Durable Object with WebSocket Hibernation\n\n```typescript\nexport class ChatRoom extends DurableObject {\n  async fetch(request: Request): Promise<Response> {\n    const upgradeHeader = request.headers.get('Upgrade');\n    if (upgradeHeader === 'websocket') {\n      const pair = new WebSocketPair();\n      const [client, server] = Object.values(pair);\n\n      this.ctx.acceptWebSocket(server);\n\n      return new Response(null, {\n        status: 101,\n        webSocket: client,\n      });\n    }\n\n    return new Response('Expected WebSocket', { status: 400 });\n  }\n\n  async webSocketMessage(ws: WebSocket, message: string | ArrayBuffer): Promise<void> {\n    // Handle incoming messages\n    if (typeof message === 'string') {\n      // Broadcast to all connected WebSockets\n      this.ctx.getWebSockets().forEach(socket => {\n        socket.send(message);\n      });\n    }\n  }\n\n  async webSocketClose(ws: WebSocket, code: number, reason: string, wasClean: boolean): Promise<void> {\n    // Clean up when WebSocket closes\n    console.log('WebSocket closed:', code, reason);\n  }\n}\n```\n\n### Workers AI Agent\n\n```typescript\nimport { Agent } from 'cloudflare:agents';\n\ninterface State {\n  conversationHistory: Array<{ role: string; content: string }>;\n}\n\nexport class MyAgent extends Agent<Env, State> {\n  async chat(message: string): Promise<string> {\n    const history = this.state.conversationHistory || [];\n\n    // Add user message to history\n    history.push({ role: 'user', content: message });\n\n    // Call AI service\n    const response = await this.env.AI.run('@cf/meta/llama-3-8b-instruct', {\n      messages: history,\n    });\n\n    // Add assistant response to history\n    history.push({ role: 'assistant', content: response.response });\n\n    // Update state\n    await this.setState({ conversationHistory: history });\n\n    return response.response;\n  }\n}\n```\n\n### wrangler.jsonc Configuration\n\n```jsonc\n{\n  \"name\": \"my-worker\",\n  \"main\": \"src/index.ts\",\n  \"compatibility_date\": \"2025-03-07\",\n  \"compatibility_flags\": [\"nodejs_compat\"],\n  \"observability\": {\n    \"enabled\": true,\n    \"head_sampling_rate\": 1\n  },\n  \"vars\": {\n    \"ENVIRONMENT\": \"production\"\n  },\n  \"kv_namespaces\": [\n    {\n      \"binding\": \"KV\",\n      \"id\": \"your-kv-namespace-id\"\n    }\n  ],\n  \"durable_objects\": {\n    \"bindings\": [\n      {\n        \"name\": \"CHAT_ROOM\",\n        \"class_name\": \"ChatRoom\",\n        \"script_name\": \"my-worker\"\n      }\n    ]\n  },\n  \"migrations\": [\n    {\n      \"tag\": \"v1\",\n      \"new_classes\": [\"ChatRoom\"]\n    }\n  ]\n}\n```\n\n## Best Practices\n\n### Security\n- Always validate and sanitize user inputs\n- Use environment variables for secrets (never hardcode)\n- Implement rate limiting for public endpoints\n- Add security headers (CSP, X-Frame-Options, etc.)\n- Follow CORS best practices\n\n### Performance\n- Cache frequently accessed data in KV or R2\n- Use Durable Objects for stateful operations\n- Minimize cold start time by reducing dependencies\n- Implement streaming for large responses\n- Use batch operations when possible\n\n### Error Handling\n- Always wrap main logic in try-catch blocks\n- Return appropriate HTTP status codes\n- Log errors with context for debugging\n- Provide user-friendly error messages\n- Handle edge cases gracefully\n\n### Code Organization\n- Keep related logic together\n- Use TypeScript interfaces for type safety\n- Document complex logic with comments\n- Follow consistent naming conventions\n- Keep files focused and modular\n\n## Common Patterns\n\n### API Endpoint with KV Storage\n\n```typescript\nexport default {\n  async fetch(request: Request, env: Env): Promise<Response> {\n    const url = new URL(request.url);\n    const key = url.pathname.slice(1);\n\n    if (request.method === 'GET') {\n      const value = await env.KV.get(key);\n      if (!value) {\n        return new Response('Not found', { status: 404 });\n      }\n      return new Response(value, {\n        headers: { 'Content-Type': 'application/json' },\n      });\n    }\n\n    if (request.method === 'PUT') {\n      const value = await request.text();\n      await env.KV.put(key, value);\n      return new Response('Stored', { status: 200 });\n    }\n\n    return new Response('Method not allowed', { status: 405 });\n  },\n};\n```\n\n### Queue Producer and Consumer\n\n```typescript\n// Producer\nexport default {\n  async fetch(request: Request, env: Env): Promise<Response> {\n    await env.QUEUE.send({ timestamp: Date.now(), data: 'example' });\n    return new Response('Queued');\n  },\n};\n\n// Consumer\nexport default {\n  async queue(batch: MessageBatch<any>, env: Env): Promise<void> {\n    for (const message of batch.messages) {\n      console.log('Processing:', message.body);\n      // Process message\n      message.ack();\n    }\n  },\n};\n```\n\n## Requirements\n\nAll code runs in the Cloudflare Workers runtime. No external installation required beyond the Wrangler CLI for deployment."
              }
            ]
          },
          {
            "name": "skill-creator",
            "description": "Create and edit Claude Code skills using Test-Driven Development. Runs baseline tests first, then writes minimal skills addressing observed failures",
            "source": "./plugins/skill-creator-plugin",
            "category": null,
            "version": null,
            "author": null,
            "install_commands": [
              "/plugin marketplace add m-brady/claude-plugins",
              "/plugin install skill-creator@claude-plugins"
            ],
            "signals": {
              "stars": 0,
              "forks": 0,
              "pushed_at": "2025-11-08T02:34:12Z",
              "created_at": "2025-11-07T13:43:41Z",
              "license": null
            },
            "commands": [],
            "skills": [
              {
                "name": "skill-creator",
                "description": "Use when creating new skills, editing existing skills, or improving skill documentation. Applies Test-Driven Development to process documentation - run baseline tests without the skill first, then write minimal skill addressing failures. Mentions of skill files, SKILL.md, skill testing, or skill improvement trigger this.",
                "path": "plugins/skill-creator-plugin/skills/skill-creator/SKILL.md",
                "frontmatter": {
                  "name": "skill-creator",
                  "description": "Use when creating new skills, editing existing skills, or improving skill documentation. Applies Test-Driven Development to process documentation - run baseline tests without the skill first, then write minimal skill addressing failures. Mentions of skill files, SKILL.md, skill testing, or skill improvement trigger this."
                },
                "content": "# Skill Creator\n\nWriting skills IS Test-Driven Development applied to process documentation.\n\nSkills are reusable reference guides that teach Claude how to perform specific tasks. This skill helps you create or edit skills using a test-driven approach.\n\n## The Iron Law\n\n**No skill deploys without a failing test first.** This applies to both new skills and edits to existing skills.\n\nIf you didn't watch an agent fail without the skill, you don't know if the skill teaches the right thing.\n\n## Instructions\n\nFollow the RED-GREEN-REFACTOR cycle when creating or editing skills:\n\n### RED: Run Baseline Tests Without the Skill\n\nBefore writing or editing ANY skill:\n\n1. **Identify test scenarios**: What specific tasks should this skill help with?\n2. **Run baseline tests**: Test Claude WITHOUT the skill (or with the old version)\n3. **Document failures**: Record exactly how Claude fails, what it misses, or what it does wrong\n4. **Capture natural behavior**: Note rationalizations, workarounds, or shortcuts Claude attempts\n\nAsk yourself:\n- What specific errors or mistakes happen without this skill?\n- What does Claude try to do instead?\n- What shortcuts does Claude rationalize?\n- What edge cases does Claude miss?\n\n**This is not optional.** If you skip baseline testing, you're guessing what to teach.\n\n### GREEN: Write Minimal Skill Addressing Failures\n\nNow write (or edit) the skill to address the specific failures you observed:\n\n#### 1. Gather Requirements\n\nFor NEW skills, ask about:\n- **Skill name**: What should the skill be called?\n  - Must use lowercase letters, numbers, and hyphens only\n  - Maximum 64 characters\n  - Example: `pdf-processor`, `commit-helper`, `code-reviewer`\n\n- **Location**: Where should the skill be created?\n  - Personal skill: `~/.claude/skills/skill-name/`\n  - Project skill: `.claude/skills/skill-name/`\n  - Plugin skill: `plugin-name/skills/skill-name/`\n\nFor EDITING existing skills:\n- What specific failures did baseline testing reveal?\n- What new scenarios need coverage?\n- What loopholes appeared during testing?\n\n#### 2. Write the Description\n\nThe description is critical for discovery. Write it to match how Claude would search:\n\n**Format**: Start with \"Use when...\" and include specific triggers\n\n**Optimize for search**:\n- Include concrete symptoms and error messages\n- Mention specific tools or commands\n- Use problem-focused language, not technology names\n- Include keywords users would actually say\n\n**Good example**:\n```\nUse when creating skills, editing SKILL.md files, or improving skill documentation.\nApplies Test-Driven Development to process documentation. Mentions of failing tests,\nbaseline scenarios, skill validation, or skill improvement trigger this.\n```\n\n**Poor example**:\n```\nHelps with skill development and documentation.\n```\n\n#### 3. Validate Inputs\n\nBefore creating the skill, validate:\n- Name uses only lowercase letters, numbers, and hyphens\n- Name is under 64 characters\n- Description is under 1024 characters\n- Description includes both what the skill does AND when to use it\n- Location path is valid and accessible\n\n#### 4. Create Directory Structure\n\n```bash\n# For personal skills\nmkdir -p ~/.claude/skills/skill-name\n\n# For project skills\nmkdir -p .claude/skills/skill-name\n\n# For plugin skills\nmkdir -p plugin-name/skills/skill-name\n```\n\n#### 5. Write the SKILL.md Content\n\n**YAML Frontmatter** (required):\n```yaml\n---\nname: skill-name\ndescription: Use when [trigger]. [What it does]. [When to use specifics].\n# Optional: restrict tool access\n# allowed-tools: Read, Grep, Glob\n---\n```\n\n**Content Structure** - Address the failures you observed:\n\n```markdown\n# Skill Name\n\nBrief statement of purpose.\n\n## Instructions\n\nWrite instructions that directly counter the failures from your baseline tests:\n\n1. If Claude skipped validation → Add explicit validation step\n2. If Claude rationalized shortcuts → List those rationalizations as anti-patterns\n3. If Claude missed edge cases → Call out those edge cases explicitly\n4. If Claude used wrong approach → Show the correct approach\n\nBe specific. Reference the actual failures you saw.\n\n## Examples\n\n**One excellent example beats three mediocre ones.**\n\nShow a concrete example that demonstrates the correct behavior:\n- Use realistic code/data\n- Show expected output\n- Highlight what makes this correct\n\n## Anti-Patterns (for discipline skills)\n\nIf this skill enforces discipline, explicitly list rationalizations to reject:\n\n**Red Flags**:\n- \"This is a simple case, so I'll skip...\"\n- \"The user didn't explicitly ask for...\"\n- \"I can optimize by...\"\n\n**Why these fail**: [Explain the consequences]\n\n## Requirements\n\nIf external dependencies are needed:\n- List required packages\n- Note installation requirements\n- Specify version constraints if critical\n```\n\n**Organization tip**: Keep content inline unless you have 100+ lines of reference material or reusable tools. Progressive disclosure via supporting files is good, but most skills should be self-contained.\n\n#### 6. Create Supporting Files (if needed)\n\nOnly create supporting files for:\n- **Heavy reference** (100+ lines): API docs, extensive tables, detailed specs\n- **Reusable tools**: Scripts that multiple skills could use\n- **Not needed**: Examples, brief guidance, troubleshooting\n\nOrganize like this:\n```\nskill-name/\n├── SKILL.md (required, self-contained)\n├── reference.md (only if 100+ lines)\n└── scripts/\n    └── helper.py (only if reusable)\n```\n\n### REFACTOR: Close Loopholes Through Testing\n\nAfter writing/editing the skill, test it to find loopholes:\n\n#### 1. Test with the Skill Active\n\nRun the same scenarios from your baseline tests, but now WITH the skill:\n- Does Claude follow the instructions?\n- Does Claude still find rationalizations?\n- Are there new ways to skip steps?\n\n#### 2. Identify New Rationalizations\n\nWatch for:\n- \"I can skip X because...\"\n- \"This scenario is different because...\"\n- \"The user probably meant...\"\n\nThese are loopholes. Add them to your Anti-Patterns section.\n\n#### 3. Test Variations\n\nTry different phrasings, contexts, and edge cases:\n- Does it work under pressure (multiple competing priorities)?\n- Does it work with ambiguous requirements?\n- Does it work when the easy path is tempting?\n\n#### 4. Iterate\n\nUpdate the skill to close loopholes:\n- Add explicit counters to new rationalizations\n- Strengthen language around discipline requirements\n- Add examples showing the loophole scenarios\n\n**Repeat RED-GREEN-REFACTOR until the skill reliably prevents failures.**\n\n### Skill Testing Checklist\n\nBefore deploying a new or edited skill:\n\n**RED Phase**:\n- [ ] Identified 3+ realistic test scenarios\n- [ ] Ran baseline tests WITHOUT the skill\n- [ ] Documented specific failures and rationalizations\n- [ ] Captured what Claude tried to do instead\n\n**GREEN Phase**:\n- [ ] YAML frontmatter is valid (name, description)\n- [ ] Description starts with \"Use when...\"\n- [ ] Description includes search-optimized triggers\n- [ ] Instructions directly address observed failures\n- [ ] Included one excellent example (not multiple mediocre ones)\n- [ ] Added Anti-Patterns section (for discipline skills)\n- [ ] Content is self-contained (minimal supporting files)\n\n**REFACTOR Phase**:\n- [ ] Tested WITH the skill active\n- [ ] Identified new rationalizations or loopholes\n- [ ] Updated skill to close loopholes\n- [ ] Tested variations and edge cases\n- [ ] Skill reliably prevents the original failures\n\n## Examples\n\n### Example 1: Discipline Skill with TDD\n\n**RED Phase** - Baseline failures observed:\n- Claude analyzed logs but missed correlating errors across files\n- Claude skipped checking timestamps for patterns\n- Claude gave surface-level analysis without root cause investigation\n\n**GREEN Phase** - Skill addressing failures:\n\n```yaml\n---\nname: log-analyzer\ndescription: Use when debugging application errors, investigating log files, or analyzing system failures. Correlates errors across multiple files, identifies patterns over time, and suggests root causes. Mentions of logs, errors, stack traces, or debugging trigger this.\nallowed-tools: Read, Grep, Glob\n---\n\n# Log Analyzer\n\nAnalyze application logs systematically to identify root causes, not just symptoms.\n\n## Instructions\n\n1. **Find all relevant logs**: Use Glob to find log files matching the timeframe\n2. **Extract error context**: Use Grep with -C 5 to get surrounding context\n3. **Build timeline**: Sort errors chronologically across ALL files\n4. **Correlate patterns**: Look for errors that occur together\n5. **Identify root cause**: Trace back to the first error in the sequence\n6. **Summarize findings**: Include timestamps, affected components, and likely cause\n\n## Example\n\n```bash\n# Find all logs from the last hour\nglob \"**/*.log\"\n\n# Search for errors with context\ngrep -C 5 \"ERROR|FATAL|Exception\" app.log\n\n# Check timestamps across files\ngrep \"2025-11-07 14:\" *.log | sort\n```\n\nExpected output:\n```\n14:23:45 database.log: Connection timeout\n14:23:47 app.log: ERROR: Failed to fetch user data\n14:23:48 api.log: Exception: Database unavailable\n```\n\nRoot cause: Database connection timeout cascaded to application and API errors.\n\n## Anti-Patterns\n\n**Red Flags**:\n- \"I found an error in app.log\" ← Did you check other logs?\n- \"There are multiple ERROR entries\" ← What's the root cause?\n- \"The logs show issues\" ← What's the timeline and correlation?\n\n**Why these fail**: Surface-level analysis misses the actual problem and wastes debugging time.\n```\n\n**REFACTOR Phase** - Loopholes closed:\n- Added explicit correlation requirement\n- Added timeline sorting step\n- Added Anti-Patterns section to prevent shallow analysis\n\n### Example 2: Editing an Existing Skill\n\n**Scenario**: The `database-migration` skill exists but users reported it doesn't enforce testing rollbacks.\n\n**RED Phase** - Test WITHOUT the rollback requirement:\n- Claude created migrations with up/down scripts\n- Claude skipped actually testing the rollback\n- Claude rationalized: \"The down migration looks correct\"\n\n**GREEN Phase** - Edit the skill to address failures:\n\n```yaml\n---\nname: database-migration\ndescription: Use when creating database migrations, schema changes, or rollback scripts. Enforces testing both up AND down migrations before deployment. Mentions of migrations, schema changes, or database updates trigger this.\n---\n\n# Database Migration Helper\n\nCreate safe, reversible database migrations with tested rollbacks.\n\n## Instructions\n\n1. Analyze the schema change needed\n2. Generate migration file with timestamp\n3. Write BOTH up and down migrations\n4. **Test the up migration** on a test database\n5. **Test the down migration** to verify rollback works\n6. Document any data transformations or breaking changes\n\n## Example\n\n```sql\n-- Up migration\nCREATE TABLE users (\n  id SERIAL PRIMARY KEY,\n  email VARCHAR(255) UNIQUE NOT NULL\n);\n\n-- Down migration\nDROP TABLE users;\n```\n\n**Testing sequence**:\n```bash\n# Test up\npsql test_db -f migrations/001_up.sql\n# Verify schema exists\n\n# Test down\npsql test_db -f migrations/001_down.sql\n# Verify schema is gone\n```\n\n## Anti-Patterns\n\n**Red Flags**:\n- \"The down migration looks correct\" ← Did you actually test it?\n- \"I'll skip testing since this is simple\" ← Simple migrations can still break\n- \"Testing rollback isn't needed for this change\" ← It's always needed\n\n**Why these fail**: Untested rollbacks fail in production when you need them most.\n```\n\n**REFACTOR Phase**:\n- Added explicit testing steps (not just writing)\n- Added Anti-Patterns for the rationalization we observed\n- Changed description to emphasize enforcement of testing\n\n## Validation Quick Reference\n\n### Name Format\n- Lowercase letters, numbers, hyphens only: `^[a-z0-9-]+$`\n- Maximum 64 characters\n- Examples: `log-analyzer`, `pdf-processor`, `commit-helper`\n\n### Description Format\n- Start with \"Use when...\"\n- Include specific triggers (error messages, tool names, symptoms)\n- Maximum 1024 characters\n- Optimize for how Claude would search\n\n### YAML Frontmatter\n```yaml\n---\nname: skill-name\ndescription: Use when [trigger]. [What it does]. [Specifics].\n# Optional\n# allowed-tools: Read, Grep, Glob\n---\n```\n\n### Common Mistakes\n\n**Skipping baseline tests** → You're guessing what to teach\n- Fix: Always run RED phase first\n\n**Vague descriptions** → Skill won't activate when needed\n- Bad: \"Helps with data\"\n- Good: \"Use when analyzing CSV files, detecting outliers, or generating statistics from spreadsheet data.\"\n\n**Missing Anti-Patterns** → Claude will find rationalizations\n- Fix: Add Red Flags section listing rationalizations you observed\n\n**Too many supporting files** → Content should be self-contained\n- Fix: Keep content in SKILL.md unless you have 100+ lines of reference\n\n## Tool Restrictions\n\nUse `allowed-tools` to limit scope and increase safety:\n\n```yaml\n# Read-only analysis\nallowed-tools: Read, Grep, Glob\n\n# Analysis with execution\nallowed-tools: Read, Grep, Glob, Bash\n\n# Minimal write access\nallowed-tools: Read, Write, Glob\n```\n\nFor detailed reference on validation rules, file organization, and troubleshooting, see [REFERENCE.md](REFERENCE.md)."
              }
            ]
          }
        ]
      }
    }
  ]
}