{
  "owner": {
    "id": "Zate",
    "display_name": "Zate",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/410234?v=4",
    "url": "https://github.com/Zate",
    "bio": "I'm a hobbyist",
    "stats": {
      "total_repos": 1,
      "total_plugins": 1,
      "total_commands": 8,
      "total_skills": 4,
      "total_stars": 4,
      "total_forks": 0
    }
  },
  "repos": [
    {
      "full_name": "Zate/cc-godot",
      "url": "https://github.com/Zate/cc-godot",
      "description": null,
      "homepage": null,
      "signals": {
        "stars": 4,
        "forks": 0,
        "pushed_at": "2025-11-09T05:20:32Z",
        "created_at": "2025-11-08T04:21:37Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 419
        },
        {
          "path": ".claude",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/settings.local.json",
          "type": "blob",
          "size": 101
        },
        {
          "path": ".gitignore",
          "type": "blob",
          "size": 588
        },
        {
          "path": "PLUGIN_CREATION_GUIDE.md",
          "type": "blob",
          "size": 22172
        },
        {
          "path": "PLUGIN_DETAILS.md",
          "type": "blob",
          "size": 6277
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 6792
        },
        {
          "path": "plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/gd",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/gd/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/gd/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 1277
        },
        {
          "path": "plugins/gd/.mcp.json.template",
          "type": "blob",
          "size": 188
        },
        {
          "path": "plugins/gd/IMPROVEMENTS_SUMMARY.md",
          "type": "blob",
          "size": 13794
        },
        {
          "path": "plugins/gd/README.md",
          "type": "blob",
          "size": 10569
        },
        {
          "path": "plugins/gd/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/gd/agents/game-planner.md",
          "type": "blob",
          "size": 2529
        },
        {
          "path": "plugins/gd/agents/ui-architect.md",
          "type": "blob",
          "size": 10881
        },
        {
          "path": "plugins/gd/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/gd/commands/debug.md",
          "type": "blob",
          "size": 9312
        },
        {
          "path": "plugins/gd/commands/init-game.md",
          "type": "blob",
          "size": 1090
        },
        {
          "path": "plugins/gd/commands/restart.md",
          "type": "blob",
          "size": 3147
        },
        {
          "path": "plugins/gd/commands/run.md",
          "type": "blob",
          "size": 8563
        },
        {
          "path": "plugins/gd/commands/scene.md",
          "type": "blob",
          "size": 15292
        },
        {
          "path": "plugins/gd/commands/setup.md",
          "type": "blob",
          "size": 903
        },
        {
          "path": "plugins/gd/commands/stop.md",
          "type": "blob",
          "size": 278
        },
        {
          "path": "plugins/gd/commands/ui-template.md",
          "type": "blob",
          "size": 23337
        },
        {
          "path": "plugins/gd/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/gd/hooks/hooks.json",
          "type": "blob",
          "size": 302
        },
        {
          "path": "plugins/gd/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/gd/scripts/init-project.sh",
          "type": "blob",
          "size": 1853
        },
        {
          "path": "plugins/gd/scripts/setup-mcp.sh",
          "type": "blob",
          "size": 5115
        },
        {
          "path": "plugins/gd/scripts/validate-env.sh",
          "type": "blob",
          "size": 1964
        },
        {
          "path": "plugins/gd/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/gd/skills/godot-debugging",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/gd/skills/godot-debugging/SKILL.md",
          "type": "blob",
          "size": 14484
        },
        {
          "path": "plugins/gd/skills/godot-dev",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/gd/skills/godot-dev/SKILL.md",
          "type": "blob",
          "size": 5042
        },
        {
          "path": "plugins/gd/skills/godot-optimization",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/gd/skills/godot-optimization/SKILL.md",
          "type": "blob",
          "size": 13078
        },
        {
          "path": "plugins/gd/skills/godot-ui",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/gd/skills/godot-ui/SKILL.md",
          "type": "blob",
          "size": 16235
        }
      ],
      "marketplace": {
        "name": "godot-gamedev",
        "version": null,
        "description": null,
        "owner_info": {
          "name": "Zate",
          "email": "zate75i+claude-code-plugins@gmail.com"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "gd",
            "description": "Godot game development plugin with /gd:setup, /gd:init-game, /gd:run commands and more",
            "source": "./plugins/gd",
            "category": "development",
            "version": null,
            "author": null,
            "install_commands": [
              "/plugin marketplace add Zate/cc-godot",
              "/plugin install gd@godot-gamedev"
            ],
            "signals": {
              "stars": 4,
              "forks": 0,
              "pushed_at": "2025-11-09T05:20:32Z",
              "created_at": "2025-11-08T04:21:37Z",
              "license": null
            },
            "commands": [
              {
                "name": "/debug",
                "description": null,
                "path": "plugins/gd/commands/debug.md",
                "frontmatter": {
                  "allowed_tools": [
                    "mcp__godot__get_debug_output",
                    "Skill"
                  ]
                },
                "content": "View enhanced debug output from the running Godot project with error highlighting and filtering.\n\n# Process\n\n1. **Check if project is running**\n   - Use mcp__godot__get_debug_output to fetch current debug output\n\n2. **Parse and enhance the output:**\n   - Identify error types (ERROR, WARNING, INFO)\n   - Parse stack traces\n   - Extract file paths and line numbers\n   - Highlight important information\n\n3. **Display formatted output:**\n\n## Error Formatting\n\nPresent errors with the following enhanced format:\n\n### ERROR messages\n```\n[ERROR] <error_message>\n  Location: <file_path>:<line_number>\n  Function: <function_name>\n  Details: <additional_context>\n\n  Stack Trace:\n    at <function> (<file>:<line>)\n    at <function> (<file>:<line>)\n```\n\n### WARNING messages\n```\n[WARNING] <warning_message>\n  Location: <file_path>:<line_number>\n  Context: <relevant_context>\n```\n\n### INFO/DEBUG messages\n```\n[INFO] <message>\n```\n\n## Common Error Patterns to Recognize\n\n### 1. Null Reference Errors\nPattern: `Attempt to call function .* in base 'null instance'`\n\nResponse:\n```\n[ERROR] Null Reference Error\n  Trying to call a method on a null object\n\n  Quick Fixes:\n  - Check if the object exists before calling methods\n  - Verify @onready node paths are correct\n  - Ensure nodes aren't freed before being accessed\n\n  Example fix:\n    if my_node != null:\n        my_node.some_method()\n```\n\n### 2. Node Not Found\nPattern: `Node not found: .*` or `get_node: .*not found`\n\nResponse:\n```\n[ERROR] Node Not Found\n  Path: <node_path>\n\n  Possible Causes:\n  - Node doesn't exist in the scene tree\n  - Incorrect node path (check capitalization)\n  - Node hasn't been added yet (timing issue)\n\n  Quick Fixes:\n  - Use get_node_or_null() to check if node exists\n  - Verify the node path in the scene tree\n  - Use @onready for scene tree references\n```\n\n### 3. Index Out of Range\nPattern: `Index .* out of range`\n\nResponse:\n```\n[ERROR] Array Index Out of Bounds\n  Index: <index_value>\n  Array Size: <size>\n\n  Quick Fixes:\n  - Check array size before accessing: if index < array.size()\n  - Use range-based loops instead of index access\n  - Validate index is not negative\n```\n\n### 4. Type Errors\nPattern: `Invalid operands .* and .* in operator`\n\nResponse:\n```\n[ERROR] Type Mismatch\n  Cannot perform operation between incompatible types\n\n  Quick Fixes:\n  - Ensure variables are initialized\n  - Check for null values before operations\n  - Verify type annotations match actual types\n```\n\n### 5. Signal Errors\nPattern: `Signal .* already connected` or `Attempt to call an invalid function`\n\nResponse:\n```\n[ERROR] Signal Connection Error\n\n  Quick Fixes:\n  - Check if signal is already connected before connecting\n  - Verify method signature matches signal parameters\n  - Ensure method exists and is spelled correctly\n```\n\n## Enhanced Features\n\n### Error Grouping\n- Group repeated errors together\n- Show count of occurrences\n- Display first occurrence time\n\nExample:\n```\n[ERROR] (x5) Null instance access\n  First occurred at: 14:32:15\n  Last occurred at: 14:32:23\n\n  See details with: /gd:debug --expand=<error_id>\n```\n\n### Filtering Options\n\nAsk user if they want to filter output:\n\nQuestion: \"Would you like to filter the debug output?\"\nHeader: \"Filter\"\nMulti-select: false\nOptions:\n- Show All: Display all messages (errors, warnings, info)\n- Errors Only: Show only ERROR messages\n- Errors + Warnings: Show errors and warnings\n- Custom Filter: Filter by keyword\n\n### Auto-suggestions\n\nFor each error, provide:\n1. **Error Type**: Classification of the error\n2. **Likely Cause**: Most common reason for this error\n3. **Suggested Fix**: Code example or action to take\n4. **Related Documentation**: Link to relevant Godot docs if applicable\n\nExample output:\n```\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n[ERROR] Invalid get index 'health' (on base: 'null instance')\n\nLocation: res://scripts/player.gd:45\nFunction: take_damage()\n\nLikely Cause:\n  The player node is null when trying to access the 'health' property.\n  This usually happens when:\n  - A node reference (@onready var) points to a non-existent node\n  - The node was freed/removed before this code runs\n  - The node path is incorrect\n\nSuggested Fix:\n  # Add null check before accessing:\n  if player != null:\n      player.health -= damage\n\n  # Or verify node exists in _ready():\n  func _ready():\n      assert(player != null, \"Player node not found!\")\n\nRelated Code (player.gd:45):\n  45 | func take_damage(amount):\n  46 |     player.health -= amount  # ERROR HERE\n  47 |     update_health_bar()\n\nNext Steps:\n  1. Check that the player node exists in the scene tree\n  2. Verify the node path for @onready variables\n  3. Add null checks before accessing node properties\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n```\n\n## Watch Mode\n\nOffer to enable watch mode:\n\n\"Would you like to enable watch mode? This will continuously monitor for new errors.\"\n\nIf yes:\n- Poll mcp__godot__get_debug_output every 2 seconds\n- Display new errors as they occur\n- Highlight new errors in real-time\n- User can press Ctrl+C or type 'stop' to exit watch mode\n\nExample watch mode output:\n```\n[WATCH MODE] Monitoring debug output... (Press Ctrl+C to stop)\n\n14:35:12 | [INFO] Game started\n14:35:15 | [WARNING] Texture not found: res://sprites/missing.png\n14:35:18 | [ERROR] Null instance access in enemy.gd:23\n\nPress Enter to see error details, or type 'stop' to exit...\n```\n\n## Additional Commands\n\nAfter showing debug output, offer helpful commands:\n\n```\nDebug output retrieved.\n\nHelpful commands:\n  /gd:debug --errors-only     Show only errors\n  /gd:debug --watch           Enable watch mode\n  /gd:restart                 Restart the game\n\n  Need help fixing an error? Just ask! The godot-debugging skill can help interpret and fix these errors.\n```\n\n# Integration with godot-debugging Skill\n\nAfter displaying errors, automatically activate the godot-debugging skill to provide:\n- Detailed error explanations\n- Code fixes\n- Prevention strategies\n\n# Example Full Output\n\n```\nDebug Output (Last 50 lines)\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n[INFO] Project initialized\n[INFO] Scene loaded: res://scenes/main.tscn\n\n[WARNING] Node has been removed from scene: Label\n  Location: res://scenes/ui/menu.tscn\n  Context: Attempting to access removed node\n\n  Note: This usually happens when you call queue_free() on a node\n  and then try to access it later in the same frame.\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\n[ERROR] Attempt to call function 'move_and_slide' in base 'null instance' on a null instance\n  Location: res://scripts/player.gd:67\n  Function: _physics_process(delta)\n\n  Stack Trace:\n    at CharacterBody2D._physics_process (res://scripts/player.gd:67)\n    at Node._propagate_process (core)\n\n  ğŸ” Analysis:\n  The player node (CharacterBody2D) is trying to call move_and_slide()\n  but the instance is null. This typically means:\n  - The player was freed but physics_process is still running\n  - The script is on a freed node\n\n  ğŸ’¡ Suggested Fix:\n    func _physics_process(delta):\n        if not is_instance_valid(self):\n            return\n\n        velocity.y += gravity * delta\n        move_and_slide()\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n\nSummary:\n  â€¢ Total Messages: 24\n  â€¢ Errors: 3 (ğŸ”´)\n  â€¢ Warnings: 5 (ğŸŸ¡)\n  â€¢ Info: 16 (ğŸ”µ)\n\nMost Recent Error:\n  res://scripts/player.gd:67 - Null instance in _physics_process\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nWould you like me to help fix any of these errors?\n```\n\n# Error History Tracking\n\nKeep track of errors across debug sessions:\n- Store error fingerprints (file + line + error type)\n- Track if error is new or recurring\n- Show resolution history if previously fixed\n\nExample:\n```\n[ERROR] (Recurring) Null instance access\n  This error has occurred 3 times in the last hour\n  Previously seen: 14:15, 14:22, 14:35\n\n  Note: This might indicate a deeper issue with your code structure.\n  Consider adding more robust null checks or restructuring your node references.\n```\n\n# Implementation Notes\n\n1. **Parse debug output intelligently**\n   - Extract file paths as clickable links (if terminal supports it)\n   - Parse stack traces into structured format\n   - Identify error patterns automatically\n\n2. **Color coding** (if terminal supports it)\n   - Red for errors\n   - Yellow for warnings\n   - Blue for info\n   - Gray for debug\n\n3. **Smart filtering**\n   - Remember user's last filter choice\n   - Allow regex patterns for advanced filtering\n   - Group similar errors together\n\n4. **Quick actions**\n   - Offer to open file at error line\n   - Suggest running godot-debugging skill\n   - Provide quick fix options\n\nAfter displaying the enhanced debug output, remind the user:\n\"ğŸ’¡ Tip: I can help fix these errors! Just ask about any specific error and I'll provide a detailed explanation and fix using the godot-debugging skill.\""
              },
              {
                "name": "/init-game",
                "description": "Initialize a new Godot game project with interactive planning",
                "path": "plugins/gd/commands/init-game.md",
                "frontmatter": {
                  "description": "Initialize a new Godot game project with interactive planning",
                  "allowed-tools": [
                    "Task",
                    "Write",
                    "Read",
                    "mcp__godot__*"
                  ]
                },
                "content": "You are helping initialize a new Godot game project.\n\nFirst, launch the game-planner agent to gather requirements and create a game plan:\n\nUse the Task tool with subagent_type \"game-planner\" to launch the planning agent.\n\nAfter the planning agent completes, use the returned game plan to:\n1. Update or create the project.godot file with appropriate settings (2D/3D, display settings, etc.)\n2. Create the main scene based on the game type (Node2D for 2D games, Node3D for 3D games)\n3. Set up the basic folder structure:\n   - scenes/ (for game scenes)\n   - scripts/ (for GDScript files)\n   - assets/ (for images, sounds, etc.)\n   - resources/ (for Godot resource files)\n4. Create a README.md documenting the project plan, core mechanics, and initial architecture\n\nUse the Godot MCP tools to create scenes and add nodes as appropriate based on the game plan.\n\nInform the user when initialization is complete and suggest next steps for development."
              },
              {
                "name": "/restart",
                "description": "Quickly restart the running Godot game",
                "path": "plugins/gd/commands/restart.md",
                "frontmatter": {
                  "description": "Quickly restart the running Godot game",
                  "allowed_tools": [
                    "mcp__godot__stop_project",
                    "mcp__godot__run_project",
                    "mcp__godot__get_debug_output"
                  ]
                },
                "content": "Quickly restart the running Godot project for fast iteration during development.\n\n# Process\n\n1. **Stop the current instance**\n   - Use mcp__godot__stop_project to stop the running game\n   - Display: `â™»ï¸  Restarting game...`\n\n2. **Wait briefly** (0.5 seconds) for clean shutdown\n\n3. **Start the project again**\n   - Use mcp__godot__run_project with projectPath set to current working directory\n\n4. **Get initial output**\n   - Wait 1.5 seconds\n   - Use mcp__godot__get_debug_output to check for errors\n\n5. **Display result**\n\n## If restart successful:\n```\nâœ“ Game restarted successfully!\n\n  Quick stats:\n  â€¢ Restart time: <elapsed_time>\n  â€¢ Status: Running\n\n  Commands:\n    /gd:restart     Restart again\n    /gd:debug       View debug output\n    /gd:stop        Stop the game\n\n  ğŸ’¡ Tip: Keep this workflow for rapid iteration:\n     Edit code â†’ Save â†’ /gd:restart â†’ Test\n```\n\n## If errors occurred:\n```\nâš  Game restarted with errors:\n\n<formatted_errors>\n\n  Use /gd:debug for detailed error information\n\n  Commands:\n    /gd:debug       View full debug output\n    /gd:stop        Stop the game\n\n  Would you like help fixing these errors?\n```\n\n## If no game was running:\n```\nâ„¹ No game was running. Starting fresh...\n\n<use same output as /gd:run>\n```\n\n# Usage Tips\n\nDisplay these tips the first time user runs /gd:restart:\n\n```\nğŸ’¡ Restart Command Tips:\n\n   1. Fast Iteration: Use /gd:restart after making code changes\n      instead of manually stopping and starting the game.\n\n   2. Keyboard Shortcut: Save this command for quick access\n      (check if your terminal supports command aliases)\n\n   3. Watch Your Console: Errors from the restart will be\n      displayed immediately.\n\n   4. No Need to Stop First: /gd:restart handles stopping\n      automatically.\n\n   Typical workflow:\n   1. Make changes to your code\n   2. Save (Cmd+S / Ctrl+S)\n   3. Run /gd:restart\n   4. Test your changes\n   5. Repeat!\n```\n\n# Performance Optimization\n\nTrack restart metrics for user feedback:\n```\nğŸ“Š Restart Performance:\n   â€¢ This restart: 2.1s\n   â€¢ Average: 2.3s\n   â€¢ Fastest: 1.8s\n\n   Your game restarts quickly! This is great for iteration.\n```\n\n# Error Recovery\n\nIf restart fails:\n```\nâŒ Restart failed!\n\n   Possible causes:\n   - Previous instance didn't shut down cleanly\n   - Godot editor is not responding\n   - MCP server connection issue\n\n   Try these steps:\n   1. Wait a few seconds and try again\n   2. Check if Godot editor is running\n   3. Run /gd:setup to verify MCP configuration\n\n   Or manually:\n   1. /gd:stop (ensure game stops)\n   2. /gd:run (start fresh)\n```\n\n# Integration with Error Monitoring\n\nAfter restart, if errors detected, activate godot-debugging skill hints:\n```\nğŸ” Detected issues in restart:\n\n   [ERROR] Null instance in player.gd:45\n\n   Common cause: Node references changed or removed\n\n   Quick fix: Verify all @onready var paths are correct\n              after scene modifications.\n\n   Want detailed help? Just ask about this error!\n```"
              },
              {
                "name": "/run",
                "description": "Run the Godot game project with optional watch mode and enhanced error display",
                "path": "plugins/gd/commands/run.md",
                "frontmatter": {
                  "description": "Run the Godot game project with optional watch mode and enhanced error display",
                  "allowed_tools": [
                    "mcp__godot__run_project",
                    "mcp__godot__get_debug_output",
                    "AskUserQuestion",
                    "Skill"
                  ]
                },
                "content": "Run the current Godot project using the MCP server with enhanced debugging features.\n\n# Process\n\n## 1. Parse Command Arguments\n\nCheck if user provided any flags:\n- `--watch` or `-w`: Enable watch mode (auto-restart on file changes)\n- `--debug` or `-d`: Show detailed debug output immediately\n- `--no-output`: Run without showing initial output\n\nExamples:\n- `/gd:run` - Normal run\n- `/gd:run --watch` - Run with watch mode\n- `/gd:run --debug` - Run with immediate debug output\n\n## 2. Start the Project\n\nUse mcp__godot__run_project with projectPath set to the current working directory.\n\nDisplay:\n```\nğŸ® Starting Godot project...\n   Project: <current_directory>\n```\n\n## 3. Get Initial Output\n\nWait 2 seconds, then use mcp__godot__get_debug_output to fetch initial output.\n\n## 4. Parse and Display Output\n\nParse the output for:\n- **Errors** (lines containing \"ERROR\", \"Error:\", or stack traces)\n- **Warnings** (lines containing \"WARNING\", \"WARN\")\n- **Info** (other output)\n\nDisplay with enhanced formatting:\n\n### If No Errors:\n```\nâœ“ Game started successfully!\n\nOutput:\n<formatted_output>\n\nCommands:\n  /gd:stop      Stop the running game\n  /gd:debug     View enhanced debug output\n  /gd:restart   Quick restart\n\nTip: The game is now running. Make changes to your code and use /gd:restart to quickly reload!\n```\n\n### If Errors Found:\n```\nâš  Game started with errors:\n\n<formatted_errors>\n\nCommands:\n  /gd:debug     View detailed error information\n  /gd:stop      Stop the game\n\nWould you like me to help fix these errors? I can explain what's wrong and suggest solutions.\n```\n\n## 5. Error Highlighting\n\nWhen displaying errors, highlight key information:\n\n```\n[ERROR] <error_type>\n  File: <file_path>:<line_number>\n  Message: <error_message>\n\n  ğŸ’¡ Quick Tip: <brief_suggestion>\n```\n\nExamples:\n\n```\n[ERROR] Null Instance\n  File: res://scripts/player.gd:45\n  Message: Attempt to call function 'take_damage' in base 'null instance' on a null instance\n\n  ğŸ’¡ Quick Tip: Add null check before calling methods: if node != null: node.method()\n```\n\n```\n[WARNING] Resource Not Found\n  File: res://scenes/level.tscn\n  Message: Cannot load resource at path: 'res://sprites/missing.png'\n\n  ğŸ’¡ Quick Tip: Check that the file exists and the path is correct (case-sensitive)\n```\n\n## 6. Watch Mode (if --watch flag provided)\n\nIf watch mode is enabled:\n\n1. Display:\n```\nğŸ“ Watch mode enabled\n   Monitoring for file changes in:\n   - *.gd (GDScript files)\n   - *.tscn (Scene files)\n   - *.tres (Resource files)\n\n   The game will auto-restart when you save changes.\n   Press Ctrl+C or type 'stop' to exit watch mode.\n```\n\n2. Set up file watching (conceptual - explain to user):\n```\nNote: Watch mode requires manual restart for now.\n\nTo enable auto-restart:\n1. Make your code changes\n2. Use /gd:restart to quickly reload\n3. Repeat as needed\n\nFuture enhancement: Automatic file watching with instant reload.\n```\n\n3. Provide workflow tips:\n```\nğŸ’¡ Rapid Iteration Workflow:\n   1. Edit your code\n   2. Save the file (Ctrl+S / Cmd+S)\n   3. Run /gd:restart\n   4. See changes immediately!\n\n   This is much faster than closing and reopening the game.\n```\n\n## 7. Error Count Summary\n\nAfter initial run, provide summary:\n```\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n  Status Summary\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n  ğŸ”´ Errors: <count>\n  ğŸŸ¡ Warnings: <count>\n  ğŸ”µ Info messages: <count>\n\n  â± Startup time: <elapsed_time>\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n```\n\n## 8. Offer Help\n\nBased on what was found:\n\n### If errors present:\n```\nI noticed some errors. Would you like me to:\n  1. Explain what these errors mean\n  2. Show you how to fix them\n  3. Run the debugger for more details\n\nJust ask! For example: \"Help me fix the null instance error\"\n```\n\n### If warnings only:\n```\nThere are some warnings you might want to address.\nUse /gd:debug to see detailed information.\n```\n\n### If clean run:\n```\nEverything looks good! Your game is running smoothly.\n```\n\n## 9. Continuous Monitoring (Enhanced)\n\nOffer to monitor for new errors:\n\nAsk user:\nQuestion: \"Would you like me to monitor for runtime errors?\"\nHeader: \"Monitoring\"\nMulti-select: false\nOptions:\n- Yes, watch for errors: I'll alert you if new errors occur\n- No, just run: Just start the game without monitoring\n- Debug mode: Show all output in real-time\n\nIf \"Yes, watch for errors\" selected:\n```\nğŸ‘€ Monitoring enabled\n   I'll alert you if new errors occur while the game is running.\n\n   You can check anytime with /gd:debug\n```\n\nThen periodically (conceptually - every 30 seconds or when user asks):\n- Check for new errors with get_debug_output\n- If new errors found, alert user:\n  ```\n  âš  New error detected!\n\n  [ERROR] <brief_description>\n\n  Use /gd:debug to see full details\n  ```\n\n## 10. Integration with Debugging Skill\n\nIf errors are found, automatically suggest using the debugging skill:\n\n```\nğŸ’¬ Need help understanding these errors?\n\n   Try asking:\n   - \"What does this error mean?\"\n   - \"How do I fix the null instance error?\"\n   - \"Debug the player.gd script\"\n\n   I can explain and fix these issues for you!\n```\n\n## 11. Performance Notes\n\nDisplay performance indicators if available:\n```\nâš¡ Performance:\n   FPS: <if_available>\n   Memory: <if_available>\n\n   Use /gd:profile for detailed performance analysis\n```\n\n## 12. Quick Actions\n\nAt the end, always show quick actions:\n```\nQuick Commands:\n  /gd:stop          Stop the game\n  /gd:restart       Restart quickly\n  /gd:debug         Detailed debug view\n  /gd:profile       Performance analysis\n\n  ğŸ’¡ Press Tab to see all /gd: commands\n```\n\n# Example Full Output\n\n## Success Case:\n```\nğŸ® Starting Godot project...\n   Project: /Users/user/games/platformer\n\nâœ“ Game started successfully!\n\nOutput:\n  Godot Engine v4.2.1 - https://godotengine.org\n  Vulkan API 1.3.0 - Device: Apple M1\n\n  Loading scene: res://scenes/main.tscn\n  Player initialized\n  Level loaded: Level_1\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n  Status Summary\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n  ğŸ”´ Errors: 0\n  ğŸŸ¡ Warnings: 0\n  ğŸ”µ Info messages: 4\n\n  â± Startup time: 1.2s\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nEverything looks good! Your game is running smoothly.\n\nCommands:\n  /gd:stop      Stop the running game\n  /gd:debug     View debug output\n  /gd:restart   Quick restart\n\nTip: Make changes to your code and use /gd:restart to quickly reload!\n```\n\n## Error Case:\n```\nğŸ® Starting Godot project...\n   Project: /Users/user/games/platformer\n\nâš  Game started with errors:\n\n[ERROR] Null Instance\n  File: res://scripts/player.gd:45\n  Message: Attempt to call function 'take_damage' in base 'null instance'\n\n  ğŸ’¡ Quick Tip: Add null check: if player != null: player.take_damage(10)\n\n[WARNING] Resource Not Found\n  File: res://scenes/level.tscn\n  Message: Cannot load resource: 'res://sprites/enemy.png'\n\n  ğŸ’¡ Quick Tip: Verify the file path is correct and the file exists\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n  Status Summary\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n  ğŸ”´ Errors: 1\n  ğŸŸ¡ Warnings: 1\n  ğŸ”µ Info messages: 3\n\n  â± Startup time: 1.5s\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nğŸ’¬ Need help fixing these errors?\n\n   I can explain what went wrong and show you how to fix it.\n   Just ask: \"Help me fix the null instance error\"\n\nCommands:\n  /gd:debug     View detailed error information\n  /gd:stop      Stop the game\n```\n\n# Important Notes\n\n- Always format output in a user-friendly way\n- Highlight errors in a visually distinct manner\n- Provide actionable suggestions, not just error messages\n- Make it easy to transition to fixing errors (mention debugging skill)\n- Track context for follow-up questions about specific errors"
              },
              {
                "name": "/scene",
                "description": null,
                "path": "plugins/gd/commands/scene.md",
                "frontmatter": {
                  "allowed_tools": [
                    "AskUserQuestion",
                    "mcp__godot__*",
                    "Write",
                    "Read"
                  ]
                },
                "content": "Create common scene templates for 2D games, including characters, enemies, levels, and more.\n\n# Process\n\n1. **Ask the user what type of scene they want to create:**\n\nUse AskUserQuestion with the following options:\n\nQuestion: \"What type of scene would you like to create?\"\nHeader: \"Scene Type\"\nMulti-select: false\nOptions:\n- 2D Player Character: Platformer character with movement and collision\n- 2D Enemy: Basic enemy with AI placeholder\n- 2D Level: Level scene with tilemap and camera\n- 2D Projectile: Bullet/projectile with movement\n- Collectible: Coin/item pickup\n- Interactable Object: Chest, door, switch, etc.\n\nQuestion 2: \"Where should the scene be created?\"\nHeader: \"Location\"\nMulti-select: false\nOptions:\n- scenes/characters/: For player and NPCs\n- scenes/enemies/: For enemy characters\n- scenes/levels/: For level scenes\n- scenes/objects/: For items and interactables\n- Custom path: I'll specify the path\n\n2. **If Custom path selected, ask for the specific path and scene name**\n\n3. **Create the appropriate template based on selection**\n\n## 2D Player Character Template\n\nCreate scene with:\n```\nCharacterBody2D (root)\nâ”œâ”€â”€ Sprite2D (sprite)\nâ”œâ”€â”€ CollisionShape2D (collision)\nâ”œâ”€â”€ AnimationPlayer (animation_player)\nâ””â”€â”€ Camera2D (camera)\n```\n\nNode details:\n- CharacterBody2D: motion_mode = MOTION_MODE_GROUNDED\n- Sprite2D: centered = true, texture = placeholder (32x32 white rect)\n- CollisionShape2D: shape = RectangleShape2D (16x32)\n- Camera2D: enabled = true, position_smoothing_enabled = true\n\nCreate accompanying script:\n```gdscript\nextends CharacterBody2D\n\n# Movement parameters\n@export var speed: float = 200.0\n@export var jump_velocity: float = -400.0\n@export var acceleration: float = 800.0\n@export var friction: float = 1000.0\n\n# Get the gravity from the project settings\nvar gravity = ProjectSettings.get_setting(\"physics/2d/default_gravity\")\n\n@onready var sprite = $Sprite2D\n@onready var animation_player = $AnimationPlayer\n\nfunc _physics_process(delta):\n\t# Add gravity\n\tif not is_on_floor():\n\t\tvelocity.y += gravity * delta\n\n\t# Handle jump\n\tif Input.is_action_just_pressed(\"ui_accept\") and is_on_floor():\n\t\tvelocity.y = jump_velocity\n\n\t# Get input direction\n\tvar direction = Input.get_axis(\"ui_left\", \"ui_right\")\n\n\t# Apply movement\n\tif direction != 0:\n\t\tvelocity.x = move_toward(velocity.x, direction * speed, acceleration * delta)\n\n\t\t# Flip sprite based on direction\n\t\tsprite.flip_h = direction < 0\n\n\telse:\n\t\t# Apply friction when no input\n\t\tvelocity.x = move_toward(velocity.x, 0, friction * delta)\n\n\tmove_and_slide()\n\n\t# Animation logic (requires animations to be set up)\n\t_update_animation()\n\nfunc _update_animation():\n\tif not animation_player:\n\t\treturn\n\n\t# TODO: Create animations in AnimationPlayer:\n\t# - \"idle\": Standing still\n\t# - \"run\": Running\n\t# - \"jump\": Jumping up\n\t# - \"fall\": Falling down\n\n\t# Example animation logic:\n\t# if not is_on_floor():\n\t#     if velocity.y < 0:\n\t#         animation_player.play(\"jump\")\n\t#     else:\n\t#         animation_player.play(\"fall\")\n\t# elif abs(velocity.x) > 10:\n\t#     animation_player.play(\"run\")\n\t# else:\n\t#     animation_player.play(\"idle\")\n\tpass\n```\n\n## 2D Enemy Template\n\nCreate scene with:\n```\nCharacterBody2D (root)\nâ”œâ”€â”€ Sprite2D (sprite)\nâ”œâ”€â”€ CollisionShape2D (collision)\nâ”œâ”€â”€ Area2D (detection_area)\nâ”‚   â””â”€â”€ CollisionShape2D (detection_collision)\nâ”œâ”€â”€ AnimationPlayer (animation_player)\nâ””â”€â”€ Timer (patrol_timer)\n```\n\nNode details:\n- CharacterBody2D: motion_mode = MOTION_MODE_GROUNDED\n- Sprite2D: centered = true, modulate = Color(1, 0.5, 0.5) (reddish tint)\n- CollisionShape2D: shape = RectangleShape2D (16x24)\n- Area2D/CollisionShape2D: shape = CircleShape2D (radius = 100) for player detection\n- Timer: wait_time = 2.0, one_shot = false\n\nCreate accompanying script:\n```gdscript\nextends CharacterBody2D\n\nenum State { IDLE, PATROL, CHASE, ATTACK }\n\n# Movement parameters\n@export var patrol_speed: float = 50.0\n@export var chase_speed: float = 150.0\n@export var detection_range: float = 100.0\n@export var attack_range: float = 30.0\n@export var health: int = 100\n\nvar current_state: State = State.IDLE\nvar player: Node2D = null\nvar patrol_direction: int = 1\nvar gravity = ProjectSettings.get_setting(\"physics/2d/default_gravity\")\n\n@onready var sprite = $Sprite2D\n@onready var detection_area = $detection_area\n@onready var patrol_timer = $patrol_timer\n\nfunc _ready():\n\t# Connect area signals for player detection\n\tdetection_area.body_entered.connect(_on_detection_area_entered)\n\tdetection_area.body_exited.connect(_on_detection_area_exited)\n\n\t# Connect patrol timer\n\tpatrol_timer.timeout.connect(_on_patrol_timer_timeout)\n\tpatrol_timer.start()\n\n\tcurrent_state = State.PATROL\n\nfunc _physics_process(delta):\n\t# Apply gravity\n\tif not is_on_floor():\n\t\tvelocity.y += gravity * delta\n\n\t# State machine\n\tmatch current_state:\n\t\tState.IDLE:\n\t\t\tvelocity.x = 0\n\n\t\tState.PATROL:\n\t\t\tvelocity.x = patrol_direction * patrol_speed\n\t\t\tsprite.flip_h = patrol_direction < 0\n\n\t\t\t# Turn around at ledges or walls\n\t\t\tif is_on_wall() or not _check_floor_ahead():\n\t\t\t\tpatrol_direction *= -1\n\n\t\tState.CHASE:\n\t\t\tif player:\n\t\t\t\tvar direction = sign(player.global_position.x - global_position.x)\n\t\t\t\tvelocity.x = direction * chase_speed\n\t\t\t\tsprite.flip_h = direction < 0\n\n\t\t\t\t# Check if close enough to attack\n\t\t\t\tvar distance = global_position.distance_to(player.global_position)\n\t\t\t\tif distance < attack_range:\n\t\t\t\t\tcurrent_state = State.ATTACK\n\t\t\telse:\n\t\t\t\tcurrent_state = State.PATROL\n\n\t\tState.ATTACK:\n\t\t\tvelocity.x = 0\n\t\t\t# TODO: Implement attack logic\n\t\t\t# For now, just return to chase after a moment\n\t\t\tawait get_tree().create_timer(0.5).timeout\n\t\t\tcurrent_state = State.CHASE\n\n\tmove_and_slide()\n\nfunc _check_floor_ahead() -> bool:\n\t# Raycast to check if there's floor ahead\n\tvar space_state = get_world_2d().direct_space_state\n\tvar query = PhysicsRayQueryParameters2D.create(\n\t\tglobal_position,\n\t\tglobal_position + Vector2(patrol_direction * 20, 30)\n\t)\n\tvar result = space_state.intersect_ray(query)\n\treturn result.size() > 0\n\nfunc _on_detection_area_entered(body):\n\tif body.is_in_group(\"player\"):\n\t\tplayer = body\n\t\tcurrent_state = State.CHASE\n\nfunc _on_detection_area_exited(body):\n\tif body == player:\n\t\tplayer = null\n\t\tcurrent_state = State.PATROL\n\nfunc _on_patrol_timer_timeout():\n\tif current_state == State.IDLE or current_state == State.PATROL:\n\t\tpatrol_direction *= -1\n\nfunc take_damage(amount: int):\n\thealth -= amount\n\t# TODO: Add damage flash/animation\n\n\tif health <= 0:\n\t\tdie()\n\nfunc die():\n\t# TODO: Add death animation\n\tqueue_free()\n```\n\n## 2D Level Template\n\nCreate scene with:\n```\nNode2D (root)\nâ”œâ”€â”€ TileMap (tilemap)\nâ”œâ”€â”€ Node2D (spawn_points)\nâ”‚   â””â”€â”€ Marker2D (player_spawn)\nâ”œâ”€â”€ Node2D (enemies)\nâ”œâ”€â”€ Node2D (collectibles)\nâ”œâ”€â”€ ParallaxBackground (background)\nâ”‚   â””â”€â”€ ParallaxLayer (layer1)\nâ”‚       â””â”€â”€ Sprite2D (bg_sprite)\nâ””â”€â”€ Camera2D (camera)\n```\n\nNode details:\n- TileMap: tile_set = null (needs to be set by user), layer 0 = \"Ground\", layer 1 = \"Walls\"\n- Camera2D: enabled = true, limit_left = 0, limit_top = 0\n\nCreate accompanying script:\n```gdscript\nextends Node2D\n\n@onready var tilemap = $TileMap\n@onready var player_spawn = $spawn_points/player_spawn\n@onready var camera = $Camera2D\n\n# Preload player scene\nconst PLAYER_SCENE = preload(\"res://scenes/characters/player.tscn\")\n\nfunc _ready():\n\t# Spawn player\n\tspawn_player()\n\n\t# Set camera limits based on level bounds\n\t_setup_camera_limits()\n\nfunc spawn_player():\n\t# Instance and add player\n\tvar player = PLAYER_SCENE.instantiate()\n\tplayer.global_position = player_spawn.global_position\n\tadd_child(player)\n\n\t# Make camera follow player\n\tcamera.enabled = false  # Disable level camera\n\t# Player should have its own camera\n\nfunc _setup_camera_limits():\n\t# Get tilemap bounds\n\tvar used_rect = tilemap.get_used_rect()\n\tvar tile_size = tilemap.tile_set.tile_size if tilemap.tile_set else Vector2(16, 16)\n\n\t# Set camera limits to level bounds\n\tcamera.limit_left = used_rect.position.x * tile_size.x\n\tcamera.limit_top = used_rect.position.y * tile_size.y\n\tcamera.limit_right = used_rect.end.x * tile_size.x\n\tcamera.limit_bottom = used_rect.end.y * tile_size.y\n\n# Helper function to spawn enemies at runtime\nfunc spawn_enemy(enemy_scene: PackedScene, position: Vector2):\n\tvar enemy = enemy_scene.instantiate()\n\tenemy.global_position = position\n\t$enemies.add_child(enemy)\n\n# Helper function to spawn collectibles\nfunc spawn_collectible(collectible_scene: PackedScene, position: Vector2):\n\tvar collectible = collectible_scene.instantiate()\n\tcollectible.global_position = position\n\t$collectibles.add_child(collectible)\n```\n\n## 2D Projectile Template\n\nCreate scene with:\n```\nArea2D (root)\nâ”œâ”€â”€ Sprite2D (sprite)\nâ”œâ”€â”€ CollisionShape2D (collision)\nâ””â”€â”€ Timer (lifetime_timer)\n```\n\nNode details:\n- Sprite2D: centered = true, modulate = Color(1, 1, 0) (yellow)\n- CollisionShape2D: shape = CircleShape2D (radius = 4)\n- Timer: wait_time = 5.0, one_shot = true, autostart = true\n\nCreate accompanying script:\n```gdscript\nextends Area2D\n\n@export var speed: float = 300.0\n@export var damage: int = 10\n@export var lifetime: float = 5.0\n\nvar direction: Vector2 = Vector2.RIGHT\n\n@onready var sprite = $Sprite2D\n@onready var lifetime_timer = $lifetime_timer\n\nfunc _ready():\n\t# Connect signals\n\tbody_entered.connect(_on_body_entered)\n\tarea_entered.connect(_on_area_entered)\n\tlifetime_timer.timeout.connect(_on_lifetime_timeout)\n\n\t# Set lifetime\n\tlifetime_timer.wait_time = lifetime\n\nfunc _physics_process(delta):\n\t# Move in direction\n\tposition += direction.normalized() * speed * delta\n\nfunc set_direction(new_direction: Vector2):\n\tdirection = new_direction.normalized()\n\n\t# Rotate sprite to face direction\n\trotation = direction.angle()\n\nfunc _on_body_entered(body):\n\t# Hit something solid\n\tif body.has_method(\"take_damage\"):\n\t\tbody.take_damage(damage)\n\n\t# Create hit effect\n\t_create_hit_effect()\n\n\tqueue_free()\n\nfunc _on_area_entered(area):\n\t# Hit another area (enemy hitbox, etc.)\n\tif area.get_parent().has_method(\"take_damage\"):\n\t\tarea.get_parent().take_damage(damage)\n\n\t# Create hit effect\n\t_create_hit_effect()\n\n\tqueue_free()\n\nfunc _on_lifetime_timeout():\n\t# Despawn after lifetime expires\n\tqueue_free()\n\nfunc _create_hit_effect():\n\t# TODO: Spawn particle effect or animation\n\tpass\n```\n\n## Collectible Template\n\nCreate scene with:\n```\nArea2D (root)\nâ”œâ”€â”€ Sprite2D (sprite)\nâ”œâ”€â”€ CollisionShape2D (collision)\nâ”œâ”€â”€ AnimationPlayer (animation_player)\nâ””â”€â”€ AudioStreamPlayer2D (pickup_sound)\n```\n\nNode details:\n- Sprite2D: centered = true, modulate = Color(1, 0.8, 0) (gold color)\n- CollisionShape2D: shape = CircleShape2D (radius = 8)\n\nCreate accompanying script:\n```gdscript\nextends Area2D\n\n@export var collect_value: int = 1\n@export var float_amplitude: float = 5.0\n@export var float_speed: float = 2.0\n\nvar start_y: float\nvar time: float = 0.0\n\n@onready var sprite = $Sprite2D\n@onready var animation_player = $AnimationPlayer\n@onready var pickup_sound = $pickup_sound\n\nfunc _ready():\n\t# Connect collection signal\n\tbody_entered.connect(_on_body_entered)\n\n\t# Store starting position for floating animation\n\tstart_y = position.y\n\n\t# Random offset for variety\n\ttime = randf() * TAU\n\nfunc _process(delta):\n\t# Floating animation\n\ttime += delta * float_speed\n\tposition.y = start_y + sin(time) * float_amplitude\n\n\t# Rotate for visual interest\n\tsprite.rotation += delta * 2.0\n\nfunc _on_body_entered(body):\n\tif body.is_in_group(\"player\"):\n\t\t# Notify player of collection\n\t\tif body.has_method(\"collect_item\"):\n\t\t\tbody.collect_item(collect_value)\n\n\t\t# Play pickup sound\n\t\tif pickup_sound and pickup_sound.stream:\n\t\t\t# Play sound then destroy\n\t\t\tpickup_sound.play()\n\n\t\t\t# Hide visuals but keep node alive for sound\n\t\t\tsprite.visible = false\n\t\t\t$CollisionShape2D.set_deferred(\"disabled\", true)\n\n\t\t\tawait pickup_sound.finished\n\n\t\tqueue_free()\n```\n\n## Interactable Object Template\n\nCreate scene with:\n```\nStaticBody2D (root)\nâ”œâ”€â”€ Sprite2D (sprite)\nâ”œâ”€â”€ CollisionShape2D (collision)\nâ”œâ”€â”€ Area2D (interaction_area)\nâ”‚   â””â”€â”€ CollisionShape2D (interaction_collision)\nâ””â”€â”€ Label (prompt_label)\n```\n\nNode details:\n- Sprite2D: centered = true\n- CollisionShape2D: shape = RectangleShape2D (32x32)\n- Area2D/CollisionShape2D: shape = RectangleShape2D (48x48) for interaction detection\n- Label: text = \"Press E\", horizontal_alignment = CENTER, visible = false\n\nCreate accompanying script:\n```gdscript\nextends StaticBody2D\n\nsignal interacted\n\n@export var interaction_text: String = \"Press E\"\n@export var can_interact_multiple_times: bool = false\n\nvar player_nearby: bool = false\nvar has_been_used: bool = false\n\n@onready var sprite = $Sprite2D\n@onready var interaction_area = $interaction_area\n@onready var prompt_label = $prompt_label\n\nfunc _ready():\n\t# Connect area signals\n\tinteraction_area.body_entered.connect(_on_interaction_area_entered)\n\tinteraction_area.body_exited.connect(_on_interaction_area_exited)\n\n\t# Set prompt text\n\tprompt_label.text = interaction_text\n\n\t# Position prompt above object\n\tprompt_label.position.y = -40\n\nfunc _process(_delta):\n\tif player_nearby and Input.is_action_just_pressed(\"ui_accept\"):\n\t\tif not has_been_used or can_interact_multiple_times:\n\t\t\t_interact()\n\nfunc _on_interaction_area_entered(body):\n\tif body.is_in_group(\"player\"):\n\t\tplayer_nearby = true\n\n\t\t# Show prompt if not used or can use multiple times\n\t\tif not has_been_used or can_interact_multiple_times:\n\t\t\tprompt_label.visible = true\n\nfunc _on_interaction_area_exited(body):\n\tif body.is_in_group(\"player\"):\n\t\tplayer_nearby = false\n\t\tprompt_label.visible = false\n\nfunc _interact():\n\t# Mark as used\n\thas_been_used = true\n\n\t# Hide prompt if can't be used again\n\tif not can_interact_multiple_times:\n\t\tprompt_label.visible = false\n\n\t# Emit signal for other systems to respond\n\tinteracted.emit()\n\n\t# TODO: Implement specific interaction logic\n\t# Examples:\n\t# - Open a door\n\t# - Play an animation\n\t# - Give an item\n\t# - Show dialogue\n\t# - Toggle a mechanism\n\n\tprint(\"Interacted with \", name)\n```\n\n# After Creating Scene\n\nAfter creating the selected scene:\n\n1. Inform the user of the files created:\n   - Scene file location\n   - Script file location\n\n2. Provide customization tips:\n   - \"The [scene name] has been created at [path]\"\n   - \"To customize this scene:\"\n     - Replace the placeholder sprite with your own artwork\n     - Adjust the exported variables in the Inspector\n     - Add animations in the AnimationPlayer\n     - [Template-specific tips]\n\n3. Provide usage instructions:\n   - For characters: \"Add this to your level by dragging into the scene or instantiating in code\"\n   - For levels: \"Set this as your main scene in Project Settings or change to it with get_tree().change_scene_to_file()\"\n   - For projectiles: \"Instance this in your player/enemy script when firing\"\n   - For collectibles/interactables: \"Place these in your level scene as children\"\n\n4. Offer next steps:\n   - \"Would you like me to:\"\n     - Create related scenes (e.g., \"create a projectile for this character?\")\n     - Add more features (e.g., \"add a dash ability?\", \"add more enemy states?\")\n     - Set up animations (if AnimationPlayer exists)\n     - Create a test level to try it out"
              },
              {
                "name": "/setup",
                "description": "Validate Godot environment and configure MCP server",
                "path": "plugins/gd/commands/setup.md",
                "frontmatter": {
                  "description": "Validate Godot environment and configure MCP server",
                  "allowed-tools": [
                    "Read",
                    "Write",
                    "Bash(ls:*,which:*,test:*)"
                  ]
                },
                "content": "You are helping set up the Godot development environment for this project.\n\nRun the setup script to validate the environment and configure the MCP server:\n\n!bash ${CLAUDE_PLUGIN_ROOT}/scripts/setup-mcp.sh\n\nThe script will:\n1. Check if Godot is installed at common locations\n2. Verify the Godot MCP server is built and ready at ~/projects/godot-mcp\n3. Create .mcp.json from the template with detected paths\n4. Report any issues and provide guidance\n\nAfter running the script:\n- If successful, inform the user that the environment is ready and they can now use `/gd:init-game` to start planning their game\n- If there are issues, explain what needs to be fixed and how to resolve them\n- Remind the user to restart Claude Code for the MCP server changes to take effect"
              },
              {
                "name": "/stop",
                "description": "Stop the running Godot game",
                "path": "plugins/gd/commands/stop.md",
                "frontmatter": {
                  "description": "Stop the running Godot game",
                  "allowed-tools": [
                    "mcp__godot__stop_project"
                  ]
                },
                "content": "Stop the currently running Godot project.\n\n1. Use mcp__godot__stop_project to stop the game\n2. Display any final output or errors\n3. Confirm to the user that the game has been stopped"
              },
              {
                "name": "/ui-template",
                "description": null,
                "path": "plugins/gd/commands/ui-template.md",
                "frontmatter": {
                  "allowed_tools": [
                    "AskUserQuestion",
                    "mcp__godot__*",
                    "Write",
                    "Read",
                    "Skill"
                  ]
                },
                "content": "Create a quick UI template for common game UI screens.\n\n# Process\n\n1. **Ask the user what type of UI they want to create:**\n\nUse AskUserQuestion with the following options:\n\nQuestion: \"What type of UI screen would you like to create?\"\nHeader: \"UI Type\"\nMulti-select: false\nOptions:\n- Main Menu: Title screen with New Game, Continue, Settings, Quit\n- Pause Menu: In-game pause screen with Resume, Settings, Main Menu, Quit\n- Settings Menu: Graphics, audio, and gameplay settings with tabs\n- Game HUD: Health bar, score, and interactive buttons\n- Inventory: Grid-based item management system\n- Dialogue Box: Character dialogue with portrait and choices\n- Confirmation Dialog: Yes/No popup dialog\n\nQuestion 2: \"Where should the UI scene be created?\"\nHeader: \"Location\"\nMulti-select: false\nOptions:\n- scenes/ui/menus/: For menu screens\n- scenes/ui/hud/: For in-game HUD elements\n- scenes/ui/dialogs/: For popup dialogs\n- Custom path: I'll specify the path\n\n2. **If Custom path selected, ask for the specific path**\n\n3. **Create the appropriate template based on selection**\n\n## Main Menu Template\n\nCreate scene with:\n```\nCanvasLayer (root)\nâ”œâ”€â”€ ColorRect (background - full rect anchors)\nâ”œâ”€â”€ MarginContainer (full rect, margins: 40px all sides)\nâ”‚   â””â”€â”€ VBoxContainer (alignment: center)\nâ”‚       â”œâ”€â”€ Control (spacer - custom_minimum_size.y = 100)\nâ”‚       â”œâ”€â”€ Label (title - custom font size 48, center aligned)\nâ”‚       â”œâ”€â”€ Control (spacer - custom_minimum_size.y = 50)\nâ”‚       â”œâ”€â”€ VBoxContainer (button_container - separation: 10)\nâ”‚       â”‚   â”œâ”€â”€ Button (new_game_btn - text: \"New Game\", custom_minimum_size.x = 200)\nâ”‚       â”‚   â”œâ”€â”€ Button (continue_btn - text: \"Continue\", custom_minimum_size.x = 200)\nâ”‚       â”‚   â”œâ”€â”€ Button (settings_btn - text: \"Settings\", custom_minimum_size.x = 200)\nâ”‚       â”‚   â””â”€â”€ Button (quit_btn - text: \"Quit\", custom_minimum_size.x = 200)\nâ”‚       â””â”€â”€ Control (spacer with size_flags_vertical = 3)\n```\n\nCreate accompanying script:\n```gdscript\nextends CanvasLayer\n\n@onready var new_game_btn = $MarginContainer/VBoxContainer/VBoxContainer/new_game_btn\n@onready var continue_btn = $MarginContainer/VBoxContainer/VBoxContainer/continue_btn\n@onready var settings_btn = $MarginContainer/VBoxContainer/VBoxContainer/settings_btn\n@onready var quit_btn = $MarginContainer/VBoxContainer/VBoxContainer/quit_btn\n\nfunc _ready():\n\t# Connect button signals\n\tnew_game_btn.pressed.connect(_on_new_game_pressed)\n\tcontinue_btn.pressed.connect(_on_continue_pressed)\n\tsettings_btn.pressed.connect(_on_settings_pressed)\n\tquit_btn.pressed.connect(_on_quit_pressed)\n\n\t# Set focus for gamepad support\n\tnew_game_btn.grab_focus()\n\n\t# Check if save exists for continue button\n\tcontinue_btn.disabled = not _has_save_file()\n\n\t# Fade in animation\n\tmodulate.a = 0\n\tvar tween = create_tween()\n\ttween.tween_property(self, \"modulate:a\", 1.0, 0.5)\n\nfunc _has_save_file() -> bool:\n\t# TODO: Implement save file checking\n\treturn FileAccess.file_exists(\"user://savegame.save\")\n\nfunc _on_new_game_pressed():\n\t# TODO: Implement new game logic\n\tget_tree().change_scene_to_file(\"res://scenes/main_game.tscn\")\n\nfunc _on_continue_pressed():\n\t# TODO: Implement load game logic\n\tpass\n\nfunc _on_settings_pressed():\n\t# TODO: Open settings menu\n\tget_tree().change_scene_to_file(\"res://scenes/ui/menus/settings_menu.tscn\")\n\nfunc _on_quit_pressed():\n\tget_tree().quit()\n```\n\n## Pause Menu Template\n\nCreate scene with:\n```\nCanvasLayer (root - layer: 100)\nâ”œâ”€â”€ ColorRect (overlay - full rect, color: #00000080, mouse_filter: STOP)\nâ”œâ”€â”€ CenterContainer (full rect anchors)\nâ”‚   â””â”€â”€ PanelContainer (custom_minimum_size: 400x500)\nâ”‚       â””â”€â”€ MarginContainer (margins: 20px all sides)\nâ”‚           â””â”€â”€ VBoxContainer (separation: 15)\nâ”‚               â”œâ”€â”€ Label (title - text: \"PAUSED\", align: center, font size: 36)\nâ”‚               â”œâ”€â”€ Control (spacer - custom_minimum_size.y = 20)\nâ”‚               â”œâ”€â”€ Button (resume_btn - text: \"Resume\")\nâ”‚               â”œâ”€â”€ Button (settings_btn - text: \"Settings\")\nâ”‚               â”œâ”€â”€ Button (main_menu_btn - text: \"Main Menu\")\nâ”‚               â””â”€â”€ Button (quit_btn - text: \"Quit\")\n```\n\nCreate accompanying script:\n```gdscript\nextends CanvasLayer\n\n@onready var resume_btn = $CenterContainer/PanelContainer/MarginContainer/VBoxContainer/resume_btn\n@onready var settings_btn = $CenterContainer/PanelContainer/MarginContainer/VBoxContainer/settings_btn\n@onready var main_menu_btn = $CenterContainer/PanelContainer/MarginContainer/VBoxContainer/main_menu_btn\n@onready var quit_btn = $CenterContainer/PanelContainer/MarginContainer/VBoxContainer/quit_btn\n\nfunc _ready():\n\t# Connect signals\n\tresume_btn.pressed.connect(_on_resume_pressed)\n\tsettings_btn.pressed.connect(_on_settings_pressed)\n\tmain_menu_btn.pressed.connect(_on_main_menu_pressed)\n\tquit_btn.pressed.connect(_on_quit_pressed)\n\n\t# Pause the game\n\tget_tree().paused = true\n\n\t# Set focus\n\tresume_btn.grab_focus()\n\n\t# Pop-up animation\n\t$CenterContainer.scale = Vector2(0.8, 0.8)\n\t$CenterContainer.modulate.a = 0\n\tvar tween = create_tween()\n\ttween.tween_property($CenterContainer, \"scale\", Vector2.ONE, 0.3).set_trans(Tween.TRANS_BACK).set_ease(Tween.EASE_OUT)\n\ttween.parallel().tween_property($CenterContainer, \"modulate:a\", 1.0, 0.3)\n\nfunc _on_resume_pressed():\n\t_close_menu()\n\nfunc _on_settings_pressed():\n\t# TODO: Open settings submenu\n\tpass\n\nfunc _on_main_menu_pressed():\n\tget_tree().paused = false\n\tget_tree().change_scene_to_file(\"res://scenes/ui/menus/main_menu.tscn\")\n\nfunc _on_quit_pressed():\n\tget_tree().quit()\n\nfunc _close_menu():\n\tget_tree().paused = false\n\tqueue_free()\n\nfunc _input(event):\n\tif event.is_action_pressed(\"ui_cancel\"):\n\t\t_close_menu()\n```\n\n## Settings Menu Template\n\nCreate scene with:\n```\nCanvasLayer (root)\nâ”œâ”€â”€ ColorRect (background - full rect)\nâ”œâ”€â”€ MarginContainer (full rect, margins: 40px all sides)\nâ”‚   â””â”€â”€ VBoxContainer (separation: 20)\nâ”‚       â”œâ”€â”€ Label (title - text: \"Settings\", font size: 36)\nâ”‚       â”œâ”€â”€ TabContainer (size_flags_vertical: 3)\nâ”‚       â”‚   â”œâ”€â”€ VBoxContainer (name: \"Graphics\", separation: 10)\nâ”‚       â”‚   â”‚   â”œâ”€â”€ HBoxContainer\nâ”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Label (text: \"Resolution:\")\nâ”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Control (size_flags_horizontal: 3)\nâ”‚       â”‚   â”‚   â”‚   â””â”€â”€ OptionButton (resolution_option)\nâ”‚       â”‚   â”‚   â”œâ”€â”€ HBoxContainer\nâ”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Label (text: \"Fullscreen:\")\nâ”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Control (size_flags_horizontal: 3)\nâ”‚       â”‚   â”‚   â”‚   â””â”€â”€ CheckBox (fullscreen_check)\nâ”‚       â”‚   â”‚   â””â”€â”€ HBoxContainer\nâ”‚       â”‚   â”‚       â”œâ”€â”€ Label (text: \"VSync:\")\nâ”‚       â”‚   â”‚       â”œâ”€â”€ Control (size_flags_horizontal: 3)\nâ”‚       â”‚   â”‚       â””â”€â”€ CheckBox (vsync_check)\nâ”‚       â”‚   â””â”€â”€ VBoxContainer (name: \"Audio\", separation: 10)\nâ”‚       â”‚       â”œâ”€â”€ HBoxContainer\nâ”‚       â”‚       â”‚   â”œâ”€â”€ Label (text: \"Master Volume:\")\nâ”‚       â”‚       â”‚   â””â”€â”€ HSlider (master_slider - min: 0, max: 100, value: 100)\nâ”‚       â”‚       â”œâ”€â”€ HBoxContainer\nâ”‚       â”‚       â”‚   â”œâ”€â”€ Label (text: \"Music Volume:\")\nâ”‚       â”‚       â”‚   â””â”€â”€ HSlider (music_slider - min: 0, max: 100, value: 100)\nâ”‚       â”‚       â””â”€â”€ HBoxContainer\nâ”‚       â”‚           â”œâ”€â”€ Label (text: \"SFX Volume:\")\nâ”‚       â”‚           â””â”€â”€ HSlider (sfx_slider - min: 0, max: 100, value: 100)\nâ”‚       â””â”€â”€ HBoxContainer (separation: 10)\nâ”‚           â”œâ”€â”€ Control (size_flags_horizontal: 3)\nâ”‚           â”œâ”€â”€ Button (apply_btn - text: \"Apply\")\nâ”‚           â””â”€â”€ Button (back_btn - text: \"Back\")\n```\n\nCreate accompanying script:\n```gdscript\nextends CanvasLayer\n\n# Graphics tab\n@onready var resolution_option = $MarginContainer/VBoxContainer/TabContainer/Graphics/HBoxContainer/resolution_option\n@onready var fullscreen_check = $MarginContainer/VBoxContainer/TabContainer/Graphics/HBoxContainer2/fullscreen_check\n@onready var vsync_check = $MarginContainer/VBoxContainer/TabContainer/Graphics/HBoxContainer3/vsync_check\n\n# Audio tab\n@onready var master_slider = $MarginContainer/VBoxContainer/TabContainer/Audio/HBoxContainer/master_slider\n@onready var music_slider = $MarginContainer/VBoxContainer/TabContainer/Audio/HBoxContainer2/music_slider\n@onready var sfx_slider = $MarginContainer/VBoxContainer/TabContainer/Audio/HBoxContainer3/sfx_slider\n\n# Buttons\n@onready var apply_btn = $MarginContainer/VBoxContainer/HBoxContainer/apply_btn\n@onready var back_btn = $MarginContainer/VBoxContainer/HBoxContainer/back_btn\n\nfunc _ready():\n\t# Populate resolution options\n\tresolution_option.add_item(\"1920x1080\")\n\tresolution_option.add_item(\"1280x720\")\n\tresolution_option.add_item(\"1024x768\")\n\n\t# Load current settings\n\t_load_settings()\n\n\t# Connect signals\n\tapply_btn.pressed.connect(_on_apply_pressed)\n\tback_btn.pressed.connect(_on_back_pressed)\n\n\tmaster_slider.value_changed.connect(_on_master_volume_changed)\n\tmusic_slider.value_changed.connect(_on_music_volume_changed)\n\tsfx_slider.value_changed.connect(_on_sfx_volume_changed)\n\nfunc _load_settings():\n\t# TODO: Load from config file\n\tfullscreen_check.button_pressed = (DisplayServer.window_get_mode() == DisplayServer.WINDOW_MODE_FULLSCREEN)\n\tvsync_check.button_pressed = (DisplayServer.window_get_vsync_mode() != DisplayServer.VSYNC_DISABLED)\n\nfunc _on_apply_pressed():\n\t_save_settings()\n\nfunc _save_settings():\n\t# Graphics settings\n\tif fullscreen_check.button_pressed:\n\t\tDisplayServer.window_set_mode(DisplayServer.WINDOW_MODE_FULLSCREEN)\n\telse:\n\t\tDisplayServer.window_set_mode(DisplayServer.WINDOW_MODE_WINDOWED)\n\n\tif vsync_check.button_pressed:\n\t\tDisplayServer.window_set_vsync_mode(DisplayServer.VSYNC_ENABLED)\n\telse:\n\t\tDisplayServer.window_set_vsync_mode(DisplayServer.VSYNC_DISABLED)\n\n\t# TODO: Save to config file\n\t# TODO: Apply resolution\n\nfunc _on_back_pressed():\n\tget_tree().change_scene_to_file(\"res://scenes/ui/menus/main_menu.tscn\")\n\nfunc _on_master_volume_changed(value: float):\n\t# TODO: Apply to audio bus\n\tAudioServer.set_bus_volume_db(AudioServer.get_bus_index(\"Master\"), linear_to_db(value / 100.0))\n\nfunc _on_music_volume_changed(value: float):\n\t# TODO: Apply to audio bus\n\tpass\n\nfunc _on_sfx_volume_changed(value: float):\n\t# TODO: Apply to audio bus\n\tpass\n```\n\n## Game HUD Template\n\nCreate scene with:\n```\nCanvasLayer (root - layer: 10)\nâ”œâ”€â”€ MarginContainer (full rect, margins: 20px all sides)\nâ”‚   â””â”€â”€ VBoxContainer\nâ”‚       â”œâ”€â”€ HBoxContainer (top_bar - separation: 10)\nâ”‚       â”‚   â”œâ”€â”€ TextureRect (health_icon - expand_mode: keep_size, custom_minimum_size: 32x32)\nâ”‚       â”‚   â”œâ”€â”€ ProgressBar (health_bar - custom_minimum_size: 200x24)\nâ”‚       â”‚   â”œâ”€â”€ Control (spacer - size_flags_horizontal: 3)\nâ”‚       â”‚   â”œâ”€â”€ Label (score_label - text: \"Score: 0\")\nâ”‚       â”‚   â””â”€â”€ TextureRect (coin_icon - expand_mode: keep_size, custom_minimum_size: 24x24)\nâ”‚       â”œâ”€â”€ Control (middle_spacer - size_flags_vertical: 3)\nâ”‚       â””â”€â”€ HBoxContainer (bottom_bar - separation: 10)\nâ”‚           â”œâ”€â”€ Control (spacer - size_flags_horizontal: 3)\nâ”‚           â”œâ”€â”€ TextureButton (inventory_btn - custom_minimum_size: 48x48)\nâ”‚           â”œâ”€â”€ TextureButton (map_btn - custom_minimum_size: 48x48)\nâ”‚           â””â”€â”€ TextureButton (pause_btn - custom_minimum_size: 48x48)\n```\n\nCreate accompanying script:\n```gdscript\nextends CanvasLayer\n\n@onready var health_bar = $MarginContainer/VBoxContainer/HBoxContainer/health_bar\n@onready var score_label = $MarginContainer/VBoxContainer/HBoxContainer/score_label\n@onready var inventory_btn = $MarginContainer/VBoxContainer/HBoxContainer2/inventory_btn\n@onready var map_btn = $MarginContainer/VBoxContainer/HBoxContainer2/map_btn\n@onready var pause_btn = $MarginContainer/VBoxContainer/HBoxContainer2/pause_btn\n\nvar current_score: int = 0\n\nfunc _ready():\n\t# Connect button signals\n\tinventory_btn.pressed.connect(_on_inventory_pressed)\n\tmap_btn.pressed.connect(_on_map_pressed)\n\tpause_btn.pressed.connect(_on_pause_pressed)\n\n\t# Initialize health bar\n\thealth_bar.max_value = 100\n\thealth_bar.value = 100\n\nfunc set_health(value: float):\n\tvar tween = create_tween()\n\ttween.tween_property(health_bar, \"value\", value, 0.3)\n\n\t# Change color based on health\n\tif value < 30:\n\t\thealth_bar.modulate = Color.RED\n\telif value < 60:\n\t\thealth_bar.modulate = Color.YELLOW\n\telse:\n\t\thealth_bar.modulate = Color.GREEN\n\nfunc add_score(amount: int):\n\tcurrent_score += amount\n\tscore_label.text = \"Score: %d\" % current_score\n\n\t# Bounce animation\n\tvar tween = create_tween()\n\ttween.tween_property(score_label, \"scale\", Vector2(1.2, 1.2), 0.1)\n\ttween.tween_property(score_label, \"scale\", Vector2.ONE, 0.1)\n\nfunc _on_inventory_pressed():\n\t# TODO: Open inventory\n\tpass\n\nfunc _on_map_pressed():\n\t# TODO: Open map\n\tpass\n\nfunc _on_pause_pressed():\n\t# Open pause menu\n\tvar pause_scene = load(\"res://scenes/ui/menus/pause_menu.tscn\")\n\tget_tree().root.add_child(pause_scene.instantiate())\n```\n\n## Inventory Template\n\nCreate scene with:\n```\nCanvasLayer (root - layer: 50)\nâ”œâ”€â”€ ColorRect (overlay - full rect, color: #00000080)\nâ”œâ”€â”€ CenterContainer (full rect)\nâ”‚   â””â”€â”€ PanelContainer (custom_minimum_size: 800x600)\nâ”‚       â””â”€â”€ MarginContainer (margins: 20px all sides)\nâ”‚           â””â”€â”€ VBoxContainer (separation: 15)\nâ”‚               â”œâ”€â”€ Label (title - text: \"Inventory\", font size: 32)\nâ”‚               â”œâ”€â”€ HSeparator\nâ”‚               â”œâ”€â”€ HBoxContainer (size_flags_vertical: 3, separation: 15)\nâ”‚               â”‚   â”œâ”€â”€ ScrollContainer (size_flags_horizontal: 3)\nâ”‚               â”‚   â”‚   â””â”€â”€ GridContainer (item_grid - columns: 5, separation: 10)\nâ”‚               â”‚   â””â”€â”€ PanelContainer (item_details - custom_minimum_size.x: 250)\nâ”‚               â”‚       â””â”€â”€ MarginContainer (margins: 10px all sides)\nâ”‚               â”‚           â””â”€â”€ VBoxContainer\nâ”‚               â”‚               â”œâ”€â”€ TextureRect (item_image - expand_mode: keep_aspect_centered, custom_minimum_size: 200x200)\nâ”‚               â”‚               â”œâ”€â”€ Label (item_name - text: \"Select an item\", align: center, font size: 18)\nâ”‚               â”‚               â”œâ”€â”€ RichTextLabel (item_description - text: \"No item selected\", bbcode_enabled: true, size_flags_vertical: 3)\nâ”‚               â”‚               â””â”€â”€ Button (use_btn - text: \"Use\", disabled: true)\nâ”‚               â””â”€â”€ Button (close_btn - text: \"Close\")\n```\n\nCreate accompanying script:\n```gdscript\nextends CanvasLayer\n\n@onready var item_grid = $CenterContainer/PanelContainer/MarginContainer/VBoxContainer/HBoxContainer/ScrollContainer/item_grid\n@onready var item_image = $CenterContainer/PanelContainer/MarginContainer/VBoxContainer/HBoxContainer/PanelContainer/MarginContainer/VBoxContainer/item_image\n@onready var item_name = $CenterContainer/PanelContainer/MarginContainer/VBoxContainer/HBoxContainer/PanelContainer/MarginContainer/VBoxContainer/item_name\n@onready var item_description = $CenterContainer/PanelContainer/MarginContainer/VBoxContainer/HBoxContainer/PanelContainer/MarginContainer/VBoxContainer/item_description\n@onready var use_btn = $CenterContainer/PanelContainer/MarginContainer/VBoxContainer/HBoxContainer/PanelContainer/MarginContainer/VBoxContainer/use_btn\n@onready var close_btn = $CenterContainer/PanelContainer/MarginContainer/VBoxContainer/close_btn\n\nvar selected_item = null\nconst SLOT_SCENE = preload(\"res://scenes/ui/hud/hud_components/inventory_slot.tscn\")\n\nfunc _ready():\n\t# Connect signals\n\tuse_btn.pressed.connect(_on_use_pressed)\n\tclose_btn.pressed.connect(_on_close_pressed)\n\n\t# Populate inventory\n\t_populate_inventory()\n\n\t# Pause game\n\tget_tree().paused = true\n\nfunc _populate_inventory():\n\t# Clear existing slots\n\tfor child in item_grid.get_children():\n\t\tchild.queue_free()\n\n\t# TODO: Get inventory from inventory manager\n\t# For now, create empty slots\n\tfor i in range(20):\n\t\tvar slot = SLOT_SCENE.instantiate()\n\t\tslot.slot_clicked.connect(_on_slot_clicked.bind(slot))\n\t\titem_grid.add_child(slot)\n\nfunc _on_slot_clicked(slot):\n\t# Update item details\n\tif slot.item_data:\n\t\tselected_item = slot.item_data\n\t\titem_name.text = slot.item_data.name\n\t\titem_description.text = slot.item_data.description\n\t\titem_image.texture = slot.item_data.icon\n\t\tuse_btn.disabled = false\n\telse:\n\t\tselected_item = null\n\t\titem_name.text = \"Empty slot\"\n\t\titem_description.text = \"\"\n\t\titem_image.texture = null\n\t\tuse_btn.disabled = true\n\nfunc _on_use_pressed():\n\tif selected_item:\n\t\t# TODO: Use item logic\n\t\tpass\n\nfunc _on_close_pressed():\n\tget_tree().paused = false\n\tqueue_free()\n\nfunc _input(event):\n\tif event.is_action_pressed(\"ui_cancel\"):\n\t\t_on_close_pressed()\n```\n\n## Dialogue Box Template\n\nCreate scene with:\n```\nCanvasLayer (root - layer: 20)\nâ”œâ”€â”€ Control (spacer - size_flags_vertical: 3)\nâ””â”€â”€ PanelContainer (dialogue_panel - anchor_left: 0, anchor_right: 1, anchor_bottom: 1, custom_minimum_size.y: 200)\n    â””â”€â”€ MarginContainer (margins: 15px all sides)\n        â””â”€â”€ VBoxContainer (separation: 10)\n            â”œâ”€â”€ HBoxContainer (character_info - separation: 10)\n            â”‚   â”œâ”€â”€ TextureRect (portrait - expand_mode: keep_size, custom_minimum_size: 80x80)\n            â”‚   â””â”€â”€ Label (character_name - text: \"Character\", font size: 20)\n            â”œâ”€â”€ RichTextLabel (dialogue_text - bbcode_enabled: true, size_flags_vertical: 3, text: \"Dialogue text goes here...\")\n            â””â”€â”€ VBoxContainer (choices_container - separation: 5)\n```\n\nCreate accompanying script:\n```gdscript\nextends CanvasLayer\n\n@onready var portrait = $PanelContainer/MarginContainer/VBoxContainer/HBoxContainer/portrait\n@onready var character_name = $PanelContainer/MarginContainer/VBoxContainer/HBoxContainer/character_name\n@onready var dialogue_text = $PanelContainer/MarginContainer/VBoxContainer/dialogue_text\n@onready var choices_container = $PanelContainer/MarginContainer/VBoxContainer/choices_container\n\nvar current_dialogue_index: int = 0\nvar dialogue_data: Array = []\nvar text_speed: float = 0.05\nvar is_text_complete: bool = false\n\nfunc _ready():\n\t# Hide initially\n\t$PanelContainer.modulate.a = 0\n\t$PanelContainer.position.y = 50\n\nfunc show_dialogue(data: Array):\n\tdialogue_data = data\n\tcurrent_dialogue_index = 0\n\t_display_current_dialogue()\n\n\t# Slide in animation\n\tvar tween = create_tween()\n\ttween.tween_property($PanelContainer, \"modulate:a\", 1.0, 0.3)\n\ttween.parallel().tween_property($PanelContainer, \"position:y\", 0, 0.3)\n\nfunc _display_current_dialogue():\n\tif current_dialogue_index >= dialogue_data.size():\n\t\t_close_dialogue()\n\t\treturn\n\n\tvar dialogue = dialogue_data[current_dialogue_index]\n\n\t# Set character info\n\tcharacter_name.text = dialogue.get(\"character\", \"\")\n\tif dialogue.has(\"portrait\"):\n\t\tportrait.texture = dialogue.portrait\n\n\t# Clear choices\n\tfor child in choices_container.get_children():\n\t\tchild.queue_free()\n\n\t# Animate text\n\tis_text_complete = false\n\t_type_text(dialogue.text)\n\n\t# Add choices if present\n\tif dialogue.has(\"choices\") and dialogue.choices.size() > 0:\n\t\tawait get_tree().create_timer(0.1).timeout  # Wait for text to start\n\t\tfor i in range(dialogue.choices.size()):\n\t\t\tvar choice_text = dialogue.choices[i]\n\t\t\tvar btn = Button.new()\n\t\t\tbtn.text = choice_text\n\t\t\tbtn.pressed.connect(_on_choice_selected.bind(i))\n\t\t\tchoices_container.add_child(btn)\n\nfunc _type_text(text: String):\n\tdialogue_text.text = \"\"\n\tdialogue_text.visible_characters = 0\n\tdialogue_text.text = text\n\n\tvar char_count = text.length()\n\tfor i in range(char_count + 1):\n\t\tdialogue_text.visible_characters = i\n\t\tawait get_tree().create_timer(text_speed).timeout\n\n\tis_text_complete = true\n\nfunc _input(event):\n\tif event.is_action_pressed(\"ui_accept\"):\n\t\tif is_text_complete and choices_container.get_child_count() == 0:\n\t\t\t_next_dialogue()\n\t\telif not is_text_complete:\n\t\t\t# Skip text animation\n\t\t\tdialogue_text.visible_ratio = 1.0\n\t\t\tis_text_complete = true\n\nfunc _next_dialogue():\n\tcurrent_dialogue_index += 1\n\t_display_current_dialogue()\n\nfunc _on_choice_selected(choice_index: int):\n\t# TODO: Handle dialogue choice\n\t# For now, just advance\n\t_next_dialogue()\n\nfunc _close_dialogue():\n\tvar tween = create_tween()\n\ttween.tween_property($PanelContainer, \"modulate:a\", 0.0, 0.3)\n\ttween.parallel().tween_property($PanelContainer, \"position:y\", 50, 0.3)\n\ttween.tween_callback(queue_free)\n```\n\n## Confirmation Dialog Template\n\nCreate scene with:\n```\nCanvasLayer (root - layer: 200)\nâ”œâ”€â”€ ColorRect (overlay - full rect, color: #00000080)\nâ”œâ”€â”€ CenterContainer (full rect)\nâ”‚   â””â”€â”€ PanelContainer (custom_minimum_size: 400x200)\nâ”‚       â””â”€â”€ MarginContainer (margins: 20px all sides)\nâ”‚           â””â”€â”€ VBoxContainer (separation: 20)\nâ”‚               â”œâ”€â”€ Label (message - text: \"Are you sure?\", align: center, autowrap: true, size_flags_vertical: 3)\nâ”‚               â””â”€â”€ HBoxContainer (separation: 10)\nâ”‚                   â”œâ”€â”€ Button (cancel_btn - text: \"Cancel\", size_flags_horizontal: 3)\nâ”‚                   â””â”€â”€ Button (confirm_btn - text: \"Confirm\", size_flags_horizontal: 3)\n```\n\nCreate accompanying script:\n```gdscript\nextends CanvasLayer\n\nsignal confirmed\nsignal cancelled\n\n@onready var message = $CenterContainer/PanelContainer/MarginContainer/VBoxContainer/message\n@onready var cancel_btn = $CenterContainer/PanelContainer/MarginContainer/VBoxContainer/HBoxContainer/cancel_btn\n@onready var confirm_btn = $CenterContainer/PanelContainer/MarginContainer/VBoxContainer/HBoxContainer/confirm_btn\n\nfunc _ready():\n\t# Connect signals\n\tcancel_btn.pressed.connect(_on_cancel_pressed)\n\tconfirm_btn.pressed.connect(_on_confirm_pressed)\n\n\t# Set focus\n\tcancel_btn.grab_focus()\n\n\t# Pop-up animation\n\t$CenterContainer.scale = Vector2(0.8, 0.8)\n\t$CenterContainer.modulate.a = 0\n\tvar tween = create_tween()\n\ttween.tween_property($CenterContainer, \"scale\", Vector2.ONE, 0.2)\n\ttween.parallel().tween_property($CenterContainer, \"modulate:a\", 1.0, 0.2)\n\nfunc set_message(text: String):\n\tmessage.text = text\n\nfunc _on_confirm_pressed():\n\tconfirmed.emit()\n\tqueue_free()\n\nfunc _on_cancel_pressed():\n\tcancelled.emit()\n\tqueue_free()\n\nfunc _input(event):\n\tif event.is_action_pressed(\"ui_cancel\"):\n\t\t_on_cancel_pressed()\n```\n\n# After Creating Template\n\nAfter creating the selected template:\n\n1. Inform the user of the files created:\n   - Scene file location\n   - Script file location\n\n2. Provide next steps:\n   - \"The [template name] has been created at [path]\"\n   - \"You can customize the appearance by:\"\n     - Creating a theme resource\n     - Adjusting colors, fonts, and spacing\n     - Adding custom textures/icons\n   - \"To use this UI:\"\n     - [Specific usage instructions for the template]\n   - \"For more advanced UI customization, you can invoke the godot-ui skill or ask me for help!\"\n\n3. Offer to:\n   - Create additional related scenes (e.g., \"Would you like me to create the inventory slot component as well?\")\n   - Set up theme resources\n   - Add more features to the template"
              }
            ],
            "skills": [
              {
                "name": "godot-debugging",
                "description": "Expert knowledge of Godot debugging, error interpretation, common bugs, and troubleshooting techniques. Use when helping fix Godot errors, crashes, or unexpected behavior.",
                "path": "plugins/gd/skills/godot-debugging/SKILL.md",
                "frontmatter": {
                  "name": "godot-debugging",
                  "description": "Expert knowledge of Godot debugging, error interpretation, common bugs, and troubleshooting techniques. Use when helping fix Godot errors, crashes, or unexpected behavior.",
                  "allowed_tools": [
                    "mcp__godot__*",
                    "Read",
                    "Write",
                    "Edit",
                    "Glob",
                    "Grep",
                    "Bash"
                  ]
                },
                "content": "You are a Godot debugging expert with deep knowledge of common errors, debugging techniques, and troubleshooting strategies.\n\n# Common Godot Errors and Solutions\n\n## Parser/Syntax Errors\n\n### Error: \"Parse Error: Expected ...\"\n**Common Causes:**\n- Missing colons after function definitions, if statements, loops\n- Incorrect indentation (must use tabs OR spaces consistently)\n- Missing parentheses in function calls\n- Unclosed brackets, parentheses, or quotes\n\n**Solutions:**\n```gdscript\n# WRONG\nfunc _ready()  # Missing colon\n    print(\"Hello\")\n\n# CORRECT\nfunc _ready():\n    print(\"Hello\")\n\n# WRONG\nif player_health > 0  # Missing colon\n    player.move()\n\n# CORRECT\nif player_health > 0:\n    player.move()\n```\n\n### Error: \"Identifier not declared in the current scope\"\n**Common Causes:**\n- Variable used before declaration\n- Typo in variable/function name\n- Trying to access variable from wrong scope\n- Missing @ symbol for onready variables\n\n**Solutions:**\n```gdscript\n# WRONG\nfunc _ready():\n    print(my_variable)  # Not declared yet\n\nvar my_variable = 10\n\n# CORRECT\nvar my_variable = 10\n\nfunc _ready():\n    print(my_variable)\n\n# WRONG\n@onready var sprite = $Sprite2D  # Missing @\n\n# CORRECT\n@onready var sprite = $Sprite2D\n```\n\n### Error: \"Invalid get index 'property_name' (on base: 'Type')\"\n**Common Causes:**\n- Typo in property name\n- Property doesn't exist on that node type\n- Node is null (wasn't found in scene tree)\n\n**Solutions:**\n```gdscript\n# Check if node exists before accessing\nif sprite != null:\n    sprite.visible = false\nelse:\n    print(\"ERROR: Sprite node not found!\")\n\n# Or use optional chaining (Godot 4.2+)\n# sprite?.visible = false\n\n# Verify node path\n@onready var sprite = $Sprite2D  # Make sure this path is correct\n\nfunc _ready():\n    if sprite == null:\n        print(\"Sprite not found! Check node path.\")\n```\n\n## Runtime Errors\n\n### Error: \"Attempt to call function 'func_name' in base 'null instance' on a null instance\"\n**Common Causes:**\n- Calling method on null reference\n- Node removed/freed before accessing\n- @onready variable references non-existent node\n\n**Solutions:**\n```gdscript\n# Always check for null before calling methods\nif player != null and player.has_method(\"take_damage\"):\n    player.take_damage(10)\n\n# Verify onready variables in _ready()\n@onready var sprite = $Sprite2D\n\nfunc _ready():\n    if sprite == null:\n        push_error(\"Sprite node not found at path: $Sprite2D\")\n        return\n\n# Check if node is valid before using\nif is_instance_valid(my_node):\n    my_node.do_something()\n```\n\n### Error: \"Invalid operands 'Type' and 'null' in operator '...'\"\n**Common Causes:**\n- Mathematical operation on null value\n- Comparing null to typed value\n- Uninitialized variable used in calculation\n\n**Solutions:**\n```gdscript\n# Initialize variables with default values\nvar health: int = 100  # Not null\nvar player: Node2D = null\n\n# Check before operations\nif player != null:\n    var distance = global_position.distance_to(player.global_position)\n\n# Use default values\nvar target_position = player.global_position if player else global_position\n```\n\n### Error: \"Index [number] out of range (size [size])\"\n**Common Causes:**\n- Accessing array beyond its length\n- Using wrong index variable\n- Array size changed but code assumes old size\n\n**Solutions:**\n```gdscript\n# Always check array size\nvar items = [1, 2, 3]\n\nif index < items.size():\n    print(items[index])\nelse:\n    print(\"Index out of range!\")\n\n# Or use range-based loops\nfor item in items:\n    print(item)\n\n# Safe array access\nvar value = items[index] if index < items.size() else null\n```\n\n## Scene Tree Errors\n\n### Error: \"Node not found: [path]\"\n**Common Causes:**\n- Incorrect node path in get_node() or $\n- Node doesn't exist yet (wrong timing)\n- Node was removed or renamed\n- Path case sensitivity issues\n\n**Solutions:**\n```gdscript\n# Use @onready for scene tree nodes\n@onready var sprite = $Sprite2D\n@onready var timer = $Timer\n\n# Check if node exists\nfunc get_player():\n    var player = get_node_or_null(\"Player\")\n    if player == null:\n        print(\"Player node not found!\")\n    return player\n\n# Use has_node() to check existence\nif has_node(\"Sprite2D\"):\n    var sprite = $Sprite2D\n\n# For dynamic paths, use NodePath\nvar sprite = get_node(NodePath(\"Path/To/Sprite\"))\n```\n\n### Error: \"Can't change state while flushing queries\"\n**Common Causes:**\n- Modifying physics objects during physics callback\n- Adding/removing nodes during iteration\n- Freeing nodes in wrong context\n\n**Solutions:**\n```gdscript\n# Use call_deferred for physics changes\nfunc _on_body_entered(body):\n    # WRONG\n    # body.queue_free()\n\n    # CORRECT\n    body.call_deferred(\"queue_free\")\n\n# Use call_deferred for collision shape changes\nfunc disable_collision():\n    $CollisionShape2D.call_deferred(\"set_disabled\", true)\n\n# Defer node additions/removals\nfunc spawn_enemy():\n    var enemy = enemy_scene.instantiate()\n    call_deferred(\"add_child\", enemy)\n```\n\n## Signal Errors\n\n### Error: \"Attempt to call an invalid function in base 'MethodBind'\"\n**Common Causes:**\n- Signal connected to non-existent method\n- Method signature doesn't match signal parameters\n- Typo in method name\n\n**Solutions:**\n```gdscript\n# Verify method exists and signature matches\nfunc _ready():\n    # Signal: timeout()\n    $Timer.timeout.connect(_on_timer_timeout)\n\nfunc _on_timer_timeout():  # No parameters for timeout signal\n    print(\"Timer expired\")\n\n# For signals with parameters\nfunc _ready():\n    # Signal: body_entered(body: Node2D)\n    $Area2D.body_entered.connect(_on_body_entered)\n\nfunc _on_body_entered(body: Node2D):  # Must accept body parameter\n    print(\"Body entered:\", body.name)\n\n# Check if callable is valid\nvar callable = Callable(self, \"_on_timer_timeout\")\nif callable.is_valid():\n    $Timer.timeout.connect(callable)\n```\n\n### Error: \"Signal 'signal_name' is already connected\"\n**Common Causes:**\n- Connecting same signal multiple times\n- Not disconnecting before reconnecting\n- Multiple _ready() calls on singleton\n\n**Solutions:**\n```gdscript\n# Check before connecting\nfunc _ready():\n    if not $Timer.timeout.is_connected(_on_timer_timeout):\n        $Timer.timeout.connect(_on_timer_timeout)\n\n# Or disconnect first\nfunc reconnect_signal():\n    if $Timer.timeout.is_connected(_on_timer_timeout):\n        $Timer.timeout.disconnect(_on_timer_timeout)\n    $Timer.timeout.connect(_on_timer_timeout)\n\n# Use CONNECT_ONE_SHOT for single-use connections\n$Timer.timeout.connect(_on_timer_timeout, CONNECT_ONE_SHOT)\n```\n\n## Resource/File Errors\n\n### Error: \"Cannot load resource at path: 'res://...' (error code)\"\n**Common Causes:**\n- File doesn't exist at that path\n- Typo in file path\n- File extension missing or incorrect\n- Resource not imported properly\n\n**Solutions:**\n```gdscript\n# Check if resource exists\nvar resource_path = \"res://sprites/player.png\"\nif ResourceLoader.exists(resource_path):\n    var texture = load(resource_path)\nelse:\n    print(\"Resource not found:\", resource_path)\n\n# Use preload for resources that definitely exist\nconst PLAYER_SPRITE = preload(\"res://sprites/player.png\")\n\n# Handle load errors gracefully\nvar scene = load(\"res://scenes/level.tscn\")\nif scene == null:\n    print(\"Failed to load scene!\")\n    return\nvar instance = scene.instantiate()\n```\n\n### Error: \"Condition 'texture.is_null()' is true\"\n**Common Causes:**\n- Loading failed but error not checked\n- Resource file missing or corrupted\n- Incorrect resource type\n\n**Solutions:**\n```gdscript\n# Always check load result\nvar texture = load(\"res://textures/sprite.png\")\nif texture == null:\n    print(\"Failed to load texture! Using placeholder.\")\n    texture = PlaceholderTexture2D.new()\n    texture.size = Vector2(32, 32)\n\n$Sprite2D.texture = texture\n```\n\n## Performance Issues\n\n### Lag/Stuttering\n**Common Causes:**\n- Too many _process() or _physics_process() calls\n- Expensive operations in loops\n- Memory leaks (not freeing nodes)\n- Too many signals firing per frame\n\n**Debugging Steps:**\n1. Use the Godot Profiler (Debug > Profiler)\n2. Check for hot spots in code\n3. Look for memory growth over time\n\n**Solutions:**\n```gdscript\n# Disable processing when not needed\nfunc _ready():\n    set_physics_process(false)  # Enable only when needed\n\nfunc start_moving():\n    set_physics_process(true)\n\n# Cache expensive lookups\nvar player: Node2D = null\n\nfunc _ready():\n    player = get_node(\"/root/Main/Player\")  # Cache once\n\nfunc _process(_delta):\n    if player:  # Use cached reference\n        look_at(player.global_position)\n\n# Use timers instead of checking every frame\nvar check_timer: float = 0.0\n\nfunc _process(delta):\n    check_timer += delta\n    if check_timer >= 0.5:  # Only check twice per second\n        check_timer = 0.0\n        _do_expensive_check()\n\n# Free unused nodes\nfunc remove_enemy(enemy):\n    enemy.queue_free()  # Properly free memory\n```\n\n## Memory Leaks\n\n### Error: Memory usage keeps growing\n**Common Causes:**\n- Not calling queue_free() on removed nodes\n- Circular references preventing garbage collection\n- Creating new objects without freeing old ones\n\n**Solutions:**\n```gdscript\n# Always free nodes you create\nfunc spawn_particle():\n    var particle = particle_scene.instantiate()\n    add_child(particle)\n\n    # Free after animation\n    await get_tree().create_timer(2.0).timeout\n    particle.queue_free()\n\n# Break circular references\nclass_name Enemy\n\nvar target: Node = null\n\nfunc _exit_tree():\n    target = null  # Clear reference on removal\n\n# Use object pooling for frequently created/destroyed objects\nvar bullet_pool = []\n\nfunc get_bullet():\n    if bullet_pool.is_empty():\n        return bullet_scene.instantiate()\n    return bullet_pool.pop_back()\n\nfunc return_bullet(bullet):\n    bullet.visible = false\n    bullet.set_process(false)\n    bullet_pool.append(bullet)\n```\n\n# Debugging Techniques\n\n## Print Debugging\n\n```gdscript\n# Basic print\nprint(\"Value:\", variable)\n\n# Formatted print\nprint(\"Player health: %d/%d\" % [current_health, max_health])\n\n# Type checking\nprint(\"Variable type:\", typeof(variable))\n\n# Node inspection\nprint(\"Node path:\", get_path())\nprint(\"Parent:\", get_parent().name if get_parent() else \"none\")\n\n# Stack trace\nprint(\"Current stack:\")\nprint_stack()\n\n# Warning (shows in yellow)\npush_warning(\"This is not good!\")\n\n# Error (shows in red)\npush_error(\"Something went wrong!\")\n```\n\n## Breakpoints and Step Debugging\n\n1. **Set Breakpoints**: Click line number in script editor\n2. **Run with Debugging**: Press F5 (or play with debugger enabled)\n3. **When Paused at Breakpoint:**\n   - **Continue** (F12): Resume execution\n   - **Step Over** (F10): Execute current line, skip into functions\n   - **Step Into** (F11): Enter function calls\n   - **Step Out**: Exit current function\n\n4. **Inspect Variables**: Hover over variables or check debugger panel\n\n## Remote Debugger\n\nWhen game is running:\n1. Open **Debugger** tab at bottom of editor\n2. View **Errors** tab for runtime errors\n3. Check **Profiler** for performance issues\n4. Use **Network Profiler** for multiplayer issues\n\n## Assert Statements\n\n```gdscript\n# Assert for debugging assumptions\nassert(player != null, \"Player should exist at this point\")\nassert(health >= 0, \"Health should never be negative\")\nassert(items.size() > 0, \"Items array should not be empty\")\n\n# Asserts only run in debug builds, removed in release\n```\n\n## Debug Drawing\n\n```gdscript\n# Draw debug info in 2D games\nfunc _draw():\n    if OS.is_debug_build():\n        # Draw collision shapes\n        draw_circle(Vector2.ZERO, 50, Color(1, 0, 0, 0.3))\n\n        # Draw raycast\n        draw_line(Vector2.ZERO, Vector2(100, 0), Color.RED, 2.0)\n\n        # Draw text\n        draw_string(ThemeDB.fallback_font, Vector2(0, -60), \"Debug Info\")\n```\n\n## Conditional Debugging\n\n```gdscript\n# Debug mode flag\nvar debug_mode = OS.is_debug_build()\n\nfunc _process(delta):\n    if debug_mode:\n        # Extra checks only in debug\n        _validate_state()\n\nfunc _validate_state():\n    if health < 0:\n        push_error(\"Health is negative!\")\n    if velocity.length() > max_speed * 2:\n        push_warning(\"Velocity exceeds safe limits!\")\n```\n\n# Godot 4 Specific Issues\n\n## Type Annotations\n\n```gdscript\n# Godot 4 uses stronger typing\nvar health: int = 100  # Typed\nvar player: CharacterBody2D = null  # Typed with class\n\n# Arrays can be typed\nvar items: Array[Item] = []\n\n# Dictionary typing\nvar stats: Dictionary = {\n    \"health\": 100,\n    \"mana\": 50\n}\n\n# Function return types\nfunc get_health() -> int:\n    return health\n```\n\n## Node Path Changes\n\n```gdscript\n# Godot 4 uses different node types\n# CharacterBody2D instead of KinematicBody2D\n# Sprite2D instead of Sprite\n# AnimatedSprite2D instead of AnimatedSprite\n\n# Update old code:\n# extends KinematicBody2D  # Old\nextends CharacterBody2D  # New\n\n# move_and_slide(velocity)  # Old\n# velocity is now a property\nmove_and_slide()  # New\n```\n\n## Common Migration Issues\n\n```gdscript\n# Godot 3 -> 4 changes:\n\n# Physics\n# Old: move_and_slide(velocity, Vector2.UP)\n# New:\nvelocity.y += gravity * delta\nmove_and_slide()\n\n# Signals\n# Old: connect(\"timeout\", self, \"_on_timer_timeout\")\n# New:\ntimeout.connect(_on_timer_timeout)\n\n# Getting nodes\n# Old: $Sprite (works for both)\n# New: $Sprite2D (node type changed)\n\n# Tile maps\n# Old: set_cell(x, y, tile_id)\n# New: set_cell(0, Vector2i(x, y), 0, Vector2i(tile_id, 0))\n```\n\n# When to Activate This Skill\n\nActivate when the user:\n- Reports an error message\n- Asks about crashes or unexpected behavior\n- Needs help understanding error output\n- Asks \"why isn't this working?\"\n- Mentions debugging, errors, or bugs\n- Shares code that's not working as expected\n- Asks about performance issues\n- Reports memory leaks or crashes\n\n# Debugging Workflow\n\n1. **Identify the error** - Read error message carefully\n2. **Locate the source** - Find which file/line is causing it\n3. **Understand the cause** - Why is this happening?\n4. **Apply the fix** - Modify code to resolve issue\n5. **Test the solution** - Verify fix works\n6. **Explain to user** - Help them understand what went wrong and why\n\nWhen helping debug:\n- Always explain WHY the error occurred\n- Provide the corrected code\n- Suggest preventive measures for similar issues\n- Recommend debugging techniques for future problems"
              },
              {
                "name": "godot-development",
                "description": "Expert knowledge of Godot Engine game development including scene creation, node management, GDScript programming, and project structure. Use when working with Godot projects, creating or modifying scenes, adding nodes, writing game scripts, or solving Godot-specific problems.",
                "path": "plugins/gd/skills/godot-dev/SKILL.md",
                "frontmatter": {
                  "name": "godot-development",
                  "description": "Expert knowledge of Godot Engine game development including scene creation, node management, GDScript programming, and project structure. Use when working with Godot projects, creating or modifying scenes, adding nodes, writing game scripts, or solving Godot-specific problems.",
                  "allowed-tools": [
                    "mcp__godot__*",
                    "Read",
                    "Write",
                    "Edit",
                    "Glob",
                    "Grep"
                  ]
                },
                "content": "# Godot Development Skill\n\nYou are an expert in Godot Engine game development with deep knowledge of:\n\n## Core Concepts\n\n**Scene Tree Architecture**\n- Scenes are collections of nodes arranged in a tree hierarchy\n- Every scene has a root node\n- Nodes inherit from parent nodes and can have multiple children\n- Scene instances can be nested and reused\n- The scene tree is traversed from root to leaves\n\n**Node Types**\n\n*2D Nodes:*\n- Node2D: Base for all 2D nodes, has position, rotation, scale\n- Sprite2D: Displays 2D textures\n- AnimatedSprite2D: Plays sprite animations\n- CollisionShape2D: Defines collision areas (must be child of physics body)\n- Area2D: Detects overlapping bodies/areas\n- CharacterBody2D: Physics body with built-in movement functions\n- RigidBody2D: Physics body affected by forces\n- StaticBody2D: Immovable physics body\n- TileMap: Grid-based tile system\n- Camera2D: 2D camera with follow and zoom\n- CanvasLayer: UI layer that stays fixed on screen\n- Control: Base for UI elements (Button, Label, Panel, etc.)\n\n*3D Nodes:*\n- Node3D: Base for all 3D nodes\n- MeshInstance3D: Displays 3D meshes\n- Camera3D: 3D camera\n- DirectionalLight3D, OmniLight3D, SpotLight3D: Lighting\n- CollisionShape3D: 3D collision shapes\n- Area3D, CharacterBody3D, RigidBody3D, StaticBody3D: 3D physics bodies\n\n*Common Nodes:*\n- Timer: Execute code after a delay\n- AudioStreamPlayer: Play sounds\n- AnimationPlayer: Control complex animations\n\n## Godot MCP Tools\n\nYou have access to specialized Godot MCP tools:\n\n- `mcp__godot__launch_editor`: Open Godot editor for a project\n- `mcp__godot__run_project`: Run the game project\n- `mcp__godot__get_debug_output`: Get console output and errors\n- `mcp__godot__stop_project`: Stop running project\n- `mcp__godot__get_godot_version`: Check Godot version\n- `mcp__godot__list_projects`: Find Godot projects in a directory\n- `mcp__godot__get_project_info`: Get project metadata\n- `mcp__godot__create_scene`: Create a new .tscn scene file\n- `mcp__godot__add_node`: Add nodes to existing scenes\n- `mcp__godot__load_sprite`: Load texture into Sprite2D node\n- `mcp__godot__save_scene`: Save scene changes\n- `mcp__godot__get_uid`: Get file UID (Godot 4.4+)\n- `mcp__godot__update_project_uids`: Update UID references\n\n## Project Structure Best Practices\n\n```\nproject/\nâ”œâ”€â”€ project.godot           # Project configuration\nâ”œâ”€â”€ scenes/                 # All scene files\nâ”‚   â”œâ”€â”€ main/              # Main game scenes\nâ”‚   â”œâ”€â”€ ui/                # UI scenes\nâ”‚   â”œâ”€â”€ characters/        # Character scenes\nâ”‚   â””â”€â”€ levels/            # Level scenes\nâ”œâ”€â”€ scripts/               # GDScript files\nâ”‚   â”œâ”€â”€ autoload/         # Singleton scripts\nâ”‚   â”œâ”€â”€ characters/       # Character scripts\nâ”‚   â””â”€â”€ systems/          # Game systems\nâ”œâ”€â”€ assets/               # Art, audio, etc.\nâ”‚   â”œâ”€â”€ sprites/\nâ”‚   â”œâ”€â”€ audio/\nâ”‚   â”œâ”€â”€ fonts/\nâ”‚   â””â”€â”€ shaders/\nâ””â”€â”€ resources/            # .tres resource files\n    â”œâ”€â”€ materials/\n    â””â”€â”€ animations/\n```\n\n## GDScript Patterns\n\n**Node References:**\n```gdscript\n# Get child node\n@onready var sprite = $Sprite2D\n@onready var collision = $CollisionShape2D\n\n# Get node by path\nvar player = get_node(\"/root/Main/Player\")\n\n# Find node by type\nvar camera = get_tree().get_first_node_in_group(\"camera\")\n```\n\n**Common Lifecycle Methods:**\n```gdscript\nfunc _ready():\n    # Called when node enters scene tree\n    pass\n\nfunc _process(delta):\n    # Called every frame\n    pass\n\nfunc _physics_process(delta):\n    # Called every physics frame (fixed timestep)\n    pass\n```\n\n## Common Tasks\n\n**Creating a Basic 2D Character:**\n1. Create scene with CharacterBody2D root\n2. Add Sprite2D child for visuals\n3. Add CollisionShape2D child for physics\n4. Attach script to root node\n5. Implement movement in _physics_process\n\n**Setting Up Camera:**\n- 2D: Add Camera2D, enable \"Current\"\n- 3D: Add Camera3D, adjust position and rotation\n- Use smoothing for better feel\n\n**Input Handling:**\n```gdscript\nfunc _input(event):\n    if event.is_action_pressed(\"jump\"):\n        jump()\n\nfunc _process(delta):\n    var direction = Input.get_axis(\"left\", \"right\")\n```\n\n## When to Use This Skill\n\nActivate when the user:\n- Asks about Godot features or capabilities\n- Needs help creating or modifying scenes\n- Wants to add nodes or configure properties\n- Has questions about GDScript\n- Needs project structure advice\n- Encounters Godot-specific errors\n- Asks about best practices for game development in Godot\n\nUse the MCP tools proactively to accomplish tasks rather than just explaining how to do them manually."
              },
              {
                "name": "godot-optimization",
                "description": "Expert knowledge of Godot performance optimization, profiling, bottleneck identification, and optimization techniques. Use when helping improve game performance or analyzing performance issues.",
                "path": "plugins/gd/skills/godot-optimization/SKILL.md",
                "frontmatter": {
                  "name": "godot-optimization",
                  "description": "Expert knowledge of Godot performance optimization, profiling, bottleneck identification, and optimization techniques. Use when helping improve game performance or analyzing performance issues.",
                  "allowed_tools": [
                    "mcp__godot__*",
                    "Read",
                    "Write",
                    "Edit",
                    "Glob",
                    "Grep"
                  ]
                },
                "content": "You are a Godot performance optimization expert with deep knowledge of profiling, bottleneck identification, and optimization techniques for both 2D and 3D games.\n\n# Performance Profiling\n\n## Built-in Godot Profiler\n\n**Accessing the Profiler:**\n- Debug â†’ Profiler (while game is running)\n- Tabs: Frame, Monitors, Network, Visual\n\n**Key Metrics to Watch:**\n- **FPS (Frames Per Second)**: Should be 60 for smooth gameplay (or 30 for mobile)\n- **Frame Time**: Should be <16.67ms for 60 FPS\n- **Physics Frame Time**: Physics processing time\n- **Idle Time**: Non-physics processing time\n\n## Performance Monitors\n\n```gdscript\n# Enable performance monitoring in code\nfunc _ready():\n    # Available monitors\n    Performance.get_monitor(Performance.TIME_FPS)\n    Performance.get_monitor(Performance.TIME_PROCESS)\n    Performance.get_monitor(Performance.TIME_PHYSICS_PROCESS)\n    Performance.get_monitor(Performance.MEMORY_STATIC)\n    Performance.get_monitor(Performance.MEMORY_DYNAMIC)\n    Performance.get_monitor(Performance.OBJECT_COUNT)\n    Performance.get_monitor(Performance.OBJECT_NODE_COUNT)\n    Performance.get_monitor(Performance.RENDER_OBJECTS_IN_FRAME)\n    Performance.get_monitor(Performance.RENDER_VERTICES_IN_FRAME)\n\n# Display FPS counter\nfunc _process(_delta):\n    var fps = Performance.get_monitor(Performance.TIME_FPS)\n    $FPSLabel.text = \"FPS: %d\" % fps\n```\n\n# Common Performance Bottlenecks\n\n## 1. Too Many _process() Calls\n\n**Problem:**\n```gdscript\n# BAD: Running every frame when not needed\nfunc _process(delta):\n    check_for_enemies()  # Expensive operation\n    update_ui()\n    scan_environment()\n```\n\n**Solution:**\n```gdscript\n# GOOD: Use timers or reduce frequency\nvar check_timer: float = 0.0\nconst CHECK_INTERVAL: float = 0.5  # Check twice per second\n\nfunc _process(delta):\n    check_timer += delta\n    if check_timer >= CHECK_INTERVAL:\n        check_timer = 0.0\n        check_for_enemies()\n\n# Or disable processing when not needed\nfunc _ready():\n    set_process(false)  # Enable only when active\n```\n\n## 2. Inefficient Node Lookups\n\n**Problem:**\n```gdscript\n# BAD: Getting nodes every frame\nfunc _process(delta):\n    var player = get_node(\"/root/Main/Player\")  # Slow lookup every frame\n    look_at(player.global_position)\n```\n\n**Solution:**\n```gdscript\n# GOOD: Cache node references\n@onready var player: Node2D = get_node(\"/root/Main/Player\")\n\nfunc _process(delta):\n    if player:\n        look_at(player.global_position)\n```\n\n## 3. Excessive get_tree() Calls\n\n**Problem:**\n```gdscript\n# BAD: Repeated tree searches\nfunc update():\n    for enemy in get_tree().get_nodes_in_group(\"enemies\"):\n        # Process enemy\n\nfunc check():\n    for item in get_tree().get_nodes_in_group(\"items\"):\n        # Process item\n```\n\n**Solution:**\n```gdscript\n# GOOD: Cache groups or use signals\nvar enemies: Array = []\n\nfunc _ready():\n    enemies = get_tree().get_nodes_in_group(\"enemies\")\n    # Update when enemies added/removed via signals\n```\n\n## 4. Inefficient Collision Checking\n\n**Problem:**\n```gdscript\n# BAD: Checking all objects every frame\nfunc _physics_process(delta):\n    for object in all_objects:\n        if global_position.distance_to(object.global_position) < 100:\n            # Do something\n```\n\n**Solution:**\n```gdscript\n# GOOD: Use Area2D/Area3D for automatic detection\n@onready var detection_area = $DetectionArea\n\nfunc _ready():\n    detection_area.body_entered.connect(_on_body_detected)\n\nfunc _on_body_detected(body):\n    # Only called when something enters range\n    pass\n```\n\n## 5. Too Many Draw Calls\n\n**Problem:**\n- Too many individual sprites\n- No texture atlasing\n- Excessive particles\n- Too many lights\n\n**Solution:**\n```gdscript\n# Use TileMap instead of individual Sprite2D nodes\n# Use MultiMeshInstance for repeated objects\n# Use texture atlases to batch sprites\n# Limit number of lights and particles\n\n# Example: MultiMesh for coins\n@onready var multimesh_instance = $MultiMeshInstance2D\n\nfunc _ready():\n    var multimesh = MultiMesh.new()\n    multimesh.mesh = preload(\"res://meshes/coin.tres\")\n    multimesh.instance_count = 100\n\n    for i in range(100):\n        var transform = Transform2D()\n        transform.origin = Vector2(i * 50, 0)\n        multimesh.set_instance_transform_2d(i, transform)\n\n    multimesh_instance.multimesh = multimesh\n```\n\n## 6. Unoptimized Scripts\n\n**Problem:**\n```gdscript\n# BAD: Creating new objects every frame\nfunc _process(delta):\n    var direction = Vector2.ZERO  # New object every frame\n    direction = (target.position - position).normalized()\n```\n\n**Solution:**\n```gdscript\n# GOOD: Reuse objects\nvar direction: Vector2 = Vector2.ZERO  # Reused\n\nfunc _process(delta):\n    direction = (target.position - position).normalized()\n```\n\n# Optimization Techniques\n\n## 1. Object Pooling\n\n```gdscript\n# Instead of creating/destroying objects frequently\nclass_name ObjectPool\n\nvar pool: Array = []\nvar prefab: PackedScene\nvar pool_size: int = 20\n\nfunc _init(scene: PackedScene, size: int):\n    prefab = scene\n    pool_size = size\n    _fill_pool()\n\nfunc _fill_pool():\n    for i in range(pool_size):\n        var obj = prefab.instantiate()\n        obj.set_process(false)\n        obj.visible = false\n        pool.append(obj)\n\nfunc get_object():\n    if pool.is_empty():\n        return prefab.instantiate()\n    var obj = pool.pop_back()\n    obj.set_process(true)\n    obj.visible = true\n    return obj\n\nfunc return_object(obj):\n    obj.set_process(false)\n    obj.visible = false\n    pool.append(obj)\n```\n\n## 2. Level of Detail (LOD)\n\n```gdscript\n# Switch to simpler models/sprites when far away\n@export var lod_distances: Array[float] = [50.0, 100.0, 200.0]\n@onready var camera = get_viewport().get_camera_3d()\n\nfunc _process(_delta):\n    var distance = global_position.distance_to(camera.global_position)\n\n    if distance < lod_distances[0]:\n        _set_lod(0)  # High detail\n    elif distance < lod_distances[1]:\n        _set_lod(1)  # Medium detail\n    elif distance < lod_distances[2]:\n        _set_lod(2)  # Low detail\n    else:\n        _set_lod(3)  # Minimal/hidden\n\nfunc _set_lod(level: int):\n    match level:\n        0:\n            $HighDetailMesh.visible = true\n            $MedDetailMesh.visible = false\n            set_physics_process(true)\n        1:\n            $HighDetailMesh.visible = false\n            $MedDetailMesh.visible = true\n            set_physics_process(true)\n        2:\n            $MedDetailMesh.visible = true\n            set_physics_process(false)\n        3:\n            visible = false\n            set_process(false)\n```\n\n## 3. Spatial Partitioning\n\n```gdscript\n# Only process objects in active area\nclass_name ChunkManager\n\nvar active_chunks: Dictionary = {}\nvar chunk_size: float = 100.0\n\nfunc get_chunk_key(pos: Vector2) -> Vector2i:\n    return Vector2i(\n        int(pos.x / chunk_size),\n        int(pos.y / chunk_size)\n    )\n\nfunc update_active_chunks(player_position: Vector2):\n    var player_chunk = get_chunk_key(player_position)\n\n    # Activate nearby chunks\n    for x in range(-1, 2):\n        for y in range(-1, 2):\n            var chunk_key = player_chunk + Vector2i(x, y)\n            if chunk_key not in active_chunks:\n                _load_chunk(chunk_key)\n\n    # Deactivate far chunks\n    for chunk_key in active_chunks.keys():\n        if chunk_key.distance_to(player_chunk) > 2:\n            _unload_chunk(chunk_key)\n\nfunc _load_chunk(key: Vector2i):\n    # Load and activate objects in this chunk\n    active_chunks[key] = true\n\nfunc _unload_chunk(key: Vector2i):\n    # Deactivate or remove objects in this chunk\n    active_chunks.erase(key)\n```\n\n## 4. Efficient Collision Layers\n\n```gdscript\n# Set up collision layers properly\n# Project Settings â†’ Layer Names â†’ 2D Physics\n\n# Layer 1: Players\n# Layer 2: Enemies\n# Layer 3: Environment\n# Layer 4: Projectiles\n\n# Player only collides with enemies and environment\nfunc _ready():\n    collision_layer = 1  # Player is on layer 1\n    collision_mask = 6   # Collides with layers 2 (enemies) and 3 (environment)\n    # Binary: 110 = 6 (layers 2 and 3)\n```\n\n## 5. Deferred Calls for Physics\n\n```gdscript\n# Don't modify physics objects during physics callback\nfunc _on_body_entered(body):\n    # BAD\n    # body.queue_free()\n    # $CollisionShape2D.disabled = true\n\n    # GOOD\n    body.call_deferred(\"queue_free\")\n    $CollisionShape2D.call_deferred(\"set_disabled\", true)\n```\n\n# Memory Optimization\n\n## 1. Texture Compression\n\n**Project Settings:**\n- Import tab: Compress textures\n- Use VRAM compression for desktop\n- Use ETC2/ASTC for mobile\n- Reduce texture sizes where possible\n\n## 2. Audio Optimization\n\n```gdscript\n# Use streaming for long audio (music, voice)\n# Use samples for short audio (SFX)\n\n# In import settings:\n# - Loop Mode: Disabled for SFX, Forward for music\n# - Compress Mode: RAM for SFX, Streaming for music\n```\n\n## 3. Scene Instancing\n\n```gdscript\n# Use instancing instead of duplicating\nconst ENEMY_SCENE = preload(\"res://enemies/enemy.tscn\")\n\nfunc spawn_enemy():\n    var enemy = ENEMY_SCENE.instantiate()  # Shares resources\n    add_child(enemy)\n\n# Avoid:\n# var enemy = $EnemyTemplate.duplicate()  # Duplicates everything\n```\n\n## 4. Resource Management\n\n```gdscript\n# Free resources when done\nfunc remove_level():\n    for child in get_children():\n        child.queue_free()  # Properly free memory\n\n    # Clear cached resources if needed\n    ResourceLoader.clear_cache()\n```\n\n# Rendering Optimization\n\n## 2D Optimization\n\n```gdscript\n# 1. Use CanvasLayer for UI (prevents redraw of game world)\n# 2. Limit particle count\n# 3. Use Light2D sparingly\n# 4. Batch sprites with same texture\n\n# Efficient particle system\n@onready var particles = $GPUParticles2D\n\nfunc _ready():\n    particles.amount = 50  # Not 500\n    particles.lifetime = 1.0  # Short lifetime\n    particles.one_shot = true  # Don't loop unnecessarily\n```\n\n## 3D Optimization\n\n```gdscript\n# 1. Use occlusion culling\n# 2. Bake lighting where possible\n# 3. Use LOD for distant objects\n# 4. Limit shadow-casting lights\n\n# Efficient 3D setup\nfunc _ready():\n    # Bake lighting\n    $WorldEnvironment.environment.background_mode = Environment.BG_SKY\n\n    # Limit view distance\n    var camera = $Camera3D\n    camera.far = 500.0  # Don't render beyond this\n\n    # Use SDFGI for global illumination (Godot 4)\n    $WorldEnvironment.environment.sdfgi_enabled = true\n```\n\n# Profiling Workflow\n\n## 1. Identify Bottleneck\n\n1. Run game with profiler open\n2. Identify which area is slowest:\n   - Process\n   - Physics\n   - Rendering\n   - Script\n\n## 2. Locate Specific Issue\n\n```gdscript\n# Add timing to suspect code\nvar start_time = Time.get_ticks_usec()\n\n# Suspect code here\n_expensive_function()\n\nvar end_time = Time.get_ticks_usec()\nprint(\"Function took: \", (end_time - start_time) / 1000.0, \" ms\")\n```\n\n## 3. Apply Optimizations\n\n- Cache lookups\n- Reduce frequency\n- Use more efficient algorithms\n- Remove unnecessary work\n\n## 4. Measure Results\n\n- Re-run profiler\n- Verify improvement\n- Ensure no regressions\n\n# Platform-Specific Optimization\n\n## Mobile Optimization\n\n```gdscript\n# Detect mobile platform\nfunc _ready():\n    if OS.get_name() in [\"Android\", \"iOS\"]:\n        _apply_mobile_optimizations()\n\nfunc _apply_mobile_optimizations():\n    # Reduce particle count\n    $Particles.amount = $Particles.amount / 2\n\n    # Simplify shaders\n    # Lower resolution\n    get_viewport().size = get_viewport().size * 0.75\n\n    # Disable expensive effects\n    $WorldEnvironment.environment.ssao_enabled = false\n    $WorldEnvironment.environment.glow_enabled = false\n```\n\n## Web (HTML5) Optimization\n\n```gdscript\n# Reduce initial load\n# Use streaming for assets\n# Limit memory usage\n# Avoid heavy physics calculations\n```\n\n# Performance Testing Checklist\n\n- [ ] Frame rate stays at target (60 FPS or 30 FPS)\n- [ ] No frame drops during intense scenes\n- [ ] Memory usage stable (no leaks)\n- [ ] Load times acceptable (<3 seconds)\n- [ ] Physics stable (no jitter or tunneling)\n- [ ] Mobile: Battery usage reasonable\n- [ ] Web: Fast initial load, no freezes\n\n# When to Activate This Skill\n\nActivate when the user:\n- Mentions lag, stuttering, or slow performance\n- Asks about optimization techniques\n- Requests performance analysis\n- Mentions FPS drops or frame rate issues\n- Asks about profiling or benchmarking\n- Needs help with mobile/web optimization\n- Mentions memory issues or crashes\n- Asks \"why is my game slow?\"\n\n# Optimization Workflow\n\n1. **Profile** - Use Godot profiler to identify bottleneck\n2. **Locate** - Find specific code causing issue\n3. **Optimize** - Apply appropriate optimization technique\n4. **Test** - Verify improvement without breaking functionality\n5. **Document** - Note what was changed and why\n\nAlways explain:\n- WHY something is slow\n- WHAT optimization technique to use\n- HOW to implement it\n- WHAT the expected improvement is"
              },
              {
                "name": "godot-ui",
                "description": "Expert knowledge of Godot's UI system including Control nodes, themes, styling, responsive layouts, and common UI patterns for menus, HUDs, inventories, and dialogue systems. Use when working with Godot UI/menu creation or styling.",
                "path": "plugins/gd/skills/godot-ui/SKILL.md",
                "frontmatter": {
                  "name": "godot-ui",
                  "description": "Expert knowledge of Godot's UI system including Control nodes, themes, styling, responsive layouts, and common UI patterns for menus, HUDs, inventories, and dialogue systems. Use when working with Godot UI/menu creation or styling.",
                  "allowed_tools": [
                    "mcp__godot__*",
                    "Read",
                    "Write",
                    "Edit",
                    "Glob",
                    "Grep"
                  ]
                },
                "content": "You are a Godot UI/UX expert with deep knowledge of Godot's Control node system, theme customization, responsive design, and common game UI patterns.\n\n# Core UI Knowledge\n\n## Control Node Hierarchy\n\n**Base Control Node Properties:**\n- `anchor_*`: Positioning relative to parent edges (0.0 to 1.0)\n- `offset_*`: Pixel offset from anchor points\n- `size_flags_*`: How the node should grow/shrink\n- `custom_minimum_size`: Minimum size constraints\n- `mouse_filter`: Control mouse input handling (STOP, PASS, IGNORE)\n- `focus_mode`: Keyboard/gamepad focus behavior\n\n**Common Control Nodes:**\n\n### Container Nodes (Layout Management)\n- **VBoxContainer**: Vertical stacking with automatic spacing\n- **HBoxContainer**: Horizontal arrangement with automatic spacing\n- **GridContainer**: Grid layout with columns\n- **MarginContainer**: Adds margins around children\n- **CenterContainer**: Centers a single child\n- **PanelContainer**: Container with panel background\n- **ScrollContainer**: Scrollable area for overflow content\n- **TabContainer**: Tabbed interface with multiple pages\n- **SplitContainer**: Resizable split between two children\n\n### Interactive Controls\n- **Button**: Standard clickable button\n- **TextureButton**: Button with custom textures for states\n- **CheckBox**: Toggle checkbox\n- **CheckButton**: Toggle switch style\n- **OptionButton**: Dropdown selection menu\n- **LineEdit**: Single-line text input\n- **TextEdit**: Multi-line text editor\n- **Slider/HSlider/VSlider**: Value adjustment sliders\n- **SpinBox**: Numeric input with increment buttons\n- **ProgressBar**: Visual progress indicator\n- **ItemList**: Scrollable list of items\n- **Tree**: Hierarchical tree view\n\n### Display Nodes\n- **Label**: Text display\n- **RichTextLabel**: Text with BBCode formatting, images, effects\n- **TextureRect**: Image display with scaling options\n- **NinePatchRect**: Scalable image using 9-slice method\n- **ColorRect**: Solid color rectangle\n- **VideoStreamPlayer**: Video playback in UI\n- **GraphEdit/GraphNode**: Node-graph interface\n\n### Advanced Controls\n- **Popup**: Modal/modeless popup window\n- **PopupMenu**: Context menu\n- **MenuBar**: Top menu bar\n- **FileDialog**: File picker\n- **ColorPicker**: Color selection\n- **SubViewport**: Embedded viewport for 3D-in-2D UI\n\n## Anchor & Container System\n\n**Anchor Presets:**\n```gdscript\n# Common anchor configurations\n# Top-left (default): anchor_left=0, anchor_top=0, anchor_right=0, anchor_bottom=0\n# Full rect: anchor_left=0, anchor_top=0, anchor_right=1, anchor_bottom=1\n# Top wide: anchor_left=0, anchor_top=0, anchor_right=1, anchor_bottom=0\n# Center: anchor_left=0.5, anchor_top=0.5, anchor_right=0.5, anchor_bottom=0.5\n```\n\n**Responsive Design Pattern:**\n```gdscript\n# In _ready() for responsive UI\nfunc _ready():\n    # Connect to viewport size changes\n    get_viewport().size_changed.connect(_on_viewport_size_changed)\n    _on_viewport_size_changed()\n\nfunc _on_viewport_size_changed():\n    var viewport_size = get_viewport_rect().size\n    # Adjust UI based on aspect ratio or screen size\n    if viewport_size.x / viewport_size.y < 1.5:  # Portrait or square\n        # Switch to mobile layout\n        pass\n    else:  # Landscape\n        # Use desktop layout\n        pass\n```\n\n## Theme System\n\n**Theme Structure:**\n- **StyleBoxes**: Background styles for controls (StyleBoxFlat, StyleBoxTexture)\n- **Fonts**: Font resources with size and variants\n- **Colors**: Named color values\n- **Icons**: Texture2D for icons and graphics\n- **Constants**: Numeric values (spacing, margins)\n\n**Creating Themes in Code:**\n```gdscript\n# Create a theme\nvar theme = Theme.new()\n\n# StyleBox for buttons\nvar style_normal = StyleBoxFlat.new()\nstyle_normal.bg_color = Color(0.2, 0.2, 0.2)\nstyle_normal.corner_radius_top_left = 5\nstyle_normal.corner_radius_top_right = 5\nstyle_normal.corner_radius_bottom_left = 5\nstyle_normal.corner_radius_bottom_right = 5\nstyle_normal.content_margin_left = 10\nstyle_normal.content_margin_right = 10\nstyle_normal.content_margin_top = 5\nstyle_normal.content_margin_bottom = 5\n\nvar style_hover = StyleBoxFlat.new()\nstyle_hover.bg_color = Color(0.3, 0.3, 0.3)\n# ... same corner radius and margins\n\nvar style_pressed = StyleBoxFlat.new()\nstyle_pressed.bg_color = Color(0.15, 0.15, 0.15)\n# ... same corner radius and margins\n\ntheme.set_stylebox(\"normal\", \"Button\", style_normal)\ntheme.set_stylebox(\"hover\", \"Button\", style_hover)\ntheme.set_stylebox(\"pressed\", \"Button\", style_pressed)\n\n# Apply to Control node\n$MyControl.theme = theme\n```\n\n**Theme Resources:**\nBest practice: Create .tres theme files and save them in `resources/themes/`\n- Allows visual editing in Inspector\n- Can be shared across multiple scenes\n- Supports inheritance (base theme + overrides)\n\n## Common UI Patterns\n\n### Main Menu\n```\nCanvasLayer\nâ”œâ”€â”€ MarginContainer (margins for screen edges)\nâ”‚   â””â”€â”€ VBoxContainer (vertical menu layout)\nâ”‚       â”œâ”€â”€ TextureRect (logo)\nâ”‚       â”œâ”€â”€ VBoxContainer (button container)\nâ”‚       â”‚   â”œâ”€â”€ Button (New Game)\nâ”‚       â”‚   â”œâ”€â”€ Button (Continue)\nâ”‚       â”‚   â”œâ”€â”€ Button (Settings)\nâ”‚       â”‚   â””â”€â”€ Button (Quit)\nâ”‚       â””â”€â”€ Label (version info)\n```\n\n### Settings Menu\n```\nCanvasLayer\nâ”œâ”€â”€ ColorRect (semi-transparent overlay)\nâ””â”€â”€ PanelContainer (settings panel)\n    â””â”€â”€ MarginContainer\n        â””â”€â”€ VBoxContainer\n            â”œâ”€â”€ Label (Settings Header)\n            â”œâ”€â”€ TabContainer\n            â”‚   â”œâ”€â”€ VBoxContainer (Graphics Tab)\n            â”‚   â”‚   â”œâ”€â”€ HBoxContainer\n            â”‚   â”‚   â”‚   â”œâ”€â”€ Label (Resolution:)\n            â”‚   â”‚   â”‚   â””â”€â”€ OptionButton\n            â”‚   â”‚   â””â”€â”€ HBoxContainer\n            â”‚   â”‚       â”œâ”€â”€ Label (Fullscreen:)\n            â”‚   â”‚       â””â”€â”€ CheckBox\n            â”‚   â””â”€â”€ VBoxContainer (Audio Tab)\n            â”‚       â”œâ”€â”€ HBoxContainer\n            â”‚       â”‚   â”œâ”€â”€ Label (Master Volume:)\n            â”‚       â”‚   â””â”€â”€ HSlider\n            â”‚       â””â”€â”€ HBoxContainer\n            â”‚           â”œâ”€â”€ Label (Music Volume:)\n            â”‚           â””â”€â”€ HSlider\n            â””â”€â”€ HBoxContainer (button row)\n                â”œâ”€â”€ Button (Apply)\n                â””â”€â”€ Button (Back)\n```\n\n### HUD (Heads-Up Display)\n```\nCanvasLayer (layer = 10 for top rendering)\nâ”œâ”€â”€ MarginContainer (screen margins)\nâ”‚   â””â”€â”€ VBoxContainer\nâ”‚       â”œâ”€â”€ HBoxContainer (top bar)\nâ”‚       â”‚   â”œâ”€â”€ TextureRect (health icon)\nâ”‚       â”‚   â”œâ”€â”€ ProgressBar (health)\nâ”‚       â”‚   â”œâ”€â”€ Control (spacer)\nâ”‚       â”‚   â”œâ”€â”€ Label (score)\nâ”‚       â”‚   â””â”€â”€ TextureRect (coin icon)\nâ”‚       â”œâ”€â”€ Control (spacer - expands)\nâ”‚       â””â”€â”€ HBoxContainer (bottom bar)\nâ”‚           â”œâ”€â”€ TextureButton (inventory)\nâ”‚           â”œâ”€â”€ TextureButton (map)\nâ”‚           â””â”€â”€ TextureButton (pause)\n```\n\n### Inventory System\n```\nCanvasLayer\nâ”œâ”€â”€ ColorRect (overlay background)\nâ””â”€â”€ PanelContainer (inventory panel)\n    â””â”€â”€ MarginContainer\n        â””â”€â”€ VBoxContainer\n            â”œâ”€â”€ Label (Inventory Header)\n            â”œâ”€â”€ HBoxContainer (main area)\n            â”‚   â”œâ”€â”€ GridContainer (item grid - columns=5)\n            â”‚   â”‚   â”œâ”€â”€ TextureButton (item slot)\n            â”‚   â”‚   â”œâ”€â”€ TextureButton (item slot)\n            â”‚   â”‚   â””â”€â”€ ... (more slots)\n            â”‚   â””â”€â”€ PanelContainer (item details)\n            â”‚       â””â”€â”€ VBoxContainer\n            â”‚           â”œâ”€â”€ TextureRect (item image)\n            â”‚           â”œâ”€â”€ Label (item name)\n            â”‚           â”œâ”€â”€ RichTextLabel (description)\n            â”‚           â””â”€â”€ Button (Use/Equip)\n            â””â”€â”€ Button (Close)\n```\n\n### Dialogue System\n```\nCanvasLayer (layer = 5)\nâ”œâ”€â”€ Control (spacer)\nâ””â”€â”€ PanelContainer (dialogue box - anchored to bottom)\n    â””â”€â”€ MarginContainer\n        â””â”€â”€ VBoxContainer\n            â”œâ”€â”€ HBoxContainer (character info)\n            â”‚   â”œâ”€â”€ TextureRect (character portrait)\n            â”‚   â””â”€â”€ Label (character name)\n            â”œâ”€â”€ RichTextLabel (dialogue text with BBCode)\n            â””â”€â”€ VBoxContainer (choice container)\n                â”œâ”€â”€ Button (choice 1)\n                â”œâ”€â”€ Button (choice 2)\n                â””â”€â”€ Button (choice 3)\n```\n\n### Pause Menu\n```\nCanvasLayer (layer = 100)\nâ”œâ”€â”€ ColorRect (semi-transparent overlay - modulate alpha)\nâ””â”€â”€ CenterContainer (full rect anchors)\n    â””â”€â”€ PanelContainer (menu panel)\n        â””â”€â”€ MarginContainer\n            â””â”€â”€ VBoxContainer\n                â”œâ”€â”€ Label (PAUSED)\n                â”œâ”€â”€ Button (Resume)\n                â”œâ”€â”€ Button (Settings)\n                â”œâ”€â”€ Button (Main Menu)\n                â””â”€â”€ Button (Quit)\n```\n\n## Common UI Scripting Patterns\n\n### Button Connections\n```gdscript\n@onready var start_button = $VBoxContainer/StartButton\n\nfunc _ready():\n    # Connect button signals\n    start_button.pressed.connect(_on_start_button_pressed)\n\n    # Or use Inspector to connect signals visually\n\nfunc _on_start_button_pressed():\n    # Handle button press\n    get_tree().change_scene_to_file(\"res://scenes/main_game.tscn\")\n```\n\n### Menu Navigation with Keyboard/Gamepad\n```gdscript\nfunc _ready():\n    # Set first focusable button\n    $VBoxContainer/StartButton.grab_focus()\n\n    # Configure focus neighbors for gamepad navigation\n    $VBoxContainer/StartButton.focus_neighbor_bottom = $VBoxContainer/SettingsButton.get_path()\n    $VBoxContainer/SettingsButton.focus_neighbor_top = $VBoxContainer/StartButton.get_path()\n    $VBoxContainer/SettingsButton.focus_neighbor_bottom = $VBoxContainer/QuitButton.get_path()\n```\n\n### Animated Transitions\n```gdscript\n# Fade in menu\nfunc show_menu():\n    modulate.a = 0\n    visible = true\n    var tween = create_tween()\n    tween.tween_property(self, \"modulate:a\", 1.0, 0.3)\n\n# Fade out menu\nfunc hide_menu():\n    var tween = create_tween()\n    tween.tween_property(self, \"modulate:a\", 0.0, 0.3)\n    tween.tween_callback(func(): visible = false)\n\n# Slide in from side\nfunc slide_in():\n    position.x = -get_viewport_rect().size.x\n    visible = true\n    var tween = create_tween()\n    tween.set_trans(Tween.TRANS_QUAD)\n    tween.set_ease(Tween.EASE_OUT)\n    tween.tween_property(self, \"position:x\", 0, 0.5)\n```\n\n### Dynamic Lists\n```gdscript\n# Populate ItemList dynamically\n@onready var item_list = $ItemList\n\nfunc populate_list(items: Array):\n    item_list.clear()\n    for item in items:\n        item_list.add_item(item.name, item.icon)\n        item_list.set_item_metadata(item_list.item_count - 1, item)\n\nfunc _on_item_list_item_selected(index: int):\n    var item = item_list.get_item_metadata(index)\n    # Do something with selected item\n```\n\n### Health Bar Updates\n```gdscript\n@onready var health_bar = $HealthBar\nvar current_health = 100\nvar max_health = 100\n\nfunc _ready():\n    health_bar.max_value = max_health\n    health_bar.value = current_health\n\nfunc take_damage(amount: int):\n    current_health = max(0, current_health - amount)\n\n    # Smooth tween to new value\n    var tween = create_tween()\n    tween.tween_property(health_bar, \"value\", current_health, 0.2)\n\n    # Change color based on health percentage\n    if current_health < max_health * 0.3:\n        health_bar.modulate = Color.RED\n    elif current_health < max_health * 0.6:\n        health_bar.modulate = Color.YELLOW\n    else:\n        health_bar.modulate = Color.GREEN\n```\n\n### Modal Popups\n```gdscript\n@onready var popup = $Popup\n\nfunc show_confirmation(message: String, on_confirm: Callable):\n    $Popup/VBoxContainer/Label.text = message\n    popup.popup_centered()\n\n    # Store callback\n    if not $Popup/VBoxContainer/HBoxContainer/ConfirmButton.pressed.is_connected(_on_confirm):\n        $Popup/VBoxContainer/HBoxContainer/ConfirmButton.pressed.connect(_on_confirm)\n\n    confirm_callback = on_confirm\n\nvar confirm_callback: Callable\n\nfunc _on_confirm():\n    popup.hide()\n    if confirm_callback:\n        confirm_callback.call()\n```\n\n## UI Performance Optimization\n\n**Best Practices:**\n1. **Use CanvasLayers for depth management** instead of z_index when possible\n2. **Clip content** in ScrollContainers with `clip_contents = true`\n3. **Limit RichTextLabel complexity** - BBCode parsing can be slow\n4. **Pool UI elements** - Reuse nodes instead of creating/destroying\n5. **Use TextureAtlas** for UI sprites to reduce draw calls\n6. **Batch similar elements** under same parent\n7. **Disable processing** when UI is hidden: `process_mode = PROCESS_MODE_DISABLED`\n8. **Use Control.clip_contents** to prevent rendering off-screen elements\n\n**Memory Management:**\n```gdscript\n# Free unused UI scenes\nfunc close_menu():\n    queue_free()  # Instead of just hiding\n\n# Object pooling for frequently created UI\nvar button_pool = []\nconst MAX_POOL_SIZE = 20\n\nfunc get_pooled_button():\n    if button_pool.is_empty():\n        return Button.new()\n    return button_pool.pop_back()\n\nfunc return_to_pool(button: Button):\n    if button_pool.size() < MAX_POOL_SIZE:\n        button.get_parent().remove_child(button)\n        button_pool.append(button)\n    else:\n        button.queue_free()\n```\n\n## Accessibility Features\n\n**Text Scaling:**\n```gdscript\n# Support text size preferences\nfunc apply_text_scale(scale: float):\n    for label in get_tree().get_nodes_in_group(\"scalable_text\"):\n        if label is Label or label is RichTextLabel:\n            label.add_theme_font_size_override(\"font_size\", int(16 * scale))\n```\n\n**Gamepad Support:**\n```gdscript\n# Ensure all interactive UI is gamepad-accessible\nfunc _ready():\n    # Set up focus chain\n    for i in range($ButtonContainer.get_child_count() - 1):\n        var current = $ButtonContainer.get_child(i)\n        var next = $ButtonContainer.get_child(i + 1)\n        current.focus_neighbor_bottom = next.get_path()\n        next.focus_neighbor_top = current.get_path()\n\n    # Grab focus on first button\n    if $ButtonContainer.get_child_count() > 0:\n        $ButtonContainer.get_child(0).grab_focus()\n```\n\n## MCP Tool Usage\n\nWhen creating UI elements, you should:\n\n1. **Use `mcp__godot__create_scene`** to create new UI scene files\n2. **Use `mcp__godot__add_node`** to build Control node hierarchies\n3. **Use `mcp__godot__save_scene`** to save after creating UI structure\n4. **Use Edit/Write tools** to create associated GDScript files for UI logic\n5. **Use `mcp__godot__load_sprite`** to import UI textures and icons\n\n**Example Workflow:**\n```\n1. create_scene(\"res://scenes/ui/main_menu.tscn\", \"CanvasLayer\")\n2. add_node(..., \"MarginContainer\")\n3. add_node(..., \"VBoxContainer\")\n4. add_node(..., \"Button\")\n5. save_scene(...)\n6. Write GDScript controller\n```\n\n## When to Activate This Skill\n\nActivate this skill when the user:\n- Asks about creating menus, HUDs, or UI screens\n- Mentions Control nodes, themes, or styling\n- Needs help with inventory, dialogue, or menu systems\n- Asks about responsive UI or screen resolution handling\n- Requests help with button navigation or gamepad support\n- Wants to create settings menus or pause screens\n- Asks about UI animation or transitions\n- Needs help with UI performance optimization\n- Mentions anchors, containers, or layout management\n\n## Important Reminders\n\n- Always consider **gamepad/keyboard navigation** in addition to mouse\n- Use **CanvasLayers** to manage rendering order and prevent z-fighting\n- **Anchor presets** are your friend for responsive design\n- **Themes** should be created as resources for reusability\n- **Signal connections** are the primary way to handle UI interactions\n- **Tweens** make UI feel polished with smooth animations\n- **Test on multiple resolutions** - use Project Settings > Display > Window settings"
              }
            ]
          }
        ]
      }
    }
  ]
}