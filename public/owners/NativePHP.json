{
  "owner": {
    "id": "NativePHP",
    "display_name": "NativePHP",
    "type": "Organization",
    "avatar_url": "https://avatars.githubusercontent.com/u/130286900?v=4",
    "url": "https://github.com/NativePHP",
    "bio": "Create native desktop and mobile apps with PHP",
    "stats": {
      "total_repos": 1,
      "total_plugins": 2,
      "total_commands": 2,
      "total_skills": 11,
      "total_stars": 3,
      "total_forks": 1
    }
  },
  "repos": [
    {
      "full_name": "NativePHP/ClaudePlugins",
      "url": "https://github.com/NativePHP/ClaudePlugins",
      "description": null,
      "homepage": null,
      "signals": {
        "stars": 3,
        "forks": 1,
        "pushed_at": "2026-01-02T02:56:48Z",
        "created_at": "2025-12-11T19:16:09Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".DS_Store",
          "type": "blob",
          "size": 10244
        },
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 538
        },
        {
          "path": ".gitignore",
          "type": "blob",
          "size": 129
        },
        {
          "path": ".idea",
          "type": "tree",
          "size": null
        },
        {
          "path": ".idea/.gitignore",
          "type": "blob",
          "size": 176
        },
        {
          "path": "nativephp-mobile",
          "type": "tree",
          "size": null
        },
        {
          "path": "nativephp-mobile/.DS_Store",
          "type": "blob",
          "size": 6148
        },
        {
          "path": "nativephp-mobile/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "nativephp-mobile/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 545
        },
        {
          "path": "nativephp-mobile/.gitignore",
          "type": "blob",
          "size": 74
        },
        {
          "path": "nativephp-mobile/.idea",
          "type": "tree",
          "size": null
        },
        {
          "path": "nativephp-mobile/.idea/.gitignore",
          "type": "blob",
          "size": 176
        },
        {
          "path": "nativephp-mobile/.idea/dbnavigator.xml",
          "type": "blob",
          "size": 22463
        },
        {
          "path": "nativephp-mobile/.idea/material_theme_project_new.xml",
          "type": "blob",
          "size": 464
        },
        {
          "path": "nativephp-mobile/.idea/modules.xml",
          "type": "blob",
          "size": 284
        },
        {
          "path": "nativephp-mobile/.idea/nativephp-mobile.iml",
          "type": "blob",
          "size": 281
        },
        {
          "path": "nativephp-mobile/.idea/php.xml",
          "type": "blob",
          "size": 692
        },
        {
          "path": "nativephp-mobile/.idea/vcs.xml",
          "type": "blob",
          "size": 235
        },
        {
          "path": "nativephp-mobile/README.md",
          "type": "blob",
          "size": 1372
        },
        {
          "path": "nativephp-mobile/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "nativephp-mobile/agents/nativephp-config-validator.md",
          "type": "blob",
          "size": 6152
        },
        {
          "path": "nativephp-mobile/agents/nativephp-js-validator.md",
          "type": "blob",
          "size": 5958
        },
        {
          "path": "nativephp-mobile/agents/nativephp-livewire-validator.md",
          "type": "blob",
          "size": 5973
        },
        {
          "path": "nativephp-mobile/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "nativephp-mobile/skills/nativephp-apis",
          "type": "tree",
          "size": null
        },
        {
          "path": "nativephp-mobile/skills/nativephp-apis/SKILL.md",
          "type": "blob",
          "size": 8505
        },
        {
          "path": "nativephp-mobile/skills/nativephp-config",
          "type": "tree",
          "size": null
        },
        {
          "path": "nativephp-mobile/skills/nativephp-config/SKILL.md",
          "type": "blob",
          "size": 8829
        },
        {
          "path": "nativephp-mobile/skills/nativephp-deployment",
          "type": "tree",
          "size": null
        },
        {
          "path": "nativephp-mobile/skills/nativephp-deployment/SKILL.md",
          "type": "blob",
          "size": 8045
        },
        {
          "path": "nativephp-mobile/skills/nativephp-edge",
          "type": "tree",
          "size": null
        },
        {
          "path": "nativephp-mobile/skills/nativephp-edge/SKILL.md",
          "type": "blob",
          "size": 12305
        },
        {
          "path": "nativephp-mobile/skills/nativephp-events",
          "type": "tree",
          "size": null
        },
        {
          "path": "nativephp-mobile/skills/nativephp-events/SKILL.md",
          "type": "blob",
          "size": 8112
        },
        {
          "path": "nativephp-mobile/skills/nativephp-javascript",
          "type": "tree",
          "size": null
        },
        {
          "path": "nativephp-mobile/skills/nativephp-javascript/SKILL.md",
          "type": "blob",
          "size": 12923
        },
        {
          "path": "nativephp-mobile/skills/nativephp-livewire",
          "type": "tree",
          "size": null
        },
        {
          "path": "nativephp-mobile/skills/nativephp-livewire/SKILL.md",
          "type": "blob",
          "size": 14828
        },
        {
          "path": "nativephp-mobile/skills/nativephp-quickstart",
          "type": "tree",
          "size": null
        },
        {
          "path": "nativephp-mobile/skills/nativephp-quickstart/SKILL.md",
          "type": "blob",
          "size": 5817
        },
        {
          "path": "nativephp-plugin-dev",
          "type": "tree",
          "size": null
        },
        {
          "path": "nativephp-plugin-dev/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "nativephp-plugin-dev/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 576
        },
        {
          "path": "nativephp-plugin-dev/.gitignore",
          "type": "blob",
          "size": 102
        },
        {
          "path": "nativephp-plugin-dev/README.md",
          "type": "blob",
          "size": 2528
        },
        {
          "path": "nativephp-plugin-dev/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "nativephp-plugin-dev/agents/js-bridge-expert.md",
          "type": "blob",
          "size": 11030
        },
        {
          "path": "nativephp-plugin-dev/agents/kotlin-android-expert.md",
          "type": "blob",
          "size": 14569
        },
        {
          "path": "nativephp-plugin-dev/agents/nativephp-plugin-validator.md",
          "type": "blob",
          "size": 7047
        },
        {
          "path": "nativephp-plugin-dev/agents/nativephp-plugin-writer.md",
          "type": "blob",
          "size": 9245
        },
        {
          "path": "nativephp-plugin-dev/agents/swift-ios-expert.md",
          "type": "blob",
          "size": 19211
        },
        {
          "path": "nativephp-plugin-dev/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "nativephp-plugin-dev/commands/create-nativephp-plugin.md",
          "type": "blob",
          "size": 17742
        },
        {
          "path": "nativephp-plugin-dev/commands/validate-nativephp-plugin.md",
          "type": "blob",
          "size": 6652
        },
        {
          "path": "nativephp-plugin-dev/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "nativephp-plugin-dev/skills/native-code-patterns",
          "type": "tree",
          "size": null
        },
        {
          "path": "nativephp-plugin-dev/skills/native-code-patterns/SKILL.md",
          "type": "blob",
          "size": 31826
        },
        {
          "path": "nativephp-plugin-dev/skills/nativephp-architecture",
          "type": "tree",
          "size": null
        },
        {
          "path": "nativephp-plugin-dev/skills/nativephp-architecture/SKILL.md",
          "type": "blob",
          "size": 8656
        },
        {
          "path": "nativephp-plugin-dev/skills/plugin-structure",
          "type": "tree",
          "size": null
        },
        {
          "path": "nativephp-plugin-dev/skills/plugin-structure/SKILL.md",
          "type": "blob",
          "size": 22625
        }
      ],
      "marketplace": {
        "name": "nativephp-mobile-plugin",
        "version": null,
        "description": null,
        "owner_info": {
          "name": "Bifrost Technology"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "nativephp-mobile",
            "description": "Comprehensive assistance for building iOS and Android apps with NativePHP Mobile",
            "source": "./nativephp-mobile",
            "category": null,
            "version": "0.1.0",
            "author": null,
            "install_commands": [
              "/plugin marketplace add NativePHP/ClaudePlugins",
              "/plugin install nativephp-mobile@nativephp-mobile-plugin"
            ],
            "signals": {
              "stars": 3,
              "forks": 1,
              "pushed_at": "2026-01-02T02:56:48Z",
              "created_at": "2025-12-11T19:16:09Z",
              "license": null
            },
            "commands": [],
            "skills": [
              {
                "name": "NativePHP APIs",
                "description": "This skill should be used when the user asks about \"nativephp api\", \"camera api\", \"device api\", \"biometrics\", \"geolocation\", \"scanner api\", \"microphone api\", \"nativephp_call\", \"god method\", \"bridge function\", \"SecureStorage\", \"Dialog api\", \"Share api\", \"PushNotifications api\", \"Network status\", \"Browser api\", \"Haptics\", \"File api\", or needs to use any NativePHP native functionality in their app.",
                "path": "nativephp-mobile/skills/nativephp-apis/SKILL.md",
                "frontmatter": {
                  "name": "NativePHP APIs",
                  "description": "This skill should be used when the user asks about \"nativephp api\", \"camera api\", \"device api\", \"biometrics\", \"geolocation\", \"scanner api\", \"microphone api\", \"nativephp_call\", \"god method\", \"bridge function\", \"SecureStorage\", \"Dialog api\", \"Share api\", \"PushNotifications api\", \"Network status\", \"Browser api\", \"Haptics\", \"File api\", or needs to use any NativePHP native functionality in their app.",
                  "version": "0.1.0"
                },
                "content": "# NativePHP Native APIs\n\nThis skill provides guidance for using NativePHP's native APIs to access device features like camera, biometrics, geolocation, and more.\n\n## Overview\n\nNativePHP provides PHP Facades that wrap native device functionality. All APIs are accessible via `Native\\Mobile\\Facades\\*` namespace. Most async operations use a fluent \"Pending*\" builder pattern.\n\n## Available Facades\n\n| Facade | Purpose |\n|--------|---------|\n| `Camera` | Photos, videos, gallery picker |\n| `Device` | Device ID, info, battery, vibration, flashlight |\n| `Dialog` | Native alerts and toasts |\n| `Scanner` | QR code and barcode scanning |\n| `Biometrics` | Face ID, Touch ID, fingerprint |\n| `Geolocation` | GPS location and permissions |\n| `Microphone` | Audio recording |\n| `Network` | Network status |\n| `Browser` | Open URLs in browser or in-app |\n| `Share` | Native share sheet |\n| `SecureStorage` | Keychain/Keystore secure storage |\n| `File` | Move and copy files |\n| `PushNotifications` | Push notification enrollment |\n| `System` | Platform detection, app settings |\n| `Haptics` | Haptic feedback (deprecated, use Device) |\n\n## Fluent Builder Pattern\n\nAsync operations return `Pending*` objects for configuration:\n\n```php\nuse Native\\Mobile\\Facades\\Camera;\n\nCamera::getPhoto()\n    ->id('profile-photo')      // Track this request\n    ->event(MyPhotoEvent::class) // Custom event class\n    ->remember()               // Store ID in session\n    ->start();                 // Execute (or auto-executes on destruct)\n```\n\nCommon fluent methods:\n- `id(string $id)` - Unique identifier for tracking\n- `event(string $class)` - Custom event class for response\n- `remember()` - Flash ID to session for retrieval\n- `lastId()` - Get last remembered ID from session\n\n## Camera API\n\n```php\nuse Native\\Mobile\\Facades\\Camera;\n\n// Take photo\nCamera::getPhoto()->id('avatar')->start();\n\n// Record video with max duration\nCamera::recordVideo()->maxDuration(30)->start();\n\n// Pick from gallery\nCamera::pickImages()\n    ->images()           // Only images (or ->videos(), ->all())\n    ->multiple(true, 5)  // Allow up to 5 selections\n    ->start();\n```\n\n**Events**: `PhotoTaken`, `PhotoCancelled`, `VideoRecorded`, `VideoCancelled`, `MediaSelected`\n\n## Device API\n\n```php\nuse Native\\Mobile\\Facades\\Device;\n\n$deviceId = Device::getId();\n$info = Device::getInfo();      // Returns JSON with platform, model, etc.\n$battery = Device::getBatteryInfo();\nDevice::vibrate();\nDevice::flashlight();           // Toggle flashlight\n```\n\n## Dialog API\n\n```php\nuse Native\\Mobile\\Facades\\Dialog;\n\n// Alert with buttons\nDialog::alert('Title', 'Message', ['OK', 'Cancel'])\n    ->id('confirm-delete')\n    ->show();\n\n// Toast notification\nDialog::toast('Operation complete', 'long'); // 'short' or 'long'\n```\n\n**Events**: `ButtonPressed` with `index` and `label` properties\n\n## Scanner API\n\n```php\nuse Native\\Mobile\\Facades\\Scanner;\n\nScanner::scan()\n    ->prompt('Scan product barcode')\n    ->formats(['qr', 'ean13', 'code128']) // or 'all'\n    ->continuous(true)  // Keep scanning\n    ->id('product-scan')\n    ->scan();\n```\n\n**Supported formats**: `qr`, `ean13`, `ean8`, `code128`, `code39`, `upca`, `upce`, `all`\n\n**Events**: `CodeScanned` with `data` and `format` properties\n\n## Biometrics API\n\n```php\nuse Native\\Mobile\\Facades\\Biometrics;\n\nBiometrics::prompt()\n    ->id('auth-check')\n    ->prompt();\n```\n\n**Events**: `Completed` with `success` boolean\n\n## Geolocation API\n\n```php\nuse Native\\Mobile\\Facades\\Geolocation;\n\n// Get current position\nGeolocation::getCurrentPosition()\n    ->fineAccuracy(true)  // GPS-level accuracy\n    ->id('location')\n    ->get();\n\n// Check permissions\nGeolocation::checkPermissions()->get();\n\n// Request permissions\nGeolocation::requestPermissions()->get();\n```\n\n**Events**: `LocationReceived`, `PermissionStatusReceived`, `PermissionRequestResult`\n\n## Microphone API\n\n```php\nuse Native\\Mobile\\Facades\\Microphone;\n\n// Start recording\nMicrophone::record()->id('voice-note')->start();\n\n// Control recording\nMicrophone::pause();\nMicrophone::resume();\nMicrophone::stop();\n\n// Get status and recording\n$status = Microphone::getStatus();  // 'idle', 'recording', 'paused'\n$path = Microphone::getRecording(); // Path to last recording\n```\n\n**Events**: `MicrophoneRecorded`, `MicrophoneCancelled`\n\n## Network API\n\n```php\nuse Native\\Mobile\\Facades\\Network;\n\n$status = Network::status();\n// Returns: { connected, type, isExpensive, isConstrained }\n```\n\n## Browser API\n\n```php\nuse Native\\Mobile\\Facades\\Browser;\n\nBrowser::open('https://example.com');     // Default browser\nBrowser::inApp('https://example.com');    // In-app browser\nBrowser::auth('https://oauth.example.com'); // Auth session\n```\n\n## Share API\n\n```php\nuse Native\\Mobile\\Facades\\Share;\n\nShare::url('Check this out', 'Description', 'https://example.com');\nShare::file('Document', 'Here is the file', '/path/to/file.pdf');\n```\n\n## SecureStorage API\n\nSecureStorage is a **synchronous** API that stores data in the native keychain (iOS) or keystore (Android). It can be used directly in Blade templates and conditionals.\n\n```php\nuse Native\\Mobile\\Facades\\SecureStorage;\n\n// Store in native keychain/keystore\nSecureStorage::set('api_token', $token);\n$token = SecureStorage::get('api_token');\nSecureStorage::delete('api_token');\n```\n\n### Using in Blade Templates\n\nBecause SecureStorage is synchronous, you can use it directly in Blade conditionals:\n\n```blade\n@if(SecureStorage::get('api_token'))\n    {{-- User is authenticated --}}\n    <x-dashboard />\n@else\n    {{-- Show login --}}\n    <x-login-form />\n@endif\n```\n\nThis is particularly useful for auth-gated content without needing to pass auth state through controllers.\n\n## PushNotifications API\n\n```php\nuse Native\\Mobile\\Facades\\PushNotifications;\n\n// Request permission and enroll\nPushNotifications::enroll()->id('main')->enroll();\n\n// Get token (APNS on iOS, FCM on Android)\n$token = PushNotifications::getToken();\n```\n\n**Events**: `TokenGenerated` with `token` property\n\n## System API\n\n```php\nuse Native\\Mobile\\Facades\\System;\n\nif (System::isMobile()) { /* running on device */ }\nif (System::isIos()) { /* iOS specific */ }\nif (System::isAndroid()) { /* Android specific */ }\n\nSystem::appSettings(); // Open native app settings\n```\n\n## File API\n\n```php\nuse Native\\Mobile\\Facades\\File;\n\nFile::move('/from/path', '/to/path');\nFile::copy('/from/path', '/to/path');\n```\n\n## The God Method (nativephp_call)\n\nFor advanced usage, call bridge functions directly:\n\n```php\n$result = nativephp_call('Camera.GetPhoto', json_encode(['id' => 'test']));\n```\n\nBridge function names follow `Category.Action` pattern:\n- `Camera.GetPhoto`, `Camera.RecordVideo`, `Camera.PickMedia`\n- `Device.GetId`, `Device.GetInfo`, `Device.Vibrate`\n- `Dialog.Alert`, `Dialog.Toast`\n- `QrCode.Scan`\n- `Biometric.Prompt`\n- `Geolocation.GetCurrentPosition`, `Geolocation.CheckPermissions`\n- `Network.Status`\n- `Browser.Open`, `Browser.OpenInApp`, `Browser.OpenAuth`\n- `Microphone.Start`, `Microphone.Stop`, `Microphone.Pause`, `Microphone.Resume`\n- `SecureStorage.Set`, `SecureStorage.Get`, `SecureStorage.Delete`\n- `Share.Url`, `Share.File`\n- `System.OpenAppSettings`\n- `PushNotification.RequestPermission`, `PushNotification.GetToken`\n\n## Permission Requirements\n\nEnable required permissions in `config/nativephp.php`:\n\n```php\n'permissions' => [\n    'camera' => true,\n    'microphone' => true,\n    'biometric' => true,\n    'location' => true,\n    'push_notifications' => true,\n    'scanner' => true,\n    // etc.\n],\n```\n\n## Fetching Live Documentation\n\nFor detailed API documentation, fetch from:\n\n- **APIs Overview**: `https://nativephp.com/docs/mobile/2/apis/overview`\n- **Camera**: `https://nativephp.com/docs/mobile/2/apis/camera`\n- **Biometrics**: `https://nativephp.com/docs/mobile/2/apis/biometrics`\n- **Geolocation**: `https://nativephp.com/docs/mobile/2/apis/geolocation`\n- **Scanner**: `https://nativephp.com/docs/mobile/2/apis/scanner`\n- **Push Notifications**: `https://nativephp.com/docs/mobile/2/apis/push-notifications`\n\nUse WebFetch for the most current API details."
              },
              {
                "name": "NativePHP Configuration",
                "description": "This skill should be used when the user asks about \"nativephp config\", \"nativephp.php\", \"nativephp permission\", \"enable camera permission\", \"NATIVEPHP_APP_ID\", \"environment variables\", \"app permissions\", \"config/nativephp.php\", \"deep link config\", \"status bar style\", \"orientation config\", \"cleanup config\", or needs to configure their NativePHP Mobile application.",
                "path": "nativephp-mobile/skills/nativephp-config/SKILL.md",
                "frontmatter": {
                  "name": "NativePHP Configuration",
                  "description": "This skill should be used when the user asks about \"nativephp config\", \"nativephp.php\", \"nativephp permission\", \"enable camera permission\", \"NATIVEPHP_APP_ID\", \"environment variables\", \"app permissions\", \"config/nativephp.php\", \"deep link config\", \"status bar style\", \"orientation config\", \"cleanup config\", or needs to configure their NativePHP Mobile application.",
                  "version": "0.1.0"
                },
                "content": "# NativePHP Configuration\n\nThis skill provides guidance for configuring NativePHP Mobile applications through the config file and environment variables.\n\n## Configuration File\n\nThe main configuration file is `config/nativephp.php`. Publish it with:\n\n```bash\nphp artisan vendor:publish --tag=nativephp-config\n```\n\n## Essential Environment Variables\n\n### Required\n\n```env\n# Unique app identifier (reverse domain notation)\n# Only lowercase letters, numbers, and periods\n# NO hyphens, underscores, spaces, or emoji\nNATIVEPHP_APP_ID=com.yourcompany.yourapp\n```\n\n### Recommended\n\n```env\n# App version (semver)\nNATIVEPHP_APP_VERSION=1.0.0\n\n# Numeric version code (increment for each store upload)\nNATIVEPHP_APP_VERSION_CODE=1\n\n# Initial URL to load (default: \"/\")\nNATIVEPHP_START_URL=/\n```\n\n### iOS-Specific\n\n```env\n# Apple Developer Team ID (from developer.apple.com)\nNATIVEPHP_DEVELOPMENT_TEAM=ABC123XYZ\n\n# App Store Connect credentials (for deployment)\nAPP_STORE_API_KEY=your-api-key\nAPP_STORE_API_KEY_ID=KEYID123\nAPP_STORE_API_ISSUER_ID=issuer-uuid\nAPP_STORE_APP_NAME=Your App Name\n```\n\n### Android-Specific\n\n```env\n# Gradle JDK path (if not using JAVA_HOME)\nNATIVEPHP_GRADLE_PATH=/path/to/jdk\n\n# Android SDK location\nNATIVEPHP_ANDROID_SDK_LOCATION=/path/to/android/sdk\n\n# Android emulator path\nANDROID_EMULATOR=/path/to/emulator\n\n# Status bar icon style: 'auto', 'light', 'dark'\nNATIVEPHP_ANDROID_STATUS_BAR_STYLE=auto\n\n# Enable R8/ProGuard minification for release\nNATIVEPHP_ANDROID_MINIFY_ENABLED=true\n\n# Windows only: 7-Zip location\nNATIVEPHP_7ZIP_LOCATION=C:\\Program Files\\7-Zip\\7z.exe\n```\n\n### Deep Links\n\n```env\n# Custom URL scheme (e.g., myapp://path)\nNATIVEPHP_DEEPLINK_SCHEME=myapp\n\n# Associated domain for universal/app links (e.g., https://example.com/path)\nNATIVEPHP_DEEPLINK_HOST=example.com\n```\n\n## Permissions Configuration\n\nAll permissions default to `false`. Enable only what your app needs in `config/nativephp.php`:\n\n```php\n'permissions' => [\n    // Biometric authentication (Face ID, Touch ID, fingerprint)\n    'biometric' => false,\n\n    // Camera access for photos/video\n    'camera' => false,\n\n    // GPS location access\n    'location' => false,\n\n    // Microphone for audio recording\n    'microphone' => false,\n\n    // Background audio recording (iOS)\n    'microphone_background' => false,\n\n    // Network state monitoring (enabled by default)\n    'network_state' => true,\n\n    // NFC reader access\n    'nfc' => false,\n\n    // Push notification capability\n    'push_notifications' => false,\n\n    // QR code and barcode scanning\n    'scanner' => false,\n\n    // Read external storage\n    'storage_read' => false,\n\n    // Write external storage\n    'storage_write' => false,\n\n    // Haptic feedback\n    'vibrate' => false,\n],\n```\n\n### Custom iOS Permission Descriptions\n\nProvide custom permission descriptions for iOS:\n\n```php\n'permissions' => [\n    'camera' => 'We need camera access to scan documents',\n    'location' => 'Location is used to show nearby stores',\n    'microphone' => 'Record voice notes for your tasks',\n],\n```\n\n## Display Configuration\n\n### Orientation Settings\n\n```php\n'orientation' => [\n    'iphone' => [\n        'portrait',\n        'landscape_left',\n        'landscape_right',\n        // 'upside_down' // Not recommended for iPhone\n    ],\n    'android' => [\n        'portrait',\n        'landscape_left',\n        'landscape_right',\n        'upside_down',\n    ],\n],\n```\n\n**Note**: iPad always supports all orientations regardless of settings.\n\n### iPad Support\n\n```php\n// Enable iPad support\n'ipad' => true,\n```\n\n**Warning**: Once an app with iPad support is published, removing it requires a new App ID.\n\n### Status Bar Style (Android)\n\n```php\n// Options: 'auto', 'light' (for dark backgrounds), 'dark' (for light backgrounds)\n'status_bar_style' => 'auto',\n```\n\n## App Identification\n\n```php\n// Unique app identifier (from NATIVEPHP_APP_ID)\n'app_id' => env('NATIVEPHP_APP_ID', 'com.nativephp.app'),\n\n// Version string (semver)\n'version' => env('NATIVEPHP_APP_VERSION', '1.0.0'),\n\n// Numeric version code for Play Store\n'version_code' => env('NATIVEPHP_APP_VERSION_CODE', 1),\n\n// Initial URL to load\n'start_url' => env('NATIVEPHP_START_URL', '/'),\n```\n\n## Deep Link Configuration\n\n```php\n// Custom URL scheme (e.g., myapp://path)\n'deeplink_scheme' => env('NATIVEPHP_DEEPLINK_SCHEME', 'nativephp'),\n\n// Domain for HTTPS deep links and NFC\n'deeplink_host' => env('NATIVEPHP_DEEPLINK_HOST', ''),\n```\n\n### Associated Domain Setup\n\nFor HTTPS deep links (universal/app links), host verification files:\n\n**iOS** - `/.well-known/apple-app-site-association`:\n```json\n{\n  \"applinks\": {\n    \"apps\": [],\n    \"details\": [{\n      \"appID\": \"TEAMID.com.yourcompany.yourapp\",\n      \"paths\": [\"*\"]\n    }]\n  }\n}\n```\n\n**Android** - `/.well-known/assetlinks.json`:\n```json\n[{\n  \"relation\": [\"delegate_permission/common.handle_all_urls\"],\n  \"target\": {\n    \"namespace\": \"android_app\",\n    \"package_name\": \"com.yourcompany.yourapp\",\n    \"sha256_cert_fingerprints\": [\"YOUR_CERT_FINGERPRINT\"]\n  }\n}]\n```\n\n## Build Configuration (Android)\n\n```php\n'build' => [\n    // Enable R8/ProGuard minification for release builds\n    'minify_enabled' => env('NATIVEPHP_ANDROID_MINIFY_ENABLED', false),\n\n    // Debug symbol level for Play Store crashes\n    'debug_symbols' => 'none', // 'full', 'symbol_table', 'none'\n\n    // Enable parallel Gradle builds\n    'parallel_builds' => true,\n\n    // Enable incremental builds\n    'incremental_builds' => true,\n],\n```\n\n## Hot Reload Configuration\n\n```php\n'hot_reload' => [\n    // Paths to watch for changes\n    'watch_paths' => [\n        'app',\n        'resources',\n        'routes',\n        'config',\n    ],\n\n    // Patterns to exclude from watch\n    'exclude_patterns' => [\n        'storage',\n        'node_modules',\n        'vendor',\n    ],\n],\n```\n\n## Cleanup Configuration\n\nRemove sensitive data before bundling:\n\n```php\n// Environment variables to remove before bundling\n'cleanup_env_keys' => [\n    'AWS_ACCESS_KEY_ID',\n    'AWS_SECRET_ACCESS_KEY',\n    'STRIPE_SECRET',\n    'PUSHER_APP_SECRET',\n    // Add your sensitive keys\n],\n\n// Files/folders to exclude from bundle (reduces app size)\n'cleanup_exclude_files' => [\n    'tests',\n    '.git',\n    'node_modules',\n    '.env.example',\n    'README.md',\n    // Add unnecessary files\n],\n```\n\n## iOS-Specific Configuration\n\n```php\n// Apple Developer Team ID\n'development_team' => env('NATIVEPHP_DEVELOPMENT_TEAM'),\n\n// App Store Connect API credentials\n'app_store_connect' => [\n    'api_key' => env('APP_STORE_API_KEY'),\n    'api_key_id' => env('APP_STORE_API_KEY_ID'),\n    'issuer_id' => env('APP_STORE_API_ISSUER_ID'),\n    'app_name' => env('APP_STORE_APP_NAME'),\n],\n```\n\n## Version Configuration for Development\n\nDuring development, use `DEBUG` to force fresh extraction:\n\n```env\nNATIVEPHP_APP_VERSION=DEBUG\n```\n\nThis ensures code changes are always reflected without version comparison caching.\n\n## Complete Example Configuration\n\n```php\n// config/nativephp.php\nreturn [\n    'app_id' => env('NATIVEPHP_APP_ID', 'com.nativephp.app'),\n    'version' => env('NATIVEPHP_APP_VERSION', '1.0.0'),\n    'version_code' => env('NATIVEPHP_APP_VERSION_CODE', 1),\n    'start_url' => env('NATIVEPHP_START_URL', '/'),\n\n    'deeplink_scheme' => env('NATIVEPHP_DEEPLINK_SCHEME', ''),\n    'deeplink_host' => env('NATIVEPHP_DEEPLINK_HOST', ''),\n\n    'development_team' => env('NATIVEPHP_DEVELOPMENT_TEAM'),\n    'ipad' => false,\n\n    'orientation' => [\n        'iphone' => ['portrait'],\n        'android' => ['portrait'],\n    ],\n\n    'status_bar_style' => 'auto',\n\n    'permissions' => [\n        'biometric' => false,\n        'camera' => true,\n        'location' => false,\n        'microphone' => true,\n        'push_notifications' => true,\n        'scanner' => true,\n        'network_state' => true,\n        'vibrate' => true,\n    ],\n\n    'cleanup_env_keys' => [\n        'AWS_SECRET_ACCESS_KEY',\n        'STRIPE_SECRET',\n    ],\n\n    'cleanup_exclude_files' => [\n        'tests',\n        '.git',\n        'node_modules',\n    ],\n];\n```\n\n## Fetching Live Documentation\n\nFor detailed configuration documentation:\n\n- **Configuration**: `https://nativephp.com/docs/mobile/2/getting-started/configuration`\n- **Deep Links**: `https://nativephp.com/docs/mobile/2/concepts/deep-links`\n- **Web View & Safe Areas**: `https://nativephp.com/docs/mobile/2/the-basics/web-view`\n\nUse WebFetch to retrieve the latest configuration options."
              },
              {
                "name": "NativePHP Deployment",
                "description": "This skill should be used when the user asks about \"deploy nativephp\", \"build ios app\", \"build android app\", \"app store submission\", \"play store submission\", \"native:package\", \"native:release\", \"sign android app\", \"sign ios app\", \"create ipa\", \"create aab\", \"create apk\", \"upload to app store\", \"release build\", or needs to package and deploy their NativePHP Mobile application.",
                "path": "nativephp-mobile/skills/nativephp-deployment/SKILL.md",
                "frontmatter": {
                  "name": "NativePHP Deployment",
                  "description": "This skill should be used when the user asks about \"deploy nativephp\", \"build ios app\", \"build android app\", \"app store submission\", \"play store submission\", \"native:package\", \"native:release\", \"sign android app\", \"sign ios app\", \"create ipa\", \"create aab\", \"create apk\", \"upload to app store\", \"release build\", or needs to package and deploy their NativePHP Mobile application.",
                  "version": "0.1.0"
                },
                "content": "# NativePHP Deployment\n\nThis skill provides guidance for building, signing, packaging, and deploying NativePHP Mobile applications to the App Store and Play Store.\n\n## Deployment Overview\n\nThe deployment process involves:\n1. Creating a release build\n2. Testing on real devices\n3. Signing and packaging\n4. Submitting for review\n5. Publishing to stores\n\n## Pre-Deployment Checklist\n\nBefore packaging:\n\n- [ ] Set production version in `.env`:\n  ```env\n  NATIVEPHP_APP_VERSION=1.0.0\n  NATIVEPHP_APP_VERSION_CODE=1\n  ```\n- [ ] Configure all required permissions in `config/nativephp.php`\n- [ ] Remove debug code and test data\n- [ ] Test on physical devices\n- [ ] Prepare app store assets (icons, screenshots, descriptions)\n\n## Release Build\n\nCreate an optimized release build:\n\n```bash\nphp artisan native:run ios --build=release\nphp artisan native:run android --build=release\n```\n\nThis removes debugging code and optimizes the application. Always test release builds on physical devices before submission.\n\n## Android Deployment\n\n### Generate Signing Credentials\n\nCreate keystore automatically:\n\n```bash\nphp artisan native:credentials android\n```\n\nThis generates:\n- Keystore file (`.keystore`)\n- Keystore password\n- Key alias\n- Key password\n\n**Store these credentials securely** - they're required for all future updates.\n\n### Build APK (Direct Distribution)\n\n```bash\nphp artisan native:package android \\\n  --keystore=/path/to/my-app.keystore \\\n  --keystore-password=your_password \\\n  --key-alias=my-app-key \\\n  --key-password=your_key_password\n```\n\nOutput: `nativephp/android/app/build/outputs/apk/release/app-release.apk`\n\n### Build AAB (Play Store)\n\n```bash\nphp artisan native:package android \\\n  --build-type=bundle \\\n  --keystore=/path/to/my-app.keystore \\\n  --keystore-password=your_password \\\n  --key-alias=my-app-key \\\n  --key-password=your_key_password\n```\n\nOutput: `nativephp/android/app/build/outputs/bundle/release/app-release.aab`\n\n### Upload to Play Store\n\nDirect upload with Google Service Account:\n\n```bash\nphp artisan native:package android \\\n  --build-type=bundle \\\n  --keystore=/path/to/my-app.keystore \\\n  --keystore-password=your_password \\\n  --key-alias=my-app-key \\\n  --key-password=your_key_password \\\n  --upload-to-play-store \\\n  --play-store-track=internal  # or alpha, beta, production\n```\n\n### Auto-Increment Version\n\nWith Google Service Account credentials configured, automatically increment build number:\n\n```bash\nphp artisan native:package android \\\n  --build-type=bundle \\\n  [signing options] \\\n  --upload-to-play-store\n```\n\nSkip ahead in version numbering:\n\n```bash\nphp artisan native:package android --jump-by=10\n```\n\n## iOS Deployment\n\n### Required Credentials\n\nGather these before packaging:\n\n1. **App Store Connect API Key** (`.p8` file) - Generate at App Store Connect > Users and Access > Keys\n2. **API Key ID** - Shown when creating the key\n3. **Issuer ID** - Found in Users and Access > Keys\n4. **Distribution Certificate** (`.p12` or `.cer`) - From Xcode or Apple Developer portal\n5. **Certificate Password** - Password for the .p12 file\n6. **Provisioning Profile** (`.mobileprovision`) - Match your app ID and certificate\n7. **Team ID** - Your Apple Developer Team ID\n\n### Export Methods\n\n| Method | Use Case |\n|--------|----------|\n| `app-store` | Production App Store submission (default) |\n| `ad-hoc` | Distribute to specific registered devices |\n| `enterprise` | Enterprise-only distribution |\n| `development` | Testing on personal devices |\n\n### Build for App Store\n\n```bash\nphp artisan native:package ios \\\n  --export-method=app-store \\\n  --api-key=/path/to/AuthKey.p8 \\\n  --api-key-id=KEYID123 \\\n  --api-issuer-id=issuer-uuid \\\n  --certificate=/path/to/distribution.p12 \\\n  --certificate-password=cert_password \\\n  --provisioning-profile=/path/to/profile.mobileprovision \\\n  --team-id=ABC123XYZ \\\n  --upload-to-app-store\n```\n\n### Build Ad-Hoc (TestFlight Alternative)\n\n```bash\nphp artisan native:package ios \\\n  --export-method=ad-hoc \\\n  --certificate=/path/to/distribution.p12 \\\n  --certificate-password=cert_password \\\n  --provisioning-profile=/path/to/adhoc.mobileprovision \\\n  --team-id=ABC123XYZ\n```\n\n### Build for Development\n\n```bash\nphp artisan native:package ios \\\n  --export-method=development \\\n  --certificate=/path/to/development.p12 \\\n  --certificate-password=cert_password \\\n  --provisioning-profile=/path/to/dev.mobileprovision \\\n  --team-id=ABC123XYZ\n```\n\n### iOS-Specific Options\n\n```bash\n# Validate provisioning profile and entitlements\nphp artisan native:package ios --validate-profile\n\n# Clear Xcode and SPM caches\nphp artisan native:package ios --clean-caches\n\n# Force complete rebuild\nphp artisan native:package ios --rebuild\n\n# Validate without creating IPA\nphp artisan native:package ios --validate-only\n```\n\n## Using Environment Variables\n\nStore credentials in `.env` to avoid command-line exposure:\n\n```env\n# Android\nANDROID_KEYSTORE=/path/to/keystore\nANDROID_KEYSTORE_PASSWORD=password\nANDROID_KEY_ALIAS=alias\nANDROID_KEY_PASSWORD=password\n\n# iOS\nIOS_API_KEY=/path/to/AuthKey.p8\nIOS_API_KEY_ID=KEYID123\nIOS_API_ISSUER_ID=issuer-uuid\nIOS_CERTIFICATE=/path/to/certificate.p12\nIOS_CERTIFICATE_PASSWORD=password\nIOS_PROVISIONING_PROFILE=/path/to/profile.mobileprovision\nIOS_TEAM_ID=ABC123XYZ\n```\n\nThen reference in commands or configure in `config/nativephp.php`.\n\n## CI/CD Integration\n\nFor automated pipelines:\n\n```bash\n# Disable TTY for non-interactive environments\nphp artisan native:package android --no-tty [options]\nphp artisan native:package ios --no-tty [options]\n```\n\n### GitHub Actions Example\n\n```yaml\n- name: Build Android\n  run: |\n    php artisan native:package android \\\n      --build-type=bundle \\\n      --keystore=${{ secrets.ANDROID_KEYSTORE }} \\\n      --keystore-password=${{ secrets.ANDROID_KEYSTORE_PASSWORD }} \\\n      --key-alias=${{ secrets.ANDROID_KEY_ALIAS }} \\\n      --key-password=${{ secrets.ANDROID_KEY_PASSWORD }} \\\n      --no-tty\n```\n\n## Version Management\n\n### Setting Versions\n\n```env\n# Semantic version displayed to users\nNATIVEPHP_APP_VERSION=1.2.3\n\n# Integer that must increment for each store upload\nNATIVEPHP_APP_VERSION_CODE=48\n```\n\n### Version Rules\n\n- **App Store**: Build number must be higher than any previous upload\n- **Play Store**: Version code must be strictly higher than current published version\n- Both stores reject duplicate version numbers\n\n## Output Locations\n\n| Platform | Type | Location |\n|----------|------|----------|\n| Android | APK | `nativephp/android/app/build/outputs/apk/release/app-release.apk` |\n| Android | AAB | `nativephp/android/app/build/outputs/bundle/release/app-release.aab` |\n| iOS | IPA | Xcode's build output directory |\n\n## Troubleshooting\n\n### Android: Keystore Issues\n\n```bash\n# Verify keystore\nkeytool -list -v -keystore /path/to/keystore\n```\n\n### iOS: Provisioning Profile Mismatch\n\nEnsure:\n- Profile matches your App ID exactly\n- Profile includes your distribution certificate\n- Profile is not expired\n\n### Build Failures\n\n```bash\n# Clean and rebuild\nphp artisan native:package [platform] --clean-caches --rebuild\n```\n\n## Post-Deployment\n\n### App Store Connect\n\n1. Upload build via Xcode or Transporter\n2. Complete app metadata\n3. Submit for review\n4. Monitor review status\n\n### Google Play Console\n\n1. Upload AAB in Production/Testing track\n2. Complete store listing\n3. Submit for review\n4. Staged rollout recommended\n\n## Fetching Live Documentation\n\nFor detailed deployment documentation:\n\n- **Deployment**: `https://nativephp.com/docs/mobile/2/getting-started/deployment`\n\nUse WebFetch to retrieve the latest deployment procedures and options."
              },
              {
                "name": "NativePHP EDGE Components",
                "description": "This skill should be used when the user asks about \"EDGE component\", \"native-top-bar\", \"native-bottom-nav\", \"native-side-nav\", \"native-fab\", \"native ui component\", \"TopBar\", \"BottomNav\", \"SideNav\", \"Fab component\", \"native navigation\", \"nativephp-safe-area\", \"safe area insets\", or needs to implement native UI elements that render natively on device.",
                "path": "nativephp-mobile/skills/nativephp-edge/SKILL.md",
                "frontmatter": {
                  "name": "NativePHP EDGE Components",
                  "description": "This skill should be used when the user asks about \"EDGE component\", \"native-top-bar\", \"native-bottom-nav\", \"native-side-nav\", \"native-fab\", \"native ui component\", \"TopBar\", \"BottomNav\", \"SideNav\", \"Fab component\", \"native navigation\", \"nativephp-safe-area\", \"safe area insets\", or needs to implement native UI elements that render natively on device.",
                  "version": "0.1.0"
                },
                "content": "# NativePHP EDGE Components\n\nThis skill provides guidance for using EDGE (Element Definition and Generation Engine) components to render truly native UI elements in NativePHP Mobile apps.\n\n## Overview\n\nEDGE components are Blade components that generate JSON structures passed to the native layer, which renders platform-specific UI (iOS/Android). They provide native look and feel while being defined in PHP/Blade.\n\n## How EDGE Works\n\n1. Blade components (e.g., `<native:top-bar>`) render JSON structure\n2. JSON is passed via HTTP header to native layer\n3. Native code renders platform-appropriate UI\n4. The `RenderEdgeComponents` middleware handles this automatically\n\n## Safe Area Handling\n\nMobile devices have notches, rounded corners, and home indicators. Handle these with:\n\n### CSS Class\n\nApply the `nativephp-safe-area` class to your main container:\n\n```html\n<body class=\"nativephp-safe-area\">\n    <!-- Content respects device safe areas -->\n</body>\n```\n\n### CSS Variables\n\nFor custom layouts, use safe area CSS variables:\n\n```css\n.my-element {\n    padding-top: var(--inset-top);\n    padding-bottom: var(--inset-bottom);\n    padding-left: var(--inset-left);\n    padding-right: var(--inset-right);\n}\n```\n\n### Viewport Configuration\n\nFor edge-to-edge rendering:\n\n```html\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1, viewport-fit=cover\">\n```\n\n## TopBar Component\n\nNative top navigation bar with title and action buttons.\n\n### Basic Usage\n\n```blade\n<native:top-bar title=\"Dashboard\" />\n```\n\n### Full Example\n\n```blade\n<native:top-bar\n    title=\"My App\"\n    subtitle=\"Welcome back\"\n    :show-navigation-icon=\"true\"\n    background-color=\"#1a1a2e\"\n    text-color=\"#ffffff\"\n    :elevation=\"4\"\n>\n    <native:top-bar-action\n        id=\"search\"\n        icon=\"search\"\n        label=\"Search\"\n        :url=\"route('search')\"\n    />\n    <native:top-bar-action\n        id=\"settings\"\n        icon=\"settings\"\n        label=\"Settings\"\n        :url=\"route('settings')\"\n    />\n</native:top-bar>\n```\n\n### TopBar Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `title` | string | Main heading text |\n| `subtitle` | string | Secondary text below title |\n| `show-navigation-icon` | bool | Show back/menu button (default: true) |\n| `background-color` | string | Hex color for background |\n| `text-color` | string | Hex color for text |\n| `elevation` | int | Shadow depth 0-24 (Android only) |\n\n### TopBarAction Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `id` | string | Unique identifier (required) |\n| `icon` | string | Icon name (required) |\n| `label` | string | Accessibility text and overflow menu text |\n| `url` | string | Navigation target when tapped |\n| `event` | string | Livewire event to dispatch instead of navigation |\n\n**Action limits**: Android shows first 3 as icons, rest in overflow. iOS shows up to 5, then overflow.\n\n## BottomNav Component\n\nNative bottom navigation bar with tab items.\n\n### Basic Usage\n\n```blade\n<native:bottom-nav>\n    <native:bottom-nav-item\n        id=\"home\"\n        icon=\"home\"\n        label=\"Home\"\n        :url=\"route('home')\"\n        :active=\"request()->routeIs('home')\"\n    />\n    <native:bottom-nav-item\n        id=\"search\"\n        icon=\"search\"\n        label=\"Search\"\n        :url=\"route('search')\"\n        :active=\"request()->routeIs('search')\"\n    />\n    <native:bottom-nav-item\n        id=\"profile\"\n        icon=\"person\"\n        label=\"Profile\"\n        :url=\"route('profile')\"\n        :active=\"request()->routeIs('profile')\"\n    />\n</native:bottom-nav>\n```\n\n### BottomNav Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `dark` | bool | Dark mode styling |\n| `label-visibility` | string | When to show labels |\n\n### BottomNavItem Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `id` | string | Unique identifier (required) |\n| `icon` | string | Icon name (required) |\n| `label` | string | Tab label (required) |\n| `url` | string | Navigation URL (required) |\n| `active` | bool | Whether tab is currently selected |\n| `badge` | string | Badge text (e.g., notification count) |\n| `badge-color` | string | Hex color for badge |\n| `news` | bool | Show news indicator dot |\n\n## SideNav Component\n\nNative side/drawer navigation.\n\n### Basic Usage\n\n```blade\n<native:side-nav>\n    <native:side-nav-header\n        title=\"My App\"\n        subtitle=\"user@example.com\"\n        icon=\"account_circle\"\n    />\n\n    <native:side-nav-item\n        id=\"dashboard\"\n        icon=\"dashboard\"\n        label=\"Dashboard\"\n        :url=\"route('dashboard')\"\n        :active=\"request()->routeIs('dashboard')\"\n    />\n\n    <native:horizontal-divider />\n\n    <native:side-nav-group heading=\"Settings\" icon=\"settings\">\n        <native:side-nav-item\n            id=\"account\"\n            icon=\"person\"\n            label=\"Account\"\n            :url=\"route('account')\"\n        />\n        <native:side-nav-item\n            id=\"preferences\"\n            icon=\"tune\"\n            label=\"Preferences\"\n            :url=\"route('preferences')\"\n        />\n    </native:side-nav-group>\n</native:side-nav>\n```\n\n### SideNav Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `dark` | bool | Dark mode styling |\n| `label-visibility` | string | When to show labels |\n| `gestures-enabled` | bool | Enable swipe to open |\n\n### SideNavHeader Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `title` | string | Header title |\n| `subtitle` | string | Header subtitle |\n| `icon` | string | Icon name |\n| `background-color` | string | Hex background color |\n| `image-url` | string | Background image URL |\n| `event` | string | Livewire event on tap |\n| `show-close-button` | bool | Show close button |\n| `pinned` | bool | Keep header visible when scrolling |\n\n### SideNavItem Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `id` | string | Unique identifier (required) |\n| `icon` | string | Icon name (required) |\n| `label` | string | Item label (required) |\n| `url` | string | Navigation URL (required) |\n| `active` | bool | Whether item is selected |\n| `badge` | string | Badge text |\n| `badge-color` | string | Badge color |\n| `open-in-browser` | bool | Open URL in external browser |\n\n### SideNavGroup Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `heading` | string | Group heading text (required) |\n| `icon` | string | Group icon |\n| `expanded` | bool | Whether group is expanded |\n\n## Fab (Floating Action Button) Component\n\nFloating action button for primary actions.\n\n### Basic Usage\n\n```blade\n<native:fab\n    icon=\"add\"\n    :url=\"route('create')\"\n/>\n```\n\n### Full Example\n\n```blade\n<native:fab\n    icon=\"add\"\n    label=\"Create New\"\n    :url=\"route('create')\"\n    size=\"large\"\n    position=\"bottom-end\"\n    :bottom-offset=\"16\"\n    :elevation=\"6\"\n    :corner-radius=\"16\"\n    container-color=\"#6200ee\"\n    content-color=\"#ffffff\"\n/>\n```\n\n### Fab Properties\n\n| Property | Type | Description |\n|----------|------|-------------|\n| `icon` | string | Icon name (required) |\n| `label` | string | Extended FAB label |\n| `url` | string | Navigation URL |\n| `event` | string | Livewire event to dispatch |\n| `size` | string | 'small', 'regular', 'large' |\n| `position` | string | 'bottom-start', 'bottom-end', etc. |\n| `bottom-offset` | int | Pixels from bottom |\n| `elevation` | int | Shadow depth |\n| `corner-radius` | int | Corner rounding |\n| `container-color` | string | Background hex color |\n| `content-color` | string | Icon/text hex color |\n\n## HorizontalDivider Component\n\nVisual separator between items.\n\n```blade\n<native:horizontal-divider />\n```\n\n## Available Icons\n\nEDGE components use Material Design icons. Common icons:\n\n- Navigation: `home`, `menu`, `arrow_back`, `close`, `search`\n- Actions: `add`, `edit`, `delete`, `share`, `settings`\n- Communication: `email`, `chat`, `notifications`, `phone`\n- Content: `folder`, `file_copy`, `link`, `cloud`\n- Social: `person`, `group`, `account_circle`\n- Media: `play_arrow`, `pause`, `camera`, `mic`\n\nFull list: https://fonts.google.com/icons\n\n## Combining EDGE with Web Content\n\nEDGE components render natively while your web content renders in the WebView:\n\n```blade\n<!DOCTYPE html>\n<html>\n<head>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, viewport-fit=cover\">\n</head>\n<body class=\"nativephp-safe-area\">\n    {{-- Native top bar --}}\n    <native:top-bar title=\"My App\">\n        <native:top-bar-action id=\"menu\" icon=\"menu\" />\n    </native:top-bar>\n\n    {{-- Web content --}}\n    <main class=\"p-4\">\n        @yield('content')\n    </main>\n\n    {{-- Native bottom nav --}}\n    <native:bottom-nav>\n        <native:bottom-nav-item id=\"home\" icon=\"home\" label=\"Home\" :url=\"route('home')\" />\n        <native:bottom-nav-item id=\"profile\" icon=\"person\" label=\"Profile\" :url=\"route('profile')\" />\n    </native:bottom-nav>\n</body>\n</html>\n```\n\n## EDGE with Inertia/Vue/React Apps\n\n**Important**: When using Inertia.js with Vue or React, EDGE components MUST be placed in the `app.blade.php` layout file, NOT in your JavaScript components.\n\n### Why?\n\nEDGE components are Blade components that generate JSON passed via HTTP headers to the native layer. They need to be processed by Laravel's Blade engine, which happens in the layout file before Inertia renders your JavaScript components.\n\n### Example Setup\n\n**resources/views/app.blade.php:**\n```blade\n<!DOCTYPE html>\n<html>\n<head>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, viewport-fit=cover\">\n    <meta name=\"csrf-token\" content=\"{{ csrf_token() }}\">\n    @vite(['resources/js/app.js'])\n    @inertiaHead\n</head>\n<body class=\"nativephp-safe-area\">\n    {{-- EDGE components go here in the Blade layout --}}\n    <native:top-bar title=\"{{ config('app.name') }}\" />\n\n    {{-- Inertia renders your Vue/React components here --}}\n    @inertia\n\n    {{-- Bottom navigation --}}\n    <native:bottom-nav>\n        <native:bottom-nav-item\n            id=\"home\"\n            icon=\"home\"\n            label=\"Home\"\n            :url=\"route('home')\"\n            :active=\"request()->routeIs('home')\"\n        />\n        <native:bottom-nav-item\n            id=\"search\"\n            icon=\"search\"\n            label=\"Search\"\n            :url=\"route('search')\"\n            :active=\"request()->routeIs('search')\"\n        />\n        <native:bottom-nav-item\n            id=\"profile\"\n            icon=\"person\"\n            label=\"Profile\"\n            :url=\"route('profile')\"\n            :active=\"request()->routeIs('profile')\"\n        />\n    </native:bottom-nav>\n</body>\n</html>\n```\n\nYour Vue/React components then render inside the `@inertia` directive, with native navigation chrome handled by EDGE.\n\n### Dynamic EDGE Properties\n\nYou can pass data from your controller to EDGE components via Inertia's shared data:\n\n**app/Http/Middleware/HandleInertiaRequests.php:**\n```php\npublic function share(Request $request): array\n{\n    return array_merge(parent::share($request), [\n        'pageTitle' => fn () => $request->route()?->getName() ?? 'Home',\n    ]);\n}\n```\n\n**resources/views/app.blade.php:**\n```blade\n<native:top-bar :title=\"$page['props']['pageTitle'] ?? 'My App'\" />\n```\n\n## Fetching Live Documentation\n\nFor detailed EDGE documentation:\n\n- **Overview**: `https://nativephp.com/docs/mobile/2/edge-components/overview`\n- **Top Bar**: `https://nativephp.com/docs/mobile/2/edge-components/top-bar`\n- **Bottom Navigation**: `https://nativephp.com/docs/mobile/2/edge-components/bottom-nav`\n- **Side Navigation**: `https://nativephp.com/docs/mobile/2/edge-components/side-nav`\n- **Icons**: `https://nativephp.com/docs/mobile/2/edge-components/icons`\n- **Web View & Safe Areas**: `https://nativephp.com/docs/mobile/2/the-basics/web-view`\n\nUse WebFetch to retrieve the latest EDGE component details."
              },
              {
                "name": "NativePHP Events",
                "description": "This skill should be used when the user asks about \"nativephp event\", \"native event handling\", \"OnNative attribute\", \"listen for native events\", \"PhotoTaken event\", \"event dispatching\", \"livewire native event\", \"javascript native event\", \"custom event class\", or needs to handle responses from native device functionality.",
                "path": "nativephp-mobile/skills/nativephp-events/SKILL.md",
                "frontmatter": {
                  "name": "NativePHP Events",
                  "description": "This skill should be used when the user asks about \"nativephp event\", \"native event handling\", \"OnNative attribute\", \"listen for native events\", \"PhotoTaken event\", \"event dispatching\", \"livewire native event\", \"javascript native event\", \"custom event class\", or needs to handle responses from native device functionality.",
                  "version": "0.1.0"
                },
                "content": "# NativePHP Events\n\nThis skill provides guidance for handling events dispatched from native device functionality to your Laravel application.\n\n## Overview\n\nNativePHP uses an event system to handle asynchronous native operations. When a user takes a photo, scans a QR code, or completes biometric authentication, native code dispatches events that your application can listen for.\n\n## Synchronous vs Asynchronous Operations\n\n**Synchronous** - Execute immediately, no event needed:\n- `Haptics::vibrate()`\n- `Device::flashlight()`\n- `Dialog::toast('Hello!')`\n- `SecureStorage::set()` / `get()` / `delete()`\n- `System::isIos()` / `isAndroid()`\n\n**Asynchronous** - Trigger native UI, dispatch event on completion:\n- `Camera::getPhoto()`  `PhotoTaken` / `PhotoCancelled`\n- `Camera::recordVideo()`  `VideoRecorded` / `VideoCancelled`\n- `Camera::pickImages()`  `MediaSelected`\n- `Scanner::scan()`  `CodeScanned`\n- `Biometrics::prompt()`  `Completed`\n- `Geolocation::getCurrentPosition()`  `LocationReceived`\n- `Microphone::record()`  `MicrophoneRecorded` / `MicrophoneCancelled`\n- `Dialog::alert()`  `ButtonPressed`\n- `PushNotifications::enroll()`  `TokenGenerated`\n\n## Event Dispatching Pattern\n\nNative code (Kotlin/Swift) dispatches events via JavaScript injection to the WebView:\n\n```javascript\nwindow.Livewire.dispatch('native:Native\\\\Mobile\\\\Events\\\\Camera\\\\PhotoTaken', payload)\n```\n\nEvents are broadcast to both frontend (Livewire/JavaScript) and backend (Laravel listeners).\n\n## Listening in Livewire Components\n\n### Using #[OnNative] Attribute (REQUIRED)\n\nNativePHP provides a custom `#[OnNative]` attribute that MUST be used for listening to native events. This attribute automatically handles the `native:` prefix and event class resolution.\n\n```php\nuse Livewire\\Component;\nuse Native\\Mobile\\Attributes\\OnNative;\nuse Native\\Mobile\\Events\\Camera\\PhotoTaken;\nuse Native\\Mobile\\Events\\Camera\\PhotoCancelled;\n\nclass PhotoUploader extends Component\n{\n    #[OnNative(PhotoTaken::class)]\n    public function handlePhotoTaken(string $path, string $mimeType = 'image/jpeg', ?string $id = null)\n    {\n        // Handle the photo\n        $this->photoPath = $path;\n    }\n\n    #[OnNative(PhotoCancelled::class)]\n    public function handlePhotoCancelled(bool $cancelled = true, ?string $id = null)\n    {\n        // Handle cancellation\n    }\n}\n```\n\n**IMPORTANT**: Always use `#[OnNative(EventClass::class)]` - NEVER use the raw `#[On('native:...')]` syntax. The `OnNative` attribute from `Native\\Mobile\\Attributes\\OnNative` is the required pattern for NativePHP applications.\n\n## All Available Events\n\n### Camera Events\n\n**PhotoTaken** - `Native\\Mobile\\Events\\Camera\\PhotoTaken`\n```php\npublic string $path;\npublic string $mimeType = 'image/jpeg';\npublic ?string $id;\n```\n\n**PhotoCancelled** - `Native\\Mobile\\Events\\Camera\\PhotoCancelled`\n```php\npublic bool $cancelled = true;\npublic ?string $id;\n```\n\n**VideoRecorded** - `Native\\Mobile\\Events\\Camera\\VideoRecorded`\n```php\npublic string $path;\npublic string $mimeType = 'video/mp4';\npublic ?string $id;\n```\n\n**VideoCancelled** - `Native\\Mobile\\Events\\Camera\\VideoCancelled`\n```php\npublic bool $cancelled = true;\npublic ?string $id;\n```\n\n### Gallery Events\n\n**MediaSelected** - `Native\\Mobile\\Events\\Gallery\\MediaSelected`\n```php\npublic bool $success;\npublic array $files = [];\npublic int $count = 0;\npublic ?string $error;\npublic bool $cancelled = false;\npublic ?string $id;\n```\n\n### Scanner Events\n\n**CodeScanned** - `Native\\Mobile\\Events\\Scanner\\CodeScanned`\n```php\npublic string $data;\npublic string $format;\npublic ?string $id;\n```\n\n### Biometric Events\n\n**Completed** - `Native\\Mobile\\Events\\Biometric\\Completed`\n```php\npublic bool $success;\npublic ?string $id;\n```\n\n### Dialog Events\n\n**ButtonPressed** - `Native\\Mobile\\Events\\Alert\\ButtonPressed`\n```php\npublic int $index;\npublic string $label;\npublic ?string $id;\n```\n\n### Microphone Events\n\n**MicrophoneRecorded** - `Native\\Mobile\\Events\\Microphone\\MicrophoneRecorded`\n```php\npublic string $path;\npublic string $mimeType = 'audio/m4a';\npublic ?string $id;\n```\n\n**MicrophoneCancelled** - `Native\\Mobile\\Events\\Microphone\\MicrophoneCancelled`\n```php\npublic bool $cancelled = true;\npublic ?string $id;\n```\n\n### Geolocation Events\n\n**LocationReceived** - `Native\\Mobile\\Events\\Geolocation\\LocationReceived`\n```php\npublic bool $success;\npublic ?float $latitude;\npublic ?float $longitude;\npublic ?float $accuracy;\npublic ?int $timestamp;\npublic ?string $provider;\npublic ?string $error;\npublic ?string $id;\n```\n\n**PermissionStatusReceived** - `Native\\Mobile\\Events\\Geolocation\\PermissionStatusReceived`\n```php\npublic string $location;\npublic string $coarseLocation;\npublic string $fineLocation;\npublic ?string $id;\n```\n\n**PermissionRequestResult** - `Native\\Mobile\\Events\\Geolocation\\PermissionRequestResult`\n```php\npublic string $location;\npublic string $coarseLocation;\npublic string $fineLocation;\npublic ?string $error;\npublic ?string $id;\n```\n\n### Push Notification Events\n\n**TokenGenerated** - `Native\\Mobile\\Events\\PushNotification\\TokenGenerated`\n```php\npublic string $token;\npublic ?string $id;\n```\n\n### App Events\n\n**UpdateInstalled** - `Native\\Mobile\\Events\\App\\UpdateInstalled`\n```php\npublic string $version;\npublic int $timestamp;\n```\n\n## Custom Event Classes\n\nCreate custom events by extending built-in events:\n\n```php\nnamespace App\\Events;\n\nuse Native\\Mobile\\Events\\Camera\\PhotoTaken;\n\nclass ProfilePhotoTaken extends PhotoTaken\n{\n    // Add custom properties or methods\n}\n```\n\nUse with fluent API:\n\n```php\nCamera::getPhoto()\n    ->id('profile')\n    ->event(ProfilePhotoTaken::class)\n    ->start();\n```\n\nListen for custom event:\n\n```php\n#[OnNative(ProfilePhotoTaken::class)]\npublic function handleProfilePhoto(string $path)\n{\n    // Handle profile photo specifically\n}\n```\n\n## Tracking Requests with IDs\n\nUse IDs to correlate requests with responses:\n\n```php\n// In your component\npublic function takePhoto()\n{\n    Camera::getPhoto()\n        ->id('avatar-' . auth()->id())\n        ->remember()\n        ->start();\n}\n\n#[OnNative(PhotoTaken::class)]\npublic function handlePhoto(string $path, string $mimeType, ?string $id)\n{\n    if ($id === 'avatar-' . auth()->id()) {\n        // This is the avatar photo\n    }\n}\n\n// Or retrieve last ID from session\n$lastId = Camera::getPhoto()->lastId();\n```\n\n## Backend Event Listeners\n\nListen in Laravel using standard listeners:\n\n```php\n// app/Listeners/ProcessPhotoUpload.php\nnamespace App\\Listeners;\n\nuse Native\\Mobile\\Events\\Camera\\PhotoTaken;\n\nclass ProcessPhotoUpload\n{\n    public function handle(PhotoTaken $event): void\n    {\n        // Process the photo on the backend\n        Storage::disk('s3')->put('photos/' . basename($event->path),\n            file_get_contents($event->path));\n    }\n}\n```\n\nRegister in `EventServiceProvider`:\n\n```php\nprotected $listen = [\n    PhotoTaken::class => [\n        ProcessPhotoUpload::class,\n    ],\n];\n```\n\n## Event Class Structure\n\nAll events are simple POJOs (Plain Old Java Objects pattern):\n- Use `Dispatchable` and `SerializesModels` traits\n- Do NOT implement `ShouldBroadcast`\n- Do NOT use broadcasting channels\n- Properties are public for direct access\n\n```php\nnamespace Native\\Mobile\\Events\\Camera;\n\nuse Illuminate\\Foundation\\Events\\Dispatchable;\nuse Illuminate\\Queue\\SerializesModels;\n\nclass PhotoTaken\n{\n    use Dispatchable, SerializesModels;\n\n    public function __construct(\n        public string $path,\n        public string $mimeType = 'image/jpeg',\n        public ?string $id = null\n    ) {}\n}\n```\n\n## Fetching Live Documentation\n\nFor detailed event documentation:\n\n- **Events Overview**: `https://nativephp.com/docs/mobile/2/the-basics/events`\n\nUse WebFetch to retrieve the latest event handling patterns."
              },
              {
                "name": "NativePHP JavaScript Integration",
                "description": "This skill should be used when the user asks about \"javascript nativephp\", \"vue nativephp\", \"react nativephp\", \"#nativephp import\", \"Native.on\", \"js native function\", \"javascript camera\", \"javascript scanner\", \"inertia nativephp\", \"svelte nativephp\", \"frontend native api\", or needs to use NativePHP native functionality in JavaScript/Vue/React applications.",
                "path": "nativephp-mobile/skills/nativephp-javascript/SKILL.md",
                "frontmatter": {
                  "name": "NativePHP JavaScript Integration",
                  "description": "This skill should be used when the user asks about \"javascript nativephp\", \"vue nativephp\", \"react nativephp\", \"#nativephp import\", \"Native.on\", \"js native function\", \"javascript camera\", \"javascript scanner\", \"inertia nativephp\", \"svelte nativephp\", \"frontend native api\", or needs to use NativePHP native functionality in JavaScript/Vue/React applications.",
                  "version": "0.1.0"
                },
                "content": "# NativePHP JavaScript Integration\n\nThis skill provides guidance for using NativePHP native functionality in JavaScript, Vue, React, Svelte, and other frontend frameworks.\n\n## Overview\n\nNativePHP provides a JavaScript library that mirrors the PHP APIs, enabling frontend frameworks to access native device functionality. The library is fully typed for excellent IDE support.\n\n## Installation\n\nAdd the import map to your `package.json`:\n\n```json\n{\n  \"imports\": {\n    \"#nativephp\": \"./vendor/nativephp/mobile/resources/dist/native.js\"\n  }\n}\n```\n\nOr in Vite config:\n\n```js\n// vite.config.js\nexport default defineConfig({\n  resolve: {\n    alias: {\n      '#nativephp': './vendor/nativephp/mobile/resources/dist/native.js'\n    }\n  }\n});\n```\n\n## Basic Usage\n\n```javascript\nimport { camera, dialog, scanner, Events, on, off } from '#nativephp';\n\n// Take a photo\ncamera.getPhoto().id('my-photo').start();\n\n// Show an alert\ndialog.alert('Title', 'Message', ['OK', 'Cancel']).show();\n\n// Listen for events\non(Events.Camera.PhotoTaken, handlePhotoTaken);\n```\n\n## Event Handling\n\n### Subscribing to Events\n\n```javascript\nimport { on, off, Events } from '#nativephp';\n\n// Define handler as named function for cleanup\nconst handlePhotoTaken = (path, mimeType, id) => {\n    console.log('Photo taken:', path);\n};\n\n// Subscribe to an event\non(Events.Camera.PhotoTaken, handlePhotoTaken);\n\n// Later, unsubscribe using off() with the same handler reference\noff(Events.Camera.PhotoTaken, handlePhotoTaken);\n```\n\n**Important**: `on()` does NOT return an unsubscribe function. You must use `off()` with the same handler reference to unsubscribe.\n\n### Available Events\n\n```javascript\nimport { Events } from '#nativephp';\n\n// Camera events\nEvents.Camera.PhotoTaken\nEvents.Camera.PhotoCancelled\nEvents.Camera.VideoRecorded\nEvents.Camera.VideoCancelled\n\n// Gallery events\nEvents.Gallery.MediaSelected\n\n// Scanner events\nEvents.Scanner.CodeScanned\n\n// Biometric events\nEvents.Biometric.Completed\n\n// Dialog events\nEvents.Alert.ButtonPressed\n\n// Microphone events\nEvents.Microphone.MicrophoneRecorded\nEvents.Microphone.MicrophoneCancelled\n\n// Geolocation events\nEvents.Geolocation.LocationReceived\nEvents.Geolocation.PermissionStatusReceived\nEvents.Geolocation.PermissionRequestResult\n\n// Push notification events\nEvents.PushNotification.TokenGenerated\n```\n\n## Camera API\n\n```javascript\nimport { camera, Events, on } from '#nativephp';\n\n// Take a photo\ncamera.getPhoto()\n    .id('avatar')\n    .remember()\n    .start();\n\n// Record video with max duration\ncamera.recordVideo()\n    .maxDuration(30)\n    .id('clip')\n    .start();\n\n// Pick from gallery\ncamera.pickImages()\n    .images()           // or .videos() or .all()\n    .multiple(true, 5)  // Allow up to 5 selections\n    .id('gallery-pick')\n    .start();\n\n// Handle results\non(Events.Camera.PhotoTaken, (path, mimeType, id) => {\n    if (id === 'avatar') {\n        document.getElementById('avatar-img').src = path;\n    }\n});\n\non(Events.Gallery.MediaSelected, (success, files, count, error, cancelled, id) => {\n    if (success) {\n        files.forEach(file => console.log(file.path));\n    }\n});\n```\n\n## Scanner API\n\n```javascript\nimport { scanner, Events, on } from '#nativephp';\n\n// Start scanning\nscanner.scan()\n    .prompt('Scan QR code')\n    .formats(['qr', 'ean13'])\n    .continuous(true)\n    .id('product-scan')\n    .scan();\n\n// Handle scanned codes\non(Events.Scanner.CodeScanned, (data, format, id) => {\n    console.log(`Scanned ${format}: ${data}`);\n});\n```\n\n## Biometrics API\n\n```javascript\nimport { biometrics, Events, on } from '#nativephp';\n\n// Prompt for authentication\nbiometrics.prompt()\n    .id('secure-action')\n    .prompt();\n\n// Handle result\non(Events.Biometric.Completed, (success, id) => {\n    if (success) {\n        performSecureAction();\n    } else {\n        showAuthError();\n    }\n});\n```\n\n## Dialog API\n\n```javascript\nimport { dialog, Events, on } from '#nativephp';\n\n// Show alert with buttons\ndialog.alert('Confirm', 'Delete this item?', ['Cancel', 'Delete'])\n    .id('confirm-delete')\n    .show();\n\n// Handle button press\non(Events.Alert.ButtonPressed, (index, label, id) => {\n    if (id === 'confirm-delete' && label === 'Delete') {\n        deleteItem();\n    }\n});\n\n// Show toast (no event)\ndialog.toast('Item saved', 'short');\n```\n\n## Geolocation API\n\n```javascript\nimport { geolocation, Events, on } from '#nativephp';\n\n// Check permissions\ngeolocation.checkPermissions().get();\n\n// Request permissions\ngeolocation.requestPermissions().get();\n\n// Get current position\ngeolocation.getCurrentPosition()\n    .fineAccuracy(true)\n    .id('location')\n    .get();\n\n// Handle results\non(Events.Geolocation.LocationReceived, (success, lat, lng, accuracy, timestamp, provider, error, id) => {\n    if (success) {\n        console.log(`Location: ${lat}, ${lng}`);\n    }\n});\n\non(Events.Geolocation.PermissionStatusReceived, (location, coarse, fine, id) => {\n    console.log(`Fine location permission: ${fine}`);\n});\n```\n\n## Microphone API\n\n```javascript\nimport { microphone, Events, on } from '#nativephp';\n\n// Start recording\nmicrophone.record()\n    .id('voice-note')\n    .start();\n\n// Control recording\nmicrophone.pause();\nmicrophone.resume();\nmicrophone.stop();\n\n// Get status\nconst status = await microphone.getStatus(); // 'idle', 'recording', 'paused'\nconst path = await microphone.getRecording();\n\n// Handle completion\non(Events.Microphone.MicrophoneRecorded, (path, mimeType, id) => {\n    console.log('Recording saved:', path);\n});\n```\n\n## Other APIs\n\n```javascript\nimport { device, browser, share, secureStorage, network, system, pushNotifications } from '#nativephp';\n\n// Device\nconst deviceId = await device.getId();\nconst info = await device.getInfo();\ndevice.vibrate();\ndevice.flashlight();\n\n// Browser\nbrowser.open('https://example.com');\nbrowser.inApp('https://example.com');\nbrowser.auth('https://oauth.example.com');\n\n// Share\nshare.url('Check this out', 'Description', 'https://example.com');\nshare.file('Document', 'Here is the file', '/path/to/file.pdf');\n\n// Secure Storage\nawait secureStorage.set('token', 'secret-value');\nconst token = await secureStorage.get('token');\nawait secureStorage.delete('token');\n\n// Network\nconst status = await network.status();\nconsole.log(status.connected, status.type);\n\n// System\nif (system.isMobile()) { /* mobile-specific code */ }\nif (system.isIos()) { /* iOS-specific code */ }\nif (system.isAndroid()) { /* Android-specific code */ }\nsystem.appSettings();\n\n// Push Notifications\npushNotifications.enroll().id('main').enroll();\nconst pushToken = await pushNotifications.getToken();\n```\n\n## Vue 3 Example\n\n```vue\n<template>\n  <div class=\"photo-uploader\">\n    <img v-if=\"photoUrl\" :src=\"photoUrl\" alt=\"Photo\" />\n    <button @click=\"takePhoto\">Take Photo</button>\n    <button @click=\"pickPhoto\">Choose from Gallery</button>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onUnmounted } from 'vue';\nimport { camera, Events, on, off } from '#nativephp';\n\nconst photoUrl = ref(null);\n\nconst takePhoto = () => {\n  camera.getPhoto()\n    .id('vue-photo')\n    .start();\n};\n\nconst pickPhoto = () => {\n  camera.pickImages()\n    .images()\n    .single()\n    .id('vue-gallery')\n    .start();\n};\n\n// Define handlers as named functions for cleanup\nconst handlePhotoTaken = (path, mimeType, id) => {\n  photoUrl.value = path;\n};\n\nconst handleMediaSelected = (success, files, count, error, cancelled, id) => {\n  if (success && files.length > 0) {\n    photoUrl.value = files[0].path;\n  }\n};\n\nonMounted(() => {\n  on(Events.Camera.PhotoTaken, handlePhotoTaken);\n  on(Events.Gallery.MediaSelected, handleMediaSelected);\n});\n\nonUnmounted(() => {\n  off(Events.Camera.PhotoTaken, handlePhotoTaken);\n  off(Events.Gallery.MediaSelected, handleMediaSelected);\n});\n</script>\n```\n\n## React Example\n\n```jsx\nimport { useState, useEffect } from 'react';\nimport { camera, scanner, Events, on, off } from '#nativephp';\n\nfunction QRScanner() {\n  const [scannedData, setScannedData] = useState([]);\n\n  useEffect(() => {\n    // Define handler for cleanup reference\n    const handleCodeScanned = (data, format, id) => {\n      setScannedData(prev => [...prev, { data, format }]);\n    };\n\n    on(Events.Scanner.CodeScanned, handleCodeScanned);\n\n    // Cleanup: use off() with same handler reference\n    return () => off(Events.Scanner.CodeScanned, handleCodeScanned);\n  }, []);\n\n  const startScan = () => {\n    scanner.scan()\n      .prompt('Scan barcode')\n      .formats(['qr', 'ean13', 'code128'])\n      .continuous(true)\n      .scan();\n  };\n\n  return (\n    <div>\n      <button onClick={startScan}>Start Scanning</button>\n      <ul>\n        {scannedData.map((item, i) => (\n          <li key={i}>{item.format}: {item.data}</li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default QRScanner;\n```\n\n## Inertia.js Example\n\nWhen using Inertia with Vue/React, EDGE components (TopBar, BottomNav, etc.) go in your `app.blade.php` layout file, not in Vue components.\n\n**resources/views/app.blade.php:**\n```blade\n<!DOCTYPE html>\n<html>\n<head>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, viewport-fit=cover\">\n    @vite(['resources/js/app.js'])\n    @inertiaHead\n</head>\n<body class=\"nativephp-safe-area\">\n    {{-- EDGE components go here in the Blade layout --}}\n    <native:top-bar title=\"My App\" />\n\n    @inertia\n\n    <native:bottom-nav>\n        <native:bottom-nav-item id=\"home\" icon=\"home\" label=\"Home\" :url=\"route('home')\" />\n        <native:bottom-nav-item id=\"profile\" icon=\"person\" label=\"Profile\" :url=\"route('profile')\" />\n    </native:bottom-nav>\n</body>\n</html>\n```\n\n**Vue Component (resources/js/Pages/SecureForm.vue):**\n```vue\n<template>\n  <main class=\"p-4\">\n    <button @click=\"authenticateAndSubmit\">Submit Securely</button>\n  </main>\n</template>\n\n<script setup>\nimport { onMounted, onUnmounted } from 'vue';\nimport { router } from '@inertiajs/vue3';\nimport { biometrics, Events, on, off } from '#nativephp';\n\nconst formData = { /* your form data */ };\n\nconst authenticateAndSubmit = () => {\n  biometrics.prompt().id('form-submit').prompt();\n};\n\nconst handleBiometricCompleted = (success, id) => {\n  if (success && id === 'form-submit') {\n    router.post('/submit-form', formData);\n  }\n};\n\nonMounted(() => {\n  on(Events.Biometric.Completed, handleBiometricCompleted);\n});\n\nonUnmounted(() => {\n  off(Events.Biometric.Completed, handleBiometricCompleted);\n});\n</script>\n```\n\n## Safe Area in JavaScript Apps\n\nApply safe area handling:\n\n```html\n<body class=\"nativephp-safe-area\">\n  <div id=\"app\"></div>\n</body>\n```\n\nOr use CSS variables:\n\n```css\n.my-header {\n  padding-top: calc(16px + var(--inset-top));\n}\n\n.my-footer {\n  padding-bottom: calc(16px + var(--inset-bottom));\n}\n```\n\n## TypeScript Support\n\nThe library is fully typed:\n\n```typescript\nimport { camera, Events, on, PhotoTakenEvent } from '#nativephp';\n\nconst handlePhoto = (path: string, mimeType: string, id: string | null) => {\n  // Fully typed parameters\n};\n\non(Events.Camera.PhotoTaken, handlePhoto);\n```\n\n## Best Practices\n\n1. **Clean up event listeners with `off()`** - Always use `off()` with the same handler reference in component cleanup:\n   ```javascript\n   // Vue\n   onMounted(() => on(Events.Camera.PhotoTaken, handlePhoto));\n   onUnmounted(() => off(Events.Camera.PhotoTaken, handlePhoto));\n\n   // React\n   useEffect(() => {\n     const handler = (path) => setPhoto(path);\n     on(Events.Camera.PhotoTaken, handler);\n     return () => off(Events.Camera.PhotoTaken, handler);\n   }, []);\n   ```\n\n2. **Use IDs for tracking** - Correlate requests with responses when multiple operations may be in flight\n\n3. **Builders are thenable** - All Pending* builders can be awaited directly without calling `.start()`, `.scan()`, etc:\n   ```javascript\n   // Both work:\n   await camera.getPhoto().id('test').start();  // Explicit\n   await camera.getPhoto().id('test');          // Implicit (thenable)\n   ```\n\n4. **Check for mobile context** - Use `system.isMobile()` before calling native APIs\n\n5. **Graceful degradation** - Provide fallbacks for web-only testing\n\n6. **EDGE components in Blade** - When using Inertia/Vue/React, EDGE components (TopBar, BottomNav, etc.) must go in `app.blade.php`, not in JS components\n\n## Fetching Live Documentation\n\nFor detailed JavaScript integration:\n\n- **Native Functions**: `https://nativephp.com/docs/mobile/2/the-basics/native-functions`\n- **Events**: `https://nativephp.com/docs/mobile/2/the-basics/events`\n\nUse WebFetch to retrieve the latest JavaScript patterns and API details."
              },
              {
                "name": "NativePHP Livewire Integration",
                "description": "This skill should be used when the user asks about \"livewire nativephp\", \"livewire native event\", \"#[OnNative]\", \"livewire camera\", \"livewire component native\", \"livewire geolocation\", \"livewire biometrics\", \"handle native event in livewire\", \"livewire photo upload\", \"livewire scanner\", or needs to integrate NativePHP native functionality into Livewire components.",
                "path": "nativephp-mobile/skills/nativephp-livewire/SKILL.md",
                "frontmatter": {
                  "name": "NativePHP Livewire Integration",
                  "description": "This skill should be used when the user asks about \"livewire nativephp\", \"livewire native event\", \"#[OnNative]\", \"livewire camera\", \"livewire component native\", \"livewire geolocation\", \"livewire biometrics\", \"handle native event in livewire\", \"livewire photo upload\", \"livewire scanner\", or needs to integrate NativePHP native functionality into Livewire components.",
                  "version": "0.1.0"
                },
                "content": "# NativePHP Livewire Integration\n\nThis skill provides guidance for integrating NativePHP native functionality into Livewire components, including event handling, API usage, and best practices.\n\n## Overview\n\nLivewire components are the primary way to build interactive NativePHP Mobile apps. Native events are dispatched via JavaScript injection and can be listened to using Livewire attributes.\n\n## Event Listening Pattern\n\n### Using #[OnNative] Attribute (REQUIRED)\n\nNativePHP provides a custom `#[OnNative]` attribute that MUST be used for listening to native events. This is cleaner and more reliable than the raw Livewire `#[On]` attribute.\n\n```php\nuse Livewire\\Component;\nuse Native\\Mobile\\Attributes\\OnNative;\nuse Native\\Mobile\\Events\\Camera\\PhotoTaken;\nuse Native\\Mobile\\Events\\Camera\\PhotoCancelled;\n\nclass PhotoUploader extends Component\n{\n    public ?string $photoPath = null;\n\n    #[OnNative(PhotoTaken::class)]\n    public function handlePhotoTaken(string $path, string $mimeType = 'image/jpeg', ?string $id = null)\n    {\n        $this->photoPath = $path;\n        // Process the photo\n    }\n\n    #[OnNative(PhotoCancelled::class)]\n    public function handlePhotoCancelled(bool $cancelled = true, ?string $id = null)\n    {\n        session()->flash('info', 'Photo capture was cancelled');\n    }\n}\n```\n\n**IMPORTANT**: Always use `#[OnNative(EventClass::class)]` - NEVER use the raw `#[On('native:...')]` syntax. The `OnNative` attribute automatically handles the `native:` prefix and event class resolution.\n\n## Complete Camera Example\n\n```php\nnamespace App\\Livewire;\n\nuse Livewire\\Component;\nuse Native\\Mobile\\Attributes\\OnNative;\nuse Native\\Mobile\\Events\\Camera\\PhotoTaken;\nuse Native\\Mobile\\Events\\Camera\\PhotoCancelled;\nuse Native\\Mobile\\Events\\Gallery\\MediaSelected;\nuse Native\\Mobile\\Facades\\Camera;\n\nclass AvatarUploader extends Component\n{\n    public ?string $avatarPath = null;\n    public ?string $avatarUrl = null;\n\n    public function takePhoto()\n    {\n        Camera::getPhoto()\n            ->id('avatar-' . auth()->id())\n            ->remember()\n            ->start();\n    }\n\n    public function pickFromGallery()\n    {\n        Camera::pickImages()\n            ->images()\n            ->single()\n            ->id('avatar-gallery')\n            ->remember()\n            ->start();\n    }\n\n    #[OnNative(PhotoTaken::class)]\n    public function handlePhotoTaken(string $path, string $mimeType, ?string $id)\n    {\n        if (str_starts_with($id, 'avatar-')) {\n            $this->processAvatar($path);\n        }\n    }\n\n    #[OnNative(MediaSelected::class)]\n    public function handleMediaSelected(bool $success, array $files, int $count, ?string $error, bool $cancelled, ?string $id)\n    {\n        if ($success && $count > 0) {\n            $this->processAvatar($files[0]['path']);\n        }\n    }\n\n    #[OnNative(PhotoCancelled::class)]\n    public function handlePhotoCancelled()\n    {\n        // User cancelled - no action needed\n    }\n\n    private function processAvatar(string $path)\n    {\n        // Move to permanent storage\n        $filename = 'avatars/' . auth()->id() . '_' . time() . '.jpg';\n        Storage::disk('public')->put($filename, file_get_contents($path));\n\n        $this->avatarPath = $filename;\n        $this->avatarUrl = Storage::disk('public')->url($filename);\n\n        // Update user record\n        auth()->user()->update(['avatar' => $filename]);\n    }\n\n    public function render()\n    {\n        return view('livewire.avatar-uploader');\n    }\n}\n```\n\nBlade template:\n\n```blade\n<div>\n    <div class=\"avatar-container\">\n        @if($avatarUrl)\n            <img src=\"{{ $avatarUrl }}\" alt=\"Avatar\" class=\"avatar\">\n        @else\n            <div class=\"avatar-placeholder\">No Photo</div>\n        @endif\n    </div>\n\n    <div class=\"button-group\">\n        <button wire:click=\"takePhoto\" type=\"button\">\n            Take Photo\n        </button>\n        <button wire:click=\"pickFromGallery\" type=\"button\">\n            Choose from Gallery\n        </button>\n    </div>\n</div>\n```\n\n## QR Scanner Example\n\n```php\nnamespace App\\Livewire;\n\nuse Livewire\\Component;\nuse Native\\Mobile\\Attributes\\OnNative;\nuse Native\\Mobile\\Events\\Scanner\\CodeScanned;\nuse Native\\Mobile\\Facades\\Scanner;\n\nclass ProductScanner extends Component\n{\n    public array $scannedProducts = [];\n\n    public function startScanning()\n    {\n        Scanner::scan()\n            ->prompt('Scan product barcode')\n            ->formats(['ean13', 'qr', 'code128'])\n            ->continuous(true)\n            ->id('product-scanner')\n            ->scan();\n    }\n\n    #[OnNative(CodeScanned::class)]\n    public function handleCodeScanned(string $data, string $format, ?string $id)\n    {\n        // Look up product\n        $product = Product::where('barcode', $data)->first();\n\n        if ($product) {\n            $this->scannedProducts[] = [\n                'barcode' => $data,\n                'name' => $product->name,\n                'price' => $product->price,\n            ];\n        } else {\n            session()->flash('warning', \"Unknown barcode: {$data}\");\n        }\n    }\n\n    public function render()\n    {\n        return view('livewire.product-scanner');\n    }\n}\n```\n\n## Biometric Authentication Example\n\n```php\nnamespace App\\Livewire;\n\nuse Livewire\\Component;\nuse Native\\Mobile\\Attributes\\OnNative;\nuse Native\\Mobile\\Events\\Biometric\\Completed;\nuse Native\\Mobile\\Facades\\Biometrics;\n\nclass SecureAction extends Component\n{\n    public bool $authenticated = false;\n    public string $pendingAction = '';\n\n    public function performSecureAction(string $action)\n    {\n        $this->pendingAction = $action;\n\n        Biometrics::prompt()\n            ->id('secure-' . $action)\n            ->prompt();\n    }\n\n    #[OnNative(Completed::class)]\n    public function handleBiometricResult(bool $success, ?string $id)\n    {\n        if ($success) {\n            $this->authenticated = true;\n\n            // Execute the pending action\n            match($this->pendingAction) {\n                'delete-account' => $this->deleteAccount(),\n                'export-data' => $this->exportData(),\n                'change-password' => $this->showPasswordForm(),\n                default => null,\n            };\n        } else {\n            session()->flash('error', 'Authentication failed');\n        }\n\n        $this->pendingAction = '';\n    }\n\n    // ... action methods\n}\n```\n\n## Geolocation Example\n\n```php\nnamespace App\\Livewire;\n\nuse Livewire\\Component;\nuse Native\\Mobile\\Attributes\\OnNative;\nuse Native\\Mobile\\Events\\Geolocation\\LocationReceived;\nuse Native\\Mobile\\Events\\Geolocation\\PermissionStatusReceived;\nuse Native\\Mobile\\Facades\\Geolocation;\n\nclass LocationTracker extends Component\n{\n    public ?float $latitude = null;\n    public ?float $longitude = null;\n    public bool $hasPermission = false;\n\n    public function mount()\n    {\n        Geolocation::checkPermissions()->get();\n    }\n\n    public function requestLocation()\n    {\n        if (!$this->hasPermission) {\n            Geolocation::requestPermissions()->get();\n            return;\n        }\n\n        Geolocation::getCurrentPosition()\n            ->fineAccuracy(true)\n            ->id('current-location')\n            ->get();\n    }\n\n    #[OnNative(PermissionStatusReceived::class)]\n    public function handlePermissionStatus(string $location, string $coarseLocation, string $fineLocation)\n    {\n        $this->hasPermission = in_array($fineLocation, ['granted', 'limited']);\n    }\n\n    #[OnNative(LocationReceived::class)]\n    public function handleLocationReceived(\n        bool $success,\n        ?float $latitude,\n        ?float $longitude,\n        ?float $accuracy,\n        ?int $timestamp,\n        ?string $provider,\n        ?string $error\n    ) {\n        if ($success) {\n            $this->latitude = $latitude;\n            $this->longitude = $longitude;\n        } else {\n            session()->flash('error', $error ?? 'Failed to get location');\n        }\n    }\n}\n```\n\n## Dialog Example\n\n```php\nnamespace App\\Livewire;\n\nuse Livewire\\Component;\nuse Native\\Mobile\\Attributes\\OnNative;\nuse Native\\Mobile\\Events\\Alert\\ButtonPressed;\nuse Native\\Mobile\\Facades\\Dialog;\n\nclass ItemManager extends Component\n{\n    public ?int $pendingDeleteId = null;\n\n    public function confirmDelete(int $id)\n    {\n        $this->pendingDeleteId = $id;\n\n        Dialog::alert(\n            'Confirm Delete',\n            'Are you sure you want to delete this item?',\n            ['Cancel', 'Delete']\n        )\n            ->id('delete-' . $id)\n            ->show();\n    }\n\n    #[OnNative(ButtonPressed::class)]\n    public function handleDialogResponse(int $index, string $label, ?string $id)\n    {\n        if (str_starts_with($id, 'delete-') && $label === 'Delete') {\n            $itemId = (int) str_replace('delete-', '', $id);\n            Item::find($itemId)?->delete();\n            session()->flash('success', 'Item deleted');\n        }\n\n        $this->pendingDeleteId = null;\n    }\n}\n```\n\n## Audio Recording Example\n\n```php\nnamespace App\\Livewire;\n\nuse Livewire\\Component;\nuse Native\\Mobile\\Attributes\\OnNative;\nuse Native\\Mobile\\Events\\Microphone\\MicrophoneRecorded;\nuse Native\\Mobile\\Events\\Microphone\\MicrophoneCancelled;\nuse Native\\Mobile\\Facades\\Microphone;\n\nclass VoiceNote extends Component\n{\n    public bool $isRecording = false;\n    public ?string $recordingPath = null;\n\n    public function startRecording()\n    {\n        Microphone::record()\n            ->id('voice-note')\n            ->remember()\n            ->start();\n\n        $this->isRecording = true;\n    }\n\n    public function stopRecording()\n    {\n        Microphone::stop();\n        $this->isRecording = false;\n    }\n\n    #[OnNative(MicrophoneRecorded::class)]\n    public function handleRecordingComplete(string $path, string $mimeType, ?string $id)\n    {\n        $this->recordingPath = $path;\n        $this->isRecording = false;\n\n        // Save to storage\n        $filename = 'recordings/' . auth()->id() . '_' . time() . '.m4a';\n        Storage::put($filename, file_get_contents($path));\n    }\n\n    #[OnNative(MicrophoneCancelled::class)]\n    public function handleRecordingCancelled()\n    {\n        $this->isRecording = false;\n    }\n}\n```\n\n## Push Notification Enrollment\n\n```php\nnamespace App\\Livewire;\n\nuse Livewire\\Component;\nuse Native\\Mobile\\Attributes\\OnNative;\nuse Native\\Mobile\\Events\\PushNotification\\TokenGenerated;\nuse Native\\Mobile\\Facades\\PushNotifications;\n\nclass NotificationSettings extends Component\n{\n    public bool $enrolled = false;\n\n    public function enrollForNotifications()\n    {\n        PushNotifications::enroll()\n            ->id('main')\n            ->enroll();\n    }\n\n    #[OnNative(TokenGenerated::class)]\n    public function handleTokenGenerated(string $token, ?string $id)\n    {\n        // Store token on your server\n        auth()->user()->update(['push_token' => $token]);\n\n        $this->enrolled = true;\n        session()->flash('success', 'Push notifications enabled');\n    }\n}\n```\n\n## Safe Area in Livewire Layouts\n\nApply safe area handling in your Livewire layout:\n\n```blade\n<!DOCTYPE html>\n<html>\n<head>\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, viewport-fit=cover\">\n    @livewireStyles\n</head>\n<body class=\"nativephp-safe-area\">\n    {{ $slot }}\n\n    @livewireScripts\n</body>\n</html>\n```\n\n## Best Practices\n\n1. **ALWAYS use #[OnNative(EventClass::class)]** - This is the required pattern, not `#[On('native:...')]`. The `OnNative` attribute from `Native\\Mobile\\Attributes\\OnNative` automatically handles the `native:` prefix.\n\n2. **Track requests with IDs** - Correlate async requests with responses:\n   ```php\n   Camera::getPhoto()->id('unique-id')->remember()->start();\n   ```\n\n3. **Handle cancellations** - Always handle cancelled events gracefully\n\n4. **Check permissions first** - For location, camera, etc., check/request permissions before use\n\n5. **Use session flashing** - For user feedback on native operations\n\n6. **Clean up temporary files** - Move captured media to permanent storage\n\n## Available Facades\n\nAll NativePHP Facades are in `Native\\Mobile\\Facades\\`:\n\n| Facade | Description |\n|--------|-------------|\n| `Biometrics` | Face ID / fingerprint authentication |\n| `Browser` | Open URLs, in-app browser, OAuth |\n| `Camera` | Photo capture, video recording, gallery picker |\n| `Device` | Device info, vibration, flashlight |\n| `Dialog` | Native alerts and toasts |\n| `File` | File operations |\n| `Geolocation` | GPS location, permissions |\n| `Haptics` | Haptic feedback |\n| `Microphone` | Audio recording |\n| `Network` | Network status |\n| `PushNotifications` | Push notification enrollment |\n| `Scanner` | QR/barcode scanning |\n| `SecureStorage` | Encrypted key-value storage |\n| `Share` | Native share sheet |\n| `System` | Platform detection, app settings |\n\n## Available Events\n\nAll events are in `Native\\Mobile\\Events\\`:\n\n| Event | Parameters |\n|-------|------------|\n| `Camera\\PhotoTaken` | `string $path`, `string $mimeType`, `?string $id` |\n| `Camera\\PhotoCancelled` | `bool $cancelled`, `?string $id` |\n| `Camera\\VideoRecorded` | `string $path`, `string $mimeType`, `?string $id` |\n| `Camera\\VideoCancelled` | `bool $cancelled`, `?string $id` |\n| `Gallery\\MediaSelected` | `bool $success`, `array $files`, `int $count`, `?string $error`, `bool $cancelled`, `?string $id` |\n| `Scanner\\CodeScanned` | `string $data`, `string $format`, `?string $id` |\n| `Biometric\\Completed` | `bool $success`, `?string $id` |\n| `Alert\\ButtonPressed` | `int $index`, `string $label`, `?string $id` |\n| `Geolocation\\LocationReceived` | `bool $success`, `?float $latitude`, `?float $longitude`, `?float $accuracy`, `?int $timestamp`, `?string $provider`, `?string $error`, `?string $id` |\n| `Geolocation\\PermissionStatusReceived` | `string $location`, `string $coarseLocation`, `string $fineLocation`, `?string $id` |\n| `Geolocation\\PermissionRequestResult` | (varies) |\n| `Microphone\\MicrophoneRecorded` | `string $path`, `string $mimeType`, `?string $id` |\n| `Microphone\\MicrophoneCancelled` | `bool $cancelled`, `?string $id` |\n| `PushNotification\\TokenGenerated` | `string $token`, `?string $id` |\n| `App\\UpdateInstalled` | (varies) |\n\n## Fetching Live Documentation\n\nFor detailed Livewire integration:\n\n- **Events**: `https://nativephp.com/docs/mobile/2/the-basics/events`\n- **APIs**: `https://nativephp.com/docs/mobile/2/apis/overview`\n\nUse WebFetch to retrieve the latest patterns and examples."
              },
              {
                "name": "NativePHP Quickstart",
                "description": "This skill should be used when the user asks to \"start a nativephp app\", \"create nativephp project\", \"setup nativephp mobile\", \"install nativephp\", \"new mobile app with laravel\", \"nativephp prerequisites\", \"environment setup for nativephp\", \"configure xcode for nativephp\", \"android studio setup\", or needs help getting started with NativePHP Mobile development.",
                "path": "nativephp-mobile/skills/nativephp-quickstart/SKILL.md",
                "frontmatter": {
                  "name": "NativePHP Quickstart",
                  "description": "This skill should be used when the user asks to \"start a nativephp app\", \"create nativephp project\", \"setup nativephp mobile\", \"install nativephp\", \"new mobile app with laravel\", \"nativephp prerequisites\", \"environment setup for nativephp\", \"configure xcode for nativephp\", \"android studio setup\", or needs help getting started with NativePHP Mobile development.",
                  "version": "0.1.0"
                },
                "content": "# NativePHP Mobile Quickstart\n\nThis skill provides guidance for starting new NativePHP Mobile projects, including prerequisites, installation, environment setup, and initial configuration.\n\n## Overview\n\nNativePHP Mobile enables building native iOS and Android applications using PHP and Laravel. It embeds a PHP runtime directly into native app shells, eliminating the need for a web server.\n\n## Prerequisites\n\n### General Requirements\n- PHP 8.3+\n- Laravel 11+\n- Valid NativePHP Mobile license from nativephp.com\n\n### iOS Development\n- macOS with Apple Silicon (M1 or later) - required\n- Xcode 16.0 or later\n- Xcode Command Line Tools\n- Homebrew and CocoaPods\n- Apple Developer Program ($99/year) for physical device testing and App Store distribution\n\n### Android Development\n- Android Studio 2024.2.1 or later\n- Android SDK with API 33+ (recommended: Android 15/API 35)\n- JDK 17\n- Environment variables configured:\n  - `JAVA_HOME` pointing to JDK\n  - `ANDROID_HOME` pointing to Android SDK\n  - PATH updated with Java and Android tools\n- Windows only: 7zip utility\n\n## Installation Steps\n\n### 1. Configure Composer Repository\n\nAdd NativePHP repository to `composer.json`:\n\n```json\n{\n  \"repositories\": [\n    {\n      \"type\": \"composer\",\n      \"url\": \"https://nativephp.composer.sh\"\n    }\n  ]\n}\n```\n\nOr use Composer 2.9+:\n```bash\ncomposer repo add nativephp composer https://nativephp.composer.sh\n```\n\n### 2. Set Required Environment Variables\n\nAdd to `.env` file:\n\n```env\n# Required - reverse domain notation\nNATIVEPHP_APP_ID=com.yourcompany.yourapp\n\n# Recommended\nNATIVEPHP_APP_VERSION=1.0.0\nNATIVEPHP_APP_VERSION_CODE=1\n\n# iOS (if building for iOS)\nNATIVEPHP_DEVELOPMENT_TEAM=YOUR_TEAM_ID\n\n# Deep links (optional)\nNATIVEPHP_DEEPLINK_SCHEME=yourapp\nNATIVEPHP_DEEPLINK_HOST=yourapp.com\n```\n\n**Critical**: `NATIVEPHP_APP_ID` must use only lowercase letters, numbers, and periods. No hyphens, underscores, spaces, or emoji.\n\n### 3. Install Package\n\n```bash\ncomposer require nativephp/mobile\nphp artisan native:install\n```\n\n### 4. Run the App\n\n```bash\nphp artisan native:run android\n# or\nphp artisan native:run ios\n```\n\nAfter installation, use the shorthand:\n```bash\nphp native run android\n./native run ios\n```\n\n## All Artisan Commands\n\n| Command | Description |\n|---------|-------------|\n| `native:install [platform]` | Install NativePHP resources. Options: `--force`, `--with-icu`, `--without-icu`, `--skip-php` |\n| `native:run [platform]` | Run app in emulator/simulator. Options: `--build=release` |\n| `native:watch [platform]` | Watch for changes and hot reload |\n| `native:package [platform]` | Package app for distribution |\n| `native:release [platform]` | Create release build |\n| `native:build-ios` | Build iOS app specifically |\n| `native:check-build-number` | Check iOS build number |\n| `native:credentials [action]` | Manage app signing credentials |\n| `native:open-project [platform]` | Open in Xcode or Android Studio |\n| `native:launch-emulator` | Launch Android emulator |\n| `native:tail [platform]` | Tail native logs for debugging |\n| `native:version` | Show NativePHP version |\n\n## Environment Setup Details\n\n### iOS Setup Checklist\n\n1. Install Xcode from Mac App Store\n2. Install Command Line Tools: `xcode-select --install`\n3. Install Homebrew: `/bin/bash -c \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)\"`\n4. Install CocoaPods: `brew install cocoapods`\n5. For physical devices:\n   - Enable Developer Mode on device\n   - Register device with Apple Developer account\n\n### Android Setup Checklist\n\n1. Download and install Android Studio\n2. Install Android SDK (API 33+) via SDK Manager\n3. Install JDK 17 (not auto-installed in recent Android Studio)\n4. Create at least one Android Virtual Device (AVD)\n5. Configure environment variables:\n\n**macOS/Linux** (`~/.zshrc` or `~/.bashrc`):\n```bash\nexport JAVA_HOME=$(/usr/libexec/java_home -v 17)\nexport ANDROID_HOME=$HOME/Library/Android/sdk\nexport PATH=$PATH:$ANDROID_HOME/emulator\nexport PATH=$PATH:$ANDROID_HOME/platform-tools\n```\n\n**Windows** (System Environment Variables):\n- `JAVA_HOME` = `C:\\Program Files\\Java\\jdk-17`\n- `ANDROID_HOME` = `C:\\Users\\YourName\\AppData\\Local\\Android\\Sdk`\n- Add to PATH: `%JAVA_HOME%\\bin`, `%ANDROID_HOME%\\platform-tools`\n\n## Common Setup Issues\n\n### \"No AVDs found\" Error\nCreate an Android Virtual Device in Android Studio's Device Manager before running.\n\n### iOS Simulator Not Starting\nEnsure Xcode Command Line Tools are selected: `sudo xcode-select -s /Applications/Xcode.app/Contents/Developer`\n\n### Composer Authentication\nWhen prompted, enter your NativePHP license key as the password.\n\n## Fetching Live Documentation\n\nFor the most current information, fetch documentation from:\n\n- **Quick Start**: `https://nativephp.com/docs/mobile/2/getting-started/quick-start`\n- **Installation**: `https://nativephp.com/docs/mobile/2/getting-started/installation`\n- **Environment Setup**: `https://nativephp.com/docs/mobile/2/getting-started/environment-setup`\n- **Configuration**: `https://nativephp.com/docs/mobile/2/getting-started/configuration`\n\nUse WebFetch to retrieve the latest documentation when users need detailed or updated information.\n\n## Next Steps After Setup\n\n1. Configure permissions in `config/nativephp.php`\n2. Set up EDGE components for native UI\n3. Implement native functionality using Facades\n4. Test on physical devices before deployment"
              }
            ]
          },
          {
            "name": "nativephp-plugin-dev",
            "description": "A Claude Code Plugin to assist you in building NativePHP Mobile Plugins",
            "source": "./nativephp-plugin-dev",
            "category": null,
            "version": "0.1.0",
            "author": null,
            "install_commands": [
              "/plugin marketplace add NativePHP/ClaudePlugins",
              "/plugin install nativephp-plugin-dev@nativephp-mobile-plugin"
            ],
            "signals": {
              "stars": 3,
              "forks": 1,
              "pushed_at": "2026-01-02T02:56:48Z",
              "created_at": "2025-12-11T19:16:09Z",
              "license": null
            },
            "commands": [
              {
                "name": "/create-nativephp-plugin",
                "description": "Scaffold a new NativePHP plugin with complete directory structure, manifest, service provider, facade, bridge functions, JavaScript module, Boost AI guidelines, and tests.",
                "path": "nativephp-plugin-dev/commands/create-nativephp-plugin.md",
                "frontmatter": {
                  "name": "create-nativephp-plugin",
                  "description": "Scaffold a new NativePHP plugin with complete directory structure, manifest, service provider, facade, bridge functions, JavaScript module, Boost AI guidelines, and tests.",
                  "argument-hint": "vendor/plugin-name",
                  "allowed-tools": [
                    "Bash",
                    "Write",
                    "Read"
                  ]
                },
                "content": "# Create NativePHP Plugin\n\nCreate a complete, working NativePHP plugin with the specified name. This matches the output of `php artisan native:plugin:create`.\n\n## Input\n\nThe user provides a plugin name in `vendor/plugin-name` format: `$ARGUMENTS`\n\n## Validation\n\n1. Verify the name follows `vendor/plugin-name` format (e.g., `acme/plugin-barcode-scanner`)\n2. Extract vendor name and plugin name from the input\n3. Convert to appropriate formats:\n   - Composer name: `vendor/plugin-name` (lowercase, hyphenated)\n   - PHP Namespace: `Vendor\\PluginName` (PascalCase, strip \"plugin-\" prefix)\n   - Kotlin Package: `com.vendor.plugins.pluginname` (lowercase, underscores instead of hyphens)\n   - Directory: `plugin-name`\n   - Namespace: `PluginName` (PascalCase, strip \"plugin-\" prefix)\n\nIf the format is invalid, explain the correct format and ask for a valid name.\n\n## Plugin Location\n\nThe default path should be `./packages/{vendor}/{plugin-name}` (e.g., `./packages/acme/plugin-barcode-scanner`).\n\nAsk the user to confirm this path or provide a custom one.\n\n## Files to Create\n\nCreate the following complete file structure:\n\n### Directory Structure\n\n```\nplugin-name/\n composer.json\n nativephp.json\n README.md\n .gitignore\n src/\n    {PluginName}ServiceProvider.php\n    {PluginName}.php\n    Facades/\n       {PluginName}.php\n    Events/\n       {PluginName}Completed.php\n    Commands/\n        CopyAssetsCommand.php\n resources/\n    android/\n       {PluginName}Functions.kt\n    ios/\n       {PluginName}Functions.swift\n    js/\n       {camelName}.js\n    boost/\n        guidelines/\n            core.blade.php\n tests/\n     Pest.php\n     PluginTest.php\n```\n\n### composer.json\n\n```json\n{\n    \"name\": \"{vendor}/{plugin-name}\",\n    \"description\": \"A NativePHP plugin\",\n    \"type\": \"nativephp-plugin\",\n    \"license\": \"MIT\",\n    \"authors\": [\n        {\n            \"name\": \"Your Name\",\n            \"email\": \"you@example.com\"\n        }\n    ],\n    \"require\": {\n        \"php\": \"^8.2\",\n        \"nativephp/mobile\": \"^2.0\"\n    },\n    \"require-dev\": {\n        \"pestphp/pest\": \"^3.0\"\n    },\n    \"autoload\": {\n        \"psr-4\": {\n            \"{Vendor}\\\\{PluginName}\\\\\": \"src/\"\n        }\n    },\n    \"extra\": {\n        \"laravel\": {\n            \"providers\": [\n                \"{Vendor}\\\\{PluginName}\\\\{PluginName}ServiceProvider\"\n            ]\n        },\n        \"nativephp\": {\n            \"manifest\": \"nativephp.json\"\n        }\n    },\n    \"scripts\": {\n        \"test\": \"pest\"\n    },\n    \"config\": {\n        \"allow-plugins\": {\n            \"pestphp/pest-plugin\": true\n        }\n    }\n}\n```\n\n### nativephp.json\n\nPackage metadata (`name`, `version`, `description`, `service_provider`) comes from `composer.json`  don't duplicate it here. The manifest only contains native-specific configuration.\n\n```json\n{\n    \"namespace\": \"{PluginName}\",\n\n    \"bridge_functions\": [\n        {\n            \"name\": \"{PluginName}.Execute\",\n            \"android\": \"{kotlinPackage}.{PluginName}Functions.Execute\",\n            \"ios\": \"{PluginName}Functions.Execute\",\n            \"description\": \"Execute the plugin functionality\"\n        },\n        {\n            \"name\": \"{PluginName}.GetStatus\",\n            \"android\": \"{kotlinPackage}.{PluginName}Functions.GetStatus\",\n            \"ios\": \"{PluginName}Functions.GetStatus\",\n            \"description\": \"Get the current status\"\n        }\n    ],\n\n    \"android\": {\n        \"permissions\": [],\n        \"dependencies\": {\n            \"implementation\": []\n        },\n        \"activities\": [],\n        \"services\": [],\n        \"receivers\": [],\n        \"providers\": []\n    },\n\n    \"ios\": {\n        \"info_plist\": {},\n        \"dependencies\": {\n            \"swift_packages\": [],\n            \"pods\": []\n        }\n    },\n\n    \"events\": [\n        \"{Vendor}\\\\{PluginName}\\\\Events\\\\{PluginName}Completed\"\n    ],\n\n    \"hooks\": {\n        \"copy_assets\": \"nativephp:{kebab-plugin-name}:copy-assets\"\n    }\n}\n```\n\n### ServiceProvider\n\n```php\n<?php\n\nnamespace {Vendor}\\{PluginName};\n\nuse Illuminate\\Support\\ServiceProvider;\nuse {Vendor}\\{PluginName}\\Commands\\CopyAssetsCommand;\n\nclass {PluginName}ServiceProvider extends ServiceProvider\n{\n    public function register(): void\n    {\n        $this->app->singleton({PluginName}::class, function () {\n            return new {PluginName}();\n        });\n    }\n\n    public function boot(): void\n    {\n        if ($this->app->runningInConsole()) {\n            $this->commands([\n                CopyAssetsCommand::class,\n            ]);\n        }\n    }\n}\n```\n\n### Main Implementation Class\n\n```php\n<?php\n\nnamespace {Vendor}\\{PluginName};\n\nclass {PluginName}\n{\n    /**\n     * Execute the plugin functionality\n     */\n    public function execute(array $options = []): mixed\n    {\n        if (function_exists('nativephp_call')) {\n            $result = nativephp_call('{PluginName}.Execute', json_encode($options));\n\n            if ($result) {\n                $decoded = json_decode($result);\n                return $decoded->data ?? null;\n            }\n        }\n\n        return null;\n    }\n\n    /**\n     * Get the current status\n     */\n    public function getStatus(): ?object\n    {\n        if (function_exists('nativephp_call')) {\n            $result = nativephp_call('{PluginName}.GetStatus', '{}');\n\n            if ($result) {\n                $decoded = json_decode($result);\n                return $decoded->data ?? null;\n            }\n        }\n\n        return null;\n    }\n}\n```\n\n### Facade\n\n```php\n<?php\n\nnamespace {Vendor}\\{PluginName}\\Facades;\n\nuse Illuminate\\Support\\Facades\\Facade;\n\n/**\n * @method static mixed execute(array $options = [])\n * @method static object|null getStatus()\n *\n * @see \\{Vendor}\\{PluginName}\\{PluginName}\n */\nclass {PluginName} extends Facade\n{\n    protected static function getFacadeAccessor(): string\n    {\n        return \\{Vendor}\\{PluginName}\\{PluginName}::class;\n    }\n}\n```\n\n### Event Class\n\n```php\n<?php\n\nnamespace {Vendor}\\{PluginName}\\Events;\n\nuse Illuminate\\Foundation\\Events\\Dispatchable;\nuse Illuminate\\Queue\\SerializesModels;\n\nclass {PluginName}Completed\n{\n    use Dispatchable, SerializesModels;\n\n    public function __construct(\n        public string $result,\n        public ?string $id = null\n    ) {}\n}\n```\n\n### CopyAssetsCommand\n\n```php\n<?php\n\nnamespace {Vendor}\\{PluginName}\\Commands;\n\nuse Native\\Mobile\\Plugins\\Commands\\NativePluginHookCommand;\n\nclass CopyAssetsCommand extends NativePluginHookCommand\n{\n    protected $signature = 'nativephp:{kebab-plugin-name}:copy-assets';\n\n    protected $description = 'Copy assets for {PluginName} plugin';\n\n    public function handle(): int\n    {\n        if ($this->isAndroid()) {\n            $this->copyAndroidAssets();\n        }\n\n        if ($this->isIos()) {\n            $this->copyIosAssets();\n        }\n\n        return self::SUCCESS;\n    }\n\n    protected function copyAndroidAssets(): void\n    {\n        // Example: Copy a TensorFlow Lite model to Android assets\n        // $this->copyToAndroidAssets('models/model.tflite', 'models/model.tflite');\n\n        $this->info('Android assets copied for {PluginName}');\n    }\n\n    protected function copyIosAssets(): void\n    {\n        // Example: Copy a Core ML model to iOS bundle\n        // $this->copyToIosBundle('models/model.mlmodelc', 'models/model.mlmodelc');\n\n        $this->info('iOS assets copied for {PluginName}');\n    }\n}\n```\n\n### Kotlin Bridge Functions\n\n```kotlin\npackage {kotlinPackage}\n\nimport androidx.fragment.app.FragmentActivity\nimport android.content.Context\nimport com.nativephp.mobile.bridge.BridgeFunction\nimport com.nativephp.mobile.bridge.BridgeResponse\n\nobject {PluginName}Functions {\n\n    class Execute(private val activity: FragmentActivity) : BridgeFunction {\n        override fun execute(parameters: Map<String, Any>): Map<String, Any> {\n            // TODO: Implement your native functionality here\n            val option1 = parameters[\"option1\"] as? String ?: \"\"\n\n            return BridgeResponse.success(mapOf(\n                \"result\" to \"executed\",\n                \"option1\" to option1\n            ))\n        }\n    }\n\n    class GetStatus(private val activity: FragmentActivity) : BridgeFunction {\n        override fun execute(parameters: Map<String, Any>): Map<String, Any> {\n            // TODO: Return current status\n            return BridgeResponse.success(mapOf(\n                \"status\" to \"ready\",\n                \"version\" to \"1.0.0\"\n            ))\n        }\n    }\n}\n```\n\n### Swift Bridge Functions\n\n```swift\nimport Foundation\n\nenum {PluginName}Functions {\n\n    class Execute: BridgeFunction {\n        func execute(parameters: [String: Any]) throws -> [String: Any] {\n            // TODO: Implement your native functionality here\n            let option1 = parameters[\"option1\"] as? String ?? \"\"\n\n            return BridgeResponse.success(data: [\n                \"result\": \"executed\",\n                \"option1\": option1\n            ])\n        }\n    }\n\n    class GetStatus: BridgeFunction {\n        func execute(parameters: [String: Any]) throws -> [String: Any] {\n            // TODO: Return current status\n            return BridgeResponse.success(data: [\n                \"status\": \"ready\",\n                \"version\": \"1.0.0\"\n            ])\n        }\n    }\n}\n```\n\n### JavaScript Module\n\n```javascript\n/**\n * {PluginName} Plugin for NativePHP Mobile\n *\n * @example\n * import { {camelName} } from '@{vendor}/{plugin-name}';\n *\n * // Execute functionality\n * const result = await {camelName}.execute({ option1: 'value' });\n *\n * // Get status\n * const status = await {camelName}.getStatus();\n */\n\nconst baseUrl = '/_native/api/call';\n\nasync function bridgeCall(method, params = {}) {\n    const response = await fetch(baseUrl, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'X-CSRF-TOKEN': document.querySelector('meta[name=\"csrf-token\"]')?.content || ''\n        },\n        body: JSON.stringify({ method, params })\n    });\n\n    const result = await response.json();\n\n    if (result.status === 'error') {\n        throw new Error(result.message || 'Native call failed');\n    }\n\n    const nativeResponse = result.data;\n    if (nativeResponse && nativeResponse.data !== undefined) {\n        return nativeResponse.data;\n    }\n\n    return nativeResponse;\n}\n\nexport async function execute(options = {}) {\n    return bridgeCall('{PluginName}.Execute', options);\n}\n\nexport async function getStatus() {\n    return bridgeCall('{PluginName}.GetStatus');\n}\n\nexport const {camelName} = {\n    execute,\n    getStatus\n};\n\nexport default {camelName};\n```\n\n### Boost AI Guidelines (resources/boost/guidelines/core.blade.php)\n\n```blade\n## {vendor}/{plugin-name}\n\nA NativePHP plugin.\n\n### Installation\n\n```bash\n# Install the package\ncomposer require {vendor}/{plugin-name}\n\n# Publish the plugins provider (first time only)\nphp artisan vendor:publish --tag=nativephp-plugins-provider\n\n# Register the plugin (adds \\{Vendor}\\{PluginName}\\{PluginName}ServiceProvider::class)\nphp artisan native:plugin:register {vendor}/{plugin-name}\n\n# Verify registration\nphp artisan native:plugin:list\n```\n\n### PHP Usage (Livewire/Blade)\n\nUse the `{PluginName}` facade:\n\n@verbatim\n<code-snippet name=\"Using {PluginName} Facade\" lang=\"php\">\nuse {Vendor}\\{PluginName}\\Facades\\{PluginName};\n\n// Execute the plugin functionality\n$result = {PluginName}::execute(['option1' => 'value']);\n\n// Get the current status\n$status = {PluginName}::getStatus();\n</code-snippet>\n@endverbatim\n\n### Available Methods\n\n- `{PluginName}::execute()`: Execute the plugin functionality\n- `{PluginName}::getStatus()`: Get the current status\n\n### Events\n\n- `{PluginName}Completed`: Listen with `#[OnNative({PluginName}Completed::class)]`\n\n@verbatim\n<code-snippet name=\"Listening for {PluginName} Events\" lang=\"php\">\nuse Native\\Mobile\\Attributes\\OnNative;\nuse {Vendor}\\{PluginName}\\Events\\{PluginName}Completed;\n\n#[OnNative({PluginName}Completed::class)]\npublic function handle{PluginName}Completed($result, $id = null)\n{\n    // Handle the event\n}\n</code-snippet>\n@endverbatim\n\n### JavaScript Usage (Vue/React/Inertia)\n\n@verbatim\n<code-snippet name=\"Using {PluginName} in JavaScript\" lang=\"javascript\">\nimport { {camelName} } from '@{vendor}/{plugin-name}';\n\n// Execute the plugin functionality\nconst result = await {camelName}.execute({ option1: 'value' });\n\n// Get the current status\nconst status = await {camelName}.getStatus();\n</code-snippet>\n@endverbatim\n```\n\n### tests/Pest.php\n\n```php\n<?php\n\nuses()->in('.');\n```\n\n### tests/PluginTest.php\n\n```php\n<?php\n\nbeforeEach(function () {\n    $this->pluginPath = dirname(__DIR__);\n    $this->manifestPath = $this->pluginPath . '/nativephp.json';\n});\n\ndescribe('Plugin Manifest', function () {\n    it('has a valid nativephp.json file', function () {\n        expect(file_exists($this->manifestPath))->toBeTrue();\n\n        $content = file_get_contents($this->manifestPath);\n        $manifest = json_decode($content, true);\n\n        expect(json_last_error())->toBe(JSON_ERROR_NONE);\n    });\n\n    it('has required fields', function () {\n        $manifest = json_decode(file_get_contents($this->manifestPath), true);\n\n        expect($manifest)->toHaveKeys(['namespace', 'bridge_functions']);\n    });\n\n    it('has valid bridge functions', function () {\n        $manifest = json_decode(file_get_contents($this->manifestPath), true);\n\n        expect($manifest['bridge_functions'])->toBeArray();\n\n        foreach ($manifest['bridge_functions'] as $function) {\n            expect($function)->toHaveKeys(['name']);\n            expect($function)->toHaveAnyKeys(['android', 'ios']);\n        }\n    });\n});\n\ndescribe('Native Code', function () {\n    it('has Android Kotlin file', function () {\n        $kotlinFile = $this->pluginPath . '/resources/android/{PluginName}Functions.kt';\n        expect(file_exists($kotlinFile))->toBeTrue();\n    });\n\n    it('has iOS Swift file', function () {\n        $swiftFile = $this->pluginPath . '/resources/ios/{PluginName}Functions.swift';\n        expect(file_exists($swiftFile))->toBeTrue();\n    });\n});\n\ndescribe('PHP Classes', function () {\n    it('has service provider', function () {\n        $file = $this->pluginPath . '/src/{PluginName}ServiceProvider.php';\n        expect(file_exists($file))->toBeTrue();\n    });\n\n    it('has facade', function () {\n        $file = $this->pluginPath . '/src/Facades/{PluginName}.php';\n        expect(file_exists($file))->toBeTrue();\n    });\n\n    it('has main implementation class', function () {\n        $file = $this->pluginPath . '/src/{PluginName}.php';\n        expect(file_exists($file))->toBeTrue();\n    });\n});\n\ndescribe('Composer Configuration', function () {\n    it('has valid composer.json', function () {\n        $composerPath = $this->pluginPath . '/composer.json';\n        expect(file_exists($composerPath))->toBeTrue();\n\n        $content = file_get_contents($composerPath);\n        $composer = json_decode($content, true);\n\n        expect(json_last_error())->toBe(JSON_ERROR_NONE);\n        expect($composer['type'])->toBe('nativephp-plugin');\n    });\n});\n```\n\n### README.md\n\n```markdown\n# {PluginName} Plugin for NativePHP Mobile\n\nA NativePHP plugin.\n\n## Installation\n\n```bash\n# Install the package\ncomposer require {vendor}/{plugin-name}\n\n# Publish the plugins provider (first time only)\nphp artisan vendor:publish --tag=nativephp-plugins-provider\n\n# Register the plugin (adds the service provider to your NativePluginsServiceProvider)\nphp artisan native:plugin:register {vendor}/{plugin-name}\n\n# Verify registration\nphp artisan native:plugin:list\n```\n\nThis adds `\\{Vendor}\\{PluginName}\\{PluginName}ServiceProvider::class` to your `plugins()` array.\n\n## Usage\n\n```php\nuse {Vendor}\\{PluginName}\\Facades\\{PluginName};\n\n// Execute functionality\n$result = {PluginName}::execute(['option1' => 'value']);\n\n// Get status\n$status = {PluginName}::getStatus();\n```\n\n## Listening for Events\n\n```php\nuse Livewire\\Attributes\\On;\n\n#[On('native:{Vendor}\\{PluginName}\\Events\\{PluginName}Completed')]\npublic function handle{PluginName}Completed($result, $id = null)\n{\n    // Handle the event\n}\n```\n\n## License\n\nMIT\n```\n\n### .gitignore\n\n```\n/vendor/\n/node_modules/\n.DS_Store\n*.log\n```\n\n## After Creation\n\n1. Display the created file structure\n2. Show next steps:\n   - Implement native functions in `resources/android/` and `resources/ios/`\n   - Edit `nativephp.json` to add permissions and dependencies\n   - Customize the copy_assets hook in `src/Commands/CopyAssetsCommand.php`\n3. Show how to install and register:\n   - Add to composer.json repositories: `{\"type\": \"path\", \"url\": \"./packages/{vendor}/{plugin-name}\"}`\n   - Run `composer require {vendor}/{plugin-name}`\n   - Publish provider (first time): `php artisan vendor:publish --tag=nativephp-plugins-provider`\n   - Register plugin: `php artisan native:plugin:register {vendor}/{plugin-name}` (this adds the service provider class to NativePluginsServiceProvider)\n   - Verify with `php artisan native:plugin:list`\n\n## Important Notes\n\n- The plugin MUST be created in `./packages/{vendor}/{plugin-name}` format (e.g., `./packages/nativephp/plugin-ble`)\n- Do NOT create in `./packages/{plugin-name}` - this is incorrect\n- The vendor directory (e.g., `nativephp/`, `acme/`) must exist as a parent folder"
              },
              {
                "name": "/validate-nativephp-plugin",
                "description": "Validate the current NativePHP plugin structure, manifest, and code patterns. Checks for common issues and ensures the plugin follows NativePHP conventions.",
                "path": "nativephp-plugin-dev/commands/validate-nativephp-plugin.md",
                "frontmatter": {
                  "name": "validate-nativephp-plugin",
                  "description": "Validate the current NativePHP plugin structure, manifest, and code patterns. Checks for common issues and ensures the plugin follows NativePHP conventions.",
                  "allowed-tools": [
                    "Read",
                    "Glob",
                    "Grep",
                    "Bash"
                  ]
                },
                "content": "# Validate NativePHP Plugin\n\nValidate the NativePHP plugin in the current directory or specified path.\n\n## Validation Process\n\nPerform a comprehensive validation of the plugin, checking each area and reporting issues.\n\n### 1. Find the Plugin\n\nFirst, locate the plugin to validate:\n\n1. Look for `nativephp.json` in the current directory\n2. If not found, check `./packages/*/nativephp.json`\n3. If multiple found, ask user which one to validate\n4. If none found, report error and suggest running `/create-nativephp-plugin`\n\n### 2. Manifest Validation (nativephp.json)\n\nRead and validate the manifest:\n\n**Required fields:**\n- [ ] `namespace` - Must be PascalCase\n- [ ] `bridge_functions` - Must be array (can be empty)\n\n**Note**: Package metadata (`name`, `version`, `description`) comes from `composer.json`, not the manifest.\n\n**Bridge function validation (for each function):**\n- [ ] `name` - Must be `Namespace.Action` format\n- [ ] `android` - Must be full class path (e.g., `com.vendor.plugins.myplugin.MyPluginFunctions.Execute`)\n- [ ] `ios` - Must be `EnumName.ClassName` format (e.g., `MyPluginFunctions.Execute`)\n- [ ] `description` - Should exist for documentation\n\n**Platform sections validation:**\n- [ ] `android.permissions` - If present, must be array of valid permission strings\n- [ ] `android.dependencies.implementation` - If present, must be array of gradle dependencies\n- [ ] `android.repositories` - If present, must be array of repository objects with `url`\n- [ ] `ios.info_plist` - If present, must be object with valid Info.plist keys\n- [ ] `ios.dependencies.swift_packages` - If present, must be array of objects with `url` and `version`\n- [ ] `ios.dependencies.pods` - If present, must be array of strings\n- [ ] `events` - If present, must be array of fully-qualified class names\n- [ ] `secrets` - If present, must be object with description and required flag\n\n### 3. Composer Validation (composer.json)\n\nRead and validate:\n\n- [ ] `type` - Must be `\"nativephp-plugin\"`\n- [ ] `name` - Must be `vendor/plugin-name` format\n- [ ] `require.nativephp/mobile` - Should be present\n- [ ] `autoload.psr-4` - Must define namespace matching manifest\n- [ ] `extra.laravel.providers` - Should register the service provider\n- [ ] `extra.laravel.aliases` - Should register the facade (optional)\n\n### 4. PHP Code Validation\n\n**Service Provider:**\n- [ ] File exists at path matching provider in `composer.json` extra.laravel.providers\n- [ ] Extends `ServiceProvider`\n- [ ] Has `register()` method\n- [ ] Registers the main class as singleton\n\n**Main API Class:**\n- [ ] File exists\n- [ ] Has methods matching bridge functions\n- [ ] Uses `nativephp_call()` with correct method names and JSON-encoded params\n- [ ] Wraps calls in `if (function_exists('nativephp_call'))`\n\n**Facade:**\n- [ ] File exists in `Facades/` directory\n- [ ] Extends `Facade`\n- [ ] `getFacadeAccessor()` returns correct class\n\n**Events:**\n- [ ] Each event in manifest has corresponding PHP class\n- [ ] Event classes use `Dispatchable` trait\n- [ ] Event classes do NOT implement `ShouldBroadcast`\n\n### 5. Native Code Validation\n\n**Kotlin (Android):**\n- [ ] File exists at `resources/android/{Namespace}Functions.kt` (or `resources/android/src/` for legacy structure)\n- [ ] Package follows `com.{vendor}.plugins.{pluginname}` format\n- [ ] Object name matches `{Namespace}Functions`\n- [ ] Each bridge function has matching class\n- [ ] Classes implement `BridgeFunction` from `com.nativephp.mobile.bridge`\n- [ ] `execute()` method returns `Map<String, Any>`\n- [ ] Uses `BridgeResponse.success()` for success\n- [ ] Uses `BridgeResponse.error(BridgeError(\"CODE\", \"message\"))` for errors (BridgeError required!)\n\n**Swift (iOS):**\n- [ ] File exists at `resources/ios/{Namespace}Functions.swift` (or `resources/ios/Sources/` for legacy structure)\n- [ ] Enum name matches `{Namespace}Functions`\n- [ ] Each bridge function has matching class\n- [ ] Classes conform to `BridgeFunction`\n- [ ] `execute()` method returns `[String: Any]`\n- [ ] Uses `BridgeResponse.success(data:)` for success\n- [ ] Uses `BridgeResponse.error(code: \"CODE\", message: \"message\")` for errors (both params required!)\n\n### 6. Consistency Checks\n\n**Bridge function alignment:**\n- [ ] Every function in manifest has Kotlin implementation\n- [ ] Every function in manifest has Swift implementation\n- [ ] Method names in PHP match manifest names\n- [ ] Event class names in native code match manifest\n\n**Naming consistency:**\n- [ ] Namespace is consistent across all files\n- [ ] Vendor name is consistent\n- [ ] Plugin name is consistent\n\n### 7. Best Practice Checks\n\n**Security:**\n- [ ] No hardcoded API keys or secrets\n- [ ] Permissions are minimal and justified\n\n**Code quality:**\n- [ ] All bridge functions validate required parameters\n- [ ] Error responses include meaningful messages\n- [ ] Async operations dispatch events on main thread\n\n**Documentation:**\n- [ ] README.md exists\n- [ ] Bridge functions have description in manifest\n- [ ] Code has documentation comments\n\n## Report Format\n\nGenerate a validation report:\n\n```\n## NativePHP Plugin Validation Report\n\n**Plugin:** vendor/plugin-name\n**Version:** 1.0.0\n**Path:** ./packages/plugin-name\n\n### Summary\n-  Passed: X checks\n-  Warnings: X items\n-  Errors: X issues\n\n### Manifest (nativephp.json)\n Valid JSON structure\n Required fields present\n Missing description for bridge function: MyPlugin.GetStatus\n\n### Composer (composer.json)\n Type is nativephp-plugin\n Namespace matches manifest\n Missing nativephp/mobile in require\n\n### PHP Code\n Service provider exists and is valid\n Main class implements all bridge functions\n Facade is properly configured\n Event ActionCompleted missing docblock\n\n### Kotlin Code\n Functions file exists\n All bridge functions implemented\n Proper error handling\n\n### Swift Code\n Functions file exists\n All bridge functions implemented\n Missing documentation comments\n\n### Consistency\n Bridge functions aligned across platforms\n Naming is consistent\n\n### Recommendations\n1. Add description to MyPlugin.GetStatus bridge function\n2. Add nativephp/mobile to composer.json require\n3. Add documentation comments to Swift code\n```\n\n## After Validation\n\n1. If errors found: Offer to help fix them\n2. If only warnings: Explain which are important vs. optional\n3. If all passed: Confirm plugin is ready for use"
              }
            ],
            "skills": [
              {
                "name": "Native Code Patterns",
                "description": "This skill provides Kotlin and Swift code patterns for NativePHP plugins. Use when the user asks about \"bridge function pattern\", \"kotlin bridge\", \"swift bridge\", \"BridgeFunction class\", \"BridgeResponse\", \"execute method\", \"parameter extraction\", \"dispatch event\", \"NativeActionCoordinator\", \"LaravelBridge\", \"Activity pattern\", \"ViewController pattern\", threading in native code, or how to write native code for NativePHP plugins.",
                "path": "nativephp-plugin-dev/skills/native-code-patterns/SKILL.md",
                "frontmatter": {
                  "name": "Native Code Patterns",
                  "description": "This skill provides Kotlin and Swift code patterns for NativePHP plugins. Use when the user asks about \"bridge function pattern\", \"kotlin bridge\", \"swift bridge\", \"BridgeFunction class\", \"BridgeResponse\", \"execute method\", \"parameter extraction\", \"dispatch event\", \"NativeActionCoordinator\", \"LaravelBridge\", \"Activity pattern\", \"ViewController pattern\", threading in native code, or how to write native code for NativePHP plugins.",
                  "version": "1.0.0"
                },
                "content": "# Native Code Patterns for NativePHP Plugins\n\nThis skill provides complete, production-ready patterns for Kotlin (Android) and Swift (iOS) bridge functions in NativePHP plugins.\n\n---\n\n## CRITICAL: BridgeResponse Helper\n\n**BridgeResponse is a REAL helper object that EXISTS in NativePHP and MUST be used.**\n\nDo NOT write code that returns plain `Map<String, Any>` or `[String: Any]` directly. Always use:\n\n### Kotlin\n```kotlin\nimport com.nativephp.mobile.bridge.BridgeResponse\nimport com.nativephp.mobile.bridge.BridgeError\n\n// Success\nreturn BridgeResponse.success(mapOf(\"key\" to \"value\"))\n\n// Error (always use BridgeError with code and message)\nreturn BridgeResponse.error(BridgeError(\"ERROR_CODE\", \"Error message\"))\n```\n\n**IMPORTANT: Android BridgeResponse.error requires a `BridgeError` object with both `code` and `message` parameters.**\n\n### Swift\n```swift\n// Success\nreturn BridgeResponse.success(data: [\"key\": \"value\"])\n\n// Error (always include code and message)\nreturn BridgeResponse.error(code: \"ERROR_CODE\", message: \"Error message\")\n```\n\n**IMPORTANT: iOS BridgeResponse.error ALWAYS requires both `code` and `message` parameters.**\n\n**BridgeResponse is defined in:**\n- Android: `com.nativephp.mobile.bridge.BridgeResponse` (BridgeResponse object)\n- iOS: Built into the NativePHP bridge\n\n**The official NativePHP plugin stubs use BridgeResponse. Follow this pattern.**\n\n---\n\n## Kotlin Bridge Function Pattern\n\n### Basic Template\n\n```kotlin\npackage com.myvendor.plugins.myplugin\n\nimport androidx.fragment.app.FragmentActivity\nimport android.content.Context\nimport com.nativephp.mobile.bridge.BridgeFunction\nimport com.nativephp.mobile.bridge.BridgeResponse\nimport com.nativephp.mobile.bridge.BridgeError\n\nobject MyPluginFunctions {\n\n    /**\n     * Brief description of what this function does.\n     *\n     * Parameters:\n     * - paramName: Type - Description\n     *\n     * Returns:\n     * - resultKey: Type - Description\n     */\n    class Execute(private val activity: FragmentActivity) : BridgeFunction {\n        override fun execute(parameters: Map<String, Any>): Map<String, Any> {\n            // 1. Extract and validate parameters\n            val param1 = parameters[\"param1\"] as? String\n                ?: return BridgeResponse.error(BridgeError(\"INVALID_PARAMETERS\", \"param1 is required\"))\n\n            // 2. Perform the native operation\n            try {\n                val result = performOperation(param1)\n\n                // 3. Return success response\n                return BridgeResponse.success(mapOf(\n                    \"result\" to result\n                ))\n            } catch (e: Exception) {\n                return BridgeResponse.error(BridgeError(\"OPERATION_FAILED\", e.message ?: \"Unknown error\"))\n            }\n        }\n\n        private fun performOperation(param: String): String {\n            // Implementation\n            return \"processed: $param\"\n        }\n    }\n\n    // All bridge functions use FragmentActivity - get context from it if needed\n    class GetStatus(private val activity: FragmentActivity) : BridgeFunction {\n        override fun execute(parameters: Map<String, Any>): Map<String, Any> {\n            // If you need context: val context: Context = activity\n            return BridgeResponse.success(mapOf(\n                \"status\" to \"ready\",\n                \"version\" to \"1.0.0\"\n            ))\n        }\n    }\n}\n```\n\n### Package Naming\n\nUse your own vendor-namespaced package for your plugin code:\n\n```kotlin\npackage com.myvendor.plugins.myplugin\n```\n\nWhere `myvendor` is your vendor name and `myplugin` is your plugin name (lowercase, no hyphens - use underscores if needed). The `plugins` segment groups all your plugins together. This keeps your plugin code isolated from other plugins.\n\n### Constructor Parameters - ALWAYS Use FragmentActivity\n\n**Use `FragmentActivity` for ALL bridge functions.** The NativePHP bridge registration passes `activity` to all functions. You can always get `Context` from `activity`:\n\n```kotlin\n// CORRECT - works with the bridge registration\nclass MyFunction(private val activity: FragmentActivity) : BridgeFunction {\n    override fun execute(parameters: Map<String, Any>): Map<String, Any> {\n        // Get context when needed\n        val context: Context = activity\n        val prefs = context.getSharedPreferences(\"my_prefs\", Context.MODE_PRIVATE)\n        // ...\n    }\n}\n```\n\n**Do NOT use `Context` as constructor parameter** - the bridge registers functions with `activity`, not `context`.\n\n### Parameter Extraction Patterns\n\n```kotlin\n// Required string\nval name = parameters[\"name\"] as? String\n    ?: return BridgeResponse.error(BridgeError(\"INVALID_PARAMETERS\", \"name is required\"))\n\n// Required number (always comes as Number)\nval count = (parameters[\"count\"] as? Number)?.toInt()\n    ?: return BridgeResponse.error(BridgeError(\"INVALID_PARAMETERS\", \"count is required\"))\n\n// Optional with default\nval quality = (parameters[\"quality\"] as? Number)?.toInt() ?: 80\nval enabled = parameters[\"enabled\"] as? Boolean ?: false\n\n// Double/Float\nval amount = (parameters[\"amount\"] as? Number)?.toDouble() ?: 0.0\n\n// Arrays/Lists\nval items = (parameters[\"items\"] as? List<*>)?.filterIsInstance<String>() ?: emptyList()\nval numbers = (parameters[\"numbers\"] as? List<*>)?.mapNotNull { (it as? Number)?.toInt() } ?: emptyList()\n\n// Nested objects\nval config = parameters[\"config\"] as? Map<*, *>\nval configValue = config?.get(\"key\") as? String ?: \"default\"\n```\n\n### Response Patterns\n\n```kotlin\n// Success with data\nreturn BridgeResponse.success(mapOf(\n    \"path\" to filePath,\n    \"size\" to fileSize,\n    \"metadata\" to mapOf(\n        \"width\" to width,\n        \"height\" to height\n    )\n))\n\n// Success with array\nreturn BridgeResponse.success(mapOf(\n    \"items\" to listOf(\n        mapOf(\"id\" to 1, \"name\" to \"Item 1\"),\n        mapOf(\"id\" to 2, \"name\" to \"Item 2\")\n    )\n))\n\n// Error (always use BridgeError with code and message)\nreturn BridgeResponse.error(BridgeError(\"OPERATION_FAILED\", \"Something went wrong\"))\n\n// Error with specific code\nreturn BridgeResponse.error(BridgeError(\"FILE_NOT_FOUND\", \"The specified file does not exist\"))\n```\n\n### Event Dispatching (Kotlin)\n\nEvents notify PHP when async operations complete:\n\n```kotlin\nimport android.os.Handler\nimport android.os.Looper\nimport org.json.JSONObject\nimport com.nativephp.mobile.NativeActionCoordinator\n\n// MUST dispatch on main thread for JavaScript execution\nHandler(Looper.getMainLooper()).post {\n    val payload = JSONObject().apply {\n        put(\"path\", filePath)\n        put(\"mimeType\", mimeType)\n        put(\"id\", operationId)\n    }\n    NativeActionCoordinator.dispatchEvent(\n        activity,\n        \"Vendor\\\\MyPlugin\\\\Events\\\\OperationCompleted\",\n        payload.toString()\n    )\n}\n```\n\n### Async Operations (Kotlin)\n\nFor long-running operations, return immediately and dispatch event when done:\n\n```kotlin\nimport kotlinx.coroutines.*\nimport java.util.UUID\n\nclass AsyncOperation(private val activity: FragmentActivity) : BridgeFunction {\n    override fun execute(parameters: Map<String, Any>): Map<String, Any> {\n        val id = UUID.randomUUID().toString()\n\n        CoroutineScope(Dispatchers.IO).launch {\n            try {\n                val result = performLongOperation()\n\n                // Dispatch event on main thread\n                withContext(Dispatchers.Main) {\n                    val payload = JSONObject().apply {\n                        put(\"id\", id)\n                        put(\"result\", result)\n                        put(\"success\", true)\n                    }\n                    NativeActionCoordinator.dispatchEvent(\n                        activity,\n                        \"Vendor\\\\MyPlugin\\\\Events\\\\OperationCompleted\",\n                        payload.toString()\n                    )\n                }\n            } catch (e: Exception) {\n                withContext(Dispatchers.Main) {\n                    val payload = JSONObject().apply {\n                        put(\"id\", id)\n                        put(\"error\", e.message)\n                        put(\"success\", false)\n                    }\n                    NativeActionCoordinator.dispatchEvent(\n                        activity,\n                        \"Vendor\\\\MyPlugin\\\\Events\\\\OperationFailed\",\n                        payload.toString()\n                    )\n                }\n            }\n        }\n\n        // Return immediately with tracking ID\n        return BridgeResponse.success(mapOf(\"id\" to id))\n    }\n\n    private suspend fun performLongOperation(): String {\n        delay(1000) // Simulate work\n        return \"completed\"\n    }\n}\n```\n\n### Launching an Activity (Kotlin)\n\nFor camera, scanners, complex UI:\n\n```kotlin\nimport android.content.Intent\n\nclass OpenScanner(private val activity: FragmentActivity) : BridgeFunction {\n    override fun execute(parameters: Map<String, Any>): Map<String, Any> {\n        val config = parameters[\"config\"] as? String\n\n        val intent = Intent(activity, ScannerActivity::class.java).apply {\n            putExtra(\"config\", config)\n        }\n        activity.startActivity(intent)\n\n        return BridgeResponse.success(mapOf(\"launched\" to true))\n    }\n}\n```\n\nThe Activity dispatches events when done:\n\n```kotlin\nclass ScannerActivity : AppCompatActivity() {\n    private fun onScanComplete(result: String) {\n        Handler(Looper.getMainLooper()).post {\n            val payload = JSONObject().apply {\n                put(\"result\", result)\n            }\n            NativeActionCoordinator.dispatchEvent(\n                this,\n                \"Vendor\\\\MyPlugin\\\\Events\\\\ScanCompleted\",\n                payload.toString()\n            )\n        }\n        finish()\n    }\n}\n```\n\n### Permission Checking (Kotlin)\n\n```kotlin\nimport android.Manifest\nimport android.content.pm.PackageManager\nimport androidx.core.content.ContextCompat\n\nclass RequiresCamera(private val activity: FragmentActivity) : BridgeFunction {\n    override fun execute(parameters: Map<String, Any>): Map<String, Any> {\n        if (ContextCompat.checkSelfPermission(activity, Manifest.permission.CAMERA)\n            != PackageManager.PERMISSION_GRANTED) {\n            return BridgeResponse.error(BridgeError(\"PERMISSION_DENIED\", \"Camera permission required\"))\n        }\n\n        // Proceed with camera operation\n        return performCameraOperation()\n    }\n}\n```\n\n---\n\n## Swift Bridge Function Pattern\n\n### Basic Template\n\n```swift\nimport Foundation\n\nenum MyPluginFunctions {\n\n    /// Brief description of what this function does.\n    ///\n    /// - Parameters:\n    ///   - paramName: Description of parameter\n    ///\n    /// - Returns: Dictionary containing:\n    ///   - resultKey: Description of return value\n    class Execute: BridgeFunction {\n        func execute(parameters: [String: Any]) throws -> [String: Any] {\n            // 1. Extract and validate parameters\n            guard let param1 = parameters[\"param1\"] as? String else {\n                return BridgeResponse.error(code: \"INVALID_PARAMETERS\", message: \"param1 is required\")\n            }\n\n            // 2. Perform the native operation\n            do {\n                let result = try performOperation(param1)\n\n                // 3. Return success response\n                return BridgeResponse.success(data: [\n                    \"result\": result\n                ])\n            } catch {\n                return BridgeResponse.error(code: \"OPERATION_FAILED\", message: error.localizedDescription)\n            }\n        }\n\n        private func performOperation(_ param: String) throws -> String {\n            return \"processed: \\(param)\"\n        }\n    }\n\n    class GetStatus: BridgeFunction {\n        func execute(parameters: [String: Any]) throws -> [String: Any] {\n            return BridgeResponse.success(data: [\n                \"status\": \"ready\",\n                \"version\": \"1.0.0\"\n            ])\n        }\n    }\n}\n```\n\n### File Structure\n\n- One `{Namespace}Functions.swift` file per plugin\n- Use `enum` as namespace container (prevents instantiation)\n- Each bridge function is a `class` inside the enum\n\n### Parameter Extraction Patterns\n\n```swift\n// Required string\nguard let name = parameters[\"name\"] as? String else {\n    return BridgeResponse.error(code: \"INVALID_PARAMETERS\", message: \"name is required\")\n}\n\n// Required number\nguard let count = parameters[\"count\"] as? Int else {\n    return BridgeResponse.error(code: \"INVALID_PARAMETERS\", message: \"count is required\")\n}\n\n// Optional with default\nlet quality = parameters[\"quality\"] as? Int ?? 80\nlet enabled = parameters[\"enabled\"] as? Bool ?? false\n\n// Double/Float\nlet amount = parameters[\"amount\"] as? Double ?? 0.0\n\n// Arrays\nlet items = parameters[\"items\"] as? [String] ?? []\nlet numbers = parameters[\"numbers\"] as? [Int] ?? []\n\n// Nested dictionary\nif let config = parameters[\"config\"] as? [String: Any],\n   let configValue = config[\"key\"] as? String {\n    // Use configValue\n}\n\n// Array of dictionaries\nlet people = parameters[\"people\"] as? [[String: Any]] ?? []\nfor person in people {\n    if let name = person[\"name\"] as? String,\n       let age = person[\"age\"] as? Int {\n        // Process person\n    }\n}\n```\n\n### Response Patterns\n\n```swift\n// Success with data\nreturn BridgeResponse.success(data: [\n    \"path\": filePath,\n    \"size\": fileSize,\n    \"metadata\": [\n        \"width\": width,\n        \"height\": height\n    ]\n])\n\n// Success with array\nreturn BridgeResponse.success(data: [\n    \"items\": [\n        [\"id\": 1, \"name\": \"Item 1\"],\n        [\"id\": 2, \"name\": \"Item 2\"]\n    ]\n])\n\n// Error (always include code and message)\nreturn BridgeResponse.error(code: \"OPERATION_FAILED\", message: \"Something went wrong\")\n\n// Error with specific code\nreturn BridgeResponse.error(code: \"FILE_NOT_FOUND\", message: \"The specified file does not exist\")\n```\n\n### Event Dispatching (Swift)\n\n```swift\n// Dispatch on main thread (usually already there)\nDispatchQueue.main.async {\n    let payload: [String: Any] = [\n        \"path\": filePath,\n        \"mimeType\": mimeType,\n        \"id\": operationId\n    ]\n    LaravelBridge.shared.send?(\n        \"Vendor\\\\MyPlugin\\\\Events\\\\OperationCompleted\",\n        payload\n    )\n}\n```\n\n### Async Operations (Swift)\n\n```swift\nclass AsyncOperation: BridgeFunction {\n    func execute(parameters: [String: Any]) throws -> [String: Any] {\n        let id = UUID().uuidString\n\n        // Dispatch to background\n        DispatchQueue.global(qos: .userInitiated).async {\n            do {\n                let result = self.performLongOperation()\n\n                // Dispatch event back on main thread\n                DispatchQueue.main.async {\n                    LaravelBridge.shared.send?(\n                        \"Vendor\\\\MyPlugin\\\\Events\\\\OperationCompleted\",\n                        [\n                            \"id\": id,\n                            \"result\": result,\n                            \"success\": true\n                        ]\n                    )\n                }\n            } catch {\n                DispatchQueue.main.async {\n                    LaravelBridge.shared.send?(\n                        \"Vendor\\\\MyPlugin\\\\Events\\\\OperationFailed\",\n                        [\n                            \"id\": id,\n                            \"error\": error.localizedDescription,\n                            \"success\": false\n                        ]\n                    )\n                }\n            }\n        }\n\n        // Return immediately with tracking ID\n        return BridgeResponse.success(data: [\"id\": id])\n    }\n\n    private func performLongOperation() -> String {\n        Thread.sleep(forTimeInterval: 1.0) // Simulate work\n        return \"completed\"\n    }\n}\n\n// Modern Swift concurrency version\nclass ModernAsyncOperation: BridgeFunction {\n    func execute(parameters: [String: Any]) throws -> [String: Any] {\n        let id = UUID().uuidString\n\n        Task {\n            let result = await performAsyncWork()\n\n            await MainActor.run {\n                LaravelBridge.shared.send?(\n                    \"Vendor\\\\MyPlugin\\\\Events\\\\OperationCompleted\",\n                    [\"id\": id, \"result\": result]\n                )\n            }\n        }\n\n        return BridgeResponse.success(data: [\"id\": id])\n    }\n\n    private func performAsyncWork() async -> String {\n        try? await Task.sleep(nanoseconds: 1_000_000_000)\n        return \"completed\"\n    }\n}\n```\n\n### Presenting a ViewController (Swift)\n\n```swift\nimport UIKit\n\nclass OpenScanner: BridgeFunction {\n    func execute(parameters: [String: Any]) throws -> [String: Any] {\n        // Get the key window's root view controller\n        guard let windowScene = UIApplication.shared.connectedScenes.first as? UIWindowScene,\n              let rootVC = windowScene.windows.first?.rootViewController else {\n            return BridgeResponse.error(code: \"VIEW_CONTROLLER_ERROR\", message: \"Cannot present view controller\")\n        }\n\n        // Find the topmost presented controller\n        var topVC = rootVC\n        while let presented = topVC.presentedViewController {\n            topVC = presented\n        }\n\n        // Create and present your view controller\n        let scannerVC = ScannerViewController()\n        scannerVC.modalPresentationStyle = .fullScreen\n\n        DispatchQueue.main.async {\n            topVC.present(scannerVC, animated: true)\n        }\n\n        return BridgeResponse.success(data: [\"presented\": true])\n    }\n}\n\nclass ScannerViewController: UIViewController {\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        setupUI()\n    }\n\n    private func onScanComplete(result: String) {\n        dismiss(animated: true) {\n            LaravelBridge.shared.send?(\n                \"Vendor\\\\MyPlugin\\\\Events\\\\ScanCompleted\",\n                [\"result\": result]\n            )\n        }\n    }\n}\n```\n\n### Permission Handling (Swift)\n\n```swift\nimport AVFoundation\n\nclass RequiresCamera: BridgeFunction {\n    func execute(parameters: [String: Any]) throws -> [String: Any] {\n        let status = AVCaptureDevice.authorizationStatus(for: .video)\n\n        switch status {\n        case .authorized:\n            return performCameraOperation()\n\n        case .notDetermined:\n            // Request permission asynchronously\n            AVCaptureDevice.requestAccess(for: .video) { granted in\n                DispatchQueue.main.async {\n                    LaravelBridge.shared.send?(\n                        \"Vendor\\\\MyPlugin\\\\Events\\\\PermissionResult\",\n                        [\"granted\": granted, \"permission\": \"camera\"]\n                    )\n                }\n            }\n            return BridgeResponse.success(data: [\"pending\": true])\n\n        case .denied, .restricted:\n            return BridgeResponse.error(\n                code: \"PERMISSION_DENIED\",\n                message: \"Camera permission denied. Please enable in Settings.\"\n            )\n\n        @unknown default:\n            return BridgeResponse.error(code: \"UNKNOWN_STATUS\", message: \"Unknown permission status\")\n        }\n    }\n}\n```\n\n---\n\n## Common Patterns for Both Platforms\n\n### Synchronous vs Asynchronous\n\n**Synchronous** (returns data immediately):\n```php\n$status = nativephp_call('MyPlugin.GetStatus', []);\n// Returns: ['status' => 'ready']\n```\n\n**Asynchronous** (returns ID, dispatches event later):\n```php\n$result = nativephp_call('MyPlugin.StartLongOperation', ['data' => $data]);\n// Returns: ['id' => 'uuid-here']\n// Later: native:Vendor\\MyPlugin\\Events\\OperationCompleted fires\n```\n\n### Error Handling Best Practices\n\n1. **Validate all required parameters** at the start\n2. **Use try-catch** around operations that can fail\n3. **Return meaningful error codes** for programmatic handling\n4. **Include helpful error messages** for debugging\n5. **Never throw exceptions** from bridge functions - always return error responses\n\n### Threading Rules\n\n**Android:**\n- Bridge functions execute on main thread\n- Use `Dispatchers.IO` for I/O operations\n- Event dispatch MUST be on main thread: `Handler(Looper.getMainLooper()).post { }`\n\n**iOS:**\n- Bridge functions execute on main thread\n- Use `DispatchQueue.global(qos: .userInitiated)` for background work\n- Event dispatch should be on main thread: `DispatchQueue.main.async { }`\n\n### File Paths\n\nWhen returning file paths to PHP:\n\n```kotlin\n// Android\nreturn BridgeResponse.success(mapOf(\n    \"path\" to file.absolutePath  // Full path like /data/data/com.app/files/photo.jpg\n))\n```\n\n```swift\n// iOS\nreturn BridgeResponse.success(data: [\n    \"path\": fileURL.path  // Full path like /var/mobile/.../Documents/photo.jpg\n])\n```\n\nPHP can then use these paths directly for file operations.\n\n---\n\n## Android Activity Lifecycle Events (NativePHPLifecycle Pattern)\n\nPlugins that need to respond to Android Activity lifecycle events (FCM tokens, app state changes, deep links, etc.) should subscribe to NativePHP's `NativePHPLifecycle` event bus rather than modifying MainActivity directly.\n\n### Available Events\n\nMainActivity and PushNotificationService post these events that plugins can subscribe to:\n\n| Event Name | Data | Description |\n|------------|------|-------------|\n| `didRegisterForRemoteNotifications` | `[\"token\": String]` | FCM token received |\n| `didFailToRegisterForRemoteNotifications` | `[\"error\": String]` | FCM registration failed |\n| `didReceiveRemoteNotification` | `[\"title\", \"body\", \"data\": Map]` | Push notification received |\n| `onResume` | none | Activity resumed (foreground) |\n| `onPause` | none | Activity paused (background) |\n| `onDestroy` | none | Activity destroyed |\n| `onNewIntent` | `[\"url\": String]` | Deep link received |\n| `onPermissionResult` | `[\"permission\", \"granted\", \"requestCode\"]` | Permission request result |\n\n### Subscribing to Lifecycle Events (Kotlin)\n\nCreate a singleton that subscribes to the events it needs:\n\n```kotlin\npackage com.myvendor.plugins.myplugin\n\nimport com.nativephp.mobile.lifecycle.NativePHPLifecycle\n\nobject MyPluginDelegate {\n    private var initialized = false\n\n    fun initialize() {\n        if (initialized) return\n        initialized = true\n\n        // Subscribe to FCM token registration\n        NativePHPLifecycle.on(NativePHPLifecycle.Events.DID_REGISTER_FOR_REMOTE_NOTIFICATIONS) { data ->\n            val token = data[\"token\"] as? String ?: return@on\n            println(\"MyPluginDelegate: Received FCM token: $token\")\n\n            // Cache it, send to server, etc.\n            // UserDefaults equivalent in Android\n            // SharedPreferences.edit().putString(\"my_plugin_push_token\", token).apply()\n        }\n\n        NativePHPLifecycle.on(NativePHPLifecycle.Events.DID_FAIL_TO_REGISTER_FOR_REMOTE_NOTIFICATIONS) { data ->\n            val error = data[\"error\"] as? String\n            println(\"MyPluginDelegate: Failed to register: $error\")\n        }\n\n        NativePHPLifecycle.on(NativePHPLifecycle.Events.ON_RESUME) { _ ->\n            println(\"MyPluginDelegate: App resumed\")\n            // Refresh state, resume tasks, etc.\n        }\n\n        NativePHPLifecycle.on(NativePHPLifecycle.Events.ON_NEW_INTENT) { data ->\n            val url = data[\"url\"] as? String ?: return@on\n            println(\"MyPluginDelegate: Deep link received: $url\")\n            // Handle OAuth callbacks, deep links, etc.\n        }\n    }\n}\n```\n\n### Initializing the Delegate\n\nInitialize the delegate in your first bridge function call:\n\n```kotlin\nobject MyPluginFunctions {\n\n    class Initialize(private val context: Context) : BridgeFunction {\n        override fun execute(parameters: Map<String, Any>): Map<String, Any> {\n            // Ensure delegate is initialized and listening\n            MyPluginDelegate.initialize()\n\n            return BridgeResponse.success(mapOf(\"initialized\" to true))\n        }\n    }\n}\n```\n\n### Why NativePHPLifecycle?\n\nThis pattern keeps MainActivity clean and generic:\n\n1. **Decoupling**: Plugins don't modify MainActivity source code\n2. **Multiple subscribers**: Multiple plugins can listen to the same events\n3. **Thread-safe**: Callbacks run on the main thread automatically\n4. **Easy testing**: Can post events in tests to simulate lifecycle events\n\n### NativePHPLifecycle API\n\n```kotlin\nimport com.nativephp.mobile.lifecycle.NativePHPLifecycle\n\n// Subscribe to an event\nval subscriptionId = NativePHPLifecycle.on(\"eventName\") { data ->\n    // Handle event\n}\n\n// Unsubscribe from an event\nNativePHPLifecycle.off(\"eventName\", callback)\n\n// Remove all listeners for an event\nNativePHPLifecycle.offAll(\"eventName\")\n\n// Check if there are listeners\nval hasListeners = NativePHPLifecycle.hasListeners(\"eventName\")\n\n// Clear all listeners (cleanup)\nNativePHPLifecycle.clear()\n\n// Event name constants\nNativePHPLifecycle.Events.DID_REGISTER_FOR_REMOTE_NOTIFICATIONS\nNativePHPLifecycle.Events.DID_FAIL_TO_REGISTER_FOR_REMOTE_NOTIFICATIONS\nNativePHPLifecycle.Events.DID_RECEIVE_REMOTE_NOTIFICATION\nNativePHPLifecycle.Events.ON_RESUME\nNativePHPLifecycle.Events.ON_PAUSE\nNativePHPLifecycle.Events.ON_DESTROY\nNativePHPLifecycle.Events.ON_NEW_INTENT\nNativePHPLifecycle.Events.ON_PERMISSION_RESULT\n```\n\n---\n\n## iOS AppDelegate Lifecycle Events (NotificationCenter Pattern)\n\nPlugins that need to respond to iOS AppDelegate lifecycle events (push notification tokens, app state changes, etc.) should subscribe to NativePHP's NotificationCenter events rather than modifying AppDelegate directly.\n\n### Available Notification Names\n\nAppDelegate posts these notifications that plugins can subscribe to:\n\n| Notification Name | userInfo | Description |\n|-------------------|----------|-------------|\n| `NativePHP.didRegisterForRemoteNotifications` | `[\"deviceToken\": Data]` | APNS device token received |\n| `NativePHP.didFailToRegisterForRemoteNotifications` | `[\"error\": Error]` | APNS registration failed |\n| `NativePHP.didReceiveRemoteNotification` | `[\"payload\": [AnyHashable: Any]]` | Remote notification received |\n| `NativePHP.didFinishLaunching` | `[\"launchOptions\": [...]]` | App finished launching |\n| `NativePHP.didBecomeActive` | none | App became active |\n| `NativePHP.didEnterBackground` | none | App entered background |\n\n### Subscribing to Lifecycle Events (Swift)\n\nCreate a singleton delegate class that subscribes to the notifications it needs:\n\n```swift\nimport Foundation\nimport UIKit\n\n/// Singleton that handles AppDelegate lifecycle events via NotificationCenter\nclass MyPluginDelegate: NSObject {\n    static let shared = MyPluginDelegate()\n\n    private override init() {\n        super.init()\n        setupNotificationObservers()\n    }\n\n    // MARK: - NotificationCenter Observers\n\n    private func setupNotificationObservers() {\n        // Subscribe to APNS token registration\n        NotificationCenter.default.addObserver(\n            self,\n            selector: #selector(handleDidRegisterForRemoteNotifications(_:)),\n            name: Notification.Name(\"NativePHP.didRegisterForRemoteNotifications\"),\n            object: nil\n        )\n\n        NotificationCenter.default.addObserver(\n            self,\n            selector: #selector(handleDidFailToRegisterForRemoteNotifications(_:)),\n            name: Notification.Name(\"NativePHP.didFailToRegisterForRemoteNotifications\"),\n            object: nil\n        )\n\n        NotificationCenter.default.addObserver(\n            self,\n            selector: #selector(handleDidBecomeActive(_:)),\n            name: Notification.Name(\"NativePHP.didBecomeActive\"),\n            object: nil\n        )\n    }\n\n    @objc private func handleDidRegisterForRemoteNotifications(_ notification: Notification) {\n        guard let deviceToken = notification.userInfo?[\"deviceToken\"] as? Data else { return }\n\n        // Convert token to string\n        let tokenString = deviceToken.map { String(format: \"%02x\", $0) }.joined()\n        print(\"MyPluginDelegate: Received APNS token: \\(tokenString)\")\n\n        // Cache it, send to server, etc.\n        UserDefaults.standard.set(tokenString, forKey: \"my_plugin_push_token\")\n\n        // Dispatch event to PHP if needed\n        LaravelBridge.shared.send?(\n            \"Vendor\\\\MyPlugin\\\\Events\\\\TokenReceived\",\n            [\"token\": tokenString]\n        )\n    }\n\n    @objc private func handleDidFailToRegisterForRemoteNotifications(_ notification: Notification) {\n        if let error = notification.userInfo?[\"error\"] as? Error {\n            print(\"MyPluginDelegate: Failed to register: \\(error.localizedDescription)\")\n        }\n    }\n\n    @objc private func handleDidBecomeActive(_ notification: Notification) {\n        print(\"MyPluginDelegate: App became active\")\n        // Refresh state, resume tasks, etc.\n    }\n}\n```\n\n### Initializing the Delegate\n\nThe delegate must be instantiated early so it can receive notifications. A common pattern is to reference `MyPluginDelegate.shared` in your first bridge function call:\n\n```swift\nenum MyPluginFunctions {\n\n    class Initialize: BridgeFunction {\n        func execute(parameters: [String: Any]) throws -> [String: Any] {\n            // Ensure delegate is instantiated and listening\n            _ = MyPluginDelegate.shared\n\n            return BridgeResponse.success(data: [\"initialized\": true])\n        }\n    }\n}\n```\n\nOr trigger it when setting up UNUserNotificationCenter delegate:\n\n```swift\nclass RequestPermission: BridgeFunction {\n    func execute(parameters: [String: Any]) throws -> [String: Any] {\n        let center = UNUserNotificationCenter.current()\n        center.delegate = MyPluginDelegate.shared  // Also instantiates if needed\n\n        // ... rest of permission request logic\n    }\n}\n```\n\n### Why NotificationCenter?\n\nThis pattern keeps AppDelegate clean and generic:\n\n1. **Decoupling**: Plugins don't modify AppDelegate source code\n2. **Multiple subscribers**: Multiple plugins can listen to the same events\n3. **Standard iOS pattern**: Uses built-in NotificationCenter, no swizzling needed\n4. **Easy testing**: Can post notifications in tests to simulate lifecycle events\n\n### Protocol Conformance in Delegates\n\nYour delegate can also conform to iOS delegate protocols (UNUserNotificationCenterDelegate, MessagingDelegate, etc.):\n\n```swift\nclass MyPluginDelegate: NSObject, UNUserNotificationCenterDelegate, MessagingDelegate {\n    static let shared = MyPluginDelegate()\n\n    private override init() {\n        super.init()\n        setupNotificationObservers()\n    }\n\n    // MARK: - UNUserNotificationCenterDelegate\n\n    func userNotificationCenter(\n        _ center: UNUserNotificationCenter,\n        willPresent notification: UNNotification,\n        withCompletionHandler completionHandler: @escaping (UNNotificationPresentationOptions) -> Void\n    ) {\n        // Show notification even when app is in foreground\n        completionHandler([.banner, .sound, .badge])\n    }\n\n    func userNotificationCenter(\n        _ center: UNUserNotificationCenter,\n        didReceive response: UNNotificationResponse,\n        withCompletionHandler completionHandler: @escaping () -> Void\n    ) {\n        // Handle notification tap\n        let userInfo = response.notification.request.content.userInfo\n        print(\"User tapped notification: \\(userInfo)\")\n        completionHandler()\n    }\n\n    // MARK: - MessagingDelegate (Firebase)\n\n    func messaging(_ messaging: Messaging, didReceiveRegistrationToken fcmToken: String?) {\n        guard let fcmToken = fcmToken else { return }\n        print(\"FCM token received: \\(fcmToken)\")\n\n        LaravelBridge.shared.send?(\n            \"Vendor\\\\MyPlugin\\\\Events\\\\TokenGenerated\",\n            [\"token\": fcmToken]\n        )\n    }\n}"
              },
              {
                "name": "NativePHP Architecture",
                "description": "This skill provides understanding of NativePHP Mobile internals. Use when the user asks about \"how NativePHP works\", \"god method\", \"nativephp_call\", \"bridge functions\", \"bridge registration\", \"EDGE system\", \"element definition\", \"native events\", \"event dispatching\", \"WebView communication\", or how PHP communicates with native iOS/Android code.",
                "path": "nativephp-plugin-dev/skills/nativephp-architecture/SKILL.md",
                "frontmatter": {
                  "name": "NativePHP Architecture",
                  "description": "This skill provides understanding of NativePHP Mobile internals. Use when the user asks about \"how NativePHP works\", \"god method\", \"nativephp_call\", \"bridge functions\", \"bridge registration\", \"EDGE system\", \"element definition\", \"native events\", \"event dispatching\", \"WebView communication\", or how PHP communicates with native iOS/Android code.",
                  "version": "1.0.0"
                },
                "content": "# NativePHP Mobile Architecture\n\nNativePHP Mobile enables Laravel developers to build native iOS and Android applications. This skill explains the core architecture.\n\n## The God Method: `nativephp_call`\n\nThe foundation of NativePHP's native communication is the \"god method\" - `nativephp_call`. This single function handles ALL PHP-to-native communication.\n\n### How It Works\n\n```php\n// PHP side - calling native functionality\n$result = nativephp_call('Dialog.Alert', [\n    'title' => 'Hello',\n    'message' => 'Welcome to NativePHP!'\n]);\n```\n\nThe call flows through:\n1. **PHP** calls `nativephp_call('Method.Name', $params)`\n2. **JavaScript bridge** receives the call in the WebView\n3. **Native code** (Kotlin/Swift) executes the registered bridge function\n4. **Result** flows back through the same path\n\n### Bridge Function Registration\n\nNative bridge functions must be registered before they can be called. Registration maps method names to implementation classes.\n\n**Android (Kotlin):**\n```kotlin\nfun registerBridgeFunctions(activity: FragmentActivity, context: Context) {\n    val registry = BridgeFunctionRegistry.shared\n\n    // Core NativePHP functions\n    registry.register(\"Dialog.Alert\", DialogFunctions.Alert(activity))\n    registry.register(\"QrCode.Scan\", QrCodeFunctions.Scan(activity))\n    registry.register(\"Network.Status\", NetworkFunctions.Status(context))\n\n    // Plugin functions get registered here too\n    registry.register(\"MyPlugin.Execute\", MyPluginFunctions.Execute(activity))\n}\n```\n\n**iOS (Swift):**\n```swift\nfunc registerBridgeFunctions() {\n    let registry = BridgeFunctionRegistry.shared\n\n    registry.register(\"Dialog.Alert\", DialogFunctions.Alert())\n    registry.register(\"QrCode.Scan\", QrCodeFunctions.Scan())\n    registry.register(\"Network.Status\", NetworkFunctions.Status())\n\n    // Plugin functions\n    registry.register(\"MyPlugin.Execute\", MyPluginFunctions.Execute())\n}\n```\n\n### Method Naming Convention\n\nBridge function names follow `Namespace.Action` pattern:\n- `Dialog.Alert` - Show an alert dialog\n- `Camera.Capture` - Capture a photo\n- `Haptics.Vibrate` - Trigger haptic feedback\n- `MyPlugin.DoSomething` - Plugin-specific action\n\n## EDGE: Element Definition and Generation Engine\n\nEDGE is NativePHP's system for rendering native UI elements from PHP/Blade templates. Instead of rendering HTML, EDGE creates native iOS/Android UI.\n\n### How EDGE Works\n\n1. **Blade components** define native UI elements\n2. **JSON representation** is passed via HTTP headers\n3. **Native renderers** create actual native views\n\n```php\n// In a Blade template\n<x-native::bottom-nav>\n    <x-native::bottom-nav-item\n        icon=\"home\"\n        label=\"Home\"\n        route=\"home\"\n    />\n    <x-native::bottom-nav-item\n        icon=\"settings\"\n        label=\"Settings\"\n        route=\"settings\"\n    />\n</x-native::bottom-nav>\n```\n\nThis generates a JSON structure that native code interprets to render a real native bottom navigation bar.\n\n### EDGE vs WebView\n\n| Aspect | EDGE (Native) | WebView |\n|--------|---------------|---------|\n| Rendering | Native UIKit/Jetpack | HTML/CSS |\n| Performance | Native speed | Web performance |\n| Look & Feel | Platform native | Web-like |\n| Use Case | Navigation, tabs, dialogs | App content |\n\n## Event Dispatching: Native to PHP\n\nWhen native code needs to notify PHP (e.g., photo captured, scan completed), it dispatches events.\n\n### The Flow\n\n1. Native code completes an operation\n2. Native dispatches event via JavaScript injection\n3. Livewire/Alpine receives the event\n4. PHP component handles the event\n\n### Android Event Dispatching\n\n```kotlin\nimport android.os.Handler\nimport android.os.Looper\nimport org.json.JSONObject\n\n// MUST dispatch on main thread for JavaScript execution\nHandler(Looper.getMainLooper()).post {\n    val payload = JSONObject().apply {\n        put(\"path\", filePath)\n        put(\"mimeType\", \"image/jpeg\")\n    }\n    NativeActionCoordinator.dispatchEvent(\n        activity,\n        \"Native\\\\Mobile\\\\Events\\\\Camera\\\\PhotoCaptured\",\n        payload.toString()\n    )\n}\n```\n\n### iOS Event Dispatching\n\n```swift\n// Already on main thread typically\nlet payload: [String: Any] = [\n    \"path\": filePath,\n    \"mimeType\": \"image/jpeg\"\n]\nLaravelBridge.shared.send?(\n    \"Native\\\\Mobile\\\\Events\\\\Camera\\\\PhotoCaptured\",\n    payload\n)\n```\n\n### PHP Event Handling\n\n```php\n// Event class - simple POJO, no broadcasting\nclass PhotoCaptured\n{\n    use Dispatchable, SerializesModels;\n\n    public function __construct(\n        public string $path,\n        public string $mimeType = 'image/jpeg'\n    ) {}\n}\n\n// Livewire component listening for the event\nclass PhotoUploader extends Component\n{\n    #[On('native:Native\\Mobile\\Events\\Camera\\PhotoCaptured')]\n    public function handlePhotoCaptured($path, $mimeType = null)\n    {\n        // Process the captured photo\n        $this->photoPath = $path;\n    }\n}\n```\n\n### Critical Rules for Events\n\n1. **Events dispatch via JavaScript injection** - NOT Laravel's event system\n2. **Event classes are simple POJOs** - No `ShouldBroadcast`, no channels\n3. **Main thread required** - JavaScript injection must run on UI thread\n4. **Livewire listens with `#[On('native:...')]`** - The `native:` prefix is required\n\n## WebView Architecture\n\nNativePHP apps run inside a WebView that loads PHP-rendered HTML:\n\n```\n\n           Native App Shell          \n    \n       EDGE Native Elements        \n    (Bottom Nav, Status Bar)       \n    \n                                   \n           WebView                 \n     (PHP/Laravel Content)         \n                                   \n           \n        JavaScript Bridge        \n        (nativephp_call)         \n           \n                                   \n    \n                                     \n    \n     Bridge Function Registry      \n     (Native Kotlin/Swift)         \n    \n\n```\n\n## PHP Binaries\n\nDuring NativePHP installation, PHP binaries are downloaded that contain:\n- Compiled PHP runtime for iOS/Android\n- All function definitions including `nativephp_call`\n- Native bridge interface code\n\nThese binaries are platform-specific and handle the low-level communication between PHP and native code.\n\n## Key Concepts Summary\n\n| Concept | Purpose |\n|---------|---------|\n| `nativephp_call` | PHP function to invoke native code |\n| Bridge Functions | Native classes that handle `nativephp_call` requests |\n| Bridge Registry | Maps method names to bridge function classes |\n| EDGE | Native UI rendering from Blade components |\n| Event Dispatching | Native-to-PHP communication via JavaScript injection |\n| WebView | Container for PHP-rendered content |\n\n## Common Patterns\n\n### Synchronous Call (returns immediately)\n```php\n$status = nativephp_call('Network.Status', []);\n// Returns: ['connected' => true, 'type' => 'wifi']\n```\n\n### Asynchronous Operation (returns ID, dispatches event when done)\n```php\n$result = nativephp_call('Camera.Capture', ['quality' => 80]);\n// Returns: ['id' => 'uuid-here']\n// Later: native:Native\\Mobile\\Events\\Camera\\PhotoCaptured event fires\n```\n\n### Fire-and-Forget\n```php\nnativephp_call('Haptics.Vibrate', ['pattern' => 'success']);\n// Returns: ['success' => true]\n// No follow-up event\n```"
              },
              {
                "name": "NativePHP Plugin Structure",
                "description": "This skill explains NativePHP plugin structure and configuration. Use when the user asks about \"plugin structure\", \"nativephp.json\", \"plugin manifest\", \"composer.json setup\", \"service provider\", \"facade\", \"plugin directory layout\", \"bridge_functions array\", \"plugin permissions\", \"plugin dependencies\", \"plugin repositories\", \"custom maven repository\", \"plugin secrets\", \"environment variables\", \"placeholder substitution\", \"plugin hooks\", \"copy_assets\", \"features\", \"uses-feature\", \"meta_data\", \"background_modes\", \"entitlements\", or how to organize a NativePHP plugin package.",
                "path": "nativephp-plugin-dev/skills/plugin-structure/SKILL.md",
                "frontmatter": {
                  "name": "NativePHP Plugin Structure",
                  "description": "This skill explains NativePHP plugin structure and configuration. Use when the user asks about \"plugin structure\", \"nativephp.json\", \"plugin manifest\", \"composer.json setup\", \"service provider\", \"facade\", \"plugin directory layout\", \"bridge_functions array\", \"plugin permissions\", \"plugin dependencies\", \"plugin repositories\", \"custom maven repository\", \"plugin secrets\", \"environment variables\", \"placeholder substitution\", \"plugin hooks\", \"copy_assets\", \"features\", \"uses-feature\", \"meta_data\", \"background_modes\", \"entitlements\", or how to organize a NativePHP plugin package.",
                  "version": "1.0.3"
                },
                "content": "# NativePHP Plugin Structure\n\nNativePHP plugins are Composer packages that extend NativePHP with native iOS/Android functionality. This skill covers the complete plugin structure.\n\n## Directory Layout\n\n```\nmy-plugin/\n composer.json                     # Composer package definition\n nativephp.json                    # Plugin manifest (REQUIRED)\n README.md                         # Plugin documentation\n .gitignore\n src/\n    MyPluginServiceProvider.php   # Laravel service provider\n    MyPlugin.php                  # Main API class\n    Facades/\n       MyPlugin.php              # Laravel facade\n    Events/                       # Events dispatched from native\n       MyPluginCompleted.php\n    Commands/\n        CopyAssetsCommand.php     # Lifecycle hook commands\n resources/\n    android/\n       MyPluginFunctions.kt      # Kotlin bridge functions\n    ios/\n       MyPluginFunctions.swift   # Swift bridge functions\n    js/\n       myPlugin.js               # JavaScript bridge module\n    boost/\n        guidelines/\n            core.blade.php        # Boost AI guidelines\n tests/\n     Pest.php\n     PluginTest.php                # Plugin validation tests\n```\n\n## composer.json\n\nThe Composer manifest must declare the package type as `nativephp-plugin`:\n\n```json\n{\n    \"name\": \"vendor/my-plugin\",\n    \"description\": \"A NativePHP plugin that does something awesome\",\n    \"type\": \"nativephp-plugin\",\n    \"license\": \"MIT\",\n    \"require\": {\n        \"php\": \"^8.1\",\n        \"nativephp/mobile\": \"^1.0\"\n    },\n    \"autoload\": {\n        \"psr-4\": {\n            \"Vendor\\\\MyPlugin\\\\\": \"src/\"\n        }\n    },\n    \"extra\": {\n        \"laravel\": {\n            \"providers\": [\n                \"Vendor\\\\MyPlugin\\\\MyPluginServiceProvider\"\n            ],\n            \"aliases\": {\n                \"MyPlugin\": \"Vendor\\\\MyPlugin\\\\Facades\\\\MyPlugin\"\n            }\n        }\n    }\n}\n```\n\n### Critical Fields\n\n| Field | Requirement |\n|-------|-------------|\n| `type` | MUST be `\"nativephp-plugin\"` |\n| `require.nativephp/mobile` | Required dependency |\n| `extra.laravel.providers` | Auto-register service provider |\n| `extra.laravel.aliases` | Auto-register facade |\n\n## nativephp.json - The Plugin Manifest\n\nThis is the **most important file** in a NativePHP plugin. It tells NativePHP what native functionality the plugin provides.\n\n**Important**: Package metadata (`name`, `version`, `description`, `service_provider`) comes from `composer.json`  don't duplicate it here. The manifest only contains native-specific configuration.\n\n### Complete Template\n\n```json\n{\n    \"namespace\": \"MyPlugin\",\n\n    \"bridge_functions\": [\n        {\n            \"name\": \"MyPlugin.Execute\",\n            \"android\": \"com.myvendor.plugins.myplugin.MyPluginFunctions.Execute\",\n            \"ios\": \"MyPluginFunctions.Execute\",\n            \"description\": \"Executes the main plugin action\"\n        },\n        {\n            \"name\": \"MyPlugin.GetStatus\",\n            \"android\": \"com.myvendor.plugins.myplugin.MyPluginFunctions.GetStatus\",\n            \"ios\": \"MyPluginFunctions.GetStatus\",\n            \"description\": \"Gets the current status\"\n        }\n    ],\n\n    \"android\": {\n        \"permissions\": [\n            \"android.permission.CAMERA\",\n            \"android.permission.VIBRATE\"\n        ],\n        \"dependencies\": {\n            \"implementation\": [\n                \"com.google.mlkit:barcode-scanning:17.2.0\",\n                \"androidx.camera:camera-core:1.3.0\"\n            ]\n        },\n        \"activities\": [\n            {\n                \"name\": \".ScannerActivity\",\n                \"theme\": \"@style/Theme.AppCompat.NoActionBar\",\n                \"screenOrientation\": \"portrait\",\n                \"exported\": false\n            }\n        ],\n        \"services\": [],\n        \"receivers\": [],\n        \"providers\": []\n    },\n\n    \"ios\": {\n        \"info_plist\": {\n            \"NSCameraUsageDescription\": \"This plugin needs camera access to scan barcodes\"\n        },\n        \"dependencies\": {\n            \"swift_packages\": [\n                {\n                    \"url\": \"https://github.com/example/package.git\",\n                    \"version\": \"1.0.0\"\n                }\n            ],\n            \"pods\": [\n                \"TensorFlowLiteSwift\"\n            ]\n        }\n    },\n\n    \"assets\": {\n        \"android\": {\n            \"model.tflite\": \"assets/model.tflite\"\n        },\n        \"ios\": {\n            \"model.mlmodel\": \"Resources/model.mlmodel\"\n        }\n    },\n\n    \"events\": [\n        \"Vendor\\\\MyPlugin\\\\Events\\\\SomethingHappened\",\n        \"Vendor\\\\MyPlugin\\\\Events\\\\OperationCompleted\"\n    ],\n\n    \"hooks\": {\n        \"copy_assets\": \"nativephp:my-plugin:copy-assets\"\n    }\n}\n```\n\n### Manifest Sections Explained\n\n#### bridge_functions\n\nMaps PHP method calls to native implementations:\n\n```json\n\"bridge_functions\": [\n    {\n        \"name\": \"MyPlugin.Execute\",\n        \"android\": \"com.myvendor.plugins.myplugin.MyPluginFunctions.Execute\",\n        \"ios\": \"MyPluginFunctions.Execute\",\n        \"description\": \"What this function does\"\n    }\n]\n```\n\n- `name`: The method name used in `nativephp_call('MyPlugin.Execute', [])`\n- `android`: Full Kotlin class path (package + class name)\n- `ios`: Swift class path (just the class names, enum.class format)\n- `description`: Documentation for the function\n\n**Naming convention**: `Namespace.Action` (e.g., `Camera.Capture`, `Haptics.Vibrate`)\n\n#### android section\n\nAll Android-specific configuration goes under the `android` key:\n\n```json\n\"android\": {\n    \"permissions\": [\n        \"android.permission.CAMERA\",\n        \"android.permission.RECORD_AUDIO\",\n        \"android.permission.VIBRATE\"\n    ],\n    \"features\": [\n        {\"name\": \"android.hardware.camera\", \"required\": true},\n        {\"name\": \"android.hardware.camera.autofocus\", \"required\": false}\n    ],\n    \"repositories\": [\n        {\n            \"url\": \"https://api.mapbox.com/downloads/v2/releases/maven\"\n        }\n    ],\n    \"dependencies\": {\n        \"implementation\": [\n            \"com.google.mlkit:barcode-scanning:17.2.0\",\n            \"androidx.camera:camera-camera2:1.3.0\"\n        ]\n    },\n    \"meta_data\": [\n        {\n            \"name\": \"com.google.android.geo.API_KEY\",\n            \"value\": \"${GOOGLE_MAPS_API_KEY}\"\n        }\n    ],\n    \"activities\": [...],\n    \"services\": [...],\n    \"receivers\": [...],\n    \"providers\": [...]\n}\n```\n\n**permissions**: Array of Android permission strings\n**features**: Hardware/software feature declarations (uses-feature)\n**repositories**: Custom Maven repositories (see below)\n**dependencies**: Gradle dependency strings (implementation, api, compileOnly, runtimeOnly)\n**meta_data**: Application-level meta-data entries for SDK configuration\n**activities/services/receivers/providers**: AndroidManifest.xml components\n\n#### repositories (Custom Maven Repositories)\n\nFor SDKs not available on Maven Central or Google Maven (like Mapbox), add custom repositories:\n\n```json\n\"android\": {\n    \"repositories\": [\n        {\n            \"url\": \"https://api.mapbox.com/downloads/v2/releases/maven\"\n        }\n    ]\n}\n```\n\nFor private repositories that require authentication:\n\n```json\n\"android\": {\n    \"repositories\": [\n        {\n            \"url\": \"https://private.maven.example.com/releases\",\n            \"credentials\": {\n                \"username\": \"user\",\n                \"password\": \"${PRIVATE_SDK_TOKEN}\"\n            }\n        }\n    ]\n}\n```\n\nThe `${VAR}` syntax references environment variables from the user's `.env` file.\n\n#### ios section\n\nAll iOS-specific configuration goes under the `ios` key:\n\n```json\n\"ios\": {\n    \"info_plist\": {\n        \"NSCameraUsageDescription\": \"Explain why camera is needed\",\n        \"NSMicrophoneUsageDescription\": \"Explain why microphone is needed\",\n        \"MBXAccessToken\": \"${MAPBOX_ACCESS_TOKEN}\"\n    },\n    \"dependencies\": {\n        \"swift_packages\": [\n            {\n                \"url\": \"https://github.com/example/package.git\",\n                \"version\": \"1.0.0\"\n            }\n        ],\n        \"pods\": [\n            {\"name\": \"TensorFlowLiteSwift\", \"version\": \"~> 2.0\"}\n        ]\n    },\n    \"background_modes\": [\"audio\", \"fetch\", \"processing\"],\n    \"entitlements\": {\n        \"com.apple.developer.maps\": true,\n        \"com.apple.security.application-groups\": [\"group.com.example.shared\"]\n    }\n}\n```\n\n**info_plist**: Object mapping Info.plist keys to values (permissions, API tokens, config)\n**dependencies**: Swift Package URLs with versions, or CocoaPods names\n**background_modes**: UIBackgroundModes values (audio, fetch, processing, location, remote-notification, bluetooth-central, bluetooth-peripheral)\n**entitlements**: App entitlements for capabilities (Maps, App Groups, HealthKit, iCloud, etc.)\n**init_function**: Swift function to call during plugin initialization (see below)\n\nUse `${ENV_VAR}` placeholders for sensitive values like API tokens.\n\n#### init_function (iOS/Android)\n\nPlugins can specify an initialization function that runs during app startup. This is essential for plugins that need to:\n- Initialize SDK singletons (Firebase, etc.)\n- Register for lifecycle events via `NativePHPPluginRegistry`\n- Subscribe to `NotificationCenter` events\n- Set up delegates before bridge functions are called\n\n**iOS:**\n```json\n\"ios\": {\n    \"init_function\": \"NativePHPMyPluginInit\"\n}\n```\n\nThe function must be a `@_cdecl` exported C function in your Swift code:\n\n```swift\n@_cdecl(\"NativePHPMyPluginInit\")\npublic func NativePHPMyPluginInit() {\n    // Initialize singletons\n    _ = MyPluginManager.shared\n    _ = MyPluginDelegate.shared\n    print(\"MyPlugin initialized\")\n}\n```\n\n**Android:**\n```json\n\"android\": {\n    \"init_function\": \"com.myvendor.plugins.myplugin.MyPluginInit\"\n}\n```\n\nThe function must be a top-level function or object method in Kotlin:\n\n```kotlin\nfun MyPluginInit() {\n    // Initialize singletons, subscribe to lifecycle events\n    MyPluginDelegate.initialize()\n}\n```\n\n**When to use init_function:**\n- Your plugin has SDK singletons that must be created early\n- You need to subscribe to `NativePHPLifecycle` events (Android) or `NotificationCenter` (iOS)\n- You need to register with `NativePHPPluginRegistry` for `onAppLaunch` callbacks\n- Your bridge functions depend on state that must be set up first\n\n#### background_modes (iOS)\n\nEnable background execution capabilities:\n\n```json\n\"ios\": {\n    \"background_modes\": [\"audio\", \"fetch\", \"processing\", \"location\"]\n}\n```\n\nCommon values:\n- `audio`  Audio playback or recording\n- `fetch`  Background fetch\n- `processing`  Background processing tasks\n- `location`  Location updates\n- `remote-notification`  Push notification processing\n- `bluetooth-central`  Bluetooth LE central mode\n- `bluetooth-peripheral`  Bluetooth LE peripheral mode\n\nThese are merged into `UIBackgroundModes` in Info.plist.\n\n#### entitlements (iOS)\n\nConfigure app entitlements for capabilities:\n\n```json\n\"ios\": {\n    \"entitlements\": {\n        \"com.apple.developer.maps\": true,\n        \"com.apple.security.application-groups\": [\"group.com.example.shared\"],\n        \"com.apple.developer.associated-domains\": [\"applinks:example.com\"],\n        \"com.apple.developer.healthkit\": true\n    }\n}\n```\n\nValues can be:\n- **Boolean**  `true`/`false` for simple capabilities\n- **Array**  For capabilities requiring multiple values (App Groups, Associated Domains)\n- **String**  For single-value entitlements\n\nEntitlements are written to `NativePHP.entitlements`. If the file doesn't exist, it's created automatically.\n\n#### secrets (Environment Variables)\n\nPlugins can declare required environment variables that users must provide in their `.env` file:\n\n```json\n\"secrets\": {\n    \"MAPBOX_ACCESS_TOKEN\": {\n        \"description\": \"Public access token for Mapbox SDK (starts with pk.)\",\n        \"required\": true\n    },\n    \"MY_API_KEY\": {\n        \"description\": \"API key for the service\",\n        \"required\": false\n    }\n}\n```\n\n**Build-time validation**: If a required secret is missing, the build fails with a helpful error message telling the user which secrets to add to their `.env` file.\n\n**Usage in manifest**: Reference secrets using `${VAR}` syntax in repositories, credentials, or assets:\n- `\"password\": \"${PRIVATE_SDK_TOKEN}\"` in repository credentials\n- `${MAPBOX_ACCESS_TOKEN}` in asset files (see below)\n\n#### assets section\n\nStatic assets to copy during build are defined at the top level:\n\n```json\n\"assets\": {\n    \"android\": {\n        \"android/res/values/mapbox_token.xml\": \"res/values/mapbox_token.xml\"\n    },\n    \"ios\": {\n        \"model.mlmodel\": \"Resources/model.mlmodel\"\n    }\n}\n```\n\n**Placeholder substitution**: Asset files can contain `${VAR}` placeholders that are automatically replaced with values from the user's `.env` file during the build.\n\nExample XML asset template (`resources/android/res/values/mapbox_token.xml`):\n```xml\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<resources xmlns:tools=\"http://schemas.android.com/tools\">\n    <string name=\"mapbox_access_token\" translatable=\"false\"\n            tools:ignore=\"UnusedResources\">${MAPBOX_ACCESS_TOKEN}</string>\n</resources>\n```\n\nSupported file types for substitution: xml, json, txt, plist, strings, html, js, css, kt, swift, java\n\nUse `assets` for small static files. Use the `copy_assets` hook for large files, ML models, or files that need processing.\n\n#### events\n\nEvents that native code dispatches to PHP:\n\n```json\n\"events\": [\n    \"Vendor\\\\MyPlugin\\\\Events\\\\ScanCompleted\",\n    \"Vendor\\\\MyPlugin\\\\Events\\\\OperationFailed\"\n]\n```\n\nThese are the fully-qualified PHP class names. Livewire components listen with:\n```php\n#[On('native:Vendor\\MyPlugin\\Events\\ScanCompleted')]\n```\n\n#### hooks\n\nLifecycle hooks for build-time operations:\n\n```json\n\"hooks\": {\n    \"copy_assets\": \"nativephp:my-plugin:copy-assets\",\n    \"pre_compile\": \"nativephp:my-plugin:pre-compile\",\n    \"post_compile\": \"nativephp:my-plugin:post-compile\",\n    \"post_build\": \"nativephp:my-plugin:post-build\"\n}\n```\n\nEach hook is an Artisan command signature.\n\n#### Android Manifest Components\n\nAndroid activities, services, receivers, and providers are defined under `android`:\n\n```json\n\"android\": {\n    \"activities\": [\n        {\n            \"name\": \".MyActivity\",\n            \"theme\": \"@style/Theme.AppCompat.NoActionBar\",\n            \"screenOrientation\": \"portrait\",\n            \"exported\": false,\n            \"launchMode\": \"singleTask\",\n            \"configChanges\": \"orientation|screenSize\",\n            \"intent-filters\": [...]\n        }\n    ],\n    \"services\": [\n        {\n            \"name\": \".MyService\",\n            \"exported\": false,\n            \"foregroundServiceType\": \"camera\"\n        }\n    ],\n    \"receivers\": [\n        {\n            \"name\": \".MyBroadcastReceiver\",\n            \"exported\": true,\n            \"intent-filters\": [\n                {\n                    \"action\": [\"android.intent.action.BOOT_COMPLETED\"]\n                }\n            ]\n        }\n    ],\n    \"providers\": []\n}\n```\n\n**Name resolution**: Names starting with `.` are resolved from your plugin's package declaration (e.g., `.MyActivity` becomes `com.myvendor.plugins.myplugin.MyActivity` if your Kotlin files declare `package com.myvendor.plugins.myplugin`)\n\n## Service Provider\n\nThe service provider registers your plugin with Laravel:\n\n```php\n<?php\n\nnamespace Vendor\\MyPlugin;\n\nuse Illuminate\\Support\\ServiceProvider;\n\nclass MyPluginServiceProvider extends ServiceProvider\n{\n    public function register(): void\n    {\n        $this->app->singleton(MyPlugin::class, function ($app) {\n            return new MyPlugin();\n        });\n    }\n\n    public function boot(): void\n    {\n        // Register Artisan commands\n        if ($this->app->runningInConsole()) {\n            $this->commands([\n                Commands\\CopyAssetsCommand::class,\n            ]);\n        }\n\n        // Publish config (optional)\n        $this->publishes([\n            __DIR__.'/../config/my-plugin.php' => config_path('my-plugin.php'),\n        ], 'my-plugin-config');\n    }\n}\n```\n\n## Facade\n\nProvides a clean API for users:\n\n```php\n<?php\n\nnamespace Vendor\\MyPlugin\\Facades;\n\nuse Illuminate\\Support\\Facades\\Facade;\n\n/**\n * @method static array execute(string $param)\n * @method static array getStatus()\n *\n * @see \\Vendor\\MyPlugin\\MyPlugin\n */\nclass MyPlugin extends Facade\n{\n    protected static function getFacadeAccessor(): string\n    {\n        return \\Vendor\\MyPlugin\\MyPlugin::class;\n    }\n}\n```\n\n## Main API Class\n\nThe implementation that calls native code:\n\n```php\n<?php\n\nnamespace Vendor\\MyPlugin;\n\nclass MyPlugin\n{\n    public function execute(string $param): void\n    {\n        if (function_exists('nativephp_call')) {\n            nativephp_call('MyPlugin.Execute', json_encode([\n                'param' => $param,\n            ]));\n        }\n    }\n\n    public function getStatus(): void\n    {\n        if (function_exists('nativephp_call')) {\n            nativephp_call('MyPlugin.GetStatus', '{}');\n        }\n    }\n}\n```\n\n## Event Classes\n\nSimple POJOs for native-to-PHP events:\n\n```php\n<?php\n\nnamespace Vendor\\MyPlugin\\Events;\n\nuse Illuminate\\Foundation\\Events\\Dispatchable;\nuse Illuminate\\Queue\\SerializesModels;\n\nclass ScanCompleted\n{\n    use Dispatchable, SerializesModels;\n\n    public function __construct(\n        public string $result,\n        public string $format,\n        public ?string $id = null\n    ) {}\n}\n```\n\n**Important**: Events do NOT use `ShouldBroadcast` or broadcasting channels. They're dispatched via JavaScript injection.\n\n## Lifecycle Hook Commands\n\nFor build-time operations like copying ML models:\n\n```php\n<?php\n\nnamespace Vendor\\MyPlugin\\Commands;\n\nuse Native\\Mobile\\Commands\\NativePluginHookCommand;\n\nclass CopyAssetsCommand extends NativePluginHookCommand\n{\n    protected $signature = 'nativephp:my-plugin:copy-assets';\n    protected $description = 'Copy plugin assets to native projects';\n\n    public function handle(): int\n    {\n        if ($this->isAndroid()) {\n            $this->copyToAndroidAssets(\n                'model.tflite',\n                'model.tflite'\n            );\n        }\n\n        if ($this->isIos()) {\n            $this->copyToIosBundle(\n                'model.mlmodel',\n                'model.mlmodel'\n            );\n        }\n\n        return self::SUCCESS;\n    }\n}\n```\n\n### Available Hook Methods\n\n| Method | Purpose |\n|--------|---------|\n| `$this->isAndroid()` | Check if building for Android |\n| `$this->isIos()` | Check if building for iOS |\n| `$this->copyToAndroidAssets($src, $dest)` | Copy to Android assets |\n| `$this->copyToIosBundle($src, $dest)` | Copy to iOS bundle |\n\n## Native Code Location\n\n### Android (Kotlin)\n\nPlace Kotlin files directly in `resources/android/`:\n\n```\nresources/android/\n MyPluginFunctions.kt\n```\n\nOr with subdirectories for additional files:\n```\nresources/android/\n MyPluginFunctions.kt\n activities/\n     ScannerActivity.kt\n```\n\n**Package naming**: Use `com.{vendor}.plugins.{pluginname}` format:\n```kotlin\npackage com.myvendor.plugins.myplugin\n```\n\n**Note**: The nested `resources/android/src/` structure is also supported for backward compatibility.\n\n### iOS (Swift)\n\nPlace Swift files directly in `resources/ios/`:\n\n```\nresources/ios/\n MyPluginFunctions.swift\n```\n\nOr with subdirectories for additional files:\n```\nresources/ios/\n MyPluginFunctions.swift\n ViewControllers/\n     ScannerViewController.swift\n```\n\n**Note**: The nested `resources/ios/Sources/` structure is also supported for backward compatibility.\n\n## Registering with the App\n\nAfter creating your plugin, users must install and explicitly register it.\n\n### Step 1: Install the Plugin\n\n```bash\ncomposer require vendor/my-plugin\n```\n\nFor local development, add a path repository to `composer.json`:\n\n```json\n{\n    \"repositories\": [\n        {\n            \"type\": \"path\",\n            \"url\": \"./packages/my-plugin\"\n        }\n    ]\n}\n```\n\n### Step 2: Publish the Plugins Provider (First Time Only)\n\n```bash\nphp artisan vendor:publish --tag=nativephp-plugins-provider\n```\n\nThis creates `app/Providers/NativePluginsServiceProvider.php`.\n\n### Step 3: Register the Plugin\n\n```bash\nphp artisan native:plugin:register vendor/my-plugin\n```\n\nThis automatically adds the plugin's service provider to your `plugins()` array:\n\n```php\npublic function plugins(): array\n{\n    return [\n        \\Vendor\\MyPlugin\\MyPluginServiceProvider::class,\n    ];\n}\n```\n\n### Step 4: Verify Registration\n\n```bash\n# Show registered plugins\nphp artisan native:plugin:list\n\n# Show all installed plugins (including unregistered)\nphp artisan native:plugin:list --all\n```\n\n### Why Explicit Registration?\n\nThis is a security measure. It prevents transitive dependencies from automatically registering plugins without user consent. Only plugins explicitly listed in the provider are compiled into native builds.\n\n### Removing a Plugin\n\nTo unregister a plugin from the app (but keep it installed):\n```bash\nphp artisan native:plugin:register vendor/my-plugin --remove\n```\n\nTo completely uninstall a plugin (unregister + remove code + composer remove):\n```bash\nphp artisan native:plugin:uninstall vendor/my-plugin\n```\n\n### What Happens After Registration\n\nOnce registered, NativePHP automatically:\n1. Discovers the `nativephp-plugin` type\n2. Reads `nativephp.json`\n3. Registers bridge functions\n4. Adds permissions to native projects\n5. Includes dependencies in builds\n6. Runs lifecycle hooks\n\n## Best Practices\n\n1. **Use descriptive namespaces**: `MyPlugin.Scan` not `M.S`\n2. **Document all bridge functions**: Users need to know what each does\n3. **Request minimal permissions**: Only what's actually needed\n4. **Handle errors gracefully**: Return meaningful error messages\n5. **Test on real devices**: Emulators don't always match real behavior\n6. **Version your manifest**: Update version when making changes"
              }
            ]
          }
        ]
      }
    }
  ]
}