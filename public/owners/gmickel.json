{
  "owner": {
    "id": "gmickel",
    "display_name": "Gordon Mickel",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/139907?u=91c15b326ccaa99d3ffcd930ff828a76b7b04c71&v=4",
    "url": "https://github.com/gmickel",
    "bio": "Operating Principal (AI/Tech) @ GrowthFactors / BU Bregal Unternehmerkapital. Ex Head of AI @ CISTEC. Ex-founder @ DocIQ. Builderâ€“Operatorâ€“Advisor. Dad x2 ðŸš€",
    "stats": {
      "total_repos": 1,
      "total_plugins": 2,
      "total_commands": 0,
      "total_skills": 29,
      "total_stars": 304,
      "total_forks": 16
    }
  },
  "repos": [
    {
      "full_name": "gmickel/gmickel-claude-marketplace",
      "url": "https://github.com/gmickel/gmickel-claude-marketplace",
      "description": "Claude Code plugin marketplace: plan-first workflows, Ralph autonomous mode, Carmack-level reviews",
      "homepage": "https://mickel.tech/apps/flow-next",
      "signals": {
        "stars": 304,
        "forks": 16,
        "pushed_at": "2026-01-12T23:08:02Z",
        "created_at": "2025-12-26T22:27:07Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 1495
        },
        {
          "path": ".flow",
          "type": "tree",
          "size": null
        },
        {
          "path": ".flow/config.json",
          "type": "blob",
          "size": 43
        },
        {
          "path": ".flow/epics",
          "type": "tree",
          "size": null
        },
        {
          "path": ".flow/epics/fn-1.json",
          "type": "blob",
          "size": 362
        },
        {
          "path": ".flow/epics/fn-2.json",
          "type": "blob",
          "size": 338
        },
        {
          "path": ".flow/epics/fn-3.json",
          "type": "blob",
          "size": 361
        },
        {
          "path": ".flow/epics/fn-4.json",
          "type": "blob",
          "size": 363
        },
        {
          "path": ".flow/epics/fn-5.json",
          "type": "blob",
          "size": 338
        },
        {
          "path": ".flow/epics/fn-6.json",
          "type": "blob",
          "size": 340
        },
        {
          "path": ".flow/epics/fn-7.json",
          "type": "blob",
          "size": 337
        },
        {
          "path": ".flow/epics/fn-8.json",
          "type": "blob",
          "size": 359
        },
        {
          "path": ".flow/meta.json",
          "type": "blob",
          "size": 44
        },
        {
          "path": ".flow/specs",
          "type": "tree",
          "size": null
        },
        {
          "path": ".flow/specs/fn-1.md",
          "type": "blob",
          "size": 12778
        },
        {
          "path": ".flow/specs/fn-2.md",
          "type": "blob",
          "size": 3644
        },
        {
          "path": ".flow/specs/fn-3.md",
          "type": "blob",
          "size": 2726
        },
        {
          "path": ".flow/specs/fn-4.md",
          "type": "blob",
          "size": 1166
        },
        {
          "path": ".flow/specs/fn-5.md",
          "type": "blob",
          "size": 1128
        },
        {
          "path": ".flow/specs/fn-6.md",
          "type": "blob",
          "size": 974
        },
        {
          "path": ".flow/specs/fn-7.md",
          "type": "blob",
          "size": 1622
        },
        {
          "path": ".flow/specs/fn-8.md",
          "type": "blob",
          "size": 2359
        },
        {
          "path": ".flow/tasks",
          "type": "tree",
          "size": null
        },
        {
          "path": ".flow/tasks/fn-1.1.json",
          "type": "blob",
          "size": 382
        },
        {
          "path": ".flow/tasks/fn-1.1.md",
          "type": "blob",
          "size": 1812
        },
        {
          "path": ".flow/tasks/fn-1.2.json",
          "type": "blob",
          "size": 398
        },
        {
          "path": ".flow/tasks/fn-1.2.md",
          "type": "blob",
          "size": 1714
        },
        {
          "path": ".flow/tasks/fn-1.3.json",
          "type": "blob",
          "size": 395
        },
        {
          "path": ".flow/tasks/fn-1.3.md",
          "type": "blob",
          "size": 1706
        },
        {
          "path": ".flow/tasks/fn-1.4.json",
          "type": "blob",
          "size": 393
        },
        {
          "path": ".flow/tasks/fn-1.4.md",
          "type": "blob",
          "size": 1514
        },
        {
          "path": ".flow/tasks/fn-1.5.json",
          "type": "blob",
          "size": 408
        },
        {
          "path": ".flow/tasks/fn-1.5.md",
          "type": "blob",
          "size": 1453
        },
        {
          "path": ".flow/tasks/fn-1.6.json",
          "type": "blob",
          "size": 385
        },
        {
          "path": ".flow/tasks/fn-1.6.md",
          "type": "blob",
          "size": 1212
        },
        {
          "path": ".flow/tasks/fn-2.1.json",
          "type": "blob",
          "size": 549
        },
        {
          "path": ".flow/tasks/fn-2.1.md",
          "type": "blob",
          "size": 2029
        },
        {
          "path": ".flow/tasks/fn-2.2.json",
          "type": "blob",
          "size": 583
        },
        {
          "path": ".flow/tasks/fn-2.2.md",
          "type": "blob",
          "size": 3823
        },
        {
          "path": ".flow/tasks/fn-2.3.json",
          "type": "blob",
          "size": 566
        },
        {
          "path": ".flow/tasks/fn-2.3.md",
          "type": "blob",
          "size": 1629
        },
        {
          "path": ".flow/tasks/fn-2.4.json",
          "type": "blob",
          "size": 566
        },
        {
          "path": ".flow/tasks/fn-2.4.md",
          "type": "blob",
          "size": 1188
        },
        {
          "path": ".flow/tasks/fn-2.5.json",
          "type": "blob",
          "size": 530
        },
        {
          "path": ".flow/tasks/fn-2.5.md",
          "type": "blob",
          "size": 1695
        },
        {
          "path": ".flow/tasks/fn-2.6.json",
          "type": "blob",
          "size": 531
        },
        {
          "path": ".flow/tasks/fn-2.6.md",
          "type": "blob",
          "size": 1603
        },
        {
          "path": ".flow/tasks/fn-2.7.json",
          "type": "blob",
          "size": 520
        },
        {
          "path": ".flow/tasks/fn-2.7.md",
          "type": "blob",
          "size": 1309
        },
        {
          "path": ".flow/tasks/fn-2.8.json",
          "type": "blob",
          "size": 520
        },
        {
          "path": ".flow/tasks/fn-2.8.md",
          "type": "blob",
          "size": 1545
        },
        {
          "path": ".gitattributes",
          "type": "blob",
          "size": 38
        },
        {
          "path": ".github",
          "type": "tree",
          "size": null
        },
        {
          "path": ".github/FUNDING.yml",
          "type": "blob",
          "size": 65
        },
        {
          "path": ".github/pull_request_template.md",
          "type": "blob",
          "size": 489
        },
        {
          "path": ".gitignore",
          "type": "blob",
          "size": 86
        },
        {
          "path": "AGENTS.md",
          "type": "blob",
          "size": 9
        },
        {
          "path": "CHANGELOG.md",
          "type": "blob",
          "size": 31073
        },
        {
          "path": "CLAUDE.md",
          "type": "blob",
          "size": 6169
        },
        {
          "path": "LICENSE",
          "type": "blob",
          "size": 1070
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 15163
        },
        {
          "path": "assets",
          "type": "tree",
          "size": null
        },
        {
          "path": "assets/flow-next-plan.png",
          "type": "blob",
          "size": 1070361
        },
        {
          "path": "assets/flow-next-work.png",
          "type": "blob",
          "size": 962446
        },
        {
          "path": "assets/ralph.png",
          "type": "blob",
          "size": 1297583
        },
        {
          "path": "plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 588
        },
        {
          "path": "plugins/flow-next/README.md",
          "type": "blob",
          "size": 27991
        },
        {
          "path": "plugins/flow-next/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/agents/context-scout.md",
          "type": "blob",
          "size": 11103
        },
        {
          "path": "plugins/flow-next/agents/docs-scout.md",
          "type": "blob",
          "size": 2045
        },
        {
          "path": "plugins/flow-next/agents/flow-gap-analyst.md",
          "type": "blob",
          "size": 2745
        },
        {
          "path": "plugins/flow-next/agents/memory-scout.md",
          "type": "blob",
          "size": 1546
        },
        {
          "path": "plugins/flow-next/agents/practice-scout.md",
          "type": "blob",
          "size": 2007
        },
        {
          "path": "plugins/flow-next/agents/quality-auditor.md",
          "type": "blob",
          "size": 2704
        },
        {
          "path": "plugins/flow-next/agents/repo-scout.md",
          "type": "blob",
          "size": 2290
        },
        {
          "path": "plugins/flow-next/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/commands/flow-next",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/commands/flow-next/impl-review.md",
          "type": "blob",
          "size": 451
        },
        {
          "path": "plugins/flow-next/commands/flow-next/interview.md",
          "type": "blob",
          "size": 433
        },
        {
          "path": "plugins/flow-next/commands/flow-next/plan-review.md",
          "type": "blob",
          "size": 443
        },
        {
          "path": "plugins/flow-next/commands/flow-next/plan.md",
          "type": "blob",
          "size": 440
        },
        {
          "path": "plugins/flow-next/commands/flow-next/ralph-init.md",
          "type": "blob",
          "size": 337
        },
        {
          "path": "plugins/flow-next/commands/flow-next/setup.md",
          "type": "blob",
          "size": 344
        },
        {
          "path": "plugins/flow-next/commands/flow-next/uninstall.md",
          "type": "blob",
          "size": 915
        },
        {
          "path": "plugins/flow-next/commands/flow-next/work.md",
          "type": "blob",
          "size": 440
        },
        {
          "path": "plugins/flow-next/docs",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/docs/ci-workflow-example.yml",
          "type": "blob",
          "size": 971
        },
        {
          "path": "plugins/flow-next/docs/flowctl.md",
          "type": "blob",
          "size": 13509
        },
        {
          "path": "plugins/flow-next/docs/ralph.md",
          "type": "blob",
          "size": 15806
        },
        {
          "path": "plugins/flow-next/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/hooks/hooks.json",
          "type": "blob",
          "size": 1061
        },
        {
          "path": "plugins/flow-next/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/scripts/flowctl",
          "type": "blob",
          "size": 177
        },
        {
          "path": "plugins/flow-next/scripts/flowctl.py",
          "type": "blob",
          "size": 133266
        },
        {
          "path": "plugins/flow-next/scripts/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/scripts/hooks/ralph-guard.py",
          "type": "blob",
          "size": 22789
        },
        {
          "path": "plugins/flow-next/scripts/hooks/ralph-guard.sh",
          "type": "blob",
          "size": 3961
        },
        {
          "path": "plugins/flow-next/scripts/hooks/ralph-receipt-guard.sh",
          "type": "blob",
          "size": 813
        },
        {
          "path": "plugins/flow-next/scripts/hooks/ralph-verbose-log.sh",
          "type": "blob",
          "size": 940
        },
        {
          "path": "plugins/flow-next/scripts/plan_review_prompt_smoke.sh",
          "type": "blob",
          "size": 3953
        },
        {
          "path": "plugins/flow-next/scripts/ralph_e2e_rp_test.sh",
          "type": "blob",
          "size": 13231
        },
        {
          "path": "plugins/flow-next/scripts/ralph_e2e_short_rp_test.sh",
          "type": "blob",
          "size": 7041
        },
        {
          "path": "plugins/flow-next/scripts/ralph_e2e_test.sh",
          "type": "blob",
          "size": 4959
        },
        {
          "path": "plugins/flow-next/scripts/ralph_smoke_rp.sh",
          "type": "blob",
          "size": 10755
        },
        {
          "path": "plugins/flow-next/scripts/ralph_smoke_test.sh",
          "type": "blob",
          "size": 13573
        },
        {
          "path": "plugins/flow-next/scripts/smoke_test.sh",
          "type": "blob",
          "size": 19755
        },
        {
          "path": "plugins/flow-next/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/skills/flow-next-export-context",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/skills/flow-next-export-context/SKILL.md",
          "type": "blob",
          "size": 2939
        },
        {
          "path": "plugins/flow-next/skills/flow-next-impl-review",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/skills/flow-next-impl-review/SKILL.md",
          "type": "blob",
          "size": 5533
        },
        {
          "path": "plugins/flow-next/skills/flow-next-impl-review/flowctl-reference.md",
          "type": "blob",
          "size": 1927
        },
        {
          "path": "plugins/flow-next/skills/flow-next-impl-review/workflow.md",
          "type": "blob",
          "size": 7514
        },
        {
          "path": "plugins/flow-next/skills/flow-next-interview",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/skills/flow-next-interview/SKILL.md",
          "type": "blob",
          "size": 4527
        },
        {
          "path": "plugins/flow-next/skills/flow-next-interview/questions.md",
          "type": "blob",
          "size": 1806
        },
        {
          "path": "plugins/flow-next/skills/flow-next-plan-review",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/skills/flow-next-plan-review/SKILL.md",
          "type": "blob",
          "size": 5327
        },
        {
          "path": "plugins/flow-next/skills/flow-next-plan-review/flowctl-reference.md",
          "type": "blob",
          "size": 1927
        },
        {
          "path": "plugins/flow-next/skills/flow-next-plan-review/workflow.md",
          "type": "blob",
          "size": 7271
        },
        {
          "path": "plugins/flow-next/skills/flow-next-plan",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/skills/flow-next-plan/SKILL.md",
          "type": "blob",
          "size": 5622
        },
        {
          "path": "plugins/flow-next/skills/flow-next-plan/examples.md",
          "type": "blob",
          "size": 447
        },
        {
          "path": "plugins/flow-next/skills/flow-next-plan/steps.md",
          "type": "blob",
          "size": 5627
        },
        {
          "path": "plugins/flow-next/skills/flow-next-ralph-init",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/skills/flow-next-ralph-init/SKILL.md",
          "type": "blob",
          "size": 1914
        },
        {
          "path": "plugins/flow-next/skills/flow-next-ralph-init/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/skills/flow-next-ralph-init/templates/.gitignore",
          "type": "blob",
          "size": 12
        },
        {
          "path": "plugins/flow-next/skills/flow-next-ralph-init/templates/config.env",
          "type": "blob",
          "size": 1277
        },
        {
          "path": "plugins/flow-next/skills/flow-next-ralph-init/templates/prompt_plan.md",
          "type": "blob",
          "size": 2389
        },
        {
          "path": "plugins/flow-next/skills/flow-next-ralph-init/templates/prompt_work.md",
          "type": "blob",
          "size": 1885
        },
        {
          "path": "plugins/flow-next/skills/flow-next-ralph-init/templates/ralph.sh",
          "type": "blob",
          "size": 29713
        },
        {
          "path": "plugins/flow-next/skills/flow-next-ralph-init/templates/ralph_once.sh",
          "type": "blob",
          "size": 256
        },
        {
          "path": "plugins/flow-next/skills/flow-next-ralph-init/templates/runs",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/skills/flow-next-ralph-init/templates/runs/.gitkeep",
          "type": "blob",
          "size": 1
        },
        {
          "path": "plugins/flow-next/skills/flow-next-ralph-init/templates/watch-filter.py",
          "type": "blob",
          "size": 6897
        },
        {
          "path": "plugins/flow-next/skills/flow-next-rp-explorer",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/skills/flow-next-rp-explorer/SKILL.md",
          "type": "blob",
          "size": 1683
        },
        {
          "path": "plugins/flow-next/skills/flow-next-rp-explorer/cli-reference.md",
          "type": "blob",
          "size": 4020
        },
        {
          "path": "plugins/flow-next/skills/flow-next-setup",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/skills/flow-next-setup/SKILL.md",
          "type": "blob",
          "size": 821
        },
        {
          "path": "plugins/flow-next/skills/flow-next-setup/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/skills/flow-next-setup/templates/claude-md-snippet.md",
          "type": "blob",
          "size": 841
        },
        {
          "path": "plugins/flow-next/skills/flow-next-setup/templates/usage.md",
          "type": "blob",
          "size": 2155
        },
        {
          "path": "plugins/flow-next/skills/flow-next-setup/workflow.md",
          "type": "blob",
          "size": 4640
        },
        {
          "path": "plugins/flow-next/skills/flow-next-work",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/skills/flow-next-work/SKILL.md",
          "type": "blob",
          "size": 6120
        },
        {
          "path": "plugins/flow-next/skills/flow-next-work/phases.md",
          "type": "blob",
          "size": 7177
        },
        {
          "path": "plugins/flow-next/skills/flow-next-worktree-kit",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/skills/flow-next-worktree-kit/SKILL.md",
          "type": "blob",
          "size": 1086
        },
        {
          "path": "plugins/flow-next/skills/flow-next-worktree-kit/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/skills/flow-next-worktree-kit/scripts/worktree.sh",
          "type": "blob",
          "size": 5591
        },
        {
          "path": "plugins/flow-next/skills/flow-next",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow-next/skills/flow-next/SKILL.md",
          "type": "blob",
          "size": 3734
        },
        {
          "path": "plugins/flow",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 532
        },
        {
          "path": "plugins/flow/README.md",
          "type": "blob",
          "size": 28306
        },
        {
          "path": "plugins/flow/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow/agents/context-scout.md",
          "type": "blob",
          "size": 11103
        },
        {
          "path": "plugins/flow/agents/docs-scout.md",
          "type": "blob",
          "size": 2045
        },
        {
          "path": "plugins/flow/agents/flow-gap-analyst.md",
          "type": "blob",
          "size": 2745
        },
        {
          "path": "plugins/flow/agents/practice-scout.md",
          "type": "blob",
          "size": 2007
        },
        {
          "path": "plugins/flow/agents/quality-auditor.md",
          "type": "blob",
          "size": 2704
        },
        {
          "path": "plugins/flow/agents/repo-scout.md",
          "type": "blob",
          "size": 2290
        },
        {
          "path": "plugins/flow/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow/commands/flow",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow/commands/flow/impl-review.md",
          "type": "blob",
          "size": 383
        },
        {
          "path": "plugins/flow/commands/flow/interview.md",
          "type": "blob",
          "size": 282
        },
        {
          "path": "plugins/flow/commands/flow/plan-review.md",
          "type": "blob",
          "size": 336
        },
        {
          "path": "plugins/flow/commands/flow/plan.md",
          "type": "blob",
          "size": 264
        },
        {
          "path": "plugins/flow/commands/flow/work.md",
          "type": "blob",
          "size": 282
        },
        {
          "path": "plugins/flow/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow/skills/flow-impl-review",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow/skills/flow-impl-review/SKILL.md",
          "type": "blob",
          "size": 2377
        },
        {
          "path": "plugins/flow/skills/flow-impl-review/rp-cli-reference.md",
          "type": "blob",
          "size": 2565
        },
        {
          "path": "plugins/flow/skills/flow-impl-review/workflow.md",
          "type": "blob",
          "size": 14517
        },
        {
          "path": "plugins/flow/skills/flow-interview",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow/skills/flow-interview/SKILL.md",
          "type": "blob",
          "size": 3653
        },
        {
          "path": "plugins/flow/skills/flow-interview/questions.md",
          "type": "blob",
          "size": 1806
        },
        {
          "path": "plugins/flow/skills/flow-plan-review",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow/skills/flow-plan-review/SKILL.md",
          "type": "blob",
          "size": 2171
        },
        {
          "path": "plugins/flow/skills/flow-plan-review/rp-cli-reference.md",
          "type": "blob",
          "size": 2565
        },
        {
          "path": "plugins/flow/skills/flow-plan-review/workflow.md",
          "type": "blob",
          "size": 13557
        },
        {
          "path": "plugins/flow/skills/flow-plan",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow/skills/flow-plan/SKILL.md",
          "type": "blob",
          "size": 2279
        },
        {
          "path": "plugins/flow/skills/flow-plan/examples.md",
          "type": "blob",
          "size": 447
        },
        {
          "path": "plugins/flow/skills/flow-plan/steps.md",
          "type": "blob",
          "size": 4478
        },
        {
          "path": "plugins/flow/skills/flow-work",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow/skills/flow-work/SKILL.md",
          "type": "blob",
          "size": 2129
        },
        {
          "path": "plugins/flow/skills/flow-work/phases.md",
          "type": "blob",
          "size": 4002
        },
        {
          "path": "plugins/flow/skills/rp-explorer",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow/skills/rp-explorer/SKILL.md",
          "type": "blob",
          "size": 1673
        },
        {
          "path": "plugins/flow/skills/rp-explorer/cli-reference.md",
          "type": "blob",
          "size": 4020
        },
        {
          "path": "plugins/flow/skills/worktree-kit",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow/skills/worktree-kit/SKILL.md",
          "type": "blob",
          "size": 1066
        },
        {
          "path": "plugins/flow/skills/worktree-kit/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/flow/skills/worktree-kit/scripts/worktree.sh",
          "type": "blob",
          "size": 5591
        },
        {
          "path": "scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "scripts/bump.sh",
          "type": "blob",
          "size": 2740
        },
        {
          "path": "scripts/install-codex.sh",
          "type": "blob",
          "size": 2557
        }
      ],
      "marketplace": {
        "name": "gmickel-claude-marketplace",
        "version": null,
        "description": null,
        "owner_info": {
          "name": "Gordon Mickel",
          "url": "https://github.com/gmickel"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "flow",
            "description": "Two-step planning + execution workflow with optional Beads integration. Includes 6 subagents, 5 commands, 7 skills.",
            "source": "./plugins/flow",
            "category": null,
            "version": "0.8.4",
            "author": {
              "name": "Gordon Mickel",
              "email": "gordon@mickel.tech",
              "url": "https://mickel.tech"
            },
            "install_commands": [
              "/plugin marketplace add gmickel/gmickel-claude-marketplace",
              "/plugin install flow@gmickel-claude-marketplace"
            ],
            "signals": {
              "stars": 304,
              "forks": 16,
              "pushed_at": "2026-01-12T23:08:02Z",
              "created_at": "2025-12-26T22:27:07Z",
              "license": "MIT"
            },
            "commands": [],
            "skills": [
              {
                "name": "flow-next-export-context",
                "description": "Export RepoPrompt context for external LLM review (ChatGPT, Claude web, etc.). Use when you want to review code or plans with an external model. Triggers on /flow-next:export-context.",
                "path": "plugins/flow-next/skills/flow-next-export-context/SKILL.md",
                "frontmatter": {
                  "name": "flow-next-export-context",
                  "description": "Export RepoPrompt context for external LLM review (ChatGPT, Claude web, etc.). Use when you want to review code or plans with an external model. Triggers on /flow-next:export-context."
                },
                "content": "# Export Context Mode\n\nBuild RepoPrompt context and export to a markdown file for use with external LLMs (ChatGPT Pro, Claude web, etc.).\n\n**Use case**: When you want Carmack-level review but prefer to use an external model.\n\n**CRITICAL: flowctl is BUNDLED â€” NOT installed globally.** `which flowctl` will fail (expected). Always use:\n```bash\nFLOWCTL=\"${CLAUDE_PLUGIN_ROOT}/scripts/flowctl\"\n$FLOWCTL <command>\n```\n\n## Input\n\nArguments: $ARGUMENTS\nFormat: `<type> <target> [focus areas]`\n\nTypes:\n- `plan <epic-id>` - Export plan review context\n- `impl` - Export implementation review context (current branch)\n\nExamples:\n- `/flow-next:export-context plan fn-1 focus on security`\n- `/flow-next:export-context impl focus on the auth changes`\n\n## Setup\n\n```bash\nFLOWCTL=\"${CLAUDE_PLUGIN_ROOT}/scripts/flowctl\"\nREPO_ROOT=\"$(git rev-parse --show-toplevel 2>/dev/null || pwd)\"\n```\n\n## Workflow\n\n### Step 1: Determine Type\n\nParse arguments to determine if this is a plan or impl export.\n\n### Step 2: Gather Content\n\n**For plan export:**\n```bash\n$FLOWCTL show <epic-id> --json\n$FLOWCTL cat <epic-id>\n```\n\n**For impl export:**\n```bash\ngit branch --show-current\ngit log main..HEAD --oneline 2>/dev/null || git log master..HEAD --oneline\ngit diff main..HEAD --name-only 2>/dev/null || git diff master..HEAD --name-only\n```\n\n### Step 3: Setup RepoPrompt\n\n```bash\neval \"$($FLOWCTL rp setup-review --repo-root \"$REPO_ROOT\" --summary \"<summary based on type>\")\"\n```\n\n### Step 4: Augment Selection\n\n```bash\n$FLOWCTL rp select-get --window \"$W\" --tab \"$T\"\n\n# Add relevant files\n$FLOWCTL rp select-add --window \"$W\" --tab \"$T\" <files>\n```\n\n### Step 5: Build Review Prompt\n\nGet builder's handoff:\n```bash\n$FLOWCTL rp prompt-get --window \"$W\" --tab \"$T\"\n```\n\nBuild combined prompt with review criteria (same as plan-review or impl-review).\n\nSet the prompt:\n```bash\ncat > /tmp/export-prompt.md << 'EOF'\n[COMBINED PROMPT WITH REVIEW CRITERIA]\nEOF\n\n$FLOWCTL rp prompt-set --window \"$W\" --tab \"$T\" --message-file /tmp/export-prompt.md\n```\n\n### Step 6: Export\n\n```bash\nOUTPUT_FILE=~/Desktop/review-export-$(date +%Y%m%d-%H%M%S).md\n$FLOWCTL rp prompt-export --window \"$W\" --tab \"$T\" --out \"$OUTPUT_FILE\"\nopen \"$OUTPUT_FILE\"\n```\n\n### Step 7: Inform User\n\n```\nExported review context to: $OUTPUT_FILE\n\nThe file contains:\n- Full file tree with selected files marked\n- Code maps (signatures/structure)\n- Complete file contents\n- Review prompt with Carmack-level criteria\n\nPaste into ChatGPT Pro, Claude web, or your preferred LLM.\nAfter receiving feedback, return here to implement fixes.\n```\n\n## Note\n\nThis skill is for **manual** external review only. It does not work with Ralph autonomous mode (no receipts, no status updates)."
              },
              {
                "name": "flow-next-impl-review",
                "description": "John Carmack-level implementation review via RepoPrompt or Codex. Use when reviewing code changes, PRs, or implementations. Triggers on /flow-next:impl-review.",
                "path": "plugins/flow-next/skills/flow-next-impl-review/SKILL.md",
                "frontmatter": {
                  "name": "flow-next-impl-review",
                  "description": "John Carmack-level implementation review via RepoPrompt or Codex. Use when reviewing code changes, PRs, or implementations. Triggers on /flow-next:impl-review."
                },
                "content": "# Implementation Review Mode\n\n**Read [workflow.md](workflow.md) for detailed phases and anti-patterns.**\n\nConduct a John Carmack-level review of implementation changes on the current branch.\n\n**Role**: Code Review Coordinator (NOT the reviewer)\n**Backends**: RepoPrompt (rp) or Codex CLI (codex)\n\n**CRITICAL: flowctl is BUNDLED â€” NOT installed globally.** `which flowctl` will fail (expected). Always use:\n```bash\nFLOWCTL=\"${CLAUDE_PLUGIN_ROOT}/scripts/flowctl\"\n```\n\n## Backend Selection\n\n**Priority** (first match wins):\n1. `--review=rp|codex|export|none` argument\n2. `FLOW_REVIEW_BACKEND` env var (`rp`, `codex`, `none`)\n3. `.flow/config.json` â†’ `review.backend`\n4. Interactive prompt if both rp-cli and codex available (and not in Ralph mode)\n5. Default: whichever is available (rp preferred)\n\n### Parse from arguments first\n\nCheck $ARGUMENTS for:\n- `--review=rp` or `--review rp` â†’ use rp\n- `--review=codex` or `--review codex` â†’ use codex\n- `--review=export` or `--review export` â†’ use export\n- `--review=none` or `--review none` â†’ skip review\n\nIf found, use that backend and skip all other detection.\n\n### Otherwise detect\n\n```bash\n# Check available backends\nHAVE_RP=$(which rp-cli >/dev/null 2>&1 && echo 1 || echo 0)\nHAVE_CODEX=$(which codex >/dev/null 2>&1 && echo 1 || echo 0)\n\n# Get configured backend\nBACKEND=\"${FLOW_REVIEW_BACKEND:-}\"\nif [[ -z \"$BACKEND\" ]]; then\n  BACKEND=\"$($FLOWCTL config get review.backend 2>/dev/null | jq -r '.value // empty')\"\nfi\n```\n\n### If no backend configured and both available\n\nIf `BACKEND` is empty AND both `HAVE_RP=1` and `HAVE_CODEX=1`, AND not in Ralph mode (`FLOW_RALPH` not set):\n\nOutput this question as text (do NOT use AskUserQuestion tool):\n```\nWhich review backend?\na) Codex CLI (cross-platform, GPT 5.2 High)\nb) RepoPrompt (macOS, visual builder)\n\n(Reply: \"a\", \"codex\", \"b\", \"rp\", or just tell me)\n```\n\nWait for response. Parse naturally.\n\n**Default if empty/ambiguous**: `codex`\n\n### If only one available or in Ralph mode\n\n```bash\n# Fallback to available\nif [[ -z \"$BACKEND\" ]]; then\n  if [[ \"$HAVE_RP\" == \"1\" ]]; then BACKEND=\"rp\"\n  elif [[ \"$HAVE_CODEX\" == \"1\" ]]; then BACKEND=\"codex\"\n  else BACKEND=\"none\"; fi\nfi\n```\n\n## Critical Rules\n\n**For rp backend:**\n1. **DO NOT REVIEW CODE YOURSELF** - you coordinate, RepoPrompt reviews\n2. **MUST WAIT for actual RP response** - never simulate/skip the review\n3. **MUST use `setup-review`** - handles window selection + builder atomically\n4. **DO NOT add --json flag to chat-send** - it suppresses the review response\n5. **Re-reviews MUST stay in SAME chat** - omit `--new-chat` after first review\n\n**For codex backend:**\n1. Use `$FLOWCTL codex impl-review` exclusively\n2. Pass `--receipt` for session continuity on re-reviews\n3. Parse verdict from command output\n\n**For all backends:**\n- If `REVIEW_RECEIPT_PATH` set: write receipt after review (any verdict)\n- Any failure â†’ output `<promise>RETRY</promise>` and stop\n\n**FORBIDDEN**:\n- Self-declaring SHIP without actual backend verdict\n- Mixing backends mid-review (stick to one)\n- Skipping review when backend is \"none\" without user consent\n\n## Input\n\nArguments: $ARGUMENTS\nFormat: `[focus areas or task ID]`\n\nReviews all changes on **current branch** vs main/master.\n\n## Workflow\n\n**See [workflow.md](workflow.md) for full details on each backend.**\n\n```bash\nFLOWCTL=\"${CLAUDE_PLUGIN_ROOT}/scripts/flowctl\"\nREPO_ROOT=\"$(git rev-parse --show-toplevel 2>/dev/null || pwd)\"\n```\n\n### Step 0: Detect Backend\n\nRun backend detection from SKILL.md above. Then branch:\n\n### Codex Backend\n\n```bash\nTASK_ID=\"${1:-}\"\nBASE_BRANCH=\"main\"\nRECEIPT_PATH=\"${REVIEW_RECEIPT_PATH:-/tmp/impl-review-receipt.json}\"\n\n$FLOWCTL codex impl-review \"$TASK_ID\" --base \"$BASE_BRANCH\" --receipt \"$RECEIPT_PATH\"\n# Output includes VERDICT=SHIP|NEEDS_WORK|MAJOR_RETHINK\n```\n\nOn NEEDS_WORK: fix code, commit, re-run (receipt enables session continuity).\n\n### RepoPrompt Backend\n\n```bash\n# Step 1: Identify changes\ngit branch --show-current\ngit log main..HEAD --oneline 2>/dev/null || git log master..HEAD --oneline\ngit diff main..HEAD --name-only 2>/dev/null || git diff master..HEAD --name-only\n\n# Step 2: Atomic setup\neval \"$($FLOWCTL rp setup-review --repo-root \"$REPO_ROOT\" --summary \"Review implementation: <summary>\")\"\n# Outputs W=<window> T=<tab>. If fails â†’ <promise>RETRY</promise>\n\n# Step 3: Augment selection\n$FLOWCTL rp select-add --window \"$W\" --tab \"$T\" path/to/changed/files...\n\n# Step 4: Build and send review prompt (see workflow.md)\n$FLOWCTL rp chat-send --window \"$W\" --tab \"$T\" --message-file /tmp/review-prompt.md --new-chat --chat-name \"Impl Review: [BRANCH]\"\n\n# Step 5: Write receipt if REVIEW_RECEIPT_PATH set\n```\n\n## Fix Loop (INTERNAL - do not exit to Ralph)\n\nIf verdict is NEEDS_WORK, loop internally until SHIP:\n\n1. **Parse issues** from reviewer feedback (Critical â†’ Major â†’ Minor)\n2. **Fix code** and run tests/lints\n3. **Commit fixes** (mandatory before re-review)\n4. **Re-review**:\n   - **Codex**: Re-run `flowctl codex impl-review` (receipt enables context)\n   - **RP**: `$FLOWCTL rp chat-send --window \"$W\" --tab \"$T\" --message-file /tmp/re-review.md` (NO `--new-chat`)\n5. **Repeat** until `<verdict>SHIP</verdict>`\n\n**CRITICAL**: For RP, re-reviews must stay in the SAME chat so reviewer has context. Only use `--new-chat` on the FIRST review."
              },
              {
                "name": "flow-next-interview",
                "description": "Interview user in-depth about an epic, task, or spec file to extract complete implementation details. Use when user wants to flesh out a spec, refine requirements, or clarify a feature before building. Triggers on /flow-next:interview with Flow IDs (fn-1, fn-1.2) or file paths.",
                "path": "plugins/flow-next/skills/flow-next-interview/SKILL.md",
                "frontmatter": {
                  "name": "flow-next-interview",
                  "description": "Interview user in-depth about an epic, task, or spec file to extract complete implementation details. Use when user wants to flesh out a spec, refine requirements, or clarify a feature before building. Triggers on /flow-next:interview with Flow IDs (fn-1, fn-1.2) or file paths."
                },
                "content": "# Flow interview\n\nConduct an extremely thorough interview about a task/spec and write refined details back.\n\n**IMPORTANT**: This plugin uses `.flow/` for ALL task tracking. Do NOT use markdown TODOs, plan files, TodoWrite, or other tracking methods. All task state must be read and written via `flowctl`.\n\n**CRITICAL: flowctl is BUNDLED â€” NOT installed globally.** `which flowctl` will fail (expected). Always use:\n```bash\nFLOWCTL=\"${CLAUDE_PLUGIN_ROOT}/scripts/flowctl\"\n$FLOWCTL <command>\n```\n\n**Role**: technical interviewer, spec refiner\n**Goal**: extract complete implementation details through deep questioning (40+ questions typical)\n\n## Input\n\nFull request: $ARGUMENTS\n\nAccepts:\n- **Flow epic ID** `fn-N`: Fetch with `flowctl show`, write back with `flowctl epic set-plan`\n- **Flow task ID** `fn-N.M`: Fetch with `flowctl show`, write back with `flowctl task set-description/set-acceptance`\n- **File path** (e.g., `docs/spec.md`): Read file, interview, rewrite file\n- **Empty**: Prompt for target\n\nExamples:\n- `/flow-next:interview fn-1`\n- `/flow-next:interview fn-1.3`\n- `/flow-next:interview docs/oauth-spec.md`\n\nIf empty, ask: \"What should I interview you about? Give me a Flow ID (e.g., fn-1) or file path (e.g., docs/spec.md)\"\n\n## Setup\n\n```bash\nFLOWCTL=\"${CLAUDE_PLUGIN_ROOT}/scripts/flowctl\"\n```\n\n## Detect Input Type\n\n1. **Flow epic ID pattern**: matches `fn-\\d+` (e.g., fn-1, fn-12)\n   - Fetch: `$FLOWCTL show <id> --json`\n   - Read spec: `$FLOWCTL cat <id>`\n\n2. **Flow task ID pattern**: matches `fn-\\d+\\.\\d+` (e.g., fn-1.3, fn-12.5)\n   - Fetch: `$FLOWCTL show <id> --json`\n   - Read spec: `$FLOWCTL cat <id>`\n   - Also get epic context: `$FLOWCTL cat <epic-id>`\n\n3. **File path**: anything else with a path-like structure or .md extension\n   - Read file contents\n   - If file doesn't exist, ask user to provide valid path\n\n## Interview Process\n\n**CRITICAL REQUIREMENT**: You MUST use the `AskUserQuestion` tool for every question.\n\n- DO NOT output questions as text\n- DO NOT list questions in your response\n- ONLY ask questions via AskUserQuestion tool calls\n- Group 2-4 related questions per tool call\n- Expect 40+ questions total for complex specs\n\n**Anti-pattern (WRONG)**:\n```\nQuestion 1: What database should we use?\nOptions: a) PostgreSQL b) SQLite c) MongoDB\n```\n\n**Correct pattern**: Call AskUserQuestion tool with question and options.\n\n## Question Categories\n\nRead [questions.md](questions.md) for all question categories and interview guidelines.\n\n## Write Refined Spec\n\nAfter interview complete, write everything back.\n\n### For Flow Epic ID\n\n1. Create a temp file with the refined epic spec including:\n   - Clear problem statement\n   - Technical approach with specifics\n   - Key decisions made during interview\n   - Edge cases to handle\n   - Quick commands section (required)\n   - Acceptance criteria\n\n2. Update epic spec:\n   ```bash\n   $FLOWCTL epic set-plan <id> --file <temp-md> --json\n   ```\n\n3. Create/update tasks if interview revealed breakdown:\n   ```bash\n   $FLOWCTL task create --epic <id> --title \"...\" --json\n   $FLOWCTL task set-description <task-id> --file <temp-md> --json\n   $FLOWCTL task set-acceptance <task-id> --file <temp-md> --json\n   ```\n\n### For Flow Task ID\n\n1. Write description to temp file with:\n   - Clear task description\n   - Technical details from interview\n   - Edge cases\n\n2. Write acceptance to temp file with:\n   - Checkboxes for acceptance criteria\n   - Specific, testable conditions\n\n3. Update task:\n   ```bash\n   $FLOWCTL task set-description <id> --file <desc-temp.md> --json\n   $FLOWCTL task set-acceptance <id> --file <acc-temp.md> --json\n   ```\n\n### For File Path\n\nRewrite the file with refined spec:\n- Preserve any existing structure/format\n- Add sections for areas covered in interview\n- Include technical details, edge cases, acceptance criteria\n- Keep it actionable and specific\n\n## Completion\n\nShow summary:\n- Number of questions asked\n- Key decisions captured\n- What was written (Flow ID updated / file rewritten)\n- Suggest next step: `/flow-next:plan` or `/flow-next:work`\n\n## Notes\n\n- This process should feel thorough - user should feel they've thought through everything\n- Quality over speed - don't rush to finish"
              },
              {
                "name": "flow-next-plan-review",
                "description": "Carmack-level plan review via RepoPrompt or Codex. Use when reviewing Flow epic specs or design docs. Triggers on /flow-next:plan-review.",
                "path": "plugins/flow-next/skills/flow-next-plan-review/SKILL.md",
                "frontmatter": {
                  "name": "flow-next-plan-review",
                  "description": "Carmack-level plan review via RepoPrompt or Codex. Use when reviewing Flow epic specs or design docs. Triggers on /flow-next:plan-review."
                },
                "content": "# Plan Review Mode\n\n**Read [workflow.md](workflow.md) for detailed phases and anti-patterns.**\n\nConduct a John Carmack-level review of epic plans.\n\n**Role**: Code Review Coordinator (NOT the reviewer)\n**Backends**: RepoPrompt (rp) or Codex CLI (codex)\n\n**CRITICAL: flowctl is BUNDLED â€” NOT installed globally.** `which flowctl` will fail (expected). Always use:\n```bash\nFLOWCTL=\"${CLAUDE_PLUGIN_ROOT}/scripts/flowctl\"\n```\n\n## Backend Selection\n\n**Priority** (first match wins):\n1. `--review=rp|codex|export|none` argument\n2. `FLOW_REVIEW_BACKEND` env var (`rp`, `codex`, `none`)\n3. `.flow/config.json` â†’ `review.backend`\n4. Interactive prompt if both rp-cli and codex available (and not in Ralph mode)\n5. Default: whichever is available (rp preferred)\n\n### Parse from arguments first\n\nCheck $ARGUMENTS for:\n- `--review=rp` or `--review rp` â†’ use rp\n- `--review=codex` or `--review codex` â†’ use codex\n- `--review=export` or `--review export` â†’ use export\n- `--review=none` or `--review none` â†’ skip review\n\nIf found, use that backend and skip all other detection.\n\n### Otherwise detect\n\n```bash\n# Check available backends\nHAVE_RP=$(which rp-cli >/dev/null 2>&1 && echo 1 || echo 0)\nHAVE_CODEX=$(which codex >/dev/null 2>&1 && echo 1 || echo 0)\n\n# Get configured backend\nBACKEND=\"${FLOW_REVIEW_BACKEND:-}\"\nif [[ -z \"$BACKEND\" ]]; then\n  BACKEND=\"$($FLOWCTL config get review.backend 2>/dev/null | jq -r '.value // empty')\"\nfi\n```\n\n### If no backend configured and both available\n\nIf `BACKEND` is empty AND both `HAVE_RP=1` and `HAVE_CODEX=1`, AND not in Ralph mode (`FLOW_RALPH` not set):\n\nOutput this question as text (do NOT use AskUserQuestion tool):\n```\nWhich review backend?\na) Codex CLI (cross-platform, GPT 5.2 High)\nb) RepoPrompt (macOS, visual builder)\n\n(Reply: \"a\", \"codex\", \"b\", \"rp\", or just tell me)\n```\n\nWait for response. Parse naturally.\n\n**Default if empty/ambiguous**: `codex`\n\n### If only one available or in Ralph mode\n\n```bash\n# Fallback to available\nif [[ -z \"$BACKEND\" ]]; then\n  if [[ \"$HAVE_RP\" == \"1\" ]]; then BACKEND=\"rp\"\n  elif [[ \"$HAVE_CODEX\" == \"1\" ]]; then BACKEND=\"codex\"\n  else BACKEND=\"none\"; fi\nfi\n```\n\n## Critical Rules\n\n**For rp backend:**\n1. **DO NOT REVIEW THE PLAN YOURSELF** - you coordinate, RepoPrompt reviews\n2. **MUST WAIT for actual RP response** - never simulate/skip the review\n3. **MUST use `setup-review`** - handles window selection + builder atomically\n4. **DO NOT add --json flag to chat-send** - it suppresses the review response\n5. **Re-reviews MUST stay in SAME chat** - omit `--new-chat` after first review\n\n**For codex backend:**\n1. Use `$FLOWCTL codex plan-review` exclusively\n2. Pass `--receipt` for session continuity on re-reviews\n3. Parse verdict from command output\n\n**For all backends:**\n- If `REVIEW_RECEIPT_PATH` set: write receipt after review (any verdict)\n- Any failure â†’ output `<promise>RETRY</promise>` and stop\n\n**FORBIDDEN**:\n- Self-declaring SHIP without actual backend verdict\n- Mixing backends mid-review (stick to one)\n- Skipping review when backend is \"none\" without user consent\n\n## Input\n\nArguments: $ARGUMENTS\nFormat: `<flow-epic-id> [focus areas]`\n\n## Workflow\n\n**See [workflow.md](workflow.md) for full details on each backend.**\n\n```bash\nFLOWCTL=\"${CLAUDE_PLUGIN_ROOT}/scripts/flowctl\"\nREPO_ROOT=\"$(git rev-parse --show-toplevel 2>/dev/null || pwd)\"\n```\n\n### Step 0: Detect Backend\n\nRun backend detection from SKILL.md above. Then branch:\n\n### Codex Backend\n\n```bash\nEPIC_ID=\"${1:-}\"\nRECEIPT_PATH=\"${REVIEW_RECEIPT_PATH:-/tmp/plan-review-receipt.json}\"\n\n$FLOWCTL codex plan-review \"$EPIC_ID\" --receipt \"$RECEIPT_PATH\"\n# Output includes VERDICT=SHIP|NEEDS_WORK|MAJOR_RETHINK\n```\n\nOn NEEDS_WORK: fix plan via `$FLOWCTL epic set-plan`, then re-run (receipt enables session continuity).\n\n### RepoPrompt Backend\n\n```bash\n# Step 1: Get plan content\n$FLOWCTL show <id> --json\n$FLOWCTL cat <id>\n\n# Step 2: Atomic setup\neval \"$($FLOWCTL rp setup-review --repo-root \"$REPO_ROOT\" --summary \"Review plan for <EPIC_ID>: <summary>\")\"\n# Outputs W=<window> T=<tab>. If fails â†’ <promise>RETRY</promise>\n\n# Step 3: Augment selection\n$FLOWCTL rp select-add --window \"$W\" --tab \"$T\" .flow/specs/<epic-id>.md\n\n# Step 4: Build and send review prompt (see workflow.md)\n$FLOWCTL rp chat-send --window \"$W\" --tab \"$T\" --message-file /tmp/review-prompt.md --new-chat --chat-name \"Plan Review: <EPIC_ID>\"\n\n# Step 5: Write receipt if REVIEW_RECEIPT_PATH set\n# Step 6: Update status\n$FLOWCTL epic set-plan-review-status <EPIC_ID> --status ship --json\n```\n\n## Fix Loop (INTERNAL - do not exit to Ralph)\n\nIf verdict is NEEDS_WORK, loop internally until SHIP:\n\n1. **Parse issues** from reviewer feedback\n2. **Fix plan** via `$FLOWCTL epic set-plan <EPIC_ID> --file /tmp/updated-plan.md`\n3. **Re-review**:\n   - **Codex**: Re-run `flowctl codex plan-review` (receipt enables context)\n   - **RP**: `$FLOWCTL rp chat-send --window \"$W\" --tab \"$T\" --message-file /tmp/re-review.md` (NO `--new-chat`)\n4. **Repeat** until `<verdict>SHIP</verdict>`\n\n**CRITICAL**: For RP, re-reviews must stay in the SAME chat so reviewer has context. Only use `--new-chat` on the FIRST review."
              },
              {
                "name": "flow-next-plan",
                "description": "Create structured build plans from feature requests or Flow IDs. Use when planning features or designing implementation. Triggers on /flow-next:plan with text descriptions or Flow IDs (fn-1, fn-1.2).",
                "path": "plugins/flow-next/skills/flow-next-plan/SKILL.md",
                "frontmatter": {
                  "name": "flow-next-plan",
                  "description": "Create structured build plans from feature requests or Flow IDs. Use when planning features or designing implementation. Triggers on /flow-next:plan with text descriptions or Flow IDs (fn-1, fn-1.2)."
                },
                "content": "# Flow plan\n\nTurn a rough idea into an epic with tasks in `.flow/`. This skill does not write code.\n\nFollow this skill and linked workflows exactly. Deviations cause drift, bad gates, retries, and user frustration.\n\n**IMPORTANT**: This plugin uses `.flow/` for ALL task tracking. Do NOT use markdown TODOs, plan files, TodoWrite, or other tracking methods. All task state must be read and written via `flowctl`.\n\n**CRITICAL: flowctl is BUNDLED â€” NOT installed globally.** `which flowctl` will fail (expected). Always use:\n```bash\nFLOWCTL=\"${CLAUDE_PLUGIN_ROOT}/scripts/flowctl\"\n$FLOWCTL <command>\n```\n\n**Role**: product-minded planner with strong repo awareness.\n**Goal**: produce an epic with tasks that match existing conventions and reuse points.\n**Task size**: every task must fit one `/flow-next:work` iteration. If it won't, split it.\n\n## Input\n\nFull request: $ARGUMENTS\n\nAccepts:\n- Feature/bug description in natural language\n- Flow epic ID `fn-N` to refine existing epic\n- Flow task ID `fn-N.M` to refine specific task\n- Chained instructions like \"then review with /flow-next:plan-review\"\n\nExamples:\n- `/flow-next:plan Add OAuth login for users`\n- `/flow-next:plan fn-1`\n- `/flow-next:plan fn-1 then review via /flow-next:plan-review`\n\nIf empty, ask: \"What should I plan? Give me the feature or bug in 1-5 sentences.\"\n\n## FIRST: Parse Options or Ask Questions\n\nCheck available backends and configured preference:\n```bash\nHAVE_RP=$(which rp-cli >/dev/null 2>&1 && echo 1 || echo 0)\nHAVE_CODEX=$(which codex >/dev/null 2>&1 && echo 1 || echo 0)\n\n# Check configured backend (priority: env > config)\nCONFIGURED_BACKEND=\"${FLOW_REVIEW_BACKEND:-}\"\nif [[ -z \"$CONFIGURED_BACKEND\" ]]; then\n  CONFIGURED_BACKEND=\"$($FLOWCTL config get review.backend 2>/dev/null | jq -r '.value // empty')\"\nfi\n```\n\n### Option Parsing (skip questions if found in arguments)\n\nParse the arguments for these patterns. If found, use them and skip questions:\n\n**Research approach** (only if rp-cli available):\n- `--research=rp` or `--research rp` or \"use rp\" or \"context-scout\" or \"use repoprompt\" â†’ context-scout\n- `--research=grep` or `--research grep` or \"use grep\" or \"repo-scout\" or \"fast\" â†’ repo-scout\n\n**Review mode**:\n- `--review=codex` or \"review with codex\" or \"codex review\" or \"use codex\" â†’ Codex CLI (GPT 5.2 High)\n- `--review=rp` or \"review with rp\" or \"rp chat\" or \"repoprompt review\" â†’ RepoPrompt chat (via `flowctl rp chat-send`)\n- `--review=export` or \"export review\" or \"external llm\" â†’ export for external LLM\n- `--review=none` or `--no-review` or \"no review\" or \"skip review\" â†’ no review\n\n### If options NOT found in arguments\n\n**Skip review question if**: Ralph mode (`FLOW_RALPH=1`) OR backend already configured (`CONFIGURED_BACKEND` not empty). In these cases, only ask research question (if rp-cli available):\n\n```\nQuick setup: Use RepoPrompt for deeper context?\na) Yes, context-scout (slower, thorough)\nb) No, repo-scout (faster)\n\n(Reply: \"a\", \"b\", or just tell me)\n```\n\nIf rp-cli not available, skip questions entirely and use defaults.\n\n**Otherwise**, output questions based on available backends (do NOT use AskUserQuestion tool):\n\n**If both rp-cli AND codex available:**\n```\nQuick setup before planning:\n\n1. **Research approach** â€” Use RepoPrompt for deeper context?\n   a) Yes, context-scout (slower, thorough)\n   b) No, repo-scout (faster)\n\n2. **Review** â€” Run Carmack-level review after?\n   a) Yes, Codex CLI (cross-platform, GPT 5.2 High)\n   b) Yes, RepoPrompt chat (macOS, visual builder)\n   c) Yes, export for external LLM (ChatGPT, Claude web)\n   d) No\n\n(Reply: \"1a 2a\", \"1b 2d\", or just tell me naturally)\n```\n\n**If only rp-cli available:**\n```\nQuick setup before planning:\n\n1. **Research approach** â€” Use RepoPrompt for deeper context?\n   a) Yes, context-scout (slower, thorough)\n   b) No, repo-scout (faster)\n\n2. **Review** â€” Run Carmack-level review after?\n   a) Yes, RepoPrompt chat\n   b) Yes, export for external LLM\n   c) No\n\n(Reply: \"1a 2a\", \"1b 2c\", or just tell me naturally)\n```\n\n**If only codex available:**\n```\nQuick setup before planning:\n\n**Review** â€” Run Carmack-level review after?\na) Yes, Codex CLI (GPT 5.2 High)\nb) Yes, export for external LLM\nc) No\n\n(Reply: \"a\", \"b\", or just tell me naturally)\n```\n\nWait for response. Parse naturally â€” user may reply terse (\"1a 2b\") or ramble via voice.\n\n**Defaults when empty/ambiguous:**\n- Research = `grep` (repo-scout)\n- Review = configured backend if set, else `codex` if available, else `rp` if available, else `none`\n\nIf neither rp-cli nor codex available: skip review questions, use repo-scout, no review.\n\n**Defaults when no review backend available:**\n- Research = `grep`\n- Review = `none`\n\n## Workflow\n\nRead [steps.md](steps.md) and follow each step in order. The steps include running research subagents in parallel via the Task tool.\nIf user chose review:\n- Option 2a: run `/flow-next:plan-review` after Step 4, fix issues until it passes\n- Option 2b: run `/flow-next:plan-review` with export mode after Step 4\n\n## Output\n\nAll plans go into `.flow/`:\n- Epic: `.flow/epics/fn-N.json` + `.flow/specs/fn-N.md`\n- Tasks: `.flow/tasks/fn-N.M.json` + `.flow/tasks/fn-N.M.md`\n\n**Never write plan files outside `.flow/`. Never use TodoWrite for task tracking.**\n\n## Output rules\n\n- Only create/update epics and tasks via flowctl\n- No code changes\n- No plan files outside `.flow/`"
              },
              {
                "name": "flow-next-ralph-init",
                "description": "Scaffold repo-local Ralph autonomous harness under scripts/ralph/. Use when user runs /flow-next:ralph-init.",
                "path": "plugins/flow-next/skills/flow-next-ralph-init/SKILL.md",
                "frontmatter": {
                  "name": "flow-next-ralph-init",
                  "description": "Scaffold repo-local Ralph autonomous harness under scripts/ralph/. Use when user runs /flow-next:ralph-init."
                },
                "content": "# Ralph init\n\nScaffold repo-local Ralph harness. Opt-in only.\n\n## Rules\n\n- Only create `scripts/ralph/` in the current repo.\n- If `scripts/ralph/` already exists, stop and ask the user to remove it first.\n- Copy templates from `templates/` into `scripts/ralph/`.\n- Copy `flowctl` and `flowctl.py` from `${CLAUDE_PLUGIN_ROOT}/scripts/` into `scripts/ralph/`.\n- Set executable bit on `scripts/ralph/ralph.sh`, `scripts/ralph/ralph_once.sh`, and `scripts/ralph/flowctl`.\n\n## Workflow\n\n1. Resolve repo root: `git rev-parse --show-toplevel`\n2. Check `scripts/ralph/` does not exist.\n3. Detect available review backends:\n   ```bash\n   HAVE_RP=$(which rp-cli >/dev/null 2>&1 && echo 1 || echo 0)\n   HAVE_CODEX=$(which codex >/dev/null 2>&1 && echo 1 || echo 0)\n   ```\n4. Determine review backend:\n   - If BOTH available, ask user (do NOT use AskUserQuestion tool):\n     ```\n     Both RepoPrompt and Codex available. Which review backend?\n     a) RepoPrompt (macOS, visual builder)\n     b) Codex CLI (cross-platform, GPT 5.2 High)\n\n     (Reply: \"a\", \"rp\", \"b\", \"codex\", or just tell me)\n     ```\n     Wait for response. Default if empty/ambiguous: `rp`\n   - If only rp-cli available: use `rp`\n   - If only codex available: use `codex`\n   - If neither available: use `none`\n5. Write `scripts/ralph/config.env` with:\n   - `PLAN_REVIEW=<chosen>` and `WORK_REVIEW=<chosen>`\n   - replace `{{PLAN_REVIEW}}` and `{{WORK_REVIEW}}` placeholders in the template\n6. Copy templates and flowctl files.\n7. Print next steps (run from terminal, NOT inside Claude Code):\n   - Edit `scripts/ralph/config.env` to customize settings\n   - `./scripts/ralph/ralph_once.sh` (one iteration, observe)\n   - `./scripts/ralph/ralph.sh` (full loop, AFK)\n   - Uninstall: `rm -rf scripts/ralph/`"
              },
              {
                "name": "flow-next-rp-explorer",
                "description": "Token-efficient codebase exploration using RepoPrompt CLI. Use when user says \"use rp to...\" or \"use repoprompt to...\" followed by explore, find, understand, search, or similar actions.",
                "path": "plugins/flow-next/skills/flow-next-rp-explorer/SKILL.md",
                "frontmatter": {
                  "name": "flow-next-rp-explorer",
                  "description": "Token-efficient codebase exploration using RepoPrompt CLI. Use when user says \"use rp to...\" or \"use repoprompt to...\" followed by explore, find, understand, search, or similar actions."
                },
                "content": "# RP-Explorer\n\nToken-efficient codebase exploration using RepoPrompt CLI.\n\n## Trigger Phrases\n\nActivates when user combines \"use rp\" or \"use repoprompt\" with an action:\n- \"use rp to explore how auth works\"\n- \"use repoprompt to find similar patterns\"\n- \"use rp to understand the data flow\"\n- \"use repoprompt to search for API endpoints\"\n\n## CLI Reference\n\nRead [cli-reference.md](cli-reference.md) for complete command documentation.\n\n## Quick Start\n\n### Step 1: Get Overview\n```bash\nrp-cli -e 'tree'\nrp-cli -e 'structure .'\n```\n\n### Step 2: Find Relevant Files\n```bash\nrp-cli -e 'search \"auth\" --context-lines 2'\nrp-cli -e 'builder \"understand authentication\"'\n```\n\n### Step 3: Deep Dive\n```bash\nrp-cli -e 'select set src/auth/'\nrp-cli -e 'structure --scope selected'\nrp-cli -e 'read src/auth/login.ts'\n```\n\n### Step 4: Export Context\n```bash\nrp-cli -e 'context --all > codebase-map.md'\n```\n\n## Token Efficiency\n\n- Use `structure` instead of reading full files (10x fewer tokens)\n- Use `builder` for AI-powered file discovery\n- Select only relevant files before exporting context\n\n## Tab Isolation\n\n`builder` creates an isolated compose tab automatically. Use `-t` to target it:\n```bash\n# Builder returns: Tab: <UUID> â€¢ <Name>\nrp-cli -w W -t \"<Name>\" -e 'select add extra.ts && context'\n\n# Or chain commands:\nrp-cli -w W -e 'builder \"find auth\" && select add extra.ts && context'\n```\n\n## Requirements\n\nRepoPrompt v1.5.62+ with rp-cli installed."
              },
              {
                "name": "flow-next-setup",
                "description": "Optional local install of flowctl CLI and CLAUDE.md/AGENTS.md instructions. Use when user runs /flow-next:setup.",
                "path": "plugins/flow-next/skills/flow-next-setup/SKILL.md",
                "frontmatter": {
                  "name": "flow-next-setup",
                  "description": "Optional local install of flowctl CLI and CLAUDE.md/AGENTS.md instructions. Use when user runs /flow-next:setup."
                },
                "content": "# Flow-Next Setup (Optional)\n\nInstall flowctl locally and add instructions to project docs. **Fully optional** - flow-next works without this via the plugin.\n\n## Benefits\n\n- `flowctl` accessible from command line (add `.flow/bin` to PATH)\n- Other AI agents (Codex, Cursor, etc.) can read instructions from CLAUDE.md/AGENTS.md\n- Works without Claude Code plugin installed\n\n## Workflow\n\nRead [workflow.md](workflow.md) and follow each step in order.\n\n## Notes\n\n- **Fully optional** - standard plugin usage works without local setup\n- Copies scripts (not symlinks) for portability across environments\n- Safe to re-run - will detect existing setup and offer to update"
              },
              {
                "name": "flow-next-work",
                "description": "Execute a Flow epic or task systematically with git setup, task tracking, quality checks, and commit workflow. Use when implementing a plan or working through a spec. Triggers on /flow-next:work with Flow IDs (fn-1, fn-1.2).",
                "path": "plugins/flow-next/skills/flow-next-work/SKILL.md",
                "frontmatter": {
                  "name": "flow-next-work",
                  "description": "Execute a Flow epic or task systematically with git setup, task tracking, quality checks, and commit workflow. Use when implementing a plan or working through a spec. Triggers on /flow-next:work with Flow IDs (fn-1, fn-1.2)."
                },
                "content": "# Flow work\n\nExecute a plan systematically. Focus on finishing.\n\nFollow this skill and linked workflows exactly. Deviations cause drift, bad gates, retries, and user frustration.\n\n**IMPORTANT**: This plugin uses `.flow/` for ALL task tracking. Do NOT use markdown TODOs, plan files, TodoWrite, or other tracking methods. All task state must be read and written via `flowctl`.\n\n**CRITICAL: flowctl is BUNDLED â€” NOT installed globally.** `which flowctl` will fail (expected). Always use:\n```bash\nFLOWCTL=\"${CLAUDE_PLUGIN_ROOT}/scripts/flowctl\"\n$FLOWCTL <command>\n```\n\n**Hard requirements (non-negotiable):**\n- You MUST run `flowctl done` for each completed task and verify the task status is `done`.\n- You MUST stage with `git add -A` (never list files). This ensures `.flow/` and `scripts/ralph/` (if present) are included.\n- Do NOT claim completion until `flowctl show <task>` reports `status: done`.\n- Do NOT invoke `/flow-next:impl-review` until tests/Quick commands are green.\n\n**Role**: execution lead, plan fidelity first.\n**Goal**: complete every task in order with tests.\n\n## Ralph Mode Rules (always follow)\n\nIf `REVIEW_RECEIPT_PATH` is set or `FLOW_RALPH=1`:\n- **Must** use `flowctl done` and verify task status is `done` before committing.\n- **Must** stage with `git add -A` (never list files).\n- **Do NOT** use TodoWrite for tracking.\n\n## Input\n\nFull request: $ARGUMENTS\n\nAccepts:\n- Flow epic ID `fn-N` to work through all tasks\n- Flow task ID `fn-N.M` to work on single task\n- Idea text (creates minimal epic + single task, then executes)\n- Chained instructions like \"then review with /flow-next:impl-review\"\n\nExamples:\n- `/flow-next:work fn-1`\n- `/flow-next:work fn-1.3`\n- `/flow-next:work Add rate limiting`\n- `/flow-next:work fn-1 then review via /flow-next:impl-review`\n\nIf no input provided, ask for it.\n\n## FIRST: Parse Options or Ask Questions\n\nCheck available backends and configured preference:\n```bash\nHAVE_RP=$(which rp-cli >/dev/null 2>&1 && echo 1 || echo 0)\nHAVE_CODEX=$(which codex >/dev/null 2>&1 && echo 1 || echo 0)\n\n# Check configured backend (priority: env > config)\nCONFIGURED_BACKEND=\"${FLOW_REVIEW_BACKEND:-}\"\nif [[ -z \"$CONFIGURED_BACKEND\" ]]; then\n  CONFIGURED_BACKEND=\"$($FLOWCTL config get review.backend 2>/dev/null | jq -r '.value // empty')\"\nfi\n```\n\n### Option Parsing (skip questions if found in arguments)\n\nParse the arguments for these patterns. If found, use them and skip corresponding questions:\n\n**Branch mode**:\n- `--branch=current` or `--current` or \"current branch\" or \"stay on this branch\" â†’ current branch\n- `--branch=new` or `--new-branch` or \"new branch\" or \"create branch\" â†’ new branch\n- `--branch=worktree` or `--worktree` or \"isolated worktree\" or \"worktree\" â†’ isolated worktree\n\n**Review mode**:\n- `--review=codex` or \"review with codex\" or \"codex review\" or \"use codex\" â†’ Codex CLI (GPT 5.2 High)\n- `--review=rp` or \"review with rp\" or \"rp chat\" or \"repoprompt review\" â†’ RepoPrompt chat (via `flowctl rp chat-send`)\n- `--review=export` or \"export review\" or \"external llm\" â†’ export for external LLM\n- `--review=none` or `--no-review` or \"no review\" or \"skip review\" â†’ no review\n\n### If options NOT found in arguments\n\n**Skip review question if**: Ralph mode (`FLOW_RALPH=1`) OR backend already configured (`CONFIGURED_BACKEND` not empty). In these cases, only ask branch question:\n\n```\nQuick setup: Where to work?\na) Current branch  b) New branch  c) Isolated worktree\n\n(Reply: \"a\", \"current\", or just tell me)\n```\n\n**Otherwise**, output questions based on available backends (do NOT use AskUserQuestion tool):\n\n**If both rp-cli AND codex available:**\n```\nQuick setup before starting:\n\n1. **Branch** â€” Where to work?\n   a) Current branch\n   b) New branch\n   c) Isolated worktree\n\n2. **Review** â€” Run Carmack-level review after?\n   a) Yes, Codex CLI (cross-platform, GPT 5.2 High)\n   b) Yes, RepoPrompt chat (macOS, visual builder)\n   c) Yes, export for external LLM (ChatGPT, Claude web)\n   d) No\n\n(Reply: \"1a 2a\", \"current branch, codex review\", or just tell me naturally)\n```\n\n**If only rp-cli available:**\n```\nQuick setup before starting:\n\n1. **Branch** â€” Where to work?\n   a) Current branch\n   b) New branch\n   c) Isolated worktree\n\n2. **Review** â€” Run Carmack-level review after?\n   a) Yes, RepoPrompt chat\n   b) Yes, export for external LLM\n   c) No\n\n(Reply: \"1a 2a\", \"current branch, export review\", or just tell me naturally)\n```\n\n**If only codex available:**\n```\nQuick setup before starting:\n\n1. **Branch** â€” Where to work?\n   a) Current branch\n   b) New branch\n   c) Isolated worktree\n\n2. **Review** â€” Run Carmack-level review after?\n   a) Yes, Codex CLI (GPT 5.2 High)\n   b) Yes, export for external LLM\n   c) No\n\n(Reply: \"1a 2a\", \"current branch, codex\", or just tell me naturally)\n```\n\n**If neither rp-cli nor codex available:**\n```\nQuick setup: Where to work?\na) Current branch  b) New branch  c) Isolated worktree\n\n(Reply: \"a\", \"current\", or just tell me)\n```\n\nWait for response. Parse naturally â€” user may reply terse or ramble via voice.\n\n**Defaults when empty/ambiguous:**\n- Branch = `new`\n- Review = configured backend if set, else `codex` if available, else `rp` if available, else `none`\n\n**Defaults when no review backend available:**\n- Branch = `new`\n- Review = `none`\n\n**Do NOT read files or write code until user responds.**\n\n## Workflow\n\nAfter setup questions answered, read [phases.md](phases.md) and execute each phase in order.\nIf user chose review:\n- Option 2a: run `/flow-next:impl-review` after Phase 6, fix issues until it passes\n- Option 2b: run `/flow-next:impl-review` with export mode after Phase 6\n\n## Guardrails\n\n- Don't start without asking branch question\n- Don't start without plan/epic\n- Don't skip tests\n- Don't leave tasks half-done\n- Never use TodoWrite for task tracking\n- Never create plan files outside `.flow/`"
              },
              {
                "name": "flow-next-worktree-kit",
                "description": "Manage git worktrees (create/list/switch/cleanup) and copy .env files. Use for parallel feature work, isolated review, clean workspace, or when user mentions worktrees.",
                "path": "plugins/flow-next/skills/flow-next-worktree-kit/SKILL.md",
                "frontmatter": {
                  "name": "flow-next-worktree-kit",
                  "description": "Manage git worktrees (create/list/switch/cleanup) and copy .env files. Use for parallel feature work, isolated review, clean workspace, or when user mentions worktrees."
                },
                "content": "# Worktree kit\n\nUse the manager script for all worktree actions.\n\n```bash\nbash ${CLAUDE_PLUGIN_ROOT}/skills/flow-next-worktree-kit/scripts/worktree.sh <command> [args]\n```\n\nCommands:\n- `create <name> [base]`\n- `list`\n- `switch <name>` (prints path)\n- `cleanup`\n- `copy-env <name>`\n\nSafety notes:\n- `create` does not change the current branch\n- `cleanup` does not force-remove worktrees and does not delete branches\n- `cleanup` deletes the worktree directory (including ignored files); removal fails if the worktree is not clean\n- `.env*` is copied with no overwrite (symlinks skipped)\n- refuses to operate if `.worktrees/` or any worktree path component is a symlink\n- `copy-env` only targets registered worktrees\n- `origin` fetch is optional; local base refs are allowed\n- fetch from `origin` only when base looks like a branch\n- Worktrees live under `.worktrees/`"
              },
              {
                "name": "flow-next",
                "description": "Manage .flow/ tasks and epics. Triggers: 'show me my tasks', 'list epics', 'what tasks are there', 'add a task', 'create task', 'what's ready', 'task status', 'show fn-1'. NOT for /flow-next:plan or /flow-next:work.",
                "path": "plugins/flow-next/skills/flow-next/SKILL.md",
                "frontmatter": {
                  "name": "flow-next",
                  "description": "Manage .flow/ tasks and epics. Triggers: 'show me my tasks', 'list epics', 'what tasks are there', 'add a task', 'create task', 'what's ready', 'task status', 'show fn-1'. NOT for /flow-next:plan or /flow-next:work."
                },
                "content": "# Flow-Next Task Management\n\nQuick task operations in `.flow/`. For planning features use `/flow-next:plan`, for executing use `/flow-next:work`.\n\n## Setup\n\n**CRITICAL: flowctl is BUNDLED â€” NOT installed globally.** `which flowctl` will fail (expected). Always use:\n\n```bash\nFLOWCTL=\"${CLAUDE_PLUGIN_ROOT}/scripts/flowctl\"\n```\n\nThen run commands with `$FLOWCTL <command>`.\n\n**Discover all commands/options:**\n```bash\n$FLOWCTL --help\n$FLOWCTL <command> --help   # e.g., $FLOWCTL task --help\n```\n\n## Quick Reference\n\n```bash\n# Check if .flow exists\n$FLOWCTL detect --json\n\n# Initialize (if needed)\n$FLOWCTL init --json\n\n# List everything (epics + tasks grouped)\n$FLOWCTL list --json\n\n# List all epics\n$FLOWCTL epics --json\n\n# List all tasks (or filter by epic/status)\n$FLOWCTL tasks --json\n$FLOWCTL tasks --epic fn-1 --json\n$FLOWCTL tasks --status todo --json\n\n# View epic with all tasks\n$FLOWCTL show fn-1 --json\n$FLOWCTL cat fn-1              # Spec markdown\n\n# View single task\n$FLOWCTL show fn-1.2 --json\n$FLOWCTL cat fn-1.2            # Task spec\n\n# What's ready to work on?\n$FLOWCTL ready --epic fn-1 --json\n\n# Create task under existing epic\n$FLOWCTL task create --epic fn-1 --title \"Fix bug X\" --json\n\n# Set task description (from file)\necho \"Description here\" > /tmp/desc.md\n$FLOWCTL task set-description fn-1.2 --file /tmp/desc.md --json\n\n# Set acceptance criteria (from file)\necho \"- [ ] Criterion 1\" > /tmp/accept.md\n$FLOWCTL task set-acceptance fn-1.2 --file /tmp/accept.md --json\n\n# Start working on task\n$FLOWCTL start fn-1.2 --json\n\n# Mark task done\necho \"What was done\" > /tmp/summary.md\necho '{\"commits\":[\"abc123\"],\"tests\":[\"npm test\"],\"prs\":[]}' > /tmp/evidence.json\n$FLOWCTL done fn-1.2 --summary-file /tmp/summary.md --evidence-json /tmp/evidence.json --json\n\n# Validate structure\n$FLOWCTL validate --epic fn-1 --json\n$FLOWCTL validate --all --json\n```\n\n## Common Patterns\n\n### \"Add a task for X\"\n\n1. Find relevant epic:\n   ```bash\n   # List all epics\n   $FLOWCTL epics --json\n\n   # Or show a specific epic to check its scope\n   $FLOWCTL show fn-1 --json\n   ```\n\n2. Create task:\n   ```bash\n   $FLOWCTL task create --epic fn-N --title \"Short title\" --json\n   ```\n\n3. Add description:\n   ```bash\n   cat > /tmp/desc.md << 'EOF'\n   **Bug/Feature:** Brief description\n\n   **Details:**\n   - Point 1\n   - Point 2\n   EOF\n   $FLOWCTL task set-description fn-N.M --file /tmp/desc.md --json\n   ```\n\n4. Add acceptance:\n   ```bash\n   cat > /tmp/accept.md << 'EOF'\n   - [ ] Criterion 1\n   - [ ] Criterion 2\n   EOF\n   $FLOWCTL task set-acceptance fn-N.M --file /tmp/accept.md --json\n   ```\n\n### \"What tasks are there?\"\n\n```bash\n# All epics\n$FLOWCTL epics --json\n\n# All tasks\n$FLOWCTL tasks --json\n\n# Tasks for specific epic\n$FLOWCTL tasks --epic fn-1 --json\n\n# Ready tasks for an epic\n$FLOWCTL ready --epic fn-1 --json\n```\n\n### \"Show me task X\"\n\n```bash\n$FLOWCTL show fn-1.2 --json   # Metadata\n$FLOWCTL cat fn-1.2           # Full spec\n```\n\n### Create new epic (rare - usually via /flow-next:plan)\n\n```bash\n$FLOWCTL epic create --title \"Epic title\" --json\n# Returns: {\"success\": true, \"id\": \"fn-N\", ...}\n```\n\n## ID Format\n\n- Epic: `fn-N` (e.g., `fn-1`, `fn-42`)\n- Task: `fn-N.M` (e.g., `fn-1.1`, `fn-42.7`)\n\n## Notes\n\n- Run `$FLOWCTL --help` to discover all commands and options\n- All writes go through flowctl (don't edit JSON/MD files directly)\n- `--json` flag gives machine-readable output\n- For complex planning/execution, use `/flow-next:plan` and `/flow-next:work`"
              },
              {
                "name": "flow-impl-review",
                "description": "John Carmack-level implementation review via rp-cli for current branch changes. Use when reviewing code changes, PRs, or implementations. Triggers on mentions of code review, implementation review, or PR review.",
                "path": "plugins/flow/skills/flow-impl-review/SKILL.md",
                "frontmatter": {
                  "name": "flow-impl-review",
                  "description": "John Carmack-level implementation review via rp-cli for current branch changes. Use when reviewing code changes, PRs, or implementations. Triggers on mentions of code review, implementation review, or PR review."
                },
                "content": "# Implementation Review Mode (CLI)\n\nConduct a John Carmack-level review of implementation changes on the current branch using RepoPrompt's context builder and chat.\n\n**Role**: Code Review Coordinator (NOT the reviewer)\n**Tool**: rp-cli for context building and chat delegation\n\n## Input\n\nArguments: #$ARGUMENTS\nFormat: `[additional context, focus areas, or special instructions]`\n\nExample: `/flow:impl-review focus on the auth changes, ignore styling`\n\nReviews all changes on the **current branch** vs main/master.\n\n## FIRST: Determine Review Mode\n\nCheck: `which rp-cli >/dev/null 2>&1`\nIf NOT available: inform user rp-cli is required for this skill.\n\n**If review mode was already chosen earlier in this conversation** (e.g., user answered \"2a\" or \"2b\" during `/flow:plan` or `/flow:work` setup):\nâ†’ Use that mode, don't ask again.\n\n**If invoked directly without prior context**, ask:\n\n```\nBoth modes use RepoPrompt for context building (builder, file selection, codemaps).\nThe difference is where the review happens:\n\nReview mode:\na) RepoPrompt chat (default) â€” review via rp-cli chat\nb) Export for external LLM â€” export context file for ChatGPT, Claude web, etc.\n\n(Reply: \"a\", \"b\", \"export\", or just tell me)\n```\n\nWait for response. Parse naturally.\n\n## Context Sources\n\nThe workflow gathers context from:\n- Git diff and commit messages\n- Plan files referenced in commits\n- PRD/architecture docs\n- **Beads**: If you know which issue(s) this work relates to, include via `bd show`\n\n## Critical Requirement\n\n**DO NOT REVIEW CODE YOURSELF** â€“ you are a coordinator, not the reviewer.\n\nYour job is to:\n1. Use `rp-cli -e 'windows'` to find the RepoPrompt window\n2. Use `rp-cli -w <id> -e 'builder ...'` to build context\n3. Use `rp-cli -w <id> -e 'chat ...'` to execute the review\n\nThe **RepoPrompt chat** conducts the actual review with full file context.\n\n## Workflow\n\nRead [workflow.md](workflow.md) and follow each phase in order. Phases include change identification, context building, and review execution.\n\n## rp-cli Reference\n\nRead [rp-cli-reference.md](rp-cli-reference.md) for command syntax and examples."
              },
              {
                "name": "flow-interview",
                "description": "Interview user in-depth about a spec, bead, or feature idea to extract complete implementation details. Use when user wants to flesh out a spec, refine requirements, discuss technical details, clarify a feature before building, or asks to be interviewed about their idea. Triggers on \"interview me\", \"ask me questions about\", \"flesh out this spec\", \"refine requirements\", \"help me think through\".",
                "path": "plugins/flow/skills/flow-interview/SKILL.md",
                "frontmatter": {
                  "name": "flow-interview",
                  "description": "Interview user in-depth about a spec, bead, or feature idea to extract complete implementation details. Use when user wants to flesh out a spec, refine requirements, discuss technical details, clarify a feature before building, or asks to be interviewed about their idea. Triggers on \"interview me\", \"ask me questions about\", \"flesh out this spec\", \"refine requirements\", \"help me think through\"."
                },
                "content": "# Flow interview\n\nConduct an extremely thorough interview about a task/spec and write refined details back.\n\n**Role**: technical interviewer, spec refiner\n**Goal**: extract complete implementation details through deep questioning (40+ questions typical)\n\n## Input\n\nFull request: #$ARGUMENTS\n\nAccepts:\n- **Beads ID** (e.g., `gno-42`, `bd-123`, `app-12`): Fetch with `bd show`, write back with `bd update`\n- **File path** (e.g., `docs/spec.md`, `SPEC.md`): Read file, interview about contents, write refined version back\n- **Empty**: Prompt for target\n\nExamples:\n- `/flow:interview gno-42`\n- `/flow:interview docs/oauth-spec.md`\n- `/flow:interview SPEC.md`\n\nIf empty, ask: \"What should I interview you about? Give me a bead ID (e.g., gno-42) or file path (e.g., docs/spec.md)\"\n\n## Detect Input Type\n\n1. **Beads ID pattern**: matches `[a-z]+-\\d+` (e.g., gno-42, bd-123, app-7)\n   - Fetch: `bd show <id> --json`\n   - If type is \"epic\", also: `bd list --parent=<id> --json` to get subtasks\n\n2. **File path**: anything else with a path-like structure or .md extension\n   - Read file contents\n   - If file doesn't exist, ask user to provide valid path\n\n## Interview Process\n\n**CRITICAL REQUIREMENT**: You MUST use the `AskUserQuestion` tool for every question.\n\n- DO NOT output questions as text\n- DO NOT list questions in your response\n- ONLY ask questions via AskUserQuestion tool calls\n- Group 2-4 related questions per tool call\n- Expect 40+ questions total for complex specs\n\n**Anti-pattern (WRONG)**:\n```\nQuestion 1: What database should we use?\nOptions: a) PostgreSQL b) SQLite c) MongoDB\n```\n\n**Correct pattern**: Call AskUserQuestion tool with question and options.\n\n## Question Categories\n\nRead [questions.md](questions.md) for all question categories and interview guidelines.\n\n## Write Refined Spec\n\nAfter interview complete, write everything back.\n\n### For Beads ID\n\n**Single task**:\n```bash\necho \"<refined description>\" | bd update <id> --body-file -\nbd update <id> --acceptance=\"<acceptance criteria>\"\n```\n\n**Epic**:\n1. Update epic description: `echo \"<summary>\" | bd update <id> --body-file -`\n2. Create/update subtasks:\n   - New: `bd create --title=\"...\" --description=\"...\" --parent=<id>`\n   - Existing: `echo \"<details>\" | bd update <subtask-id> --body-file -`\n3. Add dependencies if discovered: `bd dep add <task> <depends-on>`\n\nInclude in description:\n- Clear problem statement\n- Technical approach with specifics\n- Key decisions made during interview\n- Edge cases to handle\n- Dependencies/blockers discovered\n\n### For File Path\n\nRewrite the file with refined spec:\n- Preserve any existing structure/format\n- Add sections for areas covered in interview\n- Include technical details, edge cases, acceptance criteria\n- Keep it actionable and specific\n\n## Completion\n\nShow summary:\n- Number of questions asked\n- Key decisions captured\n- What was written (bead updated / file rewritten)\n- Suggest next step: `/flow:plan` or `/flow:work`\n\n## Notes\n\n- Use `--json` flag on bd commands for reliable parsing\n- Use `--body-file -` with piped input for multiline descriptions\n- This process should feel thorough - user should feel they've thought through everything\n- Quality over speed - don't rush to finish"
              },
              {
                "name": "flow-plan-review",
                "description": "Carmack-level plan review via rp-cli context builder + chat. Use when reviewing implementation plans, architecture docs, or design specs. Triggers on mentions of plan review, design review, or architecture review.",
                "path": "plugins/flow/skills/flow-plan-review/SKILL.md",
                "frontmatter": {
                  "name": "flow-plan-review",
                  "description": "Carmack-level plan review via rp-cli context builder + chat. Use when reviewing implementation plans, architecture docs, or design specs. Triggers on mentions of plan review, design review, or architecture review."
                },
                "content": "# Plan Review Mode (CLI)\n\nConduct a John Carmack-level review of implementation plans using RepoPrompt's context builder and chat.\n\n**Role**: Code Review Coordinator (NOT the reviewer)\n**Tool**: rp-cli for context building and chat delegation\n\n## Input\n\nArguments: #$ARGUMENTS\nFormat: `<plan-file-or-beads-id> [additional context or focus areas]`\n\nAccepts:\n- Plan file path: `plans/<slug>.md`\n- Beads ID(s) or title(s) directly\n\nExample: `/flow:plan-review docs/plan/auth-refactor.md focus on security and error handling`\n\n## FIRST: Determine Review Mode\n\nCheck: `which rp-cli >/dev/null 2>&1`\nIf NOT available: inform user rp-cli is required for this skill.\n\n**If review mode was already chosen earlier in this conversation** (e.g., user answered \"2a\" or \"2b\" during `/flow:plan` or `/flow:work` setup):\nâ†’ Use that mode, don't ask again.\n\n**If invoked directly without prior context**, ask:\n\n```\nBoth modes use RepoPrompt for context building (builder, file selection, codemaps).\nThe difference is where the review happens:\n\nReview mode:\na) RepoPrompt chat (default) â€” review via rp-cli chat\nb) Export for external LLM â€” export context file for ChatGPT, Claude web, etc.\n\n(Reply: \"a\", \"b\", \"export\", or just tell me)\n```\n\nWait for response. Parse naturally.\n\n## Critical Requirement\n\n**DO NOT REVIEW THE PLAN YOURSELF** â€“ you are a coordinator, not the reviewer.\n\nYour job is to:\n1. Use `rp-cli -e 'windows'` to find the RepoPrompt window\n2. Use `rp-cli -w <id> -e 'builder ...'` to build context around the plan\n3. Use `rp-cli -w <id> -e 'chat ...'` to execute the review\n\nThe **RepoPrompt chat** conducts the actual review with full file context.\n\n## Workflow\n\nRead [workflow.md](workflow.md) and follow each phase in order. Phases include window selection, context building, and review execution.\n\n## rp-cli Reference\n\nRead [rp-cli-reference.md](rp-cli-reference.md) for command syntax and examples."
              },
              {
                "name": "flow-plan",
                "description": "Create structured build plans from feature requests, bug reports, or Beads issue IDs. Use when planning features, designing implementation, preparing work breakdown, or when given a bead/issue ID to plan. Triggers on /flow:plan with text descriptions or issue IDs (e.g., bd-123, gno-45, app-12).",
                "path": "plugins/flow/skills/flow-plan/SKILL.md",
                "frontmatter": {
                  "name": "flow-plan",
                  "description": "Create structured build plans from feature requests, bug reports, or Beads issue IDs. Use when planning features, designing implementation, preparing work breakdown, or when given a bead/issue ID to plan. Triggers on /flow:plan with text descriptions or issue IDs (e.g., bd-123, gno-45, app-12)."
                },
                "content": "# Flow plan\n\nTurn a rough idea into a practical plan file. This skill does not write code.\n\n**Role**: product-minded planner with strong repo awareness.\n**Goal**: produce a plan that matches existing conventions and reuse points.\n\n## Input\n\nFull request: #$ARGUMENTS\n\nAccepts:\n- Feature/bug description in natural language\n- Beads ID(s) or title(s) to plan for\n- Chained instructions like \"then review with /flow:plan-review\"\n\nExamples:\n- `/flow:plan Add OAuth login for users`\n- `/flow:plan gno-40i`\n- `/flow:plan gno-40i then review via /flow:plan-review and fix issues`\n\nIf empty, ask: \"What should I plan? Give me the feature or bug in 1-5 sentences.\"\n\n## FIRST: Setup Questions (if rp-cli available)\n\nCheck: `which rp-cli >/dev/null 2>&1`\n\nIf available, output these questions as text (do NOT use AskUserQuestion tool):\n\n```\nQuick setup before planning:\n\n1. **Research approach** â€” Use RepoPrompt for deeper context?\n   a) Yes, context-scout (slower, thorough)\n   b) No, repo-scout (faster)\n\n2. **Review** â€” Run Carmack-level review after?\n   a) Yes, RepoPrompt chat\n   b) Yes, export for external LLM (ChatGPT, Claude web)\n   c) No\n\n(Reply: \"1a 2a\", \"1b 2c\", or just tell me naturally)\n```\n\nWait for response. Parse naturally â€” user may reply terse (\"1a 2b\") or ramble via voice.\n\nIf rp-cli NOT available: skip questions, use repo-scout by default, no review.\n\n## Workflow\n\nRead [steps.md](steps.md) and follow each step in order. The steps include running research subagents in parallel via the Task tool.\nIf user chose review:\n- Option 2a: run `/flow:plan-review` after Step 4, fix issues until it passes\n- Option 2b: run `/flow:plan-review` with export mode after Step 4\n\n## Examples\n\nRead [examples.md](examples.md) for plan structure examples.\n\n## Output\n\n- Standard: `plans/<slug>.md`\n- Beads: epic/tasks/subtasks in Beads (no file written)\n\n## Output rules\n\n- Only write the plan file (or create Beads epic)\n- No code changes"
              },
              {
                "name": "flow-work",
                "description": "Execute a plan file or Beads epic systematically with git setup, task tracking, quality checks, and commit workflow. Use when implementing a plan, working through a spec, following documented steps, or executing a Beads issue ID (e.g., bd-123, gno-45, app-12).",
                "path": "plugins/flow/skills/flow-work/SKILL.md",
                "frontmatter": {
                  "name": "flow-work",
                  "description": "Execute a plan file or Beads epic systematically with git setup, task tracking, quality checks, and commit workflow. Use when implementing a plan, working through a spec, following documented steps, or executing a Beads issue ID (e.g., bd-123, gno-45, app-12)."
                },
                "content": "# Flow work\n\nExecute a plan systematically. Focus on finishing.\n\n**Role**: execution lead, plan fidelity first.\n**Goal**: complete every plan step in order with tests.\n\n## Input\n\nFull request: #$ARGUMENTS\n\nAccepts:\n- Plan file: `plans/<slug>.md`\n- Beads ID(s) or title(s) directly\n- Chained instructions like \"then review with /flow:impl-review\"\n\nExamples:\n- `/flow:work plans/oauth.md`\n- `/flow:work gno-40i`\n- `/flow:work gno-40i then review via /flow:impl-review and fix issues`\n\nIf no plan/ID provided, ask for it.\n\n## FIRST: Setup Questions (REQUIRED)\n\n**Before doing anything else**, output these questions as text (do NOT use AskUserQuestion tool):\n\nCheck if rp-cli available: `which rp-cli >/dev/null 2>&1`\n\nIf rp-cli available, ask both:\n```\nQuick setup before starting:\n\n1. **Branch** â€” Where to work?\n   a) Current branch\n   b) New branch\n   c) Isolated worktree\n\n2. **Review** â€” Run Carmack-level review after?\n   a) Yes, RepoPrompt chat\n   b) Yes, export for external LLM (ChatGPT, Claude web)\n   c) No\n\n(Reply: \"1a 2a\", \"current branch, export review\", or just tell me naturally)\n```\n\nIf rp-cli NOT available, ask only branch:\n```\nQuick setup: Where to work?\na) Current branch  b) New branch  c) Isolated worktree\n\n(Reply: \"a\", \"current\", or just tell me)\n```\n\nWait for response. Parse naturally â€” user may reply terse or ramble via voice.\n**Do NOT read files or write code until user responds.**\n\n## Workflow\n\nAfter setup questions answered, read [phases.md](phases.md) and execute each phase in order.\nIf user chose review:\n- Option 2a: run `/flow:impl-review` after Phase 6, fix issues until it passes\n- Option 2b: run `/flow:impl-review` with export mode after Phase 6\n\n## Guardrails\n\n- Don't start without asking branch question\n- Don't start without plan\n- Don't skip tests\n- Don't leave tasks half-done"
              },
              {
                "name": "rp-explorer",
                "description": "Token-efficient codebase exploration using RepoPrompt CLI. Use when user says \"use rp to...\" or \"use repoprompt to...\" followed by explore, find, understand, search, or similar actions.",
                "path": "plugins/flow/skills/rp-explorer/SKILL.md",
                "frontmatter": {
                  "name": "rp-explorer",
                  "description": "Token-efficient codebase exploration using RepoPrompt CLI. Use when user says \"use rp to...\" or \"use repoprompt to...\" followed by explore, find, understand, search, or similar actions."
                },
                "content": "# RP-Explorer\n\nToken-efficient codebase exploration using RepoPrompt CLI.\n\n## Trigger Phrases\n\nActivates when user combines \"use rp\" or \"use repoprompt\" with an action:\n- \"use rp to explore how auth works\"\n- \"use repoprompt to find similar patterns\"\n- \"use rp to understand the data flow\"\n- \"use repoprompt to search for API endpoints\"\n\n## CLI Reference\n\nRead [cli-reference.md](cli-reference.md) for complete command documentation.\n\n## Quick Start\n\n### Step 1: Get Overview\n```bash\nrp-cli -e 'tree'\nrp-cli -e 'structure .'\n```\n\n### Step 2: Find Relevant Files\n```bash\nrp-cli -e 'search \"auth\" --context-lines 2'\nrp-cli -e 'builder \"understand authentication\"'\n```\n\n### Step 3: Deep Dive\n```bash\nrp-cli -e 'select set src/auth/'\nrp-cli -e 'structure --scope selected'\nrp-cli -e 'read src/auth/login.ts'\n```\n\n### Step 4: Export Context\n```bash\nrp-cli -e 'context --all > codebase-map.md'\n```\n\n## Token Efficiency\n\n- Use `structure` instead of reading full files (10x fewer tokens)\n- Use `builder` for AI-powered file discovery\n- Select only relevant files before exporting context\n\n## Tab Isolation\n\n`builder` creates an isolated compose tab automatically. Use `-t` to target it:\n```bash\n# Builder returns: Tab: <UUID> â€¢ <Name>\nrp-cli -w W -t \"<Name>\" -e 'select add extra.ts && context'\n\n# Or chain commands:\nrp-cli -w W -e 'builder \"find auth\" && select add extra.ts && context'\n```\n\n## Requirements\n\nRepoPrompt v1.5.62+ with rp-cli installed."
              },
              {
                "name": "worktree-kit",
                "description": "Manage git worktrees (create/list/switch/cleanup) and copy .env files. Use for parallel feature work, isolated review, clean workspace, or when user mentions worktrees.",
                "path": "plugins/flow/skills/worktree-kit/SKILL.md",
                "frontmatter": {
                  "name": "worktree-kit",
                  "description": "Manage git worktrees (create/list/switch/cleanup) and copy .env files. Use for parallel feature work, isolated review, clean workspace, or when user mentions worktrees."
                },
                "content": "# Worktree kit\n\nUse the manager script for all worktree actions.\n\n```bash\nbash ${CLAUDE_PLUGIN_ROOT}/skills/worktree-kit/scripts/worktree.sh <command> [args]\n```\n\nCommands:\n- `create <name> [base]`\n- `list`\n- `switch <name>` (prints path)\n- `cleanup`\n- `copy-env <name>`\n\nSafety notes:\n- `create` does not change the current branch\n- `cleanup` does not force-remove worktrees and does not delete branches\n- `cleanup` deletes the worktree directory (including ignored files); removal fails if the worktree is not clean\n- `.env*` is copied with no overwrite (symlinks skipped)\n- refuses to operate if `.worktrees/` or any worktree path component is a symlink\n- `copy-env` only targets registered worktrees\n- `origin` fetch is optional; local base refs are allowed\n- fetch from `origin` only when base looks like a branch\n- Worktrees live under `.worktrees/`"
              }
            ]
          },
          {
            "name": "flow-next",
            "description": "Zero-dependency planning + execution with .flow/ task tracking and Ralph autonomous mode (multi-model review gates). Includes 6 subagents, 8 commands, 11 skills.",
            "source": "./plugins/flow-next",
            "category": null,
            "version": "0.6.1",
            "author": {
              "name": "Gordon Mickel",
              "email": "gordon@mickel.tech",
              "url": "https://mickel.tech"
            },
            "install_commands": [
              "/plugin marketplace add gmickel/gmickel-claude-marketplace",
              "/plugin install flow-next@gmickel-claude-marketplace"
            ],
            "signals": {
              "stars": 304,
              "forks": 16,
              "pushed_at": "2026-01-12T23:08:02Z",
              "created_at": "2025-12-26T22:27:07Z",
              "license": "MIT"
            },
            "commands": [],
            "skills": [
              {
                "name": "flow-next-export-context",
                "description": "Export RepoPrompt context for external LLM review (ChatGPT, Claude web, etc.). Use when you want to review code or plans with an external model. Triggers on /flow-next:export-context.",
                "path": "plugins/flow-next/skills/flow-next-export-context/SKILL.md",
                "frontmatter": {
                  "name": "flow-next-export-context",
                  "description": "Export RepoPrompt context for external LLM review (ChatGPT, Claude web, etc.). Use when you want to review code or plans with an external model. Triggers on /flow-next:export-context."
                },
                "content": "# Export Context Mode\n\nBuild RepoPrompt context and export to a markdown file for use with external LLMs (ChatGPT Pro, Claude web, etc.).\n\n**Use case**: When you want Carmack-level review but prefer to use an external model.\n\n**CRITICAL: flowctl is BUNDLED â€” NOT installed globally.** `which flowctl` will fail (expected). Always use:\n```bash\nFLOWCTL=\"${CLAUDE_PLUGIN_ROOT}/scripts/flowctl\"\n$FLOWCTL <command>\n```\n\n## Input\n\nArguments: $ARGUMENTS\nFormat: `<type> <target> [focus areas]`\n\nTypes:\n- `plan <epic-id>` - Export plan review context\n- `impl` - Export implementation review context (current branch)\n\nExamples:\n- `/flow-next:export-context plan fn-1 focus on security`\n- `/flow-next:export-context impl focus on the auth changes`\n\n## Setup\n\n```bash\nFLOWCTL=\"${CLAUDE_PLUGIN_ROOT}/scripts/flowctl\"\nREPO_ROOT=\"$(git rev-parse --show-toplevel 2>/dev/null || pwd)\"\n```\n\n## Workflow\n\n### Step 1: Determine Type\n\nParse arguments to determine if this is a plan or impl export.\n\n### Step 2: Gather Content\n\n**For plan export:**\n```bash\n$FLOWCTL show <epic-id> --json\n$FLOWCTL cat <epic-id>\n```\n\n**For impl export:**\n```bash\ngit branch --show-current\ngit log main..HEAD --oneline 2>/dev/null || git log master..HEAD --oneline\ngit diff main..HEAD --name-only 2>/dev/null || git diff master..HEAD --name-only\n```\n\n### Step 3: Setup RepoPrompt\n\n```bash\neval \"$($FLOWCTL rp setup-review --repo-root \"$REPO_ROOT\" --summary \"<summary based on type>\")\"\n```\n\n### Step 4: Augment Selection\n\n```bash\n$FLOWCTL rp select-get --window \"$W\" --tab \"$T\"\n\n# Add relevant files\n$FLOWCTL rp select-add --window \"$W\" --tab \"$T\" <files>\n```\n\n### Step 5: Build Review Prompt\n\nGet builder's handoff:\n```bash\n$FLOWCTL rp prompt-get --window \"$W\" --tab \"$T\"\n```\n\nBuild combined prompt with review criteria (same as plan-review or impl-review).\n\nSet the prompt:\n```bash\ncat > /tmp/export-prompt.md << 'EOF'\n[COMBINED PROMPT WITH REVIEW CRITERIA]\nEOF\n\n$FLOWCTL rp prompt-set --window \"$W\" --tab \"$T\" --message-file /tmp/export-prompt.md\n```\n\n### Step 6: Export\n\n```bash\nOUTPUT_FILE=~/Desktop/review-export-$(date +%Y%m%d-%H%M%S).md\n$FLOWCTL rp prompt-export --window \"$W\" --tab \"$T\" --out \"$OUTPUT_FILE\"\nopen \"$OUTPUT_FILE\"\n```\n\n### Step 7: Inform User\n\n```\nExported review context to: $OUTPUT_FILE\n\nThe file contains:\n- Full file tree with selected files marked\n- Code maps (signatures/structure)\n- Complete file contents\n- Review prompt with Carmack-level criteria\n\nPaste into ChatGPT Pro, Claude web, or your preferred LLM.\nAfter receiving feedback, return here to implement fixes.\n```\n\n## Note\n\nThis skill is for **manual** external review only. It does not work with Ralph autonomous mode (no receipts, no status updates)."
              },
              {
                "name": "flow-next-impl-review",
                "description": "John Carmack-level implementation review via RepoPrompt or Codex. Use when reviewing code changes, PRs, or implementations. Triggers on /flow-next:impl-review.",
                "path": "plugins/flow-next/skills/flow-next-impl-review/SKILL.md",
                "frontmatter": {
                  "name": "flow-next-impl-review",
                  "description": "John Carmack-level implementation review via RepoPrompt or Codex. Use when reviewing code changes, PRs, or implementations. Triggers on /flow-next:impl-review."
                },
                "content": "# Implementation Review Mode\n\n**Read [workflow.md](workflow.md) for detailed phases and anti-patterns.**\n\nConduct a John Carmack-level review of implementation changes on the current branch.\n\n**Role**: Code Review Coordinator (NOT the reviewer)\n**Backends**: RepoPrompt (rp) or Codex CLI (codex)\n\n**CRITICAL: flowctl is BUNDLED â€” NOT installed globally.** `which flowctl` will fail (expected). Always use:\n```bash\nFLOWCTL=\"${CLAUDE_PLUGIN_ROOT}/scripts/flowctl\"\n```\n\n## Backend Selection\n\n**Priority** (first match wins):\n1. `--review=rp|codex|export|none` argument\n2. `FLOW_REVIEW_BACKEND` env var (`rp`, `codex`, `none`)\n3. `.flow/config.json` â†’ `review.backend`\n4. Interactive prompt if both rp-cli and codex available (and not in Ralph mode)\n5. Default: whichever is available (rp preferred)\n\n### Parse from arguments first\n\nCheck $ARGUMENTS for:\n- `--review=rp` or `--review rp` â†’ use rp\n- `--review=codex` or `--review codex` â†’ use codex\n- `--review=export` or `--review export` â†’ use export\n- `--review=none` or `--review none` â†’ skip review\n\nIf found, use that backend and skip all other detection.\n\n### Otherwise detect\n\n```bash\n# Check available backends\nHAVE_RP=$(which rp-cli >/dev/null 2>&1 && echo 1 || echo 0)\nHAVE_CODEX=$(which codex >/dev/null 2>&1 && echo 1 || echo 0)\n\n# Get configured backend\nBACKEND=\"${FLOW_REVIEW_BACKEND:-}\"\nif [[ -z \"$BACKEND\" ]]; then\n  BACKEND=\"$($FLOWCTL config get review.backend 2>/dev/null | jq -r '.value // empty')\"\nfi\n```\n\n### If no backend configured and both available\n\nIf `BACKEND` is empty AND both `HAVE_RP=1` and `HAVE_CODEX=1`, AND not in Ralph mode (`FLOW_RALPH` not set):\n\nOutput this question as text (do NOT use AskUserQuestion tool):\n```\nWhich review backend?\na) Codex CLI (cross-platform, GPT 5.2 High)\nb) RepoPrompt (macOS, visual builder)\n\n(Reply: \"a\", \"codex\", \"b\", \"rp\", or just tell me)\n```\n\nWait for response. Parse naturally.\n\n**Default if empty/ambiguous**: `codex`\n\n### If only one available or in Ralph mode\n\n```bash\n# Fallback to available\nif [[ -z \"$BACKEND\" ]]; then\n  if [[ \"$HAVE_RP\" == \"1\" ]]; then BACKEND=\"rp\"\n  elif [[ \"$HAVE_CODEX\" == \"1\" ]]; then BACKEND=\"codex\"\n  else BACKEND=\"none\"; fi\nfi\n```\n\n## Critical Rules\n\n**For rp backend:**\n1. **DO NOT REVIEW CODE YOURSELF** - you coordinate, RepoPrompt reviews\n2. **MUST WAIT for actual RP response** - never simulate/skip the review\n3. **MUST use `setup-review`** - handles window selection + builder atomically\n4. **DO NOT add --json flag to chat-send** - it suppresses the review response\n5. **Re-reviews MUST stay in SAME chat** - omit `--new-chat` after first review\n\n**For codex backend:**\n1. Use `$FLOWCTL codex impl-review` exclusively\n2. Pass `--receipt` for session continuity on re-reviews\n3. Parse verdict from command output\n\n**For all backends:**\n- If `REVIEW_RECEIPT_PATH` set: write receipt after review (any verdict)\n- Any failure â†’ output `<promise>RETRY</promise>` and stop\n\n**FORBIDDEN**:\n- Self-declaring SHIP without actual backend verdict\n- Mixing backends mid-review (stick to one)\n- Skipping review when backend is \"none\" without user consent\n\n## Input\n\nArguments: $ARGUMENTS\nFormat: `[focus areas or task ID]`\n\nReviews all changes on **current branch** vs main/master.\n\n## Workflow\n\n**See [workflow.md](workflow.md) for full details on each backend.**\n\n```bash\nFLOWCTL=\"${CLAUDE_PLUGIN_ROOT}/scripts/flowctl\"\nREPO_ROOT=\"$(git rev-parse --show-toplevel 2>/dev/null || pwd)\"\n```\n\n### Step 0: Detect Backend\n\nRun backend detection from SKILL.md above. Then branch:\n\n### Codex Backend\n\n```bash\nTASK_ID=\"${1:-}\"\nBASE_BRANCH=\"main\"\nRECEIPT_PATH=\"${REVIEW_RECEIPT_PATH:-/tmp/impl-review-receipt.json}\"\n\n$FLOWCTL codex impl-review \"$TASK_ID\" --base \"$BASE_BRANCH\" --receipt \"$RECEIPT_PATH\"\n# Output includes VERDICT=SHIP|NEEDS_WORK|MAJOR_RETHINK\n```\n\nOn NEEDS_WORK: fix code, commit, re-run (receipt enables session continuity).\n\n### RepoPrompt Backend\n\n```bash\n# Step 1: Identify changes\ngit branch --show-current\ngit log main..HEAD --oneline 2>/dev/null || git log master..HEAD --oneline\ngit diff main..HEAD --name-only 2>/dev/null || git diff master..HEAD --name-only\n\n# Step 2: Atomic setup\neval \"$($FLOWCTL rp setup-review --repo-root \"$REPO_ROOT\" --summary \"Review implementation: <summary>\")\"\n# Outputs W=<window> T=<tab>. If fails â†’ <promise>RETRY</promise>\n\n# Step 3: Augment selection\n$FLOWCTL rp select-add --window \"$W\" --tab \"$T\" path/to/changed/files...\n\n# Step 4: Build and send review prompt (see workflow.md)\n$FLOWCTL rp chat-send --window \"$W\" --tab \"$T\" --message-file /tmp/review-prompt.md --new-chat --chat-name \"Impl Review: [BRANCH]\"\n\n# Step 5: Write receipt if REVIEW_RECEIPT_PATH set\n```\n\n## Fix Loop (INTERNAL - do not exit to Ralph)\n\nIf verdict is NEEDS_WORK, loop internally until SHIP:\n\n1. **Parse issues** from reviewer feedback (Critical â†’ Major â†’ Minor)\n2. **Fix code** and run tests/lints\n3. **Commit fixes** (mandatory before re-review)\n4. **Re-review**:\n   - **Codex**: Re-run `flowctl codex impl-review` (receipt enables context)\n   - **RP**: `$FLOWCTL rp chat-send --window \"$W\" --tab \"$T\" --message-file /tmp/re-review.md` (NO `--new-chat`)\n5. **Repeat** until `<verdict>SHIP</verdict>`\n\n**CRITICAL**: For RP, re-reviews must stay in the SAME chat so reviewer has context. Only use `--new-chat` on the FIRST review."
              },
              {
                "name": "flow-next-interview",
                "description": "Interview user in-depth about an epic, task, or spec file to extract complete implementation details. Use when user wants to flesh out a spec, refine requirements, or clarify a feature before building. Triggers on /flow-next:interview with Flow IDs (fn-1, fn-1.2) or file paths.",
                "path": "plugins/flow-next/skills/flow-next-interview/SKILL.md",
                "frontmatter": {
                  "name": "flow-next-interview",
                  "description": "Interview user in-depth about an epic, task, or spec file to extract complete implementation details. Use when user wants to flesh out a spec, refine requirements, or clarify a feature before building. Triggers on /flow-next:interview with Flow IDs (fn-1, fn-1.2) or file paths."
                },
                "content": "# Flow interview\n\nConduct an extremely thorough interview about a task/spec and write refined details back.\n\n**IMPORTANT**: This plugin uses `.flow/` for ALL task tracking. Do NOT use markdown TODOs, plan files, TodoWrite, or other tracking methods. All task state must be read and written via `flowctl`.\n\n**CRITICAL: flowctl is BUNDLED â€” NOT installed globally.** `which flowctl` will fail (expected). Always use:\n```bash\nFLOWCTL=\"${CLAUDE_PLUGIN_ROOT}/scripts/flowctl\"\n$FLOWCTL <command>\n```\n\n**Role**: technical interviewer, spec refiner\n**Goal**: extract complete implementation details through deep questioning (40+ questions typical)\n\n## Input\n\nFull request: $ARGUMENTS\n\nAccepts:\n- **Flow epic ID** `fn-N`: Fetch with `flowctl show`, write back with `flowctl epic set-plan`\n- **Flow task ID** `fn-N.M`: Fetch with `flowctl show`, write back with `flowctl task set-description/set-acceptance`\n- **File path** (e.g., `docs/spec.md`): Read file, interview, rewrite file\n- **Empty**: Prompt for target\n\nExamples:\n- `/flow-next:interview fn-1`\n- `/flow-next:interview fn-1.3`\n- `/flow-next:interview docs/oauth-spec.md`\n\nIf empty, ask: \"What should I interview you about? Give me a Flow ID (e.g., fn-1) or file path (e.g., docs/spec.md)\"\n\n## Setup\n\n```bash\nFLOWCTL=\"${CLAUDE_PLUGIN_ROOT}/scripts/flowctl\"\n```\n\n## Detect Input Type\n\n1. **Flow epic ID pattern**: matches `fn-\\d+` (e.g., fn-1, fn-12)\n   - Fetch: `$FLOWCTL show <id> --json`\n   - Read spec: `$FLOWCTL cat <id>`\n\n2. **Flow task ID pattern**: matches `fn-\\d+\\.\\d+` (e.g., fn-1.3, fn-12.5)\n   - Fetch: `$FLOWCTL show <id> --json`\n   - Read spec: `$FLOWCTL cat <id>`\n   - Also get epic context: `$FLOWCTL cat <epic-id>`\n\n3. **File path**: anything else with a path-like structure or .md extension\n   - Read file contents\n   - If file doesn't exist, ask user to provide valid path\n\n## Interview Process\n\n**CRITICAL REQUIREMENT**: You MUST use the `AskUserQuestion` tool for every question.\n\n- DO NOT output questions as text\n- DO NOT list questions in your response\n- ONLY ask questions via AskUserQuestion tool calls\n- Group 2-4 related questions per tool call\n- Expect 40+ questions total for complex specs\n\n**Anti-pattern (WRONG)**:\n```\nQuestion 1: What database should we use?\nOptions: a) PostgreSQL b) SQLite c) MongoDB\n```\n\n**Correct pattern**: Call AskUserQuestion tool with question and options.\n\n## Question Categories\n\nRead [questions.md](questions.md) for all question categories and interview guidelines.\n\n## Write Refined Spec\n\nAfter interview complete, write everything back.\n\n### For Flow Epic ID\n\n1. Create a temp file with the refined epic spec including:\n   - Clear problem statement\n   - Technical approach with specifics\n   - Key decisions made during interview\n   - Edge cases to handle\n   - Quick commands section (required)\n   - Acceptance criteria\n\n2. Update epic spec:\n   ```bash\n   $FLOWCTL epic set-plan <id> --file <temp-md> --json\n   ```\n\n3. Create/update tasks if interview revealed breakdown:\n   ```bash\n   $FLOWCTL task create --epic <id> --title \"...\" --json\n   $FLOWCTL task set-description <task-id> --file <temp-md> --json\n   $FLOWCTL task set-acceptance <task-id> --file <temp-md> --json\n   ```\n\n### For Flow Task ID\n\n1. Write description to temp file with:\n   - Clear task description\n   - Technical details from interview\n   - Edge cases\n\n2. Write acceptance to temp file with:\n   - Checkboxes for acceptance criteria\n   - Specific, testable conditions\n\n3. Update task:\n   ```bash\n   $FLOWCTL task set-description <id> --file <desc-temp.md> --json\n   $FLOWCTL task set-acceptance <id> --file <acc-temp.md> --json\n   ```\n\n### For File Path\n\nRewrite the file with refined spec:\n- Preserve any existing structure/format\n- Add sections for areas covered in interview\n- Include technical details, edge cases, acceptance criteria\n- Keep it actionable and specific\n\n## Completion\n\nShow summary:\n- Number of questions asked\n- Key decisions captured\n- What was written (Flow ID updated / file rewritten)\n- Suggest next step: `/flow-next:plan` or `/flow-next:work`\n\n## Notes\n\n- This process should feel thorough - user should feel they've thought through everything\n- Quality over speed - don't rush to finish"
              },
              {
                "name": "flow-next-plan-review",
                "description": "Carmack-level plan review via RepoPrompt or Codex. Use when reviewing Flow epic specs or design docs. Triggers on /flow-next:plan-review.",
                "path": "plugins/flow-next/skills/flow-next-plan-review/SKILL.md",
                "frontmatter": {
                  "name": "flow-next-plan-review",
                  "description": "Carmack-level plan review via RepoPrompt or Codex. Use when reviewing Flow epic specs or design docs. Triggers on /flow-next:plan-review."
                },
                "content": "# Plan Review Mode\n\n**Read [workflow.md](workflow.md) for detailed phases and anti-patterns.**\n\nConduct a John Carmack-level review of epic plans.\n\n**Role**: Code Review Coordinator (NOT the reviewer)\n**Backends**: RepoPrompt (rp) or Codex CLI (codex)\n\n**CRITICAL: flowctl is BUNDLED â€” NOT installed globally.** `which flowctl` will fail (expected). Always use:\n```bash\nFLOWCTL=\"${CLAUDE_PLUGIN_ROOT}/scripts/flowctl\"\n```\n\n## Backend Selection\n\n**Priority** (first match wins):\n1. `--review=rp|codex|export|none` argument\n2. `FLOW_REVIEW_BACKEND` env var (`rp`, `codex`, `none`)\n3. `.flow/config.json` â†’ `review.backend`\n4. Interactive prompt if both rp-cli and codex available (and not in Ralph mode)\n5. Default: whichever is available (rp preferred)\n\n### Parse from arguments first\n\nCheck $ARGUMENTS for:\n- `--review=rp` or `--review rp` â†’ use rp\n- `--review=codex` or `--review codex` â†’ use codex\n- `--review=export` or `--review export` â†’ use export\n- `--review=none` or `--review none` â†’ skip review\n\nIf found, use that backend and skip all other detection.\n\n### Otherwise detect\n\n```bash\n# Check available backends\nHAVE_RP=$(which rp-cli >/dev/null 2>&1 && echo 1 || echo 0)\nHAVE_CODEX=$(which codex >/dev/null 2>&1 && echo 1 || echo 0)\n\n# Get configured backend\nBACKEND=\"${FLOW_REVIEW_BACKEND:-}\"\nif [[ -z \"$BACKEND\" ]]; then\n  BACKEND=\"$($FLOWCTL config get review.backend 2>/dev/null | jq -r '.value // empty')\"\nfi\n```\n\n### If no backend configured and both available\n\nIf `BACKEND` is empty AND both `HAVE_RP=1` and `HAVE_CODEX=1`, AND not in Ralph mode (`FLOW_RALPH` not set):\n\nOutput this question as text (do NOT use AskUserQuestion tool):\n```\nWhich review backend?\na) Codex CLI (cross-platform, GPT 5.2 High)\nb) RepoPrompt (macOS, visual builder)\n\n(Reply: \"a\", \"codex\", \"b\", \"rp\", or just tell me)\n```\n\nWait for response. Parse naturally.\n\n**Default if empty/ambiguous**: `codex`\n\n### If only one available or in Ralph mode\n\n```bash\n# Fallback to available\nif [[ -z \"$BACKEND\" ]]; then\n  if [[ \"$HAVE_RP\" == \"1\" ]]; then BACKEND=\"rp\"\n  elif [[ \"$HAVE_CODEX\" == \"1\" ]]; then BACKEND=\"codex\"\n  else BACKEND=\"none\"; fi\nfi\n```\n\n## Critical Rules\n\n**For rp backend:**\n1. **DO NOT REVIEW THE PLAN YOURSELF** - you coordinate, RepoPrompt reviews\n2. **MUST WAIT for actual RP response** - never simulate/skip the review\n3. **MUST use `setup-review`** - handles window selection + builder atomically\n4. **DO NOT add --json flag to chat-send** - it suppresses the review response\n5. **Re-reviews MUST stay in SAME chat** - omit `--new-chat` after first review\n\n**For codex backend:**\n1. Use `$FLOWCTL codex plan-review` exclusively\n2. Pass `--receipt` for session continuity on re-reviews\n3. Parse verdict from command output\n\n**For all backends:**\n- If `REVIEW_RECEIPT_PATH` set: write receipt after review (any verdict)\n- Any failure â†’ output `<promise>RETRY</promise>` and stop\n\n**FORBIDDEN**:\n- Self-declaring SHIP without actual backend verdict\n- Mixing backends mid-review (stick to one)\n- Skipping review when backend is \"none\" without user consent\n\n## Input\n\nArguments: $ARGUMENTS\nFormat: `<flow-epic-id> [focus areas]`\n\n## Workflow\n\n**See [workflow.md](workflow.md) for full details on each backend.**\n\n```bash\nFLOWCTL=\"${CLAUDE_PLUGIN_ROOT}/scripts/flowctl\"\nREPO_ROOT=\"$(git rev-parse --show-toplevel 2>/dev/null || pwd)\"\n```\n\n### Step 0: Detect Backend\n\nRun backend detection from SKILL.md above. Then branch:\n\n### Codex Backend\n\n```bash\nEPIC_ID=\"${1:-}\"\nRECEIPT_PATH=\"${REVIEW_RECEIPT_PATH:-/tmp/plan-review-receipt.json}\"\n\n$FLOWCTL codex plan-review \"$EPIC_ID\" --receipt \"$RECEIPT_PATH\"\n# Output includes VERDICT=SHIP|NEEDS_WORK|MAJOR_RETHINK\n```\n\nOn NEEDS_WORK: fix plan via `$FLOWCTL epic set-plan`, then re-run (receipt enables session continuity).\n\n### RepoPrompt Backend\n\n```bash\n# Step 1: Get plan content\n$FLOWCTL show <id> --json\n$FLOWCTL cat <id>\n\n# Step 2: Atomic setup\neval \"$($FLOWCTL rp setup-review --repo-root \"$REPO_ROOT\" --summary \"Review plan for <EPIC_ID>: <summary>\")\"\n# Outputs W=<window> T=<tab>. If fails â†’ <promise>RETRY</promise>\n\n# Step 3: Augment selection\n$FLOWCTL rp select-add --window \"$W\" --tab \"$T\" .flow/specs/<epic-id>.md\n\n# Step 4: Build and send review prompt (see workflow.md)\n$FLOWCTL rp chat-send --window \"$W\" --tab \"$T\" --message-file /tmp/review-prompt.md --new-chat --chat-name \"Plan Review: <EPIC_ID>\"\n\n# Step 5: Write receipt if REVIEW_RECEIPT_PATH set\n# Step 6: Update status\n$FLOWCTL epic set-plan-review-status <EPIC_ID> --status ship --json\n```\n\n## Fix Loop (INTERNAL - do not exit to Ralph)\n\nIf verdict is NEEDS_WORK, loop internally until SHIP:\n\n1. **Parse issues** from reviewer feedback\n2. **Fix plan** via `$FLOWCTL epic set-plan <EPIC_ID> --file /tmp/updated-plan.md`\n3. **Re-review**:\n   - **Codex**: Re-run `flowctl codex plan-review` (receipt enables context)\n   - **RP**: `$FLOWCTL rp chat-send --window \"$W\" --tab \"$T\" --message-file /tmp/re-review.md` (NO `--new-chat`)\n4. **Repeat** until `<verdict>SHIP</verdict>`\n\n**CRITICAL**: For RP, re-reviews must stay in the SAME chat so reviewer has context. Only use `--new-chat` on the FIRST review."
              },
              {
                "name": "flow-next-plan",
                "description": "Create structured build plans from feature requests or Flow IDs. Use when planning features or designing implementation. Triggers on /flow-next:plan with text descriptions or Flow IDs (fn-1, fn-1.2).",
                "path": "plugins/flow-next/skills/flow-next-plan/SKILL.md",
                "frontmatter": {
                  "name": "flow-next-plan",
                  "description": "Create structured build plans from feature requests or Flow IDs. Use when planning features or designing implementation. Triggers on /flow-next:plan with text descriptions or Flow IDs (fn-1, fn-1.2)."
                },
                "content": "# Flow plan\n\nTurn a rough idea into an epic with tasks in `.flow/`. This skill does not write code.\n\nFollow this skill and linked workflows exactly. Deviations cause drift, bad gates, retries, and user frustration.\n\n**IMPORTANT**: This plugin uses `.flow/` for ALL task tracking. Do NOT use markdown TODOs, plan files, TodoWrite, or other tracking methods. All task state must be read and written via `flowctl`.\n\n**CRITICAL: flowctl is BUNDLED â€” NOT installed globally.** `which flowctl` will fail (expected). Always use:\n```bash\nFLOWCTL=\"${CLAUDE_PLUGIN_ROOT}/scripts/flowctl\"\n$FLOWCTL <command>\n```\n\n**Role**: product-minded planner with strong repo awareness.\n**Goal**: produce an epic with tasks that match existing conventions and reuse points.\n**Task size**: every task must fit one `/flow-next:work` iteration. If it won't, split it.\n\n## Input\n\nFull request: $ARGUMENTS\n\nAccepts:\n- Feature/bug description in natural language\n- Flow epic ID `fn-N` to refine existing epic\n- Flow task ID `fn-N.M` to refine specific task\n- Chained instructions like \"then review with /flow-next:plan-review\"\n\nExamples:\n- `/flow-next:plan Add OAuth login for users`\n- `/flow-next:plan fn-1`\n- `/flow-next:plan fn-1 then review via /flow-next:plan-review`\n\nIf empty, ask: \"What should I plan? Give me the feature or bug in 1-5 sentences.\"\n\n## FIRST: Parse Options or Ask Questions\n\nCheck available backends and configured preference:\n```bash\nHAVE_RP=$(which rp-cli >/dev/null 2>&1 && echo 1 || echo 0)\nHAVE_CODEX=$(which codex >/dev/null 2>&1 && echo 1 || echo 0)\n\n# Check configured backend (priority: env > config)\nCONFIGURED_BACKEND=\"${FLOW_REVIEW_BACKEND:-}\"\nif [[ -z \"$CONFIGURED_BACKEND\" ]]; then\n  CONFIGURED_BACKEND=\"$($FLOWCTL config get review.backend 2>/dev/null | jq -r '.value // empty')\"\nfi\n```\n\n### Option Parsing (skip questions if found in arguments)\n\nParse the arguments for these patterns. If found, use them and skip questions:\n\n**Research approach** (only if rp-cli available):\n- `--research=rp` or `--research rp` or \"use rp\" or \"context-scout\" or \"use repoprompt\" â†’ context-scout\n- `--research=grep` or `--research grep` or \"use grep\" or \"repo-scout\" or \"fast\" â†’ repo-scout\n\n**Review mode**:\n- `--review=codex` or \"review with codex\" or \"codex review\" or \"use codex\" â†’ Codex CLI (GPT 5.2 High)\n- `--review=rp` or \"review with rp\" or \"rp chat\" or \"repoprompt review\" â†’ RepoPrompt chat (via `flowctl rp chat-send`)\n- `--review=export` or \"export review\" or \"external llm\" â†’ export for external LLM\n- `--review=none` or `--no-review` or \"no review\" or \"skip review\" â†’ no review\n\n### If options NOT found in arguments\n\n**Skip review question if**: Ralph mode (`FLOW_RALPH=1`) OR backend already configured (`CONFIGURED_BACKEND` not empty). In these cases, only ask research question (if rp-cli available):\n\n```\nQuick setup: Use RepoPrompt for deeper context?\na) Yes, context-scout (slower, thorough)\nb) No, repo-scout (faster)\n\n(Reply: \"a\", \"b\", or just tell me)\n```\n\nIf rp-cli not available, skip questions entirely and use defaults.\n\n**Otherwise**, output questions based on available backends (do NOT use AskUserQuestion tool):\n\n**If both rp-cli AND codex available:**\n```\nQuick setup before planning:\n\n1. **Research approach** â€” Use RepoPrompt for deeper context?\n   a) Yes, context-scout (slower, thorough)\n   b) No, repo-scout (faster)\n\n2. **Review** â€” Run Carmack-level review after?\n   a) Yes, Codex CLI (cross-platform, GPT 5.2 High)\n   b) Yes, RepoPrompt chat (macOS, visual builder)\n   c) Yes, export for external LLM (ChatGPT, Claude web)\n   d) No\n\n(Reply: \"1a 2a\", \"1b 2d\", or just tell me naturally)\n```\n\n**If only rp-cli available:**\n```\nQuick setup before planning:\n\n1. **Research approach** â€” Use RepoPrompt for deeper context?\n   a) Yes, context-scout (slower, thorough)\n   b) No, repo-scout (faster)\n\n2. **Review** â€” Run Carmack-level review after?\n   a) Yes, RepoPrompt chat\n   b) Yes, export for external LLM\n   c) No\n\n(Reply: \"1a 2a\", \"1b 2c\", or just tell me naturally)\n```\n\n**If only codex available:**\n```\nQuick setup before planning:\n\n**Review** â€” Run Carmack-level review after?\na) Yes, Codex CLI (GPT 5.2 High)\nb) Yes, export for external LLM\nc) No\n\n(Reply: \"a\", \"b\", or just tell me naturally)\n```\n\nWait for response. Parse naturally â€” user may reply terse (\"1a 2b\") or ramble via voice.\n\n**Defaults when empty/ambiguous:**\n- Research = `grep` (repo-scout)\n- Review = configured backend if set, else `codex` if available, else `rp` if available, else `none`\n\nIf neither rp-cli nor codex available: skip review questions, use repo-scout, no review.\n\n**Defaults when no review backend available:**\n- Research = `grep`\n- Review = `none`\n\n## Workflow\n\nRead [steps.md](steps.md) and follow each step in order. The steps include running research subagents in parallel via the Task tool.\nIf user chose review:\n- Option 2a: run `/flow-next:plan-review` after Step 4, fix issues until it passes\n- Option 2b: run `/flow-next:plan-review` with export mode after Step 4\n\n## Output\n\nAll plans go into `.flow/`:\n- Epic: `.flow/epics/fn-N.json` + `.flow/specs/fn-N.md`\n- Tasks: `.flow/tasks/fn-N.M.json` + `.flow/tasks/fn-N.M.md`\n\n**Never write plan files outside `.flow/`. Never use TodoWrite for task tracking.**\n\n## Output rules\n\n- Only create/update epics and tasks via flowctl\n- No code changes\n- No plan files outside `.flow/`"
              },
              {
                "name": "flow-next-ralph-init",
                "description": "Scaffold repo-local Ralph autonomous harness under scripts/ralph/. Use when user runs /flow-next:ralph-init.",
                "path": "plugins/flow-next/skills/flow-next-ralph-init/SKILL.md",
                "frontmatter": {
                  "name": "flow-next-ralph-init",
                  "description": "Scaffold repo-local Ralph autonomous harness under scripts/ralph/. Use when user runs /flow-next:ralph-init."
                },
                "content": "# Ralph init\n\nScaffold repo-local Ralph harness. Opt-in only.\n\n## Rules\n\n- Only create `scripts/ralph/` in the current repo.\n- If `scripts/ralph/` already exists, stop and ask the user to remove it first.\n- Copy templates from `templates/` into `scripts/ralph/`.\n- Copy `flowctl` and `flowctl.py` from `${CLAUDE_PLUGIN_ROOT}/scripts/` into `scripts/ralph/`.\n- Set executable bit on `scripts/ralph/ralph.sh`, `scripts/ralph/ralph_once.sh`, and `scripts/ralph/flowctl`.\n\n## Workflow\n\n1. Resolve repo root: `git rev-parse --show-toplevel`\n2. Check `scripts/ralph/` does not exist.\n3. Detect available review backends:\n   ```bash\n   HAVE_RP=$(which rp-cli >/dev/null 2>&1 && echo 1 || echo 0)\n   HAVE_CODEX=$(which codex >/dev/null 2>&1 && echo 1 || echo 0)\n   ```\n4. Determine review backend:\n   - If BOTH available, ask user (do NOT use AskUserQuestion tool):\n     ```\n     Both RepoPrompt and Codex available. Which review backend?\n     a) RepoPrompt (macOS, visual builder)\n     b) Codex CLI (cross-platform, GPT 5.2 High)\n\n     (Reply: \"a\", \"rp\", \"b\", \"codex\", or just tell me)\n     ```\n     Wait for response. Default if empty/ambiguous: `rp`\n   - If only rp-cli available: use `rp`\n   - If only codex available: use `codex`\n   - If neither available: use `none`\n5. Write `scripts/ralph/config.env` with:\n   - `PLAN_REVIEW=<chosen>` and `WORK_REVIEW=<chosen>`\n   - replace `{{PLAN_REVIEW}}` and `{{WORK_REVIEW}}` placeholders in the template\n6. Copy templates and flowctl files.\n7. Print next steps (run from terminal, NOT inside Claude Code):\n   - Edit `scripts/ralph/config.env` to customize settings\n   - `./scripts/ralph/ralph_once.sh` (one iteration, observe)\n   - `./scripts/ralph/ralph.sh` (full loop, AFK)\n   - Uninstall: `rm -rf scripts/ralph/`"
              },
              {
                "name": "flow-next-rp-explorer",
                "description": "Token-efficient codebase exploration using RepoPrompt CLI. Use when user says \"use rp to...\" or \"use repoprompt to...\" followed by explore, find, understand, search, or similar actions.",
                "path": "plugins/flow-next/skills/flow-next-rp-explorer/SKILL.md",
                "frontmatter": {
                  "name": "flow-next-rp-explorer",
                  "description": "Token-efficient codebase exploration using RepoPrompt CLI. Use when user says \"use rp to...\" or \"use repoprompt to...\" followed by explore, find, understand, search, or similar actions."
                },
                "content": "# RP-Explorer\n\nToken-efficient codebase exploration using RepoPrompt CLI.\n\n## Trigger Phrases\n\nActivates when user combines \"use rp\" or \"use repoprompt\" with an action:\n- \"use rp to explore how auth works\"\n- \"use repoprompt to find similar patterns\"\n- \"use rp to understand the data flow\"\n- \"use repoprompt to search for API endpoints\"\n\n## CLI Reference\n\nRead [cli-reference.md](cli-reference.md) for complete command documentation.\n\n## Quick Start\n\n### Step 1: Get Overview\n```bash\nrp-cli -e 'tree'\nrp-cli -e 'structure .'\n```\n\n### Step 2: Find Relevant Files\n```bash\nrp-cli -e 'search \"auth\" --context-lines 2'\nrp-cli -e 'builder \"understand authentication\"'\n```\n\n### Step 3: Deep Dive\n```bash\nrp-cli -e 'select set src/auth/'\nrp-cli -e 'structure --scope selected'\nrp-cli -e 'read src/auth/login.ts'\n```\n\n### Step 4: Export Context\n```bash\nrp-cli -e 'context --all > codebase-map.md'\n```\n\n## Token Efficiency\n\n- Use `structure` instead of reading full files (10x fewer tokens)\n- Use `builder` for AI-powered file discovery\n- Select only relevant files before exporting context\n\n## Tab Isolation\n\n`builder` creates an isolated compose tab automatically. Use `-t` to target it:\n```bash\n# Builder returns: Tab: <UUID> â€¢ <Name>\nrp-cli -w W -t \"<Name>\" -e 'select add extra.ts && context'\n\n# Or chain commands:\nrp-cli -w W -e 'builder \"find auth\" && select add extra.ts && context'\n```\n\n## Requirements\n\nRepoPrompt v1.5.62+ with rp-cli installed."
              },
              {
                "name": "flow-next-setup",
                "description": "Optional local install of flowctl CLI and CLAUDE.md/AGENTS.md instructions. Use when user runs /flow-next:setup.",
                "path": "plugins/flow-next/skills/flow-next-setup/SKILL.md",
                "frontmatter": {
                  "name": "flow-next-setup",
                  "description": "Optional local install of flowctl CLI and CLAUDE.md/AGENTS.md instructions. Use when user runs /flow-next:setup."
                },
                "content": "# Flow-Next Setup (Optional)\n\nInstall flowctl locally and add instructions to project docs. **Fully optional** - flow-next works without this via the plugin.\n\n## Benefits\n\n- `flowctl` accessible from command line (add `.flow/bin` to PATH)\n- Other AI agents (Codex, Cursor, etc.) can read instructions from CLAUDE.md/AGENTS.md\n- Works without Claude Code plugin installed\n\n## Workflow\n\nRead [workflow.md](workflow.md) and follow each step in order.\n\n## Notes\n\n- **Fully optional** - standard plugin usage works without local setup\n- Copies scripts (not symlinks) for portability across environments\n- Safe to re-run - will detect existing setup and offer to update"
              },
              {
                "name": "flow-next-work",
                "description": "Execute a Flow epic or task systematically with git setup, task tracking, quality checks, and commit workflow. Use when implementing a plan or working through a spec. Triggers on /flow-next:work with Flow IDs (fn-1, fn-1.2).",
                "path": "plugins/flow-next/skills/flow-next-work/SKILL.md",
                "frontmatter": {
                  "name": "flow-next-work",
                  "description": "Execute a Flow epic or task systematically with git setup, task tracking, quality checks, and commit workflow. Use when implementing a plan or working through a spec. Triggers on /flow-next:work with Flow IDs (fn-1, fn-1.2)."
                },
                "content": "# Flow work\n\nExecute a plan systematically. Focus on finishing.\n\nFollow this skill and linked workflows exactly. Deviations cause drift, bad gates, retries, and user frustration.\n\n**IMPORTANT**: This plugin uses `.flow/` for ALL task tracking. Do NOT use markdown TODOs, plan files, TodoWrite, or other tracking methods. All task state must be read and written via `flowctl`.\n\n**CRITICAL: flowctl is BUNDLED â€” NOT installed globally.** `which flowctl` will fail (expected). Always use:\n```bash\nFLOWCTL=\"${CLAUDE_PLUGIN_ROOT}/scripts/flowctl\"\n$FLOWCTL <command>\n```\n\n**Hard requirements (non-negotiable):**\n- You MUST run `flowctl done` for each completed task and verify the task status is `done`.\n- You MUST stage with `git add -A` (never list files). This ensures `.flow/` and `scripts/ralph/` (if present) are included.\n- Do NOT claim completion until `flowctl show <task>` reports `status: done`.\n- Do NOT invoke `/flow-next:impl-review` until tests/Quick commands are green.\n\n**Role**: execution lead, plan fidelity first.\n**Goal**: complete every task in order with tests.\n\n## Ralph Mode Rules (always follow)\n\nIf `REVIEW_RECEIPT_PATH` is set or `FLOW_RALPH=1`:\n- **Must** use `flowctl done` and verify task status is `done` before committing.\n- **Must** stage with `git add -A` (never list files).\n- **Do NOT** use TodoWrite for tracking.\n\n## Input\n\nFull request: $ARGUMENTS\n\nAccepts:\n- Flow epic ID `fn-N` to work through all tasks\n- Flow task ID `fn-N.M` to work on single task\n- Idea text (creates minimal epic + single task, then executes)\n- Chained instructions like \"then review with /flow-next:impl-review\"\n\nExamples:\n- `/flow-next:work fn-1`\n- `/flow-next:work fn-1.3`\n- `/flow-next:work Add rate limiting`\n- `/flow-next:work fn-1 then review via /flow-next:impl-review`\n\nIf no input provided, ask for it.\n\n## FIRST: Parse Options or Ask Questions\n\nCheck available backends and configured preference:\n```bash\nHAVE_RP=$(which rp-cli >/dev/null 2>&1 && echo 1 || echo 0)\nHAVE_CODEX=$(which codex >/dev/null 2>&1 && echo 1 || echo 0)\n\n# Check configured backend (priority: env > config)\nCONFIGURED_BACKEND=\"${FLOW_REVIEW_BACKEND:-}\"\nif [[ -z \"$CONFIGURED_BACKEND\" ]]; then\n  CONFIGURED_BACKEND=\"$($FLOWCTL config get review.backend 2>/dev/null | jq -r '.value // empty')\"\nfi\n```\n\n### Option Parsing (skip questions if found in arguments)\n\nParse the arguments for these patterns. If found, use them and skip corresponding questions:\n\n**Branch mode**:\n- `--branch=current` or `--current` or \"current branch\" or \"stay on this branch\" â†’ current branch\n- `--branch=new` or `--new-branch` or \"new branch\" or \"create branch\" â†’ new branch\n- `--branch=worktree` or `--worktree` or \"isolated worktree\" or \"worktree\" â†’ isolated worktree\n\n**Review mode**:\n- `--review=codex` or \"review with codex\" or \"codex review\" or \"use codex\" â†’ Codex CLI (GPT 5.2 High)\n- `--review=rp` or \"review with rp\" or \"rp chat\" or \"repoprompt review\" â†’ RepoPrompt chat (via `flowctl rp chat-send`)\n- `--review=export` or \"export review\" or \"external llm\" â†’ export for external LLM\n- `--review=none` or `--no-review` or \"no review\" or \"skip review\" â†’ no review\n\n### If options NOT found in arguments\n\n**Skip review question if**: Ralph mode (`FLOW_RALPH=1`) OR backend already configured (`CONFIGURED_BACKEND` not empty). In these cases, only ask branch question:\n\n```\nQuick setup: Where to work?\na) Current branch  b) New branch  c) Isolated worktree\n\n(Reply: \"a\", \"current\", or just tell me)\n```\n\n**Otherwise**, output questions based on available backends (do NOT use AskUserQuestion tool):\n\n**If both rp-cli AND codex available:**\n```\nQuick setup before starting:\n\n1. **Branch** â€” Where to work?\n   a) Current branch\n   b) New branch\n   c) Isolated worktree\n\n2. **Review** â€” Run Carmack-level review after?\n   a) Yes, Codex CLI (cross-platform, GPT 5.2 High)\n   b) Yes, RepoPrompt chat (macOS, visual builder)\n   c) Yes, export for external LLM (ChatGPT, Claude web)\n   d) No\n\n(Reply: \"1a 2a\", \"current branch, codex review\", or just tell me naturally)\n```\n\n**If only rp-cli available:**\n```\nQuick setup before starting:\n\n1. **Branch** â€” Where to work?\n   a) Current branch\n   b) New branch\n   c) Isolated worktree\n\n2. **Review** â€” Run Carmack-level review after?\n   a) Yes, RepoPrompt chat\n   b) Yes, export for external LLM\n   c) No\n\n(Reply: \"1a 2a\", \"current branch, export review\", or just tell me naturally)\n```\n\n**If only codex available:**\n```\nQuick setup before starting:\n\n1. **Branch** â€” Where to work?\n   a) Current branch\n   b) New branch\n   c) Isolated worktree\n\n2. **Review** â€” Run Carmack-level review after?\n   a) Yes, Codex CLI (GPT 5.2 High)\n   b) Yes, export for external LLM\n   c) No\n\n(Reply: \"1a 2a\", \"current branch, codex\", or just tell me naturally)\n```\n\n**If neither rp-cli nor codex available:**\n```\nQuick setup: Where to work?\na) Current branch  b) New branch  c) Isolated worktree\n\n(Reply: \"a\", \"current\", or just tell me)\n```\n\nWait for response. Parse naturally â€” user may reply terse or ramble via voice.\n\n**Defaults when empty/ambiguous:**\n- Branch = `new`\n- Review = configured backend if set, else `codex` if available, else `rp` if available, else `none`\n\n**Defaults when no review backend available:**\n- Branch = `new`\n- Review = `none`\n\n**Do NOT read files or write code until user responds.**\n\n## Workflow\n\nAfter setup questions answered, read [phases.md](phases.md) and execute each phase in order.\nIf user chose review:\n- Option 2a: run `/flow-next:impl-review` after Phase 6, fix issues until it passes\n- Option 2b: run `/flow-next:impl-review` with export mode after Phase 6\n\n## Guardrails\n\n- Don't start without asking branch question\n- Don't start without plan/epic\n- Don't skip tests\n- Don't leave tasks half-done\n- Never use TodoWrite for task tracking\n- Never create plan files outside `.flow/`"
              },
              {
                "name": "flow-next-worktree-kit",
                "description": "Manage git worktrees (create/list/switch/cleanup) and copy .env files. Use for parallel feature work, isolated review, clean workspace, or when user mentions worktrees.",
                "path": "plugins/flow-next/skills/flow-next-worktree-kit/SKILL.md",
                "frontmatter": {
                  "name": "flow-next-worktree-kit",
                  "description": "Manage git worktrees (create/list/switch/cleanup) and copy .env files. Use for parallel feature work, isolated review, clean workspace, or when user mentions worktrees."
                },
                "content": "# Worktree kit\n\nUse the manager script for all worktree actions.\n\n```bash\nbash ${CLAUDE_PLUGIN_ROOT}/skills/flow-next-worktree-kit/scripts/worktree.sh <command> [args]\n```\n\nCommands:\n- `create <name> [base]`\n- `list`\n- `switch <name>` (prints path)\n- `cleanup`\n- `copy-env <name>`\n\nSafety notes:\n- `create` does not change the current branch\n- `cleanup` does not force-remove worktrees and does not delete branches\n- `cleanup` deletes the worktree directory (including ignored files); removal fails if the worktree is not clean\n- `.env*` is copied with no overwrite (symlinks skipped)\n- refuses to operate if `.worktrees/` or any worktree path component is a symlink\n- `copy-env` only targets registered worktrees\n- `origin` fetch is optional; local base refs are allowed\n- fetch from `origin` only when base looks like a branch\n- Worktrees live under `.worktrees/`"
              },
              {
                "name": "flow-next",
                "description": "Manage .flow/ tasks and epics. Triggers: 'show me my tasks', 'list epics', 'what tasks are there', 'add a task', 'create task', 'what's ready', 'task status', 'show fn-1'. NOT for /flow-next:plan or /flow-next:work.",
                "path": "plugins/flow-next/skills/flow-next/SKILL.md",
                "frontmatter": {
                  "name": "flow-next",
                  "description": "Manage .flow/ tasks and epics. Triggers: 'show me my tasks', 'list epics', 'what tasks are there', 'add a task', 'create task', 'what's ready', 'task status', 'show fn-1'. NOT for /flow-next:plan or /flow-next:work."
                },
                "content": "# Flow-Next Task Management\n\nQuick task operations in `.flow/`. For planning features use `/flow-next:plan`, for executing use `/flow-next:work`.\n\n## Setup\n\n**CRITICAL: flowctl is BUNDLED â€” NOT installed globally.** `which flowctl` will fail (expected). Always use:\n\n```bash\nFLOWCTL=\"${CLAUDE_PLUGIN_ROOT}/scripts/flowctl\"\n```\n\nThen run commands with `$FLOWCTL <command>`.\n\n**Discover all commands/options:**\n```bash\n$FLOWCTL --help\n$FLOWCTL <command> --help   # e.g., $FLOWCTL task --help\n```\n\n## Quick Reference\n\n```bash\n# Check if .flow exists\n$FLOWCTL detect --json\n\n# Initialize (if needed)\n$FLOWCTL init --json\n\n# List everything (epics + tasks grouped)\n$FLOWCTL list --json\n\n# List all epics\n$FLOWCTL epics --json\n\n# List all tasks (or filter by epic/status)\n$FLOWCTL tasks --json\n$FLOWCTL tasks --epic fn-1 --json\n$FLOWCTL tasks --status todo --json\n\n# View epic with all tasks\n$FLOWCTL show fn-1 --json\n$FLOWCTL cat fn-1              # Spec markdown\n\n# View single task\n$FLOWCTL show fn-1.2 --json\n$FLOWCTL cat fn-1.2            # Task spec\n\n# What's ready to work on?\n$FLOWCTL ready --epic fn-1 --json\n\n# Create task under existing epic\n$FLOWCTL task create --epic fn-1 --title \"Fix bug X\" --json\n\n# Set task description (from file)\necho \"Description here\" > /tmp/desc.md\n$FLOWCTL task set-description fn-1.2 --file /tmp/desc.md --json\n\n# Set acceptance criteria (from file)\necho \"- [ ] Criterion 1\" > /tmp/accept.md\n$FLOWCTL task set-acceptance fn-1.2 --file /tmp/accept.md --json\n\n# Start working on task\n$FLOWCTL start fn-1.2 --json\n\n# Mark task done\necho \"What was done\" > /tmp/summary.md\necho '{\"commits\":[\"abc123\"],\"tests\":[\"npm test\"],\"prs\":[]}' > /tmp/evidence.json\n$FLOWCTL done fn-1.2 --summary-file /tmp/summary.md --evidence-json /tmp/evidence.json --json\n\n# Validate structure\n$FLOWCTL validate --epic fn-1 --json\n$FLOWCTL validate --all --json\n```\n\n## Common Patterns\n\n### \"Add a task for X\"\n\n1. Find relevant epic:\n   ```bash\n   # List all epics\n   $FLOWCTL epics --json\n\n   # Or show a specific epic to check its scope\n   $FLOWCTL show fn-1 --json\n   ```\n\n2. Create task:\n   ```bash\n   $FLOWCTL task create --epic fn-N --title \"Short title\" --json\n   ```\n\n3. Add description:\n   ```bash\n   cat > /tmp/desc.md << 'EOF'\n   **Bug/Feature:** Brief description\n\n   **Details:**\n   - Point 1\n   - Point 2\n   EOF\n   $FLOWCTL task set-description fn-N.M --file /tmp/desc.md --json\n   ```\n\n4. Add acceptance:\n   ```bash\n   cat > /tmp/accept.md << 'EOF'\n   - [ ] Criterion 1\n   - [ ] Criterion 2\n   EOF\n   $FLOWCTL task set-acceptance fn-N.M --file /tmp/accept.md --json\n   ```\n\n### \"What tasks are there?\"\n\n```bash\n# All epics\n$FLOWCTL epics --json\n\n# All tasks\n$FLOWCTL tasks --json\n\n# Tasks for specific epic\n$FLOWCTL tasks --epic fn-1 --json\n\n# Ready tasks for an epic\n$FLOWCTL ready --epic fn-1 --json\n```\n\n### \"Show me task X\"\n\n```bash\n$FLOWCTL show fn-1.2 --json   # Metadata\n$FLOWCTL cat fn-1.2           # Full spec\n```\n\n### Create new epic (rare - usually via /flow-next:plan)\n\n```bash\n$FLOWCTL epic create --title \"Epic title\" --json\n# Returns: {\"success\": true, \"id\": \"fn-N\", ...}\n```\n\n## ID Format\n\n- Epic: `fn-N` (e.g., `fn-1`, `fn-42`)\n- Task: `fn-N.M` (e.g., `fn-1.1`, `fn-42.7`)\n\n## Notes\n\n- Run `$FLOWCTL --help` to discover all commands and options\n- All writes go through flowctl (don't edit JSON/MD files directly)\n- `--json` flag gives machine-readable output\n- For complex planning/execution, use `/flow-next:plan` and `/flow-next:work`"
              }
            ]
          }
        ]
      }
    }
  ]
}