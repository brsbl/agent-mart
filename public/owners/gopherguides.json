{
  "owner": {
    "id": "gopherguides",
    "display_name": "Gopher Guides",
    "type": "Organization",
    "avatar_url": "https://avatars.githubusercontent.com/u/26574843?v=4",
    "url": "https://github.com/gopherguides",
    "bio": "Go Training / Golang Training",
    "stats": {
      "total_repos": 1,
      "total_plugins": 7,
      "total_commands": 27,
      "total_skills": 0,
      "total_stars": 2,
      "total_forks": 0
    }
  },
  "repos": [
    {
      "full_name": "gopherguides/gopher-ai",
      "url": "https://github.com/gopherguides/gopher-ai",
      "description": "Claude Code plugins for Go developers - by Gopher Guides",
      "homepage": null,
      "signals": {
        "stars": 2,
        "forks": 0,
        "pushed_at": "2026-01-11T22:43:18Z",
        "created_at": "2025-12-16T18:41:10Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 2178
        },
        {
          "path": ".github",
          "type": "tree",
          "size": null
        },
        {
          "path": ".github/workflows",
          "type": "tree",
          "size": null
        },
        {
          "path": ".github/workflows/check-shared-sync.yml",
          "type": "blob",
          "size": 278
        },
        {
          "path": ".gitignore",
          "type": "blob",
          "size": 53
        },
        {
          "path": "CLAUDE.md",
          "type": "blob",
          "size": 4406
        },
        {
          "path": "LICENSE",
          "type": "blob",
          "size": 1070
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 8908
        },
        {
          "path": "githooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "githooks/pre-commit",
          "type": "blob",
          "size": 1446
        },
        {
          "path": "plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/go-dev",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/go-dev/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/go-dev/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 430
        },
        {
          "path": "plugins/go-dev/README.md",
          "type": "blob",
          "size": 852
        },
        {
          "path": "plugins/go-dev/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/go-dev/commands/cancel-loop.md",
          "type": "blob",
          "size": 590
        },
        {
          "path": "plugins/go-dev/commands/explain.md",
          "type": "blob",
          "size": 4806
        },
        {
          "path": "plugins/go-dev/commands/lint-fix.md",
          "type": "blob",
          "size": 4733
        },
        {
          "path": "plugins/go-dev/commands/test-gen.md",
          "type": "blob",
          "size": 6470
        },
        {
          "path": "plugins/go-dev/lib",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/go-dev/lib/loop-state.sh",
          "type": "blob",
          "size": 1977
        },
        {
          "path": "plugins/go-dev/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/go-dev/scripts/cleanup-loop.sh",
          "type": "blob",
          "size": 1003
        },
        {
          "path": "plugins/go-dev/scripts/setup-loop.sh",
          "type": "blob",
          "size": 1540
        },
        {
          "path": "plugins/go-dev/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/go-dev/skills/go-best-practices",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/go-dev/skills/go-best-practices/SKILL.md",
          "type": "blob",
          "size": 4487
        },
        {
          "path": "plugins/go-web",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/go-web/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/go-web/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 491
        },
        {
          "path": "plugins/go-web/README.md",
          "type": "blob",
          "size": 1268
        },
        {
          "path": "plugins/go-web/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/go-web/commands/cancel-loop.md",
          "type": "blob",
          "size": 590
        },
        {
          "path": "plugins/go-web/commands/convert-to-go-project.md",
          "type": "blob",
          "size": 72208
        },
        {
          "path": "plugins/go-web/commands/create-go-project.md",
          "type": "blob",
          "size": 69779
        },
        {
          "path": "plugins/go-web/lib",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/go-web/lib/loop-state.sh",
          "type": "blob",
          "size": 1977
        },
        {
          "path": "plugins/go-web/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/go-web/scripts/cleanup-loop.sh",
          "type": "blob",
          "size": 1003
        },
        {
          "path": "plugins/go-web/scripts/setup-loop.sh",
          "type": "blob",
          "size": 1540
        },
        {
          "path": "plugins/go-web/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/go-web/skills/templui",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/go-web/skills/templui/SKILL.md",
          "type": "blob",
          "size": 11663
        },
        {
          "path": "plugins/go-workflow",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/go-workflow/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/go-workflow/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 432
        },
        {
          "path": "plugins/go-workflow/README.md",
          "type": "blob",
          "size": 1421
        },
        {
          "path": "plugins/go-workflow/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/go-workflow/commands/cancel-loop.md",
          "type": "blob",
          "size": 590
        },
        {
          "path": "plugins/go-workflow/commands/commit.md",
          "type": "blob",
          "size": 1301
        },
        {
          "path": "plugins/go-workflow/commands/create-worktree.md",
          "type": "blob",
          "size": 5097
        },
        {
          "path": "plugins/go-workflow/commands/prune-worktree.md",
          "type": "blob",
          "size": 2976
        },
        {
          "path": "plugins/go-workflow/commands/remove-worktree.md",
          "type": "blob",
          "size": 5469
        },
        {
          "path": "plugins/go-workflow/commands/start-issue.md",
          "type": "blob",
          "size": 8521
        },
        {
          "path": "plugins/go-workflow/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/go-workflow/hooks/hooks.json",
          "type": "blob",
          "size": 258
        },
        {
          "path": "plugins/go-workflow/hooks/stop-hook.sh",
          "type": "blob",
          "size": 3450
        },
        {
          "path": "plugins/go-workflow/lib",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/go-workflow/lib/loop-state.sh",
          "type": "blob",
          "size": 1977
        },
        {
          "path": "plugins/go-workflow/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/go-workflow/scripts/cleanup-loop.sh",
          "type": "blob",
          "size": 1003
        },
        {
          "path": "plugins/go-workflow/scripts/setup-loop.sh",
          "type": "blob",
          "size": 1540
        },
        {
          "path": "plugins/gopher-guides",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/gopher-guides/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/gopher-guides/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 661
        },
        {
          "path": "plugins/gopher-guides/README.md",
          "type": "blob",
          "size": 1059
        },
        {
          "path": "plugins/gopher-guides/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/gopher-guides/skills/gopher-guides",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/gopher-guides/skills/gopher-guides/SKILL.md",
          "type": "blob",
          "size": 2729
        },
        {
          "path": "plugins/llm-tools",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/llm-tools/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/llm-tools/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 468
        },
        {
          "path": "plugins/llm-tools/README.md",
          "type": "blob",
          "size": 1185
        },
        {
          "path": "plugins/llm-tools/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/llm-tools/commands/codex.md",
          "type": "blob",
          "size": 5873
        },
        {
          "path": "plugins/llm-tools/commands/convert.md",
          "type": "blob",
          "size": 5869
        },
        {
          "path": "plugins/llm-tools/commands/gemini.md",
          "type": "blob",
          "size": 3627
        },
        {
          "path": "plugins/llm-tools/commands/llm-compare.md",
          "type": "blob",
          "size": 5456
        },
        {
          "path": "plugins/llm-tools/commands/ollama.md",
          "type": "blob",
          "size": 4660
        },
        {
          "path": "plugins/llm-tools/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/llm-tools/skills/second-opinion",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/llm-tools/skills/second-opinion/SKILL.md",
          "type": "blob",
          "size": 4909
        },
        {
          "path": "plugins/productivity",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/productivity/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/productivity/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 441
        },
        {
          "path": "plugins/productivity/README.md",
          "type": "blob",
          "size": 822
        },
        {
          "path": "plugins/productivity/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/productivity/commands/changelog.md",
          "type": "blob",
          "size": 4179
        },
        {
          "path": "plugins/productivity/commands/release.md",
          "type": "blob",
          "size": 3333
        },
        {
          "path": "plugins/productivity/commands/standup.md",
          "type": "blob",
          "size": 4048
        },
        {
          "path": "plugins/productivity/commands/weekly-summary.md",
          "type": "blob",
          "size": 4158
        },
        {
          "path": "plugins/tailwind",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/tailwind/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/tailwind/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 621
        },
        {
          "path": "plugins/tailwind/README.md",
          "type": "blob",
          "size": 3469
        },
        {
          "path": "plugins/tailwind/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/tailwind/commands/audit.md",
          "type": "blob",
          "size": 8812
        },
        {
          "path": "plugins/tailwind/commands/cancel-loop.md",
          "type": "blob",
          "size": 590
        },
        {
          "path": "plugins/tailwind/commands/init.md",
          "type": "blob",
          "size": 7918
        },
        {
          "path": "plugins/tailwind/commands/migrate.md",
          "type": "blob",
          "size": 9715
        },
        {
          "path": "plugins/tailwind/commands/optimize.md",
          "type": "blob",
          "size": 8280
        },
        {
          "path": "plugins/tailwind/lib",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/tailwind/lib/loop-state.sh",
          "type": "blob",
          "size": 1977
        },
        {
          "path": "plugins/tailwind/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/tailwind/scripts/cleanup-loop.sh",
          "type": "blob",
          "size": 1003
        },
        {
          "path": "plugins/tailwind/scripts/setup-loop.sh",
          "type": "blob",
          "size": 1540
        },
        {
          "path": "plugins/tailwind/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/tailwind/skills/tailwind-best-practices",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/tailwind/skills/tailwind-best-practices/SKILL.md",
          "type": "blob",
          "size": 12413
        },
        {
          "path": "scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "scripts/check-shared-sync.sh",
          "type": "blob",
          "size": 2787
        },
        {
          "path": "scripts/install-hooks.sh",
          "type": "blob",
          "size": 1042
        },
        {
          "path": "scripts/refresh-plugins.sh",
          "type": "blob",
          "size": 2952
        },
        {
          "path": "scripts/sync-shared.sh",
          "type": "blob",
          "size": 2214
        },
        {
          "path": "shared",
          "type": "tree",
          "size": null
        },
        {
          "path": "shared/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "shared/commands/cancel-loop.md",
          "type": "blob",
          "size": 590
        },
        {
          "path": "shared/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "shared/hooks/stop-hook.sh",
          "type": "blob",
          "size": 3450
        },
        {
          "path": "shared/lib",
          "type": "tree",
          "size": null
        },
        {
          "path": "shared/lib/loop-state.sh",
          "type": "blob",
          "size": 1977
        },
        {
          "path": "shared/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "shared/scripts/cleanup-loop.sh",
          "type": "blob",
          "size": 1003
        },
        {
          "path": "shared/scripts/setup-loop.sh",
          "type": "blob",
          "size": 1540
        }
      ],
      "marketplace": {
        "name": "gopher-ai",
        "version": null,
        "description": null,
        "owner_info": {
          "name": "Gopher Guides",
          "email": "support@gopherguides.com"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "go-workflow",
            "description": "Issue-to-PR workflow automation with worktree management",
            "source": "./plugins/go-workflow",
            "category": null,
            "version": "1.1.0",
            "author": null,
            "install_commands": [
              "/plugin marketplace add gopherguides/gopher-ai",
              "/plugin install go-workflow@gopher-ai"
            ],
            "signals": {
              "stars": 2,
              "forks": 0,
              "pushed_at": "2026-01-11T22:43:18Z",
              "created_at": "2025-12-16T18:41:10Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/cancel-loop",
                "description": "Cancel any active persistent loop",
                "path": "plugins/go-workflow/commands/cancel-loop.md",
                "frontmatter": {
                  "argument-hint": "[loop-name]",
                  "description": "Cancel any active persistent loop",
                  "allowed-tools": [
                    "Bash"
                  ]
                },
                "content": "# Cancel Loop\n\nCancel the currently active persistent loop and allow normal session behavior.\n\n**Usage:**\n- `/cancel-loop` - Cancel all active loops\n- `/cancel-loop <name>` - Cancel a specific loop by name\n\n## Execute Cancellation\n\n!`\"${CLAUDE_PLUGIN_ROOT}/scripts/cleanup-loop.sh\" \"$ARGUMENTS\"`\n\n## Result\n\nThe loop has been cancelled. You can now exit the session normally or start a new task.\n\nIf you want to restart the previous task, you can run the original command again."
              },
              {
                "name": "/commit",
                "description": "Create a git commit with auto-generated message",
                "path": "plugins/go-workflow/commands/commit.md",
                "frontmatter": {
                  "description": "Create a git commit with auto-generated message",
                  "allowed-tools": [
                    "Bash(git add:*)",
                    "Bash(git status:*)",
                    "Bash(git commit:*)",
                    "Bash(git diff:*)",
                    "Bash(git log:*)"
                  ],
                  "model": "haiku"
                },
                "content": "# Create Git Commit\n\n## Context\n\n- Current git status: !`git status`\n- Current git diff (staged and unstaged changes): !`git diff HEAD`\n- Current branch: !`git branch --show-current`\n- Recent commits (for style matching): !`git log --oneline -10`\n\n## Your Task\n\nBased on the above changes, create a single git commit.\n\n**Guidelines:**\n\n1. **Analyze the changes** - Understand what was modified, added, or deleted\n2. **Match repository style** - Follow the commit message patterns from recent commits\n3. **Use conventional commits** if the repo uses them: `type(scope): subject`\n   - Types: feat, fix, docs, style, refactor, test, chore, perf\n4. **Keep subject line ≤50 chars**, imperative mood (\"add\" not \"added\")\n5. **Stage only relevant files** - Don't stage secrets (.env, credentials, etc.)\n\n**Execution:**\n\nYou have the capability to call multiple tools in a single response. Stage relevant files and create the commit in a single message.\n\nDo not include Claude Code attribution in the commit message (user can add if desired).\n\nIf there are no changes to commit, inform the user and stop."
              },
              {
                "name": "/create-worktree",
                "description": "Create a new git worktree for a GitHub issue",
                "path": "plugins/go-workflow/commands/create-worktree.md",
                "frontmatter": {
                  "argument-hint": "<issue-number>",
                  "description": "Create a new git worktree for a GitHub issue",
                  "allowed-tools": [
                    "Bash(git:*)",
                    "Bash(gh:*)",
                    "Bash(pwd:*)",
                    "Bash(echo:*)",
                    "Bash(cp:*)",
                    "Bash(basename:*)",
                    "Bash(for:*)",
                    "Bash(if:*)",
                    "Read",
                    "AskUserQuestion"
                  ],
                  "model": "haiku"
                },
                "content": "# Create Worktree for Issue\n\n**If `$ARGUMENTS` is empty or not provided:**\n\nDisplay usage information and ask for input:\n\nThis command creates an isolated git worktree for working on a GitHub issue.\n\n**Usage:** `/create-worktree <issue-number>`\n\n**Example:** `/create-worktree 789`\n\n**What it does:**\n\n1. Creates a new worktree directory (e.g., `../reponame-issue-789-feature-name/`)\n2. Checks out from the default branch (main/dev/master)\n3. Creates a feature branch for the issue\n4. Copies LLM config directories (`.claude`, `.codex`, `.gemini`, `.cursor`)\n5. Optionally copies environment files (`.env`, `.envrc`) if you confirm\n\n**Prerequisites:**\n\n- GitHub CLI (`gh`) authenticated\n- Must be run from within a git repository\n\nAsk the user: \"What issue number would you like to start working on?\"\n\n---\n\n**If `$ARGUMENTS` is provided:**\n\nCreate a new git worktree for GitHub issue #$ARGUMENTS\n\n## Context\n\n- Current directory: !`pwd`\n- Repository name: !`basename $(git rev-parse --show-toplevel)`\n- Default branch: !`git remote show origin | grep 'HEAD branch' | sed 's/.*: //'`\n- Issue details: !`gh issue view \"$ARGUMENTS\" --json title,state,number 2>/dev/null || echo \"Issue not found\"`\n- Existing worktrees: !`git worktree list`\n\n## Steps\n\n**CRITICAL: When executing bash commands below, use backticks (\\`) for command substitution, NOT $(). Claude Code has a bug that mangles $() syntax into broken commands. Copy the commands exactly as written.**\n\n1. **Validate input is numeric** (security: prevent command injection)\n   !if ! echo \"$ARGUMENTS\" | grep -qE '^[0-9]+$'; then echo \"Error: Issue number must be numeric\"; exit 1; fi\n\n2. **Capture source directory** (must be done first, before any cd operations)\n   !SOURCE_DIR=`pwd`\n   !echo \"Source directory: $SOURCE_DIR\"\n\n3. **Fetch issue details from GitHub**\n   !gh issue view \"$ARGUMENTS\" --json title,state,number\n\n4. **Validate issue exists and is open**\n   !if ! gh issue view \"$ARGUMENTS\" >/dev/null 2>&1; then echo \"Error: Issue #$ARGUMENTS not found\"; exit 1; fi\n   !if [ \"`gh issue view \"$ARGUMENTS\" --json state --jq '.state'`\" = \"CLOSED\" ]; then echo \"Warning: Issue #$ARGUMENTS is already closed\"; fi\n\n5. **Detect the default branch**\n   !DEFAULT_BRANCH=`git remote show origin | grep 'HEAD branch' | sed 's/.*: //' | tr -cd '[:alnum:]-._/'`\n   !if [ -z \"$DEFAULT_BRANCH\" ]; then echo \"Error: Could not determine default branch\"; exit 1; fi\n   !echo \"Default branch: $DEFAULT_BRANCH\"\n\n6. **Create worktree directory name**\n   !REPO_NAME=`basename \\`git rev-parse --show-toplevel\\``\n   !ISSUE_TITLE=`gh issue view \"$ARGUMENTS\" --json title --jq '.title' | sed 's/[^a-zA-Z0-9-]/-/g' | tr '[:upper:]' '[:lower:]' | sed 's/--*/-/g' | sed 's/^-//' | sed 's/-$//'`\n   !WORKTREE_NAME=\"${REPO_NAME}-issue-$ARGUMENTS-$ISSUE_TITLE\"\n   !WORKTREE_PATH=\"../$WORKTREE_NAME\"\n   !BRANCH_NAME=\"issue-$ARGUMENTS-$ISSUE_TITLE\"\n\n7. **Fetch latest default branch**\n   !git fetch origin \"$DEFAULT_BRANCH\"\n\n8. **Delete existing branch if it exists** (from previous failed attempts)\n   !git branch -D \"$BRANCH_NAME\" 2>/dev/null || true\n\n9. **Create worktree from default branch** (also checks if path exists)\n   !if ! git worktree add \"$WORKTREE_PATH\" \"origin/$DEFAULT_BRANCH\"; then echo \"Error: Failed to create worktree (may already exist)\"; exit 1; fi\n\n10. **Switch to new worktree and create feature branch**\n    !cd \"$WORKTREE_PATH\" && git checkout -b \"$BRANCH_NAME\"\n\n11. **Copy LLM config directories to new worktree** (using -P to prevent symlink attacks)\n    !for dir in .claude .codex .gemini .cursor; do if [ -d \"$SOURCE_DIR/$dir\" ] && [ ! -L \"$SOURCE_DIR/$dir\" ]; then cp -rP \"$SOURCE_DIR/$dir\" \"$WORKTREE_PATH/\" && echo \"Copied $dir\"; fi; done\n\n12. **Check for environment files**\n    !ENV_FILES=\"\"\n    !if [ -f \"$SOURCE_DIR/.env\" ]; then ENV_FILES=\"$ENV_FILES .env\"; fi\n    !if [ -f \"$SOURCE_DIR/.envrc\" ]; then ENV_FILES=\"$ENV_FILES .envrc\"; fi\n    !echo \"ENV_FILES=$ENV_FILES\"\n\n    **If environment files were found**, use AskUserQuestion to ask:\n    \"Found environment files ($ENV_FILES). Copy them to the new worktree? (These may contain secrets)\"\n    - Options: \"Yes, copy them\" / \"No, skip\"\n\n    If user confirms, copy the files (using -P to prevent symlink attacks):\n    !for file in $ENV_FILES; do if [ -f \"$SOURCE_DIR/$file\" ] && [ ! -L \"$SOURCE_DIR/$file\" ]; then cp -P \"$SOURCE_DIR/$file\" \"$WORKTREE_PATH/\" && echo \"Copied $file\"; fi; done\n\n13. **Display success message**\n    !echo \"Created worktree for issue #$ARGUMENTS\"\n    !echo \"Path: $WORKTREE_PATH\"\n    !echo \"Branch: $BRANCH_NAME\"\n    !echo \"To switch: cd $WORKTREE_PATH\"\n\n## Next Steps\n\n- Change to the new worktree directory: `cd $WORKTREE_PATH`\n- Start working on issue #$ARGUMENTS\n- When done, use `/prune-worktree` to clean up or `/remove-worktree` to remove a specific worktree"
              },
              {
                "name": "/prune-worktree",
                "description": "Batch cleanup of all completed issue worktrees",
                "path": "plugins/go-workflow/commands/prune-worktree.md",
                "frontmatter": {
                  "description": "Batch cleanup of all completed issue worktrees",
                  "allowed-tools": [
                    "Bash(git:*)",
                    "Bash(gh:*)",
                    "Bash(echo:*)",
                    "Bash(basename:*)",
                    "Bash(grep:*)",
                    "Read",
                    "AskUserQuestion"
                  ],
                  "model": "haiku"
                },
                "content": "# Prune Issue Worktrees\n\nThis command safely removes worktrees for completed GitHub issues.\n\n**What it does:**\n\n1. Scans for worktrees matching the `{reponame}-issue-*` pattern\n2. Checks each associated GitHub issue status\n3. Verifies branches are merged into the default branch\n4. Removes worktrees for closed/merged issues\n5. Cleans up local branches\n\n**Safety checks:**\n\n- Only removes closed issues with merged PRs\n- Warns about uncommitted changes\n- Provides manual commands for edge cases\n\n**Usage:** `/prune-worktree` (no arguments needed)\n\n## Context\n\n- Repository name: !`basename $(git rev-parse --show-toplevel)`\n- Default branch: !`git remote show origin | grep 'HEAD branch' | sed 's/.*: //'`\n- All worktrees: !`git worktree list`\n- Issue worktrees: !`git worktree list | grep -E \"issue-[0-9]+\" || echo \"No issue worktrees found\"`\n\n---\n\n## Scan and Cleanup\n\n**CRITICAL: When executing bash commands below, use backticks (\\`) for command substitution, NOT $(). Claude Code has a bug that mangles $() syntax into broken commands.**\n\n**CRITICAL: Before removing any worktree, first cd to the main repository directory.** This prevents CWD invalidation errors if running from a worktree that will be removed:\n\n!cd `git worktree list | head -1 | awk '{print $1}'`\n\nFirst, get the repository name:\n\n!REPO_NAME=`basename \\`git rev-parse --show-toplevel\\``\n!echo \"Repository: $REPO_NAME\"\n\nList all worktrees:\n\n!git worktree list\n\nFor each worktree matching the `{REPO_NAME}-issue-*` pattern:\n\n1. Extract issue number from directory name using: `grep -oE '[0-9]+'`\n2. **Validate issue number is numeric** (security: prevent command injection)\n3. Check GitHub issue status: `gh issue view \"$ISSUE_NUM\" --json state`\n4. Check if branch is merged: `git branch --merged \"$DEFAULT_BRANCH\" | grep -F \"$BRANCH_NAME\"`\n5. If issue is closed AND branch is merged, offer to remove\n\n**Security note:** Always validate extracted issue numbers are numeric before using in gh commands, and quote all variables in shell commands.\n\n## Safety Features\n\n- **Changes to main repo before removing worktrees** (prevents CWD errors if running from a worktree being removed)\n- Only processes worktrees following issue naming convention\n- Verifies GitHub issue exists and is closed\n- Confirms branch is merged into dev branch\n- Checks for uncommitted changes\n- Requires user confirmation before deletion\n- Offers optional branch cleanup\n\n## Manual Cleanup Commands\n\n**IMPORTANT**: When showing cleanup for closed but unmerged issues, display these commands:\n\n```bash\ngit worktree remove \"/path/to/worktree\"\ngit branch -D \"branch-name\"\n```\n\n## Manual Override\n\nIf you need to force remove a worktree:\n\n```bash\ngit worktree remove <path> --force\ngit branch -D <branch-name>  # if needed\n```"
              },
              {
                "name": "/remove-worktree",
                "description": "Interactively select and remove a git worktree",
                "path": "plugins/go-workflow/commands/remove-worktree.md",
                "frontmatter": {
                  "description": "Interactively select and remove a git worktree",
                  "allowed-tools": [
                    "Bash(git:*)",
                    "Bash(gh:*)",
                    "Bash(echo:*)",
                    "Bash(cd:*)",
                    "Bash(grep:*)",
                    "Bash(cat:*)",
                    "Read",
                    "AskUserQuestion"
                  ],
                  "model": "haiku"
                },
                "content": "# Remove Worktree\n\nThis command interactively removes a single git worktree. Unlike `/prune-worktree` which auto-removes all safe worktrees, this command lets you select a specific worktree and handles cases where the issue isn't closed or branch isn't merged.\n\n**Usage:** `/remove-worktree` (no arguments - interactive selection)\n\n## Context\n\n- Repository name: !`basename $(git rev-parse --show-toplevel)`\n- Default branch: !`git remote show origin | grep 'HEAD branch' | sed 's/.*: //'`\n- All worktrees: !`git worktree list`\n- Issue worktrees: !`git worktree list | grep -E \"issue-[0-9]+\" || echo \"No issue worktrees found\"`\n\n---\n\n## Steps\n\n**CRITICAL: When executing bash commands below, use backticks (\\`) for command substitution, NOT $(). Claude Code has a bug that mangles $() syntax into broken commands. Copy the commands exactly as written.**\n\n### 1. Get Repository Info\n\n!REPO_NAME=`basename \\`git rev-parse --show-toplevel\\``\n!echo \"Repository: $REPO_NAME\"\n\n### 2. List All Issue Worktrees\n\n!echo \"Scanning for issue worktrees...\"\n!git worktree list\n\nFilter for worktrees matching the `{REPO_NAME}-issue-*` pattern and display them as a numbered list.\n\n!git worktree list | grep -E \"/${REPO_NAME}-issue-[0-9]+\" | cat -n\n\nIf no issue worktrees are found, inform the user and stop:\n\"No issue worktrees found matching the pattern '{REPO_NAME}-issue-*'\"\n\n### 3. Ask User to Select Worktree\n\nUse AskUserQuestion to ask: \"Which worktree would you like to remove? Enter the number from the list above, or the full path.\"\n\nStore the selected worktree path and extract:\n- `WORKTREE_PATH`: The full path to the worktree\n- `BRANCH_NAME`: The branch associated with the worktree\n- `ISSUE_NUM`: The issue number extracted from the directory name\n\nTo extract issue number from path:\n!ISSUE_NUM=`echo \"$WORKTREE_PATH\" | grep -oE 'issue-[0-9]+' | grep -oE '[0-9]+'`\n!echo \"Issue number: $ISSUE_NUM\"\n\nTo get branch name:\n!BRANCH_NAME=`git worktree list --porcelain | grep -A2 \"worktree $WORKTREE_PATH\" | grep \"branch\" | sed 's/branch refs\\/heads\\///'`\n!echo \"Branch: $BRANCH_NAME\"\n\n### 4. Check Worktree Status\n\n#### Check for uncommitted changes\n!cd \"$WORKTREE_PATH\" && git status --porcelain\n\nIf there are uncommitted changes, warn the user immediately.\n\n#### Validate issue number is numeric (security check)\n!if ! echo \"$ISSUE_NUM\" | grep -qE '^[0-9]+$'; then echo \"Error: Could not extract valid issue number\"; exit 1; fi\n\n#### Check GitHub issue status\n!gh issue view \"$ISSUE_NUM\" --json state,title --jq '\"\\(.state): \\(.title)\"'\n\n#### Detect default branch and check if merged\n!DEFAULT_BRANCH=`git remote show origin | grep 'HEAD branch' | sed 's/.*: //' | tr -cd '[:alnum:]-._/'`\n!if [ -z \"$DEFAULT_BRANCH\" ]; then echo \"Error: Could not determine default branch\"; exit 1; fi\n!echo \"Default branch: $DEFAULT_BRANCH\"\n!git fetch origin \"$DEFAULT_BRANCH\" --quiet\n!MERGED=`git branch --merged \"origin/$DEFAULT_BRANCH\" | grep -F \"$BRANCH_NAME\" || echo \"\"`\n\n### 5. Determine Safety and Proceed\n\nEvaluate the status:\n- `ISSUE_CLOSED`: true if GitHub issue state is \"CLOSED\"\n- `BRANCH_MERGED`: true if branch appears in merged branches\n- `HAS_CHANGES`: true if uncommitted changes exist\n\n#### If SAFE (issue closed AND branch merged AND no uncommitted changes):\n\nDisplay: \"This worktree is safe to remove:\"\n- Issue #$ISSUE_NUM is closed\n- Branch '$BRANCH_NAME' is merged into $DEFAULT_BRANCH\n- No uncommitted changes\n\nUse AskUserQuestion: \"Remove this worktree?\"\n- Options: \"Yes, remove it\" / \"No, cancel\"\n\nIf confirmed:\n!git worktree remove \"$WORKTREE_PATH\"\n!echo \"Worktree removed: $WORKTREE_PATH\"\n\nAsk: \"Also delete the local branch '$BRANCH_NAME'?\"\n- Options: \"Yes, delete branch\" / \"No, keep branch\"\n\nIf confirmed:\n!git branch -d \"$BRANCH_NAME\"\n\n#### If NOT SAFE (issue open OR branch not merged OR has uncommitted changes):\n\nDisplay a prominent warning:\n\n```\n⚠️  WARNING: This worktree may contain unfinished work!\n\nStatus:\n- Issue #$ISSUE_NUM: [OPEN/CLOSED]\n- Branch merged: [YES/NO]\n- Uncommitted changes: [YES/NO]\n\nRemoving this worktree could result in PERMANENT DATA LOSS.\nThis action cannot be undone.\n```\n\nUse AskUserQuestion with a serious tone:\n\"Are you SURE you want to force-remove this worktree? This may delete unfinished work.\"\n- Options:\n  - \"Yes, I understand the consequences - force remove\"\n  - \"No, cancel and keep the worktree\"\n\n**Only if user explicitly confirms force removal:**\n\n!git worktree remove \"$WORKTREE_PATH\" --force\n!echo \"Worktree force-removed: $WORKTREE_PATH\"\n\nAsk: \"Also delete the local branch '$BRANCH_NAME'? (Use -D to force delete unmerged branch)\"\n- Options: \"Yes, force delete branch\" / \"No, keep branch\"\n\nIf confirmed:\n!git branch -D \"$BRANCH_NAME\"\n\n### 6. Completion\n\nDisplay final status:\n!echo \"Done.\"\n!git worktree list\n\n---\n\n## Why Use This vs /prune-worktree?\n\n| Command | Use Case |\n|---------|----------|\n| `/prune-worktree` | Batch cleanup of all completed (closed + merged) worktrees |\n| `/remove-worktree` | Remove a specific worktree, including abandoned/unfinished ones |\n\nUse `/remove-worktree` when:\n- You abandoned work on an issue and want to clean up\n- The issue was closed without merging (won't fix, duplicate, etc.)\n- You need to remove a specific worktree without affecting others"
              },
              {
                "name": "/start-issue",
                "description": "Start working on a GitHub issue (auto-detects bug vs feature)",
                "path": "plugins/go-workflow/commands/start-issue.md",
                "frontmatter": {
                  "argument-hint": "<issue-number>",
                  "description": "Start working on a GitHub issue (auto-detects bug vs feature)",
                  "model": "claude-opus-4-5-20251101",
                  "allowed-tools": [
                    "Bash",
                    "Read",
                    "Glob",
                    "Grep",
                    "Edit",
                    "Write",
                    "AskUserQuestion"
                  ]
                },
                "content": "# Start Issue\n\n**If `$ARGUMENTS` is empty or not provided:**\n\nDisplay usage information and ask for input:\n\nThis command starts work on a GitHub issue, automatically detecting whether it's a bug fix or new feature and following the appropriate workflow.\n\n**Usage:** `/start-issue <issue-number>`\n\n**Example:** `/start-issue 123`\n\n**Workflow:**\n\n1. Fetch issue details, labels, and comments\n2. Optionally create a git worktree for isolated work\n3. Auto-detect issue type (bug vs feature)\n4. For bugs: Check duplicates → TDD workflow → `fix/` branch\n5. For features: Plan approach → Implement → `feat/` branch\n6. Write tests, verify, and create PR\n\nAsk the user: \"What issue number would you like to work on?\"\n\n---\n\n**If `$ARGUMENTS` is provided:**\n\n## Security Validation\n\nFirst, validate input is numeric (prevent command injection):\n!if ! echo \"$ARGUMENTS\" | grep -qE '^[0-9]+$'; then echo \"Error: Issue number must be numeric\"; exit 1; fi\n\n## Loop Initialization\n\nInitialize persistent loop to ensure work continues until complete:\n!`\"${CLAUDE_PLUGIN_ROOT}/scripts/setup-loop.sh\" \"start-issue-$ARGUMENTS\" \"COMPLETE\"`\n\n## Context\n\n- Issue details: !`gh issue view \"$ARGUMENTS\" --json title,state,body,labels,comments 2>/dev/null || echo \"Issue not found\"`\n- Current branch: !`git branch --show-current`\n- Default branch: !`git remote show origin | grep 'HEAD branch' | sed 's/.*: //'`\n- Repository name: !`basename $(git rev-parse --show-toplevel)`\n- Existing worktrees: !`git worktree list`\n\n---\n\n## Step 0: Worktree Setup (Optional)\n\nAsk the user if they want to work in an isolated worktree:\n\n\"Would you like to create a worktree for isolated work on this issue?\"\n\n| Option | Description |\n|--------|-------------|\n| Yes, create worktree | Create isolated worktree and switch to it |\n| No, work in current directory | Stay here and create a branch |\n\n**If user chooses worktree:**\n\n**CRITICAL: When executing bash commands below, use backticks (\\`) for command substitution, NOT $(). Claude Code has a bug that mangles $() syntax.**\n\n1. **Capture source directory first**\n   ```bash\n   SOURCE_DIR=`pwd`\n   ```\n\n2. **Create worktree directory name**\n   ```bash\n   REPO_NAME=`basename \\`git rev-parse --show-toplevel\\``\n   ISSUE_TITLE=`gh issue view \"$ARGUMENTS\" --json title --jq '.title' | sed 's/[^a-zA-Z0-9-]/-/g' | tr '[:upper:]' '[:lower:]' | sed 's/--*/-/g' | sed 's/^-//' | sed 's/-$//'`\n   WORKTREE_NAME=\"${REPO_NAME}-issue-$ARGUMENTS-$ISSUE_TITLE\"\n   WORKTREE_PATH=\"../$WORKTREE_NAME\"\n   BRANCH_NAME=\"issue-$ARGUMENTS-$ISSUE_TITLE\"\n   ```\n\n3. **Fetch and create worktree**\n   ```bash\n   DEFAULT_BRANCH=`git remote show origin | grep 'HEAD branch' | sed 's/.*: //' | tr -cd '[:alnum:]-._/'`\n   git fetch origin \"$DEFAULT_BRANCH\"\n   git branch -D \"$BRANCH_NAME\" 2>/dev/null || true\n   git worktree add \"$WORKTREE_PATH\" \"origin/$DEFAULT_BRANCH\"\n   cd \"$WORKTREE_PATH\" && git checkout -b \"$BRANCH_NAME\"\n   ```\n\n4. **Copy LLM config directories** (using -rP to prevent symlink attacks)\n   ```bash\n   for dir in .claude .codex .gemini .cursor; do\n     if [ -d \"$SOURCE_DIR/$dir\" ] && [ ! -L \"$SOURCE_DIR/$dir\" ]; then\n       cp -rP \"$SOURCE_DIR/$dir\" \"$WORKTREE_PATH/\"\n     fi\n   done\n   ```\n\n5. **CRITICAL: Copy loop state files to worktree**\n   This ensures the persistent loop continues working in the worktree:\n   ```bash\n   # Copy loop state files - REQUIRED for persistent loop to work\n   for loopfile in \"$SOURCE_DIR\"/.claude/*.loop.local.md; do\n     if [ -f \"$loopfile\" ]; then\n       cp \"$loopfile\" \"$WORKTREE_PATH/.claude/\"\n       echo \"Copied loop state: $(basename \"$loopfile\")\"\n     fi\n   done\n   ```\n\n6. **Check for environment files** and ask user before copying:\n   - If `.env` or `.envrc` exist, ask: \"Found environment files. Copy them? (They may contain secrets)\"\n   - If user confirms, copy them\n\n7. **Inform user**: \"Created worktree at $WORKTREE_PATH. Continuing with issue workflow...\"\n\n**Note:** When using a worktree, the branch is already created as `issue-<num>-<title>`. Skip the \"Create Branch\" step in the workflows below.\n\n---\n\n## Step 1: Detect Issue Type\n\nAnalyze the issue to determine if it's a **bug fix** or **new feature**:\n\n**Check labels first** (most reliable):\n- Bug indicators: `bug`, `fix`, `defect`, `error`, `regression`, `crash`\n- Feature indicators: `enhancement`, `feature`, `feat`, `new`, `improvement`, `request`\n\n**If no clear labels, analyze title and body:**\n- Bug patterns: \"fix\", \"broken\", \"error\", \"fail\", \"crash\", \"doesn't work\", \"issue with\", \"problem\", \"bug\", \"regression\", \"incorrect\"\n- Feature patterns: \"add\", \"implement\", \"create\", \"new\", \"support\", \"enable\", \"allow\", \"introduce\", \"enhance\"\n\n**If still uncertain**, ask the user:\n\n\"I couldn't determine if this is a bug fix or new feature. Which workflow should I follow?\"\n\n| Option | Description |\n|--------|-------------|\n| Bug Fix | TDD approach: write failing test first, then fix |\n| New Feature | Implementation approach: build feature, then add tests |\n\n---\n\n## Bug Fix Workflow\n\nIf issue is a **bug**, follow this workflow:\n\n### 1. Check for Duplicates\n\nSearch for related issues before starting work:\n\n```bash\ngh issue list --state all --limit 50 --search \"<key terms from title/body>\"\n```\n\n**If potential duplicates found**, present them:\n\n| Issue | State | Title |\n|-------|-------|-------|\n| #NNN | open/closed | Issue title |\n\nAsk user: \"Potential related issues found. How would you like to proceed?\"\n\n| Option | Action |\n|--------|--------|\n| Continue | Proceed with fix (not a duplicate) |\n| Skip | Stop - user will handle manually |\n| Link | Comment linking related issues, then continue |\n\n**If \"Link\" selected:**\n\n```bash\ngh issue comment \"$ARGUMENTS\" --body \"Potentially related to #NNN - investigating\"\n```\n\n### 2. Explore Root Cause\n\nWhen searching for root cause:\n- **Start with error text**: Grep for exact error message first\n- **Limit file reads**: Read max 3 files before forming hypothesis\n- **Use targeted searches**: Grep for function names, not broad patterns\n\n### 3. Create Branch (skip if worktree was created)\n\n```bash\ngit checkout -b \"fix/$ARGUMENTS-<short-desc>\"\n```\n\n### 4. TDD: Write Failing Test (Red)\n\nWrite a test that reproduces the bug and **fails**. This proves the bug exists and will verify the fix.\n\n### 5. TDD: Implement Fix (Green)\n\nImplement the **minimal fix** to make the test pass. Avoid scope creep.\n\n### 6. Verify\n\nRun the full test suite, linting, and type checking.\n\n### 7. Submit\n\nCommit, push, and create a PR referencing the issue.\n\n---\n\n## Feature Workflow\n\nIf issue is a **new feature**, follow this workflow:\n\n### 1. Understand Requirements\n\nReview the issue body and comments for:\n- Acceptance criteria\n- Edge cases mentioned\n- User expectations\n- Technical constraints\n\n### 2. Explore Codebase\n\nSearch for:\n- Similar existing implementations\n- Related components\n- Coding patterns to follow\n- Integration points\n\n### 3. Plan Approach\n\nBefore coding, outline:\n- Files to create/modify\n- Data structures needed\n- API changes (if any)\n- Test coverage plan\n\n### 4. Create Branch (skip if worktree was created)\n\n```bash\ngit checkout -b \"feat/$ARGUMENTS-<short-desc>\"\n```\n\n### 5. Implement Feature\n\nBuild the feature following existing code patterns and conventions.\n\n### 6. Write Tests\n\nWrite comprehensive tests covering:\n- Happy path\n- Edge cases\n- Error conditions\n\n### 7. Verify\n\nRun the full test suite, linting, and type checking.\n\n### 8. Submit\n\nCommit, push, and create a PR referencing the issue.\n\n---\n\n## Completion Criteria\n\n**DO NOT output `<done>COMPLETE</done>` until ALL of these conditions are TRUE:**\n\n1. Code changes are implemented and address the issue\n2. Tests are written and ALL PASS (`go test ./...` or equivalent)\n3. Linting passes (`golangci-lint run` or equivalent)\n4. Changes are committed with a proper commit message\n5. Changes are pushed to the remote branch\n6. PR is created and the PR URL is displayed\n\n**When ALL criteria are met, output exactly:**\n\n```\n<done>COMPLETE</done>\n```\n\nThis signals the loop to exit. If you output this prematurely, the issue will not be properly resolved.\n\n---\n\n**Safety note:** If you've iterated 15+ times without success, document what's blocking progress and ask the user for guidance.\n\nUse extended thinking for complex analysis."
              }
            ],
            "skills": []
          },
          {
            "name": "go-dev",
            "description": "Go-specific development tools with best practices",
            "source": "./plugins/go-dev",
            "category": null,
            "version": "1.1.0",
            "author": null,
            "install_commands": [
              "/plugin marketplace add gopherguides/gopher-ai",
              "/plugin install go-dev@gopher-ai"
            ],
            "signals": {
              "stars": 2,
              "forks": 0,
              "pushed_at": "2026-01-11T22:43:18Z",
              "created_at": "2025-12-16T18:41:10Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/cancel-loop",
                "description": "Cancel any active persistent loop",
                "path": "plugins/go-dev/commands/cancel-loop.md",
                "frontmatter": {
                  "argument-hint": "[loop-name]",
                  "description": "Cancel any active persistent loop",
                  "allowed-tools": [
                    "Bash"
                  ]
                },
                "content": "# Cancel Loop\n\nCancel the currently active persistent loop and allow normal session behavior.\n\n**Usage:**\n- `/cancel-loop` - Cancel all active loops\n- `/cancel-loop <name>` - Cancel a specific loop by name\n\n## Execute Cancellation\n\n!`\"${CLAUDE_PLUGIN_ROOT}/scripts/cleanup-loop.sh\" \"$ARGUMENTS\"`\n\n## Result\n\nThe loop has been cancelled. You can now exit the session normally or start a new task.\n\nIf you want to restart the previous task, you can run the original command again."
              },
              {
                "name": "/explain",
                "description": "Deep-dive explanation of Go code with diagrams",
                "path": "plugins/go-dev/commands/explain.md",
                "frontmatter": {
                  "argument-hint": "<file|function|package>",
                  "description": "Deep-dive explanation of Go code with diagrams",
                  "model": "claude-opus-4-5-20251101",
                  "allowed-tools": [
                    "Read",
                    "Glob",
                    "Grep",
                    "AskUserQuestion"
                  ]
                },
                "content": "**If `$ARGUMENTS` is empty or not provided:**\n\nDisplay usage information and ask for input:\n\n**Usage:** `/explain <target>`\n\n**Examples:**\n\n- `/explain pkg/auth/login.go` - Explain a file\n- `/explain HandleAuthentication` - Explain a function\n- `/explain pkg/services/` - Explain a package\n\n**Workflow:**\n\n1. Analyze the specified Go code target\n2. Extract key concepts, interfaces, dependencies\n3. Generate documentation-style explanation\n4. Create Mermaid diagrams for complex flows\n5. Identify idiomatic Go patterns used\n\nAsk the user: \"What file, function, or package would you like me to explain?\"\n\n---\n\n**If `$ARGUMENTS` is provided:**\n\nGenerate a comprehensive explanation of the specified Go code. Creates documentation-style output\nwith Mermaid diagrams for complex flows.\n\n## Configuration\n\n- **Target**: `$ARGUMENTS` (file path, function name, or package)\n\n## Context Management\n\nBefore loading file content:\n\n1. **Check size first**: Use Glob to find the file, note its size\n2. **For files >300 lines**:\n   - Read first 50 lines (package, imports, type declarations)\n   - Use Grep to find specific function/type definitions\n   - Read only the relevant sections\n   - Do NOT load entire file into context\n3. **For packages with >20 files**:\n   - List files first with Glob\n   - Read doc.go if present\n   - Sample 2-3 representative files maximum\n\n## Steps\n\n1. **Identify Target Scope**\n\n   - If file path: Check file size before reading\n   - If function name: Search for the function across packages\n   - If package: Analyze the package structure\n\n2. **Analyze Go Code Structure**\n\n   For **files**, extract:\n   - Package and purpose\n   - Exported vs unexported identifiers\n   - Types and interfaces defined\n   - Key functions and methods\n   - Dependencies (imports)\n\n   For **functions**, extract:\n   - Signature (receiver, params, returns)\n   - Error handling patterns\n   - Goroutine usage\n   - Channel operations\n   - Context handling\n\n   For **packages**, extract:\n   - Package purpose and API surface\n   - Public interfaces\n   - Internal organization\n   - Dependencies on other packages\n\n3. **Generate Explanation**\n\n   Structure the output as:\n\n   ```markdown\n   # [Target Name]\n\n   ## Overview\n   [2-3 sentence summary of what this code does and why it exists]\n\n   ## Key Concepts\n   - **[Interface/Type]**: Purpose and usage\n   - **[Pattern]**: How it's applied\n\n   ## How It Works\n   [Step-by-step explanation of the main flow]\n\n   ## Go Patterns Used\n   - **Error Handling**: How errors are wrapped/returned\n   - **Interfaces**: Accept interfaces, return structs\n   - **Concurrency**: Goroutines, channels, sync primitives\n\n   ## Dependencies\n   - `package-a`: Used for X\n   - `package-b`: Provides Y\n\n   ## Diagram\n   [Mermaid diagram - see step 4]\n\n   ## Important Details\n   - [Edge cases handled]\n   - [Performance considerations]\n   - [Thread safety notes]\n   ```\n\n4. **Create Mermaid Diagrams**\n\n   Choose the appropriate diagram type:\n\n   **Flowchart** - For control flow, algorithms:\n\n   ```mermaid\n   flowchart TD\n       A[Request] --> B{Validate}\n       B -->|Valid| C[Process]\n       B -->|Invalid| D[Return Error]\n       C --> E{Success?}\n       E -->|Yes| F[Return Result]\n       E -->|No| G[Wrap Error]\n   ```\n\n   **Sequence Diagram** - For interactions between components:\n\n   ```mermaid\n   sequenceDiagram\n       participant H as Handler\n       participant S as Service\n       participant R as Repository\n       H->>S: ProcessRequest(ctx, req)\n       S->>R: FindByID(ctx, id)\n       R-->>S: entity, err\n       S-->>H: response, err\n   ```\n\n   **Class Diagram** - For types and interfaces:\n\n   ```mermaid\n   classDiagram\n       class Service {\n           <<interface>>\n           +Create(ctx, input) (Output, error)\n           +Get(ctx, id) (Output, error)\n       }\n       class serviceImpl {\n           -repo Repository\n           +Create(ctx, input) (Output, error)\n       }\n       Service <|.. serviceImpl\n   ```\n\n5. **Highlight Go Idioms**\n\n   Point out idiomatic patterns:\n   - Error wrapping with `fmt.Errorf(\"%w\", err)`\n   - Context propagation\n   - Defer for cleanup\n   - Interface satisfaction\n   - Functional options pattern\n   - Builder pattern\n\n6. **Add Context**\n\n   - Link to related files/packages\n   - Reference tests that demonstrate usage\n   - Note any TODO or FIXME comments\n   - Mention godoc if present\n\n## Output Guidelines\n\n- Write for someone unfamiliar with this specific code\n- Explain the \"why\" not just the \"what\"\n- Use Go terminology correctly\n- Keep diagrams focused (5-10 nodes max)\n- Offer to explain any referenced code in more detail"
              },
              {
                "name": "/lint-fix",
                "description": "Auto-fix Go linting issues with golangci-lint",
                "path": "plugins/go-dev/commands/lint-fix.md",
                "frontmatter": {
                  "argument-hint": "[path] [--check]",
                  "description": "Auto-fix Go linting issues with golangci-lint",
                  "model": "claude-opus-4-5-20251101",
                  "allowed-tools": [
                    "Bash",
                    "Read",
                    "Write",
                    "Edit",
                    "Glob",
                    "Grep",
                    "AskUserQuestion"
                  ]
                },
                "content": "**If `$ARGUMENTS` is empty or not provided:**\n\nFix all auto-fixable linting issues in the Go project.\n\n**Usage:** `/lint-fix [path] [options]`\n\n**Examples:**\n\n- `/lint-fix` - Fix all linting issues in project\n- `/lint-fix ./pkg/...` - Fix issues in specific package\n- `/lint-fix --check` - Check without fixing\n- `/lint-fix --staged` - Fix only staged files\n\n**Workflow:**\n\n1. Detect golangci-lint configuration\n2. Run linters with auto-fix enabled\n3. Run gofmt and goimports\n4. Report fixed and remaining issues\n5. Optionally stage fixed files\n\nProceed with fixing all linting issues.\n\n---\n\n**If `$ARGUMENTS` is provided:**\n\nFix linting issues for specified path or options.\n\n## Loop Initialization\n\nInitialize persistent loop to ensure all fixable issues are resolved:\n!`\"${CLAUDE_PLUGIN_ROOT}/scripts/setup-loop.sh\" \"lint-fix\" \"COMPLETE\"`\n\n## Configuration\n\nParse arguments:\n\n- **Path**: Package or file to lint (default: `./...`)\n- **--check**: Report issues without fixing\n- **--staged**: Only lint staged files\n- **--fix-unsafe**: Include unsafe fixes\n\n## Steps\n\n### 1. Detect Linting Tools\n\n```bash\n# Check for golangci-lint config\nls .golangci.yml .golangci.yaml golangci.yml 2>/dev/null\n\n# Check golangci-lint version\ngolangci-lint --version 2>/dev/null\n```\n\n### 2. Check Current State\n\n```bash\n# Count current issues (without fixing)\ngolangci-lint run --max-issues-per-linter 0 --max-same-issues 0 2>&1 | tail -20\n```\n\n### 3. Run Auto-Fix\n\n**Go formatting:**\n\n```bash\n# Format all Go files\ngofmt -w -s .\n\n# Organize imports\ngoimports -w .\n\n# Or use gofumpt for stricter formatting\ngofumpt -w .\n```\n\n**golangci-lint fixes:**\n\n```bash\n# Run with auto-fix\ngolangci-lint run --fix ./...\n```\n\n### 4. Staged Files Only\n\nWhen using `--staged`:\n\n```bash\n# Get staged Go files\nSTAGED=$(git diff --cached --name-only --diff-filter=ACMR | grep '\\.go$')\n\n# Format only staged files\necho \"$STAGED\" | xargs gofmt -w -s\necho \"$STAGED\" | xargs goimports -w\n```\n\n### 5. Common Linter Fixes\n\n| Linter | Auto-fixable | Manual |\n|--------|--------------|--------|\n| gofmt | All formatting | - |\n| goimports | Import ordering | - |\n| govet | - | All issues |\n| errcheck | - | Missing error checks |\n| staticcheck | Some | Most issues |\n| gosimple | Some | Code simplifications |\n| gocritic | Some | Style issues |\n\n### 6. Handle Unfixable Issues\n\nAfter auto-fix, report remaining issues:\n\n```text\nRemaining Issues (require manual fix)\n\n| File | Line | Linter | Message |\n|------|------|--------|---------|\n| pkg/api/handler.go | 45 | errcheck | Error return value not checked |\n| pkg/db/query.go | 23 | govet | Printf format %d has arg of wrong type |\n\nSuggested fixes:\n\n1. pkg/api/handler.go:45 - Add error handling: if err != nil { return err }\n2. pkg/db/query.go:23 - Change %d to %s for string argument\n```\n\n### 7. Generate Report\n\n```text\nLint Fix Complete\n\nFixed Issues:\n\n| Tool | Fixed |\n|------|-------|\n| gofmt | 12 files |\n| goimports | 8 files |\n| golangci-lint | 5 issues |\n\nTotal: 25 fixes applied\n\nRemaining Issues: 3 (require manual fixes)\n\nFiles Modified:\n- pkg/api/handler.go\n- pkg/db/query.go\n- internal/service/auth.go\n- ... (more)\n\nNext Steps:\n\n1. Review changes: git diff\n2. Fix remaining issues manually\n3. Run tests: go test ./...\n4. Stage changes: git add -A\n```\n\n### 8. Recommended golangci-lint Config\n\nIf no config exists, suggest creating `.golangci.yml`:\n\n```yaml\nlinters:\n  enable:\n    - errcheck\n    - govet\n    - staticcheck\n    - gosimple\n    - gocritic\n    - gofmt\n    - goimports\n    - misspell\n    - unconvert\n\nlinters-settings:\n  gofmt:\n    simplify: true\n  goimports:\n    local-prefixes: github.com/yourorg/yourproject\n\nissues:\n  exclude-use-default: false\n  max-issues-per-linter: 0\n  max-same-issues: 0\n```\n\n## Notes\n\n- Always review auto-fixed changes\n- Run tests after fixing: `go test ./...`\n- Some fixes may change behavior (rare)\n- Use `--check` in CI, `--fix` locally\n\n---\n\n## Completion Criteria\n\n**DO NOT output `<done>COMPLETE</done>` until ALL of these conditions are TRUE:**\n\n1. All auto-fixable issues have been resolved\n2. `golangci-lint run` returns 0 errors (or only unfixable issues)\n3. Code still compiles (`go build ./...`)\n4. Tests still pass (`go test ./...`)\n\n**When ALL criteria are met, output exactly:**\n\n```\n<done>COMPLETE</done>\n```\n\nThis signals the loop to exit. If you output this prematurely, linting issues may remain.\n\n---\n\n**Safety note:** If you've iterated 15+ times without success, document what's blocking progress and ask the user for guidance."
              },
              {
                "name": "/test-gen",
                "description": "Generate comprehensive Go tests with table-driven patterns",
                "path": "plugins/go-dev/commands/test-gen.md",
                "frontmatter": {
                  "argument-hint": "<file|function>",
                  "description": "Generate comprehensive Go tests with table-driven patterns",
                  "model": "claude-opus-4-5-20251101",
                  "allowed-tools": [
                    "Bash",
                    "Read",
                    "Write",
                    "Glob",
                    "Grep",
                    "AskUserQuestion"
                  ]
                },
                "content": "**If `$ARGUMENTS` is empty or not provided:**\n\nDisplay usage information and ask for input:\n\n**Usage:** `/test-gen <target>`\n\n**Examples:**\n\n- `/test-gen pkg/auth/login.go` - Generate tests for a file\n- `/test-gen HandleAuthentication` - Generate tests for a function\n- `/test-gen pkg/utils/` - Generate tests for a package\n\n**Workflow:**\n\n1. Detect your project's testing setup (testify, gomock, etc.)\n2. Analyze the target code structure\n3. Generate comprehensive test cases (happy path, edge cases, errors)\n4. Create test file following Go table-driven test patterns\n5. Self-review for coverage gaps\n\nAsk the user: \"What file or function would you like me to generate tests for?\"\n\n---\n\n**If `$ARGUMENTS` is provided:**\n\nGenerate comprehensive Go tests for the specified code. Follows idiomatic Go patterns including\ntable-driven tests and includes edge cases, boundary conditions, and error scenarios.\n\n## Loop Initialization\n\nInitialize persistent loop to ensure tests are complete and passing:\n!`\"${CLAUDE_PLUGIN_ROOT}/scripts/setup-loop.sh\" \"test-gen\" \"COMPLETE\"`\n\n## Configuration\n\n- **Target**: `$ARGUMENTS` (file path or function name)\n\n## Steps\n\n1. **Detect Testing Environment**\n\n   Identify the project's testing setup:\n   - Check for testify: `go list -m all | grep testify`\n   - Check for gomock: `go list -m all | grep gomock`\n   - Check for mockery: look for mockery.yaml or .mockery.yaml\n   - Examine existing `_test.go` files for patterns\n\n   Also detect:\n   - Test file naming convention (`*_test.go`)\n   - Package organization (same package vs `_test` suffix)\n   - Assertion patterns (testify assert/require vs standard)\n   - Mocking patterns (gomock, mockery, hand-written)\n\n2. **Analyze Target Code**\n\n   Read the target file/function and extract:\n   - Function signatures and parameters\n   - Return types and possible values\n   - Dependencies and interfaces\n   - Error conditions and returns\n   - Side effects (mutations, I/O, network)\n   - Conditional branches and logic paths\n\n3. **Identify Test Cases**\n\n   Generate tests for:\n\n   **Happy Path**\n   - Basic functionality with typical inputs\n   - Expected return values\n   - Standard use cases\n\n   **Edge Cases**\n   - Empty inputs (nil, \"\", []byte{}, empty slice)\n   - Boundary values (0, -1, max int, empty string)\n   - Single element vs multiple elements\n   - Unicode and special characters\n\n   **Error Scenarios**\n   - Invalid input types\n   - Out-of-range values\n   - Missing required parameters\n   - Context cancellation\n   - I/O failures\n\n   **Concurrency** (if applicable)\n   - Race conditions\n   - Deadlock scenarios\n   - Parallel execution with t.Parallel()\n\n4. **Generate Test Code**\n\n   Use table-driven test pattern:\n\n   ```go\n   func TestFunctionName(t *testing.T) {\n       tests := []struct {\n           name    string\n           input   InputType\n           want    OutputType\n           wantErr bool\n       }{\n           {\n               name:  \"valid input returns expected result\",\n               input: validInput,\n               want:  expectedOutput,\n           },\n           {\n               name:    \"empty input returns error\",\n               input:   emptyInput,\n               wantErr: true,\n           },\n       }\n\n       for _, tt := range tests {\n           t.Run(tt.name, func(t *testing.T) {\n               got, err := FunctionName(tt.input)\n               if (err != nil) != tt.wantErr {\n                   t.Errorf(\"FunctionName() error = %v, wantErr %v\", err, tt.wantErr)\n                   return\n               }\n               if !reflect.DeepEqual(got, tt.want) {\n                   t.Errorf(\"FunctionName() = %v, want %v\", got, tt.want)\n               }\n           })\n       }\n   }\n   ```\n\n   For testify users:\n\n   ```go\n   func TestFunctionName(t *testing.T) {\n       tests := []struct {\n           name    string\n           input   InputType\n           want    OutputType\n           wantErr bool\n       }{\n           // test cases\n       }\n\n       for _, tt := range tests {\n           t.Run(tt.name, func(t *testing.T) {\n               got, err := FunctionName(tt.input)\n               if tt.wantErr {\n                   require.Error(t, err)\n                   return\n               }\n               require.NoError(t, err)\n               assert.Equal(t, tt.want, got)\n           })\n       }\n   }\n   ```\n\n5. **Add Mocking** (when needed)\n\n   For dependencies:\n   - Use interfaces for mockable dependencies\n   - Generate mocks with gomock or mockery\n   - Stub external services/APIs\n   - Mock database calls with sqlmock\n\n6. **Generate Test Data**\n\n   Create:\n   - Fixtures for complex structs\n   - Factory functions for repeated patterns\n   - Realistic sample data (not just \"test\", \"foo\", \"bar\")\n   - Data that exercises edge cases\n\n7. **Self-Review**\n\n   Before outputting, check:\n   - [ ] Are all exported functions covered?\n   - [ ] Are edge cases covered?\n   - [ ] Are error paths tested?\n   - [ ] Do tests follow Go conventions?\n   - [ ] Are assertions meaningful?\n   - [ ] Is t.Parallel() used where appropriate?\n\n8. **Output**\n\n   Provide:\n   - Complete test file ready to save\n   - Explanation of test strategy\n   - List of any assumptions made\n   - Suggestions for additional tests that require manual setup\n\n## Go-Specific Best Practices\n\n- Use table-driven tests for multiple scenarios\n- Call t.Parallel() for independent tests\n- Use t.Helper() in test helper functions\n- Prefer subtests with t.Run() for organization\n- Use testify/require for fatal assertions, assert for non-fatal\n- Name test cases descriptively: \"empty_input_returns_error\"\n- Keep test functions focused on one behavior\n\n---\n\n## Completion Criteria\n\n**DO NOT output `<done>COMPLETE</done>` until ALL of these conditions are TRUE:**\n\n1. Test file is generated with comprehensive test cases\n2. Test file compiles without errors\n3. `go test` runs and ALL tests PASS\n4. Coverage includes happy path, edge cases, and error scenarios\n\n**When ALL criteria are met, output exactly:**\n\n```\n<done>COMPLETE</done>\n```\n\nThis signals the loop to exit. If you output this prematurely, the tests may be incomplete or failing.\n\n---\n\n**Safety note:** If you've iterated 15+ times without success, document what's blocking progress and ask the user for guidance."
              }
            ],
            "skills": []
          },
          {
            "name": "productivity",
            "description": "Standup reports and git productivity helpers",
            "source": "./plugins/productivity",
            "category": null,
            "version": "1.1.0",
            "author": null,
            "install_commands": [
              "/plugin marketplace add gopherguides/gopher-ai",
              "/plugin install productivity@gopher-ai"
            ],
            "signals": {
              "stars": 2,
              "forks": 0,
              "pushed_at": "2026-01-11T22:43:18Z",
              "created_at": "2025-12-16T18:41:10Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/changelog",
                "description": "Generate changelog from commits since last release",
                "path": "plugins/productivity/commands/changelog.md",
                "frontmatter": {
                  "argument-hint": "[tag|version]",
                  "description": "Generate changelog from commits since last release",
                  "model": "haiku",
                  "allowed-tools": [
                    "Bash(git:*)",
                    "Read",
                    "Glob",
                    "Grep"
                  ]
                },
                "content": "## Context\n\n- Latest tag: !`git describe --tags --abbrev=0 2>/dev/null || echo \"No tags found\"`\n- Commits since last tag: !`git log $(git describe --tags --abbrev=0 2>/dev/null || echo \"HEAD~20\")..HEAD --format=\"%h %s\" 2>/dev/null | head -15`\n- Repository: !`basename $(git rev-parse --show-toplevel)`\n\n**If `$ARGUMENTS` is empty or not provided:**\n\nGenerate a changelog from commits since the last release tag.\n\n**Usage:** `/changelog [starting-point]`\n\n**Examples:**\n\n- `/changelog` - Since last tag\n- `/changelog v1.2.0` - Since specific tag\n- `/changelog HEAD~50` - Last 50 commits\n- `/changelog 2024-01-01` - Since date\n\n**Workflow:**\n\n1. Find the latest git tag\n2. Parse commits using Conventional Commits format\n3. Group by type (Added, Fixed, Changed, etc.)\n4. Generate Keep a Changelog formatted output\n\nProceed with commits since last tag.\n\n---\n\n**If `$ARGUMENTS` is provided:**\n\nGenerate a changelog from git commits since the specified starting point.\n\n## Configuration\n\n- **Since**: `$ARGUMENTS` (tag, commit ref, or date)\n\n## Steps\n\n1. **Identify Release Points**\n   - Find the latest tag: `git describe --tags --abbrev=0 2>/dev/null || echo \"\"`\n   - If `$ARGUMENTS` provided, use as starting point\n   - If no tags exist, use first commit or a reasonable limit (last 100 commits)\n\n2. **Gather Commits**\n   Run: `git log <since>..HEAD --format=\"%H|%s|%b|%an|%ae\" --reverse`\n\n   For each commit, extract:\n   - Hash (for linking)\n   - Subject line\n   - Body (for breaking changes, closes/fixes references)\n   - Author info\n\n3. **Parse Conventional Commits**\n   Categorize commits into Keep a Changelog sections:\n\n   | Conventional Commit | Changelog Section |\n   |---------------------|-------------------|\n   | `feat:`, `feature:` | **Added** |\n   | `fix:`, `bugfix:`   | **Fixed** |\n   | `perf:`             | **Changed** (Performance) |\n   | `refactor:`         | **Changed** |\n   | `docs:`             | **Changed** (Documentation) |\n   | `BREAKING CHANGE:`  | **Changed** (Breaking) |\n   | `deprecate:`        | **Deprecated** |\n   | `remove:`           | **Removed** |\n   | `security:`         | **Security** |\n   | `chore:`, `build:`, `ci:`, `test:` | (Skip or group as \"Other\") |\n\n   For non-conventional commits, use AI to infer category from message content.\n\n4. **Extract References**\n   - Look for issue/PR references: `#123`, `fixes #123`, `closes #456`\n   - Check commit body for `BREAKING CHANGE:` footer\n   - Extract scope from `feat(scope):` patterns\n\n5. **Determine Next Version** (optional)\n   If asked, suggest semantic version bump:\n   - **Major**: Any `BREAKING CHANGE:` commits\n   - **Minor**: Any `feat:` commits\n   - **Patch**: Only `fix:` and other non-breaking changes\n\n6. **Generate Changelog**\n\n   Format following Keep a Changelog:\n\n   ```markdown\n   ## [Unreleased] - YYYY-MM-DD\n\n   ### Added\n   - New feature description (#123)\n   - Another feature with scope (auth): description\n\n   ### Changed\n   - **BREAKING**: Description of breaking change\n   - Performance improvement description\n   - Refactored module for clarity\n\n   ### Deprecated\n   - Old API endpoint, use /v2/ instead\n\n   ### Removed\n   - Removed legacy support for X\n\n   ### Fixed\n   - Fixed bug where X happened (#456)\n   - Resolved issue with Y\n\n   ### Security\n   - Updated dependencies to patch CVE-XXXX\n   ```\n\n7. **Output Options**\n   - Default: Display formatted changelog\n   - If commit count is large (>50), summarize by category counts first\n   - Offer to write to CHANGELOG.md (ask user first)\n   - Include comparison link if GitHub remote detected: `[Unreleased]: https://github.com/owner/repo/compare/v1.0.0...HEAD`\n\n## Notes\n\n- Skip merge commits unless they contain meaningful info\n- Group related commits (e.g., multiple fixes for same issue)\n- For breaking changes, provide migration guidance if detectable\n- Keep descriptions concise but meaningful\n- Preserve original commit author attribution for team projects\n- If no conventional commit format, still categorize intelligently"
              },
              {
                "name": "/release",
                "description": "Create a new release with version bump, changelog, and GitHub release",
                "path": "plugins/productivity/commands/release.md",
                "frontmatter": {
                  "argument-hint": "[patch|minor|major]",
                  "description": "Create a new release with version bump, changelog, and GitHub release",
                  "allowed-tools": [
                    "Bash(git:*)",
                    "Bash(gh:*)",
                    "Bash(jq:*)",
                    "Read",
                    "Edit",
                    "AskUserQuestion"
                  ]
                },
                "content": "## Context\n\n- Repository: !`basename $(git rev-parse --show-toplevel)`\n- Current version: !`jq -r '.plugins[0].version' .claude-plugin/marketplace.json 2>/dev/null || echo \"unknown\"`\n- Latest tag: !`git describe --tags --abbrev=0 2>/dev/null || echo \"No tags found\"`\n- Commits since last tag: !`git log $(git describe --tags --abbrev=0 2>/dev/null || git rev-list --max-parents=0 HEAD)..HEAD --oneline 2>/dev/null | wc -l | tr -d ' '`\n\n## Instructions\n\nCreate a new release for the gopher-ai plugin marketplace.\n\n### Bump Type\n\n**If `$ARGUMENTS` is provided** (patch, minor, or major), use that bump type.\n\n**If `$ARGUMENTS` is empty**, analyze commits since the last tag to suggest a bump type:\n- **major**: Any breaking changes (`BREAKING CHANGE:`, `!:` suffix)\n- **minor**: Any new features (`feat:`)\n- **patch**: Bug fixes and other changes (`fix:`, `chore:`, `docs:`, etc.)\n\nAsk the user to confirm the bump type using AskUserQuestion before proceeding.\n\n### Workflow\n\n1. **Validate State**\n   - Ensure working directory is clean: `git status --porcelain`\n   - Ensure we're on the main branch\n   - Ensure no uncommitted changes\n\n2. **Calculate New Version**\n   - Parse current version from `.claude-plugin/marketplace.json`\n   - Apply bump type to get new version (e.g., 1.1.0 → 1.2.0 for minor)\n\n3. **Update Versions**\n   - Update ALL version fields in `.claude-plugin/marketplace.json`:\n   ```bash\n   jq --arg v \"NEW_VERSION\" '\n     .metadata.version = $v |\n     .plugins[].version = $v\n   ' .claude-plugin/marketplace.json > /tmp/marketplace.json.tmp && \\\n   mv /tmp/marketplace.json.tmp .claude-plugin/marketplace.json\n   ```\n   - **IMPORTANT**: Also update each individual `plugin.json` (Claude Code uses these for cache paths):\n   ```bash\n   for pjson in plugins/*/.claude-plugin/plugin.json; do\n     jq --arg v \"NEW_VERSION\" '.version = $v' \"$pjson\" > /tmp/pj.tmp && mv /tmp/pj.tmp \"$pjson\"\n   done\n   ```\n\n4. **Generate Changelog Summary**\n   - Get commits since last tag: `git log LAST_TAG..HEAD --format=\"%s\" --reverse`\n   - Group by conventional commit type\n   - Create a brief summary for the release notes\n\n5. **Commit and Tag**\n   ```bash\n   git add .claude-plugin/marketplace.json plugins/*/.claude-plugin/plugin.json\n   git commit -m \"chore: release vX.Y.Z\"\n   git tag -a vX.Y.Z -m \"Release vX.Y.Z\"\n   ```\n\n6. **Push to Remote**\n   ```bash\n   git push origin main\n   git push origin vX.Y.Z\n   ```\n\n7. **Create GitHub Release**\n   ```bash\n   gh release create vX.Y.Z --title \"vX.Y.Z\" --generate-notes\n   ```\n\n8. **Report Success**\n   - Display the release URL\n   - Remind user to run `./scripts/refresh-plugins.sh` to update local cache\n\n### Safety Checks\n\n- Never release with uncommitted changes\n- Always confirm bump type with user before proceeding\n- Verify main branch before releasing\n- Check that new version is greater than current version\n\n### Example Usage\n\n- `/release` - Auto-detect bump type from commits\n- `/release patch` - Force patch bump (1.1.0 → 1.1.1)\n- `/release minor` - Force minor bump (1.1.0 → 1.2.0)\n- `/release major` - Force major bump (1.1.0 → 2.0.0)"
              },
              {
                "name": "/standup",
                "description": "Generate standup notes from recent git activity",
                "path": "plugins/productivity/commands/standup.md",
                "frontmatter": {
                  "argument-hint": "[hours|days]",
                  "description": "Generate standup notes from recent git activity",
                  "model": "haiku",
                  "allowed-tools": [
                    "Bash(git:*)",
                    "Bash(date:*)",
                    "Read",
                    "Glob",
                    "Grep"
                  ]
                },
                "content": "## Context\n\n- Current git user: !`git config user.name`\n- Current branch: !`git branch --show-current`\n- Today: !`date +%A`\n- Recent commits (24h): !`git log --author=\"$(git config user.name)\" --since=\"24 hours ago\" --format=\"%h %s\" --all 2>/dev/null | head -10`\n\n**If `$ARGUMENTS` is empty or not provided:**\n\nGenerate a standup for the default timeframe (24 hours, or 72 hours on Mondays).\n\n**Usage:** `/standup [timeframe]`\n\n**Examples:**\n\n- `/standup` - Last 24 hours (72h on Mondays)\n- `/standup 48h` - Last 48 hours\n- `/standup 3d` - Last 3 days\n- `/standup \"since monday\"` - Since Monday\n\n**Workflow:**\n\n1. Scan git commits for your user\n2. Group by type (features, fixes, refactors)\n3. Identify in-progress work and blockers\n4. Generate copy-paste ready standup report\n\nProceed with default 24h timeframe (or 72h if today is Monday).\n\n---\n\n**If `$ARGUMENTS` is provided:**\n\nGenerate a standup summary from recent git activity using the specified timeframe.\n\n## Security Validation\n\nBefore using `$ARGUMENTS` in git commands, validate the timeframe format:\n- Valid patterns: `[0-9]+[hdwm]` (e.g., \"48h\", \"3d\", \"1w\", \"2m\")\n- Valid patterns: `\"since (monday|tuesday|wednesday|thursday|friday|saturday|sunday|yesterday)\"`\n- Reject any input containing shell metacharacters: `;`, `|`, `&`, `$`, backticks, `(`, `)`, `>`, `<`\n\nIf validation fails, display: \"Invalid timeframe format. Use examples like '48h', '3d', or 'since monday'\"\n\n## Configuration\n\n- **Timeframe**: `$ARGUMENTS` (examples: \"48h\", \"3d\", \"since monday\")\n- **Author**: Current git user (`git config user.name`)\n\n## Steps\n\n1. **Identify Author and Timeframe**\n   - Get the current git user: `git config user.name`\n   - Parse timeframe from `$ARGUMENTS` or default to 24 hours\n   - For Monday standups, automatically look back to Friday (72h)\n\n2. **Gather All Git Data (Parallel)**\n\n   Execute ALL these commands **simultaneously** in a single response:\n\n   | Data | Command |\n   |------|---------|\n   | Commits | `git log --author=\"<author>\" --since=\"<timeframe>\" --format=\"%h %s\" --all` |\n   | Current branch | `git branch --show-current` |\n   | Uncommitted | `git status --porcelain` |\n   | Recent branches | `git branch --sort=-committerdate --format='%(refname:short)' \\| head -5` |\n   | Stash | `git stash list` |\n   | Behind main | `git log HEAD..origin/main --oneline \\| head -3` |\n\n   Run all 6 commands in parallel, then analyze results together.\n\n3. **Categorize Commits**\n\n   Group commits by type:\n\n   - **Features**: commits starting with `feat:` or containing \"add\", \"implement\", \"create\"\n   - **Fixes**: commits starting with `fix:` or containing \"fix\", \"resolve\", \"correct\"\n   - **Refactors**: commits starting with `refactor:` or containing \"refactor\", \"clean\", \"improve\"\n   - **Other**: documentation, tests, chores, etc.\n\n4. **Generate Standup Report**\n\n   Format the output as:\n\n   ```text\n   ## Standup - [date]\n\n   ### Yesterday (Completed)\n   - [Summarize completed work from commits]\n   - [Group related commits into single bullet points]\n\n   ### Today (Planned)\n   - [Infer from in-progress branches and uncommitted work]\n   - [Any obvious next steps from recent commits]\n\n   ### Blockers\n   - [Any merge conflicts, stale branches, or issues detected]\n   - [Or \"None\" if no blockers found]\n   ```\n\n5. **Output**\n\n   - Display the formatted standup report\n   - Keep it concise: aim for 3-5 bullets per section max\n   - Merge related commits into cohesive summaries (don't list every commit)\n   - Use action verbs: \"Implemented...\", \"Fixed...\", \"Refactored...\"\n\n## Notes\n\n- If no commits found in timeframe, note that and check for uncommitted work\n- For multi-repo directories, run in each git repo found and aggregate\n- Focus on meaningful work, skip trivial commits like \"wip\", \"typo\", \"merge branch\"\n- The report should be copy-paste ready for Slack, Teams, or JIRA"
              },
              {
                "name": "/weekly-summary",
                "description": "Generate weekly work summary from git activity",
                "path": "plugins/productivity/commands/weekly-summary.md",
                "frontmatter": {
                  "argument-hint": "[weeks-back]",
                  "description": "Generate weekly work summary from git activity",
                  "model": "haiku",
                  "allowed-tools": [
                    "Bash(git:*)",
                    "Bash(date:*)",
                    "Bash(find:*)",
                    "Read",
                    "Glob",
                    "Grep"
                  ]
                },
                "content": "## Context\n\n- Current git user: !`git config user.name`\n- This week's commits: !`git log --author=\"$(git config user.name)\" --since=\"last monday\" --format=\"%h %s\" --all 2>/dev/null | head -15`\n- Week start: !`date -v-monday +%Y-%m-%d 2>/dev/null || date -d \"last monday\" +%Y-%m-%d 2>/dev/null || echo \"Monday\"`\n\n**If `$ARGUMENTS` is empty or not provided:**\n\nGenerate a summary of this week's git activity.\n\n**Usage:** `/weekly-summary [weeks-back]`\n\n**Examples:**\n\n- `/weekly-summary` - Current week (since Monday)\n- `/weekly-summary 1` - Last week\n- `/weekly-summary 2` - Two weeks ago\n\n**Workflow:**\n\n1. Gather commits from the specified week\n2. Aggregate PRs merged and reviewed\n3. Calculate productivity metrics\n4. Group accomplishments by project/area\n5. Generate status report format\n\nProceed with current week's summary.\n\n---\n\n**If `$ARGUMENTS` is provided:**\n\nGenerate a weekly work summary for the specified week.\n\n## Configuration\n\n- **Weeks Back**: `$ARGUMENTS` (0 = current week, 1 = last week, etc.)\n- **Author**: Current git user (`git config user.name`)\n\n## Steps\n\n1. **Calculate Date Range**\n\n   ```bash\n   # Get start of week (Monday)\n   # For current week: this Monday\n   # For weeks back: subtract 7*N days from this Monday\n   git log --since=\"2024-01-15\" --until=\"2024-01-22\" --author=\"<user>\"\n   ```\n\n2. **Gather Commits Across Repos (Parallel)**\n\n   If in a multi-repo directory, execute **all repo queries simultaneously**:\n\n   ```bash\n   # First, find all repos\n   repos=$(find . -name \".git\" -type d -exec dirname {} \\;)\n   ```\n\n   Then for EACH repo, run these commands **in parallel**:\n\n   - `git log` for commits\n   - `git shortlog` for summary\n   - Check for merged PRs\n\n   For each repo, collect:\n\n   - Commit count\n   - Lines changed (additions/deletions)\n   - Commit messages\n\n3. **Categorize Work**\n\n   Group commits by:\n   - **Features**: `feat:` commits or new functionality\n   - **Bug Fixes**: `fix:` commits or corrections\n   - **Maintenance**: `chore:`, `refactor:`, `docs:`, `test:`\n   - **Reviews**: If detectable from merge commits\n\n   Also group by:\n   - Project/repo\n   - Area/module (from commit scope)\n\n4. **Calculate Metrics**\n\n   ```text\n   Commits: 23\n   PRs Merged: 4\n   Lines Added: 1,245\n   Lines Removed: 387\n   Net Change: +858 lines\n   Files Touched: 34\n   ```\n\n5. **Identify Key Accomplishments**\n\n   Find significant work:\n   - Large features (multiple related commits)\n   - Important bug fixes\n   - Completed milestones\n   - Merged PRs with descriptions\n\n6. **Generate Weekly Summary**\n\n   ```markdown\n   # Weekly Summary\n\n   **Week of**: January 15 - 21, 2024\n   **Author**: Jane Developer\n\n   ## Highlights\n\n   - Shipped user authentication feature (#123)\n   - Fixed critical payment processing bug (#456)\n   - Completed API rate limiting implementation\n\n   ## By Category\n\n   ### Features (8 commits)\n   - User authentication with JWT tokens\n   - Password reset flow\n   - Session management\n\n   ### Bug Fixes (5 commits)\n   - Payment processing edge case (#456)\n   - Memory leak in connection pool\n   - Race condition in cache\n\n   ### Maintenance (10 commits)\n   - Refactored validation utilities\n   - Updated dependencies\n   - Added integration tests\n\n   ## Metrics\n\n   | Metric | Value |\n   |--------|-------|\n   | Commits | 23 |\n   | PRs Merged | 4 |\n   | Lines Added | 1,245 |\n   | Lines Removed | 387 |\n   | Files Changed | 34 |\n\n   ## PRs Merged\n\n   - #123: Add user authentication\n   - #125: Implement rate limiting\n   - #128: Fix payment bug\n   - #130: Update dependencies\n   ```\n\n7. **Format for Different Audiences**\n\n   The summary can be used for:\n   - **Team standup**: Focus on highlights\n   - **Manager 1:1**: Include metrics and blockers\n   - **Status report**: Full detail with PRs\n\n## Notes\n\n- Works best with conventional commit messages\n- For accurate PR data, requires GitHub remote\n- Metrics are estimates based on git log\n- Consider privacy when sharing detailed summaries"
              }
            ],
            "skills": []
          },
          {
            "name": "gopher-guides",
            "description": "Gopher Guides training materials integrated into Claude via MCP",
            "source": "./plugins/gopher-guides",
            "category": null,
            "version": "1.1.0",
            "author": null,
            "install_commands": [
              "/plugin marketplace add gopherguides/gopher-ai",
              "/plugin install gopher-guides@gopher-ai"
            ],
            "signals": {
              "stars": 2,
              "forks": 0,
              "pushed_at": "2026-01-11T22:43:18Z",
              "created_at": "2025-12-16T18:41:10Z",
              "license": "MIT"
            },
            "commands": [],
            "skills": []
          },
          {
            "name": "llm-tools",
            "description": "Multi-LLM integration for second opinions and task delegation",
            "source": "./plugins/llm-tools",
            "category": null,
            "version": "1.1.0",
            "author": null,
            "install_commands": [
              "/plugin marketplace add gopherguides/gopher-ai",
              "/plugin install llm-tools@gopher-ai"
            ],
            "signals": {
              "stars": 2,
              "forks": 0,
              "pushed_at": "2026-01-11T22:43:18Z",
              "created_at": "2025-12-16T18:41:10Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/codex",
                "description": "Delegate a task to OpenAI Codex CLI",
                "path": "plugins/llm-tools/commands/codex.md",
                "frontmatter": {
                  "argument-hint": "<prompt>",
                  "description": "Delegate a task to OpenAI Codex CLI",
                  "allowed-tools": [
                    "Bash",
                    "Read",
                    "AskUserQuestion"
                  ]
                },
                "content": "# Delegate to Codex\n\n**If `$ARGUMENTS` is empty or not provided:**\n\nDisplay usage information and ask for input:\n\nThis command delegates tasks to OpenAI Codex CLI for autonomous execution.\n\n**Usage:** `/codex <prompt>`\n\n**Examples:**\n\n| Command | Description |\n|---------|-------------|\n| `/codex refactor the auth module` | Refactor existing code |\n| `/codex write tests for utils.ts` | Generate test files |\n| `/codex fix the bug in checkout flow` | Debug and fix issues |\n| `/codex explain how the API routes work` | Code explanation |\n| `/codex add dark mode support` | Implement new features |\n| `/codex review the auth changes` | Review with session context |\n\n**Available Models:**\n\n| Model | Best For |\n|-------|----------|\n| `gpt-5.2-codex` | Newest frontier model, best overall (default) |\n| `gpt-5.1-codex-max` | Complex, long-running tasks (can run 24+ hours) |\n| `gpt-5.1-codex` | Fast, balanced performance |\n| `gpt-5.1-codex-mini` | Simple tasks, cost-efficient |\n\nAsk the user: \"What would you like Codex to do?\"\n\n---\n\n**If `$ARGUMENTS` is provided:**\n\nRun a task using OpenAI Codex CLI with the prompt: $ARGUMENTS\n\n## 1. Detect Review Mode\n\nCheck if the prompt contains \"review\" (case-insensitive). If yes, route to **Review Flow**.\nOtherwise, continue with **Exec Flow**.\n\n---\n\n## Review Flow\n\nUse this flow when the prompt contains \"review\".\n\n### R1. Select What to Review\n\nAsk the user what to review:\n\n| Option | Description |\n|--------|-------------|\n| Uncommitted changes | Review staged, unstaged, and untracked changes |\n| Changes vs branch | Review changes against a base branch |\n| Specific commit | Review changes introduced by a commit |\n\nDefault: `Changes vs branch`\n\n**If \"Changes vs branch\":** Ask for the base branch name. Default: `main`\n\n**If \"Specific commit\":** Ask for the commit SHA.\n\n### R2. Select Model\n\nAsk the user which model to use:\n\n| Model | Best For |\n|-------|----------|\n| gpt-5.2-codex | Newest frontier model, best overall |\n| gpt-5.1-codex-max | Complex, long-running tasks (can run 24+ hours) |\n| gpt-5.1-codex | Fast, balanced performance |\n| gpt-5.1-codex-mini | Simple tasks, cost-efficient |\n\nDefault: `gpt-5.2-codex`\n\n### R3. Run Codex Review\n\nAssemble and execute the command based on what to review:\n\n**For uncommitted changes:**\n\n```bash\ncodex review --uncommitted -c model=<model>\n```\n\n**For changes vs branch:**\n\n```bash\ncodex review --base <branch> -c model=<model>\n```\n\n**For specific commit:**\n\n```bash\ncodex review --commit <sha> -c model=<model>\n```\n\n**Note:** The `--base`, `--uncommitted`, and `--commit` flags cannot be combined with a custom prompt.\nFor custom review instructions, use `codex` interactively or pipe instructions via stdin.\n\n### R4. Report Results\n\nAfter execution completes:\n\n- Show the review output to the user\n- Ask if they want to run a follow-up review or switch to exec mode\n- For follow-ups, use: `codex resume --last`\n\n---\n\n## Exec Flow\n\nUse this flow for non-review tasks.\n\n### 1. Select Model\n\nAsk the user which model to use:\n\n| Model | Best For |\n|-------|----------|\n| gpt-5.2-codex | Newest frontier model, best overall |\n| gpt-5.1-codex-max | Complex, long-running tasks (can run 24+ hours) |\n| gpt-5.1-codex | Fast, balanced performance |\n| gpt-5.1-codex-mini | Simple tasks, cost-efficient |\n\nDefault: `gpt-5.2-codex`\n\n### 2. Include Session Context (Optional)\n\nAsk the user: \"Do you want to include context from our current Claude session?\"\n\n| Option | Description |\n|--------|-------------|\n| No | Run Codex without session context |\n| Summary | Include goal, decisions, and current task (~100 words) |\n| Detailed | Include summary plus files changed/discussed (~200 words) |\n\nDefault: `No`\n\n**If user selects \"Summary\":**\n\nGenerate a concise context block based on the current session:\n\n```text\n## Session Context\n\n**Goal:** [What the user is trying to accomplish]\n**Decisions:** [Key decisions made during this session]\n**Current Task:** [What was being worked on when /codex was invoked]\n```\n\n**If user selects \"Detailed\":**\n\nGenerate an expanded context block based on the current session:\n\n```text\n## Session Context\n\n**Goal:** [What the user is trying to accomplish]\n**Decisions:** [Key decisions made during this session]\n**Files Changed/Discussed:**\n- [file1.ts] - [brief description of changes]\n- [file2.ts] - [brief description of changes]\n**Current Task:** [What was being worked on when /codex was invoked]\n**Open Items:** [Any unresolved questions or tasks]\n```\n\n### 3. Select Sandbox Mode\n\nAsk the user for sandbox mode:\n\n| Mode | Description |\n|------|-------------|\n| read-only | Analysis only, no file changes |\n| workspace-write | Can edit files in workspace |\n| danger-full-access | Full network and system access |\n\nDefault: `read-only`\n\n### 4. Run Codex\n\n**If context was NOT requested:**\n\nAssemble and execute the command:\n\n```bash\ncodex exec -m <model> -s <mode> --skip-git-repo-check \"<prompt>\"\n```\n\n**If context WAS requested:**\n\nConstruct a combined prompt and execute using heredoc:\n\n```bash\ncodex exec -m <model> -s <mode> --skip-git-repo-check - <<'EOF'\n[CONTEXT BLOCK FROM STEP 2]\n\n---\n\n## Task\n\n<prompt>\n\n---\n\nUse the session context above to inform your review/analysis. The context describes what was\nbeing worked on in a previous AI coding session.\nEOF\n```\n\n### 5. Report Results\n\nAfter execution completes:\n\n- Show the output to the user\n- Ask if they want to continue with a follow-up prompt\n- For follow-ups, use: `codex resume --last`\n\n### Error Handling\n\n- If Codex exits with non-zero code, report the error and ask user how to proceed\n- If output contains warnings, inform the user and ask if adjustments are needed\n- Always request confirmation before using `danger-full-access` mode"
              },
              {
                "name": "/convert",
                "description": "Convert between formats, languages, and data structures",
                "path": "plugins/llm-tools/commands/convert.md",
                "frontmatter": {
                  "argument-hint": "<from> <to> [file]",
                  "description": "Convert between formats, languages, and data structures",
                  "model": "claude-opus-4-5-20251101",
                  "allowed-tools": [
                    "Bash",
                    "Read",
                    "Write",
                    "Edit",
                    "Glob",
                    "Grep",
                    "AskUserQuestion"
                  ]
                },
                "content": "**If `$ARGUMENTS` is empty or not provided:**\n\nShow available conversion types and usage.\n\n**Usage:** `/convert <from> <to> [file]`\n\n**Examples:**\n\n- `/convert json typescript` - JSON to TypeScript types\n- `/convert openapi sdk` - OpenAPI spec to client SDK\n- `/convert sql prisma` - SQL schema to Prisma models\n- `/convert csv json data.csv` - CSV file to JSON\n- `/convert yaml json config.yaml` - YAML to JSON\n\n**Supported Conversions:**\n\n| From | To | Description |\n| ---- | -- | ----------- |\n| json | typescript | JSON to TS interfaces |\n| openapi | sdk | OpenAPI to client code |\n| sql | prisma/typeorm | SQL to ORM models |\n| protobuf | typescript | Proto to TS types |\n| csv | json | CSV to JSON array |\n| yaml | json | YAML to JSON |\n| graphql | typescript | GraphQL to TS types |\n\nWhat would you like to convert?\n\n---\n\n**If `$ARGUMENTS` is provided:**\n\nParse arguments and perform the conversion.\n\n## Configuration\n\nParse arguments:\n\n- **From**: Source format (first argument)\n- **To**: Target format (second argument)\n- **File**: Optional input file (third argument)\n\n## Steps\n\n### 1. Detect Conversion Type\n\nMap input to conversion handler:\n\n| Pattern | Handler |\n| ------- | ------- |\n| json → typescript | `jsonToTypeScript` |\n| openapi → sdk | `openapiToSdk` |\n| sql → prisma | `sqlToPrisma` |\n| csv → json | `csvToJson` |\n| yaml → json | `yamlToJson` |\n| graphql → typescript | `graphqlToTypeScript` |\n| protobuf → typescript | `protobufToTypeScript` |\n\n### 2. Read Input\n\nIf file provided:\n\n```bash\ncat <file>\n```\n\nIf no file, look for common sources:\n\n```bash\n# OpenAPI\ncat openapi.yaml swagger.json api.yaml 2>/dev/null | head -1\n\n# SQL\ncat schema.sql migrations/*.sql 2>/dev/null | head -1\n\n# GraphQL\ncat schema.graphql *.graphql 2>/dev/null | head -1\n```\n\nOr ask user to paste input.\n\n### 3. Perform Conversion\n\n#### JSON to TypeScript\n\nInput:\n\n```json\n{\n  \"id\": \"123\",\n  \"name\": \"Alice\",\n  \"email\": \"alice@example.com\",\n  \"age\": 28,\n  \"roles\": [\"admin\", \"user\"],\n  \"settings\": {\n    \"theme\": \"dark\",\n    \"notifications\": true\n  }\n}\n```\n\nOutput:\n\n```typescript\ninterface User {\n  id: string;\n  name: string;\n  email: string;\n  age: number;\n  roles: string[];\n  settings: UserSettings;\n}\n\ninterface UserSettings {\n  theme: string;\n  notifications: boolean;\n}\n```\n\n#### OpenAPI to SDK\n\nInput (OpenAPI spec):\n\n```yaml\npaths:\n  /users:\n    get:\n      summary: List users\n      responses:\n        '200':\n          content:\n            application/json:\n              schema:\n                type: array\n                items:\n                  $ref: '#/components/schemas/User'\n```\n\nOutput (TypeScript client):\n\n```typescript\nexport class UsersApi {\n  constructor(private client: HttpClient) {}\n\n  async listUsers(): Promise<User[]> {\n    return this.client.get<User[]>('/users');\n  }\n\n  async getUser(id: string): Promise<User> {\n    return this.client.get<User>(`/users/${id}`);\n  }\n\n  async createUser(data: CreateUserRequest): Promise<User> {\n    return this.client.post<User>('/users', data);\n  }\n}\n```\n\n#### SQL to Prisma\n\nInput:\n\n```sql\nCREATE TABLE users (\n  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n  email VARCHAR(255) UNIQUE NOT NULL,\n  name VARCHAR(100),\n  created_at TIMESTAMP DEFAULT NOW()\n);\n\nCREATE TABLE posts (\n  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n  title VARCHAR(255) NOT NULL,\n  content TEXT,\n  user_id UUID REFERENCES users(id),\n  published BOOLEAN DEFAULT false\n);\n```\n\nOutput:\n\n```prisma\nmodel User {\n  id        String   @id @default(cuid())\n  email     String   @unique\n  name      String?\n  createdAt DateTime @default(now())\n  posts     Post[]\n}\n\nmodel Post {\n  id        String   @id @default(cuid())\n  title     String\n  content   String?\n  published Boolean  @default(false)\n  user      User     @relation(fields: [userId], references: [id])\n  userId    String\n}\n```\n\n#### CSV to JSON\n\nInput:\n\n```csv\nname,email,age\nAlice,alice@example.com,28\nBob,bob@example.com,35\n```\n\nOutput:\n\n```json\n[\n  { \"name\": \"Alice\", \"email\": \"alice@example.com\", \"age\": 28 },\n  { \"name\": \"Bob\", \"email\": \"bob@example.com\", \"age\": 35 }\n]\n```\n\n#### GraphQL to TypeScript\n\nInput:\n\n```graphql\ntype User {\n  id: ID!\n  name: String!\n  email: String!\n  posts: [Post!]!\n}\n\ntype Post {\n  id: ID!\n  title: String!\n  author: User!\n}\n\ntype Query {\n  users: [User!]!\n  user(id: ID!): User\n}\n```\n\nOutput:\n\n```typescript\ninterface User {\n  id: string;\n  name: string;\n  email: string;\n  posts: Post[];\n}\n\ninterface Post {\n  id: string;\n  title: string;\n  author: User;\n}\n\ninterface Query {\n  users: User[];\n  user: (args: { id: string }) => User | null;\n}\n```\n\n### 4. Output Result\n\nWrite to file or display:\n\n```markdown\n## Conversion Complete\n\n**From**: JSON\n**To**: TypeScript\n\n### Output\n\n[Generated code]\n\n### File Created\n\n`types/user.ts` (45 lines)\n```\n\n### 5. Validate Output\n\nFor code output, check syntax:\n\n```bash\n# TypeScript\nnpx tsc --noEmit output.ts 2>/dev/null\n\n# Prisma\nnpx prisma validate 2>/dev/null\n```\n\n## Conversion Options\n\n| Option | Description |\n| ------ | ----------- |\n| `--strict` | Generate stricter types |\n| `--optional` | Mark all fields optional |\n| `--readonly` | Use readonly properties |\n| `--output <file>` | Write to specific file |\n\n## Output Structure\n\n```markdown\n## Conversion: JSON → TypeScript\n\n### Input\n\n[Source content summary]\n\n### Output\n\n[Generated code]\n\n### Files Created\n\n| File | Lines |\n| ---- | ----- |\n| types/user.ts | 45 |\n\n### Usage\n\n[How to use the generated code]\n```\n\n## Notes\n\n- Preserves comments where possible\n- Handles nested structures\n- Generates clean, idiomatic code\n- Validates output syntax\n- Supports stdin for piping"
              },
              {
                "name": "/gemini",
                "description": "Delegate a task to Google Gemini CLI",
                "path": "plugins/llm-tools/commands/gemini.md",
                "frontmatter": {
                  "argument-hint": "<prompt>",
                  "description": "Delegate a task to Google Gemini CLI",
                  "allowed-tools": [
                    "Bash",
                    "Read",
                    "AskUserQuestion"
                  ]
                },
                "content": "# Delegate to Gemini\n\n**If `$ARGUMENTS` is empty or not provided:**\n\nDisplay usage information and ask for input:\n\nThis command delegates tasks to Google Gemini CLI for analysis and code review.\n\n**Usage:** `/gemini <prompt>`\n\n**Examples:**\n\n| Command | Description |\n|---------|-------------|\n| `/gemini review the auth implementation` | Code review |\n| `/gemini explain this error handling pattern` | Code explanation |\n| `/gemini suggest improvements for this function` | Refactoring advice |\n| `/gemini what are the security implications here` | Security analysis |\n\n**Available Models:**\n\n| Model | Best For |\n|-------|----------|\n| `gemini-2.5-flash` | Fast responses, general tasks (default) |\n| `gemini-2.5-pro` | Complex reasoning, detailed analysis |\n| `gemini-2.0-flash-lite` | Quick, simple tasks |\n\nAsk the user: \"What would you like Gemini to analyze?\"\n\n---\n\n**If `$ARGUMENTS` is provided:**\n\nRun a task using Google Gemini CLI with the prompt: $ARGUMENTS\n\n## 1. Check Prerequisites\n\nFirst, verify Gemini CLI is installed:\n\n```bash\nwhich gemini\n```\n\nIf not found, inform the user:\n\n> Gemini CLI is not installed. Install it with:\n> ```bash\n> npm install -g @google/gemini-cli\n> ```\n> Then authenticate: `gemini` (will prompt for Google login) or set `GEMINI_API_KEY`\n\nThen ask if they want to proceed after installation or use a different LLM (`/codex` or `/ollama`).\n\n## 2. Select Model\n\nAsk the user which model to use:\n\n| Model | Best For |\n|-------|----------|\n| gemini-2.5-flash | Fast responses, general tasks |\n| gemini-2.5-pro | Complex reasoning, detailed analysis |\n| gemini-2.0-flash-lite | Quick, simple tasks |\n\nDefault: `gemini-2.5-flash`\n\n## 3. Include Context (Optional)\n\nAsk the user: \"Do you want to include additional context?\"\n\n| Option | Description |\n|--------|-------------|\n| No | Run with prompt only |\n| File context | Include contents of specific file(s) |\n| Diff context | Include git diff output |\n| Session context | Include summary of current Claude session |\n\nDefault: `No`\n\n**If \"File context\":**\n- Ask which file(s) to include\n- Read file contents and include in prompt\n\n**If \"Diff context\":**\n- Ask for diff scope: uncommitted, vs branch, or specific commits\n- Run appropriate git diff command and include output\n\n**If \"Session context\":**\n- Generate summary of current Claude session (~100 words)\n- Include goal, decisions made, files discussed\n\n## 4. Run Gemini\n\n**Without context:**\n\n```bash\ngemini \"<prompt>\" -m <model>\n```\n\n**With file context:**\n\n```bash\ncat <file> | gemini \"Given this code, <prompt>\" -m <model>\n```\n\n**With diff context:**\n\n```bash\ngit diff <scope> | gemini \"Review these changes: <prompt>\" -m <model>\n```\n\n**With session context:**\n\n```bash\ngemini \"$(cat <<'EOF'\n## Context\n\n[Session context summary]\n\n---\n\n## Task\n\n<prompt>\nEOF\n)\" -m <model>\n```\n\n## 5. Report Results\n\nAfter execution completes:\n\n- Display the response to the user\n- Ask if they want a follow-up question or different perspective\n- Offer to try `/codex` or `/ollama` for comparison\n\n## Error Handling\n\n- If Gemini CLI exits with error, display the error message\n- If API quota exceeded, suggest waiting or using `/ollama` (local, no quota)\n- If authentication fails, guide user to run `gemini auth login`\n\n## Notes\n\n- Gemini CLI requires `GEMINI_API_KEY` environment variable or OAuth login (run `gemini` to authenticate)\n- Install with: `npm install -g @google/gemini-cli`\n- For private/sensitive code, consider `/ollama` which keeps data local"
              },
              {
                "name": "/llm-compare",
                "description": "Compare responses from multiple LLMs",
                "path": "plugins/llm-tools/commands/llm-compare.md",
                "frontmatter": {
                  "argument-hint": "<prompt>",
                  "description": "Compare responses from multiple LLMs",
                  "model": "claude-opus-4-5-20251101",
                  "allowed-tools": [
                    "Bash",
                    "Read",
                    "AskUserQuestion"
                  ]
                },
                "content": "# Compare Multiple LLMs\n\n**If `$ARGUMENTS` is empty or not provided:**\n\nDisplay usage information and ask for input:\n\nThis command runs the same prompt through multiple LLMs and compares their responses.\n\n**Usage:** `/llm-compare <prompt>`\n\n**Examples:**\n\n| Command | Description |\n|---------|-------------|\n| `/llm-compare should I use microservices or monolith` | Architectural decision |\n| `/llm-compare review this error handling approach` | Code review comparison |\n| `/llm-compare what are the security risks here` | Security analysis |\n| `/llm-compare is this the idiomatic Go approach` | Best practices |\n\n**Available LLMs:**\n\n| LLM | Via | Notes |\n|-----|-----|-------|\n| OpenAI | `codex` CLI | Cloud-based, strong reasoning |\n| Gemini | `gemini` CLI | Cloud-based, good at analysis |\n| Ollama | `ollama` CLI | Local, private, various models |\n\nAsk the user: \"What question would you like multiple LLMs to answer?\"\n\n---\n\n**If `$ARGUMENTS` is provided:**\n\nCompare responses from multiple LLMs for: $ARGUMENTS\n\n## 1. Select LLMs to Compare\n\nAsk the user which LLMs to include (select 2-3):\n\n| LLM | Status | Notes |\n|-----|--------|-------|\n| OpenAI (Codex) | Check if `codex` installed | Requires API key |\n| Google Gemini | Check if `gemini` installed | Requires API key |\n| Ollama (Local) | Check if `ollama` running | Free, private |\n\nDefault: All available LLMs\n\nFor each selected LLM, verify it's available:\n- `which codex` for OpenAI\n- `which gemini` for Gemini\n- `ollama ps` for Ollama\n\nSkip unavailable LLMs with a note.\n\n## 2. Select Models (Optional)\n\nFor each selected LLM, ask if user wants to specify a model or use default:\n\n**OpenAI defaults:** `gpt-5.2`\n**Gemini defaults:** `gemini-2.5-flash`\n**Ollama defaults:** First available code model (codellama, deepseek-coder, etc.)\n\n## 3. Include Context (Optional)\n\nAsk the user: \"Include additional context?\"\n\n| Option | Description |\n|--------|-------------|\n| No | Run with prompt only |\n| File context | Include contents of specific file(s) |\n| Diff context | Include git diff output |\n\nDefault: `No`\n\nIf context is selected, gather it once and use for all LLMs.\n\n## 4. Run LLMs\n\nExecute each LLM. Where possible, run in parallel for speed.\n\n**OpenAI:**\n```bash\ncodex exec -m <model> -s read-only --skip-git-repo-check \"<prompt>\"\n```\n\n**Gemini:**\n```bash\ngemini \"<prompt>\" -m <model>\n```\n\n**Ollama:**\n```bash\nollama run <model> \"<prompt>\"\n```\n\nCapture output from each.\n\n## 5. Generate Comparison Report\n\nPresent results in a structured format:\n\n```markdown\n## LLM Comparison: <prompt>\n\n### OpenAI (gpt-5.2)\n\n[Response from OpenAI]\n\n---\n\n### Google Gemini (gemini-2.5-flash)\n\n[Response from Gemini]\n\n---\n\n### Ollama (codellama:34b)\n\n[Response from Ollama]\n\n---\n\n## Analysis\n\n### Points of Agreement\n- [List where models agree]\n\n### Key Differences\n- [List significant differences in approach/recommendation]\n\n### Synthesis\n[Your analysis as Claude combining insights from all responses]\n\n### Recommendation\nBased on the comparison:\n- If models agree: \"All models align on [approach]. This consensus suggests [conclusion].\"\n- If models disagree: \"Models differ on [aspect]. Consider [factors] when deciding.\"\n```\n\n## 6. Follow-up Options\n\nAfter presenting the comparison, offer:\n\n| Option | Description |\n|--------|-------------|\n| Drill into specific response | Ask follow-up to one specific LLM |\n| Re-run with different models | Try larger/different models |\n| Ask clarifying question | Refine the original prompt |\n| Accept recommendation | Proceed with suggested approach |\n\n## Error Handling\n\n- If one LLM fails, continue with others and note the failure\n- If all LLMs fail, report the errors and suggest troubleshooting\n- If response is truncated, note it and suggest re-running with simpler prompt\n\n## Performance Notes\n\n- Running 3 LLMs takes longer than one - set expectations\n- Local Ollama models may be slower but keep data private\n- Cloud LLMs (Codex, Gemini) are typically faster but require connectivity\n\n## Example Output\n\n```markdown\n## LLM Comparison: Should I use channels or mutexes for this shared counter?\n\n### OpenAI (gpt-5.2)\n\nFor a simple shared counter, a mutex is more appropriate. Channels are\ndesigned for communication between goroutines, not protecting shared\nstate. Use `sync/atomic` for even better performance with counters.\n\n---\n\n### Google Gemini (gemini-2.5-flash)\n\nBoth can work, but:\n- Mutex: simpler for protecting shared state\n- Channels: better for coordination/signaling\nFor a counter specifically, consider `sync/atomic.Int64` which avoids\nlocking entirely.\n\n---\n\n### Ollama (codellama:34b)\n\nUse a mutex with sync.Mutex for the counter. Channels add unnecessary\ncomplexity for simple shared state. The Go proverb \"share memory by\ncommunicating\" applies when you need coordination, not just protection.\n\n---\n\n## Analysis\n\n### Points of Agreement\n- All models agree mutex is more appropriate than channels for a counter\n- Multiple models suggest sync/atomic as an even better alternative\n\n### Key Differences\n- Gemini provides more nuanced \"it depends\" framing\n- CodeLlama quotes Go philosophy directly\n\n### Recommendation\nStrong consensus: Use `sync/atomic` for counters, or `sync.Mutex` if you\nneed more complex operations. Channels are overkill for this use case.\n```"
              },
              {
                "name": "/ollama",
                "description": "Use local models via Ollama (private, data stays local)",
                "path": "plugins/llm-tools/commands/ollama.md",
                "frontmatter": {
                  "argument-hint": "<prompt>",
                  "description": "Use local models via Ollama (private, data stays local)",
                  "allowed-tools": [
                    "Bash",
                    "Read",
                    "AskUserQuestion"
                  ]
                },
                "content": "# Use Local Models via Ollama\n\n**If `$ARGUMENTS` is empty or not provided:**\n\nDisplay usage information and ask for input:\n\nThis command runs prompts through local models via Ollama. Your data stays on your machine.\n\n**Usage:** `/ollama <prompt>`\n\n**Examples:**\n\n| Command | Description |\n|---------|-------------|\n| `/ollama review this authentication code` | Code review |\n| `/ollama explain this concurrent pattern` | Code explanation |\n| `/ollama suggest Go idioms for this function` | Best practices |\n| `/ollama what security issues do you see` | Security analysis |\n\n**Recommended Models for Code:**\n\n| Model | Best For |\n|-------|----------|\n| `codellama:34b` | Code generation, large context |\n| `deepseek-coder:33b` | Code review, analysis |\n| `qwen2.5-coder:32b` | Code-focused tasks |\n| `llama3.3:70b` | General reasoning, complex tasks |\n\n**Privacy Note:** All processing happens locally. Your code never leaves your machine.\n\nAsk the user: \"What would you like to analyze locally?\"\n\n---\n\n**If `$ARGUMENTS` is provided:**\n\nRun a task using Ollama with the prompt: $ARGUMENTS\n\n## 1. Check Prerequisites\n\nFirst, check if Ollama is installed:\n\n```bash\nwhich ollama\n```\n\nIf not found, inform the user:\n\n> Ollama is not installed. Install it with:\n> ```bash\n> brew install ollama\n> ```\n> Or visit: https://ollama.ai\n\nThen ask if they want to proceed after installation or use `/codex` or `/gemini` instead.\n\n## 2. Check if Ollama is Running\n\n```bash\nollama ps 2>/dev/null\n```\n\nIf not running or errors, offer to start it:\n\n> Ollama server is not running. Would you like me to start it?\n\nIf yes:\n```bash\nollama serve &\nsleep 2\n```\n\n## 3. List Available Models\n\n```bash\nollama list\n```\n\nShow the user which models are already downloaded.\n\n## 4. Select Model\n\nAsk the user which model to use:\n\n| Model | Size | Best For |\n|-------|------|----------|\n| codellama:34b | ~19GB | Code generation, large context |\n| deepseek-coder:33b | ~19GB | Code review, detailed analysis |\n| qwen2.5-coder:32b | ~18GB | Code-focused tasks |\n| llama3.3:70b | ~40GB | General reasoning, complex tasks |\n| codellama:7b | ~4GB | Quick code tasks, lower resources |\n| llama3.2:3b | ~2GB | Fast responses, limited complexity |\n\nDefault: `codellama:34b` (or first available code model)\n\n**If selected model is not downloaded:**\n\nAsk user: \"Model `<model>` is not downloaded (~<size>). Download it now?\"\n\nIf yes:\n```bash\nollama pull <model>\n```\n\nNote: This may take several minutes depending on model size and connection speed.\n\n## 5. Include Context (Optional)\n\nAsk the user: \"Do you want to include additional context?\"\n\n| Option | Description |\n|--------|-------------|\n| No | Run with prompt only |\n| File context | Include contents of specific file(s) |\n| Diff context | Include git diff output |\n| Session context | Include summary of current Claude session |\n\nDefault: `No`\n\n**If \"File context\":**\n- Ask which file(s) to include\n- Read file contents and prepend to prompt\n\n**If \"Diff context\":**\n- Ask for diff scope: uncommitted, vs branch, or specific commits\n- Run appropriate git diff command and include output\n\n**If \"Session context\":**\n- Generate summary of current Claude session (~100 words)\n\n## 6. Run Ollama\n\n**Without context:**\n\n```bash\nollama run <model> \"<prompt>\"\n```\n\n**With file context:**\n\n```bash\ncat <file> | ollama run <model> \"Given this code:\n\n$(cat)\n\n<prompt>\"\n```\n\n**With diff context:**\n\n```bash\ngit diff <scope> | ollama run <model> \"Review these changes:\n\n$(cat)\n\n<prompt>\"\n```\n\n**With session context:**\n\n```bash\nollama run <model> \"$(cat <<'EOF'\n## Context\n\n[Session context summary]\n\n---\n\n## Task\n\n<prompt>\nEOF\n)\"\n```\n\n## 7. Report Results\n\nAfter execution completes:\n\n- Display the response to the user\n- Ask if they want a follow-up question\n- Offer to try a different model or compare with `/codex` or `/gemini`\n\n## Error Handling\n\n- If model loading fails (OOM), suggest a smaller model\n- If Ollama crashes, suggest restarting with `ollama serve`\n- If response is cut off, model may have hit context limit - suggest summarizing input\n\n## Performance Tips\n\n- First run of a model is slower (loading into memory)\n- Subsequent prompts to same model are faster\n- Close other memory-intensive apps for best performance\n- Consider smaller models (7b/3b) for quick tasks\n\n## Privacy Advantage\n\nUnlike cloud LLMs, Ollama runs entirely locally:\n- No data sent to external servers\n- Works offline after model download\n- Ideal for proprietary/sensitive code\n- No API keys or accounts needed"
              }
            ],
            "skills": []
          },
          {
            "name": "go-web",
            "description": "Opinionated Go web app scaffolding with Templ + HTMX + Alpine.js + Tailwind",
            "source": "./plugins/go-web",
            "category": null,
            "version": "1.1.0",
            "author": null,
            "install_commands": [
              "/plugin marketplace add gopherguides/gopher-ai",
              "/plugin install go-web@gopher-ai"
            ],
            "signals": {
              "stars": 2,
              "forks": 0,
              "pushed_at": "2026-01-11T22:43:18Z",
              "created_at": "2025-12-16T18:41:10Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/cancel-loop",
                "description": "Cancel any active persistent loop",
                "path": "plugins/go-web/commands/cancel-loop.md",
                "frontmatter": {
                  "argument-hint": "[loop-name]",
                  "description": "Cancel any active persistent loop",
                  "allowed-tools": [
                    "Bash"
                  ]
                },
                "content": "# Cancel Loop\n\nCancel the currently active persistent loop and allow normal session behavior.\n\n**Usage:**\n- `/cancel-loop` - Cancel all active loops\n- `/cancel-loop <name>` - Cancel a specific loop by name\n\n## Execute Cancellation\n\n!`\"${CLAUDE_PLUGIN_ROOT}/scripts/cleanup-loop.sh\" \"$ARGUMENTS\"`\n\n## Result\n\nThe loop has been cancelled. You can now exit the session normally or start a new task.\n\nIf you want to restart the previous task, you can run the original command again."
              },
              {
                "name": "/convert-to-go-project",
                "description": "Convert an existing project to the Go + Templ + HTMX + Tailwind stack",
                "path": "plugins/go-web/commands/convert-to-go-project.md",
                "frontmatter": {
                  "argument-hint": "[target-directory]",
                  "description": "Convert an existing project to the Go + Templ + HTMX + Tailwind stack",
                  "model": "claude-opus-4-5-20251101",
                  "allowed-tools": [
                    "Bash",
                    "Read",
                    "Write",
                    "Edit",
                    "Glob",
                    "Grep",
                    "AskUserQuestion"
                  ]
                },
                "content": "# Convert to Go Project\n\n**If `$ARGUMENTS` is empty or not provided:**\n\nThis command converts an existing project to the Go + Templ + HTMX + Tailwind stack.\n\nIt will analyze your current project, identify what can be preserved, and incrementally\nadd Go stack files while migrating your existing logic.\n\n**Usage:** `/convert-to-go-project [target-directory]`\n\n**Examples:**\n\n- `/convert-to-go-project` - Convert current directory\n- `/convert-to-go-project ./my-project` - Convert specific directory\n\n**Workflow:**\n\n1. Analyze existing project structure and technologies\n2. Ask about conversion scope (full vs. incremental)\n3. Ask database and service preferences\n4. Create Go project structure alongside existing files\n5. Migrate routes, handlers, and templates\n6. Provide migration guidance for remaining code\n\nProceed to analyze the current directory.\n\n---\n\n**If `$ARGUMENTS` is provided:**\n\nConvert the project at `$ARGUMENTS` (or current directory if `.`) to the Go stack.\n\n## Loop Initialization\n\nInitialize persistent loop to ensure conversion completes fully:\n!`\"${CLAUDE_PLUGIN_ROOT}/scripts/setup-loop.sh\" \"convert-to-go-project\" \"COMPLETE\"`\n\n## Step 1: Project Analysis\n\nScan the target directory to detect existing technologies.\n\n### Detection Checks\n\nRun these checks to identify the current stack:\n\n| File/Pattern | Technology | Detection Command |\n|--------------|------------|-------------------|\n| `package.json` | Node.js | Check for express, fastify, next, etc. |\n| `requirements.txt` or `pyproject.toml` | Python | Check for django, flask, fastapi |\n| `composer.json` | PHP | Check for laravel, symfony |\n| `go.mod` | Go (existing) | Already Go - extend rather than convert |\n| `Gemfile` | Ruby | Check for rails, sinatra |\n| `*.sql` or `schema.prisma` | Database schema | Existing database structure |\n| `Dockerfile` | Docker | Container configuration |\n| `.env` or `.envrc` | Environment | Existing configuration |\n| `CLAUDE.md`, `LLM.md`, `AGENTS.md` | AI Context | Existing AI assistant instructions |\n\n### Present Analysis Results\n\nAfter scanning, present findings to the user:\n\n```text\n## Project Analysis Results\n\n**Detected Technologies:**\n- [List detected frameworks/languages]\n\n**Database:**\n- [Detected database type or \"None detected\"]\n\n**AI Context Files:**\n- [Found: CLAUDE.md / LLM.md / AGENTS.md] or \"None found - will create CLAUDE.md\"\n\n**Existing Files to Preserve:**\n- README.md\n- .git/\n- [AI context file if found]\n- [Other important files]\n\n**Files to Migrate:**\n- [Routes/controllers]\n- [Templates/views]\n- [Database models]\n\n**Files to Replace:**\n- [Framework-specific config]\n```\n\nAsk the user to confirm the analysis is correct.\n\n---\n\n## Step 2: Gather Conversion Requirements\n\n<default_deployment_choice>\nWhen the user hasn't expressed a strong preference, default to recommending **Vercel + Neon PostgreSQL**\nas the deployment stack. This combination offers:\n\n- Completely free tier for most projects\n- Zero server management\n- Automatic deployments from GitHub\n- Production-ready from day one\n\nOnly suggest Railway, Fly.io, or self-hosted if the user:\n\n- Explicitly requests it\n- Needs SQLite in production\n- Has specific requirements that Vercel can't meet\n</default_deployment_choice>\n\nUse AskUserQuestion for each of these:\n\n### Conversion Scope\n\n| Option | Description |\n|--------|-------------|\n| **Full conversion** | Replace entire stack with Go |\n| **Incremental** | Add Go alongside existing code |\n| **Backend only** | Convert backend, keep frontend as-is |\n\n**Plain explanations:**\n\n- **Full conversion**: Best for smaller projects. We'll convert everything at once -\n  routes, templates, database queries. Old framework files will be removed.\n\n- **Incremental**: Best for larger projects. We'll add Go files alongside your existing\n  code. You can run both during transition and migrate piece by piece.\n\n- **Backend only**: Keep your frontend (React, Vue, etc.) and just convert the API\n  to Go. Good if you have a separate frontend app.\n\n### Database Selection\n\n| Database | Best For |\n|----------|----------|\n| **PostgreSQL** (recommended) | Production apps, complex queries. Requires server (Neon, Supabase, or local) |\n| **SQLite** | Prototypes, single-user apps. Just a file - no server needed |\n| **MySQL** | Existing MySQL infrastructure |\n\n**Plain explanations for beginners:**\n\n- **PostgreSQL**: The \"professional\" choice used by most startups. Excellent for complex\n  data and scales well. You'll need PostgreSQL installed locally or use a cloud service\n  like Neon (free tier), Supabase, or Railway.\n\n- **SQLite**: Perfect for getting started quickly. Your database is just a single file -\n  no server needed. Great for prototypes and learning, but has limitations with multiple\n  users accessing at once.\n\n- **MySQL**: Choose this if your company already uses MySQL or you're migrating from\n  PHP/WordPress. Similar capabilities to PostgreSQL.\n\n### Optional Services\n\nAsk the user which services to include (multi-select allowed):\n\n| Service | Purpose |\n|---------|---------|\n| **Clerk** | User login/signup, password reset, sessions |\n| **Brevo** | Send emails (welcome, notifications, password reset) |\n| **Stripe** | Accept payments (credit cards, subscriptions) |\n| **None** | Skip - add services later |\n\n**Plain explanations for beginners:**\n\n- **Clerk**: Handles user accounts so you don't build login forms, password reset,\n  and email verification yourself. They handle security - you focus on your app.\n  Free tier is generous. Visit <https://clerk.com>\n\n- **Brevo** (formerly Sendinblue): When your app needs to send emails - welcome\n  messages, password resets, notifications. They handle deliverability so your\n  emails don't end up in spam. Free tier: 300 emails/day. Visit <https://brevo.com>\n\n- **Stripe**: For accepting payments - credit cards, subscriptions, invoices.\n  They handle compliance (PCI-DSS) so you never touch card numbers directly.\n  You only pay when you make money. Visit <https://stripe.com>\n\n### Admin Dashboard\n\n| Option | Description |\n|--------|-------------|\n| **Yes** | Include admin UI with dark/light mode |\n| **No** | Skip admin UI |\n\n### Deployment Platform\n\n| Platform | When to Use | Cost |\n|----------|-------------|------|\n| **Vercel + Neon** | Default choice for most projects | Free tier |\n| **Railway** | Need SQLite or traditional server | $5/mo credit |\n| **Fly.io** | Need global edge or SQLite | Limited free |\n| **Self-hosted** | Full control required | You manage |\n\n**Why Vercel + Neon is the default:**\n\nFor most new Go projects, we recommend Vercel + Neon PostgreSQL because:\n\n1. Both have generous free tiers (no credit card required)\n2. GitHub integration means automatic deployments\n3. No server management - focus on your code\n4. Professional production setup from the start\n\nIf you're prototyping locally with SQLite and want to keep it simple,\nRailway or Fly.io are better choices since they support persistent volumes.\n\n**Plain explanations for beginners:**\n\n- **Vercel + Neon**: Completely free for most projects. Connect your GitHub repo\n  and it auto-deploys. 100,000 free requests/month. Neon provides free PostgreSQL.\n  This is the recommended free hosting stack for production apps.\n\n- **Railway**: Like Heroku but modern. Your app runs as a traditional server (same\n  as local development). $5/month credit usually covers small projects for free.\n  Good choice for SQLite or if you want a traditional server setup.\n\n- **Fly.io**: Runs your app in multiple locations worldwide for faster access.\n  More setup required (Docker helps) but great for global users. Works well with\n  SQLite (persistent volumes) or any database.\n\n- **Self-hosted**: You manage the server yourself. More work but full control.\n  Best for SQLite production deployments.\n\n**Example recommendation flow:**\n\n- User: \"Where should I deploy?\" → Default to Vercel + Neon\n- User chose SQLite earlier → Recommend Railway or Fly.io\n- User: \"I need to self-host\" → Provide self-hosted guidance\n\n---\n\n## Step 3: Migration Strategy\n\nBased on the detected framework, provide specific migration guidance.\n\n### Express.js to Echo\n\n**Route Mapping:**\n\n```javascript\n// Express (before)\nrouter.get('/users', usersController.list);\nrouter.post('/users', usersController.create);\nrouter.get('/users/:id', usersController.show);\nrouter.put('/users/:id', usersController.update);\nrouter.delete('/users/:id', usersController.delete);\n```\n\n```go\n// Echo (after)\ne.GET(\"/users\", h.UserList)\ne.POST(\"/users\", h.UserCreate)\ne.GET(\"/users/:id\", h.UserShow)\ne.PUT(\"/users/:id\", h.UserUpdate)\ne.DELETE(\"/users/:id\", h.UserDelete)\n```\n\n**Middleware Conversion:**\n\n```javascript\n// Express middleware\napp.use(cors());\napp.use(express.json());\napp.use(morgan('dev'));\n```\n\n```go\n// Echo middleware\ne.Use(middleware.CORS())\ne.Use(middleware.Logger())\ne.Use(middleware.Recover())\n```\n\n**Controller to Handler:**\n\n```javascript\n// Express controller\nexports.list = async (req, res) => {\n  const users = await User.findAll();\n  res.json(users);\n};\n```\n\n```go\n// Go handler\nfunc (h *Handler) UserList(c echo.Context) error {\n    ctx := c.Request().Context()\n    users, err := h.db.Queries.ListUsers(ctx)\n    if err != nil {\n        return err\n    }\n    return c.JSON(http.StatusOK, users)\n}\n```\n\n### Django/Flask to Go\n\n**URL Patterns:**\n\n```python\n# Django\nurlpatterns = [\n    path('users/', views.user_list, name='user_list'),\n    path('users/<int:pk>/', views.user_detail, name='user_detail'),\n]\n\n# Flask\n@app.route('/users')\ndef user_list():\n    ...\n```\n\n```go\n// Echo\ne.GET(\"/users\", h.UserList)\ne.GET(\"/users/:id\", h.UserDetail)\n```\n\n**Django Template to Templ:**\n\n```django\n{% extends \"base.html\" %}\n{% block content %}\n  <h1>{{ user.name }}</h1>\n  {% for post in posts %}\n    <article>{{ post.title }}</article>\n  {% endfor %}\n{% endblock %}\n```\n\n```templ\npackage pages\n\nimport \"myapp/templates/layouts\"\n\ntempl UserDetail(user User, posts []Post) {\n    @layouts.Base(\"User\") {\n        <h1>{ user.Name }</h1>\n        for _, post := range posts {\n            <article>{ post.Title }</article>\n        }\n    }\n}\n```\n\n**Django Model to goose Migration:**\n\n```python\n# Django model\nclass User(models.Model):\n    email = models.EmailField(unique=True)\n    name = models.CharField(max_length=100)\n    created_at = models.DateTimeField(auto_now_add=True)\n```\n\n```sql\n-- goose migration\n-- +goose Up\nCREATE TABLE users (\n    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    email VARCHAR(255) UNIQUE NOT NULL,\n    name VARCHAR(100),\n    created_at TIMESTAMPTZ DEFAULT NOW()\n);\n\n-- +goose Down\nDROP TABLE IF EXISTS users;\n```\n\n### Laravel to Go\n\n**Route Mapping:**\n\n```php\n// Laravel\nRoute::get('/users', [UserController::class, 'index']);\nRoute::post('/users', [UserController::class, 'store']);\nRoute::get('/users/{user}', [UserController::class, 'show']);\n```\n\n```go\n// Echo\ne.GET(\"/users\", h.UserIndex)\ne.POST(\"/users\", h.UserStore)\ne.GET(\"/users/:id\", h.UserShow)\n```\n\n**Blade to Templ:**\n\n```blade\n@extends('layouts.app')\n\n@section('content')\n    <h1>{{ $user->name }}</h1>\n    @foreach($posts as $post)\n        <article>{{ $post->title }}</article>\n    @endforeach\n@endsection\n```\n\n```templ\npackage pages\n\nimport \"myapp/templates/layouts\"\n\ntempl UserShow(user User, posts []Post) {\n    @layouts.Base(\"User\") {\n        <h1>{ user.Name }</h1>\n        for _, post := range posts {\n            <article>{ post.Title }</article>\n        }\n    }\n}\n```\n\n**Eloquent to sqlc:**\n\n```php\n// Laravel Eloquent\n$users = User::where('active', true)->orderBy('name')->get();\n```\n\n```sql\n-- sqlc query\n-- name: ListActiveUsers :many\nSELECT * FROM users WHERE active = true ORDER BY name;\n```\n\n### Next.js to Go + HTMX\n\n**API Routes:**\n\n```javascript\n// Next.js API route (pages/api/users.js)\nexport default async function handler(req, res) {\n  if (req.method === 'GET') {\n    const users = await prisma.user.findMany();\n    res.json(users);\n  }\n}\n```\n\n```go\n// Go handler\nfunc (h *Handler) UserList(c echo.Context) error {\n    users, err := h.db.Queries.ListUsers(c.Request().Context())\n    if err != nil {\n        return err\n    }\n    return c.JSON(http.StatusOK, users)\n}\n```\n\n**React Component to Templ + HTMX:**\n\n```jsx\n// React with fetch\nfunction UserList() {\n  const [users, setUsers] = useState([]);\n  useEffect(() => {\n    fetch('/api/users').then(r => r.json()).then(setUsers);\n  }, []);\n  return <ul>{users.map(u => <li key={u.id}>{u.name}</li>)}</ul>;\n}\n```\n\n```templ\n// Templ with HTMX\ntempl UserList(users []User) {\n    <ul hx-get=\"/users\" hx-trigger=\"load\" hx-swap=\"innerHTML\">\n        for _, user := range users {\n            <li>{ user.Name }</li>\n        }\n    </ul>\n}\n```\n\n### Client-Side Interactivity with templUI\n\ntemplUI components handle client-side interactivity (dropdowns, modals, sidebars) via vanilla JavaScript\n`Script()` templates. HTMX handles server communication. Together they replace heavy JavaScript frameworks.\n\n**Important:** templUI does NOT use Alpine.js. Each interactive component has a `Script()` template that\nmust be included in your layout's `<head>`:\n\n```templ\n<head>\n    @sidebar.Script()   // Required for: sidebar\n    @dialog.Script()    // Required for: dialog, sheet, alertdialog\n    @popover.Script()   // Required for: popover, dropdown, tooltip, combobox\n    @accordion.Script() // Required for: accordion, collapsible\n    @tabs.Script()      // Required for: tabs\n</head>\n```\n\n**jQuery to templUI:**\n\n```javascript\n// jQuery (before)\n$('.dropdown-toggle').click(function() {\n  $(this).next('.dropdown-menu').toggle();\n});\n```\n\n```templ\n// templUI (after) - use dropdown component\n@dropdown.Root() {\n    @dropdown.Trigger() {\n        <button>Toggle</button>\n    }\n    @dropdown.Content() {\n        @dropdown.Item() { Option 1 }\n        @dropdown.Item() { Option 2 }\n    }\n}\n```\n\n**React useState to templUI:**\n\n```jsx\n// React (before)\nconst [isOpen, setIsOpen] = useState(false);\nreturn (\n  <dialog open={isOpen}>...</dialog>\n);\n```\n\n```templ\n// templUI (after) - use dialog component\n@dialog.Root() {\n    @dialog.Trigger() {\n        <button>Open Dialog</button>\n    }\n    @dialog.Content() {\n        // Dialog content\n    }\n}\n```\n\n**Common templUI component patterns:**\n\n| Pattern | templUI Component |\n|---------|-------------------|\n| Toggle visibility | `@dialog.Root()` with trigger/content |\n| Dropdown menu | `@dropdown.Root()` |\n| Sidebar navigation | `@sidebar.Root()` |\n| Accordion/Collapsible | `@accordion.Root()` |\n| Tabs | `@tabs.Root()` |\n| Tooltip | `@tooltip.Root()` |\n| Modal/Sheet | `@dialog.Root()` or `@sheet.Root()` |\n\n> **CRITICAL: Templ Interpolation in JavaScript**\n> Go expressions `{ value }` do NOT work inside `<script>` tags or inline event handler strings.\n> - **Data attributes**: `data-id={ value }` + `this.dataset.id` in JS\n> - **templ.JSFuncCall**: `onclick={ templ.JSFuncCall(\"fn\", value) }` for onclick handlers\n> - **Double braces**: `{{ value }}` (double braces) inside `<script>` tag strings\n>\n> If you see `%7B` or `%7D` in URLs, that's a literal `{` or `}` that wasn't interpolated.\n\n---\n\n## Step 4: Create Go Project Structure\n\nAdd Go files to the project. Create the same structure as `/create-go-project`:\n\n```text\n[existing-project]/\n├── cmd/server/           # NEW\n├── internal/             # NEW\n├── templates/            # NEW (migrate existing views)\n├── migrations/           # NEW (from existing schema)\n├── sqlc/                 # NEW\n├── static/               # KEEP or merge with existing\n├── .air.toml             # NEW\n├── Makefile              # NEW\n├── go.mod                # NEW\n├── [existing files]      # PRESERVE during transition\n```\n\n### File Creation Order\n\n1. **Foundation files:** go.mod, .gitignore additions, .air.toml, Makefile\n2. **Configuration:** internal/config/config.go, sqlc/sqlc.yaml\n3. **Database:** internal/database/database.go, migrations (from existing schema)\n4. **SEO/Meta:** internal/meta/meta.go, templates/layouts/meta.templ\n5. **Core Go:** internal/middleware, internal/handler\n6. **Templates:** Convert existing views to Templ (including meta integration)\n7. **Entry point:** cmd/server/main.go, cmd/server/slog.go\n8. **Documentation:** CLAUDE.md for AI assistant guidance\n\n### Core Files\n\nCreate these files in order (dependencies matter):\n\n#### go.mod\n\n```go\nmodule [project-name]\n\ngo 1.25\n\nrequire (\n    github.com/labstack/echo/v4 v4.14.0\n    github.com/a-h/templ v0.3.960\n    github.com/lmittmann/tint v1.1.2\n    github.com/pressly/goose/v3 v3.26.0\n    // Database driver added based on selection\n    // Service SDKs added based on selection\n)\n```\n\n**Database-specific additions:**\n\n- PostgreSQL: `github.com/jackc/pgx/v5`, `github.com/google/uuid`\n- SQLite: `modernc.org/sqlite` (CGO-free, pure Go)\n- MySQL: `github.com/go-sql-driver/mysql`\n\n#### .gitignore\n\n```text\n# Binaries\n[project-name]\n*.exe\n\n# Build artifacts\ntmp/\n*.log\n\n# Environment (never commit secrets)\n.envrc\n.env\n\n# SQLite database files\ndata/*.db\n\n# Generated files (can be regenerated)\n*_templ.go\ninternal/database/sqlc/\n\n# Dependencies\nnode_modules/\n\n# IDE\n.idea/\n.vscode/\n*.swp\n\n# OS\n.DS_Store\nThumbs.db\n\n# Tailwind output (generated)\nstatic/css/output.css\n```\n\n#### .envrc.example\n\n```bash\n# Copy this file to .envrc and edit with your values\n# Then run: direnv allow\n\n# Database\n# PostgreSQL: postgres://user:pass@localhost:5432/dbname?sslmode=disable\n# SQLite: ./data/[project-name].db\n# MySQL: user:pass@tcp(localhost:3306)/dbname\nexport DATABASE_URL=\"YOUR_DATABASE_URL_HERE\"\n\n# Server\nexport PORT=\"3000\"\nexport ENV=\"development\"\nexport LOG_LEVEL=\"DEBUG\"\n\n# Site / SEO (used for meta tags, OG, etc.)\nexport SITE_NAME=\"[project-name]\"\nexport SITE_URL=\"http://localhost:3000\"\nexport DEFAULT_OG_IMAGE=\"/static/images/og-default.png\"\n\n# CLERK_SECRET_KEY and CLERK_PUBLISHABLE_KEY if Clerk selected\n# BREVO_API_KEY if Brevo selected\n# STRIPE_SECRET_KEY, STRIPE_PUBLISHABLE_KEY, STRIPE_WEBHOOK_SECRET if Stripe selected\n```\n\n#### .envrc (working environment file)\n\n**IMPORTANT:** Also create the actual `.envrc` file with working defaults based on the selected database:\n\n**For SQLite:**\n```bash\n# Environment configuration for [project-name]\n# Automatically generated - modify as needed\n\n# Database (SQLite)\nexport DATABASE_URL=\"./data/[project-name].db\"\n\n# Server\nexport PORT=\"3000\"\nexport ENV=\"development\"\nexport LOG_LEVEL=\"DEBUG\"\n\n# Site / SEO\nexport SITE_NAME=\"[project-name]\"\nexport SITE_URL=\"http://localhost:3000\"\nexport DEFAULT_OG_IMAGE=\"/static/images/og-default.png\"\n```\n\n**For PostgreSQL:**\n```bash\n# Environment configuration for [project-name]\n# Automatically generated - modify DATABASE_URL with your credentials\n\n# Database (PostgreSQL) - UPDATE WITH YOUR CREDENTIALS\nexport DATABASE_URL=\"postgres://localhost:5432/[project-name]?sslmode=disable\"\n\n# Server\nexport PORT=\"3000\"\nexport ENV=\"development\"\nexport LOG_LEVEL=\"DEBUG\"\n\n# Site / SEO\nexport SITE_NAME=\"[project-name]\"\nexport SITE_URL=\"http://localhost:3000\"\nexport DEFAULT_OG_IMAGE=\"/static/images/og-default.png\"\n```\n\n**For MySQL:**\n```bash\n# Environment configuration for [project-name]\n# Automatically generated - modify DATABASE_URL with your credentials\n\n# Database (MySQL) - UPDATE WITH YOUR CREDENTIALS\nexport DATABASE_URL=\"root@tcp(localhost:3306)/[project-name]\"\n\n# Server\nexport PORT=\"3000\"\nexport ENV=\"development\"\nexport LOG_LEVEL=\"DEBUG\"\n\n# Site / SEO\nexport SITE_NAME=\"[project-name]\"\nexport SITE_URL=\"http://localhost:3000\"\nexport DEFAULT_OG_IMAGE=\"/static/images/og-default.png\"\n```\n\n#### data/.gitkeep (for SQLite projects only)\n\nFor SQLite projects, create the data directory:\n\n```bash\nmkdir -p data\ntouch data/.gitkeep\n```\n\n#### package.json\n\n```json\n{\n  \"name\": \"[project-name]\",\n  \"private\": true,\n  \"scripts\": {\n    \"css\": \"npx @tailwindcss/cli -i static/css/input.css -o static/css/output.css --minify\",\n    \"css:watch\": \"npx @tailwindcss/cli -i static/css/input.css -o static/css/output.css --watch\"\n  },\n  \"devDependencies\": {\n    \"tailwindcss\": \"^4.0.0\",\n    \"@tailwindcss/cli\": \"^4.0.0\"\n  }\n}\n```\n\n#### Makefile\n\n```makefile\nSHELL := /bin/bash\n\n.PHONY: dev build test lint generate css css-watch migrate migrate-down migrate-status migrate-create setup clean run help\n\nBINARY_NAME=[project-name]\nMIGRATIONS_DIR=internal/database/migrations\n\ndev:\n    @if [ -f tmp/air-combined.log ]; then \\\n        mv tmp/air-combined.log tmp/air-combined-$$(date +%Y%m%d-%H%M%S).log; \\\n    fi\n    @ls -t tmp/air-combined-*.log 2>/dev/null | tail -n +6 | xargs rm -f 2>/dev/null || true\n    @air 2>&1 | tee tmp/air-combined.log\n\nbuild: generate css\n    go build -o $(BINARY_NAME) ./cmd/server\n\ntest:\n    go test -v -race ./...\n\nlint:\n    golangci-lint run\n    templ fmt templates/\n\ngenerate:\n    go generate ./...\n\ncss:\n    npx @tailwindcss/cli -i static/css/input.css -o static/css/output.css --minify\n\ncss-watch:\n    npx @tailwindcss/cli -i static/css/input.css -o static/css/output.css --watch\n\n# Database migration commands vary by database type\n# PostgreSQL: goose -dir $(MIGRATIONS_DIR) postgres \"$$DATABASE_URL\" up\n# SQLite: goose -dir $(MIGRATIONS_DIR) sqlite3 \"$$DATABASE_URL\" up\n# MySQL: goose -dir $(MIGRATIONS_DIR) mysql \"$$DATABASE_URL\" up\nmigrate:\n    goose -dir $(MIGRATIONS_DIR) DATABASE_TYPE \"$$DATABASE_URL\" up\n\nmigrate-down:\n    goose -dir $(MIGRATIONS_DIR) DATABASE_TYPE \"$$DATABASE_URL\" down\n\nmigrate-status:\n    goose -dir $(MIGRATIONS_DIR) DATABASE_TYPE \"$$DATABASE_URL\" status\n\nmigrate-create:\nifndef NAME\n    $(error NAME is required. Usage: make migrate-create NAME=create_users)\nendif\n    goose -dir $(MIGRATIONS_DIR) create $(NAME) sql\n\nsetup:\n    go install github.com/air-verse/air@latest\n    go install github.com/a-h/templ/cmd/templ@latest\n    go install github.com/sqlc-dev/sqlc/cmd/sqlc@latest\n    go install github.com/pressly/goose/v3/cmd/goose@latest\n    go install github.com/golangci/golangci-lint/cmd/golangci-lint@latest\n\nclean:\n    rm -f $(BINARY_NAME)\n    rm -rf tmp/\n    rm -f static/css/output.css\n\nrun: build\n    ./$(BINARY_NAME)\n\nhelp:\n    @echo \"Available targets:\"\n    @echo \"  dev            - Run with Air hot reload\"\n    @echo \"  build          - Build the binary\"\n    @echo \"  test           - Run tests\"\n    @echo \"  lint           - Run golangci-lint and templ fmt\"\n    @echo \"  generate       - Generate templ and sqlc code\"\n    @echo \"  css            - Build Tailwind CSS\"\n    @echo \"  css-watch      - Watch and rebuild Tailwind CSS\"\n    @echo \"  migrate        - Run database migrations\"\n    @echo \"  migrate-down   - Rollback last migration\"\n    @echo \"  migrate-status - Show migration status\"\n    @echo \"  migrate-create - Create new migration (NAME=xxx)\"\n    @echo \"  setup          - Install development tools\"\n    @echo \"  clean          - Remove build artifacts\"\n    @echo \"  run            - Build and run the server\"\n```\n\nReplace `DATABASE_TYPE` with `postgres`, `sqlite3`, or `mysql` based on selection.\n\n#### .air.toml\n\n```toml\nroot = \".\"\ntestdata_dir = \"testdata\"\ntmp_dir = \"tmp\"\n\n[build]\n  args_bin = []\n  bin = \"./tmp/[project-name]\"\n  cmd = \"go build -o ./tmp/[project-name] ./cmd/server\"\n  delay = 1000\n  exclude_dir = [\"assets\", \"tmp\", \"vendor\", \"testdata\", \"node_modules\", \"static\", \"internal/database/sqlc\"]\n  exclude_file = [\"go.sum\"]\n  exclude_regex = [\"_test.go\", \"_templ\\\\.go$\"]\n  exclude_unchanged = false\n  follow_symlink = false\n  full_bin = \"\"\n  include_dir = []\n  include_ext = [\"go\", \"tpl\", \"tmpl\", \"html\", \"templ\", \"css\"]\n  include_file = []\n  kill_delay = \"2s\"\n  log = \"build-errors.log\"\n  poll = false\n  poll_interval = 0\n  post_cmd = []\n  pre_cmd = [\n    \"lsof -ti:${PORT:-3000} | xargs kill -9 2>/dev/null || true; sleep 0.5\",\n    \"go generate ./...\",\n    \"go mod tidy\"\n  ]\n  rerun = false\n  rerun_delay = 500\n  send_interrupt = false\n  stop_on_error = false\n\n[color]\n  app = \"\"\n  build = \"yellow\"\n  main = \"magenta\"\n  runner = \"green\"\n  watcher = \"cyan\"\n\n[log]\n  main_only = false\n  time = false\n\n[misc]\n  clean_on_exit = false\n\n[proxy]\n  app_port = 0\n  enabled = false\n  proxy_port = 0\n\n[screen]\n  clear_on_rebuild = false\n  keep_scroll = true\n```\n\n#### sqlc/sqlc.yaml\n\n**For PostgreSQL:**\n\n```yaml\nversion: \"2\"\nsql:\n  - engine: \"postgresql\"\n    queries: \"queries/\"\n    schema: \"../internal/database/migrations/\"\n    gen:\n      go:\n        package: \"sqlc\"\n        out: \"../internal/database/sqlc\"\n        sql_package: \"pgx/v5\"\n        emit_json_tags: true\n        emit_empty_slices: true\n        emit_pointers_for_null_types: true\n        overrides:\n          - db_type: \"uuid\"\n            go_type:\n              import: \"github.com/google/uuid\"\n              type: \"UUID\"\n          - db_type: \"timestamptz\"\n            go_type: \"time.Time\"\n```\n\n**For SQLite:**\n\n```yaml\nversion: \"2\"\nsql:\n  - engine: \"sqlite\"\n    queries: \"queries/\"\n    schema: \"../internal/database/migrations/\"\n    gen:\n      go:\n        package: \"sqlc\"\n        out: \"../internal/database/sqlc\"\n        emit_json_tags: true\n        emit_empty_slices: true\n```\n\n**For MySQL:**\n\n```yaml\nversion: \"2\"\nsql:\n  - engine: \"mysql\"\n    queries: \"queries/\"\n    schema: \"../internal/database/migrations/\"\n    gen:\n      go:\n        package: \"sqlc\"\n        out: \"../internal/database/sqlc\"\n        emit_json_tags: true\n        emit_empty_slices: true\n```\n\n#### sqlc/queries/example.sql\n\n```sql\n-- name: GetExample :one\nSELECT * FROM examples WHERE id = $1 LIMIT 1;\n\n-- name: ListExamples :many\nSELECT * FROM examples ORDER BY created_at DESC LIMIT $1 OFFSET $2;\n\n-- name: CreateExample :one\nINSERT INTO examples (name, description) VALUES ($1, $2) RETURNING *;\n\n-- name: UpdateExample :exec\nUPDATE examples SET name = $1, description = $2, updated_at = NOW() WHERE id = $3;\n\n-- name: DeleteExample :exec\nDELETE FROM examples WHERE id = $1;\n```\n\nAdjust SQL syntax for SQLite (`?` params) or MySQL as needed.\n\n#### internal/database/migrations/001_initial.sql\n\n**For PostgreSQL:**\n\n```sql\n-- +goose Up\nCREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";\n\nCREATE TABLE examples (\n    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n    name VARCHAR(255) NOT NULL,\n    description TEXT,\n    created_at TIMESTAMPTZ DEFAULT NOW(),\n    updated_at TIMESTAMPTZ DEFAULT NOW()\n);\n\n-- +goose Down\nDROP TABLE IF EXISTS examples;\n```\n\n**For SQLite:**\n\n```sql\n-- +goose Up\nCREATE TABLE examples (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    name TEXT NOT NULL,\n    description TEXT,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n);\n\n-- +goose Down\nDROP TABLE IF EXISTS examples;\n```\n\n**For MySQL:**\n\n```sql\n-- +goose Up\nCREATE TABLE examples (\n    id CHAR(36) PRIMARY KEY DEFAULT (UUID()),\n    name VARCHAR(255) NOT NULL,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- +goose Down\nDROP TABLE IF EXISTS examples;\n```\n\n### Go Application Files\n\n#### cmd/server/slog.go\n\n```go\npackage main\n\nimport (\n    \"log/slog\"\n    \"os\"\n    \"strings\"\n    \"time\"\n\n    \"github.com/lmittmann/tint\"\n)\n\nfunc init() {\n    level := getLogLevel()\n    isDev := strings.ToLower(os.Getenv(\"ENV\")) == \"development\"\n\n    var handler slog.Handler\n    if isDev {\n        handler = tint.NewHandler(os.Stderr, &tint.Options{\n            Level:      level,\n            TimeFormat: time.Kitchen,\n            AddSource:  level == slog.LevelDebug,\n        })\n    } else {\n        handler = slog.NewJSONHandler(os.Stderr, &slog.HandlerOptions{\n            Level:     level,\n            AddSource: false,\n        })\n    }\n\n    slog.SetDefault(slog.New(handler))\n}\n\nfunc getLogLevel() slog.Level {\n    switch strings.ToUpper(os.Getenv(\"LOG_LEVEL\")) {\n    case \"DEBUG\":\n        return slog.LevelDebug\n    case \"WARN\":\n        return slog.LevelWarn\n    case \"ERROR\":\n        return slog.LevelError\n    default:\n        return slog.LevelInfo\n    }\n}\n```\n\n#### cmd/server/generate.go\n\nThis file centralizes all code generation via `//go:generate` directives:\n\n```go\npackage main\n\n//go:generate echo \"Generating SQLC files...\"\n//go:generate sqlc generate -f ../../sqlc/sqlc.yaml\n//go:generate echo \"SQLC files generated\"\n\n//go:generate echo \"Generating templ files...\"\n//go:generate templ generate -path ../../templates\n//go:generate echo \"templ files generated\"\n\n//go:generate echo \"Generating Tailwind CSS...\"\n//go:generate npx @tailwindcss/cli -i ../../static/css/input.css -o ../../static/css/output.css\n//go:generate echo \"Tailwind CSS generated\"\n```\n\n#### cmd/server/main.go\n\n```go\npackage main\n\nimport (\n    \"context\"\n    \"log/slog\"\n    \"os\"\n    \"os/signal\"\n    \"syscall\"\n    \"time\"\n\n    \"[project-name]/internal/config\"\n    \"[project-name]/internal/database\"\n    \"[project-name]/internal/handler\"\n    \"[project-name]/internal/middleware\"\n\n    \"github.com/labstack/echo/v4\"\n)\n\nfunc main() {\n    cfg := config.Load()\n\n    ctx := context.Background()\n    db, err := database.New(ctx, cfg.DatabaseURL)\n    if err != nil {\n        slog.Error(\"failed to connect to database\", \"error\", err)\n        os.Exit(1)\n    }\n    defer db.Close()\n\n    e := echo.New()\n    e.HideBanner = true\n    e.HidePort = true\n\n    middleware.Setup(e, cfg)\n\n    h := handler.New(cfg, db)\n    h.RegisterRoutes(e)\n\n    go func() {\n        addr := \":\" + cfg.Port\n        slog.Info(\"starting server\", \"url\", \"http://localhost:\"+cfg.Port, \"env\", cfg.Env)\n        if err := e.Start(addr); err != nil {\n            slog.Info(\"shutting down server\")\n        }\n    }()\n\n    quit := make(chan os.Signal, 1)\n    signal.Notify(quit, syscall.SIGINT, syscall.SIGTERM)\n    <-quit\n\n    ctx, cancel := context.WithTimeout(context.Background(), 10*time.Second)\n    defer cancel()\n\n    if err := e.Shutdown(ctx); err != nil {\n        slog.Error(\"server shutdown error\", \"error\", err)\n    }\n\n    slog.Info(\"server stopped\")\n}\n```\n\n#### internal/config/config.go\n\n```go\npackage config\n\nimport (\n    \"log/slog\"\n    \"os\"\n)\n\ntype SiteConfig struct {\n    Name           string\n    URL            string\n    DefaultOGImage string\n}\n\ntype Config struct {\n    DatabaseURL string\n    Port        string\n    Env         string\n    Site        SiteConfig\n    // Add service keys based on selection:\n    // ClerkSecretKey      string\n    // ClerkPublishableKey string\n    // BrevoAPIKey         string\n    // StripeSecretKey     string\n    // StripePublishableKey string\n    // StripeWebhookSecret string\n}\n\nfunc Load() *Config {\n    cfg := &Config{\n        DatabaseURL: os.Getenv(\"DATABASE_URL\"),\n        Port:        getEnvOrDefault(\"PORT\", \"3000\"),\n        Env:         getEnvOrDefault(\"ENV\", \"development\"),\n        Site: SiteConfig{\n            Name:           getEnvOrDefault(\"SITE_NAME\", \"[project-name]\"),\n            URL:            getEnvOrDefault(\"SITE_URL\", \"http://localhost:3000\"),\n            DefaultOGImage: getEnvOrDefault(\"DEFAULT_OG_IMAGE\", \"/static/images/og-default.png\"),\n        },\n    }\n\n    if cfg.DatabaseURL == \"\" {\n        slog.Error(\"DATABASE_URL environment variable is required\")\n        os.Exit(1)\n    }\n\n    return cfg\n}\n\nfunc (c *Config) IsDevelopment() bool {\n    return c.Env == \"development\"\n}\n\nfunc (c *Config) IsProduction() bool {\n    return c.Env == \"production\"\n}\n\nfunc getEnvOrDefault(key, defaultValue string) string {\n    if value := os.Getenv(key); value != \"\" {\n        return value\n    }\n    return defaultValue\n}\n```\n\n#### internal/database/database.go\n\n**For PostgreSQL:**\n\n```go\npackage database\n\nimport (\n    \"context\"\n    \"embed\"\n    \"fmt\"\n\n    \"github.com/jackc/pgx/v5/pgxpool\"\n    \"github.com/jackc/pgx/v5/stdlib\"\n    \"github.com/pressly/goose/v3\"\n    \"[project-name]/internal/database/sqlc\"\n)\n\n//go:embed migrations/*.sql\nvar migrationsFS embed.FS\n\ntype DB struct {\n    Pool    *pgxpool.Pool\n    Queries *sqlc.Queries\n}\n\nfunc New(ctx context.Context, databaseURL string) (*DB, error) {\n    pool, err := pgxpool.New(ctx, databaseURL)\n    if err != nil {\n        return nil, fmt.Errorf(\"unable to create connection pool: %w\", err)\n    }\n\n    if err := pool.Ping(ctx); err != nil {\n        return nil, fmt.Errorf(\"unable to ping database: %w\", err)\n    }\n\n    db := &DB{\n        Pool:    pool,\n        Queries: sqlc.New(pool),\n    }\n\n    if err := db.migrate(); err != nil {\n        return nil, fmt.Errorf(\"unable to run migrations: %w\", err)\n    }\n\n    return db, nil\n}\n\nfunc (db *DB) Close() {\n    db.Pool.Close()\n}\n\nfunc (db *DB) migrate() error {\n    goose.SetBaseFS(migrationsFS)\n\n    if err := goose.SetDialect(\"postgres\"); err != nil {\n        return fmt.Errorf(\"failed to set goose dialect: %w\", err)\n    }\n\n    // Get stdlib connection for goose\n    conn := stdlib.OpenDBFromPool(db.Pool)\n    defer conn.Close()\n\n    if err := goose.Up(conn, \"migrations\"); err != nil {\n        return fmt.Errorf(\"failed to run migrations: %w\", err)\n    }\n\n    return nil\n}\n```\n\n**For SQLite (CGO-free):**\n\n```go\npackage database\n\nimport (\n    \"context\"\n    \"database/sql\"\n    \"embed\"\n    \"fmt\"\n    \"os\"\n    \"path/filepath\"\n\n    \"github.com/pressly/goose/v3\"\n    _ \"modernc.org/sqlite\"\n    \"[project-name]/internal/database/sqlc\"\n)\n\n//go:embed migrations/*.sql\nvar migrationsFS embed.FS\n\ntype DB struct {\n    Conn    *sql.DB\n    Queries *sqlc.Queries\n}\n\nfunc New(ctx context.Context, databasePath string) (*DB, error) {\n    dir := filepath.Dir(databasePath)\n    if err := os.MkdirAll(dir, 0755); err != nil {\n        return nil, fmt.Errorf(\"unable to create database directory: %w\", err)\n    }\n\n    conn, err := sql.Open(\"sqlite\", databasePath+\"?_foreign_keys=on&_journal_mode=WAL\")\n    if err != nil {\n        return nil, fmt.Errorf(\"unable to open database: %w\", err)\n    }\n\n    if err := conn.PingContext(ctx); err != nil {\n        return nil, fmt.Errorf(\"unable to ping database: %w\", err)\n    }\n\n    db := &DB{\n        Conn:    conn,\n        Queries: sqlc.New(conn),\n    }\n\n    if err := db.migrate(); err != nil {\n        return nil, fmt.Errorf(\"unable to run migrations: %w\", err)\n    }\n\n    return db, nil\n}\n\nfunc (db *DB) Close() {\n    db.Conn.Close()\n}\n\nfunc (db *DB) migrate() error {\n    goose.SetBaseFS(migrationsFS)\n\n    if err := goose.SetDialect(\"sqlite3\"); err != nil {\n        return fmt.Errorf(\"failed to set goose dialect: %w\", err)\n    }\n\n    if err := goose.Up(db.Conn, \"migrations\"); err != nil {\n        return fmt.Errorf(\"failed to run migrations: %w\", err)\n    }\n\n    return nil\n}\n```\n\n**For MySQL:**\n\n```go\npackage database\n\nimport (\n    \"context\"\n    \"database/sql\"\n    \"embed\"\n    \"fmt\"\n\n    \"github.com/pressly/goose/v3\"\n    _ \"github.com/go-sql-driver/mysql\"\n    \"[project-name]/internal/database/sqlc\"\n)\n\n//go:embed migrations/*.sql\nvar migrationsFS embed.FS\n\ntype DB struct {\n    Conn    *sql.DB\n    Queries *sqlc.Queries\n}\n\nfunc New(ctx context.Context, dsn string) (*DB, error) {\n    conn, err := sql.Open(\"mysql\", dsn)\n    if err != nil {\n        return nil, fmt.Errorf(\"unable to open database: %w\", err)\n    }\n\n    if err := conn.PingContext(ctx); err != nil {\n        return nil, fmt.Errorf(\"unable to ping database: %w\", err)\n    }\n\n    db := &DB{\n        Conn:    conn,\n        Queries: sqlc.New(conn),\n    }\n\n    if err := db.migrate(); err != nil {\n        return nil, fmt.Errorf(\"unable to run migrations: %w\", err)\n    }\n\n    return db, nil\n}\n\nfunc (db *DB) Close() {\n    db.Conn.Close()\n}\n\nfunc (db *DB) migrate() error {\n    goose.SetBaseFS(migrationsFS)\n\n    if err := goose.SetDialect(\"mysql\"); err != nil {\n        return fmt.Errorf(\"failed to set goose dialect: %w\", err)\n    }\n\n    if err := goose.Up(db.Conn, \"migrations\"); err != nil {\n        return fmt.Errorf(\"failed to run migrations: %w\", err)\n    }\n\n    return nil\n}\n```\n\n#### internal/middleware/middleware.go\n\n```go\npackage middleware\n\nimport (\n    \"context\"\n    \"log/slog\"\n    \"time\"\n\n    \"[project-name]/internal/config\"\n    \"[project-name]/internal/ctxkeys\"\n\n    \"github.com/labstack/echo/v4\"\n    \"github.com/labstack/echo/v4/middleware\"\n)\n\nfunc Setup(e *echo.Echo, cfg *config.Config) {\n    e.Use(middleware.RequestID())\n    e.Use(middleware.Recover())\n    e.Use(SiteConfigMiddleware(cfg.Site))\n    e.Use(requestLogger(cfg.IsDevelopment()))\n    e.Use(middleware.CORSWithConfig(middleware.CORSConfig{\n        AllowOrigins: []string{\"*\"},\n        AllowMethods: []string{\"GET\", \"POST\", \"PUT\", \"DELETE\", \"OPTIONS\"},\n    }))\n    e.Use(middleware.GzipWithConfig(middleware.GzipConfig{\n        Level: 5,\n    }))\n    e.Use(middleware.SecureWithConfig(middleware.SecureConfig{\n        XSSProtection:         \"1; mode=block\",\n        ContentTypeNosniff:    \"nosniff\",\n        XFrameOptions:         \"SAMEORIGIN\",\n        HSTSMaxAge:            31536000,\n        ContentSecurityPolicy: \"default-src 'self'; script-src 'self' 'unsafe-inline' https://unpkg.com; style-src 'self' 'unsafe-inline';\",\n    }))\n}\n\nfunc SiteConfigMiddleware(site config.SiteConfig) echo.MiddlewareFunc {\n    return func(next echo.HandlerFunc) echo.HandlerFunc {\n        return func(c echo.Context) error {\n            ctx := context.WithValue(c.Request().Context(), ctxkeys.SiteConfig, site)\n            c.SetRequest(c.Request().WithContext(ctx))\n            return next(c)\n        }\n    }\n}\n\nfunc requestLogger(isDev bool) echo.MiddlewareFunc {\n    return func(next echo.HandlerFunc) echo.HandlerFunc {\n        return func(c echo.Context) error {\n            start := time.Now()\n            err := next(c)\n            latency := time.Since(start)\n\n            req := c.Request()\n            res := c.Response()\n\n            attrs := []any{\n                \"request_id\", c.Response().Header().Get(echo.HeaderXRequestID),\n                \"method\", req.Method,\n                \"uri\", req.RequestURI,\n                \"status\", res.Status,\n                \"latency\", latency.String(),\n            }\n\n            if isDev {\n                slog.Debug(\"request\", attrs...)\n            } else if res.Status >= 500 {\n                slog.Error(\"request\", attrs...)\n            } else {\n                slog.Info(\"request\", attrs...)\n            }\n\n            return err\n        }\n    }\n}\n```\n\n#### internal/handler/handler.go\n\n```go\npackage handler\n\nimport (\n    \"[project-name]/internal/config\"\n    \"[project-name]/internal/database\"\n\n    \"github.com/labstack/echo/v4\"\n)\n\ntype Handler struct {\n    cfg *config.Config\n    db  *database.DB\n}\n\nfunc New(cfg *config.Config, db *database.DB) *Handler {\n    return &Handler{\n        cfg: cfg,\n        db:  db,\n    }\n}\n\nfunc (h *Handler) RegisterRoutes(e *echo.Echo) {\n    // Static files\n    e.Static(\"/static\", \"static\")\n    // e.Static(\"/assets\", \"assets\")  // Uncomment if using templUI components\n\n    // Health check\n    e.GET(\"/health\", h.Health)\n\n    // Public routes\n    e.GET(\"/\", h.Home)\n\n    // Admin routes (if dashboard selected)\n    // admin := e.Group(\"/admin\")\n    // admin.GET(\"\", h.AdminDashboard)\n}\n```\n\n#### internal/handler/home.go\n\nHandlers do NOT construct meta - that's the template's job:\n\n```go\npackage handler\n\nimport (\n    \"net/http\"\n\n    \"[project-name]/templates/pages\"\n\n    \"github.com/labstack/echo/v4\"\n)\n\nfunc (h *Handler) Health(c echo.Context) error {\n    return c.JSON(http.StatusOK, map[string]string{\"status\": \"ok\"})\n}\n\nfunc (h *Handler) Home(c echo.Context) error {\n    return pages.Home().Render(c.Request().Context(), c.Response().Writer)\n}\n```\n\n### Template Files\n\n#### templates/layouts/meta.templ\n\nMeta tags component - site name comes from context, not the struct:\n\n```templ\npackage layouts\n\nimport \"[project-name]/internal/meta\"\n\ntempl MetaTags(m meta.PageMeta) {\n    <title>{ m.Title } | { meta.SiteNameFromCtx(ctx) }</title>\n    if m.Description != \"\" {\n        <meta name=\"description\" content={ m.Description }/>\n    }\n    if m.Canonical != \"\" {\n        <link rel=\"canonical\" href={ m.Canonical }/>\n    }\n    if m.NoIndex {\n        <meta name=\"robots\" content=\"noindex, nofollow\"/>\n    }\n\n    // Open Graph - site name always from context\n    <meta property=\"og:title\" content={ m.Title }/>\n    <meta property=\"og:site_name\" content={ meta.SiteNameFromCtx(ctx) }/>\n    <meta property=\"og:type\" content={ m.OGType }/>\n    if m.Description != \"\" {\n        <meta property=\"og:description\" content={ m.Description }/>\n    }\n    if m.OGImage != \"\" {\n        <meta property=\"og:image\" content={ m.OGImage }/>\n    }\n\n    // Twitter Card\n    <meta name=\"twitter:card\" content=\"summary_large_image\"/>\n    <meta name=\"twitter:title\" content={ m.Title }/>\n    if m.Description != \"\" {\n        <meta name=\"twitter:description\" content={ m.Description }/>\n    }\n    if m.OGImage != \"\" {\n        <meta name=\"twitter:image\" content={ m.OGImage }/>\n    }\n}\n```\n\n#### templates/layouts/base.templ\n\nBase layout receives meta from the page template, not the handler:\n\n```templ\npackage layouts\n\nimport \"[project-name]/internal/meta\"\n\ntempl Base(m meta.PageMeta) {\n    <!DOCTYPE html>\n    <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\"/>\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\n            @MetaTags(m)\n            <link rel=\"stylesheet\" href=\"/static/css/output.css\"/>\n            <script src=\"https://unpkg.com/htmx.org@2.0.4\"></script>\n        </head>\n        <body class=\"bg-background text-foreground min-h-screen\">\n            <header class=\"border-b border-border\">\n                <nav class=\"max-w-7xl mx-auto px-4 py-4 flex justify-between items-center\">\n                    <a href=\"/\" class=\"text-xl font-bold\">{ meta.SiteNameFromCtx(ctx) }</a>\n                    <div class=\"flex gap-4\">\n                        <a href=\"/\" class=\"hover:text-primary\">Home</a>\n                    </div>\n                </nav>\n            </header>\n            <main class=\"max-w-7xl mx-auto px-4 py-8\">\n                { children... }\n            </main>\n            <footer class=\"border-t border-border mt-auto\">\n                <div class=\"max-w-7xl mx-auto px-4 py-4 text-center text-muted-foreground\">\n                    <p>&copy; 2025 { meta.SiteNameFromCtx(ctx) }. All rights reserved.</p>\n                </div>\n            </footer>\n        </body>\n    </html>\n}\n```\n\n**If using templUI components:**\n\nWhen using templUI components, you MUST include their Script() templates in the `<head>`. Update base.templ to add the imports and Script() calls:\n\n```templ\npackage layouts\n\nimport (\n    \"[project-name]/internal/meta\"\n    \"[project-name]/components/sidebar\"\n    \"[project-name]/components/dialog\"\n)\n\ntempl Base(m meta.PageMeta) {\n    <!DOCTYPE html>\n    <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\"/>\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\n            @MetaTags(m)\n            <link rel=\"stylesheet\" href=\"/static/css/output.css\"/>\n            <script src=\"https://unpkg.com/htmx.org@2.0.4\"></script>\n            @sidebar.Script()\n            @dialog.Script()\n        </head>\n        // ... rest of body\n    </html>\n}\n```\n\n#### templates/pages/home.templ\n\nTemplate constructs its own meta - handler doesn't pass it:\n\n```templ\npackage pages\n\nimport (\n    \"[project-name]/internal/meta\"\n    \"[project-name]/templates/layouts\"\n)\n\ntempl Home() {\n    @layouts.Base(meta.New(\"Home\", \"Your Go web application is ready!\")) {\n        <div class=\"text-center py-12\">\n            <h1 class=\"text-4xl font-bold mb-4\">Welcome</h1>\n            <p class=\"text-muted-foreground mb-8\">Your Go web application is ready!</p>\n            <div class=\"flex justify-center gap-4\">\n                <a href=\"/health\" class=\"px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90\">\n                    Check Health\n                </a>\n            </div>\n        </div>\n\n        <div class=\"mt-12 grid md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            <div class=\"p-6 border border-border rounded-lg\">\n                <h3 class=\"font-semibold mb-2\">Fast Development</h3>\n                <p class=\"text-muted-foreground text-sm\">Hot reload with Air. Changes appear instantly.</p>\n            </div>\n            <div class=\"p-6 border border-border rounded-lg\">\n                <h3 class=\"font-semibold mb-2\">Type-Safe Templates</h3>\n                <p class=\"text-muted-foreground text-sm\">Templ compiles to Go for compile-time safety.</p>\n            </div>\n            <div class=\"p-6 border border-border rounded-lg\">\n                <h3 class=\"font-semibold mb-2\">Modern Styling</h3>\n                <p class=\"text-muted-foreground text-sm\">Tailwind CSS v4 with dark mode support.</p>\n            </div>\n            <div class=\"p-6 border border-border rounded-lg\">\n                <h3 class=\"font-semibold mb-2\">Client Interactivity</h3>\n                <p class=\"text-muted-foreground text-sm\">HTMX for server-driven interactivity.</p>\n            </div>\n        </div>\n    }\n}\n```\n\n### Static Files\n\n#### static/css/input.css\n\nUse the appropriate version based on whether you plan to use templUI components:\n\n**Basic version (no templUI):**\n\n```css\n@import \"tailwindcss\";\n\n@source \"../../templates/**/*.templ\";\n\n@custom-variant dark (&:where(.dark, .dark *));\n\n/* Light mode (default) */\n:root {\n  --background: oklch(1 0 0);\n  --foreground: oklch(0.145 0 0);\n  --primary: oklch(0.205 0 0);\n  --primary-foreground: oklch(0.985 0 0);\n  --secondary: oklch(0.97 0 0);\n  --secondary-foreground: oklch(0.205 0 0);\n  --muted: oklch(0.97 0 0);\n  --muted-foreground: oklch(0.556 0 0);\n  --accent: oklch(0.97 0 0);\n  --accent-foreground: oklch(0.205 0 0);\n  --destructive: oklch(0.577 0.245 27.325);\n  --border: oklch(0.922 0 0);\n}\n\n/* Dark mode */\n.dark {\n  --background: oklch(0.145 0 0);\n  --foreground: oklch(0.985 0 0);\n  --primary: oklch(0.922 0 0);\n  --primary-foreground: oklch(0.205 0 0);\n  --secondary: oklch(0.269 0 0);\n  --secondary-foreground: oklch(0.985 0 0);\n  --muted: oklch(0.269 0 0);\n  --muted-foreground: oklch(0.708 0 0);\n  --accent: oklch(0.269 0 0);\n  --accent-foreground: oklch(0.985 0 0);\n  --destructive: oklch(0.704 0.191 22.216);\n  --border: oklch(1 0 0 / 10%);\n}\n\n@theme inline {\n  --color-background: var(--background);\n  --color-foreground: var(--foreground);\n  --color-primary: var(--primary);\n  --color-primary-foreground: var(--primary-foreground);\n  --color-secondary: var(--secondary);\n  --color-secondary-foreground: var(--secondary-foreground);\n  --color-muted: var(--muted);\n  --color-muted-foreground: var(--muted-foreground);\n  --color-accent: var(--accent);\n  --color-accent-foreground: var(--accent-foreground);\n  --color-destructive: var(--destructive);\n  --color-border: var(--border);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n  html {\n    @apply scroll-smooth;\n  }\n  body {\n    @apply bg-background text-foreground;\n  }\n}\n```\n\n**templUI version (if using templUI components):**\n\nIf you want to use templUI components, install the CLI first: `go install github.com/templui/templui@latest && templui add sidebar button card icon`\n\n```css\n@import \"tailwindcss\";\n\n@source \"../../templates/**/*.templ\";\n@source \"../../components/**/*.templ\";\n\n@custom-variant dark (&:where(.dark, .dark *));\n\n@theme inline {\n  --font-sans: ui-sans-serif, system-ui, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\";\n  --font-mono: ui-monospace, SFMono-Regular, \"SF Mono\", Consolas, \"Liberation Mono\", Menlo, monospace;\n  --radius-sm: calc(var(--radius) - 4px);\n  --radius-md: calc(var(--radius) - 2px);\n  --radius-lg: var(--radius);\n  --radius-xl: calc(var(--radius) + 4px);\n  --color-background: var(--background);\n  --color-foreground: var(--foreground);\n  --color-card: var(--card);\n  --color-card-foreground: var(--card-foreground);\n  --color-popover: var(--popover);\n  --color-popover-foreground: var(--popover-foreground);\n  --color-primary: var(--primary);\n  --color-primary-foreground: var(--primary-foreground);\n  --color-secondary: var(--secondary);\n  --color-secondary-foreground: var(--secondary-foreground);\n  --color-muted: var(--muted);\n  --color-muted-foreground: var(--muted-foreground);\n  --color-accent: var(--accent);\n  --color-accent-foreground: var(--accent-foreground);\n  --color-destructive: var(--destructive);\n  --color-border: var(--border);\n  --color-input: var(--input);\n  --color-ring: var(--ring);\n  --color-sidebar: var(--sidebar);\n  --color-sidebar-foreground: var(--sidebar-foreground);\n  --color-sidebar-primary: var(--sidebar-primary);\n  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);\n  --color-sidebar-accent: var(--sidebar-accent);\n  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);\n  --color-sidebar-border: var(--sidebar-border);\n  --color-sidebar-ring: var(--sidebar-ring);\n}\n\n/* Light mode (default) */\n:root {\n  --radius: 0.625rem;\n  --background: oklch(1 0 0);\n  --foreground: oklch(0.145 0 0);\n  --card: oklch(1 0 0);\n  --card-foreground: oklch(0.145 0 0);\n  --popover: oklch(1 0 0);\n  --popover-foreground: oklch(0.145 0 0);\n  --primary: oklch(0.205 0 0);\n  --primary-foreground: oklch(0.985 0 0);\n  --secondary: oklch(0.97 0 0);\n  --secondary-foreground: oklch(0.205 0 0);\n  --muted: oklch(0.97 0 0);\n  --muted-foreground: oklch(0.556 0 0);\n  --accent: oklch(0.97 0 0);\n  --accent-foreground: oklch(0.205 0 0);\n  --destructive: oklch(0.577 0.245 27.325);\n  --border: oklch(0.922 0 0);\n  --input: oklch(0.922 0 0);\n  --ring: oklch(0.708 0 0);\n  --sidebar: oklch(0.985 0 0);\n  --sidebar-foreground: oklch(0.145 0 0);\n  --sidebar-primary: oklch(0.205 0 0);\n  --sidebar-primary-foreground: oklch(0.985 0 0);\n  --sidebar-accent: oklch(0.97 0 0);\n  --sidebar-accent-foreground: oklch(0.205 0 0);\n  --sidebar-border: oklch(0.922 0 0);\n  --sidebar-ring: oklch(0.708 0 0);\n}\n\n/* Dark mode */\n.dark {\n  --background: oklch(0.145 0 0);\n  --foreground: oklch(0.985 0 0);\n  --card: oklch(0.205 0 0);\n  --card-foreground: oklch(0.985 0 0);\n  --popover: oklch(0.205 0 0);\n  --popover-foreground: oklch(0.985 0 0);\n  --primary: oklch(0.922 0 0);\n  --primary-foreground: oklch(0.205 0 0);\n  --secondary: oklch(0.269 0 0);\n  --secondary-foreground: oklch(0.985 0 0);\n  --muted: oklch(0.269 0 0);\n  --muted-foreground: oklch(0.708 0 0);\n  --accent: oklch(0.269 0 0);\n  --accent-foreground: oklch(0.985 0 0);\n  --destructive: oklch(0.704 0.191 22.216);\n  --border: oklch(1 0 0 / 10%);\n  --input: oklch(1 0 0 / 15%);\n  --ring: oklch(0.556 0 0);\n  --sidebar: oklch(0.205 0 0);\n  --sidebar-foreground: oklch(0.985 0 0);\n  --sidebar-primary: oklch(0.488 0.243 264.376);\n  --sidebar-primary-foreground: oklch(0.985 0 0);\n  --sidebar-accent: oklch(0.269 0 0);\n  --sidebar-accent-foreground: oklch(0.985 0 0);\n  --sidebar-border: oklch(1 0 0 / 10%);\n  --sidebar-ring: oklch(0.556 0 0);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n  html {\n    @apply scroll-smooth;\n  }\n  body {\n    @apply bg-background text-foreground;\n  }\n}\n```\n\n**Key points:**\n- `@source \"../../components/**/*.templ\"` - Required for templUI components\n- `@custom-variant dark` - Tailwind CSS v4 dark mode syntax (NOT `@variant dark`)\n- Complete CSS variable definitions for templUI compatibility\n- Sidebar-specific variables for templUI sidebar component\n\n#### static/js/.gitkeep\n\nCreate empty file to preserve directory.\n\n### CI/CD and Quality Files\n\nCheck if CI/CD files already exist before creating:\n\n```bash\n# Check for existing CI configuration\nls -la .github/workflows/ .gitlab-ci.yml Jenkinsfile .circleci/ 2>/dev/null\n```\n\n**If CI exists:** Ask the user if they want to keep existing CI or replace with Go-specific workflow.\n\n**If no CI exists:** Create the following files:\n\n#### .github/workflows/ci.yml\n\n```yaml\nname: CI\n\non:\n  push:\n    branches: [main]\n  pull_request:\n    branches: [main]\n\njobs:\n  lint:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-go@v5\n        with:\n          go-version: '1.25'\n      - name: golangci-lint\n        uses: golangci/golangci-lint-action@v7\n        with:\n          version: v2.1.6\n\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-go@v5\n        with:\n          go-version: '1.25'\n      - uses: actions/setup-node@v4\n        with:\n          node-version: '20'\n      - name: Install Go tools\n        run: |\n          go install github.com/a-h/templ/cmd/templ@latest\n          go install github.com/sqlc-dev/sqlc/cmd/sqlc@latest\n      - name: Install npm dependencies\n        run: npm ci\n      - name: Generate code\n        run: go generate ./...\n      - name: Run tests\n        run: go test -v -race ./...\n\n  build:\n    runs-on: ubuntu-latest\n    needs: [lint, test]\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-go@v5\n        with:\n          go-version: '1.25'\n      - uses: actions/setup-node@v4\n        with:\n          node-version: '20'\n      - name: Install Go tools\n        run: |\n          go install github.com/a-h/templ/cmd/templ@latest\n          go install github.com/sqlc-dev/sqlc/cmd/sqlc@latest\n      - name: Install npm dependencies\n        run: npm ci\n      - name: Generate code\n        run: go generate ./...\n      - name: Build\n        run: go build -o bin/[project-name] ./cmd/server\n```\n\n#### .github/dependabot.yml (if no dependabot exists)\n\n```yaml\nversion: 2\nupdates:\n  - package-ecosystem: \"gomod\"\n    directory: \"/\"\n    schedule:\n      interval: \"weekly\"\n  - package-ecosystem: \"github-actions\"\n    directory: \"/\"\n    schedule:\n      interval: \"weekly\"\n  - package-ecosystem: \"npm\"\n    directory: \"/\"\n    schedule:\n      interval: \"weekly\"\n```\n\n#### .golangci.yml\n\n```yaml\nversion: \"2\"\nrun:\n  timeout: 5m\n\nlinters:\n  enable:\n    - errcheck\n    - govet\n    - ineffassign\n    - staticcheck\n    - unused\n\nissues:\n  exclude-dirs:\n    - internal/database/sqlc\n```\n\n### Test Infrastructure\n\n#### internal/testutil/testutil.go\n\n```go\npackage testutil\n\nimport (\n    \"context\"\n    \"testing\"\n\n    \"[project-name]/internal/config\"\n    \"[project-name]/internal/database\"\n)\n\n// NewTestDB creates an in-memory SQLite database for testing.\n// For PostgreSQL projects, modify to use a test database URL.\nfunc NewTestDB(t *testing.T) *database.DB {\n    t.Helper()\n\n    ctx := context.Background()\n    // For SQLite: use in-memory database\n    // For PostgreSQL: use TEST_DATABASE_URL or create temp database\n    db, err := database.New(ctx, \":memory:\")\n    if err != nil {\n        t.Fatalf(\"failed to create test database: %v\", err)\n    }\n\n    t.Cleanup(func() {\n        db.Close()\n    })\n\n    return db\n}\n\n// NewTestConfig creates a test configuration.\nfunc NewTestConfig(t *testing.T) *config.Config {\n    t.Helper()\n\n    return &config.Config{\n        DatabaseURL: \":memory:\",\n        Port:        \"0\", // Use random available port\n        Env:         \"test\",\n        Site: config.SiteConfig{\n            Name: \"[project-name]\",\n            URL:  \"http://localhost:3000\",\n        },\n    }\n}\n```\n\n**Note for PostgreSQL projects:** Modify `NewTestDB` to use a test database URL from environment variable `TEST_DATABASE_URL` or create a temporary test database.\n\n### Deployment Files\n\nBased on the deployment platform selected:\n\n**For Vercel:** Create `vercel.json`, `api/index.go`, and `public/` directory.\n\n**For Railway:** Create `railway.toml`.\n\n**For Fly.io:** Create `fly.toml` and `Dockerfile`.\n\n**For Self-hosted:** Ask the user if they want a Dockerfile (default to No). If Yes, create `Dockerfile`. If No, the Makefile already includes everything needed:\n- `make dev` - Development with Air hot reload (logs to `tmp/air-combined.log`)\n- `make build` - Build production binary\n- `make run` - Build and run the server\n\nFor production without Docker, users can run `make build` to create the binary, then deploy and run it directly.\n\n### Project Documentation\n\n#### CLAUDE.md (only if no AI context file exists)\n\n**Important:** Only create CLAUDE.md if no existing AI assistant context file was found during project analysis.\n\nCheck for these files first:\n- `CLAUDE.md`\n- `CLAUDE.local.md`\n- `LLM.md`\n- `AGENTS.md`\n- `.claude/CLAUDE.md`\n\n**If any exist:** Preserve the existing file. Inform the user: \"Found existing AI context file: [filename]. Preserving it.\"\n\n**If none exist:** Create a CLAUDE.md file with the following content (adjust project name):\n\nThe CLAUDE.md should contain:\n\n**Critical Build Error Section:**\n\n- ALWAYS check `./tmp/air-combined.log` after making code changes\n- This log contains compilation errors, template generation errors, SQL generation errors\n- Never assume code changes succeeded without checking this log\n\n**Development Workflow Section:**\n\n- Explain that `make dev` is always running during development\n- It automatically: kills existing process, regenerates Templ, regenerates sqlc, runs go mod tidy, rebuilds and restarts\n- Developer does NOT need to manually run: templ generate, sqlc generate, go build, air\n\n**Environment Section:**\n\n- All config via `.envrc` with direnv\n- DATABASE_URL, PORT (default 3000), ENV, LOG_LEVEL\n\n**Key Commands Table:**\n\n- `make dev` - Start with hot reload (main workflow)\n- `make build` - Build production binary\n- `make test` - Run tests with race detection\n- `make lint` - Run linters\n- `make migrate` - Run database migrations\n- `make css-watch` - Watch Tailwind (run in separate terminal)\n\n**Project Structure Table:**\n\n- cmd/server/ - Entry point\n- internal/config/ - Environment config\n- internal/database/ - Database and sqlc\n- internal/handler/ - HTTP handlers\n- internal/middleware/ - Echo middleware\n- templates/ - Templ templates\n- static/ - CSS, JS, images\n- migrations/ - goose migrations\n- sqlc/ - SQL queries\n\n**Code Patterns:**\n\n- Logging: Use slog (never fmt.Printf or log.Printf)\n- Errors: Wrap with context using fmt.Errorf\n- Database: Use sqlc-generated queries\n- Templates: Use Templ components\n\n### SEO and Meta Tag Migration\n\n**Key principle:** In Go, handlers do NOT construct meta. Templates own their meta.\n\n#### Create Files for SEO\n\n1. `internal/ctxkeys/keys.go` - Typed context keys\n2. `internal/meta/meta.go` - PageMeta struct\n3. `internal/meta/context.go` - Context helpers (SiteNameFromCtx)\n4. `templates/layouts/meta.templ` - Meta tag component\n\n#### internal/ctxkeys/keys.go\n\n```go\npackage ctxkeys\n\ntype siteConfigKey struct{}\n\nvar SiteConfig = siteConfigKey{}\n```\n\n#### internal/meta/meta.go\n\n```go\npackage meta\n\ntype PageMeta struct {\n    Title       string\n    Description string\n    OGType      string\n    OGImage     string\n    Canonical   string\n    NoIndex     bool\n}\n\nfunc New(title, description string) PageMeta {\n    return PageMeta{\n        Title:       title,\n        Description: description,\n        OGType:      \"website\",\n    }\n}\n\nfunc (m PageMeta) WithOGImage(url string) PageMeta {\n    m.OGImage = url\n    return m\n}\n\nfunc (m PageMeta) AsArticle() PageMeta {\n    m.OGType = \"article\"\n    return m\n}\n\nfunc (m PageMeta) AsProduct() PageMeta {\n    m.OGType = \"product\"\n    return m\n}\n```\n\n#### internal/meta/context.go\n\n```go\npackage meta\n\nimport (\n    \"context\"\n    \"yourapp/internal/config\"\n    \"yourapp/internal/ctxkeys\"\n)\n\nfunc SiteFromCtx(ctx context.Context) config.SiteConfig {\n    if cfg, ok := ctx.Value(ctxkeys.SiteConfig).(config.SiteConfig); ok {\n        return cfg\n    }\n    return config.SiteConfig{Name: \"MyApp\"}\n}\n\nfunc SiteNameFromCtx(ctx context.Context) string {\n    return SiteFromCtx(ctx).Name\n}\n```\n\n#### Framework-Specific Migration\n\n**From Next.js (handler passes meta):**\n\n```jsx\n// Next.js (before)\nexport const metadata = {\n  title: 'My Page',\n  description: 'Page description',\n};\n```\n\n```templ\n// Go template (after) - template constructs meta\ntempl MyPage() {\n    @layouts.Base(meta.New(\"My Page\", \"Page description\")) {\n        // content\n    }\n}\n```\n\n**From Django (template blocks):**\n\n```django\n{% raw %}\n{% block meta %}\n<title>{{ page_title }}</title>\n<meta name=\"description\" content=\"{{ page_description }}\">\n{% endblock %}\n{% endraw %}\n```\n\n```templ\n// Go template (after)\ntempl MyPage() {\n    @layouts.Base(meta.New(\"Page Title\", \"Page description\")) {\n        // content\n    }\n}\n```\n\n**From Laravel (controller passes vars):**\n\n```php\n// Laravel (before)\nreturn view('page', ['title' => 'My Page']);\n```\n\n```go\n// Go handler (after) - does NOT pass meta\nfunc (h *Handler) Page(c echo.Context) error {\n    return pages.Page().Render(c.Request().Context(), c.Response().Writer)\n}\n```\n\n```templ\n// Go template - owns its meta\ntempl Page() {\n    @layouts.Base(meta.New(\"My Page\", \"Description\")) {\n        // content\n    }\n}\n```\n\n**From Express (res.render with vars):**\n\n```javascript\n// Express (before)\nres.render('page', { title: 'My Page' });\n```\n\n```go\n// Go handler (after) - clean, no meta\nfunc (h *Handler) Page(c echo.Context) error {\n    return pages.Page().Render(c.Request().Context(), c.Response().Writer)\n}\n```\n\n#### Migrating Site-Wide Config\n\nMove hardcoded site names to environment variables:\n\n```bash\n# .envrc\nexport SITE_NAME=\"My App\"\nexport SITE_URL=\"https://example.com\"\n```\n\nMiddleware injects into context, templates access via `meta.SiteNameFromCtx(ctx)`.\n\n#### Preserve Existing OG Images\n\nWhen converting, identify and preserve existing OG images:\n\n1. Check `public/`, `static/`, `assets/` for og-*.png files\n2. Copy to Go project's `static/images/` directory\n3. Reference in templates: `meta.New(\"Title\", \"Desc\").WithOGImage(\"/static/images/og.png\")`\n\n### Database Schema Migration\n\nIf the project has an existing database:\n\n1. Export current schema\n2. Convert to goose migration format\n3. Create sqlc queries from existing SQL or ORM code\n\n**From Prisma schema:**\n\n```prisma\nmodel User {\n  id        String   @id @default(uuid())\n  email     String   @unique\n  name      String?\n  createdAt DateTime @default(now())\n}\n```\n\nConvert to goose migration (see Django example above).\n\n**From existing SQL files:**\n\nCopy and wrap with goose markers:\n\n```sql\n-- +goose Up\n[existing CREATE TABLE statements]\n\n-- +goose Down\n[DROP TABLE statements in reverse order]\n```\n\n### What Gets Preserved During Conversion\n\nThis conversion PRESERVES the following from the original site:\n\n| Element | What's Preserved | How |\n|---------|------------------|-----|\n| **Visual Design** | CSS, colors, typography, spacing | Extract styles to Tailwind classes |\n| **Layout Structure** | Header, footer, sidebar positions | Recreate in base.templ layout |\n| **Content** | All text, images, data | Copy directly to Go templates |\n| **Navigation** | Routes and URL structure | Map to Echo routes (same URLs) |\n| **SEO Elements** | Meta tags, OG images, structured data | Migrate to meta.PageMeta |\n| **Assets** | Images, fonts, icons | Copy to static/ directory |\n\n**Critical:** Preserve the same URL structure. If the old site has `/about`, the Go site\nmust also have `/about`. Do NOT change routes during conversion.\n\n### SEO/Metadata Preservation\n\nBefore converting templates, scan the existing project for all SEO-related content.\n\n#### Metadata Detection Commands\n\n```bash\n# Search for meta tags in templates\nrg -i '<meta\\s+' --glob '*.html' --glob '*.jsx' --glob '*.vue' --glob '*.blade.php' --glob '*.erb' --glob '*.twig'\n\n# Search for OG tags\nrg 'og:' --glob '*.html' --glob '*.jsx' --glob '*.vue'\n\n# Search for JSON-LD structured data\nrg 'application/ld\\+json' --glob '*.html' --glob '*.jsx'\n\n# Search for existing SEO config files\nfd -e json -e yaml -e yml | xargs rg -l 'seo\\|meta\\|og:'\n```\n\n#### Metadata to Extract\n\nScan for these elements:\n\n- **Title tags**: Extract page titles from templates/views\n- **Meta descriptions**: Find description meta tags\n- **OG tags**: og:title, og:description, og:image, og:type, og:url\n- **Twitter cards**: twitter:card, twitter:title, twitter:description, twitter:image\n- **Canonical URLs**: link rel=\"canonical\"\n- **Structured data**: JSON-LD, microdata\n- **Robots directives**: noindex, nofollow\n- **Sitemap references**: sitemap.xml locations\n- **Favicon/icons**: Various icon formats and sizes\n\n#### Framework-Specific SEO Extraction\n\n**Next.js:**\n\n```javascript\n// Look for these patterns\nexport const metadata = { ... }\ngenerateMetadata()\n<Head>...</Head>\n```\n\n**Django:**\n\n```python\n# Look for these patterns\n{% block meta %}\n{{ page.seo_title }}\n```\n\n**Laravel:**\n\n```php\n// Look for SEO packages\n@section('meta')\nSEO::setTitle()\n```\n\n#### Migration Pattern\n\nWhen converting each page/template:\n\n1. **Extract metadata from source**:\n   - Parse the original template for all meta-related content\n   - Document any dynamic metadata (e.g., `{{ page.title }}`)\n   - Note any SEO-related environment variables\n\n2. **Map to Go/Templ structure**:\n   - Static metadata → Direct in template via `meta.New()`\n   - Dynamic metadata → Handler passes data, template constructs meta\n   - Site-wide metadata → Context via middleware\n\n3. **Preserve OG images**:\n   - Find existing OG image files\n   - Copy to `static/images/`\n   - Update paths in templates\n\n4. **Report preserved metadata**:\n\nAfter conversion, display a summary:\n\n```text\n## SEO Metadata Preserved\n\n| Page | Title | Description | OG Image |\n|------|-------|-------------|----------|\n| /    | Home  | Welcome...  | /static/images/og-home.png |\n| /about | About Us | Learn... | /static/images/og-default.png |\n```\n\n---\n\n## Step 5: Incremental Migration Plan\n\nFor large projects, suggest this phased approach:\n\n### Phase 1: Foundation (Day 1)\n\n- Add Go project structure alongside existing code\n- Set up shared database connection\n- Create base templates\n- Configure Air hot reload\n\nBoth apps can run simultaneously:\n\n- Existing app: port 3000\n- Go app: port 3000\n\n### Phase 2: Static Pages (Days 2-3)\n\n- Convert static/simple pages to Templ\n- Add Tailwind CSS\n- Set up HTMX for simple interactions\n\n### Phase 3: Core Features (Days 4-7)\n\n- Convert main CRUD operations\n- Migrate database queries to sqlc\n- Add authentication middleware (if using Clerk)\n\n### Phase 4: Cleanup (Day 8+)\n\n- Remove old framework files\n- Update deployment configuration\n- Update documentation\n\n---\n\n## Step 6: Execute Conversion\n\nAfter planning, execute the conversion:\n\n1. **Create Go structure** without removing existing files\n2. **Generate migrations** from existing database schema\n3. **Convert templates** one at a time\n4. **Migrate routes** starting with simplest endpoints\n5. **Load environment variables:**\n\n   The `.envrc` file was created with sensible defaults. Load it before any build/verification steps:\n\n   ```bash\n   # Check if direnv is installed and use it, otherwise source directly\n   if command -v direnv &> /dev/null; then\n       direnv allow\n       eval \"$(direnv export bash)\"\n   else\n       # Source .envrc directly if direnv not installed\n       set -a  # auto-export all variables\n       source .envrc\n       set +a\n   fi\n   ```\n\n   **IMPORTANT:** This step is required before `make generate` or `make dev` will work, because the server requires DATABASE_URL to be set.\n\n6. **Generate tests** for converted handlers\n7. **Verify build and tests** before moving to next\n\n### Generate Tests for Converted Handlers\n\nFor each converted handler, create tests following this pattern:\n\n**`internal/handler/<entity>_test.go`:**\n\n```go\npackage handler\n\nimport (\n    \"net/http\"\n    \"net/http/httptest\"\n    \"testing\"\n\n    \"[project-name]/internal/testutil\"\n\n    \"github.com/labstack/echo/v4\"\n)\n\nfunc TestList<Entity>(t *testing.T) {\n    t.Parallel()\n\n    db := testutil.NewTestDB(t)\n    cfg := testutil.NewTestConfig(t)\n    h := New(cfg, db)\n\n    e := echo.New()\n    req := httptest.NewRequest(http.MethodGet, \"/<entities>\", nil)\n    rec := httptest.NewRecorder()\n    c := e.NewContext(req, rec)\n\n    if err := h.List<Entity>(c); err != nil {\n        t.Errorf(\"List<Entity>() error = %v\", err)\n    }\n\n    if rec.Code != http.StatusOK {\n        t.Errorf(\"List<Entity>() status = %d, want %d\", rec.Code, http.StatusOK)\n    }\n}\n\nfunc TestCreate<Entity>(t *testing.T) {\n    t.Parallel()\n\n    db := testutil.NewTestDB(t)\n    cfg := testutil.NewTestConfig(t)\n    h := New(cfg, db)\n\n    e := echo.New()\n    // Add form data or JSON body\n    req := httptest.NewRequest(http.MethodPost, \"/<entities>\", nil)\n    req.Header.Set(\"Content-Type\", \"application/x-www-form-urlencoded\")\n    rec := httptest.NewRecorder()\n    c := e.NewContext(req, rec)\n\n    // Test creation logic\n    // ...\n}\n```\n\n**Test at least:**\n- List/index handlers return 200\n- Show handlers return 200 for existing records, 404 for missing\n- Create handlers validate input and return redirect on success\n- Update handlers validate and return redirect\n- Delete handlers return 200 or redirect\n\n### Verification Checklist\n\nAfter conversion, verify:\n\n- [ ] `make dev` starts the server\n- [ ] All routes respond correctly\n- [ ] Database queries work\n- [ ] Templates render properly\n- [ ] Static assets load\n- [ ] Forms submit successfully\n- [ ] No Go expressions in `<script>` tags (use data attributes instead)\n- [ ] `go test -v ./...` passes\n- [ ] `golangci-lint run` passes\n- [ ] CI workflow runs successfully\n\n---\n\n## Step 7: Display Summary\n\nAfter conversion, display a summary to the user showing:\n\n**Conversion Complete Header:**\n\n- Project name\n- Converted from: [detected framework]\n- Conversion type: full/incremental/backend-only\n\n**Files Created Table:**\n\n| Category | Count |\n|----------|-------|\n| Go source files | X |\n| Templ templates | X |\n| Migrations | X |\n| Config files | X |\n\n**Files Preserved:**\n\nList the files that were preserved (README, .git, etc.)\n\n**Files to Remove (after testing):**\n\nList old framework files that can be safely removed after verification.\n\n**Next Steps:**\n\n1. Test the Go app: `make dev`\n1. Verify routes: Visit each page and test functionality\n1. Run tests: `make test`\n1. Remove old files (when ready): `rm -rf [old-framework-files]`\n1. Update deployment: Follow deployment instructions for your platform\n\n**Migration Notes:**\n\nInclude any specific notes about the conversion, pending items, or manual steps needed.\n\n---\n\n## Error Handling\n\nIf conversion encounters issues:\n\n### Unsupported Framework\n\nIf the detected framework isn't in the migration guides:\n\n```text\nI detected [framework] which doesn't have a specific migration guide yet.\n\nWould you like me to:\n1. Attempt a general conversion (analyze your code and convert patterns)\n2. Stop and let you provide more context about your project\n\nThe general conversion will:\n- Analyze your route definitions\n- Convert controllers/views to Go handlers\n- Migrate templates to Templ syntax\n- Create database migrations from your schema\n```\n\n### Complex ORM Queries\n\nIf the project uses complex ORM queries that don't map directly to SQL:\n\n```text\nI found some complex ORM patterns that need manual review:\n\n[Example query]\n\nThis query uses [feature] which doesn't have a direct SQL equivalent.\n\nOptions:\n1. Convert to multiple simpler queries\n2. Keep as a raw SQL query with manual implementation\n3. Skip for now and add TODO comment\n\nWhich approach would you prefer?\n```\n\n### Frontend-Heavy Projects\n\nIf the project is heavily frontend-focused (SPA):\n\n```text\nThis appears to be a frontend-heavy project with [framework].\n\nFor projects with complex frontend logic, consider:\n1. **Keep frontend, convert API only** - Your [React/Vue/etc] app stays the same,\n   only the backend becomes Go\n2. **Progressive enhancement** - Convert to HTMX gradually, keeping some React\n   components where needed\n3. **Full conversion** - Replace everything with Templ + HTMX (significant rewrite)\n\nWhich approach fits your needs?\n```\n\n---\n\n## Completion Criteria\n\n**DO NOT output `<done>COMPLETE</done>` until ALL of these conditions are TRUE:**\n\n1. Go project structure is created alongside existing files\n2. All migrations are created from existing schema\n3. Core handlers and templates are converted\n4. `go mod tidy` succeeds\n5. `go build ./cmd/server` succeeds without errors\n6. `go test ./...` passes\n7. Server starts and responds to requests\n\n**When ALL criteria are met, output exactly:**\n\n```\n<done>COMPLETE</done>\n```\n\nThis signals the loop to exit. If you output this prematurely, the conversion will not be complete.\n\n---\n\n**Safety note:** If you've iterated 15+ times without success, document what's blocking progress and ask the user for guidance."
              },
              {
                "name": "/create-go-project",
                "description": "Create a new Go web project with Templ, HTMX, Tailwind, and sqlc",
                "path": "plugins/go-web/commands/create-go-project.md",
                "frontmatter": {
                  "argument-hint": "<project-name>",
                  "description": "Create a new Go web project with Templ, HTMX, Tailwind, and sqlc",
                  "model": "claude-opus-4-5-20251101",
                  "allowed-tools": [
                    "Bash",
                    "Read",
                    "Write",
                    "Edit",
                    "Glob",
                    "Grep",
                    "AskUserQuestion"
                  ]
                },
                "content": "# Create Go Project\n\n**If `$ARGUMENTS` is empty or not provided:**\n\nDisplay usage information and ask for input:\n\nThis command creates a production-ready Go web application with:\n\n- **Echo v4** - Fast, minimalist web framework\n- **Templ** - Type-safe HTML templates (compiles to Go)\n- **Tailwind CSS v4** - Utility-first CSS framework\n- **HTMX** - Server-driven interactivity via HTML attributes\n- **templUI** (optional) - Component library for Templ (if admin dashboard selected)\n- **sqlc** - Type-safe database queries from SQL\n- **goose** - Database migrations\n- **Air** - Hot reload for development\n\n**Usage:** `/create-go-project <project-name>`\n\n**Example:** `/create-go-project my-app`\n\n**Workflow:**\n\n1. Ask database preference (PostgreSQL, SQLite, MySQL)\n2. Ask about optional services (authentication, email, payments)\n3. Ask about admin dashboard (dark/light mode, sidebar)\n4. Ask about deployment platform\n5. Create project structure with all files\n6. Initialize git repository\n7. Provide next steps\n\nAsk the user: \"What would you like to name your project?\"\n\n---\n\n**If `$ARGUMENTS` is provided:**\n\nCreate a new Go project named `$ARGUMENTS`. Follow this interactive flow:\n\n## Step 1: Gather Project Requirements\n\n<default_deployment_choice>\nWhen the user hasn't expressed a strong preference, default to recommending **Vercel + Neon PostgreSQL**\nas the deployment stack. This combination offers:\n\n- Completely free tier for most projects\n- Zero server management\n- Automatic deployments from GitHub\n- Production-ready from day one\n\nOnly suggest Railway, Fly.io, or self-hosted if the user:\n\n- Explicitly requests it\n- Needs SQLite in production\n- Has specific requirements that Vercel can't meet\n</default_deployment_choice>\n\nUse AskUserQuestion to ask the following questions. Present them one at a time.\n\n### Database Selection\n\nAsk the user which database they want to use:\n\n| Database | Best For |\n|----------|----------|\n| **PostgreSQL** (recommended) | Production apps, complex queries. Requires server (Neon, Supabase, or local) |\n| **SQLite** | Prototypes, single-user apps. Just a file - no server needed |\n| **MySQL** | Existing MySQL infrastructure |\n\n**Plain explanations for beginners:**\n\n- **PostgreSQL**: The \"professional\" choice used by most startups. Excellent for complex\n  data and scales well. You'll need PostgreSQL installed locally or use a cloud service\n  like Neon (free tier), Supabase, or Railway.\n\n- **SQLite**: Perfect for getting started quickly. Your database is just a single file -\n  no server needed. Great for prototypes and learning, but has limitations with multiple\n  users accessing at once.\n\n- **MySQL**: Choose this if your company already uses MySQL or you're migrating from\n  PHP/WordPress. Similar capabilities to PostgreSQL.\n\n### Optional Services\n\nAsk the user which services to include (multi-select allowed):\n\n| Service | Purpose |\n|---------|---------|\n| **Clerk** | User login/signup, password reset, sessions |\n| **Brevo** | Send emails (welcome, notifications, password reset) |\n| **Stripe** | Accept payments (credit cards, subscriptions) |\n| **None** | Skip - add services later |\n\n**Plain explanations for beginners:**\n\n- **Clerk**: Handles user accounts so you don't build login forms, password reset,\n  and email verification yourself. They handle security - you focus on your app.\n  Free tier is generous. Visit <https://clerk.com>\n\n- **Brevo** (formerly Sendinblue): When your app needs to send emails - welcome\n  messages, password resets, notifications. They handle deliverability so your\n  emails don't end up in spam. Free tier: 300 emails/day. Visit <https://brevo.com>\n\n- **Stripe**: For accepting payments - credit cards, subscriptions, invoices.\n  They handle compliance (PCI-DSS) so you never touch card numbers directly.\n  You only pay when you make money. Visit <https://stripe.com>\n\n### Admin Dashboard\n\nAsk the user if they want an admin dashboard:\n\n| Option | Description |\n|--------|-------------|\n| **Yes** (recommended) | Include admin UI with dark/light mode, sidebar, stats cards |\n| **No** | Skip admin UI - build API or simple pages only |\n\nThe admin dashboard includes:\n\n- Dark/light mode toggle with localStorage persistence\n- Collapsible sidebar navigation\n- Stats cards with icons\n- Responsive mobile navigation\n- **templUI component library** (requires installation - see below)\n\n**If Admin Dashboard is selected:**\n\nThe admin dashboard uses [templUI](https://templui.io), a component library for Templ. After project creation, install the templUI CLI and add the required components:\n\n```bash\n# Install templUI CLI\ngo install github.com/templui/templui@latest\n\n# Add required components for admin dashboard\ntemplui add sidebar button card icon\n```\n\nThis will create a `components/` directory with the templUI components. The generated `input.css` already includes the source path for this directory.\n\n### Deployment Platform\n\nAsk the user where they plan to deploy:\n\n| Platform | When to Use | Cost |\n|----------|-------------|------|\n| **Vercel + Neon** | Default choice for most projects | Free tier |\n| **Railway** | Need SQLite or traditional server | $5/mo credit |\n| **Fly.io** | Need global edge or SQLite | Limited free |\n| **Self-hosted** | Full control required | You manage |\n\n**Why Vercel + Neon is the default:**\n\nFor most new Go projects, we recommend Vercel + Neon PostgreSQL because:\n\n1. Both have generous free tiers (no credit card required)\n2. GitHub integration means automatic deployments\n3. No server management - focus on your code\n4. Professional production setup from the start\n\nIf you're prototyping locally with SQLite and want to keep it simple,\nRailway or Fly.io are better choices since they support persistent volumes.\n\n**Plain explanations for beginners:**\n\n- **Vercel + Neon**: Completely free for most projects. Connect your GitHub repo\n  and it auto-deploys. 100,000 free requests/month. Neon provides free PostgreSQL.\n  This is the recommended free hosting stack for production apps.\n\n- **Railway**: Like Heroku but modern. Your app runs as a traditional server (same\n  as local development). $5/month credit usually covers small projects for free.\n  Good choice for SQLite or if you want a traditional server setup.\n\n- **Fly.io**: Runs your app in multiple locations worldwide for faster access.\n  More setup required (Docker helps) but great for global users. Works well with\n  SQLite (persistent volumes) or any database.\n\n- **Self-hosted**: You manage the server yourself. More work but full control.\n  Best for SQLite production deployments.\n\n**Example recommendation flow:**\n\n- User: \"Where should I deploy?\" → Default to Vercel + Neon\n- User chose SQLite earlier → Recommend Railway or Fly.io\n- User: \"I need to self-host\" → Provide self-hosted guidance\n\n---\n\n## Loop Initialization\n\nInitialize persistent loop to ensure project creation completes fully:\n!`\"${CLAUDE_PLUGIN_ROOT}/scripts/setup-loop.sh\" \"create-go-project-$ARGUMENTS\" \"COMPLETE\"`\n\n## Security Validation\n\nBefore creating any files, validate the project name:\n\n1. **Check for path traversal**: If `$ARGUMENTS` contains `/`, `..`, or starts with `.`, display error: \"Project name cannot contain path separators or relative paths\"\n2. **Check for valid characters**: If `$ARGUMENTS` contains characters other than `a-z`, `A-Z`, `0-9`, `-`, or `_`, display error: \"Project name must contain only alphanumeric characters, hyphens, and underscores\"\n3. **Check for reserved names**: If `$ARGUMENTS` is empty or matches system directories, display error\n\nOnly proceed if validation passes.\n\n## Step 2: Create Project Structure\n\nAfter gathering requirements, create the project at `./$ARGUMENTS/`.\n\n### Core Files\n\nCreate these files in order (dependencies matter):\n\n#### 1. go.mod\n\n```go\nmodule $ARGUMENTS\n\ngo 1.25\n\nrequire (\n    github.com/labstack/echo/v4 v4.14.0\n    github.com/a-h/templ v0.3.960\n    github.com/lmittmann/tint v1.1.2\n    github.com/pressly/goose/v3 v3.26.0\n    // Database driver added based on selection\n    // Service SDKs added based on selection\n)\n```\n\n**Database-specific additions:**\n\n- PostgreSQL: `github.com/jackc/pgx/v5`, `github.com/google/uuid`\n- SQLite: `modernc.org/sqlite` (CGO-free, pure Go)\n- MySQL: `github.com/go-sql-driver/mysql`\n\n#### 2. .gitignore\n\n```text\n# Binaries\n$ARGUMENTS\n*.exe\n\n# Build artifacts\ntmp/\n*.log\n\n# Environment (never commit secrets)\n.envrc\n.env\n\n# SQLite database files\ndata/*.db\n\n# Generated files (can be regenerated)\n*_templ.go\ninternal/database/sqlc/\n\n# Dependencies\nnode_modules/\n\n# IDE\n.idea/\n.vscode/\n*.swp\n\n# OS\n.DS_Store\nThumbs.db\n\n# Tailwind output (generated)\nstatic/css/output.css\n```\n\n#### 3. .envrc.example\n\n```bash\n# Copy this file to .envrc and edit with your values\n# Then run: direnv allow\n\n# Database\n# PostgreSQL: postgres://user:pass@localhost:5432/dbname?sslmode=disable\n# SQLite: ./data/$ARGUMENTS.db\n# MySQL: user:pass@tcp(localhost:3306)/dbname\nexport DATABASE_URL=\"YOUR_DATABASE_URL_HERE\"\n\n# Server\nexport PORT=\"3000\"\nexport ENV=\"development\"\nexport LOG_LEVEL=\"DEBUG\"\n\n# Site / SEO (used for meta tags, OG, etc.)\nexport SITE_NAME=\"$ARGUMENTS\"\nexport SITE_URL=\"http://localhost:3000\"\nexport DEFAULT_OG_IMAGE=\"/static/images/og-default.png\"\n\n# CLERK_SECRET_KEY and CLERK_PUBLISHABLE_KEY if Clerk selected\n# BREVO_API_KEY if Brevo selected\n# STRIPE_SECRET_KEY, STRIPE_PUBLISHABLE_KEY, STRIPE_WEBHOOK_SECRET if Stripe selected\n```\n\n#### 4. .envrc (working environment file)\n\n**IMPORTANT:** Also create the actual `.envrc` file with working defaults based on the selected database:\n\n**For SQLite:**\n```bash\n# Environment configuration for $ARGUMENTS\n# Automatically generated - modify as needed\n\n# Database (SQLite)\nexport DATABASE_URL=\"./data/$ARGUMENTS.db\"\n\n# Server\nexport PORT=\"3000\"\nexport ENV=\"development\"\nexport LOG_LEVEL=\"DEBUG\"\n\n# Site / SEO\nexport SITE_NAME=\"$ARGUMENTS\"\nexport SITE_URL=\"http://localhost:3000\"\nexport DEFAULT_OG_IMAGE=\"/static/images/og-default.png\"\n```\n\n**For PostgreSQL:**\n```bash\n# Environment configuration for $ARGUMENTS\n# Automatically generated - modify DATABASE_URL with your credentials\n\n# Database (PostgreSQL) - UPDATE WITH YOUR CREDENTIALS\nexport DATABASE_URL=\"postgres://localhost:5432/$ARGUMENTS?sslmode=disable\"\n\n# Server\nexport PORT=\"3000\"\nexport ENV=\"development\"\nexport LOG_LEVEL=\"DEBUG\"\n\n# Site / SEO\nexport SITE_NAME=\"$ARGUMENTS\"\nexport SITE_URL=\"http://localhost:3000\"\nexport DEFAULT_OG_IMAGE=\"/static/images/og-default.png\"\n```\n\n**For MySQL:**\n```bash\n# Environment configuration for $ARGUMENTS\n# Automatically generated - modify DATABASE_URL with your credentials\n\n# Database (MySQL) - UPDATE WITH YOUR CREDENTIALS\nexport DATABASE_URL=\"root@tcp(localhost:3306)/$ARGUMENTS\"\n\n# Server\nexport PORT=\"3000\"\nexport ENV=\"development\"\nexport LOG_LEVEL=\"DEBUG\"\n\n# Site / SEO\nexport SITE_NAME=\"$ARGUMENTS\"\nexport SITE_URL=\"http://localhost:3000\"\nexport DEFAULT_OG_IMAGE=\"/static/images/og-default.png\"\n```\n\n#### 5. data/.gitkeep (for SQLite projects only)\n\nFor SQLite projects, create the data directory:\n\n```bash\nmkdir -p data\ntouch data/.gitkeep\n```\n\nThis ensures the database directory exists and is tracked by git (but not the database file itself, which is in .gitignore).\n\n#### 6. package.json\n\n```json\n{\n  \"name\": \"$ARGUMENTS\",\n  \"private\": true,\n  \"scripts\": {\n    \"css\": \"npx @tailwindcss/cli -i static/css/input.css -o static/css/output.css --minify\",\n    \"css:watch\": \"npx @tailwindcss/cli -i static/css/input.css -o static/css/output.css --watch\"\n  },\n  \"devDependencies\": {\n    \"tailwindcss\": \"^4.0.0\",\n    \"@tailwindcss/cli\": \"^4.0.0\"\n  }\n}\n```\n\n#### 5. Makefile\n\nCreate a comprehensive Makefile:\n\n```makefile\nSHELL := /bin/bash\n\n.PHONY: dev build test lint generate css css-watch migrate migrate-down migrate-status migrate-create setup clean run help\n\nBINARY_NAME=$ARGUMENTS\nMIGRATIONS_DIR=internal/database/migrations\n\ndev:\n    @if [ -f tmp/air-combined.log ]; then \\\n        mv tmp/air-combined.log tmp/air-combined-$$(date +%Y%m%d-%H%M%S).log; \\\n    fi\n    @ls -t tmp/air-combined-*.log 2>/dev/null | tail -n +6 | xargs rm -f 2>/dev/null || true\n    @air 2>&1 | tee tmp/air-combined.log\n\nbuild: generate css\n    go build -o $(BINARY_NAME) ./cmd/server\n\ntest:\n    go test -v -race ./...\n\nlint:\n    golangci-lint run\n    templ fmt templates/\n\ngenerate:\n    go generate ./...\n\ncss:\n    npx @tailwindcss/cli -i static/css/input.css -o static/css/output.css --minify\n\ncss-watch:\n    npx @tailwindcss/cli -i static/css/input.css -o static/css/output.css --watch\n\n# Database migration commands vary by database type\n# PostgreSQL: goose -dir $(MIGRATIONS_DIR) postgres \"$$DATABASE_URL\" up\n# SQLite: goose -dir $(MIGRATIONS_DIR) sqlite3 \"$$DATABASE_URL\" up\n# MySQL: goose -dir $(MIGRATIONS_DIR) mysql \"$$DATABASE_URL\" up\nmigrate:\n    goose -dir $(MIGRATIONS_DIR) DATABASE_TYPE \"$$DATABASE_URL\" up\n\nmigrate-down:\n    goose -dir $(MIGRATIONS_DIR) DATABASE_TYPE \"$$DATABASE_URL\" down\n\nmigrate-status:\n    goose -dir $(MIGRATIONS_DIR) DATABASE_TYPE \"$$DATABASE_URL\" status\n\nmigrate-create:\nifndef NAME\n    $(error NAME is required. Usage: make migrate-create NAME=create_users)\nendif\n    goose -dir $(MIGRATIONS_DIR) create $(NAME) sql\n\nsetup:\n    go install github.com/air-verse/air@latest\n    go install github.com/a-h/templ/cmd/templ@latest\n    go install github.com/sqlc-dev/sqlc/cmd/sqlc@latest\n    go install github.com/pressly/goose/v3/cmd/goose@latest\n    go install github.com/golangci/golangci-lint/cmd/golangci-lint@latest\n\nclean:\n    rm -f $(BINARY_NAME)\n    rm -rf tmp/\n    rm -f static/css/output.css\n\nrun: build\n    ./$(BINARY_NAME)\n\nhelp:\n    @echo \"Available targets:\"\n    @echo \"  dev            - Run with Air hot reload\"\n    @echo \"  build          - Build the binary\"\n    @echo \"  test           - Run tests\"\n    @echo \"  lint           - Run golangci-lint and templ fmt\"\n    @echo \"  generate       - Generate templ and sqlc code\"\n    @echo \"  css            - Build Tailwind CSS\"\n    @echo \"  css-watch      - Watch and rebuild Tailwind CSS\"\n    @echo \"  migrate        - Run database migrations\"\n    @echo \"  migrate-down   - Rollback last migration\"\n    @echo \"  migrate-status - Show migration status\"\n    @echo \"  migrate-create - Create new migration (NAME=xxx)\"\n    @echo \"  setup          - Install development tools\"\n    @echo \"  clean          - Remove build artifacts\"\n    @echo \"  run            - Build and run the server\"\n```\n\nReplace `DATABASE_TYPE` with `postgres`, `sqlite3`, or `mysql` based on selection.\n\n#### 6. .air.toml\n\n```toml\nroot = \".\"\ntestdata_dir = \"testdata\"\ntmp_dir = \"tmp\"\n\n[build]\n  args_bin = []\n  bin = \"./tmp/$ARGUMENTS\"\n  cmd = \"go build -o ./tmp/$ARGUMENTS ./cmd/server\"\n  delay = 1000\n  exclude_dir = [\"assets\", \"tmp\", \"vendor\", \"testdata\", \"node_modules\", \"static\", \"internal/database/sqlc\"]\n  exclude_file = [\"go.sum\"]\n  exclude_regex = [\"_test.go\", \"_templ\\\\.go$\"]\n  exclude_unchanged = false\n  follow_symlink = false\n  full_bin = \"\"\n  include_dir = []\n  include_ext = [\"go\", \"tpl\", \"tmpl\", \"html\", \"templ\", \"css\"]\n  include_file = []\n  kill_delay = \"2s\"\n  log = \"build-errors.log\"\n  poll = false\n  poll_interval = 0\n  post_cmd = []\n  pre_cmd = [\n    \"lsof -ti:${PORT:-3000} | xargs kill -9 2>/dev/null || true; sleep 0.5\",\n    \"go generate ./...\",\n    \"go mod tidy\"\n  ]\n  rerun = false\n  rerun_delay = 500\n  send_interrupt = false\n  stop_on_error = false\n\n[color]\n  app = \"\"\n  build = \"yellow\"\n  main = \"magenta\"\n  runner = \"green\"\n  watcher = \"cyan\"\n\n[log]\n  main_only = false\n  time = false\n\n[misc]\n  clean_on_exit = false\n\n[proxy]\n  app_port = 0\n  enabled = false\n  proxy_port = 0\n\n[screen]\n  clear_on_rebuild = false\n  keep_scroll = true\n```\n\n#### 7. sqlc/sqlc.yaml\n\n**For PostgreSQL:**\n\n```yaml\nversion: \"2\"\nsql:\n  - engine: \"postgresql\"\n    queries: \"queries/\"\n    schema: \"../internal/database/migrations/\"\n    gen:\n      go:\n        package: \"sqlc\"\n        out: \"../internal/database/sqlc\"\n        sql_package: \"pgx/v5\"\n        emit_json_tags: true\n        emit_empty_slices: true\n        emit_pointers_for_null_types: true\n        overrides:\n          - db_type: \"uuid\"\n            go_type:\n              import: \"github.com/google/uuid\"\n              type: \"UUID\"\n          - db_type: \"timestamptz\"\n            go_type: \"time.Time\"\n```\n\n**For SQLite:**\n\n```yaml\nversion: \"2\"\nsql:\n  - engine: \"sqlite\"\n    queries: \"queries/\"\n    schema: \"../internal/database/migrations/\"\n    gen:\n      go:\n        package: \"sqlc\"\n        out: \"../internal/database/sqlc\"\n        emit_json_tags: true\n        emit_empty_slices: true\n```\n\n**For MySQL:**\n\n```yaml\nversion: \"2\"\nsql:\n  - engine: \"mysql\"\n    queries: \"queries/\"\n    schema: \"../internal/database/migrations/\"\n    gen:\n      go:\n        package: \"sqlc\"\n        out: \"../internal/database/sqlc\"\n        emit_json_tags: true\n        emit_empty_slices: true\n```\n\n#### 8. sqlc/queries/example.sql\n\n```sql\n-- name: GetExample :one\nSELECT * FROM examples WHERE id = $1 LIMIT 1;\n\n-- name: ListExamples :many\nSELECT * FROM examples ORDER BY created_at DESC LIMIT $1 OFFSET $2;\n\n-- name: CreateExample :one\nINSERT INTO examples (name, description) VALUES ($1, $2) RETURNING *;\n\n-- name: UpdateExample :exec\nUPDATE examples SET name = $1, description = $2, updated_at = NOW() WHERE id = $3;\n\n-- name: DeleteExample :exec\nDELETE FROM examples WHERE id = $1;\n```\n\nAdjust SQL syntax for SQLite (`?` params) or MySQL as needed.\n\n#### 9. internal/database/migrations/001_initial.sql\n\n**For PostgreSQL:**\n\n```sql\n-- +goose Up\nCREATE EXTENSION IF NOT EXISTS \"uuid-ossp\";\n\nCREATE TABLE examples (\n    id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),\n    name VARCHAR(255) NOT NULL,\n    description TEXT,\n    created_at TIMESTAMPTZ DEFAULT NOW(),\n    updated_at TIMESTAMPTZ DEFAULT NOW()\n);\n\n-- +goose Down\nDROP TABLE IF EXISTS examples;\n```\n\n**For SQLite:**\n\n```sql\n-- +goose Up\nCREATE TABLE examples (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    name TEXT NOT NULL,\n    description TEXT,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n);\n\n-- +goose Down\nDROP TABLE IF EXISTS examples;\n```\n\n**For MySQL:**\n\n```sql\n-- +goose Up\nCREATE TABLE examples (\n    id CHAR(36) PRIMARY KEY DEFAULT (UUID()),\n    name VARCHAR(255) NOT NULL,\n    description TEXT,\n    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\n-- +goose Down\nDROP TABLE IF EXISTS examples;\n```\n\n### Go Application Files\n\n#### 10. cmd/server/slog.go\n\n```go\npackage main\n\nimport (\n    \"log/slog\"\n    \"os\"\n    \"strings\"\n    \"time\"\n\n    \"github.com/lmittmann/tint\"\n)\n\nfunc init() {\n    level := getLogLevel()\n    isDev := strings.ToLower(os.Getenv(\"ENV\")) == \"development\"\n\n    var handler slog.Handler\n    if isDev {\n        handler = tint.NewHandler(os.Stderr, &tint.Options{\n            Level:      level,\n            TimeFormat: time.Kitchen,\n            AddSource:  level == slog.LevelDebug,\n        })\n    } else {\n        handler = slog.NewJSONHandler(os.Stderr, &slog.HandlerOptions{\n            Level:     level,\n            AddSource: false,\n        })\n    }\n\n    slog.SetDefault(slog.New(handler))\n}\n\nfunc getLogLevel() slog.Level {\n    switch strings.ToUpper(os.Getenv(\"LOG_LEVEL\")) {\n    case \"DEBUG\":\n        return slog.LevelDebug\n    case \"WARN\":\n        return slog.LevelWarn\n    case \"ERROR\":\n        return slog.LevelError\n    default:\n        return slog.LevelInfo\n    }\n}\n```\n\n#### 11. cmd/server/generate.go\n\nThis file centralizes all code generation via `//go:generate` directives:\n\n```go\npackage main\n\n//go:generate echo \"Generating SQLC files...\"\n//go:generate sqlc generate -f ../../sqlc/sqlc.yaml\n//go:generate echo \"SQLC files generated\"\n\n//go:generate echo \"Generating templ files...\"\n//go:generate templ generate -path ../../templates\n//go:generate echo \"templ files generated\"\n\n//go:generate echo \"Generating Tailwind CSS...\"\n//go:generate npx @tailwindcss/cli -i ../../static/css/input.css -o ../../static/css/output.css\n//go:generate echo \"Tailwind CSS generated\"\n```\n\n#### 12. cmd/server/main.go\n\n```go\npackage main\n\nimport (\n    \"context\"\n    \"log/slog\"\n    \"os\"\n    \"os/signal\"\n    \"syscall\"\n    \"time\"\n\n    \"$ARGUMENTS/internal/config\"\n    \"$ARGUMENTS/internal/database\"\n    \"$ARGUMENTS/internal/handler\"\n    \"$ARGUMENTS/internal/middleware\"\n\n    \"github.com/labstack/echo/v4\"\n)\n\nfunc main() {\n    cfg := config.Load()\n\n    ctx := context.Background()\n    db, err := database.New(ctx, cfg.DatabaseURL)\n    if err != nil {\n        slog.Error(\"failed to connect to database\", \"error\", err)\n        os.Exit(1)\n    }\n    defer db.Close()\n\n    e := echo.New()\n    e.HideBanner = true\n    e.HidePort = true\n\n    middleware.Setup(e, cfg)\n\n    h := handler.New(cfg, db)\n    h.RegisterRoutes(e)\n\n    go func() {\n        addr := \":\" + cfg.Port\n        slog.Info(\"starting server\", \"url\", \"http://localhost:\"+cfg.Port, \"env\", cfg.Env)\n        if err := e.Start(addr); err != nil {\n            slog.Info(\"shutting down server\")\n        }\n    }()\n\n    quit := make(chan os.Signal, 1)\n    signal.Notify(quit, syscall.SIGINT, syscall.SIGTERM)\n    <-quit\n\n    ctx, cancel := context.WithTimeout(context.Background(), 10*time.Second)\n    defer cancel()\n\n    if err := e.Shutdown(ctx); err != nil {\n        slog.Error(\"server shutdown error\", \"error\", err)\n    }\n\n    slog.Info(\"server stopped\")\n}\n```\n\n#### 12. internal/config/config.go\n\n```go\npackage config\n\nimport (\n    \"log/slog\"\n    \"os\"\n)\n\ntype SiteConfig struct {\n    Name           string\n    URL            string\n    DefaultOGImage string\n}\n\ntype Config struct {\n    DatabaseURL string\n    Port        string\n    Env         string\n    Site        SiteConfig\n    // Add service keys based on selection:\n    // ClerkSecretKey      string\n    // ClerkPublishableKey string\n    // BrevoAPIKey         string\n    // StripeSecretKey     string\n    // StripePublishableKey string\n    // StripeWebhookSecret string\n}\n\nfunc Load() *Config {\n    cfg := &Config{\n        DatabaseURL: os.Getenv(\"DATABASE_URL\"),\n        Port:        getEnvOrDefault(\"PORT\", \"3000\"),\n        Env:         getEnvOrDefault(\"ENV\", \"development\"),\n        Site: SiteConfig{\n            Name:           getEnvOrDefault(\"SITE_NAME\", \"$ARGUMENTS\"),\n            URL:            getEnvOrDefault(\"SITE_URL\", \"http://localhost:3000\"),\n            DefaultOGImage: getEnvOrDefault(\"DEFAULT_OG_IMAGE\", \"/static/images/og-default.png\"),\n        },\n    }\n\n    if cfg.DatabaseURL == \"\" {\n        slog.Error(\"DATABASE_URL environment variable is required\")\n        os.Exit(1)\n    }\n\n    return cfg\n}\n\nfunc (c *Config) IsDevelopment() bool {\n    return c.Env == \"development\"\n}\n\nfunc (c *Config) IsProduction() bool {\n    return c.Env == \"production\"\n}\n\nfunc getEnvOrDefault(key, defaultValue string) string {\n    if value := os.Getenv(key); value != \"\" {\n        return value\n    }\n    return defaultValue\n}\n```\n\n#### 13. internal/ctxkeys/keys.go\n\nTyped context keys to prevent collision with other packages:\n\n```go\npackage ctxkeys\n\ntype siteConfigKey struct{}\n\nvar SiteConfig = siteConfigKey{}\n```\n\n#### 14. internal/meta/meta.go\n\nSEO and Open Graph metadata (simple struct, no site name - that comes from context):\n\n```go\npackage meta\n\ntype PageMeta struct {\n    Title       string\n    Description string\n    OGType      string\n    OGImage     string\n    Canonical   string\n    NoIndex     bool\n}\n\nfunc New(title, description string) PageMeta {\n    return PageMeta{\n        Title:       title,\n        Description: description,\n        OGType:      \"website\",\n    }\n}\n\nfunc (m PageMeta) WithOGImage(url string) PageMeta {\n    m.OGImage = url\n    return m\n}\n\nfunc (m PageMeta) WithCanonical(url string) PageMeta {\n    m.Canonical = url\n    return m\n}\n\nfunc (m PageMeta) AsArticle() PageMeta {\n    m.OGType = \"article\"\n    return m\n}\n\nfunc (m PageMeta) AsProduct() PageMeta {\n    m.OGType = \"product\"\n    return m\n}\n```\n\n#### 15. internal/meta/context.go\n\nContext helpers to access site config from templates:\n\n```go\npackage meta\n\nimport (\n    \"context\"\n\n    \"$ARGUMENTS/internal/config\"\n    \"$ARGUMENTS/internal/ctxkeys\"\n)\n\nfunc SiteFromCtx(ctx context.Context) config.SiteConfig {\n    if cfg, ok := ctx.Value(ctxkeys.SiteConfig).(config.SiteConfig); ok {\n        return cfg\n    }\n    return config.SiteConfig{Name: \"$ARGUMENTS\"}\n}\n\nfunc SiteNameFromCtx(ctx context.Context) string {\n    return SiteFromCtx(ctx).Name\n}\n\nfunc SiteURLFromCtx(ctx context.Context) string {\n    return SiteFromCtx(ctx).URL\n}\n```\n\n#### 17. internal/database/database.go\n\n**For PostgreSQL:**\n\n```go\npackage database\n\nimport (\n    \"context\"\n    \"embed\"\n    \"fmt\"\n\n    \"github.com/jackc/pgx/v5/pgxpool\"\n    \"github.com/jackc/pgx/v5/stdlib\"\n    \"github.com/pressly/goose/v3\"\n    \"$ARGUMENTS/internal/database/sqlc\"\n)\n\n//go:embed migrations/*.sql\nvar migrationsFS embed.FS\n\ntype DB struct {\n    Pool    *pgxpool.Pool\n    Queries *sqlc.Queries\n}\n\nfunc New(ctx context.Context, databaseURL string) (*DB, error) {\n    pool, err := pgxpool.New(ctx, databaseURL)\n    if err != nil {\n        return nil, fmt.Errorf(\"unable to create connection pool: %w\", err)\n    }\n\n    if err := pool.Ping(ctx); err != nil {\n        return nil, fmt.Errorf(\"unable to ping database: %w\", err)\n    }\n\n    db := &DB{\n        Pool:    pool,\n        Queries: sqlc.New(pool),\n    }\n\n    if err := db.migrate(); err != nil {\n        return nil, fmt.Errorf(\"unable to run migrations: %w\", err)\n    }\n\n    return db, nil\n}\n\nfunc (db *DB) Close() {\n    db.Pool.Close()\n}\n\nfunc (db *DB) migrate() error {\n    goose.SetBaseFS(migrationsFS)\n\n    if err := goose.SetDialect(\"postgres\"); err != nil {\n        return fmt.Errorf(\"failed to set goose dialect: %w\", err)\n    }\n\n    // Get stdlib connection for goose\n    conn := stdlib.OpenDBFromPool(db.Pool)\n    defer conn.Close()\n\n    if err := goose.Up(conn, \"migrations\"); err != nil {\n        return fmt.Errorf(\"failed to run migrations: %w\", err)\n    }\n\n    return nil\n}\n```\n\n**For SQLite (CGO-free):**\n\n```go\npackage database\n\nimport (\n    \"context\"\n    \"database/sql\"\n    \"embed\"\n    \"fmt\"\n    \"os\"\n    \"path/filepath\"\n\n    \"github.com/pressly/goose/v3\"\n    _ \"modernc.org/sqlite\"\n    \"$ARGUMENTS/internal/database/sqlc\"\n)\n\n//go:embed migrations/*.sql\nvar migrationsFS embed.FS\n\ntype DB struct {\n    Conn    *sql.DB\n    Queries *sqlc.Queries\n}\n\nfunc New(ctx context.Context, databasePath string) (*DB, error) {\n    dir := filepath.Dir(databasePath)\n    if err := os.MkdirAll(dir, 0755); err != nil {\n        return nil, fmt.Errorf(\"unable to create database directory: %w\", err)\n    }\n\n    conn, err := sql.Open(\"sqlite\", databasePath+\"?_foreign_keys=on&_journal_mode=WAL\")\n    if err != nil {\n        return nil, fmt.Errorf(\"unable to open database: %w\", err)\n    }\n\n    if err := conn.PingContext(ctx); err != nil {\n        return nil, fmt.Errorf(\"unable to ping database: %w\", err)\n    }\n\n    db := &DB{\n        Conn:    conn,\n        Queries: sqlc.New(conn),\n    }\n\n    if err := db.migrate(); err != nil {\n        return nil, fmt.Errorf(\"unable to run migrations: %w\", err)\n    }\n\n    return db, nil\n}\n\nfunc (db *DB) Close() {\n    db.Conn.Close()\n}\n\nfunc (db *DB) migrate() error {\n    goose.SetBaseFS(migrationsFS)\n\n    if err := goose.SetDialect(\"sqlite3\"); err != nil {\n        return fmt.Errorf(\"failed to set goose dialect: %w\", err)\n    }\n\n    if err := goose.Up(db.Conn, \"migrations\"); err != nil {\n        return fmt.Errorf(\"failed to run migrations: %w\", err)\n    }\n\n    return nil\n}\n```\n\n**For MySQL:**\n\n```go\npackage database\n\nimport (\n    \"context\"\n    \"database/sql\"\n    \"embed\"\n    \"fmt\"\n\n    \"github.com/pressly/goose/v3\"\n    _ \"github.com/go-sql-driver/mysql\"\n    \"$ARGUMENTS/internal/database/sqlc\"\n)\n\n//go:embed migrations/*.sql\nvar migrationsFS embed.FS\n\ntype DB struct {\n    Conn    *sql.DB\n    Queries *sqlc.Queries\n}\n\nfunc New(ctx context.Context, dsn string) (*DB, error) {\n    conn, err := sql.Open(\"mysql\", dsn)\n    if err != nil {\n        return nil, fmt.Errorf(\"unable to open database: %w\", err)\n    }\n\n    if err := conn.PingContext(ctx); err != nil {\n        return nil, fmt.Errorf(\"unable to ping database: %w\", err)\n    }\n\n    db := &DB{\n        Conn:    conn,\n        Queries: sqlc.New(conn),\n    }\n\n    if err := db.migrate(); err != nil {\n        return nil, fmt.Errorf(\"unable to run migrations: %w\", err)\n    }\n\n    return db, nil\n}\n\nfunc (db *DB) Close() {\n    db.Conn.Close()\n}\n\nfunc (db *DB) migrate() error {\n    goose.SetBaseFS(migrationsFS)\n\n    if err := goose.SetDialect(\"mysql\"); err != nil {\n        return fmt.Errorf(\"failed to set goose dialect: %w\", err)\n    }\n\n    if err := goose.Up(db.Conn, \"migrations\"); err != nil {\n        return fmt.Errorf(\"failed to run migrations: %w\", err)\n    }\n\n    return nil\n}\n```\n\n#### 18. internal/middleware/middleware.go\n\n```go\npackage middleware\n\nimport (\n    \"context\"\n    \"log/slog\"\n    \"time\"\n\n    \"$ARGUMENTS/internal/config\"\n    \"$ARGUMENTS/internal/ctxkeys\"\n\n    \"github.com/labstack/echo/v4\"\n    \"github.com/labstack/echo/v4/middleware\"\n)\n\nfunc Setup(e *echo.Echo, cfg *config.Config) {\n    e.Use(middleware.RequestID())\n    e.Use(middleware.Recover())\n    e.Use(SiteConfigMiddleware(cfg.Site))\n    e.Use(requestLogger(cfg.IsDevelopment()))\n    e.Use(middleware.CORSWithConfig(middleware.CORSConfig{\n        AllowOrigins: []string{\"*\"},\n        AllowMethods: []string{\"GET\", \"POST\", \"PUT\", \"DELETE\", \"OPTIONS\"},\n    }))\n    e.Use(middleware.GzipWithConfig(middleware.GzipConfig{\n        Level: 5,\n    }))\n    e.Use(middleware.SecureWithConfig(middleware.SecureConfig{\n        XSSProtection:         \"1; mode=block\",\n        ContentTypeNosniff:    \"nosniff\",\n        XFrameOptions:         \"SAMEORIGIN\",\n        HSTSMaxAge:            31536000,\n        ContentSecurityPolicy: \"default-src 'self'; script-src 'self' 'unsafe-inline' https://unpkg.com; style-src 'self' 'unsafe-inline';\",\n    }))\n}\n\nfunc SiteConfigMiddleware(site config.SiteConfig) echo.MiddlewareFunc {\n    return func(next echo.HandlerFunc) echo.HandlerFunc {\n        return func(c echo.Context) error {\n            ctx := context.WithValue(c.Request().Context(), ctxkeys.SiteConfig, site)\n            c.SetRequest(c.Request().WithContext(ctx))\n            return next(c)\n        }\n    }\n}\n\nfunc requestLogger(isDev bool) echo.MiddlewareFunc {\n    return func(next echo.HandlerFunc) echo.HandlerFunc {\n        return func(c echo.Context) error {\n            start := time.Now()\n            err := next(c)\n            latency := time.Since(start)\n\n            req := c.Request()\n            res := c.Response()\n\n            attrs := []any{\n                \"request_id\", c.Response().Header().Get(echo.HeaderXRequestID),\n                \"method\", req.Method,\n                \"uri\", req.RequestURI,\n                \"status\", res.Status,\n                \"latency\", latency.String(),\n            }\n\n            if isDev {\n                slog.Debug(\"request\", attrs...)\n            } else if res.Status >= 500 {\n                slog.Error(\"request\", attrs...)\n            } else {\n                slog.Info(\"request\", attrs...)\n            }\n\n            return err\n        }\n    }\n}\n```\n\n#### 18. internal/handler/handler.go\n\n```go\npackage handler\n\nimport (\n    \"$ARGUMENTS/internal/config\"\n    \"$ARGUMENTS/internal/database\"\n\n    \"github.com/labstack/echo/v4\"\n)\n\ntype Handler struct {\n    cfg *config.Config\n    db  *database.DB\n}\n\nfunc New(cfg *config.Config, db *database.DB) *Handler {\n    return &Handler{\n        cfg: cfg,\n        db:  db,\n    }\n}\n\nfunc (h *Handler) RegisterRoutes(e *echo.Echo) {\n    // Static files\n    e.Static(\"/static\", \"static\")\n    // If using templUI (admin dashboard), uncomment:\n    // e.Static(\"/assets\", \"assets\")\n\n    // Health check\n    e.GET(\"/health\", h.Health)\n\n    // Public routes\n    e.GET(\"/\", h.Home)\n\n    // Admin routes (if dashboard selected)\n    // admin := e.Group(\"/admin\")\n    // admin.GET(\"\", h.AdminDashboard)\n}\n```\n\n#### 19. internal/handler/home.go\n\nHandlers do NOT construct meta - that's the template's job:\n\n```go\npackage handler\n\nimport (\n    \"net/http\"\n\n    \"$ARGUMENTS/templates/pages\"\n\n    \"github.com/labstack/echo/v4\"\n)\n\nfunc (h *Handler) Health(c echo.Context) error {\n    return c.JSON(http.StatusOK, map[string]string{\"status\": \"ok\"})\n}\n\nfunc (h *Handler) Home(c echo.Context) error {\n    return pages.Home().Render(c.Request().Context(), c.Response().Writer)\n}\n```\n\n### Template Files\n\n#### 20. templates/layouts/meta.templ\n\nMeta tags component - site name comes from context, not the struct:\n\n```templ\npackage layouts\n\nimport \"$ARGUMENTS/internal/meta\"\n\ntempl MetaTags(m meta.PageMeta) {\n    <title>{ m.Title } | { meta.SiteNameFromCtx(ctx) }</title>\n    if m.Description != \"\" {\n        <meta name=\"description\" content={ m.Description }/>\n    }\n    if m.Canonical != \"\" {\n        <link rel=\"canonical\" href={ m.Canonical }/>\n    }\n    if m.NoIndex {\n        <meta name=\"robots\" content=\"noindex, nofollow\"/>\n    }\n\n    // Open Graph - site name always from context\n    <meta property=\"og:title\" content={ m.Title }/>\n    <meta property=\"og:site_name\" content={ meta.SiteNameFromCtx(ctx) }/>\n    <meta property=\"og:type\" content={ m.OGType }/>\n    if m.Description != \"\" {\n        <meta property=\"og:description\" content={ m.Description }/>\n    }\n    if m.OGImage != \"\" {\n        <meta property=\"og:image\" content={ m.OGImage }/>\n    }\n\n    // Twitter Card\n    <meta name=\"twitter:card\" content=\"summary_large_image\"/>\n    <meta name=\"twitter:title\" content={ m.Title }/>\n    if m.Description != \"\" {\n        <meta name=\"twitter:description\" content={ m.Description }/>\n    }\n    if m.OGImage != \"\" {\n        <meta name=\"twitter:image\" content={ m.OGImage }/>\n    }\n}\n```\n\n#### 21. templates/layouts/base.templ\n\nBase layout receives meta from the page template, not the handler.\n\n```templ\npackage layouts\n\nimport \"$ARGUMENTS/internal/meta\"\n\ntempl Base(m meta.PageMeta) {\n    <!DOCTYPE html>\n    <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\"/>\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\n            @MetaTags(m)\n            <link rel=\"stylesheet\" href=\"/static/css/output.css\"/>\n            <script src=\"https://unpkg.com/htmx.org@2.0.4\"></script>\n        </head>\n        <body class=\"bg-background text-foreground min-h-screen\">\n            <header class=\"border-b border-border\">\n                <nav class=\"max-w-7xl mx-auto px-4 py-4 flex justify-between items-center\">\n                    <a href=\"/\" class=\"text-xl font-bold\">{ meta.SiteNameFromCtx(ctx) }</a>\n                    <div class=\"flex gap-4\">\n                        <a href=\"/\" class=\"hover:text-primary\">Home</a>\n                    </div>\n                </nav>\n            </header>\n            <main class=\"max-w-7xl mx-auto px-4 py-8\">\n                { children... }\n            </main>\n            <footer class=\"border-t border-border mt-auto\">\n                <div class=\"max-w-7xl mx-auto px-4 py-4 text-center text-muted-foreground\">\n                    <p>&copy; 2025 { meta.SiteNameFromCtx(ctx) }. All rights reserved.</p>\n                </div>\n            </footer>\n        </body>\n    </html>\n}\n```\n\n**If Admin Dashboard was selected (using templUI):**\n\nWhen using templUI components, you MUST include their Script() templates in the `<head>`. Update base.templ to add the imports and Script() calls:\n\n```templ\npackage layouts\n\nimport (\n    \"$ARGUMENTS/internal/meta\"\n    \"$ARGUMENTS/components/sidebar\"\n    \"$ARGUMENTS/components/dialog\"\n)\n\ntempl Base(m meta.PageMeta) {\n    <!DOCTYPE html>\n    <html lang=\"en\">\n        <head>\n            <meta charset=\"UTF-8\"/>\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"/>\n            @MetaTags(m)\n            <link rel=\"stylesheet\" href=\"/static/css/output.css\"/>\n            <script src=\"https://unpkg.com/htmx.org@2.0.4\"></script>\n            @sidebar.Script()\n            @dialog.Script()\n        </head>\n        // ... rest of body\n    </html>\n}\n```\n\n| Component | Requires Script() from |\n|-----------|------------------------|\n| sidebar | `sidebar.Script()` |\n| dropdown | `popover.Script()` |\n| tooltip | `popover.Script()` |\n| combobox | `popover.Script()` |\n| sheet | `dialog.Script()` |\n| alertdialog | `dialog.Script()` |\n| collapsible | `accordion.Script()` |\n| tabs | `tabs.Script()` |\n\n**Note:** templUI does NOT use Alpine.js. It uses vanilla JavaScript delivered via Script() templates.\n\n> **CRITICAL: Templ Interpolation in JavaScript**\n> Go expressions `{ value }` do NOT work inside `<script>` tags or inline event handler strings.\n> - **Data attributes**: `data-id={ value }` + `this.dataset.id` in JS\n> - **templ.JSFuncCall**: `onclick={ templ.JSFuncCall(\"fn\", value) }` for onclick handlers\n> - **Double braces**: `{{ value }}` (double braces) inside `<script>` tag strings\n>\n> If you see `%7B` or `%7D` in URLs, that's a literal `{` or `}` that wasn't interpolated.\n\n#### 22. templates/pages/home.templ\n\nTemplate constructs its own meta - handler doesn't pass it:\n\n```templ\npackage pages\n\nimport (\n    \"$ARGUMENTS/internal/meta\"\n    \"$ARGUMENTS/templates/layouts\"\n)\n\ntempl Home() {\n    @layouts.Base(meta.New(\"Home\", \"Your Go web application is ready!\")) {\n        <div class=\"text-center py-12\">\n            <h1 class=\"text-4xl font-bold mb-4\">Welcome</h1>\n            <p class=\"text-muted-foreground mb-8\">Your Go web application is ready!</p>\n            <div class=\"flex justify-center gap-4\">\n                <a href=\"/health\" class=\"px-6 py-3 bg-primary text-primary-foreground rounded-lg hover:bg-primary/90\">\n                    Check Health\n                </a>\n            </div>\n        </div>\n\n        <div class=\"mt-12 grid md:grid-cols-2 lg:grid-cols-4 gap-6\">\n            <div class=\"p-6 border border-border rounded-lg\">\n                <h3 class=\"font-semibold mb-2\">Fast Development</h3>\n                <p class=\"text-muted-foreground text-sm\">Hot reload with Air. Changes appear instantly.</p>\n            </div>\n            <div class=\"p-6 border border-border rounded-lg\">\n                <h3 class=\"font-semibold mb-2\">Type-Safe Templates</h3>\n                <p class=\"text-muted-foreground text-sm\">Templ compiles to Go for compile-time safety.</p>\n            </div>\n            <div class=\"p-6 border border-border rounded-lg\">\n                <h3 class=\"font-semibold mb-2\">Modern Styling</h3>\n                <p class=\"text-muted-foreground text-sm\">Tailwind CSS v4 with dark mode support.</p>\n            </div>\n            <div class=\"p-6 border border-border rounded-lg\">\n                <h3 class=\"font-semibold mb-2\">Client Interactivity</h3>\n                <p class=\"text-muted-foreground text-sm\">HTMX for server-driven interactivity.</p>\n            </div>\n        </div>\n    }\n}\n```\n\n### Static Files\n\n#### 23. static/css/input.css\n\nUse the appropriate version based on whether Admin Dashboard was selected:\n\n**Basic version (No Admin Dashboard):**\n\n```css\n@import \"tailwindcss\";\n\n@source \"../../templates/**/*.templ\";\n\n@custom-variant dark (&:where(.dark, .dark *));\n\n/* Light mode (default) */\n:root {\n  --background: oklch(1 0 0);\n  --foreground: oklch(0.145 0 0);\n  --primary: oklch(0.205 0 0);\n  --primary-foreground: oklch(0.985 0 0);\n  --secondary: oklch(0.97 0 0);\n  --secondary-foreground: oklch(0.205 0 0);\n  --muted: oklch(0.97 0 0);\n  --muted-foreground: oklch(0.556 0 0);\n  --accent: oklch(0.97 0 0);\n  --accent-foreground: oklch(0.205 0 0);\n  --destructive: oklch(0.577 0.245 27.325);\n  --border: oklch(0.922 0 0);\n}\n\n/* Dark mode */\n.dark {\n  --background: oklch(0.145 0 0);\n  --foreground: oklch(0.985 0 0);\n  --primary: oklch(0.922 0 0);\n  --primary-foreground: oklch(0.205 0 0);\n  --secondary: oklch(0.269 0 0);\n  --secondary-foreground: oklch(0.985 0 0);\n  --muted: oklch(0.269 0 0);\n  --muted-foreground: oklch(0.708 0 0);\n  --accent: oklch(0.269 0 0);\n  --accent-foreground: oklch(0.985 0 0);\n  --destructive: oklch(0.704 0.191 22.216);\n  --border: oklch(1 0 0 / 10%);\n}\n\n@theme inline {\n  --color-background: var(--background);\n  --color-foreground: var(--foreground);\n  --color-primary: var(--primary);\n  --color-primary-foreground: var(--primary-foreground);\n  --color-secondary: var(--secondary);\n  --color-secondary-foreground: var(--secondary-foreground);\n  --color-muted: var(--muted);\n  --color-muted-foreground: var(--muted-foreground);\n  --color-accent: var(--accent);\n  --color-accent-foreground: var(--accent-foreground);\n  --color-destructive: var(--destructive);\n  --color-border: var(--border);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n  html {\n    @apply scroll-smooth;\n  }\n  body {\n    @apply bg-background text-foreground;\n  }\n}\n```\n\n**templUI version (With Admin Dashboard):**\n\nThis version includes additional source paths and CSS variables required for templUI components.\nAfter creating this file, install templUI: `go install github.com/templui/templui@latest && templui add sidebar button card icon`\n\n```css\n@import \"tailwindcss\";\n\n@source \"../../templates/**/*.templ\";\n@source \"../../components/**/*.templ\";\n\n@custom-variant dark (&:where(.dark, .dark *));\n\n@theme inline {\n  --font-sans: ui-sans-serif, system-ui, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\";\n  --font-mono: ui-monospace, SFMono-Regular, \"SF Mono\", Consolas, \"Liberation Mono\", Menlo, monospace;\n  --radius-sm: calc(var(--radius) - 4px);\n  --radius-md: calc(var(--radius) - 2px);\n  --radius-lg: var(--radius);\n  --radius-xl: calc(var(--radius) + 4px);\n  --color-background: var(--background);\n  --color-foreground: var(--foreground);\n  --color-card: var(--card);\n  --color-card-foreground: var(--card-foreground);\n  --color-popover: var(--popover);\n  --color-popover-foreground: var(--popover-foreground);\n  --color-primary: var(--primary);\n  --color-primary-foreground: var(--primary-foreground);\n  --color-secondary: var(--secondary);\n  --color-secondary-foreground: var(--secondary-foreground);\n  --color-muted: var(--muted);\n  --color-muted-foreground: var(--muted-foreground);\n  --color-accent: var(--accent);\n  --color-accent-foreground: var(--accent-foreground);\n  --color-destructive: var(--destructive);\n  --color-border: var(--border);\n  --color-input: var(--input);\n  --color-ring: var(--ring);\n  --color-sidebar: var(--sidebar);\n  --color-sidebar-foreground: var(--sidebar-foreground);\n  --color-sidebar-primary: var(--sidebar-primary);\n  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);\n  --color-sidebar-accent: var(--sidebar-accent);\n  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);\n  --color-sidebar-border: var(--sidebar-border);\n  --color-sidebar-ring: var(--sidebar-ring);\n}\n\n/* Light mode (default) */\n:root {\n  --radius: 0.625rem;\n  --background: oklch(1 0 0);\n  --foreground: oklch(0.145 0 0);\n  --card: oklch(1 0 0);\n  --card-foreground: oklch(0.145 0 0);\n  --popover: oklch(1 0 0);\n  --popover-foreground: oklch(0.145 0 0);\n  --primary: oklch(0.205 0 0);\n  --primary-foreground: oklch(0.985 0 0);\n  --secondary: oklch(0.97 0 0);\n  --secondary-foreground: oklch(0.205 0 0);\n  --muted: oklch(0.97 0 0);\n  --muted-foreground: oklch(0.556 0 0);\n  --accent: oklch(0.97 0 0);\n  --accent-foreground: oklch(0.205 0 0);\n  --destructive: oklch(0.577 0.245 27.325);\n  --border: oklch(0.922 0 0);\n  --input: oklch(0.922 0 0);\n  --ring: oklch(0.708 0 0);\n  --sidebar: oklch(0.985 0 0);\n  --sidebar-foreground: oklch(0.145 0 0);\n  --sidebar-primary: oklch(0.205 0 0);\n  --sidebar-primary-foreground: oklch(0.985 0 0);\n  --sidebar-accent: oklch(0.97 0 0);\n  --sidebar-accent-foreground: oklch(0.205 0 0);\n  --sidebar-border: oklch(0.922 0 0);\n  --sidebar-ring: oklch(0.708 0 0);\n}\n\n/* Dark mode */\n.dark {\n  --background: oklch(0.145 0 0);\n  --foreground: oklch(0.985 0 0);\n  --card: oklch(0.205 0 0);\n  --card-foreground: oklch(0.985 0 0);\n  --popover: oklch(0.205 0 0);\n  --popover-foreground: oklch(0.985 0 0);\n  --primary: oklch(0.922 0 0);\n  --primary-foreground: oklch(0.205 0 0);\n  --secondary: oklch(0.269 0 0);\n  --secondary-foreground: oklch(0.985 0 0);\n  --muted: oklch(0.269 0 0);\n  --muted-foreground: oklch(0.708 0 0);\n  --accent: oklch(0.269 0 0);\n  --accent-foreground: oklch(0.985 0 0);\n  --destructive: oklch(0.704 0.191 22.216);\n  --border: oklch(1 0 0 / 10%);\n  --input: oklch(1 0 0 / 15%);\n  --ring: oklch(0.556 0 0);\n  --sidebar: oklch(0.205 0 0);\n  --sidebar-foreground: oklch(0.985 0 0);\n  --sidebar-primary: oklch(0.488 0.243 264.376);\n  --sidebar-primary-foreground: oklch(0.985 0 0);\n  --sidebar-accent: oklch(0.269 0 0);\n  --sidebar-accent-foreground: oklch(0.985 0 0);\n  --sidebar-border: oklch(1 0 0 / 10%);\n  --sidebar-ring: oklch(0.556 0 0);\n}\n\n@layer base {\n  * {\n    @apply border-border;\n  }\n  html {\n    @apply scroll-smooth;\n  }\n  body {\n    @apply bg-background text-foreground;\n  }\n}\n```\n\n**Key points:**\n- `@source \"../../components/**/*.templ\"` - Required for templUI components\n- `@custom-variant dark` - Tailwind CSS v4 dark mode syntax (NOT `@variant dark`)\n- Complete CSS variable definitions for templUI compatibility\n- Sidebar-specific variables for templUI sidebar component\n\n#### 24. static/js/.gitkeep\n\nCreate empty file to preserve directory.\n\n### CI/CD and Quality Files\n\n#### 25. .github/workflows/ci.yml\n\n```yaml\nname: CI\n\non:\n  push:\n    branches: [main]\n  pull_request:\n    branches: [main]\n\njobs:\n  lint:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-go@v5\n        with:\n          go-version: '1.25'\n      - name: golangci-lint\n        uses: golangci/golangci-lint-action@v7\n        with:\n          version: v2.1.6\n\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-go@v5\n        with:\n          go-version: '1.25'\n      - uses: actions/setup-node@v4\n        with:\n          node-version: '20'\n      - name: Install Go tools\n        run: |\n          go install github.com/a-h/templ/cmd/templ@latest\n          go install github.com/sqlc-dev/sqlc/cmd/sqlc@latest\n      - name: Install npm dependencies\n        run: npm ci\n      - name: Generate code\n        run: go generate ./...\n      - name: Run tests\n        run: go test -v -race ./...\n\n  build:\n    runs-on: ubuntu-latest\n    needs: [lint, test]\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-go@v5\n        with:\n          go-version: '1.25'\n      - uses: actions/setup-node@v4\n        with:\n          node-version: '20'\n      - name: Install Go tools\n        run: |\n          go install github.com/a-h/templ/cmd/templ@latest\n          go install github.com/sqlc-dev/sqlc/cmd/sqlc@latest\n      - name: Install npm dependencies\n        run: npm ci\n      - name: Generate code\n        run: go generate ./...\n      - name: Build\n        run: go build -o bin/$ARGUMENTS ./cmd/server\n```\n\n#### 26. .github/dependabot.yml\n\n```yaml\nversion: 2\nupdates:\n  - package-ecosystem: \"gomod\"\n    directory: \"/\"\n    schedule:\n      interval: \"weekly\"\n  - package-ecosystem: \"github-actions\"\n    directory: \"/\"\n    schedule:\n      interval: \"weekly\"\n  - package-ecosystem: \"npm\"\n    directory: \"/\"\n    schedule:\n      interval: \"weekly\"\n```\n\n#### 27. .golangci.yml\n\n```yaml\nversion: \"2\"\nrun:\n  timeout: 5m\n\nlinters:\n  enable:\n    - errcheck\n    - govet\n    - ineffassign\n    - staticcheck\n    - unused\n\nissues:\n  exclude-dirs:\n    - internal/database/sqlc\n```\n\n### Test Infrastructure\n\n#### 28. internal/testutil/testutil.go\n\n```go\npackage testutil\n\nimport (\n    \"context\"\n    \"testing\"\n\n    \"$ARGUMENTS/internal/config\"\n    \"$ARGUMENTS/internal/database\"\n)\n\n// NewTestDB creates an in-memory SQLite database for testing.\n// For PostgreSQL projects, modify to use a test database URL.\nfunc NewTestDB(t *testing.T) *database.DB {\n    t.Helper()\n\n    ctx := context.Background()\n    // For SQLite: use in-memory database\n    // For PostgreSQL: use TEST_DATABASE_URL or create temp database\n    db, err := database.New(ctx, \":memory:\")\n    if err != nil {\n        t.Fatalf(\"failed to create test database: %v\", err)\n    }\n\n    t.Cleanup(func() {\n        db.Close()\n    })\n\n    return db\n}\n\n// NewTestConfig creates a test configuration.\nfunc NewTestConfig(t *testing.T) *config.Config {\n    t.Helper()\n\n    return &config.Config{\n        DatabaseURL: \":memory:\",\n        Port:        \"0\", // Use random available port\n        Env:         \"test\",\n        Site: config.SiteConfig{\n            Name: \"$ARGUMENTS\",\n            URL:  \"http://localhost:3000\",\n        },\n    }\n}\n```\n\n**Note for PostgreSQL projects:** Modify `NewTestDB` to use a test database URL from environment variable `TEST_DATABASE_URL` or create a temporary test database.\n\n### Admin Dashboard Files (if selected)\n\nIf the user selected Yes for admin dashboard, also create:\n\n#### 25. templates/layouts/admin.templ\n\nInclude the admin layout with:\n\n- FOUC prevention script for dark mode\n- Sidebar navigation\n- Theme toggle\n- Mobile responsive design\n\n#### 26. templates/components/theme/theme.templ\n\nDark/light mode toggle component with:\n\n- Moon/sun icons\n- localStorage persistence\n- html.classList toggle\n\n#### 27. templates/components/sidebar/sidebar.templ\n\nCollapsible sidebar with:\n\n- Navigation sections\n- Active state detection\n- Mobile sheet integration\n\n#### 28. templates/pages/admin/dashboard.templ\n\nDashboard page with:\n\n- Stats cards\n- Quick actions\n- Recent activity\n\n#### 29. internal/handler/admin.go\n\nAdmin route handlers.\n\n### Deployment Files\n\nBased on the deployment platform selected:\n\n**For Vercel:** Create `vercel.json`, `api/index.go`, and `public/` directory.\n\n**For Railway:** Create `railway.toml`.\n\n**For Fly.io:** Create `fly.toml` and `Dockerfile`.\n\n**For Self-hosted:** Ask the user if they want a Dockerfile (default to No). If Yes, create `Dockerfile`. If No, the Makefile already includes everything needed:\n- `make dev` - Development with Air hot reload (logs to `tmp/air-combined.log`)\n- `make build` - Build production binary\n- `make run` - Build and run the server\n\nFor production without Docker, users can run `make build` to create the binary, then deploy and run it directly.\n\n### Project Documentation\n\n#### 30. CLAUDE.md\n\nCreate a CLAUDE.md file with the following content (adjust project name):\n\nThe CLAUDE.md should contain:\n\n**Critical Build Error Section:**\n\n- ALWAYS check `./tmp/air-combined.log` after making code changes\n- This log contains compilation errors, template generation errors, SQL generation errors\n- Never assume code changes succeeded without checking this log\n\n**Development Workflow Section:**\n\n- Explain that `make dev` is always running during development\n- It automatically: kills existing process, regenerates Templ, regenerates sqlc, runs go mod tidy, rebuilds and restarts\n- Developer does NOT need to manually run: templ generate, sqlc generate, go build, air\n\n**Environment Section:**\n\n- All config via `.envrc` with direnv\n- DATABASE_URL, PORT (default 3000), ENV, LOG_LEVEL\n\n**Key Commands Table:**\n\n- `make dev` - Start with hot reload (main workflow)\n- `make build` - Build production binary\n- `make test` - Run tests with race detection\n- `make lint` - Run linters\n- `make migrate` - Run database migrations\n- `make css-watch` - Watch Tailwind (run in separate terminal)\n\n**Project Structure Table:**\n\n- cmd/server/ - Entry point\n- internal/config/ - Environment config\n- internal/database/ - Database and sqlc\n- internal/handler/ - HTTP handlers\n- internal/middleware/ - Echo middleware\n- templates/ - Templ templates\n- static/ - CSS, JS, images\n- migrations/ - goose migrations\n- sqlc/ - SQL queries\n\n**Code Patterns:**\n\n- Logging: Use slog (never fmt.Printf or log.Printf)\n- Errors: Wrap with context using fmt.Errorf\n- Database: Use sqlc-generated queries\n- Templates: Use Templ components\n\n---\n\n## Step 3: Initialize and Finalize\n\nAfter creating all files:\n\n1. **Initialize git:**\n\n   ```bash\n   cd \"./$ARGUMENTS\"\n   git init\n   ```\n\n2. **Install dependencies:**\n\n   ```bash\n   go mod tidy\n   npm install\n   ```\n\n3. **Load environment variables:**\n\n   The `.envrc` file was created with sensible defaults. Load it before any build/verification steps:\n\n   ```bash\n   # Check if direnv is installed and use it, otherwise source directly\n   if command -v direnv &> /dev/null; then\n       direnv allow\n       eval \"$(direnv export bash)\"\n   else\n       # Source .envrc directly if direnv not installed\n       set -a  # auto-export all variables\n       source .envrc\n       set +a\n   fi\n   ```\n\n   **IMPORTANT:** This step is required before `make generate` or `make dev` will work, because the server requires DATABASE_URL to be set.\n\n4. **Generate code:**\n\n   ```bash\n   make generate\n   ```\n\n5. **Verify the project builds and runs:**\n\n   Before committing, verify everything works:\n\n   ```bash\n   # Build to check for compilation errors\n   go build -o ./tmp/$ARGUMENTS ./cmd/server\n   echo \"✓ Build succeeded\"\n\n   # Quick start/stop test to verify DATABASE_URL is set correctly\n   ./tmp/$ARGUMENTS &\n   SERVER_PID=$!\n   sleep 2\n\n   # Check if server started (health endpoint)\n   if curl -s http://localhost:${PORT:-3000}/health > /dev/null; then\n       echo \"✓ Server started successfully\"\n   else\n       echo \"✗ Server failed to start - check configuration\"\n   fi\n\n   # Stop the test server\n   kill $SERVER_PID 2>/dev/null || true\n   ```\n\n6. **Create initial commit:**\n\n   ```bash\n   git add .\n   git commit -m \"Initial project setup with Go + Templ + HTMX + Tailwind\"\n   ```\n\n---\n\n## Step 4: Implement Requested Functionality\n\n**CRITICAL: Do not stop at scaffolding.** After the project structure is created, CONTINUE to implement what the user actually asked for.\n\n### Analyze the User's Request\n\nParse `$ARGUMENTS` and earlier conversation context to determine:\n\n1. **Domain entities** - What data does the app manage?\n   - \"notes app\" → Note entity (title, content)\n   - \"todo app\" → Task entity (title, completed, due_date)\n   - \"blog\" → Post entity (title, content, published_at)\n   - \"inventory tracker\" → Item entity (name, quantity, location)\n\n2. **Operations needed** - Typically CRUD:\n   - **C**reate - Add new records\n   - **R**ead - List all, view single\n   - **U**pdate - Edit existing\n   - **D**elete - Remove records\n\n3. **Special requirements** - Any features mentioned:\n   - Search/filtering\n   - Categories/tags\n   - User ownership\n   - Status workflows\n\n### Generate Domain-Specific Files\n\nFor each identified entity, create these files (replace \"example\" with the actual entity):\n\n#### 1. Update Migration (replace `001_initial.sql`)\n\nInstead of the generic \"examples\" table, create the actual domain table:\n\n**Example for a Notes app (SQLite):**\n```sql\n-- +goose Up\nCREATE TABLE notes (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    title TEXT NOT NULL,\n    content TEXT,\n    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,\n    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP\n);\n\nCREATE INDEX idx_notes_created_at ON notes(created_at DESC);\n\n-- +goose Down\nDROP TABLE IF EXISTS notes;\n```\n\n#### 2. Update SQL Queries (replace `sqlc/queries/example.sql`)\n\n**Example for Notes (`sqlc/queries/notes.sql`):**\n```sql\n-- name: GetNote :one\nSELECT * FROM notes WHERE id = ? LIMIT 1;\n\n-- name: ListNotes :many\nSELECT * FROM notes ORDER BY created_at DESC;\n\n-- name: CreateNote :one\nINSERT INTO notes (title, content) VALUES (?, ?) RETURNING *;\n\n-- name: UpdateNote :exec\nUPDATE notes SET title = ?, content = ?, updated_at = CURRENT_TIMESTAMP WHERE id = ?;\n\n-- name: DeleteNote :exec\nDELETE FROM notes WHERE id = ?;\n\n-- name: SearchNotes :many\nSELECT * FROM notes WHERE title LIKE ? OR content LIKE ? ORDER BY created_at DESC;\n```\n\n#### 3. Create Handler (`internal/handler/<entity>.go`)\n\n**Example (`internal/handler/notes.go`):**\n```go\npackage handler\n\nimport (\n    \"net/http\"\n    \"strconv\"\n\n    \"$ARGUMENTS/internal/database/sqlc\"\n    \"$ARGUMENTS/templates/pages/notes\"\n\n    \"github.com/labstack/echo/v4\"\n)\n\nfunc (h *Handler) ListNotes(c echo.Context) error {\n    ctx := c.Request().Context()\n    notesList, err := h.db.Queries.ListNotes(ctx)\n    if err != nil {\n        return echo.NewHTTPError(http.StatusInternalServerError, \"failed to list notes\")\n    }\n    return notes.List(notesList).Render(ctx, c.Response().Writer)\n}\n\nfunc (h *Handler) ShowNote(c echo.Context) error {\n    ctx := c.Request().Context()\n    id, err := strconv.ParseInt(c.Param(\"id\"), 10, 64)\n    if err != nil {\n        return echo.NewHTTPError(http.StatusBadRequest, \"invalid note ID\")\n    }\n\n    note, err := h.db.Queries.GetNote(ctx, id)\n    if err != nil {\n        return echo.NewHTTPError(http.StatusNotFound, \"note not found\")\n    }\n    return notes.Show(note).Render(ctx, c.Response().Writer)\n}\n\nfunc (h *Handler) NewNote(c echo.Context) error {\n    return notes.Form(nil).Render(c.Request().Context(), c.Response().Writer)\n}\n\nfunc (h *Handler) CreateNote(c echo.Context) error {\n    ctx := c.Request().Context()\n    title := c.FormValue(\"title\")\n    content := c.FormValue(\"content\")\n\n    if title == \"\" {\n        return echo.NewHTTPError(http.StatusBadRequest, \"title is required\")\n    }\n\n    note, err := h.db.Queries.CreateNote(ctx, sqlc.CreateNoteParams{\n        Title:   title,\n        Content: &content,\n    })\n    if err != nil {\n        return echo.NewHTTPError(http.StatusInternalServerError, \"failed to create note\")\n    }\n\n    return c.Redirect(http.StatusSeeOther, \"/notes/\"+strconv.FormatInt(note.ID, 10))\n}\n\nfunc (h *Handler) EditNote(c echo.Context) error {\n    ctx := c.Request().Context()\n    id, err := strconv.ParseInt(c.Param(\"id\"), 10, 64)\n    if err != nil {\n        return echo.NewHTTPError(http.StatusBadRequest, \"invalid note ID\")\n    }\n\n    note, err := h.db.Queries.GetNote(ctx, id)\n    if err != nil {\n        return echo.NewHTTPError(http.StatusNotFound, \"note not found\")\n    }\n    return notes.Form(&note).Render(ctx, c.Response().Writer)\n}\n\nfunc (h *Handler) UpdateNote(c echo.Context) error {\n    ctx := c.Request().Context()\n    id, err := strconv.ParseInt(c.Param(\"id\"), 10, 64)\n    if err != nil {\n        return echo.NewHTTPError(http.StatusBadRequest, \"invalid note ID\")\n    }\n\n    title := c.FormValue(\"title\")\n    content := c.FormValue(\"content\")\n\n    if title == \"\" {\n        return echo.NewHTTPError(http.StatusBadRequest, \"title is required\")\n    }\n\n    err = h.db.Queries.UpdateNote(ctx, sqlc.UpdateNoteParams{\n        ID:      id,\n        Title:   title,\n        Content: &content,\n    })\n    if err != nil {\n        return echo.NewHTTPError(http.StatusInternalServerError, \"failed to update note\")\n    }\n\n    return c.Redirect(http.StatusSeeOther, \"/notes/\"+strconv.FormatInt(id, 10))\n}\n\nfunc (h *Handler) DeleteNote(c echo.Context) error {\n    ctx := c.Request().Context()\n    id, err := strconv.ParseInt(c.Param(\"id\"), 10, 64)\n    if err != nil {\n        return echo.NewHTTPError(http.StatusBadRequest, \"invalid note ID\")\n    }\n\n    err = h.db.Queries.DeleteNote(ctx, id)\n    if err != nil {\n        return echo.NewHTTPError(http.StatusInternalServerError, \"failed to delete note\")\n    }\n\n    // If HTMX request, return empty content for removal\n    if c.Request().Header.Get(\"HX-Request\") == \"true\" {\n        return c.NoContent(http.StatusOK)\n    }\n\n    return c.Redirect(http.StatusSeeOther, \"/notes\")\n}\n```\n\n#### 4. Register Routes (update `internal/handler/handler.go`)\n\nAdd routes in `RegisterRoutes`:\n```go\n// Notes routes\ne.GET(\"/notes\", h.ListNotes)\ne.GET(\"/notes/new\", h.NewNote)\ne.POST(\"/notes\", h.CreateNote)\ne.GET(\"/notes/:id\", h.ShowNote)\ne.GET(\"/notes/:id/edit\", h.EditNote)\ne.PUT(\"/notes/:id\", h.UpdateNote)\ne.DELETE(\"/notes/:id\", h.DeleteNote)\n```\n\n#### 5. Create Templates\n\n**`templates/pages/notes/list.templ`:**\n```templ\npackage notes\n\nimport (\n    \"$ARGUMENTS/internal/database/sqlc\"\n    \"$ARGUMENTS/internal/meta\"\n    \"$ARGUMENTS/templates/layouts\"\n)\n\ntempl List(notes []sqlc.Note) {\n    @layouts.Base(meta.New(\"Notes\", \"Manage your notes\")) {\n        <div class=\"flex justify-between items-center mb-6\">\n            <h1 class=\"text-2xl font-bold\">Notes</h1>\n            <a href=\"/notes/new\" class=\"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90\">\n                New Note\n            </a>\n        </div>\n\n        if len(notes) == 0 {\n            <p class=\"text-muted-foreground\">No notes yet. Create your first note!</p>\n        } else {\n            <div class=\"grid gap-4\">\n                for _, note := range notes {\n                    @NoteCard(note)\n                }\n            </div>\n        }\n    }\n}\n\ntempl NoteCard(note sqlc.Note) {\n    <div id={ \"note-\" + strconv.FormatInt(note.ID, 10) } class=\"p-4 border border-border rounded-lg hover:border-primary transition-colors\">\n        <a href={ templ.SafeURL(\"/notes/\" + strconv.FormatInt(note.ID, 10)) }>\n            <h2 class=\"font-semibold\">{ note.Title }</h2>\n            if note.Content != nil && *note.Content != \"\" {\n                <p class=\"text-muted-foreground text-sm mt-1 line-clamp-2\">{ *note.Content }</p>\n            }\n        </a>\n    </div>\n}\n```\n\n**`templates/pages/notes/show.templ`:**\n```templ\npackage notes\n\nimport (\n    \"strconv\"\n\n    \"$ARGUMENTS/internal/database/sqlc\"\n    \"$ARGUMENTS/internal/meta\"\n    \"$ARGUMENTS/templates/layouts\"\n)\n\ntempl Show(note sqlc.Note) {\n    @layouts.Base(meta.New(note.Title, \"View note details\")) {\n        <div class=\"mb-6\">\n            <a href=\"/notes\" class=\"text-muted-foreground hover:text-foreground\">← Back to notes</a>\n        </div>\n\n        <article class=\"prose max-w-none\">\n            <h1>{ note.Title }</h1>\n            if note.Content != nil {\n                <p class=\"whitespace-pre-wrap\">{ *note.Content }</p>\n            }\n        </article>\n\n        <div class=\"mt-8 flex gap-4\">\n            <a href={ templ.SafeURL(\"/notes/\" + strconv.FormatInt(note.ID, 10) + \"/edit\") }\n               class=\"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90\">\n                Edit\n            </a>\n            <button hx-delete={ \"/notes/\" + strconv.FormatInt(note.ID, 10) }\n                    hx-confirm=\"Are you sure you want to delete this note?\"\n                    hx-target=\"body\"\n                    hx-push-url=\"/notes\"\n                    class=\"px-4 py-2 bg-destructive text-destructive-foreground rounded hover:bg-destructive/90\">\n                Delete\n            </button>\n        </div>\n    }\n}\n```\n\n**`templates/pages/notes/form.templ`:**\n```templ\npackage notes\n\nimport (\n    \"strconv\"\n\n    \"$ARGUMENTS/internal/database/sqlc\"\n    \"$ARGUMENTS/internal/meta\"\n    \"$ARGUMENTS/templates/layouts\"\n)\n\ntempl Form(note *sqlc.Note) {\n    @layouts.Base(meta.New(formTitle(note), \"Create or edit a note\")) {\n        <div class=\"mb-6\">\n            <a href=\"/notes\" class=\"text-muted-foreground hover:text-foreground\">← Back to notes</a>\n        </div>\n\n        <h1 class=\"text-2xl font-bold mb-6\">{ formTitle(note) }</h1>\n\n        <form method=\"POST\" action={ formAction(note) } class=\"space-y-4 max-w-xl\">\n            if note != nil {\n                <input type=\"hidden\" name=\"_method\" value=\"PUT\"/>\n            }\n\n            <div>\n                <label for=\"title\" class=\"block text-sm font-medium mb-1\">Title</label>\n                <input type=\"text\" id=\"title\" name=\"title\"\n                       value={ formValue(note) }\n                       required\n                       class=\"w-full px-3 py-2 border border-border rounded focus:outline-none focus:ring-2 focus:ring-primary\"/>\n            </div>\n\n            <div>\n                <label for=\"content\" class=\"block text-sm font-medium mb-1\">Content</label>\n                <textarea id=\"content\" name=\"content\" rows=\"10\"\n                          class=\"w-full px-3 py-2 border border-border rounded focus:outline-none focus:ring-2 focus:ring-primary\">{ formContent(note) }</textarea>\n            </div>\n\n            <button type=\"submit\"\n                    class=\"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary/90\">\n                { submitLabel(note) }\n            </button>\n        </form>\n    }\n}\n\nfunc formTitle(note *sqlc.Note) string {\n    if note == nil {\n        return \"New Note\"\n    }\n    return \"Edit Note\"\n}\n\nfunc formAction(note *sqlc.Note) templ.SafeURL {\n    if note == nil {\n        return \"/notes\"\n    }\n    return templ.SafeURL(\"/notes/\" + strconv.FormatInt(note.ID, 10))\n}\n\nfunc formValue(note *sqlc.Note) string {\n    if note == nil {\n        return \"\"\n    }\n    return note.Title\n}\n\nfunc formContent(note *sqlc.Note) string {\n    if note == nil || note.Content == nil {\n        return \"\"\n    }\n    return *note.Content\n}\n\nfunc submitLabel(note *sqlc.Note) string {\n    if note == nil {\n        return \"Create Note\"\n    }\n    return \"Update Note\"\n}\n```\n\n### Generate Tests\n\nCreate tests for each handler:\n\n**`internal/handler/notes_test.go`:**\n```go\npackage handler\n\nimport (\n    \"net/http\"\n    \"net/http/httptest\"\n    \"net/url\"\n    \"strings\"\n    \"testing\"\n\n    \"$ARGUMENTS/internal/testutil\"\n\n    \"github.com/labstack/echo/v4\"\n)\n\nfunc TestListNotes(t *testing.T) {\n    t.Parallel()\n\n    db := testutil.NewTestDB(t)\n    cfg := testutil.NewTestConfig(t)\n    h := New(cfg, db)\n\n    e := echo.New()\n    req := httptest.NewRequest(http.MethodGet, \"/notes\", nil)\n    rec := httptest.NewRecorder()\n    c := e.NewContext(req, rec)\n\n    if err := h.ListNotes(c); err != nil {\n        t.Errorf(\"ListNotes() error = %v\", err)\n    }\n\n    if rec.Code != http.StatusOK {\n        t.Errorf(\"ListNotes() status = %d, want %d\", rec.Code, http.StatusOK)\n    }\n}\n\nfunc TestCreateNote(t *testing.T) {\n    t.Parallel()\n\n    db := testutil.NewTestDB(t)\n    cfg := testutil.NewTestConfig(t)\n    h := New(cfg, db)\n\n    e := echo.New()\n    form := url.Values{}\n    form.Add(\"title\", \"Test Note\")\n    form.Add(\"content\", \"Test content\")\n\n    req := httptest.NewRequest(http.MethodPost, \"/notes\", strings.NewReader(form.Encode()))\n    req.Header.Set(\"Content-Type\", \"application/x-www-form-urlencoded\")\n    rec := httptest.NewRecorder()\n    c := e.NewContext(req, rec)\n\n    if err := h.CreateNote(c); err != nil {\n        t.Errorf(\"CreateNote() error = %v\", err)\n    }\n\n    if rec.Code != http.StatusSeeOther {\n        t.Errorf(\"CreateNote() status = %d, want %d\", rec.Code, http.StatusSeeOther)\n    }\n}\n\nfunc TestCreateNote_EmptyTitle(t *testing.T) {\n    t.Parallel()\n\n    db := testutil.NewTestDB(t)\n    cfg := testutil.NewTestConfig(t)\n    h := New(cfg, db)\n\n    e := echo.New()\n    form := url.Values{}\n    form.Add(\"title\", \"\")\n    form.Add(\"content\", \"Test content\")\n\n    req := httptest.NewRequest(http.MethodPost, \"/notes\", strings.NewReader(form.Encode()))\n    req.Header.Set(\"Content-Type\", \"application/x-www-form-urlencoded\")\n    rec := httptest.NewRecorder()\n    c := e.NewContext(req, rec)\n\n    err := h.CreateNote(c)\n    if err == nil {\n        t.Error(\"CreateNote() expected error for empty title, got nil\")\n    }\n}\n```\n\n### Verify Implementation\n\nAfter generating domain-specific code:\n\n1. **Regenerate code:**\n   ```bash\n   go generate ./...\n   ```\n\n2. **Run tests:**\n   ```bash\n   go test -v ./...\n   ```\n\n3. **Build to verify compilation:**\n   ```bash\n   go build ./cmd/server\n   ```\n\n4. **Check for errors:**\n   ```bash\n   cat tmp/air-combined.log 2>/dev/null || echo \"No log file yet\"\n   ```\n\n**DO NOT STOP until:**\n- ✅ All requested functionality is implemented (not just scaffolding)\n- ✅ Database schema matches the domain\n- ✅ CRUD handlers exist for each entity\n- ✅ Templates render the UI\n- ✅ Routes are registered\n- ✅ Tests exist and pass\n- ✅ Build succeeds\n\n---\n\n## Step 5: Display Summary\n\nAfter project creation, display a summary to the user showing:\n\n**Project Created Header:**\n\n- Project name: $ARGUMENTS\n- Location: ./$ARGUMENTS\n\n**Files Created Table:**\n\n| Directory | Count | Purpose |\n|-----------|-------|---------|\n| cmd/server/ | 2 | Entry point |\n| internal/ | 5+ | Core Go code |\n| templates/ | 3+ | Templ templates |\n| migrations/ | 1 | Database schema |\n| sqlc/ | 2 | Query definitions |\n| static/ | 2 | CSS/JS assets |\n| Root | 8 | Config files |\n\n**Next Steps Instructions:**\n\n1. Configure environment: `cp .envrc.example .envrc`, edit with database URL, run `direnv allow`\n1. Install tools (first time only): `make setup` and `npm install`\n1. Set up database: Create database, then run `make migrate`\n1. Start developing: `make dev`\n1. Open browser: `http://localhost:3000`\n\n**Key Commands Table:**\n\n| Command | What it does |\n|---------|--------------|\n| `make dev` | Start with hot reload (main workflow) |\n| `make build` | Build production binary |\n| `make test` | Run all tests |\n| `make generate` | Regenerate templ + sqlc code |\n| `make migrate` | Apply database migrations |\n| `make css-watch` | Watch and rebuild CSS |\n\n**Deployment Section:**\n\nDisplay deployment instructions based on the platform the user selected earlier.\n\n---\n\n## Completion Criteria\n\n**DO NOT output `<done>COMPLETE</done>` until ALL of these conditions are TRUE:**\n\n1. All project files are created (go.mod, main.go, handlers, templates, etc.)\n2. Git repository is initialized with initial commit\n3. `go mod tidy` succeeds\n4. `npm install` succeeds\n5. `go build ./cmd/server` succeeds without errors\n6. Server starts successfully (health endpoint responds)\n\n**When ALL criteria are met, output exactly:**\n\n```\n<done>COMPLETE</done>\n```\n\nThis signals the loop to exit. If you output this prematurely, the project will not be properly created.\n\n---\n\n**Safety note:** If you've iterated 15+ times without success, document what's blocking progress and ask the user for guidance."
              }
            ],
            "skills": []
          },
          {
            "name": "tailwind",
            "description": "Tailwind CSS v4 tools for initialization, auditing, migration, and optimization",
            "source": "./plugins/tailwind",
            "category": null,
            "version": "1.1.0",
            "author": null,
            "install_commands": [
              "/plugin marketplace add gopherguides/gopher-ai",
              "/plugin install tailwind@gopher-ai"
            ],
            "signals": {
              "stars": 2,
              "forks": 0,
              "pushed_at": "2026-01-11T22:43:18Z",
              "created_at": "2025-12-16T18:41:10Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/audit",
                "description": "Audit Tailwind CSS usage for best practices and consistency",
                "path": "plugins/tailwind/commands/audit.md",
                "frontmatter": {
                  "argument-hint": "[path] [--fix]",
                  "description": "Audit Tailwind CSS usage for best practices and consistency",
                  "model": "claude-opus-4-5-20251101",
                  "allowed-tools": [
                    "Bash",
                    "Read",
                    "Write",
                    "Edit",
                    "Glob",
                    "Grep",
                    "AskUserQuestion",
                    "mcp__tailwindcss__search_tailwind_docs",
                    "mcp__tailwindcss__get_tailwind_utilities",
                    "mcp__tailwindcss__convert_css_to_tailwind"
                  ]
                },
                "content": "# Audit Tailwind CSS Usage\n\n**If `$ARGUMENTS` is empty or not provided:**\n\nAudit Tailwind CSS usage in the current project for best practices, consistency, and optimization opportunities.\n\n**Usage:** `/tailwind-audit [path] [options]`\n\n**Examples:**\n\n- `/tailwind-audit` - Audit entire project\n- `/tailwind-audit ./src` - Audit specific directory\n- `/tailwind-audit --fix` - Audit and auto-fix issues where possible\n\n**What this command checks:**\n\n1. **Consistency** - Mixed units, duplicate utilities, conflicting breakpoints\n2. **Performance** - Inline styles, missing utilities, CSS bloat\n3. **Best Practices** - Component extraction, class ordering, accessibility\n4. **v4 Compliance** - @theme usage, deprecated patterns, migration issues\n\nProceed with auditing the current project.\n\n---\n\n**If `$ARGUMENTS` is provided:**\n\nParse arguments:\n\n- **Path**: Directory or file to audit (default: current directory)\n- **--fix**: Auto-fix issues where possible\n- **--report**: Generate detailed markdown report\n- **--focus=<area>**: Focus on specific area (consistency, performance, practices, v4)\n\n## Loop Initialization\n\nInitialize persistent loop to ensure audit completes fully:\n!`\"${CLAUDE_PLUGIN_ROOT}/scripts/setup-loop.sh\" \"tailwind-audit\" \"COMPLETE\"`\n\n## Step 1: Discover Template Files\n\nFind all files that may contain Tailwind classes:\n\n```bash\n# Find template files\nfd -e html -e htm -e templ -e jsx -e tsx -e vue -e svelte -e astro -e php -e blade.php -e erb -e hbs -d 5 2>/dev/null | head -100\n\n# Find CSS files\nfd -e css -d 5 2>/dev/null | head -20\n```\n\n## Step 2: Audit Categories\n\n### Category 1: Consistency Issues\n\n**Check for mixed spacing units:**\n\n```bash\n# Find mixed px values in Tailwind context\ngrep -r \"class=\" --include=\"*.html\" --include=\"*.templ\" --include=\"*.jsx\" --include=\"*.tsx\" | grep -E \"p-\\d|m-\\d\" | head -20\n```\n\nLook for patterns like:\n- `p-4` alongside `padding: 16px` (should use only Tailwind)\n- `w-[200px]` when `w-52` (208px) would work\n- Mixed `gap-4` and `space-x-4` in same component\n\n**Check for duplicate/conflicting utilities:**\n\n| Issue | Example | Fix |\n|-------|---------|-----|\n| Duplicate spacing | `p-4 p-6` | Remove `p-4` |\n| Conflicting display | `flex block` | Choose one |\n| Redundant color | `bg-blue-500 bg-red-500` | Remove one |\n| Overridden responsive | `md:flex md:block` | Remove one |\n\n**Check for inconsistent color usage:**\n\nLook for:\n- Hardcoded hex colors when theme colors exist: `bg-[#3b82f6]` vs `bg-primary`\n- Inconsistent shade usage: mixing `blue-400`, `blue-500`, `blue-600` randomly\n\n### Category 2: Performance Issues\n\n**Inline styles that should be utilities:**\n\n```bash\n# Find inline styles\ngrep -r \"style=\" --include=\"*.html\" --include=\"*.templ\" --include=\"*.jsx\" --include=\"*.tsx\" | head -20\n```\n\nCommon conversions:\n| Inline Style | Tailwind Utility |\n|--------------|------------------|\n| `style=\"display: flex\"` | `flex` |\n| `style=\"margin: 1rem\"` | `m-4` |\n| `style=\"padding: 0.5rem 1rem\"` | `py-2 px-4` |\n| `style=\"font-weight: bold\"` | `font-bold` |\n| `style=\"text-align: center\"` | `text-center` |\n\nUse `mcp__tailwindcss__convert_css_to_tailwind` for complex conversions.\n\n**Large arbitrary values:**\n\nLook for excessive use of arbitrary values `[...]`:\n- More than 10 arbitrary values suggests missing theme configuration\n- Repeated arbitrary values should be added to `@theme`\n\n### Category 3: Best Practices\n\n**Class ordering convention:**\n\nRecommended order: `layout → spacing → sizing → typography → colors → effects → interactive`\n\n```text\nGood: \"flex items-center gap-4 p-4 w-full text-sm text-gray-700 bg-white shadow-sm hover:bg-gray-50 transition-colors\"\nBad:  \"hover:bg-gray-50 flex bg-white p-4 text-sm shadow-sm w-full gap-4 items-center text-gray-700 transition-colors\"\n```\n\n**Component extraction candidates:**\n\nFind class combinations that appear 3+ times:\n\n```bash\n# Extract class strings and count duplicates\ngrep -ohr 'class=\"[^\"]*\"' --include=\"*.html\" --include=\"*.templ\" --include=\"*.jsx\" | sort | uniq -c | sort -rn | head -20\n```\n\nRepeated patterns should be extracted:\n\n```css\n@layer components {\n  .btn {\n    @apply px-4 py-2 rounded-lg font-medium transition-colors;\n  }\n  .card {\n    @apply p-6 bg-card rounded-xl border border-border shadow-sm;\n  }\n}\n```\n\n**Accessibility issues:**\n\n| Check | Issue | Fix |\n|-------|-------|-----|\n| Focus indicators | Missing `focus:` or `focus-visible:` | Add `focus-visible:ring-2 focus-visible:ring-primary` |\n| Screen reader | Hidden content without `sr-only` | Add `sr-only` for visually hidden text |\n| Color contrast | Low contrast combinations | Use higher contrast colors |\n| Interactive elements | Missing hover/focus states | Add `hover:` and `focus:` variants |\n\n### Category 4: Tailwind v4 Compliance\n\n**Deprecated v3 patterns:**\n\n| v3 Pattern | v4 Replacement |\n|------------|----------------|\n| `@tailwind base;` | `@import \"tailwindcss\";` |\n| `@tailwind components;` | (included in import) |\n| `@tailwind utilities;` | (included in import) |\n| `tailwind.config.js` | `@theme { }` in CSS |\n| `theme.extend.colors` | `--color-*` in @theme |\n| `darkMode: 'class'` | `@variant dark { }` |\n\n**Check for v3 config file:**\n\n```bash\nls tailwind.config.* 2>/dev/null\n```\n\nIf found, recommend using `/tailwind-migrate` command.\n\n**Check CSS file for v4 syntax:**\n\n```bash\n# Should find @import \"tailwindcss\"\ngrep -l '@import.*tailwindcss' *.css */*.css 2>/dev/null\n\n# Should NOT find old directives\ngrep -l '@tailwind' *.css */*.css 2>/dev/null\n```\n\n## Step 3: Generate Report\n\n```text\n## Tailwind CSS Audit Report\n\n**Project:** [path]\n**Files scanned:** X template files, Y CSS files\n**Date:** [current date]\n\n### Summary\n\n| Category | Issues | Auto-fixable |\n|----------|--------|--------------|\n| Consistency | X | Y |\n| Performance | X | Y |\n| Best Practices | X | Y |\n| v4 Compliance | X | Y |\n| **Total** | **X** | **Y** |\n\n### Critical Issues\n\n[List issues that should be fixed immediately]\n\n### Consistency Issues\n\n| File | Line | Issue | Suggestion |\n|------|------|-------|------------|\n| ... | ... | ... | ... |\n\n### Performance Issues\n\n| File | Line | Issue | Suggestion |\n|------|------|-------|------------|\n| ... | ... | ... | ... |\n\n### Best Practices\n\n| File | Line | Issue | Suggestion |\n|------|------|-------|------------|\n| ... | ... | ... | ... |\n\n### Component Extraction Candidates\n\nThese class combinations appear 3+ times and could be extracted:\n\n| Pattern | Count | Suggested Name |\n|---------|-------|----------------|\n| `flex items-center gap-4` | 12 | `.flex-row` |\n| `text-sm text-muted-foreground` | 8 | `.text-muted` |\n| `px-4 py-2 rounded-lg` | 6 | `.btn-base` |\n\n### v4 Migration Needed\n\n[List any v3 patterns that need migration]\n\n### Recommendations\n\n1. [Prioritized list of improvements]\n2. ...\n3. ...\n```\n\n## Step 4: Auto-Fix (if --fix provided)\n\nWhen `--fix` flag is present, automatically fix:\n\n1. **Remove duplicate utilities** - Keep the last one\n2. **Convert inline styles** - Replace with Tailwind utilities\n3. **Fix class ordering** - Reorder to convention\n4. **Update v3 to v4 syntax** - In CSS files only\n\n**Do NOT auto-fix:**\n- Component extraction (requires user decision on naming)\n- Color choices (subjective)\n- Arbitrary values (may be intentional)\n\nAfter fixes:\n\n```text\n## Auto-Fix Results\n\nFixed X issues automatically:\n- Removed Y duplicate utilities\n- Converted Z inline styles\n- Reordered W class strings\n- Updated V v3 patterns to v4\n\nRemaining issues: X (require manual review)\n\nFiles modified:\n- path/to/file1.html (3 fixes)\n- path/to/file2.templ (2 fixes)\n```\n\n## Notes\n\n- Use `mcp__tailwindcss__search_tailwind_docs` to verify utility suggestions\n- Use `mcp__tailwindcss__get_tailwind_utilities` to find equivalent utilities\n- Always review auto-fixes before committing\n- Run audit after major changes to catch regressions\n\n---\n\n## Completion Criteria\n\n**DO NOT output `<done>COMPLETE</done>` until ALL of these conditions are TRUE:**\n\n1. All template files have been scanned\n2. Audit report has been generated\n3. If `--fix` flag provided: auto-fixes have been applied\n4. Summary of findings has been displayed\n\n**When ALL criteria are met, output exactly:**\n\n```\n<done>COMPLETE</done>\n```\n\nThis signals the loop to exit. If you output this prematurely, the audit may be incomplete.\n\n---\n\n**Safety note:** If you've iterated 15+ times without success, document what's blocking progress and ask the user for guidance."
              },
              {
                "name": "/cancel-loop",
                "description": "Cancel any active persistent loop",
                "path": "plugins/tailwind/commands/cancel-loop.md",
                "frontmatter": {
                  "argument-hint": "[loop-name]",
                  "description": "Cancel any active persistent loop",
                  "allowed-tools": [
                    "Bash"
                  ]
                },
                "content": "# Cancel Loop\n\nCancel the currently active persistent loop and allow normal session behavior.\n\n**Usage:**\n- `/cancel-loop` - Cancel all active loops\n- `/cancel-loop <name>` - Cancel a specific loop by name\n\n## Execute Cancellation\n\n!`\"${CLAUDE_PLUGIN_ROOT}/scripts/cleanup-loop.sh\" \"$ARGUMENTS\"`\n\n## Result\n\nThe loop has been cancelled. You can now exit the session normally or start a new task.\n\nIf you want to restart the previous task, you can run the original command again."
              },
              {
                "name": "/init",
                "description": "Initialize Tailwind CSS v4 in an existing project",
                "path": "plugins/tailwind/commands/init.md",
                "frontmatter": {
                  "argument-hint": "[project-path]",
                  "description": "Initialize Tailwind CSS v4 in an existing project",
                  "model": "claude-sonnet-4-20250514",
                  "allowed-tools": [
                    "Bash",
                    "Read",
                    "Write",
                    "Edit",
                    "Glob",
                    "Grep",
                    "AskUserQuestion",
                    "mcp__tailwindcss__install_tailwind",
                    "mcp__tailwindcss__get_tailwind_config_guide"
                  ]
                },
                "content": "# Initialize Tailwind CSS v4\n\n**If `$ARGUMENTS` is empty or not provided:**\n\nInitialize Tailwind CSS v4 in the current directory.\n\n**Usage:** `/tailwind-init [project-path]`\n\n**Examples:**\n\n- `/tailwind-init` - Initialize in current directory\n- `/tailwind-init ./my-app` - Initialize in specific directory\n\n**What this command does:**\n\n1. Detects your project type (Go/Templ, React, Vue, Vite, Next.js, plain HTML)\n2. Checks for existing Tailwind installation\n3. Asks your preferred integration method\n4. Installs dependencies\n5. Creates CSS entry file with v4 syntax\n6. Sets up build scripts\n\n**Tailwind v4 Key Changes:**\n\n- No `tailwind.config.js` needed - configure in CSS with `@theme`\n- Single import: `@import \"tailwindcss\";`\n- Auto-detects templates (or use `@source` for custom paths)\n\nProceed with initialization in the current directory.\n\n---\n\n**If `$ARGUMENTS` is provided:**\n\nInitialize Tailwind CSS v4 in the specified path: `$ARGUMENTS`\n\n## Loop Initialization\n\nInitialize persistent loop to ensure Tailwind setup completes fully:\n!`\"${CLAUDE_PLUGIN_ROOT}/scripts/setup-loop.sh\" \"tailwind-init\" \"COMPLETE\"`\n\n## Step 1: Validate Environment\n\nCheck that Node.js is installed:\n\n```bash\nnode --version 2>/dev/null || echo \"NOT_INSTALLED\"\n```\n\n**If Node.js is not installed**, display:\n\n```text\nNode.js is required for Tailwind CSS.\n\nInstall options:\n- macOS: brew install node\n- nvm: curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.40.3/install.sh | bash && nvm install --lts\n- Direct: https://nodejs.org/\n```\n\nThen stop and ask user to install Node.js first.\n\n## Step 2: Detect Project Type\n\nScan the target directory:\n\n```bash\n# Check for package.json\nls package.json 2>/dev/null\n\n# Check for framework indicators\nls vite.config.* next.config.* nuxt.config.* astro.config.* 2>/dev/null\n\n# Check for Go/Templ\nls go.mod 2>/dev/null\nfd -e templ -d 3 2>/dev/null | head -3\n\n# Check for existing Tailwind\ngrep -l \"tailwind\" package.json 2>/dev/null\nls tailwind.config.* 2>/dev/null\n```\n\n**Project type detection:**\n\n| Indicator | Project Type |\n|-----------|--------------|\n| `vite.config.*` | Vite project |\n| `next.config.*` | Next.js |\n| `nuxt.config.*` | Nuxt |\n| `astro.config.*` | Astro |\n| `go.mod` + `*.templ` | Go + Templ |\n| `package.json` only | Generic Node project |\n| None | Plain HTML/CSS |\n\n**If existing Tailwind found:**\n\n```text\nExisting Tailwind installation detected.\n\nOptions:\n1. Upgrade to v4 - Use /tailwind-migrate instead\n2. Reinstall - Remove existing and start fresh\n3. Cancel - Keep existing installation\n```\n\n## Step 3: Choose Integration Method\n\nUse AskUserQuestion to ask:\n\n| Method | Best For | Package |\n|--------|----------|---------|\n| **CLI** (recommended) | Most projects, Go/Templ, plain HTML | `@tailwindcss/cli` |\n| **Vite Plugin** | Vite-based projects (React, Vue, Svelte) | `@tailwindcss/vite` |\n| **PostCSS** | Existing PostCSS pipelines, legacy builds | `@tailwindcss/postcss` |\n\n**Plain explanations:**\n\n- **CLI**: Standalone tool that processes your CSS. Works everywhere, no build system required. Just run `npx @tailwindcss/cli` commands. Best for Go/Templ projects.\n\n- **Vite Plugin**: Tight integration with Vite's hot reload. CSS updates instantly without page refresh. Best for modern frontend frameworks.\n\n- **PostCSS**: Plugs into existing CSS build pipelines. Choose this if you already use PostCSS for other transformations.\n\n## Step 4: Install Dependencies\n\nBased on integration choice, run:\n\n**CLI method:**\n\n```bash\nnpm install -D tailwindcss @tailwindcss/cli\n```\n\n**Vite method:**\n\n```bash\nnpm install -D tailwindcss @tailwindcss/vite\n```\n\n**PostCSS method:**\n\n```bash\nnpm install -D tailwindcss @tailwindcss/postcss postcss\n```\n\n## Step 5: Create CSS Entry File\n\nDetermine the CSS file location based on project type:\n\n| Project Type | CSS Path |\n|--------------|----------|\n| Go/Templ | `static/css/input.css` |\n| Vite/React | `src/index.css` or `src/styles/main.css` |\n| Next.js | `app/globals.css` or `styles/globals.css` |\n| Plain HTML | `css/input.css` |\n\nCreate the CSS entry file with v4 syntax:\n\n```css\n@import \"tailwindcss\";\n\n/* Source detection - adjust paths for your templates */\n@source \"../templates/**/*.templ\";\n@source \"../components/**/*.html\";\n@source \"./**/*.{js,jsx,ts,tsx,vue,svelte}\";\n\n/* Theme customization - add your design tokens */\n@theme {\n  /* Colors using oklch for better color manipulation */\n  --color-primary: oklch(0.6 0.2 250);\n  --color-primary-foreground: oklch(1 0 0);\n  --color-secondary: oklch(0.5 0.02 250);\n  --color-secondary-foreground: oklch(1 0 0);\n\n  /* Background and foreground */\n  --color-background: oklch(1 0 0);\n  --color-foreground: oklch(0.145 0 0);\n  --color-muted: oklch(0.95 0 0);\n  --color-muted-foreground: oklch(0.4 0 0);\n  --color-border: oklch(0.9 0 0);\n\n  /* Custom spacing (extends default scale) */\n  --spacing-18: 4.5rem;\n  --spacing-22: 5.5rem;\n}\n\n/* Dark mode variant */\n@variant dark {\n  --color-background: oklch(0.145 0 0);\n  --color-foreground: oklch(0.985 0 0);\n  --color-muted: oklch(0.25 0 0);\n  --color-muted-foreground: oklch(0.6 0 0);\n  --color-border: oklch(0.3 0 0);\n}\n\n/* Base layer customizations */\n@layer base {\n  html {\n    font-family: ui-sans-serif, system-ui, sans-serif;\n  }\n}\n```\n\n**Adjust `@source` paths** based on where templates are located in the project.\n\n## Step 6: Configure Build Scripts\n\nUpdate `package.json` with build scripts:\n\n**CLI method:**\n\n```json\n{\n  \"scripts\": {\n    \"css\": \"npx @tailwindcss/cli -i ./css/input.css -o ./css/output.css --minify\",\n    \"css:watch\": \"npx @tailwindcss/cli -i ./css/input.css -o ./css/output.css --watch\"\n  }\n}\n```\n\n**Vite method:**\n\nUpdate `vite.config.js`:\n\n```javascript\nimport tailwindcss from '@tailwindcss/vite'\n\nexport default {\n  plugins: [\n    tailwindcss(),\n  ],\n}\n```\n\n**PostCSS method:**\n\nCreate or update `postcss.config.mjs`:\n\n```javascript\nexport default {\n  plugins: {\n    '@tailwindcss/postcss': {},\n  },\n}\n```\n\n## Step 7: Update .gitignore\n\nAdd output CSS to `.gitignore` if using CLI:\n\n```text\n# Tailwind output (regenerated on build)\ncss/output.css\nstatic/css/output.css\n```\n\n## Step 8: Final Report\n\n```text\nTailwind CSS v4 Initialized\n\nFiles created/modified:\n- [CSS entry file path]\n- package.json (dependencies + scripts)\n- [Config file if Vite/PostCSS]\n\nNext steps:\n\n1. Start development:\n   npm run css:watch\n\n2. Include output CSS in your HTML:\n   <link href=\"/css/output.css\" rel=\"stylesheet\">\n\n3. Use Tailwind classes:\n   <div class=\"flex items-center gap-4 p-4 bg-primary text-primary-foreground\">\n     Hello Tailwind v4!\n   </div>\n\n4. Customize theme in your CSS file using @theme { ... }\n\nDocumentation: https://tailwindcss.com/docs\n```\n\n## Notes\n\n- Tailwind v4 auto-detects most template files\n- Use `@source` directive only if classes aren't being detected\n- The `@theme` directive replaces `tailwind.config.js`\n- oklch color format provides better color manipulation than hex/rgb\n\n---\n\n## Completion Criteria\n\n**DO NOT output `<done>COMPLETE</done>` until ALL of these conditions are TRUE:**\n\n1. Dependencies are installed (tailwindcss, @tailwindcss/cli or equivalent)\n2. CSS entry file is created with `@import \"tailwindcss\"`\n3. Build scripts are added to package.json\n4. `npm run css` succeeds without errors\n5. Output CSS is generated\n\n**When ALL criteria are met, output exactly:**\n\n```\n<done>COMPLETE</done>\n```\n\nThis signals the loop to exit. If you output this prematurely, Tailwind may not be properly configured.\n\n---\n\n**Safety note:** If you've iterated 15+ times without success, document what's blocking progress and ask the user for guidance."
              },
              {
                "name": "/migrate",
                "description": "Migrate Tailwind CSS v3 configuration to v4 CSS-based config",
                "path": "plugins/tailwind/commands/migrate.md",
                "frontmatter": {
                  "argument-hint": "[--check]",
                  "description": "Migrate Tailwind CSS v3 configuration to v4 CSS-based config",
                  "model": "claude-opus-4-5-20251101",
                  "allowed-tools": [
                    "Bash",
                    "Read",
                    "Write",
                    "Edit",
                    "Glob",
                    "Grep",
                    "AskUserQuestion",
                    "mcp__tailwindcss__search_tailwind_docs",
                    "mcp__tailwindcss__get_tailwind_config_guide"
                  ]
                },
                "content": "# Migrate Tailwind CSS v3 to v4\n\n**If `$ARGUMENTS` is empty or not provided:**\n\nMigrate Tailwind CSS v3 configuration to v4's CSS-based configuration.\n\n**Usage:** `/tailwind-migrate [options]`\n\n**Examples:**\n\n- `/tailwind-migrate` - Migrate v3 to v4\n- `/tailwind-migrate --check` - Check what would change without modifying files\n\n**What this command does:**\n\n1. Finds and parses your `tailwind.config.js` or `tailwind.config.ts`\n2. Converts theme configuration to CSS `@theme` directive\n3. Converts `content` paths to `@source` directives\n4. Updates CSS files to use `@import \"tailwindcss\"` syntax\n5. Updates package.json dependencies to v4\n6. Optionally removes the old config file\n\n**Key v4 Changes:**\n\n| v3 | v4 |\n|----|-----|\n| `tailwind.config.js` | CSS `@theme { }` directive |\n| `@tailwind base/components/utilities` | `@import \"tailwindcss\"` |\n| `darkMode: 'class'` | `@variant dark { }` |\n| `theme.extend.colors` | `--color-*` CSS variables |\n\nProceed with migration.\n\n---\n\n**If `$ARGUMENTS` is provided:**\n\nParse arguments:\n\n- **--check**: Preview changes without modifying files\n- **--keep-config**: Keep old config file after migration (for reference)\n- **--backup**: Create backup files before modifying\n\n## Loop Initialization\n\nInitialize persistent loop to ensure migration completes fully:\n!`\"${CLAUDE_PLUGIN_ROOT}/scripts/setup-loop.sh\" \"tailwind-migrate\" \"COMPLETE\"`\n\n## Step 1: Find v3 Configuration\n\nLook for Tailwind v3 configuration files:\n\n```bash\n# Check for config files\nls tailwind.config.js tailwind.config.ts tailwind.config.cjs tailwind.config.mjs 2>/dev/null\n\n# Check package.json for Tailwind version\ngrep '\"tailwindcss\"' package.json 2>/dev/null\n```\n\n**If no config found:**\n\n```text\nNo tailwind.config.* file found.\n\nOptions:\n1. This project may already be using Tailwind v4 (CSS-based config)\n2. Use /tailwind-init to set up Tailwind v4 from scratch\n3. Check if config is in a non-standard location\n```\n\n## Step 2: Parse v3 Configuration\n\nRead and parse the configuration file. Extract:\n\n### Theme Configuration\n\n```javascript\n// v3 tailwind.config.js\nmodule.exports = {\n  content: ['./src/**/*.{js,jsx,ts,tsx}', './public/index.html'],\n  darkMode: 'class',\n  theme: {\n    extend: {\n      colors: {\n        primary: '#3b82f6',\n        secondary: '#64748b',\n        accent: {\n          light: '#fef3c7',\n          DEFAULT: '#f59e0b',\n          dark: '#b45309',\n        },\n      },\n      fontFamily: {\n        sans: ['Inter', 'sans-serif'],\n        display: ['Lexend', 'sans-serif'],\n      },\n      spacing: {\n        '18': '4.5rem',\n        '22': '5.5rem',\n      },\n      borderRadius: {\n        '4xl': '2rem',\n      },\n    },\n  },\n  plugins: [\n    require('@tailwindcss/forms'),\n    require('@tailwindcss/typography'),\n  ],\n}\n```\n\n### Content/Source Paths\n\nExtract the `content` array - these become `@source` directives.\n\n### Plugins\n\nNote any plugins - check v4 compatibility:\n\n| v3 Plugin | v4 Status |\n|-----------|-----------|\n| `@tailwindcss/forms` | Built-in (not needed) |\n| `@tailwindcss/typography` | `@plugin \"@tailwindcss/typography\"` |\n| `@tailwindcss/container-queries` | Built-in (not needed) |\n| `@tailwindcss/aspect-ratio` | Built-in (not needed) |\n\n## Step 3: Generate v4 CSS Configuration\n\nConvert the parsed configuration to v4 CSS syntax:\n\n```css\n@import \"tailwindcss\";\n\n/* Source paths (from content array) */\n@source \"./src/**/*.{js,jsx,ts,tsx}\";\n@source \"./public/index.html\";\n\n/* Theme configuration (from theme.extend) */\n@theme {\n  /* Colors - convert hex to oklch for better manipulation */\n  --color-primary: oklch(0.59 0.2 250); /* #3b82f6 */\n  --color-secondary: oklch(0.55 0.02 250); /* #64748b */\n  --color-accent-light: oklch(0.96 0.05 85); /* #fef3c7 */\n  --color-accent: oklch(0.75 0.18 70); /* #f59e0b */\n  --color-accent-dark: oklch(0.52 0.15 50); /* #b45309 */\n\n  /* Font families */\n  --font-sans: \"Inter\", ui-sans-serif, system-ui, sans-serif;\n  --font-display: \"Lexend\", ui-sans-serif, system-ui, sans-serif;\n\n  /* Custom spacing */\n  --spacing-18: 4.5rem;\n  --spacing-22: 5.5rem;\n\n  /* Custom border radius */\n  --radius-4xl: 2rem;\n}\n\n/* Dark mode (from darkMode: 'class') */\n@variant dark {\n  /* Override theme colors for dark mode if needed */\n}\n\n/* Plugins */\n@plugin \"@tailwindcss/typography\";\n\n/* Base layer customizations */\n@layer base {\n  html {\n    font-family: var(--font-sans);\n  }\n}\n```\n\n### Color Conversion Table\n\nConvert common hex colors to oklch:\n\n| Hex | oklch | Notes |\n|-----|-------|-------|\n| `#3b82f6` (blue-500) | `oklch(0.59 0.2 250)` | Primary blue |\n| `#ef4444` (red-500) | `oklch(0.63 0.26 25)` | Error red |\n| `#22c55e` (green-500) | `oklch(0.72 0.19 145)` | Success green |\n| `#f59e0b` (amber-500) | `oklch(0.75 0.18 70)` | Warning amber |\n| `#6366f1` (indigo-500) | `oklch(0.58 0.22 275)` | Accent indigo |\n| `#ffffff` | `oklch(1 0 0)` | White |\n| `#000000` | `oklch(0 0 0)` | Black |\n\nUse the oklch color picker: https://oklch.com/\n\n## Step 4: Update CSS Files\n\nFind CSS files with old directives:\n\n```bash\ngrep -rl '@tailwind' --include=\"*.css\" .\n```\n\nReplace v3 directives:\n\n| v3 | v4 |\n|----|-----|\n| `@tailwind base;` | Remove (included in import) |\n| `@tailwind components;` | Remove (included in import) |\n| `@tailwind utilities;` | Remove (included in import) |\n| All three | `@import \"tailwindcss\";` |\n\n**Before:**\n```css\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n.custom-class {\n  @apply p-4;\n}\n```\n\n**After:**\n```css\n@import \"tailwindcss\";\n\n@source \"./src/**/*.{js,jsx}\";\n\n@theme {\n  /* moved from tailwind.config.js */\n}\n\n.custom-class {\n  @apply p-4;\n}\n```\n\n## Step 5: Update package.json\n\nUpdate dependencies based on your integration method:\n\n**For CLI method (recommended for most projects):**\n\n```bash\n# Remove old packages\nnpm uninstall tailwindcss postcss autoprefixer\n\n# Install v4 CLI\nnpm install -D tailwindcss@latest @tailwindcss/cli@latest\n```\n\nUpdate scripts:\n\n```json\n{\n  \"scripts\": {\n    \"css\": \"npx @tailwindcss/cli -i ./src/input.css -o ./src/output.css --minify\",\n    \"css:watch\": \"npx @tailwindcss/cli -i ./src/input.css -o ./src/output.css --watch\"\n  }\n}\n```\n\n**For PostCSS method (if using existing PostCSS pipeline):**\n\n```bash\n# Remove old packages but keep postcss\nnpm uninstall tailwindcss autoprefixer\n\n# Install v4 with PostCSS plugin\nnpm install -D tailwindcss@latest @tailwindcss/postcss@latest postcss\n```\n\n## Step 6: Handle PostCSS (if applicable)\n\nIf project uses PostCSS, update `postcss.config.js`:\n\n**v3:**\n```javascript\nmodule.exports = {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n```\n\n**v4:**\n```javascript\nexport default {\n  plugins: {\n    '@tailwindcss/postcss': {},\n  },\n}\n```\n\nNote: autoprefixer is no longer needed - v4 handles prefixing automatically.\n\n## Step 7: Handle Old Config File\n\nAfter successful migration, ask user:\n\n```text\nMigration complete. What should we do with tailwind.config.js?\n\n1. Delete it (recommended) - Config is now in CSS\n2. Keep it (reference) - Rename to tailwind.config.js.bak\n3. Keep it (unchanged) - May cause confusion\n```\n\n## Step 8: Verify Migration\n\nRun a test build:\n\n```bash\nnpm run css 2>&1 | head -20\n```\n\nCheck for errors. Common issues:\n\n| Error | Solution |\n|-------|----------|\n| `Unknown directive @tailwind` | Old directive not removed |\n| `Cannot find module` | Plugin not v4 compatible |\n| `Invalid CSS` | Syntax error in @theme block |\n\n## Step 9: Migration Report\n\n```text\n## Tailwind v3 to v4 Migration Complete\n\n### Changes Made\n\n**Files modified:**\n- [CSS file] - Updated directives and added @theme\n- package.json - Updated dependencies\n- [postcss.config.js] - Updated for v4 (if applicable)\n\n**Configuration migrated:**\n- X custom colors → @theme CSS variables\n- Y content paths → @source directives\n- Z plugins → @plugin directives\n- Dark mode → @variant dark\n\n**Files removed:**\n- tailwind.config.js (config now in CSS)\n\n### Breaking Changes\n\n[List any potential breaking changes]\n\n### Manual Review Needed\n\n- [ ] Verify custom colors look correct\n- [ ] Test dark mode toggle\n- [ ] Check responsive breakpoints\n- [ ] Verify plugins work correctly\n\n### Next Steps\n\n1. Run `npm run css:watch` to start development\n2. Test the application thoroughly\n3. Run `/tailwind-audit` to check for any issues\n4. Commit changes\n\n### Resources\n\n- Upgrade guide: https://tailwindcss.com/docs/upgrade-guide\n- v4 documentation: https://tailwindcss.com/docs\n- oklch colors: https://oklch.com/\n```\n\n## Notes\n\n- Always backup files before migration or use `--check` first\n- oklch colors may look slightly different than hex - verify visually\n- Some v3 plugins may not have v4 equivalents yet\n- Test thoroughly after migration, especially dark mode and responsive designs\n\n---\n\n## Completion Criteria\n\n**DO NOT output `<done>COMPLETE</done>` until ALL of these conditions are TRUE:**\n\n1. v3 config has been parsed and analyzed\n2. CSS file updated with `@import \"tailwindcss\"` and `@theme`\n3. package.json dependencies updated to v4\n4. `npm run css` or equivalent build succeeds without errors\n5. No `@tailwind` directives remain in CSS files\n\n**When ALL criteria are met, output exactly:**\n\n```\n<done>COMPLETE</done>\n```\n\nThis signals the loop to exit. If you output this prematurely, the migration may be incomplete.\n\n---\n\n**Safety note:** If you've iterated 15+ times without success, document what's blocking progress and ask the user for guidance."
              },
              {
                "name": "/optimize",
                "description": "Analyze and optimize Tailwind CSS output",
                "path": "plugins/tailwind/commands/optimize.md",
                "frontmatter": {
                  "argument-hint": "[--report|--fix]",
                  "description": "Analyze and optimize Tailwind CSS output",
                  "model": "claude-sonnet-4-20250514",
                  "allowed-tools": [
                    "Bash",
                    "Read",
                    "Write",
                    "Edit",
                    "Glob",
                    "Grep",
                    "AskUserQuestion",
                    "mcp__tailwindcss__search_tailwind_docs",
                    "mcp__tailwindcss__get_tailwind_utilities"
                  ]
                },
                "content": "# Optimize Tailwind CSS\n\n**If `$ARGUMENTS` is empty or not provided:**\n\nAnalyze Tailwind CSS output and provide optimization recommendations.\n\n**Usage:** `/tailwind-optimize [options]`\n\n**Examples:**\n\n- `/tailwind-optimize` - Quick analysis\n- `/tailwind-optimize --report` - Generate detailed report\n- `/tailwind-optimize --fix` - Apply optimizations\n\n**What this command analyzes:**\n\n1. **Bundle size** - Measure CSS output size (dev vs prod)\n2. **Source coverage** - Verify `@source` paths cover all templates\n3. **Unused classes** - Find classes in CSS not used in templates\n4. **CSS variable bloat** - Identify unused theme variables\n5. **Build performance** - Check build times and suggest improvements\n\nProceed with optimization analysis.\n\n---\n\n**If `$ARGUMENTS` is provided:**\n\nParse arguments:\n\n- **--report**: Generate detailed markdown report\n- **--fix**: Apply safe optimizations automatically\n- **--verbose**: Show all findings, not just issues\n\n## Loop Initialization\n\nInitialize persistent loop to ensure optimization analysis completes fully:\n!`\"${CLAUDE_PLUGIN_ROOT}/scripts/setup-loop.sh\" \"tailwind-optimize\" \"COMPLETE\"`\n\n## Step 1: Find CSS Files\n\nLocate Tailwind CSS files:\n\n```bash\n# Find input CSS (with @import \"tailwindcss\")\ngrep -rl '@import.*tailwindcss' --include=\"*.css\" . 2>/dev/null\n\n# Find output CSS\nls **/output.css dist/**/*.css build/**/*.css public/**/*.css 2>/dev/null\n```\n\n## Step 2: Measure Bundle Size\n\n### Development Build\n\n```bash\n# Build without minification\nnpx @tailwindcss/cli -i input.css -o /tmp/dev-output.css 2>&1\n\n# Measure size\nwc -c /tmp/dev-output.css\n```\n\n### Production Build\n\n```bash\n# Build with minification\nnpx @tailwindcss/cli -i input.css -o /tmp/prod-output.css --minify 2>&1\n\n# Measure size\nwc -c /tmp/prod-output.css\n\n# Gzip size estimate\ngzip -c /tmp/prod-output.css | wc -c\n```\n\n### Size Benchmarks\n\n| Size Category | Range | Assessment |\n|---------------|-------|------------|\n| Excellent | < 10KB gzipped | Highly optimized |\n| Good | 10-25KB gzipped | Normal for most apps |\n| Acceptable | 25-50KB gzipped | Consider optimization |\n| Large | > 50KB gzipped | Needs optimization |\n\nMost Tailwind projects should ship < 10KB CSS gzipped.\n\n## Step 3: Analyze Source Coverage\n\n### Find Template Files\n\n```bash\n# Count template files\nfd -e html -e htm -e templ -e jsx -e tsx -e vue -e svelte -d 5 2>/dev/null | wc -l\n\n# Show file types\nfd -e html -e htm -e templ -e jsx -e tsx -e vue -e svelte -d 5 2>/dev/null | sed 's/.*\\.//' | sort | uniq -c | sort -rn\n```\n\n### Check @source Configuration\n\nRead the CSS input file and extract `@source` directives:\n\n```bash\ngrep '@source' input.css\n```\n\n### Verify Coverage\n\nFor each `@source` pattern, verify files are found:\n\n```bash\n# Example: @source \"./src/**/*.{js,jsx}\"\nfd -e js -e jsx ./src 2>/dev/null | wc -l\n```\n\n**Coverage issues to check:**\n\n| Issue | Symptom | Fix |\n|-------|---------|-----|\n| Missing source | Classes not generated | Add `@source` for directory |\n| Overly broad | Too much CSS generated | Use specific globs |\n| Wrong path | Classes missing | Verify path exists |\n\n## Step 4: Find Unused Classes\n\n### Extract Used Classes\n\n```bash\n# Extract class names from templates\ngrep -ohr 'class=\"[^\"]*\"' --include=\"*.html\" --include=\"*.templ\" --include=\"*.jsx\" --include=\"*.tsx\" . 2>/dev/null | \\\n  sed 's/class=\"//g' | sed 's/\"//g' | tr ' ' '\\n' | sort -u > /tmp/used-classes.txt\n\nwc -l /tmp/used-classes.txt\n```\n\n### Compare With Generated CSS\n\n```bash\n# Extract class names from CSS\ngrep -oE '\\.[a-zA-Z][a-zA-Z0-9_-]*' output.css | sed 's/\\.//' | sort -u > /tmp/css-classes.txt\n\n# Find classes in CSS but not in templates\ncomm -23 /tmp/css-classes.txt /tmp/used-classes.txt | head -50\n```\n\n**Note:** Some \"unused\" classes may be:\n- Dynamically generated (e.g., `bg-${color}-500`)\n- Used by JavaScript\n- From third-party libraries\n- Base/reset styles (intentionally included)\n\n## Step 5: CSS Variable Analysis\n\nTailwind v4 generates many CSS variables. Check for bloat:\n\n```bash\n# Count CSS variables in output\ngrep -c -- '--' output.css\n\n# List unused color variables\ngrep -oE '--color-[a-z]+-[0-9]+' output.css | sort -u | wc -l\n```\n\n### Variable Categories\n\n| Category | Expected | If Higher |\n|----------|----------|-----------|\n| Color vars | 50-100 | Using full palette when subset would work |\n| Spacing vars | 20-30 | Normal |\n| Font vars | 5-10 | Normal |\n| Animation vars | 10-20 | Normal |\n\n### Reducing Variable Bloat\n\nIf too many unused variables, consider:\n\n1. **Define only needed colors in @theme:**\n\n```css\n@theme {\n  /* Only define colors you actually use */\n  --color-primary: oklch(0.6 0.2 250);\n  --color-secondary: oklch(0.5 0.02 250);\n  /* Don't rely on full Tailwind palette */\n}\n```\n\n2. **Use specific source paths** to generate only needed utilities\n\n## Step 6: Build Performance\n\n### Measure Build Time\n\n```bash\n# Time a production build\ntime npx @tailwindcss/cli -i input.css -o output.css --minify 2>&1\n```\n\n### Performance Benchmarks\n\n| Build Time | Assessment |\n|------------|------------|\n| < 100ms | Excellent |\n| 100-500ms | Good |\n| 500ms-2s | Acceptable |\n| > 2s | Consider optimization |\n\n### Performance Tips\n\n1. **Narrow @source paths** - More specific = faster builds\n2. **Use incremental builds** - `--watch` mode is much faster\n3. **Exclude node_modules** - Don't scan dependencies\n4. **Use faster disk** - SSD > HDD significantly\n\n## Step 7: Generate Report\n\n```text\n## Tailwind CSS Optimization Report\n\n**Generated:** [date]\n**Project:** [path]\n\n### Bundle Size\n\n| Metric | Size | Assessment |\n|--------|------|------------|\n| Development | XXX KB | - |\n| Production | XXX KB | [assessment] |\n| Gzipped | XXX KB | [assessment] |\n\n### Source Coverage\n\n| Source Pattern | Files Found | Status |\n|----------------|-------------|--------|\n| `./src/**/*.jsx` | 45 | OK |\n| `./templates/**/*.templ` | 12 | OK |\n| `./components/**/*.html` | 0 | Warning: No files |\n\n### Class Usage\n\n| Metric | Count |\n|--------|-------|\n| Unique classes in templates | XXX |\n| Classes in generated CSS | XXX |\n| Potentially unused | XXX |\n\n### CSS Variables\n\n| Category | Count | Status |\n|----------|-------|--------|\n| Total variables | XXX | - |\n| Color variables | XXX | [status] |\n| Unused estimates | XXX | [status] |\n\n### Build Performance\n\n| Metric | Value |\n|--------|-------|\n| Build time | XXX ms |\n| Incremental | XXX ms |\n\n### Recommendations\n\n**High Priority:**\n1. [Critical optimizations]\n\n**Medium Priority:**\n2. [Helpful optimizations]\n\n**Low Priority:**\n3. [Nice-to-have optimizations]\n\n### Quick Wins\n\n```bash\n# Commands to apply recommended optimizations\n[commands]\n```\n```\n\n## Step 8: Apply Optimizations (if --fix)\n\nWhen `--fix` flag is present:\n\n1. **Add missing @source** - For uncovered template directories\n2. **Remove overly broad sources** - Replace `**/*` with specific patterns\n3. **Update build scripts** - Add `--minify` for production\n\n**Do NOT auto-fix:**\n- Class removal (may break dynamic classes)\n- Theme variable removal (may be used elsewhere)\n- Source path reduction (may cause missing classes)\n\n## Notes\n\n- Always test after optimization changes\n- Some \"unused\" CSS is intentional (resets, future features)\n- Gzipped size matters most for production\n- Use browser DevTools \"Coverage\" tab for runtime analysis\n- Consider code-splitting CSS for large applications\n\n---\n\n## Completion Criteria\n\n**DO NOT output `<done>COMPLETE</done>` until ALL of these conditions are TRUE:**\n\n1. Bundle size has been measured (dev and prod)\n2. Source coverage has been analyzed\n3. Optimization report has been generated\n4. If `--fix` flag provided: safe optimizations have been applied\n\n**When ALL criteria are met, output exactly:**\n\n```\n<done>COMPLETE</done>\n```\n\nThis signals the loop to exit. If you output this prematurely, the optimization analysis may be incomplete.\n\n---\n\n**Safety note:** If you've iterated 15+ times without success, document what's blocking progress and ask the user for guidance."
              }
            ],
            "skills": []
          }
        ]
      }
    }
  ]
}