{
  "owner": {
    "id": "schmug",
    "display_name": "schmug",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/38227427?u=6795537af7586787d06740b98e66234e06c757bc&v=4",
    "url": "https://github.com/schmug",
    "bio": null,
    "stats": {
      "total_repos": 1,
      "total_plugins": 1,
      "total_commands": 5,
      "total_skills": 7,
      "total_stars": 0,
      "total_forks": 0
    }
  },
  "repos": [
    {
      "full_name": "schmug/karkinos",
      "url": "https://github.com/schmug/karkinos",
      "description": "Parallel Claude Code workers using git worktrees ðŸ¦€",
      "homepage": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-12T20:00:42Z",
        "created_at": "2025-12-31T17:22:50Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 445
        },
        {
          "path": ".claude",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/commands/issue-worker.md",
          "type": "blob",
          "size": 980
        },
        {
          "path": ".claude/commands/pr-worker.md",
          "type": "blob",
          "size": 1092
        },
        {
          "path": ".claude/commands/worker-cleanup.md",
          "type": "blob",
          "size": 1006
        },
        {
          "path": ".claude/commands/worker.md",
          "type": "blob",
          "size": 750
        },
        {
          "path": ".claude/commands/workers.md",
          "type": "blob",
          "size": 788
        },
        {
          "path": ".claude/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/issue-worker",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/issue-worker/SKILL.md",
          "type": "blob",
          "size": 2842
        },
        {
          "path": ".claude/skills/pr-worker",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/pr-worker/SKILL.md",
          "type": "blob",
          "size": 2812
        },
        {
          "path": ".claude/skills/worker-cleanup",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/worker-cleanup/SKILL.md",
          "type": "blob",
          "size": 2300
        },
        {
          "path": ".claude/skills/worker",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/worker/SKILL.md",
          "type": "blob",
          "size": 2314
        },
        {
          "path": ".claude/skills/workers",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/workers/SKILL.md",
          "type": "blob",
          "size": 1689
        },
        {
          "path": ".gitignore",
          "type": "blob",
          "size": 324
        },
        {
          "path": ".jules",
          "type": "tree",
          "size": null
        },
        {
          "path": ".jules/sentinel.md",
          "type": "blob",
          "size": 3140
        },
        {
          "path": "AGENTS.md",
          "type": "blob",
          "size": 2616
        },
        {
          "path": "CHANGELOG.md",
          "type": "blob",
          "size": 3221
        },
        {
          "path": "CLAUDE.md",
          "type": "blob",
          "size": 9
        },
        {
          "path": "LICENSE",
          "type": "blob",
          "size": 1061
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 6734
        },
        {
          "path": "WORKTREE_PERMISSIONS.md",
          "type": "blob",
          "size": 7210
        },
        {
          "path": "karkinos-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "karkinos-plugin/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "karkinos-plugin/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 510
        },
        {
          "path": "karkinos-plugin/README.md",
          "type": "blob",
          "size": 2111
        },
        {
          "path": "karkinos-plugin/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "karkinos-plugin/commands/issue-worker.md",
          "type": "blob",
          "size": 980
        },
        {
          "path": "karkinos-plugin/commands/pr-worker.md",
          "type": "blob",
          "size": 1092
        },
        {
          "path": "karkinos-plugin/commands/worker-cleanup.md",
          "type": "blob",
          "size": 1006
        },
        {
          "path": "karkinos-plugin/commands/worker.md",
          "type": "blob",
          "size": 750
        },
        {
          "path": "karkinos-plugin/commands/workers.md",
          "type": "blob",
          "size": 788
        },
        {
          "path": "karkinos-plugin/mcp.json",
          "type": "blob",
          "size": 214
        },
        {
          "path": "karkinos-plugin/servers",
          "type": "tree",
          "size": null
        },
        {
          "path": "karkinos-plugin/servers/karkinos-mcp",
          "type": "tree",
          "size": null
        },
        {
          "path": "karkinos-plugin/servers/karkinos-mcp/server.py",
          "type": "blob",
          "size": 27641
        },
        {
          "path": "karkinos-plugin/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "karkinos-plugin/skills/bump-version",
          "type": "tree",
          "size": null
        },
        {
          "path": "karkinos-plugin/skills/bump-version/SKILL.md",
          "type": "blob",
          "size": 1647
        },
        {
          "path": "karkinos-plugin/skills/issue-worker",
          "type": "tree",
          "size": null
        },
        {
          "path": "karkinos-plugin/skills/issue-worker/SKILL.md",
          "type": "blob",
          "size": 2842
        },
        {
          "path": "karkinos-plugin/skills/pr-worker",
          "type": "tree",
          "size": null
        },
        {
          "path": "karkinos-plugin/skills/pr-worker/SKILL.md",
          "type": "blob",
          "size": 2812
        },
        {
          "path": "karkinos-plugin/skills/watch",
          "type": "tree",
          "size": null
        },
        {
          "path": "karkinos-plugin/skills/watch/SKILL.md",
          "type": "blob",
          "size": 1195
        },
        {
          "path": "karkinos-plugin/skills/worker-cleanup",
          "type": "tree",
          "size": null
        },
        {
          "path": "karkinos-plugin/skills/worker-cleanup/SKILL.md",
          "type": "blob",
          "size": 2300
        },
        {
          "path": "karkinos-plugin/skills/worker",
          "type": "tree",
          "size": null
        },
        {
          "path": "karkinos-plugin/skills/worker/SKILL.md",
          "type": "blob",
          "size": 2314
        },
        {
          "path": "karkinos-plugin/skills/workers",
          "type": "tree",
          "size": null
        },
        {
          "path": "karkinos-plugin/skills/workers/SKILL.md",
          "type": "blob",
          "size": 1689
        },
        {
          "path": "pyproject.toml",
          "type": "blob",
          "size": 1370
        },
        {
          "path": "src",
          "type": "tree",
          "size": null
        },
        {
          "path": "src/karkinos",
          "type": "tree",
          "size": null
        },
        {
          "path": "src/karkinos/__init__.py",
          "type": "blob",
          "size": 90
        },
        {
          "path": "src/karkinos/cli.py",
          "type": "blob",
          "size": 14454
        },
        {
          "path": "src/karkinos/data",
          "type": "tree",
          "size": null
        },
        {
          "path": "src/karkinos/data/__init__.py",
          "type": "blob",
          "size": 60
        },
        {
          "path": "src/karkinos/data/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "src/karkinos/data/commands/issue-worker.md",
          "type": "blob",
          "size": 980
        },
        {
          "path": "src/karkinos/data/commands/pr-worker.md",
          "type": "blob",
          "size": 1092
        },
        {
          "path": "src/karkinos/data/commands/worker-cleanup.md",
          "type": "blob",
          "size": 1006
        },
        {
          "path": "src/karkinos/data/commands/worker.md",
          "type": "blob",
          "size": 750
        },
        {
          "path": "src/karkinos/data/commands/workers.md",
          "type": "blob",
          "size": 788
        },
        {
          "path": "src/karkinos/data/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "src/karkinos/data/skills/issue-worker",
          "type": "tree",
          "size": null
        },
        {
          "path": "src/karkinos/data/skills/issue-worker/SKILL.md",
          "type": "blob",
          "size": 2979
        },
        {
          "path": "src/karkinos/data/skills/pr-worker",
          "type": "tree",
          "size": null
        },
        {
          "path": "src/karkinos/data/skills/pr-worker/SKILL.md",
          "type": "blob",
          "size": 2949
        },
        {
          "path": "src/karkinos/data/skills/worker-cleanup",
          "type": "tree",
          "size": null
        },
        {
          "path": "src/karkinos/data/skills/worker-cleanup/SKILL.md",
          "type": "blob",
          "size": 2300
        },
        {
          "path": "src/karkinos/data/skills/worker",
          "type": "tree",
          "size": null
        },
        {
          "path": "src/karkinos/data/skills/worker/SKILL.md",
          "type": "blob",
          "size": 2464
        },
        {
          "path": "src/karkinos/data/skills/workers",
          "type": "tree",
          "size": null
        },
        {
          "path": "src/karkinos/data/skills/workers/SKILL.md",
          "type": "blob",
          "size": 1689
        },
        {
          "path": "src/karkinos/tui.py",
          "type": "blob",
          "size": 32908
        },
        {
          "path": "tests",
          "type": "tree",
          "size": null
        },
        {
          "path": "tests/test_mcp_security.py",
          "type": "blob",
          "size": 2088
        },
        {
          "path": "uv.lock",
          "type": "blob",
          "size": 14162
        }
      ],
      "marketplace": {
        "name": "karkinos",
        "version": null,
        "description": null,
        "owner_info": {
          "name": "schmug"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "karkinos",
            "description": "Parallel Claude workers with git worktrees - includes MCP tools, skills, and commands",
            "source": "./karkinos-plugin",
            "category": "development",
            "version": "0.2.1",
            "author": null,
            "install_commands": [
              "/plugin marketplace add schmug/karkinos",
              "/plugin install karkinos@karkinos"
            ],
            "signals": {
              "stars": 0,
              "forks": 0,
              "pushed_at": "2026-01-12T20:00:42Z",
              "created_at": "2025-12-31T17:22:50Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/issue-worker",
                "description": null,
                "path": "karkinos-plugin/commands/issue-worker.md",
                "frontmatter": null,
                "content": "# /issue-worker\n\nSpawn a Claude worker to handle a GitHub issue.\n\n## Arguments\n- `$ARGUMENTS` - Issue number (e.g., `42`)\n\n## Instructions\n\n1. Fetch issue details:\n   ```bash\n   gh issue view $ARGUMENTS --json number,title,body,labels,comments\n   ```\n\n2. Generate branch name from issue:\n   - Bug â†’ `fix/issue-<num>-<slug>`\n   - Feature â†’ `feat/issue-<num>-<slug>`\n\n3. Create worktree:\n   ```bash\n   git worktree add \"../artemis-issue-$ARGUMENTS\" -b \"$BRANCH\"\n   ```\n\n4. Build prompt with issue context and spawn worker:\n   ```bash\n   cd \"../artemis-issue-$ARGUMENTS\" && claude --print --dangerously-skip-permissions \"\n   You are working on GitHub Issue #<number>: <title>\n\n   ## Issue Description\n   <body>\n\n   ## Your Task\n   1. Implement the necessary changes\n   2. Write tests if applicable\n   3. Commit with message referencing the issue\n   \"\n   ```\n\n5. Report results and offer to create PR:\n   ```bash\n   gh pr create --title \"<title>\" --body \"Closes #<number>\"\n   ```\n"
              },
              {
                "name": "/pr-worker",
                "description": null,
                "path": "karkinos-plugin/commands/pr-worker.md",
                "frontmatter": null,
                "content": "# /pr-worker\n\nSpawn a Claude worker to address PR feedback or fix CI.\n\n## Arguments\n- `$ARGUMENTS` - PR number, optionally with flags (e.g., `123` or `123 --ci`)\n\n## Instructions\n\n1. Parse arguments for PR number and flags (`--review` or `--ci`)\n\n2. Fetch PR details:\n   ```bash\n   gh pr view <number> --json number,title,headRefName,reviews,comments,statusCheckRollup\n   ```\n\n3. Check if worktree exists for this branch, or create one:\n   ```bash\n   git worktree add \"../artemis-pr-<number>\" \"<headRefName>\"\n   ```\n\n4. Build prompt based on mode:\n\n   **For --review (or default):**\n   - Fetch review comments: `gh api repos/{owner}/{repo}/pulls/<number>/comments`\n   - Prompt worker to address each unresolved comment\n\n   **For --ci:**\n   - Get failed checks: `gh pr checks <number>`\n   - Get failure logs: `gh run view <run-id> --log-failed`\n   - Prompt worker to fix CI failures\n\n5. Spawn worker:\n   ```bash\n   cd \"../artemis-pr-<number>\" && claude --print --dangerously-skip-permissions \"<prompt>\"\n   ```\n\n6. After completion, offer to push:\n   ```bash\n   git push origin <branch>\n   ```\n"
              },
              {
                "name": "/worker-cleanup",
                "description": null,
                "path": "karkinos-plugin/commands/worker-cleanup.md",
                "frontmatter": null,
                "content": "# /worker-cleanup\n\nRemove completed worker worktrees and their branches.\n\n## Arguments\n- `$ARGUMENTS` - Optional: specific worktree path, branch name, or `--all-merged`\n\n## Instructions\n\n### If specific worktree/branch provided:\n\n1. Check for uncommitted changes:\n   ```bash\n   git -C <worktree> status --porcelain\n   ```\n   Warn if dirty.\n\n2. Check if branch is merged:\n   ```bash\n   git branch --merged main | grep <branch>\n   ```\n   Warn if unmerged.\n\n3. Remove worktree and branch:\n   ```bash\n   git worktree remove <path>\n   git branch -d <branch>  # -D if unmerged and user confirms\n   ```\n\n### If `--all-merged`:\n\n1. Find all merged branches with worktrees\n2. Remove each worktree and delete branch\n3. Report what was cleaned\n\n### If no arguments:\n\n1. List worktrees with their status (merged/unmerged, clean/dirty)\n2. Ask user which to clean up\n\n## Safety\n- Never remove main worktree\n- Warn before removing worktrees with uncommitted changes\n- Keep unmerged branches unless user confirms deletion\n"
              },
              {
                "name": "/worker",
                "description": null,
                "path": "karkinos-plugin/commands/worker.md",
                "frontmatter": null,
                "content": "# /worker\n\nSpawn a Claude worker in an isolated git worktree.\n\n## Arguments\n- `$ARGUMENTS` - Branch name and task description (e.g., `feat/add-logging Add logging to supervisor`)\n\n## Instructions\n\n1. Parse the first word as branch name, rest as task description\n2. Create worktree:\n   ```bash\n   BRANCH=\"<first-arg>\"\n   WORKTREE=\"../artemis-$(echo $BRANCH | tr '/' '-')\"\n   git worktree add \"$WORKTREE\" -b \"$BRANCH\"\n   ```\n3. Spawn autonomous Claude worker:\n   ```bash\n   cd \"$WORKTREE\" && claude --print --dangerously-skip-permissions \"<task-description>\"\n   ```\n4. Show results:\n   - Worker output\n   - Commits made: `git log $BRANCH --oneline -5`\n   - Files changed: `git diff main...$BRANCH --stat`\n5. Ask: Create PR? Continue working? Clean up?\n"
              },
              {
                "name": "/workers",
                "description": null,
                "path": "karkinos-plugin/commands/workers.md",
                "frontmatter": null,
                "content": "# /workers\n\nList all active Claude workers and their git worktrees.\n\n## Instructions\n\n1. List all worktrees:\n   ```bash\n   git worktree list\n   ```\n\n2. For each non-main worktree, show:\n   - Branch name\n   - Last commit: `git log <branch> --oneline -1`\n   - Commits ahead of main: `git rev-list main..<branch> --count`\n   - Uncommitted changes: `git -C <worktree-path> status --short`\n\n3. Format as table:\n   ```\n   | Worktree | Branch | Last Commit | Ahead | Status |\n   |----------|--------|-------------|-------|--------|\n   | ../artemis-issue-42 | feat/issue-42 | abc123 Fix bug | +2 | clean |\n   ```\n\n4. Suggest actions:\n   - Workers with commits â†’ \"Ready for PR?\"\n   - Clean worktrees with no commits â†’ \"Clean up?\"\n   - Worktrees with uncommitted changes â†’ \"Work in progress\"\n"
              }
            ],
            "skills": [
              {
                "name": "bump-version",
                "description": "Bump the version number in pyproject.toml, plugin.json, and marketplace.json, then commit and tag.",
                "path": "karkinos-plugin/skills/bump-version/SKILL.md",
                "frontmatter": {
                  "name": "bump-version",
                  "description": "Bump the version number in pyproject.toml, plugin.json, and marketplace.json, then commit and tag.",
                  "allowed-tools": "Bash, Read, Edit, Grep"
                },
                "content": "# Bump Version Skill\n\nBump the Karkinos version across all manifest files.\n\n## Usage\n\n```\n/karkinos:bump-version <version>\n```\n\n## Examples\n\n```\n/karkinos:bump-version 0.3.0\n/karkinos:bump-version 1.0.0\n```\n\n## Instructions\n\nWhen the user invokes `/karkinos:bump-version`, follow these steps:\n\n### 1. Validate Version Format\n\nEnsure the version follows semantic versioning (X.Y.Z):\n\n```bash\necho \"$VERSION\" | grep -E '^[0-9]+\\.[0-9]+\\.[0-9]+$' || echo \"INVALID\"\n```\n\n### 2. Find and Update Version Files\n\nUpdate version in these files:\n\n1. **pyproject.toml** - CLI tool version\n   ```\n   version = \"X.Y.Z\"\n   ```\n\n2. **karkinos-plugin/.claude-plugin/plugin.json** - Plugin manifest\n   ```json\n   \"version\": \"X.Y.Z\"\n   ```\n\n3. **.claude-plugin/marketplace.json** - Marketplace metadata and plugin listing\n   ```json\n   \"version\": \"X.Y.Z\"  (both metadata and plugins[0])\n   ```\n\n### 3. Show Changes\n\nDisplay the diff before committing:\n\n```bash\ngit diff\n```\n\n### 4. Commit and Tag\n\n```bash\ngit add pyproject.toml karkinos-plugin/.claude-plugin/plugin.json .claude-plugin/marketplace.json\ngit commit -m \"chore: bump version to $VERSION\"\ngit tag \"v$VERSION\"\n```\n\n### 5. Offer to Push\n\nAsk the user if they want to push:\n\n```bash\ngit push origin main --tags\n```\n\n## Notes\n\n- Always use semantic versioning (MAJOR.MINOR.PATCH)\n- The tag format is `v0.2.0` (with `v` prefix)\n- All 3 files must be updated together to stay in sync\n- Consider updating CHANGELOG.md if it exists"
              },
              {
                "name": "issue-worker",
                "description": "Spawn a Claude worker to handle a GitHub issue. Fetches issue details, creates a feature branch, and works autonomously. Use when you want to delegate an issue to a worker.",
                "path": "karkinos-plugin/skills/issue-worker/SKILL.md",
                "frontmatter": {
                  "name": "issue-worker",
                  "description": "Spawn a Claude worker to handle a GitHub issue. Fetches issue details, creates a feature branch, and works autonomously. Use when you want to delegate an issue to a worker.",
                  "allowed-tools": "Bash, Read, Write, Edit, Glob, Grep"
                },
                "content": "# Issue Worker Skill\n\nSpawn a Claude worker to handle a GitHub issue.\n\n## Usage\n\n```\n/issue-worker <issue-number>\n```\n\n## Examples\n\n```\n/issue-worker 42\n/issue-worker 123\n```\n\n## Instructions\n\nWhen the user invokes `/issue-worker`, follow these steps:\n\n### 1. Fetch Issue Details\n\n```bash\ngh issue view <issue-number> --json number,title,body,labels,comments\n```\n\n### 2. Generate Branch Name\n\nCreate a descriptive branch name from the issue:\n- Format: `feat/issue-<number>-<short-description>`\n- Example: Issue #42 \"Add retry logic\" â†’ `feat/issue-42-add-retry-logic`\n\nFor bug issues, use `fix/` prefix instead of `feat/`.\n\n### 3. Create Worktree\n\n```bash\nBRANCH=\"feat/issue-<number>-<slug>\"\nWORKTREE_PATH=\"../artemis-issue-<number>\"\ngit worktree add \"$WORKTREE_PATH\" -b \"$BRANCH\"\n```\n\n### 4. Build Task Prompt\n\nConstruct a comprehensive prompt for the worker:\n\n```\nYou are working on GitHub Issue #<number>: <title>\n\n## Issue Description\n<body>\n\n## Labels\n<labels>\n\n## Comments\n<comments if any>\n\n## Your Task\n1. Understand the issue requirements\n2. Implement the necessary changes\n3. Write tests if applicable\n4. Commit your changes with message referencing the issue (e.g., \"feat: add retry logic (fixes #42)\")\n5. Push your branch and create a PR\n\n## Guidelines\n- Follow existing code patterns in the repository\n- Keep changes focused on the issue scope\n- Add comments only where logic isn't self-evident\n```\n\n### 5. Spawn Worker\n\n```bash\ncd \"$WORKTREE_PATH\" && claude --print --dangerously-skip-permissions \"$PROMPT\"\n```\n\n### 6. Push and Create PR\n\nAfter the worker completes successfully and has made commits:\n\n```bash\n# Push the branch to origin\ngit push -u origin \"$BRANCH\"\n\n# Create PR linking to the issue\ngh pr create --title \"<issue title>\" --body \"$(cat <<'EOF'\n## Summary\n<brief description of changes>\n\nCloses #<issue-number>\n\n## Changes\n<list of key changes made>\n\n---\nðŸ¤– Generated by Claude worker\nEOF\n)\"\n\n# Enable auto-merge (will merge automatically when CI passes)\ngh pr merge --auto --squash\n```\n\n### 7. Report Results\n\nAfter completion:\n1. Show worker output summary\n2. Show commits made: `git log $BRANCH --oneline -5`\n3. Show files changed: `git diff main...$BRANCH --stat`\n4. Show the PR URL\n5. Offer next steps:\n   - Review the PR\n   - Continue working on it\n   - Clean up if failed\n\n### 8. Track Worker\n\nAdd to `.claude/workers.json`:\n```json\n{\n  \"type\": \"issue\",\n  \"issue\": 42,\n  \"branch\": \"feat/issue-42-add-retry-logic\",\n  \"worktree\": \"../artemis-issue-42\",\n  \"created\": \"2024-01-15T10:30:00Z\",\n  \"status\": \"completed\",\n  \"pr\": \"<pr-url>\"\n}\n```"
              },
              {
                "name": "pr-worker",
                "description": "Spawn a Claude worker to address PR feedback, fix CI failures, or continue work on a pull request. Use when a PR needs updates based on review comments or failing checks.",
                "path": "karkinos-plugin/skills/pr-worker/SKILL.md",
                "frontmatter": {
                  "name": "pr-worker",
                  "description": "Spawn a Claude worker to address PR feedback, fix CI failures, or continue work on a pull request. Use when a PR needs updates based on review comments or failing checks.",
                  "allowed-tools": "Bash, Read, Write, Edit, Glob, Grep"
                },
                "content": "# PR Worker Skill\n\nSpawn a Claude worker to address PR feedback or continue PR work.\n\n## Usage\n\n```\n/pr-worker <pr-number>\n/pr-worker <pr-number> --review    # Address review comments\n/pr-worker <pr-number> --ci        # Fix CI failures\n```\n\n## Examples\n\n```\n/pr-worker 123\n/pr-worker 123 --review\n/pr-worker 123 --ci\n```\n\n## Instructions\n\nWhen the user invokes `/pr-worker`, follow these steps:\n\n### 1. Fetch PR Details\n\n```bash\ngh pr view <pr-number> --json number,title,body,headRefName,baseRefName,state,reviewDecision,statusCheckRollup,reviews,comments\n```\n\n### 2. Determine Work Type\n\nBased on flags or auto-detect:\n- `--review`: Focus on addressing review comments\n- `--ci`: Focus on fixing CI failures\n- Default: Analyze PR state and decide\n\n### 3. Get Existing Worktree or Create One\n\nCheck if worktree for this branch already exists:\n```bash\ngit worktree list | grep <headRefName>\n```\n\nIf not, create one:\n```bash\nBRANCH=\"<headRefName>\"\nWORKTREE_PATH=\"../artemis-pr-<number>\"\ngit worktree add \"$WORKTREE_PATH\" \"$BRANCH\"\n```\n\n### 4. Build Task Prompt\n\n#### For Review Comments (`--review`):\n\n```bash\ngh pr view <number> --comments\ngh api repos/{owner}/{repo}/pulls/<number>/comments\n```\n\nBuild prompt:\n```\nYou are addressing review feedback on PR #<number>: <title>\n\n## Review Comments to Address\n<list of unresolved comments with file paths and line numbers>\n\n## Your Task\n1. Address each review comment\n2. Make the requested changes\n3. Commit with message: \"fix: address PR review feedback\"\n4. Do NOT push - the orchestrator will handle that\n```\n\n#### For CI Failures (`--ci`):\n\n```bash\ngh pr checks <number>\ngh run view <failed-run-id> --log-failed\n```\n\nBuild prompt:\n```\nYou are fixing CI failures on PR #<number>: <title>\n\n## Failed Checks\n<list of failed checks with error logs>\n\n## Your Task\n1. Analyze the CI failure logs\n2. Fix the issues causing failures\n3. Commit with message: \"fix: resolve CI failures\"\n4. Do NOT push - the orchestrator will handle that\n```\n\n### 5. Spawn Worker\n\n```bash\ncd \"$WORKTREE_PATH\" && claude --print --dangerously-skip-permissions \"$PROMPT\"\n```\n\n### 6. Report and Push\n\nAfter worker completes:\n1. Show commits made\n2. Offer to push: `git push origin <branch>`\n3. Show updated PR status\n\n```bash\ngit push origin <branch>\ngh pr checks <number>  # Verify CI is running\n```\n\n## Notes\n\n- PR workers reuse existing worktrees if the branch exists\n- Worker should NOT force push or amend existing commits\n- Always show diff before pushing\n- CI worker may need multiple iterations if fixes introduce new failures"
              },
              {
                "name": "watch",
                "description": "Launch the Karkinos TUI to monitor worker progress in a new terminal window.",
                "path": "karkinos-plugin/skills/watch/SKILL.md",
                "frontmatter": {
                  "name": "watch",
                  "description": "Launch the Karkinos TUI to monitor worker progress in a new terminal window.",
                  "allowed-tools": "Bash"
                },
                "content": "# Watch Skill\n\nLaunch the Karkinos worker monitor TUI in a new terminal window.\n\n## Usage\n\n```\n/karkinos:watch\n```\n\n## Instructions\n\nWhen the user invokes `/karkinos:watch`, follow these steps:\n\n### 1. Check if karkinos CLI is installed\n\n```bash\nwhich karkinos || echo \"NOT_FOUND\"\n```\n\n### 2. If installed, spawn the TUI\n\n```bash\nkarkinos watch --spawn\n```\n\nThis opens the TUI in a new Terminal window (macOS) or terminal emulator (Linux).\n\n### 3. If not installed, provide instructions\n\nTell the user:\n\n```\nThe karkinos CLI is not installed. Install it with:\n\n  uv tool install karkinos\n\nOr if you have the source:\n\n  uv tool install /path/to/karkinos\n\nThen run: karkinos watch --spawn\n```\n\n## Notes\n\n- The TUI must run in a separate terminal from Claude Code\n- Use `--spawn` to automatically open a new terminal:\n  - **VS Code/Cursor**: Splits the current terminal pane\n  - **Terminal.app**: Opens a new window\n  - **Linux**: Opens gnome-terminal, xterm, or konsole\n- Use `--no-crabs` to disable the animated crab header\n- Use `--speed 0.2` for faster animation"
              },
              {
                "name": "worker-cleanup",
                "description": "Remove completed or abandoned worker worktrees and their branches. Use to clean up after workers finish their tasks.",
                "path": "karkinos-plugin/skills/worker-cleanup/SKILL.md",
                "frontmatter": {
                  "name": "worker-cleanup",
                  "description": "Remove completed or abandoned worker worktrees and their branches. Use to clean up after workers finish their tasks.",
                  "allowed-tools": "Bash, Read"
                },
                "content": "# Worker Cleanup Skill\n\nRemove completed or abandoned worker worktrees.\n\n## Usage\n\n```\n/worker-cleanup [worktree-path-or-branch]\n/worker-cleanup --all-merged\n/worker-cleanup --all\n```\n\n## Examples\n\n```\n/worker-cleanup ../artemis-issue-42\n/worker-cleanup feat/issue-42-retry\n/worker-cleanup --all-merged\n```\n\n## Instructions\n\n### Single Worktree Cleanup\n\nWhen given a specific worktree or branch:\n\n1. **Check for uncommitted changes**\n   ```bash\n   cd <worktree> && git status --porcelain\n   ```\n   If dirty, warn user and ask for confirmation.\n\n2. **Check if branch was merged**\n   ```bash\n   git branch --merged main | grep <branch>\n   ```\n   If not merged, warn user about unmerged commits.\n\n3. **Remove worktree**\n   ```bash\n   git worktree remove <worktree-path>\n   ```\n\n4. **Delete branch if merged**\n   ```bash\n   git branch -d <branch>  # Safe delete (fails if unmerged)\n   ```\n\n### Cleanup All Merged (`--all-merged`)\n\nFind and remove all worktrees whose branches are merged to main:\n\n```bash\n# Get merged branches\nMERGED=$(git branch --merged main | grep -v main)\n\n# For each, remove worktree and branch\nfor branch in $MERGED; do\n  worktree=$(git worktree list | grep \"$branch\" | awk '{print $1}')\n  if [ -n \"$worktree\" ]; then\n    git worktree remove \"$worktree\"\n    git branch -d \"$branch\"\n  fi\ndone\n```\n\n### Cleanup All (`--all`)\n\n**DANGEROUS** - Removes all non-main worktrees:\n\n1. List all worktrees\n2. Show uncommitted/unmerged status for each\n3. Require explicit confirmation\n4. Remove each worktree and optionally delete branches\n\n### Output\n\nShow cleanup summary:\n```\nCleaned up 3 worktrees:\n  - ../artemis-issue-42 (feat/issue-42-retry) - merged, deleted\n  - ../artemis-feat-logging (feat/add-logging) - merged, deleted\n  - ../artemis-old-experiment (test/old) - unmerged, branch kept\n\nRemaining worktrees: 1\n  - ../artemis-wip (feat/work-in-progress) - has uncommitted changes\n```\n\n## Safety\n\n- Never remove main worktree\n- Warn before removing worktrees with uncommitted changes\n- Keep unmerged branches by default (use `-D` flag to force)\n- Always show what will be deleted before confirming"
              },
              {
                "name": "worker",
                "description": "Spawn a Claude worker in an isolated git worktree for parallel development. Use when you need to work on a task in isolation without affecting current work.",
                "path": "karkinos-plugin/skills/worker/SKILL.md",
                "frontmatter": {
                  "name": "worker",
                  "description": "Spawn a Claude worker in an isolated git worktree for parallel development. Use when you need to work on a task in isolation without affecting current work.",
                  "allowed-tools": "Bash, Read, Write, Edit, Glob, Grep"
                },
                "content": "# Worker Skill\n\nSpawn a Claude worker in an isolated git worktree.\n\n## Usage\n\n```\n/worker <branch-name> <task description>\n```\n\n## Examples\n\n```\n/worker feat/add-logging Add structured logging to the supervisor module\n/worker fix/auth-bug Fix the authentication bypass in the API\n/worker refactor/cleanup Refactor the instance manager for clarity\n```\n\n## Instructions\n\nWhen the user invokes `/worker`, follow these steps:\n\n### 1. Parse Arguments\n\nExtract the branch name (first argument) and task description (remaining text).\n\n### 2. Create Worktree\n\n```bash\n# Get project name for worktree prefix\nPROJECT=$(basename $(git rev-parse --show-toplevel))\nWORKTREE_PATH=\"../${PROJECT}-$(echo $BRANCH | tr '/' '-')\"\n\n# Create the worktree with a new branch\ngit worktree add \"$WORKTREE_PATH\" -b \"$BRANCH\"\n```\n\n### 3. Spawn Worker Claude\n\nRun a Claude instance in the worktree with full autonomy:\n\n```bash\ncd \"$WORKTREE_PATH\" && claude --print --dangerously-skip-permissions \"$TASK_DESCRIPTION\"\n```\n\n### 4. Push and Create PR\n\nAfter the worker completes successfully and has made commits:\n\n```bash\n# Push the branch to origin\ngit push -u origin \"$BRANCH\"\n\n# Create PR with auto-generated summary\ngh pr create --title \"<commit message or task summary>\" --body \"$(cat <<'EOF'\n## Summary\n<brief description of changes>\n\n## Changes\n<list of key changes made>\n\n---\nðŸ¤– Generated by Claude worker\nEOF\n)\"\n\n# Enable auto-merge (will merge automatically when CI passes)\ngh pr merge --auto --squash\n```\n\n### 5. Report Results\n\nAfter the worker completes:\n1. Show the worker's output\n2. Show any commits made: `git log $BRANCH --oneline -5`\n3. Show the PR URL if created\n4. Offer next steps:\n   - Review the PR\n   - Continue working (spawn another worker command)\n   - Clean up the worktree\n\n## Important Notes\n\n- Workers have full autonomy (`--dangerously-skip-permissions`)\n- Each worker gets its own branch - no conflicts with main work\n- Workers push their branch and create PRs when done\n- Use `git worktree list` to see active workers\n- Use `git worktree remove <path>` to clean up"
              },
              {
                "name": "workers",
                "description": "List all active Claude workers and their git worktrees. Shows branch status, commits, and suggests next actions. Use to see what workers are running.",
                "path": "karkinos-plugin/skills/workers/SKILL.md",
                "frontmatter": {
                  "name": "workers",
                  "description": "List all active Claude workers and their git worktrees. Shows branch status, commits, and suggests next actions. Use to see what workers are running.",
                  "allowed-tools": "Bash, Read"
                },
                "content": "# Workers Skill\n\nList and manage active Claude workers.\n\n## Usage\n\n```\n/workers\n```\n\n## Instructions\n\nWhen the user invokes `/workers`, show the status of all worktrees and workers:\n\n### 1. List Git Worktrees\n\n```bash\ngit worktree list\n```\n\n### 2. Show Worker Details\n\nFor each worktree (excluding main):\n- Branch name and last commit\n- Files changed vs main\n- Whether it's ahead/behind main\n\n```bash\n# For each worktree branch\ngit log <branch> --oneline -1\ngit diff main...<branch> --stat | tail -1\ngit rev-list --left-right --count main...<branch>\n```\n\n### 3. Format Output\n\nDisplay as a table:\n\n```\n| Worktree | Branch | Last Commit | Changes | Status |\n|----------|--------|-------------|---------|--------|\n| ../artemis-issue-42 | feat/issue-42-retry | abc123 Add retry | 3 files | +2 ahead |\n| ../artemis-feat-logging | feat/add-logging | def456 Add logs | 5 files | +1 ahead |\n```\n\n### 4. Suggest Actions\n\nBased on status, suggest:\n- Workers with commits â†’ \"Ready for PR?\"\n- Stale worktrees (no recent commits) â†’ \"Clean up?\"\n- Workers behind main â†’ \"Rebase needed\"\n\n### 5. Quick Actions\n\nOffer shortcuts:\n- `/worker-cleanup <worktree>` - Remove a specific worktree\n- `/worker-pr <branch>` - Create PR from worker branch\n- `/worker-continue <worktree> \"additional task\"` - Send more work\n\n## Notes\n\n- Only shows worktrees in the parent directory (`../artemis-*`)\n- Main repo worktree is always excluded from the list\n- Worktrees can be filtered by status if needed"
              }
            ]
          }
        ]
      }
    }
  ]
}