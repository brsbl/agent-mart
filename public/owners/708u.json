{
  "owner": {
    "id": "708u",
    "display_name": "Naoya Uda",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/43739514?u=22fc324c7225f6f66f84226b2b103fe5c2e5e93c&v=4",
    "url": "https://github.com/708u",
    "bio": "Software Engineer",
    "stats": {
      "total_repos": 1,
      "total_plugins": 1,
      "total_commands": 6,
      "total_skills": 1,
      "total_stars": 3,
      "total_forks": 0
    }
  },
  "repos": [
    {
      "full_name": "708u/twig",
      "url": "https://github.com/708u/twig",
      "description": "Simplify git worktree workflows with automatic branch creation, symlinks, and carry changes.",
      "homepage": "",
      "signals": {
        "stars": 3,
        "forks": 0,
        "pushed_at": "2026-01-11T23:42:34Z",
        "created_at": "2025-12-31T14:31:58Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 445
        },
        {
          "path": ".claude",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/rules",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/rules/development",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/rules/development/development-workflow.md",
          "type": "blob",
          "size": 2096
        },
        {
          "path": ".claude/rules/development/integration-testing.md",
          "type": "blob",
          "size": 48
        },
        {
          "path": ".claude/rules/development/unit-testing.md",
          "type": "blob",
          "size": 41
        },
        {
          "path": ".claude/rules/reference",
          "type": "blob",
          "size": 20
        },
        {
          "path": ".github",
          "type": "tree",
          "size": null
        },
        {
          "path": ".github/PULL_REQUEST_TEMPLATE.md",
          "type": "blob",
          "size": 436
        },
        {
          "path": ".github/workflows",
          "type": "tree",
          "size": null
        },
        {
          "path": ".github/workflows/ci.yml",
          "type": "blob",
          "size": 2974
        },
        {
          "path": ".github/workflows/release.yml",
          "type": "blob",
          "size": 938
        },
        {
          "path": ".gitignore",
          "type": "blob",
          "size": 195
        },
        {
          "path": ".golangci.yml",
          "type": "blob",
          "size": 818
        },
        {
          "path": ".goreleaser.yaml",
          "type": "blob",
          "size": 2528
        },
        {
          "path": ".twig",
          "type": "tree",
          "size": null
        },
        {
          "path": ".twig/settings.toml",
          "type": "blob",
          "size": 675
        },
        {
          "path": ".vscode",
          "type": "tree",
          "size": null
        },
        {
          "path": ".vscode/settings.json",
          "type": "blob",
          "size": 61
        },
        {
          "path": "CLAUDE.md",
          "type": "blob",
          "size": 3584
        },
        {
          "path": "LICENSE",
          "type": "blob",
          "size": 1039
        },
        {
          "path": "Makefile",
          "type": "blob",
          "size": 484
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 5785
        },
        {
          "path": "add.go",
          "type": "blob",
          "size": 8911
        },
        {
          "path": "add_integration_test.go",
          "type": "blob",
          "size": 50610
        },
        {
          "path": "add_test.go",
          "type": "blob",
          "size": 23105
        },
        {
          "path": "clean.go",
          "type": "blob",
          "size": 9111
        },
        {
          "path": "clean_integration_test.go",
          "type": "blob",
          "size": 26890
        },
        {
          "path": "clean_test.go",
          "type": "blob",
          "size": 21124
        },
        {
          "path": "cmd",
          "type": "tree",
          "size": null
        },
        {
          "path": "cmd/twig",
          "type": "tree",
          "size": null
        },
        {
          "path": "cmd/twig/main.go",
          "type": "blob",
          "size": 18443
        },
        {
          "path": "cmd/twig/main_integration_test.go",
          "type": "blob",
          "size": 15008
        },
        {
          "path": "cmd/twig/main_test.go",
          "type": "blob",
          "size": 31778
        },
        {
          "path": "completion",
          "type": "tree",
          "size": null
        },
        {
          "path": "completion/twig.bash",
          "type": "blob",
          "size": 16033
        },
        {
          "path": "completion/twig.fish",
          "type": "blob",
          "size": 9509
        },
        {
          "path": "completion/twig.ps1",
          "type": "blob",
          "size": 10764
        },
        {
          "path": "completion/twig.zsh",
          "type": "blob",
          "size": 7676
        },
        {
          "path": "config.go",
          "type": "blob",
          "size": 3518
        },
        {
          "path": "config_test.go",
          "type": "blob",
          "size": 10241
        },
        {
          "path": "docs",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/development",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/development/integration-testing.md",
          "type": "blob",
          "size": 4143
        },
        {
          "path": "docs/development/plugin-docs-sync.md",
          "type": "blob",
          "size": 308
        },
        {
          "path": "docs/development/unit-testing.md",
          "type": "blob",
          "size": 1424
        },
        {
          "path": "docs/reference",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/reference/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/reference/commands/add.md",
          "type": "blob",
          "size": 6568
        },
        {
          "path": "docs/reference/commands/clean.md",
          "type": "blob",
          "size": 5612
        },
        {
          "path": "docs/reference/commands/init.md",
          "type": "blob",
          "size": 877
        },
        {
          "path": "docs/reference/commands/list.md",
          "type": "blob",
          "size": 1104
        },
        {
          "path": "docs/reference/commands/remove.md",
          "type": "blob",
          "size": 2817
        },
        {
          "path": "docs/reference/commands/version.md",
          "type": "blob",
          "size": 585
        },
        {
          "path": "docs/reference/configuration.md",
          "type": "blob",
          "size": 3128
        },
        {
          "path": "external",
          "type": "tree",
          "size": null
        },
        {
          "path": "external/claude-code",
          "type": "tree",
          "size": null
        },
        {
          "path": "external/claude-code/plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "external/claude-code/plugins/twig",
          "type": "tree",
          "size": null
        },
        {
          "path": "external/claude-code/plugins/twig/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "external/claude-code/plugins/twig/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 245
        },
        {
          "path": "external/claude-code/plugins/twig/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "external/claude-code/plugins/twig/agents/twig-operator.md",
          "type": "blob",
          "size": 7150
        },
        {
          "path": "external/claude-code/plugins/twig/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "external/claude-code/plugins/twig/skills/twig-guide",
          "type": "tree",
          "size": null
        },
        {
          "path": "external/claude-code/plugins/twig/skills/twig-guide/SKILL.md",
          "type": "blob",
          "size": 3132
        },
        {
          "path": "external/claude-code/plugins/twig/skills/twig-guide/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "external/claude-code/plugins/twig/skills/twig-guide/references/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "external/claude-code/plugins/twig/skills/twig-guide/references/commands/add.md",
          "type": "blob",
          "size": 6568
        },
        {
          "path": "external/claude-code/plugins/twig/skills/twig-guide/references/commands/clean.md",
          "type": "blob",
          "size": 5612
        },
        {
          "path": "external/claude-code/plugins/twig/skills/twig-guide/references/commands/init.md",
          "type": "blob",
          "size": 877
        },
        {
          "path": "external/claude-code/plugins/twig/skills/twig-guide/references/commands/list.md",
          "type": "blob",
          "size": 1104
        },
        {
          "path": "external/claude-code/plugins/twig/skills/twig-guide/references/commands/remove.md",
          "type": "blob",
          "size": 2817
        },
        {
          "path": "external/claude-code/plugins/twig/skills/twig-guide/references/commands/version.md",
          "type": "blob",
          "size": 585
        },
        {
          "path": "external/claude-code/plugins/twig/skills/twig-guide/references/configuration.md",
          "type": "blob",
          "size": 3128
        },
        {
          "path": "fs.go",
          "type": "blob",
          "size": 1260
        },
        {
          "path": "git.go",
          "type": "blob",
          "size": 17716
        },
        {
          "path": "git_integration_test.go",
          "type": "blob",
          "size": 7579
        },
        {
          "path": "git_test.go",
          "type": "blob",
          "size": 2896
        },
        {
          "path": "go.mod",
          "type": "blob",
          "size": 273
        },
        {
          "path": "go.sum",
          "type": "blob",
          "size": 1254
        },
        {
          "path": "init.go",
          "type": "blob",
          "size": 2881
        },
        {
          "path": "init_integration_test.go",
          "type": "blob",
          "size": 5052
        },
        {
          "path": "init_test.go",
          "type": "blob",
          "size": 4549
        },
        {
          "path": "internal",
          "type": "tree",
          "size": null
        },
        {
          "path": "internal/testutil",
          "type": "tree",
          "size": null
        },
        {
          "path": "internal/testutil/git.go",
          "type": "blob",
          "size": 3500
        },
        {
          "path": "internal/testutil/mock_fs.go",
          "type": "blob",
          "size": 2976
        },
        {
          "path": "internal/testutil/mock_git.go",
          "type": "blob",
          "size": 8155
        },
        {
          "path": "list.go",
          "type": "blob",
          "size": 2195
        },
        {
          "path": "list_integration_test.go",
          "type": "blob",
          "size": 4701
        },
        {
          "path": "list_test.go",
          "type": "blob",
          "size": 5087
        },
        {
          "path": "remove.go",
          "type": "blob",
          "size": 8194
        },
        {
          "path": "remove_integration_test.go",
          "type": "blob",
          "size": 20894
        },
        {
          "path": "remove_test.go",
          "type": "blob",
          "size": 22440
        },
        {
          "path": "result.go",
          "type": "blob",
          "size": 322
        },
        {
          "path": "scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "scripts/sync-plugin-docs.sh",
          "type": "blob",
          "size": 531
        }
      ],
      "marketplace": {
        "name": "twig-plugins",
        "version": null,
        "description": null,
        "owner_info": {
          "name": "708u"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "twig",
            "description": "Claude Code plugin for twig - simplifies git worktree workflows",
            "source": "./external/claude-code/plugins/twig",
            "category": "productivity",
            "version": "0.2.0",
            "author": null,
            "install_commands": [
              "/plugin marketplace add 708u/twig",
              "/plugin install twig@twig-plugins"
            ],
            "signals": {
              "stars": 3,
              "forks": 0,
              "pushed_at": "2026-01-11T23:42:34Z",
              "created_at": "2025-12-31T14:31:58Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/add",
                "description": null,
                "path": "external/claude-code/plugins/twig/skills/twig-guide/references/commands/add.md",
                "frontmatter": null,
                "content": "# add subcommand\n\nCreate a new worktree with optional symlinks.\n\n## Usage\n\n```txt\ntwig add <name> [flags]\n```\n\n## Arguments\n\n- `<name>`: Branch name (required)\n\n## Flags\n\n| Flag                  | Short | Description                                        |\n|-----------------------|-------|----------------------------------------------------|\n| `--sync`              | `-s`  | Sync uncommitted changes to new worktree           |\n| `--carry [<branch>]`  | `-c`  | Carry uncommitted changes (optionally from branch) |\n| `--file <pattern>`    | `-F`  | File patterns to carry (requires `--carry`)        |\n| `--quiet`             | `-q`  | Output only the worktree path                      |\n| `--verbose`           | `-v`  | Enable verbose output                              |\n| `--source <branch>`   |       | Use specified branch's worktree as source          |\n| `--lock`              |       | Lock the worktree after creation                   |\n| `--reason <string>`   |       | Reason for locking (requires `--lock`)             |\n\n## Behavior\n\n- Creates worktree at `WorktreeDestBaseDir/<name>`\n- If the branch already exists, uses that branch\n- If the branch doesn't exist, creates a new branch with `-b` flag\n- Creates symlinks from source worktree to new worktree\n  based on `symlinks` patterns (see [Configuration](../configuration.md))\n- Warns when symlink patterns don't match any files\n\n### Sync Option\n\nWith `--sync`, uncommitted changes are copied to the new worktree:\n\n1. Stashes current changes\n2. Creates the new worktree\n3. Applies stash to new worktree\n4. Restores changes in the source worktree\n\nIf worktree creation or stash apply fails, changes are restored\nto the source worktree automatically.\n\n### Carry Option\n\nWith `--carry`, uncommitted changes are moved to the new worktree:\n\n1. Stashes changes from the specified source\n2. Creates the new worktree\n3. Applies stash to new worktree\n4. Drops the stash (source worktree becomes clean)\n\nUnlike `--sync` which copies changes to both worktrees, `--carry` moves\nchanges so that only the new worktree has them.\n\n```bash\n# Move current work to a new branch\ntwig add feat/new --carry\n\n# Move changes from main worktree\ntwig add feat/new --carry=main\n\n# Move changes from feat/a worktree\ntwig add feat/new --source main --carry=feat/a\n```\n\nThe `--carry` option accepts an optional value to specify where to take\nchanges from:\n\n| Value         | Description                                    |\n|---------------|------------------------------------------------|\n| (no value)    | Take changes from current worktree (default)   |\n| `<branch>`    | Take changes from specified branch's worktree  |\n\n#### Carrying Specific Files\n\nUse `--file` to carry only matching files:\n\n```bash\n# Carry only Go files in root\ntwig add feat/new --carry --file \"*.go\"\n\n# Carry all Go files recursively (globstar)\ntwig add feat/new --carry --file \"**/*.go\"\n\n# Carry multiple patterns\ntwig add feat/new --carry --file \"*.go\" --file \"cmd/**\"\n\n# Carry specific file from another worktree\ntwig add feat/new --carry=feat/a --file config.toml\n```\n\nPatterns support globstar (`**`) for recursive matching.\n\nWhen `--file` is specified:\n\n- Only matching files are stashed and carried to the new worktree\n- Non-matching files remain in the source worktree\n- The source worktree is not completely clean after carry\n\nWithout `--file`, all uncommitted changes are carried (default behavior).\n\nIf worktree creation or stash apply fails, changes are restored\nto the source worktree automatically.\n\nConstraints:\n\n- Cannot be used together with `--sync`\n- `--file` requires the `--carry` flag\n\n### Quiet Option\n\nWith `--quiet`, only the worktree path is output to stdout.\nThis is useful for piping to other commands.\n\n```bash\ncd $(twig add feat/x -q)\n```\n\nWhen `--quiet` is specified, `--verbose` is ignored.\n\n### Source Option\n\nWith `--source`, uses the specified branch's worktree as the source.\n\n```bash\n# From a derived worktree, create a new worktree based on main\ntwig add feat/new --source main\n```\n\nWhen `--source` is specified:\n\n- Settings are loaded from the source branch's worktree\n- Symlinks are created from the source branch's worktree\n- With `--sync`, changes are stashed from the source branch's worktree\n- With `--carry` (no value), changes are stashed from the current worktree\n- With `--carry=<branch>`, changes are stashed from the specified branch's\n  worktree\n\nConstraints:\n\n- The specified branch must have an existing worktree\n\nWhen used with `-C`:\n\n- `-C` sets the working directory and loads config from that location\n- `--source` searches for the branch within that directory's worktree group\n- This allows running `twig add` from outside any worktree\n\n```bash\n# From any directory, create worktree using repo's settings\ntwig add feat/new -C /path/to/repo --source main\n```\n\n### Lock Option\n\nWith `--lock`, the worktree is locked after creation to prevent automatic\npruning by `git worktree prune`. This is useful for worktrees on portable\ndevices or network shares that are not always mounted.\n\n```bash\n# Create a locked worktree\ntwig add feat/usb-work --lock\n\n# Create a locked worktree with a reason\ntwig add feat/usb-work --lock --reason \"USB drive work\"\n```\n\nThe `--reason` option requires `--lock` and adds an explanation for why\nthe worktree is locked. This reason is displayed by `git worktree list`.\n\nLocked worktrees require `--force` (or `-f -f`) to be moved or removed\nwith git commands.\n\n### Default Source Configuration\n\nThe default source branch can be configured in `.twig/settings.toml`:\n\n```toml\ndefault_source = \"main\"\n```\n\nPriority:\n\n1. CLI `--source` flag (highest)\n2. Config `default_source`\n3. Current worktree (lowest)\n\nWhen `-C` is specified, `default_source` from that directory's config is\napplied. This provides consistent behavior: the config loaded by `-C` is\nfully respected.\n\n```bash\n# If /path/to/repo has default_source = \"main\" in its config:\ntwig add feat/new -C /path/to/repo\n# This is equivalent to:\ntwig add feat/new -C /path/to/repo --source main\n```\n\nThe setting can be overridden in `.twig/settings.local.toml` for personal\npreferences:\n\n```toml\n# settings.local.toml\ndefault_source = \"develop\"\n```\n\nTo bypass `default_source` and use the current worktree, specify the current\nbranch with `--source`:\n\n```bash\n# Explicitly use current worktree instead of default_source\ntwig add feat/x --source feat/a  # assuming you're on feat/a\n```\n\n## Configuration\n\nSee [Configuration](../configuration.md) for details on settings files,\navailable fields, and merge rules.\n"
              },
              {
                "name": "/clean",
                "description": null,
                "path": "external/claude-code/plugins/twig/skills/twig-guide/references/commands/clean.md",
                "frontmatter": null,
                "content": "# clean subcommand\n\nRemove merged worktrees and prunable branches that are no longer needed.\n\n## Usage\n\n```txt\ntwig clean [flags]\n```\n\n## Flags\n\n| Flag              | Short | Description                                     |\n|-------------------|-------|-------------------------------------------------|\n| `--yes`           | `-y`  | Execute removal without confirmation            |\n| `--check`         |       | Show candidates without prompting               |\n| `--target`        |       | Target branch for merge check                   |\n| `--force`         | `-f`  | Force clean (can be specified twice, see below) |\n| `--verbose`       | `-v`  | Show skip reasons for skipped worktrees         |\n\n## Behavior\n\nBy default, shows candidates and prompts for confirmation before removing.\n\n| Flag      | Behavior                                 |\n|-----------|------------------------------------------|\n| (none)    | Show candidates, prompt, then execute    |\n| `--yes`   | Execute without confirmation             |\n| `--check` | Show candidates only (no prompt)         |\n\n### Interactive Confirmation\n\nWhen run without `--yes` or `--check`, the command displays candidates\nand prompts for confirmation:\n\n```txt\nclean:\n  feat/old-branch (merged)\n  fix/completed (upstream gone)\n\nProceed? [y/N]:\n```\n\nEnter `y` or `yes` (case-insensitive) to proceed with removal.\nAny other input aborts the operation without removing anything.\n\n### Safety Checks\n\nAll conditions must pass for a worktree to be cleaned:\n\n| Condition          | Description                                      |\n|--------------------|--------------------------------------------------|\n| Merged             | Branch is merged to target or upstream is gone   |\n| No changes         | No uncommitted changes                           |\n| Not locked         | Worktree is not locked                           |\n| Not current        | Not the current directory                        |\n| Not main           | Not the main worktree                            |\n\n### Prunable Branches\n\nWhen a worktree directory is deleted externally (via `rm -rf` or other means),\nthe branch remains but becomes prunable. The clean command detects these\nprunable branches and includes them as cleanup candidates.\n\nPrunable branches are identified by git's prunable status (from\n`git worktree list --porcelain`). Only branches that were previously\nassociated with a worktree are detected - regular branches created with\n`git branch` are not affected.\n\nSafety checks for prunable branches:\n\n| Condition | Description                                     |\n|-----------|-------------------------------------------------|\n| Merged    | Branch is merged to target or upstream is gone  |\n\nOther checks (locked, changes, current directory) don't apply since\nthe worktree no longer exists.\n\n### Force Option\n\nWith `--force` (`-f`), some safety checks can be bypassed:\n\n| Force Level | Bypassed Conditions                      |\n|-------------|------------------------------------------|\n| `-f`        | Uncommitted changes, not merged          |\n| `-ff`       | Above + locked worktrees                 |\n\nThe following conditions are never bypassed:\n\n- Current directory (dangerous to remove cwd)\n- Detached HEAD (RemoveCommand requires branch name)\n\nThis matches `twig remove` behavior where `-f` removes unclean worktrees\nand `-ff` also removes locked worktrees.\n\n```bash\n# Force clean unmerged branches with uncommitted changes\ntwig clean -f --yes\n\n# Also force clean locked worktrees\ntwig clean -ff --yes\n```\n\n### Target Branch Detection\n\nIf `--target` is not specified, auto-detects from the first\nnon-bare worktree (usually main).\n\n### Additional Actions\n\nThe command also runs `git worktree prune` to clean up references\nto worktrees that no longer exist.\n\n## Output Format\n\nOutput is grouped by status with indentation. Each candidate shows the\nreason why it is cleanable:\n\n```txt\nclean:\n  feat/old-branch (merged)\n  fix/completed (upstream gone)\n  feat/stale-branch (prunable, merged)\n\nskip:\n  feat/wip (not merged)\n  feat/active (has uncommitted changes)\n```\n\n- `clean:` shows worktrees and prunable branches that will be removed\n- `skip:` shows skipped worktrees (verbose mode only)\n- Each item is indented with 2 spaces\n- A blank line separates groups\n\nClean reasons:\n\n| Reason           | Description                                     |\n|------------------|-------------------------------------------------|\n| `merged`         | Branch is merged to target branch               |\n| `upstream gone`  | Remote tracking branch was deleted              |\n| `prunable, ...`  | Worktree directory was deleted externally       |\n\n## Examples\n\n```txt\n# Show candidates with confirmation prompt (default)\ntwig clean\nclean:\n  feature/old-branch (merged)\n  fix/completed (upstream gone)\n\nProceed? [y/N]: y\ntwig clean: feature/old-branch\ntwig clean: fix/completed\n\n# Show with skip reasons\ntwig clean -v\nclean:\n  feature/old-branch (merged)\n\nskip:\n  feature/active (has uncommitted changes)\n  feature/wip (not merged)\n\nProceed? [y/N]:\n\n# Remove without confirmation\ntwig clean --yes\ntwig clean: feature/old-branch\ntwig clean: fix/completed\n\n# Only check candidates (no prompt, no removal)\ntwig clean --check\nclean:\n  feature/old-branch (merged)\n  fix/completed (upstream gone)\n\n# Check against specific branch\ntwig clean --target develop\n\n# Clean with prunable branches\ntwig clean --check\nclean:\n  feature/old-branch (merged)\n  feature/deleted-worktree (prunable, merged)\n```\n\n## Exit Code\n\n- 0: Success (or no candidates to clean)\n- 1: Error occurred during cleanup\n"
              },
              {
                "name": "/init",
                "description": null,
                "path": "external/claude-code/plugins/twig/skills/twig-guide/references/commands/init.md",
                "frontmatter": null,
                "content": "# init subcommand\n\nInitialize twig configuration in the current directory.\n\n## Usage\n\n```txt\ntwig init [flags]\n```\n\n## Flags\n\n| Flag      | Short | Description                        |\n|-----------|-------|------------------------------------|\n| `--force` | `-f`  | Overwrite existing configuration   |\n\n## Behavior\n\n- Creates `.twig/` directory if it doesn't exist\n- Generates `.twig/settings.toml` with default configuration template\n- If `settings.toml` already exists, skips creation (unless `--force` is used)\n\nSee [Configuration](../configuration.md) for available settings.\n\n## Examples\n\n```txt\n# Initialize twig in current directory\ntwig init\nCreated .twig/settings.toml\n\n# Running again without force skips\ntwig init\nSkipped .twig/settings.toml (already exists)\n\n# Force overwrite existing configuration\ntwig init --force\nCreated .twig/settings.toml (overwritten)\n```\n"
              },
              {
                "name": "/list",
                "description": null,
                "path": "external/claude-code/plugins/twig/skills/twig-guide/references/commands/list.md",
                "frontmatter": null,
                "content": "# list subcommand\n\nList all worktrees.\n\n## Usage\n\n```txt\ntwig list [flags]\n```\n\n## Flags\n\n| Flag      | Short | Description                 |\n|-----------|-------|-----------------------------|\n| `--quiet` | `-q`  | Output only worktree paths  |\n\n## Behavior\n\n- Lists all worktrees including the main worktree\n- Default output shows path, commit hash, and branch name\n  (compatible with `git worktree list`)\n- With `--quiet`: shows only worktree paths\n\n## Examples\n\n```txt\n# Default output (git worktree list compatible)\ntwig list\n/Users/user/repo                                   abc1234 [main]\n/Users/user/repo-worktree/feat/add-list-command    def5678 [feat/add-list-command]\n/Users/user/repo-worktree/feat/add-move-command    012abcd [feat/add-move-command]\n\n# Quiet output (paths only, for scripting)\ntwig list -q\n/Users/user/repo\n/Users/user/repo-worktree/feat/add-list-command\n/Users/user/repo-worktree/feat/add-move-command\n```\n\n## Shell Integration\n\nCombine with fzf for quick worktree navigation:\n\n```bash\ngcd() {\n  local selected\n  selected=$(twig list -q | fzf +m) &&\n  cd \"$selected\"\n}\n```\n"
              },
              {
                "name": "/remove",
                "description": null,
                "path": "external/claude-code/plugins/twig/skills/twig-guide/references/commands/remove.md",
                "frontmatter": null,
                "content": "# remove subcommand\n\nRemove worktrees and delete their associated branches.\n\n## Usage\n\n```txt\ntwig remove <branch>... [flags]\n```\n\n## Arguments\n\n- `<branch>...`: One or more branch names to remove (required)\n\n## Flags\n\n| Flag        | Short | Description                                       |\n|-------------|-------|---------------------------------------------------|\n| `--force`   | `-f`  | Force removal (can be specified twice, see below) |\n| `--dry-run` |       | Show what would be removed                        |\n| `--verbose` | `-v`  | Enable verbose output                             |\n\n## Behavior\n\n- Finds the worktree path by looking up the branch name\n- Prevents removal if current directory is inside the target worktree\n- Cleans up empty parent directories after removal (see below)\n- With `--dry-run`: prints what would be removed without making changes\n- Without `--force`: fails if there are uncommitted changes,\n  the branch is not merged, or the worktree is locked\n- With `-f` (once): bypasses uncommitted changes and unmerged branch checks\n- With `-ff` (twice): also bypasses locked worktree checks\n\nThis matches git's behavior where `git worktree remove -f` removes unclean\nworktrees and `git worktree remove -f -f` also removes locked worktrees.\n\n### Prunable Worktrees\n\nWhen a worktree directory is deleted externally (via `rm -rf` or other means),\nthe branch remains but the worktree becomes \"prunable\". The remove command\nhandles this gracefully:\n\n```bash\n# Worktree deleted externally\nrm -rf /path/to/feat/x\n\n# twig remove still works - prunes the stale record and deletes the branch\ntwig remove feat/x\n```\n\nFor prunable worktrees:\n\n- Stale worktree records are pruned automatically\n- Branch is deleted as usual\n- No cwd check is performed (directory doesn't exist)\n- `--dry-run` shows \"Would prune stale worktree record\"\n\n### Empty Directory Cleanup\n\nAfter removing a worktree, twig automatically removes any empty parent\ndirectories up to `WorktreeDestBaseDir`. This prevents orphan directories\nfrom blocking future branch creation.\n\nExample:\n\n```txt\n# Remove feat/test worktree\ntwig remove feat/test\n\n# If feat/ directory is now empty, it is also removed\n# This allows creating a 'feat' branch later\n```\n\nThe cleanup is safe:\n\n- Only removes empty directories\n- Stops at `WorktreeDestBaseDir` boundary\n- Preserves directories containing other worktrees or files\n- Cleanup errors are non-fatal (main operation succeeds)\n\n## Multiple Branches\n\nWhen multiple branches are specified, errors on individual branches\ndo not stop processing of remaining branches. All results and errors\nare reported at the end.\n\n```txt\n# Remove multiple worktrees\ntwig remove feature/a feature/b feature/c\n```\n\n## Exit Code\n\n- 0: All branches removed successfully\n- 1: One or more branches failed to remove\n"
              },
              {
                "name": "/version",
                "description": null,
                "path": "external/claude-code/plugins/twig/skills/twig-guide/references/commands/version.md",
                "frontmatter": null,
                "content": "# version subcommand\n\nPrint version information.\n\n## Usage\n\n```txt\ntwig version\ntwig --version\n```\n\n## Behavior\n\n- `twig version`: Displays version, commit hash, and build date\n- `twig --version`: Displays version only\n- Version is embedded at build time via ldflags\n- Local builds show \"dev\" as the version\n\n## Examples\n\n```txt\n# Detailed output (subcommand)\ntwig version\nversion: v1.0.0\ncommit:  abc1234\ndate:    2025-01-06T12:00:00Z\n\n# Short output (flag)\ntwig --version\nv1.0.0\n\n# Local development build\ntwig version\nversion: dev\ncommit:  def5678\ndate:    2025-01-06T10:30:00Z\n```\n"
              }
            ],
            "skills": [
              {
                "name": "twig-guide",
                "description": "This skill should be used when the user:\n- Wants to work on multiple branches simultaneously or in parallel\n- Needs to start a new feature/task while preserving current work\n- Asks about git worktree operations (create, remove, list, clean)\n- Mentions \"twig\" commands (add, remove, clean, list, init)\n- Wants to carry or move uncommitted changes to a new branch\n- Wants to copy/sync changes between branches\n- Needs to isolate work in a separate directory\n- Asks about switching context without stashing\n- Wants to clean up old/merged branches and their worktrees\n- Says phrases like \"new worktree\", \"create worktree\", \"branch off\",\n  \"work on something else\", \"start new work\", \"parallel work\",\n  \"separate workspace\", \"another branch\"\n\nUse this skill for ANY worktree-related operation, not just when\nexplicitly asking about twig.\n",
                "path": "external/claude-code/plugins/twig/skills/twig-guide/SKILL.md",
                "frontmatter": {
                  "name": "twig-guide",
                  "description": "This skill should be used when the user:\n- Wants to work on multiple branches simultaneously or in parallel\n- Needs to start a new feature/task while preserving current work\n- Asks about git worktree operations (create, remove, list, clean)\n- Mentions \"twig\" commands (add, remove, clean, list, init)\n- Wants to carry or move uncommitted changes to a new branch\n- Wants to copy/sync changes between branches\n- Needs to isolate work in a separate directory\n- Asks about switching context without stashing\n- Wants to clean up old/merged branches and their worktrees\n- Says phrases like \"new worktree\", \"create worktree\", \"branch off\",\n  \"work on something else\", \"start new work\", \"parallel work\",\n  \"separate workspace\", \"another branch\"\n\nUse this skill for ANY worktree-related operation, not just when\nexplicitly asking about twig.\n",
                  "allowed-tools": "Read"
                },
                "content": "# twig CLI Guide\n\ntwig is a CLI tool that simplifies git worktree workflows by automating branch\ncreation, symlinks, and change management in a single command.\n\n## Commands Overview\n\n| Command | Purpose |\n| ------- | ------- |\n| `twig init` | Initialize twig configuration |\n| `twig add <name>` | Create a new worktree with symlinks |\n| `twig remove <branch>...` | Remove worktrees and their branches |\n| `twig list` | List all worktrees |\n| `twig clean` | Remove unneeded worktrees |\n\n## Typical Workflows\n\n### Start new feature work\n\nCreate a new worktree for a feature branch:\n\n```bash\ntwig add feat/new-feature\n```\n\nThis creates a worktree at the configured destination directory, creates\na new branch if it doesn't exist, and sets up symlinks.\n\n### Move current changes to a new branch\n\nWhen you realize current work should be on a different branch:\n\n```bash\ntwig add feat/correct-branch --carry\n```\n\nThe `--carry` flag moves uncommitted changes to the new worktree.\nThe source worktree becomes clean.\n\n### Copy changes to a new branch\n\nWhen you want changes in both the current and new worktree:\n\n```bash\ntwig add feat/experiment --sync\n```\n\nThe `--sync` flag copies uncommitted changes to both worktrees.\n\n### Carry only specific files\n\nWhen you want to carry only certain files:\n\n```bash\ntwig add feat/new --carry --file \"*.go\" --file \"cmd/**\"\n```\n\n### Clean up after merging\n\nRemove worktrees for branches that have been merged:\n\n```bash\ntwig clean\n```\n\nThis shows candidates and prompts for confirmation. Use `--yes` to skip\nthe prompt.\n\n### Force remove a worktree\n\nRemove a worktree even with uncommitted changes:\n\n```bash\ntwig remove feat/abandoned -f\n```\n\nUse `-ff` to also remove locked worktrees.\n\n## Configuration\n\nsee ./references/configuration.md\n\n## Command Details\n\nFor detailed information on each command, refer to:\n\n- ./references/commands/add.md - Create worktrees with sync/carry options\n- ./references/commands/remove.md - Remove worktrees and branches\n- ./references/commands/list.md - List worktrees\n- ./references/commands/clean.md - Clean merged worktrees\n- ./references/commands/init.md - Initialize configuration\n- ./references/configuration.md - Configuration file details"
              }
            ]
          }
        ]
      }
    }
  ]
}