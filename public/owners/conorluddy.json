{
  "owner": {
    "id": "conorluddy",
    "display_name": "Conor",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/846373?u=d5ef05f5b3be52e76e0b8386a95a08ce3e123f8b&v=4",
    "url": "https://github.com/conorluddy",
    "bio": "Dublin\r\n",
    "stats": {
      "total_repos": 1,
      "total_plugins": 1,
      "total_commands": 0,
      "total_skills": 8,
      "total_stars": 48,
      "total_forks": 7
    }
  },
  "repos": [
    {
      "full_name": "conorluddy/xclaude-plugin",
      "url": "https://github.com/conorluddy/xclaude-plugin",
      "description": "iOS development ClaudeCode plugin for mindful token and context usage. Contains modular MCPs that group various Xcode/IDB tools based on your current workflow.",
      "homepage": "",
      "signals": {
        "stars": 48,
        "forks": 7,
        "pushed_at": "2026-01-09T13:45:51Z",
        "created_at": "2025-11-06T19:02:07Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 875
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 2161
        },
        {
          "path": ".github",
          "type": "tree",
          "size": null
        },
        {
          "path": ".github/workflows",
          "type": "tree",
          "size": null
        },
        {
          "path": ".github/workflows/ci.yml",
          "type": "blob",
          "size": 975
        },
        {
          "path": ".github/workflows/claude-code-review.yml",
          "type": "blob",
          "size": 1964
        },
        {
          "path": ".gitignore",
          "type": "blob",
          "size": 421
        },
        {
          "path": ".husky",
          "type": "tree",
          "size": null
        },
        {
          "path": ".husky/pre-commit",
          "type": "blob",
          "size": 608
        },
        {
          "path": ".mcp.json",
          "type": "blob",
          "size": 385
        },
        {
          "path": ".mcp.json.example",
          "type": "blob",
          "size": 1479
        },
        {
          "path": ".prettierignore",
          "type": "blob",
          "size": 87
        },
        {
          "path": ".xcplugin.example",
          "type": "blob",
          "size": 92
        },
        {
          "path": "CLAUDE.md",
          "type": "blob",
          "size": 7564
        },
        {
          "path": "CODESTYLE.md",
          "type": "blob",
          "size": 13355
        },
        {
          "path": "LICENSE",
          "type": "blob",
          "size": 1068
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 23527
        },
        {
          "path": "codecov.yml",
          "type": "blob",
          "size": 713
        },
        {
          "path": "mcp-servers",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/IMPLEMENTATION.md",
          "type": "blob",
          "size": 7012
        },
        {
          "path": "mcp-servers/README.md",
          "type": "blob",
          "size": 11398
        },
        {
          "path": "mcp-servers/__tests__",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/__tests__/fixtures",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/__tests__/fixtures/xcode-outputs.ts",
          "type": "blob",
          "size": 1900
        },
        {
          "path": "mcp-servers/__tests__/tools",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/__tests__/tools/idb",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/__tests__/tools/idb/check-quality.test.ts",
          "type": "blob",
          "size": 8126
        },
        {
          "path": "mcp-servers/__tests__/tools/idb/describe.test.ts",
          "type": "blob",
          "size": 5675
        },
        {
          "path": "mcp-servers/__tests__/tools/idb/find-element.test.ts",
          "type": "blob",
          "size": 6999
        },
        {
          "path": "mcp-servers/__tests__/tools/idb/gesture.test.ts",
          "type": "blob",
          "size": 6776
        },
        {
          "path": "mcp-servers/__tests__/tools/idb/input.test.ts",
          "type": "blob",
          "size": 5363
        },
        {
          "path": "mcp-servers/__tests__/tools/idb/tap.test.ts",
          "type": "blob",
          "size": 5537
        },
        {
          "path": "mcp-servers/__tests__/tools/simulator",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/__tests__/tools/simulator/boot.test.ts",
          "type": "blob",
          "size": 3246
        },
        {
          "path": "mcp-servers/__tests__/tools/simulator/health-check.test.ts",
          "type": "blob",
          "size": 3299
        },
        {
          "path": "mcp-servers/__tests__/tools/simulator/install-app.test.ts",
          "type": "blob",
          "size": 5350
        },
        {
          "path": "mcp-servers/__tests__/tools/simulator/launch-app.test.ts",
          "type": "blob",
          "size": 6417
        },
        {
          "path": "mcp-servers/__tests__/tools/simulator/list.test.ts",
          "type": "blob",
          "size": 2827
        },
        {
          "path": "mcp-servers/__tests__/tools/simulator/screenshot.test.ts",
          "type": "blob",
          "size": 3802
        },
        {
          "path": "mcp-servers/__tests__/tools/xcode",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/__tests__/tools/xcode/build.test.ts",
          "type": "blob",
          "size": 12756
        },
        {
          "path": "mcp-servers/__tests__/tools/xcode/clean.test.ts",
          "type": "blob",
          "size": 4263
        },
        {
          "path": "mcp-servers/__tests__/tools/xcode/list.test.ts",
          "type": "blob",
          "size": 4894
        },
        {
          "path": "mcp-servers/__tests__/tools/xcode/test.test.ts",
          "type": "blob",
          "size": 6214
        },
        {
          "path": "mcp-servers/__tests__/tools/xcode/version.test.ts",
          "type": "blob",
          "size": 1650
        },
        {
          "path": "mcp-servers/__tests__/utils",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/__tests__/utils/config.test.ts",
          "type": "blob",
          "size": 15133
        },
        {
          "path": "mcp-servers/__tests__/utils/destination.test.ts",
          "type": "blob",
          "size": 13193
        },
        {
          "path": "mcp-servers/build.sh",
          "type": "blob",
          "size": 1257
        },
        {
          "path": "mcp-servers/package-lock.json",
          "type": "blob",
          "size": 113744
        },
        {
          "path": "mcp-servers/package.json",
          "type": "blob",
          "size": 1491
        },
        {
          "path": "mcp-servers/shared",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/shared/tools",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/shared/tools/idb",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/shared/tools/idb/check-quality.d.ts.map",
          "type": "blob",
          "size": 375
        },
        {
          "path": "mcp-servers/shared/tools/idb/check-quality.ts",
          "type": "blob",
          "size": 3146
        },
        {
          "path": "mcp-servers/shared/tools/idb/describe.d.ts.map",
          "type": "blob",
          "size": 358
        },
        {
          "path": "mcp-servers/shared/tools/idb/describe.ts",
          "type": "blob",
          "size": 3233
        },
        {
          "path": "mcp-servers/shared/tools/idb/find-element.d.ts.map",
          "type": "blob",
          "size": 372
        },
        {
          "path": "mcp-servers/shared/tools/idb/find-element.ts",
          "type": "blob",
          "size": 2676
        },
        {
          "path": "mcp-servers/shared/tools/idb/gesture.d.ts.map",
          "type": "blob",
          "size": 356
        },
        {
          "path": "mcp-servers/shared/tools/idb/gesture.ts",
          "type": "blob",
          "size": 4598
        },
        {
          "path": "mcp-servers/shared/tools/idb/input.d.ts.map",
          "type": "blob",
          "size": 348
        },
        {
          "path": "mcp-servers/shared/tools/idb/input.ts",
          "type": "blob",
          "size": 2942
        },
        {
          "path": "mcp-servers/shared/tools/idb/tap.d.ts.map",
          "type": "blob",
          "size": 344
        },
        {
          "path": "mcp-servers/shared/tools/idb/tap.ts",
          "type": "blob",
          "size": 2512
        },
        {
          "path": "mcp-servers/shared/tools/simulator",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/shared/tools/simulator/boot.d.ts.map",
          "type": "blob",
          "size": 355
        },
        {
          "path": "mcp-servers/shared/tools/simulator/boot.ts",
          "type": "blob",
          "size": 1765
        },
        {
          "path": "mcp-servers/shared/tools/simulator/create.d.ts.map",
          "type": "blob",
          "size": 360
        },
        {
          "path": "mcp-servers/shared/tools/simulator/create.ts",
          "type": "blob",
          "size": 2228
        },
        {
          "path": "mcp-servers/shared/tools/simulator/delete.d.ts.map",
          "type": "blob",
          "size": 359
        },
        {
          "path": "mcp-servers/shared/tools/simulator/delete.ts",
          "type": "blob",
          "size": 1677
        },
        {
          "path": "mcp-servers/shared/tools/simulator/get-app-container.d.ts.map",
          "type": "blob",
          "size": 380
        },
        {
          "path": "mcp-servers/shared/tools/simulator/get-app-container.ts",
          "type": "blob",
          "size": 2364
        },
        {
          "path": "mcp-servers/shared/tools/simulator/health-check.d.ts.map",
          "type": "blob",
          "size": 373
        },
        {
          "path": "mcp-servers/shared/tools/simulator/health-check.ts",
          "type": "blob",
          "size": 1936
        },
        {
          "path": "mcp-servers/shared/tools/simulator/install-app.d.ts.map",
          "type": "blob",
          "size": 372
        },
        {
          "path": "mcp-servers/shared/tools/simulator/install-app.ts",
          "type": "blob",
          "size": 2752
        },
        {
          "path": "mcp-servers/shared/tools/simulator/launch-app.d.ts.map",
          "type": "blob",
          "size": 370
        },
        {
          "path": "mcp-servers/shared/tools/simulator/launch-app.ts",
          "type": "blob",
          "size": 3204
        },
        {
          "path": "mcp-servers/shared/tools/simulator/list.d.ts.map",
          "type": "blob",
          "size": 357
        },
        {
          "path": "mcp-servers/shared/tools/simulator/list.ts",
          "type": "blob",
          "size": 2572
        },
        {
          "path": "mcp-servers/shared/tools/simulator/openurl.d.ts.map",
          "type": "blob",
          "size": 360
        },
        {
          "path": "mcp-servers/shared/tools/simulator/openurl.ts",
          "type": "blob",
          "size": 1904
        },
        {
          "path": "mcp-servers/shared/tools/simulator/screenshot.d.ts.map",
          "type": "blob",
          "size": 360
        },
        {
          "path": "mcp-servers/shared/tools/simulator/screenshot.ts",
          "type": "blob",
          "size": 1839
        },
        {
          "path": "mcp-servers/shared/tools/simulator/shutdown.d.ts.map",
          "type": "blob",
          "size": 365
        },
        {
          "path": "mcp-servers/shared/tools/simulator/shutdown.ts",
          "type": "blob",
          "size": 1733
        },
        {
          "path": "mcp-servers/shared/tools/simulator/terminate-app.d.ts.map",
          "type": "blob",
          "size": 376
        },
        {
          "path": "mcp-servers/shared/tools/simulator/terminate-app.ts",
          "type": "blob",
          "size": 1985
        },
        {
          "path": "mcp-servers/shared/tools/xcode",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/shared/tools/xcode/build.d.ts.map",
          "type": "blob",
          "size": 389
        },
        {
          "path": "mcp-servers/shared/tools/xcode/build.ts",
          "type": "blob",
          "size": 4322
        },
        {
          "path": "mcp-servers/shared/tools/xcode/clean.d.ts.map",
          "type": "blob",
          "size": 348
        },
        {
          "path": "mcp-servers/shared/tools/xcode/clean.ts",
          "type": "blob",
          "size": 2268
        },
        {
          "path": "mcp-servers/shared/tools/xcode/list.d.ts.map",
          "type": "blob",
          "size": 345
        },
        {
          "path": "mcp-servers/shared/tools/xcode/list.ts",
          "type": "blob",
          "size": 2493
        },
        {
          "path": "mcp-servers/shared/tools/xcode/test.d.ts.map",
          "type": "blob",
          "size": 346
        },
        {
          "path": "mcp-servers/shared/tools/xcode/test.ts",
          "type": "blob",
          "size": 4427
        },
        {
          "path": "mcp-servers/shared/tools/xcode/version.d.ts.map",
          "type": "blob",
          "size": 355
        },
        {
          "path": "mcp-servers/shared/tools/xcode/version.ts",
          "type": "blob",
          "size": 1899
        },
        {
          "path": "mcp-servers/shared/types",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/shared/types/base.d.ts.map",
          "type": "blob",
          "size": 867
        },
        {
          "path": "mcp-servers/shared/types/base.ts",
          "type": "blob",
          "size": 817
        },
        {
          "path": "mcp-servers/shared/types/idb.d.ts.map",
          "type": "blob",
          "size": 3153
        },
        {
          "path": "mcp-servers/shared/types/idb.ts",
          "type": "blob",
          "size": 3020
        },
        {
          "path": "mcp-servers/shared/types/simulator.d.ts.map",
          "type": "blob",
          "size": 2175
        },
        {
          "path": "mcp-servers/shared/types/simulator.ts",
          "type": "blob",
          "size": 2699
        },
        {
          "path": "mcp-servers/shared/types/xcode.d.ts.map",
          "type": "blob",
          "size": 1626
        },
        {
          "path": "mcp-servers/shared/types/xcode.ts",
          "type": "blob",
          "size": 2137
        },
        {
          "path": "mcp-servers/shared/utils",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/shared/utils/command.d.ts.map",
          "type": "blob",
          "size": 603
        },
        {
          "path": "mcp-servers/shared/utils/command.ts",
          "type": "blob",
          "size": 4153
        },
        {
          "path": "mcp-servers/shared/utils/config.ts",
          "type": "blob",
          "size": 6528
        },
        {
          "path": "mcp-servers/shared/utils/constants.d.ts.map",
          "type": "blob",
          "size": 269
        },
        {
          "path": "mcp-servers/shared/utils/constants.ts",
          "type": "blob",
          "size": 2162
        },
        {
          "path": "mcp-servers/shared/utils/destination.ts",
          "type": "blob",
          "size": 9378
        },
        {
          "path": "mcp-servers/shared/utils/logger.d.ts.map",
          "type": "blob",
          "size": 228
        },
        {
          "path": "mcp-servers/shared/utils/logger.ts",
          "type": "blob",
          "size": 943
        },
        {
          "path": "mcp-servers/shared/utils/simulator.ts",
          "type": "blob",
          "size": 3855
        },
        {
          "path": "mcp-servers/vitest.config.ts",
          "type": "blob",
          "size": 457
        },
        {
          "path": "mcp-servers/xc-ai-assist",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/index.js",
          "type": "blob",
          "size": 333443
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/shared",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/shared/tools",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/shared/tools/idb",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/shared/tools/idb/check-quality.js",
          "type": "blob",
          "size": 3099
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/shared/tools/idb/describe.js",
          "type": "blob",
          "size": 3493
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/shared/tools/idb/find-element.js",
          "type": "blob",
          "size": 2776
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/shared/tools/idb/input.js",
          "type": "blob",
          "size": 3199
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/shared/tools/idb/tap.js",
          "type": "blob",
          "size": 2668
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/shared/tools/simulator",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/shared/tools/simulator/screenshot.js",
          "type": "blob",
          "size": 1842
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/shared/tools/xcode",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/shared/tools/xcode/build.js",
          "type": "blob",
          "size": 4514
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/shared/types",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/shared/types/base.js",
          "type": "blob",
          "size": 51
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/shared/types/idb.js",
          "type": "blob",
          "size": 37
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/shared/types/simulator.js",
          "type": "blob",
          "size": 43
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/shared/types/xcode.js",
          "type": "blob",
          "size": 39
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/shared/utils",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/shared/utils/command.js",
          "type": "blob",
          "size": 4345
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/shared/utils/config.js",
          "type": "blob",
          "size": 5680
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/shared/utils/constants.js",
          "type": "blob",
          "size": 2143
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/shared/utils/destination.js",
          "type": "blob",
          "size": 9036
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/shared/utils/logger.js",
          "type": "blob",
          "size": 837
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/shared/utils/simulator.js",
          "type": "blob",
          "size": 4115
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/xc-ai-assist",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/xc-ai-assist/src",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-ai-assist/dist/xc-ai-assist/src/index.js",
          "type": "blob",
          "size": 3934
        },
        {
          "path": "mcp-servers/xc-ai-assist/package.json",
          "type": "blob",
          "size": 818
        },
        {
          "path": "mcp-servers/xc-ai-assist/src",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-ai-assist/src/index.ts",
          "type": "blob",
          "size": 3955
        },
        {
          "path": "mcp-servers/xc-ai-assist/tsconfig.json",
          "type": "blob",
          "size": 433
        },
        {
          "path": "mcp-servers/xc-all",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-all/dist",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-all/dist/index.js",
          "type": "blob",
          "size": 351796
        },
        {
          "path": "mcp-servers/xc-all/dist/shared",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/idb",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/idb/check-quality.js",
          "type": "blob",
          "size": 3099
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/idb/describe.js",
          "type": "blob",
          "size": 3493
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/idb/find-element.js",
          "type": "blob",
          "size": 2776
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/idb/gesture.js",
          "type": "blob",
          "size": 5234
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/idb/input.js",
          "type": "blob",
          "size": 3199
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/idb/tap.js",
          "type": "blob",
          "size": 2668
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/simulator",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/simulator/boot.js",
          "type": "blob",
          "size": 1715
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/simulator/create.js",
          "type": "blob",
          "size": 2273
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/simulator/delete.js",
          "type": "blob",
          "size": 1613
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/simulator/get-app-container.js",
          "type": "blob",
          "size": 2453
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/simulator/health-check.js",
          "type": "blob",
          "size": 1905
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/simulator/install-app.js",
          "type": "blob",
          "size": 2670
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/simulator/launch-app.js",
          "type": "blob",
          "size": 3131
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/simulator/list.js",
          "type": "blob",
          "size": 2672
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/simulator/openurl.js",
          "type": "blob",
          "size": 1902
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/simulator/screenshot.js",
          "type": "blob",
          "size": 1842
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/simulator/shutdown.js",
          "type": "blob",
          "size": 1669
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/simulator/terminate-app.js",
          "type": "blob",
          "size": 1967
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/xcode",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/xcode/build-and-launch.js",
          "type": "blob",
          "size": 15357
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/xcode/build.js",
          "type": "blob",
          "size": 4514
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/xcode/clean.js",
          "type": "blob",
          "size": 2363
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/xcode/list.js",
          "type": "blob",
          "size": 2549
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/xcode/test.js",
          "type": "blob",
          "size": 4804
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/tools/xcode/version.js",
          "type": "blob",
          "size": 1857
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/types",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/types/base.js",
          "type": "blob",
          "size": 51
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/types/idb.js",
          "type": "blob",
          "size": 37
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/types/simulator.js",
          "type": "blob",
          "size": 43
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/types/xcode.js",
          "type": "blob",
          "size": 39
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/utils",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/utils/command.js",
          "type": "blob",
          "size": 4345
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/utils/config.js",
          "type": "blob",
          "size": 5680
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/utils/constants.js",
          "type": "blob",
          "size": 2143
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/utils/destination.js",
          "type": "blob",
          "size": 9036
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/utils/logger.js",
          "type": "blob",
          "size": 837
        },
        {
          "path": "mcp-servers/xc-all/dist/shared/utils/simulator.js",
          "type": "blob",
          "size": 4115
        },
        {
          "path": "mcp-servers/xc-all/dist/xc-all",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-all/dist/xc-all/src",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-all/dist/xc-all/src/index.js",
          "type": "blob",
          "size": 12888
        },
        {
          "path": "mcp-servers/xc-all/package.json",
          "type": "blob",
          "size": 816
        },
        {
          "path": "mcp-servers/xc-all/src",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-all/src/index.ts",
          "type": "blob",
          "size": 13252
        },
        {
          "path": "mcp-servers/xc-all/tsconfig.json",
          "type": "blob",
          "size": 433
        },
        {
          "path": "mcp-servers/xc-build",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-build/dist",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-build/dist/index.js",
          "type": "blob",
          "size": 326751
        },
        {
          "path": "mcp-servers/xc-build/dist/shared",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-build/dist/shared/tools",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-build/dist/shared/tools/xcode",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-build/dist/shared/tools/xcode/build.js",
          "type": "blob",
          "size": 4514
        },
        {
          "path": "mcp-servers/xc-build/dist/shared/tools/xcode/clean.js",
          "type": "blob",
          "size": 2363
        },
        {
          "path": "mcp-servers/xc-build/dist/shared/tools/xcode/list.js",
          "type": "blob",
          "size": 2549
        },
        {
          "path": "mcp-servers/xc-build/dist/shared/types",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-build/dist/shared/types/base.js",
          "type": "blob",
          "size": 51
        },
        {
          "path": "mcp-servers/xc-build/dist/shared/types/xcode.js",
          "type": "blob",
          "size": 39
        },
        {
          "path": "mcp-servers/xc-build/dist/shared/utils",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-build/dist/shared/utils/command.js",
          "type": "blob",
          "size": 4345
        },
        {
          "path": "mcp-servers/xc-build/dist/shared/utils/config.js",
          "type": "blob",
          "size": 5680
        },
        {
          "path": "mcp-servers/xc-build/dist/shared/utils/constants.js",
          "type": "blob",
          "size": 2143
        },
        {
          "path": "mcp-servers/xc-build/dist/shared/utils/destination.js",
          "type": "blob",
          "size": 9036
        },
        {
          "path": "mcp-servers/xc-build/dist/shared/utils/logger.js",
          "type": "blob",
          "size": 837
        },
        {
          "path": "mcp-servers/xc-build/dist/xc-build",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-build/dist/xc-build/src",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-build/dist/xc-build/src/index.js",
          "type": "blob",
          "size": 2373
        },
        {
          "path": "mcp-servers/xc-build/package.json",
          "type": "blob",
          "size": 792
        },
        {
          "path": "mcp-servers/xc-build/src",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-build/src/index.ts",
          "type": "blob",
          "size": 2394
        },
        {
          "path": "mcp-servers/xc-build/tsconfig.json",
          "type": "blob",
          "size": 433
        },
        {
          "path": "mcp-servers/xc-interact",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-interact/dist",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-interact/dist/index.js",
          "type": "blob",
          "size": 328544
        },
        {
          "path": "mcp-servers/xc-interact/dist/shared",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-interact/dist/shared/tools",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-interact/dist/shared/tools/idb",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-interact/dist/shared/tools/idb/check-quality.js",
          "type": "blob",
          "size": 3099
        },
        {
          "path": "mcp-servers/xc-interact/dist/shared/tools/idb/describe.js",
          "type": "blob",
          "size": 3493
        },
        {
          "path": "mcp-servers/xc-interact/dist/shared/tools/idb/find-element.js",
          "type": "blob",
          "size": 2776
        },
        {
          "path": "mcp-servers/xc-interact/dist/shared/tools/idb/gesture.js",
          "type": "blob",
          "size": 5234
        },
        {
          "path": "mcp-servers/xc-interact/dist/shared/tools/idb/input.js",
          "type": "blob",
          "size": 3199
        },
        {
          "path": "mcp-servers/xc-interact/dist/shared/tools/idb/tap.js",
          "type": "blob",
          "size": 2668
        },
        {
          "path": "mcp-servers/xc-interact/dist/shared/types",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-interact/dist/shared/types/base.js",
          "type": "blob",
          "size": 51
        },
        {
          "path": "mcp-servers/xc-interact/dist/shared/types/idb.js",
          "type": "blob",
          "size": 37
        },
        {
          "path": "mcp-servers/xc-interact/dist/shared/utils",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-interact/dist/shared/utils/command.js",
          "type": "blob",
          "size": 4345
        },
        {
          "path": "mcp-servers/xc-interact/dist/shared/utils/constants.js",
          "type": "blob",
          "size": 2143
        },
        {
          "path": "mcp-servers/xc-interact/dist/shared/utils/logger.js",
          "type": "blob",
          "size": 837
        },
        {
          "path": "mcp-servers/xc-interact/dist/shared/utils/simulator.js",
          "type": "blob",
          "size": 4115
        },
        {
          "path": "mcp-servers/xc-interact/dist/xc-interact",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-interact/dist/xc-interact/src",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-interact/dist/xc-interact/src/index.js",
          "type": "blob",
          "size": 3185
        },
        {
          "path": "mcp-servers/xc-interact/package.json",
          "type": "blob",
          "size": 814
        },
        {
          "path": "mcp-servers/xc-interact/src",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-interact/src/index.ts",
          "type": "blob",
          "size": 3253
        },
        {
          "path": "mcp-servers/xc-interact/tsconfig.json",
          "type": "blob",
          "size": 433
        },
        {
          "path": "mcp-servers/xc-launch",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-launch/README.md",
          "type": "blob",
          "size": 5423
        },
        {
          "path": "mcp-servers/xc-launch/dist",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-launch/dist/index.js",
          "type": "blob",
          "size": 320507
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/idb",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/idb/check-quality.js",
          "type": "blob",
          "size": 3099
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/idb/describe.js",
          "type": "blob",
          "size": 3493
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/idb/find-element.js",
          "type": "blob",
          "size": 2776
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/idb/gesture.js",
          "type": "blob",
          "size": 5234
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/idb/input.js",
          "type": "blob",
          "size": 3199
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/idb/tap.js",
          "type": "blob",
          "size": 2668
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/simulator",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/simulator/boot.js",
          "type": "blob",
          "size": 1715
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/simulator/create.js",
          "type": "blob",
          "size": 2273
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/simulator/delete.js",
          "type": "blob",
          "size": 1613
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/simulator/get-app-container.js",
          "type": "blob",
          "size": 2453
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/simulator/health-check.js",
          "type": "blob",
          "size": 1905
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/simulator/install-app.js",
          "type": "blob",
          "size": 2670
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/simulator/launch-app.js",
          "type": "blob",
          "size": 3131
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/simulator/list.js",
          "type": "blob",
          "size": 2672
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/simulator/openurl.js",
          "type": "blob",
          "size": 1902
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/simulator/screenshot.js",
          "type": "blob",
          "size": 1842
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/simulator/shutdown.js",
          "type": "blob",
          "size": 1669
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/simulator/terminate-app.js",
          "type": "blob",
          "size": 1967
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/xcode",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/xcode/build-and-launch.js",
          "type": "blob",
          "size": 15357
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/xcode/build.js",
          "type": "blob",
          "size": 4514
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/xcode/clean.js",
          "type": "blob",
          "size": 2363
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/xcode/list.js",
          "type": "blob",
          "size": 2549
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/xcode/test.js",
          "type": "blob",
          "size": 4804
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/tools/xcode/version.js",
          "type": "blob",
          "size": 1857
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/types",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/types/base.js",
          "type": "blob",
          "size": 51
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/types/idb.js",
          "type": "blob",
          "size": 37
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/types/simulator.js",
          "type": "blob",
          "size": 43
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/types/xcode.js",
          "type": "blob",
          "size": 39
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/utils",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/utils/command.js",
          "type": "blob",
          "size": 4345
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/utils/config.js",
          "type": "blob",
          "size": 5680
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/utils/constants.js",
          "type": "blob",
          "size": 2143
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/utils/destination.js",
          "type": "blob",
          "size": 9036
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/utils/logger.js",
          "type": "blob",
          "size": 837
        },
        {
          "path": "mcp-servers/xc-launch/dist/shared/utils/simulator.js",
          "type": "blob",
          "size": 4115
        },
        {
          "path": "mcp-servers/xc-launch/dist/xc-launch",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-launch/dist/xc-launch/src",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-launch/dist/xc-launch/src/index.js",
          "type": "blob",
          "size": 2600
        },
        {
          "path": "mcp-servers/xc-launch/package.json",
          "type": "blob",
          "size": 815
        },
        {
          "path": "mcp-servers/xc-launch/src",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-launch/src/index.ts",
          "type": "blob",
          "size": 2630
        },
        {
          "path": "mcp-servers/xc-launch/tsconfig.json",
          "type": "blob",
          "size": 451
        },
        {
          "path": "mcp-servers/xc-meta",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-meta/dist",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-meta/dist/index.js",
          "type": "blob",
          "size": 324095
        },
        {
          "path": "mcp-servers/xc-meta/dist/shared",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-meta/dist/shared/tools",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-meta/dist/shared/tools/simulator",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-meta/dist/shared/tools/simulator/delete.js",
          "type": "blob",
          "size": 1613
        },
        {
          "path": "mcp-servers/xc-meta/dist/shared/tools/simulator/health-check.js",
          "type": "blob",
          "size": 1905
        },
        {
          "path": "mcp-servers/xc-meta/dist/shared/tools/simulator/shutdown.js",
          "type": "blob",
          "size": 1669
        },
        {
          "path": "mcp-servers/xc-meta/dist/shared/tools/xcode",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-meta/dist/shared/tools/xcode/clean.js",
          "type": "blob",
          "size": 2363
        },
        {
          "path": "mcp-servers/xc-meta/dist/shared/tools/xcode/list.js",
          "type": "blob",
          "size": 2549
        },
        {
          "path": "mcp-servers/xc-meta/dist/shared/tools/xcode/version.js",
          "type": "blob",
          "size": 1857
        },
        {
          "path": "mcp-servers/xc-meta/dist/shared/types",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-meta/dist/shared/types/base.js",
          "type": "blob",
          "size": 51
        },
        {
          "path": "mcp-servers/xc-meta/dist/shared/types/simulator.js",
          "type": "blob",
          "size": 43
        },
        {
          "path": "mcp-servers/xc-meta/dist/shared/types/xcode.js",
          "type": "blob",
          "size": 39
        },
        {
          "path": "mcp-servers/xc-meta/dist/shared/utils",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-meta/dist/shared/utils/command.js",
          "type": "blob",
          "size": 4345
        },
        {
          "path": "mcp-servers/xc-meta/dist/shared/utils/constants.js",
          "type": "blob",
          "size": 2143
        },
        {
          "path": "mcp-servers/xc-meta/dist/shared/utils/logger.js",
          "type": "blob",
          "size": 837
        },
        {
          "path": "mcp-servers/xc-meta/dist/xc-meta",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-meta/dist/xc-meta/src",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-meta/dist/xc-meta/src/index.js",
          "type": "blob",
          "size": 3248
        },
        {
          "path": "mcp-servers/xc-meta/package.json",
          "type": "blob",
          "size": 783
        },
        {
          "path": "mcp-servers/xc-meta/src",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-meta/src/index.ts",
          "type": "blob",
          "size": 3339
        },
        {
          "path": "mcp-servers/xc-meta/tsconfig.json",
          "type": "blob",
          "size": 433
        },
        {
          "path": "mcp-servers/xc-setup",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-setup/dist",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-setup/dist/index.js",
          "type": "blob",
          "size": 323130
        },
        {
          "path": "mcp-servers/xc-setup/dist/shared",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-setup/dist/shared/tools",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-setup/dist/shared/tools/simulator",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-setup/dist/shared/tools/simulator/boot.js",
          "type": "blob",
          "size": 1715
        },
        {
          "path": "mcp-servers/xc-setup/dist/shared/tools/simulator/create.js",
          "type": "blob",
          "size": 2273
        },
        {
          "path": "mcp-servers/xc-setup/dist/shared/tools/simulator/health-check.js",
          "type": "blob",
          "size": 1905
        },
        {
          "path": "mcp-servers/xc-setup/dist/shared/tools/simulator/list.js",
          "type": "blob",
          "size": 2672
        },
        {
          "path": "mcp-servers/xc-setup/dist/shared/tools/xcode",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-setup/dist/shared/tools/xcode/version.js",
          "type": "blob",
          "size": 1857
        },
        {
          "path": "mcp-servers/xc-setup/dist/shared/types",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-setup/dist/shared/types/base.js",
          "type": "blob",
          "size": 51
        },
        {
          "path": "mcp-servers/xc-setup/dist/shared/types/simulator.js",
          "type": "blob",
          "size": 43
        },
        {
          "path": "mcp-servers/xc-setup/dist/shared/types/xcode.js",
          "type": "blob",
          "size": 39
        },
        {
          "path": "mcp-servers/xc-setup/dist/shared/utils",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-setup/dist/shared/utils/command.js",
          "type": "blob",
          "size": 4345
        },
        {
          "path": "mcp-servers/xc-setup/dist/shared/utils/constants.js",
          "type": "blob",
          "size": 2143
        },
        {
          "path": "mcp-servers/xc-setup/dist/shared/utils/logger.js",
          "type": "blob",
          "size": 837
        },
        {
          "path": "mcp-servers/xc-setup/dist/xc-setup",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-setup/dist/xc-setup/src",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-setup/dist/xc-setup/src/index.js",
          "type": "blob",
          "size": 3022
        },
        {
          "path": "mcp-servers/xc-setup/package.json",
          "type": "blob",
          "size": 794
        },
        {
          "path": "mcp-servers/xc-setup/src",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-setup/src/index.ts",
          "type": "blob",
          "size": 3083
        },
        {
          "path": "mcp-servers/xc-setup/tsconfig.json",
          "type": "blob",
          "size": 433
        },
        {
          "path": "mcp-servers/xc-testing",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-testing/dist",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-testing/dist/index.js",
          "type": "blob",
          "size": 333091
        },
        {
          "path": "mcp-servers/xc-testing/dist/shared",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-testing/dist/shared/tools",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-testing/dist/shared/tools/idb",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-testing/dist/shared/tools/idb/describe.js",
          "type": "blob",
          "size": 3493
        },
        {
          "path": "mcp-servers/xc-testing/dist/shared/tools/idb/gesture.js",
          "type": "blob",
          "size": 5234
        },
        {
          "path": "mcp-servers/xc-testing/dist/shared/tools/idb/input.js",
          "type": "blob",
          "size": 3199
        },
        {
          "path": "mcp-servers/xc-testing/dist/shared/tools/idb/tap.js",
          "type": "blob",
          "size": 2668
        },
        {
          "path": "mcp-servers/xc-testing/dist/shared/tools/simulator",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-testing/dist/shared/tools/simulator/screenshot.js",
          "type": "blob",
          "size": 1842
        },
        {
          "path": "mcp-servers/xc-testing/dist/shared/tools/xcode",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-testing/dist/shared/tools/xcode/test.js",
          "type": "blob",
          "size": 4804
        },
        {
          "path": "mcp-servers/xc-testing/dist/shared/types",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-testing/dist/shared/types/base.js",
          "type": "blob",
          "size": 51
        },
        {
          "path": "mcp-servers/xc-testing/dist/shared/types/idb.js",
          "type": "blob",
          "size": 37
        },
        {
          "path": "mcp-servers/xc-testing/dist/shared/types/simulator.js",
          "type": "blob",
          "size": 43
        },
        {
          "path": "mcp-servers/xc-testing/dist/shared/types/xcode.js",
          "type": "blob",
          "size": 39
        },
        {
          "path": "mcp-servers/xc-testing/dist/shared/utils",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-testing/dist/shared/utils/command.js",
          "type": "blob",
          "size": 4345
        },
        {
          "path": "mcp-servers/xc-testing/dist/shared/utils/config.js",
          "type": "blob",
          "size": 5680
        },
        {
          "path": "mcp-servers/xc-testing/dist/shared/utils/constants.js",
          "type": "blob",
          "size": 2143
        },
        {
          "path": "mcp-servers/xc-testing/dist/shared/utils/destination.js",
          "type": "blob",
          "size": 9036
        },
        {
          "path": "mcp-servers/xc-testing/dist/shared/utils/logger.js",
          "type": "blob",
          "size": 837
        },
        {
          "path": "mcp-servers/xc-testing/dist/shared/utils/simulator.js",
          "type": "blob",
          "size": 4115
        },
        {
          "path": "mcp-servers/xc-testing/dist/xc-testing",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-testing/dist/xc-testing/src",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-testing/dist/xc-testing/src/index.js",
          "type": "blob",
          "size": 3173
        },
        {
          "path": "mcp-servers/xc-testing/package.json",
          "type": "blob",
          "size": 794
        },
        {
          "path": "mcp-servers/xc-testing/src",
          "type": "tree",
          "size": null
        },
        {
          "path": "mcp-servers/xc-testing/src/index.ts",
          "type": "blob",
          "size": 3214
        },
        {
          "path": "mcp-servers/xc-testing/tsconfig.json",
          "type": "blob",
          "size": 433
        },
        {
          "path": "package-lock.json",
          "type": "blob",
          "size": 95267
        },
        {
          "path": "package.json",
          "type": "blob",
          "size": 1351
        },
        {
          "path": "skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/accessibility-testing",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/accessibility-testing/SKILL.md",
          "type": "blob",
          "size": 20266
        },
        {
          "path": "skills/crash-debugging",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/crash-debugging/SKILL.md",
          "type": "blob",
          "size": 19850
        },
        {
          "path": "skills/ios-testing-patterns",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/ios-testing-patterns/SKILL.md",
          "type": "blob",
          "size": 18090
        },
        {
          "path": "skills/performance-profiling",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/performance-profiling/SKILL.md",
          "type": "blob",
          "size": 29208
        },
        {
          "path": "skills/simulator-workflows",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/simulator-workflows/SKILL.md",
          "type": "blob",
          "size": 13437
        },
        {
          "path": "skills/state-management",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/state-management/SKILL.md",
          "type": "blob",
          "size": 15966
        },
        {
          "path": "skills/ui-automation-workflows",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/ui-automation-workflows/SKILL.md",
          "type": "blob",
          "size": 8667
        },
        {
          "path": "skills/xcode-workflows",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/xcode-workflows/SKILL.md",
          "type": "blob",
          "size": 12199
        },
        {
          "path": "vitest.config.ts",
          "type": "blob",
          "size": 431
        }
      ],
      "marketplace": {
        "name": "xclaude-plugin-marketplace",
        "version": null,
        "description": null,
        "owner_info": {
          "name": "Conor Luddy",
          "email": "conor@conorluddy.com",
          "url": "https://github.com/conorluddy"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "xclaude-plugin",
            "description": "Modular iOS development automation suite. 8 workflow-specific MCP servers (400-3500 tokens) with 24 tools across Xcode, Simulator, and IDB. Enable only what you need!",
            "source": "./",
            "category": null,
            "version": "0.4.0",
            "author": {
              "name": "Conor Luddy",
              "url": "https://github.com/conorluddy"
            },
            "install_commands": [
              "/plugin marketplace add conorluddy/xclaude-plugin",
              "/plugin install xclaude-plugin@xclaude-plugin-marketplace"
            ],
            "signals": {
              "stars": 48,
              "forks": 7,
              "pushed_at": "2026-01-09T13:45:51Z",
              "created_at": "2025-11-06T19:02:07Z",
              "license": "MIT"
            },
            "commands": [],
            "skills": [
              {
                "name": "accessibility-testing",
                "description": "WCAG compliance testing and accessibility quality assurance workflows for iOS apps. Use when validating accessibility labels, testing VoiceOver compatibility, checking contrast ratios, or ensuring WCAG 2.1 compliance. Covers accessibility tree analysis, semantic validation, and automated accessibility testing patterns.",
                "path": "skills/accessibility-testing/SKILL.md",
                "frontmatter": {
                  "name": "accessibility-testing",
                  "description": "WCAG compliance testing and accessibility quality assurance workflows for iOS apps. Use when validating accessibility labels, testing VoiceOver compatibility, checking contrast ratios, or ensuring WCAG 2.1 compliance. Covers accessibility tree analysis, semantic validation, and automated accessibility testing patterns.",
                  "version": "0.0.1",
                  "token_cost": "~40"
                },
                "content": "# Accessibility Testing Skill\n\n**WCAG compliance and accessibility quality assurance for iOS applications**\n\n## Overview\n\nThis skill teaches accessibility-first testing strategies for iOS apps. Accessibility testing ensures apps are usable by everyone, including people with disabilities. It combines automated validation of accessibility metadata with manual verification of user experience patterns.\n\n**Why accessibility testing matters:**\n- **Legal compliance:** WCAG 2.1 is required in many jurisdictions\n- **User reach:** 15% of population has some form of disability\n- **Better UX:** Accessible apps are better for everyone\n- **SEO benefits:** Better structure improves discoverability\n- **Cost savings:** Fix issues early vs. retrofitting\n\n## When to Use This Skill\n\n**Use this skill when:**\n1. Validating accessibility compliance before release\n2. Debugging VoiceOver issues or user reports\n3. Implementing new features that need accessibility support\n4. Running accessibility audits as part of CI/CD\n5. Testing Dynamic Type support and contrast ratios\n6. Verifying semantic markup and element roles\n7. Checking keyboard navigation and focus management\n\n**This skill covers:**\n- Accessibility tree analysis and interpretation\n- WCAG 2.1 compliance checking (A, AA, AAA levels)\n- VoiceOver testing patterns\n- Dynamic Type validation\n- Common accessibility violations and fixes\n\n## Quick Reference\n\n| Task | Tool/Operation | Typical Time |\n|------|---------------|--------------|\n| Check accessibility quality | `accessibility-quality-check` | ~80ms |\n| Query full accessibility tree | `idb-ui-describe` | ~120ms |\n| Find element by label | `idb-ui-find-element` | ~100ms |\n| Screenshot (fallback only) | `screenshot` | ~2000ms |\n| VoiceOver simulation | Manual testing | - |\n\n## Core Principle: Accessibility Tree First\n\n**The accessibility tree IS your primary testing interface.**\n\nUnlike visual testing (screenshots), the accessibility tree reveals:\n- What screen readers \"see\"\n- Semantic structure and relationships\n- Focus order and navigation paths\n- Element roles and states\n- Text alternatives for non-text content\n\n**3-4x faster and more reliable than visual inspection.**\n\n## Key Concepts\n\n### WCAG 2.1 Levels\n\n**Level A (Minimum):**\n- Text alternatives for images\n- Keyboard accessibility\n- No color-only information\n- Headings and labels present\n\n**Level AA (Recommended):**\n- Contrast ratio 4.5:1 for normal text\n- Contrast ratio 3:1 for large text\n- Resize text up to 200%\n- Meaningful focus order\n- Descriptive labels and instructions\n\n**Level AAA (Enhanced):**\n- Contrast ratio 7:1 for normal text\n- Contrast ratio 4.5:1 for large text\n- No timing requirements\n- Comprehensive error handling\n\n**Target Level AA for most apps.**\n\n### iOS Accessibility Properties\n\n**Essential Properties:**\n\n1. **accessibilityLabel:** What element is\n   - Example: \"Profile photo\", \"Send message button\"\n   - Should be concise, descriptive\n\n2. **accessibilityValue:** Current state/value\n   - Example: \"50%\", \"Selected\", \"3 of 10\"\n\n3. **accessibilityHint:** What happens when activated\n   - Example: \"Opens your profile settings\"\n   - Use sparingly, only when action isn't obvious\n\n4. **accessibilityTraits:** Element behavior\n   - Button, Link, Header, Selected, etc.\n\n5. **isAccessibilityElement:** Should be exposed\n   - `true` for interactive/informative elements\n   - `false` for decorative elements\n\n### Accessibility Tree vs Visual UI\n\n**Accessibility tree is semantic, not visual:**\n\n```\nVisual UI:\n\n [img] John Doe     Visual: Image + Text\n Online          \n\n\nAccessibility Tree:\n Button: \"John Doe, Online, Profile\"   Single focusable element\n  - label: \"John Doe\"\n  - value: \"Online\"\n  - hint: \"Opens profile\"\n  - traits: [Button]\n```\n\n**Good accessibility = logical semantic structure.**\n\n## Standard Workflow\n\n### 1. Initial Accessibility Quality Check\n\n**Start here to assess app's accessibility implementation:**\n\n```json\n{\n  \"operation\": \"check-accessibility\",\n  \"target\": \"booted\"\n}\n```\n\n**Interprets accessibility tree quality:**\n- **\"excellent\":** 90%+ elements have labels, good semantic structure\n- **\"good\":** 70-90% coverage, minor issues\n- **\"fair\":** 50-70% coverage, needs improvement\n- **\"poor\":** <50% coverage, serious accessibility problems\n- **\"insufficient\":** Cannot perform accessibility-based testing\n\n**Decision tree:**\n```\nexcellent/good  Proceed with accessibility-first testing\nfair            Test but expect to find issues\npoor            Major remediation needed\ninsufficient    App may not support assistive tech\n```\n\n**Note:** Most modern iOS apps score \"good\" or \"excellent\".\n\n### 2. Query Accessibility Tree\n\n**Core operation for all accessibility testing:**\n\n```json\n{\n  \"operation\": \"describe\",\n  \"target\": \"booted\",\n  \"parameters\": {\n    \"operation\": \"all\"\n  }\n}\n```\n\n**Returns complete accessibility tree:**\n```json\n{\n  \"elements\": [\n    {\n      \"label\": \"Login\",\n      \"type\": \"Button\",\n      \"frame\": { \"x\": 100, \"y\": 400, \"width\": 175, \"height\": 50 },\n      \"enabled\": true,\n      \"visible\": true,\n      \"traits\": [\"Button\"],\n      \"value\": null,\n      \"hint\": \"Sign in to your account\"\n    },\n    {\n      \"label\": \"Email address\",\n      \"type\": \"TextField\",\n      \"value\": \"\",\n      \"frame\": { \"x\": 50, \"y\": 300, \"width\": 275, \"height\": 44 },\n      \"enabled\": true,\n      \"visible\": true,\n      \"traits\": [\"TextField\"]\n    }\n  ]\n}\n```\n\n**Analyze for:**\n- All interactive elements have labels\n- Labels are descriptive and concise\n- Proper element types/traits\n- Logical reading order (top-to-bottom, left-to-right)\n- No duplicate or confusing labels\n\n### 3. Validate Specific Elements\n\n**Find and verify accessibility of specific UI elements:**\n\n```json\n{\n  \"operation\": \"find-element\",\n  \"target\": \"booted\",\n  \"parameters\": {\n    \"query\": \"Submit button\"\n  }\n}\n```\n\n**Validates:**\n- Element exists in accessibility tree\n- Has appropriate label\n- Correct type and traits\n- Enabled/visible state correct\n\n### 4. Test Navigation and Focus\n\n**Verify logical focus order:**\n\n1. Query accessibility tree\n2. Check elements appear in logical order\n3. No gaps in navigation\n4. Focus lands on meaningful elements first\n\n**Focus order issues:**\n```\nBad:  [Button: Cancel]  [Image: Decorative]  [Button: Submit]  [TextField]\nGood: [TextField]  [Button: Submit]  [Button: Cancel]\n```\n\n## WCAG Compliance Workflows\n\n### Testing Checklist\n\n#### 1. Text Alternatives (WCAG 1.1)\n\n**All non-text content needs text alternative:**\n\n```\nQuery accessibility tree for all images\nFor each image:\n   Has accessibilityLabel\n   Label describes image content\n   Or marked as decorative (isAccessibilityElement: false)\n```\n\n**Common violations:**\n- Images with no label\n- Generic labels: \"image\", \"icon\", \"photo\"\n- Labels don't describe content: \"png_12345\"\n\n**Fix:**\n```swift\n// Bad\nimageView.isAccessibilityElement = true // No label\n\n// Good\nimageView.isAccessibilityElement = true\nimageView.accessibilityLabel = \"Profile photo of John Doe\"\n\n// Decorative (best if truly decorative)\nimageView.isAccessibilityElement = false\n```\n\n#### 2. Keyboard/Focus Navigation (WCAG 2.1)\n\n**All functionality available via sequential navigation:**\n\n```\nQuery accessibility tree\nVerify elements appear in logical order:\n   Top to bottom\n   Left to right\n   Grouped logically\n   Interactive elements are focusable\n   Decorative elements are not focusable\n```\n\n**Test pattern:**\n```\n1. describe  Get all elements\n2. Map order: element[0], element[1], element[2]...\n3. Verify order matches visual/logical flow\n4. Check no important elements missing\n```\n\n#### 3. Contrast Ratios (WCAG 1.4.3)\n\n**Minimum contrast requirements:**\n- **Normal text (<18pt):** 4.5:1 ratio (AA), 7:1 ratio (AAA)\n- **Large text (18pt or 14pt bold):** 3:1 ratio (AA), 4.5:1 (AAA)\n- **UI components:** 3:1 ratio (AA)\n\n**Testing approach:**\n```\n1. screenshot  Capture current screen\n2. Use color picker to sample text/background\n3. Calculate contrast ratio: (L1 + 0.05) / (L2 + 0.05)\n4. Verify meets WCAG AA (4.5:1 or 3:1)\n```\n\n**Common violations:**\n- Gray text on white: 2.5:1 (fails)\n- Light blue on white: 2.8:1 (fails)\n- Dark gray on white: 4.6:1 (passes AA)\n\n**Note:** Screenshots are appropriate for contrast testing (color-based).\n\n#### 4. Labels and Instructions (WCAG 3.3.2)\n\n**All inputs have clear labels:**\n\n```\nQuery accessibility tree\nFor each TextField/input element:\n   Has accessibilityLabel\n   Label describes purpose\n   Label visible or programmatically associated\n   Required fields indicated\n   Format instructions provided if needed\n```\n\n**Good labels:**\n```json\n{\n  \"type\": \"TextField\",\n  \"label\": \"Email address\",\n  \"hint\": \"Enter your email to sign in\",\n  \"value\": \"\"\n}\n```\n\n**Bad labels:**\n```json\n{\n  \"type\": \"TextField\",\n  \"label\": \"TextField\",  // Generic\n  \"value\": \"\"\n}\n```\n\n#### 5. Dynamic Type Support (iOS-specific)\n\n**Text scales from 100% to 200%:**\n\n**Test pattern:**\n```\n1. Set Dynamic Type to smallest size\n2. Launch app, screenshot, verify readable\n3. Set Dynamic Type to largest size\n4. Launch app, screenshot, verify:\n    Text scales appropriately\n    No text truncation\n    Layout adapts\n    Buttons still tappable\n```\n\n**Settings locations:**\n- Settings  Accessibility  Display & Text Size  Larger Text\n- Simulator: Accessibility Inspector  Settings\n\n## VoiceOver Testing Patterns\n\n### Simulating VoiceOver Experience\n\n**VoiceOver announces elements in accessibility tree order:**\n\n```\n1. describe  Get accessibility tree\n2. For each element (in order):\n   - Announces: [label] [value] [traits] [hint]\n   - Example: \"Submit button, button, Sign in to your account\"\n3. Verify announcements are:\n    Clear and descriptive\n    Not redundant\n    Appropriate detail level\n```\n\n**Announcement structure:**\n```\n\"[label], [type], [value], [hint]\"\n\nExamples:\n\"Profile photo, image, image of John Doe\"\n\"Volume, slider, 50%, adjustable\"\n\"Send, button, button, Sends your message\"\n```\n\n### Common VoiceOver Issues\n\n**1. Verbose Announcements**\n\n```\nBad:  \"Submit button, button, Click here to submit the form\"\nGood: \"Submit, button\"\n```\n\n**Fix:** Remove redundant \"button\" from label, concise hint.\n\n**2. Missing Context**\n\n```\nBad:  \"Edit, button\" (which item?)\nGood: \"Edit profile photo, button\"\n```\n\n**Fix:** Include context in label.\n\n**3. Confusing Order**\n\n```\nVisual:     [Title]  [Close button]\n            [Content]\nVoiceOver:  Close button  Content  Title  \n```\n\n**Fix:** Adjust accessibility container order or element grouping.\n\n**4. No Label**\n\n```\nElement visible, but:\n- isAccessibilityElement: false (should be true)\n- Or no accessibilityLabel\n```\n\n**Fix:** Set both properties appropriately.\n\n## Common Accessibility Violations\n\n### Issue: Image Without Label\n\n**Detection:**\n```\nQuery accessibility tree\nFind elements with type: \"Image\"\nCheck if label is missing or generic\n```\n\n**Symptoms:**\n- VoiceOver says \"image\" or nothing\n- Screen reader users can't identify image\n\n**Fix:**\n```swift\nimageView.isAccessibilityElement = true\nimageView.accessibilityLabel = \"Descriptive text\"\n// Or if decorative:\nimageView.isAccessibilityElement = false\n```\n\n### Issue: Buttons Without Labels\n\n**Detection:**\n```\nQuery accessibility tree\nFind elements with traits: [\"Button\"]\nCheck if label is missing or just \"button\"\n```\n\n**Symptoms:**\n- VoiceOver says \"button\" with no context\n- Users don't know what button does\n\n**Fix:**\n```swift\nbutton.accessibilityLabel = \"Send message\"\n// Avoid: button.accessibilityLabel = \"Send message button\" // Redundant\n```\n\n### Issue: Low Contrast Text\n\n**Detection:**\n```\nScreenshot  Sample colors\nCalculate contrast ratio\nCompare to WCAG standards\n```\n\n**Symptoms:**\n- Hard to read in bright light\n- Fails WCAG AA (4.5:1)\n\n**Fix:**\n```swift\n// Increase contrast\nlabel.textColor = .label // System adapts to dark mode\n// Or explicit colors with sufficient contrast\nlabel.textColor = UIColor(white: 0.2, alpha: 1.0) // Dark gray on white\n```\n\n### Issue: Complex Gestures Required\n\n**Detection:**\n```\nCheck if functionality requires:\n- Multi-finger gestures\n- Precise timing\n- Specific swipe patterns\n```\n\n**Symptoms:**\n- Motor-impaired users can't activate\n- VoiceOver users can't navigate\n\n**Fix:**\n```swift\n// Provide alternative single-tap interaction\n// Or use standard UIControl components\n// Avoid custom gesture-only interfaces\n```\n\n### Issue: Non-Descriptive Link Text\n\n**Detection:**\n```\nQuery accessibility tree\nFind elements with traits: [\"Link\"]\nCheck if label is generic: \"click here\", \"read more\"\n```\n\n**Symptoms:**\n- Screen reader users don't know destination\n- Can't scan links effectively\n\n**Fix:**\n```swift\n// Bad\nlink.accessibilityLabel = \"Click here\"\n\n// Good\nlink.accessibilityLabel = \"Read our privacy policy\"\n```\n\n## Advanced Testing Patterns\n\n### Pattern: Form Validation\n\n**Test accessibility of error states:**\n\n```\n1. describe  Get form elements\n2. Submit invalid form\n3. describe  Check error state\n4. Verify:\n    Error messages have labels\n    Associated with relevant field\n    Clear instructions for fixing\n    Focus moves to first error\n```\n\n**Good error accessibility:**\n```json\n{\n  \"type\": \"TextField\",\n  \"label\": \"Email address\",\n  \"value\": \"invalid\",\n  \"traits\": [\"TextField\"],\n  \"hint\": \"Invalid email format. Example: user@example.com\"\n}\n```\n\n### Pattern: Dynamic Content\n\n**Test when content updates:**\n\n```\n1. describe  Get initial state\n2. Trigger update (load more, filter, etc.)\n3. describe  Get new state\n4. Verify:\n    New content has labels\n    Loading states announced\n    Focus managed appropriately\n    No duplicate announcements\n```\n\n**Use accessibility notifications:**\n```swift\n// Announce completion\nUIAccessibility.post(notification: .announcement,\n                     argument: \"10 new messages loaded\")\n\n// Or move focus to new content\nUIAccessibility.post(notification: .layoutChanged,\n                     argument: firstNewElement)\n```\n\n### Pattern: Modal/Dialog Testing\n\n**Test focus management:**\n\n```\n1. describe  Get main screen elements\n2. Open modal\n3. describe  Get modal elements\n4. Verify:\n    Focus trapped in modal\n    Background content not accessible\n    Close button clearly labeled\n    Modal has accessible title\n5. Close modal\n6. describe  Verify focus returns appropriately\n```\n\n### Pattern: Pagination/Lists\n\n**Test large scrollable content:**\n\n```\nFor each page/section:\n1. describe  Get visible elements\n2. Verify logical reading order\n3. Check:\n    Item count announced (\"Item 1 of 10\")\n    Headings mark sections\n    Load more/pagination clear\n```\n\n**Good pagination labels:**\n```swift\ncell.accessibilityLabel = \"Message from John, Item 5 of 42\"\nloadMoreButton.accessibilityLabel = \"Load 20 more messages\"\n```\n\n## Automated Testing Integration\n\n### CI/CD Accessibility Checks\n\n**Basic audit in test pipeline:**\n\n```\n1. Launch app to key screen\n2. accessibility-quality-check  Get score\n3. Assert score >= \"good\"\n4. describe  Capture accessibility tree\n5. Validate:\n   - All buttons have labels\n   - No images without labels (excluding decorative)\n   - No duplicate labels in same context\n   - Logical element order\n```\n\n**Fail build if:**\n- Score is \"poor\" or \"insufficient\"\n- Critical elements missing labels\n- New violations introduced (regression)\n\n### Regression Testing\n\n**Track accessibility over time:**\n\n```\n1. Capture baseline accessibility tree (JSON)\n2. On each commit:\n   - Capture current tree\n   - Compare to baseline\n   - Flag new missing labels\n   - Flag changed reading order\n3. Review and approve changes or fix regressions\n```\n\n## Troubleshooting\n\n### Problem: Element Not in Accessibility Tree\n\n**Symptoms:**\n- Element visible but `describe` doesn't show it\n- VoiceOver skips element\n\n**Solutions:**\n1. Check `isAccessibilityElement = true`\n2. Verify not hidden: `isHidden = false`\n3. Check not covered by another element\n4. Ensure frame is not CGRect.zero\n5. Verify `accessibilityElementsHidden = false` on parents\n\n### Problem: Wrong Reading Order\n\n**Symptoms:**\n- Elements announced in illogical order\n- Navigation jumps around screen\n\n**Solutions:**\n1. Check view hierarchy (Z-order affects reading order)\n2. Use `accessibilityElements` array to set explicit order:\n   ```swift\n   containerView.accessibilityElements = [label, field, button]\n   ```\n3. Group related elements in accessibility containers\n\n### Problem: Insufficient Context\n\n**Symptoms:**\n- Labels too generic: \"button\", \"image\", \"item\"\n- Users can't identify purpose\n\n**Solutions:**\n1. Add specific context to label\n2. Include state information in value\n3. Use hint for non-obvious actions\n4. Consider combining multiple elements:\n   ```swift\n   containerView.isAccessibilityElement = true\n   containerView.accessibilityLabel = \"Email from John Doe, unread\"\n   ```\n\n## Best Practices\n\n### 1. Accessibility-First Development\n\n**Design with accessibility from the start:**\n- Use standard UIKit components (built-in support)\n- Plan semantic structure before visual design\n- Consider screen reader experience in wireframes\n- Test with VoiceOver during development\n\n### 2. Semantic HTML/Structure\n\n**iOS equivalent:**\n- Use appropriate UITraits (Button, Header, Link, etc.)\n- Group related content in accessibility containers\n- Use heading traits to mark sections\n- Adjust traits to match element behavior\n\n### 3. Test with Real Users\n\n**Automated testing catches technical issues, but:**\n- Real screen reader users find UX problems\n- Motor-impaired users reveal interaction issues\n- Test with VoiceOver on actual device\n- Observe usage patterns, not just compliance\n\n### 4. Document Accessibility Decisions\n\n```swift\n// Intentionally not accessible - purely decorative\nbackgroundImage.isAccessibilityElement = false\n\n// Combined for better experience - announces as single element\ncardView.isAccessibilityElement = true\ncardView.accessibilityLabel = \"\\(title), \\(date), \\(author)\"\ntitleLabel.isAccessibilityElement = false\ndateLabel.isAccessibilityElement = false\nauthorLabel.isAccessibilityElement = false\n```\n\n### 5. Maintain Accessibility Tree Quality\n\n**Set standards and enforce:**\n- Minimum quality score: \"good\"\n- All interactive elements have labels\n- All images have labels or marked decorative\n- Contrast ratios meet AA standards\n- Forms have clear labels and error handling\n\n**Measure in CI/CD:**\n```\nRun: accessibility-quality-check\nAssert: score >= \"good\"\nRun: describe  Parse accessibility tree\nAssert: All buttons have labels\nAssert: No generic labels (\"button\", \"image\")\n```\n\n## Integration with MCP Tools\n\nThis Skill works with these MCP tools:\n\n- **accessibility-quality-check:** Quick assessment (~80ms)\n- **idb-ui-describe:** Full accessibility tree (~120ms)\n- **idb-ui-find-element:** Semantic element search (~100ms)\n- **screenshot:** Visual inspection (contrast, layout) (~2000ms)\n\n**Workflow integration:**\n```\n1. accessibility-quality-check  Assess app quality\n2. idb-ui-describe  Get detailed tree\n3. Analyze semantic structure\n4. screenshot  Verify contrast/visual (if needed)\n```\n\n## Related Skills\n\n- **ui-automation-workflows:** Accessibility-first UI automation\n- **ios-testing-patterns:** Test strategy and CI integration\n- **simulator-workflows:** Device management for testing\n\n## Related Resources\n\n- `xc://reference/accessibility`: Accessibility API reference\n- `xc://reference/wcag`: WCAG 2.1 guidelines mapped to iOS\n- `xc://workflows/accessibility-first`: This workflow pattern\n- `xc://examples/voiceover-testing`: VoiceOver test examples\n\n---\n\n**Remember: Accessibility tree is ground truth. Build accessible from the start. Test with real users.**"
              },
              {
                "name": "crash-debugging",
                "description": "Crash log analysis, symbolication, and debugging workflows for iOS apps. Use when investigating app crashes, analyzing crash reports, symbolicating stack traces, or identifying root causes. Covers crash log retrieval, symbolication with dSYM files, stack trace analysis, and common crash patterns.",
                "path": "skills/crash-debugging/SKILL.md",
                "frontmatter": {
                  "name": "crash-debugging",
                  "description": "Crash log analysis, symbolication, and debugging workflows for iOS apps. Use when investigating app crashes, analyzing crash reports, symbolicating stack traces, or identifying root causes. Covers crash log retrieval, symbolication with dSYM files, stack trace analysis, and common crash patterns.",
                  "version": "0.0.1",
                  "token_cost": "~40"
                },
                "content": "# Crash Debugging Skill\n\n**Comprehensive guide to iOS crash analysis and debugging**\n\n## Quick Reference\n\n| Task | Tool/Command | Location |\n|------|--------------|----------|\n| View crash logs | Console.app | macOS Application |\n| Retrieve simulator crashes | ~/Library/Logs/DiagnosticReports/ | File system |\n| Symbolicate crash | atos | Command line |\n| Find dSYM files | Xcode Organizer / DerivedData | Xcode |\n| Analyze crash type | Stack trace patterns | Crash log |\n\n## Overview\n\nCrash debugging transforms cryptic crash logs into actionable insights. This skill covers:\n- Retrieving crash logs from simulators and devices\n- Understanding crash log structure\n- Symbolicating stack traces for readable function names\n- Identifying common crash patterns\n- Determining root causes\n\n## When to Use This Skill\n\n**Use this skill when:**\n- App crashes during testing or development\n- Received crash reports from users or TestFlight\n- CI/CD pipeline reports test crashes\n- Need to symbolicate production crash logs\n- Investigating memory issues or crashes\n\n**Don't use for:**\n- Build failures (see xcode-workflows)\n- Test assertion failures (see ios-testing-patterns)\n- UI debugging (see ui-automation-workflows)\n\n## Key Concepts\n\n### Crash Logs vs Diagnostic Reports\n\n**Crash Logs:**\n- Generated when app terminates unexpectedly\n- Include exception type, stack trace, register state\n- Stored in DiagnosticReports directory\n- Named: `AppName_YYYY-MM-DD-HHMMSS_DeviceName.crash`\n\n**Diagnostic Reports:**\n- Broader category including crashes, spins, hangs\n- May include system diagnostics\n- Same location as crash logs\n\n### Symbolication Process\n\n**Unsymbolicated:**\n```\n0   MyApp    0x0000000102a3c4f8 0x102a38000 + 17656\n1   MyApp    0x0000000102a3d1a4 0x102a38000 + 20900\n```\n\n**Symbolicated:**\n```\n0   MyApp    0x0000000102a3c4f8 ViewController.loginButtonTapped() + 120\n1   MyApp    0x0000000102a3d1a4 ViewController.viewDidLoad() + 84\n```\n\n**Symbolication Requirements:**\n1. **dSYM file** matching the build UUID\n2. **Binary** (MyApp.app/MyApp)\n3. **Crash log** with memory addresses\n\n### Stack Traces and Debugging Symbols\n\n**Stack Trace:**\n- List of function calls leading to crash\n- Ordered from crash point (top) to app entry (bottom)\n- Each line contains: frame number, binary name, address, symbol + offset\n\n**Debugging Symbols (dSYM):**\n- Separate file containing symbol information\n- Maps memory addresses to function names\n- Generated during build (if \"Debug Information Format\" = \"DWARF with dSYM\")\n- Essential for crash analysis\n\n### Common Crash Types\n\n| Exception Type | Meaning | Common Cause |\n|----------------|---------|--------------|\n| EXC_BAD_ACCESS | Invalid memory access | Dangling pointer, use-after-free |\n| SIGABRT | Process aborted | Assertion failure, force unwrap nil |\n| EXC_BREAKPOINT | Breakpoint hit | Swift runtime error, fatal error |\n| SIGILL | Illegal instruction | Corrupted code, wrong architecture |\n| SIGSEGV | Segmentation fault | Memory corruption |\n| SIGBUS | Bus error | Unaligned memory access |\n\n## Workflows\n\n### Workflow 1: Crash Log Retrieval\n\n#### From Simulator\n\n**Step 1: Locate Crash Logs**\n\n```bash\nopen ~/Library/Logs/DiagnosticReports/\n```\n\n**Directory Structure:**\n```\nDiagnosticReports/\n MyApp_2025-11-06-143022_Conors-MacBook.crash\n MyApp_2025-11-06-140511_Conors-MacBook.crash\n ...\n```\n\n**Step 2: Identify Recent Crash**\n\nSort by date modified, or filter by app name:\n\n```bash\nls -lt ~/Library/Logs/DiagnosticReports/ | grep MyApp | head -5\n```\n\n**Step 3: Read Crash Log**\n\n```bash\ncat ~/Library/Logs/DiagnosticReports/MyApp_2025-11-06-143022_Conors-MacBook.crash\n```\n\n#### From Console.app (Recommended)\n\n**Step 1: Open Console.app**\n\n```bash\nopen -a Console\n```\n\n**Step 2: Filter Logs**\n- Click \"Crash Reports\" in sidebar\n- Search for app name\n- Click crash report to view\n\n**Advantages:**\n- Real-time monitoring\n- Better filtering and search\n- Automatic refresh\n\n#### From Device (via Xcode)\n\n**Step 1: Connect Device**\n\n**Step 2: Open Devices and Simulators**\n- Xcode  Window  Devices and Simulators\n- Select device\n\n**Step 3: View Device Logs**\n- Click \"View Device Logs\"\n- Find crash report\n- Right-click  Export\n\n### Workflow 2: Symbolication\n\n#### Automatic Symbolication (Xcode)\n\n**Step 1: Locate dSYM**\n\nXcode automatically symbolicates if:\n1. dSYM is in Spotlight index\n2. dSYM UUID matches crash log\n\n**Check dSYM UUID:**\n\n```bash\ndwarfdump --uuid /path/to/MyApp.app.dSYM\n```\n\n**Check Crash Log UUID:**\n\n```\nBinary Images:\n0x102a38000 - 0x102a4bfff MyApp arm64  <12345678-1234-1234-1234-123456789abc>\n```\n\nUUIDs must match for symbolication.\n\n**Step 2: Import to Xcode**\n\nIf auto-symbolication fails:\n1. Xcode  Window  Organizer\n2. Select \"Crashes\" tab\n3. Drag crash log into window\n4. Xcode symbolicates automatically (if dSYM available)\n\n#### Manual Symbolication (atos)\n\n**Step 1: Find Required Files**\n\n```bash\n# App binary\nAPP_BINARY=\"/path/to/MyApp.app/MyApp\"\n\n# dSYM file\nDSYM_FILE=\"/path/to/MyApp.app.dSYM/Contents/Resources/DWARF/MyApp\"\n\n# Load address (from crash log \"Binary Images\" section)\nLOAD_ADDRESS=\"0x102a38000\"\n```\n\n**Step 2: Symbolicate Address**\n\n```bash\natos -arch arm64 -o \"$DSYM_FILE\" -l \"$LOAD_ADDRESS\" 0x0000000102a3c4f8\n```\n\n**Output:**\n```\nViewController.loginButtonTapped() (in MyApp) (ViewController.swift:45)\n```\n\n**Step 3: Symbolicate Multiple Addresses**\n\n```bash\natos -arch arm64 -o \"$DSYM_FILE\" -l \"$LOAD_ADDRESS\" \\\n  0x0000000102a3c4f8 \\\n  0x0000000102a3d1a4 \\\n  0x0000000102a3e220\n```\n\n#### Batch Symbolication (symbolicatecrash)\n\n**Symbolicate Entire Crash Log:**\n\n```bash\nexport DEVELOPER_DIR=\"/Applications/Xcode.app/Contents/Developer\"\n\nsymbolicatecrash MyApp.crash MyApp.app.dSYM > MyApp_symbolicated.crash\n```\n\n**Verify Symbolication:**\n\n```bash\ngrep -A 10 \"Thread 0 Crashed\" MyApp_symbolicated.crash\n```\n\nShould show function names, not just addresses.\n\n### Workflow 3: Stack Trace Analysis\n\n#### Reading a Crash Log\n\n**Crash Log Structure:**\n\n```\nIncident Identifier: 12345678-1234-1234-1234-123456789ABC\nCrashReporter Key:   ABCDEF1234567890\nHardware Model:      iPhone15,2\nProcess:             MyApp [12345]\nPath:                /private/var/containers/Bundle/Application/.../MyApp.app/MyApp\nIdentifier:          com.example.MyApp\nVersion:             1.0 (1)\nCode Type:           ARM-64\nParent Process:      launchd [1]\n\nDate/Time:           2025-11-06 14:30:22.123 +0000\nOS Version:          iOS 17.0 (21A5326a)\nReport Version:      104\n\nException Type:      EXC_BAD_ACCESS (SIGSEGV)\nException Subtype:   KERN_INVALID_ADDRESS at 0x0000000000000000\nTermination Reason:  SIGNAL 11 Segmentation fault: 11\nTerminating Process: exc handler [12345]\n\nTriggered by Thread: 0\n\nThread 0 Crashed:\n0   MyApp              0x0000000102a3c4f8 ViewController.loginButtonTapped() + 120\n1   MyApp              0x0000000102a3d1a4 ViewController.viewDidLoad() + 84\n2   UIKitCore          0x00000001b2e4c3a0 -[UIViewController loadViewIfRequired] + 928\n...\n\nThread 1:\n0   libsystem_kernel.dylib  0x00000001a2b3c4a8 __workq_kernreturn + 8\n...\n\nBinary Images:\n0x102a38000 - 0x102a4bfff MyApp arm64  <12345678-1234-1234-1234-123456789abc>\n...\n```\n\n#### Key Sections to Analyze\n\n**1. Exception Type**\n\n```\nException Type:      EXC_BAD_ACCESS (SIGSEGV)\nException Subtype:   KERN_INVALID_ADDRESS at 0x0000000000000000\n```\n\n- **EXC_BAD_ACCESS**: Memory access violation\n- **KERN_INVALID_ADDRESS**: Address doesn't exist (null pointer)\n- **0x0000000000000000**: Accessing address zero (dereferencing nil)\n\n**2. Crashed Thread**\n\n```\nThread 0 Crashed:\n0   MyApp              0x102a3c4f8 ViewController.loginButtonTapped() + 120\n1   MyApp              0x102a3d1a4 ViewController.viewDidLoad() + 84\n```\n\n- Frame 0 is crash location\n- Read from top to bottom (most recent to oldest)\n- Identify last app frame before system frames\n\n**3. Binary Images**\n\n```\n0x102a38000 - 0x102a4bfff MyApp arm64  <12345678-1234-1234-1234-123456789abc>\n```\n\n- Load address: `0x102a38000`\n- UUID: `12345678-1234-1234-1234-123456789abc`\n- Architecture: `arm64`\n\n### Workflow 4: Root Cause Identification\n\n#### Step 1: Identify Crash Type\n\nMatch exception type to common patterns (see below).\n\n#### Step 2: Locate Crash Point\n\nFind the topmost frame in your app's code:\n\n```\nThread 0 Crashed:\n0   MyApp              0x102a3c4f8 ViewController.loginButtonTapped() + 120   START HERE\n1   MyApp              0x102a3d1a4 ViewController.viewDidLoad() + 84\n```\n\n#### Step 3: Analyze Code Path\n\n1. Open file at crash location (ViewController.swift:45)\n2. Examine function `loginButtonTapped()`\n3. Check for:\n   - Optional unwrapping (`!` or `?`)\n   - Array/dictionary access\n   - Object references\n   - Memory management\n\n#### Step 4: Reproduce Locally\n\n1. Set breakpoint at crash location\n2. Follow stack trace path\n3. Inspect variables and state\n4. Identify null/invalid values\n\n#### Step 5: Validate Fix\n\n1. Apply fix\n2. Build and test\n3. Verify no regression\n4. Monitor for related crashes\n\n## Common Crash Patterns\n\n### EXC_BAD_ACCESS (Memory Issues)\n\n**Signature:**\n```\nException Type:  EXC_BAD_ACCESS (SIGSEGV)\nException Codes: KERN_INVALID_ADDRESS at 0x0000000000000000\n```\n\n**Common Causes:**\n\n**1. Dereferencing Nil (Swift)**\n\n```swift\n// Crash:\nlet user: User? = nil\nlet name = user!.name  // EXC_BAD_ACCESS\n\n// Fix:\nif let name = user?.name {\n    // Use name safely\n}\n```\n\n**2. Dangling Pointer (Objective-C)**\n\n```objc\n// Crash:\n@property (nonatomic, unsafe_unretained) id delegate;  // Dangerous\n[self.delegate callMethod];  // Delegate deallocated  EXC_BAD_ACCESS\n\n// Fix:\n@property (nonatomic, weak) id<MyDelegate> delegate;\n```\n\n**3. Use-After-Free**\n\n```swift\n// Crash:\nvar buffer = UnsafeMutablePointer<Int>.allocate(capacity: 10)\nbuffer.deallocate()\nbuffer[0] = 42  // EXC_BAD_ACCESS\n\n// Fix:\nbuffer[0] = 42\nbuffer.deallocate()\n```\n\n**Debugging:**\n- Enable Address Sanitizer (Scheme  Diagnostics  Address Sanitizer)\n- Check for `weak` vs `unsafe_unretained` references\n- Verify object lifecycle\n\n### SIGABRT (Assertion Failures)\n\n**Signature:**\n```\nException Type:  EXC_CRASH (SIGABRT)\nException Codes: 0x0000000000000000, 0x0000000000000000\nTermination Reason: Namespace SIGNAL, Code 6 Abort trap: 6\n```\n\n**Common Causes:**\n\n**1. Force Unwrap Nil (Swift)**\n\n```swift\n// Crash:\nlet value = dictionary[\"key\"]!  // key doesn't exist  SIGABRT\n\n// Stack trace shows:\nFatal error: Unexpectedly found nil while unwrapping an Optional value\n\n// Fix:\nif let value = dictionary[\"key\"] {\n    // Use value\n}\n```\n\n**2. Array Index Out of Bounds**\n\n```swift\n// Crash:\nlet items = [1, 2, 3]\nlet item = items[10]  // Index out of range  SIGABRT\n\n// Fix:\nif items.indices.contains(10) {\n    let item = items[10]\n}\n```\n\n**3. NSException (Objective-C)**\n\n```objc\n// Crash:\n[NSException raise:@\"InvalidState\" format:@\"Unexpected condition\"];\n\n// Stack trace shows:\n*** Terminating app due to uncaught exception 'InvalidState'\n```\n\n**Debugging:**\n- Read error message in crash log (very descriptive)\n- Check preconditions and assertions\n- Validate input data\n\n### EXC_BREAKPOINT (Swift Errors)\n\n**Signature:**\n```\nException Type:  EXC_BREAKPOINT (SIGTRAP)\nException Codes: 0x0000000000000001, 0x00000001a2b4c8d0\n```\n\n**Common Causes:**\n\n**1. Fatal Error**\n\n```swift\n// Crash:\nguard let user = currentUser else {\n    fatalError(\"User must be logged in\")  // EXC_BREAKPOINT\n}\n\n// Stack trace shows:\nFatal error: User must be logged in\n\n// Fix:\nguard let user = currentUser else {\n    print(\"Error: User not logged in\")\n    return\n}\n```\n\n**2. Type Cast Failure (as!)**\n\n```swift\n// Crash:\nlet value = anyValue as! String  // Value is not String  EXC_BREAKPOINT\n\n// Fix:\nif let value = anyValue as? String {\n    // Use value\n}\n```\n\n**3. Precondition Failure**\n\n```swift\n// Crash:\nprecondition(array.count > 0, \"Array must not be empty\")\n\n// Fix:\nif array.count > 0 {\n    // Proceed safely\n}\n```\n\n**Debugging:**\n- Read fatal error message in crash log\n- Review force casts (`as!`)\n- Check preconditions and guards\n\n### Timeout Crashes (Watchdog)\n\n**Signature:**\n```\nException Type:  EXC_CRASH (SIGKILL)\nException Codes: 0x0000000000000000, 0x0000000000000000\nTermination Reason: Namespace SPRINGBOARD, Code 0x8badf00d\n```\n\n**0x8badf00d = \"ate bad food\" = Watchdog timeout**\n\n**Common Causes:**\n\n**1. Main Thread Blocking**\n\n```swift\n// Crash:\nfunc viewDidLoad() {\n    super.viewDidLoad()\n    Thread.sleep(forTimeInterval: 30)  // Blocks main thread  Watchdog kills app\n}\n\n// Fix:\nfunc viewDidLoad() {\n    super.viewDidLoad()\n    DispatchQueue.global().async {\n        Thread.sleep(forTimeInterval: 30)\n    }\n}\n```\n\n**2. Launch Time Timeout**\n\nApp takes too long to launch (>20 seconds).\n\n**Fix:**\n- Defer heavy initialization\n- Use background queues\n- Profile launch time\n\n**3. Suspend/Resume Timeout**\n\nApp doesn't respond to backgrounding/foregrounding.\n\n**Fix:**\n- Implement `applicationDidEnterBackground` quickly\n- Move long operations to background\n\n**Debugging:**\n- Instrument Time Profiler\n- Check main thread operations\n- Review app lifecycle methods\n\n### Memory Issues (JETSAM)\n\n**Signature:**\n```\nException Type:  EXC_RESOURCE\nException Subtype: MEMORY\nException Codes: 0x0000000000000000, 0x0000000000000000\nTermination Reason: Namespace JETSAM, Code 0xdead10cc\n```\n\n**Common Causes:**\n\n**1. Memory Leak**\n\n```swift\n// Leak:\nclass ViewController {\n    var closure: (() -> Void)?\n\n    func setup() {\n        closure = {\n            self.doSomething()  // Retain cycle\n        }\n    }\n}\n\n// Fix:\nclosure = { [weak self] in\n    self?.doSomething()\n}\n```\n\n**2. Large Allocations**\n\n```swift\n// Crash:\nlet hugeArray = Array(repeating: Data(count: 1_000_000), count: 1000)\n\n// Fix:\n// Process in chunks, release memory incrementally\n```\n\n**Debugging:**\n- Instruments  Allocations\n- Instruments  Leaks\n- Memory Graph Debugger (Xcode)\n\n## Troubleshooting\n\n### Missing Symbols\n\n**Problem:** Stack trace shows addresses, not function names\n\n**Cause:** Missing or mismatched dSYM file\n\n**Solutions:**\n\n1. **Find Correct dSYM**\n\n```bash\n# List all dSYMs in DerivedData\nfind ~/Library/Developer/Xcode/DerivedData -name \"*.dSYM\" -type d\n\n# Check UUID\ndwarfdump --uuid /path/to/MyApp.app.dSYM\n```\n\n2. **Match UUID**\n\nCompare dSYM UUID with crash log Binary Images UUID. They must match exactly.\n\n3. **Archive dSYMs**\n\nEnable \"Archive\" in scheme settings to preserve dSYMs for releases.\n\n4. **Download from Xcode Organizer**\n\nFor App Store builds:\n- Xcode  Window  Organizer\n- Select archive\n- Download dSYMs\n\n### Partial Stack Traces\n\n**Problem:** Stack trace incomplete or truncated\n\n**Causes:**\n- Tail call optimization\n- Inline functions\n- Missing debug symbols\n\n**Solutions:**\n\n1. **Disable Optimizations**\n\nBuild Settings:\n- Optimization Level: None [-O0]\n- Debug Information Format: DWARF with dSYM File\n\n2. **Build with Debug Configuration**\n\n```json\n{\n  \"operation\": \"build\",\n  \"scheme\": \"MyApp\",\n  \"configuration\": \"Debug\"\n}\n```\n\n3. **Disable Inlining**\n\nAdd `-Xswiftc -Ounchecked` to reduce optimizations.\n\n### System Framework Crashes\n\n**Problem:** Crash in UIKit, Foundation, or other system framework\n\n**Stack Trace:**\n```\nThread 0 Crashed:\n0   UIKitCore          0x00001b2e4c3a0 -[UIView layoutSubviews] + 928\n1   UIKitCore          0x00001b2e5d1c4 -[UIView setNeedsLayout] + 84\n2   MyApp              0x00102a3c4f8 ViewController.updateUI() + 45\n```\n\n**Analysis:**\n- Frame 2 is your code (start here)\n- System frameworks rarely crash on their own\n- Likely caused by invalid state or parameters from your code\n\n**Solutions:**\n\n1. **Check Parameters**\n\nBefore system call, validate:\n- Non-nil objects\n- Valid ranges\n- Correct types\n\n2. **Review Constraints**\n\nAuto Layout issues often cause UIKit crashes:\n- Check constraint conflicts\n- Verify view hierarchy\n\n3. **Enable Exception Breakpoint**\n\nXcode  Breakpoints  +  Exception Breakpoint\n- Catches issues before system framework crash\n\n### Third-Party Library Crashes\n\n**Problem:** Crash in external library/framework\n\n**Stack Trace:**\n```\nThread 0 Crashed:\n0   Alamofire          0x00001054a3c4f8 RequestAdapter.adapt() + 120\n1   MyApp              0x00102a3c4f8 NetworkManager.fetchData() + 45\n```\n\n**Solutions:**\n\n1. **Check Library Version**\n\nEnsure compatible version:\n- Update to latest stable\n- Check release notes for bug fixes\n\n2. **Review Integration**\n\nVerify:\n- Correct API usage\n- Thread safety\n- Initialization order\n\n3. **Enable Library Debug Symbols**\n\nIn Podfile or SPM:\n```ruby\npost_install do |installer|\n  installer.pods_project.targets.each do |target|\n    target.build_configurations.each do |config|\n      config.build_settings['DEBUG_INFORMATION_FORMAT'] = 'dwarf-with-dsym'\n    end\n  end\nend\n```\n\n4. **Report Issue**\n\nIf library bug:\n- Create minimal reproduction\n- File GitHub issue\n- Include crash log and steps\n\n## Tools & Commands\n\n### Console.app Usage\n\n**Launch:**\n```bash\nopen -a Console\n```\n\n**Filter by App:**\n1. Click \"Crash Reports\" in sidebar\n2. Enter app name in search\n3. Select crash to view\n\n**Export:**\nRight-click crash  \"Reveal in Finder\"  Copy file\n\n### atos for Symbolication\n\n**Basic Usage:**\n```bash\natos -arch arm64 \\\n     -o /path/to/App.app.dSYM/Contents/Resources/DWARF/App \\\n     -l 0x100000000 \\\n     0x100001234\n```\n\n**Parameters:**\n- `-arch`: Architecture (arm64, x86_64)\n- `-o`: Path to dSYM or binary\n- `-l`: Load address from crash log\n- Last argument: Address to symbolicate\n\n**Multiple Addresses:**\n```bash\natos -arch arm64 -o MyApp.dSYM -l 0x100000000 \\\n  0x100001234 0x100002345 0x100003456\n```\n\n### Xcode Organizer\n\n**Access:**\nXcode  Window  Organizer\n\n**Features:**\n- View archives\n- Download dSYMs for App Store builds\n- View crash reports from TestFlight/App Store\n- Automatic symbolication\n\n**Crashes Tab:**\n- Aggregate crashes from users\n- Group by crash signature\n- Filter by OS version, device\n\n### lldb Debugging\n\n**Set Breakpoint:**\n```\n(lldb) breakpoint set --name ViewController.loginButtonTapped\n(lldb) breakpoint set --file ViewController.swift --line 45\n```\n\n**Examine Variables:**\n```\n(lldb) po user\n(lldb) p user?.name\n(lldb) frame variable\n```\n\n**Navigate Stack:**\n```\n(lldb) bt                 # Print backtrace\n(lldb) frame select 2     # Switch to frame 2\n(lldb) up                 # Move up stack\n(lldb) down               # Move down stack\n```\n\n**Memory Inspection:**\n```\n(lldb) memory read 0x100001234\n(lldb) register read\n```\n\n## Integration with Simulator Workflows\n\n### Reproduce Crash in Simulator\n\n**Workflow:**\n```\n1. Build app (xcode-workflows)\n2. Boot simulator (simulator-workflows  boot)\n3. Install app (simulator-workflows  install)\n4. Launch with lldb attached (Xcode  Debug)\n5. Reproduce crash\n6. Analyze in debugger\n```\n\n**Retrieve Logs:**\n```\n1. Crash occurs in simulator\n2. Console.app  Filter by app name\n3. Or: ls ~/Library/Logs/DiagnosticReports/ | grep MyApp\n4. Read crash log\n5. Symbolicate if needed\n```\n\n## Related Skills\n\n- **simulator-workflows**: App lifecycle and device management\n- **xcode-workflows**: Building with debug symbols\n- **ios-testing-patterns**: Preventing crashes through testing\n\n## Related Resources\n\n- `xc://reference/crash-types`: Complete crash type reference\n- `xc://workflows/symbolication`: Detailed symbolication guide\n- `xc://tools/debugging`: LLDB and debugging tools reference\n\n---\n\n**Tip: Enable Address Sanitizer and Undefined Behavior Sanitizer in scheme diagnostics to catch memory issues early.**"
              },
              {
                "name": "ios-testing-patterns",
                "description": "XCTest and XCUITest execution workflows and flaky test detection patterns",
                "path": "skills/ios-testing-patterns/SKILL.md",
                "frontmatter": {
                  "name": "ios-testing-patterns",
                  "description": "XCTest and XCUITest execution workflows and flaky test detection patterns",
                  "version": "0.0.1",
                  "token_cost": "~40"
                },
                "content": "# iOS Testing Patterns Skill\n\n**Comprehensive guide to XCTest and XCUITest execution, analysis, and flaky test detection**\n\n## Overview\n\nThis skill provides patterns and workflows for executing iOS tests using XCTest and XCUITest frameworks. It covers test execution strategies, result analysis, flaky test detection, and troubleshooting common test failures.\n\n**Use this skill when:**\n\n- Running unit tests or UI tests\n- Analyzing test failures\n- Detecting and debugging flaky tests\n- Optimizing test execution performance\n- Setting up CI/CD test pipelines\n\n## Quick Reference\n\n| Task               | Operation | Key Parameters         |\n| ------------------ | --------- | ---------------------- |\n| Run all tests      | `test`    | scheme, destination    |\n| Run specific test  | `test`    | scheme, only_testing   |\n| Skip tests         | `test`    | scheme, skip_testing   |\n| Use test plan      | `test`    | scheme, test_plan      |\n| Parallel execution | `test`    | destination (multiple) |\n\n## When to Use This Skill\n\n**Use ios-testing-patterns when:**\n\n- Executing XCTest unit tests\n- Running XCUITest UI automation tests\n- Investigating test failures\n- Detecting intermittent test failures (flaky tests)\n- Analyzing test performance and execution time\n- Setting up test schemes and test plans\n- Configuring parallel test execution\n- Debugging test-specific simulator issues\n\n**Related Skills:**\n\n- **xcode-workflows**: For general build and test operations\n- **simulator-workflows**: For managing test simulators\n- **ui-automation-workflows**: For UI test interaction patterns\n\n## Key Concepts\n\n### XCTest vs XCUITest\n\n**XCTest (Unit/Integration Tests):**\n\n- Fast execution (milliseconds to seconds)\n- Tests individual components in isolation\n- Direct access to app internals\n- No UI interaction required\n- Runs in same process as app code\n\n**XCUITest (UI Tests):**\n\n- Slower execution (seconds to minutes)\n- Tests user-facing workflows\n- Black-box testing (no app internals)\n- Requires simulator/device UI\n- Runs in separate process\n\n### Test Execution Strategies\n\n**Sequential Execution:**\n\n- Tests run one after another\n- Predictable, repeatable results\n- Slower overall execution\n- Better for debugging\n\n**Parallel Execution:**\n\n- Tests run simultaneously on multiple simulators\n- Faster overall execution\n- Requires more system resources\n- May expose race conditions\n\n**Test Sharding:**\n\n- Split test suite across multiple destinations\n- Optimal for CI/CD pipelines\n- Reduces total execution time\n- Requires careful test isolation\n\n## Workflows\n\n### 1. Running Unit Tests\n\n**Basic Unit Test Execution:**\n\n```json\n{\n  \"operation\": \"test\",\n  \"scheme\": \"MyApp\",\n  \"destination\": \"platform=iOS Simulator,name=iPhone 15,OS=18.0\"\n}\n```\n\n**Note:** The destination parameter now supports auto-resolution! You can omit the OS version (e.g., `\"platform=iOS Simulator,name=iPhone 15\"`) and the tool will automatically select the latest available OS version for that device.\n\n**Run Specific Test Class:**\n\n```json\n{\n  \"operation\": \"test\",\n  \"scheme\": \"MyApp\",\n  \"destination\": \"platform=iOS Simulator,name=iPhone 15,OS=18.0\",\n  \"options\": {\n    \"only_testing\": [\"MyAppTests/NetworkTests\"]\n  }\n}\n```\n\n**Run Specific Test Method:**\n\n```json\n{\n  \"operation\": \"test\",\n  \"scheme\": \"MyApp\",\n  \"destination\": \"platform=iOS Simulator,name=iPhone 15,OS=18.0\",\n  \"options\": {\n    \"only_testing\": [\"MyAppTests/NetworkTests/testAPIRequest\"]\n  }\n}\n```\n\n### 2. Running UI Tests\n\n**Basic UI Test Execution:**\n\n```json\n{\n  \"operation\": \"test\",\n  \"scheme\": \"MyAppUITests\",\n  \"destination\": \"platform=iOS Simulator,name=iPhone 15\"\n}\n```\n\n**UI Tests with Specific Device:**\n\n```json\n{\n  \"operation\": \"test\",\n  \"scheme\": \"MyAppUITests\",\n  \"destination\": \"platform=iOS Simulator,name=iPad Pro (12.9-inch)\"\n}\n```\n\n**UI Tests with Test Plan:**\n\n```json\n{\n  \"operation\": \"test\",\n  \"scheme\": \"MyApp\",\n  \"destination\": \"platform=iOS Simulator,name=iPhone 15\",\n  \"options\": {\n    \"test_plan\": \"SmokeTests\"\n  }\n}\n```\n\n### 3. Parallel Test Execution\n\n**Multiple Destinations:**\n\nRun tests on multiple simulators simultaneously:\n\n```json\n{\n  \"operation\": \"test\",\n  \"scheme\": \"MyApp\",\n  \"destination\": [\n    \"platform=iOS Simulator,name=iPhone 15\",\n    \"platform=iOS Simulator,name=iPhone SE (3rd generation)\"\n  ],\n  \"options\": {\n    \"parallel\": true\n  }\n}\n```\n\n**Parallel Test Benefits:**\n\n- Reduces total execution time\n- Tests across multiple device types\n- Exposes device-specific issues\n- Better CI/CD performance\n\n**Parallel Test Considerations:**\n\n- Requires multiple simulators\n- Higher CPU/memory usage\n- May expose race conditions\n- Test isolation critical\n\n### 4. Test Filtering\n\n**Skip Specific Tests:**\n\n```json\n{\n  \"operation\": \"test\",\n  \"scheme\": \"MyApp\",\n  \"destination\": \"platform=iOS Simulator,name=iPhone 15\",\n  \"options\": {\n    \"skip_testing\": [\n      \"MyAppUITests/SlowTests\",\n      \"MyAppTests/NetworkTests/testLargeDownload\"\n    ]\n  }\n}\n```\n\n**Run Only Fast Tests:**\n\n```json\n{\n  \"operation\": \"test\",\n  \"scheme\": \"MyApp\",\n  \"destination\": \"platform=iOS Simulator,name=iPhone 15\",\n  \"options\": {\n    \"only_testing\": [\"MyAppTests/UnitTests\"],\n    \"skip_testing\": [\"MyAppTests/UnitTests/testSlowOperation\"]\n  }\n}\n```\n\n### 5. Test Result Analysis\n\n**Success Response:**\n\n```json\n{\n  \"success\": true,\n  \"tests_run\": 45,\n  \"tests_passed\": 45,\n  \"tests_failed\": 0,\n  \"execution_time\": \"12.4s\",\n  \"scheme\": \"MyApp\"\n}\n```\n\n**Failure Response:**\n\n```json\n{\n  \"success\": false,\n  \"tests_run\": 45,\n  \"tests_passed\": 43,\n  \"tests_failed\": 2,\n  \"failures\": [\n    {\n      \"test\": \"MyAppTests.LoginTests.testInvalidPassword\",\n      \"message\": \"XCTAssertEqual failed: (\\\"error\\\") is not equal to (\\\"invalid\\\")\",\n      \"file\": \"LoginTests.swift\",\n      \"line\": 42\n    },\n    {\n      \"test\": \"MyAppUITests.CheckoutTests.testPaymentFlow\",\n      \"message\": \"Failed to find button \\\"Confirm\\\"\",\n      \"file\": \"CheckoutTests.swift\",\n      \"line\": 78\n    }\n  ],\n  \"execution_time\": \"18.7s\"\n}\n```\n\n**Analyzing Test Results:**\n\n1. Check `success` status\n2. Review `tests_failed` count\n3. Examine `failures` array for details\n4. Check `execution_time` for performance issues\n5. Look for patterns in failure messages\n\n### 6. Flaky Test Detection\n\n**What are Flaky Tests?**\n\nTests that intermittently pass or fail without code changes:\n\n- Timing-dependent assertions\n- Race conditions\n- Async operation issues\n- Shared state between tests\n- Network-dependent tests\n- UI animation timing issues\n\n**Detection Strategy 1: Multiple Runs**\n\nRun tests multiple times to detect flakiness:\n\n```bash\n# Run tests 5 times and compare results\nfor i in {1..5}; do\n  execute_xcode_command(test, scheme, destination)\n  # Record results\ndone\n```\n\n**Detection Strategy 2: Pattern Analysis**\n\nLook for common flaky test patterns:\n\n```json\n{\n  \"operation\": \"test\",\n  \"scheme\": \"MyApp\",\n  \"destination\": \"platform=iOS Simulator,name=iPhone 15\",\n  \"options\": {\n    \"only_testing\": [\"MyAppTests/SuspectedFlakyTest\"]\n  }\n}\n```\n\n**Flaky Test Indicators:**\n\n1. **Timeout failures**: \"Exceeded timeout of 30 seconds\"\n2. **Element not found**: \"Failed to find button...\" (UI tests)\n3. **Race conditions**: \"Expected 5 but got 4\"\n4. **Async timing**: \"Asynchronous wait failed\"\n5. **Network failures**: \"Request timed out\"\n\n**Flaky Test Workflow:**\n\n```\n1. Identify suspect test (intermittent failures)\n2. Run test 10+ times in isolation\n3. Analyze failure patterns\n4. Check for:\n   - Hard-coded waits (sleep/wait)\n   - Expectation timeouts too short\n   - Shared mutable state\n   - Network dependencies\n   - Animation timing assumptions\n5. Fix root cause\n6. Verify with repeated runs\n```\n\n### 7. Test Isolation\n\n**Clean State Before Tests:**\n\n```json\n{\n  \"operation\": \"test\",\n  \"scheme\": \"MyApp\",\n  \"destination\": \"platform=iOS Simulator,name=iPhone 15\",\n  \"options\": {\n    \"clean_before_build\": true\n  }\n}\n```\n\n**Reset Simulator State:**\n\n```bash\n# Use simulator-workflows skill\nexecute_simulator_command(operation: \"erase\", udid: <device-udid>)\n```\n\n**Test Isolation Best Practices:**\n\n1. Use `setUp()` and `tearDown()` methods\n2. Clear app state between tests\n3. Use unique test data per test\n4. Avoid shared static state\n5. Reset UserDefaults in setUp\n6. Clear keychain data\n7. Reset app permissions\n\n## Common Patterns\n\n### Test Scheme Configuration\n\n**Typical Test Scheme Setup:**\n\n- **Build Configuration**: Debug (faster builds)\n- **Test Plans**: Separate unit/UI/smoke tests\n- **Coverage**: Enable code coverage collection\n- **Diagnostics**: Enable thread sanitizer for threading issues\n\n**Multiple Test Plans:**\n\n```\nUnitTests.xctestplan        Fast unit tests only\nUITests.xctestplan          UI automation tests\nSmokeTests.xctestplan       Critical path tests\nRegressionTests.xctestplan  Full test suite\n```\n\n### Test Data Management\n\n**Pattern 1: Test Fixtures**\n\n```swift\nclass TestData {\n    static let validUser = User(name: \"Test\", email: \"test@example.com\")\n    static let invalidUser = User(name: \"\", email: \"invalid\")\n}\n```\n\n**Pattern 2: Factory Methods**\n\n```swift\nextension User {\n    static func makeTestUser(name: String = \"Test\") -> User {\n        return User(name: name, email: \"\\(name)@test.com\")\n    }\n}\n```\n\n**Pattern 3: Test Database**\n\n```swift\nclass TestDatabase {\n    func setupTestData() {\n        // Create known test data\n    }\n\n    func teardownTestData() {\n        // Clean up after tests\n    }\n}\n```\n\n### Screenshot Capture on Failure\n\n**UI Test Screenshot Pattern:**\n\n```swift\noverride func setUp() {\n    continueAfterFailure = false\n}\n\noverride func tearDown() {\n    if let testRun = testRun, testRun.failureCount > 0 {\n        let screenshot = XCUIScreen.main.screenshot()\n        let attachment = XCTAttachment(screenshot: screenshot)\n        attachment.lifetime = .keepAlways\n        add(attachment)\n    }\n}\n```\n\n**Execute Tests with Screenshots:**\n\n```json\n{\n  \"operation\": \"test\",\n  \"scheme\": \"MyAppUITests\",\n  \"destination\": \"platform=iOS Simulator,name=iPhone 15\",\n  \"options\": {\n    \"result_bundle_path\": \"./TestResults.xcresult\"\n  }\n}\n```\n\n### Performance Testing\n\n**XCTest Performance Measurement:**\n\n```swift\nfunc testPerformance() {\n    measure {\n        // Code to measure\n        performExpensiveOperation()\n    }\n}\n```\n\n**Performance Test Execution:**\n\n```json\n{\n  \"operation\": \"test\",\n  \"scheme\": \"MyApp\",\n  \"destination\": \"platform=iOS Simulator,name=iPhone 15\",\n  \"options\": {\n    \"only_testing\": [\"MyAppTests/PerformanceTests\"]\n  }\n}\n```\n\n## Troubleshooting\n\n### Common Test Failures\n\n#### 1. \"Test crashed with signal SIGABRT\"\n\n**Causes:**\n\n- Force unwrapping nil values\n- Array index out of bounds\n- Precondition/assertion failures\n- Fatal errors in app code\n\n**Solutions:**\n\n1. Check crash logs for stack trace\n2. Run test in debugger (Xcode)\n3. Add breakpoints at crash location\n4. Review force unwraps in test path\n\n#### 2. \"Failed to find element/button\"\n\n**Causes:**\n\n- Element not yet rendered\n- Animation not complete\n- Incorrect accessibility identifier\n- Element off-screen\n\n**Solutions:**\n\n1. Increase timeout for element queries\n2. Wait for animations to complete\n3. Verify accessibility identifiers\n4. Scroll element into view\n5. Check element existence before interaction\n\n**Example Fix:**\n\n```swift\n// Bad: Immediate query may fail\napp.buttons[\"Submit\"].tap()\n\n// Good: Wait for element\nlet submitButton = app.buttons[\"Submit\"]\nXCTAssert(submitButton.waitForExistence(timeout: 5))\nsubmitButton.tap()\n```\n\n#### 3. \"Exceeded timeout of X seconds\"\n\n**Causes:**\n\n- Network requests too slow\n- Async operations not completing\n- Deadlocks or infinite loops\n- Expectations never fulfilled\n\n**Solutions:**\n\n1. Increase expectation timeout\n2. Mock network requests\n3. Check for deadlocks\n4. Verify expectation fulfillment\n5. Use proper async testing patterns\n\n**Example Fix:**\n\n```swift\n// Bad: May timeout\nwait(for: [expectation], timeout: 1.0)\n\n// Good: Reasonable timeout\nwait(for: [expectation], timeout: 10.0)\n```\n\n#### 4. \"Test failed due to app termination\"\n\n**Causes:**\n\n- Memory pressure\n- Watchdog timeout (app hung)\n- Background task limits\n- System resource constraints\n\n**Solutions:**\n\n1. Profile memory usage\n2. Optimize test efficiency\n3. Break up long-running tests\n4. Check for memory leaks\n5. Reduce simulator load\n\n### Timeout Issues\n\n**UI Test Timeouts:**\n\n```json\n{\n  \"operation\": \"test\",\n  \"scheme\": \"MyAppUITests\",\n  \"destination\": \"platform=iOS Simulator,name=iPhone 15\",\n  \"options\": {\n    \"test_timeout\": 600\n  }\n}\n```\n\n**Common Timeout Scenarios:**\n\n1. **App Launch Timeout**: App takes too long to launch\n   - Solution: Optimize app startup, increase timeout\n\n2. **Element Query Timeout**: UI element not found\n   - Solution: Wait for element existence, check identifiers\n\n3. **Network Timeout**: API requests fail\n   - Solution: Mock network, increase timeout, fix connectivity\n\n4. **Animation Timeout**: Waiting for animation\n   - Solution: Disable animations in tests, use proper waits\n\n### Simulator State Problems\n\n**Symptom:** Tests fail due to simulator state\n\n**Common Issues:**\n\n1. Previous app installation interfering\n2. Simulator storage full\n3. Corrupt simulator data\n4. Multiple tests modifying shared state\n\n**Solutions:**\n\n```bash\n# Erase simulator before tests\nexecute_simulator_command({\n  \"operation\": \"erase\",\n  \"udid\": \"<simulator-udid>\"\n})\n\n# Then run tests\nexecute_xcode_command({\n  \"operation\": \"test\",\n  \"scheme\": \"MyApp\",\n  \"destination\": \"platform=iOS Simulator,name=iPhone 15\"\n})\n```\n\n### Test Dependency Issues\n\n**Symptom:** Tests pass individually but fail in suite\n\n**Causes:**\n\n- Test execution order dependencies\n- Shared mutable state\n- Singleton pollution\n- Database state carryover\n\n**Solutions:**\n\n1. **Ensure Test Isolation:**\n\n```swift\noverride func setUp() {\n    super.setUp()\n    // Reset all shared state\n    AppState.shared.reset()\n    clearDatabase()\n}\n```\n\n2. **Avoid Singletons:**\n\n```swift\n// Bad: Shared state\nclass APIManager {\n    static let shared = APIManager()\n}\n\n// Good: Dependency injection\nclass APIManager {\n    // Inject per test\n}\n```\n\n3. **Randomize Test Order:**\n\n```json\n{\n  \"operation\": \"test\",\n  \"scheme\": \"MyApp\",\n  \"options\": {\n    \"test_order\": \"random\"\n  }\n}\n```\n\n## Best Practices\n\n### 1. Test Isolation\n\n**Always isolate tests:**\n\n- Each test should run independently\n- No shared state between tests\n- Clean up in `tearDown()`\n- Use unique test data\n\n**Example:**\n\n```swift\nclass UserTests: XCTestCase {\n    var sut: UserManager!\n\n    override func setUp() {\n        super.setUp()\n        sut = UserManager()\n    }\n\n    override func tearDown() {\n        sut = nil\n        super.tearDown()\n    }\n\n    func testCreateUser() {\n        // Test uses fresh sut instance\n    }\n}\n```\n\n### 2. Fast Test Execution\n\n**Optimize test speed:**\n\n- Mock network requests\n- Use in-memory databases\n- Disable animations in UI tests\n- Avoid actual file I/O\n- Use test doubles (mocks/stubs)\n\n**UI Test Speed:**\n\n```swift\n// Disable animations for faster tests\napp.launchArguments += [\"DISABLE_ANIMATIONS\"]\n```\n\n### 3. Readable Test Names\n\n**Use descriptive test names:**\n\n```swift\n// Bad\nfunc test1() { }\n\n// Good\nfunc testLoginWithValidCredentialsSucceeds() { }\nfunc testLoginWithInvalidPasswordShowsError() { }\nfunc testCheckoutWithEmptyCartDisplaysWarning() { }\n```\n\n### 4. Arrange-Act-Assert Pattern\n\n**Structure tests clearly:**\n\n```swift\nfunc testAddItemToCart() {\n    // Arrange\n    let cart = ShoppingCart()\n    let item = Product(name: \"Test\", price: 10)\n\n    // Act\n    cart.add(item)\n\n    // Assert\n    XCTAssertEqual(cart.items.count, 1)\n    XCTAssertEqual(cart.total, 10)\n}\n```\n\n### 5. Test Data Management\n\n**Use consistent test data:**\n\n```swift\nstruct TestFixtures {\n    static let validEmail = \"test@example.com\"\n    static let invalidEmail = \"invalid\"\n    static let testUser = User(name: \"Test\", email: validEmail)\n}\n```\n\n### 6. CI/CD Integration\n\n**CI Test Workflow:**\n\n```\n1. Clean build environment\n2. Build app for testing\n3. Boot fresh simulator\n4. Run test suite\n5. Collect code coverage\n6. Parse test results\n7. Archive test artifacts\n8. Report results\n```\n\n**CI Test Command:**\n\n```json\n{\n  \"operation\": \"test\",\n  \"scheme\": \"MyApp\",\n  \"destination\": \"platform=iOS Simulator,name=iPhone 15\",\n  \"options\": {\n    \"clean_before_build\": true,\n    \"code_coverage\": true,\n    \"result_bundle_path\": \"./TestResults.xcresult\"\n  }\n}\n```\n\n### 7. Test Pyramid\n\n**Maintain proper test distribution:**\n\n```\n      /\\\n     /UI\\       Few, slow, broad\n    /----\\\n   /Integ\\      Some, medium, focused\n  /------\\\n /  Unit  \\     Many, fast, isolated\n/----------\\\n```\n\n**Recommended ratio:**\n\n- 70% Unit tests\n- 20% Integration tests\n- 10% UI tests\n\n### 8. Code Coverage\n\n**Enable coverage collection:**\n\n```json\n{\n  \"operation\": \"test\",\n  \"scheme\": \"MyApp\",\n  \"destination\": \"platform=iOS Simulator,name=iPhone 15\",\n  \"options\": {\n    \"code_coverage\": true\n  }\n}\n```\n\n**Coverage goals:**\n\n- Critical paths: 90%+ coverage\n- Business logic: 80%+ coverage\n- UI code: 60%+ coverage\n- Overall: 75%+ coverage\n\n### 9. Continuous Test Monitoring\n\n**Track test metrics:**\n\n- Test execution time trends\n- Flaky test frequency\n- Test failure rate\n- Code coverage trends\n- Test suite growth\n\n**When to investigate:**\n\n- Test execution time increases >20%\n- Flaky tests appear\n- Coverage drops\n- Failure rate increases\n\n## Related Skills\n\n- **xcode-workflows**: General build and test operations\n- **simulator-workflows**: Managing test simulators and devices\n- **ui-automation-workflows**: Advanced UI test interaction patterns\n- **crash-debugging**: Analyzing test crashes\n\n## Related Resources\n\n- `xc://operations/test`: Complete test operations reference\n- `xc://reference/xctest`: XCTest framework documentation\n- `xc://reference/xcuitest`: XCUITest framework documentation\n- `xc://patterns/flaky-tests`: Flaky test detection patterns\n\n---\n\n**Tip: Isolate tests, mock dependencies, and run tests frequently during development.**"
              },
              {
                "name": "performance-profiling",
                "description": "Instruments integration and performance analysis workflows for iOS apps. Use when profiling CPU usage, memory allocation, network activity, or energy consumption. Covers Time Profiler, Allocations, Leaks, Network instruments, and performance optimization strategies.",
                "path": "skills/performance-profiling/SKILL.md",
                "frontmatter": {
                  "name": "performance-profiling",
                  "description": "Instruments integration and performance analysis workflows for iOS apps. Use when profiling CPU usage, memory allocation, network activity, or energy consumption. Covers Time Profiler, Allocations, Leaks, Network instruments, and performance optimization strategies.",
                  "version": "0.0.1",
                  "token_cost": "~40"
                },
                "content": "# Performance Profiling Skill\n\n**Comprehensive guide to iOS performance analysis and optimization**\n\n## Overview\n\nPerformance profiling is the systematic analysis of an iOS app's runtime behavior to identify bottlenecks, memory issues, network inefficiencies, and energy consumption patterns. This Skill guides you through using Instruments templates, interpreting profiling data, and applying optimization strategies.\n\n**Key Tools:**\n- Instruments (Xcode's profiling suite)\n- xcodebuild for profiling builds\n- Performance metrics analysis\n- Memory graph debugging\n\n## When to Use This Skill\n\nUse performance profiling when:\n\n1. **App Performance Issues**\n   - Slow app launch times\n   - Choppy scrolling or animations\n   - UI freezing or unresponsiveness\n   - High CPU usage\n\n2. **Memory Problems**\n   - Memory leaks detected\n   - Growing memory footprint\n   - Memory warnings\n   - App crashes due to memory pressure\n\n3. **Network Inefficiencies**\n   - Slow data loading\n   - Excessive network requests\n   - Large payload sizes\n   - Poor offline handling\n\n4. **Energy Consumption**\n   - Battery drain complaints\n   - Background processing issues\n   - Thermal throttling\n   - Energy impact reports\n\n5. **Pre-Release Optimization**\n   - Performance regression detection\n   - Baseline performance establishment\n   - Release candidate validation\n   - Performance budget enforcement\n\n## Key Concepts\n\n### Instruments Templates\n\n**Time Profiler**\n- Measures CPU usage and call stacks\n- Identifies hot paths in code\n- Shows function-level performance\n- Best for: CPU-bound operations, algorithm optimization\n\n**Allocations**\n- Tracks memory allocations and deallocations\n- Shows object lifetime and retention\n- Identifies memory growth patterns\n- Best for: Memory footprint analysis, allocation hotspots\n\n**Leaks**\n- Detects memory leaks in real-time\n- Shows leaked objects and their origins\n- Identifies retain cycles\n- Best for: Finding memory leaks, debugging reference cycles\n\n**Network**\n- Monitors HTTP/HTTPS traffic\n- Shows request/response timing\n- Tracks payload sizes\n- Best for: API optimization, bandwidth analysis\n\n**Energy Log**\n- Measures energy consumption\n- Shows CPU, network, display impact\n- Identifies battery drain sources\n- Best for: Battery life optimization\n\n**Core Animation**\n- Analyzes frame rate and rendering\n- Shows layer composition issues\n- Identifies off-screen rendering\n- Best for: Animation optimization, scrolling performance\n\n### Profiling Strategies\n\n**Sampling vs Tracing**\n\n**Sampling (Time Profiler):**\n- Periodically captures call stacks\n- Low overhead (~5-10%)\n- May miss short-lived operations\n- Best for: Production-like scenarios\n\n**Tracing (Most other instruments):**\n- Records every event\n- Higher overhead (10-50%)\n- Complete event history\n- Best for: Detailed analysis\n\n### Performance Metrics\n\n**Launch Time**\n- Pre-main time: Dynamic library loading, +load methods\n- Main to first frame: App initialization, first view load\n- Target: < 400ms total on device\n\n**Scrolling Performance**\n- Frame rate: 60 FPS (16.67ms per frame)\n- Hitch ratio: < 5ms hitches per second\n- Target: 60 FPS sustained during scrolling\n\n**Memory Footprint**\n- Resident memory: Actual physical RAM used\n- Dirty memory: Memory written to by app\n- Target: Depends on device (< 150MB for low-end devices)\n\n**Network Efficiency**\n- Request latency: Time to first byte\n- Transfer size: Payload + overhead\n- Request frequency: Requests per minute\n- Target: < 100KB per request, batch when possible\n\n**Energy Impact**\n- CPU time: Processor usage\n- Network bytes: Data transferred\n- Display time: Screen on time\n- Target: \"Low\" or \"Medium\" energy impact rating\n\n## Workflows\n\n### CPU Profiling (Time Profiler)\n\n**Goal:** Identify CPU-intensive operations and optimize hot paths\n\n**Step 1: Build for Profiling**\n\n```json\n{\n  \"operation\": \"build\",\n  \"scheme\": \"MyApp\",\n  \"configuration\": \"Release\",\n  \"destination\": \"platform=iOS,id=<device-udid>\",\n  \"options\": {\n    \"archive_for_profiling\": true\n  }\n}\n```\n\n**Why Release Configuration?**\n- Enables optimizations\n- Reflects production performance\n- Removes debug overhead\n\n**Device vs Simulator:**\n- Always profile on device for accurate CPU measurements\n- Simulator runs on Mac CPU (not representative)\n\n**Step 2: Profile with Instruments**\n\n```bash\n# Launch Instruments with Time Profiler template\ninstruments -t \"Time Profiler\" \\\n  -D /path/to/trace.trace \\\n  -w <device-udid> \\\n  com.example.MyApp\n```\n\n**Manual Approach:**\n1. Open Instruments (Xcode  Open Developer Tool  Instruments)\n2. Select \"Time Profiler\" template\n3. Choose device and app\n4. Click record, perform problematic operations\n5. Stop recording\n\n**Step 3: Analyze Call Tree**\n\n**Call Tree Settings:**\n- Enable \"Separate by Thread\"\n- Enable \"Hide System Libraries\" (initially)\n- Show \"Heaviest Stack Trace\"\n\n**Interpret Results:**\n- **Self Time**: Time spent in function itself\n- **Total Time**: Time including called functions\n- **Call Count**: Number of times function called\n\n**Red Flags:**\n- Self time > 50ms for UI operations\n- High call count for expensive operations\n- Unexpected functions in hot path\n\n**Step 4: Optimize**\n\n**Common Optimizations:**\n- Reduce algorithm complexity (O(n)  O(n log n))\n- Cache expensive computations\n- Move work off main thread\n- Use lazy evaluation\n\n**Verification:**\n- Profile again after changes\n- Compare before/after traces\n- Ensure optimization didn't break functionality\n\n### Memory Profiling (Allocations & Leaks)\n\n**Goal:** Identify memory leaks and reduce memory footprint\n\n**Step 1: Build for Profiling**\n\n```json\n{\n  \"operation\": \"build\",\n  \"scheme\": \"MyApp\",\n  \"configuration\": \"Debug\",\n  \"destination\": \"platform=iOS Simulator,name=iPhone 15\",\n  \"options\": {\n    \"enable_memory_debugging\": true\n  }\n}\n```\n\n**Note:** Use Debug for better stack traces, Simulator acceptable for memory profiling\n\n**Step 2: Profile with Allocations**\n\n```bash\n# Launch Instruments with Allocations template\ninstruments -t \"Allocations\" \\\n  -D /path/to/allocations.trace \\\n  -w <simulator-udid> \\\n  com.example.MyApp\n```\n\n**Step 3: Identify Memory Growth**\n\n**Heap Growth Analysis:**\n1. Take memory snapshot (Mark Generation)\n2. Perform operation (e.g., open/close view controller)\n3. Take another snapshot\n4. View \"Growth\" column\n\n**Expected:** Minimal growth after repeated operations\n**Red Flag:** Continuous growth with each iteration\n\n**Step 4: Find Leaks**\n\n**Switch to Leaks Instrument:**\n```bash\ninstruments -t \"Leaks\" \\\n  -D /path/to/leaks.trace \\\n  -w <simulator-udid> \\\n  com.example.MyApp\n```\n\n**Interpret Results:**\n- Leaks shown in red\n- Click leak  See responsible stack trace\n- Common causes: Retain cycles, unregistered observers\n\n**Step 5: Debug Retain Cycles**\n\n**Memory Graph Debugger:**\n1. Run app in Xcode\n2. Click \"Debug Memory Graph\" button\n3. Filter by leaked objects\n4. Inspect retain cycle paths\n\n**Common Patterns:**\n- Closure capturing self strongly\n- Delegate not marked weak\n- NSNotificationCenter observers not removed\n- Timer retaining target\n\n**Solutions:**\n- Use `[weak self]` in closures\n- Mark delegates as `weak`\n- Remove observers in deinit\n- Invalidate timers properly\n\n### Network Profiling\n\n**Goal:** Optimize network requests and reduce data usage\n\n**Step 1: Profile with Network Instrument**\n\n```bash\ninstruments -t \"Network\" \\\n  -D /path/to/network.trace \\\n  -w <device-udid> \\\n  com.example.MyApp\n```\n\n**Step 2: Analyze Network Activity**\n\n**Key Metrics:**\n- **Request Count**: Total number of requests\n- **Bytes Transferred**: Upload + download size\n- **Duration**: Time from request to completion\n- **HTTP Status**: Success/failure codes\n\n**Red Flags:**\n- Many small requests (should batch)\n- Large payloads (should paginate)\n- Sequential requests (should parallelize)\n- Redundant requests (should cache)\n\n**Step 3: Optimize Requests**\n\n**Batching:**\n```swift\n// Before: 10 separate requests\nfor item in items {\n    fetchDetails(for: item)\n}\n\n// After: 1 batched request\nfetchDetails(for: items)\n```\n\n**Pagination:**\n```swift\n// Fetch 20 items at a time\nfunc fetchItems(page: Int, pageSize: Int = 20) {\n    let offset = page * pageSize\n    api.fetch(limit: pageSize, offset: offset)\n}\n```\n\n**Caching:**\n```swift\n// Use URLCache or custom cache\nlet cache = URLCache.shared\ncache.diskCapacity = 50 * 1024 * 1024 // 50MB\n```\n\n**Compression:**\n```swift\n// Enable gzip compression\nrequest.setValue(\"gzip\", forHTTPHeaderField: \"Accept-Encoding\")\n```\n\n### Energy Profiling\n\n**Goal:** Reduce battery drain and thermal impact\n\n**Step 1: Profile with Energy Log**\n\n```bash\ninstruments -t \"Energy Log\" \\\n  -D /path/to/energy.trace \\\n  -w <device-udid> \\\n  com.example.MyApp\n```\n\n**Step 2: Analyze Energy Impact**\n\n**Energy Sources:**\n- **CPU**: Processing time\n- **Network**: Data transfer\n- **Display**: Screen updates\n- **Location**: GPS usage\n- **Background**: Background processing\n\n**Energy Levels:**\n- **Low**: 0-10 energy units\n- **Medium**: 10-40 energy units\n- **High**: > 40 energy units\n\n**Target:** Stay in \"Low\" or \"Medium\" most of the time\n\n**Step 3: Optimize Energy Usage**\n\n**CPU Optimization:**\n- Reduce background processing\n- Use efficient algorithms\n- Defer non-critical work\n\n**Network Optimization:**\n- Batch requests\n- Use compression\n- Schedule background transfers\n\n**Display Optimization:**\n- Reduce animation complexity\n- Dim screen when possible\n- Pause animations when offscreen\n\n**Location Optimization:**\n- Use lowest accuracy needed\n- Stop updates when not needed\n- Use significant location changes\n\n## Common Profiling Patterns\n\n### Launch Time Optimization\n\n**Measurement Approach:**\n\n1. **Profile App Launch**\n```bash\ninstruments -t \"App Launch\" \\\n  -D /path/to/launch.trace \\\n  -w <device-udid> \\\n  com.example.MyApp\n```\n\n2. **Analyze Pre-Main Time**\n   - Dynamic library loading\n   - Objective-C class registration\n   - +load method execution\n\n**Optimization Strategies:**\n- Reduce number of dynamic libraries\n- Move +load work to +initialize\n- Lazy load unnecessary frameworks\n\n3. **Analyze Main to First Frame**\n   - UIApplicationMain execution\n   - didFinishLaunching execution\n   - First view controller load\n\n**Optimization Strategies:**\n- Defer heavy initialization\n- Load critical UI first\n- Use placeholders for slow content\n\n**Target:** < 400ms total launch time on device\n\n### Scroll Performance Analysis\n\n**Measurement Approach:**\n\n1. **Profile Scrolling**\n```bash\ninstruments -t \"Core Animation\" \\\n  -D /path/to/scroll.trace \\\n  -w <device-udid> \\\n  com.example.MyApp\n```\n\n2. **Check Frame Rate**\n   - Target: 60 FPS (16.67ms per frame)\n   - Acceptable: 50-60 FPS\n   - Poor: < 50 FPS\n\n3. **Identify Frame Drops**\n   - Look for red/yellow bars in timeline\n   - Check \"Time Profiler\" for main thread work\n\n**Optimization Strategies:**\n\n**Cell Reuse:**\n```swift\n// Proper cell reuse\nfunc tableView(_ tableView: UITableView,\n               cellForRowAt indexPath: IndexPath) -> UITableViewCell {\n    let cell = tableView.dequeueReusableCell(withIdentifier: \"Cell\", for: indexPath)\n    configure(cell: cell, with: data[indexPath.row])\n    return cell\n}\n```\n\n**Image Optimization:**\n```swift\n// Downsize images to display size\nlet size = imageView.bounds.size\nlet downsizedImage = image.resized(to: size)\nimageView.image = downsizedImage\n```\n\n**Layout Caching:**\n```swift\n// Cache calculated heights\nprivate var heightCache: [IndexPath: CGFloat] = [:]\n\nfunc tableView(_ tableView: UITableView,\n               heightForRowAt indexPath: IndexPath) -> CGFloat {\n    if let height = heightCache[indexPath] {\n        return height\n    }\n    let height = calculateHeight(for: indexPath)\n    heightCache[indexPath] = height\n    return height\n}\n```\n\n**Off-Main-Thread Work:**\n```swift\n// Move image processing off main thread\nDispatchQueue.global(qos: .userInitiated).async {\n    let processedImage = self.processImage(image)\n    DispatchQueue.main.async {\n        self.imageView.image = processedImage\n    }\n}\n```\n\n### Memory Leak Detection\n\n**Systematic Approach:**\n\n1. **Identify Suspect Feature**\n   - Feature that shows memory growth\n   - Example: Opening/closing profile view\n\n2. **Create Reproduction Steps**\n   ```\n   1. Launch app\n   2. Open profile view\n   3. Close profile view\n   4. Repeat 10 times\n   ```\n\n3. **Profile with Leaks**\n   - Use Leaks instrument\n   - Follow reproduction steps\n   - Check for leaks after each iteration\n\n4. **Analyze Leak Origin**\n   - Click leaked object\n   - View \"Responsible Caller\"\n   - Trace back to source code\n\n5. **Identify Leak Pattern**\n   - Closure capture: `[weak self]` missing\n   - Delegate: Not marked `weak`\n   - Notification: Observer not removed\n   - Timer: Not invalidated\n\n6. **Fix and Verify**\n   - Apply fix\n   - Profile again\n   - Confirm leak eliminated\n\n### Network Request Optimization\n\n**Analysis Workflow:**\n\n1. **Baseline Measurement**\n   - Profile typical user session\n   - Count total requests\n   - Measure total bytes transferred\n\n2. **Identify Inefficiencies**\n   - **Too many requests**: Batch or consolidate\n   - **Large payloads**: Compress or paginate\n   - **Redundant data**: Implement caching\n   - **Sequential requests**: Parallelize when possible\n\n3. **Optimization Strategies**\n\n**Request Batching:**\n```swift\n// Batch multiple IDs into single request\nfunc fetchUsers(ids: [String]) {\n    let batchedIDs = ids.joined(separator: \",\")\n    api.get(\"/users?ids=\\(batchedIDs)\")\n}\n```\n\n**Response Pagination:**\n```swift\n// Implement cursor-based pagination\nfunc fetchFeed(cursor: String? = nil, limit: Int = 20) {\n    var params = [\"limit\": limit]\n    if let cursor = cursor {\n        params[\"cursor\"] = cursor\n    }\n    api.get(\"/feed\", parameters: params)\n}\n```\n\n**Intelligent Caching:**\n```swift\n// Cache with expiration\nclass APICache {\n    private var cache: [String: CachedResponse] = [:]\n\n    func get(url: String) -> Data? {\n        guard let cached = cache[url],\n              !cached.isExpired else { return nil }\n        return cached.data\n    }\n\n    func set(url: String, data: Data, ttl: TimeInterval = 300) {\n        cache[url] = CachedResponse(data: data, expiry: Date() + ttl)\n    }\n}\n```\n\n**Request Coalescing:**\n```swift\n// Prevent duplicate in-flight requests\nclass RequestCoalescer {\n    private var inFlightRequests: [String: Task<Data, Error>] = [:]\n\n    func request(url: String) async throws -> Data {\n        if let existing = inFlightRequests[url] {\n            return try await existing.value\n        }\n\n        let task = Task {\n            let data = try await performRequest(url)\n            inFlightRequests[url] = nil\n            return data\n        }\n\n        inFlightRequests[url] = task\n        return try await task.value\n    }\n}\n```\n\n## Analysis Techniques\n\n### Call Tree Interpretation\n\n**Understanding Call Tree Structure:**\n\n```\nTotal Time | Self Time | Symbol\n-----------|-----------|--------\n  1000ms   |   10ms    | -[UITableView reloadData]\n   800ms   |   50ms    |   -[MyCell configure]\n   700ms   |  700ms    |      -[ImageProcessor processImage]\n```\n\n**Reading:**\n- `reloadData` took 1000ms total\n- 10ms in `reloadData` itself\n- 800ms in `configure` (called from `reloadData`)\n- 700ms in `processImage` (called from `configure`)\n\n**Optimization Target:** `processImage` (700ms self time)\n\n**Call Tree Filters:**\n\n**Separate by Thread:**\n- Shows which threads are busy\n- Identify main thread bottlenecks\n\n**Hide System Libraries:**\n- Focus on your code\n- Re-enable to see system call overhead\n\n**Flatten Recursion:**\n- Collapses recursive calls\n- Shows total time in recursive function\n\n**Show Obj-C Only / Swift Only:**\n- Filter by language\n- Useful in mixed codebases\n\n### Flame Graph Reading\n\n**Visual Representation:**\n- Width = Time spent\n- Height = Call stack depth\n- Color = Different functions\n\n**Interpretation:**\n- **Wide sections** = Hot spots (spend optimization time here)\n- **Tall stacks** = Deep call chains (consider flattening)\n- **Repeated patterns** = Loop opportunities\n\n**Example:**\n```\n[                    main                    ]  100% of time\n[       viewDidLoad       ][    updateUI    ]  50% each\n[loadData][parseJSON]      [layout][render]  Breakdown\n```\n\n**Optimization Strategy:**\n- Focus on widest sections first\n- Consider parallelizing separate wide sections\n- Optimize functions appearing multiple times\n\n### Memory Graph Debugging\n\n**Workflow:**\n\n1. **Capture Memory Graph**\n   - Run app in Xcode\n   - Click \"Debug Memory Graph\" button (or M)\n\n2. **Filter View**\n   - Filter by \"Leaks\" to see leaked objects\n   - Filter by class name to find specific objects\n\n3. **Inspect Object**\n   - Select object in left panel\n   - View properties in right panel\n   - See references in reference inspector\n\n4. **Trace Retain Cycle**\n   - Follow strong references\n   - Identify circular paths\n   - Note where `weak` should be used\n\n**Example Cycle:**\n```\nViewController  (strong) Closure  (strong) ViewController\n```\n\n**Fix:**\n```swift\n// Before (leak)\nviewModel.onUpdate = {\n    self.updateUI()\n}\n\n// After (no leak)\nviewModel.onUpdate = { [weak self] in\n    self?.updateUI()\n}\n```\n\n### Performance Regression Detection\n\n**Continuous Performance Testing:**\n\n1. **Establish Baseline**\n   - Profile app on reference device\n   - Record key metrics (launch time, memory, FPS)\n   - Store baseline measurements\n\n2. **Automated Performance Tests**\n```swift\nfunc testLaunchPerformance() throws {\n    measure(metrics: [XCTApplicationLaunchMetric()]) {\n        XCUIApplication().launch()\n    }\n}\n\nfunc testScrollPerformance() throws {\n    let app = XCUIApplication()\n    app.launch()\n\n    measure(metrics: [XCTOSSignpostMetric.scrollDecelerationMetric]) {\n        app.tables.firstMatch.swipeUp()\n    }\n}\n```\n\n3. **CI Integration**\n   - Run performance tests in CI\n   - Compare results to baseline\n   - Fail build if regression > threshold\n\n4. **Regression Analysis**\n   - When regression detected, profile locally\n   - Use Time Profiler to find changed code\n   - Optimize or adjust baseline if intentional\n\n**Baseline Format:**\n```json\n{\n  \"launch_time_ms\": 350,\n  \"memory_mb\": 120,\n  \"scroll_fps\": 59,\n  \"thresholds\": {\n    \"launch_time_ms\": 450,\n    \"memory_mb\": 150,\n    \"scroll_fps\": 55\n  }\n}\n```\n\n## Troubleshooting\n\n### High CPU Usage Causes\n\n**Symptoms:**\n- App feels sluggish\n- Device gets hot\n- Battery drains quickly\n- Fans spin up (Mac Catalyst)\n\n**Common Causes:**\n\n**1. Main Thread Blocking**\n```swift\n// Problem: Heavy work on main thread\nDispatchQueue.main.async {\n    let result = expensiveCalculation() // Blocks UI\n    updateUI(with: result)\n}\n\n// Solution: Move work off main thread\nDispatchQueue.global(qos: .userInitiated).async {\n    let result = expensiveCalculation()\n    DispatchQueue.main.async {\n        updateUI(with: result)\n    }\n}\n```\n\n**2. Polling/Tight Loops**\n```swift\n// Problem: Constant polling\nTimer.scheduledTimer(withTimeInterval: 0.01, repeats: true) { _ in\n    checkForUpdates() // Called 100 times per second!\n}\n\n// Solution: Reasonable interval or event-driven\nTimer.scheduledTimer(withTimeInterval: 1.0, repeats: true) { _ in\n    checkForUpdates() // Called once per second\n}\n```\n\n**3. Inefficient Algorithms**\n```swift\n// Problem: O(n) complexity\nfor item in items {\n    for other in items {\n        compare(item, other) // n comparisons\n    }\n}\n\n// Solution: O(n log n) or O(n)\nlet sorted = items.sorted()\nfor (item, other) in zip(sorted, sorted.dropFirst()) {\n    compare(item, other) // n comparisons\n}\n```\n\n### Memory Growth Patterns\n\n**Symptoms:**\n- Memory usage increases over time\n- Memory warnings\n- App crashes after extended use\n\n**Common Patterns:**\n\n**1. Unbounded Cache Growth**\n```swift\n// Problem: Cache grows indefinitely\nclass ImageCache {\n    private var cache: [URL: UIImage] = [:] // Never clears!\n}\n\n// Solution: Use NSCache (auto-eviction)\nclass ImageCache {\n    private let cache = NSCache<NSURL, UIImage>()\n\n    init() {\n        cache.countLimit = 100 // Max 100 images\n    }\n}\n```\n\n**2. Event Listener Accumulation**\n```swift\n// Problem: Listeners never removed\noverride func viewWillAppear(_ animated: Bool) {\n    NotificationCenter.default.addObserver(/* ... */) // Added every time!\n}\n\n// Solution: Remove in viewWillDisappear\noverride func viewWillDisappear(_ animated: Bool) {\n    NotificationCenter.default.removeObserver(self)\n}\n```\n\n**3. Large Object Retention**\n```swift\n// Problem: Keeping large objects in memory\nclass ViewController: UIViewController {\n    var cachedImage: UIImage? // Large image retained\n}\n\n// Solution: Cache only when needed, clear when done\nclass ViewController: UIViewController {\n    private var cachedImage: UIImage?\n\n    override func didReceiveMemoryWarning() {\n        cachedImage = nil // Release when memory pressure\n    }\n}\n```\n\n### Network Inefficiencies\n\n**Symptoms:**\n- Slow data loading\n- High data usage\n- Poor offline experience\n\n**Common Issues:**\n\n**1. Waterfall Requests**\n```swift\n// Problem: Sequential dependent requests\nfunc loadProfile() async {\n    let user = await fetchUser() // Wait...\n    let posts = await fetchPosts(for: user) // Wait...\n    let comments = await fetchComments(for: posts) // Wait...\n}\n\n// Solution: Parallel independent requests\nfunc loadProfile() async {\n    async let user = fetchUser()\n    async let followers = fetchFollowers()\n    async let settings = fetchSettings()\n\n    let (u, f, s) = await (user, followers, settings)\n}\n```\n\n**2. No Request Deduplication**\n```swift\n// Problem: Same request made multiple times\nfunc loadData() {\n    fetchUsers() // Request 1\n    fetchUsers() // Request 2 (redundant!)\n}\n\n// Solution: Deduplicate requests\nclass APIClient {\n    private var pendingRequests: [String: Task<Data, Error>] = [:]\n\n    func fetch(url: String) async throws -> Data {\n        if let pending = pendingRequests[url] {\n            return try await pending.value // Reuse\n        }\n\n        let task = Task { try await URLSession.shared.data(from: URL(string: url)!) }\n        pendingRequests[url] = task\n        defer { pendingRequests[url] = nil }\n        return try await task.value\n    }\n}\n```\n\n**3. Large Uncompressed Payloads**\n```swift\n// Problem: Sending/receiving uncompressed data\nURLSession.shared.dataTask(with: url) // Default: no compression\n\n// Solution: Enable compression\nvar request = URLRequest(url: url)\nrequest.setValue(\"gzip, deflate\", forHTTPHeaderField: \"Accept-Encoding\")\nURLSession.shared.dataTask(with: request)\n```\n\n### Battery Drain Issues\n\n**Symptoms:**\n- User complaints of battery drain\n- Device thermal throttling\n- High energy impact in Settings\n\n**Common Causes:**\n\n**1. Excessive Background Activity**\n```swift\n// Problem: Constant background work\nfunc applicationDidEnterBackground(_ application: UIApplication) {\n    Timer.scheduledTimer(withTimeInterval: 1.0, repeats: true) { _ in\n        syncData() // Drains battery in background\n    }\n}\n\n// Solution: Use background tasks properly\nfunc applicationDidEnterBackground(_ application: UIApplication) {\n    let taskID = application.beginBackgroundTask {\n        // Task expired, clean up\n    }\n\n    syncData {\n        application.endBackgroundTask(taskID)\n    }\n}\n```\n\n**2. Continuous Location Updates**\n```swift\n// Problem: Always requesting location\nlocationManager.startUpdatingLocation() // Continuous GPS drain\n\n// Solution: Use appropriate accuracy\nlocationManager.desiredAccuracy = kCLLocationAccuracyHundredMeters\nlocationManager.distanceFilter = 100 // Update every 100m\nlocationManager.startMonitoringSignificantLocationChanges() // Low power mode\n```\n\n**3. Rendering Offscreen Content**\n```swift\n// Problem: Animating hidden views\noverride func viewDidDisappear(_ animated: Bool) {\n    // Animations keep running! Wastes CPU/battery\n}\n\n// Solution: Pause animations when offscreen\noverride func viewDidDisappear(_ animated: Bool) {\n    animationView.layer.pauseAnimations()\n}\n\nextension CALayer {\n    func pauseAnimations() {\n        let pausedTime = convertTime(CACurrentMediaTime(), from: nil)\n        speed = 0.0\n        timeOffset = pausedTime\n    }\n}\n```\n\n## Best Practices\n\n### Profile on Device vs Simulator\n\n**Always profile on device for:**\n- CPU performance (simulator uses Mac CPU)\n- Memory pressure (different memory characteristics)\n- Network latency (simulator uses Mac network)\n- Energy consumption (no battery in simulator)\n- GPU performance (different graphics hardware)\n\n**Simulator acceptable for:**\n- Initial memory leak detection\n- Basic UI debugging\n- Quick iteration during development\n\n**Recommendation:** Develop on simulator, validate on device, profile on device.\n\n### Release Configuration Profiling\n\n**Why Profile Release Builds:**\n- **Optimizations enabled**: Swift optimizations, inlining, dead code elimination\n- **Debug overhead removed**: No assertions, no debug info\n- **Represents production**: Users run release builds\n\n**Debug vs Release Differences:**\n- Release can be 5-10x faster\n- Memory patterns differ (ARC optimizations)\n- Some bugs only appear in release\n\n**How to Profile Release:**\n1. Edit scheme  Run  Build Configuration  Release\n2. Enable \"Debug executable\" for debugging symbols\n3. Build and run\n4. Profile as normal\n\n**Warning:** Some crashes only happen in release due to optimizations.\n\n### Continuous Performance Monitoring\n\n**Development Workflow:**\n1. **Baseline establishment**: Profile app at start of sprint\n2. **Feature development**: Build features normally\n3. **Pre-merge profiling**: Profile before merging to main\n4. **Regression check**: Compare to baseline\n5. **Optimization if needed**: Fix regressions before merge\n\n**CI Integration:**\n```yaml\n# .github/workflows/performance.yml\nname: Performance Tests\n\non: [pull_request]\n\njobs:\n  performance:\n    runs-on: macos-latest\n    steps:\n      - uses: actions/checkout@v2\n\n      - name: Run performance tests\n        run: xcodebuild test -scheme MyApp -destination 'platform=iOS Simulator,name=iPhone 15'\n\n      - name: Check for regressions\n        run: ./scripts/check_performance_baseline.sh\n```\n\n**Automated Performance Tests:**\n```swift\nclass PerformanceTests: XCTestCase {\n    func testLaunchPerformance() {\n        measure(metrics: [XCTApplicationLaunchMetric()]) {\n            XCUIApplication().launch()\n        }\n    }\n\n    func testMemoryUsage() {\n        let app = XCUIApplication()\n        app.launch()\n\n        measure(metrics: [XCTMemoryMetric()]) {\n            // Perform memory-intensive operations\n            for _ in 0..<100 {\n                app.buttons[\"Load\"].tap()\n            }\n        }\n    }\n}\n```\n\n### Performance Budgets\n\n**Establish Budgets:**\n\n```swift\n// PerformanceBudgets.swift\nenum PerformanceBudget {\n    static let launchTime: TimeInterval = 0.4 // 400ms\n    static let memoryFootprint: Int = 150 * 1024 * 1024 // 150MB\n    static let scrollFrameTime: TimeInterval = 0.0167 // 16.67ms (60 FPS)\n    static let networkRequestTimeout: TimeInterval = 5.0 // 5s\n}\n\n// Enforce in tests\nfunc testLaunchBudget() {\n    let launchTime = measureLaunchTime()\n    XCTAssertLessThan(launchTime, PerformanceBudget.launchTime,\n                      \"Launch time exceeded budget: \\(launchTime)s > \\(PerformanceBudget.launchTime)s\")\n}\n```\n\n**Budget Categories:**\n\n**Launch Time:**\n- Critical: < 400ms (excellent)\n- Acceptable: 400-800ms (good)\n- Poor: > 800ms (needs optimization)\n\n**Memory:**\n- Low-end devices: < 100MB\n- Mid-range devices: < 150MB\n- High-end devices: < 200MB\n\n**Frame Rate:**\n- Scrolling: 60 FPS (16.67ms/frame)\n- Animations: 60 FPS\n- Acceptable: 50+ FPS\n\n**Network:**\n- API response: < 1s\n- Image load: < 2s\n- Timeout: 5s max\n\n**Monitor Budgets:**\n- Track metrics over time\n- Alert when budget exceeded\n- Review budgets quarterly\n\n## Integration with Xcode Workflows\n\nThis Skill integrates with **xcode-workflows** Skill:\n\n**Build for Profiling:**\n```json\n{\n  \"operation\": \"build\",\n  \"scheme\": \"MyApp\",\n  \"configuration\": \"Release\",\n  \"destination\": \"platform=iOS,id=<device-udid>\",\n  \"options\": {\n    \"clean_before_build\": true\n  }\n}\n```\n\n**Archive for Profiling:**\n```bash\nxcodebuild archive \\\n  -scheme MyApp \\\n  -configuration Release \\\n  -archivePath ./build/MyApp.xcarchive\n```\n\n**Export for Profiling:**\n```bash\nxcodebuild -exportArchive \\\n  -archivePath ./build/MyApp.xcarchive \\\n  -exportPath ./build \\\n  -exportOptionsPlist ExportOptions.plist\n```\n\n## Related Skills\n\n- **xcode-workflows**: Building and configuring apps for profiling\n- **crash-debugging**: Analyzing performance-related crashes\n- **ios-testing-patterns**: Performance testing strategies\n\n## Related Resources\n\n- `xc://operations/xcode`: Xcodebuild operations for profiling builds\n- `xc://reference/instruments`: Complete Instruments template reference\n- `xc://reference/performance-metrics`: Key performance indicators and targets\n\n---\n\n**Tip: Profile on device, use Release configuration, focus on user-impacting metrics first.**"
              },
              {
                "name": "simulator-workflows",
                "description": "iOS Simulator device and app management with simctl. Use when managing simulator devices (boot, create, delete), installing/launching apps, or troubleshooting simulator issues. Covers device lifecycle, app lifecycle, and diagnostics.",
                "path": "skills/simulator-workflows/SKILL.md",
                "frontmatter": {
                  "name": "simulator-workflows",
                  "description": "iOS Simulator device and app management with simctl. Use when managing simulator devices (boot, create, delete), installing/launching apps, or troubleshooting simulator issues. Covers device lifecycle, app lifecycle, and diagnostics."
                },
                "content": "# Simulator Workflows\n\n**Use the `execute_simulator_command` MCP tool for all simulator management**\n\nThe xclaude-plugin provides the `execute_simulator_command` MCP tool which consolidates all simctl operations into a single, token-efficient dispatcher.\n\n##  CRITICAL: Always Use MCP Tools First\n\n**This is the most important rule:** When working with iOS simulators, you MUST use the `execute_simulator_command` MCP tool.\n\n-  **DO**: Invoke `execute_simulator_command` for all device/app lifecycle operations\n-  **DO**: If the MCP tool fails, adjust parameters and retry\n-  **DO**: Read error messages and debug the parameters\n-  **NEVER**: Fall back to bash `xcrun simctl` commands\n-  **NEVER**: Use `simctl` directly in bash\n-  **NEVER**: Run `xcrun simctl` commands in a terminal\n\n**Why?** The MCP tool provides:\n- Structured error handling\n- Token efficiency (consolidated into 1 tool vs. verbose bash output)\n- Proper integration with the xclaude-plugin architecture\n- Consistent response formatting\n\nIf `execute_simulator_command` fails, the issue is with parameters or device state - not that you should use bash.\n\n## When to Use Bash (And When NOT to)\n\n###  NEVER Use Bash For These (Use MCP Tools Instead)\n\n| Task |  WRONG (Bash) |  RIGHT (MCP Tool) |\n|------|---------------|-------------------|\n| List devices | `xcrun simctl list` | `execute_simulator_command` op: \"list\" |\n| Boot simulator | `xcrun simctl boot <UDID>` | `execute_simulator_command` op: \"device-lifecycle\" sub: \"boot\" |\n| Install app | `xcrun simctl install <UDID> <app.app>` | `execute_simulator_command` op: \"app-lifecycle\" sub: \"install\" |\n| Launch app | `xcrun simctl launch <UDID> <bundle-id>` | `execute_simulator_command` op: \"app-lifecycle\" sub: \"launch\" |\n| Screenshot | `xcrun simctl io <UDID> screenshot` | `execute_simulator_command` op: \"io\" sub: \"screenshot\" |\n\n###  Bash is Acceptable For (Non-Simulator Tasks)\n\n- File operations: `mkdir`, `cp`, `rm`, `ls`, etc.\n- Text inspection: `grep`, `find`, `cat`, etc.\n- Git operations: `git status`, `git log`, etc.\n- Environment checks: `which`, `simctl --version`, etc.\n- Project exploration: `find . -name \"*.app\"`, etc.\n\n### The Rule: If it's about simulator management  Use MCP tool, not bash\n\n## Quick Reference\n\n| Task | MCP Tool | Operation | Sub-Operation |\n|------|----------|-----------|---------------|\n| List devices | `execute_simulator_command` | `list` | - |\n| Boot device | `execute_simulator_command` | `device-lifecycle` | `boot` |\n| Shutdown device | `execute_simulator_command` | `device-lifecycle` | `shutdown` |\n| Create device | `execute_simulator_command` | `device-lifecycle` | `create` |\n| Delete device | `execute_simulator_command` | `device-lifecycle` | `delete` |\n| Install app | `execute_simulator_command` | `app-lifecycle` | `install` |\n| Launch app | `execute_simulator_command` | `app-lifecycle` | `launch` |\n| Screenshot | `execute_simulator_command` | `io` | `screenshot` |\n| Health check | `execute_simulator_command` | `health-check` | - |\n\n## Device Management\n\n### 1. Listing Devices - Use `execute_simulator_command` with operation: \"list\"\n\nInvoke the `execute_simulator_command` MCP tool:\n\n```json\n{\n  \"operation\": \"list\"\n}\n```\n\n**Returns (Progressive Disclosure):**\n```json\n{\n  \"summary\": {\n    \"total_devices\": 47,\n    \"available_devices\": 31,\n    \"booted_devices\": 1\n  },\n  \"booted\": [\n    {\n      \"name\": \"iPhone 15\",\n      \"udid\": \"ABC123...\",\n      \"state\": \"Booted\",\n      \"runtime\": \"iOS 17.0\"\n    }\n  ],\n  \"cache_id\": \"sim-list-xyz789\",\n  \"next_steps\": [\n    \"Use device name or UDID for operations\",\n    \"Query cache_id for full device list if needed\"\n  ]\n}\n```\n\n**Note:** Large device lists use progressive disclosure to save tokens.\n\n### 2. Booting a Simulator - Use `execute_simulator_command` with device-lifecycle\n\nInvoke the `execute_simulator_command` MCP tool:\n\n**By Name:**\n```json\n{\n  \"operation\": \"device-lifecycle\",\n  \"sub_operation\": \"boot\",\n  \"device_id\": \"iPhone 15\"\n}\n```\n\n**By UDID:**\n```json\n{\n  \"operation\": \"device-lifecycle\",\n  \"sub_operation\": \"boot\",\n  \"device_id\": \"ABC123-DEF456-...\",\n  \"parameters\": {\n    \"wait_for_boot\": true\n  }\n}\n```\n\n**wait_for_boot:** Blocks until device fully booted (recommended)\n\n### 3. Shutting Down\n\n```json\n{\n  \"operation\": \"device-lifecycle\",\n  \"sub_operation\": \"shutdown\",\n  \"device_id\": \"iPhone 15\"\n}\n```\n\n### 4. Creating a New Simulator\n\n```json\n{\n  \"operation\": \"device-lifecycle\",\n  \"sub_operation\": \"create\",\n  \"device_id\": \"My iPhone 15 Test\",\n  \"parameters\": {\n    \"device_type\": \"iPhone 15\",\n    \"runtime\": \"iOS 17.0\"\n  }\n}\n```\n\n**Returns:** New device UDID\n\n**Available Device Types:**\n- iPhone SE (3rd generation)\n- iPhone 14, 14 Plus, 14 Pro, 14 Pro Max\n- iPhone 15, 15 Plus, 15 Pro, 15 Pro Max\n- iPad (10th generation), iPad Air, iPad Pro\n\n**Check available runtimes:** Use `list` to see installed iOS versions\n\n### 5. Deleting a Simulator\n\n```json\n{\n  \"operation\": \"device-lifecycle\",\n  \"sub_operation\": \"delete\",\n  \"device_id\": \"My iPhone 15 Test\"\n}\n```\n\n**Warning:** This is permanent and cannot be undone.\n\n### 6. Erasing a Simulator\n\n**Remove all data but keep device:**\n\n```json\n{\n  \"operation\": \"device-lifecycle\",\n  \"sub_operation\": \"erase\",\n  \"device_id\": \"iPhone 15\"\n}\n```\n\n**When to erase:**\n- Reset app state completely\n- Clear test data\n- Reproduce fresh install behavior\n\n### 7. Cloning a Simulator\n\n**Duplicate a device with all its data:**\n\n```json\n{\n  \"operation\": \"device-lifecycle\",\n  \"sub_operation\": \"clone\",\n  \"device_id\": \"iPhone 15\",\n  \"parameters\": {\n    \"new_name\": \"iPhone 15 Clone\"\n  }\n}\n```\n\n**Use case:** Preserve a specific test state\n\n## App Management\n\n### 1. Installing an App\n\n```json\n{\n  \"operation\": \"app-lifecycle\",\n  \"sub_operation\": \"install\",\n  \"device_id\": \"iPhone 15\",\n  \"app_identifier\": \"/path/to/MyApp.app\"\n}\n```\n\n**Note:** `app_identifier` is the path to `.app` bundle for install operation.\n\n**Build + Install Pattern:**\n\n```\n1. execute_xcode_command (operation: build)  Get .app path\n2. execute_simulator_command (operation: app-lifecycle, sub_operation: install)\n```\n\n### 2. Launching an App\n\n```json\n{\n  \"operation\": \"app-lifecycle\",\n  \"sub_operation\": \"launch\",\n  \"device_id\": \"iPhone 15\",\n  \"app_identifier\": \"com.example.MyApp\"\n}\n```\n\n**With Arguments:**\n```json\n{\n  \"operation\": \"app-lifecycle\",\n  \"sub_operation\": \"launch\",\n  \"device_id\": \"iPhone 15\",\n  \"app_identifier\": \"com.example.MyApp\",\n  \"parameters\": {\n    \"arguments\": [\"--test-mode\", \"--mock-data\"],\n    \"environment\": {\n      \"API_URL\": \"https://staging.example.com\"\n    }\n  }\n}\n```\n\n### 3. Terminating an App\n\n```json\n{\n  \"operation\": \"app-lifecycle\",\n  \"sub_operation\": \"terminate\",\n  \"device_id\": \"iPhone 15\",\n  \"app_identifier\": \"com.example.MyApp\"\n}\n```\n\n### 4. Uninstalling an App\n\n```json\n{\n  \"operation\": \"app-lifecycle\",\n  \"sub_operation\": \"uninstall\",\n  \"device_id\": \"iPhone 15\",\n  \"app_identifier\": \"com.example.MyApp\"\n}\n```\n\n### 5. Getting App Container Paths\n\n**For accessing app data:**\n\n```json\n{\n  \"operation\": \"get-app-container\",\n  \"device_id\": \"iPhone 15\",\n  \"app_identifier\": \"com.example.MyApp\",\n  \"parameters\": {\n    \"container_type\": \"data\"\n  }\n}\n```\n\n**Container Types:**\n- **data**: App's Documents, Library, tmp directories\n- **bundle**: App's .app bundle\n- **group**: Shared group containers\n\n**Returns:** File system path to container\n\n**Use case:** Inspect database files, logs, or user defaults\n\n## Capture & Media\n\n### 1. Taking Screenshots\n\n```json\n{\n  \"operation\": \"io\",\n  \"sub_operation\": \"screenshot\",\n  \"device_id\": \"iPhone 15\",\n  \"parameters\": {\n    \"output_path\": \"/path/to/screenshot.png\"\n  }\n}\n```\n\n**Auto-generated path:** If `output_path` omitted, creates temp file\n\n### 2. Recording Video\n\n```json\n{\n  \"operation\": \"io\",\n  \"sub_operation\": \"video\",\n  \"device_id\": \"iPhone 15\",\n  \"parameters\": {\n    \"output_path\": \"/path/to/video.mp4\",\n    \"duration\": 30\n  }\n}\n```\n\n**Note:** Duration in seconds. Press Ctrl+C to stop recording manually.\n\n## Advanced Operations\n\n### 1. Opening URLs\n\n```json\n{\n  \"operation\": \"openurl\",\n  \"device_id\": \"iPhone 15\",\n  \"parameters\": {\n    \"url\": \"myapp://deep-link/path\"\n  }\n}\n```\n\n**Use cases:**\n- Test universal links\n- Test deep linking\n- Open Safari to specific URL\n\n### 2. Push Notifications\n\n```json\n{\n  \"operation\": \"push\",\n  \"device_id\": \"iPhone 15\",\n  \"app_identifier\": \"com.example.MyApp\",\n  \"parameters\": {\n    \"payload\": {\n      \"aps\": {\n        \"alert\": \"Test notification\",\n        \"badge\": 1,\n        \"sound\": \"default\"\n      }\n    }\n  }\n}\n```\n\n**Payload:** Standard APNs JSON payload\n\n## Environment Validation\n\n### Health Check\n\n**Verify iOS development environment:**\n\n```json\n{\n  \"operation\": \"health-check\"\n}\n```\n\n**Checks:**\n- Xcode installation\n- Command line tools\n- simctl availability\n- CoreSimulator framework\n\n**Returns:**\n```json\n{\n  \"xcode_installed\": true,\n  \"xcode_version\": \"15.0\",\n  \"simctl_available\": true,\n  \"issues\": []\n}\n```\n\n## Device Selection Strategies\n\n### By Name (Easiest)\n\n```json\n{\n  \"device_id\": \"iPhone 15\"\n}\n```\n\n**Pro:** Readable, easy to remember\n**Con:** May match multiple devices\n\n### By UDID (Most Reliable)\n\n```json\n{\n  \"device_id\": \"ABC123-DEF456-GHI789...\"\n}\n```\n\n**Pro:** Unique, guaranteed single match\n**Con:** Long, hard to remember\n\n### Using \"booted\" (Convenience)\n\nSome tools (like IDB) accept `\"booted\"` to target the currently booted simulator:\n\n```json\n{\n  \"target\": \"booted\"\n}\n```\n\n**Note:** Only works with IDB operations, not simctl\n\n## Common Workflows\n\n### Workflow: Fresh Install Test\n\n```\n1. boot  Start simulator\n2. uninstall  Remove existing app\n3. install  Install fresh build\n4. launch  Start app\n5. (UI automation)  Test flow\n6. terminate  Stop app\n7. shutdown  Stop simulator\n```\n\n### Workflow: Rapid Iteration\n\n```\n1. build  Compile latest code\n2. install  Update app on simulator (already booted)\n3. terminate  Stop running app\n4. launch  Start updated app\n```\n\n**Note:** No need to boot/shutdown between iterations\n\n### Workflow: Multi-Device Testing\n\n```\n1. list  Get available devices\n2. For each device:\n   - boot  Start device\n   - install  Install app\n   - launch  Start app\n   - (run tests)  Execute test suite\n   - terminate  Stop app\n   - shutdown  Stop device\n```\n\n## Troubleshooting\n\n### Device Not Found\n\n**Problem:** \"Unable to find device: iPhone 15\"\n\n**Solutions:**\n1. Run `list` to see exact device names\n2. Use UDID instead of name\n3. Check device hasn't been deleted\n\n### Unable to Boot\n\n**Problem:** Boot fails or times out\n\n**Solutions:**\n1. Check disk space (simulators need space)\n2. Shutdown other running simulators\n3. Restart CoreSimulator: `killall -9 com.apple.CoreSimulator.CoreSimulatorService`\n4. Run `health-check` to validate environment\n\n### App Install Fails\n\n**Problem:** Install operation fails\n\n**Solutions:**\n1. Verify .app path is correct\n2. Check device is booted\n3. Ensure .app is built for simulator (not device)\n4. Try erasing simulator first\n\n### App Won't Launch\n\n**Problem:** Launch succeeds but app crashes immediately\n\n**Solutions:**\n1. Check app logs in Console.app\n2. Verify app is signed correctly\n3. Check for missing frameworks/resources\n4. Try clean build + reinstall\n\n## Performance Tips\n\n### 1. Keep Simulators Booted\n\nBooting is slow (~5-10 seconds). Keep simulator running during development.\n\n### 2. Use Progressive Disclosure\n\nDevice lists can be large. Summary provides what you need 95% of the time.\n\n### 3. Reuse Simulators\n\nCreating/deleting is slower than erasing. Reuse devices when possible.\n\n### 4. Parallel Operations\n\nBoot multiple simulators in parallel for multi-device testing:\n\n```\nLaunch 3 boot operations concurrently\nWait for all to complete\nProceed with testing\n```\n\n## Integration with Other Tools\n\n### With Xcodebuild\n\n```\n1. execute_xcode_command (build)  Get .app bundle\n2. execute_simulator_command (install)  Install to simulator\n3. execute_simulator_command (launch)  Start app\n```\n\n### With IDB\n\n```\n1. execute_simulator_command (boot)  Start device\n2. execute_idb_command (describe)  Query UI\n3. execute_idb_command (tap)  Interact\n```\n\n### With Testing\n\n```\n1. execute_simulator_command (boot)  Start device\n2. execute_xcode_command (test)  Run tests on device\n3. execute_simulator_command (shutdown)  Stop device\n```\n\n## Integration with MCP Tools\n\nThis Skill works with `execute_simulator_command` tool:\n\n- All operations use the `execute_simulator_command` tool\n- Tool handles simctl execution\n- Tool provides progressive disclosure for large outputs\n- This Skill teaches WHEN and HOW to use operations\n\n## Related Skills\n\n- **xcode-workflows**: Building apps for simulators\n- **ui-automation-workflows**: Automating simulator interactions\n- **ios-testing-patterns**: Test execution strategies\n\n## Related Resources\n\n- `xc://operations/simulator`: Complete simctl operations reference\n- `xc://reference/device-specs`: Available device types and runtimes\n- `xc://reference/error-codes`: Common simulator errors\n\n---\n\n**Tip: Use `list` to discover, boot by name for convenience, use UDID for reliability.**"
              },
              {
                "name": "state-management",
                "description": "Cache management, configuration best practices, and progressive disclosure patterns for efficient context window usage. Use when working with large responses, optimizing token costs, or managing plugin state across operations.",
                "path": "skills/state-management/SKILL.md",
                "frontmatter": {
                  "name": "state-management",
                  "description": "Cache management, configuration best practices, and progressive disclosure patterns for efficient context window usage. Use when working with large responses, optimizing token costs, or managing plugin state across operations.",
                  "version": "0.0.1",
                  "token_cost": "~40"
                },
                "content": "# State Management Skill\n\n**Optimizing token efficiency and state management in xc-plugin**\n\n## Overview\n\nThe xc-plugin implements sophisticated state management through caching, progressive disclosure, and configuration management. This Skill teaches how to leverage these patterns to minimize token usage, improve performance, and maintain clean state across operations.\n\n**Key Benefits:**\n- **85-90% token reduction** through progressive disclosure\n- **Cache-friendly operations** avoid redundant work\n- **Deterministic state** ensures reliable test results\n- **Configuration consistency** across development workflows\n\n## When to Use This Skill\n\nUse this Skill when you need to:\n\n1. **Optimize Token Usage**\n   - Working with large device lists or build logs\n   - Reducing context window consumption\n   - Implementing efficient query patterns\n\n2. **Manage Cache State**\n   - Understanding when responses are cached\n   - Invalidating stale cache entries\n   - Querying cached data efficiently\n\n3. **Handle Configuration**\n   - Setting up consistent build environments\n   - Managing simulator preferences\n   - Configuring test execution parameters\n\n4. **Design Efficient Workflows**\n   - Implementing progressive disclosure patterns\n   - Avoiding expensive repeated operations\n   - Building cache-aware automation\n\n## Key Concepts\n\n### Progressive Disclosure Pattern\n\n**Principle:** Show essentials first, provide details on-demand.\n\nInstead of returning massive datasets that consume tokens, xc-plugin returns:\n1. **Summary** - Key metrics and booted devices (~100 tokens)\n2. **cache_id** - Reference to full dataset\n3. **Follow-up query** - Retrieve complete details only if needed\n\n**Token Efficiency:**\n```\nTraditional approach: 2000 tokens (full device list)\nProgressive disclosure: 100 tokens (summary) + optional 2000 tokens (details)\nAverage savings: 95% (most queries don't need full details)\n```\n\n### Cache Architecture\n\nThe plugin uses deterministic caching for expensive operations:\n\n**Cache Key Generation:**\n- SHA-256 hash of operation + parameters\n- First 16 characters used as `cache_id`\n- Deterministic: Same input  Same cache_id\n\n**Cache Storage:**\n- In-memory for current session\n- Optional disk persistence\n- Automatic expiration (configurable TTL)\n\n**Cache-Friendly Operations:**\n- `list` operations (device lists, app lists)\n- `build` operations (build logs, test results)\n- `describe` operations (accessibility trees)\n\n### Response Types\n\n**SuccessResult with Progressive Disclosure:**\n```typescript\n{\n  success: true,\n  data: {\n    summary: \"31 devices available, 1 booted\",\n    booted_devices: [...],\n    cache_id: \"a1b2c3d4e5f6g7h8\"\n  },\n  summary: \"Device list retrieved successfully\"\n}\n```\n\n**Follow-up Query Pattern:**\n```typescript\n{\n  operation: \"get-details\",\n  cache_id: \"a1b2c3d4e5f6g7h8\",\n  detail_type: \"full-list\"\n}\n```\n\n## Workflows\n\n### Workflow 1: Cache-Aware Device Listing\n\n**Initial Query (Token-Efficient):**\n```json\n{\n  \"operation\": \"list\",\n  \"parameters\": {\n    \"concise\": true\n  }\n}\n```\n\n**Response:**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"summary\": {\n      \"total_devices\": 47,\n      \"available_devices\": 31,\n      \"booted_devices\": 1\n    },\n    \"booted\": [\n      {\n        \"name\": \"iPhone 15\",\n        \"udid\": \"ABC123...\",\n        \"state\": \"Booted\",\n        \"runtime\": \"iOS 17.0\"\n      }\n    ],\n    \"cache_id\": \"sim-list-xyz789\"\n  }\n}\n```\n\n**Follow-Up (Only If Needed):**\n```json\n{\n  \"operation\": \"get-details\",\n  \"cache_id\": \"sim-list-xyz789\",\n  \"detail_type\": \"full-list\"\n}\n```\n\n**Token Analysis:**\n- Initial query: ~150 tokens\n- Follow-up (if needed): ~2000 tokens\n- Traditional approach: ~2000 tokens always\n- **Savings: 92% when details not needed**\n\n### Workflow 2: Build Cache Management\n\n**Build Operation:**\n```json\n{\n  \"operation\": \"build\",\n  \"scheme\": \"MyApp\",\n  \"configuration\": \"Debug\",\n  \"output_format\": \"summary\"\n}\n```\n\n**Response with Cache:**\n```json\n{\n  \"success\": true,\n  \"data\": {\n    \"message\": \"Build succeeded\",\n    \"build_time\": \"45.2s\",\n    \"warnings\": 3,\n    \"cache_id\": \"build-abc123\"\n  },\n  \"summary\": \"Build completed successfully with 3 warnings\"\n}\n```\n\n**Retrieve Full Logs:**\n```json\n{\n  \"operation\": \"get-details\",\n  \"cache_id\": \"build-abc123\",\n  \"detail_type\": \"full-log\"\n}\n```\n\n**Cache Invalidation Scenarios:**\n- Source code changes\n- Scheme configuration changes\n- Clean operation executed\n- Manual cache clear\n\n### Workflow 3: Configuration State Management\n\n**Query Current Configuration:**\n```json\n{\n  \"operation\": \"cache\",\n  \"sub_operation\": \"get-config\"\n}\n```\n\n**Response:**\n```json\n{\n  \"cache_enabled\": true,\n  \"cache_ttl\": 3600,\n  \"max_cache_size\": 100,\n  \"persistence_enabled\": false\n}\n```\n\n**Update Configuration:**\n```json\n{\n  \"operation\": \"cache\",\n  \"sub_operation\": \"set-config\",\n  \"parameters\": {\n    \"cache_ttl\": 7200,\n    \"persistence_enabled\": true\n  }\n}\n```\n\n### Workflow 4: State Cleanup Between Tests\n\n**Pattern for Clean Test State:**\n\n```\n1. cache (clear: \"all\")  Remove all cached data\n2. device-lifecycle (erase)  Reset simulator state\n3. app-lifecycle (uninstall)  Remove app\n4. app-lifecycle (install)  Fresh install\n5. app-lifecycle (launch)  Start with clean state\n6. (run tests)  Execute test suite\n7. cache (clear: \"response\")  Clean response cache\n```\n\n**Why This Matters:**\n- Eliminates test interdependencies\n- Prevents cache poisoning\n- Ensures reproducible results\n- Catches state-dependent bugs\n\n## Progressive Disclosure Pattern\n\n### Pattern Structure\n\n**Level 1: Summary (Always Returned)**\n```json\n{\n  \"summary\": {\n    \"key_metric_1\": \"value\",\n    \"key_metric_2\": \"value\",\n    \"action_taken\": \"description\"\n  },\n  \"cache_id\": \"unique-identifier\",\n  \"next_steps\": [\n    \"Suggested action 1\",\n    \"Suggested action 2\"\n  ]\n}\n```\n\n**Level 2: Detailed Query (On-Demand)**\n```json\n{\n  \"operation\": \"get-details\",\n  \"cache_id\": \"unique-identifier\",\n  \"detail_type\": \"full-data|errors-only|warnings-only|metadata\"\n}\n```\n\n### When to Use Progressive Disclosure\n\n**Always Use For:**\n- Device lists (>5 devices)\n- Build logs (>100 lines)\n- Test results (>10 tests)\n- Accessibility trees (>20 elements)\n- App lists (>10 apps)\n\n**Skip For:**\n- Single device operations\n- Error messages\n- Quick status checks\n- Configuration queries\n\n### Example: Test Results\n\n**Summary Response:**\n```json\n{\n  \"success\": false,\n  \"data\": {\n    \"tests_run\": 45,\n    \"tests_passed\": 43,\n    \"tests_failed\": 2,\n    \"failed_tests\": [\n      \"MyAppTests.LoginTests.testInvalidPassword\",\n      \"MyAppTests.LoginTests.testEmptyCredentials\"\n    ],\n    \"cache_id\": \"test-run-def456\"\n  }\n}\n```\n\n**Full Details Query:**\n```json\n{\n  \"operation\": \"get-details\",\n  \"cache_id\": \"test-run-def456\",\n  \"detail_type\": \"full-log\"\n}\n```\n\n**Token Efficiency:**\n- Summary: ~200 tokens\n- Full log: ~3000 tokens\n- **Savings: 93% for typical success cases**\n\n## Caching Strategies\n\n### Cache-Friendly Operations\n\n**High Cache Value (Long TTL):**\n- `list` operations (device list changes infrequently)\n- `version` operations (Xcode version is stable)\n- `show-build-settings` (project config changes rarely)\n\n**Moderate Cache Value (Medium TTL):**\n- `build` operations (results valid until code changes)\n- `test` operations (results valid until code/tests change)\n- `describe` operations (UI state changes moderately)\n\n**Low Cache Value (Short TTL):**\n- `device-lifecycle` (device state changes frequently)\n- `app-lifecycle` (app state is dynamic)\n- `input/tap` operations (UI interactions modify state)\n\n### Cache TTL Guidelines\n\n```typescript\n// Recommended TTL values\n{\n  simulator_list: 1800,      // 30 minutes\n  device_state: 60,          // 1 minute\n  build_results: 3600,       // 1 hour\n  test_results: 3600,        // 1 hour\n  xcode_version: 86400,      // 24 hours\n  project_schemes: 3600,     // 1 hour\n  accessibility_tree: 10     // 10 seconds\n}\n```\n\n### Cache Invalidation Triggers\n\n**Automatic Invalidation:**\n- TTL expiration\n- Memory pressure (LRU eviction)\n- Conflicting operation (e.g., `clean` invalidates `build` cache)\n\n**Manual Invalidation:**\n```json\n{\n  \"operation\": \"cache\",\n  \"sub_operation\": \"clear\",\n  \"parameters\": {\n    \"cache_type\": \"simulator|project|response|all\"\n  }\n}\n```\n\n**Smart Invalidation:**\n- File modification detection (build cache)\n- State change detection (device cache)\n- Operation sequence analysis (test cache)\n\n### Memory vs Disk Caching\n\n**In-Memory Cache (Default):**\n- **Pros:** Fast access, no I/O overhead\n- **Cons:** Lost on process restart\n- **Use For:** Session-scoped data, frequently accessed data\n\n**Disk Cache (Optional):**\n- **Pros:** Persists across restarts, larger capacity\n- **Cons:** I/O overhead, synchronization complexity\n- **Use For:** Build artifacts, test results, expensive queries\n\n**Enable Disk Persistence:**\n```json\n{\n  \"operation\": \"persistence\",\n  \"sub_operation\": \"enable\",\n  \"parameters\": {\n    \"cache_dir\": \"/tmp/xc-cache\"\n  }\n}\n```\n\n## Configuration Management\n\n### Xcode Preferences\n\n**Query Build Settings:**\n```json\n{\n  \"operation\": \"show-build-settings\",\n  \"scheme\": \"MyApp\",\n  \"configuration\": \"Debug\"\n}\n```\n\n**Common Settings to Cache:**\n- `PRODUCT_BUNDLE_IDENTIFIER`\n- `DEVELOPMENT_TEAM`\n- `CODE_SIGN_IDENTITY`\n- `SDKROOT`\n- `ARCHS`\n\n**Use Case:**\n- Validate configuration consistency\n- Debug build issues\n- Generate documentation\n- Audit security settings\n\n### Simulator Settings\n\n**Query Simulator Configuration:**\n```json\n{\n  \"operation\": \"list\",\n  \"parameters\": {\n    \"runtime\": \"iOS 17.0\",\n    \"device_type\": \"iPhone\"\n  }\n}\n```\n\n**Persist Simulator State:**\n- Boot order (preferred device)\n- Location simulation settings\n- Accessibility preferences\n- Network conditions\n\n### Build Configurations\n\n**Debug vs Release Configuration:**\n\n**Debug:**\n```json\n{\n  \"configuration\": \"Debug\",\n  \"options\": {\n    \"parallel\": true,\n    \"quiet\": false\n  }\n}\n```\n- Optimizations: Off\n- Symbols: Included\n- Token Impact: Verbose logs (~2000 tokens)\n- Cache Strategy: Short TTL (code changes frequently)\n\n**Release:**\n```json\n{\n  \"configuration\": \"Release\",\n  \"options\": {\n    \"parallel\": true,\n    \"quiet\": true\n  }\n}\n```\n- Optimizations: On\n- Symbols: Optional\n- Token Impact: Quiet logs (~300 tokens)\n- Cache Strategy: Long TTL (less frequent)\n\n### Environment Variables\n\n**Set Test Environment:**\n```json\n{\n  \"operation\": \"app-lifecycle\",\n  \"sub_operation\": \"launch\",\n  \"device_id\": \"iPhone 15\",\n  \"app_identifier\": \"com.example.MyApp\",\n  \"parameters\": {\n    \"environment\": {\n      \"API_URL\": \"https://staging.example.com\",\n      \"MOCK_DATA\": \"true\",\n      \"LOG_LEVEL\": \"debug\"\n    }\n  }\n}\n```\n\n**Common Environment Variables:**\n- `API_URL` - Backend endpoint\n- `FEATURE_FLAGS` - Enable/disable features\n- `TEST_MODE` - Testing-specific behavior\n- `LOG_LEVEL` - Logging verbosity\n\n## Best Practices\n\n### 1. Minimize Context Window Usage\n\n**Use Progressive Disclosure:**\n```json\n// Good: Request summary first\n{\n  \"operation\": \"list\",\n  \"parameters\": { \"concise\": true }\n}\n\n// Then query details only if needed\n{\n  \"operation\": \"get-details\",\n  \"cache_id\": \"sim-list-xyz\"\n}\n```\n\n**Avoid Verbose Operations:**\n```json\n// Bad: Always verbose\n{\n  \"operation\": \"build\",\n  \"options\": { \"verbose\": true }\n}\n\n// Good: Quiet by default, verbose on errors\n{\n  \"operation\": \"build\",\n  \"options\": { \"quiet\": true }\n}\n```\n\n### 2. Cache Expensive Operations\n\n**Identify Expensive Operations:**\n- `build` (20-120 seconds)\n- `test` (10-300 seconds)\n- `list` with large device sets (1-5 seconds)\n- `describe` with complex UI (0.5-2 seconds)\n\n**Cache Strategy:**\n```json\n// First call: Execute and cache\n{\n  \"operation\": \"list\"\n}\n// Response includes cache_id\n\n// Subsequent calls: Use cached data\n{\n  \"operation\": \"get-details\",\n  \"cache_id\": \"previous-cache-id\"\n}\n```\n\n### 3. Clear State Between Test Runs\n\n**Clean State Pattern:**\n```\n1. Cache clear (all)\n2. Simulator erase\n3. App uninstall\n4. Fresh app install\n5. Launch with test environment\n6. Run tests\n7. Cache clear (response)\n```\n\n**Why Each Step:**\n- **Cache clear:** No stale data influencing tests\n- **Simulator erase:** Clean device state\n- **App uninstall:** Remove app data/preferences\n- **Fresh install:** Simulate first-time user\n- **Test environment:** Consistent configuration\n- **Response cache clear:** Clean logs for next run\n\n### 4. Handle Stale Cache Gracefully\n\n**Detect Stale Cache:**\n```typescript\n// Check cache timestamp\nif (cache_age > ttl) {\n  invalidateCache(cache_id);\n  refetch();\n}\n```\n\n**Recovery Strategy:**\n```json\n// If cache miss or stale:\n{\n  \"operation\": \"original-operation\",\n  // Original parameters\n}\n// Plugin automatically refreshes cache\n```\n\n**User Pattern:**\n- Try cached query first\n- If data seems stale, force refresh\n- Update cache with new results\n\n### 5. Token Efficiency Metrics\n\n**Track Token Usage:**\n```\nSummary responses: ~100-300 tokens\nFull responses: ~1000-5000 tokens\nProgressive disclosure savings: 80-95%\n```\n\n**Optimization Checklist:**\n- [ ] Use `concise: true` for list operations\n- [ ] Request `summary` output format for builds\n- [ ] Query cache_id before full details\n- [ ] Use `quiet: true` for non-debug builds\n- [ ] Enable response caching for repeated queries\n\n### 6. Configuration File Examples\n\n**Build Configuration:**\n```json\n{\n  \"scheme\": \"MyApp\",\n  \"configurations\": {\n    \"debug\": {\n      \"configuration\": \"Debug\",\n      \"destination\": \"platform=iOS Simulator,name=iPhone 15\",\n      \"cache_strategy\": \"short_ttl\",\n      \"output_format\": \"summary\"\n    },\n    \"release\": {\n      \"configuration\": \"Release\",\n      \"destination\": \"generic/platform=iOS\",\n      \"cache_strategy\": \"long_ttl\",\n      \"output_format\": \"detailed\"\n    }\n  }\n}\n```\n\n**Test Configuration:**\n```json\n{\n  \"test_scheme\": \"MyAppTests\",\n  \"test_devices\": [\n    \"iPhone 15\",\n    \"iPad Pro (12.9-inch)\"\n  ],\n  \"clean_state\": true,\n  \"cache_results\": true,\n  \"parallel_execution\": false,\n  \"environment\": {\n    \"TEST_MODE\": \"true\",\n    \"MOCK_NETWORK\": \"true\"\n  }\n}\n```\n\n**Cache Configuration:**\n```json\n{\n  \"cache\": {\n    \"enabled\": true,\n    \"ttl\": {\n      \"simulator_list\": 1800,\n      \"build_results\": 3600,\n      \"test_results\": 3600,\n      \"device_state\": 60\n    },\n    \"persistence\": {\n      \"enabled\": true,\n      \"path\": \"/tmp/xc-cache\",\n      \"max_size_mb\": 500\n    },\n    \"invalidation\": {\n      \"auto_invalidate_on_build\": true,\n      \"auto_invalidate_on_test\": false\n    }\n  }\n}\n```\n\n## Integration with MCP Tools\n\nThis Skill applies to all xc-plugin MCP tools:\n\n**Cache-Aware Tools:**\n- `xcodebuild-list` - Returns cache_id for project data\n- `xcodebuild-build` - Returns cache_id for build logs\n- `xcodebuild-test` - Returns cache_id for test results\n- `simctl-list` - Returns cache_id for device lists\n- `idb-ui-describe` - Returns cache_id for UI trees\n\n**Cache Management Tools:**\n- `xcodebuild-get-details` - Query cached build data\n- `simctl-get-details` - Query cached simulator data\n- `cache` - Manage cache configuration\n- `persistence` - Configure disk caching\n\n## Related Skills\n\n- **simulator-workflows**: Device management operations\n- **xcode-workflows**: Build system operations\n- **ui-automation-workflows**: Accessibility tree caching\n- **ios-testing-patterns**: Test state management\n\n## Related Resources\n\n- `xc://reference/cache-architecture` - Cache implementation details\n- `xc://reference/token-optimization` - Token efficiency guide\n- `xc://workflows/progressive-disclosure` - Pattern documentation\n- `xc://reference/configuration` - Configuration reference\n\n---\n\n**Remember: Progressive disclosure first, full details only when needed. Cache expensive operations. Clear state between tests. 85-90% token savings are achievable with proper state management.**"
              },
              {
                "name": "ui-automation-workflows",
                "description": "Accessibility-first UI automation using IDB. Query accessibility tree (fast, 50 tokens) before screenshots (slow, 170 tokens). Use when automating simulator interactions, tapping UI elements, finding buttons, or testing user flows. Covers idb-ui-describe, idb-ui-tap, idb-ui-find-element patterns.",
                "path": "skills/ui-automation-workflows/SKILL.md",
                "frontmatter": {
                  "name": "ui-automation-workflows",
                  "description": "Accessibility-first UI automation using IDB. Query accessibility tree (fast, 50 tokens) before screenshots (slow, 170 tokens). Use when automating simulator interactions, tapping UI elements, finding buttons, or testing user flows. Covers idb-ui-describe, idb-ui-tap, idb-ui-find-element patterns."
                },
                "content": "# UI Automation Workflows\n\n**Use the `execute_idb_command` MCP tool for all UI automation**\n\nThe xclaude-plugin provides the `execute_idb_command` MCP tool which consolidates all IDB UI automation operations into a single, token-efficient dispatcher.\n\n##  CRITICAL: Always Use MCP Tools First\n\n**This is the most important rule:** When automating UI interactions, you MUST use the `execute_idb_command` MCP tool.\n\n-  **DO**: Invoke `execute_idb_command` for all UI automation, element finding, and accessibility queries\n-  **DO**: If the MCP tool fails, adjust parameters and retry\n-  **DO**: Read error messages and debug the parameters\n-  **NEVER**: Fall back to bash `idb` commands\n-  **NEVER**: Use `idb` directly in bash\n-  **NEVER**: Run `idb` commands in a terminal\n\n**Why?** The MCP tool provides:\n- Structured error handling\n- Token efficiency (consolidated into 1 tool vs. verbose bash output)\n- Proper integration with the xclaude-plugin architecture\n- Accessibility-first patterns built-in\n\nIf `execute_idb_command` fails, the issue is with parameters or app state - not that you should use bash.\n\n## Core Principle: Accessibility Before Screenshots\n\n**Always query the accessibility tree first.** Only use screenshots as a fallback.\n\nUse the `execute_idb_command` MCP tool with operation `describe` to access the accessibility tree.\n\n### Why Accessibility-First?\n\n| Approach | Time | Tokens | Reliability |\n|----------|------|--------|-------------|\n| Accessibility tree | ~120ms | ~50 | Survives theme changes |\n| Screenshot | ~2000ms | ~170 | Breaks on visual changes |\n\n**Result: 3-4x faster, 80% cheaper, more reliable**\n\n## Standard Workflow\n\n### 1. Check Accessibility Quality (Optional) - Use `execute_idb_command`\n\nBefore starting automation, check if the app has good accessibility support:\n\nInvoke the `execute_idb_command` MCP tool:\n\n```json\n{\n  \"operation\": \"check-accessibility\",\n  \"target\": \"booted\"\n}\n```\n\n**Interprets:**\n- **\"excellent\"** or **\"good\"**: Proceed with accessibility-first workflow\n- **\"poor\"** or **\"insufficient\"**: May need to rely more on screenshots\n\n**Note:** Most modern iOS apps have good accessibility support. Skip this check if you're confident.\n\n### 2. Query Accessibility Tree - Use `execute_idb_command` with operation: \"describe\"\n\n**This is your starting point for all UI automation:**\n\nInvoke the `execute_idb_command` MCP tool:\n\n```json\n{\n  \"operation\": \"describe\",\n  \"target\": \"booted\",\n  \"parameters\": {\n    \"operation\": \"all\"\n  }\n}\n```\n\n**Returns:**\n```json\n{\n  \"elements\": [\n    {\n      \"label\": \"Login\",\n      \"type\": \"Button\",\n      \"frame\": { \"x\": 100, \"y\": 400, \"width\": 175, \"height\": 50 },\n      \"centerX\": 187,\n      \"centerY\": 425,\n      \"enabled\": true,\n      \"visible\": true\n    },\n    {\n      \"label\": \"Email\",\n      \"type\": \"TextField\",\n      \"value\": \"\",\n      \"frame\": { \"x\": 50, \"y\": 300, \"width\": 275, \"height\": 44 },\n      \"centerX\": 187,\n      \"centerY\": 322\n    }\n  ]\n}\n```\n\n**Use `centerX` and `centerY` for tap coordinates.**\n\n### 3. Find Your Element\n\n**Option A: Search by Label/Text (Preferred)**\n\n```json\n{\n  \"operation\": \"find-element\",\n  \"target\": \"booted\",\n  \"parameters\": {\n    \"query\": \"Login\"\n  }\n}\n```\n\n**Option B: Manual Search**\n\nFrom the accessibility tree response, find the element you want by:\n- `label`: Button text, field labels\n- `type`: Button, TextField, Cell, etc.\n- `value`: Current input value\n- `visible`: Only interact with visible elements\n\n### 4. Interact with Element\n\n**Tap:**\n\n```json\n{\n  \"operation\": \"tap\",\n  \"target\": \"booted\",\n  \"parameters\": {\n    \"x\": 187,\n    \"y\": 425\n  }\n}\n```\n\n**Input Text:**\n\n```json\n{\n  \"operation\": \"input\",\n  \"target\": \"booted\",\n  \"parameters\": {\n    \"text\": \"user@example.com\"\n  }\n}\n```\n\n**Keyboard Actions:**\n\n```json\n{\n  \"operation\": \"input\",\n  \"target\": \"booted\",\n  \"parameters\": {\n    \"key\": \"return\"\n  }\n}\n```\n\nAvailable keys: `return`, `home`, `delete`, `space`, `escape`, `tab`, `up`, `down`, `left`, `right`\n\n### 5. Verify State\n\nAfter interaction, query accessibility tree again to verify:\n\n```json\n{\n  \"operation\": \"describe\",\n  \"target\": \"booted\"\n}\n```\n\n## Common Patterns\n\n### Pattern: Login Flow\n\n```\n1. describe  Find \"Email\" text field\n2. tap  Focus email field\n3. input  Type email\n4. describe  Find \"Password\" text field\n5. tap  Focus password field\n6. input  Type password\n7. describe  Find \"Login\" button\n8. tap  Submit form\n9. describe  Verify next screen\n```\n\n### Pattern: Navigate and Tap\n\n```\n1. describe  Get all buttons\n2. find-element  Search for specific button\n3. tap  Execute tap\n4. describe  Verify navigation\n```\n\n### Pattern: Fill Form\n\n```\n1. describe  Get all text fields\n2. For each field:\n   - tap  Focus field\n   - input  Enter text\n   - input key:return  Next field\n3. describe  Find submit button\n4. tap  Submit\n```\n\n### Pattern: Scroll and Find\n\n```\n1. describe  Check if element visible\n2. If not visible:\n   - gesture (swipe up)  Scroll\n   - describe  Check again\n3. find-element  Locate target\n4. tap  Interact\n```\n\n## Gestures\n\n### Swipe\n\n```json\n{\n  \"operation\": \"gesture\",\n  \"target\": \"booted\",\n  \"parameters\": {\n    \"gesture_type\": \"swipe\",\n    \"direction\": \"up\",\n    \"duration\": 200\n  }\n}\n```\n\nDirections: `up`, `down`, `left`, `right`\n\n### Button Presses\n\n```json\n{\n  \"operation\": \"gesture\",\n  \"target\": \"booted\",\n  \"parameters\": {\n    \"gesture_type\": \"button\",\n    \"button\": \"HOME\"\n  }\n}\n```\n\nButtons: `HOME`, `LOCK`, `SIRI`, `SIDE_BUTTON`, `APPLE_PAY`, `SCREENSHOT`, `APP_SWITCH`\n\n## When to Use Screenshots (Fallback Only)\n\n**Only use screenshots if:**\n\n1. **Accessibility quality is \"poor\"**\n   ```json\n   { \"operation\": \"check-accessibility\", \"target\": \"booted\" }\n   ```\n\n2. **Visual verification needed**\n   - Checking UI layout\n   - Verifying colors/images\n   - Debug visual issues\n\n3. **Element not in accessibility tree**\n   - Custom drawn UI\n   - Canvas/game elements\n   - Some third-party components\n\n**For everything else, use accessibility tree.**\n\n## Troubleshooting\n\n### Element Not Found\n\n**Problem:** find-element returns no results\n\n**Solutions:**\n1. Query full tree with `describe` to see all elements\n2. Check if element is in a scroll view (may be off-screen)\n3. Verify app state (correct screen?)\n4. Check if element has accessibility label\n\n### Tap Not Working\n\n**Problem:** Tap executes but nothing happens\n\n**Solutions:**\n1. Verify element is `enabled: true`\n2. Check element is `visible: true`\n3. Confirm coordinates are correct (use `centerX`, `centerY`)\n4. Element might need double-tap or long-press\n\n### Input Not Working\n\n**Problem:** Text input not appearing\n\n**Solutions:**\n1. Tap text field first to focus\n2. Wait for keyboard to appear\n3. Check field is not disabled\n4. Use keyboard-specific keys (`return`, `delete`)\n\n## Advanced: Coordinate Transformation\n\nIf using screenshots with `idb-ui-tap`, coordinates may need scaling:\n\n```json\n{\n  \"operation\": \"tap\",\n  \"target\": \"booted\",\n  \"parameters\": {\n    \"x\": 187,\n    \"y\": 425,\n    \"applyScreenshotScale\": true,\n    \"screenshotScaleX\": 0.5,\n    \"screenshotScaleY\": 0.5\n  }\n}\n```\n\n**But with accessibility-first, this is rarely needed.**\n\n## Performance Tips\n\n1. **Batch Operations**: Group describe queries to minimize round-trips\n2. **Cache Tree**: Reuse accessibility tree if UI hasn't changed\n3. **Target Specific Areas**: Use `describe` with point coordinates for specific regions\n4. **Avoid Unnecessary Waits**: Accessibility tree reflects real-time state\n\n## Integration with MCP Tools\n\nThis Skill works with `execute_idb_command` tool:\n\n- All operations use the `execute_idb_command` tool\n- Tool handles IDB connection and execution\n- Tool returns structured accessibility data\n- This Skill teaches WHEN and HOW to use operations\n\n## Related Skills\n\n- **accessibility-testing**: WCAG compliance and quality assessment\n- **ios-testing-patterns**: Test automation strategies\n- **simulator-workflows**: Device and app management\n\n## Related Resources\n\n- `xc://operations/idb`: Complete IDB operations reference\n- `xc://reference/accessibility`: Accessibility tree structure guide\n- `xc://workflows/accessibility-first`: This workflow pattern\n\n---\n\n**Remember: Accessibility tree first, screenshots last. 3-4x faster, 80% cheaper.**"
              },
              {
                "name": "xcode-workflows",
                "description": "Xcode build system guidance for xcodebuild operations. Use when building iOS projects, running tests, analyzing build failures, or configuring schemes. Covers build/clean/test operations, interpreting xcodebuild output, and troubleshooting common build errors.",
                "path": "skills/xcode-workflows/SKILL.md",
                "frontmatter": {
                  "name": "xcode-workflows",
                  "description": "Xcode build system guidance for xcodebuild operations. Use when building iOS projects, running tests, analyzing build failures, or configuring schemes. Covers build/clean/test operations, interpreting xcodebuild output, and troubleshooting common build errors."
                },
                "content": "# Xcode Workflows\n\n**Use the `execute_xcode_command` MCP tool for all iOS build operations**\n\nThe xclaude-plugin provides the `execute_xcode_command` MCP tool which consolidates all xcodebuild operations into a single, token-efficient dispatcher.\n\n##  CRITICAL: Always Use MCP Tools First\n\n**This is the most important rule:** When working with iOS builds, you MUST use the `execute_xcode_command` MCP tool.\n\n-  **DO**: Invoke `execute_xcode_command` for all build/test/clean operations\n-  **DO**: If the MCP tool fails, adjust parameters and retry\n-  **DO**: Read error messages and debug the parameters\n-  **NEVER**: Fall back to bash `xcodebuild` commands\n-  **NEVER**: Use `xcodebuild` directly in bash\n-  **NEVER**: Run `xcrun xcodebuild` in a terminal\n\n**Why?** The MCP tool provides:\n\n- Structured error handling\n- Token efficiency (consolidated into 1 tool vs. verbose bash output)\n- Proper integration with the xclaude-plugin architecture\n- Consistent response formatting\n\nIf `execute_xcode_command` fails, the issue is with parameters or the project - not that you should use bash.\n\n## When to Use Bash (And When NOT to)\n\n###  NEVER Use Bash For These (Use MCP Tools Instead)\n\n| Task           |  WRONG (Bash)              |  RIGHT (MCP Tool)                   |\n| -------------- | ---------------------------- | ------------------------------------- |\n| List schemes   | `xcodebuild -list`           | `execute_xcode_command` op: \"list\"    |\n| Build app      | `xcodebuild -scheme...`      | `execute_xcode_command` op: \"build\"   |\n| Run tests      | `xcodebuild -scheme... test` | `execute_xcode_command` op: \"test\"    |\n| Clean build    | `xcodebuild clean`           | `execute_xcode_command` op: \"clean\"   |\n| Get Xcode info | `xcodebuild -version`        | `execute_xcode_command` op: \"version\" |\n\n###  Bash is Acceptable For (Non-Build Tasks)\n\n- File operations: `mkdir`, `cp`, `rm`, `ls`, etc.\n- Text inspection: `grep`, `find`, `cat`, etc.\n- Git operations: `git status`, `git log`, etc.\n- Environment checks: `which`, `xcode-select --version`, etc.\n- Project exploration: `find . -name \"*.swift\"`, etc.\n\n### The Rule: If it's about Xcode building/testing  Use MCP tool, not bash\n\n## Quick Reference\n\n| Task                | MCP Tool                | Operation | Key Parameters                             |\n| ------------------- | ----------------------- | --------- | ------------------------------------------ |\n| Build for simulator | `execute_xcode_command` | `build`   | scheme, configuration:Debug                |\n| Build for device    | `execute_xcode_command` | `build`   | scheme, configuration:Release, destination |\n| Run tests           | `execute_xcode_command` | `test`    | scheme, destination                        |\n| Clean build         | `execute_xcode_command` | `clean`   | scheme                                     |\n| List schemes        | `execute_xcode_command` | `list`    | -                                          |\n| Get Xcode info      | `execute_xcode_command` | `version` | -                                          |\n\n## Standard Workflows\n\n### 1. Building an App\n\n**Step 1: Discover Schemes - Use `execute_xcode_command` with operation: \"list\"**\n\nInvoke the `execute_xcode_command` MCP tool:\n\n```json\n{\n  \"operation\": \"list\",\n  \"project_path\": \"/path/to/Project.xcodeproj\"\n}\n```\n\n**Note:** `project_path` is optional - auto-detected from current directory.\n\n**Returns:**\n\n```json\n{\n  \"schemes\": [\"MyApp\", \"MyAppTests\", \"MyAppUITests\"],\n  \"targets\": [\"MyApp\", \"MyAppKit\", \"MyAppTests\"]\n}\n```\n\n**Step 2: Build - Use `execute_xcode_command` with operation: \"build\"**\n\nInvoke the `execute_xcode_command` MCP tool with build parameters:\n\n```json\n{\n  \"operation\": \"build\",\n  \"scheme\": \"MyApp\",\n  \"configuration\": \"Debug\",\n  \"destination\": \"platform=iOS Simulator,name=iPhone 15\"\n}\n```\n\n**Common Destinations:**\n\n- iOS Simulator (explicit - recommended): `\"platform=iOS Simulator,name=iPhone 15,OS=18.0\"`\n- iOS Simulator (auto-resolve): `\"platform=iOS Simulator,name=iPhone 15\"` (will auto-detect latest OS)\n- iOS Device: `\"platform=iOS,id=<device-udid>\"`\n- Any Simulator: `\"platform=iOS Simulator,name=Any iOS Simulator Device\"`\n- macOS: `\"platform=macOS\"`\n\n**Note:** The destination parameter now supports auto-resolution! If you omit the OS version, the tool will automatically query available simulators and select the latest OS version for the specified device name. For explicit control, include the OS version in your destination string.\n\n### 2. Running Tests\n\n**Unit Tests:**\n\n```json\n{\n  \"operation\": \"test\",\n  \"scheme\": \"MyApp\",\n  \"destination\": \"platform=iOS Simulator,name=iPhone 15\"\n}\n```\n\n**Specific Test Plan:**\n\n```json\n{\n  \"operation\": \"test\",\n  \"scheme\": \"MyApp\",\n  \"destination\": \"platform=iOS Simulator,name=iPhone 15\",\n  \"options\": {\n    \"test_plan\": \"UnitTests\"\n  }\n}\n```\n\n**Run Specific Tests:**\n\n```json\n{\n  \"operation\": \"test\",\n  \"scheme\": \"MyApp\",\n  \"destination\": \"platform=iOS Simulator,name=iPhone 15\",\n  \"options\": {\n    \"only_testing\": [\n      \"MyAppTests/LoginTests/testSuccessfulLogin\",\n      \"MyAppTests/LoginTests/testInvalidCredentials\"\n    ]\n  }\n}\n```\n\n**Skip Specific Tests:**\n\n```json\n{\n  \"operation\": \"test\",\n  \"scheme\": \"MyApp\",\n  \"destination\": \"platform=iOS Simulator,name=iPhone 15\",\n  \"options\": {\n    \"skip_testing\": [\"MyAppUITests\"]\n  }\n}\n```\n\n### 3. Clean Build\n\n**When to Clean:**\n\n- Build artifacts corrupted\n- Switching branches significantly\n- Mysterious build failures\n- Before release builds\n\n```json\n{\n  \"operation\": \"clean\",\n  \"scheme\": \"MyApp\"\n}\n```\n\n**Clean + Build Pattern:**\n\n```json\n{\n  \"operation\": \"build\",\n  \"scheme\": \"MyApp\",\n  \"configuration\": \"Debug\",\n  \"options\": {\n    \"clean_before_build\": true\n  }\n}\n```\n\n## Configurations\n\n### Debug vs Release\n\n**Debug (Default):**\n\n- Optimizations disabled\n- Debug symbols included\n- Faster compile time\n- Larger binary\n- Use for: Development, testing\n\n**Release:**\n\n- Optimizations enabled\n- Debug symbols optional\n- Slower compile time\n- Smaller binary\n- Use for: Production, App Store, performance testing\n\n```json\n{\n  \"operation\": \"build\",\n  \"scheme\": \"MyApp\",\n  \"configuration\": \"Release\"\n}\n```\n\n## Build Options\n\n### Common Options\n\n```json\n{\n  \"operation\": \"build\",\n  \"scheme\": \"MyApp\",\n  \"options\": {\n    \"clean_before_build\": true,\n    \"parallel\": true,\n    \"sdk\": \"iphoneos17.0\",\n    \"arch\": \"arm64\",\n    \"quiet\": false\n  }\n}\n```\n\n**Options Explained:**\n\n- **clean_before_build**: Clean before building (ensures fresh build)\n- **parallel**: Enable parallel builds (faster on multi-core)\n- **sdk**: Specific SDK version (usually auto-selected)\n- **arch**: Target architecture (arm64 for devices, x86_64 for old simulators)\n- **quiet**: Reduce build output verbosity\n\n## Interpreting Build Results\n\n### Success Response\n\n```json\n{\n  \"success\": true,\n  \"summary\": \"Build succeeded\",\n  \"warnings\": 3,\n  \"build_time\": \"45.2s\",\n  \"scheme\": \"MyApp\",\n  \"configuration\": \"Debug\"\n}\n```\n\n### Failure Response\n\n```json\n{\n  \"success\": false,\n  \"error\": \"Build failed\",\n  \"errors\": 2,\n  \"warnings\": 5,\n  \"failure_reason\": \"Compilation errors in ViewController.swift\"\n}\n```\n\n### Progressive Disclosure\n\nLarge build logs use progressive disclosure:\n\n```json\n{\n  \"success\": true,\n  \"summary\": \"Build succeeded with 15 warnings\",\n  \"cache_id\": \"build-abc123\",\n  \"quick_stats\": {\n    \"warnings\": 15,\n    \"build_time\": \"62.3s\"\n  },\n  \"next_steps\": [\n    \"Use cache_id to get full build log if needed\",\n    \"Review warnings for potential issues\"\n  ]\n}\n```\n\n## Common Build Errors\n\n### Error: \"No scheme named 'X' found\"\n\n**Cause:** Scheme doesn't exist or isn't shared\n\n**Solution:**\n\n1. Run `list` operation to see available schemes\n2. Check if scheme is shared (Xcode  Product  Scheme  Manage Schemes)\n\n### Error: \"Code signing identity not found\"\n\n**Cause:** Missing or invalid signing certificate\n\n**Solution:**\n\n1. Check Team ID in project settings\n2. Verify certificates in Keychain\n3. Use automatic signing if possible\n\n```json\n{\n  \"operation\": \"build\",\n  \"scheme\": \"MyApp\",\n  \"options\": {\n    \"code_sign_identity\": \"Apple Development\",\n    \"development_team\": \"TEAM_ID_HERE\"\n  }\n}\n```\n\n### Error: \"SDK not found\"\n\n**Cause:** Requesting unavailable SDK version\n\n**Solution:**\n\n1. Run `version` operation to see available SDKs\n2. Update `sdk` option or remove to use latest\n\n### Error: \"Destination not found\"\n\n**Cause:** Invalid destination specifier\n\n**Solution:**\n\n1. Use `execute_simulator_command` with operation \"list\" to see available devices\n2. Check device name spelling\n3. Ensure device/simulator is available\n\n## Testing Workflows\n\n### Complete Test Suite\n\n```\n1. list  Get test scheme\n2. clean  Ensure fresh state\n3. test  Run all tests\n4. Analyze results  Check for failures\n```\n\n### Flaky Test Detection\n\nRun tests multiple times:\n\n```json\n{\n  \"operation\": \"test\",\n  \"scheme\": \"MyApp\",\n  \"options\": {\n    \"test_iterations\": 5,\n    \"retry_on_failure\": true\n  }\n}\n```\n\n**Note:** Test iteration support depends on Xcode version.\n\n### Test Result Analysis\n\nTests return:\n\n```json\n{\n  \"success\": false,\n  \"tests_run\": 45,\n  \"tests_passed\": 43,\n  \"tests_failed\": 2,\n  \"failures\": [\n    {\n      \"test\": \"MyAppTests.LoginTests.testInvalidPassword\",\n      \"message\": \"XCTAssertEqual failed: (\\\"error\\\") is not equal to (\\\"invalid\\\")\"\n    }\n  ]\n}\n```\n\n## Project Auto-Detection\n\n**xcodebuild operations auto-detect project files:**\n\n1. Searches current directory for `.xcworkspace`\n2. Falls back to `.xcodeproj`\n3. Returns error if multiple or none found\n\n**Explicit Path:**\n\n```json\n{\n  \"operation\": \"build\",\n  \"project_path\": \"/path/to/specific/Project.xcodeproj\",\n  \"scheme\": \"MyApp\"\n}\n```\n\n## Build Performance Tips\n\n### 1. Enable Parallel Builds\n\n```json\n{\n  \"options\": {\n    \"parallel\": true\n  }\n}\n```\n\n### 2. Incremental Builds\n\nDon't clean unless necessary - incremental builds are much faster.\n\n### 3. Reduce Verbosity\n\nFor CI/automated builds:\n\n```json\n{\n  \"options\": {\n    \"quiet\": true\n  }\n}\n```\n\n### 4. Use Derived Data Caching\n\nDefault behavior - xcodebuild uses DerivedData for caching.\n\n## CI/CD Integration\n\n### GitHub Actions Pattern\n\n```\n1. version  Verify Xcode installation\n2. list  Validate scheme exists\n3. clean  Ensure fresh build\n4. build  Compile project\n5. test  Run test suite\n6. Analyze results  Fail pipeline if tests fail\n```\n\n### Build Artifacts\n\nBuild produces:\n\n- `.app` bundle in DerivedData\n- `.xcresult` test results bundle\n- Build logs (via progressive disclosure)\n\n## Advanced: Build Settings\n\nQuery build settings:\n\n```json\n{\n  \"operation\": \"list\",\n  \"project_path\": \"/path/to/Project.xcodeproj\"\n}\n```\n\n**Returns scheme/target info.** For detailed build settings, use Resource:\n\n`xc://reference/build-settings`\n\n## Scheme Management\n\n### Shared vs User Schemes\n\n**Shared Schemes:**\n\n- Checked into source control\n- Available to all users\n- Recommended for team projects\n\n**User Schemes:**\n\n- Local to your machine\n- Not visible to xcodebuild by default\n\n**Best Practice:** Share schemes used for CI/CD.\n\n## Integration with MCP Tools\n\nThis Skill works with `execute_xcode_command` tool:\n\n- All operations use the `execute_xcode_command` tool\n- Tool handles xcodebuild execution and output parsing\n- Tool provides progressive disclosure for large outputs\n- This Skill teaches WHEN and HOW to use operations\n\n## Related Skills\n\n- **ios-testing-patterns**: Advanced test strategies and analysis\n- **simulator-workflows**: Device management for testing\n- **crash-debugging**: Analyzing build crashes\n\n## Related Resources\n\n- `xc://operations/xcode`: Complete xcodebuild operations reference\n- `xc://reference/build-settings`: Build settings dictionary\n- `xc://reference/error-codes`: Common error codes and solutions\n\n---\n\n**Tip: Use `list` to discover, `build` to compile, `test` to validate. Clean only when needed.**"
              }
            ]
          }
        ]
      }
    }
  ]
}