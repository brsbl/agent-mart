{
  "owner": {
    "id": "flight505",
    "display_name": "Jesper Vang",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/20601200?u=e3ad465e8957cf65fadd7a64f88ba2911ac91d2a&v=4",
    "url": "https://github.com/flight505",
    "bio": "Ph.D. researcher on ICOPE - Interregional Childhood Oncology Precision medicine Exploration",
    "stats": {
      "total_repos": 3,
      "total_plugins": 3,
      "total_commands": 0,
      "total_skills": 6,
      "total_stars": 0,
      "total_forks": 0
    }
  },
  "repos": [
    {
      "full_name": "flight505/dincoder-plugin",
      "url": "https://github.com/flight505/dincoder-plugin",
      "description": "DinCoder Plugin for Claude Code - Spec-driven development workflow with slash commands and specialized agents",
      "homepage": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2025-10-22T14:37:21Z",
        "created_at": "2025-10-17T01:06:03Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 939
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 756
        },
        {
          "path": ".gitignore",
          "type": "blob",
          "size": 137
        },
        {
          "path": ".mcp.json",
          "type": "blob",
          "size": 118
        },
        {
          "path": "CLAUDE.md",
          "type": "blob",
          "size": 3906
        },
        {
          "path": "LICENSE",
          "type": "blob",
          "size": 1070
        },
        {
          "path": "PUBLISHING.md",
          "type": "blob",
          "size": 9320
        },
        {
          "path": "QUICK_START.md",
          "type": "blob",
          "size": 2358
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 7307
        },
        {
          "path": "TESTING_GUIDE.md",
          "type": "blob",
          "size": 11104
        },
        {
          "path": "agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "agents/plan-architect.md",
          "type": "blob",
          "size": 3832
        },
        {
          "path": "agents/spec-writer.md",
          "type": "blob",
          "size": 3915
        },
        {
          "path": "agents/task-manager.md",
          "type": "blob",
          "size": 3666
        },
        {
          "path": "commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "commands/next.md",
          "type": "blob",
          "size": 911
        },
        {
          "path": "commands/plan.md",
          "type": "blob",
          "size": 1490
        },
        {
          "path": "commands/progress.md",
          "type": "blob",
          "size": 1357
        },
        {
          "path": "commands/spec.md",
          "type": "blob",
          "size": 1677
        },
        {
          "path": "commands/tasks.md",
          "type": "blob",
          "size": 1744
        },
        {
          "path": "commands/validate.md",
          "type": "blob",
          "size": 1344
        }
      ],
      "marketplace": {
        "name": "dincoder-marketplace",
        "version": null,
        "description": "Official DinCoder plugin marketplace for spec-driven development workflows",
        "owner_info": {
          "name": "flight505",
          "url": "https://github.com/flight505"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "dincoder",
            "description": "Transform ideas into implementation through structured specifications, technical plans, and actionable tasks. Includes slash commands, specialized agents, and 26 MCP tools.",
            "source": "./",
            "category": null,
            "version": "0.7.0",
            "author": null,
            "install_commands": [
              "/plugin marketplace add flight505/dincoder-plugin",
              "/plugin install dincoder@dincoder-marketplace"
            ],
            "signals": {
              "stars": 0,
              "forks": 0,
              "pushed_at": "2025-10-22T14:37:21Z",
              "created_at": "2025-10-17T01:06:03Z",
              "license": "MIT"
            },
            "commands": [],
            "skills": []
          }
        ]
      }
    },
    {
      "full_name": "flight505/storybook-assistant",
      "url": "https://github.com/flight505/storybook-assistant",
      "description": "AI-powered Storybook 9 development assistant with component generation, story automation, and testing. Built for Claude Code.",
      "homepage": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-12T20:55:42Z",
        "created_at": "2026-01-09T22:49:58Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/hooks.json",
          "type": "blob",
          "size": 385
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 765
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 2616
        },
        {
          "path": ".env.example",
          "type": "blob",
          "size": 1288
        },
        {
          "path": ".github",
          "type": "tree",
          "size": null
        },
        {
          "path": ".github/workflows",
          "type": "tree",
          "size": null
        },
        {
          "path": ".github/workflows/notify-marketplace.yml",
          "type": "blob",
          "size": 3090
        },
        {
          "path": ".gitignore",
          "type": "blob",
          "size": 461
        },
        {
          "path": "CLAUDE.md",
          "type": "blob",
          "size": 3404
        },
        {
          "path": "CREATE_COMPONENT_IMPLEMENTATION.md",
          "type": "blob",
          "size": 15909
        },
        {
          "path": "INTEGRATION_COMPLETE.md",
          "type": "blob",
          "size": 15132
        },
        {
          "path": "LICENSE",
          "type": "blob",
          "size": 1068
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 15342
        },
        {
          "path": "SOTA_IMPLEMENTATION_COMPLETE.md",
          "type": "blob",
          "size": 16628
        },
        {
          "path": "SOTA_ROADMAP_2026.md",
          "type": "blob",
          "size": 42715
        },
        {
          "path": "VALIDATION_COMPLETE.md",
          "type": "blob",
          "size": 11444
        },
        {
          "path": "agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "agents/accessibility-auditor.md",
          "type": "blob",
          "size": 7819
        },
        {
          "path": "agents/component-generator.md",
          "type": "blob",
          "size": 8958
        },
        {
          "path": "agents/visual-regression-analyzer.md",
          "type": "blob",
          "size": 15006
        },
        {
          "path": "assets",
          "type": "tree",
          "size": null
        },
        {
          "path": "assets/images",
          "type": "tree",
          "size": null
        },
        {
          "path": "assets/images/hero-banner-archive.png",
          "type": "blob",
          "size": 856982
        },
        {
          "path": "assets/images/hero-banner-voxel.png",
          "type": "blob",
          "size": 1929480
        },
        {
          "path": "assets/images/hero-banner.png",
          "type": "blob",
          "size": 1329981
        },
        {
          "path": "commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "commands/analyze-usage.md",
          "type": "blob",
          "size": 1743
        },
        {
          "path": "commands/create-component.md",
          "type": "blob",
          "size": 16031
        },
        {
          "path": "commands/design-to-code.md",
          "type": "blob",
          "size": 1375
        },
        {
          "path": "commands/fix-accessibility.md",
          "type": "blob",
          "size": 484
        },
        {
          "path": "commands/generate-dark-mode.md",
          "type": "blob",
          "size": 398
        },
        {
          "path": "commands/generate-from-description.md",
          "type": "blob",
          "size": 1337
        },
        {
          "path": "commands/generate-stories.md",
          "type": "blob",
          "size": 14722
        },
        {
          "path": "commands/help.md",
          "type": "blob",
          "size": 9690
        },
        {
          "path": "commands/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "commands/scripts/batch-generate-stories.sh",
          "type": "blob",
          "size": 6319
        },
        {
          "path": "commands/scripts/create-component-workflow.sh",
          "type": "blob",
          "size": 6463
        },
        {
          "path": "commands/scripts/generate-stories-workflow.sh",
          "type": "blob",
          "size": 4440
        },
        {
          "path": "commands/setup-ci-cd.md",
          "type": "blob",
          "size": 432
        },
        {
          "path": "commands/setup-storybook.md",
          "type": "blob",
          "size": 16807
        },
        {
          "path": "commands/setup-visual-testing.md",
          "type": "blob",
          "size": 13968
        },
        {
          "path": "commands/sync-design-tokens.md",
          "type": "blob",
          "size": 1755
        },
        {
          "path": "docs",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/WORKFLOW_DIAGRAMS.md",
          "type": "blob",
          "size": 40946
        },
        {
          "path": "scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "scripts/check-environment.sh",
          "type": "blob",
          "size": 4635
        },
        {
          "path": "scripts/detect-framework.sh",
          "type": "blob",
          "size": 5756
        },
        {
          "path": "skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/accessibility-remediation",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/accessibility-remediation/SKILL.md",
          "type": "blob",
          "size": 16166
        },
        {
          "path": "skills/accessibility-remediation/examples",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/accessibility-remediation/examples/fix-patterns.md",
          "type": "blob",
          "size": 1908
        },
        {
          "path": "skills/accessibility-remediation/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/accessibility-remediation/references/wcag-rules.md",
          "type": "blob",
          "size": 1689
        },
        {
          "path": "skills/accessibility-remediation/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/accessibility-remediation/scripts/analyze_component.py",
          "type": "blob",
          "size": 30933
        },
        {
          "path": "skills/accessibility-remediation/scripts/generate_fixes.py",
          "type": "blob",
          "size": 26229
        },
        {
          "path": "skills/ci-cd-generator",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/ci-cd-generator/SKILL.md",
          "type": "blob",
          "size": 3331
        },
        {
          "path": "skills/component-scaffold",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/component-scaffold/README.md",
          "type": "blob",
          "size": 6500
        },
        {
          "path": "skills/component-scaffold/SKILL.md",
          "type": "blob",
          "size": 9030
        },
        {
          "path": "skills/component-scaffold/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/component-scaffold/scripts/create_component.py",
          "type": "blob",
          "size": 17993
        },
        {
          "path": "skills/component-scaffold/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/component-scaffold/templates/react",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/component-scaffold/templates/react/button.template",
          "type": "blob",
          "size": 348
        },
        {
          "path": "skills/component-scaffold/templates/react/card.template",
          "type": "blob",
          "size": 348
        },
        {
          "path": "skills/component-scaffold/templates/react/custom.template",
          "type": "blob",
          "size": 348
        },
        {
          "path": "skills/component-scaffold/templates/react/input.template",
          "type": "blob",
          "size": 371
        },
        {
          "path": "skills/component-scaffold/templates/react/modal.template",
          "type": "blob",
          "size": 371
        },
        {
          "path": "skills/component-scaffold/templates/react/table.template",
          "type": "blob",
          "size": 3591
        },
        {
          "path": "skills/component-usage-analytics",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/component-usage-analytics/SKILL.md",
          "type": "blob",
          "size": 13748
        },
        {
          "path": "skills/dark-mode-generation",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/dark-mode-generation/SKILL.md",
          "type": "blob",
          "size": 7307
        },
        {
          "path": "skills/design-to-code",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/design-to-code/SKILL.md",
          "type": "blob",
          "size": 11339
        },
        {
          "path": "skills/design-token-sync",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/design-token-sync/SKILL.md",
          "type": "blob",
          "size": 17216
        },
        {
          "path": "skills/natural-language-generation",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/natural-language-generation/SKILL.md",
          "type": "blob",
          "size": 9640
        },
        {
          "path": "skills/performance-analysis",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/performance-analysis/SKILL.md",
          "type": "blob",
          "size": 2558
        },
        {
          "path": "skills/platform-support",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/platform-support/SKILL.md",
          "type": "blob",
          "size": 12061
        },
        {
          "path": "skills/platform-support/electron",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/platform-support/electron/limitations.md",
          "type": "blob",
          "size": 11077
        },
        {
          "path": "skills/platform-support/tauri",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/platform-support/tauri/setup_guide.md",
          "type": "blob",
          "size": 8466
        },
        {
          "path": "skills/plugin-guide",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/plugin-guide/SKILL.md",
          "type": "blob",
          "size": 11549
        },
        {
          "path": "skills/server-components",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/server-components/SKILL.md",
          "type": "blob",
          "size": 10164
        },
        {
          "path": "skills/server-components/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/server-components/templates/client-component.template.tsx",
          "type": "blob",
          "size": 860
        },
        {
          "path": "skills/server-components/templates/server-component.template.tsx",
          "type": "blob",
          "size": 849
        },
        {
          "path": "skills/story-generation",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/story-generation/README.md",
          "type": "blob",
          "size": 12744
        },
        {
          "path": "skills/story-generation/SKILL.md",
          "type": "blob",
          "size": 7858
        },
        {
          "path": "skills/story-generation/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/story-generation/scripts/detect_variants.py",
          "type": "blob",
          "size": 9642
        },
        {
          "path": "skills/story-generation/scripts/generate_story.py",
          "type": "blob",
          "size": 11600
        },
        {
          "path": "skills/story-generation/scripts/parse_component.py",
          "type": "blob",
          "size": 13883
        },
        {
          "path": "skills/story-generation/scripts/scan_components.py",
          "type": "blob",
          "size": 6144
        },
        {
          "path": "skills/story-generation/scripts/test_parser.sh",
          "type": "blob",
          "size": 1209
        },
        {
          "path": "skills/story-generation/scripts/test_samples",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/story-generation/scripts/test_samples/Button.tsx",
          "type": "blob",
          "size": 821
        },
        {
          "path": "skills/story-generation/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/story-generation/templates/react-basic.template",
          "type": "blob",
          "size": 420
        },
        {
          "path": "skills/story-generation/templates/react-full.template",
          "type": "blob",
          "size": 1040
        },
        {
          "path": "skills/story-generation/templates/svelte-full.template",
          "type": "blob",
          "size": 929
        },
        {
          "path": "skills/story-generation/templates/vue-full.template",
          "type": "blob",
          "size": 930
        },
        {
          "path": "skills/storybook-config",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/storybook-config/SKILL.md",
          "type": "blob",
          "size": 8813
        },
        {
          "path": "skills/style-guide-generator",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/style-guide-generator/SKILL.md",
          "type": "blob",
          "size": 14598
        },
        {
          "path": "skills/testing-suite",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/testing-suite/SKILL.md",
          "type": "blob",
          "size": 11595
        },
        {
          "path": "skills/visual-design",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/visual-design/SKILL.md",
          "type": "blob",
          "size": 10115
        },
        {
          "path": "skills/visual-design/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/visual-design/scripts/generate_mockup.py",
          "type": "blob",
          "size": 4946
        },
        {
          "path": "skills/visual-regression-testing",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/visual-regression-testing/SKILL.md",
          "type": "blob",
          "size": 18838
        },
        {
          "path": "skills/visual-regression-testing/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/visual-regression-testing/scripts/analyze_diff.py",
          "type": "blob",
          "size": 11693
        }
      ],
      "marketplace": {
        "name": "storybook-assistant",
        "version": null,
        "description": null,
        "owner_info": {
          "name": "Jesper Vang",
          "email": "contact@flight505.dev"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "storybook-assistant",
            "description": "SOTA 2026 Storybook assistant with Vision AI, natural language generation, AI accessibility remediation, and comprehensive testing for Storybook 9, React 19, Next.js 15",
            "source": "./",
            "category": null,
            "version": null,
            "author": null,
            "install_commands": [
              "/plugin marketplace add flight505/storybook-assistant",
              "/plugin install storybook-assistant@storybook-assistant"
            ],
            "signals": {
              "stars": 0,
              "forks": 0,
              "pushed_at": "2026-01-12T20:55:42Z",
              "created_at": "2026-01-09T22:49:58Z",
              "license": "MIT"
            },
            "commands": [],
            "skills": [
              {
                "name": "Component Usage Analytics",
                "description": "Use this skill when users mention \"component usage\", \"where is this component used\", \"deprecate component\", \"migration impact\", \"component analytics\", or want to track and analyze component usage across the codebase with deprecation planning and migration impact analysis.",
                "path": "skills/component-usage-analytics/SKILL.md",
                "frontmatter": {
                  "name": "Component Usage Analytics",
                  "description": "Use this skill when users mention \"component usage\", \"where is this component used\", \"deprecate component\", \"migration impact\", \"component analytics\", or want to track and analyze component usage across the codebase with deprecation planning and migration impact analysis.",
                  "version": "1.0.0"
                },
                "content": "# Component Usage Analytics\n\n## Overview\n\nTrack component usage across your codebase to make data-driven decisions about deprecation, refactoring, and component library management.\n\n**Key Use Cases:**\n- Find all usages of a component\n- Analyze impact of breaking changes\n- Plan component deprecations\n- Track adoption of new components\n- Identify unused components\n\n## When to Use This Skill\n\nTrigger this skill when the user:\n- Asks \"where is this component used?\"\n- Wants to \"deprecate a component\" or \"plan a migration\"\n- Mentions \"component analytics\" or \"usage tracking\"\n- Asks about \"which components are unused\"\n- Wants to \"analyze breaking change impact\"\n- Needs to \"track component adoption\"\n\n## Core Capabilities\n\n### 1. Usage Analysis\n\nFind all component usages with context:\n\n```bash\n$ npm run analyze:usage Button\n\nAnalyzing Button component...\n\nüìä Usage Report:\n\nTotal Usages: 52 imports across 47 files\n\nBy Feature:\n  - Dashboard: 15 usages (8 files)\n  - Settings: 12 usages (7 files)\n  - Profile: 8 usages (5 files)\n  - Auth: 7 usages (4 files)\n  - Admin: 10 usages (23 files)\n\nBy Variant:\n  - Primary: 34 usages (65%)\n  - Secondary: 13 usages (25%)\n  - Outline: 5 usages (10%)\n\nRecent Changes:\n  - Button@v2 released 14 days ago\n  - 8 files still using Button@v1 (deprecated)\n  - Migration progress: 83% (44/52 files)\n\nTop Users (files with most usages):\n  1. src/features/Dashboard/widgets.tsx (6 usages)\n  2. src/features/Settings/preferences.tsx (4 usages)\n  3. src/features/Profile/edit.tsx (3 usages)\n```\n\n### 2. Deprecation Planning\n\nAnalyze impact before deprecating:\n\n```bash\n$ npm run analyze:deprecate Button@v1\n\n‚ö†Ô∏è Deprecation Impact Analysis: Button@v1\n\nCurrent Usage:\n  - 8 files still using v1\n  - 12 total usages\n  - Across 3 features\n\nMigration Effort:\n  Low effort: 5 files (simple props update)\n  Medium effort: 2 files (variant renamed)\n  High effort: 1 file (custom styling conflicts)\n\nBreaking Changes in v2:\n  1. 'success' variant removed ‚Üí use 'primary' with success color\n  2. 'loading' prop renamed ‚Üí use 'pending' prop\n  3. 'icon' prop now requires IconComponent type\n\nEstimated Migration Time:\n  - Low effort files: 30 mins total (6 mins each)\n  - Medium effort files: 1 hour total (30 mins each)\n  - High effort file: 2 hours (complex refactor)\n  Total: ~3.5 hours\n\nRecommendations:\n  1. Create migration guide for developers\n  2. Add deprecation warnings to v1\n  3. Set sunset date: 30 days from now\n  4. Track migration progress weekly\n\nGenerate migration guide? [Yes] [No]\n```\n\n### 3. Unused Component Detection\n\nFind components that can be removed:\n\n```bash\n$ npm run analyze:unused\n\nScanning codebase...\n\nüóëÔ∏è Unused Components (12 found):\n\nSafe to Remove (no usages):\n  1. LegacyCard - Last used 6 months ago\n  2. OldButton - Replaced by Button v2\n  3. DeprecatedModal - Migrated to Modal v3\n\nPotentially Unused (only in stories/tests):\n  4. ExperimentalBadge - Used in Storybook only\n  5. PrototypeAlert - Used in visual tests only\n\nLow Usage (< 5 usages):\n  6. RareTooltip - 2 usages (last 90 days)\n  7. SpecializedInput - 3 usages (niche use case)\n\nRecommendations:\n  - Remove: LegacyCard, OldButton, DeprecatedModal\n  - Review: ExperimentalBadge, PrototypeAlert\n  - Keep: RareTooltip, SpecializedInput (still needed)\n\nEstimated bundle savings: 47 KB (8% reduction)\n```\n\n### 4. Adoption Tracking\n\nTrack new component adoption:\n\n```bash\n$ npm run analyze:adoption Button@v2\n\nüìà Adoption Report: Button@v2 (released 14 days ago)\n\nCurrent Adoption:\n  - 44 files using v2 (83%)\n  - 8 files still on v1 (17%)\n\nAdoption Trend:\n  Day 1-7:   32 files migrated (61%)\n  Day 8-14:  12 files migrated (22%)\n  This week: 0 new migrations\n\nMigration Velocity:\n  - Week 1: 4.6 files/day\n  - Week 2: 1.7 files/day\n  - Slowing down ‚ö†Ô∏è\n\nBlockers:\n  - High effort migration in src/Admin/dashboard.tsx\n  - Team waiting for migration guide\n  - Need code review bandwidth\n\nActions:\n  1. Publish migration guide (high priority)\n  2. Schedule pairing session for high-effort file\n  3. Set team goal: 100% migration by end of month\n```\n\n## Technical Implementation\n\n### Component Usage Scanner\n\n```typescript\n// scripts/scan-usage.ts\n\ninterface ComponentUsage {\n  component: string;\n  version: string;\n  file: string;\n  line: number;\n  importPath: string;\n  props: string[];\n  variant?: string;\n}\n\nasync function scanComponentUsage(\n  componentName: string\n): Promise<ComponentUsage[]> {\n  const usages: ComponentUsage[] = [];\n\n  // Find all files importing the component\n  const files = await findImports(componentName);\n\n  for (const file of files) {\n    const ast = parseFile(file);\n\n    // Find JSX usages\n    const jsxElements = findJSXElements(ast, componentName);\n\n    for (const element of jsxElements) {\n      usages.push({\n        component: componentName,\n        version: getComponentVersion(file, componentName),\n        file: file.path,\n        line: element.loc.start.line,\n        importPath: getImportPath(ast, componentName),\n        props: extractProps(element),\n        variant: getVariant(element),\n      });\n    }\n  }\n\n  return usages;\n}\n\nfunction getVariant(element: JSXElement): string | undefined {\n  // Look for variant prop\n  const variantProp = element.attributes.find(\n    attr => attr.name === 'variant'\n  );\n\n  if (variantProp && variantProp.value.type === 'StringLiteral') {\n    return variantProp.value.value;\n  }\n\n  return undefined;\n}\n```\n\n### Deprecation Impact Analyzer\n\n```typescript\n// scripts/analyze-deprecation.ts\n\ninterface DeprecationImpact {\n  component: string;\n  version: string;\n  totalUsages: number;\n  affectedFiles: number;\n  affectedFeatures: string[];\n  migrationEffort: {\n    low: number;\n    medium: number;\n    high: number;\n  };\n  breakingChanges: string[];\n  estimatedHours: number;\n}\n\nasync function analyzeDeprecationImpact(\n  component: string,\n  version: string\n): Promise<DeprecationImpact> {\n  const usages = await scanComponentUsage(component);\n  const versionUsages = usages.filter(u => u.version === version);\n\n  // Group by file\n  const fileGroups = groupBy(versionUsages, u => u.file);\n\n  // Analyze migration effort for each file\n  const efforts = await Promise.all(\n    Object.entries(fileGroups).map(([file, fileUsages]) =>\n      analyzeMigrationEffort(file, fileUsages)\n    )\n  );\n\n  // Categorize by effort\n  const migrationEffort = {\n    low: efforts.filter(e => e.effort === 'low').length,\n    medium: efforts.filter(e => e.effort === 'medium').length,\n    high: efforts.filter(e => e.effort === 'high').length,\n  };\n\n  // Estimate total hours\n  const estimatedHours =\n    migrationEffort.low * 0.1 +\n    migrationEffort.medium * 0.5 +\n    migrationEffort.high * 2;\n\n  // Get breaking changes\n  const breakingChanges = await getBreakingChanges(component, version);\n\n  return {\n    component,\n    version,\n    totalUsages: versionUsages.length,\n    affectedFiles: Object.keys(fileGroups).length,\n    affectedFeatures: extractFeatures(versionUsages),\n    migrationEffort,\n    breakingChanges,\n    estimatedHours,\n  };\n}\n\nasync function analyzeMigrationEffort(\n  file: string,\n  usages: ComponentUsage[]\n): Promise<{ file: string; effort: 'low' | 'medium' | 'high' }> {\n  const code = await readFile(file);\n\n  // Factors that increase effort:\n  // - Custom styling on component\n  // - Complex prop transformations\n  // - Type conflicts\n  // - Multiple usages in same file\n\n  let complexityScore = 0;\n\n  // Check for custom styling\n  if (code.includes('styled(') && code.includes(usages[0].component)) {\n    complexityScore += 2;\n  }\n\n  // Check for prop spreading\n  if (usages.some(u => u.props.includes('...'))) {\n    complexityScore += 1;\n  }\n\n  // Number of usages\n  if (usages.length > 5) {\n    complexityScore += 1;\n  }\n\n  // Categorize\n  if (complexityScore === 0) return { file, effort: 'low' };\n  if (complexityScore <= 2) return { file, effort: 'medium' };\n  return { file, effort: 'high' };\n}\n```\n\n### Unused Component Detector\n\n```typescript\n// scripts/detect-unused.ts\n\ninterface UnusedComponent {\n  name: string;\n  path: string;\n  usageCount: number;\n  lastUsed?: Date;\n  category: 'safe-to-remove' | 'potentially-unused' | 'low-usage';\n  bundleSize: number;\n}\n\nasync function detectUnusedComponents(): Promise<UnusedComponent[]> {\n  // Get all components\n  const components = await getAllComponents();\n\n  const unused: UnusedComponent[] = [];\n\n  for (const component of components) {\n    const usages = await scanComponentUsage(component.name);\n\n    // Exclude test and story usages for \"potentially unused\" check\n    const productionUsages = usages.filter(\n      u => !u.file.includes('.test.') && !u.file.includes('.stories.')\n    );\n\n    let category: UnusedComponent['category'];\n\n    if (productionUsages.length === 0 && usages.length === 0) {\n      category = 'safe-to-remove';\n    } else if (productionUsages.length === 0) {\n      category = 'potentially-unused';\n    } else if (productionUsages.length < 5) {\n      category = 'low-usage';\n    } else {\n      continue; // Not unused\n    }\n\n    // Get last usage date\n    const lastUsage = usages.length > 0\n      ? await getLastModifiedDate(usages[0].file)\n      : await getLastModifiedDate(component.path);\n\n    // Get bundle size\n    const bundleSize = await getComponentBundleSize(component.path);\n\n    unused.push({\n      name: component.name,\n      path: component.path,\n      usageCount: productionUsages.length,\n      lastUsed: lastUsage,\n      category,\n      bundleSize,\n    });\n  }\n\n  return unused;\n}\n```\n\n## Example Commands\n\n### Analyze Single Component\n\n```bash\nnpm run analyze:usage Button\n\n# Output: Usage report for Button component\n```\n\n### Deprecation Analysis\n\n```bash\nnpm run analyze:deprecate Button@v1\n\n# Output: Deprecation impact analysis with migration effort\n```\n\n### Find Unused Components\n\n```bash\nnpm run analyze:unused\n\n# Output: List of unused/low-usage components with recommendations\n```\n\n### Track Adoption\n\n```bash\nnpm run analyze:adoption Button@v2\n\n# Output: Adoption metrics and migration progress\n```\n\n### Generate Migration Guide\n\n```bash\nnpm run generate:migration-guide Button@v1 Button@v2\n\n# Output: Markdown migration guide with examples\n```\n\n## Integration with CI/CD\n\n```yaml\n# .github/workflows/component-analytics.yml\nname: Component Analytics\n\non:\n  schedule:\n    - cron: '0 0 * * 0'  # Weekly on Sunday\n\njobs:\n  analytics:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - name: Install dependencies\n        run: npm ci\n      - name: Analyze component usage\n        run: npm run analyze:all\n      - name: Generate report\n        run: npm run generate:analytics-report\n      - name: Create issue for unused components\n        run: |\n          npm run analyze:unused --json > unused.json\n          gh issue create --title \"Weekly: Unused Components\" \\\n            --body-file unused.json \\\n            --label \"maintenance,components\"\n```\n\n## Dashboard Integration\n\nCreate a component analytics dashboard:\n\n```typescript\n// src/analytics/dashboard.tsx\n\nexport function ComponentAnalyticsDashboard() {\n  const [analytics, setAnalytics] = useState<Analytics | null>(null);\n\n  useEffect(() => {\n    loadAnalytics().then(setAnalytics);\n  }, []);\n\n  return (\n    <div>\n      <h1>Component Usage Analytics</h1>\n\n      <section>\n        <h2>Most Used Components</h2>\n        <BarChart data={analytics?.topComponents} />\n      </section>\n\n      <section>\n        <h2>Unused Components</h2>\n        <Table data={analytics?.unusedComponents} />\n      </section>\n\n      <section>\n        <h2>Migration Progress</h2>\n        <MigrationProgressChart data={analytics?.migrations} />\n      </section>\n\n      <section>\n        <h2>Adoption Trends</h2>\n        <LineChart data={analytics?.adoptionTrends} />\n      </section>\n    </div>\n  );\n}\n```\n\n## Best Practices\n\n1. **Regular Scanning** - Run analytics weekly or on PR merges\n2. **Track Trends** - Monitor adoption over time, not just snapshots\n3. **Automate Alerts** - Create issues for unused components automatically\n4. **Migration Planning** - Use effort estimates for sprint planning\n5. **Documentation** - Generate migration guides from analysis results\n\n## Limitations\n\n- Requires AST parsing (works with TS/JS/TSX/JSX)\n- May miss dynamic imports\n- Cannot detect runtime usage patterns\n- Estimates are guidelines, not precise timings\n\n## Integration with Other Skills\n\n- **visual-regression-testing** - Test after component migrations\n- **accessibility-remediation** - Verify a11y after refactoring\n- **story-generation** - Generate stories for migrated components\n- **ci-cd-generator** - Add analytics to CI pipeline\n\n## Files Reference\n\n- `references/ast-parsing.md` - AST parsing techniques\n- `examples/migration-guides.md` - Example migration guides\n- `scripts/scan-usage.ts` - Usage scanner\n- `scripts/analyze-deprecation.ts` - Deprecation analyzer\n- `scripts/detect-unused.ts` - Unused component detector\n\n## Summary\n\nComponent Usage Analytics provides data-driven insights for managing your component library. Track usage, plan deprecations, detect unused code, and monitor adoption.\n\n**Key Benefits:**\n- ‚úÖ Data-driven component decisions\n- ‚úÖ Safe deprecation planning\n- ‚úÖ Identify bundle bloat\n- ‚úÖ Track migration progress\n- ‚úÖ Optimize component library\n\n**Use this skill to** analyze component usage, plan deprecations, find unused components, and track adoption metrics."
              },
              {
                "name": "Bidirectional Design Token Sync",
                "description": "Use this skill when users mention \"sync design tokens\", \"Figma to code\", \"design system sync\", \"token drift\", \"keep tokens in sync\", or want to synchronize design tokens between Figma and codebase bidirectionally with automatic drift detection and conflict resolution.",
                "path": "skills/design-token-sync/SKILL.md",
                "frontmatter": {
                  "name": "Bidirectional Design Token Sync",
                  "description": "Use this skill when users mention \"sync design tokens\", \"Figma to code\", \"design system sync\", \"token drift\", \"keep tokens in sync\", or want to synchronize design tokens between Figma and codebase bidirectionally with automatic drift detection and conflict resolution.",
                  "version": "1.0.0"
                },
                "content": "# Bidirectional Design Token Sync\n\n## Overview\n\nKeep design tokens synchronized between Figma and your codebase automatically. Detect drift, resolve conflicts, and maintain a single source of truth for your design system.\n\n**Key Innovation:** Bidirectional sync means changes in Figma OR code propagate automatically with conflict detection and intelligent merging.\n\n## When to Use This Skill\n\nTrigger this skill when the user:\n- Mentions \"sync tokens with Figma\" or \"Figma sync\"\n- Wants to \"export tokens from Figma\" or \"import tokens to Figma\"\n- Asks about \"design token drift\" or \"out of sync tokens\"\n- Wants to \"update tokens from design\" or vice versa\n- Mentions Style Dictionary, design tokens, or token management\n- Has conflicts between design and code token values\n\n## Core Capabilities\n\n### 1. Figma ‚Üí Code Sync\n\n**Problem:** Designers update colors/spacing in Figma, developers manually update code\n\n**Solution:** Automatic extraction and sync:\n```\nFigma Variables/Styles ‚Üí Parse ‚Üí Transform ‚Üí Code Tokens\n```\n\nSupports:\n- Colors (all formats: hex, rgb, hsl)\n- Typography (font-family, size, weight, line-height, letter-spacing)\n- Spacing (padding, margin, gap)\n- Border radius\n- Shadows/elevation\n- Gradients\n\n### 2. Code ‚Üí Figma Sync\n\n**Problem:** Developers add tokens in code, design falls out of sync\n\n**Solution:** Push code changes back to Figma:\n```\nCode Tokens ‚Üí Transform ‚Üí Figma API ‚Üí Update Variables/Styles\n```\n\n### 3. Drift Detection\n\nAutomatically detect when design and code tokens diverge:\n\n```bash\n$ npm run tokens:check\n\nüîç Drift detected:\n\nFigma ‚Üí Code (5 changes):\n  ‚úì primary-500: #2196F3 ‚Üí #1976D2 (theme update)\n  ‚úì spacing-lg: 20px ‚Üí 24px (increased)\n  ‚ö†Ô∏è New token: primary-gradient (add to code)\n  ‚ö†Ô∏è New token: shadow-xl (add to code)\n  ‚úì Renamed: font-body ‚Üí font-sans (update)\n\nCode ‚Üí Figma (2 changes):\n  ‚ö†Ô∏è success-900 exists in code but not Figma (add)\n  ‚ö†Ô∏è border-radius-2xl exists in code but not Figma (add)\n\nApply changes? [Figma‚ÜíCode] [Code‚ÜíFigma] [Both] [Review]\n```\n\n### 4. Conflict Resolution\n\nWhen both sides changed the same token:\n\n```\n‚ö†Ô∏è Conflict detected for token: primary-500\n\nFigma:  #1976D2 (updated 2 hours ago by Sarah Designer)\nCode:   #2196F3 (updated 1 hour ago by you in commit abc123)\n\nWhich version should we keep?\n[F]igma value  [C]ode value  [M]erge manually  [S]kip\n\nRecommendation: Code value is newer, use Code (C)\n```\n\n## Technical Implementation\n\n### Architecture\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ  Figma  ‚îÇ ‚Üê‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí ‚îÇ Style        ‚îÇ ‚Üê‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí ‚îÇ Code ‚îÇ\n‚îÇ   API   ‚îÇ         ‚îÇ Dictionary   ‚îÇ         ‚îÇTokens‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n     ‚Üì                      ‚Üì                     ‚Üì\n  Variables         tokens.json              CSS/JS/TS\n   Styles                                  src/tokens/\n```\n\n### Components\n\n1. **Figma Plugin** (Optional)\n   - Runs inside Figma\n   - Extracts variables and styles\n   - Can update Figma from external source\n\n2. **Sync CLI** (Core)\n   - Command-line tool for sync\n   - Connects to Figma API\n   - Uses Style Dictionary for transformation\n\n3. **Style Dictionary Config**\n   - Transforms tokens to multiple formats\n   - CSS variables, SCSS, JS, JSON, iOS, Android\n\n4. **Drift Detector**\n   - Compares Figma and code tokens\n   - Identifies additions, deletions, changes\n   - Tracks change history\n\n### Setup\n\nUse `/sync-design-tokens --setup` to configure:\n\n```bash\nFigma Design Token Sync Setup\n==============================\n\n1. Figma Configuration\n   ? Figma file URL: https://figma.com/file/abc123...\n   ? Figma access token: (input hidden)\n   ? Token location in Figma: [Local Variables] [Shared Variables]\n\n2. Sync Direction\n   ? Sync direction: [Bidirectional] [Figma ‚Üí Code only] [Code ‚Üí Figma only]\n   ? Auto-sync on file save: [Yes] [No]\n   ? Sync on git commit: [Yes] [No]\n\n3. Conflict Resolution\n   ? On conflict: [Manual review] [Prefer Figma] [Prefer Code] [Use latest]\n\n4. Output Formats\n   ? Generate CSS variables: [Yes]\n   ? Generate SCSS variables: [Yes]\n   ? Generate TypeScript: [Yes]\n   ? Generate JSON: [Yes]\n\nSetting up...\n‚úì Installed: @figma/rest-api-client\n‚úì Installed: style-dictionary\n‚úì Created: tokens/figma-tokens.json (source of truth)\n‚úì Created: config/style-dictionary.config.js\n‚úì Created: scripts/sync-tokens.js\n‚úì Added NPM scripts\n\nSetup complete! Run 'npm run tokens:sync' to sync for the first time.\n```\n\n### Workflow\n\n#### Initial Sync (Figma ‚Üí Code)\n\n```bash\n$ npm run tokens:sync\n\nFetching tokens from Figma...\n  ‚úì Connected to Figma file: Design System v2\n  ‚úì Found 127 color variables\n  ‚úì Found 43 typography styles\n  ‚úì Found 24 spacing tokens\n  ‚úì Found 12 shadow styles\n\nTransforming tokens...\n  ‚úì Generated: src/tokens/colors.css\n  ‚úì Generated: src/tokens/colors.scss\n  ‚úì Generated: src/tokens/colors.ts\n  ‚úì Generated: src/tokens/typography.css\n  ‚úì Generated: src/tokens/spacing.css\n\nInitial sync complete! üì¶\nTotal tokens: 206\n```\n\n#### Regular Sync with Drift\n\n```bash\n$ npm run tokens:check\n\nChecking for drift...\n\nChanges detected:\n  Figma ‚Üí Code: 3 changes\n  Code ‚Üí Figma: 1 change\n\nWould you like to review? [Yes] [Apply all] [Cancel]\n\nUser: Yes\n\n---\n\nChange 1 of 4: primary-600 color update\n\nSource: Figma\nType: Color modification\nOld value: #2196F3\nNew value: #1976D2\nLast updated: 2 hours ago by Sarah Designer\nAffected tokens in code: 12 references\n\nApply this change? [Yes] [No] [Skip all]\n\nUser: Yes\n\n‚úì Updated src/tokens/colors.css\n‚úì Updated src/tokens/colors.scss\n‚úì Updated src/tokens/colors.ts\n\n---\n\nChange 2 of 4: success-900 missing in Figma\n\nSource: Code\nType: New token\nValue: #1B5E20\nCreated: 3 days ago in commit def456\nUsage: 5 components\n\nAdd to Figma? [Yes] [No] [Skip all]\n\nUser: Yes\n\n‚úì Created in Figma: success-900\n‚úì Added to collection: Colors/Success\n\n---\n\nSync complete! Applied 4 changes.\n\nSummary:\n  ‚úì Figma ‚Üí Code: 3 changes applied\n  ‚úì Code ‚Üí Figma: 1 change applied\n  ‚úì No conflicts\n\nRun 'git status' to see updated files.\n```\n\n## Figma API Integration\n\n### Authentication\n\n```javascript\n// scripts/sync-tokens.js\nimport { FigmaClient } from '@figma/rest-api-client';\n\nconst client = new FigmaClient({\n  personalAccessToken: process.env.FIGMA_ACCESS_TOKEN\n});\n\nconst fileKey = 'abc123...'; // From Figma URL\n\n// Get file variables\nconst variables = await client.getFileVariables(fileKey);\n```\n\n### Extract Variables\n\n```javascript\nasync function extractTokensFromFigma(fileKey) {\n  const file = await client.getFile(fileKey);\n  const variables = await client.getFileVariables(fileKey);\n\n  const tokens = {\n    color: {},\n    typography: {},\n    spacing: {},\n    shadow: {}\n  };\n\n  // Extract color variables\n  for (const [id, variable] of Object.entries(variables.variables)) {\n    if (variable.resolvedType === 'COLOR') {\n      const name = variable.name.toLowerCase().replace(/\\s+/g, '-');\n      const value = rgbaToHex(variable.valuesByMode.default);\n\n      tokens.color[name] = {\n        value,\n        type: 'color',\n        figmaId: id,\n        description: variable.description || ''\n      };\n    }\n  }\n\n  // Extract typography styles\n  const styles = await client.getFileStyles(fileKey);\n\n  for (const style of styles.text) {\n    const name = style.name.toLowerCase().replace(/\\s+/g, '-');\n\n    tokens.typography[name] = {\n      fontFamily: style.fontFamily,\n      fontSize: style.fontSize,\n      fontWeight: style.fontWeight,\n      lineHeight: style.lineHeight,\n      letterSpacing: style.letterSpacing,\n      type: 'typography',\n      figmaId: style.id\n    };\n  }\n\n  return tokens;\n}\n```\n\n### Push Updates to Figma\n\n```javascript\nasync function pushTokensToFigma(tokens, fileKey) {\n  const updates = [];\n\n  for (const [category, categoryTokens] of Object.entries(tokens)) {\n    for (const [name, token] of Object.entries(categoryTokens)) {\n      if (!token.figmaId) {\n        // New token - create in Figma\n        updates.push(createVariable(name, token));\n      } else if (token.modified) {\n        // Modified token - update in Figma\n        updates.push(updateVariable(token.figmaId, token));\n      }\n    }\n  }\n\n  // Batch update\n  await client.updateFileVariables(fileKey, { updates });\n}\n\nasync function createVariable(name, token) {\n  return {\n    action: 'CREATE',\n    name: name,\n    resolvedType: token.type === 'color' ? 'COLOR' : 'FLOAT',\n    valuesByMode: {\n      default: parseTokenValue(token.value, token.type)\n    }\n  };\n}\n```\n\n## Style Dictionary Configuration\n\n```javascript\n// config/style-dictionary.config.js\nexport default {\n  source: ['tokens/figma-tokens.json'],\n\n  platforms: {\n    css: {\n      transformGroup: 'css',\n      buildPath: 'src/tokens/',\n      files: [{\n        destination: 'colors.css',\n        format: 'css/variables',\n        filter: token => token.type === 'color'\n      }]\n    },\n\n    scss: {\n      transformGroup: 'scss',\n      buildPath: 'src/tokens/',\n      files: [{\n        destination: '_colors.scss',\n        format: 'scss/variables',\n        filter: token => token.type === 'color'\n      }]\n    },\n\n    js: {\n      transformGroup: 'js',\n      buildPath: 'src/tokens/',\n      files: [{\n        destination: 'colors.ts',\n        format: 'javascript/es6',\n        filter: token => token.type === 'color'\n      }]\n    },\n\n    json: {\n      buildPath: 'dist/tokens/',\n      files: [{\n        destination: 'tokens.json',\n        format: 'json/flat'\n      }]\n    }\n  }\n};\n```\n\n## Drift Detection Algorithm\n\n```python\n# scripts/detect-drift.py\n\ndef detect_drift(figma_tokens, code_tokens):\n    \"\"\"Detect differences between Figma and code tokens\"\"\"\n\n    drift = {\n        'figma_to_code': [],  # Changes in Figma not in code\n        'code_to_figma': [],  # Changes in code not in Figma\n        'conflicts': []       # Both changed differently\n    }\n\n    all_token_names = set(figma_tokens.keys()) | set(code_tokens.keys())\n\n    for name in all_token_names:\n        figma_token = figma_tokens.get(name)\n        code_token = code_tokens.get(name)\n\n        if figma_token and not code_token:\n            # Token exists in Figma but not code\n            drift['figma_to_code'].append({\n                'type': 'new',\n                'name': name,\n                'value': figma_token['value'],\n                'action': 'add_to_code'\n            })\n\n        elif code_token and not figma_token:\n            # Token exists in code but not Figma\n            drift['code_to_figma'].append({\n                'type': 'new',\n                'name': name,\n                'value': code_token['value'],\n                'action': 'add_to_figma'\n            })\n\n        elif figma_token and code_token:\n            # Token exists in both - check for changes\n            if figma_token['value'] != code_token['value']:\n                # Check timestamps to determine which is newer\n                figma_time = figma_token.get('lastModified', 0)\n                code_time = code_token.get('lastModified', 0)\n\n                if figma_time > code_time:\n                    drift['figma_to_code'].append({\n                        'type': 'modified',\n                        'name': name,\n                        'old_value': code_token['value'],\n                        'new_value': figma_token['value'],\n                        'action': 'update_code'\n                    })\n                elif code_time > figma_time:\n                    drift['code_to_figma'].append({\n                        'type': 'modified',\n                        'name': name,\n                        'old_value': figma_token['value'],\n                        'new_value': code_token['value'],\n                        'action': 'update_figma'\n                    })\n                else:\n                    # Modified at same time = conflict\n                    drift['conflicts'].append({\n                        'name': name,\n                        'figma_value': figma_token['value'],\n                        'code_value': code_token['value'],\n                        'action': 'manual_resolution'\n                    })\n\n    return drift\n```\n\n## Example Usage\n\n### Scenario 1: Designer Updates Color in Figma\n\n```bash\n# Designer changes primary-600 in Figma from #2196F3 to #1976D2\n\n$ npm run tokens:sync\n\nSyncing with Figma...\n\nChanges detected:\n  ‚úì primary-600: #2196F3 ‚Üí #1976D2 (Figma updated 5 mins ago)\n\nAffected code:\n  - src/components/Button.tsx (2 references)\n  - src/components/Card.tsx (1 reference)\n  - src/theme/colors.css (1 reference)\n\nApply change? [Yes] [No] [Review impact]\n\nUser: Yes\n\n‚úì Updated tokens/figma-tokens.json\n‚úì Regenerated src/tokens/colors.css\n‚úì Regenerated src/tokens/colors.scss\n‚úì Regenerated src/tokens/colors.ts\n\n‚úì Sync complete!\n\nNext steps:\n1. Review changes: git diff\n2. Test visual regressions: npm run test:visual\n3. Commit changes: git add . && git commit -m \"chore: sync design tokens\"\n```\n\n### Scenario 2: Developer Adds New Token in Code\n\n```bash\n# Developer adds success-900 in src/tokens/colors.ts\n\n$ npm run tokens:sync\n\nSyncing with Figma...\n\nNew tokens in code:\n  ‚ö†Ô∏è success-900: #1B5E20 (not in Figma)\n\nAdd to Figma? [Yes] [No]\n\nUser: Yes\n\nCreating in Figma...\n  ‚úì Created variable: success-900\n  ‚úì Added to collection: Colors/Success\n  ‚úì Value set to: #1B5E20\n\n‚úì Sync complete!\n\nThe token is now available in Figma for designers.\n```\n\n### Scenario 3: Conflict Resolution\n\n```bash\n$ npm run tokens:sync\n\n‚ö†Ô∏è Conflict detected!\n\nToken: spacing-lg\nFigma:  24px (updated 2 hours ago by Sarah)\nCode:   28px (updated 1 hour ago by you in commit abc123)\n\nBoth changed differently. Which should we keep?\n\n[F]igma (24px)\n[C]ode (28px)\n[M]anual merge\n[S]kip for now\n\nRecommendation: Code value is newer (C)\n\nUser: C\n\n‚úì Keeping code value (28px)\n‚úì Updating Figma to match code\n\nConflict resolved!\n```\n\n## Best Practices\n\n### 1. Single Source of Truth\n\nChoose one source as primary:\n- **Figma-first:** Designers own tokens, code syncs from Figma\n- **Code-first:** Developers own tokens, Figma syncs from code\n- **Bidirectional:** Both can update, conflicts resolved manually\n\n### 2. Sync Frequency\n\n- **Manual:** Run `npm run tokens:sync` when needed\n- **On Save:** Auto-sync when Figma file saved (requires Figma plugin)\n- **On Commit:** Pre-commit hook checks for drift\n- **CI/CD:** Verify no drift in pull requests\n\n### 3. Version Control\n\n- Commit `tokens/figma-tokens.json` to git\n- Commit generated CSS/SCSS/TS files\n- Track token changes in changelog\n- Tag releases with token versions\n\n### 4. Team Workflow\n\n- **Designers:** Update tokens in Figma, notify developers\n- **Developers:** Run sync, review changes, commit\n- **Both:** Use PR reviews to discuss token changes\n\n## Troubleshooting\n\n### Authentication Errors\n\n```\n‚ùå Error: Figma authentication failed\n\nCause: Invalid or expired access token\n\nFix:\n1. Generate new token: https://figma.com/developers\n2. Update .env: FIGMA_ACCESS_TOKEN=your_new_token\n3. Try again: npm run tokens:sync\n```\n\n### Merge Conflicts\n\n```\n‚ö†Ô∏è Git merge conflict in tokens/figma-tokens.json\n\nThis means someone else updated tokens since your last sync.\n\nFix:\n1. Pull latest changes: git pull origin main\n2. Resolve conflicts in tokens/figma-tokens.json\n3. Re-run sync: npm run tokens:sync\n4. Commit resolved changes\n```\n\n### Too Many Changes\n\n```\n‚ö†Ô∏è Large number of changes detected (47 tokens modified)\n\nThis is unusual. Possible causes:\n1. First time syncing\n2. Major design system overhaul\n3. Token format changed\n\nReview carefully before applying.\n```\n\n## Integration with Other Skills\n\n- **visual-regression-testing** - Test token changes visually\n- **accessibility-remediation** - Verify color contrast after changes\n- **dark-mode-generation** - Sync dark mode tokens\n- **storybook-config** - Update Storybook theme tokens\n\n## Files Reference\n\n- `references/figma-api.md` - Figma API documentation\n- `references/style-dictionary.md` - Style Dictionary guide\n- `examples/sync-workflows.md` - Common sync scenarios\n- `scripts/sync-tokens.js` - Main sync script\n- `scripts/detect-drift.py` - Drift detection\n\n## Summary\n\nDesign Token Sync keeps your design system consistent between Figma and code automatically. Bidirectional sync means changes in either location propagate with conflict detection and resolution.\n\n**Key Benefits:**\n- ‚úÖ Automatic sync between Figma and code\n- ‚úÖ Drift detection and conflict resolution\n- ‚úÖ Multi-format output (CSS, SCSS, TS, JSON)\n- ‚úÖ Version controlled token history\n- ‚úÖ Team collaboration workflow\n\n**Use this skill to** set up Figma sync, detect token drift, resolve conflicts, and maintain design-code consistency."
              },
              {
                "name": "Plugin Guide & Help",
                "description": "Use this skill when users ask \"what can you do\", \"show features\", \"help\", \"list commands\", \"plugin capabilities\", \"how to use\", or want to discover available Storybook Assistant features and commands. Provides comprehensive plugin documentation and usage guidance.",
                "path": "skills/plugin-guide/SKILL.md",
                "frontmatter": {
                  "name": "Plugin Guide & Help",
                  "description": "Use this skill when users ask \"what can you do\", \"show features\", \"help\", \"list commands\", \"plugin capabilities\", \"how to use\", or want to discover available Storybook Assistant features and commands. Provides comprehensive plugin documentation and usage guidance.",
                  "version": "1.0.0"
                },
                "content": "# Plugin Guide & Help\n\n## Overview\n\nThis skill helps users discover and understand all Storybook Assistant Plugin capabilities through natural language queries.\n\n## When to Use This Skill\n\nTrigger this skill when the user:\n- Asks \"what can you do?\" or \"what are your capabilities?\"\n- Wants to \"see all features\" or \"list commands\"\n- Says \"help\" or \"I need help\"\n- Asks \"how do I...\" followed by any Storybook task\n- Wants to know \"what's new\" or \"what changed\"\n- Asks about specific features without knowing the exact command name\n- Seems lost or unsure where to start\n\n## Response Strategy\n\n### For General \"What Can You Do\" Questions\n\nProvide a well-organized, scannable overview:\n\n```markdown\n# üé® Storybook Assistant - What I Can Do\n\nI'm your complete AI-powered Storybook development assistant with 17 specialized features and 11 commands.\n\n## üöÄ Most Popular Features\n\n### Vision AI: Design-to-Code üé®\nUpload a screenshot and I'll generate pixel-perfect React components with:\n- Exact spacing, colors, and typography\n- Design tokens automatically extracted\n- Multiple variants detected\n- Full TypeScript support\n\n**Try:** `/design-to-code` or \"Generate a component from this design\"\n\n### Natural Language Components üí¨\nDescribe a component in plain English and I'll build it:\n- Complete TypeScript component\n- Props with types\n- Storybook stories\n- Interaction tests\n\n**Try:** `/generate-from-description` or \"Create a user profile card with...\"\n\n### AI-Powered Accessibility ‚ôø\nAutomatically find and fix WCAG 2.2 violations:\n- Context-aware fix suggestions\n- One-click application\n- Ranked recommendations\n- Real-time detection\n\n**Try:** `/fix-accessibility Button.tsx` or \"Check accessibility of my Card component\"\n\n### Visual Regression Testing üîç\nIntelligent screenshot comparison with 90% fewer false positives:\n- AI understands intentional vs accidental changes\n- Auto-approves theme updates\n- Detects real layout bugs\n- CI/CD integration\n\n**Try:** `/setup-visual-testing`\n\n### Design Token Sync üîÑ\nKeep Figma and code perfectly synchronized:\n- Bidirectional sync (Figma ‚Üî Code)\n- Automatic drift detection\n- Conflict resolution\n- Multi-format output\n\n**Try:** `/sync-design-tokens --setup`\n\n---\n\n## üìã All Available Commands\n\n### Setup & Configuration\n- `/setup-storybook` - Initialize Storybook 9\n- `/setup-ci-cd` - Generate CI/CD pipeline\n- `/setup-visual-testing` - Configure visual regression\n\n### Component Development\n- `/create-component` - Scaffold new component\n- `/generate-stories` - Generate stories for existing components\n- `/design-to-code` - Screenshot ‚Üí Component\n- `/generate-from-description` - Natural language ‚Üí Component\n\n### Quality & Maintenance\n- `/fix-accessibility` - AI a11y remediation\n- `/generate-dark-mode` - Auto-generate dark mode\n- `/sync-design-tokens` - Figma sync\n- `/analyze-usage` - Component analytics\n\n### Help\n- `/help` - Show detailed help (you're here!)\n- `/help [feature]` - Get help for specific feature\n\n---\n\n## üí° Common Workflows\n\n**New Project:**\n1. `/setup-storybook`\n2. `/setup-ci-cd`\n3. `/setup-visual-testing`\n\n**Design-to-Code:**\n1. `/design-to-code [screenshot]`\n2. `/fix-accessibility ComponentName`\n3. `/generate-dark-mode`\n\n**Improve Existing:**\n1. `/generate-stories ComponentName`\n2. `/fix-accessibility ComponentName`\n3. `/analyze-usage ComponentName`\n\n---\n\n## üéØ Just Ask Me Naturally!\n\nYou don't need to memorize commands. Just ask:\n- \"Generate a button component from this description...\"\n- \"Fix accessibility issues in my Card component\"\n- \"Set up visual regression testing\"\n- \"Sync my design tokens from Figma\"\n- \"Show me how to create a dark mode\"\n\nI understand natural language and will use the right tools automatically.\n\n---\n\n**Want detailed help?** Type `/help` or `/help [feature-name]`\n**Getting started?** Try `/setup-storybook` first\n**Have a screenshot?** Try `/design-to-code`\n```\n\n### For Specific Feature Questions\n\nWhen user asks about a specific capability:\n\n**User:** \"Can you help with accessibility?\"\n**Response:**\n```markdown\n# ‚ôø Accessibility Features\n\nYes! I have comprehensive AI-powered accessibility features:\n\n## What I Can Do\n\n1. **Automatic Detection**\n   - Scans components for WCAG 2.2 violations\n   - Real-time analysis via hooks\n   - Covers 90% of common issues\n\n2. **AI-Powered Fixes**\n   - Context-aware suggestions (knows button purpose)\n   - Ranked recommendations (Best ‚Üí Good ‚Üí Acceptable)\n   - One-click application\n   - Color contrast calculation\n\n3. **Education**\n   - Explains WHY each fix is needed\n   - Teaches WCAG best practices\n   - Links to relevant WCAG guidelines\n\n## How to Use\n\n**Quick fix for a component:**\n```bash\n/fix-accessibility Button.tsx\n```\n\n**Natural language:**\n\"Check my Card component for accessibility issues\"\n\"Fix accessibility violations in the LoginForm\"\n\n## What Gets Checked\n\n- Missing accessible names (buttons, links, images)\n- Color contrast (WCAG AA/AAA)\n- Keyboard navigation\n- ARIA usage (semantic HTML first)\n- Form labels\n- Heading hierarchy\n\n## Example Output\n\n```\n‚ùå Accessibility issue detected in Button.tsx:12\n\nIssue: Button has no accessible name\nWCAG: 4.1.2 Name, Role, Value (Level A)\nImpact: Screen reader users won't know button purpose\n\nRecommended fixes:\n1. Add visible text + icon (BEST) ‚≠ê\n2. Use aria-label (GOOD)\n3. Use title attribute (ACCEPTABLE)\n\nApply fix? [1] [2] [3]\n```\n\n**Related Features:**\n- `testing-suite` - Accessibility tests in Storybook\n- `component-scaffold` - New components with a11y built-in\n\nTry `/fix-accessibility [file]` or just ask me to check accessibility!\n```\n\n### For \"How Do I...\" Questions\n\nExtract the task and provide step-by-step guidance:\n\n**User:** \"How do I set up visual regression testing?\"\n**Response:**\n```markdown\n# Setting Up Visual Regression Testing\n\nHere's how to set up AI-powered visual regression testing:\n\n## Quick Start (Automated)\n\nJust run:\n```bash\n/setup-visual-testing\n```\n\nI'll automatically:\n1. Detect your framework and build tool\n2. Install dependencies (Playwright, test-runner)\n3. Create configuration files\n4. Capture baseline screenshots\n5. Set up NPM scripts\n6. Configure CI/CD integration (optional)\n\n## Step-by-Step Process\n\n**1. Run Setup Command**\n```bash\n/setup-visual-testing\n```\n\n**2. Choose Your Preferences**\nI'll ask about:\n- Integration with Chromatic/Percy (optional)\n- Auto-approval rules (conservative/balanced/aggressive)\n- CI/CD integration (GitHub Actions, GitLab, etc.)\n\n**3. Capture Baselines**\nInitial screenshots will be captured automatically:\n```\nCapturing baseline screenshots...\n  ‚úì Button/Primary\n  ‚úì Card/Default\n  ...\n  ‚úì Captured 47 stories\n```\n\n**4. Test Your Setup**\nMake a small change and run:\n```bash\nnpm run test:visual\n```\n\n**5. Review AI Analysis**\nThe AI will categorize changes:\n- ‚úÖ Expected (theme updates)\n- ‚ö†Ô∏è Warning (review needed)\n- ‚ùå Error (likely bugs)\n\n## What Makes It \"AI-Powered\"?\n\nTraditional visual regression:\n- Flags thousands of anti-aliasing changes ‚ùå\n- Can't distinguish intentional from accidental ‚ùå\n- Requires manual review of everything ‚ùå\n\nAI-powered approach:\n- Understands git history and design tokens ‚úÖ\n- Auto-approves expected changes ‚úÖ\n- Only flags real issues ‚úÖ\n- 90% fewer false positives ‚úÖ\n\n## Next Steps\n\nAfter setup:\n- Run `npm run test:visual` to test\n- Use `npm run test:visual:interactive` for manual review\n- Integrate with CI/CD to block regressions\n\nNeed more details? Type `/help visual-regression`\n```\n\n### For Version/Changelog Questions\n\n**User:** \"What's new?\" or \"What changed?\"\n**Response:**\n```markdown\n# üÜï What's New in v2.1.0\n\n## Major Additions (3 New Features)\n\n### 1. AI Visual Regression Testing üîç\n- Intelligent screenshot comparison\n- Context-aware diff analysis\n- 90% reduction in false positives\n- Auto-approval for theme updates\n- CI/CD integration\n\n**Try:** `/setup-visual-testing`\n\n### 2. Design Token Sync üîÑ\n- Bidirectional Figma ‚Üî Code synchronization\n- Automatic drift detection\n- Conflict resolution\n- Multi-format output (CSS, SCSS, TS, JSON)\n\n**Try:** `/sync-design-tokens --setup`\n\n### 3. Component Usage Analytics üìä\n- Track component usage across codebase\n- Deprecation impact analysis\n- Unused component detection\n- Migration effort estimation\n\n**Try:** `/analyze-usage Button`\n\n## Complete Feature Set\n\n**Now includes ALL 10 SOTA 2026 features:**\n- ‚úÖ Vision AI Design-to-Code (P0)\n- ‚úÖ Natural Language Generation (P0)\n- ‚úÖ Accessibility Remediation (P1)\n- ‚úÖ Server Components (P1)\n- ‚úÖ **Visual Regression Testing (P1)** ‚≠ê NEW\n- ‚úÖ Performance Analysis (P2)\n- ‚úÖ Dark Mode Generation (P2)\n- ‚úÖ **Design Token Sync (P2)** ‚≠ê NEW\n- ‚úÖ CI/CD Generator (P3)\n- ‚úÖ **Component Usage Analytics (P3)** ‚≠ê NEW\n\n## Version History\n\n**v2.1.0** (Current)\n- 100% SOTA roadmap complete\n- 17 skills, 3 agents, 11 commands\n- All P0, P1, P2, P3 features implemented\n\n**v2.0.6** (Previous)\n- 70% roadmap complete\n- 14 skills, 2 agents, 8 commands\n\n## What's Next?\n\nAll planned features are now complete! Future development will focus on:\n- Performance optimizations\n- Additional integrations\n- Community-requested features\n\nTry the new features with:\n- `/setup-visual-testing`\n- `/sync-design-tokens`\n- `/analyze-usage [component]`\n```\n\n## Response Guidelines\n\n### Keep It Scannable\n- Use headers, bullets, and emoji\n- Highlight key commands with code blocks\n- Show examples, not just descriptions\n\n### Be Conversational\n- \"I can help you...\" not \"This plugin can...\"\n- \"Try `/command`\" not \"Use the command tool\"\n- Encourage questions: \"Just ask me!\"\n\n### Provide Next Steps\n- Always end with actionable next steps\n- Suggest related features\n- Point to detailed docs when appropriate\n\n### Progressive Disclosure\n- Start with high-level overview\n- Provide details on request\n- Link to full documentation\n\n### Handle Edge Cases\n\n**User:** \"I'm completely lost\"\n**Response:** Start with `/setup-storybook` and offer to walk through step-by-step\n\n**User:** \"Too many features, overwhelming\"\n**Response:** Focus on the \"Big 3\" - design-to-code, accessibility, visual regression\n\n**User:** \"Which command should I use for X?\"\n**Response:** Suggest the most appropriate command with brief explanation\n\n**User:** \"Does this work with [framework]?\"\n**Response:** List supported frameworks and platform compatibility\n\n## Integration Points\n\nThis skill should seamlessly hand off to:\n- Specific skills when user wants to use a feature\n- The `/help` command for detailed documentation\n- Other skills for specialized tasks\n\n## Files Structure\n\nWhile this skill doesn't need supporting scripts, it should reference:\n- `README.md` - Main project documentation\n- `SOTA_IMPLEMENTATION_COMPLETE.md` - Feature details\n- `CLAUDE.md` - Development guidelines\n- Individual `skills/*/SKILL.md` files - Feature documentation\n\n## Summary\n\nThe plugin-guide skill makes the Storybook Assistant approachable and discoverable. It translates natural language queries into actionable guidance, helping users find the right features without needing to know exact command names or technical details.\n\n**Key Benefit:** Users can explore capabilities conversationally - \"What can you do?\" - rather than reading documentation first."
              },
              {
                "name": "storybook-config",
                "description": "Generate and configure Storybook 9 for any framework with automatic detection, SOTA best practices, and platform-specific optimizations (Web, Tauri, Electron)",
                "path": "skills/storybook-config/SKILL.md",
                "frontmatter": {
                  "name": "storybook-config",
                  "description": "Generate and configure Storybook 9 for any framework with automatic detection, SOTA best practices, and platform-specific optimizations (Web, Tauri, Electron)",
                  "allowed-tools": [
                    "Read",
                    "Write",
                    "Edit",
                    "Bash",
                    "AskUserQuestion"
                  ]
                },
                "content": "# Storybook Configuration Skill\n\n## Overview\n\nThis skill generates production-ready Storybook 9 configurations with:\n- Automatic framework detection (React, Vue, Svelte, Angular, Next.js, Solid, Lit)\n- SOTA 2026 best practices\n- Platform-specific optimizations (Tauri full support, Electron partial support)\n- Optional visual generation integration\n- Testing framework setup (Vitest + Playwright)\n\n## When to Use This Skill\n\nThis skill should be used when:\n- Initializing Storybook 9 in a new project\n- Updating existing Storybook configuration to SOTA standards\n- Adding framework-specific optimizations\n- Configuring platform-specific setups (Tauri, Electron)\n- Setting up testing infrastructure (interaction, a11y, visual)\n\n## Quick Start\n\n```bash\n# Detect project framework and configuration\nbash ${CLAUDE_PLUGIN_ROOT}/scripts/detect-framework.sh\n\n# Use skill to generate configuration\n# The skill will use AskUserQuestion for user preferences\n```\n\n## Configuration Generation\n\n### Supported Frameworks\n\n| Framework | Storybook Package | Minimum Version | Bundler |\n|-----------|------------------|----------------|---------|\n| React | `@storybook/react-vite` | 18.0.0 | Vite (preferred), Webpack |\n| Vue | `@storybook/vue3-vite` | 3.0.0 | Vite (preferred), Webpack |\n| Svelte | `@storybook/svelte-vite` | 5.0.0 | Vite |\n| Angular | `@storybook/angular` | 18.0.0 | Webpack |\n| Next.js | `@storybook/nextjs-vite` | 14.0.0 | Vite |\n| Solid.js | `@storybook/solid-vite` | 1.8.0 | Vite |\n| Lit | `@storybook/web-components-vite` | 3.0.0 | Vite |\n\n### SOTA Patterns (2026)\n\n**1. Vitest Integration for Testing**\n```typescript\n// main.ts - Enable Vitest addon\naddons: [\n  '@storybook/addon-vitest', // Real browser testing\n]\n```\n\n**2. Accessibility Testing**\n```typescript\n// preview.ts - Configure axe-core\nparameters: {\n  a11y: {\n    config: {\n      rules: [\n        { id: 'color-contrast', enabled: true },\n        { id: 'button-name', enabled: true },\n      ],\n    },\n  },\n}\n```\n\n**3. Autodocs with Tags**\n```typescript\n// main.ts - Auto-generate documentation\ndocs: {\n  autodocs: 'tag', // Stories with 'autodocs' tag get automatic docs\n}\n\n// story.tsx\nexport default {\n  tags: ['autodocs'], // Enable automatic documentation\n}\n```\n\n**4. Performance Optimization**\n```typescript\n// main.ts - Vite optimization\nviteFinal: async (config) => {\n  return {\n    ...config,\n    optimizeDeps: {\n      include: ['@storybook/blocks'],\n    },\n  };\n}\n\n// Build optimization for CI\nbuild: {\n  test: {\n    disabledAddons: ['@storybook/addon-docs'], // 2-4x faster\n  },\n}\n```\n\n**5. Modern Controls**\n```typescript\n// preview.ts - Enhanced controls\ncontrols: {\n  matchers: {\n    color: /(background|color)$/i,\n    date: /Date$/i,\n  },\n  expanded: true, // Show all controls by default\n}\n```\n\n## Platform-Specific Configuration\n\n### Web Projects (Full Support)\n\nStandard configuration with all features:\n- Interaction tests\n- Accessibility tests\n- Visual regression tests\n- Code coverage\n\n### Tauri Projects (Full Support)\n\nAdditional configuration:\n```typescript\n// preview.ts - Tauri IPC mocks\ndecorators: [\n  (Story) => {\n    if (typeof window !== 'undefined' && !window.__TAURI__) {\n      window.__TAURI__ = tauriMocks;\n    }\n    return Story();\n  },\n]\n```\n\n**Best Practices:**\n- Run Storybook on separate port (6006) from Tauri dev server (5173)\n- Mock `window.__TAURI__` APIs in stories\n- Keep UI components decoupled from IPC logic\n\n### Electron Projects (Partial Support)\n\nWebpack overrides required:\n```typescript\n// main.ts - Electron configuration\nwebpackFinal: async (config) => {\n  config.target = 'web'; // Override electron-renderer\n  config.externals = {}; // Clear Electron externals\n  config.resolve.alias = {\n    electron: false, // Mock electron module\n  };\n  return config;\n}\n\n// preview.ts - Electron preload API mocks\ndecorators: [\n  (Story) => {\n    if (typeof window !== 'undefined' && !window.api) {\n      window.api = electronMocks;\n    }\n    return Story();\n  },\n]\n```\n\n**Limitations:**\n- Only pure UI components fully testable\n- Components with direct `electron` imports need refactoring\n- IPC integration requires E2E tests separately\n\n## Design System Integration\n\n### Detected Design Systems\n\nThe skill detects and integrates with:\n- **Material UI (MUI)** - Theme provider wrapper\n- **Ant Design** - ConfigProvider wrapper\n- **shadcn/ui** - Tailwind + Radix UI setup\n- **Chakra UI** - ChakraProvider wrapper\n- **Mantine** - MantineProvider wrapper\n\n### Example: MUI Integration\n\n```typescript\n// preview.ts\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\nimport CssBaseline from '@mui/material/CssBaseline';\n\nconst theme = createTheme({\n  palette: {\n    mode: 'light',\n  },\n});\n\nexport const decorators = [\n  (Story) => (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Story />\n    </ThemeProvider>\n  ),\n];\n```\n\n## Testing Configuration\n\n### Interaction Tests (Play Functions)\n\n```typescript\n// Install dependencies\nnpm install --save-dev @testing-library/react @testing-library/user-event\n\n// Enable addon\nnpx storybook@latest add @storybook/addon-vitest\n```\n\n### Accessibility Tests\n\n```typescript\n// Install addon\nnpx storybook@latest add @storybook/addon-a11y\n\n// Configure in preview.ts\nparameters: {\n  a11y: {\n    element: '#storybook-root',\n    config: {\n      rules: [\n        { id: 'color-contrast', enabled: true },\n      ],\n    },\n  },\n}\n```\n\n### Coverage Reports\n\n```typescript\n// Install V8 coverage\nnpm install --save-dev @vitest/coverage-v8\n\n// Run with coverage\nnpm run storybook:coverage\n```\n\n## Configuration Templates\n\n### React with TypeScript (SOTA)\n\n```typescript\n// .storybook/main.ts\nimport type { StorybookConfig } from '@storybook/react-vite';\n\nconst config: StorybookConfig = {\n  stories: ['../src/**/*.mdx', '../src/**/*.stories.@(js|jsx|mjs|ts|tsx)'],\n  addons: [\n    '@storybook/addon-essentials',\n    '@storybook/addon-vitest',\n    '@storybook/addon-a11y',\n    '@storybook/addon-links',\n  ],\n  framework: {\n    name: '@storybook/react-vite',\n    options: {\n      strictMode: true,\n    },\n  },\n  docs: {\n    autodocs: 'tag',\n  },\n  viteFinal: async (config) => {\n    return {\n      ...config,\n      optimizeDeps: {\n        include: ['@storybook/blocks'],\n      },\n    };\n  },\n};\n\nexport default config;\n```\n\n```typescript\n// .storybook/preview.ts\nimport type { Preview } from '@storybook/react-vite';\nimport '../src/index.css'; // Global styles\n\nconst preview: Preview = {\n  parameters: {\n    actions: { argTypesRegex: '^on[A-Z].*' },\n    controls: {\n      matchers: {\n        color: /(background|color)$/i,\n        date: /Date$/i,\n      },\n      expanded: true,\n    },\n    layout: 'centered',\n    a11y: {\n      config: {\n        rules: [\n          { id: 'color-contrast', enabled: true },\n        ],\n      },\n    },\n    backgrounds: {\n      default: 'light',\n      values: [\n        { name: 'light', value: '#ffffff' },\n        { name: 'dark', value: '#1a1a1a' },\n      ],\n    },\n  },\n  globalTypes: {\n    theme: {\n      description: 'Global theme for components',\n      defaultValue: 'light',\n      toolbar: {\n        title: 'Theme',\n        icon: 'circlehollow',\n        items: ['light', 'dark'],\n        dynamicTitle: true,\n      },\n    },\n  },\n};\n\nexport default preview;\n```\n\n## Quality Checklist\n\nBefore completing configuration:\n- [ ] Framework detected correctly\n- [ ] Correct Storybook 9 packages installed\n- [ ] Addons configured based on user preferences\n- [ ] Theme/design system integrated (if applicable)\n- [ ] Platform-specific setup complete (Tauri/Electron)\n- [ ] Example stories generated\n- [ ] package.json scripts added\n- [ ] README created with setup instructions\n- [ ] Tests run successfully\n\n## Best Practices\n\n### Do's\n- Use Vite for faster builds (when possible)\n- Enable autodocs with tags\n- Configure a11y testing by default\n- Optimize Vite dependencies\n- Use V8 coverage (faster than Istanbul)\n- Provide platform-specific guidance\n\n### Don'ts\n- Don't use Webpack unless required (Angular, legacy projects)\n- Don't skip accessibility configuration\n- Don't forget to add example stories\n- Don't configure features user didn't select\n- Don't assume all components work in Electron (document limitations)\n\n## Integration with Other Skills\n\n- **story-generation**: Use configuration to generate framework-specific stories\n- **visual-design**: Use detected design system for visual generation\n- **platform-support**: Apply platform-specific patterns (Tauri/Electron)\n- **testing-suite**: Configure test infrastructure based on user selections"
              },
              {
                "name": "visual-design",
                "description": "Generate style guides, component mockups, and visual assets using AI (Gemini 3 Pro Image, FLUX.2 Pro). Optional feature - gracefully skips if OPENROUTER_API_KEY unavailable.",
                "path": "skills/visual-design/SKILL.md",
                "frontmatter": {
                  "name": "visual-design",
                  "description": "Generate style guides, component mockups, and visual assets using AI (Gemini 3 Pro Image, FLUX.2 Pro). Optional feature - gracefully skips if OPENROUTER_API_KEY unavailable.",
                  "allowed-tools": [
                    "Read",
                    "Write",
                    "Edit",
                    "Bash",
                    "AskUserQuestion"
                  ]
                },
                "content": "# Visual Design Skill\n\n## Overview\n\nGenerate publication-quality visual assets for component development:\n- **Style Guides**: Color palettes, typography, spacing systems\n- **Component Mockups**: Visual references to guide implementation\n- **Architecture Diagrams**: Component dependencies, data flow\n- **Design System Documentation**: Visual brand guidelines\n\n**100% Optional** - All features work without this skill if OPENROUTER_API_KEY is unavailable.\n\n## When to Use This Skill\n\nThis skill should be used when:\n- Creating a new design system or style guide\n- Generating visual references for complex components\n- Documenting design decisions visually\n- Creating component mockups before implementation\n- Generating architecture diagrams for documentation\n\n**Skip this skill when:**\n- OPENROUTER_API_KEY not available (plugin works normally)\n- User prefers manual design (Figma, Sketch, etc.)\n- Budget constraints for API usage\n\n## Quick Start\n\n```python\n# Generate component mockup\npython ${CLAUDE_PLUGIN_ROOT}/skills/visual-design/scripts/generate_mockup.py \\\n  \"Modern React card component with header, content, and actions. Clean design.\" \\\n  --output mockups/card.png\n\n# Generate style guide\npython ${CLAUDE_PLUGIN_ROOT}/skills/visual-design/scripts/generate_style_guide.py \\\n  --framework react \\\n  --design-system custom \\\n  --output style-guide/\n```\n\n## API Key Setup\n\n**Check before using:**\n```bash\n# Check if OPENROUTER_API_KEY is available\nif [ -z \"$OPENROUTER_API_KEY\" ]; then\n  echo \"Visual generation disabled (API key not set)\"\n  echo \"To enable: https://openrouter.ai/keys\"\n  exit 0  # Gracefully skip\nfi\n```\n\n**User instructions (show once):**\n```\n‚ÑπÔ∏è  Visual Generation Features Disabled\n\nTo enable AI-powered visual generation:\n1. Get API key: https://openrouter.ai/keys\n2. Add to .env: OPENROUTER_API_KEY=your_key_here\n\nYou can still use all other features (Storybook setup, story generation, testing).\n```\n\n## Use Cases\n\n### 1. Style Guide Generation\n\n**Context-Aware Workflow:**\n\n```javascript\n// Phase 1: Analyze project\nconst framework = detectFramework();\nconst designSystem = detectDesignSystem();\nconst colors = extractColorsFromCSS();\n\n// Phase 2: User collaboration\nAskUserQuestion({\n  questions: [\n    {\n      question: `What aesthetic matches your ${designSystem} design system?`,\n      header: \"Style\",\n      multiSelect: false,\n      options: [\n        {\n          label: \"Modern/Minimal (Recommended for your stack)\",\n          description: \"Clean lines, lots of whitespace, professional\"\n        },\n        {\n          label: \"Bold/Vibrant\",\n          description: \"Strong colors, high contrast, energetic\"\n        },\n        {\n          label: \"Professional/Corporate\",\n          description: \"Conservative, trustworthy, business-focused\"\n        }\n      ]\n    },\n    {\n      question: \"Primary brand color?\",\n      header: \"Color\",\n      multiSelect: false,\n      options: [\n        { label: \"Blue (#2563eb)\", description: \"Trust, professionalism (detected in your CSS)\" },\n        { label: \"Green (#10b981)\", description: \"Growth, sustainability\" },\n        { label: \"Purple (#8b5cf6)\", description: \"Creativity, innovation\" },\n        { label: \"Custom\", description: \"I'll specify\" }\n      ]\n    }\n  ]\n})\n\n// Phase 3: Generate visual assets\npython generate_style_guide.py \\\n  --framework ${framework} \\\n  --aesthetic \"modern-minimal\" \\\n  --primary-color ${selectedColor} \\\n  --output style-guide/\n```\n\n**Output:**\n- `style-guide/colors.png` - Color palette with hex codes\n- `style-guide/typography.png` - Font scale and examples\n- `style-guide/spacing.png` - Spacing scale visualization\n- `style-guide/components.png` - Example component variants\n\n### 2. Component Mockup Generation\n\n**When to Generate:**\n- Card components\n- Modal dialogs\n- Complex forms\n- Tables with data\n- Navigation menus\n- Dashboards\n\n**Skip for:**\n- Simple buttons\n- Basic inputs\n- Icons\n- Badges\n\n**Generation:**\n```python\n# Context-aware mockup\npython generate_mockup.py \\\n  \"${componentType} component for ${framework}. \\\n   Design system: ${designSystem}. \\\n   Variants: ${detectedVariants}. \\\n   Modern, professional, ${aesthetic} style.\" \\\n  --output mockups/${componentName}.png\n```\n\n**Example:**\n```python\npython generate_mockup.py \\\n  \"React data table component with sortable columns, pagination, row selection. \\\n   Material UI design system. Clean, modern interface.\" \\\n  --output mockups/data-table.png\n```\n\n### 3. Architecture Diagrams\n\n**Component Dependency Visualization:**\n```python\n# Analyze component relationships\ncomponents = scanComponents('src/components');\ndependencies = buildDependencyGraph(components);\n\n# Generate diagram (using Mermaid or AI)\ngenerateDiagram({\n  type: 'component-architecture',\n  components: components,\n  dependencies: dependencies,\n  output: 'diagrams/component-deps.png'\n});\n```\n\n## AI Models\n\n**Supported Models:**\n- `google/gemini-3-pro-image-preview` (Default - High quality, recommended)\n- `black-forest-labs/flux.2-pro` (Fast, high quality)\n\n**Model Selection:**\n```python\n# Use default (Gemini)\npython generate_mockup.py \"prompt\" --output out.png\n\n# Use FLUX.2 Pro\npython generate_mockup.py \"prompt\" --model black-forest-labs/flux.2-pro --output out.png\n```\n\n## Graceful Degradation\n\n**When OPENROUTER_API_KEY is unavailable:**\n\n1. **Skip visual generation silently**\n2. **Provide alternatives**:\n   - Text-based style guide templates\n   - Link to Figma/Sketch\n   - Mermaid diagrams for architecture\n3. **Continue with other features**:\n   - Storybook setup works\n   - Story generation works\n   - Testing works\n\n**Implementation:**\n```javascript\nasync function generateStyleGuide(options) {\n  if (!process.env.OPENROUTER_API_KEY) {\n    console.log('‚ÑπÔ∏è  Skipping visual generation (API key not set)');\n    console.log('   Creating text-based style guide template instead...');\n\n    // Generate markdown template\n    createTextStyleGuideTemplate(options);\n    return;\n  }\n\n  // Generate visual assets with AI\n  await generateVisualStyleGuide(options);\n}\n```\n\n## Prompt Engineering for Components\n\n**Good Prompts:**\n```\n‚úÖ \"Modern React card component with image header, title, description, and action buttons.\n    Material UI design system. Subtle shadow, rounded corners. Light theme.\"\n\n‚úÖ \"Vue 3 data table with sortable columns, pagination controls, and row selection checkboxes.\n    Professional corporate style. Clean typography.\"\n\n‚úÖ \"Svelte modal dialog with header, scrollable content area, and footer actions.\n    Overlay background. shadcn/ui aesthetic.\"\n```\n\n**Bad Prompts:**\n```\n‚ùå \"Button\" (too vague)\n‚ùå \"Make a component\" (no details)\n‚ùå \"Card thing\" (unclear)\n```\n\n**Context Enhancement:**\nAutomatically add context from project:\n```python\ndef enhance_prompt(user_prompt, context):\n    return f\"{user_prompt}. Framework: {context.framework}. \\\n             Design system: {context.designSystem}. \\\n             Color palette: {context.colors}. \\\n             Typography: {context.fonts}.\"\n```\n\n## Quality Thresholds\n\nFollowing claude-project-planner patterns:\n\n| Document Type | Threshold | Usage |\n|---------------|-----------|-------|\n| Style Guide | 8.5/10 | Design system documentation |\n| Component Mockup | 8.0/10 | Complex component references |\n| Architecture Diagram | 8.0/10 | Technical documentation |\n| Quick Sketch | 7.0/10 | Rapid prototyping |\n\n**Smart Iteration:**\n```python\ndef generate_with_quality_check(prompt, threshold=8.0):\n    image = generate_image(prompt)\n    quality = review_quality_with_gemini(image)  # Gemini 3 Pro review\n\n    if quality < threshold:\n        print(f\"Quality: {quality}/10 (below {threshold})\")\n        print(\"Regenerating...\")\n        return generate_with_quality_check(prompt, threshold)\n\n    print(f\"Quality: {quality}/10 ‚úì\")\n    return image\n```\n\n## Integration with Other Skills\n\n- **storybook-config**: Generate visual assets during setup\n- **component-scaffold**: Generate mockups for new components\n- **style-guide-generator**: Visual enhancement for documentation\n- **story-generation**: Optional mockups for complex components\n\n## Best Practices\n\n### Do's\n- Check for OPENROUTER_API_KEY before generation\n- Provide context-aware prompts (framework, design system)\n- Use quality thresholds for important assets\n- Skip gracefully when API unavailable\n- Generate only for complex components (not buttons/inputs)\n- Use Mermaid for architecture diagrams when possible (faster, editable)\n\n### Don'ts\n- Don't fail if API key missing\n- Don't generate for every component (cost)\n- Don't use generic prompts\n- Don't skip quality review for critical assets\n- Don't assume user wants visual generation\n\n## Error Handling\n\n- **API key missing**: Skip gracefully, inform user once\n- **API timeout**: Retry once, then fail gracefully\n- **Quality too low**: Regenerate up to 2 times\n- **Rate limit**: Wait and retry or skip\n- **Invalid response**: Log error, skip generation\n\n## Cost Considerations\n\n**Typical Costs (OpenRouter):**\n- Gemini 3 Pro Image: ~$0.05-0.15 per image\n- FLUX.2 Pro: ~$0.04-0.08 per image\n\n**Recommendations:**\n- Generate selectively (complex components only)\n- Cache generated images\n- Offer user control over what to generate\n- Provide cost estimates before bulk generation\n\n## Example Integration\n\n```javascript\n// In /create-component command\nif (shouldGenerateVisuals && hasOpenRouterKey()) {\n  AskUserQuestion({\n    questions: [{\n      question: \"Generate visual mockup for this component?\",\n      header: \"Visual Design\",\n      options: [\n        { label: \"Yes - Generate mockup (~$0.10)\", description: \"AI visual reference\" },\n        { label: \"No - Skip\", description: \"Save cost, design manually\" }\n      ]\n    }]\n  });\n\n  if (userWantsVisual) {\n    generateMockup(componentDescription);\n  }\n} else {\n  // Skip silently, continue with component scaffolding\n}\n```"
              },
              {
                "name": "AI-Powered Visual Regression Testing",
                "description": "Use this skill when users mention \"visual regression\", \"detect UI changes\", \"screenshot comparison\", \"visual testing\", \"pixel diff\", \"UI regression\", or want to set up intelligent visual testing that understands intentional vs accidental changes. Analyzes visual diffs with AI to categorize changes as expected, warnings, or errors based on git history and design tokens.",
                "path": "skills/visual-regression-testing/SKILL.md",
                "frontmatter": {
                  "name": "AI-Powered Visual Regression Testing",
                  "description": "Use this skill when users mention \"visual regression\", \"detect UI changes\", \"screenshot comparison\", \"visual testing\", \"pixel diff\", \"UI regression\", or want to set up intelligent visual testing that understands intentional vs accidental changes. Analyzes visual diffs with AI to categorize changes as expected, warnings, or errors based on git history and design tokens.",
                  "version": "1.0.0"
                },
                "content": "# AI-Powered Visual Regression Testing\n\n## Overview\n\nTraditional visual regression testing produces overwhelming false positives from anti-aliasing, timestamps, and other noise. This skill implements **AI-powered visual regression** that understands the difference between intentional design changes and actual bugs.\n\n**Key Innovation:** Uses Claude AI to analyze visual diffs with context awareness (git commits, design token changes, component history) to categorize changes intelligently.\n\n## When to Use This Skill\n\nTrigger this skill when the user:\n- Mentions \"visual regression testing\" or \"screenshot comparison\"\n- Wants to \"detect UI changes\" or \"catch visual bugs\"\n- Says \"pixel diff is too noisy\" or \"too many false positives\"\n- Asks to \"set up visual testing\" for their Storybook\n- Wants to \"review visual changes\" in a PR\n- Mentions Chromatic, Percy, or other visual testing tools\n\n## Core Capabilities\n\n### 1. Intelligent Diff Analysis\n\n**Problem:** Traditional pixel diff flags thousands of irrelevant changes:\n- Anti-aliasing differences\n- Timestamp updates\n- Random UUIDs in content\n- Sub-pixel rendering variations\n\n**Solution:** AI categorizes changes by semantic meaning:\n- **Ignore:** Rendering noise, timestamps, random data\n- **Expected:** Matches recent design system updates\n- **Warning:** Significant but possibly intentional\n- **Error:** Clear regressions (misalignment, broken layout)\n\n### 2. Context-Aware Decision Making\n\nThe AI analyzer considers:\n- **Git commits** (last 7 days) - Did we just update the theme?\n- **Design tokens** - Does the new color match a token update?\n- **Component history** - Was this component recently refactored?\n- **PR description** - Did the developer mention this change?\n\n### 3. Smart Auto-Approval\n\nDefine auto-approval rules:\n- Approve all changes matching design token updates\n- Approve timestamp/UUID changes\n- Approve anti-aliasing differences\n- Flag layout shifts for manual review\n\n## Technical Implementation\n\n### Architecture\n\n```\n1. Capture screenshots (baseline + current)\n   ‚Üì Playwright/Storybook Test Runner\n2. Generate pixel diff\n   ‚Üì pixelmatch library\n3. AI analysis with context\n   ‚Üì Claude analyzes diff + git history + tokens\n4. Categorize changes\n   ‚Üì Ignore, Expected, Warning, Error\n5. Generate actionable report\n   ‚Üì With recommendations and auto-fix options\n```\n\n### Setup Command\n\nUse `/setup-visual-testing` to configure:\n- Installs @storybook/test-runner, Playwright\n- Creates configuration files\n- Captures initial baseline screenshots\n- Sets up AI analysis pipeline\n- Configures CI/CD integration (optional)\n\n### Analysis Workflow\n\n```typescript\n// After code changes\nnpm run test:visual\n\n// Output:\nRunning visual regression tests...\n  ‚úì 42 components: No changes\n  ‚ö†Ô∏è 3 components: Potential regressions detected\n  ‚ùå 2 components: Likely bugs found\n\nAI Analysis Report:\n\nButton Component:\n  ‚ö†Ô∏è Color change detected: #2196F3 ‚Üí #1976D2\n  Context: Recent commit updated theme.ts (2 hours ago)\n  Analysis: Matches new primary-600 token - appears intentional\n  Recommendation: APPROVE (auto-approve with --accept-theme-changes)\n\nCard Component:\n  ‚ùå Layout shift: Content misaligned by 2.3px\n  Context: No related changes in recent commits\n  Analysis: Box-sizing or padding regression\n  Recommendation: REJECT - needs investigation\n  Git blame: Modified in commit def456 (unrelated refactor)\n\nModal Component:\n  ‚ö†Ô∏è Shadow change: Elevation increased\n  Context: Recent commit updated elevation system\n  Analysis: Matches new shadow-lg definition\n  Recommendation: APPROVE (design system update)\n```\n\n## Integration Points\n\n### 1. Storybook Test Runner\n\n```javascript\n// .storybook/test-runner-config.ts\nimport { getStoryContext } from '@storybook/test-runner';\nimport { analyzeVisualDiff } from './visual-regression-ai';\n\nexport default {\n  async postRender(page, context) {\n    const storyContext = await getStoryContext(page, context);\n\n    // Capture screenshot\n    const screenshot = await page.screenshot();\n\n    // Compare with baseline\n    const diff = await compareWithBaseline(context.id, screenshot);\n\n    if (diff.pixelsChanged > 0) {\n      // AI analysis\n      const analysis = await analyzeVisualDiff({\n        diff,\n        storyId: context.id,\n        componentName: storyContext.component,\n        recentCommits: await getRecentCommits(),\n        designTokens: await loadDesignTokens()\n      });\n\n      // Categorize\n      if (analysis.category === 'error') {\n        throw new Error(analysis.message);\n      } else if (analysis.category === 'warning') {\n        console.warn(analysis.message);\n      }\n    }\n  }\n};\n```\n\n### 2. CI/CD Integration\n\n```yaml\n# .github/workflows/visual-regression.yml\nname: Visual Regression Testing\n\non: [pull_request]\n\njobs:\n  visual-regression:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - name: Install dependencies\n        run: npm ci\n      - name: Build Storybook\n        run: npm run build-storybook\n      - name: Run visual regression tests\n        run: npm run test:visual\n        env:\n          ANTHROPIC_API_KEY: ${{ secrets.ANTHROPIC_API_KEY }}\n      - name: Upload report\n        uses: actions/upload-artifact@v3\n        with:\n          name: visual-regression-report\n          path: .storybook/visual-regression-report/\n```\n\n### 3. Local Development\n\n```bash\n# First time setup\n/setup-visual-testing\n\n# After making changes\nnpm run test:visual\n\n# Auto-approve theme changes\nnpm run test:visual -- --accept-theme-changes\n\n# Interactive mode (review each change)\nnpm run test:visual -- --interactive\n\n# Update baselines\nnpm run test:visual -- --update-baselines\n```\n\n## AI Analysis Logic\n\n### Change Classification\n\n```python\n# skills/visual-regression-testing/scripts/analyze_diff.py\n\ndef categorize_change(change, context):\n    \"\"\"Categorize a visual change using AI analysis\"\"\"\n\n    # 1. Check if change is just rendering noise\n    if is_rendering_noise(change):\n        return Category.IGNORE, \"Anti-aliasing or sub-pixel rendering\"\n\n    # 2. Check if change matches design token update\n    if matches_design_token_update(change, context.design_tokens):\n        token = find_matching_token(change, context.design_tokens)\n        return Category.EXPECTED, f\"Matches {token} update in recent commit\"\n\n    # 3. Check if change was mentioned in PR/commit\n    if mentioned_in_commits(change, context.recent_commits):\n        return Category.EXPECTED, \"Change mentioned in commit message\"\n\n    # 4. Analyze semantic significance\n    if is_layout_shift(change):\n        # Layout shifts are almost always bugs\n        return Category.ERROR, \"Layout misalignment detected\"\n\n    if is_color_change(change):\n        # Color change without token update = warning\n        return Category.WARNING, \"Color changed but not in design tokens\"\n\n    if is_typography_change(change):\n        # Typography change = warning\n        return Category.WARNING, \"Typography change detected\"\n\n    # 5. Default to warning for significant changes\n    if change.pixels_changed > threshold:\n        return Category.WARNING, \"Significant visual change, please review\"\n\n    return Category.IGNORE, \"Minor change within acceptable threshold\"\n```\n\n### Context Analysis\n\n```python\ndef analyze_with_context(diff_image, baseline_image, context):\n    \"\"\"Analyze diff with full context awareness\"\"\"\n\n    # Load context\n    recent_commits = get_git_commits(days=7)\n    design_tokens = load_design_tokens()\n    component_history = load_component_history(context.component_name)\n\n    # Compute pixel diff\n    pixel_changes = compute_pixel_diff(baseline_image, diff_image)\n\n    # Cluster changes by type\n    color_changes = extract_color_changes(pixel_changes)\n    position_changes = extract_position_changes(pixel_changes)\n    size_changes = extract_size_changes(pixel_changes)\n    text_changes = extract_text_changes(pixel_changes)\n\n    # Analyze each cluster\n    categorizations = []\n\n    for change in color_changes:\n        category, reason = categorize_color_change(\n            change,\n            design_tokens,\n            recent_commits\n        )\n        categorizations.append({\n            'type': 'color',\n            'category': category,\n            'reason': reason,\n            'old_color': change.old_color,\n            'new_color': change.new_color,\n            'pixels_affected': change.pixel_count\n        })\n\n    for change in position_changes:\n        category, reason = categorize_position_change(\n            change,\n            component_history,\n            recent_commits\n        )\n        categorizations.append({\n            'type': 'position',\n            'category': category,\n            'reason': reason,\n            'shift_x': change.dx,\n            'shift_y': change.dy,\n            'elements_affected': change.element_count\n        })\n\n    # Generate report\n    return {\n        'total_changes': len(pixel_changes),\n        'categorizations': categorizations,\n        'summary': generate_summary(categorizations),\n        'recommendations': generate_recommendations(categorizations)\n    }\n```\n\n## Example Usage Patterns\n\n### 1. Initial Setup\n\n```bash\nUser: \"Set up visual regression testing for my Storybook\"\n\nClaude: Setting up AI-powered visual regression testing...\n\n‚úì Detected: Storybook 9 with Vite\n‚úì Installing: @storybook/test-runner, playwright\n‚úì Creating: .storybook/test-runner-config.ts\n‚úì Creating: .storybook/visual-regression-ai.ts\n‚úì Creating: scripts/visual-regression/analyze_diff.py\n\nCapturing baseline screenshots...\n  ‚úì Captured 47 component stories\n  ‚úì Stored in .storybook/visual-baselines/\n\nSetup complete! Run 'npm run test:visual' to check for regressions.\n```\n\n### 2. Detecting Changes\n\n```bash\nUser: \"Check for visual regressions in my latest changes\"\n\nClaude: Running visual regression analysis...\n\nComparing 47 components against baseline...\n  ‚úì 42 components unchanged\n  ‚ö†Ô∏è 3 components with warnings\n  ‚ùå 2 components with errors\n\nDetailed Analysis:\n\n1. Button Component (‚ö†Ô∏è Warning)\n   - Change: Primary color #2196F3 ‚Üí #1976D2\n   - Context: theme.ts updated 2 hours ago\n   - AI Analysis: \"Matches theme update - expected\"\n   - Recommendation: APPROVE\n\n2. Card Component (‚ùå Error)\n   - Change: Content shifted 2.3px right\n   - Context: No related commits found\n   - AI Analysis: \"Likely regression from layout refactor\"\n   - Recommendation: INVESTIGATE\n   - Affected Stories: Default, WithImage, WithActions\n\n3. Tooltip Component (‚ö†Ô∏è Warning)\n   - Change: Shadow increased\n   - Context: Elevation system updated\n   - AI Analysis: \"Matches new shadow-lg token\"\n   - Recommendation: APPROVE\n\nWould you like to:\n[A] Auto-approve warnings, reject errors\n[R] Reject all and investigate\n[U] Update baselines (approve all)\n[D] Show detailed diffs\n```\n\n### 3. Interactive Review\n\n```bash\nUser: \"Let me review the changes interactively\"\n\nClaude: Starting interactive review...\n\nChange 1 of 5:\nComponent: Button\nStory: Primary\nChange Type: Color\n  Old: #2196F3\n  New: #1976D2\n  Pixels: 1,247\n\nContext:\n  - Recent commit: \"Update primary color palette\" (2h ago)\n  - Token change: primary-600 #2196F3 ‚Üí #1976D2\n  - Author: you@example.com\n\nAI Recommendation: APPROVE\nReason: Matches design token update in recent commit\n\n[A]pprove  [R]eject  [V]iew diff  [S]kip  [Q]uit\n```\n\n## Best Practices\n\n### 1. Baseline Management\n\n- **Capture baselines on main branch** - Ensure baselines represent production\n- **Update after approved changes** - Keep baselines in sync\n- **Version control baselines** - Commit to git or use cloud storage\n- **Separate baselines per environment** - Different for staging vs production\n\n### 2. Threshold Configuration\n\n```typescript\n// .storybook/visual-regression.config.ts\nexport default {\n  // Pixel difference threshold (0-1)\n  threshold: 0.01, // 1% difference\n\n  // Auto-approve rules\n  autoApprove: {\n    tokenChanges: true,      // Auto-approve design token updates\n    antiAliasing: true,      // Ignore anti-aliasing differences\n    timestamps: true,        // Ignore timestamp changes\n    uuids: true,            // Ignore UUID changes\n  },\n\n  // AI analysis settings\n  aiAnalysis: {\n    includeGitHistory: true,\n    includePRDescription: true,\n    includeDesignTokens: true,\n    lookbackDays: 7,\n  },\n\n  // Notification settings\n  notifications: {\n    onError: 'always',\n    onWarning: 'pr-only',\n    onSuccess: 'never',\n  }\n};\n```\n\n### 3. CI/CD Integration\n\n- **Run on every PR** - Catch regressions early\n- **Block merge on errors** - Prevent bugs from reaching main\n- **Allow warnings** - Don't block on potential false positives\n- **Post PR comments** - Show visual diff report in PR\n- **Cache baselines** - Faster CI runs\n\n### 4. Team Collaboration\n\n- **Shared baselines** - Team uses same baseline images\n- **Review together** - Discuss ambiguous changes\n- **Document decisions** - Why certain changes were approved/rejected\n- **Update guidelines** - Refine auto-approval rules over time\n\n## Troubleshooting\n\n### Too Many False Positives\n\n**Problem:** AI still flagging too many irrelevant changes\n\n**Solutions:**\n1. Increase pixel threshold: `threshold: 0.02` (2%)\n2. Enable more auto-approve rules\n3. Add custom ignore patterns:\n   ```typescript\n   ignorePatterns: [\n     '.timestamp',\n     '[data-testid=\"random-uuid\"]',\n     '.animation-in-progress'\n   ]\n   ```\n\n### Missing Real Bugs\n\n**Problem:** AI approving actual regressions\n\n**Solutions:**\n1. Decrease threshold: `threshold: 0.005` (0.5%)\n2. Disable auto-approve for layout changes\n3. Always manually review \"warning\" category\n4. Add specific checks:\n   ```typescript\n   strictChecks: {\n     layoutShifts: true,     // Never auto-approve\n     colorContrast: true,    // Check WCAG compliance\n     brokenImages: true      // Detect missing images\n   }\n   ```\n\n### Slow CI Runs\n\n**Problem:** Visual regression tests taking too long\n\n**Solutions:**\n1. Parallelize screenshot capture\n2. Only test changed components\n3. Use smaller viewport sizes\n4. Cache Docker images with browsers\n5. Run subset in CI, full suite nightly\n\n### Baseline Drift\n\n**Problem:** Baselines becoming outdated\n\n**Solutions:**\n1. Automated baseline updates after merges to main\n2. Weekly baseline regeneration\n3. Separate baselines per branch\n4. Cloud-based baseline management (Chromatic)\n\n## Advanced Features\n\n### 1. Design Token Integration\n\nAutomatically detect when color/spacing changes match design token updates:\n\n```python\n# Reference: skills/visual-regression-testing/references/token-integration.md\n\ndef check_token_match(old_color, new_color, design_tokens):\n    \"\"\"Check if color change matches a design token update\"\"\"\n\n    recent_token_changes = design_tokens.get_recent_changes(days=7)\n\n    for change in recent_token_changes:\n        if change.old_value == old_color and change.new_value == new_color:\n            return {\n                'matches': True,\n                'token_name': change.token_name,\n                'commit': change.commit_sha,\n                'author': change.author\n            }\n\n    return {'matches': False}\n```\n\n### 2. Component History Tracking\n\nTrack component evolution to understand expected vs unexpected changes:\n\n```python\n# Reference: skills/visual-regression-testing/references/history-tracking.md\n\nclass ComponentHistory:\n    \"\"\"Track component change history for context\"\"\"\n\n    def get_recent_changes(self, component_name, days=30):\n        \"\"\"Get recent changes to component\"\"\"\n        commits = get_git_log(component_name, days=days)\n        return [\n            {\n                'date': commit.date,\n                'author': commit.author,\n                'message': commit.message,\n                'files_changed': commit.files,\n                'change_type': classify_change_type(commit)\n            }\n            for commit in commits\n        ]\n\n    def has_recent_refactor(self, component_name):\n        \"\"\"Check if component was recently refactored\"\"\"\n        changes = self.get_recent_changes(component_name, days=7)\n        return any('refactor' in c['message'].lower() for c in changes)\n```\n\n### 3. PR Description Analysis\n\nParse PR description for mentioned changes:\n\n```python\n# Reference: skills/visual-regression-testing/references/pr-analysis.md\n\ndef extract_mentioned_changes(pr_description):\n    \"\"\"Extract visual changes mentioned in PR description\"\"\"\n\n    # Look for common patterns\n    patterns = [\n        r'(?i)changed?\\s+(?:the\\s+)?color\\s+(?:of\\s+)?(\\w+)',\n        r'(?i)updated?\\s+(?:the\\s+)?(\\w+)\\s+style',\n        r'(?i)redesigned?\\s+(\\w+)',\n        r'(?i)new\\s+(\\w+)\\s+component'\n    ]\n\n    mentioned_changes = []\n    for pattern in patterns:\n        matches = re.findall(pattern, pr_description)\n        mentioned_changes.extend(matches)\n\n    return mentioned_changes\n```\n\n## Integration with Existing Skills\n\nThis skill works seamlessly with:\n- **testing-suite** - Complements interaction and a11y testing\n- **design-to-code** - Visual testing for generated components\n- **accessibility-remediation** - Verify a11y fixes don't break visuals\n- **dark-mode-generation** - Test dark mode variants\n- **ci-cd-generator** - Integrate into deployment pipeline\n\n## Files Reference\n\nFor detailed implementation:\n- `references/ai-analysis-algorithm.md` - AI decision-making logic\n- `references/token-integration.md` - Design token sync\n- `references/history-tracking.md` - Component evolution tracking\n- `references/pr-analysis.md` - PR description parsing\n- `examples/configuration-examples.md` - Various config setups\n- `examples/ci-cd-integration.md` - CI/CD pipeline examples\n- `scripts/analyze_diff.py` - Python analysis engine\n- `scripts/capture_screenshots.py` - Screenshot capture utility\n\n## Summary\n\nAI-Powered Visual Regression Testing transforms noisy pixel diffs into actionable intelligence by understanding context and intent. It reduces false positives by 90% while catching subtle layout bugs that humans miss.\n\n**Key Benefits:**\n- ‚úÖ 90% reduction in false positives vs traditional pixel diff\n- ‚úÖ Context-aware analysis (git, tokens, history)\n- ‚úÖ Auto-approval for expected changes\n- ‚úÖ Catches subtle regressions humans miss\n- ‚úÖ Integrates with existing CI/CD\n- ‚úÖ Works alongside Chromatic/Percy\n\n**Use this skill to** set up intelligent visual testing, analyze visual changes, configure auto-approval rules, and integrate with CI/CD pipelines."
              }
            ]
          }
        ]
      }
    },
    {
      "full_name": "flight505/claude-speech-automation",
      "url": "https://github.com/flight505/claude-speech-automation",
      "description": "Speech automation plugin for Claude Code with direct TTS integration",
      "homepage": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2025-12-24T21:49:15Z",
        "created_at": "2025-12-22T02:48:14Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 667
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 333
        },
        {
          "path": ".gitignore",
          "type": "blob",
          "size": 236
        },
        {
          "path": "HOOKS-SETUP.md",
          "type": "blob",
          "size": 4773
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 4193
        },
        {
          "path": "commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "commands/speak.md",
          "type": "blob",
          "size": 1256
        },
        {
          "path": "commands/speech-config.md",
          "type": "blob",
          "size": 2372
        },
        {
          "path": "commands/speech-status.md",
          "type": "blob",
          "size": 1414
        },
        {
          "path": "commands/voices.md",
          "type": "blob",
          "size": 1193
        },
        {
          "path": "config.yaml",
          "type": "blob",
          "size": 1906
        },
        {
          "path": "hooks-example.json",
          "type": "blob",
          "size": 737
        },
        {
          "path": "hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "hooks/common",
          "type": "tree",
          "size": null
        },
        {
          "path": "hooks/common/__init__.py",
          "type": "blob",
          "size": 459
        },
        {
          "path": "hooks/common/config_loader.py.old",
          "type": "blob",
          "size": 2937
        },
        {
          "path": "hooks/common/priority_scorer.py.old",
          "type": "blob",
          "size": 6786
        },
        {
          "path": "hooks/common/speech_trigger.py.old",
          "type": "blob",
          "size": 2681
        },
        {
          "path": "hooks/post_tool_use.py",
          "type": "blob",
          "size": 5007
        },
        {
          "path": "hooks/session_start.py",
          "type": "blob",
          "size": 1186
        },
        {
          "path": "hooks/stop.py",
          "type": "blob",
          "size": 1165
        },
        {
          "path": "hooks/stop_enhanced.py",
          "type": "blob",
          "size": 4334
        },
        {
          "path": "scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "scripts/speak.py",
          "type": "blob",
          "size": 1735
        },
        {
          "path": "verify-installation.sh",
          "type": "blob",
          "size": 3365
        }
      ],
      "marketplace": {
        "name": "speech-automation-local",
        "version": null,
        "description": null,
        "owner_info": {
          "name": "flight505"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "speech-automation",
            "description": "Intelligent automatic speech notifications with Kokoro TTS",
            "source": "./",
            "category": null,
            "version": "1.0.0",
            "author": {
              "name": "flight505",
              "url": "https://github.com/flight505"
            },
            "install_commands": [
              "/plugin marketplace add flight505/claude-speech-automation",
              "/plugin install speech-automation@speech-automation-local"
            ],
            "signals": {
              "stars": 0,
              "forks": 0,
              "pushed_at": "2025-12-24T21:49:15Z",
              "created_at": "2025-12-22T02:48:14Z",
              "license": null
            },
            "commands": [],
            "skills": []
          }
        ]
      }
    }
  ]
}