{
  "owner": {
    "id": "czlonkowski",
    "display_name": "Romuald Członkowski",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/56956555?v=4",
    "url": "https://github.com/czlonkowski",
    "bio": null,
    "stats": {
      "total_repos": 1,
      "total_plugins": 1,
      "total_commands": 0,
      "total_skills": 7,
      "total_stars": 1473,
      "total_forks": 263
    }
  },
  "repos": [
    {
      "full_name": "czlonkowski/n8n-skills",
      "url": "https://github.com/czlonkowski/n8n-skills",
      "description": "n8n skillset for Claude Code to build flawless n8n workflows",
      "homepage": "https://www.n8n-skills.com",
      "signals": {
        "stars": 1473,
        "forks": 263,
        "pushed_at": "2026-01-08T14:38:07Z",
        "created_at": "2025-10-20T05:51:27Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 1075
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 521
        },
        {
          "path": ".gitignore",
          "type": "blob",
          "size": 10
        },
        {
          "path": ".mcp.json.example",
          "type": "blob",
          "size": 323
        },
        {
          "path": "CLAUDE.md",
          "type": "blob",
          "size": 5702
        },
        {
          "path": "LICENSE",
          "type": "blob",
          "size": 1077
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 8720
        },
        {
          "path": "build.sh",
          "type": "blob",
          "size": 1204
        },
        {
          "path": "dist",
          "type": "tree",
          "size": null
        },
        {
          "path": "dist/README.md",
          "type": "blob",
          "size": 4953
        },
        {
          "path": "dist/n8n-expression-syntax-v1.1.0.zip",
          "type": "blob",
          "size": 11325
        },
        {
          "path": "dist/n8n-mcp-skills-v1.1.0.zip",
          "type": "blob",
          "size": 175637
        },
        {
          "path": "dist/n8n-mcp-tools-expert-v1.1.0.zip",
          "type": "blob",
          "size": 18508
        },
        {
          "path": "dist/n8n-node-configuration-v1.1.0.zip",
          "type": "blob",
          "size": 18046
        },
        {
          "path": "dist/n8n-validation-expert-v1.1.0.zip",
          "type": "blob",
          "size": 18485
        },
        {
          "path": "dist/n8n-workflow-patterns-v1.1.0.zip",
          "type": "blob",
          "size": 36815
        },
        {
          "path": "docs",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/CODE_NODE_BEST_PRACTICES.md",
          "type": "blob",
          "size": 35073
        },
        {
          "path": "docs/DEVELOPMENT.md",
          "type": "blob",
          "size": 11933
        },
        {
          "path": "docs/INSTALLATION.md",
          "type": "blob",
          "size": 6777
        },
        {
          "path": "docs/MCP_TESTING_LOG.md",
          "type": "blob",
          "size": 4645
        },
        {
          "path": "docs/USAGE.md",
          "type": "blob",
          "size": 11450
        },
        {
          "path": "evaluations",
          "type": "tree",
          "size": null
        },
        {
          "path": "evaluations/code-javascript",
          "type": "tree",
          "size": null
        },
        {
          "path": "evaluations/code-javascript/eval-001-webhook-body-gotcha.json",
          "type": "blob",
          "size": 876
        },
        {
          "path": "evaluations/code-javascript/eval-002-return-format-error.json",
          "type": "blob",
          "size": 917
        },
        {
          "path": "evaluations/code-javascript/eval-003-http-request.json",
          "type": "blob",
          "size": 924
        },
        {
          "path": "evaluations/code-javascript/eval-004-aggregation-pattern.json",
          "type": "blob",
          "size": 952
        },
        {
          "path": "evaluations/code-javascript/eval-005-expression-syntax-confusion.json",
          "type": "blob",
          "size": 1168
        },
        {
          "path": "evaluations/code-python",
          "type": "tree",
          "size": null
        },
        {
          "path": "evaluations/code-python/eval-001-module-import-error.json",
          "type": "blob",
          "size": 1306
        },
        {
          "path": "evaluations/code-python/eval-002-dictionary-keyerror.json",
          "type": "blob",
          "size": 1196
        },
        {
          "path": "evaluations/code-python/eval-003-webhook-body-gotcha.json",
          "type": "blob",
          "size": 1355
        },
        {
          "path": "evaluations/code-python/eval-004-return-format-error.json",
          "type": "blob",
          "size": 1222
        },
        {
          "path": "evaluations/code-python/eval-005-standard-library-usage.json",
          "type": "blob",
          "size": 1169
        },
        {
          "path": "evaluations/expression-syntax",
          "type": "tree",
          "size": null
        },
        {
          "path": "evaluations/expression-syntax/eval-001-missing-braces.json",
          "type": "blob",
          "size": 1020
        },
        {
          "path": "evaluations/expression-syntax/eval-002-webhook-body-data.json",
          "type": "blob",
          "size": 1077
        },
        {
          "path": "evaluations/expression-syntax/eval-003-code-node-confusion.json",
          "type": "blob",
          "size": 1198
        },
        {
          "path": "evaluations/expression-syntax/eval-004-node-reference.json",
          "type": "blob",
          "size": 1062
        },
        {
          "path": "evaluations/mcp-tools",
          "type": "tree",
          "size": null
        },
        {
          "path": "evaluations/mcp-tools/eval-001-tool-selection.json",
          "type": "blob",
          "size": 1047
        },
        {
          "path": "evaluations/mcp-tools/eval-002-nodetype-format.json",
          "type": "blob",
          "size": 1098
        },
        {
          "path": "evaluations/mcp-tools/eval-003-validation-workflow.json",
          "type": "blob",
          "size": 1188
        },
        {
          "path": "evaluations/mcp-tools/eval-004-essentials-vs-info.json",
          "type": "blob",
          "size": 1095
        },
        {
          "path": "evaluations/mcp-tools/eval-005-smart-parameters.json",
          "type": "blob",
          "size": 1144
        },
        {
          "path": "evaluations/node-configuration",
          "type": "tree",
          "size": null
        },
        {
          "path": "evaluations/node-configuration/eval-001-property-dependencies.json",
          "type": "blob",
          "size": 605
        },
        {
          "path": "evaluations/node-configuration/eval-002-operation-specific-config.json",
          "type": "blob",
          "size": 609
        },
        {
          "path": "evaluations/node-configuration/eval-003-conditional-fields.json",
          "type": "blob",
          "size": 624
        },
        {
          "path": "evaluations/node-configuration/eval-004-essentials-vs-info.json",
          "type": "blob",
          "size": 628
        },
        {
          "path": "evaluations/validation-expert",
          "type": "tree",
          "size": null
        },
        {
          "path": "evaluations/validation-expert/eval-001-missing-required-field.json",
          "type": "blob",
          "size": 581
        },
        {
          "path": "evaluations/validation-expert/eval-002-false-positive.json",
          "type": "blob",
          "size": 674
        },
        {
          "path": "evaluations/validation-expert/eval-003-auto-sanitization.json",
          "type": "blob",
          "size": 645
        },
        {
          "path": "evaluations/validation-expert/eval-004-validation-loop.json",
          "type": "blob",
          "size": 666
        },
        {
          "path": "evaluations/workflow-patterns",
          "type": "tree",
          "size": null
        },
        {
          "path": "evaluations/workflow-patterns/eval-001-webhook-workflow.json",
          "type": "blob",
          "size": 652
        },
        {
          "path": "evaluations/workflow-patterns/eval-002-http-api-workflow.json",
          "type": "blob",
          "size": 653
        },
        {
          "path": "evaluations/workflow-patterns/eval-003-database-sync.json",
          "type": "blob",
          "size": 748
        },
        {
          "path": "evaluations/workflow-patterns/eval-004-ai-agent.json",
          "type": "blob",
          "size": 754
        },
        {
          "path": "evaluations/workflow-patterns/eval-005-scheduled-report.json",
          "type": "blob",
          "size": 736
        },
        {
          "path": "skills.png",
          "type": "blob",
          "size": 2095676
        },
        {
          "path": "skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/n8n-code-javascript",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/n8n-code-javascript/BUILTIN_FUNCTIONS.md",
          "type": "blob",
          "size": 16845
        },
        {
          "path": "skills/n8n-code-javascript/COMMON_PATTERNS.md",
          "type": "blob",
          "size": 29205
        },
        {
          "path": "skills/n8n-code-javascript/DATA_ACCESS.md",
          "type": "blob",
          "size": 16107
        },
        {
          "path": "skills/n8n-code-javascript/ERROR_PATTERNS.md",
          "type": "blob",
          "size": 16433
        },
        {
          "path": "skills/n8n-code-javascript/README.md",
          "type": "blob",
          "size": 9563
        },
        {
          "path": "skills/n8n-code-javascript/SKILL.md",
          "type": "blob",
          "size": 16110
        },
        {
          "path": "skills/n8n-code-python",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/n8n-code-python/COMMON_PATTERNS.md",
          "type": "blob",
          "size": 19329
        },
        {
          "path": "skills/n8n-code-python/DATA_ACCESS.md",
          "type": "blob",
          "size": 15026
        },
        {
          "path": "skills/n8n-code-python/ERROR_PATTERNS.md",
          "type": "blob",
          "size": 13913
        },
        {
          "path": "skills/n8n-code-python/README.md",
          "type": "blob",
          "size": 9524
        },
        {
          "path": "skills/n8n-code-python/SKILL.md",
          "type": "blob",
          "size": 17971
        },
        {
          "path": "skills/n8n-code-python/STANDARD_LIBRARY.md",
          "type": "blob",
          "size": 18115
        },
        {
          "path": "skills/n8n-expression-syntax",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/n8n-expression-syntax/COMMON_MISTAKES.md",
          "type": "blob",
          "size": 8658
        },
        {
          "path": "skills/n8n-expression-syntax/EXAMPLES.md",
          "type": "blob",
          "size": 8303
        },
        {
          "path": "skills/n8n-expression-syntax/README.md",
          "type": "blob",
          "size": 2323
        },
        {
          "path": "skills/n8n-expression-syntax/SKILL.md",
          "type": "blob",
          "size": 9600
        },
        {
          "path": "skills/n8n-mcp-tools-expert",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/n8n-mcp-tools-expert/README.md",
          "type": "blob",
          "size": 2763
        },
        {
          "path": "skills/n8n-mcp-tools-expert/SEARCH_GUIDE.md",
          "type": "blob",
          "size": 8192
        },
        {
          "path": "skills/n8n-mcp-tools-expert/SKILL.md",
          "type": "blob",
          "size": 16447
        },
        {
          "path": "skills/n8n-mcp-tools-expert/VALIDATION_GUIDE.md",
          "type": "blob",
          "size": 9687
        },
        {
          "path": "skills/n8n-mcp-tools-expert/WORKFLOW_GUIDE.md",
          "type": "blob",
          "size": 12914
        },
        {
          "path": "skills/n8n-node-configuration",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/n8n-node-configuration/DEPENDENCIES.md",
          "type": "blob",
          "size": 14598
        },
        {
          "path": "skills/n8n-node-configuration/OPERATION_PATTERNS.md",
          "type": "blob",
          "size": 15358
        },
        {
          "path": "skills/n8n-node-configuration/README.md",
          "type": "blob",
          "size": 9800
        },
        {
          "path": "skills/n8n-node-configuration/SKILL.md",
          "type": "blob",
          "size": 17353
        },
        {
          "path": "skills/n8n-validation-expert",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/n8n-validation-expert/ERROR_CATALOG.md",
          "type": "blob",
          "size": 17212
        },
        {
          "path": "skills/n8n-validation-expert/FALSE_POSITIVES.md",
          "type": "blob",
          "size": 14723
        },
        {
          "path": "skills/n8n-validation-expert/README.md",
          "type": "blob",
          "size": 7956
        },
        {
          "path": "skills/n8n-validation-expert/SKILL.md",
          "type": "blob",
          "size": 14552
        },
        {
          "path": "skills/n8n-workflow-patterns",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/n8n-workflow-patterns/README.md",
          "type": "blob",
          "size": 7022
        },
        {
          "path": "skills/n8n-workflow-patterns/SKILL.md",
          "type": "blob",
          "size": 11511
        },
        {
          "path": "skills/n8n-workflow-patterns/ai_agent_workflow.md",
          "type": "blob",
          "size": 17512
        },
        {
          "path": "skills/n8n-workflow-patterns/database_operations.md",
          "type": "blob",
          "size": 16132
        },
        {
          "path": "skills/n8n-workflow-patterns/http_api_integration.md",
          "type": "blob",
          "size": 14672
        },
        {
          "path": "skills/n8n-workflow-patterns/scheduled_tasks.md",
          "type": "blob",
          "size": 15897
        },
        {
          "path": "skills/n8n-workflow-patterns/webhook_processing.md",
          "type": "blob",
          "size": 11789
        }
      ],
      "marketplace": {
        "name": "n8n-mcp-skills",
        "version": null,
        "description": "Expert skills for building n8n workflows",
        "owner_info": {
          "name": "Romuald Członkowski",
          "url": "https://www.aiadvisors.pl/en"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "n8n-mcp-skills",
            "description": "Complete bundle: 7 expert skills for building flawless n8n workflows using n8n-mcp MCP server. Includes skills for expression syntax, MCP tools usage, workflow patterns, validation, node configuration, JavaScript code, and Python code.",
            "source": "./",
            "category": "automation",
            "version": "1.0.0",
            "author": {
              "name": "Romuald Członkowski",
              "url": "https://www.aiadvisors.pl/en"
            },
            "install_commands": [
              "/plugin marketplace add czlonkowski/n8n-skills",
              "/plugin install n8n-mcp-skills@n8n-mcp-skills"
            ],
            "signals": {
              "stars": 1473,
              "forks": 263,
              "pushed_at": "2026-01-08T14:38:07Z",
              "created_at": "2025-10-20T05:51:27Z",
              "license": "MIT"
            },
            "commands": [],
            "skills": [
              {
                "name": "n8n-code-javascript",
                "description": "Write JavaScript code in n8n Code nodes. Use when writing JavaScript in n8n, using $input/$json/$node syntax, making HTTP requests with $helpers, working with dates using DateTime, troubleshooting Code node errors, or choosing between Code node modes.",
                "path": "skills/n8n-code-javascript/SKILL.md",
                "frontmatter": {
                  "name": "n8n-code-javascript",
                  "description": "Write JavaScript code in n8n Code nodes. Use when writing JavaScript in n8n, using $input/$json/$node syntax, making HTTP requests with $helpers, working with dates using DateTime, troubleshooting Code node errors, or choosing between Code node modes."
                },
                "content": "# JavaScript Code Node\n\nExpert guidance for writing JavaScript code in n8n Code nodes.\n\n---\n\n## Quick Start\n\n```javascript\n// Basic template for Code nodes\nconst items = $input.all();\n\n// Process data\nconst processed = items.map(item => ({\n  json: {\n    ...item.json,\n    processed: true,\n    timestamp: new Date().toISOString()\n  }\n}));\n\nreturn processed;\n```\n\n### Essential Rules\n\n1. **Choose \"Run Once for All Items\" mode** (recommended for most use cases)\n2. **Access data**: `$input.all()`, `$input.first()`, or `$input.item`\n3. **CRITICAL**: Must return `[{json: {...}}]` format\n4. **CRITICAL**: Webhook data is under `$json.body` (not `$json` directly)\n5. **Built-ins available**: $helpers.httpRequest(), DateTime (Luxon), $jmespath()\n\n---\n\n## Mode Selection Guide\n\nThe Code node offers two execution modes. Choose based on your use case:\n\n### Run Once for All Items (Recommended - Default)\n\n**Use this mode for:** 95% of use cases\n\n- **How it works**: Code executes **once** regardless of input count\n- **Data access**: `$input.all()` or `items` array\n- **Best for**: Aggregation, filtering, batch processing, transformations, API calls with all data\n- **Performance**: Faster for multiple items (single execution)\n\n```javascript\n// Example: Calculate total from all items\nconst allItems = $input.all();\nconst total = allItems.reduce((sum, item) => sum + (item.json.amount || 0), 0);\n\nreturn [{\n  json: {\n    total,\n    count: allItems.length,\n    average: total / allItems.length\n  }\n}];\n```\n\n**When to use:**\n- ✅ Comparing items across the dataset\n- ✅ Calculating totals, averages, or statistics\n- ✅ Sorting or ranking items\n- ✅ Deduplication\n- ✅ Building aggregated reports\n- ✅ Combining data from multiple items\n\n### Run Once for Each Item\n\n**Use this mode for:** Specialized cases only\n\n- **How it works**: Code executes **separately** for each input item\n- **Data access**: `$input.item` or `$item`\n- **Best for**: Item-specific logic, independent operations, per-item validation\n- **Performance**: Slower for large datasets (multiple executions)\n\n```javascript\n// Example: Add processing timestamp to each item\nconst item = $input.item;\n\nreturn [{\n  json: {\n    ...item.json,\n    processed: true,\n    processedAt: new Date().toISOString()\n  }\n}];\n```\n\n**When to use:**\n- ✅ Each item needs independent API call\n- ✅ Per-item validation with different error handling\n- ✅ Item-specific transformations based on item properties\n- ✅ When items must be processed separately for business logic\n\n**Decision Shortcut:**\n- **Need to look at multiple items?** → Use \"All Items\" mode\n- **Each item completely independent?** → Use \"Each Item\" mode\n- **Not sure?** → Use \"All Items\" mode (you can always loop inside)\n\n---\n\n## Data Access Patterns\n\n### Pattern 1: $input.all() - Most Common\n\n**Use when**: Processing arrays, batch operations, aggregations\n\n```javascript\n// Get all items from previous node\nconst allItems = $input.all();\n\n// Filter, map, reduce as needed\nconst valid = allItems.filter(item => item.json.status === 'active');\nconst mapped = valid.map(item => ({\n  json: {\n    id: item.json.id,\n    name: item.json.name\n  }\n}));\n\nreturn mapped;\n```\n\n### Pattern 2: $input.first() - Very Common\n\n**Use when**: Working with single objects, API responses, first-in-first-out\n\n```javascript\n// Get first item only\nconst firstItem = $input.first();\nconst data = firstItem.json;\n\nreturn [{\n  json: {\n    result: processData(data),\n    processedAt: new Date().toISOString()\n  }\n}];\n```\n\n### Pattern 3: $input.item - Each Item Mode Only\n\n**Use when**: In \"Run Once for Each Item\" mode\n\n```javascript\n// Current item in loop (Each Item mode only)\nconst currentItem = $input.item;\n\nreturn [{\n  json: {\n    ...currentItem.json,\n    itemProcessed: true\n  }\n}];\n```\n\n### Pattern 4: $node - Reference Other Nodes\n\n**Use when**: Need data from specific nodes in workflow\n\n```javascript\n// Get output from specific node\nconst webhookData = $node[\"Webhook\"].json;\nconst httpData = $node[\"HTTP Request\"].json;\n\nreturn [{\n  json: {\n    combined: {\n      webhook: webhookData,\n      api: httpData\n    }\n  }\n}];\n```\n\n**See**: [DATA_ACCESS.md](DATA_ACCESS.md) for comprehensive guide\n\n---\n\n## Critical: Webhook Data Structure\n\n**MOST COMMON MISTAKE**: Webhook data is nested under `.body`\n\n```javascript\n// ❌ WRONG - Will return undefined\nconst name = $json.name;\nconst email = $json.email;\n\n// ✅ CORRECT - Webhook data is under .body\nconst name = $json.body.name;\nconst email = $json.body.email;\n\n// Or with $input\nconst webhookData = $input.first().json.body;\nconst name = webhookData.name;\n```\n\n**Why**: Webhook node wraps all request data under `body` property. This includes POST data, query parameters, and JSON payloads.\n\n**See**: [DATA_ACCESS.md](DATA_ACCESS.md) for full webhook structure details\n\n---\n\n## Return Format Requirements\n\n**CRITICAL RULE**: Always return array of objects with `json` property\n\n### Correct Return Formats\n\n```javascript\n// ✅ Single result\nreturn [{\n  json: {\n    field1: value1,\n    field2: value2\n  }\n}];\n\n// ✅ Multiple results\nreturn [\n  {json: {id: 1, data: 'first'}},\n  {json: {id: 2, data: 'second'}}\n];\n\n// ✅ Transformed array\nconst transformed = $input.all()\n  .filter(item => item.json.valid)\n  .map(item => ({\n    json: {\n      id: item.json.id,\n      processed: true\n    }\n  }));\nreturn transformed;\n\n// ✅ Empty result (when no data to return)\nreturn [];\n\n// ✅ Conditional return\nif (shouldProcess) {\n  return [{json: processedData}];\n} else {\n  return [];\n}\n```\n\n### Incorrect Return Formats\n\n```javascript\n// ❌ WRONG: Object without array wrapper\nreturn {\n  json: {field: value}\n};\n\n// ❌ WRONG: Array without json wrapper\nreturn [{field: value}];\n\n// ❌ WRONG: Plain string\nreturn \"processed\";\n\n// ❌ WRONG: Raw data without mapping\nreturn $input.all();  // Missing .map()\n\n// ❌ WRONG: Incomplete structure\nreturn [{data: value}];  // Should be {json: value}\n```\n\n**Why it matters**: Next nodes expect array format. Incorrect format causes workflow execution to fail.\n\n**See**: [ERROR_PATTERNS.md](ERROR_PATTERNS.md) #3 for detailed error solutions\n\n---\n\n## Common Patterns Overview\n\nBased on production workflows, here are the most useful patterns:\n\n### 1. Multi-Source Data Aggregation\nCombine data from multiple APIs, webhooks, or nodes\n\n```javascript\nconst allItems = $input.all();\nconst results = [];\n\nfor (const item of allItems) {\n  const sourceName = item.json.name || 'Unknown';\n  // Parse source-specific structure\n  if (sourceName === 'API1' && item.json.data) {\n    results.push({\n      json: {\n        title: item.json.data.title,\n        source: 'API1'\n      }\n    });\n  }\n}\n\nreturn results;\n```\n\n### 2. Filtering with Regex\nExtract patterns, mentions, or keywords from text\n\n```javascript\nconst pattern = /\\b([A-Z]{2,5})\\b/g;\nconst matches = {};\n\nfor (const item of $input.all()) {\n  const text = item.json.text;\n  const found = text.match(pattern);\n\n  if (found) {\n    found.forEach(match => {\n      matches[match] = (matches[match] || 0) + 1;\n    });\n  }\n}\n\nreturn [{json: {matches}}];\n```\n\n### 3. Data Transformation & Enrichment\nMap fields, normalize formats, add computed fields\n\n```javascript\nconst items = $input.all();\n\nreturn items.map(item => {\n  const data = item.json;\n  const nameParts = data.name.split(' ');\n\n  return {\n    json: {\n      first_name: nameParts[0],\n      last_name: nameParts.slice(1).join(' '),\n      email: data.email,\n      created_at: new Date().toISOString()\n    }\n  };\n});\n```\n\n### 4. Top N Filtering & Ranking\nSort and limit results\n\n```javascript\nconst items = $input.all();\n\nconst topItems = items\n  .sort((a, b) => (b.json.score || 0) - (a.json.score || 0))\n  .slice(0, 10);\n\nreturn topItems.map(item => ({json: item.json}));\n```\n\n### 5. Aggregation & Reporting\nSum, count, group data\n\n```javascript\nconst items = $input.all();\nconst total = items.reduce((sum, item) => sum + (item.json.amount || 0), 0);\n\nreturn [{\n  json: {\n    total,\n    count: items.length,\n    average: total / items.length,\n    timestamp: new Date().toISOString()\n  }\n}];\n```\n\n**See**: [COMMON_PATTERNS.md](COMMON_PATTERNS.md) for 10 detailed production patterns\n\n---\n\n## Error Prevention - Top 5 Mistakes\n\n### #1: Empty Code or Missing Return (Most Common)\n\n```javascript\n// ❌ WRONG: No return statement\nconst items = $input.all();\n// ... processing code ...\n// Forgot to return!\n\n// ✅ CORRECT: Always return data\nconst items = $input.all();\n// ... processing ...\nreturn items.map(item => ({json: item.json}));\n```\n\n### #2: Expression Syntax Confusion\n\n```javascript\n// ❌ WRONG: Using n8n expression syntax in code\nconst value = \"{{ $json.field }}\";\n\n// ✅ CORRECT: Use JavaScript template literals\nconst value = `${$json.field}`;\n\n// ✅ CORRECT: Direct access\nconst value = $input.first().json.field;\n```\n\n### #3: Incorrect Return Wrapper\n\n```javascript\n// ❌ WRONG: Returning object instead of array\nreturn {json: {result: 'success'}};\n\n// ✅ CORRECT: Array wrapper required\nreturn [{json: {result: 'success'}}];\n```\n\n### #4: Missing Null Checks\n\n```javascript\n// ❌ WRONG: Crashes if field doesn't exist\nconst value = item.json.user.email;\n\n// ✅ CORRECT: Safe access with optional chaining\nconst value = item.json?.user?.email || 'no-email@example.com';\n\n// ✅ CORRECT: Guard clause\nif (!item.json.user) {\n  return [];\n}\nconst value = item.json.user.email;\n```\n\n### #5: Webhook Body Nesting\n\n```javascript\n// ❌ WRONG: Direct access to webhook data\nconst email = $json.email;\n\n// ✅ CORRECT: Webhook data under .body\nconst email = $json.body.email;\n```\n\n**See**: [ERROR_PATTERNS.md](ERROR_PATTERNS.md) for comprehensive error guide\n\n---\n\n## Built-in Functions & Helpers\n\n### $helpers.httpRequest()\n\nMake HTTP requests from within code:\n\n```javascript\nconst response = await $helpers.httpRequest({\n  method: 'GET',\n  url: 'https://api.example.com/data',\n  headers: {\n    'Authorization': 'Bearer token',\n    'Content-Type': 'application/json'\n  }\n});\n\nreturn [{json: {data: response}}];\n```\n\n### DateTime (Luxon)\n\nDate and time operations:\n\n```javascript\n// Current time\nconst now = DateTime.now();\n\n// Format dates\nconst formatted = now.toFormat('yyyy-MM-dd');\nconst iso = now.toISO();\n\n// Date arithmetic\nconst tomorrow = now.plus({days: 1});\nconst lastWeek = now.minus({weeks: 1});\n\nreturn [{\n  json: {\n    today: formatted,\n    tomorrow: tomorrow.toFormat('yyyy-MM-dd')\n  }\n}];\n```\n\n### $jmespath()\n\nQuery JSON structures:\n\n```javascript\nconst data = $input.first().json;\n\n// Filter array\nconst adults = $jmespath(data, 'users[?age >= `18`]');\n\n// Extract fields\nconst names = $jmespath(data, 'users[*].name');\n\nreturn [{json: {adults, names}}];\n```\n\n**See**: [BUILTIN_FUNCTIONS.md](BUILTIN_FUNCTIONS.md) for complete reference\n\n---\n\n## Best Practices\n\n### 1. Always Validate Input Data\n\n```javascript\nconst items = $input.all();\n\n// Check if data exists\nif (!items || items.length === 0) {\n  return [];\n}\n\n// Validate structure\nif (!items[0].json) {\n  return [{json: {error: 'Invalid input format'}}];\n}\n\n// Continue processing...\n```\n\n### 2. Use Try-Catch for Error Handling\n\n```javascript\ntry {\n  const response = await $helpers.httpRequest({\n    url: 'https://api.example.com/data'\n  });\n\n  return [{json: {success: true, data: response}}];\n} catch (error) {\n  return [{\n    json: {\n      success: false,\n      error: error.message\n    }\n  }];\n}\n```\n\n### 3. Prefer Array Methods Over Loops\n\n```javascript\n// ✅ GOOD: Functional approach\nconst processed = $input.all()\n  .filter(item => item.json.valid)\n  .map(item => ({json: {id: item.json.id}}));\n\n// ❌ SLOWER: Manual loop\nconst processed = [];\nfor (const item of $input.all()) {\n  if (item.json.valid) {\n    processed.push({json: {id: item.json.id}});\n  }\n}\n```\n\n### 4. Filter Early, Process Late\n\n```javascript\n// ✅ GOOD: Filter first to reduce processing\nconst processed = $input.all()\n  .filter(item => item.json.status === 'active')  // Reduce dataset first\n  .map(item => expensiveTransformation(item));  // Then transform\n\n// ❌ WASTEFUL: Transform everything, then filter\nconst processed = $input.all()\n  .map(item => expensiveTransformation(item))  // Wastes CPU\n  .filter(item => item.json.status === 'active');\n```\n\n### 5. Use Descriptive Variable Names\n\n```javascript\n// ✅ GOOD: Clear intent\nconst activeUsers = $input.all().filter(item => item.json.active);\nconst totalRevenue = activeUsers.reduce((sum, user) => sum + user.json.revenue, 0);\n\n// ❌ BAD: Unclear purpose\nconst a = $input.all().filter(item => item.json.active);\nconst t = a.reduce((s, u) => s + u.json.revenue, 0);\n```\n\n### 6. Debug with console.log()\n\n```javascript\n// Debug statements appear in browser console\nconst items = $input.all();\nconsole.log(`Processing ${items.length} items`);\n\nfor (const item of items) {\n  console.log('Item data:', item.json);\n  // Process...\n}\n\nreturn result;\n```\n\n---\n\n## When to Use Code Node\n\nUse Code node when:\n- ✅ Complex transformations requiring multiple steps\n- ✅ Custom calculations or business logic\n- ✅ Recursive operations\n- ✅ API response parsing with complex structure\n- ✅ Multi-step conditionals\n- ✅ Data aggregation across items\n\nConsider other nodes when:\n- ❌ Simple field mapping → Use **Set** node\n- ❌ Basic filtering → Use **Filter** node\n- ❌ Simple conditionals → Use **IF** or **Switch** node\n- ❌ HTTP requests only → Use **HTTP Request** node\n\n**Code node excels at**: Complex logic that would require chaining many simple nodes\n\n---\n\n## Integration with Other Skills\n\n### Works With:\n\n**n8n Expression Syntax**:\n- Expressions use `{{ }}` syntax in other nodes\n- Code nodes use JavaScript directly (no `{{ }}`)\n- When to use expressions vs code\n\n**n8n MCP Tools Expert**:\n- How to find Code node: `search_nodes({query: \"code\"})`\n- Get configuration help: `get_node_essentials(\"nodes-base.code\")`\n- Validate code: `validate_node_operation()`\n\n**n8n Node Configuration**:\n- Mode selection (All Items vs Each Item)\n- Language selection (JavaScript vs Python)\n- Understanding property dependencies\n\n**n8n Workflow Patterns**:\n- Code nodes in transformation step\n- Webhook → Code → API pattern\n- Error handling in workflows\n\n**n8n Validation Expert**:\n- Validate Code node configuration\n- Handle validation errors\n- Auto-fix common issues\n\n---\n\n## Quick Reference Checklist\n\nBefore deploying Code nodes, verify:\n\n- [ ] **Code is not empty** - Must have meaningful logic\n- [ ] **Return statement exists** - Must return array of objects\n- [ ] **Proper return format** - Each item: `{json: {...}}`\n- [ ] **Data access correct** - Using `$input.all()`, `$input.first()`, or `$input.item`\n- [ ] **No n8n expressions** - Use JavaScript template literals: `` `${value}` ``\n- [ ] **Error handling** - Guard clauses for null/undefined inputs\n- [ ] **Webhook data** - Access via `.body` if from webhook\n- [ ] **Mode selection** - \"All Items\" for most cases\n- [ ] **Performance** - Prefer map/filter over manual loops\n- [ ] **Output consistent** - All code paths return same structure\n\n---\n\n## Additional Resources\n\n### Related Files\n- [DATA_ACCESS.md](DATA_ACCESS.md) - Comprehensive data access patterns\n- [COMMON_PATTERNS.md](COMMON_PATTERNS.md) - 10 production-tested patterns\n- [ERROR_PATTERNS.md](ERROR_PATTERNS.md) - Top 5 errors and solutions\n- [BUILTIN_FUNCTIONS.md](BUILTIN_FUNCTIONS.md) - Complete built-in reference\n\n### n8n Documentation\n- Code Node Guide: https://docs.n8n.io/code/code-node/\n- Built-in Methods: https://docs.n8n.io/code-examples/methods-variables-reference/\n- Luxon Documentation: https://moment.github.io/luxon/\n\n---\n\n**Ready to write JavaScript in n8n Code nodes!** Start with simple transformations, use the error patterns guide to avoid common mistakes, and reference the pattern library for production-ready examples."
              },
              {
                "name": "n8n-code-python",
                "description": "Write Python code in n8n Code nodes. Use when writing Python in n8n, using _input/_json/_node syntax, working with standard library, or need to understand Python limitations in n8n Code nodes.",
                "path": "skills/n8n-code-python/SKILL.md",
                "frontmatter": {
                  "name": "n8n-code-python",
                  "description": "Write Python code in n8n Code nodes. Use when writing Python in n8n, using _input/_json/_node syntax, working with standard library, or need to understand Python limitations in n8n Code nodes."
                },
                "content": "# Python Code Node (Beta)\n\nExpert guidance for writing Python code in n8n Code nodes.\n\n---\n\n## ⚠️ Important: JavaScript First\n\n**Recommendation**: Use **JavaScript for 95% of use cases**. Only use Python when:\n- You need specific Python standard library functions\n- You're significantly more comfortable with Python syntax\n- You're doing data transformations better suited to Python\n\n**Why JavaScript is preferred:**\n- Full n8n helper functions ($helpers.httpRequest, etc.)\n- Luxon DateTime library for advanced date/time operations\n- No external library limitations\n- Better n8n documentation and community support\n\n---\n\n## Quick Start\n\n```python\n# Basic template for Python Code nodes\nitems = _input.all()\n\n# Process data\nprocessed = []\nfor item in items:\n    processed.append({\n        \"json\": {\n            **item[\"json\"],\n            \"processed\": True,\n            \"timestamp\": datetime.now().isoformat()\n        }\n    })\n\nreturn processed\n```\n\n### Essential Rules\n\n1. **Consider JavaScript first** - Use Python only when necessary\n2. **Access data**: `_input.all()`, `_input.first()`, or `_input.item`\n3. **CRITICAL**: Must return `[{\"json\": {...}}]` format\n4. **CRITICAL**: Webhook data is under `_json[\"body\"]` (not `_json` directly)\n5. **CRITICAL LIMITATION**: **No external libraries** (no requests, pandas, numpy)\n6. **Standard library only**: json, datetime, re, base64, hashlib, urllib.parse, math, random, statistics\n\n---\n\n## Mode Selection Guide\n\nSame as JavaScript - choose based on your use case:\n\n### Run Once for All Items (Recommended - Default)\n\n**Use this mode for:** 95% of use cases\n\n- **How it works**: Code executes **once** regardless of input count\n- **Data access**: `_input.all()` or `_items` array (Native mode)\n- **Best for**: Aggregation, filtering, batch processing, transformations\n- **Performance**: Faster for multiple items (single execution)\n\n```python\n# Example: Calculate total from all items\nall_items = _input.all()\ntotal = sum(item[\"json\"].get(\"amount\", 0) for item in all_items)\n\nreturn [{\n    \"json\": {\n        \"total\": total,\n        \"count\": len(all_items),\n        \"average\": total / len(all_items) if all_items else 0\n    }\n}]\n```\n\n### Run Once for Each Item\n\n**Use this mode for:** Specialized cases only\n\n- **How it works**: Code executes **separately** for each input item\n- **Data access**: `_input.item` or `_item` (Native mode)\n- **Best for**: Item-specific logic, independent operations, per-item validation\n- **Performance**: Slower for large datasets (multiple executions)\n\n```python\n# Example: Add processing timestamp to each item\nitem = _input.item\n\nreturn [{\n    \"json\": {\n        **item[\"json\"],\n        \"processed\": True,\n        \"processed_at\": datetime.now().isoformat()\n    }\n}]\n```\n\n---\n\n## Python Modes: Beta vs Native\n\nn8n offers two Python execution modes:\n\n### Python (Beta) - Recommended\n- **Use**: `_input`, `_json`, `_node` helper syntax\n- **Best for**: Most Python use cases\n- **Helpers available**: `_now`, `_today`, `_jmespath()`\n- **Import**: `from datetime import datetime`\n\n```python\n# Python (Beta) example\nitems = _input.all()\nnow = _now  # Built-in datetime object\n\nreturn [{\n    \"json\": {\n        \"count\": len(items),\n        \"timestamp\": now.isoformat()\n    }\n}]\n```\n\n### Python (Native) (Beta)\n- **Use**: `_items`, `_item` variables only\n- **No helpers**: No `_input`, `_now`, etc.\n- **More limited**: Standard Python only\n- **Use when**: Need pure Python without n8n helpers\n\n```python\n# Python (Native) example\nprocessed = []\n\nfor item in _items:\n    processed.append({\n        \"json\": {\n            \"id\": item[\"json\"].get(\"id\"),\n            \"processed\": True\n        }\n    })\n\nreturn processed\n```\n\n**Recommendation**: Use **Python (Beta)** for better n8n integration.\n\n---\n\n## Data Access Patterns\n\n### Pattern 1: _input.all() - Most Common\n\n**Use when**: Processing arrays, batch operations, aggregations\n\n```python\n# Get all items from previous node\nall_items = _input.all()\n\n# Filter, transform as needed\nvalid = [item for item in all_items if item[\"json\"].get(\"status\") == \"active\"]\n\nprocessed = []\nfor item in valid:\n    processed.append({\n        \"json\": {\n            \"id\": item[\"json\"][\"id\"],\n            \"name\": item[\"json\"][\"name\"]\n        }\n    })\n\nreturn processed\n```\n\n### Pattern 2: _input.first() - Very Common\n\n**Use when**: Working with single objects, API responses\n\n```python\n# Get first item only\nfirst_item = _input.first()\ndata = first_item[\"json\"]\n\nreturn [{\n    \"json\": {\n        \"result\": process_data(data),\n        \"processed_at\": datetime.now().isoformat()\n    }\n}]\n```\n\n### Pattern 3: _input.item - Each Item Mode Only\n\n**Use when**: In \"Run Once for Each Item\" mode\n\n```python\n# Current item in loop (Each Item mode only)\ncurrent_item = _input.item\n\nreturn [{\n    \"json\": {\n        **current_item[\"json\"],\n        \"item_processed\": True\n    }\n}]\n```\n\n### Pattern 4: _node - Reference Other Nodes\n\n**Use when**: Need data from specific nodes in workflow\n\n```python\n# Get output from specific node\nwebhook_data = _node[\"Webhook\"][\"json\"]\nhttp_data = _node[\"HTTP Request\"][\"json\"]\n\nreturn [{\n    \"json\": {\n        \"combined\": {\n            \"webhook\": webhook_data,\n            \"api\": http_data\n        }\n    }\n}]\n```\n\n**See**: [DATA_ACCESS.md](DATA_ACCESS.md) for comprehensive guide\n\n---\n\n## Critical: Webhook Data Structure\n\n**MOST COMMON MISTAKE**: Webhook data is nested under `[\"body\"]`\n\n```python\n# ❌ WRONG - Will raise KeyError\nname = _json[\"name\"]\nemail = _json[\"email\"]\n\n# ✅ CORRECT - Webhook data is under [\"body\"]\nname = _json[\"body\"][\"name\"]\nemail = _json[\"body\"][\"email\"]\n\n# ✅ SAFER - Use .get() for safe access\nwebhook_data = _json.get(\"body\", {})\nname = webhook_data.get(\"name\")\n```\n\n**Why**: Webhook node wraps all request data under `body` property. This includes POST data, query parameters, and JSON payloads.\n\n**See**: [DATA_ACCESS.md](DATA_ACCESS.md) for full webhook structure details\n\n---\n\n## Return Format Requirements\n\n**CRITICAL RULE**: Always return list of dictionaries with `\"json\"` key\n\n### Correct Return Formats\n\n```python\n# ✅ Single result\nreturn [{\n    \"json\": {\n        \"field1\": value1,\n        \"field2\": value2\n    }\n}]\n\n# ✅ Multiple results\nreturn [\n    {\"json\": {\"id\": 1, \"data\": \"first\"}},\n    {\"json\": {\"id\": 2, \"data\": \"second\"}}\n]\n\n# ✅ List comprehension\ntransformed = [\n    {\"json\": {\"id\": item[\"json\"][\"id\"], \"processed\": True}}\n    for item in _input.all()\n    if item[\"json\"].get(\"valid\")\n]\nreturn transformed\n\n# ✅ Empty result (when no data to return)\nreturn []\n\n# ✅ Conditional return\nif should_process:\n    return [{\"json\": processed_data}]\nelse:\n    return []\n```\n\n### Incorrect Return Formats\n\n```python\n# ❌ WRONG: Dictionary without list wrapper\nreturn {\n    \"json\": {\"field\": value}\n}\n\n# ❌ WRONG: List without json wrapper\nreturn [{\"field\": value}]\n\n# ❌ WRONG: Plain string\nreturn \"processed\"\n\n# ❌ WRONG: Incomplete structure\nreturn [{\"data\": value}]  # Should be {\"json\": value}\n```\n\n**Why it matters**: Next nodes expect list format. Incorrect format causes workflow execution to fail.\n\n**See**: [ERROR_PATTERNS.md](ERROR_PATTERNS.md) #2 for detailed error solutions\n\n---\n\n## Critical Limitation: No External Libraries\n\n**MOST IMPORTANT PYTHON LIMITATION**: Cannot import external packages\n\n### What's NOT Available\n\n```python\n# ❌ NOT AVAILABLE - Will raise ModuleNotFoundError\nimport requests  # ❌ No\nimport pandas  # ❌ No\nimport numpy  # ❌ No\nimport scipy  # ❌ No\nfrom bs4 import BeautifulSoup  # ❌ No\nimport lxml  # ❌ No\n```\n\n### What IS Available (Standard Library)\n\n```python\n# ✅ AVAILABLE - Standard library only\nimport json  # ✅ JSON parsing\nimport datetime  # ✅ Date/time operations\nimport re  # ✅ Regular expressions\nimport base64  # ✅ Base64 encoding/decoding\nimport hashlib  # ✅ Hashing functions\nimport urllib.parse  # ✅ URL parsing\nimport math  # ✅ Math functions\nimport random  # ✅ Random numbers\nimport statistics  # ✅ Statistical functions\n```\n\n### Workarounds\n\n**Need HTTP requests?**\n- ✅ Use **HTTP Request node** before Code node\n- ✅ Or switch to **JavaScript** and use `$helpers.httpRequest()`\n\n**Need data analysis (pandas/numpy)?**\n- ✅ Use Python **statistics** module for basic stats\n- ✅ Or switch to **JavaScript** for most operations\n- ✅ Manual calculations with lists and dictionaries\n\n**Need web scraping (BeautifulSoup)?**\n- ✅ Use **HTTP Request node** + **HTML Extract node**\n- ✅ Or switch to **JavaScript** with regex/string methods\n\n**See**: [STANDARD_LIBRARY.md](STANDARD_LIBRARY.md) for complete reference\n\n---\n\n## Common Patterns Overview\n\nBased on production workflows, here are the most useful Python patterns:\n\n### 1. Data Transformation\nTransform all items with list comprehensions\n\n```python\nitems = _input.all()\n\nreturn [\n    {\n        \"json\": {\n            \"id\": item[\"json\"].get(\"id\"),\n            \"name\": item[\"json\"].get(\"name\", \"Unknown\").upper(),\n            \"processed\": True\n        }\n    }\n    for item in items\n]\n```\n\n### 2. Filtering & Aggregation\nSum, filter, count with built-in functions\n\n```python\nitems = _input.all()\ntotal = sum(item[\"json\"].get(\"amount\", 0) for item in items)\nvalid_items = [item for item in items if item[\"json\"].get(\"amount\", 0) > 0]\n\nreturn [{\n    \"json\": {\n        \"total\": total,\n        \"count\": len(valid_items)\n    }\n}]\n```\n\n### 3. String Processing with Regex\nExtract patterns from text\n\n```python\nimport re\n\nitems = _input.all()\nemail_pattern = r'\\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Z|a-z]{2,}\\b'\n\nall_emails = []\nfor item in items:\n    text = item[\"json\"].get(\"text\", \"\")\n    emails = re.findall(email_pattern, text)\n    all_emails.extend(emails)\n\n# Remove duplicates\nunique_emails = list(set(all_emails))\n\nreturn [{\n    \"json\": {\n        \"emails\": unique_emails,\n        \"count\": len(unique_emails)\n    }\n}]\n```\n\n### 4. Data Validation\nValidate and clean data\n\n```python\nitems = _input.all()\nvalidated = []\n\nfor item in items:\n    data = item[\"json\"]\n    errors = []\n\n    # Validate fields\n    if not data.get(\"email\"):\n        errors.append(\"Email required\")\n    if not data.get(\"name\"):\n        errors.append(\"Name required\")\n\n    validated.append({\n        \"json\": {\n            **data,\n            \"valid\": len(errors) == 0,\n            \"errors\": errors if errors else None\n        }\n    })\n\nreturn validated\n```\n\n### 5. Statistical Analysis\nCalculate statistics with statistics module\n\n```python\nfrom statistics import mean, median, stdev\n\nitems = _input.all()\nvalues = [item[\"json\"].get(\"value\", 0) for item in items if \"value\" in item[\"json\"]]\n\nif values:\n    return [{\n        \"json\": {\n            \"mean\": mean(values),\n            \"median\": median(values),\n            \"stdev\": stdev(values) if len(values) > 1 else 0,\n            \"min\": min(values),\n            \"max\": max(values),\n            \"count\": len(values)\n        }\n    }]\nelse:\n    return [{\"json\": {\"error\": \"No values found\"}}]\n```\n\n**See**: [COMMON_PATTERNS.md](COMMON_PATTERNS.md) for 10 detailed Python patterns\n\n---\n\n## Error Prevention - Top 5 Mistakes\n\n### #1: Importing External Libraries (Python-Specific!)\n\n```python\n# ❌ WRONG: Trying to import external library\nimport requests  # ModuleNotFoundError!\n\n# ✅ CORRECT: Use HTTP Request node or JavaScript\n# Add HTTP Request node before Code node\n# OR switch to JavaScript and use $helpers.httpRequest()\n```\n\n### #2: Empty Code or Missing Return\n\n```python\n# ❌ WRONG: No return statement\nitems = _input.all()\n# Processing...\n# Forgot to return!\n\n# ✅ CORRECT: Always return data\nitems = _input.all()\n# Processing...\nreturn [{\"json\": item[\"json\"]} for item in items]\n```\n\n### #3: Incorrect Return Format\n\n```python\n# ❌ WRONG: Returning dict instead of list\nreturn {\"json\": {\"result\": \"success\"}}\n\n# ✅ CORRECT: List wrapper required\nreturn [{\"json\": {\"result\": \"success\"}}]\n```\n\n### #4: KeyError on Dictionary Access\n\n```python\n# ❌ WRONG: Direct access crashes if missing\nname = _json[\"user\"][\"name\"]  # KeyError!\n\n# ✅ CORRECT: Use .get() for safe access\nname = _json.get(\"user\", {}).get(\"name\", \"Unknown\")\n```\n\n### #5: Webhook Body Nesting\n\n```python\n# ❌ WRONG: Direct access to webhook data\nemail = _json[\"email\"]  # KeyError!\n\n# ✅ CORRECT: Webhook data under [\"body\"]\nemail = _json[\"body\"][\"email\"]\n\n# ✅ BETTER: Safe access with .get()\nemail = _json.get(\"body\", {}).get(\"email\", \"no-email\")\n```\n\n**See**: [ERROR_PATTERNS.md](ERROR_PATTERNS.md) for comprehensive error guide\n\n---\n\n## Standard Library Reference\n\n### Most Useful Modules\n\n```python\n# JSON operations\nimport json\ndata = json.loads(json_string)\njson_output = json.dumps({\"key\": \"value\"})\n\n# Date/time\nfrom datetime import datetime, timedelta\nnow = datetime.now()\ntomorrow = now + timedelta(days=1)\nformatted = now.strftime(\"%Y-%m-%d\")\n\n# Regular expressions\nimport re\nmatches = re.findall(r'\\d+', text)\ncleaned = re.sub(r'[^\\w\\s]', '', text)\n\n# Base64 encoding\nimport base64\nencoded = base64.b64encode(data).decode()\ndecoded = base64.b64decode(encoded)\n\n# Hashing\nimport hashlib\nhash_value = hashlib.sha256(text.encode()).hexdigest()\n\n# URL parsing\nimport urllib.parse\nparams = urllib.parse.urlencode({\"key\": \"value\"})\nparsed = urllib.parse.urlparse(url)\n\n# Statistics\nfrom statistics import mean, median, stdev\naverage = mean([1, 2, 3, 4, 5])\n```\n\n**See**: [STANDARD_LIBRARY.md](STANDARD_LIBRARY.md) for complete reference\n\n---\n\n## Best Practices\n\n### 1. Always Use .get() for Dictionary Access\n\n```python\n# ✅ SAFE: Won't crash if field missing\nvalue = item[\"json\"].get(\"field\", \"default\")\n\n# ❌ RISKY: Crashes if field doesn't exist\nvalue = item[\"json\"][\"field\"]\n```\n\n### 2. Handle None/Null Values Explicitly\n\n```python\n# ✅ GOOD: Default to 0 if None\namount = item[\"json\"].get(\"amount\") or 0\n\n# ✅ GOOD: Check for None explicitly\ntext = item[\"json\"].get(\"text\")\nif text is None:\n    text = \"\"\n```\n\n### 3. Use List Comprehensions for Filtering\n\n```python\n# ✅ PYTHONIC: List comprehension\nvalid = [item for item in items if item[\"json\"].get(\"active\")]\n\n# ❌ VERBOSE: Manual loop\nvalid = []\nfor item in items:\n    if item[\"json\"].get(\"active\"):\n        valid.append(item)\n```\n\n### 4. Return Consistent Structure\n\n```python\n# ✅ CONSISTENT: Always list with \"json\" key\nreturn [{\"json\": result}]  # Single result\nreturn results  # Multiple results (already formatted)\nreturn []  # No results\n```\n\n### 5. Debug with print() Statements\n\n```python\n# Debug statements appear in browser console (F12)\nitems = _input.all()\nprint(f\"Processing {len(items)} items\")\nprint(f\"First item: {items[0] if items else 'None'}\")\n```\n\n---\n\n## When to Use Python vs JavaScript\n\n### Use Python When:\n- ✅ You need `statistics` module for statistical operations\n- ✅ You're significantly more comfortable with Python syntax\n- ✅ Your logic maps well to list comprehensions\n- ✅ You need specific standard library functions\n\n### Use JavaScript When:\n- ✅ You need HTTP requests ($helpers.httpRequest())\n- ✅ You need advanced date/time (DateTime/Luxon)\n- ✅ You want better n8n integration\n- ✅ **For 95% of use cases** (recommended)\n\n### Consider Other Nodes When:\n- ❌ Simple field mapping → Use **Set** node\n- ❌ Basic filtering → Use **Filter** node\n- ❌ Simple conditionals → Use **IF** or **Switch** node\n- ❌ HTTP requests only → Use **HTTP Request** node\n\n---\n\n## Integration with Other Skills\n\n### Works With:\n\n**n8n Expression Syntax**:\n- Expressions use `{{ }}` syntax in other nodes\n- Code nodes use Python directly (no `{{ }}`)\n- When to use expressions vs code\n\n**n8n MCP Tools Expert**:\n- How to find Code node: `search_nodes({query: \"code\"})`\n- Get configuration help: `get_node_essentials(\"nodes-base.code\")`\n- Validate code: `validate_node_operation()`\n\n**n8n Node Configuration**:\n- Mode selection (All Items vs Each Item)\n- Language selection (Python vs JavaScript)\n- Understanding property dependencies\n\n**n8n Workflow Patterns**:\n- Code nodes in transformation step\n- When to use Python vs JavaScript in patterns\n\n**n8n Validation Expert**:\n- Validate Code node configuration\n- Handle validation errors\n- Auto-fix common issues\n\n**n8n Code JavaScript**:\n- When to use JavaScript instead\n- Comparison of JavaScript vs Python features\n- Migration from Python to JavaScript\n\n---\n\n## Quick Reference Checklist\n\nBefore deploying Python Code nodes, verify:\n\n- [ ] **Considered JavaScript first** - Using Python only when necessary\n- [ ] **Code is not empty** - Must have meaningful logic\n- [ ] **Return statement exists** - Must return list of dictionaries\n- [ ] **Proper return format** - Each item: `{\"json\": {...}}`\n- [ ] **Data access correct** - Using `_input.all()`, `_input.first()`, or `_input.item`\n- [ ] **No external imports** - Only standard library (json, datetime, re, etc.)\n- [ ] **Safe dictionary access** - Using `.get()` to avoid KeyError\n- [ ] **Webhook data** - Access via `[\"body\"]` if from webhook\n- [ ] **Mode selection** - \"All Items\" for most cases\n- [ ] **Output consistent** - All code paths return same structure\n\n---\n\n## Additional Resources\n\n### Related Files\n- [DATA_ACCESS.md](DATA_ACCESS.md) - Comprehensive Python data access patterns\n- [COMMON_PATTERNS.md](COMMON_PATTERNS.md) - 10 Python patterns for n8n\n- [ERROR_PATTERNS.md](ERROR_PATTERNS.md) - Top 5 errors and solutions\n- [STANDARD_LIBRARY.md](STANDARD_LIBRARY.md) - Complete standard library reference\n\n### n8n Documentation\n- Code Node Guide: https://docs.n8n.io/code/code-node/\n- Python in n8n: https://docs.n8n.io/code/builtin/python-modules/\n\n---\n\n**Ready to write Python in n8n Code nodes - but consider JavaScript first!** Use Python for specific needs, reference the error patterns guide to avoid common mistakes, and leverage the standard library effectively."
              },
              {
                "name": "n8n-expression-syntax",
                "description": "Validate n8n expression syntax and fix common errors. Use when writing n8n expressions, using {{}} syntax, accessing $json/$node variables, troubleshooting expression errors, or working with webhook data in workflows.",
                "path": "skills/n8n-expression-syntax/SKILL.md",
                "frontmatter": {
                  "name": "n8n-expression-syntax",
                  "description": "Validate n8n expression syntax and fix common errors. Use when writing n8n expressions, using {{}} syntax, accessing $json/$node variables, troubleshooting expression errors, or working with webhook data in workflows."
                },
                "content": "# n8n Expression Syntax\n\nExpert guide for writing correct n8n expressions in workflows.\n\n---\n\n## Expression Format\n\nAll dynamic content in n8n uses **double curly braces**:\n\n```\n{{expression}}\n```\n\n**Examples**:\n```\n✅ {{$json.email}}\n✅ {{$json.body.name}}\n✅ {{$node[\"HTTP Request\"].json.data}}\n❌ $json.email  (no braces - treated as literal text)\n❌ {$json.email}  (single braces - invalid)\n```\n\n---\n\n## Core Variables\n\n### $json - Current Node Output\n\nAccess data from the current node:\n\n```javascript\n{{$json.fieldName}}\n{{$json['field with spaces']}}\n{{$json.nested.property}}\n{{$json.items[0].name}}\n```\n\n### $node - Reference Other Nodes\n\nAccess data from any previous node:\n\n```javascript\n{{$node[\"Node Name\"].json.fieldName}}\n{{$node[\"HTTP Request\"].json.data}}\n{{$node[\"Webhook\"].json.body.email}}\n```\n\n**Important**:\n- Node names **must** be in quotes\n- Node names are **case-sensitive**\n- Must match exact node name from workflow\n\n### $now - Current Timestamp\n\nAccess current date/time:\n\n```javascript\n{{$now}}\n{{$now.toFormat('yyyy-MM-dd')}}\n{{$now.toFormat('HH:mm:ss')}}\n{{$now.plus({days: 7})}}\n```\n\n### $env - Environment Variables\n\nAccess environment variables:\n\n```javascript\n{{$env.API_KEY}}\n{{$env.DATABASE_URL}}\n```\n\n---\n\n## 🚨 CRITICAL: Webhook Data Structure\n\n**Most Common Mistake**: Webhook data is **NOT** at the root!\n\n### Webhook Node Output Structure\n\n```javascript\n{\n  \"headers\": {...},\n  \"params\": {...},\n  \"query\": {...},\n  \"body\": {           // ⚠️ USER DATA IS HERE!\n    \"name\": \"John\",\n    \"email\": \"john@example.com\",\n    \"message\": \"Hello\"\n  }\n}\n```\n\n### Correct Webhook Data Access\n\n```javascript\n❌ WRONG: {{$json.name}}\n❌ WRONG: {{$json.email}}\n\n✅ CORRECT: {{$json.body.name}}\n✅ CORRECT: {{$json.body.email}}\n✅ CORRECT: {{$json.body.message}}\n```\n\n**Why**: Webhook node wraps incoming data under `.body` property to preserve headers, params, and query parameters.\n\n---\n\n## Common Patterns\n\n### Access Nested Fields\n\n```javascript\n// Simple nesting\n{{$json.user.email}}\n\n// Array access\n{{$json.data[0].name}}\n{{$json.items[0].id}}\n\n// Bracket notation for spaces\n{{$json['field name']}}\n{{$json['user data']['first name']}}\n```\n\n### Reference Other Nodes\n\n```javascript\n// Node without spaces\n{{$node[\"Set\"].json.value}}\n\n// Node with spaces (common!)\n{{$node[\"HTTP Request\"].json.data}}\n{{$node[\"Respond to Webhook\"].json.message}}\n\n// Webhook node\n{{$node[\"Webhook\"].json.body.email}}\n```\n\n### Combine Variables\n\n```javascript\n// Concatenation (automatic)\nHello {{$json.body.name}}!\n\n// In URLs\nhttps://api.example.com/users/{{$json.body.user_id}}\n\n// In object properties\n{\n  \"name\": \"={{$json.body.name}}\",\n  \"email\": \"={{$json.body.email}}\"\n}\n```\n\n---\n\n## When NOT to Use Expressions\n\n### ❌ Code Nodes\n\nCode nodes use **direct JavaScript access**, NOT expressions!\n\n```javascript\n// ❌ WRONG in Code node\nconst email = '={{$json.email}}';\nconst name = '{{$json.body.name}}';\n\n// ✅ CORRECT in Code node\nconst email = $json.email;\nconst name = $json.body.name;\n\n// Or using Code node API\nconst email = $input.item.json.email;\nconst allItems = $input.all();\n```\n\n### ❌ Webhook Paths\n\n```javascript\n// ❌ WRONG\npath: \"{{$json.user_id}}/webhook\"\n\n// ✅ CORRECT\npath: \"user-webhook\"  // Static paths only\n```\n\n### ❌ Credential Fields\n\n```javascript\n// ❌ WRONG\napiKey: \"={{$env.API_KEY}}\"\n\n// ✅ CORRECT\nUse n8n credential system, not expressions\n```\n\n---\n\n## Validation Rules\n\n### 1. Always Use {{}}\n\nExpressions **must** be wrapped in double curly braces.\n\n```javascript\n❌ $json.field\n✅ {{$json.field}}\n```\n\n### 2. Use Quotes for Spaces\n\nField or node names with spaces require **bracket notation**:\n\n```javascript\n❌ {{$json.field name}}\n✅ {{$json['field name']}}\n\n❌ {{$node.HTTP Request.json}}\n✅ {{$node[\"HTTP Request\"].json}}\n```\n\n### 3. Match Exact Node Names\n\nNode references are **case-sensitive**:\n\n```javascript\n❌ {{$node[\"http request\"].json}}  // lowercase\n❌ {{$node[\"Http Request\"].json}}  // wrong case\n✅ {{$node[\"HTTP Request\"].json}}  // exact match\n```\n\n### 4. No Nested {{}}\n\nDon't double-wrap expressions:\n\n```javascript\n❌ {{{$json.field}}}\n✅ {{$json.field}}\n```\n\n---\n\n## Common Mistakes\n\nFor complete error catalog with fixes, see [COMMON_MISTAKES.md](COMMON_MISTAKES.md)\n\n### Quick Fixes\n\n| Mistake | Fix |\n|---------|-----|\n| `$json.field` | `{{$json.field}}` |\n| `{{$json.field name}}` | `{{$json['field name']}}` |\n| `{{$node.HTTP Request}}` | `{{$node[\"HTTP Request\"]}}` |\n| `{{{$json.field}}}` | `{{$json.field}}` |\n| `{{$json.name}}` (webhook) | `{{$json.body.name}}` |\n| `'={{$json.email}}'` (Code node) | `$json.email` |\n\n---\n\n## Working Examples\n\nFor real workflow examples, see [EXAMPLES.md](EXAMPLES.md)\n\n### Example 1: Webhook to Slack\n\n**Webhook receives**:\n```json\n{\n  \"body\": {\n    \"name\": \"John Doe\",\n    \"email\": \"john@example.com\",\n    \"message\": \"Hello!\"\n  }\n}\n```\n\n**In Slack node text field**:\n```\nNew form submission!\n\nName: {{$json.body.name}}\nEmail: {{$json.body.email}}\nMessage: {{$json.body.message}}\n```\n\n### Example 2: HTTP Request to Email\n\n**HTTP Request returns**:\n```json\n{\n  \"data\": {\n    \"items\": [\n      {\"name\": \"Product 1\", \"price\": 29.99}\n    ]\n  }\n}\n```\n\n**In Email node** (reference HTTP Request):\n```\nProduct: {{$node[\"HTTP Request\"].json.data.items[0].name}}\nPrice: ${{$node[\"HTTP Request\"].json.data.items[0].price}}\n```\n\n### Example 3: Format Timestamp\n\n```javascript\n// Current date\n{{$now.toFormat('yyyy-MM-dd')}}\n// Result: 2025-10-20\n\n// Time\n{{$now.toFormat('HH:mm:ss')}}\n// Result: 14:30:45\n\n// Full datetime\n{{$now.toFormat('yyyy-MM-dd HH:mm')}}\n// Result: 2025-10-20 14:30\n```\n\n---\n\n## Data Type Handling\n\n### Arrays\n\n```javascript\n// First item\n{{$json.users[0].email}}\n\n// Array length\n{{$json.users.length}}\n\n// Last item\n{{$json.users[$json.users.length - 1].name}}\n```\n\n### Objects\n\n```javascript\n// Dot notation (no spaces)\n{{$json.user.email}}\n\n// Bracket notation (with spaces or dynamic)\n{{$json['user data'].email}}\n```\n\n### Strings\n\n```javascript\n// Concatenation (automatic)\nHello {{$json.name}}!\n\n// String methods\n{{$json.email.toLowerCase()}}\n{{$json.name.toUpperCase()}}\n```\n\n### Numbers\n\n```javascript\n// Direct use\n{{$json.price}}\n\n// Math operations\n{{$json.price * 1.1}}  // Add 10%\n{{$json.quantity + 5}}\n```\n\n---\n\n## Advanced Patterns\n\n### Conditional Content\n\n```javascript\n// Ternary operator\n{{$json.status === 'active' ? 'Active User' : 'Inactive User'}}\n\n// Default values\n{{$json.email || 'no-email@example.com'}}\n```\n\n### Date Manipulation\n\n```javascript\n// Add days\n{{$now.plus({days: 7}).toFormat('yyyy-MM-dd')}}\n\n// Subtract hours\n{{$now.minus({hours: 24}).toISO()}}\n\n// Set specific date\n{{DateTime.fromISO('2025-12-25').toFormat('MMMM dd, yyyy')}}\n```\n\n### String Manipulation\n\n```javascript\n// Substring\n{{$json.email.substring(0, 5)}}\n\n// Replace\n{{$json.message.replace('old', 'new')}}\n\n// Split and join\n{{$json.tags.split(',').join(', ')}}\n```\n\n---\n\n## Debugging Expressions\n\n### Test in Expression Editor\n\n1. Click field with expression\n2. Open expression editor (click \"fx\" icon)\n3. See live preview of result\n4. Check for errors highlighted in red\n\n### Common Error Messages\n\n**\"Cannot read property 'X' of undefined\"**\n→ Parent object doesn't exist\n→ Check your data path\n\n**\"X is not a function\"**\n→ Trying to call method on non-function\n→ Check variable type\n\n**Expression shows as literal text**\n→ Missing {{ }}\n→ Add curly braces\n\n---\n\n## Expression Helpers\n\n### Available Methods\n\n**String**:\n- `.toLowerCase()`, `.toUpperCase()`\n- `.trim()`, `.replace()`, `.substring()`\n- `.split()`, `.includes()`\n\n**Array**:\n- `.length`, `.map()`, `.filter()`\n- `.find()`, `.join()`, `.slice()`\n\n**DateTime** (Luxon):\n- `.toFormat()`, `.toISO()`, `.toLocal()`\n- `.plus()`, `.minus()`, `.set()`\n\n**Number**:\n- `.toFixed()`, `.toString()`\n- Math operations: `+`, `-`, `*`, `/`, `%`\n\n---\n\n## Best Practices\n\n### ✅ Do\n\n- Always use {{ }} for dynamic content\n- Use bracket notation for field names with spaces\n- Reference webhook data from `.body`\n- Use $node for data from other nodes\n- Test expressions in expression editor\n\n### ❌ Don't\n\n- Don't use expressions in Code nodes\n- Don't forget quotes around node names with spaces\n- Don't double-wrap with extra {{ }}\n- Don't assume webhook data is at root (it's under .body!)\n- Don't use expressions in webhook paths or credentials\n\n---\n\n## Related Skills\n\n- **n8n MCP Tools Expert**: Learn how to validate expressions using MCP tools\n- **n8n Workflow Patterns**: See expressions in real workflow examples\n- **n8n Node Configuration**: Understand when expressions are needed\n\n---\n\n## Summary\n\n**Essential Rules**:\n1. Wrap expressions in {{ }}\n2. Webhook data is under `.body`\n3. No {{ }} in Code nodes\n4. Quote node names with spaces\n5. Node names are case-sensitive\n\n**Most Common Mistakes**:\n- Missing {{ }} → Add braces\n- `{{$json.name}}` in webhooks → Use `{{$json.body.name}}`\n- `{{$json.email}}` in Code → Use `$json.email`\n- `{{$node.HTTP Request}}` → Use `{{$node[\"HTTP Request\"]}}`\n\nFor more details, see:\n- [COMMON_MISTAKES.md](COMMON_MISTAKES.md) - Complete error catalog\n- [EXAMPLES.md](EXAMPLES.md) - Real workflow examples\n\n---\n\n**Need Help?** Reference the n8n expression documentation or use n8n-mcp validation tools to check your expressions."
              },
              {
                "name": "n8n-mcp-tools-expert",
                "description": "Expert guide for using n8n-mcp MCP tools effectively. Use when searching for nodes, validating configurations, accessing templates, managing workflows, or using any n8n-mcp tool. Provides tool selection guidance, parameter formats, and common patterns.",
                "path": "skills/n8n-mcp-tools-expert/SKILL.md",
                "frontmatter": {
                  "name": "n8n-mcp-tools-expert",
                  "description": "Expert guide for using n8n-mcp MCP tools effectively. Use when searching for nodes, validating configurations, accessing templates, managing workflows, or using any n8n-mcp tool. Provides tool selection guidance, parameter formats, and common patterns."
                },
                "content": "# n8n MCP Tools Expert\n\nMaster guide for using n8n-mcp MCP server tools to build workflows.\n\n---\n\n## Tool Categories\n\nn8n-mcp provides tools organized into categories:\n\n1. **Node Discovery** → [SEARCH_GUIDE.md](SEARCH_GUIDE.md)\n2. **Configuration Validation** → [VALIDATION_GUIDE.md](VALIDATION_GUIDE.md)\n3. **Workflow Management** → [WORKFLOW_GUIDE.md](WORKFLOW_GUIDE.md)\n4. **Template Library** - Search and deploy 2,700+ real workflows\n5. **Documentation & Guides** - Tool docs, AI agent guide, Code node guides\n\n---\n\n## Quick Reference\n\n### Most Used Tools (by success rate)\n\n| Tool | Use When | Speed |\n|------|----------|-------|\n| `search_nodes` | Finding nodes by keyword | <20ms |\n| `get_node` | Understanding node operations (detail=\"standard\") | <10ms |\n| `validate_node` | Checking configurations (mode=\"full\") | <100ms |\n| `n8n_create_workflow` | Creating workflows | 100-500ms |\n| `n8n_update_partial_workflow` | Editing workflows (MOST USED!) | 50-200ms |\n| `validate_workflow` | Checking complete workflow | 100-500ms |\n| `n8n_deploy_template` | Deploy template to n8n instance | 200-500ms |\n\n---\n\n## Tool Selection Guide\n\n### Finding the Right Node\n\n**Workflow**:\n```\n1. search_nodes({query: \"keyword\"})\n2. get_node({nodeType: \"nodes-base.name\"})\n3. [Optional] get_node({nodeType: \"nodes-base.name\", mode: \"docs\"})\n```\n\n**Example**:\n```javascript\n// Step 1: Search\nsearch_nodes({query: \"slack\"})\n// Returns: nodes-base.slack\n\n// Step 2: Get details\nget_node({nodeType: \"nodes-base.slack\"})\n// Returns: operations, properties, examples (standard detail)\n\n// Step 3: Get readable documentation\nget_node({nodeType: \"nodes-base.slack\", mode: \"docs\"})\n// Returns: markdown documentation\n```\n\n**Common pattern**: search → get_node (18s average)\n\n### Validating Configuration\n\n**Workflow**:\n```\n1. validate_node({nodeType, config: {}, mode: \"minimal\"}) - Check required fields\n2. validate_node({nodeType, config, profile: \"runtime\"}) - Full validation\n3. [Repeat] Fix errors, validate again\n```\n\n**Common pattern**: validate → fix → validate (23s thinking, 58s fixing per cycle)\n\n### Managing Workflows\n\n**Workflow**:\n```\n1. n8n_create_workflow({name, nodes, connections})\n2. n8n_validate_workflow({id})\n3. n8n_update_partial_workflow({id, operations: [...]})\n4. n8n_validate_workflow({id}) again\n5. n8n_update_partial_workflow({id, operations: [{type: \"activateWorkflow\"}]})\n```\n\n**Common pattern**: iterative updates (56s average between edits)\n\n---\n\n## Critical: nodeType Formats\n\n**Two different formats** for different tools!\n\n### Format 1: Search/Validate Tools\n```javascript\n// Use SHORT prefix\n\"nodes-base.slack\"\n\"nodes-base.httpRequest\"\n\"nodes-base.webhook\"\n\"nodes-langchain.agent\"\n```\n\n**Tools that use this**:\n- search_nodes (returns this format)\n- get_node\n- validate_node\n- validate_workflow\n\n### Format 2: Workflow Tools\n```javascript\n// Use FULL prefix\n\"n8n-nodes-base.slack\"\n\"n8n-nodes-base.httpRequest\"\n\"n8n-nodes-base.webhook\"\n\"@n8n/n8n-nodes-langchain.agent\"\n```\n\n**Tools that use this**:\n- n8n_create_workflow\n- n8n_update_partial_workflow\n\n### Conversion\n\n```javascript\n// search_nodes returns BOTH formats\n{\n  \"nodeType\": \"nodes-base.slack\",          // For search/validate tools\n  \"workflowNodeType\": \"n8n-nodes-base.slack\"  // For workflow tools\n}\n```\n\n---\n\n## Common Mistakes\n\n### Mistake 1: Wrong nodeType Format\n\n**Problem**: \"Node not found\" error\n\n```javascript\n// WRONG\nget_node({nodeType: \"slack\"})  // Missing prefix\nget_node({nodeType: \"n8n-nodes-base.slack\"})  // Wrong prefix\n\n// CORRECT\nget_node({nodeType: \"nodes-base.slack\"})\n```\n\n### Mistake 2: Using detail=\"full\" by Default\n\n**Problem**: Huge payload, slower response, token waste\n\n```javascript\n// WRONG - Returns 3-8K tokens, use sparingly\nget_node({nodeType: \"nodes-base.slack\", detail: \"full\"})\n\n// CORRECT - Returns 1-2K tokens, covers 95% of use cases\nget_node({nodeType: \"nodes-base.slack\"})  // detail=\"standard\" is default\nget_node({nodeType: \"nodes-base.slack\", detail: \"standard\"})\n```\n\n**When to use detail=\"full\"**:\n- Debugging complex configuration issues\n- Need complete property schema with all nested options\n- Exploring advanced features\n\n**Better alternatives**:\n1. `get_node({detail: \"standard\"})` - for operations list (default)\n2. `get_node({mode: \"docs\"})` - for readable documentation\n3. `get_node({mode: \"search_properties\", propertyQuery: \"auth\"})` - for specific property\n\n### Mistake 3: Not Using Validation Profiles\n\n**Problem**: Too many false positives OR missing real errors\n\n**Profiles**:\n- `minimal` - Only required fields (fast, permissive)\n- `runtime` - Values + types (recommended for pre-deployment)\n- `ai-friendly` - Reduce false positives (for AI configuration)\n- `strict` - Maximum validation (for production)\n\n```javascript\n// WRONG - Uses default profile\nvalidate_node({nodeType, config})\n\n// CORRECT - Explicit profile\nvalidate_node({nodeType, config, profile: \"runtime\"})\n```\n\n### Mistake 4: Ignoring Auto-Sanitization\n\n**What happens**: ALL nodes sanitized on ANY workflow update\n\n**Auto-fixes**:\n- Binary operators (equals, contains) → removes singleValue\n- Unary operators (isEmpty, isNotEmpty) → adds singleValue: true\n- IF/Switch nodes → adds missing metadata\n\n**Cannot fix**:\n- Broken connections\n- Branch count mismatches\n- Paradoxical corrupt states\n\n```javascript\n// After ANY update, auto-sanitization runs on ALL nodes\nn8n_update_partial_workflow({id, operations: [...]})\n// → Automatically fixes operator structures\n```\n\n### Mistake 5: Not Using Smart Parameters\n\n**Problem**: Complex sourceIndex calculations for multi-output nodes\n\n**Old way** (manual):\n```javascript\n// IF node connection\n{\n  type: \"addConnection\",\n  source: \"IF\",\n  target: \"Handler\",\n  sourceIndex: 0  // Which output? Hard to remember!\n}\n```\n\n**New way** (smart parameters):\n```javascript\n// IF node - semantic branch names\n{\n  type: \"addConnection\",\n  source: \"IF\",\n  target: \"True Handler\",\n  branch: \"true\"  // Clear and readable!\n}\n\n{\n  type: \"addConnection\",\n  source: \"IF\",\n  target: \"False Handler\",\n  branch: \"false\"\n}\n\n// Switch node - semantic case numbers\n{\n  type: \"addConnection\",\n  source: \"Switch\",\n  target: \"Handler A\",\n  case: 0\n}\n```\n\n### Mistake 6: Not Using intent Parameter\n\n**Problem**: Less helpful tool responses\n\n```javascript\n// WRONG - No context for response\nn8n_update_partial_workflow({\n  id: \"abc\",\n  operations: [{type: \"addNode\", node: {...}}]\n})\n\n// CORRECT - Better AI responses\nn8n_update_partial_workflow({\n  id: \"abc\",\n  intent: \"Add error handling for API failures\",\n  operations: [{type: \"addNode\", node: {...}}]\n})\n```\n\n---\n\n## Tool Usage Patterns\n\n### Pattern 1: Node Discovery (Most Common)\n\n**Common workflow**: 18s average between steps\n\n```javascript\n// Step 1: Search (fast!)\nconst results = await search_nodes({\n  query: \"slack\",\n  mode: \"OR\",  // Default: any word matches\n  limit: 20\n});\n// → Returns: nodes-base.slack, nodes-base.slackTrigger\n\n// Step 2: Get details (~18s later, user reviewing results)\nconst details = await get_node({\n  nodeType: \"nodes-base.slack\",\n  includeExamples: true  // Get real template configs\n});\n// → Returns: operations, properties, metadata\n```\n\n### Pattern 2: Validation Loop\n\n**Typical cycle**: 23s thinking, 58s fixing\n\n```javascript\n// Step 1: Validate\nconst result = await validate_node({\n  nodeType: \"nodes-base.slack\",\n  config: {\n    resource: \"channel\",\n    operation: \"create\"\n  },\n  profile: \"runtime\"\n});\n\n// Step 2: Check errors (~23s thinking)\nif (!result.valid) {\n  console.log(result.errors);  // \"Missing required field: name\"\n}\n\n// Step 3: Fix config (~58s fixing)\nconfig.name = \"general\";\n\n// Step 4: Validate again\nawait validate_node({...});  // Repeat until clean\n```\n\n### Pattern 3: Workflow Editing\n\n**Most used update tool**: 99.0% success rate, 56s average between edits\n\n```javascript\n// Iterative workflow building (NOT one-shot!)\n// Edit 1\nawait n8n_update_partial_workflow({\n  id: \"workflow-id\",\n  intent: \"Add webhook trigger\",\n  operations: [{type: \"addNode\", node: {...}}]\n});\n\n// ~56s later...\n\n// Edit 2\nawait n8n_update_partial_workflow({\n  id: \"workflow-id\",\n  intent: \"Connect webhook to processor\",\n  operations: [{type: \"addConnection\", source: \"...\", target: \"...\"}]\n});\n\n// ~56s later...\n\n// Edit 3 (validation)\nawait n8n_validate_workflow({id: \"workflow-id\"});\n\n// Ready? Activate!\nawait n8n_update_partial_workflow({\n  id: \"workflow-id\",\n  intent: \"Activate workflow for production\",\n  operations: [{type: \"activateWorkflow\"}]\n});\n```\n\n---\n\n## Detailed Guides\n\n### Node Discovery Tools\nSee [SEARCH_GUIDE.md](SEARCH_GUIDE.md) for:\n- search_nodes\n- get_node with detail levels (minimal, standard, full)\n- get_node modes (info, docs, search_properties, versions)\n\n### Validation Tools\nSee [VALIDATION_GUIDE.md](VALIDATION_GUIDE.md) for:\n- Validation profiles explained\n- validate_node with modes (minimal, full)\n- validate_workflow complete structure\n- Auto-sanitization system\n- Handling validation errors\n\n### Workflow Management\nSee [WORKFLOW_GUIDE.md](WORKFLOW_GUIDE.md) for:\n- n8n_create_workflow\n- n8n_update_partial_workflow (17 operation types!)\n- Smart parameters (branch, case)\n- AI connection types (8 types)\n- Workflow activation (activateWorkflow/deactivateWorkflow)\n- n8n_deploy_template\n- n8n_workflow_versions\n\n---\n\n## Template Usage\n\n### Search Templates\n\n```javascript\n// Search by keyword (default mode)\nsearch_templates({\n  query: \"webhook slack\",\n  limit: 20\n});\n\n// Search by node types\nsearch_templates({\n  searchMode: \"by_nodes\",\n  nodeTypes: [\"n8n-nodes-base.httpRequest\", \"n8n-nodes-base.slack\"]\n});\n\n// Search by task type\nsearch_templates({\n  searchMode: \"by_task\",\n  task: \"webhook_processing\"\n});\n\n// Search by metadata (complexity, setup time)\nsearch_templates({\n  searchMode: \"by_metadata\",\n  complexity: \"simple\",\n  maxSetupMinutes: 15\n});\n```\n\n### Get Template Details\n\n```javascript\nget_template({\n  templateId: 2947,\n  mode: \"structure\"  // nodes+connections only\n});\n\nget_template({\n  templateId: 2947,\n  mode: \"full\"  // complete workflow JSON\n});\n```\n\n### Deploy Template Directly\n\n```javascript\n// Deploy template to your n8n instance\nn8n_deploy_template({\n  templateId: 2947,\n  name: \"My Weather to Slack\",  // Custom name (optional)\n  autoFix: true,  // Auto-fix common issues (default)\n  autoUpgradeVersions: true  // Upgrade node versions (default)\n});\n// Returns: workflow ID, required credentials, fixes applied\n```\n\n---\n\n## Self-Help Tools\n\n### Get Tool Documentation\n\n```javascript\n// Overview of all tools\ntools_documentation()\n\n// Specific tool details\ntools_documentation({\n  topic: \"search_nodes\",\n  depth: \"full\"\n})\n\n// Code node guides\ntools_documentation({topic: \"javascript_code_node_guide\", depth: \"full\"})\ntools_documentation({topic: \"python_code_node_guide\", depth: \"full\"})\n```\n\n### AI Agent Guide\n\n```javascript\n// Comprehensive AI workflow guide\nai_agents_guide()\n// Returns: Architecture, connections, tools, validation, best practices\n```\n\n### Health Check\n\n```javascript\n// Quick health check\nn8n_health_check()\n\n// Detailed diagnostics\nn8n_health_check({mode: \"diagnostic\"})\n// → Returns: status, env vars, tool status, API connectivity\n```\n\n---\n\n## Tool Availability\n\n**Always Available** (no n8n API needed):\n- search_nodes, get_node\n- validate_node, validate_workflow\n- search_templates, get_template\n- tools_documentation, ai_agents_guide\n\n**Requires n8n API** (N8N_API_URL + N8N_API_KEY):\n- n8n_create_workflow\n- n8n_update_partial_workflow\n- n8n_validate_workflow (by ID)\n- n8n_list_workflows, n8n_get_workflow\n- n8n_test_workflow\n- n8n_executions\n- n8n_deploy_template\n- n8n_workflow_versions\n- n8n_autofix_workflow\n\nIf API tools unavailable, use templates and validation-only workflows.\n\n---\n\n## Unified Tool Reference\n\n### get_node (Unified Node Information)\n\n**Detail Levels** (mode=\"info\", default):\n- `minimal` (~200 tokens) - Basic metadata only\n- `standard` (~1-2K tokens) - Essential properties + operations (RECOMMENDED)\n- `full` (~3-8K tokens) - Complete schema (use sparingly)\n\n**Operation Modes**:\n- `info` (default) - Node schema with detail level\n- `docs` - Readable markdown documentation\n- `search_properties` - Find specific properties (use with propertyQuery)\n- `versions` - List all versions with breaking changes\n- `compare` - Compare two versions\n- `breaking` - Show only breaking changes\n- `migrations` - Show auto-migratable changes\n\n```javascript\n// Standard (recommended)\nget_node({nodeType: \"nodes-base.httpRequest\"})\n\n// Get documentation\nget_node({nodeType: \"nodes-base.webhook\", mode: \"docs\"})\n\n// Search for properties\nget_node({nodeType: \"nodes-base.httpRequest\", mode: \"search_properties\", propertyQuery: \"auth\"})\n\n// Check versions\nget_node({nodeType: \"nodes-base.executeWorkflow\", mode: \"versions\"})\n```\n\n### validate_node (Unified Validation)\n\n**Modes**:\n- `full` (default) - Comprehensive validation with errors/warnings/suggestions\n- `minimal` - Quick required fields check only\n\n**Profiles** (for mode=\"full\"):\n- `minimal` - Very lenient\n- `runtime` - Standard (default, recommended)\n- `ai-friendly` - Balanced for AI workflows\n- `strict` - Most thorough (production)\n\n```javascript\n// Full validation with runtime profile\nvalidate_node({nodeType: \"nodes-base.slack\", config: {...}, profile: \"runtime\"})\n\n// Quick required fields check\nvalidate_node({nodeType: \"nodes-base.webhook\", config: {}, mode: \"minimal\"})\n```\n\n---\n\n## Performance Characteristics\n\n| Tool | Response Time | Payload Size |\n|------|---------------|--------------|\n| search_nodes | <20ms | Small |\n| get_node (standard) | <10ms | ~1-2KB |\n| get_node (full) | <100ms | 3-8KB |\n| validate_node (minimal) | <50ms | Small |\n| validate_node (full) | <100ms | Medium |\n| validate_workflow | 100-500ms | Medium |\n| n8n_create_workflow | 100-500ms | Medium |\n| n8n_update_partial_workflow | 50-200ms | Small |\n| n8n_deploy_template | 200-500ms | Medium |\n\n---\n\n## Best Practices\n\n### Do\n- Use `get_node({detail: \"standard\"})` for most use cases\n- Specify validation profile explicitly (`profile: \"runtime\"`)\n- Use smart parameters (`branch`, `case`) for clarity\n- Include `intent` parameter in workflow updates\n- Follow search → get_node → validate workflow\n- Iterate workflows (avg 56s between edits)\n- Validate after every significant change\n- Use `includeExamples: true` for real configs\n- Use `n8n_deploy_template` for quick starts\n\n### Don't\n- Use `detail: \"full\"` unless necessary (wastes tokens)\n- Forget nodeType prefix (`nodes-base.*`)\n- Skip validation profiles\n- Try to build workflows in one shot (iterate!)\n- Ignore auto-sanitization behavior\n- Use full prefix (`n8n-nodes-base.*`) with search/validate tools\n- Forget to activate workflows after building\n\n---\n\n## Summary\n\n**Most Important**:\n1. Use **get_node** with `detail: \"standard\"` (default) - covers 95% of use cases\n2. nodeType formats differ: `nodes-base.*` (search/validate) vs `n8n-nodes-base.*` (workflows)\n3. Specify **validation profiles** (`runtime` recommended)\n4. Use **smart parameters** (`branch=\"true\"`, `case=0`)\n5. Include **intent parameter** in workflow updates\n6. **Auto-sanitization** runs on ALL nodes during updates\n7. Workflows can be **activated via API** (`activateWorkflow` operation)\n8. Workflows are built **iteratively** (56s avg between edits)\n\n**Common Workflow**:\n1. search_nodes → find node\n2. get_node → understand config\n3. validate_node → check config\n4. n8n_create_workflow → build\n5. n8n_validate_workflow → verify\n6. n8n_update_partial_workflow → iterate\n7. activateWorkflow → go live!\n\nFor details, see:\n- [SEARCH_GUIDE.md](SEARCH_GUIDE.md) - Node discovery\n- [VALIDATION_GUIDE.md](VALIDATION_GUIDE.md) - Configuration validation\n- [WORKFLOW_GUIDE.md](WORKFLOW_GUIDE.md) - Workflow management\n\n---\n\n**Related Skills**:\n- n8n Expression Syntax - Write expressions in workflow fields\n- n8n Workflow Patterns - Architectural patterns from templates\n- n8n Validation Expert - Interpret validation errors\n- n8n Node Configuration - Operation-specific requirements\n- n8n Code JavaScript - Write JavaScript in Code nodes\n- n8n Code Python - Write Python in Code nodes"
              },
              {
                "name": "n8n-node-configuration",
                "description": "Operation-aware node configuration guidance. Use when configuring nodes, understanding property dependencies, determining required fields, choosing between get_node detail levels, or learning common configuration patterns by node type.",
                "path": "skills/n8n-node-configuration/SKILL.md",
                "frontmatter": {
                  "name": "n8n-node-configuration",
                  "description": "Operation-aware node configuration guidance. Use when configuring nodes, understanding property dependencies, determining required fields, choosing between get_node detail levels, or learning common configuration patterns by node type."
                },
                "content": "# n8n Node Configuration\n\nExpert guidance for operation-aware node configuration with property dependencies.\n\n---\n\n## Configuration Philosophy\n\n**Progressive disclosure**: Start minimal, add complexity as needed\n\nConfiguration best practices:\n- `get_node` with `detail: \"standard\"` is the most used discovery pattern\n- 56 seconds average between configuration edits\n- Covers 95% of use cases with 1-2K tokens response\n\n**Key insight**: Most configurations need only standard detail, not full schema!\n\n---\n\n## Core Concepts\n\n### 1. Operation-Aware Configuration\n\n**Not all fields are always required** - it depends on operation!\n\n**Example**: Slack node\n```javascript\n// For operation='post'\n{\n  \"resource\": \"message\",\n  \"operation\": \"post\",\n  \"channel\": \"#general\",  // Required for post\n  \"text\": \"Hello!\"        // Required for post\n}\n\n// For operation='update'\n{\n  \"resource\": \"message\",\n  \"operation\": \"update\",\n  \"messageId\": \"123\",     // Required for update (different!)\n  \"text\": \"Updated!\"      // Required for update\n  // channel NOT required for update\n}\n```\n\n**Key**: Resource + operation determine which fields are required!\n\n### 2. Property Dependencies\n\n**Fields appear/disappear based on other field values**\n\n**Example**: HTTP Request node\n```javascript\n// When method='GET'\n{\n  \"method\": \"GET\",\n  \"url\": \"https://api.example.com\"\n  // sendBody not shown (GET doesn't have body)\n}\n\n// When method='POST'\n{\n  \"method\": \"POST\",\n  \"url\": \"https://api.example.com\",\n  \"sendBody\": true,       // Now visible!\n  \"body\": {               // Required when sendBody=true\n    \"contentType\": \"json\",\n    \"content\": {...}\n  }\n}\n```\n\n**Mechanism**: displayOptions control field visibility\n\n### 3. Progressive Discovery\n\n**Use the right detail level**:\n\n1. **get_node({detail: \"standard\"})** - DEFAULT\n   - Quick overview (~1-2K tokens)\n   - Required fields + common options\n   - **Use first** - covers 95% of needs\n\n2. **get_node({mode: \"search_properties\", propertyQuery: \"...\"})** (for finding specific fields)\n   - Find properties by name\n   - Use when looking for auth, body, headers, etc.\n\n3. **get_node({detail: \"full\"})** (complete schema)\n   - All properties (~3-8K tokens)\n   - Use only when standard detail is insufficient\n\n---\n\n## Configuration Workflow\n\n### Standard Process\n\n```\n1. Identify node type and operation\n   ↓\n2. Use get_node (standard detail is default)\n   ↓\n3. Configure required fields\n   ↓\n4. Validate configuration\n   ↓\n5. If field unclear → get_node({mode: \"search_properties\"})\n   ↓\n6. Add optional fields as needed\n   ↓\n7. Validate again\n   ↓\n8. Deploy\n```\n\n### Example: Configuring HTTP Request\n\n**Step 1**: Identify what you need\n```javascript\n// Goal: POST JSON to API\n```\n\n**Step 2**: Get node info\n```javascript\nconst info = get_node({\n  nodeType: \"nodes-base.httpRequest\"\n});\n\n// Returns: method, url, sendBody, body, authentication required/optional\n```\n\n**Step 3**: Minimal config\n```javascript\n{\n  \"method\": \"POST\",\n  \"url\": \"https://api.example.com/create\",\n  \"authentication\": \"none\"\n}\n```\n\n**Step 4**: Validate\n```javascript\nvalidate_node({\n  nodeType: \"nodes-base.httpRequest\",\n  config,\n  profile: \"runtime\"\n});\n// → Error: \"sendBody required for POST\"\n```\n\n**Step 5**: Add required field\n```javascript\n{\n  \"method\": \"POST\",\n  \"url\": \"https://api.example.com/create\",\n  \"authentication\": \"none\",\n  \"sendBody\": true\n}\n```\n\n**Step 6**: Validate again\n```javascript\nvalidate_node({...});\n// → Error: \"body required when sendBody=true\"\n```\n\n**Step 7**: Complete configuration\n```javascript\n{\n  \"method\": \"POST\",\n  \"url\": \"https://api.example.com/create\",\n  \"authentication\": \"none\",\n  \"sendBody\": true,\n  \"body\": {\n    \"contentType\": \"json\",\n    \"content\": {\n      \"name\": \"={{$json.name}}\",\n      \"email\": \"={{$json.email}}\"\n    }\n  }\n}\n```\n\n**Step 8**: Final validation\n```javascript\nvalidate_node({...});\n// → Valid! ✅\n```\n\n---\n\n## get_node Detail Levels\n\n### Standard Detail (DEFAULT - Use This!)\n\n**✅ Starting configuration**\n```javascript\nget_node({\n  nodeType: \"nodes-base.slack\"\n});\n// detail=\"standard\" is the default\n```\n\n**Returns** (~1-2K tokens):\n- Required fields\n- Common options\n- Operation list\n- Metadata\n\n**Use**: 95% of configuration needs\n\n### Full Detail (Use Sparingly)\n\n**✅ When standard isn't enough**\n```javascript\nget_node({\n  nodeType: \"nodes-base.slack\",\n  detail: \"full\"\n});\n```\n\n**Returns** (~3-8K tokens):\n- Complete schema\n- All properties\n- All nested options\n\n**Warning**: Large response, use only when standard insufficient\n\n### Search Properties Mode\n\n**✅ Looking for specific field**\n```javascript\nget_node({\n  nodeType: \"nodes-base.httpRequest\",\n  mode: \"search_properties\",\n  propertyQuery: \"auth\"\n});\n```\n\n**Use**: Find authentication, headers, body fields, etc.\n\n### Decision Tree\n\n```\n┌─────────────────────────────────┐\n│ Starting new node config?       │\n├─────────────────────────────────┤\n│ YES → get_node (standard)       │\n└─────────────────────────────────┘\n         ↓\n┌─────────────────────────────────┐\n│ Standard has what you need?     │\n├─────────────────────────────────┤\n│ YES → Configure with it         │\n│ NO  → Continue                  │\n└─────────────────────────────────┘\n         ↓\n┌─────────────────────────────────┐\n│ Looking for specific field?     │\n├─────────────────────────────────┤\n│ YES → search_properties mode    │\n│ NO  → Continue                  │\n└─────────────────────────────────┘\n         ↓\n┌─────────────────────────────────┐\n│ Still need more details?        │\n├─────────────────────────────────┤\n│ YES → get_node({detail: \"full\"})│\n└─────────────────────────────────┘\n```\n\n---\n\n## Property Dependencies Deep Dive\n\n### displayOptions Mechanism\n\n**Fields have visibility rules**:\n\n```javascript\n{\n  \"name\": \"body\",\n  \"displayOptions\": {\n    \"show\": {\n      \"sendBody\": [true],\n      \"method\": [\"POST\", \"PUT\", \"PATCH\"]\n    }\n  }\n}\n```\n\n**Translation**: \"body\" field shows when:\n- sendBody = true AND\n- method = POST, PUT, or PATCH\n\n### Common Dependency Patterns\n\n#### Pattern 1: Boolean Toggle\n\n**Example**: HTTP Request sendBody\n```javascript\n// sendBody controls body visibility\n{\n  \"sendBody\": true   // → body field appears\n}\n```\n\n#### Pattern 2: Operation Switch\n\n**Example**: Slack resource/operation\n```javascript\n// Different operations → different fields\n{\n  \"resource\": \"message\",\n  \"operation\": \"post\"\n  // → Shows: channel, text, attachments, etc.\n}\n\n{\n  \"resource\": \"message\",\n  \"operation\": \"update\"\n  // → Shows: messageId, text (different fields!)\n}\n```\n\n#### Pattern 3: Type Selection\n\n**Example**: IF node conditions\n```javascript\n{\n  \"type\": \"string\",\n  \"operation\": \"contains\"\n  // → Shows: value1, value2\n}\n\n{\n  \"type\": \"boolean\",\n  \"operation\": \"equals\"\n  // → Shows: value1, value2, different operators\n}\n```\n\n### Finding Property Dependencies\n\n**Use get_node with search_properties mode**:\n```javascript\nget_node({\n  nodeType: \"nodes-base.httpRequest\",\n  mode: \"search_properties\",\n  propertyQuery: \"body\"\n});\n\n// Returns property paths matching \"body\" with descriptions\n```\n\n**Or use full detail for complete schema**:\n```javascript\nget_node({\n  nodeType: \"nodes-base.httpRequest\",\n  detail: \"full\"\n});\n\n// Returns complete schema with displayOptions rules\n```\n\n**Use this when**: Validation fails and you don't understand why field is missing/required\n\n---\n\n## Common Node Patterns\n\n### Pattern 1: Resource/Operation Nodes\n\n**Examples**: Slack, Google Sheets, Airtable\n\n**Structure**:\n```javascript\n{\n  \"resource\": \"<entity>\",      // What type of thing\n  \"operation\": \"<action>\",     // What to do with it\n  // ... operation-specific fields\n}\n```\n\n**How to configure**:\n1. Choose resource\n2. Choose operation\n3. Use get_node to see operation-specific requirements\n4. Configure required fields\n\n### Pattern 2: HTTP-Based Nodes\n\n**Examples**: HTTP Request, Webhook\n\n**Structure**:\n```javascript\n{\n  \"method\": \"<HTTP_METHOD>\",\n  \"url\": \"<endpoint>\",\n  \"authentication\": \"<type>\",\n  // ... method-specific fields\n}\n```\n\n**Dependencies**:\n- POST/PUT/PATCH → sendBody available\n- sendBody=true → body required\n- authentication != \"none\" → credentials required\n\n### Pattern 3: Database Nodes\n\n**Examples**: Postgres, MySQL, MongoDB\n\n**Structure**:\n```javascript\n{\n  \"operation\": \"<query|insert|update|delete>\",\n  // ... operation-specific fields\n}\n```\n\n**Dependencies**:\n- operation=\"executeQuery\" → query required\n- operation=\"insert\" → table + values required\n- operation=\"update\" → table + values + where required\n\n### Pattern 4: Conditional Logic Nodes\n\n**Examples**: IF, Switch, Merge\n\n**Structure**:\n```javascript\n{\n  \"conditions\": {\n    \"<type>\": [\n      {\n        \"operation\": \"<operator>\",\n        \"value1\": \"...\",\n        \"value2\": \"...\"  // Only for binary operators\n      }\n    ]\n  }\n}\n```\n\n**Dependencies**:\n- Binary operators (equals, contains, etc.) → value1 + value2\n- Unary operators (isEmpty, isNotEmpty) → value1 only + singleValue: true\n\n---\n\n## Operation-Specific Configuration\n\n### Slack Node Examples\n\n#### Post Message\n```javascript\n{\n  \"resource\": \"message\",\n  \"operation\": \"post\",\n  \"channel\": \"#general\",      // Required\n  \"text\": \"Hello!\",           // Required\n  \"attachments\": [],          // Optional\n  \"blocks\": []                // Optional\n}\n```\n\n#### Update Message\n```javascript\n{\n  \"resource\": \"message\",\n  \"operation\": \"update\",\n  \"messageId\": \"1234567890\",  // Required (different from post!)\n  \"text\": \"Updated!\",         // Required\n  \"channel\": \"#general\"       // Optional (can be inferred)\n}\n```\n\n#### Create Channel\n```javascript\n{\n  \"resource\": \"channel\",\n  \"operation\": \"create\",\n  \"name\": \"new-channel\",      // Required\n  \"isPrivate\": false          // Optional\n  // Note: text NOT required for this operation\n}\n```\n\n### HTTP Request Node Examples\n\n#### GET Request\n```javascript\n{\n  \"method\": \"GET\",\n  \"url\": \"https://api.example.com/users\",\n  \"authentication\": \"predefinedCredentialType\",\n  \"nodeCredentialType\": \"httpHeaderAuth\",\n  \"sendQuery\": true,                    // Optional\n  \"queryParameters\": {                  // Shows when sendQuery=true\n    \"parameters\": [\n      {\n        \"name\": \"limit\",\n        \"value\": \"100\"\n      }\n    ]\n  }\n}\n```\n\n#### POST with JSON\n```javascript\n{\n  \"method\": \"POST\",\n  \"url\": \"https://api.example.com/users\",\n  \"authentication\": \"none\",\n  \"sendBody\": true,                     // Required for POST\n  \"body\": {                             // Required when sendBody=true\n    \"contentType\": \"json\",\n    \"content\": {\n      \"name\": \"John Doe\",\n      \"email\": \"john@example.com\"\n    }\n  }\n}\n```\n\n### IF Node Examples\n\n#### String Comparison (Binary)\n```javascript\n{\n  \"conditions\": {\n    \"string\": [\n      {\n        \"value1\": \"={{$json.status}}\",\n        \"operation\": \"equals\",\n        \"value2\": \"active\"              // Binary: needs value2\n      }\n    ]\n  }\n}\n```\n\n#### Empty Check (Unary)\n```javascript\n{\n  \"conditions\": {\n    \"string\": [\n      {\n        \"value1\": \"={{$json.email}}\",\n        \"operation\": \"isEmpty\",\n        // No value2 - unary operator\n        \"singleValue\": true             // Auto-added by sanitization\n      }\n    ]\n  }\n}\n```\n\n---\n\n## Handling Conditional Requirements\n\n### Example: HTTP Request Body\n\n**Scenario**: body field required, but only sometimes\n\n**Rule**:\n```\nbody is required when:\n  - sendBody = true AND\n  - method IN (POST, PUT, PATCH, DELETE)\n```\n\n**How to discover**:\n```javascript\n// Option 1: Read validation error\nvalidate_node({...});\n// Error: \"body required when sendBody=true\"\n\n// Option 2: Search for the property\nget_node({\n  nodeType: \"nodes-base.httpRequest\",\n  mode: \"search_properties\",\n  propertyQuery: \"body\"\n});\n// Shows: body property with displayOptions rules\n\n// Option 3: Try minimal config and iterate\n// Start without body, validation will tell you if needed\n```\n\n### Example: IF Node singleValue\n\n**Scenario**: singleValue property appears for unary operators\n\n**Rule**:\n```\nsingleValue should be true when:\n  - operation IN (isEmpty, isNotEmpty, true, false)\n```\n\n**Good news**: Auto-sanitization fixes this!\n\n**Manual check**:\n```javascript\nget_node({\n  nodeType: \"nodes-base.if\",\n  detail: \"full\"\n});\n// Shows complete schema with operator-specific rules\n```\n\n---\n\n## Configuration Anti-Patterns\n\n### ❌ Don't: Over-configure Upfront\n\n**Bad**:\n```javascript\n// Adding every possible field\n{\n  \"method\": \"GET\",\n  \"url\": \"...\",\n  \"sendQuery\": false,\n  \"sendHeaders\": false,\n  \"sendBody\": false,\n  \"timeout\": 10000,\n  \"ignoreResponseCode\": false,\n  // ... 20 more optional fields\n}\n```\n\n**Good**:\n```javascript\n// Start minimal\n{\n  \"method\": \"GET\",\n  \"url\": \"...\",\n  \"authentication\": \"none\"\n}\n// Add fields only when needed\n```\n\n### ❌ Don't: Skip Validation\n\n**Bad**:\n```javascript\n// Configure and deploy without validating\nconst config = {...};\nn8n_update_partial_workflow({...});  // YOLO\n```\n\n**Good**:\n```javascript\n// Validate before deploying\nconst config = {...};\nconst result = validate_node({...});\nif (result.valid) {\n  n8n_update_partial_workflow({...});\n}\n```\n\n### ❌ Don't: Ignore Operation Context\n\n**Bad**:\n```javascript\n// Same config for all Slack operations\n{\n  \"resource\": \"message\",\n  \"operation\": \"post\",\n  \"channel\": \"#general\",\n  \"text\": \"...\"\n}\n\n// Then switching operation without updating config\n{\n  \"resource\": \"message\",\n  \"operation\": \"update\",  // Changed\n  \"channel\": \"#general\",  // Wrong field for update!\n  \"text\": \"...\"\n}\n```\n\n**Good**:\n```javascript\n// Check requirements when changing operation\nget_node({\n  nodeType: \"nodes-base.slack\"\n});\n// See what update operation needs (messageId, not channel)\n```\n\n---\n\n## Best Practices\n\n### ✅ Do\n\n1. **Start with get_node (standard detail)**\n   - ~1-2K tokens response\n   - Covers 95% of configuration needs\n   - Default detail level\n\n2. **Validate iteratively**\n   - Configure → Validate → Fix → Repeat\n   - Average 2-3 iterations is normal\n   - Read validation errors carefully\n\n3. **Use search_properties mode when stuck**\n   - If field seems missing, search for it\n   - Understand what controls field visibility\n   - `get_node({mode: \"search_properties\", propertyQuery: \"...\"})`\n\n4. **Respect operation context**\n   - Different operations = different requirements\n   - Always check get_node when changing operation\n   - Don't assume configs are transferable\n\n5. **Trust auto-sanitization**\n   - Operator structure fixed automatically\n   - Don't manually add/remove singleValue\n   - IF/Switch metadata added on save\n\n### ❌ Don't\n\n1. **Jump to detail=\"full\" immediately**\n   - Try standard detail first\n   - Only escalate if needed\n   - Full schema is 3-8K tokens\n\n2. **Configure blindly**\n   - Always validate before deploying\n   - Understand why fields are required\n   - Use search_properties for conditional fields\n\n3. **Copy configs without understanding**\n   - Different operations need different fields\n   - Validate after copying\n   - Adjust for new context\n\n4. **Manually fix auto-sanitization issues**\n   - Let auto-sanitization handle operator structure\n   - Focus on business logic\n   - Save and let system fix structure\n\n---\n\n## Detailed References\n\nFor comprehensive guides on specific topics:\n\n- **[DEPENDENCIES.md](DEPENDENCIES.md)** - Deep dive into property dependencies and displayOptions\n- **[OPERATION_PATTERNS.md](OPERATION_PATTERNS.md)** - Common configuration patterns by node type\n\n---\n\n## Summary\n\n**Configuration Strategy**:\n1. Start with `get_node` (standard detail is default)\n2. Configure required fields for operation\n3. Validate configuration\n4. Search properties if stuck\n5. Iterate until valid (avg 2-3 cycles)\n6. Deploy with confidence\n\n**Key Principles**:\n- **Operation-aware**: Different operations = different requirements\n- **Progressive disclosure**: Start minimal, add as needed\n- **Dependency-aware**: Understand field visibility rules\n- **Validation-driven**: Let validation guide configuration\n\n**Related Skills**:\n- **n8n MCP Tools Expert** - How to use discovery tools correctly\n- **n8n Validation Expert** - Interpret validation errors\n- **n8n Expression Syntax** - Configure expression fields\n- **n8n Workflow Patterns** - Apply patterns with proper configuration"
              },
              {
                "name": "n8n-validation-expert",
                "description": "Interpret validation errors and guide fixing them. Use when encountering validation errors, validation warnings, false positives, operator structure issues, or need help understanding validation results. Also use when asking about validation profiles, error types, or the validation loop process.",
                "path": "skills/n8n-validation-expert/SKILL.md",
                "frontmatter": {
                  "name": "n8n-validation-expert",
                  "description": "Interpret validation errors and guide fixing them. Use when encountering validation errors, validation warnings, false positives, operator structure issues, or need help understanding validation results. Also use when asking about validation profiles, error types, or the validation loop process."
                },
                "content": "# n8n Validation Expert\n\nExpert guide for interpreting and fixing n8n validation errors.\n\n---\n\n## Validation Philosophy\n\n**Validate early, validate often**\n\nValidation is typically iterative:\n- Expect validation feedback loops\n- Usually 2-3 validate → fix cycles\n- Average: 23s thinking about errors, 58s fixing them\n\n**Key insight**: Validation is an iterative process, not one-shot!\n\n---\n\n## Error Severity Levels\n\n### 1. Errors (Must Fix)\n**Blocks workflow execution** - Must be resolved before activation\n\n**Types**:\n- `missing_required` - Required field not provided\n- `invalid_value` - Value doesn't match allowed options\n- `type_mismatch` - Wrong data type (string instead of number)\n- `invalid_reference` - Referenced node doesn't exist\n- `invalid_expression` - Expression syntax error\n\n**Example**:\n```json\n{\n  \"type\": \"missing_required\",\n  \"property\": \"channel\",\n  \"message\": \"Channel name is required\",\n  \"fix\": \"Provide a channel name (lowercase, no spaces, 1-80 characters)\"\n}\n```\n\n### 2. Warnings (Should Fix)\n**Doesn't block execution** - Workflow can be activated but may have issues\n\n**Types**:\n- `best_practice` - Recommended but not required\n- `deprecated` - Using old API/feature\n- `performance` - Potential performance issue\n\n**Example**:\n```json\n{\n  \"type\": \"best_practice\",\n  \"property\": \"errorHandling\",\n  \"message\": \"Slack API can have rate limits\",\n  \"suggestion\": \"Add onError: 'continueRegularOutput' with retryOnFail\"\n}\n```\n\n### 3. Suggestions (Optional)\n**Nice to have** - Improvements that could enhance workflow\n\n**Types**:\n- `optimization` - Could be more efficient\n- `alternative` - Better way to achieve same result\n\n---\n\n## The Validation Loop\n\n### Pattern from Telemetry\n**7,841 occurrences** of this pattern:\n\n```\n1. Configure node\n   ↓\n2. validate_node (23 seconds thinking about errors)\n   ↓\n3. Read error messages carefully\n   ↓\n4. Fix errors\n   ↓\n5. validate_node again (58 seconds fixing)\n   ↓\n6. Repeat until valid (usually 2-3 iterations)\n```\n\n### Example\n```javascript\n// Iteration 1\nlet config = {\n  resource: \"channel\",\n  operation: \"create\"\n};\n\nconst result1 = validate_node({\n  nodeType: \"nodes-base.slack\",\n  config,\n  profile: \"runtime\"\n});\n// → Error: Missing \"name\"\n\n// ⏱️  23 seconds thinking...\n\n// Iteration 2\nconfig.name = \"general\";\n\nconst result2 = validate_node({\n  nodeType: \"nodes-base.slack\",\n  config,\n  profile: \"runtime\"\n});\n// → Error: Missing \"text\"\n\n// ⏱️  58 seconds fixing...\n\n// Iteration 3\nconfig.text = \"Hello!\";\n\nconst result3 = validate_node({\n  nodeType: \"nodes-base.slack\",\n  config,\n  profile: \"runtime\"\n});\n// → Valid! ✅\n```\n\n**This is normal!** Don't be discouraged by multiple iterations.\n\n---\n\n## Validation Profiles\n\nChoose the right profile for your stage:\n\n### minimal\n**Use when**: Quick checks during editing\n\n**Validates**:\n- Only required fields\n- Basic structure\n\n**Pros**: Fastest, most permissive\n**Cons**: May miss issues\n\n### runtime (RECOMMENDED)\n**Use when**: Pre-deployment validation\n\n**Validates**:\n- Required fields\n- Value types\n- Allowed values\n- Basic dependencies\n\n**Pros**: Balanced, catches real errors\n**Cons**: Some edge cases missed\n\n**This is the recommended profile for most use cases**\n\n### ai-friendly\n**Use when**: AI-generated configurations\n\n**Validates**:\n- Same as runtime\n- Reduces false positives\n- More tolerant of minor issues\n\n**Pros**: Less noisy for AI workflows\n**Cons**: May allow some questionable configs\n\n### strict\n**Use when**: Production deployment, critical workflows\n\n**Validates**:\n- Everything\n- Best practices\n- Performance concerns\n- Security issues\n\n**Pros**: Maximum safety\n**Cons**: Many warnings, some false positives\n\n---\n\n## Common Error Types\n\n### 1. missing_required\n**What it means**: A required field is not provided\n\n**How to fix**:\n1. Use `get_node` to see required fields\n2. Add the missing field to your configuration\n3. Provide an appropriate value\n\n**Example**:\n```javascript\n// Error\n{\n  \"type\": \"missing_required\",\n  \"property\": \"channel\",\n  \"message\": \"Channel name is required\"\n}\n\n// Fix\nconfig.channel = \"#general\";\n```\n\n### 2. invalid_value\n**What it means**: Value doesn't match allowed options\n\n**How to fix**:\n1. Check error message for allowed values\n2. Use `get_node` to see options\n3. Update to a valid value\n\n**Example**:\n```javascript\n// Error\n{\n  \"type\": \"invalid_value\",\n  \"property\": \"operation\",\n  \"message\": \"Operation must be one of: post, update, delete\",\n  \"current\": \"send\"\n}\n\n// Fix\nconfig.operation = \"post\";  // Use valid operation\n```\n\n### 3. type_mismatch\n**What it means**: Wrong data type for field\n\n**How to fix**:\n1. Check expected type in error message\n2. Convert value to correct type\n\n**Example**:\n```javascript\n// Error\n{\n  \"type\": \"type_mismatch\",\n  \"property\": \"limit\",\n  \"message\": \"Expected number, got string\",\n  \"current\": \"100\"\n}\n\n// Fix\nconfig.limit = 100;  // Number, not string\n```\n\n### 4. invalid_expression\n**What it means**: Expression syntax error\n\n**How to fix**:\n1. Use n8n Expression Syntax skill\n2. Check for missing `{{}}` or typos\n3. Verify node/field references\n\n**Example**:\n```javascript\n// Error\n{\n  \"type\": \"invalid_expression\",\n  \"property\": \"text\",\n  \"message\": \"Invalid expression: $json.name\",\n  \"current\": \"$json.name\"\n}\n\n// Fix\nconfig.text = \"={{$json.name}}\";  // Add {{}}\n```\n\n### 5. invalid_reference\n**What it means**: Referenced node doesn't exist\n\n**How to fix**:\n1. Check node name spelling\n2. Verify node exists in workflow\n3. Update reference to correct name\n\n**Example**:\n```javascript\n// Error\n{\n  \"type\": \"invalid_reference\",\n  \"property\": \"expression\",\n  \"message\": \"Node 'HTTP Requets' does not exist\",\n  \"current\": \"={{$node['HTTP Requets'].json.data}}\"\n}\n\n// Fix - correct typo\nconfig.expression = \"={{$node['HTTP Request'].json.data}}\";\n```\n\n---\n\n## Auto-Sanitization System\n\n### What It Does\n**Automatically fixes common operator structure issues** on ANY workflow update\n\n**Runs when**:\n- `n8n_create_workflow`\n- `n8n_update_partial_workflow`\n- Any workflow save operation\n\n### What It Fixes\n\n#### 1. Binary Operators (Two Values)\n**Operators**: equals, notEquals, contains, notContains, greaterThan, lessThan, startsWith, endsWith\n\n**Fix**: Removes `singleValue` property (binary operators compare two values)\n\n**Before**:\n```javascript\n{\n  \"type\": \"boolean\",\n  \"operation\": \"equals\",\n  \"singleValue\": true  // ❌ Wrong!\n}\n```\n\n**After** (automatic):\n```javascript\n{\n  \"type\": \"boolean\",\n  \"operation\": \"equals\"\n  // singleValue removed ✅\n}\n```\n\n#### 2. Unary Operators (One Value)\n**Operators**: isEmpty, isNotEmpty, true, false\n\n**Fix**: Adds `singleValue: true` (unary operators check single value)\n\n**Before**:\n```javascript\n{\n  \"type\": \"boolean\",\n  \"operation\": \"isEmpty\"\n  // Missing singleValue ❌\n}\n```\n\n**After** (automatic):\n```javascript\n{\n  \"type\": \"boolean\",\n  \"operation\": \"isEmpty\",\n  \"singleValue\": true  // ✅ Added\n}\n```\n\n#### 3. IF/Switch Metadata\n**Fix**: Adds complete `conditions.options` metadata for IF v2.2+ and Switch v3.2+\n\n### What It CANNOT Fix\n\n#### 1. Broken Connections\nReferences to non-existent nodes\n\n**Solution**: Use `cleanStaleConnections` operation in `n8n_update_partial_workflow`\n\n#### 2. Branch Count Mismatches\n3 Switch rules but only 2 output connections\n\n**Solution**: Add missing connections or remove extra rules\n\n#### 3. Paradoxical Corrupt States\nAPI returns corrupt data but rejects updates\n\n**Solution**: May require manual database intervention\n\n---\n\n## False Positives\n\n### What Are They?\nValidation warnings that are technically \"wrong\" but acceptable in your use case\n\n### Common False Positives\n\n#### 1. \"Missing error handling\"\n**Warning**: No error handling configured\n\n**When acceptable**:\n- Simple workflows where failures are obvious\n- Testing/development workflows\n- Non-critical notifications\n\n**When to fix**: Production workflows handling important data\n\n#### 2. \"No retry logic\"\n**Warning**: Node doesn't retry on failure\n\n**When acceptable**:\n- APIs with their own retry logic\n- Idempotent operations\n- Manual trigger workflows\n\n**When to fix**: Flaky external services, production automation\n\n#### 3. \"Missing rate limiting\"\n**Warning**: No rate limiting for API calls\n\n**When acceptable**:\n- Internal APIs with no limits\n- Low-volume workflows\n- APIs with server-side rate limiting\n\n**When to fix**: Public APIs, high-volume workflows\n\n#### 4. \"Unbounded query\"\n**Warning**: SELECT without LIMIT\n\n**When acceptable**:\n- Small known datasets\n- Aggregation queries\n- Development/testing\n\n**When to fix**: Production queries on large tables\n\n### Reducing False Positives\n\n**Use `ai-friendly` profile**:\n```javascript\nvalidate_node({\n  nodeType: \"nodes-base.slack\",\n  config: {...},\n  profile: \"ai-friendly\"  // Fewer false positives\n})\n```\n\n---\n\n## Validation Result Structure\n\n### Complete Response\n```javascript\n{\n  \"valid\": false,\n  \"errors\": [\n    {\n      \"type\": \"missing_required\",\n      \"property\": \"channel\",\n      \"message\": \"Channel name is required\",\n      \"fix\": \"Provide a channel name (lowercase, no spaces)\"\n    }\n  ],\n  \"warnings\": [\n    {\n      \"type\": \"best_practice\",\n      \"property\": \"errorHandling\",\n      \"message\": \"Slack API can have rate limits\",\n      \"suggestion\": \"Add onError: 'continueRegularOutput'\"\n    }\n  ],\n  \"suggestions\": [\n    {\n      \"type\": \"optimization\",\n      \"message\": \"Consider using batch operations for multiple messages\"\n    }\n  ],\n  \"summary\": {\n    \"hasErrors\": true,\n    \"errorCount\": 1,\n    \"warningCount\": 1,\n    \"suggestionCount\": 1\n  }\n}\n```\n\n### How to Read It\n\n#### 1. Check `valid` field\n```javascript\nif (result.valid) {\n  // ✅ Configuration is valid\n} else {\n  // ❌ Has errors - must fix before deployment\n}\n```\n\n#### 2. Fix errors first\n```javascript\nresult.errors.forEach(error => {\n  console.log(`Error in ${error.property}: ${error.message}`);\n  console.log(`Fix: ${error.fix}`);\n});\n```\n\n#### 3. Review warnings\n```javascript\nresult.warnings.forEach(warning => {\n  console.log(`Warning: ${warning.message}`);\n  console.log(`Suggestion: ${warning.suggestion}`);\n  // Decide if you need to address this\n});\n```\n\n#### 4. Consider suggestions\n```javascript\n// Optional improvements\n// Not required but may enhance workflow\n```\n\n---\n\n## Workflow Validation\n\n### validate_workflow (Structure)\n**Validates entire workflow**, not just individual nodes\n\n**Checks**:\n1. **Node configurations** - Each node valid\n2. **Connections** - No broken references\n3. **Expressions** - Syntax and references valid\n4. **Flow** - Logical workflow structure\n\n**Example**:\n```javascript\nvalidate_workflow({\n  workflow: {\n    nodes: [...],\n    connections: {...}\n  },\n  options: {\n    validateNodes: true,\n    validateConnections: true,\n    validateExpressions: true,\n    profile: \"runtime\"\n  }\n})\n```\n\n### Common Workflow Errors\n\n#### 1. Broken Connections\n```json\n{\n  \"error\": \"Connection from 'Transform' to 'NonExistent' - target node not found\"\n}\n```\n\n**Fix**: Remove stale connection or create missing node\n\n#### 2. Circular Dependencies\n```json\n{\n  \"error\": \"Circular dependency detected: Node A → Node B → Node A\"\n}\n```\n\n**Fix**: Restructure workflow to remove loop\n\n#### 3. Multiple Start Nodes\n```json\n{\n  \"warning\": \"Multiple trigger nodes found - only one will execute\"\n}\n```\n\n**Fix**: Remove extra triggers or split into separate workflows\n\n#### 4. Disconnected Nodes\n```json\n{\n  \"warning\": \"Node 'Transform' is not connected to workflow flow\"\n}\n```\n\n**Fix**: Connect node or remove if unused\n\n---\n\n## Recovery Strategies\n\n### Strategy 1: Start Fresh\n**When**: Configuration is severely broken\n\n**Steps**:\n1. Note required fields from `get_node`\n2. Create minimal valid configuration\n3. Add features incrementally\n4. Validate after each addition\n\n### Strategy 2: Binary Search\n**When**: Workflow validates but executes incorrectly\n\n**Steps**:\n1. Remove half the nodes\n2. Validate and test\n3. If works: problem is in removed nodes\n4. If fails: problem is in remaining nodes\n5. Repeat until problem isolated\n\n### Strategy 3: Clean Stale Connections\n**When**: \"Node not found\" errors\n\n**Steps**:\n```javascript\nn8n_update_partial_workflow({\n  id: \"workflow-id\",\n  operations: [{\n    type: \"cleanStaleConnections\"\n  }]\n})\n```\n\n### Strategy 4: Use Auto-fix\n**When**: Operator structure errors\n\n**Steps**:\n```javascript\nn8n_autofix_workflow({\n  id: \"workflow-id\",\n  applyFixes: false  // Preview first\n})\n\n// Review fixes, then apply\nn8n_autofix_workflow({\n  id: \"workflow-id\",\n  applyFixes: true\n})\n```\n\n---\n\n## Best Practices\n\n### ✅ Do\n\n- Validate after every significant change\n- Read error messages completely\n- Fix errors iteratively (one at a time)\n- Use `runtime` profile for pre-deployment\n- Check `valid` field before assuming success\n- Trust auto-sanitization for operator issues\n- Use `get_node` when unclear about requirements\n- Document false positives you accept\n\n### ❌ Don't\n\n- Skip validation before activation\n- Try to fix all errors at once\n- Ignore error messages\n- Use `strict` profile during development (too noisy)\n- Assume validation passed (always check result)\n- Manually fix auto-sanitization issues\n- Deploy with unresolved errors\n- Ignore all warnings (some are important!)\n\n---\n\n## Detailed Guides\n\nFor comprehensive error catalogs and false positive examples:\n\n- **[ERROR_CATALOG.md](ERROR_CATALOG.md)** - Complete list of error types with examples\n- **[FALSE_POSITIVES.md](FALSE_POSITIVES.md)** - When warnings are acceptable\n\n---\n\n## Summary\n\n**Key Points**:\n1. **Validation is iterative** (avg 2-3 cycles, 23s + 58s)\n2. **Errors must be fixed**, warnings are optional\n3. **Auto-sanitization** fixes operator structures automatically\n4. **Use runtime profile** for balanced validation\n5. **False positives exist** - learn to recognize them\n6. **Read error messages** - they contain fix guidance\n\n**Validation Process**:\n1. Validate → Read errors → Fix → Validate again\n2. Repeat until valid (usually 2-3 iterations)\n3. Review warnings and decide if acceptable\n4. Deploy with confidence\n\n**Related Skills**:\n- n8n MCP Tools Expert - Use validation tools correctly\n- n8n Expression Syntax - Fix expression errors\n- n8n Node Configuration - Understand required fields"
              },
              {
                "name": "n8n-workflow-patterns",
                "description": "Proven workflow architectural patterns from real n8n workflows. Use when building new workflows, designing workflow structure, choosing workflow patterns, planning workflow architecture, or asking about webhook processing, HTTP API integration, database operations, AI agent workflows, or scheduled tasks.",
                "path": "skills/n8n-workflow-patterns/SKILL.md",
                "frontmatter": {
                  "name": "n8n-workflow-patterns",
                  "description": "Proven workflow architectural patterns from real n8n workflows. Use when building new workflows, designing workflow structure, choosing workflow patterns, planning workflow architecture, or asking about webhook processing, HTTP API integration, database operations, AI agent workflows, or scheduled tasks."
                },
                "content": "# n8n Workflow Patterns\n\nProven architectural patterns for building n8n workflows.\n\n---\n\n## The 5 Core Patterns\n\nBased on analysis of real workflow usage:\n\n1. **[Webhook Processing](webhook_processing.md)** (Most Common)\n   - Receive HTTP requests → Process → Output\n   - Pattern: Webhook → Validate → Transform → Respond/Notify\n\n2. **[HTTP API Integration](http_api_integration.md)**\n   - Fetch from REST APIs → Transform → Store/Use\n   - Pattern: Trigger → HTTP Request → Transform → Action → Error Handler\n\n3. **[Database Operations](database_operations.md)**\n   - Read/Write/Sync database data\n   - Pattern: Schedule → Query → Transform → Write → Verify\n\n4. **[AI Agent Workflow](ai_agent_workflow.md)**\n   - AI agents with tools and memory\n   - Pattern: Trigger → AI Agent (Model + Tools + Memory) → Output\n\n5. **[Scheduled Tasks](scheduled_tasks.md)**\n   - Recurring automation workflows\n   - Pattern: Schedule → Fetch → Process → Deliver → Log\n\n---\n\n## Pattern Selection Guide\n\n### When to use each pattern:\n\n**Webhook Processing** - Use when:\n- Receiving data from external systems\n- Building integrations (Slack commands, form submissions, GitHub webhooks)\n- Need instant response to events\n- Example: \"Receive Stripe payment webhook → Update database → Send confirmation\"\n\n**HTTP API Integration** - Use when:\n- Fetching data from external APIs\n- Synchronizing with third-party services\n- Building data pipelines\n- Example: \"Fetch GitHub issues → Transform → Create Jira tickets\"\n\n**Database Operations** - Use when:\n- Syncing between databases\n- Running database queries on schedule\n- ETL workflows\n- Example: \"Read Postgres records → Transform → Write to MySQL\"\n\n**AI Agent Workflow** - Use when:\n- Building conversational AI\n- Need AI with tool access\n- Multi-step reasoning tasks\n- Example: \"Chat with AI that can search docs, query database, send emails\"\n\n**Scheduled Tasks** - Use when:\n- Recurring reports or summaries\n- Periodic data fetching\n- Maintenance tasks\n- Example: \"Daily: Fetch analytics → Generate report → Email team\"\n\n---\n\n## Common Workflow Components\n\nAll patterns share these building blocks:\n\n### 1. Triggers\n- **Webhook** - HTTP endpoint (instant)\n- **Schedule** - Cron-based timing (periodic)\n- **Manual** - Click to execute (testing)\n- **Polling** - Check for changes (intervals)\n\n### 2. Data Sources\n- **HTTP Request** - REST APIs\n- **Database nodes** - Postgres, MySQL, MongoDB\n- **Service nodes** - Slack, Google Sheets, etc.\n- **Code** - Custom JavaScript/Python\n\n### 3. Transformation\n- **Set** - Map/transform fields\n- **Code** - Complex logic\n- **IF/Switch** - Conditional routing\n- **Merge** - Combine data streams\n\n### 4. Outputs\n- **HTTP Request** - Call APIs\n- **Database** - Write data\n- **Communication** - Email, Slack, Discord\n- **Storage** - Files, cloud storage\n\n### 5. Error Handling\n- **Error Trigger** - Catch workflow errors\n- **IF** - Check for error conditions\n- **Stop and Error** - Explicit failure\n- **Continue On Fail** - Per-node setting\n\n---\n\n## Workflow Creation Checklist\n\nWhen building ANY workflow, follow this checklist:\n\n### Planning Phase\n- [ ] Identify the pattern (webhook, API, database, AI, scheduled)\n- [ ] List required nodes (use search_nodes)\n- [ ] Understand data flow (input → transform → output)\n- [ ] Plan error handling strategy\n\n### Implementation Phase\n- [ ] Create workflow with appropriate trigger\n- [ ] Add data source nodes\n- [ ] Configure authentication/credentials\n- [ ] Add transformation nodes (Set, Code, IF)\n- [ ] Add output/action nodes\n- [ ] Configure error handling\n\n### Validation Phase\n- [ ] Validate each node configuration (validate_node)\n- [ ] Validate complete workflow (validate_workflow)\n- [ ] Test with sample data\n- [ ] Handle edge cases (empty data, errors)\n\n### Deployment Phase\n- [ ] Review workflow settings (execution order, timeout, error handling)\n- [ ] Activate workflow using `activateWorkflow` operation\n- [ ] Monitor first executions\n- [ ] Document workflow purpose and data flow\n\n---\n\n## Data Flow Patterns\n\n### Linear Flow\n```\nTrigger → Transform → Action → End\n```\n**Use when**: Simple workflows with single path\n\n### Branching Flow\n```\nTrigger → IF → [True Path]\n             └→ [False Path]\n```\n**Use when**: Different actions based on conditions\n\n### Parallel Processing\n```\nTrigger → [Branch 1] → Merge\n       └→ [Branch 2] ↗\n```\n**Use when**: Independent operations that can run simultaneously\n\n### Loop Pattern\n```\nTrigger → Split in Batches → Process → Loop (until done)\n```\n**Use when**: Processing large datasets in chunks\n\n### Error Handler Pattern\n```\nMain Flow → [Success Path]\n         └→ [Error Trigger → Error Handler]\n```\n**Use when**: Need separate error handling workflow\n\n---\n\n## Common Gotchas\n\n### 1. Webhook Data Structure\n**Problem**: Can't access webhook payload data\n\n**Solution**: Data is nested under `$json.body`\n```javascript\n❌ {{$json.email}}\n✅ {{$json.body.email}}\n```\nSee: n8n Expression Syntax skill\n\n### 2. Multiple Input Items\n**Problem**: Node processes all input items, but I only want one\n\n**Solution**: Use \"Execute Once\" mode or process first item only\n```javascript\n{{$json[0].field}}  // First item only\n```\n\n### 3. Authentication Issues\n**Problem**: API calls failing with 401/403\n\n**Solution**:\n- Configure credentials properly\n- Use the \"Credentials\" section, not parameters\n- Test credentials before workflow activation\n\n### 4. Node Execution Order\n**Problem**: Nodes executing in unexpected order\n\n**Solution**: Check workflow settings → Execution Order\n- v0: Top-to-bottom (legacy)\n- v1: Connection-based (recommended)\n\n### 5. Expression Errors\n**Problem**: Expressions showing as literal text\n\n**Solution**: Use {{}} around expressions\n- See n8n Expression Syntax skill for details\n\n---\n\n## Integration with Other Skills\n\nThese skills work together with Workflow Patterns:\n\n**n8n MCP Tools Expert** - Use to:\n- Find nodes for your pattern (search_nodes)\n- Understand node operations (get_node)\n- Create workflows (n8n_create_workflow)\n- Deploy templates (n8n_deploy_template)\n- Use ai_agents_guide for AI pattern guidance\n\n**n8n Expression Syntax** - Use to:\n- Write expressions in transformation nodes\n- Access webhook data correctly ({{$json.body.field}})\n- Reference previous nodes ({{$node[\"Node Name\"].json.field}})\n\n**n8n Node Configuration** - Use to:\n- Configure specific operations for pattern nodes\n- Understand node-specific requirements\n\n**n8n Validation Expert** - Use to:\n- Validate workflow structure\n- Fix validation errors\n- Ensure workflow correctness before deployment\n\n---\n\n## Pattern Statistics\n\nCommon workflow patterns:\n\n**Most Common Triggers**:\n1. Webhook - 35%\n2. Schedule (periodic tasks) - 28%\n3. Manual (testing/admin) - 22%\n4. Service triggers (Slack, email, etc.) - 15%\n\n**Most Common Transformations**:\n1. Set (field mapping) - 68%\n2. Code (custom logic) - 42%\n3. IF (conditional routing) - 38%\n4. Switch (multi-condition) - 18%\n\n**Most Common Outputs**:\n1. HTTP Request (APIs) - 45%\n2. Slack - 32%\n3. Database writes - 28%\n4. Email - 24%\n\n**Average Workflow Complexity**:\n- Simple (3-5 nodes): 42%\n- Medium (6-10 nodes): 38%\n- Complex (11+ nodes): 20%\n\n---\n\n## Quick Start Examples\n\n### Example 1: Simple Webhook → Slack\n```\n1. Webhook (path: \"form-submit\", POST)\n2. Set (map form fields)\n3. Slack (post message to #notifications)\n```\n\n### Example 2: Scheduled Report\n```\n1. Schedule (daily at 9 AM)\n2. HTTP Request (fetch analytics)\n3. Code (aggregate data)\n4. Email (send formatted report)\n5. Error Trigger → Slack (notify on failure)\n```\n\n### Example 3: Database Sync\n```\n1. Schedule (every 15 minutes)\n2. Postgres (query new records)\n3. IF (check if records exist)\n4. MySQL (insert records)\n5. Postgres (update sync timestamp)\n```\n\n### Example 4: AI Assistant\n```\n1. Webhook (receive chat message)\n2. AI Agent\n   ├─ OpenAI Chat Model (ai_languageModel)\n   ├─ HTTP Request Tool (ai_tool)\n   ├─ Database Tool (ai_tool)\n   └─ Window Buffer Memory (ai_memory)\n3. Webhook Response (send AI reply)\n```\n\n### Example 5: API Integration\n```\n1. Manual Trigger (for testing)\n2. HTTP Request (GET /api/users)\n3. Split In Batches (process 100 at a time)\n4. Set (transform user data)\n5. Postgres (upsert users)\n6. Loop (back to step 3 until done)\n```\n\n---\n\n## Detailed Pattern Files\n\nFor comprehensive guidance on each pattern:\n\n- **[webhook_processing.md](webhook_processing.md)** - Webhook patterns, data structure, response handling\n- **[http_api_integration.md](http_api_integration.md)** - REST APIs, authentication, pagination, retries\n- **[database_operations.md](database_operations.md)** - Queries, sync, transactions, batch processing\n- **[ai_agent_workflow.md](ai_agent_workflow.md)** - AI agents, tools, memory, langchain nodes\n- **[scheduled_tasks.md](scheduled_tasks.md)** - Cron schedules, reports, maintenance tasks\n\n---\n\n## Real Template Examples\n\nFrom n8n template library:\n\n**Template #2947**: Weather to Slack\n- Pattern: Scheduled Task\n- Nodes: Schedule → HTTP Request (weather API) → Set → Slack\n- Complexity: Simple (4 nodes)\n\n**Webhook Processing**: Most common pattern\n- Most common: Form submissions, payment webhooks, chat integrations\n\n**HTTP API**: Common pattern\n- Most common: Data fetching, third-party integrations\n\n**Database Operations**: Common pattern\n- Most common: ETL, data sync, backup workflows\n\n**AI Agents**: Growing in usage\n- Most common: Chatbots, content generation, data analysis\n\nUse `search_templates` and `get_template` from n8n-mcp tools to find examples!\n\n---\n\n## Best Practices\n\n### ✅ Do\n\n- Start with the simplest pattern that solves your problem\n- Plan your workflow structure before building\n- Use error handling on all workflows\n- Test with sample data before activation\n- Follow the workflow creation checklist\n- Use descriptive node names\n- Document complex workflows (notes field)\n- Monitor workflow executions after deployment\n\n### ❌ Don't\n\n- Build workflows in one shot (iterate! avg 56s between edits)\n- Skip validation before activation\n- Ignore error scenarios\n- Use complex patterns when simple ones suffice\n- Hardcode credentials in parameters\n- Forget to handle empty data cases\n- Mix multiple patterns without clear boundaries\n- Deploy without testing\n\n---\n\n## Summary\n\n**Key Points**:\n1. **5 core patterns** cover 90%+ of workflow use cases\n2. **Webhook processing** is the most common pattern\n3. Use the **workflow creation checklist** for every workflow\n4. **Plan pattern** → **Select nodes** → **Build** → **Validate** → **Deploy**\n5. Integrate with other skills for complete workflow development\n\n**Next Steps**:\n1. Identify your use case pattern\n2. Read the detailed pattern file\n3. Use n8n MCP Tools Expert to find nodes\n4. Follow the workflow creation checklist\n5. Use n8n Validation Expert to validate\n\n**Related Skills**:\n- n8n MCP Tools Expert - Find and configure nodes\n- n8n Expression Syntax - Write expressions correctly\n- n8n Validation Expert - Validate and fix errors\n- n8n Node Configuration - Configure specific operations"
              }
            ]
          }
        ]
      }
    }
  ]
}