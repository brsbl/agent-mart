{
  "owner": {
    "id": "lostendfound",
    "display_name": "lost end found",
    "type": "Organization",
    "avatar_url": "https://avatars.githubusercontent.com/u/209547151?v=4",
    "url": "https://github.com/lostendfound",
    "bio": null,
    "stats": {
      "total_repos": 1,
      "total_plugins": 2,
      "total_commands": 2,
      "total_skills": 0,
      "total_stars": 0,
      "total_forks": 0
    }
  },
  "repos": [
    {
      "full_name": "lostendfound/claude-plugins-marketplace",
      "url": "https://github.com/lostendfound/claude-plugins-marketplace",
      "description": "Custom Claude Code plugins for code review and development workflows",
      "homepage": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-11T17:50:27Z",
        "created_at": "2026-01-11T17:18:22Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 633
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 3880
        },
        {
          "path": "examples",
          "type": "tree",
          "size": null
        },
        {
          "path": "examples/claude-code-review.yml",
          "type": "blob",
          "size": 1552
        },
        {
          "path": "setup-code-review",
          "type": "tree",
          "size": null
        },
        {
          "path": "setup-code-review/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "setup-code-review/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 184
        },
        {
          "path": "setup-code-review/README.md",
          "type": "blob",
          "size": 840
        },
        {
          "path": "setup-code-review/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "setup-code-review/commands/install.md",
          "type": "blob",
          "size": 4512
        },
        {
          "path": "smart-code-review",
          "type": "tree",
          "size": null
        },
        {
          "path": "smart-code-review/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "smart-code-review/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 187
        },
        {
          "path": "smart-code-review/README.md",
          "type": "blob",
          "size": 1954
        },
        {
          "path": "smart-code-review/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "smart-code-review/commands/code-review.md",
          "type": "blob",
          "size": 7045
        }
      ],
      "marketplace": {
        "name": "lostendfound-plugins",
        "version": null,
        "description": null,
        "owner_info": {
          "name": "Lost End Found"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "smart-code-review",
            "description": "Intelligent code review with re-review support for new commits",
            "source": "./smart-code-review",
            "category": null,
            "version": "1.0.0",
            "author": null,
            "install_commands": [
              "/plugin marketplace add lostendfound/claude-plugins-marketplace",
              "/plugin install smart-code-review@lostendfound-plugins"
            ],
            "signals": {
              "stars": 0,
              "forks": 0,
              "pushed_at": "2026-01-11T17:50:27Z",
              "created_at": "2026-01-11T17:18:22Z",
              "license": null
            },
            "commands": [
              {
                "name": "/code-review",
                "description": "Intelligent code review with smart re-review support for new commits",
                "path": "smart-code-review/commands/code-review.md",
                "frontmatter": {
                  "allowed-tools": [
                    "Bash(gh issue view:*)",
                    "Bash(gh search:*)",
                    "Bash(gh issue list:*)",
                    "Bash(gh pr comment:*)",
                    "Bash(gh pr diff:*)",
                    "Bash(gh pr view:*)",
                    "Bash(gh pr list:*)",
                    "Bash(git log:*)",
                    "Bash(git blame:*)",
                    "Bash(git show:*)",
                    "Read",
                    "Glob",
                    "Grep",
                    "Task"
                  ],
                  "description": "Intelligent code review with smart re-review support for new commits"
                },
                "content": "# Smart Code Review\n\nProvide a code review for the given pull request with intelligent re-review support.\n\n## Instructions\n\nFollow these steps precisely:\n\n### Step 1: Smart Eligibility Check\n\nUse a Haiku agent to check if the pull request is eligible for review and determine the review mode.\n\nThe agent should:\n1. Use `gh pr view <PR> --json state,isDraft,author,title,labels,comments,commits` to get PR details\n2. Check if PR is closed, draft, or automated (skip if any are true)\n3. Look for existing Claude review comments (author login contains \"claude\" or body contains \"Generated with Claude Code\")\n4. If an existing review exists:\n   a. Extract the review timestamp\n   b. Get commits after that timestamp using: `gh pr view <PR> --json commits`\n   c. If new commits exist since review: Return `mode: \"re-review\"` with the previous review body\n   d. If no new commits: Return `mode: \"skip\"` (already reviewed, no changes)\n5. If no existing review: Return `mode: \"full\"`\n\nThe agent should return a JSON-like response:\n- `{ mode: \"skip\", reason: \"...\" }` - Do not proceed\n- `{ mode: \"full\" }` - Run full review\n- `{ mode: \"re-review\", previousReview: \"...\", previousCommitSha: \"...\" }` - Run re-review\n\nIf mode is \"skip\", do not proceed with the review.\n\n### Step 2: Gather CLAUDE.md Files\n\nUse a Haiku agent to find all relevant CLAUDE.md files:\n1. Root CLAUDE.md (if exists)\n2. CLAUDE.md files in directories modified by the PR\n\nReturn a list of file paths.\n\n### Step 3: Summarize the PR\n\nUse a Haiku agent to view the PR diff and return a brief summary of the changes.\n\n### Step 4: Run Review Agents\n\n#### If mode is \"full\" (Initial Review):\n\nLaunch 5 parallel Sonnet agents to independently review the change:\n\n1. **Agent #1 - CLAUDE.md Compliance**: Audit changes for compliance with CLAUDE.md guidelines. Focus on rules that are explicitly stated.\n\n2. **Agent #2 - Bug Scanner**: Read the file changes and scan for obvious bugs. Focus only on the changes themselves, not surrounding code. Look for large bugs, avoid nitpicks. Ignore likely false positives.\n\n3. **Agent #3 - Git History Context**: Read git blame and history of modified code. Identify any bugs in light of that historical context.\n\n4. **Agent #4 - Previous PR Comments**: Read previous PRs that touched these files. Check for comments that may also apply here.\n\n5. **Agent #5 - Code Comments Compliance**: Read code comments in modified files. Ensure changes comply with any guidance in those comments.\n\nEach agent should return a list of issues with:\n- Issue description\n- File and line reference\n- Reason flagged (CLAUDE.md, bug, historical context, etc.)\n\n#### If mode is \"re-review\" (Follow-Up Review):\n\nLaunch 5 parallel agents:\n\n1. **Agent #1 - Previous Issues Verification (Sonnet)**: Parse the previous review to extract issues. For each issue, check if it was addressed in the new commits. Return status for each: FIXED or STILL_PRESENT with current location.\n\n2. **Agent #2-5 - New Issues Scan (Sonnet)**: Scan ONLY the new commits (not the entire PR) for new issues. Use the same criteria as the full review agents above, but focus only on code added/modified since the previous review.\n\n### Step 5: Score Issues\n\nFor each issue found in Step 4, launch a parallel Haiku agent to score confidence (0-100):\n\nScoring rubric (provide verbatim to agents):\n- **0**: False positive that doesn't stand up to scrutiny, or pre-existing issue\n- **25**: Might be real but could be false positive. Stylistic issues not explicitly in CLAUDE.md\n- **50**: Verified real issue, but might be a nitpick or rare in practice. Not very important relative to PR\n- **75**: Double-checked and very likely real. Will be hit in practice. Existing approach is insufficient. Very important or directly mentioned in CLAUDE.md\n- **100**: Absolutely certain. Confirmed real issue that will happen frequently. Evidence directly confirms this\n\nFor CLAUDE.md issues, the agent must verify the CLAUDE.md actually calls out that specific issue.\n\n### Step 6: Filter Issues\n\nFilter out any issues with a score less than 80.\n\nIf no issues meet this threshold and mode is \"full\", proceed to Step 7 with \"no issues found\".\nIf no issues meet this threshold and mode is \"re-review\", proceed to Step 7 with status of previous issues only.\n\n### Step 7: Re-Check Eligibility\n\nUse a Haiku agent to repeat the eligibility check from Step 1, ensuring the PR is still open and eligible.\n\n### Step 8: Post Comment\n\nUse `gh pr comment <PR> --body \"...\"` to post the review.\n\n#### Initial Review Format (mode: \"full\"):\n\nIf issues found:\n```\n### Code review\n\nFound N issues:\n\n1. <brief description> (CLAUDE.md says \"<relevant quote>\")\n\n<link to file with full SHA and line range, e.g., https://github.com/owner/repo/blob/abc123def/path/file.ts#L10-L15>\n\n2. <brief description> (bug due to <reason>)\n\n<link>\n\nGenerated with [Claude Code](https://claude.ai/code)\n\n<sub>- If this code review was useful, react with thumbs up. Otherwise, react with thumbs down.</sub>\n```\n\nIf no issues:\n```\n### Code review\n\nNo issues found. Checked for bugs and CLAUDE.md compliance.\n\nGenerated with [Claude Code](https://claude.ai/code)\n```\n\n#### Follow-Up Review Format (mode: \"re-review\"):\n\n```\n### Code review (follow-up)\n\n**Previous Issues** (from review at <previous commit SHA>):\n- [FIXED] <issue description>\n- [STILL PRESENT] <issue description>\n  <link to current location>\n\n**New Issues Found** (in commits since last review):\n1. <new issue description>\n<link>\n\nSummary: X/Y previous issues fixed, Z new issues found.\n\nGenerated with [Claude Code](https://claude.ai/code)\n\n<sub>- If this code review was useful, react with thumbs up. Otherwise, react with thumbs down.</sub>\n```\n\nIf all previous issues fixed and no new issues:\n```\n### Code review (follow-up)\n\n**Previous Issues** (from review at <previous commit SHA>):\n- [FIXED] <issue 1>\n- [FIXED] <issue 2>\n\nAll previous issues have been addressed. No new issues found.\n\nGenerated with [Claude Code](https://claude.ai/code)\n```\n\n## Important Notes\n\n- Keep output brief, avoid emojis\n- Link and cite relevant code, files, and URLs\n- Use full git SHA in links (not HEAD or branch names)\n- Line range format: `#L<start>-L<end>` with 1 line of context before/after\n- Repo name must match the repo being reviewed\n\n## False Positives to Avoid\n\n- Pre-existing issues (not introduced by PR)\n- Code that looks like a bug but is correct\n- Pedantic nitpicks a senior engineer wouldn't flag\n- Issues a linter/typechecker would catch\n- General quality issues unless required by CLAUDE.md\n- Issues silenced by lint ignore comments\n- Intentional functionality changes\n- Issues on lines not modified in the PR"
              }
            ],
            "skills": []
          },
          {
            "name": "setup-code-review",
            "description": "Install smart code review workflow to any repository via PR",
            "source": "./setup-code-review",
            "category": null,
            "version": "1.0.0",
            "author": null,
            "install_commands": [
              "/plugin marketplace add lostendfound/claude-plugins-marketplace",
              "/plugin install setup-code-review@lostendfound-plugins"
            ],
            "signals": {
              "stars": 0,
              "forks": 0,
              "pushed_at": "2026-01-11T17:50:27Z",
              "created_at": "2026-01-11T17:18:22Z",
              "license": null
            },
            "commands": [
              {
                "name": "/install",
                "description": "Install smart code review workflow to the current repository via PR",
                "path": "setup-code-review/commands/install.md",
                "frontmatter": {
                  "allowed-tools": [
                    "Bash(gh repo view:*)",
                    "Bash(gh pr create:*)",
                    "Bash(gh pr list:*)",
                    "Bash(git checkout:*)",
                    "Bash(git branch:*)",
                    "Bash(git add:*)",
                    "Bash(git commit:*)",
                    "Bash(git push:*)",
                    "Bash(git status:*)",
                    "Bash(git pull:*)",
                    "Bash(git clone:*)",
                    "Bash(mkdir:*)",
                    "Bash(cp:*)",
                    "Bash(rm:*)",
                    "Read",
                    "Write",
                    "Glob"
                  ],
                  "description": "Install smart code review workflow to the current repository via PR"
                },
                "content": "# Install Smart Code Review\n\nInstall the smart code review GitHub Actions workflow to the current repository by creating a pull request.\n\n## Instructions\n\nFollow these steps precisely:\n\n### Step 1: Check Prerequisites\n\n1. Verify we're in a git repository with a GitHub remote\n2. Check if `.github/workflows/claude-code-review.yml` already exists\n   - If it exists, inform the user and ask if they want to update it\n3. Get the repository's default branch name using `gh repo view --json defaultBranchRef`\n\n### Step 2: Create Feature Branch\n\n1. Ensure we're on the default branch and it's up to date\n2. Create a new branch: `add-claude-code-review`\n3. If branch already exists, ask user if they want to overwrite it\n\n### Step 3: Clone and Embed Plugin\n\nClone the smart-code-review plugin and embed it in the repository:\n\n```bash\nmkdir -p .claude/plugins\ngit clone --depth 1 https://github.com/lostendfound/claude-plugins-marketplace.git /tmp/claude-marketplace\ncp -r /tmp/claude-marketplace/smart-code-review .claude/plugins/\nrm -rf /tmp/claude-marketplace\n```\n\n### Step 4: Create Workflow File\n\nCreate the file `.github/workflows/claude-code-review.yml` with this content:\n\n```yaml\nname: Claude Code Review\n\non:\n  pull_request:\n    types: [opened, synchronize, ready_for_review, reopened]\n\njobs:\n  claude-review:\n    if: github.event.pull_request.draft == false\n    runs-on: ubuntu-latest\n    permissions:\n      contents: read\n      pull-requests: write\n      issues: read\n      id-token: write\n\n    steps:\n      - name: Checkout repository\n        uses: actions/checkout@v4\n        with:\n          fetch-depth: 1\n\n      - name: Run Claude Code Review\n        uses: anthropics/claude-code-action@v1\n        with:\n          claude_code_oauth_token: ${{ secrets.CLAUDE_CODE_OAUTH_TOKEN }}\n          # Plugin is embedded in .claude/plugins/smart-code-review\n          prompt: \"/smart-code-review:code-review ${{ github.repository }}/pull/${{ github.event.pull_request.number }}\"\n```\n\n### Step 5: Commit and Push\n\n1. Stage all files: `git add .claude/plugins/smart-code-review .github/workflows/claude-code-review.yml`\n2. Commit with message: `feat: add Claude smart code review workflow with embedded plugin`\n3. Push the branch to origin\n\n### Step 6: Create Pull Request\n\nCreate a PR using `gh pr create` with:\n\n**Title**: `Add Claude Smart Code Review workflow`\n\n**Body**:\n```markdown\n## Summary\n\nThis PR adds an automated code review workflow using Claude Code with the smart-code-review plugin.\n\n## What's Included\n\n- **Embedded plugin** in `.claude/plugins/smart-code-review/` - no external marketplace dependencies\n- **GitHub workflow** in `.github/workflows/claude-code-review.yml`\n\n## Features\n\n- **Automatic code review** on every PR\n- **Smart re-review support** - when you push fixes, Claude will verify if previous issues were addressed\n- **CLAUDE.md compliance** - checks code against your project's guidelines\n- **80% confidence threshold** - reduces false positives\n\n## Setup Required\n\nAfter merging, add the `CLAUDE_CODE_OAUTH_TOKEN` secret to your repository:\n\n1. Go to **Settings > Secrets and variables > Actions**\n2. Click **New repository secret**\n3. Name: `CLAUDE_CODE_OAUTH_TOKEN`\n4. Value: Your Claude Code OAuth token\n\n## How It Works\n\n1. Open a PR → Claude reviews and comments\n2. Push fixes → Claude re-reviews and reports which issues are fixed\n3. All issues fixed → Claude confirms completion\n\n---\nGenerated with [Claude Code](https://claude.ai/code)\n```\n\n### Step 7: Return to Default Branch\n\nSwitch back to the default branch after creating the PR.\n\n### Step 8: Output Result\n\nTell the user:\n1. The PR was created successfully\n2. Provide the PR URL\n3. The plugin is embedded in `.claude/plugins/smart-code-review/` and will be committed with the PR\n4. Remind them to add the `CLAUDE_CODE_OAUTH_TOKEN` secret after merging\n\n## Error Handling\n\n- If workflow file already exists and user doesn't want to update, exit gracefully\n- If branch creation fails, provide clear error message\n- If PR creation fails, check if PR already exists for that branch"
              }
            ],
            "skills": []
          }
        ]
      }
    }
  ]
}