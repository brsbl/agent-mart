{
  "owner": {
    "id": "rhuss",
    "display_name": "Roland Hu√ü",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/99080?u=f8b4326f58b061c82189c7077ef4b8dd015bf78e&v=4",
    "url": "https://github.com/rhuss",
    "bio": "I'm a software engineer and\r\nüå∂ head, author of the O'Reilly book \"Kubernetes Patterns\", together w. @bibryam (k8spatterns.com). Knative, Jolokia, d-m-p",
    "stats": {
      "total_repos": 2,
      "total_plugins": 2,
      "total_commands": 1,
      "total_skills": 18,
      "total_stars": 4,
      "total_forks": 2
    }
  },
  "repos": [
    {
      "full_name": "rhuss/cc-slidev",
      "url": "https://github.com/rhuss/cc-slidev",
      "description": "Claude Code plugin for creating developer-focused technical presentations using Slidev with evidence-based design guardrails",
      "homepage": null,
      "signals": {
        "stars": 3,
        "forks": 1,
        "pushed_at": "2025-12-04T11:00:14Z",
        "created_at": "2025-12-04T10:53:37Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 800
        },
        {
          "path": ".claude",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/settings.local.json",
          "type": "blob",
          "size": 167
        },
        {
          "path": ".gitignore",
          "type": "blob",
          "size": 236
        },
        {
          "path": "LICENSE",
          "type": "blob",
          "size": 1068
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 15144
        },
        {
          "path": "agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "agents/outline-validator.md",
          "type": "blob",
          "size": 13193
        },
        {
          "path": "agents/visual-suggester.md",
          "type": "blob",
          "size": 14095
        },
        {
          "path": "commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "commands/.claude",
          "type": "tree",
          "size": null
        },
        {
          "path": "commands/.claude/settings.local.json",
          "type": "blob",
          "size": 101
        },
        {
          "path": "commands/add.md",
          "type": "blob",
          "size": 3254
        },
        {
          "path": "commands/brainstorm.md",
          "type": "blob",
          "size": 12129
        },
        {
          "path": "commands/continue.md",
          "type": "blob",
          "size": 7104
        },
        {
          "path": "commands/delete.md",
          "type": "blob",
          "size": 3462
        },
        {
          "path": "commands/diagram.md",
          "type": "blob",
          "size": 13967
        },
        {
          "path": "commands/edit.md",
          "type": "blob",
          "size": 6649
        },
        {
          "path": "commands/export.md",
          "type": "blob",
          "size": 3978
        },
        {
          "path": "commands/extract-outline.md",
          "type": "blob",
          "size": 12885
        },
        {
          "path": "commands/frame.md",
          "type": "blob",
          "size": 12280
        },
        {
          "path": "commands/generate.md",
          "type": "blob",
          "size": 22651
        },
        {
          "path": "commands/handout.md",
          "type": "blob",
          "size": 10746
        },
        {
          "path": "commands/init.md",
          "type": "blob",
          "size": 15995
        },
        {
          "path": "commands/move.md",
          "type": "blob",
          "size": 4792
        },
        {
          "path": "commands/notes.md",
          "type": "blob",
          "size": 8656
        },
        {
          "path": "commands/outline.md",
          "type": "blob",
          "size": 5495
        },
        {
          "path": "commands/preview.md",
          "type": "blob",
          "size": 2956
        },
        {
          "path": "commands/redraw-diagrams.md",
          "type": "blob",
          "size": 12023
        },
        {
          "path": "commands/visuals.md",
          "type": "blob",
          "size": 16414
        },
        {
          "path": "default.json",
          "type": "blob",
          "size": 1009
        },
        {
          "path": "plugin.json",
          "type": "blob",
          "size": 7212
        },
        {
          "path": "references",
          "type": "tree",
          "size": null
        },
        {
          "path": "references/presentation-best-practices.md",
          "type": "blob",
          "size": 18847
        },
        {
          "path": "scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "scripts/__pycache__",
          "type": "tree",
          "size": null
        },
        {
          "path": "scripts/__pycache__/manage-slides.cpython-314.pyc",
          "type": "blob",
          "size": 32128
        },
        {
          "path": "scripts/check-handout-deps.sh",
          "type": "blob",
          "size": 4860
        },
        {
          "path": "scripts/check-slidev.sh",
          "type": "blob",
          "size": 1075
        },
        {
          "path": "scripts/compile-handout.sh",
          "type": "blob",
          "size": 2139
        },
        {
          "path": "scripts/create-diagram-slug.sh",
          "type": "blob",
          "size": 1821
        },
        {
          "path": "scripts/download-image.sh",
          "type": "blob",
          "size": 2321
        },
        {
          "path": "scripts/generate-multi-platform-diagram.sh",
          "type": "blob",
          "size": 8432
        },
        {
          "path": "scripts/install-slidev.sh",
          "type": "blob",
          "size": 1162
        },
        {
          "path": "scripts/manage-slides.py",
          "type": "blob",
          "size": 33958
        },
        {
          "path": "scripts/preview-slidev.sh",
          "type": "blob",
          "size": 1144
        },
        {
          "path": "scripts/read-diagram-config.sh",
          "type": "blob",
          "size": 2166
        },
        {
          "path": "scripts/render-excalidraw.sh",
          "type": "blob",
          "size": 3463
        },
        {
          "path": "scripts/render-mermaid.sh",
          "type": "blob",
          "size": 1985
        },
        {
          "path": "scripts/render-plantuml.sh",
          "type": "blob",
          "size": 4770
        },
        {
          "path": "scripts/translate-diagram.js",
          "type": "blob",
          "size": 22087
        },
        {
          "path": "skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/diagram-design",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/diagram-design/SKILL.md",
          "type": "blob",
          "size": 11062
        },
        {
          "path": "skills/excalidraw-generation",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/excalidraw-generation/README.md",
          "type": "blob",
          "size": 11041
        },
        {
          "path": "skills/excalidraw-generation/SKILL.md",
          "type": "blob",
          "size": 31134
        },
        {
          "path": "skills/excalidraw-generation/tests",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/excalidraw-generation/tests/output-basic-flowchart.excalidraw",
          "type": "blob",
          "size": 7520
        },
        {
          "path": "skills/excalidraw-generation/tests/test-basic-flowchart.js",
          "type": "blob",
          "size": 13115
        },
        {
          "path": "skills/latex-handouts",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/latex-handouts/SKILL.md",
          "type": "blob",
          "size": 18757
        },
        {
          "path": "skills/presentation-design",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/presentation-design/SKILL.md",
          "type": "blob",
          "size": 22056
        },
        {
          "path": "skills/slide-management",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/slide-management/SKILL.md",
          "type": "blob",
          "size": 20085
        },
        {
          "path": "skills/slide-quality",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/slide-quality/SKILL.md",
          "type": "blob",
          "size": 15340
        },
        {
          "path": "skills/slidev-mastery",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/slidev-mastery/SKILL.md",
          "type": "blob",
          "size": 14018
        },
        {
          "path": "skills/visual-design",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/visual-design/SKILL.md",
          "type": "blob",
          "size": 18230
        },
        {
          "path": "tests",
          "type": "tree",
          "size": null
        },
        {
          "path": "tests/public",
          "type": "tree",
          "size": null
        },
        {
          "path": "tests/public/images",
          "type": "tree",
          "size": null
        },
        {
          "path": "tests/public/images/slide-3-3--device-plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "tests/public/images/slide-3-3--device-plugins/diagram-plantuml.svg",
          "type": "blob",
          "size": 2562
        },
        {
          "path": "tests/public/images/slide-3-3--device-plugins/diagram.excalidraw",
          "type": "blob",
          "size": 6420
        },
        {
          "path": "tests/public/images/slide-3-3--device-plugins/diagram.mmd",
          "type": "blob",
          "size": 110
        },
        {
          "path": "tests/public/images/slide-3-3--device-plugins/diagram.puml",
          "type": "blob",
          "size": 191
        },
        {
          "path": "tests/test-diagram-workflow.md",
          "type": "blob",
          "size": 3767
        },
        {
          "path": "tests/test-slides.md",
          "type": "blob",
          "size": 693
        },
        {
          "path": "tests/workflow-verification.md",
          "type": "blob",
          "size": 8516
        }
      ],
      "marketplace": {
        "name": "slidev-dev-marketplace",
        "version": "1.0.0",
        "description": "Local development marketplace for slidev plugin",
        "owner_info": {
          "name": "Roland Huss"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "slidev",
            "description": "Evidence-based presentation creation workflow using Slidev - from brainstorming to handout generation. Features research-backed design principles, 11 interactive commands, 4 specialized skills, and 3 validation agents for creating professional, accessible presentations.",
            "source": "./",
            "category": "productivity",
            "version": "0.1.0",
            "author": {
              "name": "Roland Huss",
              "email": "cc-slidev@ro14nd.de"
            },
            "install_commands": [
              "/plugin marketplace add rhuss/cc-slidev",
              "/plugin install slidev@slidev-dev-marketplace"
            ],
            "signals": {
              "stars": 3,
              "forks": 1,
              "pushed_at": "2025-12-04T11:00:14Z",
              "created_at": "2025-12-04T10:53:37Z",
              "license": "MIT"
            },
            "commands": [],
            "skills": [
              {
                "name": "Excalidraw Generation",
                "description": "This skill should be used when the user asks to \"create excalidraw diagram\", \"generate excalidraw\", \"hand-drawn diagram\", \"sketch diagram\", \"whiteboard style diagram\", or when informal, spatial, annotated diagrams would best convey conceptual relationships. Expert in both presentation design AND artistic Excalidraw JSON creation.",
                "path": "skills/excalidraw-generation/SKILL.md",
                "frontmatter": {
                  "name": "Excalidraw Generation",
                  "description": "This skill should be used when the user asks to \"create excalidraw diagram\", \"generate excalidraw\", \"hand-drawn diagram\", \"sketch diagram\", \"whiteboard style diagram\", or when informal, spatial, annotated diagrams would best convey conceptual relationships. Expert in both presentation design AND artistic Excalidraw JSON creation.",
                  "version": "1.0.0"
                },
                "content": "# Excalidraw Generation Expert\n\n**Core Philosophy**: Semantic redesign, not mechanical conversion. Think like both a presentation designer (clarity, accessibility, simplicity) and an artist (creative visual expression, spatial design, aesthetic beauty).\n\n## CRITICAL - Rendering Rule\n\n**ALWAYS use render-excalidraw.sh for SVG conversion - NO EXCEPTIONS**\n\nAfter creating Excalidraw JSON:\n1. Save JSON to `diagrams/<slug>.excalidraw`\n2. **MUST** render using: `${CLAUDE_PLUGIN_ROOT}/scripts/render-excalidraw.sh`\n3. NEVER attempt manual SVG conversion\n4. NEVER embed JSON in markdown - only reference the rendered SVG\n\nThe script handles all rendering automatically with excalidraw-brute-export-cli.\n\n## When to Use This Skill\n\n**Auto-trigger when:**\n- User explicitly requests: \"create excalidraw diagram\", \"hand-drawn diagram\", \"sketch\", \"whiteboard\"\n- Slide content suggests conceptual/spatial relationships\n- Architecture with nested components\n- Brainstorming/ideation context\n- Informal, approachable style needed\n- Annotations and callouts would add value\n\n**Diagram type suitability:**\n- ‚úÖ‚úÖ‚úÖ BEST: Conceptual relationships, architecture diagrams, mind maps, timelines, comparisons\n- ‚úÖ‚úÖ EXCELLENT: Flowcharts (with annotations), spatial layouts, nested structures\n- ‚ö†Ô∏è OKAY: Sequence diagrams (prefer Mermaid instead)\n- ‚ùå NOT RECOMMENDED: Formal UML (use PlantUML), state machines (use Mermaid)\n\n## Evidence-Based Design Constraints (HARD LIMITS)\n\nThese constraints are NON-NEGOTIABLE. Enforce strictly:\n\n- **Cognitive load**: Maximum 9 elements (7¬±2 rule from cognitive psychology)\n- **Accessibility**:\n  - Colorblind-safe palette ONLY: Blue #3b82f6 + Orange #f97316\n  - Minimum 4.5:1 contrast ratio for all text (WCAG AA)\n  - Never rely on color alone to convey information\n- **Minimal text**: Under 50 words total per diagram\n- **One idea per diagram**: If concept is complex, split into multiple diagrams\n- **Hand-drawn aesthetic**: Roughness 1 for informal feel\n\n## Core Capabilities\n\n### 1. Semantic Concept Extraction\n\n**Process** (ALWAYS follow this order):\n\n1. **Analyze user's description or slide content**\n2. **Extract core concepts** (entities, relationships, flows)\n3. **Identify semantic type**:\n   - **Containment**: X contains Y ‚Üí Use nested boxes/frames\n   - **Flow**: A‚ÜíB‚ÜíC ‚Üí Use arrows with spatial progression\n   - **Comparison**: X vs Y ‚Üí Use side-by-side separation\n   - **Hierarchy**: Parent-child ‚Üí Use vertical/spatial positioning\n   - **Grouping**: Related items ‚Üí Use frames or color-coded regions\n   - **Annotation**: Context/explanation ‚Üí Use callouts and bound text\n\n4. **Design layout** (choose from layout algorithms below)\n5. **Generate JSON** (use element factories below)\n\n**Example**:\n```\nInput: \"Kubernetes device plugin architecture\"\n\nSemantic analysis:\n- Type: Architecture + Flow\n- Key concepts: Control Plane (container), Worker Node (container),\n                GPU (component), Device Plugin (component), Kubelet (component)\n- Relationships: Discovery flow, Registration flow, Capacity updates\n- Spatial meaning: Control Plane ABOVE Worker Node (hierarchy)\n\nDesign choice: Vertical layout with 2 frames, 5 shapes, 3 arrows, 3 annotations\nCognitive load: 2 frames + 5 shapes = 7 units ‚úì\n```\n\n### 2. Element Factories\n\nThese functions generate valid Excalidraw JSON elements. Use them to build diagrams.\n\n#### ID Generation\n\n```javascript\nfunction generateId() {\n  // Excalidraw uses random alphanumeric IDs (12+ chars)\n  return Math.random().toString(36).substring(2, 15) +\n         Math.random().toString(36).substring(2, 15);\n}\n```\n\n#### Rectangle Factory\n\n```javascript\nfunction createRectangle(x, y, width, height, text = null, options = {}) {\n  const id = generateId();\n\n  const element = {\n    type: \"rectangle\",\n    version: 1,\n    versionNonce: Math.floor(Math.random() * 1000000),\n    isDeleted: false,\n    id: id,\n    fillStyle: options.fillStyle || \"hachure\",\n    strokeWidth: options.strokeWidth || 2,\n    strokeStyle: \"solid\",\n    roughness: options.roughness !== undefined ? options.roughness : 1,\n    opacity: 100,\n    angle: options.angle || 0,\n    x: x,\n    y: y,\n    strokeColor: options.strokeColor || THEME_COLORS.primary,\n    backgroundColor: options.backgroundColor || \"transparent\",\n    width: width,\n    height: height,\n    seed: Math.floor(Math.random() * 1000000),\n    groupIds: options.groupIds || [],\n    frameId: options.frameId || null,\n    roundness: { type: 3 },\n    boundElements: [],\n    updated: Date.now(),\n    link: null,\n    locked: false\n  };\n\n  // If text provided, create bound text element\n  if (text) {\n    const textElement = createBoundText(text, id, x, y, width, height);\n    element.boundElements.push({ type: \"text\", id: textElement.id });\n    return [element, textElement];  // Return array\n  }\n\n  return element;  // Return single element\n}\n```\n\n#### Text Factory (Standalone and Bound)\n\n```javascript\nfunction createText(text, x, y, options = {}) {\n  return {\n    type: \"text\",\n    version: 1,\n    versionNonce: Math.floor(Math.random() * 1000000),\n    isDeleted: false,\n    id: options.id || generateId(),\n    fillStyle: \"hachure\",\n    strokeWidth: 1,\n    strokeStyle: \"solid\",\n    roughness: 0,  // Text is always smooth\n    opacity: 100,\n    angle: 0,\n    x: x,\n    y: y,\n    strokeColor: options.strokeColor || THEME_COLORS.text,\n    backgroundColor: \"transparent\",\n    width: options.width || 200,\n    height: options.height || 25,\n    seed: Math.floor(Math.random() * 1000000),\n    groupIds: options.groupIds || [],\n    frameId: options.frameId || null,\n    roundness: null,\n    boundElements: [],\n    updated: Date.now(),\n    link: null,\n    locked: false,\n    fontSize: options.fontSize || 20,\n    fontFamily: 1,  // 1 = Excalifont/Virgil (hand-drawn), 2 = Helvetica, 3 = Cascadia\n    text: text,\n    textAlign: options.textAlign || \"center\",\n    verticalAlign: options.verticalAlign || \"middle\",\n    containerId: options.containerId || null,\n    originalText: text,\n    lineHeight: 1.25,\n    baseline: 18\n  };\n}\n\n// Font family mapping for reference:\n// fontFamily: 1 ‚Üí Excalifont/Virgil (hand-drawn, default for Excalidraw aesthetic)\n// fontFamily: 2 ‚Üí Helvetica (clean, modern)\n// fontFamily: 3 ‚Üí Cascadia (monospace, code)\n// When rendering to SVG: font-family: 'Excalifont', 'Virgil', cursive, sans-serif\n\n\nfunction createBoundText(text, containerId, containerX, containerY, containerWidth, containerHeight) {\n  // Calculate centered position inside container\n  const textWidth = Math.min(containerWidth - 20, 200);\n  const textHeight = 25;\n  const textX = containerX + (containerWidth - textWidth) / 2;\n  const textY = containerY + (containerHeight - textHeight) / 2;\n\n  return createText(text, textX, textY, {\n    width: textWidth,\n    height: textHeight,\n    containerId: containerId,\n    textAlign: \"center\",\n    verticalAlign: \"middle\"\n  });\n}\n```\n\n#### Arrow Factory\n\n```javascript\nfunction createArrow(startX, startY, endX, endY, options = {}) {\n  const points = [\n    [0, 0],  // Start point (relative to x, y)\n    [endX - startX, endY - startY]  // End point (relative)\n  ];\n\n  return {\n    type: \"arrow\",\n    version: 1,\n    versionNonce: Math.floor(Math.random() * 1000000),\n    isDeleted: false,\n    id: generateId(),\n    fillStyle: \"hachure\",\n    strokeWidth: options.strokeWidth || 2,\n    strokeStyle: \"solid\",\n    roughness: options.roughness !== undefined ? options.roughness : 1,\n    opacity: 100,\n    angle: 0,\n    x: startX,\n    y: startY,\n    strokeColor: options.strokeColor || THEME_COLORS.neutral,\n    backgroundColor: \"transparent\",\n    width: Math.abs(endX - startX),\n    height: Math.abs(endY - startY),\n    seed: Math.floor(Math.random() * 1000000),\n    groupIds: options.groupIds || [],\n    frameId: options.frameId || null,\n    roundness: { type: 2 },\n    boundElements: [],\n    updated: Date.now(),\n    link: null,\n    locked: false,\n    startBinding: options.startBinding || null,\n    endBinding: options.endBinding || null,\n    lastCommittedPoint: null,\n    startArrowhead: null,\n    endArrowhead: \"arrow\",\n    points: points\n  };\n}\n```\n\n#### Frame Factory (Containers)\n\n```javascript\nfunction createFrame(x, y, width, height, name, options = {}) {\n  return {\n    type: \"frame\",\n    version: 1,\n    versionNonce: Math.floor(Math.random() * 1000000),\n    isDeleted: false,\n    id: generateId(),\n    fillStyle: \"hachure\",\n    strokeWidth: 2,\n    strokeStyle: \"solid\",\n    roughness: 0,  // Frames are clean, not hand-drawn\n    opacity: 100,\n    angle: 0,\n    x: x,\n    y: y,\n    strokeColor: options.strokeColor || THEME_COLORS.neutral,\n    backgroundColor: options.backgroundColor || THEME_COLORS.light_bg,\n    width: width,\n    height: height,\n    seed: Math.floor(Math.random() * 1000000),\n    groupIds: [],\n    frameId: null,\n    roundness: null,\n    boundElements: [],\n    updated: Date.now(),\n    link: null,\n    locked: false,\n    name: name\n  };\n}\n```\n\n#### Ellipse Factory\n\n```javascript\nfunction createEllipse(x, y, width, height, text = null, options = {}) {\n  const id = generateId();\n\n  const element = {\n    type: \"ellipse\",\n    version: 1,\n    versionNonce: Math.floor(Math.random() * 1000000),\n    isDeleted: false,\n    id: id,\n    fillStyle: options.fillStyle || \"hachure\",\n    strokeWidth: options.strokeWidth || 2,\n    strokeStyle: \"solid\",\n    roughness: options.roughness !== undefined ? options.roughness : 1,\n    opacity: 100,\n    angle: 0,\n    x: x,\n    y: y,\n    strokeColor: options.strokeColor || THEME_COLORS.primary,\n    backgroundColor: options.backgroundColor || \"transparent\",\n    width: width,\n    height: height,\n    seed: Math.floor(Math.random() * 1000000),\n    groupIds: options.groupIds || [],\n    frameId: options.frameId || null,\n    roundness: null,\n    boundElements: [],\n    updated: Date.now(),\n    link: null,\n    locked: false\n  };\n\n  if (text) {\n    const textElement = createBoundText(text, id, x, y, width, height);\n    element.boundElements.push({ type: \"text\", id: textElement.id });\n    return [element, textElement];\n  }\n\n  return element;\n}\n```\n\n#### Callout Factory (Annotation)\n\n```javascript\nfunction createCallout(targetX, targetY, text, direction = \"top-right\") {\n  const offsets = {\n    \"top-right\": { dx: 100, dy: -80 },\n    \"top-left\": { dx: -100, dy: -80 },\n    \"bottom-right\": { dx: 100, dy: 80 },\n    \"bottom-left\": { dx: -100, dy: 80 }\n  };\n\n  const offset = offsets[direction];\n  const textX = targetX + offset.dx;\n  const textY = targetY + offset.dy;\n\n  const calloutText = createText(text, textX, textY, {\n    fontSize: 16,\n    strokeColor: THEME_COLORS.accent\n  });\n\n  const arrow = createArrow(textX, textY + 12, targetX, targetY, {\n    strokeColor: THEME_COLORS.accent,\n    strokeWidth: 1.5\n  });\n\n  // Group them together\n  const groupId = generateId();\n  calloutText.groupIds.push(groupId);\n  arrow.groupIds.push(groupId);\n\n  return [calloutText, arrow];\n}\n```\n\n### 3. Layout Algorithms\n\n#### Layout Constants\n\n```javascript\nconst LAYOUT = {\n  MARGIN: 50,          // Canvas edge margin\n  PADDING: 40,         // Between elements\n  NODE_WIDTH: 180,     // Standard node width\n  NODE_HEIGHT: 80,     // Standard node height\n  ARROW_GAP: 10        // Gap for arrow binding\n};\n```\n\n#### Horizontal Flow Layout\n\n```javascript\nfunction layoutHorizontalFlow(nodes) {\n  // Left-to-right progression\n  const positions = [];\n  let currentX = LAYOUT.MARGIN;\n  const baseY = 200;  // Vertical center\n\n  nodes.forEach((node, index) => {\n    positions.push({\n      x: currentX,\n      y: baseY,\n      width: LAYOUT.NODE_WIDTH,\n      height: LAYOUT.NODE_HEIGHT,\n      text: node\n    });\n    currentX += LAYOUT.NODE_WIDTH + LAYOUT.PADDING;\n  });\n\n  return positions;\n}\n```\n\n#### Vertical Flow Layout\n\n```javascript\nfunction layoutVerticalFlow(nodes) {\n  // Top-to-bottom progression\n  const positions = [];\n  const baseX = 300;  // Horizontal center\n  let currentY = LAYOUT.MARGIN;\n\n  nodes.forEach((node, index) => {\n    positions.push({\n      x: baseX,\n      y: currentY,\n      width: LAYOUT.NODE_WIDTH,\n      height: LAYOUT.NODE_HEIGHT,\n      text: node\n    });\n    currentY += LAYOUT.NODE_HEIGHT + LAYOUT.PADDING;\n  });\n\n  return positions;\n}\n```\n\n#### Radial Layout (Mind Map)\n\n```javascript\nfunction layoutRadial(centerNode, childNodes) {\n  const positions = [];\n  const centerX = 400;\n  const centerY = 300;\n  const radius = 200;\n\n  // Center node\n  positions.push({\n    x: centerX - LAYOUT.NODE_WIDTH / 2,\n    y: centerY - LAYOUT.NODE_HEIGHT / 2,\n    width: LAYOUT.NODE_WIDTH,\n    height: LAYOUT.NODE_HEIGHT,\n    text: centerNode\n  });\n\n  // Child nodes in circle\n  const angleStep = (2 * Math.PI) / childNodes.length;\n  childNodes.forEach((node, index) => {\n    const angle = index * angleStep;\n    const x = centerX + radius * Math.cos(angle) - LAYOUT.NODE_WIDTH / 2;\n    const y = centerY + radius * Math.sin(angle) - LAYOUT.NODE_HEIGHT / 2;\n\n    positions.push({\n      x: x,\n      y: y,\n      width: LAYOUT.NODE_WIDTH,\n      height: LAYOUT.NODE_HEIGHT,\n      text: node\n    });\n  });\n\n  return positions;\n}\n```\n\n### 4. Connection Binding Logic\n\n#### Create Binding Point\n\n```javascript\nfunction createBindingPoint(shapeId, shapeX, shapeY, shapeWidth, shapeHeight, side) {\n  // side: \"top\", \"bottom\", \"left\", \"right\"\n  let focus = { x: 0, y: 0 };\n\n  switch(side) {\n    case \"right\":\n      focus = { x: 1, y: 0 };  // Right edge, centered\n      break;\n    case \"left\":\n      focus = { x: -1, y: 0 };  // Left edge, centered\n      break;\n    case \"bottom\":\n      focus = { x: 0, y: 1 };  // Bottom edge, centered\n      break;\n    case \"top\":\n      focus = { x: 0, y: -1 };  // Top edge, centered\n      break;\n  }\n\n  return {\n    elementId: shapeId,\n    focus: focus,\n    gap: LAYOUT.ARROW_GAP\n  };\n}\n```\n\n#### Connect Shapes Horizontally\n\n```javascript\nfunction connectShapesHorizontal(shapeA, shapeB) {\n  // Bind arrow from right edge of A to left edge of B\n  const startX = shapeA.x + shapeA.width;\n  const startY = shapeA.y + shapeA.height / 2;\n  const endX = shapeB.x;\n  const endY = shapeB.y + shapeB.height / 2;\n\n  return createArrow(startX, startY, endX, endY, {\n    startBinding: createBindingPoint(shapeA.id, shapeA.x, shapeA.y, shapeA.width, shapeA.height, \"right\"),\n    endBinding: createBindingPoint(shapeB.id, shapeB.x, shapeB.y, shapeB.width, shapeB.height, \"left\")\n  });\n}\n```\n\n### 5. Color Palette (Colorblind-Safe)\n\n```javascript\nconst THEME_COLORS = {\n  primary: \"#3b82f6\",      // Blue (8.6:1 contrast) - Main shapes\n  secondary: \"#f97316\",    // Orange (3.4:1, ‚â•24pt only) - Emphasis\n  neutral: \"#6b7280\",      // Gray - Arrows, frames\n  text: \"#1f2937\",         // Dark gray (16.1:1 contrast) - ALL text\n  background: \"#ffffff\",   // White canvas\n  accent: \"#8b5cf6\",       // Purple - Annotations\n  light_bg: \"#f3f4f6\"      // Light gray - Frame fills\n};\n```\n\n**Color Usage Rules**:\n- Primary shapes: Blue stroke, transparent or light fill\n- Emphasis shapes: Orange stroke (use sparingly)\n- Containers/frames: Gray stroke, light gray fill\n- Arrows: Gray (neutral, never distracting)\n- **All text**: Dark gray #1f2937 (maximum readability)\n- Annotations: Purple for visual distinction\n\n### 6. Validation Functions\n\n#### JSON Structure Validation\n\n```javascript\nfunction validateExcalidrawJSON(json) {\n  const errors = [];\n\n  // Check required top-level fields\n  if (json.type !== \"excalidraw\") {\n    errors.push(\"Missing or invalid 'type' (must be 'excalidraw')\");\n  }\n  if (json.version !== 2) {\n    errors.push(\"Version should be 2\");\n  }\n  if (!Array.isArray(json.elements)) {\n    errors.push(\"'elements' must be array\");\n  }\n  if (typeof json.appState !== \"object\") {\n    errors.push(\"'appState' must be object\");\n  }\n\n  // Validate each element\n  json.elements.forEach((element, index) => {\n    if (!element.id) errors.push(`Element ${index} missing 'id'`);\n    if (!element.type) errors.push(`Element ${index} missing 'type'`);\n    if (typeof element.x !== \"number\") errors.push(`Element ${index} missing 'x'`);\n    if (typeof element.y !== \"number\") errors.push(`Element ${index} missing 'y'`);\n\n    // Check bound text references\n    if (element.boundElements) {\n      element.boundElements.forEach(bound => {\n        if (bound.type === \"text\") {\n          const textElement = json.elements.find(e => e.id === bound.id);\n          if (!textElement) {\n            errors.push(`Bound text ${bound.id} not found`);\n          }\n          if (textElement && textElement.containerId !== element.id) {\n            errors.push(`Bound text ${bound.id} containerId mismatch`);\n          }\n        }\n      });\n    }\n\n    // Check arrow bindings\n    if (element.type === \"arrow\") {\n      if (element.startBinding && element.startBinding.elementId) {\n        const target = json.elements.find(e => e.id === element.startBinding.elementId);\n        if (!target) {\n          errors.push(`Arrow ${element.id} startBinding target not found`);\n        }\n      }\n      if (element.endBinding && element.endBinding.elementId) {\n        const target = json.elements.find(e => e.id === element.endBinding.elementId);\n        if (!target) {\n          errors.push(`Arrow ${element.id} endBinding target not found`);\n        }\n      }\n    }\n  });\n\n  return {\n    valid: errors.length === 0,\n    errors: errors\n  };\n}\n```\n\n#### Cognitive Load Validation\n\n```javascript\nfunction countCognitiveElements(json) {\n  // Count distinct visual concepts (not total elements)\n  const cognitiveUnits = {\n    shapes: 0,\n    arrows: 0,\n    annotations: 0,\n    frames: 0\n  };\n\n  const groupedElements = new Set();\n\n  json.elements.forEach(element => {\n    // Skip if part of counted group\n    if (element.groupIds && element.groupIds.length > 0) {\n      if (groupedElements.has(element.groupIds[0])) {\n        return;  // Already counted\n      }\n      groupedElements.add(element.groupIds[0]);\n    }\n\n    // Skip bound text (counted with parent)\n    if (element.containerId) return;\n\n    switch(element.type) {\n      case \"rectangle\":\n      case \"ellipse\":\n      case \"diamond\":\n        cognitiveUnits.shapes++;\n        break;\n      case \"arrow\":\n      case \"line\":\n        cognitiveUnits.arrows++;\n        break;\n      case \"text\":\n        cognitiveUnits.annotations++;\n        break;\n      case \"frame\":\n        cognitiveUnits.frames++;\n        break;\n    }\n  });\n\n  const total = cognitiveUnits.shapes +\n                cognitiveUnits.arrows +\n                cognitiveUnits.annotations +\n                cognitiveUnits.frames;\n\n  return {\n    breakdown: cognitiveUnits,\n    total: total,\n    withinLimit: total <= 9,  // 7¬±2 rule\n    recommendation: total > 9 ? \"SPLIT into multiple diagrams\" : \"Good\"\n  };\n}\n```\n\n### 7. Assembly Function\n\n```javascript\nfunction assembleExcalidrawJSON(elements) {\n  return {\n    type: \"excalidraw\",\n    version: 2,\n    source: \"https://excalidraw.com\",\n    elements: elements,\n    appState: {\n      viewBackgroundColor: THEME_COLORS.background,\n      gridSize: null,\n      theme: \"light\"\n    },\n    files: {}\n  };\n}\n```\n\n## Interactive Workflow\n\nFollow this workflow when generating diagrams:\n\n### Step 1: Analyze Concept\n\nAsk the user (if not clear from context):\n1. What's the main concept to convey?\n2. Who's the audience? (beginners, experts, mixed)\n3. Should this be formal or informal?\n4. Are there specific relationships/flows to highlight?\n\n### Step 2: Design Proposal\n\nShow the user your design approach:\n\n```\n## Diagram Analysis\n\nSemantic type: [Architecture/Flow/Mind Map/etc.]\nBest platform: Excalidraw\n\nDesign approach:\n- Layout: [Horizontal/Vertical/Radial]\n- Elements: [List main shapes and their purpose]\n- Frames: [If using containers]\n- Arrows: [Key flows to show]\n- Annotations: [Callouts for context]\n- Hand-drawn aesthetic: roughness 1\n- Colors: Colorblind-safe blue/orange\n\nElement count: [N] shapes + [M] arrows + [P] annotations = [Total]\nGrouped into [X] logical units ‚Üí within cognitive limit ‚úì / ‚ö†Ô∏è OVER LIMIT\n```\n\n### Step 3: Show ASCII Preview\n\nShow a text-based preview:\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ  Container Name                 ‚îÇ\n‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ\n‚îÇ  ‚îÇ Shape A  ‚îÇ‚îÄ‚îÄ‚îÄ‚Üí‚îÇ Shape B  ‚îÇ  ‚îÇ\n‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n     ‚Üë \"Annotation explaining flow\"\n```\n\nAsk: \"Proceed with JSON generation?\"\n\n### Step 4: Generate JSON\n\n1. Create frames (if needed)\n2. Create shapes with bound text\n3. Position using layout algorithm\n4. Create arrows with bindings\n5. Add annotation callouts\n6. Apply grouping (if needed)\n7. Assemble final JSON\n8. Validate structure\n9. Check cognitive load\n10. Save to file\n\n### Step 5: Save and Render\n\nFile structure:\n```\ndiagrams/\n  ‚îî‚îÄ‚îÄ <slide-title-slug>.excalidraw    # JSON source (editable)\n\npublic/images/<slide-title-slug>/\n  ‚îî‚îÄ‚îÄ diagram-excalidraw.svg           # Rendered SVG (for slide)\n```\n\n**IMPORTANT**: Always save source files to `./diagrams/` directory.\n\n**CRITICAL - Rendering Process:**\n\n1. **Save JSON**: Use Write tool to save JSON to `diagrams/<slug>.excalidraw`\n\n2. **Render to SVG**: ALWAYS use `render-excalidraw.sh` script - NEVER attempt manual rendering:\n   ```bash\n   ${CLAUDE_PLUGIN_ROOT}/scripts/render-excalidraw.sh \\\n     diagrams/<slug>.excalidraw \\\n     public/images/<slug>/diagram-excalidraw.svg\n   ```\n\n3. **Script handles**: The script automatically:\n   - Installs excalidraw-brute-export-cli if missing\n   - Installs playwright chromium dependencies\n   - Renders with correct parameters (--background 1, --embed-scene 0, etc.)\n   - Ensures proper font rendering (Excalifont ‚Üí Virgil ‚Üí cursive ‚Üí sans-serif)\n\n**DO NOT** attempt to render Excalidraw any other way. ALWAYS use the script.\n\n### Step 6: Offer Iterations\n\n```\n‚úÖ Excalidraw Diagram Generated!\n\nSource: diagrams/<slug>.excalidraw\nRendered: public/images/<slug>/diagram-excalidraw.svg\n\nEdit online: https://excalidraw.com (drag diagrams/<slug>.excalidraw file)\n\nAfter editing, re-render with:\n${CLAUDE_PLUGIN_ROOT}/scripts/render-excalidraw.sh \\\n  diagrams/<slug>.excalidraw \\\n  public/images/<slug>/diagram-excalidraw.svg\n\nRefinement options:\n- Adjust layout (horizontal ‚Üî vertical)\n- Add more annotations\n- Change colors/emphasis\n- Simplify (remove elements)\n- Add more detail\n\nWhat would you like to adjust?\n```\n\n## Example Generation: Architecture Diagram\n\n**Input**: \"Show Kubernetes device plugin architecture\"\n\n**Step 1: Semantic Analysis**\n\n```\nType: Architecture + Flow\nConcepts:\n- Control Plane (container) - top\n- Worker Node (container) - bottom\n- Inside Worker Node: GPU, Device Plugin, Kubelet\n- Flow: Discovery ‚Üí Registration ‚Üí Capacity Updates\n\nLayout: Vertical (hierarchy)\nElement count: 2 frames + 5 shapes + 3 arrows + 2 annotations = 12 base\nBUT: Grouped into 2 logical units (control plane, worker node) = 7 cognitive units ‚úì\n```\n\n**Step 2: JSON Generation**\n\n```javascript\nconst elements = [];\n\n// Create frames\nconst controlPlaneFrame = createFrame(50, 50, 700, 200, \"Control Plane\");\nconst workerNodeFrame = createFrame(50, 300, 700, 300, \"Worker Node\");\nelements.push(controlPlaneFrame, workerNodeFrame);\n\n// Control plane components\nconst [scheduler, schedulerText] = createRectangle(100, 100, 180, 80, \"Scheduler\", {\n  frameId: controlPlaneFrame.id,\n  strokeColor: THEME_COLORS.primary\n});\nconst [apiServer, apiServerText] = createRectangle(400, 100, 180, 80, \"API Server\", {\n  frameId: controlPlaneFrame.id,\n  strokeColor: THEME_COLORS.primary\n});\nelements.push(scheduler, schedulerText, apiServer, apiServerText);\n\n// Worker node components\nconst [gpu, gpuText] = createRectangle(100, 350, 180, 80, \"GPU 0\\nGPU 1\", {\n  frameId: workerNodeFrame.id,\n  strokeColor: THEME_COLORS.secondary  // Orange for emphasis\n});\nconst [plugin, pluginText] = createRectangle(350, 350, 180, 80, \"Device Plugin\", {\n  frameId: workerNodeFrame.id,\n  strokeColor: THEME_COLORS.primary\n});\nconst [kubelet, kubeletText] = createRectangle(350, 480, 180, 80, \"Kubelet\", {\n  frameId: workerNodeFrame.id,\n  strokeColor: THEME_COLORS.primary\n});\nelements.push(gpu, gpuText, plugin, pluginText, kubelet, kubeletText);\n\n// Arrows with bindings\nconst arrow1 = connectShapesHorizontal(gpu, plugin);  // Discovery\nconst arrow2 = createArrow(\n  plugin.x + plugin.width / 2, plugin.y + plugin.height,\n  kubelet.x + kubelet.width / 2, kubelet.y,\n  {\n    startBinding: createBindingPoint(plugin.id, plugin.x, plugin.y, plugin.width, plugin.height, \"bottom\"),\n    endBinding: createBindingPoint(kubelet.id, kubelet.x, kubelet.y, kubelet.width, kubelet.height, \"top\")\n  }\n);\nconst arrow3 = createArrow(\n  kubelet.x + kubelet.width / 2, kubelet.y,\n  apiServer.x + apiServer.width / 2, apiServer.y + apiServer.height,\n  {\n    startBinding: createBindingPoint(kubelet.id, kubelet.x, kubelet.y, kubelet.width, kubelet.height, \"top\"),\n    endBinding: createBindingPoint(apiServer.id, apiServer.x, apiServer.y, apiServer.width, apiServer.height, \"bottom\")\n  }\n);\nelements.push(arrow1, arrow2, arrow3);\n\n// Annotations\nconst [annotation1Text, annotation1Arrow] = createCallout(\n  plugin.x + plugin.width, plugin.y + plugin.height / 2,\n  \"Your code\",\n  \"top-right\"\n);\nconst [annotation2Text, annotation2Arrow] = createCallout(\n  scheduler.x + scheduler.width / 2, scheduler.y,\n  \"Now aware!\",\n  \"top-left\"\n);\nelements.push(annotation1Text, annotation1Arrow, annotation2Text, annotation2Arrow);\n\n// Assemble and validate\nconst json = assembleExcalidrawJSON(elements);\nconst validation = validateExcalidrawJSON(json);\nconst cognitiveCheck = countCognitiveElements(json);\n\nif (!validation.valid) {\n  console.error(\"Validation errors:\", validation.errors);\n  // Fix or abort\n}\n\nif (!cognitiveCheck.withinLimit) {\n  console.warn(`Cognitive overload: ${cognitiveCheck.total} elements`);\n  // Suggest splitting\n}\n\n// Save to file (source goes in diagrams/)\nconst filePath = \"diagrams/device-plugin-architecture.excalidraw\";\nwriteFile(filePath, JSON.stringify(json, null, 2));\n```\n\n## Diagram Type Patterns\n\n### Flowchart Pattern\n\n```javascript\n// Horizontal left-to-right flow\nconst nodes = [\"Start\", \"Process\", \"Transform\", \"Output\", \"End\"];\nconst positions = layoutHorizontalFlow(nodes);\nconst elements = [];\n\n// Create shapes\nconst shapes = positions.map(pos => {\n  const [rect, text] = createRectangle(pos.x, pos.y, pos.width, pos.height, pos.text);\n  elements.push(rect, text);\n  return rect;\n});\n\n// Connect with arrows\nfor (let i = 0; i < shapes.length - 1; i++) {\n  const arrow = connectShapesHorizontal(shapes[i], shapes[i + 1]);\n  elements.push(arrow);\n}\n\n// Add annotation at critical step\nconst [calloutText, calloutArrow] = createCallout(\n  shapes[2].x + shapes[2].width / 2,\n  shapes[2].y + shapes[2].height,\n  \"Key transformation!\",\n  \"bottom-right\"\n);\nelements.push(calloutText, calloutArrow);\n```\n\n### Mind Map Pattern\n\n```javascript\n// Radial layout from center\nconst centerConcept = \"GPU Scheduling\";\nconst branches = [\"Device Plugin\", \"MIG\", \"Time-Slicing\", \"MPS\", \"Virtual GPUs\"];\n\nconst positions = layoutRadial(centerConcept, branches);\nconst elements = [];\n\n// Center ellipse\nconst [centerEllipse, centerText] = createEllipse(\n  positions[0].x, positions[0].y,\n  positions[0].width, positions[0].height,\n  centerConcept,\n  { strokeColor: THEME_COLORS.secondary, strokeWidth: 3 }\n);\nelements.push(centerEllipse, centerText);\n\n// Branch ellipses with arrows\nfor (let i = 1; i < positions.length; i++) {\n  const [ellipse, text] = createEllipse(\n    positions[i].x, positions[i].y,\n    positions[i].width, positions[i].height,\n    positions[i].text\n  );\n  elements.push(ellipse, text);\n\n  // Arrow from center to branch\n  const arrow = createArrow(\n    centerEllipse.x + centerEllipse.width / 2,\n    centerEllipse.y + centerEllipse.height / 2,\n    ellipse.x + ellipse.width / 2,\n    ellipse.y + ellipse.height / 2\n  );\n  elements.push(arrow);\n}\n```\n\n## Quality Checklist\n\nBefore saving any diagram, verify:\n\n- [ ] **Cognitive load**: ‚â§9 elements total\n- [ ] **Colors**: Only approved palette (blue, orange, gray, purple)\n- [ ] **Contrast**: All text uses #1f2937 on white background\n- [ ] **Text**: Under 50 words total\n- [ ] **Bindings**: All arrows have startBinding and endBinding\n- [ ] **Bound text**: All text has correct containerId\n- [ ] **JSON valid**: Passes validateExcalidrawJSON()\n- [ ] **One idea**: Diagram conveys single clear concept\n- [ ] **Frames**: Used for containers/boundaries where appropriate\n- [ ] **Hand-drawn**: Roughness 1 for shapes (0 for frames and text)\n\n## Error Handling\n\n**If JSON generation fails:**\n1. Log error details\n2. Attempt to fix (adjust positions, fix bindings)\n3. If unfixable: offer simpler design or Mermaid fallback\n4. Always save JSON even if rendering fails (user can edit at excalidraw.com)\n\n**If cognitive load exceeded:**\n1. Warn user: \"Diagram has X elements (limit: 9)\"\n2. Suggest: \"Split into 2 diagrams\" or \"Use progressive disclosure\"\n3. Ask user to approve anyway or redesign\n\n**If validation fails:**\n1. Show specific errors\n2. Attempt auto-fix for common issues\n3. If critical: abort and redesign\n\n## Integration Points\n\n### With /slidev:diagram Command\n\nWhen diagram command analyzes a slide and determines Excalidraw is best fit:\n\n```\nInvoke Skill tool: skill: \"slidev:excalidraw-generation\"\n```\n\nThe skill will take over generation process.\n\n### Auto-Suggestion Logic\n\nMonitor for these triggers in slide content:\n- Keywords: \"architecture\", \"components\", \"system design\", \"overview\"\n- Nested structures detected\n- Spatial relationships described\n- Informal context (\"brainstorm\", \"ideation\", \"workshop\")\n\nWhen detected, suggest: \"I recommend creating an Excalidraw diagram for this - it excels at spatial layouts and informal designs. Proceed?\"\n\n## Tools Available\n\n- **Read**: Read slide content, existing diagrams\n- **Write**: Save generated JSON to file\n- **Bash**: Execute rendering scripts if needed\n- **AskUserQuestion**: Interactive workflow questions\n\n## Next Steps After Generation\n\nAfter successfully generating a diagram:\n\n1. Inform user of file locations\n2. Run render-excalidraw.sh to generate SVG\n3. Provide excalidraw.com editing instructions\n4. Offer refinement options\n5. Ask if they want to generate for another slide\n6. Suggest integration into slide (markdown image reference to SVG, NEVER embed JSON)\n\n---\n\n**Remember**: You are both a presentation designer (enforcing evidence-based constraints) AND an artist (creating beautiful, spatial, hand-drawn diagrams). Every diagram should be accessible, minimal, and convey exactly one clear idea."
              },
              {
                "name": "LaTeX Handouts",
                "description": "This skill should be used when the user asks to \"create LaTeX handout\", \"compile handout\", \"generate presentation handout\", \"create PDF document from slides\", or needs guidance on LaTeX document structure, formatting, embedding images, or creating comprehensive presentation materials.",
                "path": "skills/latex-handouts/SKILL.md",
                "frontmatter": {
                  "name": "LaTeX Handouts",
                  "description": "This skill should be used when the user asks to \"create LaTeX handout\", \"compile handout\", \"generate presentation handout\", \"create PDF document from slides\", or needs guidance on LaTeX document structure, formatting, embedding images, or creating comprehensive presentation materials.",
                  "version": "0.1.0"
                },
                "content": "# LaTeX Handouts\n\nLaTeX provides professional typesetting for presentation handouts that combine slide images, presenter notes, and supplementary research into comprehensive reference documents.\n\n## Dependency Checking\n\nBefore generating handouts, check dependencies using:\n```bash\n${CLAUDE_PLUGIN_ROOT}/scripts/check-handout-deps.sh\n```\n\n**Exit codes:**\n- 0: All dependencies available (full handout with images and rich formatting)\n- 1: pdflatex missing (BLOCKER - cannot generate handout)\n- 2: LaTeX packages missing (use basic formatting)\n- 3: Playwright missing (text-only handout)\n\n## Graceful Degradation Strategies\n\n**When LaTeX packages unavailable (exit code 2):**\n- Skip `\\usepackage{tcolorbox}` and `\\usepackage{enumitem}` in preamble\n- Use standard LaTeX boxes instead of tcolorbox\n- Use default enumerate/itemize instead of enumitem\n- Result: Basic but functional handout\n\n**When Playwright unavailable (exit code 3):**\n- Skip slide PNG export entirely\n- Omit `\\begin{figure}...\\end{figure}` blocks for slide images\n- Still include all prose paragraphs (Overview, Key Considerations, Technical Details)\n- Still include all Further Reading links\n- Result: Text-only reference document (still valuable)\n\n**When pdflatex unavailable (exit code 1):**\n- Cannot generate PDF handout\n- Offer to create .tex file for user to compile later\n- Provide installation instructions\n\n## Handout Writing Principles\n\n**Critical:** Handouts should be **comprehensive standalone documents**, not just copies of slides.\n\n### Content Requirements\n\n‚úÖ **DO:**\n- Write in **complete prose paragraphs** (2-4 sentences minimum)\n- **Expand on slide content** - explain concepts in detail\n- **Add context** - WHY things matter, HOW they work\n- **Include researched URLs** - 3-5 quality resources per section\n- **Provide examples** - real-world applications and use cases\n- **Explain trade-offs** - discuss implications and alternatives\n- Make it **standalone** - reader understands without attending presentation\n\n‚ùå **DON'T:**\n- Copy bullet points from slides verbatim\n- Write generic descriptions\n- Use slide content as handout content\n- Skip research for further reading\n- Assume reader attended presentation\n\n### Writing Style\n\n**For each slide, write:**\n\n1. **Overview paragraph** (2-4 sentences)\n   - Transform slide bullets into flowing narrative\n   - Explain the concept in complete detail\n   - Provide context and connections\n\n2. **Key Considerations paragraph** (2-4 sentences)\n   - Discuss implications and trade-offs\n   - Explain WHY it matters\n   - Provide real-world examples\n\n3. **Technical Details paragraph** (if applicable)\n   - Explain HOW things work (not just WHAT)\n   - Code explanations in prose\n   - Architecture decisions and reasoning\n\n4. **Further Reading list** (3-5 URLs)\n   - Official documentation\n   - Authoritative articles\n   - Tutorials and guides\n   - Each with specific description of value\n\n## Document Structure\n\n### Basic Handout Template\n\n```latex\n\\documentclass[11pt,a4paper]{article}\n\n% Essential packages\n\\usepackage[utf8]{inputenc}\n\\usepackage[margin=1in]{geometry}\n\\usepackage{graphicx}\n\\usepackage{hyperref}\n\\usepackage{fancyhdr}\n\n% Document metadata\n\\title{Presentation Title}\n\\author{Author Name}\n\\date{\\today}\n\n% Header/footer setup\n\\pagestyle{fancy}\n\\fancyhead[L]{Presentation Title}\n\\fancyhead[R]{\\thepage}\n\\fancyfoot[C]{}\n\n\\begin{document}\n\n\\maketitle\n\\tableofcontents\n\\newpage\n\n% Content sections\n\\section{Introduction}\nContent here...\n\n\\end{document}\n```\n\n### Document Classes\n\n**article** - Standard documents\n- Best for: Short handouts (1-20 pages)\n- Features: Simple structure, no chapters\n- Use when: Single presentation handout\n\n**report** - Longer documents\n- Best for: Extended handouts (20+ pages)\n- Features: Chapters supported, more structure\n- Use when: Multi-session course materials\n\n**scrartcl/scrreprt** - KOMA-Script alternatives\n- Best for: Modern, customizable layouts\n- Features: Better typography, more options\n- Use when: Advanced formatting needed\n\n## Essential Packages\n\n### Graphics and Images\n\n```latex\n\\usepackage{graphicx}  % Include images\n\\usepackage{float}     % Better float positioning\n\n% Usage\n\\begin{figure}[H]\n  \\centering\n  \\includegraphics[width=0.8\\textwidth]{slide-01.pdf}\n  \\caption{Introduction Slide}\n  \\label{fig:intro}\n\\end{figure}\n```\n\n### Layout and Formatting\n\n```latex\n\\usepackage[margin=1in]{geometry}  % Page margins\n\\usepackage{multicol}              % Multiple columns\n\\usepackage{parskip}               % Paragraph spacing\n\\usepackage{setspace}              % Line spacing\n\n% Multi-column sections\n\\begin{multicols}{2}\n  Content in two columns\n\\end{multicols}\n```\n\n### Hyperlinks and References\n\n```latex\n\\usepackage{hyperref}\n\n% Configuration\n\\hypersetup{\n    colorlinks=true,\n    linkcolor=blue,\n    filecolor=magenta,\n    urlcolor=cyan,\n    citecolor=green\n}\n\n% Usage\n\\href{https://example.com}{Link text}\n\\url{https://example.com}\n```\n\n### Code Listings\n\n```latex\n\\usepackage{listings}\n\\usepackage{xcolor}\n\n% Configuration\n\\lstset{\n    basicstyle=\\ttfamily\\small,\n    keywordstyle=\\color{blue},\n    commentstyle=\\color{green},\n    stringstyle=\\color{red},\n    frame=single,\n    breaklines=true\n}\n\n% Usage\n\\begin{lstlisting}[language=Python]\ndef hello():\n    print(\"Hello, World!\")\n\\end{lstlisting}\n```\n\n### Bibliography\n\n```latex\n\\usepackage[backend=biber,style=apa]{biblatex}\n\\addbibresource{references.bib}\n\n% In document\n\\cite{key}\n\n% At end\n\\printbibliography\n```\n\n## Heading Hierarchy\n\n**Use semantic heading levels rigorously and consistently:**\n\n- `\\section{}` - Major document divisions (Introduction, Presentation Content, Summary, Additional Resources)\n- `\\subsection{}` - Topic sections within presentation (matches slide deck sections/chapters)\n- `\\subsubsection{}` - Individual slide titles (each slide gets its own subsubsection heading)\n- `\\paragraph{}` - Content subdivisions within slides (Overview, Key Considerations, Technical Details, Further Reading)\n\n**Rules:**\n- Never skip heading levels (don't go from `\\section{}` to `\\subsubsection{}`)\n- Use headings for semantic structure, not just visual formatting\n- Keep heading text descriptive and assertion-based\n- Each slide must have its own `\\subsubsection{}` heading\n\n## Handout Patterns\n\n### Comprehensive Slide Documentation (RECOMMENDED)\n\nModern handout format with PNG slides and prose explanations:\n\n```latex\n\\section{Topic Name}\n\n\\subsubsection{Specific Slide Title (Assertion Form)}\n\n\\begin{figure}[H]\n  \\centering\n  \\fbox{\\includegraphics[width=0.72\\textwidth]{exports/slide-005.png}}\n  \\caption{Specific Slide Title}\n\\end{figure}\n\n\\paragraph{Overview:}\nThis section introduces the core concept of container orchestration in distributed systems.\nKubernetes provides declarative configuration management, allowing operators to specify desired\nstate rather than imperative commands. The reconciliation loop continuously monitors actual\nstate and makes adjustments to match the declared configuration, providing self-healing\ncapabilities automatically.\n\n\\paragraph{Key Considerations:}\nThe declarative approach fundamentally changes operational practices compared to traditional\nimperative automation. When configuration drift occurs, the system automatically corrects it\nwithout human intervention. This is particularly valuable in large-scale deployments where\nmanual intervention becomes impractical. However, it requires careful design of resource\nspecifications and understanding of reconciliation behavior during failures.\n\n\\paragraph{Technical Details:}\nThe control loop pattern uses three key components: controllers watch the API server for\nchanges, compare current state to desired state, and issue commands to reconcile differences.\nEach controller operates independently, managing specific resource types. This distributed\ncontrol model provides scalability and fault tolerance, as controller failures don't cascade\nacross the system.\n\n\\paragraph{Further Reading:}\n\\begin{itemize}\n  \\item \\href{https://kubernetes.io/docs/concepts/architecture/controller/}{Kubernetes Controllers} -\n        Official documentation explaining control loop patterns and reconciliation\n  \\item \\href{https://www.oreilly.com/library/view/programming-kubernetes/9781492047094/}{Programming Kubernetes} -\n        In-depth guide to writing custom controllers and operators\n  \\item \\href{https://speakerdeck.com/thockin/kubernetes-what-is-reconciliation}{What is Reconciliation?} -\n        Tim Hockin's presentation on reconciliation patterns\n\\end{itemize}\n\n\\vspace{0.5cm}\n\n\\newpage\n```\n\n### WRONG: Bullet Point Copy (DON'T DO THIS)\n\n‚ùå **Bad handout - just copies slide bullets:**\n\n```latex\n\\subsection{Slide Content}\n\\begin{figure}[H]\n  \\includegraphics[width=0.9\\textwidth]{slide.png}\n\\end{figure}\n\n\\subsection{Notes}\nKey points:\n\\begin{itemize}\n  \\item Declarative configuration\n  \\item Reconciliation loops\n  \\item Self-healing\n\\end{itemize}\n\nAdditional info:\n\\begin{itemize}\n  \\item Useful for large deployments\n  \\item See Kubernetes docs\n\\end{itemize}\n```\n\n**Why this is bad:**\n- Just copies bullets from slide (no value added)\n- Generic descriptions (\"useful\", \"see docs\")\n- No explanation of HOW or WHY\n- Not standalone (requires attending presentation)\n- Links without context\n\n### Multi-Slide Grid\n\nShow multiple slides per page:\n\n```latex\n\\begin{figure}[H]\n  \\centering\n  \\begin{minipage}{0.45\\textwidth}\n    \\centering\n    \\includegraphics[width=\\textwidth]{slide-01.pdf}\n    \\caption{Slide 1}\n  \\end{minipage}\n  \\hfill\n  \\begin{minipage}{0.45\\textwidth}\n    \\centering\n    \\includegraphics[width=\\textwidth]{slide-02.pdf}\n    \\caption{Slide 2}\n  \\end{minipage}\n\\end{figure}\n```\n\n### Two-Column Layout\n\nContent alongside images:\n\n```latex\n\\begin{multicols}{2}\n  \\noindent\n  \\textbf{Key Concepts:}\n  \\begin{itemize}\n    \\item Concept 1\n    \\item Concept 2\n  \\end{itemize}\n\n  \\columnbreak\n\n  \\begin{figure}[H]\n    \\centering\n    \\includegraphics[width=\\linewidth]{diagram.pdf}\n  \\end{figure}\n\\end{multicols}\n```\n\n## Image Embedding\n\n### Slide Images\n\n**IMPORTANT:** All slide images in handouts should have black borders using `\\fbox{}` to clearly delineate the slide boundaries.\n\nExport slides as PNG for handouts:\n\n```latex\n% Single slide\n\\includegraphics[width=0.8\\textwidth]{exports/slides.pdf}\n\n% Specific page from multi-page PDF\n\\includegraphics[page=5,width=0.8\\textwidth]{exports/slides.pdf}\n\n% With black border (recommended for handouts)\n\\fbox{\\includegraphics[width=0.72\\textwidth]{slide.png}}\n```\n\n### Size Control\n\n```latex\n% By width (maintains aspect ratio)\n\\includegraphics[width=0.8\\textwidth]{image.pdf}\n\n% By height\n\\includegraphics[height=6cm]{image.pdf}\n\n% Scale factor\n\\includegraphics[scale=0.5]{image.pdf}\n\n% Exact dimensions (distorts if wrong ratio)\n\\includegraphics[width=10cm,height=6cm]{image.pdf}\n```\n\n### Positioning\n\n```latex\n% Centered\n\\begin{center}\n  \\includegraphics[width=0.7\\textwidth]{image.pdf}\n\\end{center}\n\n% In figure environment (with caption)\n\\begin{figure}[htbp]\n  \\centering\n  \\includegraphics[width=0.7\\textwidth]{image.pdf}\n  \\caption{Descriptive caption}\n  \\label{fig:label}\n\\end{figure}\n\n% Position codes:\n% h - here\n% t - top of page\n% b - bottom of page\n% p - separate page\n% ! - override restrictions\n% H - HERE (requires float package)\n```\n\n## Document Formatting\n\n### Title Page\n\n```latex\n\\begin{titlepage}\n  \\centering\n  \\vspace*{2cm}\n\n  {\\Huge\\bfseries Presentation Title\\par}\n  \\vspace{1cm}\n  {\\Large Subtitle or Topic\\par}\n  \\vspace{2cm}\n  {\\Large\\itshape Author Name\\par}\n  \\vspace{1cm}\n  {\\large\\today\\par}\n\n  \\vfill\n  {\\large Organization Name\\par}\n  \\vspace{0.5cm}\n  \\includegraphics[width=0.3\\textwidth]{logo.pdf}\n\\end{titlepage}\n```\n\n### Table of Contents\n\n```latex\n\\tableofcontents\n\\newpage\n\n% Depth control (default 3)\n\\setcounter{tocdepth}{2}  % Show up to subsections\n```\n\n### Headers and Footers\n\n```latex\n\\usepackage{fancyhdr}\n\\pagestyle{fancy}\n\n% Clear defaults\n\\fancyhf{}\n\n% Left header\n\\fancyhead[L]{Presentation Title}\n\n% Right header\n\\fancyhead[R]{Author Name}\n\n% Center footer\n\\fancyfoot[C]{\\thepage}\n\n% Right footer\n\\fancyfoot[R]{\\today}\n\n% Line width\n\\renewcommand{\\headrulewidth}{0.4pt}\n\\renewcommand{\\footrulewidth}{0.4pt}\n```\n\n### Section Formatting\n\n```latex\n\\usepackage{titlesec}\n\n% Customize section appearance\n\\titleformat{\\section}\n  {\\Large\\bfseries\\color{blue}}\n  {\\thesection}\n  {1em}\n  {}\n\n% Spacing around sections\n\\titlespacing*{\\section}{0pt}{2ex}{1ex}\n```\n\n## Advanced Features\n\n### Boxes and Highlighting\n\n```latex\n\\usepackage{tcolorbox}\n\n% Simple box\n\\begin{tcolorbox}[colback=blue!5,colframe=blue!40!black,title=Key Point]\n  Important information here\n\\end{tcolorbox}\n\n% Warning box\n\\begin{tcolorbox}[colback=yellow!10,colframe=orange!80!black,title=Note]\n  Something to remember\n\\end{tcolorbox}\n```\n\n### Tables\n\n```latex\n\\begin{table}[H]\n  \\centering\n  \\begin{tabular}{|l|c|r|}\n    \\hline\n    \\textbf{Header 1} & \\textbf{Header 2} & \\textbf{Header 3} \\\\\n    \\hline\n    Row 1 & Data & 123 \\\\\n    Row 2 & More data & 456 \\\\\n    \\hline\n  \\end{tabular}\n  \\caption{Table caption}\n  \\label{tab:example}\n\\end{table}\n```\n\n### Footnotes and Margin Notes\n\n```latex\n% Footnote\nThis is important\\footnote{Additional details in footnote}.\n\n% Margin note\n\\marginpar{Side note}\n```\n\n### Page Breaks\n\n```latex\n\\newpage          % Start new page\n\\clearpage        % Start new page, flush floats\n\\pagebreak        % Break page (if possible)\n\\nopagebreak      % Prevent page break\n```\n\n## Handout Organization\n\n### Section Structure\n\n```latex\n\\section{Introduction}\n% Overview and objectives\n\n\\section{Main Content}\n\\subsection{Topic 1}\n% Slide + notes + context\n\n\\subsection{Topic 2}\n% Slide + notes + context\n\n\\section{Conclusion}\n% Summary and takeaways\n\n\\section{Additional Resources}\n% References, links, further reading\n\n\\section{Appendix}\n% Extra materials, code samples\n```\n\n### Reference Lists\n\n```latex\n\\section{References and Resources}\n\n\\subsection{Key Papers}\n\\begin{itemize}\n  \\item Smith, J. (2023). \\textit{Important Paper}. Journal Name.\n  \\item Jones, A. (2022). \\textit{Another Study}. Conference Proceedings.\n\\end{itemize}\n\n\\subsection{Online Resources}\n\\begin{itemize}\n  \\item \\href{https://example.com}{Resource Name} - Description\n  \\item \\href{https://tutorial.com}{Tutorial Site} - Learning materials\n\\end{itemize}\n\n\\subsection{Tools and Software}\n\\begin{itemize}\n  \\item Tool Name - \\url{https://tool.com}\n  \\item Library Name - \\url{https://github.com/user/repo}\n\\end{itemize}\n```\n\n## Compilation\n\n### Basic Compilation\n\n```bash\npdflatex handout.tex\n```\n\n### With Bibliography\n\n```bash\npdflatex handout.tex\nbibtex handout\npdflatex handout.tex\npdflatex handout.tex\n```\n\n### Modern Toolchain\n\n```bash\n# Using latexmk (automatic)\nlatexmk -pdf handout.tex\n\n# Clean auxiliary files\nlatexmk -c\n```\n\n## Common Issues\n\n### Image Not Found\n\nEnsure correct path:\n```latex\n% Relative to .tex file\n\\includegraphics{./images/slide.pdf}\n\n% Tell LaTeX where to look\n\\graphicspath{{./images/}{./exports/}}\n```\n\n### Float Positioning\n\nImages not appearing where expected:\n\n```latex\n% Force HERE\n\\usepackage{float}\n\\begin{figure}[H]  % Capital H\n  ...\n\\end{figure}\n\n% Or allow more flexibility\n\\begin{figure}[htbp!]\n  ...\n\\end{figure}\n```\n\n### Text Overflow\n\nLong URLs or code breaking margins:\n\n```latex\n% For URLs\n\\usepackage{url}\n\\url{https://very-long-url.com}\n\n% For code\n\\begin{lstlisting}[breaklines=true]\n  long code here\n\\end{lstlisting}\n```\n\n### Special Characters\n\nLaTeX special characters need escaping:\n\n```latex\n% These need backslash\n\\$ \\% \\& \\# \\_ \\{ \\}\n\n% Or use verb\n\\verb|$special_chars|\n\n% For code, use lstlisting\n```\n\n## Best Practices\n\n### Slide Image Formatting\n\n**REQUIRED:**\n- All slide images MUST use `\\fbox{}` for black borders\n- Use width of 0.72\\textwidth to account for border width\n- Center slides with `\\centering` in figure environment\n- Always include descriptive captions\n\n**Example:**\n```latex\n\\begin{figure}[H]\n  \\centering\n  \\fbox{\\includegraphics[width=0.72\\textwidth]{exports/slide-001.png}}\n  \\caption{Descriptive Slide Title}\n  \\label{fig:slide1}\n\\end{figure}\n```\n\n### Heading Structure\n\n**REQUIRED:**\n- Use semantic heading hierarchy rigorously\n- Never skip heading levels\n- Each slide gets its own `\\subsubsection{}` heading\n- Use `\\paragraph{}` for content subdivisions within slides\n- Keep heading text assertion-based and descriptive\n\n### File Organization\n\n```\npresentation/\n‚îú‚îÄ‚îÄ handout.tex         # Main document\n‚îú‚îÄ‚îÄ handout.pdf         # Compiled output\n‚îú‚îÄ‚îÄ references.bib      # Bibliography\n‚îú‚îÄ‚îÄ images/             # Diagrams, logos\n‚îú‚îÄ‚îÄ slides/             # Individual slide PDFs\n‚îî‚îÄ‚îÄ exports/            # Slide deck exports\n```\n\n### Template Reuse\n\nCreate reusable section templates:\n\n```latex\n% template.tex\n\\newcommand{\\slideandnotes}[4]{\n  \\subsection{#1}\n\n  \\begin{figure}[H]\n    \\centering\n    \\includegraphics[width=0.9\\textwidth]{#2}\n    \\caption{#3}\n  \\end{figure}\n\n  \\subsubsection{Notes}\n  #4\n\n  \\newpage\n}\n\n% Usage\n\\slideandnotes{Topic Name}{slides/slide-05.pdf}{Caption}{\n  Notes and additional context here.\n}\n```\n\n### Version Control\n\nComment versions in document:\n\n```latex\n% Version 1.0 - 2024-01-15 - Initial draft\n% Version 1.1 - 2024-01-20 - Added section 3\n% Version 2.0 - 2024-01-25 - Final revision\n\n% Or use git info\n\\usepackage{gitinfo2}\n```\n\n### Accessibility\n\n```latex\n% PDF metadata\n\\hypersetup{\n    pdftitle={Presentation Handout},\n    pdfauthor={Author Name},\n    pdfsubject={Topic},\n    pdfkeywords={keyword1, keyword2},\n    pdfproducer={LaTeX},\n    pdfcreator={pdflatex}\n}\n\n% Alt text for images\n\\includegraphics{image.pdf}\n% Described in caption or surrounding text\n```\n\n## Quick Reference\n\n### Minimal Handout\n\n```latex\n\\documentclass{article}\n\\usepackage{graphicx}\n\\usepackage{hyperref}\n\\title{Handout Title}\n\\author{Author}\n\\date{\\today}\n\n\\begin{document}\n\\maketitle\n\n\\section{Introduction}\nContent...\n\n\\end{document}\n```\n\n### Common Commands\n\n```latex\n\\section{Title}          % Section\n\\subsection{Title}       % Subsection\n\\textbf{bold}           % Bold\n\\textit{italic}         % Italic\n\\underline{text}        % Underline\n\\newpage                % Page break\n\\vspace{1cm}            % Vertical space\n\\hspace{1cm}            % Horizontal space\n```\n\n---\n\nFor comprehensive LaTeX documentation, consult The LaTeX Project (https://www.latex-project.org/) and Overleaf documentation (https://www.overleaf.com/learn)."
              },
              {
                "name": "Presentation Design",
                "description": "This skill should be used when the user asks to \"design a presentation\", \"structure presentation content\", \"improve presentation flow\", \"create presentation outline\", \"make slides more engaging\", or needs guidance on storytelling, visual hierarchy, audience engagement, or presentation best practices.",
                "path": "skills/presentation-design/SKILL.md",
                "frontmatter": {
                  "name": "Presentation Design",
                  "description": "This skill should be used when the user asks to \"design a presentation\", \"structure presentation content\", \"improve presentation flow\", \"create presentation outline\", \"make slides more engaging\", or needs guidance on storytelling, visual hierarchy, audience engagement, or presentation best practices.",
                  "version": "0.2.0"
                },
                "content": "# Presentation Design\n\nEffective presentations combine research-backed design principles, storytelling, and audience understanding. Create compelling narratives that engage audiences and communicate ideas clearly.\n\n**Research Basis**: These guidelines are based on cognitive load studies (Miller's Law), TED presentation research, MIT Communication Lab recommendations, and analysis of effective technical conference talks. They prevent common mistakes that make presentations hard to follow. See `references/presentation-best-practices.md` for detailed research citations.\n\n## HARD LIMITS (Never Violate)\n\nThese are research-backed **maximum limits** that should NEVER be exceeded. If content exceeds these limits, you MUST split into multiple slides:\n\nüî¥ **MAX 6 elements** per slide (bullets + images + diagrams + code blocks combined)\nüî¥ **MAX 50 words** body text per slide (excluding title)\nüî¥ **MAX 1-2 code blocks** per slide (8-10 lines each)\nüî¥ **ONE idea** per slide (if multiple ideas ‚Üí split slides)\n\n**Why these are hard limits:**\n- Cognitive load research: >6 elements exponentially increases audience confusion\n- Reading vs listening interference: >50 words means audience stops listening\n- Code complexity: >2 code examples creates comparison overhead\n\n**When content doesn't fit:**\n- ‚ùå **NEVER** compress or shrink to fit\n- ‚ùå **NEVER** reduce font size below 18pt\n- ‚úÖ **ALWAYS** split into additional slides\n- ‚úÖ **ALWAYS** move details to presenter notes or backup slides\n\n## Core Principles\n\n### 1. One Idea Per Slide\n\n**Critical Rule**: Each slide communicates exactly ONE central idea, finding, or question.\n\n**Why this matters:**\n- Prevents cognitive overload\n- Maintains audience focus\n- Enables clear narrative progression\n\n**In practice:**\n- If a slide requires >2 minutes to explain ‚Üí split it\n- Each slide title should state one clear point\n- No tangential information on slides\n- Content supports only the title's assertion\n\n**Example:**\n- ‚ùå Bad: One \"Background\" slide covering problem + impact + existing solutions\n- ‚úÖ Good: Three slides ‚Üí \"Problem X costs $Y annually\" ‚Üí \"Existing solutions fail at scale\" ‚Üí \"No current approach handles edge case Z\"\n\n### 2. Meaningful Titles (Assertions, Not Labels)\n\n**Critical Rule**: Slide titles should state the TAKEAWAY, not just the topic.\n\n**Why this matters:**\n- Titles act as \"topic sentences\" for slides\n- Reading titles in sequence tells the story\n- Helps distracted audience members catch up\n- Prevents speaker from losing train of thought\n\n**Format:** Use complete assertion (subject + verb + finding), not one-word labels\n\n**Examples:**\n- ‚ùå Weak: \"Results\" / \"Background\" / \"Thermal Images\"\n- ‚úÖ Strong: \"Experiment X demonstrates 2x performance gain\" / \"Current solutions fail under high-load conditions\" / \"Thermal images show electronics overheating\"\n\n**Validation**: Could audience understand main point from title alone?\n\n### 3. Cognitive Load Management\n\n**Critical Rule**: Limit distinct elements to ~6 items per slide maximum.\n\n**Scientific basis:**\n- Working memory: 7¬±2 items (Miller's Law)\n- David JP Phillips research: >6 objects exponentially increases cognitive load\n\n**Elements to count:**\n1. Bullet points\n2. Images/photos\n3. Diagrams\n4. Text blocks\n5. Charts/graphs\n6. Callout boxes\n\n**If >6 elements needed:** Use progressive builds, split across slides, or simplify\n\n### 4. Design for the Distracted Viewer\n\n**Critical Rule**: Each slide must convey its message even if viewer doesn't hear your narration.\n\n**Why this matters:**\n- Audience zones out momentarily (long sessions, after lunch)\n- Slides may be reviewed later without audio\n- Someone glancing mid-explanation should grasp the point\n\n**Implementation:**\n- Meaningful title + clear visual = standalone message\n- Highlight conclusions, not just raw data\n- Use annotations (arrows, labels) to guide attention\n- Don't bury insights in details\n\n**Test**: Show slide to someone without context. Can they identify main point in 5 seconds?\n\n### 5. Minimal Text (Keywords, Not Sentences)\n\n**Critical Rule**: Aside from title, use short phrases. Slides are visual aids, not scripts.\n\n**Why this matters:**\n- Audience cannot read and listen simultaneously (dual-channel interference)\n- Reading text aloud loses engagement\n- Text should guide, not duplicate speech\n\n**Guidelines:**\n- Word count per slide (excluding title): <50 words\n- No paragraphs or full sentences in body\n- Bullets are phrases, not complete sentences\n- **Detailed text belongs in presenter notes**\n\n**Example:**\n- ‚úÖ Good: \"Key benefits: ‚Ä¢ 40% faster ‚Ä¢ 2x throughput ‚Ä¢ Zero downtime\"\n- ‚ùå Bad: \"The key benefits of this approach are that it is 40% faster than the previous solution, provides twice the throughput, and enables zero-downtime deployments.\"\n\n### 6. Backup Slides Strategy\n\n**Rule**: Prepare \"backup\" slides for Q&A, but keep separate from main deck.\n\n**What to include:**\n- Detailed data tables\n- Extended methodology\n- Statistical details\n- Alternative approaches considered\n- Related work comparison\n\n**Benefits:**\n- Keeps main presentation focused\n- Maintains timing discipline\n- Shows thoroughness without cluttering talk\n\n**Implementation:** Place after \"Questions?\" slide, don't count toward timing\n\n## Presentation Structure\n\n### Three-Act Structure\n\nEvery presentation follows a narrative arc:\n\n**Act 1: Setup** (15-20% of time)\n- Hook the audience immediately\n- State the problem or opportunity\n- Establish credibility\n- Preview what's coming\n\n**Act 2: Confrontation** (60-70% of time)\n- Present main content\n- Build tension or complexity\n- Provide evidence and examples\n- Address counterarguments\n\n**Act 3: Resolution** (15-20% of time)\n- Synthesize key points\n- Provide clear takeaways\n- Call to action\n- Leave lasting impression\n\n### Slide Sequence Pattern\n\n```\n1. Title/Cover - Who, what, when\n2. Hook - Compelling question or statistic\n3. Problem - Why this matters\n4. Agenda - What to expect\n5-N. Content - Main material\nN+1. Summary - Key takeaways\nN+2. Next Steps - What to do\nN+3. Q&A - Questions\n```\n\n## Storytelling Principles\n\n### Start with Why\n\nLead with purpose, not process:\n\n‚ùå **Wrong:**\n```\nSlide 1: About Our Company\nSlide 2: Our Technology\nSlide 3: How It Works\nSlide 4: Why You Should Care\n```\n\n‚úÖ **Right:**\n```\nSlide 1: The Problem Everyone Faces\nSlide 2: Why Current Solutions Fail\nSlide 3: Our Approach\nSlide 4: How It Works\n```\n\n### Use Concrete Examples\n\nAbstract concepts need grounding:\n\n‚ùå **Abstract:** \"Our platform improves efficiency by 50%\"\n\n‚úÖ **Concrete:** \"Sarah used to spend 4 hours on reports. Now it takes 2 hours.\"\n\n### Create Contrast\n\nHighlight differences to make points memorable:\n\n- Before vs After\n- Problem vs Solution\n- Old Way vs New Way\n- Competitor vs Us\n\n## Visual Hierarchy\n\n### Text Density Guidelines\n\n**Title slides:** 5-7 words maximum\n**Content slides:** 20-30 words maximum\n**Data slides:** Let visualizations speak, minimal text\n\n**The 6x6 rule:**\n- Maximum 6 bullet points per slide\n- Maximum 6 words per bullet\n- If you need more, split into multiple slides\n\n### Typography\n\n**Heading sizes:**\n- H1 (Title): 44-60pt\n- H2 (Section): 32-40pt\n- H3 (Subsection): 24-28pt\n- Body text: 18-24pt\n\n**Font choices:**\n- Sans-serif for screens (Arial, Helvetica, Open Sans)\n- Limit to 2 font families maximum\n- Use font weight for hierarchy (bold for emphasis)\n\n### Color Strategy\n\n**Color roles:**\n- Primary: Main brand color (headlines, key elements)\n- Secondary: Supporting color (accents, highlights)\n- Neutral: Background and body text (black, white, gray)\n- Accent: Call-to-action, warnings (sparingly)\n\n**Contrast ratios:**\n- Text on background: Minimum 4.5:1 ratio\n- Large text (>24pt): Minimum 3:1 ratio\n- Test readability from back of room\n\n### White Space\n\nEmpty space is not wasted space:\n- Margins: Minimum 10% of slide on all sides\n- Between elements: At least 20-30px\n- Around text blocks: Breathing room improves comprehension\n- Resist urge to fill every pixel\n\n## Slide Types\n\n### Data Slides\n\n**When showing numbers:**\n- Use charts/graphs instead of tables when possible\n- One data point per slide for maximum impact\n- Highlight the insight, not just the data\n- Remove chart junk (unnecessary gridlines, 3D effects)\n\n**Chart selection:**\n- Trends over time: Line chart\n- Comparisons: Bar chart\n- Proportions: Pie chart (limit to 5 segments)\n- Correlations: Scatter plot\n- Process flow: Flowchart diagram\n\n### Concept Slides\n\n**Explaining abstract ideas:**\n- Use metaphors and analogies\n- Visualize with diagrams\n- Progressive disclosure (build complexity)\n- One concept per slide\n\n**Effective diagrams:**\n- Flowcharts for processes\n- Venn diagrams for relationships\n- Pyramid/hierarchy for structures\n- Timeline for sequences\n\n### Transition Slides\n\n**Between sections:**\n- Section title only (large, centered)\n- Progress indicator (Section 2 of 4)\n- Visual separator\n- Brief reset for audience\n\n## Audience Engagement\n\n### Opening Hooks\n\n**Strong openings:**\n- Provocative question\n- Surprising statistic\n- Personal story\n- Demonstration\n- Current event connection\n\n‚ùå **Weak opening:** \"Thanks for having me. Today I'll talk about...\"\n\n‚úÖ **Strong opening:** \"What if I told you 90% of your users never complete signup?\"\n\n### Pacing and Timing\n\n**Default timing: 90 seconds (1.5 minutes) per slide** (configurable)\n\n**Research basis:**\n- PLOS Computational Biology: ~1 minute per slide\n- Adjusted for technical content: 1.5 minutes more realistic\n\n**Configurable pacing options:**\n- **Fast (60s/slide)**: Brief updates, high-level overviews\n- **Moderate (90s/slide)**: DEFAULT - technical content, balanced detail\n- **Detailed (120s/slide)**: Complex topics, deep dives\n- **Deep dive (180s/slide)**: Research talks, comprehensive analysis\n\n**Duration calculations (at 90s/slide):**\n- 10-minute presentation: ~6-7 slides\n- 15-minute presentation: ~10 slides\n- 20-minute presentation: ~13 slides\n- 30-minute presentation: ~20 slides\n- 45-minute presentation: ~30 slides\n\n**Validation formula:**\n```\nExpected slides = (duration_minutes √ó 60) / seconds_per_slide\nAcceptable range = expected ¬± 20%\n```\n\n**Adjust timing based on:**\n- Content complexity (more complex ‚Üí slower pace)\n- Audience expertise (novices need more time)\n- Interaction level (Q&A reduces slide count)\n- Demo or video time (subtract from total)\n\n**During practice:**\n- If spending 2-3√ó target time on one slide ‚Üí split it\n- If rushing through slides ‚Üí consolidate or cut\n- Aim for consistency across slides\n\n### Progressive Disclosure\n\nReveal information incrementally to maintain attention:\n\n**Without progressive disclosure:**\n```markdown\n- Point 1\n- Point 2\n- Point 3\n- Point 4\n```\nAudience reads ahead, misses your explanation.\n\n**With progressive disclosure:**\n```markdown\n- Point 1\n- <v-click>Point 2</v-click>\n- <v-click>Point 3</v-click>\n- <v-click>Point 4</v-click>\n```\nControl attention, maintain suspense.\n\n### Interaction Patterns\n\n**Rhetorical questions** - Encourage thinking\n**Polls** - Gauge understanding\n**Demonstrations** - Show, don't just tell\n**Examples** - Make abstract concrete\n**Challenges** - Pose problems to solve\n\n## Content Organization\n\n### The Pyramid Principle\n\nStart with conclusion, then support:\n\n```\nLevel 1: Main conclusion/recommendation\nLevel 2: Key supporting points (3-4)\nLevel 3: Evidence and data\nLevel 4: Details and examples\n```\n\n**Slide mapping:**\n```\nSlide 1: Main conclusion (what should they do?)\nSlides 2-4: Three supporting reasons\nSlides 5-N: Evidence for each reason\n```\n\n### Rule of Three\n\nHuman memory favors threes:\n- 3 main points\n- 3 examples\n- 3 takeaways\n- 3 action items\n\n**Why three works:**\n- Minimum for pattern recognition\n- Maximum for immediate recall\n- Feels complete and balanced\n\n### Signposting\n\nHelp audience track progress:\n\n**At section starts:**\n- \"First, let's look at...\"\n- \"Now that we understand X, let's explore Y...\"\n- \"The second challenge is...\"\n\n**At transitions:**\n- \"To summarize...\"\n- \"This brings us to...\"\n- \"Now for the key question...\"\n\n**At conclusions:**\n- \"In conclusion...\"\n- \"The three takeaways are...\"\n- \"What does this mean for you?\"\n\n## Visual Design Patterns\n\n### Slide Layouts\n\n**Full bleed image:** Photo takes entire slide, text overlay\n**Split screen:** Content left, image/diagram right (or vice versa)\n**Grid:** Multiple images or points in organized grid\n**Centered:** Single element, maximum focus\n**Quote:** Large text, minimal decoration\n\n### Image Usage\n\n**Image selection criteria:**\n- Relevant to content (not decorative filler)\n- High quality (minimum 1920x1080)\n- Appropriate tone (professional, casual, technical)\n- Diverse representation (inclusive imagery)\n\n**Image sources:**\n- Stock photos: Unsplash, Pexels (free, high-quality)\n- Custom graphics: Diagrams, screenshots, data viz\n- AI-generated: For specific concepts\n- Icons: Consistent style throughout\n\n**Placement guidelines:**\n- Full bleed: Edge to edge, no borders\n- Inset: Respect margins, consistent padding\n- Background: Lower opacity (30-50%) for text overlay\n\n### Consistency\n\nMaintain throughout presentation:\n- Color palette (2-3 colors)\n- Font families (1-2 maximum)\n- Icon style (outline vs filled)\n- Diagram aesthetic\n- Slide layout patterns\n\n## Common Mistakes\n\n### Information Overload\n\n‚ùå **Too much:**\n- Walls of text\n- Tiny fonts\n- Cluttered slides\n- Too many points per slide\n\n‚úÖ **Right amount:**\n- Key points only\n- Large, readable fonts\n- White space\n- One idea per slide\n\n### Reading Slides\n\n‚ùå **Don't:**\n- Put full sentences on slides\n- Read slides verbatim\n- Use slides as script\n\n‚úÖ **Do:**\n- Use keywords and phrases\n- Expand on points verbally\n- Slides support, not replace, speech\n\n### Inconsistency\n\n‚ùå **Avoid:**\n- Changing fonts between slides\n- Different color schemes\n- Mixed icon styles\n- Varying alignment\n\n‚úÖ **Maintain:**\n- Single template\n- Consistent colors\n- Uniform icon set\n- Regular spacing\n\n## Presentation Types\n\n### Business Pitch\n\n**Structure:**\n1. Problem (market pain point)\n2. Solution (your product)\n3. Market opportunity (size)\n4. Business model (how you make money)\n5. Traction (proof it works)\n6. Competition (why you win)\n7. Team (who you are)\n8. Ask (what you need)\n\n**Style:** Professional, data-driven, confident\n**Duration:** 10-20 minutes typical\n\n### Technical Tutorial\n\n**Structure:**\n1. Prerequisites (what you need)\n2. Problem context (why this matters)\n3. Concepts (theory)\n4. Implementation (how-to)\n5. Examples (see it work)\n6. Practice (try yourself)\n7. Resources (learn more)\n\n**Style:** Clear, step-by-step, code-heavy\n**Duration:** 30-60 minutes typical\n\n### Academic Presentation\n\n**Structure:**\n1. Background (context and literature)\n2. Research question (what you studied)\n3. Methods (how you studied it)\n4. Results (what you found)\n5. Discussion (what it means)\n6. Conclusions (takeaways)\n7. Future work (next steps)\n\n**Style:** Formal, evidence-based, referenced\n**Duration:** 15-45 minutes typical\n\n### Conference Talk\n\n**Structure:**\n1. Hook (grab attention)\n2. Personal connection (why you care)\n3. Core idea (one big concept)\n4. Supporting points (3-4 examples)\n5. Implications (so what?)\n6. Takeaway (remember this)\n\n**Style:** Engaging, storytelling, memorable\n**Duration:** 20-45 minutes typical\n\n## Accessibility Considerations\n\n### Visual Accessibility Requirements\n\n**Font requirements** (from research):\n- **Body text minimum**: 18-24pt (never smaller than 18pt)\n- **Headings minimum**: 24pt or larger\n- **Font family**: Sans-serif for body text (Calibri, Arial, Verdana, Helvetica)\n- **Serif usage**: Optional for headings only (for differentiation)\n- **AVOID**: Italics, underlines, ALL CAPS in body text (reduce readability)\n\n**Color requirements:**\n- **Contrast ratios**:\n  - Normal text: Minimum 4.5:1 ratio\n  - Large text (>24pt): Minimum 3:1 ratio\n- **Colorblind-safe palettes**: Use ColorBrewer or similar tools to verify\n- **Don't rely on color alone**: Add patterns, labels, or shapes for differentiation\n- **Core color scheme**: 2 main colors (one light, one dark) for foundation\n- **Accent colors**: 1-2 additional for highlighting\n\n**Layout requirements:**\n- Clear section demarcation\n- Consistent layout across slides\n- Adequate margins and white space\n- Legible over varying backgrounds (add borders/frames if needed)\n\n**Testing accessibility:**\n- Preview slides from back of room distance\n- Use colorblind simulator (online tools available)\n- Verify contrast ratios with accessibility checker\n- Test on different display sizes\n\n### Cognitive Accessibility\n\n- **Simple language:** Avoid jargon, or define technical terms\n- **Clear structure:** Obvious organization with signposting\n- **Predictable pacing:** Consistent timing across slides\n- **Multiple modalities:** Visual + verbal + text reinforcement\n- **One idea per slide:** Prevents information overload\n- **Progressive disclosure:** Don't overwhelm with all info at once\n\n## Presenter Notes\n\n**Critical principle**: Detailed text belongs in presenter notes, NOT on slides.\n\n**MIT CommLab guidance**: \"Take the text off the slide and put it into your presenter notes.\"\n\n**Use presenter notes for:**\n- **Full sentences** you'll speak (slides should only have keywords)\n- **Detailed explanations** that would clutter slides\n- **Statistics and exact numbers** (slide shows visual, you cite specifics)\n- **Timing cues** (\"Spend 2 minutes here\", \"Pause for effect\")\n- **Transitions** (\"Now ask for questions\", \"Reference demo if time permits\")\n- **Technical details** to remember\n- **Anticipated questions** and answers\n- **Stories/anecdotes** to share (slide shows key point, you tell story)\n\n**Script first few slides:**\n- Word-for-word opening (calms nerves, ensures strong start)\n- After first 2-3 slides, bullet points sufficient\n- Corey Quinn's tip: Duplicate title slide - first has no notes (safe for mirrored display), second has scripted intro\n\n**Notes format:**\n```markdown\n# Experiment X demonstrates 2x performance gain\n\n![Chart showing performance comparison](./images/performance.png)\n\n<!--\nNOTES:\nOpening: \"When we first ran this experiment, I honestly didn't believe the results.\"\n\nKey points to cover:\n- Baseline: 100 req/sec (previous approach)\n- New approach: 200 req/sec (sustained over 24 hours)\n- Statistical significance: p < 0.01\n- Caveat: Results specific to our dataset size (mention in Q&A if asked)\n\nTransition: \"This performance gain enables us to handle peak traffic, which brings me to the next challenge...\"\n\nTiming: 90 seconds on this slide\n-->\n```\n\n**Benefits:**\n- Slides stay clean and visual\n- Audience doesn't read ahead\n- You have full guidance without cluttering presentation\n- Can include details you might forget under pressure\n\n## Best Practices Summary\n\n### Evidence-Based Core Rules\n\n**The 10 Essential Principles:**\n1. **One idea per slide** - Each slide = one central finding\n2. **Meaningful titles** - Assertions, not labels (\"X demonstrates Y\" not \"Results\")\n3. **Minimal text** - <50 words excluding title, keywords not sentences\n4. **Visual over text** - Almost never text-only slides\n5. **Max 6 elements** - Cognitive load management\n6. **Accessibility** - 18pt+ fonts, 4.5:1 contrast, colorblind-safe\n7. **Design for distracted** - Title + visual convey point without narration\n8. **Progressive disclosure** - Reveal complexity gradually\n9. **Timing** - 90s/slide default (configurable 60-180s)\n10. **Backup slides** - Detailed data separate from main deck\n\n### DO:\n- **Start with compelling hook** (not CV or agenda)\n- **Use rule of three** for main points\n- **Put detailed text in presenter notes**, not on slides\n- **Practice timing** with stopwatch\n- **Leave white space** (minimum 10% margins)\n- **Use progressive disclosure** for complex content\n- **End with clear conclusion statement** (not \"Thank you\")\n- **Test accessibility** (contrast, colorblind, distance)\n- **Create backup slides** for Q&A\n- **Apply consistent theme** throughout\n\n### DON'T:\n- **Overload slides with text** - Audience can't read and listen\n- **Use tiny fonts** - Minimum 18pt body, 24pt headings\n- **Read slides verbatim** - You lose engagement\n- **Use vague titles** - \"Results\" ‚Üí \"Experiment X shows 2x gain\"\n- **Cram multiple ideas** - One per slide maximum\n- **Exceed 6 elements** - Cognitive overload\n- **Skip accessibility** - Exclude audience members\n- **Use color alone** - Patterns/labels for colorblind\n- **Ignore contrast** - Verify 4.5:1 minimum\n- **Use italics/underlines** in body text - Reduces readability\n\n### Validation Checklist\n\nBefore finalizing, verify each slide:\n- [ ] One clear idea/finding\n- [ ] Meaningful title (assertion format)\n- [ ] <50 words body text\n- [ ] ‚â§6 distinct elements\n- [ ] At least one visual (unless quote/transition)\n- [ ] Font sizes: body ‚â•18pt, heading ‚â•24pt\n- [ ] High contrast verified (4.5:1+)\n- [ ] Colorblind-safe colors\n- [ ] Explainable in ~90 seconds\n- [ ] Title + visual = standalone comprehension\n\nPresentation-level:\n- [ ] Total slides appropriate for duration (¬±20% of duration_minutes √ó 60 / seconds_per_slide)\n- [ ] Logical flow between slides\n- [ ] Consistent theme/colors/fonts\n- [ ] Strong opening (hook, not bio)\n- [ ] Clear conclusion statement\n- [ ] Backup slides separated\n- [ ] Presenter notes for key slides\n\n---\n\n**Additional Resources:**\n- See `references/presentation-best-practices.md` for full research-based guidelines\n- Nancy Duarte: *Resonate*, *Slide:ology* (storytelling and visual design)\n- Garr Reynolds: *Presentation Zen* (minimalist design philosophy)\n- PLOS Computational Biology: \"Ten Simple Rules for Effective Presentation Slides\"\n- MIT Communication Lab: Slide Presentation Guide"
              },
              {
                "name": "Slide Quality Assessment",
                "description": "This skill should be used when the user asks to \"analyze slide quality\", \"review slide\", \"check slide design\", \"optimize slide\", \"improve slide content\", \"assess slide clarity\", or needs evidence-based quality evaluation using the 12-point checklist for presentation slides.",
                "path": "skills/slide-quality/SKILL.md",
                "frontmatter": {
                  "name": "Slide Quality Assessment",
                  "description": "This skill should be used when the user asks to \"analyze slide quality\", \"review slide\", \"check slide design\", \"optimize slide\", \"improve slide content\", \"assess slide clarity\", or needs evidence-based quality evaluation using the 12-point checklist for presentation slides.",
                  "version": "0.1.0"
                },
                "content": "# Slide Quality Assessment\n\nEvaluate presentation slides using evidence-based quality criteria grounded in cognitive load research, accessibility standards, and presentation best practices from TED, MIT Communication Lab, and technical conference guidelines.\n\n**Research Foundation**: Quality assessment based on working memory limits (Miller's Law), David JP Phillips' cognitive load studies, WCAG accessibility standards, and analysis of effective technical presentations.\n\n**IMPORTANT**: Before analyzing slides, use the Read tool to load the style guide from the plugin directory:\n```\n${CLAUDE_PLUGIN_ROOT}/references/presentation-best-practices.md\n```\nThis contains the complete research-backed guidelines and validation criteria supporting the 12-point checklist.\n\n## The 12-Point Quality Checklist\n\nUse this systematic framework to evaluate any presentation slide:\n\n### 1. ‚úì One Idea Per Slide (CRITICAL)\n\n**Criterion**: Does the slide communicate exactly ONE central idea, finding, or question?\n\n**Why this matters**:\n- Prevents cognitive overload\n- Maintains audience focus during narration\n- Enables clear narrative progression\n\n**How to assess**:\n- Can slide be explained in ~90 seconds?\n- Does all content support only the title's assertion?\n- Are there multiple unrelated concepts?\n\n**Red flags**:\n- ‚úó Covering multiple independent topics\n- ‚úó Requires >2 minutes to explain\n- ‚úó Content diverges from title\n\n**Fix**: Split into multiple slides, one concept each\n\n---\n\n### 2. ‚úì Meaningful Title (CRITICAL)\n\n**Criterion**: Is the title an assertion (subject + verb + finding) rather than a label?\n\n**Why this matters**:\n- Titles act as \"topic sentences\"\n- Reading titles in sequence tells the story\n- Helps distracted viewers catch up\n- Audience should understand main point from title alone\n\n**Good vs Bad**:\n- ‚ùå Bad (labels): \"Results\", \"Background\", \"Performance\"\n- ‚úÖ Good (assertions): \"Experiment X demonstrates 2x gain\", \"Current solutions fail at scale\"\n\n**How to assess**:\n- Does title state a takeaway (not just a topic)?\n- Subject + verb + finding format?\n- Would titles in sequence tell a coherent story?\n\n**Fix**: Convert labels to complete assertions\n\n---\n\n### 3. ‚úì Element Count ‚â§6 (CRITICAL)\n\n**Criterion**: Total distinct elements ‚â§6 (bullets + images + diagrams + charts + code blocks)\n\n**Why this matters**:\n- Working memory: 7¬±2 items (Miller's Law)\n- >6 elements exponentially increases cognitive load (Phillips research)\n- Audience cannot process >6 simultaneous information chunks\n\n**What counts as elements**:\n- Each bullet point = 1\n- Each image/diagram = 1\n- Each code block = 1\n- Each chart/graph = 1\n- Nested bullets count separately\n\n**Exceptions**:\n- Progressive builds (v-click) revealing elements incrementally = OK\n- Diagrams with integrated labels (count as 1 if cohesive)\n\n**How to assess**:\nCount all visual and textual chunks the audience must process simultaneously\n\n**Red flags**:\n- ‚úó 8+ bullet points\n- ‚úó Multiple diagrams + bullets\n- ‚úó Dense content without progressive disclosure\n\n**Fix**: Reduce elements, split slides, or use v-click for progressive builds\n\n---\n\n### 4. ‚úì Word Count <50 (CRITICAL)\n\n**Criterion**: Body text <50 words (excluding title)\n\n**Why this matters**:\n- Audience cannot read and listen simultaneously\n- >50 words = audience stops listening to speaker\n- Slides support speaker, not replace them\n\n**How to assess**:\n- Count all words excluding title\n- Include bullet text, captions, labels\n- Exclude code (assess separately)\n\n**Red flags**:\n- ‚úó Full sentences in bullets\n- ‚úó Paragraph text\n- ‚úó Long explanatory captions\n\n**Fix**:\n- Convert sentences to phrases (3-6 words per bullet)\n- Move detailed explanations to presenter notes\n- Split content across multiple slides\n\n---\n\n### 5. ‚úì Visual Element Present\n\n**Criterion**: At least one visual element (diagram, chart, image, code, or graphic)\n\n**Why this matters**:\n- Dual-channel processing (visual + audio) improves retention\n- Visuals convey complex relationships better than text\n- Almost never text-only slides\n\n**Exceptions allowing text-only**:\n- Quote slides\n- Definition slides\n- Bold statements for emphasis\n- Section dividers\n\n**How to assess**:\nIs there a diagram, chart, image, code block, or other visual?\n\n**Red flags**:\n- ‚úó Only title + bullets\n- ‚úó Dense text without supporting visual\n- ‚úó Missed opportunity for diagram\n\n**Fix**: Add mermaid diagram, chart, image, or code example\n\n---\n\n### 6. ‚úì Font Sizes (Body ‚â•18pt, Heading ‚â•24pt)\n\n**Criterion**: Body text ‚â•18pt, headings ‚â•24pt (accessibility requirement)\n\n**Why this matters**:\n- WCAG accessibility standards\n- Readability from back of room\n- Accommodates vision impairments\n\n**How to assess**:\n- Check Slidev theme defaults\n- Verify no custom CSS reducing sizes\n- Test: Can text be read from 20 feet away?\n\n**Red flags**:\n- ‚úó Tiny code fonts (<14pt)\n- ‚úó Compressed text to fit content\n- ‚úó Caption text <16pt\n\n**Fix**: Use proper font sizes, split slides if content doesn't fit\n\n---\n\n### 7. ‚úì Contrast Ratio (‚â•4.5:1)\n\n**Criterion**: Text contrast ‚â•4.5:1 for normal text, ‚â•3:1 for large text (>24pt)\n\n**Why this matters**:\n- WCAG Level AA accessibility requirement\n- Readability under projection conditions\n- Accommodates vision impairments\n\n**How to assess**:\n- Check dark text on light backgrounds (or inverse)\n- Avoid: gray-on-gray, yellow-on-white, light-blue-on-white\n- Test: Is text clearly readable at a glance?\n\n**Red flags**:\n- ‚úó Low-contrast color schemes\n- ‚úó Light text on light backgrounds\n- ‚úó Colored text without sufficient contrast\n\n**Fix**: Use high-contrast color pairs, test with contrast checker\n\n---\n\n### 8. ‚úì Colorblind-Safe (Not Color-Only)\n\n**Criterion**: Meaning not conveyed by color alone (use patterns, labels, shapes)\n\n**Why this matters**:\n- ~8% of males have color vision deficiency\n- Projected colors appear differently than on screen\n- Print/grayscale versions must be understandable\n\n**How to assess**:\n- Can information be understood in grayscale?\n- Are chart lines distinguished by style (solid/dashed) not just color?\n- Do diagrams use labels, not just color coding?\n\n**Red flags**:\n- ‚úó \"Green = good, red = bad\" without labels\n- ‚úó Chart with only color-differentiated lines\n- ‚úó Diagrams relying solely on color\n\n**Fix**: Add patterns, labels, shapes, or text alongside color\n\n---\n\n### 9. ‚úì Standalone Comprehension\n\n**Criterion**: Can viewer grasp main point from title + visual alone (without narration)?\n\n**Why this matters**:\n- Distracted viewers can catch up mid-presentation\n- Slides work for async review\n- Conclusions highlighted, not buried\n\n**How to assess**:\n- 5-second test: Show slide without context - is point clear?\n- Does visual reinforce the title's assertion?\n- Could someone skimming slides get the story?\n\n**Red flags**:\n- ‚úó Title + content don't align\n- ‚úó Visual unrelated to title\n- ‚úó Requires full narration to understand\n\n**Fix**: Strengthen title-visual connection, add clarifying labels\n\n---\n\n### 10. ‚úì Phrases Not Sentences\n\n**Criterion**: Bullets are short phrases (3-6 words), not full sentences\n\n**Why this matters**:\n- Prevents audience from reading ahead\n- Keeps focus on speaker\n- Avoids reading-while-listening conflict\n- Garr Reynolds principle: slides support, don't replace speaker\n\n**Good vs Bad**:\n- ‚ùå Bad: \"Kubernetes orchestrates containerized applications across a cluster of machines\"\n- ‚úÖ Good: \"Container orchestration across clusters\"\n\n**How to assess**:\nAre bullets short keyword phrases or full grammatical sentences?\n\n**Red flags**:\n- ‚úó Bullets with periods at the end\n- ‚úó Multi-clause sentences\n- ‚úó Explanatory prose in bullets\n\n**Fix**: Extract keywords, move details to presenter notes\n\n---\n\n### 11. ‚úì White Space (‚â•10% Margins)\n\n**Criterion**: Adequate white space around content (‚â•10% margins, well-distributed)\n\n**Why this matters**:\n- Prevents claustrophobic feeling\n- Improves visual hierarchy\n- Directs attention to content\n- Professional appearance\n\n**How to assess**:\n- Is content distributed across slide?\n- Breathing room around elements?\n- Clear visual separation?\n\n**Red flags**:\n- ‚úó Content edge-to-edge\n- ‚úó Cramped, dense appearance\n- ‚úó Elements overlapping or too close\n\n**Fix**: Reduce content, increase padding, split slides\n\n---\n\n### 12. ‚úì Explainable in ~90 Seconds\n\n**Criterion**: Slide can be presented in approximately 90 seconds (configurable)\n\n**Why this matters**:\n- Maintains presentation pace\n- Prevents overloaded slides\n- Ensures depth without overwhelm\n- Standard conference timing\n\n**How to assess**:\n- Can you explain all content in 90 seconds?\n- Does slide require lengthy explanation?\n- Would you rush through material?\n\n**Red flags**:\n- ‚úó Requires >2 minutes to cover\n- ‚úó Dense content needing detailed explanation\n- ‚úó Multiple complex points\n\n**Fix**: Split slides, simplify content, move details to notes\n\n---\n\n## Quality Scoring System\n\n**Score calculation**: Count ‚úì for each criterion met (max 12 points)\n\n**Interpretation**:\n- **12/12** - Excellent: Publication-ready\n- **10-11/12** - Good: Minor tweaks needed\n- **8-9/12** - Acceptable: Some improvements needed\n- **6-7/12** - Poor: Significant revision required\n- **<6/12** - Critical: Complete redesign needed\n\n**Priority for fixes**:\n1. **CRITICAL** violations (criteria 1-4): Must fix before presenting\n2. **HIGH** violations (criteria 5-8): Should fix for quality presentation\n3. **MEDIUM** violations (criteria 9-12): Nice to fix for polish\n\n---\n\n## Analysis Output Format\n\nWhen assessing a slide, provide:\n\n```markdown\n## Slide [N]: [Current Title]\n\n**Quality Score: [X/12]**\n\n**Current State:**\n- ‚úì/‚úó One idea per slide\n- ‚úì/‚úó Meaningful title (assertion vs label)\n- ‚úì/‚úó Element count: [X] elements (target ‚â§6)\n- ‚úì/‚úó Word count: [Y] words (target <50)\n- ‚úì/‚úó Visual element present\n- ‚úì/‚úó Font sizes (body ‚â•18pt, heading ‚â•24pt)\n- ‚úì/‚úó Contrast ratio (‚â•4.5:1)\n- ‚úì/‚úó Colorblind-safe (not color-only)\n- ‚úì/‚úó Standalone comprehension (title + visual = point)\n- ‚úì/‚úó Phrases not sentences\n- ‚úì/‚úó White space (‚â•10% margins)\n- ‚úì/‚úó Explainable in ~90 seconds\n\n**Critical Violations:** [List any CRITICAL criteria failures, or \"None\"]\n\n**Recommendations (Priority Order):**\n\n1. **[CRITICAL/HIGH/MEDIUM] - [Specific issue]**\n   - Current: [What exists now with specific examples]\n   - Suggested: [Concrete improvement with example]\n   - Why: [Research basis from criteria above]\n   - Impact: [Expected improvement]\n\n2. **[Priority] - [Next issue]**\n   [Same structure...]\n\n**Quick Win:** [One simple change with biggest impact]\n```\n\n---\n\n## Optimization Strategies by Issue\n\n### Reducing Element Count (>6 elements)\n\n**Tactics**:\n- Merge related bullets into single points\n- Move supporting details to presenter notes\n- Split into 2-3 simpler slides\n- Use progressive builds (v-click) to reveal incrementally\n\n**Example**:\n- Current: 8 bullets about microservices benefits\n- Fix: Keep 4 key benefits, move implementation details to notes\n\n---\n\n### Reducing Word Count (>50 words)\n\n**Tactics**:\n- Convert full sentences to keyword phrases\n- Remove articles (a, an, the)\n- Use symbols/abbreviations where clear\n- Move explanations to presenter notes\n\n**Example**:\n- Current: \"Kubernetes provides automated deployment, scaling, and management of containerized applications\"\n- Fix: \"Automated container deployment & scaling\"\n\n---\n\n### Creating Meaningful Titles (Label ‚Üí Assertion)\n\n**Tactics**:\n- Add verb + finding to label\n- State the conclusion, not the category\n- Make title reveal the \"so what?\"\n\n**Examples**:\n- \"Results\" ‚Üí \"Response time improved 3x with caching\"\n- \"Background\" ‚Üí \"Current solutions fail under high load\"\n- \"Architecture\" ‚Üí \"Microservices enable independent scaling\"\n\n---\n\n### Adding Visual Elements\n\n**When to add what**:\n- **Process/workflow** ‚Üí Mermaid flowchart\n- **Architecture** ‚Üí Mermaid component diagram\n- **Data comparison** ‚Üí Chart/graph\n- **Concepts** ‚Üí Icon or stock photo\n- **Code behavior** ‚Üí Code snippet with highlights\n\n**Tip**: Use visual-design skill for diagram creation\n\n---\n\n### Converting Sentences to Phrases\n\n**Pattern**:\n- Identify the core noun phrase\n- Remove helping verbs, articles\n- Keep 3-6 words maximum\n\n**Examples**:\n- \"The system automatically scales based on traffic\" ‚Üí \"Auto-scaling based on traffic\"\n- \"We implemented caching to improve performance\" ‚Üí \"Caching improves performance\"\n\n---\n\n## Edge Cases & Exceptions\n\n### Slides That Don't Follow Standard Rules\n\n**Title slides**:\n- Skip word count limit\n- Focus on visual impact\n- Branding/conference info acceptable\n\n**Code slides**:\n- Check syntax highlighting\n- Verify relevant line selection (not full files)\n- Ensure <15 lines per block\n- OK if text-heavy (code is visual)\n\n**Data slides**:\n- Chart clarity most important\n- One insight per slide (even if data supports multiple)\n- Label axes, provide legend\n\n**Quote slides**:\n- Attribution required\n- Large readable font\n- Can be text-only\n- Keep quote <50 words\n\n**Diagram-heavy slides**:\n- Minimal text OK if diagram self-explanatory\n- Ensure diagram elements ‚â§6\n- Add title asserting diagram's point\n\n**Reference slides** (appendix/backup):\n- Mark as \"reference\" or \"backup\"\n- Skip optimization\n- Dense content acceptable\n\n---\n\n## When NOT to Optimize\n\n**Don't optimize when**:\n- Slide explicitly marked \"detailed\" or \"reference\"\n- Mathematical proof requiring full derivation\n- Code example needing complete context\n- Intentional design choice with rationale\n\n**Ask first if**:\n- Unusual format seems intentional\n- Content density might be presentation-specific requirement\n- User indicates special constraints\n\n---\n\n## Interaction Guidelines\n\n**When analyzing**:\n- Be specific (not vague like \"improve clarity\")\n- Explain reasoning with research basis\n- Prioritize recommendations (most impactful first)\n- Acknowledge good elements (not only criticism)\n- Offer to apply changes or let user decide\n\n**After analysis**:\n- Ask if user wants to apply recommendations\n- Allow selective application (not all-or-nothing)\n- Offer to re-assess after changes\n- Suggest next steps (optimize another slide, etc.)\n\n---\n\n## Working With This Skill\n\n**To analyze a slide**:\n1. Read the slide file\n2. Apply each of the 12 criteria systematically\n3. Count violations and score\n4. Prioritize recommendations (CRITICAL ‚Üí HIGH ‚Üí MEDIUM)\n5. Provide specific, actionable suggestions\n6. Offer to implement approved changes\n\n**Integration with other skills**:\n- Use **presentation-design** skill for overall structure/flow\n- Use **visual-design** skill to create diagrams/visuals\n- Use **slidev-mastery** skill for technical Slidev syntax\n\n**Tools available**:\n- Read: Examine slide content\n- Edit: Apply recommended improvements\n- Grep: Search for patterns across slides\n\nApply this framework consistently to help create clear, accessible, evidence-based presentations."
              },
              {
                "name": "Slidev Mastery",
                "description": "This skill should be used when the user asks to \"create slides with Slidev\", \"use Slidev syntax\", \"add Slidev components\", \"configure Slidev theme\", \"export Slidev presentation\", or mentions Slidev-specific features like layouts, animations, Monaco editor, or code highlighting. Provides comprehensive Slidev expertise for markdown-based presentations.",
                "path": "skills/slidev-mastery/SKILL.md",
                "frontmatter": {
                  "name": "Slidev Mastery",
                  "description": "This skill should be used when the user asks to \"create slides with Slidev\", \"use Slidev syntax\", \"add Slidev components\", \"configure Slidev theme\", \"export Slidev presentation\", or mentions Slidev-specific features like layouts, animations, Monaco editor, or code highlighting. Provides comprehensive Slidev expertise for markdown-based presentations.",
                  "version": "0.2.0"
                },
                "content": "# Slidev Mastery\n\nSlidev is a presentation framework for developers that uses markdown with Vue components. Create beautiful, interactive slides using familiar syntax with powerful features like live coding, diagrams, and animations.\n\n**Evidence-based design**: This skill incorporates research-based best practices for accessible, effective presentations. See `references/presentation-best-practices.md` for full guidelines.\n\n## Core Concepts\n\n### Slide Separation\n\nSeparate slides with `---` on its own line:\n\n```markdown\n# First Slide\n\nContent here\n\n---\n\n# Second Slide\n\nMore content\n```\n\n### Importing Slides from External Files\n\nYou can split your presentation into multiple markdown files using the `src` frontmatter option. This allows for better organization and reusability:\n\n```markdown\n# Normal slide\n\n---\nsrc: ./slides/introduction.md\n---\n\n---\n# Another normal slide\n\n---\nsrc: ./slides/conclusion.md\n---\n```\n\n**Benefits of modular slide structure:**\n- **Stable identity:** Use meaningful filenames (e.g., `microservices-benefits.md`) instead of numbers\n- **Easy reordering:** Move `src` includes in master file without renaming files\n- **Independent editing:** Edit individual slide files separately\n- **Better collaboration:** Team members can work on different slides simultaneously\n- **Version control:** Meaningful file names in git diffs\n\n**Example structure:**\n```\npresentation/\n‚îú‚îÄ‚îÄ slides.md                      # Master file with includes\n‚îú‚îÄ‚îÄ slides/\n‚îÇ   ‚îú‚îÄ‚îÄ 01-title.md                # Slide 1: Title\n‚îÇ   ‚îú‚îÄ‚îÄ 02-hook.md                 # Slide 2: Opening hook\n‚îÇ   ‚îú‚îÄ‚îÄ 03-problem-statement.md    # Slide 3: Problem introduction\n‚îÇ   ‚îú‚îÄ‚îÄ 04-architecture-overview.md # Slide 4: Architecture slide\n‚îÇ   ‚îú‚îÄ‚îÄ 18-conclusion.md           # Conclusion\n‚îÇ   ‚îî‚îÄ‚îÄ 19-questions.md            # Q&A\n‚îî‚îÄ‚îÄ public/images/\n```\n\n**File naming:** Individual slides use numeric prefix (01-, 02-, etc.) plus descriptive name for easy ordering in directory listings while maintaining meaningful names.\n\n**Master file example with slide number comments:**\n```markdown\n---\ntheme: default\ntitle: My Presentation\n---\n\n---\nsrc: ./slides/01-title.md\n---\n<!-- Slide 1: Title -->\n\n---\nsrc: ./slides/02-hook.md\n---\n<!-- Slide 2: Opening Hook -->\n\n---\nsrc: ./slides/03-problem-statement.md\n---\n<!-- Slide 3: Problem Statement -->\n```\n\n**Note:** Comments must come AFTER the closing `---` (not inside frontmatter block) per Slidev specs.\n\n**Frontmatter merging:** You can override frontmatter from external files:\n```markdown\n---\nsrc: ./slides/content.md\nlayout: two-cols  # Overrides layout in content.md\n---\n```\n\n### Frontmatter Configuration\n\nConfigure presentation globally in frontmatter at the top of `slides.md`:\n\n```yaml\n---\ntheme: default\nbackground: https://source.unsplash.com/collection/94734566/1920x1080\nclass: text-center\nhighlighter: shiki\nlineNumbers: false\ndrawings:\n  persist: false\ntransition: slide-left\ntitle: Welcome to Slidev\n---\n```\n\n**Key frontmatter fields:**\n- `theme`: Visual theme (default, seriph, apple-basic, etc.)\n- `background`: Global background image or color\n- `highlighter`: Code highlighting engine (shiki or prism)\n- `lineNumbers`: Show line numbers in code blocks\n- `transition`: Slide transition effect\n- `title`: Presentation title for metadata\n\n### Per-Slide Frontmatter\n\nConfigure individual slides with frontmatter after `---`:\n\n```markdown\n---\nlayout: center\nbackground: './images/background.jpg'\nclass: 'text-white'\n---\n\n# Centered Slide\n\nWith custom background\n```\n\n## Layouts\n\nSlidev provides built-in layouts for different slide types:\n\n### Common Layouts\n\n**`default`** - Standard layout with title and content:\n```markdown\n# Title\n\nContent here\n```\n\n**`center`** - Centered content:\n```markdown\n---\nlayout: center\n---\n\n# Centered Title\n```\n\n**`cover`** - Cover slide for presentation start:\n```markdown\n---\nlayout: cover\nbackground: './bg.jpg'\n---\n\n# Presentation Title\n\nSubtitle or author\n```\n\n**`intro`** - Introduction slide:\n```markdown\n---\nlayout: intro\n---\n\n# Topic\n\nBrief description\n```\n\n**`image-right`** - Content on left, image on right:\n```markdown\n---\nlayout: image-right\nimage: './diagram.png'\n---\n\n# Content\n\nText goes here\n```\n\n**`image-left`** - Image on left, content on right:\n```markdown\n---\nlayout: image-left\nimage: './photo.jpg'\n---\n\n# Content\n\nText goes here\n```\n\n**`two-cols`** - Two column layout:\n```markdown\n---\nlayout: two-cols\n---\n\n# Left Column\n\nContent for left\n\n::right::\n\n# Right Column\n\nContent for right\n```\n\n**`quote`** - Large quote display:\n```markdown\n---\nlayout: quote\n---\n\n# \"Innovation distinguishes between a leader and a follower.\"\n\nSteve Jobs\n```\n\n**`fact`** - Emphasize key fact or statistic:\n```markdown\n---\nlayout: fact\n---\n\n# 95%\n\nUser satisfaction rate\n```\n\n## Code Highlighting\n\n### Basic Code Blocks\n\n```markdown\n\\```python\ndef hello():\n    print(\"Hello, World!\")\n\\```\n```\n\n### Line Highlighting\n\nHighlight specific lines with `{line-numbers}`:\n\n```markdown\n\\```python {2-3}\ndef process():\n    important_line()\n    another_important()\n    return result\n\\```\n```\n\n### Line Numbers\n\nEnable line numbers for a code block:\n\n```markdown\n\\```python {1|2|3} {lines:true}\nfirst_line()\nsecond_line()\nthird_line()\n\\```\n```\n\n### Monaco Editor\n\nEnable live code editing with Monaco:\n\n```markdown\n\\```python {monaco}\ndef editable():\n    return \"Users can edit this code\"\n\\```\n```\n\n## Animations and Clicks\n\n### Click Animations\n\nReveal content incrementally with `v-click`:\n\n```markdown\n- First point\n- <v-click>Second point (appears on click)</v-click>\n- <v-click>Third point (appears on next click)</v-click>\n```\n\n### After Clicks\n\nShow content after specific click:\n\n```markdown\n<div v-after=\"2\">\n  Appears after 2 clicks\n</div>\n```\n\n### Click Counting\n\nUse click counters for complex animations:\n\n```markdown\n<div v-click=\"1\">First</div>\n<div v-click=\"2\">Second</div>\n<div v-click=\"3\">Third</div>\n```\n\n## Mermaid Diagrams\n\nEmbed mermaid diagrams directly:\n\n```markdown\n\\```mermaid\ngraph LR\n    A[Start] --> B[Process]\n    B --> C[End]\n\\```\n```\n\n**Supported diagram types:**\n- Flowchart: `graph LR`, `graph TD`\n- Sequence: `sequenceDiagram`\n- Class: `classDiagram`\n- State: `stateDiagram-v2`\n- ER: `erDiagram`\n- Gantt: `gantt`\n\n### Custom Theme\n\nApply custom colors to mermaid diagrams:\n\n```markdown\n\\```mermaid\n%%{init: {'theme':'base', 'themeVariables': { 'primaryColor':'#3b82f6'}}}%%\ngraph TD\n    A[Blue themed]\n\\```\n```\n\n## Images and Media\n\n### Images\n\n```markdown\n![Alt text](./path/to/image.jpg)\n```\n\nWith custom size:\n\n```markdown\n<img src=\"./image.jpg\" class=\"w-50 mx-auto\" />\n```\n\n### Background Images\n\nPer-slide background:\n\n```markdown\n---\nbackground: './images/slide-bg.jpg'\n---\n```\n\n## Presenter Notes\n\nAdd notes visible only in presenter mode:\n\n```markdown\n# Slide Title\n\nContent visible to audience\n\n<!--\nThese are presenter notes\nOnly visible in presenter mode\nPress 'p' to toggle presenter view\n-->\n```\n\n## Components\n\n### Built-in Components\n\n**Arrows**:\n```markdown\n<Arrow x1=\"100\" y1=\"100\" x2=\"200\" y2=\"200\" />\n```\n\n**YouTube**:\n```markdown\n<Youtube id=\"video-id\" width=\"500\" height=\"300\" />\n```\n\n**Tweet**:\n```markdown\n<Tweet id=\"tweet-id\" />\n```\n\n### Custom Components\n\nCreate reusable Vue components in `components/` directory:\n\n```vue\n<!-- components/CustomButton.vue -->\n<template>\n  <button class=\"custom-btn\">\n    <slot />\n  </button>\n</template>\n\n<style scoped>\n.custom-btn {\n  background: #3b82f6;\n  color: white;\n  padding: 1rem 2rem;\n  border-radius: 0.5rem;\n}\n</style>\n```\n\nUse in slides:\n\n```markdown\n<CustomButton>Click me</CustomButton>\n```\n\n## Themes\n\n### Using Themes\n\nSet in frontmatter:\n\n```yaml\n---\ntheme: seriph\n---\n```\n\n**Popular themes:**\n- `default` - Clean, minimal\n- `seriph` - Elegant serif fonts\n- `apple-basic` - Apple keynote style\n- `shibainu` - Playful, colorful\n- `bricks` - Modern, structured\n\n### Custom Styling\n\nAdd custom CSS in frontmatter or separate `style.css`:\n\n```markdown\n---\n---\n\n<style>\nh1 {\n  color: #3b82f6;\n}\n\n.custom-class {\n  background: linear-gradient(45deg, #3b82f6, #8b5cf6);\n}\n</style>\n```\n\n## Exporting\n\n### PDF Export\n\n```bash\nslidev export slides.md --output presentation.pdf\n```\n\n### PPTX Export\n\n```bash\nslidev export slides.md --format pptx\n```\n\n### PNG Export (slides as images)\n\n```bash\nslidev export slides.md --format png --output slides/\n```\n\n## Development Workflow\n\n### Start Dev Server\n\n```bash\nslidev slides.md\n```\n\nOpens at `http://localhost:3030` with hot reload.\n\n### Build for Production\n\n```bash\nslidev build slides.md\n```\n\nGenerates static HTML in `dist/` directory.\n\n### Presenter Mode\n\nPress `p` during presentation to enter presenter mode with notes and preview.\n\n## Best Practices (Evidence-Based)\n\n### Slide Content\n\n**One idea per slide** (Critical):\n- Each slide communicates exactly one central finding\n- If explaining takes >2 minutes ‚Üí split into multiple slides\n- Slide title should state the one clear point\n\n**Meaningful titles** (Critical):\n- Use assertions, not labels: \"API handles 10K req/sec\" not \"Performance\"\n- Format: subject + verb + finding\n- Reading titles in sequence should tell the story\n\n**Minimal text** (Critical):\n- <50 words per slide (excluding title)\n- Use keywords and phrases, not full sentences\n- Put detailed explanations in presenter notes (not on slide)\n- Remember: Audience cannot read and listen simultaneously\n\n**Visual over text**:\n- Almost never have text-only slides\n- Use diagrams, charts, images, code\n- Text-only acceptable only for: quotes, definitions, bold statements\n\n**Cognitive load management**:\n- Max 6 distinct elements per slide (bullets, images, diagrams, charts)\n- If >6 needed, use progressive disclosure with `v-click`\n- Example of elements: title + 1 diagram + 3 bullets = 5 ‚úì\n\n**Progressive disclosure** - Use `v-click` for complex ideas:\n```markdown\n- Key point 1\n- <v-click>Key point 2 (reveals on click)</v-click>\n- <v-click>Key point 3 (reveals next)</v-click>\n```\nPrevents audience from reading ahead while you explain\n\n### File Organization\n\n```\npresentation/\n‚îú‚îÄ‚îÄ slides.md           # Main presentation\n‚îú‚îÄ‚îÄ public/             # Static assets\n‚îÇ   ‚îî‚îÄ‚îÄ images/\n‚îú‚îÄ‚îÄ components/         # Custom Vue components\n‚îî‚îÄ‚îÄ styles/            # Custom CSS\n```\n\n### Performance\n\n- **Optimize images** - Compress before using\n- **Lazy load** - Use v-after for heavy content\n- **Limit animations** - Don't overuse transitions\n- **Test export** - Verify PDF/PPTX render correctly\n\n### Accessibility (Required)\n\n**Font requirements** (from research):\n- **Body text**: Minimum 18pt, ideally 18-24pt\n- **Headings**: Minimum 24pt or larger\n- **Font family**: Sans-serif for body (Arial, Helvetica, Verdana)\n- **AVOID**: Italics, underlines, ALL CAPS in body text (reduces readability)\n\nConfigure in frontmatter or custom CSS:\n```yaml\n---\ntheme: default\n---\n\n<style>\n/* Accessibility-focused defaults */\nh1 { font-size: 3rem; }      /* ~48pt */\nh2 { font-size: 2rem; }      /* ~32pt */\nh3 { font-size: 1.5rem; }    /* ~24pt */\np, li { font-size: 1.25rem; } /* ~20pt */\n\nbody {\n  font-family: 'Helvetica Neue', Arial, sans-serif;\n}\n</style>\n```\n\n**Color requirements**:\n- **Contrast ratio**: Minimum 4.5:1 for normal text, 3:1 for large text (>24pt)\n- **Colorblind-safe**: Use tools like ColorBrewer to verify palettes\n- **Don't rely on color alone**: Add patterns, labels, or shapes\n  - Example: In charts, use both color AND patterns/icons\n- **Core scheme**: 2 main colors (one light, one dark), 1-2 accents\n\nTest contrast:\n```bash\n# Online tools\n# - WebAIM Contrast Checker\n# - Colorblind Web Page Filter\n```\n\n**Layout requirements**:\n- Adequate margins and white space\n- Consistent layout across slides\n- Clear section demarcation\n- Alt text for all images (in presenter notes)\n\n**Keyboard navigation**:\n- Test presentation without mouse\n- Arrow keys, space bar should work\n- Presenter mode accessible via 'p' key\n\n**Recommended accessible theme:**\n```yaml\n---\ntheme: default  # Good contrast, clean design\n# OR create custom theme with accessibility defaults\n---\n```\n\n## Common Patterns\n\n### Title Slide\n\n```markdown\n---\nlayout: cover\nbackground: './background.jpg'\n---\n\n# Presentation Title\n\n## Subtitle\n\nAuthor Name ¬∑ Date\n```\n\n### Agenda Slide\n\n```markdown\n# Agenda\n\n- <v-click>Introduction</v-click>\n- <v-click>Main Topics</v-click>\n- <v-click>Conclusion</v-click>\n- <v-click>Q&A</v-click>\n```\n\n### Code Comparison\n\n```markdown\n---\nlayout: two-cols\n---\n\n# Before\n\n\\```python\nold_code()\n\\```\n\n::right::\n\n# After\n\n\\```python\nimproved_code()\n\\```\n```\n\n### Diagram with Explanation\n\n```markdown\n---\nlayout: image-right\n---\n\n# Architecture\n\n\\```mermaid\ngraph TD\n    A[Client]\n    B[Server]\n    A --> B\n\\```\n\n::right::\n\nKey points:\n- Client initiates\n- Server responds\n- Simple flow\n```\n\n## Troubleshooting\n\n### Slides not rendering\n\n- Check markdown syntax (especially `---` separators)\n- Verify frontmatter YAML is valid\n- Ensure images paths are correct\n\n### Code highlighting not working\n\n- Verify highlighter is set (`shiki` or `prism`)\n- Check language identifier in code block\n- Ensure code block syntax is correct\n\n### Export fails\n\n- Install playwright browsers: `npx playwright install`\n- Check for syntax errors in slides\n- Verify all image paths are accessible\n\n### Theme not applying\n\n- Ensure theme is installed: `npm install slidev-theme-name`\n- Check theme name spelling in frontmatter\n- Restart dev server after theme installation\n\n---\n\nFor more advanced features and detailed API documentation, consult Slidev official documentation at https://sli.dev"
              },
              {
                "name": "Visual Design",
                "description": "This skill should be used when the user asks to \"create mermaid diagram\", \"add visuals to slides\", \"suggest stock photos\", \"generate AI image prompts\", \"create diagram for presentation\", \"design visual theme\", or needs guidance on diagram types, color palettes, image selection, or AI image generation prompting for presentations.",
                "path": "skills/visual-design/SKILL.md",
                "frontmatter": {
                  "name": "Visual Design",
                  "description": "This skill should be used when the user asks to \"create mermaid diagram\", \"add visuals to slides\", \"suggest stock photos\", \"generate AI image prompts\", \"create diagram for presentation\", \"design visual theme\", or needs guidance on diagram types, color palettes, image selection, or AI image generation prompting for presentations.",
                  "version": "0.2.0"
                },
                "content": "# Visual Design for Presentations\n\nEffective visual design combines diagrams, images, and consistent theming to create engaging, professional, accessible presentations. Master mermaid diagrams, stock photography, AI image generation, colorblind-safe palettes, and visual cohesion.\n\n**Evidence-based accessibility**: This skill incorporates research-based best practices for accessible visual design. See `references/presentation-best-practices.md` for full guidelines.\n\n## Mermaid Diagrams\n\nMermaid provides text-based diagramming that renders beautifully in Slidev and exports well.\n\n### Flowcharts\n\nBest for: Processes, decision trees, workflows\n\n**Basic syntax:**\n```mermaid\ngraph TD\n    A[Start] --> B{Decision}\n    B -->|Yes| C[Action 1]\n    B -->|No| D[Action 2]\n    C --> E[End]\n    D --> E\n```\n\n**Direction options:**\n- `graph TD` - Top to bottom\n- `graph LR` - Left to right\n- `graph RL` - Right to left\n- `graph BT` - Bottom to top\n\n**Node shapes:**\n```mermaid\ngraph LR\n    A[Rectangle]\n    B(Rounded)\n    C([Stadium])\n    D[[Subroutine]]\n    E[(Database)]\n    F((Circle))\n    G>Flag]\n    H{Diamond}\n    I{{Hexagon}}\n```\n\n**Arrow types:**\n```mermaid\ngraph LR\n    A-->B      %% Solid arrow\n    C-.->D     %% Dotted arrow\n    E==>F      %% Thick arrow\n    G-.-H      %% Dotted line\n    I---J      %% Solid line\n```\n\n**Edge labels:**\n```mermaid\ngraph LR\n    A -->|Label text| B\n    B -.->|Another label| C\n```\n\n### Sequence Diagrams\n\nBest for: API calls, interactions, communication flows\n\n```mermaid\nsequenceDiagram\n    participant Client\n    participant Server\n    participant Database\n\n    Client->>Server: HTTP Request\n    Server->>Database: Query\n    Database-->>Server: Results\n    Server-->>Client: HTTP Response\n```\n\n**Message types:**\n- `->` Solid line\n- `-->` Dotted line\n- `->>` Solid arrow\n- `-->>` Dotted arrow\n\n**Activation boxes:**\n```mermaid\nsequenceDiagram\n    Client->>+Server: Request\n    Server->>+Database: Query\n    Database-->>-Server: Data\n    Server-->>-Client: Response\n```\n\n**Notes:**\n```mermaid\nsequenceDiagram\n    Client->>Server: Request\n    Note right of Server: Processing\n    Server->>Database: Query\n    Note over Client,Server: Communication\n```\n\n### Class Diagrams\n\nBest for: Object-oriented design, data models, architecture\n\n```mermaid\nclassDiagram\n    class User {\n        +String name\n        +String email\n        +login()\n        +logout()\n    }\n\n    class Order {\n        +int orderId\n        +Date date\n        +calculateTotal()\n    }\n\n    User \"1\" --> \"*\" Order : places\n```\n\n**Relationships:**\n- `<|--` Inheritance\n- `*--` Composition\n- `o--` Aggregation\n- `-->` Association\n- `--` Link\n- `..|>` Realization\n- `..` Dependency\n\n**Visibility:**\n- `+` Public\n- `-` Private\n- `#` Protected\n- `~` Package\n\n### State Diagrams\n\nBest for: State machines, lifecycle, status changes\n\n```mermaid\nstateDiagram-v2\n    [*] --> Draft\n    Draft --> Review\n    Review --> Approved\n    Review --> Rejected\n    Rejected --> Draft\n    Approved --> Published\n    Published --> [*]\n```\n\n**With descriptions:**\n```mermaid\nstateDiagram-v2\n    [*] --> Idle\n    Idle --> Processing : Start\n    Processing --> Complete : Success\n    Processing --> Error : Failure\n    Error --> Idle : Retry\n    Complete --> [*]\n```\n\n### ER Diagrams\n\nBest for: Database schemas, data relationships\n\n```mermaid\nerDiagram\n    CUSTOMER ||--o{ ORDER : places\n    ORDER ||--|{ LINE-ITEM : contains\n    PRODUCT ||--o{ LINE-ITEM : includes\n\n    CUSTOMER {\n        string name\n        string email\n        int customerId\n    }\n\n    ORDER {\n        int orderId\n        date orderDate\n        float total\n    }\n```\n\n**Relationship types:**\n- `||--||` One to one\n- `||--o{` One to many\n- `}o--o{` Many to many\n- `||--o|` Zero or one\n\n### Gantt Charts\n\nBest for: Timelines, project schedules, roadmaps\n\n```mermaid\ngantt\n    title Project Timeline\n    dateFormat YYYY-MM-DD\n\n    section Phase 1\n    Task 1           :a1, 2024-01-01, 30d\n    Task 2           :after a1, 20d\n\n    section Phase 2\n    Task 3           :2024-02-01, 25d\n    Task 4           :2024-02-15, 20d\n```\n\n### Theming Diagrams\n\nApply consistent colors:\n\n```mermaid\n%%{init: {'theme':'base', 'themeVariables': {\n  'primaryColor':'#3b82f6',\n  'primaryTextColor':'#fff',\n  'primaryBorderColor':'#2563eb',\n  'lineColor':'#6b7280',\n  'secondaryColor':'#8b5cf6',\n  'tertiaryColor':'#f59e0b'\n}}}%%\ngraph TD\n    A[Start] --> B[Process]\n    B --> C[End]\n```\n\n**Theme presets:**\n- `default` - Standard colors\n- `dark` - Dark mode\n- `forest` - Green tones\n- `neutral` - Grayscale\n- `base` - Customizable (use themeVariables)\n\n## Diagram Selection Guide\n\n**Process or workflow?** ‚Üí Flowchart\n- Shows steps and decisions\n- Linear or branching paths\n- Start and end points clear\n\n**System interaction?** ‚Üí Sequence Diagram\n- Shows communication between components\n- Time-ordered messages\n- Request/response patterns\n\n**Data structure?** ‚Üí Class or ER Diagram\n- Shows entities and relationships\n- Object-oriented design\n- Database schema\n\n**State changes?** ‚Üí State Diagram\n- Shows status transitions\n- Lifecycle representation\n- Finite states\n\n**Timeline or schedule?** ‚Üí Gantt Chart\n- Shows tasks over time\n- Dependencies and milestones\n- Project planning\n\n**Complex architecture?** ‚Üí Component + Flowchart\n- Multiple diagram types\n- Different abstraction levels\n- Layered view\n\n## Stock Photography\n\n### Image Selection Criteria\n\n**Relevance:**\n- Directly related to slide content\n- Reinforces message\n- Doesn't distract\n\n**Quality:**\n- Minimum 1920x1080 resolution\n- Sharp, well-lit\n- Professional composition\n\n**Tone:**\n- Matches presentation style\n- Appropriate for audience\n- Consistent emotional impact\n\n**Diversity:**\n- Inclusive representation\n- Varied perspectives\n- Authentic, not staged\n\n### Unsplash Search Strategies\n\n**Concept-based searches:**\n- \"team collaboration\"\n- \"data visualization\"\n- \"technology innovation\"\n- \"business meeting\"\n- \"cloud computing abstract\"\n\n**Color-specific searches:**\n- \"blue technology\"\n- \"minimal white background\"\n- \"dark professional\"\n\n**Orientation searches:**\n- Add \"landscape\" for 16:9 slides\n- Add \"portrait\" for split layouts\n\n**Quality indicators:**\n- High view count\n- Professional photographer\n- Editorial collection\n\n### Pexels Alternative\n\nSimilar to Unsplash, good backup source:\n- Free for commercial use\n- No attribution required (but appreciated)\n- Good for videos too\n\n### Attribution\n\nInclude in presenter notes or final slide:\n\n```markdown\n<!--\nImage credits:\n- Photo by [Photographer Name] on Unsplash\n- https://unsplash.com/photos/[photo-id]\n-->\n```\n\n### Image Optimization\n\n**Before using:**\n- Resize to 1920x1080 maximum\n- Compress to reduce file size\n- Save in appropriate format (JPG for photos, PNG for graphics)\n\n**Tools:**\n- ImageMagick: `convert input.jpg -resize 1920x1080 output.jpg`\n- Online: TinyPNG, Squoosh\n\n## AI Image Generation\n\n### DALL-E 3 Prompting\n\n**Structure:**\n```\n[Subject] + [Style] + [Composition] + [Colors] + [Details] + [Quality]\n```\n\n**Examples:**\n\nTechnical presentation:\n```\nIsometric illustration of cloud infrastructure, interconnected servers\nand databases, modern tech style, blue and purple gradient, clean\nminimal design, high detail, professional quality\n```\n\nBusiness presentation:\n```\nProfessional photograph of diverse business team in modern office,\ncollaborating around laptop, natural lighting, corporate environment,\nblue and gray tones, shallow depth of field, high resolution\n```\n\nData visualization:\n```\nAbstract data visualization, flowing connections and nodes,\ninformation network concept, gradient from blue to cyan,\ndark background, glowing elements, futuristic style, 16:9 ratio\n```\n\n**Best practices:**\n- Be specific about style (photo, illustration, 3D render)\n- Specify aspect ratio (16:9 for slides)\n- Include lighting details for realism\n- Mention color palette for consistency\n- Add quality descriptors (high detail, professional)\n\n### Midjourney Prompting\n\n**Structure:**\n```\n/imagine [description] --ar 16:9 --v 6 --style [style]\n```\n\n**Examples:**\n\nConcept illustration:\n```\n/imagine neural network visualization, interconnected nodes and\npathways, abstract tech concept, electric blue and cyan,\ndark background, volumetric lighting --ar 16:9 --v 6 --style raw\n```\n\nArchitectural diagram:\n```\n/imagine microservices architecture diagram, isometric view,\ncontainerized applications, kubernetes cluster, technical illustration,\nblue white color scheme, clean lines --ar 16:9 --v 6\n```\n\n**Parameters:**\n- `--ar 16:9` Aspect ratio for slides\n- `--v 6` Version 6 (latest)\n- `--style raw` Less artistic, more literal\n- `--q 2` Quality (1-2, higher = better)\n- `--s 50` Stylization (0-1000, lower = literal)\n\n### Stable Diffusion Prompting\n\n**Positive prompt:**\n```\nprofessional business chart visualization, clean modern design,\nblue gradient background, data analytics concept, high quality,\ndetailed, 4k resolution, trending on artstation\n```\n\n**Negative prompt:**\n```\nblurry, low quality, text, watermark, signature, distorted,\nugly, bad anatomy, poorly drawn\n```\n\n**Settings:**\n- Steps: 30-50\n- CFG Scale: 7-12\n- Size: 1024x576 (16:9) or 1920x1080\n\n### AI Image Best Practices\n\n**Do:**\n- Generate multiple variations\n- Iterate on prompts\n- Specify technical requirements\n- Match presentation theme\n- Use consistent style across slides\n\n**Don't:**\n- Use first result without review\n- Mix incompatible styles\n- Include text in AI images (often garbled)\n- Over-complicate prompts\n- Ignore licensing terms\n\n## Visual Theme Development\n\n### Color Palettes\n\n**Corporate/Professional:**\n```\nPrimary: #1e40af (Deep Blue)\nSecondary: #6b7280 (Gray)\nAccent: #3b82f6 (Bright Blue)\nBackground: #ffffff (White)\nText: #1f2937 (Dark Gray)\n```\n\n**Tech/Modern:**\n```\nPrimary: #3b82f6 (Blue)\nSecondary: #8b5cf6 (Purple)\nAccent: #06b6d4 (Cyan)\nBackground: #0f172a (Dark Navy)\nText: #f8fafc (Light)\n```\n\n**Academic/Formal:**\n```\nPrimary: #1e3a8a (Navy)\nSecondary: #991b1b (Maroon)\nAccent: #92400e (Brown)\nBackground: #fef3c7 (Cream)\nText: #1c1917 (Black)\n```\n\n**Creative/Energetic:**\n```\nPrimary: #dc2626 (Red)\nSecondary: #f59e0b (Amber)\nAccent: #8b5cf6 (Purple)\nBackground: #ffffff (White)\nText: #18181b (Black)\n```\n\n### Color Theory\n\n**Complementary:** Opposite on color wheel\n- High contrast\n- Energetic feel\n- Use sparingly\n\n**Analogous:** Adjacent on color wheel\n- Harmonious\n- Pleasing to eye\n- Professional look\n\n**Monochromatic:** Variations of single hue\n- Cohesive\n- Sophisticated\n- Easy to execute\n\n**Triadic:** Three equally spaced colors\n- Vibrant\n- Balanced\n- Needs careful use\n\n### Applying Theme Consistency\n\n**Diagrams:** Use theme colors in all mermaid diagrams\n**Images:** Apply filters or overlays to match palette\n**Backgrounds:** Stick to theme backgrounds throughout\n**Text:** Consistent heading and body colors\n**Icons:** Single style (outline vs filled), matching colors\n\n### Icon Systems\n\n**Styles:**\n- Outline (modern, clean)\n- Filled (bold, impactful)\n- Flat (minimalist)\n- 3D (depth, realistic)\n\n**Sources:**\n- Heroicons (outline/filled, free)\n- Feather Icons (minimalist, free)\n- Font Awesome (comprehensive, free tier)\n- Material Icons (Google, free)\n\n**Consistency rules:**\n- Single icon style per presentation\n- Consistent size (e.g., all 24px)\n- Theme-matched colors\n- Same stroke weight\n\n## Visual Composition\n\n### Rule of Thirds\n\nDivide slide into 3x3 grid:\n- Place important elements at intersections\n- Align content along grid lines\n- Creates balanced, professional look\n\n### Visual Weight\n\nDistribute elements evenly:\n- Heavy elements (images, dark colors) balance with light elements\n- Symmetrical or asymmetrical balance\n- Avoid one heavy corner\n\n### Focal Point\n\nGuide viewer's eye:\n- Size: Larger elements draw attention\n- Color: Bright or contrasting colors stand out\n- Position: Center or rule-of-thirds points\n- Isolation: White space around element\n\n### Contrast\n\nCreate visual hierarchy:\n- Light vs dark\n- Large vs small\n- Bold vs thin\n- Color vs grayscale\n\n## Image + Text Integration\n\n### Text Overlays on Images\n\n**Ensure readability:**\n```markdown\n---\nbackground: './image.jpg'\nclass: text-center\n---\n\n<div class=\"backdrop-blur-sm bg-black/50 p-8\">\n  <h1 class=\"text-white text-6xl font-bold\">\n    Readable Title\n  </h1>\n</div>\n```\n\n**Techniques:**\n- Dark overlay (30-70% opacity)\n- Blur background behind text\n- Position text in clear area\n- Add drop shadow to text\n\n### Split Layouts\n\n**Image + text side-by-side:**\n```markdown\n---\nlayout: image-right\nimage: './diagram.png'\n---\n\n# Content Here\n\n- Point 1\n- Point 2\n- Point 3\n```\n\n**Balance:**\n- Equal visual weight on each side\n- Complementary content\n- Clear relationship between image and text\n\n## Visual Hierarchy\n\n### Size Hierarchy\n\n```\nTitle (H1): 44-60pt\nSubtitle (H2): 32-40pt\nSection (H3): 24-32pt\nBody: 18-24pt\nCaption: 14-18pt\n```\n\n### Color Hierarchy\n\n```\nPrimary: Headlines, key data\nSecondary: Subheadings, supporting text\nTertiary: Captions, notes\nNeutral: Body text, backgrounds\n```\n\n### Weight Hierarchy\n\n```\nBold: Titles, emphasis, CTAs\nRegular: Body text, most content\nLight: Captions, metadata, fine print\n```\n\n## Best Practices (Evidence-Based)\n\n### Diagrams\n\n‚úÖ **Do:**\n- **Choose diagram type matching content** (flowchart for process, sequence for interaction)\n- **Apply theme colors consistently** via mermaid init directive\n- **Keep diagrams simple** (max 7-9 nodes - cognitive load research)\n- **Label clearly** with readable font sizes (match slide minimum 18pt)\n- **Use directional flow** (typically left-to-right or top-to-bottom)\n- **Progressive disclosure** for complex diagrams (build across multiple slides)\n- **Test colorblind-safe** (use patterns/shapes + color, not color alone)\n\n‚ùå **Don't:**\n- **Overcomplicate** with too many connections (cognitive overload)\n- **Use too many colors** (stick to theme palette: 2 main + 1-2 accents)\n- **Make text too small** (minimum 18pt equivalent in diagrams)\n- **Create bidirectional spaghetti** (unclear flow)\n- **Ignore alignment** (clean grid-based layout)\n- **Rely on color alone** (add labels, patterns, icons for colorblind accessibility)\n\n### Images\n\n‚úÖ **Do:**\n- Use high-resolution (1920x1080+)\n- Match presentation tone\n- Ensure diversity and inclusion\n- Provide attribution\n- Optimize file size\n\n‚ùå **Don't:**\n- Use pixelated or blurry images\n- Choose clich√© stock photos\n- Ignore licensing\n- Use inconsistent styles\n- Overload with images\n\n### Color (Accessibility Required)\n\n‚úÖ **Do:**\n- **Define palette upfront** (2 main colors + 1-2 accents = 3-4 total)\n- **Ensure contrast ratios** (from research):\n  - Normal text (<24pt): Minimum 4.5:1\n  - Large text (‚â•24pt): Minimum 3:1\n  - Test with tools: WebAIM Contrast Checker, Colorblind Web Page Filter\n- **Use colorblind-safe palettes**:\n  - Use ColorBrewer (colorbrewer2.org) for verified palettes\n  - Common safe combinations: Blue + Orange, Purple + Green, Blue + Red\n  - AVOID: Red + Green (most common colorblindness)\n- **Don't rely on color alone**:\n  - Add patterns in charts (stripes, dots, hatching)\n  - Use labels and icons alongside colors\n  - Differentiate with size/shape + color\n- **Use consistently throughout** (same meaning = same color)\n- **Test on different displays** (projector, laptop, mobile)\n\n‚ùå **Don't:**\n- **Use random colors** (establish theme palette first)\n- **Rely on color alone** (excludes 8% of males with colorblindness)\n- **Create low contrast** (<4.5:1 fails accessibility standards)\n- **Mix too many palettes** (max 3-4 colors total)\n- **Ignore accessibility** (legal requirement in many contexts)\n- **Use red+green together** without additional differentiation\n\n### Theme\n\n‚úÖ **Do:**\n- Establish visual identity\n- Apply consistently\n- Create templates\n- Document color codes\n- Test in different contexts\n\n‚ùå **Don't:**\n- Change style mid-presentation\n- Mix incompatible aesthetics\n- Ignore brand guidelines\n- Over-decorate\n- Sacrifice readability for style\n\n## Quick Reference\n\n### Mermaid Diagram Types\n\n```\nFlowchart: graph TD\nSequence: sequenceDiagram\nClass: classDiagram\nState: stateDiagram-v2\nER: erDiagram\nGantt: gantt\n```\n\n### Color Palette Templates (Colorblind-Safe)\n\n**Blue + Orange (Recommended - Universally accessible):**\n```yaml\nprimary: \"#3b82f6\"      # Blue (trust, tech)\nsecondary: \"#f97316\"    # Orange (energy, action)\nneutral: \"#6b7280\"      # Gray (backgrounds)\ntext: \"#1f2937\"         # Dark gray (body text)\nbackground: \"#ffffff\"   # White (slide background)\n\n# Contrast ratios:\n# Blue on white: 8.6:1 ‚úì\n# Orange on white: 3.4:1 (use for headings ‚â•24pt) ‚úì\n# Text on white: 16.1:1 ‚úì\n```\n\n**Purple + Teal (Professional, modern):**\n```yaml\nprimary: \"#8b5cf6\"      # Purple (creative, innovative)\nsecondary: \"#14b8a6\"    # Teal (calm, balanced)\nneutral: \"#64748b\"      # Slate gray\ntext: \"#0f172a\"         # Near black\nbackground: \"#ffffff\"   # White\n```\n\n**Dark Mode (High contrast):**\n```yaml\nprimary: \"#60a5fa\"      # Light blue (readable on dark)\nsecondary: \"#fbbf24\"    # Amber (attention)\nneutral: \"#475569\"      # Slate (dividers)\ntext: \"#f1f5f9\"         # Light gray (body text)\nbackground: \"#0f172a\"   # Very dark blue\n\n# Note: Dark mode requires ‚â•7:1 contrast for text\n```\n\n**Verification checklist:**\n- [ ] Contrast ratios verified (4.5:1+ for normal, 3:1+ for large text)\n- [ ] Tested with colorblind simulator\n- [ ] Colors have distinct meaning (not red/green for pass/fail)\n- [ ] Patterns/icons supplement color in charts\n- [ ] Palette documented for consistency\n\n### Image Checklist\n\n- [ ] High resolution (1920x1080+)\n- [ ] Relevant to content\n- [ ] Matches presentation tone\n- [ ] Properly attributed\n- [ ] Optimized file size\n- [ ] Accessible (alt text in notes)\n\n---\n\nFor advanced mermaid syntax and visual design principles, consult the Mermaid documentation (https://mermaid.js.org/) and design resources like Refactoring UI."
              }
            ]
          }
        ]
      }
    },
    {
      "full_name": "rhuss/cc-superpowers-sdd",
      "url": "https://github.com/rhuss/cc-superpowers-sdd",
      "description": "Specification-Driven Development with Process Discipline for Claude Code",
      "homepage": null,
      "signals": {
        "stars": 1,
        "forks": 1,
        "pushed_at": "2025-11-14T16:55:32Z",
        "created_at": "2025-11-10T10:42:10Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 623
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 582
        },
        {
          "path": ".claude",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/commands/update-superpowers.md",
          "type": "blob",
          "size": 9997
        },
        {
          "path": ".gitignore",
          "type": "blob",
          "size": 821
        },
        {
          "path": ".superpowers-sync",
          "type": "blob",
          "size": 3782
        },
        {
          "path": "CHANGELOG.md",
          "type": "blob",
          "size": 5715
        },
        {
          "path": "LICENSE",
          "type": "blob",
          "size": 1068
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 9162
        },
        {
          "path": "TESTING.md",
          "type": "blob",
          "size": 18007
        },
        {
          "path": "commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "commands/brainstorm.md",
          "type": "blob",
          "size": 276
        },
        {
          "path": "commands/constitution.md",
          "type": "blob",
          "size": 196
        },
        {
          "path": "commands/evolve.md",
          "type": "blob",
          "size": 211
        },
        {
          "path": "commands/implement.md",
          "type": "blob",
          "size": 227
        },
        {
          "path": "commands/review-code.md",
          "type": "blob",
          "size": 283
        },
        {
          "path": "commands/review-spec.md",
          "type": "blob",
          "size": 225
        },
        {
          "path": "commands/spec.md",
          "type": "blob",
          "size": 202
        },
        {
          "path": "docs",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/design.md",
          "type": "blob",
          "size": 7678
        },
        {
          "path": "docs/plugin-schema.md",
          "type": "blob",
          "size": 6915
        },
        {
          "path": "docs/sync-reports",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/sync-reports/README.md",
          "type": "blob",
          "size": 121
        },
        {
          "path": "docs/upstream-sync-strategy.md",
          "type": "blob",
          "size": 11683
        },
        {
          "path": "examples",
          "type": "tree",
          "size": null
        },
        {
          "path": "examples/todo-app",
          "type": "tree",
          "size": null
        },
        {
          "path": "examples/todo-app/README.md",
          "type": "blob",
          "size": 5656
        },
        {
          "path": "examples/todo-app/WALKTHROUGH.md",
          "type": "blob",
          "size": 8030
        },
        {
          "path": "examples/todo-app/specs",
          "type": "tree",
          "size": null
        },
        {
          "path": "examples/todo-app/specs/constitution.md",
          "type": "blob",
          "size": 6231
        },
        {
          "path": "examples/todo-app/specs/features",
          "type": "tree",
          "size": null
        },
        {
          "path": "examples/todo-app/specs/features/todo-crud.md",
          "type": "blob",
          "size": 6303
        },
        {
          "path": "scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "scripts/check-upstream-changes.sh",
          "type": "blob",
          "size": 2790
        },
        {
          "path": "skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/brainstorm",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/brainstorm/SKILL.md",
          "type": "blob",
          "size": 9426
        },
        {
          "path": "skills/constitution",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/constitution/SKILL.md",
          "type": "blob",
          "size": 11170
        },
        {
          "path": "skills/evolve",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/evolve/SKILL.md",
          "type": "blob",
          "size": 12660
        },
        {
          "path": "skills/implement",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/implement/SKILL.md",
          "type": "blob",
          "size": 10971
        },
        {
          "path": "skills/review-code",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/review-code/SKILL.md",
          "type": "blob",
          "size": 8352
        },
        {
          "path": "skills/review-spec",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/review-spec/SKILL.md",
          "type": "blob",
          "size": 11738
        },
        {
          "path": "skills/spec-kit",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/spec-kit/SKILL.md",
          "type": "blob",
          "size": 7989
        },
        {
          "path": "skills/spec-refactoring",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/spec-refactoring/SKILL.md",
          "type": "blob",
          "size": 10718
        },
        {
          "path": "skills/spec",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/spec/SKILL.md",
          "type": "blob",
          "size": 6546
        },
        {
          "path": "skills/using-superpowers-sdd",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/using-superpowers-sdd/SKILL.md",
          "type": "blob",
          "size": 10640
        },
        {
          "path": "skills/verification-before-completion",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/verification-before-completion/SKILL.md",
          "type": "blob",
          "size": 8986
        },
        {
          "path": "skills/writing-plans",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/writing-plans/SKILL.md",
          "type": "blob",
          "size": 11648
        }
      ],
      "marketplace": {
        "name": "sdd-plugin-development",
        "version": null,
        "description": "Local development marketplace for cc-superpowers-sdd plugin",
        "owner_info": {
          "name": "Roland Huss",
          "email": "rhuss@redhat.com"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "sdd",
            "description": "Specification-Driven Development with Process Discipline for Claude Code",
            "source": "./",
            "category": null,
            "version": "1.0.0",
            "author": {
              "name": "Roland Huss",
              "email": "rhuss@redhat.com"
            },
            "install_commands": [
              "/plugin marketplace add rhuss/cc-superpowers-sdd",
              "/plugin install sdd@sdd-plugin-development"
            ],
            "signals": {
              "stars": 1,
              "forks": 1,
              "pushed_at": "2025-11-14T16:55:32Z",
              "created_at": "2025-11-10T10:42:10Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/update-superpowers",
                "description": "AI-assisted sync with upstream superpowers - updates modified skills while preserving SDD enhancements (plugin maintenance only)",
                "path": ".claude/commands/update-superpowers.md",
                "frontmatter": {
                  "description": "AI-assisted sync with upstream superpowers - updates modified skills while preserving SDD enhancements (plugin maintenance only)"
                },
                "content": "# Upstream Superpowers Sync Workflow\n\n**Purpose**: Sync modified skills with upstream superpowers while preserving SDD enhancements.\n\n**Context**: This command is for maintaining the cc-superpowers-sdd plugin, not for end users.\n\n## Safety Check\n\nBefore proceeding, verify we're in the plugin development directory:\n\n```bash\n# Check for plugin marker\nif [ ! -f \".superpowers-sync\" ] || [ ! -f \".claude-plugin/plugin.json\" ]; then\n  echo \"‚ùå ERROR: This command only works in cc-superpowers-sdd plugin directory\"\n  echo \"Current directory: $(pwd)\"\n  exit 1\nfi\n\n# Verify we're in the right repo\nif ! grep -q \"cc-superpowers-sdd\" .claude-plugin/plugin.json 2>/dev/null; then\n  echo \"‚ùå ERROR: This doesn't appear to be the cc-superpowers-sdd repository\"\n  exit 1\nfi\n\necho \"‚úÖ Plugin directory confirmed\"\n```\n\n**If checks fail, STOP and inform user this command is only for plugin maintenance.**\n\n## Pre-Sync Preparation\n\n### 1. Load Current Sync State\n\n```bash\ncat .superpowers-sync\n```\n\nExtract:\n- `last_sync_commit`: Last upstream commit we synced from\n- `modified_skills`: Which skills are modified and how\n- `upstream_repo`: Upstream repository URL\n\n### 2. Clone/Update Upstream Repository\n\n```bash\n# Create temp directory\nTEMP_DIR=$(mktemp -d)\ncd \"$TEMP_DIR\"\n\n# Clone upstream\ngit clone https://github.com/obra/superpowers superpowers-upstream\ncd superpowers-upstream\n\n# Get current HEAD\nCURRENT_COMMIT=$(git rev-parse HEAD)\nCURRENT_DATE=$(git log -1 --format=%cd --date=short)\n\necho \"Upstream HEAD: $CURRENT_COMMIT ($CURRENT_DATE)\"\n```\n\n### 3. Check What Changed\n\nFor each modified skill, get the diff:\n\n```bash\nLAST_SYNC=$(jq -r '.last_sync_commit' /path/to/.superpowers-sync)\n\n# For each modified skill\nfor skill in writing-plans code-review verification-before-completion brainstorming; do\n  UPSTREAM_FILE=\"skills/${skill}/SKILL.md\"\n\n  # Get changes since last sync\n  if [ \"$LAST_SYNC\" != \"INITIAL\" ]; then\n    echo \"=== Changes to $skill ===\"\n    git log --oneline $LAST_SYNC..HEAD -- \"$UPSTREAM_FILE\"\n    echo \"\"\n  else\n    echo \"=== $skill (INITIAL SYNC) ===\"\n    echo \"Will use current upstream version as baseline\"\n    echo \"\"\n  fi\ndone\n```\n\nSave the temp directory path for later: `echo $TEMP_DIR`\n\n## AI-Assisted Merge Workflow\n\nFor each modified skill, we'll use AI agents to merge upstream changes with SDD enhancements.\n\n### Per-Skill Merge Process\n\nFor each skill in `.superpowers-sync` ‚Üí `modified_skills`:\n\n1. **Read three sources**:\n   - Upstream current version: `$TEMP_DIR/superpowers-upstream/skills/[skill]/SKILL.md`\n   - Local current version: `skills/[skill]/SKILL.md`\n   - Modification metadata: from `.superpowers-sync`\n\n2. **Get upstream changes** (if not INITIAL sync):\n   ```bash\n   cd $TEMP_DIR/superpowers-upstream\n\n   # Get patch of changes\n   git diff $LAST_SYNC..HEAD -- skills/[skill]/SKILL.md > /tmp/upstream-changes-[skill].patch\n\n   # Get commit messages for context\n   git log --format=\"%h %s\" $LAST_SYNC..HEAD -- skills/[skill]/SKILL.md > /tmp/upstream-commits-[skill].txt\n   ```\n\n3. **Launch merge agent**:\n\n   Use the Task tool to launch a merge agent for EACH skill:\n\n   ```\n   Prompt for agent:\n\n   You are merging upstream superpowers changes into a modified skill that has SDD enhancements.\n\n   **Context:**\n   - Skill: [skill-name]\n   - Upstream repo: https://github.com/obra/superpowers\n   - Local repo: cc-superpowers-sdd (this plugin)\n\n   **Your task:**\n   1. Read the current local version: skills/[skill]/SKILL.md\n   2. Read the upstream current version: $TEMP_DIR/superpowers-upstream/skills/[skill]/SKILL.md\n   3. Read the modification metadata from .superpowers-sync\n   4. If not INITIAL sync, read upstream changes: /tmp/upstream-changes-[skill].patch\n   5. Analyze:\n      - What improved in upstream (better examples, new patterns, fixes)\n      - What SDD enhancements exist in local (from modification_summary)\n      - Where conflicts might occur\n   6. Create merged version that:\n      - Preserves ALL SDD sections (listed in sdd_additions)\n      - Integrates upstream improvements (better wording, examples, anti-rationalization)\n      - Maintains consistency in tone and structure\n      - Keeps both superpowers discipline AND spec-awareness\n   7. Output:\n      - The complete merged SKILL.md content\n      - Summary of changes made\n      - List of conflicts (if any) and how resolved\n      - Recommendation: \"READY TO APPLY\" or \"NEEDS REVIEW\" with reasons\n\n   **Critical rules:**\n   - DO NOT remove SDD-specific sections\n   - DO NOT weaken spec-first principles\n   - DO integrate better examples/wording from upstream\n   - DO preserve quality gates from both sources\n   - DO maintain anti-rationalization patterns from both versions\n\n   **Modification metadata for this skill:**\n   ```json\n   [paste relevant section from .superpowers-sync]\n   ```\n\n   Begin merge analysis and output merged content.\n   ```\n\n4. **Review agent output**:\n   - Check that SDD sections are preserved\n   - Verify upstream improvements are integrated\n   - Confirm no conflicts or all conflicts resolved\n   - If \"NEEDS REVIEW\", examine conflicts carefully\n\n5. **Apply or defer**:\n   - If \"READY TO APPLY\": Write merged content to `skills/[skill]/SKILL.md`\n   - If \"NEEDS REVIEW\": Save to `skills/[skill]/SKILL.md.proposed` and mark for manual review\n\n## Run Merge for All Modified Skills\n\nExecute the above process for each skill:\n\n1. `writing-plans` (upstream: `skills/writing-plans/SKILL.md`)\n2. `review-code` (upstream: `skills/code-review/SKILL.md`)\n3. `verification-before-completion` (upstream: `skills/verification-before-completion/SKILL.md`)\n4. `brainstorm` (upstream: `skills/brainstorming/SKILL.md`)\n\n**Use TodoWrite to track progress:**\n- [ ] Merge writing-plans\n- [ ] Merge review-code\n- [ ] Merge verification-before-completion\n- [ ] Merge brainstorm\n- [ ] Review all merged files\n- [ ] Update .superpowers-sync\n- [ ] Update CHANGELOG\n- [ ] Test merged skills\n\n## Post-Merge Actions\n\n### 1. Generate Sync Report\n\nCreate `docs/sync-reports/sync-YYYY-MM-DD.md`:\n\n```markdown\n# Superpowers Sync Report: YYYY-MM-DD\n\n**Upstream Commit**: [COMMIT_HASH]\n**Upstream Date**: [DATE]\n**Previous Sync**: [LAST_SYNC_COMMIT]\n\n## Skills Updated\n\n### writing-plans\n**Status**: ‚úÖ Merged / ‚ö†Ô∏è Needs Review\n\n**Upstream Changes Integrated**:\n- [List improvements from upstream commits]\n\n**SDD Enhancements Preserved**:\n- Spec-first input parsing\n- Requirements coverage validation\n- Plan-to-spec validation\n\n**Conflicts Resolved**:\n- [List any conflicts and how resolved, or \"None\"]\n\n---\n\n[Repeat for each skill]\n\n## Summary\n\n- Modified skills synced: X/4\n- Skills needing manual review: X\n- SDD enhancements: All preserved ‚úÖ\n- Upstream improvements: [count] integrated\n\n## Next Steps\n\n- [ ] Review any skills marked \"NEEDS REVIEW\"\n- [ ] Test all merged skills for consistency\n- [ ] Update CHANGELOG with sync entry\n- [ ] Commit with message: \"Sync with superpowers@[COMMIT]\"\n```\n\n### 2. Update .superpowers-sync\n\n```bash\n# Update tracking file\njq --arg commit \"$CURRENT_COMMIT\" --arg date \"$(date +%Y-%m-%d)\" \\\n  '.last_sync_commit = $commit | .last_sync_date = $date | .note = \"Synced via /update-superpowers\"' \\\n  .superpowers-sync > .superpowers-sync.tmp\n\nmv .superpowers-sync.tmp .superpowers-sync\n```\n\n### 3. Update CHANGELOG\n\nAdd entry:\n\n```markdown\n## [Unreleased]\n\n### Changed\n- Synced with superpowers@[COMMIT_SHORT] ([DATE])\n  - `writing-plans`: [summary of upstream improvements]\n  - `review-code`: [summary]\n  - `verification-before-completion`: [summary]\n  - `brainstorm`: [summary]\n  - All SDD spec-compliance enhancements preserved\n```\n\n### 4. Cleanup\n\n```bash\n# Remove temp directory\nrm -rf $TEMP_DIR\n\n# Show status\ngit status\n```\n\n## Testing Merged Skills\n\nAfter merge, verify each skill:\n\n```bash\n# Read through each modified skill\ncat skills/writing-plans/SKILL.md\ncat skills/review-code/SKILL.md\ncat skills/verification-before-completion/SKILL.md\ncat skills/brainstorm/SKILL.md\n\n# Check for:\n# - SDD sections still present (spec-first, compliance checking, etc.)\n# - Superpowers discipline maintained (anti-rationalization, quality gates)\n# - Improved examples/wording from upstream integrated\n# - No merge artifacts (<<<<<<, >>>>>>, etc.)\n# - Consistent tone and structure\n```\n\n## Final Output\n\nPresent to user:\n\n```\n‚úÖ Superpowers Sync Complete\n\n**Synced from**: obra/superpowers@[COMMIT] ([DATE])\n**Skills updated**: 4\n\n**Summary**:\n- writing-plans: ‚úÖ [X changes integrated]\n- review-code: ‚úÖ [X changes integrated]\n- verification-before-completion: ‚úÖ [X changes integrated]\n- brainstorm: ‚úÖ [X changes integrated]\n\n**Reports**:\n- Detailed report: docs/sync-reports/sync-YYYY-MM-DD.md\n- Changes staged for review\n\n**Next steps**:\n1. Review changed files: `git diff`\n2. Test skills work correctly\n3. Commit: `git commit -m \"Sync with superpowers@[COMMIT_SHORT]\"`\n4. Update CHANGELOG if needed\n\n[If any skills need manual review]:\n‚ö†Ô∏è  Manual review needed:\n- skills/[skill]/SKILL.md.proposed - [reason]\n\nPlease review and resolve before committing.\n```\n\n## Usage Example\n\n```bash\n# User runs in cc-superpowers-sdd directory\n/update-superpowers\n\n# Claude executes:\n# 1. Verifies we're in plugin directory ‚úÖ\n# 2. Reads .superpowers-sync\n# 3. Clones upstream superpowers\n# 4. Checks for changes since last sync\n# 5. Launches merge agents for each modified skill\n# 6. Reviews agent outputs\n# 7. Applies merged versions\n# 8. Generates sync report\n# 9. Updates .superpowers-sync\n# 10. Suggests CHANGELOG entry\n# 11. Shows summary and next steps\n```\n\n## Notes\n\n- This command is **only for plugin maintainers**\n- It will fail if run outside cc-superpowers-sdd directory\n- Always review merged skills before committing\n- SDD enhancements should NEVER be removed\n- Upstream improvements should be integrated when they don't conflict\n- When in doubt, mark for manual review"
              }
            ],
            "skills": [
              {
                "name": "brainstorm",
                "description": "Use when starting from rough ideas - refines concepts into executable specifications through collaborative questioning, alternative exploration, and incremental validation, use this skill when called from a command",
                "path": "skills/brainstorm/SKILL.md",
                "frontmatter": {
                  "name": "brainstorm",
                  "description": "Use when starting from rough ideas - refines concepts into executable specifications through collaborative questioning, alternative exploration, and incremental validation, use this skill when called from a command"
                },
                "content": "# Brainstorming Ideas Into Specifications\n\n## Overview\n\nHelp turn rough ideas into formal, executable specifications through natural collaborative dialogue.\n\nStart by understanding the current project context, then ask questions one at a time to refine the idea. Once you understand what you're building, create the specification using spec-kit (if available) or directly as markdown.\n\n**Key Difference from Standard Brainstorming:**\n- **Output is a SPEC**, not a design document\n- Spec is the **source of truth** for implementation\n- Focus on **\"what\" and \"why\"**, defer \"how\" to implementation phase\n- Validate spec soundness before finishing\n\n## Prerequisites\n\nBefore starting the brainstorming workflow, ensure spec-kit is initialized:\n\n{Skill: spec-kit}\n\nIf spec-kit prompts for restart, pause this workflow and resume after restart.\n\n## The Process\n\n### Understanding the idea\n\n**Check context first:**\n- Review existing specs (if any) in `specs/` directory\n- Check for constitution (`specs/constitution.md`)\n- Review recent commits to understand project state\n- Look for related features or patterns\n\n**Ask questions to refine:**\n- Ask questions one at a time\n- Prefer multiple choice when possible\n- Focus on: purpose, constraints, success criteria, edge cases\n- Identify dependencies and integrations\n\n**Remember:** You're building a SPEC, so focus on WHAT needs to happen, not HOW it will be implemented.\n\n### Exploring approaches\n\n**Propose 2-3 different approaches:**\n- Present options conversationally with trade-offs\n- Lead with your recommended option\n- Explain reasoning clearly\n- Consider: complexity, maintainability, user impact\n\n**Questions to explore:**\n- What are the core requirements vs. nice-to-have?\n- What are the error cases and edge conditions?\n- How does this integrate with existing features?\n- What are the success criteria?\n\n### Creating the specification\n\n**Once you understand what you're building:**\n\n1. **Announce spec creation:**\n   \"Based on our discussion, I'm creating the specification...\"\n\n2. **Create spec file:**\n   - Location: `specs/features/[feature-name]/spec.md`\n   - Use spec-kit CLI if available: `speckit specify`\n   - Otherwise: Create markdown directly\n\n3. **IMPORTANT: Capture implementation insights separately**\n\n   If technical details emerged during brainstorming (technology choices, architecture decisions, trade-off discussions), **create implementation-notes.md** to capture them:\n\n   - Location: `specs/features/[feature-name]/implementation-notes.md`\n   - Purpose: Document the \"why\" behind design decisions\n   - Content:\n     - Alternative approaches considered\n     - Trade-offs discussed\n     - Technology choices and rationale\n     - Technical constraints discovered\n     - Questions answered during brainstorming\n\n   **Why separate from spec:**\n   - Spec = WHAT and WHY (requirements, contracts)\n   - Implementation notes = Technical context for HOW\n   - Keeps spec stable while preserving valuable context\n   - Helps future implementers understand decisions\n\n   **Example content:**\n   ```markdown\n   # Implementation Notes: User Authentication\n\n   ## Design Decisions\n\n   ### Decision: OAuth vs. Magic Links\n   - Chose OAuth (Google + GitHub)\n   - Rationale: User preference for familiar login flow\n   - Rejected magic links: Email deliverability concerns\n\n   ### Decision: JWT in httpOnly cookies\n   - Prevents XSS attacks\n   - Refresh token rotation for security\n   - Trade-off: Slightly more complex than localStorage\n   ```\n\n4. **Spec structure** (use this template):\n\n```markdown\n# Feature: [Feature Name]\n\n## Purpose\n[Why this feature exists - the problem it solves]\n\n## Requirements\n\n### Functional Requirements\n- [What the feature must do]\n- [Behavior in specific scenarios]\n- [Integration points]\n\n### Non-Functional Requirements\n- [Performance constraints]\n- [Security requirements]\n- [Accessibility needs]\n\n## Success Criteria\n- [How we know it works]\n- [Measurable outcomes]\n\n## Error Handling\n- [What can go wrong]\n- [How errors should be handled]\n\n## Edge Cases\n- [Boundary conditions]\n- [Unusual scenarios]\n\n## Dependencies\n- [Other features/systems required]\n- [External services]\n\n## Out of Scope\n- [What this feature explicitly does NOT do]\n- [Future considerations]\n\n## Open Questions\n- [Anything still unclear]\n- [Decisions deferred to implementation]\n```\n\n4. **Validate against constitution** (if exists):\n   - Read `specs/constitution.md`\n   - Check spec aligns with project principles\n   - Note any violations and address them\n\n5. **Present spec in sections:**\n   - Show 200-300 words at a time\n   - Ask: \"Does this look right so far?\"\n   - Be ready to revise based on feedback\n\n### After spec creation\n\n**Validate the spec:**\n- Use `sdd:review-spec` to check soundness\n- Ensure spec is implementable\n- Confirm no ambiguities remain\n\n**Offer next steps:**\n- \"Spec created and validated. Ready to implement?\"\n- If yes ‚Üí Use `sdd:implement`\n- If no ‚Üí Offer to refine spec or pause\n\n**Commit the spec:**\n```bash\ngit add specs/features/[feature-name].md\ngit commit -m \"Add spec for [feature name]\n\n[Brief description of what the feature does]\n\nü§ñ Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\"\n```\n\n## Key Principles\n\n- **One question at a time** - Don't overwhelm with multiple questions\n- **Multiple choice preferred** - Easier to answer than open-ended\n- **YAGNI ruthlessly** - Remove unnecessary features from all specs\n- **Explore alternatives** - Always propose 2-3 approaches before settling\n- **Incremental validation** - Present spec in sections, validate each\n- **Be flexible** - Go back and clarify when something doesn't make sense\n- **Separate WHAT from HOW** - Spec focuses on requirements and contracts; implementation notes capture technical decisions\n- **Capture context** - If technical details emerge, put them in implementation-notes.md, not the spec\n- **Spec, not design** - Focus on WHAT, defer HOW to implementation\n\n## Recommend Constitution (First Time Users)\n\nIf no constitution exists and this seems to be early in project:\n\n**After first spec created:**\n- \"I notice you don't have a constitution yet.\"\n- \"A constitution defines project-wide principles like:\"\n  - Coding standards\n  - Architectural patterns\n  - Quality gates\n  - Error handling approaches\n- \"Would you like to create one? It ensures consistency across features.\"\n- If yes ‚Üí Use `sdd:constitution`\n\n**Don't be pushy:** Constitution is optional but recommended.\n\n## Checklist\n\nUse TodoWrite to track:\n\n- [ ] Understand current project context\n- [ ] Ask questions to refine idea\n- [ ] Explore 2-3 approaches with trade-offs\n- [ ] Create specification file\n- [ ] Validate against constitution (if exists)\n- [ ] Review spec for soundness\n- [ ] Commit spec to git\n- [ ] Offer next steps (implement or refine)\n\n## Example Flow\n\n```\nUser: I want to add a comment system to the blog\n\nYou: I'm using sdd:brainstorm to refine this idea into a spec.\n\nLet me understand the context first...\n[Reviews existing code and specs]\n\nFor the comment system, what level of features do you want?\n\nA) Basic - Name, email, comment text only\nB) Standard - Above + threading/replies\nC) Advanced - Above + reactions, editing, moderation\nD) Full - Above + notifications, mentions, markdown\n\nUser: B - Standard with threading\n\nYou: Great. For threading, should replies be:\n\nA) Unlimited depth (comments on comments on comments...)\nB) One level only (reply to top-level comments)\nC) Two levels (reply and one nested level)\n\n[... conversation continues ...]\n\nYou: Based on our discussion, I'm creating the specification at:\nspecs/features/blog-comments.md\n\n[Creates spec with all discussed requirements]\n\nHere's the Purpose and Requirements section:\n\n## Purpose\nEnable readers to discuss blog posts through threaded comments,\nfostering community engagement and feedback.\n\n## Requirements\n\n### Functional Requirements\n- Readers can submit comments on published blog posts\n- Comments require: name, email, comment text\n- Comments support one level of replies (threading)\n- Comments display in chronological order, newest first\n- Replies display under parent comment\n...\n\nDoes this look right so far?\n\nUser: Yes\n\n[... continues through all sections ...]\n\nYou: Spec created! Let me validate it for soundness...\n\n[Runs sdd:review-spec]\n\nSpec is sound and implementable ‚úì\n\nCommitted to git ‚úì\n\nReady to implement the comment system?\n```\n\n## Common Pitfalls\n\n**Don't:**\n- Create design documents instead of specs\n- Include implementation details (\"use Redis for caching\")\n- Make decisions that belong in implementation phase\n- Skip exploring alternatives\n- Rush to spec creation before understanding the problem\n\n**Do:**\n- Focus on requirements and behavior\n- Specify WHAT, not HOW\n- Explore multiple approaches\n- Validate incrementally\n- Check against constitution\n- Ensure spec is implementable\n\n## Remember\n\nThe spec you create here becomes the source of truth. Implementation will flow from it. Code reviews will validate against it. Make it clear, complete, and correct.\n\n**Good specs enable good implementation. Take the time to get it right.**"
              },
              {
                "name": "constitution",
                "description": "Create and manage project constitution - defines project-wide principles, patterns, and standards that guide all specs and implementations",
                "path": "skills/constitution/SKILL.md",
                "frontmatter": {
                  "name": "constitution",
                  "description": "Create and manage project constitution - defines project-wide principles, patterns, and standards that guide all specs and implementations"
                },
                "content": "# Project Constitution Management\n\n## Overview\n\nCreate and maintain a project constitution that defines project-wide principles, standards, and patterns.\n\nA constitution provides:\n- Architectural decisions\n- Coding standards\n- Error handling patterns\n- Quality gates\n- Common practices\n\nAll specs are validated against the constitution for consistency.\n\n## Prerequisites\n\nEnsure spec-kit is initialized:\n\n{Skill: spec-kit}\n\nIf spec-kit prompts for restart, pause this workflow and resume after restart.\n\n## What is a Constitution?\n\n**Purpose:**\nDocument project-wide rules that ensure consistency across features.\n\n**Contains:**\n- Architectural principles\n- Coding standards\n- API design patterns\n- Error handling approaches\n- Security requirements\n- Testing standards\n- Performance requirements\n- Accessibility standards\n\n**Benefits:**\n- Consistency across features\n- Onboarding documentation\n- Design decision record\n- Spec validation reference\n\n## When to Create\n\n**Good times:**\n- New project starting\n- After second or third feature (patterns emerging)\n- Team wants consistency\n- Before major expansion\n\n**Bad times:**\n- First feature (too early, no patterns yet)\n- During active implementation\n- As reaction to single issue\n\n**Rule of thumb:** Create after you see patterns repeating.\n\n## The Process\n\n### 1. Decide if Constitution Needed\n\n**Ask:**\n- Are there repeated patterns in specs?\n- Do you want consistency enforced?\n- Is this a team project?\n- Is this a long-term project?\n\n**If solo + small project:** Constitution might be overkill\n\n**If team OR large OR long-term:** Constitution recommended\n\n### 2. Gather Existing Patterns\n\n**Review existing specs:**\n```bash\nls specs/features/\ncat specs/features/*.md\n```\n\n**Identify patterns:**\n- How do we handle errors?\n- What API patterns do we follow?\n- What security requirements are common?\n- What coding standards do we use?\n\n**Extract commonalities:**\nMake implicit standards explicit.\n\n### 3. Use Spec-Kit or Manual Creation\n\n**With spec-kit:**\n```bash\nspeckit constitution\n```\n\n**Manual creation:**\nCreate `specs/constitution.md` with template below.\n\n### 4. Create Constitution Content\n\n**Template:**\n\n```markdown\n# Project Constitution\n\n**Project:** [Project Name]\n**Created:** YYYY-MM-DD\n**Last Updated:** YYYY-MM-DD\n\n## Purpose\n\nThis constitution defines project-wide principles, patterns, and standards.\nAll features and implementations must align with these principles.\n\n## Architectural Principles\n\n### [Principle Name]\n**Description:** [What this principle means]\n**Rationale:** [Why we follow this]\n**Examples:**\n- ‚úì [Good example]\n- ‚úó [Bad example]\n\n[Repeat for each principle]\n\n## API Design Standards\n\n### RESTful Conventions\n- Use standard HTTP methods (GET, POST, PUT, DELETE)\n- Plural resource names (/users, not /user)\n- Return appropriate status codes\n- Use JSON for request/response bodies\n\n### Error Responses\n**Format:**\n```json\n{\n  \"error\": \"Human-readable error message\",\n  \"code\": \"ERROR_CODE\",\n  \"details\": { ... }\n}\n```\n\n**Status Codes:**\n- 400: Bad Request (client error)\n- 401: Unauthorized (auth required)\n- 403: Forbidden (auth insufficient)\n- 404: Not Found\n- 422: Unprocessable Entity (validation failed)\n- 500: Internal Server Error\n\n## Error Handling\n\n### Approach\n- All errors must be handled explicitly\n- Use try-catch for I/O operations\n- Log errors with context\n- Return user-friendly messages\n\n### Retry Logic\n- Database operations: 3 retries with exponential backoff\n- External APIs: 2 retries with fixed delay\n- Timeout: 30 seconds for external calls\n\n## Security Requirements\n\n### Authentication\n- All API endpoints require JWT authentication (except public endpoints)\n- JWTs expire after 30 minutes\n- Refresh tokens expire after 7 days\n\n### Input Validation\n- Validate all user input\n- Sanitize before database operations\n- Reject unexpected fields\n\n### Secrets Management\n- Never commit secrets to git\n- Use environment variables\n- Rotate secrets quarterly\n\n## Testing Standards\n\n### Coverage Requirements\n- Minimum 80% code coverage\n- 100% coverage for critical paths\n\n### Test Types\n- Unit tests for all functions\n- Integration tests for API endpoints\n- E2E tests for critical user flows\n\n### Test Organization\n- Tests in `tests/` directory\n- Mirror source structure\n- Use descriptive test names\n\n## Performance Requirements\n\n### Response Times\n- API responses: < 200ms (p95)\n- Database queries: < 50ms (p95)\n- Page loads: < 2 seconds\n\n### Scalability\n- Design for 10,000 concurrent users\n- Horizontal scaling preferred\n- Stateless where possible\n\n## Code Quality Standards\n\n### Code Style\n- Follow [ESLint/Prettier/etc.] configuration\n- Consistent naming conventions\n- Comments for complex logic only\n\n### Code Review\n- All code must be reviewed\n- Spec compliance verified\n- Tests required before merge\n\n## Accessibility Standards\n\n### WCAG Compliance\n- Meet WCAG 2.1 Level AA\n- Keyboard navigation required\n- Screen reader compatible\n\n## Documentation Standards\n\n### Code Documentation\n- JSDoc for public functions\n- README in each module\n- Architecture diagrams for complex systems\n\n### Spec Documentation\n- All features must have specs\n- Specs updated with changes\n- Specs validated before implementation\n\n## Change Management\n\n### Updating This Constitution\n- Requires team discussion (if team)\n- Document rationale for changes\n- Update all affected specs\n- Communicate changes\n\n### Exceptions\n- Exceptions must be documented in spec\n- Requires justification\n- Reviewed during code review\n\n## Glossary\n\n**[Term 1]:** [Definition]\n**[Term 2]:** [Definition]\n\n## Decision Log\n\n### [Decision Date]: [Decision Title]\n**Context:** [Why decision needed]\n**Decision:** [What was decided]\n**Rationale:** [Why this decision]\n**Implications:** [What this affects]\n\n[Add new decisions here]\n```\n\n### 5. Review and Refine\n\n**Questions to ask:**\n- Is this too restrictive?\n- Is this clear enough?\n- Can we realistically follow this?\n- Does this reflect our actual practices?\n\n**Adjust as needed.**\n\n### 6. Validate Against Existing Specs\n\n**Check existing specs:**\n```bash\n# For each existing spec\ncat specs/features/[feature].md\n\n# Does it align with constitution?\n# Any violations?\n```\n\n**If violations found:**\n- Update spec, OR\n- Update constitution (if spec is right), OR\n- Note as exception\n\n### 7. Commit Constitution\n\n```bash\ngit add specs/constitution.md\ngit commit -m \"Add project constitution\n\nDefines project-wide principles and standards:\n- Architectural principles\n- API design standards\n- Error handling patterns\n- Security requirements\n- Testing standards\n- Code quality standards\n\nAll future specs will be validated against this constitution.\n\nü§ñ Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\"\n```\n\n### 8. Communicate and Adopt\n\n**For team projects:**\n- Share with team\n- Get consensus\n- Document exceptions\n- Reference in onboarding\n\n**For solo projects:**\n- Keep visible\n- Reference when creating specs\n- Update as you learn\n\n## Constitution Checklist\n\nUse TodoWrite to track:\n\n- [ ] Decide if constitution needed\n- [ ] Gather existing patterns from specs/code\n- [ ] Create constitution file (spec-kit or manual)\n- [ ] Fill in all relevant sections\n- [ ] Review for clarity and feasibility\n- [ ] Validate against existing specs\n- [ ] Handle any violations found\n- [ ] Commit constitution to git\n- [ ] Communicate to team (if applicable)\n\n## Example Constitution\n\n```markdown\n# Todo App Project Constitution\n\n**Created:** 2025-11-10\n\n## Purpose\n\nDefine standards for the todo app project to ensure consistency.\n\n## Architectural Principles\n\n### RESTful API Design\nAll endpoints follow REST conventions:\n- `GET /api/todos` - List todos\n- `POST /api/todos` - Create todo\n- `PUT /api/todos/:id` - Update todo\n- `DELETE /api/todos/:id` - Delete todo\n\n### Data Validation\n- Validate on server (never trust client)\n- Return 422 for validation failures\n- Provide specific error messages\n\n## Error Handling\n\n### Error Response Format\n```json\n{\n  \"error\": \"Human-readable message\",\n  \"field\": \"field_name\",  // for validation errors\n  \"code\": \"ERROR_CODE\"\n}\n```\n\n### Common Errors\n- 400: Malformed request\n- 401: Not authenticated\n- 404: Todo not found\n- 422: Validation failed (e.g., title too long)\n\n## Testing Standards\n\n### Requirements\n- All endpoints have integration tests\n- All validation rules have tests\n- Edge cases tested\n\n### Coverage\n- Minimum 80% coverage\n- 100% coverage for API endpoints\n\n## Code Quality\n\n### Naming\n- camelCase for variables and functions\n- PascalCase for classes\n- UPPER_CASE for constants\n\n### Comments\n- JSDoc for public functions\n- Inline comments for complex logic only\n\n## Security\n\n### Authentication\n- JWT tokens required for all /api/* endpoints\n- Tokens expire after 1 hour\n- Refresh on activity\n\n### Input Sanitization\n- Escape HTML in todo titles/descriptions\n- Limit field lengths (title: 200 chars, description: 2000 chars)\n\n## Decision Log\n\n### 2025-11-10: Use JWT for Auth\n**Context:** Need authentication for multi-user support\n**Decision:** Use JWT tokens stored in httpOnly cookies\n**Rationale:** Secure, stateless, industry standard\n**Implications:** Need token refresh mechanism, logout handling\n```\n\n## Maintaining the Constitution\n\n**Update when:**\n- New patterns emerge\n- Decisions change\n- Standards evolve\n- Exceptions become rules\n\n**Don't update when:**\n- Single feature needs exception\n- Trying to justify shortcut\n- Reacting to single issue\n\n**Update process:**\n1. Propose change\n2. Update constitution\n3. Update affected specs\n4. Communicate change\n5. Add to decision log\n\n## Common Sections\n\n### Minimal Constitution\n- Architectural principles\n- Error handling\n- Testing standards\n\n### Standard Constitution\n- Above, plus:\n- API design\n- Security requirements\n- Code quality\n\n### Comprehensive Constitution\n- Above, plus:\n- Performance requirements\n- Accessibility standards\n- Deployment practices\n- Monitoring/observability\n\n**Start minimal, expand as needed.**\n\n## Anti-Patterns\n\n**Avoid:**\n- Creating constitution too early (no patterns yet)\n- Making it too restrictive (can't follow it)\n- Copying from other projects (doesn't fit yours)\n- Never updating it (becomes outdated)\n- Not following it (then why have it?)\n\n**Instead:**\n- Wait for patterns to emerge\n- Make it realistic and followable\n- Extract from your own project\n- Update as project evolves\n- Enforce during spec validation\n\n## Remember\n\n**Constitution is living document.**\n\n- Starts small, grows with project\n- Reflects actual practices\n- Updated as standards evolve\n- Referenced regularly\n\n**Constitution enables consistency.**\n\n- Specs validated against it\n- Reduces decision fatigue\n- Onboards new developers\n- Documents architectural decisions\n\n**Constitution serves the project.**\n\n- Not rigid rules set in stone\n- Pragmatic guidelines\n- Updated when they don't serve\n- Exceptions documented\n\n**Good constitution helps. Bad constitution hinders.**\n\nMake yours helpful."
              },
              {
                "name": "evolve",
                "description": "Use when spec and code diverge - AI analyzes mismatches, recommends update spec vs fix code with reasoning, handles evolution with user control or auto-updates",
                "path": "skills/evolve/SKILL.md",
                "frontmatter": {
                  "name": "evolve",
                  "description": "Use when spec and code diverge - AI analyzes mismatches, recommends update spec vs fix code with reasoning, handles evolution with user control or auto-updates"
                },
                "content": "# Spec Evolution and Reconciliation\n\n## Overview\n\nHandle spec/code mismatches through AI-guided analysis and user-controlled evolution.\n\nSpecs WILL diverge from code. This is normal and healthy. The question is: which should change?\n\nThis skill detects divergence, analyzes the mismatch, recommends resolution, and executes the change.\n\n## When to Use\n\n**Use this skill when:**\n- Code review detects spec/code mismatch\n- Verification finds spec compliance issues\n- Developer explicitly requests evolution\n- Implementation reveals better approach than spec\n- Spec ambiguity discovered during implementation\n\n**Auto-triggered by:**\n- `sdd:review-code` (when deviations found)\n- `sdd:verification-before-completion` (when compliance fails)\n\n**Don't use this skill when:**\n- No mismatch exists (everything compliant)\n- Spec doesn't exist yet ‚Üí Use `sdd:spec`\n- Multiple specs need consolidation ‚Üí Use `sdd:spec-refactoring`\n\n## Prerequisites\n\nEnsure spec-kit is initialized:\n\n{Skill: spec-kit}\n\nIf spec-kit prompts for restart, pause this workflow and resume after restart.\n\n## The Process\n\n### 1. Detect Mismatches\n\n**Identify all spec/code divergences:**\n\n```bash\n# Read spec\ncat specs/features/[feature-name].md\n\n# Compare to implementation\n# For each requirement in spec:\n#   - What does spec say?\n#   - What does code do?\n#   - Do they match?\n```\n\n**Categorize each mismatch:**\n- **Missing in code**: Spec requires it, code doesn't have it\n- **Extra in code**: Code implements it, spec doesn't mention it\n- **Different behavior**: Spec says X, code does Y\n- **Ambiguous spec**: Spec unclear, code made assumption\n\n**Document all mismatches with:**\n- Spec requirement (quote from spec)\n- Actual implementation (what code does)\n- Location (file:line in code, section in spec)\n\n### 2. Analyze Each Mismatch\n\n**For each mismatch, determine:**\n\n**Type:**\n- Architectural (affects system design)\n- Behavioral (changes functionality)\n- Cosmetic (naming, organization, details)\n\n**Severity:**\n- **Critical**: Breaking change, security issue, data loss\n- **Major**: Significant behavior change, API contract change\n- **Minor**: Small deviation, non-breaking addition\n- **Trivial**: Naming, formatting, implementation details\n\n**Impact:**\n- User-facing vs internal\n- Breaking vs non-breaking\n- Risky vs safe\n\n### 3. Recommend Resolution\n\n**For each mismatch, recommend:**\n\n**Option A: Update Spec**\n- When: Implementation reveals better approach\n- Why: Spec was incomplete/wrong, code is better\n- Impact: Spec changes to match reality\n\n**Option B: Fix Code**\n- When: Code deviates from intended design\n- Why: Spec is correct, code is wrong\n- Impact: Code changes to match spec\n\n**Option C: Clarify Spec**\n- When: Spec was ambiguous, code made reasonable choice\n- Why: Make implicit explicit\n- Impact: Spec expanded with details, code unchanged\n\n**Provide reasoning for recommendation:**\n- Why this option is best\n- Trade-offs of alternatives\n- Risk assessment\n- User impact\n\n### 4. Decide Resolution\n\n**Decision flow:**\n\n```\nIs this mismatch trivial/minor AND auto-update enabled?\n  Yes ‚Üí Auto-update with notification\n  No ‚Üí Ask user to decide\n\nUser decides:\n  A) Update spec\n  B) Fix code\n  C) Clarify spec\n  D) Defer (mark as known deviation)\n```\n\n**Check user configuration:**\n\n```json\n{\n  \"sdd\": {\n    \"auto_update_spec\": {\n      \"enabled\": true,\n      \"threshold\": \"minor\",  // \"none\", \"minor\", \"moderate\"\n      \"notify\": true\n    }\n  }\n}\n```\n\n**Thresholds:**\n- `none`: Never auto-update\n- `minor`: Auto-update trivial/minor mismatches\n- `moderate`: Include non-breaking behavioral changes\n\n### 5. Execute Resolution\n\n**Option A: Update Spec**\n\n1. Modify spec to match implementation\n2. Add to spec changelog\n3. Validate updated spec for soundness\n4. Commit spec change with clear message\n\n```bash\n# Update spec\nvim specs/features/[feature].md\n\n# Add changelog entry\necho \"- YYYY-MM-DD: Updated [requirement] to include [change]\" >> specs/features/[feature].md\n\n# Commit\ngit add specs/features/[feature].md\ngit commit -m \"Update spec: [change]\n\nImplementation revealed [reason for change].\n\nPrevious: [old requirement]\nUpdated: [new requirement]\n\nü§ñ Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\"\n```\n\n**Option B: Fix Code**\n\n1. Modify code to match spec\n2. Update tests if needed\n3. Verify spec compliance\n4. Commit code change\n\n```bash\n# Fix code\n[Make changes to match spec]\n\n# Update tests\n[Adjust tests to match spec]\n\n# Verify compliance\n[Run sdd:verification-before-completion]\n\n# Commit\ngit add [files]\ngit commit -m \"Fix: Align [component] with spec\n\nCode was [what it did], spec requires [what spec says].\n\nUpdated to match spec requirement: [spec section]\n\nü§ñ Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\"\n```\n\n**Option C: Clarify Spec**\n\n1. Add detail to spec (keep code unchanged)\n2. Make implicit assumptions explicit\n3. Add to spec changelog\n4. Commit clarification\n\n**Option D: Defer**\n\n1. Document as known deviation\n2. Add to spec's \"Known Deviations\" section\n3. Note reason and plan to address\n4. Commit documentation\n\n### 6. Verify Reconciliation\n\n**After resolution:**\n\n```bash\n# Re-check spec compliance\n# Ensure mismatch is resolved\n# Verify no new mismatches introduced\n```\n\n**Confirm:**\n- Spec and code now aligned\n- Tests still passing\n- No regressions introduced\n\n## Checklist\n\nUse TodoWrite to track:\n\n- [ ] Detect all spec/code mismatches\n- [ ] Categorize each mismatch (type, severity, impact)\n- [ ] Analyze and recommend resolution for each\n- [ ] Check user configuration for auto-update\n- [ ] Decide resolution (auto or ask user)\n- [ ] Execute resolution (update spec, fix code, or clarify)\n- [ ] Verify reconciliation complete\n- [ ] Commit changes with clear messages\n- [ ] Update documentation if needed\n\n## Examples\n\n### Example 1: Auto-Update (Minor Addition)\n\n```\n[During verification]\n\nSpec compliance check: 95%\n\nMismatch detected:\n\n**Mismatch 1: Response includes timestamp (MINOR)**\n- **Spec says:** Return `{ id, name, email }`\n- **Code does:** Returns `{ id, name, email, updated_at }`\n- **Location:** src/api/users.ts:45, specs/features/user-api.md#response\n\n**Analysis:**\n- Type: Behavioral (but non-breaking addition)\n- Severity: Minor\n- Impact: Non-breaking, adds useful information\n\n**Recommendation: Update Spec (Option A)**\n\n**Reasoning:**\n- `updated_at` is standard practice for update endpoints\n- Provides useful information to clients\n- Non-breaking addition (clients can ignore it)\n- Implementation is better than spec\n\n**User config:** auto_update_spec.threshold = \"minor\"\n\n**Action:** Auto-updating spec...\n\nUpdated specs/features/user-api.md:\n- Added `updated_at` to response format\n- Changelog: \"2025-11-10: Added updated_at timestamp to responses\"\n\n‚úÖ Spec updated\n‚úÖ Compliance now 100%\n‚úÖ Committed to git\n\nNotification: Spec auto-updated with updated_at field (minor addition)\n```\n\n### Example 2: User Decision (Major Change)\n\n```\n[During code review]\n\nSpec compliance check: 85%\n\nMismatch detected:\n\n**Mismatch 1: Validation behavior difference (MAJOR)**\n- **Spec says:** \"Reject requests with invalid avatar_url, return 422\"\n- **Code does:** \"Accept invalid URLs, set avatar_url to null, return 200\"\n- **Location:** src/middleware/validation.ts:78, specs/features/user-profile.md#validation\n\n**Analysis:**\n- Type: Behavioral (changes error handling)\n- Severity: Major\n- Impact: User-facing, affects API contract\n\n**Options:**\n\n**A) Update Spec - Lenient validation**\n- Pros: More user-friendly, prevents frustration\n- Cons: Inconsistent with other validation (strict)\n- Risk: Users might not know avatar failed\n\n**B) Fix Code - Strict validation**\n- Pros: Consistent with spec and other validation\n- Cons: Worse UX when URL is invalid\n- Risk: None (matches spec)\n\n**C) Clarify Spec - Explicit fallback**\n- Pros: Best of both (validate but handle gracefully)\n- Cons: More complex\n- Risk: None\n\n**Recommendation: Option C**\n\n**Reasoning:**\nBest practice is to validate input but handle gracefully. Update spec to explicitly define fallback behavior: validate URL, set to null if invalid, log warning, return success with indication.\n\nWhich option do you prefer?\n\nUser: C - explicit fallback\n\nYou: Perfect. Updating spec to clarify fallback behavior...\n\nUpdated spec:\n\n## Validation Rules\n\n### avatar_url\n- Must be valid URL format if provided\n- **Fallback behavior:** If URL validation fails:\n  - Set avatar_url to null\n  - Log validation error\n  - Return 200 (success) with warning in response\n  - Response includes: `warnings: [\"avatar_url invalid, set to null\"]`\n\nCode now matches clarified spec ‚úÖ\n\nSpec compliance: 100%\n\nCommitted to git ‚úÖ\n```\n\n### Example 3: Fix Code (Spec Correct)\n\n```\n[During verification]\n\nSpec compliance check: 90%\n\nMismatch detected:\n\n**Mismatch 1: Missing error handling (CRITICAL)**\n- **Spec says:** \"Handle database connection errors with retry logic (3 attempts)\"\n- **Code does:** \"Single attempt, fails immediately on error\"\n- **Location:** src/db/client.ts:34, specs/features/data-persistence.md#error-handling\n\n**Analysis:**\n- Type: Architectural (missing reliability mechanism)\n- Severity: Critical\n- Impact: Production reliability risk\n\n**Recommendation: Fix Code (Option B)**\n\n**Reasoning:**\n- Spec defines critical reliability requirement\n- Single-attempt fails too easily (production risk)\n- Retry logic is standard practice\n- Code is missing required feature\n\n**No user decision needed - critical spec requirement missing**\n\nFixing code to implement retry logic...\n\n```typescript\n// Added retry logic\nasync function queryWithRetry(sql, params, attempts = 3) {\n  for (let i = 0; i < attempts; i++) {\n    try {\n      return await db.query(sql, params);\n    } catch (error) {\n      if (i === attempts - 1) throw error;\n      await sleep(1000 * (i + 1)); // Exponential backoff\n    }\n  }\n}\n```\n\nTests updated to verify retry behavior ‚úÖ\nSpec compliance: 100% ‚úÖ\n\nCommitted code fix ‚úÖ\n```\n\n## Auto-Update Configuration\n\n### Recommended Settings\n\n**For solo projects:**\n```json\n{\n  \"auto_update_spec\": {\n    \"enabled\": true,\n    \"threshold\": \"minor\",\n    \"notify\": true\n  }\n}\n```\n\n**For team projects:**\n```json\n{\n  \"auto_update_spec\": {\n    \"enabled\": true,\n    \"threshold\": \"none\",  // Always ask\n    \"notify\": true\n  }\n}\n```\n\n**For experimental work:**\n```json\n{\n  \"auto_update_spec\": {\n    \"enabled\": true,\n    \"threshold\": \"moderate\",\n    \"notify\": true\n  }\n}\n```\n\n## Classification Guidelines\n\n### Minor (Auto-Update Eligible)\n- Adding timestamps to responses\n- Renaming variables/functions\n- Reorganizing code structure\n- Adding logging/instrumentation\n- Implementation detail changes\n\n### Major (Always Ask)\n- Changing API contracts\n- Modifying behavior\n- Adding/removing features\n- Changing error handling\n- Architectural changes\n\n### Critical (Usually Fix Code)\n- Security issues\n- Data integrity problems\n- Missing required features\n- Incorrect business logic\n\n## Common Patterns\n\n### Pattern: Better Error Messages\n\n**Mismatch:** Spec says \"return error\", code returns detailed error with context\n\n**Resolution:** Update spec (minor)\n- More detailed errors are better\n- Non-breaking improvement\n\n### Pattern: Missing Edge Case\n\n**Mismatch:** Spec doesn't mention empty array, code handles it\n\n**Resolution:** Clarify spec (add edge case)\n- Make implicit explicit\n- Document intended behavior\n\n### Pattern: Performance Optimization\n\n**Mismatch:** Spec doesn't specify caching, code adds cache\n\n**Resolution:** Update spec (moderate)\n- Document optimization in spec\n- Ensure cache behavior is correct\n\n### Pattern: Different Architecture\n\n**Mismatch:** Spec implies synchronous, code is async\n\n**Resolution:** Ask user (major)\n- Significant architectural change\n- May affect other components\n\n## Remember\n\n**Spec evolution is normal and healthy.**\n\n- Specs are not contracts set in stone\n- Implementation reveals reality\n- Better approaches emerge during coding\n- Ambiguities get discovered\n\n**The goal is alignment, not rigidity.**\n\n- Specs guide implementation\n- Implementation informs specs\n- Both should reflect truth\n\n**Always provide reasoning:**\n- Why update spec vs fix code\n- What's the impact\n- What are the trade-offs\n\n**Trust the process:**\n- Detect mismatches early\n- Analyze thoughtfully\n- Recommend clearly\n- Execute decisively\n- Verify completely\n\n**Spec and code in sync = quality software.**"
              },
              {
                "name": "implement",
                "description": "Use when spec exists and is validated - generates implementation plan FROM spec, executes with TDD, and verifies spec compliance throughout",
                "path": "skills/implement/SKILL.md",
                "frontmatter": {
                  "name": "implement",
                  "description": "Use when spec exists and is validated - generates implementation plan FROM spec, executes with TDD, and verifies spec compliance throughout"
                },
                "content": "# Spec-Driven Implementation\n\n## Overview\n\nImplement features from validated specifications using Test-Driven Development, with continuous spec compliance checking throughout.\n\nThis is the core SDD implementation workflow: Spec ‚Üí Plan ‚Üí TDD ‚Üí Verify.\n\n**Critical Rule:** Implementation MUST match spec. Any deviation triggers spec evolution workflow.\n\n## When to Use\n\n**Use this skill when:**\n- Spec exists and is validated\n- Ready to write code\n- Starting implementation of new feature\n\n**Don't use this skill when:**\n- No spec exists ‚Üí Use `sdd:spec` or `sdd:brainstorm` first\n- Spec/code mismatch exists ‚Üí Use `sdd:evolve`\n- Debugging existing code ‚Üí Use `systematic-debugging`\n\n## Technical Prerequisites\n\nEnsure spec-kit is initialized:\n\n{Skill: spec-kit}\n\nIf spec-kit prompts for restart, pause this workflow and resume after restart.\n\n## Workflow Prerequisites\n\n**Before starting implementation:**\n- [ ] Spec exists in `specs/features/[feature-name].md`\n- [ ] Spec validated for soundness (`sdd:review-spec`)\n- [ ] Spec validated against constitution (if exists)\n- [ ] No open questions in spec that block implementation\n\n**If prerequisites not met:** Stop and address them first.\n\n## The Process\n\n### 1. Read and Understand Spec\n\n**Load the spec:**\n```bash\ncat specs/features/[feature-name].md\n```\n\n**Extract key information:**\n- Functional requirements (what to build)\n- Success criteria (how to verify)\n- Error handling (what can go wrong)\n- Dependencies (what's needed)\n- Constraints (limitations)\n\n**Validate understanding:**\n- Summarize spec back to user\n- Confirm no ambiguities remain\n- Identify any implementation questions\n\n### 2. Generate Implementation Plan FROM Spec\n\n**Use `sdd:writing-plans` skill** to create plan.\n\n**The plan MUST:**\n- Derive directly from spec requirements\n- Include all functional requirements\n- Cover all error cases\n- Address all edge cases\n- Reference spec sections explicitly\n\n**Plan structure:**\n```markdown\n# Implementation Plan: [Feature Name]\n\n**Source Spec:** specs/features/[feature-name].md\n**Date:** YYYY-MM-DD\n\n## Requirements Coverage\n\n### Functional Requirement 1: [From spec]\n**Implementation approach:**\n- [ ] Task 1\n- [ ] Task 2\n...\n\n[Repeat for all functional requirements]\n\n## Error Handling Implementation\n\n[For each error case in spec]\n- **Error:** [From spec]\n- **Implementation:** [How to handle]\n\n## Test Strategy\n\n[How we'll verify each requirement]\n\n## Files to Create/Modify\n\n[List with file paths]\n\n## Verification Steps\n\n- [ ] All tests pass\n- [ ] Spec compliance check passes\n- [ ] Code review against spec\n```\n\n**Save plan:** `docs/plans/[date]-[feature]-implementation.md`\n\n### 3. Set Up Isolated Workspace\n\n**Use `using-git-worktrees`** (optional but recommended):\n\n```bash\ngit worktree add ../feature-[name] -b feature/[name]\ncd ../feature-[name]\n```\n\n**Or work in current branch:**\n- Ensure clean working directory\n- Create feature branch if needed\n\n### 4. Implement with Test-Driven Development\n\n**Use `test-driven-development` skill.**\n\n**For each requirement in spec:**\n\n1. **Write test first** (based on spec requirement)\n   - Test validates spec requirement directly\n   - Include error cases from spec\n   - Include edge cases from spec\n\n2. **Watch it fail**\n   - Confirms test is testing the right thing\n   - Red phase of TDD\n\n3. **Write minimal code to pass**\n   - Implement spec requirement\n   - Don't add features not in spec\n   - Green phase of TDD\n\n4. **Refactor**\n   - Clean up while keeping tests green\n   - Refactor phase of TDD\n\n5. **Verify spec compliance**\n   - Does code match spec requirement?\n   - Check implementation against spec section\n   - Document any necessary deviations\n\n**Track progress with TodoWrite:**\n- Mark requirements as in_progress/completed\n- One requirement at a time\n- Don't skip or batch\n\n### 5. Continuous Spec Compliance Checking\n\n**During implementation, regularly check:**\n\n```bash\n# Compare implementation to spec\n# For each functional requirement:\n# - ‚úì Implemented as specified\n# - ‚úó Deviation detected ‚Üí document reason\n```\n\n**If deviation needed:**\n- Document WHY spec cannot be followed\n- Note what changed and reason\n- Will trigger `sdd:evolve` during review\n\n### 6. Code Review Against Spec\n\n**Use `sdd:review-code` skill.**\n\n**Review checks:**\n- Code implements all spec requirements\n- No extra features beyond spec\n- Error handling matches spec\n- Edge cases covered per spec\n- Tests validate spec requirements\n\n**Output:**\n- Compliance score (% of requirements met)\n- List of deviations with reasons\n- Recommendations: approve or evolve\n\n### 7. Verification Before Completion\n\n**Use `sdd:verification-before-completion` skill.**\n\n**Verification steps:**\n1. All tests pass\n2. Spec compliance validation passes\n3. No unaddressed deviations\n4. All success criteria met (from spec)\n\n**If verification fails:** Fix issues before claiming completion.\n\n## Checklist\n\nUse TodoWrite to track:\n\n- [ ] Read and understand spec\n- [ ] Generate implementation plan from spec\n- [ ] Set up workspace (worktree or branch)\n- [ ] For each requirement: TDD cycle (test, fail, implement, pass, refactor)\n- [ ] Check spec compliance continuously\n- [ ] Request code review against spec\n- [ ] Run verification (tests + spec compliance)\n- [ ] Address any deviations (evolve spec or fix code)\n- [ ] Commit implementation\n- [ ] Clean up workspace\n\n## Example Flow\n\n```\nUser: Let's implement the user profile API from the spec\n\nYou: I'm using sdd:implement to build this feature from the spec.\n\nReading spec: specs/features/user-profile-api.md\n\nThe spec defines:\n- PUT /api/users/:id/profile endpoint\n- Fields: name (2-50 chars), bio (max 500), avatar_url\n- Auth: JWT required\n- Errors: 401, 403, 404, 422\n- Success criteria: authenticated users can update profiles\n\nGenerating implementation plan from spec...\n[Uses sdd:writing-plans]\n\nPlan created: docs/plans/2025-11-10-user-profile-api-implementation.md\n\nPlan includes:\n1. Create route handler (src/api/users/profile.ts)\n2. Add validation middleware (src/middleware/validate-profile.ts)\n3. Update service layer (src/services/user.ts)\n4. Add tests (tests/api/users/profile.test.ts)\n\nReady to implement with TDD. Starting...\n\n[Uses test-driven-development]\n\nTest 1: Should reject unauthenticated requests (Spec: Error Handling)\n\nWriting test...\n```typescript\ntest('PUT /api/users/:id/profile returns 401 without JWT', async () => {\n  const response = await request(app)\n    .put('/api/users/123/profile')\n    .send({ name: 'Test' });\n\n  expect(response.status).toBe(401);\n  expect(response.body.error).toBe('Authentication required');\n});\n```\n\nRunning test... ‚ùå FAIL (expected - no auth implemented yet)\n\nImplementing auth middleware...\n[Adds JWT validation]\n\nRunning test... ‚úÖ PASS\n\nSpec compliance check:\n‚úì Matches spec requirement: \"User must be authenticated with valid JWT\"\n‚úì Error message matches spec: \"Authentication required\"\n\n---\n\nTest 2: Should validate name length (Spec: Functional Requirements #2)\n\nWriting test...\n```typescript\ntest('PUT /api/users/:id/profile validates name length', async () => {\n  const token = generateTestJWT({ sub: '123' });\n\n  // Too short\n  let response = await request(app)\n    .put('/api/users/123/profile')\n    .set('Authorization', `Bearer ${token}`)\n    .send({ name: 'A' });\n\n  expect(response.status).toBe(422);\n\n  // Too long\n  response = await request(app)\n    .put('/api/users/123/profile')\n    .set('Authorization', `Bearer ${token}`)\n    .send({ name: 'A'.repeat(51) });\n\n  expect(response.status).toBe(422);\n\n  // Valid\n  response = await request(app)\n    .put('/api/users/123/profile')\n    .set('Authorization', `Bearer ${token}`)\n    .send({ name: 'Valid Name' });\n\n  expect(response.status).toBe(200);\n});\n```\n\nRunning test... ‚ùå FAIL\n\nImplementing validation...\n[Adds name length validation]\n\nRunning test... ‚úÖ PASS\n\nSpec compliance check:\n‚úì Matches spec: \"name: string, 2-50 characters\"\n\n---\n\n[Continues through all requirements...]\n\nAll requirements implemented ‚úì\n\nRequesting code review against spec...\n[Uses sdd:review-code]\n\nCode Review Results:\n‚úì All functional requirements implemented (6/6)\n‚úì All error cases handled (4/4)\n‚úì All edge cases covered (3/3)\n‚úì Tests validate spec requirements\n\nSpec Compliance: 100%\n\nDeviations detected: 1\n- Added `updated_at` field to response (not in spec)\n  Reason: Standard practice for update endpoints\n  Recommendation: Update spec (minor addition)\n\nRunning verification...\n[Uses sdd:verification-before-completion]\n\n‚úÖ All tests passing (24/24)\n‚úÖ Spec compliance validated\n‚ö†Ô∏è  Minor deviation: updated_at field\n\nRecommendation: Use sdd:evolve to update spec with updated_at field\n\nYou: Should I update the spec to include the updated_at field?\n```\n\n## Handling Deviations\n\n**When code deviates from spec:**\n\n1. **Document the deviation** during implementation\n2. **Note the reason** (technical constraint, better approach, etc.)\n3. **Continue implementation** (don't block on it)\n4. **Trigger evolution** during review\n5. **Use `sdd:evolve`** to reconcile\n\n**Never:**\n- Silently deviate without documentation\n- Force-fit code to incorrect spec\n- Skip spec compliance checks\n\n## Integration with Superpowers Skills\n\n**This skill orchestrates:**\n- `sdd:writing-plans` - Generate plan from spec\n- `test-driven-development` - TDD implementation\n- `sdd:review-code` - Spec compliance review\n- `sdd:verification-before-completion` - Tests + spec validation\n- `sdd:evolve` - If deviations need reconciliation\n\n**Also compatible with:**\n- `using-git-worktrees` - Isolated workspace\n- `systematic-debugging` - If bugs found during implementation\n\n## Success Criteria\n\n**Implementation is complete when:**\n- [ ] All spec requirements implemented\n- [ ] All tests passing\n- [ ] Spec compliance 100% (or deviations reconciled)\n- [ ] Code review passed\n- [ ] Verification passed\n- [ ] All success criteria from spec met\n\n## Common Pitfalls\n\n**Avoid:**\n- Implementing features not in spec\n- Skipping TDD (spec doesn't mean no tests!)\n- Ignoring error cases from spec\n- Deviating without documentation\n- Claiming completion before verification\n\n**Instead:**\n- Implement only what's in spec (YAGNI)\n- TDD for every requirement\n- Test all error cases from spec\n- Document all deviations\n- Verify before completing\n\n## Remember\n\n**The spec is your contract.**\n\n- Don't add features not in spec\n- Don't skip requirements from spec\n- Don't ignore error cases in spec\n- Don't deviate silently\n\n**If spec is wrong or incomplete:**\n- Document the issue\n- Continue implementation\n- Use `sdd:evolve` to fix spec\n\n**Quality gates exist for a reason:**\n- TDD ensures testability\n- Code review ensures compliance\n- Verification ensures correctness\n\n**Follow the process. Ship quality code that matches the spec.**"
              },
              {
                "name": "review-code",
                "description": "Review code against spec compliance - checks implementation matches spec requirements, identifies deviations, reports compliance score, triggers evolution if needed",
                "path": "skills/review-code/SKILL.md",
                "frontmatter": {
                  "name": "review-code",
                  "description": "Review code against spec compliance - checks implementation matches spec requirements, identifies deviations, reports compliance score, triggers evolution if needed"
                },
                "content": "# Code Review Against Specification\n\n## Overview\n\nReview code implementation against specification to ensure compliance.\n\n**Key Difference from Standard Code Review:**\n- Primary focus: **Does code match spec?**\n- Secondary focus: Code quality, patterns, best practices\n- Output: **Compliance score** + deviation list\n- Triggers: **Spec evolution** if mismatches found\n\n## When to Use\n\n- After implementation complete (called by `sdd:implement`)\n- Before merging/deploying code\n- When validating existing code against spec\n- As part of verification workflow\n\n## The Process\n\n### 1. Load Spec and Code\n\n**Read specification:**\n```bash\ncat specs/features/[feature-name].md\n```\n\n**Identify implementation files:**\n```bash\n# From implementation plan or code exploration\nls -la [implementation-files]\n```\n\n### 2. Review Functional Requirements\n\n**For each functional requirement in spec:**\n\n1. **Find implementation** in code\n2. **Compare behavior**: Does code do what spec says?\n3. **Check completeness**: All aspects implemented?\n4. **Note deviations**: Any differences?\n\n**Create compliance matrix:**\n```\nRequirement 1: [Spec text]\n  Implementation: [file:line]\n  Status: ‚úì Compliant | ‚úó Deviation | ? Missing\n  Notes: [If deviation, explain]\n\nRequirement 2: [Spec text]\n  ...\n```\n\n### 3. Review Error Handling\n\n**For each error case in spec:**\n\n1. **Find error handling** in code\n2. **Check error response**: Matches spec?\n3. **Verify error codes**: Correct HTTP status / error codes?\n4. **Test error messages**: Clear and helpful?\n\n**Error handling compliance:**\n```\nError Case 1: [From spec]\n  Implemented: Yes/No\n  Location: [file:line]\n  Response: [What code returns]\n  Spec Expected: [What spec says]\n  Status: ‚úì / ‚úó\n```\n\n### 4. Review Edge Cases\n\n**For each edge case in spec:**\n\n1. **Find handling** in code\n2. **Check behavior**: Matches spec?\n3. **Verify tests**: Edge case tested?\n\n### 5. Check for Extra Features\n\n**Identify code features NOT in spec:**\n\n- Functions/endpoints not mentioned in spec\n- Behavior beyond spec requirements\n- Additional error handling\n- Extra validations\n\n**For each extra feature:**\n- Document what it does\n- Assess: Helpful addition or scope creep?\n- Note for potential spec update\n\n### 6. Calculate Compliance Score\n\n**Formula:**\n```\nCompliance % = (Compliant Requirements / Total Requirements) √ó 100\n```\n\n**Include:**\n- Functional requirements\n- Error cases\n- Edge cases\n- Non-functional requirements\n\n**Example:**\n```\nFunctional: 8/8 = 100%\nError Cases: 3/4 = 75%\nEdge Cases: 2/3 = 67%\nNon-Functional: 3/3 = 100%\n\nOverall: 16/18 = 89%\n```\n\n### 7. Generate Report\n\n**Report structure:**\n\n```markdown\n# Code Review: [Feature Name]\n\n**Spec:** specs/features/[feature].md\n**Date:** YYYY-MM-DD\n**Reviewer:** Claude (sdd:review-code)\n\n## Compliance Summary\n\n**Overall Score: XX%**\n\n- Functional Requirements: X/X (XX%)\n- Error Handling: X/X (XX%)\n- Edge Cases: X/X (XX%)\n- Non-Functional: X/X (XX%)\n\n## Detailed Review\n\n### Functional Requirements\n\n#### ‚úì Requirement 1: [Spec text]\n**Implementation:** src/[file]:line\n**Status:** Compliant\n**Notes:** Correctly implemented as specified\n\n#### ‚úó Requirement 2: [Spec text]\n**Implementation:** src/[file]:line\n**Status:** Deviation\n**Issue:** [What differs from spec]\n**Impact:** [Minor/Major]\n**Recommendation:** [Update spec / Fix code]\n\n### Error Handling\n\n[Similar format for each error case]\n\n### Edge Cases\n\n[Similar format for each edge case]\n\n### Extra Features (Not in Spec)\n\n#### [Feature name]\n**Location:** src/[file]:line\n**Description:** [What it does]\n**Assessment:** [Helpful / Scope creep]\n**Recommendation:** [Add to spec / Remove]\n\n## Code Quality Notes\n\n[Secondary observations about code quality, patterns, etc.]\n\n## Recommendations\n\n### Critical (Must Fix)\n- [ ] [Issue requiring immediate attention]\n\n### Spec Evolution Candidates\n- [ ] [Deviation that might warrant spec update]\n\n### Optional Improvements\n- [ ] [Nice-to-have suggestions]\n\n## Conclusion\n\n[Overall assessment]\n\n**Next Steps:**\n- If compliance < 100%: Use `sdd:evolve` to reconcile deviations\n- If compliance = 100%: Proceed to verification\n```\n\n### 8. Trigger Evolution if Needed\n\n**If deviations found:**\n- Present review results to user\n- Recommend using `sdd:evolve`\n- Don't proceed to verification until resolved\n\n**If 100% compliant:**\n- Approve for verification\n- Proceed to `sdd:verification-before-completion`\n\n## Review Checklist\n\nUse TodoWrite to track:\n\n- [ ] Load specification\n- [ ] Identify all implementation files\n- [ ] Review each functional requirement\n- [ ] Review each error case\n- [ ] Review each edge case\n- [ ] Identify extra features not in spec\n- [ ] Calculate compliance score\n- [ ] Generate detailed review report\n- [ ] Make recommendations\n- [ ] Trigger evolution if deviations found\n\n## Example Output\n\n```\n# Code Review: User Profile Update API\n\n**Spec:** specs/features/user-profile-api.md\n**Date:** 2025-11-10\n**Reviewer:** Claude (sdd:review-code)\n\n## Compliance Summary\n\n**Overall Score: 94%**\n\n- Functional Requirements: 6/6 (100%)\n- Error Handling: 4/4 (100%)\n- Edge Cases: 3/3 (100%)\n- Non-Functional: 2/3 (67%)\n\n## Detailed Review\n\n### Functional Requirements\n\n#### ‚úì Requirement 1: PUT endpoint accepts requests\n**Implementation:** src/api/users/profile.ts:12\n**Status:** Compliant\n**Notes:** Route correctly configured at PUT /api/users/:id/profile\n\n#### ‚úì Requirement 2: Validates request body\n**Implementation:** src/middleware/validation/profile.ts:5\n**Status:** Compliant\n**Notes:** All validations match spec (name 2-50, bio max 500, avatar_url URL)\n\n[... all ‚úì ...]\n\n### Error Handling\n\n#### ‚úì Error: Missing/Invalid JWT\n**Implementation:** src/middleware/auth.ts:22\n**Status:** Compliant\n**Spec Expected:** 401 with \"Authentication required\"\n**Actual:** 401 with \"Authentication required\" ‚úì\n\n[... all ‚úì ...]\n\n### Non-Functional Requirements\n\n#### ‚úó Performance: Response time < 200ms\n**Status:** Not Verified\n**Issue:** No performance testing implemented\n**Impact:** Minor (likely meets requirement but unverified)\n**Recommendation:** Add performance test or update spec to remove specific timing\n\n### Extra Features (Not in Spec)\n\n#### Updated timestamp in response\n**Location:** src/api/users/profile.ts:45\n**Description:** Adds `updated_at` timestamp to response object\n**Assessment:** Helpful - standard practice for update endpoints\n**Recommendation:** Add to spec (minor addition)\n\n## Recommendations\n\n### Spec Evolution Candidates\n- [ ] Add `updated_at` field to response spec (minor addition)\n- [ ] Remove specific performance timing or add perf tests\n\n## Conclusion\n\nCode implementation is 94% compliant with spec. All functional requirements and error handling correctly implemented. One non-functional requirement unverified and one helpful feature added beyond spec.\n\n**Next Steps:**\nUse `sdd:evolve` to update spec with:\n1. `updated_at` field (minor addition)\n2. Clarify performance requirement (remove specific timing or add test)\n\nAfter spec evolution, compliance will be 100%.\n```\n\n## Assessment Criteria\n\n### Compliant (‚úì)\n- Code does exactly what spec says\n- No deviations in behavior\n- All aspects covered\n\n### Minor Deviation (‚ö†)\n- Small differences (naming, details)\n- Non-breaking additions\n- Better error messages than spec\n- Typically ‚Üí Update spec\n\n### Major Deviation (‚úó)\n- Different behavior than spec\n- Missing functionality\n- Wrong error handling\n- Typically ‚Üí Fix code or evolve spec\n\n### Missing (?)\n- Spec requires it, code doesn't have it\n- Critical gap\n- Must fix code\n\n## Remember\n\n**Spec compliance is primary concern.**\n\nThis is not just code quality review - it's **spec validation**.\n\n- Does code match spec? (Most important)\n- Is code quality good? (Secondary)\n- Any improvements? (Tertiary)\n\n**100% compliance is the goal.**\n\n- < 90%: Significant issues, fix before proceeding\n- 90-99%: Minor deviations, likely spec updates\n- 100%: Perfect compliance, ready for verification\n\n**Deviations trigger evolution.**\n\n- Don't force-fit wrong spec\n- Don't ignore deviations\n- Use `sdd:evolve` to reconcile\n\n**The code and spec must tell the same story.**"
              },
              {
                "name": "review-spec",
                "description": "Review specifications for soundness, completeness, and implementability - validates structure, identifies ambiguities, checks for gaps before implementation",
                "path": "skills/review-spec/SKILL.md",
                "frontmatter": {
                  "name": "review-spec",
                  "description": "Review specifications for soundness, completeness, and implementability - validates structure, identifies ambiguities, checks for gaps before implementation"
                },
                "content": "# Reviewing Specifications for Soundness\n\n## Overview\n\nValidate specification quality before implementation begins.\n\nA poor spec leads to confusion, rework, and spec/code drift. A sound spec enables smooth implementation.\n\nThis skill checks: completeness, clarity, implementability, and testability.\n\n## When to Use\n\n- After spec creation (before implementation)\n- Before generating implementation plan\n- When spec seems unclear or incomplete\n- Periodically for important specs\n\n## Prerequisites\n\nEnsure spec-kit is initialized:\n\n{Skill: spec-kit}\n\nIf spec-kit prompts for restart, pause this workflow and resume after restart.\n\n## Review Dimensions\n\n### 1. Completeness\n- All sections filled\n- No TBD or placeholder text\n- All requirements defined\n- Success criteria specified\n\n### 2. Clarity\n- No ambiguous language\n- Concrete, specific requirements\n- Edge cases explicitly defined\n- Error handling specified\n\n### 3. Implementability\n- Can generate implementation plan\n- Dependencies identified\n- Constraints realistic\n- Scope manageable\n\n### 4. Testability\n- Success criteria measurable\n- Requirements verifiable\n- Acceptance criteria clear\n\n## The Process\n\n### 1. Load and Read Spec\n\n```bash\ncat specs/features/[feature-name].md\n```\n\nRead thoroughly, take notes on issues.\n\n### 2. Check Structure\n\n**Required sections (should exist):**\n- [ ] Purpose/Overview\n- [ ] Functional Requirements\n- [ ] Success Criteria\n- [ ] Error Handling\n\n**Recommended sections:**\n- [ ] Non-Functional Requirements\n- [ ] Edge Cases\n- [ ] Dependencies\n- [ ] Constraints\n- [ ] Out of Scope\n\n**If sections missing:**\n- Note which ones\n- Assess if truly needed for this spec\n- Recommend additions\n\n### 3. Review Completeness\n\n**For each section, check:**\n\n**Purpose:**\n- [ ] Clearly states why feature exists\n- [ ] Describes problem being solved\n- [ ] Avoids implementation details\n\n**Functional Requirements:**\n- [ ] Numbered/listed clearly\n- [ ] Each requirement is specific\n- [ ] No \"TBD\" or placeholders\n- [ ] All aspects covered\n\n**Success Criteria:**\n- [ ] Measurable outcomes defined\n- [ ] Clear completion indicators\n- [ ] Testable assertions\n\n**Error Handling:**\n- [ ] All error cases identified\n- [ ] Handling approach specified\n- [ ] Error messages/codes defined\n\n**Edge Cases:**\n- [ ] Boundary conditions listed\n- [ ] Expected behavior specified\n- [ ] Not marked as \"TBD\"\n\n### 4. Check for Ambiguities\n\n**Red flag words/phrases:**\n- \"should\" (vs \"must\")\n- \"might\", \"could\", \"probably\"\n- \"fast\", \"slow\" (without metrics)\n- \"user-friendly\" (vague)\n- \"handle appropriately\" (non-specific)\n- \"etc.\" (incomplete list)\n- \"similar to...\" (unclear)\n\n**For each ambiguity:**\n- Identify the vague requirement\n- Note what's unclear\n- Suggest specific alternative\n\n### 5. Validate Implementability\n\n**Ask:**\n- Can I generate an implementation plan from this?\n- Are file locations/components identifiable?\n- Are dependencies clear?\n- Is scope reasonable?\n\n**Check for:**\n- Unknown dependencies\n- Unrealistic constraints\n- Scope too large\n- Conflicting requirements\n\n### 6. Assess Testability\n\n**For each requirement:**\n- How will this be tested?\n- Is the outcome verifiable?\n- Can success be measured?\n\n**For success criteria:**\n- Are they specific enough to test?\n- Can they be automated?\n- Are they objective (not subjective)?\n\n### 7. Check Against Constitution\n\n**If constitution exists:**\n\n```bash\ncat specs/constitution.md\n```\n\n**Validate:**\n- Does spec follow project principles?\n- Are patterns consistent?\n- Does error handling match standards?\n- Are architectural decisions aligned?\n\n**Note any violations with reasoning.**\n\n### 8. Generate Review Report\n\n**Report structure:**\n\n```markdown\n# Spec Review: [Feature Name]\n\n**Spec:** specs/features/[feature].md\n**Date:** YYYY-MM-DD\n**Reviewer:** Claude (sdd:review-spec)\n\n## Overall Assessment\n\n**Status:** ‚úÖ SOUND / ‚ö†Ô∏è NEEDS WORK / ‚ùå MAJOR ISSUES\n\n**Summary:** [1-2 sentence overall assessment]\n\n## Completeness: [Score/5]\n\n### Structure\n- [‚úì/‚úó] All required sections present\n- [‚úì/‚úó] Recommended sections included\n- [‚úì/‚úó] No placeholder text\n\n### Coverage\n- [‚úì/‚úó] All functional requirements defined\n- [‚úì/‚úó] Error cases identified\n- [‚úì/‚úó] Edge cases covered\n- [‚úì/‚úó] Success criteria specified\n\n**Issues:**\n- [List any completeness issues]\n\n## Clarity: [Score/5]\n\n### Language Quality\n- [‚úì/‚úó] No ambiguous language\n- [‚úì/‚úó] Requirements are specific\n- [‚úì/‚úó] No vague terms\n\n**Ambiguities Found:**\n1. [Quote ambiguous text]\n   - Issue: [What's unclear]\n   - Suggestion: [Specific alternative]\n\n## Implementability: [Score/5]\n\n### Plan Generation\n- [‚úì/‚úó] Can generate implementation plan\n- [‚úì/‚úó] Dependencies identified\n- [‚úì/‚úó] Constraints realistic\n- [‚úì/‚úó] Scope manageable\n\n**Issues:**\n- [List any implementability issues]\n\n## Testability: [Score/5]\n\n### Verification\n- [‚úì/‚úó] Success criteria measurable\n- [‚úì/‚úó] Requirements verifiable\n- [‚úì/‚úó] Acceptance criteria clear\n\n**Issues:**\n- [List any testability issues]\n\n## Constitution Alignment\n\n[If constitution exists]\n\n- [‚úì/‚úó] Follows project principles\n- [‚úì/‚úó] Patterns consistent\n- [‚úì/‚úó] Error handling aligned\n\n**Violations:**\n- [List any violations]\n\n## Recommendations\n\n### Critical (Must Fix Before Implementation)\n- [ ] [Critical issue 1]\n- [ ] [Critical issue 2]\n\n### Important (Should Fix)\n- [ ] [Important issue 1]\n\n### Optional (Nice to Have)\n- [ ] [Optional improvement 1]\n\n## Conclusion\n\n[Final assessment and recommendation]\n\n**Ready for implementation:** Yes / No / After fixes\n\n**Next steps:**\n[What should be done]\n```\n\n### 9. Make Recommendation\n\n**If sound (minor issues only):**\n- ‚úÖ Ready for implementation\n- Proceed with `sdd:implement`\n\n**If needs work (important issues):**\n- ‚ö†Ô∏è Fix issues before implementing\n- Update spec, re-review\n\n**If major issues:**\n- ‚ùå Not ready for implementation\n- Significant rework needed\n- May need re-brainstorming\n\n## Review Checklist\n\nUse TodoWrite to track:\n\n- [ ] Load and read spec thoroughly\n- [ ] Check structure (all sections present)\n- [ ] Review completeness (no TBD, all covered)\n- [ ] Identify ambiguities (vague language)\n- [ ] Validate implementability (can plan from this)\n- [ ] Assess testability (can verify requirements)\n- [ ] Check constitution alignment (if exists)\n- [ ] Generate review report\n- [ ] Make recommendation (ready/needs work/major issues)\n\n## Example: Sound Spec\n\n```\n# Spec Review: User Profile Update API\n\n**Spec:** specs/features/user-profile-api.md\n**Status:** ‚úÖ SOUND\n\n## Overall Assessment\n\nSpecification is well-written, complete, and ready for implementation.\nMinor suggestions for improvement but no blocking issues.\n\n## Completeness: 5/5\n\n‚úì All required sections present\n‚úì All functional requirements clearly defined (6 requirements)\n‚úì All error cases identified (4 cases)\n‚úì All edge cases covered (3 cases)\n‚úì Success criteria specified and measurable\n\n## Clarity: 4.5/5\n\n‚úì Requirements are specific and unambiguous\n‚úì Error handling clearly defined\n‚ö†Ô∏è One minor ambiguity (see below)\n\n**Ambiguities Found:**\n1. \"Response should be fast\"\n   - Issue: \"Fast\" is subjective\n   - Suggestion: Specify \"Response time < 200ms\" or remove\n\n## Implementability: 5/5\n\n‚úì Can generate detailed implementation plan\n‚úì All dependencies identified (JWT auth, database)\n‚úì Constraints are realistic\n‚úì Scope is manageable (single endpoint)\n\n## Testability: 5/5\n\n‚úì All success criteria measurable\n‚úì Each requirement verifiable through tests\n‚úì Clear acceptance criteria\n\n## Constitution Alignment\n\n‚úì Follows RESTful conventions (from constitution)\n‚úì Error handling matches project patterns\n‚úì Auth requirements aligned with standards\n\n## Recommendations\n\n### Important (Should Fix)\n- [ ] Clarify \"fast\" response requirement (specify < 200ms or remove)\n\n### Optional\n- [ ] Consider adding rate limiting requirement\n- [ ] Specify audit logging if required by project\n\n## Conclusion\n\nExcellent spec, ready for implementation after minor clarification on\nperformance requirement.\n\n**Ready for implementation:** Yes (after performance clarification)\n\n**Next steps:** Clarify \"fast\" requirement, then proceed to sdd:implement\n```\n\n## Example: Needs Work\n\n```\n# Spec Review: Real-time Notifications\n\n**Spec:** specs/features/real-time-notifications.md\n**Status:** ‚ö†Ô∏è NEEDS WORK\n\n## Overall Assessment\n\nSpecification has good foundation but several important gaps that will\ncause confusion during implementation.\n\n## Completeness: 3/5\n\n‚úì Purpose clearly stated\n‚úó Non-functional requirements missing\n‚úó Error handling incomplete\n‚ö†Ô∏è Edge cases partially defined\n\n**Issues:**\n- No specification of real-time latency requirements\n- Database storage requirements unclear\n- Error recovery not defined\n- Scalability requirements missing\n\n## Clarity: 3/5\n\n**Ambiguities Found:**\n1. \"Notifications should appear in real-time\"\n   - Issue: \"Real-time\" undefined (< 100ms? < 1s? < 5s?)\n   - Suggestion: Specify exact latency requirement\n\n2. \"Handle notification delivery failures appropriately\"\n   - Issue: \"Appropriately\" is non-specific\n   - Suggestion: Define retry logic, fallback, user notification\n\n3. \"Support many users\"\n   - Issue: \"Many\" is vague\n   - Suggestion: Specify target (100? 1000? 10000?)\n\n## Implementability: 2/5\n\n‚úó Cannot generate complete implementation plan\n‚úó Technology stack not specified (WebSocket? SSE? Polling?)\n‚úó Storage mechanism unclear\n\n**Issues:**\n- Is this WebSocket or polling? Spec doesn't say\n- Where are notifications stored? For how long?\n- What happens when user offline?\n- No mention of infrastructure requirements\n\n## Testability: 3/5\n\n‚ö†Ô∏è Some criteria measurable, others vague\n\n**Issues:**\n- \"Users receive notifications quickly\" - not measurable\n- \"System handles failures\" - no specific test criteria\n\n## Recommendations\n\n### Critical (Must Fix Before Implementation)\n- [ ] Define exact real-time latency requirement (< Xms)\n- [ ] Specify technology (WebSocket vs polling vs SSE)\n- [ ] Define notification storage (where, how long)\n- [ ] Specify error handling and retry logic\n- [ ] Define scalability target (number of users)\n\n### Important (Should Fix)\n- [ ] Add detailed error cases\n- [ ] Specify offline handling\n- [ ] Define notification expiration\n- [ ] Add infrastructure requirements\n\n## Conclusion\n\nSpec has good intent but lacks critical technical details needed for\nimplementation. Requires significant expansion before coding can begin.\n\n**Ready for implementation:** No\n\n**Next steps:**\n1. Address all critical issues\n2. Re-review spec\n3. Then proceed to implementation\n```\n\n## Quality Standards\n\n**A sound spec has:**\n- All sections complete\n- No ambiguous language\n- Specific, measurable requirements\n- Identified dependencies\n- Realistic constraints\n- Clear error handling\n- Defined edge cases\n- Testable success criteria\n\n**A poor spec has:**\n- Missing sections\n- Vague language\n- Unmeasurable requirements\n- Unknown dependencies\n- Unrealistic constraints\n- Unclear error handling\n- Ignored edge cases\n- Subjective criteria\n\n## Remember\n\n**Reviewing specs saves time in implementation.**\n\n- 1 hour reviewing spec saves 10 hours debugging\n- Ambiguities caught early prevent rework\n- Complete specs enable smooth TDD\n- Sound specs reduce spec/code drift\n\n**Be thorough but not pedantic:**\n- Flag real issues, not nitpicks\n- Focus on what blocks implementation\n- Suggest specific improvements\n- Balance perfection with pragmatism\n\n**The goal is implementability, not perfection.**"
              },
              {
                "name": "spec-kit",
                "description": "Technical integration layer for spec-kit CLI - handles automatic initialization, installation validation, project setup, and ensures proper file/directory layout. Called by all SDD workflow skills.",
                "path": "skills/spec-kit/SKILL.md",
                "frontmatter": {
                  "name": "spec-kit",
                  "description": "Technical integration layer for spec-kit CLI - handles automatic initialization, installation validation, project setup, and ensures proper file/directory layout. Called by all SDD workflow skills."
                },
                "content": "# Spec-Kit Technical Integration\n\n## Purpose\n\nThis skill is the **single source of truth** for all spec-kit technical integration:\n- Automatic initialization and setup\n- Installation validation\n- Project structure management\n- CLI command wrappers\n- Layout and file path enforcement\n\n**This is a low-level technical skill.** Workflow skills (brainstorm, implement, etc.) call this skill for setup, then proceed with their specific workflows.\n\n## Automatic Initialization Protocol\n\n**IMPORTANT: This runs automatically when called by any workflow skill.**\n\nEvery SDD workflow skill calls this skill first via `{Skill: spec-kit}`. When called, execute this initialization sequence once per session.\n\n### Session Tracking\n\n```bash\n# Check if already initialized this session\n# Use an environment variable or similar mechanism\n# If \"sdd_init_done\" flag is set, skip to step 4\n```\n\n### Step 1: Check spec-kit CLI Installation\n\n```bash\nwhich speckit\n```\n\n**If NOT found:**\n```\n‚ùå ERROR: spec-kit is required but not installed\n\nspec-kit provides the templates, scripts, and tooling for SDD workflows.\n\nInstallation:\n1. Visit: https://github.com/github/spec-kit\n2. Follow installation instructions\n3. Ensure 'speckit' is in your PATH\n4. Verify: run 'which speckit'\n\nAfter installation, restart this workflow.\n```\n\n**STOP workflow.** Do not proceed without spec-kit.\n\n**If found:**\n```bash\n# Get version for logging\nspeckit --version\n```\n\nProceed to step 2.\n\n### Step 2: Check Project Initialization\n\n```bash\n# Check if .specify/ directory exists\n[ -d .specify ] && echo \"initialized\" || echo \"not-initialized\"\n```\n\n**If NOT initialized:**\n\nDisplay message:\n```\nspec-kit is installed ‚úì\n\nThis project needs initialization...\nRunning: speckit init\n```\n\nExecute initialization:\n```bash\nspeckit init\n```\n\n**Check for errors:**\n- Permission denied ‚Üí suggest running with proper permissions\n- Command failed ‚Üí display error and suggest manual init\n- Success ‚Üí proceed to step 3\n\n**If already initialized:**\nSkip to step 3.\n\n### Step 3: Check for New Commands (Restart Detection)\n\nAfter `speckit init` runs, check if local commands were installed:\n\n```bash\n# Check if spec-kit installed Claude Code commands\nif [ -d .claude/commands ]; then\n  ls .claude/commands/ | grep -q speckit\n  if [ $? -eq 0 ]; then\n    echo \"commands-installed\"\n  fi\nfi\n```\n\n**If commands were installed:**\n\nDisplay restart prompt:\n```\n‚úÖ Project initialized successfully!\n\n‚ö†Ô∏è  RESTART REQUIRED ‚ö†Ô∏è\n\nspec-kit has installed local slash commands in:\n  .claude/commands/speckit.*\n\nTo load these new commands, please:\n1. Save your work\n2. Close this conversation\n3. Restart Claude Code application\n4. Return to this project\n5. Continue your workflow\n\nAfter restart, you'll have access to:\n- /sdd:* commands (from this plugin)\n- /speckit.* commands (from local spec-kit installation)\n\n[Workflow paused - resume after restart]\n```\n\n**STOP workflow.** User must restart before continuing.\n\n**If no new commands installed:**\nProceed to step 4.\n\n### Step 4: Verify Installation\n\nQuick sanity check:\n```bash\n# Verify key files exist\n[ -f .specify/templates/spec-template.md ] && \\\n[ -f .specify/scripts/bash/common.sh ] && \\\necho \"verified\" || echo \"corrupt\"\n```\n\n**If verification fails:**\n```\n‚ùå ERROR: .specify/ exists but appears incomplete\n\nThis may be due to a failed initialization.\n\nPlease run: speckit init --force\n\nThen restart this workflow.\n```\n\n**STOP workflow.**\n\n**If verification succeeds:**\n- Set session flag: \"sdd_init_done\"\n- Return success to calling skill\n- Calling skill continues with its workflow\n\n## Layout Validation\n\nUse these helpers to validate spec-kit file structure:\n\n### Check Constitution\n\n```bash\n# Constitution location (per spec-kit convention)\nCONSTITUTION=\".specify/memory/constitution.md\"\n\nif [ -f \"$CONSTITUTION\" ]; then\n  echo \"constitution-exists\"\nelse\n  echo \"no-constitution\"\nfi\n```\n\n### Get Feature Spec Path\n\n```bash\n# Validate feature spec path follows spec-kit layout\n# Expected: specs/NNNN-feature-name/spec.md\n# Or: specs/features/feature-name.md\n\nvalidate_spec_path() {\n  local spec_path=$1\n\n  # Check if follows spec-kit conventions\n  if [[ $spec_path =~ ^specs/[0-9]+-[a-z-]+/spec\\.md$ ]] || \\\n     [[ $spec_path =~ ^specs/features/[a-z-]+\\.md$ ]]; then\n    echo \"valid\"\n  else\n    echo \"invalid: spec must be in specs/ directory with proper naming\"\n  fi\n}\n```\n\n### Get Plan Path\n\n```bash\n# Plan location (per spec-kit convention)\n# Expected: specs/NNNN-feature-name/docs/plan.md\n\nget_plan_path() {\n  local feature_dir=$1  # e.g., \"specs/0001-user-auth\"\n  echo \"$feature_dir/docs/plan.md\"\n}\n```\n\n### Ensure Directory Structure\n\n```bash\n# Create spec-kit compliant feature structure\nensure_feature_structure() {\n  local feature_dir=$1  # e.g., \"specs/0001-user-auth\"\n\n  mkdir -p \"$feature_dir/docs\"\n  mkdir -p \"$feature_dir/checklists\"\n  mkdir -p \"$feature_dir/contracts\"\n\n  echo \"created: $feature_dir structure\"\n}\n```\n\n## Spec-Kit CLI Commands\n\nWrapper helpers for common spec-kit commands:\n\n### Initialize Project\n\n```bash\n# Already covered in automatic initialization\nspeckit init\n```\n\n### Create Specification\n\n```bash\n# Interactive spec creation\nspeckit specify [feature-description]\n\n# Uses template from .specify/templates/spec-template.md\n```\n\n### Validate Specification\n\n```bash\n# Validate spec format and structure\nspeckit validate <spec-file>\n\n# Example:\nspeckit validate specs/0001-user-auth/spec.md\n```\n\n### Generate Plan\n\n```bash\n# Generate implementation plan from spec\nspeckit plan <spec-file>\n\n# Example:\nspeckit plan specs/0001-user-auth/spec.md\n```\n\n### Create Constitution\n\n```bash\n# Interactive constitution creation\nspeckit constitution\n\n# Creates .specify/memory/constitution.md\n```\n\n## Error Handling\n\n### spec-kit CLI Errors\n\n**Command not found after installation:**\n- Check PATH configuration\n- Suggest shell restart\n- Provide which speckit output\n\n**Init fails:**\n- Check write permissions\n- Check disk space\n- Suggest manual troubleshooting\n\n**Validation fails:**\n- Display validation errors\n- Suggest fixes based on error type\n- Reference spec template\n\n### File System Errors\n\n**Permission denied:**\n```\nCannot write to project directory.\n\nPlease ensure you have write permissions:\n  chmod +w .\n```\n\n**Path not found:**\n```\nExpected file not found: <path>\n\nThis suggests incomplete initialization.\nRun: speckit init --force\n```\n\n## Integration Points\n\n**Called by these workflow skills:**\n- sdd:brainstorm (at start)\n- sdd:implement (at start)\n- sdd:evolve (at start)\n- sdd:constitution (at start)\n- sdd:review-spec (at start)\n- All workflow skills that need spec-kit\n\n**Calls:**\n- spec-kit CLI (external command)\n- File system operations\n- No other skills (this is a leaf skill)\n\n## Session Management\n\n**First call in session:**\n- Run full initialization protocol\n- Check installation, project, commands\n- Prompt restart if needed\n- Set session flag\n\n**Subsequent calls in session:**\n- Check session flag\n- Skip initialization if already done\n- Optionally re-verify critical paths\n- Return success immediately\n\n**Session reset:**\n- New conversation = new session\n- Re-run initialization protocol\n- Ensures project state is current\n\n## Remember\n\n**This skill is infrastructure, not workflow.**\n\n- Don't make decisions about WHAT to build\n- Don't route to other workflow skills\n- Just ensure spec-kit is ready to use\n- Validate paths and structure\n- Handle technical errors\n\n**Workflow skills handle:**\n- What to create (specs, plans, code)\n- When to use which tool\n- Process discipline and quality gates\n\n**This skill handles:**\n- Is spec-kit installed?\n- Is project initialized?\n- Do files exist in correct locations?\n- Are commands available?\n\n**The goal: Zero-config, automatic, invisible setup.**"
              },
              {
                "name": "spec-refactoring",
                "description": "Consolidate and improve evolved specs - identifies inconsistencies, removes redundancy, improves structure while maintaining feature coverage",
                "path": "skills/spec-refactoring/SKILL.md",
                "frontmatter": {
                  "name": "spec-refactoring",
                  "description": "Consolidate and improve evolved specs - identifies inconsistencies, removes redundancy, improves structure while maintaining feature coverage"
                },
                "content": "# Specification Refactoring\n\n## Overview\n\nRefactor specifications that have grown organically to improve clarity, consistency, and maintainability.\n\nAs specs evolve through `sdd:evolve`, they can accumulate:\n- Inconsistencies\n- Redundancies\n- Unclear sections\n- Poor organization\n\nThis skill consolidates and improves specs while ensuring all implemented features remain covered.\n\n## When to Use\n\n- Spec has evolved significantly through multiple updates\n- Multiple related specs have redundancy\n- Spec is difficult to understand or implement from\n- Before major feature work on legacy spec\n- Periodic maintenance (quarterly review)\n\n**Warning:** Never refactor specs during active implementation. Wait until stable.\n\n## The Process\n\n### 1. Analyze Current State\n\n**Read all related specs:**\n```bash\n# Single spec\ncat specs/features/[feature].md\n\n# Multiple related specs\ncat specs/features/user-*.md\n```\n\n**Document current issues:**\n- Inconsistencies (conflicting requirements)\n- Redundancies (duplicate requirements)\n- Unclear sections (ambiguities)\n- Poor structure (hard to navigate)\n- Outdated sections (no longer relevant)\n\n### 2. Review Implementation\n\n**Check what's actually implemented:**\n```bash\n# Find implementation\nrg \"[feature-related-terms]\" src/\n\n# Check tests\nrg \"[feature-related-terms]\" tests/\n```\n\n**Critical:** Refactored spec MUST cover all implemented features.\n\n**Create coverage map:**\n```\nImplemented Feature 1 ‚Üí Spec Requirement X\nImplemented Feature 2 ‚Üí Spec Requirement Y\n...\n```\n\nIf implementation exists without spec coverage, ADD it during refactor.\n\n### 3. Identify Consolidation Opportunities\n\n**Look for:**\n\n**Redundant requirements:**\n- Same requirement stated multiple times\n- Similar requirements that could merge\n- Duplicate error handling\n\n**Inconsistent terminology:**\n- Same concept called different names\n- Inconsistent capitalization\n- Different formats for similar things\n\n**Scattered related requirements:**\n- Auth requirements in multiple places\n- Error handling spread throughout\n- Related features not grouped\n\n### 4. Design Improved Structure\n\n**Better organization:**\n- Group related requirements\n- Logical section order\n- Consistent formatting\n- Clear hierarchy\n\n**Example improvement:**\n\n**Before:**\n```markdown\n## Requirements\n- User login\n- Password validation\n- Email validation\n- Session management\n- Logout\n- Password reset\n- Email verification\n```\n\n**After:**\n```markdown\n## Authentication Requirements\n\n### User Registration\n- Email validation\n- Email verification\n- Password validation\n\n### Session Management\n- User login\n- Session creation\n- Logout\n- Session expiration\n\n### Password Management\n- Password reset\n- Password change\n- Password strength requirements\n```\n\n### 5. Refactor Spec\n\n**Steps:**\n\n1. **Create refactored version** (new file or branch)\n2. **Reorganize sections** for clarity\n3. **Consolidate redundancies**\n4. **Standardize terminology**\n5. **Improve requirement clarity**\n6. **Add missing coverage** (if implementation exists)\n7. **Remove obsolete sections** (if truly no longer relevant)\n\n**Throughout:** Maintain traceability to old spec\n\n### 6. Validate Refactored Spec\n\n**Check:**\n- [ ] All implemented features covered\n- [ ] No requirements lost\n- [ ] Terminology consistent\n- [ ] Structure logical\n- [ ] No new ambiguities introduced\n\n**Use `sdd:review-spec`** on refactored version.\n\n### 7. Create Changelog\n\n**Document changes:**\n\n```markdown\n## Spec Refactoring Changelog\n\n**Date:** YYYY-MM-DD\n**Previous Version:** [link or commit]\n\n### Changes Made\n\n**Structural Changes:**\n- Reorganized requirements into logical groups\n- Moved error handling to dedicated section\n- Created sub-sections for clarity\n\n**Consolidated Requirements:**\n- Merged requirements 3, 7, 12 (all about validation)\n- Combined duplicate error cases\n- Unified session management requirements\n\n**Terminology Standardization:**\n- \"User\" ‚Üí \"Authenticated User\" (consistent usage)\n- \"Login\" ‚Üí \"Authentication\" (aligned with codebase)\n\n**Added Coverage:**\n- Requirement 15: Password strength (implemented but not in spec)\n- Error case 8: Rate limiting (implemented but not in spec)\n\n**Removed:**\n- Obsolete requirement 9 (feature removed in v2.0)\n\n### Migration Notes\n\n[How to map old spec sections to new spec sections]\n\nOld Section 2.1 ‚Üí New Section 3.1.1\nOld Section 3.4 ‚Üí New Section 2.3\n...\n```\n\n### 8. Transition Strategy\n\n**For active projects:**\n\n1. **Review with team** (if team project)\n2. **Create PR for spec refactor**\n3. **Get approval before merging**\n4. **Keep old spec accessible** (git history)\n5. **Update documentation** (if references spec)\n\n**For solo projects:**\n\n1. **Commit old spec** (ensure it's in git)\n2. **Replace with refactored spec**\n3. **Commit with detailed message**\n\n### 9. Verify Against Code\n\n**After refactoring:**\n\n```bash\n# Check spec compliance with current code\n# Use sdd:review-code\n```\n\n**Ensure:**\n- Refactored spec still describes existing implementation\n- No accidental requirement changes\n- Compliance still 100%\n\n## Refactoring Checklist\n\nUse TodoWrite to track:\n\n- [ ] Analyze current spec state (issues, redundancies)\n- [ ] Review actual implementation (what exists in code)\n- [ ] Create coverage map (implementation ‚Üí spec)\n- [ ] Identify consolidation opportunities\n- [ ] Design improved structure\n- [ ] Refactor spec content\n- [ ] Validate refactored spec for soundness\n- [ ] Ensure all implemented features covered\n- [ ] Create changelog documenting changes\n- [ ] Verify refactored spec against code (compliance check)\n- [ ] Commit with detailed message\n\n## Example: Before and After\n\n### Before Refactoring\n\n```markdown\n# Feature: User System\n\n## Requirements\n1. Users can register\n2. Email must be validated\n3. Password must be strong\n4. Users can login\n5. Sessions expire after 30 minutes\n6. Users can logout\n7. Passwords must have 8 characters\n8. Passwords must have uppercase\n9. Passwords must have lowercase\n10. Passwords must have number\n11. Email format must be valid\n12. Users can reset password\n13. Reset tokens expire after 1 hour\n14. Users get logged out on password change\n15. Sessions use JWT\n16. JWT secret must be secure\n...\n\n(Requirements scattered, no organization, redundancy)\n```\n\n### After Refactoring\n\n```markdown\n# Feature: User Authentication System\n\n## Purpose\nProvide secure user authentication with registration, login, and password management.\n\n## User Registration\n\n### Functional Requirements\n1. Users can register with email and password\n2. Registration creates user account and initial session\n\n### Email Validation\n- Must be valid email format (RFC 5322)\n- Email verification required before account activation\n- Verification link expires after 24 hours\n\n### Password Requirements\n- Minimum 8 characters\n- Must contain: uppercase, lowercase, number\n- Common passwords rejected (check against list)\n\n## Session Management\n\n### Authentication Flow\n1. User provides credentials (email + password)\n2. System validates credentials\n3. On success: JWT token generated\n4. Client stores token for subsequent requests\n\n### Session Configuration\n- Token type: JWT (JSON Web Token)\n- Token expiration: 30 minutes\n- Secret: Stored in environment variable (not in code)\n- Algorithm: HS256\n\n### Logout\n- Client discards token\n- Optional: Server-side token invalidation (if implemented)\n\n## Password Management\n\n### Password Reset\n- User requests reset via email\n- Reset token generated and emailed\n- Reset token expires after 1 hour\n- On successful reset: all sessions invalidated\n\n### Password Change\n- Requires current password confirmation\n- On success: all sessions invalidated (forces re-login)\n...\n\n(Organized, consolidated, clear)\n```\n\n### Changelog for Above\n\n```markdown\n## Spec Refactoring Changelog\n\n**Date:** 2025-11-10\n\n### Structural Changes\n- Reorganized flat list into hierarchical sections:\n  - User Registration\n  - Session Management\n  - Password Management\n\n### Consolidated Requirements\n- Requirements 7-10 ‚Üí Single \"Password Requirements\" section\n- Requirements 2, 11 ‚Üí \"Email Validation\" section\n- Requirements 4, 5, 6, 15, 16 ‚Üí \"Session Management\" section\n\n### Terminology Standardization\n- Consistently use \"JWT\" (not \"token\" and \"JWT\" interchangeably)\n- \"User\" context now explicit (authenticated vs unauthenticated)\n\n### Added Coverage\n- None (all features already in original spec)\n\n### Removed\n- None (all requirements preserved, just reorganized)\n```\n\n## Types of Refactoring\n\n### 1. Structural Refactoring\n- Reorganize sections\n- Create hierarchy\n- Group related items\n- Improve navigation\n\n### 2. Consolidation Refactoring\n- Merge duplicate requirements\n- Combine scattered related items\n- Remove redundancy\n\n### 3. Clarification Refactoring\n- Remove ambiguities\n- Add specificity\n- Improve wording\n- Standardize terminology\n\n### 4. Coverage Refactoring\n- Add missing implemented features\n- Remove obsolete requirements\n- Align with current codebase\n\n## Common Patterns\n\n### Pattern: Password Requirements Scattered\n\n**Problem:** Password requirements in multiple places\n\n**Solution:** Consolidate into single \"Password Requirements\" section\n\n### Pattern: Inconsistent Error Handling\n\n**Problem:** Some requirements specify errors, others don't\n\n**Solution:** Create dedicated \"Error Handling\" section, reference from requirements\n\n### Pattern: Mixed Abstraction Levels\n\n**Problem:** High-level and low-level requirements mixed\n\n**Solution:** Create hierarchy - high-level functional requirements with detailed sub-sections\n\n### Pattern: Terminology Drift\n\n**Problem:** \"User\", \"Account\", \"Profile\" used interchangeably\n\n**Solution:** Standardize on one term, define others in glossary if needed\n\n## Warnings\n\n**Don't:**\n- Change requirements (that's spec evolution, not refactoring)\n- Remove coverage of implemented features\n- Refactor during active implementation\n- Make untracked changes (always document)\n\n**Do:**\n- Preserve all requirement content\n- Improve organization and clarity\n- Maintain traceability\n- Document all changes\n\n## Remember\n\n**Refactoring improves form, not function.**\n\n- Same requirements, better organization\n- Same coverage, better clarity\n- Same intent, better structure\n\n**Refactoring is maintenance, not change.**\n\n- Spec still describes same implementation\n- No behavioral changes\n- Only organizational improvements\n\n**Good specs enable good work.**\n\n- Clear specs enable smooth implementation\n- Organized specs reduce confusion\n- Consistent specs prevent errors\n\n**Periodic refactoring prevents spec decay.**"
              },
              {
                "name": "spec",
                "description": "Create specifications directly from clear requirements - uses spec-kit tools to create formal, executable specs following WHAT/WHY principle (not HOW)",
                "path": "skills/spec/SKILL.md",
                "frontmatter": {
                  "name": "spec",
                  "description": "Create specifications directly from clear requirements - uses spec-kit tools to create formal, executable specs following WHAT/WHY principle (not HOW)"
                },
                "content": "# Direct Specification Creation\n\n## Overview\n\nCreate formal specifications directly when requirements are clear and well-defined.\n\n**Use this instead of brainstorm when:**\n- Requirements are already clear\n- User provides detailed description\n- Feature scope is well-defined\n- No exploratory dialogue needed\n\n**This skill creates specs using spec-kit tools and ensures WHAT/WHY focus (not HOW).**\n\n## When to Use\n\n**Use this skill when:**\n- User provides clear, detailed requirements\n- Feature scope is well-defined\n- User wants to skip exploratory dialogue\n- Requirements come from external source (PRD, ticket, etc.)\n\n**Don't use this skill when:**\n- Requirements are vague or exploratory ‚Üí Use `sdd:brainstorm`\n- Spec already exists ‚Üí Use `sdd:implement` or `sdd:evolve`\n- Making changes to existing spec ‚Üí Use `sdd:spec-refactoring`\n\n## Prerequisites\n\nEnsure spec-kit is initialized:\n\n{Skill: spec-kit}\n\nIf spec-kit prompts for restart, pause this workflow and resume after restart.\n\n## Critical: Specifications are WHAT and WHY, NOT HOW\n\n**Specs define contracts and requirements, not implementation.**\n\n### ‚úÖ Specs SHOULD include:\n- **Requirements**: What the feature must do\n- **Behaviors**: How the feature should behave (user-observable)\n- **Contracts**: API structures, file formats, data schemas\n- **Error handling rules**: What errors must be handled and how they should appear to users\n- **Success criteria**: Measurable outcomes\n- **Constraints**: Limitations and restrictions\n- **User-visible paths**: File locations, environment variables users interact with\n\n### ‚ùå Specs should NOT include:\n- **Implementation algorithms**: Specific sorting algorithms, data structure choices\n- **Code**: Function signatures, class hierarchies, pseudocode\n- **Technology choices**: \"Use Redis\", \"Use React hooks\", \"Use Python asyncio\"\n- **Internal architecture**: How components communicate internally\n- **Optimization strategies**: Caching mechanisms, performance tuning\n\n### üìã Example: What belongs where\n\n**SPEC (WHAT/WHY):**\n```markdown\n## Requirements\n- FR-001: System MUST validate email addresses before storing\n- FR-002: System MUST return validation errors within 200ms\n- FR-003: Invalid emails MUST return 422 status with error details\n\n## Error Handling\n- Invalid format: Return `{\"error\": \"Invalid email format\", \"field\": \"email\"}`\n- Duplicate email: Return `{\"error\": \"Email already exists\"}`\n```\n\n**PLAN (HOW):**\n```markdown\n## Validation Implementation\n- Use regex pattern: `^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$`\n- Cache validation results in Redis (TTL: 5 min)\n- Database query: `SELECT COUNT(*) FROM users WHERE email = ?`\n```\n\n### Why this matters:\n- **Specs remain stable** - Implementation details change, requirements don't\n- **Implementation flexibility** - Can change HOW without changing WHAT\n- **Clearer reviews** - Easy to see if requirements are met vs implementation quality\n- **Better evolution** - When code diverges from spec, know which to update\n\n## The Process\n\n### 1. Gather Requirements\n\n**Extract from user input:**\n- What needs to be built\n- Why it's needed (purpose/problem)\n- Success criteria\n- Constraints and dependencies\n- Error cases and edge conditions\n\n**Ask clarifying questions** (brief, targeted):\n- Only if critical information is missing\n- Keep questions focused and specific\n- Don't turn this into full brainstorming session\n\n**If requirements are vague:**\nStop and use `sdd:brainstorm` instead.\n\n### 2. Check Project Context\n\n**Review existing specs:**\n```bash\nls -la specs/features/\n# Or: ls -la specs/[NNNN]-*/\n```\n\n**Check for constitution:**\n```bash\ncat .specify/memory/constitution.md\n```\n\n**Look for related features:**\n- Similar functionality already specced\n- Integration points\n- Shared components\n\n### 3. Create Specification\n\n**Use spec-kit tools:**\n\n```bash\n# Interactive spec creation using spec-kit template\nspeckit specify \"[feature description]\"\n\n# Or use spec-kit scripts directly\n.specify/scripts/bash/create-new-feature.sh --json \"[feature description]\"\n```\n\n**This will:**\n- Create feature directory (e.g., `specs/0001-feature-name/`)\n- Initialize spec.md from template\n- Set up directory structure (docs/, checklists/, contracts/)\n\n**Fill in the spec following template structure:**\n- Purpose - WHY this feature exists\n- Functional Requirements - WHAT it must do\n- Non-Functional Requirements - Performance, security, etc.\n- Success Criteria - Measurable outcomes\n- Error Handling - What can go wrong\n- Edge Cases - Boundary conditions\n- Constraints - Limitations\n- Dependencies - What this relies on\n- Out of Scope - What this doesn't do\n\n**Follow WHAT/WHY principle:**\n- Focus on observable behavior\n- Avoid implementation details\n- Use user/system perspective\n- Keep technology-agnostic where possible\n\n### 4. Validate Against Constitution\n\n**If constitution exists:**\n\n```bash\ncat .specify/memory/constitution.md\n```\n\n**Check alignment:**\n- Does spec follow project principles?\n- Are patterns consistent with constitution?\n- Does error handling match standards?\n- Are architectural decisions aligned?\n\n**Note any deviations** and justify them in spec.\n\n### 5. Review Spec Soundness\n\n**Before finishing, validate:**\n\nUse `sdd:review-spec` skill to check:\n- Completeness (all sections filled)\n- Clarity (no ambiguous language)\n- Implementability (can generate plan from this)\n- Testability (success criteria measurable)\n\n**If review finds issues:**\n- Fix critical issues before proceeding\n- Document any known gaps\n- Mark unclear areas for clarification\n\n### 6. Commit Spec\n\n**Create git commit:**\n\n```bash\ngit add specs/[feature-dir]/\ngit commit -m \"Add spec for [feature-name]\"\n```\n\n**Spec is now source of truth** for this feature.\n\n## Next Steps\n\nAfter spec creation:\n\n1. **Review spec soundness** (if not already done):\n   ```\n   Use sdd:review-spec\n   ```\n\n2. **Implement the feature**:\n   ```\n   Use sdd:implement\n   ```\n\n3. **Or refine spec further** if issues found\n\n## Remember\n\n**Spec is contract, not design doc:**\n- Defines WHAT and WHY\n- Defers HOW to implementation\n- Remains stable as code evolves\n- Is source of truth for compliance\n\n**Keep specs:****\n- Technology-agnostic\n- User-focused\n- Measurable\n- Implementable\n\n**The goal:**\nA clear, unambiguous specification that serves as the single source of truth for implementation and validation."
              },
              {
                "name": "using-superpowers-sdd",
                "description": "Establishes SDD methodology - workflow routing, process discipline, spec-first principle, and skill discovery. Use when starting any SDD conversation to determine which workflow skill to invoke.",
                "path": "skills/using-superpowers-sdd/SKILL.md",
                "frontmatter": {
                  "name": "using-superpowers-sdd",
                  "description": "Establishes SDD methodology - workflow routing, process discipline, spec-first principle, and skill discovery. Use when starting any SDD conversation to determine which workflow skill to invoke."
                },
                "content": "<EXTREMELY-IMPORTANT>\nIf you think there is even a 1% chance a skill might apply to what you are doing, you ABSOLUTELY MUST read the skill.\n\nIF A SKILL APPLIES TO YOUR TASK, YOU DO NOT HAVE A CHOICE. YOU MUST USE IT.\n\nThis is not negotiable. This is not optional. You cannot rationalize your way out of this.\n</EXTREMELY-IMPORTANT>\n\n# Getting Started with Superpowers-SDD\n\n## What is SDD?\n\n**SDD = Specification-Driven Development**\n\nA development methodology where specifications are the single source of truth:\n- Specs created before code\n- Code validated against specs\n- Specs evolve with implementation reality\n- Quality gates enforce spec compliance\n\nThis plugin combines:\n- **Superpowers** process discipline (TDD, verification, quality gates)\n- **Spec-Driven Development** (specs as source of truth)\n- Result: High-quality software with specs that stay current\n\n## Technical Prerequisites\n\n**NOTE: The `spec-kit` skill handles all technical setup automatically.**\n\nEvery SDD workflow skill calls `{Skill: spec-kit}` first, which:\n- Checks if spec-kit CLI is installed\n- Initializes the project if needed\n- Prompts restart if new commands installed\n- Validates file structure\n\nYou don't need to worry about setup. Focus on choosing the right workflow.\n\n## MANDATORY FIRST RESPONSE PROTOCOL\n\nBefore responding to ANY user message, you MUST complete this checklist:\n\n1. ‚òê List available SDD skills in your mind\n2. ‚òê Ask yourself: \"Does ANY SDD skill match this request?\"\n3. ‚òê If yes ‚Üí Use the Skill tool to read and run the skill file\n4. ‚òê Announce which skill you're using\n5. ‚òê Follow the skill exactly\n\n**Responding WITHOUT completing this checklist = automatic failure.**\n\n## The Specification-First Principle\n\n**CRITICAL RULE: Specs are the source of truth. Everything flows from and validates against specs.**\n\nBefore ANY implementation work:\n- Spec must exist OR be created first\n- Spec must be reviewed for soundness\n- Implementation must validate against spec\n- Spec/code mismatches trigger evolution workflow\n\n**You CANNOT write code without a spec. Period.**\n\n## Critical Rules\n\n1. **Spec-first, always.** No code without spec. No exceptions.\n2. **Follow mandatory workflows.** Brainstorm ‚Üí Spec ‚Üí Plan ‚Üí TDD ‚Üí Verify.\n3. **Check for relevant skills before ANY task.** SDD has skills for each phase.\n4. **Validate spec compliance.** Code review and verification check specs.\n5. **Handle spec/code drift.** Use sdd:evolve when mismatches detected.\n\n## Available SDD Skills\n\n### Phase Entry Points\n- **sdd:brainstorm** - Rough idea ‚Üí spec through collaborative dialogue\n- **sdd:implement** - Spec ‚Üí code with TDD and compliance checking\n- **sdd:evolve** - Handle spec/code mismatches with AI guidance\n\n### Modified Core Skills\n- **sdd:writing-plans** - Generate plans FROM specs (not from scratch)\n- **sdd:review-code** - Review code-to-spec compliance\n- **sdd:verification-before-completion** - Tests + spec compliance validation\n\n### SDD-Specific Skills\n- **sdd:review-spec** - Validate spec soundness and completeness\n- **sdd:spec-refactoring** - Consolidate and improve evolved specs\n- **sdd:spec-kit** - Technical integration for spec-kit CLI (called automatically)\n- **sdd:constitution** - Create/manage project-wide principles\n\n### Compatible Superpowers Skills\nThese work as-is with spec context:\n- **test-driven-development** - Use AFTER spec, during implementation\n- **systematic-debugging** - Use spec as reference during debugging\n- **using-git-worktrees** - For isolated feature development\n- **dispatching-parallel-agents** - For independent parallel work\n\n## Workflow Decision Tree\n\n```\nUser request arrives\n    ‚Üì\nIs this a new feature/project?\n    Yes ‚Üí Is it a rough idea?\n            Yes ‚Üí sdd:brainstorm\n            No ‚Üí Create spec using spec-kit tools\n    No ‚Üí Does spec exist for this area?\n            Yes ‚Üí Is there spec/code mismatch?\n                    Yes ‚Üí sdd:evolve\n                    No ‚Üí sdd:implement\n            No ‚Üí Create spec first using spec-kit tools\n```\n\n## Creating Specifications\n\n### Rough Idea ‚Üí Use Brainstorm\n\n```\nUser: \"I want to add authentication to my app\"\n‚Üí Use sdd:brainstorm\n```\n\n**Brainstorm will:**\n- Explore the idea through questions\n- Propose approaches with trade-offs\n- Refine requirements collaboratively\n- Create formal spec using spec-kit\n\n### Clear Requirements ‚Üí Direct Spec Creation\n\n```\nUser: \"Add a POST /api/users endpoint that validates email and returns 422 on invalid format\"\n‚Üí Create spec directly using spec-kit tools\n```\n\n**Direct spec creation:**\n- Requirements are already clear\n- No exploratory dialogue needed\n- Use spec-kit CLI or templates directly\n- Follow spec-kit layout conventions\n\n**WHAT vs HOW principle:**\nSpecs define WHAT and WHY, not HOW.\n- ‚úÖ WHAT: Requirements, behaviors, contracts, success criteria\n- ‚ùå HOW: Algorithms, code, technology choices, architecture\n\n## Common Rationalizations That Mean You're About To Fail\n\nIf you catch yourself thinking ANY of these thoughts, STOP. You are rationalizing. Check for and use the skill.\n\n**Spec-avoidance rationalizations:**\n- \"This is too simple for a spec\" ‚Üí WRONG. Simple changes still need spec context.\n- \"I'll just write the code quickly\" ‚Üí WRONG. Code without spec creates drift.\n- \"The spec is obvious from the description\" ‚Üí WRONG. Make it explicit.\n- \"We can spec it after implementation\" ‚Üí WRONG. That's documentation, not SDD.\n\n**Skill-avoidance rationalizations:**\n- \"This is just a quick fix\" ‚Üí WRONG. Quick fixes need spec validation.\n- \"I can check the spec manually\" ‚Üí WRONG. Use sdd:verification-before-completion.\n- \"The spec is good enough\" ‚Üí WRONG. Use sdd:review-spec before implementing.\n- \"I remember this workflow\" ‚Üí WRONG. Skills evolve. Run the current version.\n\n**Why:** Specs prevent drift. Skills enforce discipline. Both save time by preventing mistakes.\n\nIf a skill for your task exists, you must use it or you will fail at your task.\n\n## Skills with Checklists\n\nIf a skill has a checklist, YOU MUST create TodoWrite todos for EACH item.\n\n**Don't:**\n- Work through checklist mentally\n- Skip creating todos \"to save time\"\n- Batch multiple items into one todo\n- Mark complete without doing them\n\n**Why:** Checklists without TodoWrite tracking = steps get skipped. Every time.\n\n## Announcing Skill Usage\n\nBefore using a skill, announce that you are using it.\n\n\"I'm using [Skill Name] to [what you're doing].\"\n\n**Examples:**\n- \"I'm using sdd:brainstorm to refine your idea into a spec.\"\n- \"I'm using sdd:implement to build this feature from the spec.\"\n- \"I'm using sdd:evolve to reconcile the spec/code mismatch.\"\n\n**Why:** Transparency helps your human partner understand your process and catch errors early.\n\n## Spec Evolution is Normal\n\nSpecs WILL diverge from code. This is expected and healthy.\n\n**When mismatch detected:**\n1. DON'T panic or force-fit code to wrong spec\n2. DO use sdd:evolve\n3. AI analyzes: update spec vs. fix code\n4. User decides (or auto-update if configured)\n\n**Remember:** Specs are source of truth, but truth can evolve based on reality.\n\n## Constitution: Optional but Powerful\n\nConsider creating a constitution for your project:\n\n**What is it?**\n- Project-wide principles and standards\n- Referenced during spec validation\n- Ensures consistency across features\n\n**When to create:**\n- New projects: Early, after first feature spec\n- Existing projects: When patterns emerge\n- Team projects: Always (defines shared understanding)\n\n**How to create:**\nUse `/sdd:constitution` skill.\n\n## Instructions ‚â† Permission to Skip Workflows\n\nYour human partner's specific instructions describe WHAT to do, not HOW.\n\n\"Add X\", \"Fix Y\" = the goal, NOT permission to skip spec-first or verification.\n\n**Red flags:** \"Instruction was specific\" ‚Ä¢ \"Seems simple\" ‚Ä¢ \"Workflow is overkill\"\n\n**Why:** Specific instructions mean clear requirements, which is when specs matter MOST.\n\n## Summary\n\n**Starting any task:**\n1. Check this skill first for routing\n2. Determine: brainstorm vs. direct spec vs. implement vs. evolve\n3. Invoke the appropriate workflow skill\n4. That skill will call spec-kit for setup automatically\n5. Follow the workflow discipline exactly\n\n**The methodology is:**\n- Specs first, always\n- Code validates against specs\n- Specs evolve when reality teaches us\n- Quality gates prevent shortcuts\n- Process discipline ensures quality\n\n**The tools are:**\n- spec-kit (technical integration)\n- Workflow skills (brainstorm, implement, evolve)\n- Verification and validation skills\n- TDD and debugging skills\n\n**The goal is:**\nHigh-quality software with specs that remain the living source of truth.\n\n## Workflow Patterns\n\n### Pattern 1: New Feature from Rough Idea\n\n```\nUser: \"I want to add notifications to my app\"\n\n1. Recognize: Rough idea\n2. Route to: sdd:brainstorm\n3. Brainstorm will:\n   - Call spec-kit (auto-setup)\n   - Explore idea collaboratively\n   - Create formal spec\n   - Hand off to sdd:implement\n```\n\n### Pattern 2: New Feature from Clear Requirements\n\n```\nUser: \"Add GET /api/stats endpoint returning JSON with user_count and post_count\"\n\n1. Recognize: Clear requirements\n2. Create spec using spec-kit tools\n3. Route to: sdd:implement\n4. Implement will:\n   - Call spec-kit (auto-setup)\n   - Generate plan from spec\n   - Use TDD\n   - Verify spec compliance\n```\n\n### Pattern 3: Code Exists, Spec Missing\n\n```\nUser: \"Document what this auth module does\"\n\n1. Recognize: Code without spec\n2. Create spec by analyzing code\n3. Route to: sdd:evolve (to reconcile)\n```\n\n### Pattern 4: Code and Spec Diverged\n\n```\nUser: \"The login endpoint returns different errors than the spec says\"\n\n1. Recognize: Spec/code mismatch\n2. Route to: sdd:evolve\n3. Evolve will:\n   - Call spec-kit (auto-setup)\n   - Analyze mismatch\n   - Recommend update spec vs. fix code\n   - User decides or auto-update\n```\n\n## Remember\n\n**You are the methodology enforcer.**\n\n- Route to correct workflow skill\n- Enforce spec-first principle\n- Catch rationalizations\n- Ensure quality gates run\n\n**You are NOT:**\n- The technical setup manager (that's spec-kit)\n- The implementer (that's workflow skills)\n- The spec creator (that's spec-kit + brainstorm)\n\n**Your job:**\nEnsure the right skill gets used for the right task, and that SDD principles are followed.\n\n**The goal:**\nSpecs that stay current. Code that matches intent. Quality through discipline."
              },
              {
                "name": "verification-before-completion",
                "description": "Extended verification including tests AND spec compliance - runs tests, validates spec compliance, checks for drift, blocks completion on failures",
                "path": "skills/verification-before-completion/SKILL.md",
                "frontmatter": {
                  "name": "verification-before-completion",
                  "description": "Extended verification including tests AND spec compliance - runs tests, validates spec compliance, checks for drift, blocks completion on failures"
                },
                "content": "# Verification Before Completion (Spec-Aware)\n\n## Overview\n\nVerify implementation is complete by running tests AND validating spec compliance.\n\n**Key Additions from Standard Verification:**\n- Step 1: Run tests (existing behavior)\n- **Step 2: Validate spec compliance** (new)\n- **Step 3: Check for spec drift** (new)\n- Blocks completion if EITHER tests OR spec compliance fails\n\n## When to Use\n\n- After implementation and code review\n- Before claiming work is complete\n- Before committing/merging/deploying\n- As final gate in `sdd:implement` workflow\n\n## The Process\n\n### 1. Run Tests\n\n**Execute all tests:**\n```bash\n# Run full test suite\nnpm test  # or pytest, go test, etc.\n```\n\n**Check results:**\n- All tests passing?\n- No flaky tests?\n- Coverage adequate?\n\n**If tests fail:**\n- ‚ùå **STOP - Fix tests before proceeding**\n- Do not skip this step\n- Do not claim completion\n\n### 2. Validate Spec Compliance\n\n**Load spec:**\n```bash\ncat specs/features/[feature-name].md\n```\n\n**Check each requirement:**\n\n```markdown\nFunctional Requirement 1: [From spec]\n  ‚úì / ‚úó Implemented\n  ‚úì / ‚úó Tested\n  ‚úì / ‚úó Matches spec behavior\n\nFunctional Requirement 2: [From spec]\n  ...\n```\n\n**Verify:**\n- All requirements implemented\n- All requirements tested\n- All behavior matches spec\n- No missing features\n- No extra features (or documented)\n\n**Calculate compliance:**\n```\nSpec Compliance: X/X requirements = XX%\n```\n\n**If compliance < 100%:**\n- ‚ùå **STOP - Use `sdd:evolve` to reconcile**\n- Document all deviations\n- Do not proceed until resolved\n\n### 3. Check for Spec Drift\n\n**Compare:**\n- What spec says NOW\n- What code does NOW\n- Any divergence?\n\n**Common drift sources:**\n- Spec updated but code not\n- Code changed but spec not\n- Undocumented additions\n- Forgotten requirements\n\n**If drift detected:**\n- Document each instance\n- Use `sdd:evolve` to reconcile\n- Do not proceed with drift\n\n### 4. Verify Success Criteria\n\n**From spec, check each criterion:**\n\n```markdown\nSuccess Criteria (from spec):\n- [ ] Criterion 1: [Description]\n      Status: ‚úì Met / ‚úó Not met\n      Evidence: [How verified]\n\n- [ ] Criterion 2: [Description]\n      ...\n```\n\n**All criteria must be met.**\n\nIf any criterion not met:\n- ‚ùå **STOP - Criterion not met**\n- Implement missing piece\n- Re-verify\n\n### 5. Generate Verification Report\n\n**Report structure:**\n\n```markdown\n# Verification Report: [Feature Name]\n\n**Date:** YYYY-MM-DD\n**Spec:** specs/features/[feature].md\n\n## Test Results\n\n**Status:** ‚úÖ PASS / ‚ùå FAIL\n\n```\n[Test output]\n```\n\n**Summary:**\n- Total: X tests\n- Passed: X\n- Failed: X\n- Coverage: XX%\n\n## Spec Compliance\n\n**Status:** ‚úÖ COMPLIANT / ‚ùå NON-COMPLIANT\n\n**Compliance Score:** XX%\n\n### Requirements Status\n- Functional: X/X (XX%)\n- Error Cases: X/X (XX%)\n- Edge Cases: X/X (XX%)\n- Non-Functional: X/X (XX%)\n\n### Deviations\n[List any deviations found]\n\n## Spec Drift Check\n\n**Status:** ‚úÖ NO DRIFT / ‚ö†Ô∏è DRIFT DETECTED\n\n[Details if drift found]\n\n## Success Criteria\n\n**Status:** ‚úÖ ALL MET / ‚ùå INCOMPLETE\n\n- [‚úì] Criterion 1\n- [‚úì] Criterion 2\n...\n\n## Overall Status\n\n‚úÖ **VERIFIED - Ready for completion**\n\nOR\n\n‚ùå **NOT VERIFIED - Issues must be resolved**\n\n**Blocking Issues:**\n- [Issue 1]\n- [Issue 2]\n\n**Next Steps:**\n[What needs to be done]\n```\n\n### 6. Make Go/No-Go Decision\n\n**All conditions must be true:**\n- [x] All tests passing\n- [x] Spec compliance 100%\n- [x] No spec drift\n- [x] All success criteria met\n\n**If ALL true:**\n- ‚úÖ **VERIFIED - Proceed to completion**\n- Safe to commit/merge/deploy\n\n**If ANY false:**\n- ‚ùå **NOT VERIFIED - Block completion**\n- Fix issues before proceeding\n- Re-run verification after fixes\n\n## Verification Checklist\n\nUse TodoWrite to track:\n\n- [ ] Run full test suite\n- [ ] Verify all tests passing\n- [ ] Load specification\n- [ ] Validate spec compliance for all requirements\n- [ ] Check for spec drift\n- [ ] Verify all success criteria met\n- [ ] Generate verification report\n- [ ] Make go/no-go decision\n- [ ] If not verified: Document blocking issues\n- [ ] If verified: Proceed to completion\n\n## Example: Verification PASS\n\n```\nYou: Running verification before completion...\n\nStep 1: Running tests...\n\n$ npm test\n\n‚úÖ All tests passing (24/24)\n‚úÖ Coverage: 95%\n\nStep 2: Validating spec compliance...\n\nReading spec: specs/features/user-profile-api.md\n\nChecking requirements:\n‚úì Functional Requirement 1: PUT endpoint - Implemented & tested\n‚úì Functional Requirement 2: Validation - Implemented & tested\n‚úì Functional Requirement 3: Auth - Implemented & tested\n‚úì Functional Requirement 4: Authorization - Implemented & tested\n‚úì Functional Requirement 5: Response format - Implemented & tested\n‚úì Functional Requirement 6: Partial updates - Implemented & tested\n\n‚úì Error Case 1: Missing JWT - Handled & tested\n‚úì Error Case 2: User not found - Handled & tested\n‚úì Error Case 3: Validation failure - Handled & tested\n‚úì Error Case 4: Authorization failure - Handled & tested\n\n‚úì Edge Case 1: Empty update - Handled & tested\n‚úì Edge Case 2: Invalid avatar URL - Handled & tested\n‚úì Edge Case 3: Special characters in name - Handled & tested\n\nSpec Compliance: 13/13 = 100% ‚úÖ\n\nStep 3: Checking for spec drift...\n\nComparing spec to implementation...\nNo drift detected ‚úÖ\n\nStep 4: Verifying success criteria...\n\nFrom spec:\n‚úì Authenticated users can update their profile\n‚úì Validation errors return 422 with clear messages\n‚úì Users cannot update other users' profiles\n‚úì All edge cases handled gracefully\n\nAll criteria met ‚úÖ\n\n=== VERIFICATION REPORT ===\n\n‚úÖ Tests: PASS (24/24)\n‚úÖ Spec Compliance: 100%\n‚úÖ Spec Drift: None\n‚úÖ Success Criteria: All met\n\n**OVERALL: ‚úÖ VERIFIED**\n\nImplementation is complete and verified. Ready for commit/merge.\n```\n\n## Example: Verification FAIL\n\n```\nYou: Running verification before completion...\n\nStep 1: Running tests...\n\n$ npm test\n\n‚ùå Tests FAILED (22/24 passing, 2 failing)\n\nFailures:\n1. \"Should handle database connection errors\"\n   Error: Connection retry not implemented\n\n2. \"Should return 503 when database unavailable\"\n   Error: Returns 500 instead of 503\n\n**BLOCKING: Tests must pass before proceeding**\n\nStep 2: Validating spec compliance...\n\nReading spec: specs/features/user-profile-api.md\n\nChecking requirements:\n[checks requirements...]\n\n‚ùå Non-Functional Requirement 1: Database retry logic\n   Status: Not implemented\n   Spec says: \"3 retry attempts with exponential backoff\"\n   Code does: Single attempt, no retry\n\nSpec Compliance: 12/13 = 92% ‚ùå\n\nStep 3: Checking success criteria...\n\nFrom spec:\n‚úì Authenticated users can update their profile\n‚úì Validation errors return 422\n‚úó Handles database failures gracefully (missing retry logic)\n‚úì Users cannot update other users' profiles\n\n=== VERIFICATION REPORT ===\n\n‚ùå Tests: FAIL (2 failures)\n‚ùå Spec Compliance: 92% (missing retry logic)\n‚ùå Success Criteria: 3/4 met\n\n**OVERALL: ‚ùå NOT VERIFIED**\n\n**Blocking Issues:**\n1. Database retry logic not implemented (from spec)\n2. Tests failing for error handling\n3. Returns wrong HTTP status (500 vs 503)\n\n**Next Steps:**\n1. Implement database retry logic per spec\n2. Fix HTTP status code\n3. Re-run verification\n\n**DO NOT PROCEED until all issues resolved.**\n```\n\n## Common Failure Scenarios\n\n### Scenario: Tests Pass but Spec Compliance Fails\n\n```\n‚úÖ Tests: 24/24 passing\n‚ùå Spec Compliance: 85%\n‚ùå BLOCKED\n\nIssue: Tests don't cover all spec requirements\n\nAction: Add tests for uncovered requirements, re-verify\n```\n\n### Scenario: Spec Compliant but Tests Fail\n\n```\n‚ùå Tests: 20/24 passing\n‚úÖ Spec Compliance: 100%\n‚ùå BLOCKED\n\nIssue: Implementation exists but has bugs\n\nAction: Fix bugs, ensure tests pass, re-verify\n```\n\n### Scenario: Both Pass but Drift Detected\n\n```\n‚úÖ Tests: 24/24 passing\n‚úÖ Spec Compliance: 100%\n‚ö†Ô∏è  Spec Drift: Spec updated after implementation\n‚ùå BLOCKED\n\nIssue: Spec changed, code doesn't reflect changes\n\nAction: Update code or revert spec, re-verify\n```\n\n## Quality Gates\n\n**This skill enforces quality gates:**\n\n1. **All tests must pass** (from superpowers)\n2. **100% spec compliance required** (new)\n3. **No spec drift allowed** (new)\n4. **All success criteria must be met** (new)\n\n**No exceptions. No shortcuts.**\n\nThese gates exist to prevent:\n- Incomplete implementations\n- Untested code\n- Spec/code divergence\n- False claims of completion\n\n## Remember\n\n**Verification is not optional.**\n\n- Don't skip verification \"just this once\"\n- Don't claim completion without verification\n- Don't ignore failing gates\n\n**Verification failures are information.**\n\n- Tests failing? Code has bugs\n- Spec compliance failing? Missing features\n- Drift detected? Synchronization problem\n- Criteria not met? Work incomplete\n\n**Fix issues, don't rationalize past them.**\n\n**Evidence before assertions. Always.**"
              },
              {
                "name": "writing-plans",
                "description": "Generate implementation plans FROM specifications - reads spec as input, extracts requirements, creates step-by-step tasks with validation against spec",
                "path": "skills/writing-plans/SKILL.md",
                "frontmatter": {
                  "name": "writing-plans",
                  "description": "Generate implementation plans FROM specifications - reads spec as input, extracts requirements, creates step-by-step tasks with validation against spec"
                },
                "content": "# Writing Implementation Plans from Specifications\n\n## Overview\n\nGenerate detailed implementation plans derived FROM specifications, not from scratch.\n\nThe spec is the source of truth. The plan translates spec requirements into concrete, actionable implementation tasks.\n\n**Key Difference from Standard Writing-Plans:**\n- **Input is SPEC** (not blank slate)\n- Plan MUST cover all spec requirements\n- Plan validates against spec for completeness\n- Tasks reference spec sections explicitly\n\n## When to Use\n\n**Use this skill when:**\n- Spec exists and is validated\n- Ready to create implementation plan\n- Called by `sdd:implement` workflow\n- Need to break spec into tasks\n\n**Don't use this skill when:**\n- No spec exists ‚Üí Create spec first\n- Plan already exists ‚Üí Review/update existing plan\n- Just clarifying approach ‚Üí Use brainstorming\n\n## Prerequisites\n\n- [ ] Spec exists and is complete\n- [ ] Spec validated for soundness\n- [ ] No blocking open questions in spec\n- [ ] Ready to start implementation\n\n## The Process\n\n### 1. Read and Parse Specification\n\n**Load the spec:**\n```bash\ncat specs/features/[feature-name].md\n```\n\n**Extract all elements:**\n- **Functional requirements** (what to build)\n- **Non-functional requirements** (how it should perform)\n- **Success criteria** (how to verify)\n- **Error handling** (what can go wrong)\n- **Edge cases** (boundary conditions)\n- **Dependencies** (what's needed)\n- **Constraints** (limitations)\n\n**Create requirements checklist:**\n- Number each requirement\n- Reference spec section\n- Mark coverage status\n\n### 2. Understand Project Context\n\n**Check existing codebase:**\n```bash\n# Find related files\nrg \"[relevant-terms]\"\n\n# Check architecture\nls -la src/\n\n# Review dependencies\ncat package.json  # or requirements.txt, go.mod, etc.\n```\n\n**Identify:**\n- Where new code should live\n- Existing patterns to follow\n- Components to reuse\n- Integration points\n\n### 3. Design Implementation Strategy\n\n**For each functional requirement, determine:**\n\n**Approach:**\n- How will this be implemented?\n- What components are needed?\n- What patterns apply?\n\n**Files:**\n- What files to create?\n- What files to modify?\n- Full file paths\n\n**Dependencies:**\n- What needs to exist first?\n- What can be done in parallel?\n- What's the critical path?\n\n**Testing:**\n- How will this be tested?\n- What test files needed?\n- What edge cases to cover?\n\n### 4. Create Implementation Plan\n\n**Use this structure:**\n\n```markdown\n# Implementation Plan: [Feature Name]\n\n**Source Spec:** specs/features/[feature-name].md\n**Date:** YYYY-MM-DD\n**Estimated Effort:** [time estimate if relevant]\n\n## Overview\n\n[Brief summary of what we're implementing and why]\n\n## Requirements Coverage\n\n### Functional Requirement 1: [Quote from spec]\n**Spec Reference:** specs/features/[feature].md#[section]\n\n**Implementation Approach:**\n[How we'll implement this requirement]\n\n**Tasks:**\n- [ ] [Specific actionable task]\n- [ ] [Another task]\n\n**Files to Create/Modify:**\n- `path/to/file.ext` - [What changes]\n\n**Tests:**\n- [ ] [Test case for this requirement]\n\n---\n\n### Functional Requirement 2: [Quote from spec]\n[Repeat structure]\n\n---\n\n[Continue for ALL functional requirements]\n\n## Non-Functional Requirements\n\n[For each non-functional requirement from spec]\n\n### [Requirement Name]: [Quote from spec]\n**Spec Reference:** specs/features/[feature].md#[section]\n\n**Implementation:**\n[How we'll achieve this]\n\n**Validation:**\n[How we'll measure/verify this]\n\n## Error Handling Implementation\n\n[For each error case in spec]\n\n### Error: [From spec]\n**Spec Reference:** specs/features/[feature].md#error-handling\n\n**Implementation:**\n```\n[Code approach or pseudocode]\n```\n\n**Test Cases:**\n- [ ] [Test for this error case]\n\n## Edge Cases Implementation\n\n[For each edge case in spec]\n\n### Edge Case: [From spec]\n**Expected Behavior:** [From spec]\n\n**Implementation:**\n[How we'll handle this]\n\n**Test:**\n- [ ] [Test for edge case]\n\n## Dependencies\n\n**Required Before Implementation:**\n- [ ] [Dependency 1 from spec]\n- [ ] [Dependency 2 from spec]\n\n**Integration Points:**\n- [Component/service 1]: [How we integrate]\n- [Component/service 2]: [How we integrate]\n\n## Implementation Order\n\n**Phase 1: Foundation**\n1. [Task]\n2. [Task]\n\n**Phase 2: Core Functionality**\n1. [Task]\n2. [Task]\n\n**Phase 3: Error Handling**\n1. [Task]\n2. [Task]\n\n**Phase 4: Edge Cases & Polish**\n1. [Task]\n2. [Task]\n\n## Test Strategy\n\n**Unit Tests:**\n- [ ] [Component/function to test]\n- [ ] [Another component/function]\n\n**Integration Tests:**\n- [ ] [Integration scenario]\n- [ ] [Another scenario]\n\n**Spec Compliance Tests:**\n- [ ] [Verify requirement 1]\n- [ ] [Verify requirement 2]\n\n## Files to Create\n\n- `path/to/new/file1.ext` - [Purpose]\n- `path/to/new/file2.ext` - [Purpose]\n\n## Files to Modify\n\n- `path/to/existing/file1.ext` - [What changes]\n- `path/to/existing/file2.ext` - [What changes]\n\n## Success Criteria\n\n[From spec, repeated here for reference]\n- [ ] [Criterion 1]\n- [ ] [Criterion 2]\n\n## Spec Validation Checklist\n\n**All requirements covered:**\n- [ ] All functional requirements have tasks\n- [ ] All non-functional requirements addressed\n- [ ] All error cases have implementation approach\n- [ ] All edge cases have handling strategy\n- [ ] All dependencies identified\n- [ ] All success criteria have verification plan\n\n**Plan completeness:**\n- [ ] All tasks are specific and actionable\n- [ ] All file paths are complete (not \"TBD\")\n- [ ] All requirements reference spec sections\n- [ ] Test strategy covers all requirements\n- [ ] Implementation order is logical\n\n## Notes\n\n[Any additional context, decisions, or considerations]\n```\n\n### 5. Validate Plan Against Spec\n\n**Completeness check:**\n\nFor each requirement in spec:\n- [ ] Plan has implementation approach\n- [ ] Plan has specific tasks\n- [ ] Plan has test coverage\n- [ ] Plan references spec section\n\n**Coverage matrix:**\n```\nRequirement 1 ‚Üí Tasks [1,2,3], Tests [A,B]     ‚úì\nRequirement 2 ‚Üí Tasks [4,5], Tests [C,D]       ‚úì\nRequirement 3 ‚Üí Tasks [6], Tests [E,F,G]       ‚úì\n...\n```\n\n**If any requirement uncovered:** Add tasks before proceeding.\n\n### 6. Review for Implementability\n\n**Check that plan:**\n- Has concrete file paths (not \"somewhere\")\n- Has specific tasks (not vague \"implement X\")\n- Has realistic order (dependencies respected)\n- Has test coverage (every requirement tested)\n\n**Red flags:**\n- \"Figure out how to...\"\n- \"Implement [vague concept]\"\n- \"TBD\"\n- Missing file paths\n- No test strategy\n\n### 7. Save and Commit Plan\n\n**Save plan:**\n```bash\n# Location\ndocs/plans/[date]-[feature]-implementation.md\n```\n\n**Commit plan:**\n```bash\ngit add docs/plans/[date]-[feature]-implementation.md\ngit commit -m \"Add implementation plan for [feature]\n\nGenerated from spec: specs/features/[feature].md\n\nCoverage:\n- [N] functional requirements\n- [N] error cases\n- [N] edge cases\n\nEstimated [N] tasks\n\nü§ñ Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\"\n```\n\n## Checklist\n\nUse TodoWrite to track:\n\n- [ ] Read and parse specification completely\n- [ ] Extract all requirements, errors, edge cases\n- [ ] Understand project context and codebase\n- [ ] Design implementation strategy\n- [ ] Create implementation plan with all sections\n- [ ] Validate plan coverage against spec (100%)\n- [ ] Review plan for implementability\n- [ ] Ensure all file paths are complete\n- [ ] Ensure all tasks are specific and actionable\n- [ ] Save plan to docs/plans/\n- [ ] Commit plan to git\n\n## Example\n\n```\n[Called from sdd:implement]\n\nYou: Generating implementation plan from spec...\n\nReading spec: specs/features/user-profile-api.md\n\nExtracting requirements:\n- Functional: 6 requirements\n- Non-functional: 3 requirements\n- Error cases: 4\n- Edge cases: 3\n- Dependencies: 2\n\nUnderstanding project context...\n- Existing API routes in: src/api/\n- Validation middleware in: src/middleware/\n- User service in: src/services/user.ts\n- Tests in: tests/api/\n\nCreating implementation plan...\n\n# Implementation Plan: User Profile Update API\n\n**Source Spec:** specs/features/user-profile-api.md\n**Date:** 2025-11-10\n\n## Overview\n\nImplement REST API endpoint for authenticated users to update their profiles.\nIncludes validation, error handling, and partial update support.\n\n## Requirements Coverage\n\n### Functional Requirement 1: PUT endpoint accepts requests\n**Spec Reference:** specs/features/user-profile-api.md#functional-requirements\n\n**Implementation Approach:**\nCreate Express route handler at PUT /api/users/:id/profile using\nexisting route structure in src/api/users/\n\n**Tasks:**\n- [ ] Create route file at src/api/users/profile.ts\n- [ ] Register route in src/api/users/index.ts\n- [ ] Add route handler function\n\n**Files to Create/Modify:**\n- `src/api/users/profile.ts` - New route handler\n- `src/api/users/index.ts` - Register route\n\n**Tests:**\n- [ ] Test route responds to PUT requests\n- [ ] Test route path is /api/users/:id/profile\n\n---\n\n### Functional Requirement 2: Validate request body\n**Spec Reference:** specs/features/user-profile-api.md#functional-requirements\n\n**Implementation Approach:**\nCreate validation middleware using existing validation pattern.\nValidate: name (2-50 chars), bio (max 500), avatar_url (URL format).\n\n**Tasks:**\n- [ ] Create validation schema in src/middleware/validation/profile.ts\n- [ ] Add validation middleware to route\n- [ ] Return 422 on validation errors\n\n**Files to Create/Modify:**\n- `src/middleware/validation/profile.ts` - Validation schema\n- `src/api/users/profile.ts` - Apply middleware\n\n**Tests:**\n- [ ] Test name length validation (too short)\n- [ ] Test name length validation (too long)\n- [ ] Test bio length validation\n- [ ] Test avatar_url format validation\n\n[... continues for all requirements ...]\n\n## Spec Validation Checklist\n\n**All requirements covered:**\n- [x] All 6 functional requirements have tasks\n- [x] All 3 non-functional requirements addressed\n- [x] All 4 error cases have implementation\n- [x] All 3 edge cases handled\n- [x] All 2 dependencies identified\n- [x] All 5 success criteria have verification\n\nPlan validated against spec ‚úì\nCoverage: 100%\n\nSaving plan to: docs/plans/2025-11-10-user-profile-api-implementation.md\n\nPlan created ‚úì\nCommitted to git ‚úì\n\nPlan has 24 tasks across 4 phases.\nReady to implement with TDD?\n```\n\n## Quality Standards\n\n**Every plan MUST have:**\n- Complete file paths (no \"TBD\")\n- Specific tasks (not vague)\n- Test coverage (every requirement)\n- Error handling (every error case)\n- Edge case coverage (every edge case)\n- Spec references (every requirement linked)\n\n**Every task MUST be:**\n- Actionable (clear what to do)\n- Testable (can verify completion)\n- Atomic (one clear outcome)\n- Ordered (dependencies respected)\n\n## Common Pitfalls\n\n**Avoid:**\n- Creating plan before spec exists\n- Missing spec requirements in plan\n- Vague tasks (\"implement feature\")\n- Missing file paths\n- No test strategy\n- Skipping error cases\n- Ignoring edge cases\n\n**Instead:**\n- Always start from spec\n- Cover 100% of spec requirements\n- Make tasks concrete and specific\n- Provide complete file paths\n- Test every requirement\n- Handle every error case\n- Cover every edge case\n\n## Remember\n\n**The plan is a bridge from spec to code.**\n\n- Spec says WHAT\n- Plan says HOW and WHERE and WHEN\n- Code implements the plan\n\n**A good plan makes implementation smooth.**\n**A poor plan causes confusion and rework.**\n\n**Validate against spec before proceeding.**\n**100% coverage is non-negotiable.**"
              }
            ]
          }
        ]
      }
    }
  ]
}