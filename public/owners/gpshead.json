{
  "owner": {
    "id": "gpshead",
    "display_name": "Gregory P. Smith",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/68491?v=4",
    "url": "https://github.com/gpshead",
    "bio": null,
    "stats": {
      "total_repos": 1,
      "total_plugins": 1,
      "total_commands": 0,
      "total_skills": 4,
      "total_stars": 8,
      "total_forks": 0
    }
  },
  "repos": [
    {
      "full_name": "gpshead/cpython-skills",
      "url": "https://github.com/gpshead/cpython-skills",
      "description": null,
      "homepage": null,
      "signals": {
        "stars": 8,
        "forks": 0,
        "pushed_at": "2025-12-29T01:52:25Z",
        "created_at": "2025-10-18T22:52:04Z",
        "license": "CC0-1.0"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 458
        },
        {
          "path": "CLAUDE.md",
          "type": "blob",
          "size": 2080
        },
        {
          "path": "LICENSE",
          "type": "blob",
          "size": 6556
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 5906
        },
        {
          "path": "plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/cpython-skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/cpython-skills/plugin.json",
          "type": "blob",
          "size": 427
        },
        {
          "path": "plugins/cpython-skills/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/cpython-skills/skills/cpython-build-and-test",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/cpython-skills/skills/cpython-build-and-test/SKILL.md",
          "type": "blob",
          "size": 4504
        },
        {
          "path": "plugins/cpython-skills/skills/cpython-code-style",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/cpython-skills/skills/cpython-code-style/SKILL.md",
          "type": "blob",
          "size": 1696
        },
        {
          "path": "plugins/cpython-skills/skills/cpython-codebase",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/cpython-skills/skills/cpython-codebase/SKILL.md",
          "type": "blob",
          "size": 2468
        },
        {
          "path": "plugins/cpython-skills/skills/cpython-docs",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/cpython-skills/skills/cpython-docs/SKILL.md",
          "type": "blob",
          "size": 1399
        }
      ],
      "marketplace": {
        "name": "cpython-skills",
        "version": null,
        "description": null,
        "owner_info": {
          "name": "CPython Core Team"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "cpython-skills",
            "description": "Skills for working with the CPython repository - helping with building, testing, and contributing to Python's implementation",
            "source": "./plugins/cpython-skills",
            "category": null,
            "version": null,
            "author": null,
            "install_commands": [
              "/plugin marketplace add gpshead/cpython-skills",
              "/plugin install cpython-skills@cpython-skills"
            ],
            "signals": {
              "stars": 8,
              "forks": 0,
              "pushed_at": "2025-12-29T01:52:25Z",
              "created_at": "2025-10-18T22:52:04Z",
              "license": "CC0-1.0"
            },
            "commands": [],
            "skills": [
              {
                "name": "cpython-build-and-test",
                "description": "Use this skill when configuring, building, or rebuilding CPython from source, running tests, or debugging test failures. Covers ./configure with --with-pydebug, make commands, ccache for faster rebuilds, Argument Clinic regeneration (make clinic), unittest-based testing with python -m test (NOT pytest), --match filtering, code coverage collection, and platform-specific build paths (Linux vs macOS).",
                "path": "plugins/cpython-skills/skills/cpython-build-and-test/SKILL.md",
                "frontmatter": {
                  "name": "cpython-build-and-test",
                  "description": "Use this skill when configuring, building, or rebuilding CPython from source, running tests, or debugging test failures. Covers ./configure with --with-pydebug, make commands, ccache for faster rebuilds, Argument Clinic regeneration (make clinic), unittest-based testing with python -m test (NOT pytest), --match filtering, code coverage collection, and platform-specific build paths (Linux vs macOS)."
                },
                "content": "# Building and Testing CPython\n\n## Building CPython\n\n**ONLY build in a `build/` subdirectory** at repo root. Never build in the source tree.\n\n### Setup and Configuration\n\n```bash\n# Build directory setup\nREPO_ROOT=<path-to-cpython-git-repo>\nBUILD_DIR=$REPO_ROOT/build\n```\n\n#### ccache Setup (Recommended)\n\nccache dramatically speeds up rebuilds by caching compilation results. Check if available:\n\n```bash\nwhich ccache\n```\n\n**If ccache is not installed**:\n- macOS (Homebrew): Install directly with `brew install ccache` (no sudo required)\n- Containerized/root environments: Install directly with `apt-get install -y ccache` or `dnf install -y ccache`\n- Otherwise, ask the user for permission to install:\n  - Debian/Ubuntu: `sudo apt-get install ccache`\n  - Fedora/RHEL: `sudo dnf install ccache`\n\n**Configure with ccache** (if available):\n```bash\ncd $BUILD_DIR && CC=\"ccache gcc\" ../configure --with-pydebug\n```\n\n**Configure without ccache** (fallback):\n```bash\ncd $BUILD_DIR && ../configure --with-pydebug\n```\n\n#### Performance/Benchmarking Builds\n\nWhen doing benchmarking or performance measurement of C code changes, **omit `--with-pydebug`** from configure:\n\n```bash\ncd $BUILD_DIR && CC=\"ccache gcc\" ../configure  # No --with-pydebug\n```\n\nDebug builds have significant overhead that distorts performance measurements. However, **do not use `--enable-optimizations`** unless explicitly asked—it enables PGO (Profile-Guided Optimization) which is slow to compile. Non-PGO release builds are sufficient for the majority of performance comparison work.\n\n```bash\n# Build using all CPU cores (initial or incremental)\nmake -C $BUILD_DIR -j $(nproc)\n```\n\n**Platform notes**:\n- Linux: `BUILT_PY=$BUILD_DIR/python`\n- macOS: `BUILT_PY=$BUILD_DIR/python.exe` (note .exe extension)\n- Windows: Ask user how to build (uses Visual Studio, different process)\n\n### Argument Clinic\n\nAfter editing `.c` files that change function signatures, docstrings, or argument specs:\n```bash\nmake -C $BUILD_DIR clinic\n```\n\n**NEVER** edit files in `**/clinic/**` subdirectories - they're auto-generated.\n\n### Verify Build\n\n```bash\n$BUILT_PY --version\n$BUILT_PY -c \"print('Hello from CPython!')\"\n```\n\n### Build Troubleshooting\n\n- **Missing dependencies**: Configure reports missing libraries\n- **Stale build**: `make clean` in BUILD_DIR and rebuild\n- **Clinic files out of sync**: `make -C $BUILD_DIR clinic`\n- **Clean build**: `rm -rf $BUILD_DIR && mkdir $BUILD_DIR && cd $BUILD_DIR && CC=\"ccache gcc\" ../configure --with-pydebug && make -j $(nproc)` (omit `CC=...` if ccache unavailable)\n\n## Running CPython Tests\n\n**Critical rules:**\n1. **NEVER use `pytest`** - CPython tests are `unittest` based\n2. **Use `--match` not `-k`** for filtering - takes a glob pattern (this is not pytest!)\n\nPrerequisite: `BUILT_PY=build/python` or `build/python.exe`\n\n### Running Tests\n\n```bash\n# Single test module (recommended - proper discovery, parallel execution)\n$BUILT_PY -m test test_zipfile -j $(nproc)\n\n# Multiple modules\n$BUILT_PY -m test test_csv test_json -j $(nproc)\n\n# Direct execution (quick but may miss test packages)\n$BUILT_PY Lib/test/test_csv.py\n\n# Specific test by glob pattern (use --match, NOT -k!)\n$BUILT_PY -m test test_zipfile --match \"*large*\" -j $(nproc)\n$BUILT_PY -m test test_csv --match \"TestDialect*\"\n$BUILT_PY -m test test_json --match \"TestEncode.test_encode_string\"\n\n# Full test suite (ASK FIRST - takes significant time!)\nmake -C $BUILD_DIR test\n\n# Useful flags: -v (verbose), -f (fail fast), --list-tests (show all), --help\n```\n\n**Test packages** (directories like `test_asyncio/`) require `load_tests()` in `__init__.py` to work with `python -m test`.\n\n### Code Coverage\n\n```bash\n# Collect coverage (uses trace mechanism via libregrtest)\n$BUILT_PY -m test --coverage test_csv test_json --coveragedir .claude/coverage/ -j $(nproc)\n\n# Reports go to specified coveragedir\n```\n\n### Debugging\n\nFor interactive debugging (pdb/lldb/gdb) or testing REPL features: **Control a tmux session**.\n\nAdd `breakpoint()` in test code, then run with `-v` for verbose output."
              },
              {
                "name": "cpython-code-style",
                "description": "Use this skill when writing or modifying CPython code, preparing commits, or running style checks. Covers PEP 7 (C code) and PEP 8 (Python) compliance, pre-commit hooks, patchcheck validation, trailing whitespace rules, the no-type-annotations-in-Lib policy, and documentation formatting standards.",
                "path": "plugins/cpython-skills/skills/cpython-code-style/SKILL.md",
                "frontmatter": {
                  "name": "cpython-code-style",
                  "description": "Use this skill when writing or modifying CPython code, preparing commits, or running style checks. Covers PEP 7 (C code) and PEP 8 (Python) compliance, pre-commit hooks, patchcheck validation, trailing whitespace rules, the no-type-annotations-in-Lib policy, and documentation formatting standards."
                },
                "content": "# CPython Coding Style and Standards\n\n## Style Guidelines\n\n**Python code** (`Lib/` etc): Follow PEP 8. Be consistent with nearby code.\n\n**C code** (`Modules/`, `Objects/`, `Python/`, `Include/`): Follow PEP 7. Be consistent with nearby code.\n\n## Critical Rules\n\n**NEVER leave trailing whitespace on any line.** Pre-commit hooks will catch this.\n\n**ALWAYS preserve the final newline** at the end of files.\n\n**NEVER add type annotations to `Lib/` tree.** Stdlib doesn't use inline annotations (maintained in typeshed separately). Annotations may be OK in `Tools/` or test code if requested.\n\n**No autoformatting by default.** Only use `Doc/venv/bin/ruff format` if explicitly requested.\n\n## Pre-Commit Workflow\n\nBefore committing, run from repo root:\n\n```bash\n# 1. Pre-commit hooks (checks whitespace, file endings, syntax)\npre-commit run --all-files\n\n# 2. Patchcheck (MUST PASS - validates C/Python style, docs, whitespace)\nmake -C $BUILD_DIR patchcheck\n\n# 3. If you modified Doc/, verify reStructuredText\nmake -C Doc check\n\n# 4. Run relevant tests\n$BUILT_PY -m test test_yourmodule -j $(nproc)\n```\n\n## Documentation\n\n- **Python docstrings**: Follow PEP 257, document params/returns/exceptions\n- **C comments**: Follow PEP 7, document complex algorithms\n- **reStructuredText** (`Doc/`): Follow Sphinx/reST conventions, verify with `make -C Doc check`"
              },
              {
                "name": "cpython-codebase",
                "description": "Use this skill when working in the CPython repository. It provides essential context about the CPython codebase structure, recommended tools, source code navigation, and best practices for maintaining engineering notebooks while working on Python runtime and standard library development.",
                "path": "plugins/cpython-skills/skills/cpython-codebase/SKILL.md",
                "frontmatter": {
                  "name": "cpython-codebase",
                  "description": "Use this skill when working in the CPython repository. It provides essential context about the CPython codebase structure, recommended tools, source code navigation, and best practices for maintaining engineering notebooks while working on Python runtime and standard library development."
                },
                "content": "# CPython Codebase\n\nYou are working in the CPython repository - the implementation of the Python language runtime and standard library itself.\n\n## Recommended Tools\n\nPrefer these tools when available: `rg`, `gh`, `jq`\n\n## Source Code Structure\n\n**`Lib/`** - Python standard library (pure Python). Example: `Lib/zipfile.py`\n\n**`Modules/`** - C extension modules for performance/low-level access. Example: `Modules/_csv.c`\n\n**`Objects/` and `Python/`** - Core types (list, dict, int), builtins, runtime, interpreter loop\n\n**`Include/`** - C header files for public and internal C APIs\n\n**`Lib/test/`** - All unittests\n- Test naming: `test_{module_name}.py` or `test_{module_name}/`\n- Examples: `Lib/zipfile.py` → `Lib/test/test_zipfile**`, `Modules/_csv.c` → `Lib/test/test_csv.py`\n- Test packages require `load_tests()` in `test_package/__init__.py` to work with `python -m test`\n\n**`Doc/`** - Documentation in .rst format (source for python.org docs), builds to `Doc/build/`\n\n**`InternalDocs/`** - Maintainer documentation (`InternalDocs/README.md` is the starting point)\n\n**`Tools/`** - Build tools like Argument Clinic, development utilities\n\n## Argument Clinic\n\n**`**/clinic/**` subdirectories are auto-generated** - never edit these directly. See `cpython-build-and-test` skill for regeneration commands.\n\n## Engineering Notebooks\n\nALWAYS load and maintain notebooks when working on features or PRs:\n- **For PRs**: `.claude/pr-{PR_NUMBER}.md`\n- **For branches**: `.claude/branch-{branch_name_without_slashes}.md` (when not on `main`)\n\nKeep notebooks updated with learnings and project state as you work and after commits. Include: problem statement, key findings, file locations, design decisions, testing strategy, and status.\n\n## Scratch Space\n\n**NEVER create throwaway files in repo root.** Use `.claude/sandbox/` for exploration files, test scripts, and prototypes.\n\n## Optional Developer Resources\n\n- **Developer Guide**: If `REPO_ROOT/../devguide/` exists, see `developer-workflow/` and `documentation/` subdirectories\n- **PEPs**: May exist in `REPO_ROOT/../peps/` tree - reference relevant PEPs when working on changes"
              },
              {
                "name": "cpython-docs",
                "description": "Use this skill when working with CPython documentation in the Doc/ tree, including reStructuredText (.rst) files, adding versionadded/versionchanged markers, creating Misc/NEWS.d entries for bug fixes or features, running documentation validation (make -C Doc check), or building HTML docs.",
                "path": "plugins/cpython-skills/skills/cpython-docs/SKILL.md",
                "frontmatter": {
                  "name": "cpython-docs",
                  "description": "Use this skill when working with CPython documentation in the Doc/ tree, including reStructuredText (.rst) files, adding versionadded/versionchanged markers, creating Misc/NEWS.d entries for bug fixes or features, running documentation validation (make -C Doc check), or building HTML docs."
                },
                "content": "# CPython Documentation\n\nCPython documentation is in reStructuredText (ReST) format in the `Doc/` tree.\n\n## Documentation Tooling\n\n```bash\n# Set up documentation build environment\nmake -C Doc venv\n\n# Validate documentation (run this to check your changes)\nmake -C Doc check\n\n# Build HTML documentation (if full build is needed)\nmake -C Doc html\n```\n\n## Version Markers\n\n**IMPORTANT**: When adding `versionadded::`, `versionchanged::`, or similar markers in documentation, always use `next` as the version \"number\". The doc build and release process fills this in appropriately.\n\n```rst\n.. versionadded:: next\n\n.. versionchanged:: next\n   Description of what changed.\n```\n\n## NEWS Entries\n\nBug fixes and new features require a `Misc/NEWS.d/next/` file entry.\n\n**IMPORTANT**: The filename MUST refer to the correct GitHub Issue number in the upstream `python/cpython` repository. **Do not pick a number on your own!** Ask the user what issue number to use.\n\nExample filename format: `Misc/NEWS.d/next/<category>/<YYYY-MM-DD-HH-MM-SS>.gh-issue-<NUMBER>.<UNIQUE_ID>.rst`"
              }
            ]
          }
        ]
      }
    }
  ]
}