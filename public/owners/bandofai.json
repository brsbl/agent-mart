{
  "owner": {
    "id": "bandofai",
    "display_name": "Band of AI",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/211809848?u=6c33accf41537ba5b8a6d6a8055f6e231ef837c1&v=4",
    "url": "https://github.com/bandofai",
    "bio": null,
    "stats": {
      "total_repos": 1,
      "total_plugins": 2,
      "total_commands": 3,
      "total_skills": 1,
      "total_stars": 3,
      "total_forks": 2
    }
  },
  "repos": [
    {
      "full_name": "bandofai/puerto",
      "url": "https://github.com/bandofai/puerto",
      "description": "A plugin system for Claude Code with specialized agents, skills, and templates",
      "homepage": "",
      "signals": {
        "stars": 3,
        "forks": 2,
        "pushed_at": "2025-11-29T19:00:45Z",
        "created_at": "2025-10-31T18:23:43Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 539
        },
        {
          "path": ".claude",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/plugin-management",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/plugin-management/SKILL.md",
          "type": "blob",
          "size": 14443
        },
        {
          "path": ".gitignore",
          "type": "blob",
          "size": 325
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 1356
        },
        {
          "path": "docs",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/images",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/images/logo.png",
          "type": "blob",
          "size": 56289
        },
        {
          "path": "package.json",
          "type": "blob",
          "size": 833
        },
        {
          "path": "plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-md",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-md/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-md/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 302
        },
        {
          "path": "plugins/claude-md/README.md",
          "type": "blob",
          "size": 1198
        },
        {
          "path": "plugins/claude-md/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-md/skills/claude-md",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-md/skills/claude-md/SKILL.md",
          "type": "blob",
          "size": 8584
        },
        {
          "path": "plugins/essentials",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/essentials/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/essentials/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 520
        },
        {
          "path": "plugins/essentials/.mcp.json",
          "type": "blob",
          "size": 785
        },
        {
          "path": "plugins/essentials/README.md",
          "type": "blob",
          "size": 1371
        },
        {
          "path": "plugins/essentials/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/essentials/commands/brainstorm.md",
          "type": "blob",
          "size": 23421
        },
        {
          "path": "plugins/essentials/commands/continue.md",
          "type": "blob",
          "size": 2905
        },
        {
          "path": "plugins/essentials/commands/implement.md",
          "type": "blob",
          "size": 4420
        },
        {
          "path": "scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "scripts/generate-catalog.js",
          "type": "blob",
          "size": 2191
        },
        {
          "path": "scripts/validate-plugin.js",
          "type": "blob",
          "size": 4100
        }
      ],
      "marketplace": {
        "name": "puerto",
        "version": null,
        "description": null,
        "owner_info": {
          "name": "Band of AI"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "claude-md",
            "description": "Skill for writing effective CLAUDE.md project instruction files",
            "source": "./plugins/claude-md",
            "category": null,
            "version": "1.0.0",
            "author": null,
            "install_commands": [
              "/plugin marketplace add bandofai/puerto",
              "/plugin install claude-md@puerto"
            ],
            "signals": {
              "stars": 3,
              "forks": 2,
              "pushed_at": "2025-11-29T19:00:45Z",
              "created_at": "2025-10-31T18:23:43Z",
              "license": null
            },
            "commands": [],
            "skills": [
              {
                "name": "claude-md",
                "description": "Create and maintain CLAUDE.md files for Claude Code projects. Use when users want to create a new CLAUDE.md, improve an existing one, audit CLAUDE.md quality, set up Claude Code configuration for a repository, or optimize agent context for monorepos. Triggers on requests like \"create CLAUDE.md\", \"improve my CLAUDE.md\", \"set up Claude Code\", \"optimize agent context\", or \"audit my project documentation for Claude\".",
                "path": "plugins/claude-md/skills/claude-md/SKILL.md",
                "frontmatter": {
                  "name": "claude-md",
                  "description": "Create and maintain CLAUDE.md files for Claude Code projects. Use when users want to create a new CLAUDE.md, improve an existing one, audit CLAUDE.md quality, set up Claude Code configuration for a repository, or optimize agent context for monorepos. Triggers on requests like \"create CLAUDE.md\", \"improve my CLAUDE.md\", \"set up Claude Code\", \"optimize agent context\", or \"audit my project documentation for Claude\"."
                },
                "content": "# CLAUDE.md Skill\n\nCreate effective CLAUDE.md files that transform Claude Code from a general-purpose assistant into a specialized tool for specific codebases.\n\n## Core Philosophy\n\nCLAUDE.md is Claude Code's \"constitution\" - it provides persistent context automatically loaded at conversation start. Every token counts because CLAUDE.md competes for context window space with conversation history, file contents, and tool results.\n\n**Golden Rule:** Document what Claude gets wrong, not everything Claude might need. Start small, expand based on friction.\n\n## CLAUDE.md Hierarchy\n\nClaude Code loads CLAUDE.md files from multiple locations (all are merged):\n\n| Location | Purpose | Git Status |\n|----------|---------|------------|\n| `~/.claude/CLAUDE.md` | Personal preferences across all projects | N/A |\n| `repo/CLAUDE.md` | Team-shared project context | Commit |\n| `repo/CLAUDE.local.md` | Personal project overrides | .gitignore |\n| `repo/subdir/CLAUDE.md` | Subdirectory-specific context (monorepos) | Commit |\n\n## Creation Workflow\n\n### 1. Analyze the Codebase\n\nBefore writing, understand what Claude will struggle with:\n\n```bash\n# Identify key files and structure\nfind . -maxdepth 3 -type f -name \"*.md\" | head -20\nls -la package.json pyproject.toml Makefile 2>/dev/null\n\n# Check for existing documentation\ncat README.md 2>/dev/null | head -50\n\n# Identify build/test commands\ngrep -E \"scripts|test|build|dev\" package.json 2>/dev/null\n```\n\n### 2. Structure Template\n\nUse this proven structure (adapt sections as needed):\n\n```markdown\n# CLAUDE.md\n\n[One-line project description]\n\n## Quick Start\n\n```bash\n[Package manager] install\n[Dev command]\n[Test command]\n```\n\n## Architecture\n\n[2-3 sentences on structure, key patterns, main technologies]\n\n### Key Directories\n- `src/` - [purpose]\n- `tests/` - [purpose]\n\n## Code Standards\n\n- [Style rule with example if non-obvious]\n- [Critical pattern to follow]\n- [Common mistake to avoid ‚Üí correct approach]\n\n## Critical Rules\n\n**MUST:**\n- [Non-negotiable requirement]\n\n**MUST NOT:**\n- [Common mistake that breaks things]\n\n## Common Commands\n\n| Command | Purpose |\n|---------|---------|\n| `cmd` | Description |\n```\n\n### 3. Content Priorities\n\nInclude (in order of importance):\n\n1. **Build/test/lint commands** - What Claude types most often\n2. **Critical gotchas** - Things that break silently or waste time\n3. **Architecture overview** - How components connect\n4. **Code patterns** - Non-obvious conventions\n5. **Workflow rules** - Branch naming, commit format, PR process\n\nExclude:\n\n- Information Claude already knows (language syntax, common libraries)\n- Verbose explanations (prefer examples)\n- Comprehensive API docs (link to them instead)\n- Anything unchanged from project defaults\n\n## Writing Guidelines\n\n### Conciseness Patterns\n\n**Bad (verbose):**\n```markdown\nWhen you are writing TypeScript code in this project, you should always \nmake sure to use strict mode and avoid using the 'any' type because it \ndefeats the purpose of TypeScript's type system.\n```\n\n**Good (concise):**\n```markdown\n- TypeScript strict mode - no `any` types\n```\n\n### Negative Rules Need Alternatives\n\n**Bad:**\n```markdown\n- Never use npm\n```\n\n**Good:**\n```markdown\n- Use pnpm (not npm) - monorepo requires pnpm workspaces\n```\n\n### Reference External Docs (Don't Embed)\n\n**Bad:**\n```markdown\n[500 lines of API documentation]\n```\n\n**Good:**\n```markdown\nFor complex widget usage or FooBarError, see docs/widgets.md\n```\n\n### Emphasis for Critical Items\n\n```markdown\n**IMPORTANT:** RLS policies auto-filter by user_id - don't add redundant .eq('user_id', userId)\n```\n\n## Monorepo Strategy\n\nFor large codebases, use hierarchical CLAUDE.md files:\n\n```\nmonorepo/\n‚îú‚îÄ‚îÄ CLAUDE.md              # Shared: package manager, CI, overall arch\n‚îú‚îÄ‚îÄ apps/\n‚îÇ   ‚îú‚îÄ‚îÄ web/CLAUDE.md      # Frontend-specific context\n‚îÇ   ‚îî‚îÄ‚îÄ api/CLAUDE.md      # Backend-specific context\n‚îú‚îÄ‚îÄ packages/\n‚îÇ   ‚îî‚îÄ‚îÄ shared/CLAUDE.md   # Shared library context\n```\n\n**Root CLAUDE.md** should contain:\n- Monorepo tooling (pnpm/nx/turborepo commands)\n- Cross-package patterns\n- CI/CD workflows\n- Shared conventions\n\n**Subdirectory CLAUDE.md** should contain:\n- Package-specific commands\n- Local testing patterns\n- Package-specific gotchas\n\n**Size targets:**\n- Root: <500 lines, <10k words\n- Subdirectories: <200 lines each\n- Total loaded context: <15k tokens\n\n## Quality Audit Checklist\n\nRun this audit on existing CLAUDE.md files:\n\n- [ ] **Actionable:** Every item helps Claude do something concrete\n- [ ] **Non-obvious:** Excludes things Claude already knows\n- [ ] **Current:** Reflects actual project state (not aspirational)\n- [ ] **Tested:** Commands actually work when copied\n- [ ] **Minimal:** Each line earns its token cost\n- [ ] **Alternatives:** Every \"don't\" has a \"do instead\"\n- [ ] **Scannable:** Uses tables/bullets, not paragraphs\n- [ ] **Examples:** Critical patterns show code, not just describe\n\n## Anti-Patterns to Fix\n\n| Anti-Pattern | Problem | Fix |\n|--------------|---------|-----|\n| Comprehensive manual | Context bloat | Keep <500 lines, link to docs |\n| `@-file` references | Loads entire file at startup | Use path + \"see X for Y\" |\n| Only negatives | Claude gets stuck | Add alternatives |\n| Stale commands | Broken workflows | Test all commands |\n| Obvious info | Wastes tokens | Remove if Claude knows it |\n| No structure | Hard to scan | Use headers, tables, bullets |\n\n## Iteration Workflow\n\nCLAUDE.md improves through use:\n\n1. **During coding:** Press `#` in Claude Code to add memories\n2. **After sessions:** Review what Claude struggled with\n3. **Add sparingly:** Only document repeated friction points\n4. **Prune regularly:** Remove outdated or unused content\n\n## Post-Task Maintenance\n\n**After completing significant tasks, update CLAUDE.md:**\n\n### What to Add\n\n| Trigger | Add to CLAUDE.md |\n|---------|------------------|\n| Claude used wrong command | Correct command in Quick Start |\n| Claude broke a pattern | Pattern in Code Standards |\n| Claude missed a gotcha | Gotcha in Critical Rules |\n| New workflow established | Steps in Common Commands |\n| Documentation outdated | Updated paths/commands |\n\n### What to Update\n\n- **New dependencies** - Add install commands\n- **New scripts** - Document in commands table\n- **Architecture changes** - Update directory descriptions\n- **Deprecated patterns** - Remove or mark as legacy\n\n### Maintenance Checklist\n\nAfter each significant task:\n\n- [ ] Did Claude struggle with anything? ‚Üí Document it\n- [ ] Did I discover a new pattern? ‚Üí Add to Code Standards\n- [ ] Did commands change? ‚Üí Update Quick Start\n- [ ] Is anything now outdated? ‚Üí Remove it\n\n### Learn from Mistakes\n\nWhen Claude makes errors:\n\n```markdown\n## Critical Rules\n\n**MUST NOT:**\n- Use `npm install` (breaks pnpm lockfile)  ‚Üê Added after Claude broke deps\n- Import from `@/old-path` (migrated to `@/new-path`)  ‚Üê Added after refactor\n```\n\n**Golden Rule:** If you corrected Claude, future Claude should know too.\n\n## Advanced Patterns\n\n### Machine-Readable State\n\nFor complex projects, add parseable metadata:\n\n```markdown\n## Project State\n<!-- machine-readable -->\nVersion: 1.2.0\nStatus: development\nLast migration: 0016_search_analytics\n```\n\n### Conditional Workflows\n\n```markdown\n## Workflow\n\n**Creating new feature?**\n1. Create branch from main\n2. Implement with tests\n3. Run full suite before PR\n\n**Fixing bug?**\n1. Write failing test first\n2. Implement fix\n3. Verify only that test changes\n```\n\n### Performance Targets\n\n```markdown\n## Metrics\n\n| Metric | Target | Notes |\n|--------|--------|-------|\n| Cold start | <200ms | Measure with `time cmd` |\n| API p95 | <500ms | Check after changes |\n```\n\n## Output Requirements\n\nWhen creating CLAUDE.md:\n\n1. Analyze codebase first (don't guess structure)\n2. Keep total length under 500 lines\n3. Test all commands before including\n4. Use markdown tables for reference data\n5. Save to `/mnt/user-data/outputs/CLAUDE.md`\n\nWhen auditing CLAUDE.md:\n\n1. Report issues with specific line references\n2. Provide concrete fixes, not vague suggestions\n3. Prioritize by impact (token waste vs. broken workflows)"
              }
            ]
          },
          {
            "name": "essentials",
            "description": "Essential MCP servers, requirements management, and intelligent instruction analysis for enhanced Claude Code development workflow",
            "source": "./plugins/essentials",
            "category": null,
            "version": "1.0.0",
            "author": null,
            "install_commands": [
              "/plugin marketplace add bandofai/puerto",
              "/plugin install essentials@puerto"
            ],
            "signals": {
              "stars": 3,
              "forks": 2,
              "pushed_at": "2025-11-29T19:00:45Z",
              "created_at": "2025-10-31T18:23:43Z",
              "license": null
            },
            "commands": [
              {
                "name": "/brainstorm",
                "description": null,
                "path": "plugins/essentials/commands/brainstorm.md",
                "frontmatter": null,
                "content": "# Interactive Requirements Brainstorming with Intelligent Analysis v2.0\n\nStart an interactive Q&A session with deep codebase analysis and dynamically generated questions.\n\n**‚ö†Ô∏è CRITICAL: THIS COMMAND ONLY GATHERS REQUIREMENTS - NEVER IMPLEMENTS CODE ‚ö†Ô∏è**\n\n## STRICT OPERATING MODE: READ-ONLY ANALYSIS\n\n**YOU MUST NEVER:**\n- Write, edit, or modify any code files\n- Create new source code files (except in `.requirements/` folder)\n- Execute implementation commands\n- Make code changes of any kind\n- Use Edit, Write, or code modification tools\n- Suggest or execute implementation during this workflow\n\n**YOU MAY ONLY:**\n- Read and analyze existing code\n- Search and explore the codebase\n- Research best practices\n- Ask questions\n- Create requirement documents in `.requirements/` folder\n- Generate specifications and recommendations\n\n**GOAL:** Gather complete, actionable requirements so implementation can happen later with `/implement` command.\n\n---\n\n## Full Workflow\n\n### Phase 1: Setup & Initialization\n\nWhen user runs `/brainstorm <description>`:\n\n1. **Parse the request**\n   - Extract feature description from arguments\n   - Generate slug: kebab-case version (e.g., \"add user logging\" ‚Üí \"user-logging\")\n\n2. **Create timestamped requirement folder**\n   - Format: `.requirements/YYYY-MM-DD-HHMM-[slug]/`\n   - Example: `.requirements/2025-10-25-1430-user-logging/`\n\n3. **Initialize files**\n   - `01-initial-request.md` - Save user's original request verbatim\n   - `metadata.json` - Initialize tracking structure\n   - Update `.requirements/_current-requirement` with folder name\n\n4. **Initialize metadata.json**\n   ```json\n   {\n     \"id\": \"user-logging\",\n     \"slug\": \"user-logging\",\n     \"started\": \"2025-10-25T14:30:00Z\",\n     \"lastUpdated\": \"2025-10-25T14:30:00Z\",\n     \"status\": \"active\",\n     \"phase\": \"discovery\",\n     \"originalRequest\": \"add user logging\",\n     \"progress\": {\n       \"discovery\": { \"generated\": false, \"answered\": 0, \"total\": 0 },\n       \"analysis\": { \"status\": \"pending\" },\n       \"expert\": { \"generated\": false, \"answered\": 0, \"total\": 0 }\n     },\n     \"contextFiles\": [],\n     \"relatedFeatures\": [],\n     \"toolsAvailable\": [\"serena\", \"context7\", \"WebSearch\"],\n     \"recommendedSkill\": null,\n     \"skillRationale\": null\n   }\n   ```\n\n5. **Announce**: \"Starting requirements gathering for: [description]\"\n\n---\n\n### Phase 2: Generate & Ask Discovery Questions\n\n**IMPORTANT: Questions are NOT hardcoded - they are generated dynamically based on the user's request!**\n\n#### Step 2.1: Generate Discovery Questions\n\nUse **sequential thinking** to generate contextual questions:\n\n```\nTask: Generate 5-7 discovery questions to gather requirements for: \"[user's request]\"\n\nGuidelines:\n- Analyze what's ambiguous or unclear in the request\n- Focus on WHAT the user wants, not HOW to implement\n- Questions should clarify scope, behavior, and expectations\n- Each question needs 2-5 numbered options with smart defaults\n- Mark one option as [default - brief reason why]\n- Include \"Other (please specify)\" for flexibility\n- Mix yes/no with multiple choice appropriately\n\nFocus areas based on request context:\n- Scope and boundaries of the feature\n- User interactions and workflows\n- Data/content being worked with\n- Performance or scale expectations\n- Security/privacy considerations\n- Integration with existing systems\n\nOutput format for each question:\n## Q[N]: [Question Title]\n```\n[Question text that makes sense for THIS request]\n\n1. [Option 1] [default - reason based on request context]\n2. [Option 2]\n3. [Option 3]\n4. Other (please specify)\n```\n\nAvailable tools: serena (code analysis), context7 (library docs), WebSearch (best practices)\n\nSave all generated questions to: 02-discovery-questions.md\n```\n\n**Example output for \"add user logging\":**\n```markdown\n## Q1: What should be logged?\n```\nWhat information should the logging system capture?\n\n1. Error details and stack traces [default - most common use case]\n2. User actions and events\n3. Both errors and user actions\n4. Other (please specify)\n```\n\n## Q2: Where should logs be stored?\n```\nWhat's the preferred log storage solution?\n\n1. Local files (rotating logs) [default - simplest approach]\n2. Database (queryable logs)\n3. External service (e.g., Datadog, LogRocket)\n4. Other (please specify)\n```\n```\n\n**Example output for \"build user dashboard\":**\n```markdown\n## Q1: What data should the dashboard display?\n```\nWhat key metrics or information will users see?\n\n1. User activity and engagement [default - common dashboard need]\n2. System metrics and performance\n3. Business analytics and reports\n4. Other (please specify)\n```\n\n## Q2: Should the dashboard update in real-time?\n```\nHow current should the dashboard data be?\n\n1. Static/on-page-load [default - simplest implementation]\n2. Real-time updates (WebSocket/polling)\n3. Refresh on user action\n4. Other (please specify)\n```\n```\n\n#### Step 2.2: Ask Questions One at a Time\n\n**UX Rules:**\n- Present ONE question at a time\n- Wait for user response before next question\n- Accept numbered responses (e.g., \"1\", \"2\") or free text for \"Other\"\n- Support revisions: user can say \"back\", \"change Q2\", or \"restart\"\n- Show progress after every 2-3 questions: \"So far: [brief summary]...\"\n- If user provides just number, auto-select that option\n\n**After all discovery questions answered:**\n- Save answers to `03-discovery-answers.md`\n- Update `metadata.json` progress\n- Announce: \"Discovery complete. Starting intelligent codebase analysis...\"\n\n---\n\n### Phase 3: Intelligent Codebase Analysis (Autonomous)\n\n**NO USER INTERACTION - Fully autonomous**\n\n**‚ö†Ô∏è CRITICAL REMINDER: READ-ONLY ANALYSIS ONLY - DO NOT IMPLEMENT ANYTHING ‚ö†Ô∏è**\n\nUse **sequential thinking** for intelligent analysis:\n\n```\nTask: Analyze codebase to support implementing: \"[user's request]\"\n\n**CRITICAL CONSTRAINTS:**\n- DO NOT write, edit, or modify any code files\n- DO NOT create new source code files\n- DO NOT use Edit, Write, or any code modification tools\n- ONLY read, search, and analyze existing code\n- ONLY create requirement documents in .requirements/ folder\n- Your role is RESEARCH and SPECIFICATION, not implementation\n\nContext from discovery phase:\n[Include summary of all discovery answers]\n\nYour objectives:\n1. Understand current architecture and technology stack (READ-ONLY)\n2. Find similar features or related implementations (READ-ONLY)\n3. Identify specific files that will need modification (DOCUMENT, don't modify)\n4. Research best practices for this type of feature (RESEARCH ONLY)\n5. Determine integration points with existing code (ANALYZE, don't implement)\n6. Generate implementation recommendations with rationale (RECOMMEND, don't execute)\n\nAvailable tools (READ-ONLY usage):\n- serena: For finding symbols, searching patterns, analyzing code structure\n  * Use find_symbol to locate classes/functions\n  * Use search_for_pattern for code patterns\n  * Use find_referencing_symbols for dependencies\n  * Use get_symbols_overview for file structure\n  * DO NOT use replace_symbol_body, insert_after_symbol, insert_before_symbol\n\n- context7: For library/framework documentation\n  * Research best practices for libraries used in codebase\n\n- WebSearch: For industry best practices\n  * Search for implementation patterns\n  * Find security considerations\n  * Discover performance optimization techniques\n\nOutput required in 04-context-findings.md:\n\n# Codebase Analysis Findings\n\n## Architecture Overview\n[High-level structure - technology stack, patterns used]\n\n## Similar Features Found\n- `[file-path]` - [what it does, why similar]\n- [Include code snippets showing patterns]\n\n## Patterns to Follow\n```[language]\n// Example from [file-path]:[line-number]\n[relevant code snippet]\n```\n[Explanation of pattern and why it's relevant]\n\n## Files to Modify/Create\n- `[path]` - [what changes needed]\n- `[path]` - [what to add]\n\n## Integration Points\n[How this feature connects to existing code]\n\n## Best Practices Research\n[External best practices found via context7/WebSearch]\n\n## Recommended Approach\n[Specific implementation strategy with rationale]\n\n## Technical Constraints\n[Limitations, dependencies, considerations]\n```\n\n**After Phase 3:**\n- Save findings to `04-context-findings.md`\n- Update `metadata.json` with `contextFiles` and `relatedFeatures`\n- Announce: \"‚úÖ Read-only analysis complete. Found [N] related features and [N] files to modify (documentation only - no code was changed). Generating expert questions...\"\n\n---\n\n### Phase 4: Generate & Ask Expert Questions\n\n**Again, questions are dynamically generated based on findings!**\n\n#### Step 4.1: Generate Expert Questions\n\nUse **sequential thinking** to generate implementation questions:\n\n```\nTask: Generate 5-7 expert implementation questions\n\nInput context:\n- Original request: \"[user's request]\"\n- Discovery answers: [summary from Phase 2]\n- Codebase findings: [summary from 04-context-findings.md]\n\nGuidelines:\n- Reference ACTUAL files and patterns found in Phase 3\n- Questions should finalize implementation approach\n- Include numbered options with defaults based on codebase patterns\n- Explain WHY each default makes sense (cite specific findings)\n- Focus on HOW to implement, not WHAT to build\n\nQuestion types to consider:\n- Architecture decisions (extend existing vs create new)\n- File/component organization\n- Library/framework usage patterns\n- Code pattern consistency\n- Integration approach\n- Testing strategy\n\nOutput format for each question:\n## Q[N]: [Question Title]\n```\n[Question text referencing actual findings]\n\n1. [Option 1] [default - reason citing analysis]\n2. [Option 2]\n3. [Option 3]\n\n**Why this matters:**\n[Explanation based on Phase 3 findings - cite files, patterns discovered]\n```\n\nSave all generated questions to: 05-expert-questions.md\n```\n\n**Example output for \"add user logging\" after finding existing Logger:**\n```markdown\n## Q6: Should we extend the existing Logger?\n```\nFound Logger class at `src/utils/logger.ts`. How should we implement user logging?\n\n1. Extend existing Logger class [default - maintains consistency]\n2. Create separate UserLogger class\n3. Add logging as middleware\n\n**Why this matters:**\nAnalysis found that `AuthService` and `PaymentService` both use the\nexisting Logger at src/utils/logger.ts:15. The Logger already supports\nWinston with rotating file transport. Extending it maintains architectural\nconsistency and reuses existing log rotation configuration.\n```\n\n## Q7: Which log format should we use?\n```\nThe existing Logger uses JSON format. Should user logging follow this pattern?\n\n1. Yes, use JSON format [default - matches existing pattern]\n2. Plain text format\n3. Structured format (custom)\n\n**Why this matters:**\nFound 47 log statements across the codebase all using JSON format via\n`logger.info({...})` pattern. The log aggregator at scripts/analyze-logs.ts\nparses JSON format. Consistency enables easier log analysis.\n```\n```\n\n#### Step 4.2: Ask Expert Questions One at a Time\n\nSame UX rules as Phase 2:\n- ONE question at a time\n- Accept numbered responses\n- Support revisions\n- Show progress summaries\n\n**After all expert questions answered:**\n- Save answers to `06-expert-answers.md`\n- Update `metadata.json`\n- Announce: \"Expert questions complete. Generating comprehensive requirements specification...\"\n\n---\n\n### Phase 5: Generate Comprehensive Requirements Spec\n\n**First: Detect which skill should be used for implementation**\n\nUse this logic to recommend a skill:\n\n```\nAnalyze:\n- Original request keywords\n- Files involved from Phase 3 analysis\n- Discovery answers (what user wants)\n- Expert decisions (implementation approach)\n\nSkill Detection Rules:\n1. **developer** skill if:\n   - Keywords: \"add\", \"implement\", \"build\", \"create\", \"fix\", \"refactor\", \"update [code]\"\n   - Files: .ts, .tsx, .js, .jsx, .py, .go, .rs (code files)\n   - Context: Code implementation, testing, debugging\n\n2. **docs-master** skill if:\n   - Keywords: \"document\", \"write docs\", \"update README\", \"create guide\"\n   - Files: .md, CLAUDE.md, AGENTS.md, docs/ folder\n   - Context: Documentation, guides, specifications\n\n3. **gpt5-mini-prompting** skill if:\n   - Keywords: \"tune\", \"optimize extraction\", \"confidence\", \"entity type\", \"prompt\", \"cost\"\n   - Files: prompts-stage1.ts, prompts-stage2.ts, extractor.ts, identifier-config.ts\n   - Context: Prompt engineering, entity extraction\n\n4. **skill-creator** skill if:\n   - Keywords: \"create skill\", \"extract pattern\", \"new skill\"\n   - Files: .claude/skills/\n   - Context: Meta-level skill creation\n\nDefault: `developer` if ambiguous\n\nIf multiple skills apply, recommend primary skill + note secondary tasks.\n```\n\n**Then: Create `07-requirements-spec.md` synthesizing all information:**\n\n```markdown\n# [Feature Name from Request]\n\n**Created:** [ISO-8601 timestamp]\n**Status:** draft\n**Last Updated:** [ISO-8601 timestamp]\n\n---\n\n## Overview\n\n[2-3 paragraph summary combining:\n- Original request\n- Discovery answers (what user wants)\n- Analysis findings (current state)\n- Implementation approach (expert decisions)]\n\n---\n\n## Implementation Strategy\n\n### Recommended Skill\n**Skill:** `[skill-name]`\n\n**Rationale:**\nThis requirement involves [reason based on analysis]:\n- Files to modify: [list from Phase 3]\n- Task type: [feature/bugfix/refactor/documentation/optimization]\n- Context: [brief explanation of why this skill fits]\n\nThe `[skill-name]` skill provides:\n[List key capabilities of the skill that apply to this task]\n\n**To implement:** Run `/implement [slug]` which will automatically invoke the `[skill-name]` skill.\n\n**Override:** If you prefer a different approach, edit this section before running `/implement`.\n\n**Secondary tasks:** [If other skills needed, note them here]\n\n---\n\n## Requirements\n\n### Functional Requirements\n[From discovery answers - what the feature must do]\n\n1. [Requirement based on discovery Q&A]\n2. [Requirement based on discovery Q&A]\n3. [Additional requirements inferred]\n\n### User Interactions\n[Detailed workflow based on discovery answers]\n\n---\n\n## Technical Implementation\n\n### Architecture Decision\n[Based on expert Q&A - chosen approach with rationale]\n\n### Files to Modify\n[From Phase 3 analysis and Phase 4 decisions]\n\n- **`[file-path]`**\n  - What to change: [description]\n  - Pattern to follow: [reference to similar code]\n\n- **`[file-path]`**\n  - What to create: [description]\n\n### Technology Stack\n[Libraries/frameworks from analysis and decisions]\n\n### Integration Points\n[From Phase 3 analysis - how it connects]\n\n---\n\n## Implementation Guide\n\n### Patterns to Follow\n\n```[language]\n// From [similar-feature-file]:[line-number]\n[code snippet showing pattern to follow]\n```\n**Apply this pattern for:** [explanation]\n\n### Similar Features for Reference\n- **`[file-path]`** - [what it does similarly, line numbers]\n- **`[file-path]`** - [pattern to emulate]\n\n### Step-by-Step Approach\n1. [Concrete step from expert decisions]\n2. [Concrete step referencing files]\n3. [Concrete step with pattern reference]\n\n---\n\n## Testing Strategy\n\n[Based on how similar features are tested]\n\n- Unit tests: [approach based on codebase patterns]\n- Integration tests: [if needed]\n- Test files: [where to add tests, following existing structure]\n\n---\n\n## Edge Cases & Constraints\n\n### Edge Cases to Handle\n[From discovery phase and analysis]\n\n### Technical Constraints\n[From Phase 3 analysis]\n\n### Performance Considerations\n[From discovery answers if applicable]\n\n### Security Considerations\n[From discovery answers and analysis]\n\n---\n\n## Acceptance Criteria\n\n- [ ] [Functional criterion from requirements]\n- [ ] [Implementation criterion from expert decisions]\n- [ ] [Integration criterion from analysis]\n- [ ] [Testing criterion]\n- [ ] [Documentation criterion]\n\n---\n\n## Implementation Checklist\n\n- [ ] Review similar implementation at `[file-path]:[line]`\n- [ ] [Specific action from expert Q&A]\n- [ ] Modify `[file-path]` following pattern from `[reference-file]`\n- [ ] Add tests in `[test-file-path]` (follow existing test structure)\n- [ ] Update documentation at `[doc-path]`\n- [ ] [Any security/performance tasks]\n\n---\n\n## References\n\n- **Codebase Analysis:** `04-context-findings.md`\n- **Similar Features:**\n  - `[file-path]` - [what to learn from it]\n- **Best Practices:** [links from WebSearch/context7]\n- **Dependencies:** [libraries mentioned in analysis]\n\n---\n\n## Notes\n\n[Any assumptions made, open questions, or alternative approaches considered]\n```\n\n**After Phase 5:**\n- Update `metadata.json` with recommended skill:\n  ```json\n  {\n    \"recommendedSkill\": \"developer\",\n    \"skillRationale\": \"Code implementation with testing required\"\n  }\n  ```\n- Update `.requirements/_index.json`:\n  ```json\n  {\n    \"user-logging\": {\n      \"created\": \"2025-10-25T14:30:00Z\",\n      \"status\": \"draft\",\n      \"lastModified\": \"2025-10-25T15:15:00Z\",\n      \"lastWorked\": null,\n      \"folder\": \".requirements/2025-10-25-1430-user-logging/\",\n      \"relatedFeatures\": [\"auth-service\", \"payment-logging\"],\n      \"filesInvolved\": 5,\n      \"recommendedSkill\": \"developer\"\n    }\n  }\n  ```\n- Show completion summary with **explicit reminder**:\n\n```\n‚úÖ Requirements gathering complete!\n\nüìÅ All documentation saved to: .requirements/[folder]/\n\n‚ö†Ô∏è IMPORTANT: NO CODE WAS MODIFIED\n- This was a READ-ONLY analysis phase\n- All findings are documented in requirement files\n- No source code files were changed\n\nüìã Next Steps:\n1. Review requirements: .requirements/[folder]/07-requirements-spec.md\n2. When ready to implement: /implement [slug]\n\nThis brainstorm session ONLY gathered requirements.\nImplementation is a separate step that you control.\n```\n\n---\n\n## Best Practices\n\n### Question Flow\n- **One at a time** - Never ask multiple questions simultaneously\n- **Accept shorthand** - User can respond with just number (e.g., \"1\")\n- **Auto-select defaults** - If user presses enter, use [default]\n- **Follow-up intelligently** - Ask clarifying questions based on answers\n- **Show progress** - Every 2-3 questions, show summary: \"So far we have...\"\n- **Allow revisions** - User can say \"back\", \"change Q3\", or \"restart from Q5\"\n\n### Analysis Phase\n- **CRITICAL: READ-ONLY MODE** - Never use Edit, Write, or code modification tools\n- Use sequential thinking for intelligent tool coordination\n- Document file paths and line numbers in findings\n- Capture code snippets from similar features (for documentation, not implementation)\n- Research external best practices\n- Generate hypotheses and verify them (through reading, not implementing)\n- Track confidence in recommendations\n- **STOP if you find yourself about to modify code** - This is requirements gathering only!\n\n### Expert Questions\n- Always reference actual files found in analysis\n- Explain rationale for defaults using findings\n- Give user flexibility to choose different approach\n- Use numbered format for consistency\n- Include \"Why this matters\" explanations\n\n### Tool Usage\n\n**ALLOWED TOOLS (Read-Only):**\n- ‚úÖ Read - Read existing files\n- ‚úÖ Glob - Find files by pattern\n- ‚úÖ Grep - Search code content\n- ‚úÖ serena (read-only): find_symbol, search_for_pattern, get_symbols_overview, find_referencing_symbols\n- ‚úÖ context7 - Research library documentation\n- ‚úÖ WebSearch - Research best practices\n- ‚úÖ Bash (read-only commands): ls, cat, find, grep, git log, etc.\n\n**FORBIDDEN TOOLS (Implementation):**\n- ‚ùå Edit - NEVER use\n- ‚ùå Write - NEVER use (EXCEPT for creating files in `.requirements/` folder ONLY)\n- ‚ùå NotebookEdit - NEVER use\n- ‚ùå serena (write operations): replace_symbol_body, insert_after_symbol, insert_before_symbol, rename_symbol - NEVER use\n- ‚ùå Bash (write commands): touch, cp, mv (except in `.requirements/`), git commit, npm install - NEVER use\n- ‚ùå Task - NEVER use for implementation agents\n- ‚ùå Any code generation or modification tool\n\n**EXCEPTION:** Write tool is allowed ONLY for creating requirement documents in `.requirements/[timestamp-slug]/` folder. Never write to source code files.\n\n**Guidelines:**\n- Check which tools are available before use\n- Prefer serena for symbol-level code analysis (READ-ONLY)\n- Use context7 for library documentation\n- Use WebSearch for industry best practices\n- Always document which tools were used in metadata\n- **IF YOU CATCH YOURSELF ABOUT TO USE A FORBIDDEN TOOL, STOP IMMEDIATELY**\n\n### User Experience\n- Announce phase transitions clearly\n- Provide rich context for decisions\n- Save progress after each phase\n- Support interruption and resumption\n- Allow user to review/revise any phase\n- Generate actionable, specific outputs\n\n---\n\n## Why This Version Is Optimal\n\n1. ‚úÖ **Adaptive** - Questions change based on what user actually asked for\n2. ‚úÖ **Intelligent** - Sequential thinking powers all analysis and generation\n3. ‚úÖ **Context-aware** - Expert questions reference actual code found\n4. ‚úÖ **Simple tools** - Only serena, context7, WebSearch (no redundant tools)\n5. ‚úÖ **User-friendly** - Numbered choices, revisions, progress tracking\n6. ‚úÖ **Actionable** - Output includes specific files, patterns, and steps\n7. ‚úÖ **Flexible** - Works for any type of request (logging, UI, API, refactoring, etc.)\n8. ‚úÖ **Safe** - READ-ONLY mode prevents accidental implementation during requirements gathering\n\n---\n\n## Examples of Adaptive Behavior\n\n### Request: \"add logging to error handlers\"\n- Phase 2 generates questions about: log levels, storage, PII handling, error context\n- Phase 3 finds: existing error handlers, current logging setup\n- Phase 4 asks: extend current logger? which error handler files to modify?\n\n### Request: \"build user dashboard\"\n- Phase 2 generates questions about: data to show, real-time updates, user personalization\n- Phase 3 finds: existing dashboard components, data fetching patterns\n- Phase 4 asks: reuse Dashboard layout? follow existing chart library pattern?\n\n### Request: \"refactor authentication\"\n- Phase 2 generates questions about: what to improve, breaking changes okay?, migration path\n- Phase 3 finds: current auth implementation, all usage locations\n- Phase 4 asks: backward compatibility approach? update all 47 references at once?\n\n**The questions adapt to the request - no more generic \"what type of feature is this?\"**\n\n---\n\n## Phase Transitions\n\nAfter each phase, clearly announce:\n- ‚úÖ \"Phase 1 complete. Generating discovery questions for: [request]...\"\n- ‚úÖ \"Phase 2 complete. Starting READ-ONLY codebase analysis (no code will be modified)...\"\n- ‚úÖ \"Phase 3 complete (READ-ONLY analysis - no code changed). Generating expert questions based on findings...\"\n- ‚úÖ \"Phase 4 complete. Generating comprehensive requirements specification...\"\n- ‚úÖ \"Requirements gathering complete! Review at `.requirements/[folder]/`. NO CODE WAS MODIFIED - implementation is a separate step.\"\n\n---\n\n## Error Handling\n\n- **If you catch yourself using Edit/Write/modification tools**: STOP IMMEDIATELY, apologize, explain this is read-only mode, continue with read-only analysis\n- **If you start implementing code**: STOP IMMEDIATELY, delete any modifications, remind yourself this is requirements gathering only\n- If tools unavailable: Skip Phase 3, ask generic expert questions\n- If sequential thinking fails: Fall back to manual analysis\n- If user abandons mid-session: Save progress in metadata, allow resume\n- If folder exists: Ask \"Requirement exists. Overwrite, new version, or cancel?\"\n- **If user asks \"can you implement this?\"**: Respond \"This is requirements gathering phase. Once complete, use `/implement [slug]` to start implementation.\"\n"
              },
              {
                "name": "/continue",
                "description": null,
                "path": "plugins/essentials/commands/continue.md",
                "frontmatter": null,
                "content": "# Continue implementation\n\nResume implementation of a requirement that was interrupted.\n\n# Instructions\n\nWhen the user runs `/continue [name]`:\n\n1. **Determine which requirement to continue**\n\n   a. **If name is provided**: `/continue user-authentication`\n      - Use that specific requirement\n\n   b. **If no name provided**: `/continue`\n      - Read `.requirements/_index.json`\n      - Find the requirement with the most recent `lastWorked` timestamp\n      - If none found or multiple with same timestamp, ask user to specify\n\n2. **Load the requirement and current state**\n   - Read `.requirements/<name>.md`\n   - Extract recommended skill from \"Implementation Strategy\" section (if present)\n   - Check which items in Implementation Checklist are checked\n   - Check which Acceptance Criteria are marked done\n   - Review any notes about implementation progress\n   - Check if a skill was being used previously\n\n3. **Analyze codebase for current state**\n   - Use available tools to examine relevant files\n   - Identify what has been implemented\n   - Find where implementation stopped\n   - Look for TODO comments or incomplete code\n\n4. **Determine remaining work**\n   - Compare requirements with actual implementation\n   - List what's complete\n   - List what remains to be done\n   - Identify any gaps or issues\n\n5. **Present status to user**\n   Show clearly:\n   ```\n   Continuing: <name>\n\n   ‚úÖ Completed:\n   - [Item 1]\n   - [Item 2]\n\n   ‚è≥ In Progress:\n   - [Item 3] (partially done)\n\n   ‚ùå Not Started:\n   - [Item 4]\n   - [Item 5]\n\n   Next step: [What I'll do next]\n   ```\n\n6. **Ask for confirmation**\n   \"Should I continue with [next step], or would you like to adjust the plan?\"\n\n7. **Resume implementation**\n   - If a skill was recommended:\n     - Announce: \"Resuming with `[skill-name]` skill (as recommended in requirements)\"\n     - Use Skill tool with the recommended skill name\n     - The skill will continue from where it left off\n   - If no skill or manual implementation:\n     - Pick up where it left off manually\n     - Follow the same systematic approach as `/implement`\n   - Update checklist items as completed\n   - Update `_index.json` with `lastWorked` timestamp\n\n8. **Handle completion**\n   - If all work is done, mark requirement as \"done\" in `_index.json`\n   - Summarize what was completed in this session\n   - Suggest running `/req-status <name>` to verify\n\n## Best Practices\n\n- **Use the same skill that was recommended**: Maintain consistency with original implementation approach\n- Always verify current state before continuing\n- Don't assume previous implementation was complete\n- Check for code quality issues in existing implementation\n- Maintain consistency with existing code\n- Update the requirements document with any new insights\n- If previous implementation has issues, fix them before continuing\n- If switching from manual to skill-based (or vice versa), inform the user\n"
              },
              {
                "name": "/implement",
                "description": null,
                "path": "plugins/essentials/commands/implement.md",
                "frontmatter": null,
                "content": "# Implement a requirement\n\nImplement a feature based on its requirements document.\n\n# Instructions\n\nWhen the user runs `/implement <name>`:\n\n1. **Validate requirement exists**\n   - Check if `.requirements/<name>.md` exists\n   - If not found, list available requirements and ask user to choose or run `/brainstorm` first\n\n2. **Read and analyze the requirement**\n   - Load `.requirements/<name>.md`\n   - Parse all sections: overview, **Implementation Strategy**, functional requirements, technical requirements, edge cases, acceptance criteria\n   - Extract recommended skill from \"Implementation Strategy\" section (if present)\n   - Understand the full scope before starting\n\n3. **Check for recommended skill**\n   - If \"Implementation Strategy\" section exists:\n     - Extract skill name (e.g., \"developer\", \"docs-master\", \"gpt5-mini-prompting\")\n     - Read rationale to understand why this skill was chosen\n     - Verify skill exists in `.claude/skills/`\n   - If no recommendation or skill doesn't exist:\n     - Default to `developer` for code-related tasks\n     - Ask user for confirmation before proceeding\n\n4. **Update status to in-progress**\n   - Update `.requirements/_index.json`:\n     ```json\n     {\n       \"<name>\": {\n         \"status\": \"in-progress\",\n         \"lastWorked\": \"2025-01-17T11:00:00Z\",\n         \"lastModified\": \"2025-01-17T11:00:00Z\"\n       }\n     }\n     ```\n\n5. **Invoke recommended skill (if available)**\n   - If skill was detected in step 3:\n     - Announce: \"Using `[skill-name]` skill for implementation (as recommended in requirements)\"\n     - Use Skill tool with the recommended skill name\n     - Pass requirement context to the skill\n     - The skill will follow its own workflow and best practices\n     - Skip to step 8 (skill handles implementation)\n\n   - If no skill or skill doesn't exist:\n     - Proceed with manual implementation (steps 6-7)\n     - Note: \"Manual implementation (no skill recommended or skill unavailable)\"\n\n6. **Create implementation plan** (manual implementation fallback)\n   Present a clear plan to the user:\n   - Break down into logical steps\n   - Identify files that need to be created/modified\n   - Highlight any dependencies or prerequisites\n   - Estimate complexity\n\n   Ask user: \"Does this plan look good? Should I proceed?\"\n\n7. **Execute implementation systematically** (manual implementation fallback)\n\n   a. **Setup phase**\n      - Create necessary directories\n      - Set up any configuration files\n      - Install dependencies if needed\n\n   b. **Core implementation**\n      - Follow the plan step by step\n      - Implement according to technical requirements\n      - Handle edge cases mentioned in requirements\n      - Add proper error handling\n      - Include logging where appropriate\n\n   c. **Testing**\n      - Write unit tests for core functionality\n      - Write integration tests if applicable\n      - Test edge cases from requirements\n      - Verify acceptance criteria\n\n   d. **Documentation**\n      - Add code comments for complex logic\n      - Update README if needed\n      - Document API endpoints or interfaces\n\n8. **Track progress in requirements file**\n   - Check off items in the Implementation Checklist\n   - Mark completed acceptance criteria\n   - Add notes about implementation decisions\n   - Note which skill was used (if applicable)\n\n9. **Report completion**\n   - Summarize what was implemented\n   - Show which acceptance criteria were met\n   - Highlight any deviations from original requirements\n   - Suggest running `/req-status <name>` to verify\n   - Update status in `_index.json` to \"done\" if fully complete\n\n10. **Handle interruptions gracefully**\n   - If implementation is interrupted, save state clearly\n   - Update `_index.json` with current progress\n   - Note which skill was being used (if applicable)\n   - User can resume with `/continue <name>`\n\n## Best Practices\n\n- **Prioritize skill-based implementation**: If a skill is recommended, use it instead of manual implementation\n- Always confirm the plan before executing (unless skill is handling it)\n- Implement incrementally, not all at once\n- Test as you go, don't wait until the end\n- Keep the user informed of progress\n- If requirements are unclear, ask for clarification before implementing\n- Follow existing code patterns and project conventions\n- Prioritize code quality and maintainability\n- Trust the skill's workflow - skills encode project-specific best practices\n"
              }
            ],
            "skills": []
          }
        ]
      }
    }
  ]
}