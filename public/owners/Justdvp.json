{
  "owner": {
    "id": "Justdvp",
    "display_name": "Justdvp",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/115942992?v=4",
    "url": "https://github.com/Justdvp",
    "bio": null,
    "stats": {
      "total_repos": 1,
      "total_plugins": 10,
      "total_commands": 410,
      "total_skills": 0,
      "total_stars": 5,
      "total_forks": 0
    }
  },
  "repos": [
    {
      "full_name": "Justdvp/claude-code-templates",
      "url": "https://github.com/Justdvp/claude-code-templates",
      "description": "üõ†Ô∏è Simplify your coding with ready-to-use configurations for Anthropic's Claude Code, designed to enhance productivity and streamline your workflow.",
      "homepage": "https://github.com/Justdvp",
      "signals": {
        "stars": 5,
        "forks": 0,
        "pushed_at": "2026-01-12T22:20:42Z",
        "created_at": "2022-10-16T16:39:58Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 11285
        },
        {
          "path": ".claude",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/agents/agent-expert.md",
          "type": "blob",
          "size": 16159
        },
        {
          "path": ".claude/agents/cli-ui-designer.md",
          "type": "blob",
          "size": 10678
        },
        {
          "path": ".claude/agents/command-expert.md",
          "type": "blob",
          "size": 11716
        },
        {
          "path": ".claude/agents/docusaurus-expert.md",
          "type": "blob",
          "size": 4670
        },
        {
          "path": ".claude/agents/frontend-developer.md",
          "type": "blob",
          "size": 1318
        },
        {
          "path": ".claude/agents/mcp-expert.md",
          "type": "blob",
          "size": 7677
        },
        {
          "path": ".claude/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/commands/lint.md",
          "type": "blob",
          "size": 1878
        },
        {
          "path": ".claude/commands/test.md",
          "type": "blob",
          "size": 1322
        },
        {
          "path": ".claude/settings.local.json",
          "type": "blob",
          "size": 2396
        },
        {
          "path": ".env.example",
          "type": "blob",
          "size": 1053
        },
        {
          "path": ".gitignore",
          "type": "blob",
          "size": 659
        },
        {
          "path": ".mcp.json",
          "type": "blob",
          "size": 25
        },
        {
          "path": ".vscode",
          "type": "tree",
          "size": null
        },
        {
          "path": ".vscode/settings.json",
          "type": "blob",
          "size": 45
        },
        {
          "path": "CLAUDE.md",
          "type": "blob",
          "size": 18054
        },
        {
          "path": "CLAUDE_JOBS_README.md",
          "type": "blob",
          "size": 4176
        },
        {
          "path": "CODE_OF_CONDUCT.md",
          "type": "blob",
          "size": 5241
        },
        {
          "path": "CONTRIBUTING.md",
          "type": "blob",
          "size": 13795
        },
        {
          "path": "DEPLOYMENT.md",
          "type": "blob",
          "size": 1502
        },
        {
          "path": "DISCORD_BOT_SETUP.md",
          "type": "blob",
          "size": 9343
        },
        {
          "path": "LICENSE",
          "type": "blob",
          "size": 1075
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 4928
        },
        {
          "path": "SECURITY.md",
          "type": "blob",
          "size": 2827
        },
        {
          "path": "api",
          "type": "tree",
          "size": null
        },
        {
          "path": "api/discord",
          "type": "tree",
          "size": null
        },
        {
          "path": "api/discord/interactions.js",
          "type": "blob",
          "size": 7902
        },
        {
          "path": "api/index.html",
          "type": "blob",
          "size": 19
        },
        {
          "path": "api/package.json",
          "type": "blob",
          "size": 182
        },
        {
          "path": "api/track-download-supabase.js",
          "type": "blob",
          "size": 4311
        },
        {
          "path": "cli-tool",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/.claude",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/.claude/sandbox",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/.claude/sandbox/cloudflare",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/.claude/sandbox/cloudflare/.dev.vars.example",
          "type": "blob",
          "size": 356
        },
        {
          "path": "cli-tool/.claude/sandbox/cloudflare/.gitignore",
          "type": "blob",
          "size": 394
        },
        {
          "path": "cli-tool/.claude/sandbox/cloudflare/IMPLEMENTATION_SUMMARY.md",
          "type": "blob",
          "size": 11334
        },
        {
          "path": "cli-tool/.claude/sandbox/cloudflare/QUICKSTART.md",
          "type": "blob",
          "size": 5755
        },
        {
          "path": "cli-tool/.claude/sandbox/cloudflare/README.md",
          "type": "blob",
          "size": 7242
        },
        {
          "path": "cli-tool/.claude/sandbox/cloudflare/SANDBOX_DEBUGGING.md",
          "type": "blob",
          "size": 10780
        },
        {
          "path": "cli-tool/.claude/sandbox/cloudflare/claude-code-sandbox.md",
          "type": "blob",
          "size": 11102
        },
        {
          "path": "cli-tool/.claude/sandbox/cloudflare/launcher.ts",
          "type": "blob",
          "size": 14020
        },
        {
          "path": "cli-tool/.claude/sandbox/cloudflare/monitor.ts",
          "type": "blob",
          "size": 12295
        },
        {
          "path": "cli-tool/.claude/sandbox/cloudflare/package.json",
          "type": "blob",
          "size": 1352
        },
        {
          "path": "cli-tool/.claude/sandbox/cloudflare/src",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/.claude/sandbox/cloudflare/src/index.ts",
          "type": "blob",
          "size": 7026
        },
        {
          "path": "cli-tool/.claude/sandbox/cloudflare/tsconfig.json",
          "type": "blob",
          "size": 636
        },
        {
          "path": "cli-tool/.claude/sandbox/cloudflare/wrangler.toml",
          "type": "blob",
          "size": 1251
        },
        {
          "path": "cli-tool/.npmignore",
          "type": "blob",
          "size": 456
        },
        {
          "path": "cli-tool/.npmrc",
          "type": "blob",
          "size": 96
        },
        {
          "path": "cli-tool/Makefile",
          "type": "blob",
          "size": 3749
        },
        {
          "path": "cli-tool/README.md",
          "type": "blob",
          "size": 8210
        },
        {
          "path": "cli-tool/TESTING.md",
          "type": "blob",
          "size": 5819
        },
        {
          "path": "cli-tool/bin",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/bin/create-claude-config.js",
          "type": "blob",
          "size": 5707
        },
        {
          "path": "cli-tool/components",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/.claude-plugin/marketplace.json",
          "type": "blob",
          "size": 2889
        },
        {
          "path": "cli-tool/components/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/ai-specialists",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/ai-specialists/ai-ethics-advisor.md",
          "type": "blob",
          "size": 7024
        },
        {
          "path": "cli-tool/components/agents/ai-specialists/hackathon-ai-strategist.md",
          "type": "blob",
          "size": 2968
        },
        {
          "path": "cli-tool/components/agents/ai-specialists/llms-maintainer.md",
          "type": "blob",
          "size": 3397
        },
        {
          "path": "cli-tool/components/agents/ai-specialists/model-evaluator.md",
          "type": "blob",
          "size": 5198
        },
        {
          "path": "cli-tool/components/agents/ai-specialists/prompt-engineer.md",
          "type": "blob",
          "size": 3147
        },
        {
          "path": "cli-tool/components/agents/ai-specialists/search-specialist.md",
          "type": "blob",
          "size": 1862
        },
        {
          "path": "cli-tool/components/agents/ai-specialists/task-decomposition-expert.md",
          "type": "blob",
          "size": 5136
        },
        {
          "path": "cli-tool/components/agents/api-graphql",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/api-graphql/graphql-architect.md",
          "type": "blob",
          "size": 6365
        },
        {
          "path": "cli-tool/components/agents/api-graphql/graphql-performance-optimizer.md",
          "type": "blob",
          "size": 9827
        },
        {
          "path": "cli-tool/components/agents/api-graphql/graphql-security-specialist.md",
          "type": "blob",
          "size": 13070
        },
        {
          "path": "cli-tool/components/agents/blockchain-web3",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/blockchain-web3/smart-contract-auditor.md",
          "type": "blob",
          "size": 2734
        },
        {
          "path": "cli-tool/components/agents/blockchain-web3/smart-contract-specialist.md",
          "type": "blob",
          "size": 2664
        },
        {
          "path": "cli-tool/components/agents/blockchain-web3/web3-integration-specialist.md",
          "type": "blob",
          "size": 2866
        },
        {
          "path": "cli-tool/components/agents/business-marketing",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/business-marketing/business-analyst.md",
          "type": "blob",
          "size": 6723
        },
        {
          "path": "cli-tool/components/agents/business-marketing/content-marketer.md",
          "type": "blob",
          "size": 1068
        },
        {
          "path": "cli-tool/components/agents/business-marketing/customer-support.md",
          "type": "blob",
          "size": 989
        },
        {
          "path": "cli-tool/components/agents/business-marketing/legal-advisor.md",
          "type": "blob",
          "size": 1919
        },
        {
          "path": "cli-tool/components/agents/business-marketing/marketing-attribution-analyst.md",
          "type": "blob",
          "size": 11886
        },
        {
          "path": "cli-tool/components/agents/business-marketing/payment-integration.md",
          "type": "blob",
          "size": 1261
        },
        {
          "path": "cli-tool/components/agents/business-marketing/product-strategist.md",
          "type": "blob",
          "size": 7961
        },
        {
          "path": "cli-tool/components/agents/business-marketing/risk-manager.md",
          "type": "blob",
          "size": 1395
        },
        {
          "path": "cli-tool/components/agents/business-marketing/sales-automator.md",
          "type": "blob",
          "size": 975
        },
        {
          "path": "cli-tool/components/agents/data-ai",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/data-ai/ai-engineer.md",
          "type": "blob",
          "size": 1267
        },
        {
          "path": "cli-tool/components/agents/data-ai/computer-vision-engineer.md",
          "type": "blob",
          "size": 19561
        },
        {
          "path": "cli-tool/components/agents/data-ai/data-engineer.md",
          "type": "blob",
          "size": 1156
        },
        {
          "path": "cli-tool/components/agents/data-ai/data-scientist.md",
          "type": "blob",
          "size": 11086
        },
        {
          "path": "cli-tool/components/agents/data-ai/ml-engineer.md",
          "type": "blob",
          "size": 1071
        },
        {
          "path": "cli-tool/components/agents/data-ai/mlops-engineer.md",
          "type": "blob",
          "size": 1960
        },
        {
          "path": "cli-tool/components/agents/data-ai/nlp-engineer.md",
          "type": "blob",
          "size": 22925
        },
        {
          "path": "cli-tool/components/agents/data-ai/quant-analyst.md",
          "type": "blob",
          "size": 1270
        },
        {
          "path": "cli-tool/components/agents/database",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/database/database-admin.md",
          "type": "blob",
          "size": 1244
        },
        {
          "path": "cli-tool/components/agents/database/database-architect.md",
          "type": "blob",
          "size": 21336
        },
        {
          "path": "cli-tool/components/agents/database/database-optimization.md",
          "type": "blob",
          "size": 1447
        },
        {
          "path": "cli-tool/components/agents/database/database-optimizer.md",
          "type": "blob",
          "size": 1175
        },
        {
          "path": "cli-tool/components/agents/database/neon-auth-specialist.md",
          "type": "blob",
          "size": 4107
        },
        {
          "path": "cli-tool/components/agents/database/neon-database-architect.md",
          "type": "blob",
          "size": 3578
        },
        {
          "path": "cli-tool/components/agents/database/neon-expert.md",
          "type": "blob",
          "size": 23460
        },
        {
          "path": "cli-tool/components/agents/database/nosql-specialist.md",
          "type": "blob",
          "size": 22683
        },
        {
          "path": "cli-tool/components/agents/database/supabase-schema-architect.md",
          "type": "blob",
          "size": 4415
        },
        {
          "path": "cli-tool/components/agents/deep-research-team",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/deep-research-team/academic-researcher.md",
          "type": "blob",
          "size": 1457
        },
        {
          "path": "cli-tool/components/agents/deep-research-team/agent-overview.md",
          "type": "blob",
          "size": 10258
        },
        {
          "path": "cli-tool/components/agents/deep-research-team/competitive-intelligence-analyst.md",
          "type": "blob",
          "size": 19266
        },
        {
          "path": "cli-tool/components/agents/deep-research-team/data-analyst.md",
          "type": "blob",
          "size": 6552
        },
        {
          "path": "cli-tool/components/agents/deep-research-team/fact-checker.md",
          "type": "blob",
          "size": 21454
        },
        {
          "path": "cli-tool/components/agents/deep-research-team/nia-oracle.md",
          "type": "blob",
          "size": 12284
        },
        {
          "path": "cli-tool/components/agents/deep-research-team/query-clarifier.md",
          "type": "blob",
          "size": 5009
        },
        {
          "path": "cli-tool/components/agents/deep-research-team/report-generator.md",
          "type": "blob",
          "size": 5352
        },
        {
          "path": "cli-tool/components/agents/deep-research-team/research-brief-generator.md",
          "type": "blob",
          "size": 6041
        },
        {
          "path": "cli-tool/components/agents/deep-research-team/research-coordinator.md",
          "type": "blob",
          "size": 6015
        },
        {
          "path": "cli-tool/components/agents/deep-research-team/research-orchestrator.md",
          "type": "blob",
          "size": 5453
        },
        {
          "path": "cli-tool/components/agents/deep-research-team/research-synthesizer.md",
          "type": "blob",
          "size": 4988
        },
        {
          "path": "cli-tool/components/agents/deep-research-team/technical-researcher.md",
          "type": "blob",
          "size": 4284
        },
        {
          "path": "cli-tool/components/agents/development-team",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/development-team/backend-architect.md",
          "type": "blob",
          "size": 1236
        },
        {
          "path": "cli-tool/components/agents/development-team/cli-ui-designer.md",
          "type": "blob",
          "size": 10678
        },
        {
          "path": "cli-tool/components/agents/development-team/devops-engineer.md",
          "type": "blob",
          "size": 23660
        },
        {
          "path": "cli-tool/components/agents/development-team/frontend-developer.md",
          "type": "blob",
          "size": 1318
        },
        {
          "path": "cli-tool/components/agents/development-team/fullstack-developer.md",
          "type": "blob",
          "size": 32301
        },
        {
          "path": "cli-tool/components/agents/development-team/ios-developer.md",
          "type": "blob",
          "size": 1213
        },
        {
          "path": "cli-tool/components/agents/development-team/mobile-developer.md",
          "type": "blob",
          "size": 1155
        },
        {
          "path": "cli-tool/components/agents/development-team/ui-ux-designer.md",
          "type": "blob",
          "size": 1226
        },
        {
          "path": "cli-tool/components/agents/development-tools",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/development-tools/code-reviewer.md",
          "type": "blob",
          "size": 883
        },
        {
          "path": "cli-tool/components/agents/development-tools/command-expert.md",
          "type": "blob",
          "size": 10904
        },
        {
          "path": "cli-tool/components/agents/development-tools/context-manager.md",
          "type": "blob",
          "size": 1993
        },
        {
          "path": "cli-tool/components/agents/development-tools/debugger.md",
          "type": "blob",
          "size": 872
        },
        {
          "path": "cli-tool/components/agents/development-tools/dx-optimizer.md",
          "type": "blob",
          "size": 1820
        },
        {
          "path": "cli-tool/components/agents/development-tools/error-detective.md",
          "type": "blob",
          "size": 1185
        },
        {
          "path": "cli-tool/components/agents/development-tools/flutter-go-reviewer.md",
          "type": "blob",
          "size": 6750
        },
        {
          "path": "cli-tool/components/agents/development-tools/mcp-expert.md",
          "type": "blob",
          "size": 6893
        },
        {
          "path": "cli-tool/components/agents/development-tools/performance-profiler.md",
          "type": "blob",
          "size": 24023
        },
        {
          "path": "cli-tool/components/agents/development-tools/test-engineer.md",
          "type": "blob",
          "size": 26242
        },
        {
          "path": "cli-tool/components/agents/development-tools/unused-code-cleaner.md",
          "type": "blob",
          "size": 4761
        },
        {
          "path": "cli-tool/components/agents/devops-infrastructure",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/devops-infrastructure/cloud-architect.md",
          "type": "blob",
          "size": 1219
        },
        {
          "path": "cli-tool/components/agents/devops-infrastructure/deployment-engineer.md",
          "type": "blob",
          "size": 1256
        },
        {
          "path": "cli-tool/components/agents/devops-infrastructure/devops-troubleshooter.md",
          "type": "blob",
          "size": 1122
        },
        {
          "path": "cli-tool/components/agents/devops-infrastructure/monitoring-specialist.md",
          "type": "blob",
          "size": 1264
        },
        {
          "path": "cli-tool/components/agents/devops-infrastructure/network-engineer.md",
          "type": "blob",
          "size": 1211
        },
        {
          "path": "cli-tool/components/agents/devops-infrastructure/security-engineer.md",
          "type": "blob",
          "size": 33726
        },
        {
          "path": "cli-tool/components/agents/devops-infrastructure/terraform-specialist.md",
          "type": "blob",
          "size": 1239
        },
        {
          "path": "cli-tool/components/agents/devops-infrastructure/vercel-deployment-specialist.md",
          "type": "blob",
          "size": 9246
        },
        {
          "path": "cli-tool/components/agents/documentation",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/documentation/api-documenter.md",
          "type": "blob",
          "size": 1113
        },
        {
          "path": "cli-tool/components/agents/documentation/changelog-generator.md",
          "type": "blob",
          "size": 1285
        },
        {
          "path": "cli-tool/components/agents/documentation/docusaurus-expert.md",
          "type": "blob",
          "size": 4905
        },
        {
          "path": "cli-tool/components/agents/documentation/technical-writer.md",
          "type": "blob",
          "size": 1315
        },
        {
          "path": "cli-tool/components/agents/expert-advisors",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/expert-advisors/agent-expert.md",
          "type": "blob",
          "size": 16211
        },
        {
          "path": "cli-tool/components/agents/expert-advisors/architect-review.md",
          "type": "blob",
          "size": 3414
        },
        {
          "path": "cli-tool/components/agents/expert-advisors/dependency-manager.md",
          "type": "blob",
          "size": 3124
        },
        {
          "path": "cli-tool/components/agents/expert-advisors/documentation-expert.md",
          "type": "blob",
          "size": 3197
        },
        {
          "path": "cli-tool/components/agents/ffmpeg-clip-team",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/ffmpeg-clip-team/audio-mixer.md",
          "type": "blob",
          "size": 1146
        },
        {
          "path": "cli-tool/components/agents/ffmpeg-clip-team/audio-quality-controller.md",
          "type": "blob",
          "size": 4406
        },
        {
          "path": "cli-tool/components/agents/ffmpeg-clip-team/podcast-content-analyzer.md",
          "type": "blob",
          "size": 2815
        },
        {
          "path": "cli-tool/components/agents/ffmpeg-clip-team/podcast-metadata-specialist.md",
          "type": "blob",
          "size": 2996
        },
        {
          "path": "cli-tool/components/agents/ffmpeg-clip-team/podcast-transcriber.md",
          "type": "blob",
          "size": 3316
        },
        {
          "path": "cli-tool/components/agents/ffmpeg-clip-team/social-media-clip-creator.md",
          "type": "blob",
          "size": 3691
        },
        {
          "path": "cli-tool/components/agents/ffmpeg-clip-team/timestamp-precision-specialist.md",
          "type": "blob",
          "size": 4173
        },
        {
          "path": "cli-tool/components/agents/ffmpeg-clip-team/video-editor.md",
          "type": "blob",
          "size": 1211
        },
        {
          "path": "cli-tool/components/agents/game-development",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/game-development/3d-artist.md",
          "type": "blob",
          "size": 1244
        },
        {
          "path": "cli-tool/components/agents/game-development/game-designer.md",
          "type": "blob",
          "size": 1268
        },
        {
          "path": "cli-tool/components/agents/game-development/unity-game-developer.md",
          "type": "blob",
          "size": 4538
        },
        {
          "path": "cli-tool/components/agents/game-development/unreal-engine-developer.md",
          "type": "blob",
          "size": 4700
        },
        {
          "path": "cli-tool/components/agents/git",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/git/git-flow-manager.md",
          "type": "blob",
          "size": 8752
        },
        {
          "path": "cli-tool/components/agents/mcp-dev-team",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/mcp-dev-team/mcp-deployment-orchestrator.md",
          "type": "blob",
          "size": 6200
        },
        {
          "path": "cli-tool/components/agents/mcp-dev-team/mcp-integration-engineer.md",
          "type": "blob",
          "size": 1385
        },
        {
          "path": "cli-tool/components/agents/mcp-dev-team/mcp-protocol-specialist.md",
          "type": "blob",
          "size": 1414
        },
        {
          "path": "cli-tool/components/agents/mcp-dev-team/mcp-registry-navigator.md",
          "type": "blob",
          "size": 4964
        },
        {
          "path": "cli-tool/components/agents/mcp-dev-team/mcp-security-auditor.md",
          "type": "blob",
          "size": 4900
        },
        {
          "path": "cli-tool/components/agents/mcp-dev-team/mcp-server-architect.md",
          "type": "blob",
          "size": 4816
        },
        {
          "path": "cli-tool/components/agents/mcp-dev-team/mcp-testing-engineer.md",
          "type": "blob",
          "size": 5021
        },
        {
          "path": "cli-tool/components/agents/modernization",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/modernization/architecture-modernizer.md",
          "type": "blob",
          "size": 1375
        },
        {
          "path": "cli-tool/components/agents/modernization/cloud-migration-specialist.md",
          "type": "blob",
          "size": 1365
        },
        {
          "path": "cli-tool/components/agents/modernization/legacy-modernizer.md",
          "type": "blob",
          "size": 1259
        },
        {
          "path": "cli-tool/components/agents/obsidian-ops-team",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/obsidian-ops-team/Scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/obsidian-ops-team/Scripts/daily_notes_connector.py",
          "type": "blob",
          "size": 12759
        },
        {
          "path": "cli-tool/components/agents/obsidian-ops-team/Scripts/enhance_tag_standardizer.py",
          "type": "blob",
          "size": 12730
        },
        {
          "path": "cli-tool/components/agents/obsidian-ops-team/Scripts/find_keyword_connections.py",
          "type": "blob",
          "size": 7672
        },
        {
          "path": "cli-tool/components/agents/obsidian-ops-team/Scripts/fix_quoted_tags.py",
          "type": "blob",
          "size": 3112
        },
        {
          "path": "cli-tool/components/agents/obsidian-ops-team/Scripts/implement_entity_connections.py",
          "type": "blob",
          "size": 7024
        },
        {
          "path": "cli-tool/components/agents/obsidian-ops-team/Scripts/link_suggester.py",
          "type": "blob",
          "size": 12458
        },
        {
          "path": "cli-tool/components/agents/obsidian-ops-team/Scripts/metadata_adder.py",
          "type": "blob",
          "size": 6851
        },
        {
          "path": "cli-tool/components/agents/obsidian-ops-team/Scripts/moc_generator.py",
          "type": "blob",
          "size": 10883
        },
        {
          "path": "cli-tool/components/agents/obsidian-ops-team/Scripts/parse_keyword_connections.py",
          "type": "blob",
          "size": 5028
        },
        {
          "path": "cli-tool/components/agents/obsidian-ops-team/Scripts/tag_standardizer.py",
          "type": "blob",
          "size": 13995
        },
        {
          "path": "cli-tool/components/agents/obsidian-ops-team/connection-agent.md",
          "type": "blob",
          "size": 2514
        },
        {
          "path": "cli-tool/components/agents/obsidian-ops-team/content-curator.md",
          "type": "blob",
          "size": 2898
        },
        {
          "path": "cli-tool/components/agents/obsidian-ops-team/metadata-agent.md",
          "type": "blob",
          "size": 2098
        },
        {
          "path": "cli-tool/components/agents/obsidian-ops-team/moc-agent.md",
          "type": "blob",
          "size": 2947
        },
        {
          "path": "cli-tool/components/agents/obsidian-ops-team/review-agent.md",
          "type": "blob",
          "size": 3153
        },
        {
          "path": "cli-tool/components/agents/obsidian-ops-team/tag-agent.md",
          "type": "blob",
          "size": 2747
        },
        {
          "path": "cli-tool/components/agents/obsidian-ops-team/vault-optimizer.md",
          "type": "blob",
          "size": 2616
        },
        {
          "path": "cli-tool/components/agents/ocr-extraction-team",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/ocr-extraction-team/document-structure-analyzer.md",
          "type": "blob",
          "size": 1532
        },
        {
          "path": "cli-tool/components/agents/ocr-extraction-team/markdown-syntax-formatter.md",
          "type": "blob",
          "size": 3235
        },
        {
          "path": "cli-tool/components/agents/ocr-extraction-team/ocr-grammar-fixer.md",
          "type": "blob",
          "size": 2404
        },
        {
          "path": "cli-tool/components/agents/ocr-extraction-team/ocr-preprocessing-optimizer.md",
          "type": "blob",
          "size": 1441
        },
        {
          "path": "cli-tool/components/agents/ocr-extraction-team/ocr-quality-assurance.md",
          "type": "blob",
          "size": 3329
        },
        {
          "path": "cli-tool/components/agents/ocr-extraction-team/text-comparison-validator.md",
          "type": "blob",
          "size": 2738
        },
        {
          "path": "cli-tool/components/agents/ocr-extraction-team/visual-analysis-ocr.md",
          "type": "blob",
          "size": 2987
        },
        {
          "path": "cli-tool/components/agents/performance-testing",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/performance-testing/load-testing-specialist.md",
          "type": "blob",
          "size": 1462
        },
        {
          "path": "cli-tool/components/agents/performance-testing/performance-engineer.md",
          "type": "blob",
          "size": 1118
        },
        {
          "path": "cli-tool/components/agents/performance-testing/react-performance-optimization.md",
          "type": "blob",
          "size": 2196
        },
        {
          "path": "cli-tool/components/agents/performance-testing/test-automator.md",
          "type": "blob",
          "size": 1158
        },
        {
          "path": "cli-tool/components/agents/performance-testing/web-vitals-optimizer.md",
          "type": "blob",
          "size": 1456
        },
        {
          "path": "cli-tool/components/agents/podcast-creator-team",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/podcast-creator-team/academic-research-synthesizer.md",
          "type": "blob",
          "size": 3319
        },
        {
          "path": "cli-tool/components/agents/podcast-creator-team/comprehensive-researcher.md",
          "type": "blob",
          "size": 3338
        },
        {
          "path": "cli-tool/components/agents/podcast-creator-team/episode-orchestrator.md",
          "type": "blob",
          "size": 2931
        },
        {
          "path": "cli-tool/components/agents/podcast-creator-team/guest-outreach-coordinator.md",
          "type": "blob",
          "size": 1476
        },
        {
          "path": "cli-tool/components/agents/podcast-creator-team/market-research-analyst.md",
          "type": "blob",
          "size": 3150
        },
        {
          "path": "cli-tool/components/agents/podcast-creator-team/podcast-editor.md",
          "type": "blob",
          "size": 1398
        },
        {
          "path": "cli-tool/components/agents/podcast-creator-team/podcast-trend-scout.md",
          "type": "blob",
          "size": 2698
        },
        {
          "path": "cli-tool/components/agents/podcast-creator-team/project-supervisor-orchestrator.md",
          "type": "blob",
          "size": 2819
        },
        {
          "path": "cli-tool/components/agents/podcast-creator-team/seo-podcast-optimizer.md",
          "type": "blob",
          "size": 2432
        },
        {
          "path": "cli-tool/components/agents/podcast-creator-team/social-media-copywriter.md",
          "type": "blob",
          "size": 2688
        },
        {
          "path": "cli-tool/components/agents/podcast-creator-team/twitter-ai-influencer-manager.md",
          "type": "blob",
          "size": 2801
        },
        {
          "path": "cli-tool/components/agents/programming-languages",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/programming-languages/c-pro.md",
          "type": "blob",
          "size": 1196
        },
        {
          "path": "cli-tool/components/agents/programming-languages/c-sharp-pro.md",
          "type": "blob",
          "size": 1956
        },
        {
          "path": "cli-tool/components/agents/programming-languages/cpp-pro.md",
          "type": "blob",
          "size": 1430
        },
        {
          "path": "cli-tool/components/agents/programming-languages/golang-pro.md",
          "type": "blob",
          "size": 1271
        },
        {
          "path": "cli-tool/components/agents/programming-languages/javascript-pro.md",
          "type": "blob",
          "size": 1239
        },
        {
          "path": "cli-tool/components/agents/programming-languages/php-pro.md",
          "type": "blob",
          "size": 2093
        },
        {
          "path": "cli-tool/components/agents/programming-languages/python-pro.md",
          "type": "blob",
          "size": 1334
        },
        {
          "path": "cli-tool/components/agents/programming-languages/rust-pro.md",
          "type": "blob",
          "size": 1200
        },
        {
          "path": "cli-tool/components/agents/programming-languages/shell-scripting-pro.md",
          "type": "blob",
          "size": 1530
        },
        {
          "path": "cli-tool/components/agents/programming-languages/sql-pro.md",
          "type": "blob",
          "size": 1220
        },
        {
          "path": "cli-tool/components/agents/programming-languages/typescript-pro.md",
          "type": "blob",
          "size": 1597
        },
        {
          "path": "cli-tool/components/agents/realtime",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/realtime/supabase-realtime-optimizer.md",
          "type": "blob",
          "size": 5693
        },
        {
          "path": "cli-tool/components/agents/security",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/security/api-security-audit.md",
          "type": "blob",
          "size": 2875
        },
        {
          "path": "cli-tool/components/agents/security/compliance-specialist.md",
          "type": "blob",
          "size": 1442
        },
        {
          "path": "cli-tool/components/agents/security/incident-responder.md",
          "type": "blob",
          "size": 1957
        },
        {
          "path": "cli-tool/components/agents/security/penetration-tester.md",
          "type": "blob",
          "size": 1422
        },
        {
          "path": "cli-tool/components/agents/security/security-auditor.md",
          "type": "blob",
          "size": 1230
        },
        {
          "path": "cli-tool/components/agents/web-tools",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/agents/web-tools/nextjs-architecture-expert.md",
          "type": "blob",
          "size": 6111
        },
        {
          "path": "cli-tool/components/agents/web-tools/react-performance-optimizer.md",
          "type": "blob",
          "size": 11516
        },
        {
          "path": "cli-tool/components/agents/web-tools/seo-analyzer.md",
          "type": "blob",
          "size": 1442
        },
        {
          "path": "cli-tool/components/agents/web-tools/url-context-validator.md",
          "type": "blob",
          "size": 3717
        },
        {
          "path": "cli-tool/components/agents/web-tools/url-link-extractor.md",
          "type": "blob",
          "size": 2880
        },
        {
          "path": "cli-tool/components/agents/web-tools/web-accessibility-checker.md",
          "type": "blob",
          "size": 1422
        },
        {
          "path": "cli-tool/components/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/commands/automation",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/commands/automation/act.md",
          "type": "blob",
          "size": 1363
        },
        {
          "path": "cli-tool/components/commands/automation/ci-pipeline.md",
          "type": "blob",
          "size": 8796
        },
        {
          "path": "cli-tool/components/commands/automation/husky.md",
          "type": "blob",
          "size": 3753
        },
        {
          "path": "cli-tool/components/commands/automation/workflow-orchestrator.md",
          "type": "blob",
          "size": 13542
        },
        {
          "path": "cli-tool/components/commands/database",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/commands/database/supabase-backup-manager.md",
          "type": "blob",
          "size": 2325
        },
        {
          "path": "cli-tool/components/commands/database/supabase-data-explorer.md",
          "type": "blob",
          "size": 2198
        },
        {
          "path": "cli-tool/components/commands/database/supabase-migration-assistant.md",
          "type": "blob",
          "size": 2216
        },
        {
          "path": "cli-tool/components/commands/database/supabase-performance-optimizer.md",
          "type": "blob",
          "size": 2351
        },
        {
          "path": "cli-tool/components/commands/database/supabase-realtime-monitor.md",
          "type": "blob",
          "size": 2457
        },
        {
          "path": "cli-tool/components/commands/database/supabase-schema-sync.md",
          "type": "blob",
          "size": 2200
        },
        {
          "path": "cli-tool/components/commands/database/supabase-security-audit.md",
          "type": "blob",
          "size": 2354
        },
        {
          "path": "cli-tool/components/commands/database/supabase-type-generator.md",
          "type": "blob",
          "size": 2349
        },
        {
          "path": "cli-tool/components/commands/deployment",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/commands/deployment/add-changelog.md",
          "type": "blob",
          "size": 2242
        },
        {
          "path": "cli-tool/components/commands/deployment/blue-green-deployment.md",
          "type": "blob",
          "size": 22252
        },
        {
          "path": "cli-tool/components/commands/deployment/changelog-demo-command.md",
          "type": "blob",
          "size": 1407
        },
        {
          "path": "cli-tool/components/commands/deployment/ci-setup.md",
          "type": "blob",
          "size": 9227
        },
        {
          "path": "cli-tool/components/commands/deployment/containerize-application.md",
          "type": "blob",
          "size": 4024
        },
        {
          "path": "cli-tool/components/commands/deployment/deployment-monitoring.md",
          "type": "blob",
          "size": 35166
        },
        {
          "path": "cli-tool/components/commands/deployment/hotfix-deploy.md",
          "type": "blob",
          "size": 9218
        },
        {
          "path": "cli-tool/components/commands/deployment/prepare-release.md",
          "type": "blob",
          "size": 9740
        },
        {
          "path": "cli-tool/components/commands/deployment/rollback-deploy.md",
          "type": "blob",
          "size": 11482
        },
        {
          "path": "cli-tool/components/commands/deployment/setup-automated-releases.md",
          "type": "blob",
          "size": 4748
        },
        {
          "path": "cli-tool/components/commands/deployment/setup-kubernetes-deployment.md",
          "type": "blob",
          "size": 4096
        },
        {
          "path": "cli-tool/components/commands/documentation",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/commands/documentation/create-architecture-documentation.md",
          "type": "blob",
          "size": 4421
        },
        {
          "path": "cli-tool/components/commands/documentation/create-onboarding-guide.md",
          "type": "blob",
          "size": 4140
        },
        {
          "path": "cli-tool/components/commands/documentation/doc-api.md",
          "type": "blob",
          "size": 7640
        },
        {
          "path": "cli-tool/components/commands/documentation/docs-maintenance.md",
          "type": "blob",
          "size": 4921
        },
        {
          "path": "cli-tool/components/commands/documentation/generate-api-documentation.md",
          "type": "blob",
          "size": 4391
        },
        {
          "path": "cli-tool/components/commands/documentation/interactive-documentation.md",
          "type": "blob",
          "size": 5436
        },
        {
          "path": "cli-tool/components/commands/documentation/load-llms-txt.md",
          "type": "blob",
          "size": 1308
        },
        {
          "path": "cli-tool/components/commands/documentation/migration-guide.md",
          "type": "blob",
          "size": 8136
        },
        {
          "path": "cli-tool/components/commands/documentation/troubleshooting-guide.md",
          "type": "blob",
          "size": 9594
        },
        {
          "path": "cli-tool/components/commands/documentation/update-docs.md",
          "type": "blob",
          "size": 4435
        },
        {
          "path": "cli-tool/components/commands/game-development",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/commands/game-development/game-analytics-integration.md",
          "type": "blob",
          "size": 4845
        },
        {
          "path": "cli-tool/components/commands/game-development/game-asset-pipeline.md",
          "type": "blob",
          "size": 4185
        },
        {
          "path": "cli-tool/components/commands/game-development/game-performance-profiler.md",
          "type": "blob",
          "size": 3042
        },
        {
          "path": "cli-tool/components/commands/game-development/game-testing-framework.md",
          "type": "blob",
          "size": 4151
        },
        {
          "path": "cli-tool/components/commands/game-development/unity-project-setup.md",
          "type": "blob",
          "size": 5406
        },
        {
          "path": "cli-tool/components/commands/git-workflow",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/commands/git-workflow/branch-cleanup.md",
          "type": "blob",
          "size": 6028
        },
        {
          "path": "cli-tool/components/commands/git-workflow/commit.md",
          "type": "blob",
          "size": 7902
        },
        {
          "path": "cli-tool/components/commands/git-workflow/create-pr.md",
          "type": "blob",
          "size": 795
        },
        {
          "path": "cli-tool/components/commands/git-workflow/create-pull-request.md",
          "type": "blob",
          "size": 4238
        },
        {
          "path": "cli-tool/components/commands/git-workflow/create-worktrees.md",
          "type": "blob",
          "size": 5190
        },
        {
          "path": "cli-tool/components/commands/git-workflow/fix-github-issue.md",
          "type": "blob",
          "size": 463
        },
        {
          "path": "cli-tool/components/commands/git-workflow/gemini-review.md",
          "type": "blob",
          "size": 10765
        },
        {
          "path": "cli-tool/components/commands/git-workflow/git-bisect-helper.md",
          "type": "blob",
          "size": 7720
        },
        {
          "path": "cli-tool/components/commands/git-workflow/pr-review.md",
          "type": "blob",
          "size": 3820
        },
        {
          "path": "cli-tool/components/commands/git-workflow/update-branch-name.md",
          "type": "blob",
          "size": 441
        },
        {
          "path": "cli-tool/components/commands/git",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/commands/git/feature.md",
          "type": "blob",
          "size": 4902
        },
        {
          "path": "cli-tool/components/commands/git/finish.md",
          "type": "blob",
          "size": 11700
        },
        {
          "path": "cli-tool/components/commands/git/flow-status.md",
          "type": "blob",
          "size": 9310
        },
        {
          "path": "cli-tool/components/commands/git/hotfix.md",
          "type": "blob",
          "size": 11239
        },
        {
          "path": "cli-tool/components/commands/git/release.md",
          "type": "blob",
          "size": 9069
        },
        {
          "path": "cli-tool/components/commands/nextjs-vercel",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/commands/nextjs-vercel/nextjs-api-tester.md",
          "type": "blob",
          "size": 12410
        },
        {
          "path": "cli-tool/components/commands/nextjs-vercel/nextjs-bundle-analyzer.md",
          "type": "blob",
          "size": 10627
        },
        {
          "path": "cli-tool/components/commands/nextjs-vercel/nextjs-component-generator.md",
          "type": "blob",
          "size": 11159
        },
        {
          "path": "cli-tool/components/commands/nextjs-vercel/nextjs-middleware-creator.md",
          "type": "blob",
          "size": 19116
        },
        {
          "path": "cli-tool/components/commands/nextjs-vercel/nextjs-migration-helper.md",
          "type": "blob",
          "size": 19922
        },
        {
          "path": "cli-tool/components/commands/nextjs-vercel/nextjs-performance-audit.md",
          "type": "blob",
          "size": 16654
        },
        {
          "path": "cli-tool/components/commands/nextjs-vercel/nextjs-scaffold.md",
          "type": "blob",
          "size": 6201
        },
        {
          "path": "cli-tool/components/commands/nextjs-vercel/vercel-deploy-optimize.md",
          "type": "blob",
          "size": 8962
        },
        {
          "path": "cli-tool/components/commands/nextjs-vercel/vercel-edge-function.md",
          "type": "blob",
          "size": 20881
        },
        {
          "path": "cli-tool/components/commands/nextjs-vercel/vercel-env-sync.md",
          "type": "blob",
          "size": 19002
        },
        {
          "path": "cli-tool/components/commands/orchestration",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/commands/orchestration/archive.md",
          "type": "blob",
          "size": 11049
        },
        {
          "path": "cli-tool/components/commands/orchestration/commit.md",
          "type": "blob",
          "size": 6227
        },
        {
          "path": "cli-tool/components/commands/orchestration/find.md",
          "type": "blob",
          "size": 5134
        },
        {
          "path": "cli-tool/components/commands/orchestration/log.md",
          "type": "blob",
          "size": 7074
        },
        {
          "path": "cli-tool/components/commands/orchestration/move.md",
          "type": "blob",
          "size": 4762
        },
        {
          "path": "cli-tool/components/commands/orchestration/optimize.md",
          "type": "blob",
          "size": 9433
        },
        {
          "path": "cli-tool/components/commands/orchestration/remove.md",
          "type": "blob",
          "size": 6532
        },
        {
          "path": "cli-tool/components/commands/orchestration/report.md",
          "type": "blob",
          "size": 6420
        },
        {
          "path": "cli-tool/components/commands/orchestration/resume.md",
          "type": "blob",
          "size": 6905
        },
        {
          "path": "cli-tool/components/commands/orchestration/start.md",
          "type": "blob",
          "size": 4426
        },
        {
          "path": "cli-tool/components/commands/orchestration/status.md",
          "type": "blob",
          "size": 4754
        },
        {
          "path": "cli-tool/components/commands/orchestration/sync.md",
          "type": "blob",
          "size": 6315
        },
        {
          "path": "cli-tool/components/commands/performance",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/commands/performance/add-performance-monitoring.md",
          "type": "blob",
          "size": 3898
        },
        {
          "path": "cli-tool/components/commands/performance/implement-caching-strategy.md",
          "type": "blob",
          "size": 4033
        },
        {
          "path": "cli-tool/components/commands/performance/optimize-api-performance.md",
          "type": "blob",
          "size": 5468
        },
        {
          "path": "cli-tool/components/commands/performance/optimize-build.md",
          "type": "blob",
          "size": 5041
        },
        {
          "path": "cli-tool/components/commands/performance/optimize-bundle-size.md",
          "type": "blob",
          "size": 3658
        },
        {
          "path": "cli-tool/components/commands/performance/optimize-database-performance.md",
          "type": "blob",
          "size": 3629
        },
        {
          "path": "cli-tool/components/commands/performance/optimize-memory-usage.md",
          "type": "blob",
          "size": 4097
        },
        {
          "path": "cli-tool/components/commands/performance/performance-audit.md",
          "type": "blob",
          "size": 3539
        },
        {
          "path": "cli-tool/components/commands/performance/setup-cdn-optimization.md",
          "type": "blob",
          "size": 3717
        },
        {
          "path": "cli-tool/components/commands/performance/system-behavior-simulator.md",
          "type": "blob",
          "size": 17470
        },
        {
          "path": "cli-tool/components/commands/project-management",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/commands/project-management/add-package.md",
          "type": "blob",
          "size": 3911
        },
        {
          "path": "cli-tool/components/commands/project-management/add-to-changelog.md",
          "type": "blob",
          "size": 1255
        },
        {
          "path": "cli-tool/components/commands/project-management/create-feature.md",
          "type": "blob",
          "size": 4717
        },
        {
          "path": "cli-tool/components/commands/project-management/create-jtbd.md",
          "type": "blob",
          "size": 1544
        },
        {
          "path": "cli-tool/components/commands/project-management/create-prd.md",
          "type": "blob",
          "size": 1507
        },
        {
          "path": "cli-tool/components/commands/project-management/create-prp.md",
          "type": "blob",
          "size": 1597
        },
        {
          "path": "cli-tool/components/commands/project-management/init-project.md",
          "type": "blob",
          "size": 3716
        },
        {
          "path": "cli-tool/components/commands/project-management/milestone-tracker.md",
          "type": "blob",
          "size": 1541
        },
        {
          "path": "cli-tool/components/commands/project-management/pac-configure.md",
          "type": "blob",
          "size": 1396
        },
        {
          "path": "cli-tool/components/commands/project-management/pac-create-epic.md",
          "type": "blob",
          "size": 1510
        },
        {
          "path": "cli-tool/components/commands/project-management/pac-create-ticket.md",
          "type": "blob",
          "size": 1577
        },
        {
          "path": "cli-tool/components/commands/project-management/pac-update-status.md",
          "type": "blob",
          "size": 1535
        },
        {
          "path": "cli-tool/components/commands/project-management/pac-validate.md",
          "type": "blob",
          "size": 1501
        },
        {
          "path": "cli-tool/components/commands/project-management/project-health-check.md",
          "type": "blob",
          "size": 1881
        },
        {
          "path": "cli-tool/components/commands/project-management/project-timeline-simulator.md",
          "type": "blob",
          "size": 1606
        },
        {
          "path": "cli-tool/components/commands/project-management/project-to-linear.md",
          "type": "blob",
          "size": 1499
        },
        {
          "path": "cli-tool/components/commands/project-management/release.md",
          "type": "blob",
          "size": 1538
        },
        {
          "path": "cli-tool/components/commands/project-management/todo.md",
          "type": "blob",
          "size": 3068
        },
        {
          "path": "cli-tool/components/commands/security",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/commands/security/add-authentication-system.md",
          "type": "blob",
          "size": 1566
        },
        {
          "path": "cli-tool/components/commands/security/dependency-audit.md",
          "type": "blob",
          "size": 1496
        },
        {
          "path": "cli-tool/components/commands/security/penetration-test.md",
          "type": "blob",
          "size": 1878
        },
        {
          "path": "cli-tool/components/commands/security/secrets-scanner.md",
          "type": "blob",
          "size": 1637
        },
        {
          "path": "cli-tool/components/commands/security/security-audit.md",
          "type": "blob",
          "size": 3026
        },
        {
          "path": "cli-tool/components/commands/security/security-hardening.md",
          "type": "blob",
          "size": 1541
        },
        {
          "path": "cli-tool/components/commands/setup",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/commands/setup/create-database-migrations.md",
          "type": "blob",
          "size": 1636
        },
        {
          "path": "cli-tool/components/commands/setup/design-database-schema.md",
          "type": "blob",
          "size": 1719
        },
        {
          "path": "cli-tool/components/commands/setup/design-rest-api.md",
          "type": "blob",
          "size": 1793
        },
        {
          "path": "cli-tool/components/commands/setup/implement-graphql-api.md",
          "type": "blob",
          "size": 1821
        },
        {
          "path": "cli-tool/components/commands/setup/migrate-to-typescript.md",
          "type": "blob",
          "size": 1869
        },
        {
          "path": "cli-tool/components/commands/setup/setup-ci-cd-pipeline.md",
          "type": "blob",
          "size": 1870
        },
        {
          "path": "cli-tool/components/commands/setup/setup-development-environment.md",
          "type": "blob",
          "size": 1855
        },
        {
          "path": "cli-tool/components/commands/setup/setup-docker-containers.md",
          "type": "blob",
          "size": 1853
        },
        {
          "path": "cli-tool/components/commands/setup/setup-formatting.md",
          "type": "blob",
          "size": 1841
        },
        {
          "path": "cli-tool/components/commands/setup/setup-linting.md",
          "type": "blob",
          "size": 1919
        },
        {
          "path": "cli-tool/components/commands/setup/setup-monitoring-observability.md",
          "type": "blob",
          "size": 1980
        },
        {
          "path": "cli-tool/components/commands/setup/setup-monorepo.md",
          "type": "blob",
          "size": 1942
        },
        {
          "path": "cli-tool/components/commands/setup/setup-rate-limiting.md",
          "type": "blob",
          "size": 2034
        },
        {
          "path": "cli-tool/components/commands/setup/update-dependencies.md",
          "type": "blob",
          "size": 1907
        },
        {
          "path": "cli-tool/components/commands/simulation",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/commands/simulation/business-scenario-explorer.md",
          "type": "blob",
          "size": 1904
        },
        {
          "path": "cli-tool/components/commands/simulation/constraint-modeler.md",
          "type": "blob",
          "size": 1854
        },
        {
          "path": "cli-tool/components/commands/simulation/decision-tree-explorer.md",
          "type": "blob",
          "size": 1983
        },
        {
          "path": "cli-tool/components/commands/simulation/digital-twin-creator.md",
          "type": "blob",
          "size": 2000
        },
        {
          "path": "cli-tool/components/commands/simulation/future-scenario-generator.md",
          "type": "blob",
          "size": 2066
        },
        {
          "path": "cli-tool/components/commands/simulation/market-response-modeler.md",
          "type": "blob",
          "size": 2175
        },
        {
          "path": "cli-tool/components/commands/simulation/monte-carlo-simulator.md",
          "type": "blob",
          "size": 2167
        },
        {
          "path": "cli-tool/components/commands/simulation/simulation-calibrator.md",
          "type": "blob",
          "size": 2076
        },
        {
          "path": "cli-tool/components/commands/simulation/system-dynamics-modeler.md",
          "type": "blob",
          "size": 2167
        },
        {
          "path": "cli-tool/components/commands/simulation/timeline-compressor.md",
          "type": "blob",
          "size": 2259
        },
        {
          "path": "cli-tool/components/commands/svelte",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/commands/svelte/svelte-a11y.md",
          "type": "blob",
          "size": 2552
        },
        {
          "path": "cli-tool/components/commands/svelte/svelte-component.md",
          "type": "blob",
          "size": 2215
        },
        {
          "path": "cli-tool/components/commands/svelte/svelte-debug.md",
          "type": "blob",
          "size": 1681
        },
        {
          "path": "cli-tool/components/commands/svelte/svelte-migrate.md",
          "type": "blob",
          "size": 1985
        },
        {
          "path": "cli-tool/components/commands/svelte/svelte-optimize.md",
          "type": "blob",
          "size": 2563
        },
        {
          "path": "cli-tool/components/commands/svelte/svelte-scaffold.md",
          "type": "blob",
          "size": 2337
        },
        {
          "path": "cli-tool/components/commands/svelte/svelte-storybook-migrate.md",
          "type": "blob",
          "size": 4372
        },
        {
          "path": "cli-tool/components/commands/svelte/svelte-storybook-mock.md",
          "type": "blob",
          "size": 5391
        },
        {
          "path": "cli-tool/components/commands/svelte/svelte-storybook-setup.md",
          "type": "blob",
          "size": 2852
        },
        {
          "path": "cli-tool/components/commands/svelte/svelte-storybook-story.md",
          "type": "blob",
          "size": 3552
        },
        {
          "path": "cli-tool/components/commands/svelte/svelte-storybook-troubleshoot.md",
          "type": "blob",
          "size": 4425
        },
        {
          "path": "cli-tool/components/commands/svelte/svelte-storybook.md",
          "type": "blob",
          "size": 1529
        },
        {
          "path": "cli-tool/components/commands/svelte/svelte-test-coverage.md",
          "type": "blob",
          "size": 1966
        },
        {
          "path": "cli-tool/components/commands/svelte/svelte-test-fix.md",
          "type": "blob",
          "size": 2302
        },
        {
          "path": "cli-tool/components/commands/svelte/svelte-test-setup.md",
          "type": "blob",
          "size": 2274
        },
        {
          "path": "cli-tool/components/commands/svelte/svelte-test.md",
          "type": "blob",
          "size": 1782
        },
        {
          "path": "cli-tool/components/commands/sync",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/commands/sync/bidirectional-sync.md",
          "type": "blob",
          "size": 1940
        },
        {
          "path": "cli-tool/components/commands/sync/bulk-import-issues.md",
          "type": "blob",
          "size": 2093
        },
        {
          "path": "cli-tool/components/commands/sync/cross-reference-manager.md",
          "type": "blob",
          "size": 2085
        },
        {
          "path": "cli-tool/components/commands/sync/issue-to-linear-task.md",
          "type": "blob",
          "size": 2079
        },
        {
          "path": "cli-tool/components/commands/sync/linear-task-to-issue.md",
          "type": "blob",
          "size": 2106
        },
        {
          "path": "cli-tool/components/commands/sync/sync-automation-setup.md",
          "type": "blob",
          "size": 2159
        },
        {
          "path": "cli-tool/components/commands/sync/sync-conflict-resolver.md",
          "type": "blob",
          "size": 2172
        },
        {
          "path": "cli-tool/components/commands/sync/sync-health-monitor.md",
          "type": "blob",
          "size": 2150
        },
        {
          "path": "cli-tool/components/commands/sync/sync-issues-to-linear.md",
          "type": "blob",
          "size": 2075
        },
        {
          "path": "cli-tool/components/commands/sync/sync-linear-to-issues.md",
          "type": "blob",
          "size": 1972
        },
        {
          "path": "cli-tool/components/commands/sync/sync-migration-assistant.md",
          "type": "blob",
          "size": 2178
        },
        {
          "path": "cli-tool/components/commands/sync/sync-pr-to-task.md",
          "type": "blob",
          "size": 2013
        },
        {
          "path": "cli-tool/components/commands/sync/sync-status.md",
          "type": "blob",
          "size": 10882
        },
        {
          "path": "cli-tool/components/commands/sync/task-from-pr.md",
          "type": "blob",
          "size": 2091
        },
        {
          "path": "cli-tool/components/commands/team",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/commands/team/architecture-review.md",
          "type": "blob",
          "size": 2449
        },
        {
          "path": "cli-tool/components/commands/team/decision-quality-analyzer.md",
          "type": "blob",
          "size": 2237
        },
        {
          "path": "cli-tool/components/commands/team/dependency-mapper.md",
          "type": "blob",
          "size": 2320
        },
        {
          "path": "cli-tool/components/commands/team/estimate-assistant.md",
          "type": "blob",
          "size": 2395
        },
        {
          "path": "cli-tool/components/commands/team/issue-triage.md",
          "type": "blob",
          "size": 2135
        },
        {
          "path": "cli-tool/components/commands/team/memory-spring-cleaning.md",
          "type": "blob",
          "size": 2275
        },
        {
          "path": "cli-tool/components/commands/team/migration-assistant.md",
          "type": "blob",
          "size": 2201
        },
        {
          "path": "cli-tool/components/commands/team/retrospective-analyzer.md",
          "type": "blob",
          "size": 2265
        },
        {
          "path": "cli-tool/components/commands/team/session-learning-capture.md",
          "type": "blob",
          "size": 2338
        },
        {
          "path": "cli-tool/components/commands/team/sprint-planning.md",
          "type": "blob",
          "size": 4813
        },
        {
          "path": "cli-tool/components/commands/team/standup-report.md",
          "type": "blob",
          "size": 2170
        },
        {
          "path": "cli-tool/components/commands/team/team-knowledge-mapper.md",
          "type": "blob",
          "size": 2402
        },
        {
          "path": "cli-tool/components/commands/team/team-velocity-tracker.md",
          "type": "blob",
          "size": 2415
        },
        {
          "path": "cli-tool/components/commands/team/team-workload-balancer.md",
          "type": "blob",
          "size": 2376
        },
        {
          "path": "cli-tool/components/commands/testing",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/commands/testing/add-mutation-testing.md",
          "type": "blob",
          "size": 2570
        },
        {
          "path": "cli-tool/components/commands/testing/add-property-based-testing.md",
          "type": "blob",
          "size": 2429
        },
        {
          "path": "cli-tool/components/commands/testing/e2e-setup.md",
          "type": "blob",
          "size": 2304
        },
        {
          "path": "cli-tool/components/commands/testing/generate-test-cases.md",
          "type": "blob",
          "size": 2347
        },
        {
          "path": "cli-tool/components/commands/testing/generate-tests.md",
          "type": "blob",
          "size": 2689
        },
        {
          "path": "cli-tool/components/commands/testing/setup-comprehensive-testing.md",
          "type": "blob",
          "size": 2380
        },
        {
          "path": "cli-tool/components/commands/testing/setup-load-testing.md",
          "type": "blob",
          "size": 2435
        },
        {
          "path": "cli-tool/components/commands/testing/setup-visual-testing.md",
          "type": "blob",
          "size": 2455
        },
        {
          "path": "cli-tool/components/commands/testing/test-automation-orchestrator.md",
          "type": "blob",
          "size": 2444
        },
        {
          "path": "cli-tool/components/commands/testing/test-changelog-automation.md",
          "type": "blob",
          "size": 2320
        },
        {
          "path": "cli-tool/components/commands/testing/test-coverage.md",
          "type": "blob",
          "size": 2446
        },
        {
          "path": "cli-tool/components/commands/testing/test-quality-analyzer.md",
          "type": "blob",
          "size": 2354
        },
        {
          "path": "cli-tool/components/commands/testing/testing_plan_integration.md",
          "type": "blob",
          "size": 2342
        },
        {
          "path": "cli-tool/components/commands/testing/write-tests.md",
          "type": "blob",
          "size": 2245
        },
        {
          "path": "cli-tool/components/commands/utilities",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/commands/utilities/all-tools.md",
          "type": "blob",
          "size": 1064
        },
        {
          "path": "cli-tool/components/commands/utilities/architecture-scenario-explorer.md",
          "type": "blob",
          "size": 15652
        },
        {
          "path": "cli-tool/components/commands/utilities/check-file.md",
          "type": "blob",
          "size": 1727
        },
        {
          "path": "cli-tool/components/commands/utilities/clean-branches.md",
          "type": "blob",
          "size": 7366
        },
        {
          "path": "cli-tool/components/commands/utilities/clean.md",
          "type": "blob",
          "size": 68
        },
        {
          "path": "cli-tool/components/commands/utilities/code-permutation-tester.md",
          "type": "blob",
          "size": 13397
        },
        {
          "path": "cli-tool/components/commands/utilities/code-review.md",
          "type": "blob",
          "size": 2551
        },
        {
          "path": "cli-tool/components/commands/utilities/code-to-task.md",
          "type": "blob",
          "size": 16329
        },
        {
          "path": "cli-tool/components/commands/utilities/context-prime.md",
          "type": "blob",
          "size": 138
        },
        {
          "path": "cli-tool/components/commands/utilities/debug-error.md",
          "type": "blob",
          "size": 4692
        },
        {
          "path": "cli-tool/components/commands/utilities/directory-deep-dive.md",
          "type": "blob",
          "size": 1210
        },
        {
          "path": "cli-tool/components/commands/utilities/explain-code.md",
          "type": "blob",
          "size": 6671
        },
        {
          "path": "cli-tool/components/commands/utilities/fix-issue.md",
          "type": "blob",
          "size": 3237
        },
        {
          "path": "cli-tool/components/commands/utilities/generate-linear-worklog.md",
          "type": "blob",
          "size": 4238
        },
        {
          "path": "cli-tool/components/commands/utilities/git-status.md",
          "type": "blob",
          "size": 1343
        },
        {
          "path": "cli-tool/components/commands/utilities/initref.md",
          "type": "blob",
          "size": 454
        },
        {
          "path": "cli-tool/components/commands/utilities/prime.md",
          "type": "blob",
          "size": 1593
        },
        {
          "path": "cli-tool/components/commands/utilities/refactor-code.md",
          "type": "blob",
          "size": 4411
        },
        {
          "path": "cli-tool/components/commands/utilities/ultra-think.md",
          "type": "blob",
          "size": 4817
        },
        {
          "path": "cli-tool/components/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/hooks/HOOK_PATTERNS_COMPRESSED.json",
          "type": "blob",
          "size": 3484
        },
        {
          "path": "cli-tool/components/hooks/automation",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/hooks/automation/agents-md-loader.json",
          "type": "blob",
          "size": 802
        },
        {
          "path": "cli-tool/components/hooks/automation/build-on-change.json",
          "type": "blob",
          "size": 728
        },
        {
          "path": "cli-tool/components/hooks/automation/dependency-checker.json",
          "type": "blob",
          "size": 1122
        },
        {
          "path": "cli-tool/components/hooks/automation/deployment-health-monitor.json",
          "type": "blob",
          "size": 5822
        },
        {
          "path": "cli-tool/components/hooks/automation/discord-detailed-notifications.json",
          "type": "blob",
          "size": 2586
        },
        {
          "path": "cli-tool/components/hooks/automation/discord-error-notifications.json",
          "type": "blob",
          "size": 2328
        },
        {
          "path": "cli-tool/components/hooks/automation/discord-notifications.json",
          "type": "blob",
          "size": 1329
        },
        {
          "path": "cli-tool/components/hooks/automation/simple-notifications.json",
          "type": "blob",
          "size": 588
        },
        {
          "path": "cli-tool/components/hooks/automation/slack-detailed-notifications.json",
          "type": "blob",
          "size": 2511
        },
        {
          "path": "cli-tool/components/hooks/automation/slack-error-notifications.json",
          "type": "blob",
          "size": 2265
        },
        {
          "path": "cli-tool/components/hooks/automation/slack-notifications.json",
          "type": "blob",
          "size": 1287
        },
        {
          "path": "cli-tool/components/hooks/automation/telegram-detailed-notifications.json",
          "type": "blob",
          "size": 2185
        },
        {
          "path": "cli-tool/components/hooks/automation/telegram-error-notifications.json",
          "type": "blob",
          "size": 2024
        },
        {
          "path": "cli-tool/components/hooks/automation/telegram-notifications.json",
          "type": "blob",
          "size": 1593
        },
        {
          "path": "cli-tool/components/hooks/automation/vercel-auto-deploy.json",
          "type": "blob",
          "size": 2723
        },
        {
          "path": "cli-tool/components/hooks/automation/vercel-environment-sync.json",
          "type": "blob",
          "size": 4760
        },
        {
          "path": "cli-tool/components/hooks/development-tools",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/hooks/development-tools/change-tracker.json",
          "type": "blob",
          "size": 710
        },
        {
          "path": "cli-tool/components/hooks/development-tools/command-logger.json",
          "type": "blob",
          "size": 447
        },
        {
          "path": "cli-tool/components/hooks/development-tools/file-backup.json",
          "type": "blob",
          "size": 560
        },
        {
          "path": "cli-tool/components/hooks/development-tools/lint-on-save.json",
          "type": "blob",
          "size": 835
        },
        {
          "path": "cli-tool/components/hooks/development-tools/nextjs-code-quality-enforcer.json",
          "type": "blob",
          "size": 4452
        },
        {
          "path": "cli-tool/components/hooks/development-tools/smart-formatting.json",
          "type": "blob",
          "size": 1175
        },
        {
          "path": "cli-tool/components/hooks/git-workflow",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/hooks/git-workflow/auto-git-add.json",
          "type": "blob",
          "size": 517
        },
        {
          "path": "cli-tool/components/hooks/git-workflow/smart-commit.json",
          "type": "blob",
          "size": 1389
        },
        {
          "path": "cli-tool/components/hooks/git",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/hooks/git/conventional-commits.json",
          "type": "blob",
          "size": 598
        },
        {
          "path": "cli-tool/components/hooks/git/conventional-commits.py",
          "type": "blob",
          "size": 2534
        },
        {
          "path": "cli-tool/components/hooks/git/prevent-direct-push.json",
          "type": "blob",
          "size": 553
        },
        {
          "path": "cli-tool/components/hooks/git/prevent-direct-push.py",
          "type": "blob",
          "size": 2163
        },
        {
          "path": "cli-tool/components/hooks/git/validate-branch-name.json",
          "type": "blob",
          "size": 491
        },
        {
          "path": "cli-tool/components/hooks/git/validate-branch-name.py",
          "type": "blob",
          "size": 2518
        },
        {
          "path": "cli-tool/components/hooks/performance",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/hooks/performance/performance-budget-guard.json",
          "type": "blob",
          "size": 4551
        },
        {
          "path": "cli-tool/components/hooks/performance/performance-monitor.json",
          "type": "blob",
          "size": 957
        },
        {
          "path": "cli-tool/components/hooks/post-tool",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/hooks/post-tool/format-javascript-files.json",
          "type": "blob",
          "size": 713
        },
        {
          "path": "cli-tool/components/hooks/post-tool/format-python-files.json",
          "type": "blob",
          "size": 672
        },
        {
          "path": "cli-tool/components/hooks/post-tool/git-add-changes.json",
          "type": "blob",
          "size": 831
        },
        {
          "path": "cli-tool/components/hooks/post-tool/run-tests-after-changes.json",
          "type": "blob",
          "size": 697
        },
        {
          "path": "cli-tool/components/hooks/pre-tool",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/hooks/pre-tool/backup-before-edit.json",
          "type": "blob",
          "size": 706
        },
        {
          "path": "cli-tool/components/hooks/pre-tool/notify-before-bash.json",
          "type": "blob",
          "size": 573
        },
        {
          "path": "cli-tool/components/hooks/pre-tool/update-search-year.json",
          "type": "blob",
          "size": 1168
        },
        {
          "path": "cli-tool/components/hooks/security",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/hooks/security/file-protection.json",
          "type": "blob",
          "size": 698
        },
        {
          "path": "cli-tool/components/hooks/security/security-scanner.json",
          "type": "blob",
          "size": 955
        },
        {
          "path": "cli-tool/components/hooks/testing",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/hooks/testing/test-runner.json",
          "type": "blob",
          "size": 909
        },
        {
          "path": "cli-tool/components/mcps",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/mcps/browser_automation",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/mcps/browser_automation/browser-use-mcp-server.json",
          "type": "blob",
          "size": 416
        },
        {
          "path": "cli-tool/components/mcps/browser_automation/browsermcp.json",
          "type": "blob",
          "size": 271
        },
        {
          "path": "cli-tool/components/mcps/browser_automation/mcp-server-browserbase.json",
          "type": "blob",
          "size": 510
        },
        {
          "path": "cli-tool/components/mcps/browser_automation/mcp-server-playwright.json",
          "type": "blob",
          "size": 274
        },
        {
          "path": "cli-tool/components/mcps/browser_automation/playwright-mcp-server.json",
          "type": "blob",
          "size": 450
        },
        {
          "path": "cli-tool/components/mcps/browser_automation/playwright-mcp.json",
          "type": "blob",
          "size": 422
        },
        {
          "path": "cli-tool/components/mcps/database",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/mcps/database/mysql-integration.json",
          "type": "blob",
          "size": 348
        },
        {
          "path": "cli-tool/components/mcps/database/neon.json",
          "type": "blob",
          "size": 222
        },
        {
          "path": "cli-tool/components/mcps/database/postgresql-integration.json",
          "type": "blob",
          "size": 389
        },
        {
          "path": "cli-tool/components/mcps/database/supabase.json",
          "type": "blob",
          "size": 374
        },
        {
          "path": "cli-tool/components/mcps/deepgraph",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/mcps/deepgraph/deepgraph-nextjs.json",
          "type": "blob",
          "size": 342
        },
        {
          "path": "cli-tool/components/mcps/deepgraph/deepgraph-react.json",
          "type": "blob",
          "size": 319
        },
        {
          "path": "cli-tool/components/mcps/deepgraph/deepgraph-typescript.json",
          "type": "blob",
          "size": 330
        },
        {
          "path": "cli-tool/components/mcps/deepgraph/deepgraph-vue.json",
          "type": "blob",
          "size": 314
        },
        {
          "path": "cli-tool/components/mcps/deepresearch",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/mcps/deepresearch/mcp-server-nia.json",
          "type": "blob",
          "size": 357
        },
        {
          "path": "cli-tool/components/mcps/devtools",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/mcps/devtools/azure-kubernetes-service.json",
          "type": "blob",
          "size": 548
        },
        {
          "path": "cli-tool/components/mcps/devtools/box.json",
          "type": "blob",
          "size": 583
        },
        {
          "path": "cli-tool/components/mcps/devtools/chrome-devtools.json",
          "type": "blob",
          "size": 305
        },
        {
          "path": "cli-tool/components/mcps/devtools/circleci.json",
          "type": "blob",
          "size": 445
        },
        {
          "path": "cli-tool/components/mcps/devtools/codacy.json",
          "type": "blob",
          "size": 317
        },
        {
          "path": "cli-tool/components/mcps/devtools/context7.json",
          "type": "blob",
          "size": 295
        },
        {
          "path": "cli-tool/components/mcps/devtools/dynatrace.json",
          "type": "blob",
          "size": 353
        },
        {
          "path": "cli-tool/components/mcps/devtools/elasticsearch.json",
          "type": "blob",
          "size": 528
        },
        {
          "path": "cli-tool/components/mcps/devtools/figma-dev-mode.json",
          "type": "blob",
          "size": 320
        },
        {
          "path": "cli-tool/components/mcps/devtools/firecrawl.json",
          "type": "blob",
          "size": 323
        },
        {
          "path": "cli-tool/components/mcps/devtools/firefly-mcp.json",
          "type": "blob",
          "size": 428
        },
        {
          "path": "cli-tool/components/mcps/devtools/grafana.json",
          "type": "blob",
          "size": 511
        },
        {
          "path": "cli-tool/components/mcps/devtools/huggingface.json",
          "type": "blob",
          "size": 292
        },
        {
          "path": "cli-tool/components/mcps/devtools/imagesorcery.json",
          "type": "blob",
          "size": 497
        },
        {
          "path": "cli-tool/components/mcps/devtools/ios-simulator-mcp.json",
          "type": "blob",
          "size": 291
        },
        {
          "path": "cli-tool/components/mcps/devtools/jfrog.json",
          "type": "blob",
          "size": 225
        },
        {
          "path": "cli-tool/components/mcps/devtools/just-mcp.json",
          "type": "blob",
          "size": 304
        },
        {
          "path": "cli-tool/components/mcps/devtools/launchdarkly.json",
          "type": "blob",
          "size": 508
        },
        {
          "path": "cli-tool/components/mcps/devtools/leetcode.json",
          "type": "blob",
          "size": 259
        },
        {
          "path": "cli-tool/components/mcps/devtools/logfire.json",
          "type": "blob",
          "size": 228
        },
        {
          "path": "cli-tool/components/mcps/devtools/markitdown.json",
          "type": "blob",
          "size": 279
        },
        {
          "path": "cli-tool/components/mcps/devtools/mcp-server-atlassian-bitbucket.json",
          "type": "blob",
          "size": 396
        },
        {
          "path": "cli-tool/components/mcps/devtools/mcp-server-trello.json",
          "type": "blob",
          "size": 221
        },
        {
          "path": "cli-tool/components/mcps/devtools/microsoft-clarity.json",
          "type": "blob",
          "size": 209
        },
        {
          "path": "cli-tool/components/mcps/devtools/microsoft-dev-box.json",
          "type": "blob",
          "size": 288
        },
        {
          "path": "cli-tool/components/mcps/devtools/mongodb.json",
          "type": "blob",
          "size": 351
        },
        {
          "path": "cli-tool/components/mcps/devtools/postman.json",
          "type": "blob",
          "size": 485
        },
        {
          "path": "cli-tool/components/mcps/devtools/pulumi.json",
          "type": "blob",
          "size": 387
        },
        {
          "path": "cli-tool/components/mcps/devtools/sentry.json",
          "type": "blob",
          "size": 305
        },
        {
          "path": "cli-tool/components/mcps/devtools/serena.json",
          "type": "blob",
          "size": 286
        },
        {
          "path": "cli-tool/components/mcps/devtools/stripe.json",
          "type": "blob",
          "size": 302
        },
        {
          "path": "cli-tool/components/mcps/devtools/terraform.json",
          "type": "blob",
          "size": 452
        },
        {
          "path": "cli-tool/components/mcps/devtools/testsprite.json",
          "type": "blob",
          "size": 307
        },
        {
          "path": "cli-tool/components/mcps/devtools/webflow.json",
          "type": "blob",
          "size": 181
        },
        {
          "path": "cli-tool/components/mcps/filesystem",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/mcps/filesystem/filesystem-access.json",
          "type": "blob",
          "size": 323
        },
        {
          "path": "cli-tool/components/mcps/integration",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/mcps/integration/github-integration.json",
          "type": "blob",
          "size": 363
        },
        {
          "path": "cli-tool/components/mcps/integration/memory-integration.json",
          "type": "blob",
          "size": 286
        },
        {
          "path": "cli-tool/components/mcps/marketing",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/mcps/marketing/facebook-ads-mcp-server.json",
          "type": "blob",
          "size": 388
        },
        {
          "path": "cli-tool/components/mcps/marketing/google-ads-mcp-server.json",
          "type": "blob",
          "size": 329
        },
        {
          "path": "cli-tool/components/mcps/productivity",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/mcps/productivity/monday.json",
          "type": "blob",
          "size": 490
        },
        {
          "path": "cli-tool/components/mcps/productivity/notion.json",
          "type": "blob",
          "size": 244
        },
        {
          "path": "cli-tool/components/mcps/web",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/mcps/web/web-fetch.json",
          "type": "blob",
          "size": 287
        },
        {
          "path": "cli-tool/components/sandbox",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/sandbox/README.md",
          "type": "blob",
          "size": 9969
        },
        {
          "path": "cli-tool/components/sandbox/cloudflare",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/sandbox/cloudflare/.dev.vars.example",
          "type": "blob",
          "size": 356
        },
        {
          "path": "cli-tool/components/sandbox/cloudflare/.gitignore",
          "type": "blob",
          "size": 394
        },
        {
          "path": "cli-tool/components/sandbox/cloudflare/IMPLEMENTATION_SUMMARY.md",
          "type": "blob",
          "size": 11334
        },
        {
          "path": "cli-tool/components/sandbox/cloudflare/QUICKSTART.md",
          "type": "blob",
          "size": 5755
        },
        {
          "path": "cli-tool/components/sandbox/cloudflare/README.md",
          "type": "blob",
          "size": 7242
        },
        {
          "path": "cli-tool/components/sandbox/cloudflare/SANDBOX_DEBUGGING.md",
          "type": "blob",
          "size": 10780
        },
        {
          "path": "cli-tool/components/sandbox/cloudflare/claude-code-sandbox.md",
          "type": "blob",
          "size": 11102
        },
        {
          "path": "cli-tool/components/sandbox/cloudflare/launcher.ts",
          "type": "blob",
          "size": 15512
        },
        {
          "path": "cli-tool/components/sandbox/cloudflare/monitor.ts",
          "type": "blob",
          "size": 12295
        },
        {
          "path": "cli-tool/components/sandbox/cloudflare/package.json",
          "type": "blob",
          "size": 1365
        },
        {
          "path": "cli-tool/components/sandbox/cloudflare/src",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/sandbox/cloudflare/src/index.ts",
          "type": "blob",
          "size": 7026
        },
        {
          "path": "cli-tool/components/sandbox/cloudflare/tsconfig.json",
          "type": "blob",
          "size": 636
        },
        {
          "path": "cli-tool/components/sandbox/cloudflare/wrangler.toml",
          "type": "blob",
          "size": 1251
        },
        {
          "path": "cli-tool/components/sandbox/e2b",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/sandbox/e2b/.env.example",
          "type": "blob",
          "size": 315
        },
        {
          "path": "cli-tool/components/sandbox/e2b/SANDBOX_DEBUGGING.md",
          "type": "blob",
          "size": 5891
        },
        {
          "path": "cli-tool/components/sandbox/e2b/claude-code-sandbox.md",
          "type": "blob",
          "size": 3679
        },
        {
          "path": "cli-tool/components/sandbox/e2b/e2b-launcher.py",
          "type": "blob",
          "size": 18739
        },
        {
          "path": "cli-tool/components/sandbox/e2b/e2b-monitor.py",
          "type": "blob",
          "size": 8714
        },
        {
          "path": "cli-tool/components/sandbox/e2b/requirements.txt",
          "type": "blob",
          "size": 10
        },
        {
          "path": "cli-tool/components/settings",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/settings/api",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/settings/api/bedrock-configuration.json",
          "type": "blob",
          "size": 330
        },
        {
          "path": "cli-tool/components/settings/api/corporate-proxy.json",
          "type": "blob",
          "size": 346
        },
        {
          "path": "cli-tool/components/settings/api/custom-headers.json",
          "type": "blob",
          "size": 360
        },
        {
          "path": "cli-tool/components/settings/api/vertex-configuration.json",
          "type": "blob",
          "size": 981
        },
        {
          "path": "cli-tool/components/settings/authentication",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/settings/authentication/api-key-helper.json",
          "type": "blob",
          "size": 379
        },
        {
          "path": "cli-tool/components/settings/authentication/force-claudeai-login.json",
          "type": "blob",
          "size": 277
        },
        {
          "path": "cli-tool/components/settings/authentication/force-console-login.json",
          "type": "blob",
          "size": 283
        },
        {
          "path": "cli-tool/components/settings/cleanup",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/settings/cleanup/retention-7-days.json",
          "type": "blob",
          "size": 101
        },
        {
          "path": "cli-tool/components/settings/cleanup/retention-90-days.json",
          "type": "blob",
          "size": 112
        },
        {
          "path": "cli-tool/components/settings/environment",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/settings/environment/bash-timeouts.json",
          "type": "blob",
          "size": 350
        },
        {
          "path": "cli-tool/components/settings/environment/development-utils.json",
          "type": "blob",
          "size": 380
        },
        {
          "path": "cli-tool/components/settings/environment/performance-optimization.json",
          "type": "blob",
          "size": 385
        },
        {
          "path": "cli-tool/components/settings/environment/privacy-focused.json",
          "type": "blob",
          "size": 418
        },
        {
          "path": "cli-tool/components/settings/git",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/settings/git/git-flow-settings.json",
          "type": "blob",
          "size": 8015
        },
        {
          "path": "cli-tool/components/settings/global",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/settings/global/aws-credentials.json",
          "type": "blob",
          "size": 326
        },
        {
          "path": "cli-tool/components/settings/global/custom-model.json",
          "type": "blob",
          "size": 313
        },
        {
          "path": "cli-tool/components/settings/global/git-commit-settings.json",
          "type": "blob",
          "size": 253
        },
        {
          "path": "cli-tool/components/settings/mcp",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/settings/mcp/disable-risky-servers.json",
          "type": "blob",
          "size": 308
        },
        {
          "path": "cli-tool/components/settings/mcp/enable-all-project-servers.json",
          "type": "blob",
          "size": 283
        },
        {
          "path": "cli-tool/components/settings/mcp/enable-specific-servers.json",
          "type": "blob",
          "size": 313
        },
        {
          "path": "cli-tool/components/settings/mcp/mcp-timeouts.json",
          "type": "blob",
          "size": 331
        },
        {
          "path": "cli-tool/components/settings/model",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/settings/model/use-haiku.json",
          "type": "blob",
          "size": 136
        },
        {
          "path": "cli-tool/components/settings/model/use-sonnet.json",
          "type": "blob",
          "size": 117
        },
        {
          "path": "cli-tool/components/settings/permissions",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/settings/permissions/additional-directories.json",
          "type": "blob",
          "size": 376
        },
        {
          "path": "cli-tool/components/settings/permissions/allow-git-operations.json",
          "type": "blob",
          "size": 465
        },
        {
          "path": "cli-tool/components/settings/permissions/allow-npm-commands.json",
          "type": "blob",
          "size": 244
        },
        {
          "path": "cli-tool/components/settings/permissions/deny-sensitive-files.json",
          "type": "blob",
          "size": 251
        },
        {
          "path": "cli-tool/components/settings/permissions/development-mode.json",
          "type": "blob",
          "size": 810
        },
        {
          "path": "cli-tool/components/settings/permissions/read-only-mode.json",
          "type": "blob",
          "size": 432
        },
        {
          "path": "cli-tool/components/settings/statusline",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/settings/statusline/asset-pipeline-controller-statusline.json",
          "type": "blob",
          "size": 1970
        },
        {
          "path": "cli-tool/components/settings/statusline/bug-circus-statusline.json",
          "type": "blob",
          "size": 1216
        },
        {
          "path": "cli-tool/components/settings/statusline/code-casino-statusline.json",
          "type": "blob",
          "size": 1182
        },
        {
          "path": "cli-tool/components/settings/statusline/code-spaceship-statusline.json",
          "type": "blob",
          "size": 1376
        },
        {
          "path": "cli-tool/components/settings/statusline/colorful-statusline.json",
          "type": "blob",
          "size": 589
        },
        {
          "path": "cli-tool/components/settings/statusline/command-statusline.json",
          "type": "blob",
          "size": 390
        },
        {
          "path": "cli-tool/components/settings/statusline/context-monitor.json",
          "type": "blob",
          "size": 400
        },
        {
          "path": "cli-tool/components/settings/statusline/context-monitor.py",
          "type": "blob",
          "size": 8483
        },
        {
          "path": "cli-tool/components/settings/statusline/data-ocean-statusline.json",
          "type": "blob",
          "size": 1120
        },
        {
          "path": "cli-tool/components/settings/statusline/emotion-theater-statusline.json",
          "type": "blob",
          "size": 1100
        },
        {
          "path": "cli-tool/components/settings/statusline/game-performance-monitor-statusline.json",
          "type": "blob",
          "size": 2294
        },
        {
          "path": "cli-tool/components/settings/statusline/git-branch-statusline.json",
          "type": "blob",
          "size": 717
        },
        {
          "path": "cli-tool/components/settings/statusline/git-flow-status.json",
          "type": "blob",
          "size": 1762
        },
        {
          "path": "cli-tool/components/settings/statusline/minimal-statusline.json",
          "type": "blob",
          "size": 444
        },
        {
          "path": "cli-tool/components/settings/statusline/multiplatform-build-status-statusline.json",
          "type": "blob",
          "size": 2659
        },
        {
          "path": "cli-tool/components/settings/statusline/neon-database-dev.json",
          "type": "blob",
          "size": 3080
        },
        {
          "path": "cli-tool/components/settings/statusline/neon-database-resources.json",
          "type": "blob",
          "size": 3565
        },
        {
          "path": "cli-tool/components/settings/statusline/productivity-rainbow-statusline.json",
          "type": "blob",
          "size": 1053
        },
        {
          "path": "cli-tool/components/settings/statusline/programmer-tamagotchi-statusline.json",
          "type": "blob",
          "size": 1593
        },
        {
          "path": "cli-tool/components/settings/statusline/programming-fitness-tracker-statusline.json",
          "type": "blob",
          "size": 1191
        },
        {
          "path": "cli-tool/components/settings/statusline/project-info-statusline.json",
          "type": "blob",
          "size": 610
        },
        {
          "path": "cli-tool/components/settings/statusline/rpg-status-bar-statusline.json",
          "type": "blob",
          "size": 1353
        },
        {
          "path": "cli-tool/components/settings/statusline/time-statusline.json",
          "type": "blob",
          "size": 469
        },
        {
          "path": "cli-tool/components/settings/statusline/unity-project-dashboard-statusline.json",
          "type": "blob",
          "size": 2091
        },
        {
          "path": "cli-tool/components/settings/statusline/vercel-deployment-monitor.json",
          "type": "blob",
          "size": 1659
        },
        {
          "path": "cli-tool/components/settings/statusline/vercel-error-alert-system.json",
          "type": "blob",
          "size": 1844
        },
        {
          "path": "cli-tool/components/settings/statusline/vercel-multi-env-status.json",
          "type": "blob",
          "size": 1622
        },
        {
          "path": "cli-tool/components/settings/statusline/virtual-code-garden-statusline.json",
          "type": "blob",
          "size": 1233
        },
        {
          "path": "cli-tool/components/settings/statusline/zero-config-deployment-monitor.json",
          "type": "blob",
          "size": 2598
        },
        {
          "path": "cli-tool/components/settings/telemetry",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/settings/telemetry/custom-telemetry.json",
          "type": "blob",
          "size": 173
        },
        {
          "path": "cli-tool/components/settings/telemetry/disable-telemetry.json",
          "type": "blob",
          "size": 110
        },
        {
          "path": "cli-tool/components/settings/telemetry/enable-telemetry.json",
          "type": "blob",
          "size": 145
        },
        {
          "path": "cli-tool/components/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/ANTHROPIC_ATTRIBUTION.md",
          "type": "blob",
          "size": 3249
        },
        {
          "path": "cli-tool/components/skills/creative-design",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/creative-design/algorithmic-art",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/creative-design/algorithmic-art/LICENSE.txt",
          "type": "blob",
          "size": 11357
        },
        {
          "path": "cli-tool/components/skills/creative-design/algorithmic-art/SKILL.md",
          "type": "blob",
          "size": 19769
        },
        {
          "path": "cli-tool/components/skills/creative-design/algorithmic-art/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/creative-design/algorithmic-art/templates/generator_template.js",
          "type": "blob",
          "size": 7826
        },
        {
          "path": "cli-tool/components/skills/creative-design/algorithmic-art/templates/viewer.html",
          "type": "blob",
          "size": 20844
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/LICENSE.txt",
          "type": "blob",
          "size": 11357
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/SKILL.md",
          "type": "blob",
          "size": 11939
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/ArsenalSC-OFL.txt",
          "type": "blob",
          "size": 4373
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/ArsenalSC-Regular.ttf",
          "type": "blob",
          "size": 165848
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/BigShoulders-Bold.ttf",
          "type": "blob",
          "size": 94528
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/BigShoulders-OFL.txt",
          "type": "blob",
          "size": 4397
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/BigShoulders-Regular.ttf",
          "type": "blob",
          "size": 94396
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/Boldonse-OFL.txt",
          "type": "blob",
          "size": 4390
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/Boldonse-Regular.ttf",
          "type": "blob",
          "size": 77168
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/BricolageGrotesque-Bold.ttf",
          "type": "blob",
          "size": 90952
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/BricolageGrotesque-OFL.txt",
          "type": "blob",
          "size": 4403
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/BricolageGrotesque-Regular.ttf",
          "type": "blob",
          "size": 90920
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/CrimsonPro-Bold.ttf",
          "type": "blob",
          "size": 107352
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/CrimsonPro-Italic.ttf",
          "type": "blob",
          "size": 108828
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/CrimsonPro-OFL.txt",
          "type": "blob",
          "size": 4394
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/CrimsonPro-Regular.ttf",
          "type": "blob",
          "size": 106696
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/DMMono-OFL.txt",
          "type": "blob",
          "size": 4392
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/DMMono-Regular.ttf",
          "type": "blob",
          "size": 48852
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/EricaOne-OFL.txt",
          "type": "blob",
          "size": 4410
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/EricaOne-Regular.ttf",
          "type": "blob",
          "size": 24872
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/GeistMono-Bold.ttf",
          "type": "blob",
          "size": 78304
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/GeistMono-OFL.txt",
          "type": "blob",
          "size": 4388
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/GeistMono-Regular.ttf",
          "type": "blob",
          "size": 78232
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/Gloock-OFL.txt",
          "type": "blob",
          "size": 4381
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/Gloock-Regular.ttf",
          "type": "blob",
          "size": 95156
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/IBMPlexMono-Bold.ttf",
          "type": "blob",
          "size": 136008
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/IBMPlexMono-OFL.txt",
          "type": "blob",
          "size": 4363
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/IBMPlexMono-Regular.ttf",
          "type": "blob",
          "size": 133796
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/IBMPlexSerif-Bold.ttf",
          "type": "blob",
          "size": 161000
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/IBMPlexSerif-BoldItalic.ttf",
          "type": "blob",
          "size": 169840
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/IBMPlexSerif-Italic.ttf",
          "type": "blob",
          "size": 170004
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/IBMPlexSerif-Regular.ttf",
          "type": "blob",
          "size": 160380
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/InstrumentSans-Bold.ttf",
          "type": "blob",
          "size": 68084
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/InstrumentSans-BoldItalic.ttf",
          "type": "blob",
          "size": 70004
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/InstrumentSans-Italic.ttf",
          "type": "blob",
          "size": 69900
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/InstrumentSans-OFL.txt",
          "type": "blob",
          "size": 4403
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/InstrumentSans-Regular.ttf",
          "type": "blob",
          "size": 68028
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/InstrumentSerif-Italic.ttf",
          "type": "blob",
          "size": 70868
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/InstrumentSerif-Regular.ttf",
          "type": "blob",
          "size": 69312
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/Italiana-OFL.txt",
          "type": "blob",
          "size": 4394
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/Italiana-Regular.ttf",
          "type": "blob",
          "size": 27184
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/JetBrainsMono-Bold.ttf",
          "type": "blob",
          "size": 114828
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/JetBrainsMono-OFL.txt",
          "type": "blob",
          "size": 4399
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/JetBrainsMono-Regular.ttf",
          "type": "blob",
          "size": 114904
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/Jura-Light.ttf",
          "type": "blob",
          "size": 154308
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/Jura-Medium.ttf",
          "type": "blob",
          "size": 154488
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/Jura-OFL.txt",
          "type": "blob",
          "size": 4380
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/LibreBaskerville-OFL.txt",
          "type": "blob",
          "size": 4449
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/LibreBaskerville-Regular.ttf",
          "type": "blob",
          "size": 147584
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/Lora-Bold.ttf",
          "type": "blob",
          "size": 133828
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/Lora-BoldItalic.ttf",
          "type": "blob",
          "size": 140332
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/Lora-Italic.ttf",
          "type": "blob",
          "size": 139328
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/Lora-OFL.txt",
          "type": "blob",
          "size": 4423
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/Lora-Regular.ttf",
          "type": "blob",
          "size": 133888
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/NationalPark-Bold.ttf",
          "type": "blob",
          "size": 79208
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/NationalPark-OFL.txt",
          "type": "blob",
          "size": 4399
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/NationalPark-Regular.ttf",
          "type": "blob",
          "size": 76424
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/NothingYouCouldDo-OFL.txt",
          "type": "blob",
          "size": 4363
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/NothingYouCouldDo-Regular.ttf",
          "type": "blob",
          "size": 32020
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/Outfit-Bold.ttf",
          "type": "blob",
          "size": 55392
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/Outfit-OFL.txt",
          "type": "blob",
          "size": 4389
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/Outfit-Regular.ttf",
          "type": "blob",
          "size": 54912
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/PixelifySans-Medium.ttf",
          "type": "blob",
          "size": 51072
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/PixelifySans-OFL.txt",
          "type": "blob",
          "size": 4395
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/PoiretOne-OFL.txt",
          "type": "blob",
          "size": 4366
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/PoiretOne-Regular.ttf",
          "type": "blob",
          "size": 45244
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/RedHatMono-Bold.ttf",
          "type": "blob",
          "size": 34420
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/RedHatMono-OFL.txt",
          "type": "blob",
          "size": 4394
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/RedHatMono-Regular.ttf",
          "type": "blob",
          "size": 34488
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/Silkscreen-OFL.txt",
          "type": "blob",
          "size": 4394
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/Silkscreen-Regular.ttf",
          "type": "blob",
          "size": 31960
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/SmoochSans-Medium.ttf",
          "type": "blob",
          "size": 59704
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/SmoochSans-OFL.txt",
          "type": "blob",
          "size": 4396
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/Tektur-Medium.ttf",
          "type": "blob",
          "size": 76248
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/Tektur-OFL.txt",
          "type": "blob",
          "size": 4385
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/Tektur-Regular.ttf",
          "type": "blob",
          "size": 75604
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/WorkSans-Bold.ttf",
          "type": "blob",
          "size": 191304
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/WorkSans-BoldItalic.ttf",
          "type": "blob",
          "size": 175772
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/WorkSans-Italic.ttf",
          "type": "blob",
          "size": 174280
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/WorkSans-OFL.txt",
          "type": "blob",
          "size": 4397
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/WorkSans-Regular.ttf",
          "type": "blob",
          "size": 188916
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/YoungSerif-OFL.txt",
          "type": "blob",
          "size": 4398
        },
        {
          "path": "cli-tool/components/skills/creative-design/canvas-design/canvas-fonts/YoungSerif-Regular.ttf",
          "type": "blob",
          "size": 105136
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/LICENSE.txt",
          "type": "blob",
          "size": 11357
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/SKILL.md",
          "type": "blob",
          "size": 17142
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/core",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/core/color_palettes.py",
          "type": "blob",
          "size": 8724
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/core/easing.py",
          "type": "blob",
          "size": 6289
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/core/frame_composer.py",
          "type": "blob",
          "size": 14468
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/core/gif_builder.py",
          "type": "blob",
          "size": 9565
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/core/typography.py",
          "type": "blob",
          "size": 10761
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/core/validators.py",
          "type": "blob",
          "size": 8225
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/core/visual_effects.py",
          "type": "blob",
          "size": 14862
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/requirements.txt",
          "type": "blob",
          "size": 66
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/templates/bounce.py",
          "type": "blob",
          "size": 3055
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/templates/explode.py",
          "type": "blob",
          "size": 11259
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/templates/fade.py",
          "type": "blob",
          "size": 10143
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/templates/flip.py",
          "type": "blob",
          "size": 9458
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/templates/kaleidoscope.py",
          "type": "blob",
          "size": 6349
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/templates/morph.py",
          "type": "blob",
          "size": 11241
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/templates/move.py",
          "type": "blob",
          "size": 9395
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/templates/pulse.py",
          "type": "blob",
          "size": 8638
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/templates/shake.py",
          "type": "blob",
          "size": 3737
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/templates/slide.py",
          "type": "blob",
          "size": 9367
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/templates/spin.py",
          "type": "blob",
          "size": 9096
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/templates/wiggle.py",
          "type": "blob",
          "size": 10060
        },
        {
          "path": "cli-tool/components/skills/creative-design/slack-gif-creator/templates/zoom.py",
          "type": "blob",
          "size": 10111
        },
        {
          "path": "cli-tool/components/skills/creative-design/theme-factory",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/creative-design/theme-factory/LICENSE.txt",
          "type": "blob",
          "size": 11357
        },
        {
          "path": "cli-tool/components/skills/creative-design/theme-factory/SKILL.md",
          "type": "blob",
          "size": 3124
        },
        {
          "path": "cli-tool/components/skills/creative-design/theme-factory/theme-showcase.pdf",
          "type": "blob",
          "size": 124310
        },
        {
          "path": "cli-tool/components/skills/creative-design/theme-factory/themes",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/creative-design/theme-factory/themes/arctic-frost.md",
          "type": "blob",
          "size": 544
        },
        {
          "path": "cli-tool/components/skills/creative-design/theme-factory/themes/botanical-garden.md",
          "type": "blob",
          "size": 519
        },
        {
          "path": "cli-tool/components/skills/creative-design/theme-factory/themes/desert-rose.md",
          "type": "blob",
          "size": 496
        },
        {
          "path": "cli-tool/components/skills/creative-design/theme-factory/themes/forest-canopy.md",
          "type": "blob",
          "size": 506
        },
        {
          "path": "cli-tool/components/skills/creative-design/theme-factory/themes/golden-hour.md",
          "type": "blob",
          "size": 528
        },
        {
          "path": "cli-tool/components/skills/creative-design/theme-factory/themes/midnight-galaxy.md",
          "type": "blob",
          "size": 513
        },
        {
          "path": "cli-tool/components/skills/creative-design/theme-factory/themes/modern-minimalist.md",
          "type": "blob",
          "size": 549
        },
        {
          "path": "cli-tool/components/skills/creative-design/theme-factory/themes/ocean-depths.md",
          "type": "blob",
          "size": 555
        },
        {
          "path": "cli-tool/components/skills/creative-design/theme-factory/themes/sunset-boulevard.md",
          "type": "blob",
          "size": 558
        },
        {
          "path": "cli-tool/components/skills/creative-design/theme-factory/themes/tech-innovation.md",
          "type": "blob",
          "size": 547
        },
        {
          "path": "cli-tool/components/skills/development",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/development/artifacts-builder",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/development/artifacts-builder/LICENSE.txt",
          "type": "blob",
          "size": 11357
        },
        {
          "path": "cli-tool/components/skills/development/artifacts-builder/SKILL.md",
          "type": "blob",
          "size": 3079
        },
        {
          "path": "cli-tool/components/skills/development/artifacts-builder/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/development/artifacts-builder/scripts/bundle-artifact.sh",
          "type": "blob",
          "size": 1517
        },
        {
          "path": "cli-tool/components/skills/development/artifacts-builder/scripts/init-artifact.sh",
          "type": "blob",
          "size": 9924
        },
        {
          "path": "cli-tool/components/skills/development/artifacts-builder/scripts/shadcn-components.tar.gz",
          "type": "blob",
          "size": 19967
        },
        {
          "path": "cli-tool/components/skills/development/git-commit-helper",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/development/git-commit-helper/SKILL.md",
          "type": "blob",
          "size": 4372
        },
        {
          "path": "cli-tool/components/skills/development/mcp-builder",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/development/mcp-builder/LICENSE.txt",
          "type": "blob",
          "size": 11357
        },
        {
          "path": "cli-tool/components/skills/development/mcp-builder/SKILL.md",
          "type": "blob",
          "size": 13552
        },
        {
          "path": "cli-tool/components/skills/development/mcp-builder/reference",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/development/mcp-builder/reference/evaluation.md",
          "type": "blob",
          "size": 21663
        },
        {
          "path": "cli-tool/components/skills/development/mcp-builder/reference/mcp_best_practices.md",
          "type": "blob",
          "size": 28910
        },
        {
          "path": "cli-tool/components/skills/development/mcp-builder/reference/node_mcp_server.md",
          "type": "blob",
          "size": 26709
        },
        {
          "path": "cli-tool/components/skills/development/mcp-builder/reference/python_mcp_server.md",
          "type": "blob",
          "size": 26182
        },
        {
          "path": "cli-tool/components/skills/development/mcp-builder/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/development/mcp-builder/scripts/connections.py",
          "type": "blob",
          "size": 4875
        },
        {
          "path": "cli-tool/components/skills/development/mcp-builder/scripts/evaluation.py",
          "type": "blob",
          "size": 12579
        },
        {
          "path": "cli-tool/components/skills/development/mcp-builder/scripts/example_evaluation.xml",
          "type": "blob",
          "size": 1194
        },
        {
          "path": "cli-tool/components/skills/development/mcp-builder/scripts/requirements.txt",
          "type": "blob",
          "size": 29
        },
        {
          "path": "cli-tool/components/skills/development/skill-creator",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/development/skill-creator/LICENSE.txt",
          "type": "blob",
          "size": 11357
        },
        {
          "path": "cli-tool/components/skills/development/skill-creator/SKILL.md",
          "type": "blob",
          "size": 11547
        },
        {
          "path": "cli-tool/components/skills/development/skill-creator/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/development/skill-creator/scripts/init_skill.py",
          "type": "blob",
          "size": 10863
        },
        {
          "path": "cli-tool/components/skills/development/skill-creator/scripts/package_skill.py",
          "type": "blob",
          "size": 3247
        },
        {
          "path": "cli-tool/components/skills/development/skill-creator/scripts/quick_validate.py",
          "type": "blob",
          "size": 2165
        },
        {
          "path": "cli-tool/components/skills/development/webapp-testing",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/development/webapp-testing/LICENSE.txt",
          "type": "blob",
          "size": 11357
        },
        {
          "path": "cli-tool/components/skills/development/webapp-testing/SKILL.md",
          "type": "blob",
          "size": 3913
        },
        {
          "path": "cli-tool/components/skills/development/webapp-testing/examples",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/development/webapp-testing/examples/console_logging.py",
          "type": "blob",
          "size": 1027
        },
        {
          "path": "cli-tool/components/skills/development/webapp-testing/examples/element_discovery.py",
          "type": "blob",
          "size": 1463
        },
        {
          "path": "cli-tool/components/skills/development/webapp-testing/examples/static_html_automation.py",
          "type": "blob",
          "size": 953
        },
        {
          "path": "cli-tool/components/skills/development/webapp-testing/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/development/webapp-testing/scripts/with_server.py",
          "type": "blob",
          "size": 3693
        },
        {
          "path": "cli-tool/components/skills/document-processing",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/LICENSE.txt",
          "type": "blob",
          "size": 1467
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/SKILL.md",
          "type": "blob",
          "size": 10150
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/docx-js.md",
          "type": "blob",
          "size": 16509
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml.md",
          "type": "blob",
          "size": 23572
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/dml-chart.xsd",
          "type": "blob",
          "size": 74984
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/dml-chartDrawing.xsd",
          "type": "blob",
          "size": 6956
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/dml-diagram.xsd",
          "type": "blob",
          "size": 51302
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/dml-lockedCanvas.xsd",
          "type": "blob",
          "size": 624
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/dml-main.xsd",
          "type": "blob",
          "size": 152039
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/dml-picture.xsd",
          "type": "blob",
          "size": 1231
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/dml-spreadsheetDrawing.xsd",
          "type": "blob",
          "size": 8862
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/dml-wordprocessingDrawing.xsd",
          "type": "blob",
          "size": 14795
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/pml.xsd",
          "type": "blob",
          "size": 83612
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/shared-additionalCharacteristics.xsd",
          "type": "blob",
          "size": 1269
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/shared-bibliography.xsd",
          "type": "blob",
          "size": 7328
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/shared-commonSimpleTypes.xsd",
          "type": "blob",
          "size": 6382
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/shared-customXmlDataProperties.xsd",
          "type": "blob",
          "size": 1248
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/shared-customXmlSchemaProperties.xsd",
          "type": "blob",
          "size": 880
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/shared-documentPropertiesCustom.xsd",
          "type": "blob",
          "size": 2608
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/shared-documentPropertiesExtended.xsd",
          "type": "blob",
          "size": 3507
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/shared-documentPropertiesVariantTypes.xsd",
          "type": "blob",
          "size": 7507
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/shared-math.xsd",
          "type": "blob",
          "size": 23313
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/shared-relationshipReference.xsd",
          "type": "blob",
          "size": 1367
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/sml.xsd",
          "type": "blob",
          "size": 242277
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/vml-main.xsd",
          "type": "blob",
          "size": 26148
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/vml-officeDrawing.xsd",
          "type": "blob",
          "size": 25279
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/vml-presentationDrawing.xsd",
          "type": "blob",
          "size": 535
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/vml-spreadsheetDrawing.xsd",
          "type": "blob",
          "size": 5712
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/vml-wordprocessingDrawing.xsd",
          "type": "blob",
          "size": 4010
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/wml.xsd",
          "type": "blob",
          "size": 171367
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ISO-IEC29500-4_2016/xml.xsd",
          "type": "blob",
          "size": 4646
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ecma",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ecma/fouth-edition",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ecma/fouth-edition/opc-contentTypes.xsd",
          "type": "blob",
          "size": 1963
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ecma/fouth-edition/opc-coreProperties.xsd",
          "type": "blob",
          "size": 2515
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ecma/fouth-edition/opc-digSig.xsd",
          "type": "blob",
          "size": 2856
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/ecma/fouth-edition/opc-relationships.xsd",
          "type": "blob",
          "size": 1344
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/mce",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/mce/mc.xsd",
          "type": "blob",
          "size": 3127
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/microsoft",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/microsoft/wml-2010.xsd",
          "type": "blob",
          "size": 26549
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/microsoft/wml-2012.xsd",
          "type": "blob",
          "size": 3745
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/microsoft/wml-2018.xsd",
          "type": "blob",
          "size": 901
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/microsoft/wml-cex-2018.xsd",
          "type": "blob",
          "size": 1778
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/microsoft/wml-cid-2016.xsd",
          "type": "blob",
          "size": 1002
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/microsoft/wml-sdtdatahash-2020.xsd",
          "type": "blob",
          "size": 600
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/schemas/microsoft/wml-symex-2015.xsd",
          "type": "blob",
          "size": 745
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/scripts/pack.py",
          "type": "blob",
          "size": 5596
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/scripts/unpack.py",
          "type": "blob",
          "size": 1037
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/scripts/validate.py",
          "type": "blob",
          "size": 1959
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/scripts/validation",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/scripts/validation/__init__.py",
          "type": "blob",
          "size": 336
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/scripts/validation/base.py",
          "type": "blob",
          "size": 39892
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/scripts/validation/docx.py",
          "type": "blob",
          "size": 9996
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/scripts/validation/pptx.py",
          "type": "blob",
          "size": 12327
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/ooxml/scripts/validation/redlining.py",
          "type": "blob",
          "size": 11179
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/scripts/__init__.py",
          "type": "blob",
          "size": 65
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/scripts/document.py",
          "type": "blob",
          "size": 50409
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/scripts/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/scripts/templates/comments.xml",
          "type": "blob",
          "size": 2635
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/scripts/templates/commentsExtended.xml",
          "type": "blob",
          "size": 2643
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/scripts/templates/commentsExtensible.xml",
          "type": "blob",
          "size": 2739
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/scripts/templates/commentsIds.xml",
          "type": "blob",
          "size": 2651
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/scripts/templates/people.xml",
          "type": "blob",
          "size": 147
        },
        {
          "path": "cli-tool/components/skills/document-processing/docx/scripts/utilities.py",
          "type": "blob",
          "size": 13694
        },
        {
          "path": "cli-tool/components/skills/document-processing/pdf-anthropic",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/pdf-anthropic/LICENSE.txt",
          "type": "blob",
          "size": 1467
        },
        {
          "path": "cli-tool/components/skills/document-processing/pdf-anthropic/SKILL.md",
          "type": "blob",
          "size": 7068
        },
        {
          "path": "cli-tool/components/skills/document-processing/pdf-anthropic/forms.md",
          "type": "blob",
          "size": 9438
        },
        {
          "path": "cli-tool/components/skills/document-processing/pdf-anthropic/reference.md",
          "type": "blob",
          "size": 16692
        },
        {
          "path": "cli-tool/components/skills/document-processing/pdf-anthropic/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/pdf-anthropic/scripts/check_bounding_boxes.py",
          "type": "blob",
          "size": 3139
        },
        {
          "path": "cli-tool/components/skills/document-processing/pdf-anthropic/scripts/check_bounding_boxes_test.py",
          "type": "blob",
          "size": 8818
        },
        {
          "path": "cli-tool/components/skills/document-processing/pdf-anthropic/scripts/check_fillable_fields.py",
          "type": "blob",
          "size": 362
        },
        {
          "path": "cli-tool/components/skills/document-processing/pdf-anthropic/scripts/convert_pdf_to_images.py",
          "type": "blob",
          "size": 1123
        },
        {
          "path": "cli-tool/components/skills/document-processing/pdf-anthropic/scripts/create_validation_image.py",
          "type": "blob",
          "size": 1603
        },
        {
          "path": "cli-tool/components/skills/document-processing/pdf-anthropic/scripts/extract_form_field_info.py",
          "type": "blob",
          "size": 6127
        },
        {
          "path": "cli-tool/components/skills/document-processing/pdf-anthropic/scripts/fill_fillable_fields.py",
          "type": "blob",
          "size": 4863
        },
        {
          "path": "cli-tool/components/skills/document-processing/pdf-anthropic/scripts/fill_pdf_form_with_annotations.py",
          "type": "blob",
          "size": 3596
        },
        {
          "path": "cli-tool/components/skills/document-processing/pdf-processing-pro",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/pdf-processing-pro/FORMS.md",
          "type": "blob",
          "size": 14006
        },
        {
          "path": "cli-tool/components/skills/document-processing/pdf-processing-pro/OCR.md",
          "type": "blob",
          "size": 2828
        },
        {
          "path": "cli-tool/components/skills/document-processing/pdf-processing-pro/SKILL.md",
          "type": "blob",
          "size": 7029
        },
        {
          "path": "cli-tool/components/skills/document-processing/pdf-processing-pro/TABLES.md",
          "type": "blob",
          "size": 14911
        },
        {
          "path": "cli-tool/components/skills/document-processing/pdf-processing-pro/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/pdf-processing-pro/scripts/analyze_form.py",
          "type": "blob",
          "size": 8684
        },
        {
          "path": "cli-tool/components/skills/document-processing/pdf-processing",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/pdf-processing/FORMS.md",
          "type": "blob",
          "size": 2860
        },
        {
          "path": "cli-tool/components/skills/document-processing/pdf-processing/SKILL.md",
          "type": "blob",
          "size": 3148
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/LICENSE.txt",
          "type": "blob",
          "size": 1467
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/SKILL.md",
          "type": "blob",
          "size": 25551
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/html2pptx.md",
          "type": "blob",
          "size": 19859
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml.md",
          "type": "blob",
          "size": 10388
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/dml-chart.xsd",
          "type": "blob",
          "size": 74984
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/dml-chartDrawing.xsd",
          "type": "blob",
          "size": 6956
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/dml-diagram.xsd",
          "type": "blob",
          "size": 51302
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/dml-lockedCanvas.xsd",
          "type": "blob",
          "size": 624
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/dml-main.xsd",
          "type": "blob",
          "size": 152039
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/dml-picture.xsd",
          "type": "blob",
          "size": 1231
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/dml-spreadsheetDrawing.xsd",
          "type": "blob",
          "size": 8862
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/dml-wordprocessingDrawing.xsd",
          "type": "blob",
          "size": 14795
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/pml.xsd",
          "type": "blob",
          "size": 83612
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/shared-additionalCharacteristics.xsd",
          "type": "blob",
          "size": 1269
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/shared-bibliography.xsd",
          "type": "blob",
          "size": 7328
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/shared-commonSimpleTypes.xsd",
          "type": "blob",
          "size": 6382
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/shared-customXmlDataProperties.xsd",
          "type": "blob",
          "size": 1248
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/shared-customXmlSchemaProperties.xsd",
          "type": "blob",
          "size": 880
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/shared-documentPropertiesCustom.xsd",
          "type": "blob",
          "size": 2608
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/shared-documentPropertiesExtended.xsd",
          "type": "blob",
          "size": 3507
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/shared-documentPropertiesVariantTypes.xsd",
          "type": "blob",
          "size": 7507
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/shared-math.xsd",
          "type": "blob",
          "size": 23313
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/shared-relationshipReference.xsd",
          "type": "blob",
          "size": 1367
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/sml.xsd",
          "type": "blob",
          "size": 242277
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/vml-main.xsd",
          "type": "blob",
          "size": 26148
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/vml-officeDrawing.xsd",
          "type": "blob",
          "size": 25279
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/vml-presentationDrawing.xsd",
          "type": "blob",
          "size": 535
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/vml-spreadsheetDrawing.xsd",
          "type": "blob",
          "size": 5712
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/vml-wordprocessingDrawing.xsd",
          "type": "blob",
          "size": 4010
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/wml.xsd",
          "type": "blob",
          "size": 171367
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ISO-IEC29500-4_2016/xml.xsd",
          "type": "blob",
          "size": 4646
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ecma",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ecma/fouth-edition",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ecma/fouth-edition/opc-contentTypes.xsd",
          "type": "blob",
          "size": 1963
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ecma/fouth-edition/opc-coreProperties.xsd",
          "type": "blob",
          "size": 2515
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ecma/fouth-edition/opc-digSig.xsd",
          "type": "blob",
          "size": 2856
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/ecma/fouth-edition/opc-relationships.xsd",
          "type": "blob",
          "size": 1344
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/mce",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/mce/mc.xsd",
          "type": "blob",
          "size": 3127
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/microsoft",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/microsoft/wml-2010.xsd",
          "type": "blob",
          "size": 26549
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/microsoft/wml-2012.xsd",
          "type": "blob",
          "size": 3745
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/microsoft/wml-2018.xsd",
          "type": "blob",
          "size": 901
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/microsoft/wml-cex-2018.xsd",
          "type": "blob",
          "size": 1778
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/microsoft/wml-cid-2016.xsd",
          "type": "blob",
          "size": 1002
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/microsoft/wml-sdtdatahash-2020.xsd",
          "type": "blob",
          "size": 600
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/schemas/microsoft/wml-symex-2015.xsd",
          "type": "blob",
          "size": 745
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/scripts/pack.py",
          "type": "blob",
          "size": 5596
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/scripts/unpack.py",
          "type": "blob",
          "size": 1037
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/scripts/validate.py",
          "type": "blob",
          "size": 1959
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/scripts/validation",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/scripts/validation/__init__.py",
          "type": "blob",
          "size": 336
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/scripts/validation/base.py",
          "type": "blob",
          "size": 39892
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/scripts/validation/docx.py",
          "type": "blob",
          "size": 9996
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/scripts/validation/pptx.py",
          "type": "blob",
          "size": 12327
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/ooxml/scripts/validation/redlining.py",
          "type": "blob",
          "size": 11179
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/scripts/html2pptx.js",
          "type": "blob",
          "size": 37795
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/scripts/inventory.py",
          "type": "blob",
          "size": 38126
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/scripts/rearrange.py",
          "type": "blob",
          "size": 8514
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/scripts/replace.py",
          "type": "blob",
          "size": 13594
        },
        {
          "path": "cli-tool/components/skills/document-processing/pptx/scripts/thumbnail.py",
          "type": "blob",
          "size": 15484
        },
        {
          "path": "cli-tool/components/skills/document-processing/xlsx",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/document-processing/xlsx/LICENSE.txt",
          "type": "blob",
          "size": 1467
        },
        {
          "path": "cli-tool/components/skills/document-processing/xlsx/SKILL.md",
          "type": "blob",
          "size": 10632
        },
        {
          "path": "cli-tool/components/skills/document-processing/xlsx/recalc.py",
          "type": "blob",
          "size": 6408
        },
        {
          "path": "cli-tool/components/skills/enterprise-communication",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/enterprise-communication/brand-guidelines",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/enterprise-communication/brand-guidelines/LICENSE.txt",
          "type": "blob",
          "size": 11357
        },
        {
          "path": "cli-tool/components/skills/enterprise-communication/brand-guidelines/SKILL.md",
          "type": "blob",
          "size": 2235
        },
        {
          "path": "cli-tool/components/skills/enterprise-communication/email-composer",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/enterprise-communication/email-composer/SKILL.md",
          "type": "blob",
          "size": 6813
        },
        {
          "path": "cli-tool/components/skills/enterprise-communication/excel-analysis",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/enterprise-communication/excel-analysis/SKILL.md",
          "type": "blob",
          "size": 5166
        },
        {
          "path": "cli-tool/components/skills/enterprise-communication/internal-comms",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/enterprise-communication/internal-comms/LICENSE.txt",
          "type": "blob",
          "size": 11357
        },
        {
          "path": "cli-tool/components/skills/enterprise-communication/internal-comms/SKILL.md",
          "type": "blob",
          "size": 1511
        },
        {
          "path": "cli-tool/components/skills/enterprise-communication/internal-comms/examples",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/components/skills/enterprise-communication/internal-comms/examples/3p-updates.md",
          "type": "blob",
          "size": 3274
        },
        {
          "path": "cli-tool/components/skills/enterprise-communication/internal-comms/examples/company-newsletter.md",
          "type": "blob",
          "size": 3295
        },
        {
          "path": "cli-tool/components/skills/enterprise-communication/internal-comms/examples/faq-answers.md",
          "type": "blob",
          "size": 2366
        },
        {
          "path": "cli-tool/components/skills/enterprise-communication/internal-comms/examples/general-comms.md",
          "type": "blob",
          "size": 602
        },
        {
          "path": "cli-tool/docs_to_claude",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/docs_to_claude/ANALYTICS_STATE_DETECTION.md",
          "type": "blob",
          "size": 6224
        },
        {
          "path": "cli-tool/docs_to_claude/ARCHITECTURE.md",
          "type": "blob",
          "size": 13301
        },
        {
          "path": "cli-tool/docs_to_claude/BLOG_WRITING_GUIDE.md",
          "type": "blob",
          "size": 15755
        },
        {
          "path": "cli-tool/docs_to_claude/CLAUDE_DATA_STRUCTURE.md",
          "type": "blob",
          "size": 11235
        },
        {
          "path": "cli-tool/docs_to_claude/COMMANDS_GUIDE.md",
          "type": "blob",
          "size": 28282
        },
        {
          "path": "cli-tool/docs_to_claude/CONVERSATION_STATE_IMPROVEMENTS.md",
          "type": "blob",
          "size": 6185
        },
        {
          "path": "cli-tool/docs_to_claude/DEBUG_TYPING_DETECTION.md",
          "type": "blob",
          "size": 3252
        },
        {
          "path": "cli-tool/docs_to_claude/DOWNLOAD_TRACKING.md",
          "type": "blob",
          "size": 7168
        },
        {
          "path": "cli-tool/docs_to_claude/ENHANCED_STATE_DETECTION.md",
          "type": "blob",
          "size": 4622
        },
        {
          "path": "cli-tool/docs_to_claude/HEALTH_CHECK_IMPLEMENTATION.md",
          "type": "blob",
          "size": 5240
        },
        {
          "path": "cli-tool/docs_to_claude/HOOKS_GUIDE.md",
          "type": "blob",
          "size": 33652
        },
        {
          "path": "cli-tool/docs_to_claude/STATUSLINE_GUIDE.md",
          "type": "blob",
          "size": 33524
        },
        {
          "path": "cli-tool/docs_to_claude/SUBAGENTS_GUIDE.md",
          "type": "blob",
          "size": 13350
        },
        {
          "path": "cli-tool/docs_to_claude/SUB_AGENTS.md",
          "type": "blob",
          "size": 11875
        },
        {
          "path": "cli-tool/jest.config.js",
          "type": "blob",
          "size": 1699
        },
        {
          "path": "cli-tool/package-lock.json",
          "type": "blob",
          "size": 207756
        },
        {
          "path": "cli-tool/package.json",
          "type": "blob",
          "size": 3008
        },
        {
          "path": "cli-tool/security-report.json",
          "type": "blob",
          "size": 2144636
        },
        {
          "path": "cli-tool/src",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/src/agents.js",
          "type": "blob",
          "size": 8289
        },
        {
          "path": "cli-tool/src/analytics-web",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/src/analytics-web/FRONT_ARCHITECTURE.md",
          "type": "blob",
          "size": 1485
        },
        {
          "path": "cli-tool/src/analytics-web/assets",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/src/analytics-web/assets/js",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/src/analytics-web/assets/js/main.js.deprecated",
          "type": "blob",
          "size": 9355
        },
        {
          "path": "cli-tool/src/analytics-web/chats_mobile.html",
          "type": "blob",
          "size": 199495
        },
        {
          "path": "cli-tool/src/analytics-web/components",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/src/analytics-web/components/ActivityHeatmap.js",
          "type": "blob",
          "size": 26104
        },
        {
          "path": "cli-tool/src/analytics-web/components/AgentAnalytics.js",
          "type": "blob",
          "size": 21453
        },
        {
          "path": "cli-tool/src/analytics-web/components/App.js",
          "type": "blob",
          "size": 12714
        },
        {
          "path": "cli-tool/src/analytics-web/components/Charts.js",
          "type": "blob",
          "size": 2563
        },
        {
          "path": "cli-tool/src/analytics-web/components/ConversationTable.js",
          "type": "blob",
          "size": 13604
        },
        {
          "path": "cli-tool/src/analytics-web/components/DashboardPage.js",
          "type": "blob",
          "size": 72166
        },
        {
          "path": "cli-tool/src/analytics-web/components/HeaderComponent.js",
          "type": "blob",
          "size": 9195
        },
        {
          "path": "cli-tool/src/analytics-web/components/SessionTimer.js",
          "type": "blob",
          "size": 20103
        },
        {
          "path": "cli-tool/src/analytics-web/components/Sidebar.js",
          "type": "blob",
          "size": 4975
        },
        {
          "path": "cli-tool/src/analytics-web/components/ToolDisplay.js",
          "type": "blob",
          "size": 20597
        },
        {
          "path": "cli-tool/src/analytics-web/index.html",
          "type": "blob",
          "size": 238092
        },
        {
          "path": "cli-tool/src/analytics-web/index.html.original",
          "type": "blob",
          "size": 71869
        },
        {
          "path": "cli-tool/src/analytics-web/services",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/src/analytics-web/services/DataService.js",
          "type": "blob",
          "size": 11931
        },
        {
          "path": "cli-tool/src/analytics-web/services/StateService.js",
          "type": "blob",
          "size": 7072
        },
        {
          "path": "cli-tool/src/analytics-web/services/WebSocketService.js",
          "type": "blob",
          "size": 13724
        },
        {
          "path": "cli-tool/src/analytics.js",
          "type": "blob",
          "size": 82236
        },
        {
          "path": "cli-tool/src/analytics.log",
          "type": "blob",
          "size": null
        },
        {
          "path": "cli-tool/src/analytics",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/src/analytics/core",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/src/analytics/core/AgentAnalyzer.js",
          "type": "blob",
          "size": 12291
        },
        {
          "path": "cli-tool/src/analytics/core/ConversationAnalyzer.js",
          "type": "blob",
          "size": 32631
        },
        {
          "path": "cli-tool/src/analytics/core/FileWatcher.js",
          "type": "blob",
          "size": 12450
        },
        {
          "path": "cli-tool/src/analytics/core/ProcessDetector.js",
          "type": "blob",
          "size": 8926
        },
        {
          "path": "cli-tool/src/analytics/core/SessionAnalyzer.js",
          "type": "blob",
          "size": 25933
        },
        {
          "path": "cli-tool/src/analytics/core/StateCalculator.js",
          "type": "blob",
          "size": 9696
        },
        {
          "path": "cli-tool/src/analytics/data",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/src/analytics/data/DataCache.js",
          "type": "blob",
          "size": 21575
        },
        {
          "path": "cli-tool/src/analytics/notifications",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/src/analytics/notifications/NotificationManager.js",
          "type": "blob",
          "size": 13365
        },
        {
          "path": "cli-tool/src/analytics/notifications/WebSocketServer.js",
          "type": "blob",
          "size": 14125
        },
        {
          "path": "cli-tool/src/analytics/utils",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/src/analytics/utils/PerformanceMonitor.js",
          "type": "blob",
          "size": 12436
        },
        {
          "path": "cli-tool/src/chats-mobile.js",
          "type": "blob",
          "size": 36120
        },
        {
          "path": "cli-tool/src/claude-api-proxy.js",
          "type": "blob",
          "size": 14334
        },
        {
          "path": "cli-tool/src/command-scanner.js",
          "type": "blob",
          "size": 8732
        },
        {
          "path": "cli-tool/src/command-stats.js",
          "type": "blob",
          "size": 12576
        },
        {
          "path": "cli-tool/src/console-bridge.js",
          "type": "blob",
          "size": 18475
        },
        {
          "path": "cli-tool/src/file-operations.js",
          "type": "blob",
          "size": 30801
        },
        {
          "path": "cli-tool/src/health-check.js",
          "type": "blob",
          "size": 46109
        },
        {
          "path": "cli-tool/src/hook-scanner.js",
          "type": "blob",
          "size": 13917
        },
        {
          "path": "cli-tool/src/hook-stats.js",
          "type": "blob",
          "size": 8874
        },
        {
          "path": "cli-tool/src/index.js",
          "type": "blob",
          "size": 127645
        },
        {
          "path": "cli-tool/src/mcp-stats.js",
          "type": "blob",
          "size": 11446
        },
        {
          "path": "cli-tool/src/plugin-dashboard-web",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/src/plugin-dashboard-web/app.js",
          "type": "blob",
          "size": 26426
        },
        {
          "path": "cli-tool/src/plugin-dashboard-web/index.html",
          "type": "blob",
          "size": 13557
        },
        {
          "path": "cli-tool/src/plugin-dashboard-web/styles.css",
          "type": "blob",
          "size": 33797
        },
        {
          "path": "cli-tool/src/plugin-dashboard.js",
          "type": "blob",
          "size": 22922
        },
        {
          "path": "cli-tool/src/prompts.js",
          "type": "blob",
          "size": 14671
        },
        {
          "path": "cli-tool/src/sandbox-interface.html",
          "type": "blob",
          "size": 51377
        },
        {
          "path": "cli-tool/src/sandbox-server.js",
          "type": "blob",
          "size": 21531
        },
        {
          "path": "cli-tool/src/sdk",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/src/sdk/global-agent-manager.js",
          "type": "blob",
          "size": 22189
        },
        {
          "path": "cli-tool/src/security-audit.js",
          "type": "blob",
          "size": 4856
        },
        {
          "path": "cli-tool/src/session-sharing.js",
          "type": "blob",
          "size": 13652
        },
        {
          "path": "cli-tool/src/templates.js",
          "type": "blob",
          "size": 5603
        },
        {
          "path": "cli-tool/src/test-console-bridge.js",
          "type": "blob",
          "size": 2068
        },
        {
          "path": "cli-tool/src/tracking-service.js",
          "type": "blob",
          "size": 7689
        },
        {
          "path": "cli-tool/src/utils.js",
          "type": "blob",
          "size": 7180
        },
        {
          "path": "cli-tool/src/validation",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/src/validation/ARCHITECTURE.md",
          "type": "blob",
          "size": 8808
        },
        {
          "path": "cli-tool/src/validation/BaseValidator.js",
          "type": "blob",
          "size": 4064
        },
        {
          "path": "cli-tool/src/validation/README.md",
          "type": "blob",
          "size": 13932
        },
        {
          "path": "cli-tool/src/validation/ValidationOrchestrator.js",
          "type": "blob",
          "size": 9906
        },
        {
          "path": "cli-tool/src/validation/validators",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/src/validation/validators/IntegrityValidator.js",
          "type": "blob",
          "size": 9781
        },
        {
          "path": "cli-tool/src/validation/validators/ProvenanceValidator.js",
          "type": "blob",
          "size": 10906
        },
        {
          "path": "cli-tool/src/validation/validators/ReferenceValidator.js",
          "type": "blob",
          "size": 10231
        },
        {
          "path": "cli-tool/src/validation/validators/SemanticValidator.js",
          "type": "blob",
          "size": 14236
        },
        {
          "path": "cli-tool/src/validation/validators/StructuralValidator.js",
          "type": "blob",
          "size": 10408
        },
        {
          "path": "cli-tool/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/common",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/common/.claude",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/common/.claude/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/common/.claude/commands/git-workflow.md",
          "type": "blob",
          "size": 5185
        },
        {
          "path": "cli-tool/templates/common/.claude/commands/project-setup.md",
          "type": "blob",
          "size": 6885
        },
        {
          "path": "cli-tool/templates/common/.mcp.json",
          "type": "blob",
          "size": 1113
        },
        {
          "path": "cli-tool/templates/common/CLAUDE.md",
          "type": "blob",
          "size": 3614
        },
        {
          "path": "cli-tool/templates/common/README.md",
          "type": "blob",
          "size": 3201
        },
        {
          "path": "cli-tool/templates/go",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/go/.mcp.json",
          "type": "blob",
          "size": 2130
        },
        {
          "path": "cli-tool/templates/go/README.md",
          "type": "blob",
          "size": 897
        },
        {
          "path": "cli-tool/templates/javascript-typescript",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/javascript-typescript/.claude",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/javascript-typescript/.claude/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/javascript-typescript/.claude/commands/api-endpoint.md",
          "type": "blob",
          "size": 1248
        },
        {
          "path": "cli-tool/templates/javascript-typescript/.claude/commands/debug.md",
          "type": "blob",
          "size": 1571
        },
        {
          "path": "cli-tool/templates/javascript-typescript/.claude/commands/lint.md",
          "type": "blob",
          "size": 1520
        },
        {
          "path": "cli-tool/templates/javascript-typescript/.claude/commands/npm-scripts.md",
          "type": "blob",
          "size": 1459
        },
        {
          "path": "cli-tool/templates/javascript-typescript/.claude/commands/refactor.md",
          "type": "blob",
          "size": 1681
        },
        {
          "path": "cli-tool/templates/javascript-typescript/.claude/commands/test.md",
          "type": "blob",
          "size": 1780
        },
        {
          "path": "cli-tool/templates/javascript-typescript/.claude/commands/typescript-migrate.md",
          "type": "blob",
          "size": 1915
        },
        {
          "path": "cli-tool/templates/javascript-typescript/.claude/settings.json",
          "type": "blob",
          "size": 5131
        },
        {
          "path": "cli-tool/templates/javascript-typescript/.mcp.json",
          "type": "blob",
          "size": 2286
        },
        {
          "path": "cli-tool/templates/javascript-typescript/CLAUDE.md",
          "type": "blob",
          "size": 6394
        },
        {
          "path": "cli-tool/templates/javascript-typescript/README.md",
          "type": "blob",
          "size": 7997
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/angular-app",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/angular-app/.claude",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/angular-app/.claude/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/angular-app/.claude/commands/components.md",
          "type": "blob",
          "size": 3292
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/angular-app/.claude/commands/services.md",
          "type": "blob",
          "size": 3214
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/node-api",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/api-endpoint.md",
          "type": "blob",
          "size": 2151
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/database.md",
          "type": "blob",
          "size": 2669
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/middleware.md",
          "type": "blob",
          "size": 3058
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/route.md",
          "type": "blob",
          "size": 2818
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/node-api/CLAUDE.md",
          "type": "blob",
          "size": 3031
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/react-app",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/component.md",
          "type": "blob",
          "size": 1382
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/hooks.md",
          "type": "blob",
          "size": 1775
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/state-management.md",
          "type": "blob",
          "size": 1859
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/react-app/CLAUDE.md",
          "type": "blob",
          "size": 2605
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/react-app/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/react-app/agents/react-performance-optimization.md",
          "type": "blob",
          "size": 14696
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/react-app/agents/react-state-management.md",
          "type": "blob",
          "size": 8800
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/vue-app",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/vue-app/.claude",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/vue-app/.claude/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/vue-app/.claude/commands/components.md",
          "type": "blob",
          "size": 2218
        },
        {
          "path": "cli-tool/templates/javascript-typescript/examples/vue-app/.claude/commands/composables.md",
          "type": "blob",
          "size": 2479
        },
        {
          "path": "cli-tool/templates/python",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/python/.claude",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/python/.claude/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/python/.claude/commands/lint.md",
          "type": "blob",
          "size": 1878
        },
        {
          "path": "cli-tool/templates/python/.claude/commands/test.md",
          "type": "blob",
          "size": 1322
        },
        {
          "path": "cli-tool/templates/python/.claude/settings.json",
          "type": "blob",
          "size": 6119
        },
        {
          "path": "cli-tool/templates/python/.mcp.json",
          "type": "blob",
          "size": 2234
        },
        {
          "path": "cli-tool/templates/python/CLAUDE.md",
          "type": "blob",
          "size": 8695
        },
        {
          "path": "cli-tool/templates/python/examples",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/python/examples/django-app",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/python/examples/django-app/.claude",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/python/examples/django-app/.claude/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/python/examples/django-app/.claude/commands/admin.md",
          "type": "blob",
          "size": 8744
        },
        {
          "path": "cli-tool/templates/python/examples/django-app/.claude/commands/django-model.md",
          "type": "blob",
          "size": 3462
        },
        {
          "path": "cli-tool/templates/python/examples/django-app/.claude/commands/views.md",
          "type": "blob",
          "size": 7017
        },
        {
          "path": "cli-tool/templates/python/examples/django-app/CLAUDE.md",
          "type": "blob",
          "size": 9080
        },
        {
          "path": "cli-tool/templates/python/examples/fastapi-app",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/python/examples/fastapi-app/.claude",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/api-endpoints.md",
          "type": "blob",
          "size": 14709
        },
        {
          "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/auth.md",
          "type": "blob",
          "size": 23389
        },
        {
          "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/database.md",
          "type": "blob",
          "size": 18831
        },
        {
          "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/deployment.md",
          "type": "blob",
          "size": 2757
        },
        {
          "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/testing.md",
          "type": "blob",
          "size": 26253
        },
        {
          "path": "cli-tool/templates/python/examples/fastapi-app/CLAUDE.md",
          "type": "blob",
          "size": 6228
        },
        {
          "path": "cli-tool/templates/python/examples/flask-app",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/python/examples/flask-app/.claude",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/python/examples/flask-app/.claude/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/app-factory.md",
          "type": "blob",
          "size": 11279
        },
        {
          "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/blueprint.md",
          "type": "blob",
          "size": 6424
        },
        {
          "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/database.md",
          "type": "blob",
          "size": 11053
        },
        {
          "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/deployment.md",
          "type": "blob",
          "size": 15050
        },
        {
          "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/flask-route.md",
          "type": "blob",
          "size": 6002
        },
        {
          "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/testing.md",
          "type": "blob",
          "size": 15429
        },
        {
          "path": "cli-tool/templates/python/examples/flask-app/CLAUDE.md",
          "type": "blob",
          "size": 11571
        },
        {
          "path": "cli-tool/templates/ruby",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/ruby/.claude",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/ruby/.claude/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/ruby/.claude/commands/model.md",
          "type": "blob",
          "size": 7072
        },
        {
          "path": "cli-tool/templates/ruby/.claude/commands/test.md",
          "type": "blob",
          "size": 12532
        },
        {
          "path": "cli-tool/templates/ruby/.claude/settings.json",
          "type": "blob",
          "size": 6698
        },
        {
          "path": "cli-tool/templates/ruby/.mcp.json",
          "type": "blob",
          "size": 2631
        },
        {
          "path": "cli-tool/templates/ruby/CLAUDE.md",
          "type": "blob",
          "size": 8791
        },
        {
          "path": "cli-tool/templates/ruby/examples",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/ruby/examples/rails-app",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/ruby/examples/rails-app/.claude",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/ruby/examples/rails-app/.claude/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/ruby/examples/rails-app/.claude/commands/authentication.md",
          "type": "blob",
          "size": 12195
        },
        {
          "path": "cli-tool/templates/ruby/examples/rails-app/CLAUDE.md",
          "type": "blob",
          "size": 11496
        },
        {
          "path": "cli-tool/templates/rust",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/templates/rust/.mcp.json",
          "type": "blob",
          "size": 2149
        },
        {
          "path": "cli-tool/templates/rust/README.md",
          "type": "blob",
          "size": 964
        },
        {
          "path": "cli-tool/test-commands.sh",
          "type": "blob",
          "size": 3115
        },
        {
          "path": "cli-tool/test-detailed.sh",
          "type": "blob",
          "size": 9128
        },
        {
          "path": "cli-tool/tests",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/tests/integration",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/tests/integration/analytics-system.test.js",
          "type": "blob",
          "size": 11221
        },
        {
          "path": "cli-tool/tests/setup.js",
          "type": "blob",
          "size": 4333
        },
        {
          "path": "cli-tool/tests/unit",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/tests/unit/DataCache.test.js",
          "type": "blob",
          "size": 10398
        },
        {
          "path": "cli-tool/tests/unit/DataService.test.js",
          "type": "blob",
          "size": 13306
        },
        {
          "path": "cli-tool/tests/unit/PerformanceMonitor.test.js",
          "type": "blob",
          "size": 13119
        },
        {
          "path": "cli-tool/tests/unit/StateCalculator.test.js",
          "type": "blob",
          "size": 8583
        },
        {
          "path": "cli-tool/tests/unit/StateService.test.js",
          "type": "blob",
          "size": 13573
        },
        {
          "path": "cli-tool/tests/unit/WebSocketServer.test.js",
          "type": "blob",
          "size": 11795
        },
        {
          "path": "cli-tool/tests/validation",
          "type": "tree",
          "size": null
        },
        {
          "path": "cli-tool/tests/validation/IntegrityValidator.test.js",
          "type": "blob",
          "size": 10864
        },
        {
          "path": "cli-tool/tests/validation/ReferenceValidator.test.js",
          "type": "blob",
          "size": 11144
        },
        {
          "path": "cli-tool/tests/validation/SemanticValidator.test.js",
          "type": "blob",
          "size": 14837
        },
        {
          "path": "cli-tool/tests/validation/StructuralValidator.test.js",
          "type": "blob",
          "size": 10033
        },
        {
          "path": "cli-tool/tests/validation/ValidationOrchestrator.test.js",
          "type": "blob",
          "size": 5823
        },
        {
          "path": "dev-server.js",
          "type": "blob",
          "size": 1502
        },
        {
          "path": "docs",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/CLAUDE.md",
          "type": "blob",
          "size": 11678
        },
        {
          "path": "docs/CNAME",
          "type": "blob",
          "size": 10
        },
        {
          "path": "docs/README.md",
          "type": "blob",
          "size": 1873
        },
        {
          "path": "docs/_config.yml",
          "type": "blob",
          "size": 807
        },
        {
          "path": "docs/api",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/api/README.md",
          "type": "blob",
          "size": 2540
        },
        {
          "path": "docs/api/agents.json",
          "type": "blob",
          "size": 25598
        },
        {
          "path": "docs/blog",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/blog/README.md",
          "type": "blob",
          "size": 6473
        },
        {
          "path": "docs/blog/assets",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/blog/assets/aitmpl-nextjs-search.png",
          "type": "blob",
          "size": 475979
        },
        {
          "path": "docs/blog/assets/aitmpl-supabase-search.png",
          "type": "blob",
          "size": 55166
        },
        {
          "path": "docs/blog/assets/e2b-claude-code-sandbox-cover.png",
          "type": "blob",
          "size": 45225
        },
        {
          "path": "docs/blog/assets/nextjs-vercel-claude-code-templates-cover.png",
          "type": "blob",
          "size": 56486
        },
        {
          "path": "docs/blog/assets/supabase-claude-code-templates-cover.png",
          "type": "blob",
          "size": 17685
        },
        {
          "path": "docs/blog/blog-articles.json",
          "type": "blob",
          "size": 8156
        },
        {
          "path": "docs/blog/css",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/blog/css/blog-controls.css",
          "type": "blob",
          "size": 5097
        },
        {
          "path": "docs/blog/e2b-claude-code-sandbox",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/blog/e2b-claude-code-sandbox/index.html",
          "type": "blob",
          "size": 44375
        },
        {
          "path": "docs/blog/index.html",
          "type": "blob",
          "size": 14510
        },
        {
          "path": "docs/blog/js",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/blog/js/blog-loader.js",
          "type": "blob",
          "size": 19844
        },
        {
          "path": "docs/blog/nextjs-vercel-claude-code-integration",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/blog/nextjs-vercel-claude-code-integration/index.html",
          "type": "blob",
          "size": 54532
        },
        {
          "path": "docs/blog/supabase-claude-code-integration",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/blog/supabase-claude-code-integration/index.html",
          "type": "blob",
          "size": 41635
        },
        {
          "path": "docs/claude-jobs.json",
          "type": "blob",
          "size": 7442
        },
        {
          "path": "docs/component.html",
          "type": "blob",
          "size": 46521
        },
        {
          "path": "docs/components-metadata.json",
          "type": "blob",
          "size": 10539
        },
        {
          "path": "docs/components.json",
          "type": "blob",
          "size": 4577758
        },
        {
          "path": "docs/css",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/css/blog.css",
          "type": "blob",
          "size": 22018
        },
        {
          "path": "docs/css/component-page.css",
          "type": "blob",
          "size": 39531
        },
        {
          "path": "docs/css/plugin-page.css",
          "type": "blob",
          "size": 12073
        },
        {
          "path": "docs/css/stack-page.css",
          "type": "blob",
          "size": 15734
        },
        {
          "path": "docs/css/styles.css",
          "type": "blob",
          "size": 98866
        },
        {
          "path": "docs/css/trending.css",
          "type": "blob",
          "size": 30653
        },
        {
          "path": "docs/css/workflows-modal.css",
          "type": "blob",
          "size": 13951
        },
        {
          "path": "docs/css/workflows.css",
          "type": "blob",
          "size": 23315
        },
        {
          "path": "docs/download-stats.html",
          "type": "blob",
          "size": 19133
        },
        {
          "path": "docs/index.html",
          "type": "blob",
          "size": 45405
        },
        {
          "path": "docs/jobs.html",
          "type": "blob",
          "size": 39609
        },
        {
          "path": "docs/js",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/js/carousel.js",
          "type": "blob",
          "size": 5504
        },
        {
          "path": "docs/js/cart-manager.js",
          "type": "blob",
          "size": 23368
        },
        {
          "path": "docs/js/component-page.js",
          "type": "blob",
          "size": 79435
        },
        {
          "path": "docs/js/data-loader.js",
          "type": "blob",
          "size": 26472
        },
        {
          "path": "docs/js/generate-search-data.js",
          "type": "blob",
          "size": 3375
        },
        {
          "path": "docs/js/index-events.js",
          "type": "blob",
          "size": 93411
        },
        {
          "path": "docs/js/modal-helpers.js",
          "type": "blob",
          "size": 17929
        },
        {
          "path": "docs/js/plugin-page.js",
          "type": "blob",
          "size": 12686
        },
        {
          "path": "docs/js/script.js",
          "type": "blob",
          "size": 85158
        },
        {
          "path": "docs/js/search-functionality.js",
          "type": "blob",
          "size": 40708
        },
        {
          "path": "docs/js/stack-router.js",
          "type": "blob",
          "size": 22298
        },
        {
          "path": "docs/js/trending.js",
          "type": "blob",
          "size": 32866
        },
        {
          "path": "docs/js/utils.js",
          "type": "blob",
          "size": 1434
        },
        {
          "path": "docs/js/workflows-events.js",
          "type": "blob",
          "size": 48976
        },
        {
          "path": "docs/js/workflows.js",
          "type": "blob",
          "size": 25483
        },
        {
          "path": "docs/plugin.html",
          "type": "blob",
          "size": 18029
        },
        {
          "path": "docs/robots.txt",
          "type": "blob",
          "size": 483
        },
        {
          "path": "docs/sandbox-interface.html",
          "type": "blob",
          "size": 52794
        },
        {
          "path": "docs/sitemap.xml",
          "type": "blob",
          "size": 5114
        },
        {
          "path": "docs/static",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/static/favicon",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/static/favicon/about.txt",
          "type": "blob",
          "size": 231
        },
        {
          "path": "docs/static/favicon/android-chrome-192x192.png",
          "type": "blob",
          "size": 40893
        },
        {
          "path": "docs/static/favicon/android-chrome-512x512.png",
          "type": "blob",
          "size": 195686
        },
        {
          "path": "docs/static/favicon/apple-touch-icon.png",
          "type": "blob",
          "size": 36684
        },
        {
          "path": "docs/static/favicon/favicon-16x16.png",
          "type": "blob",
          "size": 758
        },
        {
          "path": "docs/static/favicon/favicon-32x32.png",
          "type": "blob",
          "size": 2105
        },
        {
          "path": "docs/static/favicon/favicon.ico",
          "type": "blob",
          "size": 15406
        },
        {
          "path": "docs/static/favicon/site.webmanifest",
          "type": "blob",
          "size": 263
        },
        {
          "path": "docs/static/img",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/static/img/logo.png",
          "type": "blob",
          "size": 97526
        },
        {
          "path": "docs/static/img/logo.svg",
          "type": "blob",
          "size": 986
        },
        {
          "path": "docs/trending-data.json",
          "type": "blob",
          "size": 24573
        },
        {
          "path": "docs/trending.html",
          "type": "blob",
          "size": 16489
        },
        {
          "path": "docs/vercel.json",
          "type": "blob",
          "size": 874
        },
        {
          "path": "docs/workflows.html",
          "type": "blob",
          "size": 22578
        },
        {
          "path": "docu",
          "type": "tree",
          "size": null
        },
        {
          "path": "docu/.gitignore",
          "type": "blob",
          "size": 241
        },
        {
          "path": "docu/README.md",
          "type": "blob",
          "size": 774
        },
        {
          "path": "docu/docs",
          "type": "tree",
          "size": null
        },
        {
          "path": "docu/docs/cli-options.md",
          "type": "blob",
          "size": 3297
        },
        {
          "path": "docu/docs/components",
          "type": "tree",
          "size": null
        },
        {
          "path": "docu/docs/components/agents.md",
          "type": "blob",
          "size": 4513
        },
        {
          "path": "docu/docs/components/commands.md",
          "type": "blob",
          "size": 3628
        },
        {
          "path": "docu/docs/components/hooks.md",
          "type": "blob",
          "size": 4153
        },
        {
          "path": "docu/docs/components/mcps.md",
          "type": "blob",
          "size": 4332
        },
        {
          "path": "docu/docs/components/overview.md",
          "type": "blob",
          "size": 2269
        },
        {
          "path": "docu/docs/components/settings.md",
          "type": "blob",
          "size": 4171
        },
        {
          "path": "docu/docs/components/templates.md",
          "type": "blob",
          "size": 4678
        },
        {
          "path": "docu/docs/intro.md",
          "type": "blob",
          "size": 1357
        },
        {
          "path": "docu/docs/safety-features.md",
          "type": "blob",
          "size": 975
        },
        {
          "path": "docu/docs/support.md",
          "type": "blob",
          "size": 776
        },
        {
          "path": "docu/docs/tools",
          "type": "tree",
          "size": null
        },
        {
          "path": "docu/docs/tools/analytics.md",
          "type": "blob",
          "size": 601
        },
        {
          "path": "docu/docs/tools/chats.md",
          "type": "blob",
          "size": 909
        },
        {
          "path": "docu/docs/tools/health-check.md",
          "type": "blob",
          "size": 2124
        },
        {
          "path": "docu/docs/tools/overview.md",
          "type": "blob",
          "size": 722
        },
        {
          "path": "docu/docs/tools/sandbox.md",
          "type": "blob",
          "size": 1963
        },
        {
          "path": "docu/docs/tools/tunnel.md",
          "type": "blob",
          "size": 772
        },
        {
          "path": "docu/docusaurus.config.ts",
          "type": "blob",
          "size": 4762
        },
        {
          "path": "docu/package-lock.json",
          "type": "blob",
          "size": 621866
        },
        {
          "path": "docu/package.json",
          "type": "blob",
          "size": 1144
        },
        {
          "path": "docu/sidebars.ts",
          "type": "blob",
          "size": 1151
        },
        {
          "path": "docu/src",
          "type": "tree",
          "size": null
        },
        {
          "path": "docu/src/components",
          "type": "tree",
          "size": null
        },
        {
          "path": "docu/src/components/HomepageFeatures",
          "type": "tree",
          "size": null
        },
        {
          "path": "docu/src/components/HomepageFeatures/index.tsx",
          "type": "blob",
          "size": 2206
        },
        {
          "path": "docu/src/components/HomepageFeatures/styles.module.css",
          "type": "blob",
          "size": 2497
        },
        {
          "path": "docu/src/css",
          "type": "tree",
          "size": null
        },
        {
          "path": "docu/src/css/custom.css",
          "type": "blob",
          "size": 20335
        },
        {
          "path": "docu/src/pages",
          "type": "tree",
          "size": null
        },
        {
          "path": "docu/src/pages/index.module.css",
          "type": "blob",
          "size": 2173
        },
        {
          "path": "docu/src/pages/index.tsx",
          "type": "blob",
          "size": 4022
        },
        {
          "path": "docu/src/pages/markdown-page.md",
          "type": "blob",
          "size": 118
        },
        {
          "path": "docu/static",
          "type": "tree",
          "size": null
        },
        {
          "path": "docu/static/.nojekyll",
          "type": "blob",
          "size": null
        },
        {
          "path": "docu/static/img",
          "type": "tree",
          "size": null
        },
        {
          "path": "docu/static/img/favicon.ico",
          "type": "blob",
          "size": 3626
        },
        {
          "path": "docu/static/img/logo.svg",
          "type": "blob",
          "size": 986
        },
        {
          "path": "docu/tsconfig.json",
          "type": "blob",
          "size": 215
        },
        {
          "path": "docu/vercel.json",
          "type": "blob",
          "size": 186
        },
        {
          "path": "fiscalize",
          "type": "tree",
          "size": null
        },
        {
          "path": "fiscalize/claude-code-templates.zip",
          "type": "blob",
          "size": 1386685
        },
        {
          "path": "generate_agents_api.py",
          "type": "blob",
          "size": 2203
        },
        {
          "path": "generate_claude_jobs.py",
          "type": "blob",
          "size": 35695
        },
        {
          "path": "generate_components_json.py",
          "type": "blob",
          "size": 38666
        },
        {
          "path": "junction",
          "type": "tree",
          "size": null
        },
        {
          "path": "junction/claude-code-templates.zip",
          "type": "blob",
          "size": 1386685
        },
        {
          "path": "package-lock.json",
          "type": "blob",
          "size": 135633
        },
        {
          "path": "package.json",
          "type": "blob",
          "size": 1325
        },
        {
          "path": "social-preview.png",
          "type": "blob",
          "size": 31064
        },
        {
          "path": "sync-api.sh",
          "type": "blob",
          "size": 1313
        },
        {
          "path": "vercel.json",
          "type": "blob",
          "size": 863
        }
      ],
      "marketplace": {
        "name": "claude-code-templates",
        "version": null,
        "description": null,
        "owner_info": {
          "name": "Daniel Avila",
          "email": "davila7@users.noreply.github.com",
          "url": "https://github.com/davila7"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "git-workflow",
            "description": "Git workflow automation: feature, release, and hotfix commands with git specialists",
            "source": "./",
            "category": null,
            "version": "1.0.0",
            "author": {
              "name": "Daniel Avila"
            },
            "install_commands": [
              "/plugin marketplace add Justdvp/claude-code-templates",
              "/plugin install git-workflow@claude-code-templates"
            ],
            "signals": {
              "stars": 5,
              "forks": 0,
              "pushed_at": "2026-01-12T22:20:42Z",
              "created_at": "2022-10-16T16:39:58Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/lint",
                "description": null,
                "path": ".claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Python Linter\n\nRun Python code linting and formatting tools.\n\n## Purpose\n\nThis command helps you maintain code quality using Python's best linting and formatting tools.\n\n## Usage\n\n```\n/lint\n```\n\n## What this command does\n\n1. **Runs multiple linters** (flake8, pylint, black, isort)\n2. **Provides detailed feedback** on code quality issues\n3. **Auto-fixes formatting** where possible\n4. **Checks type hints** if mypy is configured\n\n## Example Commands\n\n### Black (code formatting)\n```bash\n# Format all Python files\nblack .\n\n# Check formatting without changing files\nblack --check .\n\n# Format specific file\nblack src/main.py\n```\n\n### flake8 (style guide enforcement)\n```bash\n# Check all Python files\nflake8 .\n\n# Check specific directory\nflake8 src/\n\n# Check with specific rules\nflake8 --max-line-length=88 .\n```\n\n### isort (import sorting)\n```bash\n# Sort imports in all files\nisort .\n\n# Check import sorting\nisort --check-only .\n\n# Sort imports in specific file\nisort src/main.py\n```\n\n### pylint (comprehensive linting)\n```bash\n# Run pylint on all files\npylint src/\n\n# Run with specific score threshold\npylint --fail-under=8.0 src/\n\n# Generate detailed report\npylint --output-format=html src/ > pylint_report.html\n```\n\n### mypy (type checking)\n```bash\n# Check types in all files\nmypy .\n\n# Check specific module\nmypy src/models.py\n\n# Check with strict mode\nmypy --strict src/\n```\n\n## Configuration Files\n\nMost projects benefit from configuration files:\n\n### .flake8\n```ini\n[flake8]\nmax-line-length = 88\nexclude = .git,__pycache__,venv\nignore = E203,W503\n```\n\n### pyproject.toml\n```toml\n[tool.black]\nline-length = 88\n\n[tool.isort]\nprofile = \"black\"\n```\n\n## Best Practices\n\n- Run linters before committing code\n- Use consistent formatting across the project\n- Fix linting issues promptly\n- Configure linters to match your team's style\n- Use type hints for better code documentation"
              },
              {
                "name": "/test",
                "description": null,
                "path": ".claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Runner\n\nRun Python tests with pytest, unittest, or other testing frameworks.\n\n## Purpose\n\nThis command helps you run Python tests effectively with proper configuration and reporting.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Detects test framework** (pytest, unittest, nose2)\n2. **Runs appropriate tests** with proper configuration\n3. **Provides coverage reporting** if available\n4. **Shows clear test results** with failure details\n\n## Example Commands\n\n### pytest (recommended)\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=src --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n\n# Run tests matching pattern\npytest -k \"test_user\"\n```\n\n### unittest\n```bash\n# Run all tests\npython -m unittest discover\n\n# Run specific test file\npython -m unittest tests.test_models\n\n# Run with verbose output\npython -m unittest -v\n```\n\n### Django tests\n```bash\n# Run all Django tests\npython manage.py test\n\n# Run specific app tests\npython manage.py test myapp\n\n# Run with coverage\ncoverage run --source='.' manage.py test\ncoverage report\n```\n\n## Best Practices\n\n- Write tests for all critical functionality\n- Use descriptive test names\n- Keep tests isolated and independent\n- Mock external dependencies\n- Aim for high test coverage (80%+)"
              },
              {
                "name": "/git-workflow",
                "description": null,
                "path": "cli-tool/templates/common/.claude/commands/git-workflow.md",
                "frontmatter": null,
                "content": "# Git Workflow Helper\n\nManage Git workflows with best practices and common operations.\n\n## Purpose\n\nThis command helps you perform common Git operations following best practices for collaborative development.\n\n## Usage\n\n```\n/git-workflow\n```\n\n## What this command does\n\n1. **Guides through Git operations** with proper workflow\n2. **Suggests best practices** for commits and branches\n3. **Helps with conflict resolution** and merging\n4. **Provides templates** for commit messages\n5. **Manages branching strategies** (Git Flow, GitHub Flow)\n\n## Common Workflows\n\n### Feature Development\n```bash\n# Create and switch to feature branch\ngit checkout -b feature/user-authentication\n\n# Work on your feature\n# ... make changes ...\n\n# Stage and commit changes\ngit add .\ngit commit -m \"feat: add user authentication system\n\n- Implement login/logout functionality\n- Add password validation\n- Create user session management\n- Add authentication middleware\"\n\n# Push feature branch\ngit push -u origin feature/user-authentication\n\n# Create pull request (via GitHub/GitLab interface)\n```\n\n### Hotfix Workflow\n```bash\n# Create hotfix branch from main\ngit checkout main\ngit checkout -b hotfix/security-patch\n\n# Fix the issue\n# ... make changes ...\n\n# Commit the fix\ngit commit -m \"fix: resolve security vulnerability in auth module\n\n- Patch XSS vulnerability in login form\n- Update input validation\n- Add CSRF protection\"\n\n# Push and create urgent PR\ngit push -u origin hotfix/security-patch\n```\n\n### Sync with Remote\n```bash\n# Update main branch\ngit checkout main\ngit pull origin main\n\n# Update feature branch with latest main\ngit checkout feature/your-feature\ngit rebase main\n# OR\ngit merge main\n```\n\n## Commit Message Conventions\n\n### Conventional Commits Format\n```\n<type>[optional scope]: <description>\n\n[optional body]\n\n[optional footer(s)]\n```\n\n### Common Types\n- **feat**: New feature\n- **fix**: Bug fix\n- **docs**: Documentation changes\n- **style**: Code style changes (formatting, etc.)\n- **refactor**: Code refactoring\n- **test**: Adding or updating tests\n- **chore**: Maintenance tasks\n\n### Examples\n```bash\n# Feature\ngit commit -m \"feat(auth): add OAuth2 integration\"\n\n# Bug fix\ngit commit -m \"fix(api): handle null response in user endpoint\"\n\n# Documentation\ngit commit -m \"docs: update API documentation for v2.0\"\n\n# Breaking change\ngit commit -m \"feat!: change API response format\n\nBREAKING CHANGE: API responses now use 'data' wrapper\"\n```\n\n## Branch Management\n\n### Git Flow Strategy\n```bash\n# Main branches\nmain        # Production-ready code\ndevelop     # Integration branch\n\n# Supporting branches\nfeature/*   # New features\nrelease/*   # Release preparation\nhotfix/*    # Quick fixes to production\n```\n\n### GitHub Flow (Simplified)\n```bash\n# Only main branch + feature branches\nmain        # Production-ready code\nfeature/*   # All new work\n```\n\n## Conflict Resolution\n\n### When Conflicts Occur\n```bash\n# Start merge/rebase\ngit merge feature-branch\n# OR\ngit rebase main\n\n# If conflicts occur, Git will list conflicted files\n# Edit each file to resolve conflicts\n\n# Mark conflicts as resolved\ngit add conflicted-file.js\n\n# Continue the merge/rebase\ngit merge --continue\n# OR\ngit rebase --continue\n```\n\n### Conflict Markers\n```javascript\n<<<<<<< HEAD\n// Your current branch code\nconst user = getCurrentUser();\n=======\n// Incoming branch code\nconst user = getAuthenticatedUser();\n>>>>>>> feature-branch\n```\n\n## Useful Git Commands\n\n### Status and Information\n```bash\ngit status                    # Check working directory status\ngit log --oneline            # View commit history\ngit branch -a                # List all branches\ngit remote -v                # List remote repositories\n```\n\n### Undoing Changes\n```bash\ngit checkout -- file.js     # Discard changes to file\ngit reset HEAD file.js       # Unstage file\ngit reset --soft HEAD~1     # Undo last commit (keep changes)\ngit reset --hard HEAD~1     # Undo last commit (discard changes)\n```\n\n### Stashing Work\n```bash\ngit stash                    # Save current work\ngit stash pop               # Apply and remove latest stash\ngit stash list              # List all stashes\ngit stash apply stash@{1}   # Apply specific stash\n```\n\n## Best Practices\n\n1. **Commit Often** - Make small, focused commits\n2. **Write Clear Messages** - Use conventional commit format\n3. **Test Before Committing** - Ensure code works\n4. **Pull Before Push** - Keep history clean\n5. **Use Branches** - Don't work directly on main\n6. **Review Code** - Use pull requests for collaboration\n7. **Keep History Clean** - Rebase feature branches when appropriate\n\n## Git Hooks (Optional)\n\n### Pre-commit Hook\n```bash\n#!/bin/sh\n# .git/hooks/pre-commit\n\n# Run linter\nnpm run lint\nif [ $? -ne 0 ]; then\n  echo \"Linting failed. Please fix errors before committing.\"\n  exit 1\nfi\n\n# Run tests\nnpm test\nif [ $? -ne 0 ]; then\n  echo \"Tests failed. Please fix tests before committing.\"\n  exit 1\nfi\n```\n\n### Commit Message Hook\n```bash\n#!/bin/sh\n# .git/hooks/commit-msg\n\n# Check commit message format\nif ! grep -qE \"^(feat|fix|docs|style|refactor|test|chore)(\\(.+\\))?: .{1,50}\" \"$1\"; then\n  echo \"Invalid commit message format. Use conventional commits.\"\n  exit 1\nfi\n```"
              },
              {
                "name": "/project-setup",
                "description": null,
                "path": "cli-tool/templates/common/.claude/commands/project-setup.md",
                "frontmatter": null,
                "content": "# Project Setup Helper\n\nSet up new projects with proper structure and best practices.\n\n## Purpose\n\nThis command helps you set up new projects with proper directory structure, configuration files, and development environment.\n\n## Usage\n\n```\n/project-setup\n```\n\n## What this command does\n\n1. **Creates project structure** with standard directories\n2. **Sets up configuration files** (.gitignore, README, etc.)\n3. **Initializes version control** and development tools\n4. **Configures environment files** and dependencies\n5. **Follows language-specific** conventions and best practices\n\n## Project Structure Templates\n\n### Generic Project Structure\n```\nproject-name/\n‚îú‚îÄ‚îÄ README.md                 # Project documentation\n‚îú‚îÄ‚îÄ .gitignore               # Git ignore rules\n‚îú‚îÄ‚îÄ .env.example             # Environment variables template\n‚îú‚îÄ‚îÄ LICENSE                  # Project license\n‚îú‚îÄ‚îÄ CHANGELOG.md             # Version history\n‚îú‚îÄ‚îÄ docs/                    # Documentation\n‚îÇ   ‚îú‚îÄ‚îÄ API.md\n‚îÇ   ‚îú‚îÄ‚îÄ CONTRIBUTING.md\n‚îÇ   ‚îî‚îÄ‚îÄ DEPLOYMENT.md\n‚îú‚îÄ‚îÄ src/                     # Source code\n‚îÇ   ‚îú‚îÄ‚îÄ main/\n‚îÇ   ‚îú‚îÄ‚îÄ utils/\n‚îÇ   ‚îî‚îÄ‚îÄ config/\n‚îú‚îÄ‚îÄ tests/                   # Test files\n‚îÇ   ‚îú‚îÄ‚îÄ unit/\n‚îÇ   ‚îú‚îÄ‚îÄ integration/\n‚îÇ   ‚îî‚îÄ‚îÄ fixtures/\n‚îú‚îÄ‚îÄ scripts/                 # Build and deployment scripts\n‚îÇ   ‚îú‚îÄ‚îÄ build.sh\n‚îÇ   ‚îú‚îÄ‚îÄ deploy.sh\n‚îÇ   ‚îî‚îÄ‚îÄ setup.sh\n‚îî‚îÄ‚îÄ config/                  # Configuration files\n    ‚îú‚îÄ‚îÄ development.yml\n    ‚îú‚îÄ‚îÄ production.yml\n    ‚îî‚îÄ‚îÄ testing.yml\n```\n\n### Web Application Structure\n```\nweb-app/\n‚îú‚îÄ‚îÄ public/                  # Static assets\n‚îÇ   ‚îú‚îÄ‚îÄ index.html\n‚îÇ   ‚îú‚îÄ‚îÄ favicon.ico\n‚îÇ   ‚îî‚îÄ‚îÄ assets/\n‚îÇ       ‚îú‚îÄ‚îÄ css/\n‚îÇ       ‚îú‚îÄ‚îÄ js/\n‚îÇ       ‚îî‚îÄ‚îÄ images/\n‚îú‚îÄ‚îÄ src/                     # Source code\n‚îÇ   ‚îú‚îÄ‚îÄ components/          # Reusable components\n‚îÇ   ‚îú‚îÄ‚îÄ pages/              # Page components\n‚îÇ   ‚îú‚îÄ‚îÄ services/           # API services\n‚îÇ   ‚îú‚îÄ‚îÄ utils/              # Utility functions\n‚îÇ   ‚îú‚îÄ‚îÄ styles/             # Stylesheets\n‚îÇ   ‚îî‚îÄ‚îÄ config/             # Configuration\n‚îú‚îÄ‚îÄ tests/                   # Test files\n‚îî‚îÄ‚îÄ build/                   # Build output\n```\n\n### API Project Structure\n```\napi-project/\n‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îú‚îÄ‚îÄ controllers/         # Request handlers\n‚îÇ   ‚îú‚îÄ‚îÄ models/             # Data models\n‚îÇ   ‚îú‚îÄ‚îÄ services/           # Business logic\n‚îÇ   ‚îú‚îÄ‚îÄ middleware/         # Custom middleware\n‚îÇ   ‚îú‚îÄ‚îÄ routes/             # API routes\n‚îÇ   ‚îú‚îÄ‚îÄ utils/              # Utility functions\n‚îÇ   ‚îî‚îÄ‚îÄ config/             # Configuration\n‚îú‚îÄ‚îÄ tests/\n‚îÇ   ‚îú‚îÄ‚îÄ unit/\n‚îÇ   ‚îú‚îÄ‚îÄ integration/\n‚îÇ   ‚îî‚îÄ‚îÄ e2e/\n‚îú‚îÄ‚îÄ docs/\n‚îÇ   ‚îú‚îÄ‚îÄ api-spec.yml        # OpenAPI specification\n‚îÇ   ‚îî‚îÄ‚îÄ README.md\n‚îî‚îÄ‚îÄ scripts/\n    ‚îú‚îÄ‚îÄ seed-db.js          # Database seeding\n    ‚îî‚îÄ‚îÄ migrate.js          # Database migrations\n```\n\n## Essential Configuration Files\n\n### .gitignore Template\n```gitignore\n# Dependencies\nnode_modules/\n*.log\nnpm-debug.log*\n\n# Environment files\n.env\n.env.local\n.env.production\n\n# Build outputs\ndist/\nbuild/\n*.tgz\n\n# IDE files\n.vscode/\n.idea/\n*.swp\n*.swo\n\n# OS files\n.DS_Store\nThumbs.db\n\n# Temporary files\n*.tmp\n*.temp\n```\n\n### README.md Template\n```markdown\n# Project Name\n\nBrief description of what this project does.\n\n## Features\n\n- Feature 1\n- Feature 2\n- Feature 3\n\n## Installation\n\n\\`\\`\\`bash\n# Clone the repository\ngit clone https://github.com/username/project-name.git\n\n# Install dependencies\nnpm install\n\n# Copy environment file\ncp .env.example .env\n\\`\\`\\`\n\n## Usage\n\n\\`\\`\\`bash\n# Start development server\nnpm run dev\n\n# Run tests\nnpm test\n\n# Build for production\nnpm run build\n\\`\\`\\`\n\n## API Documentation\n\n[API documentation](docs/API.md)\n\n## Contributing\n\nPlease read [CONTRIBUTING.md](docs/CONTRIBUTING.md) for details.\n\n## License\n\nThis project is licensed under the MIT License - see [LICENSE](LICENSE) file.\n```\n\n### .env.example Template\n```env\n# Application\nNODE_ENV=development\nPORT=3000\nHOST=localhost\n\n# Database\nDB_HOST=localhost\nDB_PORT=5432\nDB_NAME=myapp\nDB_USER=username\nDB_PASSWORD=password\n\n# API Keys\nAPI_KEY=your-api-key-here\nSECRET_KEY=your-secret-key-here\n\n# External Services\nREDIS_URL=redis://localhost:6379\nEMAIL_SERVICE_API_KEY=your-email-key\n```\n\n## Development Environment Setup\n\n### Package.json Scripts\n```json\n{\n  \"scripts\": {\n    \"start\": \"node src/index.js\",\n    \"dev\": \"nodemon src/index.js\",\n    \"test\": \"jest\",\n    \"test:watch\": \"jest --watch\",\n    \"test:coverage\": \"jest --coverage\",\n    \"lint\": \"eslint src/\",\n    \"lint:fix\": \"eslint src/ --fix\",\n    \"format\": \"prettier --write src/\",\n    \"build\": \"webpack --mode production\",\n    \"build:dev\": \"webpack --mode development\",\n    \"clean\": \"rm -rf dist/\"\n  }\n}\n```\n\n### Git Initialization\n```bash\n# Initialize Git repository\ngit init\n\n# Add initial files\ngit add .\n\n# Create initial commit\ngit commit -m \"feat: initial project setup\n\n- Add project structure\n- Configure development environment\n- Add documentation templates\n- Set up testing framework\"\n\n# Add remote origin\ngit remote add origin https://github.com/username/project-name.git\n\n# Push to remote\ngit push -u origin main\n```\n\n## Language-Specific Setup\n\n### Node.js/JavaScript\n```bash\nnpm init -y\nnpm install --save-dev nodemon jest eslint prettier\n```\n\n### Python\n```bash\npython -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\npip install -r requirements.txt\n```\n\n### Docker Setup\n```dockerfile\n# Dockerfile\nFROM node:16-alpine\nWORKDIR /app\nCOPY package*.json ./\nRUN npm install\nCOPY . .\nEXPOSE 3000\nCMD [\"npm\", \"start\"]\n```\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\nservices:\n  app:\n    build: .\n    ports:\n      - \"3000:3000\"\n    environment:\n      - NODE_ENV=development\n    volumes:\n      - .:/app\n      - /app/node_modules\n```\n\n## Best Practices\n\n1. **Consistent Structure** - Follow established conventions\n2. **Clear Documentation** - Write comprehensive README\n3. **Environment Variables** - Keep secrets out of code\n4. **Version Control** - Initialize Git from the start\n5. **Testing Setup** - Configure testing from day one\n6. **Code Quality** - Set up linting and formatting\n7. **CI/CD Ready** - Structure for automated deployment\n8. **Security** - Include security best practices\n\n## Checklist\n\n- [ ] Create project directory structure\n- [ ] Initialize version control (Git)\n- [ ] Set up package manager (npm, pip, etc.)\n- [ ] Create README.md with project info\n- [ ] Add .gitignore file\n- [ ] Set up environment variables\n- [ ] Configure linting and formatting\n- [ ] Set up testing framework\n- [ ] Create basic documentation\n- [ ] Add license file\n- [ ] Set up CI/CD configuration (if needed)"
              },
              {
                "name": "/api-endpoint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/api-endpoint.md",
                "frontmatter": null,
                "content": "# API Endpoint Generator\n\nGenerate a complete API endpoint for $ARGUMENTS following project conventions.\n\n## Task\n\nI'll analyze the project structure and create a new API endpoint with:\n\n1. Route definition\n2. Controller/handler function\n3. Input validation\n4. Service layer logic (if applicable)\n5. Data access layer (if applicable)\n6. Unit tests\n7. Documentation\n\n## Process\n\nI'll follow these steps:\n\n1. Examine the project structure to understand the architecture pattern\n2. Identify existing patterns for routes, controllers, and validation\n3. Create all necessary files following project conventions\n4. Implement the endpoint with proper error handling\n5. Add appropriate tests\n6. Document the new endpoint\n\n## Best Practices\n\nI'll ensure the implementation includes:\n\n- Strong typing with TypeScript\n- Comprehensive error handling\n- Input validation\n- Security considerations (authentication/authorization)\n- Proper logging\n- Performance considerations\n- Test coverage\n\n## Adaptability\n\nI'll adapt to various API architectures:\n\n- Express/Koa/Fastify REST APIs\n- GraphQL resolvers\n- Next.js/Nuxt.js API routes\n- Serverless functions\n- tRPC endpoints\n- NestJS controllers\n\nI'll examine your project first to determine which pattern to follow."
              },
              {
                "name": "/debug",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/debug.md",
                "frontmatter": null,
                "content": "# Debug Assistant\n\nHelp me debug the issue with $ARGUMENTS in this project.\n\n## Task\n\nI'll help you identify and fix the problem by:\n\n1. Understanding the issue description\n2. Analyzing relevant code\n3. Identifying potential causes\n4. Suggesting and implementing fixes\n5. Verifying the solution works\n\n## Process\n\nI'll follow these steps:\n\n1. Examine error messages, logs, or unexpected behaviors\n2. Locate relevant files and code sections\n3. Analyze the code flow and potential failure points\n4. Identify common JavaScript/TypeScript pitfalls that might apply\n5. Suggest specific fixes with explanations\n6. Help implement and test the solution\n\n## Debugging Techniques\n\nI'll apply appropriate debugging techniques such as:\n\n- Static code analysis to find syntax or type errors\n- Runtime error analysis from logs or stack traces\n- Control flow tracing to understand execution paths\n- State inspection to identify incorrect values\n- Dependency analysis to find version conflicts\n- Network request inspection for API issues\n- Browser console analysis for frontend problems\n- Database query inspection for data issues\n\n## Common Issues I Can Help With\n\n- Type errors and null/undefined issues\n- Asynchronous code problems (Promises, async/await)\n- React/Vue/Angular component lifecycle issues\n- API integration problems\n- State management bugs\n- Performance bottlenecks\n- Memory leaks\n- Build/compilation errors\n- Testing failures\n- Environment configuration issues\n\nI'll adapt my approach based on your specific project structure, frameworks, and the nature of the problem."
              },
              {
                "name": "/lint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Lint Assistant\n\nAnalyze and fix linting issues in $ARGUMENTS following project conventions.\n\n## Task\n\nI'll help you identify and fix code style and quality issues by:\n\n1. Running appropriate linters for the project\n2. Analyzing linting errors and warnings\n3. Fixing issues automatically when possible\n4. Explaining complex issues that require manual intervention\n5. Ensuring code follows project style guidelines\n\n## Process\n\nI'll follow these steps:\n\n1. Identify the linting tools used in the project (ESLint, Prettier, TSLint, etc.)\n2. Run the appropriate linting commands\n3. Parse and categorize the results\n4. Apply automatic fixes for common issues\n5. Provide explanations and suggestions for more complex problems\n6. Verify fixes don't introduce new issues\n\n## Common Linting Issues I Can Fix\n\n- Code style inconsistencies (spacing, indentation, quotes, etc.)\n- Unused variables and imports\n- Missing type annotations in TypeScript\n- Accessibility (a11y) issues in UI components\n- Potential bugs flagged by static analysis\n- Performance issues in React/Vue components\n- Security vulnerabilities detected by linters\n- Deprecated API usage\n- Import ordering problems\n- Missing documentation\n\n## Linting Tools I Can Work With\n\n- ESLint (with various plugins and configs)\n- Prettier\n- TSLint (legacy)\n- stylelint (for CSS/SCSS)\n- commitlint (for commit messages)\n- Custom lint rules specific to your project\n\nI'll adapt my approach based on your project's specific linting configuration and style guide requirements."
              },
              {
                "name": "/npm-scripts",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/npm-scripts.md",
                "frontmatter": null,
                "content": "# NPM Scripts Assistant\n\nHelp me with NPM scripts: $ARGUMENTS\n\n## Task\n\nI'll help you work with package.json scripts by:\n\n1. Analyzing existing npm scripts in your project\n2. Creating new scripts or modifying existing ones\n3. Explaining what specific scripts do\n4. Suggesting improvements or optimizations\n5. Troubleshooting script execution issues\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your package.json file to understand current scripts\n2. Analyze dependencies and devDependencies for available tools\n3. Identify common patterns and conventions in your scripts\n4. Implement requested changes or create new scripts\n5. Provide explanations of how the scripts work\n6. Test scripts when possible to verify functionality\n\n## Common Script Types I Can Help With\n\n- Build processes (webpack, rollup, esbuild, etc.)\n- Development servers and hot reloading\n- Testing (unit, integration, e2e)\n- Linting and code formatting\n- Type checking\n- Deployment and CI/CD\n- Database migrations\n- Code generation\n- Environment setup\n- Pre/post hooks for git operations\n\n## Script Optimization Techniques\n\n- Parallelizing tasks for faster execution\n- Adding cross-platform compatibility\n- Improving error reporting and logging\n- Implementing watch modes for development\n- Creating composite scripts for common workflows\n- Adding appropriate exit codes for CI/CD pipelines\n\nI'll adapt my approach based on your project's specific needs, dependencies, and build tools."
              },
              {
                "name": "/refactor",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/refactor.md",
                "frontmatter": null,
                "content": "# Code Refactoring Assistant\n\nRefactor $ARGUMENTS following modern JavaScript/TypeScript best practices.\n\n## Task\n\nI'll help you refactor code by:\n\n1. Analyzing the current implementation\n2. Identifying improvement opportunities\n3. Applying modern patterns and practices\n4. Maintaining existing functionality\n5. Ensuring type safety and test coverage\n6. Documenting the changes made\n\n## Process\n\nI'll follow these steps:\n\n1. Examine the code to understand its purpose and structure\n2. Identify code smells, anti-patterns, or outdated approaches\n3. Plan the refactoring strategy with clear goals\n4. Implement changes incrementally while maintaining behavior\n5. Verify refactored code with tests\n6. Document improvements and benefits\n\n## Refactoring Techniques\n\nI can apply various refactoring techniques:\n\n- Converting to modern JavaScript/TypeScript features\n- Improving type definitions and type safety\n- Extracting reusable functions and components\n- Applying design patterns appropriately\n- Converting callbacks to Promises or async/await\n- Simplifying complex conditionals and loops\n- Removing duplicate code\n- Improving naming and readability\n- Optimizing performance\n- Enhancing error handling\n\n## Modern Practices I Can Apply\n\n- ES modules and import/export syntax\n- Optional chaining and nullish coalescing\n- Array and object destructuring\n- Spread and rest operators\n- Template literals\n- Arrow functions\n- Class fields and private methods\n- TypeScript utility types\n- Functional programming patterns\n- React hooks (for React components)\n\nI'll ensure the refactored code maintains compatibility with your project's requirements while improving quality and maintainability."
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Assistant\n\nHelp with tests for $ARGUMENTS following project conventions and testing best practices.\n\n## Task\n\nI'll help you with testing by:\n\n1. Creating comprehensive test suites for your code\n2. Implementing different types of tests (unit, integration, e2e)\n3. Mocking dependencies and external services\n4. Improving test coverage for existing code\n5. Troubleshooting failing tests\n6. Setting up testing infrastructure\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your project to understand testing frameworks and patterns\n2. Analyze the code to be tested to understand its functionality\n3. Identify appropriate testing strategies and edge cases\n4. Implement tests with proper structure and assertions\n5. Ensure tests are maintainable and follow best practices\n6. Run tests to verify they pass and provide adequate coverage\n\n## Testing Frameworks I Can Work With\n\n- Jest, Vitest, Mocha, Jasmine for JavaScript/TypeScript\n- React Testing Library, Enzyme for React components\n- Cypress, Playwright, Puppeteer for E2E testing\n- Supertest, Pactum for API testing\n- Storybook for component testing\n- Testing-library family for various frameworks\n\n## Testing Techniques\n\nI can implement various testing approaches:\n\n- TDD (Test-Driven Development)\n- BDD (Behavior-Driven Development)\n- Snapshot testing\n- Property-based testing\n- Parameterized tests\n- Contract testing\n- Visual regression testing\n- Performance testing\n\n## Mocking Strategies\n\nI can help with different mocking approaches:\n\n- Function mocks and spies\n- Module mocks\n- HTTP request mocking\n- Browser API mocking\n- Timer mocking\n- Database mocking\n- Service worker mocking\n\nI'll adapt to your project's specific testing frameworks, patterns, and conventions to ensure consistency with your existing codebase."
              },
              {
                "name": "/typescript-migrate",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/typescript-migrate.md",
                "frontmatter": null,
                "content": "# TypeScript Migration Assistant\n\nMigrate $ARGUMENTS from JavaScript to TypeScript with proper typing and modern practices.\n\n## Task\n\nI'll help you migrate JavaScript code to TypeScript by:\n\n1. Converting JavaScript files to TypeScript (.js/.jsx to .ts/.tsx)\n2. Adding appropriate type definitions and interfaces\n3. Configuring TypeScript settings for your project\n4. Resolving type errors and compatibility issues\n5. Implementing modern TypeScript patterns and features\n6. Ensuring backward compatibility with existing code\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your project structure and dependencies\n2. Analyze the JavaScript code to understand its functionality\n3. Create or update tsconfig.json with appropriate settings\n4. Convert files to TypeScript with proper type annotations\n5. Add necessary type definitions for libraries\n6. Fix type errors and implement type safety\n7. Refactor code to leverage TypeScript features\n\n## TypeScript Features I Can Implement\n\n- Interfaces and type aliases for complex data structures\n- Generics for reusable, type-safe components and functions\n- Union and intersection types for flexible typing\n- Enums for related constants\n- Utility types (Partial, Pick, Omit, etc.)\n- Type guards and type narrowing\n- Mapped and conditional types\n- Function overloading\n- Readonly properties and immutability\n- Module augmentation for extending third-party types\n\n## Migration Strategies\n\nI can apply different migration approaches based on your needs:\n\n- Gradual migration with allowJs and incremental adoption\n- File-by-file conversion while maintaining functionality\n- Comprehensive migration with full type safety\n- Hybrid approach with .d.ts files for complex modules\n- Integration with existing type definitions (@types packages)\n\nI'll adapt to your project's specific requirements and ensure a smooth transition to TypeScript while maintaining existing functionality."
              },
              {
                "name": "/components",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/angular-app/.claude/commands/components.md",
                "frontmatter": null,
                "content": "# Angular Components\n\nCreate Angular components for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Angular components based on the requirements:\n\n1. **Analyze existing components**: Check current component patterns, naming conventions, and folder organization\n2. **Examine Angular setup**: Review project structure, module organization, and TypeScript configuration\n3. **Identify component type**: Determine the component category:\n   - Presentation components (dumb/pure components)\n   - Container components (smart components with state)\n   - Feature components (business logic components)\n   - Shared/UI components (reusable across features)\n   - Layout components (structural components)\n4. **Check dependencies**: Review existing components and shared modules to avoid duplication\n5. **Implement component**: Create component with proper TypeScript types and lifecycle hooks\n6. **Add inputs/outputs**: Define @Input and @Output properties with proper typing\n7. **Create template**: Build HTML template with proper Angular directives and bindings\n8. **Add styles**: Implement component styles following project's styling approach\n9. **Create tests**: Write comprehensive unit tests with TestBed and proper mocking\n10. **Update module**: Register component in appropriate Angular module\n\n## Implementation Requirements\n\n- Follow project's Angular architecture and naming conventions\n- Use proper component lifecycle hooks (OnInit, OnDestroy, etc.)\n- Include comprehensive TypeScript interfaces for inputs and outputs\n- Implement proper change detection strategy (OnPush when possible)\n- Add proper subscription management with takeUntil or async pipe\n- Follow Angular style guide and project coding standards\n- Consider component performance and memory management\n\n## Component Patterns to Consider\n\nBased on the request:\n- **Smart Components**: Container components that manage state and services\n- **Dumb Components**: Presentation components that only receive inputs\n- **Feature Components**: Components specific to business features\n- **Shared Components**: Reusable UI components across the application\n- **Form Components**: Reactive forms with validation and custom controls\n- **Data Display**: Components for tables, lists, cards with proper data binding\n\n## Angular-Specific Implementation\n\n- **Template Syntax**: Proper use of Angular directives (*ngFor, *ngIf, etc.)\n- **Data Binding**: Property binding, event binding, two-way binding\n- **Change Detection**: OnPush strategy for performance optimization\n- **Lifecycle Management**: Proper use of lifecycle hooks\n- **Dependency Injection**: Service injection in component constructors\n- **Testing**: TestBed configuration with proper mocking and spies\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same styling approach and class naming as existing components\n- Follow project's folder structure for components (usually feature-based)\n- Don't install new dependencies without asking\n- Consider component reusability and single responsibility principle\n- Add proper TypeScript types for all component properties and methods\n- Use trackBy functions for performance in *ngFor loops\n- Implement proper unsubscription patterns to prevent memory leaks"
              },
              {
                "name": "/services",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/angular-app/.claude/commands/services.md",
                "frontmatter": null,
                "content": "# Angular Services\n\nCreate Angular services for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Angular services based on the requirements:\n\n1. **Analyze existing services**: Check current service patterns, naming conventions, and folder organization\n2. **Examine Angular setup**: Review project structure, dependency injection patterns, and TypeScript configuration\n3. **Identify service type**: Determine the service category:\n   - Data services (HTTP API calls, state management)\n   - Utility services (validation, formatting, helpers)\n   - Business logic services (calculations, workflows)\n   - Infrastructure services (logging, authentication, error handling)\n   - Feature services (component-specific logic)\n4. **Check dependencies**: Review existing services and shared modules to avoid duplication\n5. **Implement service**: Create service with proper dependency injection and TypeScript types\n6. **Add error handling**: Include comprehensive error handling with RxJS operators\n7. **Create tests**: Write unit tests with proper mocking following project patterns\n8. **Update module registration**: Register service in appropriate Angular modules\n\n## Implementation Requirements\n\n- Follow project's Angular architecture and naming conventions (usually .service.ts)\n- Use proper dependency injection with @Injectable decorator\n- Include comprehensive TypeScript interfaces and types\n- Implement proper RxJS patterns (observables, operators, error handling)\n- Add proper error handling and logging integration\n- Follow single responsibility principle for service design\n- Consider service lifecycle and singleton patterns\n\n## Service Patterns to Consider\n\nBased on the request:\n- **HTTP Data Services**: API calls with proper error handling and caching\n- **State Management**: Services for sharing data between components\n- **Authentication**: User authentication, token management, guards\n- **Business Logic**: Complex calculations, workflows, validations\n- **Utility Services**: Reusable functions, formatters, validators\n- **Feature Services**: Component-specific logic extraction\n- **Infrastructure**: Logging, monitoring, configuration services\n\n## Angular-Specific Implementation\n\n- **Dependency Injection**: Proper use of @Injectable and providedIn\n- **RxJS Integration**: Observables, subjects, operators for reactive programming\n- **HTTP Client**: Angular HttpClient for API communication\n- **Error Handling**: Global error handling and user-friendly error messages\n- **Testing**: TestBed, jasmine, karma for comprehensive unit testing\n- **Module Organization**: Feature modules, shared modules, core modules\n\n## Important Notes\n\n- ALWAYS examine existing services first to understand project patterns\n- Use the same error handling and response patterns as existing services\n- Follow project's folder structure for services (usually /services or /core)\n- Don't install new dependencies without asking\n- Consider service performance and memory management\n- Add proper RxJS subscription management to prevent memory leaks\n- Use Angular's built-in services (HttpClient, Router) rather than external libraries\n- Include proper TypeScript types for all service methods and properties"
              },
              {
                "name": "/api-endpoint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/api-endpoint.md",
                "frontmatter": null,
                "content": "# API Endpoint Generator\n\nGenerate a complete API endpoint for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate a new API endpoint with all necessary components:\n\n1. **Analyze project architecture**: Examine existing API structure, patterns, and conventions\n2. **Identify framework**: Determine if using Express, Fastify, NestJS, Next.js API routes, or other framework\n3. **Check authentication**: Review existing auth patterns and middleware usage\n4. **Examine data layer**: Identify database/ORM patterns (Prisma, TypeORM, Mongoose, etc.)\n5. **Create endpoint structure**: Generate route, controller, validation, and service layers\n6. **Implement business logic**: Add core functionality with proper error handling\n7. **Add validation**: Include input validation using project's validation library\n8. **Create tests**: Write unit and integration tests following project patterns\n9. **Update documentation**: Add endpoint documentation (OpenAPI/Swagger if used)\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing middleware patterns for auth, validation, logging\n- Include proper HTTP status codes and error responses\n- Add comprehensive input validation and sanitization\n- Implement proper logging and monitoring\n- Consider rate limiting and security headers\n- Follow project's database transaction patterns\n\n## Framework-Specific Patterns\n\nI'll adapt to your project's framework:\n- **Express**: Routes, controllers, middleware\n- **Fastify**: Routes, handlers, schemas, plugins\n- **NestJS**: Controllers, services, DTOs, guards\n- **Next.js**: API routes with proper HTTP methods\n- **tRPC**: Procedures with input/output validation\n- **GraphQL**: Resolvers with proper type definitions\n\n## Important Notes\n\n- ALWAYS examine existing endpoints first to understand project patterns\n- Use the same error handling and response format as existing endpoints\n- Follow project's folder structure and naming conventions\n- Don't install new dependencies without asking\n- Consider backward compatibility if modifying existing endpoints\n- Add proper database migrations if schema changes are needed"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# Database Operations\n\nSet up database operations for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize database operations based on the requirements:\n\n1. **Analyze existing database setup**: Check current database configuration, ORM/ODM, and connection patterns\n2. **Identify database type**: Determine if using MongoDB, PostgreSQL, MySQL, or other database\n3. **Examine ORM/ODM**: Check for Prisma, TypeORM, Mongoose, Sequelize, or raw SQL patterns\n4. **Review existing models**: Understand current schema patterns and relationships\n5. **Check migration system**: Identify migration tools and patterns in use\n6. **Implement operations**: Create models, repositories, or services following project architecture\n7. **Add validation**: Include proper schema validation and constraints\n8. **Create tests**: Write database operation tests following project patterns\n9. **Update migrations**: Add necessary database migrations if schema changes required\n\n## Implementation Requirements\n\n- Follow project's database architecture patterns\n- Use existing ORM/ODM configuration and connection setup\n- Include proper TypeScript types for all database operations\n- Add comprehensive error handling and transaction management\n- Implement proper indexing for performance\n- Follow project's naming conventions for tables/collections and fields\n- Consider data validation at both application and database levels\n\n## Database Patterns to Consider\n\nBased on your project setup:\n- **Repository Pattern**: Separate data access logic from business logic\n- **Active Record**: Models with built-in database operations\n- **Data Mapper**: Separate domain models from database schema\n- **Query Builder**: Fluent interface for building database queries\n- **Raw SQL**: Direct database queries for complex operations\n\n## Operation Types\n\nCommon database operations to implement:\n- **CRUD operations**: Create, Read, Update, Delete\n- **Bulk operations**: Batch inserts, updates, deletes\n- **Aggregation**: Complex queries with grouping and calculations\n- **Relationships**: Managing foreign keys and joins\n- **Transactions**: Ensuring data consistency\n- **Migrations**: Schema changes and data transformations\n\n## Important Notes\n\n- ALWAYS examine existing database setup first to understand project patterns\n- Use the same connection configuration and environment variables\n- Follow project's folder structure for models/schemas\n- Don't install new database dependencies without asking\n- Consider performance implications (indexes, query optimization)\n- Add proper database connection pooling if not already configured\n- Include proper cleanup and connection closing in tests"
              },
              {
                "name": "/middleware",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/middleware.md",
                "frontmatter": null,
                "content": "# Express Middleware\n\nCreate Express middleware for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Express middleware based on the requirements:\n\n1. **Analyze existing middleware**: Check current middleware patterns, naming conventions, and file organization\n2. **Examine Express setup**: Review app configuration, middleware stack order, and TypeScript usage\n3. **Identify middleware type**: Determine the middleware category:\n   - Authentication/Authorization (JWT, sessions, role-based)\n   - Validation (request body, params, query validation)\n   - Logging (request/response logging, audit trails)\n   - Error handling (global error handlers, custom errors)\n   - Security (CORS, rate limiting, helmet)\n   - Utility (parsing, compression, static files)\n4. **Check dependencies**: Review existing middleware dependencies to avoid duplication\n5. **Implement middleware**: Create middleware with proper TypeScript types and error handling\n6. **Test middleware**: Write unit and integration tests following project patterns\n7. **Update middleware stack**: Integrate middleware into Express app configuration\n8. **Add documentation**: Include JSDoc comments and usage examples\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing error handling patterns and response formats\n- Include proper request/response typing with custom interfaces\n- Add comprehensive error handling and logging\n- Consider middleware execution order and dependencies\n- Implement proper async/await patterns for async middleware\n- Follow project's folder structure for middleware files\n\n## Middleware Patterns to Consider\n\nBased on the request:\n- **Authentication**: JWT verification, session management, API key validation\n- **Authorization**: Role-based access control, permission checking\n- **Validation**: Schema validation with Joi/Zod, sanitization\n- **Logging**: Request logging, performance monitoring, audit trails\n- **Error Handling**: Global error handlers, custom error classes\n- **Security**: CORS configuration, rate limiting, input sanitization\n- **Utility**: Request parsing, response formatting, caching\n\n## Integration Considerations\n\n- **Middleware order**: Ensure proper execution sequence in Express app\n- **Error propagation**: Handle errors correctly with next() function\n- **Request enhancement**: Add properties to request object with proper typing\n- **Response modification**: Modify response objects while maintaining type safety\n- **Performance**: Consider middleware performance impact on request processing\n\n## Important Notes\n\n- ALWAYS examine existing middleware first to understand project patterns\n- Use the same error handling and response format as existing middleware\n- Follow project's folder structure for middleware (usually /middleware)\n- Don't install new dependencies without asking\n- Consider middleware performance and request processing impact\n- Add proper TypeScript types for enhanced request/response objects\n- Test middleware in isolation and integration contexts"
              },
              {
                "name": "/route",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/route.md",
                "frontmatter": null,
                "content": "# Route Creator\n\nCreate API routes for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize API routes based on the requirements:\n\n1. **Analyze project structure**: Check existing route patterns, folder organization, and framework setup\n2. **Examine framework**: Identify if using Express, Fastify, NestJS, or other Node.js framework\n3. **Review existing routes**: Understand current routing patterns, validation, and error handling\n4. **Check authentication**: Review existing auth middleware and protection patterns\n5. **Define route structure**: Determine HTTP methods, path parameters, and request/response schemas\n6. **Implement routes**: Create route handlers with proper validation and error handling\n7. **Add middleware**: Include authentication, validation, and logging middleware as needed\n8. **Create tests**: Write route tests following project testing patterns\n9. **Update route registration**: Integrate new routes into main router configuration\n\n## Implementation Requirements\n\n- Follow project's routing architecture and naming conventions\n- Use existing validation libraries (Joi, Zod, class-validator, etc.)\n- Include proper TypeScript types for request/response objects\n- Add comprehensive error handling with appropriate HTTP status codes\n- Implement proper authentication/authorization if required\n- Follow RESTful conventions unless project uses different patterns\n- Add proper logging and monitoring integration\n\n## Route Patterns to Consider\n\nBased on the request:\n- **CRUD operations**: Create, Read, Update, Delete for resources\n- **RESTful endpoints**: GET, POST, PUT, PATCH, DELETE with proper semantics\n- **Nested resources**: Parent/child resource relationships\n- **Batch operations**: Bulk create, update, delete operations\n- **Search/filtering**: Query parameters for filtering and pagination\n- **File uploads**: Multipart form handling for file operations\n- **Webhook endpoints**: External service integration points\n\n## Framework-Specific Implementation\n\nAdapt to your project's framework:\n- **Express**: Router instances, middleware chains, route handlers\n- **Fastify**: Route plugins, schema validation, hooks\n- **NestJS**: Controllers, decorators, DTOs, guards, interceptors\n- **Koa**: Router middleware, context handling\n- **Next.js API**: API route handlers with proper HTTP methods\n\n## Important Notes\n\n- ALWAYS examine existing routes first to understand project patterns\n- Use the same validation and error handling patterns as existing routes\n- Follow project's folder structure for routes (usually /routes or /controllers)\n- Don't install new dependencies without asking\n- Consider route performance and database query optimization\n- Add proper OpenAPI/Swagger documentation if project uses it\n- Include rate limiting for public endpoints where appropriate"
              },
              {
                "name": "/component",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/component.md",
                "frontmatter": null,
                "content": "# React Component Generator\n\nCreate a React component named $ARGUMENTS following project conventions.\n\n## Steps\n\n1. **Analyze project structure**: Check existing components to understand file organization, naming conventions, and patterns\n2. **Examine styling approach**: Identify CSS/SCSS modules, styled-components, Tailwind, or other styling methods used\n3. **Review testing patterns**: Check existing test files to understand testing framework and conventions\n4. **Create component structure**: Generate appropriate files (component, styles, tests, index)\n5. **Implement component**: Write TypeScript/JavaScript with proper props interface and logic\n6. **Add tests**: Write comprehensive tests following project patterns\n7. **Verify integration**: Ensure component works with existing project setup\n\n## Requirements\n\n- Follow existing project file structure and naming conventions\n- Use TypeScript if project uses it\n- Include proper accessibility attributes\n- Add responsive design considerations\n- Write tests that match project testing patterns\n- Include usage examples in component documentation\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same styling approach as the rest of the project\n- Follow the project's TypeScript conventions for props and interfaces\n- Don't install new dependencies without asking first"
              },
              {
                "name": "/hooks",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/hooks.md",
                "frontmatter": null,
                "content": "# React Hooks\n\nCreate or optimize React hooks for $ARGUMENTS following project conventions.\n\n## Task\n\nAnalyze the request and create appropriate React hooks:\n\n1. **Examine existing hooks**: Check project for existing custom hooks patterns and conventions\n2. **Identify hook type**: Determine if creating new custom hook, optimizing existing hook, or implementing specific hook pattern\n3. **Check TypeScript usage**: Verify if project uses TypeScript and follow typing conventions\n4. **Implement hook**: Create hook with proper:\n   - Naming convention (use prefix)\n   - TypeScript types and interfaces\n   - Proper dependency arrays\n   - Error handling\n   - Performance optimizations\n5. **Add tests**: Create comprehensive unit tests using project's testing framework\n6. **Add documentation**: Include JSDoc comments and usage examples\n\n## Common Hook Patterns\n\nWhen creating hooks, consider these patterns based on the request:\n- **Data fetching**: API calls, loading states, error handling\n- **State management**: Local state, derived state, state persistence\n- **Side effects**: Event listeners, timers, subscriptions\n- **Context consumption**: Theme, auth, app state\n- **Form handling**: Input management, validation, submission\n- **Performance**: Memoization, debouncing, throttling\n\n## Requirements\n\n- Follow existing project hook conventions\n- Use TypeScript if project uses it\n- Include proper cleanup in useEffect\n- Add error boundaries where appropriate\n- Write tests that cover all hook functionality\n- IMPORTANT: Always check existing hooks first to understand project patterns\n\n## Notes\n\n- Ask for clarification if the hook requirements are ambiguous\n- Suggest optimizations for existing hooks if relevant\n- Consider accessibility implications for UI-related hooks"
              },
              {
                "name": "/state-management",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/state-management.md",
                "frontmatter": null,
                "content": "# React State Management\n\nImplement state management solution for $ARGUMENTS following project conventions.\n\n## Task\n\nSet up or optimize state management based on the requirements:\n\n1. **Analyze current setup**: Check existing state management approach and project structure\n2. **Determine solution**: Based on requirements, choose appropriate state management:\n   - Context API for simple, localized state\n   - Redux Toolkit for complex, global state\n   - Zustand for lightweight global state\n   - Custom hooks for component-level state\n3. **Examine dependencies**: Check package.json for existing state management libraries\n4. **Implement solution**: Create store, providers, and hooks with proper TypeScript types\n5. **Set up middleware**: Add devtools, persistence, or other middleware as needed\n6. **Create typed hooks**: Generate properly typed selectors and dispatch hooks\n7. **Add tests**: Write unit tests for state logic and reducers\n8. **Update providers**: Integrate with app's provider hierarchy\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions\n- Use existing state management patterns if present\n- Create proper type definitions for state shape\n- Include error handling and loading states\n- Add proper debugging setup (devtools)\n- Consider performance optimizations (selectors, memoization)\n\n## State Management Selection Guide\n\nChoose based on complexity:\n- **Simple state**: React hooks + Context API\n- **Medium complexity**: Zustand or custom hooks\n- **Complex state**: Redux Toolkit with RTK Query\n- **Form state**: React Hook Form or Formik\n\n## Important Notes\n\n- ALWAYS check existing state management first\n- Don't install new dependencies without asking\n- Follow project's folder structure for state files\n- Consider server state vs client state separation\n- Add proper TypeScript types for all state interfaces"
              },
              {
                "name": "/components",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/vue-app/.claude/commands/components.md",
                "frontmatter": null,
                "content": "# Vue Components\n\nCreate Vue Single File Components for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Vue components based on the requirements:\n\n1. **Analyze project structure**: Check existing Vue components to understand patterns, conventions, and file organization\n2. **Examine Vue setup**: Identify Vue version (2/3), TypeScript usage, and Composition/Options API preference\n3. **Check styling approach**: Determine if using CSS modules, SCSS, styled-components, or other styling methods\n4. **Review testing patterns**: Check existing component tests to understand testing framework and conventions\n5. **Create component structure**: Generate SFC with template, script, and style sections\n6. **Implement component**: Write TypeScript interfaces, props, emits, and component logic\n7. **Add accessibility**: Include proper ARIA attributes and semantic HTML\n8. **Create tests**: Write comprehensive component tests following project patterns\n9. **Add documentation**: Include JSDoc comments and usage examples\n\n## Component Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing component patterns and naming conventions\n- Implement proper props validation and typing\n- Add appropriate event emissions with TypeScript signatures\n- Include scoped styles following project's styling approach\n- Add proper accessibility attributes (ARIA, semantic HTML)\n- Consider responsive design if applicable\n\n## Vue Patterns to Consider\n\nBased on the component type:\n- **Composition API**: For Vue 3 projects with `<script setup>`\n- **Options API**: For Vue 2 or legacy Vue 3 projects\n- **Composables**: Extract reusable logic into composables\n- **Provide/Inject**: For deep component communication\n- **Slots**: For flexible component content\n- **Teleport**: For portal-like functionality (Vue 3)\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same Vue API style (Composition vs Options) as the project\n- Follow project's folder structure for components\n- Don't install new dependencies without asking\n- Consider component performance (v-memo, computed properties)\n- Add proper TypeScript types for all props and emits"
              },
              {
                "name": "/composables",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/vue-app/.claude/commands/composables.md",
                "frontmatter": null,
                "content": "# Vue Composables\n\nCreate Vue composables for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Vue composables based on the requirements:\n\n1. **Analyze existing composables**: Check project for existing composable patterns, naming conventions, and file organization\n2. **Examine Vue setup**: Verify Vue 3 Composition API usage and TypeScript configuration\n3. **Identify composable type**: Determine the composable category:\n   - State management (reactive data, computed properties)\n   - API/HTTP operations (data fetching, mutations)\n   - DOM interactions (event listeners, element refs)\n   - Utility functions (validation, formatting, storage)\n   - Lifecycle management (cleanup, watchers)\n4. **Check dependencies**: Review existing composables to avoid duplication\n5. **Implement composable**: Create composable with proper TypeScript types and reactivity\n6. **Add lifecycle management**: Include proper cleanup with onUnmounted when needed\n7. **Create tests**: Write comprehensive unit tests for composable logic\n8. **Add documentation**: Include JSDoc comments and usage examples\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use appropriate Vue reactivity APIs (ref, reactive, computed, watch)\n- Include proper error handling and loading states\n- Add cleanup for side effects (event listeners, timers, subscriptions)\n- Make composables reusable and focused on single responsibility\n- Consider performance implications (shallow vs deep reactivity)\n\n## Common Composable Patterns\n\nBased on the request:\n- **Data fetching**: API calls with loading/error states\n- **Form handling**: Input management, validation, submission\n- **State management**: Local state, persistence, computed values\n- **DOM utilities**: Element refs, event handling, intersection observer\n- **Storage**: localStorage, sessionStorage, IndexedDB\n- **Authentication**: User state, token management, permissions\n- **UI utilities**: Dark mode, responsive breakpoints, modals\n\n## Important Notes\n\n- ALWAYS examine existing composables first to understand project patterns\n- Use proper Vue 3 Composition API patterns\n- Follow project's folder structure for composables (usually /composables)\n- Don't install new dependencies without asking\n- Consider composable composition (using other composables within composables)\n- Add proper TypeScript return types and generic constraints\n- Include proper reactivity patterns (avoid losing reactivity)"
              },
              {
                "name": "/lint",
                "description": null,
                "path": "cli-tool/templates/python/.claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Python Linter\n\nRun Python code linting and formatting tools.\n\n## Purpose\n\nThis command helps you maintain code quality using Python's best linting and formatting tools.\n\n## Usage\n\n```\n/lint\n```\n\n## What this command does\n\n1. **Runs multiple linters** (flake8, pylint, black, isort)\n2. **Provides detailed feedback** on code quality issues\n3. **Auto-fixes formatting** where possible\n4. **Checks type hints** if mypy is configured\n\n## Example Commands\n\n### Black (code formatting)\n```bash\n# Format all Python files\nblack .\n\n# Check formatting without changing files\nblack --check .\n\n# Format specific file\nblack src/main.py\n```\n\n### flake8 (style guide enforcement)\n```bash\n# Check all Python files\nflake8 .\n\n# Check specific directory\nflake8 src/\n\n# Check with specific rules\nflake8 --max-line-length=88 .\n```\n\n### isort (import sorting)\n```bash\n# Sort imports in all files\nisort .\n\n# Check import sorting\nisort --check-only .\n\n# Sort imports in specific file\nisort src/main.py\n```\n\n### pylint (comprehensive linting)\n```bash\n# Run pylint on all files\npylint src/\n\n# Run with specific score threshold\npylint --fail-under=8.0 src/\n\n# Generate detailed report\npylint --output-format=html src/ > pylint_report.html\n```\n\n### mypy (type checking)\n```bash\n# Check types in all files\nmypy .\n\n# Check specific module\nmypy src/models.py\n\n# Check with strict mode\nmypy --strict src/\n```\n\n## Configuration Files\n\nMost projects benefit from configuration files:\n\n### .flake8\n```ini\n[flake8]\nmax-line-length = 88\nexclude = .git,__pycache__,venv\nignore = E203,W503\n```\n\n### pyproject.toml\n```toml\n[tool.black]\nline-length = 88\n\n[tool.isort]\nprofile = \"black\"\n```\n\n## Best Practices\n\n- Run linters before committing code\n- Use consistent formatting across the project\n- Fix linting issues promptly\n- Configure linters to match your team's style\n- Use type hints for better code documentation"
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/python/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Runner\n\nRun Python tests with pytest, unittest, or other testing frameworks.\n\n## Purpose\n\nThis command helps you run Python tests effectively with proper configuration and reporting.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Detects test framework** (pytest, unittest, nose2)\n2. **Runs appropriate tests** with proper configuration\n3. **Provides coverage reporting** if available\n4. **Shows clear test results** with failure details\n\n## Example Commands\n\n### pytest (recommended)\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=src --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n\n# Run tests matching pattern\npytest -k \"test_user\"\n```\n\n### unittest\n```bash\n# Run all tests\npython -m unittest discover\n\n# Run specific test file\npython -m unittest tests.test_models\n\n# Run with verbose output\npython -m unittest -v\n```\n\n### Django tests\n```bash\n# Run all Django tests\npython manage.py test\n\n# Run specific app tests\npython manage.py test myapp\n\n# Run with coverage\ncoverage run --source='.' manage.py test\ncoverage report\n```\n\n## Best Practices\n\n- Write tests for all critical functionality\n- Use descriptive test names\n- Keep tests isolated and independent\n- Mock external dependencies\n- Aim for high test coverage (80%+)"
              },
              {
                "name": "/admin",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/admin.md",
                "frontmatter": null,
                "content": "# Django Admin Configuration\n\nConfigure Django admin interface with custom admin classes and functionality.\n\n## Purpose\n\nThis command helps you create comprehensive Django admin configurations with advanced features and customizations.\n\n## Usage\n\n```\n/admin\n```\n\n## What this command does\n\n1. **Registers models** with custom admin classes\n2. **Creates advanced admin interfaces** with filtering, search, and actions\n3. **Adds inline editing** for related models\n4. **Customizes list displays** and forms\n5. **Implements admin actions** for bulk operations\n\n## Example Output\n\n```python\n# admin.py\nfrom django.contrib import admin\nfrom django.utils.html import format_html\nfrom django.urls import reverse\nfrom django.utils.safestring import mark_safe\nfrom .models import Post, Category, Tag, Comment\n\n@admin.register(Category)\nclass CategoryAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Category model.\"\"\"\n    list_display = ['name', 'slug', 'post_count', 'created_at']\n    list_filter = ['created_at']\n    search_fields = ['name', 'description']\n    prepopulated_fields = {'slug': ('name',)}\n    readonly_fields = ['created_at', 'updated_at']\n    \n    def post_count(self, obj):\n        \"\"\"Display number of posts in this category.\"\"\"\n        count = obj.posts.count()\n        url = reverse('admin:blog_post_changelist') + f'?category__id__exact={obj.id}'\n        return format_html('<a href=\"{}\">{} posts</a>', url, count)\n    post_count.short_description = 'Posts'\n\nclass CommentInline(admin.TabularInline):\n    \"\"\"Inline admin for comments.\"\"\"\n    model = Comment\n    extra = 0\n    readonly_fields = ['created_at', 'author']\n    fields = ['author', 'content', 'is_approved', 'created_at']\n\n@admin.register(Post)\nclass PostAdmin(admin.ModelAdmin):\n    \"\"\"Advanced admin configuration for Post model.\"\"\"\n    list_display = [\n        'title', \n        'author', \n        'category', \n        'status', \n        'view_count',\n        'created_at',\n        'post_preview'\n    ]\n    list_filter = [\n        'status', \n        'category', \n        'created_at', \n        'updated_at',\n        ('author', admin.RelatedOnlyFieldListFilter)\n    ]\n    search_fields = ['title', 'content', 'author__username']\n    prepopulated_fields = {'slug': ('title',)}\n    readonly_fields = ['created_at', 'updated_at', 'view_count', 'post_preview']\n    \n    # Custom form layout\n    fieldsets = (\n        ('Content', {\n            'fields': ('title', 'slug', 'content', 'status')\n        }),\n        ('Metadata', {\n            'fields': ('author', 'category', 'tags'),\n            'classes': ('collapse',)\n        }),\n        ('SEO', {\n            'fields': ('meta_description', 'meta_keywords'),\n            'classes': ('collapse',)\n        }),\n        ('Timestamps', {\n            'fields': ('created_at', 'updated_at', 'view_count'),\n            'classes': ('collapse',)\n        }),\n    )\n    \n    # Many-to-many field display\n    filter_horizontal = ['tags']\n    \n    # Inline models\n    inlines = [CommentInline]\n    \n    # Custom list display methods\n    def post_preview(self, obj):\n        \"\"\"Show thumbnail preview of post.\"\"\"\n        if obj.featured_image:\n            return format_html(\n                '<img src=\"{}\" width=\"50\" height=\"50\" style=\"border-radius: 5px;\" />',\n                obj.featured_image.url\n            )\n        return \"No image\"\n    post_preview.short_description = 'Preview'\n    \n    # Custom admin actions\n    actions = ['make_published', 'make_draft', 'duplicate_posts']\n    \n    def make_published(self, request, queryset):\n        \"\"\"Bulk action to publish selected posts.\"\"\"\n        updated = queryset.update(status='published')\n        self.message_user(\n            request, \n            f'{updated} posts were successfully marked as published.'\n        )\n    make_published.short_description = \"Mark selected posts as published\"\n    \n    def make_draft(self, request, queryset):\n        \"\"\"Bulk action to set selected posts as draft.\"\"\"\n        updated = queryset.update(status='draft')\n        self.message_user(\n            request, \n            f'{updated} posts were successfully marked as draft.'\n        )\n    make_draft.short_description = \"Mark selected posts as draft\"\n    \n    def duplicate_posts(self, request, queryset):\n        \"\"\"Bulk action to duplicate selected posts.\"\"\"\n        count = 0\n        for post in queryset:\n            post.pk = None  # Create new instance\n            post.title = f\"Copy of {post.title}\"\n            post.slug = f\"copy-of-{post.slug}\"\n            post.status = 'draft'\n            post.save()\n            count += 1\n        \n        self.message_user(\n            request,\n            f'{count} posts were successfully duplicated.'\n        )\n    duplicate_posts.short_description = \"Duplicate selected posts\"\n\n@admin.register(Tag)\nclass TagAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Tag model.\"\"\"\n    list_display = ['name', 'slug', 'post_count', 'color_preview']\n    search_fields = ['name']\n    prepopulated_fields = {'slug': ('name',)}\n    \n    def post_count(self, obj):\n        \"\"\"Display number of posts with this tag.\"\"\"\n        return obj.posts.count()\n    post_count.short_description = 'Posts'\n    \n    def color_preview(self, obj):\n        \"\"\"Show color preview if tag has color field.\"\"\"\n        if hasattr(obj, 'color') and obj.color:\n            return format_html(\n                '<span style=\"background-color: {}; padding: 2px 8px; border-radius: 3px; color: white;\">{}</span>',\n                obj.color,\n                obj.name\n            )\n        return obj.name\n    color_preview.short_description = 'Preview'\n\n@admin.register(Comment)\nclass CommentAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Comment model.\"\"\"\n    list_display = ['author', 'post', 'content_preview', 'is_approved', 'created_at']\n    list_filter = ['is_approved', 'created_at', 'post__category']\n    search_fields = ['content', 'author__username', 'post__title']\n    readonly_fields = ['created_at', 'updated_at']\n    actions = ['approve_comments', 'disapprove_comments']\n    \n    def content_preview(self, obj):\n        \"\"\"Show truncated content preview.\"\"\"\n        return obj.content[:50] + \"...\" if len(obj.content) > 50 else obj.content\n    content_preview.short_description = 'Content'\n    \n    def approve_comments(self, request, queryset):\n        \"\"\"Bulk approve comments.\"\"\"\n        updated = queryset.update(is_approved=True)\n        self.message_user(request, f'{updated} comments were approved.')\n    approve_comments.short_description = \"Approve selected comments\"\n    \n    def disapprove_comments(self, request, queryset):\n        \"\"\"Bulk disapprove comments.\"\"\"\n        updated = queryset.update(is_approved=False)\n        self.message_user(request, f'{updated} comments were disapproved.')\n    disapprove_comments.short_description = \"Disapprove selected comments\"\n\n# Custom admin site configuration\nadmin.site.site_header = \"Blog Administration\"\nadmin.site.site_title = \"Blog Admin Portal\"\nadmin.site.index_title = \"Welcome to Blog Administration\"\n```\n\n## Advanced Features\n\n### Custom List Display\n- **Thumbnail previews** for images\n- **Related object counts** with links\n- **Status indicators** with colors\n- **Custom formatting** for data display\n\n### Filtering and Search\n- **Advanced filters** including date ranges\n- **Related field filtering** for foreign keys\n- **Search across multiple fields** including relations\n- **Custom filter classes** for complex queries\n\n### Inline Editing\n- **TabularInline** for compact editing\n- **StackedInline** for detailed forms\n- **Custom inline forms** with additional functionality\n- **Readonly fields** in inlines\n\n### Bulk Actions\n- **Status changes** for multiple objects\n- **Data export** functionality\n- **Batch operations** for efficiency\n- **Custom business logic** in actions\n\n### Form Customization\n- **Fieldsets** for organized layouts\n- **Collapsed sections** for advanced options\n- **Custom widgets** for better UX\n- **Validation** and error handling\n\n## Security Considerations\n\n- **Permission checks** in custom methods\n- **Input sanitization** in admin actions\n- **CSRF protection** (automatic)\n- **User authentication** (built-in)\n\n## Performance Optimization\n\n```python\n# Optimize queries with select_related/prefetch_related\nclass PostAdmin(admin.ModelAdmin):\n    def get_queryset(self, request):\n        queryset = super().get_queryset(request)\n        return queryset.select_related('author', 'category').prefetch_related('tags')\n```\n\n## Custom Admin Templates\n\n```python\n# Override admin templates\nclass PostAdmin(admin.ModelAdmin):\n    change_form_template = 'admin/blog/post/change_form.html'\n    change_list_template = 'admin/blog/post/change_list.html'\n```"
              },
              {
                "name": "/django-model",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/django-model.md",
                "frontmatter": null,
                "content": "# Django Model Generator\n\nCreate Django models with proper structure and relationships.\n\n## Purpose\n\nThis command helps you quickly create Django models with fields, relationships, and best practices.\n\n## Usage\n\n```\n/django-model\n```\n\n## What this command does\n\n1. **Creates model classes** with proper field definitions\n2. **Adds relationships** (ForeignKey, ManyToMany, OneToOne)\n3. **Includes meta options** and model methods\n4. **Generates migrations** automatically\n5. **Follows Django conventions** and best practices\n\n## Example Output\n\n```python\n# models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass Category(models.Model):\n    name = models.CharField(max_length=100, unique=True)\n    slug = models.SlugField(unique=True)\n    description = models.TextField(blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    \n    class Meta:\n        verbose_name_plural = \"categories\"\n        ordering = ['name']\n    \n    def __str__(self):\n        return self.name\n\nclass Post(models.Model):\n    STATUS_CHOICES = [\n        ('draft', 'Draft'),\n        ('published', 'Published'),\n        ('archived', 'Archived'),\n    ]\n    \n    title = models.CharField(max_length=200)\n    slug = models.SlugField(unique=True)\n    content = models.TextField()\n    status = models.CharField(max_length=20, choices=STATUS_CHOICES, default='draft')\n    author = models.ForeignKey(User, on_delete=models.CASCADE, related_name='posts')\n    category = models.ForeignKey(Category, on_delete=models.SET_NULL, null=True, blank=True)\n    tags = models.ManyToManyField('Tag', blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    \n    class Meta:\n        ordering = ['-created_at']\n        verbose_name = 'blog post'\n        verbose_name_plural = 'blog posts'\n    \n    def __str__(self):\n        return self.title\n    \n    def get_absolute_url(self):\n        return reverse('post_detail', kwargs={'slug': self.slug})\n\nclass Tag(models.Model):\n    name = models.CharField(max_length=50, unique=True)\n    slug = models.SlugField(unique=True)\n    \n    def __str__(self):\n        return self.name\n```\n\n## Field Types Supported\n\n- **CharField** - Text fields with max length\n- **TextField** - Large text fields\n- **IntegerField** - Integer numbers\n- **FloatField** - Floating point numbers\n- **BooleanField** - True/False values\n- **DateField** - Date only\n- **DateTimeField** - Date and time\n- **EmailField** - Email addresses\n- **URLField** - URLs\n- **ImageField** - Image uploads\n- **FileField** - File uploads\n- **JSONField** - JSON data (PostgreSQL)\n\n## Relationships\n\n- **ForeignKey** - One-to-many relationships\n- **ManyToManyField** - Many-to-many relationships\n- **OneToOneField** - One-to-one relationships\n\n## Best Practices Included\n\n- Proper field choices and defaults\n- Appropriate related_name attributes\n- __str__ methods for admin interface\n- Meta class with ordering and verbose names\n- get_absolute_url methods where appropriate\n- Proper use of null and blank parameters\n- Field validation and constraints\n\n## After Creating Models\n\n```bash\n# Create and apply migrations\npython manage.py makemigrations\npython manage.py migrate\n\n# Register in admin (optional)\n# Add to admin.py:\nfrom django.contrib import admin\nfrom .models import Post, Category, Tag\n\nadmin.site.register([Post, Category, Tag])\n```"
              },
              {
                "name": "/views",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/views.md",
                "frontmatter": null,
                "content": "# Django Views Generator\n\nCreate Django views with proper structure and best practices.\n\n## Purpose\n\nThis command helps you quickly create Django views (Function-Based Views and Class-Based Views) following Django conventions.\n\n## Usage\n\n```\n/views\n```\n\n## What this command does\n\n1. **Creates view functions/classes** with proper structure\n2. **Handles HTTP methods** (GET, POST, PUT, DELETE)\n3. **Includes form handling** and validation\n4. **Adds authentication/authorization** checks\n5. **Follows Django best practices** and security guidelines\n\n## Example Output\n\n```python\n# views.py\nfrom django.shortcuts import render, get_object_or_404, redirect\nfrom django.contrib.auth.decorators import login_required\nfrom django.contrib import messages\nfrom django.http import JsonResponse\nfrom django.views.generic import ListView, DetailView, CreateView, UpdateView, DeleteView\nfrom django.contrib.auth.mixins import LoginRequiredMixin\nfrom django.urls import reverse_lazy\nfrom .models import Post, Category\nfrom .forms import PostForm\n\n# Function-Based Views\ndef post_list(request):\n    \"\"\"Display list of posts with pagination and filtering.\"\"\"\n    posts = Post.objects.filter(status='published').select_related('author', 'category')\n    \n    # Search functionality\n    search_query = request.GET.get('search')\n    if search_query:\n        posts = posts.filter(title__icontains=search_query)\n    \n    # Category filtering\n    category_id = request.GET.get('category')\n    if category_id:\n        posts = posts.filter(category_id=category_id)\n    \n    context = {\n        'posts': posts,\n        'categories': Category.objects.all(),\n        'search_query': search_query,\n    }\n    return render(request, 'blog/post_list.html', context)\n\ndef post_detail(request, slug):\n    \"\"\"Display individual post details.\"\"\"\n    post = get_object_or_404(Post, slug=slug, status='published')\n    \n    context = {\n        'post': post,\n        'related_posts': Post.objects.filter(\n            category=post.category,\n            status='published'\n        ).exclude(id=post.id)[:3]\n    }\n    return render(request, 'blog/post_detail.html', context)\n\n@login_required\ndef post_create(request):\n    \"\"\"Create new post.\"\"\"\n    if request.method == 'POST':\n        form = PostForm(request.POST, request.FILES)\n        if form.is_valid():\n            post = form.save(commit=False)\n            post.author = request.user\n            post.save()\n            form.save_m2m()  # Save many-to-many relationships\n            messages.success(request, 'Post created successfully!')\n            return redirect('post_detail', slug=post.slug)\n    else:\n        form = PostForm()\n    \n    return render(request, 'blog/post_form.html', {'form': form})\n\n@login_required\ndef post_edit(request, slug):\n    \"\"\"Edit existing post.\"\"\"\n    post = get_object_or_404(Post, slug=slug, author=request.user)\n    \n    if request.method == 'POST':\n        form = PostForm(request.POST, request.FILES, instance=post)\n        if form.is_valid():\n            form.save()\n            messages.success(request, 'Post updated successfully!')\n            return redirect('post_detail', slug=post.slug)\n    else:\n        form = PostForm(instance=post)\n    \n    return render(request, 'blog/post_form.html', {\n        'form': form, \n        'post': post\n    })\n\n# Class-Based Views\nclass PostListView(ListView):\n    \"\"\"List view for posts with pagination.\"\"\"\n    model = Post\n    template_name = 'blog/post_list.html'\n    context_object_name = 'posts'\n    paginate_by = 10\n    \n    def get_queryset(self):\n        return Post.objects.filter(status='published').select_related('author', 'category')\n    \n    def get_context_data(self, **kwargs):\n        context = super().get_context_data(**kwargs)\n        context['categories'] = Category.objects.all()\n        return context\n\nclass PostDetailView(DetailView):\n    \"\"\"Detail view for individual posts.\"\"\"\n    model = Post\n    template_name = 'blog/post_detail.html'\n    context_object_name = 'post'\n    \n    def get_queryset(self):\n        return Post.objects.filter(status='published')\n\nclass PostCreateView(LoginRequiredMixin, CreateView):\n    \"\"\"Create view for new posts.\"\"\"\n    model = Post\n    form_class = PostForm\n    template_name = 'blog/post_form.html'\n    \n    def form_valid(self, form):\n        form.instance.author = self.request.user\n        return super().form_valid(form)\n\nclass PostUpdateView(LoginRequiredMixin, UpdateView):\n    \"\"\"Update view for existing posts.\"\"\"\n    model = Post\n    form_class = PostForm\n    template_name = 'blog/post_form.html'\n    \n    def get_queryset(self):\n        return Post.objects.filter(author=self.request.user)\n\nclass PostDeleteView(LoginRequiredMixin, DeleteView):\n    \"\"\"Delete view for posts.\"\"\"\n    model = Post\n    template_name = 'blog/post_confirm_delete.html'\n    success_url = reverse_lazy('post_list')\n    \n    def get_queryset(self):\n        return Post.objects.filter(author=self.request.user)\n\n# API Views\ndef api_post_list(request):\n    \"\"\"API endpoint for post list.\"\"\"\n    posts = Post.objects.filter(status='published').values(\n        'id', 'title', 'slug', 'created_at', 'author__username'\n    )\n    return JsonResponse(list(posts), safe=False)\n```\n\n## View Types Supported\n\n- **Function-Based Views (FBV)** - Simple, explicit control\n- **Class-Based Views (CBV)** - Reusable, inheritance-based\n- **Generic Views** - ListView, DetailView, CreateView, etc.\n- **API Views** - JSON responses for AJAX/API calls\n\n## Features Included\n\n- **Authentication checks** with decorators/mixins\n- **Permission handling** for user authorization\n- **Form processing** with validation\n- **Error handling** and user feedback\n- **SEO-friendly URLs** with slugs\n- **Database optimization** with select_related/prefetch_related\n- **Pagination** for large datasets\n- **Search and filtering** functionality\n\n## Security Best Practices\n\n- CSRF protection (automatic with forms)\n- User authentication and authorization\n- SQL injection prevention (ORM)\n- XSS protection with template escaping\n- Proper error handling\n\n## URL Configuration\n\n```python\n# urls.py\nfrom django.urls import path\nfrom . import views\n\napp_name = 'blog'\n\nurlpatterns = [\n    # Function-based views\n    path('', views.post_list, name='post_list'),\n    path('post/<slug:slug>/', views.post_detail, name='post_detail'),\n    path('create/', views.post_create, name='post_create'),\n    path('edit/<slug:slug>/', views.post_edit, name='post_edit'),\n    \n    # Class-based views\n    path('posts/', views.PostListView.as_view(), name='post_list_cbv'),\n    path('posts/<slug:slug>/', views.PostDetailView.as_view(), name='post_detail_cbv'),\n    path('posts/create/', views.PostCreateView.as_view(), name='post_create_cbv'),\n    path('posts/<slug:slug>/edit/', views.PostUpdateView.as_view(), name='post_edit_cbv'),\n    path('posts/<slug:slug>/delete/', views.PostDeleteView.as_view(), name='post_delete_cbv'),\n    \n    # API endpoints\n    path('api/posts/', views.api_post_list, name='api_post_list'),\n]\n```"
              },
              {
                "name": "/api-endpoints",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/api-endpoints.md",
                "frontmatter": null,
                "content": "# FastAPI Endpoints Generator\n\nCreate comprehensive FastAPI endpoints with proper structure, validation, and documentation.\n\n## Purpose\n\nThis command helps you quickly create FastAPI endpoints with Pydantic models, dependency injection, and automatic API documentation.\n\n## Usage\n\n```\n/api-endpoints\n```\n\n## What this command does\n\n1. **Creates API endpoints** with proper HTTP methods\n2. **Adds Pydantic models** for request/response validation\n3. **Implements dependency injection** for database and auth\n4. **Includes error handling** and status codes\n5. **Generates automatic documentation** with OpenAPI\n\n## Example Output\n\n```python\n# main.py\nfrom fastapi import FastAPI, Depends, HTTPException, status\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom fastapi.security import HTTPBearer, HTTPAuthorizationCredentials\nfrom sqlalchemy.orm import Session\nimport uvicorn\n\nfrom app.database import get_db, engine\nfrom app.models import models\nfrom app.routers import auth, users, posts, comments\nfrom app.core.config import settings\n\n# Create database tables\nmodels.Base.metadata.create_all(bind=engine)\n\n# Initialize FastAPI app\napp = FastAPI(\n    title=\"Blog API\",\n    description=\"A comprehensive blog API built with FastAPI\",\n    version=\"1.0.0\",\n    docs_url=\"/docs\",\n    redoc_url=\"/redoc\"\n)\n\n# Add CORS middleware\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=settings.ALLOWED_HOSTS,\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n\n# Include routers\napp.include_router(auth.router, prefix=\"/auth\", tags=[\"Authentication\"])\napp.include_router(users.router, prefix=\"/users\", tags=[\"Users\"])\napp.include_router(posts.router, prefix=\"/posts\", tags=[\"Posts\"])\napp.include_router(comments.router, prefix=\"/comments\", tags=[\"Comments\"])\n\n@app.get(\"/\", tags=[\"Root\"])\nasync def root():\n    \"\"\"API root endpoint.\"\"\"\n    return {\n        \"message\": \"Welcome to Blog API\",\n        \"version\": \"1.0.0\",\n        \"docs\": \"/docs\",\n        \"redoc\": \"/redoc\"\n    }\n\n@app.get(\"/health\", tags=[\"Health\"])\nasync def health_check():\n    \"\"\"Health check endpoint.\"\"\"\n    return {\"status\": \"healthy\", \"timestamp\": \"2024-01-01T00:00:00Z\"}\n\nif __name__ == \"__main__\":\n    uvicorn.run(\n        \"main:app\",\n        host=\"0.0.0.0\",\n        port=8000,\n        reload=True\n    )\n```\n\n```python\n# app/routers/posts.py\nfrom typing import List, Optional\nfrom fastapi import APIRouter, Depends, HTTPException, status, Query\nfrom sqlalchemy.orm import Session\n\nfrom app.database import get_db\nfrom app.schemas import post_schemas\nfrom app.services import post_service\nfrom app.core.dependencies import get_current_user, get_current_active_user\nfrom app.models.user import User\n\nrouter = APIRouter()\n\n@router.get(\"/\", response_model=List[post_schemas.PostResponse])\nasync def get_posts(\n    skip: int = Query(0, ge=0, description=\"Number of posts to skip\"),\n    limit: int = Query(10, ge=1, le=100, description=\"Number of posts to return\"),\n    search: Optional[str] = Query(None, description=\"Search in title and content\"),\n    category: Optional[str] = Query(None, description=\"Filter by category\"),\n    published: Optional[bool] = Query(True, description=\"Filter by published status\"),\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get all posts with pagination and filtering.\n    \n    - **skip**: Number of posts to skip (for pagination)\n    - **limit**: Maximum number of posts to return (1-100)\n    - **search**: Search term for title and content\n    - **category**: Filter posts by category\n    - **published**: Filter by published status\n    \"\"\"\n    posts = post_service.get_posts(\n        db=db,\n        skip=skip,\n        limit=limit,\n        search=search,\n        category=category,\n        published=published\n    )\n    return posts\n\n@router.get(\"/{post_id}\", response_model=post_schemas.PostResponse)\nasync def get_post(\n    post_id: int,\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get a specific post by ID.\n    \n    - **post_id**: Unique identifier for the post\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    return post\n\n@router.post(\"/\", response_model=post_schemas.PostResponse, status_code=status.HTTP_201_CREATED)\nasync def create_post(\n    post: post_schemas.PostCreate,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Create a new post.\n    \n    - **title**: Post title (required)\n    - **content**: Post content (required)\n    - **category**: Post category (optional)\n    - **published**: Publication status (default: false)\n    \"\"\"\n    return post_service.create_post(\n        db=db,\n        post=post,\n        user_id=current_user.id\n    )\n\n@router.put(\"/{post_id}\", response_model=post_schemas.PostResponse)\nasync def update_post(\n    post_id: int,\n    post_update: post_schemas.PostUpdate,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Update an existing post.\n    \n    - **post_id**: Unique identifier for the post\n    - **title**: Updated post title (optional)\n    - **content**: Updated post content (optional)\n    - **category**: Updated post category (optional)\n    - **published**: Updated publication status (optional)\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    if post.author_id != current_user.id:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not authorized to update this post\"\n        )\n    \n    return post_service.update_post(\n        db=db,\n        post_id=post_id,\n        post_update=post_update\n    )\n\n@router.delete(\"/{post_id}\", status_code=status.HTTP_204_NO_CONTENT)\nasync def delete_post(\n    post_id: int,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Delete a post.\n    \n    - **post_id**: Unique identifier for the post to delete\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    if post.author_id != current_user.id:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not authorized to delete this post\"\n        )\n    \n    post_service.delete_post(db=db, post_id=post_id)\n\n@router.post(\"/{post_id}/like\", response_model=post_schemas.PostResponse)\nasync def like_post(\n    post_id: int,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Like/unlike a post.\n    \n    - **post_id**: Unique identifier for the post to like\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    return post_service.toggle_like(\n        db=db,\n        post_id=post_id,\n        user_id=current_user.id\n    )\n\n@router.get(\"/{post_id}/comments\", response_model=List[post_schemas.CommentResponse])\nasync def get_post_comments(\n    post_id: int,\n    skip: int = Query(0, ge=0),\n    limit: int = Query(10, ge=1, le=100),\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get all comments for a specific post.\n    \n    - **post_id**: Unique identifier for the post\n    - **skip**: Number of comments to skip\n    - **limit**: Maximum number of comments to return\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    return post_service.get_post_comments(\n        db=db,\n        post_id=post_id,\n        skip=skip,\n        limit=limit\n    )\n```\n\n```python\n# app/schemas/post_schemas.py\nfrom typing import Optional, List\nfrom datetime import datetime\nfrom pydantic import BaseModel, Field, validator\n\nclass PostBase(BaseModel):\n    \"\"\"Base post schema.\"\"\"\n    title: str = Field(..., min_length=1, max_length=200, description=\"Post title\")\n    content: str = Field(..., min_length=1, description=\"Post content\")\n    category: Optional[str] = Field(None, max_length=50, description=\"Post category\")\n    published: bool = Field(False, description=\"Publication status\")\n\nclass PostCreate(PostBase):\n    \"\"\"Schema for creating a post.\"\"\"\n    \n    @validator('title')\n    def validate_title(cls, v):\n        if not v.strip():\n            raise ValueError('Title cannot be empty')\n        return v.strip()\n    \n    @validator('content')\n    def validate_content(cls, v):\n        if len(v.strip()) < 10:\n            raise ValueError('Content must be at least 10 characters long')\n        return v.strip()\n\nclass PostUpdate(BaseModel):\n    \"\"\"Schema for updating a post.\"\"\"\n    title: Optional[str] = Field(None, min_length=1, max_length=200)\n    content: Optional[str] = Field(None, min_length=1)\n    category: Optional[str] = Field(None, max_length=50)\n    published: Optional[bool] = None\n    \n    @validator('title')\n    def validate_title(cls, v):\n        if v is not None and not v.strip():\n            raise ValueError('Title cannot be empty')\n        return v.strip() if v else v\n    \n    @validator('content')\n    def validate_content(cls, v):\n        if v is not None and len(v.strip()) < 10:\n            raise ValueError('Content must be at least 10 characters long')\n        return v.strip() if v else v\n\nclass PostResponse(PostBase):\n    \"\"\"Schema for post responses.\"\"\"\n    id: int\n    author_id: int\n    created_at: datetime\n    updated_at: datetime\n    like_count: int = 0\n    comment_count: int = 0\n    \n    class Config:\n        from_attributes = True\n\nclass CommentBase(BaseModel):\n    \"\"\"Base comment schema.\"\"\"\n    content: str = Field(..., min_length=1, max_length=1000, description=\"Comment content\")\n\nclass CommentCreate(CommentBase):\n    \"\"\"Schema for creating a comment.\"\"\"\n    post_id: int = Field(..., description=\"ID of the post to comment on\")\n\nclass CommentResponse(CommentBase):\n    \"\"\"Schema for comment responses.\"\"\"\n    id: int\n    post_id: int\n    author_id: int\n    created_at: datetime\n    updated_at: datetime\n    \n    class Config:\n        from_attributes = True\n```\n\n```python\n# app/services/post_service.py\nfrom typing import List, Optional\nfrom sqlalchemy.orm import Session\nfrom sqlalchemy import or_\n\nfrom app.models.post import Post, Comment, PostLike\nfrom app.schemas.post_schemas import PostCreate, PostUpdate\n\ndef get_posts(\n    db: Session,\n    skip: int = 0,\n    limit: int = 10,\n    search: Optional[str] = None,\n    category: Optional[str] = None,\n    published: Optional[bool] = True\n) -> List[Post]:\n    \"\"\"Get posts with filtering and pagination.\"\"\"\n    query = db.query(Post)\n    \n    if published is not None:\n        query = query.filter(Post.published == published)\n    \n    if category:\n        query = query.filter(Post.category == category)\n    \n    if search:\n        query = query.filter(\n            or_(\n                Post.title.contains(search),\n                Post.content.contains(search)\n            )\n        )\n    \n    return query.offset(skip).limit(limit).all()\n\ndef get_post(db: Session, post_id: int) -> Optional[Post]:\n    \"\"\"Get a single post by ID.\"\"\"\n    return db.query(Post).filter(Post.id == post_id).first()\n\ndef create_post(db: Session, post: PostCreate, user_id: int) -> Post:\n    \"\"\"Create a new post.\"\"\"\n    db_post = Post(**post.dict(), author_id=user_id)\n    db.add(db_post)\n    db.commit()\n    db.refresh(db_post)\n    return db_post\n\ndef update_post(\n    db: Session,\n    post_id: int,\n    post_update: PostUpdate\n) -> Optional[Post]:\n    \"\"\"Update an existing post.\"\"\"\n    db_post = db.query(Post).filter(Post.id == post_id).first()\n    if not db_post:\n        return None\n    \n    update_data = post_update.dict(exclude_unset=True)\n    for field, value in update_data.items():\n        setattr(db_post, field, value)\n    \n    db.commit()\n    db.refresh(db_post)\n    return db_post\n\ndef delete_post(db: Session, post_id: int) -> bool:\n    \"\"\"Delete a post.\"\"\"\n    db_post = db.query(Post).filter(Post.id == post_id).first()\n    if not db_post:\n        return False\n    \n    db.delete(db_post)\n    db.commit()\n    return True\n\ndef toggle_like(db: Session, post_id: int, user_id: int) -> Post:\n    \"\"\"Toggle like status for a post.\"\"\"\n    existing_like = db.query(PostLike).filter(\n        PostLike.post_id == post_id,\n        PostLike.user_id == user_id\n    ).first()\n    \n    if existing_like:\n        db.delete(existing_like)\n    else:\n        new_like = PostLike(post_id=post_id, user_id=user_id)\n        db.add(new_like)\n    \n    db.commit()\n    return get_post(db, post_id)\n```\n\n## Features Included\n\n### API Documentation\n- **Automatic OpenAPI** schema generation\n- **Interactive docs** at `/docs`\n- **ReDoc documentation** at `/redoc`\n- **Request/Response examples** in schemas\n\n### Validation & Serialization\n- **Pydantic models** for data validation\n- **Custom validators** for business rules\n- **Type hints** for better IDE support\n- **Automatic data conversion** and validation\n\n### Error Handling\n- **HTTP status codes** for different scenarios\n- **Detailed error messages** with context\n- **Input validation errors** with field-specific messages\n- **Custom exception handlers** for consistent responses\n\n### Security\n- **JWT authentication** with dependencies\n- **Role-based access control** for endpoints\n- **CORS middleware** for cross-origin requests\n- **Input sanitization** through Pydantic\n\n### Performance\n- **Database query optimization** with SQLAlchemy\n- **Pagination support** for large datasets\n- **Async/await support** for concurrent requests\n- **Connection pooling** for database efficiency\n\n## Testing Example\n\n```python\n# tests/test_posts.py\nimport pytest\nfrom fastapi.testclient import TestClient\nfrom app.main import app\n\nclient = TestClient(app)\n\ndef test_get_posts():\n    \"\"\"Test getting posts.\"\"\"\n    response = client.get(\"/posts/\")\n    assert response.status_code == 200\n    assert isinstance(response.json(), list)\n\ndef test_create_post():\n    \"\"\"Test creating a new post.\"\"\"\n    post_data = {\n        \"title\": \"Test Post\",\n        \"content\": \"This is a test post content.\",\n        \"published\": True\n    }\n    response = client.post(\"/posts/\", json=post_data)\n    assert response.status_code == 201\n    assert response.json()[\"title\"] == \"Test Post\"\n```"
              },
              {
                "name": "/auth",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/auth.md",
                "frontmatter": null,
                "content": "# FastAPI Authentication & Authorization\n\nComplete authentication system with JWT tokens, OAuth2, and role-based access control.\n\n## Usage\n\n```bash\n# Install auth dependencies\npip install python-jose[cryptography] passlib[bcrypt] python-multipart\n\n# Generate secret key\nopenssl rand -hex 32\n```\n\n## JWT Configuration\n\n```python\n# app/core/security.py\nfrom datetime import datetime, timedelta\nfrom typing import Optional, Union, Any\nfrom jose import JWTError, jwt\nfrom passlib.context import CryptContext\nfrom app.core.config import settings\n\n# Password hashing\npwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\n# JWT settings\nSECRET_KEY = settings.SECRET_KEY\nALGORITHM = \"HS256\"\nACCESS_TOKEN_EXPIRE_MINUTES = 30\nREFRESH_TOKEN_EXPIRE_DAYS = 7\n\ndef create_access_token(\n    subject: Union[str, Any], \n    expires_delta: Optional[timedelta] = None\n) -> str:\n    \"\"\"Create JWT access token.\"\"\"\n    if expires_delta:\n        expire = datetime.utcnow() + expires_delta\n    else:\n        expire = datetime.utcnow() + timedelta(minutes=ACCESS_TOKEN_EXPIRE_MINUTES)\n    \n    to_encode = {\"exp\": expire, \"sub\": str(subject), \"type\": \"access\"}\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n    return encoded_jwt\n\ndef create_refresh_token(subject: Union[str, Any]) -> str:\n    \"\"\"Create JWT refresh token.\"\"\"\n    expire = datetime.utcnow() + timedelta(days=REFRESH_TOKEN_EXPIRE_DAYS)\n    to_encode = {\"exp\": expire, \"sub\": str(subject), \"type\": \"refresh\"}\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n    return encoded_jwt\n\ndef verify_password(plain_password: str, hashed_password: str) -> bool:\n    \"\"\"Verify password against hash.\"\"\"\n    return pwd_context.verify(plain_password, hashed_password)\n\ndef get_password_hash(password: str) -> str:\n    \"\"\"Generate password hash.\"\"\"\n    return pwd_context.hash(password)\n\ndef decode_token(token: str) -> Optional[dict]:\n    \"\"\"Decode and verify JWT token.\"\"\"\n    try:\n        payload = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])\n        return payload\n    except JWTError:\n        return None\n```\n\n## Authentication Dependencies\n\n```python\n# app/api/dependencies/auth.py\nfrom typing import Optional\nfrom fastapi import Depends, HTTPException, status\nfrom fastapi.security import OAuth2PasswordBearer, HTTPBearer, HTTPAuthorizationCredentials\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.core.security import decode_token\nfrom app.db.database import get_db\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\n\n# OAuth2 scheme\noauth2_scheme = OAuth2PasswordBearer(\n    tokenUrl=\"/api/v1/auth/login\",\n    scheme_name=\"JWT\"\n)\n\n# Bearer token scheme\nsecurity = HTTPBearer()\n\nasync def get_current_user(\n    token: str = Depends(oauth2_scheme),\n    db: AsyncSession = Depends(get_db)\n) -> User:\n    \"\"\"Get current authenticated user.\"\"\"\n    credentials_exception = HTTPException(\n        status_code=status.HTTP_401_UNAUTHORIZED,\n        detail=\"Could not validate credentials\",\n        headers={\"WWW-Authenticate\": \"Bearer\"},\n    )\n    \n    payload = decode_token(token)\n    if payload is None:\n        raise credentials_exception\n    \n    user_id: str = payload.get(\"sub\")\n    token_type: str = payload.get(\"type\")\n    \n    if user_id is None or token_type != \"access\":\n        raise credentials_exception\n    \n    user_repo = UserRepository(User, db)\n    user = await user_repo.get(int(user_id))\n    \n    if user is None:\n        raise credentials_exception\n    \n    if not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    \n    return user\n\nasync def get_current_active_user(\n    current_user: User = Depends(get_current_user)\n) -> User:\n    \"\"\"Get current active user.\"\"\"\n    if not current_user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    return current_user\n\nasync def get_current_superuser(\n    current_user: User = Depends(get_current_user)\n) -> User:\n    \"\"\"Get current superuser.\"\"\"\n    if not current_user.is_superuser:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not enough permissions\"\n        )\n    return current_user\n\ndef require_permissions(*permissions: str):\n    \"\"\"Decorator for permission-based access control.\"\"\"\n    async def permission_checker(\n        current_user: User = Depends(get_current_active_user)\n    ) -> User:\n        # Check if user has required permissions\n        user_permissions = set(current_user.permissions or [])\n        required_permissions = set(permissions)\n        \n        if not required_permissions.issubset(user_permissions) and not current_user.is_superuser:\n            raise HTTPException(\n                status_code=status.HTTP_403_FORBIDDEN,\n                detail=\"Insufficient permissions\"\n            )\n        \n        return current_user\n    \n    return permission_checker\n\ndef require_roles(*roles: str):\n    \"\"\"Decorator for role-based access control.\"\"\"\n    async def role_checker(\n        current_user: User = Depends(get_current_active_user)\n    ) -> User:\n        user_roles = set(role.name for role in current_user.roles or [])\n        required_roles = set(roles)\n        \n        if not required_roles.issubset(user_roles) and not current_user.is_superuser:\n            raise HTTPException(\n                status_code=status.HTTP_403_FORBIDDEN,\n                detail=\"Insufficient role permissions\"\n            )\n        \n        return current_user\n    \n    return role_checker\n```\n\n## Authentication Schemas\n\n```python\n# app/schemas/auth.py\nfrom pydantic import BaseModel, EmailStr\nfrom typing import Optional\n\nclass Token(BaseModel):\n    \"\"\"Token response schema.\"\"\"\n    access_token: str\n    refresh_token: str\n    token_type: str = \"bearer\"\n    expires_in: int\n\nclass TokenPayload(BaseModel):\n    \"\"\"Token payload schema.\"\"\"\n    sub: Optional[int] = None\n    exp: Optional[int] = None\n    type: Optional[str] = None\n\nclass UserLogin(BaseModel):\n    \"\"\"User login schema.\"\"\"\n    username: str\n    password: str\n\nclass UserRegister(BaseModel):\n    \"\"\"User registration schema.\"\"\"\n    username: str\n    email: EmailStr\n    password: str\n    first_name: str\n    last_name: str\n\nclass PasswordReset(BaseModel):\n    \"\"\"Password reset schema.\"\"\"\n    email: EmailStr\n\nclass PasswordResetConfirm(BaseModel):\n    \"\"\"Password reset confirmation schema.\"\"\"\n    token: str\n    new_password: str\n\nclass ChangePassword(BaseModel):\n    \"\"\"Change password schema.\"\"\"\n    current_password: str\n    new_password: str\n\nclass RefreshToken(BaseModel):\n    \"\"\"Refresh token schema.\"\"\"\n    refresh_token: str\n```\n\n## Authentication Endpoints\n\n```python\n# app/api/v1/auth.py\nfrom datetime import timedelta\nfrom typing import Any\nfrom fastapi import APIRouter, Depends, HTTPException, status, BackgroundTasks\nfrom fastapi.security import OAuth2PasswordRequestForm\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.db.database import get_db\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.schemas.auth import (\n    Token, UserLogin, UserRegister, PasswordReset, \n    PasswordResetConfirm, ChangePassword, RefreshToken\n)\nfrom app.schemas.user import UserCreate, UserResponse\nfrom app.core.security import (\n    create_access_token, create_refresh_token, verify_password,\n    decode_token, ACCESS_TOKEN_EXPIRE_MINUTES\n)\nfrom app.api.dependencies.auth import get_current_user, get_current_active_user\nfrom app.services.email import send_password_reset_email\nfrom app.services.auth import AuthService\n\nrouter = APIRouter()\n\n@router.post(\"/register\", response_model=UserResponse, status_code=status.HTTP_201_CREATED)\nasync def register(\n    user_data: UserRegister,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Register new user.\"\"\"\n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    # Check if user already exists\n    if await user_repo.get_by_email(user_data.email):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Email already registered\"\n        )\n    \n    if await user_repo.get_by_username(user_data.username):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Username already taken\"\n        )\n    \n    # Create user\n    user = await auth_service.create_user(user_data.dict())\n    return user\n\n@router.post(\"/login\", response_model=Token)\nasync def login(\n    form_data: OAuth2PasswordRequestForm = Depends(),\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"OAuth2 compatible token login.\"\"\"\n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    user = await auth_service.authenticate_user(\n        form_data.username, \n        form_data.password\n    )\n    \n    if not user:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Incorrect username or password\",\n            headers={\"WWW-Authenticate\": \"Bearer\"},\n        )\n    \n    if not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    \n    # Create tokens\n    access_token = create_access_token(subject=user.id)\n    refresh_token = create_refresh_token(subject=user.id)\n    \n    return {\n        \"access_token\": access_token,\n        \"refresh_token\": refresh_token,\n        \"token_type\": \"bearer\",\n        \"expires_in\": ACCESS_TOKEN_EXPIRE_MINUTES * 60\n    }\n\n@router.post(\"/refresh\", response_model=Token)\nasync def refresh_token(\n    refresh_data: RefreshToken,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Refresh access token.\"\"\"\n    payload = decode_token(refresh_data.refresh_token)\n    \n    if payload is None or payload.get(\"type\") != \"refresh\":\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    user_id = payload.get(\"sub\")\n    if user_id is None:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    user = await user_repo.get(int(user_id))\n    \n    if user is None or not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    # Create new tokens\n    access_token = create_access_token(subject=user.id)\n    new_refresh_token = create_refresh_token(subject=user.id)\n    \n    return {\n        \"access_token\": access_token,\n        \"refresh_token\": new_refresh_token,\n        \"token_type\": \"bearer\",\n        \"expires_in\": ACCESS_TOKEN_EXPIRE_MINUTES * 60\n    }\n\n@router.get(\"/me\", response_model=UserResponse)\nasync def read_users_me(\n    current_user: User = Depends(get_current_active_user)\n) -> Any:\n    \"\"\"Get current user.\"\"\"\n    return current_user\n\n@router.post(\"/change-password\", status_code=status.HTTP_200_OK)\nasync def change_password(\n    password_data: ChangePassword,\n    current_user: User = Depends(get_current_active_user),\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Change user password.\"\"\"\n    if not verify_password(password_data.current_password, current_user.hashed_password):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Incorrect current password\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    await auth_service.change_password(current_user.id, password_data.new_password)\n    \n    return {\"message\": \"Password changed successfully\"}\n\n@router.post(\"/password-reset\", status_code=status.HTTP_200_OK)\nasync def password_reset(\n    reset_data: PasswordReset,\n    background_tasks: BackgroundTasks,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Request password reset.\"\"\"\n    user_repo = UserRepository(User, db)\n    user = await user_repo.get_by_email(reset_data.email)\n    \n    if user:\n        # Generate reset token\n        reset_token = create_access_token(\n            subject=user.id,\n            expires_delta=timedelta(hours=1)  # 1 hour expiry\n        )\n        \n        # Send email with reset token\n        background_tasks.add_task(\n            send_password_reset_email,\n            email=user.email,\n            username=user.username,\n            token=reset_token\n        )\n    \n    # Always return success to prevent email enumeration\n    return {\"message\": \"Password reset email sent if account exists\"}\n\n@router.post(\"/password-reset-confirm\", status_code=status.HTTP_200_OK)\nasync def password_reset_confirm(\n    reset_data: PasswordResetConfirm,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Confirm password reset.\"\"\"\n    payload = decode_token(reset_data.token)\n    \n    if payload is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid or expired reset token\"\n        )\n    \n    user_id = payload.get(\"sub\")\n    if user_id is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid reset token\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    user = await user_repo.get(int(user_id))\n    if user is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid reset token\"\n        )\n    \n    await auth_service.change_password(user.id, reset_data.new_password)\n    \n    return {\"message\": \"Password reset successful\"}\n\n@router.post(\"/logout\", status_code=status.HTTP_200_OK)\nasync def logout(\n    current_user: User = Depends(get_current_user)\n) -> Any:\n    \"\"\"Logout user (invalidate token on client side).\"\"\"\n    # In a more sophisticated setup, you might want to blacklist the token\n    return {\"message\": \"Successfully logged out\"}\n```\n\n## Authentication Service\n\n```python\n# app/services/auth.py\nfrom typing import Optional\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.security import verify_password, get_password_hash\n\nclass AuthService:\n    \"\"\"Authentication service.\"\"\"\n    \n    def __init__(self, user_repository: UserRepository):\n        self.user_repo = user_repository\n    \n    async def authenticate_user(\n        self, \n        username_or_email: str, \n        password: str\n    ) -> Optional[User]:\n        \"\"\"Authenticate user by username/email and password.\"\"\"\n        # Try to get user by username first, then by email\n        user = await self.user_repo.get_by_username(username_or_email)\n        if not user:\n            user = await self.user_repo.get_by_email(username_or_email)\n        \n        if not user:\n            return None\n        \n        if not verify_password(password, user.hashed_password):\n            return None\n        \n        return user\n    \n    async def create_user(self, user_data: dict) -> User:\n        \"\"\"Create new user.\"\"\"\n        # Hash password\n        password = user_data.pop('password')\n        hashed_password = get_password_hash(password)\n        \n        # Create user data\n        user_create_data = {\n            **user_data,\n            'hashed_password': hashed_password,\n            'is_active': True,\n            'is_superuser': False\n        }\n        \n        return await self.user_repo.create(user_create_data)\n    \n    async def change_password(self, user_id: int, new_password: str) -> bool:\n        \"\"\"Change user password.\"\"\"\n        hashed_password = get_password_hash(new_password)\n        \n        result = await self.user_repo.update(user_id, {\n            'hashed_password': hashed_password\n        })\n        \n        return result is not None\n    \n    async def activate_user(self, user_id: int) -> bool:\n        \"\"\"Activate user account.\"\"\"\n        result = await self.user_repo.update(user_id, {'is_active': True})\n        return result is not None\n    \n    async def deactivate_user(self, user_id: int) -> bool:\n        \"\"\"Deactivate user account.\"\"\"\n        result = await self.user_repo.update(user_id, {'is_active': False})\n        return result is not None\n```\n\n## Role-Based Access Control\n\n```python\n# app/models/rbac.py\nfrom sqlalchemy import Column, String, Text, ForeignKey, Table\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\n\n# Association tables for many-to-many relationships\nuser_roles = Table(\n    'user_roles',\n    Base.metadata,\n    Column('user_id', Integer, ForeignKey('users.id')),\n    Column('role_id', Integer, ForeignKey('roles.id'))\n)\n\nrole_permissions = Table(\n    'role_permissions',\n    Base.metadata,\n    Column('role_id', Integer, ForeignKey('roles.id')),\n    Column('permission_id', Integer, ForeignKey('permissions.id'))\n)\n\nclass Role(BaseModel):\n    \"\"\"Role model for RBAC.\"\"\"\n    __tablename__ = \"roles\"\n    \n    name = Column(String(50), unique=True, nullable=False, index=True)\n    description = Column(Text)\n    \n    # Relationships\n    users = relationship(\"User\", secondary=user_roles, back_populates=\"roles\")\n    permissions = relationship(\"Permission\", secondary=role_permissions, back_populates=\"roles\")\n\nclass Permission(BaseModel):\n    \"\"\"Permission model for RBAC.\"\"\"\n    __tablename__ = \"permissions\"\n    \n    name = Column(String(100), unique=True, nullable=False, index=True)\n    description = Column(Text)\n    resource = Column(String(50), nullable=False)  # e.g., 'users', 'posts'\n    action = Column(String(50), nullable=False)    # e.g., 'create', 'read', 'update', 'delete'\n    \n    # Relationships\n    roles = relationship(\"Role\", secondary=role_permissions, back_populates=\"permissions\")\n\n# Update User model to include roles\nclass User(BaseModel):\n    # ... existing fields ...\n    \n    # Relationships\n    roles = relationship(\"Role\", secondary=user_roles, back_populates=\"users\")\n    \n    @property\n    def permissions(self) -> list[str]:\n        \"\"\"Get all permissions for user.\"\"\"\n        perms = set()\n        for role in self.roles:\n            for permission in role.permissions:\n                perms.add(f\"{permission.resource}:{permission.action}\")\n        return list(perms)\n```\n\n## OAuth2 Integration\n\n```python\n# app/api/v1/oauth.py\nfrom fastapi import APIRouter, Depends, HTTPException, status\nfrom fastapi.security.utils import get_authorization_scheme_param\nfrom starlette.requests import Request\nfrom authlib.integrations.starlette_client import OAuth\nfrom app.core.config import settings\n\nrouter = APIRouter()\n\n# OAuth configuration\noauth = OAuth()\n\n# Google OAuth\ngoogle = oauth.register(\n    name='google',\n    client_id=settings.GOOGLE_CLIENT_ID,\n    client_secret=settings.GOOGLE_CLIENT_SECRET,\n    server_metadata_url='https://accounts.google.com/.well-known/openid_configuration',\n    client_kwargs={\n        'scope': 'openid email profile'\n    }\n)\n\n# GitHub OAuth\ngithub = oauth.register(\n    name='github',\n    client_id=settings.GITHUB_CLIENT_ID,\n    client_secret=settings.GITHUB_CLIENT_SECRET,\n    access_token_url='https://github.com/login/oauth/access_token',\n    access_token_params=None,\n    authorize_url='https://github.com/login/oauth/authorize',\n    authorize_params=None,\n    api_base_url='https://api.github.com/',\n    client_kwargs={'scope': 'user:email'},\n)\n\n@router.get('/google')\nasync def google_login(request: Request):\n    \"\"\"Initiate Google OAuth login.\"\"\"\n    redirect_uri = request.url_for('google_callback')\n    return await google.authorize_redirect(request, redirect_uri)\n\n@router.get('/google/callback')\nasync def google_callback(request: Request):\n    \"\"\"Handle Google OAuth callback.\"\"\"\n    token = await google.authorize_access_token(request)\n    user_info = token.get('userinfo')\n    \n    if user_info:\n        # Create or get user\n        # Generate JWT token\n        # Return token\n        pass\n    \n    raise HTTPException(\n        status_code=status.HTTP_400_BAD_REQUEST,\n        detail=\"OAuth authentication failed\"\n    )\n```\n\n## API Key Authentication\n\n```python\n# app/models/api_key.py\nfrom sqlalchemy import Column, String, Boolean, ForeignKey, DateTime\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\nimport secrets\n\nclass APIKey(BaseModel):\n    \"\"\"API Key model.\"\"\"\n    __tablename__ = \"api_keys\"\n    \n    name = Column(String(100), nullable=False)\n    key_hash = Column(String(255), unique=True, nullable=False, index=True)\n    prefix = Column(String(10), nullable=False, index=True)\n    is_active = Column(Boolean, default=True, nullable=False)\n    expires_at = Column(DateTime)\n    last_used_at = Column(DateTime)\n    \n    # Foreign key\n    user_id = Column(Integer, ForeignKey(\"users.id\"), nullable=False)\n    \n    # Relationships\n    user = relationship(\"User\", back_populates=\"api_keys\")\n    \n    @classmethod\n    def generate_key(cls) -> tuple[str, str]:\n        \"\"\"Generate API key and return (key, hash).\"\"\"\n        key = secrets.token_urlsafe(32)\n        prefix = key[:8]\n        key_hash = get_password_hash(key)\n        return key, prefix, key_hash\n    \n    def verify_key(self, key: str) -> bool:\n        \"\"\"Verify API key.\"\"\"\n        return verify_password(key, self.key_hash)\n\n# Add to User model\nclass User(BaseModel):\n    # ... existing fields ...\n    \n    # Relationships\n    api_keys = relationship(\"APIKey\", back_populates=\"user\", cascade=\"all, delete-orphan\")\n```\n\n## Testing Authentication\n\n```python\n# tests/test_auth.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.core.security import create_access_token\n\n@pytest.mark.asyncio\nasync def test_register_user(client: AsyncClient):\n    \"\"\"Test user registration.\"\"\"\n    user_data = {\n        \"username\": \"testuser\",\n        \"email\": \"test@example.com\",\n        \"password\": \"testpass123\",\n        \"first_name\": \"Test\",\n        \"last_name\": \"User\"\n    }\n    \n    response = await client.post(\"/api/v1/auth/register\", json=user_data)\n    assert response.status_code == 201\n    \n    data = response.json()\n    assert data[\"username\"] == user_data[\"username\"]\n    assert data[\"email\"] == user_data[\"email\"]\n    assert \"hashed_password\" not in data\n\n@pytest.mark.asyncio\nasync def test_login_user(client: AsyncClient, test_user):\n    \"\"\"Test user login.\"\"\"\n    login_data = {\n        \"username\": test_user.username,\n        \"password\": \"testpass123\"\n    }\n    \n    response = await client.post(\n        \"/api/v1/auth/login\", \n        data=login_data,\n        headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n    )\n    \n    assert response.status_code == 200\n    \n    data = response.json()\n    assert \"access_token\" in data\n    assert \"refresh_token\" in data\n    assert data[\"token_type\"] == \"bearer\"\n\n@pytest.mark.asyncio\nasync def test_get_current_user(client: AsyncClient, test_user):\n    \"\"\"Test get current user endpoint.\"\"\"\n    token = create_access_token(subject=test_user.id)\n    headers = {\"Authorization\": f\"Bearer {token}\"}\n    \n    response = await client.get(\"/api/v1/auth/me\", headers=headers)\n    assert response.status_code == 200\n    \n    data = response.json()\n    assert data[\"username\"] == test_user.username\n    assert data[\"email\"] == test_user.email\n```\n"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# FastAPI Database Integration\n\nComplete database setup with SQLAlchemy, Alembic, and async support for FastAPI.\n\n## Usage\n\n```bash\n# Initialize Alembic\nalembic init alembic\n\n# Create migration\nalembic revision --autogenerate -m \"Initial migration\"\n\n# Apply migrations\nalembic upgrade head\n\n# Downgrade migration\nalembic downgrade -1\n```\n\n## Database Configuration\n\n```python\n# app/core/config.py\nfrom pydantic import BaseSettings, PostgresDsn, validator\nfrom typing import Optional, Dict, Any\nimport os\n\nclass Settings(BaseSettings):\n    \"\"\"Application settings.\"\"\"\n    \n    # Database\n    POSTGRES_SERVER: str = \"localhost\"\n    POSTGRES_USER: str = \"postgres\"\n    POSTGRES_PASSWORD: str = \"password\"\n    POSTGRES_DB: str = \"fastapi_app\"\n    POSTGRES_PORT: str = \"5432\"\n    DATABASE_URL: Optional[PostgresDsn] = None\n    \n    @validator(\"DATABASE_URL\", pre=True)\n    def assemble_db_connection(cls, v: Optional[str], values: Dict[str, Any]) -> Any:\n        if isinstance(v, str):\n            return v\n        return PostgresDsn.build(\n            scheme=\"postgresql+asyncpg\",\n            user=values.get(\"POSTGRES_USER\"),\n            password=values.get(\"POSTGRES_PASSWORD\"),\n            host=values.get(\"POSTGRES_SERVER\"),\n            port=values.get(\"POSTGRES_PORT\"),\n            path=f\"/{values.get('POSTGRES_DB') or ''}\",\n        )\n    \n    # Redis\n    REDIS_URL: str = \"redis://localhost:6379/0\"\n    \n    # Database settings\n    DATABASE_POOL_SIZE: int = 10\n    DATABASE_MAX_OVERFLOW: int = 20\n    DATABASE_POOL_RECYCLE: int = 3600\n    \n    class Config:\n        env_file = \".env\"\n        case_sensitive = True\n\nsettings = Settings()\n```\n\n## Database Setup\n\n```python\n# app/db/database.py\nfrom sqlalchemy.ext.asyncio import AsyncSession, create_async_engine\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy.orm import sessionmaker\nfrom app.core.config import settings\n\n# Create async engine\nengine = create_async_engine(\n    str(settings.DATABASE_URL),\n    pool_size=settings.DATABASE_POOL_SIZE,\n    max_overflow=settings.DATABASE_MAX_OVERFLOW,\n    pool_recycle=settings.DATABASE_POOL_RECYCLE,\n    pool_pre_ping=True,\n    echo=False  # Set to True for SQL debugging\n)\n\n# Create async session factory\nAsyncSessionLocal = sessionmaker(\n    engine, class_=AsyncSession, expire_on_commit=False\n)\n\n# Base class for models\nBase = declarative_base()\n\nasync def get_db() -> AsyncSession:\n    \"\"\"Dependency to get database session.\"\"\"\n    async with AsyncSessionLocal() as session:\n        try:\n            yield session\n        finally:\n            await session.close()\n\nasync def create_tables():\n    \"\"\"Create database tables.\"\"\"\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n\nasync def drop_tables():\n    \"\"\"Drop database tables.\"\"\"\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n```\n\n## Base Model\n\n```python\n# app/models/base.py\nfrom sqlalchemy import Column, Integer, DateTime, func\nfrom sqlalchemy.ext.declarative import declared_attr\nfrom app.db.database import Base\nfrom datetime import datetime\nfrom typing import Any\n\nclass TimestampMixin:\n    \"\"\"Mixin for timestamp fields.\"\"\"\n    created_at = Column(DateTime(timezone=True), server_default=func.now(), nullable=False)\n    updated_at = Column(\n        DateTime(timezone=True),\n        server_default=func.now(),\n        onupdate=func.now(),\n        nullable=False\n    )\n\nclass BaseModel(Base, TimestampMixin):\n    \"\"\"Base model with common functionality.\"\"\"\n    __abstract__ = True\n    \n    id = Column(Integer, primary_key=True, index=True)\n    \n    @declared_attr\n    def __tablename__(cls) -> str:\n        return cls.__name__.lower()\n    \n    def dict(self, exclude: set = None) -> dict[str, Any]:\n        \"\"\"Convert model to dictionary.\"\"\"\n        exclude = exclude or set()\n        return {\n            column.name: getattr(self, column.name)\n            for column in self.__table__.columns\n            if column.name not in exclude\n        }\n    \n    def __repr__(self) -> str:\n        return f\"<{self.__class__.__name__}(id={self.id})>\"\n```\n\n## Example Models\n\n```python\n# app/models/user.py\nfrom sqlalchemy import Column, String, Boolean, Text, Index\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\nfrom passlib.context import CryptContext\n\npwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\nclass User(BaseModel):\n    \"\"\"User model.\"\"\"\n    __tablename__ = \"users\"\n    \n    username = Column(String(50), unique=True, index=True, nullable=False)\n    email = Column(String(100), unique=True, index=True, nullable=False)\n    hashed_password = Column(String(255), nullable=False)\n    first_name = Column(String(50), nullable=False)\n    last_name = Column(String(50), nullable=False)\n    is_active = Column(Boolean, default=True, nullable=False)\n    is_superuser = Column(Boolean, default=False, nullable=False)\n    bio = Column(Text)\n    \n    # Relationships\n    posts = relationship(\"Post\", back_populates=\"author\", cascade=\"all, delete-orphan\")\n    \n    # Indexes\n    __table_args__ = (\n        Index('idx_user_email_active', email, is_active),\n        Index('idx_user_username_active', username, is_active),\n    )\n    \n    def verify_password(self, password: str) -> bool:\n        \"\"\"Verify password against hash.\"\"\"\n        return pwd_context.verify(password, self.hashed_password)\n    \n    @staticmethod\n    def get_password_hash(password: str) -> str:\n        \"\"\"Generate password hash.\"\"\"\n        return pwd_context.hash(password)\n    \n    def set_password(self, password: str) -> None:\n        \"\"\"Set user password.\"\"\"\n        self.hashed_password = self.get_password_hash(password)\n    \n    @property\n    def full_name(self) -> str:\n        \"\"\"Get user's full name.\"\"\"\n        return f\"{self.first_name} {self.last_name}\"\n    \n    def dict(self, exclude: set = None) -> dict:\n        \"\"\"Convert to dict excluding sensitive data.\"\"\"\n        exclude = exclude or set()\n        exclude.add('hashed_password')\n        return super().dict(exclude=exclude)\n\n# app/models/post.py\nfrom sqlalchemy import Column, String, Text, ForeignKey, Boolean, Index\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\n\nclass Post(BaseModel):\n    \"\"\"Blog post model.\"\"\"\n    __tablename__ = \"posts\"\n    \n    title = Column(String(200), nullable=False, index=True)\n    content = Column(Text, nullable=False)\n    slug = Column(String(200), unique=True, nullable=False, index=True)\n    is_published = Column(Boolean, default=False, nullable=False)\n    \n    # Foreign keys\n    author_id = Column(Integer, ForeignKey(\"users.id\"), nullable=False)\n    \n    # Relationships\n    author = relationship(\"User\", back_populates=\"posts\")\n    \n    # Indexes\n    __table_args__ = (\n        Index('idx_post_published_created', is_published, 'created_at'),\n        Index('idx_post_author_published', author_id, is_published),\n    )\n```\n\n## Repository Pattern\n\n```python\n# app/repositories/base.py\nfrom typing import Generic, TypeVar, Type, Optional, List, Dict, Any\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import select, update, delete, func\nfrom sqlalchemy.orm import selectinload\nfrom app.models.base import BaseModel\n\nModelType = TypeVar(\"ModelType\", bound=BaseModel)\n\nclass BaseRepository(Generic[ModelType]):\n    \"\"\"Base repository with common CRUD operations.\"\"\"\n    \n    def __init__(self, model: Type[ModelType], db: AsyncSession):\n        self.model = model\n        self.db = db\n    \n    async def get(self, id: int) -> Optional[ModelType]:\n        \"\"\"Get model by ID.\"\"\"\n        result = await self.db.execute(\n            select(self.model).where(self.model.id == id)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_multi(\n        self, \n        skip: int = 0, \n        limit: int = 100,\n        filters: Dict[str, Any] = None\n    ) -> List[ModelType]:\n        \"\"\"Get multiple models with pagination.\"\"\"\n        query = select(self.model)\n        \n        if filters:\n            for field, value in filters.items():\n                if hasattr(self.model, field):\n                    query = query.where(getattr(self.model, field) == value)\n        \n        query = query.offset(skip).limit(limit)\n        result = await self.db.execute(query)\n        return result.scalars().all()\n    \n    async def create(self, obj_in: Dict[str, Any]) -> ModelType:\n        \"\"\"Create new model.\"\"\"\n        db_obj = self.model(**obj_in)\n        self.db.add(db_obj)\n        await self.db.commit()\n        await self.db.refresh(db_obj)\n        return db_obj\n    \n    async def update(\n        self, \n        id: int, \n        obj_in: Dict[str, Any]\n    ) -> Optional[ModelType]:\n        \"\"\"Update model by ID.\"\"\"\n        await self.db.execute(\n            update(self.model)\n            .where(self.model.id == id)\n            .values(**obj_in)\n        )\n        await self.db.commit()\n        return await self.get(id)\n    \n    async def delete(self, id: int) -> bool:\n        \"\"\"Delete model by ID.\"\"\"\n        result = await self.db.execute(\n            delete(self.model).where(self.model.id == id)\n        )\n        await self.db.commit()\n        return result.rowcount > 0\n    \n    async def count(self, filters: Dict[str, Any] = None) -> int:\n        \"\"\"Count models with optional filters.\"\"\"\n        query = select(func.count(self.model.id))\n        \n        if filters:\n            for field, value in filters.items():\n                if hasattr(self.model, field):\n                    query = query.where(getattr(self.model, field) == value)\n        \n        result = await self.db.execute(query)\n        return result.scalar()\n\n# app/repositories/user.py\nfrom typing import Optional\nfrom sqlalchemy import select\nfrom app.models.user import User\nfrom app.repositories.base import BaseRepository\n\nclass UserRepository(BaseRepository[User]):\n    \"\"\"User repository with custom methods.\"\"\"\n    \n    async def get_by_email(self, email: str) -> Optional[User]:\n        \"\"\"Get user by email.\"\"\"\n        result = await self.db.execute(\n            select(User).where(User.email == email)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_by_username(self, username: str) -> Optional[User]:\n        \"\"\"Get user by username.\"\"\"\n        result = await self.db.execute(\n            select(User).where(User.username == username)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_active_users(self, skip: int = 0, limit: int = 100):\n        \"\"\"Get active users.\"\"\"\n        return await self.get_multi(\n            skip=skip, \n            limit=limit, \n            filters={'is_active': True}\n        )\n```\n\n## Alembic Configuration\n\n```python\n# alembic/env.py\nfrom logging.config import fileConfig\nfrom sqlalchemy import engine_from_config, pool\nfrom sqlalchemy.ext.asyncio import AsyncEngine\nfrom alembic import context\nimport asyncio\n\n# Import your models\nfrom app.models.base import Base\nfrom app.models.user import User\nfrom app.models.post import Post\nfrom app.core.config import settings\n\n# Alembic Config object\nconfig = context.config\n\n# Override database URL\nconfig.set_main_option(\"sqlalchemy.url\", str(settings.DATABASE_URL))\n\n# Interpret the config file for logging\nif config.config_file_name is not None:\n    fileConfig(config.config_file_name)\n\n# Add your model's MetaData object here\ntarget_metadata = Base.metadata\n\ndef do_run_migrations(connection):\n    context.configure(\n        connection=connection,\n        target_metadata=target_metadata,\n        compare_type=True,\n        compare_server_default=True,\n    )\n    \n    with context.begin_transaction():\n        context.run_migrations()\n\nasync def run_migrations_online():\n    \"\"\"Run migrations in 'online' mode.\"\"\"\n    configuration = config.get_section(config.config_ini_section)\n    configuration[\"sqlalchemy.url\"] = str(settings.DATABASE_URL)\n    \n    connectable = AsyncEngine(\n        engine_from_config(\n            configuration,\n            prefix=\"sqlalchemy.\",\n            poolclass=pool.NullPool,\n        )\n    )\n    \n    async with connectable.connect() as connection:\n        await connection.run_sync(do_run_migrations)\n    \n    await connectable.dispose()\n\nif context.is_offline_mode():\n    run_migrations_offline()\nelse:\n    asyncio.run(run_migrations_online())\n```\n\n## Database Utilities\n\n```python\n# app/db/utils.py\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import text\nfrom app.db.database import engine, AsyncSessionLocal\nfrom app.core.config import settings\nimport asyncio\n\nasync def check_database_connection() -> bool:\n    \"\"\"Check if database is accessible.\"\"\"\n    try:\n        async with AsyncSessionLocal() as session:\n            await session.execute(text(\"SELECT 1\"))\n            return True\n    except Exception:\n        return False\n\nasync def create_database_if_not_exists():\n    \"\"\"Create database if it doesn't exist.\"\"\"\n    # This is PostgreSQL specific\n    import asyncpg\n    from urllib.parse import urlparse\n    \n    url = urlparse(str(settings.DATABASE_URL))\n    \n    try:\n        # Connect to postgres database to create our database\n        conn = await asyncpg.connect(\n            host=url.hostname,\n            port=url.port,\n            user=url.username,\n            password=url.password,\n            database='postgres'\n        )\n        \n        # Check if database exists\n        exists = await conn.fetchval(\n            \"SELECT 1 FROM pg_database WHERE datname = $1\",\n            url.path[1:]  # Remove leading slash\n        )\n        \n        if not exists:\n            await conn.execute(f'CREATE DATABASE \"{url.path[1:]}\"')\n            print(f\"Database {url.path[1:]} created.\")\n        \n        await conn.close()\n        \n    except Exception as e:\n        print(f\"Error creating database: {e}\")\n\nasync def execute_raw_sql(sql: str, params: dict = None) -> list:\n    \"\"\"Execute raw SQL query.\"\"\"\n    async with AsyncSessionLocal() as session:\n        result = await session.execute(text(sql), params or {})\n        return result.fetchall()\n\nasync def get_table_info(table_name: str) -> dict:\n    \"\"\"Get information about a table.\"\"\"\n    sql = \"\"\"\n    SELECT \n        column_name,\n        data_type,\n        is_nullable,\n        column_default\n    FROM information_schema.columns \n    WHERE table_name = :table_name\n    ORDER BY ordinal_position;\n    \"\"\"\n    \n    result = await execute_raw_sql(sql, {'table_name': table_name})\n    return [\n        {\n            'column_name': row[0],\n            'data_type': row[1],\n            'is_nullable': row[2],\n            'column_default': row[3]\n        }\n        for row in result\n    ]\n```\n\n## Database Initialization\n\n```python\n# app/db/init_db.py\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.db.database import get_db, create_tables\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.config import settings\nimport asyncio\n\nasync def init_db() -> None:\n    \"\"\"Initialize database with tables and default data.\"\"\"\n    # Create tables\n    await create_tables()\n    print(\"Database tables created.\")\n    \n    # Create default superuser\n    async with AsyncSessionLocal() as session:\n        user_repo = UserRepository(User, session)\n        \n        # Check if superuser exists\n        existing_user = await user_repo.get_by_email(\"admin@example.com\")\n        \n        if not existing_user:\n            superuser_data = {\n                \"username\": \"admin\",\n                \"email\": \"admin@example.com\",\n                \"first_name\": \"Admin\",\n                \"last_name\": \"User\",\n                \"is_superuser\": True,\n                \"is_active\": True\n            }\n            \n            superuser = User(**superuser_data)\n            superuser.set_password(\"admin123\")\n            \n            session.add(superuser)\n            await session.commit()\n            print(\"Superuser created.\")\n        else:\n            print(\"Superuser already exists.\")\n\nif __name__ == \"__main__\":\n    asyncio.run(init_db())\n```\n\n## Testing Database\n\n```python\n# tests/conftest.py\nimport pytest\nimport asyncio\nfrom sqlalchemy.ext.asyncio import create_async_engine, AsyncSession\nfrom sqlalchemy.orm import sessionmaker\nfrom app.db.database import Base, get_db\nfrom app.main import app\nimport pytest_asyncio\n\n# Test database URL\nTEST_DATABASE_URL = \"sqlite+aiosqlite:///./test.db\"\n\n@pytest.fixture(scope=\"session\")\ndef event_loop():\n    \"\"\"Create event loop for async tests.\"\"\"\n    loop = asyncio.get_event_loop_policy().new_event_loop()\n    yield loop\n    loop.close()\n\n@pytest_asyncio.fixture(scope=\"session\")\nasync def test_engine():\n    \"\"\"Create test database engine.\"\"\"\n    engine = create_async_engine(TEST_DATABASE_URL, echo=False)\n    \n    # Create tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n    \n    yield engine\n    \n    # Drop tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n    \n    await engine.dispose()\n\n@pytest_asyncio.fixture\nasync def test_session(test_engine):\n    \"\"\"Create test database session.\"\"\"\n    TestSessionLocal = sessionmaker(\n        test_engine, class_=AsyncSession, expire_on_commit=False\n    )\n    \n    async with TestSessionLocal() as session:\n        yield session\n\n@pytest.fixture\ndef override_get_db(test_session):\n    \"\"\"Override database dependency.\"\"\"\n    async def _override_get_db():\n        yield test_session\n    \n    app.dependency_overrides[get_db] = _override_get_db\n    yield\n    app.dependency_overrides = {}\n```\n\n## Database Health Check\n\n```python\n# app/api/health.py\nfrom fastapi import APIRouter, Depends, HTTPException\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import text\nfrom app.db.database import get_db\nimport time\n\nrouter = APIRouter()\n\n@router.get(\"/health\")\nasync def health_check(db: AsyncSession = Depends(get_db)):\n    \"\"\"Health check endpoint.\"\"\"\n    checks = {\n        \"status\": \"healthy\",\n        \"timestamp\": time.time(),\n        \"database\": await check_database_health(db),\n    }\n    \n    # Determine overall status\n    if checks[\"database\"][\"status\"] != \"ok\":\n        checks[\"status\"] = \"unhealthy\"\n        raise HTTPException(status_code=503, detail=checks)\n    \n    return checks\n\nasync def check_database_health(db: AsyncSession) -> dict:\n    \"\"\"Check database connection.\"\"\"\n    try:\n        start_time = time.time()\n        await db.execute(text(\"SELECT 1\"))\n        response_time = (time.time() - start_time) * 1000  # milliseconds\n        \n        return {\n            \"status\": \"ok\",\n            \"response_time_ms\": round(response_time, 2)\n        }\n    except Exception as e:\n        return {\n            \"status\": \"error\",\n            \"error\": str(e)\n        }\n```\n"
              },
              {
                "name": "/deployment",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/deployment.md",
                "frontmatter": null,
                "content": "# FastAPI Deployment\n\nBasic production deployment setup for FastAPI applications.\n\n## Usage\n\n```bash\n# Run with Uvicorn\nuvicorn app.main:app --host 0.0.0.0 --port 8000 --workers 4\n\n# Docker deployment\ndocker build -t fastapi-app .\ndocker run -p 8000:8000 fastapi-app\n```\n\n## Production Configuration\n\n```python\n# app/core/config.py\nfrom pydantic import BaseSettings\nimport os\n\nclass Settings(BaseSettings):\n    \"\"\"Production settings.\"\"\"\n    \n    # App\n    PROJECT_NAME: str = \"FastAPI App\"\n    VERSION: str = \"1.0.0\"\n    SECRET_KEY: str = os.getenv(\"SECRET_KEY\", \"dev-key\")\n    \n    # Server\n    HOST: str = \"0.0.0.0\"\n    PORT: int = 8000\n    WORKERS: int = 4\n    \n    # Database\n    DATABASE_URL: str = os.getenv(\"DATABASE_URL\", \"sqlite:///./app.db\")\n    \n    # Redis\n    REDIS_URL: str = os.getenv(\"REDIS_URL\", \"redis://localhost:6379\")\n    \n    class Config:\n        env_file = \".env\"\n\nsettings = Settings()\n```\n\n## Docker Setup\n\n```dockerfile\n# Dockerfile\nFROM python:3.11-slim\n\nWORKDIR /app\n\n# Install dependencies\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy app\nCOPY . .\n\n# Create non-root user\nRUN useradd -m appuser && chown -R appuser:appuser /app\nUSER appuser\n\nEXPOSE 8000\n\n# Health check\nHEALTHCHECK CMD curl -f http://localhost:8000/health || exit 1\n\nCMD [\"uvicorn\", \"app.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n```\n\n## Docker Compose\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\n\nservices:\n  app:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - DATABASE_URL=postgresql://user:pass@db:5432/fastapi_db\n      - REDIS_URL=redis://redis:6379\n    depends_on:\n      - db\n      - redis\n\n  db:\n    image: postgres:15\n    environment:\n      POSTGRES_DB: fastapi_db\n      POSTGRES_USER: user\n      POSTGRES_PASSWORD: password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\n  redis:\n    image: redis:7-alpine\n    volumes:\n      - redis_data:/data\n\nvolumes:\n  postgres_data:\n  redis_data:\n```\n\n## Environment Variables\n\n```bash\n# .env\nSECRET_KEY=your-secret-key\nDATABASE_URL=postgresql://user:pass@localhost/fastapi_db\nREDIS_URL=redis://localhost:6379\n```\n\n## Health Check\n\n```python\n# app/api/health.py\nfrom fastapi import APIRouter\nfrom app.core.config import settings\n\nrouter = APIRouter()\n\n@router.get(\"/health\")\nasync def health_check():\n    return {\n        \"status\": \"healthy\",\n        \"version\": settings.VERSION\n    }\n```\n\n## Deployment Script\n\n```bash\n#!/bin/bash\n# deploy.sh\n\nset -e\n\necho \"Deploying FastAPI app...\"\n\n# Build and deploy\ndocker-compose build\ndocker-compose up -d\n\n# Health check\necho \"Checking health...\"\nif curl -f http://localhost:8000/health; then\n    echo \"‚úÖ Deployment successful!\"\nelse\n    echo \"‚ùå Deployment failed!\"\n    exit 1\nfi\n```\n"
              },
              {
                "name": "/testing",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/testing.md",
                "frontmatter": null,
                "content": "# FastAPI Testing Framework\n\nComprehensive testing setup for FastAPI applications with pytest and async support.\n\n## Usage\n\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=app --cov-report=html\n\n# Run specific test file\npytest tests/test_api.py\n\n# Run with verbose output\npytest -v -s\n```\n\n## Test Configuration\n\n```python\n# pytest.ini\n[tool:pytest]\ntestpaths = tests\npython_files = test_*.py\npython_classes = Test*\npython_functions = test_*\naddopts = \n    --cov=app\n    --cov-report=term-missing\n    --cov-report=html:htmlcov\n    --asyncio-mode=auto\n    --strict-markers\n    --disable-warnings\nmarkers =\n    unit: Unit tests\n    integration: Integration tests\n    e2e: End-to-end tests\n    slow: Slow running tests\n    auth: Authentication tests\n    api: API tests\nasyncio_mode = auto\n```\n\n## Test Dependencies\n\n```python\n# requirements/test.txt\npytest>=7.0.0\npytest-asyncio>=0.21.0\npytest-cov>=4.0.0\nhttpx>=0.24.0\nfactory-boy>=3.2.0\nfaker>=18.0.0\nrespx>=0.20.0\npytest-mock>=3.10.0\n```\n\n## Test Fixtures\n\n```python\n# tests/conftest.py\nimport pytest\nimport asyncio\nfrom typing import AsyncGenerator, Generator\nfrom fastapi.testclient import TestClient\nfrom httpx import AsyncClient\nfrom sqlalchemy.ext.asyncio import create_async_engine, AsyncSession\nfrom sqlalchemy.orm import sessionmaker\nfrom app.main import app\nfrom app.db.database import get_db, Base\nfrom app.models.user import User\nfrom app.core.security import get_password_hash\nfrom tests.factories import UserFactory\n\n# Test database URL\nTEST_DATABASE_URL = \"sqlite+aiosqlite:///./test.db\"\n\n@pytest.fixture(scope=\"session\")\ndef event_loop() -> Generator[asyncio.AbstractEventLoop, None, None]:\n    \"\"\"Create event loop for the test session.\"\"\"\n    loop = asyncio.get_event_loop_policy().new_event_loop()\n    yield loop\n    loop.close()\n\n@pytest.fixture(scope=\"session\")\nasync def test_engine():\n    \"\"\"Create test database engine.\"\"\"\n    engine = create_async_engine(\n        TEST_DATABASE_URL,\n        echo=False,\n        future=True\n    )\n    \n    # Create tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n    \n    yield engine\n    \n    # Drop tables and dispose engine\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n    \n    await engine.dispose()\n\n@pytest.fixture\nasync def db_session(test_engine) -> AsyncGenerator[AsyncSession, None]:\n    \"\"\"Create database session for testing.\"\"\"\n    TestSessionLocal = sessionmaker(\n        test_engine, \n        class_=AsyncSession, \n        expire_on_commit=False\n    )\n    \n    async with TestSessionLocal() as session:\n        yield session\n\n@pytest.fixture\ndef override_get_db(db_session: AsyncSession) -> Generator:\n    \"\"\"Override database dependency.\"\"\"\n    async def _override_get_db():\n        yield db_session\n    \n    app.dependency_overrides[get_db] = _override_get_db\n    yield\n    app.dependency_overrides = {}\n\n@pytest.fixture\ndef client(override_get_db) -> Generator[TestClient, None, None]:\n    \"\"\"Create test client.\"\"\"\n    with TestClient(app) as test_client:\n        yield test_client\n\n@pytest.fixture\nasync def async_client(override_get_db) -> AsyncGenerator[AsyncClient, None]:\n    \"\"\"Create async test client.\"\"\"\n    async with AsyncClient(app=app, base_url=\"http://test\") as ac:\n        yield ac\n\n@pytest.fixture\nasync def test_user(db_session: AsyncSession) -> User:\n    \"\"\"Create test user.\"\"\"\n    user_data = {\n        \"username\": \"testuser\",\n        \"email\": \"test@example.com\",\n        \"hashed_password\": get_password_hash(\"testpass123\"),\n        \"first_name\": \"Test\",\n        \"last_name\": \"User\",\n        \"is_active\": True,\n        \"is_superuser\": False\n    }\n    \n    user = User(**user_data)\n    db_session.add(user)\n    await db_session.commit()\n    await db_session.refresh(user)\n    return user\n\n@pytest.fixture\nasync def superuser(db_session: AsyncSession) -> User:\n    \"\"\"Create superuser.\"\"\"\n    user_data = {\n        \"username\": \"admin\",\n        \"email\": \"admin@example.com\",\n        \"hashed_password\": get_password_hash(\"adminpass123\"),\n        \"first_name\": \"Admin\",\n        \"last_name\": \"User\",\n        \"is_active\": True,\n        \"is_superuser\": True\n    }\n    \n    user = User(**user_data)\n    db_session.add(user)\n    await db_session.commit()\n    await db_session.refresh(user)\n    return user\n\n@pytest.fixture\ndef user_token(test_user: User) -> str:\n    \"\"\"Create authentication token for test user.\"\"\"\n    from app.core.security import create_access_token\n    return create_access_token(subject=test_user.id)\n\n@pytest.fixture\ndef superuser_token(superuser: User) -> str:\n    \"\"\"Create authentication token for superuser.\"\"\"\n    from app.core.security import create_access_token\n    return create_access_token(subject=superuser.id)\n\n@pytest.fixture\ndef auth_headers(user_token: str) -> dict[str, str]:\n    \"\"\"Create authorization headers.\"\"\"\n    return {\"Authorization\": f\"Bearer {user_token}\"}\n\n@pytest.fixture\ndef superuser_headers(superuser_token: str) -> dict[str, str]:\n    \"\"\"Create superuser authorization headers.\"\"\"\n    return {\"Authorization\": f\"Bearer {superuser_token}\"}\n```\n\n## Test Factories\n\n```python\n# tests/factories.py\nimport factory\nfrom factory import Faker, SubFactory\nfrom app.models.user import User\nfrom app.models.post import Post\nfrom app.core.security import get_password_hash\n\nclass UserFactory(factory.Factory):\n    \"\"\"Factory for User model.\"\"\"\n    \n    class Meta:\n        model = User\n    \n    username = Faker('user_name')\n    email = Faker('email')\n    first_name = Faker('first_name')\n    last_name = Faker('last_name')\n    hashed_password = factory.LazyAttribute(lambda obj: get_password_hash('testpass123'))\n    is_active = True\n    is_superuser = False\n    bio = Faker('text', max_nb_chars=200)\n\nclass SuperUserFactory(UserFactory):\n    \"\"\"Factory for superuser.\"\"\"\n    username = 'admin'\n    email = 'admin@example.com'\n    first_name = 'Admin'\n    last_name = 'User'\n    is_superuser = True\n\nclass PostFactory(factory.Factory):\n    \"\"\"Factory for Post model.\"\"\"\n    \n    class Meta:\n        model = Post\n    \n    title = Faker('sentence', nb_words=4)\n    content = Faker('text', max_nb_chars=1000)\n    slug = Faker('slug')\n    is_published = True\n    author = SubFactory(UserFactory)\n\nclass InactiveUserFactory(UserFactory):\n    \"\"\"Factory for inactive user.\"\"\"\n    is_active = False\n```\n\n## API Testing\n\n```python\n# tests/test_api/test_users.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom tests.factories import UserFactory\n\nclass TestUserAPI:\n    \"\"\"Test User API endpoints.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(\n        self, \n        async_client: AsyncClient, \n        superuser_headers: dict\n    ):\n        \"\"\"Test POST /api/v1/users/.\"\"\"\n        user_data = {\n            \"username\": \"newuser\",\n            \"email\": \"new@example.com\",\n            \"password\": \"newpass123\",\n            \"first_name\": \"New\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/users/\",\n            json=user_data,\n            headers=superuser_headers\n        )\n        \n        assert response.status_code == 201\n        data = response.json()\n        assert data[\"username\"] == user_data[\"username\"]\n        assert data[\"email\"] == user_data[\"email\"]\n        assert \"password\" not in data\n        assert \"hashed_password\" not in data\n    \n    @pytest.mark.asyncio\n    async def test_get_users(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test GET /api/v1/users/.\"\"\"\n        response = await async_client.get(\n            \"/api/v1/users/\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"items\" in data\n        assert \"total\" in data\n        assert \"page\" in data\n        assert \"size\" in data\n        assert len(data[\"items\"]) >= 1\n    \n    @pytest.mark.asyncio\n    async def test_get_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test GET /api/v1/users/{id}.\"\"\"\n        response = await async_client.get(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"id\"] == test_user.id\n        assert data[\"username\"] == test_user.username\n        assert data[\"email\"] == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_update_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test PUT /api/v1/users/{id}.\"\"\"\n        update_data = {\n            \"first_name\": \"Updated\",\n            \"last_name\": \"Name\",\n            \"bio\": \"Updated bio\"\n        }\n        \n        response = await async_client.put(\n            f\"/api/v1/users/{test_user.id}\",\n            json=update_data,\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"first_name\"] == update_data[\"first_name\"]\n        assert data[\"last_name\"] == update_data[\"last_name\"]\n        assert data[\"bio\"] == update_data[\"bio\"]\n    \n    @pytest.mark.asyncio\n    async def test_delete_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        superuser_headers: dict\n    ):\n        \"\"\"Test DELETE /api/v1/users/{id}.\"\"\"\n        response = await async_client.delete(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=superuser_headers\n        )\n        \n        assert response.status_code == 204\n        \n        # Verify user is deleted\n        get_response = await async_client.get(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=superuser_headers\n        )\n        assert get_response.status_code == 404\n    \n    @pytest.mark.asyncio\n    async def test_unauthorized_access(self, async_client: AsyncClient):\n        \"\"\"Test unauthorized access to protected endpoints.\"\"\"\n        response = await async_client.get(\"/api/v1/users/\")\n        assert response.status_code == 401\n    \n    @pytest.mark.asyncio\n    async def test_forbidden_access(\n        self, \n        async_client: AsyncClient, \n        auth_headers: dict\n    ):\n        \"\"\"Test forbidden access to admin endpoints.\"\"\"\n        user_data = {\n            \"username\": \"unauthorized\",\n            \"email\": \"unauthorized@example.com\",\n            \"password\": \"pass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/users/\",\n            json=user_data,\n            headers=auth_headers  # Regular user, not superuser\n        )\n        \n        assert response.status_code == 403\n```\n\n## Authentication Testing\n\n```python\n# tests/test_api/test_auth.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom app.core.security import create_access_token, decode_token\n\nclass TestAuthAPI:\n    \"\"\"Test authentication API endpoints.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_register(\n        self, \n        async_client: AsyncClient\n    ):\n        \"\"\"Test user registration.\"\"\"\n        user_data = {\n            \"username\": \"newuser\",\n            \"email\": \"new@example.com\",\n            \"password\": \"newpass123\",\n            \"first_name\": \"New\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/register\",\n            json=user_data\n        )\n        \n        assert response.status_code == 201\n        data = response.json()\n        assert data[\"username\"] == user_data[\"username\"]\n        assert data[\"email\"] == user_data[\"email\"]\n        assert \"password\" not in data\n    \n    @pytest.mark.asyncio\n    async def test_register_duplicate_email(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test registration with duplicate email.\"\"\"\n        user_data = {\n            \"username\": \"different\",\n            \"email\": test_user.email,  # Duplicate email\n            \"password\": \"pass123\",\n            \"first_name\": \"Test\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/register\",\n            json=user_data\n        )\n        \n        assert response.status_code == 400\n        assert \"Email already registered\" in response.json()[\"detail\"]\n    \n    @pytest.mark.asyncio\n    async def test_login(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test user login.\"\"\"\n        login_data = {\n            \"username\": test_user.username,\n            \"password\": \"testpass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/login\",\n            data=login_data,\n            headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"access_token\" in data\n        assert \"refresh_token\" in data\n        assert data[\"token_type\"] == \"bearer\"\n        assert \"expires_in\" in data\n        \n        # Verify token is valid\n        payload = decode_token(data[\"access_token\"])\n        assert payload is not None\n        assert payload[\"sub\"] == str(test_user.id)\n    \n    @pytest.mark.asyncio\n    async def test_login_invalid_credentials(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test login with invalid credentials.\"\"\"\n        login_data = {\n            \"username\": test_user.username,\n            \"password\": \"wrongpassword\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/login\",\n            data=login_data,\n            headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n        )\n        \n        assert response.status_code == 401\n        assert \"Incorrect username or password\" in response.json()[\"detail\"]\n    \n    @pytest.mark.asyncio\n    async def test_get_current_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test get current user endpoint.\"\"\"\n        response = await async_client.get(\n            \"/api/v1/auth/me\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"id\"] == test_user.id\n        assert data[\"username\"] == test_user.username\n        assert data[\"email\"] == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_refresh_token(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test token refresh.\"\"\"\n        from app.core.security import create_refresh_token\n        \n        refresh_token = create_refresh_token(subject=test_user.id)\n        \n        response = await async_client.post(\n            \"/api/v1/auth/refresh\",\n            json={\"refresh_token\": refresh_token}\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"access_token\" in data\n        assert \"refresh_token\" in data\n        assert data[\"token_type\"] == \"bearer\"\n    \n    @pytest.mark.asyncio\n    async def test_change_password(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test password change.\"\"\"\n        password_data = {\n            \"current_password\": \"testpass123\",\n            \"new_password\": \"newpass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/change-password\",\n            json=password_data,\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        assert \"Password changed successfully\" in response.json()[\"message\"]\n```\n\n## Model Testing\n\n```python\n# tests/test_models/test_user.py\nimport pytest\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.models.user import User\nfrom app.core.security import verify_password, get_password_hash\n\nclass TestUserModel:\n    \"\"\"Test User model.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(self, db_session: AsyncSession):\n        \"\"\"Test user creation.\"\"\"\n        user_data = {\n            \"username\": \"testuser\",\n            \"email\": \"test@example.com\",\n            \"hashed_password\": get_password_hash(\"password123\"),\n            \"first_name\": \"Test\",\n            \"last_name\": \"User\"\n        }\n        \n        user = User(**user_data)\n        db_session.add(user)\n        await db_session.commit()\n        await db_session.refresh(user)\n        \n        assert user.id is not None\n        assert user.username == \"testuser\"\n        assert user.email == \"test@example.com\"\n        assert user.full_name == \"Test User\"\n        assert user.is_active is True\n        assert user.is_superuser is False\n        assert user.created_at is not None\n        assert user.updated_at is not None\n    \n    def test_password_verification(self):\n        \"\"\"Test password verification.\"\"\"\n        password = \"testpassword123\"\n        hashed = get_password_hash(password)\n        \n        user = User(\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=hashed,\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        assert user.verify_password(password)\n        assert not user.verify_password(\"wrongpassword\")\n    \n    def test_user_dict_excludes_password(self):\n        \"\"\"Test that dict() method excludes password.\"\"\"\n        user = User(\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=\"hashed_password\",\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        user_dict = user.dict()\n        assert \"hashed_password\" not in user_dict\n        assert \"username\" in user_dict\n        assert \"email\" in user_dict\n    \n    def test_user_repr(self):\n        \"\"\"Test user string representation.\"\"\"\n        user = User(\n            id=1,\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=\"hash\",\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        assert repr(user) == \"<User(id=1)>\"\n```\n\n## Repository Testing\n\n```python\n# tests/test_repositories/test_user.py\nimport pytest\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.security import get_password_hash\n\nclass TestUserRepository:\n    \"\"\"Test UserRepository.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(self, db_session: AsyncSession):\n        \"\"\"Test user creation through repository.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        user_data = {\n            \"username\": \"repouser\",\n            \"email\": \"repo@example.com\",\n            \"hashed_password\": get_password_hash(\"password123\"),\n            \"first_name\": \"Repo\",\n            \"last_name\": \"User\"\n        }\n        \n        user = await repo.create(user_data)\n        \n        assert user.id is not None\n        assert user.username == \"repouser\"\n        assert user.email == \"repo@example.com\"\n    \n    @pytest.mark.asyncio\n    async def test_get_by_email(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test get user by email.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        found_user = await repo.get_by_email(test_user.email)\n        \n        assert found_user is not None\n        assert found_user.id == test_user.id\n        assert found_user.email == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_get_by_username(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test get user by username.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        found_user = await repo.get_by_username(test_user.username)\n        \n        assert found_user is not None\n        assert found_user.id == test_user.id\n        assert found_user.username == test_user.username\n    \n    @pytest.mark.asyncio\n    async def test_get_multi_with_pagination(\n        self, \n        db_session: AsyncSession, \n        test_user: User\n    ):\n        \"\"\"Test get multiple users with pagination.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        # Create additional users\n        for i in range(5):\n            user_data = {\n                \"username\": f\"user{i}\",\n                \"email\": f\"user{i}@example.com\",\n                \"hashed_password\": get_password_hash(\"password123\"),\n                \"first_name\": f\"User{i}\",\n                \"last_name\": \"Test\"\n            }\n            await repo.create(user_data)\n        \n        # Test pagination\n        users = await repo.get_multi(skip=0, limit=3)\n        assert len(users) == 3\n        \n        users_page_2 = await repo.get_multi(skip=3, limit=3)\n        assert len(users_page_2) >= 1  # At least test_user\n    \n    @pytest.mark.asyncio\n    async def test_update_user(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test user update.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        updated_user = await repo.update(test_user.id, {\n            \"first_name\": \"Updated\",\n            \"bio\": \"Updated bio\"\n        })\n        \n        assert updated_user is not None\n        assert updated_user.first_name == \"Updated\"\n        assert updated_user.bio == \"Updated bio\"\n    \n    @pytest.mark.asyncio\n    async def test_delete_user(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test user deletion.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        result = await repo.delete(test_user.id)\n        assert result is True\n        \n        # Verify user is deleted\n        deleted_user = await repo.get(test_user.id)\n        assert deleted_user is None\n```\n\n## Performance Testing\n\n```python\n# tests/test_performance.py\nimport pytest\nimport time\nimport asyncio\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom tests.factories import UserFactory\n\n@pytest.mark.slow\nclass TestPerformance:\n    \"\"\"Test application performance.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_concurrent_requests(\n        self, \n        async_client: AsyncClient,\n        auth_headers: dict\n    ):\n        \"\"\"Test concurrent API requests.\"\"\"\n        \n        async def make_request():\n            response = await async_client.get(\n                \"/api/v1/users/\",\n                headers=auth_headers\n            )\n            return response.status_code\n        \n        # Make 10 concurrent requests\n        start_time = time.time()\n        tasks = [make_request() for _ in range(10)]\n        results = await asyncio.gather(*tasks)\n        end_time = time.time()\n        \n        # All requests should succeed\n        assert all(status == 200 for status in results)\n        \n        # Should complete within reasonable time\n        assert (end_time - start_time) < 5.0\n    \n    @pytest.mark.asyncio\n    async def test_large_dataset_pagination(\n        self, \n        async_client: AsyncClient,\n        db_session,\n        auth_headers: dict\n    ):\n        \"\"\"Test pagination with large dataset.\"\"\"\n        # Create 100 users\n        users = []\n        for i in range(100):\n            user = UserFactory.build()\n            users.append(user)\n        \n        db_session.add_all(users)\n        await db_session.commit()\n        \n        # Test pagination performance\n        start_time = time.time()\n        response = await async_client.get(\n            \"/api/v1/users/?skip=0&limit=50\",\n            headers=auth_headers\n        )\n        end_time = time.time()\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert len(data[\"items\"]) == 50\n        \n        # Should complete quickly\n        assert (end_time - start_time) < 1.0\n```\n\n## Mocking External Services\n\n```python\n# tests/test_external.py\nimport pytest\nimport respx\nimport httpx\nfrom app.services.email import EmailService\n\nclass TestExternalServices:\n    \"\"\"Test external service integrations.\"\"\"\n    \n    @pytest.mark.asyncio\n    @respx.mock\n    async def test_email_service(\n        self, \n        async_client: AsyncClient\n    ):\n        \"\"\"Test email service with mocked external API.\"\"\"\n        # Mock email service API\n        respx.post(\"https://api.emailservice.com/send\").mock(\n            return_value=httpx.Response(\n                200, \n                json={\"message\": \"Email sent successfully\"}\n            )\n        )\n        \n        email_service = EmailService()\n        result = await email_service.send_email(\n            to=\"test@example.com\",\n            subject=\"Test\",\n            body=\"Test email\"\n        )\n        \n        assert result[\"success\"] is True\n```\n\n## Test Utilities\n\n```python\n# tests/utils.py\nfrom typing import Dict, Any\nfrom httpx import Response\nimport json\n\ndef assert_response_status(response: Response, expected_status: int = 200):\n    \"\"\"Assert response status code.\"\"\"\n    assert response.status_code == expected_status, f\"Expected {expected_status}, got {response.status_code}. Response: {response.text}\"\n\ndef assert_response_json(response: Response, expected_keys: list[str] = None):\n    \"\"\"Assert response is valid JSON with expected keys.\"\"\"\n    assert response.headers.get(\"content-type\") == \"application/json\"\n    data = response.json()\n    \n    if expected_keys:\n        for key in expected_keys:\n            assert key in data, f\"Missing key '{key}' in response\"\n    \n    return data\n\ndef create_auth_headers(token: str) -> Dict[str, str]:\n    \"\"\"Create authorization headers with token.\"\"\"\n    return {\"Authorization\": f\"Bearer {token}\"}\n\nasync def create_test_users(db_session, count: int = 5) -> list:\n    \"\"\"Create multiple test users.\"\"\"\n    from tests.factories import UserFactory\n    \n    users = []\n    for i in range(count):\n        user = UserFactory.build()\n        users.append(user)\n    \n    db_session.add_all(users)\n    await db_session.commit()\n    \n    return users\n```\n"
              },
              {
                "name": "/app-factory",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/app-factory.md",
                "frontmatter": null,
                "content": "# Flask Application Factory Pattern\n\nCreate a scalable Flask application using the factory pattern with blueprints and configuration management.\n\n## Purpose\n\nThis command helps you set up a Flask application using the application factory pattern, which is the recommended approach for larger Flask applications.\n\n## Usage\n\n```\n/app-factory\n```\n\n## What this command does\n\n1. **Creates application factory** with proper structure\n2. **Sets up configuration management** for different environments\n3. **Implements blueprints** for modular design\n4. **Configures extensions** (database, auth, etc.)\n5. **Adds error handling** and logging\n\n## Example Output\n\n```python\n# app/__init__.py\nfrom flask import Flask\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom flask_login import LoginManager\nfrom flask_mail import Mail\nfrom flask_wtf.csrf import CSRFProtect\nfrom flask_cors import CORS\nimport logging\nfrom logging.handlers import RotatingFileHandler\nimport os\n\n# Initialize extensions\ndb = SQLAlchemy()\nmigrate = Migrate()\nlogin = LoginManager()\nmail = Mail()\ncsrf = CSRFProtect()\ncors = CORS()\n\ndef create_app(config_class=None):\n    \"\"\"Application factory function.\"\"\"\n    app = Flask(__name__)\n    \n    # Load configuration\n    if config_class is None:\n        config_class = os.environ.get('FLASK_CONFIG', 'development')\n    \n    if isinstance(config_class, str):\n        from app.config import config\n        app.config.from_object(config[config_class])\n    else:\n        app.config.from_object(config_class)\n    \n    # Initialize extensions\n    db.init_app(app)\n    migrate.init_app(app, db)\n    login.init_app(app)\n    mail.init_app(app)\n    csrf.init_app(app)\n    cors.init_app(app)\n    \n    # Configure login manager\n    login.login_view = 'auth.login'\n    login.login_message = 'Please log in to access this page.'\n    login.login_message_category = 'info'\n    \n    # Register blueprints\n    from app.main import bp as main_bp\n    app.register_blueprint(main_bp)\n    \n    from app.auth import bp as auth_bp\n    app.register_blueprint(auth_bp, url_prefix='/auth')\n    \n    from app.api import bp as api_bp\n    app.register_blueprint(api_bp, url_prefix='/api')\n    \n    from app.admin import bp as admin_bp\n    app.register_blueprint(admin_bp, url_prefix='/admin')\n    \n    # Error handlers\n    from app.errors import bp as errors_bp\n    app.register_blueprint(errors_bp)\n    \n    # Configure logging\n    if not app.debug and not app.testing:\n        if not os.path.exists('logs'):\n            os.mkdir('logs')\n        \n        file_handler = RotatingFileHandler(\n            'logs/app.log', \n            maxBytes=10240, \n            backupCount=10\n        )\n        file_handler.setFormatter(logging.Formatter(\n            '%(asctime)s %(levelname)s: %(message)s [in %(pathname)s:%(lineno)d]'\n        ))\n        file_handler.setLevel(logging.INFO)\n        app.logger.addHandler(file_handler)\n        \n        app.logger.setLevel(logging.INFO)\n        app.logger.info('Flask application startup')\n    \n    return app\n\n# Import models (avoid circular imports)\nfrom app import models\n```\n\n```python\n# app/config.py\nimport os\nfrom dotenv import load_dotenv\n\nbasedir = os.path.abspath(os.path.dirname(__file__))\nload_dotenv(os.path.join(basedir, '.env'))\n\nclass Config:\n    \"\"\"Base configuration class.\"\"\"\n    SECRET_KEY = os.environ.get('SECRET_KEY') or 'dev-secret-key'\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app.db')\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    \n    # Mail configuration\n    MAIL_SERVER = os.environ.get('MAIL_SERVER')\n    MAIL_PORT = int(os.environ.get('MAIL_PORT') or 587)\n    MAIL_USE_TLS = os.environ.get('MAIL_USE_TLS', 'true').lower() in ['true', 'on', '1']\n    MAIL_USERNAME = os.environ.get('MAIL_USERNAME')\n    MAIL_PASSWORD = os.environ.get('MAIL_PASSWORD')\n    ADMIN_EMAIL = os.environ.get('ADMIN_EMAIL')\n    \n    # Pagination\n    POSTS_PER_PAGE = 10\n    USERS_PER_PAGE = 50\n    \n    # Upload configuration\n    MAX_CONTENT_LENGTH = 16 * 1024 * 1024  # 16MB\n    UPLOAD_FOLDER = os.path.join(basedir, 'uploads')\n    \n    @staticmethod\n    def init_app(app):\n        pass\n\nclass DevelopmentConfig(Config):\n    \"\"\"Development configuration.\"\"\"\n    DEBUG = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DEV_DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app-dev.db')\n\nclass TestingConfig(Config):\n    \"\"\"Testing configuration.\"\"\"\n    TESTING = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('TEST_DATABASE_URL') or 'sqlite://'\n    WTF_CSRF_ENABLED = False\n\nclass ProductionConfig(Config):\n    \"\"\"Production configuration.\"\"\"\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app.db')\n    \n    @classmethod\n    def init_app(cls, app):\n        Config.init_app(app)\n        \n        # Log to stderr\n        import logging\n        from logging import StreamHandler\n        file_handler = StreamHandler()\n        file_handler.setLevel(logging.INFO)\n        app.logger.addHandler(file_handler)\n\nconfig = {\n    'development': DevelopmentConfig,\n    'testing': TestingConfig,\n    'production': ProductionConfig,\n    'default': DevelopmentConfig\n}\n```\n\n```python\n# app/main/__init__.py\nfrom flask import Blueprint\n\nbp = Blueprint('main', __name__)\n\nfrom app.main import routes\n```\n\n```python\n# app/main/routes.py\nfrom flask import render_template, request, current_app\nfrom app.main import bp\nfrom app.models import Post\n\n@bp.route('/')\n@bp.route('/index')\ndef index():\n    \"\"\"Home page.\"\"\"\n    page = request.args.get('page', 1, type=int)\n    posts = Post.query.filter_by(published=True).order_by(\n        Post.created_at.desc()\n    ).paginate(\n        page=page,\n        per_page=current_app.config['POSTS_PER_PAGE'],\n        error_out=False\n    )\n    \n    return render_template('index.html', posts=posts)\n\n@bp.route('/about')\ndef about():\n    \"\"\"About page.\"\"\"\n    return render_template('about.html')\n```\n\n```python\n# app/auth/__init__.py\nfrom flask import Blueprint\n\nbp = Blueprint('auth', __name__)\n\nfrom app.auth import routes\n```\n\n```python\n# app/auth/routes.py\nfrom flask import render_template, redirect, url_for, flash, request\nfrom flask_login import login_user, logout_user, login_required, current_user\nfrom werkzeug.urls import url_parse\nfrom app import db\nfrom app.auth import bp\nfrom app.auth.forms import LoginForm, RegistrationForm\nfrom app.models import User\n\n@bp.route('/login', methods=['GET', 'POST'])\ndef login():\n    \"\"\"User login.\"\"\"\n    if current_user.is_authenticated:\n        return redirect(url_for('main.index'))\n    \n    form = LoginForm()\n    if form.validate_on_submit():\n        user = User.query.filter_by(username=form.username.data).first()\n        if user is None or not user.check_password(form.password.data):\n            flash('Invalid username or password', 'error')\n            return redirect(url_for('auth.login'))\n        \n        login_user(user, remember=form.remember_me.data)\n        \n        next_page = request.args.get('next')\n        if not next_page or url_parse(next_page).netloc != '':\n            next_page = url_for('main.index')\n        \n        return redirect(next_page)\n    \n    return render_template('auth/login.html', form=form)\n\n@bp.route('/logout')\n@login_required\ndef logout():\n    \"\"\"User logout.\"\"\"\n    logout_user()\n    flash('You have been logged out.', 'info')\n    return redirect(url_for('main.index'))\n\n@bp.route('/register', methods=['GET', 'POST'])\ndef register():\n    \"\"\"User registration.\"\"\"\n    if current_user.is_authenticated:\n        return redirect(url_for('main.index'))\n    \n    form = RegistrationForm()\n    if form.validate_on_submit():\n        user = User(username=form.username.data, email=form.email.data)\n        user.set_password(form.password.data)\n        db.session.add(user)\n        db.session.commit()\n        \n        flash('Registration successful!', 'success')\n        return redirect(url_for('auth.login'))\n    \n    return render_template('auth/register.html', form=form)\n```\n\n```python\n# app/models.py\nfrom app import db, login\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom flask_login import UserMixin\nfrom datetime import datetime\n\nclass User(UserMixin, db.Model):\n    \"\"\"User model.\"\"\"\n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(64), index=True, unique=True)\n    email = db.Column(db.String(120), index=True, unique=True)\n    password_hash = db.Column(db.String(128))\n    created_at = db.Column(db.DateTime, index=True, default=datetime.utcnow)\n    \n    posts = db.relationship('Post', backref='author', lazy='dynamic')\n    \n    def set_password(self, password):\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        return check_password_hash(self.password_hash, password)\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n\n@login.user_loader\ndef load_user(id):\n    return User.query.get(int(id))\n\nclass Post(db.Model):\n    \"\"\"Post model.\"\"\"\n    id = db.Column(db.Integer, primary_key=True)\n    title = db.Column(db.String(100), nullable=False)\n    content = db.Column(db.Text, nullable=False)\n    published = db.Column(db.Boolean, default=False)\n    created_at = db.Column(db.DateTime, index=True, default=datetime.utcnow)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\n    \n    user_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=False)\n    \n    def __repr__(self):\n        return f'<Post {self.title}>'\n```\n\n```python\n# app.py (main application entry point)\nfrom app import create_app, db\nfrom app.models import User, Post\n\napp = create_app()\n\n@app.shell_context_processor\ndef make_shell_context():\n    \"\"\"Add models to shell context.\"\"\"\n    return {'db': db, 'User': User, 'Post': Post}\n\nif __name__ == '__main__':\n    app.run(debug=True)\n```\n\n## Project Structure\n\n```\nproject/\n‚îú‚îÄ‚îÄ app/\n‚îÇ   ‚îú‚îÄ‚îÄ __init__.py         # Application factory\n‚îÇ   ‚îú‚îÄ‚îÄ config.py           # Configuration classes\n‚îÇ   ‚îú‚îÄ‚îÄ models.py           # Database models\n‚îÇ   ‚îú‚îÄ‚îÄ main/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # Main blueprint\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.py       # Main routes\n‚îÇ   ‚îú‚îÄ‚îÄ auth/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # Auth blueprint\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes.py       # Auth routes\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ forms.py        # Auth forms\n‚îÇ   ‚îú‚îÄ‚îÄ api/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # API blueprint\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.py       # API routes\n‚îÇ   ‚îî‚îÄ‚îÄ templates/          # Jinja2 templates\n‚îú‚îÄ‚îÄ migrations/             # Database migrations\n‚îú‚îÄ‚îÄ logs/                   # Application logs\n‚îú‚îÄ‚îÄ app.py                  # Application entry point\n‚îú‚îÄ‚îÄ requirements.txt        # Dependencies\n‚îî‚îÄ‚îÄ .env                    # Environment variables\n```\n\n## Benefits of Application Factory\n\n- **Testing**: Easy to create app instances with different configs\n- **Scalability**: Modular design with blueprints\n- **Configuration**: Environment-specific settings\n- **Extensions**: Proper initialization order\n- **Maintainability**: Clear separation of concerns"
              },
              {
                "name": "/blueprint",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/blueprint.md",
                "frontmatter": null,
                "content": "# Flask Blueprint Generator\n\nCreate organized Flask blueprints for modular application structure.\n\n## Usage\n\n```bash\n# Create a new blueprint\nflask create-blueprint users\nflask create-blueprint api/v1\n```\n\n## Blueprint Structure\n\nGenerates a complete blueprint with:\n- Routes and view functions\n- Error handlers\n- Template folder structure\n- Static file organization\n\n## Example Blueprint\n\n```python\n# app/blueprints/users/__init__.py\nfrom flask import Blueprint\n\nusers_bp = Blueprint(\n    'users',\n    __name__,\n    url_prefix='/users',\n    template_folder='templates',\n    static_folder='static'\n)\n\nfrom . import routes, models\n\n# app/blueprints/users/routes.py\nfrom flask import render_template, request, redirect, url_for, flash\nfrom . import users_bp\nfrom .models import User\nfrom .forms import UserForm\n\n@users_bp.route('/')\ndef index():\n    \"\"\"List all users.\"\"\"\n    users = User.query.all()\n    return render_template('users/index.html', users=users)\n\n@users_bp.route('/create', methods=['GET', 'POST'])\ndef create():\n    \"\"\"Create a new user.\"\"\"\n    form = UserForm()\n    if form.validate_on_submit():\n        user = User(\n            username=form.username.data,\n            email=form.email.data\n        )\n        user.save()\n        flash('User created successfully!', 'success')\n        return redirect(url_for('users.index'))\n    return render_template('users/create.html', form=form)\n\n@users_bp.route('/<int:user_id>')\ndef detail(user_id):\n    \"\"\"Show user details.\"\"\"\n    user = User.query.get_or_404(user_id)\n    return render_template('users/detail.html', user=user)\n\n@users_bp.route('/<int:user_id>/edit', methods=['GET', 'POST'])\ndef edit(user_id):\n    \"\"\"Edit an existing user.\"\"\"\n    user = User.query.get_or_404(user_id)\n    form = UserForm(obj=user)\n    if form.validate_on_submit():\n        user.username = form.username.data\n        user.email = form.email.data\n        user.save()\n        flash('User updated successfully!', 'success')\n        return redirect(url_for('users.detail', user_id=user.id))\n    return render_template('users/edit.html', form=form, user=user)\n\n@users_bp.route('/<int:user_id>/delete', methods=['POST'])\ndef delete(user_id):\n    \"\"\"Delete a user.\"\"\"\n    user = User.query.get_or_404(user_id)\n    user.delete()\n    flash('User deleted successfully!', 'success')\n    return redirect(url_for('users.index'))\n\n# Error handlers\n@users_bp.errorhandler(404)\ndef not_found(error):\n    return render_template('users/404.html'), 404\n\n@users_bp.errorhandler(500)\ndef internal_error(error):\n    return render_template('users/500.html'), 500\n```\n\n## Blueprint Models\n\n```python\n# app/blueprints/users/models.py\nfrom app.extensions import db\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom datetime import datetime\n\nclass User(db.Model):\n    \"\"\"User model.\"\"\"\n    __tablename__ = 'users'\n    \n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(80), unique=True, nullable=False)\n    email = db.Column(db.String(120), unique=True, nullable=False)\n    password_hash = db.Column(db.String(255), nullable=False)\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\n    is_active = db.Column(db.Boolean, default=True)\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n    \n    def set_password(self, password):\n        \"\"\"Set password hash.\"\"\"\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        \"\"\"Check password hash.\"\"\"\n        return check_password_hash(self.password_hash, password)\n    \n    def save(self):\n        \"\"\"Save user to database.\"\"\"\n        db.session.add(self)\n        db.session.commit()\n    \n    def delete(self):\n        \"\"\"Delete user from database.\"\"\"\n        db.session.delete(self)\n        db.session.commit()\n    \n    def to_dict(self):\n        \"\"\"Convert to dictionary.\"\"\"\n        return {\n            'id': self.id,\n            'username': self.username,\n            'email': self.email,\n            'created_at': self.created_at.isoformat(),\n            'is_active': self.is_active\n        }\n```\n\n## Blueprint Forms\n\n```python\n# app/blueprints/users/forms.py\nfrom flask_wtf import FlaskForm\nfrom wtforms import StringField, EmailField, PasswordField, BooleanField\nfrom wtforms.validators import DataRequired, Email, Length, EqualTo\nfrom .models import User\n\nclass UserForm(FlaskForm):\n    \"\"\"User creation/edit form.\"\"\"\n    username = StringField(\n        'Username',\n        validators=[\n            DataRequired(),\n            Length(min=3, max=80)\n        ]\n    )\n    email = EmailField(\n        'Email',\n        validators=[\n            DataRequired(),\n            Email(),\n            Length(max=120)\n        ]\n    )\n    password = PasswordField(\n        'Password',\n        validators=[\n            DataRequired(),\n            Length(min=8)\n        ]\n    )\n    confirm_password = PasswordField(\n        'Confirm Password',\n        validators=[\n            DataRequired(),\n            EqualTo('password', message='Passwords must match')\n        ]\n    )\n    is_active = BooleanField('Active')\n    \n    def validate_username(self, field):\n        \"\"\"Validate username uniqueness.\"\"\"\n        if User.query.filter_by(username=field.data).first():\n            raise ValidationError('Username already exists.')\n    \n    def validate_email(self, field):\n        \"\"\"Validate email uniqueness.\"\"\"\n        if User.query.filter_by(email=field.data).first():\n            raise ValidationError('Email already registered.')\n```\n\n## Registration in Main App\n\n```python\n# app/__init__.py\nfrom flask import Flask\nfrom app.blueprints.users import users_bp\n\ndef create_app():\n    app = Flask(__name__)\n    \n    # Register blueprints\n    app.register_blueprint(users_bp)\n    \n    return app\n```\n\n## Template Structure\n\n```\ntemplates/\n‚îú‚îÄ‚îÄ base.html\n‚îî‚îÄ‚îÄ users/\n    ‚îú‚îÄ‚îÄ index.html\n    ‚îú‚îÄ‚îÄ create.html\n    ‚îú‚îÄ‚îÄ detail.html\n    ‚îú‚îÄ‚îÄ edit.html\n    ‚îú‚îÄ‚îÄ 404.html\n    ‚îî‚îÄ‚îÄ 500.html\n```\n\n## Best Practices\n\n- Use blueprints to organize related functionality\n- Keep models, forms, and routes in separate files\n- Implement proper error handling\n- Use URL prefixes for namespacing\n- Follow RESTful routing conventions\n- Include comprehensive docstrings\n- Add form validation and CSRF protection\n"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# Flask Database Management\n\nComplete database setup and management for Flask applications using SQLAlchemy.\n\n## Usage\n\n```bash\n# Initialize database\nflask db init\n\n# Create migration\nflask db migrate -m \"Initial migration\"\n\n# Apply migrations\nflask db upgrade\n\n# Downgrade migration\nflask db downgrade\n```\n\n## Database Configuration\n\n```python\n# config.py\nimport os\nfrom urllib.parse import quote_plus\n\nclass Config:\n    \"\"\"Base configuration.\"\"\"\n    SECRET_KEY = os.environ.get('SECRET_KEY') or 'dev-secret-key'\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    SQLALCHEMY_RECORD_QUERIES = True\n    \nclass DevelopmentConfig(Config):\n    \"\"\"Development configuration.\"\"\"\n    DEBUG = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///app.db'\n        \nclass ProductionConfig(Config):\n    \"\"\"Production configuration.\"\"\"\n    DEBUG = False\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        f\"postgresql://{os.environ.get('DB_USER')}:{quote_plus(os.environ.get('DB_PASSWORD'))}@\" \\\n        f\"{os.environ.get('DB_HOST')}:{os.environ.get('DB_PORT', '5432')}/{os.environ.get('DB_NAME')}\"\n    \nclass TestingConfig(Config):\n    \"\"\"Testing configuration.\"\"\"\n    TESTING = True\n    SQLALCHEMY_DATABASE_URI = 'sqlite:///:memory:'\n    WTF_CSRF_ENABLED = False\n\nconfig = {\n    'development': DevelopmentConfig,\n    'production': ProductionConfig,\n    'testing': TestingConfig,\n    'default': DevelopmentConfig\n}\n```\n\n## Database Extensions\n\n```python\n# app/extensions.py\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom flask_login import LoginManager\nfrom flask_wtf.csrf import CSRFProtect\nfrom flask_caching import Cache\nfrom flask_limiter import Limiter\nfrom flask_limiter.util import get_remote_address\n\n# Initialize extensions\ndb = SQLAlchemy()\nmigrate = Migrate()\nlogin_manager = LoginManager()\ncsrf = CSRFProtect()\ncache = Cache()\nlimiter = Limiter(key_func=get_remote_address)\n\ndef init_extensions(app):\n    \"\"\"Initialize Flask extensions.\"\"\"\n    db.init_app(app)\n    migrate.init_app(app, db)\n    login_manager.init_app(app)\n    csrf.init_app(app)\n    cache.init_app(app)\n    limiter.init_app(app)\n    \n    # Configure login manager\n    login_manager.login_view = 'auth.login'\n    login_manager.login_message = 'Please log in to access this page.'\n    login_manager.login_message_category = 'info'\n```\n\n## Base Model\n\n```python\n# app/models/base.py\nfrom app.extensions import db\nfrom datetime import datetime\nfrom sqlalchemy.ext.declarative import declared_attr\n\nclass TimestampMixin:\n    \"\"\"Add timestamp fields to model.\"\"\"\n    created_at = db.Column(db.DateTime, default=datetime.utcnow, nullable=False)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow, nullable=False)\n\nclass BaseModel(db.Model, TimestampMixin):\n    \"\"\"Base model with common functionality.\"\"\"\n    __abstract__ = True\n    \n    id = db.Column(db.Integer, primary_key=True)\n    \n    @declared_attr\n    def __tablename__(cls):\n        return cls.__name__.lower()\n    \n    def save(self, commit=True):\n        \"\"\"Save model to database.\"\"\"\n        db.session.add(self)\n        if commit:\n            db.session.commit()\n        return self\n    \n    def delete(self, commit=True):\n        \"\"\"Delete model from database.\"\"\"\n        db.session.delete(self)\n        if commit:\n            db.session.commit()\n    \n    def update(self, **kwargs):\n        \"\"\"Update model attributes.\"\"\"\n        for key, value in kwargs.items():\n            if hasattr(self, key):\n                setattr(self, key, value)\n        return self.save()\n    \n    def to_dict(self, exclude=None):\n        \"\"\"Convert model to dictionary.\"\"\"\n        exclude = exclude or []\n        return {\n            column.name: getattr(self, column.name)\n            for column in self.__table__.columns\n            if column.name not in exclude\n        }\n    \n    @classmethod\n    def get_or_404(cls, id):\n        \"\"\"Get model by ID or raise 404.\"\"\"\n        return cls.query.get_or_404(id)\n    \n    @classmethod\n    def create(cls, **kwargs):\n        \"\"\"Create new model instance.\"\"\"\n        instance = cls(**kwargs)\n        return instance.save()\n```\n\n## Example Models\n\n```python\n# app/models/user.py\nfrom app.extensions import db\nfrom app.models.base import BaseModel\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom flask_login import UserMixin\n\nclass User(UserMixin, BaseModel):\n    \"\"\"User model.\"\"\"\n    __tablename__ = 'users'\n    \n    username = db.Column(db.String(80), unique=True, nullable=False, index=True)\n    email = db.Column(db.String(120), unique=True, nullable=False, index=True)\n    password_hash = db.Column(db.String(255), nullable=False)\n    first_name = db.Column(db.String(50), nullable=False)\n    last_name = db.Column(db.String(50), nullable=False)\n    is_active = db.Column(db.Boolean, default=True, nullable=False)\n    is_admin = db.Column(db.Boolean, default=False, nullable=False)\n    last_login = db.Column(db.DateTime)\n    \n    # Relationships\n    posts = db.relationship('Post', backref='author', lazy='dynamic', cascade='all, delete-orphan')\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n    \n    def set_password(self, password):\n        \"\"\"Set password hash.\"\"\"\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        \"\"\"Check password hash.\"\"\"\n        return check_password_hash(self.password_hash, password)\n    \n    @property\n    def full_name(self):\n        \"\"\"Get user's full name.\"\"\"\n        return f\"{self.first_name} {self.last_name}\"\n    \n    def to_dict(self, exclude=None):\n        \"\"\"Convert to dictionary excluding sensitive data.\"\"\"\n        exclude = exclude or ['password_hash']\n        return super().to_dict(exclude=exclude)\n\n# app/models/post.py\nclass Post(BaseModel):\n    \"\"\"Blog post model.\"\"\"\n    __tablename__ = 'posts'\n    \n    title = db.Column(db.String(200), nullable=False)\n    content = db.Column(db.Text, nullable=False)\n    slug = db.Column(db.String(200), unique=True, nullable=False, index=True)\n    status = db.Column(db.String(20), default='draft', nullable=False)\n    published_at = db.Column(db.DateTime)\n    \n    # Foreign keys\n    user_id = db.Column(db.Integer, db.ForeignKey('users.id'), nullable=False)\n    category_id = db.Column(db.Integer, db.ForeignKey('categories.id'))\n    \n    # Relationships\n    category = db.relationship('Category', backref='posts')\n    tags = db.relationship('Tag', secondary='post_tags', backref='posts')\n    \n    def __repr__(self):\n        return f'<Post {self.title}>'\n    \n    @property\n    def is_published(self):\n        \"\"\"Check if post is published.\"\"\"\n        return self.status == 'published' and self.published_at is not None\n```\n\n## Database CLI Commands\n\n```python\n# app/cli.py\nimport click\nfrom flask import current_app\nfrom flask.cli import with_appcontext\nfrom app.extensions import db\nfrom app.models import User, Post, Category\n\n@click.command()\n@with_appcontext\ndef init_db():\n    \"\"\"Initialize database.\"\"\"\n    db.create_all()\n    click.echo('Database initialized.')\n\n@click.command()\n@with_appcontext\ndef seed_db():\n    \"\"\"Seed database with sample data.\"\"\"\n    # Create admin user\n    admin = User(\n        username='admin',\n        email='admin@example.com',\n        first_name='Admin',\n        last_name='User',\n        is_admin=True\n    )\n    admin.set_password('admin123')\n    admin.save()\n    \n    # Create sample category\n    category = Category(\n        name='Technology',\n        description='Tech-related posts'\n    )\n    category.save()\n    \n    # Create sample post\n    post = Post(\n        title='Welcome to Flask',\n        content='This is a sample blog post.',\n        slug='welcome-to-flask',\n        status='published',\n        user_id=admin.id,\n        category_id=category.id\n    )\n    post.save()\n    \n    click.echo('Database seeded with sample data.')\n\n@click.command()\n@with_appcontext\ndef reset_db():\n    \"\"\"Reset database.\"\"\"\n    if click.confirm('Are you sure you want to reset the database?'):\n        db.drop_all()\n        db.create_all()\n        click.echo('Database reset.')\n\ndef init_commands(app):\n    \"\"\"Register CLI commands.\"\"\"\n    app.cli.add_command(init_db)\n    app.cli.add_command(seed_db)\n    app.cli.add_command(reset_db)\n```\n\n## Connection Pooling\n\n```python\n# app/database.py\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.pool import QueuePool\n\ndef configure_database(app):\n    \"\"\"Configure database with connection pooling.\"\"\"\n    if app.config.get('SQLALCHEMY_DATABASE_URI', '').startswith('postgresql'):\n        # PostgreSQL configuration\n        engine = create_engine(\n            app.config['SQLALCHEMY_DATABASE_URI'],\n            poolclass=QueuePool,\n            pool_size=10,\n            max_overflow=20,\n            pool_recycle=3600,\n            pool_pre_ping=True\n        )\n        app.config['SQLALCHEMY_ENGINE_OPTIONS'] = {\n            'pool_size': 10,\n            'max_overflow': 20,\n            'pool_recycle': 3600,\n            'pool_pre_ping': True\n        }\n```\n\n## Database Utilities\n\n```python\n# app/utils/database.py\nfrom app.extensions import db\nfrom sqlalchemy import text\nfrom flask import current_app\n\ndef execute_sql(sql, params=None):\n    \"\"\"Execute raw SQL query.\"\"\"\n    with db.engine.connect() as conn:\n        result = conn.execute(text(sql), params or {})\n        return result.fetchall()\n\ndef backup_database():\n    \"\"\"Create database backup.\"\"\"\n    # Implementation depends on database type\n    pass\n\ndef check_database_health():\n    \"\"\"Check database connection health.\"\"\"\n    try:\n        db.session.execute(text('SELECT 1'))\n        return True\n    except Exception as e:\n        current_app.logger.error(f'Database health check failed: {e}')\n        return False\n\ndef get_table_info(table_name):\n    \"\"\"Get table information.\"\"\"\n    inspector = db.inspect(db.engine)\n    return {\n        'columns': inspector.get_columns(table_name),\n        'indexes': inspector.get_indexes(table_name),\n        'foreign_keys': inspector.get_foreign_keys(table_name)\n    }\n```\n\n## Testing Database\n\n```python\n# tests/conftest.py\nimport pytest\nfrom app import create_app\nfrom app.extensions import db\nfrom app.models import User\n\n@pytest.fixture(scope='session')\ndef app():\n    \"\"\"Create test app.\"\"\"\n    app = create_app('testing')\n    with app.app_context():\n        db.create_all()\n        yield app\n        db.drop_all()\n\n@pytest.fixture\ndef client(app):\n    \"\"\"Create test client.\"\"\"\n    return app.test_client()\n\n@pytest.fixture\ndef db_session(app):\n    \"\"\"Create database session for testing.\"\"\"\n    with app.app_context():\n        db.session.begin()\n        yield db.session\n        db.session.rollback()\n\n@pytest.fixture\ndef user(db_session):\n    \"\"\"Create test user.\"\"\"\n    user = User(\n        username='testuser',\n        email='test@example.com',\n        first_name='Test',\n        last_name='User'\n    )\n    user.set_password('testpass')\n    user.save()\n    return user\n```\n"
              },
              {
                "name": "/deployment",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/deployment.md",
                "frontmatter": null,
                "content": "# Flask Deployment Configuration\n\nComplete production deployment setup for Flask applications.\n\n## Usage\n\n```bash\n# Build Docker image\ndocker build -t myapp .\n\n# Run with Docker Compose\ndocker-compose up -d\n\n# Deploy to cloud\ngunicorn --bind 0.0.0.0:8000 app:app\n```\n\n## Production Configuration\n\n```python\n# config.py\nimport os\nfrom urllib.parse import quote_plus\n\nclass ProductionConfig:\n    \"\"\"Production configuration.\"\"\"\n    \n    # Security\n    SECRET_KEY = os.environ.get('SECRET_KEY')\n    DEBUG = False\n    TESTING = False\n    \n    # Database\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        f\"postgresql://{os.environ.get('DB_USER')}:{quote_plus(os.environ.get('DB_PASSWORD'))}@\" \\\n        f\"{os.environ.get('DB_HOST')}:{os.environ.get('DB_PORT', '5432')}/{os.environ.get('DB_NAME')}\"\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    SQLALCHEMY_ENGINE_OPTIONS = {\n        'pool_size': 10,\n        'max_overflow': 20,\n        'pool_recycle': 3600,\n        'pool_pre_ping': True\n    }\n    \n    # Security Headers\n    SECURITY_HEADERS = {\n        'Strict-Transport-Security': 'max-age=31536000; includeSubDomains',\n        'X-Content-Type-Options': 'nosniff',\n        'X-Frame-Options': 'DENY',\n        'X-XSS-Protection': '1; mode=block',\n        'Content-Security-Policy': \"default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'\"\n    }\n    \n    # Session\n    SESSION_COOKIE_SECURE = True\n    SESSION_COOKIE_HTTPONLY = True\n    SESSION_COOKIE_SAMESITE = 'Lax'\n    PERMANENT_SESSION_LIFETIME = 3600  # 1 hour\n    \n    # Cache\n    CACHE_TYPE = 'redis'\n    CACHE_REDIS_URL = os.environ.get('REDIS_URL', 'redis://localhost:6379/0')\n    CACHE_DEFAULT_TIMEOUT = 300\n    \n    # Rate Limiting\n    RATELIMIT_STORAGE_URL = os.environ.get('REDIS_URL', 'redis://localhost:6379/1')\n    RATELIMIT_DEFAULT = '100/hour'\n    \n    # Logging\n    LOG_LEVEL = os.environ.get('LOG_LEVEL', 'INFO')\n    LOG_FILE = os.environ.get('LOG_FILE', '/var/log/app/app.log')\n    \n    # File Upload\n    MAX_CONTENT_LENGTH = 16 * 1024 * 1024  # 16MB\n    UPLOAD_FOLDER = os.environ.get('UPLOAD_FOLDER', '/var/uploads')\n    \n    # Email\n    MAIL_SERVER = os.environ.get('MAIL_SERVER')\n    MAIL_PORT = int(os.environ.get('MAIL_PORT', 587))\n    MAIL_USE_TLS = os.environ.get('MAIL_USE_TLS', 'true').lower() in ['true', 'on', '1']\n    MAIL_USERNAME = os.environ.get('MAIL_USERNAME')\n    MAIL_PASSWORD = os.environ.get('MAIL_PASSWORD')\n    MAIL_DEFAULT_SENDER = os.environ.get('MAIL_DEFAULT_SENDER')\n```\n\n## WSGI Configuration\n\n```python\n# wsgi.py\nimport os\nfrom app import create_app\n\n# Get environment\nconfig_name = os.environ.get('FLASK_ENV', 'production')\napp = create_app(config_name)\n\nif __name__ == \"__main__\":\n    app.run()\n```\n\n## Gunicorn Configuration\n\n```python\n# gunicorn.conf.py\nimport multiprocessing\nimport os\n\n# Server socket\nbind = f\"0.0.0.0:{os.environ.get('PORT', 8000)}\"\nbacklog = 2048\n\n# Worker processes\nworkers = multiprocessing.cpu_count() * 2 + 1\nworker_class = 'sync'\nworker_connections = 1000\ntimeout = 30\nkeepalive = 60\nmax_requests = 1000\nmax_requests_jitter = 100\n\n# Security\nlimit_request_line = 4094\nlimit_request_fields = 100\nlimit_request_field_size = 8190\n\n# Logging\naccesslog = '-'\nerrorlog = '-'\nloglevel = os.environ.get('LOG_LEVEL', 'info').lower()\naccess_log_format = '%(h)s %(l)s %(u)s %(t)s \"%(r)s\" %(s)s %(b)s \"%(f)s\" \"%(a)s\" %(D)s'\n\n# Process naming\nproc_name = 'flask_app'\n\n# Server mechanics\ndaemon = False\npidfile = '/tmp/gunicorn.pid'\nuser = os.environ.get('USER', 'www-data')\ngroup = os.environ.get('GROUP', 'www-data')\ntmp_upload_dir = None\n\n# SSL\nkeyfile = os.environ.get('SSL_KEYFILE')\ncertfile = os.environ.get('SSL_CERTFILE')\n```\n\n## Docker Configuration\n\n```dockerfile\n# Dockerfile\nFROM python:3.11-slim\n\n# Set environment variables\nENV PYTHONDONTWRITEBYTECODE=1 \\\n    PYTHONUNBUFFERED=1 \\\n    PIP_NO_CACHE_DIR=1 \\\n    PIP_DISABLE_PIP_VERSION_CHECK=1\n\n# Install system dependencies\nRUN apt-get update && apt-get install -y \\\n    build-essential \\\n    libpq-dev \\\n    curl \\\n    && rm -rf /var/lib/apt/lists/*\n\n# Create app user\nRUN groupadd -r appuser && useradd -r -g appuser appuser\n\n# Set work directory\nWORKDIR /app\n\n# Install Python dependencies\nCOPY requirements/production.txt ./requirements.txt\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy application code\nCOPY . .\n\n# Create necessary directories\nRUN mkdir -p /var/log/app /var/uploads && \\\n    chown -R appuser:appuser /app /var/log/app /var/uploads\n\n# Switch to non-root user\nUSER appuser\n\n# Expose port\nEXPOSE 8000\n\n# Health check\nHEALTHCHECK --interval=30s --timeout=30s --start-period=5s --retries=3 \\\n    CMD curl -f http://localhost:8000/health || exit 1\n\n# Run application\nCMD [\"gunicorn\", \"--config\", \"gunicorn.conf.py\", \"wsgi:app\"]\n```\n\n## Docker Compose\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\n\nservices:\n  web:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - FLASK_ENV=production\n      - DATABASE_URL=postgresql://postgres:password@db:5432/myapp\n      - REDIS_URL=redis://redis:6379/0\n      - SECRET_KEY=${SECRET_KEY}\n    depends_on:\n      - db\n      - redis\n    volumes:\n      - uploads:/var/uploads\n      - logs:/var/log/app\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8000/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  db:\n    image: postgres:15\n    environment:\n      - POSTGRES_DB=myapp\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U postgres\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  redis:\n    image: redis:7-alpine\n    command: redis-server --appendonly yes\n    volumes:\n      - redis_data:/data\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD\", \"redis-cli\", \"ping\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  nginx:\n    image: nginx:alpine\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf:ro\n      - ./ssl:/etc/nginx/ssl:ro\n      - uploads:/var/uploads:ro\n    depends_on:\n      - web\n    restart: unless-stopped\n\nvolumes:\n  postgres_data:\n  redis_data:\n  uploads:\n  logs:\n```\n\n## Nginx Configuration\n\n```nginx\n# nginx.conf\nevents {\n    worker_connections 1024;\n}\n\nhttp {\n    upstream app {\n        server web:8000;\n    }\n    \n    # Rate limiting\n    limit_req_zone $binary_remote_addr zone=api:10m rate=10r/s;\n    limit_req_zone $binary_remote_addr zone=login:10m rate=1r/s;\n    \n    # SSL configuration\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384;\n    ssl_prefer_server_ciphers off;\n    \n    # Security headers\n    add_header X-Frame-Options DENY;\n    add_header X-Content-Type-Options nosniff;\n    add_header X-XSS-Protection \"1; mode=block\";\n    add_header Strict-Transport-Security \"max-age=31536000; includeSubDomains\" always;\n    \n    server {\n        listen 80;\n        server_name example.com www.example.com;\n        return 301 https://$server_name$request_uri;\n    }\n    \n    server {\n        listen 443 ssl http2;\n        server_name example.com www.example.com;\n        \n        ssl_certificate /etc/nginx/ssl/cert.pem;\n        ssl_certificate_key /etc/nginx/ssl/key.pem;\n        \n        # File upload size\n        client_max_body_size 16M;\n        \n        # Static files\n        location /static/ {\n            alias /var/uploads/static/;\n            expires 1y;\n            add_header Cache-Control \"public, immutable\";\n        }\n        \n        location /uploads/ {\n            alias /var/uploads/;\n            expires 1h;\n        }\n        \n        # API rate limiting\n        location /api/ {\n            limit_req zone=api burst=20 nodelay;\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n        \n        # Login rate limiting\n        location /auth/login {\n            limit_req zone=login burst=5 nodelay;\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n        \n        # Main application\n        location / {\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n            \n            # Timeout settings\n            proxy_connect_timeout 60s;\n            proxy_send_timeout 60s;\n            proxy_read_timeout 60s;\n        }\n    }\n}\n```\n\n## Environment Variables\n\n```bash\n# .env.production\n# Application\nFLASK_ENV=production\nSECRET_KEY=your-super-secret-key-here\n\n# Database\nDATABASE_URL=postgresql://user:password@localhost:5432/myapp\nDB_HOST=localhost\nDB_PORT=5432\nDB_NAME=myapp\nDB_USER=user\nDB_PASSWORD=password\n\n# Redis\nREDIS_URL=redis://localhost:6379/0\n\n# Email\nMAIL_SERVER=smtp.gmail.com\nMAIL_PORT=587\nMAIL_USE_TLS=true\nMAIL_USERNAME=your-email@gmail.com\nMAIL_PASSWORD=your-app-password\nMAIL_DEFAULT_SENDER=your-email@gmail.com\n\n# Logging\nLOG_LEVEL=INFO\nLOG_FILE=/var/log/app/app.log\n\n# File Upload\nUPLOAD_FOLDER=/var/uploads\n\n# SSL (if using)\nSSL_KEYFILE=/path/to/private.key\nSSL_CERTFILE=/path/to/certificate.crt\n```\n\n## Health Check Endpoint\n\n```python\n# app/health.py\nfrom flask import Blueprint, jsonify\nfrom app.extensions import db\nfrom sqlalchemy import text\nimport redis\nimport os\n\nhealth_bp = Blueprint('health', __name__)\n\n@health_bp.route('/health')\ndef health_check():\n    \"\"\"Application health check.\"\"\"\n    checks = {\n        'status': 'healthy',\n        'database': check_database(),\n        'redis': check_redis(),\n        'disk_space': check_disk_space()\n    }\n    \n    # Determine overall status\n    if all(check['status'] == 'ok' for check in checks.values() if isinstance(check, dict)):\n        status_code = 200\n    else:\n        status_code = 503\n        checks['status'] = 'unhealthy'\n    \n    return jsonify(checks), status_code\n\ndef check_database():\n    \"\"\"Check database connectivity.\"\"\"\n    try:\n        db.session.execute(text('SELECT 1'))\n        return {'status': 'ok', 'message': 'Database connection successful'}\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n\ndef check_redis():\n    \"\"\"Check Redis connectivity.\"\"\"\n    try:\n        redis_url = os.environ.get('REDIS_URL', 'redis://localhost:6379/0')\n        r = redis.from_url(redis_url)\n        r.ping()\n        return {'status': 'ok', 'message': 'Redis connection successful'}\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n\ndef check_disk_space():\n    \"\"\"Check available disk space.\"\"\"\n    try:\n        import shutil\n        total, used, free = shutil.disk_usage('/')\n        free_percent = (free / total) * 100\n        \n        if free_percent > 10:\n            status = 'ok'\n        elif free_percent > 5:\n            status = 'warning'\n        else:\n            status = 'critical'\n        \n        return {\n            'status': status,\n            'free_space_percent': round(free_percent, 2),\n            'free_space_gb': round(free / (1024**3), 2)\n        }\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n```\n\n## Monitoring and Logging\n\n```python\n# app/logging.py\nimport logging\nimport logging.handlers\nimport os\nfrom flask import request, g\nimport time\n\ndef setup_logging(app):\n    \"\"\"Setup application logging.\"\"\"\n    if not app.debug and not app.testing:\n        # File logging\n        if app.config.get('LOG_FILE'):\n            file_handler = logging.handlers.RotatingFileHandler(\n                app.config['LOG_FILE'],\n                maxBytes=10240000,  # 10MB\n                backupCount=10\n            )\n            file_handler.setFormatter(logging.Formatter(\n                '%(asctime)s %(levelname)s: %(message)s '\n                '[in %(pathname)s:%(lineno)d]'\n            ))\n            file_handler.setLevel(getattr(logging, app.config.get('LOG_LEVEL', 'INFO')))\n            app.logger.addHandler(file_handler)\n        \n        # Console logging\n        if not app.logger.handlers:\n            stream_handler = logging.StreamHandler()\n            stream_handler.setFormatter(logging.Formatter(\n                '%(asctime)s %(levelname)s: %(message)s'\n            ))\n            stream_handler.setLevel(logging.INFO)\n            app.logger.addHandler(stream_handler)\n        \n        app.logger.setLevel(logging.INFO)\n        app.logger.info('Application startup')\n\n# Request timing middleware\n@app.before_request\ndef before_request():\n    g.start_time = time.time()\n\n@app.after_request\ndef after_request(response):\n    if hasattr(g, 'start_time'):\n        duration = time.time() - g.start_time\n        app.logger.info(\n            f'{request.method} {request.path} - '\n            f'{response.status_code} - {duration:.3f}s'\n        )\n    return response\n```\n\n## Database Backup Script\n\n```bash\n#!/bin/bash\n# backup.sh\n\nset -e\n\n# Configuration\nBACKUP_DIR=\"/var/backups/db\"\nDATABASE_URL=\"$DATABASE_URL\"\nDATE=$(date +%Y%m%d_%H%M%S)\nBACKUP_FILE=\"$BACKUP_DIR/backup_$DATE.sql\"\nRETENTION_DAYS=7\n\n# Create backup directory\nmkdir -p \"$BACKUP_DIR\"\n\n# Create backup\necho \"Creating database backup...\"\npg_dump \"$DATABASE_URL\" > \"$BACKUP_FILE\"\n\n# Compress backup\ngzip \"$BACKUP_FILE\"\n\n# Remove old backups\necho \"Cleaning up old backups...\"\nfind \"$BACKUP_DIR\" -name \"backup_*.sql.gz\" -mtime +$RETENTION_DAYS -delete\n\necho \"Backup completed: $BACKUP_FILE.gz\"\n```\n\n## Deployment Scripts\n\n```bash\n#!/bin/bash\n# deploy.sh\n\nset -e\n\necho \"Starting deployment...\"\n\n# Pull latest code\ngit pull origin main\n\n# Build new Docker image\ndocker-compose build web\n\n# Run database migrations\ndocker-compose run --rm web flask db upgrade\n\n# Update services\ndocker-compose up -d\n\n# Health check\necho \"Waiting for application to be ready...\"\nsleep 10\n\nif curl -f http://localhost:8000/health; then\n    echo \"Deployment successful!\"\nelse\n    echo \"Deployment failed - health check failed\"\n    exit 1\nfi\n```\n\n## Monitoring with Prometheus\n\n```python\n# app/metrics.py\nfrom prometheus_flask_exporter import PrometheusMetrics\nfrom flask import request\nimport time\n\ndef setup_metrics(app):\n    \"\"\"Setup Prometheus metrics.\"\"\"\n    metrics = PrometheusMetrics(app)\n    \n    # Custom metrics\n    metrics.info('app_info', 'Application info', version='1.0.0')\n    \n    # Database connection pool metrics\n    @metrics.gauge('db_pool_size', 'Database connection pool size')\n    def db_pool_size():\n        from app.extensions import db\n        return db.engine.pool.size()\n    \n    return metrics\n```\n"
              },
              {
                "name": "/flask-route",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/flask-route.md",
                "frontmatter": null,
                "content": "# Flask Route Generator\n\nCreate Flask routes with proper structure and error handling.\n\n## Purpose\n\nThis command helps you quickly create Flask routes with validation, error handling, and best practices.\n\n## Usage\n\n```\n/flask-route\n```\n\n## What this command does\n\n1. **Creates route functions** with proper decorators\n2. **Adds request validation** and error handling\n3. **Includes JSON responses** and status codes\n4. **Implements authentication** if needed\n5. **Follows Flask conventions** and best practices\n\n## Example Output\n\n```python\n# routes.py or app.py\nfrom flask import Flask, request, jsonify, abort\nfrom flask_sqlalchemy import SQLAlchemy\nfrom werkzeug.exceptions import BadRequest\n\napp = Flask(__name__)\n\n@app.route('/users', methods=['GET'])\ndef get_users():\n    \"\"\"Get all users with optional pagination.\"\"\"\n    try:\n        page = request.args.get('page', 1, type=int)\n        per_page = request.args.get('per_page', 10, type=int)\n        \n        users = User.query.paginate(\n            page=page, \n            per_page=per_page, \n            error_out=False\n        )\n        \n        return jsonify({\n            'users': [user.to_dict() for user in users.items],\n            'total': users.total,\n            'pages': users.pages,\n            'current_page': page\n        }), 200\n        \n    except Exception as e:\n        return jsonify({'error': 'Failed to fetch users'}), 500\n\n@app.route('/users/<int:user_id>', methods=['GET'])\ndef get_user(user_id):\n    \"\"\"Get a specific user by ID.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        return jsonify(user.to_dict()), 200\n        \n    except Exception as e:\n        return jsonify({'error': 'User not found'}), 404\n\n@app.route('/users', methods=['POST'])\ndef create_user():\n    \"\"\"Create a new user.\"\"\"\n    try:\n        data = request.get_json()\n        \n        if not data:\n            return jsonify({'error': 'No data provided'}), 400\n        \n        # Validate required fields\n        required_fields = ['name', 'email']\n        for field in required_fields:\n            if field not in data:\n                return jsonify({'error': f'{field} is required'}), 400\n        \n        # Check if email already exists\n        if User.query.filter_by(email=data['email']).first():\n            return jsonify({'error': 'Email already exists'}), 409\n        \n        # Create new user\n        user = User(\n            name=data['name'],\n            email=data['email'],\n            phone=data.get('phone'),\n            address=data.get('address')\n        )\n        \n        db.session.add(user)\n        db.session.commit()\n        \n        return jsonify(user.to_dict()), 201\n        \n    except BadRequest:\n        return jsonify({'error': 'Invalid JSON data'}), 400\n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to create user'}), 500\n\n@app.route('/users/<int:user_id>', methods=['PUT'])\ndef update_user(user_id):\n    \"\"\"Update an existing user.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        data = request.get_json()\n        \n        if not data:\n            return jsonify({'error': 'No data provided'}), 400\n        \n        # Update fields\n        if 'name' in data:\n            user.name = data['name']\n        if 'email' in data:\n            # Check if new email already exists\n            existing_user = User.query.filter_by(email=data['email']).first()\n            if existing_user and existing_user.id != user_id:\n                return jsonify({'error': 'Email already exists'}), 409\n            user.email = data['email']\n        if 'phone' in data:\n            user.phone = data['phone']\n        if 'address' in data:\n            user.address = data['address']\n        \n        db.session.commit()\n        \n        return jsonify(user.to_dict()), 200\n        \n    except BadRequest:\n        return jsonify({'error': 'Invalid JSON data'}), 400\n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to update user'}), 500\n\n@app.route('/users/<int:user_id>', methods=['DELETE'])\ndef delete_user(user_id):\n    \"\"\"Delete a user.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        \n        db.session.delete(user)\n        db.session.commit()\n        \n        return jsonify({'message': 'User deleted successfully'}), 200\n        \n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to delete user'}), 500\n\n# Error handlers\n@app.errorhandler(404)\ndef not_found(error):\n    return jsonify({'error': 'Resource not found'}), 404\n\n@app.errorhandler(400)\ndef bad_request(error):\n    return jsonify({'error': 'Bad request'}), 400\n\n@app.errorhandler(500)\ndef internal_error(error):\n    return jsonify({'error': 'Internal server error'}), 500\n```\n\n## Route Patterns Supported\n\n### Basic Routes\n```python\n@app.route('/')\n@app.route('/users')\n@app.route('/users/<int:user_id>')\n```\n\n### HTTP Methods\n```python\n@app.route('/users', methods=['GET', 'POST'])\n@app.route('/users/<int:id>', methods=['GET', 'PUT', 'DELETE'])\n```\n\n### URL Parameters\n```python\n@app.route('/users/<int:user_id>')\n@app.route('/posts/<string:slug>')\n@app.route('/files/<path:filename>')\n```\n\n## Best Practices Included\n\n- **Input validation** for all user data\n- **Proper HTTP status codes** (200, 201, 400, 404, 500)\n- **JSON responses** with consistent structure\n- **Error handling** with try/catch blocks\n- **Database rollback** on errors\n- **RESTful conventions** for URL design\n- **Documentation strings** for each route\n- **Request data validation** before processing\n\n## Common Response Patterns\n\n```python\n# Success with data\nreturn jsonify({'data': result}), 200\n\n# Created resource\nreturn jsonify({'data': new_resource, 'id': new_id}), 201\n\n# Validation error\nreturn jsonify({'error': 'Field is required'}), 400\n\n# Not found\nreturn jsonify({'error': 'Resource not found'}), 404\n\n# Server error\nreturn jsonify({'error': 'Internal server error'}), 500\n```"
              },
              {
                "name": "/testing",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/testing.md",
                "frontmatter": null,
                "content": "# Flask Testing Suite\n\nComprehensive testing setup for Flask applications with pytest.\n\n## Usage\n\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=app --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n```\n\n## Test Configuration\n\n```python\n# pytest.ini\n[tool:pytest]\ntestpaths = tests\npython_files = test_*.py\npython_classes = Test*\npython_functions = test_*\naddopts = \n    --cov=app\n    --cov-report=term-missing\n    --cov-report=html:htmlcov\n    --strict-markers\n    --disable-warnings\nmarkers =\n    unit: Unit tests\n    integration: Integration tests\n    slow: Slow running tests\n    auth: Authentication tests\n```\n\n## Test Fixtures\n\n```python\n# tests/conftest.py\nimport pytest\nimport tempfile\nimport os\nfrom app import create_app\nfrom app.extensions import db\nfrom app.models import User, Post, Category\nfrom flask_login import login_user\n\n@pytest.fixture(scope='session')\ndef app():\n    \"\"\"Create test application.\"\"\"\n    # Create temporary database\n    db_fd, db_path = tempfile.mkstemp()\n    \n    app = create_app({\n        'TESTING': True,\n        'SQLALCHEMY_DATABASE_URI': f'sqlite:///{db_path}',\n        'WTF_CSRF_ENABLED': False,\n        'SECRET_KEY': 'test-secret-key'\n    })\n    \n    with app.app_context():\n        db.create_all()\n        yield app\n        \n    # Cleanup\n    os.close(db_fd)\n    os.unlink(db_path)\n\n@pytest.fixture\ndef client(app):\n    \"\"\"Create test client.\"\"\"\n    return app.test_client()\n\n@pytest.fixture\ndef runner(app):\n    \"\"\"Create test CLI runner.\"\"\"\n    return app.test_cli_runner()\n\n@pytest.fixture\ndef db_session(app):\n    \"\"\"Create database session for testing.\"\"\"\n    with app.app_context():\n        connection = db.engine.connect()\n        transaction = connection.begin()\n        \n        # Configure session to use the connection\n        db.session.configure(bind=connection)\n        \n        yield db.session\n        \n        # Rollback transaction\n        transaction.rollback()\n        connection.close()\n        db.session.remove()\n\n@pytest.fixture\ndef user(db_session):\n    \"\"\"Create test user.\"\"\"\n    user = User(\n        username='testuser',\n        email='test@example.com',\n        first_name='Test',\n        last_name='User'\n    )\n    user.set_password('testpass123')\n    user.save()\n    return user\n\n@pytest.fixture\ndef admin_user(db_session):\n    \"\"\"Create admin user.\"\"\"\n    admin = User(\n        username='admin',\n        email='admin@example.com',\n        first_name='Admin',\n        last_name='User',\n        is_admin=True\n    )\n    admin.set_password('adminpass123')\n    admin.save()\n    return admin\n\n@pytest.fixture\ndef category(db_session):\n    \"\"\"Create test category.\"\"\"\n    category = Category(\n        name='Test Category',\n        description='A test category'\n    )\n    category.save()\n    return category\n\n@pytest.fixture\ndef post(db_session, user, category):\n    \"\"\"Create test post.\"\"\"\n    post = Post(\n        title='Test Post',\n        content='This is a test post content.',\n        slug='test-post',\n        status='published',\n        user_id=user.id,\n        category_id=category.id\n    )\n    post.save()\n    return post\n\n@pytest.fixture\ndef auth_headers(user):\n    \"\"\"Create authentication headers.\"\"\"\n    # For API testing\n    token = user.generate_auth_token()\n    return {'Authorization': f'Bearer {token}'}\n```\n\n## Model Testing\n\n```python\n# tests/test_models.py\nimport pytest\nfrom datetime import datetime\nfrom app.models import User, Post, Category\nfrom werkzeug.security import check_password_hash\n\nclass TestUser:\n    \"\"\"Test User model.\"\"\"\n    \n    def test_user_creation(self, db_session):\n        \"\"\"Test user creation.\"\"\"\n        user = User(\n            username='newuser',\n            email='new@example.com',\n            first_name='New',\n            last_name='User'\n        )\n        user.set_password('password123')\n        user.save()\n        \n        assert user.id is not None\n        assert user.username == 'newuser'\n        assert user.email == 'new@example.com'\n        assert user.full_name == 'New User'\n        assert user.is_active is True\n        assert user.is_admin is False\n        assert user.created_at is not None\n    \n    def test_password_hashing(self, user):\n        \"\"\"Test password hashing.\"\"\"\n        user.set_password('newpassword')\n        assert user.password_hash != 'newpassword'\n        assert check_password_hash(user.password_hash, 'newpassword')\n        assert user.check_password('newpassword')\n        assert not user.check_password('wrongpassword')\n    \n    def test_user_repr(self, user):\n        \"\"\"Test user string representation.\"\"\"\n        assert repr(user) == '<User testuser>'\n    \n    def test_user_to_dict(self, user):\n        \"\"\"Test user dictionary conversion.\"\"\"\n        user_dict = user.to_dict()\n        assert 'username' in user_dict\n        assert 'email' in user_dict\n        assert 'password_hash' not in user_dict  # Should be excluded\n    \n    def test_user_relationships(self, user, post):\n        \"\"\"Test user relationships.\"\"\"\n        assert post in user.posts\n        assert user.posts.count() == 1\n\nclass TestPost:\n    \"\"\"Test Post model.\"\"\"\n    \n    def test_post_creation(self, db_session, user, category):\n        \"\"\"Test post creation.\"\"\"\n        post = Post(\n            title='New Post',\n            content='New post content',\n            slug='new-post',\n            status='draft',\n            user_id=user.id,\n            category_id=category.id\n        )\n        post.save()\n        \n        assert post.id is not None\n        assert post.title == 'New Post'\n        assert post.author == user\n        assert post.category == category\n        assert not post.is_published\n    \n    def test_published_status(self, post):\n        \"\"\"Test post published status.\"\"\"\n        assert post.is_published  # Published with published_at\n        \n        post.status = 'draft'\n        assert not post.is_published\n```\n\n## View Testing\n\n```python\n# tests/test_views.py\nimport pytest\nfrom flask import url_for\nfrom app.models import User\n\nclass TestMainViews:\n    \"\"\"Test main application views.\"\"\"\n    \n    def test_home_page(self, client):\n        \"\"\"Test home page.\"\"\"\n        response = client.get('/')\n        assert response.status_code == 200\n        assert b'Welcome' in response.data\n    \n    def test_about_page(self, client):\n        \"\"\"Test about page.\"\"\"\n        response = client.get('/about')\n        assert response.status_code == 200\n\nclass TestUserViews:\n    \"\"\"Test user-related views.\"\"\"\n    \n    def test_user_list(self, client, user):\n        \"\"\"Test user list page.\"\"\"\n        response = client.get('/users/')\n        assert response.status_code == 200\n        assert user.username.encode() in response.data\n    \n    def test_user_detail(self, client, user):\n        \"\"\"Test user detail page.\"\"\"\n        response = client.get(f'/users/{user.id}')\n        assert response.status_code == 200\n        assert user.username.encode() in response.data\n    \n    def test_user_create_get(self, client):\n        \"\"\"Test user creation form.\"\"\"\n        response = client.get('/users/create')\n        assert response.status_code == 200\n        assert b'Create User' in response.data\n    \n    def test_user_create_post(self, client, db_session):\n        \"\"\"Test user creation submission.\"\"\"\n        data = {\n            'username': 'newuser',\n            'email': 'new@example.com',\n            'first_name': 'New',\n            'last_name': 'User',\n            'password': 'password123',\n            'confirm_password': 'password123'\n        }\n        response = client.post('/users/create', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Check user was created\n        user = User.query.filter_by(username='newuser').first()\n        assert user is not None\n        assert user.email == 'new@example.com'\n    \n    def test_user_edit(self, client, user):\n        \"\"\"Test user editing.\"\"\"\n        data = {\n            'username': user.username,\n            'email': 'updated@example.com',\n            'first_name': 'Updated',\n            'last_name': 'User'\n        }\n        response = client.post(f'/users/{user.id}/edit', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Refresh user from database\n        db_session.refresh(user)\n        assert user.email == 'updated@example.com'\n        assert user.first_name == 'Updated'\n```\n\n## Authentication Testing\n\n```python\n# tests/test_auth.py\nimport pytest\nfrom flask import url_for\nfrom app.models import User\n\nclass TestAuthentication:\n    \"\"\"Test authentication functionality.\"\"\"\n    \n    def test_login_page(self, client):\n        \"\"\"Test login page access.\"\"\"\n        response = client.get('/auth/login')\n        assert response.status_code == 200\n        assert b'Login' in response.data\n    \n    def test_valid_login(self, client, user):\n        \"\"\"Test valid user login.\"\"\"\n        data = {\n            'username': user.username,\n            'password': 'testpass123'\n        }\n        response = client.post('/auth/login', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        assert b'Welcome' in response.data\n    \n    def test_invalid_login(self, client, user):\n        \"\"\"Test invalid login credentials.\"\"\"\n        data = {\n            'username': user.username,\n            'password': 'wrongpassword'\n        }\n        response = client.post('/auth/login', data=data)\n        assert response.status_code == 200\n        assert b'Invalid' in response.data\n    \n    def test_logout(self, client, user):\n        \"\"\"Test user logout.\"\"\"\n        # Login first\n        with client.session_transaction() as sess:\n            sess['_user_id'] = str(user.id)\n        \n        response = client.get('/auth/logout', follow_redirects=True)\n        assert response.status_code == 200\n    \n    def test_register_page(self, client):\n        \"\"\"Test registration page.\"\"\"\n        response = client.get('/auth/register')\n        assert response.status_code == 200\n        assert b'Register' in response.data\n    \n    def test_valid_registration(self, client, db_session):\n        \"\"\"Test valid user registration.\"\"\"\n        data = {\n            'username': 'newuser',\n            'email': 'new@example.com',\n            'first_name': 'New',\n            'last_name': 'User',\n            'password': 'password123',\n            'confirm_password': 'password123'\n        }\n        response = client.post('/auth/register', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Check user was created\n        user = User.query.filter_by(username='newuser').first()\n        assert user is not None\n```\n\n## API Testing\n\n```python\n# tests/test_api.py\nimport pytest\nimport json\nfrom flask import url_for\n\nclass TestUserAPI:\n    \"\"\"Test User API endpoints.\"\"\"\n    \n    def test_get_users(self, client, user):\n        \"\"\"Test GET /api/users.\"\"\"\n        response = client.get('/api/users')\n        assert response.status_code == 200\n        \n        data = json.loads(response.data)\n        assert 'users' in data\n        assert len(data['users']) >= 1\n    \n    def test_get_user(self, client, user):\n        \"\"\"Test GET /api/users/<id>.\"\"\"\n        response = client.get(f'/api/users/{user.id}')\n        assert response.status_code == 200\n        \n        data = json.loads(response.data)\n        assert data['username'] == user.username\n        assert data['email'] == user.email\n    \n    def test_create_user(self, client, db_session):\n        \"\"\"Test POST /api/users.\"\"\"\n        user_data = {\n            'username': 'apiuser',\n            'email': 'api@example.com',\n            'first_name': 'API',\n            'last_name': 'User',\n            'password': 'password123'\n        }\n        \n        response = client.post(\n            '/api/users',\n            data=json.dumps(user_data),\n            content_type='application/json'\n        )\n        \n        assert response.status_code == 201\n        data = json.loads(response.data)\n        assert data['username'] == 'apiuser'\n    \n    def test_update_user(self, client, user, auth_headers):\n        \"\"\"Test PUT /api/users/<id>.\"\"\"\n        update_data = {\n            'email': 'updated@example.com',\n            'first_name': 'Updated'\n        }\n        \n        response = client.put(\n            f'/api/users/{user.id}',\n            data=json.dumps(update_data),\n            content_type='application/json',\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = json.loads(response.data)\n        assert data['email'] == 'updated@example.com'\n    \n    def test_delete_user(self, client, user, auth_headers):\n        \"\"\"Test DELETE /api/users/<id>.\"\"\"\n        response = client.delete(\n            f'/api/users/{user.id}',\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 204\n```\n\n## Test Utilities\n\n```python\n# tests/utils.py\nimport json\nfrom flask import url_for\n\ndef login_user(client, username, password):\n    \"\"\"Helper to login user in tests.\"\"\"\n    return client.post('/auth/login', data={\n        'username': username,\n        'password': password\n    }, follow_redirects=True)\n\ndef logout_user(client):\n    \"\"\"Helper to logout user in tests.\"\"\"\n    return client.get('/auth/logout', follow_redirects=True)\n\ndef assert_json_response(response, expected_status=200):\n    \"\"\"Assert JSON response format and status.\"\"\"\n    assert response.status_code == expected_status\n    assert response.content_type == 'application/json'\n    return json.loads(response.data)\n\ndef create_test_data(db_session):\n    \"\"\"Create common test data.\"\"\"\n    from app.models import User, Category, Post\n    \n    # Create test users\n    users = []\n    for i in range(3):\n        user = User(\n            username=f'user{i}',\n            email=f'user{i}@example.com',\n            first_name=f'User{i}',\n            last_name='Test'\n        )\n        user.set_password('password123')\n        user.save()\n        users.append(user)\n    \n    return {'users': users}\n```\n\n## Performance Testing\n\n```python\n# tests/test_performance.py\nimport pytest\nimport time\nfrom app.models import User\n\n@pytest.mark.slow\nclass TestPerformance:\n    \"\"\"Test application performance.\"\"\"\n    \n    def test_user_query_performance(self, db_session):\n        \"\"\"Test user query performance.\"\"\"\n        # Create multiple users\n        users = []\n        for i in range(100):\n            user = User(\n                username=f'perfuser{i}',\n                email=f'perf{i}@example.com',\n                first_name=f'Perf{i}',\n                last_name='User'\n            )\n            users.append(user)\n        \n        db_session.bulk_save_objects(users)\n        db_session.commit()\n        \n        # Test query performance\n        start_time = time.time()\n        result = User.query.all()\n        end_time = time.time()\n        \n        assert len(result) >= 100\n        assert (end_time - start_time) < 0.1  # Should complete in under 100ms\n    \n    def test_endpoint_response_time(self, client):\n        \"\"\"Test endpoint response time.\"\"\"\n        start_time = time.time()\n        response = client.get('/')\n        end_time = time.time()\n        \n        assert response.status_code == 200\n        assert (end_time - start_time) < 0.5  # Should respond in under 500ms\n```\n"
              },
              {
                "name": "/model",
                "description": null,
                "path": "cli-tool/templates/ruby/.claude/commands/model.md",
                "frontmatter": null,
                "content": "# Ruby Model Generator\n\nCreate Ruby classes and models with proper structure and best practices.\n\n## Purpose\n\nThis command helps you quickly create Ruby model classes with proper initialization, attributes, and methods following Ruby conventions.\n\n## Usage\n\n```\n/model\n```\n\n## What this command does\n\n1. **Creates model classes** with proper initialization methods\n2. **Adds attribute accessors** and instance variables\n3. **Includes validation methods** and error handling\n4. **Follows Ruby conventions** and best practices\n5. **Generates related test files** when applicable\n\n## Example Output\n\n```ruby\n# app/models/user.rb\nclass User\n  attr_accessor :name, :email, :age\n  attr_reader :id, :created_at\n  \n  def initialize(attributes = {})\n    @id = attributes[:id] || generate_id\n    @name = attributes[:name]\n    @email = attributes[:email]\n    @age = attributes[:age]\n    @created_at = Time.now\n    @errors = []\n  end\n  \n  def valid?\n    @errors.clear\n    validate_presence_of_name\n    validate_email_format\n    validate_age_range\n    @errors.empty?\n  end\n  \n  def errors\n    @errors.dup\n  end\n  \n  def save\n    return false unless valid?\n    \n    # Persist logic here\n    true\n  end\n  \n  def to_h\n    {\n      id: @id,\n      name: @name,\n      email: @email,\n      age: @age,\n      created_at: @created_at\n    }\n  end\n  \n  def to_json(*args)\n    JSON.generate(to_h, *args)\n  end\n  \n  private\n  \n  def validate_presence_of_name\n    if @name.nil? || @name.strip.empty?\n      @errors << \"Name cannot be blank\"\n    end\n  end\n  \n  def validate_email_format\n    if @email && !@email.match?(/\\A[\\w+\\-.]+@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)*\\.[a-z]+\\z/i)\n      @errors << \"Email format is invalid\"\n    end\n  end\n  \n  def validate_age_range\n    if @age && (@age < 0 || @age > 150)\n      @errors << \"Age must be between 0 and 150\"\n    end\n  end\n  \n  def generate_id\n    SecureRandom.uuid\n  end\nend\n\n# Example with inheritance\nclass AdminUser < User\n  attr_accessor :permissions\n  \n  def initialize(attributes = {})\n    super\n    @permissions = attributes[:permissions] || []\n  end\n  \n  def admin?\n    true\n  end\n  \n  def has_permission?(permission)\n    @permissions.include?(permission)\n  end\n  \n  private\n  \n  def validate_permissions\n    unless @permissions.is_a?(Array)\n      @errors << \"Permissions must be an array\"\n    end\n  end\nend\n```\n\n## Advanced Features\n\n### Module Inclusion\n```ruby\nmodule Timestamps\n  def self.included(base)\n    base.extend(ClassMethods)\n  end\n  \n  module ClassMethods\n    def with_timestamps\n      attr_reader :created_at, :updated_at\n      \n      define_method :initialize do |*args|\n        super(*args)\n        @created_at ||= Time.now\n        @updated_at = @created_at\n      end\n      \n      define_method :touch do\n        @updated_at = Time.now\n      end\n    end\n  end\nend\n\nclass Post\n  include Timestamps\n  with_timestamps\n  \n  attr_accessor :title, :content\n  \n  def initialize(attributes = {})\n    @title = attributes[:title]\n    @content = attributes[:content]\n    super\n  end\nend\n```\n\n### Class Methods and Scopes\n```ruby\nclass User\n  @@users = []\n  \n  def self.all\n    @@users.dup\n  end\n  \n  def self.find_by_email(email)\n    @@users.find { |user| user.email == email }\n  end\n  \n  def self.where(conditions = {})\n    @@users.select do |user|\n      conditions.all? { |key, value| user.send(key) == value }\n    end\n  end\n  \n  def self.create(attributes = {})\n    user = new(attributes)\n    if user.save\n      @@users << user\n      user\n    else\n      nil\n    end\n  end\n  \n  def save\n    return false unless valid?\n    \n    unless @@users.include?(self)\n      @@users << self\n    end\n    true\n  end\n  \n  def destroy\n    @@users.delete(self)\n  end\nend\n```\n\n## Testing Template\n\n```ruby\n# spec/models/user_spec.rb\nrequire 'spec_helper'\n\nRSpec.describe User do\n  let(:valid_attributes) do\n    {\n      name: 'John Doe',\n      email: 'john@example.com',\n      age: 30\n    }\n  end\n  \n  describe '#initialize' do\n    it 'sets attributes correctly' do\n      user = User.new(valid_attributes)\n      \n      expect(user.name).to eq('John Doe')\n      expect(user.email).to eq('john@example.com')\n      expect(user.age).to eq(30)\n      expect(user.id).not_to be_nil\n      expect(user.created_at).to be_a(Time)\n    end\n  end\n  \n  describe '#valid?' do\n    it 'returns true for valid attributes' do\n      user = User.new(valid_attributes)\n      expect(user).to be_valid\n    end\n    \n    it 'returns false when name is blank' do\n      user = User.new(valid_attributes.merge(name: ''))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Name cannot be blank')\n    end\n    \n    it 'returns false for invalid email format' do\n      user = User.new(valid_attributes.merge(email: 'invalid-email'))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Email format is invalid')\n    end\n    \n    it 'returns false for invalid age' do\n      user = User.new(valid_attributes.merge(age: -5))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Age must be between 0 and 150')\n    end\n  end\n  \n  describe '#save' do\n    it 'saves valid user' do\n      user = User.new(valid_attributes)\n      expect(user.save).to be true\n    end\n    \n    it 'does not save invalid user' do\n      user = User.new(name: '')\n      expect(user.save).to be false\n    end\n  end\n  \n  describe '#to_h' do\n    it 'returns hash representation' do\n      user = User.new(valid_attributes)\n      hash = user.to_h\n      \n      expect(hash).to include(\n        name: 'John Doe',\n        email: 'john@example.com',\n        age: 30\n      )\n      expect(hash[:id]).not_to be_nil\n      expect(hash[:created_at]).to be_a(Time)\n    end\n  end\nend\n```\n\n## Best Practices Included\n\n- **Proper initialization** with hash parameters\n- **Attribute accessors** for public attributes\n- **Validation methods** with error collection\n- **JSON serialization** support\n- **Class and instance methods** separation\n- **Error handling** and reporting\n- **Ruby naming conventions** (snake_case)\n- **Encapsulation** with private methods\n\n## Common Patterns\n\n### Value Objects\n```ruby\nclass Money\n  include Comparable\n  \n  attr_reader :amount, :currency\n  \n  def initialize(amount, currency = 'USD')\n    @amount = amount.to_f\n    @currency = currency.to_s.upcase\n  end\n  \n  def +(other)\n    raise ArgumentError, \"Currency mismatch\" unless currency == other.currency\n    Money.new(amount + other.amount, currency)\n  end\n  \n  def <=>(other)\n    raise ArgumentError, \"Currency mismatch\" unless currency == other.currency\n    amount <=> other.amount\n  end\n  \n  def to_s\n    \"#{currency} #{format('%.2f', amount)}\"\n  end\nend\n```\n\n### Service Objects\n```ruby\nclass UserRegistrationService\n  attr_reader :user, :errors\n  \n  def initialize(user_params)\n    @user_params = user_params\n    @errors = []\n  end\n  \n  def call\n    @user = User.new(@user_params)\n    \n    if @user.valid?\n      @user.save\n      send_welcome_email\n      true\n    else\n      @errors = @user.errors\n      false\n    end\n  end\n  \n  private\n  \n  def send_welcome_email\n    # Email sending logic\n  end\nend\n```"
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/ruby/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Ruby Test Generator\n\nCreate comprehensive test files with RSpec or Minitest following Ruby testing best practices.\n\n## Purpose\n\nThis command helps you quickly create test files with proper structure, examples, and testing patterns for Ruby applications.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Creates test files** with proper structure for RSpec or Minitest\n2. **Includes test examples** for common scenarios\n3. **Sets up test helpers** and support files\n4. **Follows testing conventions** and best practices\n5. **Generates factory/fixture data** when needed\n\n## RSpec Example Output\n\n```ruby\n# spec/models/user_spec.rb\nrequire 'spec_helper'\n\nRSpec.describe User do\n  let(:user) { build(:user) }\n  let(:valid_attributes) do\n    {\n      name: 'John Doe',\n      email: 'john@example.com',\n      age: 30\n    }\n  end\n  \n  describe 'validations' do\n    it { should validate_presence_of(:name) }\n    it { should validate_presence_of(:email) }\n    it { should validate_uniqueness_of(:email) }\n    it { should validate_numericality_of(:age).is_greater_than(0) }\n    \n    context 'when email format is invalid' do\n      let(:user) { build(:user, email: 'invalid-email') }\n      \n      it 'is not valid' do\n        expect(user).not_to be_valid\n        expect(user.errors[:email]).to include('is invalid')\n      end\n    end\n  end\n  \n  describe 'associations' do\n    it { should have_many(:posts) }\n    it { should have_many(:comments) }\n  end\n  \n  describe 'callbacks' do\n    describe 'before_save' do\n      it 'normalizes email' do\n        user = create(:user, email: 'JOHN@EXAMPLE.COM')\n        expect(user.email).to eq('john@example.com')\n      end\n    end\n  end\n  \n  describe 'instance methods' do\n    describe '#full_name' do\n      let(:user) { build(:user, first_name: 'John', last_name: 'Doe') }\n      \n      it 'returns the full name' do\n        expect(user.full_name).to eq('John Doe')\n      end\n      \n      context 'when last_name is missing' do\n        let(:user) { build(:user, first_name: 'John', last_name: nil) }\n        \n        it 'returns only first_name' do\n          expect(user.full_name).to eq('John')\n        end\n      end\n    end\n    \n    describe '#active?' do\n      context 'when user is active' do\n        let(:user) { build(:user, status: 'active') }\n        \n        it 'returns true' do\n          expect(user.active?).to be true\n        end\n      end\n      \n      context 'when user is inactive' do\n        let(:user) { build(:user, status: 'inactive') }\n        \n        it 'returns false' do\n          expect(user.active?).to be false\n        end\n      end\n    end\n  end\n  \n  describe 'class methods' do\n    describe '.active' do\n      let!(:active_user) { create(:user, status: 'active') }\n      let!(:inactive_user) { create(:user, status: 'inactive') }\n      \n      it 'returns only active users' do\n        expect(User.active).to include(active_user)\n        expect(User.active).not_to include(inactive_user)\n      end\n    end\n    \n    describe '.find_by_email' do\n      let!(:user) { create(:user, email: 'test@example.com') }\n      \n      it 'finds user by email' do\n        found_user = User.find_by_email('test@example.com')\n        expect(found_user).to eq(user)\n      end\n      \n      it 'returns nil when user not found' do\n        found_user = User.find_by_email('nonexistent@example.com')\n        expect(found_user).to be_nil\n      end\n    end\n  end\n  \n  describe 'scopes' do\n    describe '.recent' do\n      let!(:old_user) { create(:user, created_at: 1.year.ago) }\n      let!(:recent_user) { create(:user, created_at: 1.day.ago) }\n      \n      it 'returns users created in the last 30 days' do\n        expect(User.recent).to include(recent_user)\n        expect(User.recent).not_to include(old_user)\n      end\n    end\n  end\nend\n```\n\n## Minitest Example Output\n\n```ruby\n# test/models/user_test.rb\nrequire 'test_helper'\n\nclass UserTest < ActiveSupport::TestCase\n  def setup\n    @user = users(:john)\n    @valid_attributes = {\n      name: 'Jane Doe',\n      email: 'jane@example.com',\n      age: 25\n    }\n  end\n  \n  # Validation tests\n  test 'should not save user without name' do\n    user = User.new(@valid_attributes.except(:name))\n    assert_not user.save\n    assert_includes user.errors[:name], \"can't be blank\"\n  end\n  \n  test 'should not save user without email' do\n    user = User.new(@valid_attributes.except(:email))\n    assert_not user.save\n    assert_includes user.errors[:email], \"can't be blank\"\n  end\n  \n  test 'should not save user with invalid email' do\n    user = User.new(@valid_attributes.merge(email: 'invalid-email'))\n    assert_not user.save\n    assert_includes user.errors[:email], 'is invalid'\n  end\n  \n  test 'should not save user with duplicate email' do\n    user1 = User.create!(@valid_attributes)\n    user2 = User.new(@valid_attributes)\n    assert_not user2.save\n    assert_includes user2.errors[:email], 'has already been taken'\n  end\n  \n  test 'should save user with valid attributes' do\n    user = User.new(@valid_attributes)\n    assert user.save\n  end\n  \n  # Association tests\n  test 'should have many posts' do\n    assert_respond_to @user, :posts\n    assert_kind_of ActiveRecord::Associations::CollectionProxy, @user.posts\n  end\n  \n  test 'should have many comments' do\n    assert_respond_to @user, :comments\n  end\n  \n  # Instance method tests\n  test 'full_name should return first and last name' do\n    @user.first_name = 'John'\n    @user.last_name = 'Doe'\n    assert_equal 'John Doe', @user.full_name\n  end\n  \n  test 'full_name should return first name only when last name is missing' do\n    @user.first_name = 'John'\n    @user.last_name = nil\n    assert_equal 'John', @user.full_name\n  end\n  \n  test 'active? should return true for active users' do\n    @user.status = 'active'\n    assert @user.active?\n  end\n  \n  test 'active? should return false for inactive users' do\n    @user.status = 'inactive'\n    assert_not @user.active?\n  end\n  \n  # Class method tests\n  test 'active scope should return only active users' do\n    active_user = User.create!(@valid_attributes.merge(status: 'active'))\n    inactive_user = User.create!(@valid_attributes.merge(\n      email: 'inactive@example.com',\n      status: 'inactive'\n    ))\n    \n    active_users = User.active\n    assert_includes active_users, active_user\n    assert_not_includes active_users, inactive_user\n  end\n  \n  test 'find_by_email should find user by email' do\n    user = User.create!(@valid_attributes)\n    found_user = User.find_by_email(@valid_attributes[:email])\n    assert_equal user, found_user\n  end\n  \n  test 'find_by_email should return nil when user not found' do\n    found_user = User.find_by_email('nonexistent@example.com')\n    assert_nil found_user\n  end\nend\n```\n\n## Controller Test Example\n\n```ruby\n# spec/controllers/users_controller_spec.rb\nrequire 'rails_helper'\n\nRSpec.describe UsersController, type: :controller do\n  let(:user) { create(:user) }\n  let(:valid_attributes) { attributes_for(:user) }\n  let(:invalid_attributes) { { name: '', email: 'invalid' } }\n  \n  describe 'GET #index' do\n    it 'returns a success response' do\n      get :index\n      expect(response).to be_successful\n    end\n    \n    it 'assigns @users' do\n      user1 = create(:user)\n      user2 = create(:user)\n      get :index\n      expect(assigns(:users)).to match_array([user1, user2])\n    end\n  end\n  \n  describe 'GET #show' do\n    it 'returns a success response' do\n      get :show, params: { id: user.to_param }\n      expect(response).to be_successful\n    end\n    \n    it 'assigns the requested user' do\n      get :show, params: { id: user.to_param }\n      expect(assigns(:user)).to eq(user)\n    end\n  end\n  \n  describe 'POST #create' do\n    context 'with valid parameters' do\n      it 'creates a new User' do\n        expect {\n          post :create, params: { user: valid_attributes }\n        }.to change(User, :count).by(1)\n      end\n      \n      it 'redirects to the created user' do\n        post :create, params: { user: valid_attributes }\n        expect(response).to redirect_to(User.last)\n      end\n    end\n    \n    context 'with invalid parameters' do\n      it 'does not create a new User' do\n        expect {\n          post :create, params: { user: invalid_attributes }\n        }.to change(User, :count).by(0)\n      end\n      \n      it 'renders the new template' do\n        post :create, params: { user: invalid_attributes }\n        expect(response).to render_template(:new)\n      end\n    end\n  end\n  \n  describe 'PUT #update' do\n    context 'with valid parameters' do\n      let(:new_attributes) { { name: 'Updated Name' } }\n      \n      it 'updates the requested user' do\n        put :update, params: { id: user.to_param, user: new_attributes }\n        user.reload\n        expect(user.name).to eq('Updated Name')\n      end\n      \n      it 'redirects to the user' do\n        put :update, params: { id: user.to_param, user: new_attributes }\n        expect(response).to redirect_to(user)\n      end\n    end\n    \n    context 'with invalid parameters' do\n      it 'renders the edit template' do\n        put :update, params: { id: user.to_param, user: invalid_attributes }\n        expect(response).to render_template(:edit)\n      end\n    end\n  end\n  \n  describe 'DELETE #destroy' do\n    it 'destroys the requested user' do\n      user # Create user\n      expect {\n        delete :destroy, params: { id: user.to_param }\n      }.to change(User, :count).by(-1)\n    end\n    \n    it 'redirects to the users list' do\n      delete :destroy, params: { id: user.to_param }\n      expect(response).to redirect_to(users_url)\n    end\n  end\nend\n```\n\n## Factory Configuration\n\n```ruby\n# spec/factories/users.rb\nFactoryBot.define do\n  factory :user do\n    sequence(:name) { |n| \"User #{n}\" }\n    sequence(:email) { |n| \"user#{n}@example.com\" }\n    age { rand(18..80) }\n    status { 'active' }\n    \n    trait :inactive do\n      status { 'inactive' }\n    end\n    \n    trait :admin do\n      admin { true }\n    end\n    \n    trait :with_posts do\n      after(:create) do |user|\n        create_list(:post, 3, user: user)\n      end\n    end\n    \n    factory :admin_user, traits: [:admin]\n    factory :inactive_user, traits: [:inactive]\n  end\nend\n```\n\n## Test Helper Configuration\n\n```ruby\n# spec/spec_helper.rb\nrequire 'simplecov'\nSimpleCov.start 'rails' do\n  add_filter '/spec/'\n  add_filter '/config/'\n  add_filter '/vendor/'\n  \n  add_group 'Controllers', 'app/controllers'\n  add_group 'Models', 'app/models'\n  add_group 'Services', 'app/services'\n  add_group 'Libraries', 'lib'\nend\n\nRSpec.configure do |config|\n  config.expect_with :rspec do |expectations|\n    expectations.include_chain_clauses_in_custom_matcher_descriptions = true\n  end\n  \n  config.mock_with :rspec do |mocks|\n    mocks.verify_partial_doubles = true\n  end\n  \n  config.shared_context_metadata_behavior = :apply_to_host_groups\n  config.filter_run_when_matching :focus\n  config.example_status_persistence_file_path = 'spec/examples.txt'\n  config.disable_monkey_patching!\n  config.warnings = true\n  \n  if config.files_to_run.one?\n    config.default_formatter = 'doc'\n  end\n  \n  config.profile_examples = 10\n  config.order = :random\n  Kernel.srand config.seed\nend\n```\n\n## Integration Test Example\n\n```ruby\n# spec/requests/api/users_spec.rb\nrequire 'rails_helper'\n\nRSpec.describe 'API::Users', type: :request do\n  let(:user) { create(:user) }\n  let(:valid_headers) {\n    { 'Authorization' => \"Bearer #{user.auth_token}\" }\n  }\n  \n  describe 'GET /api/users' do\n    it 'returns users' do\n      create_list(:user, 3)\n      \n      get '/api/users', headers: valid_headers\n      \n      expect(response).to have_http_status(:ok)\n      expect(JSON.parse(response.body)['users'].size).to eq(3)\n    end\n  end\n  \n  describe 'POST /api/users' do\n    let(:valid_params) do\n      {\n        user: {\n          name: 'New User',\n          email: 'new@example.com'\n        }\n      }\n    end\n    \n    it 'creates a new user' do\n      post '/api/users', params: valid_params, headers: valid_headers\n      \n      expect(response).to have_http_status(:created)\n      expect(JSON.parse(response.body)['user']['name']).to eq('New User')\n    end\n  end\nend\n```\n\n## Best Practices Included\n\n- **Descriptive test names** that explain expected behavior\n- **Proper test organization** with contexts and describes\n- **Factory usage** for test data generation\n- **Mocking and stubbing** for external dependencies\n- **Coverage configuration** with SimpleCov\n- **Test helpers** and shared examples\n- **Request/Integration tests** for API endpoints\n- **Feature tests** for user workflows"
              },
              {
                "name": "/authentication",
                "description": null,
                "path": "cli-tool/templates/ruby/examples/rails-app/.claude/commands/authentication.md",
                "frontmatter": null,
                "content": "# Rails 8 Native Authentication Generator\n\nGenerate Rails 8's built-in authentication system with modern security practices.\n\n## Purpose\n\nThis command helps you implement Rails 8's new native authentication system, eliminating the need for external gems like Devise for basic authentication needs.\n\n## Usage\n\n```\n/authentication\n```\n\n## What this command does\n\n1. **Generates authentication models** with secure password handling\n2. **Creates authentication controllers** for login/logout/signup\n3. **Adds authentication views** with modern styling\n4. **Implements session management** with security best practices\n5. **Sets up authentication helpers** for controllers and views\n\n## Rails 8 Authentication Generator\n\n```bash\n# Generate authentication for User model\nbin/rails generate authentication User\n\n# Or specify custom model name\nbin/rails generate authentication Account\n\n# Generate with custom attributes\nbin/rails generate authentication User first_name:string last_name:string\n```\n\n## Generated User Model\n\n```ruby\n# app/models/user.rb\nclass User < ApplicationRecord\n  has_secure_password\n  \n  validates :email, presence: true, uniqueness: true\n  validates :password, length: { minimum: 8 }, if: -> { new_record? || !password.blank? }\n  \n  normalizes :email, with: ->(email) { email.strip.downcase }\n  \n  before_save :normalize_email\n  \n  private\n  \n  def normalize_email\n    self.email = email.downcase.strip\n  end\nend\n```\n\n## Authentication Controller\n\n```ruby\n# app/controllers/authentication_controller.rb\nclass AuthenticationController < ApplicationController\n  skip_before_action :authenticate_user!, only: [:new, :create]\n  \n  def new\n    # Login page\n  end\n  \n  def create\n    user = User.find_by(email: params[:email])\n    \n    if user&.authenticate(params[:password])\n      login(user)\n      redirect_to root_path, notice: 'Logged in successfully'\n    else\n      flash.now[:alert] = 'Invalid email or password'\n      render :new, status: :unprocessable_entity\n    end\n  end\n  \n  def destroy\n    logout\n    redirect_to root_path, notice: 'Logged out successfully'\n  end\n  \n  private\n  \n  def login(user)\n    session[:user_id] = user.id\n    @current_user = user\n  end\n  \n  def logout\n    session[:user_id] = nil\n    @current_user = nil\n  end\nend\n```\n\n## Registration Controller\n\n```ruby\n# app/controllers/registrations_controller.rb\nclass RegistrationsController < ApplicationController\n  skip_before_action :authenticate_user!\n  \n  def new\n    @user = User.new\n  end\n  \n  def create\n    @user = User.new(user_params)\n    \n    if @user.save\n      login(@user)\n      redirect_to root_path, notice: 'Account created successfully'\n    else\n      render :new, status: :unprocessable_entity\n    end\n  end\n  \n  private\n  \n  def user_params\n    params.require(:user).permit(:email, :password, :password_confirmation, :first_name, :last_name)\n  end\n  \n  def login(user)\n    session[:user_id] = user.id\n    @current_user = user\n  end\nend\n```\n\n## Application Controller Updates\n\n```ruby\n# app/controllers/application_controller.rb\nclass ApplicationController < ActionController::Base\n  protect_from_forgery with: :exception\n  \n  before_action :authenticate_user!\n  \n  private\n  \n  def authenticate_user!\n    redirect_to login_path, alert: 'Please log in to continue' unless current_user\n  end\n  \n  def current_user\n    @current_user ||= User.find(session[:user_id]) if session[:user_id]\n  end\n  helper_method :current_user\n  \n  def logged_in?\n    !!current_user\n  end\n  helper_method :logged_in?\n  \n  def require_login\n    unless logged_in?\n      flash[:alert] = 'You must be logged in to access this page'\n      redirect_to login_path\n    end\n  end\nend\n```\n\n## Authentication Views\n\n### Login Form\n```erb\n<!-- app/views/authentication/new.html.erb -->\n<div class=\"authentication-form\">\n  <h1>Log In</h1>\n  \n  <%= form_with url: login_path, local: true, class: \"auth-form\" do |form| %>\n    <div class=\"form-group\">\n      <%= form.label :email, \"Email\" %>\n      <%= form.email_field :email, required: true, autofocus: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password, \"Password\" %>\n      <%= form.password_field :password, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-actions\">\n      <%= form.submit \"Log In\", class: \"btn btn-primary\" %>\n    </div>\n  <% end %>\n  \n  <div class=\"auth-links\">\n    <%= link_to \"Don't have an account? Sign up\", signup_path %>\n  </div>\n</div>\n```\n\n### Registration Form\n```erb\n<!-- app/views/registrations/new.html.erb -->\n<div class=\"authentication-form\">\n  <h1>Sign Up</h1>\n  \n  <%= form_with model: @user, url: signup_path, local: true, class: \"auth-form\" do |form| %>\n    <% if @user.errors.any? %>\n      <div class=\"error-messages\">\n        <h3><%= pluralize(@user.errors.count, \"error\") %> prohibited this account from being saved:</h3>\n        <ul>\n          <% @user.errors.full_messages.each do |message| %>\n            <li><%= message %></li>\n          <% end %>\n        </ul>\n      </div>\n    <% end %>\n    \n    <div class=\"form-group\">\n      <%= form.label :first_name, \"First Name\" %>\n      <%= form.text_field :first_name, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :last_name, \"Last Name\" %>\n      <%= form.text_field :last_name, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :email, \"Email\" %>\n      <%= form.email_field :email, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password, \"Password\" %>\n      <%= form.password_field :password, required: true, minlength: 8, class: \"form-control\" %>\n      <small class=\"form-text\">Minimum 8 characters</small>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password_confirmation, \"Confirm Password\" %>\n      <%= form.password_field :password_confirmation, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-actions\">\n      <%= form.submit \"Sign Up\", class: \"btn btn-primary\" %>\n    </div>\n  <% end %>\n  \n  <div class=\"auth-links\">\n    <%= link_to \"Already have an account? Log in\", login_path %>\n  </div>\n</div>\n```\n\n## Route Configuration\n\n```ruby\n# config/routes.rb\nRails.application.routes.draw do\n  # Authentication routes\n  get    'login',  to: 'authentication#new'\n  post   'login',  to: 'authentication#create'\n  delete 'logout', to: 'authentication#destroy'\n  \n  # Registration routes\n  get  'signup', to: 'registrations#new'\n  post 'signup', to: 'registrations#create'\n  \n  # User management routes\n  resources :users, except: [:new, :create]\n  \n  # Root route\n  root 'dashboard#index'\nend\n```\n\n## Migration Files\n\n```ruby\n# db/migrate/xxx_create_users.rb\nclass CreateUsers < ActiveRecord::Migration[8.0]\n  def change\n    create_table :users do |t|\n      t.string :email, null: false\n      t.string :password_digest, null: false\n      t.string :first_name\n      t.string :last_name\n      \n      t.timestamps\n    end\n    \n    add_index :users, :email, unique: true\n  end\nend\n```\n\n## Advanced Authentication Features\n\n### Password Reset\n```ruby\n# app/controllers/password_resets_controller.rb\nclass PasswordResetsController < ApplicationController\n  skip_before_action :authenticate_user!\n  \n  def new\n    # Password reset request form\n  end\n  \n  def create\n    @user = User.find_by(email: params[:email])\n    if @user\n      @user.send_password_reset\n      redirect_to root_path, notice: 'Email sent with password reset instructions'\n    else\n      flash.now[:alert] = 'Email address not found'\n      render :new\n    end\n  end\n  \n  def edit\n    @user = User.find_by(password_reset_token: params[:id])\n    if @user.nil? || @user.password_reset_sent_at < 2.hours.ago\n      redirect_to new_password_reset_path, alert: 'Password reset has expired'\n    end\n  end\n  \n  def update\n    @user = User.find_by(password_reset_token: params[:id])\n    if @user && @user.password_reset_sent_at > 2.hours.ago\n      if @user.update(password_params)\n        @user.update_columns(password_reset_token: nil, password_reset_sent_at: nil)\n        redirect_to root_path, notice: 'Password has been reset'\n      else\n        render :edit\n      end\n    else\n      redirect_to new_password_reset_path, alert: 'Password reset has expired'\n    end\n  end\n  \n  private\n  \n  def password_params\n    params.require(:user).permit(:password, :password_confirmation)\n  end\nend\n```\n\n### User Model Extensions\n```ruby\n# app/models/user.rb (extended)\nclass User < ApplicationRecord\n  has_secure_password\n  \n  validates :email, presence: true, uniqueness: true\n  validates :password, length: { minimum: 8 }, if: -> { new_record? || !password.blank? }\n  \n  normalizes :email, with: ->(email) { email.strip.downcase }\n  \n  # Password reset functionality\n  def send_password_reset\n    generate_token(:password_reset_token)\n    self.password_reset_sent_at = Time.zone.now\n    save!\n    UserMailer.password_reset(self).deliver_now\n  end\n  \n  def full_name\n    \"#{first_name} #{last_name}\".strip\n  end\n  \n  def initials\n    \"#{first_name&.first}#{last_name&.first}\".upcase\n  end\n  \n  private\n  \n  def generate_token(column)\n    begin\n      self[column] = SecureRandom.urlsafe_base64\n    end while User.exists?(column => self[column])\n  end\nend\n```\n\n## Session Security Enhancements\n\n```ruby\n# config/application.rb\nconfig.session_store :cookie_store, {\n  key: '_myapp_session',\n  secure: Rails.env.production?,\n  httponly: true,\n  same_site: :lax\n}\n\n# config/environments/production.rb\nconfig.force_ssl = true\nconfig.session_store :cookie_store, {\n  key: '_myapp_session',\n  secure: true,\n  httponly: true,\n  same_site: :strict\n}\n```\n\n## Authentication Helper Methods\n\n```ruby\n# app/helpers/authentication_helper.rb\nmodule AuthenticationHelper\n  def user_avatar(user, size: 40)\n    if user.avatar.present?\n      image_tag user.avatar, alt: user.full_name, class: \"avatar\", size: \"#{size}x#{size}\"\n    else\n      content_tag :div, user.initials, class: \"avatar avatar-initials\", \n                  style: \"width: #{size}px; height: #{size}px; line-height: #{size}px;\"\n    end\n  end\n  \n  def current_user_menu\n    if logged_in?\n      render 'shared/user_menu'\n    else\n      render 'shared/guest_menu'\n    end\n  end\nend\n```\n\n## Testing Authentication\n\n```ruby\n# spec/models/user_spec.rb\nRSpec.describe User, type: :model do\n  describe 'validations' do\n    it { should validate_presence_of(:email) }\n    it { should validate_uniqueness_of(:email) }\n    it { should validate_length_of(:password).is_at_least(8) }\n    it { should have_secure_password }\n  end\n  \n  describe 'email normalization' do\n    it 'normalizes email to lowercase' do\n      user = User.create!(email: 'USER@EXAMPLE.COM', password: 'password123')\n      expect(user.email).to eq('user@example.com')\n    end\n  end\n  \n  describe '#full_name' do\n    it 'returns combined first and last name' do\n      user = User.new(first_name: 'John', last_name: 'Doe')\n      expect(user.full_name).to eq('John Doe')\n    end\n  end\nend\n\n# spec/controllers/authentication_controller_spec.rb\nRSpec.describe AuthenticationController, type: :controller do\n  describe 'POST #create' do\n    let(:user) { create(:user, password: 'password123') }\n    \n    context 'with valid credentials' do\n      it 'logs in the user' do\n        post :create, params: { email: user.email, password: 'password123' }\n        expect(session[:user_id]).to eq(user.id)\n        expect(response).to redirect_to(root_path)\n      end\n    end\n    \n    context 'with invalid credentials' do\n      it 'does not log in the user' do\n        post :create, params: { email: user.email, password: 'wrong' }\n        expect(session[:user_id]).to be_nil\n        expect(response).to render_template(:new)\n      end\n    end\n  end\nend\n```\n\n## Security Best Practices Included\n\n- **Secure password hashing** with bcrypt\n- **Email normalization** to prevent duplicates\n- **CSRF protection** enabled by default\n- **Session security** with httponly and secure flags\n- **Password strength validation** (minimum 8 characters)\n- **Timing attack prevention** in authentication\n- **Password reset token expiration**\n- **SSL enforcement** in production"
              }
            ],
            "skills": []
          },
          {
            "name": "supabase-toolkit",
            "description": "Complete Supabase workflow with specialized commands, data engineering agents, and MCP integrations",
            "source": "./",
            "category": null,
            "version": "1.0.0",
            "author": {
              "name": "Daniel Avila"
            },
            "install_commands": [
              "/plugin marketplace add Justdvp/claude-code-templates",
              "/plugin install supabase-toolkit@claude-code-templates"
            ],
            "signals": {
              "stars": 5,
              "forks": 0,
              "pushed_at": "2026-01-12T22:20:42Z",
              "created_at": "2022-10-16T16:39:58Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/lint",
                "description": null,
                "path": ".claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Python Linter\n\nRun Python code linting and formatting tools.\n\n## Purpose\n\nThis command helps you maintain code quality using Python's best linting and formatting tools.\n\n## Usage\n\n```\n/lint\n```\n\n## What this command does\n\n1. **Runs multiple linters** (flake8, pylint, black, isort)\n2. **Provides detailed feedback** on code quality issues\n3. **Auto-fixes formatting** where possible\n4. **Checks type hints** if mypy is configured\n\n## Example Commands\n\n### Black (code formatting)\n```bash\n# Format all Python files\nblack .\n\n# Check formatting without changing files\nblack --check .\n\n# Format specific file\nblack src/main.py\n```\n\n### flake8 (style guide enforcement)\n```bash\n# Check all Python files\nflake8 .\n\n# Check specific directory\nflake8 src/\n\n# Check with specific rules\nflake8 --max-line-length=88 .\n```\n\n### isort (import sorting)\n```bash\n# Sort imports in all files\nisort .\n\n# Check import sorting\nisort --check-only .\n\n# Sort imports in specific file\nisort src/main.py\n```\n\n### pylint (comprehensive linting)\n```bash\n# Run pylint on all files\npylint src/\n\n# Run with specific score threshold\npylint --fail-under=8.0 src/\n\n# Generate detailed report\npylint --output-format=html src/ > pylint_report.html\n```\n\n### mypy (type checking)\n```bash\n# Check types in all files\nmypy .\n\n# Check specific module\nmypy src/models.py\n\n# Check with strict mode\nmypy --strict src/\n```\n\n## Configuration Files\n\nMost projects benefit from configuration files:\n\n### .flake8\n```ini\n[flake8]\nmax-line-length = 88\nexclude = .git,__pycache__,venv\nignore = E203,W503\n```\n\n### pyproject.toml\n```toml\n[tool.black]\nline-length = 88\n\n[tool.isort]\nprofile = \"black\"\n```\n\n## Best Practices\n\n- Run linters before committing code\n- Use consistent formatting across the project\n- Fix linting issues promptly\n- Configure linters to match your team's style\n- Use type hints for better code documentation"
              },
              {
                "name": "/test",
                "description": null,
                "path": ".claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Runner\n\nRun Python tests with pytest, unittest, or other testing frameworks.\n\n## Purpose\n\nThis command helps you run Python tests effectively with proper configuration and reporting.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Detects test framework** (pytest, unittest, nose2)\n2. **Runs appropriate tests** with proper configuration\n3. **Provides coverage reporting** if available\n4. **Shows clear test results** with failure details\n\n## Example Commands\n\n### pytest (recommended)\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=src --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n\n# Run tests matching pattern\npytest -k \"test_user\"\n```\n\n### unittest\n```bash\n# Run all tests\npython -m unittest discover\n\n# Run specific test file\npython -m unittest tests.test_models\n\n# Run with verbose output\npython -m unittest -v\n```\n\n### Django tests\n```bash\n# Run all Django tests\npython manage.py test\n\n# Run specific app tests\npython manage.py test myapp\n\n# Run with coverage\ncoverage run --source='.' manage.py test\ncoverage report\n```\n\n## Best Practices\n\n- Write tests for all critical functionality\n- Use descriptive test names\n- Keep tests isolated and independent\n- Mock external dependencies\n- Aim for high test coverage (80%+)"
              },
              {
                "name": "/git-workflow",
                "description": null,
                "path": "cli-tool/templates/common/.claude/commands/git-workflow.md",
                "frontmatter": null,
                "content": "# Git Workflow Helper\n\nManage Git workflows with best practices and common operations.\n\n## Purpose\n\nThis command helps you perform common Git operations following best practices for collaborative development.\n\n## Usage\n\n```\n/git-workflow\n```\n\n## What this command does\n\n1. **Guides through Git operations** with proper workflow\n2. **Suggests best practices** for commits and branches\n3. **Helps with conflict resolution** and merging\n4. **Provides templates** for commit messages\n5. **Manages branching strategies** (Git Flow, GitHub Flow)\n\n## Common Workflows\n\n### Feature Development\n```bash\n# Create and switch to feature branch\ngit checkout -b feature/user-authentication\n\n# Work on your feature\n# ... make changes ...\n\n# Stage and commit changes\ngit add .\ngit commit -m \"feat: add user authentication system\n\n- Implement login/logout functionality\n- Add password validation\n- Create user session management\n- Add authentication middleware\"\n\n# Push feature branch\ngit push -u origin feature/user-authentication\n\n# Create pull request (via GitHub/GitLab interface)\n```\n\n### Hotfix Workflow\n```bash\n# Create hotfix branch from main\ngit checkout main\ngit checkout -b hotfix/security-patch\n\n# Fix the issue\n# ... make changes ...\n\n# Commit the fix\ngit commit -m \"fix: resolve security vulnerability in auth module\n\n- Patch XSS vulnerability in login form\n- Update input validation\n- Add CSRF protection\"\n\n# Push and create urgent PR\ngit push -u origin hotfix/security-patch\n```\n\n### Sync with Remote\n```bash\n# Update main branch\ngit checkout main\ngit pull origin main\n\n# Update feature branch with latest main\ngit checkout feature/your-feature\ngit rebase main\n# OR\ngit merge main\n```\n\n## Commit Message Conventions\n\n### Conventional Commits Format\n```\n<type>[optional scope]: <description>\n\n[optional body]\n\n[optional footer(s)]\n```\n\n### Common Types\n- **feat**: New feature\n- **fix**: Bug fix\n- **docs**: Documentation changes\n- **style**: Code style changes (formatting, etc.)\n- **refactor**: Code refactoring\n- **test**: Adding or updating tests\n- **chore**: Maintenance tasks\n\n### Examples\n```bash\n# Feature\ngit commit -m \"feat(auth): add OAuth2 integration\"\n\n# Bug fix\ngit commit -m \"fix(api): handle null response in user endpoint\"\n\n# Documentation\ngit commit -m \"docs: update API documentation for v2.0\"\n\n# Breaking change\ngit commit -m \"feat!: change API response format\n\nBREAKING CHANGE: API responses now use 'data' wrapper\"\n```\n\n## Branch Management\n\n### Git Flow Strategy\n```bash\n# Main branches\nmain        # Production-ready code\ndevelop     # Integration branch\n\n# Supporting branches\nfeature/*   # New features\nrelease/*   # Release preparation\nhotfix/*    # Quick fixes to production\n```\n\n### GitHub Flow (Simplified)\n```bash\n# Only main branch + feature branches\nmain        # Production-ready code\nfeature/*   # All new work\n```\n\n## Conflict Resolution\n\n### When Conflicts Occur\n```bash\n# Start merge/rebase\ngit merge feature-branch\n# OR\ngit rebase main\n\n# If conflicts occur, Git will list conflicted files\n# Edit each file to resolve conflicts\n\n# Mark conflicts as resolved\ngit add conflicted-file.js\n\n# Continue the merge/rebase\ngit merge --continue\n# OR\ngit rebase --continue\n```\n\n### Conflict Markers\n```javascript\n<<<<<<< HEAD\n// Your current branch code\nconst user = getCurrentUser();\n=======\n// Incoming branch code\nconst user = getAuthenticatedUser();\n>>>>>>> feature-branch\n```\n\n## Useful Git Commands\n\n### Status and Information\n```bash\ngit status                    # Check working directory status\ngit log --oneline            # View commit history\ngit branch -a                # List all branches\ngit remote -v                # List remote repositories\n```\n\n### Undoing Changes\n```bash\ngit checkout -- file.js     # Discard changes to file\ngit reset HEAD file.js       # Unstage file\ngit reset --soft HEAD~1     # Undo last commit (keep changes)\ngit reset --hard HEAD~1     # Undo last commit (discard changes)\n```\n\n### Stashing Work\n```bash\ngit stash                    # Save current work\ngit stash pop               # Apply and remove latest stash\ngit stash list              # List all stashes\ngit stash apply stash@{1}   # Apply specific stash\n```\n\n## Best Practices\n\n1. **Commit Often** - Make small, focused commits\n2. **Write Clear Messages** - Use conventional commit format\n3. **Test Before Committing** - Ensure code works\n4. **Pull Before Push** - Keep history clean\n5. **Use Branches** - Don't work directly on main\n6. **Review Code** - Use pull requests for collaboration\n7. **Keep History Clean** - Rebase feature branches when appropriate\n\n## Git Hooks (Optional)\n\n### Pre-commit Hook\n```bash\n#!/bin/sh\n# .git/hooks/pre-commit\n\n# Run linter\nnpm run lint\nif [ $? -ne 0 ]; then\n  echo \"Linting failed. Please fix errors before committing.\"\n  exit 1\nfi\n\n# Run tests\nnpm test\nif [ $? -ne 0 ]; then\n  echo \"Tests failed. Please fix tests before committing.\"\n  exit 1\nfi\n```\n\n### Commit Message Hook\n```bash\n#!/bin/sh\n# .git/hooks/commit-msg\n\n# Check commit message format\nif ! grep -qE \"^(feat|fix|docs|style|refactor|test|chore)(\\(.+\\))?: .{1,50}\" \"$1\"; then\n  echo \"Invalid commit message format. Use conventional commits.\"\n  exit 1\nfi\n```"
              },
              {
                "name": "/project-setup",
                "description": null,
                "path": "cli-tool/templates/common/.claude/commands/project-setup.md",
                "frontmatter": null,
                "content": "# Project Setup Helper\n\nSet up new projects with proper structure and best practices.\n\n## Purpose\n\nThis command helps you set up new projects with proper directory structure, configuration files, and development environment.\n\n## Usage\n\n```\n/project-setup\n```\n\n## What this command does\n\n1. **Creates project structure** with standard directories\n2. **Sets up configuration files** (.gitignore, README, etc.)\n3. **Initializes version control** and development tools\n4. **Configures environment files** and dependencies\n5. **Follows language-specific** conventions and best practices\n\n## Project Structure Templates\n\n### Generic Project Structure\n```\nproject-name/\n‚îú‚îÄ‚îÄ README.md                 # Project documentation\n‚îú‚îÄ‚îÄ .gitignore               # Git ignore rules\n‚îú‚îÄ‚îÄ .env.example             # Environment variables template\n‚îú‚îÄ‚îÄ LICENSE                  # Project license\n‚îú‚îÄ‚îÄ CHANGELOG.md             # Version history\n‚îú‚îÄ‚îÄ docs/                    # Documentation\n‚îÇ   ‚îú‚îÄ‚îÄ API.md\n‚îÇ   ‚îú‚îÄ‚îÄ CONTRIBUTING.md\n‚îÇ   ‚îî‚îÄ‚îÄ DEPLOYMENT.md\n‚îú‚îÄ‚îÄ src/                     # Source code\n‚îÇ   ‚îú‚îÄ‚îÄ main/\n‚îÇ   ‚îú‚îÄ‚îÄ utils/\n‚îÇ   ‚îî‚îÄ‚îÄ config/\n‚îú‚îÄ‚îÄ tests/                   # Test files\n‚îÇ   ‚îú‚îÄ‚îÄ unit/\n‚îÇ   ‚îú‚îÄ‚îÄ integration/\n‚îÇ   ‚îî‚îÄ‚îÄ fixtures/\n‚îú‚îÄ‚îÄ scripts/                 # Build and deployment scripts\n‚îÇ   ‚îú‚îÄ‚îÄ build.sh\n‚îÇ   ‚îú‚îÄ‚îÄ deploy.sh\n‚îÇ   ‚îî‚îÄ‚îÄ setup.sh\n‚îî‚îÄ‚îÄ config/                  # Configuration files\n    ‚îú‚îÄ‚îÄ development.yml\n    ‚îú‚îÄ‚îÄ production.yml\n    ‚îî‚îÄ‚îÄ testing.yml\n```\n\n### Web Application Structure\n```\nweb-app/\n‚îú‚îÄ‚îÄ public/                  # Static assets\n‚îÇ   ‚îú‚îÄ‚îÄ index.html\n‚îÇ   ‚îú‚îÄ‚îÄ favicon.ico\n‚îÇ   ‚îî‚îÄ‚îÄ assets/\n‚îÇ       ‚îú‚îÄ‚îÄ css/\n‚îÇ       ‚îú‚îÄ‚îÄ js/\n‚îÇ       ‚îî‚îÄ‚îÄ images/\n‚îú‚îÄ‚îÄ src/                     # Source code\n‚îÇ   ‚îú‚îÄ‚îÄ components/          # Reusable components\n‚îÇ   ‚îú‚îÄ‚îÄ pages/              # Page components\n‚îÇ   ‚îú‚îÄ‚îÄ services/           # API services\n‚îÇ   ‚îú‚îÄ‚îÄ utils/              # Utility functions\n‚îÇ   ‚îú‚îÄ‚îÄ styles/             # Stylesheets\n‚îÇ   ‚îî‚îÄ‚îÄ config/             # Configuration\n‚îú‚îÄ‚îÄ tests/                   # Test files\n‚îî‚îÄ‚îÄ build/                   # Build output\n```\n\n### API Project Structure\n```\napi-project/\n‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îú‚îÄ‚îÄ controllers/         # Request handlers\n‚îÇ   ‚îú‚îÄ‚îÄ models/             # Data models\n‚îÇ   ‚îú‚îÄ‚îÄ services/           # Business logic\n‚îÇ   ‚îú‚îÄ‚îÄ middleware/         # Custom middleware\n‚îÇ   ‚îú‚îÄ‚îÄ routes/             # API routes\n‚îÇ   ‚îú‚îÄ‚îÄ utils/              # Utility functions\n‚îÇ   ‚îî‚îÄ‚îÄ config/             # Configuration\n‚îú‚îÄ‚îÄ tests/\n‚îÇ   ‚îú‚îÄ‚îÄ unit/\n‚îÇ   ‚îú‚îÄ‚îÄ integration/\n‚îÇ   ‚îî‚îÄ‚îÄ e2e/\n‚îú‚îÄ‚îÄ docs/\n‚îÇ   ‚îú‚îÄ‚îÄ api-spec.yml        # OpenAPI specification\n‚îÇ   ‚îî‚îÄ‚îÄ README.md\n‚îî‚îÄ‚îÄ scripts/\n    ‚îú‚îÄ‚îÄ seed-db.js          # Database seeding\n    ‚îî‚îÄ‚îÄ migrate.js          # Database migrations\n```\n\n## Essential Configuration Files\n\n### .gitignore Template\n```gitignore\n# Dependencies\nnode_modules/\n*.log\nnpm-debug.log*\n\n# Environment files\n.env\n.env.local\n.env.production\n\n# Build outputs\ndist/\nbuild/\n*.tgz\n\n# IDE files\n.vscode/\n.idea/\n*.swp\n*.swo\n\n# OS files\n.DS_Store\nThumbs.db\n\n# Temporary files\n*.tmp\n*.temp\n```\n\n### README.md Template\n```markdown\n# Project Name\n\nBrief description of what this project does.\n\n## Features\n\n- Feature 1\n- Feature 2\n- Feature 3\n\n## Installation\n\n\\`\\`\\`bash\n# Clone the repository\ngit clone https://github.com/username/project-name.git\n\n# Install dependencies\nnpm install\n\n# Copy environment file\ncp .env.example .env\n\\`\\`\\`\n\n## Usage\n\n\\`\\`\\`bash\n# Start development server\nnpm run dev\n\n# Run tests\nnpm test\n\n# Build for production\nnpm run build\n\\`\\`\\`\n\n## API Documentation\n\n[API documentation](docs/API.md)\n\n## Contributing\n\nPlease read [CONTRIBUTING.md](docs/CONTRIBUTING.md) for details.\n\n## License\n\nThis project is licensed under the MIT License - see [LICENSE](LICENSE) file.\n```\n\n### .env.example Template\n```env\n# Application\nNODE_ENV=development\nPORT=3000\nHOST=localhost\n\n# Database\nDB_HOST=localhost\nDB_PORT=5432\nDB_NAME=myapp\nDB_USER=username\nDB_PASSWORD=password\n\n# API Keys\nAPI_KEY=your-api-key-here\nSECRET_KEY=your-secret-key-here\n\n# External Services\nREDIS_URL=redis://localhost:6379\nEMAIL_SERVICE_API_KEY=your-email-key\n```\n\n## Development Environment Setup\n\n### Package.json Scripts\n```json\n{\n  \"scripts\": {\n    \"start\": \"node src/index.js\",\n    \"dev\": \"nodemon src/index.js\",\n    \"test\": \"jest\",\n    \"test:watch\": \"jest --watch\",\n    \"test:coverage\": \"jest --coverage\",\n    \"lint\": \"eslint src/\",\n    \"lint:fix\": \"eslint src/ --fix\",\n    \"format\": \"prettier --write src/\",\n    \"build\": \"webpack --mode production\",\n    \"build:dev\": \"webpack --mode development\",\n    \"clean\": \"rm -rf dist/\"\n  }\n}\n```\n\n### Git Initialization\n```bash\n# Initialize Git repository\ngit init\n\n# Add initial files\ngit add .\n\n# Create initial commit\ngit commit -m \"feat: initial project setup\n\n- Add project structure\n- Configure development environment\n- Add documentation templates\n- Set up testing framework\"\n\n# Add remote origin\ngit remote add origin https://github.com/username/project-name.git\n\n# Push to remote\ngit push -u origin main\n```\n\n## Language-Specific Setup\n\n### Node.js/JavaScript\n```bash\nnpm init -y\nnpm install --save-dev nodemon jest eslint prettier\n```\n\n### Python\n```bash\npython -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\npip install -r requirements.txt\n```\n\n### Docker Setup\n```dockerfile\n# Dockerfile\nFROM node:16-alpine\nWORKDIR /app\nCOPY package*.json ./\nRUN npm install\nCOPY . .\nEXPOSE 3000\nCMD [\"npm\", \"start\"]\n```\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\nservices:\n  app:\n    build: .\n    ports:\n      - \"3000:3000\"\n    environment:\n      - NODE_ENV=development\n    volumes:\n      - .:/app\n      - /app/node_modules\n```\n\n## Best Practices\n\n1. **Consistent Structure** - Follow established conventions\n2. **Clear Documentation** - Write comprehensive README\n3. **Environment Variables** - Keep secrets out of code\n4. **Version Control** - Initialize Git from the start\n5. **Testing Setup** - Configure testing from day one\n6. **Code Quality** - Set up linting and formatting\n7. **CI/CD Ready** - Structure for automated deployment\n8. **Security** - Include security best practices\n\n## Checklist\n\n- [ ] Create project directory structure\n- [ ] Initialize version control (Git)\n- [ ] Set up package manager (npm, pip, etc.)\n- [ ] Create README.md with project info\n- [ ] Add .gitignore file\n- [ ] Set up environment variables\n- [ ] Configure linting and formatting\n- [ ] Set up testing framework\n- [ ] Create basic documentation\n- [ ] Add license file\n- [ ] Set up CI/CD configuration (if needed)"
              },
              {
                "name": "/api-endpoint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/api-endpoint.md",
                "frontmatter": null,
                "content": "# API Endpoint Generator\n\nGenerate a complete API endpoint for $ARGUMENTS following project conventions.\n\n## Task\n\nI'll analyze the project structure and create a new API endpoint with:\n\n1. Route definition\n2. Controller/handler function\n3. Input validation\n4. Service layer logic (if applicable)\n5. Data access layer (if applicable)\n6. Unit tests\n7. Documentation\n\n## Process\n\nI'll follow these steps:\n\n1. Examine the project structure to understand the architecture pattern\n2. Identify existing patterns for routes, controllers, and validation\n3. Create all necessary files following project conventions\n4. Implement the endpoint with proper error handling\n5. Add appropriate tests\n6. Document the new endpoint\n\n## Best Practices\n\nI'll ensure the implementation includes:\n\n- Strong typing with TypeScript\n- Comprehensive error handling\n- Input validation\n- Security considerations (authentication/authorization)\n- Proper logging\n- Performance considerations\n- Test coverage\n\n## Adaptability\n\nI'll adapt to various API architectures:\n\n- Express/Koa/Fastify REST APIs\n- GraphQL resolvers\n- Next.js/Nuxt.js API routes\n- Serverless functions\n- tRPC endpoints\n- NestJS controllers\n\nI'll examine your project first to determine which pattern to follow."
              },
              {
                "name": "/debug",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/debug.md",
                "frontmatter": null,
                "content": "# Debug Assistant\n\nHelp me debug the issue with $ARGUMENTS in this project.\n\n## Task\n\nI'll help you identify and fix the problem by:\n\n1. Understanding the issue description\n2. Analyzing relevant code\n3. Identifying potential causes\n4. Suggesting and implementing fixes\n5. Verifying the solution works\n\n## Process\n\nI'll follow these steps:\n\n1. Examine error messages, logs, or unexpected behaviors\n2. Locate relevant files and code sections\n3. Analyze the code flow and potential failure points\n4. Identify common JavaScript/TypeScript pitfalls that might apply\n5. Suggest specific fixes with explanations\n6. Help implement and test the solution\n\n## Debugging Techniques\n\nI'll apply appropriate debugging techniques such as:\n\n- Static code analysis to find syntax or type errors\n- Runtime error analysis from logs or stack traces\n- Control flow tracing to understand execution paths\n- State inspection to identify incorrect values\n- Dependency analysis to find version conflicts\n- Network request inspection for API issues\n- Browser console analysis for frontend problems\n- Database query inspection for data issues\n\n## Common Issues I Can Help With\n\n- Type errors and null/undefined issues\n- Asynchronous code problems (Promises, async/await)\n- React/Vue/Angular component lifecycle issues\n- API integration problems\n- State management bugs\n- Performance bottlenecks\n- Memory leaks\n- Build/compilation errors\n- Testing failures\n- Environment configuration issues\n\nI'll adapt my approach based on your specific project structure, frameworks, and the nature of the problem."
              },
              {
                "name": "/lint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Lint Assistant\n\nAnalyze and fix linting issues in $ARGUMENTS following project conventions.\n\n## Task\n\nI'll help you identify and fix code style and quality issues by:\n\n1. Running appropriate linters for the project\n2. Analyzing linting errors and warnings\n3. Fixing issues automatically when possible\n4. Explaining complex issues that require manual intervention\n5. Ensuring code follows project style guidelines\n\n## Process\n\nI'll follow these steps:\n\n1. Identify the linting tools used in the project (ESLint, Prettier, TSLint, etc.)\n2. Run the appropriate linting commands\n3. Parse and categorize the results\n4. Apply automatic fixes for common issues\n5. Provide explanations and suggestions for more complex problems\n6. Verify fixes don't introduce new issues\n\n## Common Linting Issues I Can Fix\n\n- Code style inconsistencies (spacing, indentation, quotes, etc.)\n- Unused variables and imports\n- Missing type annotations in TypeScript\n- Accessibility (a11y) issues in UI components\n- Potential bugs flagged by static analysis\n- Performance issues in React/Vue components\n- Security vulnerabilities detected by linters\n- Deprecated API usage\n- Import ordering problems\n- Missing documentation\n\n## Linting Tools I Can Work With\n\n- ESLint (with various plugins and configs)\n- Prettier\n- TSLint (legacy)\n- stylelint (for CSS/SCSS)\n- commitlint (for commit messages)\n- Custom lint rules specific to your project\n\nI'll adapt my approach based on your project's specific linting configuration and style guide requirements."
              },
              {
                "name": "/npm-scripts",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/npm-scripts.md",
                "frontmatter": null,
                "content": "# NPM Scripts Assistant\n\nHelp me with NPM scripts: $ARGUMENTS\n\n## Task\n\nI'll help you work with package.json scripts by:\n\n1. Analyzing existing npm scripts in your project\n2. Creating new scripts or modifying existing ones\n3. Explaining what specific scripts do\n4. Suggesting improvements or optimizations\n5. Troubleshooting script execution issues\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your package.json file to understand current scripts\n2. Analyze dependencies and devDependencies for available tools\n3. Identify common patterns and conventions in your scripts\n4. Implement requested changes or create new scripts\n5. Provide explanations of how the scripts work\n6. Test scripts when possible to verify functionality\n\n## Common Script Types I Can Help With\n\n- Build processes (webpack, rollup, esbuild, etc.)\n- Development servers and hot reloading\n- Testing (unit, integration, e2e)\n- Linting and code formatting\n- Type checking\n- Deployment and CI/CD\n- Database migrations\n- Code generation\n- Environment setup\n- Pre/post hooks for git operations\n\n## Script Optimization Techniques\n\n- Parallelizing tasks for faster execution\n- Adding cross-platform compatibility\n- Improving error reporting and logging\n- Implementing watch modes for development\n- Creating composite scripts for common workflows\n- Adding appropriate exit codes for CI/CD pipelines\n\nI'll adapt my approach based on your project's specific needs, dependencies, and build tools."
              },
              {
                "name": "/refactor",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/refactor.md",
                "frontmatter": null,
                "content": "# Code Refactoring Assistant\n\nRefactor $ARGUMENTS following modern JavaScript/TypeScript best practices.\n\n## Task\n\nI'll help you refactor code by:\n\n1. Analyzing the current implementation\n2. Identifying improvement opportunities\n3. Applying modern patterns and practices\n4. Maintaining existing functionality\n5. Ensuring type safety and test coverage\n6. Documenting the changes made\n\n## Process\n\nI'll follow these steps:\n\n1. Examine the code to understand its purpose and structure\n2. Identify code smells, anti-patterns, or outdated approaches\n3. Plan the refactoring strategy with clear goals\n4. Implement changes incrementally while maintaining behavior\n5. Verify refactored code with tests\n6. Document improvements and benefits\n\n## Refactoring Techniques\n\nI can apply various refactoring techniques:\n\n- Converting to modern JavaScript/TypeScript features\n- Improving type definitions and type safety\n- Extracting reusable functions and components\n- Applying design patterns appropriately\n- Converting callbacks to Promises or async/await\n- Simplifying complex conditionals and loops\n- Removing duplicate code\n- Improving naming and readability\n- Optimizing performance\n- Enhancing error handling\n\n## Modern Practices I Can Apply\n\n- ES modules and import/export syntax\n- Optional chaining and nullish coalescing\n- Array and object destructuring\n- Spread and rest operators\n- Template literals\n- Arrow functions\n- Class fields and private methods\n- TypeScript utility types\n- Functional programming patterns\n- React hooks (for React components)\n\nI'll ensure the refactored code maintains compatibility with your project's requirements while improving quality and maintainability."
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Assistant\n\nHelp with tests for $ARGUMENTS following project conventions and testing best practices.\n\n## Task\n\nI'll help you with testing by:\n\n1. Creating comprehensive test suites for your code\n2. Implementing different types of tests (unit, integration, e2e)\n3. Mocking dependencies and external services\n4. Improving test coverage for existing code\n5. Troubleshooting failing tests\n6. Setting up testing infrastructure\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your project to understand testing frameworks and patterns\n2. Analyze the code to be tested to understand its functionality\n3. Identify appropriate testing strategies and edge cases\n4. Implement tests with proper structure and assertions\n5. Ensure tests are maintainable and follow best practices\n6. Run tests to verify they pass and provide adequate coverage\n\n## Testing Frameworks I Can Work With\n\n- Jest, Vitest, Mocha, Jasmine for JavaScript/TypeScript\n- React Testing Library, Enzyme for React components\n- Cypress, Playwright, Puppeteer for E2E testing\n- Supertest, Pactum for API testing\n- Storybook for component testing\n- Testing-library family for various frameworks\n\n## Testing Techniques\n\nI can implement various testing approaches:\n\n- TDD (Test-Driven Development)\n- BDD (Behavior-Driven Development)\n- Snapshot testing\n- Property-based testing\n- Parameterized tests\n- Contract testing\n- Visual regression testing\n- Performance testing\n\n## Mocking Strategies\n\nI can help with different mocking approaches:\n\n- Function mocks and spies\n- Module mocks\n- HTTP request mocking\n- Browser API mocking\n- Timer mocking\n- Database mocking\n- Service worker mocking\n\nI'll adapt to your project's specific testing frameworks, patterns, and conventions to ensure consistency with your existing codebase."
              },
              {
                "name": "/typescript-migrate",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/typescript-migrate.md",
                "frontmatter": null,
                "content": "# TypeScript Migration Assistant\n\nMigrate $ARGUMENTS from JavaScript to TypeScript with proper typing and modern practices.\n\n## Task\n\nI'll help you migrate JavaScript code to TypeScript by:\n\n1. Converting JavaScript files to TypeScript (.js/.jsx to .ts/.tsx)\n2. Adding appropriate type definitions and interfaces\n3. Configuring TypeScript settings for your project\n4. Resolving type errors and compatibility issues\n5. Implementing modern TypeScript patterns and features\n6. Ensuring backward compatibility with existing code\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your project structure and dependencies\n2. Analyze the JavaScript code to understand its functionality\n3. Create or update tsconfig.json with appropriate settings\n4. Convert files to TypeScript with proper type annotations\n5. Add necessary type definitions for libraries\n6. Fix type errors and implement type safety\n7. Refactor code to leverage TypeScript features\n\n## TypeScript Features I Can Implement\n\n- Interfaces and type aliases for complex data structures\n- Generics for reusable, type-safe components and functions\n- Union and intersection types for flexible typing\n- Enums for related constants\n- Utility types (Partial, Pick, Omit, etc.)\n- Type guards and type narrowing\n- Mapped and conditional types\n- Function overloading\n- Readonly properties and immutability\n- Module augmentation for extending third-party types\n\n## Migration Strategies\n\nI can apply different migration approaches based on your needs:\n\n- Gradual migration with allowJs and incremental adoption\n- File-by-file conversion while maintaining functionality\n- Comprehensive migration with full type safety\n- Hybrid approach with .d.ts files for complex modules\n- Integration with existing type definitions (@types packages)\n\nI'll adapt to your project's specific requirements and ensure a smooth transition to TypeScript while maintaining existing functionality."
              },
              {
                "name": "/components",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/angular-app/.claude/commands/components.md",
                "frontmatter": null,
                "content": "# Angular Components\n\nCreate Angular components for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Angular components based on the requirements:\n\n1. **Analyze existing components**: Check current component patterns, naming conventions, and folder organization\n2. **Examine Angular setup**: Review project structure, module organization, and TypeScript configuration\n3. **Identify component type**: Determine the component category:\n   - Presentation components (dumb/pure components)\n   - Container components (smart components with state)\n   - Feature components (business logic components)\n   - Shared/UI components (reusable across features)\n   - Layout components (structural components)\n4. **Check dependencies**: Review existing components and shared modules to avoid duplication\n5. **Implement component**: Create component with proper TypeScript types and lifecycle hooks\n6. **Add inputs/outputs**: Define @Input and @Output properties with proper typing\n7. **Create template**: Build HTML template with proper Angular directives and bindings\n8. **Add styles**: Implement component styles following project's styling approach\n9. **Create tests**: Write comprehensive unit tests with TestBed and proper mocking\n10. **Update module**: Register component in appropriate Angular module\n\n## Implementation Requirements\n\n- Follow project's Angular architecture and naming conventions\n- Use proper component lifecycle hooks (OnInit, OnDestroy, etc.)\n- Include comprehensive TypeScript interfaces for inputs and outputs\n- Implement proper change detection strategy (OnPush when possible)\n- Add proper subscription management with takeUntil or async pipe\n- Follow Angular style guide and project coding standards\n- Consider component performance and memory management\n\n## Component Patterns to Consider\n\nBased on the request:\n- **Smart Components**: Container components that manage state and services\n- **Dumb Components**: Presentation components that only receive inputs\n- **Feature Components**: Components specific to business features\n- **Shared Components**: Reusable UI components across the application\n- **Form Components**: Reactive forms with validation and custom controls\n- **Data Display**: Components for tables, lists, cards with proper data binding\n\n## Angular-Specific Implementation\n\n- **Template Syntax**: Proper use of Angular directives (*ngFor, *ngIf, etc.)\n- **Data Binding**: Property binding, event binding, two-way binding\n- **Change Detection**: OnPush strategy for performance optimization\n- **Lifecycle Management**: Proper use of lifecycle hooks\n- **Dependency Injection**: Service injection in component constructors\n- **Testing**: TestBed configuration with proper mocking and spies\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same styling approach and class naming as existing components\n- Follow project's folder structure for components (usually feature-based)\n- Don't install new dependencies without asking\n- Consider component reusability and single responsibility principle\n- Add proper TypeScript types for all component properties and methods\n- Use trackBy functions for performance in *ngFor loops\n- Implement proper unsubscription patterns to prevent memory leaks"
              },
              {
                "name": "/services",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/angular-app/.claude/commands/services.md",
                "frontmatter": null,
                "content": "# Angular Services\n\nCreate Angular services for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Angular services based on the requirements:\n\n1. **Analyze existing services**: Check current service patterns, naming conventions, and folder organization\n2. **Examine Angular setup**: Review project structure, dependency injection patterns, and TypeScript configuration\n3. **Identify service type**: Determine the service category:\n   - Data services (HTTP API calls, state management)\n   - Utility services (validation, formatting, helpers)\n   - Business logic services (calculations, workflows)\n   - Infrastructure services (logging, authentication, error handling)\n   - Feature services (component-specific logic)\n4. **Check dependencies**: Review existing services and shared modules to avoid duplication\n5. **Implement service**: Create service with proper dependency injection and TypeScript types\n6. **Add error handling**: Include comprehensive error handling with RxJS operators\n7. **Create tests**: Write unit tests with proper mocking following project patterns\n8. **Update module registration**: Register service in appropriate Angular modules\n\n## Implementation Requirements\n\n- Follow project's Angular architecture and naming conventions (usually .service.ts)\n- Use proper dependency injection with @Injectable decorator\n- Include comprehensive TypeScript interfaces and types\n- Implement proper RxJS patterns (observables, operators, error handling)\n- Add proper error handling and logging integration\n- Follow single responsibility principle for service design\n- Consider service lifecycle and singleton patterns\n\n## Service Patterns to Consider\n\nBased on the request:\n- **HTTP Data Services**: API calls with proper error handling and caching\n- **State Management**: Services for sharing data between components\n- **Authentication**: User authentication, token management, guards\n- **Business Logic**: Complex calculations, workflows, validations\n- **Utility Services**: Reusable functions, formatters, validators\n- **Feature Services**: Component-specific logic extraction\n- **Infrastructure**: Logging, monitoring, configuration services\n\n## Angular-Specific Implementation\n\n- **Dependency Injection**: Proper use of @Injectable and providedIn\n- **RxJS Integration**: Observables, subjects, operators for reactive programming\n- **HTTP Client**: Angular HttpClient for API communication\n- **Error Handling**: Global error handling and user-friendly error messages\n- **Testing**: TestBed, jasmine, karma for comprehensive unit testing\n- **Module Organization**: Feature modules, shared modules, core modules\n\n## Important Notes\n\n- ALWAYS examine existing services first to understand project patterns\n- Use the same error handling and response patterns as existing services\n- Follow project's folder structure for services (usually /services or /core)\n- Don't install new dependencies without asking\n- Consider service performance and memory management\n- Add proper RxJS subscription management to prevent memory leaks\n- Use Angular's built-in services (HttpClient, Router) rather than external libraries\n- Include proper TypeScript types for all service methods and properties"
              },
              {
                "name": "/api-endpoint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/api-endpoint.md",
                "frontmatter": null,
                "content": "# API Endpoint Generator\n\nGenerate a complete API endpoint for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate a new API endpoint with all necessary components:\n\n1. **Analyze project architecture**: Examine existing API structure, patterns, and conventions\n2. **Identify framework**: Determine if using Express, Fastify, NestJS, Next.js API routes, or other framework\n3. **Check authentication**: Review existing auth patterns and middleware usage\n4. **Examine data layer**: Identify database/ORM patterns (Prisma, TypeORM, Mongoose, etc.)\n5. **Create endpoint structure**: Generate route, controller, validation, and service layers\n6. **Implement business logic**: Add core functionality with proper error handling\n7. **Add validation**: Include input validation using project's validation library\n8. **Create tests**: Write unit and integration tests following project patterns\n9. **Update documentation**: Add endpoint documentation (OpenAPI/Swagger if used)\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing middleware patterns for auth, validation, logging\n- Include proper HTTP status codes and error responses\n- Add comprehensive input validation and sanitization\n- Implement proper logging and monitoring\n- Consider rate limiting and security headers\n- Follow project's database transaction patterns\n\n## Framework-Specific Patterns\n\nI'll adapt to your project's framework:\n- **Express**: Routes, controllers, middleware\n- **Fastify**: Routes, handlers, schemas, plugins\n- **NestJS**: Controllers, services, DTOs, guards\n- **Next.js**: API routes with proper HTTP methods\n- **tRPC**: Procedures with input/output validation\n- **GraphQL**: Resolvers with proper type definitions\n\n## Important Notes\n\n- ALWAYS examine existing endpoints first to understand project patterns\n- Use the same error handling and response format as existing endpoints\n- Follow project's folder structure and naming conventions\n- Don't install new dependencies without asking\n- Consider backward compatibility if modifying existing endpoints\n- Add proper database migrations if schema changes are needed"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# Database Operations\n\nSet up database operations for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize database operations based on the requirements:\n\n1. **Analyze existing database setup**: Check current database configuration, ORM/ODM, and connection patterns\n2. **Identify database type**: Determine if using MongoDB, PostgreSQL, MySQL, or other database\n3. **Examine ORM/ODM**: Check for Prisma, TypeORM, Mongoose, Sequelize, or raw SQL patterns\n4. **Review existing models**: Understand current schema patterns and relationships\n5. **Check migration system**: Identify migration tools and patterns in use\n6. **Implement operations**: Create models, repositories, or services following project architecture\n7. **Add validation**: Include proper schema validation and constraints\n8. **Create tests**: Write database operation tests following project patterns\n9. **Update migrations**: Add necessary database migrations if schema changes required\n\n## Implementation Requirements\n\n- Follow project's database architecture patterns\n- Use existing ORM/ODM configuration and connection setup\n- Include proper TypeScript types for all database operations\n- Add comprehensive error handling and transaction management\n- Implement proper indexing for performance\n- Follow project's naming conventions for tables/collections and fields\n- Consider data validation at both application and database levels\n\n## Database Patterns to Consider\n\nBased on your project setup:\n- **Repository Pattern**: Separate data access logic from business logic\n- **Active Record**: Models with built-in database operations\n- **Data Mapper**: Separate domain models from database schema\n- **Query Builder**: Fluent interface for building database queries\n- **Raw SQL**: Direct database queries for complex operations\n\n## Operation Types\n\nCommon database operations to implement:\n- **CRUD operations**: Create, Read, Update, Delete\n- **Bulk operations**: Batch inserts, updates, deletes\n- **Aggregation**: Complex queries with grouping and calculations\n- **Relationships**: Managing foreign keys and joins\n- **Transactions**: Ensuring data consistency\n- **Migrations**: Schema changes and data transformations\n\n## Important Notes\n\n- ALWAYS examine existing database setup first to understand project patterns\n- Use the same connection configuration and environment variables\n- Follow project's folder structure for models/schemas\n- Don't install new database dependencies without asking\n- Consider performance implications (indexes, query optimization)\n- Add proper database connection pooling if not already configured\n- Include proper cleanup and connection closing in tests"
              },
              {
                "name": "/middleware",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/middleware.md",
                "frontmatter": null,
                "content": "# Express Middleware\n\nCreate Express middleware for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Express middleware based on the requirements:\n\n1. **Analyze existing middleware**: Check current middleware patterns, naming conventions, and file organization\n2. **Examine Express setup**: Review app configuration, middleware stack order, and TypeScript usage\n3. **Identify middleware type**: Determine the middleware category:\n   - Authentication/Authorization (JWT, sessions, role-based)\n   - Validation (request body, params, query validation)\n   - Logging (request/response logging, audit trails)\n   - Error handling (global error handlers, custom errors)\n   - Security (CORS, rate limiting, helmet)\n   - Utility (parsing, compression, static files)\n4. **Check dependencies**: Review existing middleware dependencies to avoid duplication\n5. **Implement middleware**: Create middleware with proper TypeScript types and error handling\n6. **Test middleware**: Write unit and integration tests following project patterns\n7. **Update middleware stack**: Integrate middleware into Express app configuration\n8. **Add documentation**: Include JSDoc comments and usage examples\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing error handling patterns and response formats\n- Include proper request/response typing with custom interfaces\n- Add comprehensive error handling and logging\n- Consider middleware execution order and dependencies\n- Implement proper async/await patterns for async middleware\n- Follow project's folder structure for middleware files\n\n## Middleware Patterns to Consider\n\nBased on the request:\n- **Authentication**: JWT verification, session management, API key validation\n- **Authorization**: Role-based access control, permission checking\n- **Validation**: Schema validation with Joi/Zod, sanitization\n- **Logging**: Request logging, performance monitoring, audit trails\n- **Error Handling**: Global error handlers, custom error classes\n- **Security**: CORS configuration, rate limiting, input sanitization\n- **Utility**: Request parsing, response formatting, caching\n\n## Integration Considerations\n\n- **Middleware order**: Ensure proper execution sequence in Express app\n- **Error propagation**: Handle errors correctly with next() function\n- **Request enhancement**: Add properties to request object with proper typing\n- **Response modification**: Modify response objects while maintaining type safety\n- **Performance**: Consider middleware performance impact on request processing\n\n## Important Notes\n\n- ALWAYS examine existing middleware first to understand project patterns\n- Use the same error handling and response format as existing middleware\n- Follow project's folder structure for middleware (usually /middleware)\n- Don't install new dependencies without asking\n- Consider middleware performance and request processing impact\n- Add proper TypeScript types for enhanced request/response objects\n- Test middleware in isolation and integration contexts"
              },
              {
                "name": "/route",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/route.md",
                "frontmatter": null,
                "content": "# Route Creator\n\nCreate API routes for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize API routes based on the requirements:\n\n1. **Analyze project structure**: Check existing route patterns, folder organization, and framework setup\n2. **Examine framework**: Identify if using Express, Fastify, NestJS, or other Node.js framework\n3. **Review existing routes**: Understand current routing patterns, validation, and error handling\n4. **Check authentication**: Review existing auth middleware and protection patterns\n5. **Define route structure**: Determine HTTP methods, path parameters, and request/response schemas\n6. **Implement routes**: Create route handlers with proper validation and error handling\n7. **Add middleware**: Include authentication, validation, and logging middleware as needed\n8. **Create tests**: Write route tests following project testing patterns\n9. **Update route registration**: Integrate new routes into main router configuration\n\n## Implementation Requirements\n\n- Follow project's routing architecture and naming conventions\n- Use existing validation libraries (Joi, Zod, class-validator, etc.)\n- Include proper TypeScript types for request/response objects\n- Add comprehensive error handling with appropriate HTTP status codes\n- Implement proper authentication/authorization if required\n- Follow RESTful conventions unless project uses different patterns\n- Add proper logging and monitoring integration\n\n## Route Patterns to Consider\n\nBased on the request:\n- **CRUD operations**: Create, Read, Update, Delete for resources\n- **RESTful endpoints**: GET, POST, PUT, PATCH, DELETE with proper semantics\n- **Nested resources**: Parent/child resource relationships\n- **Batch operations**: Bulk create, update, delete operations\n- **Search/filtering**: Query parameters for filtering and pagination\n- **File uploads**: Multipart form handling for file operations\n- **Webhook endpoints**: External service integration points\n\n## Framework-Specific Implementation\n\nAdapt to your project's framework:\n- **Express**: Router instances, middleware chains, route handlers\n- **Fastify**: Route plugins, schema validation, hooks\n- **NestJS**: Controllers, decorators, DTOs, guards, interceptors\n- **Koa**: Router middleware, context handling\n- **Next.js API**: API route handlers with proper HTTP methods\n\n## Important Notes\n\n- ALWAYS examine existing routes first to understand project patterns\n- Use the same validation and error handling patterns as existing routes\n- Follow project's folder structure for routes (usually /routes or /controllers)\n- Don't install new dependencies without asking\n- Consider route performance and database query optimization\n- Add proper OpenAPI/Swagger documentation if project uses it\n- Include rate limiting for public endpoints where appropriate"
              },
              {
                "name": "/component",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/component.md",
                "frontmatter": null,
                "content": "# React Component Generator\n\nCreate a React component named $ARGUMENTS following project conventions.\n\n## Steps\n\n1. **Analyze project structure**: Check existing components to understand file organization, naming conventions, and patterns\n2. **Examine styling approach**: Identify CSS/SCSS modules, styled-components, Tailwind, or other styling methods used\n3. **Review testing patterns**: Check existing test files to understand testing framework and conventions\n4. **Create component structure**: Generate appropriate files (component, styles, tests, index)\n5. **Implement component**: Write TypeScript/JavaScript with proper props interface and logic\n6. **Add tests**: Write comprehensive tests following project patterns\n7. **Verify integration**: Ensure component works with existing project setup\n\n## Requirements\n\n- Follow existing project file structure and naming conventions\n- Use TypeScript if project uses it\n- Include proper accessibility attributes\n- Add responsive design considerations\n- Write tests that match project testing patterns\n- Include usage examples in component documentation\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same styling approach as the rest of the project\n- Follow the project's TypeScript conventions for props and interfaces\n- Don't install new dependencies without asking first"
              },
              {
                "name": "/hooks",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/hooks.md",
                "frontmatter": null,
                "content": "# React Hooks\n\nCreate or optimize React hooks for $ARGUMENTS following project conventions.\n\n## Task\n\nAnalyze the request and create appropriate React hooks:\n\n1. **Examine existing hooks**: Check project for existing custom hooks patterns and conventions\n2. **Identify hook type**: Determine if creating new custom hook, optimizing existing hook, or implementing specific hook pattern\n3. **Check TypeScript usage**: Verify if project uses TypeScript and follow typing conventions\n4. **Implement hook**: Create hook with proper:\n   - Naming convention (use prefix)\n   - TypeScript types and interfaces\n   - Proper dependency arrays\n   - Error handling\n   - Performance optimizations\n5. **Add tests**: Create comprehensive unit tests using project's testing framework\n6. **Add documentation**: Include JSDoc comments and usage examples\n\n## Common Hook Patterns\n\nWhen creating hooks, consider these patterns based on the request:\n- **Data fetching**: API calls, loading states, error handling\n- **State management**: Local state, derived state, state persistence\n- **Side effects**: Event listeners, timers, subscriptions\n- **Context consumption**: Theme, auth, app state\n- **Form handling**: Input management, validation, submission\n- **Performance**: Memoization, debouncing, throttling\n\n## Requirements\n\n- Follow existing project hook conventions\n- Use TypeScript if project uses it\n- Include proper cleanup in useEffect\n- Add error boundaries where appropriate\n- Write tests that cover all hook functionality\n- IMPORTANT: Always check existing hooks first to understand project patterns\n\n## Notes\n\n- Ask for clarification if the hook requirements are ambiguous\n- Suggest optimizations for existing hooks if relevant\n- Consider accessibility implications for UI-related hooks"
              },
              {
                "name": "/state-management",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/state-management.md",
                "frontmatter": null,
                "content": "# React State Management\n\nImplement state management solution for $ARGUMENTS following project conventions.\n\n## Task\n\nSet up or optimize state management based on the requirements:\n\n1. **Analyze current setup**: Check existing state management approach and project structure\n2. **Determine solution**: Based on requirements, choose appropriate state management:\n   - Context API for simple, localized state\n   - Redux Toolkit for complex, global state\n   - Zustand for lightweight global state\n   - Custom hooks for component-level state\n3. **Examine dependencies**: Check package.json for existing state management libraries\n4. **Implement solution**: Create store, providers, and hooks with proper TypeScript types\n5. **Set up middleware**: Add devtools, persistence, or other middleware as needed\n6. **Create typed hooks**: Generate properly typed selectors and dispatch hooks\n7. **Add tests**: Write unit tests for state logic and reducers\n8. **Update providers**: Integrate with app's provider hierarchy\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions\n- Use existing state management patterns if present\n- Create proper type definitions for state shape\n- Include error handling and loading states\n- Add proper debugging setup (devtools)\n- Consider performance optimizations (selectors, memoization)\n\n## State Management Selection Guide\n\nChoose based on complexity:\n- **Simple state**: React hooks + Context API\n- **Medium complexity**: Zustand or custom hooks\n- **Complex state**: Redux Toolkit with RTK Query\n- **Form state**: React Hook Form or Formik\n\n## Important Notes\n\n- ALWAYS check existing state management first\n- Don't install new dependencies without asking\n- Follow project's folder structure for state files\n- Consider server state vs client state separation\n- Add proper TypeScript types for all state interfaces"
              },
              {
                "name": "/components",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/vue-app/.claude/commands/components.md",
                "frontmatter": null,
                "content": "# Vue Components\n\nCreate Vue Single File Components for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Vue components based on the requirements:\n\n1. **Analyze project structure**: Check existing Vue components to understand patterns, conventions, and file organization\n2. **Examine Vue setup**: Identify Vue version (2/3), TypeScript usage, and Composition/Options API preference\n3. **Check styling approach**: Determine if using CSS modules, SCSS, styled-components, or other styling methods\n4. **Review testing patterns**: Check existing component tests to understand testing framework and conventions\n5. **Create component structure**: Generate SFC with template, script, and style sections\n6. **Implement component**: Write TypeScript interfaces, props, emits, and component logic\n7. **Add accessibility**: Include proper ARIA attributes and semantic HTML\n8. **Create tests**: Write comprehensive component tests following project patterns\n9. **Add documentation**: Include JSDoc comments and usage examples\n\n## Component Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing component patterns and naming conventions\n- Implement proper props validation and typing\n- Add appropriate event emissions with TypeScript signatures\n- Include scoped styles following project's styling approach\n- Add proper accessibility attributes (ARIA, semantic HTML)\n- Consider responsive design if applicable\n\n## Vue Patterns to Consider\n\nBased on the component type:\n- **Composition API**: For Vue 3 projects with `<script setup>`\n- **Options API**: For Vue 2 or legacy Vue 3 projects\n- **Composables**: Extract reusable logic into composables\n- **Provide/Inject**: For deep component communication\n- **Slots**: For flexible component content\n- **Teleport**: For portal-like functionality (Vue 3)\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same Vue API style (Composition vs Options) as the project\n- Follow project's folder structure for components\n- Don't install new dependencies without asking\n- Consider component performance (v-memo, computed properties)\n- Add proper TypeScript types for all props and emits"
              },
              {
                "name": "/composables",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/vue-app/.claude/commands/composables.md",
                "frontmatter": null,
                "content": "# Vue Composables\n\nCreate Vue composables for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Vue composables based on the requirements:\n\n1. **Analyze existing composables**: Check project for existing composable patterns, naming conventions, and file organization\n2. **Examine Vue setup**: Verify Vue 3 Composition API usage and TypeScript configuration\n3. **Identify composable type**: Determine the composable category:\n   - State management (reactive data, computed properties)\n   - API/HTTP operations (data fetching, mutations)\n   - DOM interactions (event listeners, element refs)\n   - Utility functions (validation, formatting, storage)\n   - Lifecycle management (cleanup, watchers)\n4. **Check dependencies**: Review existing composables to avoid duplication\n5. **Implement composable**: Create composable with proper TypeScript types and reactivity\n6. **Add lifecycle management**: Include proper cleanup with onUnmounted when needed\n7. **Create tests**: Write comprehensive unit tests for composable logic\n8. **Add documentation**: Include JSDoc comments and usage examples\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use appropriate Vue reactivity APIs (ref, reactive, computed, watch)\n- Include proper error handling and loading states\n- Add cleanup for side effects (event listeners, timers, subscriptions)\n- Make composables reusable and focused on single responsibility\n- Consider performance implications (shallow vs deep reactivity)\n\n## Common Composable Patterns\n\nBased on the request:\n- **Data fetching**: API calls with loading/error states\n- **Form handling**: Input management, validation, submission\n- **State management**: Local state, persistence, computed values\n- **DOM utilities**: Element refs, event handling, intersection observer\n- **Storage**: localStorage, sessionStorage, IndexedDB\n- **Authentication**: User state, token management, permissions\n- **UI utilities**: Dark mode, responsive breakpoints, modals\n\n## Important Notes\n\n- ALWAYS examine existing composables first to understand project patterns\n- Use proper Vue 3 Composition API patterns\n- Follow project's folder structure for composables (usually /composables)\n- Don't install new dependencies without asking\n- Consider composable composition (using other composables within composables)\n- Add proper TypeScript return types and generic constraints\n- Include proper reactivity patterns (avoid losing reactivity)"
              },
              {
                "name": "/lint",
                "description": null,
                "path": "cli-tool/templates/python/.claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Python Linter\n\nRun Python code linting and formatting tools.\n\n## Purpose\n\nThis command helps you maintain code quality using Python's best linting and formatting tools.\n\n## Usage\n\n```\n/lint\n```\n\n## What this command does\n\n1. **Runs multiple linters** (flake8, pylint, black, isort)\n2. **Provides detailed feedback** on code quality issues\n3. **Auto-fixes formatting** where possible\n4. **Checks type hints** if mypy is configured\n\n## Example Commands\n\n### Black (code formatting)\n```bash\n# Format all Python files\nblack .\n\n# Check formatting without changing files\nblack --check .\n\n# Format specific file\nblack src/main.py\n```\n\n### flake8 (style guide enforcement)\n```bash\n# Check all Python files\nflake8 .\n\n# Check specific directory\nflake8 src/\n\n# Check with specific rules\nflake8 --max-line-length=88 .\n```\n\n### isort (import sorting)\n```bash\n# Sort imports in all files\nisort .\n\n# Check import sorting\nisort --check-only .\n\n# Sort imports in specific file\nisort src/main.py\n```\n\n### pylint (comprehensive linting)\n```bash\n# Run pylint on all files\npylint src/\n\n# Run with specific score threshold\npylint --fail-under=8.0 src/\n\n# Generate detailed report\npylint --output-format=html src/ > pylint_report.html\n```\n\n### mypy (type checking)\n```bash\n# Check types in all files\nmypy .\n\n# Check specific module\nmypy src/models.py\n\n# Check with strict mode\nmypy --strict src/\n```\n\n## Configuration Files\n\nMost projects benefit from configuration files:\n\n### .flake8\n```ini\n[flake8]\nmax-line-length = 88\nexclude = .git,__pycache__,venv\nignore = E203,W503\n```\n\n### pyproject.toml\n```toml\n[tool.black]\nline-length = 88\n\n[tool.isort]\nprofile = \"black\"\n```\n\n## Best Practices\n\n- Run linters before committing code\n- Use consistent formatting across the project\n- Fix linting issues promptly\n- Configure linters to match your team's style\n- Use type hints for better code documentation"
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/python/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Runner\n\nRun Python tests with pytest, unittest, or other testing frameworks.\n\n## Purpose\n\nThis command helps you run Python tests effectively with proper configuration and reporting.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Detects test framework** (pytest, unittest, nose2)\n2. **Runs appropriate tests** with proper configuration\n3. **Provides coverage reporting** if available\n4. **Shows clear test results** with failure details\n\n## Example Commands\n\n### pytest (recommended)\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=src --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n\n# Run tests matching pattern\npytest -k \"test_user\"\n```\n\n### unittest\n```bash\n# Run all tests\npython -m unittest discover\n\n# Run specific test file\npython -m unittest tests.test_models\n\n# Run with verbose output\npython -m unittest -v\n```\n\n### Django tests\n```bash\n# Run all Django tests\npython manage.py test\n\n# Run specific app tests\npython manage.py test myapp\n\n# Run with coverage\ncoverage run --source='.' manage.py test\ncoverage report\n```\n\n## Best Practices\n\n- Write tests for all critical functionality\n- Use descriptive test names\n- Keep tests isolated and independent\n- Mock external dependencies\n- Aim for high test coverage (80%+)"
              },
              {
                "name": "/admin",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/admin.md",
                "frontmatter": null,
                "content": "# Django Admin Configuration\n\nConfigure Django admin interface with custom admin classes and functionality.\n\n## Purpose\n\nThis command helps you create comprehensive Django admin configurations with advanced features and customizations.\n\n## Usage\n\n```\n/admin\n```\n\n## What this command does\n\n1. **Registers models** with custom admin classes\n2. **Creates advanced admin interfaces** with filtering, search, and actions\n3. **Adds inline editing** for related models\n4. **Customizes list displays** and forms\n5. **Implements admin actions** for bulk operations\n\n## Example Output\n\n```python\n# admin.py\nfrom django.contrib import admin\nfrom django.utils.html import format_html\nfrom django.urls import reverse\nfrom django.utils.safestring import mark_safe\nfrom .models import Post, Category, Tag, Comment\n\n@admin.register(Category)\nclass CategoryAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Category model.\"\"\"\n    list_display = ['name', 'slug', 'post_count', 'created_at']\n    list_filter = ['created_at']\n    search_fields = ['name', 'description']\n    prepopulated_fields = {'slug': ('name',)}\n    readonly_fields = ['created_at', 'updated_at']\n    \n    def post_count(self, obj):\n        \"\"\"Display number of posts in this category.\"\"\"\n        count = obj.posts.count()\n        url = reverse('admin:blog_post_changelist') + f'?category__id__exact={obj.id}'\n        return format_html('<a href=\"{}\">{} posts</a>', url, count)\n    post_count.short_description = 'Posts'\n\nclass CommentInline(admin.TabularInline):\n    \"\"\"Inline admin for comments.\"\"\"\n    model = Comment\n    extra = 0\n    readonly_fields = ['created_at', 'author']\n    fields = ['author', 'content', 'is_approved', 'created_at']\n\n@admin.register(Post)\nclass PostAdmin(admin.ModelAdmin):\n    \"\"\"Advanced admin configuration for Post model.\"\"\"\n    list_display = [\n        'title', \n        'author', \n        'category', \n        'status', \n        'view_count',\n        'created_at',\n        'post_preview'\n    ]\n    list_filter = [\n        'status', \n        'category', \n        'created_at', \n        'updated_at',\n        ('author', admin.RelatedOnlyFieldListFilter)\n    ]\n    search_fields = ['title', 'content', 'author__username']\n    prepopulated_fields = {'slug': ('title',)}\n    readonly_fields = ['created_at', 'updated_at', 'view_count', 'post_preview']\n    \n    # Custom form layout\n    fieldsets = (\n        ('Content', {\n            'fields': ('title', 'slug', 'content', 'status')\n        }),\n        ('Metadata', {\n            'fields': ('author', 'category', 'tags'),\n            'classes': ('collapse',)\n        }),\n        ('SEO', {\n            'fields': ('meta_description', 'meta_keywords'),\n            'classes': ('collapse',)\n        }),\n        ('Timestamps', {\n            'fields': ('created_at', 'updated_at', 'view_count'),\n            'classes': ('collapse',)\n        }),\n    )\n    \n    # Many-to-many field display\n    filter_horizontal = ['tags']\n    \n    # Inline models\n    inlines = [CommentInline]\n    \n    # Custom list display methods\n    def post_preview(self, obj):\n        \"\"\"Show thumbnail preview of post.\"\"\"\n        if obj.featured_image:\n            return format_html(\n                '<img src=\"{}\" width=\"50\" height=\"50\" style=\"border-radius: 5px;\" />',\n                obj.featured_image.url\n            )\n        return \"No image\"\n    post_preview.short_description = 'Preview'\n    \n    # Custom admin actions\n    actions = ['make_published', 'make_draft', 'duplicate_posts']\n    \n    def make_published(self, request, queryset):\n        \"\"\"Bulk action to publish selected posts.\"\"\"\n        updated = queryset.update(status='published')\n        self.message_user(\n            request, \n            f'{updated} posts were successfully marked as published.'\n        )\n    make_published.short_description = \"Mark selected posts as published\"\n    \n    def make_draft(self, request, queryset):\n        \"\"\"Bulk action to set selected posts as draft.\"\"\"\n        updated = queryset.update(status='draft')\n        self.message_user(\n            request, \n            f'{updated} posts were successfully marked as draft.'\n        )\n    make_draft.short_description = \"Mark selected posts as draft\"\n    \n    def duplicate_posts(self, request, queryset):\n        \"\"\"Bulk action to duplicate selected posts.\"\"\"\n        count = 0\n        for post in queryset:\n            post.pk = None  # Create new instance\n            post.title = f\"Copy of {post.title}\"\n            post.slug = f\"copy-of-{post.slug}\"\n            post.status = 'draft'\n            post.save()\n            count += 1\n        \n        self.message_user(\n            request,\n            f'{count} posts were successfully duplicated.'\n        )\n    duplicate_posts.short_description = \"Duplicate selected posts\"\n\n@admin.register(Tag)\nclass TagAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Tag model.\"\"\"\n    list_display = ['name', 'slug', 'post_count', 'color_preview']\n    search_fields = ['name']\n    prepopulated_fields = {'slug': ('name',)}\n    \n    def post_count(self, obj):\n        \"\"\"Display number of posts with this tag.\"\"\"\n        return obj.posts.count()\n    post_count.short_description = 'Posts'\n    \n    def color_preview(self, obj):\n        \"\"\"Show color preview if tag has color field.\"\"\"\n        if hasattr(obj, 'color') and obj.color:\n            return format_html(\n                '<span style=\"background-color: {}; padding: 2px 8px; border-radius: 3px; color: white;\">{}</span>',\n                obj.color,\n                obj.name\n            )\n        return obj.name\n    color_preview.short_description = 'Preview'\n\n@admin.register(Comment)\nclass CommentAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Comment model.\"\"\"\n    list_display = ['author', 'post', 'content_preview', 'is_approved', 'created_at']\n    list_filter = ['is_approved', 'created_at', 'post__category']\n    search_fields = ['content', 'author__username', 'post__title']\n    readonly_fields = ['created_at', 'updated_at']\n    actions = ['approve_comments', 'disapprove_comments']\n    \n    def content_preview(self, obj):\n        \"\"\"Show truncated content preview.\"\"\"\n        return obj.content[:50] + \"...\" if len(obj.content) > 50 else obj.content\n    content_preview.short_description = 'Content'\n    \n    def approve_comments(self, request, queryset):\n        \"\"\"Bulk approve comments.\"\"\"\n        updated = queryset.update(is_approved=True)\n        self.message_user(request, f'{updated} comments were approved.')\n    approve_comments.short_description = \"Approve selected comments\"\n    \n    def disapprove_comments(self, request, queryset):\n        \"\"\"Bulk disapprove comments.\"\"\"\n        updated = queryset.update(is_approved=False)\n        self.message_user(request, f'{updated} comments were disapproved.')\n    disapprove_comments.short_description = \"Disapprove selected comments\"\n\n# Custom admin site configuration\nadmin.site.site_header = \"Blog Administration\"\nadmin.site.site_title = \"Blog Admin Portal\"\nadmin.site.index_title = \"Welcome to Blog Administration\"\n```\n\n## Advanced Features\n\n### Custom List Display\n- **Thumbnail previews** for images\n- **Related object counts** with links\n- **Status indicators** with colors\n- **Custom formatting** for data display\n\n### Filtering and Search\n- **Advanced filters** including date ranges\n- **Related field filtering** for foreign keys\n- **Search across multiple fields** including relations\n- **Custom filter classes** for complex queries\n\n### Inline Editing\n- **TabularInline** for compact editing\n- **StackedInline** for detailed forms\n- **Custom inline forms** with additional functionality\n- **Readonly fields** in inlines\n\n### Bulk Actions\n- **Status changes** for multiple objects\n- **Data export** functionality\n- **Batch operations** for efficiency\n- **Custom business logic** in actions\n\n### Form Customization\n- **Fieldsets** for organized layouts\n- **Collapsed sections** for advanced options\n- **Custom widgets** for better UX\n- **Validation** and error handling\n\n## Security Considerations\n\n- **Permission checks** in custom methods\n- **Input sanitization** in admin actions\n- **CSRF protection** (automatic)\n- **User authentication** (built-in)\n\n## Performance Optimization\n\n```python\n# Optimize queries with select_related/prefetch_related\nclass PostAdmin(admin.ModelAdmin):\n    def get_queryset(self, request):\n        queryset = super().get_queryset(request)\n        return queryset.select_related('author', 'category').prefetch_related('tags')\n```\n\n## Custom Admin Templates\n\n```python\n# Override admin templates\nclass PostAdmin(admin.ModelAdmin):\n    change_form_template = 'admin/blog/post/change_form.html'\n    change_list_template = 'admin/blog/post/change_list.html'\n```"
              },
              {
                "name": "/django-model",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/django-model.md",
                "frontmatter": null,
                "content": "# Django Model Generator\n\nCreate Django models with proper structure and relationships.\n\n## Purpose\n\nThis command helps you quickly create Django models with fields, relationships, and best practices.\n\n## Usage\n\n```\n/django-model\n```\n\n## What this command does\n\n1. **Creates model classes** with proper field definitions\n2. **Adds relationships** (ForeignKey, ManyToMany, OneToOne)\n3. **Includes meta options** and model methods\n4. **Generates migrations** automatically\n5. **Follows Django conventions** and best practices\n\n## Example Output\n\n```python\n# models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass Category(models.Model):\n    name = models.CharField(max_length=100, unique=True)\n    slug = models.SlugField(unique=True)\n    description = models.TextField(blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    \n    class Meta:\n        verbose_name_plural = \"categories\"\n        ordering = ['name']\n    \n    def __str__(self):\n        return self.name\n\nclass Post(models.Model):\n    STATUS_CHOICES = [\n        ('draft', 'Draft'),\n        ('published', 'Published'),\n        ('archived', 'Archived'),\n    ]\n    \n    title = models.CharField(max_length=200)\n    slug = models.SlugField(unique=True)\n    content = models.TextField()\n    status = models.CharField(max_length=20, choices=STATUS_CHOICES, default='draft')\n    author = models.ForeignKey(User, on_delete=models.CASCADE, related_name='posts')\n    category = models.ForeignKey(Category, on_delete=models.SET_NULL, null=True, blank=True)\n    tags = models.ManyToManyField('Tag', blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    \n    class Meta:\n        ordering = ['-created_at']\n        verbose_name = 'blog post'\n        verbose_name_plural = 'blog posts'\n    \n    def __str__(self):\n        return self.title\n    \n    def get_absolute_url(self):\n        return reverse('post_detail', kwargs={'slug': self.slug})\n\nclass Tag(models.Model):\n    name = models.CharField(max_length=50, unique=True)\n    slug = models.SlugField(unique=True)\n    \n    def __str__(self):\n        return self.name\n```\n\n## Field Types Supported\n\n- **CharField** - Text fields with max length\n- **TextField** - Large text fields\n- **IntegerField** - Integer numbers\n- **FloatField** - Floating point numbers\n- **BooleanField** - True/False values\n- **DateField** - Date only\n- **DateTimeField** - Date and time\n- **EmailField** - Email addresses\n- **URLField** - URLs\n- **ImageField** - Image uploads\n- **FileField** - File uploads\n- **JSONField** - JSON data (PostgreSQL)\n\n## Relationships\n\n- **ForeignKey** - One-to-many relationships\n- **ManyToManyField** - Many-to-many relationships\n- **OneToOneField** - One-to-one relationships\n\n## Best Practices Included\n\n- Proper field choices and defaults\n- Appropriate related_name attributes\n- __str__ methods for admin interface\n- Meta class with ordering and verbose names\n- get_absolute_url methods where appropriate\n- Proper use of null and blank parameters\n- Field validation and constraints\n\n## After Creating Models\n\n```bash\n# Create and apply migrations\npython manage.py makemigrations\npython manage.py migrate\n\n# Register in admin (optional)\n# Add to admin.py:\nfrom django.contrib import admin\nfrom .models import Post, Category, Tag\n\nadmin.site.register([Post, Category, Tag])\n```"
              },
              {
                "name": "/views",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/views.md",
                "frontmatter": null,
                "content": "# Django Views Generator\n\nCreate Django views with proper structure and best practices.\n\n## Purpose\n\nThis command helps you quickly create Django views (Function-Based Views and Class-Based Views) following Django conventions.\n\n## Usage\n\n```\n/views\n```\n\n## What this command does\n\n1. **Creates view functions/classes** with proper structure\n2. **Handles HTTP methods** (GET, POST, PUT, DELETE)\n3. **Includes form handling** and validation\n4. **Adds authentication/authorization** checks\n5. **Follows Django best practices** and security guidelines\n\n## Example Output\n\n```python\n# views.py\nfrom django.shortcuts import render, get_object_or_404, redirect\nfrom django.contrib.auth.decorators import login_required\nfrom django.contrib import messages\nfrom django.http import JsonResponse\nfrom django.views.generic import ListView, DetailView, CreateView, UpdateView, DeleteView\nfrom django.contrib.auth.mixins import LoginRequiredMixin\nfrom django.urls import reverse_lazy\nfrom .models import Post, Category\nfrom .forms import PostForm\n\n# Function-Based Views\ndef post_list(request):\n    \"\"\"Display list of posts with pagination and filtering.\"\"\"\n    posts = Post.objects.filter(status='published').select_related('author', 'category')\n    \n    # Search functionality\n    search_query = request.GET.get('search')\n    if search_query:\n        posts = posts.filter(title__icontains=search_query)\n    \n    # Category filtering\n    category_id = request.GET.get('category')\n    if category_id:\n        posts = posts.filter(category_id=category_id)\n    \n    context = {\n        'posts': posts,\n        'categories': Category.objects.all(),\n        'search_query': search_query,\n    }\n    return render(request, 'blog/post_list.html', context)\n\ndef post_detail(request, slug):\n    \"\"\"Display individual post details.\"\"\"\n    post = get_object_or_404(Post, slug=slug, status='published')\n    \n    context = {\n        'post': post,\n        'related_posts': Post.objects.filter(\n            category=post.category,\n            status='published'\n        ).exclude(id=post.id)[:3]\n    }\n    return render(request, 'blog/post_detail.html', context)\n\n@login_required\ndef post_create(request):\n    \"\"\"Create new post.\"\"\"\n    if request.method == 'POST':\n        form = PostForm(request.POST, request.FILES)\n        if form.is_valid():\n            post = form.save(commit=False)\n            post.author = request.user\n            post.save()\n            form.save_m2m()  # Save many-to-many relationships\n            messages.success(request, 'Post created successfully!')\n            return redirect('post_detail', slug=post.slug)\n    else:\n        form = PostForm()\n    \n    return render(request, 'blog/post_form.html', {'form': form})\n\n@login_required\ndef post_edit(request, slug):\n    \"\"\"Edit existing post.\"\"\"\n    post = get_object_or_404(Post, slug=slug, author=request.user)\n    \n    if request.method == 'POST':\n        form = PostForm(request.POST, request.FILES, instance=post)\n        if form.is_valid():\n            form.save()\n            messages.success(request, 'Post updated successfully!')\n            return redirect('post_detail', slug=post.slug)\n    else:\n        form = PostForm(instance=post)\n    \n    return render(request, 'blog/post_form.html', {\n        'form': form, \n        'post': post\n    })\n\n# Class-Based Views\nclass PostListView(ListView):\n    \"\"\"List view for posts with pagination.\"\"\"\n    model = Post\n    template_name = 'blog/post_list.html'\n    context_object_name = 'posts'\n    paginate_by = 10\n    \n    def get_queryset(self):\n        return Post.objects.filter(status='published').select_related('author', 'category')\n    \n    def get_context_data(self, **kwargs):\n        context = super().get_context_data(**kwargs)\n        context['categories'] = Category.objects.all()\n        return context\n\nclass PostDetailView(DetailView):\n    \"\"\"Detail view for individual posts.\"\"\"\n    model = Post\n    template_name = 'blog/post_detail.html'\n    context_object_name = 'post'\n    \n    def get_queryset(self):\n        return Post.objects.filter(status='published')\n\nclass PostCreateView(LoginRequiredMixin, CreateView):\n    \"\"\"Create view for new posts.\"\"\"\n    model = Post\n    form_class = PostForm\n    template_name = 'blog/post_form.html'\n    \n    def form_valid(self, form):\n        form.instance.author = self.request.user\n        return super().form_valid(form)\n\nclass PostUpdateView(LoginRequiredMixin, UpdateView):\n    \"\"\"Update view for existing posts.\"\"\"\n    model = Post\n    form_class = PostForm\n    template_name = 'blog/post_form.html'\n    \n    def get_queryset(self):\n        return Post.objects.filter(author=self.request.user)\n\nclass PostDeleteView(LoginRequiredMixin, DeleteView):\n    \"\"\"Delete view for posts.\"\"\"\n    model = Post\n    template_name = 'blog/post_confirm_delete.html'\n    success_url = reverse_lazy('post_list')\n    \n    def get_queryset(self):\n        return Post.objects.filter(author=self.request.user)\n\n# API Views\ndef api_post_list(request):\n    \"\"\"API endpoint for post list.\"\"\"\n    posts = Post.objects.filter(status='published').values(\n        'id', 'title', 'slug', 'created_at', 'author__username'\n    )\n    return JsonResponse(list(posts), safe=False)\n```\n\n## View Types Supported\n\n- **Function-Based Views (FBV)** - Simple, explicit control\n- **Class-Based Views (CBV)** - Reusable, inheritance-based\n- **Generic Views** - ListView, DetailView, CreateView, etc.\n- **API Views** - JSON responses for AJAX/API calls\n\n## Features Included\n\n- **Authentication checks** with decorators/mixins\n- **Permission handling** for user authorization\n- **Form processing** with validation\n- **Error handling** and user feedback\n- **SEO-friendly URLs** with slugs\n- **Database optimization** with select_related/prefetch_related\n- **Pagination** for large datasets\n- **Search and filtering** functionality\n\n## Security Best Practices\n\n- CSRF protection (automatic with forms)\n- User authentication and authorization\n- SQL injection prevention (ORM)\n- XSS protection with template escaping\n- Proper error handling\n\n## URL Configuration\n\n```python\n# urls.py\nfrom django.urls import path\nfrom . import views\n\napp_name = 'blog'\n\nurlpatterns = [\n    # Function-based views\n    path('', views.post_list, name='post_list'),\n    path('post/<slug:slug>/', views.post_detail, name='post_detail'),\n    path('create/', views.post_create, name='post_create'),\n    path('edit/<slug:slug>/', views.post_edit, name='post_edit'),\n    \n    # Class-based views\n    path('posts/', views.PostListView.as_view(), name='post_list_cbv'),\n    path('posts/<slug:slug>/', views.PostDetailView.as_view(), name='post_detail_cbv'),\n    path('posts/create/', views.PostCreateView.as_view(), name='post_create_cbv'),\n    path('posts/<slug:slug>/edit/', views.PostUpdateView.as_view(), name='post_edit_cbv'),\n    path('posts/<slug:slug>/delete/', views.PostDeleteView.as_view(), name='post_delete_cbv'),\n    \n    # API endpoints\n    path('api/posts/', views.api_post_list, name='api_post_list'),\n]\n```"
              },
              {
                "name": "/api-endpoints",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/api-endpoints.md",
                "frontmatter": null,
                "content": "# FastAPI Endpoints Generator\n\nCreate comprehensive FastAPI endpoints with proper structure, validation, and documentation.\n\n## Purpose\n\nThis command helps you quickly create FastAPI endpoints with Pydantic models, dependency injection, and automatic API documentation.\n\n## Usage\n\n```\n/api-endpoints\n```\n\n## What this command does\n\n1. **Creates API endpoints** with proper HTTP methods\n2. **Adds Pydantic models** for request/response validation\n3. **Implements dependency injection** for database and auth\n4. **Includes error handling** and status codes\n5. **Generates automatic documentation** with OpenAPI\n\n## Example Output\n\n```python\n# main.py\nfrom fastapi import FastAPI, Depends, HTTPException, status\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom fastapi.security import HTTPBearer, HTTPAuthorizationCredentials\nfrom sqlalchemy.orm import Session\nimport uvicorn\n\nfrom app.database import get_db, engine\nfrom app.models import models\nfrom app.routers import auth, users, posts, comments\nfrom app.core.config import settings\n\n# Create database tables\nmodels.Base.metadata.create_all(bind=engine)\n\n# Initialize FastAPI app\napp = FastAPI(\n    title=\"Blog API\",\n    description=\"A comprehensive blog API built with FastAPI\",\n    version=\"1.0.0\",\n    docs_url=\"/docs\",\n    redoc_url=\"/redoc\"\n)\n\n# Add CORS middleware\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=settings.ALLOWED_HOSTS,\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n\n# Include routers\napp.include_router(auth.router, prefix=\"/auth\", tags=[\"Authentication\"])\napp.include_router(users.router, prefix=\"/users\", tags=[\"Users\"])\napp.include_router(posts.router, prefix=\"/posts\", tags=[\"Posts\"])\napp.include_router(comments.router, prefix=\"/comments\", tags=[\"Comments\"])\n\n@app.get(\"/\", tags=[\"Root\"])\nasync def root():\n    \"\"\"API root endpoint.\"\"\"\n    return {\n        \"message\": \"Welcome to Blog API\",\n        \"version\": \"1.0.0\",\n        \"docs\": \"/docs\",\n        \"redoc\": \"/redoc\"\n    }\n\n@app.get(\"/health\", tags=[\"Health\"])\nasync def health_check():\n    \"\"\"Health check endpoint.\"\"\"\n    return {\"status\": \"healthy\", \"timestamp\": \"2024-01-01T00:00:00Z\"}\n\nif __name__ == \"__main__\":\n    uvicorn.run(\n        \"main:app\",\n        host=\"0.0.0.0\",\n        port=8000,\n        reload=True\n    )\n```\n\n```python\n# app/routers/posts.py\nfrom typing import List, Optional\nfrom fastapi import APIRouter, Depends, HTTPException, status, Query\nfrom sqlalchemy.orm import Session\n\nfrom app.database import get_db\nfrom app.schemas import post_schemas\nfrom app.services import post_service\nfrom app.core.dependencies import get_current_user, get_current_active_user\nfrom app.models.user import User\n\nrouter = APIRouter()\n\n@router.get(\"/\", response_model=List[post_schemas.PostResponse])\nasync def get_posts(\n    skip: int = Query(0, ge=0, description=\"Number of posts to skip\"),\n    limit: int = Query(10, ge=1, le=100, description=\"Number of posts to return\"),\n    search: Optional[str] = Query(None, description=\"Search in title and content\"),\n    category: Optional[str] = Query(None, description=\"Filter by category\"),\n    published: Optional[bool] = Query(True, description=\"Filter by published status\"),\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get all posts with pagination and filtering.\n    \n    - **skip**: Number of posts to skip (for pagination)\n    - **limit**: Maximum number of posts to return (1-100)\n    - **search**: Search term for title and content\n    - **category**: Filter posts by category\n    - **published**: Filter by published status\n    \"\"\"\n    posts = post_service.get_posts(\n        db=db,\n        skip=skip,\n        limit=limit,\n        search=search,\n        category=category,\n        published=published\n    )\n    return posts\n\n@router.get(\"/{post_id}\", response_model=post_schemas.PostResponse)\nasync def get_post(\n    post_id: int,\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get a specific post by ID.\n    \n    - **post_id**: Unique identifier for the post\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    return post\n\n@router.post(\"/\", response_model=post_schemas.PostResponse, status_code=status.HTTP_201_CREATED)\nasync def create_post(\n    post: post_schemas.PostCreate,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Create a new post.\n    \n    - **title**: Post title (required)\n    - **content**: Post content (required)\n    - **category**: Post category (optional)\n    - **published**: Publication status (default: false)\n    \"\"\"\n    return post_service.create_post(\n        db=db,\n        post=post,\n        user_id=current_user.id\n    )\n\n@router.put(\"/{post_id}\", response_model=post_schemas.PostResponse)\nasync def update_post(\n    post_id: int,\n    post_update: post_schemas.PostUpdate,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Update an existing post.\n    \n    - **post_id**: Unique identifier for the post\n    - **title**: Updated post title (optional)\n    - **content**: Updated post content (optional)\n    - **category**: Updated post category (optional)\n    - **published**: Updated publication status (optional)\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    if post.author_id != current_user.id:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not authorized to update this post\"\n        )\n    \n    return post_service.update_post(\n        db=db,\n        post_id=post_id,\n        post_update=post_update\n    )\n\n@router.delete(\"/{post_id}\", status_code=status.HTTP_204_NO_CONTENT)\nasync def delete_post(\n    post_id: int,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Delete a post.\n    \n    - **post_id**: Unique identifier for the post to delete\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    if post.author_id != current_user.id:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not authorized to delete this post\"\n        )\n    \n    post_service.delete_post(db=db, post_id=post_id)\n\n@router.post(\"/{post_id}/like\", response_model=post_schemas.PostResponse)\nasync def like_post(\n    post_id: int,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Like/unlike a post.\n    \n    - **post_id**: Unique identifier for the post to like\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    return post_service.toggle_like(\n        db=db,\n        post_id=post_id,\n        user_id=current_user.id\n    )\n\n@router.get(\"/{post_id}/comments\", response_model=List[post_schemas.CommentResponse])\nasync def get_post_comments(\n    post_id: int,\n    skip: int = Query(0, ge=0),\n    limit: int = Query(10, ge=1, le=100),\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get all comments for a specific post.\n    \n    - **post_id**: Unique identifier for the post\n    - **skip**: Number of comments to skip\n    - **limit**: Maximum number of comments to return\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    return post_service.get_post_comments(\n        db=db,\n        post_id=post_id,\n        skip=skip,\n        limit=limit\n    )\n```\n\n```python\n# app/schemas/post_schemas.py\nfrom typing import Optional, List\nfrom datetime import datetime\nfrom pydantic import BaseModel, Field, validator\n\nclass PostBase(BaseModel):\n    \"\"\"Base post schema.\"\"\"\n    title: str = Field(..., min_length=1, max_length=200, description=\"Post title\")\n    content: str = Field(..., min_length=1, description=\"Post content\")\n    category: Optional[str] = Field(None, max_length=50, description=\"Post category\")\n    published: bool = Field(False, description=\"Publication status\")\n\nclass PostCreate(PostBase):\n    \"\"\"Schema for creating a post.\"\"\"\n    \n    @validator('title')\n    def validate_title(cls, v):\n        if not v.strip():\n            raise ValueError('Title cannot be empty')\n        return v.strip()\n    \n    @validator('content')\n    def validate_content(cls, v):\n        if len(v.strip()) < 10:\n            raise ValueError('Content must be at least 10 characters long')\n        return v.strip()\n\nclass PostUpdate(BaseModel):\n    \"\"\"Schema for updating a post.\"\"\"\n    title: Optional[str] = Field(None, min_length=1, max_length=200)\n    content: Optional[str] = Field(None, min_length=1)\n    category: Optional[str] = Field(None, max_length=50)\n    published: Optional[bool] = None\n    \n    @validator('title')\n    def validate_title(cls, v):\n        if v is not None and not v.strip():\n            raise ValueError('Title cannot be empty')\n        return v.strip() if v else v\n    \n    @validator('content')\n    def validate_content(cls, v):\n        if v is not None and len(v.strip()) < 10:\n            raise ValueError('Content must be at least 10 characters long')\n        return v.strip() if v else v\n\nclass PostResponse(PostBase):\n    \"\"\"Schema for post responses.\"\"\"\n    id: int\n    author_id: int\n    created_at: datetime\n    updated_at: datetime\n    like_count: int = 0\n    comment_count: int = 0\n    \n    class Config:\n        from_attributes = True\n\nclass CommentBase(BaseModel):\n    \"\"\"Base comment schema.\"\"\"\n    content: str = Field(..., min_length=1, max_length=1000, description=\"Comment content\")\n\nclass CommentCreate(CommentBase):\n    \"\"\"Schema for creating a comment.\"\"\"\n    post_id: int = Field(..., description=\"ID of the post to comment on\")\n\nclass CommentResponse(CommentBase):\n    \"\"\"Schema for comment responses.\"\"\"\n    id: int\n    post_id: int\n    author_id: int\n    created_at: datetime\n    updated_at: datetime\n    \n    class Config:\n        from_attributes = True\n```\n\n```python\n# app/services/post_service.py\nfrom typing import List, Optional\nfrom sqlalchemy.orm import Session\nfrom sqlalchemy import or_\n\nfrom app.models.post import Post, Comment, PostLike\nfrom app.schemas.post_schemas import PostCreate, PostUpdate\n\ndef get_posts(\n    db: Session,\n    skip: int = 0,\n    limit: int = 10,\n    search: Optional[str] = None,\n    category: Optional[str] = None,\n    published: Optional[bool] = True\n) -> List[Post]:\n    \"\"\"Get posts with filtering and pagination.\"\"\"\n    query = db.query(Post)\n    \n    if published is not None:\n        query = query.filter(Post.published == published)\n    \n    if category:\n        query = query.filter(Post.category == category)\n    \n    if search:\n        query = query.filter(\n            or_(\n                Post.title.contains(search),\n                Post.content.contains(search)\n            )\n        )\n    \n    return query.offset(skip).limit(limit).all()\n\ndef get_post(db: Session, post_id: int) -> Optional[Post]:\n    \"\"\"Get a single post by ID.\"\"\"\n    return db.query(Post).filter(Post.id == post_id).first()\n\ndef create_post(db: Session, post: PostCreate, user_id: int) -> Post:\n    \"\"\"Create a new post.\"\"\"\n    db_post = Post(**post.dict(), author_id=user_id)\n    db.add(db_post)\n    db.commit()\n    db.refresh(db_post)\n    return db_post\n\ndef update_post(\n    db: Session,\n    post_id: int,\n    post_update: PostUpdate\n) -> Optional[Post]:\n    \"\"\"Update an existing post.\"\"\"\n    db_post = db.query(Post).filter(Post.id == post_id).first()\n    if not db_post:\n        return None\n    \n    update_data = post_update.dict(exclude_unset=True)\n    for field, value in update_data.items():\n        setattr(db_post, field, value)\n    \n    db.commit()\n    db.refresh(db_post)\n    return db_post\n\ndef delete_post(db: Session, post_id: int) -> bool:\n    \"\"\"Delete a post.\"\"\"\n    db_post = db.query(Post).filter(Post.id == post_id).first()\n    if not db_post:\n        return False\n    \n    db.delete(db_post)\n    db.commit()\n    return True\n\ndef toggle_like(db: Session, post_id: int, user_id: int) -> Post:\n    \"\"\"Toggle like status for a post.\"\"\"\n    existing_like = db.query(PostLike).filter(\n        PostLike.post_id == post_id,\n        PostLike.user_id == user_id\n    ).first()\n    \n    if existing_like:\n        db.delete(existing_like)\n    else:\n        new_like = PostLike(post_id=post_id, user_id=user_id)\n        db.add(new_like)\n    \n    db.commit()\n    return get_post(db, post_id)\n```\n\n## Features Included\n\n### API Documentation\n- **Automatic OpenAPI** schema generation\n- **Interactive docs** at `/docs`\n- **ReDoc documentation** at `/redoc`\n- **Request/Response examples** in schemas\n\n### Validation & Serialization\n- **Pydantic models** for data validation\n- **Custom validators** for business rules\n- **Type hints** for better IDE support\n- **Automatic data conversion** and validation\n\n### Error Handling\n- **HTTP status codes** for different scenarios\n- **Detailed error messages** with context\n- **Input validation errors** with field-specific messages\n- **Custom exception handlers** for consistent responses\n\n### Security\n- **JWT authentication** with dependencies\n- **Role-based access control** for endpoints\n- **CORS middleware** for cross-origin requests\n- **Input sanitization** through Pydantic\n\n### Performance\n- **Database query optimization** with SQLAlchemy\n- **Pagination support** for large datasets\n- **Async/await support** for concurrent requests\n- **Connection pooling** for database efficiency\n\n## Testing Example\n\n```python\n# tests/test_posts.py\nimport pytest\nfrom fastapi.testclient import TestClient\nfrom app.main import app\n\nclient = TestClient(app)\n\ndef test_get_posts():\n    \"\"\"Test getting posts.\"\"\"\n    response = client.get(\"/posts/\")\n    assert response.status_code == 200\n    assert isinstance(response.json(), list)\n\ndef test_create_post():\n    \"\"\"Test creating a new post.\"\"\"\n    post_data = {\n        \"title\": \"Test Post\",\n        \"content\": \"This is a test post content.\",\n        \"published\": True\n    }\n    response = client.post(\"/posts/\", json=post_data)\n    assert response.status_code == 201\n    assert response.json()[\"title\"] == \"Test Post\"\n```"
              },
              {
                "name": "/auth",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/auth.md",
                "frontmatter": null,
                "content": "# FastAPI Authentication & Authorization\n\nComplete authentication system with JWT tokens, OAuth2, and role-based access control.\n\n## Usage\n\n```bash\n# Install auth dependencies\npip install python-jose[cryptography] passlib[bcrypt] python-multipart\n\n# Generate secret key\nopenssl rand -hex 32\n```\n\n## JWT Configuration\n\n```python\n# app/core/security.py\nfrom datetime import datetime, timedelta\nfrom typing import Optional, Union, Any\nfrom jose import JWTError, jwt\nfrom passlib.context import CryptContext\nfrom app.core.config import settings\n\n# Password hashing\npwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\n# JWT settings\nSECRET_KEY = settings.SECRET_KEY\nALGORITHM = \"HS256\"\nACCESS_TOKEN_EXPIRE_MINUTES = 30\nREFRESH_TOKEN_EXPIRE_DAYS = 7\n\ndef create_access_token(\n    subject: Union[str, Any], \n    expires_delta: Optional[timedelta] = None\n) -> str:\n    \"\"\"Create JWT access token.\"\"\"\n    if expires_delta:\n        expire = datetime.utcnow() + expires_delta\n    else:\n        expire = datetime.utcnow() + timedelta(minutes=ACCESS_TOKEN_EXPIRE_MINUTES)\n    \n    to_encode = {\"exp\": expire, \"sub\": str(subject), \"type\": \"access\"}\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n    return encoded_jwt\n\ndef create_refresh_token(subject: Union[str, Any]) -> str:\n    \"\"\"Create JWT refresh token.\"\"\"\n    expire = datetime.utcnow() + timedelta(days=REFRESH_TOKEN_EXPIRE_DAYS)\n    to_encode = {\"exp\": expire, \"sub\": str(subject), \"type\": \"refresh\"}\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n    return encoded_jwt\n\ndef verify_password(plain_password: str, hashed_password: str) -> bool:\n    \"\"\"Verify password against hash.\"\"\"\n    return pwd_context.verify(plain_password, hashed_password)\n\ndef get_password_hash(password: str) -> str:\n    \"\"\"Generate password hash.\"\"\"\n    return pwd_context.hash(password)\n\ndef decode_token(token: str) -> Optional[dict]:\n    \"\"\"Decode and verify JWT token.\"\"\"\n    try:\n        payload = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])\n        return payload\n    except JWTError:\n        return None\n```\n\n## Authentication Dependencies\n\n```python\n# app/api/dependencies/auth.py\nfrom typing import Optional\nfrom fastapi import Depends, HTTPException, status\nfrom fastapi.security import OAuth2PasswordBearer, HTTPBearer, HTTPAuthorizationCredentials\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.core.security import decode_token\nfrom app.db.database import get_db\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\n\n# OAuth2 scheme\noauth2_scheme = OAuth2PasswordBearer(\n    tokenUrl=\"/api/v1/auth/login\",\n    scheme_name=\"JWT\"\n)\n\n# Bearer token scheme\nsecurity = HTTPBearer()\n\nasync def get_current_user(\n    token: str = Depends(oauth2_scheme),\n    db: AsyncSession = Depends(get_db)\n) -> User:\n    \"\"\"Get current authenticated user.\"\"\"\n    credentials_exception = HTTPException(\n        status_code=status.HTTP_401_UNAUTHORIZED,\n        detail=\"Could not validate credentials\",\n        headers={\"WWW-Authenticate\": \"Bearer\"},\n    )\n    \n    payload = decode_token(token)\n    if payload is None:\n        raise credentials_exception\n    \n    user_id: str = payload.get(\"sub\")\n    token_type: str = payload.get(\"type\")\n    \n    if user_id is None or token_type != \"access\":\n        raise credentials_exception\n    \n    user_repo = UserRepository(User, db)\n    user = await user_repo.get(int(user_id))\n    \n    if user is None:\n        raise credentials_exception\n    \n    if not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    \n    return user\n\nasync def get_current_active_user(\n    current_user: User = Depends(get_current_user)\n) -> User:\n    \"\"\"Get current active user.\"\"\"\n    if not current_user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    return current_user\n\nasync def get_current_superuser(\n    current_user: User = Depends(get_current_user)\n) -> User:\n    \"\"\"Get current superuser.\"\"\"\n    if not current_user.is_superuser:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not enough permissions\"\n        )\n    return current_user\n\ndef require_permissions(*permissions: str):\n    \"\"\"Decorator for permission-based access control.\"\"\"\n    async def permission_checker(\n        current_user: User = Depends(get_current_active_user)\n    ) -> User:\n        # Check if user has required permissions\n        user_permissions = set(current_user.permissions or [])\n        required_permissions = set(permissions)\n        \n        if not required_permissions.issubset(user_permissions) and not current_user.is_superuser:\n            raise HTTPException(\n                status_code=status.HTTP_403_FORBIDDEN,\n                detail=\"Insufficient permissions\"\n            )\n        \n        return current_user\n    \n    return permission_checker\n\ndef require_roles(*roles: str):\n    \"\"\"Decorator for role-based access control.\"\"\"\n    async def role_checker(\n        current_user: User = Depends(get_current_active_user)\n    ) -> User:\n        user_roles = set(role.name for role in current_user.roles or [])\n        required_roles = set(roles)\n        \n        if not required_roles.issubset(user_roles) and not current_user.is_superuser:\n            raise HTTPException(\n                status_code=status.HTTP_403_FORBIDDEN,\n                detail=\"Insufficient role permissions\"\n            )\n        \n        return current_user\n    \n    return role_checker\n```\n\n## Authentication Schemas\n\n```python\n# app/schemas/auth.py\nfrom pydantic import BaseModel, EmailStr\nfrom typing import Optional\n\nclass Token(BaseModel):\n    \"\"\"Token response schema.\"\"\"\n    access_token: str\n    refresh_token: str\n    token_type: str = \"bearer\"\n    expires_in: int\n\nclass TokenPayload(BaseModel):\n    \"\"\"Token payload schema.\"\"\"\n    sub: Optional[int] = None\n    exp: Optional[int] = None\n    type: Optional[str] = None\n\nclass UserLogin(BaseModel):\n    \"\"\"User login schema.\"\"\"\n    username: str\n    password: str\n\nclass UserRegister(BaseModel):\n    \"\"\"User registration schema.\"\"\"\n    username: str\n    email: EmailStr\n    password: str\n    first_name: str\n    last_name: str\n\nclass PasswordReset(BaseModel):\n    \"\"\"Password reset schema.\"\"\"\n    email: EmailStr\n\nclass PasswordResetConfirm(BaseModel):\n    \"\"\"Password reset confirmation schema.\"\"\"\n    token: str\n    new_password: str\n\nclass ChangePassword(BaseModel):\n    \"\"\"Change password schema.\"\"\"\n    current_password: str\n    new_password: str\n\nclass RefreshToken(BaseModel):\n    \"\"\"Refresh token schema.\"\"\"\n    refresh_token: str\n```\n\n## Authentication Endpoints\n\n```python\n# app/api/v1/auth.py\nfrom datetime import timedelta\nfrom typing import Any\nfrom fastapi import APIRouter, Depends, HTTPException, status, BackgroundTasks\nfrom fastapi.security import OAuth2PasswordRequestForm\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.db.database import get_db\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.schemas.auth import (\n    Token, UserLogin, UserRegister, PasswordReset, \n    PasswordResetConfirm, ChangePassword, RefreshToken\n)\nfrom app.schemas.user import UserCreate, UserResponse\nfrom app.core.security import (\n    create_access_token, create_refresh_token, verify_password,\n    decode_token, ACCESS_TOKEN_EXPIRE_MINUTES\n)\nfrom app.api.dependencies.auth import get_current_user, get_current_active_user\nfrom app.services.email import send_password_reset_email\nfrom app.services.auth import AuthService\n\nrouter = APIRouter()\n\n@router.post(\"/register\", response_model=UserResponse, status_code=status.HTTP_201_CREATED)\nasync def register(\n    user_data: UserRegister,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Register new user.\"\"\"\n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    # Check if user already exists\n    if await user_repo.get_by_email(user_data.email):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Email already registered\"\n        )\n    \n    if await user_repo.get_by_username(user_data.username):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Username already taken\"\n        )\n    \n    # Create user\n    user = await auth_service.create_user(user_data.dict())\n    return user\n\n@router.post(\"/login\", response_model=Token)\nasync def login(\n    form_data: OAuth2PasswordRequestForm = Depends(),\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"OAuth2 compatible token login.\"\"\"\n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    user = await auth_service.authenticate_user(\n        form_data.username, \n        form_data.password\n    )\n    \n    if not user:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Incorrect username or password\",\n            headers={\"WWW-Authenticate\": \"Bearer\"},\n        )\n    \n    if not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    \n    # Create tokens\n    access_token = create_access_token(subject=user.id)\n    refresh_token = create_refresh_token(subject=user.id)\n    \n    return {\n        \"access_token\": access_token,\n        \"refresh_token\": refresh_token,\n        \"token_type\": \"bearer\",\n        \"expires_in\": ACCESS_TOKEN_EXPIRE_MINUTES * 60\n    }\n\n@router.post(\"/refresh\", response_model=Token)\nasync def refresh_token(\n    refresh_data: RefreshToken,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Refresh access token.\"\"\"\n    payload = decode_token(refresh_data.refresh_token)\n    \n    if payload is None or payload.get(\"type\") != \"refresh\":\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    user_id = payload.get(\"sub\")\n    if user_id is None:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    user = await user_repo.get(int(user_id))\n    \n    if user is None or not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    # Create new tokens\n    access_token = create_access_token(subject=user.id)\n    new_refresh_token = create_refresh_token(subject=user.id)\n    \n    return {\n        \"access_token\": access_token,\n        \"refresh_token\": new_refresh_token,\n        \"token_type\": \"bearer\",\n        \"expires_in\": ACCESS_TOKEN_EXPIRE_MINUTES * 60\n    }\n\n@router.get(\"/me\", response_model=UserResponse)\nasync def read_users_me(\n    current_user: User = Depends(get_current_active_user)\n) -> Any:\n    \"\"\"Get current user.\"\"\"\n    return current_user\n\n@router.post(\"/change-password\", status_code=status.HTTP_200_OK)\nasync def change_password(\n    password_data: ChangePassword,\n    current_user: User = Depends(get_current_active_user),\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Change user password.\"\"\"\n    if not verify_password(password_data.current_password, current_user.hashed_password):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Incorrect current password\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    await auth_service.change_password(current_user.id, password_data.new_password)\n    \n    return {\"message\": \"Password changed successfully\"}\n\n@router.post(\"/password-reset\", status_code=status.HTTP_200_OK)\nasync def password_reset(\n    reset_data: PasswordReset,\n    background_tasks: BackgroundTasks,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Request password reset.\"\"\"\n    user_repo = UserRepository(User, db)\n    user = await user_repo.get_by_email(reset_data.email)\n    \n    if user:\n        # Generate reset token\n        reset_token = create_access_token(\n            subject=user.id,\n            expires_delta=timedelta(hours=1)  # 1 hour expiry\n        )\n        \n        # Send email with reset token\n        background_tasks.add_task(\n            send_password_reset_email,\n            email=user.email,\n            username=user.username,\n            token=reset_token\n        )\n    \n    # Always return success to prevent email enumeration\n    return {\"message\": \"Password reset email sent if account exists\"}\n\n@router.post(\"/password-reset-confirm\", status_code=status.HTTP_200_OK)\nasync def password_reset_confirm(\n    reset_data: PasswordResetConfirm,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Confirm password reset.\"\"\"\n    payload = decode_token(reset_data.token)\n    \n    if payload is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid or expired reset token\"\n        )\n    \n    user_id = payload.get(\"sub\")\n    if user_id is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid reset token\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    user = await user_repo.get(int(user_id))\n    if user is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid reset token\"\n        )\n    \n    await auth_service.change_password(user.id, reset_data.new_password)\n    \n    return {\"message\": \"Password reset successful\"}\n\n@router.post(\"/logout\", status_code=status.HTTP_200_OK)\nasync def logout(\n    current_user: User = Depends(get_current_user)\n) -> Any:\n    \"\"\"Logout user (invalidate token on client side).\"\"\"\n    # In a more sophisticated setup, you might want to blacklist the token\n    return {\"message\": \"Successfully logged out\"}\n```\n\n## Authentication Service\n\n```python\n# app/services/auth.py\nfrom typing import Optional\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.security import verify_password, get_password_hash\n\nclass AuthService:\n    \"\"\"Authentication service.\"\"\"\n    \n    def __init__(self, user_repository: UserRepository):\n        self.user_repo = user_repository\n    \n    async def authenticate_user(\n        self, \n        username_or_email: str, \n        password: str\n    ) -> Optional[User]:\n        \"\"\"Authenticate user by username/email and password.\"\"\"\n        # Try to get user by username first, then by email\n        user = await self.user_repo.get_by_username(username_or_email)\n        if not user:\n            user = await self.user_repo.get_by_email(username_or_email)\n        \n        if not user:\n            return None\n        \n        if not verify_password(password, user.hashed_password):\n            return None\n        \n        return user\n    \n    async def create_user(self, user_data: dict) -> User:\n        \"\"\"Create new user.\"\"\"\n        # Hash password\n        password = user_data.pop('password')\n        hashed_password = get_password_hash(password)\n        \n        # Create user data\n        user_create_data = {\n            **user_data,\n            'hashed_password': hashed_password,\n            'is_active': True,\n            'is_superuser': False\n        }\n        \n        return await self.user_repo.create(user_create_data)\n    \n    async def change_password(self, user_id: int, new_password: str) -> bool:\n        \"\"\"Change user password.\"\"\"\n        hashed_password = get_password_hash(new_password)\n        \n        result = await self.user_repo.update(user_id, {\n            'hashed_password': hashed_password\n        })\n        \n        return result is not None\n    \n    async def activate_user(self, user_id: int) -> bool:\n        \"\"\"Activate user account.\"\"\"\n        result = await self.user_repo.update(user_id, {'is_active': True})\n        return result is not None\n    \n    async def deactivate_user(self, user_id: int) -> bool:\n        \"\"\"Deactivate user account.\"\"\"\n        result = await self.user_repo.update(user_id, {'is_active': False})\n        return result is not None\n```\n\n## Role-Based Access Control\n\n```python\n# app/models/rbac.py\nfrom sqlalchemy import Column, String, Text, ForeignKey, Table\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\n\n# Association tables for many-to-many relationships\nuser_roles = Table(\n    'user_roles',\n    Base.metadata,\n    Column('user_id', Integer, ForeignKey('users.id')),\n    Column('role_id', Integer, ForeignKey('roles.id'))\n)\n\nrole_permissions = Table(\n    'role_permissions',\n    Base.metadata,\n    Column('role_id', Integer, ForeignKey('roles.id')),\n    Column('permission_id', Integer, ForeignKey('permissions.id'))\n)\n\nclass Role(BaseModel):\n    \"\"\"Role model for RBAC.\"\"\"\n    __tablename__ = \"roles\"\n    \n    name = Column(String(50), unique=True, nullable=False, index=True)\n    description = Column(Text)\n    \n    # Relationships\n    users = relationship(\"User\", secondary=user_roles, back_populates=\"roles\")\n    permissions = relationship(\"Permission\", secondary=role_permissions, back_populates=\"roles\")\n\nclass Permission(BaseModel):\n    \"\"\"Permission model for RBAC.\"\"\"\n    __tablename__ = \"permissions\"\n    \n    name = Column(String(100), unique=True, nullable=False, index=True)\n    description = Column(Text)\n    resource = Column(String(50), nullable=False)  # e.g., 'users', 'posts'\n    action = Column(String(50), nullable=False)    # e.g., 'create', 'read', 'update', 'delete'\n    \n    # Relationships\n    roles = relationship(\"Role\", secondary=role_permissions, back_populates=\"permissions\")\n\n# Update User model to include roles\nclass User(BaseModel):\n    # ... existing fields ...\n    \n    # Relationships\n    roles = relationship(\"Role\", secondary=user_roles, back_populates=\"users\")\n    \n    @property\n    def permissions(self) -> list[str]:\n        \"\"\"Get all permissions for user.\"\"\"\n        perms = set()\n        for role in self.roles:\n            for permission in role.permissions:\n                perms.add(f\"{permission.resource}:{permission.action}\")\n        return list(perms)\n```\n\n## OAuth2 Integration\n\n```python\n# app/api/v1/oauth.py\nfrom fastapi import APIRouter, Depends, HTTPException, status\nfrom fastapi.security.utils import get_authorization_scheme_param\nfrom starlette.requests import Request\nfrom authlib.integrations.starlette_client import OAuth\nfrom app.core.config import settings\n\nrouter = APIRouter()\n\n# OAuth configuration\noauth = OAuth()\n\n# Google OAuth\ngoogle = oauth.register(\n    name='google',\n    client_id=settings.GOOGLE_CLIENT_ID,\n    client_secret=settings.GOOGLE_CLIENT_SECRET,\n    server_metadata_url='https://accounts.google.com/.well-known/openid_configuration',\n    client_kwargs={\n        'scope': 'openid email profile'\n    }\n)\n\n# GitHub OAuth\ngithub = oauth.register(\n    name='github',\n    client_id=settings.GITHUB_CLIENT_ID,\n    client_secret=settings.GITHUB_CLIENT_SECRET,\n    access_token_url='https://github.com/login/oauth/access_token',\n    access_token_params=None,\n    authorize_url='https://github.com/login/oauth/authorize',\n    authorize_params=None,\n    api_base_url='https://api.github.com/',\n    client_kwargs={'scope': 'user:email'},\n)\n\n@router.get('/google')\nasync def google_login(request: Request):\n    \"\"\"Initiate Google OAuth login.\"\"\"\n    redirect_uri = request.url_for('google_callback')\n    return await google.authorize_redirect(request, redirect_uri)\n\n@router.get('/google/callback')\nasync def google_callback(request: Request):\n    \"\"\"Handle Google OAuth callback.\"\"\"\n    token = await google.authorize_access_token(request)\n    user_info = token.get('userinfo')\n    \n    if user_info:\n        # Create or get user\n        # Generate JWT token\n        # Return token\n        pass\n    \n    raise HTTPException(\n        status_code=status.HTTP_400_BAD_REQUEST,\n        detail=\"OAuth authentication failed\"\n    )\n```\n\n## API Key Authentication\n\n```python\n# app/models/api_key.py\nfrom sqlalchemy import Column, String, Boolean, ForeignKey, DateTime\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\nimport secrets\n\nclass APIKey(BaseModel):\n    \"\"\"API Key model.\"\"\"\n    __tablename__ = \"api_keys\"\n    \n    name = Column(String(100), nullable=False)\n    key_hash = Column(String(255), unique=True, nullable=False, index=True)\n    prefix = Column(String(10), nullable=False, index=True)\n    is_active = Column(Boolean, default=True, nullable=False)\n    expires_at = Column(DateTime)\n    last_used_at = Column(DateTime)\n    \n    # Foreign key\n    user_id = Column(Integer, ForeignKey(\"users.id\"), nullable=False)\n    \n    # Relationships\n    user = relationship(\"User\", back_populates=\"api_keys\")\n    \n    @classmethod\n    def generate_key(cls) -> tuple[str, str]:\n        \"\"\"Generate API key and return (key, hash).\"\"\"\n        key = secrets.token_urlsafe(32)\n        prefix = key[:8]\n        key_hash = get_password_hash(key)\n        return key, prefix, key_hash\n    \n    def verify_key(self, key: str) -> bool:\n        \"\"\"Verify API key.\"\"\"\n        return verify_password(key, self.key_hash)\n\n# Add to User model\nclass User(BaseModel):\n    # ... existing fields ...\n    \n    # Relationships\n    api_keys = relationship(\"APIKey\", back_populates=\"user\", cascade=\"all, delete-orphan\")\n```\n\n## Testing Authentication\n\n```python\n# tests/test_auth.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.core.security import create_access_token\n\n@pytest.mark.asyncio\nasync def test_register_user(client: AsyncClient):\n    \"\"\"Test user registration.\"\"\"\n    user_data = {\n        \"username\": \"testuser\",\n        \"email\": \"test@example.com\",\n        \"password\": \"testpass123\",\n        \"first_name\": \"Test\",\n        \"last_name\": \"User\"\n    }\n    \n    response = await client.post(\"/api/v1/auth/register\", json=user_data)\n    assert response.status_code == 201\n    \n    data = response.json()\n    assert data[\"username\"] == user_data[\"username\"]\n    assert data[\"email\"] == user_data[\"email\"]\n    assert \"hashed_password\" not in data\n\n@pytest.mark.asyncio\nasync def test_login_user(client: AsyncClient, test_user):\n    \"\"\"Test user login.\"\"\"\n    login_data = {\n        \"username\": test_user.username,\n        \"password\": \"testpass123\"\n    }\n    \n    response = await client.post(\n        \"/api/v1/auth/login\", \n        data=login_data,\n        headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n    )\n    \n    assert response.status_code == 200\n    \n    data = response.json()\n    assert \"access_token\" in data\n    assert \"refresh_token\" in data\n    assert data[\"token_type\"] == \"bearer\"\n\n@pytest.mark.asyncio\nasync def test_get_current_user(client: AsyncClient, test_user):\n    \"\"\"Test get current user endpoint.\"\"\"\n    token = create_access_token(subject=test_user.id)\n    headers = {\"Authorization\": f\"Bearer {token}\"}\n    \n    response = await client.get(\"/api/v1/auth/me\", headers=headers)\n    assert response.status_code == 200\n    \n    data = response.json()\n    assert data[\"username\"] == test_user.username\n    assert data[\"email\"] == test_user.email\n```\n"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# FastAPI Database Integration\n\nComplete database setup with SQLAlchemy, Alembic, and async support for FastAPI.\n\n## Usage\n\n```bash\n# Initialize Alembic\nalembic init alembic\n\n# Create migration\nalembic revision --autogenerate -m \"Initial migration\"\n\n# Apply migrations\nalembic upgrade head\n\n# Downgrade migration\nalembic downgrade -1\n```\n\n## Database Configuration\n\n```python\n# app/core/config.py\nfrom pydantic import BaseSettings, PostgresDsn, validator\nfrom typing import Optional, Dict, Any\nimport os\n\nclass Settings(BaseSettings):\n    \"\"\"Application settings.\"\"\"\n    \n    # Database\n    POSTGRES_SERVER: str = \"localhost\"\n    POSTGRES_USER: str = \"postgres\"\n    POSTGRES_PASSWORD: str = \"password\"\n    POSTGRES_DB: str = \"fastapi_app\"\n    POSTGRES_PORT: str = \"5432\"\n    DATABASE_URL: Optional[PostgresDsn] = None\n    \n    @validator(\"DATABASE_URL\", pre=True)\n    def assemble_db_connection(cls, v: Optional[str], values: Dict[str, Any]) -> Any:\n        if isinstance(v, str):\n            return v\n        return PostgresDsn.build(\n            scheme=\"postgresql+asyncpg\",\n            user=values.get(\"POSTGRES_USER\"),\n            password=values.get(\"POSTGRES_PASSWORD\"),\n            host=values.get(\"POSTGRES_SERVER\"),\n            port=values.get(\"POSTGRES_PORT\"),\n            path=f\"/{values.get('POSTGRES_DB') or ''}\",\n        )\n    \n    # Redis\n    REDIS_URL: str = \"redis://localhost:6379/0\"\n    \n    # Database settings\n    DATABASE_POOL_SIZE: int = 10\n    DATABASE_MAX_OVERFLOW: int = 20\n    DATABASE_POOL_RECYCLE: int = 3600\n    \n    class Config:\n        env_file = \".env\"\n        case_sensitive = True\n\nsettings = Settings()\n```\n\n## Database Setup\n\n```python\n# app/db/database.py\nfrom sqlalchemy.ext.asyncio import AsyncSession, create_async_engine\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy.orm import sessionmaker\nfrom app.core.config import settings\n\n# Create async engine\nengine = create_async_engine(\n    str(settings.DATABASE_URL),\n    pool_size=settings.DATABASE_POOL_SIZE,\n    max_overflow=settings.DATABASE_MAX_OVERFLOW,\n    pool_recycle=settings.DATABASE_POOL_RECYCLE,\n    pool_pre_ping=True,\n    echo=False  # Set to True for SQL debugging\n)\n\n# Create async session factory\nAsyncSessionLocal = sessionmaker(\n    engine, class_=AsyncSession, expire_on_commit=False\n)\n\n# Base class for models\nBase = declarative_base()\n\nasync def get_db() -> AsyncSession:\n    \"\"\"Dependency to get database session.\"\"\"\n    async with AsyncSessionLocal() as session:\n        try:\n            yield session\n        finally:\n            await session.close()\n\nasync def create_tables():\n    \"\"\"Create database tables.\"\"\"\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n\nasync def drop_tables():\n    \"\"\"Drop database tables.\"\"\"\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n```\n\n## Base Model\n\n```python\n# app/models/base.py\nfrom sqlalchemy import Column, Integer, DateTime, func\nfrom sqlalchemy.ext.declarative import declared_attr\nfrom app.db.database import Base\nfrom datetime import datetime\nfrom typing import Any\n\nclass TimestampMixin:\n    \"\"\"Mixin for timestamp fields.\"\"\"\n    created_at = Column(DateTime(timezone=True), server_default=func.now(), nullable=False)\n    updated_at = Column(\n        DateTime(timezone=True),\n        server_default=func.now(),\n        onupdate=func.now(),\n        nullable=False\n    )\n\nclass BaseModel(Base, TimestampMixin):\n    \"\"\"Base model with common functionality.\"\"\"\n    __abstract__ = True\n    \n    id = Column(Integer, primary_key=True, index=True)\n    \n    @declared_attr\n    def __tablename__(cls) -> str:\n        return cls.__name__.lower()\n    \n    def dict(self, exclude: set = None) -> dict[str, Any]:\n        \"\"\"Convert model to dictionary.\"\"\"\n        exclude = exclude or set()\n        return {\n            column.name: getattr(self, column.name)\n            for column in self.__table__.columns\n            if column.name not in exclude\n        }\n    \n    def __repr__(self) -> str:\n        return f\"<{self.__class__.__name__}(id={self.id})>\"\n```\n\n## Example Models\n\n```python\n# app/models/user.py\nfrom sqlalchemy import Column, String, Boolean, Text, Index\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\nfrom passlib.context import CryptContext\n\npwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\nclass User(BaseModel):\n    \"\"\"User model.\"\"\"\n    __tablename__ = \"users\"\n    \n    username = Column(String(50), unique=True, index=True, nullable=False)\n    email = Column(String(100), unique=True, index=True, nullable=False)\n    hashed_password = Column(String(255), nullable=False)\n    first_name = Column(String(50), nullable=False)\n    last_name = Column(String(50), nullable=False)\n    is_active = Column(Boolean, default=True, nullable=False)\n    is_superuser = Column(Boolean, default=False, nullable=False)\n    bio = Column(Text)\n    \n    # Relationships\n    posts = relationship(\"Post\", back_populates=\"author\", cascade=\"all, delete-orphan\")\n    \n    # Indexes\n    __table_args__ = (\n        Index('idx_user_email_active', email, is_active),\n        Index('idx_user_username_active', username, is_active),\n    )\n    \n    def verify_password(self, password: str) -> bool:\n        \"\"\"Verify password against hash.\"\"\"\n        return pwd_context.verify(password, self.hashed_password)\n    \n    @staticmethod\n    def get_password_hash(password: str) -> str:\n        \"\"\"Generate password hash.\"\"\"\n        return pwd_context.hash(password)\n    \n    def set_password(self, password: str) -> None:\n        \"\"\"Set user password.\"\"\"\n        self.hashed_password = self.get_password_hash(password)\n    \n    @property\n    def full_name(self) -> str:\n        \"\"\"Get user's full name.\"\"\"\n        return f\"{self.first_name} {self.last_name}\"\n    \n    def dict(self, exclude: set = None) -> dict:\n        \"\"\"Convert to dict excluding sensitive data.\"\"\"\n        exclude = exclude or set()\n        exclude.add('hashed_password')\n        return super().dict(exclude=exclude)\n\n# app/models/post.py\nfrom sqlalchemy import Column, String, Text, ForeignKey, Boolean, Index\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\n\nclass Post(BaseModel):\n    \"\"\"Blog post model.\"\"\"\n    __tablename__ = \"posts\"\n    \n    title = Column(String(200), nullable=False, index=True)\n    content = Column(Text, nullable=False)\n    slug = Column(String(200), unique=True, nullable=False, index=True)\n    is_published = Column(Boolean, default=False, nullable=False)\n    \n    # Foreign keys\n    author_id = Column(Integer, ForeignKey(\"users.id\"), nullable=False)\n    \n    # Relationships\n    author = relationship(\"User\", back_populates=\"posts\")\n    \n    # Indexes\n    __table_args__ = (\n        Index('idx_post_published_created', is_published, 'created_at'),\n        Index('idx_post_author_published', author_id, is_published),\n    )\n```\n\n## Repository Pattern\n\n```python\n# app/repositories/base.py\nfrom typing import Generic, TypeVar, Type, Optional, List, Dict, Any\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import select, update, delete, func\nfrom sqlalchemy.orm import selectinload\nfrom app.models.base import BaseModel\n\nModelType = TypeVar(\"ModelType\", bound=BaseModel)\n\nclass BaseRepository(Generic[ModelType]):\n    \"\"\"Base repository with common CRUD operations.\"\"\"\n    \n    def __init__(self, model: Type[ModelType], db: AsyncSession):\n        self.model = model\n        self.db = db\n    \n    async def get(self, id: int) -> Optional[ModelType]:\n        \"\"\"Get model by ID.\"\"\"\n        result = await self.db.execute(\n            select(self.model).where(self.model.id == id)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_multi(\n        self, \n        skip: int = 0, \n        limit: int = 100,\n        filters: Dict[str, Any] = None\n    ) -> List[ModelType]:\n        \"\"\"Get multiple models with pagination.\"\"\"\n        query = select(self.model)\n        \n        if filters:\n            for field, value in filters.items():\n                if hasattr(self.model, field):\n                    query = query.where(getattr(self.model, field) == value)\n        \n        query = query.offset(skip).limit(limit)\n        result = await self.db.execute(query)\n        return result.scalars().all()\n    \n    async def create(self, obj_in: Dict[str, Any]) -> ModelType:\n        \"\"\"Create new model.\"\"\"\n        db_obj = self.model(**obj_in)\n        self.db.add(db_obj)\n        await self.db.commit()\n        await self.db.refresh(db_obj)\n        return db_obj\n    \n    async def update(\n        self, \n        id: int, \n        obj_in: Dict[str, Any]\n    ) -> Optional[ModelType]:\n        \"\"\"Update model by ID.\"\"\"\n        await self.db.execute(\n            update(self.model)\n            .where(self.model.id == id)\n            .values(**obj_in)\n        )\n        await self.db.commit()\n        return await self.get(id)\n    \n    async def delete(self, id: int) -> bool:\n        \"\"\"Delete model by ID.\"\"\"\n        result = await self.db.execute(\n            delete(self.model).where(self.model.id == id)\n        )\n        await self.db.commit()\n        return result.rowcount > 0\n    \n    async def count(self, filters: Dict[str, Any] = None) -> int:\n        \"\"\"Count models with optional filters.\"\"\"\n        query = select(func.count(self.model.id))\n        \n        if filters:\n            for field, value in filters.items():\n                if hasattr(self.model, field):\n                    query = query.where(getattr(self.model, field) == value)\n        \n        result = await self.db.execute(query)\n        return result.scalar()\n\n# app/repositories/user.py\nfrom typing import Optional\nfrom sqlalchemy import select\nfrom app.models.user import User\nfrom app.repositories.base import BaseRepository\n\nclass UserRepository(BaseRepository[User]):\n    \"\"\"User repository with custom methods.\"\"\"\n    \n    async def get_by_email(self, email: str) -> Optional[User]:\n        \"\"\"Get user by email.\"\"\"\n        result = await self.db.execute(\n            select(User).where(User.email == email)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_by_username(self, username: str) -> Optional[User]:\n        \"\"\"Get user by username.\"\"\"\n        result = await self.db.execute(\n            select(User).where(User.username == username)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_active_users(self, skip: int = 0, limit: int = 100):\n        \"\"\"Get active users.\"\"\"\n        return await self.get_multi(\n            skip=skip, \n            limit=limit, \n            filters={'is_active': True}\n        )\n```\n\n## Alembic Configuration\n\n```python\n# alembic/env.py\nfrom logging.config import fileConfig\nfrom sqlalchemy import engine_from_config, pool\nfrom sqlalchemy.ext.asyncio import AsyncEngine\nfrom alembic import context\nimport asyncio\n\n# Import your models\nfrom app.models.base import Base\nfrom app.models.user import User\nfrom app.models.post import Post\nfrom app.core.config import settings\n\n# Alembic Config object\nconfig = context.config\n\n# Override database URL\nconfig.set_main_option(\"sqlalchemy.url\", str(settings.DATABASE_URL))\n\n# Interpret the config file for logging\nif config.config_file_name is not None:\n    fileConfig(config.config_file_name)\n\n# Add your model's MetaData object here\ntarget_metadata = Base.metadata\n\ndef do_run_migrations(connection):\n    context.configure(\n        connection=connection,\n        target_metadata=target_metadata,\n        compare_type=True,\n        compare_server_default=True,\n    )\n    \n    with context.begin_transaction():\n        context.run_migrations()\n\nasync def run_migrations_online():\n    \"\"\"Run migrations in 'online' mode.\"\"\"\n    configuration = config.get_section(config.config_ini_section)\n    configuration[\"sqlalchemy.url\"] = str(settings.DATABASE_URL)\n    \n    connectable = AsyncEngine(\n        engine_from_config(\n            configuration,\n            prefix=\"sqlalchemy.\",\n            poolclass=pool.NullPool,\n        )\n    )\n    \n    async with connectable.connect() as connection:\n        await connection.run_sync(do_run_migrations)\n    \n    await connectable.dispose()\n\nif context.is_offline_mode():\n    run_migrations_offline()\nelse:\n    asyncio.run(run_migrations_online())\n```\n\n## Database Utilities\n\n```python\n# app/db/utils.py\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import text\nfrom app.db.database import engine, AsyncSessionLocal\nfrom app.core.config import settings\nimport asyncio\n\nasync def check_database_connection() -> bool:\n    \"\"\"Check if database is accessible.\"\"\"\n    try:\n        async with AsyncSessionLocal() as session:\n            await session.execute(text(\"SELECT 1\"))\n            return True\n    except Exception:\n        return False\n\nasync def create_database_if_not_exists():\n    \"\"\"Create database if it doesn't exist.\"\"\"\n    # This is PostgreSQL specific\n    import asyncpg\n    from urllib.parse import urlparse\n    \n    url = urlparse(str(settings.DATABASE_URL))\n    \n    try:\n        # Connect to postgres database to create our database\n        conn = await asyncpg.connect(\n            host=url.hostname,\n            port=url.port,\n            user=url.username,\n            password=url.password,\n            database='postgres'\n        )\n        \n        # Check if database exists\n        exists = await conn.fetchval(\n            \"SELECT 1 FROM pg_database WHERE datname = $1\",\n            url.path[1:]  # Remove leading slash\n        )\n        \n        if not exists:\n            await conn.execute(f'CREATE DATABASE \"{url.path[1:]}\"')\n            print(f\"Database {url.path[1:]} created.\")\n        \n        await conn.close()\n        \n    except Exception as e:\n        print(f\"Error creating database: {e}\")\n\nasync def execute_raw_sql(sql: str, params: dict = None) -> list:\n    \"\"\"Execute raw SQL query.\"\"\"\n    async with AsyncSessionLocal() as session:\n        result = await session.execute(text(sql), params or {})\n        return result.fetchall()\n\nasync def get_table_info(table_name: str) -> dict:\n    \"\"\"Get information about a table.\"\"\"\n    sql = \"\"\"\n    SELECT \n        column_name,\n        data_type,\n        is_nullable,\n        column_default\n    FROM information_schema.columns \n    WHERE table_name = :table_name\n    ORDER BY ordinal_position;\n    \"\"\"\n    \n    result = await execute_raw_sql(sql, {'table_name': table_name})\n    return [\n        {\n            'column_name': row[0],\n            'data_type': row[1],\n            'is_nullable': row[2],\n            'column_default': row[3]\n        }\n        for row in result\n    ]\n```\n\n## Database Initialization\n\n```python\n# app/db/init_db.py\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.db.database import get_db, create_tables\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.config import settings\nimport asyncio\n\nasync def init_db() -> None:\n    \"\"\"Initialize database with tables and default data.\"\"\"\n    # Create tables\n    await create_tables()\n    print(\"Database tables created.\")\n    \n    # Create default superuser\n    async with AsyncSessionLocal() as session:\n        user_repo = UserRepository(User, session)\n        \n        # Check if superuser exists\n        existing_user = await user_repo.get_by_email(\"admin@example.com\")\n        \n        if not existing_user:\n            superuser_data = {\n                \"username\": \"admin\",\n                \"email\": \"admin@example.com\",\n                \"first_name\": \"Admin\",\n                \"last_name\": \"User\",\n                \"is_superuser\": True,\n                \"is_active\": True\n            }\n            \n            superuser = User(**superuser_data)\n            superuser.set_password(\"admin123\")\n            \n            session.add(superuser)\n            await session.commit()\n            print(\"Superuser created.\")\n        else:\n            print(\"Superuser already exists.\")\n\nif __name__ == \"__main__\":\n    asyncio.run(init_db())\n```\n\n## Testing Database\n\n```python\n# tests/conftest.py\nimport pytest\nimport asyncio\nfrom sqlalchemy.ext.asyncio import create_async_engine, AsyncSession\nfrom sqlalchemy.orm import sessionmaker\nfrom app.db.database import Base, get_db\nfrom app.main import app\nimport pytest_asyncio\n\n# Test database URL\nTEST_DATABASE_URL = \"sqlite+aiosqlite:///./test.db\"\n\n@pytest.fixture(scope=\"session\")\ndef event_loop():\n    \"\"\"Create event loop for async tests.\"\"\"\n    loop = asyncio.get_event_loop_policy().new_event_loop()\n    yield loop\n    loop.close()\n\n@pytest_asyncio.fixture(scope=\"session\")\nasync def test_engine():\n    \"\"\"Create test database engine.\"\"\"\n    engine = create_async_engine(TEST_DATABASE_URL, echo=False)\n    \n    # Create tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n    \n    yield engine\n    \n    # Drop tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n    \n    await engine.dispose()\n\n@pytest_asyncio.fixture\nasync def test_session(test_engine):\n    \"\"\"Create test database session.\"\"\"\n    TestSessionLocal = sessionmaker(\n        test_engine, class_=AsyncSession, expire_on_commit=False\n    )\n    \n    async with TestSessionLocal() as session:\n        yield session\n\n@pytest.fixture\ndef override_get_db(test_session):\n    \"\"\"Override database dependency.\"\"\"\n    async def _override_get_db():\n        yield test_session\n    \n    app.dependency_overrides[get_db] = _override_get_db\n    yield\n    app.dependency_overrides = {}\n```\n\n## Database Health Check\n\n```python\n# app/api/health.py\nfrom fastapi import APIRouter, Depends, HTTPException\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import text\nfrom app.db.database import get_db\nimport time\n\nrouter = APIRouter()\n\n@router.get(\"/health\")\nasync def health_check(db: AsyncSession = Depends(get_db)):\n    \"\"\"Health check endpoint.\"\"\"\n    checks = {\n        \"status\": \"healthy\",\n        \"timestamp\": time.time(),\n        \"database\": await check_database_health(db),\n    }\n    \n    # Determine overall status\n    if checks[\"database\"][\"status\"] != \"ok\":\n        checks[\"status\"] = \"unhealthy\"\n        raise HTTPException(status_code=503, detail=checks)\n    \n    return checks\n\nasync def check_database_health(db: AsyncSession) -> dict:\n    \"\"\"Check database connection.\"\"\"\n    try:\n        start_time = time.time()\n        await db.execute(text(\"SELECT 1\"))\n        response_time = (time.time() - start_time) * 1000  # milliseconds\n        \n        return {\n            \"status\": \"ok\",\n            \"response_time_ms\": round(response_time, 2)\n        }\n    except Exception as e:\n        return {\n            \"status\": \"error\",\n            \"error\": str(e)\n        }\n```\n"
              },
              {
                "name": "/deployment",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/deployment.md",
                "frontmatter": null,
                "content": "# FastAPI Deployment\n\nBasic production deployment setup for FastAPI applications.\n\n## Usage\n\n```bash\n# Run with Uvicorn\nuvicorn app.main:app --host 0.0.0.0 --port 8000 --workers 4\n\n# Docker deployment\ndocker build -t fastapi-app .\ndocker run -p 8000:8000 fastapi-app\n```\n\n## Production Configuration\n\n```python\n# app/core/config.py\nfrom pydantic import BaseSettings\nimport os\n\nclass Settings(BaseSettings):\n    \"\"\"Production settings.\"\"\"\n    \n    # App\n    PROJECT_NAME: str = \"FastAPI App\"\n    VERSION: str = \"1.0.0\"\n    SECRET_KEY: str = os.getenv(\"SECRET_KEY\", \"dev-key\")\n    \n    # Server\n    HOST: str = \"0.0.0.0\"\n    PORT: int = 8000\n    WORKERS: int = 4\n    \n    # Database\n    DATABASE_URL: str = os.getenv(\"DATABASE_URL\", \"sqlite:///./app.db\")\n    \n    # Redis\n    REDIS_URL: str = os.getenv(\"REDIS_URL\", \"redis://localhost:6379\")\n    \n    class Config:\n        env_file = \".env\"\n\nsettings = Settings()\n```\n\n## Docker Setup\n\n```dockerfile\n# Dockerfile\nFROM python:3.11-slim\n\nWORKDIR /app\n\n# Install dependencies\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy app\nCOPY . .\n\n# Create non-root user\nRUN useradd -m appuser && chown -R appuser:appuser /app\nUSER appuser\n\nEXPOSE 8000\n\n# Health check\nHEALTHCHECK CMD curl -f http://localhost:8000/health || exit 1\n\nCMD [\"uvicorn\", \"app.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n```\n\n## Docker Compose\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\n\nservices:\n  app:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - DATABASE_URL=postgresql://user:pass@db:5432/fastapi_db\n      - REDIS_URL=redis://redis:6379\n    depends_on:\n      - db\n      - redis\n\n  db:\n    image: postgres:15\n    environment:\n      POSTGRES_DB: fastapi_db\n      POSTGRES_USER: user\n      POSTGRES_PASSWORD: password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\n  redis:\n    image: redis:7-alpine\n    volumes:\n      - redis_data:/data\n\nvolumes:\n  postgres_data:\n  redis_data:\n```\n\n## Environment Variables\n\n```bash\n# .env\nSECRET_KEY=your-secret-key\nDATABASE_URL=postgresql://user:pass@localhost/fastapi_db\nREDIS_URL=redis://localhost:6379\n```\n\n## Health Check\n\n```python\n# app/api/health.py\nfrom fastapi import APIRouter\nfrom app.core.config import settings\n\nrouter = APIRouter()\n\n@router.get(\"/health\")\nasync def health_check():\n    return {\n        \"status\": \"healthy\",\n        \"version\": settings.VERSION\n    }\n```\n\n## Deployment Script\n\n```bash\n#!/bin/bash\n# deploy.sh\n\nset -e\n\necho \"Deploying FastAPI app...\"\n\n# Build and deploy\ndocker-compose build\ndocker-compose up -d\n\n# Health check\necho \"Checking health...\"\nif curl -f http://localhost:8000/health; then\n    echo \"‚úÖ Deployment successful!\"\nelse\n    echo \"‚ùå Deployment failed!\"\n    exit 1\nfi\n```\n"
              },
              {
                "name": "/testing",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/testing.md",
                "frontmatter": null,
                "content": "# FastAPI Testing Framework\n\nComprehensive testing setup for FastAPI applications with pytest and async support.\n\n## Usage\n\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=app --cov-report=html\n\n# Run specific test file\npytest tests/test_api.py\n\n# Run with verbose output\npytest -v -s\n```\n\n## Test Configuration\n\n```python\n# pytest.ini\n[tool:pytest]\ntestpaths = tests\npython_files = test_*.py\npython_classes = Test*\npython_functions = test_*\naddopts = \n    --cov=app\n    --cov-report=term-missing\n    --cov-report=html:htmlcov\n    --asyncio-mode=auto\n    --strict-markers\n    --disable-warnings\nmarkers =\n    unit: Unit tests\n    integration: Integration tests\n    e2e: End-to-end tests\n    slow: Slow running tests\n    auth: Authentication tests\n    api: API tests\nasyncio_mode = auto\n```\n\n## Test Dependencies\n\n```python\n# requirements/test.txt\npytest>=7.0.0\npytest-asyncio>=0.21.0\npytest-cov>=4.0.0\nhttpx>=0.24.0\nfactory-boy>=3.2.0\nfaker>=18.0.0\nrespx>=0.20.0\npytest-mock>=3.10.0\n```\n\n## Test Fixtures\n\n```python\n# tests/conftest.py\nimport pytest\nimport asyncio\nfrom typing import AsyncGenerator, Generator\nfrom fastapi.testclient import TestClient\nfrom httpx import AsyncClient\nfrom sqlalchemy.ext.asyncio import create_async_engine, AsyncSession\nfrom sqlalchemy.orm import sessionmaker\nfrom app.main import app\nfrom app.db.database import get_db, Base\nfrom app.models.user import User\nfrom app.core.security import get_password_hash\nfrom tests.factories import UserFactory\n\n# Test database URL\nTEST_DATABASE_URL = \"sqlite+aiosqlite:///./test.db\"\n\n@pytest.fixture(scope=\"session\")\ndef event_loop() -> Generator[asyncio.AbstractEventLoop, None, None]:\n    \"\"\"Create event loop for the test session.\"\"\"\n    loop = asyncio.get_event_loop_policy().new_event_loop()\n    yield loop\n    loop.close()\n\n@pytest.fixture(scope=\"session\")\nasync def test_engine():\n    \"\"\"Create test database engine.\"\"\"\n    engine = create_async_engine(\n        TEST_DATABASE_URL,\n        echo=False,\n        future=True\n    )\n    \n    # Create tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n    \n    yield engine\n    \n    # Drop tables and dispose engine\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n    \n    await engine.dispose()\n\n@pytest.fixture\nasync def db_session(test_engine) -> AsyncGenerator[AsyncSession, None]:\n    \"\"\"Create database session for testing.\"\"\"\n    TestSessionLocal = sessionmaker(\n        test_engine, \n        class_=AsyncSession, \n        expire_on_commit=False\n    )\n    \n    async with TestSessionLocal() as session:\n        yield session\n\n@pytest.fixture\ndef override_get_db(db_session: AsyncSession) -> Generator:\n    \"\"\"Override database dependency.\"\"\"\n    async def _override_get_db():\n        yield db_session\n    \n    app.dependency_overrides[get_db] = _override_get_db\n    yield\n    app.dependency_overrides = {}\n\n@pytest.fixture\ndef client(override_get_db) -> Generator[TestClient, None, None]:\n    \"\"\"Create test client.\"\"\"\n    with TestClient(app) as test_client:\n        yield test_client\n\n@pytest.fixture\nasync def async_client(override_get_db) -> AsyncGenerator[AsyncClient, None]:\n    \"\"\"Create async test client.\"\"\"\n    async with AsyncClient(app=app, base_url=\"http://test\") as ac:\n        yield ac\n\n@pytest.fixture\nasync def test_user(db_session: AsyncSession) -> User:\n    \"\"\"Create test user.\"\"\"\n    user_data = {\n        \"username\": \"testuser\",\n        \"email\": \"test@example.com\",\n        \"hashed_password\": get_password_hash(\"testpass123\"),\n        \"first_name\": \"Test\",\n        \"last_name\": \"User\",\n        \"is_active\": True,\n        \"is_superuser\": False\n    }\n    \n    user = User(**user_data)\n    db_session.add(user)\n    await db_session.commit()\n    await db_session.refresh(user)\n    return user\n\n@pytest.fixture\nasync def superuser(db_session: AsyncSession) -> User:\n    \"\"\"Create superuser.\"\"\"\n    user_data = {\n        \"username\": \"admin\",\n        \"email\": \"admin@example.com\",\n        \"hashed_password\": get_password_hash(\"adminpass123\"),\n        \"first_name\": \"Admin\",\n        \"last_name\": \"User\",\n        \"is_active\": True,\n        \"is_superuser\": True\n    }\n    \n    user = User(**user_data)\n    db_session.add(user)\n    await db_session.commit()\n    await db_session.refresh(user)\n    return user\n\n@pytest.fixture\ndef user_token(test_user: User) -> str:\n    \"\"\"Create authentication token for test user.\"\"\"\n    from app.core.security import create_access_token\n    return create_access_token(subject=test_user.id)\n\n@pytest.fixture\ndef superuser_token(superuser: User) -> str:\n    \"\"\"Create authentication token for superuser.\"\"\"\n    from app.core.security import create_access_token\n    return create_access_token(subject=superuser.id)\n\n@pytest.fixture\ndef auth_headers(user_token: str) -> dict[str, str]:\n    \"\"\"Create authorization headers.\"\"\"\n    return {\"Authorization\": f\"Bearer {user_token}\"}\n\n@pytest.fixture\ndef superuser_headers(superuser_token: str) -> dict[str, str]:\n    \"\"\"Create superuser authorization headers.\"\"\"\n    return {\"Authorization\": f\"Bearer {superuser_token}\"}\n```\n\n## Test Factories\n\n```python\n# tests/factories.py\nimport factory\nfrom factory import Faker, SubFactory\nfrom app.models.user import User\nfrom app.models.post import Post\nfrom app.core.security import get_password_hash\n\nclass UserFactory(factory.Factory):\n    \"\"\"Factory for User model.\"\"\"\n    \n    class Meta:\n        model = User\n    \n    username = Faker('user_name')\n    email = Faker('email')\n    first_name = Faker('first_name')\n    last_name = Faker('last_name')\n    hashed_password = factory.LazyAttribute(lambda obj: get_password_hash('testpass123'))\n    is_active = True\n    is_superuser = False\n    bio = Faker('text', max_nb_chars=200)\n\nclass SuperUserFactory(UserFactory):\n    \"\"\"Factory for superuser.\"\"\"\n    username = 'admin'\n    email = 'admin@example.com'\n    first_name = 'Admin'\n    last_name = 'User'\n    is_superuser = True\n\nclass PostFactory(factory.Factory):\n    \"\"\"Factory for Post model.\"\"\"\n    \n    class Meta:\n        model = Post\n    \n    title = Faker('sentence', nb_words=4)\n    content = Faker('text', max_nb_chars=1000)\n    slug = Faker('slug')\n    is_published = True\n    author = SubFactory(UserFactory)\n\nclass InactiveUserFactory(UserFactory):\n    \"\"\"Factory for inactive user.\"\"\"\n    is_active = False\n```\n\n## API Testing\n\n```python\n# tests/test_api/test_users.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom tests.factories import UserFactory\n\nclass TestUserAPI:\n    \"\"\"Test User API endpoints.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(\n        self, \n        async_client: AsyncClient, \n        superuser_headers: dict\n    ):\n        \"\"\"Test POST /api/v1/users/.\"\"\"\n        user_data = {\n            \"username\": \"newuser\",\n            \"email\": \"new@example.com\",\n            \"password\": \"newpass123\",\n            \"first_name\": \"New\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/users/\",\n            json=user_data,\n            headers=superuser_headers\n        )\n        \n        assert response.status_code == 201\n        data = response.json()\n        assert data[\"username\"] == user_data[\"username\"]\n        assert data[\"email\"] == user_data[\"email\"]\n        assert \"password\" not in data\n        assert \"hashed_password\" not in data\n    \n    @pytest.mark.asyncio\n    async def test_get_users(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test GET /api/v1/users/.\"\"\"\n        response = await async_client.get(\n            \"/api/v1/users/\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"items\" in data\n        assert \"total\" in data\n        assert \"page\" in data\n        assert \"size\" in data\n        assert len(data[\"items\"]) >= 1\n    \n    @pytest.mark.asyncio\n    async def test_get_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test GET /api/v1/users/{id}.\"\"\"\n        response = await async_client.get(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"id\"] == test_user.id\n        assert data[\"username\"] == test_user.username\n        assert data[\"email\"] == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_update_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test PUT /api/v1/users/{id}.\"\"\"\n        update_data = {\n            \"first_name\": \"Updated\",\n            \"last_name\": \"Name\",\n            \"bio\": \"Updated bio\"\n        }\n        \n        response = await async_client.put(\n            f\"/api/v1/users/{test_user.id}\",\n            json=update_data,\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"first_name\"] == update_data[\"first_name\"]\n        assert data[\"last_name\"] == update_data[\"last_name\"]\n        assert data[\"bio\"] == update_data[\"bio\"]\n    \n    @pytest.mark.asyncio\n    async def test_delete_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        superuser_headers: dict\n    ):\n        \"\"\"Test DELETE /api/v1/users/{id}.\"\"\"\n        response = await async_client.delete(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=superuser_headers\n        )\n        \n        assert response.status_code == 204\n        \n        # Verify user is deleted\n        get_response = await async_client.get(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=superuser_headers\n        )\n        assert get_response.status_code == 404\n    \n    @pytest.mark.asyncio\n    async def test_unauthorized_access(self, async_client: AsyncClient):\n        \"\"\"Test unauthorized access to protected endpoints.\"\"\"\n        response = await async_client.get(\"/api/v1/users/\")\n        assert response.status_code == 401\n    \n    @pytest.mark.asyncio\n    async def test_forbidden_access(\n        self, \n        async_client: AsyncClient, \n        auth_headers: dict\n    ):\n        \"\"\"Test forbidden access to admin endpoints.\"\"\"\n        user_data = {\n            \"username\": \"unauthorized\",\n            \"email\": \"unauthorized@example.com\",\n            \"password\": \"pass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/users/\",\n            json=user_data,\n            headers=auth_headers  # Regular user, not superuser\n        )\n        \n        assert response.status_code == 403\n```\n\n## Authentication Testing\n\n```python\n# tests/test_api/test_auth.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom app.core.security import create_access_token, decode_token\n\nclass TestAuthAPI:\n    \"\"\"Test authentication API endpoints.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_register(\n        self, \n        async_client: AsyncClient\n    ):\n        \"\"\"Test user registration.\"\"\"\n        user_data = {\n            \"username\": \"newuser\",\n            \"email\": \"new@example.com\",\n            \"password\": \"newpass123\",\n            \"first_name\": \"New\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/register\",\n            json=user_data\n        )\n        \n        assert response.status_code == 201\n        data = response.json()\n        assert data[\"username\"] == user_data[\"username\"]\n        assert data[\"email\"] == user_data[\"email\"]\n        assert \"password\" not in data\n    \n    @pytest.mark.asyncio\n    async def test_register_duplicate_email(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test registration with duplicate email.\"\"\"\n        user_data = {\n            \"username\": \"different\",\n            \"email\": test_user.email,  # Duplicate email\n            \"password\": \"pass123\",\n            \"first_name\": \"Test\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/register\",\n            json=user_data\n        )\n        \n        assert response.status_code == 400\n        assert \"Email already registered\" in response.json()[\"detail\"]\n    \n    @pytest.mark.asyncio\n    async def test_login(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test user login.\"\"\"\n        login_data = {\n            \"username\": test_user.username,\n            \"password\": \"testpass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/login\",\n            data=login_data,\n            headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"access_token\" in data\n        assert \"refresh_token\" in data\n        assert data[\"token_type\"] == \"bearer\"\n        assert \"expires_in\" in data\n        \n        # Verify token is valid\n        payload = decode_token(data[\"access_token\"])\n        assert payload is not None\n        assert payload[\"sub\"] == str(test_user.id)\n    \n    @pytest.mark.asyncio\n    async def test_login_invalid_credentials(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test login with invalid credentials.\"\"\"\n        login_data = {\n            \"username\": test_user.username,\n            \"password\": \"wrongpassword\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/login\",\n            data=login_data,\n            headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n        )\n        \n        assert response.status_code == 401\n        assert \"Incorrect username or password\" in response.json()[\"detail\"]\n    \n    @pytest.mark.asyncio\n    async def test_get_current_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test get current user endpoint.\"\"\"\n        response = await async_client.get(\n            \"/api/v1/auth/me\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"id\"] == test_user.id\n        assert data[\"username\"] == test_user.username\n        assert data[\"email\"] == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_refresh_token(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test token refresh.\"\"\"\n        from app.core.security import create_refresh_token\n        \n        refresh_token = create_refresh_token(subject=test_user.id)\n        \n        response = await async_client.post(\n            \"/api/v1/auth/refresh\",\n            json={\"refresh_token\": refresh_token}\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"access_token\" in data\n        assert \"refresh_token\" in data\n        assert data[\"token_type\"] == \"bearer\"\n    \n    @pytest.mark.asyncio\n    async def test_change_password(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test password change.\"\"\"\n        password_data = {\n            \"current_password\": \"testpass123\",\n            \"new_password\": \"newpass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/change-password\",\n            json=password_data,\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        assert \"Password changed successfully\" in response.json()[\"message\"]\n```\n\n## Model Testing\n\n```python\n# tests/test_models/test_user.py\nimport pytest\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.models.user import User\nfrom app.core.security import verify_password, get_password_hash\n\nclass TestUserModel:\n    \"\"\"Test User model.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(self, db_session: AsyncSession):\n        \"\"\"Test user creation.\"\"\"\n        user_data = {\n            \"username\": \"testuser\",\n            \"email\": \"test@example.com\",\n            \"hashed_password\": get_password_hash(\"password123\"),\n            \"first_name\": \"Test\",\n            \"last_name\": \"User\"\n        }\n        \n        user = User(**user_data)\n        db_session.add(user)\n        await db_session.commit()\n        await db_session.refresh(user)\n        \n        assert user.id is not None\n        assert user.username == \"testuser\"\n        assert user.email == \"test@example.com\"\n        assert user.full_name == \"Test User\"\n        assert user.is_active is True\n        assert user.is_superuser is False\n        assert user.created_at is not None\n        assert user.updated_at is not None\n    \n    def test_password_verification(self):\n        \"\"\"Test password verification.\"\"\"\n        password = \"testpassword123\"\n        hashed = get_password_hash(password)\n        \n        user = User(\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=hashed,\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        assert user.verify_password(password)\n        assert not user.verify_password(\"wrongpassword\")\n    \n    def test_user_dict_excludes_password(self):\n        \"\"\"Test that dict() method excludes password.\"\"\"\n        user = User(\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=\"hashed_password\",\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        user_dict = user.dict()\n        assert \"hashed_password\" not in user_dict\n        assert \"username\" in user_dict\n        assert \"email\" in user_dict\n    \n    def test_user_repr(self):\n        \"\"\"Test user string representation.\"\"\"\n        user = User(\n            id=1,\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=\"hash\",\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        assert repr(user) == \"<User(id=1)>\"\n```\n\n## Repository Testing\n\n```python\n# tests/test_repositories/test_user.py\nimport pytest\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.security import get_password_hash\n\nclass TestUserRepository:\n    \"\"\"Test UserRepository.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(self, db_session: AsyncSession):\n        \"\"\"Test user creation through repository.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        user_data = {\n            \"username\": \"repouser\",\n            \"email\": \"repo@example.com\",\n            \"hashed_password\": get_password_hash(\"password123\"),\n            \"first_name\": \"Repo\",\n            \"last_name\": \"User\"\n        }\n        \n        user = await repo.create(user_data)\n        \n        assert user.id is not None\n        assert user.username == \"repouser\"\n        assert user.email == \"repo@example.com\"\n    \n    @pytest.mark.asyncio\n    async def test_get_by_email(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test get user by email.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        found_user = await repo.get_by_email(test_user.email)\n        \n        assert found_user is not None\n        assert found_user.id == test_user.id\n        assert found_user.email == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_get_by_username(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test get user by username.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        found_user = await repo.get_by_username(test_user.username)\n        \n        assert found_user is not None\n        assert found_user.id == test_user.id\n        assert found_user.username == test_user.username\n    \n    @pytest.mark.asyncio\n    async def test_get_multi_with_pagination(\n        self, \n        db_session: AsyncSession, \n        test_user: User\n    ):\n        \"\"\"Test get multiple users with pagination.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        # Create additional users\n        for i in range(5):\n            user_data = {\n                \"username\": f\"user{i}\",\n                \"email\": f\"user{i}@example.com\",\n                \"hashed_password\": get_password_hash(\"password123\"),\n                \"first_name\": f\"User{i}\",\n                \"last_name\": \"Test\"\n            }\n            await repo.create(user_data)\n        \n        # Test pagination\n        users = await repo.get_multi(skip=0, limit=3)\n        assert len(users) == 3\n        \n        users_page_2 = await repo.get_multi(skip=3, limit=3)\n        assert len(users_page_2) >= 1  # At least test_user\n    \n    @pytest.mark.asyncio\n    async def test_update_user(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test user update.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        updated_user = await repo.update(test_user.id, {\n            \"first_name\": \"Updated\",\n            \"bio\": \"Updated bio\"\n        })\n        \n        assert updated_user is not None\n        assert updated_user.first_name == \"Updated\"\n        assert updated_user.bio == \"Updated bio\"\n    \n    @pytest.mark.asyncio\n    async def test_delete_user(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test user deletion.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        result = await repo.delete(test_user.id)\n        assert result is True\n        \n        # Verify user is deleted\n        deleted_user = await repo.get(test_user.id)\n        assert deleted_user is None\n```\n\n## Performance Testing\n\n```python\n# tests/test_performance.py\nimport pytest\nimport time\nimport asyncio\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom tests.factories import UserFactory\n\n@pytest.mark.slow\nclass TestPerformance:\n    \"\"\"Test application performance.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_concurrent_requests(\n        self, \n        async_client: AsyncClient,\n        auth_headers: dict\n    ):\n        \"\"\"Test concurrent API requests.\"\"\"\n        \n        async def make_request():\n            response = await async_client.get(\n                \"/api/v1/users/\",\n                headers=auth_headers\n            )\n            return response.status_code\n        \n        # Make 10 concurrent requests\n        start_time = time.time()\n        tasks = [make_request() for _ in range(10)]\n        results = await asyncio.gather(*tasks)\n        end_time = time.time()\n        \n        # All requests should succeed\n        assert all(status == 200 for status in results)\n        \n        # Should complete within reasonable time\n        assert (end_time - start_time) < 5.0\n    \n    @pytest.mark.asyncio\n    async def test_large_dataset_pagination(\n        self, \n        async_client: AsyncClient,\n        db_session,\n        auth_headers: dict\n    ):\n        \"\"\"Test pagination with large dataset.\"\"\"\n        # Create 100 users\n        users = []\n        for i in range(100):\n            user = UserFactory.build()\n            users.append(user)\n        \n        db_session.add_all(users)\n        await db_session.commit()\n        \n        # Test pagination performance\n        start_time = time.time()\n        response = await async_client.get(\n            \"/api/v1/users/?skip=0&limit=50\",\n            headers=auth_headers\n        )\n        end_time = time.time()\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert len(data[\"items\"]) == 50\n        \n        # Should complete quickly\n        assert (end_time - start_time) < 1.0\n```\n\n## Mocking External Services\n\n```python\n# tests/test_external.py\nimport pytest\nimport respx\nimport httpx\nfrom app.services.email import EmailService\n\nclass TestExternalServices:\n    \"\"\"Test external service integrations.\"\"\"\n    \n    @pytest.mark.asyncio\n    @respx.mock\n    async def test_email_service(\n        self, \n        async_client: AsyncClient\n    ):\n        \"\"\"Test email service with mocked external API.\"\"\"\n        # Mock email service API\n        respx.post(\"https://api.emailservice.com/send\").mock(\n            return_value=httpx.Response(\n                200, \n                json={\"message\": \"Email sent successfully\"}\n            )\n        )\n        \n        email_service = EmailService()\n        result = await email_service.send_email(\n            to=\"test@example.com\",\n            subject=\"Test\",\n            body=\"Test email\"\n        )\n        \n        assert result[\"success\"] is True\n```\n\n## Test Utilities\n\n```python\n# tests/utils.py\nfrom typing import Dict, Any\nfrom httpx import Response\nimport json\n\ndef assert_response_status(response: Response, expected_status: int = 200):\n    \"\"\"Assert response status code.\"\"\"\n    assert response.status_code == expected_status, f\"Expected {expected_status}, got {response.status_code}. Response: {response.text}\"\n\ndef assert_response_json(response: Response, expected_keys: list[str] = None):\n    \"\"\"Assert response is valid JSON with expected keys.\"\"\"\n    assert response.headers.get(\"content-type\") == \"application/json\"\n    data = response.json()\n    \n    if expected_keys:\n        for key in expected_keys:\n            assert key in data, f\"Missing key '{key}' in response\"\n    \n    return data\n\ndef create_auth_headers(token: str) -> Dict[str, str]:\n    \"\"\"Create authorization headers with token.\"\"\"\n    return {\"Authorization\": f\"Bearer {token}\"}\n\nasync def create_test_users(db_session, count: int = 5) -> list:\n    \"\"\"Create multiple test users.\"\"\"\n    from tests.factories import UserFactory\n    \n    users = []\n    for i in range(count):\n        user = UserFactory.build()\n        users.append(user)\n    \n    db_session.add_all(users)\n    await db_session.commit()\n    \n    return users\n```\n"
              },
              {
                "name": "/app-factory",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/app-factory.md",
                "frontmatter": null,
                "content": "# Flask Application Factory Pattern\n\nCreate a scalable Flask application using the factory pattern with blueprints and configuration management.\n\n## Purpose\n\nThis command helps you set up a Flask application using the application factory pattern, which is the recommended approach for larger Flask applications.\n\n## Usage\n\n```\n/app-factory\n```\n\n## What this command does\n\n1. **Creates application factory** with proper structure\n2. **Sets up configuration management** for different environments\n3. **Implements blueprints** for modular design\n4. **Configures extensions** (database, auth, etc.)\n5. **Adds error handling** and logging\n\n## Example Output\n\n```python\n# app/__init__.py\nfrom flask import Flask\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom flask_login import LoginManager\nfrom flask_mail import Mail\nfrom flask_wtf.csrf import CSRFProtect\nfrom flask_cors import CORS\nimport logging\nfrom logging.handlers import RotatingFileHandler\nimport os\n\n# Initialize extensions\ndb = SQLAlchemy()\nmigrate = Migrate()\nlogin = LoginManager()\nmail = Mail()\ncsrf = CSRFProtect()\ncors = CORS()\n\ndef create_app(config_class=None):\n    \"\"\"Application factory function.\"\"\"\n    app = Flask(__name__)\n    \n    # Load configuration\n    if config_class is None:\n        config_class = os.environ.get('FLASK_CONFIG', 'development')\n    \n    if isinstance(config_class, str):\n        from app.config import config\n        app.config.from_object(config[config_class])\n    else:\n        app.config.from_object(config_class)\n    \n    # Initialize extensions\n    db.init_app(app)\n    migrate.init_app(app, db)\n    login.init_app(app)\n    mail.init_app(app)\n    csrf.init_app(app)\n    cors.init_app(app)\n    \n    # Configure login manager\n    login.login_view = 'auth.login'\n    login.login_message = 'Please log in to access this page.'\n    login.login_message_category = 'info'\n    \n    # Register blueprints\n    from app.main import bp as main_bp\n    app.register_blueprint(main_bp)\n    \n    from app.auth import bp as auth_bp\n    app.register_blueprint(auth_bp, url_prefix='/auth')\n    \n    from app.api import bp as api_bp\n    app.register_blueprint(api_bp, url_prefix='/api')\n    \n    from app.admin import bp as admin_bp\n    app.register_blueprint(admin_bp, url_prefix='/admin')\n    \n    # Error handlers\n    from app.errors import bp as errors_bp\n    app.register_blueprint(errors_bp)\n    \n    # Configure logging\n    if not app.debug and not app.testing:\n        if not os.path.exists('logs'):\n            os.mkdir('logs')\n        \n        file_handler = RotatingFileHandler(\n            'logs/app.log', \n            maxBytes=10240, \n            backupCount=10\n        )\n        file_handler.setFormatter(logging.Formatter(\n            '%(asctime)s %(levelname)s: %(message)s [in %(pathname)s:%(lineno)d]'\n        ))\n        file_handler.setLevel(logging.INFO)\n        app.logger.addHandler(file_handler)\n        \n        app.logger.setLevel(logging.INFO)\n        app.logger.info('Flask application startup')\n    \n    return app\n\n# Import models (avoid circular imports)\nfrom app import models\n```\n\n```python\n# app/config.py\nimport os\nfrom dotenv import load_dotenv\n\nbasedir = os.path.abspath(os.path.dirname(__file__))\nload_dotenv(os.path.join(basedir, '.env'))\n\nclass Config:\n    \"\"\"Base configuration class.\"\"\"\n    SECRET_KEY = os.environ.get('SECRET_KEY') or 'dev-secret-key'\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app.db')\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    \n    # Mail configuration\n    MAIL_SERVER = os.environ.get('MAIL_SERVER')\n    MAIL_PORT = int(os.environ.get('MAIL_PORT') or 587)\n    MAIL_USE_TLS = os.environ.get('MAIL_USE_TLS', 'true').lower() in ['true', 'on', '1']\n    MAIL_USERNAME = os.environ.get('MAIL_USERNAME')\n    MAIL_PASSWORD = os.environ.get('MAIL_PASSWORD')\n    ADMIN_EMAIL = os.environ.get('ADMIN_EMAIL')\n    \n    # Pagination\n    POSTS_PER_PAGE = 10\n    USERS_PER_PAGE = 50\n    \n    # Upload configuration\n    MAX_CONTENT_LENGTH = 16 * 1024 * 1024  # 16MB\n    UPLOAD_FOLDER = os.path.join(basedir, 'uploads')\n    \n    @staticmethod\n    def init_app(app):\n        pass\n\nclass DevelopmentConfig(Config):\n    \"\"\"Development configuration.\"\"\"\n    DEBUG = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DEV_DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app-dev.db')\n\nclass TestingConfig(Config):\n    \"\"\"Testing configuration.\"\"\"\n    TESTING = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('TEST_DATABASE_URL') or 'sqlite://'\n    WTF_CSRF_ENABLED = False\n\nclass ProductionConfig(Config):\n    \"\"\"Production configuration.\"\"\"\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app.db')\n    \n    @classmethod\n    def init_app(cls, app):\n        Config.init_app(app)\n        \n        # Log to stderr\n        import logging\n        from logging import StreamHandler\n        file_handler = StreamHandler()\n        file_handler.setLevel(logging.INFO)\n        app.logger.addHandler(file_handler)\n\nconfig = {\n    'development': DevelopmentConfig,\n    'testing': TestingConfig,\n    'production': ProductionConfig,\n    'default': DevelopmentConfig\n}\n```\n\n```python\n# app/main/__init__.py\nfrom flask import Blueprint\n\nbp = Blueprint('main', __name__)\n\nfrom app.main import routes\n```\n\n```python\n# app/main/routes.py\nfrom flask import render_template, request, current_app\nfrom app.main import bp\nfrom app.models import Post\n\n@bp.route('/')\n@bp.route('/index')\ndef index():\n    \"\"\"Home page.\"\"\"\n    page = request.args.get('page', 1, type=int)\n    posts = Post.query.filter_by(published=True).order_by(\n        Post.created_at.desc()\n    ).paginate(\n        page=page,\n        per_page=current_app.config['POSTS_PER_PAGE'],\n        error_out=False\n    )\n    \n    return render_template('index.html', posts=posts)\n\n@bp.route('/about')\ndef about():\n    \"\"\"About page.\"\"\"\n    return render_template('about.html')\n```\n\n```python\n# app/auth/__init__.py\nfrom flask import Blueprint\n\nbp = Blueprint('auth', __name__)\n\nfrom app.auth import routes\n```\n\n```python\n# app/auth/routes.py\nfrom flask import render_template, redirect, url_for, flash, request\nfrom flask_login import login_user, logout_user, login_required, current_user\nfrom werkzeug.urls import url_parse\nfrom app import db\nfrom app.auth import bp\nfrom app.auth.forms import LoginForm, RegistrationForm\nfrom app.models import User\n\n@bp.route('/login', methods=['GET', 'POST'])\ndef login():\n    \"\"\"User login.\"\"\"\n    if current_user.is_authenticated:\n        return redirect(url_for('main.index'))\n    \n    form = LoginForm()\n    if form.validate_on_submit():\n        user = User.query.filter_by(username=form.username.data).first()\n        if user is None or not user.check_password(form.password.data):\n            flash('Invalid username or password', 'error')\n            return redirect(url_for('auth.login'))\n        \n        login_user(user, remember=form.remember_me.data)\n        \n        next_page = request.args.get('next')\n        if not next_page or url_parse(next_page).netloc != '':\n            next_page = url_for('main.index')\n        \n        return redirect(next_page)\n    \n    return render_template('auth/login.html', form=form)\n\n@bp.route('/logout')\n@login_required\ndef logout():\n    \"\"\"User logout.\"\"\"\n    logout_user()\n    flash('You have been logged out.', 'info')\n    return redirect(url_for('main.index'))\n\n@bp.route('/register', methods=['GET', 'POST'])\ndef register():\n    \"\"\"User registration.\"\"\"\n    if current_user.is_authenticated:\n        return redirect(url_for('main.index'))\n    \n    form = RegistrationForm()\n    if form.validate_on_submit():\n        user = User(username=form.username.data, email=form.email.data)\n        user.set_password(form.password.data)\n        db.session.add(user)\n        db.session.commit()\n        \n        flash('Registration successful!', 'success')\n        return redirect(url_for('auth.login'))\n    \n    return render_template('auth/register.html', form=form)\n```\n\n```python\n# app/models.py\nfrom app import db, login\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom flask_login import UserMixin\nfrom datetime import datetime\n\nclass User(UserMixin, db.Model):\n    \"\"\"User model.\"\"\"\n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(64), index=True, unique=True)\n    email = db.Column(db.String(120), index=True, unique=True)\n    password_hash = db.Column(db.String(128))\n    created_at = db.Column(db.DateTime, index=True, default=datetime.utcnow)\n    \n    posts = db.relationship('Post', backref='author', lazy='dynamic')\n    \n    def set_password(self, password):\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        return check_password_hash(self.password_hash, password)\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n\n@login.user_loader\ndef load_user(id):\n    return User.query.get(int(id))\n\nclass Post(db.Model):\n    \"\"\"Post model.\"\"\"\n    id = db.Column(db.Integer, primary_key=True)\n    title = db.Column(db.String(100), nullable=False)\n    content = db.Column(db.Text, nullable=False)\n    published = db.Column(db.Boolean, default=False)\n    created_at = db.Column(db.DateTime, index=True, default=datetime.utcnow)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\n    \n    user_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=False)\n    \n    def __repr__(self):\n        return f'<Post {self.title}>'\n```\n\n```python\n# app.py (main application entry point)\nfrom app import create_app, db\nfrom app.models import User, Post\n\napp = create_app()\n\n@app.shell_context_processor\ndef make_shell_context():\n    \"\"\"Add models to shell context.\"\"\"\n    return {'db': db, 'User': User, 'Post': Post}\n\nif __name__ == '__main__':\n    app.run(debug=True)\n```\n\n## Project Structure\n\n```\nproject/\n‚îú‚îÄ‚îÄ app/\n‚îÇ   ‚îú‚îÄ‚îÄ __init__.py         # Application factory\n‚îÇ   ‚îú‚îÄ‚îÄ config.py           # Configuration classes\n‚îÇ   ‚îú‚îÄ‚îÄ models.py           # Database models\n‚îÇ   ‚îú‚îÄ‚îÄ main/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # Main blueprint\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.py       # Main routes\n‚îÇ   ‚îú‚îÄ‚îÄ auth/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # Auth blueprint\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes.py       # Auth routes\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ forms.py        # Auth forms\n‚îÇ   ‚îú‚îÄ‚îÄ api/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # API blueprint\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.py       # API routes\n‚îÇ   ‚îî‚îÄ‚îÄ templates/          # Jinja2 templates\n‚îú‚îÄ‚îÄ migrations/             # Database migrations\n‚îú‚îÄ‚îÄ logs/                   # Application logs\n‚îú‚îÄ‚îÄ app.py                  # Application entry point\n‚îú‚îÄ‚îÄ requirements.txt        # Dependencies\n‚îî‚îÄ‚îÄ .env                    # Environment variables\n```\n\n## Benefits of Application Factory\n\n- **Testing**: Easy to create app instances with different configs\n- **Scalability**: Modular design with blueprints\n- **Configuration**: Environment-specific settings\n- **Extensions**: Proper initialization order\n- **Maintainability**: Clear separation of concerns"
              },
              {
                "name": "/blueprint",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/blueprint.md",
                "frontmatter": null,
                "content": "# Flask Blueprint Generator\n\nCreate organized Flask blueprints for modular application structure.\n\n## Usage\n\n```bash\n# Create a new blueprint\nflask create-blueprint users\nflask create-blueprint api/v1\n```\n\n## Blueprint Structure\n\nGenerates a complete blueprint with:\n- Routes and view functions\n- Error handlers\n- Template folder structure\n- Static file organization\n\n## Example Blueprint\n\n```python\n# app/blueprints/users/__init__.py\nfrom flask import Blueprint\n\nusers_bp = Blueprint(\n    'users',\n    __name__,\n    url_prefix='/users',\n    template_folder='templates',\n    static_folder='static'\n)\n\nfrom . import routes, models\n\n# app/blueprints/users/routes.py\nfrom flask import render_template, request, redirect, url_for, flash\nfrom . import users_bp\nfrom .models import User\nfrom .forms import UserForm\n\n@users_bp.route('/')\ndef index():\n    \"\"\"List all users.\"\"\"\n    users = User.query.all()\n    return render_template('users/index.html', users=users)\n\n@users_bp.route('/create', methods=['GET', 'POST'])\ndef create():\n    \"\"\"Create a new user.\"\"\"\n    form = UserForm()\n    if form.validate_on_submit():\n        user = User(\n            username=form.username.data,\n            email=form.email.data\n        )\n        user.save()\n        flash('User created successfully!', 'success')\n        return redirect(url_for('users.index'))\n    return render_template('users/create.html', form=form)\n\n@users_bp.route('/<int:user_id>')\ndef detail(user_id):\n    \"\"\"Show user details.\"\"\"\n    user = User.query.get_or_404(user_id)\n    return render_template('users/detail.html', user=user)\n\n@users_bp.route('/<int:user_id>/edit', methods=['GET', 'POST'])\ndef edit(user_id):\n    \"\"\"Edit an existing user.\"\"\"\n    user = User.query.get_or_404(user_id)\n    form = UserForm(obj=user)\n    if form.validate_on_submit():\n        user.username = form.username.data\n        user.email = form.email.data\n        user.save()\n        flash('User updated successfully!', 'success')\n        return redirect(url_for('users.detail', user_id=user.id))\n    return render_template('users/edit.html', form=form, user=user)\n\n@users_bp.route('/<int:user_id>/delete', methods=['POST'])\ndef delete(user_id):\n    \"\"\"Delete a user.\"\"\"\n    user = User.query.get_or_404(user_id)\n    user.delete()\n    flash('User deleted successfully!', 'success')\n    return redirect(url_for('users.index'))\n\n# Error handlers\n@users_bp.errorhandler(404)\ndef not_found(error):\n    return render_template('users/404.html'), 404\n\n@users_bp.errorhandler(500)\ndef internal_error(error):\n    return render_template('users/500.html'), 500\n```\n\n## Blueprint Models\n\n```python\n# app/blueprints/users/models.py\nfrom app.extensions import db\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom datetime import datetime\n\nclass User(db.Model):\n    \"\"\"User model.\"\"\"\n    __tablename__ = 'users'\n    \n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(80), unique=True, nullable=False)\n    email = db.Column(db.String(120), unique=True, nullable=False)\n    password_hash = db.Column(db.String(255), nullable=False)\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\n    is_active = db.Column(db.Boolean, default=True)\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n    \n    def set_password(self, password):\n        \"\"\"Set password hash.\"\"\"\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        \"\"\"Check password hash.\"\"\"\n        return check_password_hash(self.password_hash, password)\n    \n    def save(self):\n        \"\"\"Save user to database.\"\"\"\n        db.session.add(self)\n        db.session.commit()\n    \n    def delete(self):\n        \"\"\"Delete user from database.\"\"\"\n        db.session.delete(self)\n        db.session.commit()\n    \n    def to_dict(self):\n        \"\"\"Convert to dictionary.\"\"\"\n        return {\n            'id': self.id,\n            'username': self.username,\n            'email': self.email,\n            'created_at': self.created_at.isoformat(),\n            'is_active': self.is_active\n        }\n```\n\n## Blueprint Forms\n\n```python\n# app/blueprints/users/forms.py\nfrom flask_wtf import FlaskForm\nfrom wtforms import StringField, EmailField, PasswordField, BooleanField\nfrom wtforms.validators import DataRequired, Email, Length, EqualTo\nfrom .models import User\n\nclass UserForm(FlaskForm):\n    \"\"\"User creation/edit form.\"\"\"\n    username = StringField(\n        'Username',\n        validators=[\n            DataRequired(),\n            Length(min=3, max=80)\n        ]\n    )\n    email = EmailField(\n        'Email',\n        validators=[\n            DataRequired(),\n            Email(),\n            Length(max=120)\n        ]\n    )\n    password = PasswordField(\n        'Password',\n        validators=[\n            DataRequired(),\n            Length(min=8)\n        ]\n    )\n    confirm_password = PasswordField(\n        'Confirm Password',\n        validators=[\n            DataRequired(),\n            EqualTo('password', message='Passwords must match')\n        ]\n    )\n    is_active = BooleanField('Active')\n    \n    def validate_username(self, field):\n        \"\"\"Validate username uniqueness.\"\"\"\n        if User.query.filter_by(username=field.data).first():\n            raise ValidationError('Username already exists.')\n    \n    def validate_email(self, field):\n        \"\"\"Validate email uniqueness.\"\"\"\n        if User.query.filter_by(email=field.data).first():\n            raise ValidationError('Email already registered.')\n```\n\n## Registration in Main App\n\n```python\n# app/__init__.py\nfrom flask import Flask\nfrom app.blueprints.users import users_bp\n\ndef create_app():\n    app = Flask(__name__)\n    \n    # Register blueprints\n    app.register_blueprint(users_bp)\n    \n    return app\n```\n\n## Template Structure\n\n```\ntemplates/\n‚îú‚îÄ‚îÄ base.html\n‚îî‚îÄ‚îÄ users/\n    ‚îú‚îÄ‚îÄ index.html\n    ‚îú‚îÄ‚îÄ create.html\n    ‚îú‚îÄ‚îÄ detail.html\n    ‚îú‚îÄ‚îÄ edit.html\n    ‚îú‚îÄ‚îÄ 404.html\n    ‚îî‚îÄ‚îÄ 500.html\n```\n\n## Best Practices\n\n- Use blueprints to organize related functionality\n- Keep models, forms, and routes in separate files\n- Implement proper error handling\n- Use URL prefixes for namespacing\n- Follow RESTful routing conventions\n- Include comprehensive docstrings\n- Add form validation and CSRF protection\n"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# Flask Database Management\n\nComplete database setup and management for Flask applications using SQLAlchemy.\n\n## Usage\n\n```bash\n# Initialize database\nflask db init\n\n# Create migration\nflask db migrate -m \"Initial migration\"\n\n# Apply migrations\nflask db upgrade\n\n# Downgrade migration\nflask db downgrade\n```\n\n## Database Configuration\n\n```python\n# config.py\nimport os\nfrom urllib.parse import quote_plus\n\nclass Config:\n    \"\"\"Base configuration.\"\"\"\n    SECRET_KEY = os.environ.get('SECRET_KEY') or 'dev-secret-key'\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    SQLALCHEMY_RECORD_QUERIES = True\n    \nclass DevelopmentConfig(Config):\n    \"\"\"Development configuration.\"\"\"\n    DEBUG = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///app.db'\n        \nclass ProductionConfig(Config):\n    \"\"\"Production configuration.\"\"\"\n    DEBUG = False\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        f\"postgresql://{os.environ.get('DB_USER')}:{quote_plus(os.environ.get('DB_PASSWORD'))}@\" \\\n        f\"{os.environ.get('DB_HOST')}:{os.environ.get('DB_PORT', '5432')}/{os.environ.get('DB_NAME')}\"\n    \nclass TestingConfig(Config):\n    \"\"\"Testing configuration.\"\"\"\n    TESTING = True\n    SQLALCHEMY_DATABASE_URI = 'sqlite:///:memory:'\n    WTF_CSRF_ENABLED = False\n\nconfig = {\n    'development': DevelopmentConfig,\n    'production': ProductionConfig,\n    'testing': TestingConfig,\n    'default': DevelopmentConfig\n}\n```\n\n## Database Extensions\n\n```python\n# app/extensions.py\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom flask_login import LoginManager\nfrom flask_wtf.csrf import CSRFProtect\nfrom flask_caching import Cache\nfrom flask_limiter import Limiter\nfrom flask_limiter.util import get_remote_address\n\n# Initialize extensions\ndb = SQLAlchemy()\nmigrate = Migrate()\nlogin_manager = LoginManager()\ncsrf = CSRFProtect()\ncache = Cache()\nlimiter = Limiter(key_func=get_remote_address)\n\ndef init_extensions(app):\n    \"\"\"Initialize Flask extensions.\"\"\"\n    db.init_app(app)\n    migrate.init_app(app, db)\n    login_manager.init_app(app)\n    csrf.init_app(app)\n    cache.init_app(app)\n    limiter.init_app(app)\n    \n    # Configure login manager\n    login_manager.login_view = 'auth.login'\n    login_manager.login_message = 'Please log in to access this page.'\n    login_manager.login_message_category = 'info'\n```\n\n## Base Model\n\n```python\n# app/models/base.py\nfrom app.extensions import db\nfrom datetime import datetime\nfrom sqlalchemy.ext.declarative import declared_attr\n\nclass TimestampMixin:\n    \"\"\"Add timestamp fields to model.\"\"\"\n    created_at = db.Column(db.DateTime, default=datetime.utcnow, nullable=False)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow, nullable=False)\n\nclass BaseModel(db.Model, TimestampMixin):\n    \"\"\"Base model with common functionality.\"\"\"\n    __abstract__ = True\n    \n    id = db.Column(db.Integer, primary_key=True)\n    \n    @declared_attr\n    def __tablename__(cls):\n        return cls.__name__.lower()\n    \n    def save(self, commit=True):\n        \"\"\"Save model to database.\"\"\"\n        db.session.add(self)\n        if commit:\n            db.session.commit()\n        return self\n    \n    def delete(self, commit=True):\n        \"\"\"Delete model from database.\"\"\"\n        db.session.delete(self)\n        if commit:\n            db.session.commit()\n    \n    def update(self, **kwargs):\n        \"\"\"Update model attributes.\"\"\"\n        for key, value in kwargs.items():\n            if hasattr(self, key):\n                setattr(self, key, value)\n        return self.save()\n    \n    def to_dict(self, exclude=None):\n        \"\"\"Convert model to dictionary.\"\"\"\n        exclude = exclude or []\n        return {\n            column.name: getattr(self, column.name)\n            for column in self.__table__.columns\n            if column.name not in exclude\n        }\n    \n    @classmethod\n    def get_or_404(cls, id):\n        \"\"\"Get model by ID or raise 404.\"\"\"\n        return cls.query.get_or_404(id)\n    \n    @classmethod\n    def create(cls, **kwargs):\n        \"\"\"Create new model instance.\"\"\"\n        instance = cls(**kwargs)\n        return instance.save()\n```\n\n## Example Models\n\n```python\n# app/models/user.py\nfrom app.extensions import db\nfrom app.models.base import BaseModel\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom flask_login import UserMixin\n\nclass User(UserMixin, BaseModel):\n    \"\"\"User model.\"\"\"\n    __tablename__ = 'users'\n    \n    username = db.Column(db.String(80), unique=True, nullable=False, index=True)\n    email = db.Column(db.String(120), unique=True, nullable=False, index=True)\n    password_hash = db.Column(db.String(255), nullable=False)\n    first_name = db.Column(db.String(50), nullable=False)\n    last_name = db.Column(db.String(50), nullable=False)\n    is_active = db.Column(db.Boolean, default=True, nullable=False)\n    is_admin = db.Column(db.Boolean, default=False, nullable=False)\n    last_login = db.Column(db.DateTime)\n    \n    # Relationships\n    posts = db.relationship('Post', backref='author', lazy='dynamic', cascade='all, delete-orphan')\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n    \n    def set_password(self, password):\n        \"\"\"Set password hash.\"\"\"\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        \"\"\"Check password hash.\"\"\"\n        return check_password_hash(self.password_hash, password)\n    \n    @property\n    def full_name(self):\n        \"\"\"Get user's full name.\"\"\"\n        return f\"{self.first_name} {self.last_name}\"\n    \n    def to_dict(self, exclude=None):\n        \"\"\"Convert to dictionary excluding sensitive data.\"\"\"\n        exclude = exclude or ['password_hash']\n        return super().to_dict(exclude=exclude)\n\n# app/models/post.py\nclass Post(BaseModel):\n    \"\"\"Blog post model.\"\"\"\n    __tablename__ = 'posts'\n    \n    title = db.Column(db.String(200), nullable=False)\n    content = db.Column(db.Text, nullable=False)\n    slug = db.Column(db.String(200), unique=True, nullable=False, index=True)\n    status = db.Column(db.String(20), default='draft', nullable=False)\n    published_at = db.Column(db.DateTime)\n    \n    # Foreign keys\n    user_id = db.Column(db.Integer, db.ForeignKey('users.id'), nullable=False)\n    category_id = db.Column(db.Integer, db.ForeignKey('categories.id'))\n    \n    # Relationships\n    category = db.relationship('Category', backref='posts')\n    tags = db.relationship('Tag', secondary='post_tags', backref='posts')\n    \n    def __repr__(self):\n        return f'<Post {self.title}>'\n    \n    @property\n    def is_published(self):\n        \"\"\"Check if post is published.\"\"\"\n        return self.status == 'published' and self.published_at is not None\n```\n\n## Database CLI Commands\n\n```python\n# app/cli.py\nimport click\nfrom flask import current_app\nfrom flask.cli import with_appcontext\nfrom app.extensions import db\nfrom app.models import User, Post, Category\n\n@click.command()\n@with_appcontext\ndef init_db():\n    \"\"\"Initialize database.\"\"\"\n    db.create_all()\n    click.echo('Database initialized.')\n\n@click.command()\n@with_appcontext\ndef seed_db():\n    \"\"\"Seed database with sample data.\"\"\"\n    # Create admin user\n    admin = User(\n        username='admin',\n        email='admin@example.com',\n        first_name='Admin',\n        last_name='User',\n        is_admin=True\n    )\n    admin.set_password('admin123')\n    admin.save()\n    \n    # Create sample category\n    category = Category(\n        name='Technology',\n        description='Tech-related posts'\n    )\n    category.save()\n    \n    # Create sample post\n    post = Post(\n        title='Welcome to Flask',\n        content='This is a sample blog post.',\n        slug='welcome-to-flask',\n        status='published',\n        user_id=admin.id,\n        category_id=category.id\n    )\n    post.save()\n    \n    click.echo('Database seeded with sample data.')\n\n@click.command()\n@with_appcontext\ndef reset_db():\n    \"\"\"Reset database.\"\"\"\n    if click.confirm('Are you sure you want to reset the database?'):\n        db.drop_all()\n        db.create_all()\n        click.echo('Database reset.')\n\ndef init_commands(app):\n    \"\"\"Register CLI commands.\"\"\"\n    app.cli.add_command(init_db)\n    app.cli.add_command(seed_db)\n    app.cli.add_command(reset_db)\n```\n\n## Connection Pooling\n\n```python\n# app/database.py\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.pool import QueuePool\n\ndef configure_database(app):\n    \"\"\"Configure database with connection pooling.\"\"\"\n    if app.config.get('SQLALCHEMY_DATABASE_URI', '').startswith('postgresql'):\n        # PostgreSQL configuration\n        engine = create_engine(\n            app.config['SQLALCHEMY_DATABASE_URI'],\n            poolclass=QueuePool,\n            pool_size=10,\n            max_overflow=20,\n            pool_recycle=3600,\n            pool_pre_ping=True\n        )\n        app.config['SQLALCHEMY_ENGINE_OPTIONS'] = {\n            'pool_size': 10,\n            'max_overflow': 20,\n            'pool_recycle': 3600,\n            'pool_pre_ping': True\n        }\n```\n\n## Database Utilities\n\n```python\n# app/utils/database.py\nfrom app.extensions import db\nfrom sqlalchemy import text\nfrom flask import current_app\n\ndef execute_sql(sql, params=None):\n    \"\"\"Execute raw SQL query.\"\"\"\n    with db.engine.connect() as conn:\n        result = conn.execute(text(sql), params or {})\n        return result.fetchall()\n\ndef backup_database():\n    \"\"\"Create database backup.\"\"\"\n    # Implementation depends on database type\n    pass\n\ndef check_database_health():\n    \"\"\"Check database connection health.\"\"\"\n    try:\n        db.session.execute(text('SELECT 1'))\n        return True\n    except Exception as e:\n        current_app.logger.error(f'Database health check failed: {e}')\n        return False\n\ndef get_table_info(table_name):\n    \"\"\"Get table information.\"\"\"\n    inspector = db.inspect(db.engine)\n    return {\n        'columns': inspector.get_columns(table_name),\n        'indexes': inspector.get_indexes(table_name),\n        'foreign_keys': inspector.get_foreign_keys(table_name)\n    }\n```\n\n## Testing Database\n\n```python\n# tests/conftest.py\nimport pytest\nfrom app import create_app\nfrom app.extensions import db\nfrom app.models import User\n\n@pytest.fixture(scope='session')\ndef app():\n    \"\"\"Create test app.\"\"\"\n    app = create_app('testing')\n    with app.app_context():\n        db.create_all()\n        yield app\n        db.drop_all()\n\n@pytest.fixture\ndef client(app):\n    \"\"\"Create test client.\"\"\"\n    return app.test_client()\n\n@pytest.fixture\ndef db_session(app):\n    \"\"\"Create database session for testing.\"\"\"\n    with app.app_context():\n        db.session.begin()\n        yield db.session\n        db.session.rollback()\n\n@pytest.fixture\ndef user(db_session):\n    \"\"\"Create test user.\"\"\"\n    user = User(\n        username='testuser',\n        email='test@example.com',\n        first_name='Test',\n        last_name='User'\n    )\n    user.set_password('testpass')\n    user.save()\n    return user\n```\n"
              },
              {
                "name": "/deployment",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/deployment.md",
                "frontmatter": null,
                "content": "# Flask Deployment Configuration\n\nComplete production deployment setup for Flask applications.\n\n## Usage\n\n```bash\n# Build Docker image\ndocker build -t myapp .\n\n# Run with Docker Compose\ndocker-compose up -d\n\n# Deploy to cloud\ngunicorn --bind 0.0.0.0:8000 app:app\n```\n\n## Production Configuration\n\n```python\n# config.py\nimport os\nfrom urllib.parse import quote_plus\n\nclass ProductionConfig:\n    \"\"\"Production configuration.\"\"\"\n    \n    # Security\n    SECRET_KEY = os.environ.get('SECRET_KEY')\n    DEBUG = False\n    TESTING = False\n    \n    # Database\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        f\"postgresql://{os.environ.get('DB_USER')}:{quote_plus(os.environ.get('DB_PASSWORD'))}@\" \\\n        f\"{os.environ.get('DB_HOST')}:{os.environ.get('DB_PORT', '5432')}/{os.environ.get('DB_NAME')}\"\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    SQLALCHEMY_ENGINE_OPTIONS = {\n        'pool_size': 10,\n        'max_overflow': 20,\n        'pool_recycle': 3600,\n        'pool_pre_ping': True\n    }\n    \n    # Security Headers\n    SECURITY_HEADERS = {\n        'Strict-Transport-Security': 'max-age=31536000; includeSubDomains',\n        'X-Content-Type-Options': 'nosniff',\n        'X-Frame-Options': 'DENY',\n        'X-XSS-Protection': '1; mode=block',\n        'Content-Security-Policy': \"default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'\"\n    }\n    \n    # Session\n    SESSION_COOKIE_SECURE = True\n    SESSION_COOKIE_HTTPONLY = True\n    SESSION_COOKIE_SAMESITE = 'Lax'\n    PERMANENT_SESSION_LIFETIME = 3600  # 1 hour\n    \n    # Cache\n    CACHE_TYPE = 'redis'\n    CACHE_REDIS_URL = os.environ.get('REDIS_URL', 'redis://localhost:6379/0')\n    CACHE_DEFAULT_TIMEOUT = 300\n    \n    # Rate Limiting\n    RATELIMIT_STORAGE_URL = os.environ.get('REDIS_URL', 'redis://localhost:6379/1')\n    RATELIMIT_DEFAULT = '100/hour'\n    \n    # Logging\n    LOG_LEVEL = os.environ.get('LOG_LEVEL', 'INFO')\n    LOG_FILE = os.environ.get('LOG_FILE', '/var/log/app/app.log')\n    \n    # File Upload\n    MAX_CONTENT_LENGTH = 16 * 1024 * 1024  # 16MB\n    UPLOAD_FOLDER = os.environ.get('UPLOAD_FOLDER', '/var/uploads')\n    \n    # Email\n    MAIL_SERVER = os.environ.get('MAIL_SERVER')\n    MAIL_PORT = int(os.environ.get('MAIL_PORT', 587))\n    MAIL_USE_TLS = os.environ.get('MAIL_USE_TLS', 'true').lower() in ['true', 'on', '1']\n    MAIL_USERNAME = os.environ.get('MAIL_USERNAME')\n    MAIL_PASSWORD = os.environ.get('MAIL_PASSWORD')\n    MAIL_DEFAULT_SENDER = os.environ.get('MAIL_DEFAULT_SENDER')\n```\n\n## WSGI Configuration\n\n```python\n# wsgi.py\nimport os\nfrom app import create_app\n\n# Get environment\nconfig_name = os.environ.get('FLASK_ENV', 'production')\napp = create_app(config_name)\n\nif __name__ == \"__main__\":\n    app.run()\n```\n\n## Gunicorn Configuration\n\n```python\n# gunicorn.conf.py\nimport multiprocessing\nimport os\n\n# Server socket\nbind = f\"0.0.0.0:{os.environ.get('PORT', 8000)}\"\nbacklog = 2048\n\n# Worker processes\nworkers = multiprocessing.cpu_count() * 2 + 1\nworker_class = 'sync'\nworker_connections = 1000\ntimeout = 30\nkeepalive = 60\nmax_requests = 1000\nmax_requests_jitter = 100\n\n# Security\nlimit_request_line = 4094\nlimit_request_fields = 100\nlimit_request_field_size = 8190\n\n# Logging\naccesslog = '-'\nerrorlog = '-'\nloglevel = os.environ.get('LOG_LEVEL', 'info').lower()\naccess_log_format = '%(h)s %(l)s %(u)s %(t)s \"%(r)s\" %(s)s %(b)s \"%(f)s\" \"%(a)s\" %(D)s'\n\n# Process naming\nproc_name = 'flask_app'\n\n# Server mechanics\ndaemon = False\npidfile = '/tmp/gunicorn.pid'\nuser = os.environ.get('USER', 'www-data')\ngroup = os.environ.get('GROUP', 'www-data')\ntmp_upload_dir = None\n\n# SSL\nkeyfile = os.environ.get('SSL_KEYFILE')\ncertfile = os.environ.get('SSL_CERTFILE')\n```\n\n## Docker Configuration\n\n```dockerfile\n# Dockerfile\nFROM python:3.11-slim\n\n# Set environment variables\nENV PYTHONDONTWRITEBYTECODE=1 \\\n    PYTHONUNBUFFERED=1 \\\n    PIP_NO_CACHE_DIR=1 \\\n    PIP_DISABLE_PIP_VERSION_CHECK=1\n\n# Install system dependencies\nRUN apt-get update && apt-get install -y \\\n    build-essential \\\n    libpq-dev \\\n    curl \\\n    && rm -rf /var/lib/apt/lists/*\n\n# Create app user\nRUN groupadd -r appuser && useradd -r -g appuser appuser\n\n# Set work directory\nWORKDIR /app\n\n# Install Python dependencies\nCOPY requirements/production.txt ./requirements.txt\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy application code\nCOPY . .\n\n# Create necessary directories\nRUN mkdir -p /var/log/app /var/uploads && \\\n    chown -R appuser:appuser /app /var/log/app /var/uploads\n\n# Switch to non-root user\nUSER appuser\n\n# Expose port\nEXPOSE 8000\n\n# Health check\nHEALTHCHECK --interval=30s --timeout=30s --start-period=5s --retries=3 \\\n    CMD curl -f http://localhost:8000/health || exit 1\n\n# Run application\nCMD [\"gunicorn\", \"--config\", \"gunicorn.conf.py\", \"wsgi:app\"]\n```\n\n## Docker Compose\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\n\nservices:\n  web:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - FLASK_ENV=production\n      - DATABASE_URL=postgresql://postgres:password@db:5432/myapp\n      - REDIS_URL=redis://redis:6379/0\n      - SECRET_KEY=${SECRET_KEY}\n    depends_on:\n      - db\n      - redis\n    volumes:\n      - uploads:/var/uploads\n      - logs:/var/log/app\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8000/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  db:\n    image: postgres:15\n    environment:\n      - POSTGRES_DB=myapp\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U postgres\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  redis:\n    image: redis:7-alpine\n    command: redis-server --appendonly yes\n    volumes:\n      - redis_data:/data\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD\", \"redis-cli\", \"ping\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  nginx:\n    image: nginx:alpine\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf:ro\n      - ./ssl:/etc/nginx/ssl:ro\n      - uploads:/var/uploads:ro\n    depends_on:\n      - web\n    restart: unless-stopped\n\nvolumes:\n  postgres_data:\n  redis_data:\n  uploads:\n  logs:\n```\n\n## Nginx Configuration\n\n```nginx\n# nginx.conf\nevents {\n    worker_connections 1024;\n}\n\nhttp {\n    upstream app {\n        server web:8000;\n    }\n    \n    # Rate limiting\n    limit_req_zone $binary_remote_addr zone=api:10m rate=10r/s;\n    limit_req_zone $binary_remote_addr zone=login:10m rate=1r/s;\n    \n    # SSL configuration\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384;\n    ssl_prefer_server_ciphers off;\n    \n    # Security headers\n    add_header X-Frame-Options DENY;\n    add_header X-Content-Type-Options nosniff;\n    add_header X-XSS-Protection \"1; mode=block\";\n    add_header Strict-Transport-Security \"max-age=31536000; includeSubDomains\" always;\n    \n    server {\n        listen 80;\n        server_name example.com www.example.com;\n        return 301 https://$server_name$request_uri;\n    }\n    \n    server {\n        listen 443 ssl http2;\n        server_name example.com www.example.com;\n        \n        ssl_certificate /etc/nginx/ssl/cert.pem;\n        ssl_certificate_key /etc/nginx/ssl/key.pem;\n        \n        # File upload size\n        client_max_body_size 16M;\n        \n        # Static files\n        location /static/ {\n            alias /var/uploads/static/;\n            expires 1y;\n            add_header Cache-Control \"public, immutable\";\n        }\n        \n        location /uploads/ {\n            alias /var/uploads/;\n            expires 1h;\n        }\n        \n        # API rate limiting\n        location /api/ {\n            limit_req zone=api burst=20 nodelay;\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n        \n        # Login rate limiting\n        location /auth/login {\n            limit_req zone=login burst=5 nodelay;\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n        \n        # Main application\n        location / {\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n            \n            # Timeout settings\n            proxy_connect_timeout 60s;\n            proxy_send_timeout 60s;\n            proxy_read_timeout 60s;\n        }\n    }\n}\n```\n\n## Environment Variables\n\n```bash\n# .env.production\n# Application\nFLASK_ENV=production\nSECRET_KEY=your-super-secret-key-here\n\n# Database\nDATABASE_URL=postgresql://user:password@localhost:5432/myapp\nDB_HOST=localhost\nDB_PORT=5432\nDB_NAME=myapp\nDB_USER=user\nDB_PASSWORD=password\n\n# Redis\nREDIS_URL=redis://localhost:6379/0\n\n# Email\nMAIL_SERVER=smtp.gmail.com\nMAIL_PORT=587\nMAIL_USE_TLS=true\nMAIL_USERNAME=your-email@gmail.com\nMAIL_PASSWORD=your-app-password\nMAIL_DEFAULT_SENDER=your-email@gmail.com\n\n# Logging\nLOG_LEVEL=INFO\nLOG_FILE=/var/log/app/app.log\n\n# File Upload\nUPLOAD_FOLDER=/var/uploads\n\n# SSL (if using)\nSSL_KEYFILE=/path/to/private.key\nSSL_CERTFILE=/path/to/certificate.crt\n```\n\n## Health Check Endpoint\n\n```python\n# app/health.py\nfrom flask import Blueprint, jsonify\nfrom app.extensions import db\nfrom sqlalchemy import text\nimport redis\nimport os\n\nhealth_bp = Blueprint('health', __name__)\n\n@health_bp.route('/health')\ndef health_check():\n    \"\"\"Application health check.\"\"\"\n    checks = {\n        'status': 'healthy',\n        'database': check_database(),\n        'redis': check_redis(),\n        'disk_space': check_disk_space()\n    }\n    \n    # Determine overall status\n    if all(check['status'] == 'ok' for check in checks.values() if isinstance(check, dict)):\n        status_code = 200\n    else:\n        status_code = 503\n        checks['status'] = 'unhealthy'\n    \n    return jsonify(checks), status_code\n\ndef check_database():\n    \"\"\"Check database connectivity.\"\"\"\n    try:\n        db.session.execute(text('SELECT 1'))\n        return {'status': 'ok', 'message': 'Database connection successful'}\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n\ndef check_redis():\n    \"\"\"Check Redis connectivity.\"\"\"\n    try:\n        redis_url = os.environ.get('REDIS_URL', 'redis://localhost:6379/0')\n        r = redis.from_url(redis_url)\n        r.ping()\n        return {'status': 'ok', 'message': 'Redis connection successful'}\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n\ndef check_disk_space():\n    \"\"\"Check available disk space.\"\"\"\n    try:\n        import shutil\n        total, used, free = shutil.disk_usage('/')\n        free_percent = (free / total) * 100\n        \n        if free_percent > 10:\n            status = 'ok'\n        elif free_percent > 5:\n            status = 'warning'\n        else:\n            status = 'critical'\n        \n        return {\n            'status': status,\n            'free_space_percent': round(free_percent, 2),\n            'free_space_gb': round(free / (1024**3), 2)\n        }\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n```\n\n## Monitoring and Logging\n\n```python\n# app/logging.py\nimport logging\nimport logging.handlers\nimport os\nfrom flask import request, g\nimport time\n\ndef setup_logging(app):\n    \"\"\"Setup application logging.\"\"\"\n    if not app.debug and not app.testing:\n        # File logging\n        if app.config.get('LOG_FILE'):\n            file_handler = logging.handlers.RotatingFileHandler(\n                app.config['LOG_FILE'],\n                maxBytes=10240000,  # 10MB\n                backupCount=10\n            )\n            file_handler.setFormatter(logging.Formatter(\n                '%(asctime)s %(levelname)s: %(message)s '\n                '[in %(pathname)s:%(lineno)d]'\n            ))\n            file_handler.setLevel(getattr(logging, app.config.get('LOG_LEVEL', 'INFO')))\n            app.logger.addHandler(file_handler)\n        \n        # Console logging\n        if not app.logger.handlers:\n            stream_handler = logging.StreamHandler()\n            stream_handler.setFormatter(logging.Formatter(\n                '%(asctime)s %(levelname)s: %(message)s'\n            ))\n            stream_handler.setLevel(logging.INFO)\n            app.logger.addHandler(stream_handler)\n        \n        app.logger.setLevel(logging.INFO)\n        app.logger.info('Application startup')\n\n# Request timing middleware\n@app.before_request\ndef before_request():\n    g.start_time = time.time()\n\n@app.after_request\ndef after_request(response):\n    if hasattr(g, 'start_time'):\n        duration = time.time() - g.start_time\n        app.logger.info(\n            f'{request.method} {request.path} - '\n            f'{response.status_code} - {duration:.3f}s'\n        )\n    return response\n```\n\n## Database Backup Script\n\n```bash\n#!/bin/bash\n# backup.sh\n\nset -e\n\n# Configuration\nBACKUP_DIR=\"/var/backups/db\"\nDATABASE_URL=\"$DATABASE_URL\"\nDATE=$(date +%Y%m%d_%H%M%S)\nBACKUP_FILE=\"$BACKUP_DIR/backup_$DATE.sql\"\nRETENTION_DAYS=7\n\n# Create backup directory\nmkdir -p \"$BACKUP_DIR\"\n\n# Create backup\necho \"Creating database backup...\"\npg_dump \"$DATABASE_URL\" > \"$BACKUP_FILE\"\n\n# Compress backup\ngzip \"$BACKUP_FILE\"\n\n# Remove old backups\necho \"Cleaning up old backups...\"\nfind \"$BACKUP_DIR\" -name \"backup_*.sql.gz\" -mtime +$RETENTION_DAYS -delete\n\necho \"Backup completed: $BACKUP_FILE.gz\"\n```\n\n## Deployment Scripts\n\n```bash\n#!/bin/bash\n# deploy.sh\n\nset -e\n\necho \"Starting deployment...\"\n\n# Pull latest code\ngit pull origin main\n\n# Build new Docker image\ndocker-compose build web\n\n# Run database migrations\ndocker-compose run --rm web flask db upgrade\n\n# Update services\ndocker-compose up -d\n\n# Health check\necho \"Waiting for application to be ready...\"\nsleep 10\n\nif curl -f http://localhost:8000/health; then\n    echo \"Deployment successful!\"\nelse\n    echo \"Deployment failed - health check failed\"\n    exit 1\nfi\n```\n\n## Monitoring with Prometheus\n\n```python\n# app/metrics.py\nfrom prometheus_flask_exporter import PrometheusMetrics\nfrom flask import request\nimport time\n\ndef setup_metrics(app):\n    \"\"\"Setup Prometheus metrics.\"\"\"\n    metrics = PrometheusMetrics(app)\n    \n    # Custom metrics\n    metrics.info('app_info', 'Application info', version='1.0.0')\n    \n    # Database connection pool metrics\n    @metrics.gauge('db_pool_size', 'Database connection pool size')\n    def db_pool_size():\n        from app.extensions import db\n        return db.engine.pool.size()\n    \n    return metrics\n```\n"
              },
              {
                "name": "/flask-route",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/flask-route.md",
                "frontmatter": null,
                "content": "# Flask Route Generator\n\nCreate Flask routes with proper structure and error handling.\n\n## Purpose\n\nThis command helps you quickly create Flask routes with validation, error handling, and best practices.\n\n## Usage\n\n```\n/flask-route\n```\n\n## What this command does\n\n1. **Creates route functions** with proper decorators\n2. **Adds request validation** and error handling\n3. **Includes JSON responses** and status codes\n4. **Implements authentication** if needed\n5. **Follows Flask conventions** and best practices\n\n## Example Output\n\n```python\n# routes.py or app.py\nfrom flask import Flask, request, jsonify, abort\nfrom flask_sqlalchemy import SQLAlchemy\nfrom werkzeug.exceptions import BadRequest\n\napp = Flask(__name__)\n\n@app.route('/users', methods=['GET'])\ndef get_users():\n    \"\"\"Get all users with optional pagination.\"\"\"\n    try:\n        page = request.args.get('page', 1, type=int)\n        per_page = request.args.get('per_page', 10, type=int)\n        \n        users = User.query.paginate(\n            page=page, \n            per_page=per_page, \n            error_out=False\n        )\n        \n        return jsonify({\n            'users': [user.to_dict() for user in users.items],\n            'total': users.total,\n            'pages': users.pages,\n            'current_page': page\n        }), 200\n        \n    except Exception as e:\n        return jsonify({'error': 'Failed to fetch users'}), 500\n\n@app.route('/users/<int:user_id>', methods=['GET'])\ndef get_user(user_id):\n    \"\"\"Get a specific user by ID.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        return jsonify(user.to_dict()), 200\n        \n    except Exception as e:\n        return jsonify({'error': 'User not found'}), 404\n\n@app.route('/users', methods=['POST'])\ndef create_user():\n    \"\"\"Create a new user.\"\"\"\n    try:\n        data = request.get_json()\n        \n        if not data:\n            return jsonify({'error': 'No data provided'}), 400\n        \n        # Validate required fields\n        required_fields = ['name', 'email']\n        for field in required_fields:\n            if field not in data:\n                return jsonify({'error': f'{field} is required'}), 400\n        \n        # Check if email already exists\n        if User.query.filter_by(email=data['email']).first():\n            return jsonify({'error': 'Email already exists'}), 409\n        \n        # Create new user\n        user = User(\n            name=data['name'],\n            email=data['email'],\n            phone=data.get('phone'),\n            address=data.get('address')\n        )\n        \n        db.session.add(user)\n        db.session.commit()\n        \n        return jsonify(user.to_dict()), 201\n        \n    except BadRequest:\n        return jsonify({'error': 'Invalid JSON data'}), 400\n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to create user'}), 500\n\n@app.route('/users/<int:user_id>', methods=['PUT'])\ndef update_user(user_id):\n    \"\"\"Update an existing user.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        data = request.get_json()\n        \n        if not data:\n            return jsonify({'error': 'No data provided'}), 400\n        \n        # Update fields\n        if 'name' in data:\n            user.name = data['name']\n        if 'email' in data:\n            # Check if new email already exists\n            existing_user = User.query.filter_by(email=data['email']).first()\n            if existing_user and existing_user.id != user_id:\n                return jsonify({'error': 'Email already exists'}), 409\n            user.email = data['email']\n        if 'phone' in data:\n            user.phone = data['phone']\n        if 'address' in data:\n            user.address = data['address']\n        \n        db.session.commit()\n        \n        return jsonify(user.to_dict()), 200\n        \n    except BadRequest:\n        return jsonify({'error': 'Invalid JSON data'}), 400\n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to update user'}), 500\n\n@app.route('/users/<int:user_id>', methods=['DELETE'])\ndef delete_user(user_id):\n    \"\"\"Delete a user.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        \n        db.session.delete(user)\n        db.session.commit()\n        \n        return jsonify({'message': 'User deleted successfully'}), 200\n        \n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to delete user'}), 500\n\n# Error handlers\n@app.errorhandler(404)\ndef not_found(error):\n    return jsonify({'error': 'Resource not found'}), 404\n\n@app.errorhandler(400)\ndef bad_request(error):\n    return jsonify({'error': 'Bad request'}), 400\n\n@app.errorhandler(500)\ndef internal_error(error):\n    return jsonify({'error': 'Internal server error'}), 500\n```\n\n## Route Patterns Supported\n\n### Basic Routes\n```python\n@app.route('/')\n@app.route('/users')\n@app.route('/users/<int:user_id>')\n```\n\n### HTTP Methods\n```python\n@app.route('/users', methods=['GET', 'POST'])\n@app.route('/users/<int:id>', methods=['GET', 'PUT', 'DELETE'])\n```\n\n### URL Parameters\n```python\n@app.route('/users/<int:user_id>')\n@app.route('/posts/<string:slug>')\n@app.route('/files/<path:filename>')\n```\n\n## Best Practices Included\n\n- **Input validation** for all user data\n- **Proper HTTP status codes** (200, 201, 400, 404, 500)\n- **JSON responses** with consistent structure\n- **Error handling** with try/catch blocks\n- **Database rollback** on errors\n- **RESTful conventions** for URL design\n- **Documentation strings** for each route\n- **Request data validation** before processing\n\n## Common Response Patterns\n\n```python\n# Success with data\nreturn jsonify({'data': result}), 200\n\n# Created resource\nreturn jsonify({'data': new_resource, 'id': new_id}), 201\n\n# Validation error\nreturn jsonify({'error': 'Field is required'}), 400\n\n# Not found\nreturn jsonify({'error': 'Resource not found'}), 404\n\n# Server error\nreturn jsonify({'error': 'Internal server error'}), 500\n```"
              },
              {
                "name": "/testing",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/testing.md",
                "frontmatter": null,
                "content": "# Flask Testing Suite\n\nComprehensive testing setup for Flask applications with pytest.\n\n## Usage\n\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=app --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n```\n\n## Test Configuration\n\n```python\n# pytest.ini\n[tool:pytest]\ntestpaths = tests\npython_files = test_*.py\npython_classes = Test*\npython_functions = test_*\naddopts = \n    --cov=app\n    --cov-report=term-missing\n    --cov-report=html:htmlcov\n    --strict-markers\n    --disable-warnings\nmarkers =\n    unit: Unit tests\n    integration: Integration tests\n    slow: Slow running tests\n    auth: Authentication tests\n```\n\n## Test Fixtures\n\n```python\n# tests/conftest.py\nimport pytest\nimport tempfile\nimport os\nfrom app import create_app\nfrom app.extensions import db\nfrom app.models import User, Post, Category\nfrom flask_login import login_user\n\n@pytest.fixture(scope='session')\ndef app():\n    \"\"\"Create test application.\"\"\"\n    # Create temporary database\n    db_fd, db_path = tempfile.mkstemp()\n    \n    app = create_app({\n        'TESTING': True,\n        'SQLALCHEMY_DATABASE_URI': f'sqlite:///{db_path}',\n        'WTF_CSRF_ENABLED': False,\n        'SECRET_KEY': 'test-secret-key'\n    })\n    \n    with app.app_context():\n        db.create_all()\n        yield app\n        \n    # Cleanup\n    os.close(db_fd)\n    os.unlink(db_path)\n\n@pytest.fixture\ndef client(app):\n    \"\"\"Create test client.\"\"\"\n    return app.test_client()\n\n@pytest.fixture\ndef runner(app):\n    \"\"\"Create test CLI runner.\"\"\"\n    return app.test_cli_runner()\n\n@pytest.fixture\ndef db_session(app):\n    \"\"\"Create database session for testing.\"\"\"\n    with app.app_context():\n        connection = db.engine.connect()\n        transaction = connection.begin()\n        \n        # Configure session to use the connection\n        db.session.configure(bind=connection)\n        \n        yield db.session\n        \n        # Rollback transaction\n        transaction.rollback()\n        connection.close()\n        db.session.remove()\n\n@pytest.fixture\ndef user(db_session):\n    \"\"\"Create test user.\"\"\"\n    user = User(\n        username='testuser',\n        email='test@example.com',\n        first_name='Test',\n        last_name='User'\n    )\n    user.set_password('testpass123')\n    user.save()\n    return user\n\n@pytest.fixture\ndef admin_user(db_session):\n    \"\"\"Create admin user.\"\"\"\n    admin = User(\n        username='admin',\n        email='admin@example.com',\n        first_name='Admin',\n        last_name='User',\n        is_admin=True\n    )\n    admin.set_password('adminpass123')\n    admin.save()\n    return admin\n\n@pytest.fixture\ndef category(db_session):\n    \"\"\"Create test category.\"\"\"\n    category = Category(\n        name='Test Category',\n        description='A test category'\n    )\n    category.save()\n    return category\n\n@pytest.fixture\ndef post(db_session, user, category):\n    \"\"\"Create test post.\"\"\"\n    post = Post(\n        title='Test Post',\n        content='This is a test post content.',\n        slug='test-post',\n        status='published',\n        user_id=user.id,\n        category_id=category.id\n    )\n    post.save()\n    return post\n\n@pytest.fixture\ndef auth_headers(user):\n    \"\"\"Create authentication headers.\"\"\"\n    # For API testing\n    token = user.generate_auth_token()\n    return {'Authorization': f'Bearer {token}'}\n```\n\n## Model Testing\n\n```python\n# tests/test_models.py\nimport pytest\nfrom datetime import datetime\nfrom app.models import User, Post, Category\nfrom werkzeug.security import check_password_hash\n\nclass TestUser:\n    \"\"\"Test User model.\"\"\"\n    \n    def test_user_creation(self, db_session):\n        \"\"\"Test user creation.\"\"\"\n        user = User(\n            username='newuser',\n            email='new@example.com',\n            first_name='New',\n            last_name='User'\n        )\n        user.set_password('password123')\n        user.save()\n        \n        assert user.id is not None\n        assert user.username == 'newuser'\n        assert user.email == 'new@example.com'\n        assert user.full_name == 'New User'\n        assert user.is_active is True\n        assert user.is_admin is False\n        assert user.created_at is not None\n    \n    def test_password_hashing(self, user):\n        \"\"\"Test password hashing.\"\"\"\n        user.set_password('newpassword')\n        assert user.password_hash != 'newpassword'\n        assert check_password_hash(user.password_hash, 'newpassword')\n        assert user.check_password('newpassword')\n        assert not user.check_password('wrongpassword')\n    \n    def test_user_repr(self, user):\n        \"\"\"Test user string representation.\"\"\"\n        assert repr(user) == '<User testuser>'\n    \n    def test_user_to_dict(self, user):\n        \"\"\"Test user dictionary conversion.\"\"\"\n        user_dict = user.to_dict()\n        assert 'username' in user_dict\n        assert 'email' in user_dict\n        assert 'password_hash' not in user_dict  # Should be excluded\n    \n    def test_user_relationships(self, user, post):\n        \"\"\"Test user relationships.\"\"\"\n        assert post in user.posts\n        assert user.posts.count() == 1\n\nclass TestPost:\n    \"\"\"Test Post model.\"\"\"\n    \n    def test_post_creation(self, db_session, user, category):\n        \"\"\"Test post creation.\"\"\"\n        post = Post(\n            title='New Post',\n            content='New post content',\n            slug='new-post',\n            status='draft',\n            user_id=user.id,\n            category_id=category.id\n        )\n        post.save()\n        \n        assert post.id is not None\n        assert post.title == 'New Post'\n        assert post.author == user\n        assert post.category == category\n        assert not post.is_published\n    \n    def test_published_status(self, post):\n        \"\"\"Test post published status.\"\"\"\n        assert post.is_published  # Published with published_at\n        \n        post.status = 'draft'\n        assert not post.is_published\n```\n\n## View Testing\n\n```python\n# tests/test_views.py\nimport pytest\nfrom flask import url_for\nfrom app.models import User\n\nclass TestMainViews:\n    \"\"\"Test main application views.\"\"\"\n    \n    def test_home_page(self, client):\n        \"\"\"Test home page.\"\"\"\n        response = client.get('/')\n        assert response.status_code == 200\n        assert b'Welcome' in response.data\n    \n    def test_about_page(self, client):\n        \"\"\"Test about page.\"\"\"\n        response = client.get('/about')\n        assert response.status_code == 200\n\nclass TestUserViews:\n    \"\"\"Test user-related views.\"\"\"\n    \n    def test_user_list(self, client, user):\n        \"\"\"Test user list page.\"\"\"\n        response = client.get('/users/')\n        assert response.status_code == 200\n        assert user.username.encode() in response.data\n    \n    def test_user_detail(self, client, user):\n        \"\"\"Test user detail page.\"\"\"\n        response = client.get(f'/users/{user.id}')\n        assert response.status_code == 200\n        assert user.username.encode() in response.data\n    \n    def test_user_create_get(self, client):\n        \"\"\"Test user creation form.\"\"\"\n        response = client.get('/users/create')\n        assert response.status_code == 200\n        assert b'Create User' in response.data\n    \n    def test_user_create_post(self, client, db_session):\n        \"\"\"Test user creation submission.\"\"\"\n        data = {\n            'username': 'newuser',\n            'email': 'new@example.com',\n            'first_name': 'New',\n            'last_name': 'User',\n            'password': 'password123',\n            'confirm_password': 'password123'\n        }\n        response = client.post('/users/create', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Check user was created\n        user = User.query.filter_by(username='newuser').first()\n        assert user is not None\n        assert user.email == 'new@example.com'\n    \n    def test_user_edit(self, client, user):\n        \"\"\"Test user editing.\"\"\"\n        data = {\n            'username': user.username,\n            'email': 'updated@example.com',\n            'first_name': 'Updated',\n            'last_name': 'User'\n        }\n        response = client.post(f'/users/{user.id}/edit', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Refresh user from database\n        db_session.refresh(user)\n        assert user.email == 'updated@example.com'\n        assert user.first_name == 'Updated'\n```\n\n## Authentication Testing\n\n```python\n# tests/test_auth.py\nimport pytest\nfrom flask import url_for\nfrom app.models import User\n\nclass TestAuthentication:\n    \"\"\"Test authentication functionality.\"\"\"\n    \n    def test_login_page(self, client):\n        \"\"\"Test login page access.\"\"\"\n        response = client.get('/auth/login')\n        assert response.status_code == 200\n        assert b'Login' in response.data\n    \n    def test_valid_login(self, client, user):\n        \"\"\"Test valid user login.\"\"\"\n        data = {\n            'username': user.username,\n            'password': 'testpass123'\n        }\n        response = client.post('/auth/login', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        assert b'Welcome' in response.data\n    \n    def test_invalid_login(self, client, user):\n        \"\"\"Test invalid login credentials.\"\"\"\n        data = {\n            'username': user.username,\n            'password': 'wrongpassword'\n        }\n        response = client.post('/auth/login', data=data)\n        assert response.status_code == 200\n        assert b'Invalid' in response.data\n    \n    def test_logout(self, client, user):\n        \"\"\"Test user logout.\"\"\"\n        # Login first\n        with client.session_transaction() as sess:\n            sess['_user_id'] = str(user.id)\n        \n        response = client.get('/auth/logout', follow_redirects=True)\n        assert response.status_code == 200\n    \n    def test_register_page(self, client):\n        \"\"\"Test registration page.\"\"\"\n        response = client.get('/auth/register')\n        assert response.status_code == 200\n        assert b'Register' in response.data\n    \n    def test_valid_registration(self, client, db_session):\n        \"\"\"Test valid user registration.\"\"\"\n        data = {\n            'username': 'newuser',\n            'email': 'new@example.com',\n            'first_name': 'New',\n            'last_name': 'User',\n            'password': 'password123',\n            'confirm_password': 'password123'\n        }\n        response = client.post('/auth/register', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Check user was created\n        user = User.query.filter_by(username='newuser').first()\n        assert user is not None\n```\n\n## API Testing\n\n```python\n# tests/test_api.py\nimport pytest\nimport json\nfrom flask import url_for\n\nclass TestUserAPI:\n    \"\"\"Test User API endpoints.\"\"\"\n    \n    def test_get_users(self, client, user):\n        \"\"\"Test GET /api/users.\"\"\"\n        response = client.get('/api/users')\n        assert response.status_code == 200\n        \n        data = json.loads(response.data)\n        assert 'users' in data\n        assert len(data['users']) >= 1\n    \n    def test_get_user(self, client, user):\n        \"\"\"Test GET /api/users/<id>.\"\"\"\n        response = client.get(f'/api/users/{user.id}')\n        assert response.status_code == 200\n        \n        data = json.loads(response.data)\n        assert data['username'] == user.username\n        assert data['email'] == user.email\n    \n    def test_create_user(self, client, db_session):\n        \"\"\"Test POST /api/users.\"\"\"\n        user_data = {\n            'username': 'apiuser',\n            'email': 'api@example.com',\n            'first_name': 'API',\n            'last_name': 'User',\n            'password': 'password123'\n        }\n        \n        response = client.post(\n            '/api/users',\n            data=json.dumps(user_data),\n            content_type='application/json'\n        )\n        \n        assert response.status_code == 201\n        data = json.loads(response.data)\n        assert data['username'] == 'apiuser'\n    \n    def test_update_user(self, client, user, auth_headers):\n        \"\"\"Test PUT /api/users/<id>.\"\"\"\n        update_data = {\n            'email': 'updated@example.com',\n            'first_name': 'Updated'\n        }\n        \n        response = client.put(\n            f'/api/users/{user.id}',\n            data=json.dumps(update_data),\n            content_type='application/json',\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = json.loads(response.data)\n        assert data['email'] == 'updated@example.com'\n    \n    def test_delete_user(self, client, user, auth_headers):\n        \"\"\"Test DELETE /api/users/<id>.\"\"\"\n        response = client.delete(\n            f'/api/users/{user.id}',\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 204\n```\n\n## Test Utilities\n\n```python\n# tests/utils.py\nimport json\nfrom flask import url_for\n\ndef login_user(client, username, password):\n    \"\"\"Helper to login user in tests.\"\"\"\n    return client.post('/auth/login', data={\n        'username': username,\n        'password': password\n    }, follow_redirects=True)\n\ndef logout_user(client):\n    \"\"\"Helper to logout user in tests.\"\"\"\n    return client.get('/auth/logout', follow_redirects=True)\n\ndef assert_json_response(response, expected_status=200):\n    \"\"\"Assert JSON response format and status.\"\"\"\n    assert response.status_code == expected_status\n    assert response.content_type == 'application/json'\n    return json.loads(response.data)\n\ndef create_test_data(db_session):\n    \"\"\"Create common test data.\"\"\"\n    from app.models import User, Category, Post\n    \n    # Create test users\n    users = []\n    for i in range(3):\n        user = User(\n            username=f'user{i}',\n            email=f'user{i}@example.com',\n            first_name=f'User{i}',\n            last_name='Test'\n        )\n        user.set_password('password123')\n        user.save()\n        users.append(user)\n    \n    return {'users': users}\n```\n\n## Performance Testing\n\n```python\n# tests/test_performance.py\nimport pytest\nimport time\nfrom app.models import User\n\n@pytest.mark.slow\nclass TestPerformance:\n    \"\"\"Test application performance.\"\"\"\n    \n    def test_user_query_performance(self, db_session):\n        \"\"\"Test user query performance.\"\"\"\n        # Create multiple users\n        users = []\n        for i in range(100):\n            user = User(\n                username=f'perfuser{i}',\n                email=f'perf{i}@example.com',\n                first_name=f'Perf{i}',\n                last_name='User'\n            )\n            users.append(user)\n        \n        db_session.bulk_save_objects(users)\n        db_session.commit()\n        \n        # Test query performance\n        start_time = time.time()\n        result = User.query.all()\n        end_time = time.time()\n        \n        assert len(result) >= 100\n        assert (end_time - start_time) < 0.1  # Should complete in under 100ms\n    \n    def test_endpoint_response_time(self, client):\n        \"\"\"Test endpoint response time.\"\"\"\n        start_time = time.time()\n        response = client.get('/')\n        end_time = time.time()\n        \n        assert response.status_code == 200\n        assert (end_time - start_time) < 0.5  # Should respond in under 500ms\n```\n"
              },
              {
                "name": "/model",
                "description": null,
                "path": "cli-tool/templates/ruby/.claude/commands/model.md",
                "frontmatter": null,
                "content": "# Ruby Model Generator\n\nCreate Ruby classes and models with proper structure and best practices.\n\n## Purpose\n\nThis command helps you quickly create Ruby model classes with proper initialization, attributes, and methods following Ruby conventions.\n\n## Usage\n\n```\n/model\n```\n\n## What this command does\n\n1. **Creates model classes** with proper initialization methods\n2. **Adds attribute accessors** and instance variables\n3. **Includes validation methods** and error handling\n4. **Follows Ruby conventions** and best practices\n5. **Generates related test files** when applicable\n\n## Example Output\n\n```ruby\n# app/models/user.rb\nclass User\n  attr_accessor :name, :email, :age\n  attr_reader :id, :created_at\n  \n  def initialize(attributes = {})\n    @id = attributes[:id] || generate_id\n    @name = attributes[:name]\n    @email = attributes[:email]\n    @age = attributes[:age]\n    @created_at = Time.now\n    @errors = []\n  end\n  \n  def valid?\n    @errors.clear\n    validate_presence_of_name\n    validate_email_format\n    validate_age_range\n    @errors.empty?\n  end\n  \n  def errors\n    @errors.dup\n  end\n  \n  def save\n    return false unless valid?\n    \n    # Persist logic here\n    true\n  end\n  \n  def to_h\n    {\n      id: @id,\n      name: @name,\n      email: @email,\n      age: @age,\n      created_at: @created_at\n    }\n  end\n  \n  def to_json(*args)\n    JSON.generate(to_h, *args)\n  end\n  \n  private\n  \n  def validate_presence_of_name\n    if @name.nil? || @name.strip.empty?\n      @errors << \"Name cannot be blank\"\n    end\n  end\n  \n  def validate_email_format\n    if @email && !@email.match?(/\\A[\\w+\\-.]+@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)*\\.[a-z]+\\z/i)\n      @errors << \"Email format is invalid\"\n    end\n  end\n  \n  def validate_age_range\n    if @age && (@age < 0 || @age > 150)\n      @errors << \"Age must be between 0 and 150\"\n    end\n  end\n  \n  def generate_id\n    SecureRandom.uuid\n  end\nend\n\n# Example with inheritance\nclass AdminUser < User\n  attr_accessor :permissions\n  \n  def initialize(attributes = {})\n    super\n    @permissions = attributes[:permissions] || []\n  end\n  \n  def admin?\n    true\n  end\n  \n  def has_permission?(permission)\n    @permissions.include?(permission)\n  end\n  \n  private\n  \n  def validate_permissions\n    unless @permissions.is_a?(Array)\n      @errors << \"Permissions must be an array\"\n    end\n  end\nend\n```\n\n## Advanced Features\n\n### Module Inclusion\n```ruby\nmodule Timestamps\n  def self.included(base)\n    base.extend(ClassMethods)\n  end\n  \n  module ClassMethods\n    def with_timestamps\n      attr_reader :created_at, :updated_at\n      \n      define_method :initialize do |*args|\n        super(*args)\n        @created_at ||= Time.now\n        @updated_at = @created_at\n      end\n      \n      define_method :touch do\n        @updated_at = Time.now\n      end\n    end\n  end\nend\n\nclass Post\n  include Timestamps\n  with_timestamps\n  \n  attr_accessor :title, :content\n  \n  def initialize(attributes = {})\n    @title = attributes[:title]\n    @content = attributes[:content]\n    super\n  end\nend\n```\n\n### Class Methods and Scopes\n```ruby\nclass User\n  @@users = []\n  \n  def self.all\n    @@users.dup\n  end\n  \n  def self.find_by_email(email)\n    @@users.find { |user| user.email == email }\n  end\n  \n  def self.where(conditions = {})\n    @@users.select do |user|\n      conditions.all? { |key, value| user.send(key) == value }\n    end\n  end\n  \n  def self.create(attributes = {})\n    user = new(attributes)\n    if user.save\n      @@users << user\n      user\n    else\n      nil\n    end\n  end\n  \n  def save\n    return false unless valid?\n    \n    unless @@users.include?(self)\n      @@users << self\n    end\n    true\n  end\n  \n  def destroy\n    @@users.delete(self)\n  end\nend\n```\n\n## Testing Template\n\n```ruby\n# spec/models/user_spec.rb\nrequire 'spec_helper'\n\nRSpec.describe User do\n  let(:valid_attributes) do\n    {\n      name: 'John Doe',\n      email: 'john@example.com',\n      age: 30\n    }\n  end\n  \n  describe '#initialize' do\n    it 'sets attributes correctly' do\n      user = User.new(valid_attributes)\n      \n      expect(user.name).to eq('John Doe')\n      expect(user.email).to eq('john@example.com')\n      expect(user.age).to eq(30)\n      expect(user.id).not_to be_nil\n      expect(user.created_at).to be_a(Time)\n    end\n  end\n  \n  describe '#valid?' do\n    it 'returns true for valid attributes' do\n      user = User.new(valid_attributes)\n      expect(user).to be_valid\n    end\n    \n    it 'returns false when name is blank' do\n      user = User.new(valid_attributes.merge(name: ''))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Name cannot be blank')\n    end\n    \n    it 'returns false for invalid email format' do\n      user = User.new(valid_attributes.merge(email: 'invalid-email'))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Email format is invalid')\n    end\n    \n    it 'returns false for invalid age' do\n      user = User.new(valid_attributes.merge(age: -5))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Age must be between 0 and 150')\n    end\n  end\n  \n  describe '#save' do\n    it 'saves valid user' do\n      user = User.new(valid_attributes)\n      expect(user.save).to be true\n    end\n    \n    it 'does not save invalid user' do\n      user = User.new(name: '')\n      expect(user.save).to be false\n    end\n  end\n  \n  describe '#to_h' do\n    it 'returns hash representation' do\n      user = User.new(valid_attributes)\n      hash = user.to_h\n      \n      expect(hash).to include(\n        name: 'John Doe',\n        email: 'john@example.com',\n        age: 30\n      )\n      expect(hash[:id]).not_to be_nil\n      expect(hash[:created_at]).to be_a(Time)\n    end\n  end\nend\n```\n\n## Best Practices Included\n\n- **Proper initialization** with hash parameters\n- **Attribute accessors** for public attributes\n- **Validation methods** with error collection\n- **JSON serialization** support\n- **Class and instance methods** separation\n- **Error handling** and reporting\n- **Ruby naming conventions** (snake_case)\n- **Encapsulation** with private methods\n\n## Common Patterns\n\n### Value Objects\n```ruby\nclass Money\n  include Comparable\n  \n  attr_reader :amount, :currency\n  \n  def initialize(amount, currency = 'USD')\n    @amount = amount.to_f\n    @currency = currency.to_s.upcase\n  end\n  \n  def +(other)\n    raise ArgumentError, \"Currency mismatch\" unless currency == other.currency\n    Money.new(amount + other.amount, currency)\n  end\n  \n  def <=>(other)\n    raise ArgumentError, \"Currency mismatch\" unless currency == other.currency\n    amount <=> other.amount\n  end\n  \n  def to_s\n    \"#{currency} #{format('%.2f', amount)}\"\n  end\nend\n```\n\n### Service Objects\n```ruby\nclass UserRegistrationService\n  attr_reader :user, :errors\n  \n  def initialize(user_params)\n    @user_params = user_params\n    @errors = []\n  end\n  \n  def call\n    @user = User.new(@user_params)\n    \n    if @user.valid?\n      @user.save\n      send_welcome_email\n      true\n    else\n      @errors = @user.errors\n      false\n    end\n  end\n  \n  private\n  \n  def send_welcome_email\n    # Email sending logic\n  end\nend\n```"
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/ruby/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Ruby Test Generator\n\nCreate comprehensive test files with RSpec or Minitest following Ruby testing best practices.\n\n## Purpose\n\nThis command helps you quickly create test files with proper structure, examples, and testing patterns for Ruby applications.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Creates test files** with proper structure for RSpec or Minitest\n2. **Includes test examples** for common scenarios\n3. **Sets up test helpers** and support files\n4. **Follows testing conventions** and best practices\n5. **Generates factory/fixture data** when needed\n\n## RSpec Example Output\n\n```ruby\n# spec/models/user_spec.rb\nrequire 'spec_helper'\n\nRSpec.describe User do\n  let(:user) { build(:user) }\n  let(:valid_attributes) do\n    {\n      name: 'John Doe',\n      email: 'john@example.com',\n      age: 30\n    }\n  end\n  \n  describe 'validations' do\n    it { should validate_presence_of(:name) }\n    it { should validate_presence_of(:email) }\n    it { should validate_uniqueness_of(:email) }\n    it { should validate_numericality_of(:age).is_greater_than(0) }\n    \n    context 'when email format is invalid' do\n      let(:user) { build(:user, email: 'invalid-email') }\n      \n      it 'is not valid' do\n        expect(user).not_to be_valid\n        expect(user.errors[:email]).to include('is invalid')\n      end\n    end\n  end\n  \n  describe 'associations' do\n    it { should have_many(:posts) }\n    it { should have_many(:comments) }\n  end\n  \n  describe 'callbacks' do\n    describe 'before_save' do\n      it 'normalizes email' do\n        user = create(:user, email: 'JOHN@EXAMPLE.COM')\n        expect(user.email).to eq('john@example.com')\n      end\n    end\n  end\n  \n  describe 'instance methods' do\n    describe '#full_name' do\n      let(:user) { build(:user, first_name: 'John', last_name: 'Doe') }\n      \n      it 'returns the full name' do\n        expect(user.full_name).to eq('John Doe')\n      end\n      \n      context 'when last_name is missing' do\n        let(:user) { build(:user, first_name: 'John', last_name: nil) }\n        \n        it 'returns only first_name' do\n          expect(user.full_name).to eq('John')\n        end\n      end\n    end\n    \n    describe '#active?' do\n      context 'when user is active' do\n        let(:user) { build(:user, status: 'active') }\n        \n        it 'returns true' do\n          expect(user.active?).to be true\n        end\n      end\n      \n      context 'when user is inactive' do\n        let(:user) { build(:user, status: 'inactive') }\n        \n        it 'returns false' do\n          expect(user.active?).to be false\n        end\n      end\n    end\n  end\n  \n  describe 'class methods' do\n    describe '.active' do\n      let!(:active_user) { create(:user, status: 'active') }\n      let!(:inactive_user) { create(:user, status: 'inactive') }\n      \n      it 'returns only active users' do\n        expect(User.active).to include(active_user)\n        expect(User.active).not_to include(inactive_user)\n      end\n    end\n    \n    describe '.find_by_email' do\n      let!(:user) { create(:user, email: 'test@example.com') }\n      \n      it 'finds user by email' do\n        found_user = User.find_by_email('test@example.com')\n        expect(found_user).to eq(user)\n      end\n      \n      it 'returns nil when user not found' do\n        found_user = User.find_by_email('nonexistent@example.com')\n        expect(found_user).to be_nil\n      end\n    end\n  end\n  \n  describe 'scopes' do\n    describe '.recent' do\n      let!(:old_user) { create(:user, created_at: 1.year.ago) }\n      let!(:recent_user) { create(:user, created_at: 1.day.ago) }\n      \n      it 'returns users created in the last 30 days' do\n        expect(User.recent).to include(recent_user)\n        expect(User.recent).not_to include(old_user)\n      end\n    end\n  end\nend\n```\n\n## Minitest Example Output\n\n```ruby\n# test/models/user_test.rb\nrequire 'test_helper'\n\nclass UserTest < ActiveSupport::TestCase\n  def setup\n    @user = users(:john)\n    @valid_attributes = {\n      name: 'Jane Doe',\n      email: 'jane@example.com',\n      age: 25\n    }\n  end\n  \n  # Validation tests\n  test 'should not save user without name' do\n    user = User.new(@valid_attributes.except(:name))\n    assert_not user.save\n    assert_includes user.errors[:name], \"can't be blank\"\n  end\n  \n  test 'should not save user without email' do\n    user = User.new(@valid_attributes.except(:email))\n    assert_not user.save\n    assert_includes user.errors[:email], \"can't be blank\"\n  end\n  \n  test 'should not save user with invalid email' do\n    user = User.new(@valid_attributes.merge(email: 'invalid-email'))\n    assert_not user.save\n    assert_includes user.errors[:email], 'is invalid'\n  end\n  \n  test 'should not save user with duplicate email' do\n    user1 = User.create!(@valid_attributes)\n    user2 = User.new(@valid_attributes)\n    assert_not user2.save\n    assert_includes user2.errors[:email], 'has already been taken'\n  end\n  \n  test 'should save user with valid attributes' do\n    user = User.new(@valid_attributes)\n    assert user.save\n  end\n  \n  # Association tests\n  test 'should have many posts' do\n    assert_respond_to @user, :posts\n    assert_kind_of ActiveRecord::Associations::CollectionProxy, @user.posts\n  end\n  \n  test 'should have many comments' do\n    assert_respond_to @user, :comments\n  end\n  \n  # Instance method tests\n  test 'full_name should return first and last name' do\n    @user.first_name = 'John'\n    @user.last_name = 'Doe'\n    assert_equal 'John Doe', @user.full_name\n  end\n  \n  test 'full_name should return first name only when last name is missing' do\n    @user.first_name = 'John'\n    @user.last_name = nil\n    assert_equal 'John', @user.full_name\n  end\n  \n  test 'active? should return true for active users' do\n    @user.status = 'active'\n    assert @user.active?\n  end\n  \n  test 'active? should return false for inactive users' do\n    @user.status = 'inactive'\n    assert_not @user.active?\n  end\n  \n  # Class method tests\n  test 'active scope should return only active users' do\n    active_user = User.create!(@valid_attributes.merge(status: 'active'))\n    inactive_user = User.create!(@valid_attributes.merge(\n      email: 'inactive@example.com',\n      status: 'inactive'\n    ))\n    \n    active_users = User.active\n    assert_includes active_users, active_user\n    assert_not_includes active_users, inactive_user\n  end\n  \n  test 'find_by_email should find user by email' do\n    user = User.create!(@valid_attributes)\n    found_user = User.find_by_email(@valid_attributes[:email])\n    assert_equal user, found_user\n  end\n  \n  test 'find_by_email should return nil when user not found' do\n    found_user = User.find_by_email('nonexistent@example.com')\n    assert_nil found_user\n  end\nend\n```\n\n## Controller Test Example\n\n```ruby\n# spec/controllers/users_controller_spec.rb\nrequire 'rails_helper'\n\nRSpec.describe UsersController, type: :controller do\n  let(:user) { create(:user) }\n  let(:valid_attributes) { attributes_for(:user) }\n  let(:invalid_attributes) { { name: '', email: 'invalid' } }\n  \n  describe 'GET #index' do\n    it 'returns a success response' do\n      get :index\n      expect(response).to be_successful\n    end\n    \n    it 'assigns @users' do\n      user1 = create(:user)\n      user2 = create(:user)\n      get :index\n      expect(assigns(:users)).to match_array([user1, user2])\n    end\n  end\n  \n  describe 'GET #show' do\n    it 'returns a success response' do\n      get :show, params: { id: user.to_param }\n      expect(response).to be_successful\n    end\n    \n    it 'assigns the requested user' do\n      get :show, params: { id: user.to_param }\n      expect(assigns(:user)).to eq(user)\n    end\n  end\n  \n  describe 'POST #create' do\n    context 'with valid parameters' do\n      it 'creates a new User' do\n        expect {\n          post :create, params: { user: valid_attributes }\n        }.to change(User, :count).by(1)\n      end\n      \n      it 'redirects to the created user' do\n        post :create, params: { user: valid_attributes }\n        expect(response).to redirect_to(User.last)\n      end\n    end\n    \n    context 'with invalid parameters' do\n      it 'does not create a new User' do\n        expect {\n          post :create, params: { user: invalid_attributes }\n        }.to change(User, :count).by(0)\n      end\n      \n      it 'renders the new template' do\n        post :create, params: { user: invalid_attributes }\n        expect(response).to render_template(:new)\n      end\n    end\n  end\n  \n  describe 'PUT #update' do\n    context 'with valid parameters' do\n      let(:new_attributes) { { name: 'Updated Name' } }\n      \n      it 'updates the requested user' do\n        put :update, params: { id: user.to_param, user: new_attributes }\n        user.reload\n        expect(user.name).to eq('Updated Name')\n      end\n      \n      it 'redirects to the user' do\n        put :update, params: { id: user.to_param, user: new_attributes }\n        expect(response).to redirect_to(user)\n      end\n    end\n    \n    context 'with invalid parameters' do\n      it 'renders the edit template' do\n        put :update, params: { id: user.to_param, user: invalid_attributes }\n        expect(response).to render_template(:edit)\n      end\n    end\n  end\n  \n  describe 'DELETE #destroy' do\n    it 'destroys the requested user' do\n      user # Create user\n      expect {\n        delete :destroy, params: { id: user.to_param }\n      }.to change(User, :count).by(-1)\n    end\n    \n    it 'redirects to the users list' do\n      delete :destroy, params: { id: user.to_param }\n      expect(response).to redirect_to(users_url)\n    end\n  end\nend\n```\n\n## Factory Configuration\n\n```ruby\n# spec/factories/users.rb\nFactoryBot.define do\n  factory :user do\n    sequence(:name) { |n| \"User #{n}\" }\n    sequence(:email) { |n| \"user#{n}@example.com\" }\n    age { rand(18..80) }\n    status { 'active' }\n    \n    trait :inactive do\n      status { 'inactive' }\n    end\n    \n    trait :admin do\n      admin { true }\n    end\n    \n    trait :with_posts do\n      after(:create) do |user|\n        create_list(:post, 3, user: user)\n      end\n    end\n    \n    factory :admin_user, traits: [:admin]\n    factory :inactive_user, traits: [:inactive]\n  end\nend\n```\n\n## Test Helper Configuration\n\n```ruby\n# spec/spec_helper.rb\nrequire 'simplecov'\nSimpleCov.start 'rails' do\n  add_filter '/spec/'\n  add_filter '/config/'\n  add_filter '/vendor/'\n  \n  add_group 'Controllers', 'app/controllers'\n  add_group 'Models', 'app/models'\n  add_group 'Services', 'app/services'\n  add_group 'Libraries', 'lib'\nend\n\nRSpec.configure do |config|\n  config.expect_with :rspec do |expectations|\n    expectations.include_chain_clauses_in_custom_matcher_descriptions = true\n  end\n  \n  config.mock_with :rspec do |mocks|\n    mocks.verify_partial_doubles = true\n  end\n  \n  config.shared_context_metadata_behavior = :apply_to_host_groups\n  config.filter_run_when_matching :focus\n  config.example_status_persistence_file_path = 'spec/examples.txt'\n  config.disable_monkey_patching!\n  config.warnings = true\n  \n  if config.files_to_run.one?\n    config.default_formatter = 'doc'\n  end\n  \n  config.profile_examples = 10\n  config.order = :random\n  Kernel.srand config.seed\nend\n```\n\n## Integration Test Example\n\n```ruby\n# spec/requests/api/users_spec.rb\nrequire 'rails_helper'\n\nRSpec.describe 'API::Users', type: :request do\n  let(:user) { create(:user) }\n  let(:valid_headers) {\n    { 'Authorization' => \"Bearer #{user.auth_token}\" }\n  }\n  \n  describe 'GET /api/users' do\n    it 'returns users' do\n      create_list(:user, 3)\n      \n      get '/api/users', headers: valid_headers\n      \n      expect(response).to have_http_status(:ok)\n      expect(JSON.parse(response.body)['users'].size).to eq(3)\n    end\n  end\n  \n  describe 'POST /api/users' do\n    let(:valid_params) do\n      {\n        user: {\n          name: 'New User',\n          email: 'new@example.com'\n        }\n      }\n    end\n    \n    it 'creates a new user' do\n      post '/api/users', params: valid_params, headers: valid_headers\n      \n      expect(response).to have_http_status(:created)\n      expect(JSON.parse(response.body)['user']['name']).to eq('New User')\n    end\n  end\nend\n```\n\n## Best Practices Included\n\n- **Descriptive test names** that explain expected behavior\n- **Proper test organization** with contexts and describes\n- **Factory usage** for test data generation\n- **Mocking and stubbing** for external dependencies\n- **Coverage configuration** with SimpleCov\n- **Test helpers** and shared examples\n- **Request/Integration tests** for API endpoints\n- **Feature tests** for user workflows"
              },
              {
                "name": "/authentication",
                "description": null,
                "path": "cli-tool/templates/ruby/examples/rails-app/.claude/commands/authentication.md",
                "frontmatter": null,
                "content": "# Rails 8 Native Authentication Generator\n\nGenerate Rails 8's built-in authentication system with modern security practices.\n\n## Purpose\n\nThis command helps you implement Rails 8's new native authentication system, eliminating the need for external gems like Devise for basic authentication needs.\n\n## Usage\n\n```\n/authentication\n```\n\n## What this command does\n\n1. **Generates authentication models** with secure password handling\n2. **Creates authentication controllers** for login/logout/signup\n3. **Adds authentication views** with modern styling\n4. **Implements session management** with security best practices\n5. **Sets up authentication helpers** for controllers and views\n\n## Rails 8 Authentication Generator\n\n```bash\n# Generate authentication for User model\nbin/rails generate authentication User\n\n# Or specify custom model name\nbin/rails generate authentication Account\n\n# Generate with custom attributes\nbin/rails generate authentication User first_name:string last_name:string\n```\n\n## Generated User Model\n\n```ruby\n# app/models/user.rb\nclass User < ApplicationRecord\n  has_secure_password\n  \n  validates :email, presence: true, uniqueness: true\n  validates :password, length: { minimum: 8 }, if: -> { new_record? || !password.blank? }\n  \n  normalizes :email, with: ->(email) { email.strip.downcase }\n  \n  before_save :normalize_email\n  \n  private\n  \n  def normalize_email\n    self.email = email.downcase.strip\n  end\nend\n```\n\n## Authentication Controller\n\n```ruby\n# app/controllers/authentication_controller.rb\nclass AuthenticationController < ApplicationController\n  skip_before_action :authenticate_user!, only: [:new, :create]\n  \n  def new\n    # Login page\n  end\n  \n  def create\n    user = User.find_by(email: params[:email])\n    \n    if user&.authenticate(params[:password])\n      login(user)\n      redirect_to root_path, notice: 'Logged in successfully'\n    else\n      flash.now[:alert] = 'Invalid email or password'\n      render :new, status: :unprocessable_entity\n    end\n  end\n  \n  def destroy\n    logout\n    redirect_to root_path, notice: 'Logged out successfully'\n  end\n  \n  private\n  \n  def login(user)\n    session[:user_id] = user.id\n    @current_user = user\n  end\n  \n  def logout\n    session[:user_id] = nil\n    @current_user = nil\n  end\nend\n```\n\n## Registration Controller\n\n```ruby\n# app/controllers/registrations_controller.rb\nclass RegistrationsController < ApplicationController\n  skip_before_action :authenticate_user!\n  \n  def new\n    @user = User.new\n  end\n  \n  def create\n    @user = User.new(user_params)\n    \n    if @user.save\n      login(@user)\n      redirect_to root_path, notice: 'Account created successfully'\n    else\n      render :new, status: :unprocessable_entity\n    end\n  end\n  \n  private\n  \n  def user_params\n    params.require(:user).permit(:email, :password, :password_confirmation, :first_name, :last_name)\n  end\n  \n  def login(user)\n    session[:user_id] = user.id\n    @current_user = user\n  end\nend\n```\n\n## Application Controller Updates\n\n```ruby\n# app/controllers/application_controller.rb\nclass ApplicationController < ActionController::Base\n  protect_from_forgery with: :exception\n  \n  before_action :authenticate_user!\n  \n  private\n  \n  def authenticate_user!\n    redirect_to login_path, alert: 'Please log in to continue' unless current_user\n  end\n  \n  def current_user\n    @current_user ||= User.find(session[:user_id]) if session[:user_id]\n  end\n  helper_method :current_user\n  \n  def logged_in?\n    !!current_user\n  end\n  helper_method :logged_in?\n  \n  def require_login\n    unless logged_in?\n      flash[:alert] = 'You must be logged in to access this page'\n      redirect_to login_path\n    end\n  end\nend\n```\n\n## Authentication Views\n\n### Login Form\n```erb\n<!-- app/views/authentication/new.html.erb -->\n<div class=\"authentication-form\">\n  <h1>Log In</h1>\n  \n  <%= form_with url: login_path, local: true, class: \"auth-form\" do |form| %>\n    <div class=\"form-group\">\n      <%= form.label :email, \"Email\" %>\n      <%= form.email_field :email, required: true, autofocus: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password, \"Password\" %>\n      <%= form.password_field :password, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-actions\">\n      <%= form.submit \"Log In\", class: \"btn btn-primary\" %>\n    </div>\n  <% end %>\n  \n  <div class=\"auth-links\">\n    <%= link_to \"Don't have an account? Sign up\", signup_path %>\n  </div>\n</div>\n```\n\n### Registration Form\n```erb\n<!-- app/views/registrations/new.html.erb -->\n<div class=\"authentication-form\">\n  <h1>Sign Up</h1>\n  \n  <%= form_with model: @user, url: signup_path, local: true, class: \"auth-form\" do |form| %>\n    <% if @user.errors.any? %>\n      <div class=\"error-messages\">\n        <h3><%= pluralize(@user.errors.count, \"error\") %> prohibited this account from being saved:</h3>\n        <ul>\n          <% @user.errors.full_messages.each do |message| %>\n            <li><%= message %></li>\n          <% end %>\n        </ul>\n      </div>\n    <% end %>\n    \n    <div class=\"form-group\">\n      <%= form.label :first_name, \"First Name\" %>\n      <%= form.text_field :first_name, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :last_name, \"Last Name\" %>\n      <%= form.text_field :last_name, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :email, \"Email\" %>\n      <%= form.email_field :email, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password, \"Password\" %>\n      <%= form.password_field :password, required: true, minlength: 8, class: \"form-control\" %>\n      <small class=\"form-text\">Minimum 8 characters</small>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password_confirmation, \"Confirm Password\" %>\n      <%= form.password_field :password_confirmation, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-actions\">\n      <%= form.submit \"Sign Up\", class: \"btn btn-primary\" %>\n    </div>\n  <% end %>\n  \n  <div class=\"auth-links\">\n    <%= link_to \"Already have an account? Log in\", login_path %>\n  </div>\n</div>\n```\n\n## Route Configuration\n\n```ruby\n# config/routes.rb\nRails.application.routes.draw do\n  # Authentication routes\n  get    'login',  to: 'authentication#new'\n  post   'login',  to: 'authentication#create'\n  delete 'logout', to: 'authentication#destroy'\n  \n  # Registration routes\n  get  'signup', to: 'registrations#new'\n  post 'signup', to: 'registrations#create'\n  \n  # User management routes\n  resources :users, except: [:new, :create]\n  \n  # Root route\n  root 'dashboard#index'\nend\n```\n\n## Migration Files\n\n```ruby\n# db/migrate/xxx_create_users.rb\nclass CreateUsers < ActiveRecord::Migration[8.0]\n  def change\n    create_table :users do |t|\n      t.string :email, null: false\n      t.string :password_digest, null: false\n      t.string :first_name\n      t.string :last_name\n      \n      t.timestamps\n    end\n    \n    add_index :users, :email, unique: true\n  end\nend\n```\n\n## Advanced Authentication Features\n\n### Password Reset\n```ruby\n# app/controllers/password_resets_controller.rb\nclass PasswordResetsController < ApplicationController\n  skip_before_action :authenticate_user!\n  \n  def new\n    # Password reset request form\n  end\n  \n  def create\n    @user = User.find_by(email: params[:email])\n    if @user\n      @user.send_password_reset\n      redirect_to root_path, notice: 'Email sent with password reset instructions'\n    else\n      flash.now[:alert] = 'Email address not found'\n      render :new\n    end\n  end\n  \n  def edit\n    @user = User.find_by(password_reset_token: params[:id])\n    if @user.nil? || @user.password_reset_sent_at < 2.hours.ago\n      redirect_to new_password_reset_path, alert: 'Password reset has expired'\n    end\n  end\n  \n  def update\n    @user = User.find_by(password_reset_token: params[:id])\n    if @user && @user.password_reset_sent_at > 2.hours.ago\n      if @user.update(password_params)\n        @user.update_columns(password_reset_token: nil, password_reset_sent_at: nil)\n        redirect_to root_path, notice: 'Password has been reset'\n      else\n        render :edit\n      end\n    else\n      redirect_to new_password_reset_path, alert: 'Password reset has expired'\n    end\n  end\n  \n  private\n  \n  def password_params\n    params.require(:user).permit(:password, :password_confirmation)\n  end\nend\n```\n\n### User Model Extensions\n```ruby\n# app/models/user.rb (extended)\nclass User < ApplicationRecord\n  has_secure_password\n  \n  validates :email, presence: true, uniqueness: true\n  validates :password, length: { minimum: 8 }, if: -> { new_record? || !password.blank? }\n  \n  normalizes :email, with: ->(email) { email.strip.downcase }\n  \n  # Password reset functionality\n  def send_password_reset\n    generate_token(:password_reset_token)\n    self.password_reset_sent_at = Time.zone.now\n    save!\n    UserMailer.password_reset(self).deliver_now\n  end\n  \n  def full_name\n    \"#{first_name} #{last_name}\".strip\n  end\n  \n  def initials\n    \"#{first_name&.first}#{last_name&.first}\".upcase\n  end\n  \n  private\n  \n  def generate_token(column)\n    begin\n      self[column] = SecureRandom.urlsafe_base64\n    end while User.exists?(column => self[column])\n  end\nend\n```\n\n## Session Security Enhancements\n\n```ruby\n# config/application.rb\nconfig.session_store :cookie_store, {\n  key: '_myapp_session',\n  secure: Rails.env.production?,\n  httponly: true,\n  same_site: :lax\n}\n\n# config/environments/production.rb\nconfig.force_ssl = true\nconfig.session_store :cookie_store, {\n  key: '_myapp_session',\n  secure: true,\n  httponly: true,\n  same_site: :strict\n}\n```\n\n## Authentication Helper Methods\n\n```ruby\n# app/helpers/authentication_helper.rb\nmodule AuthenticationHelper\n  def user_avatar(user, size: 40)\n    if user.avatar.present?\n      image_tag user.avatar, alt: user.full_name, class: \"avatar\", size: \"#{size}x#{size}\"\n    else\n      content_tag :div, user.initials, class: \"avatar avatar-initials\", \n                  style: \"width: #{size}px; height: #{size}px; line-height: #{size}px;\"\n    end\n  end\n  \n  def current_user_menu\n    if logged_in?\n      render 'shared/user_menu'\n    else\n      render 'shared/guest_menu'\n    end\n  end\nend\n```\n\n## Testing Authentication\n\n```ruby\n# spec/models/user_spec.rb\nRSpec.describe User, type: :model do\n  describe 'validations' do\n    it { should validate_presence_of(:email) }\n    it { should validate_uniqueness_of(:email) }\n    it { should validate_length_of(:password).is_at_least(8) }\n    it { should have_secure_password }\n  end\n  \n  describe 'email normalization' do\n    it 'normalizes email to lowercase' do\n      user = User.create!(email: 'USER@EXAMPLE.COM', password: 'password123')\n      expect(user.email).to eq('user@example.com')\n    end\n  end\n  \n  describe '#full_name' do\n    it 'returns combined first and last name' do\n      user = User.new(first_name: 'John', last_name: 'Doe')\n      expect(user.full_name).to eq('John Doe')\n    end\n  end\nend\n\n# spec/controllers/authentication_controller_spec.rb\nRSpec.describe AuthenticationController, type: :controller do\n  describe 'POST #create' do\n    let(:user) { create(:user, password: 'password123') }\n    \n    context 'with valid credentials' do\n      it 'logs in the user' do\n        post :create, params: { email: user.email, password: 'password123' }\n        expect(session[:user_id]).to eq(user.id)\n        expect(response).to redirect_to(root_path)\n      end\n    end\n    \n    context 'with invalid credentials' do\n      it 'does not log in the user' do\n        post :create, params: { email: user.email, password: 'wrong' }\n        expect(session[:user_id]).to be_nil\n        expect(response).to render_template(:new)\n      end\n    end\n  end\nend\n```\n\n## Security Best Practices Included\n\n- **Secure password hashing** with bcrypt\n- **Email normalization** to prevent duplicates\n- **CSRF protection** enabled by default\n- **Session security** with httponly and secure flags\n- **Password strength validation** (minimum 8 characters)\n- **Timing attack prevention** in authentication\n- **Password reset token expiration**\n- **SSL enforcement** in production"
              }
            ],
            "skills": []
          },
          {
            "name": "nextjs-vercel-pro",
            "description": "Complete Next.js and Vercel development toolkit with deployment automation and performance optimization",
            "source": "./",
            "category": null,
            "version": "1.0.0",
            "author": {
              "name": "Daniel Avila"
            },
            "install_commands": [
              "/plugin marketplace add Justdvp/claude-code-templates",
              "/plugin install nextjs-vercel-pro@claude-code-templates"
            ],
            "signals": {
              "stars": 5,
              "forks": 0,
              "pushed_at": "2026-01-12T22:20:42Z",
              "created_at": "2022-10-16T16:39:58Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/lint",
                "description": null,
                "path": ".claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Python Linter\n\nRun Python code linting and formatting tools.\n\n## Purpose\n\nThis command helps you maintain code quality using Python's best linting and formatting tools.\n\n## Usage\n\n```\n/lint\n```\n\n## What this command does\n\n1. **Runs multiple linters** (flake8, pylint, black, isort)\n2. **Provides detailed feedback** on code quality issues\n3. **Auto-fixes formatting** where possible\n4. **Checks type hints** if mypy is configured\n\n## Example Commands\n\n### Black (code formatting)\n```bash\n# Format all Python files\nblack .\n\n# Check formatting without changing files\nblack --check .\n\n# Format specific file\nblack src/main.py\n```\n\n### flake8 (style guide enforcement)\n```bash\n# Check all Python files\nflake8 .\n\n# Check specific directory\nflake8 src/\n\n# Check with specific rules\nflake8 --max-line-length=88 .\n```\n\n### isort (import sorting)\n```bash\n# Sort imports in all files\nisort .\n\n# Check import sorting\nisort --check-only .\n\n# Sort imports in specific file\nisort src/main.py\n```\n\n### pylint (comprehensive linting)\n```bash\n# Run pylint on all files\npylint src/\n\n# Run with specific score threshold\npylint --fail-under=8.0 src/\n\n# Generate detailed report\npylint --output-format=html src/ > pylint_report.html\n```\n\n### mypy (type checking)\n```bash\n# Check types in all files\nmypy .\n\n# Check specific module\nmypy src/models.py\n\n# Check with strict mode\nmypy --strict src/\n```\n\n## Configuration Files\n\nMost projects benefit from configuration files:\n\n### .flake8\n```ini\n[flake8]\nmax-line-length = 88\nexclude = .git,__pycache__,venv\nignore = E203,W503\n```\n\n### pyproject.toml\n```toml\n[tool.black]\nline-length = 88\n\n[tool.isort]\nprofile = \"black\"\n```\n\n## Best Practices\n\n- Run linters before committing code\n- Use consistent formatting across the project\n- Fix linting issues promptly\n- Configure linters to match your team's style\n- Use type hints for better code documentation"
              },
              {
                "name": "/test",
                "description": null,
                "path": ".claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Runner\n\nRun Python tests with pytest, unittest, or other testing frameworks.\n\n## Purpose\n\nThis command helps you run Python tests effectively with proper configuration and reporting.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Detects test framework** (pytest, unittest, nose2)\n2. **Runs appropriate tests** with proper configuration\n3. **Provides coverage reporting** if available\n4. **Shows clear test results** with failure details\n\n## Example Commands\n\n### pytest (recommended)\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=src --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n\n# Run tests matching pattern\npytest -k \"test_user\"\n```\n\n### unittest\n```bash\n# Run all tests\npython -m unittest discover\n\n# Run specific test file\npython -m unittest tests.test_models\n\n# Run with verbose output\npython -m unittest -v\n```\n\n### Django tests\n```bash\n# Run all Django tests\npython manage.py test\n\n# Run specific app tests\npython manage.py test myapp\n\n# Run with coverage\ncoverage run --source='.' manage.py test\ncoverage report\n```\n\n## Best Practices\n\n- Write tests for all critical functionality\n- Use descriptive test names\n- Keep tests isolated and independent\n- Mock external dependencies\n- Aim for high test coverage (80%+)"
              },
              {
                "name": "/git-workflow",
                "description": null,
                "path": "cli-tool/templates/common/.claude/commands/git-workflow.md",
                "frontmatter": null,
                "content": "# Git Workflow Helper\n\nManage Git workflows with best practices and common operations.\n\n## Purpose\n\nThis command helps you perform common Git operations following best practices for collaborative development.\n\n## Usage\n\n```\n/git-workflow\n```\n\n## What this command does\n\n1. **Guides through Git operations** with proper workflow\n2. **Suggests best practices** for commits and branches\n3. **Helps with conflict resolution** and merging\n4. **Provides templates** for commit messages\n5. **Manages branching strategies** (Git Flow, GitHub Flow)\n\n## Common Workflows\n\n### Feature Development\n```bash\n# Create and switch to feature branch\ngit checkout -b feature/user-authentication\n\n# Work on your feature\n# ... make changes ...\n\n# Stage and commit changes\ngit add .\ngit commit -m \"feat: add user authentication system\n\n- Implement login/logout functionality\n- Add password validation\n- Create user session management\n- Add authentication middleware\"\n\n# Push feature branch\ngit push -u origin feature/user-authentication\n\n# Create pull request (via GitHub/GitLab interface)\n```\n\n### Hotfix Workflow\n```bash\n# Create hotfix branch from main\ngit checkout main\ngit checkout -b hotfix/security-patch\n\n# Fix the issue\n# ... make changes ...\n\n# Commit the fix\ngit commit -m \"fix: resolve security vulnerability in auth module\n\n- Patch XSS vulnerability in login form\n- Update input validation\n- Add CSRF protection\"\n\n# Push and create urgent PR\ngit push -u origin hotfix/security-patch\n```\n\n### Sync with Remote\n```bash\n# Update main branch\ngit checkout main\ngit pull origin main\n\n# Update feature branch with latest main\ngit checkout feature/your-feature\ngit rebase main\n# OR\ngit merge main\n```\n\n## Commit Message Conventions\n\n### Conventional Commits Format\n```\n<type>[optional scope]: <description>\n\n[optional body]\n\n[optional footer(s)]\n```\n\n### Common Types\n- **feat**: New feature\n- **fix**: Bug fix\n- **docs**: Documentation changes\n- **style**: Code style changes (formatting, etc.)\n- **refactor**: Code refactoring\n- **test**: Adding or updating tests\n- **chore**: Maintenance tasks\n\n### Examples\n```bash\n# Feature\ngit commit -m \"feat(auth): add OAuth2 integration\"\n\n# Bug fix\ngit commit -m \"fix(api): handle null response in user endpoint\"\n\n# Documentation\ngit commit -m \"docs: update API documentation for v2.0\"\n\n# Breaking change\ngit commit -m \"feat!: change API response format\n\nBREAKING CHANGE: API responses now use 'data' wrapper\"\n```\n\n## Branch Management\n\n### Git Flow Strategy\n```bash\n# Main branches\nmain        # Production-ready code\ndevelop     # Integration branch\n\n# Supporting branches\nfeature/*   # New features\nrelease/*   # Release preparation\nhotfix/*    # Quick fixes to production\n```\n\n### GitHub Flow (Simplified)\n```bash\n# Only main branch + feature branches\nmain        # Production-ready code\nfeature/*   # All new work\n```\n\n## Conflict Resolution\n\n### When Conflicts Occur\n```bash\n# Start merge/rebase\ngit merge feature-branch\n# OR\ngit rebase main\n\n# If conflicts occur, Git will list conflicted files\n# Edit each file to resolve conflicts\n\n# Mark conflicts as resolved\ngit add conflicted-file.js\n\n# Continue the merge/rebase\ngit merge --continue\n# OR\ngit rebase --continue\n```\n\n### Conflict Markers\n```javascript\n<<<<<<< HEAD\n// Your current branch code\nconst user = getCurrentUser();\n=======\n// Incoming branch code\nconst user = getAuthenticatedUser();\n>>>>>>> feature-branch\n```\n\n## Useful Git Commands\n\n### Status and Information\n```bash\ngit status                    # Check working directory status\ngit log --oneline            # View commit history\ngit branch -a                # List all branches\ngit remote -v                # List remote repositories\n```\n\n### Undoing Changes\n```bash\ngit checkout -- file.js     # Discard changes to file\ngit reset HEAD file.js       # Unstage file\ngit reset --soft HEAD~1     # Undo last commit (keep changes)\ngit reset --hard HEAD~1     # Undo last commit (discard changes)\n```\n\n### Stashing Work\n```bash\ngit stash                    # Save current work\ngit stash pop               # Apply and remove latest stash\ngit stash list              # List all stashes\ngit stash apply stash@{1}   # Apply specific stash\n```\n\n## Best Practices\n\n1. **Commit Often** - Make small, focused commits\n2. **Write Clear Messages** - Use conventional commit format\n3. **Test Before Committing** - Ensure code works\n4. **Pull Before Push** - Keep history clean\n5. **Use Branches** - Don't work directly on main\n6. **Review Code** - Use pull requests for collaboration\n7. **Keep History Clean** - Rebase feature branches when appropriate\n\n## Git Hooks (Optional)\n\n### Pre-commit Hook\n```bash\n#!/bin/sh\n# .git/hooks/pre-commit\n\n# Run linter\nnpm run lint\nif [ $? -ne 0 ]; then\n  echo \"Linting failed. Please fix errors before committing.\"\n  exit 1\nfi\n\n# Run tests\nnpm test\nif [ $? -ne 0 ]; then\n  echo \"Tests failed. Please fix tests before committing.\"\n  exit 1\nfi\n```\n\n### Commit Message Hook\n```bash\n#!/bin/sh\n# .git/hooks/commit-msg\n\n# Check commit message format\nif ! grep -qE \"^(feat|fix|docs|style|refactor|test|chore)(\\(.+\\))?: .{1,50}\" \"$1\"; then\n  echo \"Invalid commit message format. Use conventional commits.\"\n  exit 1\nfi\n```"
              },
              {
                "name": "/project-setup",
                "description": null,
                "path": "cli-tool/templates/common/.claude/commands/project-setup.md",
                "frontmatter": null,
                "content": "# Project Setup Helper\n\nSet up new projects with proper structure and best practices.\n\n## Purpose\n\nThis command helps you set up new projects with proper directory structure, configuration files, and development environment.\n\n## Usage\n\n```\n/project-setup\n```\n\n## What this command does\n\n1. **Creates project structure** with standard directories\n2. **Sets up configuration files** (.gitignore, README, etc.)\n3. **Initializes version control** and development tools\n4. **Configures environment files** and dependencies\n5. **Follows language-specific** conventions and best practices\n\n## Project Structure Templates\n\n### Generic Project Structure\n```\nproject-name/\n‚îú‚îÄ‚îÄ README.md                 # Project documentation\n‚îú‚îÄ‚îÄ .gitignore               # Git ignore rules\n‚îú‚îÄ‚îÄ .env.example             # Environment variables template\n‚îú‚îÄ‚îÄ LICENSE                  # Project license\n‚îú‚îÄ‚îÄ CHANGELOG.md             # Version history\n‚îú‚îÄ‚îÄ docs/                    # Documentation\n‚îÇ   ‚îú‚îÄ‚îÄ API.md\n‚îÇ   ‚îú‚îÄ‚îÄ CONTRIBUTING.md\n‚îÇ   ‚îî‚îÄ‚îÄ DEPLOYMENT.md\n‚îú‚îÄ‚îÄ src/                     # Source code\n‚îÇ   ‚îú‚îÄ‚îÄ main/\n‚îÇ   ‚îú‚îÄ‚îÄ utils/\n‚îÇ   ‚îî‚îÄ‚îÄ config/\n‚îú‚îÄ‚îÄ tests/                   # Test files\n‚îÇ   ‚îú‚îÄ‚îÄ unit/\n‚îÇ   ‚îú‚îÄ‚îÄ integration/\n‚îÇ   ‚îî‚îÄ‚îÄ fixtures/\n‚îú‚îÄ‚îÄ scripts/                 # Build and deployment scripts\n‚îÇ   ‚îú‚îÄ‚îÄ build.sh\n‚îÇ   ‚îú‚îÄ‚îÄ deploy.sh\n‚îÇ   ‚îî‚îÄ‚îÄ setup.sh\n‚îî‚îÄ‚îÄ config/                  # Configuration files\n    ‚îú‚îÄ‚îÄ development.yml\n    ‚îú‚îÄ‚îÄ production.yml\n    ‚îî‚îÄ‚îÄ testing.yml\n```\n\n### Web Application Structure\n```\nweb-app/\n‚îú‚îÄ‚îÄ public/                  # Static assets\n‚îÇ   ‚îú‚îÄ‚îÄ index.html\n‚îÇ   ‚îú‚îÄ‚îÄ favicon.ico\n‚îÇ   ‚îî‚îÄ‚îÄ assets/\n‚îÇ       ‚îú‚îÄ‚îÄ css/\n‚îÇ       ‚îú‚îÄ‚îÄ js/\n‚îÇ       ‚îî‚îÄ‚îÄ images/\n‚îú‚îÄ‚îÄ src/                     # Source code\n‚îÇ   ‚îú‚îÄ‚îÄ components/          # Reusable components\n‚îÇ   ‚îú‚îÄ‚îÄ pages/              # Page components\n‚îÇ   ‚îú‚îÄ‚îÄ services/           # API services\n‚îÇ   ‚îú‚îÄ‚îÄ utils/              # Utility functions\n‚îÇ   ‚îú‚îÄ‚îÄ styles/             # Stylesheets\n‚îÇ   ‚îî‚îÄ‚îÄ config/             # Configuration\n‚îú‚îÄ‚îÄ tests/                   # Test files\n‚îî‚îÄ‚îÄ build/                   # Build output\n```\n\n### API Project Structure\n```\napi-project/\n‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îú‚îÄ‚îÄ controllers/         # Request handlers\n‚îÇ   ‚îú‚îÄ‚îÄ models/             # Data models\n‚îÇ   ‚îú‚îÄ‚îÄ services/           # Business logic\n‚îÇ   ‚îú‚îÄ‚îÄ middleware/         # Custom middleware\n‚îÇ   ‚îú‚îÄ‚îÄ routes/             # API routes\n‚îÇ   ‚îú‚îÄ‚îÄ utils/              # Utility functions\n‚îÇ   ‚îî‚îÄ‚îÄ config/             # Configuration\n‚îú‚îÄ‚îÄ tests/\n‚îÇ   ‚îú‚îÄ‚îÄ unit/\n‚îÇ   ‚îú‚îÄ‚îÄ integration/\n‚îÇ   ‚îî‚îÄ‚îÄ e2e/\n‚îú‚îÄ‚îÄ docs/\n‚îÇ   ‚îú‚îÄ‚îÄ api-spec.yml        # OpenAPI specification\n‚îÇ   ‚îî‚îÄ‚îÄ README.md\n‚îî‚îÄ‚îÄ scripts/\n    ‚îú‚îÄ‚îÄ seed-db.js          # Database seeding\n    ‚îî‚îÄ‚îÄ migrate.js          # Database migrations\n```\n\n## Essential Configuration Files\n\n### .gitignore Template\n```gitignore\n# Dependencies\nnode_modules/\n*.log\nnpm-debug.log*\n\n# Environment files\n.env\n.env.local\n.env.production\n\n# Build outputs\ndist/\nbuild/\n*.tgz\n\n# IDE files\n.vscode/\n.idea/\n*.swp\n*.swo\n\n# OS files\n.DS_Store\nThumbs.db\n\n# Temporary files\n*.tmp\n*.temp\n```\n\n### README.md Template\n```markdown\n# Project Name\n\nBrief description of what this project does.\n\n## Features\n\n- Feature 1\n- Feature 2\n- Feature 3\n\n## Installation\n\n\\`\\`\\`bash\n# Clone the repository\ngit clone https://github.com/username/project-name.git\n\n# Install dependencies\nnpm install\n\n# Copy environment file\ncp .env.example .env\n\\`\\`\\`\n\n## Usage\n\n\\`\\`\\`bash\n# Start development server\nnpm run dev\n\n# Run tests\nnpm test\n\n# Build for production\nnpm run build\n\\`\\`\\`\n\n## API Documentation\n\n[API documentation](docs/API.md)\n\n## Contributing\n\nPlease read [CONTRIBUTING.md](docs/CONTRIBUTING.md) for details.\n\n## License\n\nThis project is licensed under the MIT License - see [LICENSE](LICENSE) file.\n```\n\n### .env.example Template\n```env\n# Application\nNODE_ENV=development\nPORT=3000\nHOST=localhost\n\n# Database\nDB_HOST=localhost\nDB_PORT=5432\nDB_NAME=myapp\nDB_USER=username\nDB_PASSWORD=password\n\n# API Keys\nAPI_KEY=your-api-key-here\nSECRET_KEY=your-secret-key-here\n\n# External Services\nREDIS_URL=redis://localhost:6379\nEMAIL_SERVICE_API_KEY=your-email-key\n```\n\n## Development Environment Setup\n\n### Package.json Scripts\n```json\n{\n  \"scripts\": {\n    \"start\": \"node src/index.js\",\n    \"dev\": \"nodemon src/index.js\",\n    \"test\": \"jest\",\n    \"test:watch\": \"jest --watch\",\n    \"test:coverage\": \"jest --coverage\",\n    \"lint\": \"eslint src/\",\n    \"lint:fix\": \"eslint src/ --fix\",\n    \"format\": \"prettier --write src/\",\n    \"build\": \"webpack --mode production\",\n    \"build:dev\": \"webpack --mode development\",\n    \"clean\": \"rm -rf dist/\"\n  }\n}\n```\n\n### Git Initialization\n```bash\n# Initialize Git repository\ngit init\n\n# Add initial files\ngit add .\n\n# Create initial commit\ngit commit -m \"feat: initial project setup\n\n- Add project structure\n- Configure development environment\n- Add documentation templates\n- Set up testing framework\"\n\n# Add remote origin\ngit remote add origin https://github.com/username/project-name.git\n\n# Push to remote\ngit push -u origin main\n```\n\n## Language-Specific Setup\n\n### Node.js/JavaScript\n```bash\nnpm init -y\nnpm install --save-dev nodemon jest eslint prettier\n```\n\n### Python\n```bash\npython -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\npip install -r requirements.txt\n```\n\n### Docker Setup\n```dockerfile\n# Dockerfile\nFROM node:16-alpine\nWORKDIR /app\nCOPY package*.json ./\nRUN npm install\nCOPY . .\nEXPOSE 3000\nCMD [\"npm\", \"start\"]\n```\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\nservices:\n  app:\n    build: .\n    ports:\n      - \"3000:3000\"\n    environment:\n      - NODE_ENV=development\n    volumes:\n      - .:/app\n      - /app/node_modules\n```\n\n## Best Practices\n\n1. **Consistent Structure** - Follow established conventions\n2. **Clear Documentation** - Write comprehensive README\n3. **Environment Variables** - Keep secrets out of code\n4. **Version Control** - Initialize Git from the start\n5. **Testing Setup** - Configure testing from day one\n6. **Code Quality** - Set up linting and formatting\n7. **CI/CD Ready** - Structure for automated deployment\n8. **Security** - Include security best practices\n\n## Checklist\n\n- [ ] Create project directory structure\n- [ ] Initialize version control (Git)\n- [ ] Set up package manager (npm, pip, etc.)\n- [ ] Create README.md with project info\n- [ ] Add .gitignore file\n- [ ] Set up environment variables\n- [ ] Configure linting and formatting\n- [ ] Set up testing framework\n- [ ] Create basic documentation\n- [ ] Add license file\n- [ ] Set up CI/CD configuration (if needed)"
              },
              {
                "name": "/api-endpoint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/api-endpoint.md",
                "frontmatter": null,
                "content": "# API Endpoint Generator\n\nGenerate a complete API endpoint for $ARGUMENTS following project conventions.\n\n## Task\n\nI'll analyze the project structure and create a new API endpoint with:\n\n1. Route definition\n2. Controller/handler function\n3. Input validation\n4. Service layer logic (if applicable)\n5. Data access layer (if applicable)\n6. Unit tests\n7. Documentation\n\n## Process\n\nI'll follow these steps:\n\n1. Examine the project structure to understand the architecture pattern\n2. Identify existing patterns for routes, controllers, and validation\n3. Create all necessary files following project conventions\n4. Implement the endpoint with proper error handling\n5. Add appropriate tests\n6. Document the new endpoint\n\n## Best Practices\n\nI'll ensure the implementation includes:\n\n- Strong typing with TypeScript\n- Comprehensive error handling\n- Input validation\n- Security considerations (authentication/authorization)\n- Proper logging\n- Performance considerations\n- Test coverage\n\n## Adaptability\n\nI'll adapt to various API architectures:\n\n- Express/Koa/Fastify REST APIs\n- GraphQL resolvers\n- Next.js/Nuxt.js API routes\n- Serverless functions\n- tRPC endpoints\n- NestJS controllers\n\nI'll examine your project first to determine which pattern to follow."
              },
              {
                "name": "/debug",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/debug.md",
                "frontmatter": null,
                "content": "# Debug Assistant\n\nHelp me debug the issue with $ARGUMENTS in this project.\n\n## Task\n\nI'll help you identify and fix the problem by:\n\n1. Understanding the issue description\n2. Analyzing relevant code\n3. Identifying potential causes\n4. Suggesting and implementing fixes\n5. Verifying the solution works\n\n## Process\n\nI'll follow these steps:\n\n1. Examine error messages, logs, or unexpected behaviors\n2. Locate relevant files and code sections\n3. Analyze the code flow and potential failure points\n4. Identify common JavaScript/TypeScript pitfalls that might apply\n5. Suggest specific fixes with explanations\n6. Help implement and test the solution\n\n## Debugging Techniques\n\nI'll apply appropriate debugging techniques such as:\n\n- Static code analysis to find syntax or type errors\n- Runtime error analysis from logs or stack traces\n- Control flow tracing to understand execution paths\n- State inspection to identify incorrect values\n- Dependency analysis to find version conflicts\n- Network request inspection for API issues\n- Browser console analysis for frontend problems\n- Database query inspection for data issues\n\n## Common Issues I Can Help With\n\n- Type errors and null/undefined issues\n- Asynchronous code problems (Promises, async/await)\n- React/Vue/Angular component lifecycle issues\n- API integration problems\n- State management bugs\n- Performance bottlenecks\n- Memory leaks\n- Build/compilation errors\n- Testing failures\n- Environment configuration issues\n\nI'll adapt my approach based on your specific project structure, frameworks, and the nature of the problem."
              },
              {
                "name": "/lint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Lint Assistant\n\nAnalyze and fix linting issues in $ARGUMENTS following project conventions.\n\n## Task\n\nI'll help you identify and fix code style and quality issues by:\n\n1. Running appropriate linters for the project\n2. Analyzing linting errors and warnings\n3. Fixing issues automatically when possible\n4. Explaining complex issues that require manual intervention\n5. Ensuring code follows project style guidelines\n\n## Process\n\nI'll follow these steps:\n\n1. Identify the linting tools used in the project (ESLint, Prettier, TSLint, etc.)\n2. Run the appropriate linting commands\n3. Parse and categorize the results\n4. Apply automatic fixes for common issues\n5. Provide explanations and suggestions for more complex problems\n6. Verify fixes don't introduce new issues\n\n## Common Linting Issues I Can Fix\n\n- Code style inconsistencies (spacing, indentation, quotes, etc.)\n- Unused variables and imports\n- Missing type annotations in TypeScript\n- Accessibility (a11y) issues in UI components\n- Potential bugs flagged by static analysis\n- Performance issues in React/Vue components\n- Security vulnerabilities detected by linters\n- Deprecated API usage\n- Import ordering problems\n- Missing documentation\n\n## Linting Tools I Can Work With\n\n- ESLint (with various plugins and configs)\n- Prettier\n- TSLint (legacy)\n- stylelint (for CSS/SCSS)\n- commitlint (for commit messages)\n- Custom lint rules specific to your project\n\nI'll adapt my approach based on your project's specific linting configuration and style guide requirements."
              },
              {
                "name": "/npm-scripts",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/npm-scripts.md",
                "frontmatter": null,
                "content": "# NPM Scripts Assistant\n\nHelp me with NPM scripts: $ARGUMENTS\n\n## Task\n\nI'll help you work with package.json scripts by:\n\n1. Analyzing existing npm scripts in your project\n2. Creating new scripts or modifying existing ones\n3. Explaining what specific scripts do\n4. Suggesting improvements or optimizations\n5. Troubleshooting script execution issues\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your package.json file to understand current scripts\n2. Analyze dependencies and devDependencies for available tools\n3. Identify common patterns and conventions in your scripts\n4. Implement requested changes or create new scripts\n5. Provide explanations of how the scripts work\n6. Test scripts when possible to verify functionality\n\n## Common Script Types I Can Help With\n\n- Build processes (webpack, rollup, esbuild, etc.)\n- Development servers and hot reloading\n- Testing (unit, integration, e2e)\n- Linting and code formatting\n- Type checking\n- Deployment and CI/CD\n- Database migrations\n- Code generation\n- Environment setup\n- Pre/post hooks for git operations\n\n## Script Optimization Techniques\n\n- Parallelizing tasks for faster execution\n- Adding cross-platform compatibility\n- Improving error reporting and logging\n- Implementing watch modes for development\n- Creating composite scripts for common workflows\n- Adding appropriate exit codes for CI/CD pipelines\n\nI'll adapt my approach based on your project's specific needs, dependencies, and build tools."
              },
              {
                "name": "/refactor",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/refactor.md",
                "frontmatter": null,
                "content": "# Code Refactoring Assistant\n\nRefactor $ARGUMENTS following modern JavaScript/TypeScript best practices.\n\n## Task\n\nI'll help you refactor code by:\n\n1. Analyzing the current implementation\n2. Identifying improvement opportunities\n3. Applying modern patterns and practices\n4. Maintaining existing functionality\n5. Ensuring type safety and test coverage\n6. Documenting the changes made\n\n## Process\n\nI'll follow these steps:\n\n1. Examine the code to understand its purpose and structure\n2. Identify code smells, anti-patterns, or outdated approaches\n3. Plan the refactoring strategy with clear goals\n4. Implement changes incrementally while maintaining behavior\n5. Verify refactored code with tests\n6. Document improvements and benefits\n\n## Refactoring Techniques\n\nI can apply various refactoring techniques:\n\n- Converting to modern JavaScript/TypeScript features\n- Improving type definitions and type safety\n- Extracting reusable functions and components\n- Applying design patterns appropriately\n- Converting callbacks to Promises or async/await\n- Simplifying complex conditionals and loops\n- Removing duplicate code\n- Improving naming and readability\n- Optimizing performance\n- Enhancing error handling\n\n## Modern Practices I Can Apply\n\n- ES modules and import/export syntax\n- Optional chaining and nullish coalescing\n- Array and object destructuring\n- Spread and rest operators\n- Template literals\n- Arrow functions\n- Class fields and private methods\n- TypeScript utility types\n- Functional programming patterns\n- React hooks (for React components)\n\nI'll ensure the refactored code maintains compatibility with your project's requirements while improving quality and maintainability."
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Assistant\n\nHelp with tests for $ARGUMENTS following project conventions and testing best practices.\n\n## Task\n\nI'll help you with testing by:\n\n1. Creating comprehensive test suites for your code\n2. Implementing different types of tests (unit, integration, e2e)\n3. Mocking dependencies and external services\n4. Improving test coverage for existing code\n5. Troubleshooting failing tests\n6. Setting up testing infrastructure\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your project to understand testing frameworks and patterns\n2. Analyze the code to be tested to understand its functionality\n3. Identify appropriate testing strategies and edge cases\n4. Implement tests with proper structure and assertions\n5. Ensure tests are maintainable and follow best practices\n6. Run tests to verify they pass and provide adequate coverage\n\n## Testing Frameworks I Can Work With\n\n- Jest, Vitest, Mocha, Jasmine for JavaScript/TypeScript\n- React Testing Library, Enzyme for React components\n- Cypress, Playwright, Puppeteer for E2E testing\n- Supertest, Pactum for API testing\n- Storybook for component testing\n- Testing-library family for various frameworks\n\n## Testing Techniques\n\nI can implement various testing approaches:\n\n- TDD (Test-Driven Development)\n- BDD (Behavior-Driven Development)\n- Snapshot testing\n- Property-based testing\n- Parameterized tests\n- Contract testing\n- Visual regression testing\n- Performance testing\n\n## Mocking Strategies\n\nI can help with different mocking approaches:\n\n- Function mocks and spies\n- Module mocks\n- HTTP request mocking\n- Browser API mocking\n- Timer mocking\n- Database mocking\n- Service worker mocking\n\nI'll adapt to your project's specific testing frameworks, patterns, and conventions to ensure consistency with your existing codebase."
              },
              {
                "name": "/typescript-migrate",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/typescript-migrate.md",
                "frontmatter": null,
                "content": "# TypeScript Migration Assistant\n\nMigrate $ARGUMENTS from JavaScript to TypeScript with proper typing and modern practices.\n\n## Task\n\nI'll help you migrate JavaScript code to TypeScript by:\n\n1. Converting JavaScript files to TypeScript (.js/.jsx to .ts/.tsx)\n2. Adding appropriate type definitions and interfaces\n3. Configuring TypeScript settings for your project\n4. Resolving type errors and compatibility issues\n5. Implementing modern TypeScript patterns and features\n6. Ensuring backward compatibility with existing code\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your project structure and dependencies\n2. Analyze the JavaScript code to understand its functionality\n3. Create or update tsconfig.json with appropriate settings\n4. Convert files to TypeScript with proper type annotations\n5. Add necessary type definitions for libraries\n6. Fix type errors and implement type safety\n7. Refactor code to leverage TypeScript features\n\n## TypeScript Features I Can Implement\n\n- Interfaces and type aliases for complex data structures\n- Generics for reusable, type-safe components and functions\n- Union and intersection types for flexible typing\n- Enums for related constants\n- Utility types (Partial, Pick, Omit, etc.)\n- Type guards and type narrowing\n- Mapped and conditional types\n- Function overloading\n- Readonly properties and immutability\n- Module augmentation for extending third-party types\n\n## Migration Strategies\n\nI can apply different migration approaches based on your needs:\n\n- Gradual migration with allowJs and incremental adoption\n- File-by-file conversion while maintaining functionality\n- Comprehensive migration with full type safety\n- Hybrid approach with .d.ts files for complex modules\n- Integration with existing type definitions (@types packages)\n\nI'll adapt to your project's specific requirements and ensure a smooth transition to TypeScript while maintaining existing functionality."
              },
              {
                "name": "/components",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/angular-app/.claude/commands/components.md",
                "frontmatter": null,
                "content": "# Angular Components\n\nCreate Angular components for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Angular components based on the requirements:\n\n1. **Analyze existing components**: Check current component patterns, naming conventions, and folder organization\n2. **Examine Angular setup**: Review project structure, module organization, and TypeScript configuration\n3. **Identify component type**: Determine the component category:\n   - Presentation components (dumb/pure components)\n   - Container components (smart components with state)\n   - Feature components (business logic components)\n   - Shared/UI components (reusable across features)\n   - Layout components (structural components)\n4. **Check dependencies**: Review existing components and shared modules to avoid duplication\n5. **Implement component**: Create component with proper TypeScript types and lifecycle hooks\n6. **Add inputs/outputs**: Define @Input and @Output properties with proper typing\n7. **Create template**: Build HTML template with proper Angular directives and bindings\n8. **Add styles**: Implement component styles following project's styling approach\n9. **Create tests**: Write comprehensive unit tests with TestBed and proper mocking\n10. **Update module**: Register component in appropriate Angular module\n\n## Implementation Requirements\n\n- Follow project's Angular architecture and naming conventions\n- Use proper component lifecycle hooks (OnInit, OnDestroy, etc.)\n- Include comprehensive TypeScript interfaces for inputs and outputs\n- Implement proper change detection strategy (OnPush when possible)\n- Add proper subscription management with takeUntil or async pipe\n- Follow Angular style guide and project coding standards\n- Consider component performance and memory management\n\n## Component Patterns to Consider\n\nBased on the request:\n- **Smart Components**: Container components that manage state and services\n- **Dumb Components**: Presentation components that only receive inputs\n- **Feature Components**: Components specific to business features\n- **Shared Components**: Reusable UI components across the application\n- **Form Components**: Reactive forms with validation and custom controls\n- **Data Display**: Components for tables, lists, cards with proper data binding\n\n## Angular-Specific Implementation\n\n- **Template Syntax**: Proper use of Angular directives (*ngFor, *ngIf, etc.)\n- **Data Binding**: Property binding, event binding, two-way binding\n- **Change Detection**: OnPush strategy for performance optimization\n- **Lifecycle Management**: Proper use of lifecycle hooks\n- **Dependency Injection**: Service injection in component constructors\n- **Testing**: TestBed configuration with proper mocking and spies\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same styling approach and class naming as existing components\n- Follow project's folder structure for components (usually feature-based)\n- Don't install new dependencies without asking\n- Consider component reusability and single responsibility principle\n- Add proper TypeScript types for all component properties and methods\n- Use trackBy functions for performance in *ngFor loops\n- Implement proper unsubscription patterns to prevent memory leaks"
              },
              {
                "name": "/services",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/angular-app/.claude/commands/services.md",
                "frontmatter": null,
                "content": "# Angular Services\n\nCreate Angular services for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Angular services based on the requirements:\n\n1. **Analyze existing services**: Check current service patterns, naming conventions, and folder organization\n2. **Examine Angular setup**: Review project structure, dependency injection patterns, and TypeScript configuration\n3. **Identify service type**: Determine the service category:\n   - Data services (HTTP API calls, state management)\n   - Utility services (validation, formatting, helpers)\n   - Business logic services (calculations, workflows)\n   - Infrastructure services (logging, authentication, error handling)\n   - Feature services (component-specific logic)\n4. **Check dependencies**: Review existing services and shared modules to avoid duplication\n5. **Implement service**: Create service with proper dependency injection and TypeScript types\n6. **Add error handling**: Include comprehensive error handling with RxJS operators\n7. **Create tests**: Write unit tests with proper mocking following project patterns\n8. **Update module registration**: Register service in appropriate Angular modules\n\n## Implementation Requirements\n\n- Follow project's Angular architecture and naming conventions (usually .service.ts)\n- Use proper dependency injection with @Injectable decorator\n- Include comprehensive TypeScript interfaces and types\n- Implement proper RxJS patterns (observables, operators, error handling)\n- Add proper error handling and logging integration\n- Follow single responsibility principle for service design\n- Consider service lifecycle and singleton patterns\n\n## Service Patterns to Consider\n\nBased on the request:\n- **HTTP Data Services**: API calls with proper error handling and caching\n- **State Management**: Services for sharing data between components\n- **Authentication**: User authentication, token management, guards\n- **Business Logic**: Complex calculations, workflows, validations\n- **Utility Services**: Reusable functions, formatters, validators\n- **Feature Services**: Component-specific logic extraction\n- **Infrastructure**: Logging, monitoring, configuration services\n\n## Angular-Specific Implementation\n\n- **Dependency Injection**: Proper use of @Injectable and providedIn\n- **RxJS Integration**: Observables, subjects, operators for reactive programming\n- **HTTP Client**: Angular HttpClient for API communication\n- **Error Handling**: Global error handling and user-friendly error messages\n- **Testing**: TestBed, jasmine, karma for comprehensive unit testing\n- **Module Organization**: Feature modules, shared modules, core modules\n\n## Important Notes\n\n- ALWAYS examine existing services first to understand project patterns\n- Use the same error handling and response patterns as existing services\n- Follow project's folder structure for services (usually /services or /core)\n- Don't install new dependencies without asking\n- Consider service performance and memory management\n- Add proper RxJS subscription management to prevent memory leaks\n- Use Angular's built-in services (HttpClient, Router) rather than external libraries\n- Include proper TypeScript types for all service methods and properties"
              },
              {
                "name": "/api-endpoint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/api-endpoint.md",
                "frontmatter": null,
                "content": "# API Endpoint Generator\n\nGenerate a complete API endpoint for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate a new API endpoint with all necessary components:\n\n1. **Analyze project architecture**: Examine existing API structure, patterns, and conventions\n2. **Identify framework**: Determine if using Express, Fastify, NestJS, Next.js API routes, or other framework\n3. **Check authentication**: Review existing auth patterns and middleware usage\n4. **Examine data layer**: Identify database/ORM patterns (Prisma, TypeORM, Mongoose, etc.)\n5. **Create endpoint structure**: Generate route, controller, validation, and service layers\n6. **Implement business logic**: Add core functionality with proper error handling\n7. **Add validation**: Include input validation using project's validation library\n8. **Create tests**: Write unit and integration tests following project patterns\n9. **Update documentation**: Add endpoint documentation (OpenAPI/Swagger if used)\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing middleware patterns for auth, validation, logging\n- Include proper HTTP status codes and error responses\n- Add comprehensive input validation and sanitization\n- Implement proper logging and monitoring\n- Consider rate limiting and security headers\n- Follow project's database transaction patterns\n\n## Framework-Specific Patterns\n\nI'll adapt to your project's framework:\n- **Express**: Routes, controllers, middleware\n- **Fastify**: Routes, handlers, schemas, plugins\n- **NestJS**: Controllers, services, DTOs, guards\n- **Next.js**: API routes with proper HTTP methods\n- **tRPC**: Procedures with input/output validation\n- **GraphQL**: Resolvers with proper type definitions\n\n## Important Notes\n\n- ALWAYS examine existing endpoints first to understand project patterns\n- Use the same error handling and response format as existing endpoints\n- Follow project's folder structure and naming conventions\n- Don't install new dependencies without asking\n- Consider backward compatibility if modifying existing endpoints\n- Add proper database migrations if schema changes are needed"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# Database Operations\n\nSet up database operations for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize database operations based on the requirements:\n\n1. **Analyze existing database setup**: Check current database configuration, ORM/ODM, and connection patterns\n2. **Identify database type**: Determine if using MongoDB, PostgreSQL, MySQL, or other database\n3. **Examine ORM/ODM**: Check for Prisma, TypeORM, Mongoose, Sequelize, or raw SQL patterns\n4. **Review existing models**: Understand current schema patterns and relationships\n5. **Check migration system**: Identify migration tools and patterns in use\n6. **Implement operations**: Create models, repositories, or services following project architecture\n7. **Add validation**: Include proper schema validation and constraints\n8. **Create tests**: Write database operation tests following project patterns\n9. **Update migrations**: Add necessary database migrations if schema changes required\n\n## Implementation Requirements\n\n- Follow project's database architecture patterns\n- Use existing ORM/ODM configuration and connection setup\n- Include proper TypeScript types for all database operations\n- Add comprehensive error handling and transaction management\n- Implement proper indexing for performance\n- Follow project's naming conventions for tables/collections and fields\n- Consider data validation at both application and database levels\n\n## Database Patterns to Consider\n\nBased on your project setup:\n- **Repository Pattern**: Separate data access logic from business logic\n- **Active Record**: Models with built-in database operations\n- **Data Mapper**: Separate domain models from database schema\n- **Query Builder**: Fluent interface for building database queries\n- **Raw SQL**: Direct database queries for complex operations\n\n## Operation Types\n\nCommon database operations to implement:\n- **CRUD operations**: Create, Read, Update, Delete\n- **Bulk operations**: Batch inserts, updates, deletes\n- **Aggregation**: Complex queries with grouping and calculations\n- **Relationships**: Managing foreign keys and joins\n- **Transactions**: Ensuring data consistency\n- **Migrations**: Schema changes and data transformations\n\n## Important Notes\n\n- ALWAYS examine existing database setup first to understand project patterns\n- Use the same connection configuration and environment variables\n- Follow project's folder structure for models/schemas\n- Don't install new database dependencies without asking\n- Consider performance implications (indexes, query optimization)\n- Add proper database connection pooling if not already configured\n- Include proper cleanup and connection closing in tests"
              },
              {
                "name": "/middleware",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/middleware.md",
                "frontmatter": null,
                "content": "# Express Middleware\n\nCreate Express middleware for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Express middleware based on the requirements:\n\n1. **Analyze existing middleware**: Check current middleware patterns, naming conventions, and file organization\n2. **Examine Express setup**: Review app configuration, middleware stack order, and TypeScript usage\n3. **Identify middleware type**: Determine the middleware category:\n   - Authentication/Authorization (JWT, sessions, role-based)\n   - Validation (request body, params, query validation)\n   - Logging (request/response logging, audit trails)\n   - Error handling (global error handlers, custom errors)\n   - Security (CORS, rate limiting, helmet)\n   - Utility (parsing, compression, static files)\n4. **Check dependencies**: Review existing middleware dependencies to avoid duplication\n5. **Implement middleware**: Create middleware with proper TypeScript types and error handling\n6. **Test middleware**: Write unit and integration tests following project patterns\n7. **Update middleware stack**: Integrate middleware into Express app configuration\n8. **Add documentation**: Include JSDoc comments and usage examples\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing error handling patterns and response formats\n- Include proper request/response typing with custom interfaces\n- Add comprehensive error handling and logging\n- Consider middleware execution order and dependencies\n- Implement proper async/await patterns for async middleware\n- Follow project's folder structure for middleware files\n\n## Middleware Patterns to Consider\n\nBased on the request:\n- **Authentication**: JWT verification, session management, API key validation\n- **Authorization**: Role-based access control, permission checking\n- **Validation**: Schema validation with Joi/Zod, sanitization\n- **Logging**: Request logging, performance monitoring, audit trails\n- **Error Handling**: Global error handlers, custom error classes\n- **Security**: CORS configuration, rate limiting, input sanitization\n- **Utility**: Request parsing, response formatting, caching\n\n## Integration Considerations\n\n- **Middleware order**: Ensure proper execution sequence in Express app\n- **Error propagation**: Handle errors correctly with next() function\n- **Request enhancement**: Add properties to request object with proper typing\n- **Response modification**: Modify response objects while maintaining type safety\n- **Performance**: Consider middleware performance impact on request processing\n\n## Important Notes\n\n- ALWAYS examine existing middleware first to understand project patterns\n- Use the same error handling and response format as existing middleware\n- Follow project's folder structure for middleware (usually /middleware)\n- Don't install new dependencies without asking\n- Consider middleware performance and request processing impact\n- Add proper TypeScript types for enhanced request/response objects\n- Test middleware in isolation and integration contexts"
              },
              {
                "name": "/route",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/route.md",
                "frontmatter": null,
                "content": "# Route Creator\n\nCreate API routes for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize API routes based on the requirements:\n\n1. **Analyze project structure**: Check existing route patterns, folder organization, and framework setup\n2. **Examine framework**: Identify if using Express, Fastify, NestJS, or other Node.js framework\n3. **Review existing routes**: Understand current routing patterns, validation, and error handling\n4. **Check authentication**: Review existing auth middleware and protection patterns\n5. **Define route structure**: Determine HTTP methods, path parameters, and request/response schemas\n6. **Implement routes**: Create route handlers with proper validation and error handling\n7. **Add middleware**: Include authentication, validation, and logging middleware as needed\n8. **Create tests**: Write route tests following project testing patterns\n9. **Update route registration**: Integrate new routes into main router configuration\n\n## Implementation Requirements\n\n- Follow project's routing architecture and naming conventions\n- Use existing validation libraries (Joi, Zod, class-validator, etc.)\n- Include proper TypeScript types for request/response objects\n- Add comprehensive error handling with appropriate HTTP status codes\n- Implement proper authentication/authorization if required\n- Follow RESTful conventions unless project uses different patterns\n- Add proper logging and monitoring integration\n\n## Route Patterns to Consider\n\nBased on the request:\n- **CRUD operations**: Create, Read, Update, Delete for resources\n- **RESTful endpoints**: GET, POST, PUT, PATCH, DELETE with proper semantics\n- **Nested resources**: Parent/child resource relationships\n- **Batch operations**: Bulk create, update, delete operations\n- **Search/filtering**: Query parameters for filtering and pagination\n- **File uploads**: Multipart form handling for file operations\n- **Webhook endpoints**: External service integration points\n\n## Framework-Specific Implementation\n\nAdapt to your project's framework:\n- **Express**: Router instances, middleware chains, route handlers\n- **Fastify**: Route plugins, schema validation, hooks\n- **NestJS**: Controllers, decorators, DTOs, guards, interceptors\n- **Koa**: Router middleware, context handling\n- **Next.js API**: API route handlers with proper HTTP methods\n\n## Important Notes\n\n- ALWAYS examine existing routes first to understand project patterns\n- Use the same validation and error handling patterns as existing routes\n- Follow project's folder structure for routes (usually /routes or /controllers)\n- Don't install new dependencies without asking\n- Consider route performance and database query optimization\n- Add proper OpenAPI/Swagger documentation if project uses it\n- Include rate limiting for public endpoints where appropriate"
              },
              {
                "name": "/component",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/component.md",
                "frontmatter": null,
                "content": "# React Component Generator\n\nCreate a React component named $ARGUMENTS following project conventions.\n\n## Steps\n\n1. **Analyze project structure**: Check existing components to understand file organization, naming conventions, and patterns\n2. **Examine styling approach**: Identify CSS/SCSS modules, styled-components, Tailwind, or other styling methods used\n3. **Review testing patterns**: Check existing test files to understand testing framework and conventions\n4. **Create component structure**: Generate appropriate files (component, styles, tests, index)\n5. **Implement component**: Write TypeScript/JavaScript with proper props interface and logic\n6. **Add tests**: Write comprehensive tests following project patterns\n7. **Verify integration**: Ensure component works with existing project setup\n\n## Requirements\n\n- Follow existing project file structure and naming conventions\n- Use TypeScript if project uses it\n- Include proper accessibility attributes\n- Add responsive design considerations\n- Write tests that match project testing patterns\n- Include usage examples in component documentation\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same styling approach as the rest of the project\n- Follow the project's TypeScript conventions for props and interfaces\n- Don't install new dependencies without asking first"
              },
              {
                "name": "/hooks",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/hooks.md",
                "frontmatter": null,
                "content": "# React Hooks\n\nCreate or optimize React hooks for $ARGUMENTS following project conventions.\n\n## Task\n\nAnalyze the request and create appropriate React hooks:\n\n1. **Examine existing hooks**: Check project for existing custom hooks patterns and conventions\n2. **Identify hook type**: Determine if creating new custom hook, optimizing existing hook, or implementing specific hook pattern\n3. **Check TypeScript usage**: Verify if project uses TypeScript and follow typing conventions\n4. **Implement hook**: Create hook with proper:\n   - Naming convention (use prefix)\n   - TypeScript types and interfaces\n   - Proper dependency arrays\n   - Error handling\n   - Performance optimizations\n5. **Add tests**: Create comprehensive unit tests using project's testing framework\n6. **Add documentation**: Include JSDoc comments and usage examples\n\n## Common Hook Patterns\n\nWhen creating hooks, consider these patterns based on the request:\n- **Data fetching**: API calls, loading states, error handling\n- **State management**: Local state, derived state, state persistence\n- **Side effects**: Event listeners, timers, subscriptions\n- **Context consumption**: Theme, auth, app state\n- **Form handling**: Input management, validation, submission\n- **Performance**: Memoization, debouncing, throttling\n\n## Requirements\n\n- Follow existing project hook conventions\n- Use TypeScript if project uses it\n- Include proper cleanup in useEffect\n- Add error boundaries where appropriate\n- Write tests that cover all hook functionality\n- IMPORTANT: Always check existing hooks first to understand project patterns\n\n## Notes\n\n- Ask for clarification if the hook requirements are ambiguous\n- Suggest optimizations for existing hooks if relevant\n- Consider accessibility implications for UI-related hooks"
              },
              {
                "name": "/state-management",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/state-management.md",
                "frontmatter": null,
                "content": "# React State Management\n\nImplement state management solution for $ARGUMENTS following project conventions.\n\n## Task\n\nSet up or optimize state management based on the requirements:\n\n1. **Analyze current setup**: Check existing state management approach and project structure\n2. **Determine solution**: Based on requirements, choose appropriate state management:\n   - Context API for simple, localized state\n   - Redux Toolkit for complex, global state\n   - Zustand for lightweight global state\n   - Custom hooks for component-level state\n3. **Examine dependencies**: Check package.json for existing state management libraries\n4. **Implement solution**: Create store, providers, and hooks with proper TypeScript types\n5. **Set up middleware**: Add devtools, persistence, or other middleware as needed\n6. **Create typed hooks**: Generate properly typed selectors and dispatch hooks\n7. **Add tests**: Write unit tests for state logic and reducers\n8. **Update providers**: Integrate with app's provider hierarchy\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions\n- Use existing state management patterns if present\n- Create proper type definitions for state shape\n- Include error handling and loading states\n- Add proper debugging setup (devtools)\n- Consider performance optimizations (selectors, memoization)\n\n## State Management Selection Guide\n\nChoose based on complexity:\n- **Simple state**: React hooks + Context API\n- **Medium complexity**: Zustand or custom hooks\n- **Complex state**: Redux Toolkit with RTK Query\n- **Form state**: React Hook Form or Formik\n\n## Important Notes\n\n- ALWAYS check existing state management first\n- Don't install new dependencies without asking\n- Follow project's folder structure for state files\n- Consider server state vs client state separation\n- Add proper TypeScript types for all state interfaces"
              },
              {
                "name": "/components",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/vue-app/.claude/commands/components.md",
                "frontmatter": null,
                "content": "# Vue Components\n\nCreate Vue Single File Components for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Vue components based on the requirements:\n\n1. **Analyze project structure**: Check existing Vue components to understand patterns, conventions, and file organization\n2. **Examine Vue setup**: Identify Vue version (2/3), TypeScript usage, and Composition/Options API preference\n3. **Check styling approach**: Determine if using CSS modules, SCSS, styled-components, or other styling methods\n4. **Review testing patterns**: Check existing component tests to understand testing framework and conventions\n5. **Create component structure**: Generate SFC with template, script, and style sections\n6. **Implement component**: Write TypeScript interfaces, props, emits, and component logic\n7. **Add accessibility**: Include proper ARIA attributes and semantic HTML\n8. **Create tests**: Write comprehensive component tests following project patterns\n9. **Add documentation**: Include JSDoc comments and usage examples\n\n## Component Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing component patterns and naming conventions\n- Implement proper props validation and typing\n- Add appropriate event emissions with TypeScript signatures\n- Include scoped styles following project's styling approach\n- Add proper accessibility attributes (ARIA, semantic HTML)\n- Consider responsive design if applicable\n\n## Vue Patterns to Consider\n\nBased on the component type:\n- **Composition API**: For Vue 3 projects with `<script setup>`\n- **Options API**: For Vue 2 or legacy Vue 3 projects\n- **Composables**: Extract reusable logic into composables\n- **Provide/Inject**: For deep component communication\n- **Slots**: For flexible component content\n- **Teleport**: For portal-like functionality (Vue 3)\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same Vue API style (Composition vs Options) as the project\n- Follow project's folder structure for components\n- Don't install new dependencies without asking\n- Consider component performance (v-memo, computed properties)\n- Add proper TypeScript types for all props and emits"
              },
              {
                "name": "/composables",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/vue-app/.claude/commands/composables.md",
                "frontmatter": null,
                "content": "# Vue Composables\n\nCreate Vue composables for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Vue composables based on the requirements:\n\n1. **Analyze existing composables**: Check project for existing composable patterns, naming conventions, and file organization\n2. **Examine Vue setup**: Verify Vue 3 Composition API usage and TypeScript configuration\n3. **Identify composable type**: Determine the composable category:\n   - State management (reactive data, computed properties)\n   - API/HTTP operations (data fetching, mutations)\n   - DOM interactions (event listeners, element refs)\n   - Utility functions (validation, formatting, storage)\n   - Lifecycle management (cleanup, watchers)\n4. **Check dependencies**: Review existing composables to avoid duplication\n5. **Implement composable**: Create composable with proper TypeScript types and reactivity\n6. **Add lifecycle management**: Include proper cleanup with onUnmounted when needed\n7. **Create tests**: Write comprehensive unit tests for composable logic\n8. **Add documentation**: Include JSDoc comments and usage examples\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use appropriate Vue reactivity APIs (ref, reactive, computed, watch)\n- Include proper error handling and loading states\n- Add cleanup for side effects (event listeners, timers, subscriptions)\n- Make composables reusable and focused on single responsibility\n- Consider performance implications (shallow vs deep reactivity)\n\n## Common Composable Patterns\n\nBased on the request:\n- **Data fetching**: API calls with loading/error states\n- **Form handling**: Input management, validation, submission\n- **State management**: Local state, persistence, computed values\n- **DOM utilities**: Element refs, event handling, intersection observer\n- **Storage**: localStorage, sessionStorage, IndexedDB\n- **Authentication**: User state, token management, permissions\n- **UI utilities**: Dark mode, responsive breakpoints, modals\n\n## Important Notes\n\n- ALWAYS examine existing composables first to understand project patterns\n- Use proper Vue 3 Composition API patterns\n- Follow project's folder structure for composables (usually /composables)\n- Don't install new dependencies without asking\n- Consider composable composition (using other composables within composables)\n- Add proper TypeScript return types and generic constraints\n- Include proper reactivity patterns (avoid losing reactivity)"
              },
              {
                "name": "/lint",
                "description": null,
                "path": "cli-tool/templates/python/.claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Python Linter\n\nRun Python code linting and formatting tools.\n\n## Purpose\n\nThis command helps you maintain code quality using Python's best linting and formatting tools.\n\n## Usage\n\n```\n/lint\n```\n\n## What this command does\n\n1. **Runs multiple linters** (flake8, pylint, black, isort)\n2. **Provides detailed feedback** on code quality issues\n3. **Auto-fixes formatting** where possible\n4. **Checks type hints** if mypy is configured\n\n## Example Commands\n\n### Black (code formatting)\n```bash\n# Format all Python files\nblack .\n\n# Check formatting without changing files\nblack --check .\n\n# Format specific file\nblack src/main.py\n```\n\n### flake8 (style guide enforcement)\n```bash\n# Check all Python files\nflake8 .\n\n# Check specific directory\nflake8 src/\n\n# Check with specific rules\nflake8 --max-line-length=88 .\n```\n\n### isort (import sorting)\n```bash\n# Sort imports in all files\nisort .\n\n# Check import sorting\nisort --check-only .\n\n# Sort imports in specific file\nisort src/main.py\n```\n\n### pylint (comprehensive linting)\n```bash\n# Run pylint on all files\npylint src/\n\n# Run with specific score threshold\npylint --fail-under=8.0 src/\n\n# Generate detailed report\npylint --output-format=html src/ > pylint_report.html\n```\n\n### mypy (type checking)\n```bash\n# Check types in all files\nmypy .\n\n# Check specific module\nmypy src/models.py\n\n# Check with strict mode\nmypy --strict src/\n```\n\n## Configuration Files\n\nMost projects benefit from configuration files:\n\n### .flake8\n```ini\n[flake8]\nmax-line-length = 88\nexclude = .git,__pycache__,venv\nignore = E203,W503\n```\n\n### pyproject.toml\n```toml\n[tool.black]\nline-length = 88\n\n[tool.isort]\nprofile = \"black\"\n```\n\n## Best Practices\n\n- Run linters before committing code\n- Use consistent formatting across the project\n- Fix linting issues promptly\n- Configure linters to match your team's style\n- Use type hints for better code documentation"
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/python/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Runner\n\nRun Python tests with pytest, unittest, or other testing frameworks.\n\n## Purpose\n\nThis command helps you run Python tests effectively with proper configuration and reporting.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Detects test framework** (pytest, unittest, nose2)\n2. **Runs appropriate tests** with proper configuration\n3. **Provides coverage reporting** if available\n4. **Shows clear test results** with failure details\n\n## Example Commands\n\n### pytest (recommended)\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=src --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n\n# Run tests matching pattern\npytest -k \"test_user\"\n```\n\n### unittest\n```bash\n# Run all tests\npython -m unittest discover\n\n# Run specific test file\npython -m unittest tests.test_models\n\n# Run with verbose output\npython -m unittest -v\n```\n\n### Django tests\n```bash\n# Run all Django tests\npython manage.py test\n\n# Run specific app tests\npython manage.py test myapp\n\n# Run with coverage\ncoverage run --source='.' manage.py test\ncoverage report\n```\n\n## Best Practices\n\n- Write tests for all critical functionality\n- Use descriptive test names\n- Keep tests isolated and independent\n- Mock external dependencies\n- Aim for high test coverage (80%+)"
              },
              {
                "name": "/admin",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/admin.md",
                "frontmatter": null,
                "content": "# Django Admin Configuration\n\nConfigure Django admin interface with custom admin classes and functionality.\n\n## Purpose\n\nThis command helps you create comprehensive Django admin configurations with advanced features and customizations.\n\n## Usage\n\n```\n/admin\n```\n\n## What this command does\n\n1. **Registers models** with custom admin classes\n2. **Creates advanced admin interfaces** with filtering, search, and actions\n3. **Adds inline editing** for related models\n4. **Customizes list displays** and forms\n5. **Implements admin actions** for bulk operations\n\n## Example Output\n\n```python\n# admin.py\nfrom django.contrib import admin\nfrom django.utils.html import format_html\nfrom django.urls import reverse\nfrom django.utils.safestring import mark_safe\nfrom .models import Post, Category, Tag, Comment\n\n@admin.register(Category)\nclass CategoryAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Category model.\"\"\"\n    list_display = ['name', 'slug', 'post_count', 'created_at']\n    list_filter = ['created_at']\n    search_fields = ['name', 'description']\n    prepopulated_fields = {'slug': ('name',)}\n    readonly_fields = ['created_at', 'updated_at']\n    \n    def post_count(self, obj):\n        \"\"\"Display number of posts in this category.\"\"\"\n        count = obj.posts.count()\n        url = reverse('admin:blog_post_changelist') + f'?category__id__exact={obj.id}'\n        return format_html('<a href=\"{}\">{} posts</a>', url, count)\n    post_count.short_description = 'Posts'\n\nclass CommentInline(admin.TabularInline):\n    \"\"\"Inline admin for comments.\"\"\"\n    model = Comment\n    extra = 0\n    readonly_fields = ['created_at', 'author']\n    fields = ['author', 'content', 'is_approved', 'created_at']\n\n@admin.register(Post)\nclass PostAdmin(admin.ModelAdmin):\n    \"\"\"Advanced admin configuration for Post model.\"\"\"\n    list_display = [\n        'title', \n        'author', \n        'category', \n        'status', \n        'view_count',\n        'created_at',\n        'post_preview'\n    ]\n    list_filter = [\n        'status', \n        'category', \n        'created_at', \n        'updated_at',\n        ('author', admin.RelatedOnlyFieldListFilter)\n    ]\n    search_fields = ['title', 'content', 'author__username']\n    prepopulated_fields = {'slug': ('title',)}\n    readonly_fields = ['created_at', 'updated_at', 'view_count', 'post_preview']\n    \n    # Custom form layout\n    fieldsets = (\n        ('Content', {\n            'fields': ('title', 'slug', 'content', 'status')\n        }),\n        ('Metadata', {\n            'fields': ('author', 'category', 'tags'),\n            'classes': ('collapse',)\n        }),\n        ('SEO', {\n            'fields': ('meta_description', 'meta_keywords'),\n            'classes': ('collapse',)\n        }),\n        ('Timestamps', {\n            'fields': ('created_at', 'updated_at', 'view_count'),\n            'classes': ('collapse',)\n        }),\n    )\n    \n    # Many-to-many field display\n    filter_horizontal = ['tags']\n    \n    # Inline models\n    inlines = [CommentInline]\n    \n    # Custom list display methods\n    def post_preview(self, obj):\n        \"\"\"Show thumbnail preview of post.\"\"\"\n        if obj.featured_image:\n            return format_html(\n                '<img src=\"{}\" width=\"50\" height=\"50\" style=\"border-radius: 5px;\" />',\n                obj.featured_image.url\n            )\n        return \"No image\"\n    post_preview.short_description = 'Preview'\n    \n    # Custom admin actions\n    actions = ['make_published', 'make_draft', 'duplicate_posts']\n    \n    def make_published(self, request, queryset):\n        \"\"\"Bulk action to publish selected posts.\"\"\"\n        updated = queryset.update(status='published')\n        self.message_user(\n            request, \n            f'{updated} posts were successfully marked as published.'\n        )\n    make_published.short_description = \"Mark selected posts as published\"\n    \n    def make_draft(self, request, queryset):\n        \"\"\"Bulk action to set selected posts as draft.\"\"\"\n        updated = queryset.update(status='draft')\n        self.message_user(\n            request, \n            f'{updated} posts were successfully marked as draft.'\n        )\n    make_draft.short_description = \"Mark selected posts as draft\"\n    \n    def duplicate_posts(self, request, queryset):\n        \"\"\"Bulk action to duplicate selected posts.\"\"\"\n        count = 0\n        for post in queryset:\n            post.pk = None  # Create new instance\n            post.title = f\"Copy of {post.title}\"\n            post.slug = f\"copy-of-{post.slug}\"\n            post.status = 'draft'\n            post.save()\n            count += 1\n        \n        self.message_user(\n            request,\n            f'{count} posts were successfully duplicated.'\n        )\n    duplicate_posts.short_description = \"Duplicate selected posts\"\n\n@admin.register(Tag)\nclass TagAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Tag model.\"\"\"\n    list_display = ['name', 'slug', 'post_count', 'color_preview']\n    search_fields = ['name']\n    prepopulated_fields = {'slug': ('name',)}\n    \n    def post_count(self, obj):\n        \"\"\"Display number of posts with this tag.\"\"\"\n        return obj.posts.count()\n    post_count.short_description = 'Posts'\n    \n    def color_preview(self, obj):\n        \"\"\"Show color preview if tag has color field.\"\"\"\n        if hasattr(obj, 'color') and obj.color:\n            return format_html(\n                '<span style=\"background-color: {}; padding: 2px 8px; border-radius: 3px; color: white;\">{}</span>',\n                obj.color,\n                obj.name\n            )\n        return obj.name\n    color_preview.short_description = 'Preview'\n\n@admin.register(Comment)\nclass CommentAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Comment model.\"\"\"\n    list_display = ['author', 'post', 'content_preview', 'is_approved', 'created_at']\n    list_filter = ['is_approved', 'created_at', 'post__category']\n    search_fields = ['content', 'author__username', 'post__title']\n    readonly_fields = ['created_at', 'updated_at']\n    actions = ['approve_comments', 'disapprove_comments']\n    \n    def content_preview(self, obj):\n        \"\"\"Show truncated content preview.\"\"\"\n        return obj.content[:50] + \"...\" if len(obj.content) > 50 else obj.content\n    content_preview.short_description = 'Content'\n    \n    def approve_comments(self, request, queryset):\n        \"\"\"Bulk approve comments.\"\"\"\n        updated = queryset.update(is_approved=True)\n        self.message_user(request, f'{updated} comments were approved.')\n    approve_comments.short_description = \"Approve selected comments\"\n    \n    def disapprove_comments(self, request, queryset):\n        \"\"\"Bulk disapprove comments.\"\"\"\n        updated = queryset.update(is_approved=False)\n        self.message_user(request, f'{updated} comments were disapproved.')\n    disapprove_comments.short_description = \"Disapprove selected comments\"\n\n# Custom admin site configuration\nadmin.site.site_header = \"Blog Administration\"\nadmin.site.site_title = \"Blog Admin Portal\"\nadmin.site.index_title = \"Welcome to Blog Administration\"\n```\n\n## Advanced Features\n\n### Custom List Display\n- **Thumbnail previews** for images\n- **Related object counts** with links\n- **Status indicators** with colors\n- **Custom formatting** for data display\n\n### Filtering and Search\n- **Advanced filters** including date ranges\n- **Related field filtering** for foreign keys\n- **Search across multiple fields** including relations\n- **Custom filter classes** for complex queries\n\n### Inline Editing\n- **TabularInline** for compact editing\n- **StackedInline** for detailed forms\n- **Custom inline forms** with additional functionality\n- **Readonly fields** in inlines\n\n### Bulk Actions\n- **Status changes** for multiple objects\n- **Data export** functionality\n- **Batch operations** for efficiency\n- **Custom business logic** in actions\n\n### Form Customization\n- **Fieldsets** for organized layouts\n- **Collapsed sections** for advanced options\n- **Custom widgets** for better UX\n- **Validation** and error handling\n\n## Security Considerations\n\n- **Permission checks** in custom methods\n- **Input sanitization** in admin actions\n- **CSRF protection** (automatic)\n- **User authentication** (built-in)\n\n## Performance Optimization\n\n```python\n# Optimize queries with select_related/prefetch_related\nclass PostAdmin(admin.ModelAdmin):\n    def get_queryset(self, request):\n        queryset = super().get_queryset(request)\n        return queryset.select_related('author', 'category').prefetch_related('tags')\n```\n\n## Custom Admin Templates\n\n```python\n# Override admin templates\nclass PostAdmin(admin.ModelAdmin):\n    change_form_template = 'admin/blog/post/change_form.html'\n    change_list_template = 'admin/blog/post/change_list.html'\n```"
              },
              {
                "name": "/django-model",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/django-model.md",
                "frontmatter": null,
                "content": "# Django Model Generator\n\nCreate Django models with proper structure and relationships.\n\n## Purpose\n\nThis command helps you quickly create Django models with fields, relationships, and best practices.\n\n## Usage\n\n```\n/django-model\n```\n\n## What this command does\n\n1. **Creates model classes** with proper field definitions\n2. **Adds relationships** (ForeignKey, ManyToMany, OneToOne)\n3. **Includes meta options** and model methods\n4. **Generates migrations** automatically\n5. **Follows Django conventions** and best practices\n\n## Example Output\n\n```python\n# models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass Category(models.Model):\n    name = models.CharField(max_length=100, unique=True)\n    slug = models.SlugField(unique=True)\n    description = models.TextField(blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    \n    class Meta:\n        verbose_name_plural = \"categories\"\n        ordering = ['name']\n    \n    def __str__(self):\n        return self.name\n\nclass Post(models.Model):\n    STATUS_CHOICES = [\n        ('draft', 'Draft'),\n        ('published', 'Published'),\n        ('archived', 'Archived'),\n    ]\n    \n    title = models.CharField(max_length=200)\n    slug = models.SlugField(unique=True)\n    content = models.TextField()\n    status = models.CharField(max_length=20, choices=STATUS_CHOICES, default='draft')\n    author = models.ForeignKey(User, on_delete=models.CASCADE, related_name='posts')\n    category = models.ForeignKey(Category, on_delete=models.SET_NULL, null=True, blank=True)\n    tags = models.ManyToManyField('Tag', blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    \n    class Meta:\n        ordering = ['-created_at']\n        verbose_name = 'blog post'\n        verbose_name_plural = 'blog posts'\n    \n    def __str__(self):\n        return self.title\n    \n    def get_absolute_url(self):\n        return reverse('post_detail', kwargs={'slug': self.slug})\n\nclass Tag(models.Model):\n    name = models.CharField(max_length=50, unique=True)\n    slug = models.SlugField(unique=True)\n    \n    def __str__(self):\n        return self.name\n```\n\n## Field Types Supported\n\n- **CharField** - Text fields with max length\n- **TextField** - Large text fields\n- **IntegerField** - Integer numbers\n- **FloatField** - Floating point numbers\n- **BooleanField** - True/False values\n- **DateField** - Date only\n- **DateTimeField** - Date and time\n- **EmailField** - Email addresses\n- **URLField** - URLs\n- **ImageField** - Image uploads\n- **FileField** - File uploads\n- **JSONField** - JSON data (PostgreSQL)\n\n## Relationships\n\n- **ForeignKey** - One-to-many relationships\n- **ManyToManyField** - Many-to-many relationships\n- **OneToOneField** - One-to-one relationships\n\n## Best Practices Included\n\n- Proper field choices and defaults\n- Appropriate related_name attributes\n- __str__ methods for admin interface\n- Meta class with ordering and verbose names\n- get_absolute_url methods where appropriate\n- Proper use of null and blank parameters\n- Field validation and constraints\n\n## After Creating Models\n\n```bash\n# Create and apply migrations\npython manage.py makemigrations\npython manage.py migrate\n\n# Register in admin (optional)\n# Add to admin.py:\nfrom django.contrib import admin\nfrom .models import Post, Category, Tag\n\nadmin.site.register([Post, Category, Tag])\n```"
              },
              {
                "name": "/views",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/views.md",
                "frontmatter": null,
                "content": "# Django Views Generator\n\nCreate Django views with proper structure and best practices.\n\n## Purpose\n\nThis command helps you quickly create Django views (Function-Based Views and Class-Based Views) following Django conventions.\n\n## Usage\n\n```\n/views\n```\n\n## What this command does\n\n1. **Creates view functions/classes** with proper structure\n2. **Handles HTTP methods** (GET, POST, PUT, DELETE)\n3. **Includes form handling** and validation\n4. **Adds authentication/authorization** checks\n5. **Follows Django best practices** and security guidelines\n\n## Example Output\n\n```python\n# views.py\nfrom django.shortcuts import render, get_object_or_404, redirect\nfrom django.contrib.auth.decorators import login_required\nfrom django.contrib import messages\nfrom django.http import JsonResponse\nfrom django.views.generic import ListView, DetailView, CreateView, UpdateView, DeleteView\nfrom django.contrib.auth.mixins import LoginRequiredMixin\nfrom django.urls import reverse_lazy\nfrom .models import Post, Category\nfrom .forms import PostForm\n\n# Function-Based Views\ndef post_list(request):\n    \"\"\"Display list of posts with pagination and filtering.\"\"\"\n    posts = Post.objects.filter(status='published').select_related('author', 'category')\n    \n    # Search functionality\n    search_query = request.GET.get('search')\n    if search_query:\n        posts = posts.filter(title__icontains=search_query)\n    \n    # Category filtering\n    category_id = request.GET.get('category')\n    if category_id:\n        posts = posts.filter(category_id=category_id)\n    \n    context = {\n        'posts': posts,\n        'categories': Category.objects.all(),\n        'search_query': search_query,\n    }\n    return render(request, 'blog/post_list.html', context)\n\ndef post_detail(request, slug):\n    \"\"\"Display individual post details.\"\"\"\n    post = get_object_or_404(Post, slug=slug, status='published')\n    \n    context = {\n        'post': post,\n        'related_posts': Post.objects.filter(\n            category=post.category,\n            status='published'\n        ).exclude(id=post.id)[:3]\n    }\n    return render(request, 'blog/post_detail.html', context)\n\n@login_required\ndef post_create(request):\n    \"\"\"Create new post.\"\"\"\n    if request.method == 'POST':\n        form = PostForm(request.POST, request.FILES)\n        if form.is_valid():\n            post = form.save(commit=False)\n            post.author = request.user\n            post.save()\n            form.save_m2m()  # Save many-to-many relationships\n            messages.success(request, 'Post created successfully!')\n            return redirect('post_detail', slug=post.slug)\n    else:\n        form = PostForm()\n    \n    return render(request, 'blog/post_form.html', {'form': form})\n\n@login_required\ndef post_edit(request, slug):\n    \"\"\"Edit existing post.\"\"\"\n    post = get_object_or_404(Post, slug=slug, author=request.user)\n    \n    if request.method == 'POST':\n        form = PostForm(request.POST, request.FILES, instance=post)\n        if form.is_valid():\n            form.save()\n            messages.success(request, 'Post updated successfully!')\n            return redirect('post_detail', slug=post.slug)\n    else:\n        form = PostForm(instance=post)\n    \n    return render(request, 'blog/post_form.html', {\n        'form': form, \n        'post': post\n    })\n\n# Class-Based Views\nclass PostListView(ListView):\n    \"\"\"List view for posts with pagination.\"\"\"\n    model = Post\n    template_name = 'blog/post_list.html'\n    context_object_name = 'posts'\n    paginate_by = 10\n    \n    def get_queryset(self):\n        return Post.objects.filter(status='published').select_related('author', 'category')\n    \n    def get_context_data(self, **kwargs):\n        context = super().get_context_data(**kwargs)\n        context['categories'] = Category.objects.all()\n        return context\n\nclass PostDetailView(DetailView):\n    \"\"\"Detail view for individual posts.\"\"\"\n    model = Post\n    template_name = 'blog/post_detail.html'\n    context_object_name = 'post'\n    \n    def get_queryset(self):\n        return Post.objects.filter(status='published')\n\nclass PostCreateView(LoginRequiredMixin, CreateView):\n    \"\"\"Create view for new posts.\"\"\"\n    model = Post\n    form_class = PostForm\n    template_name = 'blog/post_form.html'\n    \n    def form_valid(self, form):\n        form.instance.author = self.request.user\n        return super().form_valid(form)\n\nclass PostUpdateView(LoginRequiredMixin, UpdateView):\n    \"\"\"Update view for existing posts.\"\"\"\n    model = Post\n    form_class = PostForm\n    template_name = 'blog/post_form.html'\n    \n    def get_queryset(self):\n        return Post.objects.filter(author=self.request.user)\n\nclass PostDeleteView(LoginRequiredMixin, DeleteView):\n    \"\"\"Delete view for posts.\"\"\"\n    model = Post\n    template_name = 'blog/post_confirm_delete.html'\n    success_url = reverse_lazy('post_list')\n    \n    def get_queryset(self):\n        return Post.objects.filter(author=self.request.user)\n\n# API Views\ndef api_post_list(request):\n    \"\"\"API endpoint for post list.\"\"\"\n    posts = Post.objects.filter(status='published').values(\n        'id', 'title', 'slug', 'created_at', 'author__username'\n    )\n    return JsonResponse(list(posts), safe=False)\n```\n\n## View Types Supported\n\n- **Function-Based Views (FBV)** - Simple, explicit control\n- **Class-Based Views (CBV)** - Reusable, inheritance-based\n- **Generic Views** - ListView, DetailView, CreateView, etc.\n- **API Views** - JSON responses for AJAX/API calls\n\n## Features Included\n\n- **Authentication checks** with decorators/mixins\n- **Permission handling** for user authorization\n- **Form processing** with validation\n- **Error handling** and user feedback\n- **SEO-friendly URLs** with slugs\n- **Database optimization** with select_related/prefetch_related\n- **Pagination** for large datasets\n- **Search and filtering** functionality\n\n## Security Best Practices\n\n- CSRF protection (automatic with forms)\n- User authentication and authorization\n- SQL injection prevention (ORM)\n- XSS protection with template escaping\n- Proper error handling\n\n## URL Configuration\n\n```python\n# urls.py\nfrom django.urls import path\nfrom . import views\n\napp_name = 'blog'\n\nurlpatterns = [\n    # Function-based views\n    path('', views.post_list, name='post_list'),\n    path('post/<slug:slug>/', views.post_detail, name='post_detail'),\n    path('create/', views.post_create, name='post_create'),\n    path('edit/<slug:slug>/', views.post_edit, name='post_edit'),\n    \n    # Class-based views\n    path('posts/', views.PostListView.as_view(), name='post_list_cbv'),\n    path('posts/<slug:slug>/', views.PostDetailView.as_view(), name='post_detail_cbv'),\n    path('posts/create/', views.PostCreateView.as_view(), name='post_create_cbv'),\n    path('posts/<slug:slug>/edit/', views.PostUpdateView.as_view(), name='post_edit_cbv'),\n    path('posts/<slug:slug>/delete/', views.PostDeleteView.as_view(), name='post_delete_cbv'),\n    \n    # API endpoints\n    path('api/posts/', views.api_post_list, name='api_post_list'),\n]\n```"
              },
              {
                "name": "/api-endpoints",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/api-endpoints.md",
                "frontmatter": null,
                "content": "# FastAPI Endpoints Generator\n\nCreate comprehensive FastAPI endpoints with proper structure, validation, and documentation.\n\n## Purpose\n\nThis command helps you quickly create FastAPI endpoints with Pydantic models, dependency injection, and automatic API documentation.\n\n## Usage\n\n```\n/api-endpoints\n```\n\n## What this command does\n\n1. **Creates API endpoints** with proper HTTP methods\n2. **Adds Pydantic models** for request/response validation\n3. **Implements dependency injection** for database and auth\n4. **Includes error handling** and status codes\n5. **Generates automatic documentation** with OpenAPI\n\n## Example Output\n\n```python\n# main.py\nfrom fastapi import FastAPI, Depends, HTTPException, status\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom fastapi.security import HTTPBearer, HTTPAuthorizationCredentials\nfrom sqlalchemy.orm import Session\nimport uvicorn\n\nfrom app.database import get_db, engine\nfrom app.models import models\nfrom app.routers import auth, users, posts, comments\nfrom app.core.config import settings\n\n# Create database tables\nmodels.Base.metadata.create_all(bind=engine)\n\n# Initialize FastAPI app\napp = FastAPI(\n    title=\"Blog API\",\n    description=\"A comprehensive blog API built with FastAPI\",\n    version=\"1.0.0\",\n    docs_url=\"/docs\",\n    redoc_url=\"/redoc\"\n)\n\n# Add CORS middleware\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=settings.ALLOWED_HOSTS,\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n\n# Include routers\napp.include_router(auth.router, prefix=\"/auth\", tags=[\"Authentication\"])\napp.include_router(users.router, prefix=\"/users\", tags=[\"Users\"])\napp.include_router(posts.router, prefix=\"/posts\", tags=[\"Posts\"])\napp.include_router(comments.router, prefix=\"/comments\", tags=[\"Comments\"])\n\n@app.get(\"/\", tags=[\"Root\"])\nasync def root():\n    \"\"\"API root endpoint.\"\"\"\n    return {\n        \"message\": \"Welcome to Blog API\",\n        \"version\": \"1.0.0\",\n        \"docs\": \"/docs\",\n        \"redoc\": \"/redoc\"\n    }\n\n@app.get(\"/health\", tags=[\"Health\"])\nasync def health_check():\n    \"\"\"Health check endpoint.\"\"\"\n    return {\"status\": \"healthy\", \"timestamp\": \"2024-01-01T00:00:00Z\"}\n\nif __name__ == \"__main__\":\n    uvicorn.run(\n        \"main:app\",\n        host=\"0.0.0.0\",\n        port=8000,\n        reload=True\n    )\n```\n\n```python\n# app/routers/posts.py\nfrom typing import List, Optional\nfrom fastapi import APIRouter, Depends, HTTPException, status, Query\nfrom sqlalchemy.orm import Session\n\nfrom app.database import get_db\nfrom app.schemas import post_schemas\nfrom app.services import post_service\nfrom app.core.dependencies import get_current_user, get_current_active_user\nfrom app.models.user import User\n\nrouter = APIRouter()\n\n@router.get(\"/\", response_model=List[post_schemas.PostResponse])\nasync def get_posts(\n    skip: int = Query(0, ge=0, description=\"Number of posts to skip\"),\n    limit: int = Query(10, ge=1, le=100, description=\"Number of posts to return\"),\n    search: Optional[str] = Query(None, description=\"Search in title and content\"),\n    category: Optional[str] = Query(None, description=\"Filter by category\"),\n    published: Optional[bool] = Query(True, description=\"Filter by published status\"),\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get all posts with pagination and filtering.\n    \n    - **skip**: Number of posts to skip (for pagination)\n    - **limit**: Maximum number of posts to return (1-100)\n    - **search**: Search term for title and content\n    - **category**: Filter posts by category\n    - **published**: Filter by published status\n    \"\"\"\n    posts = post_service.get_posts(\n        db=db,\n        skip=skip,\n        limit=limit,\n        search=search,\n        category=category,\n        published=published\n    )\n    return posts\n\n@router.get(\"/{post_id}\", response_model=post_schemas.PostResponse)\nasync def get_post(\n    post_id: int,\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get a specific post by ID.\n    \n    - **post_id**: Unique identifier for the post\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    return post\n\n@router.post(\"/\", response_model=post_schemas.PostResponse, status_code=status.HTTP_201_CREATED)\nasync def create_post(\n    post: post_schemas.PostCreate,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Create a new post.\n    \n    - **title**: Post title (required)\n    - **content**: Post content (required)\n    - **category**: Post category (optional)\n    - **published**: Publication status (default: false)\n    \"\"\"\n    return post_service.create_post(\n        db=db,\n        post=post,\n        user_id=current_user.id\n    )\n\n@router.put(\"/{post_id}\", response_model=post_schemas.PostResponse)\nasync def update_post(\n    post_id: int,\n    post_update: post_schemas.PostUpdate,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Update an existing post.\n    \n    - **post_id**: Unique identifier for the post\n    - **title**: Updated post title (optional)\n    - **content**: Updated post content (optional)\n    - **category**: Updated post category (optional)\n    - **published**: Updated publication status (optional)\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    if post.author_id != current_user.id:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not authorized to update this post\"\n        )\n    \n    return post_service.update_post(\n        db=db,\n        post_id=post_id,\n        post_update=post_update\n    )\n\n@router.delete(\"/{post_id}\", status_code=status.HTTP_204_NO_CONTENT)\nasync def delete_post(\n    post_id: int,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Delete a post.\n    \n    - **post_id**: Unique identifier for the post to delete\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    if post.author_id != current_user.id:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not authorized to delete this post\"\n        )\n    \n    post_service.delete_post(db=db, post_id=post_id)\n\n@router.post(\"/{post_id}/like\", response_model=post_schemas.PostResponse)\nasync def like_post(\n    post_id: int,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Like/unlike a post.\n    \n    - **post_id**: Unique identifier for the post to like\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    return post_service.toggle_like(\n        db=db,\n        post_id=post_id,\n        user_id=current_user.id\n    )\n\n@router.get(\"/{post_id}/comments\", response_model=List[post_schemas.CommentResponse])\nasync def get_post_comments(\n    post_id: int,\n    skip: int = Query(0, ge=0),\n    limit: int = Query(10, ge=1, le=100),\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get all comments for a specific post.\n    \n    - **post_id**: Unique identifier for the post\n    - **skip**: Number of comments to skip\n    - **limit**: Maximum number of comments to return\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    return post_service.get_post_comments(\n        db=db,\n        post_id=post_id,\n        skip=skip,\n        limit=limit\n    )\n```\n\n```python\n# app/schemas/post_schemas.py\nfrom typing import Optional, List\nfrom datetime import datetime\nfrom pydantic import BaseModel, Field, validator\n\nclass PostBase(BaseModel):\n    \"\"\"Base post schema.\"\"\"\n    title: str = Field(..., min_length=1, max_length=200, description=\"Post title\")\n    content: str = Field(..., min_length=1, description=\"Post content\")\n    category: Optional[str] = Field(None, max_length=50, description=\"Post category\")\n    published: bool = Field(False, description=\"Publication status\")\n\nclass PostCreate(PostBase):\n    \"\"\"Schema for creating a post.\"\"\"\n    \n    @validator('title')\n    def validate_title(cls, v):\n        if not v.strip():\n            raise ValueError('Title cannot be empty')\n        return v.strip()\n    \n    @validator('content')\n    def validate_content(cls, v):\n        if len(v.strip()) < 10:\n            raise ValueError('Content must be at least 10 characters long')\n        return v.strip()\n\nclass PostUpdate(BaseModel):\n    \"\"\"Schema for updating a post.\"\"\"\n    title: Optional[str] = Field(None, min_length=1, max_length=200)\n    content: Optional[str] = Field(None, min_length=1)\n    category: Optional[str] = Field(None, max_length=50)\n    published: Optional[bool] = None\n    \n    @validator('title')\n    def validate_title(cls, v):\n        if v is not None and not v.strip():\n            raise ValueError('Title cannot be empty')\n        return v.strip() if v else v\n    \n    @validator('content')\n    def validate_content(cls, v):\n        if v is not None and len(v.strip()) < 10:\n            raise ValueError('Content must be at least 10 characters long')\n        return v.strip() if v else v\n\nclass PostResponse(PostBase):\n    \"\"\"Schema for post responses.\"\"\"\n    id: int\n    author_id: int\n    created_at: datetime\n    updated_at: datetime\n    like_count: int = 0\n    comment_count: int = 0\n    \n    class Config:\n        from_attributes = True\n\nclass CommentBase(BaseModel):\n    \"\"\"Base comment schema.\"\"\"\n    content: str = Field(..., min_length=1, max_length=1000, description=\"Comment content\")\n\nclass CommentCreate(CommentBase):\n    \"\"\"Schema for creating a comment.\"\"\"\n    post_id: int = Field(..., description=\"ID of the post to comment on\")\n\nclass CommentResponse(CommentBase):\n    \"\"\"Schema for comment responses.\"\"\"\n    id: int\n    post_id: int\n    author_id: int\n    created_at: datetime\n    updated_at: datetime\n    \n    class Config:\n        from_attributes = True\n```\n\n```python\n# app/services/post_service.py\nfrom typing import List, Optional\nfrom sqlalchemy.orm import Session\nfrom sqlalchemy import or_\n\nfrom app.models.post import Post, Comment, PostLike\nfrom app.schemas.post_schemas import PostCreate, PostUpdate\n\ndef get_posts(\n    db: Session,\n    skip: int = 0,\n    limit: int = 10,\n    search: Optional[str] = None,\n    category: Optional[str] = None,\n    published: Optional[bool] = True\n) -> List[Post]:\n    \"\"\"Get posts with filtering and pagination.\"\"\"\n    query = db.query(Post)\n    \n    if published is not None:\n        query = query.filter(Post.published == published)\n    \n    if category:\n        query = query.filter(Post.category == category)\n    \n    if search:\n        query = query.filter(\n            or_(\n                Post.title.contains(search),\n                Post.content.contains(search)\n            )\n        )\n    \n    return query.offset(skip).limit(limit).all()\n\ndef get_post(db: Session, post_id: int) -> Optional[Post]:\n    \"\"\"Get a single post by ID.\"\"\"\n    return db.query(Post).filter(Post.id == post_id).first()\n\ndef create_post(db: Session, post: PostCreate, user_id: int) -> Post:\n    \"\"\"Create a new post.\"\"\"\n    db_post = Post(**post.dict(), author_id=user_id)\n    db.add(db_post)\n    db.commit()\n    db.refresh(db_post)\n    return db_post\n\ndef update_post(\n    db: Session,\n    post_id: int,\n    post_update: PostUpdate\n) -> Optional[Post]:\n    \"\"\"Update an existing post.\"\"\"\n    db_post = db.query(Post).filter(Post.id == post_id).first()\n    if not db_post:\n        return None\n    \n    update_data = post_update.dict(exclude_unset=True)\n    for field, value in update_data.items():\n        setattr(db_post, field, value)\n    \n    db.commit()\n    db.refresh(db_post)\n    return db_post\n\ndef delete_post(db: Session, post_id: int) -> bool:\n    \"\"\"Delete a post.\"\"\"\n    db_post = db.query(Post).filter(Post.id == post_id).first()\n    if not db_post:\n        return False\n    \n    db.delete(db_post)\n    db.commit()\n    return True\n\ndef toggle_like(db: Session, post_id: int, user_id: int) -> Post:\n    \"\"\"Toggle like status for a post.\"\"\"\n    existing_like = db.query(PostLike).filter(\n        PostLike.post_id == post_id,\n        PostLike.user_id == user_id\n    ).first()\n    \n    if existing_like:\n        db.delete(existing_like)\n    else:\n        new_like = PostLike(post_id=post_id, user_id=user_id)\n        db.add(new_like)\n    \n    db.commit()\n    return get_post(db, post_id)\n```\n\n## Features Included\n\n### API Documentation\n- **Automatic OpenAPI** schema generation\n- **Interactive docs** at `/docs`\n- **ReDoc documentation** at `/redoc`\n- **Request/Response examples** in schemas\n\n### Validation & Serialization\n- **Pydantic models** for data validation\n- **Custom validators** for business rules\n- **Type hints** for better IDE support\n- **Automatic data conversion** and validation\n\n### Error Handling\n- **HTTP status codes** for different scenarios\n- **Detailed error messages** with context\n- **Input validation errors** with field-specific messages\n- **Custom exception handlers** for consistent responses\n\n### Security\n- **JWT authentication** with dependencies\n- **Role-based access control** for endpoints\n- **CORS middleware** for cross-origin requests\n- **Input sanitization** through Pydantic\n\n### Performance\n- **Database query optimization** with SQLAlchemy\n- **Pagination support** for large datasets\n- **Async/await support** for concurrent requests\n- **Connection pooling** for database efficiency\n\n## Testing Example\n\n```python\n# tests/test_posts.py\nimport pytest\nfrom fastapi.testclient import TestClient\nfrom app.main import app\n\nclient = TestClient(app)\n\ndef test_get_posts():\n    \"\"\"Test getting posts.\"\"\"\n    response = client.get(\"/posts/\")\n    assert response.status_code == 200\n    assert isinstance(response.json(), list)\n\ndef test_create_post():\n    \"\"\"Test creating a new post.\"\"\"\n    post_data = {\n        \"title\": \"Test Post\",\n        \"content\": \"This is a test post content.\",\n        \"published\": True\n    }\n    response = client.post(\"/posts/\", json=post_data)\n    assert response.status_code == 201\n    assert response.json()[\"title\"] == \"Test Post\"\n```"
              },
              {
                "name": "/auth",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/auth.md",
                "frontmatter": null,
                "content": "# FastAPI Authentication & Authorization\n\nComplete authentication system with JWT tokens, OAuth2, and role-based access control.\n\n## Usage\n\n```bash\n# Install auth dependencies\npip install python-jose[cryptography] passlib[bcrypt] python-multipart\n\n# Generate secret key\nopenssl rand -hex 32\n```\n\n## JWT Configuration\n\n```python\n# app/core/security.py\nfrom datetime import datetime, timedelta\nfrom typing import Optional, Union, Any\nfrom jose import JWTError, jwt\nfrom passlib.context import CryptContext\nfrom app.core.config import settings\n\n# Password hashing\npwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\n# JWT settings\nSECRET_KEY = settings.SECRET_KEY\nALGORITHM = \"HS256\"\nACCESS_TOKEN_EXPIRE_MINUTES = 30\nREFRESH_TOKEN_EXPIRE_DAYS = 7\n\ndef create_access_token(\n    subject: Union[str, Any], \n    expires_delta: Optional[timedelta] = None\n) -> str:\n    \"\"\"Create JWT access token.\"\"\"\n    if expires_delta:\n        expire = datetime.utcnow() + expires_delta\n    else:\n        expire = datetime.utcnow() + timedelta(minutes=ACCESS_TOKEN_EXPIRE_MINUTES)\n    \n    to_encode = {\"exp\": expire, \"sub\": str(subject), \"type\": \"access\"}\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n    return encoded_jwt\n\ndef create_refresh_token(subject: Union[str, Any]) -> str:\n    \"\"\"Create JWT refresh token.\"\"\"\n    expire = datetime.utcnow() + timedelta(days=REFRESH_TOKEN_EXPIRE_DAYS)\n    to_encode = {\"exp\": expire, \"sub\": str(subject), \"type\": \"refresh\"}\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n    return encoded_jwt\n\ndef verify_password(plain_password: str, hashed_password: str) -> bool:\n    \"\"\"Verify password against hash.\"\"\"\n    return pwd_context.verify(plain_password, hashed_password)\n\ndef get_password_hash(password: str) -> str:\n    \"\"\"Generate password hash.\"\"\"\n    return pwd_context.hash(password)\n\ndef decode_token(token: str) -> Optional[dict]:\n    \"\"\"Decode and verify JWT token.\"\"\"\n    try:\n        payload = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])\n        return payload\n    except JWTError:\n        return None\n```\n\n## Authentication Dependencies\n\n```python\n# app/api/dependencies/auth.py\nfrom typing import Optional\nfrom fastapi import Depends, HTTPException, status\nfrom fastapi.security import OAuth2PasswordBearer, HTTPBearer, HTTPAuthorizationCredentials\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.core.security import decode_token\nfrom app.db.database import get_db\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\n\n# OAuth2 scheme\noauth2_scheme = OAuth2PasswordBearer(\n    tokenUrl=\"/api/v1/auth/login\",\n    scheme_name=\"JWT\"\n)\n\n# Bearer token scheme\nsecurity = HTTPBearer()\n\nasync def get_current_user(\n    token: str = Depends(oauth2_scheme),\n    db: AsyncSession = Depends(get_db)\n) -> User:\n    \"\"\"Get current authenticated user.\"\"\"\n    credentials_exception = HTTPException(\n        status_code=status.HTTP_401_UNAUTHORIZED,\n        detail=\"Could not validate credentials\",\n        headers={\"WWW-Authenticate\": \"Bearer\"},\n    )\n    \n    payload = decode_token(token)\n    if payload is None:\n        raise credentials_exception\n    \n    user_id: str = payload.get(\"sub\")\n    token_type: str = payload.get(\"type\")\n    \n    if user_id is None or token_type != \"access\":\n        raise credentials_exception\n    \n    user_repo = UserRepository(User, db)\n    user = await user_repo.get(int(user_id))\n    \n    if user is None:\n        raise credentials_exception\n    \n    if not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    \n    return user\n\nasync def get_current_active_user(\n    current_user: User = Depends(get_current_user)\n) -> User:\n    \"\"\"Get current active user.\"\"\"\n    if not current_user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    return current_user\n\nasync def get_current_superuser(\n    current_user: User = Depends(get_current_user)\n) -> User:\n    \"\"\"Get current superuser.\"\"\"\n    if not current_user.is_superuser:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not enough permissions\"\n        )\n    return current_user\n\ndef require_permissions(*permissions: str):\n    \"\"\"Decorator for permission-based access control.\"\"\"\n    async def permission_checker(\n        current_user: User = Depends(get_current_active_user)\n    ) -> User:\n        # Check if user has required permissions\n        user_permissions = set(current_user.permissions or [])\n        required_permissions = set(permissions)\n        \n        if not required_permissions.issubset(user_permissions) and not current_user.is_superuser:\n            raise HTTPException(\n                status_code=status.HTTP_403_FORBIDDEN,\n                detail=\"Insufficient permissions\"\n            )\n        \n        return current_user\n    \n    return permission_checker\n\ndef require_roles(*roles: str):\n    \"\"\"Decorator for role-based access control.\"\"\"\n    async def role_checker(\n        current_user: User = Depends(get_current_active_user)\n    ) -> User:\n        user_roles = set(role.name for role in current_user.roles or [])\n        required_roles = set(roles)\n        \n        if not required_roles.issubset(user_roles) and not current_user.is_superuser:\n            raise HTTPException(\n                status_code=status.HTTP_403_FORBIDDEN,\n                detail=\"Insufficient role permissions\"\n            )\n        \n        return current_user\n    \n    return role_checker\n```\n\n## Authentication Schemas\n\n```python\n# app/schemas/auth.py\nfrom pydantic import BaseModel, EmailStr\nfrom typing import Optional\n\nclass Token(BaseModel):\n    \"\"\"Token response schema.\"\"\"\n    access_token: str\n    refresh_token: str\n    token_type: str = \"bearer\"\n    expires_in: int\n\nclass TokenPayload(BaseModel):\n    \"\"\"Token payload schema.\"\"\"\n    sub: Optional[int] = None\n    exp: Optional[int] = None\n    type: Optional[str] = None\n\nclass UserLogin(BaseModel):\n    \"\"\"User login schema.\"\"\"\n    username: str\n    password: str\n\nclass UserRegister(BaseModel):\n    \"\"\"User registration schema.\"\"\"\n    username: str\n    email: EmailStr\n    password: str\n    first_name: str\n    last_name: str\n\nclass PasswordReset(BaseModel):\n    \"\"\"Password reset schema.\"\"\"\n    email: EmailStr\n\nclass PasswordResetConfirm(BaseModel):\n    \"\"\"Password reset confirmation schema.\"\"\"\n    token: str\n    new_password: str\n\nclass ChangePassword(BaseModel):\n    \"\"\"Change password schema.\"\"\"\n    current_password: str\n    new_password: str\n\nclass RefreshToken(BaseModel):\n    \"\"\"Refresh token schema.\"\"\"\n    refresh_token: str\n```\n\n## Authentication Endpoints\n\n```python\n# app/api/v1/auth.py\nfrom datetime import timedelta\nfrom typing import Any\nfrom fastapi import APIRouter, Depends, HTTPException, status, BackgroundTasks\nfrom fastapi.security import OAuth2PasswordRequestForm\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.db.database import get_db\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.schemas.auth import (\n    Token, UserLogin, UserRegister, PasswordReset, \n    PasswordResetConfirm, ChangePassword, RefreshToken\n)\nfrom app.schemas.user import UserCreate, UserResponse\nfrom app.core.security import (\n    create_access_token, create_refresh_token, verify_password,\n    decode_token, ACCESS_TOKEN_EXPIRE_MINUTES\n)\nfrom app.api.dependencies.auth import get_current_user, get_current_active_user\nfrom app.services.email import send_password_reset_email\nfrom app.services.auth import AuthService\n\nrouter = APIRouter()\n\n@router.post(\"/register\", response_model=UserResponse, status_code=status.HTTP_201_CREATED)\nasync def register(\n    user_data: UserRegister,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Register new user.\"\"\"\n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    # Check if user already exists\n    if await user_repo.get_by_email(user_data.email):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Email already registered\"\n        )\n    \n    if await user_repo.get_by_username(user_data.username):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Username already taken\"\n        )\n    \n    # Create user\n    user = await auth_service.create_user(user_data.dict())\n    return user\n\n@router.post(\"/login\", response_model=Token)\nasync def login(\n    form_data: OAuth2PasswordRequestForm = Depends(),\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"OAuth2 compatible token login.\"\"\"\n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    user = await auth_service.authenticate_user(\n        form_data.username, \n        form_data.password\n    )\n    \n    if not user:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Incorrect username or password\",\n            headers={\"WWW-Authenticate\": \"Bearer\"},\n        )\n    \n    if not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    \n    # Create tokens\n    access_token = create_access_token(subject=user.id)\n    refresh_token = create_refresh_token(subject=user.id)\n    \n    return {\n        \"access_token\": access_token,\n        \"refresh_token\": refresh_token,\n        \"token_type\": \"bearer\",\n        \"expires_in\": ACCESS_TOKEN_EXPIRE_MINUTES * 60\n    }\n\n@router.post(\"/refresh\", response_model=Token)\nasync def refresh_token(\n    refresh_data: RefreshToken,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Refresh access token.\"\"\"\n    payload = decode_token(refresh_data.refresh_token)\n    \n    if payload is None or payload.get(\"type\") != \"refresh\":\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    user_id = payload.get(\"sub\")\n    if user_id is None:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    user = await user_repo.get(int(user_id))\n    \n    if user is None or not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    # Create new tokens\n    access_token = create_access_token(subject=user.id)\n    new_refresh_token = create_refresh_token(subject=user.id)\n    \n    return {\n        \"access_token\": access_token,\n        \"refresh_token\": new_refresh_token,\n        \"token_type\": \"bearer\",\n        \"expires_in\": ACCESS_TOKEN_EXPIRE_MINUTES * 60\n    }\n\n@router.get(\"/me\", response_model=UserResponse)\nasync def read_users_me(\n    current_user: User = Depends(get_current_active_user)\n) -> Any:\n    \"\"\"Get current user.\"\"\"\n    return current_user\n\n@router.post(\"/change-password\", status_code=status.HTTP_200_OK)\nasync def change_password(\n    password_data: ChangePassword,\n    current_user: User = Depends(get_current_active_user),\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Change user password.\"\"\"\n    if not verify_password(password_data.current_password, current_user.hashed_password):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Incorrect current password\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    await auth_service.change_password(current_user.id, password_data.new_password)\n    \n    return {\"message\": \"Password changed successfully\"}\n\n@router.post(\"/password-reset\", status_code=status.HTTP_200_OK)\nasync def password_reset(\n    reset_data: PasswordReset,\n    background_tasks: BackgroundTasks,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Request password reset.\"\"\"\n    user_repo = UserRepository(User, db)\n    user = await user_repo.get_by_email(reset_data.email)\n    \n    if user:\n        # Generate reset token\n        reset_token = create_access_token(\n            subject=user.id,\n            expires_delta=timedelta(hours=1)  # 1 hour expiry\n        )\n        \n        # Send email with reset token\n        background_tasks.add_task(\n            send_password_reset_email,\n            email=user.email,\n            username=user.username,\n            token=reset_token\n        )\n    \n    # Always return success to prevent email enumeration\n    return {\"message\": \"Password reset email sent if account exists\"}\n\n@router.post(\"/password-reset-confirm\", status_code=status.HTTP_200_OK)\nasync def password_reset_confirm(\n    reset_data: PasswordResetConfirm,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Confirm password reset.\"\"\"\n    payload = decode_token(reset_data.token)\n    \n    if payload is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid or expired reset token\"\n        )\n    \n    user_id = payload.get(\"sub\")\n    if user_id is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid reset token\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    user = await user_repo.get(int(user_id))\n    if user is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid reset token\"\n        )\n    \n    await auth_service.change_password(user.id, reset_data.new_password)\n    \n    return {\"message\": \"Password reset successful\"}\n\n@router.post(\"/logout\", status_code=status.HTTP_200_OK)\nasync def logout(\n    current_user: User = Depends(get_current_user)\n) -> Any:\n    \"\"\"Logout user (invalidate token on client side).\"\"\"\n    # In a more sophisticated setup, you might want to blacklist the token\n    return {\"message\": \"Successfully logged out\"}\n```\n\n## Authentication Service\n\n```python\n# app/services/auth.py\nfrom typing import Optional\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.security import verify_password, get_password_hash\n\nclass AuthService:\n    \"\"\"Authentication service.\"\"\"\n    \n    def __init__(self, user_repository: UserRepository):\n        self.user_repo = user_repository\n    \n    async def authenticate_user(\n        self, \n        username_or_email: str, \n        password: str\n    ) -> Optional[User]:\n        \"\"\"Authenticate user by username/email and password.\"\"\"\n        # Try to get user by username first, then by email\n        user = await self.user_repo.get_by_username(username_or_email)\n        if not user:\n            user = await self.user_repo.get_by_email(username_or_email)\n        \n        if not user:\n            return None\n        \n        if not verify_password(password, user.hashed_password):\n            return None\n        \n        return user\n    \n    async def create_user(self, user_data: dict) -> User:\n        \"\"\"Create new user.\"\"\"\n        # Hash password\n        password = user_data.pop('password')\n        hashed_password = get_password_hash(password)\n        \n        # Create user data\n        user_create_data = {\n            **user_data,\n            'hashed_password': hashed_password,\n            'is_active': True,\n            'is_superuser': False\n        }\n        \n        return await self.user_repo.create(user_create_data)\n    \n    async def change_password(self, user_id: int, new_password: str) -> bool:\n        \"\"\"Change user password.\"\"\"\n        hashed_password = get_password_hash(new_password)\n        \n        result = await self.user_repo.update(user_id, {\n            'hashed_password': hashed_password\n        })\n        \n        return result is not None\n    \n    async def activate_user(self, user_id: int) -> bool:\n        \"\"\"Activate user account.\"\"\"\n        result = await self.user_repo.update(user_id, {'is_active': True})\n        return result is not None\n    \n    async def deactivate_user(self, user_id: int) -> bool:\n        \"\"\"Deactivate user account.\"\"\"\n        result = await self.user_repo.update(user_id, {'is_active': False})\n        return result is not None\n```\n\n## Role-Based Access Control\n\n```python\n# app/models/rbac.py\nfrom sqlalchemy import Column, String, Text, ForeignKey, Table\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\n\n# Association tables for many-to-many relationships\nuser_roles = Table(\n    'user_roles',\n    Base.metadata,\n    Column('user_id', Integer, ForeignKey('users.id')),\n    Column('role_id', Integer, ForeignKey('roles.id'))\n)\n\nrole_permissions = Table(\n    'role_permissions',\n    Base.metadata,\n    Column('role_id', Integer, ForeignKey('roles.id')),\n    Column('permission_id', Integer, ForeignKey('permissions.id'))\n)\n\nclass Role(BaseModel):\n    \"\"\"Role model for RBAC.\"\"\"\n    __tablename__ = \"roles\"\n    \n    name = Column(String(50), unique=True, nullable=False, index=True)\n    description = Column(Text)\n    \n    # Relationships\n    users = relationship(\"User\", secondary=user_roles, back_populates=\"roles\")\n    permissions = relationship(\"Permission\", secondary=role_permissions, back_populates=\"roles\")\n\nclass Permission(BaseModel):\n    \"\"\"Permission model for RBAC.\"\"\"\n    __tablename__ = \"permissions\"\n    \n    name = Column(String(100), unique=True, nullable=False, index=True)\n    description = Column(Text)\n    resource = Column(String(50), nullable=False)  # e.g., 'users', 'posts'\n    action = Column(String(50), nullable=False)    # e.g., 'create', 'read', 'update', 'delete'\n    \n    # Relationships\n    roles = relationship(\"Role\", secondary=role_permissions, back_populates=\"permissions\")\n\n# Update User model to include roles\nclass User(BaseModel):\n    # ... existing fields ...\n    \n    # Relationships\n    roles = relationship(\"Role\", secondary=user_roles, back_populates=\"users\")\n    \n    @property\n    def permissions(self) -> list[str]:\n        \"\"\"Get all permissions for user.\"\"\"\n        perms = set()\n        for role in self.roles:\n            for permission in role.permissions:\n                perms.add(f\"{permission.resource}:{permission.action}\")\n        return list(perms)\n```\n\n## OAuth2 Integration\n\n```python\n# app/api/v1/oauth.py\nfrom fastapi import APIRouter, Depends, HTTPException, status\nfrom fastapi.security.utils import get_authorization_scheme_param\nfrom starlette.requests import Request\nfrom authlib.integrations.starlette_client import OAuth\nfrom app.core.config import settings\n\nrouter = APIRouter()\n\n# OAuth configuration\noauth = OAuth()\n\n# Google OAuth\ngoogle = oauth.register(\n    name='google',\n    client_id=settings.GOOGLE_CLIENT_ID,\n    client_secret=settings.GOOGLE_CLIENT_SECRET,\n    server_metadata_url='https://accounts.google.com/.well-known/openid_configuration',\n    client_kwargs={\n        'scope': 'openid email profile'\n    }\n)\n\n# GitHub OAuth\ngithub = oauth.register(\n    name='github',\n    client_id=settings.GITHUB_CLIENT_ID,\n    client_secret=settings.GITHUB_CLIENT_SECRET,\n    access_token_url='https://github.com/login/oauth/access_token',\n    access_token_params=None,\n    authorize_url='https://github.com/login/oauth/authorize',\n    authorize_params=None,\n    api_base_url='https://api.github.com/',\n    client_kwargs={'scope': 'user:email'},\n)\n\n@router.get('/google')\nasync def google_login(request: Request):\n    \"\"\"Initiate Google OAuth login.\"\"\"\n    redirect_uri = request.url_for('google_callback')\n    return await google.authorize_redirect(request, redirect_uri)\n\n@router.get('/google/callback')\nasync def google_callback(request: Request):\n    \"\"\"Handle Google OAuth callback.\"\"\"\n    token = await google.authorize_access_token(request)\n    user_info = token.get('userinfo')\n    \n    if user_info:\n        # Create or get user\n        # Generate JWT token\n        # Return token\n        pass\n    \n    raise HTTPException(\n        status_code=status.HTTP_400_BAD_REQUEST,\n        detail=\"OAuth authentication failed\"\n    )\n```\n\n## API Key Authentication\n\n```python\n# app/models/api_key.py\nfrom sqlalchemy import Column, String, Boolean, ForeignKey, DateTime\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\nimport secrets\n\nclass APIKey(BaseModel):\n    \"\"\"API Key model.\"\"\"\n    __tablename__ = \"api_keys\"\n    \n    name = Column(String(100), nullable=False)\n    key_hash = Column(String(255), unique=True, nullable=False, index=True)\n    prefix = Column(String(10), nullable=False, index=True)\n    is_active = Column(Boolean, default=True, nullable=False)\n    expires_at = Column(DateTime)\n    last_used_at = Column(DateTime)\n    \n    # Foreign key\n    user_id = Column(Integer, ForeignKey(\"users.id\"), nullable=False)\n    \n    # Relationships\n    user = relationship(\"User\", back_populates=\"api_keys\")\n    \n    @classmethod\n    def generate_key(cls) -> tuple[str, str]:\n        \"\"\"Generate API key and return (key, hash).\"\"\"\n        key = secrets.token_urlsafe(32)\n        prefix = key[:8]\n        key_hash = get_password_hash(key)\n        return key, prefix, key_hash\n    \n    def verify_key(self, key: str) -> bool:\n        \"\"\"Verify API key.\"\"\"\n        return verify_password(key, self.key_hash)\n\n# Add to User model\nclass User(BaseModel):\n    # ... existing fields ...\n    \n    # Relationships\n    api_keys = relationship(\"APIKey\", back_populates=\"user\", cascade=\"all, delete-orphan\")\n```\n\n## Testing Authentication\n\n```python\n# tests/test_auth.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.core.security import create_access_token\n\n@pytest.mark.asyncio\nasync def test_register_user(client: AsyncClient):\n    \"\"\"Test user registration.\"\"\"\n    user_data = {\n        \"username\": \"testuser\",\n        \"email\": \"test@example.com\",\n        \"password\": \"testpass123\",\n        \"first_name\": \"Test\",\n        \"last_name\": \"User\"\n    }\n    \n    response = await client.post(\"/api/v1/auth/register\", json=user_data)\n    assert response.status_code == 201\n    \n    data = response.json()\n    assert data[\"username\"] == user_data[\"username\"]\n    assert data[\"email\"] == user_data[\"email\"]\n    assert \"hashed_password\" not in data\n\n@pytest.mark.asyncio\nasync def test_login_user(client: AsyncClient, test_user):\n    \"\"\"Test user login.\"\"\"\n    login_data = {\n        \"username\": test_user.username,\n        \"password\": \"testpass123\"\n    }\n    \n    response = await client.post(\n        \"/api/v1/auth/login\", \n        data=login_data,\n        headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n    )\n    \n    assert response.status_code == 200\n    \n    data = response.json()\n    assert \"access_token\" in data\n    assert \"refresh_token\" in data\n    assert data[\"token_type\"] == \"bearer\"\n\n@pytest.mark.asyncio\nasync def test_get_current_user(client: AsyncClient, test_user):\n    \"\"\"Test get current user endpoint.\"\"\"\n    token = create_access_token(subject=test_user.id)\n    headers = {\"Authorization\": f\"Bearer {token}\"}\n    \n    response = await client.get(\"/api/v1/auth/me\", headers=headers)\n    assert response.status_code == 200\n    \n    data = response.json()\n    assert data[\"username\"] == test_user.username\n    assert data[\"email\"] == test_user.email\n```\n"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# FastAPI Database Integration\n\nComplete database setup with SQLAlchemy, Alembic, and async support for FastAPI.\n\n## Usage\n\n```bash\n# Initialize Alembic\nalembic init alembic\n\n# Create migration\nalembic revision --autogenerate -m \"Initial migration\"\n\n# Apply migrations\nalembic upgrade head\n\n# Downgrade migration\nalembic downgrade -1\n```\n\n## Database Configuration\n\n```python\n# app/core/config.py\nfrom pydantic import BaseSettings, PostgresDsn, validator\nfrom typing import Optional, Dict, Any\nimport os\n\nclass Settings(BaseSettings):\n    \"\"\"Application settings.\"\"\"\n    \n    # Database\n    POSTGRES_SERVER: str = \"localhost\"\n    POSTGRES_USER: str = \"postgres\"\n    POSTGRES_PASSWORD: str = \"password\"\n    POSTGRES_DB: str = \"fastapi_app\"\n    POSTGRES_PORT: str = \"5432\"\n    DATABASE_URL: Optional[PostgresDsn] = None\n    \n    @validator(\"DATABASE_URL\", pre=True)\n    def assemble_db_connection(cls, v: Optional[str], values: Dict[str, Any]) -> Any:\n        if isinstance(v, str):\n            return v\n        return PostgresDsn.build(\n            scheme=\"postgresql+asyncpg\",\n            user=values.get(\"POSTGRES_USER\"),\n            password=values.get(\"POSTGRES_PASSWORD\"),\n            host=values.get(\"POSTGRES_SERVER\"),\n            port=values.get(\"POSTGRES_PORT\"),\n            path=f\"/{values.get('POSTGRES_DB') or ''}\",\n        )\n    \n    # Redis\n    REDIS_URL: str = \"redis://localhost:6379/0\"\n    \n    # Database settings\n    DATABASE_POOL_SIZE: int = 10\n    DATABASE_MAX_OVERFLOW: int = 20\n    DATABASE_POOL_RECYCLE: int = 3600\n    \n    class Config:\n        env_file = \".env\"\n        case_sensitive = True\n\nsettings = Settings()\n```\n\n## Database Setup\n\n```python\n# app/db/database.py\nfrom sqlalchemy.ext.asyncio import AsyncSession, create_async_engine\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy.orm import sessionmaker\nfrom app.core.config import settings\n\n# Create async engine\nengine = create_async_engine(\n    str(settings.DATABASE_URL),\n    pool_size=settings.DATABASE_POOL_SIZE,\n    max_overflow=settings.DATABASE_MAX_OVERFLOW,\n    pool_recycle=settings.DATABASE_POOL_RECYCLE,\n    pool_pre_ping=True,\n    echo=False  # Set to True for SQL debugging\n)\n\n# Create async session factory\nAsyncSessionLocal = sessionmaker(\n    engine, class_=AsyncSession, expire_on_commit=False\n)\n\n# Base class for models\nBase = declarative_base()\n\nasync def get_db() -> AsyncSession:\n    \"\"\"Dependency to get database session.\"\"\"\n    async with AsyncSessionLocal() as session:\n        try:\n            yield session\n        finally:\n            await session.close()\n\nasync def create_tables():\n    \"\"\"Create database tables.\"\"\"\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n\nasync def drop_tables():\n    \"\"\"Drop database tables.\"\"\"\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n```\n\n## Base Model\n\n```python\n# app/models/base.py\nfrom sqlalchemy import Column, Integer, DateTime, func\nfrom sqlalchemy.ext.declarative import declared_attr\nfrom app.db.database import Base\nfrom datetime import datetime\nfrom typing import Any\n\nclass TimestampMixin:\n    \"\"\"Mixin for timestamp fields.\"\"\"\n    created_at = Column(DateTime(timezone=True), server_default=func.now(), nullable=False)\n    updated_at = Column(\n        DateTime(timezone=True),\n        server_default=func.now(),\n        onupdate=func.now(),\n        nullable=False\n    )\n\nclass BaseModel(Base, TimestampMixin):\n    \"\"\"Base model with common functionality.\"\"\"\n    __abstract__ = True\n    \n    id = Column(Integer, primary_key=True, index=True)\n    \n    @declared_attr\n    def __tablename__(cls) -> str:\n        return cls.__name__.lower()\n    \n    def dict(self, exclude: set = None) -> dict[str, Any]:\n        \"\"\"Convert model to dictionary.\"\"\"\n        exclude = exclude or set()\n        return {\n            column.name: getattr(self, column.name)\n            for column in self.__table__.columns\n            if column.name not in exclude\n        }\n    \n    def __repr__(self) -> str:\n        return f\"<{self.__class__.__name__}(id={self.id})>\"\n```\n\n## Example Models\n\n```python\n# app/models/user.py\nfrom sqlalchemy import Column, String, Boolean, Text, Index\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\nfrom passlib.context import CryptContext\n\npwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\nclass User(BaseModel):\n    \"\"\"User model.\"\"\"\n    __tablename__ = \"users\"\n    \n    username = Column(String(50), unique=True, index=True, nullable=False)\n    email = Column(String(100), unique=True, index=True, nullable=False)\n    hashed_password = Column(String(255), nullable=False)\n    first_name = Column(String(50), nullable=False)\n    last_name = Column(String(50), nullable=False)\n    is_active = Column(Boolean, default=True, nullable=False)\n    is_superuser = Column(Boolean, default=False, nullable=False)\n    bio = Column(Text)\n    \n    # Relationships\n    posts = relationship(\"Post\", back_populates=\"author\", cascade=\"all, delete-orphan\")\n    \n    # Indexes\n    __table_args__ = (\n        Index('idx_user_email_active', email, is_active),\n        Index('idx_user_username_active', username, is_active),\n    )\n    \n    def verify_password(self, password: str) -> bool:\n        \"\"\"Verify password against hash.\"\"\"\n        return pwd_context.verify(password, self.hashed_password)\n    \n    @staticmethod\n    def get_password_hash(password: str) -> str:\n        \"\"\"Generate password hash.\"\"\"\n        return pwd_context.hash(password)\n    \n    def set_password(self, password: str) -> None:\n        \"\"\"Set user password.\"\"\"\n        self.hashed_password = self.get_password_hash(password)\n    \n    @property\n    def full_name(self) -> str:\n        \"\"\"Get user's full name.\"\"\"\n        return f\"{self.first_name} {self.last_name}\"\n    \n    def dict(self, exclude: set = None) -> dict:\n        \"\"\"Convert to dict excluding sensitive data.\"\"\"\n        exclude = exclude or set()\n        exclude.add('hashed_password')\n        return super().dict(exclude=exclude)\n\n# app/models/post.py\nfrom sqlalchemy import Column, String, Text, ForeignKey, Boolean, Index\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\n\nclass Post(BaseModel):\n    \"\"\"Blog post model.\"\"\"\n    __tablename__ = \"posts\"\n    \n    title = Column(String(200), nullable=False, index=True)\n    content = Column(Text, nullable=False)\n    slug = Column(String(200), unique=True, nullable=False, index=True)\n    is_published = Column(Boolean, default=False, nullable=False)\n    \n    # Foreign keys\n    author_id = Column(Integer, ForeignKey(\"users.id\"), nullable=False)\n    \n    # Relationships\n    author = relationship(\"User\", back_populates=\"posts\")\n    \n    # Indexes\n    __table_args__ = (\n        Index('idx_post_published_created', is_published, 'created_at'),\n        Index('idx_post_author_published', author_id, is_published),\n    )\n```\n\n## Repository Pattern\n\n```python\n# app/repositories/base.py\nfrom typing import Generic, TypeVar, Type, Optional, List, Dict, Any\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import select, update, delete, func\nfrom sqlalchemy.orm import selectinload\nfrom app.models.base import BaseModel\n\nModelType = TypeVar(\"ModelType\", bound=BaseModel)\n\nclass BaseRepository(Generic[ModelType]):\n    \"\"\"Base repository with common CRUD operations.\"\"\"\n    \n    def __init__(self, model: Type[ModelType], db: AsyncSession):\n        self.model = model\n        self.db = db\n    \n    async def get(self, id: int) -> Optional[ModelType]:\n        \"\"\"Get model by ID.\"\"\"\n        result = await self.db.execute(\n            select(self.model).where(self.model.id == id)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_multi(\n        self, \n        skip: int = 0, \n        limit: int = 100,\n        filters: Dict[str, Any] = None\n    ) -> List[ModelType]:\n        \"\"\"Get multiple models with pagination.\"\"\"\n        query = select(self.model)\n        \n        if filters:\n            for field, value in filters.items():\n                if hasattr(self.model, field):\n                    query = query.where(getattr(self.model, field) == value)\n        \n        query = query.offset(skip).limit(limit)\n        result = await self.db.execute(query)\n        return result.scalars().all()\n    \n    async def create(self, obj_in: Dict[str, Any]) -> ModelType:\n        \"\"\"Create new model.\"\"\"\n        db_obj = self.model(**obj_in)\n        self.db.add(db_obj)\n        await self.db.commit()\n        await self.db.refresh(db_obj)\n        return db_obj\n    \n    async def update(\n        self, \n        id: int, \n        obj_in: Dict[str, Any]\n    ) -> Optional[ModelType]:\n        \"\"\"Update model by ID.\"\"\"\n        await self.db.execute(\n            update(self.model)\n            .where(self.model.id == id)\n            .values(**obj_in)\n        )\n        await self.db.commit()\n        return await self.get(id)\n    \n    async def delete(self, id: int) -> bool:\n        \"\"\"Delete model by ID.\"\"\"\n        result = await self.db.execute(\n            delete(self.model).where(self.model.id == id)\n        )\n        await self.db.commit()\n        return result.rowcount > 0\n    \n    async def count(self, filters: Dict[str, Any] = None) -> int:\n        \"\"\"Count models with optional filters.\"\"\"\n        query = select(func.count(self.model.id))\n        \n        if filters:\n            for field, value in filters.items():\n                if hasattr(self.model, field):\n                    query = query.where(getattr(self.model, field) == value)\n        \n        result = await self.db.execute(query)\n        return result.scalar()\n\n# app/repositories/user.py\nfrom typing import Optional\nfrom sqlalchemy import select\nfrom app.models.user import User\nfrom app.repositories.base import BaseRepository\n\nclass UserRepository(BaseRepository[User]):\n    \"\"\"User repository with custom methods.\"\"\"\n    \n    async def get_by_email(self, email: str) -> Optional[User]:\n        \"\"\"Get user by email.\"\"\"\n        result = await self.db.execute(\n            select(User).where(User.email == email)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_by_username(self, username: str) -> Optional[User]:\n        \"\"\"Get user by username.\"\"\"\n        result = await self.db.execute(\n            select(User).where(User.username == username)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_active_users(self, skip: int = 0, limit: int = 100):\n        \"\"\"Get active users.\"\"\"\n        return await self.get_multi(\n            skip=skip, \n            limit=limit, \n            filters={'is_active': True}\n        )\n```\n\n## Alembic Configuration\n\n```python\n# alembic/env.py\nfrom logging.config import fileConfig\nfrom sqlalchemy import engine_from_config, pool\nfrom sqlalchemy.ext.asyncio import AsyncEngine\nfrom alembic import context\nimport asyncio\n\n# Import your models\nfrom app.models.base import Base\nfrom app.models.user import User\nfrom app.models.post import Post\nfrom app.core.config import settings\n\n# Alembic Config object\nconfig = context.config\n\n# Override database URL\nconfig.set_main_option(\"sqlalchemy.url\", str(settings.DATABASE_URL))\n\n# Interpret the config file for logging\nif config.config_file_name is not None:\n    fileConfig(config.config_file_name)\n\n# Add your model's MetaData object here\ntarget_metadata = Base.metadata\n\ndef do_run_migrations(connection):\n    context.configure(\n        connection=connection,\n        target_metadata=target_metadata,\n        compare_type=True,\n        compare_server_default=True,\n    )\n    \n    with context.begin_transaction():\n        context.run_migrations()\n\nasync def run_migrations_online():\n    \"\"\"Run migrations in 'online' mode.\"\"\"\n    configuration = config.get_section(config.config_ini_section)\n    configuration[\"sqlalchemy.url\"] = str(settings.DATABASE_URL)\n    \n    connectable = AsyncEngine(\n        engine_from_config(\n            configuration,\n            prefix=\"sqlalchemy.\",\n            poolclass=pool.NullPool,\n        )\n    )\n    \n    async with connectable.connect() as connection:\n        await connection.run_sync(do_run_migrations)\n    \n    await connectable.dispose()\n\nif context.is_offline_mode():\n    run_migrations_offline()\nelse:\n    asyncio.run(run_migrations_online())\n```\n\n## Database Utilities\n\n```python\n# app/db/utils.py\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import text\nfrom app.db.database import engine, AsyncSessionLocal\nfrom app.core.config import settings\nimport asyncio\n\nasync def check_database_connection() -> bool:\n    \"\"\"Check if database is accessible.\"\"\"\n    try:\n        async with AsyncSessionLocal() as session:\n            await session.execute(text(\"SELECT 1\"))\n            return True\n    except Exception:\n        return False\n\nasync def create_database_if_not_exists():\n    \"\"\"Create database if it doesn't exist.\"\"\"\n    # This is PostgreSQL specific\n    import asyncpg\n    from urllib.parse import urlparse\n    \n    url = urlparse(str(settings.DATABASE_URL))\n    \n    try:\n        # Connect to postgres database to create our database\n        conn = await asyncpg.connect(\n            host=url.hostname,\n            port=url.port,\n            user=url.username,\n            password=url.password,\n            database='postgres'\n        )\n        \n        # Check if database exists\n        exists = await conn.fetchval(\n            \"SELECT 1 FROM pg_database WHERE datname = $1\",\n            url.path[1:]  # Remove leading slash\n        )\n        \n        if not exists:\n            await conn.execute(f'CREATE DATABASE \"{url.path[1:]}\"')\n            print(f\"Database {url.path[1:]} created.\")\n        \n        await conn.close()\n        \n    except Exception as e:\n        print(f\"Error creating database: {e}\")\n\nasync def execute_raw_sql(sql: str, params: dict = None) -> list:\n    \"\"\"Execute raw SQL query.\"\"\"\n    async with AsyncSessionLocal() as session:\n        result = await session.execute(text(sql), params or {})\n        return result.fetchall()\n\nasync def get_table_info(table_name: str) -> dict:\n    \"\"\"Get information about a table.\"\"\"\n    sql = \"\"\"\n    SELECT \n        column_name,\n        data_type,\n        is_nullable,\n        column_default\n    FROM information_schema.columns \n    WHERE table_name = :table_name\n    ORDER BY ordinal_position;\n    \"\"\"\n    \n    result = await execute_raw_sql(sql, {'table_name': table_name})\n    return [\n        {\n            'column_name': row[0],\n            'data_type': row[1],\n            'is_nullable': row[2],\n            'column_default': row[3]\n        }\n        for row in result\n    ]\n```\n\n## Database Initialization\n\n```python\n# app/db/init_db.py\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.db.database import get_db, create_tables\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.config import settings\nimport asyncio\n\nasync def init_db() -> None:\n    \"\"\"Initialize database with tables and default data.\"\"\"\n    # Create tables\n    await create_tables()\n    print(\"Database tables created.\")\n    \n    # Create default superuser\n    async with AsyncSessionLocal() as session:\n        user_repo = UserRepository(User, session)\n        \n        # Check if superuser exists\n        existing_user = await user_repo.get_by_email(\"admin@example.com\")\n        \n        if not existing_user:\n            superuser_data = {\n                \"username\": \"admin\",\n                \"email\": \"admin@example.com\",\n                \"first_name\": \"Admin\",\n                \"last_name\": \"User\",\n                \"is_superuser\": True,\n                \"is_active\": True\n            }\n            \n            superuser = User(**superuser_data)\n            superuser.set_password(\"admin123\")\n            \n            session.add(superuser)\n            await session.commit()\n            print(\"Superuser created.\")\n        else:\n            print(\"Superuser already exists.\")\n\nif __name__ == \"__main__\":\n    asyncio.run(init_db())\n```\n\n## Testing Database\n\n```python\n# tests/conftest.py\nimport pytest\nimport asyncio\nfrom sqlalchemy.ext.asyncio import create_async_engine, AsyncSession\nfrom sqlalchemy.orm import sessionmaker\nfrom app.db.database import Base, get_db\nfrom app.main import app\nimport pytest_asyncio\n\n# Test database URL\nTEST_DATABASE_URL = \"sqlite+aiosqlite:///./test.db\"\n\n@pytest.fixture(scope=\"session\")\ndef event_loop():\n    \"\"\"Create event loop for async tests.\"\"\"\n    loop = asyncio.get_event_loop_policy().new_event_loop()\n    yield loop\n    loop.close()\n\n@pytest_asyncio.fixture(scope=\"session\")\nasync def test_engine():\n    \"\"\"Create test database engine.\"\"\"\n    engine = create_async_engine(TEST_DATABASE_URL, echo=False)\n    \n    # Create tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n    \n    yield engine\n    \n    # Drop tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n    \n    await engine.dispose()\n\n@pytest_asyncio.fixture\nasync def test_session(test_engine):\n    \"\"\"Create test database session.\"\"\"\n    TestSessionLocal = sessionmaker(\n        test_engine, class_=AsyncSession, expire_on_commit=False\n    )\n    \n    async with TestSessionLocal() as session:\n        yield session\n\n@pytest.fixture\ndef override_get_db(test_session):\n    \"\"\"Override database dependency.\"\"\"\n    async def _override_get_db():\n        yield test_session\n    \n    app.dependency_overrides[get_db] = _override_get_db\n    yield\n    app.dependency_overrides = {}\n```\n\n## Database Health Check\n\n```python\n# app/api/health.py\nfrom fastapi import APIRouter, Depends, HTTPException\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import text\nfrom app.db.database import get_db\nimport time\n\nrouter = APIRouter()\n\n@router.get(\"/health\")\nasync def health_check(db: AsyncSession = Depends(get_db)):\n    \"\"\"Health check endpoint.\"\"\"\n    checks = {\n        \"status\": \"healthy\",\n        \"timestamp\": time.time(),\n        \"database\": await check_database_health(db),\n    }\n    \n    # Determine overall status\n    if checks[\"database\"][\"status\"] != \"ok\":\n        checks[\"status\"] = \"unhealthy\"\n        raise HTTPException(status_code=503, detail=checks)\n    \n    return checks\n\nasync def check_database_health(db: AsyncSession) -> dict:\n    \"\"\"Check database connection.\"\"\"\n    try:\n        start_time = time.time()\n        await db.execute(text(\"SELECT 1\"))\n        response_time = (time.time() - start_time) * 1000  # milliseconds\n        \n        return {\n            \"status\": \"ok\",\n            \"response_time_ms\": round(response_time, 2)\n        }\n    except Exception as e:\n        return {\n            \"status\": \"error\",\n            \"error\": str(e)\n        }\n```\n"
              },
              {
                "name": "/deployment",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/deployment.md",
                "frontmatter": null,
                "content": "# FastAPI Deployment\n\nBasic production deployment setup for FastAPI applications.\n\n## Usage\n\n```bash\n# Run with Uvicorn\nuvicorn app.main:app --host 0.0.0.0 --port 8000 --workers 4\n\n# Docker deployment\ndocker build -t fastapi-app .\ndocker run -p 8000:8000 fastapi-app\n```\n\n## Production Configuration\n\n```python\n# app/core/config.py\nfrom pydantic import BaseSettings\nimport os\n\nclass Settings(BaseSettings):\n    \"\"\"Production settings.\"\"\"\n    \n    # App\n    PROJECT_NAME: str = \"FastAPI App\"\n    VERSION: str = \"1.0.0\"\n    SECRET_KEY: str = os.getenv(\"SECRET_KEY\", \"dev-key\")\n    \n    # Server\n    HOST: str = \"0.0.0.0\"\n    PORT: int = 8000\n    WORKERS: int = 4\n    \n    # Database\n    DATABASE_URL: str = os.getenv(\"DATABASE_URL\", \"sqlite:///./app.db\")\n    \n    # Redis\n    REDIS_URL: str = os.getenv(\"REDIS_URL\", \"redis://localhost:6379\")\n    \n    class Config:\n        env_file = \".env\"\n\nsettings = Settings()\n```\n\n## Docker Setup\n\n```dockerfile\n# Dockerfile\nFROM python:3.11-slim\n\nWORKDIR /app\n\n# Install dependencies\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy app\nCOPY . .\n\n# Create non-root user\nRUN useradd -m appuser && chown -R appuser:appuser /app\nUSER appuser\n\nEXPOSE 8000\n\n# Health check\nHEALTHCHECK CMD curl -f http://localhost:8000/health || exit 1\n\nCMD [\"uvicorn\", \"app.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n```\n\n## Docker Compose\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\n\nservices:\n  app:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - DATABASE_URL=postgresql://user:pass@db:5432/fastapi_db\n      - REDIS_URL=redis://redis:6379\n    depends_on:\n      - db\n      - redis\n\n  db:\n    image: postgres:15\n    environment:\n      POSTGRES_DB: fastapi_db\n      POSTGRES_USER: user\n      POSTGRES_PASSWORD: password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\n  redis:\n    image: redis:7-alpine\n    volumes:\n      - redis_data:/data\n\nvolumes:\n  postgres_data:\n  redis_data:\n```\n\n## Environment Variables\n\n```bash\n# .env\nSECRET_KEY=your-secret-key\nDATABASE_URL=postgresql://user:pass@localhost/fastapi_db\nREDIS_URL=redis://localhost:6379\n```\n\n## Health Check\n\n```python\n# app/api/health.py\nfrom fastapi import APIRouter\nfrom app.core.config import settings\n\nrouter = APIRouter()\n\n@router.get(\"/health\")\nasync def health_check():\n    return {\n        \"status\": \"healthy\",\n        \"version\": settings.VERSION\n    }\n```\n\n## Deployment Script\n\n```bash\n#!/bin/bash\n# deploy.sh\n\nset -e\n\necho \"Deploying FastAPI app...\"\n\n# Build and deploy\ndocker-compose build\ndocker-compose up -d\n\n# Health check\necho \"Checking health...\"\nif curl -f http://localhost:8000/health; then\n    echo \"‚úÖ Deployment successful!\"\nelse\n    echo \"‚ùå Deployment failed!\"\n    exit 1\nfi\n```\n"
              },
              {
                "name": "/testing",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/testing.md",
                "frontmatter": null,
                "content": "# FastAPI Testing Framework\n\nComprehensive testing setup for FastAPI applications with pytest and async support.\n\n## Usage\n\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=app --cov-report=html\n\n# Run specific test file\npytest tests/test_api.py\n\n# Run with verbose output\npytest -v -s\n```\n\n## Test Configuration\n\n```python\n# pytest.ini\n[tool:pytest]\ntestpaths = tests\npython_files = test_*.py\npython_classes = Test*\npython_functions = test_*\naddopts = \n    --cov=app\n    --cov-report=term-missing\n    --cov-report=html:htmlcov\n    --asyncio-mode=auto\n    --strict-markers\n    --disable-warnings\nmarkers =\n    unit: Unit tests\n    integration: Integration tests\n    e2e: End-to-end tests\n    slow: Slow running tests\n    auth: Authentication tests\n    api: API tests\nasyncio_mode = auto\n```\n\n## Test Dependencies\n\n```python\n# requirements/test.txt\npytest>=7.0.0\npytest-asyncio>=0.21.0\npytest-cov>=4.0.0\nhttpx>=0.24.0\nfactory-boy>=3.2.0\nfaker>=18.0.0\nrespx>=0.20.0\npytest-mock>=3.10.0\n```\n\n## Test Fixtures\n\n```python\n# tests/conftest.py\nimport pytest\nimport asyncio\nfrom typing import AsyncGenerator, Generator\nfrom fastapi.testclient import TestClient\nfrom httpx import AsyncClient\nfrom sqlalchemy.ext.asyncio import create_async_engine, AsyncSession\nfrom sqlalchemy.orm import sessionmaker\nfrom app.main import app\nfrom app.db.database import get_db, Base\nfrom app.models.user import User\nfrom app.core.security import get_password_hash\nfrom tests.factories import UserFactory\n\n# Test database URL\nTEST_DATABASE_URL = \"sqlite+aiosqlite:///./test.db\"\n\n@pytest.fixture(scope=\"session\")\ndef event_loop() -> Generator[asyncio.AbstractEventLoop, None, None]:\n    \"\"\"Create event loop for the test session.\"\"\"\n    loop = asyncio.get_event_loop_policy().new_event_loop()\n    yield loop\n    loop.close()\n\n@pytest.fixture(scope=\"session\")\nasync def test_engine():\n    \"\"\"Create test database engine.\"\"\"\n    engine = create_async_engine(\n        TEST_DATABASE_URL,\n        echo=False,\n        future=True\n    )\n    \n    # Create tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n    \n    yield engine\n    \n    # Drop tables and dispose engine\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n    \n    await engine.dispose()\n\n@pytest.fixture\nasync def db_session(test_engine) -> AsyncGenerator[AsyncSession, None]:\n    \"\"\"Create database session for testing.\"\"\"\n    TestSessionLocal = sessionmaker(\n        test_engine, \n        class_=AsyncSession, \n        expire_on_commit=False\n    )\n    \n    async with TestSessionLocal() as session:\n        yield session\n\n@pytest.fixture\ndef override_get_db(db_session: AsyncSession) -> Generator:\n    \"\"\"Override database dependency.\"\"\"\n    async def _override_get_db():\n        yield db_session\n    \n    app.dependency_overrides[get_db] = _override_get_db\n    yield\n    app.dependency_overrides = {}\n\n@pytest.fixture\ndef client(override_get_db) -> Generator[TestClient, None, None]:\n    \"\"\"Create test client.\"\"\"\n    with TestClient(app) as test_client:\n        yield test_client\n\n@pytest.fixture\nasync def async_client(override_get_db) -> AsyncGenerator[AsyncClient, None]:\n    \"\"\"Create async test client.\"\"\"\n    async with AsyncClient(app=app, base_url=\"http://test\") as ac:\n        yield ac\n\n@pytest.fixture\nasync def test_user(db_session: AsyncSession) -> User:\n    \"\"\"Create test user.\"\"\"\n    user_data = {\n        \"username\": \"testuser\",\n        \"email\": \"test@example.com\",\n        \"hashed_password\": get_password_hash(\"testpass123\"),\n        \"first_name\": \"Test\",\n        \"last_name\": \"User\",\n        \"is_active\": True,\n        \"is_superuser\": False\n    }\n    \n    user = User(**user_data)\n    db_session.add(user)\n    await db_session.commit()\n    await db_session.refresh(user)\n    return user\n\n@pytest.fixture\nasync def superuser(db_session: AsyncSession) -> User:\n    \"\"\"Create superuser.\"\"\"\n    user_data = {\n        \"username\": \"admin\",\n        \"email\": \"admin@example.com\",\n        \"hashed_password\": get_password_hash(\"adminpass123\"),\n        \"first_name\": \"Admin\",\n        \"last_name\": \"User\",\n        \"is_active\": True,\n        \"is_superuser\": True\n    }\n    \n    user = User(**user_data)\n    db_session.add(user)\n    await db_session.commit()\n    await db_session.refresh(user)\n    return user\n\n@pytest.fixture\ndef user_token(test_user: User) -> str:\n    \"\"\"Create authentication token for test user.\"\"\"\n    from app.core.security import create_access_token\n    return create_access_token(subject=test_user.id)\n\n@pytest.fixture\ndef superuser_token(superuser: User) -> str:\n    \"\"\"Create authentication token for superuser.\"\"\"\n    from app.core.security import create_access_token\n    return create_access_token(subject=superuser.id)\n\n@pytest.fixture\ndef auth_headers(user_token: str) -> dict[str, str]:\n    \"\"\"Create authorization headers.\"\"\"\n    return {\"Authorization\": f\"Bearer {user_token}\"}\n\n@pytest.fixture\ndef superuser_headers(superuser_token: str) -> dict[str, str]:\n    \"\"\"Create superuser authorization headers.\"\"\"\n    return {\"Authorization\": f\"Bearer {superuser_token}\"}\n```\n\n## Test Factories\n\n```python\n# tests/factories.py\nimport factory\nfrom factory import Faker, SubFactory\nfrom app.models.user import User\nfrom app.models.post import Post\nfrom app.core.security import get_password_hash\n\nclass UserFactory(factory.Factory):\n    \"\"\"Factory for User model.\"\"\"\n    \n    class Meta:\n        model = User\n    \n    username = Faker('user_name')\n    email = Faker('email')\n    first_name = Faker('first_name')\n    last_name = Faker('last_name')\n    hashed_password = factory.LazyAttribute(lambda obj: get_password_hash('testpass123'))\n    is_active = True\n    is_superuser = False\n    bio = Faker('text', max_nb_chars=200)\n\nclass SuperUserFactory(UserFactory):\n    \"\"\"Factory for superuser.\"\"\"\n    username = 'admin'\n    email = 'admin@example.com'\n    first_name = 'Admin'\n    last_name = 'User'\n    is_superuser = True\n\nclass PostFactory(factory.Factory):\n    \"\"\"Factory for Post model.\"\"\"\n    \n    class Meta:\n        model = Post\n    \n    title = Faker('sentence', nb_words=4)\n    content = Faker('text', max_nb_chars=1000)\n    slug = Faker('slug')\n    is_published = True\n    author = SubFactory(UserFactory)\n\nclass InactiveUserFactory(UserFactory):\n    \"\"\"Factory for inactive user.\"\"\"\n    is_active = False\n```\n\n## API Testing\n\n```python\n# tests/test_api/test_users.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom tests.factories import UserFactory\n\nclass TestUserAPI:\n    \"\"\"Test User API endpoints.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(\n        self, \n        async_client: AsyncClient, \n        superuser_headers: dict\n    ):\n        \"\"\"Test POST /api/v1/users/.\"\"\"\n        user_data = {\n            \"username\": \"newuser\",\n            \"email\": \"new@example.com\",\n            \"password\": \"newpass123\",\n            \"first_name\": \"New\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/users/\",\n            json=user_data,\n            headers=superuser_headers\n        )\n        \n        assert response.status_code == 201\n        data = response.json()\n        assert data[\"username\"] == user_data[\"username\"]\n        assert data[\"email\"] == user_data[\"email\"]\n        assert \"password\" not in data\n        assert \"hashed_password\" not in data\n    \n    @pytest.mark.asyncio\n    async def test_get_users(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test GET /api/v1/users/.\"\"\"\n        response = await async_client.get(\n            \"/api/v1/users/\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"items\" in data\n        assert \"total\" in data\n        assert \"page\" in data\n        assert \"size\" in data\n        assert len(data[\"items\"]) >= 1\n    \n    @pytest.mark.asyncio\n    async def test_get_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test GET /api/v1/users/{id}.\"\"\"\n        response = await async_client.get(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"id\"] == test_user.id\n        assert data[\"username\"] == test_user.username\n        assert data[\"email\"] == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_update_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test PUT /api/v1/users/{id}.\"\"\"\n        update_data = {\n            \"first_name\": \"Updated\",\n            \"last_name\": \"Name\",\n            \"bio\": \"Updated bio\"\n        }\n        \n        response = await async_client.put(\n            f\"/api/v1/users/{test_user.id}\",\n            json=update_data,\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"first_name\"] == update_data[\"first_name\"]\n        assert data[\"last_name\"] == update_data[\"last_name\"]\n        assert data[\"bio\"] == update_data[\"bio\"]\n    \n    @pytest.mark.asyncio\n    async def test_delete_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        superuser_headers: dict\n    ):\n        \"\"\"Test DELETE /api/v1/users/{id}.\"\"\"\n        response = await async_client.delete(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=superuser_headers\n        )\n        \n        assert response.status_code == 204\n        \n        # Verify user is deleted\n        get_response = await async_client.get(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=superuser_headers\n        )\n        assert get_response.status_code == 404\n    \n    @pytest.mark.asyncio\n    async def test_unauthorized_access(self, async_client: AsyncClient):\n        \"\"\"Test unauthorized access to protected endpoints.\"\"\"\n        response = await async_client.get(\"/api/v1/users/\")\n        assert response.status_code == 401\n    \n    @pytest.mark.asyncio\n    async def test_forbidden_access(\n        self, \n        async_client: AsyncClient, \n        auth_headers: dict\n    ):\n        \"\"\"Test forbidden access to admin endpoints.\"\"\"\n        user_data = {\n            \"username\": \"unauthorized\",\n            \"email\": \"unauthorized@example.com\",\n            \"password\": \"pass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/users/\",\n            json=user_data,\n            headers=auth_headers  # Regular user, not superuser\n        )\n        \n        assert response.status_code == 403\n```\n\n## Authentication Testing\n\n```python\n# tests/test_api/test_auth.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom app.core.security import create_access_token, decode_token\n\nclass TestAuthAPI:\n    \"\"\"Test authentication API endpoints.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_register(\n        self, \n        async_client: AsyncClient\n    ):\n        \"\"\"Test user registration.\"\"\"\n        user_data = {\n            \"username\": \"newuser\",\n            \"email\": \"new@example.com\",\n            \"password\": \"newpass123\",\n            \"first_name\": \"New\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/register\",\n            json=user_data\n        )\n        \n        assert response.status_code == 201\n        data = response.json()\n        assert data[\"username\"] == user_data[\"username\"]\n        assert data[\"email\"] == user_data[\"email\"]\n        assert \"password\" not in data\n    \n    @pytest.mark.asyncio\n    async def test_register_duplicate_email(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test registration with duplicate email.\"\"\"\n        user_data = {\n            \"username\": \"different\",\n            \"email\": test_user.email,  # Duplicate email\n            \"password\": \"pass123\",\n            \"first_name\": \"Test\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/register\",\n            json=user_data\n        )\n        \n        assert response.status_code == 400\n        assert \"Email already registered\" in response.json()[\"detail\"]\n    \n    @pytest.mark.asyncio\n    async def test_login(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test user login.\"\"\"\n        login_data = {\n            \"username\": test_user.username,\n            \"password\": \"testpass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/login\",\n            data=login_data,\n            headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"access_token\" in data\n        assert \"refresh_token\" in data\n        assert data[\"token_type\"] == \"bearer\"\n        assert \"expires_in\" in data\n        \n        # Verify token is valid\n        payload = decode_token(data[\"access_token\"])\n        assert payload is not None\n        assert payload[\"sub\"] == str(test_user.id)\n    \n    @pytest.mark.asyncio\n    async def test_login_invalid_credentials(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test login with invalid credentials.\"\"\"\n        login_data = {\n            \"username\": test_user.username,\n            \"password\": \"wrongpassword\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/login\",\n            data=login_data,\n            headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n        )\n        \n        assert response.status_code == 401\n        assert \"Incorrect username or password\" in response.json()[\"detail\"]\n    \n    @pytest.mark.asyncio\n    async def test_get_current_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test get current user endpoint.\"\"\"\n        response = await async_client.get(\n            \"/api/v1/auth/me\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"id\"] == test_user.id\n        assert data[\"username\"] == test_user.username\n        assert data[\"email\"] == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_refresh_token(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test token refresh.\"\"\"\n        from app.core.security import create_refresh_token\n        \n        refresh_token = create_refresh_token(subject=test_user.id)\n        \n        response = await async_client.post(\n            \"/api/v1/auth/refresh\",\n            json={\"refresh_token\": refresh_token}\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"access_token\" in data\n        assert \"refresh_token\" in data\n        assert data[\"token_type\"] == \"bearer\"\n    \n    @pytest.mark.asyncio\n    async def test_change_password(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test password change.\"\"\"\n        password_data = {\n            \"current_password\": \"testpass123\",\n            \"new_password\": \"newpass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/change-password\",\n            json=password_data,\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        assert \"Password changed successfully\" in response.json()[\"message\"]\n```\n\n## Model Testing\n\n```python\n# tests/test_models/test_user.py\nimport pytest\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.models.user import User\nfrom app.core.security import verify_password, get_password_hash\n\nclass TestUserModel:\n    \"\"\"Test User model.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(self, db_session: AsyncSession):\n        \"\"\"Test user creation.\"\"\"\n        user_data = {\n            \"username\": \"testuser\",\n            \"email\": \"test@example.com\",\n            \"hashed_password\": get_password_hash(\"password123\"),\n            \"first_name\": \"Test\",\n            \"last_name\": \"User\"\n        }\n        \n        user = User(**user_data)\n        db_session.add(user)\n        await db_session.commit()\n        await db_session.refresh(user)\n        \n        assert user.id is not None\n        assert user.username == \"testuser\"\n        assert user.email == \"test@example.com\"\n        assert user.full_name == \"Test User\"\n        assert user.is_active is True\n        assert user.is_superuser is False\n        assert user.created_at is not None\n        assert user.updated_at is not None\n    \n    def test_password_verification(self):\n        \"\"\"Test password verification.\"\"\"\n        password = \"testpassword123\"\n        hashed = get_password_hash(password)\n        \n        user = User(\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=hashed,\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        assert user.verify_password(password)\n        assert not user.verify_password(\"wrongpassword\")\n    \n    def test_user_dict_excludes_password(self):\n        \"\"\"Test that dict() method excludes password.\"\"\"\n        user = User(\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=\"hashed_password\",\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        user_dict = user.dict()\n        assert \"hashed_password\" not in user_dict\n        assert \"username\" in user_dict\n        assert \"email\" in user_dict\n    \n    def test_user_repr(self):\n        \"\"\"Test user string representation.\"\"\"\n        user = User(\n            id=1,\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=\"hash\",\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        assert repr(user) == \"<User(id=1)>\"\n```\n\n## Repository Testing\n\n```python\n# tests/test_repositories/test_user.py\nimport pytest\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.security import get_password_hash\n\nclass TestUserRepository:\n    \"\"\"Test UserRepository.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(self, db_session: AsyncSession):\n        \"\"\"Test user creation through repository.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        user_data = {\n            \"username\": \"repouser\",\n            \"email\": \"repo@example.com\",\n            \"hashed_password\": get_password_hash(\"password123\"),\n            \"first_name\": \"Repo\",\n            \"last_name\": \"User\"\n        }\n        \n        user = await repo.create(user_data)\n        \n        assert user.id is not None\n        assert user.username == \"repouser\"\n        assert user.email == \"repo@example.com\"\n    \n    @pytest.mark.asyncio\n    async def test_get_by_email(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test get user by email.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        found_user = await repo.get_by_email(test_user.email)\n        \n        assert found_user is not None\n        assert found_user.id == test_user.id\n        assert found_user.email == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_get_by_username(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test get user by username.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        found_user = await repo.get_by_username(test_user.username)\n        \n        assert found_user is not None\n        assert found_user.id == test_user.id\n        assert found_user.username == test_user.username\n    \n    @pytest.mark.asyncio\n    async def test_get_multi_with_pagination(\n        self, \n        db_session: AsyncSession, \n        test_user: User\n    ):\n        \"\"\"Test get multiple users with pagination.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        # Create additional users\n        for i in range(5):\n            user_data = {\n                \"username\": f\"user{i}\",\n                \"email\": f\"user{i}@example.com\",\n                \"hashed_password\": get_password_hash(\"password123\"),\n                \"first_name\": f\"User{i}\",\n                \"last_name\": \"Test\"\n            }\n            await repo.create(user_data)\n        \n        # Test pagination\n        users = await repo.get_multi(skip=0, limit=3)\n        assert len(users) == 3\n        \n        users_page_2 = await repo.get_multi(skip=3, limit=3)\n        assert len(users_page_2) >= 1  # At least test_user\n    \n    @pytest.mark.asyncio\n    async def test_update_user(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test user update.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        updated_user = await repo.update(test_user.id, {\n            \"first_name\": \"Updated\",\n            \"bio\": \"Updated bio\"\n        })\n        \n        assert updated_user is not None\n        assert updated_user.first_name == \"Updated\"\n        assert updated_user.bio == \"Updated bio\"\n    \n    @pytest.mark.asyncio\n    async def test_delete_user(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test user deletion.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        result = await repo.delete(test_user.id)\n        assert result is True\n        \n        # Verify user is deleted\n        deleted_user = await repo.get(test_user.id)\n        assert deleted_user is None\n```\n\n## Performance Testing\n\n```python\n# tests/test_performance.py\nimport pytest\nimport time\nimport asyncio\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom tests.factories import UserFactory\n\n@pytest.mark.slow\nclass TestPerformance:\n    \"\"\"Test application performance.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_concurrent_requests(\n        self, \n        async_client: AsyncClient,\n        auth_headers: dict\n    ):\n        \"\"\"Test concurrent API requests.\"\"\"\n        \n        async def make_request():\n            response = await async_client.get(\n                \"/api/v1/users/\",\n                headers=auth_headers\n            )\n            return response.status_code\n        \n        # Make 10 concurrent requests\n        start_time = time.time()\n        tasks = [make_request() for _ in range(10)]\n        results = await asyncio.gather(*tasks)\n        end_time = time.time()\n        \n        # All requests should succeed\n        assert all(status == 200 for status in results)\n        \n        # Should complete within reasonable time\n        assert (end_time - start_time) < 5.0\n    \n    @pytest.mark.asyncio\n    async def test_large_dataset_pagination(\n        self, \n        async_client: AsyncClient,\n        db_session,\n        auth_headers: dict\n    ):\n        \"\"\"Test pagination with large dataset.\"\"\"\n        # Create 100 users\n        users = []\n        for i in range(100):\n            user = UserFactory.build()\n            users.append(user)\n        \n        db_session.add_all(users)\n        await db_session.commit()\n        \n        # Test pagination performance\n        start_time = time.time()\n        response = await async_client.get(\n            \"/api/v1/users/?skip=0&limit=50\",\n            headers=auth_headers\n        )\n        end_time = time.time()\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert len(data[\"items\"]) == 50\n        \n        # Should complete quickly\n        assert (end_time - start_time) < 1.0\n```\n\n## Mocking External Services\n\n```python\n# tests/test_external.py\nimport pytest\nimport respx\nimport httpx\nfrom app.services.email import EmailService\n\nclass TestExternalServices:\n    \"\"\"Test external service integrations.\"\"\"\n    \n    @pytest.mark.asyncio\n    @respx.mock\n    async def test_email_service(\n        self, \n        async_client: AsyncClient\n    ):\n        \"\"\"Test email service with mocked external API.\"\"\"\n        # Mock email service API\n        respx.post(\"https://api.emailservice.com/send\").mock(\n            return_value=httpx.Response(\n                200, \n                json={\"message\": \"Email sent successfully\"}\n            )\n        )\n        \n        email_service = EmailService()\n        result = await email_service.send_email(\n            to=\"test@example.com\",\n            subject=\"Test\",\n            body=\"Test email\"\n        )\n        \n        assert result[\"success\"] is True\n```\n\n## Test Utilities\n\n```python\n# tests/utils.py\nfrom typing import Dict, Any\nfrom httpx import Response\nimport json\n\ndef assert_response_status(response: Response, expected_status: int = 200):\n    \"\"\"Assert response status code.\"\"\"\n    assert response.status_code == expected_status, f\"Expected {expected_status}, got {response.status_code}. Response: {response.text}\"\n\ndef assert_response_json(response: Response, expected_keys: list[str] = None):\n    \"\"\"Assert response is valid JSON with expected keys.\"\"\"\n    assert response.headers.get(\"content-type\") == \"application/json\"\n    data = response.json()\n    \n    if expected_keys:\n        for key in expected_keys:\n            assert key in data, f\"Missing key '{key}' in response\"\n    \n    return data\n\ndef create_auth_headers(token: str) -> Dict[str, str]:\n    \"\"\"Create authorization headers with token.\"\"\"\n    return {\"Authorization\": f\"Bearer {token}\"}\n\nasync def create_test_users(db_session, count: int = 5) -> list:\n    \"\"\"Create multiple test users.\"\"\"\n    from tests.factories import UserFactory\n    \n    users = []\n    for i in range(count):\n        user = UserFactory.build()\n        users.append(user)\n    \n    db_session.add_all(users)\n    await db_session.commit()\n    \n    return users\n```\n"
              },
              {
                "name": "/app-factory",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/app-factory.md",
                "frontmatter": null,
                "content": "# Flask Application Factory Pattern\n\nCreate a scalable Flask application using the factory pattern with blueprints and configuration management.\n\n## Purpose\n\nThis command helps you set up a Flask application using the application factory pattern, which is the recommended approach for larger Flask applications.\n\n## Usage\n\n```\n/app-factory\n```\n\n## What this command does\n\n1. **Creates application factory** with proper structure\n2. **Sets up configuration management** for different environments\n3. **Implements blueprints** for modular design\n4. **Configures extensions** (database, auth, etc.)\n5. **Adds error handling** and logging\n\n## Example Output\n\n```python\n# app/__init__.py\nfrom flask import Flask\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom flask_login import LoginManager\nfrom flask_mail import Mail\nfrom flask_wtf.csrf import CSRFProtect\nfrom flask_cors import CORS\nimport logging\nfrom logging.handlers import RotatingFileHandler\nimport os\n\n# Initialize extensions\ndb = SQLAlchemy()\nmigrate = Migrate()\nlogin = LoginManager()\nmail = Mail()\ncsrf = CSRFProtect()\ncors = CORS()\n\ndef create_app(config_class=None):\n    \"\"\"Application factory function.\"\"\"\n    app = Flask(__name__)\n    \n    # Load configuration\n    if config_class is None:\n        config_class = os.environ.get('FLASK_CONFIG', 'development')\n    \n    if isinstance(config_class, str):\n        from app.config import config\n        app.config.from_object(config[config_class])\n    else:\n        app.config.from_object(config_class)\n    \n    # Initialize extensions\n    db.init_app(app)\n    migrate.init_app(app, db)\n    login.init_app(app)\n    mail.init_app(app)\n    csrf.init_app(app)\n    cors.init_app(app)\n    \n    # Configure login manager\n    login.login_view = 'auth.login'\n    login.login_message = 'Please log in to access this page.'\n    login.login_message_category = 'info'\n    \n    # Register blueprints\n    from app.main import bp as main_bp\n    app.register_blueprint(main_bp)\n    \n    from app.auth import bp as auth_bp\n    app.register_blueprint(auth_bp, url_prefix='/auth')\n    \n    from app.api import bp as api_bp\n    app.register_blueprint(api_bp, url_prefix='/api')\n    \n    from app.admin import bp as admin_bp\n    app.register_blueprint(admin_bp, url_prefix='/admin')\n    \n    # Error handlers\n    from app.errors import bp as errors_bp\n    app.register_blueprint(errors_bp)\n    \n    # Configure logging\n    if not app.debug and not app.testing:\n        if not os.path.exists('logs'):\n            os.mkdir('logs')\n        \n        file_handler = RotatingFileHandler(\n            'logs/app.log', \n            maxBytes=10240, \n            backupCount=10\n        )\n        file_handler.setFormatter(logging.Formatter(\n            '%(asctime)s %(levelname)s: %(message)s [in %(pathname)s:%(lineno)d]'\n        ))\n        file_handler.setLevel(logging.INFO)\n        app.logger.addHandler(file_handler)\n        \n        app.logger.setLevel(logging.INFO)\n        app.logger.info('Flask application startup')\n    \n    return app\n\n# Import models (avoid circular imports)\nfrom app import models\n```\n\n```python\n# app/config.py\nimport os\nfrom dotenv import load_dotenv\n\nbasedir = os.path.abspath(os.path.dirname(__file__))\nload_dotenv(os.path.join(basedir, '.env'))\n\nclass Config:\n    \"\"\"Base configuration class.\"\"\"\n    SECRET_KEY = os.environ.get('SECRET_KEY') or 'dev-secret-key'\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app.db')\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    \n    # Mail configuration\n    MAIL_SERVER = os.environ.get('MAIL_SERVER')\n    MAIL_PORT = int(os.environ.get('MAIL_PORT') or 587)\n    MAIL_USE_TLS = os.environ.get('MAIL_USE_TLS', 'true').lower() in ['true', 'on', '1']\n    MAIL_USERNAME = os.environ.get('MAIL_USERNAME')\n    MAIL_PASSWORD = os.environ.get('MAIL_PASSWORD')\n    ADMIN_EMAIL = os.environ.get('ADMIN_EMAIL')\n    \n    # Pagination\n    POSTS_PER_PAGE = 10\n    USERS_PER_PAGE = 50\n    \n    # Upload configuration\n    MAX_CONTENT_LENGTH = 16 * 1024 * 1024  # 16MB\n    UPLOAD_FOLDER = os.path.join(basedir, 'uploads')\n    \n    @staticmethod\n    def init_app(app):\n        pass\n\nclass DevelopmentConfig(Config):\n    \"\"\"Development configuration.\"\"\"\n    DEBUG = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DEV_DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app-dev.db')\n\nclass TestingConfig(Config):\n    \"\"\"Testing configuration.\"\"\"\n    TESTING = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('TEST_DATABASE_URL') or 'sqlite://'\n    WTF_CSRF_ENABLED = False\n\nclass ProductionConfig(Config):\n    \"\"\"Production configuration.\"\"\"\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app.db')\n    \n    @classmethod\n    def init_app(cls, app):\n        Config.init_app(app)\n        \n        # Log to stderr\n        import logging\n        from logging import StreamHandler\n        file_handler = StreamHandler()\n        file_handler.setLevel(logging.INFO)\n        app.logger.addHandler(file_handler)\n\nconfig = {\n    'development': DevelopmentConfig,\n    'testing': TestingConfig,\n    'production': ProductionConfig,\n    'default': DevelopmentConfig\n}\n```\n\n```python\n# app/main/__init__.py\nfrom flask import Blueprint\n\nbp = Blueprint('main', __name__)\n\nfrom app.main import routes\n```\n\n```python\n# app/main/routes.py\nfrom flask import render_template, request, current_app\nfrom app.main import bp\nfrom app.models import Post\n\n@bp.route('/')\n@bp.route('/index')\ndef index():\n    \"\"\"Home page.\"\"\"\n    page = request.args.get('page', 1, type=int)\n    posts = Post.query.filter_by(published=True).order_by(\n        Post.created_at.desc()\n    ).paginate(\n        page=page,\n        per_page=current_app.config['POSTS_PER_PAGE'],\n        error_out=False\n    )\n    \n    return render_template('index.html', posts=posts)\n\n@bp.route('/about')\ndef about():\n    \"\"\"About page.\"\"\"\n    return render_template('about.html')\n```\n\n```python\n# app/auth/__init__.py\nfrom flask import Blueprint\n\nbp = Blueprint('auth', __name__)\n\nfrom app.auth import routes\n```\n\n```python\n# app/auth/routes.py\nfrom flask import render_template, redirect, url_for, flash, request\nfrom flask_login import login_user, logout_user, login_required, current_user\nfrom werkzeug.urls import url_parse\nfrom app import db\nfrom app.auth import bp\nfrom app.auth.forms import LoginForm, RegistrationForm\nfrom app.models import User\n\n@bp.route('/login', methods=['GET', 'POST'])\ndef login():\n    \"\"\"User login.\"\"\"\n    if current_user.is_authenticated:\n        return redirect(url_for('main.index'))\n    \n    form = LoginForm()\n    if form.validate_on_submit():\n        user = User.query.filter_by(username=form.username.data).first()\n        if user is None or not user.check_password(form.password.data):\n            flash('Invalid username or password', 'error')\n            return redirect(url_for('auth.login'))\n        \n        login_user(user, remember=form.remember_me.data)\n        \n        next_page = request.args.get('next')\n        if not next_page or url_parse(next_page).netloc != '':\n            next_page = url_for('main.index')\n        \n        return redirect(next_page)\n    \n    return render_template('auth/login.html', form=form)\n\n@bp.route('/logout')\n@login_required\ndef logout():\n    \"\"\"User logout.\"\"\"\n    logout_user()\n    flash('You have been logged out.', 'info')\n    return redirect(url_for('main.index'))\n\n@bp.route('/register', methods=['GET', 'POST'])\ndef register():\n    \"\"\"User registration.\"\"\"\n    if current_user.is_authenticated:\n        return redirect(url_for('main.index'))\n    \n    form = RegistrationForm()\n    if form.validate_on_submit():\n        user = User(username=form.username.data, email=form.email.data)\n        user.set_password(form.password.data)\n        db.session.add(user)\n        db.session.commit()\n        \n        flash('Registration successful!', 'success')\n        return redirect(url_for('auth.login'))\n    \n    return render_template('auth/register.html', form=form)\n```\n\n```python\n# app/models.py\nfrom app import db, login\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom flask_login import UserMixin\nfrom datetime import datetime\n\nclass User(UserMixin, db.Model):\n    \"\"\"User model.\"\"\"\n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(64), index=True, unique=True)\n    email = db.Column(db.String(120), index=True, unique=True)\n    password_hash = db.Column(db.String(128))\n    created_at = db.Column(db.DateTime, index=True, default=datetime.utcnow)\n    \n    posts = db.relationship('Post', backref='author', lazy='dynamic')\n    \n    def set_password(self, password):\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        return check_password_hash(self.password_hash, password)\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n\n@login.user_loader\ndef load_user(id):\n    return User.query.get(int(id))\n\nclass Post(db.Model):\n    \"\"\"Post model.\"\"\"\n    id = db.Column(db.Integer, primary_key=True)\n    title = db.Column(db.String(100), nullable=False)\n    content = db.Column(db.Text, nullable=False)\n    published = db.Column(db.Boolean, default=False)\n    created_at = db.Column(db.DateTime, index=True, default=datetime.utcnow)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\n    \n    user_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=False)\n    \n    def __repr__(self):\n        return f'<Post {self.title}>'\n```\n\n```python\n# app.py (main application entry point)\nfrom app import create_app, db\nfrom app.models import User, Post\n\napp = create_app()\n\n@app.shell_context_processor\ndef make_shell_context():\n    \"\"\"Add models to shell context.\"\"\"\n    return {'db': db, 'User': User, 'Post': Post}\n\nif __name__ == '__main__':\n    app.run(debug=True)\n```\n\n## Project Structure\n\n```\nproject/\n‚îú‚îÄ‚îÄ app/\n‚îÇ   ‚îú‚îÄ‚îÄ __init__.py         # Application factory\n‚îÇ   ‚îú‚îÄ‚îÄ config.py           # Configuration classes\n‚îÇ   ‚îú‚îÄ‚îÄ models.py           # Database models\n‚îÇ   ‚îú‚îÄ‚îÄ main/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # Main blueprint\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.py       # Main routes\n‚îÇ   ‚îú‚îÄ‚îÄ auth/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # Auth blueprint\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes.py       # Auth routes\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ forms.py        # Auth forms\n‚îÇ   ‚îú‚îÄ‚îÄ api/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # API blueprint\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.py       # API routes\n‚îÇ   ‚îî‚îÄ‚îÄ templates/          # Jinja2 templates\n‚îú‚îÄ‚îÄ migrations/             # Database migrations\n‚îú‚îÄ‚îÄ logs/                   # Application logs\n‚îú‚îÄ‚îÄ app.py                  # Application entry point\n‚îú‚îÄ‚îÄ requirements.txt        # Dependencies\n‚îî‚îÄ‚îÄ .env                    # Environment variables\n```\n\n## Benefits of Application Factory\n\n- **Testing**: Easy to create app instances with different configs\n- **Scalability**: Modular design with blueprints\n- **Configuration**: Environment-specific settings\n- **Extensions**: Proper initialization order\n- **Maintainability**: Clear separation of concerns"
              },
              {
                "name": "/blueprint",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/blueprint.md",
                "frontmatter": null,
                "content": "# Flask Blueprint Generator\n\nCreate organized Flask blueprints for modular application structure.\n\n## Usage\n\n```bash\n# Create a new blueprint\nflask create-blueprint users\nflask create-blueprint api/v1\n```\n\n## Blueprint Structure\n\nGenerates a complete blueprint with:\n- Routes and view functions\n- Error handlers\n- Template folder structure\n- Static file organization\n\n## Example Blueprint\n\n```python\n# app/blueprints/users/__init__.py\nfrom flask import Blueprint\n\nusers_bp = Blueprint(\n    'users',\n    __name__,\n    url_prefix='/users',\n    template_folder='templates',\n    static_folder='static'\n)\n\nfrom . import routes, models\n\n# app/blueprints/users/routes.py\nfrom flask import render_template, request, redirect, url_for, flash\nfrom . import users_bp\nfrom .models import User\nfrom .forms import UserForm\n\n@users_bp.route('/')\ndef index():\n    \"\"\"List all users.\"\"\"\n    users = User.query.all()\n    return render_template('users/index.html', users=users)\n\n@users_bp.route('/create', methods=['GET', 'POST'])\ndef create():\n    \"\"\"Create a new user.\"\"\"\n    form = UserForm()\n    if form.validate_on_submit():\n        user = User(\n            username=form.username.data,\n            email=form.email.data\n        )\n        user.save()\n        flash('User created successfully!', 'success')\n        return redirect(url_for('users.index'))\n    return render_template('users/create.html', form=form)\n\n@users_bp.route('/<int:user_id>')\ndef detail(user_id):\n    \"\"\"Show user details.\"\"\"\n    user = User.query.get_or_404(user_id)\n    return render_template('users/detail.html', user=user)\n\n@users_bp.route('/<int:user_id>/edit', methods=['GET', 'POST'])\ndef edit(user_id):\n    \"\"\"Edit an existing user.\"\"\"\n    user = User.query.get_or_404(user_id)\n    form = UserForm(obj=user)\n    if form.validate_on_submit():\n        user.username = form.username.data\n        user.email = form.email.data\n        user.save()\n        flash('User updated successfully!', 'success')\n        return redirect(url_for('users.detail', user_id=user.id))\n    return render_template('users/edit.html', form=form, user=user)\n\n@users_bp.route('/<int:user_id>/delete', methods=['POST'])\ndef delete(user_id):\n    \"\"\"Delete a user.\"\"\"\n    user = User.query.get_or_404(user_id)\n    user.delete()\n    flash('User deleted successfully!', 'success')\n    return redirect(url_for('users.index'))\n\n# Error handlers\n@users_bp.errorhandler(404)\ndef not_found(error):\n    return render_template('users/404.html'), 404\n\n@users_bp.errorhandler(500)\ndef internal_error(error):\n    return render_template('users/500.html'), 500\n```\n\n## Blueprint Models\n\n```python\n# app/blueprints/users/models.py\nfrom app.extensions import db\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom datetime import datetime\n\nclass User(db.Model):\n    \"\"\"User model.\"\"\"\n    __tablename__ = 'users'\n    \n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(80), unique=True, nullable=False)\n    email = db.Column(db.String(120), unique=True, nullable=False)\n    password_hash = db.Column(db.String(255), nullable=False)\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\n    is_active = db.Column(db.Boolean, default=True)\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n    \n    def set_password(self, password):\n        \"\"\"Set password hash.\"\"\"\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        \"\"\"Check password hash.\"\"\"\n        return check_password_hash(self.password_hash, password)\n    \n    def save(self):\n        \"\"\"Save user to database.\"\"\"\n        db.session.add(self)\n        db.session.commit()\n    \n    def delete(self):\n        \"\"\"Delete user from database.\"\"\"\n        db.session.delete(self)\n        db.session.commit()\n    \n    def to_dict(self):\n        \"\"\"Convert to dictionary.\"\"\"\n        return {\n            'id': self.id,\n            'username': self.username,\n            'email': self.email,\n            'created_at': self.created_at.isoformat(),\n            'is_active': self.is_active\n        }\n```\n\n## Blueprint Forms\n\n```python\n# app/blueprints/users/forms.py\nfrom flask_wtf import FlaskForm\nfrom wtforms import StringField, EmailField, PasswordField, BooleanField\nfrom wtforms.validators import DataRequired, Email, Length, EqualTo\nfrom .models import User\n\nclass UserForm(FlaskForm):\n    \"\"\"User creation/edit form.\"\"\"\n    username = StringField(\n        'Username',\n        validators=[\n            DataRequired(),\n            Length(min=3, max=80)\n        ]\n    )\n    email = EmailField(\n        'Email',\n        validators=[\n            DataRequired(),\n            Email(),\n            Length(max=120)\n        ]\n    )\n    password = PasswordField(\n        'Password',\n        validators=[\n            DataRequired(),\n            Length(min=8)\n        ]\n    )\n    confirm_password = PasswordField(\n        'Confirm Password',\n        validators=[\n            DataRequired(),\n            EqualTo('password', message='Passwords must match')\n        ]\n    )\n    is_active = BooleanField('Active')\n    \n    def validate_username(self, field):\n        \"\"\"Validate username uniqueness.\"\"\"\n        if User.query.filter_by(username=field.data).first():\n            raise ValidationError('Username already exists.')\n    \n    def validate_email(self, field):\n        \"\"\"Validate email uniqueness.\"\"\"\n        if User.query.filter_by(email=field.data).first():\n            raise ValidationError('Email already registered.')\n```\n\n## Registration in Main App\n\n```python\n# app/__init__.py\nfrom flask import Flask\nfrom app.blueprints.users import users_bp\n\ndef create_app():\n    app = Flask(__name__)\n    \n    # Register blueprints\n    app.register_blueprint(users_bp)\n    \n    return app\n```\n\n## Template Structure\n\n```\ntemplates/\n‚îú‚îÄ‚îÄ base.html\n‚îî‚îÄ‚îÄ users/\n    ‚îú‚îÄ‚îÄ index.html\n    ‚îú‚îÄ‚îÄ create.html\n    ‚îú‚îÄ‚îÄ detail.html\n    ‚îú‚îÄ‚îÄ edit.html\n    ‚îú‚îÄ‚îÄ 404.html\n    ‚îî‚îÄ‚îÄ 500.html\n```\n\n## Best Practices\n\n- Use blueprints to organize related functionality\n- Keep models, forms, and routes in separate files\n- Implement proper error handling\n- Use URL prefixes for namespacing\n- Follow RESTful routing conventions\n- Include comprehensive docstrings\n- Add form validation and CSRF protection\n"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# Flask Database Management\n\nComplete database setup and management for Flask applications using SQLAlchemy.\n\n## Usage\n\n```bash\n# Initialize database\nflask db init\n\n# Create migration\nflask db migrate -m \"Initial migration\"\n\n# Apply migrations\nflask db upgrade\n\n# Downgrade migration\nflask db downgrade\n```\n\n## Database Configuration\n\n```python\n# config.py\nimport os\nfrom urllib.parse import quote_plus\n\nclass Config:\n    \"\"\"Base configuration.\"\"\"\n    SECRET_KEY = os.environ.get('SECRET_KEY') or 'dev-secret-key'\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    SQLALCHEMY_RECORD_QUERIES = True\n    \nclass DevelopmentConfig(Config):\n    \"\"\"Development configuration.\"\"\"\n    DEBUG = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///app.db'\n        \nclass ProductionConfig(Config):\n    \"\"\"Production configuration.\"\"\"\n    DEBUG = False\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        f\"postgresql://{os.environ.get('DB_USER')}:{quote_plus(os.environ.get('DB_PASSWORD'))}@\" \\\n        f\"{os.environ.get('DB_HOST')}:{os.environ.get('DB_PORT', '5432')}/{os.environ.get('DB_NAME')}\"\n    \nclass TestingConfig(Config):\n    \"\"\"Testing configuration.\"\"\"\n    TESTING = True\n    SQLALCHEMY_DATABASE_URI = 'sqlite:///:memory:'\n    WTF_CSRF_ENABLED = False\n\nconfig = {\n    'development': DevelopmentConfig,\n    'production': ProductionConfig,\n    'testing': TestingConfig,\n    'default': DevelopmentConfig\n}\n```\n\n## Database Extensions\n\n```python\n# app/extensions.py\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom flask_login import LoginManager\nfrom flask_wtf.csrf import CSRFProtect\nfrom flask_caching import Cache\nfrom flask_limiter import Limiter\nfrom flask_limiter.util import get_remote_address\n\n# Initialize extensions\ndb = SQLAlchemy()\nmigrate = Migrate()\nlogin_manager = LoginManager()\ncsrf = CSRFProtect()\ncache = Cache()\nlimiter = Limiter(key_func=get_remote_address)\n\ndef init_extensions(app):\n    \"\"\"Initialize Flask extensions.\"\"\"\n    db.init_app(app)\n    migrate.init_app(app, db)\n    login_manager.init_app(app)\n    csrf.init_app(app)\n    cache.init_app(app)\n    limiter.init_app(app)\n    \n    # Configure login manager\n    login_manager.login_view = 'auth.login'\n    login_manager.login_message = 'Please log in to access this page.'\n    login_manager.login_message_category = 'info'\n```\n\n## Base Model\n\n```python\n# app/models/base.py\nfrom app.extensions import db\nfrom datetime import datetime\nfrom sqlalchemy.ext.declarative import declared_attr\n\nclass TimestampMixin:\n    \"\"\"Add timestamp fields to model.\"\"\"\n    created_at = db.Column(db.DateTime, default=datetime.utcnow, nullable=False)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow, nullable=False)\n\nclass BaseModel(db.Model, TimestampMixin):\n    \"\"\"Base model with common functionality.\"\"\"\n    __abstract__ = True\n    \n    id = db.Column(db.Integer, primary_key=True)\n    \n    @declared_attr\n    def __tablename__(cls):\n        return cls.__name__.lower()\n    \n    def save(self, commit=True):\n        \"\"\"Save model to database.\"\"\"\n        db.session.add(self)\n        if commit:\n            db.session.commit()\n        return self\n    \n    def delete(self, commit=True):\n        \"\"\"Delete model from database.\"\"\"\n        db.session.delete(self)\n        if commit:\n            db.session.commit()\n    \n    def update(self, **kwargs):\n        \"\"\"Update model attributes.\"\"\"\n        for key, value in kwargs.items():\n            if hasattr(self, key):\n                setattr(self, key, value)\n        return self.save()\n    \n    def to_dict(self, exclude=None):\n        \"\"\"Convert model to dictionary.\"\"\"\n        exclude = exclude or []\n        return {\n            column.name: getattr(self, column.name)\n            for column in self.__table__.columns\n            if column.name not in exclude\n        }\n    \n    @classmethod\n    def get_or_404(cls, id):\n        \"\"\"Get model by ID or raise 404.\"\"\"\n        return cls.query.get_or_404(id)\n    \n    @classmethod\n    def create(cls, **kwargs):\n        \"\"\"Create new model instance.\"\"\"\n        instance = cls(**kwargs)\n        return instance.save()\n```\n\n## Example Models\n\n```python\n# app/models/user.py\nfrom app.extensions import db\nfrom app.models.base import BaseModel\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom flask_login import UserMixin\n\nclass User(UserMixin, BaseModel):\n    \"\"\"User model.\"\"\"\n    __tablename__ = 'users'\n    \n    username = db.Column(db.String(80), unique=True, nullable=False, index=True)\n    email = db.Column(db.String(120), unique=True, nullable=False, index=True)\n    password_hash = db.Column(db.String(255), nullable=False)\n    first_name = db.Column(db.String(50), nullable=False)\n    last_name = db.Column(db.String(50), nullable=False)\n    is_active = db.Column(db.Boolean, default=True, nullable=False)\n    is_admin = db.Column(db.Boolean, default=False, nullable=False)\n    last_login = db.Column(db.DateTime)\n    \n    # Relationships\n    posts = db.relationship('Post', backref='author', lazy='dynamic', cascade='all, delete-orphan')\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n    \n    def set_password(self, password):\n        \"\"\"Set password hash.\"\"\"\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        \"\"\"Check password hash.\"\"\"\n        return check_password_hash(self.password_hash, password)\n    \n    @property\n    def full_name(self):\n        \"\"\"Get user's full name.\"\"\"\n        return f\"{self.first_name} {self.last_name}\"\n    \n    def to_dict(self, exclude=None):\n        \"\"\"Convert to dictionary excluding sensitive data.\"\"\"\n        exclude = exclude or ['password_hash']\n        return super().to_dict(exclude=exclude)\n\n# app/models/post.py\nclass Post(BaseModel):\n    \"\"\"Blog post model.\"\"\"\n    __tablename__ = 'posts'\n    \n    title = db.Column(db.String(200), nullable=False)\n    content = db.Column(db.Text, nullable=False)\n    slug = db.Column(db.String(200), unique=True, nullable=False, index=True)\n    status = db.Column(db.String(20), default='draft', nullable=False)\n    published_at = db.Column(db.DateTime)\n    \n    # Foreign keys\n    user_id = db.Column(db.Integer, db.ForeignKey('users.id'), nullable=False)\n    category_id = db.Column(db.Integer, db.ForeignKey('categories.id'))\n    \n    # Relationships\n    category = db.relationship('Category', backref='posts')\n    tags = db.relationship('Tag', secondary='post_tags', backref='posts')\n    \n    def __repr__(self):\n        return f'<Post {self.title}>'\n    \n    @property\n    def is_published(self):\n        \"\"\"Check if post is published.\"\"\"\n        return self.status == 'published' and self.published_at is not None\n```\n\n## Database CLI Commands\n\n```python\n# app/cli.py\nimport click\nfrom flask import current_app\nfrom flask.cli import with_appcontext\nfrom app.extensions import db\nfrom app.models import User, Post, Category\n\n@click.command()\n@with_appcontext\ndef init_db():\n    \"\"\"Initialize database.\"\"\"\n    db.create_all()\n    click.echo('Database initialized.')\n\n@click.command()\n@with_appcontext\ndef seed_db():\n    \"\"\"Seed database with sample data.\"\"\"\n    # Create admin user\n    admin = User(\n        username='admin',\n        email='admin@example.com',\n        first_name='Admin',\n        last_name='User',\n        is_admin=True\n    )\n    admin.set_password('admin123')\n    admin.save()\n    \n    # Create sample category\n    category = Category(\n        name='Technology',\n        description='Tech-related posts'\n    )\n    category.save()\n    \n    # Create sample post\n    post = Post(\n        title='Welcome to Flask',\n        content='This is a sample blog post.',\n        slug='welcome-to-flask',\n        status='published',\n        user_id=admin.id,\n        category_id=category.id\n    )\n    post.save()\n    \n    click.echo('Database seeded with sample data.')\n\n@click.command()\n@with_appcontext\ndef reset_db():\n    \"\"\"Reset database.\"\"\"\n    if click.confirm('Are you sure you want to reset the database?'):\n        db.drop_all()\n        db.create_all()\n        click.echo('Database reset.')\n\ndef init_commands(app):\n    \"\"\"Register CLI commands.\"\"\"\n    app.cli.add_command(init_db)\n    app.cli.add_command(seed_db)\n    app.cli.add_command(reset_db)\n```\n\n## Connection Pooling\n\n```python\n# app/database.py\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.pool import QueuePool\n\ndef configure_database(app):\n    \"\"\"Configure database with connection pooling.\"\"\"\n    if app.config.get('SQLALCHEMY_DATABASE_URI', '').startswith('postgresql'):\n        # PostgreSQL configuration\n        engine = create_engine(\n            app.config['SQLALCHEMY_DATABASE_URI'],\n            poolclass=QueuePool,\n            pool_size=10,\n            max_overflow=20,\n            pool_recycle=3600,\n            pool_pre_ping=True\n        )\n        app.config['SQLALCHEMY_ENGINE_OPTIONS'] = {\n            'pool_size': 10,\n            'max_overflow': 20,\n            'pool_recycle': 3600,\n            'pool_pre_ping': True\n        }\n```\n\n## Database Utilities\n\n```python\n# app/utils/database.py\nfrom app.extensions import db\nfrom sqlalchemy import text\nfrom flask import current_app\n\ndef execute_sql(sql, params=None):\n    \"\"\"Execute raw SQL query.\"\"\"\n    with db.engine.connect() as conn:\n        result = conn.execute(text(sql), params or {})\n        return result.fetchall()\n\ndef backup_database():\n    \"\"\"Create database backup.\"\"\"\n    # Implementation depends on database type\n    pass\n\ndef check_database_health():\n    \"\"\"Check database connection health.\"\"\"\n    try:\n        db.session.execute(text('SELECT 1'))\n        return True\n    except Exception as e:\n        current_app.logger.error(f'Database health check failed: {e}')\n        return False\n\ndef get_table_info(table_name):\n    \"\"\"Get table information.\"\"\"\n    inspector = db.inspect(db.engine)\n    return {\n        'columns': inspector.get_columns(table_name),\n        'indexes': inspector.get_indexes(table_name),\n        'foreign_keys': inspector.get_foreign_keys(table_name)\n    }\n```\n\n## Testing Database\n\n```python\n# tests/conftest.py\nimport pytest\nfrom app import create_app\nfrom app.extensions import db\nfrom app.models import User\n\n@pytest.fixture(scope='session')\ndef app():\n    \"\"\"Create test app.\"\"\"\n    app = create_app('testing')\n    with app.app_context():\n        db.create_all()\n        yield app\n        db.drop_all()\n\n@pytest.fixture\ndef client(app):\n    \"\"\"Create test client.\"\"\"\n    return app.test_client()\n\n@pytest.fixture\ndef db_session(app):\n    \"\"\"Create database session for testing.\"\"\"\n    with app.app_context():\n        db.session.begin()\n        yield db.session\n        db.session.rollback()\n\n@pytest.fixture\ndef user(db_session):\n    \"\"\"Create test user.\"\"\"\n    user = User(\n        username='testuser',\n        email='test@example.com',\n        first_name='Test',\n        last_name='User'\n    )\n    user.set_password('testpass')\n    user.save()\n    return user\n```\n"
              },
              {
                "name": "/deployment",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/deployment.md",
                "frontmatter": null,
                "content": "# Flask Deployment Configuration\n\nComplete production deployment setup for Flask applications.\n\n## Usage\n\n```bash\n# Build Docker image\ndocker build -t myapp .\n\n# Run with Docker Compose\ndocker-compose up -d\n\n# Deploy to cloud\ngunicorn --bind 0.0.0.0:8000 app:app\n```\n\n## Production Configuration\n\n```python\n# config.py\nimport os\nfrom urllib.parse import quote_plus\n\nclass ProductionConfig:\n    \"\"\"Production configuration.\"\"\"\n    \n    # Security\n    SECRET_KEY = os.environ.get('SECRET_KEY')\n    DEBUG = False\n    TESTING = False\n    \n    # Database\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        f\"postgresql://{os.environ.get('DB_USER')}:{quote_plus(os.environ.get('DB_PASSWORD'))}@\" \\\n        f\"{os.environ.get('DB_HOST')}:{os.environ.get('DB_PORT', '5432')}/{os.environ.get('DB_NAME')}\"\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    SQLALCHEMY_ENGINE_OPTIONS = {\n        'pool_size': 10,\n        'max_overflow': 20,\n        'pool_recycle': 3600,\n        'pool_pre_ping': True\n    }\n    \n    # Security Headers\n    SECURITY_HEADERS = {\n        'Strict-Transport-Security': 'max-age=31536000; includeSubDomains',\n        'X-Content-Type-Options': 'nosniff',\n        'X-Frame-Options': 'DENY',\n        'X-XSS-Protection': '1; mode=block',\n        'Content-Security-Policy': \"default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'\"\n    }\n    \n    # Session\n    SESSION_COOKIE_SECURE = True\n    SESSION_COOKIE_HTTPONLY = True\n    SESSION_COOKIE_SAMESITE = 'Lax'\n    PERMANENT_SESSION_LIFETIME = 3600  # 1 hour\n    \n    # Cache\n    CACHE_TYPE = 'redis'\n    CACHE_REDIS_URL = os.environ.get('REDIS_URL', 'redis://localhost:6379/0')\n    CACHE_DEFAULT_TIMEOUT = 300\n    \n    # Rate Limiting\n    RATELIMIT_STORAGE_URL = os.environ.get('REDIS_URL', 'redis://localhost:6379/1')\n    RATELIMIT_DEFAULT = '100/hour'\n    \n    # Logging\n    LOG_LEVEL = os.environ.get('LOG_LEVEL', 'INFO')\n    LOG_FILE = os.environ.get('LOG_FILE', '/var/log/app/app.log')\n    \n    # File Upload\n    MAX_CONTENT_LENGTH = 16 * 1024 * 1024  # 16MB\n    UPLOAD_FOLDER = os.environ.get('UPLOAD_FOLDER', '/var/uploads')\n    \n    # Email\n    MAIL_SERVER = os.environ.get('MAIL_SERVER')\n    MAIL_PORT = int(os.environ.get('MAIL_PORT', 587))\n    MAIL_USE_TLS = os.environ.get('MAIL_USE_TLS', 'true').lower() in ['true', 'on', '1']\n    MAIL_USERNAME = os.environ.get('MAIL_USERNAME')\n    MAIL_PASSWORD = os.environ.get('MAIL_PASSWORD')\n    MAIL_DEFAULT_SENDER = os.environ.get('MAIL_DEFAULT_SENDER')\n```\n\n## WSGI Configuration\n\n```python\n# wsgi.py\nimport os\nfrom app import create_app\n\n# Get environment\nconfig_name = os.environ.get('FLASK_ENV', 'production')\napp = create_app(config_name)\n\nif __name__ == \"__main__\":\n    app.run()\n```\n\n## Gunicorn Configuration\n\n```python\n# gunicorn.conf.py\nimport multiprocessing\nimport os\n\n# Server socket\nbind = f\"0.0.0.0:{os.environ.get('PORT', 8000)}\"\nbacklog = 2048\n\n# Worker processes\nworkers = multiprocessing.cpu_count() * 2 + 1\nworker_class = 'sync'\nworker_connections = 1000\ntimeout = 30\nkeepalive = 60\nmax_requests = 1000\nmax_requests_jitter = 100\n\n# Security\nlimit_request_line = 4094\nlimit_request_fields = 100\nlimit_request_field_size = 8190\n\n# Logging\naccesslog = '-'\nerrorlog = '-'\nloglevel = os.environ.get('LOG_LEVEL', 'info').lower()\naccess_log_format = '%(h)s %(l)s %(u)s %(t)s \"%(r)s\" %(s)s %(b)s \"%(f)s\" \"%(a)s\" %(D)s'\n\n# Process naming\nproc_name = 'flask_app'\n\n# Server mechanics\ndaemon = False\npidfile = '/tmp/gunicorn.pid'\nuser = os.environ.get('USER', 'www-data')\ngroup = os.environ.get('GROUP', 'www-data')\ntmp_upload_dir = None\n\n# SSL\nkeyfile = os.environ.get('SSL_KEYFILE')\ncertfile = os.environ.get('SSL_CERTFILE')\n```\n\n## Docker Configuration\n\n```dockerfile\n# Dockerfile\nFROM python:3.11-slim\n\n# Set environment variables\nENV PYTHONDONTWRITEBYTECODE=1 \\\n    PYTHONUNBUFFERED=1 \\\n    PIP_NO_CACHE_DIR=1 \\\n    PIP_DISABLE_PIP_VERSION_CHECK=1\n\n# Install system dependencies\nRUN apt-get update && apt-get install -y \\\n    build-essential \\\n    libpq-dev \\\n    curl \\\n    && rm -rf /var/lib/apt/lists/*\n\n# Create app user\nRUN groupadd -r appuser && useradd -r -g appuser appuser\n\n# Set work directory\nWORKDIR /app\n\n# Install Python dependencies\nCOPY requirements/production.txt ./requirements.txt\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy application code\nCOPY . .\n\n# Create necessary directories\nRUN mkdir -p /var/log/app /var/uploads && \\\n    chown -R appuser:appuser /app /var/log/app /var/uploads\n\n# Switch to non-root user\nUSER appuser\n\n# Expose port\nEXPOSE 8000\n\n# Health check\nHEALTHCHECK --interval=30s --timeout=30s --start-period=5s --retries=3 \\\n    CMD curl -f http://localhost:8000/health || exit 1\n\n# Run application\nCMD [\"gunicorn\", \"--config\", \"gunicorn.conf.py\", \"wsgi:app\"]\n```\n\n## Docker Compose\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\n\nservices:\n  web:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - FLASK_ENV=production\n      - DATABASE_URL=postgresql://postgres:password@db:5432/myapp\n      - REDIS_URL=redis://redis:6379/0\n      - SECRET_KEY=${SECRET_KEY}\n    depends_on:\n      - db\n      - redis\n    volumes:\n      - uploads:/var/uploads\n      - logs:/var/log/app\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8000/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  db:\n    image: postgres:15\n    environment:\n      - POSTGRES_DB=myapp\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U postgres\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  redis:\n    image: redis:7-alpine\n    command: redis-server --appendonly yes\n    volumes:\n      - redis_data:/data\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD\", \"redis-cli\", \"ping\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  nginx:\n    image: nginx:alpine\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf:ro\n      - ./ssl:/etc/nginx/ssl:ro\n      - uploads:/var/uploads:ro\n    depends_on:\n      - web\n    restart: unless-stopped\n\nvolumes:\n  postgres_data:\n  redis_data:\n  uploads:\n  logs:\n```\n\n## Nginx Configuration\n\n```nginx\n# nginx.conf\nevents {\n    worker_connections 1024;\n}\n\nhttp {\n    upstream app {\n        server web:8000;\n    }\n    \n    # Rate limiting\n    limit_req_zone $binary_remote_addr zone=api:10m rate=10r/s;\n    limit_req_zone $binary_remote_addr zone=login:10m rate=1r/s;\n    \n    # SSL configuration\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384;\n    ssl_prefer_server_ciphers off;\n    \n    # Security headers\n    add_header X-Frame-Options DENY;\n    add_header X-Content-Type-Options nosniff;\n    add_header X-XSS-Protection \"1; mode=block\";\n    add_header Strict-Transport-Security \"max-age=31536000; includeSubDomains\" always;\n    \n    server {\n        listen 80;\n        server_name example.com www.example.com;\n        return 301 https://$server_name$request_uri;\n    }\n    \n    server {\n        listen 443 ssl http2;\n        server_name example.com www.example.com;\n        \n        ssl_certificate /etc/nginx/ssl/cert.pem;\n        ssl_certificate_key /etc/nginx/ssl/key.pem;\n        \n        # File upload size\n        client_max_body_size 16M;\n        \n        # Static files\n        location /static/ {\n            alias /var/uploads/static/;\n            expires 1y;\n            add_header Cache-Control \"public, immutable\";\n        }\n        \n        location /uploads/ {\n            alias /var/uploads/;\n            expires 1h;\n        }\n        \n        # API rate limiting\n        location /api/ {\n            limit_req zone=api burst=20 nodelay;\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n        \n        # Login rate limiting\n        location /auth/login {\n            limit_req zone=login burst=5 nodelay;\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n        \n        # Main application\n        location / {\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n            \n            # Timeout settings\n            proxy_connect_timeout 60s;\n            proxy_send_timeout 60s;\n            proxy_read_timeout 60s;\n        }\n    }\n}\n```\n\n## Environment Variables\n\n```bash\n# .env.production\n# Application\nFLASK_ENV=production\nSECRET_KEY=your-super-secret-key-here\n\n# Database\nDATABASE_URL=postgresql://user:password@localhost:5432/myapp\nDB_HOST=localhost\nDB_PORT=5432\nDB_NAME=myapp\nDB_USER=user\nDB_PASSWORD=password\n\n# Redis\nREDIS_URL=redis://localhost:6379/0\n\n# Email\nMAIL_SERVER=smtp.gmail.com\nMAIL_PORT=587\nMAIL_USE_TLS=true\nMAIL_USERNAME=your-email@gmail.com\nMAIL_PASSWORD=your-app-password\nMAIL_DEFAULT_SENDER=your-email@gmail.com\n\n# Logging\nLOG_LEVEL=INFO\nLOG_FILE=/var/log/app/app.log\n\n# File Upload\nUPLOAD_FOLDER=/var/uploads\n\n# SSL (if using)\nSSL_KEYFILE=/path/to/private.key\nSSL_CERTFILE=/path/to/certificate.crt\n```\n\n## Health Check Endpoint\n\n```python\n# app/health.py\nfrom flask import Blueprint, jsonify\nfrom app.extensions import db\nfrom sqlalchemy import text\nimport redis\nimport os\n\nhealth_bp = Blueprint('health', __name__)\n\n@health_bp.route('/health')\ndef health_check():\n    \"\"\"Application health check.\"\"\"\n    checks = {\n        'status': 'healthy',\n        'database': check_database(),\n        'redis': check_redis(),\n        'disk_space': check_disk_space()\n    }\n    \n    # Determine overall status\n    if all(check['status'] == 'ok' for check in checks.values() if isinstance(check, dict)):\n        status_code = 200\n    else:\n        status_code = 503\n        checks['status'] = 'unhealthy'\n    \n    return jsonify(checks), status_code\n\ndef check_database():\n    \"\"\"Check database connectivity.\"\"\"\n    try:\n        db.session.execute(text('SELECT 1'))\n        return {'status': 'ok', 'message': 'Database connection successful'}\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n\ndef check_redis():\n    \"\"\"Check Redis connectivity.\"\"\"\n    try:\n        redis_url = os.environ.get('REDIS_URL', 'redis://localhost:6379/0')\n        r = redis.from_url(redis_url)\n        r.ping()\n        return {'status': 'ok', 'message': 'Redis connection successful'}\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n\ndef check_disk_space():\n    \"\"\"Check available disk space.\"\"\"\n    try:\n        import shutil\n        total, used, free = shutil.disk_usage('/')\n        free_percent = (free / total) * 100\n        \n        if free_percent > 10:\n            status = 'ok'\n        elif free_percent > 5:\n            status = 'warning'\n        else:\n            status = 'critical'\n        \n        return {\n            'status': status,\n            'free_space_percent': round(free_percent, 2),\n            'free_space_gb': round(free / (1024**3), 2)\n        }\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n```\n\n## Monitoring and Logging\n\n```python\n# app/logging.py\nimport logging\nimport logging.handlers\nimport os\nfrom flask import request, g\nimport time\n\ndef setup_logging(app):\n    \"\"\"Setup application logging.\"\"\"\n    if not app.debug and not app.testing:\n        # File logging\n        if app.config.get('LOG_FILE'):\n            file_handler = logging.handlers.RotatingFileHandler(\n                app.config['LOG_FILE'],\n                maxBytes=10240000,  # 10MB\n                backupCount=10\n            )\n            file_handler.setFormatter(logging.Formatter(\n                '%(asctime)s %(levelname)s: %(message)s '\n                '[in %(pathname)s:%(lineno)d]'\n            ))\n            file_handler.setLevel(getattr(logging, app.config.get('LOG_LEVEL', 'INFO')))\n            app.logger.addHandler(file_handler)\n        \n        # Console logging\n        if not app.logger.handlers:\n            stream_handler = logging.StreamHandler()\n            stream_handler.setFormatter(logging.Formatter(\n                '%(asctime)s %(levelname)s: %(message)s'\n            ))\n            stream_handler.setLevel(logging.INFO)\n            app.logger.addHandler(stream_handler)\n        \n        app.logger.setLevel(logging.INFO)\n        app.logger.info('Application startup')\n\n# Request timing middleware\n@app.before_request\ndef before_request():\n    g.start_time = time.time()\n\n@app.after_request\ndef after_request(response):\n    if hasattr(g, 'start_time'):\n        duration = time.time() - g.start_time\n        app.logger.info(\n            f'{request.method} {request.path} - '\n            f'{response.status_code} - {duration:.3f}s'\n        )\n    return response\n```\n\n## Database Backup Script\n\n```bash\n#!/bin/bash\n# backup.sh\n\nset -e\n\n# Configuration\nBACKUP_DIR=\"/var/backups/db\"\nDATABASE_URL=\"$DATABASE_URL\"\nDATE=$(date +%Y%m%d_%H%M%S)\nBACKUP_FILE=\"$BACKUP_DIR/backup_$DATE.sql\"\nRETENTION_DAYS=7\n\n# Create backup directory\nmkdir -p \"$BACKUP_DIR\"\n\n# Create backup\necho \"Creating database backup...\"\npg_dump \"$DATABASE_URL\" > \"$BACKUP_FILE\"\n\n# Compress backup\ngzip \"$BACKUP_FILE\"\n\n# Remove old backups\necho \"Cleaning up old backups...\"\nfind \"$BACKUP_DIR\" -name \"backup_*.sql.gz\" -mtime +$RETENTION_DAYS -delete\n\necho \"Backup completed: $BACKUP_FILE.gz\"\n```\n\n## Deployment Scripts\n\n```bash\n#!/bin/bash\n# deploy.sh\n\nset -e\n\necho \"Starting deployment...\"\n\n# Pull latest code\ngit pull origin main\n\n# Build new Docker image\ndocker-compose build web\n\n# Run database migrations\ndocker-compose run --rm web flask db upgrade\n\n# Update services\ndocker-compose up -d\n\n# Health check\necho \"Waiting for application to be ready...\"\nsleep 10\n\nif curl -f http://localhost:8000/health; then\n    echo \"Deployment successful!\"\nelse\n    echo \"Deployment failed - health check failed\"\n    exit 1\nfi\n```\n\n## Monitoring with Prometheus\n\n```python\n# app/metrics.py\nfrom prometheus_flask_exporter import PrometheusMetrics\nfrom flask import request\nimport time\n\ndef setup_metrics(app):\n    \"\"\"Setup Prometheus metrics.\"\"\"\n    metrics = PrometheusMetrics(app)\n    \n    # Custom metrics\n    metrics.info('app_info', 'Application info', version='1.0.0')\n    \n    # Database connection pool metrics\n    @metrics.gauge('db_pool_size', 'Database connection pool size')\n    def db_pool_size():\n        from app.extensions import db\n        return db.engine.pool.size()\n    \n    return metrics\n```\n"
              },
              {
                "name": "/flask-route",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/flask-route.md",
                "frontmatter": null,
                "content": "# Flask Route Generator\n\nCreate Flask routes with proper structure and error handling.\n\n## Purpose\n\nThis command helps you quickly create Flask routes with validation, error handling, and best practices.\n\n## Usage\n\n```\n/flask-route\n```\n\n## What this command does\n\n1. **Creates route functions** with proper decorators\n2. **Adds request validation** and error handling\n3. **Includes JSON responses** and status codes\n4. **Implements authentication** if needed\n5. **Follows Flask conventions** and best practices\n\n## Example Output\n\n```python\n# routes.py or app.py\nfrom flask import Flask, request, jsonify, abort\nfrom flask_sqlalchemy import SQLAlchemy\nfrom werkzeug.exceptions import BadRequest\n\napp = Flask(__name__)\n\n@app.route('/users', methods=['GET'])\ndef get_users():\n    \"\"\"Get all users with optional pagination.\"\"\"\n    try:\n        page = request.args.get('page', 1, type=int)\n        per_page = request.args.get('per_page', 10, type=int)\n        \n        users = User.query.paginate(\n            page=page, \n            per_page=per_page, \n            error_out=False\n        )\n        \n        return jsonify({\n            'users': [user.to_dict() for user in users.items],\n            'total': users.total,\n            'pages': users.pages,\n            'current_page': page\n        }), 200\n        \n    except Exception as e:\n        return jsonify({'error': 'Failed to fetch users'}), 500\n\n@app.route('/users/<int:user_id>', methods=['GET'])\ndef get_user(user_id):\n    \"\"\"Get a specific user by ID.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        return jsonify(user.to_dict()), 200\n        \n    except Exception as e:\n        return jsonify({'error': 'User not found'}), 404\n\n@app.route('/users', methods=['POST'])\ndef create_user():\n    \"\"\"Create a new user.\"\"\"\n    try:\n        data = request.get_json()\n        \n        if not data:\n            return jsonify({'error': 'No data provided'}), 400\n        \n        # Validate required fields\n        required_fields = ['name', 'email']\n        for field in required_fields:\n            if field not in data:\n                return jsonify({'error': f'{field} is required'}), 400\n        \n        # Check if email already exists\n        if User.query.filter_by(email=data['email']).first():\n            return jsonify({'error': 'Email already exists'}), 409\n        \n        # Create new user\n        user = User(\n            name=data['name'],\n            email=data['email'],\n            phone=data.get('phone'),\n            address=data.get('address')\n        )\n        \n        db.session.add(user)\n        db.session.commit()\n        \n        return jsonify(user.to_dict()), 201\n        \n    except BadRequest:\n        return jsonify({'error': 'Invalid JSON data'}), 400\n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to create user'}), 500\n\n@app.route('/users/<int:user_id>', methods=['PUT'])\ndef update_user(user_id):\n    \"\"\"Update an existing user.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        data = request.get_json()\n        \n        if not data:\n            return jsonify({'error': 'No data provided'}), 400\n        \n        # Update fields\n        if 'name' in data:\n            user.name = data['name']\n        if 'email' in data:\n            # Check if new email already exists\n            existing_user = User.query.filter_by(email=data['email']).first()\n            if existing_user and existing_user.id != user_id:\n                return jsonify({'error': 'Email already exists'}), 409\n            user.email = data['email']\n        if 'phone' in data:\n            user.phone = data['phone']\n        if 'address' in data:\n            user.address = data['address']\n        \n        db.session.commit()\n        \n        return jsonify(user.to_dict()), 200\n        \n    except BadRequest:\n        return jsonify({'error': 'Invalid JSON data'}), 400\n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to update user'}), 500\n\n@app.route('/users/<int:user_id>', methods=['DELETE'])\ndef delete_user(user_id):\n    \"\"\"Delete a user.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        \n        db.session.delete(user)\n        db.session.commit()\n        \n        return jsonify({'message': 'User deleted successfully'}), 200\n        \n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to delete user'}), 500\n\n# Error handlers\n@app.errorhandler(404)\ndef not_found(error):\n    return jsonify({'error': 'Resource not found'}), 404\n\n@app.errorhandler(400)\ndef bad_request(error):\n    return jsonify({'error': 'Bad request'}), 400\n\n@app.errorhandler(500)\ndef internal_error(error):\n    return jsonify({'error': 'Internal server error'}), 500\n```\n\n## Route Patterns Supported\n\n### Basic Routes\n```python\n@app.route('/')\n@app.route('/users')\n@app.route('/users/<int:user_id>')\n```\n\n### HTTP Methods\n```python\n@app.route('/users', methods=['GET', 'POST'])\n@app.route('/users/<int:id>', methods=['GET', 'PUT', 'DELETE'])\n```\n\n### URL Parameters\n```python\n@app.route('/users/<int:user_id>')\n@app.route('/posts/<string:slug>')\n@app.route('/files/<path:filename>')\n```\n\n## Best Practices Included\n\n- **Input validation** for all user data\n- **Proper HTTP status codes** (200, 201, 400, 404, 500)\n- **JSON responses** with consistent structure\n- **Error handling** with try/catch blocks\n- **Database rollback** on errors\n- **RESTful conventions** for URL design\n- **Documentation strings** for each route\n- **Request data validation** before processing\n\n## Common Response Patterns\n\n```python\n# Success with data\nreturn jsonify({'data': result}), 200\n\n# Created resource\nreturn jsonify({'data': new_resource, 'id': new_id}), 201\n\n# Validation error\nreturn jsonify({'error': 'Field is required'}), 400\n\n# Not found\nreturn jsonify({'error': 'Resource not found'}), 404\n\n# Server error\nreturn jsonify({'error': 'Internal server error'}), 500\n```"
              },
              {
                "name": "/testing",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/testing.md",
                "frontmatter": null,
                "content": "# Flask Testing Suite\n\nComprehensive testing setup for Flask applications with pytest.\n\n## Usage\n\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=app --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n```\n\n## Test Configuration\n\n```python\n# pytest.ini\n[tool:pytest]\ntestpaths = tests\npython_files = test_*.py\npython_classes = Test*\npython_functions = test_*\naddopts = \n    --cov=app\n    --cov-report=term-missing\n    --cov-report=html:htmlcov\n    --strict-markers\n    --disable-warnings\nmarkers =\n    unit: Unit tests\n    integration: Integration tests\n    slow: Slow running tests\n    auth: Authentication tests\n```\n\n## Test Fixtures\n\n```python\n# tests/conftest.py\nimport pytest\nimport tempfile\nimport os\nfrom app import create_app\nfrom app.extensions import db\nfrom app.models import User, Post, Category\nfrom flask_login import login_user\n\n@pytest.fixture(scope='session')\ndef app():\n    \"\"\"Create test application.\"\"\"\n    # Create temporary database\n    db_fd, db_path = tempfile.mkstemp()\n    \n    app = create_app({\n        'TESTING': True,\n        'SQLALCHEMY_DATABASE_URI': f'sqlite:///{db_path}',\n        'WTF_CSRF_ENABLED': False,\n        'SECRET_KEY': 'test-secret-key'\n    })\n    \n    with app.app_context():\n        db.create_all()\n        yield app\n        \n    # Cleanup\n    os.close(db_fd)\n    os.unlink(db_path)\n\n@pytest.fixture\ndef client(app):\n    \"\"\"Create test client.\"\"\"\n    return app.test_client()\n\n@pytest.fixture\ndef runner(app):\n    \"\"\"Create test CLI runner.\"\"\"\n    return app.test_cli_runner()\n\n@pytest.fixture\ndef db_session(app):\n    \"\"\"Create database session for testing.\"\"\"\n    with app.app_context():\n        connection = db.engine.connect()\n        transaction = connection.begin()\n        \n        # Configure session to use the connection\n        db.session.configure(bind=connection)\n        \n        yield db.session\n        \n        # Rollback transaction\n        transaction.rollback()\n        connection.close()\n        db.session.remove()\n\n@pytest.fixture\ndef user(db_session):\n    \"\"\"Create test user.\"\"\"\n    user = User(\n        username='testuser',\n        email='test@example.com',\n        first_name='Test',\n        last_name='User'\n    )\n    user.set_password('testpass123')\n    user.save()\n    return user\n\n@pytest.fixture\ndef admin_user(db_session):\n    \"\"\"Create admin user.\"\"\"\n    admin = User(\n        username='admin',\n        email='admin@example.com',\n        first_name='Admin',\n        last_name='User',\n        is_admin=True\n    )\n    admin.set_password('adminpass123')\n    admin.save()\n    return admin\n\n@pytest.fixture\ndef category(db_session):\n    \"\"\"Create test category.\"\"\"\n    category = Category(\n        name='Test Category',\n        description='A test category'\n    )\n    category.save()\n    return category\n\n@pytest.fixture\ndef post(db_session, user, category):\n    \"\"\"Create test post.\"\"\"\n    post = Post(\n        title='Test Post',\n        content='This is a test post content.',\n        slug='test-post',\n        status='published',\n        user_id=user.id,\n        category_id=category.id\n    )\n    post.save()\n    return post\n\n@pytest.fixture\ndef auth_headers(user):\n    \"\"\"Create authentication headers.\"\"\"\n    # For API testing\n    token = user.generate_auth_token()\n    return {'Authorization': f'Bearer {token}'}\n```\n\n## Model Testing\n\n```python\n# tests/test_models.py\nimport pytest\nfrom datetime import datetime\nfrom app.models import User, Post, Category\nfrom werkzeug.security import check_password_hash\n\nclass TestUser:\n    \"\"\"Test User model.\"\"\"\n    \n    def test_user_creation(self, db_session):\n        \"\"\"Test user creation.\"\"\"\n        user = User(\n            username='newuser',\n            email='new@example.com',\n            first_name='New',\n            last_name='User'\n        )\n        user.set_password('password123')\n        user.save()\n        \n        assert user.id is not None\n        assert user.username == 'newuser'\n        assert user.email == 'new@example.com'\n        assert user.full_name == 'New User'\n        assert user.is_active is True\n        assert user.is_admin is False\n        assert user.created_at is not None\n    \n    def test_password_hashing(self, user):\n        \"\"\"Test password hashing.\"\"\"\n        user.set_password('newpassword')\n        assert user.password_hash != 'newpassword'\n        assert check_password_hash(user.password_hash, 'newpassword')\n        assert user.check_password('newpassword')\n        assert not user.check_password('wrongpassword')\n    \n    def test_user_repr(self, user):\n        \"\"\"Test user string representation.\"\"\"\n        assert repr(user) == '<User testuser>'\n    \n    def test_user_to_dict(self, user):\n        \"\"\"Test user dictionary conversion.\"\"\"\n        user_dict = user.to_dict()\n        assert 'username' in user_dict\n        assert 'email' in user_dict\n        assert 'password_hash' not in user_dict  # Should be excluded\n    \n    def test_user_relationships(self, user, post):\n        \"\"\"Test user relationships.\"\"\"\n        assert post in user.posts\n        assert user.posts.count() == 1\n\nclass TestPost:\n    \"\"\"Test Post model.\"\"\"\n    \n    def test_post_creation(self, db_session, user, category):\n        \"\"\"Test post creation.\"\"\"\n        post = Post(\n            title='New Post',\n            content='New post content',\n            slug='new-post',\n            status='draft',\n            user_id=user.id,\n            category_id=category.id\n        )\n        post.save()\n        \n        assert post.id is not None\n        assert post.title == 'New Post'\n        assert post.author == user\n        assert post.category == category\n        assert not post.is_published\n    \n    def test_published_status(self, post):\n        \"\"\"Test post published status.\"\"\"\n        assert post.is_published  # Published with published_at\n        \n        post.status = 'draft'\n        assert not post.is_published\n```\n\n## View Testing\n\n```python\n# tests/test_views.py\nimport pytest\nfrom flask import url_for\nfrom app.models import User\n\nclass TestMainViews:\n    \"\"\"Test main application views.\"\"\"\n    \n    def test_home_page(self, client):\n        \"\"\"Test home page.\"\"\"\n        response = client.get('/')\n        assert response.status_code == 200\n        assert b'Welcome' in response.data\n    \n    def test_about_page(self, client):\n        \"\"\"Test about page.\"\"\"\n        response = client.get('/about')\n        assert response.status_code == 200\n\nclass TestUserViews:\n    \"\"\"Test user-related views.\"\"\"\n    \n    def test_user_list(self, client, user):\n        \"\"\"Test user list page.\"\"\"\n        response = client.get('/users/')\n        assert response.status_code == 200\n        assert user.username.encode() in response.data\n    \n    def test_user_detail(self, client, user):\n        \"\"\"Test user detail page.\"\"\"\n        response = client.get(f'/users/{user.id}')\n        assert response.status_code == 200\n        assert user.username.encode() in response.data\n    \n    def test_user_create_get(self, client):\n        \"\"\"Test user creation form.\"\"\"\n        response = client.get('/users/create')\n        assert response.status_code == 200\n        assert b'Create User' in response.data\n    \n    def test_user_create_post(self, client, db_session):\n        \"\"\"Test user creation submission.\"\"\"\n        data = {\n            'username': 'newuser',\n            'email': 'new@example.com',\n            'first_name': 'New',\n            'last_name': 'User',\n            'password': 'password123',\n            'confirm_password': 'password123'\n        }\n        response = client.post('/users/create', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Check user was created\n        user = User.query.filter_by(username='newuser').first()\n        assert user is not None\n        assert user.email == 'new@example.com'\n    \n    def test_user_edit(self, client, user):\n        \"\"\"Test user editing.\"\"\"\n        data = {\n            'username': user.username,\n            'email': 'updated@example.com',\n            'first_name': 'Updated',\n            'last_name': 'User'\n        }\n        response = client.post(f'/users/{user.id}/edit', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Refresh user from database\n        db_session.refresh(user)\n        assert user.email == 'updated@example.com'\n        assert user.first_name == 'Updated'\n```\n\n## Authentication Testing\n\n```python\n# tests/test_auth.py\nimport pytest\nfrom flask import url_for\nfrom app.models import User\n\nclass TestAuthentication:\n    \"\"\"Test authentication functionality.\"\"\"\n    \n    def test_login_page(self, client):\n        \"\"\"Test login page access.\"\"\"\n        response = client.get('/auth/login')\n        assert response.status_code == 200\n        assert b'Login' in response.data\n    \n    def test_valid_login(self, client, user):\n        \"\"\"Test valid user login.\"\"\"\n        data = {\n            'username': user.username,\n            'password': 'testpass123'\n        }\n        response = client.post('/auth/login', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        assert b'Welcome' in response.data\n    \n    def test_invalid_login(self, client, user):\n        \"\"\"Test invalid login credentials.\"\"\"\n        data = {\n            'username': user.username,\n            'password': 'wrongpassword'\n        }\n        response = client.post('/auth/login', data=data)\n        assert response.status_code == 200\n        assert b'Invalid' in response.data\n    \n    def test_logout(self, client, user):\n        \"\"\"Test user logout.\"\"\"\n        # Login first\n        with client.session_transaction() as sess:\n            sess['_user_id'] = str(user.id)\n        \n        response = client.get('/auth/logout', follow_redirects=True)\n        assert response.status_code == 200\n    \n    def test_register_page(self, client):\n        \"\"\"Test registration page.\"\"\"\n        response = client.get('/auth/register')\n        assert response.status_code == 200\n        assert b'Register' in response.data\n    \n    def test_valid_registration(self, client, db_session):\n        \"\"\"Test valid user registration.\"\"\"\n        data = {\n            'username': 'newuser',\n            'email': 'new@example.com',\n            'first_name': 'New',\n            'last_name': 'User',\n            'password': 'password123',\n            'confirm_password': 'password123'\n        }\n        response = client.post('/auth/register', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Check user was created\n        user = User.query.filter_by(username='newuser').first()\n        assert user is not None\n```\n\n## API Testing\n\n```python\n# tests/test_api.py\nimport pytest\nimport json\nfrom flask import url_for\n\nclass TestUserAPI:\n    \"\"\"Test User API endpoints.\"\"\"\n    \n    def test_get_users(self, client, user):\n        \"\"\"Test GET /api/users.\"\"\"\n        response = client.get('/api/users')\n        assert response.status_code == 200\n        \n        data = json.loads(response.data)\n        assert 'users' in data\n        assert len(data['users']) >= 1\n    \n    def test_get_user(self, client, user):\n        \"\"\"Test GET /api/users/<id>.\"\"\"\n        response = client.get(f'/api/users/{user.id}')\n        assert response.status_code == 200\n        \n        data = json.loads(response.data)\n        assert data['username'] == user.username\n        assert data['email'] == user.email\n    \n    def test_create_user(self, client, db_session):\n        \"\"\"Test POST /api/users.\"\"\"\n        user_data = {\n            'username': 'apiuser',\n            'email': 'api@example.com',\n            'first_name': 'API',\n            'last_name': 'User',\n            'password': 'password123'\n        }\n        \n        response = client.post(\n            '/api/users',\n            data=json.dumps(user_data),\n            content_type='application/json'\n        )\n        \n        assert response.status_code == 201\n        data = json.loads(response.data)\n        assert data['username'] == 'apiuser'\n    \n    def test_update_user(self, client, user, auth_headers):\n        \"\"\"Test PUT /api/users/<id>.\"\"\"\n        update_data = {\n            'email': 'updated@example.com',\n            'first_name': 'Updated'\n        }\n        \n        response = client.put(\n            f'/api/users/{user.id}',\n            data=json.dumps(update_data),\n            content_type='application/json',\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = json.loads(response.data)\n        assert data['email'] == 'updated@example.com'\n    \n    def test_delete_user(self, client, user, auth_headers):\n        \"\"\"Test DELETE /api/users/<id>.\"\"\"\n        response = client.delete(\n            f'/api/users/{user.id}',\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 204\n```\n\n## Test Utilities\n\n```python\n# tests/utils.py\nimport json\nfrom flask import url_for\n\ndef login_user(client, username, password):\n    \"\"\"Helper to login user in tests.\"\"\"\n    return client.post('/auth/login', data={\n        'username': username,\n        'password': password\n    }, follow_redirects=True)\n\ndef logout_user(client):\n    \"\"\"Helper to logout user in tests.\"\"\"\n    return client.get('/auth/logout', follow_redirects=True)\n\ndef assert_json_response(response, expected_status=200):\n    \"\"\"Assert JSON response format and status.\"\"\"\n    assert response.status_code == expected_status\n    assert response.content_type == 'application/json'\n    return json.loads(response.data)\n\ndef create_test_data(db_session):\n    \"\"\"Create common test data.\"\"\"\n    from app.models import User, Category, Post\n    \n    # Create test users\n    users = []\n    for i in range(3):\n        user = User(\n            username=f'user{i}',\n            email=f'user{i}@example.com',\n            first_name=f'User{i}',\n            last_name='Test'\n        )\n        user.set_password('password123')\n        user.save()\n        users.append(user)\n    \n    return {'users': users}\n```\n\n## Performance Testing\n\n```python\n# tests/test_performance.py\nimport pytest\nimport time\nfrom app.models import User\n\n@pytest.mark.slow\nclass TestPerformance:\n    \"\"\"Test application performance.\"\"\"\n    \n    def test_user_query_performance(self, db_session):\n        \"\"\"Test user query performance.\"\"\"\n        # Create multiple users\n        users = []\n        for i in range(100):\n            user = User(\n                username=f'perfuser{i}',\n                email=f'perf{i}@example.com',\n                first_name=f'Perf{i}',\n                last_name='User'\n            )\n            users.append(user)\n        \n        db_session.bulk_save_objects(users)\n        db_session.commit()\n        \n        # Test query performance\n        start_time = time.time()\n        result = User.query.all()\n        end_time = time.time()\n        \n        assert len(result) >= 100\n        assert (end_time - start_time) < 0.1  # Should complete in under 100ms\n    \n    def test_endpoint_response_time(self, client):\n        \"\"\"Test endpoint response time.\"\"\"\n        start_time = time.time()\n        response = client.get('/')\n        end_time = time.time()\n        \n        assert response.status_code == 200\n        assert (end_time - start_time) < 0.5  # Should respond in under 500ms\n```\n"
              },
              {
                "name": "/model",
                "description": null,
                "path": "cli-tool/templates/ruby/.claude/commands/model.md",
                "frontmatter": null,
                "content": "# Ruby Model Generator\n\nCreate Ruby classes and models with proper structure and best practices.\n\n## Purpose\n\nThis command helps you quickly create Ruby model classes with proper initialization, attributes, and methods following Ruby conventions.\n\n## Usage\n\n```\n/model\n```\n\n## What this command does\n\n1. **Creates model classes** with proper initialization methods\n2. **Adds attribute accessors** and instance variables\n3. **Includes validation methods** and error handling\n4. **Follows Ruby conventions** and best practices\n5. **Generates related test files** when applicable\n\n## Example Output\n\n```ruby\n# app/models/user.rb\nclass User\n  attr_accessor :name, :email, :age\n  attr_reader :id, :created_at\n  \n  def initialize(attributes = {})\n    @id = attributes[:id] || generate_id\n    @name = attributes[:name]\n    @email = attributes[:email]\n    @age = attributes[:age]\n    @created_at = Time.now\n    @errors = []\n  end\n  \n  def valid?\n    @errors.clear\n    validate_presence_of_name\n    validate_email_format\n    validate_age_range\n    @errors.empty?\n  end\n  \n  def errors\n    @errors.dup\n  end\n  \n  def save\n    return false unless valid?\n    \n    # Persist logic here\n    true\n  end\n  \n  def to_h\n    {\n      id: @id,\n      name: @name,\n      email: @email,\n      age: @age,\n      created_at: @created_at\n    }\n  end\n  \n  def to_json(*args)\n    JSON.generate(to_h, *args)\n  end\n  \n  private\n  \n  def validate_presence_of_name\n    if @name.nil? || @name.strip.empty?\n      @errors << \"Name cannot be blank\"\n    end\n  end\n  \n  def validate_email_format\n    if @email && !@email.match?(/\\A[\\w+\\-.]+@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)*\\.[a-z]+\\z/i)\n      @errors << \"Email format is invalid\"\n    end\n  end\n  \n  def validate_age_range\n    if @age && (@age < 0 || @age > 150)\n      @errors << \"Age must be between 0 and 150\"\n    end\n  end\n  \n  def generate_id\n    SecureRandom.uuid\n  end\nend\n\n# Example with inheritance\nclass AdminUser < User\n  attr_accessor :permissions\n  \n  def initialize(attributes = {})\n    super\n    @permissions = attributes[:permissions] || []\n  end\n  \n  def admin?\n    true\n  end\n  \n  def has_permission?(permission)\n    @permissions.include?(permission)\n  end\n  \n  private\n  \n  def validate_permissions\n    unless @permissions.is_a?(Array)\n      @errors << \"Permissions must be an array\"\n    end\n  end\nend\n```\n\n## Advanced Features\n\n### Module Inclusion\n```ruby\nmodule Timestamps\n  def self.included(base)\n    base.extend(ClassMethods)\n  end\n  \n  module ClassMethods\n    def with_timestamps\n      attr_reader :created_at, :updated_at\n      \n      define_method :initialize do |*args|\n        super(*args)\n        @created_at ||= Time.now\n        @updated_at = @created_at\n      end\n      \n      define_method :touch do\n        @updated_at = Time.now\n      end\n    end\n  end\nend\n\nclass Post\n  include Timestamps\n  with_timestamps\n  \n  attr_accessor :title, :content\n  \n  def initialize(attributes = {})\n    @title = attributes[:title]\n    @content = attributes[:content]\n    super\n  end\nend\n```\n\n### Class Methods and Scopes\n```ruby\nclass User\n  @@users = []\n  \n  def self.all\n    @@users.dup\n  end\n  \n  def self.find_by_email(email)\n    @@users.find { |user| user.email == email }\n  end\n  \n  def self.where(conditions = {})\n    @@users.select do |user|\n      conditions.all? { |key, value| user.send(key) == value }\n    end\n  end\n  \n  def self.create(attributes = {})\n    user = new(attributes)\n    if user.save\n      @@users << user\n      user\n    else\n      nil\n    end\n  end\n  \n  def save\n    return false unless valid?\n    \n    unless @@users.include?(self)\n      @@users << self\n    end\n    true\n  end\n  \n  def destroy\n    @@users.delete(self)\n  end\nend\n```\n\n## Testing Template\n\n```ruby\n# spec/models/user_spec.rb\nrequire 'spec_helper'\n\nRSpec.describe User do\n  let(:valid_attributes) do\n    {\n      name: 'John Doe',\n      email: 'john@example.com',\n      age: 30\n    }\n  end\n  \n  describe '#initialize' do\n    it 'sets attributes correctly' do\n      user = User.new(valid_attributes)\n      \n      expect(user.name).to eq('John Doe')\n      expect(user.email).to eq('john@example.com')\n      expect(user.age).to eq(30)\n      expect(user.id).not_to be_nil\n      expect(user.created_at).to be_a(Time)\n    end\n  end\n  \n  describe '#valid?' do\n    it 'returns true for valid attributes' do\n      user = User.new(valid_attributes)\n      expect(user).to be_valid\n    end\n    \n    it 'returns false when name is blank' do\n      user = User.new(valid_attributes.merge(name: ''))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Name cannot be blank')\n    end\n    \n    it 'returns false for invalid email format' do\n      user = User.new(valid_attributes.merge(email: 'invalid-email'))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Email format is invalid')\n    end\n    \n    it 'returns false for invalid age' do\n      user = User.new(valid_attributes.merge(age: -5))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Age must be between 0 and 150')\n    end\n  end\n  \n  describe '#save' do\n    it 'saves valid user' do\n      user = User.new(valid_attributes)\n      expect(user.save).to be true\n    end\n    \n    it 'does not save invalid user' do\n      user = User.new(name: '')\n      expect(user.save).to be false\n    end\n  end\n  \n  describe '#to_h' do\n    it 'returns hash representation' do\n      user = User.new(valid_attributes)\n      hash = user.to_h\n      \n      expect(hash).to include(\n        name: 'John Doe',\n        email: 'john@example.com',\n        age: 30\n      )\n      expect(hash[:id]).not_to be_nil\n      expect(hash[:created_at]).to be_a(Time)\n    end\n  end\nend\n```\n\n## Best Practices Included\n\n- **Proper initialization** with hash parameters\n- **Attribute accessors** for public attributes\n- **Validation methods** with error collection\n- **JSON serialization** support\n- **Class and instance methods** separation\n- **Error handling** and reporting\n- **Ruby naming conventions** (snake_case)\n- **Encapsulation** with private methods\n\n## Common Patterns\n\n### Value Objects\n```ruby\nclass Money\n  include Comparable\n  \n  attr_reader :amount, :currency\n  \n  def initialize(amount, currency = 'USD')\n    @amount = amount.to_f\n    @currency = currency.to_s.upcase\n  end\n  \n  def +(other)\n    raise ArgumentError, \"Currency mismatch\" unless currency == other.currency\n    Money.new(amount + other.amount, currency)\n  end\n  \n  def <=>(other)\n    raise ArgumentError, \"Currency mismatch\" unless currency == other.currency\n    amount <=> other.amount\n  end\n  \n  def to_s\n    \"#{currency} #{format('%.2f', amount)}\"\n  end\nend\n```\n\n### Service Objects\n```ruby\nclass UserRegistrationService\n  attr_reader :user, :errors\n  \n  def initialize(user_params)\n    @user_params = user_params\n    @errors = []\n  end\n  \n  def call\n    @user = User.new(@user_params)\n    \n    if @user.valid?\n      @user.save\n      send_welcome_email\n      true\n    else\n      @errors = @user.errors\n      false\n    end\n  end\n  \n  private\n  \n  def send_welcome_email\n    # Email sending logic\n  end\nend\n```"
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/ruby/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Ruby Test Generator\n\nCreate comprehensive test files with RSpec or Minitest following Ruby testing best practices.\n\n## Purpose\n\nThis command helps you quickly create test files with proper structure, examples, and testing patterns for Ruby applications.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Creates test files** with proper structure for RSpec or Minitest\n2. **Includes test examples** for common scenarios\n3. **Sets up test helpers** and support files\n4. **Follows testing conventions** and best practices\n5. **Generates factory/fixture data** when needed\n\n## RSpec Example Output\n\n```ruby\n# spec/models/user_spec.rb\nrequire 'spec_helper'\n\nRSpec.describe User do\n  let(:user) { build(:user) }\n  let(:valid_attributes) do\n    {\n      name: 'John Doe',\n      email: 'john@example.com',\n      age: 30\n    }\n  end\n  \n  describe 'validations' do\n    it { should validate_presence_of(:name) }\n    it { should validate_presence_of(:email) }\n    it { should validate_uniqueness_of(:email) }\n    it { should validate_numericality_of(:age).is_greater_than(0) }\n    \n    context 'when email format is invalid' do\n      let(:user) { build(:user, email: 'invalid-email') }\n      \n      it 'is not valid' do\n        expect(user).not_to be_valid\n        expect(user.errors[:email]).to include('is invalid')\n      end\n    end\n  end\n  \n  describe 'associations' do\n    it { should have_many(:posts) }\n    it { should have_many(:comments) }\n  end\n  \n  describe 'callbacks' do\n    describe 'before_save' do\n      it 'normalizes email' do\n        user = create(:user, email: 'JOHN@EXAMPLE.COM')\n        expect(user.email).to eq('john@example.com')\n      end\n    end\n  end\n  \n  describe 'instance methods' do\n    describe '#full_name' do\n      let(:user) { build(:user, first_name: 'John', last_name: 'Doe') }\n      \n      it 'returns the full name' do\n        expect(user.full_name).to eq('John Doe')\n      end\n      \n      context 'when last_name is missing' do\n        let(:user) { build(:user, first_name: 'John', last_name: nil) }\n        \n        it 'returns only first_name' do\n          expect(user.full_name).to eq('John')\n        end\n      end\n    end\n    \n    describe '#active?' do\n      context 'when user is active' do\n        let(:user) { build(:user, status: 'active') }\n        \n        it 'returns true' do\n          expect(user.active?).to be true\n        end\n      end\n      \n      context 'when user is inactive' do\n        let(:user) { build(:user, status: 'inactive') }\n        \n        it 'returns false' do\n          expect(user.active?).to be false\n        end\n      end\n    end\n  end\n  \n  describe 'class methods' do\n    describe '.active' do\n      let!(:active_user) { create(:user, status: 'active') }\n      let!(:inactive_user) { create(:user, status: 'inactive') }\n      \n      it 'returns only active users' do\n        expect(User.active).to include(active_user)\n        expect(User.active).not_to include(inactive_user)\n      end\n    end\n    \n    describe '.find_by_email' do\n      let!(:user) { create(:user, email: 'test@example.com') }\n      \n      it 'finds user by email' do\n        found_user = User.find_by_email('test@example.com')\n        expect(found_user).to eq(user)\n      end\n      \n      it 'returns nil when user not found' do\n        found_user = User.find_by_email('nonexistent@example.com')\n        expect(found_user).to be_nil\n      end\n    end\n  end\n  \n  describe 'scopes' do\n    describe '.recent' do\n      let!(:old_user) { create(:user, created_at: 1.year.ago) }\n      let!(:recent_user) { create(:user, created_at: 1.day.ago) }\n      \n      it 'returns users created in the last 30 days' do\n        expect(User.recent).to include(recent_user)\n        expect(User.recent).not_to include(old_user)\n      end\n    end\n  end\nend\n```\n\n## Minitest Example Output\n\n```ruby\n# test/models/user_test.rb\nrequire 'test_helper'\n\nclass UserTest < ActiveSupport::TestCase\n  def setup\n    @user = users(:john)\n    @valid_attributes = {\n      name: 'Jane Doe',\n      email: 'jane@example.com',\n      age: 25\n    }\n  end\n  \n  # Validation tests\n  test 'should not save user without name' do\n    user = User.new(@valid_attributes.except(:name))\n    assert_not user.save\n    assert_includes user.errors[:name], \"can't be blank\"\n  end\n  \n  test 'should not save user without email' do\n    user = User.new(@valid_attributes.except(:email))\n    assert_not user.save\n    assert_includes user.errors[:email], \"can't be blank\"\n  end\n  \n  test 'should not save user with invalid email' do\n    user = User.new(@valid_attributes.merge(email: 'invalid-email'))\n    assert_not user.save\n    assert_includes user.errors[:email], 'is invalid'\n  end\n  \n  test 'should not save user with duplicate email' do\n    user1 = User.create!(@valid_attributes)\n    user2 = User.new(@valid_attributes)\n    assert_not user2.save\n    assert_includes user2.errors[:email], 'has already been taken'\n  end\n  \n  test 'should save user with valid attributes' do\n    user = User.new(@valid_attributes)\n    assert user.save\n  end\n  \n  # Association tests\n  test 'should have many posts' do\n    assert_respond_to @user, :posts\n    assert_kind_of ActiveRecord::Associations::CollectionProxy, @user.posts\n  end\n  \n  test 'should have many comments' do\n    assert_respond_to @user, :comments\n  end\n  \n  # Instance method tests\n  test 'full_name should return first and last name' do\n    @user.first_name = 'John'\n    @user.last_name = 'Doe'\n    assert_equal 'John Doe', @user.full_name\n  end\n  \n  test 'full_name should return first name only when last name is missing' do\n    @user.first_name = 'John'\n    @user.last_name = nil\n    assert_equal 'John', @user.full_name\n  end\n  \n  test 'active? should return true for active users' do\n    @user.status = 'active'\n    assert @user.active?\n  end\n  \n  test 'active? should return false for inactive users' do\n    @user.status = 'inactive'\n    assert_not @user.active?\n  end\n  \n  # Class method tests\n  test 'active scope should return only active users' do\n    active_user = User.create!(@valid_attributes.merge(status: 'active'))\n    inactive_user = User.create!(@valid_attributes.merge(\n      email: 'inactive@example.com',\n      status: 'inactive'\n    ))\n    \n    active_users = User.active\n    assert_includes active_users, active_user\n    assert_not_includes active_users, inactive_user\n  end\n  \n  test 'find_by_email should find user by email' do\n    user = User.create!(@valid_attributes)\n    found_user = User.find_by_email(@valid_attributes[:email])\n    assert_equal user, found_user\n  end\n  \n  test 'find_by_email should return nil when user not found' do\n    found_user = User.find_by_email('nonexistent@example.com')\n    assert_nil found_user\n  end\nend\n```\n\n## Controller Test Example\n\n```ruby\n# spec/controllers/users_controller_spec.rb\nrequire 'rails_helper'\n\nRSpec.describe UsersController, type: :controller do\n  let(:user) { create(:user) }\n  let(:valid_attributes) { attributes_for(:user) }\n  let(:invalid_attributes) { { name: '', email: 'invalid' } }\n  \n  describe 'GET #index' do\n    it 'returns a success response' do\n      get :index\n      expect(response).to be_successful\n    end\n    \n    it 'assigns @users' do\n      user1 = create(:user)\n      user2 = create(:user)\n      get :index\n      expect(assigns(:users)).to match_array([user1, user2])\n    end\n  end\n  \n  describe 'GET #show' do\n    it 'returns a success response' do\n      get :show, params: { id: user.to_param }\n      expect(response).to be_successful\n    end\n    \n    it 'assigns the requested user' do\n      get :show, params: { id: user.to_param }\n      expect(assigns(:user)).to eq(user)\n    end\n  end\n  \n  describe 'POST #create' do\n    context 'with valid parameters' do\n      it 'creates a new User' do\n        expect {\n          post :create, params: { user: valid_attributes }\n        }.to change(User, :count).by(1)\n      end\n      \n      it 'redirects to the created user' do\n        post :create, params: { user: valid_attributes }\n        expect(response).to redirect_to(User.last)\n      end\n    end\n    \n    context 'with invalid parameters' do\n      it 'does not create a new User' do\n        expect {\n          post :create, params: { user: invalid_attributes }\n        }.to change(User, :count).by(0)\n      end\n      \n      it 'renders the new template' do\n        post :create, params: { user: invalid_attributes }\n        expect(response).to render_template(:new)\n      end\n    end\n  end\n  \n  describe 'PUT #update' do\n    context 'with valid parameters' do\n      let(:new_attributes) { { name: 'Updated Name' } }\n      \n      it 'updates the requested user' do\n        put :update, params: { id: user.to_param, user: new_attributes }\n        user.reload\n        expect(user.name).to eq('Updated Name')\n      end\n      \n      it 'redirects to the user' do\n        put :update, params: { id: user.to_param, user: new_attributes }\n        expect(response).to redirect_to(user)\n      end\n    end\n    \n    context 'with invalid parameters' do\n      it 'renders the edit template' do\n        put :update, params: { id: user.to_param, user: invalid_attributes }\n        expect(response).to render_template(:edit)\n      end\n    end\n  end\n  \n  describe 'DELETE #destroy' do\n    it 'destroys the requested user' do\n      user # Create user\n      expect {\n        delete :destroy, params: { id: user.to_param }\n      }.to change(User, :count).by(-1)\n    end\n    \n    it 'redirects to the users list' do\n      delete :destroy, params: { id: user.to_param }\n      expect(response).to redirect_to(users_url)\n    end\n  end\nend\n```\n\n## Factory Configuration\n\n```ruby\n# spec/factories/users.rb\nFactoryBot.define do\n  factory :user do\n    sequence(:name) { |n| \"User #{n}\" }\n    sequence(:email) { |n| \"user#{n}@example.com\" }\n    age { rand(18..80) }\n    status { 'active' }\n    \n    trait :inactive do\n      status { 'inactive' }\n    end\n    \n    trait :admin do\n      admin { true }\n    end\n    \n    trait :with_posts do\n      after(:create) do |user|\n        create_list(:post, 3, user: user)\n      end\n    end\n    \n    factory :admin_user, traits: [:admin]\n    factory :inactive_user, traits: [:inactive]\n  end\nend\n```\n\n## Test Helper Configuration\n\n```ruby\n# spec/spec_helper.rb\nrequire 'simplecov'\nSimpleCov.start 'rails' do\n  add_filter '/spec/'\n  add_filter '/config/'\n  add_filter '/vendor/'\n  \n  add_group 'Controllers', 'app/controllers'\n  add_group 'Models', 'app/models'\n  add_group 'Services', 'app/services'\n  add_group 'Libraries', 'lib'\nend\n\nRSpec.configure do |config|\n  config.expect_with :rspec do |expectations|\n    expectations.include_chain_clauses_in_custom_matcher_descriptions = true\n  end\n  \n  config.mock_with :rspec do |mocks|\n    mocks.verify_partial_doubles = true\n  end\n  \n  config.shared_context_metadata_behavior = :apply_to_host_groups\n  config.filter_run_when_matching :focus\n  config.example_status_persistence_file_path = 'spec/examples.txt'\n  config.disable_monkey_patching!\n  config.warnings = true\n  \n  if config.files_to_run.one?\n    config.default_formatter = 'doc'\n  end\n  \n  config.profile_examples = 10\n  config.order = :random\n  Kernel.srand config.seed\nend\n```\n\n## Integration Test Example\n\n```ruby\n# spec/requests/api/users_spec.rb\nrequire 'rails_helper'\n\nRSpec.describe 'API::Users', type: :request do\n  let(:user) { create(:user) }\n  let(:valid_headers) {\n    { 'Authorization' => \"Bearer #{user.auth_token}\" }\n  }\n  \n  describe 'GET /api/users' do\n    it 'returns users' do\n      create_list(:user, 3)\n      \n      get '/api/users', headers: valid_headers\n      \n      expect(response).to have_http_status(:ok)\n      expect(JSON.parse(response.body)['users'].size).to eq(3)\n    end\n  end\n  \n  describe 'POST /api/users' do\n    let(:valid_params) do\n      {\n        user: {\n          name: 'New User',\n          email: 'new@example.com'\n        }\n      }\n    end\n    \n    it 'creates a new user' do\n      post '/api/users', params: valid_params, headers: valid_headers\n      \n      expect(response).to have_http_status(:created)\n      expect(JSON.parse(response.body)['user']['name']).to eq('New User')\n    end\n  end\nend\n```\n\n## Best Practices Included\n\n- **Descriptive test names** that explain expected behavior\n- **Proper test organization** with contexts and describes\n- **Factory usage** for test data generation\n- **Mocking and stubbing** for external dependencies\n- **Coverage configuration** with SimpleCov\n- **Test helpers** and shared examples\n- **Request/Integration tests** for API endpoints\n- **Feature tests** for user workflows"
              },
              {
                "name": "/authentication",
                "description": null,
                "path": "cli-tool/templates/ruby/examples/rails-app/.claude/commands/authentication.md",
                "frontmatter": null,
                "content": "# Rails 8 Native Authentication Generator\n\nGenerate Rails 8's built-in authentication system with modern security practices.\n\n## Purpose\n\nThis command helps you implement Rails 8's new native authentication system, eliminating the need for external gems like Devise for basic authentication needs.\n\n## Usage\n\n```\n/authentication\n```\n\n## What this command does\n\n1. **Generates authentication models** with secure password handling\n2. **Creates authentication controllers** for login/logout/signup\n3. **Adds authentication views** with modern styling\n4. **Implements session management** with security best practices\n5. **Sets up authentication helpers** for controllers and views\n\n## Rails 8 Authentication Generator\n\n```bash\n# Generate authentication for User model\nbin/rails generate authentication User\n\n# Or specify custom model name\nbin/rails generate authentication Account\n\n# Generate with custom attributes\nbin/rails generate authentication User first_name:string last_name:string\n```\n\n## Generated User Model\n\n```ruby\n# app/models/user.rb\nclass User < ApplicationRecord\n  has_secure_password\n  \n  validates :email, presence: true, uniqueness: true\n  validates :password, length: { minimum: 8 }, if: -> { new_record? || !password.blank? }\n  \n  normalizes :email, with: ->(email) { email.strip.downcase }\n  \n  before_save :normalize_email\n  \n  private\n  \n  def normalize_email\n    self.email = email.downcase.strip\n  end\nend\n```\n\n## Authentication Controller\n\n```ruby\n# app/controllers/authentication_controller.rb\nclass AuthenticationController < ApplicationController\n  skip_before_action :authenticate_user!, only: [:new, :create]\n  \n  def new\n    # Login page\n  end\n  \n  def create\n    user = User.find_by(email: params[:email])\n    \n    if user&.authenticate(params[:password])\n      login(user)\n      redirect_to root_path, notice: 'Logged in successfully'\n    else\n      flash.now[:alert] = 'Invalid email or password'\n      render :new, status: :unprocessable_entity\n    end\n  end\n  \n  def destroy\n    logout\n    redirect_to root_path, notice: 'Logged out successfully'\n  end\n  \n  private\n  \n  def login(user)\n    session[:user_id] = user.id\n    @current_user = user\n  end\n  \n  def logout\n    session[:user_id] = nil\n    @current_user = nil\n  end\nend\n```\n\n## Registration Controller\n\n```ruby\n# app/controllers/registrations_controller.rb\nclass RegistrationsController < ApplicationController\n  skip_before_action :authenticate_user!\n  \n  def new\n    @user = User.new\n  end\n  \n  def create\n    @user = User.new(user_params)\n    \n    if @user.save\n      login(@user)\n      redirect_to root_path, notice: 'Account created successfully'\n    else\n      render :new, status: :unprocessable_entity\n    end\n  end\n  \n  private\n  \n  def user_params\n    params.require(:user).permit(:email, :password, :password_confirmation, :first_name, :last_name)\n  end\n  \n  def login(user)\n    session[:user_id] = user.id\n    @current_user = user\n  end\nend\n```\n\n## Application Controller Updates\n\n```ruby\n# app/controllers/application_controller.rb\nclass ApplicationController < ActionController::Base\n  protect_from_forgery with: :exception\n  \n  before_action :authenticate_user!\n  \n  private\n  \n  def authenticate_user!\n    redirect_to login_path, alert: 'Please log in to continue' unless current_user\n  end\n  \n  def current_user\n    @current_user ||= User.find(session[:user_id]) if session[:user_id]\n  end\n  helper_method :current_user\n  \n  def logged_in?\n    !!current_user\n  end\n  helper_method :logged_in?\n  \n  def require_login\n    unless logged_in?\n      flash[:alert] = 'You must be logged in to access this page'\n      redirect_to login_path\n    end\n  end\nend\n```\n\n## Authentication Views\n\n### Login Form\n```erb\n<!-- app/views/authentication/new.html.erb -->\n<div class=\"authentication-form\">\n  <h1>Log In</h1>\n  \n  <%= form_with url: login_path, local: true, class: \"auth-form\" do |form| %>\n    <div class=\"form-group\">\n      <%= form.label :email, \"Email\" %>\n      <%= form.email_field :email, required: true, autofocus: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password, \"Password\" %>\n      <%= form.password_field :password, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-actions\">\n      <%= form.submit \"Log In\", class: \"btn btn-primary\" %>\n    </div>\n  <% end %>\n  \n  <div class=\"auth-links\">\n    <%= link_to \"Don't have an account? Sign up\", signup_path %>\n  </div>\n</div>\n```\n\n### Registration Form\n```erb\n<!-- app/views/registrations/new.html.erb -->\n<div class=\"authentication-form\">\n  <h1>Sign Up</h1>\n  \n  <%= form_with model: @user, url: signup_path, local: true, class: \"auth-form\" do |form| %>\n    <% if @user.errors.any? %>\n      <div class=\"error-messages\">\n        <h3><%= pluralize(@user.errors.count, \"error\") %> prohibited this account from being saved:</h3>\n        <ul>\n          <% @user.errors.full_messages.each do |message| %>\n            <li><%= message %></li>\n          <% end %>\n        </ul>\n      </div>\n    <% end %>\n    \n    <div class=\"form-group\">\n      <%= form.label :first_name, \"First Name\" %>\n      <%= form.text_field :first_name, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :last_name, \"Last Name\" %>\n      <%= form.text_field :last_name, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :email, \"Email\" %>\n      <%= form.email_field :email, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password, \"Password\" %>\n      <%= form.password_field :password, required: true, minlength: 8, class: \"form-control\" %>\n      <small class=\"form-text\">Minimum 8 characters</small>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password_confirmation, \"Confirm Password\" %>\n      <%= form.password_field :password_confirmation, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-actions\">\n      <%= form.submit \"Sign Up\", class: \"btn btn-primary\" %>\n    </div>\n  <% end %>\n  \n  <div class=\"auth-links\">\n    <%= link_to \"Already have an account? Log in\", login_path %>\n  </div>\n</div>\n```\n\n## Route Configuration\n\n```ruby\n# config/routes.rb\nRails.application.routes.draw do\n  # Authentication routes\n  get    'login',  to: 'authentication#new'\n  post   'login',  to: 'authentication#create'\n  delete 'logout', to: 'authentication#destroy'\n  \n  # Registration routes\n  get  'signup', to: 'registrations#new'\n  post 'signup', to: 'registrations#create'\n  \n  # User management routes\n  resources :users, except: [:new, :create]\n  \n  # Root route\n  root 'dashboard#index'\nend\n```\n\n## Migration Files\n\n```ruby\n# db/migrate/xxx_create_users.rb\nclass CreateUsers < ActiveRecord::Migration[8.0]\n  def change\n    create_table :users do |t|\n      t.string :email, null: false\n      t.string :password_digest, null: false\n      t.string :first_name\n      t.string :last_name\n      \n      t.timestamps\n    end\n    \n    add_index :users, :email, unique: true\n  end\nend\n```\n\n## Advanced Authentication Features\n\n### Password Reset\n```ruby\n# app/controllers/password_resets_controller.rb\nclass PasswordResetsController < ApplicationController\n  skip_before_action :authenticate_user!\n  \n  def new\n    # Password reset request form\n  end\n  \n  def create\n    @user = User.find_by(email: params[:email])\n    if @user\n      @user.send_password_reset\n      redirect_to root_path, notice: 'Email sent with password reset instructions'\n    else\n      flash.now[:alert] = 'Email address not found'\n      render :new\n    end\n  end\n  \n  def edit\n    @user = User.find_by(password_reset_token: params[:id])\n    if @user.nil? || @user.password_reset_sent_at < 2.hours.ago\n      redirect_to new_password_reset_path, alert: 'Password reset has expired'\n    end\n  end\n  \n  def update\n    @user = User.find_by(password_reset_token: params[:id])\n    if @user && @user.password_reset_sent_at > 2.hours.ago\n      if @user.update(password_params)\n        @user.update_columns(password_reset_token: nil, password_reset_sent_at: nil)\n        redirect_to root_path, notice: 'Password has been reset'\n      else\n        render :edit\n      end\n    else\n      redirect_to new_password_reset_path, alert: 'Password reset has expired'\n    end\n  end\n  \n  private\n  \n  def password_params\n    params.require(:user).permit(:password, :password_confirmation)\n  end\nend\n```\n\n### User Model Extensions\n```ruby\n# app/models/user.rb (extended)\nclass User < ApplicationRecord\n  has_secure_password\n  \n  validates :email, presence: true, uniqueness: true\n  validates :password, length: { minimum: 8 }, if: -> { new_record? || !password.blank? }\n  \n  normalizes :email, with: ->(email) { email.strip.downcase }\n  \n  # Password reset functionality\n  def send_password_reset\n    generate_token(:password_reset_token)\n    self.password_reset_sent_at = Time.zone.now\n    save!\n    UserMailer.password_reset(self).deliver_now\n  end\n  \n  def full_name\n    \"#{first_name} #{last_name}\".strip\n  end\n  \n  def initials\n    \"#{first_name&.first}#{last_name&.first}\".upcase\n  end\n  \n  private\n  \n  def generate_token(column)\n    begin\n      self[column] = SecureRandom.urlsafe_base64\n    end while User.exists?(column => self[column])\n  end\nend\n```\n\n## Session Security Enhancements\n\n```ruby\n# config/application.rb\nconfig.session_store :cookie_store, {\n  key: '_myapp_session',\n  secure: Rails.env.production?,\n  httponly: true,\n  same_site: :lax\n}\n\n# config/environments/production.rb\nconfig.force_ssl = true\nconfig.session_store :cookie_store, {\n  key: '_myapp_session',\n  secure: true,\n  httponly: true,\n  same_site: :strict\n}\n```\n\n## Authentication Helper Methods\n\n```ruby\n# app/helpers/authentication_helper.rb\nmodule AuthenticationHelper\n  def user_avatar(user, size: 40)\n    if user.avatar.present?\n      image_tag user.avatar, alt: user.full_name, class: \"avatar\", size: \"#{size}x#{size}\"\n    else\n      content_tag :div, user.initials, class: \"avatar avatar-initials\", \n                  style: \"width: #{size}px; height: #{size}px; line-height: #{size}px;\"\n    end\n  end\n  \n  def current_user_menu\n    if logged_in?\n      render 'shared/user_menu'\n    else\n      render 'shared/guest_menu'\n    end\n  end\nend\n```\n\n## Testing Authentication\n\n```ruby\n# spec/models/user_spec.rb\nRSpec.describe User, type: :model do\n  describe 'validations' do\n    it { should validate_presence_of(:email) }\n    it { should validate_uniqueness_of(:email) }\n    it { should validate_length_of(:password).is_at_least(8) }\n    it { should have_secure_password }\n  end\n  \n  describe 'email normalization' do\n    it 'normalizes email to lowercase' do\n      user = User.create!(email: 'USER@EXAMPLE.COM', password: 'password123')\n      expect(user.email).to eq('user@example.com')\n    end\n  end\n  \n  describe '#full_name' do\n    it 'returns combined first and last name' do\n      user = User.new(first_name: 'John', last_name: 'Doe')\n      expect(user.full_name).to eq('John Doe')\n    end\n  end\nend\n\n# spec/controllers/authentication_controller_spec.rb\nRSpec.describe AuthenticationController, type: :controller do\n  describe 'POST #create' do\n    let(:user) { create(:user, password: 'password123') }\n    \n    context 'with valid credentials' do\n      it 'logs in the user' do\n        post :create, params: { email: user.email, password: 'password123' }\n        expect(session[:user_id]).to eq(user.id)\n        expect(response).to redirect_to(root_path)\n      end\n    end\n    \n    context 'with invalid credentials' do\n      it 'does not log in the user' do\n        post :create, params: { email: user.email, password: 'wrong' }\n        expect(session[:user_id]).to be_nil\n        expect(response).to render_template(:new)\n      end\n    end\n  end\nend\n```\n\n## Security Best Practices Included\n\n- **Secure password hashing** with bcrypt\n- **Email normalization** to prevent duplicates\n- **CSRF protection** enabled by default\n- **Session security** with httponly and secure flags\n- **Password strength validation** (minimum 8 characters)\n- **Timing attack prevention** in authentication\n- **Password reset token expiration**\n- **SSL enforcement** in production"
              }
            ],
            "skills": []
          },
          {
            "name": "testing-suite",
            "description": "Comprehensive testing toolkit with E2E, unit, integration, and visual testing automation",
            "source": "./",
            "category": null,
            "version": "1.0.0",
            "author": {
              "name": "Daniel Avila"
            },
            "install_commands": [
              "/plugin marketplace add Justdvp/claude-code-templates",
              "/plugin install testing-suite@claude-code-templates"
            ],
            "signals": {
              "stars": 5,
              "forks": 0,
              "pushed_at": "2026-01-12T22:20:42Z",
              "created_at": "2022-10-16T16:39:58Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/lint",
                "description": null,
                "path": ".claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Python Linter\n\nRun Python code linting and formatting tools.\n\n## Purpose\n\nThis command helps you maintain code quality using Python's best linting and formatting tools.\n\n## Usage\n\n```\n/lint\n```\n\n## What this command does\n\n1. **Runs multiple linters** (flake8, pylint, black, isort)\n2. **Provides detailed feedback** on code quality issues\n3. **Auto-fixes formatting** where possible\n4. **Checks type hints** if mypy is configured\n\n## Example Commands\n\n### Black (code formatting)\n```bash\n# Format all Python files\nblack .\n\n# Check formatting without changing files\nblack --check .\n\n# Format specific file\nblack src/main.py\n```\n\n### flake8 (style guide enforcement)\n```bash\n# Check all Python files\nflake8 .\n\n# Check specific directory\nflake8 src/\n\n# Check with specific rules\nflake8 --max-line-length=88 .\n```\n\n### isort (import sorting)\n```bash\n# Sort imports in all files\nisort .\n\n# Check import sorting\nisort --check-only .\n\n# Sort imports in specific file\nisort src/main.py\n```\n\n### pylint (comprehensive linting)\n```bash\n# Run pylint on all files\npylint src/\n\n# Run with specific score threshold\npylint --fail-under=8.0 src/\n\n# Generate detailed report\npylint --output-format=html src/ > pylint_report.html\n```\n\n### mypy (type checking)\n```bash\n# Check types in all files\nmypy .\n\n# Check specific module\nmypy src/models.py\n\n# Check with strict mode\nmypy --strict src/\n```\n\n## Configuration Files\n\nMost projects benefit from configuration files:\n\n### .flake8\n```ini\n[flake8]\nmax-line-length = 88\nexclude = .git,__pycache__,venv\nignore = E203,W503\n```\n\n### pyproject.toml\n```toml\n[tool.black]\nline-length = 88\n\n[tool.isort]\nprofile = \"black\"\n```\n\n## Best Practices\n\n- Run linters before committing code\n- Use consistent formatting across the project\n- Fix linting issues promptly\n- Configure linters to match your team's style\n- Use type hints for better code documentation"
              },
              {
                "name": "/test",
                "description": null,
                "path": ".claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Runner\n\nRun Python tests with pytest, unittest, or other testing frameworks.\n\n## Purpose\n\nThis command helps you run Python tests effectively with proper configuration and reporting.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Detects test framework** (pytest, unittest, nose2)\n2. **Runs appropriate tests** with proper configuration\n3. **Provides coverage reporting** if available\n4. **Shows clear test results** with failure details\n\n## Example Commands\n\n### pytest (recommended)\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=src --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n\n# Run tests matching pattern\npytest -k \"test_user\"\n```\n\n### unittest\n```bash\n# Run all tests\npython -m unittest discover\n\n# Run specific test file\npython -m unittest tests.test_models\n\n# Run with verbose output\npython -m unittest -v\n```\n\n### Django tests\n```bash\n# Run all Django tests\npython manage.py test\n\n# Run specific app tests\npython manage.py test myapp\n\n# Run with coverage\ncoverage run --source='.' manage.py test\ncoverage report\n```\n\n## Best Practices\n\n- Write tests for all critical functionality\n- Use descriptive test names\n- Keep tests isolated and independent\n- Mock external dependencies\n- Aim for high test coverage (80%+)"
              },
              {
                "name": "/git-workflow",
                "description": null,
                "path": "cli-tool/templates/common/.claude/commands/git-workflow.md",
                "frontmatter": null,
                "content": "# Git Workflow Helper\n\nManage Git workflows with best practices and common operations.\n\n## Purpose\n\nThis command helps you perform common Git operations following best practices for collaborative development.\n\n## Usage\n\n```\n/git-workflow\n```\n\n## What this command does\n\n1. **Guides through Git operations** with proper workflow\n2. **Suggests best practices** for commits and branches\n3. **Helps with conflict resolution** and merging\n4. **Provides templates** for commit messages\n5. **Manages branching strategies** (Git Flow, GitHub Flow)\n\n## Common Workflows\n\n### Feature Development\n```bash\n# Create and switch to feature branch\ngit checkout -b feature/user-authentication\n\n# Work on your feature\n# ... make changes ...\n\n# Stage and commit changes\ngit add .\ngit commit -m \"feat: add user authentication system\n\n- Implement login/logout functionality\n- Add password validation\n- Create user session management\n- Add authentication middleware\"\n\n# Push feature branch\ngit push -u origin feature/user-authentication\n\n# Create pull request (via GitHub/GitLab interface)\n```\n\n### Hotfix Workflow\n```bash\n# Create hotfix branch from main\ngit checkout main\ngit checkout -b hotfix/security-patch\n\n# Fix the issue\n# ... make changes ...\n\n# Commit the fix\ngit commit -m \"fix: resolve security vulnerability in auth module\n\n- Patch XSS vulnerability in login form\n- Update input validation\n- Add CSRF protection\"\n\n# Push and create urgent PR\ngit push -u origin hotfix/security-patch\n```\n\n### Sync with Remote\n```bash\n# Update main branch\ngit checkout main\ngit pull origin main\n\n# Update feature branch with latest main\ngit checkout feature/your-feature\ngit rebase main\n# OR\ngit merge main\n```\n\n## Commit Message Conventions\n\n### Conventional Commits Format\n```\n<type>[optional scope]: <description>\n\n[optional body]\n\n[optional footer(s)]\n```\n\n### Common Types\n- **feat**: New feature\n- **fix**: Bug fix\n- **docs**: Documentation changes\n- **style**: Code style changes (formatting, etc.)\n- **refactor**: Code refactoring\n- **test**: Adding or updating tests\n- **chore**: Maintenance tasks\n\n### Examples\n```bash\n# Feature\ngit commit -m \"feat(auth): add OAuth2 integration\"\n\n# Bug fix\ngit commit -m \"fix(api): handle null response in user endpoint\"\n\n# Documentation\ngit commit -m \"docs: update API documentation for v2.0\"\n\n# Breaking change\ngit commit -m \"feat!: change API response format\n\nBREAKING CHANGE: API responses now use 'data' wrapper\"\n```\n\n## Branch Management\n\n### Git Flow Strategy\n```bash\n# Main branches\nmain        # Production-ready code\ndevelop     # Integration branch\n\n# Supporting branches\nfeature/*   # New features\nrelease/*   # Release preparation\nhotfix/*    # Quick fixes to production\n```\n\n### GitHub Flow (Simplified)\n```bash\n# Only main branch + feature branches\nmain        # Production-ready code\nfeature/*   # All new work\n```\n\n## Conflict Resolution\n\n### When Conflicts Occur\n```bash\n# Start merge/rebase\ngit merge feature-branch\n# OR\ngit rebase main\n\n# If conflicts occur, Git will list conflicted files\n# Edit each file to resolve conflicts\n\n# Mark conflicts as resolved\ngit add conflicted-file.js\n\n# Continue the merge/rebase\ngit merge --continue\n# OR\ngit rebase --continue\n```\n\n### Conflict Markers\n```javascript\n<<<<<<< HEAD\n// Your current branch code\nconst user = getCurrentUser();\n=======\n// Incoming branch code\nconst user = getAuthenticatedUser();\n>>>>>>> feature-branch\n```\n\n## Useful Git Commands\n\n### Status and Information\n```bash\ngit status                    # Check working directory status\ngit log --oneline            # View commit history\ngit branch -a                # List all branches\ngit remote -v                # List remote repositories\n```\n\n### Undoing Changes\n```bash\ngit checkout -- file.js     # Discard changes to file\ngit reset HEAD file.js       # Unstage file\ngit reset --soft HEAD~1     # Undo last commit (keep changes)\ngit reset --hard HEAD~1     # Undo last commit (discard changes)\n```\n\n### Stashing Work\n```bash\ngit stash                    # Save current work\ngit stash pop               # Apply and remove latest stash\ngit stash list              # List all stashes\ngit stash apply stash@{1}   # Apply specific stash\n```\n\n## Best Practices\n\n1. **Commit Often** - Make small, focused commits\n2. **Write Clear Messages** - Use conventional commit format\n3. **Test Before Committing** - Ensure code works\n4. **Pull Before Push** - Keep history clean\n5. **Use Branches** - Don't work directly on main\n6. **Review Code** - Use pull requests for collaboration\n7. **Keep History Clean** - Rebase feature branches when appropriate\n\n## Git Hooks (Optional)\n\n### Pre-commit Hook\n```bash\n#!/bin/sh\n# .git/hooks/pre-commit\n\n# Run linter\nnpm run lint\nif [ $? -ne 0 ]; then\n  echo \"Linting failed. Please fix errors before committing.\"\n  exit 1\nfi\n\n# Run tests\nnpm test\nif [ $? -ne 0 ]; then\n  echo \"Tests failed. Please fix tests before committing.\"\n  exit 1\nfi\n```\n\n### Commit Message Hook\n```bash\n#!/bin/sh\n# .git/hooks/commit-msg\n\n# Check commit message format\nif ! grep -qE \"^(feat|fix|docs|style|refactor|test|chore)(\\(.+\\))?: .{1,50}\" \"$1\"; then\n  echo \"Invalid commit message format. Use conventional commits.\"\n  exit 1\nfi\n```"
              },
              {
                "name": "/project-setup",
                "description": null,
                "path": "cli-tool/templates/common/.claude/commands/project-setup.md",
                "frontmatter": null,
                "content": "# Project Setup Helper\n\nSet up new projects with proper structure and best practices.\n\n## Purpose\n\nThis command helps you set up new projects with proper directory structure, configuration files, and development environment.\n\n## Usage\n\n```\n/project-setup\n```\n\n## What this command does\n\n1. **Creates project structure** with standard directories\n2. **Sets up configuration files** (.gitignore, README, etc.)\n3. **Initializes version control** and development tools\n4. **Configures environment files** and dependencies\n5. **Follows language-specific** conventions and best practices\n\n## Project Structure Templates\n\n### Generic Project Structure\n```\nproject-name/\n‚îú‚îÄ‚îÄ README.md                 # Project documentation\n‚îú‚îÄ‚îÄ .gitignore               # Git ignore rules\n‚îú‚îÄ‚îÄ .env.example             # Environment variables template\n‚îú‚îÄ‚îÄ LICENSE                  # Project license\n‚îú‚îÄ‚îÄ CHANGELOG.md             # Version history\n‚îú‚îÄ‚îÄ docs/                    # Documentation\n‚îÇ   ‚îú‚îÄ‚îÄ API.md\n‚îÇ   ‚îú‚îÄ‚îÄ CONTRIBUTING.md\n‚îÇ   ‚îî‚îÄ‚îÄ DEPLOYMENT.md\n‚îú‚îÄ‚îÄ src/                     # Source code\n‚îÇ   ‚îú‚îÄ‚îÄ main/\n‚îÇ   ‚îú‚îÄ‚îÄ utils/\n‚îÇ   ‚îî‚îÄ‚îÄ config/\n‚îú‚îÄ‚îÄ tests/                   # Test files\n‚îÇ   ‚îú‚îÄ‚îÄ unit/\n‚îÇ   ‚îú‚îÄ‚îÄ integration/\n‚îÇ   ‚îî‚îÄ‚îÄ fixtures/\n‚îú‚îÄ‚îÄ scripts/                 # Build and deployment scripts\n‚îÇ   ‚îú‚îÄ‚îÄ build.sh\n‚îÇ   ‚îú‚îÄ‚îÄ deploy.sh\n‚îÇ   ‚îî‚îÄ‚îÄ setup.sh\n‚îî‚îÄ‚îÄ config/                  # Configuration files\n    ‚îú‚îÄ‚îÄ development.yml\n    ‚îú‚îÄ‚îÄ production.yml\n    ‚îî‚îÄ‚îÄ testing.yml\n```\n\n### Web Application Structure\n```\nweb-app/\n‚îú‚îÄ‚îÄ public/                  # Static assets\n‚îÇ   ‚îú‚îÄ‚îÄ index.html\n‚îÇ   ‚îú‚îÄ‚îÄ favicon.ico\n‚îÇ   ‚îî‚îÄ‚îÄ assets/\n‚îÇ       ‚îú‚îÄ‚îÄ css/\n‚îÇ       ‚îú‚îÄ‚îÄ js/\n‚îÇ       ‚îî‚îÄ‚îÄ images/\n‚îú‚îÄ‚îÄ src/                     # Source code\n‚îÇ   ‚îú‚îÄ‚îÄ components/          # Reusable components\n‚îÇ   ‚îú‚îÄ‚îÄ pages/              # Page components\n‚îÇ   ‚îú‚îÄ‚îÄ services/           # API services\n‚îÇ   ‚îú‚îÄ‚îÄ utils/              # Utility functions\n‚îÇ   ‚îú‚îÄ‚îÄ styles/             # Stylesheets\n‚îÇ   ‚îî‚îÄ‚îÄ config/             # Configuration\n‚îú‚îÄ‚îÄ tests/                   # Test files\n‚îî‚îÄ‚îÄ build/                   # Build output\n```\n\n### API Project Structure\n```\napi-project/\n‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îú‚îÄ‚îÄ controllers/         # Request handlers\n‚îÇ   ‚îú‚îÄ‚îÄ models/             # Data models\n‚îÇ   ‚îú‚îÄ‚îÄ services/           # Business logic\n‚îÇ   ‚îú‚îÄ‚îÄ middleware/         # Custom middleware\n‚îÇ   ‚îú‚îÄ‚îÄ routes/             # API routes\n‚îÇ   ‚îú‚îÄ‚îÄ utils/              # Utility functions\n‚îÇ   ‚îî‚îÄ‚îÄ config/             # Configuration\n‚îú‚îÄ‚îÄ tests/\n‚îÇ   ‚îú‚îÄ‚îÄ unit/\n‚îÇ   ‚îú‚îÄ‚îÄ integration/\n‚îÇ   ‚îî‚îÄ‚îÄ e2e/\n‚îú‚îÄ‚îÄ docs/\n‚îÇ   ‚îú‚îÄ‚îÄ api-spec.yml        # OpenAPI specification\n‚îÇ   ‚îî‚îÄ‚îÄ README.md\n‚îî‚îÄ‚îÄ scripts/\n    ‚îú‚îÄ‚îÄ seed-db.js          # Database seeding\n    ‚îî‚îÄ‚îÄ migrate.js          # Database migrations\n```\n\n## Essential Configuration Files\n\n### .gitignore Template\n```gitignore\n# Dependencies\nnode_modules/\n*.log\nnpm-debug.log*\n\n# Environment files\n.env\n.env.local\n.env.production\n\n# Build outputs\ndist/\nbuild/\n*.tgz\n\n# IDE files\n.vscode/\n.idea/\n*.swp\n*.swo\n\n# OS files\n.DS_Store\nThumbs.db\n\n# Temporary files\n*.tmp\n*.temp\n```\n\n### README.md Template\n```markdown\n# Project Name\n\nBrief description of what this project does.\n\n## Features\n\n- Feature 1\n- Feature 2\n- Feature 3\n\n## Installation\n\n\\`\\`\\`bash\n# Clone the repository\ngit clone https://github.com/username/project-name.git\n\n# Install dependencies\nnpm install\n\n# Copy environment file\ncp .env.example .env\n\\`\\`\\`\n\n## Usage\n\n\\`\\`\\`bash\n# Start development server\nnpm run dev\n\n# Run tests\nnpm test\n\n# Build for production\nnpm run build\n\\`\\`\\`\n\n## API Documentation\n\n[API documentation](docs/API.md)\n\n## Contributing\n\nPlease read [CONTRIBUTING.md](docs/CONTRIBUTING.md) for details.\n\n## License\n\nThis project is licensed under the MIT License - see [LICENSE](LICENSE) file.\n```\n\n### .env.example Template\n```env\n# Application\nNODE_ENV=development\nPORT=3000\nHOST=localhost\n\n# Database\nDB_HOST=localhost\nDB_PORT=5432\nDB_NAME=myapp\nDB_USER=username\nDB_PASSWORD=password\n\n# API Keys\nAPI_KEY=your-api-key-here\nSECRET_KEY=your-secret-key-here\n\n# External Services\nREDIS_URL=redis://localhost:6379\nEMAIL_SERVICE_API_KEY=your-email-key\n```\n\n## Development Environment Setup\n\n### Package.json Scripts\n```json\n{\n  \"scripts\": {\n    \"start\": \"node src/index.js\",\n    \"dev\": \"nodemon src/index.js\",\n    \"test\": \"jest\",\n    \"test:watch\": \"jest --watch\",\n    \"test:coverage\": \"jest --coverage\",\n    \"lint\": \"eslint src/\",\n    \"lint:fix\": \"eslint src/ --fix\",\n    \"format\": \"prettier --write src/\",\n    \"build\": \"webpack --mode production\",\n    \"build:dev\": \"webpack --mode development\",\n    \"clean\": \"rm -rf dist/\"\n  }\n}\n```\n\n### Git Initialization\n```bash\n# Initialize Git repository\ngit init\n\n# Add initial files\ngit add .\n\n# Create initial commit\ngit commit -m \"feat: initial project setup\n\n- Add project structure\n- Configure development environment\n- Add documentation templates\n- Set up testing framework\"\n\n# Add remote origin\ngit remote add origin https://github.com/username/project-name.git\n\n# Push to remote\ngit push -u origin main\n```\n\n## Language-Specific Setup\n\n### Node.js/JavaScript\n```bash\nnpm init -y\nnpm install --save-dev nodemon jest eslint prettier\n```\n\n### Python\n```bash\npython -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\npip install -r requirements.txt\n```\n\n### Docker Setup\n```dockerfile\n# Dockerfile\nFROM node:16-alpine\nWORKDIR /app\nCOPY package*.json ./\nRUN npm install\nCOPY . .\nEXPOSE 3000\nCMD [\"npm\", \"start\"]\n```\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\nservices:\n  app:\n    build: .\n    ports:\n      - \"3000:3000\"\n    environment:\n      - NODE_ENV=development\n    volumes:\n      - .:/app\n      - /app/node_modules\n```\n\n## Best Practices\n\n1. **Consistent Structure** - Follow established conventions\n2. **Clear Documentation** - Write comprehensive README\n3. **Environment Variables** - Keep secrets out of code\n4. **Version Control** - Initialize Git from the start\n5. **Testing Setup** - Configure testing from day one\n6. **Code Quality** - Set up linting and formatting\n7. **CI/CD Ready** - Structure for automated deployment\n8. **Security** - Include security best practices\n\n## Checklist\n\n- [ ] Create project directory structure\n- [ ] Initialize version control (Git)\n- [ ] Set up package manager (npm, pip, etc.)\n- [ ] Create README.md with project info\n- [ ] Add .gitignore file\n- [ ] Set up environment variables\n- [ ] Configure linting and formatting\n- [ ] Set up testing framework\n- [ ] Create basic documentation\n- [ ] Add license file\n- [ ] Set up CI/CD configuration (if needed)"
              },
              {
                "name": "/api-endpoint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/api-endpoint.md",
                "frontmatter": null,
                "content": "# API Endpoint Generator\n\nGenerate a complete API endpoint for $ARGUMENTS following project conventions.\n\n## Task\n\nI'll analyze the project structure and create a new API endpoint with:\n\n1. Route definition\n2. Controller/handler function\n3. Input validation\n4. Service layer logic (if applicable)\n5. Data access layer (if applicable)\n6. Unit tests\n7. Documentation\n\n## Process\n\nI'll follow these steps:\n\n1. Examine the project structure to understand the architecture pattern\n2. Identify existing patterns for routes, controllers, and validation\n3. Create all necessary files following project conventions\n4. Implement the endpoint with proper error handling\n5. Add appropriate tests\n6. Document the new endpoint\n\n## Best Practices\n\nI'll ensure the implementation includes:\n\n- Strong typing with TypeScript\n- Comprehensive error handling\n- Input validation\n- Security considerations (authentication/authorization)\n- Proper logging\n- Performance considerations\n- Test coverage\n\n## Adaptability\n\nI'll adapt to various API architectures:\n\n- Express/Koa/Fastify REST APIs\n- GraphQL resolvers\n- Next.js/Nuxt.js API routes\n- Serverless functions\n- tRPC endpoints\n- NestJS controllers\n\nI'll examine your project first to determine which pattern to follow."
              },
              {
                "name": "/debug",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/debug.md",
                "frontmatter": null,
                "content": "# Debug Assistant\n\nHelp me debug the issue with $ARGUMENTS in this project.\n\n## Task\n\nI'll help you identify and fix the problem by:\n\n1. Understanding the issue description\n2. Analyzing relevant code\n3. Identifying potential causes\n4. Suggesting and implementing fixes\n5. Verifying the solution works\n\n## Process\n\nI'll follow these steps:\n\n1. Examine error messages, logs, or unexpected behaviors\n2. Locate relevant files and code sections\n3. Analyze the code flow and potential failure points\n4. Identify common JavaScript/TypeScript pitfalls that might apply\n5. Suggest specific fixes with explanations\n6. Help implement and test the solution\n\n## Debugging Techniques\n\nI'll apply appropriate debugging techniques such as:\n\n- Static code analysis to find syntax or type errors\n- Runtime error analysis from logs or stack traces\n- Control flow tracing to understand execution paths\n- State inspection to identify incorrect values\n- Dependency analysis to find version conflicts\n- Network request inspection for API issues\n- Browser console analysis for frontend problems\n- Database query inspection for data issues\n\n## Common Issues I Can Help With\n\n- Type errors and null/undefined issues\n- Asynchronous code problems (Promises, async/await)\n- React/Vue/Angular component lifecycle issues\n- API integration problems\n- State management bugs\n- Performance bottlenecks\n- Memory leaks\n- Build/compilation errors\n- Testing failures\n- Environment configuration issues\n\nI'll adapt my approach based on your specific project structure, frameworks, and the nature of the problem."
              },
              {
                "name": "/lint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Lint Assistant\n\nAnalyze and fix linting issues in $ARGUMENTS following project conventions.\n\n## Task\n\nI'll help you identify and fix code style and quality issues by:\n\n1. Running appropriate linters for the project\n2. Analyzing linting errors and warnings\n3. Fixing issues automatically when possible\n4. Explaining complex issues that require manual intervention\n5. Ensuring code follows project style guidelines\n\n## Process\n\nI'll follow these steps:\n\n1. Identify the linting tools used in the project (ESLint, Prettier, TSLint, etc.)\n2. Run the appropriate linting commands\n3. Parse and categorize the results\n4. Apply automatic fixes for common issues\n5. Provide explanations and suggestions for more complex problems\n6. Verify fixes don't introduce new issues\n\n## Common Linting Issues I Can Fix\n\n- Code style inconsistencies (spacing, indentation, quotes, etc.)\n- Unused variables and imports\n- Missing type annotations in TypeScript\n- Accessibility (a11y) issues in UI components\n- Potential bugs flagged by static analysis\n- Performance issues in React/Vue components\n- Security vulnerabilities detected by linters\n- Deprecated API usage\n- Import ordering problems\n- Missing documentation\n\n## Linting Tools I Can Work With\n\n- ESLint (with various plugins and configs)\n- Prettier\n- TSLint (legacy)\n- stylelint (for CSS/SCSS)\n- commitlint (for commit messages)\n- Custom lint rules specific to your project\n\nI'll adapt my approach based on your project's specific linting configuration and style guide requirements."
              },
              {
                "name": "/npm-scripts",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/npm-scripts.md",
                "frontmatter": null,
                "content": "# NPM Scripts Assistant\n\nHelp me with NPM scripts: $ARGUMENTS\n\n## Task\n\nI'll help you work with package.json scripts by:\n\n1. Analyzing existing npm scripts in your project\n2. Creating new scripts or modifying existing ones\n3. Explaining what specific scripts do\n4. Suggesting improvements or optimizations\n5. Troubleshooting script execution issues\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your package.json file to understand current scripts\n2. Analyze dependencies and devDependencies for available tools\n3. Identify common patterns and conventions in your scripts\n4. Implement requested changes or create new scripts\n5. Provide explanations of how the scripts work\n6. Test scripts when possible to verify functionality\n\n## Common Script Types I Can Help With\n\n- Build processes (webpack, rollup, esbuild, etc.)\n- Development servers and hot reloading\n- Testing (unit, integration, e2e)\n- Linting and code formatting\n- Type checking\n- Deployment and CI/CD\n- Database migrations\n- Code generation\n- Environment setup\n- Pre/post hooks for git operations\n\n## Script Optimization Techniques\n\n- Parallelizing tasks for faster execution\n- Adding cross-platform compatibility\n- Improving error reporting and logging\n- Implementing watch modes for development\n- Creating composite scripts for common workflows\n- Adding appropriate exit codes for CI/CD pipelines\n\nI'll adapt my approach based on your project's specific needs, dependencies, and build tools."
              },
              {
                "name": "/refactor",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/refactor.md",
                "frontmatter": null,
                "content": "# Code Refactoring Assistant\n\nRefactor $ARGUMENTS following modern JavaScript/TypeScript best practices.\n\n## Task\n\nI'll help you refactor code by:\n\n1. Analyzing the current implementation\n2. Identifying improvement opportunities\n3. Applying modern patterns and practices\n4. Maintaining existing functionality\n5. Ensuring type safety and test coverage\n6. Documenting the changes made\n\n## Process\n\nI'll follow these steps:\n\n1. Examine the code to understand its purpose and structure\n2. Identify code smells, anti-patterns, or outdated approaches\n3. Plan the refactoring strategy with clear goals\n4. Implement changes incrementally while maintaining behavior\n5. Verify refactored code with tests\n6. Document improvements and benefits\n\n## Refactoring Techniques\n\nI can apply various refactoring techniques:\n\n- Converting to modern JavaScript/TypeScript features\n- Improving type definitions and type safety\n- Extracting reusable functions and components\n- Applying design patterns appropriately\n- Converting callbacks to Promises or async/await\n- Simplifying complex conditionals and loops\n- Removing duplicate code\n- Improving naming and readability\n- Optimizing performance\n- Enhancing error handling\n\n## Modern Practices I Can Apply\n\n- ES modules and import/export syntax\n- Optional chaining and nullish coalescing\n- Array and object destructuring\n- Spread and rest operators\n- Template literals\n- Arrow functions\n- Class fields and private methods\n- TypeScript utility types\n- Functional programming patterns\n- React hooks (for React components)\n\nI'll ensure the refactored code maintains compatibility with your project's requirements while improving quality and maintainability."
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Assistant\n\nHelp with tests for $ARGUMENTS following project conventions and testing best practices.\n\n## Task\n\nI'll help you with testing by:\n\n1. Creating comprehensive test suites for your code\n2. Implementing different types of tests (unit, integration, e2e)\n3. Mocking dependencies and external services\n4. Improving test coverage for existing code\n5. Troubleshooting failing tests\n6. Setting up testing infrastructure\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your project to understand testing frameworks and patterns\n2. Analyze the code to be tested to understand its functionality\n3. Identify appropriate testing strategies and edge cases\n4. Implement tests with proper structure and assertions\n5. Ensure tests are maintainable and follow best practices\n6. Run tests to verify they pass and provide adequate coverage\n\n## Testing Frameworks I Can Work With\n\n- Jest, Vitest, Mocha, Jasmine for JavaScript/TypeScript\n- React Testing Library, Enzyme for React components\n- Cypress, Playwright, Puppeteer for E2E testing\n- Supertest, Pactum for API testing\n- Storybook for component testing\n- Testing-library family for various frameworks\n\n## Testing Techniques\n\nI can implement various testing approaches:\n\n- TDD (Test-Driven Development)\n- BDD (Behavior-Driven Development)\n- Snapshot testing\n- Property-based testing\n- Parameterized tests\n- Contract testing\n- Visual regression testing\n- Performance testing\n\n## Mocking Strategies\n\nI can help with different mocking approaches:\n\n- Function mocks and spies\n- Module mocks\n- HTTP request mocking\n- Browser API mocking\n- Timer mocking\n- Database mocking\n- Service worker mocking\n\nI'll adapt to your project's specific testing frameworks, patterns, and conventions to ensure consistency with your existing codebase."
              },
              {
                "name": "/typescript-migrate",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/typescript-migrate.md",
                "frontmatter": null,
                "content": "# TypeScript Migration Assistant\n\nMigrate $ARGUMENTS from JavaScript to TypeScript with proper typing and modern practices.\n\n## Task\n\nI'll help you migrate JavaScript code to TypeScript by:\n\n1. Converting JavaScript files to TypeScript (.js/.jsx to .ts/.tsx)\n2. Adding appropriate type definitions and interfaces\n3. Configuring TypeScript settings for your project\n4. Resolving type errors and compatibility issues\n5. Implementing modern TypeScript patterns and features\n6. Ensuring backward compatibility with existing code\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your project structure and dependencies\n2. Analyze the JavaScript code to understand its functionality\n3. Create or update tsconfig.json with appropriate settings\n4. Convert files to TypeScript with proper type annotations\n5. Add necessary type definitions for libraries\n6. Fix type errors and implement type safety\n7. Refactor code to leverage TypeScript features\n\n## TypeScript Features I Can Implement\n\n- Interfaces and type aliases for complex data structures\n- Generics for reusable, type-safe components and functions\n- Union and intersection types for flexible typing\n- Enums for related constants\n- Utility types (Partial, Pick, Omit, etc.)\n- Type guards and type narrowing\n- Mapped and conditional types\n- Function overloading\n- Readonly properties and immutability\n- Module augmentation for extending third-party types\n\n## Migration Strategies\n\nI can apply different migration approaches based on your needs:\n\n- Gradual migration with allowJs and incremental adoption\n- File-by-file conversion while maintaining functionality\n- Comprehensive migration with full type safety\n- Hybrid approach with .d.ts files for complex modules\n- Integration with existing type definitions (@types packages)\n\nI'll adapt to your project's specific requirements and ensure a smooth transition to TypeScript while maintaining existing functionality."
              },
              {
                "name": "/components",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/angular-app/.claude/commands/components.md",
                "frontmatter": null,
                "content": "# Angular Components\n\nCreate Angular components for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Angular components based on the requirements:\n\n1. **Analyze existing components**: Check current component patterns, naming conventions, and folder organization\n2. **Examine Angular setup**: Review project structure, module organization, and TypeScript configuration\n3. **Identify component type**: Determine the component category:\n   - Presentation components (dumb/pure components)\n   - Container components (smart components with state)\n   - Feature components (business logic components)\n   - Shared/UI components (reusable across features)\n   - Layout components (structural components)\n4. **Check dependencies**: Review existing components and shared modules to avoid duplication\n5. **Implement component**: Create component with proper TypeScript types and lifecycle hooks\n6. **Add inputs/outputs**: Define @Input and @Output properties with proper typing\n7. **Create template**: Build HTML template with proper Angular directives and bindings\n8. **Add styles**: Implement component styles following project's styling approach\n9. **Create tests**: Write comprehensive unit tests with TestBed and proper mocking\n10. **Update module**: Register component in appropriate Angular module\n\n## Implementation Requirements\n\n- Follow project's Angular architecture and naming conventions\n- Use proper component lifecycle hooks (OnInit, OnDestroy, etc.)\n- Include comprehensive TypeScript interfaces for inputs and outputs\n- Implement proper change detection strategy (OnPush when possible)\n- Add proper subscription management with takeUntil or async pipe\n- Follow Angular style guide and project coding standards\n- Consider component performance and memory management\n\n## Component Patterns to Consider\n\nBased on the request:\n- **Smart Components**: Container components that manage state and services\n- **Dumb Components**: Presentation components that only receive inputs\n- **Feature Components**: Components specific to business features\n- **Shared Components**: Reusable UI components across the application\n- **Form Components**: Reactive forms with validation and custom controls\n- **Data Display**: Components for tables, lists, cards with proper data binding\n\n## Angular-Specific Implementation\n\n- **Template Syntax**: Proper use of Angular directives (*ngFor, *ngIf, etc.)\n- **Data Binding**: Property binding, event binding, two-way binding\n- **Change Detection**: OnPush strategy for performance optimization\n- **Lifecycle Management**: Proper use of lifecycle hooks\n- **Dependency Injection**: Service injection in component constructors\n- **Testing**: TestBed configuration with proper mocking and spies\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same styling approach and class naming as existing components\n- Follow project's folder structure for components (usually feature-based)\n- Don't install new dependencies without asking\n- Consider component reusability and single responsibility principle\n- Add proper TypeScript types for all component properties and methods\n- Use trackBy functions for performance in *ngFor loops\n- Implement proper unsubscription patterns to prevent memory leaks"
              },
              {
                "name": "/services",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/angular-app/.claude/commands/services.md",
                "frontmatter": null,
                "content": "# Angular Services\n\nCreate Angular services for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Angular services based on the requirements:\n\n1. **Analyze existing services**: Check current service patterns, naming conventions, and folder organization\n2. **Examine Angular setup**: Review project structure, dependency injection patterns, and TypeScript configuration\n3. **Identify service type**: Determine the service category:\n   - Data services (HTTP API calls, state management)\n   - Utility services (validation, formatting, helpers)\n   - Business logic services (calculations, workflows)\n   - Infrastructure services (logging, authentication, error handling)\n   - Feature services (component-specific logic)\n4. **Check dependencies**: Review existing services and shared modules to avoid duplication\n5. **Implement service**: Create service with proper dependency injection and TypeScript types\n6. **Add error handling**: Include comprehensive error handling with RxJS operators\n7. **Create tests**: Write unit tests with proper mocking following project patterns\n8. **Update module registration**: Register service in appropriate Angular modules\n\n## Implementation Requirements\n\n- Follow project's Angular architecture and naming conventions (usually .service.ts)\n- Use proper dependency injection with @Injectable decorator\n- Include comprehensive TypeScript interfaces and types\n- Implement proper RxJS patterns (observables, operators, error handling)\n- Add proper error handling and logging integration\n- Follow single responsibility principle for service design\n- Consider service lifecycle and singleton patterns\n\n## Service Patterns to Consider\n\nBased on the request:\n- **HTTP Data Services**: API calls with proper error handling and caching\n- **State Management**: Services for sharing data between components\n- **Authentication**: User authentication, token management, guards\n- **Business Logic**: Complex calculations, workflows, validations\n- **Utility Services**: Reusable functions, formatters, validators\n- **Feature Services**: Component-specific logic extraction\n- **Infrastructure**: Logging, monitoring, configuration services\n\n## Angular-Specific Implementation\n\n- **Dependency Injection**: Proper use of @Injectable and providedIn\n- **RxJS Integration**: Observables, subjects, operators for reactive programming\n- **HTTP Client**: Angular HttpClient for API communication\n- **Error Handling**: Global error handling and user-friendly error messages\n- **Testing**: TestBed, jasmine, karma for comprehensive unit testing\n- **Module Organization**: Feature modules, shared modules, core modules\n\n## Important Notes\n\n- ALWAYS examine existing services first to understand project patterns\n- Use the same error handling and response patterns as existing services\n- Follow project's folder structure for services (usually /services or /core)\n- Don't install new dependencies without asking\n- Consider service performance and memory management\n- Add proper RxJS subscription management to prevent memory leaks\n- Use Angular's built-in services (HttpClient, Router) rather than external libraries\n- Include proper TypeScript types for all service methods and properties"
              },
              {
                "name": "/api-endpoint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/api-endpoint.md",
                "frontmatter": null,
                "content": "# API Endpoint Generator\n\nGenerate a complete API endpoint for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate a new API endpoint with all necessary components:\n\n1. **Analyze project architecture**: Examine existing API structure, patterns, and conventions\n2. **Identify framework**: Determine if using Express, Fastify, NestJS, Next.js API routes, or other framework\n3. **Check authentication**: Review existing auth patterns and middleware usage\n4. **Examine data layer**: Identify database/ORM patterns (Prisma, TypeORM, Mongoose, etc.)\n5. **Create endpoint structure**: Generate route, controller, validation, and service layers\n6. **Implement business logic**: Add core functionality with proper error handling\n7. **Add validation**: Include input validation using project's validation library\n8. **Create tests**: Write unit and integration tests following project patterns\n9. **Update documentation**: Add endpoint documentation (OpenAPI/Swagger if used)\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing middleware patterns for auth, validation, logging\n- Include proper HTTP status codes and error responses\n- Add comprehensive input validation and sanitization\n- Implement proper logging and monitoring\n- Consider rate limiting and security headers\n- Follow project's database transaction patterns\n\n## Framework-Specific Patterns\n\nI'll adapt to your project's framework:\n- **Express**: Routes, controllers, middleware\n- **Fastify**: Routes, handlers, schemas, plugins\n- **NestJS**: Controllers, services, DTOs, guards\n- **Next.js**: API routes with proper HTTP methods\n- **tRPC**: Procedures with input/output validation\n- **GraphQL**: Resolvers with proper type definitions\n\n## Important Notes\n\n- ALWAYS examine existing endpoints first to understand project patterns\n- Use the same error handling and response format as existing endpoints\n- Follow project's folder structure and naming conventions\n- Don't install new dependencies without asking\n- Consider backward compatibility if modifying existing endpoints\n- Add proper database migrations if schema changes are needed"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# Database Operations\n\nSet up database operations for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize database operations based on the requirements:\n\n1. **Analyze existing database setup**: Check current database configuration, ORM/ODM, and connection patterns\n2. **Identify database type**: Determine if using MongoDB, PostgreSQL, MySQL, or other database\n3. **Examine ORM/ODM**: Check for Prisma, TypeORM, Mongoose, Sequelize, or raw SQL patterns\n4. **Review existing models**: Understand current schema patterns and relationships\n5. **Check migration system**: Identify migration tools and patterns in use\n6. **Implement operations**: Create models, repositories, or services following project architecture\n7. **Add validation**: Include proper schema validation and constraints\n8. **Create tests**: Write database operation tests following project patterns\n9. **Update migrations**: Add necessary database migrations if schema changes required\n\n## Implementation Requirements\n\n- Follow project's database architecture patterns\n- Use existing ORM/ODM configuration and connection setup\n- Include proper TypeScript types for all database operations\n- Add comprehensive error handling and transaction management\n- Implement proper indexing for performance\n- Follow project's naming conventions for tables/collections and fields\n- Consider data validation at both application and database levels\n\n## Database Patterns to Consider\n\nBased on your project setup:\n- **Repository Pattern**: Separate data access logic from business logic\n- **Active Record**: Models with built-in database operations\n- **Data Mapper**: Separate domain models from database schema\n- **Query Builder**: Fluent interface for building database queries\n- **Raw SQL**: Direct database queries for complex operations\n\n## Operation Types\n\nCommon database operations to implement:\n- **CRUD operations**: Create, Read, Update, Delete\n- **Bulk operations**: Batch inserts, updates, deletes\n- **Aggregation**: Complex queries with grouping and calculations\n- **Relationships**: Managing foreign keys and joins\n- **Transactions**: Ensuring data consistency\n- **Migrations**: Schema changes and data transformations\n\n## Important Notes\n\n- ALWAYS examine existing database setup first to understand project patterns\n- Use the same connection configuration and environment variables\n- Follow project's folder structure for models/schemas\n- Don't install new database dependencies without asking\n- Consider performance implications (indexes, query optimization)\n- Add proper database connection pooling if not already configured\n- Include proper cleanup and connection closing in tests"
              },
              {
                "name": "/middleware",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/middleware.md",
                "frontmatter": null,
                "content": "# Express Middleware\n\nCreate Express middleware for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Express middleware based on the requirements:\n\n1. **Analyze existing middleware**: Check current middleware patterns, naming conventions, and file organization\n2. **Examine Express setup**: Review app configuration, middleware stack order, and TypeScript usage\n3. **Identify middleware type**: Determine the middleware category:\n   - Authentication/Authorization (JWT, sessions, role-based)\n   - Validation (request body, params, query validation)\n   - Logging (request/response logging, audit trails)\n   - Error handling (global error handlers, custom errors)\n   - Security (CORS, rate limiting, helmet)\n   - Utility (parsing, compression, static files)\n4. **Check dependencies**: Review existing middleware dependencies to avoid duplication\n5. **Implement middleware**: Create middleware with proper TypeScript types and error handling\n6. **Test middleware**: Write unit and integration tests following project patterns\n7. **Update middleware stack**: Integrate middleware into Express app configuration\n8. **Add documentation**: Include JSDoc comments and usage examples\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing error handling patterns and response formats\n- Include proper request/response typing with custom interfaces\n- Add comprehensive error handling and logging\n- Consider middleware execution order and dependencies\n- Implement proper async/await patterns for async middleware\n- Follow project's folder structure for middleware files\n\n## Middleware Patterns to Consider\n\nBased on the request:\n- **Authentication**: JWT verification, session management, API key validation\n- **Authorization**: Role-based access control, permission checking\n- **Validation**: Schema validation with Joi/Zod, sanitization\n- **Logging**: Request logging, performance monitoring, audit trails\n- **Error Handling**: Global error handlers, custom error classes\n- **Security**: CORS configuration, rate limiting, input sanitization\n- **Utility**: Request parsing, response formatting, caching\n\n## Integration Considerations\n\n- **Middleware order**: Ensure proper execution sequence in Express app\n- **Error propagation**: Handle errors correctly with next() function\n- **Request enhancement**: Add properties to request object with proper typing\n- **Response modification**: Modify response objects while maintaining type safety\n- **Performance**: Consider middleware performance impact on request processing\n\n## Important Notes\n\n- ALWAYS examine existing middleware first to understand project patterns\n- Use the same error handling and response format as existing middleware\n- Follow project's folder structure for middleware (usually /middleware)\n- Don't install new dependencies without asking\n- Consider middleware performance and request processing impact\n- Add proper TypeScript types for enhanced request/response objects\n- Test middleware in isolation and integration contexts"
              },
              {
                "name": "/route",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/route.md",
                "frontmatter": null,
                "content": "# Route Creator\n\nCreate API routes for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize API routes based on the requirements:\n\n1. **Analyze project structure**: Check existing route patterns, folder organization, and framework setup\n2. **Examine framework**: Identify if using Express, Fastify, NestJS, or other Node.js framework\n3. **Review existing routes**: Understand current routing patterns, validation, and error handling\n4. **Check authentication**: Review existing auth middleware and protection patterns\n5. **Define route structure**: Determine HTTP methods, path parameters, and request/response schemas\n6. **Implement routes**: Create route handlers with proper validation and error handling\n7. **Add middleware**: Include authentication, validation, and logging middleware as needed\n8. **Create tests**: Write route tests following project testing patterns\n9. **Update route registration**: Integrate new routes into main router configuration\n\n## Implementation Requirements\n\n- Follow project's routing architecture and naming conventions\n- Use existing validation libraries (Joi, Zod, class-validator, etc.)\n- Include proper TypeScript types for request/response objects\n- Add comprehensive error handling with appropriate HTTP status codes\n- Implement proper authentication/authorization if required\n- Follow RESTful conventions unless project uses different patterns\n- Add proper logging and monitoring integration\n\n## Route Patterns to Consider\n\nBased on the request:\n- **CRUD operations**: Create, Read, Update, Delete for resources\n- **RESTful endpoints**: GET, POST, PUT, PATCH, DELETE with proper semantics\n- **Nested resources**: Parent/child resource relationships\n- **Batch operations**: Bulk create, update, delete operations\n- **Search/filtering**: Query parameters for filtering and pagination\n- **File uploads**: Multipart form handling for file operations\n- **Webhook endpoints**: External service integration points\n\n## Framework-Specific Implementation\n\nAdapt to your project's framework:\n- **Express**: Router instances, middleware chains, route handlers\n- **Fastify**: Route plugins, schema validation, hooks\n- **NestJS**: Controllers, decorators, DTOs, guards, interceptors\n- **Koa**: Router middleware, context handling\n- **Next.js API**: API route handlers with proper HTTP methods\n\n## Important Notes\n\n- ALWAYS examine existing routes first to understand project patterns\n- Use the same validation and error handling patterns as existing routes\n- Follow project's folder structure for routes (usually /routes or /controllers)\n- Don't install new dependencies without asking\n- Consider route performance and database query optimization\n- Add proper OpenAPI/Swagger documentation if project uses it\n- Include rate limiting for public endpoints where appropriate"
              },
              {
                "name": "/component",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/component.md",
                "frontmatter": null,
                "content": "# React Component Generator\n\nCreate a React component named $ARGUMENTS following project conventions.\n\n## Steps\n\n1. **Analyze project structure**: Check existing components to understand file organization, naming conventions, and patterns\n2. **Examine styling approach**: Identify CSS/SCSS modules, styled-components, Tailwind, or other styling methods used\n3. **Review testing patterns**: Check existing test files to understand testing framework and conventions\n4. **Create component structure**: Generate appropriate files (component, styles, tests, index)\n5. **Implement component**: Write TypeScript/JavaScript with proper props interface and logic\n6. **Add tests**: Write comprehensive tests following project patterns\n7. **Verify integration**: Ensure component works with existing project setup\n\n## Requirements\n\n- Follow existing project file structure and naming conventions\n- Use TypeScript if project uses it\n- Include proper accessibility attributes\n- Add responsive design considerations\n- Write tests that match project testing patterns\n- Include usage examples in component documentation\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same styling approach as the rest of the project\n- Follow the project's TypeScript conventions for props and interfaces\n- Don't install new dependencies without asking first"
              },
              {
                "name": "/hooks",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/hooks.md",
                "frontmatter": null,
                "content": "# React Hooks\n\nCreate or optimize React hooks for $ARGUMENTS following project conventions.\n\n## Task\n\nAnalyze the request and create appropriate React hooks:\n\n1. **Examine existing hooks**: Check project for existing custom hooks patterns and conventions\n2. **Identify hook type**: Determine if creating new custom hook, optimizing existing hook, or implementing specific hook pattern\n3. **Check TypeScript usage**: Verify if project uses TypeScript and follow typing conventions\n4. **Implement hook**: Create hook with proper:\n   - Naming convention (use prefix)\n   - TypeScript types and interfaces\n   - Proper dependency arrays\n   - Error handling\n   - Performance optimizations\n5. **Add tests**: Create comprehensive unit tests using project's testing framework\n6. **Add documentation**: Include JSDoc comments and usage examples\n\n## Common Hook Patterns\n\nWhen creating hooks, consider these patterns based on the request:\n- **Data fetching**: API calls, loading states, error handling\n- **State management**: Local state, derived state, state persistence\n- **Side effects**: Event listeners, timers, subscriptions\n- **Context consumption**: Theme, auth, app state\n- **Form handling**: Input management, validation, submission\n- **Performance**: Memoization, debouncing, throttling\n\n## Requirements\n\n- Follow existing project hook conventions\n- Use TypeScript if project uses it\n- Include proper cleanup in useEffect\n- Add error boundaries where appropriate\n- Write tests that cover all hook functionality\n- IMPORTANT: Always check existing hooks first to understand project patterns\n\n## Notes\n\n- Ask for clarification if the hook requirements are ambiguous\n- Suggest optimizations for existing hooks if relevant\n- Consider accessibility implications for UI-related hooks"
              },
              {
                "name": "/state-management",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/state-management.md",
                "frontmatter": null,
                "content": "# React State Management\n\nImplement state management solution for $ARGUMENTS following project conventions.\n\n## Task\n\nSet up or optimize state management based on the requirements:\n\n1. **Analyze current setup**: Check existing state management approach and project structure\n2. **Determine solution**: Based on requirements, choose appropriate state management:\n   - Context API for simple, localized state\n   - Redux Toolkit for complex, global state\n   - Zustand for lightweight global state\n   - Custom hooks for component-level state\n3. **Examine dependencies**: Check package.json for existing state management libraries\n4. **Implement solution**: Create store, providers, and hooks with proper TypeScript types\n5. **Set up middleware**: Add devtools, persistence, or other middleware as needed\n6. **Create typed hooks**: Generate properly typed selectors and dispatch hooks\n7. **Add tests**: Write unit tests for state logic and reducers\n8. **Update providers**: Integrate with app's provider hierarchy\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions\n- Use existing state management patterns if present\n- Create proper type definitions for state shape\n- Include error handling and loading states\n- Add proper debugging setup (devtools)\n- Consider performance optimizations (selectors, memoization)\n\n## State Management Selection Guide\n\nChoose based on complexity:\n- **Simple state**: React hooks + Context API\n- **Medium complexity**: Zustand or custom hooks\n- **Complex state**: Redux Toolkit with RTK Query\n- **Form state**: React Hook Form or Formik\n\n## Important Notes\n\n- ALWAYS check existing state management first\n- Don't install new dependencies without asking\n- Follow project's folder structure for state files\n- Consider server state vs client state separation\n- Add proper TypeScript types for all state interfaces"
              },
              {
                "name": "/components",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/vue-app/.claude/commands/components.md",
                "frontmatter": null,
                "content": "# Vue Components\n\nCreate Vue Single File Components for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Vue components based on the requirements:\n\n1. **Analyze project structure**: Check existing Vue components to understand patterns, conventions, and file organization\n2. **Examine Vue setup**: Identify Vue version (2/3), TypeScript usage, and Composition/Options API preference\n3. **Check styling approach**: Determine if using CSS modules, SCSS, styled-components, or other styling methods\n4. **Review testing patterns**: Check existing component tests to understand testing framework and conventions\n5. **Create component structure**: Generate SFC with template, script, and style sections\n6. **Implement component**: Write TypeScript interfaces, props, emits, and component logic\n7. **Add accessibility**: Include proper ARIA attributes and semantic HTML\n8. **Create tests**: Write comprehensive component tests following project patterns\n9. **Add documentation**: Include JSDoc comments and usage examples\n\n## Component Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing component patterns and naming conventions\n- Implement proper props validation and typing\n- Add appropriate event emissions with TypeScript signatures\n- Include scoped styles following project's styling approach\n- Add proper accessibility attributes (ARIA, semantic HTML)\n- Consider responsive design if applicable\n\n## Vue Patterns to Consider\n\nBased on the component type:\n- **Composition API**: For Vue 3 projects with `<script setup>`\n- **Options API**: For Vue 2 or legacy Vue 3 projects\n- **Composables**: Extract reusable logic into composables\n- **Provide/Inject**: For deep component communication\n- **Slots**: For flexible component content\n- **Teleport**: For portal-like functionality (Vue 3)\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same Vue API style (Composition vs Options) as the project\n- Follow project's folder structure for components\n- Don't install new dependencies without asking\n- Consider component performance (v-memo, computed properties)\n- Add proper TypeScript types for all props and emits"
              },
              {
                "name": "/composables",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/vue-app/.claude/commands/composables.md",
                "frontmatter": null,
                "content": "# Vue Composables\n\nCreate Vue composables for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Vue composables based on the requirements:\n\n1. **Analyze existing composables**: Check project for existing composable patterns, naming conventions, and file organization\n2. **Examine Vue setup**: Verify Vue 3 Composition API usage and TypeScript configuration\n3. **Identify composable type**: Determine the composable category:\n   - State management (reactive data, computed properties)\n   - API/HTTP operations (data fetching, mutations)\n   - DOM interactions (event listeners, element refs)\n   - Utility functions (validation, formatting, storage)\n   - Lifecycle management (cleanup, watchers)\n4. **Check dependencies**: Review existing composables to avoid duplication\n5. **Implement composable**: Create composable with proper TypeScript types and reactivity\n6. **Add lifecycle management**: Include proper cleanup with onUnmounted when needed\n7. **Create tests**: Write comprehensive unit tests for composable logic\n8. **Add documentation**: Include JSDoc comments and usage examples\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use appropriate Vue reactivity APIs (ref, reactive, computed, watch)\n- Include proper error handling and loading states\n- Add cleanup for side effects (event listeners, timers, subscriptions)\n- Make composables reusable and focused on single responsibility\n- Consider performance implications (shallow vs deep reactivity)\n\n## Common Composable Patterns\n\nBased on the request:\n- **Data fetching**: API calls with loading/error states\n- **Form handling**: Input management, validation, submission\n- **State management**: Local state, persistence, computed values\n- **DOM utilities**: Element refs, event handling, intersection observer\n- **Storage**: localStorage, sessionStorage, IndexedDB\n- **Authentication**: User state, token management, permissions\n- **UI utilities**: Dark mode, responsive breakpoints, modals\n\n## Important Notes\n\n- ALWAYS examine existing composables first to understand project patterns\n- Use proper Vue 3 Composition API patterns\n- Follow project's folder structure for composables (usually /composables)\n- Don't install new dependencies without asking\n- Consider composable composition (using other composables within composables)\n- Add proper TypeScript return types and generic constraints\n- Include proper reactivity patterns (avoid losing reactivity)"
              },
              {
                "name": "/lint",
                "description": null,
                "path": "cli-tool/templates/python/.claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Python Linter\n\nRun Python code linting and formatting tools.\n\n## Purpose\n\nThis command helps you maintain code quality using Python's best linting and formatting tools.\n\n## Usage\n\n```\n/lint\n```\n\n## What this command does\n\n1. **Runs multiple linters** (flake8, pylint, black, isort)\n2. **Provides detailed feedback** on code quality issues\n3. **Auto-fixes formatting** where possible\n4. **Checks type hints** if mypy is configured\n\n## Example Commands\n\n### Black (code formatting)\n```bash\n# Format all Python files\nblack .\n\n# Check formatting without changing files\nblack --check .\n\n# Format specific file\nblack src/main.py\n```\n\n### flake8 (style guide enforcement)\n```bash\n# Check all Python files\nflake8 .\n\n# Check specific directory\nflake8 src/\n\n# Check with specific rules\nflake8 --max-line-length=88 .\n```\n\n### isort (import sorting)\n```bash\n# Sort imports in all files\nisort .\n\n# Check import sorting\nisort --check-only .\n\n# Sort imports in specific file\nisort src/main.py\n```\n\n### pylint (comprehensive linting)\n```bash\n# Run pylint on all files\npylint src/\n\n# Run with specific score threshold\npylint --fail-under=8.0 src/\n\n# Generate detailed report\npylint --output-format=html src/ > pylint_report.html\n```\n\n### mypy (type checking)\n```bash\n# Check types in all files\nmypy .\n\n# Check specific module\nmypy src/models.py\n\n# Check with strict mode\nmypy --strict src/\n```\n\n## Configuration Files\n\nMost projects benefit from configuration files:\n\n### .flake8\n```ini\n[flake8]\nmax-line-length = 88\nexclude = .git,__pycache__,venv\nignore = E203,W503\n```\n\n### pyproject.toml\n```toml\n[tool.black]\nline-length = 88\n\n[tool.isort]\nprofile = \"black\"\n```\n\n## Best Practices\n\n- Run linters before committing code\n- Use consistent formatting across the project\n- Fix linting issues promptly\n- Configure linters to match your team's style\n- Use type hints for better code documentation"
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/python/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Runner\n\nRun Python tests with pytest, unittest, or other testing frameworks.\n\n## Purpose\n\nThis command helps you run Python tests effectively with proper configuration and reporting.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Detects test framework** (pytest, unittest, nose2)\n2. **Runs appropriate tests** with proper configuration\n3. **Provides coverage reporting** if available\n4. **Shows clear test results** with failure details\n\n## Example Commands\n\n### pytest (recommended)\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=src --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n\n# Run tests matching pattern\npytest -k \"test_user\"\n```\n\n### unittest\n```bash\n# Run all tests\npython -m unittest discover\n\n# Run specific test file\npython -m unittest tests.test_models\n\n# Run with verbose output\npython -m unittest -v\n```\n\n### Django tests\n```bash\n# Run all Django tests\npython manage.py test\n\n# Run specific app tests\npython manage.py test myapp\n\n# Run with coverage\ncoverage run --source='.' manage.py test\ncoverage report\n```\n\n## Best Practices\n\n- Write tests for all critical functionality\n- Use descriptive test names\n- Keep tests isolated and independent\n- Mock external dependencies\n- Aim for high test coverage (80%+)"
              },
              {
                "name": "/admin",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/admin.md",
                "frontmatter": null,
                "content": "# Django Admin Configuration\n\nConfigure Django admin interface with custom admin classes and functionality.\n\n## Purpose\n\nThis command helps you create comprehensive Django admin configurations with advanced features and customizations.\n\n## Usage\n\n```\n/admin\n```\n\n## What this command does\n\n1. **Registers models** with custom admin classes\n2. **Creates advanced admin interfaces** with filtering, search, and actions\n3. **Adds inline editing** for related models\n4. **Customizes list displays** and forms\n5. **Implements admin actions** for bulk operations\n\n## Example Output\n\n```python\n# admin.py\nfrom django.contrib import admin\nfrom django.utils.html import format_html\nfrom django.urls import reverse\nfrom django.utils.safestring import mark_safe\nfrom .models import Post, Category, Tag, Comment\n\n@admin.register(Category)\nclass CategoryAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Category model.\"\"\"\n    list_display = ['name', 'slug', 'post_count', 'created_at']\n    list_filter = ['created_at']\n    search_fields = ['name', 'description']\n    prepopulated_fields = {'slug': ('name',)}\n    readonly_fields = ['created_at', 'updated_at']\n    \n    def post_count(self, obj):\n        \"\"\"Display number of posts in this category.\"\"\"\n        count = obj.posts.count()\n        url = reverse('admin:blog_post_changelist') + f'?category__id__exact={obj.id}'\n        return format_html('<a href=\"{}\">{} posts</a>', url, count)\n    post_count.short_description = 'Posts'\n\nclass CommentInline(admin.TabularInline):\n    \"\"\"Inline admin for comments.\"\"\"\n    model = Comment\n    extra = 0\n    readonly_fields = ['created_at', 'author']\n    fields = ['author', 'content', 'is_approved', 'created_at']\n\n@admin.register(Post)\nclass PostAdmin(admin.ModelAdmin):\n    \"\"\"Advanced admin configuration for Post model.\"\"\"\n    list_display = [\n        'title', \n        'author', \n        'category', \n        'status', \n        'view_count',\n        'created_at',\n        'post_preview'\n    ]\n    list_filter = [\n        'status', \n        'category', \n        'created_at', \n        'updated_at',\n        ('author', admin.RelatedOnlyFieldListFilter)\n    ]\n    search_fields = ['title', 'content', 'author__username']\n    prepopulated_fields = {'slug': ('title',)}\n    readonly_fields = ['created_at', 'updated_at', 'view_count', 'post_preview']\n    \n    # Custom form layout\n    fieldsets = (\n        ('Content', {\n            'fields': ('title', 'slug', 'content', 'status')\n        }),\n        ('Metadata', {\n            'fields': ('author', 'category', 'tags'),\n            'classes': ('collapse',)\n        }),\n        ('SEO', {\n            'fields': ('meta_description', 'meta_keywords'),\n            'classes': ('collapse',)\n        }),\n        ('Timestamps', {\n            'fields': ('created_at', 'updated_at', 'view_count'),\n            'classes': ('collapse',)\n        }),\n    )\n    \n    # Many-to-many field display\n    filter_horizontal = ['tags']\n    \n    # Inline models\n    inlines = [CommentInline]\n    \n    # Custom list display methods\n    def post_preview(self, obj):\n        \"\"\"Show thumbnail preview of post.\"\"\"\n        if obj.featured_image:\n            return format_html(\n                '<img src=\"{}\" width=\"50\" height=\"50\" style=\"border-radius: 5px;\" />',\n                obj.featured_image.url\n            )\n        return \"No image\"\n    post_preview.short_description = 'Preview'\n    \n    # Custom admin actions\n    actions = ['make_published', 'make_draft', 'duplicate_posts']\n    \n    def make_published(self, request, queryset):\n        \"\"\"Bulk action to publish selected posts.\"\"\"\n        updated = queryset.update(status='published')\n        self.message_user(\n            request, \n            f'{updated} posts were successfully marked as published.'\n        )\n    make_published.short_description = \"Mark selected posts as published\"\n    \n    def make_draft(self, request, queryset):\n        \"\"\"Bulk action to set selected posts as draft.\"\"\"\n        updated = queryset.update(status='draft')\n        self.message_user(\n            request, \n            f'{updated} posts were successfully marked as draft.'\n        )\n    make_draft.short_description = \"Mark selected posts as draft\"\n    \n    def duplicate_posts(self, request, queryset):\n        \"\"\"Bulk action to duplicate selected posts.\"\"\"\n        count = 0\n        for post in queryset:\n            post.pk = None  # Create new instance\n            post.title = f\"Copy of {post.title}\"\n            post.slug = f\"copy-of-{post.slug}\"\n            post.status = 'draft'\n            post.save()\n            count += 1\n        \n        self.message_user(\n            request,\n            f'{count} posts were successfully duplicated.'\n        )\n    duplicate_posts.short_description = \"Duplicate selected posts\"\n\n@admin.register(Tag)\nclass TagAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Tag model.\"\"\"\n    list_display = ['name', 'slug', 'post_count', 'color_preview']\n    search_fields = ['name']\n    prepopulated_fields = {'slug': ('name',)}\n    \n    def post_count(self, obj):\n        \"\"\"Display number of posts with this tag.\"\"\"\n        return obj.posts.count()\n    post_count.short_description = 'Posts'\n    \n    def color_preview(self, obj):\n        \"\"\"Show color preview if tag has color field.\"\"\"\n        if hasattr(obj, 'color') and obj.color:\n            return format_html(\n                '<span style=\"background-color: {}; padding: 2px 8px; border-radius: 3px; color: white;\">{}</span>',\n                obj.color,\n                obj.name\n            )\n        return obj.name\n    color_preview.short_description = 'Preview'\n\n@admin.register(Comment)\nclass CommentAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Comment model.\"\"\"\n    list_display = ['author', 'post', 'content_preview', 'is_approved', 'created_at']\n    list_filter = ['is_approved', 'created_at', 'post__category']\n    search_fields = ['content', 'author__username', 'post__title']\n    readonly_fields = ['created_at', 'updated_at']\n    actions = ['approve_comments', 'disapprove_comments']\n    \n    def content_preview(self, obj):\n        \"\"\"Show truncated content preview.\"\"\"\n        return obj.content[:50] + \"...\" if len(obj.content) > 50 else obj.content\n    content_preview.short_description = 'Content'\n    \n    def approve_comments(self, request, queryset):\n        \"\"\"Bulk approve comments.\"\"\"\n        updated = queryset.update(is_approved=True)\n        self.message_user(request, f'{updated} comments were approved.')\n    approve_comments.short_description = \"Approve selected comments\"\n    \n    def disapprove_comments(self, request, queryset):\n        \"\"\"Bulk disapprove comments.\"\"\"\n        updated = queryset.update(is_approved=False)\n        self.message_user(request, f'{updated} comments were disapproved.')\n    disapprove_comments.short_description = \"Disapprove selected comments\"\n\n# Custom admin site configuration\nadmin.site.site_header = \"Blog Administration\"\nadmin.site.site_title = \"Blog Admin Portal\"\nadmin.site.index_title = \"Welcome to Blog Administration\"\n```\n\n## Advanced Features\n\n### Custom List Display\n- **Thumbnail previews** for images\n- **Related object counts** with links\n- **Status indicators** with colors\n- **Custom formatting** for data display\n\n### Filtering and Search\n- **Advanced filters** including date ranges\n- **Related field filtering** for foreign keys\n- **Search across multiple fields** including relations\n- **Custom filter classes** for complex queries\n\n### Inline Editing\n- **TabularInline** for compact editing\n- **StackedInline** for detailed forms\n- **Custom inline forms** with additional functionality\n- **Readonly fields** in inlines\n\n### Bulk Actions\n- **Status changes** for multiple objects\n- **Data export** functionality\n- **Batch operations** for efficiency\n- **Custom business logic** in actions\n\n### Form Customization\n- **Fieldsets** for organized layouts\n- **Collapsed sections** for advanced options\n- **Custom widgets** for better UX\n- **Validation** and error handling\n\n## Security Considerations\n\n- **Permission checks** in custom methods\n- **Input sanitization** in admin actions\n- **CSRF protection** (automatic)\n- **User authentication** (built-in)\n\n## Performance Optimization\n\n```python\n# Optimize queries with select_related/prefetch_related\nclass PostAdmin(admin.ModelAdmin):\n    def get_queryset(self, request):\n        queryset = super().get_queryset(request)\n        return queryset.select_related('author', 'category').prefetch_related('tags')\n```\n\n## Custom Admin Templates\n\n```python\n# Override admin templates\nclass PostAdmin(admin.ModelAdmin):\n    change_form_template = 'admin/blog/post/change_form.html'\n    change_list_template = 'admin/blog/post/change_list.html'\n```"
              },
              {
                "name": "/django-model",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/django-model.md",
                "frontmatter": null,
                "content": "# Django Model Generator\n\nCreate Django models with proper structure and relationships.\n\n## Purpose\n\nThis command helps you quickly create Django models with fields, relationships, and best practices.\n\n## Usage\n\n```\n/django-model\n```\n\n## What this command does\n\n1. **Creates model classes** with proper field definitions\n2. **Adds relationships** (ForeignKey, ManyToMany, OneToOne)\n3. **Includes meta options** and model methods\n4. **Generates migrations** automatically\n5. **Follows Django conventions** and best practices\n\n## Example Output\n\n```python\n# models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass Category(models.Model):\n    name = models.CharField(max_length=100, unique=True)\n    slug = models.SlugField(unique=True)\n    description = models.TextField(blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    \n    class Meta:\n        verbose_name_plural = \"categories\"\n        ordering = ['name']\n    \n    def __str__(self):\n        return self.name\n\nclass Post(models.Model):\n    STATUS_CHOICES = [\n        ('draft', 'Draft'),\n        ('published', 'Published'),\n        ('archived', 'Archived'),\n    ]\n    \n    title = models.CharField(max_length=200)\n    slug = models.SlugField(unique=True)\n    content = models.TextField()\n    status = models.CharField(max_length=20, choices=STATUS_CHOICES, default='draft')\n    author = models.ForeignKey(User, on_delete=models.CASCADE, related_name='posts')\n    category = models.ForeignKey(Category, on_delete=models.SET_NULL, null=True, blank=True)\n    tags = models.ManyToManyField('Tag', blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    \n    class Meta:\n        ordering = ['-created_at']\n        verbose_name = 'blog post'\n        verbose_name_plural = 'blog posts'\n    \n    def __str__(self):\n        return self.title\n    \n    def get_absolute_url(self):\n        return reverse('post_detail', kwargs={'slug': self.slug})\n\nclass Tag(models.Model):\n    name = models.CharField(max_length=50, unique=True)\n    slug = models.SlugField(unique=True)\n    \n    def __str__(self):\n        return self.name\n```\n\n## Field Types Supported\n\n- **CharField** - Text fields with max length\n- **TextField** - Large text fields\n- **IntegerField** - Integer numbers\n- **FloatField** - Floating point numbers\n- **BooleanField** - True/False values\n- **DateField** - Date only\n- **DateTimeField** - Date and time\n- **EmailField** - Email addresses\n- **URLField** - URLs\n- **ImageField** - Image uploads\n- **FileField** - File uploads\n- **JSONField** - JSON data (PostgreSQL)\n\n## Relationships\n\n- **ForeignKey** - One-to-many relationships\n- **ManyToManyField** - Many-to-many relationships\n- **OneToOneField** - One-to-one relationships\n\n## Best Practices Included\n\n- Proper field choices and defaults\n- Appropriate related_name attributes\n- __str__ methods for admin interface\n- Meta class with ordering and verbose names\n- get_absolute_url methods where appropriate\n- Proper use of null and blank parameters\n- Field validation and constraints\n\n## After Creating Models\n\n```bash\n# Create and apply migrations\npython manage.py makemigrations\npython manage.py migrate\n\n# Register in admin (optional)\n# Add to admin.py:\nfrom django.contrib import admin\nfrom .models import Post, Category, Tag\n\nadmin.site.register([Post, Category, Tag])\n```"
              },
              {
                "name": "/views",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/views.md",
                "frontmatter": null,
                "content": "# Django Views Generator\n\nCreate Django views with proper structure and best practices.\n\n## Purpose\n\nThis command helps you quickly create Django views (Function-Based Views and Class-Based Views) following Django conventions.\n\n## Usage\n\n```\n/views\n```\n\n## What this command does\n\n1. **Creates view functions/classes** with proper structure\n2. **Handles HTTP methods** (GET, POST, PUT, DELETE)\n3. **Includes form handling** and validation\n4. **Adds authentication/authorization** checks\n5. **Follows Django best practices** and security guidelines\n\n## Example Output\n\n```python\n# views.py\nfrom django.shortcuts import render, get_object_or_404, redirect\nfrom django.contrib.auth.decorators import login_required\nfrom django.contrib import messages\nfrom django.http import JsonResponse\nfrom django.views.generic import ListView, DetailView, CreateView, UpdateView, DeleteView\nfrom django.contrib.auth.mixins import LoginRequiredMixin\nfrom django.urls import reverse_lazy\nfrom .models import Post, Category\nfrom .forms import PostForm\n\n# Function-Based Views\ndef post_list(request):\n    \"\"\"Display list of posts with pagination and filtering.\"\"\"\n    posts = Post.objects.filter(status='published').select_related('author', 'category')\n    \n    # Search functionality\n    search_query = request.GET.get('search')\n    if search_query:\n        posts = posts.filter(title__icontains=search_query)\n    \n    # Category filtering\n    category_id = request.GET.get('category')\n    if category_id:\n        posts = posts.filter(category_id=category_id)\n    \n    context = {\n        'posts': posts,\n        'categories': Category.objects.all(),\n        'search_query': search_query,\n    }\n    return render(request, 'blog/post_list.html', context)\n\ndef post_detail(request, slug):\n    \"\"\"Display individual post details.\"\"\"\n    post = get_object_or_404(Post, slug=slug, status='published')\n    \n    context = {\n        'post': post,\n        'related_posts': Post.objects.filter(\n            category=post.category,\n            status='published'\n        ).exclude(id=post.id)[:3]\n    }\n    return render(request, 'blog/post_detail.html', context)\n\n@login_required\ndef post_create(request):\n    \"\"\"Create new post.\"\"\"\n    if request.method == 'POST':\n        form = PostForm(request.POST, request.FILES)\n        if form.is_valid():\n            post = form.save(commit=False)\n            post.author = request.user\n            post.save()\n            form.save_m2m()  # Save many-to-many relationships\n            messages.success(request, 'Post created successfully!')\n            return redirect('post_detail', slug=post.slug)\n    else:\n        form = PostForm()\n    \n    return render(request, 'blog/post_form.html', {'form': form})\n\n@login_required\ndef post_edit(request, slug):\n    \"\"\"Edit existing post.\"\"\"\n    post = get_object_or_404(Post, slug=slug, author=request.user)\n    \n    if request.method == 'POST':\n        form = PostForm(request.POST, request.FILES, instance=post)\n        if form.is_valid():\n            form.save()\n            messages.success(request, 'Post updated successfully!')\n            return redirect('post_detail', slug=post.slug)\n    else:\n        form = PostForm(instance=post)\n    \n    return render(request, 'blog/post_form.html', {\n        'form': form, \n        'post': post\n    })\n\n# Class-Based Views\nclass PostListView(ListView):\n    \"\"\"List view for posts with pagination.\"\"\"\n    model = Post\n    template_name = 'blog/post_list.html'\n    context_object_name = 'posts'\n    paginate_by = 10\n    \n    def get_queryset(self):\n        return Post.objects.filter(status='published').select_related('author', 'category')\n    \n    def get_context_data(self, **kwargs):\n        context = super().get_context_data(**kwargs)\n        context['categories'] = Category.objects.all()\n        return context\n\nclass PostDetailView(DetailView):\n    \"\"\"Detail view for individual posts.\"\"\"\n    model = Post\n    template_name = 'blog/post_detail.html'\n    context_object_name = 'post'\n    \n    def get_queryset(self):\n        return Post.objects.filter(status='published')\n\nclass PostCreateView(LoginRequiredMixin, CreateView):\n    \"\"\"Create view for new posts.\"\"\"\n    model = Post\n    form_class = PostForm\n    template_name = 'blog/post_form.html'\n    \n    def form_valid(self, form):\n        form.instance.author = self.request.user\n        return super().form_valid(form)\n\nclass PostUpdateView(LoginRequiredMixin, UpdateView):\n    \"\"\"Update view for existing posts.\"\"\"\n    model = Post\n    form_class = PostForm\n    template_name = 'blog/post_form.html'\n    \n    def get_queryset(self):\n        return Post.objects.filter(author=self.request.user)\n\nclass PostDeleteView(LoginRequiredMixin, DeleteView):\n    \"\"\"Delete view for posts.\"\"\"\n    model = Post\n    template_name = 'blog/post_confirm_delete.html'\n    success_url = reverse_lazy('post_list')\n    \n    def get_queryset(self):\n        return Post.objects.filter(author=self.request.user)\n\n# API Views\ndef api_post_list(request):\n    \"\"\"API endpoint for post list.\"\"\"\n    posts = Post.objects.filter(status='published').values(\n        'id', 'title', 'slug', 'created_at', 'author__username'\n    )\n    return JsonResponse(list(posts), safe=False)\n```\n\n## View Types Supported\n\n- **Function-Based Views (FBV)** - Simple, explicit control\n- **Class-Based Views (CBV)** - Reusable, inheritance-based\n- **Generic Views** - ListView, DetailView, CreateView, etc.\n- **API Views** - JSON responses for AJAX/API calls\n\n## Features Included\n\n- **Authentication checks** with decorators/mixins\n- **Permission handling** for user authorization\n- **Form processing** with validation\n- **Error handling** and user feedback\n- **SEO-friendly URLs** with slugs\n- **Database optimization** with select_related/prefetch_related\n- **Pagination** for large datasets\n- **Search and filtering** functionality\n\n## Security Best Practices\n\n- CSRF protection (automatic with forms)\n- User authentication and authorization\n- SQL injection prevention (ORM)\n- XSS protection with template escaping\n- Proper error handling\n\n## URL Configuration\n\n```python\n# urls.py\nfrom django.urls import path\nfrom . import views\n\napp_name = 'blog'\n\nurlpatterns = [\n    # Function-based views\n    path('', views.post_list, name='post_list'),\n    path('post/<slug:slug>/', views.post_detail, name='post_detail'),\n    path('create/', views.post_create, name='post_create'),\n    path('edit/<slug:slug>/', views.post_edit, name='post_edit'),\n    \n    # Class-based views\n    path('posts/', views.PostListView.as_view(), name='post_list_cbv'),\n    path('posts/<slug:slug>/', views.PostDetailView.as_view(), name='post_detail_cbv'),\n    path('posts/create/', views.PostCreateView.as_view(), name='post_create_cbv'),\n    path('posts/<slug:slug>/edit/', views.PostUpdateView.as_view(), name='post_edit_cbv'),\n    path('posts/<slug:slug>/delete/', views.PostDeleteView.as_view(), name='post_delete_cbv'),\n    \n    # API endpoints\n    path('api/posts/', views.api_post_list, name='api_post_list'),\n]\n```"
              },
              {
                "name": "/api-endpoints",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/api-endpoints.md",
                "frontmatter": null,
                "content": "# FastAPI Endpoints Generator\n\nCreate comprehensive FastAPI endpoints with proper structure, validation, and documentation.\n\n## Purpose\n\nThis command helps you quickly create FastAPI endpoints with Pydantic models, dependency injection, and automatic API documentation.\n\n## Usage\n\n```\n/api-endpoints\n```\n\n## What this command does\n\n1. **Creates API endpoints** with proper HTTP methods\n2. **Adds Pydantic models** for request/response validation\n3. **Implements dependency injection** for database and auth\n4. **Includes error handling** and status codes\n5. **Generates automatic documentation** with OpenAPI\n\n## Example Output\n\n```python\n# main.py\nfrom fastapi import FastAPI, Depends, HTTPException, status\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom fastapi.security import HTTPBearer, HTTPAuthorizationCredentials\nfrom sqlalchemy.orm import Session\nimport uvicorn\n\nfrom app.database import get_db, engine\nfrom app.models import models\nfrom app.routers import auth, users, posts, comments\nfrom app.core.config import settings\n\n# Create database tables\nmodels.Base.metadata.create_all(bind=engine)\n\n# Initialize FastAPI app\napp = FastAPI(\n    title=\"Blog API\",\n    description=\"A comprehensive blog API built with FastAPI\",\n    version=\"1.0.0\",\n    docs_url=\"/docs\",\n    redoc_url=\"/redoc\"\n)\n\n# Add CORS middleware\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=settings.ALLOWED_HOSTS,\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n\n# Include routers\napp.include_router(auth.router, prefix=\"/auth\", tags=[\"Authentication\"])\napp.include_router(users.router, prefix=\"/users\", tags=[\"Users\"])\napp.include_router(posts.router, prefix=\"/posts\", tags=[\"Posts\"])\napp.include_router(comments.router, prefix=\"/comments\", tags=[\"Comments\"])\n\n@app.get(\"/\", tags=[\"Root\"])\nasync def root():\n    \"\"\"API root endpoint.\"\"\"\n    return {\n        \"message\": \"Welcome to Blog API\",\n        \"version\": \"1.0.0\",\n        \"docs\": \"/docs\",\n        \"redoc\": \"/redoc\"\n    }\n\n@app.get(\"/health\", tags=[\"Health\"])\nasync def health_check():\n    \"\"\"Health check endpoint.\"\"\"\n    return {\"status\": \"healthy\", \"timestamp\": \"2024-01-01T00:00:00Z\"}\n\nif __name__ == \"__main__\":\n    uvicorn.run(\n        \"main:app\",\n        host=\"0.0.0.0\",\n        port=8000,\n        reload=True\n    )\n```\n\n```python\n# app/routers/posts.py\nfrom typing import List, Optional\nfrom fastapi import APIRouter, Depends, HTTPException, status, Query\nfrom sqlalchemy.orm import Session\n\nfrom app.database import get_db\nfrom app.schemas import post_schemas\nfrom app.services import post_service\nfrom app.core.dependencies import get_current_user, get_current_active_user\nfrom app.models.user import User\n\nrouter = APIRouter()\n\n@router.get(\"/\", response_model=List[post_schemas.PostResponse])\nasync def get_posts(\n    skip: int = Query(0, ge=0, description=\"Number of posts to skip\"),\n    limit: int = Query(10, ge=1, le=100, description=\"Number of posts to return\"),\n    search: Optional[str] = Query(None, description=\"Search in title and content\"),\n    category: Optional[str] = Query(None, description=\"Filter by category\"),\n    published: Optional[bool] = Query(True, description=\"Filter by published status\"),\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get all posts with pagination and filtering.\n    \n    - **skip**: Number of posts to skip (for pagination)\n    - **limit**: Maximum number of posts to return (1-100)\n    - **search**: Search term for title and content\n    - **category**: Filter posts by category\n    - **published**: Filter by published status\n    \"\"\"\n    posts = post_service.get_posts(\n        db=db,\n        skip=skip,\n        limit=limit,\n        search=search,\n        category=category,\n        published=published\n    )\n    return posts\n\n@router.get(\"/{post_id}\", response_model=post_schemas.PostResponse)\nasync def get_post(\n    post_id: int,\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get a specific post by ID.\n    \n    - **post_id**: Unique identifier for the post\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    return post\n\n@router.post(\"/\", response_model=post_schemas.PostResponse, status_code=status.HTTP_201_CREATED)\nasync def create_post(\n    post: post_schemas.PostCreate,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Create a new post.\n    \n    - **title**: Post title (required)\n    - **content**: Post content (required)\n    - **category**: Post category (optional)\n    - **published**: Publication status (default: false)\n    \"\"\"\n    return post_service.create_post(\n        db=db,\n        post=post,\n        user_id=current_user.id\n    )\n\n@router.put(\"/{post_id}\", response_model=post_schemas.PostResponse)\nasync def update_post(\n    post_id: int,\n    post_update: post_schemas.PostUpdate,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Update an existing post.\n    \n    - **post_id**: Unique identifier for the post\n    - **title**: Updated post title (optional)\n    - **content**: Updated post content (optional)\n    - **category**: Updated post category (optional)\n    - **published**: Updated publication status (optional)\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    if post.author_id != current_user.id:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not authorized to update this post\"\n        )\n    \n    return post_service.update_post(\n        db=db,\n        post_id=post_id,\n        post_update=post_update\n    )\n\n@router.delete(\"/{post_id}\", status_code=status.HTTP_204_NO_CONTENT)\nasync def delete_post(\n    post_id: int,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Delete a post.\n    \n    - **post_id**: Unique identifier for the post to delete\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    if post.author_id != current_user.id:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not authorized to delete this post\"\n        )\n    \n    post_service.delete_post(db=db, post_id=post_id)\n\n@router.post(\"/{post_id}/like\", response_model=post_schemas.PostResponse)\nasync def like_post(\n    post_id: int,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Like/unlike a post.\n    \n    - **post_id**: Unique identifier for the post to like\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    return post_service.toggle_like(\n        db=db,\n        post_id=post_id,\n        user_id=current_user.id\n    )\n\n@router.get(\"/{post_id}/comments\", response_model=List[post_schemas.CommentResponse])\nasync def get_post_comments(\n    post_id: int,\n    skip: int = Query(0, ge=0),\n    limit: int = Query(10, ge=1, le=100),\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get all comments for a specific post.\n    \n    - **post_id**: Unique identifier for the post\n    - **skip**: Number of comments to skip\n    - **limit**: Maximum number of comments to return\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    return post_service.get_post_comments(\n        db=db,\n        post_id=post_id,\n        skip=skip,\n        limit=limit\n    )\n```\n\n```python\n# app/schemas/post_schemas.py\nfrom typing import Optional, List\nfrom datetime import datetime\nfrom pydantic import BaseModel, Field, validator\n\nclass PostBase(BaseModel):\n    \"\"\"Base post schema.\"\"\"\n    title: str = Field(..., min_length=1, max_length=200, description=\"Post title\")\n    content: str = Field(..., min_length=1, description=\"Post content\")\n    category: Optional[str] = Field(None, max_length=50, description=\"Post category\")\n    published: bool = Field(False, description=\"Publication status\")\n\nclass PostCreate(PostBase):\n    \"\"\"Schema for creating a post.\"\"\"\n    \n    @validator('title')\n    def validate_title(cls, v):\n        if not v.strip():\n            raise ValueError('Title cannot be empty')\n        return v.strip()\n    \n    @validator('content')\n    def validate_content(cls, v):\n        if len(v.strip()) < 10:\n            raise ValueError('Content must be at least 10 characters long')\n        return v.strip()\n\nclass PostUpdate(BaseModel):\n    \"\"\"Schema for updating a post.\"\"\"\n    title: Optional[str] = Field(None, min_length=1, max_length=200)\n    content: Optional[str] = Field(None, min_length=1)\n    category: Optional[str] = Field(None, max_length=50)\n    published: Optional[bool] = None\n    \n    @validator('title')\n    def validate_title(cls, v):\n        if v is not None and not v.strip():\n            raise ValueError('Title cannot be empty')\n        return v.strip() if v else v\n    \n    @validator('content')\n    def validate_content(cls, v):\n        if v is not None and len(v.strip()) < 10:\n            raise ValueError('Content must be at least 10 characters long')\n        return v.strip() if v else v\n\nclass PostResponse(PostBase):\n    \"\"\"Schema for post responses.\"\"\"\n    id: int\n    author_id: int\n    created_at: datetime\n    updated_at: datetime\n    like_count: int = 0\n    comment_count: int = 0\n    \n    class Config:\n        from_attributes = True\n\nclass CommentBase(BaseModel):\n    \"\"\"Base comment schema.\"\"\"\n    content: str = Field(..., min_length=1, max_length=1000, description=\"Comment content\")\n\nclass CommentCreate(CommentBase):\n    \"\"\"Schema for creating a comment.\"\"\"\n    post_id: int = Field(..., description=\"ID of the post to comment on\")\n\nclass CommentResponse(CommentBase):\n    \"\"\"Schema for comment responses.\"\"\"\n    id: int\n    post_id: int\n    author_id: int\n    created_at: datetime\n    updated_at: datetime\n    \n    class Config:\n        from_attributes = True\n```\n\n```python\n# app/services/post_service.py\nfrom typing import List, Optional\nfrom sqlalchemy.orm import Session\nfrom sqlalchemy import or_\n\nfrom app.models.post import Post, Comment, PostLike\nfrom app.schemas.post_schemas import PostCreate, PostUpdate\n\ndef get_posts(\n    db: Session,\n    skip: int = 0,\n    limit: int = 10,\n    search: Optional[str] = None,\n    category: Optional[str] = None,\n    published: Optional[bool] = True\n) -> List[Post]:\n    \"\"\"Get posts with filtering and pagination.\"\"\"\n    query = db.query(Post)\n    \n    if published is not None:\n        query = query.filter(Post.published == published)\n    \n    if category:\n        query = query.filter(Post.category == category)\n    \n    if search:\n        query = query.filter(\n            or_(\n                Post.title.contains(search),\n                Post.content.contains(search)\n            )\n        )\n    \n    return query.offset(skip).limit(limit).all()\n\ndef get_post(db: Session, post_id: int) -> Optional[Post]:\n    \"\"\"Get a single post by ID.\"\"\"\n    return db.query(Post).filter(Post.id == post_id).first()\n\ndef create_post(db: Session, post: PostCreate, user_id: int) -> Post:\n    \"\"\"Create a new post.\"\"\"\n    db_post = Post(**post.dict(), author_id=user_id)\n    db.add(db_post)\n    db.commit()\n    db.refresh(db_post)\n    return db_post\n\ndef update_post(\n    db: Session,\n    post_id: int,\n    post_update: PostUpdate\n) -> Optional[Post]:\n    \"\"\"Update an existing post.\"\"\"\n    db_post = db.query(Post).filter(Post.id == post_id).first()\n    if not db_post:\n        return None\n    \n    update_data = post_update.dict(exclude_unset=True)\n    for field, value in update_data.items():\n        setattr(db_post, field, value)\n    \n    db.commit()\n    db.refresh(db_post)\n    return db_post\n\ndef delete_post(db: Session, post_id: int) -> bool:\n    \"\"\"Delete a post.\"\"\"\n    db_post = db.query(Post).filter(Post.id == post_id).first()\n    if not db_post:\n        return False\n    \n    db.delete(db_post)\n    db.commit()\n    return True\n\ndef toggle_like(db: Session, post_id: int, user_id: int) -> Post:\n    \"\"\"Toggle like status for a post.\"\"\"\n    existing_like = db.query(PostLike).filter(\n        PostLike.post_id == post_id,\n        PostLike.user_id == user_id\n    ).first()\n    \n    if existing_like:\n        db.delete(existing_like)\n    else:\n        new_like = PostLike(post_id=post_id, user_id=user_id)\n        db.add(new_like)\n    \n    db.commit()\n    return get_post(db, post_id)\n```\n\n## Features Included\n\n### API Documentation\n- **Automatic OpenAPI** schema generation\n- **Interactive docs** at `/docs`\n- **ReDoc documentation** at `/redoc`\n- **Request/Response examples** in schemas\n\n### Validation & Serialization\n- **Pydantic models** for data validation\n- **Custom validators** for business rules\n- **Type hints** for better IDE support\n- **Automatic data conversion** and validation\n\n### Error Handling\n- **HTTP status codes** for different scenarios\n- **Detailed error messages** with context\n- **Input validation errors** with field-specific messages\n- **Custom exception handlers** for consistent responses\n\n### Security\n- **JWT authentication** with dependencies\n- **Role-based access control** for endpoints\n- **CORS middleware** for cross-origin requests\n- **Input sanitization** through Pydantic\n\n### Performance\n- **Database query optimization** with SQLAlchemy\n- **Pagination support** for large datasets\n- **Async/await support** for concurrent requests\n- **Connection pooling** for database efficiency\n\n## Testing Example\n\n```python\n# tests/test_posts.py\nimport pytest\nfrom fastapi.testclient import TestClient\nfrom app.main import app\n\nclient = TestClient(app)\n\ndef test_get_posts():\n    \"\"\"Test getting posts.\"\"\"\n    response = client.get(\"/posts/\")\n    assert response.status_code == 200\n    assert isinstance(response.json(), list)\n\ndef test_create_post():\n    \"\"\"Test creating a new post.\"\"\"\n    post_data = {\n        \"title\": \"Test Post\",\n        \"content\": \"This is a test post content.\",\n        \"published\": True\n    }\n    response = client.post(\"/posts/\", json=post_data)\n    assert response.status_code == 201\n    assert response.json()[\"title\"] == \"Test Post\"\n```"
              },
              {
                "name": "/auth",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/auth.md",
                "frontmatter": null,
                "content": "# FastAPI Authentication & Authorization\n\nComplete authentication system with JWT tokens, OAuth2, and role-based access control.\n\n## Usage\n\n```bash\n# Install auth dependencies\npip install python-jose[cryptography] passlib[bcrypt] python-multipart\n\n# Generate secret key\nopenssl rand -hex 32\n```\n\n## JWT Configuration\n\n```python\n# app/core/security.py\nfrom datetime import datetime, timedelta\nfrom typing import Optional, Union, Any\nfrom jose import JWTError, jwt\nfrom passlib.context import CryptContext\nfrom app.core.config import settings\n\n# Password hashing\npwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\n# JWT settings\nSECRET_KEY = settings.SECRET_KEY\nALGORITHM = \"HS256\"\nACCESS_TOKEN_EXPIRE_MINUTES = 30\nREFRESH_TOKEN_EXPIRE_DAYS = 7\n\ndef create_access_token(\n    subject: Union[str, Any], \n    expires_delta: Optional[timedelta] = None\n) -> str:\n    \"\"\"Create JWT access token.\"\"\"\n    if expires_delta:\n        expire = datetime.utcnow() + expires_delta\n    else:\n        expire = datetime.utcnow() + timedelta(minutes=ACCESS_TOKEN_EXPIRE_MINUTES)\n    \n    to_encode = {\"exp\": expire, \"sub\": str(subject), \"type\": \"access\"}\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n    return encoded_jwt\n\ndef create_refresh_token(subject: Union[str, Any]) -> str:\n    \"\"\"Create JWT refresh token.\"\"\"\n    expire = datetime.utcnow() + timedelta(days=REFRESH_TOKEN_EXPIRE_DAYS)\n    to_encode = {\"exp\": expire, \"sub\": str(subject), \"type\": \"refresh\"}\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n    return encoded_jwt\n\ndef verify_password(plain_password: str, hashed_password: str) -> bool:\n    \"\"\"Verify password against hash.\"\"\"\n    return pwd_context.verify(plain_password, hashed_password)\n\ndef get_password_hash(password: str) -> str:\n    \"\"\"Generate password hash.\"\"\"\n    return pwd_context.hash(password)\n\ndef decode_token(token: str) -> Optional[dict]:\n    \"\"\"Decode and verify JWT token.\"\"\"\n    try:\n        payload = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])\n        return payload\n    except JWTError:\n        return None\n```\n\n## Authentication Dependencies\n\n```python\n# app/api/dependencies/auth.py\nfrom typing import Optional\nfrom fastapi import Depends, HTTPException, status\nfrom fastapi.security import OAuth2PasswordBearer, HTTPBearer, HTTPAuthorizationCredentials\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.core.security import decode_token\nfrom app.db.database import get_db\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\n\n# OAuth2 scheme\noauth2_scheme = OAuth2PasswordBearer(\n    tokenUrl=\"/api/v1/auth/login\",\n    scheme_name=\"JWT\"\n)\n\n# Bearer token scheme\nsecurity = HTTPBearer()\n\nasync def get_current_user(\n    token: str = Depends(oauth2_scheme),\n    db: AsyncSession = Depends(get_db)\n) -> User:\n    \"\"\"Get current authenticated user.\"\"\"\n    credentials_exception = HTTPException(\n        status_code=status.HTTP_401_UNAUTHORIZED,\n        detail=\"Could not validate credentials\",\n        headers={\"WWW-Authenticate\": \"Bearer\"},\n    )\n    \n    payload = decode_token(token)\n    if payload is None:\n        raise credentials_exception\n    \n    user_id: str = payload.get(\"sub\")\n    token_type: str = payload.get(\"type\")\n    \n    if user_id is None or token_type != \"access\":\n        raise credentials_exception\n    \n    user_repo = UserRepository(User, db)\n    user = await user_repo.get(int(user_id))\n    \n    if user is None:\n        raise credentials_exception\n    \n    if not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    \n    return user\n\nasync def get_current_active_user(\n    current_user: User = Depends(get_current_user)\n) -> User:\n    \"\"\"Get current active user.\"\"\"\n    if not current_user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    return current_user\n\nasync def get_current_superuser(\n    current_user: User = Depends(get_current_user)\n) -> User:\n    \"\"\"Get current superuser.\"\"\"\n    if not current_user.is_superuser:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not enough permissions\"\n        )\n    return current_user\n\ndef require_permissions(*permissions: str):\n    \"\"\"Decorator for permission-based access control.\"\"\"\n    async def permission_checker(\n        current_user: User = Depends(get_current_active_user)\n    ) -> User:\n        # Check if user has required permissions\n        user_permissions = set(current_user.permissions or [])\n        required_permissions = set(permissions)\n        \n        if not required_permissions.issubset(user_permissions) and not current_user.is_superuser:\n            raise HTTPException(\n                status_code=status.HTTP_403_FORBIDDEN,\n                detail=\"Insufficient permissions\"\n            )\n        \n        return current_user\n    \n    return permission_checker\n\ndef require_roles(*roles: str):\n    \"\"\"Decorator for role-based access control.\"\"\"\n    async def role_checker(\n        current_user: User = Depends(get_current_active_user)\n    ) -> User:\n        user_roles = set(role.name for role in current_user.roles or [])\n        required_roles = set(roles)\n        \n        if not required_roles.issubset(user_roles) and not current_user.is_superuser:\n            raise HTTPException(\n                status_code=status.HTTP_403_FORBIDDEN,\n                detail=\"Insufficient role permissions\"\n            )\n        \n        return current_user\n    \n    return role_checker\n```\n\n## Authentication Schemas\n\n```python\n# app/schemas/auth.py\nfrom pydantic import BaseModel, EmailStr\nfrom typing import Optional\n\nclass Token(BaseModel):\n    \"\"\"Token response schema.\"\"\"\n    access_token: str\n    refresh_token: str\n    token_type: str = \"bearer\"\n    expires_in: int\n\nclass TokenPayload(BaseModel):\n    \"\"\"Token payload schema.\"\"\"\n    sub: Optional[int] = None\n    exp: Optional[int] = None\n    type: Optional[str] = None\n\nclass UserLogin(BaseModel):\n    \"\"\"User login schema.\"\"\"\n    username: str\n    password: str\n\nclass UserRegister(BaseModel):\n    \"\"\"User registration schema.\"\"\"\n    username: str\n    email: EmailStr\n    password: str\n    first_name: str\n    last_name: str\n\nclass PasswordReset(BaseModel):\n    \"\"\"Password reset schema.\"\"\"\n    email: EmailStr\n\nclass PasswordResetConfirm(BaseModel):\n    \"\"\"Password reset confirmation schema.\"\"\"\n    token: str\n    new_password: str\n\nclass ChangePassword(BaseModel):\n    \"\"\"Change password schema.\"\"\"\n    current_password: str\n    new_password: str\n\nclass RefreshToken(BaseModel):\n    \"\"\"Refresh token schema.\"\"\"\n    refresh_token: str\n```\n\n## Authentication Endpoints\n\n```python\n# app/api/v1/auth.py\nfrom datetime import timedelta\nfrom typing import Any\nfrom fastapi import APIRouter, Depends, HTTPException, status, BackgroundTasks\nfrom fastapi.security import OAuth2PasswordRequestForm\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.db.database import get_db\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.schemas.auth import (\n    Token, UserLogin, UserRegister, PasswordReset, \n    PasswordResetConfirm, ChangePassword, RefreshToken\n)\nfrom app.schemas.user import UserCreate, UserResponse\nfrom app.core.security import (\n    create_access_token, create_refresh_token, verify_password,\n    decode_token, ACCESS_TOKEN_EXPIRE_MINUTES\n)\nfrom app.api.dependencies.auth import get_current_user, get_current_active_user\nfrom app.services.email import send_password_reset_email\nfrom app.services.auth import AuthService\n\nrouter = APIRouter()\n\n@router.post(\"/register\", response_model=UserResponse, status_code=status.HTTP_201_CREATED)\nasync def register(\n    user_data: UserRegister,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Register new user.\"\"\"\n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    # Check if user already exists\n    if await user_repo.get_by_email(user_data.email):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Email already registered\"\n        )\n    \n    if await user_repo.get_by_username(user_data.username):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Username already taken\"\n        )\n    \n    # Create user\n    user = await auth_service.create_user(user_data.dict())\n    return user\n\n@router.post(\"/login\", response_model=Token)\nasync def login(\n    form_data: OAuth2PasswordRequestForm = Depends(),\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"OAuth2 compatible token login.\"\"\"\n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    user = await auth_service.authenticate_user(\n        form_data.username, \n        form_data.password\n    )\n    \n    if not user:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Incorrect username or password\",\n            headers={\"WWW-Authenticate\": \"Bearer\"},\n        )\n    \n    if not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    \n    # Create tokens\n    access_token = create_access_token(subject=user.id)\n    refresh_token = create_refresh_token(subject=user.id)\n    \n    return {\n        \"access_token\": access_token,\n        \"refresh_token\": refresh_token,\n        \"token_type\": \"bearer\",\n        \"expires_in\": ACCESS_TOKEN_EXPIRE_MINUTES * 60\n    }\n\n@router.post(\"/refresh\", response_model=Token)\nasync def refresh_token(\n    refresh_data: RefreshToken,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Refresh access token.\"\"\"\n    payload = decode_token(refresh_data.refresh_token)\n    \n    if payload is None or payload.get(\"type\") != \"refresh\":\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    user_id = payload.get(\"sub\")\n    if user_id is None:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    user = await user_repo.get(int(user_id))\n    \n    if user is None or not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    # Create new tokens\n    access_token = create_access_token(subject=user.id)\n    new_refresh_token = create_refresh_token(subject=user.id)\n    \n    return {\n        \"access_token\": access_token,\n        \"refresh_token\": new_refresh_token,\n        \"token_type\": \"bearer\",\n        \"expires_in\": ACCESS_TOKEN_EXPIRE_MINUTES * 60\n    }\n\n@router.get(\"/me\", response_model=UserResponse)\nasync def read_users_me(\n    current_user: User = Depends(get_current_active_user)\n) -> Any:\n    \"\"\"Get current user.\"\"\"\n    return current_user\n\n@router.post(\"/change-password\", status_code=status.HTTP_200_OK)\nasync def change_password(\n    password_data: ChangePassword,\n    current_user: User = Depends(get_current_active_user),\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Change user password.\"\"\"\n    if not verify_password(password_data.current_password, current_user.hashed_password):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Incorrect current password\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    await auth_service.change_password(current_user.id, password_data.new_password)\n    \n    return {\"message\": \"Password changed successfully\"}\n\n@router.post(\"/password-reset\", status_code=status.HTTP_200_OK)\nasync def password_reset(\n    reset_data: PasswordReset,\n    background_tasks: BackgroundTasks,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Request password reset.\"\"\"\n    user_repo = UserRepository(User, db)\n    user = await user_repo.get_by_email(reset_data.email)\n    \n    if user:\n        # Generate reset token\n        reset_token = create_access_token(\n            subject=user.id,\n            expires_delta=timedelta(hours=1)  # 1 hour expiry\n        )\n        \n        # Send email with reset token\n        background_tasks.add_task(\n            send_password_reset_email,\n            email=user.email,\n            username=user.username,\n            token=reset_token\n        )\n    \n    # Always return success to prevent email enumeration\n    return {\"message\": \"Password reset email sent if account exists\"}\n\n@router.post(\"/password-reset-confirm\", status_code=status.HTTP_200_OK)\nasync def password_reset_confirm(\n    reset_data: PasswordResetConfirm,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Confirm password reset.\"\"\"\n    payload = decode_token(reset_data.token)\n    \n    if payload is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid or expired reset token\"\n        )\n    \n    user_id = payload.get(\"sub\")\n    if user_id is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid reset token\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    user = await user_repo.get(int(user_id))\n    if user is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid reset token\"\n        )\n    \n    await auth_service.change_password(user.id, reset_data.new_password)\n    \n    return {\"message\": \"Password reset successful\"}\n\n@router.post(\"/logout\", status_code=status.HTTP_200_OK)\nasync def logout(\n    current_user: User = Depends(get_current_user)\n) -> Any:\n    \"\"\"Logout user (invalidate token on client side).\"\"\"\n    # In a more sophisticated setup, you might want to blacklist the token\n    return {\"message\": \"Successfully logged out\"}\n```\n\n## Authentication Service\n\n```python\n# app/services/auth.py\nfrom typing import Optional\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.security import verify_password, get_password_hash\n\nclass AuthService:\n    \"\"\"Authentication service.\"\"\"\n    \n    def __init__(self, user_repository: UserRepository):\n        self.user_repo = user_repository\n    \n    async def authenticate_user(\n        self, \n        username_or_email: str, \n        password: str\n    ) -> Optional[User]:\n        \"\"\"Authenticate user by username/email and password.\"\"\"\n        # Try to get user by username first, then by email\n        user = await self.user_repo.get_by_username(username_or_email)\n        if not user:\n            user = await self.user_repo.get_by_email(username_or_email)\n        \n        if not user:\n            return None\n        \n        if not verify_password(password, user.hashed_password):\n            return None\n        \n        return user\n    \n    async def create_user(self, user_data: dict) -> User:\n        \"\"\"Create new user.\"\"\"\n        # Hash password\n        password = user_data.pop('password')\n        hashed_password = get_password_hash(password)\n        \n        # Create user data\n        user_create_data = {\n            **user_data,\n            'hashed_password': hashed_password,\n            'is_active': True,\n            'is_superuser': False\n        }\n        \n        return await self.user_repo.create(user_create_data)\n    \n    async def change_password(self, user_id: int, new_password: str) -> bool:\n        \"\"\"Change user password.\"\"\"\n        hashed_password = get_password_hash(new_password)\n        \n        result = await self.user_repo.update(user_id, {\n            'hashed_password': hashed_password\n        })\n        \n        return result is not None\n    \n    async def activate_user(self, user_id: int) -> bool:\n        \"\"\"Activate user account.\"\"\"\n        result = await self.user_repo.update(user_id, {'is_active': True})\n        return result is not None\n    \n    async def deactivate_user(self, user_id: int) -> bool:\n        \"\"\"Deactivate user account.\"\"\"\n        result = await self.user_repo.update(user_id, {'is_active': False})\n        return result is not None\n```\n\n## Role-Based Access Control\n\n```python\n# app/models/rbac.py\nfrom sqlalchemy import Column, String, Text, ForeignKey, Table\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\n\n# Association tables for many-to-many relationships\nuser_roles = Table(\n    'user_roles',\n    Base.metadata,\n    Column('user_id', Integer, ForeignKey('users.id')),\n    Column('role_id', Integer, ForeignKey('roles.id'))\n)\n\nrole_permissions = Table(\n    'role_permissions',\n    Base.metadata,\n    Column('role_id', Integer, ForeignKey('roles.id')),\n    Column('permission_id', Integer, ForeignKey('permissions.id'))\n)\n\nclass Role(BaseModel):\n    \"\"\"Role model for RBAC.\"\"\"\n    __tablename__ = \"roles\"\n    \n    name = Column(String(50), unique=True, nullable=False, index=True)\n    description = Column(Text)\n    \n    # Relationships\n    users = relationship(\"User\", secondary=user_roles, back_populates=\"roles\")\n    permissions = relationship(\"Permission\", secondary=role_permissions, back_populates=\"roles\")\n\nclass Permission(BaseModel):\n    \"\"\"Permission model for RBAC.\"\"\"\n    __tablename__ = \"permissions\"\n    \n    name = Column(String(100), unique=True, nullable=False, index=True)\n    description = Column(Text)\n    resource = Column(String(50), nullable=False)  # e.g., 'users', 'posts'\n    action = Column(String(50), nullable=False)    # e.g., 'create', 'read', 'update', 'delete'\n    \n    # Relationships\n    roles = relationship(\"Role\", secondary=role_permissions, back_populates=\"permissions\")\n\n# Update User model to include roles\nclass User(BaseModel):\n    # ... existing fields ...\n    \n    # Relationships\n    roles = relationship(\"Role\", secondary=user_roles, back_populates=\"users\")\n    \n    @property\n    def permissions(self) -> list[str]:\n        \"\"\"Get all permissions for user.\"\"\"\n        perms = set()\n        for role in self.roles:\n            for permission in role.permissions:\n                perms.add(f\"{permission.resource}:{permission.action}\")\n        return list(perms)\n```\n\n## OAuth2 Integration\n\n```python\n# app/api/v1/oauth.py\nfrom fastapi import APIRouter, Depends, HTTPException, status\nfrom fastapi.security.utils import get_authorization_scheme_param\nfrom starlette.requests import Request\nfrom authlib.integrations.starlette_client import OAuth\nfrom app.core.config import settings\n\nrouter = APIRouter()\n\n# OAuth configuration\noauth = OAuth()\n\n# Google OAuth\ngoogle = oauth.register(\n    name='google',\n    client_id=settings.GOOGLE_CLIENT_ID,\n    client_secret=settings.GOOGLE_CLIENT_SECRET,\n    server_metadata_url='https://accounts.google.com/.well-known/openid_configuration',\n    client_kwargs={\n        'scope': 'openid email profile'\n    }\n)\n\n# GitHub OAuth\ngithub = oauth.register(\n    name='github',\n    client_id=settings.GITHUB_CLIENT_ID,\n    client_secret=settings.GITHUB_CLIENT_SECRET,\n    access_token_url='https://github.com/login/oauth/access_token',\n    access_token_params=None,\n    authorize_url='https://github.com/login/oauth/authorize',\n    authorize_params=None,\n    api_base_url='https://api.github.com/',\n    client_kwargs={'scope': 'user:email'},\n)\n\n@router.get('/google')\nasync def google_login(request: Request):\n    \"\"\"Initiate Google OAuth login.\"\"\"\n    redirect_uri = request.url_for('google_callback')\n    return await google.authorize_redirect(request, redirect_uri)\n\n@router.get('/google/callback')\nasync def google_callback(request: Request):\n    \"\"\"Handle Google OAuth callback.\"\"\"\n    token = await google.authorize_access_token(request)\n    user_info = token.get('userinfo')\n    \n    if user_info:\n        # Create or get user\n        # Generate JWT token\n        # Return token\n        pass\n    \n    raise HTTPException(\n        status_code=status.HTTP_400_BAD_REQUEST,\n        detail=\"OAuth authentication failed\"\n    )\n```\n\n## API Key Authentication\n\n```python\n# app/models/api_key.py\nfrom sqlalchemy import Column, String, Boolean, ForeignKey, DateTime\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\nimport secrets\n\nclass APIKey(BaseModel):\n    \"\"\"API Key model.\"\"\"\n    __tablename__ = \"api_keys\"\n    \n    name = Column(String(100), nullable=False)\n    key_hash = Column(String(255), unique=True, nullable=False, index=True)\n    prefix = Column(String(10), nullable=False, index=True)\n    is_active = Column(Boolean, default=True, nullable=False)\n    expires_at = Column(DateTime)\n    last_used_at = Column(DateTime)\n    \n    # Foreign key\n    user_id = Column(Integer, ForeignKey(\"users.id\"), nullable=False)\n    \n    # Relationships\n    user = relationship(\"User\", back_populates=\"api_keys\")\n    \n    @classmethod\n    def generate_key(cls) -> tuple[str, str]:\n        \"\"\"Generate API key and return (key, hash).\"\"\"\n        key = secrets.token_urlsafe(32)\n        prefix = key[:8]\n        key_hash = get_password_hash(key)\n        return key, prefix, key_hash\n    \n    def verify_key(self, key: str) -> bool:\n        \"\"\"Verify API key.\"\"\"\n        return verify_password(key, self.key_hash)\n\n# Add to User model\nclass User(BaseModel):\n    # ... existing fields ...\n    \n    # Relationships\n    api_keys = relationship(\"APIKey\", back_populates=\"user\", cascade=\"all, delete-orphan\")\n```\n\n## Testing Authentication\n\n```python\n# tests/test_auth.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.core.security import create_access_token\n\n@pytest.mark.asyncio\nasync def test_register_user(client: AsyncClient):\n    \"\"\"Test user registration.\"\"\"\n    user_data = {\n        \"username\": \"testuser\",\n        \"email\": \"test@example.com\",\n        \"password\": \"testpass123\",\n        \"first_name\": \"Test\",\n        \"last_name\": \"User\"\n    }\n    \n    response = await client.post(\"/api/v1/auth/register\", json=user_data)\n    assert response.status_code == 201\n    \n    data = response.json()\n    assert data[\"username\"] == user_data[\"username\"]\n    assert data[\"email\"] == user_data[\"email\"]\n    assert \"hashed_password\" not in data\n\n@pytest.mark.asyncio\nasync def test_login_user(client: AsyncClient, test_user):\n    \"\"\"Test user login.\"\"\"\n    login_data = {\n        \"username\": test_user.username,\n        \"password\": \"testpass123\"\n    }\n    \n    response = await client.post(\n        \"/api/v1/auth/login\", \n        data=login_data,\n        headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n    )\n    \n    assert response.status_code == 200\n    \n    data = response.json()\n    assert \"access_token\" in data\n    assert \"refresh_token\" in data\n    assert data[\"token_type\"] == \"bearer\"\n\n@pytest.mark.asyncio\nasync def test_get_current_user(client: AsyncClient, test_user):\n    \"\"\"Test get current user endpoint.\"\"\"\n    token = create_access_token(subject=test_user.id)\n    headers = {\"Authorization\": f\"Bearer {token}\"}\n    \n    response = await client.get(\"/api/v1/auth/me\", headers=headers)\n    assert response.status_code == 200\n    \n    data = response.json()\n    assert data[\"username\"] == test_user.username\n    assert data[\"email\"] == test_user.email\n```\n"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# FastAPI Database Integration\n\nComplete database setup with SQLAlchemy, Alembic, and async support for FastAPI.\n\n## Usage\n\n```bash\n# Initialize Alembic\nalembic init alembic\n\n# Create migration\nalembic revision --autogenerate -m \"Initial migration\"\n\n# Apply migrations\nalembic upgrade head\n\n# Downgrade migration\nalembic downgrade -1\n```\n\n## Database Configuration\n\n```python\n# app/core/config.py\nfrom pydantic import BaseSettings, PostgresDsn, validator\nfrom typing import Optional, Dict, Any\nimport os\n\nclass Settings(BaseSettings):\n    \"\"\"Application settings.\"\"\"\n    \n    # Database\n    POSTGRES_SERVER: str = \"localhost\"\n    POSTGRES_USER: str = \"postgres\"\n    POSTGRES_PASSWORD: str = \"password\"\n    POSTGRES_DB: str = \"fastapi_app\"\n    POSTGRES_PORT: str = \"5432\"\n    DATABASE_URL: Optional[PostgresDsn] = None\n    \n    @validator(\"DATABASE_URL\", pre=True)\n    def assemble_db_connection(cls, v: Optional[str], values: Dict[str, Any]) -> Any:\n        if isinstance(v, str):\n            return v\n        return PostgresDsn.build(\n            scheme=\"postgresql+asyncpg\",\n            user=values.get(\"POSTGRES_USER\"),\n            password=values.get(\"POSTGRES_PASSWORD\"),\n            host=values.get(\"POSTGRES_SERVER\"),\n            port=values.get(\"POSTGRES_PORT\"),\n            path=f\"/{values.get('POSTGRES_DB') or ''}\",\n        )\n    \n    # Redis\n    REDIS_URL: str = \"redis://localhost:6379/0\"\n    \n    # Database settings\n    DATABASE_POOL_SIZE: int = 10\n    DATABASE_MAX_OVERFLOW: int = 20\n    DATABASE_POOL_RECYCLE: int = 3600\n    \n    class Config:\n        env_file = \".env\"\n        case_sensitive = True\n\nsettings = Settings()\n```\n\n## Database Setup\n\n```python\n# app/db/database.py\nfrom sqlalchemy.ext.asyncio import AsyncSession, create_async_engine\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy.orm import sessionmaker\nfrom app.core.config import settings\n\n# Create async engine\nengine = create_async_engine(\n    str(settings.DATABASE_URL),\n    pool_size=settings.DATABASE_POOL_SIZE,\n    max_overflow=settings.DATABASE_MAX_OVERFLOW,\n    pool_recycle=settings.DATABASE_POOL_RECYCLE,\n    pool_pre_ping=True,\n    echo=False  # Set to True for SQL debugging\n)\n\n# Create async session factory\nAsyncSessionLocal = sessionmaker(\n    engine, class_=AsyncSession, expire_on_commit=False\n)\n\n# Base class for models\nBase = declarative_base()\n\nasync def get_db() -> AsyncSession:\n    \"\"\"Dependency to get database session.\"\"\"\n    async with AsyncSessionLocal() as session:\n        try:\n            yield session\n        finally:\n            await session.close()\n\nasync def create_tables():\n    \"\"\"Create database tables.\"\"\"\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n\nasync def drop_tables():\n    \"\"\"Drop database tables.\"\"\"\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n```\n\n## Base Model\n\n```python\n# app/models/base.py\nfrom sqlalchemy import Column, Integer, DateTime, func\nfrom sqlalchemy.ext.declarative import declared_attr\nfrom app.db.database import Base\nfrom datetime import datetime\nfrom typing import Any\n\nclass TimestampMixin:\n    \"\"\"Mixin for timestamp fields.\"\"\"\n    created_at = Column(DateTime(timezone=True), server_default=func.now(), nullable=False)\n    updated_at = Column(\n        DateTime(timezone=True),\n        server_default=func.now(),\n        onupdate=func.now(),\n        nullable=False\n    )\n\nclass BaseModel(Base, TimestampMixin):\n    \"\"\"Base model with common functionality.\"\"\"\n    __abstract__ = True\n    \n    id = Column(Integer, primary_key=True, index=True)\n    \n    @declared_attr\n    def __tablename__(cls) -> str:\n        return cls.__name__.lower()\n    \n    def dict(self, exclude: set = None) -> dict[str, Any]:\n        \"\"\"Convert model to dictionary.\"\"\"\n        exclude = exclude or set()\n        return {\n            column.name: getattr(self, column.name)\n            for column in self.__table__.columns\n            if column.name not in exclude\n        }\n    \n    def __repr__(self) -> str:\n        return f\"<{self.__class__.__name__}(id={self.id})>\"\n```\n\n## Example Models\n\n```python\n# app/models/user.py\nfrom sqlalchemy import Column, String, Boolean, Text, Index\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\nfrom passlib.context import CryptContext\n\npwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\nclass User(BaseModel):\n    \"\"\"User model.\"\"\"\n    __tablename__ = \"users\"\n    \n    username = Column(String(50), unique=True, index=True, nullable=False)\n    email = Column(String(100), unique=True, index=True, nullable=False)\n    hashed_password = Column(String(255), nullable=False)\n    first_name = Column(String(50), nullable=False)\n    last_name = Column(String(50), nullable=False)\n    is_active = Column(Boolean, default=True, nullable=False)\n    is_superuser = Column(Boolean, default=False, nullable=False)\n    bio = Column(Text)\n    \n    # Relationships\n    posts = relationship(\"Post\", back_populates=\"author\", cascade=\"all, delete-orphan\")\n    \n    # Indexes\n    __table_args__ = (\n        Index('idx_user_email_active', email, is_active),\n        Index('idx_user_username_active', username, is_active),\n    )\n    \n    def verify_password(self, password: str) -> bool:\n        \"\"\"Verify password against hash.\"\"\"\n        return pwd_context.verify(password, self.hashed_password)\n    \n    @staticmethod\n    def get_password_hash(password: str) -> str:\n        \"\"\"Generate password hash.\"\"\"\n        return pwd_context.hash(password)\n    \n    def set_password(self, password: str) -> None:\n        \"\"\"Set user password.\"\"\"\n        self.hashed_password = self.get_password_hash(password)\n    \n    @property\n    def full_name(self) -> str:\n        \"\"\"Get user's full name.\"\"\"\n        return f\"{self.first_name} {self.last_name}\"\n    \n    def dict(self, exclude: set = None) -> dict:\n        \"\"\"Convert to dict excluding sensitive data.\"\"\"\n        exclude = exclude or set()\n        exclude.add('hashed_password')\n        return super().dict(exclude=exclude)\n\n# app/models/post.py\nfrom sqlalchemy import Column, String, Text, ForeignKey, Boolean, Index\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\n\nclass Post(BaseModel):\n    \"\"\"Blog post model.\"\"\"\n    __tablename__ = \"posts\"\n    \n    title = Column(String(200), nullable=False, index=True)\n    content = Column(Text, nullable=False)\n    slug = Column(String(200), unique=True, nullable=False, index=True)\n    is_published = Column(Boolean, default=False, nullable=False)\n    \n    # Foreign keys\n    author_id = Column(Integer, ForeignKey(\"users.id\"), nullable=False)\n    \n    # Relationships\n    author = relationship(\"User\", back_populates=\"posts\")\n    \n    # Indexes\n    __table_args__ = (\n        Index('idx_post_published_created', is_published, 'created_at'),\n        Index('idx_post_author_published', author_id, is_published),\n    )\n```\n\n## Repository Pattern\n\n```python\n# app/repositories/base.py\nfrom typing import Generic, TypeVar, Type, Optional, List, Dict, Any\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import select, update, delete, func\nfrom sqlalchemy.orm import selectinload\nfrom app.models.base import BaseModel\n\nModelType = TypeVar(\"ModelType\", bound=BaseModel)\n\nclass BaseRepository(Generic[ModelType]):\n    \"\"\"Base repository with common CRUD operations.\"\"\"\n    \n    def __init__(self, model: Type[ModelType], db: AsyncSession):\n        self.model = model\n        self.db = db\n    \n    async def get(self, id: int) -> Optional[ModelType]:\n        \"\"\"Get model by ID.\"\"\"\n        result = await self.db.execute(\n            select(self.model).where(self.model.id == id)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_multi(\n        self, \n        skip: int = 0, \n        limit: int = 100,\n        filters: Dict[str, Any] = None\n    ) -> List[ModelType]:\n        \"\"\"Get multiple models with pagination.\"\"\"\n        query = select(self.model)\n        \n        if filters:\n            for field, value in filters.items():\n                if hasattr(self.model, field):\n                    query = query.where(getattr(self.model, field) == value)\n        \n        query = query.offset(skip).limit(limit)\n        result = await self.db.execute(query)\n        return result.scalars().all()\n    \n    async def create(self, obj_in: Dict[str, Any]) -> ModelType:\n        \"\"\"Create new model.\"\"\"\n        db_obj = self.model(**obj_in)\n        self.db.add(db_obj)\n        await self.db.commit()\n        await self.db.refresh(db_obj)\n        return db_obj\n    \n    async def update(\n        self, \n        id: int, \n        obj_in: Dict[str, Any]\n    ) -> Optional[ModelType]:\n        \"\"\"Update model by ID.\"\"\"\n        await self.db.execute(\n            update(self.model)\n            .where(self.model.id == id)\n            .values(**obj_in)\n        )\n        await self.db.commit()\n        return await self.get(id)\n    \n    async def delete(self, id: int) -> bool:\n        \"\"\"Delete model by ID.\"\"\"\n        result = await self.db.execute(\n            delete(self.model).where(self.model.id == id)\n        )\n        await self.db.commit()\n        return result.rowcount > 0\n    \n    async def count(self, filters: Dict[str, Any] = None) -> int:\n        \"\"\"Count models with optional filters.\"\"\"\n        query = select(func.count(self.model.id))\n        \n        if filters:\n            for field, value in filters.items():\n                if hasattr(self.model, field):\n                    query = query.where(getattr(self.model, field) == value)\n        \n        result = await self.db.execute(query)\n        return result.scalar()\n\n# app/repositories/user.py\nfrom typing import Optional\nfrom sqlalchemy import select\nfrom app.models.user import User\nfrom app.repositories.base import BaseRepository\n\nclass UserRepository(BaseRepository[User]):\n    \"\"\"User repository with custom methods.\"\"\"\n    \n    async def get_by_email(self, email: str) -> Optional[User]:\n        \"\"\"Get user by email.\"\"\"\n        result = await self.db.execute(\n            select(User).where(User.email == email)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_by_username(self, username: str) -> Optional[User]:\n        \"\"\"Get user by username.\"\"\"\n        result = await self.db.execute(\n            select(User).where(User.username == username)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_active_users(self, skip: int = 0, limit: int = 100):\n        \"\"\"Get active users.\"\"\"\n        return await self.get_multi(\n            skip=skip, \n            limit=limit, \n            filters={'is_active': True}\n        )\n```\n\n## Alembic Configuration\n\n```python\n# alembic/env.py\nfrom logging.config import fileConfig\nfrom sqlalchemy import engine_from_config, pool\nfrom sqlalchemy.ext.asyncio import AsyncEngine\nfrom alembic import context\nimport asyncio\n\n# Import your models\nfrom app.models.base import Base\nfrom app.models.user import User\nfrom app.models.post import Post\nfrom app.core.config import settings\n\n# Alembic Config object\nconfig = context.config\n\n# Override database URL\nconfig.set_main_option(\"sqlalchemy.url\", str(settings.DATABASE_URL))\n\n# Interpret the config file for logging\nif config.config_file_name is not None:\n    fileConfig(config.config_file_name)\n\n# Add your model's MetaData object here\ntarget_metadata = Base.metadata\n\ndef do_run_migrations(connection):\n    context.configure(\n        connection=connection,\n        target_metadata=target_metadata,\n        compare_type=True,\n        compare_server_default=True,\n    )\n    \n    with context.begin_transaction():\n        context.run_migrations()\n\nasync def run_migrations_online():\n    \"\"\"Run migrations in 'online' mode.\"\"\"\n    configuration = config.get_section(config.config_ini_section)\n    configuration[\"sqlalchemy.url\"] = str(settings.DATABASE_URL)\n    \n    connectable = AsyncEngine(\n        engine_from_config(\n            configuration,\n            prefix=\"sqlalchemy.\",\n            poolclass=pool.NullPool,\n        )\n    )\n    \n    async with connectable.connect() as connection:\n        await connection.run_sync(do_run_migrations)\n    \n    await connectable.dispose()\n\nif context.is_offline_mode():\n    run_migrations_offline()\nelse:\n    asyncio.run(run_migrations_online())\n```\n\n## Database Utilities\n\n```python\n# app/db/utils.py\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import text\nfrom app.db.database import engine, AsyncSessionLocal\nfrom app.core.config import settings\nimport asyncio\n\nasync def check_database_connection() -> bool:\n    \"\"\"Check if database is accessible.\"\"\"\n    try:\n        async with AsyncSessionLocal() as session:\n            await session.execute(text(\"SELECT 1\"))\n            return True\n    except Exception:\n        return False\n\nasync def create_database_if_not_exists():\n    \"\"\"Create database if it doesn't exist.\"\"\"\n    # This is PostgreSQL specific\n    import asyncpg\n    from urllib.parse import urlparse\n    \n    url = urlparse(str(settings.DATABASE_URL))\n    \n    try:\n        # Connect to postgres database to create our database\n        conn = await asyncpg.connect(\n            host=url.hostname,\n            port=url.port,\n            user=url.username,\n            password=url.password,\n            database='postgres'\n        )\n        \n        # Check if database exists\n        exists = await conn.fetchval(\n            \"SELECT 1 FROM pg_database WHERE datname = $1\",\n            url.path[1:]  # Remove leading slash\n        )\n        \n        if not exists:\n            await conn.execute(f'CREATE DATABASE \"{url.path[1:]}\"')\n            print(f\"Database {url.path[1:]} created.\")\n        \n        await conn.close()\n        \n    except Exception as e:\n        print(f\"Error creating database: {e}\")\n\nasync def execute_raw_sql(sql: str, params: dict = None) -> list:\n    \"\"\"Execute raw SQL query.\"\"\"\n    async with AsyncSessionLocal() as session:\n        result = await session.execute(text(sql), params or {})\n        return result.fetchall()\n\nasync def get_table_info(table_name: str) -> dict:\n    \"\"\"Get information about a table.\"\"\"\n    sql = \"\"\"\n    SELECT \n        column_name,\n        data_type,\n        is_nullable,\n        column_default\n    FROM information_schema.columns \n    WHERE table_name = :table_name\n    ORDER BY ordinal_position;\n    \"\"\"\n    \n    result = await execute_raw_sql(sql, {'table_name': table_name})\n    return [\n        {\n            'column_name': row[0],\n            'data_type': row[1],\n            'is_nullable': row[2],\n            'column_default': row[3]\n        }\n        for row in result\n    ]\n```\n\n## Database Initialization\n\n```python\n# app/db/init_db.py\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.db.database import get_db, create_tables\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.config import settings\nimport asyncio\n\nasync def init_db() -> None:\n    \"\"\"Initialize database with tables and default data.\"\"\"\n    # Create tables\n    await create_tables()\n    print(\"Database tables created.\")\n    \n    # Create default superuser\n    async with AsyncSessionLocal() as session:\n        user_repo = UserRepository(User, session)\n        \n        # Check if superuser exists\n        existing_user = await user_repo.get_by_email(\"admin@example.com\")\n        \n        if not existing_user:\n            superuser_data = {\n                \"username\": \"admin\",\n                \"email\": \"admin@example.com\",\n                \"first_name\": \"Admin\",\n                \"last_name\": \"User\",\n                \"is_superuser\": True,\n                \"is_active\": True\n            }\n            \n            superuser = User(**superuser_data)\n            superuser.set_password(\"admin123\")\n            \n            session.add(superuser)\n            await session.commit()\n            print(\"Superuser created.\")\n        else:\n            print(\"Superuser already exists.\")\n\nif __name__ == \"__main__\":\n    asyncio.run(init_db())\n```\n\n## Testing Database\n\n```python\n# tests/conftest.py\nimport pytest\nimport asyncio\nfrom sqlalchemy.ext.asyncio import create_async_engine, AsyncSession\nfrom sqlalchemy.orm import sessionmaker\nfrom app.db.database import Base, get_db\nfrom app.main import app\nimport pytest_asyncio\n\n# Test database URL\nTEST_DATABASE_URL = \"sqlite+aiosqlite:///./test.db\"\n\n@pytest.fixture(scope=\"session\")\ndef event_loop():\n    \"\"\"Create event loop for async tests.\"\"\"\n    loop = asyncio.get_event_loop_policy().new_event_loop()\n    yield loop\n    loop.close()\n\n@pytest_asyncio.fixture(scope=\"session\")\nasync def test_engine():\n    \"\"\"Create test database engine.\"\"\"\n    engine = create_async_engine(TEST_DATABASE_URL, echo=False)\n    \n    # Create tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n    \n    yield engine\n    \n    # Drop tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n    \n    await engine.dispose()\n\n@pytest_asyncio.fixture\nasync def test_session(test_engine):\n    \"\"\"Create test database session.\"\"\"\n    TestSessionLocal = sessionmaker(\n        test_engine, class_=AsyncSession, expire_on_commit=False\n    )\n    \n    async with TestSessionLocal() as session:\n        yield session\n\n@pytest.fixture\ndef override_get_db(test_session):\n    \"\"\"Override database dependency.\"\"\"\n    async def _override_get_db():\n        yield test_session\n    \n    app.dependency_overrides[get_db] = _override_get_db\n    yield\n    app.dependency_overrides = {}\n```\n\n## Database Health Check\n\n```python\n# app/api/health.py\nfrom fastapi import APIRouter, Depends, HTTPException\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import text\nfrom app.db.database import get_db\nimport time\n\nrouter = APIRouter()\n\n@router.get(\"/health\")\nasync def health_check(db: AsyncSession = Depends(get_db)):\n    \"\"\"Health check endpoint.\"\"\"\n    checks = {\n        \"status\": \"healthy\",\n        \"timestamp\": time.time(),\n        \"database\": await check_database_health(db),\n    }\n    \n    # Determine overall status\n    if checks[\"database\"][\"status\"] != \"ok\":\n        checks[\"status\"] = \"unhealthy\"\n        raise HTTPException(status_code=503, detail=checks)\n    \n    return checks\n\nasync def check_database_health(db: AsyncSession) -> dict:\n    \"\"\"Check database connection.\"\"\"\n    try:\n        start_time = time.time()\n        await db.execute(text(\"SELECT 1\"))\n        response_time = (time.time() - start_time) * 1000  # milliseconds\n        \n        return {\n            \"status\": \"ok\",\n            \"response_time_ms\": round(response_time, 2)\n        }\n    except Exception as e:\n        return {\n            \"status\": \"error\",\n            \"error\": str(e)\n        }\n```\n"
              },
              {
                "name": "/deployment",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/deployment.md",
                "frontmatter": null,
                "content": "# FastAPI Deployment\n\nBasic production deployment setup for FastAPI applications.\n\n## Usage\n\n```bash\n# Run with Uvicorn\nuvicorn app.main:app --host 0.0.0.0 --port 8000 --workers 4\n\n# Docker deployment\ndocker build -t fastapi-app .\ndocker run -p 8000:8000 fastapi-app\n```\n\n## Production Configuration\n\n```python\n# app/core/config.py\nfrom pydantic import BaseSettings\nimport os\n\nclass Settings(BaseSettings):\n    \"\"\"Production settings.\"\"\"\n    \n    # App\n    PROJECT_NAME: str = \"FastAPI App\"\n    VERSION: str = \"1.0.0\"\n    SECRET_KEY: str = os.getenv(\"SECRET_KEY\", \"dev-key\")\n    \n    # Server\n    HOST: str = \"0.0.0.0\"\n    PORT: int = 8000\n    WORKERS: int = 4\n    \n    # Database\n    DATABASE_URL: str = os.getenv(\"DATABASE_URL\", \"sqlite:///./app.db\")\n    \n    # Redis\n    REDIS_URL: str = os.getenv(\"REDIS_URL\", \"redis://localhost:6379\")\n    \n    class Config:\n        env_file = \".env\"\n\nsettings = Settings()\n```\n\n## Docker Setup\n\n```dockerfile\n# Dockerfile\nFROM python:3.11-slim\n\nWORKDIR /app\n\n# Install dependencies\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy app\nCOPY . .\n\n# Create non-root user\nRUN useradd -m appuser && chown -R appuser:appuser /app\nUSER appuser\n\nEXPOSE 8000\n\n# Health check\nHEALTHCHECK CMD curl -f http://localhost:8000/health || exit 1\n\nCMD [\"uvicorn\", \"app.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n```\n\n## Docker Compose\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\n\nservices:\n  app:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - DATABASE_URL=postgresql://user:pass@db:5432/fastapi_db\n      - REDIS_URL=redis://redis:6379\n    depends_on:\n      - db\n      - redis\n\n  db:\n    image: postgres:15\n    environment:\n      POSTGRES_DB: fastapi_db\n      POSTGRES_USER: user\n      POSTGRES_PASSWORD: password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\n  redis:\n    image: redis:7-alpine\n    volumes:\n      - redis_data:/data\n\nvolumes:\n  postgres_data:\n  redis_data:\n```\n\n## Environment Variables\n\n```bash\n# .env\nSECRET_KEY=your-secret-key\nDATABASE_URL=postgresql://user:pass@localhost/fastapi_db\nREDIS_URL=redis://localhost:6379\n```\n\n## Health Check\n\n```python\n# app/api/health.py\nfrom fastapi import APIRouter\nfrom app.core.config import settings\n\nrouter = APIRouter()\n\n@router.get(\"/health\")\nasync def health_check():\n    return {\n        \"status\": \"healthy\",\n        \"version\": settings.VERSION\n    }\n```\n\n## Deployment Script\n\n```bash\n#!/bin/bash\n# deploy.sh\n\nset -e\n\necho \"Deploying FastAPI app...\"\n\n# Build and deploy\ndocker-compose build\ndocker-compose up -d\n\n# Health check\necho \"Checking health...\"\nif curl -f http://localhost:8000/health; then\n    echo \"‚úÖ Deployment successful!\"\nelse\n    echo \"‚ùå Deployment failed!\"\n    exit 1\nfi\n```\n"
              },
              {
                "name": "/testing",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/testing.md",
                "frontmatter": null,
                "content": "# FastAPI Testing Framework\n\nComprehensive testing setup for FastAPI applications with pytest and async support.\n\n## Usage\n\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=app --cov-report=html\n\n# Run specific test file\npytest tests/test_api.py\n\n# Run with verbose output\npytest -v -s\n```\n\n## Test Configuration\n\n```python\n# pytest.ini\n[tool:pytest]\ntestpaths = tests\npython_files = test_*.py\npython_classes = Test*\npython_functions = test_*\naddopts = \n    --cov=app\n    --cov-report=term-missing\n    --cov-report=html:htmlcov\n    --asyncio-mode=auto\n    --strict-markers\n    --disable-warnings\nmarkers =\n    unit: Unit tests\n    integration: Integration tests\n    e2e: End-to-end tests\n    slow: Slow running tests\n    auth: Authentication tests\n    api: API tests\nasyncio_mode = auto\n```\n\n## Test Dependencies\n\n```python\n# requirements/test.txt\npytest>=7.0.0\npytest-asyncio>=0.21.0\npytest-cov>=4.0.0\nhttpx>=0.24.0\nfactory-boy>=3.2.0\nfaker>=18.0.0\nrespx>=0.20.0\npytest-mock>=3.10.0\n```\n\n## Test Fixtures\n\n```python\n# tests/conftest.py\nimport pytest\nimport asyncio\nfrom typing import AsyncGenerator, Generator\nfrom fastapi.testclient import TestClient\nfrom httpx import AsyncClient\nfrom sqlalchemy.ext.asyncio import create_async_engine, AsyncSession\nfrom sqlalchemy.orm import sessionmaker\nfrom app.main import app\nfrom app.db.database import get_db, Base\nfrom app.models.user import User\nfrom app.core.security import get_password_hash\nfrom tests.factories import UserFactory\n\n# Test database URL\nTEST_DATABASE_URL = \"sqlite+aiosqlite:///./test.db\"\n\n@pytest.fixture(scope=\"session\")\ndef event_loop() -> Generator[asyncio.AbstractEventLoop, None, None]:\n    \"\"\"Create event loop for the test session.\"\"\"\n    loop = asyncio.get_event_loop_policy().new_event_loop()\n    yield loop\n    loop.close()\n\n@pytest.fixture(scope=\"session\")\nasync def test_engine():\n    \"\"\"Create test database engine.\"\"\"\n    engine = create_async_engine(\n        TEST_DATABASE_URL,\n        echo=False,\n        future=True\n    )\n    \n    # Create tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n    \n    yield engine\n    \n    # Drop tables and dispose engine\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n    \n    await engine.dispose()\n\n@pytest.fixture\nasync def db_session(test_engine) -> AsyncGenerator[AsyncSession, None]:\n    \"\"\"Create database session for testing.\"\"\"\n    TestSessionLocal = sessionmaker(\n        test_engine, \n        class_=AsyncSession, \n        expire_on_commit=False\n    )\n    \n    async with TestSessionLocal() as session:\n        yield session\n\n@pytest.fixture\ndef override_get_db(db_session: AsyncSession) -> Generator:\n    \"\"\"Override database dependency.\"\"\"\n    async def _override_get_db():\n        yield db_session\n    \n    app.dependency_overrides[get_db] = _override_get_db\n    yield\n    app.dependency_overrides = {}\n\n@pytest.fixture\ndef client(override_get_db) -> Generator[TestClient, None, None]:\n    \"\"\"Create test client.\"\"\"\n    with TestClient(app) as test_client:\n        yield test_client\n\n@pytest.fixture\nasync def async_client(override_get_db) -> AsyncGenerator[AsyncClient, None]:\n    \"\"\"Create async test client.\"\"\"\n    async with AsyncClient(app=app, base_url=\"http://test\") as ac:\n        yield ac\n\n@pytest.fixture\nasync def test_user(db_session: AsyncSession) -> User:\n    \"\"\"Create test user.\"\"\"\n    user_data = {\n        \"username\": \"testuser\",\n        \"email\": \"test@example.com\",\n        \"hashed_password\": get_password_hash(\"testpass123\"),\n        \"first_name\": \"Test\",\n        \"last_name\": \"User\",\n        \"is_active\": True,\n        \"is_superuser\": False\n    }\n    \n    user = User(**user_data)\n    db_session.add(user)\n    await db_session.commit()\n    await db_session.refresh(user)\n    return user\n\n@pytest.fixture\nasync def superuser(db_session: AsyncSession) -> User:\n    \"\"\"Create superuser.\"\"\"\n    user_data = {\n        \"username\": \"admin\",\n        \"email\": \"admin@example.com\",\n        \"hashed_password\": get_password_hash(\"adminpass123\"),\n        \"first_name\": \"Admin\",\n        \"last_name\": \"User\",\n        \"is_active\": True,\n        \"is_superuser\": True\n    }\n    \n    user = User(**user_data)\n    db_session.add(user)\n    await db_session.commit()\n    await db_session.refresh(user)\n    return user\n\n@pytest.fixture\ndef user_token(test_user: User) -> str:\n    \"\"\"Create authentication token for test user.\"\"\"\n    from app.core.security import create_access_token\n    return create_access_token(subject=test_user.id)\n\n@pytest.fixture\ndef superuser_token(superuser: User) -> str:\n    \"\"\"Create authentication token for superuser.\"\"\"\n    from app.core.security import create_access_token\n    return create_access_token(subject=superuser.id)\n\n@pytest.fixture\ndef auth_headers(user_token: str) -> dict[str, str]:\n    \"\"\"Create authorization headers.\"\"\"\n    return {\"Authorization\": f\"Bearer {user_token}\"}\n\n@pytest.fixture\ndef superuser_headers(superuser_token: str) -> dict[str, str]:\n    \"\"\"Create superuser authorization headers.\"\"\"\n    return {\"Authorization\": f\"Bearer {superuser_token}\"}\n```\n\n## Test Factories\n\n```python\n# tests/factories.py\nimport factory\nfrom factory import Faker, SubFactory\nfrom app.models.user import User\nfrom app.models.post import Post\nfrom app.core.security import get_password_hash\n\nclass UserFactory(factory.Factory):\n    \"\"\"Factory for User model.\"\"\"\n    \n    class Meta:\n        model = User\n    \n    username = Faker('user_name')\n    email = Faker('email')\n    first_name = Faker('first_name')\n    last_name = Faker('last_name')\n    hashed_password = factory.LazyAttribute(lambda obj: get_password_hash('testpass123'))\n    is_active = True\n    is_superuser = False\n    bio = Faker('text', max_nb_chars=200)\n\nclass SuperUserFactory(UserFactory):\n    \"\"\"Factory for superuser.\"\"\"\n    username = 'admin'\n    email = 'admin@example.com'\n    first_name = 'Admin'\n    last_name = 'User'\n    is_superuser = True\n\nclass PostFactory(factory.Factory):\n    \"\"\"Factory for Post model.\"\"\"\n    \n    class Meta:\n        model = Post\n    \n    title = Faker('sentence', nb_words=4)\n    content = Faker('text', max_nb_chars=1000)\n    slug = Faker('slug')\n    is_published = True\n    author = SubFactory(UserFactory)\n\nclass InactiveUserFactory(UserFactory):\n    \"\"\"Factory for inactive user.\"\"\"\n    is_active = False\n```\n\n## API Testing\n\n```python\n# tests/test_api/test_users.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom tests.factories import UserFactory\n\nclass TestUserAPI:\n    \"\"\"Test User API endpoints.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(\n        self, \n        async_client: AsyncClient, \n        superuser_headers: dict\n    ):\n        \"\"\"Test POST /api/v1/users/.\"\"\"\n        user_data = {\n            \"username\": \"newuser\",\n            \"email\": \"new@example.com\",\n            \"password\": \"newpass123\",\n            \"first_name\": \"New\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/users/\",\n            json=user_data,\n            headers=superuser_headers\n        )\n        \n        assert response.status_code == 201\n        data = response.json()\n        assert data[\"username\"] == user_data[\"username\"]\n        assert data[\"email\"] == user_data[\"email\"]\n        assert \"password\" not in data\n        assert \"hashed_password\" not in data\n    \n    @pytest.mark.asyncio\n    async def test_get_users(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test GET /api/v1/users/.\"\"\"\n        response = await async_client.get(\n            \"/api/v1/users/\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"items\" in data\n        assert \"total\" in data\n        assert \"page\" in data\n        assert \"size\" in data\n        assert len(data[\"items\"]) >= 1\n    \n    @pytest.mark.asyncio\n    async def test_get_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test GET /api/v1/users/{id}.\"\"\"\n        response = await async_client.get(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"id\"] == test_user.id\n        assert data[\"username\"] == test_user.username\n        assert data[\"email\"] == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_update_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test PUT /api/v1/users/{id}.\"\"\"\n        update_data = {\n            \"first_name\": \"Updated\",\n            \"last_name\": \"Name\",\n            \"bio\": \"Updated bio\"\n        }\n        \n        response = await async_client.put(\n            f\"/api/v1/users/{test_user.id}\",\n            json=update_data,\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"first_name\"] == update_data[\"first_name\"]\n        assert data[\"last_name\"] == update_data[\"last_name\"]\n        assert data[\"bio\"] == update_data[\"bio\"]\n    \n    @pytest.mark.asyncio\n    async def test_delete_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        superuser_headers: dict\n    ):\n        \"\"\"Test DELETE /api/v1/users/{id}.\"\"\"\n        response = await async_client.delete(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=superuser_headers\n        )\n        \n        assert response.status_code == 204\n        \n        # Verify user is deleted\n        get_response = await async_client.get(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=superuser_headers\n        )\n        assert get_response.status_code == 404\n    \n    @pytest.mark.asyncio\n    async def test_unauthorized_access(self, async_client: AsyncClient):\n        \"\"\"Test unauthorized access to protected endpoints.\"\"\"\n        response = await async_client.get(\"/api/v1/users/\")\n        assert response.status_code == 401\n    \n    @pytest.mark.asyncio\n    async def test_forbidden_access(\n        self, \n        async_client: AsyncClient, \n        auth_headers: dict\n    ):\n        \"\"\"Test forbidden access to admin endpoints.\"\"\"\n        user_data = {\n            \"username\": \"unauthorized\",\n            \"email\": \"unauthorized@example.com\",\n            \"password\": \"pass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/users/\",\n            json=user_data,\n            headers=auth_headers  # Regular user, not superuser\n        )\n        \n        assert response.status_code == 403\n```\n\n## Authentication Testing\n\n```python\n# tests/test_api/test_auth.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom app.core.security import create_access_token, decode_token\n\nclass TestAuthAPI:\n    \"\"\"Test authentication API endpoints.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_register(\n        self, \n        async_client: AsyncClient\n    ):\n        \"\"\"Test user registration.\"\"\"\n        user_data = {\n            \"username\": \"newuser\",\n            \"email\": \"new@example.com\",\n            \"password\": \"newpass123\",\n            \"first_name\": \"New\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/register\",\n            json=user_data\n        )\n        \n        assert response.status_code == 201\n        data = response.json()\n        assert data[\"username\"] == user_data[\"username\"]\n        assert data[\"email\"] == user_data[\"email\"]\n        assert \"password\" not in data\n    \n    @pytest.mark.asyncio\n    async def test_register_duplicate_email(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test registration with duplicate email.\"\"\"\n        user_data = {\n            \"username\": \"different\",\n            \"email\": test_user.email,  # Duplicate email\n            \"password\": \"pass123\",\n            \"first_name\": \"Test\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/register\",\n            json=user_data\n        )\n        \n        assert response.status_code == 400\n        assert \"Email already registered\" in response.json()[\"detail\"]\n    \n    @pytest.mark.asyncio\n    async def test_login(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test user login.\"\"\"\n        login_data = {\n            \"username\": test_user.username,\n            \"password\": \"testpass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/login\",\n            data=login_data,\n            headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"access_token\" in data\n        assert \"refresh_token\" in data\n        assert data[\"token_type\"] == \"bearer\"\n        assert \"expires_in\" in data\n        \n        # Verify token is valid\n        payload = decode_token(data[\"access_token\"])\n        assert payload is not None\n        assert payload[\"sub\"] == str(test_user.id)\n    \n    @pytest.mark.asyncio\n    async def test_login_invalid_credentials(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test login with invalid credentials.\"\"\"\n        login_data = {\n            \"username\": test_user.username,\n            \"password\": \"wrongpassword\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/login\",\n            data=login_data,\n            headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n        )\n        \n        assert response.status_code == 401\n        assert \"Incorrect username or password\" in response.json()[\"detail\"]\n    \n    @pytest.mark.asyncio\n    async def test_get_current_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test get current user endpoint.\"\"\"\n        response = await async_client.get(\n            \"/api/v1/auth/me\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"id\"] == test_user.id\n        assert data[\"username\"] == test_user.username\n        assert data[\"email\"] == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_refresh_token(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test token refresh.\"\"\"\n        from app.core.security import create_refresh_token\n        \n        refresh_token = create_refresh_token(subject=test_user.id)\n        \n        response = await async_client.post(\n            \"/api/v1/auth/refresh\",\n            json={\"refresh_token\": refresh_token}\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"access_token\" in data\n        assert \"refresh_token\" in data\n        assert data[\"token_type\"] == \"bearer\"\n    \n    @pytest.mark.asyncio\n    async def test_change_password(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test password change.\"\"\"\n        password_data = {\n            \"current_password\": \"testpass123\",\n            \"new_password\": \"newpass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/change-password\",\n            json=password_data,\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        assert \"Password changed successfully\" in response.json()[\"message\"]\n```\n\n## Model Testing\n\n```python\n# tests/test_models/test_user.py\nimport pytest\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.models.user import User\nfrom app.core.security import verify_password, get_password_hash\n\nclass TestUserModel:\n    \"\"\"Test User model.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(self, db_session: AsyncSession):\n        \"\"\"Test user creation.\"\"\"\n        user_data = {\n            \"username\": \"testuser\",\n            \"email\": \"test@example.com\",\n            \"hashed_password\": get_password_hash(\"password123\"),\n            \"first_name\": \"Test\",\n            \"last_name\": \"User\"\n        }\n        \n        user = User(**user_data)\n        db_session.add(user)\n        await db_session.commit()\n        await db_session.refresh(user)\n        \n        assert user.id is not None\n        assert user.username == \"testuser\"\n        assert user.email == \"test@example.com\"\n        assert user.full_name == \"Test User\"\n        assert user.is_active is True\n        assert user.is_superuser is False\n        assert user.created_at is not None\n        assert user.updated_at is not None\n    \n    def test_password_verification(self):\n        \"\"\"Test password verification.\"\"\"\n        password = \"testpassword123\"\n        hashed = get_password_hash(password)\n        \n        user = User(\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=hashed,\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        assert user.verify_password(password)\n        assert not user.verify_password(\"wrongpassword\")\n    \n    def test_user_dict_excludes_password(self):\n        \"\"\"Test that dict() method excludes password.\"\"\"\n        user = User(\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=\"hashed_password\",\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        user_dict = user.dict()\n        assert \"hashed_password\" not in user_dict\n        assert \"username\" in user_dict\n        assert \"email\" in user_dict\n    \n    def test_user_repr(self):\n        \"\"\"Test user string representation.\"\"\"\n        user = User(\n            id=1,\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=\"hash\",\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        assert repr(user) == \"<User(id=1)>\"\n```\n\n## Repository Testing\n\n```python\n# tests/test_repositories/test_user.py\nimport pytest\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.security import get_password_hash\n\nclass TestUserRepository:\n    \"\"\"Test UserRepository.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(self, db_session: AsyncSession):\n        \"\"\"Test user creation through repository.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        user_data = {\n            \"username\": \"repouser\",\n            \"email\": \"repo@example.com\",\n            \"hashed_password\": get_password_hash(\"password123\"),\n            \"first_name\": \"Repo\",\n            \"last_name\": \"User\"\n        }\n        \n        user = await repo.create(user_data)\n        \n        assert user.id is not None\n        assert user.username == \"repouser\"\n        assert user.email == \"repo@example.com\"\n    \n    @pytest.mark.asyncio\n    async def test_get_by_email(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test get user by email.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        found_user = await repo.get_by_email(test_user.email)\n        \n        assert found_user is not None\n        assert found_user.id == test_user.id\n        assert found_user.email == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_get_by_username(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test get user by username.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        found_user = await repo.get_by_username(test_user.username)\n        \n        assert found_user is not None\n        assert found_user.id == test_user.id\n        assert found_user.username == test_user.username\n    \n    @pytest.mark.asyncio\n    async def test_get_multi_with_pagination(\n        self, \n        db_session: AsyncSession, \n        test_user: User\n    ):\n        \"\"\"Test get multiple users with pagination.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        # Create additional users\n        for i in range(5):\n            user_data = {\n                \"username\": f\"user{i}\",\n                \"email\": f\"user{i}@example.com\",\n                \"hashed_password\": get_password_hash(\"password123\"),\n                \"first_name\": f\"User{i}\",\n                \"last_name\": \"Test\"\n            }\n            await repo.create(user_data)\n        \n        # Test pagination\n        users = await repo.get_multi(skip=0, limit=3)\n        assert len(users) == 3\n        \n        users_page_2 = await repo.get_multi(skip=3, limit=3)\n        assert len(users_page_2) >= 1  # At least test_user\n    \n    @pytest.mark.asyncio\n    async def test_update_user(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test user update.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        updated_user = await repo.update(test_user.id, {\n            \"first_name\": \"Updated\",\n            \"bio\": \"Updated bio\"\n        })\n        \n        assert updated_user is not None\n        assert updated_user.first_name == \"Updated\"\n        assert updated_user.bio == \"Updated bio\"\n    \n    @pytest.mark.asyncio\n    async def test_delete_user(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test user deletion.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        result = await repo.delete(test_user.id)\n        assert result is True\n        \n        # Verify user is deleted\n        deleted_user = await repo.get(test_user.id)\n        assert deleted_user is None\n```\n\n## Performance Testing\n\n```python\n# tests/test_performance.py\nimport pytest\nimport time\nimport asyncio\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom tests.factories import UserFactory\n\n@pytest.mark.slow\nclass TestPerformance:\n    \"\"\"Test application performance.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_concurrent_requests(\n        self, \n        async_client: AsyncClient,\n        auth_headers: dict\n    ):\n        \"\"\"Test concurrent API requests.\"\"\"\n        \n        async def make_request():\n            response = await async_client.get(\n                \"/api/v1/users/\",\n                headers=auth_headers\n            )\n            return response.status_code\n        \n        # Make 10 concurrent requests\n        start_time = time.time()\n        tasks = [make_request() for _ in range(10)]\n        results = await asyncio.gather(*tasks)\n        end_time = time.time()\n        \n        # All requests should succeed\n        assert all(status == 200 for status in results)\n        \n        # Should complete within reasonable time\n        assert (end_time - start_time) < 5.0\n    \n    @pytest.mark.asyncio\n    async def test_large_dataset_pagination(\n        self, \n        async_client: AsyncClient,\n        db_session,\n        auth_headers: dict\n    ):\n        \"\"\"Test pagination with large dataset.\"\"\"\n        # Create 100 users\n        users = []\n        for i in range(100):\n            user = UserFactory.build()\n            users.append(user)\n        \n        db_session.add_all(users)\n        await db_session.commit()\n        \n        # Test pagination performance\n        start_time = time.time()\n        response = await async_client.get(\n            \"/api/v1/users/?skip=0&limit=50\",\n            headers=auth_headers\n        )\n        end_time = time.time()\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert len(data[\"items\"]) == 50\n        \n        # Should complete quickly\n        assert (end_time - start_time) < 1.0\n```\n\n## Mocking External Services\n\n```python\n# tests/test_external.py\nimport pytest\nimport respx\nimport httpx\nfrom app.services.email import EmailService\n\nclass TestExternalServices:\n    \"\"\"Test external service integrations.\"\"\"\n    \n    @pytest.mark.asyncio\n    @respx.mock\n    async def test_email_service(\n        self, \n        async_client: AsyncClient\n    ):\n        \"\"\"Test email service with mocked external API.\"\"\"\n        # Mock email service API\n        respx.post(\"https://api.emailservice.com/send\").mock(\n            return_value=httpx.Response(\n                200, \n                json={\"message\": \"Email sent successfully\"}\n            )\n        )\n        \n        email_service = EmailService()\n        result = await email_service.send_email(\n            to=\"test@example.com\",\n            subject=\"Test\",\n            body=\"Test email\"\n        )\n        \n        assert result[\"success\"] is True\n```\n\n## Test Utilities\n\n```python\n# tests/utils.py\nfrom typing import Dict, Any\nfrom httpx import Response\nimport json\n\ndef assert_response_status(response: Response, expected_status: int = 200):\n    \"\"\"Assert response status code.\"\"\"\n    assert response.status_code == expected_status, f\"Expected {expected_status}, got {response.status_code}. Response: {response.text}\"\n\ndef assert_response_json(response: Response, expected_keys: list[str] = None):\n    \"\"\"Assert response is valid JSON with expected keys.\"\"\"\n    assert response.headers.get(\"content-type\") == \"application/json\"\n    data = response.json()\n    \n    if expected_keys:\n        for key in expected_keys:\n            assert key in data, f\"Missing key '{key}' in response\"\n    \n    return data\n\ndef create_auth_headers(token: str) -> Dict[str, str]:\n    \"\"\"Create authorization headers with token.\"\"\"\n    return {\"Authorization\": f\"Bearer {token}\"}\n\nasync def create_test_users(db_session, count: int = 5) -> list:\n    \"\"\"Create multiple test users.\"\"\"\n    from tests.factories import UserFactory\n    \n    users = []\n    for i in range(count):\n        user = UserFactory.build()\n        users.append(user)\n    \n    db_session.add_all(users)\n    await db_session.commit()\n    \n    return users\n```\n"
              },
              {
                "name": "/app-factory",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/app-factory.md",
                "frontmatter": null,
                "content": "# Flask Application Factory Pattern\n\nCreate a scalable Flask application using the factory pattern with blueprints and configuration management.\n\n## Purpose\n\nThis command helps you set up a Flask application using the application factory pattern, which is the recommended approach for larger Flask applications.\n\n## Usage\n\n```\n/app-factory\n```\n\n## What this command does\n\n1. **Creates application factory** with proper structure\n2. **Sets up configuration management** for different environments\n3. **Implements blueprints** for modular design\n4. **Configures extensions** (database, auth, etc.)\n5. **Adds error handling** and logging\n\n## Example Output\n\n```python\n# app/__init__.py\nfrom flask import Flask\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom flask_login import LoginManager\nfrom flask_mail import Mail\nfrom flask_wtf.csrf import CSRFProtect\nfrom flask_cors import CORS\nimport logging\nfrom logging.handlers import RotatingFileHandler\nimport os\n\n# Initialize extensions\ndb = SQLAlchemy()\nmigrate = Migrate()\nlogin = LoginManager()\nmail = Mail()\ncsrf = CSRFProtect()\ncors = CORS()\n\ndef create_app(config_class=None):\n    \"\"\"Application factory function.\"\"\"\n    app = Flask(__name__)\n    \n    # Load configuration\n    if config_class is None:\n        config_class = os.environ.get('FLASK_CONFIG', 'development')\n    \n    if isinstance(config_class, str):\n        from app.config import config\n        app.config.from_object(config[config_class])\n    else:\n        app.config.from_object(config_class)\n    \n    # Initialize extensions\n    db.init_app(app)\n    migrate.init_app(app, db)\n    login.init_app(app)\n    mail.init_app(app)\n    csrf.init_app(app)\n    cors.init_app(app)\n    \n    # Configure login manager\n    login.login_view = 'auth.login'\n    login.login_message = 'Please log in to access this page.'\n    login.login_message_category = 'info'\n    \n    # Register blueprints\n    from app.main import bp as main_bp\n    app.register_blueprint(main_bp)\n    \n    from app.auth import bp as auth_bp\n    app.register_blueprint(auth_bp, url_prefix='/auth')\n    \n    from app.api import bp as api_bp\n    app.register_blueprint(api_bp, url_prefix='/api')\n    \n    from app.admin import bp as admin_bp\n    app.register_blueprint(admin_bp, url_prefix='/admin')\n    \n    # Error handlers\n    from app.errors import bp as errors_bp\n    app.register_blueprint(errors_bp)\n    \n    # Configure logging\n    if not app.debug and not app.testing:\n        if not os.path.exists('logs'):\n            os.mkdir('logs')\n        \n        file_handler = RotatingFileHandler(\n            'logs/app.log', \n            maxBytes=10240, \n            backupCount=10\n        )\n        file_handler.setFormatter(logging.Formatter(\n            '%(asctime)s %(levelname)s: %(message)s [in %(pathname)s:%(lineno)d]'\n        ))\n        file_handler.setLevel(logging.INFO)\n        app.logger.addHandler(file_handler)\n        \n        app.logger.setLevel(logging.INFO)\n        app.logger.info('Flask application startup')\n    \n    return app\n\n# Import models (avoid circular imports)\nfrom app import models\n```\n\n```python\n# app/config.py\nimport os\nfrom dotenv import load_dotenv\n\nbasedir = os.path.abspath(os.path.dirname(__file__))\nload_dotenv(os.path.join(basedir, '.env'))\n\nclass Config:\n    \"\"\"Base configuration class.\"\"\"\n    SECRET_KEY = os.environ.get('SECRET_KEY') or 'dev-secret-key'\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app.db')\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    \n    # Mail configuration\n    MAIL_SERVER = os.environ.get('MAIL_SERVER')\n    MAIL_PORT = int(os.environ.get('MAIL_PORT') or 587)\n    MAIL_USE_TLS = os.environ.get('MAIL_USE_TLS', 'true').lower() in ['true', 'on', '1']\n    MAIL_USERNAME = os.environ.get('MAIL_USERNAME')\n    MAIL_PASSWORD = os.environ.get('MAIL_PASSWORD')\n    ADMIN_EMAIL = os.environ.get('ADMIN_EMAIL')\n    \n    # Pagination\n    POSTS_PER_PAGE = 10\n    USERS_PER_PAGE = 50\n    \n    # Upload configuration\n    MAX_CONTENT_LENGTH = 16 * 1024 * 1024  # 16MB\n    UPLOAD_FOLDER = os.path.join(basedir, 'uploads')\n    \n    @staticmethod\n    def init_app(app):\n        pass\n\nclass DevelopmentConfig(Config):\n    \"\"\"Development configuration.\"\"\"\n    DEBUG = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DEV_DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app-dev.db')\n\nclass TestingConfig(Config):\n    \"\"\"Testing configuration.\"\"\"\n    TESTING = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('TEST_DATABASE_URL') or 'sqlite://'\n    WTF_CSRF_ENABLED = False\n\nclass ProductionConfig(Config):\n    \"\"\"Production configuration.\"\"\"\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app.db')\n    \n    @classmethod\n    def init_app(cls, app):\n        Config.init_app(app)\n        \n        # Log to stderr\n        import logging\n        from logging import StreamHandler\n        file_handler = StreamHandler()\n        file_handler.setLevel(logging.INFO)\n        app.logger.addHandler(file_handler)\n\nconfig = {\n    'development': DevelopmentConfig,\n    'testing': TestingConfig,\n    'production': ProductionConfig,\n    'default': DevelopmentConfig\n}\n```\n\n```python\n# app/main/__init__.py\nfrom flask import Blueprint\n\nbp = Blueprint('main', __name__)\n\nfrom app.main import routes\n```\n\n```python\n# app/main/routes.py\nfrom flask import render_template, request, current_app\nfrom app.main import bp\nfrom app.models import Post\n\n@bp.route('/')\n@bp.route('/index')\ndef index():\n    \"\"\"Home page.\"\"\"\n    page = request.args.get('page', 1, type=int)\n    posts = Post.query.filter_by(published=True).order_by(\n        Post.created_at.desc()\n    ).paginate(\n        page=page,\n        per_page=current_app.config['POSTS_PER_PAGE'],\n        error_out=False\n    )\n    \n    return render_template('index.html', posts=posts)\n\n@bp.route('/about')\ndef about():\n    \"\"\"About page.\"\"\"\n    return render_template('about.html')\n```\n\n```python\n# app/auth/__init__.py\nfrom flask import Blueprint\n\nbp = Blueprint('auth', __name__)\n\nfrom app.auth import routes\n```\n\n```python\n# app/auth/routes.py\nfrom flask import render_template, redirect, url_for, flash, request\nfrom flask_login import login_user, logout_user, login_required, current_user\nfrom werkzeug.urls import url_parse\nfrom app import db\nfrom app.auth import bp\nfrom app.auth.forms import LoginForm, RegistrationForm\nfrom app.models import User\n\n@bp.route('/login', methods=['GET', 'POST'])\ndef login():\n    \"\"\"User login.\"\"\"\n    if current_user.is_authenticated:\n        return redirect(url_for('main.index'))\n    \n    form = LoginForm()\n    if form.validate_on_submit():\n        user = User.query.filter_by(username=form.username.data).first()\n        if user is None or not user.check_password(form.password.data):\n            flash('Invalid username or password', 'error')\n            return redirect(url_for('auth.login'))\n        \n        login_user(user, remember=form.remember_me.data)\n        \n        next_page = request.args.get('next')\n        if not next_page or url_parse(next_page).netloc != '':\n            next_page = url_for('main.index')\n        \n        return redirect(next_page)\n    \n    return render_template('auth/login.html', form=form)\n\n@bp.route('/logout')\n@login_required\ndef logout():\n    \"\"\"User logout.\"\"\"\n    logout_user()\n    flash('You have been logged out.', 'info')\n    return redirect(url_for('main.index'))\n\n@bp.route('/register', methods=['GET', 'POST'])\ndef register():\n    \"\"\"User registration.\"\"\"\n    if current_user.is_authenticated:\n        return redirect(url_for('main.index'))\n    \n    form = RegistrationForm()\n    if form.validate_on_submit():\n        user = User(username=form.username.data, email=form.email.data)\n        user.set_password(form.password.data)\n        db.session.add(user)\n        db.session.commit()\n        \n        flash('Registration successful!', 'success')\n        return redirect(url_for('auth.login'))\n    \n    return render_template('auth/register.html', form=form)\n```\n\n```python\n# app/models.py\nfrom app import db, login\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom flask_login import UserMixin\nfrom datetime import datetime\n\nclass User(UserMixin, db.Model):\n    \"\"\"User model.\"\"\"\n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(64), index=True, unique=True)\n    email = db.Column(db.String(120), index=True, unique=True)\n    password_hash = db.Column(db.String(128))\n    created_at = db.Column(db.DateTime, index=True, default=datetime.utcnow)\n    \n    posts = db.relationship('Post', backref='author', lazy='dynamic')\n    \n    def set_password(self, password):\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        return check_password_hash(self.password_hash, password)\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n\n@login.user_loader\ndef load_user(id):\n    return User.query.get(int(id))\n\nclass Post(db.Model):\n    \"\"\"Post model.\"\"\"\n    id = db.Column(db.Integer, primary_key=True)\n    title = db.Column(db.String(100), nullable=False)\n    content = db.Column(db.Text, nullable=False)\n    published = db.Column(db.Boolean, default=False)\n    created_at = db.Column(db.DateTime, index=True, default=datetime.utcnow)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\n    \n    user_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=False)\n    \n    def __repr__(self):\n        return f'<Post {self.title}>'\n```\n\n```python\n# app.py (main application entry point)\nfrom app import create_app, db\nfrom app.models import User, Post\n\napp = create_app()\n\n@app.shell_context_processor\ndef make_shell_context():\n    \"\"\"Add models to shell context.\"\"\"\n    return {'db': db, 'User': User, 'Post': Post}\n\nif __name__ == '__main__':\n    app.run(debug=True)\n```\n\n## Project Structure\n\n```\nproject/\n‚îú‚îÄ‚îÄ app/\n‚îÇ   ‚îú‚îÄ‚îÄ __init__.py         # Application factory\n‚îÇ   ‚îú‚îÄ‚îÄ config.py           # Configuration classes\n‚îÇ   ‚îú‚îÄ‚îÄ models.py           # Database models\n‚îÇ   ‚îú‚îÄ‚îÄ main/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # Main blueprint\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.py       # Main routes\n‚îÇ   ‚îú‚îÄ‚îÄ auth/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # Auth blueprint\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes.py       # Auth routes\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ forms.py        # Auth forms\n‚îÇ   ‚îú‚îÄ‚îÄ api/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # API blueprint\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.py       # API routes\n‚îÇ   ‚îî‚îÄ‚îÄ templates/          # Jinja2 templates\n‚îú‚îÄ‚îÄ migrations/             # Database migrations\n‚îú‚îÄ‚îÄ logs/                   # Application logs\n‚îú‚îÄ‚îÄ app.py                  # Application entry point\n‚îú‚îÄ‚îÄ requirements.txt        # Dependencies\n‚îî‚îÄ‚îÄ .env                    # Environment variables\n```\n\n## Benefits of Application Factory\n\n- **Testing**: Easy to create app instances with different configs\n- **Scalability**: Modular design with blueprints\n- **Configuration**: Environment-specific settings\n- **Extensions**: Proper initialization order\n- **Maintainability**: Clear separation of concerns"
              },
              {
                "name": "/blueprint",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/blueprint.md",
                "frontmatter": null,
                "content": "# Flask Blueprint Generator\n\nCreate organized Flask blueprints for modular application structure.\n\n## Usage\n\n```bash\n# Create a new blueprint\nflask create-blueprint users\nflask create-blueprint api/v1\n```\n\n## Blueprint Structure\n\nGenerates a complete blueprint with:\n- Routes and view functions\n- Error handlers\n- Template folder structure\n- Static file organization\n\n## Example Blueprint\n\n```python\n# app/blueprints/users/__init__.py\nfrom flask import Blueprint\n\nusers_bp = Blueprint(\n    'users',\n    __name__,\n    url_prefix='/users',\n    template_folder='templates',\n    static_folder='static'\n)\n\nfrom . import routes, models\n\n# app/blueprints/users/routes.py\nfrom flask import render_template, request, redirect, url_for, flash\nfrom . import users_bp\nfrom .models import User\nfrom .forms import UserForm\n\n@users_bp.route('/')\ndef index():\n    \"\"\"List all users.\"\"\"\n    users = User.query.all()\n    return render_template('users/index.html', users=users)\n\n@users_bp.route('/create', methods=['GET', 'POST'])\ndef create():\n    \"\"\"Create a new user.\"\"\"\n    form = UserForm()\n    if form.validate_on_submit():\n        user = User(\n            username=form.username.data,\n            email=form.email.data\n        )\n        user.save()\n        flash('User created successfully!', 'success')\n        return redirect(url_for('users.index'))\n    return render_template('users/create.html', form=form)\n\n@users_bp.route('/<int:user_id>')\ndef detail(user_id):\n    \"\"\"Show user details.\"\"\"\n    user = User.query.get_or_404(user_id)\n    return render_template('users/detail.html', user=user)\n\n@users_bp.route('/<int:user_id>/edit', methods=['GET', 'POST'])\ndef edit(user_id):\n    \"\"\"Edit an existing user.\"\"\"\n    user = User.query.get_or_404(user_id)\n    form = UserForm(obj=user)\n    if form.validate_on_submit():\n        user.username = form.username.data\n        user.email = form.email.data\n        user.save()\n        flash('User updated successfully!', 'success')\n        return redirect(url_for('users.detail', user_id=user.id))\n    return render_template('users/edit.html', form=form, user=user)\n\n@users_bp.route('/<int:user_id>/delete', methods=['POST'])\ndef delete(user_id):\n    \"\"\"Delete a user.\"\"\"\n    user = User.query.get_or_404(user_id)\n    user.delete()\n    flash('User deleted successfully!', 'success')\n    return redirect(url_for('users.index'))\n\n# Error handlers\n@users_bp.errorhandler(404)\ndef not_found(error):\n    return render_template('users/404.html'), 404\n\n@users_bp.errorhandler(500)\ndef internal_error(error):\n    return render_template('users/500.html'), 500\n```\n\n## Blueprint Models\n\n```python\n# app/blueprints/users/models.py\nfrom app.extensions import db\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom datetime import datetime\n\nclass User(db.Model):\n    \"\"\"User model.\"\"\"\n    __tablename__ = 'users'\n    \n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(80), unique=True, nullable=False)\n    email = db.Column(db.String(120), unique=True, nullable=False)\n    password_hash = db.Column(db.String(255), nullable=False)\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\n    is_active = db.Column(db.Boolean, default=True)\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n    \n    def set_password(self, password):\n        \"\"\"Set password hash.\"\"\"\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        \"\"\"Check password hash.\"\"\"\n        return check_password_hash(self.password_hash, password)\n    \n    def save(self):\n        \"\"\"Save user to database.\"\"\"\n        db.session.add(self)\n        db.session.commit()\n    \n    def delete(self):\n        \"\"\"Delete user from database.\"\"\"\n        db.session.delete(self)\n        db.session.commit()\n    \n    def to_dict(self):\n        \"\"\"Convert to dictionary.\"\"\"\n        return {\n            'id': self.id,\n            'username': self.username,\n            'email': self.email,\n            'created_at': self.created_at.isoformat(),\n            'is_active': self.is_active\n        }\n```\n\n## Blueprint Forms\n\n```python\n# app/blueprints/users/forms.py\nfrom flask_wtf import FlaskForm\nfrom wtforms import StringField, EmailField, PasswordField, BooleanField\nfrom wtforms.validators import DataRequired, Email, Length, EqualTo\nfrom .models import User\n\nclass UserForm(FlaskForm):\n    \"\"\"User creation/edit form.\"\"\"\n    username = StringField(\n        'Username',\n        validators=[\n            DataRequired(),\n            Length(min=3, max=80)\n        ]\n    )\n    email = EmailField(\n        'Email',\n        validators=[\n            DataRequired(),\n            Email(),\n            Length(max=120)\n        ]\n    )\n    password = PasswordField(\n        'Password',\n        validators=[\n            DataRequired(),\n            Length(min=8)\n        ]\n    )\n    confirm_password = PasswordField(\n        'Confirm Password',\n        validators=[\n            DataRequired(),\n            EqualTo('password', message='Passwords must match')\n        ]\n    )\n    is_active = BooleanField('Active')\n    \n    def validate_username(self, field):\n        \"\"\"Validate username uniqueness.\"\"\"\n        if User.query.filter_by(username=field.data).first():\n            raise ValidationError('Username already exists.')\n    \n    def validate_email(self, field):\n        \"\"\"Validate email uniqueness.\"\"\"\n        if User.query.filter_by(email=field.data).first():\n            raise ValidationError('Email already registered.')\n```\n\n## Registration in Main App\n\n```python\n# app/__init__.py\nfrom flask import Flask\nfrom app.blueprints.users import users_bp\n\ndef create_app():\n    app = Flask(__name__)\n    \n    # Register blueprints\n    app.register_blueprint(users_bp)\n    \n    return app\n```\n\n## Template Structure\n\n```\ntemplates/\n‚îú‚îÄ‚îÄ base.html\n‚îî‚îÄ‚îÄ users/\n    ‚îú‚îÄ‚îÄ index.html\n    ‚îú‚îÄ‚îÄ create.html\n    ‚îú‚îÄ‚îÄ detail.html\n    ‚îú‚îÄ‚îÄ edit.html\n    ‚îú‚îÄ‚îÄ 404.html\n    ‚îî‚îÄ‚îÄ 500.html\n```\n\n## Best Practices\n\n- Use blueprints to organize related functionality\n- Keep models, forms, and routes in separate files\n- Implement proper error handling\n- Use URL prefixes for namespacing\n- Follow RESTful routing conventions\n- Include comprehensive docstrings\n- Add form validation and CSRF protection\n"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# Flask Database Management\n\nComplete database setup and management for Flask applications using SQLAlchemy.\n\n## Usage\n\n```bash\n# Initialize database\nflask db init\n\n# Create migration\nflask db migrate -m \"Initial migration\"\n\n# Apply migrations\nflask db upgrade\n\n# Downgrade migration\nflask db downgrade\n```\n\n## Database Configuration\n\n```python\n# config.py\nimport os\nfrom urllib.parse import quote_plus\n\nclass Config:\n    \"\"\"Base configuration.\"\"\"\n    SECRET_KEY = os.environ.get('SECRET_KEY') or 'dev-secret-key'\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    SQLALCHEMY_RECORD_QUERIES = True\n    \nclass DevelopmentConfig(Config):\n    \"\"\"Development configuration.\"\"\"\n    DEBUG = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///app.db'\n        \nclass ProductionConfig(Config):\n    \"\"\"Production configuration.\"\"\"\n    DEBUG = False\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        f\"postgresql://{os.environ.get('DB_USER')}:{quote_plus(os.environ.get('DB_PASSWORD'))}@\" \\\n        f\"{os.environ.get('DB_HOST')}:{os.environ.get('DB_PORT', '5432')}/{os.environ.get('DB_NAME')}\"\n    \nclass TestingConfig(Config):\n    \"\"\"Testing configuration.\"\"\"\n    TESTING = True\n    SQLALCHEMY_DATABASE_URI = 'sqlite:///:memory:'\n    WTF_CSRF_ENABLED = False\n\nconfig = {\n    'development': DevelopmentConfig,\n    'production': ProductionConfig,\n    'testing': TestingConfig,\n    'default': DevelopmentConfig\n}\n```\n\n## Database Extensions\n\n```python\n# app/extensions.py\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom flask_login import LoginManager\nfrom flask_wtf.csrf import CSRFProtect\nfrom flask_caching import Cache\nfrom flask_limiter import Limiter\nfrom flask_limiter.util import get_remote_address\n\n# Initialize extensions\ndb = SQLAlchemy()\nmigrate = Migrate()\nlogin_manager = LoginManager()\ncsrf = CSRFProtect()\ncache = Cache()\nlimiter = Limiter(key_func=get_remote_address)\n\ndef init_extensions(app):\n    \"\"\"Initialize Flask extensions.\"\"\"\n    db.init_app(app)\n    migrate.init_app(app, db)\n    login_manager.init_app(app)\n    csrf.init_app(app)\n    cache.init_app(app)\n    limiter.init_app(app)\n    \n    # Configure login manager\n    login_manager.login_view = 'auth.login'\n    login_manager.login_message = 'Please log in to access this page.'\n    login_manager.login_message_category = 'info'\n```\n\n## Base Model\n\n```python\n# app/models/base.py\nfrom app.extensions import db\nfrom datetime import datetime\nfrom sqlalchemy.ext.declarative import declared_attr\n\nclass TimestampMixin:\n    \"\"\"Add timestamp fields to model.\"\"\"\n    created_at = db.Column(db.DateTime, default=datetime.utcnow, nullable=False)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow, nullable=False)\n\nclass BaseModel(db.Model, TimestampMixin):\n    \"\"\"Base model with common functionality.\"\"\"\n    __abstract__ = True\n    \n    id = db.Column(db.Integer, primary_key=True)\n    \n    @declared_attr\n    def __tablename__(cls):\n        return cls.__name__.lower()\n    \n    def save(self, commit=True):\n        \"\"\"Save model to database.\"\"\"\n        db.session.add(self)\n        if commit:\n            db.session.commit()\n        return self\n    \n    def delete(self, commit=True):\n        \"\"\"Delete model from database.\"\"\"\n        db.session.delete(self)\n        if commit:\n            db.session.commit()\n    \n    def update(self, **kwargs):\n        \"\"\"Update model attributes.\"\"\"\n        for key, value in kwargs.items():\n            if hasattr(self, key):\n                setattr(self, key, value)\n        return self.save()\n    \n    def to_dict(self, exclude=None):\n        \"\"\"Convert model to dictionary.\"\"\"\n        exclude = exclude or []\n        return {\n            column.name: getattr(self, column.name)\n            for column in self.__table__.columns\n            if column.name not in exclude\n        }\n    \n    @classmethod\n    def get_or_404(cls, id):\n        \"\"\"Get model by ID or raise 404.\"\"\"\n        return cls.query.get_or_404(id)\n    \n    @classmethod\n    def create(cls, **kwargs):\n        \"\"\"Create new model instance.\"\"\"\n        instance = cls(**kwargs)\n        return instance.save()\n```\n\n## Example Models\n\n```python\n# app/models/user.py\nfrom app.extensions import db\nfrom app.models.base import BaseModel\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom flask_login import UserMixin\n\nclass User(UserMixin, BaseModel):\n    \"\"\"User model.\"\"\"\n    __tablename__ = 'users'\n    \n    username = db.Column(db.String(80), unique=True, nullable=False, index=True)\n    email = db.Column(db.String(120), unique=True, nullable=False, index=True)\n    password_hash = db.Column(db.String(255), nullable=False)\n    first_name = db.Column(db.String(50), nullable=False)\n    last_name = db.Column(db.String(50), nullable=False)\n    is_active = db.Column(db.Boolean, default=True, nullable=False)\n    is_admin = db.Column(db.Boolean, default=False, nullable=False)\n    last_login = db.Column(db.DateTime)\n    \n    # Relationships\n    posts = db.relationship('Post', backref='author', lazy='dynamic', cascade='all, delete-orphan')\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n    \n    def set_password(self, password):\n        \"\"\"Set password hash.\"\"\"\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        \"\"\"Check password hash.\"\"\"\n        return check_password_hash(self.password_hash, password)\n    \n    @property\n    def full_name(self):\n        \"\"\"Get user's full name.\"\"\"\n        return f\"{self.first_name} {self.last_name}\"\n    \n    def to_dict(self, exclude=None):\n        \"\"\"Convert to dictionary excluding sensitive data.\"\"\"\n        exclude = exclude or ['password_hash']\n        return super().to_dict(exclude=exclude)\n\n# app/models/post.py\nclass Post(BaseModel):\n    \"\"\"Blog post model.\"\"\"\n    __tablename__ = 'posts'\n    \n    title = db.Column(db.String(200), nullable=False)\n    content = db.Column(db.Text, nullable=False)\n    slug = db.Column(db.String(200), unique=True, nullable=False, index=True)\n    status = db.Column(db.String(20), default='draft', nullable=False)\n    published_at = db.Column(db.DateTime)\n    \n    # Foreign keys\n    user_id = db.Column(db.Integer, db.ForeignKey('users.id'), nullable=False)\n    category_id = db.Column(db.Integer, db.ForeignKey('categories.id'))\n    \n    # Relationships\n    category = db.relationship('Category', backref='posts')\n    tags = db.relationship('Tag', secondary='post_tags', backref='posts')\n    \n    def __repr__(self):\n        return f'<Post {self.title}>'\n    \n    @property\n    def is_published(self):\n        \"\"\"Check if post is published.\"\"\"\n        return self.status == 'published' and self.published_at is not None\n```\n\n## Database CLI Commands\n\n```python\n# app/cli.py\nimport click\nfrom flask import current_app\nfrom flask.cli import with_appcontext\nfrom app.extensions import db\nfrom app.models import User, Post, Category\n\n@click.command()\n@with_appcontext\ndef init_db():\n    \"\"\"Initialize database.\"\"\"\n    db.create_all()\n    click.echo('Database initialized.')\n\n@click.command()\n@with_appcontext\ndef seed_db():\n    \"\"\"Seed database with sample data.\"\"\"\n    # Create admin user\n    admin = User(\n        username='admin',\n        email='admin@example.com',\n        first_name='Admin',\n        last_name='User',\n        is_admin=True\n    )\n    admin.set_password('admin123')\n    admin.save()\n    \n    # Create sample category\n    category = Category(\n        name='Technology',\n        description='Tech-related posts'\n    )\n    category.save()\n    \n    # Create sample post\n    post = Post(\n        title='Welcome to Flask',\n        content='This is a sample blog post.',\n        slug='welcome-to-flask',\n        status='published',\n        user_id=admin.id,\n        category_id=category.id\n    )\n    post.save()\n    \n    click.echo('Database seeded with sample data.')\n\n@click.command()\n@with_appcontext\ndef reset_db():\n    \"\"\"Reset database.\"\"\"\n    if click.confirm('Are you sure you want to reset the database?'):\n        db.drop_all()\n        db.create_all()\n        click.echo('Database reset.')\n\ndef init_commands(app):\n    \"\"\"Register CLI commands.\"\"\"\n    app.cli.add_command(init_db)\n    app.cli.add_command(seed_db)\n    app.cli.add_command(reset_db)\n```\n\n## Connection Pooling\n\n```python\n# app/database.py\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.pool import QueuePool\n\ndef configure_database(app):\n    \"\"\"Configure database with connection pooling.\"\"\"\n    if app.config.get('SQLALCHEMY_DATABASE_URI', '').startswith('postgresql'):\n        # PostgreSQL configuration\n        engine = create_engine(\n            app.config['SQLALCHEMY_DATABASE_URI'],\n            poolclass=QueuePool,\n            pool_size=10,\n            max_overflow=20,\n            pool_recycle=3600,\n            pool_pre_ping=True\n        )\n        app.config['SQLALCHEMY_ENGINE_OPTIONS'] = {\n            'pool_size': 10,\n            'max_overflow': 20,\n            'pool_recycle': 3600,\n            'pool_pre_ping': True\n        }\n```\n\n## Database Utilities\n\n```python\n# app/utils/database.py\nfrom app.extensions import db\nfrom sqlalchemy import text\nfrom flask import current_app\n\ndef execute_sql(sql, params=None):\n    \"\"\"Execute raw SQL query.\"\"\"\n    with db.engine.connect() as conn:\n        result = conn.execute(text(sql), params or {})\n        return result.fetchall()\n\ndef backup_database():\n    \"\"\"Create database backup.\"\"\"\n    # Implementation depends on database type\n    pass\n\ndef check_database_health():\n    \"\"\"Check database connection health.\"\"\"\n    try:\n        db.session.execute(text('SELECT 1'))\n        return True\n    except Exception as e:\n        current_app.logger.error(f'Database health check failed: {e}')\n        return False\n\ndef get_table_info(table_name):\n    \"\"\"Get table information.\"\"\"\n    inspector = db.inspect(db.engine)\n    return {\n        'columns': inspector.get_columns(table_name),\n        'indexes': inspector.get_indexes(table_name),\n        'foreign_keys': inspector.get_foreign_keys(table_name)\n    }\n```\n\n## Testing Database\n\n```python\n# tests/conftest.py\nimport pytest\nfrom app import create_app\nfrom app.extensions import db\nfrom app.models import User\n\n@pytest.fixture(scope='session')\ndef app():\n    \"\"\"Create test app.\"\"\"\n    app = create_app('testing')\n    with app.app_context():\n        db.create_all()\n        yield app\n        db.drop_all()\n\n@pytest.fixture\ndef client(app):\n    \"\"\"Create test client.\"\"\"\n    return app.test_client()\n\n@pytest.fixture\ndef db_session(app):\n    \"\"\"Create database session for testing.\"\"\"\n    with app.app_context():\n        db.session.begin()\n        yield db.session\n        db.session.rollback()\n\n@pytest.fixture\ndef user(db_session):\n    \"\"\"Create test user.\"\"\"\n    user = User(\n        username='testuser',\n        email='test@example.com',\n        first_name='Test',\n        last_name='User'\n    )\n    user.set_password('testpass')\n    user.save()\n    return user\n```\n"
              },
              {
                "name": "/deployment",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/deployment.md",
                "frontmatter": null,
                "content": "# Flask Deployment Configuration\n\nComplete production deployment setup for Flask applications.\n\n## Usage\n\n```bash\n# Build Docker image\ndocker build -t myapp .\n\n# Run with Docker Compose\ndocker-compose up -d\n\n# Deploy to cloud\ngunicorn --bind 0.0.0.0:8000 app:app\n```\n\n## Production Configuration\n\n```python\n# config.py\nimport os\nfrom urllib.parse import quote_plus\n\nclass ProductionConfig:\n    \"\"\"Production configuration.\"\"\"\n    \n    # Security\n    SECRET_KEY = os.environ.get('SECRET_KEY')\n    DEBUG = False\n    TESTING = False\n    \n    # Database\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        f\"postgresql://{os.environ.get('DB_USER')}:{quote_plus(os.environ.get('DB_PASSWORD'))}@\" \\\n        f\"{os.environ.get('DB_HOST')}:{os.environ.get('DB_PORT', '5432')}/{os.environ.get('DB_NAME')}\"\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    SQLALCHEMY_ENGINE_OPTIONS = {\n        'pool_size': 10,\n        'max_overflow': 20,\n        'pool_recycle': 3600,\n        'pool_pre_ping': True\n    }\n    \n    # Security Headers\n    SECURITY_HEADERS = {\n        'Strict-Transport-Security': 'max-age=31536000; includeSubDomains',\n        'X-Content-Type-Options': 'nosniff',\n        'X-Frame-Options': 'DENY',\n        'X-XSS-Protection': '1; mode=block',\n        'Content-Security-Policy': \"default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'\"\n    }\n    \n    # Session\n    SESSION_COOKIE_SECURE = True\n    SESSION_COOKIE_HTTPONLY = True\n    SESSION_COOKIE_SAMESITE = 'Lax'\n    PERMANENT_SESSION_LIFETIME = 3600  # 1 hour\n    \n    # Cache\n    CACHE_TYPE = 'redis'\n    CACHE_REDIS_URL = os.environ.get('REDIS_URL', 'redis://localhost:6379/0')\n    CACHE_DEFAULT_TIMEOUT = 300\n    \n    # Rate Limiting\n    RATELIMIT_STORAGE_URL = os.environ.get('REDIS_URL', 'redis://localhost:6379/1')\n    RATELIMIT_DEFAULT = '100/hour'\n    \n    # Logging\n    LOG_LEVEL = os.environ.get('LOG_LEVEL', 'INFO')\n    LOG_FILE = os.environ.get('LOG_FILE', '/var/log/app/app.log')\n    \n    # File Upload\n    MAX_CONTENT_LENGTH = 16 * 1024 * 1024  # 16MB\n    UPLOAD_FOLDER = os.environ.get('UPLOAD_FOLDER', '/var/uploads')\n    \n    # Email\n    MAIL_SERVER = os.environ.get('MAIL_SERVER')\n    MAIL_PORT = int(os.environ.get('MAIL_PORT', 587))\n    MAIL_USE_TLS = os.environ.get('MAIL_USE_TLS', 'true').lower() in ['true', 'on', '1']\n    MAIL_USERNAME = os.environ.get('MAIL_USERNAME')\n    MAIL_PASSWORD = os.environ.get('MAIL_PASSWORD')\n    MAIL_DEFAULT_SENDER = os.environ.get('MAIL_DEFAULT_SENDER')\n```\n\n## WSGI Configuration\n\n```python\n# wsgi.py\nimport os\nfrom app import create_app\n\n# Get environment\nconfig_name = os.environ.get('FLASK_ENV', 'production')\napp = create_app(config_name)\n\nif __name__ == \"__main__\":\n    app.run()\n```\n\n## Gunicorn Configuration\n\n```python\n# gunicorn.conf.py\nimport multiprocessing\nimport os\n\n# Server socket\nbind = f\"0.0.0.0:{os.environ.get('PORT', 8000)}\"\nbacklog = 2048\n\n# Worker processes\nworkers = multiprocessing.cpu_count() * 2 + 1\nworker_class = 'sync'\nworker_connections = 1000\ntimeout = 30\nkeepalive = 60\nmax_requests = 1000\nmax_requests_jitter = 100\n\n# Security\nlimit_request_line = 4094\nlimit_request_fields = 100\nlimit_request_field_size = 8190\n\n# Logging\naccesslog = '-'\nerrorlog = '-'\nloglevel = os.environ.get('LOG_LEVEL', 'info').lower()\naccess_log_format = '%(h)s %(l)s %(u)s %(t)s \"%(r)s\" %(s)s %(b)s \"%(f)s\" \"%(a)s\" %(D)s'\n\n# Process naming\nproc_name = 'flask_app'\n\n# Server mechanics\ndaemon = False\npidfile = '/tmp/gunicorn.pid'\nuser = os.environ.get('USER', 'www-data')\ngroup = os.environ.get('GROUP', 'www-data')\ntmp_upload_dir = None\n\n# SSL\nkeyfile = os.environ.get('SSL_KEYFILE')\ncertfile = os.environ.get('SSL_CERTFILE')\n```\n\n## Docker Configuration\n\n```dockerfile\n# Dockerfile\nFROM python:3.11-slim\n\n# Set environment variables\nENV PYTHONDONTWRITEBYTECODE=1 \\\n    PYTHONUNBUFFERED=1 \\\n    PIP_NO_CACHE_DIR=1 \\\n    PIP_DISABLE_PIP_VERSION_CHECK=1\n\n# Install system dependencies\nRUN apt-get update && apt-get install -y \\\n    build-essential \\\n    libpq-dev \\\n    curl \\\n    && rm -rf /var/lib/apt/lists/*\n\n# Create app user\nRUN groupadd -r appuser && useradd -r -g appuser appuser\n\n# Set work directory\nWORKDIR /app\n\n# Install Python dependencies\nCOPY requirements/production.txt ./requirements.txt\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy application code\nCOPY . .\n\n# Create necessary directories\nRUN mkdir -p /var/log/app /var/uploads && \\\n    chown -R appuser:appuser /app /var/log/app /var/uploads\n\n# Switch to non-root user\nUSER appuser\n\n# Expose port\nEXPOSE 8000\n\n# Health check\nHEALTHCHECK --interval=30s --timeout=30s --start-period=5s --retries=3 \\\n    CMD curl -f http://localhost:8000/health || exit 1\n\n# Run application\nCMD [\"gunicorn\", \"--config\", \"gunicorn.conf.py\", \"wsgi:app\"]\n```\n\n## Docker Compose\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\n\nservices:\n  web:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - FLASK_ENV=production\n      - DATABASE_URL=postgresql://postgres:password@db:5432/myapp\n      - REDIS_URL=redis://redis:6379/0\n      - SECRET_KEY=${SECRET_KEY}\n    depends_on:\n      - db\n      - redis\n    volumes:\n      - uploads:/var/uploads\n      - logs:/var/log/app\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8000/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  db:\n    image: postgres:15\n    environment:\n      - POSTGRES_DB=myapp\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U postgres\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  redis:\n    image: redis:7-alpine\n    command: redis-server --appendonly yes\n    volumes:\n      - redis_data:/data\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD\", \"redis-cli\", \"ping\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  nginx:\n    image: nginx:alpine\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf:ro\n      - ./ssl:/etc/nginx/ssl:ro\n      - uploads:/var/uploads:ro\n    depends_on:\n      - web\n    restart: unless-stopped\n\nvolumes:\n  postgres_data:\n  redis_data:\n  uploads:\n  logs:\n```\n\n## Nginx Configuration\n\n```nginx\n# nginx.conf\nevents {\n    worker_connections 1024;\n}\n\nhttp {\n    upstream app {\n        server web:8000;\n    }\n    \n    # Rate limiting\n    limit_req_zone $binary_remote_addr zone=api:10m rate=10r/s;\n    limit_req_zone $binary_remote_addr zone=login:10m rate=1r/s;\n    \n    # SSL configuration\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384;\n    ssl_prefer_server_ciphers off;\n    \n    # Security headers\n    add_header X-Frame-Options DENY;\n    add_header X-Content-Type-Options nosniff;\n    add_header X-XSS-Protection \"1; mode=block\";\n    add_header Strict-Transport-Security \"max-age=31536000; includeSubDomains\" always;\n    \n    server {\n        listen 80;\n        server_name example.com www.example.com;\n        return 301 https://$server_name$request_uri;\n    }\n    \n    server {\n        listen 443 ssl http2;\n        server_name example.com www.example.com;\n        \n        ssl_certificate /etc/nginx/ssl/cert.pem;\n        ssl_certificate_key /etc/nginx/ssl/key.pem;\n        \n        # File upload size\n        client_max_body_size 16M;\n        \n        # Static files\n        location /static/ {\n            alias /var/uploads/static/;\n            expires 1y;\n            add_header Cache-Control \"public, immutable\";\n        }\n        \n        location /uploads/ {\n            alias /var/uploads/;\n            expires 1h;\n        }\n        \n        # API rate limiting\n        location /api/ {\n            limit_req zone=api burst=20 nodelay;\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n        \n        # Login rate limiting\n        location /auth/login {\n            limit_req zone=login burst=5 nodelay;\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n        \n        # Main application\n        location / {\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n            \n            # Timeout settings\n            proxy_connect_timeout 60s;\n            proxy_send_timeout 60s;\n            proxy_read_timeout 60s;\n        }\n    }\n}\n```\n\n## Environment Variables\n\n```bash\n# .env.production\n# Application\nFLASK_ENV=production\nSECRET_KEY=your-super-secret-key-here\n\n# Database\nDATABASE_URL=postgresql://user:password@localhost:5432/myapp\nDB_HOST=localhost\nDB_PORT=5432\nDB_NAME=myapp\nDB_USER=user\nDB_PASSWORD=password\n\n# Redis\nREDIS_URL=redis://localhost:6379/0\n\n# Email\nMAIL_SERVER=smtp.gmail.com\nMAIL_PORT=587\nMAIL_USE_TLS=true\nMAIL_USERNAME=your-email@gmail.com\nMAIL_PASSWORD=your-app-password\nMAIL_DEFAULT_SENDER=your-email@gmail.com\n\n# Logging\nLOG_LEVEL=INFO\nLOG_FILE=/var/log/app/app.log\n\n# File Upload\nUPLOAD_FOLDER=/var/uploads\n\n# SSL (if using)\nSSL_KEYFILE=/path/to/private.key\nSSL_CERTFILE=/path/to/certificate.crt\n```\n\n## Health Check Endpoint\n\n```python\n# app/health.py\nfrom flask import Blueprint, jsonify\nfrom app.extensions import db\nfrom sqlalchemy import text\nimport redis\nimport os\n\nhealth_bp = Blueprint('health', __name__)\n\n@health_bp.route('/health')\ndef health_check():\n    \"\"\"Application health check.\"\"\"\n    checks = {\n        'status': 'healthy',\n        'database': check_database(),\n        'redis': check_redis(),\n        'disk_space': check_disk_space()\n    }\n    \n    # Determine overall status\n    if all(check['status'] == 'ok' for check in checks.values() if isinstance(check, dict)):\n        status_code = 200\n    else:\n        status_code = 503\n        checks['status'] = 'unhealthy'\n    \n    return jsonify(checks), status_code\n\ndef check_database():\n    \"\"\"Check database connectivity.\"\"\"\n    try:\n        db.session.execute(text('SELECT 1'))\n        return {'status': 'ok', 'message': 'Database connection successful'}\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n\ndef check_redis():\n    \"\"\"Check Redis connectivity.\"\"\"\n    try:\n        redis_url = os.environ.get('REDIS_URL', 'redis://localhost:6379/0')\n        r = redis.from_url(redis_url)\n        r.ping()\n        return {'status': 'ok', 'message': 'Redis connection successful'}\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n\ndef check_disk_space():\n    \"\"\"Check available disk space.\"\"\"\n    try:\n        import shutil\n        total, used, free = shutil.disk_usage('/')\n        free_percent = (free / total) * 100\n        \n        if free_percent > 10:\n            status = 'ok'\n        elif free_percent > 5:\n            status = 'warning'\n        else:\n            status = 'critical'\n        \n        return {\n            'status': status,\n            'free_space_percent': round(free_percent, 2),\n            'free_space_gb': round(free / (1024**3), 2)\n        }\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n```\n\n## Monitoring and Logging\n\n```python\n# app/logging.py\nimport logging\nimport logging.handlers\nimport os\nfrom flask import request, g\nimport time\n\ndef setup_logging(app):\n    \"\"\"Setup application logging.\"\"\"\n    if not app.debug and not app.testing:\n        # File logging\n        if app.config.get('LOG_FILE'):\n            file_handler = logging.handlers.RotatingFileHandler(\n                app.config['LOG_FILE'],\n                maxBytes=10240000,  # 10MB\n                backupCount=10\n            )\n            file_handler.setFormatter(logging.Formatter(\n                '%(asctime)s %(levelname)s: %(message)s '\n                '[in %(pathname)s:%(lineno)d]'\n            ))\n            file_handler.setLevel(getattr(logging, app.config.get('LOG_LEVEL', 'INFO')))\n            app.logger.addHandler(file_handler)\n        \n        # Console logging\n        if not app.logger.handlers:\n            stream_handler = logging.StreamHandler()\n            stream_handler.setFormatter(logging.Formatter(\n                '%(asctime)s %(levelname)s: %(message)s'\n            ))\n            stream_handler.setLevel(logging.INFO)\n            app.logger.addHandler(stream_handler)\n        \n        app.logger.setLevel(logging.INFO)\n        app.logger.info('Application startup')\n\n# Request timing middleware\n@app.before_request\ndef before_request():\n    g.start_time = time.time()\n\n@app.after_request\ndef after_request(response):\n    if hasattr(g, 'start_time'):\n        duration = time.time() - g.start_time\n        app.logger.info(\n            f'{request.method} {request.path} - '\n            f'{response.status_code} - {duration:.3f}s'\n        )\n    return response\n```\n\n## Database Backup Script\n\n```bash\n#!/bin/bash\n# backup.sh\n\nset -e\n\n# Configuration\nBACKUP_DIR=\"/var/backups/db\"\nDATABASE_URL=\"$DATABASE_URL\"\nDATE=$(date +%Y%m%d_%H%M%S)\nBACKUP_FILE=\"$BACKUP_DIR/backup_$DATE.sql\"\nRETENTION_DAYS=7\n\n# Create backup directory\nmkdir -p \"$BACKUP_DIR\"\n\n# Create backup\necho \"Creating database backup...\"\npg_dump \"$DATABASE_URL\" > \"$BACKUP_FILE\"\n\n# Compress backup\ngzip \"$BACKUP_FILE\"\n\n# Remove old backups\necho \"Cleaning up old backups...\"\nfind \"$BACKUP_DIR\" -name \"backup_*.sql.gz\" -mtime +$RETENTION_DAYS -delete\n\necho \"Backup completed: $BACKUP_FILE.gz\"\n```\n\n## Deployment Scripts\n\n```bash\n#!/bin/bash\n# deploy.sh\n\nset -e\n\necho \"Starting deployment...\"\n\n# Pull latest code\ngit pull origin main\n\n# Build new Docker image\ndocker-compose build web\n\n# Run database migrations\ndocker-compose run --rm web flask db upgrade\n\n# Update services\ndocker-compose up -d\n\n# Health check\necho \"Waiting for application to be ready...\"\nsleep 10\n\nif curl -f http://localhost:8000/health; then\n    echo \"Deployment successful!\"\nelse\n    echo \"Deployment failed - health check failed\"\n    exit 1\nfi\n```\n\n## Monitoring with Prometheus\n\n```python\n# app/metrics.py\nfrom prometheus_flask_exporter import PrometheusMetrics\nfrom flask import request\nimport time\n\ndef setup_metrics(app):\n    \"\"\"Setup Prometheus metrics.\"\"\"\n    metrics = PrometheusMetrics(app)\n    \n    # Custom metrics\n    metrics.info('app_info', 'Application info', version='1.0.0')\n    \n    # Database connection pool metrics\n    @metrics.gauge('db_pool_size', 'Database connection pool size')\n    def db_pool_size():\n        from app.extensions import db\n        return db.engine.pool.size()\n    \n    return metrics\n```\n"
              },
              {
                "name": "/flask-route",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/flask-route.md",
                "frontmatter": null,
                "content": "# Flask Route Generator\n\nCreate Flask routes with proper structure and error handling.\n\n## Purpose\n\nThis command helps you quickly create Flask routes with validation, error handling, and best practices.\n\n## Usage\n\n```\n/flask-route\n```\n\n## What this command does\n\n1. **Creates route functions** with proper decorators\n2. **Adds request validation** and error handling\n3. **Includes JSON responses** and status codes\n4. **Implements authentication** if needed\n5. **Follows Flask conventions** and best practices\n\n## Example Output\n\n```python\n# routes.py or app.py\nfrom flask import Flask, request, jsonify, abort\nfrom flask_sqlalchemy import SQLAlchemy\nfrom werkzeug.exceptions import BadRequest\n\napp = Flask(__name__)\n\n@app.route('/users', methods=['GET'])\ndef get_users():\n    \"\"\"Get all users with optional pagination.\"\"\"\n    try:\n        page = request.args.get('page', 1, type=int)\n        per_page = request.args.get('per_page', 10, type=int)\n        \n        users = User.query.paginate(\n            page=page, \n            per_page=per_page, \n            error_out=False\n        )\n        \n        return jsonify({\n            'users': [user.to_dict() for user in users.items],\n            'total': users.total,\n            'pages': users.pages,\n            'current_page': page\n        }), 200\n        \n    except Exception as e:\n        return jsonify({'error': 'Failed to fetch users'}), 500\n\n@app.route('/users/<int:user_id>', methods=['GET'])\ndef get_user(user_id):\n    \"\"\"Get a specific user by ID.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        return jsonify(user.to_dict()), 200\n        \n    except Exception as e:\n        return jsonify({'error': 'User not found'}), 404\n\n@app.route('/users', methods=['POST'])\ndef create_user():\n    \"\"\"Create a new user.\"\"\"\n    try:\n        data = request.get_json()\n        \n        if not data:\n            return jsonify({'error': 'No data provided'}), 400\n        \n        # Validate required fields\n        required_fields = ['name', 'email']\n        for field in required_fields:\n            if field not in data:\n                return jsonify({'error': f'{field} is required'}), 400\n        \n        # Check if email already exists\n        if User.query.filter_by(email=data['email']).first():\n            return jsonify({'error': 'Email already exists'}), 409\n        \n        # Create new user\n        user = User(\n            name=data['name'],\n            email=data['email'],\n            phone=data.get('phone'),\n            address=data.get('address')\n        )\n        \n        db.session.add(user)\n        db.session.commit()\n        \n        return jsonify(user.to_dict()), 201\n        \n    except BadRequest:\n        return jsonify({'error': 'Invalid JSON data'}), 400\n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to create user'}), 500\n\n@app.route('/users/<int:user_id>', methods=['PUT'])\ndef update_user(user_id):\n    \"\"\"Update an existing user.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        data = request.get_json()\n        \n        if not data:\n            return jsonify({'error': 'No data provided'}), 400\n        \n        # Update fields\n        if 'name' in data:\n            user.name = data['name']\n        if 'email' in data:\n            # Check if new email already exists\n            existing_user = User.query.filter_by(email=data['email']).first()\n            if existing_user and existing_user.id != user_id:\n                return jsonify({'error': 'Email already exists'}), 409\n            user.email = data['email']\n        if 'phone' in data:\n            user.phone = data['phone']\n        if 'address' in data:\n            user.address = data['address']\n        \n        db.session.commit()\n        \n        return jsonify(user.to_dict()), 200\n        \n    except BadRequest:\n        return jsonify({'error': 'Invalid JSON data'}), 400\n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to update user'}), 500\n\n@app.route('/users/<int:user_id>', methods=['DELETE'])\ndef delete_user(user_id):\n    \"\"\"Delete a user.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        \n        db.session.delete(user)\n        db.session.commit()\n        \n        return jsonify({'message': 'User deleted successfully'}), 200\n        \n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to delete user'}), 500\n\n# Error handlers\n@app.errorhandler(404)\ndef not_found(error):\n    return jsonify({'error': 'Resource not found'}), 404\n\n@app.errorhandler(400)\ndef bad_request(error):\n    return jsonify({'error': 'Bad request'}), 400\n\n@app.errorhandler(500)\ndef internal_error(error):\n    return jsonify({'error': 'Internal server error'}), 500\n```\n\n## Route Patterns Supported\n\n### Basic Routes\n```python\n@app.route('/')\n@app.route('/users')\n@app.route('/users/<int:user_id>')\n```\n\n### HTTP Methods\n```python\n@app.route('/users', methods=['GET', 'POST'])\n@app.route('/users/<int:id>', methods=['GET', 'PUT', 'DELETE'])\n```\n\n### URL Parameters\n```python\n@app.route('/users/<int:user_id>')\n@app.route('/posts/<string:slug>')\n@app.route('/files/<path:filename>')\n```\n\n## Best Practices Included\n\n- **Input validation** for all user data\n- **Proper HTTP status codes** (200, 201, 400, 404, 500)\n- **JSON responses** with consistent structure\n- **Error handling** with try/catch blocks\n- **Database rollback** on errors\n- **RESTful conventions** for URL design\n- **Documentation strings** for each route\n- **Request data validation** before processing\n\n## Common Response Patterns\n\n```python\n# Success with data\nreturn jsonify({'data': result}), 200\n\n# Created resource\nreturn jsonify({'data': new_resource, 'id': new_id}), 201\n\n# Validation error\nreturn jsonify({'error': 'Field is required'}), 400\n\n# Not found\nreturn jsonify({'error': 'Resource not found'}), 404\n\n# Server error\nreturn jsonify({'error': 'Internal server error'}), 500\n```"
              },
              {
                "name": "/testing",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/testing.md",
                "frontmatter": null,
                "content": "# Flask Testing Suite\n\nComprehensive testing setup for Flask applications with pytest.\n\n## Usage\n\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=app --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n```\n\n## Test Configuration\n\n```python\n# pytest.ini\n[tool:pytest]\ntestpaths = tests\npython_files = test_*.py\npython_classes = Test*\npython_functions = test_*\naddopts = \n    --cov=app\n    --cov-report=term-missing\n    --cov-report=html:htmlcov\n    --strict-markers\n    --disable-warnings\nmarkers =\n    unit: Unit tests\n    integration: Integration tests\n    slow: Slow running tests\n    auth: Authentication tests\n```\n\n## Test Fixtures\n\n```python\n# tests/conftest.py\nimport pytest\nimport tempfile\nimport os\nfrom app import create_app\nfrom app.extensions import db\nfrom app.models import User, Post, Category\nfrom flask_login import login_user\n\n@pytest.fixture(scope='session')\ndef app():\n    \"\"\"Create test application.\"\"\"\n    # Create temporary database\n    db_fd, db_path = tempfile.mkstemp()\n    \n    app = create_app({\n        'TESTING': True,\n        'SQLALCHEMY_DATABASE_URI': f'sqlite:///{db_path}',\n        'WTF_CSRF_ENABLED': False,\n        'SECRET_KEY': 'test-secret-key'\n    })\n    \n    with app.app_context():\n        db.create_all()\n        yield app\n        \n    # Cleanup\n    os.close(db_fd)\n    os.unlink(db_path)\n\n@pytest.fixture\ndef client(app):\n    \"\"\"Create test client.\"\"\"\n    return app.test_client()\n\n@pytest.fixture\ndef runner(app):\n    \"\"\"Create test CLI runner.\"\"\"\n    return app.test_cli_runner()\n\n@pytest.fixture\ndef db_session(app):\n    \"\"\"Create database session for testing.\"\"\"\n    with app.app_context():\n        connection = db.engine.connect()\n        transaction = connection.begin()\n        \n        # Configure session to use the connection\n        db.session.configure(bind=connection)\n        \n        yield db.session\n        \n        # Rollback transaction\n        transaction.rollback()\n        connection.close()\n        db.session.remove()\n\n@pytest.fixture\ndef user(db_session):\n    \"\"\"Create test user.\"\"\"\n    user = User(\n        username='testuser',\n        email='test@example.com',\n        first_name='Test',\n        last_name='User'\n    )\n    user.set_password('testpass123')\n    user.save()\n    return user\n\n@pytest.fixture\ndef admin_user(db_session):\n    \"\"\"Create admin user.\"\"\"\n    admin = User(\n        username='admin',\n        email='admin@example.com',\n        first_name='Admin',\n        last_name='User',\n        is_admin=True\n    )\n    admin.set_password('adminpass123')\n    admin.save()\n    return admin\n\n@pytest.fixture\ndef category(db_session):\n    \"\"\"Create test category.\"\"\"\n    category = Category(\n        name='Test Category',\n        description='A test category'\n    )\n    category.save()\n    return category\n\n@pytest.fixture\ndef post(db_session, user, category):\n    \"\"\"Create test post.\"\"\"\n    post = Post(\n        title='Test Post',\n        content='This is a test post content.',\n        slug='test-post',\n        status='published',\n        user_id=user.id,\n        category_id=category.id\n    )\n    post.save()\n    return post\n\n@pytest.fixture\ndef auth_headers(user):\n    \"\"\"Create authentication headers.\"\"\"\n    # For API testing\n    token = user.generate_auth_token()\n    return {'Authorization': f'Bearer {token}'}\n```\n\n## Model Testing\n\n```python\n# tests/test_models.py\nimport pytest\nfrom datetime import datetime\nfrom app.models import User, Post, Category\nfrom werkzeug.security import check_password_hash\n\nclass TestUser:\n    \"\"\"Test User model.\"\"\"\n    \n    def test_user_creation(self, db_session):\n        \"\"\"Test user creation.\"\"\"\n        user = User(\n            username='newuser',\n            email='new@example.com',\n            first_name='New',\n            last_name='User'\n        )\n        user.set_password('password123')\n        user.save()\n        \n        assert user.id is not None\n        assert user.username == 'newuser'\n        assert user.email == 'new@example.com'\n        assert user.full_name == 'New User'\n        assert user.is_active is True\n        assert user.is_admin is False\n        assert user.created_at is not None\n    \n    def test_password_hashing(self, user):\n        \"\"\"Test password hashing.\"\"\"\n        user.set_password('newpassword')\n        assert user.password_hash != 'newpassword'\n        assert check_password_hash(user.password_hash, 'newpassword')\n        assert user.check_password('newpassword')\n        assert not user.check_password('wrongpassword')\n    \n    def test_user_repr(self, user):\n        \"\"\"Test user string representation.\"\"\"\n        assert repr(user) == '<User testuser>'\n    \n    def test_user_to_dict(self, user):\n        \"\"\"Test user dictionary conversion.\"\"\"\n        user_dict = user.to_dict()\n        assert 'username' in user_dict\n        assert 'email' in user_dict\n        assert 'password_hash' not in user_dict  # Should be excluded\n    \n    def test_user_relationships(self, user, post):\n        \"\"\"Test user relationships.\"\"\"\n        assert post in user.posts\n        assert user.posts.count() == 1\n\nclass TestPost:\n    \"\"\"Test Post model.\"\"\"\n    \n    def test_post_creation(self, db_session, user, category):\n        \"\"\"Test post creation.\"\"\"\n        post = Post(\n            title='New Post',\n            content='New post content',\n            slug='new-post',\n            status='draft',\n            user_id=user.id,\n            category_id=category.id\n        )\n        post.save()\n        \n        assert post.id is not None\n        assert post.title == 'New Post'\n        assert post.author == user\n        assert post.category == category\n        assert not post.is_published\n    \n    def test_published_status(self, post):\n        \"\"\"Test post published status.\"\"\"\n        assert post.is_published  # Published with published_at\n        \n        post.status = 'draft'\n        assert not post.is_published\n```\n\n## View Testing\n\n```python\n# tests/test_views.py\nimport pytest\nfrom flask import url_for\nfrom app.models import User\n\nclass TestMainViews:\n    \"\"\"Test main application views.\"\"\"\n    \n    def test_home_page(self, client):\n        \"\"\"Test home page.\"\"\"\n        response = client.get('/')\n        assert response.status_code == 200\n        assert b'Welcome' in response.data\n    \n    def test_about_page(self, client):\n        \"\"\"Test about page.\"\"\"\n        response = client.get('/about')\n        assert response.status_code == 200\n\nclass TestUserViews:\n    \"\"\"Test user-related views.\"\"\"\n    \n    def test_user_list(self, client, user):\n        \"\"\"Test user list page.\"\"\"\n        response = client.get('/users/')\n        assert response.status_code == 200\n        assert user.username.encode() in response.data\n    \n    def test_user_detail(self, client, user):\n        \"\"\"Test user detail page.\"\"\"\n        response = client.get(f'/users/{user.id}')\n        assert response.status_code == 200\n        assert user.username.encode() in response.data\n    \n    def test_user_create_get(self, client):\n        \"\"\"Test user creation form.\"\"\"\n        response = client.get('/users/create')\n        assert response.status_code == 200\n        assert b'Create User' in response.data\n    \n    def test_user_create_post(self, client, db_session):\n        \"\"\"Test user creation submission.\"\"\"\n        data = {\n            'username': 'newuser',\n            'email': 'new@example.com',\n            'first_name': 'New',\n            'last_name': 'User',\n            'password': 'password123',\n            'confirm_password': 'password123'\n        }\n        response = client.post('/users/create', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Check user was created\n        user = User.query.filter_by(username='newuser').first()\n        assert user is not None\n        assert user.email == 'new@example.com'\n    \n    def test_user_edit(self, client, user):\n        \"\"\"Test user editing.\"\"\"\n        data = {\n            'username': user.username,\n            'email': 'updated@example.com',\n            'first_name': 'Updated',\n            'last_name': 'User'\n        }\n        response = client.post(f'/users/{user.id}/edit', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Refresh user from database\n        db_session.refresh(user)\n        assert user.email == 'updated@example.com'\n        assert user.first_name == 'Updated'\n```\n\n## Authentication Testing\n\n```python\n# tests/test_auth.py\nimport pytest\nfrom flask import url_for\nfrom app.models import User\n\nclass TestAuthentication:\n    \"\"\"Test authentication functionality.\"\"\"\n    \n    def test_login_page(self, client):\n        \"\"\"Test login page access.\"\"\"\n        response = client.get('/auth/login')\n        assert response.status_code == 200\n        assert b'Login' in response.data\n    \n    def test_valid_login(self, client, user):\n        \"\"\"Test valid user login.\"\"\"\n        data = {\n            'username': user.username,\n            'password': 'testpass123'\n        }\n        response = client.post('/auth/login', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        assert b'Welcome' in response.data\n    \n    def test_invalid_login(self, client, user):\n        \"\"\"Test invalid login credentials.\"\"\"\n        data = {\n            'username': user.username,\n            'password': 'wrongpassword'\n        }\n        response = client.post('/auth/login', data=data)\n        assert response.status_code == 200\n        assert b'Invalid' in response.data\n    \n    def test_logout(self, client, user):\n        \"\"\"Test user logout.\"\"\"\n        # Login first\n        with client.session_transaction() as sess:\n            sess['_user_id'] = str(user.id)\n        \n        response = client.get('/auth/logout', follow_redirects=True)\n        assert response.status_code == 200\n    \n    def test_register_page(self, client):\n        \"\"\"Test registration page.\"\"\"\n        response = client.get('/auth/register')\n        assert response.status_code == 200\n        assert b'Register' in response.data\n    \n    def test_valid_registration(self, client, db_session):\n        \"\"\"Test valid user registration.\"\"\"\n        data = {\n            'username': 'newuser',\n            'email': 'new@example.com',\n            'first_name': 'New',\n            'last_name': 'User',\n            'password': 'password123',\n            'confirm_password': 'password123'\n        }\n        response = client.post('/auth/register', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Check user was created\n        user = User.query.filter_by(username='newuser').first()\n        assert user is not None\n```\n\n## API Testing\n\n```python\n# tests/test_api.py\nimport pytest\nimport json\nfrom flask import url_for\n\nclass TestUserAPI:\n    \"\"\"Test User API endpoints.\"\"\"\n    \n    def test_get_users(self, client, user):\n        \"\"\"Test GET /api/users.\"\"\"\n        response = client.get('/api/users')\n        assert response.status_code == 200\n        \n        data = json.loads(response.data)\n        assert 'users' in data\n        assert len(data['users']) >= 1\n    \n    def test_get_user(self, client, user):\n        \"\"\"Test GET /api/users/<id>.\"\"\"\n        response = client.get(f'/api/users/{user.id}')\n        assert response.status_code == 200\n        \n        data = json.loads(response.data)\n        assert data['username'] == user.username\n        assert data['email'] == user.email\n    \n    def test_create_user(self, client, db_session):\n        \"\"\"Test POST /api/users.\"\"\"\n        user_data = {\n            'username': 'apiuser',\n            'email': 'api@example.com',\n            'first_name': 'API',\n            'last_name': 'User',\n            'password': 'password123'\n        }\n        \n        response = client.post(\n            '/api/users',\n            data=json.dumps(user_data),\n            content_type='application/json'\n        )\n        \n        assert response.status_code == 201\n        data = json.loads(response.data)\n        assert data['username'] == 'apiuser'\n    \n    def test_update_user(self, client, user, auth_headers):\n        \"\"\"Test PUT /api/users/<id>.\"\"\"\n        update_data = {\n            'email': 'updated@example.com',\n            'first_name': 'Updated'\n        }\n        \n        response = client.put(\n            f'/api/users/{user.id}',\n            data=json.dumps(update_data),\n            content_type='application/json',\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = json.loads(response.data)\n        assert data['email'] == 'updated@example.com'\n    \n    def test_delete_user(self, client, user, auth_headers):\n        \"\"\"Test DELETE /api/users/<id>.\"\"\"\n        response = client.delete(\n            f'/api/users/{user.id}',\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 204\n```\n\n## Test Utilities\n\n```python\n# tests/utils.py\nimport json\nfrom flask import url_for\n\ndef login_user(client, username, password):\n    \"\"\"Helper to login user in tests.\"\"\"\n    return client.post('/auth/login', data={\n        'username': username,\n        'password': password\n    }, follow_redirects=True)\n\ndef logout_user(client):\n    \"\"\"Helper to logout user in tests.\"\"\"\n    return client.get('/auth/logout', follow_redirects=True)\n\ndef assert_json_response(response, expected_status=200):\n    \"\"\"Assert JSON response format and status.\"\"\"\n    assert response.status_code == expected_status\n    assert response.content_type == 'application/json'\n    return json.loads(response.data)\n\ndef create_test_data(db_session):\n    \"\"\"Create common test data.\"\"\"\n    from app.models import User, Category, Post\n    \n    # Create test users\n    users = []\n    for i in range(3):\n        user = User(\n            username=f'user{i}',\n            email=f'user{i}@example.com',\n            first_name=f'User{i}',\n            last_name='Test'\n        )\n        user.set_password('password123')\n        user.save()\n        users.append(user)\n    \n    return {'users': users}\n```\n\n## Performance Testing\n\n```python\n# tests/test_performance.py\nimport pytest\nimport time\nfrom app.models import User\n\n@pytest.mark.slow\nclass TestPerformance:\n    \"\"\"Test application performance.\"\"\"\n    \n    def test_user_query_performance(self, db_session):\n        \"\"\"Test user query performance.\"\"\"\n        # Create multiple users\n        users = []\n        for i in range(100):\n            user = User(\n                username=f'perfuser{i}',\n                email=f'perf{i}@example.com',\n                first_name=f'Perf{i}',\n                last_name='User'\n            )\n            users.append(user)\n        \n        db_session.bulk_save_objects(users)\n        db_session.commit()\n        \n        # Test query performance\n        start_time = time.time()\n        result = User.query.all()\n        end_time = time.time()\n        \n        assert len(result) >= 100\n        assert (end_time - start_time) < 0.1  # Should complete in under 100ms\n    \n    def test_endpoint_response_time(self, client):\n        \"\"\"Test endpoint response time.\"\"\"\n        start_time = time.time()\n        response = client.get('/')\n        end_time = time.time()\n        \n        assert response.status_code == 200\n        assert (end_time - start_time) < 0.5  # Should respond in under 500ms\n```\n"
              },
              {
                "name": "/model",
                "description": null,
                "path": "cli-tool/templates/ruby/.claude/commands/model.md",
                "frontmatter": null,
                "content": "# Ruby Model Generator\n\nCreate Ruby classes and models with proper structure and best practices.\n\n## Purpose\n\nThis command helps you quickly create Ruby model classes with proper initialization, attributes, and methods following Ruby conventions.\n\n## Usage\n\n```\n/model\n```\n\n## What this command does\n\n1. **Creates model classes** with proper initialization methods\n2. **Adds attribute accessors** and instance variables\n3. **Includes validation methods** and error handling\n4. **Follows Ruby conventions** and best practices\n5. **Generates related test files** when applicable\n\n## Example Output\n\n```ruby\n# app/models/user.rb\nclass User\n  attr_accessor :name, :email, :age\n  attr_reader :id, :created_at\n  \n  def initialize(attributes = {})\n    @id = attributes[:id] || generate_id\n    @name = attributes[:name]\n    @email = attributes[:email]\n    @age = attributes[:age]\n    @created_at = Time.now\n    @errors = []\n  end\n  \n  def valid?\n    @errors.clear\n    validate_presence_of_name\n    validate_email_format\n    validate_age_range\n    @errors.empty?\n  end\n  \n  def errors\n    @errors.dup\n  end\n  \n  def save\n    return false unless valid?\n    \n    # Persist logic here\n    true\n  end\n  \n  def to_h\n    {\n      id: @id,\n      name: @name,\n      email: @email,\n      age: @age,\n      created_at: @created_at\n    }\n  end\n  \n  def to_json(*args)\n    JSON.generate(to_h, *args)\n  end\n  \n  private\n  \n  def validate_presence_of_name\n    if @name.nil? || @name.strip.empty?\n      @errors << \"Name cannot be blank\"\n    end\n  end\n  \n  def validate_email_format\n    if @email && !@email.match?(/\\A[\\w+\\-.]+@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)*\\.[a-z]+\\z/i)\n      @errors << \"Email format is invalid\"\n    end\n  end\n  \n  def validate_age_range\n    if @age && (@age < 0 || @age > 150)\n      @errors << \"Age must be between 0 and 150\"\n    end\n  end\n  \n  def generate_id\n    SecureRandom.uuid\n  end\nend\n\n# Example with inheritance\nclass AdminUser < User\n  attr_accessor :permissions\n  \n  def initialize(attributes = {})\n    super\n    @permissions = attributes[:permissions] || []\n  end\n  \n  def admin?\n    true\n  end\n  \n  def has_permission?(permission)\n    @permissions.include?(permission)\n  end\n  \n  private\n  \n  def validate_permissions\n    unless @permissions.is_a?(Array)\n      @errors << \"Permissions must be an array\"\n    end\n  end\nend\n```\n\n## Advanced Features\n\n### Module Inclusion\n```ruby\nmodule Timestamps\n  def self.included(base)\n    base.extend(ClassMethods)\n  end\n  \n  module ClassMethods\n    def with_timestamps\n      attr_reader :created_at, :updated_at\n      \n      define_method :initialize do |*args|\n        super(*args)\n        @created_at ||= Time.now\n        @updated_at = @created_at\n      end\n      \n      define_method :touch do\n        @updated_at = Time.now\n      end\n    end\n  end\nend\n\nclass Post\n  include Timestamps\n  with_timestamps\n  \n  attr_accessor :title, :content\n  \n  def initialize(attributes = {})\n    @title = attributes[:title]\n    @content = attributes[:content]\n    super\n  end\nend\n```\n\n### Class Methods and Scopes\n```ruby\nclass User\n  @@users = []\n  \n  def self.all\n    @@users.dup\n  end\n  \n  def self.find_by_email(email)\n    @@users.find { |user| user.email == email }\n  end\n  \n  def self.where(conditions = {})\n    @@users.select do |user|\n      conditions.all? { |key, value| user.send(key) == value }\n    end\n  end\n  \n  def self.create(attributes = {})\n    user = new(attributes)\n    if user.save\n      @@users << user\n      user\n    else\n      nil\n    end\n  end\n  \n  def save\n    return false unless valid?\n    \n    unless @@users.include?(self)\n      @@users << self\n    end\n    true\n  end\n  \n  def destroy\n    @@users.delete(self)\n  end\nend\n```\n\n## Testing Template\n\n```ruby\n# spec/models/user_spec.rb\nrequire 'spec_helper'\n\nRSpec.describe User do\n  let(:valid_attributes) do\n    {\n      name: 'John Doe',\n      email: 'john@example.com',\n      age: 30\n    }\n  end\n  \n  describe '#initialize' do\n    it 'sets attributes correctly' do\n      user = User.new(valid_attributes)\n      \n      expect(user.name).to eq('John Doe')\n      expect(user.email).to eq('john@example.com')\n      expect(user.age).to eq(30)\n      expect(user.id).not_to be_nil\n      expect(user.created_at).to be_a(Time)\n    end\n  end\n  \n  describe '#valid?' do\n    it 'returns true for valid attributes' do\n      user = User.new(valid_attributes)\n      expect(user).to be_valid\n    end\n    \n    it 'returns false when name is blank' do\n      user = User.new(valid_attributes.merge(name: ''))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Name cannot be blank')\n    end\n    \n    it 'returns false for invalid email format' do\n      user = User.new(valid_attributes.merge(email: 'invalid-email'))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Email format is invalid')\n    end\n    \n    it 'returns false for invalid age' do\n      user = User.new(valid_attributes.merge(age: -5))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Age must be between 0 and 150')\n    end\n  end\n  \n  describe '#save' do\n    it 'saves valid user' do\n      user = User.new(valid_attributes)\n      expect(user.save).to be true\n    end\n    \n    it 'does not save invalid user' do\n      user = User.new(name: '')\n      expect(user.save).to be false\n    end\n  end\n  \n  describe '#to_h' do\n    it 'returns hash representation' do\n      user = User.new(valid_attributes)\n      hash = user.to_h\n      \n      expect(hash).to include(\n        name: 'John Doe',\n        email: 'john@example.com',\n        age: 30\n      )\n      expect(hash[:id]).not_to be_nil\n      expect(hash[:created_at]).to be_a(Time)\n    end\n  end\nend\n```\n\n## Best Practices Included\n\n- **Proper initialization** with hash parameters\n- **Attribute accessors** for public attributes\n- **Validation methods** with error collection\n- **JSON serialization** support\n- **Class and instance methods** separation\n- **Error handling** and reporting\n- **Ruby naming conventions** (snake_case)\n- **Encapsulation** with private methods\n\n## Common Patterns\n\n### Value Objects\n```ruby\nclass Money\n  include Comparable\n  \n  attr_reader :amount, :currency\n  \n  def initialize(amount, currency = 'USD')\n    @amount = amount.to_f\n    @currency = currency.to_s.upcase\n  end\n  \n  def +(other)\n    raise ArgumentError, \"Currency mismatch\" unless currency == other.currency\n    Money.new(amount + other.amount, currency)\n  end\n  \n  def <=>(other)\n    raise ArgumentError, \"Currency mismatch\" unless currency == other.currency\n    amount <=> other.amount\n  end\n  \n  def to_s\n    \"#{currency} #{format('%.2f', amount)}\"\n  end\nend\n```\n\n### Service Objects\n```ruby\nclass UserRegistrationService\n  attr_reader :user, :errors\n  \n  def initialize(user_params)\n    @user_params = user_params\n    @errors = []\n  end\n  \n  def call\n    @user = User.new(@user_params)\n    \n    if @user.valid?\n      @user.save\n      send_welcome_email\n      true\n    else\n      @errors = @user.errors\n      false\n    end\n  end\n  \n  private\n  \n  def send_welcome_email\n    # Email sending logic\n  end\nend\n```"
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/ruby/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Ruby Test Generator\n\nCreate comprehensive test files with RSpec or Minitest following Ruby testing best practices.\n\n## Purpose\n\nThis command helps you quickly create test files with proper structure, examples, and testing patterns for Ruby applications.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Creates test files** with proper structure for RSpec or Minitest\n2. **Includes test examples** for common scenarios\n3. **Sets up test helpers** and support files\n4. **Follows testing conventions** and best practices\n5. **Generates factory/fixture data** when needed\n\n## RSpec Example Output\n\n```ruby\n# spec/models/user_spec.rb\nrequire 'spec_helper'\n\nRSpec.describe User do\n  let(:user) { build(:user) }\n  let(:valid_attributes) do\n    {\n      name: 'John Doe',\n      email: 'john@example.com',\n      age: 30\n    }\n  end\n  \n  describe 'validations' do\n    it { should validate_presence_of(:name) }\n    it { should validate_presence_of(:email) }\n    it { should validate_uniqueness_of(:email) }\n    it { should validate_numericality_of(:age).is_greater_than(0) }\n    \n    context 'when email format is invalid' do\n      let(:user) { build(:user, email: 'invalid-email') }\n      \n      it 'is not valid' do\n        expect(user).not_to be_valid\n        expect(user.errors[:email]).to include('is invalid')\n      end\n    end\n  end\n  \n  describe 'associations' do\n    it { should have_many(:posts) }\n    it { should have_many(:comments) }\n  end\n  \n  describe 'callbacks' do\n    describe 'before_save' do\n      it 'normalizes email' do\n        user = create(:user, email: 'JOHN@EXAMPLE.COM')\n        expect(user.email).to eq('john@example.com')\n      end\n    end\n  end\n  \n  describe 'instance methods' do\n    describe '#full_name' do\n      let(:user) { build(:user, first_name: 'John', last_name: 'Doe') }\n      \n      it 'returns the full name' do\n        expect(user.full_name).to eq('John Doe')\n      end\n      \n      context 'when last_name is missing' do\n        let(:user) { build(:user, first_name: 'John', last_name: nil) }\n        \n        it 'returns only first_name' do\n          expect(user.full_name).to eq('John')\n        end\n      end\n    end\n    \n    describe '#active?' do\n      context 'when user is active' do\n        let(:user) { build(:user, status: 'active') }\n        \n        it 'returns true' do\n          expect(user.active?).to be true\n        end\n      end\n      \n      context 'when user is inactive' do\n        let(:user) { build(:user, status: 'inactive') }\n        \n        it 'returns false' do\n          expect(user.active?).to be false\n        end\n      end\n    end\n  end\n  \n  describe 'class methods' do\n    describe '.active' do\n      let!(:active_user) { create(:user, status: 'active') }\n      let!(:inactive_user) { create(:user, status: 'inactive') }\n      \n      it 'returns only active users' do\n        expect(User.active).to include(active_user)\n        expect(User.active).not_to include(inactive_user)\n      end\n    end\n    \n    describe '.find_by_email' do\n      let!(:user) { create(:user, email: 'test@example.com') }\n      \n      it 'finds user by email' do\n        found_user = User.find_by_email('test@example.com')\n        expect(found_user).to eq(user)\n      end\n      \n      it 'returns nil when user not found' do\n        found_user = User.find_by_email('nonexistent@example.com')\n        expect(found_user).to be_nil\n      end\n    end\n  end\n  \n  describe 'scopes' do\n    describe '.recent' do\n      let!(:old_user) { create(:user, created_at: 1.year.ago) }\n      let!(:recent_user) { create(:user, created_at: 1.day.ago) }\n      \n      it 'returns users created in the last 30 days' do\n        expect(User.recent).to include(recent_user)\n        expect(User.recent).not_to include(old_user)\n      end\n    end\n  end\nend\n```\n\n## Minitest Example Output\n\n```ruby\n# test/models/user_test.rb\nrequire 'test_helper'\n\nclass UserTest < ActiveSupport::TestCase\n  def setup\n    @user = users(:john)\n    @valid_attributes = {\n      name: 'Jane Doe',\n      email: 'jane@example.com',\n      age: 25\n    }\n  end\n  \n  # Validation tests\n  test 'should not save user without name' do\n    user = User.new(@valid_attributes.except(:name))\n    assert_not user.save\n    assert_includes user.errors[:name], \"can't be blank\"\n  end\n  \n  test 'should not save user without email' do\n    user = User.new(@valid_attributes.except(:email))\n    assert_not user.save\n    assert_includes user.errors[:email], \"can't be blank\"\n  end\n  \n  test 'should not save user with invalid email' do\n    user = User.new(@valid_attributes.merge(email: 'invalid-email'))\n    assert_not user.save\n    assert_includes user.errors[:email], 'is invalid'\n  end\n  \n  test 'should not save user with duplicate email' do\n    user1 = User.create!(@valid_attributes)\n    user2 = User.new(@valid_attributes)\n    assert_not user2.save\n    assert_includes user2.errors[:email], 'has already been taken'\n  end\n  \n  test 'should save user with valid attributes' do\n    user = User.new(@valid_attributes)\n    assert user.save\n  end\n  \n  # Association tests\n  test 'should have many posts' do\n    assert_respond_to @user, :posts\n    assert_kind_of ActiveRecord::Associations::CollectionProxy, @user.posts\n  end\n  \n  test 'should have many comments' do\n    assert_respond_to @user, :comments\n  end\n  \n  # Instance method tests\n  test 'full_name should return first and last name' do\n    @user.first_name = 'John'\n    @user.last_name = 'Doe'\n    assert_equal 'John Doe', @user.full_name\n  end\n  \n  test 'full_name should return first name only when last name is missing' do\n    @user.first_name = 'John'\n    @user.last_name = nil\n    assert_equal 'John', @user.full_name\n  end\n  \n  test 'active? should return true for active users' do\n    @user.status = 'active'\n    assert @user.active?\n  end\n  \n  test 'active? should return false for inactive users' do\n    @user.status = 'inactive'\n    assert_not @user.active?\n  end\n  \n  # Class method tests\n  test 'active scope should return only active users' do\n    active_user = User.create!(@valid_attributes.merge(status: 'active'))\n    inactive_user = User.create!(@valid_attributes.merge(\n      email: 'inactive@example.com',\n      status: 'inactive'\n    ))\n    \n    active_users = User.active\n    assert_includes active_users, active_user\n    assert_not_includes active_users, inactive_user\n  end\n  \n  test 'find_by_email should find user by email' do\n    user = User.create!(@valid_attributes)\n    found_user = User.find_by_email(@valid_attributes[:email])\n    assert_equal user, found_user\n  end\n  \n  test 'find_by_email should return nil when user not found' do\n    found_user = User.find_by_email('nonexistent@example.com')\n    assert_nil found_user\n  end\nend\n```\n\n## Controller Test Example\n\n```ruby\n# spec/controllers/users_controller_spec.rb\nrequire 'rails_helper'\n\nRSpec.describe UsersController, type: :controller do\n  let(:user) { create(:user) }\n  let(:valid_attributes) { attributes_for(:user) }\n  let(:invalid_attributes) { { name: '', email: 'invalid' } }\n  \n  describe 'GET #index' do\n    it 'returns a success response' do\n      get :index\n      expect(response).to be_successful\n    end\n    \n    it 'assigns @users' do\n      user1 = create(:user)\n      user2 = create(:user)\n      get :index\n      expect(assigns(:users)).to match_array([user1, user2])\n    end\n  end\n  \n  describe 'GET #show' do\n    it 'returns a success response' do\n      get :show, params: { id: user.to_param }\n      expect(response).to be_successful\n    end\n    \n    it 'assigns the requested user' do\n      get :show, params: { id: user.to_param }\n      expect(assigns(:user)).to eq(user)\n    end\n  end\n  \n  describe 'POST #create' do\n    context 'with valid parameters' do\n      it 'creates a new User' do\n        expect {\n          post :create, params: { user: valid_attributes }\n        }.to change(User, :count).by(1)\n      end\n      \n      it 'redirects to the created user' do\n        post :create, params: { user: valid_attributes }\n        expect(response).to redirect_to(User.last)\n      end\n    end\n    \n    context 'with invalid parameters' do\n      it 'does not create a new User' do\n        expect {\n          post :create, params: { user: invalid_attributes }\n        }.to change(User, :count).by(0)\n      end\n      \n      it 'renders the new template' do\n        post :create, params: { user: invalid_attributes }\n        expect(response).to render_template(:new)\n      end\n    end\n  end\n  \n  describe 'PUT #update' do\n    context 'with valid parameters' do\n      let(:new_attributes) { { name: 'Updated Name' } }\n      \n      it 'updates the requested user' do\n        put :update, params: { id: user.to_param, user: new_attributes }\n        user.reload\n        expect(user.name).to eq('Updated Name')\n      end\n      \n      it 'redirects to the user' do\n        put :update, params: { id: user.to_param, user: new_attributes }\n        expect(response).to redirect_to(user)\n      end\n    end\n    \n    context 'with invalid parameters' do\n      it 'renders the edit template' do\n        put :update, params: { id: user.to_param, user: invalid_attributes }\n        expect(response).to render_template(:edit)\n      end\n    end\n  end\n  \n  describe 'DELETE #destroy' do\n    it 'destroys the requested user' do\n      user # Create user\n      expect {\n        delete :destroy, params: { id: user.to_param }\n      }.to change(User, :count).by(-1)\n    end\n    \n    it 'redirects to the users list' do\n      delete :destroy, params: { id: user.to_param }\n      expect(response).to redirect_to(users_url)\n    end\n  end\nend\n```\n\n## Factory Configuration\n\n```ruby\n# spec/factories/users.rb\nFactoryBot.define do\n  factory :user do\n    sequence(:name) { |n| \"User #{n}\" }\n    sequence(:email) { |n| \"user#{n}@example.com\" }\n    age { rand(18..80) }\n    status { 'active' }\n    \n    trait :inactive do\n      status { 'inactive' }\n    end\n    \n    trait :admin do\n      admin { true }\n    end\n    \n    trait :with_posts do\n      after(:create) do |user|\n        create_list(:post, 3, user: user)\n      end\n    end\n    \n    factory :admin_user, traits: [:admin]\n    factory :inactive_user, traits: [:inactive]\n  end\nend\n```\n\n## Test Helper Configuration\n\n```ruby\n# spec/spec_helper.rb\nrequire 'simplecov'\nSimpleCov.start 'rails' do\n  add_filter '/spec/'\n  add_filter '/config/'\n  add_filter '/vendor/'\n  \n  add_group 'Controllers', 'app/controllers'\n  add_group 'Models', 'app/models'\n  add_group 'Services', 'app/services'\n  add_group 'Libraries', 'lib'\nend\n\nRSpec.configure do |config|\n  config.expect_with :rspec do |expectations|\n    expectations.include_chain_clauses_in_custom_matcher_descriptions = true\n  end\n  \n  config.mock_with :rspec do |mocks|\n    mocks.verify_partial_doubles = true\n  end\n  \n  config.shared_context_metadata_behavior = :apply_to_host_groups\n  config.filter_run_when_matching :focus\n  config.example_status_persistence_file_path = 'spec/examples.txt'\n  config.disable_monkey_patching!\n  config.warnings = true\n  \n  if config.files_to_run.one?\n    config.default_formatter = 'doc'\n  end\n  \n  config.profile_examples = 10\n  config.order = :random\n  Kernel.srand config.seed\nend\n```\n\n## Integration Test Example\n\n```ruby\n# spec/requests/api/users_spec.rb\nrequire 'rails_helper'\n\nRSpec.describe 'API::Users', type: :request do\n  let(:user) { create(:user) }\n  let(:valid_headers) {\n    { 'Authorization' => \"Bearer #{user.auth_token}\" }\n  }\n  \n  describe 'GET /api/users' do\n    it 'returns users' do\n      create_list(:user, 3)\n      \n      get '/api/users', headers: valid_headers\n      \n      expect(response).to have_http_status(:ok)\n      expect(JSON.parse(response.body)['users'].size).to eq(3)\n    end\n  end\n  \n  describe 'POST /api/users' do\n    let(:valid_params) do\n      {\n        user: {\n          name: 'New User',\n          email: 'new@example.com'\n        }\n      }\n    end\n    \n    it 'creates a new user' do\n      post '/api/users', params: valid_params, headers: valid_headers\n      \n      expect(response).to have_http_status(:created)\n      expect(JSON.parse(response.body)['user']['name']).to eq('New User')\n    end\n  end\nend\n```\n\n## Best Practices Included\n\n- **Descriptive test names** that explain expected behavior\n- **Proper test organization** with contexts and describes\n- **Factory usage** for test data generation\n- **Mocking and stubbing** for external dependencies\n- **Coverage configuration** with SimpleCov\n- **Test helpers** and shared examples\n- **Request/Integration tests** for API endpoints\n- **Feature tests** for user workflows"
              },
              {
                "name": "/authentication",
                "description": null,
                "path": "cli-tool/templates/ruby/examples/rails-app/.claude/commands/authentication.md",
                "frontmatter": null,
                "content": "# Rails 8 Native Authentication Generator\n\nGenerate Rails 8's built-in authentication system with modern security practices.\n\n## Purpose\n\nThis command helps you implement Rails 8's new native authentication system, eliminating the need for external gems like Devise for basic authentication needs.\n\n## Usage\n\n```\n/authentication\n```\n\n## What this command does\n\n1. **Generates authentication models** with secure password handling\n2. **Creates authentication controllers** for login/logout/signup\n3. **Adds authentication views** with modern styling\n4. **Implements session management** with security best practices\n5. **Sets up authentication helpers** for controllers and views\n\n## Rails 8 Authentication Generator\n\n```bash\n# Generate authentication for User model\nbin/rails generate authentication User\n\n# Or specify custom model name\nbin/rails generate authentication Account\n\n# Generate with custom attributes\nbin/rails generate authentication User first_name:string last_name:string\n```\n\n## Generated User Model\n\n```ruby\n# app/models/user.rb\nclass User < ApplicationRecord\n  has_secure_password\n  \n  validates :email, presence: true, uniqueness: true\n  validates :password, length: { minimum: 8 }, if: -> { new_record? || !password.blank? }\n  \n  normalizes :email, with: ->(email) { email.strip.downcase }\n  \n  before_save :normalize_email\n  \n  private\n  \n  def normalize_email\n    self.email = email.downcase.strip\n  end\nend\n```\n\n## Authentication Controller\n\n```ruby\n# app/controllers/authentication_controller.rb\nclass AuthenticationController < ApplicationController\n  skip_before_action :authenticate_user!, only: [:new, :create]\n  \n  def new\n    # Login page\n  end\n  \n  def create\n    user = User.find_by(email: params[:email])\n    \n    if user&.authenticate(params[:password])\n      login(user)\n      redirect_to root_path, notice: 'Logged in successfully'\n    else\n      flash.now[:alert] = 'Invalid email or password'\n      render :new, status: :unprocessable_entity\n    end\n  end\n  \n  def destroy\n    logout\n    redirect_to root_path, notice: 'Logged out successfully'\n  end\n  \n  private\n  \n  def login(user)\n    session[:user_id] = user.id\n    @current_user = user\n  end\n  \n  def logout\n    session[:user_id] = nil\n    @current_user = nil\n  end\nend\n```\n\n## Registration Controller\n\n```ruby\n# app/controllers/registrations_controller.rb\nclass RegistrationsController < ApplicationController\n  skip_before_action :authenticate_user!\n  \n  def new\n    @user = User.new\n  end\n  \n  def create\n    @user = User.new(user_params)\n    \n    if @user.save\n      login(@user)\n      redirect_to root_path, notice: 'Account created successfully'\n    else\n      render :new, status: :unprocessable_entity\n    end\n  end\n  \n  private\n  \n  def user_params\n    params.require(:user).permit(:email, :password, :password_confirmation, :first_name, :last_name)\n  end\n  \n  def login(user)\n    session[:user_id] = user.id\n    @current_user = user\n  end\nend\n```\n\n## Application Controller Updates\n\n```ruby\n# app/controllers/application_controller.rb\nclass ApplicationController < ActionController::Base\n  protect_from_forgery with: :exception\n  \n  before_action :authenticate_user!\n  \n  private\n  \n  def authenticate_user!\n    redirect_to login_path, alert: 'Please log in to continue' unless current_user\n  end\n  \n  def current_user\n    @current_user ||= User.find(session[:user_id]) if session[:user_id]\n  end\n  helper_method :current_user\n  \n  def logged_in?\n    !!current_user\n  end\n  helper_method :logged_in?\n  \n  def require_login\n    unless logged_in?\n      flash[:alert] = 'You must be logged in to access this page'\n      redirect_to login_path\n    end\n  end\nend\n```\n\n## Authentication Views\n\n### Login Form\n```erb\n<!-- app/views/authentication/new.html.erb -->\n<div class=\"authentication-form\">\n  <h1>Log In</h1>\n  \n  <%= form_with url: login_path, local: true, class: \"auth-form\" do |form| %>\n    <div class=\"form-group\">\n      <%= form.label :email, \"Email\" %>\n      <%= form.email_field :email, required: true, autofocus: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password, \"Password\" %>\n      <%= form.password_field :password, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-actions\">\n      <%= form.submit \"Log In\", class: \"btn btn-primary\" %>\n    </div>\n  <% end %>\n  \n  <div class=\"auth-links\">\n    <%= link_to \"Don't have an account? Sign up\", signup_path %>\n  </div>\n</div>\n```\n\n### Registration Form\n```erb\n<!-- app/views/registrations/new.html.erb -->\n<div class=\"authentication-form\">\n  <h1>Sign Up</h1>\n  \n  <%= form_with model: @user, url: signup_path, local: true, class: \"auth-form\" do |form| %>\n    <% if @user.errors.any? %>\n      <div class=\"error-messages\">\n        <h3><%= pluralize(@user.errors.count, \"error\") %> prohibited this account from being saved:</h3>\n        <ul>\n          <% @user.errors.full_messages.each do |message| %>\n            <li><%= message %></li>\n          <% end %>\n        </ul>\n      </div>\n    <% end %>\n    \n    <div class=\"form-group\">\n      <%= form.label :first_name, \"First Name\" %>\n      <%= form.text_field :first_name, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :last_name, \"Last Name\" %>\n      <%= form.text_field :last_name, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :email, \"Email\" %>\n      <%= form.email_field :email, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password, \"Password\" %>\n      <%= form.password_field :password, required: true, minlength: 8, class: \"form-control\" %>\n      <small class=\"form-text\">Minimum 8 characters</small>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password_confirmation, \"Confirm Password\" %>\n      <%= form.password_field :password_confirmation, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-actions\">\n      <%= form.submit \"Sign Up\", class: \"btn btn-primary\" %>\n    </div>\n  <% end %>\n  \n  <div class=\"auth-links\">\n    <%= link_to \"Already have an account? Log in\", login_path %>\n  </div>\n</div>\n```\n\n## Route Configuration\n\n```ruby\n# config/routes.rb\nRails.application.routes.draw do\n  # Authentication routes\n  get    'login',  to: 'authentication#new'\n  post   'login',  to: 'authentication#create'\n  delete 'logout', to: 'authentication#destroy'\n  \n  # Registration routes\n  get  'signup', to: 'registrations#new'\n  post 'signup', to: 'registrations#create'\n  \n  # User management routes\n  resources :users, except: [:new, :create]\n  \n  # Root route\n  root 'dashboard#index'\nend\n```\n\n## Migration Files\n\n```ruby\n# db/migrate/xxx_create_users.rb\nclass CreateUsers < ActiveRecord::Migration[8.0]\n  def change\n    create_table :users do |t|\n      t.string :email, null: false\n      t.string :password_digest, null: false\n      t.string :first_name\n      t.string :last_name\n      \n      t.timestamps\n    end\n    \n    add_index :users, :email, unique: true\n  end\nend\n```\n\n## Advanced Authentication Features\n\n### Password Reset\n```ruby\n# app/controllers/password_resets_controller.rb\nclass PasswordResetsController < ApplicationController\n  skip_before_action :authenticate_user!\n  \n  def new\n    # Password reset request form\n  end\n  \n  def create\n    @user = User.find_by(email: params[:email])\n    if @user\n      @user.send_password_reset\n      redirect_to root_path, notice: 'Email sent with password reset instructions'\n    else\n      flash.now[:alert] = 'Email address not found'\n      render :new\n    end\n  end\n  \n  def edit\n    @user = User.find_by(password_reset_token: params[:id])\n    if @user.nil? || @user.password_reset_sent_at < 2.hours.ago\n      redirect_to new_password_reset_path, alert: 'Password reset has expired'\n    end\n  end\n  \n  def update\n    @user = User.find_by(password_reset_token: params[:id])\n    if @user && @user.password_reset_sent_at > 2.hours.ago\n      if @user.update(password_params)\n        @user.update_columns(password_reset_token: nil, password_reset_sent_at: nil)\n        redirect_to root_path, notice: 'Password has been reset'\n      else\n        render :edit\n      end\n    else\n      redirect_to new_password_reset_path, alert: 'Password reset has expired'\n    end\n  end\n  \n  private\n  \n  def password_params\n    params.require(:user).permit(:password, :password_confirmation)\n  end\nend\n```\n\n### User Model Extensions\n```ruby\n# app/models/user.rb (extended)\nclass User < ApplicationRecord\n  has_secure_password\n  \n  validates :email, presence: true, uniqueness: true\n  validates :password, length: { minimum: 8 }, if: -> { new_record? || !password.blank? }\n  \n  normalizes :email, with: ->(email) { email.strip.downcase }\n  \n  # Password reset functionality\n  def send_password_reset\n    generate_token(:password_reset_token)\n    self.password_reset_sent_at = Time.zone.now\n    save!\n    UserMailer.password_reset(self).deliver_now\n  end\n  \n  def full_name\n    \"#{first_name} #{last_name}\".strip\n  end\n  \n  def initials\n    \"#{first_name&.first}#{last_name&.first}\".upcase\n  end\n  \n  private\n  \n  def generate_token(column)\n    begin\n      self[column] = SecureRandom.urlsafe_base64\n    end while User.exists?(column => self[column])\n  end\nend\n```\n\n## Session Security Enhancements\n\n```ruby\n# config/application.rb\nconfig.session_store :cookie_store, {\n  key: '_myapp_session',\n  secure: Rails.env.production?,\n  httponly: true,\n  same_site: :lax\n}\n\n# config/environments/production.rb\nconfig.force_ssl = true\nconfig.session_store :cookie_store, {\n  key: '_myapp_session',\n  secure: true,\n  httponly: true,\n  same_site: :strict\n}\n```\n\n## Authentication Helper Methods\n\n```ruby\n# app/helpers/authentication_helper.rb\nmodule AuthenticationHelper\n  def user_avatar(user, size: 40)\n    if user.avatar.present?\n      image_tag user.avatar, alt: user.full_name, class: \"avatar\", size: \"#{size}x#{size}\"\n    else\n      content_tag :div, user.initials, class: \"avatar avatar-initials\", \n                  style: \"width: #{size}px; height: #{size}px; line-height: #{size}px;\"\n    end\n  end\n  \n  def current_user_menu\n    if logged_in?\n      render 'shared/user_menu'\n    else\n      render 'shared/guest_menu'\n    end\n  end\nend\n```\n\n## Testing Authentication\n\n```ruby\n# spec/models/user_spec.rb\nRSpec.describe User, type: :model do\n  describe 'validations' do\n    it { should validate_presence_of(:email) }\n    it { should validate_uniqueness_of(:email) }\n    it { should validate_length_of(:password).is_at_least(8) }\n    it { should have_secure_password }\n  end\n  \n  describe 'email normalization' do\n    it 'normalizes email to lowercase' do\n      user = User.create!(email: 'USER@EXAMPLE.COM', password: 'password123')\n      expect(user.email).to eq('user@example.com')\n    end\n  end\n  \n  describe '#full_name' do\n    it 'returns combined first and last name' do\n      user = User.new(first_name: 'John', last_name: 'Doe')\n      expect(user.full_name).to eq('John Doe')\n    end\n  end\nend\n\n# spec/controllers/authentication_controller_spec.rb\nRSpec.describe AuthenticationController, type: :controller do\n  describe 'POST #create' do\n    let(:user) { create(:user, password: 'password123') }\n    \n    context 'with valid credentials' do\n      it 'logs in the user' do\n        post :create, params: { email: user.email, password: 'password123' }\n        expect(session[:user_id]).to eq(user.id)\n        expect(response).to redirect_to(root_path)\n      end\n    end\n    \n    context 'with invalid credentials' do\n      it 'does not log in the user' do\n        post :create, params: { email: user.email, password: 'wrong' }\n        expect(session[:user_id]).to be_nil\n        expect(response).to render_template(:new)\n      end\n    end\n  end\nend\n```\n\n## Security Best Practices Included\n\n- **Secure password hashing** with bcrypt\n- **Email normalization** to prevent duplicates\n- **CSRF protection** enabled by default\n- **Session security** with httponly and secure flags\n- **Password strength validation** (minimum 8 characters)\n- **Timing attack prevention** in authentication\n- **Password reset token expiration**\n- **SSL enforcement** in production"
              }
            ],
            "skills": []
          },
          {
            "name": "security-pro",
            "description": "Enterprise security toolkit with auditing, penetration testing, and compliance automation",
            "source": "./",
            "category": null,
            "version": "1.0.0",
            "author": {
              "name": "Daniel Avila"
            },
            "install_commands": [
              "/plugin marketplace add Justdvp/claude-code-templates",
              "/plugin install security-pro@claude-code-templates"
            ],
            "signals": {
              "stars": 5,
              "forks": 0,
              "pushed_at": "2026-01-12T22:20:42Z",
              "created_at": "2022-10-16T16:39:58Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/lint",
                "description": null,
                "path": ".claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Python Linter\n\nRun Python code linting and formatting tools.\n\n## Purpose\n\nThis command helps you maintain code quality using Python's best linting and formatting tools.\n\n## Usage\n\n```\n/lint\n```\n\n## What this command does\n\n1. **Runs multiple linters** (flake8, pylint, black, isort)\n2. **Provides detailed feedback** on code quality issues\n3. **Auto-fixes formatting** where possible\n4. **Checks type hints** if mypy is configured\n\n## Example Commands\n\n### Black (code formatting)\n```bash\n# Format all Python files\nblack .\n\n# Check formatting without changing files\nblack --check .\n\n# Format specific file\nblack src/main.py\n```\n\n### flake8 (style guide enforcement)\n```bash\n# Check all Python files\nflake8 .\n\n# Check specific directory\nflake8 src/\n\n# Check with specific rules\nflake8 --max-line-length=88 .\n```\n\n### isort (import sorting)\n```bash\n# Sort imports in all files\nisort .\n\n# Check import sorting\nisort --check-only .\n\n# Sort imports in specific file\nisort src/main.py\n```\n\n### pylint (comprehensive linting)\n```bash\n# Run pylint on all files\npylint src/\n\n# Run with specific score threshold\npylint --fail-under=8.0 src/\n\n# Generate detailed report\npylint --output-format=html src/ > pylint_report.html\n```\n\n### mypy (type checking)\n```bash\n# Check types in all files\nmypy .\n\n# Check specific module\nmypy src/models.py\n\n# Check with strict mode\nmypy --strict src/\n```\n\n## Configuration Files\n\nMost projects benefit from configuration files:\n\n### .flake8\n```ini\n[flake8]\nmax-line-length = 88\nexclude = .git,__pycache__,venv\nignore = E203,W503\n```\n\n### pyproject.toml\n```toml\n[tool.black]\nline-length = 88\n\n[tool.isort]\nprofile = \"black\"\n```\n\n## Best Practices\n\n- Run linters before committing code\n- Use consistent formatting across the project\n- Fix linting issues promptly\n- Configure linters to match your team's style\n- Use type hints for better code documentation"
              },
              {
                "name": "/test",
                "description": null,
                "path": ".claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Runner\n\nRun Python tests with pytest, unittest, or other testing frameworks.\n\n## Purpose\n\nThis command helps you run Python tests effectively with proper configuration and reporting.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Detects test framework** (pytest, unittest, nose2)\n2. **Runs appropriate tests** with proper configuration\n3. **Provides coverage reporting** if available\n4. **Shows clear test results** with failure details\n\n## Example Commands\n\n### pytest (recommended)\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=src --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n\n# Run tests matching pattern\npytest -k \"test_user\"\n```\n\n### unittest\n```bash\n# Run all tests\npython -m unittest discover\n\n# Run specific test file\npython -m unittest tests.test_models\n\n# Run with verbose output\npython -m unittest -v\n```\n\n### Django tests\n```bash\n# Run all Django tests\npython manage.py test\n\n# Run specific app tests\npython manage.py test myapp\n\n# Run with coverage\ncoverage run --source='.' manage.py test\ncoverage report\n```\n\n## Best Practices\n\n- Write tests for all critical functionality\n- Use descriptive test names\n- Keep tests isolated and independent\n- Mock external dependencies\n- Aim for high test coverage (80%+)"
              },
              {
                "name": "/git-workflow",
                "description": null,
                "path": "cli-tool/templates/common/.claude/commands/git-workflow.md",
                "frontmatter": null,
                "content": "# Git Workflow Helper\n\nManage Git workflows with best practices and common operations.\n\n## Purpose\n\nThis command helps you perform common Git operations following best practices for collaborative development.\n\n## Usage\n\n```\n/git-workflow\n```\n\n## What this command does\n\n1. **Guides through Git operations** with proper workflow\n2. **Suggests best practices** for commits and branches\n3. **Helps with conflict resolution** and merging\n4. **Provides templates** for commit messages\n5. **Manages branching strategies** (Git Flow, GitHub Flow)\n\n## Common Workflows\n\n### Feature Development\n```bash\n# Create and switch to feature branch\ngit checkout -b feature/user-authentication\n\n# Work on your feature\n# ... make changes ...\n\n# Stage and commit changes\ngit add .\ngit commit -m \"feat: add user authentication system\n\n- Implement login/logout functionality\n- Add password validation\n- Create user session management\n- Add authentication middleware\"\n\n# Push feature branch\ngit push -u origin feature/user-authentication\n\n# Create pull request (via GitHub/GitLab interface)\n```\n\n### Hotfix Workflow\n```bash\n# Create hotfix branch from main\ngit checkout main\ngit checkout -b hotfix/security-patch\n\n# Fix the issue\n# ... make changes ...\n\n# Commit the fix\ngit commit -m \"fix: resolve security vulnerability in auth module\n\n- Patch XSS vulnerability in login form\n- Update input validation\n- Add CSRF protection\"\n\n# Push and create urgent PR\ngit push -u origin hotfix/security-patch\n```\n\n### Sync with Remote\n```bash\n# Update main branch\ngit checkout main\ngit pull origin main\n\n# Update feature branch with latest main\ngit checkout feature/your-feature\ngit rebase main\n# OR\ngit merge main\n```\n\n## Commit Message Conventions\n\n### Conventional Commits Format\n```\n<type>[optional scope]: <description>\n\n[optional body]\n\n[optional footer(s)]\n```\n\n### Common Types\n- **feat**: New feature\n- **fix**: Bug fix\n- **docs**: Documentation changes\n- **style**: Code style changes (formatting, etc.)\n- **refactor**: Code refactoring\n- **test**: Adding or updating tests\n- **chore**: Maintenance tasks\n\n### Examples\n```bash\n# Feature\ngit commit -m \"feat(auth): add OAuth2 integration\"\n\n# Bug fix\ngit commit -m \"fix(api): handle null response in user endpoint\"\n\n# Documentation\ngit commit -m \"docs: update API documentation for v2.0\"\n\n# Breaking change\ngit commit -m \"feat!: change API response format\n\nBREAKING CHANGE: API responses now use 'data' wrapper\"\n```\n\n## Branch Management\n\n### Git Flow Strategy\n```bash\n# Main branches\nmain        # Production-ready code\ndevelop     # Integration branch\n\n# Supporting branches\nfeature/*   # New features\nrelease/*   # Release preparation\nhotfix/*    # Quick fixes to production\n```\n\n### GitHub Flow (Simplified)\n```bash\n# Only main branch + feature branches\nmain        # Production-ready code\nfeature/*   # All new work\n```\n\n## Conflict Resolution\n\n### When Conflicts Occur\n```bash\n# Start merge/rebase\ngit merge feature-branch\n# OR\ngit rebase main\n\n# If conflicts occur, Git will list conflicted files\n# Edit each file to resolve conflicts\n\n# Mark conflicts as resolved\ngit add conflicted-file.js\n\n# Continue the merge/rebase\ngit merge --continue\n# OR\ngit rebase --continue\n```\n\n### Conflict Markers\n```javascript\n<<<<<<< HEAD\n// Your current branch code\nconst user = getCurrentUser();\n=======\n// Incoming branch code\nconst user = getAuthenticatedUser();\n>>>>>>> feature-branch\n```\n\n## Useful Git Commands\n\n### Status and Information\n```bash\ngit status                    # Check working directory status\ngit log --oneline            # View commit history\ngit branch -a                # List all branches\ngit remote -v                # List remote repositories\n```\n\n### Undoing Changes\n```bash\ngit checkout -- file.js     # Discard changes to file\ngit reset HEAD file.js       # Unstage file\ngit reset --soft HEAD~1     # Undo last commit (keep changes)\ngit reset --hard HEAD~1     # Undo last commit (discard changes)\n```\n\n### Stashing Work\n```bash\ngit stash                    # Save current work\ngit stash pop               # Apply and remove latest stash\ngit stash list              # List all stashes\ngit stash apply stash@{1}   # Apply specific stash\n```\n\n## Best Practices\n\n1. **Commit Often** - Make small, focused commits\n2. **Write Clear Messages** - Use conventional commit format\n3. **Test Before Committing** - Ensure code works\n4. **Pull Before Push** - Keep history clean\n5. **Use Branches** - Don't work directly on main\n6. **Review Code** - Use pull requests for collaboration\n7. **Keep History Clean** - Rebase feature branches when appropriate\n\n## Git Hooks (Optional)\n\n### Pre-commit Hook\n```bash\n#!/bin/sh\n# .git/hooks/pre-commit\n\n# Run linter\nnpm run lint\nif [ $? -ne 0 ]; then\n  echo \"Linting failed. Please fix errors before committing.\"\n  exit 1\nfi\n\n# Run tests\nnpm test\nif [ $? -ne 0 ]; then\n  echo \"Tests failed. Please fix tests before committing.\"\n  exit 1\nfi\n```\n\n### Commit Message Hook\n```bash\n#!/bin/sh\n# .git/hooks/commit-msg\n\n# Check commit message format\nif ! grep -qE \"^(feat|fix|docs|style|refactor|test|chore)(\\(.+\\))?: .{1,50}\" \"$1\"; then\n  echo \"Invalid commit message format. Use conventional commits.\"\n  exit 1\nfi\n```"
              },
              {
                "name": "/project-setup",
                "description": null,
                "path": "cli-tool/templates/common/.claude/commands/project-setup.md",
                "frontmatter": null,
                "content": "# Project Setup Helper\n\nSet up new projects with proper structure and best practices.\n\n## Purpose\n\nThis command helps you set up new projects with proper directory structure, configuration files, and development environment.\n\n## Usage\n\n```\n/project-setup\n```\n\n## What this command does\n\n1. **Creates project structure** with standard directories\n2. **Sets up configuration files** (.gitignore, README, etc.)\n3. **Initializes version control** and development tools\n4. **Configures environment files** and dependencies\n5. **Follows language-specific** conventions and best practices\n\n## Project Structure Templates\n\n### Generic Project Structure\n```\nproject-name/\n‚îú‚îÄ‚îÄ README.md                 # Project documentation\n‚îú‚îÄ‚îÄ .gitignore               # Git ignore rules\n‚îú‚îÄ‚îÄ .env.example             # Environment variables template\n‚îú‚îÄ‚îÄ LICENSE                  # Project license\n‚îú‚îÄ‚îÄ CHANGELOG.md             # Version history\n‚îú‚îÄ‚îÄ docs/                    # Documentation\n‚îÇ   ‚îú‚îÄ‚îÄ API.md\n‚îÇ   ‚îú‚îÄ‚îÄ CONTRIBUTING.md\n‚îÇ   ‚îî‚îÄ‚îÄ DEPLOYMENT.md\n‚îú‚îÄ‚îÄ src/                     # Source code\n‚îÇ   ‚îú‚îÄ‚îÄ main/\n‚îÇ   ‚îú‚îÄ‚îÄ utils/\n‚îÇ   ‚îî‚îÄ‚îÄ config/\n‚îú‚îÄ‚îÄ tests/                   # Test files\n‚îÇ   ‚îú‚îÄ‚îÄ unit/\n‚îÇ   ‚îú‚îÄ‚îÄ integration/\n‚îÇ   ‚îî‚îÄ‚îÄ fixtures/\n‚îú‚îÄ‚îÄ scripts/                 # Build and deployment scripts\n‚îÇ   ‚îú‚îÄ‚îÄ build.sh\n‚îÇ   ‚îú‚îÄ‚îÄ deploy.sh\n‚îÇ   ‚îî‚îÄ‚îÄ setup.sh\n‚îî‚îÄ‚îÄ config/                  # Configuration files\n    ‚îú‚îÄ‚îÄ development.yml\n    ‚îú‚îÄ‚îÄ production.yml\n    ‚îî‚îÄ‚îÄ testing.yml\n```\n\n### Web Application Structure\n```\nweb-app/\n‚îú‚îÄ‚îÄ public/                  # Static assets\n‚îÇ   ‚îú‚îÄ‚îÄ index.html\n‚îÇ   ‚îú‚îÄ‚îÄ favicon.ico\n‚îÇ   ‚îî‚îÄ‚îÄ assets/\n‚îÇ       ‚îú‚îÄ‚îÄ css/\n‚îÇ       ‚îú‚îÄ‚îÄ js/\n‚îÇ       ‚îî‚îÄ‚îÄ images/\n‚îú‚îÄ‚îÄ src/                     # Source code\n‚îÇ   ‚îú‚îÄ‚îÄ components/          # Reusable components\n‚îÇ   ‚îú‚îÄ‚îÄ pages/              # Page components\n‚îÇ   ‚îú‚îÄ‚îÄ services/           # API services\n‚îÇ   ‚îú‚îÄ‚îÄ utils/              # Utility functions\n‚îÇ   ‚îú‚îÄ‚îÄ styles/             # Stylesheets\n‚îÇ   ‚îî‚îÄ‚îÄ config/             # Configuration\n‚îú‚îÄ‚îÄ tests/                   # Test files\n‚îî‚îÄ‚îÄ build/                   # Build output\n```\n\n### API Project Structure\n```\napi-project/\n‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îú‚îÄ‚îÄ controllers/         # Request handlers\n‚îÇ   ‚îú‚îÄ‚îÄ models/             # Data models\n‚îÇ   ‚îú‚îÄ‚îÄ services/           # Business logic\n‚îÇ   ‚îú‚îÄ‚îÄ middleware/         # Custom middleware\n‚îÇ   ‚îú‚îÄ‚îÄ routes/             # API routes\n‚îÇ   ‚îú‚îÄ‚îÄ utils/              # Utility functions\n‚îÇ   ‚îî‚îÄ‚îÄ config/             # Configuration\n‚îú‚îÄ‚îÄ tests/\n‚îÇ   ‚îú‚îÄ‚îÄ unit/\n‚îÇ   ‚îú‚îÄ‚îÄ integration/\n‚îÇ   ‚îî‚îÄ‚îÄ e2e/\n‚îú‚îÄ‚îÄ docs/\n‚îÇ   ‚îú‚îÄ‚îÄ api-spec.yml        # OpenAPI specification\n‚îÇ   ‚îî‚îÄ‚îÄ README.md\n‚îî‚îÄ‚îÄ scripts/\n    ‚îú‚îÄ‚îÄ seed-db.js          # Database seeding\n    ‚îî‚îÄ‚îÄ migrate.js          # Database migrations\n```\n\n## Essential Configuration Files\n\n### .gitignore Template\n```gitignore\n# Dependencies\nnode_modules/\n*.log\nnpm-debug.log*\n\n# Environment files\n.env\n.env.local\n.env.production\n\n# Build outputs\ndist/\nbuild/\n*.tgz\n\n# IDE files\n.vscode/\n.idea/\n*.swp\n*.swo\n\n# OS files\n.DS_Store\nThumbs.db\n\n# Temporary files\n*.tmp\n*.temp\n```\n\n### README.md Template\n```markdown\n# Project Name\n\nBrief description of what this project does.\n\n## Features\n\n- Feature 1\n- Feature 2\n- Feature 3\n\n## Installation\n\n\\`\\`\\`bash\n# Clone the repository\ngit clone https://github.com/username/project-name.git\n\n# Install dependencies\nnpm install\n\n# Copy environment file\ncp .env.example .env\n\\`\\`\\`\n\n## Usage\n\n\\`\\`\\`bash\n# Start development server\nnpm run dev\n\n# Run tests\nnpm test\n\n# Build for production\nnpm run build\n\\`\\`\\`\n\n## API Documentation\n\n[API documentation](docs/API.md)\n\n## Contributing\n\nPlease read [CONTRIBUTING.md](docs/CONTRIBUTING.md) for details.\n\n## License\n\nThis project is licensed under the MIT License - see [LICENSE](LICENSE) file.\n```\n\n### .env.example Template\n```env\n# Application\nNODE_ENV=development\nPORT=3000\nHOST=localhost\n\n# Database\nDB_HOST=localhost\nDB_PORT=5432\nDB_NAME=myapp\nDB_USER=username\nDB_PASSWORD=password\n\n# API Keys\nAPI_KEY=your-api-key-here\nSECRET_KEY=your-secret-key-here\n\n# External Services\nREDIS_URL=redis://localhost:6379\nEMAIL_SERVICE_API_KEY=your-email-key\n```\n\n## Development Environment Setup\n\n### Package.json Scripts\n```json\n{\n  \"scripts\": {\n    \"start\": \"node src/index.js\",\n    \"dev\": \"nodemon src/index.js\",\n    \"test\": \"jest\",\n    \"test:watch\": \"jest --watch\",\n    \"test:coverage\": \"jest --coverage\",\n    \"lint\": \"eslint src/\",\n    \"lint:fix\": \"eslint src/ --fix\",\n    \"format\": \"prettier --write src/\",\n    \"build\": \"webpack --mode production\",\n    \"build:dev\": \"webpack --mode development\",\n    \"clean\": \"rm -rf dist/\"\n  }\n}\n```\n\n### Git Initialization\n```bash\n# Initialize Git repository\ngit init\n\n# Add initial files\ngit add .\n\n# Create initial commit\ngit commit -m \"feat: initial project setup\n\n- Add project structure\n- Configure development environment\n- Add documentation templates\n- Set up testing framework\"\n\n# Add remote origin\ngit remote add origin https://github.com/username/project-name.git\n\n# Push to remote\ngit push -u origin main\n```\n\n## Language-Specific Setup\n\n### Node.js/JavaScript\n```bash\nnpm init -y\nnpm install --save-dev nodemon jest eslint prettier\n```\n\n### Python\n```bash\npython -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\npip install -r requirements.txt\n```\n\n### Docker Setup\n```dockerfile\n# Dockerfile\nFROM node:16-alpine\nWORKDIR /app\nCOPY package*.json ./\nRUN npm install\nCOPY . .\nEXPOSE 3000\nCMD [\"npm\", \"start\"]\n```\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\nservices:\n  app:\n    build: .\n    ports:\n      - \"3000:3000\"\n    environment:\n      - NODE_ENV=development\n    volumes:\n      - .:/app\n      - /app/node_modules\n```\n\n## Best Practices\n\n1. **Consistent Structure** - Follow established conventions\n2. **Clear Documentation** - Write comprehensive README\n3. **Environment Variables** - Keep secrets out of code\n4. **Version Control** - Initialize Git from the start\n5. **Testing Setup** - Configure testing from day one\n6. **Code Quality** - Set up linting and formatting\n7. **CI/CD Ready** - Structure for automated deployment\n8. **Security** - Include security best practices\n\n## Checklist\n\n- [ ] Create project directory structure\n- [ ] Initialize version control (Git)\n- [ ] Set up package manager (npm, pip, etc.)\n- [ ] Create README.md with project info\n- [ ] Add .gitignore file\n- [ ] Set up environment variables\n- [ ] Configure linting and formatting\n- [ ] Set up testing framework\n- [ ] Create basic documentation\n- [ ] Add license file\n- [ ] Set up CI/CD configuration (if needed)"
              },
              {
                "name": "/api-endpoint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/api-endpoint.md",
                "frontmatter": null,
                "content": "# API Endpoint Generator\n\nGenerate a complete API endpoint for $ARGUMENTS following project conventions.\n\n## Task\n\nI'll analyze the project structure and create a new API endpoint with:\n\n1. Route definition\n2. Controller/handler function\n3. Input validation\n4. Service layer logic (if applicable)\n5. Data access layer (if applicable)\n6. Unit tests\n7. Documentation\n\n## Process\n\nI'll follow these steps:\n\n1. Examine the project structure to understand the architecture pattern\n2. Identify existing patterns for routes, controllers, and validation\n3. Create all necessary files following project conventions\n4. Implement the endpoint with proper error handling\n5. Add appropriate tests\n6. Document the new endpoint\n\n## Best Practices\n\nI'll ensure the implementation includes:\n\n- Strong typing with TypeScript\n- Comprehensive error handling\n- Input validation\n- Security considerations (authentication/authorization)\n- Proper logging\n- Performance considerations\n- Test coverage\n\n## Adaptability\n\nI'll adapt to various API architectures:\n\n- Express/Koa/Fastify REST APIs\n- GraphQL resolvers\n- Next.js/Nuxt.js API routes\n- Serverless functions\n- tRPC endpoints\n- NestJS controllers\n\nI'll examine your project first to determine which pattern to follow."
              },
              {
                "name": "/debug",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/debug.md",
                "frontmatter": null,
                "content": "# Debug Assistant\n\nHelp me debug the issue with $ARGUMENTS in this project.\n\n## Task\n\nI'll help you identify and fix the problem by:\n\n1. Understanding the issue description\n2. Analyzing relevant code\n3. Identifying potential causes\n4. Suggesting and implementing fixes\n5. Verifying the solution works\n\n## Process\n\nI'll follow these steps:\n\n1. Examine error messages, logs, or unexpected behaviors\n2. Locate relevant files and code sections\n3. Analyze the code flow and potential failure points\n4. Identify common JavaScript/TypeScript pitfalls that might apply\n5. Suggest specific fixes with explanations\n6. Help implement and test the solution\n\n## Debugging Techniques\n\nI'll apply appropriate debugging techniques such as:\n\n- Static code analysis to find syntax or type errors\n- Runtime error analysis from logs or stack traces\n- Control flow tracing to understand execution paths\n- State inspection to identify incorrect values\n- Dependency analysis to find version conflicts\n- Network request inspection for API issues\n- Browser console analysis for frontend problems\n- Database query inspection for data issues\n\n## Common Issues I Can Help With\n\n- Type errors and null/undefined issues\n- Asynchronous code problems (Promises, async/await)\n- React/Vue/Angular component lifecycle issues\n- API integration problems\n- State management bugs\n- Performance bottlenecks\n- Memory leaks\n- Build/compilation errors\n- Testing failures\n- Environment configuration issues\n\nI'll adapt my approach based on your specific project structure, frameworks, and the nature of the problem."
              },
              {
                "name": "/lint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Lint Assistant\n\nAnalyze and fix linting issues in $ARGUMENTS following project conventions.\n\n## Task\n\nI'll help you identify and fix code style and quality issues by:\n\n1. Running appropriate linters for the project\n2. Analyzing linting errors and warnings\n3. Fixing issues automatically when possible\n4. Explaining complex issues that require manual intervention\n5. Ensuring code follows project style guidelines\n\n## Process\n\nI'll follow these steps:\n\n1. Identify the linting tools used in the project (ESLint, Prettier, TSLint, etc.)\n2. Run the appropriate linting commands\n3. Parse and categorize the results\n4. Apply automatic fixes for common issues\n5. Provide explanations and suggestions for more complex problems\n6. Verify fixes don't introduce new issues\n\n## Common Linting Issues I Can Fix\n\n- Code style inconsistencies (spacing, indentation, quotes, etc.)\n- Unused variables and imports\n- Missing type annotations in TypeScript\n- Accessibility (a11y) issues in UI components\n- Potential bugs flagged by static analysis\n- Performance issues in React/Vue components\n- Security vulnerabilities detected by linters\n- Deprecated API usage\n- Import ordering problems\n- Missing documentation\n\n## Linting Tools I Can Work With\n\n- ESLint (with various plugins and configs)\n- Prettier\n- TSLint (legacy)\n- stylelint (for CSS/SCSS)\n- commitlint (for commit messages)\n- Custom lint rules specific to your project\n\nI'll adapt my approach based on your project's specific linting configuration and style guide requirements."
              },
              {
                "name": "/npm-scripts",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/npm-scripts.md",
                "frontmatter": null,
                "content": "# NPM Scripts Assistant\n\nHelp me with NPM scripts: $ARGUMENTS\n\n## Task\n\nI'll help you work with package.json scripts by:\n\n1. Analyzing existing npm scripts in your project\n2. Creating new scripts or modifying existing ones\n3. Explaining what specific scripts do\n4. Suggesting improvements or optimizations\n5. Troubleshooting script execution issues\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your package.json file to understand current scripts\n2. Analyze dependencies and devDependencies for available tools\n3. Identify common patterns and conventions in your scripts\n4. Implement requested changes or create new scripts\n5. Provide explanations of how the scripts work\n6. Test scripts when possible to verify functionality\n\n## Common Script Types I Can Help With\n\n- Build processes (webpack, rollup, esbuild, etc.)\n- Development servers and hot reloading\n- Testing (unit, integration, e2e)\n- Linting and code formatting\n- Type checking\n- Deployment and CI/CD\n- Database migrations\n- Code generation\n- Environment setup\n- Pre/post hooks for git operations\n\n## Script Optimization Techniques\n\n- Parallelizing tasks for faster execution\n- Adding cross-platform compatibility\n- Improving error reporting and logging\n- Implementing watch modes for development\n- Creating composite scripts for common workflows\n- Adding appropriate exit codes for CI/CD pipelines\n\nI'll adapt my approach based on your project's specific needs, dependencies, and build tools."
              },
              {
                "name": "/refactor",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/refactor.md",
                "frontmatter": null,
                "content": "# Code Refactoring Assistant\n\nRefactor $ARGUMENTS following modern JavaScript/TypeScript best practices.\n\n## Task\n\nI'll help you refactor code by:\n\n1. Analyzing the current implementation\n2. Identifying improvement opportunities\n3. Applying modern patterns and practices\n4. Maintaining existing functionality\n5. Ensuring type safety and test coverage\n6. Documenting the changes made\n\n## Process\n\nI'll follow these steps:\n\n1. Examine the code to understand its purpose and structure\n2. Identify code smells, anti-patterns, or outdated approaches\n3. Plan the refactoring strategy with clear goals\n4. Implement changes incrementally while maintaining behavior\n5. Verify refactored code with tests\n6. Document improvements and benefits\n\n## Refactoring Techniques\n\nI can apply various refactoring techniques:\n\n- Converting to modern JavaScript/TypeScript features\n- Improving type definitions and type safety\n- Extracting reusable functions and components\n- Applying design patterns appropriately\n- Converting callbacks to Promises or async/await\n- Simplifying complex conditionals and loops\n- Removing duplicate code\n- Improving naming and readability\n- Optimizing performance\n- Enhancing error handling\n\n## Modern Practices I Can Apply\n\n- ES modules and import/export syntax\n- Optional chaining and nullish coalescing\n- Array and object destructuring\n- Spread and rest operators\n- Template literals\n- Arrow functions\n- Class fields and private methods\n- TypeScript utility types\n- Functional programming patterns\n- React hooks (for React components)\n\nI'll ensure the refactored code maintains compatibility with your project's requirements while improving quality and maintainability."
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Assistant\n\nHelp with tests for $ARGUMENTS following project conventions and testing best practices.\n\n## Task\n\nI'll help you with testing by:\n\n1. Creating comprehensive test suites for your code\n2. Implementing different types of tests (unit, integration, e2e)\n3. Mocking dependencies and external services\n4. Improving test coverage for existing code\n5. Troubleshooting failing tests\n6. Setting up testing infrastructure\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your project to understand testing frameworks and patterns\n2. Analyze the code to be tested to understand its functionality\n3. Identify appropriate testing strategies and edge cases\n4. Implement tests with proper structure and assertions\n5. Ensure tests are maintainable and follow best practices\n6. Run tests to verify they pass and provide adequate coverage\n\n## Testing Frameworks I Can Work With\n\n- Jest, Vitest, Mocha, Jasmine for JavaScript/TypeScript\n- React Testing Library, Enzyme for React components\n- Cypress, Playwright, Puppeteer for E2E testing\n- Supertest, Pactum for API testing\n- Storybook for component testing\n- Testing-library family for various frameworks\n\n## Testing Techniques\n\nI can implement various testing approaches:\n\n- TDD (Test-Driven Development)\n- BDD (Behavior-Driven Development)\n- Snapshot testing\n- Property-based testing\n- Parameterized tests\n- Contract testing\n- Visual regression testing\n- Performance testing\n\n## Mocking Strategies\n\nI can help with different mocking approaches:\n\n- Function mocks and spies\n- Module mocks\n- HTTP request mocking\n- Browser API mocking\n- Timer mocking\n- Database mocking\n- Service worker mocking\n\nI'll adapt to your project's specific testing frameworks, patterns, and conventions to ensure consistency with your existing codebase."
              },
              {
                "name": "/typescript-migrate",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/typescript-migrate.md",
                "frontmatter": null,
                "content": "# TypeScript Migration Assistant\n\nMigrate $ARGUMENTS from JavaScript to TypeScript with proper typing and modern practices.\n\n## Task\n\nI'll help you migrate JavaScript code to TypeScript by:\n\n1. Converting JavaScript files to TypeScript (.js/.jsx to .ts/.tsx)\n2. Adding appropriate type definitions and interfaces\n3. Configuring TypeScript settings for your project\n4. Resolving type errors and compatibility issues\n5. Implementing modern TypeScript patterns and features\n6. Ensuring backward compatibility with existing code\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your project structure and dependencies\n2. Analyze the JavaScript code to understand its functionality\n3. Create or update tsconfig.json with appropriate settings\n4. Convert files to TypeScript with proper type annotations\n5. Add necessary type definitions for libraries\n6. Fix type errors and implement type safety\n7. Refactor code to leverage TypeScript features\n\n## TypeScript Features I Can Implement\n\n- Interfaces and type aliases for complex data structures\n- Generics for reusable, type-safe components and functions\n- Union and intersection types for flexible typing\n- Enums for related constants\n- Utility types (Partial, Pick, Omit, etc.)\n- Type guards and type narrowing\n- Mapped and conditional types\n- Function overloading\n- Readonly properties and immutability\n- Module augmentation for extending third-party types\n\n## Migration Strategies\n\nI can apply different migration approaches based on your needs:\n\n- Gradual migration with allowJs and incremental adoption\n- File-by-file conversion while maintaining functionality\n- Comprehensive migration with full type safety\n- Hybrid approach with .d.ts files for complex modules\n- Integration with existing type definitions (@types packages)\n\nI'll adapt to your project's specific requirements and ensure a smooth transition to TypeScript while maintaining existing functionality."
              },
              {
                "name": "/components",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/angular-app/.claude/commands/components.md",
                "frontmatter": null,
                "content": "# Angular Components\n\nCreate Angular components for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Angular components based on the requirements:\n\n1. **Analyze existing components**: Check current component patterns, naming conventions, and folder organization\n2. **Examine Angular setup**: Review project structure, module organization, and TypeScript configuration\n3. **Identify component type**: Determine the component category:\n   - Presentation components (dumb/pure components)\n   - Container components (smart components with state)\n   - Feature components (business logic components)\n   - Shared/UI components (reusable across features)\n   - Layout components (structural components)\n4. **Check dependencies**: Review existing components and shared modules to avoid duplication\n5. **Implement component**: Create component with proper TypeScript types and lifecycle hooks\n6. **Add inputs/outputs**: Define @Input and @Output properties with proper typing\n7. **Create template**: Build HTML template with proper Angular directives and bindings\n8. **Add styles**: Implement component styles following project's styling approach\n9. **Create tests**: Write comprehensive unit tests with TestBed and proper mocking\n10. **Update module**: Register component in appropriate Angular module\n\n## Implementation Requirements\n\n- Follow project's Angular architecture and naming conventions\n- Use proper component lifecycle hooks (OnInit, OnDestroy, etc.)\n- Include comprehensive TypeScript interfaces for inputs and outputs\n- Implement proper change detection strategy (OnPush when possible)\n- Add proper subscription management with takeUntil or async pipe\n- Follow Angular style guide and project coding standards\n- Consider component performance and memory management\n\n## Component Patterns to Consider\n\nBased on the request:\n- **Smart Components**: Container components that manage state and services\n- **Dumb Components**: Presentation components that only receive inputs\n- **Feature Components**: Components specific to business features\n- **Shared Components**: Reusable UI components across the application\n- **Form Components**: Reactive forms with validation and custom controls\n- **Data Display**: Components for tables, lists, cards with proper data binding\n\n## Angular-Specific Implementation\n\n- **Template Syntax**: Proper use of Angular directives (*ngFor, *ngIf, etc.)\n- **Data Binding**: Property binding, event binding, two-way binding\n- **Change Detection**: OnPush strategy for performance optimization\n- **Lifecycle Management**: Proper use of lifecycle hooks\n- **Dependency Injection**: Service injection in component constructors\n- **Testing**: TestBed configuration with proper mocking and spies\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same styling approach and class naming as existing components\n- Follow project's folder structure for components (usually feature-based)\n- Don't install new dependencies without asking\n- Consider component reusability and single responsibility principle\n- Add proper TypeScript types for all component properties and methods\n- Use trackBy functions for performance in *ngFor loops\n- Implement proper unsubscription patterns to prevent memory leaks"
              },
              {
                "name": "/services",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/angular-app/.claude/commands/services.md",
                "frontmatter": null,
                "content": "# Angular Services\n\nCreate Angular services for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Angular services based on the requirements:\n\n1. **Analyze existing services**: Check current service patterns, naming conventions, and folder organization\n2. **Examine Angular setup**: Review project structure, dependency injection patterns, and TypeScript configuration\n3. **Identify service type**: Determine the service category:\n   - Data services (HTTP API calls, state management)\n   - Utility services (validation, formatting, helpers)\n   - Business logic services (calculations, workflows)\n   - Infrastructure services (logging, authentication, error handling)\n   - Feature services (component-specific logic)\n4. **Check dependencies**: Review existing services and shared modules to avoid duplication\n5. **Implement service**: Create service with proper dependency injection and TypeScript types\n6. **Add error handling**: Include comprehensive error handling with RxJS operators\n7. **Create tests**: Write unit tests with proper mocking following project patterns\n8. **Update module registration**: Register service in appropriate Angular modules\n\n## Implementation Requirements\n\n- Follow project's Angular architecture and naming conventions (usually .service.ts)\n- Use proper dependency injection with @Injectable decorator\n- Include comprehensive TypeScript interfaces and types\n- Implement proper RxJS patterns (observables, operators, error handling)\n- Add proper error handling and logging integration\n- Follow single responsibility principle for service design\n- Consider service lifecycle and singleton patterns\n\n## Service Patterns to Consider\n\nBased on the request:\n- **HTTP Data Services**: API calls with proper error handling and caching\n- **State Management**: Services for sharing data between components\n- **Authentication**: User authentication, token management, guards\n- **Business Logic**: Complex calculations, workflows, validations\n- **Utility Services**: Reusable functions, formatters, validators\n- **Feature Services**: Component-specific logic extraction\n- **Infrastructure**: Logging, monitoring, configuration services\n\n## Angular-Specific Implementation\n\n- **Dependency Injection**: Proper use of @Injectable and providedIn\n- **RxJS Integration**: Observables, subjects, operators for reactive programming\n- **HTTP Client**: Angular HttpClient for API communication\n- **Error Handling**: Global error handling and user-friendly error messages\n- **Testing**: TestBed, jasmine, karma for comprehensive unit testing\n- **Module Organization**: Feature modules, shared modules, core modules\n\n## Important Notes\n\n- ALWAYS examine existing services first to understand project patterns\n- Use the same error handling and response patterns as existing services\n- Follow project's folder structure for services (usually /services or /core)\n- Don't install new dependencies without asking\n- Consider service performance and memory management\n- Add proper RxJS subscription management to prevent memory leaks\n- Use Angular's built-in services (HttpClient, Router) rather than external libraries\n- Include proper TypeScript types for all service methods and properties"
              },
              {
                "name": "/api-endpoint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/api-endpoint.md",
                "frontmatter": null,
                "content": "# API Endpoint Generator\n\nGenerate a complete API endpoint for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate a new API endpoint with all necessary components:\n\n1. **Analyze project architecture**: Examine existing API structure, patterns, and conventions\n2. **Identify framework**: Determine if using Express, Fastify, NestJS, Next.js API routes, or other framework\n3. **Check authentication**: Review existing auth patterns and middleware usage\n4. **Examine data layer**: Identify database/ORM patterns (Prisma, TypeORM, Mongoose, etc.)\n5. **Create endpoint structure**: Generate route, controller, validation, and service layers\n6. **Implement business logic**: Add core functionality with proper error handling\n7. **Add validation**: Include input validation using project's validation library\n8. **Create tests**: Write unit and integration tests following project patterns\n9. **Update documentation**: Add endpoint documentation (OpenAPI/Swagger if used)\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing middleware patterns for auth, validation, logging\n- Include proper HTTP status codes and error responses\n- Add comprehensive input validation and sanitization\n- Implement proper logging and monitoring\n- Consider rate limiting and security headers\n- Follow project's database transaction patterns\n\n## Framework-Specific Patterns\n\nI'll adapt to your project's framework:\n- **Express**: Routes, controllers, middleware\n- **Fastify**: Routes, handlers, schemas, plugins\n- **NestJS**: Controllers, services, DTOs, guards\n- **Next.js**: API routes with proper HTTP methods\n- **tRPC**: Procedures with input/output validation\n- **GraphQL**: Resolvers with proper type definitions\n\n## Important Notes\n\n- ALWAYS examine existing endpoints first to understand project patterns\n- Use the same error handling and response format as existing endpoints\n- Follow project's folder structure and naming conventions\n- Don't install new dependencies without asking\n- Consider backward compatibility if modifying existing endpoints\n- Add proper database migrations if schema changes are needed"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# Database Operations\n\nSet up database operations for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize database operations based on the requirements:\n\n1. **Analyze existing database setup**: Check current database configuration, ORM/ODM, and connection patterns\n2. **Identify database type**: Determine if using MongoDB, PostgreSQL, MySQL, or other database\n3. **Examine ORM/ODM**: Check for Prisma, TypeORM, Mongoose, Sequelize, or raw SQL patterns\n4. **Review existing models**: Understand current schema patterns and relationships\n5. **Check migration system**: Identify migration tools and patterns in use\n6. **Implement operations**: Create models, repositories, or services following project architecture\n7. **Add validation**: Include proper schema validation and constraints\n8. **Create tests**: Write database operation tests following project patterns\n9. **Update migrations**: Add necessary database migrations if schema changes required\n\n## Implementation Requirements\n\n- Follow project's database architecture patterns\n- Use existing ORM/ODM configuration and connection setup\n- Include proper TypeScript types for all database operations\n- Add comprehensive error handling and transaction management\n- Implement proper indexing for performance\n- Follow project's naming conventions for tables/collections and fields\n- Consider data validation at both application and database levels\n\n## Database Patterns to Consider\n\nBased on your project setup:\n- **Repository Pattern**: Separate data access logic from business logic\n- **Active Record**: Models with built-in database operations\n- **Data Mapper**: Separate domain models from database schema\n- **Query Builder**: Fluent interface for building database queries\n- **Raw SQL**: Direct database queries for complex operations\n\n## Operation Types\n\nCommon database operations to implement:\n- **CRUD operations**: Create, Read, Update, Delete\n- **Bulk operations**: Batch inserts, updates, deletes\n- **Aggregation**: Complex queries with grouping and calculations\n- **Relationships**: Managing foreign keys and joins\n- **Transactions**: Ensuring data consistency\n- **Migrations**: Schema changes and data transformations\n\n## Important Notes\n\n- ALWAYS examine existing database setup first to understand project patterns\n- Use the same connection configuration and environment variables\n- Follow project's folder structure for models/schemas\n- Don't install new database dependencies without asking\n- Consider performance implications (indexes, query optimization)\n- Add proper database connection pooling if not already configured\n- Include proper cleanup and connection closing in tests"
              },
              {
                "name": "/middleware",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/middleware.md",
                "frontmatter": null,
                "content": "# Express Middleware\n\nCreate Express middleware for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Express middleware based on the requirements:\n\n1. **Analyze existing middleware**: Check current middleware patterns, naming conventions, and file organization\n2. **Examine Express setup**: Review app configuration, middleware stack order, and TypeScript usage\n3. **Identify middleware type**: Determine the middleware category:\n   - Authentication/Authorization (JWT, sessions, role-based)\n   - Validation (request body, params, query validation)\n   - Logging (request/response logging, audit trails)\n   - Error handling (global error handlers, custom errors)\n   - Security (CORS, rate limiting, helmet)\n   - Utility (parsing, compression, static files)\n4. **Check dependencies**: Review existing middleware dependencies to avoid duplication\n5. **Implement middleware**: Create middleware with proper TypeScript types and error handling\n6. **Test middleware**: Write unit and integration tests following project patterns\n7. **Update middleware stack**: Integrate middleware into Express app configuration\n8. **Add documentation**: Include JSDoc comments and usage examples\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing error handling patterns and response formats\n- Include proper request/response typing with custom interfaces\n- Add comprehensive error handling and logging\n- Consider middleware execution order and dependencies\n- Implement proper async/await patterns for async middleware\n- Follow project's folder structure for middleware files\n\n## Middleware Patterns to Consider\n\nBased on the request:\n- **Authentication**: JWT verification, session management, API key validation\n- **Authorization**: Role-based access control, permission checking\n- **Validation**: Schema validation with Joi/Zod, sanitization\n- **Logging**: Request logging, performance monitoring, audit trails\n- **Error Handling**: Global error handlers, custom error classes\n- **Security**: CORS configuration, rate limiting, input sanitization\n- **Utility**: Request parsing, response formatting, caching\n\n## Integration Considerations\n\n- **Middleware order**: Ensure proper execution sequence in Express app\n- **Error propagation**: Handle errors correctly with next() function\n- **Request enhancement**: Add properties to request object with proper typing\n- **Response modification**: Modify response objects while maintaining type safety\n- **Performance**: Consider middleware performance impact on request processing\n\n## Important Notes\n\n- ALWAYS examine existing middleware first to understand project patterns\n- Use the same error handling and response format as existing middleware\n- Follow project's folder structure for middleware (usually /middleware)\n- Don't install new dependencies without asking\n- Consider middleware performance and request processing impact\n- Add proper TypeScript types for enhanced request/response objects\n- Test middleware in isolation and integration contexts"
              },
              {
                "name": "/route",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/route.md",
                "frontmatter": null,
                "content": "# Route Creator\n\nCreate API routes for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize API routes based on the requirements:\n\n1. **Analyze project structure**: Check existing route patterns, folder organization, and framework setup\n2. **Examine framework**: Identify if using Express, Fastify, NestJS, or other Node.js framework\n3. **Review existing routes**: Understand current routing patterns, validation, and error handling\n4. **Check authentication**: Review existing auth middleware and protection patterns\n5. **Define route structure**: Determine HTTP methods, path parameters, and request/response schemas\n6. **Implement routes**: Create route handlers with proper validation and error handling\n7. **Add middleware**: Include authentication, validation, and logging middleware as needed\n8. **Create tests**: Write route tests following project testing patterns\n9. **Update route registration**: Integrate new routes into main router configuration\n\n## Implementation Requirements\n\n- Follow project's routing architecture and naming conventions\n- Use existing validation libraries (Joi, Zod, class-validator, etc.)\n- Include proper TypeScript types for request/response objects\n- Add comprehensive error handling with appropriate HTTP status codes\n- Implement proper authentication/authorization if required\n- Follow RESTful conventions unless project uses different patterns\n- Add proper logging and monitoring integration\n\n## Route Patterns to Consider\n\nBased on the request:\n- **CRUD operations**: Create, Read, Update, Delete for resources\n- **RESTful endpoints**: GET, POST, PUT, PATCH, DELETE with proper semantics\n- **Nested resources**: Parent/child resource relationships\n- **Batch operations**: Bulk create, update, delete operations\n- **Search/filtering**: Query parameters for filtering and pagination\n- **File uploads**: Multipart form handling for file operations\n- **Webhook endpoints**: External service integration points\n\n## Framework-Specific Implementation\n\nAdapt to your project's framework:\n- **Express**: Router instances, middleware chains, route handlers\n- **Fastify**: Route plugins, schema validation, hooks\n- **NestJS**: Controllers, decorators, DTOs, guards, interceptors\n- **Koa**: Router middleware, context handling\n- **Next.js API**: API route handlers with proper HTTP methods\n\n## Important Notes\n\n- ALWAYS examine existing routes first to understand project patterns\n- Use the same validation and error handling patterns as existing routes\n- Follow project's folder structure for routes (usually /routes or /controllers)\n- Don't install new dependencies without asking\n- Consider route performance and database query optimization\n- Add proper OpenAPI/Swagger documentation if project uses it\n- Include rate limiting for public endpoints where appropriate"
              },
              {
                "name": "/component",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/component.md",
                "frontmatter": null,
                "content": "# React Component Generator\n\nCreate a React component named $ARGUMENTS following project conventions.\n\n## Steps\n\n1. **Analyze project structure**: Check existing components to understand file organization, naming conventions, and patterns\n2. **Examine styling approach**: Identify CSS/SCSS modules, styled-components, Tailwind, or other styling methods used\n3. **Review testing patterns**: Check existing test files to understand testing framework and conventions\n4. **Create component structure**: Generate appropriate files (component, styles, tests, index)\n5. **Implement component**: Write TypeScript/JavaScript with proper props interface and logic\n6. **Add tests**: Write comprehensive tests following project patterns\n7. **Verify integration**: Ensure component works with existing project setup\n\n## Requirements\n\n- Follow existing project file structure and naming conventions\n- Use TypeScript if project uses it\n- Include proper accessibility attributes\n- Add responsive design considerations\n- Write tests that match project testing patterns\n- Include usage examples in component documentation\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same styling approach as the rest of the project\n- Follow the project's TypeScript conventions for props and interfaces\n- Don't install new dependencies without asking first"
              },
              {
                "name": "/hooks",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/hooks.md",
                "frontmatter": null,
                "content": "# React Hooks\n\nCreate or optimize React hooks for $ARGUMENTS following project conventions.\n\n## Task\n\nAnalyze the request and create appropriate React hooks:\n\n1. **Examine existing hooks**: Check project for existing custom hooks patterns and conventions\n2. **Identify hook type**: Determine if creating new custom hook, optimizing existing hook, or implementing specific hook pattern\n3. **Check TypeScript usage**: Verify if project uses TypeScript and follow typing conventions\n4. **Implement hook**: Create hook with proper:\n   - Naming convention (use prefix)\n   - TypeScript types and interfaces\n   - Proper dependency arrays\n   - Error handling\n   - Performance optimizations\n5. **Add tests**: Create comprehensive unit tests using project's testing framework\n6. **Add documentation**: Include JSDoc comments and usage examples\n\n## Common Hook Patterns\n\nWhen creating hooks, consider these patterns based on the request:\n- **Data fetching**: API calls, loading states, error handling\n- **State management**: Local state, derived state, state persistence\n- **Side effects**: Event listeners, timers, subscriptions\n- **Context consumption**: Theme, auth, app state\n- **Form handling**: Input management, validation, submission\n- **Performance**: Memoization, debouncing, throttling\n\n## Requirements\n\n- Follow existing project hook conventions\n- Use TypeScript if project uses it\n- Include proper cleanup in useEffect\n- Add error boundaries where appropriate\n- Write tests that cover all hook functionality\n- IMPORTANT: Always check existing hooks first to understand project patterns\n\n## Notes\n\n- Ask for clarification if the hook requirements are ambiguous\n- Suggest optimizations for existing hooks if relevant\n- Consider accessibility implications for UI-related hooks"
              },
              {
                "name": "/state-management",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/state-management.md",
                "frontmatter": null,
                "content": "# React State Management\n\nImplement state management solution for $ARGUMENTS following project conventions.\n\n## Task\n\nSet up or optimize state management based on the requirements:\n\n1. **Analyze current setup**: Check existing state management approach and project structure\n2. **Determine solution**: Based on requirements, choose appropriate state management:\n   - Context API for simple, localized state\n   - Redux Toolkit for complex, global state\n   - Zustand for lightweight global state\n   - Custom hooks for component-level state\n3. **Examine dependencies**: Check package.json for existing state management libraries\n4. **Implement solution**: Create store, providers, and hooks with proper TypeScript types\n5. **Set up middleware**: Add devtools, persistence, or other middleware as needed\n6. **Create typed hooks**: Generate properly typed selectors and dispatch hooks\n7. **Add tests**: Write unit tests for state logic and reducers\n8. **Update providers**: Integrate with app's provider hierarchy\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions\n- Use existing state management patterns if present\n- Create proper type definitions for state shape\n- Include error handling and loading states\n- Add proper debugging setup (devtools)\n- Consider performance optimizations (selectors, memoization)\n\n## State Management Selection Guide\n\nChoose based on complexity:\n- **Simple state**: React hooks + Context API\n- **Medium complexity**: Zustand or custom hooks\n- **Complex state**: Redux Toolkit with RTK Query\n- **Form state**: React Hook Form or Formik\n\n## Important Notes\n\n- ALWAYS check existing state management first\n- Don't install new dependencies without asking\n- Follow project's folder structure for state files\n- Consider server state vs client state separation\n- Add proper TypeScript types for all state interfaces"
              },
              {
                "name": "/components",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/vue-app/.claude/commands/components.md",
                "frontmatter": null,
                "content": "# Vue Components\n\nCreate Vue Single File Components for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Vue components based on the requirements:\n\n1. **Analyze project structure**: Check existing Vue components to understand patterns, conventions, and file organization\n2. **Examine Vue setup**: Identify Vue version (2/3), TypeScript usage, and Composition/Options API preference\n3. **Check styling approach**: Determine if using CSS modules, SCSS, styled-components, or other styling methods\n4. **Review testing patterns**: Check existing component tests to understand testing framework and conventions\n5. **Create component structure**: Generate SFC with template, script, and style sections\n6. **Implement component**: Write TypeScript interfaces, props, emits, and component logic\n7. **Add accessibility**: Include proper ARIA attributes and semantic HTML\n8. **Create tests**: Write comprehensive component tests following project patterns\n9. **Add documentation**: Include JSDoc comments and usage examples\n\n## Component Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing component patterns and naming conventions\n- Implement proper props validation and typing\n- Add appropriate event emissions with TypeScript signatures\n- Include scoped styles following project's styling approach\n- Add proper accessibility attributes (ARIA, semantic HTML)\n- Consider responsive design if applicable\n\n## Vue Patterns to Consider\n\nBased on the component type:\n- **Composition API**: For Vue 3 projects with `<script setup>`\n- **Options API**: For Vue 2 or legacy Vue 3 projects\n- **Composables**: Extract reusable logic into composables\n- **Provide/Inject**: For deep component communication\n- **Slots**: For flexible component content\n- **Teleport**: For portal-like functionality (Vue 3)\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same Vue API style (Composition vs Options) as the project\n- Follow project's folder structure for components\n- Don't install new dependencies without asking\n- Consider component performance (v-memo, computed properties)\n- Add proper TypeScript types for all props and emits"
              },
              {
                "name": "/composables",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/vue-app/.claude/commands/composables.md",
                "frontmatter": null,
                "content": "# Vue Composables\n\nCreate Vue composables for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Vue composables based on the requirements:\n\n1. **Analyze existing composables**: Check project for existing composable patterns, naming conventions, and file organization\n2. **Examine Vue setup**: Verify Vue 3 Composition API usage and TypeScript configuration\n3. **Identify composable type**: Determine the composable category:\n   - State management (reactive data, computed properties)\n   - API/HTTP operations (data fetching, mutations)\n   - DOM interactions (event listeners, element refs)\n   - Utility functions (validation, formatting, storage)\n   - Lifecycle management (cleanup, watchers)\n4. **Check dependencies**: Review existing composables to avoid duplication\n5. **Implement composable**: Create composable with proper TypeScript types and reactivity\n6. **Add lifecycle management**: Include proper cleanup with onUnmounted when needed\n7. **Create tests**: Write comprehensive unit tests for composable logic\n8. **Add documentation**: Include JSDoc comments and usage examples\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use appropriate Vue reactivity APIs (ref, reactive, computed, watch)\n- Include proper error handling and loading states\n- Add cleanup for side effects (event listeners, timers, subscriptions)\n- Make composables reusable and focused on single responsibility\n- Consider performance implications (shallow vs deep reactivity)\n\n## Common Composable Patterns\n\nBased on the request:\n- **Data fetching**: API calls with loading/error states\n- **Form handling**: Input management, validation, submission\n- **State management**: Local state, persistence, computed values\n- **DOM utilities**: Element refs, event handling, intersection observer\n- **Storage**: localStorage, sessionStorage, IndexedDB\n- **Authentication**: User state, token management, permissions\n- **UI utilities**: Dark mode, responsive breakpoints, modals\n\n## Important Notes\n\n- ALWAYS examine existing composables first to understand project patterns\n- Use proper Vue 3 Composition API patterns\n- Follow project's folder structure for composables (usually /composables)\n- Don't install new dependencies without asking\n- Consider composable composition (using other composables within composables)\n- Add proper TypeScript return types and generic constraints\n- Include proper reactivity patterns (avoid losing reactivity)"
              },
              {
                "name": "/lint",
                "description": null,
                "path": "cli-tool/templates/python/.claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Python Linter\n\nRun Python code linting and formatting tools.\n\n## Purpose\n\nThis command helps you maintain code quality using Python's best linting and formatting tools.\n\n## Usage\n\n```\n/lint\n```\n\n## What this command does\n\n1. **Runs multiple linters** (flake8, pylint, black, isort)\n2. **Provides detailed feedback** on code quality issues\n3. **Auto-fixes formatting** where possible\n4. **Checks type hints** if mypy is configured\n\n## Example Commands\n\n### Black (code formatting)\n```bash\n# Format all Python files\nblack .\n\n# Check formatting without changing files\nblack --check .\n\n# Format specific file\nblack src/main.py\n```\n\n### flake8 (style guide enforcement)\n```bash\n# Check all Python files\nflake8 .\n\n# Check specific directory\nflake8 src/\n\n# Check with specific rules\nflake8 --max-line-length=88 .\n```\n\n### isort (import sorting)\n```bash\n# Sort imports in all files\nisort .\n\n# Check import sorting\nisort --check-only .\n\n# Sort imports in specific file\nisort src/main.py\n```\n\n### pylint (comprehensive linting)\n```bash\n# Run pylint on all files\npylint src/\n\n# Run with specific score threshold\npylint --fail-under=8.0 src/\n\n# Generate detailed report\npylint --output-format=html src/ > pylint_report.html\n```\n\n### mypy (type checking)\n```bash\n# Check types in all files\nmypy .\n\n# Check specific module\nmypy src/models.py\n\n# Check with strict mode\nmypy --strict src/\n```\n\n## Configuration Files\n\nMost projects benefit from configuration files:\n\n### .flake8\n```ini\n[flake8]\nmax-line-length = 88\nexclude = .git,__pycache__,venv\nignore = E203,W503\n```\n\n### pyproject.toml\n```toml\n[tool.black]\nline-length = 88\n\n[tool.isort]\nprofile = \"black\"\n```\n\n## Best Practices\n\n- Run linters before committing code\n- Use consistent formatting across the project\n- Fix linting issues promptly\n- Configure linters to match your team's style\n- Use type hints for better code documentation"
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/python/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Runner\n\nRun Python tests with pytest, unittest, or other testing frameworks.\n\n## Purpose\n\nThis command helps you run Python tests effectively with proper configuration and reporting.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Detects test framework** (pytest, unittest, nose2)\n2. **Runs appropriate tests** with proper configuration\n3. **Provides coverage reporting** if available\n4. **Shows clear test results** with failure details\n\n## Example Commands\n\n### pytest (recommended)\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=src --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n\n# Run tests matching pattern\npytest -k \"test_user\"\n```\n\n### unittest\n```bash\n# Run all tests\npython -m unittest discover\n\n# Run specific test file\npython -m unittest tests.test_models\n\n# Run with verbose output\npython -m unittest -v\n```\n\n### Django tests\n```bash\n# Run all Django tests\npython manage.py test\n\n# Run specific app tests\npython manage.py test myapp\n\n# Run with coverage\ncoverage run --source='.' manage.py test\ncoverage report\n```\n\n## Best Practices\n\n- Write tests for all critical functionality\n- Use descriptive test names\n- Keep tests isolated and independent\n- Mock external dependencies\n- Aim for high test coverage (80%+)"
              },
              {
                "name": "/admin",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/admin.md",
                "frontmatter": null,
                "content": "# Django Admin Configuration\n\nConfigure Django admin interface with custom admin classes and functionality.\n\n## Purpose\n\nThis command helps you create comprehensive Django admin configurations with advanced features and customizations.\n\n## Usage\n\n```\n/admin\n```\n\n## What this command does\n\n1. **Registers models** with custom admin classes\n2. **Creates advanced admin interfaces** with filtering, search, and actions\n3. **Adds inline editing** for related models\n4. **Customizes list displays** and forms\n5. **Implements admin actions** for bulk operations\n\n## Example Output\n\n```python\n# admin.py\nfrom django.contrib import admin\nfrom django.utils.html import format_html\nfrom django.urls import reverse\nfrom django.utils.safestring import mark_safe\nfrom .models import Post, Category, Tag, Comment\n\n@admin.register(Category)\nclass CategoryAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Category model.\"\"\"\n    list_display = ['name', 'slug', 'post_count', 'created_at']\n    list_filter = ['created_at']\n    search_fields = ['name', 'description']\n    prepopulated_fields = {'slug': ('name',)}\n    readonly_fields = ['created_at', 'updated_at']\n    \n    def post_count(self, obj):\n        \"\"\"Display number of posts in this category.\"\"\"\n        count = obj.posts.count()\n        url = reverse('admin:blog_post_changelist') + f'?category__id__exact={obj.id}'\n        return format_html('<a href=\"{}\">{} posts</a>', url, count)\n    post_count.short_description = 'Posts'\n\nclass CommentInline(admin.TabularInline):\n    \"\"\"Inline admin for comments.\"\"\"\n    model = Comment\n    extra = 0\n    readonly_fields = ['created_at', 'author']\n    fields = ['author', 'content', 'is_approved', 'created_at']\n\n@admin.register(Post)\nclass PostAdmin(admin.ModelAdmin):\n    \"\"\"Advanced admin configuration for Post model.\"\"\"\n    list_display = [\n        'title', \n        'author', \n        'category', \n        'status', \n        'view_count',\n        'created_at',\n        'post_preview'\n    ]\n    list_filter = [\n        'status', \n        'category', \n        'created_at', \n        'updated_at',\n        ('author', admin.RelatedOnlyFieldListFilter)\n    ]\n    search_fields = ['title', 'content', 'author__username']\n    prepopulated_fields = {'slug': ('title',)}\n    readonly_fields = ['created_at', 'updated_at', 'view_count', 'post_preview']\n    \n    # Custom form layout\n    fieldsets = (\n        ('Content', {\n            'fields': ('title', 'slug', 'content', 'status')\n        }),\n        ('Metadata', {\n            'fields': ('author', 'category', 'tags'),\n            'classes': ('collapse',)\n        }),\n        ('SEO', {\n            'fields': ('meta_description', 'meta_keywords'),\n            'classes': ('collapse',)\n        }),\n        ('Timestamps', {\n            'fields': ('created_at', 'updated_at', 'view_count'),\n            'classes': ('collapse',)\n        }),\n    )\n    \n    # Many-to-many field display\n    filter_horizontal = ['tags']\n    \n    # Inline models\n    inlines = [CommentInline]\n    \n    # Custom list display methods\n    def post_preview(self, obj):\n        \"\"\"Show thumbnail preview of post.\"\"\"\n        if obj.featured_image:\n            return format_html(\n                '<img src=\"{}\" width=\"50\" height=\"50\" style=\"border-radius: 5px;\" />',\n                obj.featured_image.url\n            )\n        return \"No image\"\n    post_preview.short_description = 'Preview'\n    \n    # Custom admin actions\n    actions = ['make_published', 'make_draft', 'duplicate_posts']\n    \n    def make_published(self, request, queryset):\n        \"\"\"Bulk action to publish selected posts.\"\"\"\n        updated = queryset.update(status='published')\n        self.message_user(\n            request, \n            f'{updated} posts were successfully marked as published.'\n        )\n    make_published.short_description = \"Mark selected posts as published\"\n    \n    def make_draft(self, request, queryset):\n        \"\"\"Bulk action to set selected posts as draft.\"\"\"\n        updated = queryset.update(status='draft')\n        self.message_user(\n            request, \n            f'{updated} posts were successfully marked as draft.'\n        )\n    make_draft.short_description = \"Mark selected posts as draft\"\n    \n    def duplicate_posts(self, request, queryset):\n        \"\"\"Bulk action to duplicate selected posts.\"\"\"\n        count = 0\n        for post in queryset:\n            post.pk = None  # Create new instance\n            post.title = f\"Copy of {post.title}\"\n            post.slug = f\"copy-of-{post.slug}\"\n            post.status = 'draft'\n            post.save()\n            count += 1\n        \n        self.message_user(\n            request,\n            f'{count} posts were successfully duplicated.'\n        )\n    duplicate_posts.short_description = \"Duplicate selected posts\"\n\n@admin.register(Tag)\nclass TagAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Tag model.\"\"\"\n    list_display = ['name', 'slug', 'post_count', 'color_preview']\n    search_fields = ['name']\n    prepopulated_fields = {'slug': ('name',)}\n    \n    def post_count(self, obj):\n        \"\"\"Display number of posts with this tag.\"\"\"\n        return obj.posts.count()\n    post_count.short_description = 'Posts'\n    \n    def color_preview(self, obj):\n        \"\"\"Show color preview if tag has color field.\"\"\"\n        if hasattr(obj, 'color') and obj.color:\n            return format_html(\n                '<span style=\"background-color: {}; padding: 2px 8px; border-radius: 3px; color: white;\">{}</span>',\n                obj.color,\n                obj.name\n            )\n        return obj.name\n    color_preview.short_description = 'Preview'\n\n@admin.register(Comment)\nclass CommentAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Comment model.\"\"\"\n    list_display = ['author', 'post', 'content_preview', 'is_approved', 'created_at']\n    list_filter = ['is_approved', 'created_at', 'post__category']\n    search_fields = ['content', 'author__username', 'post__title']\n    readonly_fields = ['created_at', 'updated_at']\n    actions = ['approve_comments', 'disapprove_comments']\n    \n    def content_preview(self, obj):\n        \"\"\"Show truncated content preview.\"\"\"\n        return obj.content[:50] + \"...\" if len(obj.content) > 50 else obj.content\n    content_preview.short_description = 'Content'\n    \n    def approve_comments(self, request, queryset):\n        \"\"\"Bulk approve comments.\"\"\"\n        updated = queryset.update(is_approved=True)\n        self.message_user(request, f'{updated} comments were approved.')\n    approve_comments.short_description = \"Approve selected comments\"\n    \n    def disapprove_comments(self, request, queryset):\n        \"\"\"Bulk disapprove comments.\"\"\"\n        updated = queryset.update(is_approved=False)\n        self.message_user(request, f'{updated} comments were disapproved.')\n    disapprove_comments.short_description = \"Disapprove selected comments\"\n\n# Custom admin site configuration\nadmin.site.site_header = \"Blog Administration\"\nadmin.site.site_title = \"Blog Admin Portal\"\nadmin.site.index_title = \"Welcome to Blog Administration\"\n```\n\n## Advanced Features\n\n### Custom List Display\n- **Thumbnail previews** for images\n- **Related object counts** with links\n- **Status indicators** with colors\n- **Custom formatting** for data display\n\n### Filtering and Search\n- **Advanced filters** including date ranges\n- **Related field filtering** for foreign keys\n- **Search across multiple fields** including relations\n- **Custom filter classes** for complex queries\n\n### Inline Editing\n- **TabularInline** for compact editing\n- **StackedInline** for detailed forms\n- **Custom inline forms** with additional functionality\n- **Readonly fields** in inlines\n\n### Bulk Actions\n- **Status changes** for multiple objects\n- **Data export** functionality\n- **Batch operations** for efficiency\n- **Custom business logic** in actions\n\n### Form Customization\n- **Fieldsets** for organized layouts\n- **Collapsed sections** for advanced options\n- **Custom widgets** for better UX\n- **Validation** and error handling\n\n## Security Considerations\n\n- **Permission checks** in custom methods\n- **Input sanitization** in admin actions\n- **CSRF protection** (automatic)\n- **User authentication** (built-in)\n\n## Performance Optimization\n\n```python\n# Optimize queries with select_related/prefetch_related\nclass PostAdmin(admin.ModelAdmin):\n    def get_queryset(self, request):\n        queryset = super().get_queryset(request)\n        return queryset.select_related('author', 'category').prefetch_related('tags')\n```\n\n## Custom Admin Templates\n\n```python\n# Override admin templates\nclass PostAdmin(admin.ModelAdmin):\n    change_form_template = 'admin/blog/post/change_form.html'\n    change_list_template = 'admin/blog/post/change_list.html'\n```"
              },
              {
                "name": "/django-model",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/django-model.md",
                "frontmatter": null,
                "content": "# Django Model Generator\n\nCreate Django models with proper structure and relationships.\n\n## Purpose\n\nThis command helps you quickly create Django models with fields, relationships, and best practices.\n\n## Usage\n\n```\n/django-model\n```\n\n## What this command does\n\n1. **Creates model classes** with proper field definitions\n2. **Adds relationships** (ForeignKey, ManyToMany, OneToOne)\n3. **Includes meta options** and model methods\n4. **Generates migrations** automatically\n5. **Follows Django conventions** and best practices\n\n## Example Output\n\n```python\n# models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass Category(models.Model):\n    name = models.CharField(max_length=100, unique=True)\n    slug = models.SlugField(unique=True)\n    description = models.TextField(blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    \n    class Meta:\n        verbose_name_plural = \"categories\"\n        ordering = ['name']\n    \n    def __str__(self):\n        return self.name\n\nclass Post(models.Model):\n    STATUS_CHOICES = [\n        ('draft', 'Draft'),\n        ('published', 'Published'),\n        ('archived', 'Archived'),\n    ]\n    \n    title = models.CharField(max_length=200)\n    slug = models.SlugField(unique=True)\n    content = models.TextField()\n    status = models.CharField(max_length=20, choices=STATUS_CHOICES, default='draft')\n    author = models.ForeignKey(User, on_delete=models.CASCADE, related_name='posts')\n    category = models.ForeignKey(Category, on_delete=models.SET_NULL, null=True, blank=True)\n    tags = models.ManyToManyField('Tag', blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    \n    class Meta:\n        ordering = ['-created_at']\n        verbose_name = 'blog post'\n        verbose_name_plural = 'blog posts'\n    \n    def __str__(self):\n        return self.title\n    \n    def get_absolute_url(self):\n        return reverse('post_detail', kwargs={'slug': self.slug})\n\nclass Tag(models.Model):\n    name = models.CharField(max_length=50, unique=True)\n    slug = models.SlugField(unique=True)\n    \n    def __str__(self):\n        return self.name\n```\n\n## Field Types Supported\n\n- **CharField** - Text fields with max length\n- **TextField** - Large text fields\n- **IntegerField** - Integer numbers\n- **FloatField** - Floating point numbers\n- **BooleanField** - True/False values\n- **DateField** - Date only\n- **DateTimeField** - Date and time\n- **EmailField** - Email addresses\n- **URLField** - URLs\n- **ImageField** - Image uploads\n- **FileField** - File uploads\n- **JSONField** - JSON data (PostgreSQL)\n\n## Relationships\n\n- **ForeignKey** - One-to-many relationships\n- **ManyToManyField** - Many-to-many relationships\n- **OneToOneField** - One-to-one relationships\n\n## Best Practices Included\n\n- Proper field choices and defaults\n- Appropriate related_name attributes\n- __str__ methods for admin interface\n- Meta class with ordering and verbose names\n- get_absolute_url methods where appropriate\n- Proper use of null and blank parameters\n- Field validation and constraints\n\n## After Creating Models\n\n```bash\n# Create and apply migrations\npython manage.py makemigrations\npython manage.py migrate\n\n# Register in admin (optional)\n# Add to admin.py:\nfrom django.contrib import admin\nfrom .models import Post, Category, Tag\n\nadmin.site.register([Post, Category, Tag])\n```"
              },
              {
                "name": "/views",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/views.md",
                "frontmatter": null,
                "content": "# Django Views Generator\n\nCreate Django views with proper structure and best practices.\n\n## Purpose\n\nThis command helps you quickly create Django views (Function-Based Views and Class-Based Views) following Django conventions.\n\n## Usage\n\n```\n/views\n```\n\n## What this command does\n\n1. **Creates view functions/classes** with proper structure\n2. **Handles HTTP methods** (GET, POST, PUT, DELETE)\n3. **Includes form handling** and validation\n4. **Adds authentication/authorization** checks\n5. **Follows Django best practices** and security guidelines\n\n## Example Output\n\n```python\n# views.py\nfrom django.shortcuts import render, get_object_or_404, redirect\nfrom django.contrib.auth.decorators import login_required\nfrom django.contrib import messages\nfrom django.http import JsonResponse\nfrom django.views.generic import ListView, DetailView, CreateView, UpdateView, DeleteView\nfrom django.contrib.auth.mixins import LoginRequiredMixin\nfrom django.urls import reverse_lazy\nfrom .models import Post, Category\nfrom .forms import PostForm\n\n# Function-Based Views\ndef post_list(request):\n    \"\"\"Display list of posts with pagination and filtering.\"\"\"\n    posts = Post.objects.filter(status='published').select_related('author', 'category')\n    \n    # Search functionality\n    search_query = request.GET.get('search')\n    if search_query:\n        posts = posts.filter(title__icontains=search_query)\n    \n    # Category filtering\n    category_id = request.GET.get('category')\n    if category_id:\n        posts = posts.filter(category_id=category_id)\n    \n    context = {\n        'posts': posts,\n        'categories': Category.objects.all(),\n        'search_query': search_query,\n    }\n    return render(request, 'blog/post_list.html', context)\n\ndef post_detail(request, slug):\n    \"\"\"Display individual post details.\"\"\"\n    post = get_object_or_404(Post, slug=slug, status='published')\n    \n    context = {\n        'post': post,\n        'related_posts': Post.objects.filter(\n            category=post.category,\n            status='published'\n        ).exclude(id=post.id)[:3]\n    }\n    return render(request, 'blog/post_detail.html', context)\n\n@login_required\ndef post_create(request):\n    \"\"\"Create new post.\"\"\"\n    if request.method == 'POST':\n        form = PostForm(request.POST, request.FILES)\n        if form.is_valid():\n            post = form.save(commit=False)\n            post.author = request.user\n            post.save()\n            form.save_m2m()  # Save many-to-many relationships\n            messages.success(request, 'Post created successfully!')\n            return redirect('post_detail', slug=post.slug)\n    else:\n        form = PostForm()\n    \n    return render(request, 'blog/post_form.html', {'form': form})\n\n@login_required\ndef post_edit(request, slug):\n    \"\"\"Edit existing post.\"\"\"\n    post = get_object_or_404(Post, slug=slug, author=request.user)\n    \n    if request.method == 'POST':\n        form = PostForm(request.POST, request.FILES, instance=post)\n        if form.is_valid():\n            form.save()\n            messages.success(request, 'Post updated successfully!')\n            return redirect('post_detail', slug=post.slug)\n    else:\n        form = PostForm(instance=post)\n    \n    return render(request, 'blog/post_form.html', {\n        'form': form, \n        'post': post\n    })\n\n# Class-Based Views\nclass PostListView(ListView):\n    \"\"\"List view for posts with pagination.\"\"\"\n    model = Post\n    template_name = 'blog/post_list.html'\n    context_object_name = 'posts'\n    paginate_by = 10\n    \n    def get_queryset(self):\n        return Post.objects.filter(status='published').select_related('author', 'category')\n    \n    def get_context_data(self, **kwargs):\n        context = super().get_context_data(**kwargs)\n        context['categories'] = Category.objects.all()\n        return context\n\nclass PostDetailView(DetailView):\n    \"\"\"Detail view for individual posts.\"\"\"\n    model = Post\n    template_name = 'blog/post_detail.html'\n    context_object_name = 'post'\n    \n    def get_queryset(self):\n        return Post.objects.filter(status='published')\n\nclass PostCreateView(LoginRequiredMixin, CreateView):\n    \"\"\"Create view for new posts.\"\"\"\n    model = Post\n    form_class = PostForm\n    template_name = 'blog/post_form.html'\n    \n    def form_valid(self, form):\n        form.instance.author = self.request.user\n        return super().form_valid(form)\n\nclass PostUpdateView(LoginRequiredMixin, UpdateView):\n    \"\"\"Update view for existing posts.\"\"\"\n    model = Post\n    form_class = PostForm\n    template_name = 'blog/post_form.html'\n    \n    def get_queryset(self):\n        return Post.objects.filter(author=self.request.user)\n\nclass PostDeleteView(LoginRequiredMixin, DeleteView):\n    \"\"\"Delete view for posts.\"\"\"\n    model = Post\n    template_name = 'blog/post_confirm_delete.html'\n    success_url = reverse_lazy('post_list')\n    \n    def get_queryset(self):\n        return Post.objects.filter(author=self.request.user)\n\n# API Views\ndef api_post_list(request):\n    \"\"\"API endpoint for post list.\"\"\"\n    posts = Post.objects.filter(status='published').values(\n        'id', 'title', 'slug', 'created_at', 'author__username'\n    )\n    return JsonResponse(list(posts), safe=False)\n```\n\n## View Types Supported\n\n- **Function-Based Views (FBV)** - Simple, explicit control\n- **Class-Based Views (CBV)** - Reusable, inheritance-based\n- **Generic Views** - ListView, DetailView, CreateView, etc.\n- **API Views** - JSON responses for AJAX/API calls\n\n## Features Included\n\n- **Authentication checks** with decorators/mixins\n- **Permission handling** for user authorization\n- **Form processing** with validation\n- **Error handling** and user feedback\n- **SEO-friendly URLs** with slugs\n- **Database optimization** with select_related/prefetch_related\n- **Pagination** for large datasets\n- **Search and filtering** functionality\n\n## Security Best Practices\n\n- CSRF protection (automatic with forms)\n- User authentication and authorization\n- SQL injection prevention (ORM)\n- XSS protection with template escaping\n- Proper error handling\n\n## URL Configuration\n\n```python\n# urls.py\nfrom django.urls import path\nfrom . import views\n\napp_name = 'blog'\n\nurlpatterns = [\n    # Function-based views\n    path('', views.post_list, name='post_list'),\n    path('post/<slug:slug>/', views.post_detail, name='post_detail'),\n    path('create/', views.post_create, name='post_create'),\n    path('edit/<slug:slug>/', views.post_edit, name='post_edit'),\n    \n    # Class-based views\n    path('posts/', views.PostListView.as_view(), name='post_list_cbv'),\n    path('posts/<slug:slug>/', views.PostDetailView.as_view(), name='post_detail_cbv'),\n    path('posts/create/', views.PostCreateView.as_view(), name='post_create_cbv'),\n    path('posts/<slug:slug>/edit/', views.PostUpdateView.as_view(), name='post_edit_cbv'),\n    path('posts/<slug:slug>/delete/', views.PostDeleteView.as_view(), name='post_delete_cbv'),\n    \n    # API endpoints\n    path('api/posts/', views.api_post_list, name='api_post_list'),\n]\n```"
              },
              {
                "name": "/api-endpoints",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/api-endpoints.md",
                "frontmatter": null,
                "content": "# FastAPI Endpoints Generator\n\nCreate comprehensive FastAPI endpoints with proper structure, validation, and documentation.\n\n## Purpose\n\nThis command helps you quickly create FastAPI endpoints with Pydantic models, dependency injection, and automatic API documentation.\n\n## Usage\n\n```\n/api-endpoints\n```\n\n## What this command does\n\n1. **Creates API endpoints** with proper HTTP methods\n2. **Adds Pydantic models** for request/response validation\n3. **Implements dependency injection** for database and auth\n4. **Includes error handling** and status codes\n5. **Generates automatic documentation** with OpenAPI\n\n## Example Output\n\n```python\n# main.py\nfrom fastapi import FastAPI, Depends, HTTPException, status\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom fastapi.security import HTTPBearer, HTTPAuthorizationCredentials\nfrom sqlalchemy.orm import Session\nimport uvicorn\n\nfrom app.database import get_db, engine\nfrom app.models import models\nfrom app.routers import auth, users, posts, comments\nfrom app.core.config import settings\n\n# Create database tables\nmodels.Base.metadata.create_all(bind=engine)\n\n# Initialize FastAPI app\napp = FastAPI(\n    title=\"Blog API\",\n    description=\"A comprehensive blog API built with FastAPI\",\n    version=\"1.0.0\",\n    docs_url=\"/docs\",\n    redoc_url=\"/redoc\"\n)\n\n# Add CORS middleware\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=settings.ALLOWED_HOSTS,\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n\n# Include routers\napp.include_router(auth.router, prefix=\"/auth\", tags=[\"Authentication\"])\napp.include_router(users.router, prefix=\"/users\", tags=[\"Users\"])\napp.include_router(posts.router, prefix=\"/posts\", tags=[\"Posts\"])\napp.include_router(comments.router, prefix=\"/comments\", tags=[\"Comments\"])\n\n@app.get(\"/\", tags=[\"Root\"])\nasync def root():\n    \"\"\"API root endpoint.\"\"\"\n    return {\n        \"message\": \"Welcome to Blog API\",\n        \"version\": \"1.0.0\",\n        \"docs\": \"/docs\",\n        \"redoc\": \"/redoc\"\n    }\n\n@app.get(\"/health\", tags=[\"Health\"])\nasync def health_check():\n    \"\"\"Health check endpoint.\"\"\"\n    return {\"status\": \"healthy\", \"timestamp\": \"2024-01-01T00:00:00Z\"}\n\nif __name__ == \"__main__\":\n    uvicorn.run(\n        \"main:app\",\n        host=\"0.0.0.0\",\n        port=8000,\n        reload=True\n    )\n```\n\n```python\n# app/routers/posts.py\nfrom typing import List, Optional\nfrom fastapi import APIRouter, Depends, HTTPException, status, Query\nfrom sqlalchemy.orm import Session\n\nfrom app.database import get_db\nfrom app.schemas import post_schemas\nfrom app.services import post_service\nfrom app.core.dependencies import get_current_user, get_current_active_user\nfrom app.models.user import User\n\nrouter = APIRouter()\n\n@router.get(\"/\", response_model=List[post_schemas.PostResponse])\nasync def get_posts(\n    skip: int = Query(0, ge=0, description=\"Number of posts to skip\"),\n    limit: int = Query(10, ge=1, le=100, description=\"Number of posts to return\"),\n    search: Optional[str] = Query(None, description=\"Search in title and content\"),\n    category: Optional[str] = Query(None, description=\"Filter by category\"),\n    published: Optional[bool] = Query(True, description=\"Filter by published status\"),\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get all posts with pagination and filtering.\n    \n    - **skip**: Number of posts to skip (for pagination)\n    - **limit**: Maximum number of posts to return (1-100)\n    - **search**: Search term for title and content\n    - **category**: Filter posts by category\n    - **published**: Filter by published status\n    \"\"\"\n    posts = post_service.get_posts(\n        db=db,\n        skip=skip,\n        limit=limit,\n        search=search,\n        category=category,\n        published=published\n    )\n    return posts\n\n@router.get(\"/{post_id}\", response_model=post_schemas.PostResponse)\nasync def get_post(\n    post_id: int,\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get a specific post by ID.\n    \n    - **post_id**: Unique identifier for the post\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    return post\n\n@router.post(\"/\", response_model=post_schemas.PostResponse, status_code=status.HTTP_201_CREATED)\nasync def create_post(\n    post: post_schemas.PostCreate,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Create a new post.\n    \n    - **title**: Post title (required)\n    - **content**: Post content (required)\n    - **category**: Post category (optional)\n    - **published**: Publication status (default: false)\n    \"\"\"\n    return post_service.create_post(\n        db=db,\n        post=post,\n        user_id=current_user.id\n    )\n\n@router.put(\"/{post_id}\", response_model=post_schemas.PostResponse)\nasync def update_post(\n    post_id: int,\n    post_update: post_schemas.PostUpdate,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Update an existing post.\n    \n    - **post_id**: Unique identifier for the post\n    - **title**: Updated post title (optional)\n    - **content**: Updated post content (optional)\n    - **category**: Updated post category (optional)\n    - **published**: Updated publication status (optional)\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    if post.author_id != current_user.id:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not authorized to update this post\"\n        )\n    \n    return post_service.update_post(\n        db=db,\n        post_id=post_id,\n        post_update=post_update\n    )\n\n@router.delete(\"/{post_id}\", status_code=status.HTTP_204_NO_CONTENT)\nasync def delete_post(\n    post_id: int,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Delete a post.\n    \n    - **post_id**: Unique identifier for the post to delete\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    if post.author_id != current_user.id:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not authorized to delete this post\"\n        )\n    \n    post_service.delete_post(db=db, post_id=post_id)\n\n@router.post(\"/{post_id}/like\", response_model=post_schemas.PostResponse)\nasync def like_post(\n    post_id: int,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Like/unlike a post.\n    \n    - **post_id**: Unique identifier for the post to like\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    return post_service.toggle_like(\n        db=db,\n        post_id=post_id,\n        user_id=current_user.id\n    )\n\n@router.get(\"/{post_id}/comments\", response_model=List[post_schemas.CommentResponse])\nasync def get_post_comments(\n    post_id: int,\n    skip: int = Query(0, ge=0),\n    limit: int = Query(10, ge=1, le=100),\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get all comments for a specific post.\n    \n    - **post_id**: Unique identifier for the post\n    - **skip**: Number of comments to skip\n    - **limit**: Maximum number of comments to return\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    return post_service.get_post_comments(\n        db=db,\n        post_id=post_id,\n        skip=skip,\n        limit=limit\n    )\n```\n\n```python\n# app/schemas/post_schemas.py\nfrom typing import Optional, List\nfrom datetime import datetime\nfrom pydantic import BaseModel, Field, validator\n\nclass PostBase(BaseModel):\n    \"\"\"Base post schema.\"\"\"\n    title: str = Field(..., min_length=1, max_length=200, description=\"Post title\")\n    content: str = Field(..., min_length=1, description=\"Post content\")\n    category: Optional[str] = Field(None, max_length=50, description=\"Post category\")\n    published: bool = Field(False, description=\"Publication status\")\n\nclass PostCreate(PostBase):\n    \"\"\"Schema for creating a post.\"\"\"\n    \n    @validator('title')\n    def validate_title(cls, v):\n        if not v.strip():\n            raise ValueError('Title cannot be empty')\n        return v.strip()\n    \n    @validator('content')\n    def validate_content(cls, v):\n        if len(v.strip()) < 10:\n            raise ValueError('Content must be at least 10 characters long')\n        return v.strip()\n\nclass PostUpdate(BaseModel):\n    \"\"\"Schema for updating a post.\"\"\"\n    title: Optional[str] = Field(None, min_length=1, max_length=200)\n    content: Optional[str] = Field(None, min_length=1)\n    category: Optional[str] = Field(None, max_length=50)\n    published: Optional[bool] = None\n    \n    @validator('title')\n    def validate_title(cls, v):\n        if v is not None and not v.strip():\n            raise ValueError('Title cannot be empty')\n        return v.strip() if v else v\n    \n    @validator('content')\n    def validate_content(cls, v):\n        if v is not None and len(v.strip()) < 10:\n            raise ValueError('Content must be at least 10 characters long')\n        return v.strip() if v else v\n\nclass PostResponse(PostBase):\n    \"\"\"Schema for post responses.\"\"\"\n    id: int\n    author_id: int\n    created_at: datetime\n    updated_at: datetime\n    like_count: int = 0\n    comment_count: int = 0\n    \n    class Config:\n        from_attributes = True\n\nclass CommentBase(BaseModel):\n    \"\"\"Base comment schema.\"\"\"\n    content: str = Field(..., min_length=1, max_length=1000, description=\"Comment content\")\n\nclass CommentCreate(CommentBase):\n    \"\"\"Schema for creating a comment.\"\"\"\n    post_id: int = Field(..., description=\"ID of the post to comment on\")\n\nclass CommentResponse(CommentBase):\n    \"\"\"Schema for comment responses.\"\"\"\n    id: int\n    post_id: int\n    author_id: int\n    created_at: datetime\n    updated_at: datetime\n    \n    class Config:\n        from_attributes = True\n```\n\n```python\n# app/services/post_service.py\nfrom typing import List, Optional\nfrom sqlalchemy.orm import Session\nfrom sqlalchemy import or_\n\nfrom app.models.post import Post, Comment, PostLike\nfrom app.schemas.post_schemas import PostCreate, PostUpdate\n\ndef get_posts(\n    db: Session,\n    skip: int = 0,\n    limit: int = 10,\n    search: Optional[str] = None,\n    category: Optional[str] = None,\n    published: Optional[bool] = True\n) -> List[Post]:\n    \"\"\"Get posts with filtering and pagination.\"\"\"\n    query = db.query(Post)\n    \n    if published is not None:\n        query = query.filter(Post.published == published)\n    \n    if category:\n        query = query.filter(Post.category == category)\n    \n    if search:\n        query = query.filter(\n            or_(\n                Post.title.contains(search),\n                Post.content.contains(search)\n            )\n        )\n    \n    return query.offset(skip).limit(limit).all()\n\ndef get_post(db: Session, post_id: int) -> Optional[Post]:\n    \"\"\"Get a single post by ID.\"\"\"\n    return db.query(Post).filter(Post.id == post_id).first()\n\ndef create_post(db: Session, post: PostCreate, user_id: int) -> Post:\n    \"\"\"Create a new post.\"\"\"\n    db_post = Post(**post.dict(), author_id=user_id)\n    db.add(db_post)\n    db.commit()\n    db.refresh(db_post)\n    return db_post\n\ndef update_post(\n    db: Session,\n    post_id: int,\n    post_update: PostUpdate\n) -> Optional[Post]:\n    \"\"\"Update an existing post.\"\"\"\n    db_post = db.query(Post).filter(Post.id == post_id).first()\n    if not db_post:\n        return None\n    \n    update_data = post_update.dict(exclude_unset=True)\n    for field, value in update_data.items():\n        setattr(db_post, field, value)\n    \n    db.commit()\n    db.refresh(db_post)\n    return db_post\n\ndef delete_post(db: Session, post_id: int) -> bool:\n    \"\"\"Delete a post.\"\"\"\n    db_post = db.query(Post).filter(Post.id == post_id).first()\n    if not db_post:\n        return False\n    \n    db.delete(db_post)\n    db.commit()\n    return True\n\ndef toggle_like(db: Session, post_id: int, user_id: int) -> Post:\n    \"\"\"Toggle like status for a post.\"\"\"\n    existing_like = db.query(PostLike).filter(\n        PostLike.post_id == post_id,\n        PostLike.user_id == user_id\n    ).first()\n    \n    if existing_like:\n        db.delete(existing_like)\n    else:\n        new_like = PostLike(post_id=post_id, user_id=user_id)\n        db.add(new_like)\n    \n    db.commit()\n    return get_post(db, post_id)\n```\n\n## Features Included\n\n### API Documentation\n- **Automatic OpenAPI** schema generation\n- **Interactive docs** at `/docs`\n- **ReDoc documentation** at `/redoc`\n- **Request/Response examples** in schemas\n\n### Validation & Serialization\n- **Pydantic models** for data validation\n- **Custom validators** for business rules\n- **Type hints** for better IDE support\n- **Automatic data conversion** and validation\n\n### Error Handling\n- **HTTP status codes** for different scenarios\n- **Detailed error messages** with context\n- **Input validation errors** with field-specific messages\n- **Custom exception handlers** for consistent responses\n\n### Security\n- **JWT authentication** with dependencies\n- **Role-based access control** for endpoints\n- **CORS middleware** for cross-origin requests\n- **Input sanitization** through Pydantic\n\n### Performance\n- **Database query optimization** with SQLAlchemy\n- **Pagination support** for large datasets\n- **Async/await support** for concurrent requests\n- **Connection pooling** for database efficiency\n\n## Testing Example\n\n```python\n# tests/test_posts.py\nimport pytest\nfrom fastapi.testclient import TestClient\nfrom app.main import app\n\nclient = TestClient(app)\n\ndef test_get_posts():\n    \"\"\"Test getting posts.\"\"\"\n    response = client.get(\"/posts/\")\n    assert response.status_code == 200\n    assert isinstance(response.json(), list)\n\ndef test_create_post():\n    \"\"\"Test creating a new post.\"\"\"\n    post_data = {\n        \"title\": \"Test Post\",\n        \"content\": \"This is a test post content.\",\n        \"published\": True\n    }\n    response = client.post(\"/posts/\", json=post_data)\n    assert response.status_code == 201\n    assert response.json()[\"title\"] == \"Test Post\"\n```"
              },
              {
                "name": "/auth",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/auth.md",
                "frontmatter": null,
                "content": "# FastAPI Authentication & Authorization\n\nComplete authentication system with JWT tokens, OAuth2, and role-based access control.\n\n## Usage\n\n```bash\n# Install auth dependencies\npip install python-jose[cryptography] passlib[bcrypt] python-multipart\n\n# Generate secret key\nopenssl rand -hex 32\n```\n\n## JWT Configuration\n\n```python\n# app/core/security.py\nfrom datetime import datetime, timedelta\nfrom typing import Optional, Union, Any\nfrom jose import JWTError, jwt\nfrom passlib.context import CryptContext\nfrom app.core.config import settings\n\n# Password hashing\npwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\n# JWT settings\nSECRET_KEY = settings.SECRET_KEY\nALGORITHM = \"HS256\"\nACCESS_TOKEN_EXPIRE_MINUTES = 30\nREFRESH_TOKEN_EXPIRE_DAYS = 7\n\ndef create_access_token(\n    subject: Union[str, Any], \n    expires_delta: Optional[timedelta] = None\n) -> str:\n    \"\"\"Create JWT access token.\"\"\"\n    if expires_delta:\n        expire = datetime.utcnow() + expires_delta\n    else:\n        expire = datetime.utcnow() + timedelta(minutes=ACCESS_TOKEN_EXPIRE_MINUTES)\n    \n    to_encode = {\"exp\": expire, \"sub\": str(subject), \"type\": \"access\"}\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n    return encoded_jwt\n\ndef create_refresh_token(subject: Union[str, Any]) -> str:\n    \"\"\"Create JWT refresh token.\"\"\"\n    expire = datetime.utcnow() + timedelta(days=REFRESH_TOKEN_EXPIRE_DAYS)\n    to_encode = {\"exp\": expire, \"sub\": str(subject), \"type\": \"refresh\"}\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n    return encoded_jwt\n\ndef verify_password(plain_password: str, hashed_password: str) -> bool:\n    \"\"\"Verify password against hash.\"\"\"\n    return pwd_context.verify(plain_password, hashed_password)\n\ndef get_password_hash(password: str) -> str:\n    \"\"\"Generate password hash.\"\"\"\n    return pwd_context.hash(password)\n\ndef decode_token(token: str) -> Optional[dict]:\n    \"\"\"Decode and verify JWT token.\"\"\"\n    try:\n        payload = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])\n        return payload\n    except JWTError:\n        return None\n```\n\n## Authentication Dependencies\n\n```python\n# app/api/dependencies/auth.py\nfrom typing import Optional\nfrom fastapi import Depends, HTTPException, status\nfrom fastapi.security import OAuth2PasswordBearer, HTTPBearer, HTTPAuthorizationCredentials\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.core.security import decode_token\nfrom app.db.database import get_db\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\n\n# OAuth2 scheme\noauth2_scheme = OAuth2PasswordBearer(\n    tokenUrl=\"/api/v1/auth/login\",\n    scheme_name=\"JWT\"\n)\n\n# Bearer token scheme\nsecurity = HTTPBearer()\n\nasync def get_current_user(\n    token: str = Depends(oauth2_scheme),\n    db: AsyncSession = Depends(get_db)\n) -> User:\n    \"\"\"Get current authenticated user.\"\"\"\n    credentials_exception = HTTPException(\n        status_code=status.HTTP_401_UNAUTHORIZED,\n        detail=\"Could not validate credentials\",\n        headers={\"WWW-Authenticate\": \"Bearer\"},\n    )\n    \n    payload = decode_token(token)\n    if payload is None:\n        raise credentials_exception\n    \n    user_id: str = payload.get(\"sub\")\n    token_type: str = payload.get(\"type\")\n    \n    if user_id is None or token_type != \"access\":\n        raise credentials_exception\n    \n    user_repo = UserRepository(User, db)\n    user = await user_repo.get(int(user_id))\n    \n    if user is None:\n        raise credentials_exception\n    \n    if not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    \n    return user\n\nasync def get_current_active_user(\n    current_user: User = Depends(get_current_user)\n) -> User:\n    \"\"\"Get current active user.\"\"\"\n    if not current_user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    return current_user\n\nasync def get_current_superuser(\n    current_user: User = Depends(get_current_user)\n) -> User:\n    \"\"\"Get current superuser.\"\"\"\n    if not current_user.is_superuser:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not enough permissions\"\n        )\n    return current_user\n\ndef require_permissions(*permissions: str):\n    \"\"\"Decorator for permission-based access control.\"\"\"\n    async def permission_checker(\n        current_user: User = Depends(get_current_active_user)\n    ) -> User:\n        # Check if user has required permissions\n        user_permissions = set(current_user.permissions or [])\n        required_permissions = set(permissions)\n        \n        if not required_permissions.issubset(user_permissions) and not current_user.is_superuser:\n            raise HTTPException(\n                status_code=status.HTTP_403_FORBIDDEN,\n                detail=\"Insufficient permissions\"\n            )\n        \n        return current_user\n    \n    return permission_checker\n\ndef require_roles(*roles: str):\n    \"\"\"Decorator for role-based access control.\"\"\"\n    async def role_checker(\n        current_user: User = Depends(get_current_active_user)\n    ) -> User:\n        user_roles = set(role.name for role in current_user.roles or [])\n        required_roles = set(roles)\n        \n        if not required_roles.issubset(user_roles) and not current_user.is_superuser:\n            raise HTTPException(\n                status_code=status.HTTP_403_FORBIDDEN,\n                detail=\"Insufficient role permissions\"\n            )\n        \n        return current_user\n    \n    return role_checker\n```\n\n## Authentication Schemas\n\n```python\n# app/schemas/auth.py\nfrom pydantic import BaseModel, EmailStr\nfrom typing import Optional\n\nclass Token(BaseModel):\n    \"\"\"Token response schema.\"\"\"\n    access_token: str\n    refresh_token: str\n    token_type: str = \"bearer\"\n    expires_in: int\n\nclass TokenPayload(BaseModel):\n    \"\"\"Token payload schema.\"\"\"\n    sub: Optional[int] = None\n    exp: Optional[int] = None\n    type: Optional[str] = None\n\nclass UserLogin(BaseModel):\n    \"\"\"User login schema.\"\"\"\n    username: str\n    password: str\n\nclass UserRegister(BaseModel):\n    \"\"\"User registration schema.\"\"\"\n    username: str\n    email: EmailStr\n    password: str\n    first_name: str\n    last_name: str\n\nclass PasswordReset(BaseModel):\n    \"\"\"Password reset schema.\"\"\"\n    email: EmailStr\n\nclass PasswordResetConfirm(BaseModel):\n    \"\"\"Password reset confirmation schema.\"\"\"\n    token: str\n    new_password: str\n\nclass ChangePassword(BaseModel):\n    \"\"\"Change password schema.\"\"\"\n    current_password: str\n    new_password: str\n\nclass RefreshToken(BaseModel):\n    \"\"\"Refresh token schema.\"\"\"\n    refresh_token: str\n```\n\n## Authentication Endpoints\n\n```python\n# app/api/v1/auth.py\nfrom datetime import timedelta\nfrom typing import Any\nfrom fastapi import APIRouter, Depends, HTTPException, status, BackgroundTasks\nfrom fastapi.security import OAuth2PasswordRequestForm\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.db.database import get_db\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.schemas.auth import (\n    Token, UserLogin, UserRegister, PasswordReset, \n    PasswordResetConfirm, ChangePassword, RefreshToken\n)\nfrom app.schemas.user import UserCreate, UserResponse\nfrom app.core.security import (\n    create_access_token, create_refresh_token, verify_password,\n    decode_token, ACCESS_TOKEN_EXPIRE_MINUTES\n)\nfrom app.api.dependencies.auth import get_current_user, get_current_active_user\nfrom app.services.email import send_password_reset_email\nfrom app.services.auth import AuthService\n\nrouter = APIRouter()\n\n@router.post(\"/register\", response_model=UserResponse, status_code=status.HTTP_201_CREATED)\nasync def register(\n    user_data: UserRegister,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Register new user.\"\"\"\n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    # Check if user already exists\n    if await user_repo.get_by_email(user_data.email):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Email already registered\"\n        )\n    \n    if await user_repo.get_by_username(user_data.username):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Username already taken\"\n        )\n    \n    # Create user\n    user = await auth_service.create_user(user_data.dict())\n    return user\n\n@router.post(\"/login\", response_model=Token)\nasync def login(\n    form_data: OAuth2PasswordRequestForm = Depends(),\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"OAuth2 compatible token login.\"\"\"\n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    user = await auth_service.authenticate_user(\n        form_data.username, \n        form_data.password\n    )\n    \n    if not user:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Incorrect username or password\",\n            headers={\"WWW-Authenticate\": \"Bearer\"},\n        )\n    \n    if not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    \n    # Create tokens\n    access_token = create_access_token(subject=user.id)\n    refresh_token = create_refresh_token(subject=user.id)\n    \n    return {\n        \"access_token\": access_token,\n        \"refresh_token\": refresh_token,\n        \"token_type\": \"bearer\",\n        \"expires_in\": ACCESS_TOKEN_EXPIRE_MINUTES * 60\n    }\n\n@router.post(\"/refresh\", response_model=Token)\nasync def refresh_token(\n    refresh_data: RefreshToken,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Refresh access token.\"\"\"\n    payload = decode_token(refresh_data.refresh_token)\n    \n    if payload is None or payload.get(\"type\") != \"refresh\":\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    user_id = payload.get(\"sub\")\n    if user_id is None:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    user = await user_repo.get(int(user_id))\n    \n    if user is None or not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    # Create new tokens\n    access_token = create_access_token(subject=user.id)\n    new_refresh_token = create_refresh_token(subject=user.id)\n    \n    return {\n        \"access_token\": access_token,\n        \"refresh_token\": new_refresh_token,\n        \"token_type\": \"bearer\",\n        \"expires_in\": ACCESS_TOKEN_EXPIRE_MINUTES * 60\n    }\n\n@router.get(\"/me\", response_model=UserResponse)\nasync def read_users_me(\n    current_user: User = Depends(get_current_active_user)\n) -> Any:\n    \"\"\"Get current user.\"\"\"\n    return current_user\n\n@router.post(\"/change-password\", status_code=status.HTTP_200_OK)\nasync def change_password(\n    password_data: ChangePassword,\n    current_user: User = Depends(get_current_active_user),\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Change user password.\"\"\"\n    if not verify_password(password_data.current_password, current_user.hashed_password):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Incorrect current password\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    await auth_service.change_password(current_user.id, password_data.new_password)\n    \n    return {\"message\": \"Password changed successfully\"}\n\n@router.post(\"/password-reset\", status_code=status.HTTP_200_OK)\nasync def password_reset(\n    reset_data: PasswordReset,\n    background_tasks: BackgroundTasks,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Request password reset.\"\"\"\n    user_repo = UserRepository(User, db)\n    user = await user_repo.get_by_email(reset_data.email)\n    \n    if user:\n        # Generate reset token\n        reset_token = create_access_token(\n            subject=user.id,\n            expires_delta=timedelta(hours=1)  # 1 hour expiry\n        )\n        \n        # Send email with reset token\n        background_tasks.add_task(\n            send_password_reset_email,\n            email=user.email,\n            username=user.username,\n            token=reset_token\n        )\n    \n    # Always return success to prevent email enumeration\n    return {\"message\": \"Password reset email sent if account exists\"}\n\n@router.post(\"/password-reset-confirm\", status_code=status.HTTP_200_OK)\nasync def password_reset_confirm(\n    reset_data: PasswordResetConfirm,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Confirm password reset.\"\"\"\n    payload = decode_token(reset_data.token)\n    \n    if payload is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid or expired reset token\"\n        )\n    \n    user_id = payload.get(\"sub\")\n    if user_id is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid reset token\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    user = await user_repo.get(int(user_id))\n    if user is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid reset token\"\n        )\n    \n    await auth_service.change_password(user.id, reset_data.new_password)\n    \n    return {\"message\": \"Password reset successful\"}\n\n@router.post(\"/logout\", status_code=status.HTTP_200_OK)\nasync def logout(\n    current_user: User = Depends(get_current_user)\n) -> Any:\n    \"\"\"Logout user (invalidate token on client side).\"\"\"\n    # In a more sophisticated setup, you might want to blacklist the token\n    return {\"message\": \"Successfully logged out\"}\n```\n\n## Authentication Service\n\n```python\n# app/services/auth.py\nfrom typing import Optional\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.security import verify_password, get_password_hash\n\nclass AuthService:\n    \"\"\"Authentication service.\"\"\"\n    \n    def __init__(self, user_repository: UserRepository):\n        self.user_repo = user_repository\n    \n    async def authenticate_user(\n        self, \n        username_or_email: str, \n        password: str\n    ) -> Optional[User]:\n        \"\"\"Authenticate user by username/email and password.\"\"\"\n        # Try to get user by username first, then by email\n        user = await self.user_repo.get_by_username(username_or_email)\n        if not user:\n            user = await self.user_repo.get_by_email(username_or_email)\n        \n        if not user:\n            return None\n        \n        if not verify_password(password, user.hashed_password):\n            return None\n        \n        return user\n    \n    async def create_user(self, user_data: dict) -> User:\n        \"\"\"Create new user.\"\"\"\n        # Hash password\n        password = user_data.pop('password')\n        hashed_password = get_password_hash(password)\n        \n        # Create user data\n        user_create_data = {\n            **user_data,\n            'hashed_password': hashed_password,\n            'is_active': True,\n            'is_superuser': False\n        }\n        \n        return await self.user_repo.create(user_create_data)\n    \n    async def change_password(self, user_id: int, new_password: str) -> bool:\n        \"\"\"Change user password.\"\"\"\n        hashed_password = get_password_hash(new_password)\n        \n        result = await self.user_repo.update(user_id, {\n            'hashed_password': hashed_password\n        })\n        \n        return result is not None\n    \n    async def activate_user(self, user_id: int) -> bool:\n        \"\"\"Activate user account.\"\"\"\n        result = await self.user_repo.update(user_id, {'is_active': True})\n        return result is not None\n    \n    async def deactivate_user(self, user_id: int) -> bool:\n        \"\"\"Deactivate user account.\"\"\"\n        result = await self.user_repo.update(user_id, {'is_active': False})\n        return result is not None\n```\n\n## Role-Based Access Control\n\n```python\n# app/models/rbac.py\nfrom sqlalchemy import Column, String, Text, ForeignKey, Table\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\n\n# Association tables for many-to-many relationships\nuser_roles = Table(\n    'user_roles',\n    Base.metadata,\n    Column('user_id', Integer, ForeignKey('users.id')),\n    Column('role_id', Integer, ForeignKey('roles.id'))\n)\n\nrole_permissions = Table(\n    'role_permissions',\n    Base.metadata,\n    Column('role_id', Integer, ForeignKey('roles.id')),\n    Column('permission_id', Integer, ForeignKey('permissions.id'))\n)\n\nclass Role(BaseModel):\n    \"\"\"Role model for RBAC.\"\"\"\n    __tablename__ = \"roles\"\n    \n    name = Column(String(50), unique=True, nullable=False, index=True)\n    description = Column(Text)\n    \n    # Relationships\n    users = relationship(\"User\", secondary=user_roles, back_populates=\"roles\")\n    permissions = relationship(\"Permission\", secondary=role_permissions, back_populates=\"roles\")\n\nclass Permission(BaseModel):\n    \"\"\"Permission model for RBAC.\"\"\"\n    __tablename__ = \"permissions\"\n    \n    name = Column(String(100), unique=True, nullable=False, index=True)\n    description = Column(Text)\n    resource = Column(String(50), nullable=False)  # e.g., 'users', 'posts'\n    action = Column(String(50), nullable=False)    # e.g., 'create', 'read', 'update', 'delete'\n    \n    # Relationships\n    roles = relationship(\"Role\", secondary=role_permissions, back_populates=\"permissions\")\n\n# Update User model to include roles\nclass User(BaseModel):\n    # ... existing fields ...\n    \n    # Relationships\n    roles = relationship(\"Role\", secondary=user_roles, back_populates=\"users\")\n    \n    @property\n    def permissions(self) -> list[str]:\n        \"\"\"Get all permissions for user.\"\"\"\n        perms = set()\n        for role in self.roles:\n            for permission in role.permissions:\n                perms.add(f\"{permission.resource}:{permission.action}\")\n        return list(perms)\n```\n\n## OAuth2 Integration\n\n```python\n# app/api/v1/oauth.py\nfrom fastapi import APIRouter, Depends, HTTPException, status\nfrom fastapi.security.utils import get_authorization_scheme_param\nfrom starlette.requests import Request\nfrom authlib.integrations.starlette_client import OAuth\nfrom app.core.config import settings\n\nrouter = APIRouter()\n\n# OAuth configuration\noauth = OAuth()\n\n# Google OAuth\ngoogle = oauth.register(\n    name='google',\n    client_id=settings.GOOGLE_CLIENT_ID,\n    client_secret=settings.GOOGLE_CLIENT_SECRET,\n    server_metadata_url='https://accounts.google.com/.well-known/openid_configuration',\n    client_kwargs={\n        'scope': 'openid email profile'\n    }\n)\n\n# GitHub OAuth\ngithub = oauth.register(\n    name='github',\n    client_id=settings.GITHUB_CLIENT_ID,\n    client_secret=settings.GITHUB_CLIENT_SECRET,\n    access_token_url='https://github.com/login/oauth/access_token',\n    access_token_params=None,\n    authorize_url='https://github.com/login/oauth/authorize',\n    authorize_params=None,\n    api_base_url='https://api.github.com/',\n    client_kwargs={'scope': 'user:email'},\n)\n\n@router.get('/google')\nasync def google_login(request: Request):\n    \"\"\"Initiate Google OAuth login.\"\"\"\n    redirect_uri = request.url_for('google_callback')\n    return await google.authorize_redirect(request, redirect_uri)\n\n@router.get('/google/callback')\nasync def google_callback(request: Request):\n    \"\"\"Handle Google OAuth callback.\"\"\"\n    token = await google.authorize_access_token(request)\n    user_info = token.get('userinfo')\n    \n    if user_info:\n        # Create or get user\n        # Generate JWT token\n        # Return token\n        pass\n    \n    raise HTTPException(\n        status_code=status.HTTP_400_BAD_REQUEST,\n        detail=\"OAuth authentication failed\"\n    )\n```\n\n## API Key Authentication\n\n```python\n# app/models/api_key.py\nfrom sqlalchemy import Column, String, Boolean, ForeignKey, DateTime\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\nimport secrets\n\nclass APIKey(BaseModel):\n    \"\"\"API Key model.\"\"\"\n    __tablename__ = \"api_keys\"\n    \n    name = Column(String(100), nullable=False)\n    key_hash = Column(String(255), unique=True, nullable=False, index=True)\n    prefix = Column(String(10), nullable=False, index=True)\n    is_active = Column(Boolean, default=True, nullable=False)\n    expires_at = Column(DateTime)\n    last_used_at = Column(DateTime)\n    \n    # Foreign key\n    user_id = Column(Integer, ForeignKey(\"users.id\"), nullable=False)\n    \n    # Relationships\n    user = relationship(\"User\", back_populates=\"api_keys\")\n    \n    @classmethod\n    def generate_key(cls) -> tuple[str, str]:\n        \"\"\"Generate API key and return (key, hash).\"\"\"\n        key = secrets.token_urlsafe(32)\n        prefix = key[:8]\n        key_hash = get_password_hash(key)\n        return key, prefix, key_hash\n    \n    def verify_key(self, key: str) -> bool:\n        \"\"\"Verify API key.\"\"\"\n        return verify_password(key, self.key_hash)\n\n# Add to User model\nclass User(BaseModel):\n    # ... existing fields ...\n    \n    # Relationships\n    api_keys = relationship(\"APIKey\", back_populates=\"user\", cascade=\"all, delete-orphan\")\n```\n\n## Testing Authentication\n\n```python\n# tests/test_auth.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.core.security import create_access_token\n\n@pytest.mark.asyncio\nasync def test_register_user(client: AsyncClient):\n    \"\"\"Test user registration.\"\"\"\n    user_data = {\n        \"username\": \"testuser\",\n        \"email\": \"test@example.com\",\n        \"password\": \"testpass123\",\n        \"first_name\": \"Test\",\n        \"last_name\": \"User\"\n    }\n    \n    response = await client.post(\"/api/v1/auth/register\", json=user_data)\n    assert response.status_code == 201\n    \n    data = response.json()\n    assert data[\"username\"] == user_data[\"username\"]\n    assert data[\"email\"] == user_data[\"email\"]\n    assert \"hashed_password\" not in data\n\n@pytest.mark.asyncio\nasync def test_login_user(client: AsyncClient, test_user):\n    \"\"\"Test user login.\"\"\"\n    login_data = {\n        \"username\": test_user.username,\n        \"password\": \"testpass123\"\n    }\n    \n    response = await client.post(\n        \"/api/v1/auth/login\", \n        data=login_data,\n        headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n    )\n    \n    assert response.status_code == 200\n    \n    data = response.json()\n    assert \"access_token\" in data\n    assert \"refresh_token\" in data\n    assert data[\"token_type\"] == \"bearer\"\n\n@pytest.mark.asyncio\nasync def test_get_current_user(client: AsyncClient, test_user):\n    \"\"\"Test get current user endpoint.\"\"\"\n    token = create_access_token(subject=test_user.id)\n    headers = {\"Authorization\": f\"Bearer {token}\"}\n    \n    response = await client.get(\"/api/v1/auth/me\", headers=headers)\n    assert response.status_code == 200\n    \n    data = response.json()\n    assert data[\"username\"] == test_user.username\n    assert data[\"email\"] == test_user.email\n```\n"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# FastAPI Database Integration\n\nComplete database setup with SQLAlchemy, Alembic, and async support for FastAPI.\n\n## Usage\n\n```bash\n# Initialize Alembic\nalembic init alembic\n\n# Create migration\nalembic revision --autogenerate -m \"Initial migration\"\n\n# Apply migrations\nalembic upgrade head\n\n# Downgrade migration\nalembic downgrade -1\n```\n\n## Database Configuration\n\n```python\n# app/core/config.py\nfrom pydantic import BaseSettings, PostgresDsn, validator\nfrom typing import Optional, Dict, Any\nimport os\n\nclass Settings(BaseSettings):\n    \"\"\"Application settings.\"\"\"\n    \n    # Database\n    POSTGRES_SERVER: str = \"localhost\"\n    POSTGRES_USER: str = \"postgres\"\n    POSTGRES_PASSWORD: str = \"password\"\n    POSTGRES_DB: str = \"fastapi_app\"\n    POSTGRES_PORT: str = \"5432\"\n    DATABASE_URL: Optional[PostgresDsn] = None\n    \n    @validator(\"DATABASE_URL\", pre=True)\n    def assemble_db_connection(cls, v: Optional[str], values: Dict[str, Any]) -> Any:\n        if isinstance(v, str):\n            return v\n        return PostgresDsn.build(\n            scheme=\"postgresql+asyncpg\",\n            user=values.get(\"POSTGRES_USER\"),\n            password=values.get(\"POSTGRES_PASSWORD\"),\n            host=values.get(\"POSTGRES_SERVER\"),\n            port=values.get(\"POSTGRES_PORT\"),\n            path=f\"/{values.get('POSTGRES_DB') or ''}\",\n        )\n    \n    # Redis\n    REDIS_URL: str = \"redis://localhost:6379/0\"\n    \n    # Database settings\n    DATABASE_POOL_SIZE: int = 10\n    DATABASE_MAX_OVERFLOW: int = 20\n    DATABASE_POOL_RECYCLE: int = 3600\n    \n    class Config:\n        env_file = \".env\"\n        case_sensitive = True\n\nsettings = Settings()\n```\n\n## Database Setup\n\n```python\n# app/db/database.py\nfrom sqlalchemy.ext.asyncio import AsyncSession, create_async_engine\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy.orm import sessionmaker\nfrom app.core.config import settings\n\n# Create async engine\nengine = create_async_engine(\n    str(settings.DATABASE_URL),\n    pool_size=settings.DATABASE_POOL_SIZE,\n    max_overflow=settings.DATABASE_MAX_OVERFLOW,\n    pool_recycle=settings.DATABASE_POOL_RECYCLE,\n    pool_pre_ping=True,\n    echo=False  # Set to True for SQL debugging\n)\n\n# Create async session factory\nAsyncSessionLocal = sessionmaker(\n    engine, class_=AsyncSession, expire_on_commit=False\n)\n\n# Base class for models\nBase = declarative_base()\n\nasync def get_db() -> AsyncSession:\n    \"\"\"Dependency to get database session.\"\"\"\n    async with AsyncSessionLocal() as session:\n        try:\n            yield session\n        finally:\n            await session.close()\n\nasync def create_tables():\n    \"\"\"Create database tables.\"\"\"\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n\nasync def drop_tables():\n    \"\"\"Drop database tables.\"\"\"\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n```\n\n## Base Model\n\n```python\n# app/models/base.py\nfrom sqlalchemy import Column, Integer, DateTime, func\nfrom sqlalchemy.ext.declarative import declared_attr\nfrom app.db.database import Base\nfrom datetime import datetime\nfrom typing import Any\n\nclass TimestampMixin:\n    \"\"\"Mixin for timestamp fields.\"\"\"\n    created_at = Column(DateTime(timezone=True), server_default=func.now(), nullable=False)\n    updated_at = Column(\n        DateTime(timezone=True),\n        server_default=func.now(),\n        onupdate=func.now(),\n        nullable=False\n    )\n\nclass BaseModel(Base, TimestampMixin):\n    \"\"\"Base model with common functionality.\"\"\"\n    __abstract__ = True\n    \n    id = Column(Integer, primary_key=True, index=True)\n    \n    @declared_attr\n    def __tablename__(cls) -> str:\n        return cls.__name__.lower()\n    \n    def dict(self, exclude: set = None) -> dict[str, Any]:\n        \"\"\"Convert model to dictionary.\"\"\"\n        exclude = exclude or set()\n        return {\n            column.name: getattr(self, column.name)\n            for column in self.__table__.columns\n            if column.name not in exclude\n        }\n    \n    def __repr__(self) -> str:\n        return f\"<{self.__class__.__name__}(id={self.id})>\"\n```\n\n## Example Models\n\n```python\n# app/models/user.py\nfrom sqlalchemy import Column, String, Boolean, Text, Index\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\nfrom passlib.context import CryptContext\n\npwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\nclass User(BaseModel):\n    \"\"\"User model.\"\"\"\n    __tablename__ = \"users\"\n    \n    username = Column(String(50), unique=True, index=True, nullable=False)\n    email = Column(String(100), unique=True, index=True, nullable=False)\n    hashed_password = Column(String(255), nullable=False)\n    first_name = Column(String(50), nullable=False)\n    last_name = Column(String(50), nullable=False)\n    is_active = Column(Boolean, default=True, nullable=False)\n    is_superuser = Column(Boolean, default=False, nullable=False)\n    bio = Column(Text)\n    \n    # Relationships\n    posts = relationship(\"Post\", back_populates=\"author\", cascade=\"all, delete-orphan\")\n    \n    # Indexes\n    __table_args__ = (\n        Index('idx_user_email_active', email, is_active),\n        Index('idx_user_username_active', username, is_active),\n    )\n    \n    def verify_password(self, password: str) -> bool:\n        \"\"\"Verify password against hash.\"\"\"\n        return pwd_context.verify(password, self.hashed_password)\n    \n    @staticmethod\n    def get_password_hash(password: str) -> str:\n        \"\"\"Generate password hash.\"\"\"\n        return pwd_context.hash(password)\n    \n    def set_password(self, password: str) -> None:\n        \"\"\"Set user password.\"\"\"\n        self.hashed_password = self.get_password_hash(password)\n    \n    @property\n    def full_name(self) -> str:\n        \"\"\"Get user's full name.\"\"\"\n        return f\"{self.first_name} {self.last_name}\"\n    \n    def dict(self, exclude: set = None) -> dict:\n        \"\"\"Convert to dict excluding sensitive data.\"\"\"\n        exclude = exclude or set()\n        exclude.add('hashed_password')\n        return super().dict(exclude=exclude)\n\n# app/models/post.py\nfrom sqlalchemy import Column, String, Text, ForeignKey, Boolean, Index\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\n\nclass Post(BaseModel):\n    \"\"\"Blog post model.\"\"\"\n    __tablename__ = \"posts\"\n    \n    title = Column(String(200), nullable=False, index=True)\n    content = Column(Text, nullable=False)\n    slug = Column(String(200), unique=True, nullable=False, index=True)\n    is_published = Column(Boolean, default=False, nullable=False)\n    \n    # Foreign keys\n    author_id = Column(Integer, ForeignKey(\"users.id\"), nullable=False)\n    \n    # Relationships\n    author = relationship(\"User\", back_populates=\"posts\")\n    \n    # Indexes\n    __table_args__ = (\n        Index('idx_post_published_created', is_published, 'created_at'),\n        Index('idx_post_author_published', author_id, is_published),\n    )\n```\n\n## Repository Pattern\n\n```python\n# app/repositories/base.py\nfrom typing import Generic, TypeVar, Type, Optional, List, Dict, Any\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import select, update, delete, func\nfrom sqlalchemy.orm import selectinload\nfrom app.models.base import BaseModel\n\nModelType = TypeVar(\"ModelType\", bound=BaseModel)\n\nclass BaseRepository(Generic[ModelType]):\n    \"\"\"Base repository with common CRUD operations.\"\"\"\n    \n    def __init__(self, model: Type[ModelType], db: AsyncSession):\n        self.model = model\n        self.db = db\n    \n    async def get(self, id: int) -> Optional[ModelType]:\n        \"\"\"Get model by ID.\"\"\"\n        result = await self.db.execute(\n            select(self.model).where(self.model.id == id)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_multi(\n        self, \n        skip: int = 0, \n        limit: int = 100,\n        filters: Dict[str, Any] = None\n    ) -> List[ModelType]:\n        \"\"\"Get multiple models with pagination.\"\"\"\n        query = select(self.model)\n        \n        if filters:\n            for field, value in filters.items():\n                if hasattr(self.model, field):\n                    query = query.where(getattr(self.model, field) == value)\n        \n        query = query.offset(skip).limit(limit)\n        result = await self.db.execute(query)\n        return result.scalars().all()\n    \n    async def create(self, obj_in: Dict[str, Any]) -> ModelType:\n        \"\"\"Create new model.\"\"\"\n        db_obj = self.model(**obj_in)\n        self.db.add(db_obj)\n        await self.db.commit()\n        await self.db.refresh(db_obj)\n        return db_obj\n    \n    async def update(\n        self, \n        id: int, \n        obj_in: Dict[str, Any]\n    ) -> Optional[ModelType]:\n        \"\"\"Update model by ID.\"\"\"\n        await self.db.execute(\n            update(self.model)\n            .where(self.model.id == id)\n            .values(**obj_in)\n        )\n        await self.db.commit()\n        return await self.get(id)\n    \n    async def delete(self, id: int) -> bool:\n        \"\"\"Delete model by ID.\"\"\"\n        result = await self.db.execute(\n            delete(self.model).where(self.model.id == id)\n        )\n        await self.db.commit()\n        return result.rowcount > 0\n    \n    async def count(self, filters: Dict[str, Any] = None) -> int:\n        \"\"\"Count models with optional filters.\"\"\"\n        query = select(func.count(self.model.id))\n        \n        if filters:\n            for field, value in filters.items():\n                if hasattr(self.model, field):\n                    query = query.where(getattr(self.model, field) == value)\n        \n        result = await self.db.execute(query)\n        return result.scalar()\n\n# app/repositories/user.py\nfrom typing import Optional\nfrom sqlalchemy import select\nfrom app.models.user import User\nfrom app.repositories.base import BaseRepository\n\nclass UserRepository(BaseRepository[User]):\n    \"\"\"User repository with custom methods.\"\"\"\n    \n    async def get_by_email(self, email: str) -> Optional[User]:\n        \"\"\"Get user by email.\"\"\"\n        result = await self.db.execute(\n            select(User).where(User.email == email)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_by_username(self, username: str) -> Optional[User]:\n        \"\"\"Get user by username.\"\"\"\n        result = await self.db.execute(\n            select(User).where(User.username == username)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_active_users(self, skip: int = 0, limit: int = 100):\n        \"\"\"Get active users.\"\"\"\n        return await self.get_multi(\n            skip=skip, \n            limit=limit, \n            filters={'is_active': True}\n        )\n```\n\n## Alembic Configuration\n\n```python\n# alembic/env.py\nfrom logging.config import fileConfig\nfrom sqlalchemy import engine_from_config, pool\nfrom sqlalchemy.ext.asyncio import AsyncEngine\nfrom alembic import context\nimport asyncio\n\n# Import your models\nfrom app.models.base import Base\nfrom app.models.user import User\nfrom app.models.post import Post\nfrom app.core.config import settings\n\n# Alembic Config object\nconfig = context.config\n\n# Override database URL\nconfig.set_main_option(\"sqlalchemy.url\", str(settings.DATABASE_URL))\n\n# Interpret the config file for logging\nif config.config_file_name is not None:\n    fileConfig(config.config_file_name)\n\n# Add your model's MetaData object here\ntarget_metadata = Base.metadata\n\ndef do_run_migrations(connection):\n    context.configure(\n        connection=connection,\n        target_metadata=target_metadata,\n        compare_type=True,\n        compare_server_default=True,\n    )\n    \n    with context.begin_transaction():\n        context.run_migrations()\n\nasync def run_migrations_online():\n    \"\"\"Run migrations in 'online' mode.\"\"\"\n    configuration = config.get_section(config.config_ini_section)\n    configuration[\"sqlalchemy.url\"] = str(settings.DATABASE_URL)\n    \n    connectable = AsyncEngine(\n        engine_from_config(\n            configuration,\n            prefix=\"sqlalchemy.\",\n            poolclass=pool.NullPool,\n        )\n    )\n    \n    async with connectable.connect() as connection:\n        await connection.run_sync(do_run_migrations)\n    \n    await connectable.dispose()\n\nif context.is_offline_mode():\n    run_migrations_offline()\nelse:\n    asyncio.run(run_migrations_online())\n```\n\n## Database Utilities\n\n```python\n# app/db/utils.py\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import text\nfrom app.db.database import engine, AsyncSessionLocal\nfrom app.core.config import settings\nimport asyncio\n\nasync def check_database_connection() -> bool:\n    \"\"\"Check if database is accessible.\"\"\"\n    try:\n        async with AsyncSessionLocal() as session:\n            await session.execute(text(\"SELECT 1\"))\n            return True\n    except Exception:\n        return False\n\nasync def create_database_if_not_exists():\n    \"\"\"Create database if it doesn't exist.\"\"\"\n    # This is PostgreSQL specific\n    import asyncpg\n    from urllib.parse import urlparse\n    \n    url = urlparse(str(settings.DATABASE_URL))\n    \n    try:\n        # Connect to postgres database to create our database\n        conn = await asyncpg.connect(\n            host=url.hostname,\n            port=url.port,\n            user=url.username,\n            password=url.password,\n            database='postgres'\n        )\n        \n        # Check if database exists\n        exists = await conn.fetchval(\n            \"SELECT 1 FROM pg_database WHERE datname = $1\",\n            url.path[1:]  # Remove leading slash\n        )\n        \n        if not exists:\n            await conn.execute(f'CREATE DATABASE \"{url.path[1:]}\"')\n            print(f\"Database {url.path[1:]} created.\")\n        \n        await conn.close()\n        \n    except Exception as e:\n        print(f\"Error creating database: {e}\")\n\nasync def execute_raw_sql(sql: str, params: dict = None) -> list:\n    \"\"\"Execute raw SQL query.\"\"\"\n    async with AsyncSessionLocal() as session:\n        result = await session.execute(text(sql), params or {})\n        return result.fetchall()\n\nasync def get_table_info(table_name: str) -> dict:\n    \"\"\"Get information about a table.\"\"\"\n    sql = \"\"\"\n    SELECT \n        column_name,\n        data_type,\n        is_nullable,\n        column_default\n    FROM information_schema.columns \n    WHERE table_name = :table_name\n    ORDER BY ordinal_position;\n    \"\"\"\n    \n    result = await execute_raw_sql(sql, {'table_name': table_name})\n    return [\n        {\n            'column_name': row[0],\n            'data_type': row[1],\n            'is_nullable': row[2],\n            'column_default': row[3]\n        }\n        for row in result\n    ]\n```\n\n## Database Initialization\n\n```python\n# app/db/init_db.py\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.db.database import get_db, create_tables\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.config import settings\nimport asyncio\n\nasync def init_db() -> None:\n    \"\"\"Initialize database with tables and default data.\"\"\"\n    # Create tables\n    await create_tables()\n    print(\"Database tables created.\")\n    \n    # Create default superuser\n    async with AsyncSessionLocal() as session:\n        user_repo = UserRepository(User, session)\n        \n        # Check if superuser exists\n        existing_user = await user_repo.get_by_email(\"admin@example.com\")\n        \n        if not existing_user:\n            superuser_data = {\n                \"username\": \"admin\",\n                \"email\": \"admin@example.com\",\n                \"first_name\": \"Admin\",\n                \"last_name\": \"User\",\n                \"is_superuser\": True,\n                \"is_active\": True\n            }\n            \n            superuser = User(**superuser_data)\n            superuser.set_password(\"admin123\")\n            \n            session.add(superuser)\n            await session.commit()\n            print(\"Superuser created.\")\n        else:\n            print(\"Superuser already exists.\")\n\nif __name__ == \"__main__\":\n    asyncio.run(init_db())\n```\n\n## Testing Database\n\n```python\n# tests/conftest.py\nimport pytest\nimport asyncio\nfrom sqlalchemy.ext.asyncio import create_async_engine, AsyncSession\nfrom sqlalchemy.orm import sessionmaker\nfrom app.db.database import Base, get_db\nfrom app.main import app\nimport pytest_asyncio\n\n# Test database URL\nTEST_DATABASE_URL = \"sqlite+aiosqlite:///./test.db\"\n\n@pytest.fixture(scope=\"session\")\ndef event_loop():\n    \"\"\"Create event loop for async tests.\"\"\"\n    loop = asyncio.get_event_loop_policy().new_event_loop()\n    yield loop\n    loop.close()\n\n@pytest_asyncio.fixture(scope=\"session\")\nasync def test_engine():\n    \"\"\"Create test database engine.\"\"\"\n    engine = create_async_engine(TEST_DATABASE_URL, echo=False)\n    \n    # Create tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n    \n    yield engine\n    \n    # Drop tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n    \n    await engine.dispose()\n\n@pytest_asyncio.fixture\nasync def test_session(test_engine):\n    \"\"\"Create test database session.\"\"\"\n    TestSessionLocal = sessionmaker(\n        test_engine, class_=AsyncSession, expire_on_commit=False\n    )\n    \n    async with TestSessionLocal() as session:\n        yield session\n\n@pytest.fixture\ndef override_get_db(test_session):\n    \"\"\"Override database dependency.\"\"\"\n    async def _override_get_db():\n        yield test_session\n    \n    app.dependency_overrides[get_db] = _override_get_db\n    yield\n    app.dependency_overrides = {}\n```\n\n## Database Health Check\n\n```python\n# app/api/health.py\nfrom fastapi import APIRouter, Depends, HTTPException\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import text\nfrom app.db.database import get_db\nimport time\n\nrouter = APIRouter()\n\n@router.get(\"/health\")\nasync def health_check(db: AsyncSession = Depends(get_db)):\n    \"\"\"Health check endpoint.\"\"\"\n    checks = {\n        \"status\": \"healthy\",\n        \"timestamp\": time.time(),\n        \"database\": await check_database_health(db),\n    }\n    \n    # Determine overall status\n    if checks[\"database\"][\"status\"] != \"ok\":\n        checks[\"status\"] = \"unhealthy\"\n        raise HTTPException(status_code=503, detail=checks)\n    \n    return checks\n\nasync def check_database_health(db: AsyncSession) -> dict:\n    \"\"\"Check database connection.\"\"\"\n    try:\n        start_time = time.time()\n        await db.execute(text(\"SELECT 1\"))\n        response_time = (time.time() - start_time) * 1000  # milliseconds\n        \n        return {\n            \"status\": \"ok\",\n            \"response_time_ms\": round(response_time, 2)\n        }\n    except Exception as e:\n        return {\n            \"status\": \"error\",\n            \"error\": str(e)\n        }\n```\n"
              },
              {
                "name": "/deployment",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/deployment.md",
                "frontmatter": null,
                "content": "# FastAPI Deployment\n\nBasic production deployment setup for FastAPI applications.\n\n## Usage\n\n```bash\n# Run with Uvicorn\nuvicorn app.main:app --host 0.0.0.0 --port 8000 --workers 4\n\n# Docker deployment\ndocker build -t fastapi-app .\ndocker run -p 8000:8000 fastapi-app\n```\n\n## Production Configuration\n\n```python\n# app/core/config.py\nfrom pydantic import BaseSettings\nimport os\n\nclass Settings(BaseSettings):\n    \"\"\"Production settings.\"\"\"\n    \n    # App\n    PROJECT_NAME: str = \"FastAPI App\"\n    VERSION: str = \"1.0.0\"\n    SECRET_KEY: str = os.getenv(\"SECRET_KEY\", \"dev-key\")\n    \n    # Server\n    HOST: str = \"0.0.0.0\"\n    PORT: int = 8000\n    WORKERS: int = 4\n    \n    # Database\n    DATABASE_URL: str = os.getenv(\"DATABASE_URL\", \"sqlite:///./app.db\")\n    \n    # Redis\n    REDIS_URL: str = os.getenv(\"REDIS_URL\", \"redis://localhost:6379\")\n    \n    class Config:\n        env_file = \".env\"\n\nsettings = Settings()\n```\n\n## Docker Setup\n\n```dockerfile\n# Dockerfile\nFROM python:3.11-slim\n\nWORKDIR /app\n\n# Install dependencies\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy app\nCOPY . .\n\n# Create non-root user\nRUN useradd -m appuser && chown -R appuser:appuser /app\nUSER appuser\n\nEXPOSE 8000\n\n# Health check\nHEALTHCHECK CMD curl -f http://localhost:8000/health || exit 1\n\nCMD [\"uvicorn\", \"app.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n```\n\n## Docker Compose\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\n\nservices:\n  app:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - DATABASE_URL=postgresql://user:pass@db:5432/fastapi_db\n      - REDIS_URL=redis://redis:6379\n    depends_on:\n      - db\n      - redis\n\n  db:\n    image: postgres:15\n    environment:\n      POSTGRES_DB: fastapi_db\n      POSTGRES_USER: user\n      POSTGRES_PASSWORD: password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\n  redis:\n    image: redis:7-alpine\n    volumes:\n      - redis_data:/data\n\nvolumes:\n  postgres_data:\n  redis_data:\n```\n\n## Environment Variables\n\n```bash\n# .env\nSECRET_KEY=your-secret-key\nDATABASE_URL=postgresql://user:pass@localhost/fastapi_db\nREDIS_URL=redis://localhost:6379\n```\n\n## Health Check\n\n```python\n# app/api/health.py\nfrom fastapi import APIRouter\nfrom app.core.config import settings\n\nrouter = APIRouter()\n\n@router.get(\"/health\")\nasync def health_check():\n    return {\n        \"status\": \"healthy\",\n        \"version\": settings.VERSION\n    }\n```\n\n## Deployment Script\n\n```bash\n#!/bin/bash\n# deploy.sh\n\nset -e\n\necho \"Deploying FastAPI app...\"\n\n# Build and deploy\ndocker-compose build\ndocker-compose up -d\n\n# Health check\necho \"Checking health...\"\nif curl -f http://localhost:8000/health; then\n    echo \"‚úÖ Deployment successful!\"\nelse\n    echo \"‚ùå Deployment failed!\"\n    exit 1\nfi\n```\n"
              },
              {
                "name": "/testing",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/testing.md",
                "frontmatter": null,
                "content": "# FastAPI Testing Framework\n\nComprehensive testing setup for FastAPI applications with pytest and async support.\n\n## Usage\n\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=app --cov-report=html\n\n# Run specific test file\npytest tests/test_api.py\n\n# Run with verbose output\npytest -v -s\n```\n\n## Test Configuration\n\n```python\n# pytest.ini\n[tool:pytest]\ntestpaths = tests\npython_files = test_*.py\npython_classes = Test*\npython_functions = test_*\naddopts = \n    --cov=app\n    --cov-report=term-missing\n    --cov-report=html:htmlcov\n    --asyncio-mode=auto\n    --strict-markers\n    --disable-warnings\nmarkers =\n    unit: Unit tests\n    integration: Integration tests\n    e2e: End-to-end tests\n    slow: Slow running tests\n    auth: Authentication tests\n    api: API tests\nasyncio_mode = auto\n```\n\n## Test Dependencies\n\n```python\n# requirements/test.txt\npytest>=7.0.0\npytest-asyncio>=0.21.0\npytest-cov>=4.0.0\nhttpx>=0.24.0\nfactory-boy>=3.2.0\nfaker>=18.0.0\nrespx>=0.20.0\npytest-mock>=3.10.0\n```\n\n## Test Fixtures\n\n```python\n# tests/conftest.py\nimport pytest\nimport asyncio\nfrom typing import AsyncGenerator, Generator\nfrom fastapi.testclient import TestClient\nfrom httpx import AsyncClient\nfrom sqlalchemy.ext.asyncio import create_async_engine, AsyncSession\nfrom sqlalchemy.orm import sessionmaker\nfrom app.main import app\nfrom app.db.database import get_db, Base\nfrom app.models.user import User\nfrom app.core.security import get_password_hash\nfrom tests.factories import UserFactory\n\n# Test database URL\nTEST_DATABASE_URL = \"sqlite+aiosqlite:///./test.db\"\n\n@pytest.fixture(scope=\"session\")\ndef event_loop() -> Generator[asyncio.AbstractEventLoop, None, None]:\n    \"\"\"Create event loop for the test session.\"\"\"\n    loop = asyncio.get_event_loop_policy().new_event_loop()\n    yield loop\n    loop.close()\n\n@pytest.fixture(scope=\"session\")\nasync def test_engine():\n    \"\"\"Create test database engine.\"\"\"\n    engine = create_async_engine(\n        TEST_DATABASE_URL,\n        echo=False,\n        future=True\n    )\n    \n    # Create tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n    \n    yield engine\n    \n    # Drop tables and dispose engine\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n    \n    await engine.dispose()\n\n@pytest.fixture\nasync def db_session(test_engine) -> AsyncGenerator[AsyncSession, None]:\n    \"\"\"Create database session for testing.\"\"\"\n    TestSessionLocal = sessionmaker(\n        test_engine, \n        class_=AsyncSession, \n        expire_on_commit=False\n    )\n    \n    async with TestSessionLocal() as session:\n        yield session\n\n@pytest.fixture\ndef override_get_db(db_session: AsyncSession) -> Generator:\n    \"\"\"Override database dependency.\"\"\"\n    async def _override_get_db():\n        yield db_session\n    \n    app.dependency_overrides[get_db] = _override_get_db\n    yield\n    app.dependency_overrides = {}\n\n@pytest.fixture\ndef client(override_get_db) -> Generator[TestClient, None, None]:\n    \"\"\"Create test client.\"\"\"\n    with TestClient(app) as test_client:\n        yield test_client\n\n@pytest.fixture\nasync def async_client(override_get_db) -> AsyncGenerator[AsyncClient, None]:\n    \"\"\"Create async test client.\"\"\"\n    async with AsyncClient(app=app, base_url=\"http://test\") as ac:\n        yield ac\n\n@pytest.fixture\nasync def test_user(db_session: AsyncSession) -> User:\n    \"\"\"Create test user.\"\"\"\n    user_data = {\n        \"username\": \"testuser\",\n        \"email\": \"test@example.com\",\n        \"hashed_password\": get_password_hash(\"testpass123\"),\n        \"first_name\": \"Test\",\n        \"last_name\": \"User\",\n        \"is_active\": True,\n        \"is_superuser\": False\n    }\n    \n    user = User(**user_data)\n    db_session.add(user)\n    await db_session.commit()\n    await db_session.refresh(user)\n    return user\n\n@pytest.fixture\nasync def superuser(db_session: AsyncSession) -> User:\n    \"\"\"Create superuser.\"\"\"\n    user_data = {\n        \"username\": \"admin\",\n        \"email\": \"admin@example.com\",\n        \"hashed_password\": get_password_hash(\"adminpass123\"),\n        \"first_name\": \"Admin\",\n        \"last_name\": \"User\",\n        \"is_active\": True,\n        \"is_superuser\": True\n    }\n    \n    user = User(**user_data)\n    db_session.add(user)\n    await db_session.commit()\n    await db_session.refresh(user)\n    return user\n\n@pytest.fixture\ndef user_token(test_user: User) -> str:\n    \"\"\"Create authentication token for test user.\"\"\"\n    from app.core.security import create_access_token\n    return create_access_token(subject=test_user.id)\n\n@pytest.fixture\ndef superuser_token(superuser: User) -> str:\n    \"\"\"Create authentication token for superuser.\"\"\"\n    from app.core.security import create_access_token\n    return create_access_token(subject=superuser.id)\n\n@pytest.fixture\ndef auth_headers(user_token: str) -> dict[str, str]:\n    \"\"\"Create authorization headers.\"\"\"\n    return {\"Authorization\": f\"Bearer {user_token}\"}\n\n@pytest.fixture\ndef superuser_headers(superuser_token: str) -> dict[str, str]:\n    \"\"\"Create superuser authorization headers.\"\"\"\n    return {\"Authorization\": f\"Bearer {superuser_token}\"}\n```\n\n## Test Factories\n\n```python\n# tests/factories.py\nimport factory\nfrom factory import Faker, SubFactory\nfrom app.models.user import User\nfrom app.models.post import Post\nfrom app.core.security import get_password_hash\n\nclass UserFactory(factory.Factory):\n    \"\"\"Factory for User model.\"\"\"\n    \n    class Meta:\n        model = User\n    \n    username = Faker('user_name')\n    email = Faker('email')\n    first_name = Faker('first_name')\n    last_name = Faker('last_name')\n    hashed_password = factory.LazyAttribute(lambda obj: get_password_hash('testpass123'))\n    is_active = True\n    is_superuser = False\n    bio = Faker('text', max_nb_chars=200)\n\nclass SuperUserFactory(UserFactory):\n    \"\"\"Factory for superuser.\"\"\"\n    username = 'admin'\n    email = 'admin@example.com'\n    first_name = 'Admin'\n    last_name = 'User'\n    is_superuser = True\n\nclass PostFactory(factory.Factory):\n    \"\"\"Factory for Post model.\"\"\"\n    \n    class Meta:\n        model = Post\n    \n    title = Faker('sentence', nb_words=4)\n    content = Faker('text', max_nb_chars=1000)\n    slug = Faker('slug')\n    is_published = True\n    author = SubFactory(UserFactory)\n\nclass InactiveUserFactory(UserFactory):\n    \"\"\"Factory for inactive user.\"\"\"\n    is_active = False\n```\n\n## API Testing\n\n```python\n# tests/test_api/test_users.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom tests.factories import UserFactory\n\nclass TestUserAPI:\n    \"\"\"Test User API endpoints.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(\n        self, \n        async_client: AsyncClient, \n        superuser_headers: dict\n    ):\n        \"\"\"Test POST /api/v1/users/.\"\"\"\n        user_data = {\n            \"username\": \"newuser\",\n            \"email\": \"new@example.com\",\n            \"password\": \"newpass123\",\n            \"first_name\": \"New\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/users/\",\n            json=user_data,\n            headers=superuser_headers\n        )\n        \n        assert response.status_code == 201\n        data = response.json()\n        assert data[\"username\"] == user_data[\"username\"]\n        assert data[\"email\"] == user_data[\"email\"]\n        assert \"password\" not in data\n        assert \"hashed_password\" not in data\n    \n    @pytest.mark.asyncio\n    async def test_get_users(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test GET /api/v1/users/.\"\"\"\n        response = await async_client.get(\n            \"/api/v1/users/\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"items\" in data\n        assert \"total\" in data\n        assert \"page\" in data\n        assert \"size\" in data\n        assert len(data[\"items\"]) >= 1\n    \n    @pytest.mark.asyncio\n    async def test_get_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test GET /api/v1/users/{id}.\"\"\"\n        response = await async_client.get(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"id\"] == test_user.id\n        assert data[\"username\"] == test_user.username\n        assert data[\"email\"] == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_update_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test PUT /api/v1/users/{id}.\"\"\"\n        update_data = {\n            \"first_name\": \"Updated\",\n            \"last_name\": \"Name\",\n            \"bio\": \"Updated bio\"\n        }\n        \n        response = await async_client.put(\n            f\"/api/v1/users/{test_user.id}\",\n            json=update_data,\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"first_name\"] == update_data[\"first_name\"]\n        assert data[\"last_name\"] == update_data[\"last_name\"]\n        assert data[\"bio\"] == update_data[\"bio\"]\n    \n    @pytest.mark.asyncio\n    async def test_delete_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        superuser_headers: dict\n    ):\n        \"\"\"Test DELETE /api/v1/users/{id}.\"\"\"\n        response = await async_client.delete(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=superuser_headers\n        )\n        \n        assert response.status_code == 204\n        \n        # Verify user is deleted\n        get_response = await async_client.get(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=superuser_headers\n        )\n        assert get_response.status_code == 404\n    \n    @pytest.mark.asyncio\n    async def test_unauthorized_access(self, async_client: AsyncClient):\n        \"\"\"Test unauthorized access to protected endpoints.\"\"\"\n        response = await async_client.get(\"/api/v1/users/\")\n        assert response.status_code == 401\n    \n    @pytest.mark.asyncio\n    async def test_forbidden_access(\n        self, \n        async_client: AsyncClient, \n        auth_headers: dict\n    ):\n        \"\"\"Test forbidden access to admin endpoints.\"\"\"\n        user_data = {\n            \"username\": \"unauthorized\",\n            \"email\": \"unauthorized@example.com\",\n            \"password\": \"pass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/users/\",\n            json=user_data,\n            headers=auth_headers  # Regular user, not superuser\n        )\n        \n        assert response.status_code == 403\n```\n\n## Authentication Testing\n\n```python\n# tests/test_api/test_auth.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom app.core.security import create_access_token, decode_token\n\nclass TestAuthAPI:\n    \"\"\"Test authentication API endpoints.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_register(\n        self, \n        async_client: AsyncClient\n    ):\n        \"\"\"Test user registration.\"\"\"\n        user_data = {\n            \"username\": \"newuser\",\n            \"email\": \"new@example.com\",\n            \"password\": \"newpass123\",\n            \"first_name\": \"New\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/register\",\n            json=user_data\n        )\n        \n        assert response.status_code == 201\n        data = response.json()\n        assert data[\"username\"] == user_data[\"username\"]\n        assert data[\"email\"] == user_data[\"email\"]\n        assert \"password\" not in data\n    \n    @pytest.mark.asyncio\n    async def test_register_duplicate_email(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test registration with duplicate email.\"\"\"\n        user_data = {\n            \"username\": \"different\",\n            \"email\": test_user.email,  # Duplicate email\n            \"password\": \"pass123\",\n            \"first_name\": \"Test\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/register\",\n            json=user_data\n        )\n        \n        assert response.status_code == 400\n        assert \"Email already registered\" in response.json()[\"detail\"]\n    \n    @pytest.mark.asyncio\n    async def test_login(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test user login.\"\"\"\n        login_data = {\n            \"username\": test_user.username,\n            \"password\": \"testpass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/login\",\n            data=login_data,\n            headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"access_token\" in data\n        assert \"refresh_token\" in data\n        assert data[\"token_type\"] == \"bearer\"\n        assert \"expires_in\" in data\n        \n        # Verify token is valid\n        payload = decode_token(data[\"access_token\"])\n        assert payload is not None\n        assert payload[\"sub\"] == str(test_user.id)\n    \n    @pytest.mark.asyncio\n    async def test_login_invalid_credentials(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test login with invalid credentials.\"\"\"\n        login_data = {\n            \"username\": test_user.username,\n            \"password\": \"wrongpassword\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/login\",\n            data=login_data,\n            headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n        )\n        \n        assert response.status_code == 401\n        assert \"Incorrect username or password\" in response.json()[\"detail\"]\n    \n    @pytest.mark.asyncio\n    async def test_get_current_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test get current user endpoint.\"\"\"\n        response = await async_client.get(\n            \"/api/v1/auth/me\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"id\"] == test_user.id\n        assert data[\"username\"] == test_user.username\n        assert data[\"email\"] == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_refresh_token(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test token refresh.\"\"\"\n        from app.core.security import create_refresh_token\n        \n        refresh_token = create_refresh_token(subject=test_user.id)\n        \n        response = await async_client.post(\n            \"/api/v1/auth/refresh\",\n            json={\"refresh_token\": refresh_token}\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"access_token\" in data\n        assert \"refresh_token\" in data\n        assert data[\"token_type\"] == \"bearer\"\n    \n    @pytest.mark.asyncio\n    async def test_change_password(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test password change.\"\"\"\n        password_data = {\n            \"current_password\": \"testpass123\",\n            \"new_password\": \"newpass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/change-password\",\n            json=password_data,\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        assert \"Password changed successfully\" in response.json()[\"message\"]\n```\n\n## Model Testing\n\n```python\n# tests/test_models/test_user.py\nimport pytest\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.models.user import User\nfrom app.core.security import verify_password, get_password_hash\n\nclass TestUserModel:\n    \"\"\"Test User model.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(self, db_session: AsyncSession):\n        \"\"\"Test user creation.\"\"\"\n        user_data = {\n            \"username\": \"testuser\",\n            \"email\": \"test@example.com\",\n            \"hashed_password\": get_password_hash(\"password123\"),\n            \"first_name\": \"Test\",\n            \"last_name\": \"User\"\n        }\n        \n        user = User(**user_data)\n        db_session.add(user)\n        await db_session.commit()\n        await db_session.refresh(user)\n        \n        assert user.id is not None\n        assert user.username == \"testuser\"\n        assert user.email == \"test@example.com\"\n        assert user.full_name == \"Test User\"\n        assert user.is_active is True\n        assert user.is_superuser is False\n        assert user.created_at is not None\n        assert user.updated_at is not None\n    \n    def test_password_verification(self):\n        \"\"\"Test password verification.\"\"\"\n        password = \"testpassword123\"\n        hashed = get_password_hash(password)\n        \n        user = User(\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=hashed,\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        assert user.verify_password(password)\n        assert not user.verify_password(\"wrongpassword\")\n    \n    def test_user_dict_excludes_password(self):\n        \"\"\"Test that dict() method excludes password.\"\"\"\n        user = User(\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=\"hashed_password\",\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        user_dict = user.dict()\n        assert \"hashed_password\" not in user_dict\n        assert \"username\" in user_dict\n        assert \"email\" in user_dict\n    \n    def test_user_repr(self):\n        \"\"\"Test user string representation.\"\"\"\n        user = User(\n            id=1,\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=\"hash\",\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        assert repr(user) == \"<User(id=1)>\"\n```\n\n## Repository Testing\n\n```python\n# tests/test_repositories/test_user.py\nimport pytest\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.security import get_password_hash\n\nclass TestUserRepository:\n    \"\"\"Test UserRepository.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(self, db_session: AsyncSession):\n        \"\"\"Test user creation through repository.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        user_data = {\n            \"username\": \"repouser\",\n            \"email\": \"repo@example.com\",\n            \"hashed_password\": get_password_hash(\"password123\"),\n            \"first_name\": \"Repo\",\n            \"last_name\": \"User\"\n        }\n        \n        user = await repo.create(user_data)\n        \n        assert user.id is not None\n        assert user.username == \"repouser\"\n        assert user.email == \"repo@example.com\"\n    \n    @pytest.mark.asyncio\n    async def test_get_by_email(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test get user by email.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        found_user = await repo.get_by_email(test_user.email)\n        \n        assert found_user is not None\n        assert found_user.id == test_user.id\n        assert found_user.email == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_get_by_username(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test get user by username.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        found_user = await repo.get_by_username(test_user.username)\n        \n        assert found_user is not None\n        assert found_user.id == test_user.id\n        assert found_user.username == test_user.username\n    \n    @pytest.mark.asyncio\n    async def test_get_multi_with_pagination(\n        self, \n        db_session: AsyncSession, \n        test_user: User\n    ):\n        \"\"\"Test get multiple users with pagination.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        # Create additional users\n        for i in range(5):\n            user_data = {\n                \"username\": f\"user{i}\",\n                \"email\": f\"user{i}@example.com\",\n                \"hashed_password\": get_password_hash(\"password123\"),\n                \"first_name\": f\"User{i}\",\n                \"last_name\": \"Test\"\n            }\n            await repo.create(user_data)\n        \n        # Test pagination\n        users = await repo.get_multi(skip=0, limit=3)\n        assert len(users) == 3\n        \n        users_page_2 = await repo.get_multi(skip=3, limit=3)\n        assert len(users_page_2) >= 1  # At least test_user\n    \n    @pytest.mark.asyncio\n    async def test_update_user(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test user update.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        updated_user = await repo.update(test_user.id, {\n            \"first_name\": \"Updated\",\n            \"bio\": \"Updated bio\"\n        })\n        \n        assert updated_user is not None\n        assert updated_user.first_name == \"Updated\"\n        assert updated_user.bio == \"Updated bio\"\n    \n    @pytest.mark.asyncio\n    async def test_delete_user(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test user deletion.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        result = await repo.delete(test_user.id)\n        assert result is True\n        \n        # Verify user is deleted\n        deleted_user = await repo.get(test_user.id)\n        assert deleted_user is None\n```\n\n## Performance Testing\n\n```python\n# tests/test_performance.py\nimport pytest\nimport time\nimport asyncio\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom tests.factories import UserFactory\n\n@pytest.mark.slow\nclass TestPerformance:\n    \"\"\"Test application performance.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_concurrent_requests(\n        self, \n        async_client: AsyncClient,\n        auth_headers: dict\n    ):\n        \"\"\"Test concurrent API requests.\"\"\"\n        \n        async def make_request():\n            response = await async_client.get(\n                \"/api/v1/users/\",\n                headers=auth_headers\n            )\n            return response.status_code\n        \n        # Make 10 concurrent requests\n        start_time = time.time()\n        tasks = [make_request() for _ in range(10)]\n        results = await asyncio.gather(*tasks)\n        end_time = time.time()\n        \n        # All requests should succeed\n        assert all(status == 200 for status in results)\n        \n        # Should complete within reasonable time\n        assert (end_time - start_time) < 5.0\n    \n    @pytest.mark.asyncio\n    async def test_large_dataset_pagination(\n        self, \n        async_client: AsyncClient,\n        db_session,\n        auth_headers: dict\n    ):\n        \"\"\"Test pagination with large dataset.\"\"\"\n        # Create 100 users\n        users = []\n        for i in range(100):\n            user = UserFactory.build()\n            users.append(user)\n        \n        db_session.add_all(users)\n        await db_session.commit()\n        \n        # Test pagination performance\n        start_time = time.time()\n        response = await async_client.get(\n            \"/api/v1/users/?skip=0&limit=50\",\n            headers=auth_headers\n        )\n        end_time = time.time()\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert len(data[\"items\"]) == 50\n        \n        # Should complete quickly\n        assert (end_time - start_time) < 1.0\n```\n\n## Mocking External Services\n\n```python\n# tests/test_external.py\nimport pytest\nimport respx\nimport httpx\nfrom app.services.email import EmailService\n\nclass TestExternalServices:\n    \"\"\"Test external service integrations.\"\"\"\n    \n    @pytest.mark.asyncio\n    @respx.mock\n    async def test_email_service(\n        self, \n        async_client: AsyncClient\n    ):\n        \"\"\"Test email service with mocked external API.\"\"\"\n        # Mock email service API\n        respx.post(\"https://api.emailservice.com/send\").mock(\n            return_value=httpx.Response(\n                200, \n                json={\"message\": \"Email sent successfully\"}\n            )\n        )\n        \n        email_service = EmailService()\n        result = await email_service.send_email(\n            to=\"test@example.com\",\n            subject=\"Test\",\n            body=\"Test email\"\n        )\n        \n        assert result[\"success\"] is True\n```\n\n## Test Utilities\n\n```python\n# tests/utils.py\nfrom typing import Dict, Any\nfrom httpx import Response\nimport json\n\ndef assert_response_status(response: Response, expected_status: int = 200):\n    \"\"\"Assert response status code.\"\"\"\n    assert response.status_code == expected_status, f\"Expected {expected_status}, got {response.status_code}. Response: {response.text}\"\n\ndef assert_response_json(response: Response, expected_keys: list[str] = None):\n    \"\"\"Assert response is valid JSON with expected keys.\"\"\"\n    assert response.headers.get(\"content-type\") == \"application/json\"\n    data = response.json()\n    \n    if expected_keys:\n        for key in expected_keys:\n            assert key in data, f\"Missing key '{key}' in response\"\n    \n    return data\n\ndef create_auth_headers(token: str) -> Dict[str, str]:\n    \"\"\"Create authorization headers with token.\"\"\"\n    return {\"Authorization\": f\"Bearer {token}\"}\n\nasync def create_test_users(db_session, count: int = 5) -> list:\n    \"\"\"Create multiple test users.\"\"\"\n    from tests.factories import UserFactory\n    \n    users = []\n    for i in range(count):\n        user = UserFactory.build()\n        users.append(user)\n    \n    db_session.add_all(users)\n    await db_session.commit()\n    \n    return users\n```\n"
              },
              {
                "name": "/app-factory",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/app-factory.md",
                "frontmatter": null,
                "content": "# Flask Application Factory Pattern\n\nCreate a scalable Flask application using the factory pattern with blueprints and configuration management.\n\n## Purpose\n\nThis command helps you set up a Flask application using the application factory pattern, which is the recommended approach for larger Flask applications.\n\n## Usage\n\n```\n/app-factory\n```\n\n## What this command does\n\n1. **Creates application factory** with proper structure\n2. **Sets up configuration management** for different environments\n3. **Implements blueprints** for modular design\n4. **Configures extensions** (database, auth, etc.)\n5. **Adds error handling** and logging\n\n## Example Output\n\n```python\n# app/__init__.py\nfrom flask import Flask\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom flask_login import LoginManager\nfrom flask_mail import Mail\nfrom flask_wtf.csrf import CSRFProtect\nfrom flask_cors import CORS\nimport logging\nfrom logging.handlers import RotatingFileHandler\nimport os\n\n# Initialize extensions\ndb = SQLAlchemy()\nmigrate = Migrate()\nlogin = LoginManager()\nmail = Mail()\ncsrf = CSRFProtect()\ncors = CORS()\n\ndef create_app(config_class=None):\n    \"\"\"Application factory function.\"\"\"\n    app = Flask(__name__)\n    \n    # Load configuration\n    if config_class is None:\n        config_class = os.environ.get('FLASK_CONFIG', 'development')\n    \n    if isinstance(config_class, str):\n        from app.config import config\n        app.config.from_object(config[config_class])\n    else:\n        app.config.from_object(config_class)\n    \n    # Initialize extensions\n    db.init_app(app)\n    migrate.init_app(app, db)\n    login.init_app(app)\n    mail.init_app(app)\n    csrf.init_app(app)\n    cors.init_app(app)\n    \n    # Configure login manager\n    login.login_view = 'auth.login'\n    login.login_message = 'Please log in to access this page.'\n    login.login_message_category = 'info'\n    \n    # Register blueprints\n    from app.main import bp as main_bp\n    app.register_blueprint(main_bp)\n    \n    from app.auth import bp as auth_bp\n    app.register_blueprint(auth_bp, url_prefix='/auth')\n    \n    from app.api import bp as api_bp\n    app.register_blueprint(api_bp, url_prefix='/api')\n    \n    from app.admin import bp as admin_bp\n    app.register_blueprint(admin_bp, url_prefix='/admin')\n    \n    # Error handlers\n    from app.errors import bp as errors_bp\n    app.register_blueprint(errors_bp)\n    \n    # Configure logging\n    if not app.debug and not app.testing:\n        if not os.path.exists('logs'):\n            os.mkdir('logs')\n        \n        file_handler = RotatingFileHandler(\n            'logs/app.log', \n            maxBytes=10240, \n            backupCount=10\n        )\n        file_handler.setFormatter(logging.Formatter(\n            '%(asctime)s %(levelname)s: %(message)s [in %(pathname)s:%(lineno)d]'\n        ))\n        file_handler.setLevel(logging.INFO)\n        app.logger.addHandler(file_handler)\n        \n        app.logger.setLevel(logging.INFO)\n        app.logger.info('Flask application startup')\n    \n    return app\n\n# Import models (avoid circular imports)\nfrom app import models\n```\n\n```python\n# app/config.py\nimport os\nfrom dotenv import load_dotenv\n\nbasedir = os.path.abspath(os.path.dirname(__file__))\nload_dotenv(os.path.join(basedir, '.env'))\n\nclass Config:\n    \"\"\"Base configuration class.\"\"\"\n    SECRET_KEY = os.environ.get('SECRET_KEY') or 'dev-secret-key'\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app.db')\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    \n    # Mail configuration\n    MAIL_SERVER = os.environ.get('MAIL_SERVER')\n    MAIL_PORT = int(os.environ.get('MAIL_PORT') or 587)\n    MAIL_USE_TLS = os.environ.get('MAIL_USE_TLS', 'true').lower() in ['true', 'on', '1']\n    MAIL_USERNAME = os.environ.get('MAIL_USERNAME')\n    MAIL_PASSWORD = os.environ.get('MAIL_PASSWORD')\n    ADMIN_EMAIL = os.environ.get('ADMIN_EMAIL')\n    \n    # Pagination\n    POSTS_PER_PAGE = 10\n    USERS_PER_PAGE = 50\n    \n    # Upload configuration\n    MAX_CONTENT_LENGTH = 16 * 1024 * 1024  # 16MB\n    UPLOAD_FOLDER = os.path.join(basedir, 'uploads')\n    \n    @staticmethod\n    def init_app(app):\n        pass\n\nclass DevelopmentConfig(Config):\n    \"\"\"Development configuration.\"\"\"\n    DEBUG = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DEV_DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app-dev.db')\n\nclass TestingConfig(Config):\n    \"\"\"Testing configuration.\"\"\"\n    TESTING = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('TEST_DATABASE_URL') or 'sqlite://'\n    WTF_CSRF_ENABLED = False\n\nclass ProductionConfig(Config):\n    \"\"\"Production configuration.\"\"\"\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app.db')\n    \n    @classmethod\n    def init_app(cls, app):\n        Config.init_app(app)\n        \n        # Log to stderr\n        import logging\n        from logging import StreamHandler\n        file_handler = StreamHandler()\n        file_handler.setLevel(logging.INFO)\n        app.logger.addHandler(file_handler)\n\nconfig = {\n    'development': DevelopmentConfig,\n    'testing': TestingConfig,\n    'production': ProductionConfig,\n    'default': DevelopmentConfig\n}\n```\n\n```python\n# app/main/__init__.py\nfrom flask import Blueprint\n\nbp = Blueprint('main', __name__)\n\nfrom app.main import routes\n```\n\n```python\n# app/main/routes.py\nfrom flask import render_template, request, current_app\nfrom app.main import bp\nfrom app.models import Post\n\n@bp.route('/')\n@bp.route('/index')\ndef index():\n    \"\"\"Home page.\"\"\"\n    page = request.args.get('page', 1, type=int)\n    posts = Post.query.filter_by(published=True).order_by(\n        Post.created_at.desc()\n    ).paginate(\n        page=page,\n        per_page=current_app.config['POSTS_PER_PAGE'],\n        error_out=False\n    )\n    \n    return render_template('index.html', posts=posts)\n\n@bp.route('/about')\ndef about():\n    \"\"\"About page.\"\"\"\n    return render_template('about.html')\n```\n\n```python\n# app/auth/__init__.py\nfrom flask import Blueprint\n\nbp = Blueprint('auth', __name__)\n\nfrom app.auth import routes\n```\n\n```python\n# app/auth/routes.py\nfrom flask import render_template, redirect, url_for, flash, request\nfrom flask_login import login_user, logout_user, login_required, current_user\nfrom werkzeug.urls import url_parse\nfrom app import db\nfrom app.auth import bp\nfrom app.auth.forms import LoginForm, RegistrationForm\nfrom app.models import User\n\n@bp.route('/login', methods=['GET', 'POST'])\ndef login():\n    \"\"\"User login.\"\"\"\n    if current_user.is_authenticated:\n        return redirect(url_for('main.index'))\n    \n    form = LoginForm()\n    if form.validate_on_submit():\n        user = User.query.filter_by(username=form.username.data).first()\n        if user is None or not user.check_password(form.password.data):\n            flash('Invalid username or password', 'error')\n            return redirect(url_for('auth.login'))\n        \n        login_user(user, remember=form.remember_me.data)\n        \n        next_page = request.args.get('next')\n        if not next_page or url_parse(next_page).netloc != '':\n            next_page = url_for('main.index')\n        \n        return redirect(next_page)\n    \n    return render_template('auth/login.html', form=form)\n\n@bp.route('/logout')\n@login_required\ndef logout():\n    \"\"\"User logout.\"\"\"\n    logout_user()\n    flash('You have been logged out.', 'info')\n    return redirect(url_for('main.index'))\n\n@bp.route('/register', methods=['GET', 'POST'])\ndef register():\n    \"\"\"User registration.\"\"\"\n    if current_user.is_authenticated:\n        return redirect(url_for('main.index'))\n    \n    form = RegistrationForm()\n    if form.validate_on_submit():\n        user = User(username=form.username.data, email=form.email.data)\n        user.set_password(form.password.data)\n        db.session.add(user)\n        db.session.commit()\n        \n        flash('Registration successful!', 'success')\n        return redirect(url_for('auth.login'))\n    \n    return render_template('auth/register.html', form=form)\n```\n\n```python\n# app/models.py\nfrom app import db, login\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom flask_login import UserMixin\nfrom datetime import datetime\n\nclass User(UserMixin, db.Model):\n    \"\"\"User model.\"\"\"\n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(64), index=True, unique=True)\n    email = db.Column(db.String(120), index=True, unique=True)\n    password_hash = db.Column(db.String(128))\n    created_at = db.Column(db.DateTime, index=True, default=datetime.utcnow)\n    \n    posts = db.relationship('Post', backref='author', lazy='dynamic')\n    \n    def set_password(self, password):\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        return check_password_hash(self.password_hash, password)\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n\n@login.user_loader\ndef load_user(id):\n    return User.query.get(int(id))\n\nclass Post(db.Model):\n    \"\"\"Post model.\"\"\"\n    id = db.Column(db.Integer, primary_key=True)\n    title = db.Column(db.String(100), nullable=False)\n    content = db.Column(db.Text, nullable=False)\n    published = db.Column(db.Boolean, default=False)\n    created_at = db.Column(db.DateTime, index=True, default=datetime.utcnow)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\n    \n    user_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=False)\n    \n    def __repr__(self):\n        return f'<Post {self.title}>'\n```\n\n```python\n# app.py (main application entry point)\nfrom app import create_app, db\nfrom app.models import User, Post\n\napp = create_app()\n\n@app.shell_context_processor\ndef make_shell_context():\n    \"\"\"Add models to shell context.\"\"\"\n    return {'db': db, 'User': User, 'Post': Post}\n\nif __name__ == '__main__':\n    app.run(debug=True)\n```\n\n## Project Structure\n\n```\nproject/\n‚îú‚îÄ‚îÄ app/\n‚îÇ   ‚îú‚îÄ‚îÄ __init__.py         # Application factory\n‚îÇ   ‚îú‚îÄ‚îÄ config.py           # Configuration classes\n‚îÇ   ‚îú‚îÄ‚îÄ models.py           # Database models\n‚îÇ   ‚îú‚îÄ‚îÄ main/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # Main blueprint\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.py       # Main routes\n‚îÇ   ‚îú‚îÄ‚îÄ auth/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # Auth blueprint\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes.py       # Auth routes\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ forms.py        # Auth forms\n‚îÇ   ‚îú‚îÄ‚îÄ api/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # API blueprint\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.py       # API routes\n‚îÇ   ‚îî‚îÄ‚îÄ templates/          # Jinja2 templates\n‚îú‚îÄ‚îÄ migrations/             # Database migrations\n‚îú‚îÄ‚îÄ logs/                   # Application logs\n‚îú‚îÄ‚îÄ app.py                  # Application entry point\n‚îú‚îÄ‚îÄ requirements.txt        # Dependencies\n‚îî‚îÄ‚îÄ .env                    # Environment variables\n```\n\n## Benefits of Application Factory\n\n- **Testing**: Easy to create app instances with different configs\n- **Scalability**: Modular design with blueprints\n- **Configuration**: Environment-specific settings\n- **Extensions**: Proper initialization order\n- **Maintainability**: Clear separation of concerns"
              },
              {
                "name": "/blueprint",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/blueprint.md",
                "frontmatter": null,
                "content": "# Flask Blueprint Generator\n\nCreate organized Flask blueprints for modular application structure.\n\n## Usage\n\n```bash\n# Create a new blueprint\nflask create-blueprint users\nflask create-blueprint api/v1\n```\n\n## Blueprint Structure\n\nGenerates a complete blueprint with:\n- Routes and view functions\n- Error handlers\n- Template folder structure\n- Static file organization\n\n## Example Blueprint\n\n```python\n# app/blueprints/users/__init__.py\nfrom flask import Blueprint\n\nusers_bp = Blueprint(\n    'users',\n    __name__,\n    url_prefix='/users',\n    template_folder='templates',\n    static_folder='static'\n)\n\nfrom . import routes, models\n\n# app/blueprints/users/routes.py\nfrom flask import render_template, request, redirect, url_for, flash\nfrom . import users_bp\nfrom .models import User\nfrom .forms import UserForm\n\n@users_bp.route('/')\ndef index():\n    \"\"\"List all users.\"\"\"\n    users = User.query.all()\n    return render_template('users/index.html', users=users)\n\n@users_bp.route('/create', methods=['GET', 'POST'])\ndef create():\n    \"\"\"Create a new user.\"\"\"\n    form = UserForm()\n    if form.validate_on_submit():\n        user = User(\n            username=form.username.data,\n            email=form.email.data\n        )\n        user.save()\n        flash('User created successfully!', 'success')\n        return redirect(url_for('users.index'))\n    return render_template('users/create.html', form=form)\n\n@users_bp.route('/<int:user_id>')\ndef detail(user_id):\n    \"\"\"Show user details.\"\"\"\n    user = User.query.get_or_404(user_id)\n    return render_template('users/detail.html', user=user)\n\n@users_bp.route('/<int:user_id>/edit', methods=['GET', 'POST'])\ndef edit(user_id):\n    \"\"\"Edit an existing user.\"\"\"\n    user = User.query.get_or_404(user_id)\n    form = UserForm(obj=user)\n    if form.validate_on_submit():\n        user.username = form.username.data\n        user.email = form.email.data\n        user.save()\n        flash('User updated successfully!', 'success')\n        return redirect(url_for('users.detail', user_id=user.id))\n    return render_template('users/edit.html', form=form, user=user)\n\n@users_bp.route('/<int:user_id>/delete', methods=['POST'])\ndef delete(user_id):\n    \"\"\"Delete a user.\"\"\"\n    user = User.query.get_or_404(user_id)\n    user.delete()\n    flash('User deleted successfully!', 'success')\n    return redirect(url_for('users.index'))\n\n# Error handlers\n@users_bp.errorhandler(404)\ndef not_found(error):\n    return render_template('users/404.html'), 404\n\n@users_bp.errorhandler(500)\ndef internal_error(error):\n    return render_template('users/500.html'), 500\n```\n\n## Blueprint Models\n\n```python\n# app/blueprints/users/models.py\nfrom app.extensions import db\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom datetime import datetime\n\nclass User(db.Model):\n    \"\"\"User model.\"\"\"\n    __tablename__ = 'users'\n    \n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(80), unique=True, nullable=False)\n    email = db.Column(db.String(120), unique=True, nullable=False)\n    password_hash = db.Column(db.String(255), nullable=False)\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\n    is_active = db.Column(db.Boolean, default=True)\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n    \n    def set_password(self, password):\n        \"\"\"Set password hash.\"\"\"\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        \"\"\"Check password hash.\"\"\"\n        return check_password_hash(self.password_hash, password)\n    \n    def save(self):\n        \"\"\"Save user to database.\"\"\"\n        db.session.add(self)\n        db.session.commit()\n    \n    def delete(self):\n        \"\"\"Delete user from database.\"\"\"\n        db.session.delete(self)\n        db.session.commit()\n    \n    def to_dict(self):\n        \"\"\"Convert to dictionary.\"\"\"\n        return {\n            'id': self.id,\n            'username': self.username,\n            'email': self.email,\n            'created_at': self.created_at.isoformat(),\n            'is_active': self.is_active\n        }\n```\n\n## Blueprint Forms\n\n```python\n# app/blueprints/users/forms.py\nfrom flask_wtf import FlaskForm\nfrom wtforms import StringField, EmailField, PasswordField, BooleanField\nfrom wtforms.validators import DataRequired, Email, Length, EqualTo\nfrom .models import User\n\nclass UserForm(FlaskForm):\n    \"\"\"User creation/edit form.\"\"\"\n    username = StringField(\n        'Username',\n        validators=[\n            DataRequired(),\n            Length(min=3, max=80)\n        ]\n    )\n    email = EmailField(\n        'Email',\n        validators=[\n            DataRequired(),\n            Email(),\n            Length(max=120)\n        ]\n    )\n    password = PasswordField(\n        'Password',\n        validators=[\n            DataRequired(),\n            Length(min=8)\n        ]\n    )\n    confirm_password = PasswordField(\n        'Confirm Password',\n        validators=[\n            DataRequired(),\n            EqualTo('password', message='Passwords must match')\n        ]\n    )\n    is_active = BooleanField('Active')\n    \n    def validate_username(self, field):\n        \"\"\"Validate username uniqueness.\"\"\"\n        if User.query.filter_by(username=field.data).first():\n            raise ValidationError('Username already exists.')\n    \n    def validate_email(self, field):\n        \"\"\"Validate email uniqueness.\"\"\"\n        if User.query.filter_by(email=field.data).first():\n            raise ValidationError('Email already registered.')\n```\n\n## Registration in Main App\n\n```python\n# app/__init__.py\nfrom flask import Flask\nfrom app.blueprints.users import users_bp\n\ndef create_app():\n    app = Flask(__name__)\n    \n    # Register blueprints\n    app.register_blueprint(users_bp)\n    \n    return app\n```\n\n## Template Structure\n\n```\ntemplates/\n‚îú‚îÄ‚îÄ base.html\n‚îî‚îÄ‚îÄ users/\n    ‚îú‚îÄ‚îÄ index.html\n    ‚îú‚îÄ‚îÄ create.html\n    ‚îú‚îÄ‚îÄ detail.html\n    ‚îú‚îÄ‚îÄ edit.html\n    ‚îú‚îÄ‚îÄ 404.html\n    ‚îî‚îÄ‚îÄ 500.html\n```\n\n## Best Practices\n\n- Use blueprints to organize related functionality\n- Keep models, forms, and routes in separate files\n- Implement proper error handling\n- Use URL prefixes for namespacing\n- Follow RESTful routing conventions\n- Include comprehensive docstrings\n- Add form validation and CSRF protection\n"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# Flask Database Management\n\nComplete database setup and management for Flask applications using SQLAlchemy.\n\n## Usage\n\n```bash\n# Initialize database\nflask db init\n\n# Create migration\nflask db migrate -m \"Initial migration\"\n\n# Apply migrations\nflask db upgrade\n\n# Downgrade migration\nflask db downgrade\n```\n\n## Database Configuration\n\n```python\n# config.py\nimport os\nfrom urllib.parse import quote_plus\n\nclass Config:\n    \"\"\"Base configuration.\"\"\"\n    SECRET_KEY = os.environ.get('SECRET_KEY') or 'dev-secret-key'\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    SQLALCHEMY_RECORD_QUERIES = True\n    \nclass DevelopmentConfig(Config):\n    \"\"\"Development configuration.\"\"\"\n    DEBUG = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///app.db'\n        \nclass ProductionConfig(Config):\n    \"\"\"Production configuration.\"\"\"\n    DEBUG = False\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        f\"postgresql://{os.environ.get('DB_USER')}:{quote_plus(os.environ.get('DB_PASSWORD'))}@\" \\\n        f\"{os.environ.get('DB_HOST')}:{os.environ.get('DB_PORT', '5432')}/{os.environ.get('DB_NAME')}\"\n    \nclass TestingConfig(Config):\n    \"\"\"Testing configuration.\"\"\"\n    TESTING = True\n    SQLALCHEMY_DATABASE_URI = 'sqlite:///:memory:'\n    WTF_CSRF_ENABLED = False\n\nconfig = {\n    'development': DevelopmentConfig,\n    'production': ProductionConfig,\n    'testing': TestingConfig,\n    'default': DevelopmentConfig\n}\n```\n\n## Database Extensions\n\n```python\n# app/extensions.py\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom flask_login import LoginManager\nfrom flask_wtf.csrf import CSRFProtect\nfrom flask_caching import Cache\nfrom flask_limiter import Limiter\nfrom flask_limiter.util import get_remote_address\n\n# Initialize extensions\ndb = SQLAlchemy()\nmigrate = Migrate()\nlogin_manager = LoginManager()\ncsrf = CSRFProtect()\ncache = Cache()\nlimiter = Limiter(key_func=get_remote_address)\n\ndef init_extensions(app):\n    \"\"\"Initialize Flask extensions.\"\"\"\n    db.init_app(app)\n    migrate.init_app(app, db)\n    login_manager.init_app(app)\n    csrf.init_app(app)\n    cache.init_app(app)\n    limiter.init_app(app)\n    \n    # Configure login manager\n    login_manager.login_view = 'auth.login'\n    login_manager.login_message = 'Please log in to access this page.'\n    login_manager.login_message_category = 'info'\n```\n\n## Base Model\n\n```python\n# app/models/base.py\nfrom app.extensions import db\nfrom datetime import datetime\nfrom sqlalchemy.ext.declarative import declared_attr\n\nclass TimestampMixin:\n    \"\"\"Add timestamp fields to model.\"\"\"\n    created_at = db.Column(db.DateTime, default=datetime.utcnow, nullable=False)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow, nullable=False)\n\nclass BaseModel(db.Model, TimestampMixin):\n    \"\"\"Base model with common functionality.\"\"\"\n    __abstract__ = True\n    \n    id = db.Column(db.Integer, primary_key=True)\n    \n    @declared_attr\n    def __tablename__(cls):\n        return cls.__name__.lower()\n    \n    def save(self, commit=True):\n        \"\"\"Save model to database.\"\"\"\n        db.session.add(self)\n        if commit:\n            db.session.commit()\n        return self\n    \n    def delete(self, commit=True):\n        \"\"\"Delete model from database.\"\"\"\n        db.session.delete(self)\n        if commit:\n            db.session.commit()\n    \n    def update(self, **kwargs):\n        \"\"\"Update model attributes.\"\"\"\n        for key, value in kwargs.items():\n            if hasattr(self, key):\n                setattr(self, key, value)\n        return self.save()\n    \n    def to_dict(self, exclude=None):\n        \"\"\"Convert model to dictionary.\"\"\"\n        exclude = exclude or []\n        return {\n            column.name: getattr(self, column.name)\n            for column in self.__table__.columns\n            if column.name not in exclude\n        }\n    \n    @classmethod\n    def get_or_404(cls, id):\n        \"\"\"Get model by ID or raise 404.\"\"\"\n        return cls.query.get_or_404(id)\n    \n    @classmethod\n    def create(cls, **kwargs):\n        \"\"\"Create new model instance.\"\"\"\n        instance = cls(**kwargs)\n        return instance.save()\n```\n\n## Example Models\n\n```python\n# app/models/user.py\nfrom app.extensions import db\nfrom app.models.base import BaseModel\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom flask_login import UserMixin\n\nclass User(UserMixin, BaseModel):\n    \"\"\"User model.\"\"\"\n    __tablename__ = 'users'\n    \n    username = db.Column(db.String(80), unique=True, nullable=False, index=True)\n    email = db.Column(db.String(120), unique=True, nullable=False, index=True)\n    password_hash = db.Column(db.String(255), nullable=False)\n    first_name = db.Column(db.String(50), nullable=False)\n    last_name = db.Column(db.String(50), nullable=False)\n    is_active = db.Column(db.Boolean, default=True, nullable=False)\n    is_admin = db.Column(db.Boolean, default=False, nullable=False)\n    last_login = db.Column(db.DateTime)\n    \n    # Relationships\n    posts = db.relationship('Post', backref='author', lazy='dynamic', cascade='all, delete-orphan')\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n    \n    def set_password(self, password):\n        \"\"\"Set password hash.\"\"\"\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        \"\"\"Check password hash.\"\"\"\n        return check_password_hash(self.password_hash, password)\n    \n    @property\n    def full_name(self):\n        \"\"\"Get user's full name.\"\"\"\n        return f\"{self.first_name} {self.last_name}\"\n    \n    def to_dict(self, exclude=None):\n        \"\"\"Convert to dictionary excluding sensitive data.\"\"\"\n        exclude = exclude or ['password_hash']\n        return super().to_dict(exclude=exclude)\n\n# app/models/post.py\nclass Post(BaseModel):\n    \"\"\"Blog post model.\"\"\"\n    __tablename__ = 'posts'\n    \n    title = db.Column(db.String(200), nullable=False)\n    content = db.Column(db.Text, nullable=False)\n    slug = db.Column(db.String(200), unique=True, nullable=False, index=True)\n    status = db.Column(db.String(20), default='draft', nullable=False)\n    published_at = db.Column(db.DateTime)\n    \n    # Foreign keys\n    user_id = db.Column(db.Integer, db.ForeignKey('users.id'), nullable=False)\n    category_id = db.Column(db.Integer, db.ForeignKey('categories.id'))\n    \n    # Relationships\n    category = db.relationship('Category', backref='posts')\n    tags = db.relationship('Tag', secondary='post_tags', backref='posts')\n    \n    def __repr__(self):\n        return f'<Post {self.title}>'\n    \n    @property\n    def is_published(self):\n        \"\"\"Check if post is published.\"\"\"\n        return self.status == 'published' and self.published_at is not None\n```\n\n## Database CLI Commands\n\n```python\n# app/cli.py\nimport click\nfrom flask import current_app\nfrom flask.cli import with_appcontext\nfrom app.extensions import db\nfrom app.models import User, Post, Category\n\n@click.command()\n@with_appcontext\ndef init_db():\n    \"\"\"Initialize database.\"\"\"\n    db.create_all()\n    click.echo('Database initialized.')\n\n@click.command()\n@with_appcontext\ndef seed_db():\n    \"\"\"Seed database with sample data.\"\"\"\n    # Create admin user\n    admin = User(\n        username='admin',\n        email='admin@example.com',\n        first_name='Admin',\n        last_name='User',\n        is_admin=True\n    )\n    admin.set_password('admin123')\n    admin.save()\n    \n    # Create sample category\n    category = Category(\n        name='Technology',\n        description='Tech-related posts'\n    )\n    category.save()\n    \n    # Create sample post\n    post = Post(\n        title='Welcome to Flask',\n        content='This is a sample blog post.',\n        slug='welcome-to-flask',\n        status='published',\n        user_id=admin.id,\n        category_id=category.id\n    )\n    post.save()\n    \n    click.echo('Database seeded with sample data.')\n\n@click.command()\n@with_appcontext\ndef reset_db():\n    \"\"\"Reset database.\"\"\"\n    if click.confirm('Are you sure you want to reset the database?'):\n        db.drop_all()\n        db.create_all()\n        click.echo('Database reset.')\n\ndef init_commands(app):\n    \"\"\"Register CLI commands.\"\"\"\n    app.cli.add_command(init_db)\n    app.cli.add_command(seed_db)\n    app.cli.add_command(reset_db)\n```\n\n## Connection Pooling\n\n```python\n# app/database.py\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.pool import QueuePool\n\ndef configure_database(app):\n    \"\"\"Configure database with connection pooling.\"\"\"\n    if app.config.get('SQLALCHEMY_DATABASE_URI', '').startswith('postgresql'):\n        # PostgreSQL configuration\n        engine = create_engine(\n            app.config['SQLALCHEMY_DATABASE_URI'],\n            poolclass=QueuePool,\n            pool_size=10,\n            max_overflow=20,\n            pool_recycle=3600,\n            pool_pre_ping=True\n        )\n        app.config['SQLALCHEMY_ENGINE_OPTIONS'] = {\n            'pool_size': 10,\n            'max_overflow': 20,\n            'pool_recycle': 3600,\n            'pool_pre_ping': True\n        }\n```\n\n## Database Utilities\n\n```python\n# app/utils/database.py\nfrom app.extensions import db\nfrom sqlalchemy import text\nfrom flask import current_app\n\ndef execute_sql(sql, params=None):\n    \"\"\"Execute raw SQL query.\"\"\"\n    with db.engine.connect() as conn:\n        result = conn.execute(text(sql), params or {})\n        return result.fetchall()\n\ndef backup_database():\n    \"\"\"Create database backup.\"\"\"\n    # Implementation depends on database type\n    pass\n\ndef check_database_health():\n    \"\"\"Check database connection health.\"\"\"\n    try:\n        db.session.execute(text('SELECT 1'))\n        return True\n    except Exception as e:\n        current_app.logger.error(f'Database health check failed: {e}')\n        return False\n\ndef get_table_info(table_name):\n    \"\"\"Get table information.\"\"\"\n    inspector = db.inspect(db.engine)\n    return {\n        'columns': inspector.get_columns(table_name),\n        'indexes': inspector.get_indexes(table_name),\n        'foreign_keys': inspector.get_foreign_keys(table_name)\n    }\n```\n\n## Testing Database\n\n```python\n# tests/conftest.py\nimport pytest\nfrom app import create_app\nfrom app.extensions import db\nfrom app.models import User\n\n@pytest.fixture(scope='session')\ndef app():\n    \"\"\"Create test app.\"\"\"\n    app = create_app('testing')\n    with app.app_context():\n        db.create_all()\n        yield app\n        db.drop_all()\n\n@pytest.fixture\ndef client(app):\n    \"\"\"Create test client.\"\"\"\n    return app.test_client()\n\n@pytest.fixture\ndef db_session(app):\n    \"\"\"Create database session for testing.\"\"\"\n    with app.app_context():\n        db.session.begin()\n        yield db.session\n        db.session.rollback()\n\n@pytest.fixture\ndef user(db_session):\n    \"\"\"Create test user.\"\"\"\n    user = User(\n        username='testuser',\n        email='test@example.com',\n        first_name='Test',\n        last_name='User'\n    )\n    user.set_password('testpass')\n    user.save()\n    return user\n```\n"
              },
              {
                "name": "/deployment",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/deployment.md",
                "frontmatter": null,
                "content": "# Flask Deployment Configuration\n\nComplete production deployment setup for Flask applications.\n\n## Usage\n\n```bash\n# Build Docker image\ndocker build -t myapp .\n\n# Run with Docker Compose\ndocker-compose up -d\n\n# Deploy to cloud\ngunicorn --bind 0.0.0.0:8000 app:app\n```\n\n## Production Configuration\n\n```python\n# config.py\nimport os\nfrom urllib.parse import quote_plus\n\nclass ProductionConfig:\n    \"\"\"Production configuration.\"\"\"\n    \n    # Security\n    SECRET_KEY = os.environ.get('SECRET_KEY')\n    DEBUG = False\n    TESTING = False\n    \n    # Database\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        f\"postgresql://{os.environ.get('DB_USER')}:{quote_plus(os.environ.get('DB_PASSWORD'))}@\" \\\n        f\"{os.environ.get('DB_HOST')}:{os.environ.get('DB_PORT', '5432')}/{os.environ.get('DB_NAME')}\"\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    SQLALCHEMY_ENGINE_OPTIONS = {\n        'pool_size': 10,\n        'max_overflow': 20,\n        'pool_recycle': 3600,\n        'pool_pre_ping': True\n    }\n    \n    # Security Headers\n    SECURITY_HEADERS = {\n        'Strict-Transport-Security': 'max-age=31536000; includeSubDomains',\n        'X-Content-Type-Options': 'nosniff',\n        'X-Frame-Options': 'DENY',\n        'X-XSS-Protection': '1; mode=block',\n        'Content-Security-Policy': \"default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'\"\n    }\n    \n    # Session\n    SESSION_COOKIE_SECURE = True\n    SESSION_COOKIE_HTTPONLY = True\n    SESSION_COOKIE_SAMESITE = 'Lax'\n    PERMANENT_SESSION_LIFETIME = 3600  # 1 hour\n    \n    # Cache\n    CACHE_TYPE = 'redis'\n    CACHE_REDIS_URL = os.environ.get('REDIS_URL', 'redis://localhost:6379/0')\n    CACHE_DEFAULT_TIMEOUT = 300\n    \n    # Rate Limiting\n    RATELIMIT_STORAGE_URL = os.environ.get('REDIS_URL', 'redis://localhost:6379/1')\n    RATELIMIT_DEFAULT = '100/hour'\n    \n    # Logging\n    LOG_LEVEL = os.environ.get('LOG_LEVEL', 'INFO')\n    LOG_FILE = os.environ.get('LOG_FILE', '/var/log/app/app.log')\n    \n    # File Upload\n    MAX_CONTENT_LENGTH = 16 * 1024 * 1024  # 16MB\n    UPLOAD_FOLDER = os.environ.get('UPLOAD_FOLDER', '/var/uploads')\n    \n    # Email\n    MAIL_SERVER = os.environ.get('MAIL_SERVER')\n    MAIL_PORT = int(os.environ.get('MAIL_PORT', 587))\n    MAIL_USE_TLS = os.environ.get('MAIL_USE_TLS', 'true').lower() in ['true', 'on', '1']\n    MAIL_USERNAME = os.environ.get('MAIL_USERNAME')\n    MAIL_PASSWORD = os.environ.get('MAIL_PASSWORD')\n    MAIL_DEFAULT_SENDER = os.environ.get('MAIL_DEFAULT_SENDER')\n```\n\n## WSGI Configuration\n\n```python\n# wsgi.py\nimport os\nfrom app import create_app\n\n# Get environment\nconfig_name = os.environ.get('FLASK_ENV', 'production')\napp = create_app(config_name)\n\nif __name__ == \"__main__\":\n    app.run()\n```\n\n## Gunicorn Configuration\n\n```python\n# gunicorn.conf.py\nimport multiprocessing\nimport os\n\n# Server socket\nbind = f\"0.0.0.0:{os.environ.get('PORT', 8000)}\"\nbacklog = 2048\n\n# Worker processes\nworkers = multiprocessing.cpu_count() * 2 + 1\nworker_class = 'sync'\nworker_connections = 1000\ntimeout = 30\nkeepalive = 60\nmax_requests = 1000\nmax_requests_jitter = 100\n\n# Security\nlimit_request_line = 4094\nlimit_request_fields = 100\nlimit_request_field_size = 8190\n\n# Logging\naccesslog = '-'\nerrorlog = '-'\nloglevel = os.environ.get('LOG_LEVEL', 'info').lower()\naccess_log_format = '%(h)s %(l)s %(u)s %(t)s \"%(r)s\" %(s)s %(b)s \"%(f)s\" \"%(a)s\" %(D)s'\n\n# Process naming\nproc_name = 'flask_app'\n\n# Server mechanics\ndaemon = False\npidfile = '/tmp/gunicorn.pid'\nuser = os.environ.get('USER', 'www-data')\ngroup = os.environ.get('GROUP', 'www-data')\ntmp_upload_dir = None\n\n# SSL\nkeyfile = os.environ.get('SSL_KEYFILE')\ncertfile = os.environ.get('SSL_CERTFILE')\n```\n\n## Docker Configuration\n\n```dockerfile\n# Dockerfile\nFROM python:3.11-slim\n\n# Set environment variables\nENV PYTHONDONTWRITEBYTECODE=1 \\\n    PYTHONUNBUFFERED=1 \\\n    PIP_NO_CACHE_DIR=1 \\\n    PIP_DISABLE_PIP_VERSION_CHECK=1\n\n# Install system dependencies\nRUN apt-get update && apt-get install -y \\\n    build-essential \\\n    libpq-dev \\\n    curl \\\n    && rm -rf /var/lib/apt/lists/*\n\n# Create app user\nRUN groupadd -r appuser && useradd -r -g appuser appuser\n\n# Set work directory\nWORKDIR /app\n\n# Install Python dependencies\nCOPY requirements/production.txt ./requirements.txt\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy application code\nCOPY . .\n\n# Create necessary directories\nRUN mkdir -p /var/log/app /var/uploads && \\\n    chown -R appuser:appuser /app /var/log/app /var/uploads\n\n# Switch to non-root user\nUSER appuser\n\n# Expose port\nEXPOSE 8000\n\n# Health check\nHEALTHCHECK --interval=30s --timeout=30s --start-period=5s --retries=3 \\\n    CMD curl -f http://localhost:8000/health || exit 1\n\n# Run application\nCMD [\"gunicorn\", \"--config\", \"gunicorn.conf.py\", \"wsgi:app\"]\n```\n\n## Docker Compose\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\n\nservices:\n  web:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - FLASK_ENV=production\n      - DATABASE_URL=postgresql://postgres:password@db:5432/myapp\n      - REDIS_URL=redis://redis:6379/0\n      - SECRET_KEY=${SECRET_KEY}\n    depends_on:\n      - db\n      - redis\n    volumes:\n      - uploads:/var/uploads\n      - logs:/var/log/app\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8000/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  db:\n    image: postgres:15\n    environment:\n      - POSTGRES_DB=myapp\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U postgres\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  redis:\n    image: redis:7-alpine\n    command: redis-server --appendonly yes\n    volumes:\n      - redis_data:/data\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD\", \"redis-cli\", \"ping\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  nginx:\n    image: nginx:alpine\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf:ro\n      - ./ssl:/etc/nginx/ssl:ro\n      - uploads:/var/uploads:ro\n    depends_on:\n      - web\n    restart: unless-stopped\n\nvolumes:\n  postgres_data:\n  redis_data:\n  uploads:\n  logs:\n```\n\n## Nginx Configuration\n\n```nginx\n# nginx.conf\nevents {\n    worker_connections 1024;\n}\n\nhttp {\n    upstream app {\n        server web:8000;\n    }\n    \n    # Rate limiting\n    limit_req_zone $binary_remote_addr zone=api:10m rate=10r/s;\n    limit_req_zone $binary_remote_addr zone=login:10m rate=1r/s;\n    \n    # SSL configuration\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384;\n    ssl_prefer_server_ciphers off;\n    \n    # Security headers\n    add_header X-Frame-Options DENY;\n    add_header X-Content-Type-Options nosniff;\n    add_header X-XSS-Protection \"1; mode=block\";\n    add_header Strict-Transport-Security \"max-age=31536000; includeSubDomains\" always;\n    \n    server {\n        listen 80;\n        server_name example.com www.example.com;\n        return 301 https://$server_name$request_uri;\n    }\n    \n    server {\n        listen 443 ssl http2;\n        server_name example.com www.example.com;\n        \n        ssl_certificate /etc/nginx/ssl/cert.pem;\n        ssl_certificate_key /etc/nginx/ssl/key.pem;\n        \n        # File upload size\n        client_max_body_size 16M;\n        \n        # Static files\n        location /static/ {\n            alias /var/uploads/static/;\n            expires 1y;\n            add_header Cache-Control \"public, immutable\";\n        }\n        \n        location /uploads/ {\n            alias /var/uploads/;\n            expires 1h;\n        }\n        \n        # API rate limiting\n        location /api/ {\n            limit_req zone=api burst=20 nodelay;\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n        \n        # Login rate limiting\n        location /auth/login {\n            limit_req zone=login burst=5 nodelay;\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n        \n        # Main application\n        location / {\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n            \n            # Timeout settings\n            proxy_connect_timeout 60s;\n            proxy_send_timeout 60s;\n            proxy_read_timeout 60s;\n        }\n    }\n}\n```\n\n## Environment Variables\n\n```bash\n# .env.production\n# Application\nFLASK_ENV=production\nSECRET_KEY=your-super-secret-key-here\n\n# Database\nDATABASE_URL=postgresql://user:password@localhost:5432/myapp\nDB_HOST=localhost\nDB_PORT=5432\nDB_NAME=myapp\nDB_USER=user\nDB_PASSWORD=password\n\n# Redis\nREDIS_URL=redis://localhost:6379/0\n\n# Email\nMAIL_SERVER=smtp.gmail.com\nMAIL_PORT=587\nMAIL_USE_TLS=true\nMAIL_USERNAME=your-email@gmail.com\nMAIL_PASSWORD=your-app-password\nMAIL_DEFAULT_SENDER=your-email@gmail.com\n\n# Logging\nLOG_LEVEL=INFO\nLOG_FILE=/var/log/app/app.log\n\n# File Upload\nUPLOAD_FOLDER=/var/uploads\n\n# SSL (if using)\nSSL_KEYFILE=/path/to/private.key\nSSL_CERTFILE=/path/to/certificate.crt\n```\n\n## Health Check Endpoint\n\n```python\n# app/health.py\nfrom flask import Blueprint, jsonify\nfrom app.extensions import db\nfrom sqlalchemy import text\nimport redis\nimport os\n\nhealth_bp = Blueprint('health', __name__)\n\n@health_bp.route('/health')\ndef health_check():\n    \"\"\"Application health check.\"\"\"\n    checks = {\n        'status': 'healthy',\n        'database': check_database(),\n        'redis': check_redis(),\n        'disk_space': check_disk_space()\n    }\n    \n    # Determine overall status\n    if all(check['status'] == 'ok' for check in checks.values() if isinstance(check, dict)):\n        status_code = 200\n    else:\n        status_code = 503\n        checks['status'] = 'unhealthy'\n    \n    return jsonify(checks), status_code\n\ndef check_database():\n    \"\"\"Check database connectivity.\"\"\"\n    try:\n        db.session.execute(text('SELECT 1'))\n        return {'status': 'ok', 'message': 'Database connection successful'}\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n\ndef check_redis():\n    \"\"\"Check Redis connectivity.\"\"\"\n    try:\n        redis_url = os.environ.get('REDIS_URL', 'redis://localhost:6379/0')\n        r = redis.from_url(redis_url)\n        r.ping()\n        return {'status': 'ok', 'message': 'Redis connection successful'}\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n\ndef check_disk_space():\n    \"\"\"Check available disk space.\"\"\"\n    try:\n        import shutil\n        total, used, free = shutil.disk_usage('/')\n        free_percent = (free / total) * 100\n        \n        if free_percent > 10:\n            status = 'ok'\n        elif free_percent > 5:\n            status = 'warning'\n        else:\n            status = 'critical'\n        \n        return {\n            'status': status,\n            'free_space_percent': round(free_percent, 2),\n            'free_space_gb': round(free / (1024**3), 2)\n        }\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n```\n\n## Monitoring and Logging\n\n```python\n# app/logging.py\nimport logging\nimport logging.handlers\nimport os\nfrom flask import request, g\nimport time\n\ndef setup_logging(app):\n    \"\"\"Setup application logging.\"\"\"\n    if not app.debug and not app.testing:\n        # File logging\n        if app.config.get('LOG_FILE'):\n            file_handler = logging.handlers.RotatingFileHandler(\n                app.config['LOG_FILE'],\n                maxBytes=10240000,  # 10MB\n                backupCount=10\n            )\n            file_handler.setFormatter(logging.Formatter(\n                '%(asctime)s %(levelname)s: %(message)s '\n                '[in %(pathname)s:%(lineno)d]'\n            ))\n            file_handler.setLevel(getattr(logging, app.config.get('LOG_LEVEL', 'INFO')))\n            app.logger.addHandler(file_handler)\n        \n        # Console logging\n        if not app.logger.handlers:\n            stream_handler = logging.StreamHandler()\n            stream_handler.setFormatter(logging.Formatter(\n                '%(asctime)s %(levelname)s: %(message)s'\n            ))\n            stream_handler.setLevel(logging.INFO)\n            app.logger.addHandler(stream_handler)\n        \n        app.logger.setLevel(logging.INFO)\n        app.logger.info('Application startup')\n\n# Request timing middleware\n@app.before_request\ndef before_request():\n    g.start_time = time.time()\n\n@app.after_request\ndef after_request(response):\n    if hasattr(g, 'start_time'):\n        duration = time.time() - g.start_time\n        app.logger.info(\n            f'{request.method} {request.path} - '\n            f'{response.status_code} - {duration:.3f}s'\n        )\n    return response\n```\n\n## Database Backup Script\n\n```bash\n#!/bin/bash\n# backup.sh\n\nset -e\n\n# Configuration\nBACKUP_DIR=\"/var/backups/db\"\nDATABASE_URL=\"$DATABASE_URL\"\nDATE=$(date +%Y%m%d_%H%M%S)\nBACKUP_FILE=\"$BACKUP_DIR/backup_$DATE.sql\"\nRETENTION_DAYS=7\n\n# Create backup directory\nmkdir -p \"$BACKUP_DIR\"\n\n# Create backup\necho \"Creating database backup...\"\npg_dump \"$DATABASE_URL\" > \"$BACKUP_FILE\"\n\n# Compress backup\ngzip \"$BACKUP_FILE\"\n\n# Remove old backups\necho \"Cleaning up old backups...\"\nfind \"$BACKUP_DIR\" -name \"backup_*.sql.gz\" -mtime +$RETENTION_DAYS -delete\n\necho \"Backup completed: $BACKUP_FILE.gz\"\n```\n\n## Deployment Scripts\n\n```bash\n#!/bin/bash\n# deploy.sh\n\nset -e\n\necho \"Starting deployment...\"\n\n# Pull latest code\ngit pull origin main\n\n# Build new Docker image\ndocker-compose build web\n\n# Run database migrations\ndocker-compose run --rm web flask db upgrade\n\n# Update services\ndocker-compose up -d\n\n# Health check\necho \"Waiting for application to be ready...\"\nsleep 10\n\nif curl -f http://localhost:8000/health; then\n    echo \"Deployment successful!\"\nelse\n    echo \"Deployment failed - health check failed\"\n    exit 1\nfi\n```\n\n## Monitoring with Prometheus\n\n```python\n# app/metrics.py\nfrom prometheus_flask_exporter import PrometheusMetrics\nfrom flask import request\nimport time\n\ndef setup_metrics(app):\n    \"\"\"Setup Prometheus metrics.\"\"\"\n    metrics = PrometheusMetrics(app)\n    \n    # Custom metrics\n    metrics.info('app_info', 'Application info', version='1.0.0')\n    \n    # Database connection pool metrics\n    @metrics.gauge('db_pool_size', 'Database connection pool size')\n    def db_pool_size():\n        from app.extensions import db\n        return db.engine.pool.size()\n    \n    return metrics\n```\n"
              },
              {
                "name": "/flask-route",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/flask-route.md",
                "frontmatter": null,
                "content": "# Flask Route Generator\n\nCreate Flask routes with proper structure and error handling.\n\n## Purpose\n\nThis command helps you quickly create Flask routes with validation, error handling, and best practices.\n\n## Usage\n\n```\n/flask-route\n```\n\n## What this command does\n\n1. **Creates route functions** with proper decorators\n2. **Adds request validation** and error handling\n3. **Includes JSON responses** and status codes\n4. **Implements authentication** if needed\n5. **Follows Flask conventions** and best practices\n\n## Example Output\n\n```python\n# routes.py or app.py\nfrom flask import Flask, request, jsonify, abort\nfrom flask_sqlalchemy import SQLAlchemy\nfrom werkzeug.exceptions import BadRequest\n\napp = Flask(__name__)\n\n@app.route('/users', methods=['GET'])\ndef get_users():\n    \"\"\"Get all users with optional pagination.\"\"\"\n    try:\n        page = request.args.get('page', 1, type=int)\n        per_page = request.args.get('per_page', 10, type=int)\n        \n        users = User.query.paginate(\n            page=page, \n            per_page=per_page, \n            error_out=False\n        )\n        \n        return jsonify({\n            'users': [user.to_dict() for user in users.items],\n            'total': users.total,\n            'pages': users.pages,\n            'current_page': page\n        }), 200\n        \n    except Exception as e:\n        return jsonify({'error': 'Failed to fetch users'}), 500\n\n@app.route('/users/<int:user_id>', methods=['GET'])\ndef get_user(user_id):\n    \"\"\"Get a specific user by ID.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        return jsonify(user.to_dict()), 200\n        \n    except Exception as e:\n        return jsonify({'error': 'User not found'}), 404\n\n@app.route('/users', methods=['POST'])\ndef create_user():\n    \"\"\"Create a new user.\"\"\"\n    try:\n        data = request.get_json()\n        \n        if not data:\n            return jsonify({'error': 'No data provided'}), 400\n        \n        # Validate required fields\n        required_fields = ['name', 'email']\n        for field in required_fields:\n            if field not in data:\n                return jsonify({'error': f'{field} is required'}), 400\n        \n        # Check if email already exists\n        if User.query.filter_by(email=data['email']).first():\n            return jsonify({'error': 'Email already exists'}), 409\n        \n        # Create new user\n        user = User(\n            name=data['name'],\n            email=data['email'],\n            phone=data.get('phone'),\n            address=data.get('address')\n        )\n        \n        db.session.add(user)\n        db.session.commit()\n        \n        return jsonify(user.to_dict()), 201\n        \n    except BadRequest:\n        return jsonify({'error': 'Invalid JSON data'}), 400\n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to create user'}), 500\n\n@app.route('/users/<int:user_id>', methods=['PUT'])\ndef update_user(user_id):\n    \"\"\"Update an existing user.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        data = request.get_json()\n        \n        if not data:\n            return jsonify({'error': 'No data provided'}), 400\n        \n        # Update fields\n        if 'name' in data:\n            user.name = data['name']\n        if 'email' in data:\n            # Check if new email already exists\n            existing_user = User.query.filter_by(email=data['email']).first()\n            if existing_user and existing_user.id != user_id:\n                return jsonify({'error': 'Email already exists'}), 409\n            user.email = data['email']\n        if 'phone' in data:\n            user.phone = data['phone']\n        if 'address' in data:\n            user.address = data['address']\n        \n        db.session.commit()\n        \n        return jsonify(user.to_dict()), 200\n        \n    except BadRequest:\n        return jsonify({'error': 'Invalid JSON data'}), 400\n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to update user'}), 500\n\n@app.route('/users/<int:user_id>', methods=['DELETE'])\ndef delete_user(user_id):\n    \"\"\"Delete a user.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        \n        db.session.delete(user)\n        db.session.commit()\n        \n        return jsonify({'message': 'User deleted successfully'}), 200\n        \n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to delete user'}), 500\n\n# Error handlers\n@app.errorhandler(404)\ndef not_found(error):\n    return jsonify({'error': 'Resource not found'}), 404\n\n@app.errorhandler(400)\ndef bad_request(error):\n    return jsonify({'error': 'Bad request'}), 400\n\n@app.errorhandler(500)\ndef internal_error(error):\n    return jsonify({'error': 'Internal server error'}), 500\n```\n\n## Route Patterns Supported\n\n### Basic Routes\n```python\n@app.route('/')\n@app.route('/users')\n@app.route('/users/<int:user_id>')\n```\n\n### HTTP Methods\n```python\n@app.route('/users', methods=['GET', 'POST'])\n@app.route('/users/<int:id>', methods=['GET', 'PUT', 'DELETE'])\n```\n\n### URL Parameters\n```python\n@app.route('/users/<int:user_id>')\n@app.route('/posts/<string:slug>')\n@app.route('/files/<path:filename>')\n```\n\n## Best Practices Included\n\n- **Input validation** for all user data\n- **Proper HTTP status codes** (200, 201, 400, 404, 500)\n- **JSON responses** with consistent structure\n- **Error handling** with try/catch blocks\n- **Database rollback** on errors\n- **RESTful conventions** for URL design\n- **Documentation strings** for each route\n- **Request data validation** before processing\n\n## Common Response Patterns\n\n```python\n# Success with data\nreturn jsonify({'data': result}), 200\n\n# Created resource\nreturn jsonify({'data': new_resource, 'id': new_id}), 201\n\n# Validation error\nreturn jsonify({'error': 'Field is required'}), 400\n\n# Not found\nreturn jsonify({'error': 'Resource not found'}), 404\n\n# Server error\nreturn jsonify({'error': 'Internal server error'}), 500\n```"
              },
              {
                "name": "/testing",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/testing.md",
                "frontmatter": null,
                "content": "# Flask Testing Suite\n\nComprehensive testing setup for Flask applications with pytest.\n\n## Usage\n\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=app --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n```\n\n## Test Configuration\n\n```python\n# pytest.ini\n[tool:pytest]\ntestpaths = tests\npython_files = test_*.py\npython_classes = Test*\npython_functions = test_*\naddopts = \n    --cov=app\n    --cov-report=term-missing\n    --cov-report=html:htmlcov\n    --strict-markers\n    --disable-warnings\nmarkers =\n    unit: Unit tests\n    integration: Integration tests\n    slow: Slow running tests\n    auth: Authentication tests\n```\n\n## Test Fixtures\n\n```python\n# tests/conftest.py\nimport pytest\nimport tempfile\nimport os\nfrom app import create_app\nfrom app.extensions import db\nfrom app.models import User, Post, Category\nfrom flask_login import login_user\n\n@pytest.fixture(scope='session')\ndef app():\n    \"\"\"Create test application.\"\"\"\n    # Create temporary database\n    db_fd, db_path = tempfile.mkstemp()\n    \n    app = create_app({\n        'TESTING': True,\n        'SQLALCHEMY_DATABASE_URI': f'sqlite:///{db_path}',\n        'WTF_CSRF_ENABLED': False,\n        'SECRET_KEY': 'test-secret-key'\n    })\n    \n    with app.app_context():\n        db.create_all()\n        yield app\n        \n    # Cleanup\n    os.close(db_fd)\n    os.unlink(db_path)\n\n@pytest.fixture\ndef client(app):\n    \"\"\"Create test client.\"\"\"\n    return app.test_client()\n\n@pytest.fixture\ndef runner(app):\n    \"\"\"Create test CLI runner.\"\"\"\n    return app.test_cli_runner()\n\n@pytest.fixture\ndef db_session(app):\n    \"\"\"Create database session for testing.\"\"\"\n    with app.app_context():\n        connection = db.engine.connect()\n        transaction = connection.begin()\n        \n        # Configure session to use the connection\n        db.session.configure(bind=connection)\n        \n        yield db.session\n        \n        # Rollback transaction\n        transaction.rollback()\n        connection.close()\n        db.session.remove()\n\n@pytest.fixture\ndef user(db_session):\n    \"\"\"Create test user.\"\"\"\n    user = User(\n        username='testuser',\n        email='test@example.com',\n        first_name='Test',\n        last_name='User'\n    )\n    user.set_password('testpass123')\n    user.save()\n    return user\n\n@pytest.fixture\ndef admin_user(db_session):\n    \"\"\"Create admin user.\"\"\"\n    admin = User(\n        username='admin',\n        email='admin@example.com',\n        first_name='Admin',\n        last_name='User',\n        is_admin=True\n    )\n    admin.set_password('adminpass123')\n    admin.save()\n    return admin\n\n@pytest.fixture\ndef category(db_session):\n    \"\"\"Create test category.\"\"\"\n    category = Category(\n        name='Test Category',\n        description='A test category'\n    )\n    category.save()\n    return category\n\n@pytest.fixture\ndef post(db_session, user, category):\n    \"\"\"Create test post.\"\"\"\n    post = Post(\n        title='Test Post',\n        content='This is a test post content.',\n        slug='test-post',\n        status='published',\n        user_id=user.id,\n        category_id=category.id\n    )\n    post.save()\n    return post\n\n@pytest.fixture\ndef auth_headers(user):\n    \"\"\"Create authentication headers.\"\"\"\n    # For API testing\n    token = user.generate_auth_token()\n    return {'Authorization': f'Bearer {token}'}\n```\n\n## Model Testing\n\n```python\n# tests/test_models.py\nimport pytest\nfrom datetime import datetime\nfrom app.models import User, Post, Category\nfrom werkzeug.security import check_password_hash\n\nclass TestUser:\n    \"\"\"Test User model.\"\"\"\n    \n    def test_user_creation(self, db_session):\n        \"\"\"Test user creation.\"\"\"\n        user = User(\n            username='newuser',\n            email='new@example.com',\n            first_name='New',\n            last_name='User'\n        )\n        user.set_password('password123')\n        user.save()\n        \n        assert user.id is not None\n        assert user.username == 'newuser'\n        assert user.email == 'new@example.com'\n        assert user.full_name == 'New User'\n        assert user.is_active is True\n        assert user.is_admin is False\n        assert user.created_at is not None\n    \n    def test_password_hashing(self, user):\n        \"\"\"Test password hashing.\"\"\"\n        user.set_password('newpassword')\n        assert user.password_hash != 'newpassword'\n        assert check_password_hash(user.password_hash, 'newpassword')\n        assert user.check_password('newpassword')\n        assert not user.check_password('wrongpassword')\n    \n    def test_user_repr(self, user):\n        \"\"\"Test user string representation.\"\"\"\n        assert repr(user) == '<User testuser>'\n    \n    def test_user_to_dict(self, user):\n        \"\"\"Test user dictionary conversion.\"\"\"\n        user_dict = user.to_dict()\n        assert 'username' in user_dict\n        assert 'email' in user_dict\n        assert 'password_hash' not in user_dict  # Should be excluded\n    \n    def test_user_relationships(self, user, post):\n        \"\"\"Test user relationships.\"\"\"\n        assert post in user.posts\n        assert user.posts.count() == 1\n\nclass TestPost:\n    \"\"\"Test Post model.\"\"\"\n    \n    def test_post_creation(self, db_session, user, category):\n        \"\"\"Test post creation.\"\"\"\n        post = Post(\n            title='New Post',\n            content='New post content',\n            slug='new-post',\n            status='draft',\n            user_id=user.id,\n            category_id=category.id\n        )\n        post.save()\n        \n        assert post.id is not None\n        assert post.title == 'New Post'\n        assert post.author == user\n        assert post.category == category\n        assert not post.is_published\n    \n    def test_published_status(self, post):\n        \"\"\"Test post published status.\"\"\"\n        assert post.is_published  # Published with published_at\n        \n        post.status = 'draft'\n        assert not post.is_published\n```\n\n## View Testing\n\n```python\n# tests/test_views.py\nimport pytest\nfrom flask import url_for\nfrom app.models import User\n\nclass TestMainViews:\n    \"\"\"Test main application views.\"\"\"\n    \n    def test_home_page(self, client):\n        \"\"\"Test home page.\"\"\"\n        response = client.get('/')\n        assert response.status_code == 200\n        assert b'Welcome' in response.data\n    \n    def test_about_page(self, client):\n        \"\"\"Test about page.\"\"\"\n        response = client.get('/about')\n        assert response.status_code == 200\n\nclass TestUserViews:\n    \"\"\"Test user-related views.\"\"\"\n    \n    def test_user_list(self, client, user):\n        \"\"\"Test user list page.\"\"\"\n        response = client.get('/users/')\n        assert response.status_code == 200\n        assert user.username.encode() in response.data\n    \n    def test_user_detail(self, client, user):\n        \"\"\"Test user detail page.\"\"\"\n        response = client.get(f'/users/{user.id}')\n        assert response.status_code == 200\n        assert user.username.encode() in response.data\n    \n    def test_user_create_get(self, client):\n        \"\"\"Test user creation form.\"\"\"\n        response = client.get('/users/create')\n        assert response.status_code == 200\n        assert b'Create User' in response.data\n    \n    def test_user_create_post(self, client, db_session):\n        \"\"\"Test user creation submission.\"\"\"\n        data = {\n            'username': 'newuser',\n            'email': 'new@example.com',\n            'first_name': 'New',\n            'last_name': 'User',\n            'password': 'password123',\n            'confirm_password': 'password123'\n        }\n        response = client.post('/users/create', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Check user was created\n        user = User.query.filter_by(username='newuser').first()\n        assert user is not None\n        assert user.email == 'new@example.com'\n    \n    def test_user_edit(self, client, user):\n        \"\"\"Test user editing.\"\"\"\n        data = {\n            'username': user.username,\n            'email': 'updated@example.com',\n            'first_name': 'Updated',\n            'last_name': 'User'\n        }\n        response = client.post(f'/users/{user.id}/edit', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Refresh user from database\n        db_session.refresh(user)\n        assert user.email == 'updated@example.com'\n        assert user.first_name == 'Updated'\n```\n\n## Authentication Testing\n\n```python\n# tests/test_auth.py\nimport pytest\nfrom flask import url_for\nfrom app.models import User\n\nclass TestAuthentication:\n    \"\"\"Test authentication functionality.\"\"\"\n    \n    def test_login_page(self, client):\n        \"\"\"Test login page access.\"\"\"\n        response = client.get('/auth/login')\n        assert response.status_code == 200\n        assert b'Login' in response.data\n    \n    def test_valid_login(self, client, user):\n        \"\"\"Test valid user login.\"\"\"\n        data = {\n            'username': user.username,\n            'password': 'testpass123'\n        }\n        response = client.post('/auth/login', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        assert b'Welcome' in response.data\n    \n    def test_invalid_login(self, client, user):\n        \"\"\"Test invalid login credentials.\"\"\"\n        data = {\n            'username': user.username,\n            'password': 'wrongpassword'\n        }\n        response = client.post('/auth/login', data=data)\n        assert response.status_code == 200\n        assert b'Invalid' in response.data\n    \n    def test_logout(self, client, user):\n        \"\"\"Test user logout.\"\"\"\n        # Login first\n        with client.session_transaction() as sess:\n            sess['_user_id'] = str(user.id)\n        \n        response = client.get('/auth/logout', follow_redirects=True)\n        assert response.status_code == 200\n    \n    def test_register_page(self, client):\n        \"\"\"Test registration page.\"\"\"\n        response = client.get('/auth/register')\n        assert response.status_code == 200\n        assert b'Register' in response.data\n    \n    def test_valid_registration(self, client, db_session):\n        \"\"\"Test valid user registration.\"\"\"\n        data = {\n            'username': 'newuser',\n            'email': 'new@example.com',\n            'first_name': 'New',\n            'last_name': 'User',\n            'password': 'password123',\n            'confirm_password': 'password123'\n        }\n        response = client.post('/auth/register', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Check user was created\n        user = User.query.filter_by(username='newuser').first()\n        assert user is not None\n```\n\n## API Testing\n\n```python\n# tests/test_api.py\nimport pytest\nimport json\nfrom flask import url_for\n\nclass TestUserAPI:\n    \"\"\"Test User API endpoints.\"\"\"\n    \n    def test_get_users(self, client, user):\n        \"\"\"Test GET /api/users.\"\"\"\n        response = client.get('/api/users')\n        assert response.status_code == 200\n        \n        data = json.loads(response.data)\n        assert 'users' in data\n        assert len(data['users']) >= 1\n    \n    def test_get_user(self, client, user):\n        \"\"\"Test GET /api/users/<id>.\"\"\"\n        response = client.get(f'/api/users/{user.id}')\n        assert response.status_code == 200\n        \n        data = json.loads(response.data)\n        assert data['username'] == user.username\n        assert data['email'] == user.email\n    \n    def test_create_user(self, client, db_session):\n        \"\"\"Test POST /api/users.\"\"\"\n        user_data = {\n            'username': 'apiuser',\n            'email': 'api@example.com',\n            'first_name': 'API',\n            'last_name': 'User',\n            'password': 'password123'\n        }\n        \n        response = client.post(\n            '/api/users',\n            data=json.dumps(user_data),\n            content_type='application/json'\n        )\n        \n        assert response.status_code == 201\n        data = json.loads(response.data)\n        assert data['username'] == 'apiuser'\n    \n    def test_update_user(self, client, user, auth_headers):\n        \"\"\"Test PUT /api/users/<id>.\"\"\"\n        update_data = {\n            'email': 'updated@example.com',\n            'first_name': 'Updated'\n        }\n        \n        response = client.put(\n            f'/api/users/{user.id}',\n            data=json.dumps(update_data),\n            content_type='application/json',\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = json.loads(response.data)\n        assert data['email'] == 'updated@example.com'\n    \n    def test_delete_user(self, client, user, auth_headers):\n        \"\"\"Test DELETE /api/users/<id>.\"\"\"\n        response = client.delete(\n            f'/api/users/{user.id}',\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 204\n```\n\n## Test Utilities\n\n```python\n# tests/utils.py\nimport json\nfrom flask import url_for\n\ndef login_user(client, username, password):\n    \"\"\"Helper to login user in tests.\"\"\"\n    return client.post('/auth/login', data={\n        'username': username,\n        'password': password\n    }, follow_redirects=True)\n\ndef logout_user(client):\n    \"\"\"Helper to logout user in tests.\"\"\"\n    return client.get('/auth/logout', follow_redirects=True)\n\ndef assert_json_response(response, expected_status=200):\n    \"\"\"Assert JSON response format and status.\"\"\"\n    assert response.status_code == expected_status\n    assert response.content_type == 'application/json'\n    return json.loads(response.data)\n\ndef create_test_data(db_session):\n    \"\"\"Create common test data.\"\"\"\n    from app.models import User, Category, Post\n    \n    # Create test users\n    users = []\n    for i in range(3):\n        user = User(\n            username=f'user{i}',\n            email=f'user{i}@example.com',\n            first_name=f'User{i}',\n            last_name='Test'\n        )\n        user.set_password('password123')\n        user.save()\n        users.append(user)\n    \n    return {'users': users}\n```\n\n## Performance Testing\n\n```python\n# tests/test_performance.py\nimport pytest\nimport time\nfrom app.models import User\n\n@pytest.mark.slow\nclass TestPerformance:\n    \"\"\"Test application performance.\"\"\"\n    \n    def test_user_query_performance(self, db_session):\n        \"\"\"Test user query performance.\"\"\"\n        # Create multiple users\n        users = []\n        for i in range(100):\n            user = User(\n                username=f'perfuser{i}',\n                email=f'perf{i}@example.com',\n                first_name=f'Perf{i}',\n                last_name='User'\n            )\n            users.append(user)\n        \n        db_session.bulk_save_objects(users)\n        db_session.commit()\n        \n        # Test query performance\n        start_time = time.time()\n        result = User.query.all()\n        end_time = time.time()\n        \n        assert len(result) >= 100\n        assert (end_time - start_time) < 0.1  # Should complete in under 100ms\n    \n    def test_endpoint_response_time(self, client):\n        \"\"\"Test endpoint response time.\"\"\"\n        start_time = time.time()\n        response = client.get('/')\n        end_time = time.time()\n        \n        assert response.status_code == 200\n        assert (end_time - start_time) < 0.5  # Should respond in under 500ms\n```\n"
              },
              {
                "name": "/model",
                "description": null,
                "path": "cli-tool/templates/ruby/.claude/commands/model.md",
                "frontmatter": null,
                "content": "# Ruby Model Generator\n\nCreate Ruby classes and models with proper structure and best practices.\n\n## Purpose\n\nThis command helps you quickly create Ruby model classes with proper initialization, attributes, and methods following Ruby conventions.\n\n## Usage\n\n```\n/model\n```\n\n## What this command does\n\n1. **Creates model classes** with proper initialization methods\n2. **Adds attribute accessors** and instance variables\n3. **Includes validation methods** and error handling\n4. **Follows Ruby conventions** and best practices\n5. **Generates related test files** when applicable\n\n## Example Output\n\n```ruby\n# app/models/user.rb\nclass User\n  attr_accessor :name, :email, :age\n  attr_reader :id, :created_at\n  \n  def initialize(attributes = {})\n    @id = attributes[:id] || generate_id\n    @name = attributes[:name]\n    @email = attributes[:email]\n    @age = attributes[:age]\n    @created_at = Time.now\n    @errors = []\n  end\n  \n  def valid?\n    @errors.clear\n    validate_presence_of_name\n    validate_email_format\n    validate_age_range\n    @errors.empty?\n  end\n  \n  def errors\n    @errors.dup\n  end\n  \n  def save\n    return false unless valid?\n    \n    # Persist logic here\n    true\n  end\n  \n  def to_h\n    {\n      id: @id,\n      name: @name,\n      email: @email,\n      age: @age,\n      created_at: @created_at\n    }\n  end\n  \n  def to_json(*args)\n    JSON.generate(to_h, *args)\n  end\n  \n  private\n  \n  def validate_presence_of_name\n    if @name.nil? || @name.strip.empty?\n      @errors << \"Name cannot be blank\"\n    end\n  end\n  \n  def validate_email_format\n    if @email && !@email.match?(/\\A[\\w+\\-.]+@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)*\\.[a-z]+\\z/i)\n      @errors << \"Email format is invalid\"\n    end\n  end\n  \n  def validate_age_range\n    if @age && (@age < 0 || @age > 150)\n      @errors << \"Age must be between 0 and 150\"\n    end\n  end\n  \n  def generate_id\n    SecureRandom.uuid\n  end\nend\n\n# Example with inheritance\nclass AdminUser < User\n  attr_accessor :permissions\n  \n  def initialize(attributes = {})\n    super\n    @permissions = attributes[:permissions] || []\n  end\n  \n  def admin?\n    true\n  end\n  \n  def has_permission?(permission)\n    @permissions.include?(permission)\n  end\n  \n  private\n  \n  def validate_permissions\n    unless @permissions.is_a?(Array)\n      @errors << \"Permissions must be an array\"\n    end\n  end\nend\n```\n\n## Advanced Features\n\n### Module Inclusion\n```ruby\nmodule Timestamps\n  def self.included(base)\n    base.extend(ClassMethods)\n  end\n  \n  module ClassMethods\n    def with_timestamps\n      attr_reader :created_at, :updated_at\n      \n      define_method :initialize do |*args|\n        super(*args)\n        @created_at ||= Time.now\n        @updated_at = @created_at\n      end\n      \n      define_method :touch do\n        @updated_at = Time.now\n      end\n    end\n  end\nend\n\nclass Post\n  include Timestamps\n  with_timestamps\n  \n  attr_accessor :title, :content\n  \n  def initialize(attributes = {})\n    @title = attributes[:title]\n    @content = attributes[:content]\n    super\n  end\nend\n```\n\n### Class Methods and Scopes\n```ruby\nclass User\n  @@users = []\n  \n  def self.all\n    @@users.dup\n  end\n  \n  def self.find_by_email(email)\n    @@users.find { |user| user.email == email }\n  end\n  \n  def self.where(conditions = {})\n    @@users.select do |user|\n      conditions.all? { |key, value| user.send(key) == value }\n    end\n  end\n  \n  def self.create(attributes = {})\n    user = new(attributes)\n    if user.save\n      @@users << user\n      user\n    else\n      nil\n    end\n  end\n  \n  def save\n    return false unless valid?\n    \n    unless @@users.include?(self)\n      @@users << self\n    end\n    true\n  end\n  \n  def destroy\n    @@users.delete(self)\n  end\nend\n```\n\n## Testing Template\n\n```ruby\n# spec/models/user_spec.rb\nrequire 'spec_helper'\n\nRSpec.describe User do\n  let(:valid_attributes) do\n    {\n      name: 'John Doe',\n      email: 'john@example.com',\n      age: 30\n    }\n  end\n  \n  describe '#initialize' do\n    it 'sets attributes correctly' do\n      user = User.new(valid_attributes)\n      \n      expect(user.name).to eq('John Doe')\n      expect(user.email).to eq('john@example.com')\n      expect(user.age).to eq(30)\n      expect(user.id).not_to be_nil\n      expect(user.created_at).to be_a(Time)\n    end\n  end\n  \n  describe '#valid?' do\n    it 'returns true for valid attributes' do\n      user = User.new(valid_attributes)\n      expect(user).to be_valid\n    end\n    \n    it 'returns false when name is blank' do\n      user = User.new(valid_attributes.merge(name: ''))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Name cannot be blank')\n    end\n    \n    it 'returns false for invalid email format' do\n      user = User.new(valid_attributes.merge(email: 'invalid-email'))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Email format is invalid')\n    end\n    \n    it 'returns false for invalid age' do\n      user = User.new(valid_attributes.merge(age: -5))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Age must be between 0 and 150')\n    end\n  end\n  \n  describe '#save' do\n    it 'saves valid user' do\n      user = User.new(valid_attributes)\n      expect(user.save).to be true\n    end\n    \n    it 'does not save invalid user' do\n      user = User.new(name: '')\n      expect(user.save).to be false\n    end\n  end\n  \n  describe '#to_h' do\n    it 'returns hash representation' do\n      user = User.new(valid_attributes)\n      hash = user.to_h\n      \n      expect(hash).to include(\n        name: 'John Doe',\n        email: 'john@example.com',\n        age: 30\n      )\n      expect(hash[:id]).not_to be_nil\n      expect(hash[:created_at]).to be_a(Time)\n    end\n  end\nend\n```\n\n## Best Practices Included\n\n- **Proper initialization** with hash parameters\n- **Attribute accessors** for public attributes\n- **Validation methods** with error collection\n- **JSON serialization** support\n- **Class and instance methods** separation\n- **Error handling** and reporting\n- **Ruby naming conventions** (snake_case)\n- **Encapsulation** with private methods\n\n## Common Patterns\n\n### Value Objects\n```ruby\nclass Money\n  include Comparable\n  \n  attr_reader :amount, :currency\n  \n  def initialize(amount, currency = 'USD')\n    @amount = amount.to_f\n    @currency = currency.to_s.upcase\n  end\n  \n  def +(other)\n    raise ArgumentError, \"Currency mismatch\" unless currency == other.currency\n    Money.new(amount + other.amount, currency)\n  end\n  \n  def <=>(other)\n    raise ArgumentError, \"Currency mismatch\" unless currency == other.currency\n    amount <=> other.amount\n  end\n  \n  def to_s\n    \"#{currency} #{format('%.2f', amount)}\"\n  end\nend\n```\n\n### Service Objects\n```ruby\nclass UserRegistrationService\n  attr_reader :user, :errors\n  \n  def initialize(user_params)\n    @user_params = user_params\n    @errors = []\n  end\n  \n  def call\n    @user = User.new(@user_params)\n    \n    if @user.valid?\n      @user.save\n      send_welcome_email\n      true\n    else\n      @errors = @user.errors\n      false\n    end\n  end\n  \n  private\n  \n  def send_welcome_email\n    # Email sending logic\n  end\nend\n```"
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/ruby/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Ruby Test Generator\n\nCreate comprehensive test files with RSpec or Minitest following Ruby testing best practices.\n\n## Purpose\n\nThis command helps you quickly create test files with proper structure, examples, and testing patterns for Ruby applications.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Creates test files** with proper structure for RSpec or Minitest\n2. **Includes test examples** for common scenarios\n3. **Sets up test helpers** and support files\n4. **Follows testing conventions** and best practices\n5. **Generates factory/fixture data** when needed\n\n## RSpec Example Output\n\n```ruby\n# spec/models/user_spec.rb\nrequire 'spec_helper'\n\nRSpec.describe User do\n  let(:user) { build(:user) }\n  let(:valid_attributes) do\n    {\n      name: 'John Doe',\n      email: 'john@example.com',\n      age: 30\n    }\n  end\n  \n  describe 'validations' do\n    it { should validate_presence_of(:name) }\n    it { should validate_presence_of(:email) }\n    it { should validate_uniqueness_of(:email) }\n    it { should validate_numericality_of(:age).is_greater_than(0) }\n    \n    context 'when email format is invalid' do\n      let(:user) { build(:user, email: 'invalid-email') }\n      \n      it 'is not valid' do\n        expect(user).not_to be_valid\n        expect(user.errors[:email]).to include('is invalid')\n      end\n    end\n  end\n  \n  describe 'associations' do\n    it { should have_many(:posts) }\n    it { should have_many(:comments) }\n  end\n  \n  describe 'callbacks' do\n    describe 'before_save' do\n      it 'normalizes email' do\n        user = create(:user, email: 'JOHN@EXAMPLE.COM')\n        expect(user.email).to eq('john@example.com')\n      end\n    end\n  end\n  \n  describe 'instance methods' do\n    describe '#full_name' do\n      let(:user) { build(:user, first_name: 'John', last_name: 'Doe') }\n      \n      it 'returns the full name' do\n        expect(user.full_name).to eq('John Doe')\n      end\n      \n      context 'when last_name is missing' do\n        let(:user) { build(:user, first_name: 'John', last_name: nil) }\n        \n        it 'returns only first_name' do\n          expect(user.full_name).to eq('John')\n        end\n      end\n    end\n    \n    describe '#active?' do\n      context 'when user is active' do\n        let(:user) { build(:user, status: 'active') }\n        \n        it 'returns true' do\n          expect(user.active?).to be true\n        end\n      end\n      \n      context 'when user is inactive' do\n        let(:user) { build(:user, status: 'inactive') }\n        \n        it 'returns false' do\n          expect(user.active?).to be false\n        end\n      end\n    end\n  end\n  \n  describe 'class methods' do\n    describe '.active' do\n      let!(:active_user) { create(:user, status: 'active') }\n      let!(:inactive_user) { create(:user, status: 'inactive') }\n      \n      it 'returns only active users' do\n        expect(User.active).to include(active_user)\n        expect(User.active).not_to include(inactive_user)\n      end\n    end\n    \n    describe '.find_by_email' do\n      let!(:user) { create(:user, email: 'test@example.com') }\n      \n      it 'finds user by email' do\n        found_user = User.find_by_email('test@example.com')\n        expect(found_user).to eq(user)\n      end\n      \n      it 'returns nil when user not found' do\n        found_user = User.find_by_email('nonexistent@example.com')\n        expect(found_user).to be_nil\n      end\n    end\n  end\n  \n  describe 'scopes' do\n    describe '.recent' do\n      let!(:old_user) { create(:user, created_at: 1.year.ago) }\n      let!(:recent_user) { create(:user, created_at: 1.day.ago) }\n      \n      it 'returns users created in the last 30 days' do\n        expect(User.recent).to include(recent_user)\n        expect(User.recent).not_to include(old_user)\n      end\n    end\n  end\nend\n```\n\n## Minitest Example Output\n\n```ruby\n# test/models/user_test.rb\nrequire 'test_helper'\n\nclass UserTest < ActiveSupport::TestCase\n  def setup\n    @user = users(:john)\n    @valid_attributes = {\n      name: 'Jane Doe',\n      email: 'jane@example.com',\n      age: 25\n    }\n  end\n  \n  # Validation tests\n  test 'should not save user without name' do\n    user = User.new(@valid_attributes.except(:name))\n    assert_not user.save\n    assert_includes user.errors[:name], \"can't be blank\"\n  end\n  \n  test 'should not save user without email' do\n    user = User.new(@valid_attributes.except(:email))\n    assert_not user.save\n    assert_includes user.errors[:email], \"can't be blank\"\n  end\n  \n  test 'should not save user with invalid email' do\n    user = User.new(@valid_attributes.merge(email: 'invalid-email'))\n    assert_not user.save\n    assert_includes user.errors[:email], 'is invalid'\n  end\n  \n  test 'should not save user with duplicate email' do\n    user1 = User.create!(@valid_attributes)\n    user2 = User.new(@valid_attributes)\n    assert_not user2.save\n    assert_includes user2.errors[:email], 'has already been taken'\n  end\n  \n  test 'should save user with valid attributes' do\n    user = User.new(@valid_attributes)\n    assert user.save\n  end\n  \n  # Association tests\n  test 'should have many posts' do\n    assert_respond_to @user, :posts\n    assert_kind_of ActiveRecord::Associations::CollectionProxy, @user.posts\n  end\n  \n  test 'should have many comments' do\n    assert_respond_to @user, :comments\n  end\n  \n  # Instance method tests\n  test 'full_name should return first and last name' do\n    @user.first_name = 'John'\n    @user.last_name = 'Doe'\n    assert_equal 'John Doe', @user.full_name\n  end\n  \n  test 'full_name should return first name only when last name is missing' do\n    @user.first_name = 'John'\n    @user.last_name = nil\n    assert_equal 'John', @user.full_name\n  end\n  \n  test 'active? should return true for active users' do\n    @user.status = 'active'\n    assert @user.active?\n  end\n  \n  test 'active? should return false for inactive users' do\n    @user.status = 'inactive'\n    assert_not @user.active?\n  end\n  \n  # Class method tests\n  test 'active scope should return only active users' do\n    active_user = User.create!(@valid_attributes.merge(status: 'active'))\n    inactive_user = User.create!(@valid_attributes.merge(\n      email: 'inactive@example.com',\n      status: 'inactive'\n    ))\n    \n    active_users = User.active\n    assert_includes active_users, active_user\n    assert_not_includes active_users, inactive_user\n  end\n  \n  test 'find_by_email should find user by email' do\n    user = User.create!(@valid_attributes)\n    found_user = User.find_by_email(@valid_attributes[:email])\n    assert_equal user, found_user\n  end\n  \n  test 'find_by_email should return nil when user not found' do\n    found_user = User.find_by_email('nonexistent@example.com')\n    assert_nil found_user\n  end\nend\n```\n\n## Controller Test Example\n\n```ruby\n# spec/controllers/users_controller_spec.rb\nrequire 'rails_helper'\n\nRSpec.describe UsersController, type: :controller do\n  let(:user) { create(:user) }\n  let(:valid_attributes) { attributes_for(:user) }\n  let(:invalid_attributes) { { name: '', email: 'invalid' } }\n  \n  describe 'GET #index' do\n    it 'returns a success response' do\n      get :index\n      expect(response).to be_successful\n    end\n    \n    it 'assigns @users' do\n      user1 = create(:user)\n      user2 = create(:user)\n      get :index\n      expect(assigns(:users)).to match_array([user1, user2])\n    end\n  end\n  \n  describe 'GET #show' do\n    it 'returns a success response' do\n      get :show, params: { id: user.to_param }\n      expect(response).to be_successful\n    end\n    \n    it 'assigns the requested user' do\n      get :show, params: { id: user.to_param }\n      expect(assigns(:user)).to eq(user)\n    end\n  end\n  \n  describe 'POST #create' do\n    context 'with valid parameters' do\n      it 'creates a new User' do\n        expect {\n          post :create, params: { user: valid_attributes }\n        }.to change(User, :count).by(1)\n      end\n      \n      it 'redirects to the created user' do\n        post :create, params: { user: valid_attributes }\n        expect(response).to redirect_to(User.last)\n      end\n    end\n    \n    context 'with invalid parameters' do\n      it 'does not create a new User' do\n        expect {\n          post :create, params: { user: invalid_attributes }\n        }.to change(User, :count).by(0)\n      end\n      \n      it 'renders the new template' do\n        post :create, params: { user: invalid_attributes }\n        expect(response).to render_template(:new)\n      end\n    end\n  end\n  \n  describe 'PUT #update' do\n    context 'with valid parameters' do\n      let(:new_attributes) { { name: 'Updated Name' } }\n      \n      it 'updates the requested user' do\n        put :update, params: { id: user.to_param, user: new_attributes }\n        user.reload\n        expect(user.name).to eq('Updated Name')\n      end\n      \n      it 'redirects to the user' do\n        put :update, params: { id: user.to_param, user: new_attributes }\n        expect(response).to redirect_to(user)\n      end\n    end\n    \n    context 'with invalid parameters' do\n      it 'renders the edit template' do\n        put :update, params: { id: user.to_param, user: invalid_attributes }\n        expect(response).to render_template(:edit)\n      end\n    end\n  end\n  \n  describe 'DELETE #destroy' do\n    it 'destroys the requested user' do\n      user # Create user\n      expect {\n        delete :destroy, params: { id: user.to_param }\n      }.to change(User, :count).by(-1)\n    end\n    \n    it 'redirects to the users list' do\n      delete :destroy, params: { id: user.to_param }\n      expect(response).to redirect_to(users_url)\n    end\n  end\nend\n```\n\n## Factory Configuration\n\n```ruby\n# spec/factories/users.rb\nFactoryBot.define do\n  factory :user do\n    sequence(:name) { |n| \"User #{n}\" }\n    sequence(:email) { |n| \"user#{n}@example.com\" }\n    age { rand(18..80) }\n    status { 'active' }\n    \n    trait :inactive do\n      status { 'inactive' }\n    end\n    \n    trait :admin do\n      admin { true }\n    end\n    \n    trait :with_posts do\n      after(:create) do |user|\n        create_list(:post, 3, user: user)\n      end\n    end\n    \n    factory :admin_user, traits: [:admin]\n    factory :inactive_user, traits: [:inactive]\n  end\nend\n```\n\n## Test Helper Configuration\n\n```ruby\n# spec/spec_helper.rb\nrequire 'simplecov'\nSimpleCov.start 'rails' do\n  add_filter '/spec/'\n  add_filter '/config/'\n  add_filter '/vendor/'\n  \n  add_group 'Controllers', 'app/controllers'\n  add_group 'Models', 'app/models'\n  add_group 'Services', 'app/services'\n  add_group 'Libraries', 'lib'\nend\n\nRSpec.configure do |config|\n  config.expect_with :rspec do |expectations|\n    expectations.include_chain_clauses_in_custom_matcher_descriptions = true\n  end\n  \n  config.mock_with :rspec do |mocks|\n    mocks.verify_partial_doubles = true\n  end\n  \n  config.shared_context_metadata_behavior = :apply_to_host_groups\n  config.filter_run_when_matching :focus\n  config.example_status_persistence_file_path = 'spec/examples.txt'\n  config.disable_monkey_patching!\n  config.warnings = true\n  \n  if config.files_to_run.one?\n    config.default_formatter = 'doc'\n  end\n  \n  config.profile_examples = 10\n  config.order = :random\n  Kernel.srand config.seed\nend\n```\n\n## Integration Test Example\n\n```ruby\n# spec/requests/api/users_spec.rb\nrequire 'rails_helper'\n\nRSpec.describe 'API::Users', type: :request do\n  let(:user) { create(:user) }\n  let(:valid_headers) {\n    { 'Authorization' => \"Bearer #{user.auth_token}\" }\n  }\n  \n  describe 'GET /api/users' do\n    it 'returns users' do\n      create_list(:user, 3)\n      \n      get '/api/users', headers: valid_headers\n      \n      expect(response).to have_http_status(:ok)\n      expect(JSON.parse(response.body)['users'].size).to eq(3)\n    end\n  end\n  \n  describe 'POST /api/users' do\n    let(:valid_params) do\n      {\n        user: {\n          name: 'New User',\n          email: 'new@example.com'\n        }\n      }\n    end\n    \n    it 'creates a new user' do\n      post '/api/users', params: valid_params, headers: valid_headers\n      \n      expect(response).to have_http_status(:created)\n      expect(JSON.parse(response.body)['user']['name']).to eq('New User')\n    end\n  end\nend\n```\n\n## Best Practices Included\n\n- **Descriptive test names** that explain expected behavior\n- **Proper test organization** with contexts and describes\n- **Factory usage** for test data generation\n- **Mocking and stubbing** for external dependencies\n- **Coverage configuration** with SimpleCov\n- **Test helpers** and shared examples\n- **Request/Integration tests** for API endpoints\n- **Feature tests** for user workflows"
              },
              {
                "name": "/authentication",
                "description": null,
                "path": "cli-tool/templates/ruby/examples/rails-app/.claude/commands/authentication.md",
                "frontmatter": null,
                "content": "# Rails 8 Native Authentication Generator\n\nGenerate Rails 8's built-in authentication system with modern security practices.\n\n## Purpose\n\nThis command helps you implement Rails 8's new native authentication system, eliminating the need for external gems like Devise for basic authentication needs.\n\n## Usage\n\n```\n/authentication\n```\n\n## What this command does\n\n1. **Generates authentication models** with secure password handling\n2. **Creates authentication controllers** for login/logout/signup\n3. **Adds authentication views** with modern styling\n4. **Implements session management** with security best practices\n5. **Sets up authentication helpers** for controllers and views\n\n## Rails 8 Authentication Generator\n\n```bash\n# Generate authentication for User model\nbin/rails generate authentication User\n\n# Or specify custom model name\nbin/rails generate authentication Account\n\n# Generate with custom attributes\nbin/rails generate authentication User first_name:string last_name:string\n```\n\n## Generated User Model\n\n```ruby\n# app/models/user.rb\nclass User < ApplicationRecord\n  has_secure_password\n  \n  validates :email, presence: true, uniqueness: true\n  validates :password, length: { minimum: 8 }, if: -> { new_record? || !password.blank? }\n  \n  normalizes :email, with: ->(email) { email.strip.downcase }\n  \n  before_save :normalize_email\n  \n  private\n  \n  def normalize_email\n    self.email = email.downcase.strip\n  end\nend\n```\n\n## Authentication Controller\n\n```ruby\n# app/controllers/authentication_controller.rb\nclass AuthenticationController < ApplicationController\n  skip_before_action :authenticate_user!, only: [:new, :create]\n  \n  def new\n    # Login page\n  end\n  \n  def create\n    user = User.find_by(email: params[:email])\n    \n    if user&.authenticate(params[:password])\n      login(user)\n      redirect_to root_path, notice: 'Logged in successfully'\n    else\n      flash.now[:alert] = 'Invalid email or password'\n      render :new, status: :unprocessable_entity\n    end\n  end\n  \n  def destroy\n    logout\n    redirect_to root_path, notice: 'Logged out successfully'\n  end\n  \n  private\n  \n  def login(user)\n    session[:user_id] = user.id\n    @current_user = user\n  end\n  \n  def logout\n    session[:user_id] = nil\n    @current_user = nil\n  end\nend\n```\n\n## Registration Controller\n\n```ruby\n# app/controllers/registrations_controller.rb\nclass RegistrationsController < ApplicationController\n  skip_before_action :authenticate_user!\n  \n  def new\n    @user = User.new\n  end\n  \n  def create\n    @user = User.new(user_params)\n    \n    if @user.save\n      login(@user)\n      redirect_to root_path, notice: 'Account created successfully'\n    else\n      render :new, status: :unprocessable_entity\n    end\n  end\n  \n  private\n  \n  def user_params\n    params.require(:user).permit(:email, :password, :password_confirmation, :first_name, :last_name)\n  end\n  \n  def login(user)\n    session[:user_id] = user.id\n    @current_user = user\n  end\nend\n```\n\n## Application Controller Updates\n\n```ruby\n# app/controllers/application_controller.rb\nclass ApplicationController < ActionController::Base\n  protect_from_forgery with: :exception\n  \n  before_action :authenticate_user!\n  \n  private\n  \n  def authenticate_user!\n    redirect_to login_path, alert: 'Please log in to continue' unless current_user\n  end\n  \n  def current_user\n    @current_user ||= User.find(session[:user_id]) if session[:user_id]\n  end\n  helper_method :current_user\n  \n  def logged_in?\n    !!current_user\n  end\n  helper_method :logged_in?\n  \n  def require_login\n    unless logged_in?\n      flash[:alert] = 'You must be logged in to access this page'\n      redirect_to login_path\n    end\n  end\nend\n```\n\n## Authentication Views\n\n### Login Form\n```erb\n<!-- app/views/authentication/new.html.erb -->\n<div class=\"authentication-form\">\n  <h1>Log In</h1>\n  \n  <%= form_with url: login_path, local: true, class: \"auth-form\" do |form| %>\n    <div class=\"form-group\">\n      <%= form.label :email, \"Email\" %>\n      <%= form.email_field :email, required: true, autofocus: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password, \"Password\" %>\n      <%= form.password_field :password, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-actions\">\n      <%= form.submit \"Log In\", class: \"btn btn-primary\" %>\n    </div>\n  <% end %>\n  \n  <div class=\"auth-links\">\n    <%= link_to \"Don't have an account? Sign up\", signup_path %>\n  </div>\n</div>\n```\n\n### Registration Form\n```erb\n<!-- app/views/registrations/new.html.erb -->\n<div class=\"authentication-form\">\n  <h1>Sign Up</h1>\n  \n  <%= form_with model: @user, url: signup_path, local: true, class: \"auth-form\" do |form| %>\n    <% if @user.errors.any? %>\n      <div class=\"error-messages\">\n        <h3><%= pluralize(@user.errors.count, \"error\") %> prohibited this account from being saved:</h3>\n        <ul>\n          <% @user.errors.full_messages.each do |message| %>\n            <li><%= message %></li>\n          <% end %>\n        </ul>\n      </div>\n    <% end %>\n    \n    <div class=\"form-group\">\n      <%= form.label :first_name, \"First Name\" %>\n      <%= form.text_field :first_name, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :last_name, \"Last Name\" %>\n      <%= form.text_field :last_name, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :email, \"Email\" %>\n      <%= form.email_field :email, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password, \"Password\" %>\n      <%= form.password_field :password, required: true, minlength: 8, class: \"form-control\" %>\n      <small class=\"form-text\">Minimum 8 characters</small>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password_confirmation, \"Confirm Password\" %>\n      <%= form.password_field :password_confirmation, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-actions\">\n      <%= form.submit \"Sign Up\", class: \"btn btn-primary\" %>\n    </div>\n  <% end %>\n  \n  <div class=\"auth-links\">\n    <%= link_to \"Already have an account? Log in\", login_path %>\n  </div>\n</div>\n```\n\n## Route Configuration\n\n```ruby\n# config/routes.rb\nRails.application.routes.draw do\n  # Authentication routes\n  get    'login',  to: 'authentication#new'\n  post   'login',  to: 'authentication#create'\n  delete 'logout', to: 'authentication#destroy'\n  \n  # Registration routes\n  get  'signup', to: 'registrations#new'\n  post 'signup', to: 'registrations#create'\n  \n  # User management routes\n  resources :users, except: [:new, :create]\n  \n  # Root route\n  root 'dashboard#index'\nend\n```\n\n## Migration Files\n\n```ruby\n# db/migrate/xxx_create_users.rb\nclass CreateUsers < ActiveRecord::Migration[8.0]\n  def change\n    create_table :users do |t|\n      t.string :email, null: false\n      t.string :password_digest, null: false\n      t.string :first_name\n      t.string :last_name\n      \n      t.timestamps\n    end\n    \n    add_index :users, :email, unique: true\n  end\nend\n```\n\n## Advanced Authentication Features\n\n### Password Reset\n```ruby\n# app/controllers/password_resets_controller.rb\nclass PasswordResetsController < ApplicationController\n  skip_before_action :authenticate_user!\n  \n  def new\n    # Password reset request form\n  end\n  \n  def create\n    @user = User.find_by(email: params[:email])\n    if @user\n      @user.send_password_reset\n      redirect_to root_path, notice: 'Email sent with password reset instructions'\n    else\n      flash.now[:alert] = 'Email address not found'\n      render :new\n    end\n  end\n  \n  def edit\n    @user = User.find_by(password_reset_token: params[:id])\n    if @user.nil? || @user.password_reset_sent_at < 2.hours.ago\n      redirect_to new_password_reset_path, alert: 'Password reset has expired'\n    end\n  end\n  \n  def update\n    @user = User.find_by(password_reset_token: params[:id])\n    if @user && @user.password_reset_sent_at > 2.hours.ago\n      if @user.update(password_params)\n        @user.update_columns(password_reset_token: nil, password_reset_sent_at: nil)\n        redirect_to root_path, notice: 'Password has been reset'\n      else\n        render :edit\n      end\n    else\n      redirect_to new_password_reset_path, alert: 'Password reset has expired'\n    end\n  end\n  \n  private\n  \n  def password_params\n    params.require(:user).permit(:password, :password_confirmation)\n  end\nend\n```\n\n### User Model Extensions\n```ruby\n# app/models/user.rb (extended)\nclass User < ApplicationRecord\n  has_secure_password\n  \n  validates :email, presence: true, uniqueness: true\n  validates :password, length: { minimum: 8 }, if: -> { new_record? || !password.blank? }\n  \n  normalizes :email, with: ->(email) { email.strip.downcase }\n  \n  # Password reset functionality\n  def send_password_reset\n    generate_token(:password_reset_token)\n    self.password_reset_sent_at = Time.zone.now\n    save!\n    UserMailer.password_reset(self).deliver_now\n  end\n  \n  def full_name\n    \"#{first_name} #{last_name}\".strip\n  end\n  \n  def initials\n    \"#{first_name&.first}#{last_name&.first}\".upcase\n  end\n  \n  private\n  \n  def generate_token(column)\n    begin\n      self[column] = SecureRandom.urlsafe_base64\n    end while User.exists?(column => self[column])\n  end\nend\n```\n\n## Session Security Enhancements\n\n```ruby\n# config/application.rb\nconfig.session_store :cookie_store, {\n  key: '_myapp_session',\n  secure: Rails.env.production?,\n  httponly: true,\n  same_site: :lax\n}\n\n# config/environments/production.rb\nconfig.force_ssl = true\nconfig.session_store :cookie_store, {\n  key: '_myapp_session',\n  secure: true,\n  httponly: true,\n  same_site: :strict\n}\n```\n\n## Authentication Helper Methods\n\n```ruby\n# app/helpers/authentication_helper.rb\nmodule AuthenticationHelper\n  def user_avatar(user, size: 40)\n    if user.avatar.present?\n      image_tag user.avatar, alt: user.full_name, class: \"avatar\", size: \"#{size}x#{size}\"\n    else\n      content_tag :div, user.initials, class: \"avatar avatar-initials\", \n                  style: \"width: #{size}px; height: #{size}px; line-height: #{size}px;\"\n    end\n  end\n  \n  def current_user_menu\n    if logged_in?\n      render 'shared/user_menu'\n    else\n      render 'shared/guest_menu'\n    end\n  end\nend\n```\n\n## Testing Authentication\n\n```ruby\n# spec/models/user_spec.rb\nRSpec.describe User, type: :model do\n  describe 'validations' do\n    it { should validate_presence_of(:email) }\n    it { should validate_uniqueness_of(:email) }\n    it { should validate_length_of(:password).is_at_least(8) }\n    it { should have_secure_password }\n  end\n  \n  describe 'email normalization' do\n    it 'normalizes email to lowercase' do\n      user = User.create!(email: 'USER@EXAMPLE.COM', password: 'password123')\n      expect(user.email).to eq('user@example.com')\n    end\n  end\n  \n  describe '#full_name' do\n    it 'returns combined first and last name' do\n      user = User.new(first_name: 'John', last_name: 'Doe')\n      expect(user.full_name).to eq('John Doe')\n    end\n  end\nend\n\n# spec/controllers/authentication_controller_spec.rb\nRSpec.describe AuthenticationController, type: :controller do\n  describe 'POST #create' do\n    let(:user) { create(:user, password: 'password123') }\n    \n    context 'with valid credentials' do\n      it 'logs in the user' do\n        post :create, params: { email: user.email, password: 'password123' }\n        expect(session[:user_id]).to eq(user.id)\n        expect(response).to redirect_to(root_path)\n      end\n    end\n    \n    context 'with invalid credentials' do\n      it 'does not log in the user' do\n        post :create, params: { email: user.email, password: 'wrong' }\n        expect(session[:user_id]).to be_nil\n        expect(response).to render_template(:new)\n      end\n    end\n  end\nend\n```\n\n## Security Best Practices Included\n\n- **Secure password hashing** with bcrypt\n- **Email normalization** to prevent duplicates\n- **CSRF protection** enabled by default\n- **Session security** with httponly and secure flags\n- **Password strength validation** (minimum 8 characters)\n- **Timing attack prevention** in authentication\n- **Password reset token expiration**\n- **SSL enforcement** in production"
              }
            ],
            "skills": []
          },
          {
            "name": "ai-ml-toolkit",
            "description": "AI and Machine Learning development suite with data engineering and model deployment tools",
            "source": "./",
            "category": null,
            "version": "1.0.0",
            "author": {
              "name": "Daniel Avila"
            },
            "install_commands": [
              "/plugin marketplace add Justdvp/claude-code-templates",
              "/plugin install ai-ml-toolkit@claude-code-templates"
            ],
            "signals": {
              "stars": 5,
              "forks": 0,
              "pushed_at": "2026-01-12T22:20:42Z",
              "created_at": "2022-10-16T16:39:58Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/lint",
                "description": null,
                "path": ".claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Python Linter\n\nRun Python code linting and formatting tools.\n\n## Purpose\n\nThis command helps you maintain code quality using Python's best linting and formatting tools.\n\n## Usage\n\n```\n/lint\n```\n\n## What this command does\n\n1. **Runs multiple linters** (flake8, pylint, black, isort)\n2. **Provides detailed feedback** on code quality issues\n3. **Auto-fixes formatting** where possible\n4. **Checks type hints** if mypy is configured\n\n## Example Commands\n\n### Black (code formatting)\n```bash\n# Format all Python files\nblack .\n\n# Check formatting without changing files\nblack --check .\n\n# Format specific file\nblack src/main.py\n```\n\n### flake8 (style guide enforcement)\n```bash\n# Check all Python files\nflake8 .\n\n# Check specific directory\nflake8 src/\n\n# Check with specific rules\nflake8 --max-line-length=88 .\n```\n\n### isort (import sorting)\n```bash\n# Sort imports in all files\nisort .\n\n# Check import sorting\nisort --check-only .\n\n# Sort imports in specific file\nisort src/main.py\n```\n\n### pylint (comprehensive linting)\n```bash\n# Run pylint on all files\npylint src/\n\n# Run with specific score threshold\npylint --fail-under=8.0 src/\n\n# Generate detailed report\npylint --output-format=html src/ > pylint_report.html\n```\n\n### mypy (type checking)\n```bash\n# Check types in all files\nmypy .\n\n# Check specific module\nmypy src/models.py\n\n# Check with strict mode\nmypy --strict src/\n```\n\n## Configuration Files\n\nMost projects benefit from configuration files:\n\n### .flake8\n```ini\n[flake8]\nmax-line-length = 88\nexclude = .git,__pycache__,venv\nignore = E203,W503\n```\n\n### pyproject.toml\n```toml\n[tool.black]\nline-length = 88\n\n[tool.isort]\nprofile = \"black\"\n```\n\n## Best Practices\n\n- Run linters before committing code\n- Use consistent formatting across the project\n- Fix linting issues promptly\n- Configure linters to match your team's style\n- Use type hints for better code documentation"
              },
              {
                "name": "/test",
                "description": null,
                "path": ".claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Runner\n\nRun Python tests with pytest, unittest, or other testing frameworks.\n\n## Purpose\n\nThis command helps you run Python tests effectively with proper configuration and reporting.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Detects test framework** (pytest, unittest, nose2)\n2. **Runs appropriate tests** with proper configuration\n3. **Provides coverage reporting** if available\n4. **Shows clear test results** with failure details\n\n## Example Commands\n\n### pytest (recommended)\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=src --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n\n# Run tests matching pattern\npytest -k \"test_user\"\n```\n\n### unittest\n```bash\n# Run all tests\npython -m unittest discover\n\n# Run specific test file\npython -m unittest tests.test_models\n\n# Run with verbose output\npython -m unittest -v\n```\n\n### Django tests\n```bash\n# Run all Django tests\npython manage.py test\n\n# Run specific app tests\npython manage.py test myapp\n\n# Run with coverage\ncoverage run --source='.' manage.py test\ncoverage report\n```\n\n## Best Practices\n\n- Write tests for all critical functionality\n- Use descriptive test names\n- Keep tests isolated and independent\n- Mock external dependencies\n- Aim for high test coverage (80%+)"
              },
              {
                "name": "/git-workflow",
                "description": null,
                "path": "cli-tool/templates/common/.claude/commands/git-workflow.md",
                "frontmatter": null,
                "content": "# Git Workflow Helper\n\nManage Git workflows with best practices and common operations.\n\n## Purpose\n\nThis command helps you perform common Git operations following best practices for collaborative development.\n\n## Usage\n\n```\n/git-workflow\n```\n\n## What this command does\n\n1. **Guides through Git operations** with proper workflow\n2. **Suggests best practices** for commits and branches\n3. **Helps with conflict resolution** and merging\n4. **Provides templates** for commit messages\n5. **Manages branching strategies** (Git Flow, GitHub Flow)\n\n## Common Workflows\n\n### Feature Development\n```bash\n# Create and switch to feature branch\ngit checkout -b feature/user-authentication\n\n# Work on your feature\n# ... make changes ...\n\n# Stage and commit changes\ngit add .\ngit commit -m \"feat: add user authentication system\n\n- Implement login/logout functionality\n- Add password validation\n- Create user session management\n- Add authentication middleware\"\n\n# Push feature branch\ngit push -u origin feature/user-authentication\n\n# Create pull request (via GitHub/GitLab interface)\n```\n\n### Hotfix Workflow\n```bash\n# Create hotfix branch from main\ngit checkout main\ngit checkout -b hotfix/security-patch\n\n# Fix the issue\n# ... make changes ...\n\n# Commit the fix\ngit commit -m \"fix: resolve security vulnerability in auth module\n\n- Patch XSS vulnerability in login form\n- Update input validation\n- Add CSRF protection\"\n\n# Push and create urgent PR\ngit push -u origin hotfix/security-patch\n```\n\n### Sync with Remote\n```bash\n# Update main branch\ngit checkout main\ngit pull origin main\n\n# Update feature branch with latest main\ngit checkout feature/your-feature\ngit rebase main\n# OR\ngit merge main\n```\n\n## Commit Message Conventions\n\n### Conventional Commits Format\n```\n<type>[optional scope]: <description>\n\n[optional body]\n\n[optional footer(s)]\n```\n\n### Common Types\n- **feat**: New feature\n- **fix**: Bug fix\n- **docs**: Documentation changes\n- **style**: Code style changes (formatting, etc.)\n- **refactor**: Code refactoring\n- **test**: Adding or updating tests\n- **chore**: Maintenance tasks\n\n### Examples\n```bash\n# Feature\ngit commit -m \"feat(auth): add OAuth2 integration\"\n\n# Bug fix\ngit commit -m \"fix(api): handle null response in user endpoint\"\n\n# Documentation\ngit commit -m \"docs: update API documentation for v2.0\"\n\n# Breaking change\ngit commit -m \"feat!: change API response format\n\nBREAKING CHANGE: API responses now use 'data' wrapper\"\n```\n\n## Branch Management\n\n### Git Flow Strategy\n```bash\n# Main branches\nmain        # Production-ready code\ndevelop     # Integration branch\n\n# Supporting branches\nfeature/*   # New features\nrelease/*   # Release preparation\nhotfix/*    # Quick fixes to production\n```\n\n### GitHub Flow (Simplified)\n```bash\n# Only main branch + feature branches\nmain        # Production-ready code\nfeature/*   # All new work\n```\n\n## Conflict Resolution\n\n### When Conflicts Occur\n```bash\n# Start merge/rebase\ngit merge feature-branch\n# OR\ngit rebase main\n\n# If conflicts occur, Git will list conflicted files\n# Edit each file to resolve conflicts\n\n# Mark conflicts as resolved\ngit add conflicted-file.js\n\n# Continue the merge/rebase\ngit merge --continue\n# OR\ngit rebase --continue\n```\n\n### Conflict Markers\n```javascript\n<<<<<<< HEAD\n// Your current branch code\nconst user = getCurrentUser();\n=======\n// Incoming branch code\nconst user = getAuthenticatedUser();\n>>>>>>> feature-branch\n```\n\n## Useful Git Commands\n\n### Status and Information\n```bash\ngit status                    # Check working directory status\ngit log --oneline            # View commit history\ngit branch -a                # List all branches\ngit remote -v                # List remote repositories\n```\n\n### Undoing Changes\n```bash\ngit checkout -- file.js     # Discard changes to file\ngit reset HEAD file.js       # Unstage file\ngit reset --soft HEAD~1     # Undo last commit (keep changes)\ngit reset --hard HEAD~1     # Undo last commit (discard changes)\n```\n\n### Stashing Work\n```bash\ngit stash                    # Save current work\ngit stash pop               # Apply and remove latest stash\ngit stash list              # List all stashes\ngit stash apply stash@{1}   # Apply specific stash\n```\n\n## Best Practices\n\n1. **Commit Often** - Make small, focused commits\n2. **Write Clear Messages** - Use conventional commit format\n3. **Test Before Committing** - Ensure code works\n4. **Pull Before Push** - Keep history clean\n5. **Use Branches** - Don't work directly on main\n6. **Review Code** - Use pull requests for collaboration\n7. **Keep History Clean** - Rebase feature branches when appropriate\n\n## Git Hooks (Optional)\n\n### Pre-commit Hook\n```bash\n#!/bin/sh\n# .git/hooks/pre-commit\n\n# Run linter\nnpm run lint\nif [ $? -ne 0 ]; then\n  echo \"Linting failed. Please fix errors before committing.\"\n  exit 1\nfi\n\n# Run tests\nnpm test\nif [ $? -ne 0 ]; then\n  echo \"Tests failed. Please fix tests before committing.\"\n  exit 1\nfi\n```\n\n### Commit Message Hook\n```bash\n#!/bin/sh\n# .git/hooks/commit-msg\n\n# Check commit message format\nif ! grep -qE \"^(feat|fix|docs|style|refactor|test|chore)(\\(.+\\))?: .{1,50}\" \"$1\"; then\n  echo \"Invalid commit message format. Use conventional commits.\"\n  exit 1\nfi\n```"
              },
              {
                "name": "/project-setup",
                "description": null,
                "path": "cli-tool/templates/common/.claude/commands/project-setup.md",
                "frontmatter": null,
                "content": "# Project Setup Helper\n\nSet up new projects with proper structure and best practices.\n\n## Purpose\n\nThis command helps you set up new projects with proper directory structure, configuration files, and development environment.\n\n## Usage\n\n```\n/project-setup\n```\n\n## What this command does\n\n1. **Creates project structure** with standard directories\n2. **Sets up configuration files** (.gitignore, README, etc.)\n3. **Initializes version control** and development tools\n4. **Configures environment files** and dependencies\n5. **Follows language-specific** conventions and best practices\n\n## Project Structure Templates\n\n### Generic Project Structure\n```\nproject-name/\n‚îú‚îÄ‚îÄ README.md                 # Project documentation\n‚îú‚îÄ‚îÄ .gitignore               # Git ignore rules\n‚îú‚îÄ‚îÄ .env.example             # Environment variables template\n‚îú‚îÄ‚îÄ LICENSE                  # Project license\n‚îú‚îÄ‚îÄ CHANGELOG.md             # Version history\n‚îú‚îÄ‚îÄ docs/                    # Documentation\n‚îÇ   ‚îú‚îÄ‚îÄ API.md\n‚îÇ   ‚îú‚îÄ‚îÄ CONTRIBUTING.md\n‚îÇ   ‚îî‚îÄ‚îÄ DEPLOYMENT.md\n‚îú‚îÄ‚îÄ src/                     # Source code\n‚îÇ   ‚îú‚îÄ‚îÄ main/\n‚îÇ   ‚îú‚îÄ‚îÄ utils/\n‚îÇ   ‚îî‚îÄ‚îÄ config/\n‚îú‚îÄ‚îÄ tests/                   # Test files\n‚îÇ   ‚îú‚îÄ‚îÄ unit/\n‚îÇ   ‚îú‚îÄ‚îÄ integration/\n‚îÇ   ‚îî‚îÄ‚îÄ fixtures/\n‚îú‚îÄ‚îÄ scripts/                 # Build and deployment scripts\n‚îÇ   ‚îú‚îÄ‚îÄ build.sh\n‚îÇ   ‚îú‚îÄ‚îÄ deploy.sh\n‚îÇ   ‚îî‚îÄ‚îÄ setup.sh\n‚îî‚îÄ‚îÄ config/                  # Configuration files\n    ‚îú‚îÄ‚îÄ development.yml\n    ‚îú‚îÄ‚îÄ production.yml\n    ‚îî‚îÄ‚îÄ testing.yml\n```\n\n### Web Application Structure\n```\nweb-app/\n‚îú‚îÄ‚îÄ public/                  # Static assets\n‚îÇ   ‚îú‚îÄ‚îÄ index.html\n‚îÇ   ‚îú‚îÄ‚îÄ favicon.ico\n‚îÇ   ‚îî‚îÄ‚îÄ assets/\n‚îÇ       ‚îú‚îÄ‚îÄ css/\n‚îÇ       ‚îú‚îÄ‚îÄ js/\n‚îÇ       ‚îî‚îÄ‚îÄ images/\n‚îú‚îÄ‚îÄ src/                     # Source code\n‚îÇ   ‚îú‚îÄ‚îÄ components/          # Reusable components\n‚îÇ   ‚îú‚îÄ‚îÄ pages/              # Page components\n‚îÇ   ‚îú‚îÄ‚îÄ services/           # API services\n‚îÇ   ‚îú‚îÄ‚îÄ utils/              # Utility functions\n‚îÇ   ‚îú‚îÄ‚îÄ styles/             # Stylesheets\n‚îÇ   ‚îî‚îÄ‚îÄ config/             # Configuration\n‚îú‚îÄ‚îÄ tests/                   # Test files\n‚îî‚îÄ‚îÄ build/                   # Build output\n```\n\n### API Project Structure\n```\napi-project/\n‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îú‚îÄ‚îÄ controllers/         # Request handlers\n‚îÇ   ‚îú‚îÄ‚îÄ models/             # Data models\n‚îÇ   ‚îú‚îÄ‚îÄ services/           # Business logic\n‚îÇ   ‚îú‚îÄ‚îÄ middleware/         # Custom middleware\n‚îÇ   ‚îú‚îÄ‚îÄ routes/             # API routes\n‚îÇ   ‚îú‚îÄ‚îÄ utils/              # Utility functions\n‚îÇ   ‚îî‚îÄ‚îÄ config/             # Configuration\n‚îú‚îÄ‚îÄ tests/\n‚îÇ   ‚îú‚îÄ‚îÄ unit/\n‚îÇ   ‚îú‚îÄ‚îÄ integration/\n‚îÇ   ‚îî‚îÄ‚îÄ e2e/\n‚îú‚îÄ‚îÄ docs/\n‚îÇ   ‚îú‚îÄ‚îÄ api-spec.yml        # OpenAPI specification\n‚îÇ   ‚îî‚îÄ‚îÄ README.md\n‚îî‚îÄ‚îÄ scripts/\n    ‚îú‚îÄ‚îÄ seed-db.js          # Database seeding\n    ‚îî‚îÄ‚îÄ migrate.js          # Database migrations\n```\n\n## Essential Configuration Files\n\n### .gitignore Template\n```gitignore\n# Dependencies\nnode_modules/\n*.log\nnpm-debug.log*\n\n# Environment files\n.env\n.env.local\n.env.production\n\n# Build outputs\ndist/\nbuild/\n*.tgz\n\n# IDE files\n.vscode/\n.idea/\n*.swp\n*.swo\n\n# OS files\n.DS_Store\nThumbs.db\n\n# Temporary files\n*.tmp\n*.temp\n```\n\n### README.md Template\n```markdown\n# Project Name\n\nBrief description of what this project does.\n\n## Features\n\n- Feature 1\n- Feature 2\n- Feature 3\n\n## Installation\n\n\\`\\`\\`bash\n# Clone the repository\ngit clone https://github.com/username/project-name.git\n\n# Install dependencies\nnpm install\n\n# Copy environment file\ncp .env.example .env\n\\`\\`\\`\n\n## Usage\n\n\\`\\`\\`bash\n# Start development server\nnpm run dev\n\n# Run tests\nnpm test\n\n# Build for production\nnpm run build\n\\`\\`\\`\n\n## API Documentation\n\n[API documentation](docs/API.md)\n\n## Contributing\n\nPlease read [CONTRIBUTING.md](docs/CONTRIBUTING.md) for details.\n\n## License\n\nThis project is licensed under the MIT License - see [LICENSE](LICENSE) file.\n```\n\n### .env.example Template\n```env\n# Application\nNODE_ENV=development\nPORT=3000\nHOST=localhost\n\n# Database\nDB_HOST=localhost\nDB_PORT=5432\nDB_NAME=myapp\nDB_USER=username\nDB_PASSWORD=password\n\n# API Keys\nAPI_KEY=your-api-key-here\nSECRET_KEY=your-secret-key-here\n\n# External Services\nREDIS_URL=redis://localhost:6379\nEMAIL_SERVICE_API_KEY=your-email-key\n```\n\n## Development Environment Setup\n\n### Package.json Scripts\n```json\n{\n  \"scripts\": {\n    \"start\": \"node src/index.js\",\n    \"dev\": \"nodemon src/index.js\",\n    \"test\": \"jest\",\n    \"test:watch\": \"jest --watch\",\n    \"test:coverage\": \"jest --coverage\",\n    \"lint\": \"eslint src/\",\n    \"lint:fix\": \"eslint src/ --fix\",\n    \"format\": \"prettier --write src/\",\n    \"build\": \"webpack --mode production\",\n    \"build:dev\": \"webpack --mode development\",\n    \"clean\": \"rm -rf dist/\"\n  }\n}\n```\n\n### Git Initialization\n```bash\n# Initialize Git repository\ngit init\n\n# Add initial files\ngit add .\n\n# Create initial commit\ngit commit -m \"feat: initial project setup\n\n- Add project structure\n- Configure development environment\n- Add documentation templates\n- Set up testing framework\"\n\n# Add remote origin\ngit remote add origin https://github.com/username/project-name.git\n\n# Push to remote\ngit push -u origin main\n```\n\n## Language-Specific Setup\n\n### Node.js/JavaScript\n```bash\nnpm init -y\nnpm install --save-dev nodemon jest eslint prettier\n```\n\n### Python\n```bash\npython -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\npip install -r requirements.txt\n```\n\n### Docker Setup\n```dockerfile\n# Dockerfile\nFROM node:16-alpine\nWORKDIR /app\nCOPY package*.json ./\nRUN npm install\nCOPY . .\nEXPOSE 3000\nCMD [\"npm\", \"start\"]\n```\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\nservices:\n  app:\n    build: .\n    ports:\n      - \"3000:3000\"\n    environment:\n      - NODE_ENV=development\n    volumes:\n      - .:/app\n      - /app/node_modules\n```\n\n## Best Practices\n\n1. **Consistent Structure** - Follow established conventions\n2. **Clear Documentation** - Write comprehensive README\n3. **Environment Variables** - Keep secrets out of code\n4. **Version Control** - Initialize Git from the start\n5. **Testing Setup** - Configure testing from day one\n6. **Code Quality** - Set up linting and formatting\n7. **CI/CD Ready** - Structure for automated deployment\n8. **Security** - Include security best practices\n\n## Checklist\n\n- [ ] Create project directory structure\n- [ ] Initialize version control (Git)\n- [ ] Set up package manager (npm, pip, etc.)\n- [ ] Create README.md with project info\n- [ ] Add .gitignore file\n- [ ] Set up environment variables\n- [ ] Configure linting and formatting\n- [ ] Set up testing framework\n- [ ] Create basic documentation\n- [ ] Add license file\n- [ ] Set up CI/CD configuration (if needed)"
              },
              {
                "name": "/api-endpoint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/api-endpoint.md",
                "frontmatter": null,
                "content": "# API Endpoint Generator\n\nGenerate a complete API endpoint for $ARGUMENTS following project conventions.\n\n## Task\n\nI'll analyze the project structure and create a new API endpoint with:\n\n1. Route definition\n2. Controller/handler function\n3. Input validation\n4. Service layer logic (if applicable)\n5. Data access layer (if applicable)\n6. Unit tests\n7. Documentation\n\n## Process\n\nI'll follow these steps:\n\n1. Examine the project structure to understand the architecture pattern\n2. Identify existing patterns for routes, controllers, and validation\n3. Create all necessary files following project conventions\n4. Implement the endpoint with proper error handling\n5. Add appropriate tests\n6. Document the new endpoint\n\n## Best Practices\n\nI'll ensure the implementation includes:\n\n- Strong typing with TypeScript\n- Comprehensive error handling\n- Input validation\n- Security considerations (authentication/authorization)\n- Proper logging\n- Performance considerations\n- Test coverage\n\n## Adaptability\n\nI'll adapt to various API architectures:\n\n- Express/Koa/Fastify REST APIs\n- GraphQL resolvers\n- Next.js/Nuxt.js API routes\n- Serverless functions\n- tRPC endpoints\n- NestJS controllers\n\nI'll examine your project first to determine which pattern to follow."
              },
              {
                "name": "/debug",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/debug.md",
                "frontmatter": null,
                "content": "# Debug Assistant\n\nHelp me debug the issue with $ARGUMENTS in this project.\n\n## Task\n\nI'll help you identify and fix the problem by:\n\n1. Understanding the issue description\n2. Analyzing relevant code\n3. Identifying potential causes\n4. Suggesting and implementing fixes\n5. Verifying the solution works\n\n## Process\n\nI'll follow these steps:\n\n1. Examine error messages, logs, or unexpected behaviors\n2. Locate relevant files and code sections\n3. Analyze the code flow and potential failure points\n4. Identify common JavaScript/TypeScript pitfalls that might apply\n5. Suggest specific fixes with explanations\n6. Help implement and test the solution\n\n## Debugging Techniques\n\nI'll apply appropriate debugging techniques such as:\n\n- Static code analysis to find syntax or type errors\n- Runtime error analysis from logs or stack traces\n- Control flow tracing to understand execution paths\n- State inspection to identify incorrect values\n- Dependency analysis to find version conflicts\n- Network request inspection for API issues\n- Browser console analysis for frontend problems\n- Database query inspection for data issues\n\n## Common Issues I Can Help With\n\n- Type errors and null/undefined issues\n- Asynchronous code problems (Promises, async/await)\n- React/Vue/Angular component lifecycle issues\n- API integration problems\n- State management bugs\n- Performance bottlenecks\n- Memory leaks\n- Build/compilation errors\n- Testing failures\n- Environment configuration issues\n\nI'll adapt my approach based on your specific project structure, frameworks, and the nature of the problem."
              },
              {
                "name": "/lint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Lint Assistant\n\nAnalyze and fix linting issues in $ARGUMENTS following project conventions.\n\n## Task\n\nI'll help you identify and fix code style and quality issues by:\n\n1. Running appropriate linters for the project\n2. Analyzing linting errors and warnings\n3. Fixing issues automatically when possible\n4. Explaining complex issues that require manual intervention\n5. Ensuring code follows project style guidelines\n\n## Process\n\nI'll follow these steps:\n\n1. Identify the linting tools used in the project (ESLint, Prettier, TSLint, etc.)\n2. Run the appropriate linting commands\n3. Parse and categorize the results\n4. Apply automatic fixes for common issues\n5. Provide explanations and suggestions for more complex problems\n6. Verify fixes don't introduce new issues\n\n## Common Linting Issues I Can Fix\n\n- Code style inconsistencies (spacing, indentation, quotes, etc.)\n- Unused variables and imports\n- Missing type annotations in TypeScript\n- Accessibility (a11y) issues in UI components\n- Potential bugs flagged by static analysis\n- Performance issues in React/Vue components\n- Security vulnerabilities detected by linters\n- Deprecated API usage\n- Import ordering problems\n- Missing documentation\n\n## Linting Tools I Can Work With\n\n- ESLint (with various plugins and configs)\n- Prettier\n- TSLint (legacy)\n- stylelint (for CSS/SCSS)\n- commitlint (for commit messages)\n- Custom lint rules specific to your project\n\nI'll adapt my approach based on your project's specific linting configuration and style guide requirements."
              },
              {
                "name": "/npm-scripts",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/npm-scripts.md",
                "frontmatter": null,
                "content": "# NPM Scripts Assistant\n\nHelp me with NPM scripts: $ARGUMENTS\n\n## Task\n\nI'll help you work with package.json scripts by:\n\n1. Analyzing existing npm scripts in your project\n2. Creating new scripts or modifying existing ones\n3. Explaining what specific scripts do\n4. Suggesting improvements or optimizations\n5. Troubleshooting script execution issues\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your package.json file to understand current scripts\n2. Analyze dependencies and devDependencies for available tools\n3. Identify common patterns and conventions in your scripts\n4. Implement requested changes or create new scripts\n5. Provide explanations of how the scripts work\n6. Test scripts when possible to verify functionality\n\n## Common Script Types I Can Help With\n\n- Build processes (webpack, rollup, esbuild, etc.)\n- Development servers and hot reloading\n- Testing (unit, integration, e2e)\n- Linting and code formatting\n- Type checking\n- Deployment and CI/CD\n- Database migrations\n- Code generation\n- Environment setup\n- Pre/post hooks for git operations\n\n## Script Optimization Techniques\n\n- Parallelizing tasks for faster execution\n- Adding cross-platform compatibility\n- Improving error reporting and logging\n- Implementing watch modes for development\n- Creating composite scripts for common workflows\n- Adding appropriate exit codes for CI/CD pipelines\n\nI'll adapt my approach based on your project's specific needs, dependencies, and build tools."
              },
              {
                "name": "/refactor",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/refactor.md",
                "frontmatter": null,
                "content": "# Code Refactoring Assistant\n\nRefactor $ARGUMENTS following modern JavaScript/TypeScript best practices.\n\n## Task\n\nI'll help you refactor code by:\n\n1. Analyzing the current implementation\n2. Identifying improvement opportunities\n3. Applying modern patterns and practices\n4. Maintaining existing functionality\n5. Ensuring type safety and test coverage\n6. Documenting the changes made\n\n## Process\n\nI'll follow these steps:\n\n1. Examine the code to understand its purpose and structure\n2. Identify code smells, anti-patterns, or outdated approaches\n3. Plan the refactoring strategy with clear goals\n4. Implement changes incrementally while maintaining behavior\n5. Verify refactored code with tests\n6. Document improvements and benefits\n\n## Refactoring Techniques\n\nI can apply various refactoring techniques:\n\n- Converting to modern JavaScript/TypeScript features\n- Improving type definitions and type safety\n- Extracting reusable functions and components\n- Applying design patterns appropriately\n- Converting callbacks to Promises or async/await\n- Simplifying complex conditionals and loops\n- Removing duplicate code\n- Improving naming and readability\n- Optimizing performance\n- Enhancing error handling\n\n## Modern Practices I Can Apply\n\n- ES modules and import/export syntax\n- Optional chaining and nullish coalescing\n- Array and object destructuring\n- Spread and rest operators\n- Template literals\n- Arrow functions\n- Class fields and private methods\n- TypeScript utility types\n- Functional programming patterns\n- React hooks (for React components)\n\nI'll ensure the refactored code maintains compatibility with your project's requirements while improving quality and maintainability."
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Assistant\n\nHelp with tests for $ARGUMENTS following project conventions and testing best practices.\n\n## Task\n\nI'll help you with testing by:\n\n1. Creating comprehensive test suites for your code\n2. Implementing different types of tests (unit, integration, e2e)\n3. Mocking dependencies and external services\n4. Improving test coverage for existing code\n5. Troubleshooting failing tests\n6. Setting up testing infrastructure\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your project to understand testing frameworks and patterns\n2. Analyze the code to be tested to understand its functionality\n3. Identify appropriate testing strategies and edge cases\n4. Implement tests with proper structure and assertions\n5. Ensure tests are maintainable and follow best practices\n6. Run tests to verify they pass and provide adequate coverage\n\n## Testing Frameworks I Can Work With\n\n- Jest, Vitest, Mocha, Jasmine for JavaScript/TypeScript\n- React Testing Library, Enzyme for React components\n- Cypress, Playwright, Puppeteer for E2E testing\n- Supertest, Pactum for API testing\n- Storybook for component testing\n- Testing-library family for various frameworks\n\n## Testing Techniques\n\nI can implement various testing approaches:\n\n- TDD (Test-Driven Development)\n- BDD (Behavior-Driven Development)\n- Snapshot testing\n- Property-based testing\n- Parameterized tests\n- Contract testing\n- Visual regression testing\n- Performance testing\n\n## Mocking Strategies\n\nI can help with different mocking approaches:\n\n- Function mocks and spies\n- Module mocks\n- HTTP request mocking\n- Browser API mocking\n- Timer mocking\n- Database mocking\n- Service worker mocking\n\nI'll adapt to your project's specific testing frameworks, patterns, and conventions to ensure consistency with your existing codebase."
              },
              {
                "name": "/typescript-migrate",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/typescript-migrate.md",
                "frontmatter": null,
                "content": "# TypeScript Migration Assistant\n\nMigrate $ARGUMENTS from JavaScript to TypeScript with proper typing and modern practices.\n\n## Task\n\nI'll help you migrate JavaScript code to TypeScript by:\n\n1. Converting JavaScript files to TypeScript (.js/.jsx to .ts/.tsx)\n2. Adding appropriate type definitions and interfaces\n3. Configuring TypeScript settings for your project\n4. Resolving type errors and compatibility issues\n5. Implementing modern TypeScript patterns and features\n6. Ensuring backward compatibility with existing code\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your project structure and dependencies\n2. Analyze the JavaScript code to understand its functionality\n3. Create or update tsconfig.json with appropriate settings\n4. Convert files to TypeScript with proper type annotations\n5. Add necessary type definitions for libraries\n6. Fix type errors and implement type safety\n7. Refactor code to leverage TypeScript features\n\n## TypeScript Features I Can Implement\n\n- Interfaces and type aliases for complex data structures\n- Generics for reusable, type-safe components and functions\n- Union and intersection types for flexible typing\n- Enums for related constants\n- Utility types (Partial, Pick, Omit, etc.)\n- Type guards and type narrowing\n- Mapped and conditional types\n- Function overloading\n- Readonly properties and immutability\n- Module augmentation for extending third-party types\n\n## Migration Strategies\n\nI can apply different migration approaches based on your needs:\n\n- Gradual migration with allowJs and incremental adoption\n- File-by-file conversion while maintaining functionality\n- Comprehensive migration with full type safety\n- Hybrid approach with .d.ts files for complex modules\n- Integration with existing type definitions (@types packages)\n\nI'll adapt to your project's specific requirements and ensure a smooth transition to TypeScript while maintaining existing functionality."
              },
              {
                "name": "/components",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/angular-app/.claude/commands/components.md",
                "frontmatter": null,
                "content": "# Angular Components\n\nCreate Angular components for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Angular components based on the requirements:\n\n1. **Analyze existing components**: Check current component patterns, naming conventions, and folder organization\n2. **Examine Angular setup**: Review project structure, module organization, and TypeScript configuration\n3. **Identify component type**: Determine the component category:\n   - Presentation components (dumb/pure components)\n   - Container components (smart components with state)\n   - Feature components (business logic components)\n   - Shared/UI components (reusable across features)\n   - Layout components (structural components)\n4. **Check dependencies**: Review existing components and shared modules to avoid duplication\n5. **Implement component**: Create component with proper TypeScript types and lifecycle hooks\n6. **Add inputs/outputs**: Define @Input and @Output properties with proper typing\n7. **Create template**: Build HTML template with proper Angular directives and bindings\n8. **Add styles**: Implement component styles following project's styling approach\n9. **Create tests**: Write comprehensive unit tests with TestBed and proper mocking\n10. **Update module**: Register component in appropriate Angular module\n\n## Implementation Requirements\n\n- Follow project's Angular architecture and naming conventions\n- Use proper component lifecycle hooks (OnInit, OnDestroy, etc.)\n- Include comprehensive TypeScript interfaces for inputs and outputs\n- Implement proper change detection strategy (OnPush when possible)\n- Add proper subscription management with takeUntil or async pipe\n- Follow Angular style guide and project coding standards\n- Consider component performance and memory management\n\n## Component Patterns to Consider\n\nBased on the request:\n- **Smart Components**: Container components that manage state and services\n- **Dumb Components**: Presentation components that only receive inputs\n- **Feature Components**: Components specific to business features\n- **Shared Components**: Reusable UI components across the application\n- **Form Components**: Reactive forms with validation and custom controls\n- **Data Display**: Components for tables, lists, cards with proper data binding\n\n## Angular-Specific Implementation\n\n- **Template Syntax**: Proper use of Angular directives (*ngFor, *ngIf, etc.)\n- **Data Binding**: Property binding, event binding, two-way binding\n- **Change Detection**: OnPush strategy for performance optimization\n- **Lifecycle Management**: Proper use of lifecycle hooks\n- **Dependency Injection**: Service injection in component constructors\n- **Testing**: TestBed configuration with proper mocking and spies\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same styling approach and class naming as existing components\n- Follow project's folder structure for components (usually feature-based)\n- Don't install new dependencies without asking\n- Consider component reusability and single responsibility principle\n- Add proper TypeScript types for all component properties and methods\n- Use trackBy functions for performance in *ngFor loops\n- Implement proper unsubscription patterns to prevent memory leaks"
              },
              {
                "name": "/services",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/angular-app/.claude/commands/services.md",
                "frontmatter": null,
                "content": "# Angular Services\n\nCreate Angular services for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Angular services based on the requirements:\n\n1. **Analyze existing services**: Check current service patterns, naming conventions, and folder organization\n2. **Examine Angular setup**: Review project structure, dependency injection patterns, and TypeScript configuration\n3. **Identify service type**: Determine the service category:\n   - Data services (HTTP API calls, state management)\n   - Utility services (validation, formatting, helpers)\n   - Business logic services (calculations, workflows)\n   - Infrastructure services (logging, authentication, error handling)\n   - Feature services (component-specific logic)\n4. **Check dependencies**: Review existing services and shared modules to avoid duplication\n5. **Implement service**: Create service with proper dependency injection and TypeScript types\n6. **Add error handling**: Include comprehensive error handling with RxJS operators\n7. **Create tests**: Write unit tests with proper mocking following project patterns\n8. **Update module registration**: Register service in appropriate Angular modules\n\n## Implementation Requirements\n\n- Follow project's Angular architecture and naming conventions (usually .service.ts)\n- Use proper dependency injection with @Injectable decorator\n- Include comprehensive TypeScript interfaces and types\n- Implement proper RxJS patterns (observables, operators, error handling)\n- Add proper error handling and logging integration\n- Follow single responsibility principle for service design\n- Consider service lifecycle and singleton patterns\n\n## Service Patterns to Consider\n\nBased on the request:\n- **HTTP Data Services**: API calls with proper error handling and caching\n- **State Management**: Services for sharing data between components\n- **Authentication**: User authentication, token management, guards\n- **Business Logic**: Complex calculations, workflows, validations\n- **Utility Services**: Reusable functions, formatters, validators\n- **Feature Services**: Component-specific logic extraction\n- **Infrastructure**: Logging, monitoring, configuration services\n\n## Angular-Specific Implementation\n\n- **Dependency Injection**: Proper use of @Injectable and providedIn\n- **RxJS Integration**: Observables, subjects, operators for reactive programming\n- **HTTP Client**: Angular HttpClient for API communication\n- **Error Handling**: Global error handling and user-friendly error messages\n- **Testing**: TestBed, jasmine, karma for comprehensive unit testing\n- **Module Organization**: Feature modules, shared modules, core modules\n\n## Important Notes\n\n- ALWAYS examine existing services first to understand project patterns\n- Use the same error handling and response patterns as existing services\n- Follow project's folder structure for services (usually /services or /core)\n- Don't install new dependencies without asking\n- Consider service performance and memory management\n- Add proper RxJS subscription management to prevent memory leaks\n- Use Angular's built-in services (HttpClient, Router) rather than external libraries\n- Include proper TypeScript types for all service methods and properties"
              },
              {
                "name": "/api-endpoint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/api-endpoint.md",
                "frontmatter": null,
                "content": "# API Endpoint Generator\n\nGenerate a complete API endpoint for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate a new API endpoint with all necessary components:\n\n1. **Analyze project architecture**: Examine existing API structure, patterns, and conventions\n2. **Identify framework**: Determine if using Express, Fastify, NestJS, Next.js API routes, or other framework\n3. **Check authentication**: Review existing auth patterns and middleware usage\n4. **Examine data layer**: Identify database/ORM patterns (Prisma, TypeORM, Mongoose, etc.)\n5. **Create endpoint structure**: Generate route, controller, validation, and service layers\n6. **Implement business logic**: Add core functionality with proper error handling\n7. **Add validation**: Include input validation using project's validation library\n8. **Create tests**: Write unit and integration tests following project patterns\n9. **Update documentation**: Add endpoint documentation (OpenAPI/Swagger if used)\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing middleware patterns for auth, validation, logging\n- Include proper HTTP status codes and error responses\n- Add comprehensive input validation and sanitization\n- Implement proper logging and monitoring\n- Consider rate limiting and security headers\n- Follow project's database transaction patterns\n\n## Framework-Specific Patterns\n\nI'll adapt to your project's framework:\n- **Express**: Routes, controllers, middleware\n- **Fastify**: Routes, handlers, schemas, plugins\n- **NestJS**: Controllers, services, DTOs, guards\n- **Next.js**: API routes with proper HTTP methods\n- **tRPC**: Procedures with input/output validation\n- **GraphQL**: Resolvers with proper type definitions\n\n## Important Notes\n\n- ALWAYS examine existing endpoints first to understand project patterns\n- Use the same error handling and response format as existing endpoints\n- Follow project's folder structure and naming conventions\n- Don't install new dependencies without asking\n- Consider backward compatibility if modifying existing endpoints\n- Add proper database migrations if schema changes are needed"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# Database Operations\n\nSet up database operations for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize database operations based on the requirements:\n\n1. **Analyze existing database setup**: Check current database configuration, ORM/ODM, and connection patterns\n2. **Identify database type**: Determine if using MongoDB, PostgreSQL, MySQL, or other database\n3. **Examine ORM/ODM**: Check for Prisma, TypeORM, Mongoose, Sequelize, or raw SQL patterns\n4. **Review existing models**: Understand current schema patterns and relationships\n5. **Check migration system**: Identify migration tools and patterns in use\n6. **Implement operations**: Create models, repositories, or services following project architecture\n7. **Add validation**: Include proper schema validation and constraints\n8. **Create tests**: Write database operation tests following project patterns\n9. **Update migrations**: Add necessary database migrations if schema changes required\n\n## Implementation Requirements\n\n- Follow project's database architecture patterns\n- Use existing ORM/ODM configuration and connection setup\n- Include proper TypeScript types for all database operations\n- Add comprehensive error handling and transaction management\n- Implement proper indexing for performance\n- Follow project's naming conventions for tables/collections and fields\n- Consider data validation at both application and database levels\n\n## Database Patterns to Consider\n\nBased on your project setup:\n- **Repository Pattern**: Separate data access logic from business logic\n- **Active Record**: Models with built-in database operations\n- **Data Mapper**: Separate domain models from database schema\n- **Query Builder**: Fluent interface for building database queries\n- **Raw SQL**: Direct database queries for complex operations\n\n## Operation Types\n\nCommon database operations to implement:\n- **CRUD operations**: Create, Read, Update, Delete\n- **Bulk operations**: Batch inserts, updates, deletes\n- **Aggregation**: Complex queries with grouping and calculations\n- **Relationships**: Managing foreign keys and joins\n- **Transactions**: Ensuring data consistency\n- **Migrations**: Schema changes and data transformations\n\n## Important Notes\n\n- ALWAYS examine existing database setup first to understand project patterns\n- Use the same connection configuration and environment variables\n- Follow project's folder structure for models/schemas\n- Don't install new database dependencies without asking\n- Consider performance implications (indexes, query optimization)\n- Add proper database connection pooling if not already configured\n- Include proper cleanup and connection closing in tests"
              },
              {
                "name": "/middleware",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/middleware.md",
                "frontmatter": null,
                "content": "# Express Middleware\n\nCreate Express middleware for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Express middleware based on the requirements:\n\n1. **Analyze existing middleware**: Check current middleware patterns, naming conventions, and file organization\n2. **Examine Express setup**: Review app configuration, middleware stack order, and TypeScript usage\n3. **Identify middleware type**: Determine the middleware category:\n   - Authentication/Authorization (JWT, sessions, role-based)\n   - Validation (request body, params, query validation)\n   - Logging (request/response logging, audit trails)\n   - Error handling (global error handlers, custom errors)\n   - Security (CORS, rate limiting, helmet)\n   - Utility (parsing, compression, static files)\n4. **Check dependencies**: Review existing middleware dependencies to avoid duplication\n5. **Implement middleware**: Create middleware with proper TypeScript types and error handling\n6. **Test middleware**: Write unit and integration tests following project patterns\n7. **Update middleware stack**: Integrate middleware into Express app configuration\n8. **Add documentation**: Include JSDoc comments and usage examples\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing error handling patterns and response formats\n- Include proper request/response typing with custom interfaces\n- Add comprehensive error handling and logging\n- Consider middleware execution order and dependencies\n- Implement proper async/await patterns for async middleware\n- Follow project's folder structure for middleware files\n\n## Middleware Patterns to Consider\n\nBased on the request:\n- **Authentication**: JWT verification, session management, API key validation\n- **Authorization**: Role-based access control, permission checking\n- **Validation**: Schema validation with Joi/Zod, sanitization\n- **Logging**: Request logging, performance monitoring, audit trails\n- **Error Handling**: Global error handlers, custom error classes\n- **Security**: CORS configuration, rate limiting, input sanitization\n- **Utility**: Request parsing, response formatting, caching\n\n## Integration Considerations\n\n- **Middleware order**: Ensure proper execution sequence in Express app\n- **Error propagation**: Handle errors correctly with next() function\n- **Request enhancement**: Add properties to request object with proper typing\n- **Response modification**: Modify response objects while maintaining type safety\n- **Performance**: Consider middleware performance impact on request processing\n\n## Important Notes\n\n- ALWAYS examine existing middleware first to understand project patterns\n- Use the same error handling and response format as existing middleware\n- Follow project's folder structure for middleware (usually /middleware)\n- Don't install new dependencies without asking\n- Consider middleware performance and request processing impact\n- Add proper TypeScript types for enhanced request/response objects\n- Test middleware in isolation and integration contexts"
              },
              {
                "name": "/route",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/route.md",
                "frontmatter": null,
                "content": "# Route Creator\n\nCreate API routes for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize API routes based on the requirements:\n\n1. **Analyze project structure**: Check existing route patterns, folder organization, and framework setup\n2. **Examine framework**: Identify if using Express, Fastify, NestJS, or other Node.js framework\n3. **Review existing routes**: Understand current routing patterns, validation, and error handling\n4. **Check authentication**: Review existing auth middleware and protection patterns\n5. **Define route structure**: Determine HTTP methods, path parameters, and request/response schemas\n6. **Implement routes**: Create route handlers with proper validation and error handling\n7. **Add middleware**: Include authentication, validation, and logging middleware as needed\n8. **Create tests**: Write route tests following project testing patterns\n9. **Update route registration**: Integrate new routes into main router configuration\n\n## Implementation Requirements\n\n- Follow project's routing architecture and naming conventions\n- Use existing validation libraries (Joi, Zod, class-validator, etc.)\n- Include proper TypeScript types for request/response objects\n- Add comprehensive error handling with appropriate HTTP status codes\n- Implement proper authentication/authorization if required\n- Follow RESTful conventions unless project uses different patterns\n- Add proper logging and monitoring integration\n\n## Route Patterns to Consider\n\nBased on the request:\n- **CRUD operations**: Create, Read, Update, Delete for resources\n- **RESTful endpoints**: GET, POST, PUT, PATCH, DELETE with proper semantics\n- **Nested resources**: Parent/child resource relationships\n- **Batch operations**: Bulk create, update, delete operations\n- **Search/filtering**: Query parameters for filtering and pagination\n- **File uploads**: Multipart form handling for file operations\n- **Webhook endpoints**: External service integration points\n\n## Framework-Specific Implementation\n\nAdapt to your project's framework:\n- **Express**: Router instances, middleware chains, route handlers\n- **Fastify**: Route plugins, schema validation, hooks\n- **NestJS**: Controllers, decorators, DTOs, guards, interceptors\n- **Koa**: Router middleware, context handling\n- **Next.js API**: API route handlers with proper HTTP methods\n\n## Important Notes\n\n- ALWAYS examine existing routes first to understand project patterns\n- Use the same validation and error handling patterns as existing routes\n- Follow project's folder structure for routes (usually /routes or /controllers)\n- Don't install new dependencies without asking\n- Consider route performance and database query optimization\n- Add proper OpenAPI/Swagger documentation if project uses it\n- Include rate limiting for public endpoints where appropriate"
              },
              {
                "name": "/component",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/component.md",
                "frontmatter": null,
                "content": "# React Component Generator\n\nCreate a React component named $ARGUMENTS following project conventions.\n\n## Steps\n\n1. **Analyze project structure**: Check existing components to understand file organization, naming conventions, and patterns\n2. **Examine styling approach**: Identify CSS/SCSS modules, styled-components, Tailwind, or other styling methods used\n3. **Review testing patterns**: Check existing test files to understand testing framework and conventions\n4. **Create component structure**: Generate appropriate files (component, styles, tests, index)\n5. **Implement component**: Write TypeScript/JavaScript with proper props interface and logic\n6. **Add tests**: Write comprehensive tests following project patterns\n7. **Verify integration**: Ensure component works with existing project setup\n\n## Requirements\n\n- Follow existing project file structure and naming conventions\n- Use TypeScript if project uses it\n- Include proper accessibility attributes\n- Add responsive design considerations\n- Write tests that match project testing patterns\n- Include usage examples in component documentation\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same styling approach as the rest of the project\n- Follow the project's TypeScript conventions for props and interfaces\n- Don't install new dependencies without asking first"
              },
              {
                "name": "/hooks",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/hooks.md",
                "frontmatter": null,
                "content": "# React Hooks\n\nCreate or optimize React hooks for $ARGUMENTS following project conventions.\n\n## Task\n\nAnalyze the request and create appropriate React hooks:\n\n1. **Examine existing hooks**: Check project for existing custom hooks patterns and conventions\n2. **Identify hook type**: Determine if creating new custom hook, optimizing existing hook, or implementing specific hook pattern\n3. **Check TypeScript usage**: Verify if project uses TypeScript and follow typing conventions\n4. **Implement hook**: Create hook with proper:\n   - Naming convention (use prefix)\n   - TypeScript types and interfaces\n   - Proper dependency arrays\n   - Error handling\n   - Performance optimizations\n5. **Add tests**: Create comprehensive unit tests using project's testing framework\n6. **Add documentation**: Include JSDoc comments and usage examples\n\n## Common Hook Patterns\n\nWhen creating hooks, consider these patterns based on the request:\n- **Data fetching**: API calls, loading states, error handling\n- **State management**: Local state, derived state, state persistence\n- **Side effects**: Event listeners, timers, subscriptions\n- **Context consumption**: Theme, auth, app state\n- **Form handling**: Input management, validation, submission\n- **Performance**: Memoization, debouncing, throttling\n\n## Requirements\n\n- Follow existing project hook conventions\n- Use TypeScript if project uses it\n- Include proper cleanup in useEffect\n- Add error boundaries where appropriate\n- Write tests that cover all hook functionality\n- IMPORTANT: Always check existing hooks first to understand project patterns\n\n## Notes\n\n- Ask for clarification if the hook requirements are ambiguous\n- Suggest optimizations for existing hooks if relevant\n- Consider accessibility implications for UI-related hooks"
              },
              {
                "name": "/state-management",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/state-management.md",
                "frontmatter": null,
                "content": "# React State Management\n\nImplement state management solution for $ARGUMENTS following project conventions.\n\n## Task\n\nSet up or optimize state management based on the requirements:\n\n1. **Analyze current setup**: Check existing state management approach and project structure\n2. **Determine solution**: Based on requirements, choose appropriate state management:\n   - Context API for simple, localized state\n   - Redux Toolkit for complex, global state\n   - Zustand for lightweight global state\n   - Custom hooks for component-level state\n3. **Examine dependencies**: Check package.json for existing state management libraries\n4. **Implement solution**: Create store, providers, and hooks with proper TypeScript types\n5. **Set up middleware**: Add devtools, persistence, or other middleware as needed\n6. **Create typed hooks**: Generate properly typed selectors and dispatch hooks\n7. **Add tests**: Write unit tests for state logic and reducers\n8. **Update providers**: Integrate with app's provider hierarchy\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions\n- Use existing state management patterns if present\n- Create proper type definitions for state shape\n- Include error handling and loading states\n- Add proper debugging setup (devtools)\n- Consider performance optimizations (selectors, memoization)\n\n## State Management Selection Guide\n\nChoose based on complexity:\n- **Simple state**: React hooks + Context API\n- **Medium complexity**: Zustand or custom hooks\n- **Complex state**: Redux Toolkit with RTK Query\n- **Form state**: React Hook Form or Formik\n\n## Important Notes\n\n- ALWAYS check existing state management first\n- Don't install new dependencies without asking\n- Follow project's folder structure for state files\n- Consider server state vs client state separation\n- Add proper TypeScript types for all state interfaces"
              },
              {
                "name": "/components",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/vue-app/.claude/commands/components.md",
                "frontmatter": null,
                "content": "# Vue Components\n\nCreate Vue Single File Components for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Vue components based on the requirements:\n\n1. **Analyze project structure**: Check existing Vue components to understand patterns, conventions, and file organization\n2. **Examine Vue setup**: Identify Vue version (2/3), TypeScript usage, and Composition/Options API preference\n3. **Check styling approach**: Determine if using CSS modules, SCSS, styled-components, or other styling methods\n4. **Review testing patterns**: Check existing component tests to understand testing framework and conventions\n5. **Create component structure**: Generate SFC with template, script, and style sections\n6. **Implement component**: Write TypeScript interfaces, props, emits, and component logic\n7. **Add accessibility**: Include proper ARIA attributes and semantic HTML\n8. **Create tests**: Write comprehensive component tests following project patterns\n9. **Add documentation**: Include JSDoc comments and usage examples\n\n## Component Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing component patterns and naming conventions\n- Implement proper props validation and typing\n- Add appropriate event emissions with TypeScript signatures\n- Include scoped styles following project's styling approach\n- Add proper accessibility attributes (ARIA, semantic HTML)\n- Consider responsive design if applicable\n\n## Vue Patterns to Consider\n\nBased on the component type:\n- **Composition API**: For Vue 3 projects with `<script setup>`\n- **Options API**: For Vue 2 or legacy Vue 3 projects\n- **Composables**: Extract reusable logic into composables\n- **Provide/Inject**: For deep component communication\n- **Slots**: For flexible component content\n- **Teleport**: For portal-like functionality (Vue 3)\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same Vue API style (Composition vs Options) as the project\n- Follow project's folder structure for components\n- Don't install new dependencies without asking\n- Consider component performance (v-memo, computed properties)\n- Add proper TypeScript types for all props and emits"
              },
              {
                "name": "/composables",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/vue-app/.claude/commands/composables.md",
                "frontmatter": null,
                "content": "# Vue Composables\n\nCreate Vue composables for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Vue composables based on the requirements:\n\n1. **Analyze existing composables**: Check project for existing composable patterns, naming conventions, and file organization\n2. **Examine Vue setup**: Verify Vue 3 Composition API usage and TypeScript configuration\n3. **Identify composable type**: Determine the composable category:\n   - State management (reactive data, computed properties)\n   - API/HTTP operations (data fetching, mutations)\n   - DOM interactions (event listeners, element refs)\n   - Utility functions (validation, formatting, storage)\n   - Lifecycle management (cleanup, watchers)\n4. **Check dependencies**: Review existing composables to avoid duplication\n5. **Implement composable**: Create composable with proper TypeScript types and reactivity\n6. **Add lifecycle management**: Include proper cleanup with onUnmounted when needed\n7. **Create tests**: Write comprehensive unit tests for composable logic\n8. **Add documentation**: Include JSDoc comments and usage examples\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use appropriate Vue reactivity APIs (ref, reactive, computed, watch)\n- Include proper error handling and loading states\n- Add cleanup for side effects (event listeners, timers, subscriptions)\n- Make composables reusable and focused on single responsibility\n- Consider performance implications (shallow vs deep reactivity)\n\n## Common Composable Patterns\n\nBased on the request:\n- **Data fetching**: API calls with loading/error states\n- **Form handling**: Input management, validation, submission\n- **State management**: Local state, persistence, computed values\n- **DOM utilities**: Element refs, event handling, intersection observer\n- **Storage**: localStorage, sessionStorage, IndexedDB\n- **Authentication**: User state, token management, permissions\n- **UI utilities**: Dark mode, responsive breakpoints, modals\n\n## Important Notes\n\n- ALWAYS examine existing composables first to understand project patterns\n- Use proper Vue 3 Composition API patterns\n- Follow project's folder structure for composables (usually /composables)\n- Don't install new dependencies without asking\n- Consider composable composition (using other composables within composables)\n- Add proper TypeScript return types and generic constraints\n- Include proper reactivity patterns (avoid losing reactivity)"
              },
              {
                "name": "/lint",
                "description": null,
                "path": "cli-tool/templates/python/.claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Python Linter\n\nRun Python code linting and formatting tools.\n\n## Purpose\n\nThis command helps you maintain code quality using Python's best linting and formatting tools.\n\n## Usage\n\n```\n/lint\n```\n\n## What this command does\n\n1. **Runs multiple linters** (flake8, pylint, black, isort)\n2. **Provides detailed feedback** on code quality issues\n3. **Auto-fixes formatting** where possible\n4. **Checks type hints** if mypy is configured\n\n## Example Commands\n\n### Black (code formatting)\n```bash\n# Format all Python files\nblack .\n\n# Check formatting without changing files\nblack --check .\n\n# Format specific file\nblack src/main.py\n```\n\n### flake8 (style guide enforcement)\n```bash\n# Check all Python files\nflake8 .\n\n# Check specific directory\nflake8 src/\n\n# Check with specific rules\nflake8 --max-line-length=88 .\n```\n\n### isort (import sorting)\n```bash\n# Sort imports in all files\nisort .\n\n# Check import sorting\nisort --check-only .\n\n# Sort imports in specific file\nisort src/main.py\n```\n\n### pylint (comprehensive linting)\n```bash\n# Run pylint on all files\npylint src/\n\n# Run with specific score threshold\npylint --fail-under=8.0 src/\n\n# Generate detailed report\npylint --output-format=html src/ > pylint_report.html\n```\n\n### mypy (type checking)\n```bash\n# Check types in all files\nmypy .\n\n# Check specific module\nmypy src/models.py\n\n# Check with strict mode\nmypy --strict src/\n```\n\n## Configuration Files\n\nMost projects benefit from configuration files:\n\n### .flake8\n```ini\n[flake8]\nmax-line-length = 88\nexclude = .git,__pycache__,venv\nignore = E203,W503\n```\n\n### pyproject.toml\n```toml\n[tool.black]\nline-length = 88\n\n[tool.isort]\nprofile = \"black\"\n```\n\n## Best Practices\n\n- Run linters before committing code\n- Use consistent formatting across the project\n- Fix linting issues promptly\n- Configure linters to match your team's style\n- Use type hints for better code documentation"
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/python/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Runner\n\nRun Python tests with pytest, unittest, or other testing frameworks.\n\n## Purpose\n\nThis command helps you run Python tests effectively with proper configuration and reporting.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Detects test framework** (pytest, unittest, nose2)\n2. **Runs appropriate tests** with proper configuration\n3. **Provides coverage reporting** if available\n4. **Shows clear test results** with failure details\n\n## Example Commands\n\n### pytest (recommended)\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=src --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n\n# Run tests matching pattern\npytest -k \"test_user\"\n```\n\n### unittest\n```bash\n# Run all tests\npython -m unittest discover\n\n# Run specific test file\npython -m unittest tests.test_models\n\n# Run with verbose output\npython -m unittest -v\n```\n\n### Django tests\n```bash\n# Run all Django tests\npython manage.py test\n\n# Run specific app tests\npython manage.py test myapp\n\n# Run with coverage\ncoverage run --source='.' manage.py test\ncoverage report\n```\n\n## Best Practices\n\n- Write tests for all critical functionality\n- Use descriptive test names\n- Keep tests isolated and independent\n- Mock external dependencies\n- Aim for high test coverage (80%+)"
              },
              {
                "name": "/admin",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/admin.md",
                "frontmatter": null,
                "content": "# Django Admin Configuration\n\nConfigure Django admin interface with custom admin classes and functionality.\n\n## Purpose\n\nThis command helps you create comprehensive Django admin configurations with advanced features and customizations.\n\n## Usage\n\n```\n/admin\n```\n\n## What this command does\n\n1. **Registers models** with custom admin classes\n2. **Creates advanced admin interfaces** with filtering, search, and actions\n3. **Adds inline editing** for related models\n4. **Customizes list displays** and forms\n5. **Implements admin actions** for bulk operations\n\n## Example Output\n\n```python\n# admin.py\nfrom django.contrib import admin\nfrom django.utils.html import format_html\nfrom django.urls import reverse\nfrom django.utils.safestring import mark_safe\nfrom .models import Post, Category, Tag, Comment\n\n@admin.register(Category)\nclass CategoryAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Category model.\"\"\"\n    list_display = ['name', 'slug', 'post_count', 'created_at']\n    list_filter = ['created_at']\n    search_fields = ['name', 'description']\n    prepopulated_fields = {'slug': ('name',)}\n    readonly_fields = ['created_at', 'updated_at']\n    \n    def post_count(self, obj):\n        \"\"\"Display number of posts in this category.\"\"\"\n        count = obj.posts.count()\n        url = reverse('admin:blog_post_changelist') + f'?category__id__exact={obj.id}'\n        return format_html('<a href=\"{}\">{} posts</a>', url, count)\n    post_count.short_description = 'Posts'\n\nclass CommentInline(admin.TabularInline):\n    \"\"\"Inline admin for comments.\"\"\"\n    model = Comment\n    extra = 0\n    readonly_fields = ['created_at', 'author']\n    fields = ['author', 'content', 'is_approved', 'created_at']\n\n@admin.register(Post)\nclass PostAdmin(admin.ModelAdmin):\n    \"\"\"Advanced admin configuration for Post model.\"\"\"\n    list_display = [\n        'title', \n        'author', \n        'category', \n        'status', \n        'view_count',\n        'created_at',\n        'post_preview'\n    ]\n    list_filter = [\n        'status', \n        'category', \n        'created_at', \n        'updated_at',\n        ('author', admin.RelatedOnlyFieldListFilter)\n    ]\n    search_fields = ['title', 'content', 'author__username']\n    prepopulated_fields = {'slug': ('title',)}\n    readonly_fields = ['created_at', 'updated_at', 'view_count', 'post_preview']\n    \n    # Custom form layout\n    fieldsets = (\n        ('Content', {\n            'fields': ('title', 'slug', 'content', 'status')\n        }),\n        ('Metadata', {\n            'fields': ('author', 'category', 'tags'),\n            'classes': ('collapse',)\n        }),\n        ('SEO', {\n            'fields': ('meta_description', 'meta_keywords'),\n            'classes': ('collapse',)\n        }),\n        ('Timestamps', {\n            'fields': ('created_at', 'updated_at', 'view_count'),\n            'classes': ('collapse',)\n        }),\n    )\n    \n    # Many-to-many field display\n    filter_horizontal = ['tags']\n    \n    # Inline models\n    inlines = [CommentInline]\n    \n    # Custom list display methods\n    def post_preview(self, obj):\n        \"\"\"Show thumbnail preview of post.\"\"\"\n        if obj.featured_image:\n            return format_html(\n                '<img src=\"{}\" width=\"50\" height=\"50\" style=\"border-radius: 5px;\" />',\n                obj.featured_image.url\n            )\n        return \"No image\"\n    post_preview.short_description = 'Preview'\n    \n    # Custom admin actions\n    actions = ['make_published', 'make_draft', 'duplicate_posts']\n    \n    def make_published(self, request, queryset):\n        \"\"\"Bulk action to publish selected posts.\"\"\"\n        updated = queryset.update(status='published')\n        self.message_user(\n            request, \n            f'{updated} posts were successfully marked as published.'\n        )\n    make_published.short_description = \"Mark selected posts as published\"\n    \n    def make_draft(self, request, queryset):\n        \"\"\"Bulk action to set selected posts as draft.\"\"\"\n        updated = queryset.update(status='draft')\n        self.message_user(\n            request, \n            f'{updated} posts were successfully marked as draft.'\n        )\n    make_draft.short_description = \"Mark selected posts as draft\"\n    \n    def duplicate_posts(self, request, queryset):\n        \"\"\"Bulk action to duplicate selected posts.\"\"\"\n        count = 0\n        for post in queryset:\n            post.pk = None  # Create new instance\n            post.title = f\"Copy of {post.title}\"\n            post.slug = f\"copy-of-{post.slug}\"\n            post.status = 'draft'\n            post.save()\n            count += 1\n        \n        self.message_user(\n            request,\n            f'{count} posts were successfully duplicated.'\n        )\n    duplicate_posts.short_description = \"Duplicate selected posts\"\n\n@admin.register(Tag)\nclass TagAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Tag model.\"\"\"\n    list_display = ['name', 'slug', 'post_count', 'color_preview']\n    search_fields = ['name']\n    prepopulated_fields = {'slug': ('name',)}\n    \n    def post_count(self, obj):\n        \"\"\"Display number of posts with this tag.\"\"\"\n        return obj.posts.count()\n    post_count.short_description = 'Posts'\n    \n    def color_preview(self, obj):\n        \"\"\"Show color preview if tag has color field.\"\"\"\n        if hasattr(obj, 'color') and obj.color:\n            return format_html(\n                '<span style=\"background-color: {}; padding: 2px 8px; border-radius: 3px; color: white;\">{}</span>',\n                obj.color,\n                obj.name\n            )\n        return obj.name\n    color_preview.short_description = 'Preview'\n\n@admin.register(Comment)\nclass CommentAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Comment model.\"\"\"\n    list_display = ['author', 'post', 'content_preview', 'is_approved', 'created_at']\n    list_filter = ['is_approved', 'created_at', 'post__category']\n    search_fields = ['content', 'author__username', 'post__title']\n    readonly_fields = ['created_at', 'updated_at']\n    actions = ['approve_comments', 'disapprove_comments']\n    \n    def content_preview(self, obj):\n        \"\"\"Show truncated content preview.\"\"\"\n        return obj.content[:50] + \"...\" if len(obj.content) > 50 else obj.content\n    content_preview.short_description = 'Content'\n    \n    def approve_comments(self, request, queryset):\n        \"\"\"Bulk approve comments.\"\"\"\n        updated = queryset.update(is_approved=True)\n        self.message_user(request, f'{updated} comments were approved.')\n    approve_comments.short_description = \"Approve selected comments\"\n    \n    def disapprove_comments(self, request, queryset):\n        \"\"\"Bulk disapprove comments.\"\"\"\n        updated = queryset.update(is_approved=False)\n        self.message_user(request, f'{updated} comments were disapproved.')\n    disapprove_comments.short_description = \"Disapprove selected comments\"\n\n# Custom admin site configuration\nadmin.site.site_header = \"Blog Administration\"\nadmin.site.site_title = \"Blog Admin Portal\"\nadmin.site.index_title = \"Welcome to Blog Administration\"\n```\n\n## Advanced Features\n\n### Custom List Display\n- **Thumbnail previews** for images\n- **Related object counts** with links\n- **Status indicators** with colors\n- **Custom formatting** for data display\n\n### Filtering and Search\n- **Advanced filters** including date ranges\n- **Related field filtering** for foreign keys\n- **Search across multiple fields** including relations\n- **Custom filter classes** for complex queries\n\n### Inline Editing\n- **TabularInline** for compact editing\n- **StackedInline** for detailed forms\n- **Custom inline forms** with additional functionality\n- **Readonly fields** in inlines\n\n### Bulk Actions\n- **Status changes** for multiple objects\n- **Data export** functionality\n- **Batch operations** for efficiency\n- **Custom business logic** in actions\n\n### Form Customization\n- **Fieldsets** for organized layouts\n- **Collapsed sections** for advanced options\n- **Custom widgets** for better UX\n- **Validation** and error handling\n\n## Security Considerations\n\n- **Permission checks** in custom methods\n- **Input sanitization** in admin actions\n- **CSRF protection** (automatic)\n- **User authentication** (built-in)\n\n## Performance Optimization\n\n```python\n# Optimize queries with select_related/prefetch_related\nclass PostAdmin(admin.ModelAdmin):\n    def get_queryset(self, request):\n        queryset = super().get_queryset(request)\n        return queryset.select_related('author', 'category').prefetch_related('tags')\n```\n\n## Custom Admin Templates\n\n```python\n# Override admin templates\nclass PostAdmin(admin.ModelAdmin):\n    change_form_template = 'admin/blog/post/change_form.html'\n    change_list_template = 'admin/blog/post/change_list.html'\n```"
              },
              {
                "name": "/django-model",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/django-model.md",
                "frontmatter": null,
                "content": "# Django Model Generator\n\nCreate Django models with proper structure and relationships.\n\n## Purpose\n\nThis command helps you quickly create Django models with fields, relationships, and best practices.\n\n## Usage\n\n```\n/django-model\n```\n\n## What this command does\n\n1. **Creates model classes** with proper field definitions\n2. **Adds relationships** (ForeignKey, ManyToMany, OneToOne)\n3. **Includes meta options** and model methods\n4. **Generates migrations** automatically\n5. **Follows Django conventions** and best practices\n\n## Example Output\n\n```python\n# models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass Category(models.Model):\n    name = models.CharField(max_length=100, unique=True)\n    slug = models.SlugField(unique=True)\n    description = models.TextField(blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    \n    class Meta:\n        verbose_name_plural = \"categories\"\n        ordering = ['name']\n    \n    def __str__(self):\n        return self.name\n\nclass Post(models.Model):\n    STATUS_CHOICES = [\n        ('draft', 'Draft'),\n        ('published', 'Published'),\n        ('archived', 'Archived'),\n    ]\n    \n    title = models.CharField(max_length=200)\n    slug = models.SlugField(unique=True)\n    content = models.TextField()\n    status = models.CharField(max_length=20, choices=STATUS_CHOICES, default='draft')\n    author = models.ForeignKey(User, on_delete=models.CASCADE, related_name='posts')\n    category = models.ForeignKey(Category, on_delete=models.SET_NULL, null=True, blank=True)\n    tags = models.ManyToManyField('Tag', blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    \n    class Meta:\n        ordering = ['-created_at']\n        verbose_name = 'blog post'\n        verbose_name_plural = 'blog posts'\n    \n    def __str__(self):\n        return self.title\n    \n    def get_absolute_url(self):\n        return reverse('post_detail', kwargs={'slug': self.slug})\n\nclass Tag(models.Model):\n    name = models.CharField(max_length=50, unique=True)\n    slug = models.SlugField(unique=True)\n    \n    def __str__(self):\n        return self.name\n```\n\n## Field Types Supported\n\n- **CharField** - Text fields with max length\n- **TextField** - Large text fields\n- **IntegerField** - Integer numbers\n- **FloatField** - Floating point numbers\n- **BooleanField** - True/False values\n- **DateField** - Date only\n- **DateTimeField** - Date and time\n- **EmailField** - Email addresses\n- **URLField** - URLs\n- **ImageField** - Image uploads\n- **FileField** - File uploads\n- **JSONField** - JSON data (PostgreSQL)\n\n## Relationships\n\n- **ForeignKey** - One-to-many relationships\n- **ManyToManyField** - Many-to-many relationships\n- **OneToOneField** - One-to-one relationships\n\n## Best Practices Included\n\n- Proper field choices and defaults\n- Appropriate related_name attributes\n- __str__ methods for admin interface\n- Meta class with ordering and verbose names\n- get_absolute_url methods where appropriate\n- Proper use of null and blank parameters\n- Field validation and constraints\n\n## After Creating Models\n\n```bash\n# Create and apply migrations\npython manage.py makemigrations\npython manage.py migrate\n\n# Register in admin (optional)\n# Add to admin.py:\nfrom django.contrib import admin\nfrom .models import Post, Category, Tag\n\nadmin.site.register([Post, Category, Tag])\n```"
              },
              {
                "name": "/views",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/views.md",
                "frontmatter": null,
                "content": "# Django Views Generator\n\nCreate Django views with proper structure and best practices.\n\n## Purpose\n\nThis command helps you quickly create Django views (Function-Based Views and Class-Based Views) following Django conventions.\n\n## Usage\n\n```\n/views\n```\n\n## What this command does\n\n1. **Creates view functions/classes** with proper structure\n2. **Handles HTTP methods** (GET, POST, PUT, DELETE)\n3. **Includes form handling** and validation\n4. **Adds authentication/authorization** checks\n5. **Follows Django best practices** and security guidelines\n\n## Example Output\n\n```python\n# views.py\nfrom django.shortcuts import render, get_object_or_404, redirect\nfrom django.contrib.auth.decorators import login_required\nfrom django.contrib import messages\nfrom django.http import JsonResponse\nfrom django.views.generic import ListView, DetailView, CreateView, UpdateView, DeleteView\nfrom django.contrib.auth.mixins import LoginRequiredMixin\nfrom django.urls import reverse_lazy\nfrom .models import Post, Category\nfrom .forms import PostForm\n\n# Function-Based Views\ndef post_list(request):\n    \"\"\"Display list of posts with pagination and filtering.\"\"\"\n    posts = Post.objects.filter(status='published').select_related('author', 'category')\n    \n    # Search functionality\n    search_query = request.GET.get('search')\n    if search_query:\n        posts = posts.filter(title__icontains=search_query)\n    \n    # Category filtering\n    category_id = request.GET.get('category')\n    if category_id:\n        posts = posts.filter(category_id=category_id)\n    \n    context = {\n        'posts': posts,\n        'categories': Category.objects.all(),\n        'search_query': search_query,\n    }\n    return render(request, 'blog/post_list.html', context)\n\ndef post_detail(request, slug):\n    \"\"\"Display individual post details.\"\"\"\n    post = get_object_or_404(Post, slug=slug, status='published')\n    \n    context = {\n        'post': post,\n        'related_posts': Post.objects.filter(\n            category=post.category,\n            status='published'\n        ).exclude(id=post.id)[:3]\n    }\n    return render(request, 'blog/post_detail.html', context)\n\n@login_required\ndef post_create(request):\n    \"\"\"Create new post.\"\"\"\n    if request.method == 'POST':\n        form = PostForm(request.POST, request.FILES)\n        if form.is_valid():\n            post = form.save(commit=False)\n            post.author = request.user\n            post.save()\n            form.save_m2m()  # Save many-to-many relationships\n            messages.success(request, 'Post created successfully!')\n            return redirect('post_detail', slug=post.slug)\n    else:\n        form = PostForm()\n    \n    return render(request, 'blog/post_form.html', {'form': form})\n\n@login_required\ndef post_edit(request, slug):\n    \"\"\"Edit existing post.\"\"\"\n    post = get_object_or_404(Post, slug=slug, author=request.user)\n    \n    if request.method == 'POST':\n        form = PostForm(request.POST, request.FILES, instance=post)\n        if form.is_valid():\n            form.save()\n            messages.success(request, 'Post updated successfully!')\n            return redirect('post_detail', slug=post.slug)\n    else:\n        form = PostForm(instance=post)\n    \n    return render(request, 'blog/post_form.html', {\n        'form': form, \n        'post': post\n    })\n\n# Class-Based Views\nclass PostListView(ListView):\n    \"\"\"List view for posts with pagination.\"\"\"\n    model = Post\n    template_name = 'blog/post_list.html'\n    context_object_name = 'posts'\n    paginate_by = 10\n    \n    def get_queryset(self):\n        return Post.objects.filter(status='published').select_related('author', 'category')\n    \n    def get_context_data(self, **kwargs):\n        context = super().get_context_data(**kwargs)\n        context['categories'] = Category.objects.all()\n        return context\n\nclass PostDetailView(DetailView):\n    \"\"\"Detail view for individual posts.\"\"\"\n    model = Post\n    template_name = 'blog/post_detail.html'\n    context_object_name = 'post'\n    \n    def get_queryset(self):\n        return Post.objects.filter(status='published')\n\nclass PostCreateView(LoginRequiredMixin, CreateView):\n    \"\"\"Create view for new posts.\"\"\"\n    model = Post\n    form_class = PostForm\n    template_name = 'blog/post_form.html'\n    \n    def form_valid(self, form):\n        form.instance.author = self.request.user\n        return super().form_valid(form)\n\nclass PostUpdateView(LoginRequiredMixin, UpdateView):\n    \"\"\"Update view for existing posts.\"\"\"\n    model = Post\n    form_class = PostForm\n    template_name = 'blog/post_form.html'\n    \n    def get_queryset(self):\n        return Post.objects.filter(author=self.request.user)\n\nclass PostDeleteView(LoginRequiredMixin, DeleteView):\n    \"\"\"Delete view for posts.\"\"\"\n    model = Post\n    template_name = 'blog/post_confirm_delete.html'\n    success_url = reverse_lazy('post_list')\n    \n    def get_queryset(self):\n        return Post.objects.filter(author=self.request.user)\n\n# API Views\ndef api_post_list(request):\n    \"\"\"API endpoint for post list.\"\"\"\n    posts = Post.objects.filter(status='published').values(\n        'id', 'title', 'slug', 'created_at', 'author__username'\n    )\n    return JsonResponse(list(posts), safe=False)\n```\n\n## View Types Supported\n\n- **Function-Based Views (FBV)** - Simple, explicit control\n- **Class-Based Views (CBV)** - Reusable, inheritance-based\n- **Generic Views** - ListView, DetailView, CreateView, etc.\n- **API Views** - JSON responses for AJAX/API calls\n\n## Features Included\n\n- **Authentication checks** with decorators/mixins\n- **Permission handling** for user authorization\n- **Form processing** with validation\n- **Error handling** and user feedback\n- **SEO-friendly URLs** with slugs\n- **Database optimization** with select_related/prefetch_related\n- **Pagination** for large datasets\n- **Search and filtering** functionality\n\n## Security Best Practices\n\n- CSRF protection (automatic with forms)\n- User authentication and authorization\n- SQL injection prevention (ORM)\n- XSS protection with template escaping\n- Proper error handling\n\n## URL Configuration\n\n```python\n# urls.py\nfrom django.urls import path\nfrom . import views\n\napp_name = 'blog'\n\nurlpatterns = [\n    # Function-based views\n    path('', views.post_list, name='post_list'),\n    path('post/<slug:slug>/', views.post_detail, name='post_detail'),\n    path('create/', views.post_create, name='post_create'),\n    path('edit/<slug:slug>/', views.post_edit, name='post_edit'),\n    \n    # Class-based views\n    path('posts/', views.PostListView.as_view(), name='post_list_cbv'),\n    path('posts/<slug:slug>/', views.PostDetailView.as_view(), name='post_detail_cbv'),\n    path('posts/create/', views.PostCreateView.as_view(), name='post_create_cbv'),\n    path('posts/<slug:slug>/edit/', views.PostUpdateView.as_view(), name='post_edit_cbv'),\n    path('posts/<slug:slug>/delete/', views.PostDeleteView.as_view(), name='post_delete_cbv'),\n    \n    # API endpoints\n    path('api/posts/', views.api_post_list, name='api_post_list'),\n]\n```"
              },
              {
                "name": "/api-endpoints",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/api-endpoints.md",
                "frontmatter": null,
                "content": "# FastAPI Endpoints Generator\n\nCreate comprehensive FastAPI endpoints with proper structure, validation, and documentation.\n\n## Purpose\n\nThis command helps you quickly create FastAPI endpoints with Pydantic models, dependency injection, and automatic API documentation.\n\n## Usage\n\n```\n/api-endpoints\n```\n\n## What this command does\n\n1. **Creates API endpoints** with proper HTTP methods\n2. **Adds Pydantic models** for request/response validation\n3. **Implements dependency injection** for database and auth\n4. **Includes error handling** and status codes\n5. **Generates automatic documentation** with OpenAPI\n\n## Example Output\n\n```python\n# main.py\nfrom fastapi import FastAPI, Depends, HTTPException, status\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom fastapi.security import HTTPBearer, HTTPAuthorizationCredentials\nfrom sqlalchemy.orm import Session\nimport uvicorn\n\nfrom app.database import get_db, engine\nfrom app.models import models\nfrom app.routers import auth, users, posts, comments\nfrom app.core.config import settings\n\n# Create database tables\nmodels.Base.metadata.create_all(bind=engine)\n\n# Initialize FastAPI app\napp = FastAPI(\n    title=\"Blog API\",\n    description=\"A comprehensive blog API built with FastAPI\",\n    version=\"1.0.0\",\n    docs_url=\"/docs\",\n    redoc_url=\"/redoc\"\n)\n\n# Add CORS middleware\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=settings.ALLOWED_HOSTS,\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n\n# Include routers\napp.include_router(auth.router, prefix=\"/auth\", tags=[\"Authentication\"])\napp.include_router(users.router, prefix=\"/users\", tags=[\"Users\"])\napp.include_router(posts.router, prefix=\"/posts\", tags=[\"Posts\"])\napp.include_router(comments.router, prefix=\"/comments\", tags=[\"Comments\"])\n\n@app.get(\"/\", tags=[\"Root\"])\nasync def root():\n    \"\"\"API root endpoint.\"\"\"\n    return {\n        \"message\": \"Welcome to Blog API\",\n        \"version\": \"1.0.0\",\n        \"docs\": \"/docs\",\n        \"redoc\": \"/redoc\"\n    }\n\n@app.get(\"/health\", tags=[\"Health\"])\nasync def health_check():\n    \"\"\"Health check endpoint.\"\"\"\n    return {\"status\": \"healthy\", \"timestamp\": \"2024-01-01T00:00:00Z\"}\n\nif __name__ == \"__main__\":\n    uvicorn.run(\n        \"main:app\",\n        host=\"0.0.0.0\",\n        port=8000,\n        reload=True\n    )\n```\n\n```python\n# app/routers/posts.py\nfrom typing import List, Optional\nfrom fastapi import APIRouter, Depends, HTTPException, status, Query\nfrom sqlalchemy.orm import Session\n\nfrom app.database import get_db\nfrom app.schemas import post_schemas\nfrom app.services import post_service\nfrom app.core.dependencies import get_current_user, get_current_active_user\nfrom app.models.user import User\n\nrouter = APIRouter()\n\n@router.get(\"/\", response_model=List[post_schemas.PostResponse])\nasync def get_posts(\n    skip: int = Query(0, ge=0, description=\"Number of posts to skip\"),\n    limit: int = Query(10, ge=1, le=100, description=\"Number of posts to return\"),\n    search: Optional[str] = Query(None, description=\"Search in title and content\"),\n    category: Optional[str] = Query(None, description=\"Filter by category\"),\n    published: Optional[bool] = Query(True, description=\"Filter by published status\"),\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get all posts with pagination and filtering.\n    \n    - **skip**: Number of posts to skip (for pagination)\n    - **limit**: Maximum number of posts to return (1-100)\n    - **search**: Search term for title and content\n    - **category**: Filter posts by category\n    - **published**: Filter by published status\n    \"\"\"\n    posts = post_service.get_posts(\n        db=db,\n        skip=skip,\n        limit=limit,\n        search=search,\n        category=category,\n        published=published\n    )\n    return posts\n\n@router.get(\"/{post_id}\", response_model=post_schemas.PostResponse)\nasync def get_post(\n    post_id: int,\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get a specific post by ID.\n    \n    - **post_id**: Unique identifier for the post\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    return post\n\n@router.post(\"/\", response_model=post_schemas.PostResponse, status_code=status.HTTP_201_CREATED)\nasync def create_post(\n    post: post_schemas.PostCreate,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Create a new post.\n    \n    - **title**: Post title (required)\n    - **content**: Post content (required)\n    - **category**: Post category (optional)\n    - **published**: Publication status (default: false)\n    \"\"\"\n    return post_service.create_post(\n        db=db,\n        post=post,\n        user_id=current_user.id\n    )\n\n@router.put(\"/{post_id}\", response_model=post_schemas.PostResponse)\nasync def update_post(\n    post_id: int,\n    post_update: post_schemas.PostUpdate,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Update an existing post.\n    \n    - **post_id**: Unique identifier for the post\n    - **title**: Updated post title (optional)\n    - **content**: Updated post content (optional)\n    - **category**: Updated post category (optional)\n    - **published**: Updated publication status (optional)\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    if post.author_id != current_user.id:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not authorized to update this post\"\n        )\n    \n    return post_service.update_post(\n        db=db,\n        post_id=post_id,\n        post_update=post_update\n    )\n\n@router.delete(\"/{post_id}\", status_code=status.HTTP_204_NO_CONTENT)\nasync def delete_post(\n    post_id: int,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Delete a post.\n    \n    - **post_id**: Unique identifier for the post to delete\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    if post.author_id != current_user.id:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not authorized to delete this post\"\n        )\n    \n    post_service.delete_post(db=db, post_id=post_id)\n\n@router.post(\"/{post_id}/like\", response_model=post_schemas.PostResponse)\nasync def like_post(\n    post_id: int,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Like/unlike a post.\n    \n    - **post_id**: Unique identifier for the post to like\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    return post_service.toggle_like(\n        db=db,\n        post_id=post_id,\n        user_id=current_user.id\n    )\n\n@router.get(\"/{post_id}/comments\", response_model=List[post_schemas.CommentResponse])\nasync def get_post_comments(\n    post_id: int,\n    skip: int = Query(0, ge=0),\n    limit: int = Query(10, ge=1, le=100),\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get all comments for a specific post.\n    \n    - **post_id**: Unique identifier for the post\n    - **skip**: Number of comments to skip\n    - **limit**: Maximum number of comments to return\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    return post_service.get_post_comments(\n        db=db,\n        post_id=post_id,\n        skip=skip,\n        limit=limit\n    )\n```\n\n```python\n# app/schemas/post_schemas.py\nfrom typing import Optional, List\nfrom datetime import datetime\nfrom pydantic import BaseModel, Field, validator\n\nclass PostBase(BaseModel):\n    \"\"\"Base post schema.\"\"\"\n    title: str = Field(..., min_length=1, max_length=200, description=\"Post title\")\n    content: str = Field(..., min_length=1, description=\"Post content\")\n    category: Optional[str] = Field(None, max_length=50, description=\"Post category\")\n    published: bool = Field(False, description=\"Publication status\")\n\nclass PostCreate(PostBase):\n    \"\"\"Schema for creating a post.\"\"\"\n    \n    @validator('title')\n    def validate_title(cls, v):\n        if not v.strip():\n            raise ValueError('Title cannot be empty')\n        return v.strip()\n    \n    @validator('content')\n    def validate_content(cls, v):\n        if len(v.strip()) < 10:\n            raise ValueError('Content must be at least 10 characters long')\n        return v.strip()\n\nclass PostUpdate(BaseModel):\n    \"\"\"Schema for updating a post.\"\"\"\n    title: Optional[str] = Field(None, min_length=1, max_length=200)\n    content: Optional[str] = Field(None, min_length=1)\n    category: Optional[str] = Field(None, max_length=50)\n    published: Optional[bool] = None\n    \n    @validator('title')\n    def validate_title(cls, v):\n        if v is not None and not v.strip():\n            raise ValueError('Title cannot be empty')\n        return v.strip() if v else v\n    \n    @validator('content')\n    def validate_content(cls, v):\n        if v is not None and len(v.strip()) < 10:\n            raise ValueError('Content must be at least 10 characters long')\n        return v.strip() if v else v\n\nclass PostResponse(PostBase):\n    \"\"\"Schema for post responses.\"\"\"\n    id: int\n    author_id: int\n    created_at: datetime\n    updated_at: datetime\n    like_count: int = 0\n    comment_count: int = 0\n    \n    class Config:\n        from_attributes = True\n\nclass CommentBase(BaseModel):\n    \"\"\"Base comment schema.\"\"\"\n    content: str = Field(..., min_length=1, max_length=1000, description=\"Comment content\")\n\nclass CommentCreate(CommentBase):\n    \"\"\"Schema for creating a comment.\"\"\"\n    post_id: int = Field(..., description=\"ID of the post to comment on\")\n\nclass CommentResponse(CommentBase):\n    \"\"\"Schema for comment responses.\"\"\"\n    id: int\n    post_id: int\n    author_id: int\n    created_at: datetime\n    updated_at: datetime\n    \n    class Config:\n        from_attributes = True\n```\n\n```python\n# app/services/post_service.py\nfrom typing import List, Optional\nfrom sqlalchemy.orm import Session\nfrom sqlalchemy import or_\n\nfrom app.models.post import Post, Comment, PostLike\nfrom app.schemas.post_schemas import PostCreate, PostUpdate\n\ndef get_posts(\n    db: Session,\n    skip: int = 0,\n    limit: int = 10,\n    search: Optional[str] = None,\n    category: Optional[str] = None,\n    published: Optional[bool] = True\n) -> List[Post]:\n    \"\"\"Get posts with filtering and pagination.\"\"\"\n    query = db.query(Post)\n    \n    if published is not None:\n        query = query.filter(Post.published == published)\n    \n    if category:\n        query = query.filter(Post.category == category)\n    \n    if search:\n        query = query.filter(\n            or_(\n                Post.title.contains(search),\n                Post.content.contains(search)\n            )\n        )\n    \n    return query.offset(skip).limit(limit).all()\n\ndef get_post(db: Session, post_id: int) -> Optional[Post]:\n    \"\"\"Get a single post by ID.\"\"\"\n    return db.query(Post).filter(Post.id == post_id).first()\n\ndef create_post(db: Session, post: PostCreate, user_id: int) -> Post:\n    \"\"\"Create a new post.\"\"\"\n    db_post = Post(**post.dict(), author_id=user_id)\n    db.add(db_post)\n    db.commit()\n    db.refresh(db_post)\n    return db_post\n\ndef update_post(\n    db: Session,\n    post_id: int,\n    post_update: PostUpdate\n) -> Optional[Post]:\n    \"\"\"Update an existing post.\"\"\"\n    db_post = db.query(Post).filter(Post.id == post_id).first()\n    if not db_post:\n        return None\n    \n    update_data = post_update.dict(exclude_unset=True)\n    for field, value in update_data.items():\n        setattr(db_post, field, value)\n    \n    db.commit()\n    db.refresh(db_post)\n    return db_post\n\ndef delete_post(db: Session, post_id: int) -> bool:\n    \"\"\"Delete a post.\"\"\"\n    db_post = db.query(Post).filter(Post.id == post_id).first()\n    if not db_post:\n        return False\n    \n    db.delete(db_post)\n    db.commit()\n    return True\n\ndef toggle_like(db: Session, post_id: int, user_id: int) -> Post:\n    \"\"\"Toggle like status for a post.\"\"\"\n    existing_like = db.query(PostLike).filter(\n        PostLike.post_id == post_id,\n        PostLike.user_id == user_id\n    ).first()\n    \n    if existing_like:\n        db.delete(existing_like)\n    else:\n        new_like = PostLike(post_id=post_id, user_id=user_id)\n        db.add(new_like)\n    \n    db.commit()\n    return get_post(db, post_id)\n```\n\n## Features Included\n\n### API Documentation\n- **Automatic OpenAPI** schema generation\n- **Interactive docs** at `/docs`\n- **ReDoc documentation** at `/redoc`\n- **Request/Response examples** in schemas\n\n### Validation & Serialization\n- **Pydantic models** for data validation\n- **Custom validators** for business rules\n- **Type hints** for better IDE support\n- **Automatic data conversion** and validation\n\n### Error Handling\n- **HTTP status codes** for different scenarios\n- **Detailed error messages** with context\n- **Input validation errors** with field-specific messages\n- **Custom exception handlers** for consistent responses\n\n### Security\n- **JWT authentication** with dependencies\n- **Role-based access control** for endpoints\n- **CORS middleware** for cross-origin requests\n- **Input sanitization** through Pydantic\n\n### Performance\n- **Database query optimization** with SQLAlchemy\n- **Pagination support** for large datasets\n- **Async/await support** for concurrent requests\n- **Connection pooling** for database efficiency\n\n## Testing Example\n\n```python\n# tests/test_posts.py\nimport pytest\nfrom fastapi.testclient import TestClient\nfrom app.main import app\n\nclient = TestClient(app)\n\ndef test_get_posts():\n    \"\"\"Test getting posts.\"\"\"\n    response = client.get(\"/posts/\")\n    assert response.status_code == 200\n    assert isinstance(response.json(), list)\n\ndef test_create_post():\n    \"\"\"Test creating a new post.\"\"\"\n    post_data = {\n        \"title\": \"Test Post\",\n        \"content\": \"This is a test post content.\",\n        \"published\": True\n    }\n    response = client.post(\"/posts/\", json=post_data)\n    assert response.status_code == 201\n    assert response.json()[\"title\"] == \"Test Post\"\n```"
              },
              {
                "name": "/auth",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/auth.md",
                "frontmatter": null,
                "content": "# FastAPI Authentication & Authorization\n\nComplete authentication system with JWT tokens, OAuth2, and role-based access control.\n\n## Usage\n\n```bash\n# Install auth dependencies\npip install python-jose[cryptography] passlib[bcrypt] python-multipart\n\n# Generate secret key\nopenssl rand -hex 32\n```\n\n## JWT Configuration\n\n```python\n# app/core/security.py\nfrom datetime import datetime, timedelta\nfrom typing import Optional, Union, Any\nfrom jose import JWTError, jwt\nfrom passlib.context import CryptContext\nfrom app.core.config import settings\n\n# Password hashing\npwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\n# JWT settings\nSECRET_KEY = settings.SECRET_KEY\nALGORITHM = \"HS256\"\nACCESS_TOKEN_EXPIRE_MINUTES = 30\nREFRESH_TOKEN_EXPIRE_DAYS = 7\n\ndef create_access_token(\n    subject: Union[str, Any], \n    expires_delta: Optional[timedelta] = None\n) -> str:\n    \"\"\"Create JWT access token.\"\"\"\n    if expires_delta:\n        expire = datetime.utcnow() + expires_delta\n    else:\n        expire = datetime.utcnow() + timedelta(minutes=ACCESS_TOKEN_EXPIRE_MINUTES)\n    \n    to_encode = {\"exp\": expire, \"sub\": str(subject), \"type\": \"access\"}\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n    return encoded_jwt\n\ndef create_refresh_token(subject: Union[str, Any]) -> str:\n    \"\"\"Create JWT refresh token.\"\"\"\n    expire = datetime.utcnow() + timedelta(days=REFRESH_TOKEN_EXPIRE_DAYS)\n    to_encode = {\"exp\": expire, \"sub\": str(subject), \"type\": \"refresh\"}\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n    return encoded_jwt\n\ndef verify_password(plain_password: str, hashed_password: str) -> bool:\n    \"\"\"Verify password against hash.\"\"\"\n    return pwd_context.verify(plain_password, hashed_password)\n\ndef get_password_hash(password: str) -> str:\n    \"\"\"Generate password hash.\"\"\"\n    return pwd_context.hash(password)\n\ndef decode_token(token: str) -> Optional[dict]:\n    \"\"\"Decode and verify JWT token.\"\"\"\n    try:\n        payload = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])\n        return payload\n    except JWTError:\n        return None\n```\n\n## Authentication Dependencies\n\n```python\n# app/api/dependencies/auth.py\nfrom typing import Optional\nfrom fastapi import Depends, HTTPException, status\nfrom fastapi.security import OAuth2PasswordBearer, HTTPBearer, HTTPAuthorizationCredentials\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.core.security import decode_token\nfrom app.db.database import get_db\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\n\n# OAuth2 scheme\noauth2_scheme = OAuth2PasswordBearer(\n    tokenUrl=\"/api/v1/auth/login\",\n    scheme_name=\"JWT\"\n)\n\n# Bearer token scheme\nsecurity = HTTPBearer()\n\nasync def get_current_user(\n    token: str = Depends(oauth2_scheme),\n    db: AsyncSession = Depends(get_db)\n) -> User:\n    \"\"\"Get current authenticated user.\"\"\"\n    credentials_exception = HTTPException(\n        status_code=status.HTTP_401_UNAUTHORIZED,\n        detail=\"Could not validate credentials\",\n        headers={\"WWW-Authenticate\": \"Bearer\"},\n    )\n    \n    payload = decode_token(token)\n    if payload is None:\n        raise credentials_exception\n    \n    user_id: str = payload.get(\"sub\")\n    token_type: str = payload.get(\"type\")\n    \n    if user_id is None or token_type != \"access\":\n        raise credentials_exception\n    \n    user_repo = UserRepository(User, db)\n    user = await user_repo.get(int(user_id))\n    \n    if user is None:\n        raise credentials_exception\n    \n    if not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    \n    return user\n\nasync def get_current_active_user(\n    current_user: User = Depends(get_current_user)\n) -> User:\n    \"\"\"Get current active user.\"\"\"\n    if not current_user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    return current_user\n\nasync def get_current_superuser(\n    current_user: User = Depends(get_current_user)\n) -> User:\n    \"\"\"Get current superuser.\"\"\"\n    if not current_user.is_superuser:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not enough permissions\"\n        )\n    return current_user\n\ndef require_permissions(*permissions: str):\n    \"\"\"Decorator for permission-based access control.\"\"\"\n    async def permission_checker(\n        current_user: User = Depends(get_current_active_user)\n    ) -> User:\n        # Check if user has required permissions\n        user_permissions = set(current_user.permissions or [])\n        required_permissions = set(permissions)\n        \n        if not required_permissions.issubset(user_permissions) and not current_user.is_superuser:\n            raise HTTPException(\n                status_code=status.HTTP_403_FORBIDDEN,\n                detail=\"Insufficient permissions\"\n            )\n        \n        return current_user\n    \n    return permission_checker\n\ndef require_roles(*roles: str):\n    \"\"\"Decorator for role-based access control.\"\"\"\n    async def role_checker(\n        current_user: User = Depends(get_current_active_user)\n    ) -> User:\n        user_roles = set(role.name for role in current_user.roles or [])\n        required_roles = set(roles)\n        \n        if not required_roles.issubset(user_roles) and not current_user.is_superuser:\n            raise HTTPException(\n                status_code=status.HTTP_403_FORBIDDEN,\n                detail=\"Insufficient role permissions\"\n            )\n        \n        return current_user\n    \n    return role_checker\n```\n\n## Authentication Schemas\n\n```python\n# app/schemas/auth.py\nfrom pydantic import BaseModel, EmailStr\nfrom typing import Optional\n\nclass Token(BaseModel):\n    \"\"\"Token response schema.\"\"\"\n    access_token: str\n    refresh_token: str\n    token_type: str = \"bearer\"\n    expires_in: int\n\nclass TokenPayload(BaseModel):\n    \"\"\"Token payload schema.\"\"\"\n    sub: Optional[int] = None\n    exp: Optional[int] = None\n    type: Optional[str] = None\n\nclass UserLogin(BaseModel):\n    \"\"\"User login schema.\"\"\"\n    username: str\n    password: str\n\nclass UserRegister(BaseModel):\n    \"\"\"User registration schema.\"\"\"\n    username: str\n    email: EmailStr\n    password: str\n    first_name: str\n    last_name: str\n\nclass PasswordReset(BaseModel):\n    \"\"\"Password reset schema.\"\"\"\n    email: EmailStr\n\nclass PasswordResetConfirm(BaseModel):\n    \"\"\"Password reset confirmation schema.\"\"\"\n    token: str\n    new_password: str\n\nclass ChangePassword(BaseModel):\n    \"\"\"Change password schema.\"\"\"\n    current_password: str\n    new_password: str\n\nclass RefreshToken(BaseModel):\n    \"\"\"Refresh token schema.\"\"\"\n    refresh_token: str\n```\n\n## Authentication Endpoints\n\n```python\n# app/api/v1/auth.py\nfrom datetime import timedelta\nfrom typing import Any\nfrom fastapi import APIRouter, Depends, HTTPException, status, BackgroundTasks\nfrom fastapi.security import OAuth2PasswordRequestForm\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.db.database import get_db\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.schemas.auth import (\n    Token, UserLogin, UserRegister, PasswordReset, \n    PasswordResetConfirm, ChangePassword, RefreshToken\n)\nfrom app.schemas.user import UserCreate, UserResponse\nfrom app.core.security import (\n    create_access_token, create_refresh_token, verify_password,\n    decode_token, ACCESS_TOKEN_EXPIRE_MINUTES\n)\nfrom app.api.dependencies.auth import get_current_user, get_current_active_user\nfrom app.services.email import send_password_reset_email\nfrom app.services.auth import AuthService\n\nrouter = APIRouter()\n\n@router.post(\"/register\", response_model=UserResponse, status_code=status.HTTP_201_CREATED)\nasync def register(\n    user_data: UserRegister,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Register new user.\"\"\"\n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    # Check if user already exists\n    if await user_repo.get_by_email(user_data.email):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Email already registered\"\n        )\n    \n    if await user_repo.get_by_username(user_data.username):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Username already taken\"\n        )\n    \n    # Create user\n    user = await auth_service.create_user(user_data.dict())\n    return user\n\n@router.post(\"/login\", response_model=Token)\nasync def login(\n    form_data: OAuth2PasswordRequestForm = Depends(),\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"OAuth2 compatible token login.\"\"\"\n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    user = await auth_service.authenticate_user(\n        form_data.username, \n        form_data.password\n    )\n    \n    if not user:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Incorrect username or password\",\n            headers={\"WWW-Authenticate\": \"Bearer\"},\n        )\n    \n    if not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    \n    # Create tokens\n    access_token = create_access_token(subject=user.id)\n    refresh_token = create_refresh_token(subject=user.id)\n    \n    return {\n        \"access_token\": access_token,\n        \"refresh_token\": refresh_token,\n        \"token_type\": \"bearer\",\n        \"expires_in\": ACCESS_TOKEN_EXPIRE_MINUTES * 60\n    }\n\n@router.post(\"/refresh\", response_model=Token)\nasync def refresh_token(\n    refresh_data: RefreshToken,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Refresh access token.\"\"\"\n    payload = decode_token(refresh_data.refresh_token)\n    \n    if payload is None or payload.get(\"type\") != \"refresh\":\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    user_id = payload.get(\"sub\")\n    if user_id is None:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    user = await user_repo.get(int(user_id))\n    \n    if user is None or not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    # Create new tokens\n    access_token = create_access_token(subject=user.id)\n    new_refresh_token = create_refresh_token(subject=user.id)\n    \n    return {\n        \"access_token\": access_token,\n        \"refresh_token\": new_refresh_token,\n        \"token_type\": \"bearer\",\n        \"expires_in\": ACCESS_TOKEN_EXPIRE_MINUTES * 60\n    }\n\n@router.get(\"/me\", response_model=UserResponse)\nasync def read_users_me(\n    current_user: User = Depends(get_current_active_user)\n) -> Any:\n    \"\"\"Get current user.\"\"\"\n    return current_user\n\n@router.post(\"/change-password\", status_code=status.HTTP_200_OK)\nasync def change_password(\n    password_data: ChangePassword,\n    current_user: User = Depends(get_current_active_user),\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Change user password.\"\"\"\n    if not verify_password(password_data.current_password, current_user.hashed_password):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Incorrect current password\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    await auth_service.change_password(current_user.id, password_data.new_password)\n    \n    return {\"message\": \"Password changed successfully\"}\n\n@router.post(\"/password-reset\", status_code=status.HTTP_200_OK)\nasync def password_reset(\n    reset_data: PasswordReset,\n    background_tasks: BackgroundTasks,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Request password reset.\"\"\"\n    user_repo = UserRepository(User, db)\n    user = await user_repo.get_by_email(reset_data.email)\n    \n    if user:\n        # Generate reset token\n        reset_token = create_access_token(\n            subject=user.id,\n            expires_delta=timedelta(hours=1)  # 1 hour expiry\n        )\n        \n        # Send email with reset token\n        background_tasks.add_task(\n            send_password_reset_email,\n            email=user.email,\n            username=user.username,\n            token=reset_token\n        )\n    \n    # Always return success to prevent email enumeration\n    return {\"message\": \"Password reset email sent if account exists\"}\n\n@router.post(\"/password-reset-confirm\", status_code=status.HTTP_200_OK)\nasync def password_reset_confirm(\n    reset_data: PasswordResetConfirm,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Confirm password reset.\"\"\"\n    payload = decode_token(reset_data.token)\n    \n    if payload is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid or expired reset token\"\n        )\n    \n    user_id = payload.get(\"sub\")\n    if user_id is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid reset token\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    user = await user_repo.get(int(user_id))\n    if user is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid reset token\"\n        )\n    \n    await auth_service.change_password(user.id, reset_data.new_password)\n    \n    return {\"message\": \"Password reset successful\"}\n\n@router.post(\"/logout\", status_code=status.HTTP_200_OK)\nasync def logout(\n    current_user: User = Depends(get_current_user)\n) -> Any:\n    \"\"\"Logout user (invalidate token on client side).\"\"\"\n    # In a more sophisticated setup, you might want to blacklist the token\n    return {\"message\": \"Successfully logged out\"}\n```\n\n## Authentication Service\n\n```python\n# app/services/auth.py\nfrom typing import Optional\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.security import verify_password, get_password_hash\n\nclass AuthService:\n    \"\"\"Authentication service.\"\"\"\n    \n    def __init__(self, user_repository: UserRepository):\n        self.user_repo = user_repository\n    \n    async def authenticate_user(\n        self, \n        username_or_email: str, \n        password: str\n    ) -> Optional[User]:\n        \"\"\"Authenticate user by username/email and password.\"\"\"\n        # Try to get user by username first, then by email\n        user = await self.user_repo.get_by_username(username_or_email)\n        if not user:\n            user = await self.user_repo.get_by_email(username_or_email)\n        \n        if not user:\n            return None\n        \n        if not verify_password(password, user.hashed_password):\n            return None\n        \n        return user\n    \n    async def create_user(self, user_data: dict) -> User:\n        \"\"\"Create new user.\"\"\"\n        # Hash password\n        password = user_data.pop('password')\n        hashed_password = get_password_hash(password)\n        \n        # Create user data\n        user_create_data = {\n            **user_data,\n            'hashed_password': hashed_password,\n            'is_active': True,\n            'is_superuser': False\n        }\n        \n        return await self.user_repo.create(user_create_data)\n    \n    async def change_password(self, user_id: int, new_password: str) -> bool:\n        \"\"\"Change user password.\"\"\"\n        hashed_password = get_password_hash(new_password)\n        \n        result = await self.user_repo.update(user_id, {\n            'hashed_password': hashed_password\n        })\n        \n        return result is not None\n    \n    async def activate_user(self, user_id: int) -> bool:\n        \"\"\"Activate user account.\"\"\"\n        result = await self.user_repo.update(user_id, {'is_active': True})\n        return result is not None\n    \n    async def deactivate_user(self, user_id: int) -> bool:\n        \"\"\"Deactivate user account.\"\"\"\n        result = await self.user_repo.update(user_id, {'is_active': False})\n        return result is not None\n```\n\n## Role-Based Access Control\n\n```python\n# app/models/rbac.py\nfrom sqlalchemy import Column, String, Text, ForeignKey, Table\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\n\n# Association tables for many-to-many relationships\nuser_roles = Table(\n    'user_roles',\n    Base.metadata,\n    Column('user_id', Integer, ForeignKey('users.id')),\n    Column('role_id', Integer, ForeignKey('roles.id'))\n)\n\nrole_permissions = Table(\n    'role_permissions',\n    Base.metadata,\n    Column('role_id', Integer, ForeignKey('roles.id')),\n    Column('permission_id', Integer, ForeignKey('permissions.id'))\n)\n\nclass Role(BaseModel):\n    \"\"\"Role model for RBAC.\"\"\"\n    __tablename__ = \"roles\"\n    \n    name = Column(String(50), unique=True, nullable=False, index=True)\n    description = Column(Text)\n    \n    # Relationships\n    users = relationship(\"User\", secondary=user_roles, back_populates=\"roles\")\n    permissions = relationship(\"Permission\", secondary=role_permissions, back_populates=\"roles\")\n\nclass Permission(BaseModel):\n    \"\"\"Permission model for RBAC.\"\"\"\n    __tablename__ = \"permissions\"\n    \n    name = Column(String(100), unique=True, nullable=False, index=True)\n    description = Column(Text)\n    resource = Column(String(50), nullable=False)  # e.g., 'users', 'posts'\n    action = Column(String(50), nullable=False)    # e.g., 'create', 'read', 'update', 'delete'\n    \n    # Relationships\n    roles = relationship(\"Role\", secondary=role_permissions, back_populates=\"permissions\")\n\n# Update User model to include roles\nclass User(BaseModel):\n    # ... existing fields ...\n    \n    # Relationships\n    roles = relationship(\"Role\", secondary=user_roles, back_populates=\"users\")\n    \n    @property\n    def permissions(self) -> list[str]:\n        \"\"\"Get all permissions for user.\"\"\"\n        perms = set()\n        for role in self.roles:\n            for permission in role.permissions:\n                perms.add(f\"{permission.resource}:{permission.action}\")\n        return list(perms)\n```\n\n## OAuth2 Integration\n\n```python\n# app/api/v1/oauth.py\nfrom fastapi import APIRouter, Depends, HTTPException, status\nfrom fastapi.security.utils import get_authorization_scheme_param\nfrom starlette.requests import Request\nfrom authlib.integrations.starlette_client import OAuth\nfrom app.core.config import settings\n\nrouter = APIRouter()\n\n# OAuth configuration\noauth = OAuth()\n\n# Google OAuth\ngoogle = oauth.register(\n    name='google',\n    client_id=settings.GOOGLE_CLIENT_ID,\n    client_secret=settings.GOOGLE_CLIENT_SECRET,\n    server_metadata_url='https://accounts.google.com/.well-known/openid_configuration',\n    client_kwargs={\n        'scope': 'openid email profile'\n    }\n)\n\n# GitHub OAuth\ngithub = oauth.register(\n    name='github',\n    client_id=settings.GITHUB_CLIENT_ID,\n    client_secret=settings.GITHUB_CLIENT_SECRET,\n    access_token_url='https://github.com/login/oauth/access_token',\n    access_token_params=None,\n    authorize_url='https://github.com/login/oauth/authorize',\n    authorize_params=None,\n    api_base_url='https://api.github.com/',\n    client_kwargs={'scope': 'user:email'},\n)\n\n@router.get('/google')\nasync def google_login(request: Request):\n    \"\"\"Initiate Google OAuth login.\"\"\"\n    redirect_uri = request.url_for('google_callback')\n    return await google.authorize_redirect(request, redirect_uri)\n\n@router.get('/google/callback')\nasync def google_callback(request: Request):\n    \"\"\"Handle Google OAuth callback.\"\"\"\n    token = await google.authorize_access_token(request)\n    user_info = token.get('userinfo')\n    \n    if user_info:\n        # Create or get user\n        # Generate JWT token\n        # Return token\n        pass\n    \n    raise HTTPException(\n        status_code=status.HTTP_400_BAD_REQUEST,\n        detail=\"OAuth authentication failed\"\n    )\n```\n\n## API Key Authentication\n\n```python\n# app/models/api_key.py\nfrom sqlalchemy import Column, String, Boolean, ForeignKey, DateTime\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\nimport secrets\n\nclass APIKey(BaseModel):\n    \"\"\"API Key model.\"\"\"\n    __tablename__ = \"api_keys\"\n    \n    name = Column(String(100), nullable=False)\n    key_hash = Column(String(255), unique=True, nullable=False, index=True)\n    prefix = Column(String(10), nullable=False, index=True)\n    is_active = Column(Boolean, default=True, nullable=False)\n    expires_at = Column(DateTime)\n    last_used_at = Column(DateTime)\n    \n    # Foreign key\n    user_id = Column(Integer, ForeignKey(\"users.id\"), nullable=False)\n    \n    # Relationships\n    user = relationship(\"User\", back_populates=\"api_keys\")\n    \n    @classmethod\n    def generate_key(cls) -> tuple[str, str]:\n        \"\"\"Generate API key and return (key, hash).\"\"\"\n        key = secrets.token_urlsafe(32)\n        prefix = key[:8]\n        key_hash = get_password_hash(key)\n        return key, prefix, key_hash\n    \n    def verify_key(self, key: str) -> bool:\n        \"\"\"Verify API key.\"\"\"\n        return verify_password(key, self.key_hash)\n\n# Add to User model\nclass User(BaseModel):\n    # ... existing fields ...\n    \n    # Relationships\n    api_keys = relationship(\"APIKey\", back_populates=\"user\", cascade=\"all, delete-orphan\")\n```\n\n## Testing Authentication\n\n```python\n# tests/test_auth.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.core.security import create_access_token\n\n@pytest.mark.asyncio\nasync def test_register_user(client: AsyncClient):\n    \"\"\"Test user registration.\"\"\"\n    user_data = {\n        \"username\": \"testuser\",\n        \"email\": \"test@example.com\",\n        \"password\": \"testpass123\",\n        \"first_name\": \"Test\",\n        \"last_name\": \"User\"\n    }\n    \n    response = await client.post(\"/api/v1/auth/register\", json=user_data)\n    assert response.status_code == 201\n    \n    data = response.json()\n    assert data[\"username\"] == user_data[\"username\"]\n    assert data[\"email\"] == user_data[\"email\"]\n    assert \"hashed_password\" not in data\n\n@pytest.mark.asyncio\nasync def test_login_user(client: AsyncClient, test_user):\n    \"\"\"Test user login.\"\"\"\n    login_data = {\n        \"username\": test_user.username,\n        \"password\": \"testpass123\"\n    }\n    \n    response = await client.post(\n        \"/api/v1/auth/login\", \n        data=login_data,\n        headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n    )\n    \n    assert response.status_code == 200\n    \n    data = response.json()\n    assert \"access_token\" in data\n    assert \"refresh_token\" in data\n    assert data[\"token_type\"] == \"bearer\"\n\n@pytest.mark.asyncio\nasync def test_get_current_user(client: AsyncClient, test_user):\n    \"\"\"Test get current user endpoint.\"\"\"\n    token = create_access_token(subject=test_user.id)\n    headers = {\"Authorization\": f\"Bearer {token}\"}\n    \n    response = await client.get(\"/api/v1/auth/me\", headers=headers)\n    assert response.status_code == 200\n    \n    data = response.json()\n    assert data[\"username\"] == test_user.username\n    assert data[\"email\"] == test_user.email\n```\n"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# FastAPI Database Integration\n\nComplete database setup with SQLAlchemy, Alembic, and async support for FastAPI.\n\n## Usage\n\n```bash\n# Initialize Alembic\nalembic init alembic\n\n# Create migration\nalembic revision --autogenerate -m \"Initial migration\"\n\n# Apply migrations\nalembic upgrade head\n\n# Downgrade migration\nalembic downgrade -1\n```\n\n## Database Configuration\n\n```python\n# app/core/config.py\nfrom pydantic import BaseSettings, PostgresDsn, validator\nfrom typing import Optional, Dict, Any\nimport os\n\nclass Settings(BaseSettings):\n    \"\"\"Application settings.\"\"\"\n    \n    # Database\n    POSTGRES_SERVER: str = \"localhost\"\n    POSTGRES_USER: str = \"postgres\"\n    POSTGRES_PASSWORD: str = \"password\"\n    POSTGRES_DB: str = \"fastapi_app\"\n    POSTGRES_PORT: str = \"5432\"\n    DATABASE_URL: Optional[PostgresDsn] = None\n    \n    @validator(\"DATABASE_URL\", pre=True)\n    def assemble_db_connection(cls, v: Optional[str], values: Dict[str, Any]) -> Any:\n        if isinstance(v, str):\n            return v\n        return PostgresDsn.build(\n            scheme=\"postgresql+asyncpg\",\n            user=values.get(\"POSTGRES_USER\"),\n            password=values.get(\"POSTGRES_PASSWORD\"),\n            host=values.get(\"POSTGRES_SERVER\"),\n            port=values.get(\"POSTGRES_PORT\"),\n            path=f\"/{values.get('POSTGRES_DB') or ''}\",\n        )\n    \n    # Redis\n    REDIS_URL: str = \"redis://localhost:6379/0\"\n    \n    # Database settings\n    DATABASE_POOL_SIZE: int = 10\n    DATABASE_MAX_OVERFLOW: int = 20\n    DATABASE_POOL_RECYCLE: int = 3600\n    \n    class Config:\n        env_file = \".env\"\n        case_sensitive = True\n\nsettings = Settings()\n```\n\n## Database Setup\n\n```python\n# app/db/database.py\nfrom sqlalchemy.ext.asyncio import AsyncSession, create_async_engine\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy.orm import sessionmaker\nfrom app.core.config import settings\n\n# Create async engine\nengine = create_async_engine(\n    str(settings.DATABASE_URL),\n    pool_size=settings.DATABASE_POOL_SIZE,\n    max_overflow=settings.DATABASE_MAX_OVERFLOW,\n    pool_recycle=settings.DATABASE_POOL_RECYCLE,\n    pool_pre_ping=True,\n    echo=False  # Set to True for SQL debugging\n)\n\n# Create async session factory\nAsyncSessionLocal = sessionmaker(\n    engine, class_=AsyncSession, expire_on_commit=False\n)\n\n# Base class for models\nBase = declarative_base()\n\nasync def get_db() -> AsyncSession:\n    \"\"\"Dependency to get database session.\"\"\"\n    async with AsyncSessionLocal() as session:\n        try:\n            yield session\n        finally:\n            await session.close()\n\nasync def create_tables():\n    \"\"\"Create database tables.\"\"\"\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n\nasync def drop_tables():\n    \"\"\"Drop database tables.\"\"\"\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n```\n\n## Base Model\n\n```python\n# app/models/base.py\nfrom sqlalchemy import Column, Integer, DateTime, func\nfrom sqlalchemy.ext.declarative import declared_attr\nfrom app.db.database import Base\nfrom datetime import datetime\nfrom typing import Any\n\nclass TimestampMixin:\n    \"\"\"Mixin for timestamp fields.\"\"\"\n    created_at = Column(DateTime(timezone=True), server_default=func.now(), nullable=False)\n    updated_at = Column(\n        DateTime(timezone=True),\n        server_default=func.now(),\n        onupdate=func.now(),\n        nullable=False\n    )\n\nclass BaseModel(Base, TimestampMixin):\n    \"\"\"Base model with common functionality.\"\"\"\n    __abstract__ = True\n    \n    id = Column(Integer, primary_key=True, index=True)\n    \n    @declared_attr\n    def __tablename__(cls) -> str:\n        return cls.__name__.lower()\n    \n    def dict(self, exclude: set = None) -> dict[str, Any]:\n        \"\"\"Convert model to dictionary.\"\"\"\n        exclude = exclude or set()\n        return {\n            column.name: getattr(self, column.name)\n            for column in self.__table__.columns\n            if column.name not in exclude\n        }\n    \n    def __repr__(self) -> str:\n        return f\"<{self.__class__.__name__}(id={self.id})>\"\n```\n\n## Example Models\n\n```python\n# app/models/user.py\nfrom sqlalchemy import Column, String, Boolean, Text, Index\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\nfrom passlib.context import CryptContext\n\npwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\nclass User(BaseModel):\n    \"\"\"User model.\"\"\"\n    __tablename__ = \"users\"\n    \n    username = Column(String(50), unique=True, index=True, nullable=False)\n    email = Column(String(100), unique=True, index=True, nullable=False)\n    hashed_password = Column(String(255), nullable=False)\n    first_name = Column(String(50), nullable=False)\n    last_name = Column(String(50), nullable=False)\n    is_active = Column(Boolean, default=True, nullable=False)\n    is_superuser = Column(Boolean, default=False, nullable=False)\n    bio = Column(Text)\n    \n    # Relationships\n    posts = relationship(\"Post\", back_populates=\"author\", cascade=\"all, delete-orphan\")\n    \n    # Indexes\n    __table_args__ = (\n        Index('idx_user_email_active', email, is_active),\n        Index('idx_user_username_active', username, is_active),\n    )\n    \n    def verify_password(self, password: str) -> bool:\n        \"\"\"Verify password against hash.\"\"\"\n        return pwd_context.verify(password, self.hashed_password)\n    \n    @staticmethod\n    def get_password_hash(password: str) -> str:\n        \"\"\"Generate password hash.\"\"\"\n        return pwd_context.hash(password)\n    \n    def set_password(self, password: str) -> None:\n        \"\"\"Set user password.\"\"\"\n        self.hashed_password = self.get_password_hash(password)\n    \n    @property\n    def full_name(self) -> str:\n        \"\"\"Get user's full name.\"\"\"\n        return f\"{self.first_name} {self.last_name}\"\n    \n    def dict(self, exclude: set = None) -> dict:\n        \"\"\"Convert to dict excluding sensitive data.\"\"\"\n        exclude = exclude or set()\n        exclude.add('hashed_password')\n        return super().dict(exclude=exclude)\n\n# app/models/post.py\nfrom sqlalchemy import Column, String, Text, ForeignKey, Boolean, Index\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\n\nclass Post(BaseModel):\n    \"\"\"Blog post model.\"\"\"\n    __tablename__ = \"posts\"\n    \n    title = Column(String(200), nullable=False, index=True)\n    content = Column(Text, nullable=False)\n    slug = Column(String(200), unique=True, nullable=False, index=True)\n    is_published = Column(Boolean, default=False, nullable=False)\n    \n    # Foreign keys\n    author_id = Column(Integer, ForeignKey(\"users.id\"), nullable=False)\n    \n    # Relationships\n    author = relationship(\"User\", back_populates=\"posts\")\n    \n    # Indexes\n    __table_args__ = (\n        Index('idx_post_published_created', is_published, 'created_at'),\n        Index('idx_post_author_published', author_id, is_published),\n    )\n```\n\n## Repository Pattern\n\n```python\n# app/repositories/base.py\nfrom typing import Generic, TypeVar, Type, Optional, List, Dict, Any\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import select, update, delete, func\nfrom sqlalchemy.orm import selectinload\nfrom app.models.base import BaseModel\n\nModelType = TypeVar(\"ModelType\", bound=BaseModel)\n\nclass BaseRepository(Generic[ModelType]):\n    \"\"\"Base repository with common CRUD operations.\"\"\"\n    \n    def __init__(self, model: Type[ModelType], db: AsyncSession):\n        self.model = model\n        self.db = db\n    \n    async def get(self, id: int) -> Optional[ModelType]:\n        \"\"\"Get model by ID.\"\"\"\n        result = await self.db.execute(\n            select(self.model).where(self.model.id == id)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_multi(\n        self, \n        skip: int = 0, \n        limit: int = 100,\n        filters: Dict[str, Any] = None\n    ) -> List[ModelType]:\n        \"\"\"Get multiple models with pagination.\"\"\"\n        query = select(self.model)\n        \n        if filters:\n            for field, value in filters.items():\n                if hasattr(self.model, field):\n                    query = query.where(getattr(self.model, field) == value)\n        \n        query = query.offset(skip).limit(limit)\n        result = await self.db.execute(query)\n        return result.scalars().all()\n    \n    async def create(self, obj_in: Dict[str, Any]) -> ModelType:\n        \"\"\"Create new model.\"\"\"\n        db_obj = self.model(**obj_in)\n        self.db.add(db_obj)\n        await self.db.commit()\n        await self.db.refresh(db_obj)\n        return db_obj\n    \n    async def update(\n        self, \n        id: int, \n        obj_in: Dict[str, Any]\n    ) -> Optional[ModelType]:\n        \"\"\"Update model by ID.\"\"\"\n        await self.db.execute(\n            update(self.model)\n            .where(self.model.id == id)\n            .values(**obj_in)\n        )\n        await self.db.commit()\n        return await self.get(id)\n    \n    async def delete(self, id: int) -> bool:\n        \"\"\"Delete model by ID.\"\"\"\n        result = await self.db.execute(\n            delete(self.model).where(self.model.id == id)\n        )\n        await self.db.commit()\n        return result.rowcount > 0\n    \n    async def count(self, filters: Dict[str, Any] = None) -> int:\n        \"\"\"Count models with optional filters.\"\"\"\n        query = select(func.count(self.model.id))\n        \n        if filters:\n            for field, value in filters.items():\n                if hasattr(self.model, field):\n                    query = query.where(getattr(self.model, field) == value)\n        \n        result = await self.db.execute(query)\n        return result.scalar()\n\n# app/repositories/user.py\nfrom typing import Optional\nfrom sqlalchemy import select\nfrom app.models.user import User\nfrom app.repositories.base import BaseRepository\n\nclass UserRepository(BaseRepository[User]):\n    \"\"\"User repository with custom methods.\"\"\"\n    \n    async def get_by_email(self, email: str) -> Optional[User]:\n        \"\"\"Get user by email.\"\"\"\n        result = await self.db.execute(\n            select(User).where(User.email == email)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_by_username(self, username: str) -> Optional[User]:\n        \"\"\"Get user by username.\"\"\"\n        result = await self.db.execute(\n            select(User).where(User.username == username)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_active_users(self, skip: int = 0, limit: int = 100):\n        \"\"\"Get active users.\"\"\"\n        return await self.get_multi(\n            skip=skip, \n            limit=limit, \n            filters={'is_active': True}\n        )\n```\n\n## Alembic Configuration\n\n```python\n# alembic/env.py\nfrom logging.config import fileConfig\nfrom sqlalchemy import engine_from_config, pool\nfrom sqlalchemy.ext.asyncio import AsyncEngine\nfrom alembic import context\nimport asyncio\n\n# Import your models\nfrom app.models.base import Base\nfrom app.models.user import User\nfrom app.models.post import Post\nfrom app.core.config import settings\n\n# Alembic Config object\nconfig = context.config\n\n# Override database URL\nconfig.set_main_option(\"sqlalchemy.url\", str(settings.DATABASE_URL))\n\n# Interpret the config file for logging\nif config.config_file_name is not None:\n    fileConfig(config.config_file_name)\n\n# Add your model's MetaData object here\ntarget_metadata = Base.metadata\n\ndef do_run_migrations(connection):\n    context.configure(\n        connection=connection,\n        target_metadata=target_metadata,\n        compare_type=True,\n        compare_server_default=True,\n    )\n    \n    with context.begin_transaction():\n        context.run_migrations()\n\nasync def run_migrations_online():\n    \"\"\"Run migrations in 'online' mode.\"\"\"\n    configuration = config.get_section(config.config_ini_section)\n    configuration[\"sqlalchemy.url\"] = str(settings.DATABASE_URL)\n    \n    connectable = AsyncEngine(\n        engine_from_config(\n            configuration,\n            prefix=\"sqlalchemy.\",\n            poolclass=pool.NullPool,\n        )\n    )\n    \n    async with connectable.connect() as connection:\n        await connection.run_sync(do_run_migrations)\n    \n    await connectable.dispose()\n\nif context.is_offline_mode():\n    run_migrations_offline()\nelse:\n    asyncio.run(run_migrations_online())\n```\n\n## Database Utilities\n\n```python\n# app/db/utils.py\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import text\nfrom app.db.database import engine, AsyncSessionLocal\nfrom app.core.config import settings\nimport asyncio\n\nasync def check_database_connection() -> bool:\n    \"\"\"Check if database is accessible.\"\"\"\n    try:\n        async with AsyncSessionLocal() as session:\n            await session.execute(text(\"SELECT 1\"))\n            return True\n    except Exception:\n        return False\n\nasync def create_database_if_not_exists():\n    \"\"\"Create database if it doesn't exist.\"\"\"\n    # This is PostgreSQL specific\n    import asyncpg\n    from urllib.parse import urlparse\n    \n    url = urlparse(str(settings.DATABASE_URL))\n    \n    try:\n        # Connect to postgres database to create our database\n        conn = await asyncpg.connect(\n            host=url.hostname,\n            port=url.port,\n            user=url.username,\n            password=url.password,\n            database='postgres'\n        )\n        \n        # Check if database exists\n        exists = await conn.fetchval(\n            \"SELECT 1 FROM pg_database WHERE datname = $1\",\n            url.path[1:]  # Remove leading slash\n        )\n        \n        if not exists:\n            await conn.execute(f'CREATE DATABASE \"{url.path[1:]}\"')\n            print(f\"Database {url.path[1:]} created.\")\n        \n        await conn.close()\n        \n    except Exception as e:\n        print(f\"Error creating database: {e}\")\n\nasync def execute_raw_sql(sql: str, params: dict = None) -> list:\n    \"\"\"Execute raw SQL query.\"\"\"\n    async with AsyncSessionLocal() as session:\n        result = await session.execute(text(sql), params or {})\n        return result.fetchall()\n\nasync def get_table_info(table_name: str) -> dict:\n    \"\"\"Get information about a table.\"\"\"\n    sql = \"\"\"\n    SELECT \n        column_name,\n        data_type,\n        is_nullable,\n        column_default\n    FROM information_schema.columns \n    WHERE table_name = :table_name\n    ORDER BY ordinal_position;\n    \"\"\"\n    \n    result = await execute_raw_sql(sql, {'table_name': table_name})\n    return [\n        {\n            'column_name': row[0],\n            'data_type': row[1],\n            'is_nullable': row[2],\n            'column_default': row[3]\n        }\n        for row in result\n    ]\n```\n\n## Database Initialization\n\n```python\n# app/db/init_db.py\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.db.database import get_db, create_tables\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.config import settings\nimport asyncio\n\nasync def init_db() -> None:\n    \"\"\"Initialize database with tables and default data.\"\"\"\n    # Create tables\n    await create_tables()\n    print(\"Database tables created.\")\n    \n    # Create default superuser\n    async with AsyncSessionLocal() as session:\n        user_repo = UserRepository(User, session)\n        \n        # Check if superuser exists\n        existing_user = await user_repo.get_by_email(\"admin@example.com\")\n        \n        if not existing_user:\n            superuser_data = {\n                \"username\": \"admin\",\n                \"email\": \"admin@example.com\",\n                \"first_name\": \"Admin\",\n                \"last_name\": \"User\",\n                \"is_superuser\": True,\n                \"is_active\": True\n            }\n            \n            superuser = User(**superuser_data)\n            superuser.set_password(\"admin123\")\n            \n            session.add(superuser)\n            await session.commit()\n            print(\"Superuser created.\")\n        else:\n            print(\"Superuser already exists.\")\n\nif __name__ == \"__main__\":\n    asyncio.run(init_db())\n```\n\n## Testing Database\n\n```python\n# tests/conftest.py\nimport pytest\nimport asyncio\nfrom sqlalchemy.ext.asyncio import create_async_engine, AsyncSession\nfrom sqlalchemy.orm import sessionmaker\nfrom app.db.database import Base, get_db\nfrom app.main import app\nimport pytest_asyncio\n\n# Test database URL\nTEST_DATABASE_URL = \"sqlite+aiosqlite:///./test.db\"\n\n@pytest.fixture(scope=\"session\")\ndef event_loop():\n    \"\"\"Create event loop for async tests.\"\"\"\n    loop = asyncio.get_event_loop_policy().new_event_loop()\n    yield loop\n    loop.close()\n\n@pytest_asyncio.fixture(scope=\"session\")\nasync def test_engine():\n    \"\"\"Create test database engine.\"\"\"\n    engine = create_async_engine(TEST_DATABASE_URL, echo=False)\n    \n    # Create tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n    \n    yield engine\n    \n    # Drop tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n    \n    await engine.dispose()\n\n@pytest_asyncio.fixture\nasync def test_session(test_engine):\n    \"\"\"Create test database session.\"\"\"\n    TestSessionLocal = sessionmaker(\n        test_engine, class_=AsyncSession, expire_on_commit=False\n    )\n    \n    async with TestSessionLocal() as session:\n        yield session\n\n@pytest.fixture\ndef override_get_db(test_session):\n    \"\"\"Override database dependency.\"\"\"\n    async def _override_get_db():\n        yield test_session\n    \n    app.dependency_overrides[get_db] = _override_get_db\n    yield\n    app.dependency_overrides = {}\n```\n\n## Database Health Check\n\n```python\n# app/api/health.py\nfrom fastapi import APIRouter, Depends, HTTPException\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import text\nfrom app.db.database import get_db\nimport time\n\nrouter = APIRouter()\n\n@router.get(\"/health\")\nasync def health_check(db: AsyncSession = Depends(get_db)):\n    \"\"\"Health check endpoint.\"\"\"\n    checks = {\n        \"status\": \"healthy\",\n        \"timestamp\": time.time(),\n        \"database\": await check_database_health(db),\n    }\n    \n    # Determine overall status\n    if checks[\"database\"][\"status\"] != \"ok\":\n        checks[\"status\"] = \"unhealthy\"\n        raise HTTPException(status_code=503, detail=checks)\n    \n    return checks\n\nasync def check_database_health(db: AsyncSession) -> dict:\n    \"\"\"Check database connection.\"\"\"\n    try:\n        start_time = time.time()\n        await db.execute(text(\"SELECT 1\"))\n        response_time = (time.time() - start_time) * 1000  # milliseconds\n        \n        return {\n            \"status\": \"ok\",\n            \"response_time_ms\": round(response_time, 2)\n        }\n    except Exception as e:\n        return {\n            \"status\": \"error\",\n            \"error\": str(e)\n        }\n```\n"
              },
              {
                "name": "/deployment",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/deployment.md",
                "frontmatter": null,
                "content": "# FastAPI Deployment\n\nBasic production deployment setup for FastAPI applications.\n\n## Usage\n\n```bash\n# Run with Uvicorn\nuvicorn app.main:app --host 0.0.0.0 --port 8000 --workers 4\n\n# Docker deployment\ndocker build -t fastapi-app .\ndocker run -p 8000:8000 fastapi-app\n```\n\n## Production Configuration\n\n```python\n# app/core/config.py\nfrom pydantic import BaseSettings\nimport os\n\nclass Settings(BaseSettings):\n    \"\"\"Production settings.\"\"\"\n    \n    # App\n    PROJECT_NAME: str = \"FastAPI App\"\n    VERSION: str = \"1.0.0\"\n    SECRET_KEY: str = os.getenv(\"SECRET_KEY\", \"dev-key\")\n    \n    # Server\n    HOST: str = \"0.0.0.0\"\n    PORT: int = 8000\n    WORKERS: int = 4\n    \n    # Database\n    DATABASE_URL: str = os.getenv(\"DATABASE_URL\", \"sqlite:///./app.db\")\n    \n    # Redis\n    REDIS_URL: str = os.getenv(\"REDIS_URL\", \"redis://localhost:6379\")\n    \n    class Config:\n        env_file = \".env\"\n\nsettings = Settings()\n```\n\n## Docker Setup\n\n```dockerfile\n# Dockerfile\nFROM python:3.11-slim\n\nWORKDIR /app\n\n# Install dependencies\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy app\nCOPY . .\n\n# Create non-root user\nRUN useradd -m appuser && chown -R appuser:appuser /app\nUSER appuser\n\nEXPOSE 8000\n\n# Health check\nHEALTHCHECK CMD curl -f http://localhost:8000/health || exit 1\n\nCMD [\"uvicorn\", \"app.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n```\n\n## Docker Compose\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\n\nservices:\n  app:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - DATABASE_URL=postgresql://user:pass@db:5432/fastapi_db\n      - REDIS_URL=redis://redis:6379\n    depends_on:\n      - db\n      - redis\n\n  db:\n    image: postgres:15\n    environment:\n      POSTGRES_DB: fastapi_db\n      POSTGRES_USER: user\n      POSTGRES_PASSWORD: password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\n  redis:\n    image: redis:7-alpine\n    volumes:\n      - redis_data:/data\n\nvolumes:\n  postgres_data:\n  redis_data:\n```\n\n## Environment Variables\n\n```bash\n# .env\nSECRET_KEY=your-secret-key\nDATABASE_URL=postgresql://user:pass@localhost/fastapi_db\nREDIS_URL=redis://localhost:6379\n```\n\n## Health Check\n\n```python\n# app/api/health.py\nfrom fastapi import APIRouter\nfrom app.core.config import settings\n\nrouter = APIRouter()\n\n@router.get(\"/health\")\nasync def health_check():\n    return {\n        \"status\": \"healthy\",\n        \"version\": settings.VERSION\n    }\n```\n\n## Deployment Script\n\n```bash\n#!/bin/bash\n# deploy.sh\n\nset -e\n\necho \"Deploying FastAPI app...\"\n\n# Build and deploy\ndocker-compose build\ndocker-compose up -d\n\n# Health check\necho \"Checking health...\"\nif curl -f http://localhost:8000/health; then\n    echo \"‚úÖ Deployment successful!\"\nelse\n    echo \"‚ùå Deployment failed!\"\n    exit 1\nfi\n```\n"
              },
              {
                "name": "/testing",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/testing.md",
                "frontmatter": null,
                "content": "# FastAPI Testing Framework\n\nComprehensive testing setup for FastAPI applications with pytest and async support.\n\n## Usage\n\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=app --cov-report=html\n\n# Run specific test file\npytest tests/test_api.py\n\n# Run with verbose output\npytest -v -s\n```\n\n## Test Configuration\n\n```python\n# pytest.ini\n[tool:pytest]\ntestpaths = tests\npython_files = test_*.py\npython_classes = Test*\npython_functions = test_*\naddopts = \n    --cov=app\n    --cov-report=term-missing\n    --cov-report=html:htmlcov\n    --asyncio-mode=auto\n    --strict-markers\n    --disable-warnings\nmarkers =\n    unit: Unit tests\n    integration: Integration tests\n    e2e: End-to-end tests\n    slow: Slow running tests\n    auth: Authentication tests\n    api: API tests\nasyncio_mode = auto\n```\n\n## Test Dependencies\n\n```python\n# requirements/test.txt\npytest>=7.0.0\npytest-asyncio>=0.21.0\npytest-cov>=4.0.0\nhttpx>=0.24.0\nfactory-boy>=3.2.0\nfaker>=18.0.0\nrespx>=0.20.0\npytest-mock>=3.10.0\n```\n\n## Test Fixtures\n\n```python\n# tests/conftest.py\nimport pytest\nimport asyncio\nfrom typing import AsyncGenerator, Generator\nfrom fastapi.testclient import TestClient\nfrom httpx import AsyncClient\nfrom sqlalchemy.ext.asyncio import create_async_engine, AsyncSession\nfrom sqlalchemy.orm import sessionmaker\nfrom app.main import app\nfrom app.db.database import get_db, Base\nfrom app.models.user import User\nfrom app.core.security import get_password_hash\nfrom tests.factories import UserFactory\n\n# Test database URL\nTEST_DATABASE_URL = \"sqlite+aiosqlite:///./test.db\"\n\n@pytest.fixture(scope=\"session\")\ndef event_loop() -> Generator[asyncio.AbstractEventLoop, None, None]:\n    \"\"\"Create event loop for the test session.\"\"\"\n    loop = asyncio.get_event_loop_policy().new_event_loop()\n    yield loop\n    loop.close()\n\n@pytest.fixture(scope=\"session\")\nasync def test_engine():\n    \"\"\"Create test database engine.\"\"\"\n    engine = create_async_engine(\n        TEST_DATABASE_URL,\n        echo=False,\n        future=True\n    )\n    \n    # Create tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n    \n    yield engine\n    \n    # Drop tables and dispose engine\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n    \n    await engine.dispose()\n\n@pytest.fixture\nasync def db_session(test_engine) -> AsyncGenerator[AsyncSession, None]:\n    \"\"\"Create database session for testing.\"\"\"\n    TestSessionLocal = sessionmaker(\n        test_engine, \n        class_=AsyncSession, \n        expire_on_commit=False\n    )\n    \n    async with TestSessionLocal() as session:\n        yield session\n\n@pytest.fixture\ndef override_get_db(db_session: AsyncSession) -> Generator:\n    \"\"\"Override database dependency.\"\"\"\n    async def _override_get_db():\n        yield db_session\n    \n    app.dependency_overrides[get_db] = _override_get_db\n    yield\n    app.dependency_overrides = {}\n\n@pytest.fixture\ndef client(override_get_db) -> Generator[TestClient, None, None]:\n    \"\"\"Create test client.\"\"\"\n    with TestClient(app) as test_client:\n        yield test_client\n\n@pytest.fixture\nasync def async_client(override_get_db) -> AsyncGenerator[AsyncClient, None]:\n    \"\"\"Create async test client.\"\"\"\n    async with AsyncClient(app=app, base_url=\"http://test\") as ac:\n        yield ac\n\n@pytest.fixture\nasync def test_user(db_session: AsyncSession) -> User:\n    \"\"\"Create test user.\"\"\"\n    user_data = {\n        \"username\": \"testuser\",\n        \"email\": \"test@example.com\",\n        \"hashed_password\": get_password_hash(\"testpass123\"),\n        \"first_name\": \"Test\",\n        \"last_name\": \"User\",\n        \"is_active\": True,\n        \"is_superuser\": False\n    }\n    \n    user = User(**user_data)\n    db_session.add(user)\n    await db_session.commit()\n    await db_session.refresh(user)\n    return user\n\n@pytest.fixture\nasync def superuser(db_session: AsyncSession) -> User:\n    \"\"\"Create superuser.\"\"\"\n    user_data = {\n        \"username\": \"admin\",\n        \"email\": \"admin@example.com\",\n        \"hashed_password\": get_password_hash(\"adminpass123\"),\n        \"first_name\": \"Admin\",\n        \"last_name\": \"User\",\n        \"is_active\": True,\n        \"is_superuser\": True\n    }\n    \n    user = User(**user_data)\n    db_session.add(user)\n    await db_session.commit()\n    await db_session.refresh(user)\n    return user\n\n@pytest.fixture\ndef user_token(test_user: User) -> str:\n    \"\"\"Create authentication token for test user.\"\"\"\n    from app.core.security import create_access_token\n    return create_access_token(subject=test_user.id)\n\n@pytest.fixture\ndef superuser_token(superuser: User) -> str:\n    \"\"\"Create authentication token for superuser.\"\"\"\n    from app.core.security import create_access_token\n    return create_access_token(subject=superuser.id)\n\n@pytest.fixture\ndef auth_headers(user_token: str) -> dict[str, str]:\n    \"\"\"Create authorization headers.\"\"\"\n    return {\"Authorization\": f\"Bearer {user_token}\"}\n\n@pytest.fixture\ndef superuser_headers(superuser_token: str) -> dict[str, str]:\n    \"\"\"Create superuser authorization headers.\"\"\"\n    return {\"Authorization\": f\"Bearer {superuser_token}\"}\n```\n\n## Test Factories\n\n```python\n# tests/factories.py\nimport factory\nfrom factory import Faker, SubFactory\nfrom app.models.user import User\nfrom app.models.post import Post\nfrom app.core.security import get_password_hash\n\nclass UserFactory(factory.Factory):\n    \"\"\"Factory for User model.\"\"\"\n    \n    class Meta:\n        model = User\n    \n    username = Faker('user_name')\n    email = Faker('email')\n    first_name = Faker('first_name')\n    last_name = Faker('last_name')\n    hashed_password = factory.LazyAttribute(lambda obj: get_password_hash('testpass123'))\n    is_active = True\n    is_superuser = False\n    bio = Faker('text', max_nb_chars=200)\n\nclass SuperUserFactory(UserFactory):\n    \"\"\"Factory for superuser.\"\"\"\n    username = 'admin'\n    email = 'admin@example.com'\n    first_name = 'Admin'\n    last_name = 'User'\n    is_superuser = True\n\nclass PostFactory(factory.Factory):\n    \"\"\"Factory for Post model.\"\"\"\n    \n    class Meta:\n        model = Post\n    \n    title = Faker('sentence', nb_words=4)\n    content = Faker('text', max_nb_chars=1000)\n    slug = Faker('slug')\n    is_published = True\n    author = SubFactory(UserFactory)\n\nclass InactiveUserFactory(UserFactory):\n    \"\"\"Factory for inactive user.\"\"\"\n    is_active = False\n```\n\n## API Testing\n\n```python\n# tests/test_api/test_users.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom tests.factories import UserFactory\n\nclass TestUserAPI:\n    \"\"\"Test User API endpoints.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(\n        self, \n        async_client: AsyncClient, \n        superuser_headers: dict\n    ):\n        \"\"\"Test POST /api/v1/users/.\"\"\"\n        user_data = {\n            \"username\": \"newuser\",\n            \"email\": \"new@example.com\",\n            \"password\": \"newpass123\",\n            \"first_name\": \"New\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/users/\",\n            json=user_data,\n            headers=superuser_headers\n        )\n        \n        assert response.status_code == 201\n        data = response.json()\n        assert data[\"username\"] == user_data[\"username\"]\n        assert data[\"email\"] == user_data[\"email\"]\n        assert \"password\" not in data\n        assert \"hashed_password\" not in data\n    \n    @pytest.mark.asyncio\n    async def test_get_users(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test GET /api/v1/users/.\"\"\"\n        response = await async_client.get(\n            \"/api/v1/users/\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"items\" in data\n        assert \"total\" in data\n        assert \"page\" in data\n        assert \"size\" in data\n        assert len(data[\"items\"]) >= 1\n    \n    @pytest.mark.asyncio\n    async def test_get_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test GET /api/v1/users/{id}.\"\"\"\n        response = await async_client.get(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"id\"] == test_user.id\n        assert data[\"username\"] == test_user.username\n        assert data[\"email\"] == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_update_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test PUT /api/v1/users/{id}.\"\"\"\n        update_data = {\n            \"first_name\": \"Updated\",\n            \"last_name\": \"Name\",\n            \"bio\": \"Updated bio\"\n        }\n        \n        response = await async_client.put(\n            f\"/api/v1/users/{test_user.id}\",\n            json=update_data,\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"first_name\"] == update_data[\"first_name\"]\n        assert data[\"last_name\"] == update_data[\"last_name\"]\n        assert data[\"bio\"] == update_data[\"bio\"]\n    \n    @pytest.mark.asyncio\n    async def test_delete_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        superuser_headers: dict\n    ):\n        \"\"\"Test DELETE /api/v1/users/{id}.\"\"\"\n        response = await async_client.delete(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=superuser_headers\n        )\n        \n        assert response.status_code == 204\n        \n        # Verify user is deleted\n        get_response = await async_client.get(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=superuser_headers\n        )\n        assert get_response.status_code == 404\n    \n    @pytest.mark.asyncio\n    async def test_unauthorized_access(self, async_client: AsyncClient):\n        \"\"\"Test unauthorized access to protected endpoints.\"\"\"\n        response = await async_client.get(\"/api/v1/users/\")\n        assert response.status_code == 401\n    \n    @pytest.mark.asyncio\n    async def test_forbidden_access(\n        self, \n        async_client: AsyncClient, \n        auth_headers: dict\n    ):\n        \"\"\"Test forbidden access to admin endpoints.\"\"\"\n        user_data = {\n            \"username\": \"unauthorized\",\n            \"email\": \"unauthorized@example.com\",\n            \"password\": \"pass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/users/\",\n            json=user_data,\n            headers=auth_headers  # Regular user, not superuser\n        )\n        \n        assert response.status_code == 403\n```\n\n## Authentication Testing\n\n```python\n# tests/test_api/test_auth.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom app.core.security import create_access_token, decode_token\n\nclass TestAuthAPI:\n    \"\"\"Test authentication API endpoints.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_register(\n        self, \n        async_client: AsyncClient\n    ):\n        \"\"\"Test user registration.\"\"\"\n        user_data = {\n            \"username\": \"newuser\",\n            \"email\": \"new@example.com\",\n            \"password\": \"newpass123\",\n            \"first_name\": \"New\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/register\",\n            json=user_data\n        )\n        \n        assert response.status_code == 201\n        data = response.json()\n        assert data[\"username\"] == user_data[\"username\"]\n        assert data[\"email\"] == user_data[\"email\"]\n        assert \"password\" not in data\n    \n    @pytest.mark.asyncio\n    async def test_register_duplicate_email(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test registration with duplicate email.\"\"\"\n        user_data = {\n            \"username\": \"different\",\n            \"email\": test_user.email,  # Duplicate email\n            \"password\": \"pass123\",\n            \"first_name\": \"Test\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/register\",\n            json=user_data\n        )\n        \n        assert response.status_code == 400\n        assert \"Email already registered\" in response.json()[\"detail\"]\n    \n    @pytest.mark.asyncio\n    async def test_login(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test user login.\"\"\"\n        login_data = {\n            \"username\": test_user.username,\n            \"password\": \"testpass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/login\",\n            data=login_data,\n            headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"access_token\" in data\n        assert \"refresh_token\" in data\n        assert data[\"token_type\"] == \"bearer\"\n        assert \"expires_in\" in data\n        \n        # Verify token is valid\n        payload = decode_token(data[\"access_token\"])\n        assert payload is not None\n        assert payload[\"sub\"] == str(test_user.id)\n    \n    @pytest.mark.asyncio\n    async def test_login_invalid_credentials(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test login with invalid credentials.\"\"\"\n        login_data = {\n            \"username\": test_user.username,\n            \"password\": \"wrongpassword\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/login\",\n            data=login_data,\n            headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n        )\n        \n        assert response.status_code == 401\n        assert \"Incorrect username or password\" in response.json()[\"detail\"]\n    \n    @pytest.mark.asyncio\n    async def test_get_current_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test get current user endpoint.\"\"\"\n        response = await async_client.get(\n            \"/api/v1/auth/me\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"id\"] == test_user.id\n        assert data[\"username\"] == test_user.username\n        assert data[\"email\"] == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_refresh_token(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test token refresh.\"\"\"\n        from app.core.security import create_refresh_token\n        \n        refresh_token = create_refresh_token(subject=test_user.id)\n        \n        response = await async_client.post(\n            \"/api/v1/auth/refresh\",\n            json={\"refresh_token\": refresh_token}\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"access_token\" in data\n        assert \"refresh_token\" in data\n        assert data[\"token_type\"] == \"bearer\"\n    \n    @pytest.mark.asyncio\n    async def test_change_password(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test password change.\"\"\"\n        password_data = {\n            \"current_password\": \"testpass123\",\n            \"new_password\": \"newpass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/change-password\",\n            json=password_data,\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        assert \"Password changed successfully\" in response.json()[\"message\"]\n```\n\n## Model Testing\n\n```python\n# tests/test_models/test_user.py\nimport pytest\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.models.user import User\nfrom app.core.security import verify_password, get_password_hash\n\nclass TestUserModel:\n    \"\"\"Test User model.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(self, db_session: AsyncSession):\n        \"\"\"Test user creation.\"\"\"\n        user_data = {\n            \"username\": \"testuser\",\n            \"email\": \"test@example.com\",\n            \"hashed_password\": get_password_hash(\"password123\"),\n            \"first_name\": \"Test\",\n            \"last_name\": \"User\"\n        }\n        \n        user = User(**user_data)\n        db_session.add(user)\n        await db_session.commit()\n        await db_session.refresh(user)\n        \n        assert user.id is not None\n        assert user.username == \"testuser\"\n        assert user.email == \"test@example.com\"\n        assert user.full_name == \"Test User\"\n        assert user.is_active is True\n        assert user.is_superuser is False\n        assert user.created_at is not None\n        assert user.updated_at is not None\n    \n    def test_password_verification(self):\n        \"\"\"Test password verification.\"\"\"\n        password = \"testpassword123\"\n        hashed = get_password_hash(password)\n        \n        user = User(\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=hashed,\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        assert user.verify_password(password)\n        assert not user.verify_password(\"wrongpassword\")\n    \n    def test_user_dict_excludes_password(self):\n        \"\"\"Test that dict() method excludes password.\"\"\"\n        user = User(\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=\"hashed_password\",\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        user_dict = user.dict()\n        assert \"hashed_password\" not in user_dict\n        assert \"username\" in user_dict\n        assert \"email\" in user_dict\n    \n    def test_user_repr(self):\n        \"\"\"Test user string representation.\"\"\"\n        user = User(\n            id=1,\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=\"hash\",\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        assert repr(user) == \"<User(id=1)>\"\n```\n\n## Repository Testing\n\n```python\n# tests/test_repositories/test_user.py\nimport pytest\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.security import get_password_hash\n\nclass TestUserRepository:\n    \"\"\"Test UserRepository.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(self, db_session: AsyncSession):\n        \"\"\"Test user creation through repository.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        user_data = {\n            \"username\": \"repouser\",\n            \"email\": \"repo@example.com\",\n            \"hashed_password\": get_password_hash(\"password123\"),\n            \"first_name\": \"Repo\",\n            \"last_name\": \"User\"\n        }\n        \n        user = await repo.create(user_data)\n        \n        assert user.id is not None\n        assert user.username == \"repouser\"\n        assert user.email == \"repo@example.com\"\n    \n    @pytest.mark.asyncio\n    async def test_get_by_email(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test get user by email.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        found_user = await repo.get_by_email(test_user.email)\n        \n        assert found_user is not None\n        assert found_user.id == test_user.id\n        assert found_user.email == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_get_by_username(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test get user by username.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        found_user = await repo.get_by_username(test_user.username)\n        \n        assert found_user is not None\n        assert found_user.id == test_user.id\n        assert found_user.username == test_user.username\n    \n    @pytest.mark.asyncio\n    async def test_get_multi_with_pagination(\n        self, \n        db_session: AsyncSession, \n        test_user: User\n    ):\n        \"\"\"Test get multiple users with pagination.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        # Create additional users\n        for i in range(5):\n            user_data = {\n                \"username\": f\"user{i}\",\n                \"email\": f\"user{i}@example.com\",\n                \"hashed_password\": get_password_hash(\"password123\"),\n                \"first_name\": f\"User{i}\",\n                \"last_name\": \"Test\"\n            }\n            await repo.create(user_data)\n        \n        # Test pagination\n        users = await repo.get_multi(skip=0, limit=3)\n        assert len(users) == 3\n        \n        users_page_2 = await repo.get_multi(skip=3, limit=3)\n        assert len(users_page_2) >= 1  # At least test_user\n    \n    @pytest.mark.asyncio\n    async def test_update_user(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test user update.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        updated_user = await repo.update(test_user.id, {\n            \"first_name\": \"Updated\",\n            \"bio\": \"Updated bio\"\n        })\n        \n        assert updated_user is not None\n        assert updated_user.first_name == \"Updated\"\n        assert updated_user.bio == \"Updated bio\"\n    \n    @pytest.mark.asyncio\n    async def test_delete_user(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test user deletion.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        result = await repo.delete(test_user.id)\n        assert result is True\n        \n        # Verify user is deleted\n        deleted_user = await repo.get(test_user.id)\n        assert deleted_user is None\n```\n\n## Performance Testing\n\n```python\n# tests/test_performance.py\nimport pytest\nimport time\nimport asyncio\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom tests.factories import UserFactory\n\n@pytest.mark.slow\nclass TestPerformance:\n    \"\"\"Test application performance.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_concurrent_requests(\n        self, \n        async_client: AsyncClient,\n        auth_headers: dict\n    ):\n        \"\"\"Test concurrent API requests.\"\"\"\n        \n        async def make_request():\n            response = await async_client.get(\n                \"/api/v1/users/\",\n                headers=auth_headers\n            )\n            return response.status_code\n        \n        # Make 10 concurrent requests\n        start_time = time.time()\n        tasks = [make_request() for _ in range(10)]\n        results = await asyncio.gather(*tasks)\n        end_time = time.time()\n        \n        # All requests should succeed\n        assert all(status == 200 for status in results)\n        \n        # Should complete within reasonable time\n        assert (end_time - start_time) < 5.0\n    \n    @pytest.mark.asyncio\n    async def test_large_dataset_pagination(\n        self, \n        async_client: AsyncClient,\n        db_session,\n        auth_headers: dict\n    ):\n        \"\"\"Test pagination with large dataset.\"\"\"\n        # Create 100 users\n        users = []\n        for i in range(100):\n            user = UserFactory.build()\n            users.append(user)\n        \n        db_session.add_all(users)\n        await db_session.commit()\n        \n        # Test pagination performance\n        start_time = time.time()\n        response = await async_client.get(\n            \"/api/v1/users/?skip=0&limit=50\",\n            headers=auth_headers\n        )\n        end_time = time.time()\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert len(data[\"items\"]) == 50\n        \n        # Should complete quickly\n        assert (end_time - start_time) < 1.0\n```\n\n## Mocking External Services\n\n```python\n# tests/test_external.py\nimport pytest\nimport respx\nimport httpx\nfrom app.services.email import EmailService\n\nclass TestExternalServices:\n    \"\"\"Test external service integrations.\"\"\"\n    \n    @pytest.mark.asyncio\n    @respx.mock\n    async def test_email_service(\n        self, \n        async_client: AsyncClient\n    ):\n        \"\"\"Test email service with mocked external API.\"\"\"\n        # Mock email service API\n        respx.post(\"https://api.emailservice.com/send\").mock(\n            return_value=httpx.Response(\n                200, \n                json={\"message\": \"Email sent successfully\"}\n            )\n        )\n        \n        email_service = EmailService()\n        result = await email_service.send_email(\n            to=\"test@example.com\",\n            subject=\"Test\",\n            body=\"Test email\"\n        )\n        \n        assert result[\"success\"] is True\n```\n\n## Test Utilities\n\n```python\n# tests/utils.py\nfrom typing import Dict, Any\nfrom httpx import Response\nimport json\n\ndef assert_response_status(response: Response, expected_status: int = 200):\n    \"\"\"Assert response status code.\"\"\"\n    assert response.status_code == expected_status, f\"Expected {expected_status}, got {response.status_code}. Response: {response.text}\"\n\ndef assert_response_json(response: Response, expected_keys: list[str] = None):\n    \"\"\"Assert response is valid JSON with expected keys.\"\"\"\n    assert response.headers.get(\"content-type\") == \"application/json\"\n    data = response.json()\n    \n    if expected_keys:\n        for key in expected_keys:\n            assert key in data, f\"Missing key '{key}' in response\"\n    \n    return data\n\ndef create_auth_headers(token: str) -> Dict[str, str]:\n    \"\"\"Create authorization headers with token.\"\"\"\n    return {\"Authorization\": f\"Bearer {token}\"}\n\nasync def create_test_users(db_session, count: int = 5) -> list:\n    \"\"\"Create multiple test users.\"\"\"\n    from tests.factories import UserFactory\n    \n    users = []\n    for i in range(count):\n        user = UserFactory.build()\n        users.append(user)\n    \n    db_session.add_all(users)\n    await db_session.commit()\n    \n    return users\n```\n"
              },
              {
                "name": "/app-factory",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/app-factory.md",
                "frontmatter": null,
                "content": "# Flask Application Factory Pattern\n\nCreate a scalable Flask application using the factory pattern with blueprints and configuration management.\n\n## Purpose\n\nThis command helps you set up a Flask application using the application factory pattern, which is the recommended approach for larger Flask applications.\n\n## Usage\n\n```\n/app-factory\n```\n\n## What this command does\n\n1. **Creates application factory** with proper structure\n2. **Sets up configuration management** for different environments\n3. **Implements blueprints** for modular design\n4. **Configures extensions** (database, auth, etc.)\n5. **Adds error handling** and logging\n\n## Example Output\n\n```python\n# app/__init__.py\nfrom flask import Flask\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom flask_login import LoginManager\nfrom flask_mail import Mail\nfrom flask_wtf.csrf import CSRFProtect\nfrom flask_cors import CORS\nimport logging\nfrom logging.handlers import RotatingFileHandler\nimport os\n\n# Initialize extensions\ndb = SQLAlchemy()\nmigrate = Migrate()\nlogin = LoginManager()\nmail = Mail()\ncsrf = CSRFProtect()\ncors = CORS()\n\ndef create_app(config_class=None):\n    \"\"\"Application factory function.\"\"\"\n    app = Flask(__name__)\n    \n    # Load configuration\n    if config_class is None:\n        config_class = os.environ.get('FLASK_CONFIG', 'development')\n    \n    if isinstance(config_class, str):\n        from app.config import config\n        app.config.from_object(config[config_class])\n    else:\n        app.config.from_object(config_class)\n    \n    # Initialize extensions\n    db.init_app(app)\n    migrate.init_app(app, db)\n    login.init_app(app)\n    mail.init_app(app)\n    csrf.init_app(app)\n    cors.init_app(app)\n    \n    # Configure login manager\n    login.login_view = 'auth.login'\n    login.login_message = 'Please log in to access this page.'\n    login.login_message_category = 'info'\n    \n    # Register blueprints\n    from app.main import bp as main_bp\n    app.register_blueprint(main_bp)\n    \n    from app.auth import bp as auth_bp\n    app.register_blueprint(auth_bp, url_prefix='/auth')\n    \n    from app.api import bp as api_bp\n    app.register_blueprint(api_bp, url_prefix='/api')\n    \n    from app.admin import bp as admin_bp\n    app.register_blueprint(admin_bp, url_prefix='/admin')\n    \n    # Error handlers\n    from app.errors import bp as errors_bp\n    app.register_blueprint(errors_bp)\n    \n    # Configure logging\n    if not app.debug and not app.testing:\n        if not os.path.exists('logs'):\n            os.mkdir('logs')\n        \n        file_handler = RotatingFileHandler(\n            'logs/app.log', \n            maxBytes=10240, \n            backupCount=10\n        )\n        file_handler.setFormatter(logging.Formatter(\n            '%(asctime)s %(levelname)s: %(message)s [in %(pathname)s:%(lineno)d]'\n        ))\n        file_handler.setLevel(logging.INFO)\n        app.logger.addHandler(file_handler)\n        \n        app.logger.setLevel(logging.INFO)\n        app.logger.info('Flask application startup')\n    \n    return app\n\n# Import models (avoid circular imports)\nfrom app import models\n```\n\n```python\n# app/config.py\nimport os\nfrom dotenv import load_dotenv\n\nbasedir = os.path.abspath(os.path.dirname(__file__))\nload_dotenv(os.path.join(basedir, '.env'))\n\nclass Config:\n    \"\"\"Base configuration class.\"\"\"\n    SECRET_KEY = os.environ.get('SECRET_KEY') or 'dev-secret-key'\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app.db')\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    \n    # Mail configuration\n    MAIL_SERVER = os.environ.get('MAIL_SERVER')\n    MAIL_PORT = int(os.environ.get('MAIL_PORT') or 587)\n    MAIL_USE_TLS = os.environ.get('MAIL_USE_TLS', 'true').lower() in ['true', 'on', '1']\n    MAIL_USERNAME = os.environ.get('MAIL_USERNAME')\n    MAIL_PASSWORD = os.environ.get('MAIL_PASSWORD')\n    ADMIN_EMAIL = os.environ.get('ADMIN_EMAIL')\n    \n    # Pagination\n    POSTS_PER_PAGE = 10\n    USERS_PER_PAGE = 50\n    \n    # Upload configuration\n    MAX_CONTENT_LENGTH = 16 * 1024 * 1024  # 16MB\n    UPLOAD_FOLDER = os.path.join(basedir, 'uploads')\n    \n    @staticmethod\n    def init_app(app):\n        pass\n\nclass DevelopmentConfig(Config):\n    \"\"\"Development configuration.\"\"\"\n    DEBUG = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DEV_DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app-dev.db')\n\nclass TestingConfig(Config):\n    \"\"\"Testing configuration.\"\"\"\n    TESTING = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('TEST_DATABASE_URL') or 'sqlite://'\n    WTF_CSRF_ENABLED = False\n\nclass ProductionConfig(Config):\n    \"\"\"Production configuration.\"\"\"\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app.db')\n    \n    @classmethod\n    def init_app(cls, app):\n        Config.init_app(app)\n        \n        # Log to stderr\n        import logging\n        from logging import StreamHandler\n        file_handler = StreamHandler()\n        file_handler.setLevel(logging.INFO)\n        app.logger.addHandler(file_handler)\n\nconfig = {\n    'development': DevelopmentConfig,\n    'testing': TestingConfig,\n    'production': ProductionConfig,\n    'default': DevelopmentConfig\n}\n```\n\n```python\n# app/main/__init__.py\nfrom flask import Blueprint\n\nbp = Blueprint('main', __name__)\n\nfrom app.main import routes\n```\n\n```python\n# app/main/routes.py\nfrom flask import render_template, request, current_app\nfrom app.main import bp\nfrom app.models import Post\n\n@bp.route('/')\n@bp.route('/index')\ndef index():\n    \"\"\"Home page.\"\"\"\n    page = request.args.get('page', 1, type=int)\n    posts = Post.query.filter_by(published=True).order_by(\n        Post.created_at.desc()\n    ).paginate(\n        page=page,\n        per_page=current_app.config['POSTS_PER_PAGE'],\n        error_out=False\n    )\n    \n    return render_template('index.html', posts=posts)\n\n@bp.route('/about')\ndef about():\n    \"\"\"About page.\"\"\"\n    return render_template('about.html')\n```\n\n```python\n# app/auth/__init__.py\nfrom flask import Blueprint\n\nbp = Blueprint('auth', __name__)\n\nfrom app.auth import routes\n```\n\n```python\n# app/auth/routes.py\nfrom flask import render_template, redirect, url_for, flash, request\nfrom flask_login import login_user, logout_user, login_required, current_user\nfrom werkzeug.urls import url_parse\nfrom app import db\nfrom app.auth import bp\nfrom app.auth.forms import LoginForm, RegistrationForm\nfrom app.models import User\n\n@bp.route('/login', methods=['GET', 'POST'])\ndef login():\n    \"\"\"User login.\"\"\"\n    if current_user.is_authenticated:\n        return redirect(url_for('main.index'))\n    \n    form = LoginForm()\n    if form.validate_on_submit():\n        user = User.query.filter_by(username=form.username.data).first()\n        if user is None or not user.check_password(form.password.data):\n            flash('Invalid username or password', 'error')\n            return redirect(url_for('auth.login'))\n        \n        login_user(user, remember=form.remember_me.data)\n        \n        next_page = request.args.get('next')\n        if not next_page or url_parse(next_page).netloc != '':\n            next_page = url_for('main.index')\n        \n        return redirect(next_page)\n    \n    return render_template('auth/login.html', form=form)\n\n@bp.route('/logout')\n@login_required\ndef logout():\n    \"\"\"User logout.\"\"\"\n    logout_user()\n    flash('You have been logged out.', 'info')\n    return redirect(url_for('main.index'))\n\n@bp.route('/register', methods=['GET', 'POST'])\ndef register():\n    \"\"\"User registration.\"\"\"\n    if current_user.is_authenticated:\n        return redirect(url_for('main.index'))\n    \n    form = RegistrationForm()\n    if form.validate_on_submit():\n        user = User(username=form.username.data, email=form.email.data)\n        user.set_password(form.password.data)\n        db.session.add(user)\n        db.session.commit()\n        \n        flash('Registration successful!', 'success')\n        return redirect(url_for('auth.login'))\n    \n    return render_template('auth/register.html', form=form)\n```\n\n```python\n# app/models.py\nfrom app import db, login\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom flask_login import UserMixin\nfrom datetime import datetime\n\nclass User(UserMixin, db.Model):\n    \"\"\"User model.\"\"\"\n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(64), index=True, unique=True)\n    email = db.Column(db.String(120), index=True, unique=True)\n    password_hash = db.Column(db.String(128))\n    created_at = db.Column(db.DateTime, index=True, default=datetime.utcnow)\n    \n    posts = db.relationship('Post', backref='author', lazy='dynamic')\n    \n    def set_password(self, password):\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        return check_password_hash(self.password_hash, password)\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n\n@login.user_loader\ndef load_user(id):\n    return User.query.get(int(id))\n\nclass Post(db.Model):\n    \"\"\"Post model.\"\"\"\n    id = db.Column(db.Integer, primary_key=True)\n    title = db.Column(db.String(100), nullable=False)\n    content = db.Column(db.Text, nullable=False)\n    published = db.Column(db.Boolean, default=False)\n    created_at = db.Column(db.DateTime, index=True, default=datetime.utcnow)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\n    \n    user_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=False)\n    \n    def __repr__(self):\n        return f'<Post {self.title}>'\n```\n\n```python\n# app.py (main application entry point)\nfrom app import create_app, db\nfrom app.models import User, Post\n\napp = create_app()\n\n@app.shell_context_processor\ndef make_shell_context():\n    \"\"\"Add models to shell context.\"\"\"\n    return {'db': db, 'User': User, 'Post': Post}\n\nif __name__ == '__main__':\n    app.run(debug=True)\n```\n\n## Project Structure\n\n```\nproject/\n‚îú‚îÄ‚îÄ app/\n‚îÇ   ‚îú‚îÄ‚îÄ __init__.py         # Application factory\n‚îÇ   ‚îú‚îÄ‚îÄ config.py           # Configuration classes\n‚îÇ   ‚îú‚îÄ‚îÄ models.py           # Database models\n‚îÇ   ‚îú‚îÄ‚îÄ main/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # Main blueprint\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.py       # Main routes\n‚îÇ   ‚îú‚îÄ‚îÄ auth/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # Auth blueprint\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes.py       # Auth routes\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ forms.py        # Auth forms\n‚îÇ   ‚îú‚îÄ‚îÄ api/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # API blueprint\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.py       # API routes\n‚îÇ   ‚îî‚îÄ‚îÄ templates/          # Jinja2 templates\n‚îú‚îÄ‚îÄ migrations/             # Database migrations\n‚îú‚îÄ‚îÄ logs/                   # Application logs\n‚îú‚îÄ‚îÄ app.py                  # Application entry point\n‚îú‚îÄ‚îÄ requirements.txt        # Dependencies\n‚îî‚îÄ‚îÄ .env                    # Environment variables\n```\n\n## Benefits of Application Factory\n\n- **Testing**: Easy to create app instances with different configs\n- **Scalability**: Modular design with blueprints\n- **Configuration**: Environment-specific settings\n- **Extensions**: Proper initialization order\n- **Maintainability**: Clear separation of concerns"
              },
              {
                "name": "/blueprint",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/blueprint.md",
                "frontmatter": null,
                "content": "# Flask Blueprint Generator\n\nCreate organized Flask blueprints for modular application structure.\n\n## Usage\n\n```bash\n# Create a new blueprint\nflask create-blueprint users\nflask create-blueprint api/v1\n```\n\n## Blueprint Structure\n\nGenerates a complete blueprint with:\n- Routes and view functions\n- Error handlers\n- Template folder structure\n- Static file organization\n\n## Example Blueprint\n\n```python\n# app/blueprints/users/__init__.py\nfrom flask import Blueprint\n\nusers_bp = Blueprint(\n    'users',\n    __name__,\n    url_prefix='/users',\n    template_folder='templates',\n    static_folder='static'\n)\n\nfrom . import routes, models\n\n# app/blueprints/users/routes.py\nfrom flask import render_template, request, redirect, url_for, flash\nfrom . import users_bp\nfrom .models import User\nfrom .forms import UserForm\n\n@users_bp.route('/')\ndef index():\n    \"\"\"List all users.\"\"\"\n    users = User.query.all()\n    return render_template('users/index.html', users=users)\n\n@users_bp.route('/create', methods=['GET', 'POST'])\ndef create():\n    \"\"\"Create a new user.\"\"\"\n    form = UserForm()\n    if form.validate_on_submit():\n        user = User(\n            username=form.username.data,\n            email=form.email.data\n        )\n        user.save()\n        flash('User created successfully!', 'success')\n        return redirect(url_for('users.index'))\n    return render_template('users/create.html', form=form)\n\n@users_bp.route('/<int:user_id>')\ndef detail(user_id):\n    \"\"\"Show user details.\"\"\"\n    user = User.query.get_or_404(user_id)\n    return render_template('users/detail.html', user=user)\n\n@users_bp.route('/<int:user_id>/edit', methods=['GET', 'POST'])\ndef edit(user_id):\n    \"\"\"Edit an existing user.\"\"\"\n    user = User.query.get_or_404(user_id)\n    form = UserForm(obj=user)\n    if form.validate_on_submit():\n        user.username = form.username.data\n        user.email = form.email.data\n        user.save()\n        flash('User updated successfully!', 'success')\n        return redirect(url_for('users.detail', user_id=user.id))\n    return render_template('users/edit.html', form=form, user=user)\n\n@users_bp.route('/<int:user_id>/delete', methods=['POST'])\ndef delete(user_id):\n    \"\"\"Delete a user.\"\"\"\n    user = User.query.get_or_404(user_id)\n    user.delete()\n    flash('User deleted successfully!', 'success')\n    return redirect(url_for('users.index'))\n\n# Error handlers\n@users_bp.errorhandler(404)\ndef not_found(error):\n    return render_template('users/404.html'), 404\n\n@users_bp.errorhandler(500)\ndef internal_error(error):\n    return render_template('users/500.html'), 500\n```\n\n## Blueprint Models\n\n```python\n# app/blueprints/users/models.py\nfrom app.extensions import db\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom datetime import datetime\n\nclass User(db.Model):\n    \"\"\"User model.\"\"\"\n    __tablename__ = 'users'\n    \n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(80), unique=True, nullable=False)\n    email = db.Column(db.String(120), unique=True, nullable=False)\n    password_hash = db.Column(db.String(255), nullable=False)\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\n    is_active = db.Column(db.Boolean, default=True)\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n    \n    def set_password(self, password):\n        \"\"\"Set password hash.\"\"\"\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        \"\"\"Check password hash.\"\"\"\n        return check_password_hash(self.password_hash, password)\n    \n    def save(self):\n        \"\"\"Save user to database.\"\"\"\n        db.session.add(self)\n        db.session.commit()\n    \n    def delete(self):\n        \"\"\"Delete user from database.\"\"\"\n        db.session.delete(self)\n        db.session.commit()\n    \n    def to_dict(self):\n        \"\"\"Convert to dictionary.\"\"\"\n        return {\n            'id': self.id,\n            'username': self.username,\n            'email': self.email,\n            'created_at': self.created_at.isoformat(),\n            'is_active': self.is_active\n        }\n```\n\n## Blueprint Forms\n\n```python\n# app/blueprints/users/forms.py\nfrom flask_wtf import FlaskForm\nfrom wtforms import StringField, EmailField, PasswordField, BooleanField\nfrom wtforms.validators import DataRequired, Email, Length, EqualTo\nfrom .models import User\n\nclass UserForm(FlaskForm):\n    \"\"\"User creation/edit form.\"\"\"\n    username = StringField(\n        'Username',\n        validators=[\n            DataRequired(),\n            Length(min=3, max=80)\n        ]\n    )\n    email = EmailField(\n        'Email',\n        validators=[\n            DataRequired(),\n            Email(),\n            Length(max=120)\n        ]\n    )\n    password = PasswordField(\n        'Password',\n        validators=[\n            DataRequired(),\n            Length(min=8)\n        ]\n    )\n    confirm_password = PasswordField(\n        'Confirm Password',\n        validators=[\n            DataRequired(),\n            EqualTo('password', message='Passwords must match')\n        ]\n    )\n    is_active = BooleanField('Active')\n    \n    def validate_username(self, field):\n        \"\"\"Validate username uniqueness.\"\"\"\n        if User.query.filter_by(username=field.data).first():\n            raise ValidationError('Username already exists.')\n    \n    def validate_email(self, field):\n        \"\"\"Validate email uniqueness.\"\"\"\n        if User.query.filter_by(email=field.data).first():\n            raise ValidationError('Email already registered.')\n```\n\n## Registration in Main App\n\n```python\n# app/__init__.py\nfrom flask import Flask\nfrom app.blueprints.users import users_bp\n\ndef create_app():\n    app = Flask(__name__)\n    \n    # Register blueprints\n    app.register_blueprint(users_bp)\n    \n    return app\n```\n\n## Template Structure\n\n```\ntemplates/\n‚îú‚îÄ‚îÄ base.html\n‚îî‚îÄ‚îÄ users/\n    ‚îú‚îÄ‚îÄ index.html\n    ‚îú‚îÄ‚îÄ create.html\n    ‚îú‚îÄ‚îÄ detail.html\n    ‚îú‚îÄ‚îÄ edit.html\n    ‚îú‚îÄ‚îÄ 404.html\n    ‚îî‚îÄ‚îÄ 500.html\n```\n\n## Best Practices\n\n- Use blueprints to organize related functionality\n- Keep models, forms, and routes in separate files\n- Implement proper error handling\n- Use URL prefixes for namespacing\n- Follow RESTful routing conventions\n- Include comprehensive docstrings\n- Add form validation and CSRF protection\n"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# Flask Database Management\n\nComplete database setup and management for Flask applications using SQLAlchemy.\n\n## Usage\n\n```bash\n# Initialize database\nflask db init\n\n# Create migration\nflask db migrate -m \"Initial migration\"\n\n# Apply migrations\nflask db upgrade\n\n# Downgrade migration\nflask db downgrade\n```\n\n## Database Configuration\n\n```python\n# config.py\nimport os\nfrom urllib.parse import quote_plus\n\nclass Config:\n    \"\"\"Base configuration.\"\"\"\n    SECRET_KEY = os.environ.get('SECRET_KEY') or 'dev-secret-key'\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    SQLALCHEMY_RECORD_QUERIES = True\n    \nclass DevelopmentConfig(Config):\n    \"\"\"Development configuration.\"\"\"\n    DEBUG = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///app.db'\n        \nclass ProductionConfig(Config):\n    \"\"\"Production configuration.\"\"\"\n    DEBUG = False\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        f\"postgresql://{os.environ.get('DB_USER')}:{quote_plus(os.environ.get('DB_PASSWORD'))}@\" \\\n        f\"{os.environ.get('DB_HOST')}:{os.environ.get('DB_PORT', '5432')}/{os.environ.get('DB_NAME')}\"\n    \nclass TestingConfig(Config):\n    \"\"\"Testing configuration.\"\"\"\n    TESTING = True\n    SQLALCHEMY_DATABASE_URI = 'sqlite:///:memory:'\n    WTF_CSRF_ENABLED = False\n\nconfig = {\n    'development': DevelopmentConfig,\n    'production': ProductionConfig,\n    'testing': TestingConfig,\n    'default': DevelopmentConfig\n}\n```\n\n## Database Extensions\n\n```python\n# app/extensions.py\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom flask_login import LoginManager\nfrom flask_wtf.csrf import CSRFProtect\nfrom flask_caching import Cache\nfrom flask_limiter import Limiter\nfrom flask_limiter.util import get_remote_address\n\n# Initialize extensions\ndb = SQLAlchemy()\nmigrate = Migrate()\nlogin_manager = LoginManager()\ncsrf = CSRFProtect()\ncache = Cache()\nlimiter = Limiter(key_func=get_remote_address)\n\ndef init_extensions(app):\n    \"\"\"Initialize Flask extensions.\"\"\"\n    db.init_app(app)\n    migrate.init_app(app, db)\n    login_manager.init_app(app)\n    csrf.init_app(app)\n    cache.init_app(app)\n    limiter.init_app(app)\n    \n    # Configure login manager\n    login_manager.login_view = 'auth.login'\n    login_manager.login_message = 'Please log in to access this page.'\n    login_manager.login_message_category = 'info'\n```\n\n## Base Model\n\n```python\n# app/models/base.py\nfrom app.extensions import db\nfrom datetime import datetime\nfrom sqlalchemy.ext.declarative import declared_attr\n\nclass TimestampMixin:\n    \"\"\"Add timestamp fields to model.\"\"\"\n    created_at = db.Column(db.DateTime, default=datetime.utcnow, nullable=False)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow, nullable=False)\n\nclass BaseModel(db.Model, TimestampMixin):\n    \"\"\"Base model with common functionality.\"\"\"\n    __abstract__ = True\n    \n    id = db.Column(db.Integer, primary_key=True)\n    \n    @declared_attr\n    def __tablename__(cls):\n        return cls.__name__.lower()\n    \n    def save(self, commit=True):\n        \"\"\"Save model to database.\"\"\"\n        db.session.add(self)\n        if commit:\n            db.session.commit()\n        return self\n    \n    def delete(self, commit=True):\n        \"\"\"Delete model from database.\"\"\"\n        db.session.delete(self)\n        if commit:\n            db.session.commit()\n    \n    def update(self, **kwargs):\n        \"\"\"Update model attributes.\"\"\"\n        for key, value in kwargs.items():\n            if hasattr(self, key):\n                setattr(self, key, value)\n        return self.save()\n    \n    def to_dict(self, exclude=None):\n        \"\"\"Convert model to dictionary.\"\"\"\n        exclude = exclude or []\n        return {\n            column.name: getattr(self, column.name)\n            for column in self.__table__.columns\n            if column.name not in exclude\n        }\n    \n    @classmethod\n    def get_or_404(cls, id):\n        \"\"\"Get model by ID or raise 404.\"\"\"\n        return cls.query.get_or_404(id)\n    \n    @classmethod\n    def create(cls, **kwargs):\n        \"\"\"Create new model instance.\"\"\"\n        instance = cls(**kwargs)\n        return instance.save()\n```\n\n## Example Models\n\n```python\n# app/models/user.py\nfrom app.extensions import db\nfrom app.models.base import BaseModel\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom flask_login import UserMixin\n\nclass User(UserMixin, BaseModel):\n    \"\"\"User model.\"\"\"\n    __tablename__ = 'users'\n    \n    username = db.Column(db.String(80), unique=True, nullable=False, index=True)\n    email = db.Column(db.String(120), unique=True, nullable=False, index=True)\n    password_hash = db.Column(db.String(255), nullable=False)\n    first_name = db.Column(db.String(50), nullable=False)\n    last_name = db.Column(db.String(50), nullable=False)\n    is_active = db.Column(db.Boolean, default=True, nullable=False)\n    is_admin = db.Column(db.Boolean, default=False, nullable=False)\n    last_login = db.Column(db.DateTime)\n    \n    # Relationships\n    posts = db.relationship('Post', backref='author', lazy='dynamic', cascade='all, delete-orphan')\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n    \n    def set_password(self, password):\n        \"\"\"Set password hash.\"\"\"\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        \"\"\"Check password hash.\"\"\"\n        return check_password_hash(self.password_hash, password)\n    \n    @property\n    def full_name(self):\n        \"\"\"Get user's full name.\"\"\"\n        return f\"{self.first_name} {self.last_name}\"\n    \n    def to_dict(self, exclude=None):\n        \"\"\"Convert to dictionary excluding sensitive data.\"\"\"\n        exclude = exclude or ['password_hash']\n        return super().to_dict(exclude=exclude)\n\n# app/models/post.py\nclass Post(BaseModel):\n    \"\"\"Blog post model.\"\"\"\n    __tablename__ = 'posts'\n    \n    title = db.Column(db.String(200), nullable=False)\n    content = db.Column(db.Text, nullable=False)\n    slug = db.Column(db.String(200), unique=True, nullable=False, index=True)\n    status = db.Column(db.String(20), default='draft', nullable=False)\n    published_at = db.Column(db.DateTime)\n    \n    # Foreign keys\n    user_id = db.Column(db.Integer, db.ForeignKey('users.id'), nullable=False)\n    category_id = db.Column(db.Integer, db.ForeignKey('categories.id'))\n    \n    # Relationships\n    category = db.relationship('Category', backref='posts')\n    tags = db.relationship('Tag', secondary='post_tags', backref='posts')\n    \n    def __repr__(self):\n        return f'<Post {self.title}>'\n    \n    @property\n    def is_published(self):\n        \"\"\"Check if post is published.\"\"\"\n        return self.status == 'published' and self.published_at is not None\n```\n\n## Database CLI Commands\n\n```python\n# app/cli.py\nimport click\nfrom flask import current_app\nfrom flask.cli import with_appcontext\nfrom app.extensions import db\nfrom app.models import User, Post, Category\n\n@click.command()\n@with_appcontext\ndef init_db():\n    \"\"\"Initialize database.\"\"\"\n    db.create_all()\n    click.echo('Database initialized.')\n\n@click.command()\n@with_appcontext\ndef seed_db():\n    \"\"\"Seed database with sample data.\"\"\"\n    # Create admin user\n    admin = User(\n        username='admin',\n        email='admin@example.com',\n        first_name='Admin',\n        last_name='User',\n        is_admin=True\n    )\n    admin.set_password('admin123')\n    admin.save()\n    \n    # Create sample category\n    category = Category(\n        name='Technology',\n        description='Tech-related posts'\n    )\n    category.save()\n    \n    # Create sample post\n    post = Post(\n        title='Welcome to Flask',\n        content='This is a sample blog post.',\n        slug='welcome-to-flask',\n        status='published',\n        user_id=admin.id,\n        category_id=category.id\n    )\n    post.save()\n    \n    click.echo('Database seeded with sample data.')\n\n@click.command()\n@with_appcontext\ndef reset_db():\n    \"\"\"Reset database.\"\"\"\n    if click.confirm('Are you sure you want to reset the database?'):\n        db.drop_all()\n        db.create_all()\n        click.echo('Database reset.')\n\ndef init_commands(app):\n    \"\"\"Register CLI commands.\"\"\"\n    app.cli.add_command(init_db)\n    app.cli.add_command(seed_db)\n    app.cli.add_command(reset_db)\n```\n\n## Connection Pooling\n\n```python\n# app/database.py\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.pool import QueuePool\n\ndef configure_database(app):\n    \"\"\"Configure database with connection pooling.\"\"\"\n    if app.config.get('SQLALCHEMY_DATABASE_URI', '').startswith('postgresql'):\n        # PostgreSQL configuration\n        engine = create_engine(\n            app.config['SQLALCHEMY_DATABASE_URI'],\n            poolclass=QueuePool,\n            pool_size=10,\n            max_overflow=20,\n            pool_recycle=3600,\n            pool_pre_ping=True\n        )\n        app.config['SQLALCHEMY_ENGINE_OPTIONS'] = {\n            'pool_size': 10,\n            'max_overflow': 20,\n            'pool_recycle': 3600,\n            'pool_pre_ping': True\n        }\n```\n\n## Database Utilities\n\n```python\n# app/utils/database.py\nfrom app.extensions import db\nfrom sqlalchemy import text\nfrom flask import current_app\n\ndef execute_sql(sql, params=None):\n    \"\"\"Execute raw SQL query.\"\"\"\n    with db.engine.connect() as conn:\n        result = conn.execute(text(sql), params or {})\n        return result.fetchall()\n\ndef backup_database():\n    \"\"\"Create database backup.\"\"\"\n    # Implementation depends on database type\n    pass\n\ndef check_database_health():\n    \"\"\"Check database connection health.\"\"\"\n    try:\n        db.session.execute(text('SELECT 1'))\n        return True\n    except Exception as e:\n        current_app.logger.error(f'Database health check failed: {e}')\n        return False\n\ndef get_table_info(table_name):\n    \"\"\"Get table information.\"\"\"\n    inspector = db.inspect(db.engine)\n    return {\n        'columns': inspector.get_columns(table_name),\n        'indexes': inspector.get_indexes(table_name),\n        'foreign_keys': inspector.get_foreign_keys(table_name)\n    }\n```\n\n## Testing Database\n\n```python\n# tests/conftest.py\nimport pytest\nfrom app import create_app\nfrom app.extensions import db\nfrom app.models import User\n\n@pytest.fixture(scope='session')\ndef app():\n    \"\"\"Create test app.\"\"\"\n    app = create_app('testing')\n    with app.app_context():\n        db.create_all()\n        yield app\n        db.drop_all()\n\n@pytest.fixture\ndef client(app):\n    \"\"\"Create test client.\"\"\"\n    return app.test_client()\n\n@pytest.fixture\ndef db_session(app):\n    \"\"\"Create database session for testing.\"\"\"\n    with app.app_context():\n        db.session.begin()\n        yield db.session\n        db.session.rollback()\n\n@pytest.fixture\ndef user(db_session):\n    \"\"\"Create test user.\"\"\"\n    user = User(\n        username='testuser',\n        email='test@example.com',\n        first_name='Test',\n        last_name='User'\n    )\n    user.set_password('testpass')\n    user.save()\n    return user\n```\n"
              },
              {
                "name": "/deployment",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/deployment.md",
                "frontmatter": null,
                "content": "# Flask Deployment Configuration\n\nComplete production deployment setup for Flask applications.\n\n## Usage\n\n```bash\n# Build Docker image\ndocker build -t myapp .\n\n# Run with Docker Compose\ndocker-compose up -d\n\n# Deploy to cloud\ngunicorn --bind 0.0.0.0:8000 app:app\n```\n\n## Production Configuration\n\n```python\n# config.py\nimport os\nfrom urllib.parse import quote_plus\n\nclass ProductionConfig:\n    \"\"\"Production configuration.\"\"\"\n    \n    # Security\n    SECRET_KEY = os.environ.get('SECRET_KEY')\n    DEBUG = False\n    TESTING = False\n    \n    # Database\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        f\"postgresql://{os.environ.get('DB_USER')}:{quote_plus(os.environ.get('DB_PASSWORD'))}@\" \\\n        f\"{os.environ.get('DB_HOST')}:{os.environ.get('DB_PORT', '5432')}/{os.environ.get('DB_NAME')}\"\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    SQLALCHEMY_ENGINE_OPTIONS = {\n        'pool_size': 10,\n        'max_overflow': 20,\n        'pool_recycle': 3600,\n        'pool_pre_ping': True\n    }\n    \n    # Security Headers\n    SECURITY_HEADERS = {\n        'Strict-Transport-Security': 'max-age=31536000; includeSubDomains',\n        'X-Content-Type-Options': 'nosniff',\n        'X-Frame-Options': 'DENY',\n        'X-XSS-Protection': '1; mode=block',\n        'Content-Security-Policy': \"default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'\"\n    }\n    \n    # Session\n    SESSION_COOKIE_SECURE = True\n    SESSION_COOKIE_HTTPONLY = True\n    SESSION_COOKIE_SAMESITE = 'Lax'\n    PERMANENT_SESSION_LIFETIME = 3600  # 1 hour\n    \n    # Cache\n    CACHE_TYPE = 'redis'\n    CACHE_REDIS_URL = os.environ.get('REDIS_URL', 'redis://localhost:6379/0')\n    CACHE_DEFAULT_TIMEOUT = 300\n    \n    # Rate Limiting\n    RATELIMIT_STORAGE_URL = os.environ.get('REDIS_URL', 'redis://localhost:6379/1')\n    RATELIMIT_DEFAULT = '100/hour'\n    \n    # Logging\n    LOG_LEVEL = os.environ.get('LOG_LEVEL', 'INFO')\n    LOG_FILE = os.environ.get('LOG_FILE', '/var/log/app/app.log')\n    \n    # File Upload\n    MAX_CONTENT_LENGTH = 16 * 1024 * 1024  # 16MB\n    UPLOAD_FOLDER = os.environ.get('UPLOAD_FOLDER', '/var/uploads')\n    \n    # Email\n    MAIL_SERVER = os.environ.get('MAIL_SERVER')\n    MAIL_PORT = int(os.environ.get('MAIL_PORT', 587))\n    MAIL_USE_TLS = os.environ.get('MAIL_USE_TLS', 'true').lower() in ['true', 'on', '1']\n    MAIL_USERNAME = os.environ.get('MAIL_USERNAME')\n    MAIL_PASSWORD = os.environ.get('MAIL_PASSWORD')\n    MAIL_DEFAULT_SENDER = os.environ.get('MAIL_DEFAULT_SENDER')\n```\n\n## WSGI Configuration\n\n```python\n# wsgi.py\nimport os\nfrom app import create_app\n\n# Get environment\nconfig_name = os.environ.get('FLASK_ENV', 'production')\napp = create_app(config_name)\n\nif __name__ == \"__main__\":\n    app.run()\n```\n\n## Gunicorn Configuration\n\n```python\n# gunicorn.conf.py\nimport multiprocessing\nimport os\n\n# Server socket\nbind = f\"0.0.0.0:{os.environ.get('PORT', 8000)}\"\nbacklog = 2048\n\n# Worker processes\nworkers = multiprocessing.cpu_count() * 2 + 1\nworker_class = 'sync'\nworker_connections = 1000\ntimeout = 30\nkeepalive = 60\nmax_requests = 1000\nmax_requests_jitter = 100\n\n# Security\nlimit_request_line = 4094\nlimit_request_fields = 100\nlimit_request_field_size = 8190\n\n# Logging\naccesslog = '-'\nerrorlog = '-'\nloglevel = os.environ.get('LOG_LEVEL', 'info').lower()\naccess_log_format = '%(h)s %(l)s %(u)s %(t)s \"%(r)s\" %(s)s %(b)s \"%(f)s\" \"%(a)s\" %(D)s'\n\n# Process naming\nproc_name = 'flask_app'\n\n# Server mechanics\ndaemon = False\npidfile = '/tmp/gunicorn.pid'\nuser = os.environ.get('USER', 'www-data')\ngroup = os.environ.get('GROUP', 'www-data')\ntmp_upload_dir = None\n\n# SSL\nkeyfile = os.environ.get('SSL_KEYFILE')\ncertfile = os.environ.get('SSL_CERTFILE')\n```\n\n## Docker Configuration\n\n```dockerfile\n# Dockerfile\nFROM python:3.11-slim\n\n# Set environment variables\nENV PYTHONDONTWRITEBYTECODE=1 \\\n    PYTHONUNBUFFERED=1 \\\n    PIP_NO_CACHE_DIR=1 \\\n    PIP_DISABLE_PIP_VERSION_CHECK=1\n\n# Install system dependencies\nRUN apt-get update && apt-get install -y \\\n    build-essential \\\n    libpq-dev \\\n    curl \\\n    && rm -rf /var/lib/apt/lists/*\n\n# Create app user\nRUN groupadd -r appuser && useradd -r -g appuser appuser\n\n# Set work directory\nWORKDIR /app\n\n# Install Python dependencies\nCOPY requirements/production.txt ./requirements.txt\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy application code\nCOPY . .\n\n# Create necessary directories\nRUN mkdir -p /var/log/app /var/uploads && \\\n    chown -R appuser:appuser /app /var/log/app /var/uploads\n\n# Switch to non-root user\nUSER appuser\n\n# Expose port\nEXPOSE 8000\n\n# Health check\nHEALTHCHECK --interval=30s --timeout=30s --start-period=5s --retries=3 \\\n    CMD curl -f http://localhost:8000/health || exit 1\n\n# Run application\nCMD [\"gunicorn\", \"--config\", \"gunicorn.conf.py\", \"wsgi:app\"]\n```\n\n## Docker Compose\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\n\nservices:\n  web:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - FLASK_ENV=production\n      - DATABASE_URL=postgresql://postgres:password@db:5432/myapp\n      - REDIS_URL=redis://redis:6379/0\n      - SECRET_KEY=${SECRET_KEY}\n    depends_on:\n      - db\n      - redis\n    volumes:\n      - uploads:/var/uploads\n      - logs:/var/log/app\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8000/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  db:\n    image: postgres:15\n    environment:\n      - POSTGRES_DB=myapp\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U postgres\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  redis:\n    image: redis:7-alpine\n    command: redis-server --appendonly yes\n    volumes:\n      - redis_data:/data\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD\", \"redis-cli\", \"ping\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  nginx:\n    image: nginx:alpine\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf:ro\n      - ./ssl:/etc/nginx/ssl:ro\n      - uploads:/var/uploads:ro\n    depends_on:\n      - web\n    restart: unless-stopped\n\nvolumes:\n  postgres_data:\n  redis_data:\n  uploads:\n  logs:\n```\n\n## Nginx Configuration\n\n```nginx\n# nginx.conf\nevents {\n    worker_connections 1024;\n}\n\nhttp {\n    upstream app {\n        server web:8000;\n    }\n    \n    # Rate limiting\n    limit_req_zone $binary_remote_addr zone=api:10m rate=10r/s;\n    limit_req_zone $binary_remote_addr zone=login:10m rate=1r/s;\n    \n    # SSL configuration\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384;\n    ssl_prefer_server_ciphers off;\n    \n    # Security headers\n    add_header X-Frame-Options DENY;\n    add_header X-Content-Type-Options nosniff;\n    add_header X-XSS-Protection \"1; mode=block\";\n    add_header Strict-Transport-Security \"max-age=31536000; includeSubDomains\" always;\n    \n    server {\n        listen 80;\n        server_name example.com www.example.com;\n        return 301 https://$server_name$request_uri;\n    }\n    \n    server {\n        listen 443 ssl http2;\n        server_name example.com www.example.com;\n        \n        ssl_certificate /etc/nginx/ssl/cert.pem;\n        ssl_certificate_key /etc/nginx/ssl/key.pem;\n        \n        # File upload size\n        client_max_body_size 16M;\n        \n        # Static files\n        location /static/ {\n            alias /var/uploads/static/;\n            expires 1y;\n            add_header Cache-Control \"public, immutable\";\n        }\n        \n        location /uploads/ {\n            alias /var/uploads/;\n            expires 1h;\n        }\n        \n        # API rate limiting\n        location /api/ {\n            limit_req zone=api burst=20 nodelay;\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n        \n        # Login rate limiting\n        location /auth/login {\n            limit_req zone=login burst=5 nodelay;\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n        \n        # Main application\n        location / {\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n            \n            # Timeout settings\n            proxy_connect_timeout 60s;\n            proxy_send_timeout 60s;\n            proxy_read_timeout 60s;\n        }\n    }\n}\n```\n\n## Environment Variables\n\n```bash\n# .env.production\n# Application\nFLASK_ENV=production\nSECRET_KEY=your-super-secret-key-here\n\n# Database\nDATABASE_URL=postgresql://user:password@localhost:5432/myapp\nDB_HOST=localhost\nDB_PORT=5432\nDB_NAME=myapp\nDB_USER=user\nDB_PASSWORD=password\n\n# Redis\nREDIS_URL=redis://localhost:6379/0\n\n# Email\nMAIL_SERVER=smtp.gmail.com\nMAIL_PORT=587\nMAIL_USE_TLS=true\nMAIL_USERNAME=your-email@gmail.com\nMAIL_PASSWORD=your-app-password\nMAIL_DEFAULT_SENDER=your-email@gmail.com\n\n# Logging\nLOG_LEVEL=INFO\nLOG_FILE=/var/log/app/app.log\n\n# File Upload\nUPLOAD_FOLDER=/var/uploads\n\n# SSL (if using)\nSSL_KEYFILE=/path/to/private.key\nSSL_CERTFILE=/path/to/certificate.crt\n```\n\n## Health Check Endpoint\n\n```python\n# app/health.py\nfrom flask import Blueprint, jsonify\nfrom app.extensions import db\nfrom sqlalchemy import text\nimport redis\nimport os\n\nhealth_bp = Blueprint('health', __name__)\n\n@health_bp.route('/health')\ndef health_check():\n    \"\"\"Application health check.\"\"\"\n    checks = {\n        'status': 'healthy',\n        'database': check_database(),\n        'redis': check_redis(),\n        'disk_space': check_disk_space()\n    }\n    \n    # Determine overall status\n    if all(check['status'] == 'ok' for check in checks.values() if isinstance(check, dict)):\n        status_code = 200\n    else:\n        status_code = 503\n        checks['status'] = 'unhealthy'\n    \n    return jsonify(checks), status_code\n\ndef check_database():\n    \"\"\"Check database connectivity.\"\"\"\n    try:\n        db.session.execute(text('SELECT 1'))\n        return {'status': 'ok', 'message': 'Database connection successful'}\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n\ndef check_redis():\n    \"\"\"Check Redis connectivity.\"\"\"\n    try:\n        redis_url = os.environ.get('REDIS_URL', 'redis://localhost:6379/0')\n        r = redis.from_url(redis_url)\n        r.ping()\n        return {'status': 'ok', 'message': 'Redis connection successful'}\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n\ndef check_disk_space():\n    \"\"\"Check available disk space.\"\"\"\n    try:\n        import shutil\n        total, used, free = shutil.disk_usage('/')\n        free_percent = (free / total) * 100\n        \n        if free_percent > 10:\n            status = 'ok'\n        elif free_percent > 5:\n            status = 'warning'\n        else:\n            status = 'critical'\n        \n        return {\n            'status': status,\n            'free_space_percent': round(free_percent, 2),\n            'free_space_gb': round(free / (1024**3), 2)\n        }\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n```\n\n## Monitoring and Logging\n\n```python\n# app/logging.py\nimport logging\nimport logging.handlers\nimport os\nfrom flask import request, g\nimport time\n\ndef setup_logging(app):\n    \"\"\"Setup application logging.\"\"\"\n    if not app.debug and not app.testing:\n        # File logging\n        if app.config.get('LOG_FILE'):\n            file_handler = logging.handlers.RotatingFileHandler(\n                app.config['LOG_FILE'],\n                maxBytes=10240000,  # 10MB\n                backupCount=10\n            )\n            file_handler.setFormatter(logging.Formatter(\n                '%(asctime)s %(levelname)s: %(message)s '\n                '[in %(pathname)s:%(lineno)d]'\n            ))\n            file_handler.setLevel(getattr(logging, app.config.get('LOG_LEVEL', 'INFO')))\n            app.logger.addHandler(file_handler)\n        \n        # Console logging\n        if not app.logger.handlers:\n            stream_handler = logging.StreamHandler()\n            stream_handler.setFormatter(logging.Formatter(\n                '%(asctime)s %(levelname)s: %(message)s'\n            ))\n            stream_handler.setLevel(logging.INFO)\n            app.logger.addHandler(stream_handler)\n        \n        app.logger.setLevel(logging.INFO)\n        app.logger.info('Application startup')\n\n# Request timing middleware\n@app.before_request\ndef before_request():\n    g.start_time = time.time()\n\n@app.after_request\ndef after_request(response):\n    if hasattr(g, 'start_time'):\n        duration = time.time() - g.start_time\n        app.logger.info(\n            f'{request.method} {request.path} - '\n            f'{response.status_code} - {duration:.3f}s'\n        )\n    return response\n```\n\n## Database Backup Script\n\n```bash\n#!/bin/bash\n# backup.sh\n\nset -e\n\n# Configuration\nBACKUP_DIR=\"/var/backups/db\"\nDATABASE_URL=\"$DATABASE_URL\"\nDATE=$(date +%Y%m%d_%H%M%S)\nBACKUP_FILE=\"$BACKUP_DIR/backup_$DATE.sql\"\nRETENTION_DAYS=7\n\n# Create backup directory\nmkdir -p \"$BACKUP_DIR\"\n\n# Create backup\necho \"Creating database backup...\"\npg_dump \"$DATABASE_URL\" > \"$BACKUP_FILE\"\n\n# Compress backup\ngzip \"$BACKUP_FILE\"\n\n# Remove old backups\necho \"Cleaning up old backups...\"\nfind \"$BACKUP_DIR\" -name \"backup_*.sql.gz\" -mtime +$RETENTION_DAYS -delete\n\necho \"Backup completed: $BACKUP_FILE.gz\"\n```\n\n## Deployment Scripts\n\n```bash\n#!/bin/bash\n# deploy.sh\n\nset -e\n\necho \"Starting deployment...\"\n\n# Pull latest code\ngit pull origin main\n\n# Build new Docker image\ndocker-compose build web\n\n# Run database migrations\ndocker-compose run --rm web flask db upgrade\n\n# Update services\ndocker-compose up -d\n\n# Health check\necho \"Waiting for application to be ready...\"\nsleep 10\n\nif curl -f http://localhost:8000/health; then\n    echo \"Deployment successful!\"\nelse\n    echo \"Deployment failed - health check failed\"\n    exit 1\nfi\n```\n\n## Monitoring with Prometheus\n\n```python\n# app/metrics.py\nfrom prometheus_flask_exporter import PrometheusMetrics\nfrom flask import request\nimport time\n\ndef setup_metrics(app):\n    \"\"\"Setup Prometheus metrics.\"\"\"\n    metrics = PrometheusMetrics(app)\n    \n    # Custom metrics\n    metrics.info('app_info', 'Application info', version='1.0.0')\n    \n    # Database connection pool metrics\n    @metrics.gauge('db_pool_size', 'Database connection pool size')\n    def db_pool_size():\n        from app.extensions import db\n        return db.engine.pool.size()\n    \n    return metrics\n```\n"
              },
              {
                "name": "/flask-route",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/flask-route.md",
                "frontmatter": null,
                "content": "# Flask Route Generator\n\nCreate Flask routes with proper structure and error handling.\n\n## Purpose\n\nThis command helps you quickly create Flask routes with validation, error handling, and best practices.\n\n## Usage\n\n```\n/flask-route\n```\n\n## What this command does\n\n1. **Creates route functions** with proper decorators\n2. **Adds request validation** and error handling\n3. **Includes JSON responses** and status codes\n4. **Implements authentication** if needed\n5. **Follows Flask conventions** and best practices\n\n## Example Output\n\n```python\n# routes.py or app.py\nfrom flask import Flask, request, jsonify, abort\nfrom flask_sqlalchemy import SQLAlchemy\nfrom werkzeug.exceptions import BadRequest\n\napp = Flask(__name__)\n\n@app.route('/users', methods=['GET'])\ndef get_users():\n    \"\"\"Get all users with optional pagination.\"\"\"\n    try:\n        page = request.args.get('page', 1, type=int)\n        per_page = request.args.get('per_page', 10, type=int)\n        \n        users = User.query.paginate(\n            page=page, \n            per_page=per_page, \n            error_out=False\n        )\n        \n        return jsonify({\n            'users': [user.to_dict() for user in users.items],\n            'total': users.total,\n            'pages': users.pages,\n            'current_page': page\n        }), 200\n        \n    except Exception as e:\n        return jsonify({'error': 'Failed to fetch users'}), 500\n\n@app.route('/users/<int:user_id>', methods=['GET'])\ndef get_user(user_id):\n    \"\"\"Get a specific user by ID.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        return jsonify(user.to_dict()), 200\n        \n    except Exception as e:\n        return jsonify({'error': 'User not found'}), 404\n\n@app.route('/users', methods=['POST'])\ndef create_user():\n    \"\"\"Create a new user.\"\"\"\n    try:\n        data = request.get_json()\n        \n        if not data:\n            return jsonify({'error': 'No data provided'}), 400\n        \n        # Validate required fields\n        required_fields = ['name', 'email']\n        for field in required_fields:\n            if field not in data:\n                return jsonify({'error': f'{field} is required'}), 400\n        \n        # Check if email already exists\n        if User.query.filter_by(email=data['email']).first():\n            return jsonify({'error': 'Email already exists'}), 409\n        \n        # Create new user\n        user = User(\n            name=data['name'],\n            email=data['email'],\n            phone=data.get('phone'),\n            address=data.get('address')\n        )\n        \n        db.session.add(user)\n        db.session.commit()\n        \n        return jsonify(user.to_dict()), 201\n        \n    except BadRequest:\n        return jsonify({'error': 'Invalid JSON data'}), 400\n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to create user'}), 500\n\n@app.route('/users/<int:user_id>', methods=['PUT'])\ndef update_user(user_id):\n    \"\"\"Update an existing user.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        data = request.get_json()\n        \n        if not data:\n            return jsonify({'error': 'No data provided'}), 400\n        \n        # Update fields\n        if 'name' in data:\n            user.name = data['name']\n        if 'email' in data:\n            # Check if new email already exists\n            existing_user = User.query.filter_by(email=data['email']).first()\n            if existing_user and existing_user.id != user_id:\n                return jsonify({'error': 'Email already exists'}), 409\n            user.email = data['email']\n        if 'phone' in data:\n            user.phone = data['phone']\n        if 'address' in data:\n            user.address = data['address']\n        \n        db.session.commit()\n        \n        return jsonify(user.to_dict()), 200\n        \n    except BadRequest:\n        return jsonify({'error': 'Invalid JSON data'}), 400\n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to update user'}), 500\n\n@app.route('/users/<int:user_id>', methods=['DELETE'])\ndef delete_user(user_id):\n    \"\"\"Delete a user.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        \n        db.session.delete(user)\n        db.session.commit()\n        \n        return jsonify({'message': 'User deleted successfully'}), 200\n        \n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to delete user'}), 500\n\n# Error handlers\n@app.errorhandler(404)\ndef not_found(error):\n    return jsonify({'error': 'Resource not found'}), 404\n\n@app.errorhandler(400)\ndef bad_request(error):\n    return jsonify({'error': 'Bad request'}), 400\n\n@app.errorhandler(500)\ndef internal_error(error):\n    return jsonify({'error': 'Internal server error'}), 500\n```\n\n## Route Patterns Supported\n\n### Basic Routes\n```python\n@app.route('/')\n@app.route('/users')\n@app.route('/users/<int:user_id>')\n```\n\n### HTTP Methods\n```python\n@app.route('/users', methods=['GET', 'POST'])\n@app.route('/users/<int:id>', methods=['GET', 'PUT', 'DELETE'])\n```\n\n### URL Parameters\n```python\n@app.route('/users/<int:user_id>')\n@app.route('/posts/<string:slug>')\n@app.route('/files/<path:filename>')\n```\n\n## Best Practices Included\n\n- **Input validation** for all user data\n- **Proper HTTP status codes** (200, 201, 400, 404, 500)\n- **JSON responses** with consistent structure\n- **Error handling** with try/catch blocks\n- **Database rollback** on errors\n- **RESTful conventions** for URL design\n- **Documentation strings** for each route\n- **Request data validation** before processing\n\n## Common Response Patterns\n\n```python\n# Success with data\nreturn jsonify({'data': result}), 200\n\n# Created resource\nreturn jsonify({'data': new_resource, 'id': new_id}), 201\n\n# Validation error\nreturn jsonify({'error': 'Field is required'}), 400\n\n# Not found\nreturn jsonify({'error': 'Resource not found'}), 404\n\n# Server error\nreturn jsonify({'error': 'Internal server error'}), 500\n```"
              },
              {
                "name": "/testing",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/testing.md",
                "frontmatter": null,
                "content": "# Flask Testing Suite\n\nComprehensive testing setup for Flask applications with pytest.\n\n## Usage\n\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=app --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n```\n\n## Test Configuration\n\n```python\n# pytest.ini\n[tool:pytest]\ntestpaths = tests\npython_files = test_*.py\npython_classes = Test*\npython_functions = test_*\naddopts = \n    --cov=app\n    --cov-report=term-missing\n    --cov-report=html:htmlcov\n    --strict-markers\n    --disable-warnings\nmarkers =\n    unit: Unit tests\n    integration: Integration tests\n    slow: Slow running tests\n    auth: Authentication tests\n```\n\n## Test Fixtures\n\n```python\n# tests/conftest.py\nimport pytest\nimport tempfile\nimport os\nfrom app import create_app\nfrom app.extensions import db\nfrom app.models import User, Post, Category\nfrom flask_login import login_user\n\n@pytest.fixture(scope='session')\ndef app():\n    \"\"\"Create test application.\"\"\"\n    # Create temporary database\n    db_fd, db_path = tempfile.mkstemp()\n    \n    app = create_app({\n        'TESTING': True,\n        'SQLALCHEMY_DATABASE_URI': f'sqlite:///{db_path}',\n        'WTF_CSRF_ENABLED': False,\n        'SECRET_KEY': 'test-secret-key'\n    })\n    \n    with app.app_context():\n        db.create_all()\n        yield app\n        \n    # Cleanup\n    os.close(db_fd)\n    os.unlink(db_path)\n\n@pytest.fixture\ndef client(app):\n    \"\"\"Create test client.\"\"\"\n    return app.test_client()\n\n@pytest.fixture\ndef runner(app):\n    \"\"\"Create test CLI runner.\"\"\"\n    return app.test_cli_runner()\n\n@pytest.fixture\ndef db_session(app):\n    \"\"\"Create database session for testing.\"\"\"\n    with app.app_context():\n        connection = db.engine.connect()\n        transaction = connection.begin()\n        \n        # Configure session to use the connection\n        db.session.configure(bind=connection)\n        \n        yield db.session\n        \n        # Rollback transaction\n        transaction.rollback()\n        connection.close()\n        db.session.remove()\n\n@pytest.fixture\ndef user(db_session):\n    \"\"\"Create test user.\"\"\"\n    user = User(\n        username='testuser',\n        email='test@example.com',\n        first_name='Test',\n        last_name='User'\n    )\n    user.set_password('testpass123')\n    user.save()\n    return user\n\n@pytest.fixture\ndef admin_user(db_session):\n    \"\"\"Create admin user.\"\"\"\n    admin = User(\n        username='admin',\n        email='admin@example.com',\n        first_name='Admin',\n        last_name='User',\n        is_admin=True\n    )\n    admin.set_password('adminpass123')\n    admin.save()\n    return admin\n\n@pytest.fixture\ndef category(db_session):\n    \"\"\"Create test category.\"\"\"\n    category = Category(\n        name='Test Category',\n        description='A test category'\n    )\n    category.save()\n    return category\n\n@pytest.fixture\ndef post(db_session, user, category):\n    \"\"\"Create test post.\"\"\"\n    post = Post(\n        title='Test Post',\n        content='This is a test post content.',\n        slug='test-post',\n        status='published',\n        user_id=user.id,\n        category_id=category.id\n    )\n    post.save()\n    return post\n\n@pytest.fixture\ndef auth_headers(user):\n    \"\"\"Create authentication headers.\"\"\"\n    # For API testing\n    token = user.generate_auth_token()\n    return {'Authorization': f'Bearer {token}'}\n```\n\n## Model Testing\n\n```python\n# tests/test_models.py\nimport pytest\nfrom datetime import datetime\nfrom app.models import User, Post, Category\nfrom werkzeug.security import check_password_hash\n\nclass TestUser:\n    \"\"\"Test User model.\"\"\"\n    \n    def test_user_creation(self, db_session):\n        \"\"\"Test user creation.\"\"\"\n        user = User(\n            username='newuser',\n            email='new@example.com',\n            first_name='New',\n            last_name='User'\n        )\n        user.set_password('password123')\n        user.save()\n        \n        assert user.id is not None\n        assert user.username == 'newuser'\n        assert user.email == 'new@example.com'\n        assert user.full_name == 'New User'\n        assert user.is_active is True\n        assert user.is_admin is False\n        assert user.created_at is not None\n    \n    def test_password_hashing(self, user):\n        \"\"\"Test password hashing.\"\"\"\n        user.set_password('newpassword')\n        assert user.password_hash != 'newpassword'\n        assert check_password_hash(user.password_hash, 'newpassword')\n        assert user.check_password('newpassword')\n        assert not user.check_password('wrongpassword')\n    \n    def test_user_repr(self, user):\n        \"\"\"Test user string representation.\"\"\"\n        assert repr(user) == '<User testuser>'\n    \n    def test_user_to_dict(self, user):\n        \"\"\"Test user dictionary conversion.\"\"\"\n        user_dict = user.to_dict()\n        assert 'username' in user_dict\n        assert 'email' in user_dict\n        assert 'password_hash' not in user_dict  # Should be excluded\n    \n    def test_user_relationships(self, user, post):\n        \"\"\"Test user relationships.\"\"\"\n        assert post in user.posts\n        assert user.posts.count() == 1\n\nclass TestPost:\n    \"\"\"Test Post model.\"\"\"\n    \n    def test_post_creation(self, db_session, user, category):\n        \"\"\"Test post creation.\"\"\"\n        post = Post(\n            title='New Post',\n            content='New post content',\n            slug='new-post',\n            status='draft',\n            user_id=user.id,\n            category_id=category.id\n        )\n        post.save()\n        \n        assert post.id is not None\n        assert post.title == 'New Post'\n        assert post.author == user\n        assert post.category == category\n        assert not post.is_published\n    \n    def test_published_status(self, post):\n        \"\"\"Test post published status.\"\"\"\n        assert post.is_published  # Published with published_at\n        \n        post.status = 'draft'\n        assert not post.is_published\n```\n\n## View Testing\n\n```python\n# tests/test_views.py\nimport pytest\nfrom flask import url_for\nfrom app.models import User\n\nclass TestMainViews:\n    \"\"\"Test main application views.\"\"\"\n    \n    def test_home_page(self, client):\n        \"\"\"Test home page.\"\"\"\n        response = client.get('/')\n        assert response.status_code == 200\n        assert b'Welcome' in response.data\n    \n    def test_about_page(self, client):\n        \"\"\"Test about page.\"\"\"\n        response = client.get('/about')\n        assert response.status_code == 200\n\nclass TestUserViews:\n    \"\"\"Test user-related views.\"\"\"\n    \n    def test_user_list(self, client, user):\n        \"\"\"Test user list page.\"\"\"\n        response = client.get('/users/')\n        assert response.status_code == 200\n        assert user.username.encode() in response.data\n    \n    def test_user_detail(self, client, user):\n        \"\"\"Test user detail page.\"\"\"\n        response = client.get(f'/users/{user.id}')\n        assert response.status_code == 200\n        assert user.username.encode() in response.data\n    \n    def test_user_create_get(self, client):\n        \"\"\"Test user creation form.\"\"\"\n        response = client.get('/users/create')\n        assert response.status_code == 200\n        assert b'Create User' in response.data\n    \n    def test_user_create_post(self, client, db_session):\n        \"\"\"Test user creation submission.\"\"\"\n        data = {\n            'username': 'newuser',\n            'email': 'new@example.com',\n            'first_name': 'New',\n            'last_name': 'User',\n            'password': 'password123',\n            'confirm_password': 'password123'\n        }\n        response = client.post('/users/create', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Check user was created\n        user = User.query.filter_by(username='newuser').first()\n        assert user is not None\n        assert user.email == 'new@example.com'\n    \n    def test_user_edit(self, client, user):\n        \"\"\"Test user editing.\"\"\"\n        data = {\n            'username': user.username,\n            'email': 'updated@example.com',\n            'first_name': 'Updated',\n            'last_name': 'User'\n        }\n        response = client.post(f'/users/{user.id}/edit', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Refresh user from database\n        db_session.refresh(user)\n        assert user.email == 'updated@example.com'\n        assert user.first_name == 'Updated'\n```\n\n## Authentication Testing\n\n```python\n# tests/test_auth.py\nimport pytest\nfrom flask import url_for\nfrom app.models import User\n\nclass TestAuthentication:\n    \"\"\"Test authentication functionality.\"\"\"\n    \n    def test_login_page(self, client):\n        \"\"\"Test login page access.\"\"\"\n        response = client.get('/auth/login')\n        assert response.status_code == 200\n        assert b'Login' in response.data\n    \n    def test_valid_login(self, client, user):\n        \"\"\"Test valid user login.\"\"\"\n        data = {\n            'username': user.username,\n            'password': 'testpass123'\n        }\n        response = client.post('/auth/login', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        assert b'Welcome' in response.data\n    \n    def test_invalid_login(self, client, user):\n        \"\"\"Test invalid login credentials.\"\"\"\n        data = {\n            'username': user.username,\n            'password': 'wrongpassword'\n        }\n        response = client.post('/auth/login', data=data)\n        assert response.status_code == 200\n        assert b'Invalid' in response.data\n    \n    def test_logout(self, client, user):\n        \"\"\"Test user logout.\"\"\"\n        # Login first\n        with client.session_transaction() as sess:\n            sess['_user_id'] = str(user.id)\n        \n        response = client.get('/auth/logout', follow_redirects=True)\n        assert response.status_code == 200\n    \n    def test_register_page(self, client):\n        \"\"\"Test registration page.\"\"\"\n        response = client.get('/auth/register')\n        assert response.status_code == 200\n        assert b'Register' in response.data\n    \n    def test_valid_registration(self, client, db_session):\n        \"\"\"Test valid user registration.\"\"\"\n        data = {\n            'username': 'newuser',\n            'email': 'new@example.com',\n            'first_name': 'New',\n            'last_name': 'User',\n            'password': 'password123',\n            'confirm_password': 'password123'\n        }\n        response = client.post('/auth/register', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Check user was created\n        user = User.query.filter_by(username='newuser').first()\n        assert user is not None\n```\n\n## API Testing\n\n```python\n# tests/test_api.py\nimport pytest\nimport json\nfrom flask import url_for\n\nclass TestUserAPI:\n    \"\"\"Test User API endpoints.\"\"\"\n    \n    def test_get_users(self, client, user):\n        \"\"\"Test GET /api/users.\"\"\"\n        response = client.get('/api/users')\n        assert response.status_code == 200\n        \n        data = json.loads(response.data)\n        assert 'users' in data\n        assert len(data['users']) >= 1\n    \n    def test_get_user(self, client, user):\n        \"\"\"Test GET /api/users/<id>.\"\"\"\n        response = client.get(f'/api/users/{user.id}')\n        assert response.status_code == 200\n        \n        data = json.loads(response.data)\n        assert data['username'] == user.username\n        assert data['email'] == user.email\n    \n    def test_create_user(self, client, db_session):\n        \"\"\"Test POST /api/users.\"\"\"\n        user_data = {\n            'username': 'apiuser',\n            'email': 'api@example.com',\n            'first_name': 'API',\n            'last_name': 'User',\n            'password': 'password123'\n        }\n        \n        response = client.post(\n            '/api/users',\n            data=json.dumps(user_data),\n            content_type='application/json'\n        )\n        \n        assert response.status_code == 201\n        data = json.loads(response.data)\n        assert data['username'] == 'apiuser'\n    \n    def test_update_user(self, client, user, auth_headers):\n        \"\"\"Test PUT /api/users/<id>.\"\"\"\n        update_data = {\n            'email': 'updated@example.com',\n            'first_name': 'Updated'\n        }\n        \n        response = client.put(\n            f'/api/users/{user.id}',\n            data=json.dumps(update_data),\n            content_type='application/json',\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = json.loads(response.data)\n        assert data['email'] == 'updated@example.com'\n    \n    def test_delete_user(self, client, user, auth_headers):\n        \"\"\"Test DELETE /api/users/<id>.\"\"\"\n        response = client.delete(\n            f'/api/users/{user.id}',\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 204\n```\n\n## Test Utilities\n\n```python\n# tests/utils.py\nimport json\nfrom flask import url_for\n\ndef login_user(client, username, password):\n    \"\"\"Helper to login user in tests.\"\"\"\n    return client.post('/auth/login', data={\n        'username': username,\n        'password': password\n    }, follow_redirects=True)\n\ndef logout_user(client):\n    \"\"\"Helper to logout user in tests.\"\"\"\n    return client.get('/auth/logout', follow_redirects=True)\n\ndef assert_json_response(response, expected_status=200):\n    \"\"\"Assert JSON response format and status.\"\"\"\n    assert response.status_code == expected_status\n    assert response.content_type == 'application/json'\n    return json.loads(response.data)\n\ndef create_test_data(db_session):\n    \"\"\"Create common test data.\"\"\"\n    from app.models import User, Category, Post\n    \n    # Create test users\n    users = []\n    for i in range(3):\n        user = User(\n            username=f'user{i}',\n            email=f'user{i}@example.com',\n            first_name=f'User{i}',\n            last_name='Test'\n        )\n        user.set_password('password123')\n        user.save()\n        users.append(user)\n    \n    return {'users': users}\n```\n\n## Performance Testing\n\n```python\n# tests/test_performance.py\nimport pytest\nimport time\nfrom app.models import User\n\n@pytest.mark.slow\nclass TestPerformance:\n    \"\"\"Test application performance.\"\"\"\n    \n    def test_user_query_performance(self, db_session):\n        \"\"\"Test user query performance.\"\"\"\n        # Create multiple users\n        users = []\n        for i in range(100):\n            user = User(\n                username=f'perfuser{i}',\n                email=f'perf{i}@example.com',\n                first_name=f'Perf{i}',\n                last_name='User'\n            )\n            users.append(user)\n        \n        db_session.bulk_save_objects(users)\n        db_session.commit()\n        \n        # Test query performance\n        start_time = time.time()\n        result = User.query.all()\n        end_time = time.time()\n        \n        assert len(result) >= 100\n        assert (end_time - start_time) < 0.1  # Should complete in under 100ms\n    \n    def test_endpoint_response_time(self, client):\n        \"\"\"Test endpoint response time.\"\"\"\n        start_time = time.time()\n        response = client.get('/')\n        end_time = time.time()\n        \n        assert response.status_code == 200\n        assert (end_time - start_time) < 0.5  # Should respond in under 500ms\n```\n"
              },
              {
                "name": "/model",
                "description": null,
                "path": "cli-tool/templates/ruby/.claude/commands/model.md",
                "frontmatter": null,
                "content": "# Ruby Model Generator\n\nCreate Ruby classes and models with proper structure and best practices.\n\n## Purpose\n\nThis command helps you quickly create Ruby model classes with proper initialization, attributes, and methods following Ruby conventions.\n\n## Usage\n\n```\n/model\n```\n\n## What this command does\n\n1. **Creates model classes** with proper initialization methods\n2. **Adds attribute accessors** and instance variables\n3. **Includes validation methods** and error handling\n4. **Follows Ruby conventions** and best practices\n5. **Generates related test files** when applicable\n\n## Example Output\n\n```ruby\n# app/models/user.rb\nclass User\n  attr_accessor :name, :email, :age\n  attr_reader :id, :created_at\n  \n  def initialize(attributes = {})\n    @id = attributes[:id] || generate_id\n    @name = attributes[:name]\n    @email = attributes[:email]\n    @age = attributes[:age]\n    @created_at = Time.now\n    @errors = []\n  end\n  \n  def valid?\n    @errors.clear\n    validate_presence_of_name\n    validate_email_format\n    validate_age_range\n    @errors.empty?\n  end\n  \n  def errors\n    @errors.dup\n  end\n  \n  def save\n    return false unless valid?\n    \n    # Persist logic here\n    true\n  end\n  \n  def to_h\n    {\n      id: @id,\n      name: @name,\n      email: @email,\n      age: @age,\n      created_at: @created_at\n    }\n  end\n  \n  def to_json(*args)\n    JSON.generate(to_h, *args)\n  end\n  \n  private\n  \n  def validate_presence_of_name\n    if @name.nil? || @name.strip.empty?\n      @errors << \"Name cannot be blank\"\n    end\n  end\n  \n  def validate_email_format\n    if @email && !@email.match?(/\\A[\\w+\\-.]+@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)*\\.[a-z]+\\z/i)\n      @errors << \"Email format is invalid\"\n    end\n  end\n  \n  def validate_age_range\n    if @age && (@age < 0 || @age > 150)\n      @errors << \"Age must be between 0 and 150\"\n    end\n  end\n  \n  def generate_id\n    SecureRandom.uuid\n  end\nend\n\n# Example with inheritance\nclass AdminUser < User\n  attr_accessor :permissions\n  \n  def initialize(attributes = {})\n    super\n    @permissions = attributes[:permissions] || []\n  end\n  \n  def admin?\n    true\n  end\n  \n  def has_permission?(permission)\n    @permissions.include?(permission)\n  end\n  \n  private\n  \n  def validate_permissions\n    unless @permissions.is_a?(Array)\n      @errors << \"Permissions must be an array\"\n    end\n  end\nend\n```\n\n## Advanced Features\n\n### Module Inclusion\n```ruby\nmodule Timestamps\n  def self.included(base)\n    base.extend(ClassMethods)\n  end\n  \n  module ClassMethods\n    def with_timestamps\n      attr_reader :created_at, :updated_at\n      \n      define_method :initialize do |*args|\n        super(*args)\n        @created_at ||= Time.now\n        @updated_at = @created_at\n      end\n      \n      define_method :touch do\n        @updated_at = Time.now\n      end\n    end\n  end\nend\n\nclass Post\n  include Timestamps\n  with_timestamps\n  \n  attr_accessor :title, :content\n  \n  def initialize(attributes = {})\n    @title = attributes[:title]\n    @content = attributes[:content]\n    super\n  end\nend\n```\n\n### Class Methods and Scopes\n```ruby\nclass User\n  @@users = []\n  \n  def self.all\n    @@users.dup\n  end\n  \n  def self.find_by_email(email)\n    @@users.find { |user| user.email == email }\n  end\n  \n  def self.where(conditions = {})\n    @@users.select do |user|\n      conditions.all? { |key, value| user.send(key) == value }\n    end\n  end\n  \n  def self.create(attributes = {})\n    user = new(attributes)\n    if user.save\n      @@users << user\n      user\n    else\n      nil\n    end\n  end\n  \n  def save\n    return false unless valid?\n    \n    unless @@users.include?(self)\n      @@users << self\n    end\n    true\n  end\n  \n  def destroy\n    @@users.delete(self)\n  end\nend\n```\n\n## Testing Template\n\n```ruby\n# spec/models/user_spec.rb\nrequire 'spec_helper'\n\nRSpec.describe User do\n  let(:valid_attributes) do\n    {\n      name: 'John Doe',\n      email: 'john@example.com',\n      age: 30\n    }\n  end\n  \n  describe '#initialize' do\n    it 'sets attributes correctly' do\n      user = User.new(valid_attributes)\n      \n      expect(user.name).to eq('John Doe')\n      expect(user.email).to eq('john@example.com')\n      expect(user.age).to eq(30)\n      expect(user.id).not_to be_nil\n      expect(user.created_at).to be_a(Time)\n    end\n  end\n  \n  describe '#valid?' do\n    it 'returns true for valid attributes' do\n      user = User.new(valid_attributes)\n      expect(user).to be_valid\n    end\n    \n    it 'returns false when name is blank' do\n      user = User.new(valid_attributes.merge(name: ''))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Name cannot be blank')\n    end\n    \n    it 'returns false for invalid email format' do\n      user = User.new(valid_attributes.merge(email: 'invalid-email'))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Email format is invalid')\n    end\n    \n    it 'returns false for invalid age' do\n      user = User.new(valid_attributes.merge(age: -5))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Age must be between 0 and 150')\n    end\n  end\n  \n  describe '#save' do\n    it 'saves valid user' do\n      user = User.new(valid_attributes)\n      expect(user.save).to be true\n    end\n    \n    it 'does not save invalid user' do\n      user = User.new(name: '')\n      expect(user.save).to be false\n    end\n  end\n  \n  describe '#to_h' do\n    it 'returns hash representation' do\n      user = User.new(valid_attributes)\n      hash = user.to_h\n      \n      expect(hash).to include(\n        name: 'John Doe',\n        email: 'john@example.com',\n        age: 30\n      )\n      expect(hash[:id]).not_to be_nil\n      expect(hash[:created_at]).to be_a(Time)\n    end\n  end\nend\n```\n\n## Best Practices Included\n\n- **Proper initialization** with hash parameters\n- **Attribute accessors** for public attributes\n- **Validation methods** with error collection\n- **JSON serialization** support\n- **Class and instance methods** separation\n- **Error handling** and reporting\n- **Ruby naming conventions** (snake_case)\n- **Encapsulation** with private methods\n\n## Common Patterns\n\n### Value Objects\n```ruby\nclass Money\n  include Comparable\n  \n  attr_reader :amount, :currency\n  \n  def initialize(amount, currency = 'USD')\n    @amount = amount.to_f\n    @currency = currency.to_s.upcase\n  end\n  \n  def +(other)\n    raise ArgumentError, \"Currency mismatch\" unless currency == other.currency\n    Money.new(amount + other.amount, currency)\n  end\n  \n  def <=>(other)\n    raise ArgumentError, \"Currency mismatch\" unless currency == other.currency\n    amount <=> other.amount\n  end\n  \n  def to_s\n    \"#{currency} #{format('%.2f', amount)}\"\n  end\nend\n```\n\n### Service Objects\n```ruby\nclass UserRegistrationService\n  attr_reader :user, :errors\n  \n  def initialize(user_params)\n    @user_params = user_params\n    @errors = []\n  end\n  \n  def call\n    @user = User.new(@user_params)\n    \n    if @user.valid?\n      @user.save\n      send_welcome_email\n      true\n    else\n      @errors = @user.errors\n      false\n    end\n  end\n  \n  private\n  \n  def send_welcome_email\n    # Email sending logic\n  end\nend\n```"
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/ruby/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Ruby Test Generator\n\nCreate comprehensive test files with RSpec or Minitest following Ruby testing best practices.\n\n## Purpose\n\nThis command helps you quickly create test files with proper structure, examples, and testing patterns for Ruby applications.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Creates test files** with proper structure for RSpec or Minitest\n2. **Includes test examples** for common scenarios\n3. **Sets up test helpers** and support files\n4. **Follows testing conventions** and best practices\n5. **Generates factory/fixture data** when needed\n\n## RSpec Example Output\n\n```ruby\n# spec/models/user_spec.rb\nrequire 'spec_helper'\n\nRSpec.describe User do\n  let(:user) { build(:user) }\n  let(:valid_attributes) do\n    {\n      name: 'John Doe',\n      email: 'john@example.com',\n      age: 30\n    }\n  end\n  \n  describe 'validations' do\n    it { should validate_presence_of(:name) }\n    it { should validate_presence_of(:email) }\n    it { should validate_uniqueness_of(:email) }\n    it { should validate_numericality_of(:age).is_greater_than(0) }\n    \n    context 'when email format is invalid' do\n      let(:user) { build(:user, email: 'invalid-email') }\n      \n      it 'is not valid' do\n        expect(user).not_to be_valid\n        expect(user.errors[:email]).to include('is invalid')\n      end\n    end\n  end\n  \n  describe 'associations' do\n    it { should have_many(:posts) }\n    it { should have_many(:comments) }\n  end\n  \n  describe 'callbacks' do\n    describe 'before_save' do\n      it 'normalizes email' do\n        user = create(:user, email: 'JOHN@EXAMPLE.COM')\n        expect(user.email).to eq('john@example.com')\n      end\n    end\n  end\n  \n  describe 'instance methods' do\n    describe '#full_name' do\n      let(:user) { build(:user, first_name: 'John', last_name: 'Doe') }\n      \n      it 'returns the full name' do\n        expect(user.full_name).to eq('John Doe')\n      end\n      \n      context 'when last_name is missing' do\n        let(:user) { build(:user, first_name: 'John', last_name: nil) }\n        \n        it 'returns only first_name' do\n          expect(user.full_name).to eq('John')\n        end\n      end\n    end\n    \n    describe '#active?' do\n      context 'when user is active' do\n        let(:user) { build(:user, status: 'active') }\n        \n        it 'returns true' do\n          expect(user.active?).to be true\n        end\n      end\n      \n      context 'when user is inactive' do\n        let(:user) { build(:user, status: 'inactive') }\n        \n        it 'returns false' do\n          expect(user.active?).to be false\n        end\n      end\n    end\n  end\n  \n  describe 'class methods' do\n    describe '.active' do\n      let!(:active_user) { create(:user, status: 'active') }\n      let!(:inactive_user) { create(:user, status: 'inactive') }\n      \n      it 'returns only active users' do\n        expect(User.active).to include(active_user)\n        expect(User.active).not_to include(inactive_user)\n      end\n    end\n    \n    describe '.find_by_email' do\n      let!(:user) { create(:user, email: 'test@example.com') }\n      \n      it 'finds user by email' do\n        found_user = User.find_by_email('test@example.com')\n        expect(found_user).to eq(user)\n      end\n      \n      it 'returns nil when user not found' do\n        found_user = User.find_by_email('nonexistent@example.com')\n        expect(found_user).to be_nil\n      end\n    end\n  end\n  \n  describe 'scopes' do\n    describe '.recent' do\n      let!(:old_user) { create(:user, created_at: 1.year.ago) }\n      let!(:recent_user) { create(:user, created_at: 1.day.ago) }\n      \n      it 'returns users created in the last 30 days' do\n        expect(User.recent).to include(recent_user)\n        expect(User.recent).not_to include(old_user)\n      end\n    end\n  end\nend\n```\n\n## Minitest Example Output\n\n```ruby\n# test/models/user_test.rb\nrequire 'test_helper'\n\nclass UserTest < ActiveSupport::TestCase\n  def setup\n    @user = users(:john)\n    @valid_attributes = {\n      name: 'Jane Doe',\n      email: 'jane@example.com',\n      age: 25\n    }\n  end\n  \n  # Validation tests\n  test 'should not save user without name' do\n    user = User.new(@valid_attributes.except(:name))\n    assert_not user.save\n    assert_includes user.errors[:name], \"can't be blank\"\n  end\n  \n  test 'should not save user without email' do\n    user = User.new(@valid_attributes.except(:email))\n    assert_not user.save\n    assert_includes user.errors[:email], \"can't be blank\"\n  end\n  \n  test 'should not save user with invalid email' do\n    user = User.new(@valid_attributes.merge(email: 'invalid-email'))\n    assert_not user.save\n    assert_includes user.errors[:email], 'is invalid'\n  end\n  \n  test 'should not save user with duplicate email' do\n    user1 = User.create!(@valid_attributes)\n    user2 = User.new(@valid_attributes)\n    assert_not user2.save\n    assert_includes user2.errors[:email], 'has already been taken'\n  end\n  \n  test 'should save user with valid attributes' do\n    user = User.new(@valid_attributes)\n    assert user.save\n  end\n  \n  # Association tests\n  test 'should have many posts' do\n    assert_respond_to @user, :posts\n    assert_kind_of ActiveRecord::Associations::CollectionProxy, @user.posts\n  end\n  \n  test 'should have many comments' do\n    assert_respond_to @user, :comments\n  end\n  \n  # Instance method tests\n  test 'full_name should return first and last name' do\n    @user.first_name = 'John'\n    @user.last_name = 'Doe'\n    assert_equal 'John Doe', @user.full_name\n  end\n  \n  test 'full_name should return first name only when last name is missing' do\n    @user.first_name = 'John'\n    @user.last_name = nil\n    assert_equal 'John', @user.full_name\n  end\n  \n  test 'active? should return true for active users' do\n    @user.status = 'active'\n    assert @user.active?\n  end\n  \n  test 'active? should return false for inactive users' do\n    @user.status = 'inactive'\n    assert_not @user.active?\n  end\n  \n  # Class method tests\n  test 'active scope should return only active users' do\n    active_user = User.create!(@valid_attributes.merge(status: 'active'))\n    inactive_user = User.create!(@valid_attributes.merge(\n      email: 'inactive@example.com',\n      status: 'inactive'\n    ))\n    \n    active_users = User.active\n    assert_includes active_users, active_user\n    assert_not_includes active_users, inactive_user\n  end\n  \n  test 'find_by_email should find user by email' do\n    user = User.create!(@valid_attributes)\n    found_user = User.find_by_email(@valid_attributes[:email])\n    assert_equal user, found_user\n  end\n  \n  test 'find_by_email should return nil when user not found' do\n    found_user = User.find_by_email('nonexistent@example.com')\n    assert_nil found_user\n  end\nend\n```\n\n## Controller Test Example\n\n```ruby\n# spec/controllers/users_controller_spec.rb\nrequire 'rails_helper'\n\nRSpec.describe UsersController, type: :controller do\n  let(:user) { create(:user) }\n  let(:valid_attributes) { attributes_for(:user) }\n  let(:invalid_attributes) { { name: '', email: 'invalid' } }\n  \n  describe 'GET #index' do\n    it 'returns a success response' do\n      get :index\n      expect(response).to be_successful\n    end\n    \n    it 'assigns @users' do\n      user1 = create(:user)\n      user2 = create(:user)\n      get :index\n      expect(assigns(:users)).to match_array([user1, user2])\n    end\n  end\n  \n  describe 'GET #show' do\n    it 'returns a success response' do\n      get :show, params: { id: user.to_param }\n      expect(response).to be_successful\n    end\n    \n    it 'assigns the requested user' do\n      get :show, params: { id: user.to_param }\n      expect(assigns(:user)).to eq(user)\n    end\n  end\n  \n  describe 'POST #create' do\n    context 'with valid parameters' do\n      it 'creates a new User' do\n        expect {\n          post :create, params: { user: valid_attributes }\n        }.to change(User, :count).by(1)\n      end\n      \n      it 'redirects to the created user' do\n        post :create, params: { user: valid_attributes }\n        expect(response).to redirect_to(User.last)\n      end\n    end\n    \n    context 'with invalid parameters' do\n      it 'does not create a new User' do\n        expect {\n          post :create, params: { user: invalid_attributes }\n        }.to change(User, :count).by(0)\n      end\n      \n      it 'renders the new template' do\n        post :create, params: { user: invalid_attributes }\n        expect(response).to render_template(:new)\n      end\n    end\n  end\n  \n  describe 'PUT #update' do\n    context 'with valid parameters' do\n      let(:new_attributes) { { name: 'Updated Name' } }\n      \n      it 'updates the requested user' do\n        put :update, params: { id: user.to_param, user: new_attributes }\n        user.reload\n        expect(user.name).to eq('Updated Name')\n      end\n      \n      it 'redirects to the user' do\n        put :update, params: { id: user.to_param, user: new_attributes }\n        expect(response).to redirect_to(user)\n      end\n    end\n    \n    context 'with invalid parameters' do\n      it 'renders the edit template' do\n        put :update, params: { id: user.to_param, user: invalid_attributes }\n        expect(response).to render_template(:edit)\n      end\n    end\n  end\n  \n  describe 'DELETE #destroy' do\n    it 'destroys the requested user' do\n      user # Create user\n      expect {\n        delete :destroy, params: { id: user.to_param }\n      }.to change(User, :count).by(-1)\n    end\n    \n    it 'redirects to the users list' do\n      delete :destroy, params: { id: user.to_param }\n      expect(response).to redirect_to(users_url)\n    end\n  end\nend\n```\n\n## Factory Configuration\n\n```ruby\n# spec/factories/users.rb\nFactoryBot.define do\n  factory :user do\n    sequence(:name) { |n| \"User #{n}\" }\n    sequence(:email) { |n| \"user#{n}@example.com\" }\n    age { rand(18..80) }\n    status { 'active' }\n    \n    trait :inactive do\n      status { 'inactive' }\n    end\n    \n    trait :admin do\n      admin { true }\n    end\n    \n    trait :with_posts do\n      after(:create) do |user|\n        create_list(:post, 3, user: user)\n      end\n    end\n    \n    factory :admin_user, traits: [:admin]\n    factory :inactive_user, traits: [:inactive]\n  end\nend\n```\n\n## Test Helper Configuration\n\n```ruby\n# spec/spec_helper.rb\nrequire 'simplecov'\nSimpleCov.start 'rails' do\n  add_filter '/spec/'\n  add_filter '/config/'\n  add_filter '/vendor/'\n  \n  add_group 'Controllers', 'app/controllers'\n  add_group 'Models', 'app/models'\n  add_group 'Services', 'app/services'\n  add_group 'Libraries', 'lib'\nend\n\nRSpec.configure do |config|\n  config.expect_with :rspec do |expectations|\n    expectations.include_chain_clauses_in_custom_matcher_descriptions = true\n  end\n  \n  config.mock_with :rspec do |mocks|\n    mocks.verify_partial_doubles = true\n  end\n  \n  config.shared_context_metadata_behavior = :apply_to_host_groups\n  config.filter_run_when_matching :focus\n  config.example_status_persistence_file_path = 'spec/examples.txt'\n  config.disable_monkey_patching!\n  config.warnings = true\n  \n  if config.files_to_run.one?\n    config.default_formatter = 'doc'\n  end\n  \n  config.profile_examples = 10\n  config.order = :random\n  Kernel.srand config.seed\nend\n```\n\n## Integration Test Example\n\n```ruby\n# spec/requests/api/users_spec.rb\nrequire 'rails_helper'\n\nRSpec.describe 'API::Users', type: :request do\n  let(:user) { create(:user) }\n  let(:valid_headers) {\n    { 'Authorization' => \"Bearer #{user.auth_token}\" }\n  }\n  \n  describe 'GET /api/users' do\n    it 'returns users' do\n      create_list(:user, 3)\n      \n      get '/api/users', headers: valid_headers\n      \n      expect(response).to have_http_status(:ok)\n      expect(JSON.parse(response.body)['users'].size).to eq(3)\n    end\n  end\n  \n  describe 'POST /api/users' do\n    let(:valid_params) do\n      {\n        user: {\n          name: 'New User',\n          email: 'new@example.com'\n        }\n      }\n    end\n    \n    it 'creates a new user' do\n      post '/api/users', params: valid_params, headers: valid_headers\n      \n      expect(response).to have_http_status(:created)\n      expect(JSON.parse(response.body)['user']['name']).to eq('New User')\n    end\n  end\nend\n```\n\n## Best Practices Included\n\n- **Descriptive test names** that explain expected behavior\n- **Proper test organization** with contexts and describes\n- **Factory usage** for test data generation\n- **Mocking and stubbing** for external dependencies\n- **Coverage configuration** with SimpleCov\n- **Test helpers** and shared examples\n- **Request/Integration tests** for API endpoints\n- **Feature tests** for user workflows"
              },
              {
                "name": "/authentication",
                "description": null,
                "path": "cli-tool/templates/ruby/examples/rails-app/.claude/commands/authentication.md",
                "frontmatter": null,
                "content": "# Rails 8 Native Authentication Generator\n\nGenerate Rails 8's built-in authentication system with modern security practices.\n\n## Purpose\n\nThis command helps you implement Rails 8's new native authentication system, eliminating the need for external gems like Devise for basic authentication needs.\n\n## Usage\n\n```\n/authentication\n```\n\n## What this command does\n\n1. **Generates authentication models** with secure password handling\n2. **Creates authentication controllers** for login/logout/signup\n3. **Adds authentication views** with modern styling\n4. **Implements session management** with security best practices\n5. **Sets up authentication helpers** for controllers and views\n\n## Rails 8 Authentication Generator\n\n```bash\n# Generate authentication for User model\nbin/rails generate authentication User\n\n# Or specify custom model name\nbin/rails generate authentication Account\n\n# Generate with custom attributes\nbin/rails generate authentication User first_name:string last_name:string\n```\n\n## Generated User Model\n\n```ruby\n# app/models/user.rb\nclass User < ApplicationRecord\n  has_secure_password\n  \n  validates :email, presence: true, uniqueness: true\n  validates :password, length: { minimum: 8 }, if: -> { new_record? || !password.blank? }\n  \n  normalizes :email, with: ->(email) { email.strip.downcase }\n  \n  before_save :normalize_email\n  \n  private\n  \n  def normalize_email\n    self.email = email.downcase.strip\n  end\nend\n```\n\n## Authentication Controller\n\n```ruby\n# app/controllers/authentication_controller.rb\nclass AuthenticationController < ApplicationController\n  skip_before_action :authenticate_user!, only: [:new, :create]\n  \n  def new\n    # Login page\n  end\n  \n  def create\n    user = User.find_by(email: params[:email])\n    \n    if user&.authenticate(params[:password])\n      login(user)\n      redirect_to root_path, notice: 'Logged in successfully'\n    else\n      flash.now[:alert] = 'Invalid email or password'\n      render :new, status: :unprocessable_entity\n    end\n  end\n  \n  def destroy\n    logout\n    redirect_to root_path, notice: 'Logged out successfully'\n  end\n  \n  private\n  \n  def login(user)\n    session[:user_id] = user.id\n    @current_user = user\n  end\n  \n  def logout\n    session[:user_id] = nil\n    @current_user = nil\n  end\nend\n```\n\n## Registration Controller\n\n```ruby\n# app/controllers/registrations_controller.rb\nclass RegistrationsController < ApplicationController\n  skip_before_action :authenticate_user!\n  \n  def new\n    @user = User.new\n  end\n  \n  def create\n    @user = User.new(user_params)\n    \n    if @user.save\n      login(@user)\n      redirect_to root_path, notice: 'Account created successfully'\n    else\n      render :new, status: :unprocessable_entity\n    end\n  end\n  \n  private\n  \n  def user_params\n    params.require(:user).permit(:email, :password, :password_confirmation, :first_name, :last_name)\n  end\n  \n  def login(user)\n    session[:user_id] = user.id\n    @current_user = user\n  end\nend\n```\n\n## Application Controller Updates\n\n```ruby\n# app/controllers/application_controller.rb\nclass ApplicationController < ActionController::Base\n  protect_from_forgery with: :exception\n  \n  before_action :authenticate_user!\n  \n  private\n  \n  def authenticate_user!\n    redirect_to login_path, alert: 'Please log in to continue' unless current_user\n  end\n  \n  def current_user\n    @current_user ||= User.find(session[:user_id]) if session[:user_id]\n  end\n  helper_method :current_user\n  \n  def logged_in?\n    !!current_user\n  end\n  helper_method :logged_in?\n  \n  def require_login\n    unless logged_in?\n      flash[:alert] = 'You must be logged in to access this page'\n      redirect_to login_path\n    end\n  end\nend\n```\n\n## Authentication Views\n\n### Login Form\n```erb\n<!-- app/views/authentication/new.html.erb -->\n<div class=\"authentication-form\">\n  <h1>Log In</h1>\n  \n  <%= form_with url: login_path, local: true, class: \"auth-form\" do |form| %>\n    <div class=\"form-group\">\n      <%= form.label :email, \"Email\" %>\n      <%= form.email_field :email, required: true, autofocus: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password, \"Password\" %>\n      <%= form.password_field :password, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-actions\">\n      <%= form.submit \"Log In\", class: \"btn btn-primary\" %>\n    </div>\n  <% end %>\n  \n  <div class=\"auth-links\">\n    <%= link_to \"Don't have an account? Sign up\", signup_path %>\n  </div>\n</div>\n```\n\n### Registration Form\n```erb\n<!-- app/views/registrations/new.html.erb -->\n<div class=\"authentication-form\">\n  <h1>Sign Up</h1>\n  \n  <%= form_with model: @user, url: signup_path, local: true, class: \"auth-form\" do |form| %>\n    <% if @user.errors.any? %>\n      <div class=\"error-messages\">\n        <h3><%= pluralize(@user.errors.count, \"error\") %> prohibited this account from being saved:</h3>\n        <ul>\n          <% @user.errors.full_messages.each do |message| %>\n            <li><%= message %></li>\n          <% end %>\n        </ul>\n      </div>\n    <% end %>\n    \n    <div class=\"form-group\">\n      <%= form.label :first_name, \"First Name\" %>\n      <%= form.text_field :first_name, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :last_name, \"Last Name\" %>\n      <%= form.text_field :last_name, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :email, \"Email\" %>\n      <%= form.email_field :email, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password, \"Password\" %>\n      <%= form.password_field :password, required: true, minlength: 8, class: \"form-control\" %>\n      <small class=\"form-text\">Minimum 8 characters</small>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password_confirmation, \"Confirm Password\" %>\n      <%= form.password_field :password_confirmation, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-actions\">\n      <%= form.submit \"Sign Up\", class: \"btn btn-primary\" %>\n    </div>\n  <% end %>\n  \n  <div class=\"auth-links\">\n    <%= link_to \"Already have an account? Log in\", login_path %>\n  </div>\n</div>\n```\n\n## Route Configuration\n\n```ruby\n# config/routes.rb\nRails.application.routes.draw do\n  # Authentication routes\n  get    'login',  to: 'authentication#new'\n  post   'login',  to: 'authentication#create'\n  delete 'logout', to: 'authentication#destroy'\n  \n  # Registration routes\n  get  'signup', to: 'registrations#new'\n  post 'signup', to: 'registrations#create'\n  \n  # User management routes\n  resources :users, except: [:new, :create]\n  \n  # Root route\n  root 'dashboard#index'\nend\n```\n\n## Migration Files\n\n```ruby\n# db/migrate/xxx_create_users.rb\nclass CreateUsers < ActiveRecord::Migration[8.0]\n  def change\n    create_table :users do |t|\n      t.string :email, null: false\n      t.string :password_digest, null: false\n      t.string :first_name\n      t.string :last_name\n      \n      t.timestamps\n    end\n    \n    add_index :users, :email, unique: true\n  end\nend\n```\n\n## Advanced Authentication Features\n\n### Password Reset\n```ruby\n# app/controllers/password_resets_controller.rb\nclass PasswordResetsController < ApplicationController\n  skip_before_action :authenticate_user!\n  \n  def new\n    # Password reset request form\n  end\n  \n  def create\n    @user = User.find_by(email: params[:email])\n    if @user\n      @user.send_password_reset\n      redirect_to root_path, notice: 'Email sent with password reset instructions'\n    else\n      flash.now[:alert] = 'Email address not found'\n      render :new\n    end\n  end\n  \n  def edit\n    @user = User.find_by(password_reset_token: params[:id])\n    if @user.nil? || @user.password_reset_sent_at < 2.hours.ago\n      redirect_to new_password_reset_path, alert: 'Password reset has expired'\n    end\n  end\n  \n  def update\n    @user = User.find_by(password_reset_token: params[:id])\n    if @user && @user.password_reset_sent_at > 2.hours.ago\n      if @user.update(password_params)\n        @user.update_columns(password_reset_token: nil, password_reset_sent_at: nil)\n        redirect_to root_path, notice: 'Password has been reset'\n      else\n        render :edit\n      end\n    else\n      redirect_to new_password_reset_path, alert: 'Password reset has expired'\n    end\n  end\n  \n  private\n  \n  def password_params\n    params.require(:user).permit(:password, :password_confirmation)\n  end\nend\n```\n\n### User Model Extensions\n```ruby\n# app/models/user.rb (extended)\nclass User < ApplicationRecord\n  has_secure_password\n  \n  validates :email, presence: true, uniqueness: true\n  validates :password, length: { minimum: 8 }, if: -> { new_record? || !password.blank? }\n  \n  normalizes :email, with: ->(email) { email.strip.downcase }\n  \n  # Password reset functionality\n  def send_password_reset\n    generate_token(:password_reset_token)\n    self.password_reset_sent_at = Time.zone.now\n    save!\n    UserMailer.password_reset(self).deliver_now\n  end\n  \n  def full_name\n    \"#{first_name} #{last_name}\".strip\n  end\n  \n  def initials\n    \"#{first_name&.first}#{last_name&.first}\".upcase\n  end\n  \n  private\n  \n  def generate_token(column)\n    begin\n      self[column] = SecureRandom.urlsafe_base64\n    end while User.exists?(column => self[column])\n  end\nend\n```\n\n## Session Security Enhancements\n\n```ruby\n# config/application.rb\nconfig.session_store :cookie_store, {\n  key: '_myapp_session',\n  secure: Rails.env.production?,\n  httponly: true,\n  same_site: :lax\n}\n\n# config/environments/production.rb\nconfig.force_ssl = true\nconfig.session_store :cookie_store, {\n  key: '_myapp_session',\n  secure: true,\n  httponly: true,\n  same_site: :strict\n}\n```\n\n## Authentication Helper Methods\n\n```ruby\n# app/helpers/authentication_helper.rb\nmodule AuthenticationHelper\n  def user_avatar(user, size: 40)\n    if user.avatar.present?\n      image_tag user.avatar, alt: user.full_name, class: \"avatar\", size: \"#{size}x#{size}\"\n    else\n      content_tag :div, user.initials, class: \"avatar avatar-initials\", \n                  style: \"width: #{size}px; height: #{size}px; line-height: #{size}px;\"\n    end\n  end\n  \n  def current_user_menu\n    if logged_in?\n      render 'shared/user_menu'\n    else\n      render 'shared/guest_menu'\n    end\n  end\nend\n```\n\n## Testing Authentication\n\n```ruby\n# spec/models/user_spec.rb\nRSpec.describe User, type: :model do\n  describe 'validations' do\n    it { should validate_presence_of(:email) }\n    it { should validate_uniqueness_of(:email) }\n    it { should validate_length_of(:password).is_at_least(8) }\n    it { should have_secure_password }\n  end\n  \n  describe 'email normalization' do\n    it 'normalizes email to lowercase' do\n      user = User.create!(email: 'USER@EXAMPLE.COM', password: 'password123')\n      expect(user.email).to eq('user@example.com')\n    end\n  end\n  \n  describe '#full_name' do\n    it 'returns combined first and last name' do\n      user = User.new(first_name: 'John', last_name: 'Doe')\n      expect(user.full_name).to eq('John Doe')\n    end\n  end\nend\n\n# spec/controllers/authentication_controller_spec.rb\nRSpec.describe AuthenticationController, type: :controller do\n  describe 'POST #create' do\n    let(:user) { create(:user, password: 'password123') }\n    \n    context 'with valid credentials' do\n      it 'logs in the user' do\n        post :create, params: { email: user.email, password: 'password123' }\n        expect(session[:user_id]).to eq(user.id)\n        expect(response).to redirect_to(root_path)\n      end\n    end\n    \n    context 'with invalid credentials' do\n      it 'does not log in the user' do\n        post :create, params: { email: user.email, password: 'wrong' }\n        expect(session[:user_id]).to be_nil\n        expect(response).to render_template(:new)\n      end\n    end\n  end\nend\n```\n\n## Security Best Practices Included\n\n- **Secure password hashing** with bcrypt\n- **Email normalization** to prevent duplicates\n- **CSRF protection** enabled by default\n- **Session security** with httponly and secure flags\n- **Password strength validation** (minimum 8 characters)\n- **Timing attack prevention** in authentication\n- **Password reset token expiration**\n- **SSL enforcement** in production"
              }
            ],
            "skills": []
          },
          {
            "name": "devops-automation",
            "description": "DevOps automation suite with CI/CD, infrastructure management, and deployment orchestration",
            "source": "./",
            "category": null,
            "version": "1.0.0",
            "author": {
              "name": "Daniel Avila"
            },
            "install_commands": [
              "/plugin marketplace add Justdvp/claude-code-templates",
              "/plugin install devops-automation@claude-code-templates"
            ],
            "signals": {
              "stars": 5,
              "forks": 0,
              "pushed_at": "2026-01-12T22:20:42Z",
              "created_at": "2022-10-16T16:39:58Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/lint",
                "description": null,
                "path": ".claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Python Linter\n\nRun Python code linting and formatting tools.\n\n## Purpose\n\nThis command helps you maintain code quality using Python's best linting and formatting tools.\n\n## Usage\n\n```\n/lint\n```\n\n## What this command does\n\n1. **Runs multiple linters** (flake8, pylint, black, isort)\n2. **Provides detailed feedback** on code quality issues\n3. **Auto-fixes formatting** where possible\n4. **Checks type hints** if mypy is configured\n\n## Example Commands\n\n### Black (code formatting)\n```bash\n# Format all Python files\nblack .\n\n# Check formatting without changing files\nblack --check .\n\n# Format specific file\nblack src/main.py\n```\n\n### flake8 (style guide enforcement)\n```bash\n# Check all Python files\nflake8 .\n\n# Check specific directory\nflake8 src/\n\n# Check with specific rules\nflake8 --max-line-length=88 .\n```\n\n### isort (import sorting)\n```bash\n# Sort imports in all files\nisort .\n\n# Check import sorting\nisort --check-only .\n\n# Sort imports in specific file\nisort src/main.py\n```\n\n### pylint (comprehensive linting)\n```bash\n# Run pylint on all files\npylint src/\n\n# Run with specific score threshold\npylint --fail-under=8.0 src/\n\n# Generate detailed report\npylint --output-format=html src/ > pylint_report.html\n```\n\n### mypy (type checking)\n```bash\n# Check types in all files\nmypy .\n\n# Check specific module\nmypy src/models.py\n\n# Check with strict mode\nmypy --strict src/\n```\n\n## Configuration Files\n\nMost projects benefit from configuration files:\n\n### .flake8\n```ini\n[flake8]\nmax-line-length = 88\nexclude = .git,__pycache__,venv\nignore = E203,W503\n```\n\n### pyproject.toml\n```toml\n[tool.black]\nline-length = 88\n\n[tool.isort]\nprofile = \"black\"\n```\n\n## Best Practices\n\n- Run linters before committing code\n- Use consistent formatting across the project\n- Fix linting issues promptly\n- Configure linters to match your team's style\n- Use type hints for better code documentation"
              },
              {
                "name": "/test",
                "description": null,
                "path": ".claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Runner\n\nRun Python tests with pytest, unittest, or other testing frameworks.\n\n## Purpose\n\nThis command helps you run Python tests effectively with proper configuration and reporting.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Detects test framework** (pytest, unittest, nose2)\n2. **Runs appropriate tests** with proper configuration\n3. **Provides coverage reporting** if available\n4. **Shows clear test results** with failure details\n\n## Example Commands\n\n### pytest (recommended)\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=src --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n\n# Run tests matching pattern\npytest -k \"test_user\"\n```\n\n### unittest\n```bash\n# Run all tests\npython -m unittest discover\n\n# Run specific test file\npython -m unittest tests.test_models\n\n# Run with verbose output\npython -m unittest -v\n```\n\n### Django tests\n```bash\n# Run all Django tests\npython manage.py test\n\n# Run specific app tests\npython manage.py test myapp\n\n# Run with coverage\ncoverage run --source='.' manage.py test\ncoverage report\n```\n\n## Best Practices\n\n- Write tests for all critical functionality\n- Use descriptive test names\n- Keep tests isolated and independent\n- Mock external dependencies\n- Aim for high test coverage (80%+)"
              },
              {
                "name": "/git-workflow",
                "description": null,
                "path": "cli-tool/templates/common/.claude/commands/git-workflow.md",
                "frontmatter": null,
                "content": "# Git Workflow Helper\n\nManage Git workflows with best practices and common operations.\n\n## Purpose\n\nThis command helps you perform common Git operations following best practices for collaborative development.\n\n## Usage\n\n```\n/git-workflow\n```\n\n## What this command does\n\n1. **Guides through Git operations** with proper workflow\n2. **Suggests best practices** for commits and branches\n3. **Helps with conflict resolution** and merging\n4. **Provides templates** for commit messages\n5. **Manages branching strategies** (Git Flow, GitHub Flow)\n\n## Common Workflows\n\n### Feature Development\n```bash\n# Create and switch to feature branch\ngit checkout -b feature/user-authentication\n\n# Work on your feature\n# ... make changes ...\n\n# Stage and commit changes\ngit add .\ngit commit -m \"feat: add user authentication system\n\n- Implement login/logout functionality\n- Add password validation\n- Create user session management\n- Add authentication middleware\"\n\n# Push feature branch\ngit push -u origin feature/user-authentication\n\n# Create pull request (via GitHub/GitLab interface)\n```\n\n### Hotfix Workflow\n```bash\n# Create hotfix branch from main\ngit checkout main\ngit checkout -b hotfix/security-patch\n\n# Fix the issue\n# ... make changes ...\n\n# Commit the fix\ngit commit -m \"fix: resolve security vulnerability in auth module\n\n- Patch XSS vulnerability in login form\n- Update input validation\n- Add CSRF protection\"\n\n# Push and create urgent PR\ngit push -u origin hotfix/security-patch\n```\n\n### Sync with Remote\n```bash\n# Update main branch\ngit checkout main\ngit pull origin main\n\n# Update feature branch with latest main\ngit checkout feature/your-feature\ngit rebase main\n# OR\ngit merge main\n```\n\n## Commit Message Conventions\n\n### Conventional Commits Format\n```\n<type>[optional scope]: <description>\n\n[optional body]\n\n[optional footer(s)]\n```\n\n### Common Types\n- **feat**: New feature\n- **fix**: Bug fix\n- **docs**: Documentation changes\n- **style**: Code style changes (formatting, etc.)\n- **refactor**: Code refactoring\n- **test**: Adding or updating tests\n- **chore**: Maintenance tasks\n\n### Examples\n```bash\n# Feature\ngit commit -m \"feat(auth): add OAuth2 integration\"\n\n# Bug fix\ngit commit -m \"fix(api): handle null response in user endpoint\"\n\n# Documentation\ngit commit -m \"docs: update API documentation for v2.0\"\n\n# Breaking change\ngit commit -m \"feat!: change API response format\n\nBREAKING CHANGE: API responses now use 'data' wrapper\"\n```\n\n## Branch Management\n\n### Git Flow Strategy\n```bash\n# Main branches\nmain        # Production-ready code\ndevelop     # Integration branch\n\n# Supporting branches\nfeature/*   # New features\nrelease/*   # Release preparation\nhotfix/*    # Quick fixes to production\n```\n\n### GitHub Flow (Simplified)\n```bash\n# Only main branch + feature branches\nmain        # Production-ready code\nfeature/*   # All new work\n```\n\n## Conflict Resolution\n\n### When Conflicts Occur\n```bash\n# Start merge/rebase\ngit merge feature-branch\n# OR\ngit rebase main\n\n# If conflicts occur, Git will list conflicted files\n# Edit each file to resolve conflicts\n\n# Mark conflicts as resolved\ngit add conflicted-file.js\n\n# Continue the merge/rebase\ngit merge --continue\n# OR\ngit rebase --continue\n```\n\n### Conflict Markers\n```javascript\n<<<<<<< HEAD\n// Your current branch code\nconst user = getCurrentUser();\n=======\n// Incoming branch code\nconst user = getAuthenticatedUser();\n>>>>>>> feature-branch\n```\n\n## Useful Git Commands\n\n### Status and Information\n```bash\ngit status                    # Check working directory status\ngit log --oneline            # View commit history\ngit branch -a                # List all branches\ngit remote -v                # List remote repositories\n```\n\n### Undoing Changes\n```bash\ngit checkout -- file.js     # Discard changes to file\ngit reset HEAD file.js       # Unstage file\ngit reset --soft HEAD~1     # Undo last commit (keep changes)\ngit reset --hard HEAD~1     # Undo last commit (discard changes)\n```\n\n### Stashing Work\n```bash\ngit stash                    # Save current work\ngit stash pop               # Apply and remove latest stash\ngit stash list              # List all stashes\ngit stash apply stash@{1}   # Apply specific stash\n```\n\n## Best Practices\n\n1. **Commit Often** - Make small, focused commits\n2. **Write Clear Messages** - Use conventional commit format\n3. **Test Before Committing** - Ensure code works\n4. **Pull Before Push** - Keep history clean\n5. **Use Branches** - Don't work directly on main\n6. **Review Code** - Use pull requests for collaboration\n7. **Keep History Clean** - Rebase feature branches when appropriate\n\n## Git Hooks (Optional)\n\n### Pre-commit Hook\n```bash\n#!/bin/sh\n# .git/hooks/pre-commit\n\n# Run linter\nnpm run lint\nif [ $? -ne 0 ]; then\n  echo \"Linting failed. Please fix errors before committing.\"\n  exit 1\nfi\n\n# Run tests\nnpm test\nif [ $? -ne 0 ]; then\n  echo \"Tests failed. Please fix tests before committing.\"\n  exit 1\nfi\n```\n\n### Commit Message Hook\n```bash\n#!/bin/sh\n# .git/hooks/commit-msg\n\n# Check commit message format\nif ! grep -qE \"^(feat|fix|docs|style|refactor|test|chore)(\\(.+\\))?: .{1,50}\" \"$1\"; then\n  echo \"Invalid commit message format. Use conventional commits.\"\n  exit 1\nfi\n```"
              },
              {
                "name": "/project-setup",
                "description": null,
                "path": "cli-tool/templates/common/.claude/commands/project-setup.md",
                "frontmatter": null,
                "content": "# Project Setup Helper\n\nSet up new projects with proper structure and best practices.\n\n## Purpose\n\nThis command helps you set up new projects with proper directory structure, configuration files, and development environment.\n\n## Usage\n\n```\n/project-setup\n```\n\n## What this command does\n\n1. **Creates project structure** with standard directories\n2. **Sets up configuration files** (.gitignore, README, etc.)\n3. **Initializes version control** and development tools\n4. **Configures environment files** and dependencies\n5. **Follows language-specific** conventions and best practices\n\n## Project Structure Templates\n\n### Generic Project Structure\n```\nproject-name/\n‚îú‚îÄ‚îÄ README.md                 # Project documentation\n‚îú‚îÄ‚îÄ .gitignore               # Git ignore rules\n‚îú‚îÄ‚îÄ .env.example             # Environment variables template\n‚îú‚îÄ‚îÄ LICENSE                  # Project license\n‚îú‚îÄ‚îÄ CHANGELOG.md             # Version history\n‚îú‚îÄ‚îÄ docs/                    # Documentation\n‚îÇ   ‚îú‚îÄ‚îÄ API.md\n‚îÇ   ‚îú‚îÄ‚îÄ CONTRIBUTING.md\n‚îÇ   ‚îî‚îÄ‚îÄ DEPLOYMENT.md\n‚îú‚îÄ‚îÄ src/                     # Source code\n‚îÇ   ‚îú‚îÄ‚îÄ main/\n‚îÇ   ‚îú‚îÄ‚îÄ utils/\n‚îÇ   ‚îî‚îÄ‚îÄ config/\n‚îú‚îÄ‚îÄ tests/                   # Test files\n‚îÇ   ‚îú‚îÄ‚îÄ unit/\n‚îÇ   ‚îú‚îÄ‚îÄ integration/\n‚îÇ   ‚îî‚îÄ‚îÄ fixtures/\n‚îú‚îÄ‚îÄ scripts/                 # Build and deployment scripts\n‚îÇ   ‚îú‚îÄ‚îÄ build.sh\n‚îÇ   ‚îú‚îÄ‚îÄ deploy.sh\n‚îÇ   ‚îî‚îÄ‚îÄ setup.sh\n‚îî‚îÄ‚îÄ config/                  # Configuration files\n    ‚îú‚îÄ‚îÄ development.yml\n    ‚îú‚îÄ‚îÄ production.yml\n    ‚îî‚îÄ‚îÄ testing.yml\n```\n\n### Web Application Structure\n```\nweb-app/\n‚îú‚îÄ‚îÄ public/                  # Static assets\n‚îÇ   ‚îú‚îÄ‚îÄ index.html\n‚îÇ   ‚îú‚îÄ‚îÄ favicon.ico\n‚îÇ   ‚îî‚îÄ‚îÄ assets/\n‚îÇ       ‚îú‚îÄ‚îÄ css/\n‚îÇ       ‚îú‚îÄ‚îÄ js/\n‚îÇ       ‚îî‚îÄ‚îÄ images/\n‚îú‚îÄ‚îÄ src/                     # Source code\n‚îÇ   ‚îú‚îÄ‚îÄ components/          # Reusable components\n‚îÇ   ‚îú‚îÄ‚îÄ pages/              # Page components\n‚îÇ   ‚îú‚îÄ‚îÄ services/           # API services\n‚îÇ   ‚îú‚îÄ‚îÄ utils/              # Utility functions\n‚îÇ   ‚îú‚îÄ‚îÄ styles/             # Stylesheets\n‚îÇ   ‚îî‚îÄ‚îÄ config/             # Configuration\n‚îú‚îÄ‚îÄ tests/                   # Test files\n‚îî‚îÄ‚îÄ build/                   # Build output\n```\n\n### API Project Structure\n```\napi-project/\n‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îú‚îÄ‚îÄ controllers/         # Request handlers\n‚îÇ   ‚îú‚îÄ‚îÄ models/             # Data models\n‚îÇ   ‚îú‚îÄ‚îÄ services/           # Business logic\n‚îÇ   ‚îú‚îÄ‚îÄ middleware/         # Custom middleware\n‚îÇ   ‚îú‚îÄ‚îÄ routes/             # API routes\n‚îÇ   ‚îú‚îÄ‚îÄ utils/              # Utility functions\n‚îÇ   ‚îî‚îÄ‚îÄ config/             # Configuration\n‚îú‚îÄ‚îÄ tests/\n‚îÇ   ‚îú‚îÄ‚îÄ unit/\n‚îÇ   ‚îú‚îÄ‚îÄ integration/\n‚îÇ   ‚îî‚îÄ‚îÄ e2e/\n‚îú‚îÄ‚îÄ docs/\n‚îÇ   ‚îú‚îÄ‚îÄ api-spec.yml        # OpenAPI specification\n‚îÇ   ‚îî‚îÄ‚îÄ README.md\n‚îî‚îÄ‚îÄ scripts/\n    ‚îú‚îÄ‚îÄ seed-db.js          # Database seeding\n    ‚îî‚îÄ‚îÄ migrate.js          # Database migrations\n```\n\n## Essential Configuration Files\n\n### .gitignore Template\n```gitignore\n# Dependencies\nnode_modules/\n*.log\nnpm-debug.log*\n\n# Environment files\n.env\n.env.local\n.env.production\n\n# Build outputs\ndist/\nbuild/\n*.tgz\n\n# IDE files\n.vscode/\n.idea/\n*.swp\n*.swo\n\n# OS files\n.DS_Store\nThumbs.db\n\n# Temporary files\n*.tmp\n*.temp\n```\n\n### README.md Template\n```markdown\n# Project Name\n\nBrief description of what this project does.\n\n## Features\n\n- Feature 1\n- Feature 2\n- Feature 3\n\n## Installation\n\n\\`\\`\\`bash\n# Clone the repository\ngit clone https://github.com/username/project-name.git\n\n# Install dependencies\nnpm install\n\n# Copy environment file\ncp .env.example .env\n\\`\\`\\`\n\n## Usage\n\n\\`\\`\\`bash\n# Start development server\nnpm run dev\n\n# Run tests\nnpm test\n\n# Build for production\nnpm run build\n\\`\\`\\`\n\n## API Documentation\n\n[API documentation](docs/API.md)\n\n## Contributing\n\nPlease read [CONTRIBUTING.md](docs/CONTRIBUTING.md) for details.\n\n## License\n\nThis project is licensed under the MIT License - see [LICENSE](LICENSE) file.\n```\n\n### .env.example Template\n```env\n# Application\nNODE_ENV=development\nPORT=3000\nHOST=localhost\n\n# Database\nDB_HOST=localhost\nDB_PORT=5432\nDB_NAME=myapp\nDB_USER=username\nDB_PASSWORD=password\n\n# API Keys\nAPI_KEY=your-api-key-here\nSECRET_KEY=your-secret-key-here\n\n# External Services\nREDIS_URL=redis://localhost:6379\nEMAIL_SERVICE_API_KEY=your-email-key\n```\n\n## Development Environment Setup\n\n### Package.json Scripts\n```json\n{\n  \"scripts\": {\n    \"start\": \"node src/index.js\",\n    \"dev\": \"nodemon src/index.js\",\n    \"test\": \"jest\",\n    \"test:watch\": \"jest --watch\",\n    \"test:coverage\": \"jest --coverage\",\n    \"lint\": \"eslint src/\",\n    \"lint:fix\": \"eslint src/ --fix\",\n    \"format\": \"prettier --write src/\",\n    \"build\": \"webpack --mode production\",\n    \"build:dev\": \"webpack --mode development\",\n    \"clean\": \"rm -rf dist/\"\n  }\n}\n```\n\n### Git Initialization\n```bash\n# Initialize Git repository\ngit init\n\n# Add initial files\ngit add .\n\n# Create initial commit\ngit commit -m \"feat: initial project setup\n\n- Add project structure\n- Configure development environment\n- Add documentation templates\n- Set up testing framework\"\n\n# Add remote origin\ngit remote add origin https://github.com/username/project-name.git\n\n# Push to remote\ngit push -u origin main\n```\n\n## Language-Specific Setup\n\n### Node.js/JavaScript\n```bash\nnpm init -y\nnpm install --save-dev nodemon jest eslint prettier\n```\n\n### Python\n```bash\npython -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\npip install -r requirements.txt\n```\n\n### Docker Setup\n```dockerfile\n# Dockerfile\nFROM node:16-alpine\nWORKDIR /app\nCOPY package*.json ./\nRUN npm install\nCOPY . .\nEXPOSE 3000\nCMD [\"npm\", \"start\"]\n```\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\nservices:\n  app:\n    build: .\n    ports:\n      - \"3000:3000\"\n    environment:\n      - NODE_ENV=development\n    volumes:\n      - .:/app\n      - /app/node_modules\n```\n\n## Best Practices\n\n1. **Consistent Structure** - Follow established conventions\n2. **Clear Documentation** - Write comprehensive README\n3. **Environment Variables** - Keep secrets out of code\n4. **Version Control** - Initialize Git from the start\n5. **Testing Setup** - Configure testing from day one\n6. **Code Quality** - Set up linting and formatting\n7. **CI/CD Ready** - Structure for automated deployment\n8. **Security** - Include security best practices\n\n## Checklist\n\n- [ ] Create project directory structure\n- [ ] Initialize version control (Git)\n- [ ] Set up package manager (npm, pip, etc.)\n- [ ] Create README.md with project info\n- [ ] Add .gitignore file\n- [ ] Set up environment variables\n- [ ] Configure linting and formatting\n- [ ] Set up testing framework\n- [ ] Create basic documentation\n- [ ] Add license file\n- [ ] Set up CI/CD configuration (if needed)"
              },
              {
                "name": "/api-endpoint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/api-endpoint.md",
                "frontmatter": null,
                "content": "# API Endpoint Generator\n\nGenerate a complete API endpoint for $ARGUMENTS following project conventions.\n\n## Task\n\nI'll analyze the project structure and create a new API endpoint with:\n\n1. Route definition\n2. Controller/handler function\n3. Input validation\n4. Service layer logic (if applicable)\n5. Data access layer (if applicable)\n6. Unit tests\n7. Documentation\n\n## Process\n\nI'll follow these steps:\n\n1. Examine the project structure to understand the architecture pattern\n2. Identify existing patterns for routes, controllers, and validation\n3. Create all necessary files following project conventions\n4. Implement the endpoint with proper error handling\n5. Add appropriate tests\n6. Document the new endpoint\n\n## Best Practices\n\nI'll ensure the implementation includes:\n\n- Strong typing with TypeScript\n- Comprehensive error handling\n- Input validation\n- Security considerations (authentication/authorization)\n- Proper logging\n- Performance considerations\n- Test coverage\n\n## Adaptability\n\nI'll adapt to various API architectures:\n\n- Express/Koa/Fastify REST APIs\n- GraphQL resolvers\n- Next.js/Nuxt.js API routes\n- Serverless functions\n- tRPC endpoints\n- NestJS controllers\n\nI'll examine your project first to determine which pattern to follow."
              },
              {
                "name": "/debug",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/debug.md",
                "frontmatter": null,
                "content": "# Debug Assistant\n\nHelp me debug the issue with $ARGUMENTS in this project.\n\n## Task\n\nI'll help you identify and fix the problem by:\n\n1. Understanding the issue description\n2. Analyzing relevant code\n3. Identifying potential causes\n4. Suggesting and implementing fixes\n5. Verifying the solution works\n\n## Process\n\nI'll follow these steps:\n\n1. Examine error messages, logs, or unexpected behaviors\n2. Locate relevant files and code sections\n3. Analyze the code flow and potential failure points\n4. Identify common JavaScript/TypeScript pitfalls that might apply\n5. Suggest specific fixes with explanations\n6. Help implement and test the solution\n\n## Debugging Techniques\n\nI'll apply appropriate debugging techniques such as:\n\n- Static code analysis to find syntax or type errors\n- Runtime error analysis from logs or stack traces\n- Control flow tracing to understand execution paths\n- State inspection to identify incorrect values\n- Dependency analysis to find version conflicts\n- Network request inspection for API issues\n- Browser console analysis for frontend problems\n- Database query inspection for data issues\n\n## Common Issues I Can Help With\n\n- Type errors and null/undefined issues\n- Asynchronous code problems (Promises, async/await)\n- React/Vue/Angular component lifecycle issues\n- API integration problems\n- State management bugs\n- Performance bottlenecks\n- Memory leaks\n- Build/compilation errors\n- Testing failures\n- Environment configuration issues\n\nI'll adapt my approach based on your specific project structure, frameworks, and the nature of the problem."
              },
              {
                "name": "/lint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Lint Assistant\n\nAnalyze and fix linting issues in $ARGUMENTS following project conventions.\n\n## Task\n\nI'll help you identify and fix code style and quality issues by:\n\n1. Running appropriate linters for the project\n2. Analyzing linting errors and warnings\n3. Fixing issues automatically when possible\n4. Explaining complex issues that require manual intervention\n5. Ensuring code follows project style guidelines\n\n## Process\n\nI'll follow these steps:\n\n1. Identify the linting tools used in the project (ESLint, Prettier, TSLint, etc.)\n2. Run the appropriate linting commands\n3. Parse and categorize the results\n4. Apply automatic fixes for common issues\n5. Provide explanations and suggestions for more complex problems\n6. Verify fixes don't introduce new issues\n\n## Common Linting Issues I Can Fix\n\n- Code style inconsistencies (spacing, indentation, quotes, etc.)\n- Unused variables and imports\n- Missing type annotations in TypeScript\n- Accessibility (a11y) issues in UI components\n- Potential bugs flagged by static analysis\n- Performance issues in React/Vue components\n- Security vulnerabilities detected by linters\n- Deprecated API usage\n- Import ordering problems\n- Missing documentation\n\n## Linting Tools I Can Work With\n\n- ESLint (with various plugins and configs)\n- Prettier\n- TSLint (legacy)\n- stylelint (for CSS/SCSS)\n- commitlint (for commit messages)\n- Custom lint rules specific to your project\n\nI'll adapt my approach based on your project's specific linting configuration and style guide requirements."
              },
              {
                "name": "/npm-scripts",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/npm-scripts.md",
                "frontmatter": null,
                "content": "# NPM Scripts Assistant\n\nHelp me with NPM scripts: $ARGUMENTS\n\n## Task\n\nI'll help you work with package.json scripts by:\n\n1. Analyzing existing npm scripts in your project\n2. Creating new scripts or modifying existing ones\n3. Explaining what specific scripts do\n4. Suggesting improvements or optimizations\n5. Troubleshooting script execution issues\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your package.json file to understand current scripts\n2. Analyze dependencies and devDependencies for available tools\n3. Identify common patterns and conventions in your scripts\n4. Implement requested changes or create new scripts\n5. Provide explanations of how the scripts work\n6. Test scripts when possible to verify functionality\n\n## Common Script Types I Can Help With\n\n- Build processes (webpack, rollup, esbuild, etc.)\n- Development servers and hot reloading\n- Testing (unit, integration, e2e)\n- Linting and code formatting\n- Type checking\n- Deployment and CI/CD\n- Database migrations\n- Code generation\n- Environment setup\n- Pre/post hooks for git operations\n\n## Script Optimization Techniques\n\n- Parallelizing tasks for faster execution\n- Adding cross-platform compatibility\n- Improving error reporting and logging\n- Implementing watch modes for development\n- Creating composite scripts for common workflows\n- Adding appropriate exit codes for CI/CD pipelines\n\nI'll adapt my approach based on your project's specific needs, dependencies, and build tools."
              },
              {
                "name": "/refactor",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/refactor.md",
                "frontmatter": null,
                "content": "# Code Refactoring Assistant\n\nRefactor $ARGUMENTS following modern JavaScript/TypeScript best practices.\n\n## Task\n\nI'll help you refactor code by:\n\n1. Analyzing the current implementation\n2. Identifying improvement opportunities\n3. Applying modern patterns and practices\n4. Maintaining existing functionality\n5. Ensuring type safety and test coverage\n6. Documenting the changes made\n\n## Process\n\nI'll follow these steps:\n\n1. Examine the code to understand its purpose and structure\n2. Identify code smells, anti-patterns, or outdated approaches\n3. Plan the refactoring strategy with clear goals\n4. Implement changes incrementally while maintaining behavior\n5. Verify refactored code with tests\n6. Document improvements and benefits\n\n## Refactoring Techniques\n\nI can apply various refactoring techniques:\n\n- Converting to modern JavaScript/TypeScript features\n- Improving type definitions and type safety\n- Extracting reusable functions and components\n- Applying design patterns appropriately\n- Converting callbacks to Promises or async/await\n- Simplifying complex conditionals and loops\n- Removing duplicate code\n- Improving naming and readability\n- Optimizing performance\n- Enhancing error handling\n\n## Modern Practices I Can Apply\n\n- ES modules and import/export syntax\n- Optional chaining and nullish coalescing\n- Array and object destructuring\n- Spread and rest operators\n- Template literals\n- Arrow functions\n- Class fields and private methods\n- TypeScript utility types\n- Functional programming patterns\n- React hooks (for React components)\n\nI'll ensure the refactored code maintains compatibility with your project's requirements while improving quality and maintainability."
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Assistant\n\nHelp with tests for $ARGUMENTS following project conventions and testing best practices.\n\n## Task\n\nI'll help you with testing by:\n\n1. Creating comprehensive test suites for your code\n2. Implementing different types of tests (unit, integration, e2e)\n3. Mocking dependencies and external services\n4. Improving test coverage for existing code\n5. Troubleshooting failing tests\n6. Setting up testing infrastructure\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your project to understand testing frameworks and patterns\n2. Analyze the code to be tested to understand its functionality\n3. Identify appropriate testing strategies and edge cases\n4. Implement tests with proper structure and assertions\n5. Ensure tests are maintainable and follow best practices\n6. Run tests to verify they pass and provide adequate coverage\n\n## Testing Frameworks I Can Work With\n\n- Jest, Vitest, Mocha, Jasmine for JavaScript/TypeScript\n- React Testing Library, Enzyme for React components\n- Cypress, Playwright, Puppeteer for E2E testing\n- Supertest, Pactum for API testing\n- Storybook for component testing\n- Testing-library family for various frameworks\n\n## Testing Techniques\n\nI can implement various testing approaches:\n\n- TDD (Test-Driven Development)\n- BDD (Behavior-Driven Development)\n- Snapshot testing\n- Property-based testing\n- Parameterized tests\n- Contract testing\n- Visual regression testing\n- Performance testing\n\n## Mocking Strategies\n\nI can help with different mocking approaches:\n\n- Function mocks and spies\n- Module mocks\n- HTTP request mocking\n- Browser API mocking\n- Timer mocking\n- Database mocking\n- Service worker mocking\n\nI'll adapt to your project's specific testing frameworks, patterns, and conventions to ensure consistency with your existing codebase."
              },
              {
                "name": "/typescript-migrate",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/typescript-migrate.md",
                "frontmatter": null,
                "content": "# TypeScript Migration Assistant\n\nMigrate $ARGUMENTS from JavaScript to TypeScript with proper typing and modern practices.\n\n## Task\n\nI'll help you migrate JavaScript code to TypeScript by:\n\n1. Converting JavaScript files to TypeScript (.js/.jsx to .ts/.tsx)\n2. Adding appropriate type definitions and interfaces\n3. Configuring TypeScript settings for your project\n4. Resolving type errors and compatibility issues\n5. Implementing modern TypeScript patterns and features\n6. Ensuring backward compatibility with existing code\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your project structure and dependencies\n2. Analyze the JavaScript code to understand its functionality\n3. Create or update tsconfig.json with appropriate settings\n4. Convert files to TypeScript with proper type annotations\n5. Add necessary type definitions for libraries\n6. Fix type errors and implement type safety\n7. Refactor code to leverage TypeScript features\n\n## TypeScript Features I Can Implement\n\n- Interfaces and type aliases for complex data structures\n- Generics for reusable, type-safe components and functions\n- Union and intersection types for flexible typing\n- Enums for related constants\n- Utility types (Partial, Pick, Omit, etc.)\n- Type guards and type narrowing\n- Mapped and conditional types\n- Function overloading\n- Readonly properties and immutability\n- Module augmentation for extending third-party types\n\n## Migration Strategies\n\nI can apply different migration approaches based on your needs:\n\n- Gradual migration with allowJs and incremental adoption\n- File-by-file conversion while maintaining functionality\n- Comprehensive migration with full type safety\n- Hybrid approach with .d.ts files for complex modules\n- Integration with existing type definitions (@types packages)\n\nI'll adapt to your project's specific requirements and ensure a smooth transition to TypeScript while maintaining existing functionality."
              },
              {
                "name": "/components",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/angular-app/.claude/commands/components.md",
                "frontmatter": null,
                "content": "# Angular Components\n\nCreate Angular components for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Angular components based on the requirements:\n\n1. **Analyze existing components**: Check current component patterns, naming conventions, and folder organization\n2. **Examine Angular setup**: Review project structure, module organization, and TypeScript configuration\n3. **Identify component type**: Determine the component category:\n   - Presentation components (dumb/pure components)\n   - Container components (smart components with state)\n   - Feature components (business logic components)\n   - Shared/UI components (reusable across features)\n   - Layout components (structural components)\n4. **Check dependencies**: Review existing components and shared modules to avoid duplication\n5. **Implement component**: Create component with proper TypeScript types and lifecycle hooks\n6. **Add inputs/outputs**: Define @Input and @Output properties with proper typing\n7. **Create template**: Build HTML template with proper Angular directives and bindings\n8. **Add styles**: Implement component styles following project's styling approach\n9. **Create tests**: Write comprehensive unit tests with TestBed and proper mocking\n10. **Update module**: Register component in appropriate Angular module\n\n## Implementation Requirements\n\n- Follow project's Angular architecture and naming conventions\n- Use proper component lifecycle hooks (OnInit, OnDestroy, etc.)\n- Include comprehensive TypeScript interfaces for inputs and outputs\n- Implement proper change detection strategy (OnPush when possible)\n- Add proper subscription management with takeUntil or async pipe\n- Follow Angular style guide and project coding standards\n- Consider component performance and memory management\n\n## Component Patterns to Consider\n\nBased on the request:\n- **Smart Components**: Container components that manage state and services\n- **Dumb Components**: Presentation components that only receive inputs\n- **Feature Components**: Components specific to business features\n- **Shared Components**: Reusable UI components across the application\n- **Form Components**: Reactive forms with validation and custom controls\n- **Data Display**: Components for tables, lists, cards with proper data binding\n\n## Angular-Specific Implementation\n\n- **Template Syntax**: Proper use of Angular directives (*ngFor, *ngIf, etc.)\n- **Data Binding**: Property binding, event binding, two-way binding\n- **Change Detection**: OnPush strategy for performance optimization\n- **Lifecycle Management**: Proper use of lifecycle hooks\n- **Dependency Injection**: Service injection in component constructors\n- **Testing**: TestBed configuration with proper mocking and spies\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same styling approach and class naming as existing components\n- Follow project's folder structure for components (usually feature-based)\n- Don't install new dependencies without asking\n- Consider component reusability and single responsibility principle\n- Add proper TypeScript types for all component properties and methods\n- Use trackBy functions for performance in *ngFor loops\n- Implement proper unsubscription patterns to prevent memory leaks"
              },
              {
                "name": "/services",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/angular-app/.claude/commands/services.md",
                "frontmatter": null,
                "content": "# Angular Services\n\nCreate Angular services for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Angular services based on the requirements:\n\n1. **Analyze existing services**: Check current service patterns, naming conventions, and folder organization\n2. **Examine Angular setup**: Review project structure, dependency injection patterns, and TypeScript configuration\n3. **Identify service type**: Determine the service category:\n   - Data services (HTTP API calls, state management)\n   - Utility services (validation, formatting, helpers)\n   - Business logic services (calculations, workflows)\n   - Infrastructure services (logging, authentication, error handling)\n   - Feature services (component-specific logic)\n4. **Check dependencies**: Review existing services and shared modules to avoid duplication\n5. **Implement service**: Create service with proper dependency injection and TypeScript types\n6. **Add error handling**: Include comprehensive error handling with RxJS operators\n7. **Create tests**: Write unit tests with proper mocking following project patterns\n8. **Update module registration**: Register service in appropriate Angular modules\n\n## Implementation Requirements\n\n- Follow project's Angular architecture and naming conventions (usually .service.ts)\n- Use proper dependency injection with @Injectable decorator\n- Include comprehensive TypeScript interfaces and types\n- Implement proper RxJS patterns (observables, operators, error handling)\n- Add proper error handling and logging integration\n- Follow single responsibility principle for service design\n- Consider service lifecycle and singleton patterns\n\n## Service Patterns to Consider\n\nBased on the request:\n- **HTTP Data Services**: API calls with proper error handling and caching\n- **State Management**: Services for sharing data between components\n- **Authentication**: User authentication, token management, guards\n- **Business Logic**: Complex calculations, workflows, validations\n- **Utility Services**: Reusable functions, formatters, validators\n- **Feature Services**: Component-specific logic extraction\n- **Infrastructure**: Logging, monitoring, configuration services\n\n## Angular-Specific Implementation\n\n- **Dependency Injection**: Proper use of @Injectable and providedIn\n- **RxJS Integration**: Observables, subjects, operators for reactive programming\n- **HTTP Client**: Angular HttpClient for API communication\n- **Error Handling**: Global error handling and user-friendly error messages\n- **Testing**: TestBed, jasmine, karma for comprehensive unit testing\n- **Module Organization**: Feature modules, shared modules, core modules\n\n## Important Notes\n\n- ALWAYS examine existing services first to understand project patterns\n- Use the same error handling and response patterns as existing services\n- Follow project's folder structure for services (usually /services or /core)\n- Don't install new dependencies without asking\n- Consider service performance and memory management\n- Add proper RxJS subscription management to prevent memory leaks\n- Use Angular's built-in services (HttpClient, Router) rather than external libraries\n- Include proper TypeScript types for all service methods and properties"
              },
              {
                "name": "/api-endpoint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/api-endpoint.md",
                "frontmatter": null,
                "content": "# API Endpoint Generator\n\nGenerate a complete API endpoint for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate a new API endpoint with all necessary components:\n\n1. **Analyze project architecture**: Examine existing API structure, patterns, and conventions\n2. **Identify framework**: Determine if using Express, Fastify, NestJS, Next.js API routes, or other framework\n3. **Check authentication**: Review existing auth patterns and middleware usage\n4. **Examine data layer**: Identify database/ORM patterns (Prisma, TypeORM, Mongoose, etc.)\n5. **Create endpoint structure**: Generate route, controller, validation, and service layers\n6. **Implement business logic**: Add core functionality with proper error handling\n7. **Add validation**: Include input validation using project's validation library\n8. **Create tests**: Write unit and integration tests following project patterns\n9. **Update documentation**: Add endpoint documentation (OpenAPI/Swagger if used)\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing middleware patterns for auth, validation, logging\n- Include proper HTTP status codes and error responses\n- Add comprehensive input validation and sanitization\n- Implement proper logging and monitoring\n- Consider rate limiting and security headers\n- Follow project's database transaction patterns\n\n## Framework-Specific Patterns\n\nI'll adapt to your project's framework:\n- **Express**: Routes, controllers, middleware\n- **Fastify**: Routes, handlers, schemas, plugins\n- **NestJS**: Controllers, services, DTOs, guards\n- **Next.js**: API routes with proper HTTP methods\n- **tRPC**: Procedures with input/output validation\n- **GraphQL**: Resolvers with proper type definitions\n\n## Important Notes\n\n- ALWAYS examine existing endpoints first to understand project patterns\n- Use the same error handling and response format as existing endpoints\n- Follow project's folder structure and naming conventions\n- Don't install new dependencies without asking\n- Consider backward compatibility if modifying existing endpoints\n- Add proper database migrations if schema changes are needed"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# Database Operations\n\nSet up database operations for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize database operations based on the requirements:\n\n1. **Analyze existing database setup**: Check current database configuration, ORM/ODM, and connection patterns\n2. **Identify database type**: Determine if using MongoDB, PostgreSQL, MySQL, or other database\n3. **Examine ORM/ODM**: Check for Prisma, TypeORM, Mongoose, Sequelize, or raw SQL patterns\n4. **Review existing models**: Understand current schema patterns and relationships\n5. **Check migration system**: Identify migration tools and patterns in use\n6. **Implement operations**: Create models, repositories, or services following project architecture\n7. **Add validation**: Include proper schema validation and constraints\n8. **Create tests**: Write database operation tests following project patterns\n9. **Update migrations**: Add necessary database migrations if schema changes required\n\n## Implementation Requirements\n\n- Follow project's database architecture patterns\n- Use existing ORM/ODM configuration and connection setup\n- Include proper TypeScript types for all database operations\n- Add comprehensive error handling and transaction management\n- Implement proper indexing for performance\n- Follow project's naming conventions for tables/collections and fields\n- Consider data validation at both application and database levels\n\n## Database Patterns to Consider\n\nBased on your project setup:\n- **Repository Pattern**: Separate data access logic from business logic\n- **Active Record**: Models with built-in database operations\n- **Data Mapper**: Separate domain models from database schema\n- **Query Builder**: Fluent interface for building database queries\n- **Raw SQL**: Direct database queries for complex operations\n\n## Operation Types\n\nCommon database operations to implement:\n- **CRUD operations**: Create, Read, Update, Delete\n- **Bulk operations**: Batch inserts, updates, deletes\n- **Aggregation**: Complex queries with grouping and calculations\n- **Relationships**: Managing foreign keys and joins\n- **Transactions**: Ensuring data consistency\n- **Migrations**: Schema changes and data transformations\n\n## Important Notes\n\n- ALWAYS examine existing database setup first to understand project patterns\n- Use the same connection configuration and environment variables\n- Follow project's folder structure for models/schemas\n- Don't install new database dependencies without asking\n- Consider performance implications (indexes, query optimization)\n- Add proper database connection pooling if not already configured\n- Include proper cleanup and connection closing in tests"
              },
              {
                "name": "/middleware",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/middleware.md",
                "frontmatter": null,
                "content": "# Express Middleware\n\nCreate Express middleware for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Express middleware based on the requirements:\n\n1. **Analyze existing middleware**: Check current middleware patterns, naming conventions, and file organization\n2. **Examine Express setup**: Review app configuration, middleware stack order, and TypeScript usage\n3. **Identify middleware type**: Determine the middleware category:\n   - Authentication/Authorization (JWT, sessions, role-based)\n   - Validation (request body, params, query validation)\n   - Logging (request/response logging, audit trails)\n   - Error handling (global error handlers, custom errors)\n   - Security (CORS, rate limiting, helmet)\n   - Utility (parsing, compression, static files)\n4. **Check dependencies**: Review existing middleware dependencies to avoid duplication\n5. **Implement middleware**: Create middleware with proper TypeScript types and error handling\n6. **Test middleware**: Write unit and integration tests following project patterns\n7. **Update middleware stack**: Integrate middleware into Express app configuration\n8. **Add documentation**: Include JSDoc comments and usage examples\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing error handling patterns and response formats\n- Include proper request/response typing with custom interfaces\n- Add comprehensive error handling and logging\n- Consider middleware execution order and dependencies\n- Implement proper async/await patterns for async middleware\n- Follow project's folder structure for middleware files\n\n## Middleware Patterns to Consider\n\nBased on the request:\n- **Authentication**: JWT verification, session management, API key validation\n- **Authorization**: Role-based access control, permission checking\n- **Validation**: Schema validation with Joi/Zod, sanitization\n- **Logging**: Request logging, performance monitoring, audit trails\n- **Error Handling**: Global error handlers, custom error classes\n- **Security**: CORS configuration, rate limiting, input sanitization\n- **Utility**: Request parsing, response formatting, caching\n\n## Integration Considerations\n\n- **Middleware order**: Ensure proper execution sequence in Express app\n- **Error propagation**: Handle errors correctly with next() function\n- **Request enhancement**: Add properties to request object with proper typing\n- **Response modification**: Modify response objects while maintaining type safety\n- **Performance**: Consider middleware performance impact on request processing\n\n## Important Notes\n\n- ALWAYS examine existing middleware first to understand project patterns\n- Use the same error handling and response format as existing middleware\n- Follow project's folder structure for middleware (usually /middleware)\n- Don't install new dependencies without asking\n- Consider middleware performance and request processing impact\n- Add proper TypeScript types for enhanced request/response objects\n- Test middleware in isolation and integration contexts"
              },
              {
                "name": "/route",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/route.md",
                "frontmatter": null,
                "content": "# Route Creator\n\nCreate API routes for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize API routes based on the requirements:\n\n1. **Analyze project structure**: Check existing route patterns, folder organization, and framework setup\n2. **Examine framework**: Identify if using Express, Fastify, NestJS, or other Node.js framework\n3. **Review existing routes**: Understand current routing patterns, validation, and error handling\n4. **Check authentication**: Review existing auth middleware and protection patterns\n5. **Define route structure**: Determine HTTP methods, path parameters, and request/response schemas\n6. **Implement routes**: Create route handlers with proper validation and error handling\n7. **Add middleware**: Include authentication, validation, and logging middleware as needed\n8. **Create tests**: Write route tests following project testing patterns\n9. **Update route registration**: Integrate new routes into main router configuration\n\n## Implementation Requirements\n\n- Follow project's routing architecture and naming conventions\n- Use existing validation libraries (Joi, Zod, class-validator, etc.)\n- Include proper TypeScript types for request/response objects\n- Add comprehensive error handling with appropriate HTTP status codes\n- Implement proper authentication/authorization if required\n- Follow RESTful conventions unless project uses different patterns\n- Add proper logging and monitoring integration\n\n## Route Patterns to Consider\n\nBased on the request:\n- **CRUD operations**: Create, Read, Update, Delete for resources\n- **RESTful endpoints**: GET, POST, PUT, PATCH, DELETE with proper semantics\n- **Nested resources**: Parent/child resource relationships\n- **Batch operations**: Bulk create, update, delete operations\n- **Search/filtering**: Query parameters for filtering and pagination\n- **File uploads**: Multipart form handling for file operations\n- **Webhook endpoints**: External service integration points\n\n## Framework-Specific Implementation\n\nAdapt to your project's framework:\n- **Express**: Router instances, middleware chains, route handlers\n- **Fastify**: Route plugins, schema validation, hooks\n- **NestJS**: Controllers, decorators, DTOs, guards, interceptors\n- **Koa**: Router middleware, context handling\n- **Next.js API**: API route handlers with proper HTTP methods\n\n## Important Notes\n\n- ALWAYS examine existing routes first to understand project patterns\n- Use the same validation and error handling patterns as existing routes\n- Follow project's folder structure for routes (usually /routes or /controllers)\n- Don't install new dependencies without asking\n- Consider route performance and database query optimization\n- Add proper OpenAPI/Swagger documentation if project uses it\n- Include rate limiting for public endpoints where appropriate"
              },
              {
                "name": "/component",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/component.md",
                "frontmatter": null,
                "content": "# React Component Generator\n\nCreate a React component named $ARGUMENTS following project conventions.\n\n## Steps\n\n1. **Analyze project structure**: Check existing components to understand file organization, naming conventions, and patterns\n2. **Examine styling approach**: Identify CSS/SCSS modules, styled-components, Tailwind, or other styling methods used\n3. **Review testing patterns**: Check existing test files to understand testing framework and conventions\n4. **Create component structure**: Generate appropriate files (component, styles, tests, index)\n5. **Implement component**: Write TypeScript/JavaScript with proper props interface and logic\n6. **Add tests**: Write comprehensive tests following project patterns\n7. **Verify integration**: Ensure component works with existing project setup\n\n## Requirements\n\n- Follow existing project file structure and naming conventions\n- Use TypeScript if project uses it\n- Include proper accessibility attributes\n- Add responsive design considerations\n- Write tests that match project testing patterns\n- Include usage examples in component documentation\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same styling approach as the rest of the project\n- Follow the project's TypeScript conventions for props and interfaces\n- Don't install new dependencies without asking first"
              },
              {
                "name": "/hooks",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/hooks.md",
                "frontmatter": null,
                "content": "# React Hooks\n\nCreate or optimize React hooks for $ARGUMENTS following project conventions.\n\n## Task\n\nAnalyze the request and create appropriate React hooks:\n\n1. **Examine existing hooks**: Check project for existing custom hooks patterns and conventions\n2. **Identify hook type**: Determine if creating new custom hook, optimizing existing hook, or implementing specific hook pattern\n3. **Check TypeScript usage**: Verify if project uses TypeScript and follow typing conventions\n4. **Implement hook**: Create hook with proper:\n   - Naming convention (use prefix)\n   - TypeScript types and interfaces\n   - Proper dependency arrays\n   - Error handling\n   - Performance optimizations\n5. **Add tests**: Create comprehensive unit tests using project's testing framework\n6. **Add documentation**: Include JSDoc comments and usage examples\n\n## Common Hook Patterns\n\nWhen creating hooks, consider these patterns based on the request:\n- **Data fetching**: API calls, loading states, error handling\n- **State management**: Local state, derived state, state persistence\n- **Side effects**: Event listeners, timers, subscriptions\n- **Context consumption**: Theme, auth, app state\n- **Form handling**: Input management, validation, submission\n- **Performance**: Memoization, debouncing, throttling\n\n## Requirements\n\n- Follow existing project hook conventions\n- Use TypeScript if project uses it\n- Include proper cleanup in useEffect\n- Add error boundaries where appropriate\n- Write tests that cover all hook functionality\n- IMPORTANT: Always check existing hooks first to understand project patterns\n\n## Notes\n\n- Ask for clarification if the hook requirements are ambiguous\n- Suggest optimizations for existing hooks if relevant\n- Consider accessibility implications for UI-related hooks"
              },
              {
                "name": "/state-management",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/state-management.md",
                "frontmatter": null,
                "content": "# React State Management\n\nImplement state management solution for $ARGUMENTS following project conventions.\n\n## Task\n\nSet up or optimize state management based on the requirements:\n\n1. **Analyze current setup**: Check existing state management approach and project structure\n2. **Determine solution**: Based on requirements, choose appropriate state management:\n   - Context API for simple, localized state\n   - Redux Toolkit for complex, global state\n   - Zustand for lightweight global state\n   - Custom hooks for component-level state\n3. **Examine dependencies**: Check package.json for existing state management libraries\n4. **Implement solution**: Create store, providers, and hooks with proper TypeScript types\n5. **Set up middleware**: Add devtools, persistence, or other middleware as needed\n6. **Create typed hooks**: Generate properly typed selectors and dispatch hooks\n7. **Add tests**: Write unit tests for state logic and reducers\n8. **Update providers**: Integrate with app's provider hierarchy\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions\n- Use existing state management patterns if present\n- Create proper type definitions for state shape\n- Include error handling and loading states\n- Add proper debugging setup (devtools)\n- Consider performance optimizations (selectors, memoization)\n\n## State Management Selection Guide\n\nChoose based on complexity:\n- **Simple state**: React hooks + Context API\n- **Medium complexity**: Zustand or custom hooks\n- **Complex state**: Redux Toolkit with RTK Query\n- **Form state**: React Hook Form or Formik\n\n## Important Notes\n\n- ALWAYS check existing state management first\n- Don't install new dependencies without asking\n- Follow project's folder structure for state files\n- Consider server state vs client state separation\n- Add proper TypeScript types for all state interfaces"
              },
              {
                "name": "/components",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/vue-app/.claude/commands/components.md",
                "frontmatter": null,
                "content": "# Vue Components\n\nCreate Vue Single File Components for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Vue components based on the requirements:\n\n1. **Analyze project structure**: Check existing Vue components to understand patterns, conventions, and file organization\n2. **Examine Vue setup**: Identify Vue version (2/3), TypeScript usage, and Composition/Options API preference\n3. **Check styling approach**: Determine if using CSS modules, SCSS, styled-components, or other styling methods\n4. **Review testing patterns**: Check existing component tests to understand testing framework and conventions\n5. **Create component structure**: Generate SFC with template, script, and style sections\n6. **Implement component**: Write TypeScript interfaces, props, emits, and component logic\n7. **Add accessibility**: Include proper ARIA attributes and semantic HTML\n8. **Create tests**: Write comprehensive component tests following project patterns\n9. **Add documentation**: Include JSDoc comments and usage examples\n\n## Component Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing component patterns and naming conventions\n- Implement proper props validation and typing\n- Add appropriate event emissions with TypeScript signatures\n- Include scoped styles following project's styling approach\n- Add proper accessibility attributes (ARIA, semantic HTML)\n- Consider responsive design if applicable\n\n## Vue Patterns to Consider\n\nBased on the component type:\n- **Composition API**: For Vue 3 projects with `<script setup>`\n- **Options API**: For Vue 2 or legacy Vue 3 projects\n- **Composables**: Extract reusable logic into composables\n- **Provide/Inject**: For deep component communication\n- **Slots**: For flexible component content\n- **Teleport**: For portal-like functionality (Vue 3)\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same Vue API style (Composition vs Options) as the project\n- Follow project's folder structure for components\n- Don't install new dependencies without asking\n- Consider component performance (v-memo, computed properties)\n- Add proper TypeScript types for all props and emits"
              },
              {
                "name": "/composables",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/vue-app/.claude/commands/composables.md",
                "frontmatter": null,
                "content": "# Vue Composables\n\nCreate Vue composables for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Vue composables based on the requirements:\n\n1. **Analyze existing composables**: Check project for existing composable patterns, naming conventions, and file organization\n2. **Examine Vue setup**: Verify Vue 3 Composition API usage and TypeScript configuration\n3. **Identify composable type**: Determine the composable category:\n   - State management (reactive data, computed properties)\n   - API/HTTP operations (data fetching, mutations)\n   - DOM interactions (event listeners, element refs)\n   - Utility functions (validation, formatting, storage)\n   - Lifecycle management (cleanup, watchers)\n4. **Check dependencies**: Review existing composables to avoid duplication\n5. **Implement composable**: Create composable with proper TypeScript types and reactivity\n6. **Add lifecycle management**: Include proper cleanup with onUnmounted when needed\n7. **Create tests**: Write comprehensive unit tests for composable logic\n8. **Add documentation**: Include JSDoc comments and usage examples\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use appropriate Vue reactivity APIs (ref, reactive, computed, watch)\n- Include proper error handling and loading states\n- Add cleanup for side effects (event listeners, timers, subscriptions)\n- Make composables reusable and focused on single responsibility\n- Consider performance implications (shallow vs deep reactivity)\n\n## Common Composable Patterns\n\nBased on the request:\n- **Data fetching**: API calls with loading/error states\n- **Form handling**: Input management, validation, submission\n- **State management**: Local state, persistence, computed values\n- **DOM utilities**: Element refs, event handling, intersection observer\n- **Storage**: localStorage, sessionStorage, IndexedDB\n- **Authentication**: User state, token management, permissions\n- **UI utilities**: Dark mode, responsive breakpoints, modals\n\n## Important Notes\n\n- ALWAYS examine existing composables first to understand project patterns\n- Use proper Vue 3 Composition API patterns\n- Follow project's folder structure for composables (usually /composables)\n- Don't install new dependencies without asking\n- Consider composable composition (using other composables within composables)\n- Add proper TypeScript return types and generic constraints\n- Include proper reactivity patterns (avoid losing reactivity)"
              },
              {
                "name": "/lint",
                "description": null,
                "path": "cli-tool/templates/python/.claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Python Linter\n\nRun Python code linting and formatting tools.\n\n## Purpose\n\nThis command helps you maintain code quality using Python's best linting and formatting tools.\n\n## Usage\n\n```\n/lint\n```\n\n## What this command does\n\n1. **Runs multiple linters** (flake8, pylint, black, isort)\n2. **Provides detailed feedback** on code quality issues\n3. **Auto-fixes formatting** where possible\n4. **Checks type hints** if mypy is configured\n\n## Example Commands\n\n### Black (code formatting)\n```bash\n# Format all Python files\nblack .\n\n# Check formatting without changing files\nblack --check .\n\n# Format specific file\nblack src/main.py\n```\n\n### flake8 (style guide enforcement)\n```bash\n# Check all Python files\nflake8 .\n\n# Check specific directory\nflake8 src/\n\n# Check with specific rules\nflake8 --max-line-length=88 .\n```\n\n### isort (import sorting)\n```bash\n# Sort imports in all files\nisort .\n\n# Check import sorting\nisort --check-only .\n\n# Sort imports in specific file\nisort src/main.py\n```\n\n### pylint (comprehensive linting)\n```bash\n# Run pylint on all files\npylint src/\n\n# Run with specific score threshold\npylint --fail-under=8.0 src/\n\n# Generate detailed report\npylint --output-format=html src/ > pylint_report.html\n```\n\n### mypy (type checking)\n```bash\n# Check types in all files\nmypy .\n\n# Check specific module\nmypy src/models.py\n\n# Check with strict mode\nmypy --strict src/\n```\n\n## Configuration Files\n\nMost projects benefit from configuration files:\n\n### .flake8\n```ini\n[flake8]\nmax-line-length = 88\nexclude = .git,__pycache__,venv\nignore = E203,W503\n```\n\n### pyproject.toml\n```toml\n[tool.black]\nline-length = 88\n\n[tool.isort]\nprofile = \"black\"\n```\n\n## Best Practices\n\n- Run linters before committing code\n- Use consistent formatting across the project\n- Fix linting issues promptly\n- Configure linters to match your team's style\n- Use type hints for better code documentation"
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/python/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Runner\n\nRun Python tests with pytest, unittest, or other testing frameworks.\n\n## Purpose\n\nThis command helps you run Python tests effectively with proper configuration and reporting.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Detects test framework** (pytest, unittest, nose2)\n2. **Runs appropriate tests** with proper configuration\n3. **Provides coverage reporting** if available\n4. **Shows clear test results** with failure details\n\n## Example Commands\n\n### pytest (recommended)\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=src --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n\n# Run tests matching pattern\npytest -k \"test_user\"\n```\n\n### unittest\n```bash\n# Run all tests\npython -m unittest discover\n\n# Run specific test file\npython -m unittest tests.test_models\n\n# Run with verbose output\npython -m unittest -v\n```\n\n### Django tests\n```bash\n# Run all Django tests\npython manage.py test\n\n# Run specific app tests\npython manage.py test myapp\n\n# Run with coverage\ncoverage run --source='.' manage.py test\ncoverage report\n```\n\n## Best Practices\n\n- Write tests for all critical functionality\n- Use descriptive test names\n- Keep tests isolated and independent\n- Mock external dependencies\n- Aim for high test coverage (80%+)"
              },
              {
                "name": "/admin",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/admin.md",
                "frontmatter": null,
                "content": "# Django Admin Configuration\n\nConfigure Django admin interface with custom admin classes and functionality.\n\n## Purpose\n\nThis command helps you create comprehensive Django admin configurations with advanced features and customizations.\n\n## Usage\n\n```\n/admin\n```\n\n## What this command does\n\n1. **Registers models** with custom admin classes\n2. **Creates advanced admin interfaces** with filtering, search, and actions\n3. **Adds inline editing** for related models\n4. **Customizes list displays** and forms\n5. **Implements admin actions** for bulk operations\n\n## Example Output\n\n```python\n# admin.py\nfrom django.contrib import admin\nfrom django.utils.html import format_html\nfrom django.urls import reverse\nfrom django.utils.safestring import mark_safe\nfrom .models import Post, Category, Tag, Comment\n\n@admin.register(Category)\nclass CategoryAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Category model.\"\"\"\n    list_display = ['name', 'slug', 'post_count', 'created_at']\n    list_filter = ['created_at']\n    search_fields = ['name', 'description']\n    prepopulated_fields = {'slug': ('name',)}\n    readonly_fields = ['created_at', 'updated_at']\n    \n    def post_count(self, obj):\n        \"\"\"Display number of posts in this category.\"\"\"\n        count = obj.posts.count()\n        url = reverse('admin:blog_post_changelist') + f'?category__id__exact={obj.id}'\n        return format_html('<a href=\"{}\">{} posts</a>', url, count)\n    post_count.short_description = 'Posts'\n\nclass CommentInline(admin.TabularInline):\n    \"\"\"Inline admin for comments.\"\"\"\n    model = Comment\n    extra = 0\n    readonly_fields = ['created_at', 'author']\n    fields = ['author', 'content', 'is_approved', 'created_at']\n\n@admin.register(Post)\nclass PostAdmin(admin.ModelAdmin):\n    \"\"\"Advanced admin configuration for Post model.\"\"\"\n    list_display = [\n        'title', \n        'author', \n        'category', \n        'status', \n        'view_count',\n        'created_at',\n        'post_preview'\n    ]\n    list_filter = [\n        'status', \n        'category', \n        'created_at', \n        'updated_at',\n        ('author', admin.RelatedOnlyFieldListFilter)\n    ]\n    search_fields = ['title', 'content', 'author__username']\n    prepopulated_fields = {'slug': ('title',)}\n    readonly_fields = ['created_at', 'updated_at', 'view_count', 'post_preview']\n    \n    # Custom form layout\n    fieldsets = (\n        ('Content', {\n            'fields': ('title', 'slug', 'content', 'status')\n        }),\n        ('Metadata', {\n            'fields': ('author', 'category', 'tags'),\n            'classes': ('collapse',)\n        }),\n        ('SEO', {\n            'fields': ('meta_description', 'meta_keywords'),\n            'classes': ('collapse',)\n        }),\n        ('Timestamps', {\n            'fields': ('created_at', 'updated_at', 'view_count'),\n            'classes': ('collapse',)\n        }),\n    )\n    \n    # Many-to-many field display\n    filter_horizontal = ['tags']\n    \n    # Inline models\n    inlines = [CommentInline]\n    \n    # Custom list display methods\n    def post_preview(self, obj):\n        \"\"\"Show thumbnail preview of post.\"\"\"\n        if obj.featured_image:\n            return format_html(\n                '<img src=\"{}\" width=\"50\" height=\"50\" style=\"border-radius: 5px;\" />',\n                obj.featured_image.url\n            )\n        return \"No image\"\n    post_preview.short_description = 'Preview'\n    \n    # Custom admin actions\n    actions = ['make_published', 'make_draft', 'duplicate_posts']\n    \n    def make_published(self, request, queryset):\n        \"\"\"Bulk action to publish selected posts.\"\"\"\n        updated = queryset.update(status='published')\n        self.message_user(\n            request, \n            f'{updated} posts were successfully marked as published.'\n        )\n    make_published.short_description = \"Mark selected posts as published\"\n    \n    def make_draft(self, request, queryset):\n        \"\"\"Bulk action to set selected posts as draft.\"\"\"\n        updated = queryset.update(status='draft')\n        self.message_user(\n            request, \n            f'{updated} posts were successfully marked as draft.'\n        )\n    make_draft.short_description = \"Mark selected posts as draft\"\n    \n    def duplicate_posts(self, request, queryset):\n        \"\"\"Bulk action to duplicate selected posts.\"\"\"\n        count = 0\n        for post in queryset:\n            post.pk = None  # Create new instance\n            post.title = f\"Copy of {post.title}\"\n            post.slug = f\"copy-of-{post.slug}\"\n            post.status = 'draft'\n            post.save()\n            count += 1\n        \n        self.message_user(\n            request,\n            f'{count} posts were successfully duplicated.'\n        )\n    duplicate_posts.short_description = \"Duplicate selected posts\"\n\n@admin.register(Tag)\nclass TagAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Tag model.\"\"\"\n    list_display = ['name', 'slug', 'post_count', 'color_preview']\n    search_fields = ['name']\n    prepopulated_fields = {'slug': ('name',)}\n    \n    def post_count(self, obj):\n        \"\"\"Display number of posts with this tag.\"\"\"\n        return obj.posts.count()\n    post_count.short_description = 'Posts'\n    \n    def color_preview(self, obj):\n        \"\"\"Show color preview if tag has color field.\"\"\"\n        if hasattr(obj, 'color') and obj.color:\n            return format_html(\n                '<span style=\"background-color: {}; padding: 2px 8px; border-radius: 3px; color: white;\">{}</span>',\n                obj.color,\n                obj.name\n            )\n        return obj.name\n    color_preview.short_description = 'Preview'\n\n@admin.register(Comment)\nclass CommentAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Comment model.\"\"\"\n    list_display = ['author', 'post', 'content_preview', 'is_approved', 'created_at']\n    list_filter = ['is_approved', 'created_at', 'post__category']\n    search_fields = ['content', 'author__username', 'post__title']\n    readonly_fields = ['created_at', 'updated_at']\n    actions = ['approve_comments', 'disapprove_comments']\n    \n    def content_preview(self, obj):\n        \"\"\"Show truncated content preview.\"\"\"\n        return obj.content[:50] + \"...\" if len(obj.content) > 50 else obj.content\n    content_preview.short_description = 'Content'\n    \n    def approve_comments(self, request, queryset):\n        \"\"\"Bulk approve comments.\"\"\"\n        updated = queryset.update(is_approved=True)\n        self.message_user(request, f'{updated} comments were approved.')\n    approve_comments.short_description = \"Approve selected comments\"\n    \n    def disapprove_comments(self, request, queryset):\n        \"\"\"Bulk disapprove comments.\"\"\"\n        updated = queryset.update(is_approved=False)\n        self.message_user(request, f'{updated} comments were disapproved.')\n    disapprove_comments.short_description = \"Disapprove selected comments\"\n\n# Custom admin site configuration\nadmin.site.site_header = \"Blog Administration\"\nadmin.site.site_title = \"Blog Admin Portal\"\nadmin.site.index_title = \"Welcome to Blog Administration\"\n```\n\n## Advanced Features\n\n### Custom List Display\n- **Thumbnail previews** for images\n- **Related object counts** with links\n- **Status indicators** with colors\n- **Custom formatting** for data display\n\n### Filtering and Search\n- **Advanced filters** including date ranges\n- **Related field filtering** for foreign keys\n- **Search across multiple fields** including relations\n- **Custom filter classes** for complex queries\n\n### Inline Editing\n- **TabularInline** for compact editing\n- **StackedInline** for detailed forms\n- **Custom inline forms** with additional functionality\n- **Readonly fields** in inlines\n\n### Bulk Actions\n- **Status changes** for multiple objects\n- **Data export** functionality\n- **Batch operations** for efficiency\n- **Custom business logic** in actions\n\n### Form Customization\n- **Fieldsets** for organized layouts\n- **Collapsed sections** for advanced options\n- **Custom widgets** for better UX\n- **Validation** and error handling\n\n## Security Considerations\n\n- **Permission checks** in custom methods\n- **Input sanitization** in admin actions\n- **CSRF protection** (automatic)\n- **User authentication** (built-in)\n\n## Performance Optimization\n\n```python\n# Optimize queries with select_related/prefetch_related\nclass PostAdmin(admin.ModelAdmin):\n    def get_queryset(self, request):\n        queryset = super().get_queryset(request)\n        return queryset.select_related('author', 'category').prefetch_related('tags')\n```\n\n## Custom Admin Templates\n\n```python\n# Override admin templates\nclass PostAdmin(admin.ModelAdmin):\n    change_form_template = 'admin/blog/post/change_form.html'\n    change_list_template = 'admin/blog/post/change_list.html'\n```"
              },
              {
                "name": "/django-model",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/django-model.md",
                "frontmatter": null,
                "content": "# Django Model Generator\n\nCreate Django models with proper structure and relationships.\n\n## Purpose\n\nThis command helps you quickly create Django models with fields, relationships, and best practices.\n\n## Usage\n\n```\n/django-model\n```\n\n## What this command does\n\n1. **Creates model classes** with proper field definitions\n2. **Adds relationships** (ForeignKey, ManyToMany, OneToOne)\n3. **Includes meta options** and model methods\n4. **Generates migrations** automatically\n5. **Follows Django conventions** and best practices\n\n## Example Output\n\n```python\n# models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass Category(models.Model):\n    name = models.CharField(max_length=100, unique=True)\n    slug = models.SlugField(unique=True)\n    description = models.TextField(blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    \n    class Meta:\n        verbose_name_plural = \"categories\"\n        ordering = ['name']\n    \n    def __str__(self):\n        return self.name\n\nclass Post(models.Model):\n    STATUS_CHOICES = [\n        ('draft', 'Draft'),\n        ('published', 'Published'),\n        ('archived', 'Archived'),\n    ]\n    \n    title = models.CharField(max_length=200)\n    slug = models.SlugField(unique=True)\n    content = models.TextField()\n    status = models.CharField(max_length=20, choices=STATUS_CHOICES, default='draft')\n    author = models.ForeignKey(User, on_delete=models.CASCADE, related_name='posts')\n    category = models.ForeignKey(Category, on_delete=models.SET_NULL, null=True, blank=True)\n    tags = models.ManyToManyField('Tag', blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    \n    class Meta:\n        ordering = ['-created_at']\n        verbose_name = 'blog post'\n        verbose_name_plural = 'blog posts'\n    \n    def __str__(self):\n        return self.title\n    \n    def get_absolute_url(self):\n        return reverse('post_detail', kwargs={'slug': self.slug})\n\nclass Tag(models.Model):\n    name = models.CharField(max_length=50, unique=True)\n    slug = models.SlugField(unique=True)\n    \n    def __str__(self):\n        return self.name\n```\n\n## Field Types Supported\n\n- **CharField** - Text fields with max length\n- **TextField** - Large text fields\n- **IntegerField** - Integer numbers\n- **FloatField** - Floating point numbers\n- **BooleanField** - True/False values\n- **DateField** - Date only\n- **DateTimeField** - Date and time\n- **EmailField** - Email addresses\n- **URLField** - URLs\n- **ImageField** - Image uploads\n- **FileField** - File uploads\n- **JSONField** - JSON data (PostgreSQL)\n\n## Relationships\n\n- **ForeignKey** - One-to-many relationships\n- **ManyToManyField** - Many-to-many relationships\n- **OneToOneField** - One-to-one relationships\n\n## Best Practices Included\n\n- Proper field choices and defaults\n- Appropriate related_name attributes\n- __str__ methods for admin interface\n- Meta class with ordering and verbose names\n- get_absolute_url methods where appropriate\n- Proper use of null and blank parameters\n- Field validation and constraints\n\n## After Creating Models\n\n```bash\n# Create and apply migrations\npython manage.py makemigrations\npython manage.py migrate\n\n# Register in admin (optional)\n# Add to admin.py:\nfrom django.contrib import admin\nfrom .models import Post, Category, Tag\n\nadmin.site.register([Post, Category, Tag])\n```"
              },
              {
                "name": "/views",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/views.md",
                "frontmatter": null,
                "content": "# Django Views Generator\n\nCreate Django views with proper structure and best practices.\n\n## Purpose\n\nThis command helps you quickly create Django views (Function-Based Views and Class-Based Views) following Django conventions.\n\n## Usage\n\n```\n/views\n```\n\n## What this command does\n\n1. **Creates view functions/classes** with proper structure\n2. **Handles HTTP methods** (GET, POST, PUT, DELETE)\n3. **Includes form handling** and validation\n4. **Adds authentication/authorization** checks\n5. **Follows Django best practices** and security guidelines\n\n## Example Output\n\n```python\n# views.py\nfrom django.shortcuts import render, get_object_or_404, redirect\nfrom django.contrib.auth.decorators import login_required\nfrom django.contrib import messages\nfrom django.http import JsonResponse\nfrom django.views.generic import ListView, DetailView, CreateView, UpdateView, DeleteView\nfrom django.contrib.auth.mixins import LoginRequiredMixin\nfrom django.urls import reverse_lazy\nfrom .models import Post, Category\nfrom .forms import PostForm\n\n# Function-Based Views\ndef post_list(request):\n    \"\"\"Display list of posts with pagination and filtering.\"\"\"\n    posts = Post.objects.filter(status='published').select_related('author', 'category')\n    \n    # Search functionality\n    search_query = request.GET.get('search')\n    if search_query:\n        posts = posts.filter(title__icontains=search_query)\n    \n    # Category filtering\n    category_id = request.GET.get('category')\n    if category_id:\n        posts = posts.filter(category_id=category_id)\n    \n    context = {\n        'posts': posts,\n        'categories': Category.objects.all(),\n        'search_query': search_query,\n    }\n    return render(request, 'blog/post_list.html', context)\n\ndef post_detail(request, slug):\n    \"\"\"Display individual post details.\"\"\"\n    post = get_object_or_404(Post, slug=slug, status='published')\n    \n    context = {\n        'post': post,\n        'related_posts': Post.objects.filter(\n            category=post.category,\n            status='published'\n        ).exclude(id=post.id)[:3]\n    }\n    return render(request, 'blog/post_detail.html', context)\n\n@login_required\ndef post_create(request):\n    \"\"\"Create new post.\"\"\"\n    if request.method == 'POST':\n        form = PostForm(request.POST, request.FILES)\n        if form.is_valid():\n            post = form.save(commit=False)\n            post.author = request.user\n            post.save()\n            form.save_m2m()  # Save many-to-many relationships\n            messages.success(request, 'Post created successfully!')\n            return redirect('post_detail', slug=post.slug)\n    else:\n        form = PostForm()\n    \n    return render(request, 'blog/post_form.html', {'form': form})\n\n@login_required\ndef post_edit(request, slug):\n    \"\"\"Edit existing post.\"\"\"\n    post = get_object_or_404(Post, slug=slug, author=request.user)\n    \n    if request.method == 'POST':\n        form = PostForm(request.POST, request.FILES, instance=post)\n        if form.is_valid():\n            form.save()\n            messages.success(request, 'Post updated successfully!')\n            return redirect('post_detail', slug=post.slug)\n    else:\n        form = PostForm(instance=post)\n    \n    return render(request, 'blog/post_form.html', {\n        'form': form, \n        'post': post\n    })\n\n# Class-Based Views\nclass PostListView(ListView):\n    \"\"\"List view for posts with pagination.\"\"\"\n    model = Post\n    template_name = 'blog/post_list.html'\n    context_object_name = 'posts'\n    paginate_by = 10\n    \n    def get_queryset(self):\n        return Post.objects.filter(status='published').select_related('author', 'category')\n    \n    def get_context_data(self, **kwargs):\n        context = super().get_context_data(**kwargs)\n        context['categories'] = Category.objects.all()\n        return context\n\nclass PostDetailView(DetailView):\n    \"\"\"Detail view for individual posts.\"\"\"\n    model = Post\n    template_name = 'blog/post_detail.html'\n    context_object_name = 'post'\n    \n    def get_queryset(self):\n        return Post.objects.filter(status='published')\n\nclass PostCreateView(LoginRequiredMixin, CreateView):\n    \"\"\"Create view for new posts.\"\"\"\n    model = Post\n    form_class = PostForm\n    template_name = 'blog/post_form.html'\n    \n    def form_valid(self, form):\n        form.instance.author = self.request.user\n        return super().form_valid(form)\n\nclass PostUpdateView(LoginRequiredMixin, UpdateView):\n    \"\"\"Update view for existing posts.\"\"\"\n    model = Post\n    form_class = PostForm\n    template_name = 'blog/post_form.html'\n    \n    def get_queryset(self):\n        return Post.objects.filter(author=self.request.user)\n\nclass PostDeleteView(LoginRequiredMixin, DeleteView):\n    \"\"\"Delete view for posts.\"\"\"\n    model = Post\n    template_name = 'blog/post_confirm_delete.html'\n    success_url = reverse_lazy('post_list')\n    \n    def get_queryset(self):\n        return Post.objects.filter(author=self.request.user)\n\n# API Views\ndef api_post_list(request):\n    \"\"\"API endpoint for post list.\"\"\"\n    posts = Post.objects.filter(status='published').values(\n        'id', 'title', 'slug', 'created_at', 'author__username'\n    )\n    return JsonResponse(list(posts), safe=False)\n```\n\n## View Types Supported\n\n- **Function-Based Views (FBV)** - Simple, explicit control\n- **Class-Based Views (CBV)** - Reusable, inheritance-based\n- **Generic Views** - ListView, DetailView, CreateView, etc.\n- **API Views** - JSON responses for AJAX/API calls\n\n## Features Included\n\n- **Authentication checks** with decorators/mixins\n- **Permission handling** for user authorization\n- **Form processing** with validation\n- **Error handling** and user feedback\n- **SEO-friendly URLs** with slugs\n- **Database optimization** with select_related/prefetch_related\n- **Pagination** for large datasets\n- **Search and filtering** functionality\n\n## Security Best Practices\n\n- CSRF protection (automatic with forms)\n- User authentication and authorization\n- SQL injection prevention (ORM)\n- XSS protection with template escaping\n- Proper error handling\n\n## URL Configuration\n\n```python\n# urls.py\nfrom django.urls import path\nfrom . import views\n\napp_name = 'blog'\n\nurlpatterns = [\n    # Function-based views\n    path('', views.post_list, name='post_list'),\n    path('post/<slug:slug>/', views.post_detail, name='post_detail'),\n    path('create/', views.post_create, name='post_create'),\n    path('edit/<slug:slug>/', views.post_edit, name='post_edit'),\n    \n    # Class-based views\n    path('posts/', views.PostListView.as_view(), name='post_list_cbv'),\n    path('posts/<slug:slug>/', views.PostDetailView.as_view(), name='post_detail_cbv'),\n    path('posts/create/', views.PostCreateView.as_view(), name='post_create_cbv'),\n    path('posts/<slug:slug>/edit/', views.PostUpdateView.as_view(), name='post_edit_cbv'),\n    path('posts/<slug:slug>/delete/', views.PostDeleteView.as_view(), name='post_delete_cbv'),\n    \n    # API endpoints\n    path('api/posts/', views.api_post_list, name='api_post_list'),\n]\n```"
              },
              {
                "name": "/api-endpoints",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/api-endpoints.md",
                "frontmatter": null,
                "content": "# FastAPI Endpoints Generator\n\nCreate comprehensive FastAPI endpoints with proper structure, validation, and documentation.\n\n## Purpose\n\nThis command helps you quickly create FastAPI endpoints with Pydantic models, dependency injection, and automatic API documentation.\n\n## Usage\n\n```\n/api-endpoints\n```\n\n## What this command does\n\n1. **Creates API endpoints** with proper HTTP methods\n2. **Adds Pydantic models** for request/response validation\n3. **Implements dependency injection** for database and auth\n4. **Includes error handling** and status codes\n5. **Generates automatic documentation** with OpenAPI\n\n## Example Output\n\n```python\n# main.py\nfrom fastapi import FastAPI, Depends, HTTPException, status\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom fastapi.security import HTTPBearer, HTTPAuthorizationCredentials\nfrom sqlalchemy.orm import Session\nimport uvicorn\n\nfrom app.database import get_db, engine\nfrom app.models import models\nfrom app.routers import auth, users, posts, comments\nfrom app.core.config import settings\n\n# Create database tables\nmodels.Base.metadata.create_all(bind=engine)\n\n# Initialize FastAPI app\napp = FastAPI(\n    title=\"Blog API\",\n    description=\"A comprehensive blog API built with FastAPI\",\n    version=\"1.0.0\",\n    docs_url=\"/docs\",\n    redoc_url=\"/redoc\"\n)\n\n# Add CORS middleware\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=settings.ALLOWED_HOSTS,\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n\n# Include routers\napp.include_router(auth.router, prefix=\"/auth\", tags=[\"Authentication\"])\napp.include_router(users.router, prefix=\"/users\", tags=[\"Users\"])\napp.include_router(posts.router, prefix=\"/posts\", tags=[\"Posts\"])\napp.include_router(comments.router, prefix=\"/comments\", tags=[\"Comments\"])\n\n@app.get(\"/\", tags=[\"Root\"])\nasync def root():\n    \"\"\"API root endpoint.\"\"\"\n    return {\n        \"message\": \"Welcome to Blog API\",\n        \"version\": \"1.0.0\",\n        \"docs\": \"/docs\",\n        \"redoc\": \"/redoc\"\n    }\n\n@app.get(\"/health\", tags=[\"Health\"])\nasync def health_check():\n    \"\"\"Health check endpoint.\"\"\"\n    return {\"status\": \"healthy\", \"timestamp\": \"2024-01-01T00:00:00Z\"}\n\nif __name__ == \"__main__\":\n    uvicorn.run(\n        \"main:app\",\n        host=\"0.0.0.0\",\n        port=8000,\n        reload=True\n    )\n```\n\n```python\n# app/routers/posts.py\nfrom typing import List, Optional\nfrom fastapi import APIRouter, Depends, HTTPException, status, Query\nfrom sqlalchemy.orm import Session\n\nfrom app.database import get_db\nfrom app.schemas import post_schemas\nfrom app.services import post_service\nfrom app.core.dependencies import get_current_user, get_current_active_user\nfrom app.models.user import User\n\nrouter = APIRouter()\n\n@router.get(\"/\", response_model=List[post_schemas.PostResponse])\nasync def get_posts(\n    skip: int = Query(0, ge=0, description=\"Number of posts to skip\"),\n    limit: int = Query(10, ge=1, le=100, description=\"Number of posts to return\"),\n    search: Optional[str] = Query(None, description=\"Search in title and content\"),\n    category: Optional[str] = Query(None, description=\"Filter by category\"),\n    published: Optional[bool] = Query(True, description=\"Filter by published status\"),\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get all posts with pagination and filtering.\n    \n    - **skip**: Number of posts to skip (for pagination)\n    - **limit**: Maximum number of posts to return (1-100)\n    - **search**: Search term for title and content\n    - **category**: Filter posts by category\n    - **published**: Filter by published status\n    \"\"\"\n    posts = post_service.get_posts(\n        db=db,\n        skip=skip,\n        limit=limit,\n        search=search,\n        category=category,\n        published=published\n    )\n    return posts\n\n@router.get(\"/{post_id}\", response_model=post_schemas.PostResponse)\nasync def get_post(\n    post_id: int,\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get a specific post by ID.\n    \n    - **post_id**: Unique identifier for the post\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    return post\n\n@router.post(\"/\", response_model=post_schemas.PostResponse, status_code=status.HTTP_201_CREATED)\nasync def create_post(\n    post: post_schemas.PostCreate,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Create a new post.\n    \n    - **title**: Post title (required)\n    - **content**: Post content (required)\n    - **category**: Post category (optional)\n    - **published**: Publication status (default: false)\n    \"\"\"\n    return post_service.create_post(\n        db=db,\n        post=post,\n        user_id=current_user.id\n    )\n\n@router.put(\"/{post_id}\", response_model=post_schemas.PostResponse)\nasync def update_post(\n    post_id: int,\n    post_update: post_schemas.PostUpdate,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Update an existing post.\n    \n    - **post_id**: Unique identifier for the post\n    - **title**: Updated post title (optional)\n    - **content**: Updated post content (optional)\n    - **category**: Updated post category (optional)\n    - **published**: Updated publication status (optional)\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    if post.author_id != current_user.id:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not authorized to update this post\"\n        )\n    \n    return post_service.update_post(\n        db=db,\n        post_id=post_id,\n        post_update=post_update\n    )\n\n@router.delete(\"/{post_id}\", status_code=status.HTTP_204_NO_CONTENT)\nasync def delete_post(\n    post_id: int,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Delete a post.\n    \n    - **post_id**: Unique identifier for the post to delete\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    if post.author_id != current_user.id:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not authorized to delete this post\"\n        )\n    \n    post_service.delete_post(db=db, post_id=post_id)\n\n@router.post(\"/{post_id}/like\", response_model=post_schemas.PostResponse)\nasync def like_post(\n    post_id: int,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Like/unlike a post.\n    \n    - **post_id**: Unique identifier for the post to like\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    return post_service.toggle_like(\n        db=db,\n        post_id=post_id,\n        user_id=current_user.id\n    )\n\n@router.get(\"/{post_id}/comments\", response_model=List[post_schemas.CommentResponse])\nasync def get_post_comments(\n    post_id: int,\n    skip: int = Query(0, ge=0),\n    limit: int = Query(10, ge=1, le=100),\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get all comments for a specific post.\n    \n    - **post_id**: Unique identifier for the post\n    - **skip**: Number of comments to skip\n    - **limit**: Maximum number of comments to return\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    return post_service.get_post_comments(\n        db=db,\n        post_id=post_id,\n        skip=skip,\n        limit=limit\n    )\n```\n\n```python\n# app/schemas/post_schemas.py\nfrom typing import Optional, List\nfrom datetime import datetime\nfrom pydantic import BaseModel, Field, validator\n\nclass PostBase(BaseModel):\n    \"\"\"Base post schema.\"\"\"\n    title: str = Field(..., min_length=1, max_length=200, description=\"Post title\")\n    content: str = Field(..., min_length=1, description=\"Post content\")\n    category: Optional[str] = Field(None, max_length=50, description=\"Post category\")\n    published: bool = Field(False, description=\"Publication status\")\n\nclass PostCreate(PostBase):\n    \"\"\"Schema for creating a post.\"\"\"\n    \n    @validator('title')\n    def validate_title(cls, v):\n        if not v.strip():\n            raise ValueError('Title cannot be empty')\n        return v.strip()\n    \n    @validator('content')\n    def validate_content(cls, v):\n        if len(v.strip()) < 10:\n            raise ValueError('Content must be at least 10 characters long')\n        return v.strip()\n\nclass PostUpdate(BaseModel):\n    \"\"\"Schema for updating a post.\"\"\"\n    title: Optional[str] = Field(None, min_length=1, max_length=200)\n    content: Optional[str] = Field(None, min_length=1)\n    category: Optional[str] = Field(None, max_length=50)\n    published: Optional[bool] = None\n    \n    @validator('title')\n    def validate_title(cls, v):\n        if v is not None and not v.strip():\n            raise ValueError('Title cannot be empty')\n        return v.strip() if v else v\n    \n    @validator('content')\n    def validate_content(cls, v):\n        if v is not None and len(v.strip()) < 10:\n            raise ValueError('Content must be at least 10 characters long')\n        return v.strip() if v else v\n\nclass PostResponse(PostBase):\n    \"\"\"Schema for post responses.\"\"\"\n    id: int\n    author_id: int\n    created_at: datetime\n    updated_at: datetime\n    like_count: int = 0\n    comment_count: int = 0\n    \n    class Config:\n        from_attributes = True\n\nclass CommentBase(BaseModel):\n    \"\"\"Base comment schema.\"\"\"\n    content: str = Field(..., min_length=1, max_length=1000, description=\"Comment content\")\n\nclass CommentCreate(CommentBase):\n    \"\"\"Schema for creating a comment.\"\"\"\n    post_id: int = Field(..., description=\"ID of the post to comment on\")\n\nclass CommentResponse(CommentBase):\n    \"\"\"Schema for comment responses.\"\"\"\n    id: int\n    post_id: int\n    author_id: int\n    created_at: datetime\n    updated_at: datetime\n    \n    class Config:\n        from_attributes = True\n```\n\n```python\n# app/services/post_service.py\nfrom typing import List, Optional\nfrom sqlalchemy.orm import Session\nfrom sqlalchemy import or_\n\nfrom app.models.post import Post, Comment, PostLike\nfrom app.schemas.post_schemas import PostCreate, PostUpdate\n\ndef get_posts(\n    db: Session,\n    skip: int = 0,\n    limit: int = 10,\n    search: Optional[str] = None,\n    category: Optional[str] = None,\n    published: Optional[bool] = True\n) -> List[Post]:\n    \"\"\"Get posts with filtering and pagination.\"\"\"\n    query = db.query(Post)\n    \n    if published is not None:\n        query = query.filter(Post.published == published)\n    \n    if category:\n        query = query.filter(Post.category == category)\n    \n    if search:\n        query = query.filter(\n            or_(\n                Post.title.contains(search),\n                Post.content.contains(search)\n            )\n        )\n    \n    return query.offset(skip).limit(limit).all()\n\ndef get_post(db: Session, post_id: int) -> Optional[Post]:\n    \"\"\"Get a single post by ID.\"\"\"\n    return db.query(Post).filter(Post.id == post_id).first()\n\ndef create_post(db: Session, post: PostCreate, user_id: int) -> Post:\n    \"\"\"Create a new post.\"\"\"\n    db_post = Post(**post.dict(), author_id=user_id)\n    db.add(db_post)\n    db.commit()\n    db.refresh(db_post)\n    return db_post\n\ndef update_post(\n    db: Session,\n    post_id: int,\n    post_update: PostUpdate\n) -> Optional[Post]:\n    \"\"\"Update an existing post.\"\"\"\n    db_post = db.query(Post).filter(Post.id == post_id).first()\n    if not db_post:\n        return None\n    \n    update_data = post_update.dict(exclude_unset=True)\n    for field, value in update_data.items():\n        setattr(db_post, field, value)\n    \n    db.commit()\n    db.refresh(db_post)\n    return db_post\n\ndef delete_post(db: Session, post_id: int) -> bool:\n    \"\"\"Delete a post.\"\"\"\n    db_post = db.query(Post).filter(Post.id == post_id).first()\n    if not db_post:\n        return False\n    \n    db.delete(db_post)\n    db.commit()\n    return True\n\ndef toggle_like(db: Session, post_id: int, user_id: int) -> Post:\n    \"\"\"Toggle like status for a post.\"\"\"\n    existing_like = db.query(PostLike).filter(\n        PostLike.post_id == post_id,\n        PostLike.user_id == user_id\n    ).first()\n    \n    if existing_like:\n        db.delete(existing_like)\n    else:\n        new_like = PostLike(post_id=post_id, user_id=user_id)\n        db.add(new_like)\n    \n    db.commit()\n    return get_post(db, post_id)\n```\n\n## Features Included\n\n### API Documentation\n- **Automatic OpenAPI** schema generation\n- **Interactive docs** at `/docs`\n- **ReDoc documentation** at `/redoc`\n- **Request/Response examples** in schemas\n\n### Validation & Serialization\n- **Pydantic models** for data validation\n- **Custom validators** for business rules\n- **Type hints** for better IDE support\n- **Automatic data conversion** and validation\n\n### Error Handling\n- **HTTP status codes** for different scenarios\n- **Detailed error messages** with context\n- **Input validation errors** with field-specific messages\n- **Custom exception handlers** for consistent responses\n\n### Security\n- **JWT authentication** with dependencies\n- **Role-based access control** for endpoints\n- **CORS middleware** for cross-origin requests\n- **Input sanitization** through Pydantic\n\n### Performance\n- **Database query optimization** with SQLAlchemy\n- **Pagination support** for large datasets\n- **Async/await support** for concurrent requests\n- **Connection pooling** for database efficiency\n\n## Testing Example\n\n```python\n# tests/test_posts.py\nimport pytest\nfrom fastapi.testclient import TestClient\nfrom app.main import app\n\nclient = TestClient(app)\n\ndef test_get_posts():\n    \"\"\"Test getting posts.\"\"\"\n    response = client.get(\"/posts/\")\n    assert response.status_code == 200\n    assert isinstance(response.json(), list)\n\ndef test_create_post():\n    \"\"\"Test creating a new post.\"\"\"\n    post_data = {\n        \"title\": \"Test Post\",\n        \"content\": \"This is a test post content.\",\n        \"published\": True\n    }\n    response = client.post(\"/posts/\", json=post_data)\n    assert response.status_code == 201\n    assert response.json()[\"title\"] == \"Test Post\"\n```"
              },
              {
                "name": "/auth",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/auth.md",
                "frontmatter": null,
                "content": "# FastAPI Authentication & Authorization\n\nComplete authentication system with JWT tokens, OAuth2, and role-based access control.\n\n## Usage\n\n```bash\n# Install auth dependencies\npip install python-jose[cryptography] passlib[bcrypt] python-multipart\n\n# Generate secret key\nopenssl rand -hex 32\n```\n\n## JWT Configuration\n\n```python\n# app/core/security.py\nfrom datetime import datetime, timedelta\nfrom typing import Optional, Union, Any\nfrom jose import JWTError, jwt\nfrom passlib.context import CryptContext\nfrom app.core.config import settings\n\n# Password hashing\npwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\n# JWT settings\nSECRET_KEY = settings.SECRET_KEY\nALGORITHM = \"HS256\"\nACCESS_TOKEN_EXPIRE_MINUTES = 30\nREFRESH_TOKEN_EXPIRE_DAYS = 7\n\ndef create_access_token(\n    subject: Union[str, Any], \n    expires_delta: Optional[timedelta] = None\n) -> str:\n    \"\"\"Create JWT access token.\"\"\"\n    if expires_delta:\n        expire = datetime.utcnow() + expires_delta\n    else:\n        expire = datetime.utcnow() + timedelta(minutes=ACCESS_TOKEN_EXPIRE_MINUTES)\n    \n    to_encode = {\"exp\": expire, \"sub\": str(subject), \"type\": \"access\"}\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n    return encoded_jwt\n\ndef create_refresh_token(subject: Union[str, Any]) -> str:\n    \"\"\"Create JWT refresh token.\"\"\"\n    expire = datetime.utcnow() + timedelta(days=REFRESH_TOKEN_EXPIRE_DAYS)\n    to_encode = {\"exp\": expire, \"sub\": str(subject), \"type\": \"refresh\"}\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n    return encoded_jwt\n\ndef verify_password(plain_password: str, hashed_password: str) -> bool:\n    \"\"\"Verify password against hash.\"\"\"\n    return pwd_context.verify(plain_password, hashed_password)\n\ndef get_password_hash(password: str) -> str:\n    \"\"\"Generate password hash.\"\"\"\n    return pwd_context.hash(password)\n\ndef decode_token(token: str) -> Optional[dict]:\n    \"\"\"Decode and verify JWT token.\"\"\"\n    try:\n        payload = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])\n        return payload\n    except JWTError:\n        return None\n```\n\n## Authentication Dependencies\n\n```python\n# app/api/dependencies/auth.py\nfrom typing import Optional\nfrom fastapi import Depends, HTTPException, status\nfrom fastapi.security import OAuth2PasswordBearer, HTTPBearer, HTTPAuthorizationCredentials\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.core.security import decode_token\nfrom app.db.database import get_db\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\n\n# OAuth2 scheme\noauth2_scheme = OAuth2PasswordBearer(\n    tokenUrl=\"/api/v1/auth/login\",\n    scheme_name=\"JWT\"\n)\n\n# Bearer token scheme\nsecurity = HTTPBearer()\n\nasync def get_current_user(\n    token: str = Depends(oauth2_scheme),\n    db: AsyncSession = Depends(get_db)\n) -> User:\n    \"\"\"Get current authenticated user.\"\"\"\n    credentials_exception = HTTPException(\n        status_code=status.HTTP_401_UNAUTHORIZED,\n        detail=\"Could not validate credentials\",\n        headers={\"WWW-Authenticate\": \"Bearer\"},\n    )\n    \n    payload = decode_token(token)\n    if payload is None:\n        raise credentials_exception\n    \n    user_id: str = payload.get(\"sub\")\n    token_type: str = payload.get(\"type\")\n    \n    if user_id is None or token_type != \"access\":\n        raise credentials_exception\n    \n    user_repo = UserRepository(User, db)\n    user = await user_repo.get(int(user_id))\n    \n    if user is None:\n        raise credentials_exception\n    \n    if not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    \n    return user\n\nasync def get_current_active_user(\n    current_user: User = Depends(get_current_user)\n) -> User:\n    \"\"\"Get current active user.\"\"\"\n    if not current_user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    return current_user\n\nasync def get_current_superuser(\n    current_user: User = Depends(get_current_user)\n) -> User:\n    \"\"\"Get current superuser.\"\"\"\n    if not current_user.is_superuser:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not enough permissions\"\n        )\n    return current_user\n\ndef require_permissions(*permissions: str):\n    \"\"\"Decorator for permission-based access control.\"\"\"\n    async def permission_checker(\n        current_user: User = Depends(get_current_active_user)\n    ) -> User:\n        # Check if user has required permissions\n        user_permissions = set(current_user.permissions or [])\n        required_permissions = set(permissions)\n        \n        if not required_permissions.issubset(user_permissions) and not current_user.is_superuser:\n            raise HTTPException(\n                status_code=status.HTTP_403_FORBIDDEN,\n                detail=\"Insufficient permissions\"\n            )\n        \n        return current_user\n    \n    return permission_checker\n\ndef require_roles(*roles: str):\n    \"\"\"Decorator for role-based access control.\"\"\"\n    async def role_checker(\n        current_user: User = Depends(get_current_active_user)\n    ) -> User:\n        user_roles = set(role.name for role in current_user.roles or [])\n        required_roles = set(roles)\n        \n        if not required_roles.issubset(user_roles) and not current_user.is_superuser:\n            raise HTTPException(\n                status_code=status.HTTP_403_FORBIDDEN,\n                detail=\"Insufficient role permissions\"\n            )\n        \n        return current_user\n    \n    return role_checker\n```\n\n## Authentication Schemas\n\n```python\n# app/schemas/auth.py\nfrom pydantic import BaseModel, EmailStr\nfrom typing import Optional\n\nclass Token(BaseModel):\n    \"\"\"Token response schema.\"\"\"\n    access_token: str\n    refresh_token: str\n    token_type: str = \"bearer\"\n    expires_in: int\n\nclass TokenPayload(BaseModel):\n    \"\"\"Token payload schema.\"\"\"\n    sub: Optional[int] = None\n    exp: Optional[int] = None\n    type: Optional[str] = None\n\nclass UserLogin(BaseModel):\n    \"\"\"User login schema.\"\"\"\n    username: str\n    password: str\n\nclass UserRegister(BaseModel):\n    \"\"\"User registration schema.\"\"\"\n    username: str\n    email: EmailStr\n    password: str\n    first_name: str\n    last_name: str\n\nclass PasswordReset(BaseModel):\n    \"\"\"Password reset schema.\"\"\"\n    email: EmailStr\n\nclass PasswordResetConfirm(BaseModel):\n    \"\"\"Password reset confirmation schema.\"\"\"\n    token: str\n    new_password: str\n\nclass ChangePassword(BaseModel):\n    \"\"\"Change password schema.\"\"\"\n    current_password: str\n    new_password: str\n\nclass RefreshToken(BaseModel):\n    \"\"\"Refresh token schema.\"\"\"\n    refresh_token: str\n```\n\n## Authentication Endpoints\n\n```python\n# app/api/v1/auth.py\nfrom datetime import timedelta\nfrom typing import Any\nfrom fastapi import APIRouter, Depends, HTTPException, status, BackgroundTasks\nfrom fastapi.security import OAuth2PasswordRequestForm\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.db.database import get_db\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.schemas.auth import (\n    Token, UserLogin, UserRegister, PasswordReset, \n    PasswordResetConfirm, ChangePassword, RefreshToken\n)\nfrom app.schemas.user import UserCreate, UserResponse\nfrom app.core.security import (\n    create_access_token, create_refresh_token, verify_password,\n    decode_token, ACCESS_TOKEN_EXPIRE_MINUTES\n)\nfrom app.api.dependencies.auth import get_current_user, get_current_active_user\nfrom app.services.email import send_password_reset_email\nfrom app.services.auth import AuthService\n\nrouter = APIRouter()\n\n@router.post(\"/register\", response_model=UserResponse, status_code=status.HTTP_201_CREATED)\nasync def register(\n    user_data: UserRegister,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Register new user.\"\"\"\n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    # Check if user already exists\n    if await user_repo.get_by_email(user_data.email):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Email already registered\"\n        )\n    \n    if await user_repo.get_by_username(user_data.username):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Username already taken\"\n        )\n    \n    # Create user\n    user = await auth_service.create_user(user_data.dict())\n    return user\n\n@router.post(\"/login\", response_model=Token)\nasync def login(\n    form_data: OAuth2PasswordRequestForm = Depends(),\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"OAuth2 compatible token login.\"\"\"\n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    user = await auth_service.authenticate_user(\n        form_data.username, \n        form_data.password\n    )\n    \n    if not user:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Incorrect username or password\",\n            headers={\"WWW-Authenticate\": \"Bearer\"},\n        )\n    \n    if not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    \n    # Create tokens\n    access_token = create_access_token(subject=user.id)\n    refresh_token = create_refresh_token(subject=user.id)\n    \n    return {\n        \"access_token\": access_token,\n        \"refresh_token\": refresh_token,\n        \"token_type\": \"bearer\",\n        \"expires_in\": ACCESS_TOKEN_EXPIRE_MINUTES * 60\n    }\n\n@router.post(\"/refresh\", response_model=Token)\nasync def refresh_token(\n    refresh_data: RefreshToken,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Refresh access token.\"\"\"\n    payload = decode_token(refresh_data.refresh_token)\n    \n    if payload is None or payload.get(\"type\") != \"refresh\":\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    user_id = payload.get(\"sub\")\n    if user_id is None:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    user = await user_repo.get(int(user_id))\n    \n    if user is None or not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    # Create new tokens\n    access_token = create_access_token(subject=user.id)\n    new_refresh_token = create_refresh_token(subject=user.id)\n    \n    return {\n        \"access_token\": access_token,\n        \"refresh_token\": new_refresh_token,\n        \"token_type\": \"bearer\",\n        \"expires_in\": ACCESS_TOKEN_EXPIRE_MINUTES * 60\n    }\n\n@router.get(\"/me\", response_model=UserResponse)\nasync def read_users_me(\n    current_user: User = Depends(get_current_active_user)\n) -> Any:\n    \"\"\"Get current user.\"\"\"\n    return current_user\n\n@router.post(\"/change-password\", status_code=status.HTTP_200_OK)\nasync def change_password(\n    password_data: ChangePassword,\n    current_user: User = Depends(get_current_active_user),\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Change user password.\"\"\"\n    if not verify_password(password_data.current_password, current_user.hashed_password):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Incorrect current password\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    await auth_service.change_password(current_user.id, password_data.new_password)\n    \n    return {\"message\": \"Password changed successfully\"}\n\n@router.post(\"/password-reset\", status_code=status.HTTP_200_OK)\nasync def password_reset(\n    reset_data: PasswordReset,\n    background_tasks: BackgroundTasks,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Request password reset.\"\"\"\n    user_repo = UserRepository(User, db)\n    user = await user_repo.get_by_email(reset_data.email)\n    \n    if user:\n        # Generate reset token\n        reset_token = create_access_token(\n            subject=user.id,\n            expires_delta=timedelta(hours=1)  # 1 hour expiry\n        )\n        \n        # Send email with reset token\n        background_tasks.add_task(\n            send_password_reset_email,\n            email=user.email,\n            username=user.username,\n            token=reset_token\n        )\n    \n    # Always return success to prevent email enumeration\n    return {\"message\": \"Password reset email sent if account exists\"}\n\n@router.post(\"/password-reset-confirm\", status_code=status.HTTP_200_OK)\nasync def password_reset_confirm(\n    reset_data: PasswordResetConfirm,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Confirm password reset.\"\"\"\n    payload = decode_token(reset_data.token)\n    \n    if payload is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid or expired reset token\"\n        )\n    \n    user_id = payload.get(\"sub\")\n    if user_id is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid reset token\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    user = await user_repo.get(int(user_id))\n    if user is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid reset token\"\n        )\n    \n    await auth_service.change_password(user.id, reset_data.new_password)\n    \n    return {\"message\": \"Password reset successful\"}\n\n@router.post(\"/logout\", status_code=status.HTTP_200_OK)\nasync def logout(\n    current_user: User = Depends(get_current_user)\n) -> Any:\n    \"\"\"Logout user (invalidate token on client side).\"\"\"\n    # In a more sophisticated setup, you might want to blacklist the token\n    return {\"message\": \"Successfully logged out\"}\n```\n\n## Authentication Service\n\n```python\n# app/services/auth.py\nfrom typing import Optional\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.security import verify_password, get_password_hash\n\nclass AuthService:\n    \"\"\"Authentication service.\"\"\"\n    \n    def __init__(self, user_repository: UserRepository):\n        self.user_repo = user_repository\n    \n    async def authenticate_user(\n        self, \n        username_or_email: str, \n        password: str\n    ) -> Optional[User]:\n        \"\"\"Authenticate user by username/email and password.\"\"\"\n        # Try to get user by username first, then by email\n        user = await self.user_repo.get_by_username(username_or_email)\n        if not user:\n            user = await self.user_repo.get_by_email(username_or_email)\n        \n        if not user:\n            return None\n        \n        if not verify_password(password, user.hashed_password):\n            return None\n        \n        return user\n    \n    async def create_user(self, user_data: dict) -> User:\n        \"\"\"Create new user.\"\"\"\n        # Hash password\n        password = user_data.pop('password')\n        hashed_password = get_password_hash(password)\n        \n        # Create user data\n        user_create_data = {\n            **user_data,\n            'hashed_password': hashed_password,\n            'is_active': True,\n            'is_superuser': False\n        }\n        \n        return await self.user_repo.create(user_create_data)\n    \n    async def change_password(self, user_id: int, new_password: str) -> bool:\n        \"\"\"Change user password.\"\"\"\n        hashed_password = get_password_hash(new_password)\n        \n        result = await self.user_repo.update(user_id, {\n            'hashed_password': hashed_password\n        })\n        \n        return result is not None\n    \n    async def activate_user(self, user_id: int) -> bool:\n        \"\"\"Activate user account.\"\"\"\n        result = await self.user_repo.update(user_id, {'is_active': True})\n        return result is not None\n    \n    async def deactivate_user(self, user_id: int) -> bool:\n        \"\"\"Deactivate user account.\"\"\"\n        result = await self.user_repo.update(user_id, {'is_active': False})\n        return result is not None\n```\n\n## Role-Based Access Control\n\n```python\n# app/models/rbac.py\nfrom sqlalchemy import Column, String, Text, ForeignKey, Table\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\n\n# Association tables for many-to-many relationships\nuser_roles = Table(\n    'user_roles',\n    Base.metadata,\n    Column('user_id', Integer, ForeignKey('users.id')),\n    Column('role_id', Integer, ForeignKey('roles.id'))\n)\n\nrole_permissions = Table(\n    'role_permissions',\n    Base.metadata,\n    Column('role_id', Integer, ForeignKey('roles.id')),\n    Column('permission_id', Integer, ForeignKey('permissions.id'))\n)\n\nclass Role(BaseModel):\n    \"\"\"Role model for RBAC.\"\"\"\n    __tablename__ = \"roles\"\n    \n    name = Column(String(50), unique=True, nullable=False, index=True)\n    description = Column(Text)\n    \n    # Relationships\n    users = relationship(\"User\", secondary=user_roles, back_populates=\"roles\")\n    permissions = relationship(\"Permission\", secondary=role_permissions, back_populates=\"roles\")\n\nclass Permission(BaseModel):\n    \"\"\"Permission model for RBAC.\"\"\"\n    __tablename__ = \"permissions\"\n    \n    name = Column(String(100), unique=True, nullable=False, index=True)\n    description = Column(Text)\n    resource = Column(String(50), nullable=False)  # e.g., 'users', 'posts'\n    action = Column(String(50), nullable=False)    # e.g., 'create', 'read', 'update', 'delete'\n    \n    # Relationships\n    roles = relationship(\"Role\", secondary=role_permissions, back_populates=\"permissions\")\n\n# Update User model to include roles\nclass User(BaseModel):\n    # ... existing fields ...\n    \n    # Relationships\n    roles = relationship(\"Role\", secondary=user_roles, back_populates=\"users\")\n    \n    @property\n    def permissions(self) -> list[str]:\n        \"\"\"Get all permissions for user.\"\"\"\n        perms = set()\n        for role in self.roles:\n            for permission in role.permissions:\n                perms.add(f\"{permission.resource}:{permission.action}\")\n        return list(perms)\n```\n\n## OAuth2 Integration\n\n```python\n# app/api/v1/oauth.py\nfrom fastapi import APIRouter, Depends, HTTPException, status\nfrom fastapi.security.utils import get_authorization_scheme_param\nfrom starlette.requests import Request\nfrom authlib.integrations.starlette_client import OAuth\nfrom app.core.config import settings\n\nrouter = APIRouter()\n\n# OAuth configuration\noauth = OAuth()\n\n# Google OAuth\ngoogle = oauth.register(\n    name='google',\n    client_id=settings.GOOGLE_CLIENT_ID,\n    client_secret=settings.GOOGLE_CLIENT_SECRET,\n    server_metadata_url='https://accounts.google.com/.well-known/openid_configuration',\n    client_kwargs={\n        'scope': 'openid email profile'\n    }\n)\n\n# GitHub OAuth\ngithub = oauth.register(\n    name='github',\n    client_id=settings.GITHUB_CLIENT_ID,\n    client_secret=settings.GITHUB_CLIENT_SECRET,\n    access_token_url='https://github.com/login/oauth/access_token',\n    access_token_params=None,\n    authorize_url='https://github.com/login/oauth/authorize',\n    authorize_params=None,\n    api_base_url='https://api.github.com/',\n    client_kwargs={'scope': 'user:email'},\n)\n\n@router.get('/google')\nasync def google_login(request: Request):\n    \"\"\"Initiate Google OAuth login.\"\"\"\n    redirect_uri = request.url_for('google_callback')\n    return await google.authorize_redirect(request, redirect_uri)\n\n@router.get('/google/callback')\nasync def google_callback(request: Request):\n    \"\"\"Handle Google OAuth callback.\"\"\"\n    token = await google.authorize_access_token(request)\n    user_info = token.get('userinfo')\n    \n    if user_info:\n        # Create or get user\n        # Generate JWT token\n        # Return token\n        pass\n    \n    raise HTTPException(\n        status_code=status.HTTP_400_BAD_REQUEST,\n        detail=\"OAuth authentication failed\"\n    )\n```\n\n## API Key Authentication\n\n```python\n# app/models/api_key.py\nfrom sqlalchemy import Column, String, Boolean, ForeignKey, DateTime\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\nimport secrets\n\nclass APIKey(BaseModel):\n    \"\"\"API Key model.\"\"\"\n    __tablename__ = \"api_keys\"\n    \n    name = Column(String(100), nullable=False)\n    key_hash = Column(String(255), unique=True, nullable=False, index=True)\n    prefix = Column(String(10), nullable=False, index=True)\n    is_active = Column(Boolean, default=True, nullable=False)\n    expires_at = Column(DateTime)\n    last_used_at = Column(DateTime)\n    \n    # Foreign key\n    user_id = Column(Integer, ForeignKey(\"users.id\"), nullable=False)\n    \n    # Relationships\n    user = relationship(\"User\", back_populates=\"api_keys\")\n    \n    @classmethod\n    def generate_key(cls) -> tuple[str, str]:\n        \"\"\"Generate API key and return (key, hash).\"\"\"\n        key = secrets.token_urlsafe(32)\n        prefix = key[:8]\n        key_hash = get_password_hash(key)\n        return key, prefix, key_hash\n    \n    def verify_key(self, key: str) -> bool:\n        \"\"\"Verify API key.\"\"\"\n        return verify_password(key, self.key_hash)\n\n# Add to User model\nclass User(BaseModel):\n    # ... existing fields ...\n    \n    # Relationships\n    api_keys = relationship(\"APIKey\", back_populates=\"user\", cascade=\"all, delete-orphan\")\n```\n\n## Testing Authentication\n\n```python\n# tests/test_auth.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.core.security import create_access_token\n\n@pytest.mark.asyncio\nasync def test_register_user(client: AsyncClient):\n    \"\"\"Test user registration.\"\"\"\n    user_data = {\n        \"username\": \"testuser\",\n        \"email\": \"test@example.com\",\n        \"password\": \"testpass123\",\n        \"first_name\": \"Test\",\n        \"last_name\": \"User\"\n    }\n    \n    response = await client.post(\"/api/v1/auth/register\", json=user_data)\n    assert response.status_code == 201\n    \n    data = response.json()\n    assert data[\"username\"] == user_data[\"username\"]\n    assert data[\"email\"] == user_data[\"email\"]\n    assert \"hashed_password\" not in data\n\n@pytest.mark.asyncio\nasync def test_login_user(client: AsyncClient, test_user):\n    \"\"\"Test user login.\"\"\"\n    login_data = {\n        \"username\": test_user.username,\n        \"password\": \"testpass123\"\n    }\n    \n    response = await client.post(\n        \"/api/v1/auth/login\", \n        data=login_data,\n        headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n    )\n    \n    assert response.status_code == 200\n    \n    data = response.json()\n    assert \"access_token\" in data\n    assert \"refresh_token\" in data\n    assert data[\"token_type\"] == \"bearer\"\n\n@pytest.mark.asyncio\nasync def test_get_current_user(client: AsyncClient, test_user):\n    \"\"\"Test get current user endpoint.\"\"\"\n    token = create_access_token(subject=test_user.id)\n    headers = {\"Authorization\": f\"Bearer {token}\"}\n    \n    response = await client.get(\"/api/v1/auth/me\", headers=headers)\n    assert response.status_code == 200\n    \n    data = response.json()\n    assert data[\"username\"] == test_user.username\n    assert data[\"email\"] == test_user.email\n```\n"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# FastAPI Database Integration\n\nComplete database setup with SQLAlchemy, Alembic, and async support for FastAPI.\n\n## Usage\n\n```bash\n# Initialize Alembic\nalembic init alembic\n\n# Create migration\nalembic revision --autogenerate -m \"Initial migration\"\n\n# Apply migrations\nalembic upgrade head\n\n# Downgrade migration\nalembic downgrade -1\n```\n\n## Database Configuration\n\n```python\n# app/core/config.py\nfrom pydantic import BaseSettings, PostgresDsn, validator\nfrom typing import Optional, Dict, Any\nimport os\n\nclass Settings(BaseSettings):\n    \"\"\"Application settings.\"\"\"\n    \n    # Database\n    POSTGRES_SERVER: str = \"localhost\"\n    POSTGRES_USER: str = \"postgres\"\n    POSTGRES_PASSWORD: str = \"password\"\n    POSTGRES_DB: str = \"fastapi_app\"\n    POSTGRES_PORT: str = \"5432\"\n    DATABASE_URL: Optional[PostgresDsn] = None\n    \n    @validator(\"DATABASE_URL\", pre=True)\n    def assemble_db_connection(cls, v: Optional[str], values: Dict[str, Any]) -> Any:\n        if isinstance(v, str):\n            return v\n        return PostgresDsn.build(\n            scheme=\"postgresql+asyncpg\",\n            user=values.get(\"POSTGRES_USER\"),\n            password=values.get(\"POSTGRES_PASSWORD\"),\n            host=values.get(\"POSTGRES_SERVER\"),\n            port=values.get(\"POSTGRES_PORT\"),\n            path=f\"/{values.get('POSTGRES_DB') or ''}\",\n        )\n    \n    # Redis\n    REDIS_URL: str = \"redis://localhost:6379/0\"\n    \n    # Database settings\n    DATABASE_POOL_SIZE: int = 10\n    DATABASE_MAX_OVERFLOW: int = 20\n    DATABASE_POOL_RECYCLE: int = 3600\n    \n    class Config:\n        env_file = \".env\"\n        case_sensitive = True\n\nsettings = Settings()\n```\n\n## Database Setup\n\n```python\n# app/db/database.py\nfrom sqlalchemy.ext.asyncio import AsyncSession, create_async_engine\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy.orm import sessionmaker\nfrom app.core.config import settings\n\n# Create async engine\nengine = create_async_engine(\n    str(settings.DATABASE_URL),\n    pool_size=settings.DATABASE_POOL_SIZE,\n    max_overflow=settings.DATABASE_MAX_OVERFLOW,\n    pool_recycle=settings.DATABASE_POOL_RECYCLE,\n    pool_pre_ping=True,\n    echo=False  # Set to True for SQL debugging\n)\n\n# Create async session factory\nAsyncSessionLocal = sessionmaker(\n    engine, class_=AsyncSession, expire_on_commit=False\n)\n\n# Base class for models\nBase = declarative_base()\n\nasync def get_db() -> AsyncSession:\n    \"\"\"Dependency to get database session.\"\"\"\n    async with AsyncSessionLocal() as session:\n        try:\n            yield session\n        finally:\n            await session.close()\n\nasync def create_tables():\n    \"\"\"Create database tables.\"\"\"\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n\nasync def drop_tables():\n    \"\"\"Drop database tables.\"\"\"\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n```\n\n## Base Model\n\n```python\n# app/models/base.py\nfrom sqlalchemy import Column, Integer, DateTime, func\nfrom sqlalchemy.ext.declarative import declared_attr\nfrom app.db.database import Base\nfrom datetime import datetime\nfrom typing import Any\n\nclass TimestampMixin:\n    \"\"\"Mixin for timestamp fields.\"\"\"\n    created_at = Column(DateTime(timezone=True), server_default=func.now(), nullable=False)\n    updated_at = Column(\n        DateTime(timezone=True),\n        server_default=func.now(),\n        onupdate=func.now(),\n        nullable=False\n    )\n\nclass BaseModel(Base, TimestampMixin):\n    \"\"\"Base model with common functionality.\"\"\"\n    __abstract__ = True\n    \n    id = Column(Integer, primary_key=True, index=True)\n    \n    @declared_attr\n    def __tablename__(cls) -> str:\n        return cls.__name__.lower()\n    \n    def dict(self, exclude: set = None) -> dict[str, Any]:\n        \"\"\"Convert model to dictionary.\"\"\"\n        exclude = exclude or set()\n        return {\n            column.name: getattr(self, column.name)\n            for column in self.__table__.columns\n            if column.name not in exclude\n        }\n    \n    def __repr__(self) -> str:\n        return f\"<{self.__class__.__name__}(id={self.id})>\"\n```\n\n## Example Models\n\n```python\n# app/models/user.py\nfrom sqlalchemy import Column, String, Boolean, Text, Index\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\nfrom passlib.context import CryptContext\n\npwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\nclass User(BaseModel):\n    \"\"\"User model.\"\"\"\n    __tablename__ = \"users\"\n    \n    username = Column(String(50), unique=True, index=True, nullable=False)\n    email = Column(String(100), unique=True, index=True, nullable=False)\n    hashed_password = Column(String(255), nullable=False)\n    first_name = Column(String(50), nullable=False)\n    last_name = Column(String(50), nullable=False)\n    is_active = Column(Boolean, default=True, nullable=False)\n    is_superuser = Column(Boolean, default=False, nullable=False)\n    bio = Column(Text)\n    \n    # Relationships\n    posts = relationship(\"Post\", back_populates=\"author\", cascade=\"all, delete-orphan\")\n    \n    # Indexes\n    __table_args__ = (\n        Index('idx_user_email_active', email, is_active),\n        Index('idx_user_username_active', username, is_active),\n    )\n    \n    def verify_password(self, password: str) -> bool:\n        \"\"\"Verify password against hash.\"\"\"\n        return pwd_context.verify(password, self.hashed_password)\n    \n    @staticmethod\n    def get_password_hash(password: str) -> str:\n        \"\"\"Generate password hash.\"\"\"\n        return pwd_context.hash(password)\n    \n    def set_password(self, password: str) -> None:\n        \"\"\"Set user password.\"\"\"\n        self.hashed_password = self.get_password_hash(password)\n    \n    @property\n    def full_name(self) -> str:\n        \"\"\"Get user's full name.\"\"\"\n        return f\"{self.first_name} {self.last_name}\"\n    \n    def dict(self, exclude: set = None) -> dict:\n        \"\"\"Convert to dict excluding sensitive data.\"\"\"\n        exclude = exclude or set()\n        exclude.add('hashed_password')\n        return super().dict(exclude=exclude)\n\n# app/models/post.py\nfrom sqlalchemy import Column, String, Text, ForeignKey, Boolean, Index\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\n\nclass Post(BaseModel):\n    \"\"\"Blog post model.\"\"\"\n    __tablename__ = \"posts\"\n    \n    title = Column(String(200), nullable=False, index=True)\n    content = Column(Text, nullable=False)\n    slug = Column(String(200), unique=True, nullable=False, index=True)\n    is_published = Column(Boolean, default=False, nullable=False)\n    \n    # Foreign keys\n    author_id = Column(Integer, ForeignKey(\"users.id\"), nullable=False)\n    \n    # Relationships\n    author = relationship(\"User\", back_populates=\"posts\")\n    \n    # Indexes\n    __table_args__ = (\n        Index('idx_post_published_created', is_published, 'created_at'),\n        Index('idx_post_author_published', author_id, is_published),\n    )\n```\n\n## Repository Pattern\n\n```python\n# app/repositories/base.py\nfrom typing import Generic, TypeVar, Type, Optional, List, Dict, Any\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import select, update, delete, func\nfrom sqlalchemy.orm import selectinload\nfrom app.models.base import BaseModel\n\nModelType = TypeVar(\"ModelType\", bound=BaseModel)\n\nclass BaseRepository(Generic[ModelType]):\n    \"\"\"Base repository with common CRUD operations.\"\"\"\n    \n    def __init__(self, model: Type[ModelType], db: AsyncSession):\n        self.model = model\n        self.db = db\n    \n    async def get(self, id: int) -> Optional[ModelType]:\n        \"\"\"Get model by ID.\"\"\"\n        result = await self.db.execute(\n            select(self.model).where(self.model.id == id)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_multi(\n        self, \n        skip: int = 0, \n        limit: int = 100,\n        filters: Dict[str, Any] = None\n    ) -> List[ModelType]:\n        \"\"\"Get multiple models with pagination.\"\"\"\n        query = select(self.model)\n        \n        if filters:\n            for field, value in filters.items():\n                if hasattr(self.model, field):\n                    query = query.where(getattr(self.model, field) == value)\n        \n        query = query.offset(skip).limit(limit)\n        result = await self.db.execute(query)\n        return result.scalars().all()\n    \n    async def create(self, obj_in: Dict[str, Any]) -> ModelType:\n        \"\"\"Create new model.\"\"\"\n        db_obj = self.model(**obj_in)\n        self.db.add(db_obj)\n        await self.db.commit()\n        await self.db.refresh(db_obj)\n        return db_obj\n    \n    async def update(\n        self, \n        id: int, \n        obj_in: Dict[str, Any]\n    ) -> Optional[ModelType]:\n        \"\"\"Update model by ID.\"\"\"\n        await self.db.execute(\n            update(self.model)\n            .where(self.model.id == id)\n            .values(**obj_in)\n        )\n        await self.db.commit()\n        return await self.get(id)\n    \n    async def delete(self, id: int) -> bool:\n        \"\"\"Delete model by ID.\"\"\"\n        result = await self.db.execute(\n            delete(self.model).where(self.model.id == id)\n        )\n        await self.db.commit()\n        return result.rowcount > 0\n    \n    async def count(self, filters: Dict[str, Any] = None) -> int:\n        \"\"\"Count models with optional filters.\"\"\"\n        query = select(func.count(self.model.id))\n        \n        if filters:\n            for field, value in filters.items():\n                if hasattr(self.model, field):\n                    query = query.where(getattr(self.model, field) == value)\n        \n        result = await self.db.execute(query)\n        return result.scalar()\n\n# app/repositories/user.py\nfrom typing import Optional\nfrom sqlalchemy import select\nfrom app.models.user import User\nfrom app.repositories.base import BaseRepository\n\nclass UserRepository(BaseRepository[User]):\n    \"\"\"User repository with custom methods.\"\"\"\n    \n    async def get_by_email(self, email: str) -> Optional[User]:\n        \"\"\"Get user by email.\"\"\"\n        result = await self.db.execute(\n            select(User).where(User.email == email)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_by_username(self, username: str) -> Optional[User]:\n        \"\"\"Get user by username.\"\"\"\n        result = await self.db.execute(\n            select(User).where(User.username == username)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_active_users(self, skip: int = 0, limit: int = 100):\n        \"\"\"Get active users.\"\"\"\n        return await self.get_multi(\n            skip=skip, \n            limit=limit, \n            filters={'is_active': True}\n        )\n```\n\n## Alembic Configuration\n\n```python\n# alembic/env.py\nfrom logging.config import fileConfig\nfrom sqlalchemy import engine_from_config, pool\nfrom sqlalchemy.ext.asyncio import AsyncEngine\nfrom alembic import context\nimport asyncio\n\n# Import your models\nfrom app.models.base import Base\nfrom app.models.user import User\nfrom app.models.post import Post\nfrom app.core.config import settings\n\n# Alembic Config object\nconfig = context.config\n\n# Override database URL\nconfig.set_main_option(\"sqlalchemy.url\", str(settings.DATABASE_URL))\n\n# Interpret the config file for logging\nif config.config_file_name is not None:\n    fileConfig(config.config_file_name)\n\n# Add your model's MetaData object here\ntarget_metadata = Base.metadata\n\ndef do_run_migrations(connection):\n    context.configure(\n        connection=connection,\n        target_metadata=target_metadata,\n        compare_type=True,\n        compare_server_default=True,\n    )\n    \n    with context.begin_transaction():\n        context.run_migrations()\n\nasync def run_migrations_online():\n    \"\"\"Run migrations in 'online' mode.\"\"\"\n    configuration = config.get_section(config.config_ini_section)\n    configuration[\"sqlalchemy.url\"] = str(settings.DATABASE_URL)\n    \n    connectable = AsyncEngine(\n        engine_from_config(\n            configuration,\n            prefix=\"sqlalchemy.\",\n            poolclass=pool.NullPool,\n        )\n    )\n    \n    async with connectable.connect() as connection:\n        await connection.run_sync(do_run_migrations)\n    \n    await connectable.dispose()\n\nif context.is_offline_mode():\n    run_migrations_offline()\nelse:\n    asyncio.run(run_migrations_online())\n```\n\n## Database Utilities\n\n```python\n# app/db/utils.py\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import text\nfrom app.db.database import engine, AsyncSessionLocal\nfrom app.core.config import settings\nimport asyncio\n\nasync def check_database_connection() -> bool:\n    \"\"\"Check if database is accessible.\"\"\"\n    try:\n        async with AsyncSessionLocal() as session:\n            await session.execute(text(\"SELECT 1\"))\n            return True\n    except Exception:\n        return False\n\nasync def create_database_if_not_exists():\n    \"\"\"Create database if it doesn't exist.\"\"\"\n    # This is PostgreSQL specific\n    import asyncpg\n    from urllib.parse import urlparse\n    \n    url = urlparse(str(settings.DATABASE_URL))\n    \n    try:\n        # Connect to postgres database to create our database\n        conn = await asyncpg.connect(\n            host=url.hostname,\n            port=url.port,\n            user=url.username,\n            password=url.password,\n            database='postgres'\n        )\n        \n        # Check if database exists\n        exists = await conn.fetchval(\n            \"SELECT 1 FROM pg_database WHERE datname = $1\",\n            url.path[1:]  # Remove leading slash\n        )\n        \n        if not exists:\n            await conn.execute(f'CREATE DATABASE \"{url.path[1:]}\"')\n            print(f\"Database {url.path[1:]} created.\")\n        \n        await conn.close()\n        \n    except Exception as e:\n        print(f\"Error creating database: {e}\")\n\nasync def execute_raw_sql(sql: str, params: dict = None) -> list:\n    \"\"\"Execute raw SQL query.\"\"\"\n    async with AsyncSessionLocal() as session:\n        result = await session.execute(text(sql), params or {})\n        return result.fetchall()\n\nasync def get_table_info(table_name: str) -> dict:\n    \"\"\"Get information about a table.\"\"\"\n    sql = \"\"\"\n    SELECT \n        column_name,\n        data_type,\n        is_nullable,\n        column_default\n    FROM information_schema.columns \n    WHERE table_name = :table_name\n    ORDER BY ordinal_position;\n    \"\"\"\n    \n    result = await execute_raw_sql(sql, {'table_name': table_name})\n    return [\n        {\n            'column_name': row[0],\n            'data_type': row[1],\n            'is_nullable': row[2],\n            'column_default': row[3]\n        }\n        for row in result\n    ]\n```\n\n## Database Initialization\n\n```python\n# app/db/init_db.py\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.db.database import get_db, create_tables\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.config import settings\nimport asyncio\n\nasync def init_db() -> None:\n    \"\"\"Initialize database with tables and default data.\"\"\"\n    # Create tables\n    await create_tables()\n    print(\"Database tables created.\")\n    \n    # Create default superuser\n    async with AsyncSessionLocal() as session:\n        user_repo = UserRepository(User, session)\n        \n        # Check if superuser exists\n        existing_user = await user_repo.get_by_email(\"admin@example.com\")\n        \n        if not existing_user:\n            superuser_data = {\n                \"username\": \"admin\",\n                \"email\": \"admin@example.com\",\n                \"first_name\": \"Admin\",\n                \"last_name\": \"User\",\n                \"is_superuser\": True,\n                \"is_active\": True\n            }\n            \n            superuser = User(**superuser_data)\n            superuser.set_password(\"admin123\")\n            \n            session.add(superuser)\n            await session.commit()\n            print(\"Superuser created.\")\n        else:\n            print(\"Superuser already exists.\")\n\nif __name__ == \"__main__\":\n    asyncio.run(init_db())\n```\n\n## Testing Database\n\n```python\n# tests/conftest.py\nimport pytest\nimport asyncio\nfrom sqlalchemy.ext.asyncio import create_async_engine, AsyncSession\nfrom sqlalchemy.orm import sessionmaker\nfrom app.db.database import Base, get_db\nfrom app.main import app\nimport pytest_asyncio\n\n# Test database URL\nTEST_DATABASE_URL = \"sqlite+aiosqlite:///./test.db\"\n\n@pytest.fixture(scope=\"session\")\ndef event_loop():\n    \"\"\"Create event loop for async tests.\"\"\"\n    loop = asyncio.get_event_loop_policy().new_event_loop()\n    yield loop\n    loop.close()\n\n@pytest_asyncio.fixture(scope=\"session\")\nasync def test_engine():\n    \"\"\"Create test database engine.\"\"\"\n    engine = create_async_engine(TEST_DATABASE_URL, echo=False)\n    \n    # Create tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n    \n    yield engine\n    \n    # Drop tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n    \n    await engine.dispose()\n\n@pytest_asyncio.fixture\nasync def test_session(test_engine):\n    \"\"\"Create test database session.\"\"\"\n    TestSessionLocal = sessionmaker(\n        test_engine, class_=AsyncSession, expire_on_commit=False\n    )\n    \n    async with TestSessionLocal() as session:\n        yield session\n\n@pytest.fixture\ndef override_get_db(test_session):\n    \"\"\"Override database dependency.\"\"\"\n    async def _override_get_db():\n        yield test_session\n    \n    app.dependency_overrides[get_db] = _override_get_db\n    yield\n    app.dependency_overrides = {}\n```\n\n## Database Health Check\n\n```python\n# app/api/health.py\nfrom fastapi import APIRouter, Depends, HTTPException\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import text\nfrom app.db.database import get_db\nimport time\n\nrouter = APIRouter()\n\n@router.get(\"/health\")\nasync def health_check(db: AsyncSession = Depends(get_db)):\n    \"\"\"Health check endpoint.\"\"\"\n    checks = {\n        \"status\": \"healthy\",\n        \"timestamp\": time.time(),\n        \"database\": await check_database_health(db),\n    }\n    \n    # Determine overall status\n    if checks[\"database\"][\"status\"] != \"ok\":\n        checks[\"status\"] = \"unhealthy\"\n        raise HTTPException(status_code=503, detail=checks)\n    \n    return checks\n\nasync def check_database_health(db: AsyncSession) -> dict:\n    \"\"\"Check database connection.\"\"\"\n    try:\n        start_time = time.time()\n        await db.execute(text(\"SELECT 1\"))\n        response_time = (time.time() - start_time) * 1000  # milliseconds\n        \n        return {\n            \"status\": \"ok\",\n            \"response_time_ms\": round(response_time, 2)\n        }\n    except Exception as e:\n        return {\n            \"status\": \"error\",\n            \"error\": str(e)\n        }\n```\n"
              },
              {
                "name": "/deployment",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/deployment.md",
                "frontmatter": null,
                "content": "# FastAPI Deployment\n\nBasic production deployment setup for FastAPI applications.\n\n## Usage\n\n```bash\n# Run with Uvicorn\nuvicorn app.main:app --host 0.0.0.0 --port 8000 --workers 4\n\n# Docker deployment\ndocker build -t fastapi-app .\ndocker run -p 8000:8000 fastapi-app\n```\n\n## Production Configuration\n\n```python\n# app/core/config.py\nfrom pydantic import BaseSettings\nimport os\n\nclass Settings(BaseSettings):\n    \"\"\"Production settings.\"\"\"\n    \n    # App\n    PROJECT_NAME: str = \"FastAPI App\"\n    VERSION: str = \"1.0.0\"\n    SECRET_KEY: str = os.getenv(\"SECRET_KEY\", \"dev-key\")\n    \n    # Server\n    HOST: str = \"0.0.0.0\"\n    PORT: int = 8000\n    WORKERS: int = 4\n    \n    # Database\n    DATABASE_URL: str = os.getenv(\"DATABASE_URL\", \"sqlite:///./app.db\")\n    \n    # Redis\n    REDIS_URL: str = os.getenv(\"REDIS_URL\", \"redis://localhost:6379\")\n    \n    class Config:\n        env_file = \".env\"\n\nsettings = Settings()\n```\n\n## Docker Setup\n\n```dockerfile\n# Dockerfile\nFROM python:3.11-slim\n\nWORKDIR /app\n\n# Install dependencies\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy app\nCOPY . .\n\n# Create non-root user\nRUN useradd -m appuser && chown -R appuser:appuser /app\nUSER appuser\n\nEXPOSE 8000\n\n# Health check\nHEALTHCHECK CMD curl -f http://localhost:8000/health || exit 1\n\nCMD [\"uvicorn\", \"app.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n```\n\n## Docker Compose\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\n\nservices:\n  app:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - DATABASE_URL=postgresql://user:pass@db:5432/fastapi_db\n      - REDIS_URL=redis://redis:6379\n    depends_on:\n      - db\n      - redis\n\n  db:\n    image: postgres:15\n    environment:\n      POSTGRES_DB: fastapi_db\n      POSTGRES_USER: user\n      POSTGRES_PASSWORD: password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\n  redis:\n    image: redis:7-alpine\n    volumes:\n      - redis_data:/data\n\nvolumes:\n  postgres_data:\n  redis_data:\n```\n\n## Environment Variables\n\n```bash\n# .env\nSECRET_KEY=your-secret-key\nDATABASE_URL=postgresql://user:pass@localhost/fastapi_db\nREDIS_URL=redis://localhost:6379\n```\n\n## Health Check\n\n```python\n# app/api/health.py\nfrom fastapi import APIRouter\nfrom app.core.config import settings\n\nrouter = APIRouter()\n\n@router.get(\"/health\")\nasync def health_check():\n    return {\n        \"status\": \"healthy\",\n        \"version\": settings.VERSION\n    }\n```\n\n## Deployment Script\n\n```bash\n#!/bin/bash\n# deploy.sh\n\nset -e\n\necho \"Deploying FastAPI app...\"\n\n# Build and deploy\ndocker-compose build\ndocker-compose up -d\n\n# Health check\necho \"Checking health...\"\nif curl -f http://localhost:8000/health; then\n    echo \"‚úÖ Deployment successful!\"\nelse\n    echo \"‚ùå Deployment failed!\"\n    exit 1\nfi\n```\n"
              },
              {
                "name": "/testing",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/testing.md",
                "frontmatter": null,
                "content": "# FastAPI Testing Framework\n\nComprehensive testing setup for FastAPI applications with pytest and async support.\n\n## Usage\n\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=app --cov-report=html\n\n# Run specific test file\npytest tests/test_api.py\n\n# Run with verbose output\npytest -v -s\n```\n\n## Test Configuration\n\n```python\n# pytest.ini\n[tool:pytest]\ntestpaths = tests\npython_files = test_*.py\npython_classes = Test*\npython_functions = test_*\naddopts = \n    --cov=app\n    --cov-report=term-missing\n    --cov-report=html:htmlcov\n    --asyncio-mode=auto\n    --strict-markers\n    --disable-warnings\nmarkers =\n    unit: Unit tests\n    integration: Integration tests\n    e2e: End-to-end tests\n    slow: Slow running tests\n    auth: Authentication tests\n    api: API tests\nasyncio_mode = auto\n```\n\n## Test Dependencies\n\n```python\n# requirements/test.txt\npytest>=7.0.0\npytest-asyncio>=0.21.0\npytest-cov>=4.0.0\nhttpx>=0.24.0\nfactory-boy>=3.2.0\nfaker>=18.0.0\nrespx>=0.20.0\npytest-mock>=3.10.0\n```\n\n## Test Fixtures\n\n```python\n# tests/conftest.py\nimport pytest\nimport asyncio\nfrom typing import AsyncGenerator, Generator\nfrom fastapi.testclient import TestClient\nfrom httpx import AsyncClient\nfrom sqlalchemy.ext.asyncio import create_async_engine, AsyncSession\nfrom sqlalchemy.orm import sessionmaker\nfrom app.main import app\nfrom app.db.database import get_db, Base\nfrom app.models.user import User\nfrom app.core.security import get_password_hash\nfrom tests.factories import UserFactory\n\n# Test database URL\nTEST_DATABASE_URL = \"sqlite+aiosqlite:///./test.db\"\n\n@pytest.fixture(scope=\"session\")\ndef event_loop() -> Generator[asyncio.AbstractEventLoop, None, None]:\n    \"\"\"Create event loop for the test session.\"\"\"\n    loop = asyncio.get_event_loop_policy().new_event_loop()\n    yield loop\n    loop.close()\n\n@pytest.fixture(scope=\"session\")\nasync def test_engine():\n    \"\"\"Create test database engine.\"\"\"\n    engine = create_async_engine(\n        TEST_DATABASE_URL,\n        echo=False,\n        future=True\n    )\n    \n    # Create tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n    \n    yield engine\n    \n    # Drop tables and dispose engine\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n    \n    await engine.dispose()\n\n@pytest.fixture\nasync def db_session(test_engine) -> AsyncGenerator[AsyncSession, None]:\n    \"\"\"Create database session for testing.\"\"\"\n    TestSessionLocal = sessionmaker(\n        test_engine, \n        class_=AsyncSession, \n        expire_on_commit=False\n    )\n    \n    async with TestSessionLocal() as session:\n        yield session\n\n@pytest.fixture\ndef override_get_db(db_session: AsyncSession) -> Generator:\n    \"\"\"Override database dependency.\"\"\"\n    async def _override_get_db():\n        yield db_session\n    \n    app.dependency_overrides[get_db] = _override_get_db\n    yield\n    app.dependency_overrides = {}\n\n@pytest.fixture\ndef client(override_get_db) -> Generator[TestClient, None, None]:\n    \"\"\"Create test client.\"\"\"\n    with TestClient(app) as test_client:\n        yield test_client\n\n@pytest.fixture\nasync def async_client(override_get_db) -> AsyncGenerator[AsyncClient, None]:\n    \"\"\"Create async test client.\"\"\"\n    async with AsyncClient(app=app, base_url=\"http://test\") as ac:\n        yield ac\n\n@pytest.fixture\nasync def test_user(db_session: AsyncSession) -> User:\n    \"\"\"Create test user.\"\"\"\n    user_data = {\n        \"username\": \"testuser\",\n        \"email\": \"test@example.com\",\n        \"hashed_password\": get_password_hash(\"testpass123\"),\n        \"first_name\": \"Test\",\n        \"last_name\": \"User\",\n        \"is_active\": True,\n        \"is_superuser\": False\n    }\n    \n    user = User(**user_data)\n    db_session.add(user)\n    await db_session.commit()\n    await db_session.refresh(user)\n    return user\n\n@pytest.fixture\nasync def superuser(db_session: AsyncSession) -> User:\n    \"\"\"Create superuser.\"\"\"\n    user_data = {\n        \"username\": \"admin\",\n        \"email\": \"admin@example.com\",\n        \"hashed_password\": get_password_hash(\"adminpass123\"),\n        \"first_name\": \"Admin\",\n        \"last_name\": \"User\",\n        \"is_active\": True,\n        \"is_superuser\": True\n    }\n    \n    user = User(**user_data)\n    db_session.add(user)\n    await db_session.commit()\n    await db_session.refresh(user)\n    return user\n\n@pytest.fixture\ndef user_token(test_user: User) -> str:\n    \"\"\"Create authentication token for test user.\"\"\"\n    from app.core.security import create_access_token\n    return create_access_token(subject=test_user.id)\n\n@pytest.fixture\ndef superuser_token(superuser: User) -> str:\n    \"\"\"Create authentication token for superuser.\"\"\"\n    from app.core.security import create_access_token\n    return create_access_token(subject=superuser.id)\n\n@pytest.fixture\ndef auth_headers(user_token: str) -> dict[str, str]:\n    \"\"\"Create authorization headers.\"\"\"\n    return {\"Authorization\": f\"Bearer {user_token}\"}\n\n@pytest.fixture\ndef superuser_headers(superuser_token: str) -> dict[str, str]:\n    \"\"\"Create superuser authorization headers.\"\"\"\n    return {\"Authorization\": f\"Bearer {superuser_token}\"}\n```\n\n## Test Factories\n\n```python\n# tests/factories.py\nimport factory\nfrom factory import Faker, SubFactory\nfrom app.models.user import User\nfrom app.models.post import Post\nfrom app.core.security import get_password_hash\n\nclass UserFactory(factory.Factory):\n    \"\"\"Factory for User model.\"\"\"\n    \n    class Meta:\n        model = User\n    \n    username = Faker('user_name')\n    email = Faker('email')\n    first_name = Faker('first_name')\n    last_name = Faker('last_name')\n    hashed_password = factory.LazyAttribute(lambda obj: get_password_hash('testpass123'))\n    is_active = True\n    is_superuser = False\n    bio = Faker('text', max_nb_chars=200)\n\nclass SuperUserFactory(UserFactory):\n    \"\"\"Factory for superuser.\"\"\"\n    username = 'admin'\n    email = 'admin@example.com'\n    first_name = 'Admin'\n    last_name = 'User'\n    is_superuser = True\n\nclass PostFactory(factory.Factory):\n    \"\"\"Factory for Post model.\"\"\"\n    \n    class Meta:\n        model = Post\n    \n    title = Faker('sentence', nb_words=4)\n    content = Faker('text', max_nb_chars=1000)\n    slug = Faker('slug')\n    is_published = True\n    author = SubFactory(UserFactory)\n\nclass InactiveUserFactory(UserFactory):\n    \"\"\"Factory for inactive user.\"\"\"\n    is_active = False\n```\n\n## API Testing\n\n```python\n# tests/test_api/test_users.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom tests.factories import UserFactory\n\nclass TestUserAPI:\n    \"\"\"Test User API endpoints.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(\n        self, \n        async_client: AsyncClient, \n        superuser_headers: dict\n    ):\n        \"\"\"Test POST /api/v1/users/.\"\"\"\n        user_data = {\n            \"username\": \"newuser\",\n            \"email\": \"new@example.com\",\n            \"password\": \"newpass123\",\n            \"first_name\": \"New\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/users/\",\n            json=user_data,\n            headers=superuser_headers\n        )\n        \n        assert response.status_code == 201\n        data = response.json()\n        assert data[\"username\"] == user_data[\"username\"]\n        assert data[\"email\"] == user_data[\"email\"]\n        assert \"password\" not in data\n        assert \"hashed_password\" not in data\n    \n    @pytest.mark.asyncio\n    async def test_get_users(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test GET /api/v1/users/.\"\"\"\n        response = await async_client.get(\n            \"/api/v1/users/\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"items\" in data\n        assert \"total\" in data\n        assert \"page\" in data\n        assert \"size\" in data\n        assert len(data[\"items\"]) >= 1\n    \n    @pytest.mark.asyncio\n    async def test_get_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test GET /api/v1/users/{id}.\"\"\"\n        response = await async_client.get(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"id\"] == test_user.id\n        assert data[\"username\"] == test_user.username\n        assert data[\"email\"] == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_update_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test PUT /api/v1/users/{id}.\"\"\"\n        update_data = {\n            \"first_name\": \"Updated\",\n            \"last_name\": \"Name\",\n            \"bio\": \"Updated bio\"\n        }\n        \n        response = await async_client.put(\n            f\"/api/v1/users/{test_user.id}\",\n            json=update_data,\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"first_name\"] == update_data[\"first_name\"]\n        assert data[\"last_name\"] == update_data[\"last_name\"]\n        assert data[\"bio\"] == update_data[\"bio\"]\n    \n    @pytest.mark.asyncio\n    async def test_delete_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        superuser_headers: dict\n    ):\n        \"\"\"Test DELETE /api/v1/users/{id}.\"\"\"\n        response = await async_client.delete(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=superuser_headers\n        )\n        \n        assert response.status_code == 204\n        \n        # Verify user is deleted\n        get_response = await async_client.get(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=superuser_headers\n        )\n        assert get_response.status_code == 404\n    \n    @pytest.mark.asyncio\n    async def test_unauthorized_access(self, async_client: AsyncClient):\n        \"\"\"Test unauthorized access to protected endpoints.\"\"\"\n        response = await async_client.get(\"/api/v1/users/\")\n        assert response.status_code == 401\n    \n    @pytest.mark.asyncio\n    async def test_forbidden_access(\n        self, \n        async_client: AsyncClient, \n        auth_headers: dict\n    ):\n        \"\"\"Test forbidden access to admin endpoints.\"\"\"\n        user_data = {\n            \"username\": \"unauthorized\",\n            \"email\": \"unauthorized@example.com\",\n            \"password\": \"pass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/users/\",\n            json=user_data,\n            headers=auth_headers  # Regular user, not superuser\n        )\n        \n        assert response.status_code == 403\n```\n\n## Authentication Testing\n\n```python\n# tests/test_api/test_auth.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom app.core.security import create_access_token, decode_token\n\nclass TestAuthAPI:\n    \"\"\"Test authentication API endpoints.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_register(\n        self, \n        async_client: AsyncClient\n    ):\n        \"\"\"Test user registration.\"\"\"\n        user_data = {\n            \"username\": \"newuser\",\n            \"email\": \"new@example.com\",\n            \"password\": \"newpass123\",\n            \"first_name\": \"New\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/register\",\n            json=user_data\n        )\n        \n        assert response.status_code == 201\n        data = response.json()\n        assert data[\"username\"] == user_data[\"username\"]\n        assert data[\"email\"] == user_data[\"email\"]\n        assert \"password\" not in data\n    \n    @pytest.mark.asyncio\n    async def test_register_duplicate_email(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test registration with duplicate email.\"\"\"\n        user_data = {\n            \"username\": \"different\",\n            \"email\": test_user.email,  # Duplicate email\n            \"password\": \"pass123\",\n            \"first_name\": \"Test\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/register\",\n            json=user_data\n        )\n        \n        assert response.status_code == 400\n        assert \"Email already registered\" in response.json()[\"detail\"]\n    \n    @pytest.mark.asyncio\n    async def test_login(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test user login.\"\"\"\n        login_data = {\n            \"username\": test_user.username,\n            \"password\": \"testpass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/login\",\n            data=login_data,\n            headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"access_token\" in data\n        assert \"refresh_token\" in data\n        assert data[\"token_type\"] == \"bearer\"\n        assert \"expires_in\" in data\n        \n        # Verify token is valid\n        payload = decode_token(data[\"access_token\"])\n        assert payload is not None\n        assert payload[\"sub\"] == str(test_user.id)\n    \n    @pytest.mark.asyncio\n    async def test_login_invalid_credentials(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test login with invalid credentials.\"\"\"\n        login_data = {\n            \"username\": test_user.username,\n            \"password\": \"wrongpassword\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/login\",\n            data=login_data,\n            headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n        )\n        \n        assert response.status_code == 401\n        assert \"Incorrect username or password\" in response.json()[\"detail\"]\n    \n    @pytest.mark.asyncio\n    async def test_get_current_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test get current user endpoint.\"\"\"\n        response = await async_client.get(\n            \"/api/v1/auth/me\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"id\"] == test_user.id\n        assert data[\"username\"] == test_user.username\n        assert data[\"email\"] == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_refresh_token(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test token refresh.\"\"\"\n        from app.core.security import create_refresh_token\n        \n        refresh_token = create_refresh_token(subject=test_user.id)\n        \n        response = await async_client.post(\n            \"/api/v1/auth/refresh\",\n            json={\"refresh_token\": refresh_token}\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"access_token\" in data\n        assert \"refresh_token\" in data\n        assert data[\"token_type\"] == \"bearer\"\n    \n    @pytest.mark.asyncio\n    async def test_change_password(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test password change.\"\"\"\n        password_data = {\n            \"current_password\": \"testpass123\",\n            \"new_password\": \"newpass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/change-password\",\n            json=password_data,\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        assert \"Password changed successfully\" in response.json()[\"message\"]\n```\n\n## Model Testing\n\n```python\n# tests/test_models/test_user.py\nimport pytest\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.models.user import User\nfrom app.core.security import verify_password, get_password_hash\n\nclass TestUserModel:\n    \"\"\"Test User model.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(self, db_session: AsyncSession):\n        \"\"\"Test user creation.\"\"\"\n        user_data = {\n            \"username\": \"testuser\",\n            \"email\": \"test@example.com\",\n            \"hashed_password\": get_password_hash(\"password123\"),\n            \"first_name\": \"Test\",\n            \"last_name\": \"User\"\n        }\n        \n        user = User(**user_data)\n        db_session.add(user)\n        await db_session.commit()\n        await db_session.refresh(user)\n        \n        assert user.id is not None\n        assert user.username == \"testuser\"\n        assert user.email == \"test@example.com\"\n        assert user.full_name == \"Test User\"\n        assert user.is_active is True\n        assert user.is_superuser is False\n        assert user.created_at is not None\n        assert user.updated_at is not None\n    \n    def test_password_verification(self):\n        \"\"\"Test password verification.\"\"\"\n        password = \"testpassword123\"\n        hashed = get_password_hash(password)\n        \n        user = User(\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=hashed,\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        assert user.verify_password(password)\n        assert not user.verify_password(\"wrongpassword\")\n    \n    def test_user_dict_excludes_password(self):\n        \"\"\"Test that dict() method excludes password.\"\"\"\n        user = User(\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=\"hashed_password\",\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        user_dict = user.dict()\n        assert \"hashed_password\" not in user_dict\n        assert \"username\" in user_dict\n        assert \"email\" in user_dict\n    \n    def test_user_repr(self):\n        \"\"\"Test user string representation.\"\"\"\n        user = User(\n            id=1,\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=\"hash\",\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        assert repr(user) == \"<User(id=1)>\"\n```\n\n## Repository Testing\n\n```python\n# tests/test_repositories/test_user.py\nimport pytest\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.security import get_password_hash\n\nclass TestUserRepository:\n    \"\"\"Test UserRepository.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(self, db_session: AsyncSession):\n        \"\"\"Test user creation through repository.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        user_data = {\n            \"username\": \"repouser\",\n            \"email\": \"repo@example.com\",\n            \"hashed_password\": get_password_hash(\"password123\"),\n            \"first_name\": \"Repo\",\n            \"last_name\": \"User\"\n        }\n        \n        user = await repo.create(user_data)\n        \n        assert user.id is not None\n        assert user.username == \"repouser\"\n        assert user.email == \"repo@example.com\"\n    \n    @pytest.mark.asyncio\n    async def test_get_by_email(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test get user by email.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        found_user = await repo.get_by_email(test_user.email)\n        \n        assert found_user is not None\n        assert found_user.id == test_user.id\n        assert found_user.email == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_get_by_username(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test get user by username.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        found_user = await repo.get_by_username(test_user.username)\n        \n        assert found_user is not None\n        assert found_user.id == test_user.id\n        assert found_user.username == test_user.username\n    \n    @pytest.mark.asyncio\n    async def test_get_multi_with_pagination(\n        self, \n        db_session: AsyncSession, \n        test_user: User\n    ):\n        \"\"\"Test get multiple users with pagination.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        # Create additional users\n        for i in range(5):\n            user_data = {\n                \"username\": f\"user{i}\",\n                \"email\": f\"user{i}@example.com\",\n                \"hashed_password\": get_password_hash(\"password123\"),\n                \"first_name\": f\"User{i}\",\n                \"last_name\": \"Test\"\n            }\n            await repo.create(user_data)\n        \n        # Test pagination\n        users = await repo.get_multi(skip=0, limit=3)\n        assert len(users) == 3\n        \n        users_page_2 = await repo.get_multi(skip=3, limit=3)\n        assert len(users_page_2) >= 1  # At least test_user\n    \n    @pytest.mark.asyncio\n    async def test_update_user(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test user update.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        updated_user = await repo.update(test_user.id, {\n            \"first_name\": \"Updated\",\n            \"bio\": \"Updated bio\"\n        })\n        \n        assert updated_user is not None\n        assert updated_user.first_name == \"Updated\"\n        assert updated_user.bio == \"Updated bio\"\n    \n    @pytest.mark.asyncio\n    async def test_delete_user(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test user deletion.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        result = await repo.delete(test_user.id)\n        assert result is True\n        \n        # Verify user is deleted\n        deleted_user = await repo.get(test_user.id)\n        assert deleted_user is None\n```\n\n## Performance Testing\n\n```python\n# tests/test_performance.py\nimport pytest\nimport time\nimport asyncio\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom tests.factories import UserFactory\n\n@pytest.mark.slow\nclass TestPerformance:\n    \"\"\"Test application performance.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_concurrent_requests(\n        self, \n        async_client: AsyncClient,\n        auth_headers: dict\n    ):\n        \"\"\"Test concurrent API requests.\"\"\"\n        \n        async def make_request():\n            response = await async_client.get(\n                \"/api/v1/users/\",\n                headers=auth_headers\n            )\n            return response.status_code\n        \n        # Make 10 concurrent requests\n        start_time = time.time()\n        tasks = [make_request() for _ in range(10)]\n        results = await asyncio.gather(*tasks)\n        end_time = time.time()\n        \n        # All requests should succeed\n        assert all(status == 200 for status in results)\n        \n        # Should complete within reasonable time\n        assert (end_time - start_time) < 5.0\n    \n    @pytest.mark.asyncio\n    async def test_large_dataset_pagination(\n        self, \n        async_client: AsyncClient,\n        db_session,\n        auth_headers: dict\n    ):\n        \"\"\"Test pagination with large dataset.\"\"\"\n        # Create 100 users\n        users = []\n        for i in range(100):\n            user = UserFactory.build()\n            users.append(user)\n        \n        db_session.add_all(users)\n        await db_session.commit()\n        \n        # Test pagination performance\n        start_time = time.time()\n        response = await async_client.get(\n            \"/api/v1/users/?skip=0&limit=50\",\n            headers=auth_headers\n        )\n        end_time = time.time()\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert len(data[\"items\"]) == 50\n        \n        # Should complete quickly\n        assert (end_time - start_time) < 1.0\n```\n\n## Mocking External Services\n\n```python\n# tests/test_external.py\nimport pytest\nimport respx\nimport httpx\nfrom app.services.email import EmailService\n\nclass TestExternalServices:\n    \"\"\"Test external service integrations.\"\"\"\n    \n    @pytest.mark.asyncio\n    @respx.mock\n    async def test_email_service(\n        self, \n        async_client: AsyncClient\n    ):\n        \"\"\"Test email service with mocked external API.\"\"\"\n        # Mock email service API\n        respx.post(\"https://api.emailservice.com/send\").mock(\n            return_value=httpx.Response(\n                200, \n                json={\"message\": \"Email sent successfully\"}\n            )\n        )\n        \n        email_service = EmailService()\n        result = await email_service.send_email(\n            to=\"test@example.com\",\n            subject=\"Test\",\n            body=\"Test email\"\n        )\n        \n        assert result[\"success\"] is True\n```\n\n## Test Utilities\n\n```python\n# tests/utils.py\nfrom typing import Dict, Any\nfrom httpx import Response\nimport json\n\ndef assert_response_status(response: Response, expected_status: int = 200):\n    \"\"\"Assert response status code.\"\"\"\n    assert response.status_code == expected_status, f\"Expected {expected_status}, got {response.status_code}. Response: {response.text}\"\n\ndef assert_response_json(response: Response, expected_keys: list[str] = None):\n    \"\"\"Assert response is valid JSON with expected keys.\"\"\"\n    assert response.headers.get(\"content-type\") == \"application/json\"\n    data = response.json()\n    \n    if expected_keys:\n        for key in expected_keys:\n            assert key in data, f\"Missing key '{key}' in response\"\n    \n    return data\n\ndef create_auth_headers(token: str) -> Dict[str, str]:\n    \"\"\"Create authorization headers with token.\"\"\"\n    return {\"Authorization\": f\"Bearer {token}\"}\n\nasync def create_test_users(db_session, count: int = 5) -> list:\n    \"\"\"Create multiple test users.\"\"\"\n    from tests.factories import UserFactory\n    \n    users = []\n    for i in range(count):\n        user = UserFactory.build()\n        users.append(user)\n    \n    db_session.add_all(users)\n    await db_session.commit()\n    \n    return users\n```\n"
              },
              {
                "name": "/app-factory",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/app-factory.md",
                "frontmatter": null,
                "content": "# Flask Application Factory Pattern\n\nCreate a scalable Flask application using the factory pattern with blueprints and configuration management.\n\n## Purpose\n\nThis command helps you set up a Flask application using the application factory pattern, which is the recommended approach for larger Flask applications.\n\n## Usage\n\n```\n/app-factory\n```\n\n## What this command does\n\n1. **Creates application factory** with proper structure\n2. **Sets up configuration management** for different environments\n3. **Implements blueprints** for modular design\n4. **Configures extensions** (database, auth, etc.)\n5. **Adds error handling** and logging\n\n## Example Output\n\n```python\n# app/__init__.py\nfrom flask import Flask\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom flask_login import LoginManager\nfrom flask_mail import Mail\nfrom flask_wtf.csrf import CSRFProtect\nfrom flask_cors import CORS\nimport logging\nfrom logging.handlers import RotatingFileHandler\nimport os\n\n# Initialize extensions\ndb = SQLAlchemy()\nmigrate = Migrate()\nlogin = LoginManager()\nmail = Mail()\ncsrf = CSRFProtect()\ncors = CORS()\n\ndef create_app(config_class=None):\n    \"\"\"Application factory function.\"\"\"\n    app = Flask(__name__)\n    \n    # Load configuration\n    if config_class is None:\n        config_class = os.environ.get('FLASK_CONFIG', 'development')\n    \n    if isinstance(config_class, str):\n        from app.config import config\n        app.config.from_object(config[config_class])\n    else:\n        app.config.from_object(config_class)\n    \n    # Initialize extensions\n    db.init_app(app)\n    migrate.init_app(app, db)\n    login.init_app(app)\n    mail.init_app(app)\n    csrf.init_app(app)\n    cors.init_app(app)\n    \n    # Configure login manager\n    login.login_view = 'auth.login'\n    login.login_message = 'Please log in to access this page.'\n    login.login_message_category = 'info'\n    \n    # Register blueprints\n    from app.main import bp as main_bp\n    app.register_blueprint(main_bp)\n    \n    from app.auth import bp as auth_bp\n    app.register_blueprint(auth_bp, url_prefix='/auth')\n    \n    from app.api import bp as api_bp\n    app.register_blueprint(api_bp, url_prefix='/api')\n    \n    from app.admin import bp as admin_bp\n    app.register_blueprint(admin_bp, url_prefix='/admin')\n    \n    # Error handlers\n    from app.errors import bp as errors_bp\n    app.register_blueprint(errors_bp)\n    \n    # Configure logging\n    if not app.debug and not app.testing:\n        if not os.path.exists('logs'):\n            os.mkdir('logs')\n        \n        file_handler = RotatingFileHandler(\n            'logs/app.log', \n            maxBytes=10240, \n            backupCount=10\n        )\n        file_handler.setFormatter(logging.Formatter(\n            '%(asctime)s %(levelname)s: %(message)s [in %(pathname)s:%(lineno)d]'\n        ))\n        file_handler.setLevel(logging.INFO)\n        app.logger.addHandler(file_handler)\n        \n        app.logger.setLevel(logging.INFO)\n        app.logger.info('Flask application startup')\n    \n    return app\n\n# Import models (avoid circular imports)\nfrom app import models\n```\n\n```python\n# app/config.py\nimport os\nfrom dotenv import load_dotenv\n\nbasedir = os.path.abspath(os.path.dirname(__file__))\nload_dotenv(os.path.join(basedir, '.env'))\n\nclass Config:\n    \"\"\"Base configuration class.\"\"\"\n    SECRET_KEY = os.environ.get('SECRET_KEY') or 'dev-secret-key'\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app.db')\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    \n    # Mail configuration\n    MAIL_SERVER = os.environ.get('MAIL_SERVER')\n    MAIL_PORT = int(os.environ.get('MAIL_PORT') or 587)\n    MAIL_USE_TLS = os.environ.get('MAIL_USE_TLS', 'true').lower() in ['true', 'on', '1']\n    MAIL_USERNAME = os.environ.get('MAIL_USERNAME')\n    MAIL_PASSWORD = os.environ.get('MAIL_PASSWORD')\n    ADMIN_EMAIL = os.environ.get('ADMIN_EMAIL')\n    \n    # Pagination\n    POSTS_PER_PAGE = 10\n    USERS_PER_PAGE = 50\n    \n    # Upload configuration\n    MAX_CONTENT_LENGTH = 16 * 1024 * 1024  # 16MB\n    UPLOAD_FOLDER = os.path.join(basedir, 'uploads')\n    \n    @staticmethod\n    def init_app(app):\n        pass\n\nclass DevelopmentConfig(Config):\n    \"\"\"Development configuration.\"\"\"\n    DEBUG = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DEV_DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app-dev.db')\n\nclass TestingConfig(Config):\n    \"\"\"Testing configuration.\"\"\"\n    TESTING = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('TEST_DATABASE_URL') or 'sqlite://'\n    WTF_CSRF_ENABLED = False\n\nclass ProductionConfig(Config):\n    \"\"\"Production configuration.\"\"\"\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app.db')\n    \n    @classmethod\n    def init_app(cls, app):\n        Config.init_app(app)\n        \n        # Log to stderr\n        import logging\n        from logging import StreamHandler\n        file_handler = StreamHandler()\n        file_handler.setLevel(logging.INFO)\n        app.logger.addHandler(file_handler)\n\nconfig = {\n    'development': DevelopmentConfig,\n    'testing': TestingConfig,\n    'production': ProductionConfig,\n    'default': DevelopmentConfig\n}\n```\n\n```python\n# app/main/__init__.py\nfrom flask import Blueprint\n\nbp = Blueprint('main', __name__)\n\nfrom app.main import routes\n```\n\n```python\n# app/main/routes.py\nfrom flask import render_template, request, current_app\nfrom app.main import bp\nfrom app.models import Post\n\n@bp.route('/')\n@bp.route('/index')\ndef index():\n    \"\"\"Home page.\"\"\"\n    page = request.args.get('page', 1, type=int)\n    posts = Post.query.filter_by(published=True).order_by(\n        Post.created_at.desc()\n    ).paginate(\n        page=page,\n        per_page=current_app.config['POSTS_PER_PAGE'],\n        error_out=False\n    )\n    \n    return render_template('index.html', posts=posts)\n\n@bp.route('/about')\ndef about():\n    \"\"\"About page.\"\"\"\n    return render_template('about.html')\n```\n\n```python\n# app/auth/__init__.py\nfrom flask import Blueprint\n\nbp = Blueprint('auth', __name__)\n\nfrom app.auth import routes\n```\n\n```python\n# app/auth/routes.py\nfrom flask import render_template, redirect, url_for, flash, request\nfrom flask_login import login_user, logout_user, login_required, current_user\nfrom werkzeug.urls import url_parse\nfrom app import db\nfrom app.auth import bp\nfrom app.auth.forms import LoginForm, RegistrationForm\nfrom app.models import User\n\n@bp.route('/login', methods=['GET', 'POST'])\ndef login():\n    \"\"\"User login.\"\"\"\n    if current_user.is_authenticated:\n        return redirect(url_for('main.index'))\n    \n    form = LoginForm()\n    if form.validate_on_submit():\n        user = User.query.filter_by(username=form.username.data).first()\n        if user is None or not user.check_password(form.password.data):\n            flash('Invalid username or password', 'error')\n            return redirect(url_for('auth.login'))\n        \n        login_user(user, remember=form.remember_me.data)\n        \n        next_page = request.args.get('next')\n        if not next_page or url_parse(next_page).netloc != '':\n            next_page = url_for('main.index')\n        \n        return redirect(next_page)\n    \n    return render_template('auth/login.html', form=form)\n\n@bp.route('/logout')\n@login_required\ndef logout():\n    \"\"\"User logout.\"\"\"\n    logout_user()\n    flash('You have been logged out.', 'info')\n    return redirect(url_for('main.index'))\n\n@bp.route('/register', methods=['GET', 'POST'])\ndef register():\n    \"\"\"User registration.\"\"\"\n    if current_user.is_authenticated:\n        return redirect(url_for('main.index'))\n    \n    form = RegistrationForm()\n    if form.validate_on_submit():\n        user = User(username=form.username.data, email=form.email.data)\n        user.set_password(form.password.data)\n        db.session.add(user)\n        db.session.commit()\n        \n        flash('Registration successful!', 'success')\n        return redirect(url_for('auth.login'))\n    \n    return render_template('auth/register.html', form=form)\n```\n\n```python\n# app/models.py\nfrom app import db, login\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom flask_login import UserMixin\nfrom datetime import datetime\n\nclass User(UserMixin, db.Model):\n    \"\"\"User model.\"\"\"\n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(64), index=True, unique=True)\n    email = db.Column(db.String(120), index=True, unique=True)\n    password_hash = db.Column(db.String(128))\n    created_at = db.Column(db.DateTime, index=True, default=datetime.utcnow)\n    \n    posts = db.relationship('Post', backref='author', lazy='dynamic')\n    \n    def set_password(self, password):\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        return check_password_hash(self.password_hash, password)\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n\n@login.user_loader\ndef load_user(id):\n    return User.query.get(int(id))\n\nclass Post(db.Model):\n    \"\"\"Post model.\"\"\"\n    id = db.Column(db.Integer, primary_key=True)\n    title = db.Column(db.String(100), nullable=False)\n    content = db.Column(db.Text, nullable=False)\n    published = db.Column(db.Boolean, default=False)\n    created_at = db.Column(db.DateTime, index=True, default=datetime.utcnow)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\n    \n    user_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=False)\n    \n    def __repr__(self):\n        return f'<Post {self.title}>'\n```\n\n```python\n# app.py (main application entry point)\nfrom app import create_app, db\nfrom app.models import User, Post\n\napp = create_app()\n\n@app.shell_context_processor\ndef make_shell_context():\n    \"\"\"Add models to shell context.\"\"\"\n    return {'db': db, 'User': User, 'Post': Post}\n\nif __name__ == '__main__':\n    app.run(debug=True)\n```\n\n## Project Structure\n\n```\nproject/\n‚îú‚îÄ‚îÄ app/\n‚îÇ   ‚îú‚îÄ‚îÄ __init__.py         # Application factory\n‚îÇ   ‚îú‚îÄ‚îÄ config.py           # Configuration classes\n‚îÇ   ‚îú‚îÄ‚îÄ models.py           # Database models\n‚îÇ   ‚îú‚îÄ‚îÄ main/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # Main blueprint\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.py       # Main routes\n‚îÇ   ‚îú‚îÄ‚îÄ auth/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # Auth blueprint\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes.py       # Auth routes\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ forms.py        # Auth forms\n‚îÇ   ‚îú‚îÄ‚îÄ api/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # API blueprint\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.py       # API routes\n‚îÇ   ‚îî‚îÄ‚îÄ templates/          # Jinja2 templates\n‚îú‚îÄ‚îÄ migrations/             # Database migrations\n‚îú‚îÄ‚îÄ logs/                   # Application logs\n‚îú‚îÄ‚îÄ app.py                  # Application entry point\n‚îú‚îÄ‚îÄ requirements.txt        # Dependencies\n‚îî‚îÄ‚îÄ .env                    # Environment variables\n```\n\n## Benefits of Application Factory\n\n- **Testing**: Easy to create app instances with different configs\n- **Scalability**: Modular design with blueprints\n- **Configuration**: Environment-specific settings\n- **Extensions**: Proper initialization order\n- **Maintainability**: Clear separation of concerns"
              },
              {
                "name": "/blueprint",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/blueprint.md",
                "frontmatter": null,
                "content": "# Flask Blueprint Generator\n\nCreate organized Flask blueprints for modular application structure.\n\n## Usage\n\n```bash\n# Create a new blueprint\nflask create-blueprint users\nflask create-blueprint api/v1\n```\n\n## Blueprint Structure\n\nGenerates a complete blueprint with:\n- Routes and view functions\n- Error handlers\n- Template folder structure\n- Static file organization\n\n## Example Blueprint\n\n```python\n# app/blueprints/users/__init__.py\nfrom flask import Blueprint\n\nusers_bp = Blueprint(\n    'users',\n    __name__,\n    url_prefix='/users',\n    template_folder='templates',\n    static_folder='static'\n)\n\nfrom . import routes, models\n\n# app/blueprints/users/routes.py\nfrom flask import render_template, request, redirect, url_for, flash\nfrom . import users_bp\nfrom .models import User\nfrom .forms import UserForm\n\n@users_bp.route('/')\ndef index():\n    \"\"\"List all users.\"\"\"\n    users = User.query.all()\n    return render_template('users/index.html', users=users)\n\n@users_bp.route('/create', methods=['GET', 'POST'])\ndef create():\n    \"\"\"Create a new user.\"\"\"\n    form = UserForm()\n    if form.validate_on_submit():\n        user = User(\n            username=form.username.data,\n            email=form.email.data\n        )\n        user.save()\n        flash('User created successfully!', 'success')\n        return redirect(url_for('users.index'))\n    return render_template('users/create.html', form=form)\n\n@users_bp.route('/<int:user_id>')\ndef detail(user_id):\n    \"\"\"Show user details.\"\"\"\n    user = User.query.get_or_404(user_id)\n    return render_template('users/detail.html', user=user)\n\n@users_bp.route('/<int:user_id>/edit', methods=['GET', 'POST'])\ndef edit(user_id):\n    \"\"\"Edit an existing user.\"\"\"\n    user = User.query.get_or_404(user_id)\n    form = UserForm(obj=user)\n    if form.validate_on_submit():\n        user.username = form.username.data\n        user.email = form.email.data\n        user.save()\n        flash('User updated successfully!', 'success')\n        return redirect(url_for('users.detail', user_id=user.id))\n    return render_template('users/edit.html', form=form, user=user)\n\n@users_bp.route('/<int:user_id>/delete', methods=['POST'])\ndef delete(user_id):\n    \"\"\"Delete a user.\"\"\"\n    user = User.query.get_or_404(user_id)\n    user.delete()\n    flash('User deleted successfully!', 'success')\n    return redirect(url_for('users.index'))\n\n# Error handlers\n@users_bp.errorhandler(404)\ndef not_found(error):\n    return render_template('users/404.html'), 404\n\n@users_bp.errorhandler(500)\ndef internal_error(error):\n    return render_template('users/500.html'), 500\n```\n\n## Blueprint Models\n\n```python\n# app/blueprints/users/models.py\nfrom app.extensions import db\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom datetime import datetime\n\nclass User(db.Model):\n    \"\"\"User model.\"\"\"\n    __tablename__ = 'users'\n    \n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(80), unique=True, nullable=False)\n    email = db.Column(db.String(120), unique=True, nullable=False)\n    password_hash = db.Column(db.String(255), nullable=False)\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\n    is_active = db.Column(db.Boolean, default=True)\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n    \n    def set_password(self, password):\n        \"\"\"Set password hash.\"\"\"\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        \"\"\"Check password hash.\"\"\"\n        return check_password_hash(self.password_hash, password)\n    \n    def save(self):\n        \"\"\"Save user to database.\"\"\"\n        db.session.add(self)\n        db.session.commit()\n    \n    def delete(self):\n        \"\"\"Delete user from database.\"\"\"\n        db.session.delete(self)\n        db.session.commit()\n    \n    def to_dict(self):\n        \"\"\"Convert to dictionary.\"\"\"\n        return {\n            'id': self.id,\n            'username': self.username,\n            'email': self.email,\n            'created_at': self.created_at.isoformat(),\n            'is_active': self.is_active\n        }\n```\n\n## Blueprint Forms\n\n```python\n# app/blueprints/users/forms.py\nfrom flask_wtf import FlaskForm\nfrom wtforms import StringField, EmailField, PasswordField, BooleanField\nfrom wtforms.validators import DataRequired, Email, Length, EqualTo\nfrom .models import User\n\nclass UserForm(FlaskForm):\n    \"\"\"User creation/edit form.\"\"\"\n    username = StringField(\n        'Username',\n        validators=[\n            DataRequired(),\n            Length(min=3, max=80)\n        ]\n    )\n    email = EmailField(\n        'Email',\n        validators=[\n            DataRequired(),\n            Email(),\n            Length(max=120)\n        ]\n    )\n    password = PasswordField(\n        'Password',\n        validators=[\n            DataRequired(),\n            Length(min=8)\n        ]\n    )\n    confirm_password = PasswordField(\n        'Confirm Password',\n        validators=[\n            DataRequired(),\n            EqualTo('password', message='Passwords must match')\n        ]\n    )\n    is_active = BooleanField('Active')\n    \n    def validate_username(self, field):\n        \"\"\"Validate username uniqueness.\"\"\"\n        if User.query.filter_by(username=field.data).first():\n            raise ValidationError('Username already exists.')\n    \n    def validate_email(self, field):\n        \"\"\"Validate email uniqueness.\"\"\"\n        if User.query.filter_by(email=field.data).first():\n            raise ValidationError('Email already registered.')\n```\n\n## Registration in Main App\n\n```python\n# app/__init__.py\nfrom flask import Flask\nfrom app.blueprints.users import users_bp\n\ndef create_app():\n    app = Flask(__name__)\n    \n    # Register blueprints\n    app.register_blueprint(users_bp)\n    \n    return app\n```\n\n## Template Structure\n\n```\ntemplates/\n‚îú‚îÄ‚îÄ base.html\n‚îî‚îÄ‚îÄ users/\n    ‚îú‚îÄ‚îÄ index.html\n    ‚îú‚îÄ‚îÄ create.html\n    ‚îú‚îÄ‚îÄ detail.html\n    ‚îú‚îÄ‚îÄ edit.html\n    ‚îú‚îÄ‚îÄ 404.html\n    ‚îî‚îÄ‚îÄ 500.html\n```\n\n## Best Practices\n\n- Use blueprints to organize related functionality\n- Keep models, forms, and routes in separate files\n- Implement proper error handling\n- Use URL prefixes for namespacing\n- Follow RESTful routing conventions\n- Include comprehensive docstrings\n- Add form validation and CSRF protection\n"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# Flask Database Management\n\nComplete database setup and management for Flask applications using SQLAlchemy.\n\n## Usage\n\n```bash\n# Initialize database\nflask db init\n\n# Create migration\nflask db migrate -m \"Initial migration\"\n\n# Apply migrations\nflask db upgrade\n\n# Downgrade migration\nflask db downgrade\n```\n\n## Database Configuration\n\n```python\n# config.py\nimport os\nfrom urllib.parse import quote_plus\n\nclass Config:\n    \"\"\"Base configuration.\"\"\"\n    SECRET_KEY = os.environ.get('SECRET_KEY') or 'dev-secret-key'\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    SQLALCHEMY_RECORD_QUERIES = True\n    \nclass DevelopmentConfig(Config):\n    \"\"\"Development configuration.\"\"\"\n    DEBUG = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///app.db'\n        \nclass ProductionConfig(Config):\n    \"\"\"Production configuration.\"\"\"\n    DEBUG = False\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        f\"postgresql://{os.environ.get('DB_USER')}:{quote_plus(os.environ.get('DB_PASSWORD'))}@\" \\\n        f\"{os.environ.get('DB_HOST')}:{os.environ.get('DB_PORT', '5432')}/{os.environ.get('DB_NAME')}\"\n    \nclass TestingConfig(Config):\n    \"\"\"Testing configuration.\"\"\"\n    TESTING = True\n    SQLALCHEMY_DATABASE_URI = 'sqlite:///:memory:'\n    WTF_CSRF_ENABLED = False\n\nconfig = {\n    'development': DevelopmentConfig,\n    'production': ProductionConfig,\n    'testing': TestingConfig,\n    'default': DevelopmentConfig\n}\n```\n\n## Database Extensions\n\n```python\n# app/extensions.py\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom flask_login import LoginManager\nfrom flask_wtf.csrf import CSRFProtect\nfrom flask_caching import Cache\nfrom flask_limiter import Limiter\nfrom flask_limiter.util import get_remote_address\n\n# Initialize extensions\ndb = SQLAlchemy()\nmigrate = Migrate()\nlogin_manager = LoginManager()\ncsrf = CSRFProtect()\ncache = Cache()\nlimiter = Limiter(key_func=get_remote_address)\n\ndef init_extensions(app):\n    \"\"\"Initialize Flask extensions.\"\"\"\n    db.init_app(app)\n    migrate.init_app(app, db)\n    login_manager.init_app(app)\n    csrf.init_app(app)\n    cache.init_app(app)\n    limiter.init_app(app)\n    \n    # Configure login manager\n    login_manager.login_view = 'auth.login'\n    login_manager.login_message = 'Please log in to access this page.'\n    login_manager.login_message_category = 'info'\n```\n\n## Base Model\n\n```python\n# app/models/base.py\nfrom app.extensions import db\nfrom datetime import datetime\nfrom sqlalchemy.ext.declarative import declared_attr\n\nclass TimestampMixin:\n    \"\"\"Add timestamp fields to model.\"\"\"\n    created_at = db.Column(db.DateTime, default=datetime.utcnow, nullable=False)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow, nullable=False)\n\nclass BaseModel(db.Model, TimestampMixin):\n    \"\"\"Base model with common functionality.\"\"\"\n    __abstract__ = True\n    \n    id = db.Column(db.Integer, primary_key=True)\n    \n    @declared_attr\n    def __tablename__(cls):\n        return cls.__name__.lower()\n    \n    def save(self, commit=True):\n        \"\"\"Save model to database.\"\"\"\n        db.session.add(self)\n        if commit:\n            db.session.commit()\n        return self\n    \n    def delete(self, commit=True):\n        \"\"\"Delete model from database.\"\"\"\n        db.session.delete(self)\n        if commit:\n            db.session.commit()\n    \n    def update(self, **kwargs):\n        \"\"\"Update model attributes.\"\"\"\n        for key, value in kwargs.items():\n            if hasattr(self, key):\n                setattr(self, key, value)\n        return self.save()\n    \n    def to_dict(self, exclude=None):\n        \"\"\"Convert model to dictionary.\"\"\"\n        exclude = exclude or []\n        return {\n            column.name: getattr(self, column.name)\n            for column in self.__table__.columns\n            if column.name not in exclude\n        }\n    \n    @classmethod\n    def get_or_404(cls, id):\n        \"\"\"Get model by ID or raise 404.\"\"\"\n        return cls.query.get_or_404(id)\n    \n    @classmethod\n    def create(cls, **kwargs):\n        \"\"\"Create new model instance.\"\"\"\n        instance = cls(**kwargs)\n        return instance.save()\n```\n\n## Example Models\n\n```python\n# app/models/user.py\nfrom app.extensions import db\nfrom app.models.base import BaseModel\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom flask_login import UserMixin\n\nclass User(UserMixin, BaseModel):\n    \"\"\"User model.\"\"\"\n    __tablename__ = 'users'\n    \n    username = db.Column(db.String(80), unique=True, nullable=False, index=True)\n    email = db.Column(db.String(120), unique=True, nullable=False, index=True)\n    password_hash = db.Column(db.String(255), nullable=False)\n    first_name = db.Column(db.String(50), nullable=False)\n    last_name = db.Column(db.String(50), nullable=False)\n    is_active = db.Column(db.Boolean, default=True, nullable=False)\n    is_admin = db.Column(db.Boolean, default=False, nullable=False)\n    last_login = db.Column(db.DateTime)\n    \n    # Relationships\n    posts = db.relationship('Post', backref='author', lazy='dynamic', cascade='all, delete-orphan')\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n    \n    def set_password(self, password):\n        \"\"\"Set password hash.\"\"\"\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        \"\"\"Check password hash.\"\"\"\n        return check_password_hash(self.password_hash, password)\n    \n    @property\n    def full_name(self):\n        \"\"\"Get user's full name.\"\"\"\n        return f\"{self.first_name} {self.last_name}\"\n    \n    def to_dict(self, exclude=None):\n        \"\"\"Convert to dictionary excluding sensitive data.\"\"\"\n        exclude = exclude or ['password_hash']\n        return super().to_dict(exclude=exclude)\n\n# app/models/post.py\nclass Post(BaseModel):\n    \"\"\"Blog post model.\"\"\"\n    __tablename__ = 'posts'\n    \n    title = db.Column(db.String(200), nullable=False)\n    content = db.Column(db.Text, nullable=False)\n    slug = db.Column(db.String(200), unique=True, nullable=False, index=True)\n    status = db.Column(db.String(20), default='draft', nullable=False)\n    published_at = db.Column(db.DateTime)\n    \n    # Foreign keys\n    user_id = db.Column(db.Integer, db.ForeignKey('users.id'), nullable=False)\n    category_id = db.Column(db.Integer, db.ForeignKey('categories.id'))\n    \n    # Relationships\n    category = db.relationship('Category', backref='posts')\n    tags = db.relationship('Tag', secondary='post_tags', backref='posts')\n    \n    def __repr__(self):\n        return f'<Post {self.title}>'\n    \n    @property\n    def is_published(self):\n        \"\"\"Check if post is published.\"\"\"\n        return self.status == 'published' and self.published_at is not None\n```\n\n## Database CLI Commands\n\n```python\n# app/cli.py\nimport click\nfrom flask import current_app\nfrom flask.cli import with_appcontext\nfrom app.extensions import db\nfrom app.models import User, Post, Category\n\n@click.command()\n@with_appcontext\ndef init_db():\n    \"\"\"Initialize database.\"\"\"\n    db.create_all()\n    click.echo('Database initialized.')\n\n@click.command()\n@with_appcontext\ndef seed_db():\n    \"\"\"Seed database with sample data.\"\"\"\n    # Create admin user\n    admin = User(\n        username='admin',\n        email='admin@example.com',\n        first_name='Admin',\n        last_name='User',\n        is_admin=True\n    )\n    admin.set_password('admin123')\n    admin.save()\n    \n    # Create sample category\n    category = Category(\n        name='Technology',\n        description='Tech-related posts'\n    )\n    category.save()\n    \n    # Create sample post\n    post = Post(\n        title='Welcome to Flask',\n        content='This is a sample blog post.',\n        slug='welcome-to-flask',\n        status='published',\n        user_id=admin.id,\n        category_id=category.id\n    )\n    post.save()\n    \n    click.echo('Database seeded with sample data.')\n\n@click.command()\n@with_appcontext\ndef reset_db():\n    \"\"\"Reset database.\"\"\"\n    if click.confirm('Are you sure you want to reset the database?'):\n        db.drop_all()\n        db.create_all()\n        click.echo('Database reset.')\n\ndef init_commands(app):\n    \"\"\"Register CLI commands.\"\"\"\n    app.cli.add_command(init_db)\n    app.cli.add_command(seed_db)\n    app.cli.add_command(reset_db)\n```\n\n## Connection Pooling\n\n```python\n# app/database.py\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.pool import QueuePool\n\ndef configure_database(app):\n    \"\"\"Configure database with connection pooling.\"\"\"\n    if app.config.get('SQLALCHEMY_DATABASE_URI', '').startswith('postgresql'):\n        # PostgreSQL configuration\n        engine = create_engine(\n            app.config['SQLALCHEMY_DATABASE_URI'],\n            poolclass=QueuePool,\n            pool_size=10,\n            max_overflow=20,\n            pool_recycle=3600,\n            pool_pre_ping=True\n        )\n        app.config['SQLALCHEMY_ENGINE_OPTIONS'] = {\n            'pool_size': 10,\n            'max_overflow': 20,\n            'pool_recycle': 3600,\n            'pool_pre_ping': True\n        }\n```\n\n## Database Utilities\n\n```python\n# app/utils/database.py\nfrom app.extensions import db\nfrom sqlalchemy import text\nfrom flask import current_app\n\ndef execute_sql(sql, params=None):\n    \"\"\"Execute raw SQL query.\"\"\"\n    with db.engine.connect() as conn:\n        result = conn.execute(text(sql), params or {})\n        return result.fetchall()\n\ndef backup_database():\n    \"\"\"Create database backup.\"\"\"\n    # Implementation depends on database type\n    pass\n\ndef check_database_health():\n    \"\"\"Check database connection health.\"\"\"\n    try:\n        db.session.execute(text('SELECT 1'))\n        return True\n    except Exception as e:\n        current_app.logger.error(f'Database health check failed: {e}')\n        return False\n\ndef get_table_info(table_name):\n    \"\"\"Get table information.\"\"\"\n    inspector = db.inspect(db.engine)\n    return {\n        'columns': inspector.get_columns(table_name),\n        'indexes': inspector.get_indexes(table_name),\n        'foreign_keys': inspector.get_foreign_keys(table_name)\n    }\n```\n\n## Testing Database\n\n```python\n# tests/conftest.py\nimport pytest\nfrom app import create_app\nfrom app.extensions import db\nfrom app.models import User\n\n@pytest.fixture(scope='session')\ndef app():\n    \"\"\"Create test app.\"\"\"\n    app = create_app('testing')\n    with app.app_context():\n        db.create_all()\n        yield app\n        db.drop_all()\n\n@pytest.fixture\ndef client(app):\n    \"\"\"Create test client.\"\"\"\n    return app.test_client()\n\n@pytest.fixture\ndef db_session(app):\n    \"\"\"Create database session for testing.\"\"\"\n    with app.app_context():\n        db.session.begin()\n        yield db.session\n        db.session.rollback()\n\n@pytest.fixture\ndef user(db_session):\n    \"\"\"Create test user.\"\"\"\n    user = User(\n        username='testuser',\n        email='test@example.com',\n        first_name='Test',\n        last_name='User'\n    )\n    user.set_password('testpass')\n    user.save()\n    return user\n```\n"
              },
              {
                "name": "/deployment",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/deployment.md",
                "frontmatter": null,
                "content": "# Flask Deployment Configuration\n\nComplete production deployment setup for Flask applications.\n\n## Usage\n\n```bash\n# Build Docker image\ndocker build -t myapp .\n\n# Run with Docker Compose\ndocker-compose up -d\n\n# Deploy to cloud\ngunicorn --bind 0.0.0.0:8000 app:app\n```\n\n## Production Configuration\n\n```python\n# config.py\nimport os\nfrom urllib.parse import quote_plus\n\nclass ProductionConfig:\n    \"\"\"Production configuration.\"\"\"\n    \n    # Security\n    SECRET_KEY = os.environ.get('SECRET_KEY')\n    DEBUG = False\n    TESTING = False\n    \n    # Database\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        f\"postgresql://{os.environ.get('DB_USER')}:{quote_plus(os.environ.get('DB_PASSWORD'))}@\" \\\n        f\"{os.environ.get('DB_HOST')}:{os.environ.get('DB_PORT', '5432')}/{os.environ.get('DB_NAME')}\"\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    SQLALCHEMY_ENGINE_OPTIONS = {\n        'pool_size': 10,\n        'max_overflow': 20,\n        'pool_recycle': 3600,\n        'pool_pre_ping': True\n    }\n    \n    # Security Headers\n    SECURITY_HEADERS = {\n        'Strict-Transport-Security': 'max-age=31536000; includeSubDomains',\n        'X-Content-Type-Options': 'nosniff',\n        'X-Frame-Options': 'DENY',\n        'X-XSS-Protection': '1; mode=block',\n        'Content-Security-Policy': \"default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'\"\n    }\n    \n    # Session\n    SESSION_COOKIE_SECURE = True\n    SESSION_COOKIE_HTTPONLY = True\n    SESSION_COOKIE_SAMESITE = 'Lax'\n    PERMANENT_SESSION_LIFETIME = 3600  # 1 hour\n    \n    # Cache\n    CACHE_TYPE = 'redis'\n    CACHE_REDIS_URL = os.environ.get('REDIS_URL', 'redis://localhost:6379/0')\n    CACHE_DEFAULT_TIMEOUT = 300\n    \n    # Rate Limiting\n    RATELIMIT_STORAGE_URL = os.environ.get('REDIS_URL', 'redis://localhost:6379/1')\n    RATELIMIT_DEFAULT = '100/hour'\n    \n    # Logging\n    LOG_LEVEL = os.environ.get('LOG_LEVEL', 'INFO')\n    LOG_FILE = os.environ.get('LOG_FILE', '/var/log/app/app.log')\n    \n    # File Upload\n    MAX_CONTENT_LENGTH = 16 * 1024 * 1024  # 16MB\n    UPLOAD_FOLDER = os.environ.get('UPLOAD_FOLDER', '/var/uploads')\n    \n    # Email\n    MAIL_SERVER = os.environ.get('MAIL_SERVER')\n    MAIL_PORT = int(os.environ.get('MAIL_PORT', 587))\n    MAIL_USE_TLS = os.environ.get('MAIL_USE_TLS', 'true').lower() in ['true', 'on', '1']\n    MAIL_USERNAME = os.environ.get('MAIL_USERNAME')\n    MAIL_PASSWORD = os.environ.get('MAIL_PASSWORD')\n    MAIL_DEFAULT_SENDER = os.environ.get('MAIL_DEFAULT_SENDER')\n```\n\n## WSGI Configuration\n\n```python\n# wsgi.py\nimport os\nfrom app import create_app\n\n# Get environment\nconfig_name = os.environ.get('FLASK_ENV', 'production')\napp = create_app(config_name)\n\nif __name__ == \"__main__\":\n    app.run()\n```\n\n## Gunicorn Configuration\n\n```python\n# gunicorn.conf.py\nimport multiprocessing\nimport os\n\n# Server socket\nbind = f\"0.0.0.0:{os.environ.get('PORT', 8000)}\"\nbacklog = 2048\n\n# Worker processes\nworkers = multiprocessing.cpu_count() * 2 + 1\nworker_class = 'sync'\nworker_connections = 1000\ntimeout = 30\nkeepalive = 60\nmax_requests = 1000\nmax_requests_jitter = 100\n\n# Security\nlimit_request_line = 4094\nlimit_request_fields = 100\nlimit_request_field_size = 8190\n\n# Logging\naccesslog = '-'\nerrorlog = '-'\nloglevel = os.environ.get('LOG_LEVEL', 'info').lower()\naccess_log_format = '%(h)s %(l)s %(u)s %(t)s \"%(r)s\" %(s)s %(b)s \"%(f)s\" \"%(a)s\" %(D)s'\n\n# Process naming\nproc_name = 'flask_app'\n\n# Server mechanics\ndaemon = False\npidfile = '/tmp/gunicorn.pid'\nuser = os.environ.get('USER', 'www-data')\ngroup = os.environ.get('GROUP', 'www-data')\ntmp_upload_dir = None\n\n# SSL\nkeyfile = os.environ.get('SSL_KEYFILE')\ncertfile = os.environ.get('SSL_CERTFILE')\n```\n\n## Docker Configuration\n\n```dockerfile\n# Dockerfile\nFROM python:3.11-slim\n\n# Set environment variables\nENV PYTHONDONTWRITEBYTECODE=1 \\\n    PYTHONUNBUFFERED=1 \\\n    PIP_NO_CACHE_DIR=1 \\\n    PIP_DISABLE_PIP_VERSION_CHECK=1\n\n# Install system dependencies\nRUN apt-get update && apt-get install -y \\\n    build-essential \\\n    libpq-dev \\\n    curl \\\n    && rm -rf /var/lib/apt/lists/*\n\n# Create app user\nRUN groupadd -r appuser && useradd -r -g appuser appuser\n\n# Set work directory\nWORKDIR /app\n\n# Install Python dependencies\nCOPY requirements/production.txt ./requirements.txt\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy application code\nCOPY . .\n\n# Create necessary directories\nRUN mkdir -p /var/log/app /var/uploads && \\\n    chown -R appuser:appuser /app /var/log/app /var/uploads\n\n# Switch to non-root user\nUSER appuser\n\n# Expose port\nEXPOSE 8000\n\n# Health check\nHEALTHCHECK --interval=30s --timeout=30s --start-period=5s --retries=3 \\\n    CMD curl -f http://localhost:8000/health || exit 1\n\n# Run application\nCMD [\"gunicorn\", \"--config\", \"gunicorn.conf.py\", \"wsgi:app\"]\n```\n\n## Docker Compose\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\n\nservices:\n  web:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - FLASK_ENV=production\n      - DATABASE_URL=postgresql://postgres:password@db:5432/myapp\n      - REDIS_URL=redis://redis:6379/0\n      - SECRET_KEY=${SECRET_KEY}\n    depends_on:\n      - db\n      - redis\n    volumes:\n      - uploads:/var/uploads\n      - logs:/var/log/app\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8000/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  db:\n    image: postgres:15\n    environment:\n      - POSTGRES_DB=myapp\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U postgres\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  redis:\n    image: redis:7-alpine\n    command: redis-server --appendonly yes\n    volumes:\n      - redis_data:/data\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD\", \"redis-cli\", \"ping\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  nginx:\n    image: nginx:alpine\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf:ro\n      - ./ssl:/etc/nginx/ssl:ro\n      - uploads:/var/uploads:ro\n    depends_on:\n      - web\n    restart: unless-stopped\n\nvolumes:\n  postgres_data:\n  redis_data:\n  uploads:\n  logs:\n```\n\n## Nginx Configuration\n\n```nginx\n# nginx.conf\nevents {\n    worker_connections 1024;\n}\n\nhttp {\n    upstream app {\n        server web:8000;\n    }\n    \n    # Rate limiting\n    limit_req_zone $binary_remote_addr zone=api:10m rate=10r/s;\n    limit_req_zone $binary_remote_addr zone=login:10m rate=1r/s;\n    \n    # SSL configuration\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384;\n    ssl_prefer_server_ciphers off;\n    \n    # Security headers\n    add_header X-Frame-Options DENY;\n    add_header X-Content-Type-Options nosniff;\n    add_header X-XSS-Protection \"1; mode=block\";\n    add_header Strict-Transport-Security \"max-age=31536000; includeSubDomains\" always;\n    \n    server {\n        listen 80;\n        server_name example.com www.example.com;\n        return 301 https://$server_name$request_uri;\n    }\n    \n    server {\n        listen 443 ssl http2;\n        server_name example.com www.example.com;\n        \n        ssl_certificate /etc/nginx/ssl/cert.pem;\n        ssl_certificate_key /etc/nginx/ssl/key.pem;\n        \n        # File upload size\n        client_max_body_size 16M;\n        \n        # Static files\n        location /static/ {\n            alias /var/uploads/static/;\n            expires 1y;\n            add_header Cache-Control \"public, immutable\";\n        }\n        \n        location /uploads/ {\n            alias /var/uploads/;\n            expires 1h;\n        }\n        \n        # API rate limiting\n        location /api/ {\n            limit_req zone=api burst=20 nodelay;\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n        \n        # Login rate limiting\n        location /auth/login {\n            limit_req zone=login burst=5 nodelay;\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n        \n        # Main application\n        location / {\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n            \n            # Timeout settings\n            proxy_connect_timeout 60s;\n            proxy_send_timeout 60s;\n            proxy_read_timeout 60s;\n        }\n    }\n}\n```\n\n## Environment Variables\n\n```bash\n# .env.production\n# Application\nFLASK_ENV=production\nSECRET_KEY=your-super-secret-key-here\n\n# Database\nDATABASE_URL=postgresql://user:password@localhost:5432/myapp\nDB_HOST=localhost\nDB_PORT=5432\nDB_NAME=myapp\nDB_USER=user\nDB_PASSWORD=password\n\n# Redis\nREDIS_URL=redis://localhost:6379/0\n\n# Email\nMAIL_SERVER=smtp.gmail.com\nMAIL_PORT=587\nMAIL_USE_TLS=true\nMAIL_USERNAME=your-email@gmail.com\nMAIL_PASSWORD=your-app-password\nMAIL_DEFAULT_SENDER=your-email@gmail.com\n\n# Logging\nLOG_LEVEL=INFO\nLOG_FILE=/var/log/app/app.log\n\n# File Upload\nUPLOAD_FOLDER=/var/uploads\n\n# SSL (if using)\nSSL_KEYFILE=/path/to/private.key\nSSL_CERTFILE=/path/to/certificate.crt\n```\n\n## Health Check Endpoint\n\n```python\n# app/health.py\nfrom flask import Blueprint, jsonify\nfrom app.extensions import db\nfrom sqlalchemy import text\nimport redis\nimport os\n\nhealth_bp = Blueprint('health', __name__)\n\n@health_bp.route('/health')\ndef health_check():\n    \"\"\"Application health check.\"\"\"\n    checks = {\n        'status': 'healthy',\n        'database': check_database(),\n        'redis': check_redis(),\n        'disk_space': check_disk_space()\n    }\n    \n    # Determine overall status\n    if all(check['status'] == 'ok' for check in checks.values() if isinstance(check, dict)):\n        status_code = 200\n    else:\n        status_code = 503\n        checks['status'] = 'unhealthy'\n    \n    return jsonify(checks), status_code\n\ndef check_database():\n    \"\"\"Check database connectivity.\"\"\"\n    try:\n        db.session.execute(text('SELECT 1'))\n        return {'status': 'ok', 'message': 'Database connection successful'}\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n\ndef check_redis():\n    \"\"\"Check Redis connectivity.\"\"\"\n    try:\n        redis_url = os.environ.get('REDIS_URL', 'redis://localhost:6379/0')\n        r = redis.from_url(redis_url)\n        r.ping()\n        return {'status': 'ok', 'message': 'Redis connection successful'}\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n\ndef check_disk_space():\n    \"\"\"Check available disk space.\"\"\"\n    try:\n        import shutil\n        total, used, free = shutil.disk_usage('/')\n        free_percent = (free / total) * 100\n        \n        if free_percent > 10:\n            status = 'ok'\n        elif free_percent > 5:\n            status = 'warning'\n        else:\n            status = 'critical'\n        \n        return {\n            'status': status,\n            'free_space_percent': round(free_percent, 2),\n            'free_space_gb': round(free / (1024**3), 2)\n        }\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n```\n\n## Monitoring and Logging\n\n```python\n# app/logging.py\nimport logging\nimport logging.handlers\nimport os\nfrom flask import request, g\nimport time\n\ndef setup_logging(app):\n    \"\"\"Setup application logging.\"\"\"\n    if not app.debug and not app.testing:\n        # File logging\n        if app.config.get('LOG_FILE'):\n            file_handler = logging.handlers.RotatingFileHandler(\n                app.config['LOG_FILE'],\n                maxBytes=10240000,  # 10MB\n                backupCount=10\n            )\n            file_handler.setFormatter(logging.Formatter(\n                '%(asctime)s %(levelname)s: %(message)s '\n                '[in %(pathname)s:%(lineno)d]'\n            ))\n            file_handler.setLevel(getattr(logging, app.config.get('LOG_LEVEL', 'INFO')))\n            app.logger.addHandler(file_handler)\n        \n        # Console logging\n        if not app.logger.handlers:\n            stream_handler = logging.StreamHandler()\n            stream_handler.setFormatter(logging.Formatter(\n                '%(asctime)s %(levelname)s: %(message)s'\n            ))\n            stream_handler.setLevel(logging.INFO)\n            app.logger.addHandler(stream_handler)\n        \n        app.logger.setLevel(logging.INFO)\n        app.logger.info('Application startup')\n\n# Request timing middleware\n@app.before_request\ndef before_request():\n    g.start_time = time.time()\n\n@app.after_request\ndef after_request(response):\n    if hasattr(g, 'start_time'):\n        duration = time.time() - g.start_time\n        app.logger.info(\n            f'{request.method} {request.path} - '\n            f'{response.status_code} - {duration:.3f}s'\n        )\n    return response\n```\n\n## Database Backup Script\n\n```bash\n#!/bin/bash\n# backup.sh\n\nset -e\n\n# Configuration\nBACKUP_DIR=\"/var/backups/db\"\nDATABASE_URL=\"$DATABASE_URL\"\nDATE=$(date +%Y%m%d_%H%M%S)\nBACKUP_FILE=\"$BACKUP_DIR/backup_$DATE.sql\"\nRETENTION_DAYS=7\n\n# Create backup directory\nmkdir -p \"$BACKUP_DIR\"\n\n# Create backup\necho \"Creating database backup...\"\npg_dump \"$DATABASE_URL\" > \"$BACKUP_FILE\"\n\n# Compress backup\ngzip \"$BACKUP_FILE\"\n\n# Remove old backups\necho \"Cleaning up old backups...\"\nfind \"$BACKUP_DIR\" -name \"backup_*.sql.gz\" -mtime +$RETENTION_DAYS -delete\n\necho \"Backup completed: $BACKUP_FILE.gz\"\n```\n\n## Deployment Scripts\n\n```bash\n#!/bin/bash\n# deploy.sh\n\nset -e\n\necho \"Starting deployment...\"\n\n# Pull latest code\ngit pull origin main\n\n# Build new Docker image\ndocker-compose build web\n\n# Run database migrations\ndocker-compose run --rm web flask db upgrade\n\n# Update services\ndocker-compose up -d\n\n# Health check\necho \"Waiting for application to be ready...\"\nsleep 10\n\nif curl -f http://localhost:8000/health; then\n    echo \"Deployment successful!\"\nelse\n    echo \"Deployment failed - health check failed\"\n    exit 1\nfi\n```\n\n## Monitoring with Prometheus\n\n```python\n# app/metrics.py\nfrom prometheus_flask_exporter import PrometheusMetrics\nfrom flask import request\nimport time\n\ndef setup_metrics(app):\n    \"\"\"Setup Prometheus metrics.\"\"\"\n    metrics = PrometheusMetrics(app)\n    \n    # Custom metrics\n    metrics.info('app_info', 'Application info', version='1.0.0')\n    \n    # Database connection pool metrics\n    @metrics.gauge('db_pool_size', 'Database connection pool size')\n    def db_pool_size():\n        from app.extensions import db\n        return db.engine.pool.size()\n    \n    return metrics\n```\n"
              },
              {
                "name": "/flask-route",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/flask-route.md",
                "frontmatter": null,
                "content": "# Flask Route Generator\n\nCreate Flask routes with proper structure and error handling.\n\n## Purpose\n\nThis command helps you quickly create Flask routes with validation, error handling, and best practices.\n\n## Usage\n\n```\n/flask-route\n```\n\n## What this command does\n\n1. **Creates route functions** with proper decorators\n2. **Adds request validation** and error handling\n3. **Includes JSON responses** and status codes\n4. **Implements authentication** if needed\n5. **Follows Flask conventions** and best practices\n\n## Example Output\n\n```python\n# routes.py or app.py\nfrom flask import Flask, request, jsonify, abort\nfrom flask_sqlalchemy import SQLAlchemy\nfrom werkzeug.exceptions import BadRequest\n\napp = Flask(__name__)\n\n@app.route('/users', methods=['GET'])\ndef get_users():\n    \"\"\"Get all users with optional pagination.\"\"\"\n    try:\n        page = request.args.get('page', 1, type=int)\n        per_page = request.args.get('per_page', 10, type=int)\n        \n        users = User.query.paginate(\n            page=page, \n            per_page=per_page, \n            error_out=False\n        )\n        \n        return jsonify({\n            'users': [user.to_dict() for user in users.items],\n            'total': users.total,\n            'pages': users.pages,\n            'current_page': page\n        }), 200\n        \n    except Exception as e:\n        return jsonify({'error': 'Failed to fetch users'}), 500\n\n@app.route('/users/<int:user_id>', methods=['GET'])\ndef get_user(user_id):\n    \"\"\"Get a specific user by ID.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        return jsonify(user.to_dict()), 200\n        \n    except Exception as e:\n        return jsonify({'error': 'User not found'}), 404\n\n@app.route('/users', methods=['POST'])\ndef create_user():\n    \"\"\"Create a new user.\"\"\"\n    try:\n        data = request.get_json()\n        \n        if not data:\n            return jsonify({'error': 'No data provided'}), 400\n        \n        # Validate required fields\n        required_fields = ['name', 'email']\n        for field in required_fields:\n            if field not in data:\n                return jsonify({'error': f'{field} is required'}), 400\n        \n        # Check if email already exists\n        if User.query.filter_by(email=data['email']).first():\n            return jsonify({'error': 'Email already exists'}), 409\n        \n        # Create new user\n        user = User(\n            name=data['name'],\n            email=data['email'],\n            phone=data.get('phone'),\n            address=data.get('address')\n        )\n        \n        db.session.add(user)\n        db.session.commit()\n        \n        return jsonify(user.to_dict()), 201\n        \n    except BadRequest:\n        return jsonify({'error': 'Invalid JSON data'}), 400\n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to create user'}), 500\n\n@app.route('/users/<int:user_id>', methods=['PUT'])\ndef update_user(user_id):\n    \"\"\"Update an existing user.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        data = request.get_json()\n        \n        if not data:\n            return jsonify({'error': 'No data provided'}), 400\n        \n        # Update fields\n        if 'name' in data:\n            user.name = data['name']\n        if 'email' in data:\n            # Check if new email already exists\n            existing_user = User.query.filter_by(email=data['email']).first()\n            if existing_user and existing_user.id != user_id:\n                return jsonify({'error': 'Email already exists'}), 409\n            user.email = data['email']\n        if 'phone' in data:\n            user.phone = data['phone']\n        if 'address' in data:\n            user.address = data['address']\n        \n        db.session.commit()\n        \n        return jsonify(user.to_dict()), 200\n        \n    except BadRequest:\n        return jsonify({'error': 'Invalid JSON data'}), 400\n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to update user'}), 500\n\n@app.route('/users/<int:user_id>', methods=['DELETE'])\ndef delete_user(user_id):\n    \"\"\"Delete a user.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        \n        db.session.delete(user)\n        db.session.commit()\n        \n        return jsonify({'message': 'User deleted successfully'}), 200\n        \n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to delete user'}), 500\n\n# Error handlers\n@app.errorhandler(404)\ndef not_found(error):\n    return jsonify({'error': 'Resource not found'}), 404\n\n@app.errorhandler(400)\ndef bad_request(error):\n    return jsonify({'error': 'Bad request'}), 400\n\n@app.errorhandler(500)\ndef internal_error(error):\n    return jsonify({'error': 'Internal server error'}), 500\n```\n\n## Route Patterns Supported\n\n### Basic Routes\n```python\n@app.route('/')\n@app.route('/users')\n@app.route('/users/<int:user_id>')\n```\n\n### HTTP Methods\n```python\n@app.route('/users', methods=['GET', 'POST'])\n@app.route('/users/<int:id>', methods=['GET', 'PUT', 'DELETE'])\n```\n\n### URL Parameters\n```python\n@app.route('/users/<int:user_id>')\n@app.route('/posts/<string:slug>')\n@app.route('/files/<path:filename>')\n```\n\n## Best Practices Included\n\n- **Input validation** for all user data\n- **Proper HTTP status codes** (200, 201, 400, 404, 500)\n- **JSON responses** with consistent structure\n- **Error handling** with try/catch blocks\n- **Database rollback** on errors\n- **RESTful conventions** for URL design\n- **Documentation strings** for each route\n- **Request data validation** before processing\n\n## Common Response Patterns\n\n```python\n# Success with data\nreturn jsonify({'data': result}), 200\n\n# Created resource\nreturn jsonify({'data': new_resource, 'id': new_id}), 201\n\n# Validation error\nreturn jsonify({'error': 'Field is required'}), 400\n\n# Not found\nreturn jsonify({'error': 'Resource not found'}), 404\n\n# Server error\nreturn jsonify({'error': 'Internal server error'}), 500\n```"
              },
              {
                "name": "/testing",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/testing.md",
                "frontmatter": null,
                "content": "# Flask Testing Suite\n\nComprehensive testing setup for Flask applications with pytest.\n\n## Usage\n\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=app --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n```\n\n## Test Configuration\n\n```python\n# pytest.ini\n[tool:pytest]\ntestpaths = tests\npython_files = test_*.py\npython_classes = Test*\npython_functions = test_*\naddopts = \n    --cov=app\n    --cov-report=term-missing\n    --cov-report=html:htmlcov\n    --strict-markers\n    --disable-warnings\nmarkers =\n    unit: Unit tests\n    integration: Integration tests\n    slow: Slow running tests\n    auth: Authentication tests\n```\n\n## Test Fixtures\n\n```python\n# tests/conftest.py\nimport pytest\nimport tempfile\nimport os\nfrom app import create_app\nfrom app.extensions import db\nfrom app.models import User, Post, Category\nfrom flask_login import login_user\n\n@pytest.fixture(scope='session')\ndef app():\n    \"\"\"Create test application.\"\"\"\n    # Create temporary database\n    db_fd, db_path = tempfile.mkstemp()\n    \n    app = create_app({\n        'TESTING': True,\n        'SQLALCHEMY_DATABASE_URI': f'sqlite:///{db_path}',\n        'WTF_CSRF_ENABLED': False,\n        'SECRET_KEY': 'test-secret-key'\n    })\n    \n    with app.app_context():\n        db.create_all()\n        yield app\n        \n    # Cleanup\n    os.close(db_fd)\n    os.unlink(db_path)\n\n@pytest.fixture\ndef client(app):\n    \"\"\"Create test client.\"\"\"\n    return app.test_client()\n\n@pytest.fixture\ndef runner(app):\n    \"\"\"Create test CLI runner.\"\"\"\n    return app.test_cli_runner()\n\n@pytest.fixture\ndef db_session(app):\n    \"\"\"Create database session for testing.\"\"\"\n    with app.app_context():\n        connection = db.engine.connect()\n        transaction = connection.begin()\n        \n        # Configure session to use the connection\n        db.session.configure(bind=connection)\n        \n        yield db.session\n        \n        # Rollback transaction\n        transaction.rollback()\n        connection.close()\n        db.session.remove()\n\n@pytest.fixture\ndef user(db_session):\n    \"\"\"Create test user.\"\"\"\n    user = User(\n        username='testuser',\n        email='test@example.com',\n        first_name='Test',\n        last_name='User'\n    )\n    user.set_password('testpass123')\n    user.save()\n    return user\n\n@pytest.fixture\ndef admin_user(db_session):\n    \"\"\"Create admin user.\"\"\"\n    admin = User(\n        username='admin',\n        email='admin@example.com',\n        first_name='Admin',\n        last_name='User',\n        is_admin=True\n    )\n    admin.set_password('adminpass123')\n    admin.save()\n    return admin\n\n@pytest.fixture\ndef category(db_session):\n    \"\"\"Create test category.\"\"\"\n    category = Category(\n        name='Test Category',\n        description='A test category'\n    )\n    category.save()\n    return category\n\n@pytest.fixture\ndef post(db_session, user, category):\n    \"\"\"Create test post.\"\"\"\n    post = Post(\n        title='Test Post',\n        content='This is a test post content.',\n        slug='test-post',\n        status='published',\n        user_id=user.id,\n        category_id=category.id\n    )\n    post.save()\n    return post\n\n@pytest.fixture\ndef auth_headers(user):\n    \"\"\"Create authentication headers.\"\"\"\n    # For API testing\n    token = user.generate_auth_token()\n    return {'Authorization': f'Bearer {token}'}\n```\n\n## Model Testing\n\n```python\n# tests/test_models.py\nimport pytest\nfrom datetime import datetime\nfrom app.models import User, Post, Category\nfrom werkzeug.security import check_password_hash\n\nclass TestUser:\n    \"\"\"Test User model.\"\"\"\n    \n    def test_user_creation(self, db_session):\n        \"\"\"Test user creation.\"\"\"\n        user = User(\n            username='newuser',\n            email='new@example.com',\n            first_name='New',\n            last_name='User'\n        )\n        user.set_password('password123')\n        user.save()\n        \n        assert user.id is not None\n        assert user.username == 'newuser'\n        assert user.email == 'new@example.com'\n        assert user.full_name == 'New User'\n        assert user.is_active is True\n        assert user.is_admin is False\n        assert user.created_at is not None\n    \n    def test_password_hashing(self, user):\n        \"\"\"Test password hashing.\"\"\"\n        user.set_password('newpassword')\n        assert user.password_hash != 'newpassword'\n        assert check_password_hash(user.password_hash, 'newpassword')\n        assert user.check_password('newpassword')\n        assert not user.check_password('wrongpassword')\n    \n    def test_user_repr(self, user):\n        \"\"\"Test user string representation.\"\"\"\n        assert repr(user) == '<User testuser>'\n    \n    def test_user_to_dict(self, user):\n        \"\"\"Test user dictionary conversion.\"\"\"\n        user_dict = user.to_dict()\n        assert 'username' in user_dict\n        assert 'email' in user_dict\n        assert 'password_hash' not in user_dict  # Should be excluded\n    \n    def test_user_relationships(self, user, post):\n        \"\"\"Test user relationships.\"\"\"\n        assert post in user.posts\n        assert user.posts.count() == 1\n\nclass TestPost:\n    \"\"\"Test Post model.\"\"\"\n    \n    def test_post_creation(self, db_session, user, category):\n        \"\"\"Test post creation.\"\"\"\n        post = Post(\n            title='New Post',\n            content='New post content',\n            slug='new-post',\n            status='draft',\n            user_id=user.id,\n            category_id=category.id\n        )\n        post.save()\n        \n        assert post.id is not None\n        assert post.title == 'New Post'\n        assert post.author == user\n        assert post.category == category\n        assert not post.is_published\n    \n    def test_published_status(self, post):\n        \"\"\"Test post published status.\"\"\"\n        assert post.is_published  # Published with published_at\n        \n        post.status = 'draft'\n        assert not post.is_published\n```\n\n## View Testing\n\n```python\n# tests/test_views.py\nimport pytest\nfrom flask import url_for\nfrom app.models import User\n\nclass TestMainViews:\n    \"\"\"Test main application views.\"\"\"\n    \n    def test_home_page(self, client):\n        \"\"\"Test home page.\"\"\"\n        response = client.get('/')\n        assert response.status_code == 200\n        assert b'Welcome' in response.data\n    \n    def test_about_page(self, client):\n        \"\"\"Test about page.\"\"\"\n        response = client.get('/about')\n        assert response.status_code == 200\n\nclass TestUserViews:\n    \"\"\"Test user-related views.\"\"\"\n    \n    def test_user_list(self, client, user):\n        \"\"\"Test user list page.\"\"\"\n        response = client.get('/users/')\n        assert response.status_code == 200\n        assert user.username.encode() in response.data\n    \n    def test_user_detail(self, client, user):\n        \"\"\"Test user detail page.\"\"\"\n        response = client.get(f'/users/{user.id}')\n        assert response.status_code == 200\n        assert user.username.encode() in response.data\n    \n    def test_user_create_get(self, client):\n        \"\"\"Test user creation form.\"\"\"\n        response = client.get('/users/create')\n        assert response.status_code == 200\n        assert b'Create User' in response.data\n    \n    def test_user_create_post(self, client, db_session):\n        \"\"\"Test user creation submission.\"\"\"\n        data = {\n            'username': 'newuser',\n            'email': 'new@example.com',\n            'first_name': 'New',\n            'last_name': 'User',\n            'password': 'password123',\n            'confirm_password': 'password123'\n        }\n        response = client.post('/users/create', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Check user was created\n        user = User.query.filter_by(username='newuser').first()\n        assert user is not None\n        assert user.email == 'new@example.com'\n    \n    def test_user_edit(self, client, user):\n        \"\"\"Test user editing.\"\"\"\n        data = {\n            'username': user.username,\n            'email': 'updated@example.com',\n            'first_name': 'Updated',\n            'last_name': 'User'\n        }\n        response = client.post(f'/users/{user.id}/edit', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Refresh user from database\n        db_session.refresh(user)\n        assert user.email == 'updated@example.com'\n        assert user.first_name == 'Updated'\n```\n\n## Authentication Testing\n\n```python\n# tests/test_auth.py\nimport pytest\nfrom flask import url_for\nfrom app.models import User\n\nclass TestAuthentication:\n    \"\"\"Test authentication functionality.\"\"\"\n    \n    def test_login_page(self, client):\n        \"\"\"Test login page access.\"\"\"\n        response = client.get('/auth/login')\n        assert response.status_code == 200\n        assert b'Login' in response.data\n    \n    def test_valid_login(self, client, user):\n        \"\"\"Test valid user login.\"\"\"\n        data = {\n            'username': user.username,\n            'password': 'testpass123'\n        }\n        response = client.post('/auth/login', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        assert b'Welcome' in response.data\n    \n    def test_invalid_login(self, client, user):\n        \"\"\"Test invalid login credentials.\"\"\"\n        data = {\n            'username': user.username,\n            'password': 'wrongpassword'\n        }\n        response = client.post('/auth/login', data=data)\n        assert response.status_code == 200\n        assert b'Invalid' in response.data\n    \n    def test_logout(self, client, user):\n        \"\"\"Test user logout.\"\"\"\n        # Login first\n        with client.session_transaction() as sess:\n            sess['_user_id'] = str(user.id)\n        \n        response = client.get('/auth/logout', follow_redirects=True)\n        assert response.status_code == 200\n    \n    def test_register_page(self, client):\n        \"\"\"Test registration page.\"\"\"\n        response = client.get('/auth/register')\n        assert response.status_code == 200\n        assert b'Register' in response.data\n    \n    def test_valid_registration(self, client, db_session):\n        \"\"\"Test valid user registration.\"\"\"\n        data = {\n            'username': 'newuser',\n            'email': 'new@example.com',\n            'first_name': 'New',\n            'last_name': 'User',\n            'password': 'password123',\n            'confirm_password': 'password123'\n        }\n        response = client.post('/auth/register', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Check user was created\n        user = User.query.filter_by(username='newuser').first()\n        assert user is not None\n```\n\n## API Testing\n\n```python\n# tests/test_api.py\nimport pytest\nimport json\nfrom flask import url_for\n\nclass TestUserAPI:\n    \"\"\"Test User API endpoints.\"\"\"\n    \n    def test_get_users(self, client, user):\n        \"\"\"Test GET /api/users.\"\"\"\n        response = client.get('/api/users')\n        assert response.status_code == 200\n        \n        data = json.loads(response.data)\n        assert 'users' in data\n        assert len(data['users']) >= 1\n    \n    def test_get_user(self, client, user):\n        \"\"\"Test GET /api/users/<id>.\"\"\"\n        response = client.get(f'/api/users/{user.id}')\n        assert response.status_code == 200\n        \n        data = json.loads(response.data)\n        assert data['username'] == user.username\n        assert data['email'] == user.email\n    \n    def test_create_user(self, client, db_session):\n        \"\"\"Test POST /api/users.\"\"\"\n        user_data = {\n            'username': 'apiuser',\n            'email': 'api@example.com',\n            'first_name': 'API',\n            'last_name': 'User',\n            'password': 'password123'\n        }\n        \n        response = client.post(\n            '/api/users',\n            data=json.dumps(user_data),\n            content_type='application/json'\n        )\n        \n        assert response.status_code == 201\n        data = json.loads(response.data)\n        assert data['username'] == 'apiuser'\n    \n    def test_update_user(self, client, user, auth_headers):\n        \"\"\"Test PUT /api/users/<id>.\"\"\"\n        update_data = {\n            'email': 'updated@example.com',\n            'first_name': 'Updated'\n        }\n        \n        response = client.put(\n            f'/api/users/{user.id}',\n            data=json.dumps(update_data),\n            content_type='application/json',\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = json.loads(response.data)\n        assert data['email'] == 'updated@example.com'\n    \n    def test_delete_user(self, client, user, auth_headers):\n        \"\"\"Test DELETE /api/users/<id>.\"\"\"\n        response = client.delete(\n            f'/api/users/{user.id}',\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 204\n```\n\n## Test Utilities\n\n```python\n# tests/utils.py\nimport json\nfrom flask import url_for\n\ndef login_user(client, username, password):\n    \"\"\"Helper to login user in tests.\"\"\"\n    return client.post('/auth/login', data={\n        'username': username,\n        'password': password\n    }, follow_redirects=True)\n\ndef logout_user(client):\n    \"\"\"Helper to logout user in tests.\"\"\"\n    return client.get('/auth/logout', follow_redirects=True)\n\ndef assert_json_response(response, expected_status=200):\n    \"\"\"Assert JSON response format and status.\"\"\"\n    assert response.status_code == expected_status\n    assert response.content_type == 'application/json'\n    return json.loads(response.data)\n\ndef create_test_data(db_session):\n    \"\"\"Create common test data.\"\"\"\n    from app.models import User, Category, Post\n    \n    # Create test users\n    users = []\n    for i in range(3):\n        user = User(\n            username=f'user{i}',\n            email=f'user{i}@example.com',\n            first_name=f'User{i}',\n            last_name='Test'\n        )\n        user.set_password('password123')\n        user.save()\n        users.append(user)\n    \n    return {'users': users}\n```\n\n## Performance Testing\n\n```python\n# tests/test_performance.py\nimport pytest\nimport time\nfrom app.models import User\n\n@pytest.mark.slow\nclass TestPerformance:\n    \"\"\"Test application performance.\"\"\"\n    \n    def test_user_query_performance(self, db_session):\n        \"\"\"Test user query performance.\"\"\"\n        # Create multiple users\n        users = []\n        for i in range(100):\n            user = User(\n                username=f'perfuser{i}',\n                email=f'perf{i}@example.com',\n                first_name=f'Perf{i}',\n                last_name='User'\n            )\n            users.append(user)\n        \n        db_session.bulk_save_objects(users)\n        db_session.commit()\n        \n        # Test query performance\n        start_time = time.time()\n        result = User.query.all()\n        end_time = time.time()\n        \n        assert len(result) >= 100\n        assert (end_time - start_time) < 0.1  # Should complete in under 100ms\n    \n    def test_endpoint_response_time(self, client):\n        \"\"\"Test endpoint response time.\"\"\"\n        start_time = time.time()\n        response = client.get('/')\n        end_time = time.time()\n        \n        assert response.status_code == 200\n        assert (end_time - start_time) < 0.5  # Should respond in under 500ms\n```\n"
              },
              {
                "name": "/model",
                "description": null,
                "path": "cli-tool/templates/ruby/.claude/commands/model.md",
                "frontmatter": null,
                "content": "# Ruby Model Generator\n\nCreate Ruby classes and models with proper structure and best practices.\n\n## Purpose\n\nThis command helps you quickly create Ruby model classes with proper initialization, attributes, and methods following Ruby conventions.\n\n## Usage\n\n```\n/model\n```\n\n## What this command does\n\n1. **Creates model classes** with proper initialization methods\n2. **Adds attribute accessors** and instance variables\n3. **Includes validation methods** and error handling\n4. **Follows Ruby conventions** and best practices\n5. **Generates related test files** when applicable\n\n## Example Output\n\n```ruby\n# app/models/user.rb\nclass User\n  attr_accessor :name, :email, :age\n  attr_reader :id, :created_at\n  \n  def initialize(attributes = {})\n    @id = attributes[:id] || generate_id\n    @name = attributes[:name]\n    @email = attributes[:email]\n    @age = attributes[:age]\n    @created_at = Time.now\n    @errors = []\n  end\n  \n  def valid?\n    @errors.clear\n    validate_presence_of_name\n    validate_email_format\n    validate_age_range\n    @errors.empty?\n  end\n  \n  def errors\n    @errors.dup\n  end\n  \n  def save\n    return false unless valid?\n    \n    # Persist logic here\n    true\n  end\n  \n  def to_h\n    {\n      id: @id,\n      name: @name,\n      email: @email,\n      age: @age,\n      created_at: @created_at\n    }\n  end\n  \n  def to_json(*args)\n    JSON.generate(to_h, *args)\n  end\n  \n  private\n  \n  def validate_presence_of_name\n    if @name.nil? || @name.strip.empty?\n      @errors << \"Name cannot be blank\"\n    end\n  end\n  \n  def validate_email_format\n    if @email && !@email.match?(/\\A[\\w+\\-.]+@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)*\\.[a-z]+\\z/i)\n      @errors << \"Email format is invalid\"\n    end\n  end\n  \n  def validate_age_range\n    if @age && (@age < 0 || @age > 150)\n      @errors << \"Age must be between 0 and 150\"\n    end\n  end\n  \n  def generate_id\n    SecureRandom.uuid\n  end\nend\n\n# Example with inheritance\nclass AdminUser < User\n  attr_accessor :permissions\n  \n  def initialize(attributes = {})\n    super\n    @permissions = attributes[:permissions] || []\n  end\n  \n  def admin?\n    true\n  end\n  \n  def has_permission?(permission)\n    @permissions.include?(permission)\n  end\n  \n  private\n  \n  def validate_permissions\n    unless @permissions.is_a?(Array)\n      @errors << \"Permissions must be an array\"\n    end\n  end\nend\n```\n\n## Advanced Features\n\n### Module Inclusion\n```ruby\nmodule Timestamps\n  def self.included(base)\n    base.extend(ClassMethods)\n  end\n  \n  module ClassMethods\n    def with_timestamps\n      attr_reader :created_at, :updated_at\n      \n      define_method :initialize do |*args|\n        super(*args)\n        @created_at ||= Time.now\n        @updated_at = @created_at\n      end\n      \n      define_method :touch do\n        @updated_at = Time.now\n      end\n    end\n  end\nend\n\nclass Post\n  include Timestamps\n  with_timestamps\n  \n  attr_accessor :title, :content\n  \n  def initialize(attributes = {})\n    @title = attributes[:title]\n    @content = attributes[:content]\n    super\n  end\nend\n```\n\n### Class Methods and Scopes\n```ruby\nclass User\n  @@users = []\n  \n  def self.all\n    @@users.dup\n  end\n  \n  def self.find_by_email(email)\n    @@users.find { |user| user.email == email }\n  end\n  \n  def self.where(conditions = {})\n    @@users.select do |user|\n      conditions.all? { |key, value| user.send(key) == value }\n    end\n  end\n  \n  def self.create(attributes = {})\n    user = new(attributes)\n    if user.save\n      @@users << user\n      user\n    else\n      nil\n    end\n  end\n  \n  def save\n    return false unless valid?\n    \n    unless @@users.include?(self)\n      @@users << self\n    end\n    true\n  end\n  \n  def destroy\n    @@users.delete(self)\n  end\nend\n```\n\n## Testing Template\n\n```ruby\n# spec/models/user_spec.rb\nrequire 'spec_helper'\n\nRSpec.describe User do\n  let(:valid_attributes) do\n    {\n      name: 'John Doe',\n      email: 'john@example.com',\n      age: 30\n    }\n  end\n  \n  describe '#initialize' do\n    it 'sets attributes correctly' do\n      user = User.new(valid_attributes)\n      \n      expect(user.name).to eq('John Doe')\n      expect(user.email).to eq('john@example.com')\n      expect(user.age).to eq(30)\n      expect(user.id).not_to be_nil\n      expect(user.created_at).to be_a(Time)\n    end\n  end\n  \n  describe '#valid?' do\n    it 'returns true for valid attributes' do\n      user = User.new(valid_attributes)\n      expect(user).to be_valid\n    end\n    \n    it 'returns false when name is blank' do\n      user = User.new(valid_attributes.merge(name: ''))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Name cannot be blank')\n    end\n    \n    it 'returns false for invalid email format' do\n      user = User.new(valid_attributes.merge(email: 'invalid-email'))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Email format is invalid')\n    end\n    \n    it 'returns false for invalid age' do\n      user = User.new(valid_attributes.merge(age: -5))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Age must be between 0 and 150')\n    end\n  end\n  \n  describe '#save' do\n    it 'saves valid user' do\n      user = User.new(valid_attributes)\n      expect(user.save).to be true\n    end\n    \n    it 'does not save invalid user' do\n      user = User.new(name: '')\n      expect(user.save).to be false\n    end\n  end\n  \n  describe '#to_h' do\n    it 'returns hash representation' do\n      user = User.new(valid_attributes)\n      hash = user.to_h\n      \n      expect(hash).to include(\n        name: 'John Doe',\n        email: 'john@example.com',\n        age: 30\n      )\n      expect(hash[:id]).not_to be_nil\n      expect(hash[:created_at]).to be_a(Time)\n    end\n  end\nend\n```\n\n## Best Practices Included\n\n- **Proper initialization** with hash parameters\n- **Attribute accessors** for public attributes\n- **Validation methods** with error collection\n- **JSON serialization** support\n- **Class and instance methods** separation\n- **Error handling** and reporting\n- **Ruby naming conventions** (snake_case)\n- **Encapsulation** with private methods\n\n## Common Patterns\n\n### Value Objects\n```ruby\nclass Money\n  include Comparable\n  \n  attr_reader :amount, :currency\n  \n  def initialize(amount, currency = 'USD')\n    @amount = amount.to_f\n    @currency = currency.to_s.upcase\n  end\n  \n  def +(other)\n    raise ArgumentError, \"Currency mismatch\" unless currency == other.currency\n    Money.new(amount + other.amount, currency)\n  end\n  \n  def <=>(other)\n    raise ArgumentError, \"Currency mismatch\" unless currency == other.currency\n    amount <=> other.amount\n  end\n  \n  def to_s\n    \"#{currency} #{format('%.2f', amount)}\"\n  end\nend\n```\n\n### Service Objects\n```ruby\nclass UserRegistrationService\n  attr_reader :user, :errors\n  \n  def initialize(user_params)\n    @user_params = user_params\n    @errors = []\n  end\n  \n  def call\n    @user = User.new(@user_params)\n    \n    if @user.valid?\n      @user.save\n      send_welcome_email\n      true\n    else\n      @errors = @user.errors\n      false\n    end\n  end\n  \n  private\n  \n  def send_welcome_email\n    # Email sending logic\n  end\nend\n```"
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/ruby/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Ruby Test Generator\n\nCreate comprehensive test files with RSpec or Minitest following Ruby testing best practices.\n\n## Purpose\n\nThis command helps you quickly create test files with proper structure, examples, and testing patterns for Ruby applications.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Creates test files** with proper structure for RSpec or Minitest\n2. **Includes test examples** for common scenarios\n3. **Sets up test helpers** and support files\n4. **Follows testing conventions** and best practices\n5. **Generates factory/fixture data** when needed\n\n## RSpec Example Output\n\n```ruby\n# spec/models/user_spec.rb\nrequire 'spec_helper'\n\nRSpec.describe User do\n  let(:user) { build(:user) }\n  let(:valid_attributes) do\n    {\n      name: 'John Doe',\n      email: 'john@example.com',\n      age: 30\n    }\n  end\n  \n  describe 'validations' do\n    it { should validate_presence_of(:name) }\n    it { should validate_presence_of(:email) }\n    it { should validate_uniqueness_of(:email) }\n    it { should validate_numericality_of(:age).is_greater_than(0) }\n    \n    context 'when email format is invalid' do\n      let(:user) { build(:user, email: 'invalid-email') }\n      \n      it 'is not valid' do\n        expect(user).not_to be_valid\n        expect(user.errors[:email]).to include('is invalid')\n      end\n    end\n  end\n  \n  describe 'associations' do\n    it { should have_many(:posts) }\n    it { should have_many(:comments) }\n  end\n  \n  describe 'callbacks' do\n    describe 'before_save' do\n      it 'normalizes email' do\n        user = create(:user, email: 'JOHN@EXAMPLE.COM')\n        expect(user.email).to eq('john@example.com')\n      end\n    end\n  end\n  \n  describe 'instance methods' do\n    describe '#full_name' do\n      let(:user) { build(:user, first_name: 'John', last_name: 'Doe') }\n      \n      it 'returns the full name' do\n        expect(user.full_name).to eq('John Doe')\n      end\n      \n      context 'when last_name is missing' do\n        let(:user) { build(:user, first_name: 'John', last_name: nil) }\n        \n        it 'returns only first_name' do\n          expect(user.full_name).to eq('John')\n        end\n      end\n    end\n    \n    describe '#active?' do\n      context 'when user is active' do\n        let(:user) { build(:user, status: 'active') }\n        \n        it 'returns true' do\n          expect(user.active?).to be true\n        end\n      end\n      \n      context 'when user is inactive' do\n        let(:user) { build(:user, status: 'inactive') }\n        \n        it 'returns false' do\n          expect(user.active?).to be false\n        end\n      end\n    end\n  end\n  \n  describe 'class methods' do\n    describe '.active' do\n      let!(:active_user) { create(:user, status: 'active') }\n      let!(:inactive_user) { create(:user, status: 'inactive') }\n      \n      it 'returns only active users' do\n        expect(User.active).to include(active_user)\n        expect(User.active).not_to include(inactive_user)\n      end\n    end\n    \n    describe '.find_by_email' do\n      let!(:user) { create(:user, email: 'test@example.com') }\n      \n      it 'finds user by email' do\n        found_user = User.find_by_email('test@example.com')\n        expect(found_user).to eq(user)\n      end\n      \n      it 'returns nil when user not found' do\n        found_user = User.find_by_email('nonexistent@example.com')\n        expect(found_user).to be_nil\n      end\n    end\n  end\n  \n  describe 'scopes' do\n    describe '.recent' do\n      let!(:old_user) { create(:user, created_at: 1.year.ago) }\n      let!(:recent_user) { create(:user, created_at: 1.day.ago) }\n      \n      it 'returns users created in the last 30 days' do\n        expect(User.recent).to include(recent_user)\n        expect(User.recent).not_to include(old_user)\n      end\n    end\n  end\nend\n```\n\n## Minitest Example Output\n\n```ruby\n# test/models/user_test.rb\nrequire 'test_helper'\n\nclass UserTest < ActiveSupport::TestCase\n  def setup\n    @user = users(:john)\n    @valid_attributes = {\n      name: 'Jane Doe',\n      email: 'jane@example.com',\n      age: 25\n    }\n  end\n  \n  # Validation tests\n  test 'should not save user without name' do\n    user = User.new(@valid_attributes.except(:name))\n    assert_not user.save\n    assert_includes user.errors[:name], \"can't be blank\"\n  end\n  \n  test 'should not save user without email' do\n    user = User.new(@valid_attributes.except(:email))\n    assert_not user.save\n    assert_includes user.errors[:email], \"can't be blank\"\n  end\n  \n  test 'should not save user with invalid email' do\n    user = User.new(@valid_attributes.merge(email: 'invalid-email'))\n    assert_not user.save\n    assert_includes user.errors[:email], 'is invalid'\n  end\n  \n  test 'should not save user with duplicate email' do\n    user1 = User.create!(@valid_attributes)\n    user2 = User.new(@valid_attributes)\n    assert_not user2.save\n    assert_includes user2.errors[:email], 'has already been taken'\n  end\n  \n  test 'should save user with valid attributes' do\n    user = User.new(@valid_attributes)\n    assert user.save\n  end\n  \n  # Association tests\n  test 'should have many posts' do\n    assert_respond_to @user, :posts\n    assert_kind_of ActiveRecord::Associations::CollectionProxy, @user.posts\n  end\n  \n  test 'should have many comments' do\n    assert_respond_to @user, :comments\n  end\n  \n  # Instance method tests\n  test 'full_name should return first and last name' do\n    @user.first_name = 'John'\n    @user.last_name = 'Doe'\n    assert_equal 'John Doe', @user.full_name\n  end\n  \n  test 'full_name should return first name only when last name is missing' do\n    @user.first_name = 'John'\n    @user.last_name = nil\n    assert_equal 'John', @user.full_name\n  end\n  \n  test 'active? should return true for active users' do\n    @user.status = 'active'\n    assert @user.active?\n  end\n  \n  test 'active? should return false for inactive users' do\n    @user.status = 'inactive'\n    assert_not @user.active?\n  end\n  \n  # Class method tests\n  test 'active scope should return only active users' do\n    active_user = User.create!(@valid_attributes.merge(status: 'active'))\n    inactive_user = User.create!(@valid_attributes.merge(\n      email: 'inactive@example.com',\n      status: 'inactive'\n    ))\n    \n    active_users = User.active\n    assert_includes active_users, active_user\n    assert_not_includes active_users, inactive_user\n  end\n  \n  test 'find_by_email should find user by email' do\n    user = User.create!(@valid_attributes)\n    found_user = User.find_by_email(@valid_attributes[:email])\n    assert_equal user, found_user\n  end\n  \n  test 'find_by_email should return nil when user not found' do\n    found_user = User.find_by_email('nonexistent@example.com')\n    assert_nil found_user\n  end\nend\n```\n\n## Controller Test Example\n\n```ruby\n# spec/controllers/users_controller_spec.rb\nrequire 'rails_helper'\n\nRSpec.describe UsersController, type: :controller do\n  let(:user) { create(:user) }\n  let(:valid_attributes) { attributes_for(:user) }\n  let(:invalid_attributes) { { name: '', email: 'invalid' } }\n  \n  describe 'GET #index' do\n    it 'returns a success response' do\n      get :index\n      expect(response).to be_successful\n    end\n    \n    it 'assigns @users' do\n      user1 = create(:user)\n      user2 = create(:user)\n      get :index\n      expect(assigns(:users)).to match_array([user1, user2])\n    end\n  end\n  \n  describe 'GET #show' do\n    it 'returns a success response' do\n      get :show, params: { id: user.to_param }\n      expect(response).to be_successful\n    end\n    \n    it 'assigns the requested user' do\n      get :show, params: { id: user.to_param }\n      expect(assigns(:user)).to eq(user)\n    end\n  end\n  \n  describe 'POST #create' do\n    context 'with valid parameters' do\n      it 'creates a new User' do\n        expect {\n          post :create, params: { user: valid_attributes }\n        }.to change(User, :count).by(1)\n      end\n      \n      it 'redirects to the created user' do\n        post :create, params: { user: valid_attributes }\n        expect(response).to redirect_to(User.last)\n      end\n    end\n    \n    context 'with invalid parameters' do\n      it 'does not create a new User' do\n        expect {\n          post :create, params: { user: invalid_attributes }\n        }.to change(User, :count).by(0)\n      end\n      \n      it 'renders the new template' do\n        post :create, params: { user: invalid_attributes }\n        expect(response).to render_template(:new)\n      end\n    end\n  end\n  \n  describe 'PUT #update' do\n    context 'with valid parameters' do\n      let(:new_attributes) { { name: 'Updated Name' } }\n      \n      it 'updates the requested user' do\n        put :update, params: { id: user.to_param, user: new_attributes }\n        user.reload\n        expect(user.name).to eq('Updated Name')\n      end\n      \n      it 'redirects to the user' do\n        put :update, params: { id: user.to_param, user: new_attributes }\n        expect(response).to redirect_to(user)\n      end\n    end\n    \n    context 'with invalid parameters' do\n      it 'renders the edit template' do\n        put :update, params: { id: user.to_param, user: invalid_attributes }\n        expect(response).to render_template(:edit)\n      end\n    end\n  end\n  \n  describe 'DELETE #destroy' do\n    it 'destroys the requested user' do\n      user # Create user\n      expect {\n        delete :destroy, params: { id: user.to_param }\n      }.to change(User, :count).by(-1)\n    end\n    \n    it 'redirects to the users list' do\n      delete :destroy, params: { id: user.to_param }\n      expect(response).to redirect_to(users_url)\n    end\n  end\nend\n```\n\n## Factory Configuration\n\n```ruby\n# spec/factories/users.rb\nFactoryBot.define do\n  factory :user do\n    sequence(:name) { |n| \"User #{n}\" }\n    sequence(:email) { |n| \"user#{n}@example.com\" }\n    age { rand(18..80) }\n    status { 'active' }\n    \n    trait :inactive do\n      status { 'inactive' }\n    end\n    \n    trait :admin do\n      admin { true }\n    end\n    \n    trait :with_posts do\n      after(:create) do |user|\n        create_list(:post, 3, user: user)\n      end\n    end\n    \n    factory :admin_user, traits: [:admin]\n    factory :inactive_user, traits: [:inactive]\n  end\nend\n```\n\n## Test Helper Configuration\n\n```ruby\n# spec/spec_helper.rb\nrequire 'simplecov'\nSimpleCov.start 'rails' do\n  add_filter '/spec/'\n  add_filter '/config/'\n  add_filter '/vendor/'\n  \n  add_group 'Controllers', 'app/controllers'\n  add_group 'Models', 'app/models'\n  add_group 'Services', 'app/services'\n  add_group 'Libraries', 'lib'\nend\n\nRSpec.configure do |config|\n  config.expect_with :rspec do |expectations|\n    expectations.include_chain_clauses_in_custom_matcher_descriptions = true\n  end\n  \n  config.mock_with :rspec do |mocks|\n    mocks.verify_partial_doubles = true\n  end\n  \n  config.shared_context_metadata_behavior = :apply_to_host_groups\n  config.filter_run_when_matching :focus\n  config.example_status_persistence_file_path = 'spec/examples.txt'\n  config.disable_monkey_patching!\n  config.warnings = true\n  \n  if config.files_to_run.one?\n    config.default_formatter = 'doc'\n  end\n  \n  config.profile_examples = 10\n  config.order = :random\n  Kernel.srand config.seed\nend\n```\n\n## Integration Test Example\n\n```ruby\n# spec/requests/api/users_spec.rb\nrequire 'rails_helper'\n\nRSpec.describe 'API::Users', type: :request do\n  let(:user) { create(:user) }\n  let(:valid_headers) {\n    { 'Authorization' => \"Bearer #{user.auth_token}\" }\n  }\n  \n  describe 'GET /api/users' do\n    it 'returns users' do\n      create_list(:user, 3)\n      \n      get '/api/users', headers: valid_headers\n      \n      expect(response).to have_http_status(:ok)\n      expect(JSON.parse(response.body)['users'].size).to eq(3)\n    end\n  end\n  \n  describe 'POST /api/users' do\n    let(:valid_params) do\n      {\n        user: {\n          name: 'New User',\n          email: 'new@example.com'\n        }\n      }\n    end\n    \n    it 'creates a new user' do\n      post '/api/users', params: valid_params, headers: valid_headers\n      \n      expect(response).to have_http_status(:created)\n      expect(JSON.parse(response.body)['user']['name']).to eq('New User')\n    end\n  end\nend\n```\n\n## Best Practices Included\n\n- **Descriptive test names** that explain expected behavior\n- **Proper test organization** with contexts and describes\n- **Factory usage** for test data generation\n- **Mocking and stubbing** for external dependencies\n- **Coverage configuration** with SimpleCov\n- **Test helpers** and shared examples\n- **Request/Integration tests** for API endpoints\n- **Feature tests** for user workflows"
              },
              {
                "name": "/authentication",
                "description": null,
                "path": "cli-tool/templates/ruby/examples/rails-app/.claude/commands/authentication.md",
                "frontmatter": null,
                "content": "# Rails 8 Native Authentication Generator\n\nGenerate Rails 8's built-in authentication system with modern security practices.\n\n## Purpose\n\nThis command helps you implement Rails 8's new native authentication system, eliminating the need for external gems like Devise for basic authentication needs.\n\n## Usage\n\n```\n/authentication\n```\n\n## What this command does\n\n1. **Generates authentication models** with secure password handling\n2. **Creates authentication controllers** for login/logout/signup\n3. **Adds authentication views** with modern styling\n4. **Implements session management** with security best practices\n5. **Sets up authentication helpers** for controllers and views\n\n## Rails 8 Authentication Generator\n\n```bash\n# Generate authentication for User model\nbin/rails generate authentication User\n\n# Or specify custom model name\nbin/rails generate authentication Account\n\n# Generate with custom attributes\nbin/rails generate authentication User first_name:string last_name:string\n```\n\n## Generated User Model\n\n```ruby\n# app/models/user.rb\nclass User < ApplicationRecord\n  has_secure_password\n  \n  validates :email, presence: true, uniqueness: true\n  validates :password, length: { minimum: 8 }, if: -> { new_record? || !password.blank? }\n  \n  normalizes :email, with: ->(email) { email.strip.downcase }\n  \n  before_save :normalize_email\n  \n  private\n  \n  def normalize_email\n    self.email = email.downcase.strip\n  end\nend\n```\n\n## Authentication Controller\n\n```ruby\n# app/controllers/authentication_controller.rb\nclass AuthenticationController < ApplicationController\n  skip_before_action :authenticate_user!, only: [:new, :create]\n  \n  def new\n    # Login page\n  end\n  \n  def create\n    user = User.find_by(email: params[:email])\n    \n    if user&.authenticate(params[:password])\n      login(user)\n      redirect_to root_path, notice: 'Logged in successfully'\n    else\n      flash.now[:alert] = 'Invalid email or password'\n      render :new, status: :unprocessable_entity\n    end\n  end\n  \n  def destroy\n    logout\n    redirect_to root_path, notice: 'Logged out successfully'\n  end\n  \n  private\n  \n  def login(user)\n    session[:user_id] = user.id\n    @current_user = user\n  end\n  \n  def logout\n    session[:user_id] = nil\n    @current_user = nil\n  end\nend\n```\n\n## Registration Controller\n\n```ruby\n# app/controllers/registrations_controller.rb\nclass RegistrationsController < ApplicationController\n  skip_before_action :authenticate_user!\n  \n  def new\n    @user = User.new\n  end\n  \n  def create\n    @user = User.new(user_params)\n    \n    if @user.save\n      login(@user)\n      redirect_to root_path, notice: 'Account created successfully'\n    else\n      render :new, status: :unprocessable_entity\n    end\n  end\n  \n  private\n  \n  def user_params\n    params.require(:user).permit(:email, :password, :password_confirmation, :first_name, :last_name)\n  end\n  \n  def login(user)\n    session[:user_id] = user.id\n    @current_user = user\n  end\nend\n```\n\n## Application Controller Updates\n\n```ruby\n# app/controllers/application_controller.rb\nclass ApplicationController < ActionController::Base\n  protect_from_forgery with: :exception\n  \n  before_action :authenticate_user!\n  \n  private\n  \n  def authenticate_user!\n    redirect_to login_path, alert: 'Please log in to continue' unless current_user\n  end\n  \n  def current_user\n    @current_user ||= User.find(session[:user_id]) if session[:user_id]\n  end\n  helper_method :current_user\n  \n  def logged_in?\n    !!current_user\n  end\n  helper_method :logged_in?\n  \n  def require_login\n    unless logged_in?\n      flash[:alert] = 'You must be logged in to access this page'\n      redirect_to login_path\n    end\n  end\nend\n```\n\n## Authentication Views\n\n### Login Form\n```erb\n<!-- app/views/authentication/new.html.erb -->\n<div class=\"authentication-form\">\n  <h1>Log In</h1>\n  \n  <%= form_with url: login_path, local: true, class: \"auth-form\" do |form| %>\n    <div class=\"form-group\">\n      <%= form.label :email, \"Email\" %>\n      <%= form.email_field :email, required: true, autofocus: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password, \"Password\" %>\n      <%= form.password_field :password, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-actions\">\n      <%= form.submit \"Log In\", class: \"btn btn-primary\" %>\n    </div>\n  <% end %>\n  \n  <div class=\"auth-links\">\n    <%= link_to \"Don't have an account? Sign up\", signup_path %>\n  </div>\n</div>\n```\n\n### Registration Form\n```erb\n<!-- app/views/registrations/new.html.erb -->\n<div class=\"authentication-form\">\n  <h1>Sign Up</h1>\n  \n  <%= form_with model: @user, url: signup_path, local: true, class: \"auth-form\" do |form| %>\n    <% if @user.errors.any? %>\n      <div class=\"error-messages\">\n        <h3><%= pluralize(@user.errors.count, \"error\") %> prohibited this account from being saved:</h3>\n        <ul>\n          <% @user.errors.full_messages.each do |message| %>\n            <li><%= message %></li>\n          <% end %>\n        </ul>\n      </div>\n    <% end %>\n    \n    <div class=\"form-group\">\n      <%= form.label :first_name, \"First Name\" %>\n      <%= form.text_field :first_name, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :last_name, \"Last Name\" %>\n      <%= form.text_field :last_name, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :email, \"Email\" %>\n      <%= form.email_field :email, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password, \"Password\" %>\n      <%= form.password_field :password, required: true, minlength: 8, class: \"form-control\" %>\n      <small class=\"form-text\">Minimum 8 characters</small>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password_confirmation, \"Confirm Password\" %>\n      <%= form.password_field :password_confirmation, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-actions\">\n      <%= form.submit \"Sign Up\", class: \"btn btn-primary\" %>\n    </div>\n  <% end %>\n  \n  <div class=\"auth-links\">\n    <%= link_to \"Already have an account? Log in\", login_path %>\n  </div>\n</div>\n```\n\n## Route Configuration\n\n```ruby\n# config/routes.rb\nRails.application.routes.draw do\n  # Authentication routes\n  get    'login',  to: 'authentication#new'\n  post   'login',  to: 'authentication#create'\n  delete 'logout', to: 'authentication#destroy'\n  \n  # Registration routes\n  get  'signup', to: 'registrations#new'\n  post 'signup', to: 'registrations#create'\n  \n  # User management routes\n  resources :users, except: [:new, :create]\n  \n  # Root route\n  root 'dashboard#index'\nend\n```\n\n## Migration Files\n\n```ruby\n# db/migrate/xxx_create_users.rb\nclass CreateUsers < ActiveRecord::Migration[8.0]\n  def change\n    create_table :users do |t|\n      t.string :email, null: false\n      t.string :password_digest, null: false\n      t.string :first_name\n      t.string :last_name\n      \n      t.timestamps\n    end\n    \n    add_index :users, :email, unique: true\n  end\nend\n```\n\n## Advanced Authentication Features\n\n### Password Reset\n```ruby\n# app/controllers/password_resets_controller.rb\nclass PasswordResetsController < ApplicationController\n  skip_before_action :authenticate_user!\n  \n  def new\n    # Password reset request form\n  end\n  \n  def create\n    @user = User.find_by(email: params[:email])\n    if @user\n      @user.send_password_reset\n      redirect_to root_path, notice: 'Email sent with password reset instructions'\n    else\n      flash.now[:alert] = 'Email address not found'\n      render :new\n    end\n  end\n  \n  def edit\n    @user = User.find_by(password_reset_token: params[:id])\n    if @user.nil? || @user.password_reset_sent_at < 2.hours.ago\n      redirect_to new_password_reset_path, alert: 'Password reset has expired'\n    end\n  end\n  \n  def update\n    @user = User.find_by(password_reset_token: params[:id])\n    if @user && @user.password_reset_sent_at > 2.hours.ago\n      if @user.update(password_params)\n        @user.update_columns(password_reset_token: nil, password_reset_sent_at: nil)\n        redirect_to root_path, notice: 'Password has been reset'\n      else\n        render :edit\n      end\n    else\n      redirect_to new_password_reset_path, alert: 'Password reset has expired'\n    end\n  end\n  \n  private\n  \n  def password_params\n    params.require(:user).permit(:password, :password_confirmation)\n  end\nend\n```\n\n### User Model Extensions\n```ruby\n# app/models/user.rb (extended)\nclass User < ApplicationRecord\n  has_secure_password\n  \n  validates :email, presence: true, uniqueness: true\n  validates :password, length: { minimum: 8 }, if: -> { new_record? || !password.blank? }\n  \n  normalizes :email, with: ->(email) { email.strip.downcase }\n  \n  # Password reset functionality\n  def send_password_reset\n    generate_token(:password_reset_token)\n    self.password_reset_sent_at = Time.zone.now\n    save!\n    UserMailer.password_reset(self).deliver_now\n  end\n  \n  def full_name\n    \"#{first_name} #{last_name}\".strip\n  end\n  \n  def initials\n    \"#{first_name&.first}#{last_name&.first}\".upcase\n  end\n  \n  private\n  \n  def generate_token(column)\n    begin\n      self[column] = SecureRandom.urlsafe_base64\n    end while User.exists?(column => self[column])\n  end\nend\n```\n\n## Session Security Enhancements\n\n```ruby\n# config/application.rb\nconfig.session_store :cookie_store, {\n  key: '_myapp_session',\n  secure: Rails.env.production?,\n  httponly: true,\n  same_site: :lax\n}\n\n# config/environments/production.rb\nconfig.force_ssl = true\nconfig.session_store :cookie_store, {\n  key: '_myapp_session',\n  secure: true,\n  httponly: true,\n  same_site: :strict\n}\n```\n\n## Authentication Helper Methods\n\n```ruby\n# app/helpers/authentication_helper.rb\nmodule AuthenticationHelper\n  def user_avatar(user, size: 40)\n    if user.avatar.present?\n      image_tag user.avatar, alt: user.full_name, class: \"avatar\", size: \"#{size}x#{size}\"\n    else\n      content_tag :div, user.initials, class: \"avatar avatar-initials\", \n                  style: \"width: #{size}px; height: #{size}px; line-height: #{size}px;\"\n    end\n  end\n  \n  def current_user_menu\n    if logged_in?\n      render 'shared/user_menu'\n    else\n      render 'shared/guest_menu'\n    end\n  end\nend\n```\n\n## Testing Authentication\n\n```ruby\n# spec/models/user_spec.rb\nRSpec.describe User, type: :model do\n  describe 'validations' do\n    it { should validate_presence_of(:email) }\n    it { should validate_uniqueness_of(:email) }\n    it { should validate_length_of(:password).is_at_least(8) }\n    it { should have_secure_password }\n  end\n  \n  describe 'email normalization' do\n    it 'normalizes email to lowercase' do\n      user = User.create!(email: 'USER@EXAMPLE.COM', password: 'password123')\n      expect(user.email).to eq('user@example.com')\n    end\n  end\n  \n  describe '#full_name' do\n    it 'returns combined first and last name' do\n      user = User.new(first_name: 'John', last_name: 'Doe')\n      expect(user.full_name).to eq('John Doe')\n    end\n  end\nend\n\n# spec/controllers/authentication_controller_spec.rb\nRSpec.describe AuthenticationController, type: :controller do\n  describe 'POST #create' do\n    let(:user) { create(:user, password: 'password123') }\n    \n    context 'with valid credentials' do\n      it 'logs in the user' do\n        post :create, params: { email: user.email, password: 'password123' }\n        expect(session[:user_id]).to eq(user.id)\n        expect(response).to redirect_to(root_path)\n      end\n    end\n    \n    context 'with invalid credentials' do\n      it 'does not log in the user' do\n        post :create, params: { email: user.email, password: 'wrong' }\n        expect(session[:user_id]).to be_nil\n        expect(response).to render_template(:new)\n      end\n    end\n  end\nend\n```\n\n## Security Best Practices Included\n\n- **Secure password hashing** with bcrypt\n- **Email normalization** to prevent duplicates\n- **CSRF protection** enabled by default\n- **Session security** with httponly and secure flags\n- **Password strength validation** (minimum 8 characters)\n- **Timing attack prevention** in authentication\n- **Password reset token expiration**\n- **SSL enforcement** in production"
              }
            ],
            "skills": []
          },
          {
            "name": "documentation-generator",
            "description": "Automated documentation generation with API docs, technical writing, and content management",
            "source": "./",
            "category": null,
            "version": "1.0.0",
            "author": {
              "name": "Daniel Avila"
            },
            "install_commands": [
              "/plugin marketplace add Justdvp/claude-code-templates",
              "/plugin install documentation-generator@claude-code-templates"
            ],
            "signals": {
              "stars": 5,
              "forks": 0,
              "pushed_at": "2026-01-12T22:20:42Z",
              "created_at": "2022-10-16T16:39:58Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/lint",
                "description": null,
                "path": ".claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Python Linter\n\nRun Python code linting and formatting tools.\n\n## Purpose\n\nThis command helps you maintain code quality using Python's best linting and formatting tools.\n\n## Usage\n\n```\n/lint\n```\n\n## What this command does\n\n1. **Runs multiple linters** (flake8, pylint, black, isort)\n2. **Provides detailed feedback** on code quality issues\n3. **Auto-fixes formatting** where possible\n4. **Checks type hints** if mypy is configured\n\n## Example Commands\n\n### Black (code formatting)\n```bash\n# Format all Python files\nblack .\n\n# Check formatting without changing files\nblack --check .\n\n# Format specific file\nblack src/main.py\n```\n\n### flake8 (style guide enforcement)\n```bash\n# Check all Python files\nflake8 .\n\n# Check specific directory\nflake8 src/\n\n# Check with specific rules\nflake8 --max-line-length=88 .\n```\n\n### isort (import sorting)\n```bash\n# Sort imports in all files\nisort .\n\n# Check import sorting\nisort --check-only .\n\n# Sort imports in specific file\nisort src/main.py\n```\n\n### pylint (comprehensive linting)\n```bash\n# Run pylint on all files\npylint src/\n\n# Run with specific score threshold\npylint --fail-under=8.0 src/\n\n# Generate detailed report\npylint --output-format=html src/ > pylint_report.html\n```\n\n### mypy (type checking)\n```bash\n# Check types in all files\nmypy .\n\n# Check specific module\nmypy src/models.py\n\n# Check with strict mode\nmypy --strict src/\n```\n\n## Configuration Files\n\nMost projects benefit from configuration files:\n\n### .flake8\n```ini\n[flake8]\nmax-line-length = 88\nexclude = .git,__pycache__,venv\nignore = E203,W503\n```\n\n### pyproject.toml\n```toml\n[tool.black]\nline-length = 88\n\n[tool.isort]\nprofile = \"black\"\n```\n\n## Best Practices\n\n- Run linters before committing code\n- Use consistent formatting across the project\n- Fix linting issues promptly\n- Configure linters to match your team's style\n- Use type hints for better code documentation"
              },
              {
                "name": "/test",
                "description": null,
                "path": ".claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Runner\n\nRun Python tests with pytest, unittest, or other testing frameworks.\n\n## Purpose\n\nThis command helps you run Python tests effectively with proper configuration and reporting.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Detects test framework** (pytest, unittest, nose2)\n2. **Runs appropriate tests** with proper configuration\n3. **Provides coverage reporting** if available\n4. **Shows clear test results** with failure details\n\n## Example Commands\n\n### pytest (recommended)\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=src --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n\n# Run tests matching pattern\npytest -k \"test_user\"\n```\n\n### unittest\n```bash\n# Run all tests\npython -m unittest discover\n\n# Run specific test file\npython -m unittest tests.test_models\n\n# Run with verbose output\npython -m unittest -v\n```\n\n### Django tests\n```bash\n# Run all Django tests\npython manage.py test\n\n# Run specific app tests\npython manage.py test myapp\n\n# Run with coverage\ncoverage run --source='.' manage.py test\ncoverage report\n```\n\n## Best Practices\n\n- Write tests for all critical functionality\n- Use descriptive test names\n- Keep tests isolated and independent\n- Mock external dependencies\n- Aim for high test coverage (80%+)"
              },
              {
                "name": "/git-workflow",
                "description": null,
                "path": "cli-tool/templates/common/.claude/commands/git-workflow.md",
                "frontmatter": null,
                "content": "# Git Workflow Helper\n\nManage Git workflows with best practices and common operations.\n\n## Purpose\n\nThis command helps you perform common Git operations following best practices for collaborative development.\n\n## Usage\n\n```\n/git-workflow\n```\n\n## What this command does\n\n1. **Guides through Git operations** with proper workflow\n2. **Suggests best practices** for commits and branches\n3. **Helps with conflict resolution** and merging\n4. **Provides templates** for commit messages\n5. **Manages branching strategies** (Git Flow, GitHub Flow)\n\n## Common Workflows\n\n### Feature Development\n```bash\n# Create and switch to feature branch\ngit checkout -b feature/user-authentication\n\n# Work on your feature\n# ... make changes ...\n\n# Stage and commit changes\ngit add .\ngit commit -m \"feat: add user authentication system\n\n- Implement login/logout functionality\n- Add password validation\n- Create user session management\n- Add authentication middleware\"\n\n# Push feature branch\ngit push -u origin feature/user-authentication\n\n# Create pull request (via GitHub/GitLab interface)\n```\n\n### Hotfix Workflow\n```bash\n# Create hotfix branch from main\ngit checkout main\ngit checkout -b hotfix/security-patch\n\n# Fix the issue\n# ... make changes ...\n\n# Commit the fix\ngit commit -m \"fix: resolve security vulnerability in auth module\n\n- Patch XSS vulnerability in login form\n- Update input validation\n- Add CSRF protection\"\n\n# Push and create urgent PR\ngit push -u origin hotfix/security-patch\n```\n\n### Sync with Remote\n```bash\n# Update main branch\ngit checkout main\ngit pull origin main\n\n# Update feature branch with latest main\ngit checkout feature/your-feature\ngit rebase main\n# OR\ngit merge main\n```\n\n## Commit Message Conventions\n\n### Conventional Commits Format\n```\n<type>[optional scope]: <description>\n\n[optional body]\n\n[optional footer(s)]\n```\n\n### Common Types\n- **feat**: New feature\n- **fix**: Bug fix\n- **docs**: Documentation changes\n- **style**: Code style changes (formatting, etc.)\n- **refactor**: Code refactoring\n- **test**: Adding or updating tests\n- **chore**: Maintenance tasks\n\n### Examples\n```bash\n# Feature\ngit commit -m \"feat(auth): add OAuth2 integration\"\n\n# Bug fix\ngit commit -m \"fix(api): handle null response in user endpoint\"\n\n# Documentation\ngit commit -m \"docs: update API documentation for v2.0\"\n\n# Breaking change\ngit commit -m \"feat!: change API response format\n\nBREAKING CHANGE: API responses now use 'data' wrapper\"\n```\n\n## Branch Management\n\n### Git Flow Strategy\n```bash\n# Main branches\nmain        # Production-ready code\ndevelop     # Integration branch\n\n# Supporting branches\nfeature/*   # New features\nrelease/*   # Release preparation\nhotfix/*    # Quick fixes to production\n```\n\n### GitHub Flow (Simplified)\n```bash\n# Only main branch + feature branches\nmain        # Production-ready code\nfeature/*   # All new work\n```\n\n## Conflict Resolution\n\n### When Conflicts Occur\n```bash\n# Start merge/rebase\ngit merge feature-branch\n# OR\ngit rebase main\n\n# If conflicts occur, Git will list conflicted files\n# Edit each file to resolve conflicts\n\n# Mark conflicts as resolved\ngit add conflicted-file.js\n\n# Continue the merge/rebase\ngit merge --continue\n# OR\ngit rebase --continue\n```\n\n### Conflict Markers\n```javascript\n<<<<<<< HEAD\n// Your current branch code\nconst user = getCurrentUser();\n=======\n// Incoming branch code\nconst user = getAuthenticatedUser();\n>>>>>>> feature-branch\n```\n\n## Useful Git Commands\n\n### Status and Information\n```bash\ngit status                    # Check working directory status\ngit log --oneline            # View commit history\ngit branch -a                # List all branches\ngit remote -v                # List remote repositories\n```\n\n### Undoing Changes\n```bash\ngit checkout -- file.js     # Discard changes to file\ngit reset HEAD file.js       # Unstage file\ngit reset --soft HEAD~1     # Undo last commit (keep changes)\ngit reset --hard HEAD~1     # Undo last commit (discard changes)\n```\n\n### Stashing Work\n```bash\ngit stash                    # Save current work\ngit stash pop               # Apply and remove latest stash\ngit stash list              # List all stashes\ngit stash apply stash@{1}   # Apply specific stash\n```\n\n## Best Practices\n\n1. **Commit Often** - Make small, focused commits\n2. **Write Clear Messages** - Use conventional commit format\n3. **Test Before Committing** - Ensure code works\n4. **Pull Before Push** - Keep history clean\n5. **Use Branches** - Don't work directly on main\n6. **Review Code** - Use pull requests for collaboration\n7. **Keep History Clean** - Rebase feature branches when appropriate\n\n## Git Hooks (Optional)\n\n### Pre-commit Hook\n```bash\n#!/bin/sh\n# .git/hooks/pre-commit\n\n# Run linter\nnpm run lint\nif [ $? -ne 0 ]; then\n  echo \"Linting failed. Please fix errors before committing.\"\n  exit 1\nfi\n\n# Run tests\nnpm test\nif [ $? -ne 0 ]; then\n  echo \"Tests failed. Please fix tests before committing.\"\n  exit 1\nfi\n```\n\n### Commit Message Hook\n```bash\n#!/bin/sh\n# .git/hooks/commit-msg\n\n# Check commit message format\nif ! grep -qE \"^(feat|fix|docs|style|refactor|test|chore)(\\(.+\\))?: .{1,50}\" \"$1\"; then\n  echo \"Invalid commit message format. Use conventional commits.\"\n  exit 1\nfi\n```"
              },
              {
                "name": "/project-setup",
                "description": null,
                "path": "cli-tool/templates/common/.claude/commands/project-setup.md",
                "frontmatter": null,
                "content": "# Project Setup Helper\n\nSet up new projects with proper structure and best practices.\n\n## Purpose\n\nThis command helps you set up new projects with proper directory structure, configuration files, and development environment.\n\n## Usage\n\n```\n/project-setup\n```\n\n## What this command does\n\n1. **Creates project structure** with standard directories\n2. **Sets up configuration files** (.gitignore, README, etc.)\n3. **Initializes version control** and development tools\n4. **Configures environment files** and dependencies\n5. **Follows language-specific** conventions and best practices\n\n## Project Structure Templates\n\n### Generic Project Structure\n```\nproject-name/\n‚îú‚îÄ‚îÄ README.md                 # Project documentation\n‚îú‚îÄ‚îÄ .gitignore               # Git ignore rules\n‚îú‚îÄ‚îÄ .env.example             # Environment variables template\n‚îú‚îÄ‚îÄ LICENSE                  # Project license\n‚îú‚îÄ‚îÄ CHANGELOG.md             # Version history\n‚îú‚îÄ‚îÄ docs/                    # Documentation\n‚îÇ   ‚îú‚îÄ‚îÄ API.md\n‚îÇ   ‚îú‚îÄ‚îÄ CONTRIBUTING.md\n‚îÇ   ‚îî‚îÄ‚îÄ DEPLOYMENT.md\n‚îú‚îÄ‚îÄ src/                     # Source code\n‚îÇ   ‚îú‚îÄ‚îÄ main/\n‚îÇ   ‚îú‚îÄ‚îÄ utils/\n‚îÇ   ‚îî‚îÄ‚îÄ config/\n‚îú‚îÄ‚îÄ tests/                   # Test files\n‚îÇ   ‚îú‚îÄ‚îÄ unit/\n‚îÇ   ‚îú‚îÄ‚îÄ integration/\n‚îÇ   ‚îî‚îÄ‚îÄ fixtures/\n‚îú‚îÄ‚îÄ scripts/                 # Build and deployment scripts\n‚îÇ   ‚îú‚îÄ‚îÄ build.sh\n‚îÇ   ‚îú‚îÄ‚îÄ deploy.sh\n‚îÇ   ‚îî‚îÄ‚îÄ setup.sh\n‚îî‚îÄ‚îÄ config/                  # Configuration files\n    ‚îú‚îÄ‚îÄ development.yml\n    ‚îú‚îÄ‚îÄ production.yml\n    ‚îî‚îÄ‚îÄ testing.yml\n```\n\n### Web Application Structure\n```\nweb-app/\n‚îú‚îÄ‚îÄ public/                  # Static assets\n‚îÇ   ‚îú‚îÄ‚îÄ index.html\n‚îÇ   ‚îú‚îÄ‚îÄ favicon.ico\n‚îÇ   ‚îî‚îÄ‚îÄ assets/\n‚îÇ       ‚îú‚îÄ‚îÄ css/\n‚îÇ       ‚îú‚îÄ‚îÄ js/\n‚îÇ       ‚îî‚îÄ‚îÄ images/\n‚îú‚îÄ‚îÄ src/                     # Source code\n‚îÇ   ‚îú‚îÄ‚îÄ components/          # Reusable components\n‚îÇ   ‚îú‚îÄ‚îÄ pages/              # Page components\n‚îÇ   ‚îú‚îÄ‚îÄ services/           # API services\n‚îÇ   ‚îú‚îÄ‚îÄ utils/              # Utility functions\n‚îÇ   ‚îú‚îÄ‚îÄ styles/             # Stylesheets\n‚îÇ   ‚îî‚îÄ‚îÄ config/             # Configuration\n‚îú‚îÄ‚îÄ tests/                   # Test files\n‚îî‚îÄ‚îÄ build/                   # Build output\n```\n\n### API Project Structure\n```\napi-project/\n‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îú‚îÄ‚îÄ controllers/         # Request handlers\n‚îÇ   ‚îú‚îÄ‚îÄ models/             # Data models\n‚îÇ   ‚îú‚îÄ‚îÄ services/           # Business logic\n‚îÇ   ‚îú‚îÄ‚îÄ middleware/         # Custom middleware\n‚îÇ   ‚îú‚îÄ‚îÄ routes/             # API routes\n‚îÇ   ‚îú‚îÄ‚îÄ utils/              # Utility functions\n‚îÇ   ‚îî‚îÄ‚îÄ config/             # Configuration\n‚îú‚îÄ‚îÄ tests/\n‚îÇ   ‚îú‚îÄ‚îÄ unit/\n‚îÇ   ‚îú‚îÄ‚îÄ integration/\n‚îÇ   ‚îî‚îÄ‚îÄ e2e/\n‚îú‚îÄ‚îÄ docs/\n‚îÇ   ‚îú‚îÄ‚îÄ api-spec.yml        # OpenAPI specification\n‚îÇ   ‚îî‚îÄ‚îÄ README.md\n‚îî‚îÄ‚îÄ scripts/\n    ‚îú‚îÄ‚îÄ seed-db.js          # Database seeding\n    ‚îî‚îÄ‚îÄ migrate.js          # Database migrations\n```\n\n## Essential Configuration Files\n\n### .gitignore Template\n```gitignore\n# Dependencies\nnode_modules/\n*.log\nnpm-debug.log*\n\n# Environment files\n.env\n.env.local\n.env.production\n\n# Build outputs\ndist/\nbuild/\n*.tgz\n\n# IDE files\n.vscode/\n.idea/\n*.swp\n*.swo\n\n# OS files\n.DS_Store\nThumbs.db\n\n# Temporary files\n*.tmp\n*.temp\n```\n\n### README.md Template\n```markdown\n# Project Name\n\nBrief description of what this project does.\n\n## Features\n\n- Feature 1\n- Feature 2\n- Feature 3\n\n## Installation\n\n\\`\\`\\`bash\n# Clone the repository\ngit clone https://github.com/username/project-name.git\n\n# Install dependencies\nnpm install\n\n# Copy environment file\ncp .env.example .env\n\\`\\`\\`\n\n## Usage\n\n\\`\\`\\`bash\n# Start development server\nnpm run dev\n\n# Run tests\nnpm test\n\n# Build for production\nnpm run build\n\\`\\`\\`\n\n## API Documentation\n\n[API documentation](docs/API.md)\n\n## Contributing\n\nPlease read [CONTRIBUTING.md](docs/CONTRIBUTING.md) for details.\n\n## License\n\nThis project is licensed under the MIT License - see [LICENSE](LICENSE) file.\n```\n\n### .env.example Template\n```env\n# Application\nNODE_ENV=development\nPORT=3000\nHOST=localhost\n\n# Database\nDB_HOST=localhost\nDB_PORT=5432\nDB_NAME=myapp\nDB_USER=username\nDB_PASSWORD=password\n\n# API Keys\nAPI_KEY=your-api-key-here\nSECRET_KEY=your-secret-key-here\n\n# External Services\nREDIS_URL=redis://localhost:6379\nEMAIL_SERVICE_API_KEY=your-email-key\n```\n\n## Development Environment Setup\n\n### Package.json Scripts\n```json\n{\n  \"scripts\": {\n    \"start\": \"node src/index.js\",\n    \"dev\": \"nodemon src/index.js\",\n    \"test\": \"jest\",\n    \"test:watch\": \"jest --watch\",\n    \"test:coverage\": \"jest --coverage\",\n    \"lint\": \"eslint src/\",\n    \"lint:fix\": \"eslint src/ --fix\",\n    \"format\": \"prettier --write src/\",\n    \"build\": \"webpack --mode production\",\n    \"build:dev\": \"webpack --mode development\",\n    \"clean\": \"rm -rf dist/\"\n  }\n}\n```\n\n### Git Initialization\n```bash\n# Initialize Git repository\ngit init\n\n# Add initial files\ngit add .\n\n# Create initial commit\ngit commit -m \"feat: initial project setup\n\n- Add project structure\n- Configure development environment\n- Add documentation templates\n- Set up testing framework\"\n\n# Add remote origin\ngit remote add origin https://github.com/username/project-name.git\n\n# Push to remote\ngit push -u origin main\n```\n\n## Language-Specific Setup\n\n### Node.js/JavaScript\n```bash\nnpm init -y\nnpm install --save-dev nodemon jest eslint prettier\n```\n\n### Python\n```bash\npython -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\npip install -r requirements.txt\n```\n\n### Docker Setup\n```dockerfile\n# Dockerfile\nFROM node:16-alpine\nWORKDIR /app\nCOPY package*.json ./\nRUN npm install\nCOPY . .\nEXPOSE 3000\nCMD [\"npm\", \"start\"]\n```\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\nservices:\n  app:\n    build: .\n    ports:\n      - \"3000:3000\"\n    environment:\n      - NODE_ENV=development\n    volumes:\n      - .:/app\n      - /app/node_modules\n```\n\n## Best Practices\n\n1. **Consistent Structure** - Follow established conventions\n2. **Clear Documentation** - Write comprehensive README\n3. **Environment Variables** - Keep secrets out of code\n4. **Version Control** - Initialize Git from the start\n5. **Testing Setup** - Configure testing from day one\n6. **Code Quality** - Set up linting and formatting\n7. **CI/CD Ready** - Structure for automated deployment\n8. **Security** - Include security best practices\n\n## Checklist\n\n- [ ] Create project directory structure\n- [ ] Initialize version control (Git)\n- [ ] Set up package manager (npm, pip, etc.)\n- [ ] Create README.md with project info\n- [ ] Add .gitignore file\n- [ ] Set up environment variables\n- [ ] Configure linting and formatting\n- [ ] Set up testing framework\n- [ ] Create basic documentation\n- [ ] Add license file\n- [ ] Set up CI/CD configuration (if needed)"
              },
              {
                "name": "/api-endpoint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/api-endpoint.md",
                "frontmatter": null,
                "content": "# API Endpoint Generator\n\nGenerate a complete API endpoint for $ARGUMENTS following project conventions.\n\n## Task\n\nI'll analyze the project structure and create a new API endpoint with:\n\n1. Route definition\n2. Controller/handler function\n3. Input validation\n4. Service layer logic (if applicable)\n5. Data access layer (if applicable)\n6. Unit tests\n7. Documentation\n\n## Process\n\nI'll follow these steps:\n\n1. Examine the project structure to understand the architecture pattern\n2. Identify existing patterns for routes, controllers, and validation\n3. Create all necessary files following project conventions\n4. Implement the endpoint with proper error handling\n5. Add appropriate tests\n6. Document the new endpoint\n\n## Best Practices\n\nI'll ensure the implementation includes:\n\n- Strong typing with TypeScript\n- Comprehensive error handling\n- Input validation\n- Security considerations (authentication/authorization)\n- Proper logging\n- Performance considerations\n- Test coverage\n\n## Adaptability\n\nI'll adapt to various API architectures:\n\n- Express/Koa/Fastify REST APIs\n- GraphQL resolvers\n- Next.js/Nuxt.js API routes\n- Serverless functions\n- tRPC endpoints\n- NestJS controllers\n\nI'll examine your project first to determine which pattern to follow."
              },
              {
                "name": "/debug",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/debug.md",
                "frontmatter": null,
                "content": "# Debug Assistant\n\nHelp me debug the issue with $ARGUMENTS in this project.\n\n## Task\n\nI'll help you identify and fix the problem by:\n\n1. Understanding the issue description\n2. Analyzing relevant code\n3. Identifying potential causes\n4. Suggesting and implementing fixes\n5. Verifying the solution works\n\n## Process\n\nI'll follow these steps:\n\n1. Examine error messages, logs, or unexpected behaviors\n2. Locate relevant files and code sections\n3. Analyze the code flow and potential failure points\n4. Identify common JavaScript/TypeScript pitfalls that might apply\n5. Suggest specific fixes with explanations\n6. Help implement and test the solution\n\n## Debugging Techniques\n\nI'll apply appropriate debugging techniques such as:\n\n- Static code analysis to find syntax or type errors\n- Runtime error analysis from logs or stack traces\n- Control flow tracing to understand execution paths\n- State inspection to identify incorrect values\n- Dependency analysis to find version conflicts\n- Network request inspection for API issues\n- Browser console analysis for frontend problems\n- Database query inspection for data issues\n\n## Common Issues I Can Help With\n\n- Type errors and null/undefined issues\n- Asynchronous code problems (Promises, async/await)\n- React/Vue/Angular component lifecycle issues\n- API integration problems\n- State management bugs\n- Performance bottlenecks\n- Memory leaks\n- Build/compilation errors\n- Testing failures\n- Environment configuration issues\n\nI'll adapt my approach based on your specific project structure, frameworks, and the nature of the problem."
              },
              {
                "name": "/lint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Lint Assistant\n\nAnalyze and fix linting issues in $ARGUMENTS following project conventions.\n\n## Task\n\nI'll help you identify and fix code style and quality issues by:\n\n1. Running appropriate linters for the project\n2. Analyzing linting errors and warnings\n3. Fixing issues automatically when possible\n4. Explaining complex issues that require manual intervention\n5. Ensuring code follows project style guidelines\n\n## Process\n\nI'll follow these steps:\n\n1. Identify the linting tools used in the project (ESLint, Prettier, TSLint, etc.)\n2. Run the appropriate linting commands\n3. Parse and categorize the results\n4. Apply automatic fixes for common issues\n5. Provide explanations and suggestions for more complex problems\n6. Verify fixes don't introduce new issues\n\n## Common Linting Issues I Can Fix\n\n- Code style inconsistencies (spacing, indentation, quotes, etc.)\n- Unused variables and imports\n- Missing type annotations in TypeScript\n- Accessibility (a11y) issues in UI components\n- Potential bugs flagged by static analysis\n- Performance issues in React/Vue components\n- Security vulnerabilities detected by linters\n- Deprecated API usage\n- Import ordering problems\n- Missing documentation\n\n## Linting Tools I Can Work With\n\n- ESLint (with various plugins and configs)\n- Prettier\n- TSLint (legacy)\n- stylelint (for CSS/SCSS)\n- commitlint (for commit messages)\n- Custom lint rules specific to your project\n\nI'll adapt my approach based on your project's specific linting configuration and style guide requirements."
              },
              {
                "name": "/npm-scripts",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/npm-scripts.md",
                "frontmatter": null,
                "content": "# NPM Scripts Assistant\n\nHelp me with NPM scripts: $ARGUMENTS\n\n## Task\n\nI'll help you work with package.json scripts by:\n\n1. Analyzing existing npm scripts in your project\n2. Creating new scripts or modifying existing ones\n3. Explaining what specific scripts do\n4. Suggesting improvements or optimizations\n5. Troubleshooting script execution issues\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your package.json file to understand current scripts\n2. Analyze dependencies and devDependencies for available tools\n3. Identify common patterns and conventions in your scripts\n4. Implement requested changes or create new scripts\n5. Provide explanations of how the scripts work\n6. Test scripts when possible to verify functionality\n\n## Common Script Types I Can Help With\n\n- Build processes (webpack, rollup, esbuild, etc.)\n- Development servers and hot reloading\n- Testing (unit, integration, e2e)\n- Linting and code formatting\n- Type checking\n- Deployment and CI/CD\n- Database migrations\n- Code generation\n- Environment setup\n- Pre/post hooks for git operations\n\n## Script Optimization Techniques\n\n- Parallelizing tasks for faster execution\n- Adding cross-platform compatibility\n- Improving error reporting and logging\n- Implementing watch modes for development\n- Creating composite scripts for common workflows\n- Adding appropriate exit codes for CI/CD pipelines\n\nI'll adapt my approach based on your project's specific needs, dependencies, and build tools."
              },
              {
                "name": "/refactor",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/refactor.md",
                "frontmatter": null,
                "content": "# Code Refactoring Assistant\n\nRefactor $ARGUMENTS following modern JavaScript/TypeScript best practices.\n\n## Task\n\nI'll help you refactor code by:\n\n1. Analyzing the current implementation\n2. Identifying improvement opportunities\n3. Applying modern patterns and practices\n4. Maintaining existing functionality\n5. Ensuring type safety and test coverage\n6. Documenting the changes made\n\n## Process\n\nI'll follow these steps:\n\n1. Examine the code to understand its purpose and structure\n2. Identify code smells, anti-patterns, or outdated approaches\n3. Plan the refactoring strategy with clear goals\n4. Implement changes incrementally while maintaining behavior\n5. Verify refactored code with tests\n6. Document improvements and benefits\n\n## Refactoring Techniques\n\nI can apply various refactoring techniques:\n\n- Converting to modern JavaScript/TypeScript features\n- Improving type definitions and type safety\n- Extracting reusable functions and components\n- Applying design patterns appropriately\n- Converting callbacks to Promises or async/await\n- Simplifying complex conditionals and loops\n- Removing duplicate code\n- Improving naming and readability\n- Optimizing performance\n- Enhancing error handling\n\n## Modern Practices I Can Apply\n\n- ES modules and import/export syntax\n- Optional chaining and nullish coalescing\n- Array and object destructuring\n- Spread and rest operators\n- Template literals\n- Arrow functions\n- Class fields and private methods\n- TypeScript utility types\n- Functional programming patterns\n- React hooks (for React components)\n\nI'll ensure the refactored code maintains compatibility with your project's requirements while improving quality and maintainability."
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Assistant\n\nHelp with tests for $ARGUMENTS following project conventions and testing best practices.\n\n## Task\n\nI'll help you with testing by:\n\n1. Creating comprehensive test suites for your code\n2. Implementing different types of tests (unit, integration, e2e)\n3. Mocking dependencies and external services\n4. Improving test coverage for existing code\n5. Troubleshooting failing tests\n6. Setting up testing infrastructure\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your project to understand testing frameworks and patterns\n2. Analyze the code to be tested to understand its functionality\n3. Identify appropriate testing strategies and edge cases\n4. Implement tests with proper structure and assertions\n5. Ensure tests are maintainable and follow best practices\n6. Run tests to verify they pass and provide adequate coverage\n\n## Testing Frameworks I Can Work With\n\n- Jest, Vitest, Mocha, Jasmine for JavaScript/TypeScript\n- React Testing Library, Enzyme for React components\n- Cypress, Playwright, Puppeteer for E2E testing\n- Supertest, Pactum for API testing\n- Storybook for component testing\n- Testing-library family for various frameworks\n\n## Testing Techniques\n\nI can implement various testing approaches:\n\n- TDD (Test-Driven Development)\n- BDD (Behavior-Driven Development)\n- Snapshot testing\n- Property-based testing\n- Parameterized tests\n- Contract testing\n- Visual regression testing\n- Performance testing\n\n## Mocking Strategies\n\nI can help with different mocking approaches:\n\n- Function mocks and spies\n- Module mocks\n- HTTP request mocking\n- Browser API mocking\n- Timer mocking\n- Database mocking\n- Service worker mocking\n\nI'll adapt to your project's specific testing frameworks, patterns, and conventions to ensure consistency with your existing codebase."
              },
              {
                "name": "/typescript-migrate",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/typescript-migrate.md",
                "frontmatter": null,
                "content": "# TypeScript Migration Assistant\n\nMigrate $ARGUMENTS from JavaScript to TypeScript with proper typing and modern practices.\n\n## Task\n\nI'll help you migrate JavaScript code to TypeScript by:\n\n1. Converting JavaScript files to TypeScript (.js/.jsx to .ts/.tsx)\n2. Adding appropriate type definitions and interfaces\n3. Configuring TypeScript settings for your project\n4. Resolving type errors and compatibility issues\n5. Implementing modern TypeScript patterns and features\n6. Ensuring backward compatibility with existing code\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your project structure and dependencies\n2. Analyze the JavaScript code to understand its functionality\n3. Create or update tsconfig.json with appropriate settings\n4. Convert files to TypeScript with proper type annotations\n5. Add necessary type definitions for libraries\n6. Fix type errors and implement type safety\n7. Refactor code to leverage TypeScript features\n\n## TypeScript Features I Can Implement\n\n- Interfaces and type aliases for complex data structures\n- Generics for reusable, type-safe components and functions\n- Union and intersection types for flexible typing\n- Enums for related constants\n- Utility types (Partial, Pick, Omit, etc.)\n- Type guards and type narrowing\n- Mapped and conditional types\n- Function overloading\n- Readonly properties and immutability\n- Module augmentation for extending third-party types\n\n## Migration Strategies\n\nI can apply different migration approaches based on your needs:\n\n- Gradual migration with allowJs and incremental adoption\n- File-by-file conversion while maintaining functionality\n- Comprehensive migration with full type safety\n- Hybrid approach with .d.ts files for complex modules\n- Integration with existing type definitions (@types packages)\n\nI'll adapt to your project's specific requirements and ensure a smooth transition to TypeScript while maintaining existing functionality."
              },
              {
                "name": "/components",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/angular-app/.claude/commands/components.md",
                "frontmatter": null,
                "content": "# Angular Components\n\nCreate Angular components for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Angular components based on the requirements:\n\n1. **Analyze existing components**: Check current component patterns, naming conventions, and folder organization\n2. **Examine Angular setup**: Review project structure, module organization, and TypeScript configuration\n3. **Identify component type**: Determine the component category:\n   - Presentation components (dumb/pure components)\n   - Container components (smart components with state)\n   - Feature components (business logic components)\n   - Shared/UI components (reusable across features)\n   - Layout components (structural components)\n4. **Check dependencies**: Review existing components and shared modules to avoid duplication\n5. **Implement component**: Create component with proper TypeScript types and lifecycle hooks\n6. **Add inputs/outputs**: Define @Input and @Output properties with proper typing\n7. **Create template**: Build HTML template with proper Angular directives and bindings\n8. **Add styles**: Implement component styles following project's styling approach\n9. **Create tests**: Write comprehensive unit tests with TestBed and proper mocking\n10. **Update module**: Register component in appropriate Angular module\n\n## Implementation Requirements\n\n- Follow project's Angular architecture and naming conventions\n- Use proper component lifecycle hooks (OnInit, OnDestroy, etc.)\n- Include comprehensive TypeScript interfaces for inputs and outputs\n- Implement proper change detection strategy (OnPush when possible)\n- Add proper subscription management with takeUntil or async pipe\n- Follow Angular style guide and project coding standards\n- Consider component performance and memory management\n\n## Component Patterns to Consider\n\nBased on the request:\n- **Smart Components**: Container components that manage state and services\n- **Dumb Components**: Presentation components that only receive inputs\n- **Feature Components**: Components specific to business features\n- **Shared Components**: Reusable UI components across the application\n- **Form Components**: Reactive forms with validation and custom controls\n- **Data Display**: Components for tables, lists, cards with proper data binding\n\n## Angular-Specific Implementation\n\n- **Template Syntax**: Proper use of Angular directives (*ngFor, *ngIf, etc.)\n- **Data Binding**: Property binding, event binding, two-way binding\n- **Change Detection**: OnPush strategy for performance optimization\n- **Lifecycle Management**: Proper use of lifecycle hooks\n- **Dependency Injection**: Service injection in component constructors\n- **Testing**: TestBed configuration with proper mocking and spies\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same styling approach and class naming as existing components\n- Follow project's folder structure for components (usually feature-based)\n- Don't install new dependencies without asking\n- Consider component reusability and single responsibility principle\n- Add proper TypeScript types for all component properties and methods\n- Use trackBy functions for performance in *ngFor loops\n- Implement proper unsubscription patterns to prevent memory leaks"
              },
              {
                "name": "/services",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/angular-app/.claude/commands/services.md",
                "frontmatter": null,
                "content": "# Angular Services\n\nCreate Angular services for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Angular services based on the requirements:\n\n1. **Analyze existing services**: Check current service patterns, naming conventions, and folder organization\n2. **Examine Angular setup**: Review project structure, dependency injection patterns, and TypeScript configuration\n3. **Identify service type**: Determine the service category:\n   - Data services (HTTP API calls, state management)\n   - Utility services (validation, formatting, helpers)\n   - Business logic services (calculations, workflows)\n   - Infrastructure services (logging, authentication, error handling)\n   - Feature services (component-specific logic)\n4. **Check dependencies**: Review existing services and shared modules to avoid duplication\n5. **Implement service**: Create service with proper dependency injection and TypeScript types\n6. **Add error handling**: Include comprehensive error handling with RxJS operators\n7. **Create tests**: Write unit tests with proper mocking following project patterns\n8. **Update module registration**: Register service in appropriate Angular modules\n\n## Implementation Requirements\n\n- Follow project's Angular architecture and naming conventions (usually .service.ts)\n- Use proper dependency injection with @Injectable decorator\n- Include comprehensive TypeScript interfaces and types\n- Implement proper RxJS patterns (observables, operators, error handling)\n- Add proper error handling and logging integration\n- Follow single responsibility principle for service design\n- Consider service lifecycle and singleton patterns\n\n## Service Patterns to Consider\n\nBased on the request:\n- **HTTP Data Services**: API calls with proper error handling and caching\n- **State Management**: Services for sharing data between components\n- **Authentication**: User authentication, token management, guards\n- **Business Logic**: Complex calculations, workflows, validations\n- **Utility Services**: Reusable functions, formatters, validators\n- **Feature Services**: Component-specific logic extraction\n- **Infrastructure**: Logging, monitoring, configuration services\n\n## Angular-Specific Implementation\n\n- **Dependency Injection**: Proper use of @Injectable and providedIn\n- **RxJS Integration**: Observables, subjects, operators for reactive programming\n- **HTTP Client**: Angular HttpClient for API communication\n- **Error Handling**: Global error handling and user-friendly error messages\n- **Testing**: TestBed, jasmine, karma for comprehensive unit testing\n- **Module Organization**: Feature modules, shared modules, core modules\n\n## Important Notes\n\n- ALWAYS examine existing services first to understand project patterns\n- Use the same error handling and response patterns as existing services\n- Follow project's folder structure for services (usually /services or /core)\n- Don't install new dependencies without asking\n- Consider service performance and memory management\n- Add proper RxJS subscription management to prevent memory leaks\n- Use Angular's built-in services (HttpClient, Router) rather than external libraries\n- Include proper TypeScript types for all service methods and properties"
              },
              {
                "name": "/api-endpoint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/api-endpoint.md",
                "frontmatter": null,
                "content": "# API Endpoint Generator\n\nGenerate a complete API endpoint for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate a new API endpoint with all necessary components:\n\n1. **Analyze project architecture**: Examine existing API structure, patterns, and conventions\n2. **Identify framework**: Determine if using Express, Fastify, NestJS, Next.js API routes, or other framework\n3. **Check authentication**: Review existing auth patterns and middleware usage\n4. **Examine data layer**: Identify database/ORM patterns (Prisma, TypeORM, Mongoose, etc.)\n5. **Create endpoint structure**: Generate route, controller, validation, and service layers\n6. **Implement business logic**: Add core functionality with proper error handling\n7. **Add validation**: Include input validation using project's validation library\n8. **Create tests**: Write unit and integration tests following project patterns\n9. **Update documentation**: Add endpoint documentation (OpenAPI/Swagger if used)\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing middleware patterns for auth, validation, logging\n- Include proper HTTP status codes and error responses\n- Add comprehensive input validation and sanitization\n- Implement proper logging and monitoring\n- Consider rate limiting and security headers\n- Follow project's database transaction patterns\n\n## Framework-Specific Patterns\n\nI'll adapt to your project's framework:\n- **Express**: Routes, controllers, middleware\n- **Fastify**: Routes, handlers, schemas, plugins\n- **NestJS**: Controllers, services, DTOs, guards\n- **Next.js**: API routes with proper HTTP methods\n- **tRPC**: Procedures with input/output validation\n- **GraphQL**: Resolvers with proper type definitions\n\n## Important Notes\n\n- ALWAYS examine existing endpoints first to understand project patterns\n- Use the same error handling and response format as existing endpoints\n- Follow project's folder structure and naming conventions\n- Don't install new dependencies without asking\n- Consider backward compatibility if modifying existing endpoints\n- Add proper database migrations if schema changes are needed"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# Database Operations\n\nSet up database operations for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize database operations based on the requirements:\n\n1. **Analyze existing database setup**: Check current database configuration, ORM/ODM, and connection patterns\n2. **Identify database type**: Determine if using MongoDB, PostgreSQL, MySQL, or other database\n3. **Examine ORM/ODM**: Check for Prisma, TypeORM, Mongoose, Sequelize, or raw SQL patterns\n4. **Review existing models**: Understand current schema patterns and relationships\n5. **Check migration system**: Identify migration tools and patterns in use\n6. **Implement operations**: Create models, repositories, or services following project architecture\n7. **Add validation**: Include proper schema validation and constraints\n8. **Create tests**: Write database operation tests following project patterns\n9. **Update migrations**: Add necessary database migrations if schema changes required\n\n## Implementation Requirements\n\n- Follow project's database architecture patterns\n- Use existing ORM/ODM configuration and connection setup\n- Include proper TypeScript types for all database operations\n- Add comprehensive error handling and transaction management\n- Implement proper indexing for performance\n- Follow project's naming conventions for tables/collections and fields\n- Consider data validation at both application and database levels\n\n## Database Patterns to Consider\n\nBased on your project setup:\n- **Repository Pattern**: Separate data access logic from business logic\n- **Active Record**: Models with built-in database operations\n- **Data Mapper**: Separate domain models from database schema\n- **Query Builder**: Fluent interface for building database queries\n- **Raw SQL**: Direct database queries for complex operations\n\n## Operation Types\n\nCommon database operations to implement:\n- **CRUD operations**: Create, Read, Update, Delete\n- **Bulk operations**: Batch inserts, updates, deletes\n- **Aggregation**: Complex queries with grouping and calculations\n- **Relationships**: Managing foreign keys and joins\n- **Transactions**: Ensuring data consistency\n- **Migrations**: Schema changes and data transformations\n\n## Important Notes\n\n- ALWAYS examine existing database setup first to understand project patterns\n- Use the same connection configuration and environment variables\n- Follow project's folder structure for models/schemas\n- Don't install new database dependencies without asking\n- Consider performance implications (indexes, query optimization)\n- Add proper database connection pooling if not already configured\n- Include proper cleanup and connection closing in tests"
              },
              {
                "name": "/middleware",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/middleware.md",
                "frontmatter": null,
                "content": "# Express Middleware\n\nCreate Express middleware for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Express middleware based on the requirements:\n\n1. **Analyze existing middleware**: Check current middleware patterns, naming conventions, and file organization\n2. **Examine Express setup**: Review app configuration, middleware stack order, and TypeScript usage\n3. **Identify middleware type**: Determine the middleware category:\n   - Authentication/Authorization (JWT, sessions, role-based)\n   - Validation (request body, params, query validation)\n   - Logging (request/response logging, audit trails)\n   - Error handling (global error handlers, custom errors)\n   - Security (CORS, rate limiting, helmet)\n   - Utility (parsing, compression, static files)\n4. **Check dependencies**: Review existing middleware dependencies to avoid duplication\n5. **Implement middleware**: Create middleware with proper TypeScript types and error handling\n6. **Test middleware**: Write unit and integration tests following project patterns\n7. **Update middleware stack**: Integrate middleware into Express app configuration\n8. **Add documentation**: Include JSDoc comments and usage examples\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing error handling patterns and response formats\n- Include proper request/response typing with custom interfaces\n- Add comprehensive error handling and logging\n- Consider middleware execution order and dependencies\n- Implement proper async/await patterns for async middleware\n- Follow project's folder structure for middleware files\n\n## Middleware Patterns to Consider\n\nBased on the request:\n- **Authentication**: JWT verification, session management, API key validation\n- **Authorization**: Role-based access control, permission checking\n- **Validation**: Schema validation with Joi/Zod, sanitization\n- **Logging**: Request logging, performance monitoring, audit trails\n- **Error Handling**: Global error handlers, custom error classes\n- **Security**: CORS configuration, rate limiting, input sanitization\n- **Utility**: Request parsing, response formatting, caching\n\n## Integration Considerations\n\n- **Middleware order**: Ensure proper execution sequence in Express app\n- **Error propagation**: Handle errors correctly with next() function\n- **Request enhancement**: Add properties to request object with proper typing\n- **Response modification**: Modify response objects while maintaining type safety\n- **Performance**: Consider middleware performance impact on request processing\n\n## Important Notes\n\n- ALWAYS examine existing middleware first to understand project patterns\n- Use the same error handling and response format as existing middleware\n- Follow project's folder structure for middleware (usually /middleware)\n- Don't install new dependencies without asking\n- Consider middleware performance and request processing impact\n- Add proper TypeScript types for enhanced request/response objects\n- Test middleware in isolation and integration contexts"
              },
              {
                "name": "/route",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/route.md",
                "frontmatter": null,
                "content": "# Route Creator\n\nCreate API routes for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize API routes based on the requirements:\n\n1. **Analyze project structure**: Check existing route patterns, folder organization, and framework setup\n2. **Examine framework**: Identify if using Express, Fastify, NestJS, or other Node.js framework\n3. **Review existing routes**: Understand current routing patterns, validation, and error handling\n4. **Check authentication**: Review existing auth middleware and protection patterns\n5. **Define route structure**: Determine HTTP methods, path parameters, and request/response schemas\n6. **Implement routes**: Create route handlers with proper validation and error handling\n7. **Add middleware**: Include authentication, validation, and logging middleware as needed\n8. **Create tests**: Write route tests following project testing patterns\n9. **Update route registration**: Integrate new routes into main router configuration\n\n## Implementation Requirements\n\n- Follow project's routing architecture and naming conventions\n- Use existing validation libraries (Joi, Zod, class-validator, etc.)\n- Include proper TypeScript types for request/response objects\n- Add comprehensive error handling with appropriate HTTP status codes\n- Implement proper authentication/authorization if required\n- Follow RESTful conventions unless project uses different patterns\n- Add proper logging and monitoring integration\n\n## Route Patterns to Consider\n\nBased on the request:\n- **CRUD operations**: Create, Read, Update, Delete for resources\n- **RESTful endpoints**: GET, POST, PUT, PATCH, DELETE with proper semantics\n- **Nested resources**: Parent/child resource relationships\n- **Batch operations**: Bulk create, update, delete operations\n- **Search/filtering**: Query parameters for filtering and pagination\n- **File uploads**: Multipart form handling for file operations\n- **Webhook endpoints**: External service integration points\n\n## Framework-Specific Implementation\n\nAdapt to your project's framework:\n- **Express**: Router instances, middleware chains, route handlers\n- **Fastify**: Route plugins, schema validation, hooks\n- **NestJS**: Controllers, decorators, DTOs, guards, interceptors\n- **Koa**: Router middleware, context handling\n- **Next.js API**: API route handlers with proper HTTP methods\n\n## Important Notes\n\n- ALWAYS examine existing routes first to understand project patterns\n- Use the same validation and error handling patterns as existing routes\n- Follow project's folder structure for routes (usually /routes or /controllers)\n- Don't install new dependencies without asking\n- Consider route performance and database query optimization\n- Add proper OpenAPI/Swagger documentation if project uses it\n- Include rate limiting for public endpoints where appropriate"
              },
              {
                "name": "/component",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/component.md",
                "frontmatter": null,
                "content": "# React Component Generator\n\nCreate a React component named $ARGUMENTS following project conventions.\n\n## Steps\n\n1. **Analyze project structure**: Check existing components to understand file organization, naming conventions, and patterns\n2. **Examine styling approach**: Identify CSS/SCSS modules, styled-components, Tailwind, or other styling methods used\n3. **Review testing patterns**: Check existing test files to understand testing framework and conventions\n4. **Create component structure**: Generate appropriate files (component, styles, tests, index)\n5. **Implement component**: Write TypeScript/JavaScript with proper props interface and logic\n6. **Add tests**: Write comprehensive tests following project patterns\n7. **Verify integration**: Ensure component works with existing project setup\n\n## Requirements\n\n- Follow existing project file structure and naming conventions\n- Use TypeScript if project uses it\n- Include proper accessibility attributes\n- Add responsive design considerations\n- Write tests that match project testing patterns\n- Include usage examples in component documentation\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same styling approach as the rest of the project\n- Follow the project's TypeScript conventions for props and interfaces\n- Don't install new dependencies without asking first"
              },
              {
                "name": "/hooks",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/hooks.md",
                "frontmatter": null,
                "content": "# React Hooks\n\nCreate or optimize React hooks for $ARGUMENTS following project conventions.\n\n## Task\n\nAnalyze the request and create appropriate React hooks:\n\n1. **Examine existing hooks**: Check project for existing custom hooks patterns and conventions\n2. **Identify hook type**: Determine if creating new custom hook, optimizing existing hook, or implementing specific hook pattern\n3. **Check TypeScript usage**: Verify if project uses TypeScript and follow typing conventions\n4. **Implement hook**: Create hook with proper:\n   - Naming convention (use prefix)\n   - TypeScript types and interfaces\n   - Proper dependency arrays\n   - Error handling\n   - Performance optimizations\n5. **Add tests**: Create comprehensive unit tests using project's testing framework\n6. **Add documentation**: Include JSDoc comments and usage examples\n\n## Common Hook Patterns\n\nWhen creating hooks, consider these patterns based on the request:\n- **Data fetching**: API calls, loading states, error handling\n- **State management**: Local state, derived state, state persistence\n- **Side effects**: Event listeners, timers, subscriptions\n- **Context consumption**: Theme, auth, app state\n- **Form handling**: Input management, validation, submission\n- **Performance**: Memoization, debouncing, throttling\n\n## Requirements\n\n- Follow existing project hook conventions\n- Use TypeScript if project uses it\n- Include proper cleanup in useEffect\n- Add error boundaries where appropriate\n- Write tests that cover all hook functionality\n- IMPORTANT: Always check existing hooks first to understand project patterns\n\n## Notes\n\n- Ask for clarification if the hook requirements are ambiguous\n- Suggest optimizations for existing hooks if relevant\n- Consider accessibility implications for UI-related hooks"
              },
              {
                "name": "/state-management",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/state-management.md",
                "frontmatter": null,
                "content": "# React State Management\n\nImplement state management solution for $ARGUMENTS following project conventions.\n\n## Task\n\nSet up or optimize state management based on the requirements:\n\n1. **Analyze current setup**: Check existing state management approach and project structure\n2. **Determine solution**: Based on requirements, choose appropriate state management:\n   - Context API for simple, localized state\n   - Redux Toolkit for complex, global state\n   - Zustand for lightweight global state\n   - Custom hooks for component-level state\n3. **Examine dependencies**: Check package.json for existing state management libraries\n4. **Implement solution**: Create store, providers, and hooks with proper TypeScript types\n5. **Set up middleware**: Add devtools, persistence, or other middleware as needed\n6. **Create typed hooks**: Generate properly typed selectors and dispatch hooks\n7. **Add tests**: Write unit tests for state logic and reducers\n8. **Update providers**: Integrate with app's provider hierarchy\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions\n- Use existing state management patterns if present\n- Create proper type definitions for state shape\n- Include error handling and loading states\n- Add proper debugging setup (devtools)\n- Consider performance optimizations (selectors, memoization)\n\n## State Management Selection Guide\n\nChoose based on complexity:\n- **Simple state**: React hooks + Context API\n- **Medium complexity**: Zustand or custom hooks\n- **Complex state**: Redux Toolkit with RTK Query\n- **Form state**: React Hook Form or Formik\n\n## Important Notes\n\n- ALWAYS check existing state management first\n- Don't install new dependencies without asking\n- Follow project's folder structure for state files\n- Consider server state vs client state separation\n- Add proper TypeScript types for all state interfaces"
              },
              {
                "name": "/components",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/vue-app/.claude/commands/components.md",
                "frontmatter": null,
                "content": "# Vue Components\n\nCreate Vue Single File Components for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Vue components based on the requirements:\n\n1. **Analyze project structure**: Check existing Vue components to understand patterns, conventions, and file organization\n2. **Examine Vue setup**: Identify Vue version (2/3), TypeScript usage, and Composition/Options API preference\n3. **Check styling approach**: Determine if using CSS modules, SCSS, styled-components, or other styling methods\n4. **Review testing patterns**: Check existing component tests to understand testing framework and conventions\n5. **Create component structure**: Generate SFC with template, script, and style sections\n6. **Implement component**: Write TypeScript interfaces, props, emits, and component logic\n7. **Add accessibility**: Include proper ARIA attributes and semantic HTML\n8. **Create tests**: Write comprehensive component tests following project patterns\n9. **Add documentation**: Include JSDoc comments and usage examples\n\n## Component Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing component patterns and naming conventions\n- Implement proper props validation and typing\n- Add appropriate event emissions with TypeScript signatures\n- Include scoped styles following project's styling approach\n- Add proper accessibility attributes (ARIA, semantic HTML)\n- Consider responsive design if applicable\n\n## Vue Patterns to Consider\n\nBased on the component type:\n- **Composition API**: For Vue 3 projects with `<script setup>`\n- **Options API**: For Vue 2 or legacy Vue 3 projects\n- **Composables**: Extract reusable logic into composables\n- **Provide/Inject**: For deep component communication\n- **Slots**: For flexible component content\n- **Teleport**: For portal-like functionality (Vue 3)\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same Vue API style (Composition vs Options) as the project\n- Follow project's folder structure for components\n- Don't install new dependencies without asking\n- Consider component performance (v-memo, computed properties)\n- Add proper TypeScript types for all props and emits"
              },
              {
                "name": "/composables",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/vue-app/.claude/commands/composables.md",
                "frontmatter": null,
                "content": "# Vue Composables\n\nCreate Vue composables for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Vue composables based on the requirements:\n\n1. **Analyze existing composables**: Check project for existing composable patterns, naming conventions, and file organization\n2. **Examine Vue setup**: Verify Vue 3 Composition API usage and TypeScript configuration\n3. **Identify composable type**: Determine the composable category:\n   - State management (reactive data, computed properties)\n   - API/HTTP operations (data fetching, mutations)\n   - DOM interactions (event listeners, element refs)\n   - Utility functions (validation, formatting, storage)\n   - Lifecycle management (cleanup, watchers)\n4. **Check dependencies**: Review existing composables to avoid duplication\n5. **Implement composable**: Create composable with proper TypeScript types and reactivity\n6. **Add lifecycle management**: Include proper cleanup with onUnmounted when needed\n7. **Create tests**: Write comprehensive unit tests for composable logic\n8. **Add documentation**: Include JSDoc comments and usage examples\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use appropriate Vue reactivity APIs (ref, reactive, computed, watch)\n- Include proper error handling and loading states\n- Add cleanup for side effects (event listeners, timers, subscriptions)\n- Make composables reusable and focused on single responsibility\n- Consider performance implications (shallow vs deep reactivity)\n\n## Common Composable Patterns\n\nBased on the request:\n- **Data fetching**: API calls with loading/error states\n- **Form handling**: Input management, validation, submission\n- **State management**: Local state, persistence, computed values\n- **DOM utilities**: Element refs, event handling, intersection observer\n- **Storage**: localStorage, sessionStorage, IndexedDB\n- **Authentication**: User state, token management, permissions\n- **UI utilities**: Dark mode, responsive breakpoints, modals\n\n## Important Notes\n\n- ALWAYS examine existing composables first to understand project patterns\n- Use proper Vue 3 Composition API patterns\n- Follow project's folder structure for composables (usually /composables)\n- Don't install new dependencies without asking\n- Consider composable composition (using other composables within composables)\n- Add proper TypeScript return types and generic constraints\n- Include proper reactivity patterns (avoid losing reactivity)"
              },
              {
                "name": "/lint",
                "description": null,
                "path": "cli-tool/templates/python/.claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Python Linter\n\nRun Python code linting and formatting tools.\n\n## Purpose\n\nThis command helps you maintain code quality using Python's best linting and formatting tools.\n\n## Usage\n\n```\n/lint\n```\n\n## What this command does\n\n1. **Runs multiple linters** (flake8, pylint, black, isort)\n2. **Provides detailed feedback** on code quality issues\n3. **Auto-fixes formatting** where possible\n4. **Checks type hints** if mypy is configured\n\n## Example Commands\n\n### Black (code formatting)\n```bash\n# Format all Python files\nblack .\n\n# Check formatting without changing files\nblack --check .\n\n# Format specific file\nblack src/main.py\n```\n\n### flake8 (style guide enforcement)\n```bash\n# Check all Python files\nflake8 .\n\n# Check specific directory\nflake8 src/\n\n# Check with specific rules\nflake8 --max-line-length=88 .\n```\n\n### isort (import sorting)\n```bash\n# Sort imports in all files\nisort .\n\n# Check import sorting\nisort --check-only .\n\n# Sort imports in specific file\nisort src/main.py\n```\n\n### pylint (comprehensive linting)\n```bash\n# Run pylint on all files\npylint src/\n\n# Run with specific score threshold\npylint --fail-under=8.0 src/\n\n# Generate detailed report\npylint --output-format=html src/ > pylint_report.html\n```\n\n### mypy (type checking)\n```bash\n# Check types in all files\nmypy .\n\n# Check specific module\nmypy src/models.py\n\n# Check with strict mode\nmypy --strict src/\n```\n\n## Configuration Files\n\nMost projects benefit from configuration files:\n\n### .flake8\n```ini\n[flake8]\nmax-line-length = 88\nexclude = .git,__pycache__,venv\nignore = E203,W503\n```\n\n### pyproject.toml\n```toml\n[tool.black]\nline-length = 88\n\n[tool.isort]\nprofile = \"black\"\n```\n\n## Best Practices\n\n- Run linters before committing code\n- Use consistent formatting across the project\n- Fix linting issues promptly\n- Configure linters to match your team's style\n- Use type hints for better code documentation"
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/python/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Runner\n\nRun Python tests with pytest, unittest, or other testing frameworks.\n\n## Purpose\n\nThis command helps you run Python tests effectively with proper configuration and reporting.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Detects test framework** (pytest, unittest, nose2)\n2. **Runs appropriate tests** with proper configuration\n3. **Provides coverage reporting** if available\n4. **Shows clear test results** with failure details\n\n## Example Commands\n\n### pytest (recommended)\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=src --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n\n# Run tests matching pattern\npytest -k \"test_user\"\n```\n\n### unittest\n```bash\n# Run all tests\npython -m unittest discover\n\n# Run specific test file\npython -m unittest tests.test_models\n\n# Run with verbose output\npython -m unittest -v\n```\n\n### Django tests\n```bash\n# Run all Django tests\npython manage.py test\n\n# Run specific app tests\npython manage.py test myapp\n\n# Run with coverage\ncoverage run --source='.' manage.py test\ncoverage report\n```\n\n## Best Practices\n\n- Write tests for all critical functionality\n- Use descriptive test names\n- Keep tests isolated and independent\n- Mock external dependencies\n- Aim for high test coverage (80%+)"
              },
              {
                "name": "/admin",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/admin.md",
                "frontmatter": null,
                "content": "# Django Admin Configuration\n\nConfigure Django admin interface with custom admin classes and functionality.\n\n## Purpose\n\nThis command helps you create comprehensive Django admin configurations with advanced features and customizations.\n\n## Usage\n\n```\n/admin\n```\n\n## What this command does\n\n1. **Registers models** with custom admin classes\n2. **Creates advanced admin interfaces** with filtering, search, and actions\n3. **Adds inline editing** for related models\n4. **Customizes list displays** and forms\n5. **Implements admin actions** for bulk operations\n\n## Example Output\n\n```python\n# admin.py\nfrom django.contrib import admin\nfrom django.utils.html import format_html\nfrom django.urls import reverse\nfrom django.utils.safestring import mark_safe\nfrom .models import Post, Category, Tag, Comment\n\n@admin.register(Category)\nclass CategoryAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Category model.\"\"\"\n    list_display = ['name', 'slug', 'post_count', 'created_at']\n    list_filter = ['created_at']\n    search_fields = ['name', 'description']\n    prepopulated_fields = {'slug': ('name',)}\n    readonly_fields = ['created_at', 'updated_at']\n    \n    def post_count(self, obj):\n        \"\"\"Display number of posts in this category.\"\"\"\n        count = obj.posts.count()\n        url = reverse('admin:blog_post_changelist') + f'?category__id__exact={obj.id}'\n        return format_html('<a href=\"{}\">{} posts</a>', url, count)\n    post_count.short_description = 'Posts'\n\nclass CommentInline(admin.TabularInline):\n    \"\"\"Inline admin for comments.\"\"\"\n    model = Comment\n    extra = 0\n    readonly_fields = ['created_at', 'author']\n    fields = ['author', 'content', 'is_approved', 'created_at']\n\n@admin.register(Post)\nclass PostAdmin(admin.ModelAdmin):\n    \"\"\"Advanced admin configuration for Post model.\"\"\"\n    list_display = [\n        'title', \n        'author', \n        'category', \n        'status', \n        'view_count',\n        'created_at',\n        'post_preview'\n    ]\n    list_filter = [\n        'status', \n        'category', \n        'created_at', \n        'updated_at',\n        ('author', admin.RelatedOnlyFieldListFilter)\n    ]\n    search_fields = ['title', 'content', 'author__username']\n    prepopulated_fields = {'slug': ('title',)}\n    readonly_fields = ['created_at', 'updated_at', 'view_count', 'post_preview']\n    \n    # Custom form layout\n    fieldsets = (\n        ('Content', {\n            'fields': ('title', 'slug', 'content', 'status')\n        }),\n        ('Metadata', {\n            'fields': ('author', 'category', 'tags'),\n            'classes': ('collapse',)\n        }),\n        ('SEO', {\n            'fields': ('meta_description', 'meta_keywords'),\n            'classes': ('collapse',)\n        }),\n        ('Timestamps', {\n            'fields': ('created_at', 'updated_at', 'view_count'),\n            'classes': ('collapse',)\n        }),\n    )\n    \n    # Many-to-many field display\n    filter_horizontal = ['tags']\n    \n    # Inline models\n    inlines = [CommentInline]\n    \n    # Custom list display methods\n    def post_preview(self, obj):\n        \"\"\"Show thumbnail preview of post.\"\"\"\n        if obj.featured_image:\n            return format_html(\n                '<img src=\"{}\" width=\"50\" height=\"50\" style=\"border-radius: 5px;\" />',\n                obj.featured_image.url\n            )\n        return \"No image\"\n    post_preview.short_description = 'Preview'\n    \n    # Custom admin actions\n    actions = ['make_published', 'make_draft', 'duplicate_posts']\n    \n    def make_published(self, request, queryset):\n        \"\"\"Bulk action to publish selected posts.\"\"\"\n        updated = queryset.update(status='published')\n        self.message_user(\n            request, \n            f'{updated} posts were successfully marked as published.'\n        )\n    make_published.short_description = \"Mark selected posts as published\"\n    \n    def make_draft(self, request, queryset):\n        \"\"\"Bulk action to set selected posts as draft.\"\"\"\n        updated = queryset.update(status='draft')\n        self.message_user(\n            request, \n            f'{updated} posts were successfully marked as draft.'\n        )\n    make_draft.short_description = \"Mark selected posts as draft\"\n    \n    def duplicate_posts(self, request, queryset):\n        \"\"\"Bulk action to duplicate selected posts.\"\"\"\n        count = 0\n        for post in queryset:\n            post.pk = None  # Create new instance\n            post.title = f\"Copy of {post.title}\"\n            post.slug = f\"copy-of-{post.slug}\"\n            post.status = 'draft'\n            post.save()\n            count += 1\n        \n        self.message_user(\n            request,\n            f'{count} posts were successfully duplicated.'\n        )\n    duplicate_posts.short_description = \"Duplicate selected posts\"\n\n@admin.register(Tag)\nclass TagAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Tag model.\"\"\"\n    list_display = ['name', 'slug', 'post_count', 'color_preview']\n    search_fields = ['name']\n    prepopulated_fields = {'slug': ('name',)}\n    \n    def post_count(self, obj):\n        \"\"\"Display number of posts with this tag.\"\"\"\n        return obj.posts.count()\n    post_count.short_description = 'Posts'\n    \n    def color_preview(self, obj):\n        \"\"\"Show color preview if tag has color field.\"\"\"\n        if hasattr(obj, 'color') and obj.color:\n            return format_html(\n                '<span style=\"background-color: {}; padding: 2px 8px; border-radius: 3px; color: white;\">{}</span>',\n                obj.color,\n                obj.name\n            )\n        return obj.name\n    color_preview.short_description = 'Preview'\n\n@admin.register(Comment)\nclass CommentAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Comment model.\"\"\"\n    list_display = ['author', 'post', 'content_preview', 'is_approved', 'created_at']\n    list_filter = ['is_approved', 'created_at', 'post__category']\n    search_fields = ['content', 'author__username', 'post__title']\n    readonly_fields = ['created_at', 'updated_at']\n    actions = ['approve_comments', 'disapprove_comments']\n    \n    def content_preview(self, obj):\n        \"\"\"Show truncated content preview.\"\"\"\n        return obj.content[:50] + \"...\" if len(obj.content) > 50 else obj.content\n    content_preview.short_description = 'Content'\n    \n    def approve_comments(self, request, queryset):\n        \"\"\"Bulk approve comments.\"\"\"\n        updated = queryset.update(is_approved=True)\n        self.message_user(request, f'{updated} comments were approved.')\n    approve_comments.short_description = \"Approve selected comments\"\n    \n    def disapprove_comments(self, request, queryset):\n        \"\"\"Bulk disapprove comments.\"\"\"\n        updated = queryset.update(is_approved=False)\n        self.message_user(request, f'{updated} comments were disapproved.')\n    disapprove_comments.short_description = \"Disapprove selected comments\"\n\n# Custom admin site configuration\nadmin.site.site_header = \"Blog Administration\"\nadmin.site.site_title = \"Blog Admin Portal\"\nadmin.site.index_title = \"Welcome to Blog Administration\"\n```\n\n## Advanced Features\n\n### Custom List Display\n- **Thumbnail previews** for images\n- **Related object counts** with links\n- **Status indicators** with colors\n- **Custom formatting** for data display\n\n### Filtering and Search\n- **Advanced filters** including date ranges\n- **Related field filtering** for foreign keys\n- **Search across multiple fields** including relations\n- **Custom filter classes** for complex queries\n\n### Inline Editing\n- **TabularInline** for compact editing\n- **StackedInline** for detailed forms\n- **Custom inline forms** with additional functionality\n- **Readonly fields** in inlines\n\n### Bulk Actions\n- **Status changes** for multiple objects\n- **Data export** functionality\n- **Batch operations** for efficiency\n- **Custom business logic** in actions\n\n### Form Customization\n- **Fieldsets** for organized layouts\n- **Collapsed sections** for advanced options\n- **Custom widgets** for better UX\n- **Validation** and error handling\n\n## Security Considerations\n\n- **Permission checks** in custom methods\n- **Input sanitization** in admin actions\n- **CSRF protection** (automatic)\n- **User authentication** (built-in)\n\n## Performance Optimization\n\n```python\n# Optimize queries with select_related/prefetch_related\nclass PostAdmin(admin.ModelAdmin):\n    def get_queryset(self, request):\n        queryset = super().get_queryset(request)\n        return queryset.select_related('author', 'category').prefetch_related('tags')\n```\n\n## Custom Admin Templates\n\n```python\n# Override admin templates\nclass PostAdmin(admin.ModelAdmin):\n    change_form_template = 'admin/blog/post/change_form.html'\n    change_list_template = 'admin/blog/post/change_list.html'\n```"
              },
              {
                "name": "/django-model",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/django-model.md",
                "frontmatter": null,
                "content": "# Django Model Generator\n\nCreate Django models with proper structure and relationships.\n\n## Purpose\n\nThis command helps you quickly create Django models with fields, relationships, and best practices.\n\n## Usage\n\n```\n/django-model\n```\n\n## What this command does\n\n1. **Creates model classes** with proper field definitions\n2. **Adds relationships** (ForeignKey, ManyToMany, OneToOne)\n3. **Includes meta options** and model methods\n4. **Generates migrations** automatically\n5. **Follows Django conventions** and best practices\n\n## Example Output\n\n```python\n# models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass Category(models.Model):\n    name = models.CharField(max_length=100, unique=True)\n    slug = models.SlugField(unique=True)\n    description = models.TextField(blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    \n    class Meta:\n        verbose_name_plural = \"categories\"\n        ordering = ['name']\n    \n    def __str__(self):\n        return self.name\n\nclass Post(models.Model):\n    STATUS_CHOICES = [\n        ('draft', 'Draft'),\n        ('published', 'Published'),\n        ('archived', 'Archived'),\n    ]\n    \n    title = models.CharField(max_length=200)\n    slug = models.SlugField(unique=True)\n    content = models.TextField()\n    status = models.CharField(max_length=20, choices=STATUS_CHOICES, default='draft')\n    author = models.ForeignKey(User, on_delete=models.CASCADE, related_name='posts')\n    category = models.ForeignKey(Category, on_delete=models.SET_NULL, null=True, blank=True)\n    tags = models.ManyToManyField('Tag', blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    \n    class Meta:\n        ordering = ['-created_at']\n        verbose_name = 'blog post'\n        verbose_name_plural = 'blog posts'\n    \n    def __str__(self):\n        return self.title\n    \n    def get_absolute_url(self):\n        return reverse('post_detail', kwargs={'slug': self.slug})\n\nclass Tag(models.Model):\n    name = models.CharField(max_length=50, unique=True)\n    slug = models.SlugField(unique=True)\n    \n    def __str__(self):\n        return self.name\n```\n\n## Field Types Supported\n\n- **CharField** - Text fields with max length\n- **TextField** - Large text fields\n- **IntegerField** - Integer numbers\n- **FloatField** - Floating point numbers\n- **BooleanField** - True/False values\n- **DateField** - Date only\n- **DateTimeField** - Date and time\n- **EmailField** - Email addresses\n- **URLField** - URLs\n- **ImageField** - Image uploads\n- **FileField** - File uploads\n- **JSONField** - JSON data (PostgreSQL)\n\n## Relationships\n\n- **ForeignKey** - One-to-many relationships\n- **ManyToManyField** - Many-to-many relationships\n- **OneToOneField** - One-to-one relationships\n\n## Best Practices Included\n\n- Proper field choices and defaults\n- Appropriate related_name attributes\n- __str__ methods for admin interface\n- Meta class with ordering and verbose names\n- get_absolute_url methods where appropriate\n- Proper use of null and blank parameters\n- Field validation and constraints\n\n## After Creating Models\n\n```bash\n# Create and apply migrations\npython manage.py makemigrations\npython manage.py migrate\n\n# Register in admin (optional)\n# Add to admin.py:\nfrom django.contrib import admin\nfrom .models import Post, Category, Tag\n\nadmin.site.register([Post, Category, Tag])\n```"
              },
              {
                "name": "/views",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/views.md",
                "frontmatter": null,
                "content": "# Django Views Generator\n\nCreate Django views with proper structure and best practices.\n\n## Purpose\n\nThis command helps you quickly create Django views (Function-Based Views and Class-Based Views) following Django conventions.\n\n## Usage\n\n```\n/views\n```\n\n## What this command does\n\n1. **Creates view functions/classes** with proper structure\n2. **Handles HTTP methods** (GET, POST, PUT, DELETE)\n3. **Includes form handling** and validation\n4. **Adds authentication/authorization** checks\n5. **Follows Django best practices** and security guidelines\n\n## Example Output\n\n```python\n# views.py\nfrom django.shortcuts import render, get_object_or_404, redirect\nfrom django.contrib.auth.decorators import login_required\nfrom django.contrib import messages\nfrom django.http import JsonResponse\nfrom django.views.generic import ListView, DetailView, CreateView, UpdateView, DeleteView\nfrom django.contrib.auth.mixins import LoginRequiredMixin\nfrom django.urls import reverse_lazy\nfrom .models import Post, Category\nfrom .forms import PostForm\n\n# Function-Based Views\ndef post_list(request):\n    \"\"\"Display list of posts with pagination and filtering.\"\"\"\n    posts = Post.objects.filter(status='published').select_related('author', 'category')\n    \n    # Search functionality\n    search_query = request.GET.get('search')\n    if search_query:\n        posts = posts.filter(title__icontains=search_query)\n    \n    # Category filtering\n    category_id = request.GET.get('category')\n    if category_id:\n        posts = posts.filter(category_id=category_id)\n    \n    context = {\n        'posts': posts,\n        'categories': Category.objects.all(),\n        'search_query': search_query,\n    }\n    return render(request, 'blog/post_list.html', context)\n\ndef post_detail(request, slug):\n    \"\"\"Display individual post details.\"\"\"\n    post = get_object_or_404(Post, slug=slug, status='published')\n    \n    context = {\n        'post': post,\n        'related_posts': Post.objects.filter(\n            category=post.category,\n            status='published'\n        ).exclude(id=post.id)[:3]\n    }\n    return render(request, 'blog/post_detail.html', context)\n\n@login_required\ndef post_create(request):\n    \"\"\"Create new post.\"\"\"\n    if request.method == 'POST':\n        form = PostForm(request.POST, request.FILES)\n        if form.is_valid():\n            post = form.save(commit=False)\n            post.author = request.user\n            post.save()\n            form.save_m2m()  # Save many-to-many relationships\n            messages.success(request, 'Post created successfully!')\n            return redirect('post_detail', slug=post.slug)\n    else:\n        form = PostForm()\n    \n    return render(request, 'blog/post_form.html', {'form': form})\n\n@login_required\ndef post_edit(request, slug):\n    \"\"\"Edit existing post.\"\"\"\n    post = get_object_or_404(Post, slug=slug, author=request.user)\n    \n    if request.method == 'POST':\n        form = PostForm(request.POST, request.FILES, instance=post)\n        if form.is_valid():\n            form.save()\n            messages.success(request, 'Post updated successfully!')\n            return redirect('post_detail', slug=post.slug)\n    else:\n        form = PostForm(instance=post)\n    \n    return render(request, 'blog/post_form.html', {\n        'form': form, \n        'post': post\n    })\n\n# Class-Based Views\nclass PostListView(ListView):\n    \"\"\"List view for posts with pagination.\"\"\"\n    model = Post\n    template_name = 'blog/post_list.html'\n    context_object_name = 'posts'\n    paginate_by = 10\n    \n    def get_queryset(self):\n        return Post.objects.filter(status='published').select_related('author', 'category')\n    \n    def get_context_data(self, **kwargs):\n        context = super().get_context_data(**kwargs)\n        context['categories'] = Category.objects.all()\n        return context\n\nclass PostDetailView(DetailView):\n    \"\"\"Detail view for individual posts.\"\"\"\n    model = Post\n    template_name = 'blog/post_detail.html'\n    context_object_name = 'post'\n    \n    def get_queryset(self):\n        return Post.objects.filter(status='published')\n\nclass PostCreateView(LoginRequiredMixin, CreateView):\n    \"\"\"Create view for new posts.\"\"\"\n    model = Post\n    form_class = PostForm\n    template_name = 'blog/post_form.html'\n    \n    def form_valid(self, form):\n        form.instance.author = self.request.user\n        return super().form_valid(form)\n\nclass PostUpdateView(LoginRequiredMixin, UpdateView):\n    \"\"\"Update view for existing posts.\"\"\"\n    model = Post\n    form_class = PostForm\n    template_name = 'blog/post_form.html'\n    \n    def get_queryset(self):\n        return Post.objects.filter(author=self.request.user)\n\nclass PostDeleteView(LoginRequiredMixin, DeleteView):\n    \"\"\"Delete view for posts.\"\"\"\n    model = Post\n    template_name = 'blog/post_confirm_delete.html'\n    success_url = reverse_lazy('post_list')\n    \n    def get_queryset(self):\n        return Post.objects.filter(author=self.request.user)\n\n# API Views\ndef api_post_list(request):\n    \"\"\"API endpoint for post list.\"\"\"\n    posts = Post.objects.filter(status='published').values(\n        'id', 'title', 'slug', 'created_at', 'author__username'\n    )\n    return JsonResponse(list(posts), safe=False)\n```\n\n## View Types Supported\n\n- **Function-Based Views (FBV)** - Simple, explicit control\n- **Class-Based Views (CBV)** - Reusable, inheritance-based\n- **Generic Views** - ListView, DetailView, CreateView, etc.\n- **API Views** - JSON responses for AJAX/API calls\n\n## Features Included\n\n- **Authentication checks** with decorators/mixins\n- **Permission handling** for user authorization\n- **Form processing** with validation\n- **Error handling** and user feedback\n- **SEO-friendly URLs** with slugs\n- **Database optimization** with select_related/prefetch_related\n- **Pagination** for large datasets\n- **Search and filtering** functionality\n\n## Security Best Practices\n\n- CSRF protection (automatic with forms)\n- User authentication and authorization\n- SQL injection prevention (ORM)\n- XSS protection with template escaping\n- Proper error handling\n\n## URL Configuration\n\n```python\n# urls.py\nfrom django.urls import path\nfrom . import views\n\napp_name = 'blog'\n\nurlpatterns = [\n    # Function-based views\n    path('', views.post_list, name='post_list'),\n    path('post/<slug:slug>/', views.post_detail, name='post_detail'),\n    path('create/', views.post_create, name='post_create'),\n    path('edit/<slug:slug>/', views.post_edit, name='post_edit'),\n    \n    # Class-based views\n    path('posts/', views.PostListView.as_view(), name='post_list_cbv'),\n    path('posts/<slug:slug>/', views.PostDetailView.as_view(), name='post_detail_cbv'),\n    path('posts/create/', views.PostCreateView.as_view(), name='post_create_cbv'),\n    path('posts/<slug:slug>/edit/', views.PostUpdateView.as_view(), name='post_edit_cbv'),\n    path('posts/<slug:slug>/delete/', views.PostDeleteView.as_view(), name='post_delete_cbv'),\n    \n    # API endpoints\n    path('api/posts/', views.api_post_list, name='api_post_list'),\n]\n```"
              },
              {
                "name": "/api-endpoints",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/api-endpoints.md",
                "frontmatter": null,
                "content": "# FastAPI Endpoints Generator\n\nCreate comprehensive FastAPI endpoints with proper structure, validation, and documentation.\n\n## Purpose\n\nThis command helps you quickly create FastAPI endpoints with Pydantic models, dependency injection, and automatic API documentation.\n\n## Usage\n\n```\n/api-endpoints\n```\n\n## What this command does\n\n1. **Creates API endpoints** with proper HTTP methods\n2. **Adds Pydantic models** for request/response validation\n3. **Implements dependency injection** for database and auth\n4. **Includes error handling** and status codes\n5. **Generates automatic documentation** with OpenAPI\n\n## Example Output\n\n```python\n# main.py\nfrom fastapi import FastAPI, Depends, HTTPException, status\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom fastapi.security import HTTPBearer, HTTPAuthorizationCredentials\nfrom sqlalchemy.orm import Session\nimport uvicorn\n\nfrom app.database import get_db, engine\nfrom app.models import models\nfrom app.routers import auth, users, posts, comments\nfrom app.core.config import settings\n\n# Create database tables\nmodels.Base.metadata.create_all(bind=engine)\n\n# Initialize FastAPI app\napp = FastAPI(\n    title=\"Blog API\",\n    description=\"A comprehensive blog API built with FastAPI\",\n    version=\"1.0.0\",\n    docs_url=\"/docs\",\n    redoc_url=\"/redoc\"\n)\n\n# Add CORS middleware\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=settings.ALLOWED_HOSTS,\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n\n# Include routers\napp.include_router(auth.router, prefix=\"/auth\", tags=[\"Authentication\"])\napp.include_router(users.router, prefix=\"/users\", tags=[\"Users\"])\napp.include_router(posts.router, prefix=\"/posts\", tags=[\"Posts\"])\napp.include_router(comments.router, prefix=\"/comments\", tags=[\"Comments\"])\n\n@app.get(\"/\", tags=[\"Root\"])\nasync def root():\n    \"\"\"API root endpoint.\"\"\"\n    return {\n        \"message\": \"Welcome to Blog API\",\n        \"version\": \"1.0.0\",\n        \"docs\": \"/docs\",\n        \"redoc\": \"/redoc\"\n    }\n\n@app.get(\"/health\", tags=[\"Health\"])\nasync def health_check():\n    \"\"\"Health check endpoint.\"\"\"\n    return {\"status\": \"healthy\", \"timestamp\": \"2024-01-01T00:00:00Z\"}\n\nif __name__ == \"__main__\":\n    uvicorn.run(\n        \"main:app\",\n        host=\"0.0.0.0\",\n        port=8000,\n        reload=True\n    )\n```\n\n```python\n# app/routers/posts.py\nfrom typing import List, Optional\nfrom fastapi import APIRouter, Depends, HTTPException, status, Query\nfrom sqlalchemy.orm import Session\n\nfrom app.database import get_db\nfrom app.schemas import post_schemas\nfrom app.services import post_service\nfrom app.core.dependencies import get_current_user, get_current_active_user\nfrom app.models.user import User\n\nrouter = APIRouter()\n\n@router.get(\"/\", response_model=List[post_schemas.PostResponse])\nasync def get_posts(\n    skip: int = Query(0, ge=0, description=\"Number of posts to skip\"),\n    limit: int = Query(10, ge=1, le=100, description=\"Number of posts to return\"),\n    search: Optional[str] = Query(None, description=\"Search in title and content\"),\n    category: Optional[str] = Query(None, description=\"Filter by category\"),\n    published: Optional[bool] = Query(True, description=\"Filter by published status\"),\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get all posts with pagination and filtering.\n    \n    - **skip**: Number of posts to skip (for pagination)\n    - **limit**: Maximum number of posts to return (1-100)\n    - **search**: Search term for title and content\n    - **category**: Filter posts by category\n    - **published**: Filter by published status\n    \"\"\"\n    posts = post_service.get_posts(\n        db=db,\n        skip=skip,\n        limit=limit,\n        search=search,\n        category=category,\n        published=published\n    )\n    return posts\n\n@router.get(\"/{post_id}\", response_model=post_schemas.PostResponse)\nasync def get_post(\n    post_id: int,\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get a specific post by ID.\n    \n    - **post_id**: Unique identifier for the post\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    return post\n\n@router.post(\"/\", response_model=post_schemas.PostResponse, status_code=status.HTTP_201_CREATED)\nasync def create_post(\n    post: post_schemas.PostCreate,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Create a new post.\n    \n    - **title**: Post title (required)\n    - **content**: Post content (required)\n    - **category**: Post category (optional)\n    - **published**: Publication status (default: false)\n    \"\"\"\n    return post_service.create_post(\n        db=db,\n        post=post,\n        user_id=current_user.id\n    )\n\n@router.put(\"/{post_id}\", response_model=post_schemas.PostResponse)\nasync def update_post(\n    post_id: int,\n    post_update: post_schemas.PostUpdate,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Update an existing post.\n    \n    - **post_id**: Unique identifier for the post\n    - **title**: Updated post title (optional)\n    - **content**: Updated post content (optional)\n    - **category**: Updated post category (optional)\n    - **published**: Updated publication status (optional)\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    if post.author_id != current_user.id:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not authorized to update this post\"\n        )\n    \n    return post_service.update_post(\n        db=db,\n        post_id=post_id,\n        post_update=post_update\n    )\n\n@router.delete(\"/{post_id}\", status_code=status.HTTP_204_NO_CONTENT)\nasync def delete_post(\n    post_id: int,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Delete a post.\n    \n    - **post_id**: Unique identifier for the post to delete\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    if post.author_id != current_user.id:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not authorized to delete this post\"\n        )\n    \n    post_service.delete_post(db=db, post_id=post_id)\n\n@router.post(\"/{post_id}/like\", response_model=post_schemas.PostResponse)\nasync def like_post(\n    post_id: int,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Like/unlike a post.\n    \n    - **post_id**: Unique identifier for the post to like\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    return post_service.toggle_like(\n        db=db,\n        post_id=post_id,\n        user_id=current_user.id\n    )\n\n@router.get(\"/{post_id}/comments\", response_model=List[post_schemas.CommentResponse])\nasync def get_post_comments(\n    post_id: int,\n    skip: int = Query(0, ge=0),\n    limit: int = Query(10, ge=1, le=100),\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get all comments for a specific post.\n    \n    - **post_id**: Unique identifier for the post\n    - **skip**: Number of comments to skip\n    - **limit**: Maximum number of comments to return\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    return post_service.get_post_comments(\n        db=db,\n        post_id=post_id,\n        skip=skip,\n        limit=limit\n    )\n```\n\n```python\n# app/schemas/post_schemas.py\nfrom typing import Optional, List\nfrom datetime import datetime\nfrom pydantic import BaseModel, Field, validator\n\nclass PostBase(BaseModel):\n    \"\"\"Base post schema.\"\"\"\n    title: str = Field(..., min_length=1, max_length=200, description=\"Post title\")\n    content: str = Field(..., min_length=1, description=\"Post content\")\n    category: Optional[str] = Field(None, max_length=50, description=\"Post category\")\n    published: bool = Field(False, description=\"Publication status\")\n\nclass PostCreate(PostBase):\n    \"\"\"Schema for creating a post.\"\"\"\n    \n    @validator('title')\n    def validate_title(cls, v):\n        if not v.strip():\n            raise ValueError('Title cannot be empty')\n        return v.strip()\n    \n    @validator('content')\n    def validate_content(cls, v):\n        if len(v.strip()) < 10:\n            raise ValueError('Content must be at least 10 characters long')\n        return v.strip()\n\nclass PostUpdate(BaseModel):\n    \"\"\"Schema for updating a post.\"\"\"\n    title: Optional[str] = Field(None, min_length=1, max_length=200)\n    content: Optional[str] = Field(None, min_length=1)\n    category: Optional[str] = Field(None, max_length=50)\n    published: Optional[bool] = None\n    \n    @validator('title')\n    def validate_title(cls, v):\n        if v is not None and not v.strip():\n            raise ValueError('Title cannot be empty')\n        return v.strip() if v else v\n    \n    @validator('content')\n    def validate_content(cls, v):\n        if v is not None and len(v.strip()) < 10:\n            raise ValueError('Content must be at least 10 characters long')\n        return v.strip() if v else v\n\nclass PostResponse(PostBase):\n    \"\"\"Schema for post responses.\"\"\"\n    id: int\n    author_id: int\n    created_at: datetime\n    updated_at: datetime\n    like_count: int = 0\n    comment_count: int = 0\n    \n    class Config:\n        from_attributes = True\n\nclass CommentBase(BaseModel):\n    \"\"\"Base comment schema.\"\"\"\n    content: str = Field(..., min_length=1, max_length=1000, description=\"Comment content\")\n\nclass CommentCreate(CommentBase):\n    \"\"\"Schema for creating a comment.\"\"\"\n    post_id: int = Field(..., description=\"ID of the post to comment on\")\n\nclass CommentResponse(CommentBase):\n    \"\"\"Schema for comment responses.\"\"\"\n    id: int\n    post_id: int\n    author_id: int\n    created_at: datetime\n    updated_at: datetime\n    \n    class Config:\n        from_attributes = True\n```\n\n```python\n# app/services/post_service.py\nfrom typing import List, Optional\nfrom sqlalchemy.orm import Session\nfrom sqlalchemy import or_\n\nfrom app.models.post import Post, Comment, PostLike\nfrom app.schemas.post_schemas import PostCreate, PostUpdate\n\ndef get_posts(\n    db: Session,\n    skip: int = 0,\n    limit: int = 10,\n    search: Optional[str] = None,\n    category: Optional[str] = None,\n    published: Optional[bool] = True\n) -> List[Post]:\n    \"\"\"Get posts with filtering and pagination.\"\"\"\n    query = db.query(Post)\n    \n    if published is not None:\n        query = query.filter(Post.published == published)\n    \n    if category:\n        query = query.filter(Post.category == category)\n    \n    if search:\n        query = query.filter(\n            or_(\n                Post.title.contains(search),\n                Post.content.contains(search)\n            )\n        )\n    \n    return query.offset(skip).limit(limit).all()\n\ndef get_post(db: Session, post_id: int) -> Optional[Post]:\n    \"\"\"Get a single post by ID.\"\"\"\n    return db.query(Post).filter(Post.id == post_id).first()\n\ndef create_post(db: Session, post: PostCreate, user_id: int) -> Post:\n    \"\"\"Create a new post.\"\"\"\n    db_post = Post(**post.dict(), author_id=user_id)\n    db.add(db_post)\n    db.commit()\n    db.refresh(db_post)\n    return db_post\n\ndef update_post(\n    db: Session,\n    post_id: int,\n    post_update: PostUpdate\n) -> Optional[Post]:\n    \"\"\"Update an existing post.\"\"\"\n    db_post = db.query(Post).filter(Post.id == post_id).first()\n    if not db_post:\n        return None\n    \n    update_data = post_update.dict(exclude_unset=True)\n    for field, value in update_data.items():\n        setattr(db_post, field, value)\n    \n    db.commit()\n    db.refresh(db_post)\n    return db_post\n\ndef delete_post(db: Session, post_id: int) -> bool:\n    \"\"\"Delete a post.\"\"\"\n    db_post = db.query(Post).filter(Post.id == post_id).first()\n    if not db_post:\n        return False\n    \n    db.delete(db_post)\n    db.commit()\n    return True\n\ndef toggle_like(db: Session, post_id: int, user_id: int) -> Post:\n    \"\"\"Toggle like status for a post.\"\"\"\n    existing_like = db.query(PostLike).filter(\n        PostLike.post_id == post_id,\n        PostLike.user_id == user_id\n    ).first()\n    \n    if existing_like:\n        db.delete(existing_like)\n    else:\n        new_like = PostLike(post_id=post_id, user_id=user_id)\n        db.add(new_like)\n    \n    db.commit()\n    return get_post(db, post_id)\n```\n\n## Features Included\n\n### API Documentation\n- **Automatic OpenAPI** schema generation\n- **Interactive docs** at `/docs`\n- **ReDoc documentation** at `/redoc`\n- **Request/Response examples** in schemas\n\n### Validation & Serialization\n- **Pydantic models** for data validation\n- **Custom validators** for business rules\n- **Type hints** for better IDE support\n- **Automatic data conversion** and validation\n\n### Error Handling\n- **HTTP status codes** for different scenarios\n- **Detailed error messages** with context\n- **Input validation errors** with field-specific messages\n- **Custom exception handlers** for consistent responses\n\n### Security\n- **JWT authentication** with dependencies\n- **Role-based access control** for endpoints\n- **CORS middleware** for cross-origin requests\n- **Input sanitization** through Pydantic\n\n### Performance\n- **Database query optimization** with SQLAlchemy\n- **Pagination support** for large datasets\n- **Async/await support** for concurrent requests\n- **Connection pooling** for database efficiency\n\n## Testing Example\n\n```python\n# tests/test_posts.py\nimport pytest\nfrom fastapi.testclient import TestClient\nfrom app.main import app\n\nclient = TestClient(app)\n\ndef test_get_posts():\n    \"\"\"Test getting posts.\"\"\"\n    response = client.get(\"/posts/\")\n    assert response.status_code == 200\n    assert isinstance(response.json(), list)\n\ndef test_create_post():\n    \"\"\"Test creating a new post.\"\"\"\n    post_data = {\n        \"title\": \"Test Post\",\n        \"content\": \"This is a test post content.\",\n        \"published\": True\n    }\n    response = client.post(\"/posts/\", json=post_data)\n    assert response.status_code == 201\n    assert response.json()[\"title\"] == \"Test Post\"\n```"
              },
              {
                "name": "/auth",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/auth.md",
                "frontmatter": null,
                "content": "# FastAPI Authentication & Authorization\n\nComplete authentication system with JWT tokens, OAuth2, and role-based access control.\n\n## Usage\n\n```bash\n# Install auth dependencies\npip install python-jose[cryptography] passlib[bcrypt] python-multipart\n\n# Generate secret key\nopenssl rand -hex 32\n```\n\n## JWT Configuration\n\n```python\n# app/core/security.py\nfrom datetime import datetime, timedelta\nfrom typing import Optional, Union, Any\nfrom jose import JWTError, jwt\nfrom passlib.context import CryptContext\nfrom app.core.config import settings\n\n# Password hashing\npwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\n# JWT settings\nSECRET_KEY = settings.SECRET_KEY\nALGORITHM = \"HS256\"\nACCESS_TOKEN_EXPIRE_MINUTES = 30\nREFRESH_TOKEN_EXPIRE_DAYS = 7\n\ndef create_access_token(\n    subject: Union[str, Any], \n    expires_delta: Optional[timedelta] = None\n) -> str:\n    \"\"\"Create JWT access token.\"\"\"\n    if expires_delta:\n        expire = datetime.utcnow() + expires_delta\n    else:\n        expire = datetime.utcnow() + timedelta(minutes=ACCESS_TOKEN_EXPIRE_MINUTES)\n    \n    to_encode = {\"exp\": expire, \"sub\": str(subject), \"type\": \"access\"}\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n    return encoded_jwt\n\ndef create_refresh_token(subject: Union[str, Any]) -> str:\n    \"\"\"Create JWT refresh token.\"\"\"\n    expire = datetime.utcnow() + timedelta(days=REFRESH_TOKEN_EXPIRE_DAYS)\n    to_encode = {\"exp\": expire, \"sub\": str(subject), \"type\": \"refresh\"}\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n    return encoded_jwt\n\ndef verify_password(plain_password: str, hashed_password: str) -> bool:\n    \"\"\"Verify password against hash.\"\"\"\n    return pwd_context.verify(plain_password, hashed_password)\n\ndef get_password_hash(password: str) -> str:\n    \"\"\"Generate password hash.\"\"\"\n    return pwd_context.hash(password)\n\ndef decode_token(token: str) -> Optional[dict]:\n    \"\"\"Decode and verify JWT token.\"\"\"\n    try:\n        payload = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])\n        return payload\n    except JWTError:\n        return None\n```\n\n## Authentication Dependencies\n\n```python\n# app/api/dependencies/auth.py\nfrom typing import Optional\nfrom fastapi import Depends, HTTPException, status\nfrom fastapi.security import OAuth2PasswordBearer, HTTPBearer, HTTPAuthorizationCredentials\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.core.security import decode_token\nfrom app.db.database import get_db\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\n\n# OAuth2 scheme\noauth2_scheme = OAuth2PasswordBearer(\n    tokenUrl=\"/api/v1/auth/login\",\n    scheme_name=\"JWT\"\n)\n\n# Bearer token scheme\nsecurity = HTTPBearer()\n\nasync def get_current_user(\n    token: str = Depends(oauth2_scheme),\n    db: AsyncSession = Depends(get_db)\n) -> User:\n    \"\"\"Get current authenticated user.\"\"\"\n    credentials_exception = HTTPException(\n        status_code=status.HTTP_401_UNAUTHORIZED,\n        detail=\"Could not validate credentials\",\n        headers={\"WWW-Authenticate\": \"Bearer\"},\n    )\n    \n    payload = decode_token(token)\n    if payload is None:\n        raise credentials_exception\n    \n    user_id: str = payload.get(\"sub\")\n    token_type: str = payload.get(\"type\")\n    \n    if user_id is None or token_type != \"access\":\n        raise credentials_exception\n    \n    user_repo = UserRepository(User, db)\n    user = await user_repo.get(int(user_id))\n    \n    if user is None:\n        raise credentials_exception\n    \n    if not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    \n    return user\n\nasync def get_current_active_user(\n    current_user: User = Depends(get_current_user)\n) -> User:\n    \"\"\"Get current active user.\"\"\"\n    if not current_user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    return current_user\n\nasync def get_current_superuser(\n    current_user: User = Depends(get_current_user)\n) -> User:\n    \"\"\"Get current superuser.\"\"\"\n    if not current_user.is_superuser:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not enough permissions\"\n        )\n    return current_user\n\ndef require_permissions(*permissions: str):\n    \"\"\"Decorator for permission-based access control.\"\"\"\n    async def permission_checker(\n        current_user: User = Depends(get_current_active_user)\n    ) -> User:\n        # Check if user has required permissions\n        user_permissions = set(current_user.permissions or [])\n        required_permissions = set(permissions)\n        \n        if not required_permissions.issubset(user_permissions) and not current_user.is_superuser:\n            raise HTTPException(\n                status_code=status.HTTP_403_FORBIDDEN,\n                detail=\"Insufficient permissions\"\n            )\n        \n        return current_user\n    \n    return permission_checker\n\ndef require_roles(*roles: str):\n    \"\"\"Decorator for role-based access control.\"\"\"\n    async def role_checker(\n        current_user: User = Depends(get_current_active_user)\n    ) -> User:\n        user_roles = set(role.name for role in current_user.roles or [])\n        required_roles = set(roles)\n        \n        if not required_roles.issubset(user_roles) and not current_user.is_superuser:\n            raise HTTPException(\n                status_code=status.HTTP_403_FORBIDDEN,\n                detail=\"Insufficient role permissions\"\n            )\n        \n        return current_user\n    \n    return role_checker\n```\n\n## Authentication Schemas\n\n```python\n# app/schemas/auth.py\nfrom pydantic import BaseModel, EmailStr\nfrom typing import Optional\n\nclass Token(BaseModel):\n    \"\"\"Token response schema.\"\"\"\n    access_token: str\n    refresh_token: str\n    token_type: str = \"bearer\"\n    expires_in: int\n\nclass TokenPayload(BaseModel):\n    \"\"\"Token payload schema.\"\"\"\n    sub: Optional[int] = None\n    exp: Optional[int] = None\n    type: Optional[str] = None\n\nclass UserLogin(BaseModel):\n    \"\"\"User login schema.\"\"\"\n    username: str\n    password: str\n\nclass UserRegister(BaseModel):\n    \"\"\"User registration schema.\"\"\"\n    username: str\n    email: EmailStr\n    password: str\n    first_name: str\n    last_name: str\n\nclass PasswordReset(BaseModel):\n    \"\"\"Password reset schema.\"\"\"\n    email: EmailStr\n\nclass PasswordResetConfirm(BaseModel):\n    \"\"\"Password reset confirmation schema.\"\"\"\n    token: str\n    new_password: str\n\nclass ChangePassword(BaseModel):\n    \"\"\"Change password schema.\"\"\"\n    current_password: str\n    new_password: str\n\nclass RefreshToken(BaseModel):\n    \"\"\"Refresh token schema.\"\"\"\n    refresh_token: str\n```\n\n## Authentication Endpoints\n\n```python\n# app/api/v1/auth.py\nfrom datetime import timedelta\nfrom typing import Any\nfrom fastapi import APIRouter, Depends, HTTPException, status, BackgroundTasks\nfrom fastapi.security import OAuth2PasswordRequestForm\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.db.database import get_db\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.schemas.auth import (\n    Token, UserLogin, UserRegister, PasswordReset, \n    PasswordResetConfirm, ChangePassword, RefreshToken\n)\nfrom app.schemas.user import UserCreate, UserResponse\nfrom app.core.security import (\n    create_access_token, create_refresh_token, verify_password,\n    decode_token, ACCESS_TOKEN_EXPIRE_MINUTES\n)\nfrom app.api.dependencies.auth import get_current_user, get_current_active_user\nfrom app.services.email import send_password_reset_email\nfrom app.services.auth import AuthService\n\nrouter = APIRouter()\n\n@router.post(\"/register\", response_model=UserResponse, status_code=status.HTTP_201_CREATED)\nasync def register(\n    user_data: UserRegister,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Register new user.\"\"\"\n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    # Check if user already exists\n    if await user_repo.get_by_email(user_data.email):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Email already registered\"\n        )\n    \n    if await user_repo.get_by_username(user_data.username):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Username already taken\"\n        )\n    \n    # Create user\n    user = await auth_service.create_user(user_data.dict())\n    return user\n\n@router.post(\"/login\", response_model=Token)\nasync def login(\n    form_data: OAuth2PasswordRequestForm = Depends(),\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"OAuth2 compatible token login.\"\"\"\n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    user = await auth_service.authenticate_user(\n        form_data.username, \n        form_data.password\n    )\n    \n    if not user:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Incorrect username or password\",\n            headers={\"WWW-Authenticate\": \"Bearer\"},\n        )\n    \n    if not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    \n    # Create tokens\n    access_token = create_access_token(subject=user.id)\n    refresh_token = create_refresh_token(subject=user.id)\n    \n    return {\n        \"access_token\": access_token,\n        \"refresh_token\": refresh_token,\n        \"token_type\": \"bearer\",\n        \"expires_in\": ACCESS_TOKEN_EXPIRE_MINUTES * 60\n    }\n\n@router.post(\"/refresh\", response_model=Token)\nasync def refresh_token(\n    refresh_data: RefreshToken,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Refresh access token.\"\"\"\n    payload = decode_token(refresh_data.refresh_token)\n    \n    if payload is None or payload.get(\"type\") != \"refresh\":\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    user_id = payload.get(\"sub\")\n    if user_id is None:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    user = await user_repo.get(int(user_id))\n    \n    if user is None or not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    # Create new tokens\n    access_token = create_access_token(subject=user.id)\n    new_refresh_token = create_refresh_token(subject=user.id)\n    \n    return {\n        \"access_token\": access_token,\n        \"refresh_token\": new_refresh_token,\n        \"token_type\": \"bearer\",\n        \"expires_in\": ACCESS_TOKEN_EXPIRE_MINUTES * 60\n    }\n\n@router.get(\"/me\", response_model=UserResponse)\nasync def read_users_me(\n    current_user: User = Depends(get_current_active_user)\n) -> Any:\n    \"\"\"Get current user.\"\"\"\n    return current_user\n\n@router.post(\"/change-password\", status_code=status.HTTP_200_OK)\nasync def change_password(\n    password_data: ChangePassword,\n    current_user: User = Depends(get_current_active_user),\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Change user password.\"\"\"\n    if not verify_password(password_data.current_password, current_user.hashed_password):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Incorrect current password\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    await auth_service.change_password(current_user.id, password_data.new_password)\n    \n    return {\"message\": \"Password changed successfully\"}\n\n@router.post(\"/password-reset\", status_code=status.HTTP_200_OK)\nasync def password_reset(\n    reset_data: PasswordReset,\n    background_tasks: BackgroundTasks,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Request password reset.\"\"\"\n    user_repo = UserRepository(User, db)\n    user = await user_repo.get_by_email(reset_data.email)\n    \n    if user:\n        # Generate reset token\n        reset_token = create_access_token(\n            subject=user.id,\n            expires_delta=timedelta(hours=1)  # 1 hour expiry\n        )\n        \n        # Send email with reset token\n        background_tasks.add_task(\n            send_password_reset_email,\n            email=user.email,\n            username=user.username,\n            token=reset_token\n        )\n    \n    # Always return success to prevent email enumeration\n    return {\"message\": \"Password reset email sent if account exists\"}\n\n@router.post(\"/password-reset-confirm\", status_code=status.HTTP_200_OK)\nasync def password_reset_confirm(\n    reset_data: PasswordResetConfirm,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Confirm password reset.\"\"\"\n    payload = decode_token(reset_data.token)\n    \n    if payload is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid or expired reset token\"\n        )\n    \n    user_id = payload.get(\"sub\")\n    if user_id is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid reset token\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    user = await user_repo.get(int(user_id))\n    if user is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid reset token\"\n        )\n    \n    await auth_service.change_password(user.id, reset_data.new_password)\n    \n    return {\"message\": \"Password reset successful\"}\n\n@router.post(\"/logout\", status_code=status.HTTP_200_OK)\nasync def logout(\n    current_user: User = Depends(get_current_user)\n) -> Any:\n    \"\"\"Logout user (invalidate token on client side).\"\"\"\n    # In a more sophisticated setup, you might want to blacklist the token\n    return {\"message\": \"Successfully logged out\"}\n```\n\n## Authentication Service\n\n```python\n# app/services/auth.py\nfrom typing import Optional\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.security import verify_password, get_password_hash\n\nclass AuthService:\n    \"\"\"Authentication service.\"\"\"\n    \n    def __init__(self, user_repository: UserRepository):\n        self.user_repo = user_repository\n    \n    async def authenticate_user(\n        self, \n        username_or_email: str, \n        password: str\n    ) -> Optional[User]:\n        \"\"\"Authenticate user by username/email and password.\"\"\"\n        # Try to get user by username first, then by email\n        user = await self.user_repo.get_by_username(username_or_email)\n        if not user:\n            user = await self.user_repo.get_by_email(username_or_email)\n        \n        if not user:\n            return None\n        \n        if not verify_password(password, user.hashed_password):\n            return None\n        \n        return user\n    \n    async def create_user(self, user_data: dict) -> User:\n        \"\"\"Create new user.\"\"\"\n        # Hash password\n        password = user_data.pop('password')\n        hashed_password = get_password_hash(password)\n        \n        # Create user data\n        user_create_data = {\n            **user_data,\n            'hashed_password': hashed_password,\n            'is_active': True,\n            'is_superuser': False\n        }\n        \n        return await self.user_repo.create(user_create_data)\n    \n    async def change_password(self, user_id: int, new_password: str) -> bool:\n        \"\"\"Change user password.\"\"\"\n        hashed_password = get_password_hash(new_password)\n        \n        result = await self.user_repo.update(user_id, {\n            'hashed_password': hashed_password\n        })\n        \n        return result is not None\n    \n    async def activate_user(self, user_id: int) -> bool:\n        \"\"\"Activate user account.\"\"\"\n        result = await self.user_repo.update(user_id, {'is_active': True})\n        return result is not None\n    \n    async def deactivate_user(self, user_id: int) -> bool:\n        \"\"\"Deactivate user account.\"\"\"\n        result = await self.user_repo.update(user_id, {'is_active': False})\n        return result is not None\n```\n\n## Role-Based Access Control\n\n```python\n# app/models/rbac.py\nfrom sqlalchemy import Column, String, Text, ForeignKey, Table\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\n\n# Association tables for many-to-many relationships\nuser_roles = Table(\n    'user_roles',\n    Base.metadata,\n    Column('user_id', Integer, ForeignKey('users.id')),\n    Column('role_id', Integer, ForeignKey('roles.id'))\n)\n\nrole_permissions = Table(\n    'role_permissions',\n    Base.metadata,\n    Column('role_id', Integer, ForeignKey('roles.id')),\n    Column('permission_id', Integer, ForeignKey('permissions.id'))\n)\n\nclass Role(BaseModel):\n    \"\"\"Role model for RBAC.\"\"\"\n    __tablename__ = \"roles\"\n    \n    name = Column(String(50), unique=True, nullable=False, index=True)\n    description = Column(Text)\n    \n    # Relationships\n    users = relationship(\"User\", secondary=user_roles, back_populates=\"roles\")\n    permissions = relationship(\"Permission\", secondary=role_permissions, back_populates=\"roles\")\n\nclass Permission(BaseModel):\n    \"\"\"Permission model for RBAC.\"\"\"\n    __tablename__ = \"permissions\"\n    \n    name = Column(String(100), unique=True, nullable=False, index=True)\n    description = Column(Text)\n    resource = Column(String(50), nullable=False)  # e.g., 'users', 'posts'\n    action = Column(String(50), nullable=False)    # e.g., 'create', 'read', 'update', 'delete'\n    \n    # Relationships\n    roles = relationship(\"Role\", secondary=role_permissions, back_populates=\"permissions\")\n\n# Update User model to include roles\nclass User(BaseModel):\n    # ... existing fields ...\n    \n    # Relationships\n    roles = relationship(\"Role\", secondary=user_roles, back_populates=\"users\")\n    \n    @property\n    def permissions(self) -> list[str]:\n        \"\"\"Get all permissions for user.\"\"\"\n        perms = set()\n        for role in self.roles:\n            for permission in role.permissions:\n                perms.add(f\"{permission.resource}:{permission.action}\")\n        return list(perms)\n```\n\n## OAuth2 Integration\n\n```python\n# app/api/v1/oauth.py\nfrom fastapi import APIRouter, Depends, HTTPException, status\nfrom fastapi.security.utils import get_authorization_scheme_param\nfrom starlette.requests import Request\nfrom authlib.integrations.starlette_client import OAuth\nfrom app.core.config import settings\n\nrouter = APIRouter()\n\n# OAuth configuration\noauth = OAuth()\n\n# Google OAuth\ngoogle = oauth.register(\n    name='google',\n    client_id=settings.GOOGLE_CLIENT_ID,\n    client_secret=settings.GOOGLE_CLIENT_SECRET,\n    server_metadata_url='https://accounts.google.com/.well-known/openid_configuration',\n    client_kwargs={\n        'scope': 'openid email profile'\n    }\n)\n\n# GitHub OAuth\ngithub = oauth.register(\n    name='github',\n    client_id=settings.GITHUB_CLIENT_ID,\n    client_secret=settings.GITHUB_CLIENT_SECRET,\n    access_token_url='https://github.com/login/oauth/access_token',\n    access_token_params=None,\n    authorize_url='https://github.com/login/oauth/authorize',\n    authorize_params=None,\n    api_base_url='https://api.github.com/',\n    client_kwargs={'scope': 'user:email'},\n)\n\n@router.get('/google')\nasync def google_login(request: Request):\n    \"\"\"Initiate Google OAuth login.\"\"\"\n    redirect_uri = request.url_for('google_callback')\n    return await google.authorize_redirect(request, redirect_uri)\n\n@router.get('/google/callback')\nasync def google_callback(request: Request):\n    \"\"\"Handle Google OAuth callback.\"\"\"\n    token = await google.authorize_access_token(request)\n    user_info = token.get('userinfo')\n    \n    if user_info:\n        # Create or get user\n        # Generate JWT token\n        # Return token\n        pass\n    \n    raise HTTPException(\n        status_code=status.HTTP_400_BAD_REQUEST,\n        detail=\"OAuth authentication failed\"\n    )\n```\n\n## API Key Authentication\n\n```python\n# app/models/api_key.py\nfrom sqlalchemy import Column, String, Boolean, ForeignKey, DateTime\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\nimport secrets\n\nclass APIKey(BaseModel):\n    \"\"\"API Key model.\"\"\"\n    __tablename__ = \"api_keys\"\n    \n    name = Column(String(100), nullable=False)\n    key_hash = Column(String(255), unique=True, nullable=False, index=True)\n    prefix = Column(String(10), nullable=False, index=True)\n    is_active = Column(Boolean, default=True, nullable=False)\n    expires_at = Column(DateTime)\n    last_used_at = Column(DateTime)\n    \n    # Foreign key\n    user_id = Column(Integer, ForeignKey(\"users.id\"), nullable=False)\n    \n    # Relationships\n    user = relationship(\"User\", back_populates=\"api_keys\")\n    \n    @classmethod\n    def generate_key(cls) -> tuple[str, str]:\n        \"\"\"Generate API key and return (key, hash).\"\"\"\n        key = secrets.token_urlsafe(32)\n        prefix = key[:8]\n        key_hash = get_password_hash(key)\n        return key, prefix, key_hash\n    \n    def verify_key(self, key: str) -> bool:\n        \"\"\"Verify API key.\"\"\"\n        return verify_password(key, self.key_hash)\n\n# Add to User model\nclass User(BaseModel):\n    # ... existing fields ...\n    \n    # Relationships\n    api_keys = relationship(\"APIKey\", back_populates=\"user\", cascade=\"all, delete-orphan\")\n```\n\n## Testing Authentication\n\n```python\n# tests/test_auth.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.core.security import create_access_token\n\n@pytest.mark.asyncio\nasync def test_register_user(client: AsyncClient):\n    \"\"\"Test user registration.\"\"\"\n    user_data = {\n        \"username\": \"testuser\",\n        \"email\": \"test@example.com\",\n        \"password\": \"testpass123\",\n        \"first_name\": \"Test\",\n        \"last_name\": \"User\"\n    }\n    \n    response = await client.post(\"/api/v1/auth/register\", json=user_data)\n    assert response.status_code == 201\n    \n    data = response.json()\n    assert data[\"username\"] == user_data[\"username\"]\n    assert data[\"email\"] == user_data[\"email\"]\n    assert \"hashed_password\" not in data\n\n@pytest.mark.asyncio\nasync def test_login_user(client: AsyncClient, test_user):\n    \"\"\"Test user login.\"\"\"\n    login_data = {\n        \"username\": test_user.username,\n        \"password\": \"testpass123\"\n    }\n    \n    response = await client.post(\n        \"/api/v1/auth/login\", \n        data=login_data,\n        headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n    )\n    \n    assert response.status_code == 200\n    \n    data = response.json()\n    assert \"access_token\" in data\n    assert \"refresh_token\" in data\n    assert data[\"token_type\"] == \"bearer\"\n\n@pytest.mark.asyncio\nasync def test_get_current_user(client: AsyncClient, test_user):\n    \"\"\"Test get current user endpoint.\"\"\"\n    token = create_access_token(subject=test_user.id)\n    headers = {\"Authorization\": f\"Bearer {token}\"}\n    \n    response = await client.get(\"/api/v1/auth/me\", headers=headers)\n    assert response.status_code == 200\n    \n    data = response.json()\n    assert data[\"username\"] == test_user.username\n    assert data[\"email\"] == test_user.email\n```\n"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# FastAPI Database Integration\n\nComplete database setup with SQLAlchemy, Alembic, and async support for FastAPI.\n\n## Usage\n\n```bash\n# Initialize Alembic\nalembic init alembic\n\n# Create migration\nalembic revision --autogenerate -m \"Initial migration\"\n\n# Apply migrations\nalembic upgrade head\n\n# Downgrade migration\nalembic downgrade -1\n```\n\n## Database Configuration\n\n```python\n# app/core/config.py\nfrom pydantic import BaseSettings, PostgresDsn, validator\nfrom typing import Optional, Dict, Any\nimport os\n\nclass Settings(BaseSettings):\n    \"\"\"Application settings.\"\"\"\n    \n    # Database\n    POSTGRES_SERVER: str = \"localhost\"\n    POSTGRES_USER: str = \"postgres\"\n    POSTGRES_PASSWORD: str = \"password\"\n    POSTGRES_DB: str = \"fastapi_app\"\n    POSTGRES_PORT: str = \"5432\"\n    DATABASE_URL: Optional[PostgresDsn] = None\n    \n    @validator(\"DATABASE_URL\", pre=True)\n    def assemble_db_connection(cls, v: Optional[str], values: Dict[str, Any]) -> Any:\n        if isinstance(v, str):\n            return v\n        return PostgresDsn.build(\n            scheme=\"postgresql+asyncpg\",\n            user=values.get(\"POSTGRES_USER\"),\n            password=values.get(\"POSTGRES_PASSWORD\"),\n            host=values.get(\"POSTGRES_SERVER\"),\n            port=values.get(\"POSTGRES_PORT\"),\n            path=f\"/{values.get('POSTGRES_DB') or ''}\",\n        )\n    \n    # Redis\n    REDIS_URL: str = \"redis://localhost:6379/0\"\n    \n    # Database settings\n    DATABASE_POOL_SIZE: int = 10\n    DATABASE_MAX_OVERFLOW: int = 20\n    DATABASE_POOL_RECYCLE: int = 3600\n    \n    class Config:\n        env_file = \".env\"\n        case_sensitive = True\n\nsettings = Settings()\n```\n\n## Database Setup\n\n```python\n# app/db/database.py\nfrom sqlalchemy.ext.asyncio import AsyncSession, create_async_engine\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy.orm import sessionmaker\nfrom app.core.config import settings\n\n# Create async engine\nengine = create_async_engine(\n    str(settings.DATABASE_URL),\n    pool_size=settings.DATABASE_POOL_SIZE,\n    max_overflow=settings.DATABASE_MAX_OVERFLOW,\n    pool_recycle=settings.DATABASE_POOL_RECYCLE,\n    pool_pre_ping=True,\n    echo=False  # Set to True for SQL debugging\n)\n\n# Create async session factory\nAsyncSessionLocal = sessionmaker(\n    engine, class_=AsyncSession, expire_on_commit=False\n)\n\n# Base class for models\nBase = declarative_base()\n\nasync def get_db() -> AsyncSession:\n    \"\"\"Dependency to get database session.\"\"\"\n    async with AsyncSessionLocal() as session:\n        try:\n            yield session\n        finally:\n            await session.close()\n\nasync def create_tables():\n    \"\"\"Create database tables.\"\"\"\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n\nasync def drop_tables():\n    \"\"\"Drop database tables.\"\"\"\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n```\n\n## Base Model\n\n```python\n# app/models/base.py\nfrom sqlalchemy import Column, Integer, DateTime, func\nfrom sqlalchemy.ext.declarative import declared_attr\nfrom app.db.database import Base\nfrom datetime import datetime\nfrom typing import Any\n\nclass TimestampMixin:\n    \"\"\"Mixin for timestamp fields.\"\"\"\n    created_at = Column(DateTime(timezone=True), server_default=func.now(), nullable=False)\n    updated_at = Column(\n        DateTime(timezone=True),\n        server_default=func.now(),\n        onupdate=func.now(),\n        nullable=False\n    )\n\nclass BaseModel(Base, TimestampMixin):\n    \"\"\"Base model with common functionality.\"\"\"\n    __abstract__ = True\n    \n    id = Column(Integer, primary_key=True, index=True)\n    \n    @declared_attr\n    def __tablename__(cls) -> str:\n        return cls.__name__.lower()\n    \n    def dict(self, exclude: set = None) -> dict[str, Any]:\n        \"\"\"Convert model to dictionary.\"\"\"\n        exclude = exclude or set()\n        return {\n            column.name: getattr(self, column.name)\n            for column in self.__table__.columns\n            if column.name not in exclude\n        }\n    \n    def __repr__(self) -> str:\n        return f\"<{self.__class__.__name__}(id={self.id})>\"\n```\n\n## Example Models\n\n```python\n# app/models/user.py\nfrom sqlalchemy import Column, String, Boolean, Text, Index\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\nfrom passlib.context import CryptContext\n\npwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\nclass User(BaseModel):\n    \"\"\"User model.\"\"\"\n    __tablename__ = \"users\"\n    \n    username = Column(String(50), unique=True, index=True, nullable=False)\n    email = Column(String(100), unique=True, index=True, nullable=False)\n    hashed_password = Column(String(255), nullable=False)\n    first_name = Column(String(50), nullable=False)\n    last_name = Column(String(50), nullable=False)\n    is_active = Column(Boolean, default=True, nullable=False)\n    is_superuser = Column(Boolean, default=False, nullable=False)\n    bio = Column(Text)\n    \n    # Relationships\n    posts = relationship(\"Post\", back_populates=\"author\", cascade=\"all, delete-orphan\")\n    \n    # Indexes\n    __table_args__ = (\n        Index('idx_user_email_active', email, is_active),\n        Index('idx_user_username_active', username, is_active),\n    )\n    \n    def verify_password(self, password: str) -> bool:\n        \"\"\"Verify password against hash.\"\"\"\n        return pwd_context.verify(password, self.hashed_password)\n    \n    @staticmethod\n    def get_password_hash(password: str) -> str:\n        \"\"\"Generate password hash.\"\"\"\n        return pwd_context.hash(password)\n    \n    def set_password(self, password: str) -> None:\n        \"\"\"Set user password.\"\"\"\n        self.hashed_password = self.get_password_hash(password)\n    \n    @property\n    def full_name(self) -> str:\n        \"\"\"Get user's full name.\"\"\"\n        return f\"{self.first_name} {self.last_name}\"\n    \n    def dict(self, exclude: set = None) -> dict:\n        \"\"\"Convert to dict excluding sensitive data.\"\"\"\n        exclude = exclude or set()\n        exclude.add('hashed_password')\n        return super().dict(exclude=exclude)\n\n# app/models/post.py\nfrom sqlalchemy import Column, String, Text, ForeignKey, Boolean, Index\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\n\nclass Post(BaseModel):\n    \"\"\"Blog post model.\"\"\"\n    __tablename__ = \"posts\"\n    \n    title = Column(String(200), nullable=False, index=True)\n    content = Column(Text, nullable=False)\n    slug = Column(String(200), unique=True, nullable=False, index=True)\n    is_published = Column(Boolean, default=False, nullable=False)\n    \n    # Foreign keys\n    author_id = Column(Integer, ForeignKey(\"users.id\"), nullable=False)\n    \n    # Relationships\n    author = relationship(\"User\", back_populates=\"posts\")\n    \n    # Indexes\n    __table_args__ = (\n        Index('idx_post_published_created', is_published, 'created_at'),\n        Index('idx_post_author_published', author_id, is_published),\n    )\n```\n\n## Repository Pattern\n\n```python\n# app/repositories/base.py\nfrom typing import Generic, TypeVar, Type, Optional, List, Dict, Any\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import select, update, delete, func\nfrom sqlalchemy.orm import selectinload\nfrom app.models.base import BaseModel\n\nModelType = TypeVar(\"ModelType\", bound=BaseModel)\n\nclass BaseRepository(Generic[ModelType]):\n    \"\"\"Base repository with common CRUD operations.\"\"\"\n    \n    def __init__(self, model: Type[ModelType], db: AsyncSession):\n        self.model = model\n        self.db = db\n    \n    async def get(self, id: int) -> Optional[ModelType]:\n        \"\"\"Get model by ID.\"\"\"\n        result = await self.db.execute(\n            select(self.model).where(self.model.id == id)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_multi(\n        self, \n        skip: int = 0, \n        limit: int = 100,\n        filters: Dict[str, Any] = None\n    ) -> List[ModelType]:\n        \"\"\"Get multiple models with pagination.\"\"\"\n        query = select(self.model)\n        \n        if filters:\n            for field, value in filters.items():\n                if hasattr(self.model, field):\n                    query = query.where(getattr(self.model, field) == value)\n        \n        query = query.offset(skip).limit(limit)\n        result = await self.db.execute(query)\n        return result.scalars().all()\n    \n    async def create(self, obj_in: Dict[str, Any]) -> ModelType:\n        \"\"\"Create new model.\"\"\"\n        db_obj = self.model(**obj_in)\n        self.db.add(db_obj)\n        await self.db.commit()\n        await self.db.refresh(db_obj)\n        return db_obj\n    \n    async def update(\n        self, \n        id: int, \n        obj_in: Dict[str, Any]\n    ) -> Optional[ModelType]:\n        \"\"\"Update model by ID.\"\"\"\n        await self.db.execute(\n            update(self.model)\n            .where(self.model.id == id)\n            .values(**obj_in)\n        )\n        await self.db.commit()\n        return await self.get(id)\n    \n    async def delete(self, id: int) -> bool:\n        \"\"\"Delete model by ID.\"\"\"\n        result = await self.db.execute(\n            delete(self.model).where(self.model.id == id)\n        )\n        await self.db.commit()\n        return result.rowcount > 0\n    \n    async def count(self, filters: Dict[str, Any] = None) -> int:\n        \"\"\"Count models with optional filters.\"\"\"\n        query = select(func.count(self.model.id))\n        \n        if filters:\n            for field, value in filters.items():\n                if hasattr(self.model, field):\n                    query = query.where(getattr(self.model, field) == value)\n        \n        result = await self.db.execute(query)\n        return result.scalar()\n\n# app/repositories/user.py\nfrom typing import Optional\nfrom sqlalchemy import select\nfrom app.models.user import User\nfrom app.repositories.base import BaseRepository\n\nclass UserRepository(BaseRepository[User]):\n    \"\"\"User repository with custom methods.\"\"\"\n    \n    async def get_by_email(self, email: str) -> Optional[User]:\n        \"\"\"Get user by email.\"\"\"\n        result = await self.db.execute(\n            select(User).where(User.email == email)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_by_username(self, username: str) -> Optional[User]:\n        \"\"\"Get user by username.\"\"\"\n        result = await self.db.execute(\n            select(User).where(User.username == username)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_active_users(self, skip: int = 0, limit: int = 100):\n        \"\"\"Get active users.\"\"\"\n        return await self.get_multi(\n            skip=skip, \n            limit=limit, \n            filters={'is_active': True}\n        )\n```\n\n## Alembic Configuration\n\n```python\n# alembic/env.py\nfrom logging.config import fileConfig\nfrom sqlalchemy import engine_from_config, pool\nfrom sqlalchemy.ext.asyncio import AsyncEngine\nfrom alembic import context\nimport asyncio\n\n# Import your models\nfrom app.models.base import Base\nfrom app.models.user import User\nfrom app.models.post import Post\nfrom app.core.config import settings\n\n# Alembic Config object\nconfig = context.config\n\n# Override database URL\nconfig.set_main_option(\"sqlalchemy.url\", str(settings.DATABASE_URL))\n\n# Interpret the config file for logging\nif config.config_file_name is not None:\n    fileConfig(config.config_file_name)\n\n# Add your model's MetaData object here\ntarget_metadata = Base.metadata\n\ndef do_run_migrations(connection):\n    context.configure(\n        connection=connection,\n        target_metadata=target_metadata,\n        compare_type=True,\n        compare_server_default=True,\n    )\n    \n    with context.begin_transaction():\n        context.run_migrations()\n\nasync def run_migrations_online():\n    \"\"\"Run migrations in 'online' mode.\"\"\"\n    configuration = config.get_section(config.config_ini_section)\n    configuration[\"sqlalchemy.url\"] = str(settings.DATABASE_URL)\n    \n    connectable = AsyncEngine(\n        engine_from_config(\n            configuration,\n            prefix=\"sqlalchemy.\",\n            poolclass=pool.NullPool,\n        )\n    )\n    \n    async with connectable.connect() as connection:\n        await connection.run_sync(do_run_migrations)\n    \n    await connectable.dispose()\n\nif context.is_offline_mode():\n    run_migrations_offline()\nelse:\n    asyncio.run(run_migrations_online())\n```\n\n## Database Utilities\n\n```python\n# app/db/utils.py\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import text\nfrom app.db.database import engine, AsyncSessionLocal\nfrom app.core.config import settings\nimport asyncio\n\nasync def check_database_connection() -> bool:\n    \"\"\"Check if database is accessible.\"\"\"\n    try:\n        async with AsyncSessionLocal() as session:\n            await session.execute(text(\"SELECT 1\"))\n            return True\n    except Exception:\n        return False\n\nasync def create_database_if_not_exists():\n    \"\"\"Create database if it doesn't exist.\"\"\"\n    # This is PostgreSQL specific\n    import asyncpg\n    from urllib.parse import urlparse\n    \n    url = urlparse(str(settings.DATABASE_URL))\n    \n    try:\n        # Connect to postgres database to create our database\n        conn = await asyncpg.connect(\n            host=url.hostname,\n            port=url.port,\n            user=url.username,\n            password=url.password,\n            database='postgres'\n        )\n        \n        # Check if database exists\n        exists = await conn.fetchval(\n            \"SELECT 1 FROM pg_database WHERE datname = $1\",\n            url.path[1:]  # Remove leading slash\n        )\n        \n        if not exists:\n            await conn.execute(f'CREATE DATABASE \"{url.path[1:]}\"')\n            print(f\"Database {url.path[1:]} created.\")\n        \n        await conn.close()\n        \n    except Exception as e:\n        print(f\"Error creating database: {e}\")\n\nasync def execute_raw_sql(sql: str, params: dict = None) -> list:\n    \"\"\"Execute raw SQL query.\"\"\"\n    async with AsyncSessionLocal() as session:\n        result = await session.execute(text(sql), params or {})\n        return result.fetchall()\n\nasync def get_table_info(table_name: str) -> dict:\n    \"\"\"Get information about a table.\"\"\"\n    sql = \"\"\"\n    SELECT \n        column_name,\n        data_type,\n        is_nullable,\n        column_default\n    FROM information_schema.columns \n    WHERE table_name = :table_name\n    ORDER BY ordinal_position;\n    \"\"\"\n    \n    result = await execute_raw_sql(sql, {'table_name': table_name})\n    return [\n        {\n            'column_name': row[0],\n            'data_type': row[1],\n            'is_nullable': row[2],\n            'column_default': row[3]\n        }\n        for row in result\n    ]\n```\n\n## Database Initialization\n\n```python\n# app/db/init_db.py\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.db.database import get_db, create_tables\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.config import settings\nimport asyncio\n\nasync def init_db() -> None:\n    \"\"\"Initialize database with tables and default data.\"\"\"\n    # Create tables\n    await create_tables()\n    print(\"Database tables created.\")\n    \n    # Create default superuser\n    async with AsyncSessionLocal() as session:\n        user_repo = UserRepository(User, session)\n        \n        # Check if superuser exists\n        existing_user = await user_repo.get_by_email(\"admin@example.com\")\n        \n        if not existing_user:\n            superuser_data = {\n                \"username\": \"admin\",\n                \"email\": \"admin@example.com\",\n                \"first_name\": \"Admin\",\n                \"last_name\": \"User\",\n                \"is_superuser\": True,\n                \"is_active\": True\n            }\n            \n            superuser = User(**superuser_data)\n            superuser.set_password(\"admin123\")\n            \n            session.add(superuser)\n            await session.commit()\n            print(\"Superuser created.\")\n        else:\n            print(\"Superuser already exists.\")\n\nif __name__ == \"__main__\":\n    asyncio.run(init_db())\n```\n\n## Testing Database\n\n```python\n# tests/conftest.py\nimport pytest\nimport asyncio\nfrom sqlalchemy.ext.asyncio import create_async_engine, AsyncSession\nfrom sqlalchemy.orm import sessionmaker\nfrom app.db.database import Base, get_db\nfrom app.main import app\nimport pytest_asyncio\n\n# Test database URL\nTEST_DATABASE_URL = \"sqlite+aiosqlite:///./test.db\"\n\n@pytest.fixture(scope=\"session\")\ndef event_loop():\n    \"\"\"Create event loop for async tests.\"\"\"\n    loop = asyncio.get_event_loop_policy().new_event_loop()\n    yield loop\n    loop.close()\n\n@pytest_asyncio.fixture(scope=\"session\")\nasync def test_engine():\n    \"\"\"Create test database engine.\"\"\"\n    engine = create_async_engine(TEST_DATABASE_URL, echo=False)\n    \n    # Create tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n    \n    yield engine\n    \n    # Drop tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n    \n    await engine.dispose()\n\n@pytest_asyncio.fixture\nasync def test_session(test_engine):\n    \"\"\"Create test database session.\"\"\"\n    TestSessionLocal = sessionmaker(\n        test_engine, class_=AsyncSession, expire_on_commit=False\n    )\n    \n    async with TestSessionLocal() as session:\n        yield session\n\n@pytest.fixture\ndef override_get_db(test_session):\n    \"\"\"Override database dependency.\"\"\"\n    async def _override_get_db():\n        yield test_session\n    \n    app.dependency_overrides[get_db] = _override_get_db\n    yield\n    app.dependency_overrides = {}\n```\n\n## Database Health Check\n\n```python\n# app/api/health.py\nfrom fastapi import APIRouter, Depends, HTTPException\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import text\nfrom app.db.database import get_db\nimport time\n\nrouter = APIRouter()\n\n@router.get(\"/health\")\nasync def health_check(db: AsyncSession = Depends(get_db)):\n    \"\"\"Health check endpoint.\"\"\"\n    checks = {\n        \"status\": \"healthy\",\n        \"timestamp\": time.time(),\n        \"database\": await check_database_health(db),\n    }\n    \n    # Determine overall status\n    if checks[\"database\"][\"status\"] != \"ok\":\n        checks[\"status\"] = \"unhealthy\"\n        raise HTTPException(status_code=503, detail=checks)\n    \n    return checks\n\nasync def check_database_health(db: AsyncSession) -> dict:\n    \"\"\"Check database connection.\"\"\"\n    try:\n        start_time = time.time()\n        await db.execute(text(\"SELECT 1\"))\n        response_time = (time.time() - start_time) * 1000  # milliseconds\n        \n        return {\n            \"status\": \"ok\",\n            \"response_time_ms\": round(response_time, 2)\n        }\n    except Exception as e:\n        return {\n            \"status\": \"error\",\n            \"error\": str(e)\n        }\n```\n"
              },
              {
                "name": "/deployment",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/deployment.md",
                "frontmatter": null,
                "content": "# FastAPI Deployment\n\nBasic production deployment setup for FastAPI applications.\n\n## Usage\n\n```bash\n# Run with Uvicorn\nuvicorn app.main:app --host 0.0.0.0 --port 8000 --workers 4\n\n# Docker deployment\ndocker build -t fastapi-app .\ndocker run -p 8000:8000 fastapi-app\n```\n\n## Production Configuration\n\n```python\n# app/core/config.py\nfrom pydantic import BaseSettings\nimport os\n\nclass Settings(BaseSettings):\n    \"\"\"Production settings.\"\"\"\n    \n    # App\n    PROJECT_NAME: str = \"FastAPI App\"\n    VERSION: str = \"1.0.0\"\n    SECRET_KEY: str = os.getenv(\"SECRET_KEY\", \"dev-key\")\n    \n    # Server\n    HOST: str = \"0.0.0.0\"\n    PORT: int = 8000\n    WORKERS: int = 4\n    \n    # Database\n    DATABASE_URL: str = os.getenv(\"DATABASE_URL\", \"sqlite:///./app.db\")\n    \n    # Redis\n    REDIS_URL: str = os.getenv(\"REDIS_URL\", \"redis://localhost:6379\")\n    \n    class Config:\n        env_file = \".env\"\n\nsettings = Settings()\n```\n\n## Docker Setup\n\n```dockerfile\n# Dockerfile\nFROM python:3.11-slim\n\nWORKDIR /app\n\n# Install dependencies\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy app\nCOPY . .\n\n# Create non-root user\nRUN useradd -m appuser && chown -R appuser:appuser /app\nUSER appuser\n\nEXPOSE 8000\n\n# Health check\nHEALTHCHECK CMD curl -f http://localhost:8000/health || exit 1\n\nCMD [\"uvicorn\", \"app.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n```\n\n## Docker Compose\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\n\nservices:\n  app:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - DATABASE_URL=postgresql://user:pass@db:5432/fastapi_db\n      - REDIS_URL=redis://redis:6379\n    depends_on:\n      - db\n      - redis\n\n  db:\n    image: postgres:15\n    environment:\n      POSTGRES_DB: fastapi_db\n      POSTGRES_USER: user\n      POSTGRES_PASSWORD: password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\n  redis:\n    image: redis:7-alpine\n    volumes:\n      - redis_data:/data\n\nvolumes:\n  postgres_data:\n  redis_data:\n```\n\n## Environment Variables\n\n```bash\n# .env\nSECRET_KEY=your-secret-key\nDATABASE_URL=postgresql://user:pass@localhost/fastapi_db\nREDIS_URL=redis://localhost:6379\n```\n\n## Health Check\n\n```python\n# app/api/health.py\nfrom fastapi import APIRouter\nfrom app.core.config import settings\n\nrouter = APIRouter()\n\n@router.get(\"/health\")\nasync def health_check():\n    return {\n        \"status\": \"healthy\",\n        \"version\": settings.VERSION\n    }\n```\n\n## Deployment Script\n\n```bash\n#!/bin/bash\n# deploy.sh\n\nset -e\n\necho \"Deploying FastAPI app...\"\n\n# Build and deploy\ndocker-compose build\ndocker-compose up -d\n\n# Health check\necho \"Checking health...\"\nif curl -f http://localhost:8000/health; then\n    echo \"‚úÖ Deployment successful!\"\nelse\n    echo \"‚ùå Deployment failed!\"\n    exit 1\nfi\n```\n"
              },
              {
                "name": "/testing",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/testing.md",
                "frontmatter": null,
                "content": "# FastAPI Testing Framework\n\nComprehensive testing setup for FastAPI applications with pytest and async support.\n\n## Usage\n\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=app --cov-report=html\n\n# Run specific test file\npytest tests/test_api.py\n\n# Run with verbose output\npytest -v -s\n```\n\n## Test Configuration\n\n```python\n# pytest.ini\n[tool:pytest]\ntestpaths = tests\npython_files = test_*.py\npython_classes = Test*\npython_functions = test_*\naddopts = \n    --cov=app\n    --cov-report=term-missing\n    --cov-report=html:htmlcov\n    --asyncio-mode=auto\n    --strict-markers\n    --disable-warnings\nmarkers =\n    unit: Unit tests\n    integration: Integration tests\n    e2e: End-to-end tests\n    slow: Slow running tests\n    auth: Authentication tests\n    api: API tests\nasyncio_mode = auto\n```\n\n## Test Dependencies\n\n```python\n# requirements/test.txt\npytest>=7.0.0\npytest-asyncio>=0.21.0\npytest-cov>=4.0.0\nhttpx>=0.24.0\nfactory-boy>=3.2.0\nfaker>=18.0.0\nrespx>=0.20.0\npytest-mock>=3.10.0\n```\n\n## Test Fixtures\n\n```python\n# tests/conftest.py\nimport pytest\nimport asyncio\nfrom typing import AsyncGenerator, Generator\nfrom fastapi.testclient import TestClient\nfrom httpx import AsyncClient\nfrom sqlalchemy.ext.asyncio import create_async_engine, AsyncSession\nfrom sqlalchemy.orm import sessionmaker\nfrom app.main import app\nfrom app.db.database import get_db, Base\nfrom app.models.user import User\nfrom app.core.security import get_password_hash\nfrom tests.factories import UserFactory\n\n# Test database URL\nTEST_DATABASE_URL = \"sqlite+aiosqlite:///./test.db\"\n\n@pytest.fixture(scope=\"session\")\ndef event_loop() -> Generator[asyncio.AbstractEventLoop, None, None]:\n    \"\"\"Create event loop for the test session.\"\"\"\n    loop = asyncio.get_event_loop_policy().new_event_loop()\n    yield loop\n    loop.close()\n\n@pytest.fixture(scope=\"session\")\nasync def test_engine():\n    \"\"\"Create test database engine.\"\"\"\n    engine = create_async_engine(\n        TEST_DATABASE_URL,\n        echo=False,\n        future=True\n    )\n    \n    # Create tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n    \n    yield engine\n    \n    # Drop tables and dispose engine\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n    \n    await engine.dispose()\n\n@pytest.fixture\nasync def db_session(test_engine) -> AsyncGenerator[AsyncSession, None]:\n    \"\"\"Create database session for testing.\"\"\"\n    TestSessionLocal = sessionmaker(\n        test_engine, \n        class_=AsyncSession, \n        expire_on_commit=False\n    )\n    \n    async with TestSessionLocal() as session:\n        yield session\n\n@pytest.fixture\ndef override_get_db(db_session: AsyncSession) -> Generator:\n    \"\"\"Override database dependency.\"\"\"\n    async def _override_get_db():\n        yield db_session\n    \n    app.dependency_overrides[get_db] = _override_get_db\n    yield\n    app.dependency_overrides = {}\n\n@pytest.fixture\ndef client(override_get_db) -> Generator[TestClient, None, None]:\n    \"\"\"Create test client.\"\"\"\n    with TestClient(app) as test_client:\n        yield test_client\n\n@pytest.fixture\nasync def async_client(override_get_db) -> AsyncGenerator[AsyncClient, None]:\n    \"\"\"Create async test client.\"\"\"\n    async with AsyncClient(app=app, base_url=\"http://test\") as ac:\n        yield ac\n\n@pytest.fixture\nasync def test_user(db_session: AsyncSession) -> User:\n    \"\"\"Create test user.\"\"\"\n    user_data = {\n        \"username\": \"testuser\",\n        \"email\": \"test@example.com\",\n        \"hashed_password\": get_password_hash(\"testpass123\"),\n        \"first_name\": \"Test\",\n        \"last_name\": \"User\",\n        \"is_active\": True,\n        \"is_superuser\": False\n    }\n    \n    user = User(**user_data)\n    db_session.add(user)\n    await db_session.commit()\n    await db_session.refresh(user)\n    return user\n\n@pytest.fixture\nasync def superuser(db_session: AsyncSession) -> User:\n    \"\"\"Create superuser.\"\"\"\n    user_data = {\n        \"username\": \"admin\",\n        \"email\": \"admin@example.com\",\n        \"hashed_password\": get_password_hash(\"adminpass123\"),\n        \"first_name\": \"Admin\",\n        \"last_name\": \"User\",\n        \"is_active\": True,\n        \"is_superuser\": True\n    }\n    \n    user = User(**user_data)\n    db_session.add(user)\n    await db_session.commit()\n    await db_session.refresh(user)\n    return user\n\n@pytest.fixture\ndef user_token(test_user: User) -> str:\n    \"\"\"Create authentication token for test user.\"\"\"\n    from app.core.security import create_access_token\n    return create_access_token(subject=test_user.id)\n\n@pytest.fixture\ndef superuser_token(superuser: User) -> str:\n    \"\"\"Create authentication token for superuser.\"\"\"\n    from app.core.security import create_access_token\n    return create_access_token(subject=superuser.id)\n\n@pytest.fixture\ndef auth_headers(user_token: str) -> dict[str, str]:\n    \"\"\"Create authorization headers.\"\"\"\n    return {\"Authorization\": f\"Bearer {user_token}\"}\n\n@pytest.fixture\ndef superuser_headers(superuser_token: str) -> dict[str, str]:\n    \"\"\"Create superuser authorization headers.\"\"\"\n    return {\"Authorization\": f\"Bearer {superuser_token}\"}\n```\n\n## Test Factories\n\n```python\n# tests/factories.py\nimport factory\nfrom factory import Faker, SubFactory\nfrom app.models.user import User\nfrom app.models.post import Post\nfrom app.core.security import get_password_hash\n\nclass UserFactory(factory.Factory):\n    \"\"\"Factory for User model.\"\"\"\n    \n    class Meta:\n        model = User\n    \n    username = Faker('user_name')\n    email = Faker('email')\n    first_name = Faker('first_name')\n    last_name = Faker('last_name')\n    hashed_password = factory.LazyAttribute(lambda obj: get_password_hash('testpass123'))\n    is_active = True\n    is_superuser = False\n    bio = Faker('text', max_nb_chars=200)\n\nclass SuperUserFactory(UserFactory):\n    \"\"\"Factory for superuser.\"\"\"\n    username = 'admin'\n    email = 'admin@example.com'\n    first_name = 'Admin'\n    last_name = 'User'\n    is_superuser = True\n\nclass PostFactory(factory.Factory):\n    \"\"\"Factory for Post model.\"\"\"\n    \n    class Meta:\n        model = Post\n    \n    title = Faker('sentence', nb_words=4)\n    content = Faker('text', max_nb_chars=1000)\n    slug = Faker('slug')\n    is_published = True\n    author = SubFactory(UserFactory)\n\nclass InactiveUserFactory(UserFactory):\n    \"\"\"Factory for inactive user.\"\"\"\n    is_active = False\n```\n\n## API Testing\n\n```python\n# tests/test_api/test_users.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom tests.factories import UserFactory\n\nclass TestUserAPI:\n    \"\"\"Test User API endpoints.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(\n        self, \n        async_client: AsyncClient, \n        superuser_headers: dict\n    ):\n        \"\"\"Test POST /api/v1/users/.\"\"\"\n        user_data = {\n            \"username\": \"newuser\",\n            \"email\": \"new@example.com\",\n            \"password\": \"newpass123\",\n            \"first_name\": \"New\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/users/\",\n            json=user_data,\n            headers=superuser_headers\n        )\n        \n        assert response.status_code == 201\n        data = response.json()\n        assert data[\"username\"] == user_data[\"username\"]\n        assert data[\"email\"] == user_data[\"email\"]\n        assert \"password\" not in data\n        assert \"hashed_password\" not in data\n    \n    @pytest.mark.asyncio\n    async def test_get_users(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test GET /api/v1/users/.\"\"\"\n        response = await async_client.get(\n            \"/api/v1/users/\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"items\" in data\n        assert \"total\" in data\n        assert \"page\" in data\n        assert \"size\" in data\n        assert len(data[\"items\"]) >= 1\n    \n    @pytest.mark.asyncio\n    async def test_get_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test GET /api/v1/users/{id}.\"\"\"\n        response = await async_client.get(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"id\"] == test_user.id\n        assert data[\"username\"] == test_user.username\n        assert data[\"email\"] == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_update_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test PUT /api/v1/users/{id}.\"\"\"\n        update_data = {\n            \"first_name\": \"Updated\",\n            \"last_name\": \"Name\",\n            \"bio\": \"Updated bio\"\n        }\n        \n        response = await async_client.put(\n            f\"/api/v1/users/{test_user.id}\",\n            json=update_data,\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"first_name\"] == update_data[\"first_name\"]\n        assert data[\"last_name\"] == update_data[\"last_name\"]\n        assert data[\"bio\"] == update_data[\"bio\"]\n    \n    @pytest.mark.asyncio\n    async def test_delete_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        superuser_headers: dict\n    ):\n        \"\"\"Test DELETE /api/v1/users/{id}.\"\"\"\n        response = await async_client.delete(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=superuser_headers\n        )\n        \n        assert response.status_code == 204\n        \n        # Verify user is deleted\n        get_response = await async_client.get(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=superuser_headers\n        )\n        assert get_response.status_code == 404\n    \n    @pytest.mark.asyncio\n    async def test_unauthorized_access(self, async_client: AsyncClient):\n        \"\"\"Test unauthorized access to protected endpoints.\"\"\"\n        response = await async_client.get(\"/api/v1/users/\")\n        assert response.status_code == 401\n    \n    @pytest.mark.asyncio\n    async def test_forbidden_access(\n        self, \n        async_client: AsyncClient, \n        auth_headers: dict\n    ):\n        \"\"\"Test forbidden access to admin endpoints.\"\"\"\n        user_data = {\n            \"username\": \"unauthorized\",\n            \"email\": \"unauthorized@example.com\",\n            \"password\": \"pass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/users/\",\n            json=user_data,\n            headers=auth_headers  # Regular user, not superuser\n        )\n        \n        assert response.status_code == 403\n```\n\n## Authentication Testing\n\n```python\n# tests/test_api/test_auth.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom app.core.security import create_access_token, decode_token\n\nclass TestAuthAPI:\n    \"\"\"Test authentication API endpoints.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_register(\n        self, \n        async_client: AsyncClient\n    ):\n        \"\"\"Test user registration.\"\"\"\n        user_data = {\n            \"username\": \"newuser\",\n            \"email\": \"new@example.com\",\n            \"password\": \"newpass123\",\n            \"first_name\": \"New\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/register\",\n            json=user_data\n        )\n        \n        assert response.status_code == 201\n        data = response.json()\n        assert data[\"username\"] == user_data[\"username\"]\n        assert data[\"email\"] == user_data[\"email\"]\n        assert \"password\" not in data\n    \n    @pytest.mark.asyncio\n    async def test_register_duplicate_email(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test registration with duplicate email.\"\"\"\n        user_data = {\n            \"username\": \"different\",\n            \"email\": test_user.email,  # Duplicate email\n            \"password\": \"pass123\",\n            \"first_name\": \"Test\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/register\",\n            json=user_data\n        )\n        \n        assert response.status_code == 400\n        assert \"Email already registered\" in response.json()[\"detail\"]\n    \n    @pytest.mark.asyncio\n    async def test_login(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test user login.\"\"\"\n        login_data = {\n            \"username\": test_user.username,\n            \"password\": \"testpass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/login\",\n            data=login_data,\n            headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"access_token\" in data\n        assert \"refresh_token\" in data\n        assert data[\"token_type\"] == \"bearer\"\n        assert \"expires_in\" in data\n        \n        # Verify token is valid\n        payload = decode_token(data[\"access_token\"])\n        assert payload is not None\n        assert payload[\"sub\"] == str(test_user.id)\n    \n    @pytest.mark.asyncio\n    async def test_login_invalid_credentials(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test login with invalid credentials.\"\"\"\n        login_data = {\n            \"username\": test_user.username,\n            \"password\": \"wrongpassword\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/login\",\n            data=login_data,\n            headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n        )\n        \n        assert response.status_code == 401\n        assert \"Incorrect username or password\" in response.json()[\"detail\"]\n    \n    @pytest.mark.asyncio\n    async def test_get_current_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test get current user endpoint.\"\"\"\n        response = await async_client.get(\n            \"/api/v1/auth/me\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"id\"] == test_user.id\n        assert data[\"username\"] == test_user.username\n        assert data[\"email\"] == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_refresh_token(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test token refresh.\"\"\"\n        from app.core.security import create_refresh_token\n        \n        refresh_token = create_refresh_token(subject=test_user.id)\n        \n        response = await async_client.post(\n            \"/api/v1/auth/refresh\",\n            json={\"refresh_token\": refresh_token}\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"access_token\" in data\n        assert \"refresh_token\" in data\n        assert data[\"token_type\"] == \"bearer\"\n    \n    @pytest.mark.asyncio\n    async def test_change_password(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test password change.\"\"\"\n        password_data = {\n            \"current_password\": \"testpass123\",\n            \"new_password\": \"newpass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/change-password\",\n            json=password_data,\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        assert \"Password changed successfully\" in response.json()[\"message\"]\n```\n\n## Model Testing\n\n```python\n# tests/test_models/test_user.py\nimport pytest\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.models.user import User\nfrom app.core.security import verify_password, get_password_hash\n\nclass TestUserModel:\n    \"\"\"Test User model.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(self, db_session: AsyncSession):\n        \"\"\"Test user creation.\"\"\"\n        user_data = {\n            \"username\": \"testuser\",\n            \"email\": \"test@example.com\",\n            \"hashed_password\": get_password_hash(\"password123\"),\n            \"first_name\": \"Test\",\n            \"last_name\": \"User\"\n        }\n        \n        user = User(**user_data)\n        db_session.add(user)\n        await db_session.commit()\n        await db_session.refresh(user)\n        \n        assert user.id is not None\n        assert user.username == \"testuser\"\n        assert user.email == \"test@example.com\"\n        assert user.full_name == \"Test User\"\n        assert user.is_active is True\n        assert user.is_superuser is False\n        assert user.created_at is not None\n        assert user.updated_at is not None\n    \n    def test_password_verification(self):\n        \"\"\"Test password verification.\"\"\"\n        password = \"testpassword123\"\n        hashed = get_password_hash(password)\n        \n        user = User(\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=hashed,\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        assert user.verify_password(password)\n        assert not user.verify_password(\"wrongpassword\")\n    \n    def test_user_dict_excludes_password(self):\n        \"\"\"Test that dict() method excludes password.\"\"\"\n        user = User(\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=\"hashed_password\",\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        user_dict = user.dict()\n        assert \"hashed_password\" not in user_dict\n        assert \"username\" in user_dict\n        assert \"email\" in user_dict\n    \n    def test_user_repr(self):\n        \"\"\"Test user string representation.\"\"\"\n        user = User(\n            id=1,\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=\"hash\",\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        assert repr(user) == \"<User(id=1)>\"\n```\n\n## Repository Testing\n\n```python\n# tests/test_repositories/test_user.py\nimport pytest\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.security import get_password_hash\n\nclass TestUserRepository:\n    \"\"\"Test UserRepository.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(self, db_session: AsyncSession):\n        \"\"\"Test user creation through repository.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        user_data = {\n            \"username\": \"repouser\",\n            \"email\": \"repo@example.com\",\n            \"hashed_password\": get_password_hash(\"password123\"),\n            \"first_name\": \"Repo\",\n            \"last_name\": \"User\"\n        }\n        \n        user = await repo.create(user_data)\n        \n        assert user.id is not None\n        assert user.username == \"repouser\"\n        assert user.email == \"repo@example.com\"\n    \n    @pytest.mark.asyncio\n    async def test_get_by_email(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test get user by email.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        found_user = await repo.get_by_email(test_user.email)\n        \n        assert found_user is not None\n        assert found_user.id == test_user.id\n        assert found_user.email == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_get_by_username(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test get user by username.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        found_user = await repo.get_by_username(test_user.username)\n        \n        assert found_user is not None\n        assert found_user.id == test_user.id\n        assert found_user.username == test_user.username\n    \n    @pytest.mark.asyncio\n    async def test_get_multi_with_pagination(\n        self, \n        db_session: AsyncSession, \n        test_user: User\n    ):\n        \"\"\"Test get multiple users with pagination.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        # Create additional users\n        for i in range(5):\n            user_data = {\n                \"username\": f\"user{i}\",\n                \"email\": f\"user{i}@example.com\",\n                \"hashed_password\": get_password_hash(\"password123\"),\n                \"first_name\": f\"User{i}\",\n                \"last_name\": \"Test\"\n            }\n            await repo.create(user_data)\n        \n        # Test pagination\n        users = await repo.get_multi(skip=0, limit=3)\n        assert len(users) == 3\n        \n        users_page_2 = await repo.get_multi(skip=3, limit=3)\n        assert len(users_page_2) >= 1  # At least test_user\n    \n    @pytest.mark.asyncio\n    async def test_update_user(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test user update.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        updated_user = await repo.update(test_user.id, {\n            \"first_name\": \"Updated\",\n            \"bio\": \"Updated bio\"\n        })\n        \n        assert updated_user is not None\n        assert updated_user.first_name == \"Updated\"\n        assert updated_user.bio == \"Updated bio\"\n    \n    @pytest.mark.asyncio\n    async def test_delete_user(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test user deletion.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        result = await repo.delete(test_user.id)\n        assert result is True\n        \n        # Verify user is deleted\n        deleted_user = await repo.get(test_user.id)\n        assert deleted_user is None\n```\n\n## Performance Testing\n\n```python\n# tests/test_performance.py\nimport pytest\nimport time\nimport asyncio\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom tests.factories import UserFactory\n\n@pytest.mark.slow\nclass TestPerformance:\n    \"\"\"Test application performance.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_concurrent_requests(\n        self, \n        async_client: AsyncClient,\n        auth_headers: dict\n    ):\n        \"\"\"Test concurrent API requests.\"\"\"\n        \n        async def make_request():\n            response = await async_client.get(\n                \"/api/v1/users/\",\n                headers=auth_headers\n            )\n            return response.status_code\n        \n        # Make 10 concurrent requests\n        start_time = time.time()\n        tasks = [make_request() for _ in range(10)]\n        results = await asyncio.gather(*tasks)\n        end_time = time.time()\n        \n        # All requests should succeed\n        assert all(status == 200 for status in results)\n        \n        # Should complete within reasonable time\n        assert (end_time - start_time) < 5.0\n    \n    @pytest.mark.asyncio\n    async def test_large_dataset_pagination(\n        self, \n        async_client: AsyncClient,\n        db_session,\n        auth_headers: dict\n    ):\n        \"\"\"Test pagination with large dataset.\"\"\"\n        # Create 100 users\n        users = []\n        for i in range(100):\n            user = UserFactory.build()\n            users.append(user)\n        \n        db_session.add_all(users)\n        await db_session.commit()\n        \n        # Test pagination performance\n        start_time = time.time()\n        response = await async_client.get(\n            \"/api/v1/users/?skip=0&limit=50\",\n            headers=auth_headers\n        )\n        end_time = time.time()\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert len(data[\"items\"]) == 50\n        \n        # Should complete quickly\n        assert (end_time - start_time) < 1.0\n```\n\n## Mocking External Services\n\n```python\n# tests/test_external.py\nimport pytest\nimport respx\nimport httpx\nfrom app.services.email import EmailService\n\nclass TestExternalServices:\n    \"\"\"Test external service integrations.\"\"\"\n    \n    @pytest.mark.asyncio\n    @respx.mock\n    async def test_email_service(\n        self, \n        async_client: AsyncClient\n    ):\n        \"\"\"Test email service with mocked external API.\"\"\"\n        # Mock email service API\n        respx.post(\"https://api.emailservice.com/send\").mock(\n            return_value=httpx.Response(\n                200, \n                json={\"message\": \"Email sent successfully\"}\n            )\n        )\n        \n        email_service = EmailService()\n        result = await email_service.send_email(\n            to=\"test@example.com\",\n            subject=\"Test\",\n            body=\"Test email\"\n        )\n        \n        assert result[\"success\"] is True\n```\n\n## Test Utilities\n\n```python\n# tests/utils.py\nfrom typing import Dict, Any\nfrom httpx import Response\nimport json\n\ndef assert_response_status(response: Response, expected_status: int = 200):\n    \"\"\"Assert response status code.\"\"\"\n    assert response.status_code == expected_status, f\"Expected {expected_status}, got {response.status_code}. Response: {response.text}\"\n\ndef assert_response_json(response: Response, expected_keys: list[str] = None):\n    \"\"\"Assert response is valid JSON with expected keys.\"\"\"\n    assert response.headers.get(\"content-type\") == \"application/json\"\n    data = response.json()\n    \n    if expected_keys:\n        for key in expected_keys:\n            assert key in data, f\"Missing key '{key}' in response\"\n    \n    return data\n\ndef create_auth_headers(token: str) -> Dict[str, str]:\n    \"\"\"Create authorization headers with token.\"\"\"\n    return {\"Authorization\": f\"Bearer {token}\"}\n\nasync def create_test_users(db_session, count: int = 5) -> list:\n    \"\"\"Create multiple test users.\"\"\"\n    from tests.factories import UserFactory\n    \n    users = []\n    for i in range(count):\n        user = UserFactory.build()\n        users.append(user)\n    \n    db_session.add_all(users)\n    await db_session.commit()\n    \n    return users\n```\n"
              },
              {
                "name": "/app-factory",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/app-factory.md",
                "frontmatter": null,
                "content": "# Flask Application Factory Pattern\n\nCreate a scalable Flask application using the factory pattern with blueprints and configuration management.\n\n## Purpose\n\nThis command helps you set up a Flask application using the application factory pattern, which is the recommended approach for larger Flask applications.\n\n## Usage\n\n```\n/app-factory\n```\n\n## What this command does\n\n1. **Creates application factory** with proper structure\n2. **Sets up configuration management** for different environments\n3. **Implements blueprints** for modular design\n4. **Configures extensions** (database, auth, etc.)\n5. **Adds error handling** and logging\n\n## Example Output\n\n```python\n# app/__init__.py\nfrom flask import Flask\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom flask_login import LoginManager\nfrom flask_mail import Mail\nfrom flask_wtf.csrf import CSRFProtect\nfrom flask_cors import CORS\nimport logging\nfrom logging.handlers import RotatingFileHandler\nimport os\n\n# Initialize extensions\ndb = SQLAlchemy()\nmigrate = Migrate()\nlogin = LoginManager()\nmail = Mail()\ncsrf = CSRFProtect()\ncors = CORS()\n\ndef create_app(config_class=None):\n    \"\"\"Application factory function.\"\"\"\n    app = Flask(__name__)\n    \n    # Load configuration\n    if config_class is None:\n        config_class = os.environ.get('FLASK_CONFIG', 'development')\n    \n    if isinstance(config_class, str):\n        from app.config import config\n        app.config.from_object(config[config_class])\n    else:\n        app.config.from_object(config_class)\n    \n    # Initialize extensions\n    db.init_app(app)\n    migrate.init_app(app, db)\n    login.init_app(app)\n    mail.init_app(app)\n    csrf.init_app(app)\n    cors.init_app(app)\n    \n    # Configure login manager\n    login.login_view = 'auth.login'\n    login.login_message = 'Please log in to access this page.'\n    login.login_message_category = 'info'\n    \n    # Register blueprints\n    from app.main import bp as main_bp\n    app.register_blueprint(main_bp)\n    \n    from app.auth import bp as auth_bp\n    app.register_blueprint(auth_bp, url_prefix='/auth')\n    \n    from app.api import bp as api_bp\n    app.register_blueprint(api_bp, url_prefix='/api')\n    \n    from app.admin import bp as admin_bp\n    app.register_blueprint(admin_bp, url_prefix='/admin')\n    \n    # Error handlers\n    from app.errors import bp as errors_bp\n    app.register_blueprint(errors_bp)\n    \n    # Configure logging\n    if not app.debug and not app.testing:\n        if not os.path.exists('logs'):\n            os.mkdir('logs')\n        \n        file_handler = RotatingFileHandler(\n            'logs/app.log', \n            maxBytes=10240, \n            backupCount=10\n        )\n        file_handler.setFormatter(logging.Formatter(\n            '%(asctime)s %(levelname)s: %(message)s [in %(pathname)s:%(lineno)d]'\n        ))\n        file_handler.setLevel(logging.INFO)\n        app.logger.addHandler(file_handler)\n        \n        app.logger.setLevel(logging.INFO)\n        app.logger.info('Flask application startup')\n    \n    return app\n\n# Import models (avoid circular imports)\nfrom app import models\n```\n\n```python\n# app/config.py\nimport os\nfrom dotenv import load_dotenv\n\nbasedir = os.path.abspath(os.path.dirname(__file__))\nload_dotenv(os.path.join(basedir, '.env'))\n\nclass Config:\n    \"\"\"Base configuration class.\"\"\"\n    SECRET_KEY = os.environ.get('SECRET_KEY') or 'dev-secret-key'\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app.db')\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    \n    # Mail configuration\n    MAIL_SERVER = os.environ.get('MAIL_SERVER')\n    MAIL_PORT = int(os.environ.get('MAIL_PORT') or 587)\n    MAIL_USE_TLS = os.environ.get('MAIL_USE_TLS', 'true').lower() in ['true', 'on', '1']\n    MAIL_USERNAME = os.environ.get('MAIL_USERNAME')\n    MAIL_PASSWORD = os.environ.get('MAIL_PASSWORD')\n    ADMIN_EMAIL = os.environ.get('ADMIN_EMAIL')\n    \n    # Pagination\n    POSTS_PER_PAGE = 10\n    USERS_PER_PAGE = 50\n    \n    # Upload configuration\n    MAX_CONTENT_LENGTH = 16 * 1024 * 1024  # 16MB\n    UPLOAD_FOLDER = os.path.join(basedir, 'uploads')\n    \n    @staticmethod\n    def init_app(app):\n        pass\n\nclass DevelopmentConfig(Config):\n    \"\"\"Development configuration.\"\"\"\n    DEBUG = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DEV_DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app-dev.db')\n\nclass TestingConfig(Config):\n    \"\"\"Testing configuration.\"\"\"\n    TESTING = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('TEST_DATABASE_URL') or 'sqlite://'\n    WTF_CSRF_ENABLED = False\n\nclass ProductionConfig(Config):\n    \"\"\"Production configuration.\"\"\"\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app.db')\n    \n    @classmethod\n    def init_app(cls, app):\n        Config.init_app(app)\n        \n        # Log to stderr\n        import logging\n        from logging import StreamHandler\n        file_handler = StreamHandler()\n        file_handler.setLevel(logging.INFO)\n        app.logger.addHandler(file_handler)\n\nconfig = {\n    'development': DevelopmentConfig,\n    'testing': TestingConfig,\n    'production': ProductionConfig,\n    'default': DevelopmentConfig\n}\n```\n\n```python\n# app/main/__init__.py\nfrom flask import Blueprint\n\nbp = Blueprint('main', __name__)\n\nfrom app.main import routes\n```\n\n```python\n# app/main/routes.py\nfrom flask import render_template, request, current_app\nfrom app.main import bp\nfrom app.models import Post\n\n@bp.route('/')\n@bp.route('/index')\ndef index():\n    \"\"\"Home page.\"\"\"\n    page = request.args.get('page', 1, type=int)\n    posts = Post.query.filter_by(published=True).order_by(\n        Post.created_at.desc()\n    ).paginate(\n        page=page,\n        per_page=current_app.config['POSTS_PER_PAGE'],\n        error_out=False\n    )\n    \n    return render_template('index.html', posts=posts)\n\n@bp.route('/about')\ndef about():\n    \"\"\"About page.\"\"\"\n    return render_template('about.html')\n```\n\n```python\n# app/auth/__init__.py\nfrom flask import Blueprint\n\nbp = Blueprint('auth', __name__)\n\nfrom app.auth import routes\n```\n\n```python\n# app/auth/routes.py\nfrom flask import render_template, redirect, url_for, flash, request\nfrom flask_login import login_user, logout_user, login_required, current_user\nfrom werkzeug.urls import url_parse\nfrom app import db\nfrom app.auth import bp\nfrom app.auth.forms import LoginForm, RegistrationForm\nfrom app.models import User\n\n@bp.route('/login', methods=['GET', 'POST'])\ndef login():\n    \"\"\"User login.\"\"\"\n    if current_user.is_authenticated:\n        return redirect(url_for('main.index'))\n    \n    form = LoginForm()\n    if form.validate_on_submit():\n        user = User.query.filter_by(username=form.username.data).first()\n        if user is None or not user.check_password(form.password.data):\n            flash('Invalid username or password', 'error')\n            return redirect(url_for('auth.login'))\n        \n        login_user(user, remember=form.remember_me.data)\n        \n        next_page = request.args.get('next')\n        if not next_page or url_parse(next_page).netloc != '':\n            next_page = url_for('main.index')\n        \n        return redirect(next_page)\n    \n    return render_template('auth/login.html', form=form)\n\n@bp.route('/logout')\n@login_required\ndef logout():\n    \"\"\"User logout.\"\"\"\n    logout_user()\n    flash('You have been logged out.', 'info')\n    return redirect(url_for('main.index'))\n\n@bp.route('/register', methods=['GET', 'POST'])\ndef register():\n    \"\"\"User registration.\"\"\"\n    if current_user.is_authenticated:\n        return redirect(url_for('main.index'))\n    \n    form = RegistrationForm()\n    if form.validate_on_submit():\n        user = User(username=form.username.data, email=form.email.data)\n        user.set_password(form.password.data)\n        db.session.add(user)\n        db.session.commit()\n        \n        flash('Registration successful!', 'success')\n        return redirect(url_for('auth.login'))\n    \n    return render_template('auth/register.html', form=form)\n```\n\n```python\n# app/models.py\nfrom app import db, login\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom flask_login import UserMixin\nfrom datetime import datetime\n\nclass User(UserMixin, db.Model):\n    \"\"\"User model.\"\"\"\n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(64), index=True, unique=True)\n    email = db.Column(db.String(120), index=True, unique=True)\n    password_hash = db.Column(db.String(128))\n    created_at = db.Column(db.DateTime, index=True, default=datetime.utcnow)\n    \n    posts = db.relationship('Post', backref='author', lazy='dynamic')\n    \n    def set_password(self, password):\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        return check_password_hash(self.password_hash, password)\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n\n@login.user_loader\ndef load_user(id):\n    return User.query.get(int(id))\n\nclass Post(db.Model):\n    \"\"\"Post model.\"\"\"\n    id = db.Column(db.Integer, primary_key=True)\n    title = db.Column(db.String(100), nullable=False)\n    content = db.Column(db.Text, nullable=False)\n    published = db.Column(db.Boolean, default=False)\n    created_at = db.Column(db.DateTime, index=True, default=datetime.utcnow)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\n    \n    user_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=False)\n    \n    def __repr__(self):\n        return f'<Post {self.title}>'\n```\n\n```python\n# app.py (main application entry point)\nfrom app import create_app, db\nfrom app.models import User, Post\n\napp = create_app()\n\n@app.shell_context_processor\ndef make_shell_context():\n    \"\"\"Add models to shell context.\"\"\"\n    return {'db': db, 'User': User, 'Post': Post}\n\nif __name__ == '__main__':\n    app.run(debug=True)\n```\n\n## Project Structure\n\n```\nproject/\n‚îú‚îÄ‚îÄ app/\n‚îÇ   ‚îú‚îÄ‚îÄ __init__.py         # Application factory\n‚îÇ   ‚îú‚îÄ‚îÄ config.py           # Configuration classes\n‚îÇ   ‚îú‚îÄ‚îÄ models.py           # Database models\n‚îÇ   ‚îú‚îÄ‚îÄ main/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # Main blueprint\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.py       # Main routes\n‚îÇ   ‚îú‚îÄ‚îÄ auth/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # Auth blueprint\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes.py       # Auth routes\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ forms.py        # Auth forms\n‚îÇ   ‚îú‚îÄ‚îÄ api/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # API blueprint\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.py       # API routes\n‚îÇ   ‚îî‚îÄ‚îÄ templates/          # Jinja2 templates\n‚îú‚îÄ‚îÄ migrations/             # Database migrations\n‚îú‚îÄ‚îÄ logs/                   # Application logs\n‚îú‚îÄ‚îÄ app.py                  # Application entry point\n‚îú‚îÄ‚îÄ requirements.txt        # Dependencies\n‚îî‚îÄ‚îÄ .env                    # Environment variables\n```\n\n## Benefits of Application Factory\n\n- **Testing**: Easy to create app instances with different configs\n- **Scalability**: Modular design with blueprints\n- **Configuration**: Environment-specific settings\n- **Extensions**: Proper initialization order\n- **Maintainability**: Clear separation of concerns"
              },
              {
                "name": "/blueprint",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/blueprint.md",
                "frontmatter": null,
                "content": "# Flask Blueprint Generator\n\nCreate organized Flask blueprints for modular application structure.\n\n## Usage\n\n```bash\n# Create a new blueprint\nflask create-blueprint users\nflask create-blueprint api/v1\n```\n\n## Blueprint Structure\n\nGenerates a complete blueprint with:\n- Routes and view functions\n- Error handlers\n- Template folder structure\n- Static file organization\n\n## Example Blueprint\n\n```python\n# app/blueprints/users/__init__.py\nfrom flask import Blueprint\n\nusers_bp = Blueprint(\n    'users',\n    __name__,\n    url_prefix='/users',\n    template_folder='templates',\n    static_folder='static'\n)\n\nfrom . import routes, models\n\n# app/blueprints/users/routes.py\nfrom flask import render_template, request, redirect, url_for, flash\nfrom . import users_bp\nfrom .models import User\nfrom .forms import UserForm\n\n@users_bp.route('/')\ndef index():\n    \"\"\"List all users.\"\"\"\n    users = User.query.all()\n    return render_template('users/index.html', users=users)\n\n@users_bp.route('/create', methods=['GET', 'POST'])\ndef create():\n    \"\"\"Create a new user.\"\"\"\n    form = UserForm()\n    if form.validate_on_submit():\n        user = User(\n            username=form.username.data,\n            email=form.email.data\n        )\n        user.save()\n        flash('User created successfully!', 'success')\n        return redirect(url_for('users.index'))\n    return render_template('users/create.html', form=form)\n\n@users_bp.route('/<int:user_id>')\ndef detail(user_id):\n    \"\"\"Show user details.\"\"\"\n    user = User.query.get_or_404(user_id)\n    return render_template('users/detail.html', user=user)\n\n@users_bp.route('/<int:user_id>/edit', methods=['GET', 'POST'])\ndef edit(user_id):\n    \"\"\"Edit an existing user.\"\"\"\n    user = User.query.get_or_404(user_id)\n    form = UserForm(obj=user)\n    if form.validate_on_submit():\n        user.username = form.username.data\n        user.email = form.email.data\n        user.save()\n        flash('User updated successfully!', 'success')\n        return redirect(url_for('users.detail', user_id=user.id))\n    return render_template('users/edit.html', form=form, user=user)\n\n@users_bp.route('/<int:user_id>/delete', methods=['POST'])\ndef delete(user_id):\n    \"\"\"Delete a user.\"\"\"\n    user = User.query.get_or_404(user_id)\n    user.delete()\n    flash('User deleted successfully!', 'success')\n    return redirect(url_for('users.index'))\n\n# Error handlers\n@users_bp.errorhandler(404)\ndef not_found(error):\n    return render_template('users/404.html'), 404\n\n@users_bp.errorhandler(500)\ndef internal_error(error):\n    return render_template('users/500.html'), 500\n```\n\n## Blueprint Models\n\n```python\n# app/blueprints/users/models.py\nfrom app.extensions import db\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom datetime import datetime\n\nclass User(db.Model):\n    \"\"\"User model.\"\"\"\n    __tablename__ = 'users'\n    \n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(80), unique=True, nullable=False)\n    email = db.Column(db.String(120), unique=True, nullable=False)\n    password_hash = db.Column(db.String(255), nullable=False)\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\n    is_active = db.Column(db.Boolean, default=True)\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n    \n    def set_password(self, password):\n        \"\"\"Set password hash.\"\"\"\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        \"\"\"Check password hash.\"\"\"\n        return check_password_hash(self.password_hash, password)\n    \n    def save(self):\n        \"\"\"Save user to database.\"\"\"\n        db.session.add(self)\n        db.session.commit()\n    \n    def delete(self):\n        \"\"\"Delete user from database.\"\"\"\n        db.session.delete(self)\n        db.session.commit()\n    \n    def to_dict(self):\n        \"\"\"Convert to dictionary.\"\"\"\n        return {\n            'id': self.id,\n            'username': self.username,\n            'email': self.email,\n            'created_at': self.created_at.isoformat(),\n            'is_active': self.is_active\n        }\n```\n\n## Blueprint Forms\n\n```python\n# app/blueprints/users/forms.py\nfrom flask_wtf import FlaskForm\nfrom wtforms import StringField, EmailField, PasswordField, BooleanField\nfrom wtforms.validators import DataRequired, Email, Length, EqualTo\nfrom .models import User\n\nclass UserForm(FlaskForm):\n    \"\"\"User creation/edit form.\"\"\"\n    username = StringField(\n        'Username',\n        validators=[\n            DataRequired(),\n            Length(min=3, max=80)\n        ]\n    )\n    email = EmailField(\n        'Email',\n        validators=[\n            DataRequired(),\n            Email(),\n            Length(max=120)\n        ]\n    )\n    password = PasswordField(\n        'Password',\n        validators=[\n            DataRequired(),\n            Length(min=8)\n        ]\n    )\n    confirm_password = PasswordField(\n        'Confirm Password',\n        validators=[\n            DataRequired(),\n            EqualTo('password', message='Passwords must match')\n        ]\n    )\n    is_active = BooleanField('Active')\n    \n    def validate_username(self, field):\n        \"\"\"Validate username uniqueness.\"\"\"\n        if User.query.filter_by(username=field.data).first():\n            raise ValidationError('Username already exists.')\n    \n    def validate_email(self, field):\n        \"\"\"Validate email uniqueness.\"\"\"\n        if User.query.filter_by(email=field.data).first():\n            raise ValidationError('Email already registered.')\n```\n\n## Registration in Main App\n\n```python\n# app/__init__.py\nfrom flask import Flask\nfrom app.blueprints.users import users_bp\n\ndef create_app():\n    app = Flask(__name__)\n    \n    # Register blueprints\n    app.register_blueprint(users_bp)\n    \n    return app\n```\n\n## Template Structure\n\n```\ntemplates/\n‚îú‚îÄ‚îÄ base.html\n‚îî‚îÄ‚îÄ users/\n    ‚îú‚îÄ‚îÄ index.html\n    ‚îú‚îÄ‚îÄ create.html\n    ‚îú‚îÄ‚îÄ detail.html\n    ‚îú‚îÄ‚îÄ edit.html\n    ‚îú‚îÄ‚îÄ 404.html\n    ‚îî‚îÄ‚îÄ 500.html\n```\n\n## Best Practices\n\n- Use blueprints to organize related functionality\n- Keep models, forms, and routes in separate files\n- Implement proper error handling\n- Use URL prefixes for namespacing\n- Follow RESTful routing conventions\n- Include comprehensive docstrings\n- Add form validation and CSRF protection\n"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# Flask Database Management\n\nComplete database setup and management for Flask applications using SQLAlchemy.\n\n## Usage\n\n```bash\n# Initialize database\nflask db init\n\n# Create migration\nflask db migrate -m \"Initial migration\"\n\n# Apply migrations\nflask db upgrade\n\n# Downgrade migration\nflask db downgrade\n```\n\n## Database Configuration\n\n```python\n# config.py\nimport os\nfrom urllib.parse import quote_plus\n\nclass Config:\n    \"\"\"Base configuration.\"\"\"\n    SECRET_KEY = os.environ.get('SECRET_KEY') or 'dev-secret-key'\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    SQLALCHEMY_RECORD_QUERIES = True\n    \nclass DevelopmentConfig(Config):\n    \"\"\"Development configuration.\"\"\"\n    DEBUG = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///app.db'\n        \nclass ProductionConfig(Config):\n    \"\"\"Production configuration.\"\"\"\n    DEBUG = False\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        f\"postgresql://{os.environ.get('DB_USER')}:{quote_plus(os.environ.get('DB_PASSWORD'))}@\" \\\n        f\"{os.environ.get('DB_HOST')}:{os.environ.get('DB_PORT', '5432')}/{os.environ.get('DB_NAME')}\"\n    \nclass TestingConfig(Config):\n    \"\"\"Testing configuration.\"\"\"\n    TESTING = True\n    SQLALCHEMY_DATABASE_URI = 'sqlite:///:memory:'\n    WTF_CSRF_ENABLED = False\n\nconfig = {\n    'development': DevelopmentConfig,\n    'production': ProductionConfig,\n    'testing': TestingConfig,\n    'default': DevelopmentConfig\n}\n```\n\n## Database Extensions\n\n```python\n# app/extensions.py\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom flask_login import LoginManager\nfrom flask_wtf.csrf import CSRFProtect\nfrom flask_caching import Cache\nfrom flask_limiter import Limiter\nfrom flask_limiter.util import get_remote_address\n\n# Initialize extensions\ndb = SQLAlchemy()\nmigrate = Migrate()\nlogin_manager = LoginManager()\ncsrf = CSRFProtect()\ncache = Cache()\nlimiter = Limiter(key_func=get_remote_address)\n\ndef init_extensions(app):\n    \"\"\"Initialize Flask extensions.\"\"\"\n    db.init_app(app)\n    migrate.init_app(app, db)\n    login_manager.init_app(app)\n    csrf.init_app(app)\n    cache.init_app(app)\n    limiter.init_app(app)\n    \n    # Configure login manager\n    login_manager.login_view = 'auth.login'\n    login_manager.login_message = 'Please log in to access this page.'\n    login_manager.login_message_category = 'info'\n```\n\n## Base Model\n\n```python\n# app/models/base.py\nfrom app.extensions import db\nfrom datetime import datetime\nfrom sqlalchemy.ext.declarative import declared_attr\n\nclass TimestampMixin:\n    \"\"\"Add timestamp fields to model.\"\"\"\n    created_at = db.Column(db.DateTime, default=datetime.utcnow, nullable=False)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow, nullable=False)\n\nclass BaseModel(db.Model, TimestampMixin):\n    \"\"\"Base model with common functionality.\"\"\"\n    __abstract__ = True\n    \n    id = db.Column(db.Integer, primary_key=True)\n    \n    @declared_attr\n    def __tablename__(cls):\n        return cls.__name__.lower()\n    \n    def save(self, commit=True):\n        \"\"\"Save model to database.\"\"\"\n        db.session.add(self)\n        if commit:\n            db.session.commit()\n        return self\n    \n    def delete(self, commit=True):\n        \"\"\"Delete model from database.\"\"\"\n        db.session.delete(self)\n        if commit:\n            db.session.commit()\n    \n    def update(self, **kwargs):\n        \"\"\"Update model attributes.\"\"\"\n        for key, value in kwargs.items():\n            if hasattr(self, key):\n                setattr(self, key, value)\n        return self.save()\n    \n    def to_dict(self, exclude=None):\n        \"\"\"Convert model to dictionary.\"\"\"\n        exclude = exclude or []\n        return {\n            column.name: getattr(self, column.name)\n            for column in self.__table__.columns\n            if column.name not in exclude\n        }\n    \n    @classmethod\n    def get_or_404(cls, id):\n        \"\"\"Get model by ID or raise 404.\"\"\"\n        return cls.query.get_or_404(id)\n    \n    @classmethod\n    def create(cls, **kwargs):\n        \"\"\"Create new model instance.\"\"\"\n        instance = cls(**kwargs)\n        return instance.save()\n```\n\n## Example Models\n\n```python\n# app/models/user.py\nfrom app.extensions import db\nfrom app.models.base import BaseModel\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom flask_login import UserMixin\n\nclass User(UserMixin, BaseModel):\n    \"\"\"User model.\"\"\"\n    __tablename__ = 'users'\n    \n    username = db.Column(db.String(80), unique=True, nullable=False, index=True)\n    email = db.Column(db.String(120), unique=True, nullable=False, index=True)\n    password_hash = db.Column(db.String(255), nullable=False)\n    first_name = db.Column(db.String(50), nullable=False)\n    last_name = db.Column(db.String(50), nullable=False)\n    is_active = db.Column(db.Boolean, default=True, nullable=False)\n    is_admin = db.Column(db.Boolean, default=False, nullable=False)\n    last_login = db.Column(db.DateTime)\n    \n    # Relationships\n    posts = db.relationship('Post', backref='author', lazy='dynamic', cascade='all, delete-orphan')\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n    \n    def set_password(self, password):\n        \"\"\"Set password hash.\"\"\"\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        \"\"\"Check password hash.\"\"\"\n        return check_password_hash(self.password_hash, password)\n    \n    @property\n    def full_name(self):\n        \"\"\"Get user's full name.\"\"\"\n        return f\"{self.first_name} {self.last_name}\"\n    \n    def to_dict(self, exclude=None):\n        \"\"\"Convert to dictionary excluding sensitive data.\"\"\"\n        exclude = exclude or ['password_hash']\n        return super().to_dict(exclude=exclude)\n\n# app/models/post.py\nclass Post(BaseModel):\n    \"\"\"Blog post model.\"\"\"\n    __tablename__ = 'posts'\n    \n    title = db.Column(db.String(200), nullable=False)\n    content = db.Column(db.Text, nullable=False)\n    slug = db.Column(db.String(200), unique=True, nullable=False, index=True)\n    status = db.Column(db.String(20), default='draft', nullable=False)\n    published_at = db.Column(db.DateTime)\n    \n    # Foreign keys\n    user_id = db.Column(db.Integer, db.ForeignKey('users.id'), nullable=False)\n    category_id = db.Column(db.Integer, db.ForeignKey('categories.id'))\n    \n    # Relationships\n    category = db.relationship('Category', backref='posts')\n    tags = db.relationship('Tag', secondary='post_tags', backref='posts')\n    \n    def __repr__(self):\n        return f'<Post {self.title}>'\n    \n    @property\n    def is_published(self):\n        \"\"\"Check if post is published.\"\"\"\n        return self.status == 'published' and self.published_at is not None\n```\n\n## Database CLI Commands\n\n```python\n# app/cli.py\nimport click\nfrom flask import current_app\nfrom flask.cli import with_appcontext\nfrom app.extensions import db\nfrom app.models import User, Post, Category\n\n@click.command()\n@with_appcontext\ndef init_db():\n    \"\"\"Initialize database.\"\"\"\n    db.create_all()\n    click.echo('Database initialized.')\n\n@click.command()\n@with_appcontext\ndef seed_db():\n    \"\"\"Seed database with sample data.\"\"\"\n    # Create admin user\n    admin = User(\n        username='admin',\n        email='admin@example.com',\n        first_name='Admin',\n        last_name='User',\n        is_admin=True\n    )\n    admin.set_password('admin123')\n    admin.save()\n    \n    # Create sample category\n    category = Category(\n        name='Technology',\n        description='Tech-related posts'\n    )\n    category.save()\n    \n    # Create sample post\n    post = Post(\n        title='Welcome to Flask',\n        content='This is a sample blog post.',\n        slug='welcome-to-flask',\n        status='published',\n        user_id=admin.id,\n        category_id=category.id\n    )\n    post.save()\n    \n    click.echo('Database seeded with sample data.')\n\n@click.command()\n@with_appcontext\ndef reset_db():\n    \"\"\"Reset database.\"\"\"\n    if click.confirm('Are you sure you want to reset the database?'):\n        db.drop_all()\n        db.create_all()\n        click.echo('Database reset.')\n\ndef init_commands(app):\n    \"\"\"Register CLI commands.\"\"\"\n    app.cli.add_command(init_db)\n    app.cli.add_command(seed_db)\n    app.cli.add_command(reset_db)\n```\n\n## Connection Pooling\n\n```python\n# app/database.py\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.pool import QueuePool\n\ndef configure_database(app):\n    \"\"\"Configure database with connection pooling.\"\"\"\n    if app.config.get('SQLALCHEMY_DATABASE_URI', '').startswith('postgresql'):\n        # PostgreSQL configuration\n        engine = create_engine(\n            app.config['SQLALCHEMY_DATABASE_URI'],\n            poolclass=QueuePool,\n            pool_size=10,\n            max_overflow=20,\n            pool_recycle=3600,\n            pool_pre_ping=True\n        )\n        app.config['SQLALCHEMY_ENGINE_OPTIONS'] = {\n            'pool_size': 10,\n            'max_overflow': 20,\n            'pool_recycle': 3600,\n            'pool_pre_ping': True\n        }\n```\n\n## Database Utilities\n\n```python\n# app/utils/database.py\nfrom app.extensions import db\nfrom sqlalchemy import text\nfrom flask import current_app\n\ndef execute_sql(sql, params=None):\n    \"\"\"Execute raw SQL query.\"\"\"\n    with db.engine.connect() as conn:\n        result = conn.execute(text(sql), params or {})\n        return result.fetchall()\n\ndef backup_database():\n    \"\"\"Create database backup.\"\"\"\n    # Implementation depends on database type\n    pass\n\ndef check_database_health():\n    \"\"\"Check database connection health.\"\"\"\n    try:\n        db.session.execute(text('SELECT 1'))\n        return True\n    except Exception as e:\n        current_app.logger.error(f'Database health check failed: {e}')\n        return False\n\ndef get_table_info(table_name):\n    \"\"\"Get table information.\"\"\"\n    inspector = db.inspect(db.engine)\n    return {\n        'columns': inspector.get_columns(table_name),\n        'indexes': inspector.get_indexes(table_name),\n        'foreign_keys': inspector.get_foreign_keys(table_name)\n    }\n```\n\n## Testing Database\n\n```python\n# tests/conftest.py\nimport pytest\nfrom app import create_app\nfrom app.extensions import db\nfrom app.models import User\n\n@pytest.fixture(scope='session')\ndef app():\n    \"\"\"Create test app.\"\"\"\n    app = create_app('testing')\n    with app.app_context():\n        db.create_all()\n        yield app\n        db.drop_all()\n\n@pytest.fixture\ndef client(app):\n    \"\"\"Create test client.\"\"\"\n    return app.test_client()\n\n@pytest.fixture\ndef db_session(app):\n    \"\"\"Create database session for testing.\"\"\"\n    with app.app_context():\n        db.session.begin()\n        yield db.session\n        db.session.rollback()\n\n@pytest.fixture\ndef user(db_session):\n    \"\"\"Create test user.\"\"\"\n    user = User(\n        username='testuser',\n        email='test@example.com',\n        first_name='Test',\n        last_name='User'\n    )\n    user.set_password('testpass')\n    user.save()\n    return user\n```\n"
              },
              {
                "name": "/deployment",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/deployment.md",
                "frontmatter": null,
                "content": "# Flask Deployment Configuration\n\nComplete production deployment setup for Flask applications.\n\n## Usage\n\n```bash\n# Build Docker image\ndocker build -t myapp .\n\n# Run with Docker Compose\ndocker-compose up -d\n\n# Deploy to cloud\ngunicorn --bind 0.0.0.0:8000 app:app\n```\n\n## Production Configuration\n\n```python\n# config.py\nimport os\nfrom urllib.parse import quote_plus\n\nclass ProductionConfig:\n    \"\"\"Production configuration.\"\"\"\n    \n    # Security\n    SECRET_KEY = os.environ.get('SECRET_KEY')\n    DEBUG = False\n    TESTING = False\n    \n    # Database\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        f\"postgresql://{os.environ.get('DB_USER')}:{quote_plus(os.environ.get('DB_PASSWORD'))}@\" \\\n        f\"{os.environ.get('DB_HOST')}:{os.environ.get('DB_PORT', '5432')}/{os.environ.get('DB_NAME')}\"\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    SQLALCHEMY_ENGINE_OPTIONS = {\n        'pool_size': 10,\n        'max_overflow': 20,\n        'pool_recycle': 3600,\n        'pool_pre_ping': True\n    }\n    \n    # Security Headers\n    SECURITY_HEADERS = {\n        'Strict-Transport-Security': 'max-age=31536000; includeSubDomains',\n        'X-Content-Type-Options': 'nosniff',\n        'X-Frame-Options': 'DENY',\n        'X-XSS-Protection': '1; mode=block',\n        'Content-Security-Policy': \"default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'\"\n    }\n    \n    # Session\n    SESSION_COOKIE_SECURE = True\n    SESSION_COOKIE_HTTPONLY = True\n    SESSION_COOKIE_SAMESITE = 'Lax'\n    PERMANENT_SESSION_LIFETIME = 3600  # 1 hour\n    \n    # Cache\n    CACHE_TYPE = 'redis'\n    CACHE_REDIS_URL = os.environ.get('REDIS_URL', 'redis://localhost:6379/0')\n    CACHE_DEFAULT_TIMEOUT = 300\n    \n    # Rate Limiting\n    RATELIMIT_STORAGE_URL = os.environ.get('REDIS_URL', 'redis://localhost:6379/1')\n    RATELIMIT_DEFAULT = '100/hour'\n    \n    # Logging\n    LOG_LEVEL = os.environ.get('LOG_LEVEL', 'INFO')\n    LOG_FILE = os.environ.get('LOG_FILE', '/var/log/app/app.log')\n    \n    # File Upload\n    MAX_CONTENT_LENGTH = 16 * 1024 * 1024  # 16MB\n    UPLOAD_FOLDER = os.environ.get('UPLOAD_FOLDER', '/var/uploads')\n    \n    # Email\n    MAIL_SERVER = os.environ.get('MAIL_SERVER')\n    MAIL_PORT = int(os.environ.get('MAIL_PORT', 587))\n    MAIL_USE_TLS = os.environ.get('MAIL_USE_TLS', 'true').lower() in ['true', 'on', '1']\n    MAIL_USERNAME = os.environ.get('MAIL_USERNAME')\n    MAIL_PASSWORD = os.environ.get('MAIL_PASSWORD')\n    MAIL_DEFAULT_SENDER = os.environ.get('MAIL_DEFAULT_SENDER')\n```\n\n## WSGI Configuration\n\n```python\n# wsgi.py\nimport os\nfrom app import create_app\n\n# Get environment\nconfig_name = os.environ.get('FLASK_ENV', 'production')\napp = create_app(config_name)\n\nif __name__ == \"__main__\":\n    app.run()\n```\n\n## Gunicorn Configuration\n\n```python\n# gunicorn.conf.py\nimport multiprocessing\nimport os\n\n# Server socket\nbind = f\"0.0.0.0:{os.environ.get('PORT', 8000)}\"\nbacklog = 2048\n\n# Worker processes\nworkers = multiprocessing.cpu_count() * 2 + 1\nworker_class = 'sync'\nworker_connections = 1000\ntimeout = 30\nkeepalive = 60\nmax_requests = 1000\nmax_requests_jitter = 100\n\n# Security\nlimit_request_line = 4094\nlimit_request_fields = 100\nlimit_request_field_size = 8190\n\n# Logging\naccesslog = '-'\nerrorlog = '-'\nloglevel = os.environ.get('LOG_LEVEL', 'info').lower()\naccess_log_format = '%(h)s %(l)s %(u)s %(t)s \"%(r)s\" %(s)s %(b)s \"%(f)s\" \"%(a)s\" %(D)s'\n\n# Process naming\nproc_name = 'flask_app'\n\n# Server mechanics\ndaemon = False\npidfile = '/tmp/gunicorn.pid'\nuser = os.environ.get('USER', 'www-data')\ngroup = os.environ.get('GROUP', 'www-data')\ntmp_upload_dir = None\n\n# SSL\nkeyfile = os.environ.get('SSL_KEYFILE')\ncertfile = os.environ.get('SSL_CERTFILE')\n```\n\n## Docker Configuration\n\n```dockerfile\n# Dockerfile\nFROM python:3.11-slim\n\n# Set environment variables\nENV PYTHONDONTWRITEBYTECODE=1 \\\n    PYTHONUNBUFFERED=1 \\\n    PIP_NO_CACHE_DIR=1 \\\n    PIP_DISABLE_PIP_VERSION_CHECK=1\n\n# Install system dependencies\nRUN apt-get update && apt-get install -y \\\n    build-essential \\\n    libpq-dev \\\n    curl \\\n    && rm -rf /var/lib/apt/lists/*\n\n# Create app user\nRUN groupadd -r appuser && useradd -r -g appuser appuser\n\n# Set work directory\nWORKDIR /app\n\n# Install Python dependencies\nCOPY requirements/production.txt ./requirements.txt\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy application code\nCOPY . .\n\n# Create necessary directories\nRUN mkdir -p /var/log/app /var/uploads && \\\n    chown -R appuser:appuser /app /var/log/app /var/uploads\n\n# Switch to non-root user\nUSER appuser\n\n# Expose port\nEXPOSE 8000\n\n# Health check\nHEALTHCHECK --interval=30s --timeout=30s --start-period=5s --retries=3 \\\n    CMD curl -f http://localhost:8000/health || exit 1\n\n# Run application\nCMD [\"gunicorn\", \"--config\", \"gunicorn.conf.py\", \"wsgi:app\"]\n```\n\n## Docker Compose\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\n\nservices:\n  web:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - FLASK_ENV=production\n      - DATABASE_URL=postgresql://postgres:password@db:5432/myapp\n      - REDIS_URL=redis://redis:6379/0\n      - SECRET_KEY=${SECRET_KEY}\n    depends_on:\n      - db\n      - redis\n    volumes:\n      - uploads:/var/uploads\n      - logs:/var/log/app\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8000/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  db:\n    image: postgres:15\n    environment:\n      - POSTGRES_DB=myapp\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U postgres\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  redis:\n    image: redis:7-alpine\n    command: redis-server --appendonly yes\n    volumes:\n      - redis_data:/data\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD\", \"redis-cli\", \"ping\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  nginx:\n    image: nginx:alpine\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf:ro\n      - ./ssl:/etc/nginx/ssl:ro\n      - uploads:/var/uploads:ro\n    depends_on:\n      - web\n    restart: unless-stopped\n\nvolumes:\n  postgres_data:\n  redis_data:\n  uploads:\n  logs:\n```\n\n## Nginx Configuration\n\n```nginx\n# nginx.conf\nevents {\n    worker_connections 1024;\n}\n\nhttp {\n    upstream app {\n        server web:8000;\n    }\n    \n    # Rate limiting\n    limit_req_zone $binary_remote_addr zone=api:10m rate=10r/s;\n    limit_req_zone $binary_remote_addr zone=login:10m rate=1r/s;\n    \n    # SSL configuration\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384;\n    ssl_prefer_server_ciphers off;\n    \n    # Security headers\n    add_header X-Frame-Options DENY;\n    add_header X-Content-Type-Options nosniff;\n    add_header X-XSS-Protection \"1; mode=block\";\n    add_header Strict-Transport-Security \"max-age=31536000; includeSubDomains\" always;\n    \n    server {\n        listen 80;\n        server_name example.com www.example.com;\n        return 301 https://$server_name$request_uri;\n    }\n    \n    server {\n        listen 443 ssl http2;\n        server_name example.com www.example.com;\n        \n        ssl_certificate /etc/nginx/ssl/cert.pem;\n        ssl_certificate_key /etc/nginx/ssl/key.pem;\n        \n        # File upload size\n        client_max_body_size 16M;\n        \n        # Static files\n        location /static/ {\n            alias /var/uploads/static/;\n            expires 1y;\n            add_header Cache-Control \"public, immutable\";\n        }\n        \n        location /uploads/ {\n            alias /var/uploads/;\n            expires 1h;\n        }\n        \n        # API rate limiting\n        location /api/ {\n            limit_req zone=api burst=20 nodelay;\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n        \n        # Login rate limiting\n        location /auth/login {\n            limit_req zone=login burst=5 nodelay;\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n        \n        # Main application\n        location / {\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n            \n            # Timeout settings\n            proxy_connect_timeout 60s;\n            proxy_send_timeout 60s;\n            proxy_read_timeout 60s;\n        }\n    }\n}\n```\n\n## Environment Variables\n\n```bash\n# .env.production\n# Application\nFLASK_ENV=production\nSECRET_KEY=your-super-secret-key-here\n\n# Database\nDATABASE_URL=postgresql://user:password@localhost:5432/myapp\nDB_HOST=localhost\nDB_PORT=5432\nDB_NAME=myapp\nDB_USER=user\nDB_PASSWORD=password\n\n# Redis\nREDIS_URL=redis://localhost:6379/0\n\n# Email\nMAIL_SERVER=smtp.gmail.com\nMAIL_PORT=587\nMAIL_USE_TLS=true\nMAIL_USERNAME=your-email@gmail.com\nMAIL_PASSWORD=your-app-password\nMAIL_DEFAULT_SENDER=your-email@gmail.com\n\n# Logging\nLOG_LEVEL=INFO\nLOG_FILE=/var/log/app/app.log\n\n# File Upload\nUPLOAD_FOLDER=/var/uploads\n\n# SSL (if using)\nSSL_KEYFILE=/path/to/private.key\nSSL_CERTFILE=/path/to/certificate.crt\n```\n\n## Health Check Endpoint\n\n```python\n# app/health.py\nfrom flask import Blueprint, jsonify\nfrom app.extensions import db\nfrom sqlalchemy import text\nimport redis\nimport os\n\nhealth_bp = Blueprint('health', __name__)\n\n@health_bp.route('/health')\ndef health_check():\n    \"\"\"Application health check.\"\"\"\n    checks = {\n        'status': 'healthy',\n        'database': check_database(),\n        'redis': check_redis(),\n        'disk_space': check_disk_space()\n    }\n    \n    # Determine overall status\n    if all(check['status'] == 'ok' for check in checks.values() if isinstance(check, dict)):\n        status_code = 200\n    else:\n        status_code = 503\n        checks['status'] = 'unhealthy'\n    \n    return jsonify(checks), status_code\n\ndef check_database():\n    \"\"\"Check database connectivity.\"\"\"\n    try:\n        db.session.execute(text('SELECT 1'))\n        return {'status': 'ok', 'message': 'Database connection successful'}\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n\ndef check_redis():\n    \"\"\"Check Redis connectivity.\"\"\"\n    try:\n        redis_url = os.environ.get('REDIS_URL', 'redis://localhost:6379/0')\n        r = redis.from_url(redis_url)\n        r.ping()\n        return {'status': 'ok', 'message': 'Redis connection successful'}\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n\ndef check_disk_space():\n    \"\"\"Check available disk space.\"\"\"\n    try:\n        import shutil\n        total, used, free = shutil.disk_usage('/')\n        free_percent = (free / total) * 100\n        \n        if free_percent > 10:\n            status = 'ok'\n        elif free_percent > 5:\n            status = 'warning'\n        else:\n            status = 'critical'\n        \n        return {\n            'status': status,\n            'free_space_percent': round(free_percent, 2),\n            'free_space_gb': round(free / (1024**3), 2)\n        }\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n```\n\n## Monitoring and Logging\n\n```python\n# app/logging.py\nimport logging\nimport logging.handlers\nimport os\nfrom flask import request, g\nimport time\n\ndef setup_logging(app):\n    \"\"\"Setup application logging.\"\"\"\n    if not app.debug and not app.testing:\n        # File logging\n        if app.config.get('LOG_FILE'):\n            file_handler = logging.handlers.RotatingFileHandler(\n                app.config['LOG_FILE'],\n                maxBytes=10240000,  # 10MB\n                backupCount=10\n            )\n            file_handler.setFormatter(logging.Formatter(\n                '%(asctime)s %(levelname)s: %(message)s '\n                '[in %(pathname)s:%(lineno)d]'\n            ))\n            file_handler.setLevel(getattr(logging, app.config.get('LOG_LEVEL', 'INFO')))\n            app.logger.addHandler(file_handler)\n        \n        # Console logging\n        if not app.logger.handlers:\n            stream_handler = logging.StreamHandler()\n            stream_handler.setFormatter(logging.Formatter(\n                '%(asctime)s %(levelname)s: %(message)s'\n            ))\n            stream_handler.setLevel(logging.INFO)\n            app.logger.addHandler(stream_handler)\n        \n        app.logger.setLevel(logging.INFO)\n        app.logger.info('Application startup')\n\n# Request timing middleware\n@app.before_request\ndef before_request():\n    g.start_time = time.time()\n\n@app.after_request\ndef after_request(response):\n    if hasattr(g, 'start_time'):\n        duration = time.time() - g.start_time\n        app.logger.info(\n            f'{request.method} {request.path} - '\n            f'{response.status_code} - {duration:.3f}s'\n        )\n    return response\n```\n\n## Database Backup Script\n\n```bash\n#!/bin/bash\n# backup.sh\n\nset -e\n\n# Configuration\nBACKUP_DIR=\"/var/backups/db\"\nDATABASE_URL=\"$DATABASE_URL\"\nDATE=$(date +%Y%m%d_%H%M%S)\nBACKUP_FILE=\"$BACKUP_DIR/backup_$DATE.sql\"\nRETENTION_DAYS=7\n\n# Create backup directory\nmkdir -p \"$BACKUP_DIR\"\n\n# Create backup\necho \"Creating database backup...\"\npg_dump \"$DATABASE_URL\" > \"$BACKUP_FILE\"\n\n# Compress backup\ngzip \"$BACKUP_FILE\"\n\n# Remove old backups\necho \"Cleaning up old backups...\"\nfind \"$BACKUP_DIR\" -name \"backup_*.sql.gz\" -mtime +$RETENTION_DAYS -delete\n\necho \"Backup completed: $BACKUP_FILE.gz\"\n```\n\n## Deployment Scripts\n\n```bash\n#!/bin/bash\n# deploy.sh\n\nset -e\n\necho \"Starting deployment...\"\n\n# Pull latest code\ngit pull origin main\n\n# Build new Docker image\ndocker-compose build web\n\n# Run database migrations\ndocker-compose run --rm web flask db upgrade\n\n# Update services\ndocker-compose up -d\n\n# Health check\necho \"Waiting for application to be ready...\"\nsleep 10\n\nif curl -f http://localhost:8000/health; then\n    echo \"Deployment successful!\"\nelse\n    echo \"Deployment failed - health check failed\"\n    exit 1\nfi\n```\n\n## Monitoring with Prometheus\n\n```python\n# app/metrics.py\nfrom prometheus_flask_exporter import PrometheusMetrics\nfrom flask import request\nimport time\n\ndef setup_metrics(app):\n    \"\"\"Setup Prometheus metrics.\"\"\"\n    metrics = PrometheusMetrics(app)\n    \n    # Custom metrics\n    metrics.info('app_info', 'Application info', version='1.0.0')\n    \n    # Database connection pool metrics\n    @metrics.gauge('db_pool_size', 'Database connection pool size')\n    def db_pool_size():\n        from app.extensions import db\n        return db.engine.pool.size()\n    \n    return metrics\n```\n"
              },
              {
                "name": "/flask-route",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/flask-route.md",
                "frontmatter": null,
                "content": "# Flask Route Generator\n\nCreate Flask routes with proper structure and error handling.\n\n## Purpose\n\nThis command helps you quickly create Flask routes with validation, error handling, and best practices.\n\n## Usage\n\n```\n/flask-route\n```\n\n## What this command does\n\n1. **Creates route functions** with proper decorators\n2. **Adds request validation** and error handling\n3. **Includes JSON responses** and status codes\n4. **Implements authentication** if needed\n5. **Follows Flask conventions** and best practices\n\n## Example Output\n\n```python\n# routes.py or app.py\nfrom flask import Flask, request, jsonify, abort\nfrom flask_sqlalchemy import SQLAlchemy\nfrom werkzeug.exceptions import BadRequest\n\napp = Flask(__name__)\n\n@app.route('/users', methods=['GET'])\ndef get_users():\n    \"\"\"Get all users with optional pagination.\"\"\"\n    try:\n        page = request.args.get('page', 1, type=int)\n        per_page = request.args.get('per_page', 10, type=int)\n        \n        users = User.query.paginate(\n            page=page, \n            per_page=per_page, \n            error_out=False\n        )\n        \n        return jsonify({\n            'users': [user.to_dict() for user in users.items],\n            'total': users.total,\n            'pages': users.pages,\n            'current_page': page\n        }), 200\n        \n    except Exception as e:\n        return jsonify({'error': 'Failed to fetch users'}), 500\n\n@app.route('/users/<int:user_id>', methods=['GET'])\ndef get_user(user_id):\n    \"\"\"Get a specific user by ID.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        return jsonify(user.to_dict()), 200\n        \n    except Exception as e:\n        return jsonify({'error': 'User not found'}), 404\n\n@app.route('/users', methods=['POST'])\ndef create_user():\n    \"\"\"Create a new user.\"\"\"\n    try:\n        data = request.get_json()\n        \n        if not data:\n            return jsonify({'error': 'No data provided'}), 400\n        \n        # Validate required fields\n        required_fields = ['name', 'email']\n        for field in required_fields:\n            if field not in data:\n                return jsonify({'error': f'{field} is required'}), 400\n        \n        # Check if email already exists\n        if User.query.filter_by(email=data['email']).first():\n            return jsonify({'error': 'Email already exists'}), 409\n        \n        # Create new user\n        user = User(\n            name=data['name'],\n            email=data['email'],\n            phone=data.get('phone'),\n            address=data.get('address')\n        )\n        \n        db.session.add(user)\n        db.session.commit()\n        \n        return jsonify(user.to_dict()), 201\n        \n    except BadRequest:\n        return jsonify({'error': 'Invalid JSON data'}), 400\n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to create user'}), 500\n\n@app.route('/users/<int:user_id>', methods=['PUT'])\ndef update_user(user_id):\n    \"\"\"Update an existing user.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        data = request.get_json()\n        \n        if not data:\n            return jsonify({'error': 'No data provided'}), 400\n        \n        # Update fields\n        if 'name' in data:\n            user.name = data['name']\n        if 'email' in data:\n            # Check if new email already exists\n            existing_user = User.query.filter_by(email=data['email']).first()\n            if existing_user and existing_user.id != user_id:\n                return jsonify({'error': 'Email already exists'}), 409\n            user.email = data['email']\n        if 'phone' in data:\n            user.phone = data['phone']\n        if 'address' in data:\n            user.address = data['address']\n        \n        db.session.commit()\n        \n        return jsonify(user.to_dict()), 200\n        \n    except BadRequest:\n        return jsonify({'error': 'Invalid JSON data'}), 400\n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to update user'}), 500\n\n@app.route('/users/<int:user_id>', methods=['DELETE'])\ndef delete_user(user_id):\n    \"\"\"Delete a user.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        \n        db.session.delete(user)\n        db.session.commit()\n        \n        return jsonify({'message': 'User deleted successfully'}), 200\n        \n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to delete user'}), 500\n\n# Error handlers\n@app.errorhandler(404)\ndef not_found(error):\n    return jsonify({'error': 'Resource not found'}), 404\n\n@app.errorhandler(400)\ndef bad_request(error):\n    return jsonify({'error': 'Bad request'}), 400\n\n@app.errorhandler(500)\ndef internal_error(error):\n    return jsonify({'error': 'Internal server error'}), 500\n```\n\n## Route Patterns Supported\n\n### Basic Routes\n```python\n@app.route('/')\n@app.route('/users')\n@app.route('/users/<int:user_id>')\n```\n\n### HTTP Methods\n```python\n@app.route('/users', methods=['GET', 'POST'])\n@app.route('/users/<int:id>', methods=['GET', 'PUT', 'DELETE'])\n```\n\n### URL Parameters\n```python\n@app.route('/users/<int:user_id>')\n@app.route('/posts/<string:slug>')\n@app.route('/files/<path:filename>')\n```\n\n## Best Practices Included\n\n- **Input validation** for all user data\n- **Proper HTTP status codes** (200, 201, 400, 404, 500)\n- **JSON responses** with consistent structure\n- **Error handling** with try/catch blocks\n- **Database rollback** on errors\n- **RESTful conventions** for URL design\n- **Documentation strings** for each route\n- **Request data validation** before processing\n\n## Common Response Patterns\n\n```python\n# Success with data\nreturn jsonify({'data': result}), 200\n\n# Created resource\nreturn jsonify({'data': new_resource, 'id': new_id}), 201\n\n# Validation error\nreturn jsonify({'error': 'Field is required'}), 400\n\n# Not found\nreturn jsonify({'error': 'Resource not found'}), 404\n\n# Server error\nreturn jsonify({'error': 'Internal server error'}), 500\n```"
              },
              {
                "name": "/testing",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/testing.md",
                "frontmatter": null,
                "content": "# Flask Testing Suite\n\nComprehensive testing setup for Flask applications with pytest.\n\n## Usage\n\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=app --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n```\n\n## Test Configuration\n\n```python\n# pytest.ini\n[tool:pytest]\ntestpaths = tests\npython_files = test_*.py\npython_classes = Test*\npython_functions = test_*\naddopts = \n    --cov=app\n    --cov-report=term-missing\n    --cov-report=html:htmlcov\n    --strict-markers\n    --disable-warnings\nmarkers =\n    unit: Unit tests\n    integration: Integration tests\n    slow: Slow running tests\n    auth: Authentication tests\n```\n\n## Test Fixtures\n\n```python\n# tests/conftest.py\nimport pytest\nimport tempfile\nimport os\nfrom app import create_app\nfrom app.extensions import db\nfrom app.models import User, Post, Category\nfrom flask_login import login_user\n\n@pytest.fixture(scope='session')\ndef app():\n    \"\"\"Create test application.\"\"\"\n    # Create temporary database\n    db_fd, db_path = tempfile.mkstemp()\n    \n    app = create_app({\n        'TESTING': True,\n        'SQLALCHEMY_DATABASE_URI': f'sqlite:///{db_path}',\n        'WTF_CSRF_ENABLED': False,\n        'SECRET_KEY': 'test-secret-key'\n    })\n    \n    with app.app_context():\n        db.create_all()\n        yield app\n        \n    # Cleanup\n    os.close(db_fd)\n    os.unlink(db_path)\n\n@pytest.fixture\ndef client(app):\n    \"\"\"Create test client.\"\"\"\n    return app.test_client()\n\n@pytest.fixture\ndef runner(app):\n    \"\"\"Create test CLI runner.\"\"\"\n    return app.test_cli_runner()\n\n@pytest.fixture\ndef db_session(app):\n    \"\"\"Create database session for testing.\"\"\"\n    with app.app_context():\n        connection = db.engine.connect()\n        transaction = connection.begin()\n        \n        # Configure session to use the connection\n        db.session.configure(bind=connection)\n        \n        yield db.session\n        \n        # Rollback transaction\n        transaction.rollback()\n        connection.close()\n        db.session.remove()\n\n@pytest.fixture\ndef user(db_session):\n    \"\"\"Create test user.\"\"\"\n    user = User(\n        username='testuser',\n        email='test@example.com',\n        first_name='Test',\n        last_name='User'\n    )\n    user.set_password('testpass123')\n    user.save()\n    return user\n\n@pytest.fixture\ndef admin_user(db_session):\n    \"\"\"Create admin user.\"\"\"\n    admin = User(\n        username='admin',\n        email='admin@example.com',\n        first_name='Admin',\n        last_name='User',\n        is_admin=True\n    )\n    admin.set_password('adminpass123')\n    admin.save()\n    return admin\n\n@pytest.fixture\ndef category(db_session):\n    \"\"\"Create test category.\"\"\"\n    category = Category(\n        name='Test Category',\n        description='A test category'\n    )\n    category.save()\n    return category\n\n@pytest.fixture\ndef post(db_session, user, category):\n    \"\"\"Create test post.\"\"\"\n    post = Post(\n        title='Test Post',\n        content='This is a test post content.',\n        slug='test-post',\n        status='published',\n        user_id=user.id,\n        category_id=category.id\n    )\n    post.save()\n    return post\n\n@pytest.fixture\ndef auth_headers(user):\n    \"\"\"Create authentication headers.\"\"\"\n    # For API testing\n    token = user.generate_auth_token()\n    return {'Authorization': f'Bearer {token}'}\n```\n\n## Model Testing\n\n```python\n# tests/test_models.py\nimport pytest\nfrom datetime import datetime\nfrom app.models import User, Post, Category\nfrom werkzeug.security import check_password_hash\n\nclass TestUser:\n    \"\"\"Test User model.\"\"\"\n    \n    def test_user_creation(self, db_session):\n        \"\"\"Test user creation.\"\"\"\n        user = User(\n            username='newuser',\n            email='new@example.com',\n            first_name='New',\n            last_name='User'\n        )\n        user.set_password('password123')\n        user.save()\n        \n        assert user.id is not None\n        assert user.username == 'newuser'\n        assert user.email == 'new@example.com'\n        assert user.full_name == 'New User'\n        assert user.is_active is True\n        assert user.is_admin is False\n        assert user.created_at is not None\n    \n    def test_password_hashing(self, user):\n        \"\"\"Test password hashing.\"\"\"\n        user.set_password('newpassword')\n        assert user.password_hash != 'newpassword'\n        assert check_password_hash(user.password_hash, 'newpassword')\n        assert user.check_password('newpassword')\n        assert not user.check_password('wrongpassword')\n    \n    def test_user_repr(self, user):\n        \"\"\"Test user string representation.\"\"\"\n        assert repr(user) == '<User testuser>'\n    \n    def test_user_to_dict(self, user):\n        \"\"\"Test user dictionary conversion.\"\"\"\n        user_dict = user.to_dict()\n        assert 'username' in user_dict\n        assert 'email' in user_dict\n        assert 'password_hash' not in user_dict  # Should be excluded\n    \n    def test_user_relationships(self, user, post):\n        \"\"\"Test user relationships.\"\"\"\n        assert post in user.posts\n        assert user.posts.count() == 1\n\nclass TestPost:\n    \"\"\"Test Post model.\"\"\"\n    \n    def test_post_creation(self, db_session, user, category):\n        \"\"\"Test post creation.\"\"\"\n        post = Post(\n            title='New Post',\n            content='New post content',\n            slug='new-post',\n            status='draft',\n            user_id=user.id,\n            category_id=category.id\n        )\n        post.save()\n        \n        assert post.id is not None\n        assert post.title == 'New Post'\n        assert post.author == user\n        assert post.category == category\n        assert not post.is_published\n    \n    def test_published_status(self, post):\n        \"\"\"Test post published status.\"\"\"\n        assert post.is_published  # Published with published_at\n        \n        post.status = 'draft'\n        assert not post.is_published\n```\n\n## View Testing\n\n```python\n# tests/test_views.py\nimport pytest\nfrom flask import url_for\nfrom app.models import User\n\nclass TestMainViews:\n    \"\"\"Test main application views.\"\"\"\n    \n    def test_home_page(self, client):\n        \"\"\"Test home page.\"\"\"\n        response = client.get('/')\n        assert response.status_code == 200\n        assert b'Welcome' in response.data\n    \n    def test_about_page(self, client):\n        \"\"\"Test about page.\"\"\"\n        response = client.get('/about')\n        assert response.status_code == 200\n\nclass TestUserViews:\n    \"\"\"Test user-related views.\"\"\"\n    \n    def test_user_list(self, client, user):\n        \"\"\"Test user list page.\"\"\"\n        response = client.get('/users/')\n        assert response.status_code == 200\n        assert user.username.encode() in response.data\n    \n    def test_user_detail(self, client, user):\n        \"\"\"Test user detail page.\"\"\"\n        response = client.get(f'/users/{user.id}')\n        assert response.status_code == 200\n        assert user.username.encode() in response.data\n    \n    def test_user_create_get(self, client):\n        \"\"\"Test user creation form.\"\"\"\n        response = client.get('/users/create')\n        assert response.status_code == 200\n        assert b'Create User' in response.data\n    \n    def test_user_create_post(self, client, db_session):\n        \"\"\"Test user creation submission.\"\"\"\n        data = {\n            'username': 'newuser',\n            'email': 'new@example.com',\n            'first_name': 'New',\n            'last_name': 'User',\n            'password': 'password123',\n            'confirm_password': 'password123'\n        }\n        response = client.post('/users/create', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Check user was created\n        user = User.query.filter_by(username='newuser').first()\n        assert user is not None\n        assert user.email == 'new@example.com'\n    \n    def test_user_edit(self, client, user):\n        \"\"\"Test user editing.\"\"\"\n        data = {\n            'username': user.username,\n            'email': 'updated@example.com',\n            'first_name': 'Updated',\n            'last_name': 'User'\n        }\n        response = client.post(f'/users/{user.id}/edit', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Refresh user from database\n        db_session.refresh(user)\n        assert user.email == 'updated@example.com'\n        assert user.first_name == 'Updated'\n```\n\n## Authentication Testing\n\n```python\n# tests/test_auth.py\nimport pytest\nfrom flask import url_for\nfrom app.models import User\n\nclass TestAuthentication:\n    \"\"\"Test authentication functionality.\"\"\"\n    \n    def test_login_page(self, client):\n        \"\"\"Test login page access.\"\"\"\n        response = client.get('/auth/login')\n        assert response.status_code == 200\n        assert b'Login' in response.data\n    \n    def test_valid_login(self, client, user):\n        \"\"\"Test valid user login.\"\"\"\n        data = {\n            'username': user.username,\n            'password': 'testpass123'\n        }\n        response = client.post('/auth/login', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        assert b'Welcome' in response.data\n    \n    def test_invalid_login(self, client, user):\n        \"\"\"Test invalid login credentials.\"\"\"\n        data = {\n            'username': user.username,\n            'password': 'wrongpassword'\n        }\n        response = client.post('/auth/login', data=data)\n        assert response.status_code == 200\n        assert b'Invalid' in response.data\n    \n    def test_logout(self, client, user):\n        \"\"\"Test user logout.\"\"\"\n        # Login first\n        with client.session_transaction() as sess:\n            sess['_user_id'] = str(user.id)\n        \n        response = client.get('/auth/logout', follow_redirects=True)\n        assert response.status_code == 200\n    \n    def test_register_page(self, client):\n        \"\"\"Test registration page.\"\"\"\n        response = client.get('/auth/register')\n        assert response.status_code == 200\n        assert b'Register' in response.data\n    \n    def test_valid_registration(self, client, db_session):\n        \"\"\"Test valid user registration.\"\"\"\n        data = {\n            'username': 'newuser',\n            'email': 'new@example.com',\n            'first_name': 'New',\n            'last_name': 'User',\n            'password': 'password123',\n            'confirm_password': 'password123'\n        }\n        response = client.post('/auth/register', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Check user was created\n        user = User.query.filter_by(username='newuser').first()\n        assert user is not None\n```\n\n## API Testing\n\n```python\n# tests/test_api.py\nimport pytest\nimport json\nfrom flask import url_for\n\nclass TestUserAPI:\n    \"\"\"Test User API endpoints.\"\"\"\n    \n    def test_get_users(self, client, user):\n        \"\"\"Test GET /api/users.\"\"\"\n        response = client.get('/api/users')\n        assert response.status_code == 200\n        \n        data = json.loads(response.data)\n        assert 'users' in data\n        assert len(data['users']) >= 1\n    \n    def test_get_user(self, client, user):\n        \"\"\"Test GET /api/users/<id>.\"\"\"\n        response = client.get(f'/api/users/{user.id}')\n        assert response.status_code == 200\n        \n        data = json.loads(response.data)\n        assert data['username'] == user.username\n        assert data['email'] == user.email\n    \n    def test_create_user(self, client, db_session):\n        \"\"\"Test POST /api/users.\"\"\"\n        user_data = {\n            'username': 'apiuser',\n            'email': 'api@example.com',\n            'first_name': 'API',\n            'last_name': 'User',\n            'password': 'password123'\n        }\n        \n        response = client.post(\n            '/api/users',\n            data=json.dumps(user_data),\n            content_type='application/json'\n        )\n        \n        assert response.status_code == 201\n        data = json.loads(response.data)\n        assert data['username'] == 'apiuser'\n    \n    def test_update_user(self, client, user, auth_headers):\n        \"\"\"Test PUT /api/users/<id>.\"\"\"\n        update_data = {\n            'email': 'updated@example.com',\n            'first_name': 'Updated'\n        }\n        \n        response = client.put(\n            f'/api/users/{user.id}',\n            data=json.dumps(update_data),\n            content_type='application/json',\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = json.loads(response.data)\n        assert data['email'] == 'updated@example.com'\n    \n    def test_delete_user(self, client, user, auth_headers):\n        \"\"\"Test DELETE /api/users/<id>.\"\"\"\n        response = client.delete(\n            f'/api/users/{user.id}',\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 204\n```\n\n## Test Utilities\n\n```python\n# tests/utils.py\nimport json\nfrom flask import url_for\n\ndef login_user(client, username, password):\n    \"\"\"Helper to login user in tests.\"\"\"\n    return client.post('/auth/login', data={\n        'username': username,\n        'password': password\n    }, follow_redirects=True)\n\ndef logout_user(client):\n    \"\"\"Helper to logout user in tests.\"\"\"\n    return client.get('/auth/logout', follow_redirects=True)\n\ndef assert_json_response(response, expected_status=200):\n    \"\"\"Assert JSON response format and status.\"\"\"\n    assert response.status_code == expected_status\n    assert response.content_type == 'application/json'\n    return json.loads(response.data)\n\ndef create_test_data(db_session):\n    \"\"\"Create common test data.\"\"\"\n    from app.models import User, Category, Post\n    \n    # Create test users\n    users = []\n    for i in range(3):\n        user = User(\n            username=f'user{i}',\n            email=f'user{i}@example.com',\n            first_name=f'User{i}',\n            last_name='Test'\n        )\n        user.set_password('password123')\n        user.save()\n        users.append(user)\n    \n    return {'users': users}\n```\n\n## Performance Testing\n\n```python\n# tests/test_performance.py\nimport pytest\nimport time\nfrom app.models import User\n\n@pytest.mark.slow\nclass TestPerformance:\n    \"\"\"Test application performance.\"\"\"\n    \n    def test_user_query_performance(self, db_session):\n        \"\"\"Test user query performance.\"\"\"\n        # Create multiple users\n        users = []\n        for i in range(100):\n            user = User(\n                username=f'perfuser{i}',\n                email=f'perf{i}@example.com',\n                first_name=f'Perf{i}',\n                last_name='User'\n            )\n            users.append(user)\n        \n        db_session.bulk_save_objects(users)\n        db_session.commit()\n        \n        # Test query performance\n        start_time = time.time()\n        result = User.query.all()\n        end_time = time.time()\n        \n        assert len(result) >= 100\n        assert (end_time - start_time) < 0.1  # Should complete in under 100ms\n    \n    def test_endpoint_response_time(self, client):\n        \"\"\"Test endpoint response time.\"\"\"\n        start_time = time.time()\n        response = client.get('/')\n        end_time = time.time()\n        \n        assert response.status_code == 200\n        assert (end_time - start_time) < 0.5  # Should respond in under 500ms\n```\n"
              },
              {
                "name": "/model",
                "description": null,
                "path": "cli-tool/templates/ruby/.claude/commands/model.md",
                "frontmatter": null,
                "content": "# Ruby Model Generator\n\nCreate Ruby classes and models with proper structure and best practices.\n\n## Purpose\n\nThis command helps you quickly create Ruby model classes with proper initialization, attributes, and methods following Ruby conventions.\n\n## Usage\n\n```\n/model\n```\n\n## What this command does\n\n1. **Creates model classes** with proper initialization methods\n2. **Adds attribute accessors** and instance variables\n3. **Includes validation methods** and error handling\n4. **Follows Ruby conventions** and best practices\n5. **Generates related test files** when applicable\n\n## Example Output\n\n```ruby\n# app/models/user.rb\nclass User\n  attr_accessor :name, :email, :age\n  attr_reader :id, :created_at\n  \n  def initialize(attributes = {})\n    @id = attributes[:id] || generate_id\n    @name = attributes[:name]\n    @email = attributes[:email]\n    @age = attributes[:age]\n    @created_at = Time.now\n    @errors = []\n  end\n  \n  def valid?\n    @errors.clear\n    validate_presence_of_name\n    validate_email_format\n    validate_age_range\n    @errors.empty?\n  end\n  \n  def errors\n    @errors.dup\n  end\n  \n  def save\n    return false unless valid?\n    \n    # Persist logic here\n    true\n  end\n  \n  def to_h\n    {\n      id: @id,\n      name: @name,\n      email: @email,\n      age: @age,\n      created_at: @created_at\n    }\n  end\n  \n  def to_json(*args)\n    JSON.generate(to_h, *args)\n  end\n  \n  private\n  \n  def validate_presence_of_name\n    if @name.nil? || @name.strip.empty?\n      @errors << \"Name cannot be blank\"\n    end\n  end\n  \n  def validate_email_format\n    if @email && !@email.match?(/\\A[\\w+\\-.]+@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)*\\.[a-z]+\\z/i)\n      @errors << \"Email format is invalid\"\n    end\n  end\n  \n  def validate_age_range\n    if @age && (@age < 0 || @age > 150)\n      @errors << \"Age must be between 0 and 150\"\n    end\n  end\n  \n  def generate_id\n    SecureRandom.uuid\n  end\nend\n\n# Example with inheritance\nclass AdminUser < User\n  attr_accessor :permissions\n  \n  def initialize(attributes = {})\n    super\n    @permissions = attributes[:permissions] || []\n  end\n  \n  def admin?\n    true\n  end\n  \n  def has_permission?(permission)\n    @permissions.include?(permission)\n  end\n  \n  private\n  \n  def validate_permissions\n    unless @permissions.is_a?(Array)\n      @errors << \"Permissions must be an array\"\n    end\n  end\nend\n```\n\n## Advanced Features\n\n### Module Inclusion\n```ruby\nmodule Timestamps\n  def self.included(base)\n    base.extend(ClassMethods)\n  end\n  \n  module ClassMethods\n    def with_timestamps\n      attr_reader :created_at, :updated_at\n      \n      define_method :initialize do |*args|\n        super(*args)\n        @created_at ||= Time.now\n        @updated_at = @created_at\n      end\n      \n      define_method :touch do\n        @updated_at = Time.now\n      end\n    end\n  end\nend\n\nclass Post\n  include Timestamps\n  with_timestamps\n  \n  attr_accessor :title, :content\n  \n  def initialize(attributes = {})\n    @title = attributes[:title]\n    @content = attributes[:content]\n    super\n  end\nend\n```\n\n### Class Methods and Scopes\n```ruby\nclass User\n  @@users = []\n  \n  def self.all\n    @@users.dup\n  end\n  \n  def self.find_by_email(email)\n    @@users.find { |user| user.email == email }\n  end\n  \n  def self.where(conditions = {})\n    @@users.select do |user|\n      conditions.all? { |key, value| user.send(key) == value }\n    end\n  end\n  \n  def self.create(attributes = {})\n    user = new(attributes)\n    if user.save\n      @@users << user\n      user\n    else\n      nil\n    end\n  end\n  \n  def save\n    return false unless valid?\n    \n    unless @@users.include?(self)\n      @@users << self\n    end\n    true\n  end\n  \n  def destroy\n    @@users.delete(self)\n  end\nend\n```\n\n## Testing Template\n\n```ruby\n# spec/models/user_spec.rb\nrequire 'spec_helper'\n\nRSpec.describe User do\n  let(:valid_attributes) do\n    {\n      name: 'John Doe',\n      email: 'john@example.com',\n      age: 30\n    }\n  end\n  \n  describe '#initialize' do\n    it 'sets attributes correctly' do\n      user = User.new(valid_attributes)\n      \n      expect(user.name).to eq('John Doe')\n      expect(user.email).to eq('john@example.com')\n      expect(user.age).to eq(30)\n      expect(user.id).not_to be_nil\n      expect(user.created_at).to be_a(Time)\n    end\n  end\n  \n  describe '#valid?' do\n    it 'returns true for valid attributes' do\n      user = User.new(valid_attributes)\n      expect(user).to be_valid\n    end\n    \n    it 'returns false when name is blank' do\n      user = User.new(valid_attributes.merge(name: ''))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Name cannot be blank')\n    end\n    \n    it 'returns false for invalid email format' do\n      user = User.new(valid_attributes.merge(email: 'invalid-email'))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Email format is invalid')\n    end\n    \n    it 'returns false for invalid age' do\n      user = User.new(valid_attributes.merge(age: -5))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Age must be between 0 and 150')\n    end\n  end\n  \n  describe '#save' do\n    it 'saves valid user' do\n      user = User.new(valid_attributes)\n      expect(user.save).to be true\n    end\n    \n    it 'does not save invalid user' do\n      user = User.new(name: '')\n      expect(user.save).to be false\n    end\n  end\n  \n  describe '#to_h' do\n    it 'returns hash representation' do\n      user = User.new(valid_attributes)\n      hash = user.to_h\n      \n      expect(hash).to include(\n        name: 'John Doe',\n        email: 'john@example.com',\n        age: 30\n      )\n      expect(hash[:id]).not_to be_nil\n      expect(hash[:created_at]).to be_a(Time)\n    end\n  end\nend\n```\n\n## Best Practices Included\n\n- **Proper initialization** with hash parameters\n- **Attribute accessors** for public attributes\n- **Validation methods** with error collection\n- **JSON serialization** support\n- **Class and instance methods** separation\n- **Error handling** and reporting\n- **Ruby naming conventions** (snake_case)\n- **Encapsulation** with private methods\n\n## Common Patterns\n\n### Value Objects\n```ruby\nclass Money\n  include Comparable\n  \n  attr_reader :amount, :currency\n  \n  def initialize(amount, currency = 'USD')\n    @amount = amount.to_f\n    @currency = currency.to_s.upcase\n  end\n  \n  def +(other)\n    raise ArgumentError, \"Currency mismatch\" unless currency == other.currency\n    Money.new(amount + other.amount, currency)\n  end\n  \n  def <=>(other)\n    raise ArgumentError, \"Currency mismatch\" unless currency == other.currency\n    amount <=> other.amount\n  end\n  \n  def to_s\n    \"#{currency} #{format('%.2f', amount)}\"\n  end\nend\n```\n\n### Service Objects\n```ruby\nclass UserRegistrationService\n  attr_reader :user, :errors\n  \n  def initialize(user_params)\n    @user_params = user_params\n    @errors = []\n  end\n  \n  def call\n    @user = User.new(@user_params)\n    \n    if @user.valid?\n      @user.save\n      send_welcome_email\n      true\n    else\n      @errors = @user.errors\n      false\n    end\n  end\n  \n  private\n  \n  def send_welcome_email\n    # Email sending logic\n  end\nend\n```"
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/ruby/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Ruby Test Generator\n\nCreate comprehensive test files with RSpec or Minitest following Ruby testing best practices.\n\n## Purpose\n\nThis command helps you quickly create test files with proper structure, examples, and testing patterns for Ruby applications.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Creates test files** with proper structure for RSpec or Minitest\n2. **Includes test examples** for common scenarios\n3. **Sets up test helpers** and support files\n4. **Follows testing conventions** and best practices\n5. **Generates factory/fixture data** when needed\n\n## RSpec Example Output\n\n```ruby\n# spec/models/user_spec.rb\nrequire 'spec_helper'\n\nRSpec.describe User do\n  let(:user) { build(:user) }\n  let(:valid_attributes) do\n    {\n      name: 'John Doe',\n      email: 'john@example.com',\n      age: 30\n    }\n  end\n  \n  describe 'validations' do\n    it { should validate_presence_of(:name) }\n    it { should validate_presence_of(:email) }\n    it { should validate_uniqueness_of(:email) }\n    it { should validate_numericality_of(:age).is_greater_than(0) }\n    \n    context 'when email format is invalid' do\n      let(:user) { build(:user, email: 'invalid-email') }\n      \n      it 'is not valid' do\n        expect(user).not_to be_valid\n        expect(user.errors[:email]).to include('is invalid')\n      end\n    end\n  end\n  \n  describe 'associations' do\n    it { should have_many(:posts) }\n    it { should have_many(:comments) }\n  end\n  \n  describe 'callbacks' do\n    describe 'before_save' do\n      it 'normalizes email' do\n        user = create(:user, email: 'JOHN@EXAMPLE.COM')\n        expect(user.email).to eq('john@example.com')\n      end\n    end\n  end\n  \n  describe 'instance methods' do\n    describe '#full_name' do\n      let(:user) { build(:user, first_name: 'John', last_name: 'Doe') }\n      \n      it 'returns the full name' do\n        expect(user.full_name).to eq('John Doe')\n      end\n      \n      context 'when last_name is missing' do\n        let(:user) { build(:user, first_name: 'John', last_name: nil) }\n        \n        it 'returns only first_name' do\n          expect(user.full_name).to eq('John')\n        end\n      end\n    end\n    \n    describe '#active?' do\n      context 'when user is active' do\n        let(:user) { build(:user, status: 'active') }\n        \n        it 'returns true' do\n          expect(user.active?).to be true\n        end\n      end\n      \n      context 'when user is inactive' do\n        let(:user) { build(:user, status: 'inactive') }\n        \n        it 'returns false' do\n          expect(user.active?).to be false\n        end\n      end\n    end\n  end\n  \n  describe 'class methods' do\n    describe '.active' do\n      let!(:active_user) { create(:user, status: 'active') }\n      let!(:inactive_user) { create(:user, status: 'inactive') }\n      \n      it 'returns only active users' do\n        expect(User.active).to include(active_user)\n        expect(User.active).not_to include(inactive_user)\n      end\n    end\n    \n    describe '.find_by_email' do\n      let!(:user) { create(:user, email: 'test@example.com') }\n      \n      it 'finds user by email' do\n        found_user = User.find_by_email('test@example.com')\n        expect(found_user).to eq(user)\n      end\n      \n      it 'returns nil when user not found' do\n        found_user = User.find_by_email('nonexistent@example.com')\n        expect(found_user).to be_nil\n      end\n    end\n  end\n  \n  describe 'scopes' do\n    describe '.recent' do\n      let!(:old_user) { create(:user, created_at: 1.year.ago) }\n      let!(:recent_user) { create(:user, created_at: 1.day.ago) }\n      \n      it 'returns users created in the last 30 days' do\n        expect(User.recent).to include(recent_user)\n        expect(User.recent).not_to include(old_user)\n      end\n    end\n  end\nend\n```\n\n## Minitest Example Output\n\n```ruby\n# test/models/user_test.rb\nrequire 'test_helper'\n\nclass UserTest < ActiveSupport::TestCase\n  def setup\n    @user = users(:john)\n    @valid_attributes = {\n      name: 'Jane Doe',\n      email: 'jane@example.com',\n      age: 25\n    }\n  end\n  \n  # Validation tests\n  test 'should not save user without name' do\n    user = User.new(@valid_attributes.except(:name))\n    assert_not user.save\n    assert_includes user.errors[:name], \"can't be blank\"\n  end\n  \n  test 'should not save user without email' do\n    user = User.new(@valid_attributes.except(:email))\n    assert_not user.save\n    assert_includes user.errors[:email], \"can't be blank\"\n  end\n  \n  test 'should not save user with invalid email' do\n    user = User.new(@valid_attributes.merge(email: 'invalid-email'))\n    assert_not user.save\n    assert_includes user.errors[:email], 'is invalid'\n  end\n  \n  test 'should not save user with duplicate email' do\n    user1 = User.create!(@valid_attributes)\n    user2 = User.new(@valid_attributes)\n    assert_not user2.save\n    assert_includes user2.errors[:email], 'has already been taken'\n  end\n  \n  test 'should save user with valid attributes' do\n    user = User.new(@valid_attributes)\n    assert user.save\n  end\n  \n  # Association tests\n  test 'should have many posts' do\n    assert_respond_to @user, :posts\n    assert_kind_of ActiveRecord::Associations::CollectionProxy, @user.posts\n  end\n  \n  test 'should have many comments' do\n    assert_respond_to @user, :comments\n  end\n  \n  # Instance method tests\n  test 'full_name should return first and last name' do\n    @user.first_name = 'John'\n    @user.last_name = 'Doe'\n    assert_equal 'John Doe', @user.full_name\n  end\n  \n  test 'full_name should return first name only when last name is missing' do\n    @user.first_name = 'John'\n    @user.last_name = nil\n    assert_equal 'John', @user.full_name\n  end\n  \n  test 'active? should return true for active users' do\n    @user.status = 'active'\n    assert @user.active?\n  end\n  \n  test 'active? should return false for inactive users' do\n    @user.status = 'inactive'\n    assert_not @user.active?\n  end\n  \n  # Class method tests\n  test 'active scope should return only active users' do\n    active_user = User.create!(@valid_attributes.merge(status: 'active'))\n    inactive_user = User.create!(@valid_attributes.merge(\n      email: 'inactive@example.com',\n      status: 'inactive'\n    ))\n    \n    active_users = User.active\n    assert_includes active_users, active_user\n    assert_not_includes active_users, inactive_user\n  end\n  \n  test 'find_by_email should find user by email' do\n    user = User.create!(@valid_attributes)\n    found_user = User.find_by_email(@valid_attributes[:email])\n    assert_equal user, found_user\n  end\n  \n  test 'find_by_email should return nil when user not found' do\n    found_user = User.find_by_email('nonexistent@example.com')\n    assert_nil found_user\n  end\nend\n```\n\n## Controller Test Example\n\n```ruby\n# spec/controllers/users_controller_spec.rb\nrequire 'rails_helper'\n\nRSpec.describe UsersController, type: :controller do\n  let(:user) { create(:user) }\n  let(:valid_attributes) { attributes_for(:user) }\n  let(:invalid_attributes) { { name: '', email: 'invalid' } }\n  \n  describe 'GET #index' do\n    it 'returns a success response' do\n      get :index\n      expect(response).to be_successful\n    end\n    \n    it 'assigns @users' do\n      user1 = create(:user)\n      user2 = create(:user)\n      get :index\n      expect(assigns(:users)).to match_array([user1, user2])\n    end\n  end\n  \n  describe 'GET #show' do\n    it 'returns a success response' do\n      get :show, params: { id: user.to_param }\n      expect(response).to be_successful\n    end\n    \n    it 'assigns the requested user' do\n      get :show, params: { id: user.to_param }\n      expect(assigns(:user)).to eq(user)\n    end\n  end\n  \n  describe 'POST #create' do\n    context 'with valid parameters' do\n      it 'creates a new User' do\n        expect {\n          post :create, params: { user: valid_attributes }\n        }.to change(User, :count).by(1)\n      end\n      \n      it 'redirects to the created user' do\n        post :create, params: { user: valid_attributes }\n        expect(response).to redirect_to(User.last)\n      end\n    end\n    \n    context 'with invalid parameters' do\n      it 'does not create a new User' do\n        expect {\n          post :create, params: { user: invalid_attributes }\n        }.to change(User, :count).by(0)\n      end\n      \n      it 'renders the new template' do\n        post :create, params: { user: invalid_attributes }\n        expect(response).to render_template(:new)\n      end\n    end\n  end\n  \n  describe 'PUT #update' do\n    context 'with valid parameters' do\n      let(:new_attributes) { { name: 'Updated Name' } }\n      \n      it 'updates the requested user' do\n        put :update, params: { id: user.to_param, user: new_attributes }\n        user.reload\n        expect(user.name).to eq('Updated Name')\n      end\n      \n      it 'redirects to the user' do\n        put :update, params: { id: user.to_param, user: new_attributes }\n        expect(response).to redirect_to(user)\n      end\n    end\n    \n    context 'with invalid parameters' do\n      it 'renders the edit template' do\n        put :update, params: { id: user.to_param, user: invalid_attributes }\n        expect(response).to render_template(:edit)\n      end\n    end\n  end\n  \n  describe 'DELETE #destroy' do\n    it 'destroys the requested user' do\n      user # Create user\n      expect {\n        delete :destroy, params: { id: user.to_param }\n      }.to change(User, :count).by(-1)\n    end\n    \n    it 'redirects to the users list' do\n      delete :destroy, params: { id: user.to_param }\n      expect(response).to redirect_to(users_url)\n    end\n  end\nend\n```\n\n## Factory Configuration\n\n```ruby\n# spec/factories/users.rb\nFactoryBot.define do\n  factory :user do\n    sequence(:name) { |n| \"User #{n}\" }\n    sequence(:email) { |n| \"user#{n}@example.com\" }\n    age { rand(18..80) }\n    status { 'active' }\n    \n    trait :inactive do\n      status { 'inactive' }\n    end\n    \n    trait :admin do\n      admin { true }\n    end\n    \n    trait :with_posts do\n      after(:create) do |user|\n        create_list(:post, 3, user: user)\n      end\n    end\n    \n    factory :admin_user, traits: [:admin]\n    factory :inactive_user, traits: [:inactive]\n  end\nend\n```\n\n## Test Helper Configuration\n\n```ruby\n# spec/spec_helper.rb\nrequire 'simplecov'\nSimpleCov.start 'rails' do\n  add_filter '/spec/'\n  add_filter '/config/'\n  add_filter '/vendor/'\n  \n  add_group 'Controllers', 'app/controllers'\n  add_group 'Models', 'app/models'\n  add_group 'Services', 'app/services'\n  add_group 'Libraries', 'lib'\nend\n\nRSpec.configure do |config|\n  config.expect_with :rspec do |expectations|\n    expectations.include_chain_clauses_in_custom_matcher_descriptions = true\n  end\n  \n  config.mock_with :rspec do |mocks|\n    mocks.verify_partial_doubles = true\n  end\n  \n  config.shared_context_metadata_behavior = :apply_to_host_groups\n  config.filter_run_when_matching :focus\n  config.example_status_persistence_file_path = 'spec/examples.txt'\n  config.disable_monkey_patching!\n  config.warnings = true\n  \n  if config.files_to_run.one?\n    config.default_formatter = 'doc'\n  end\n  \n  config.profile_examples = 10\n  config.order = :random\n  Kernel.srand config.seed\nend\n```\n\n## Integration Test Example\n\n```ruby\n# spec/requests/api/users_spec.rb\nrequire 'rails_helper'\n\nRSpec.describe 'API::Users', type: :request do\n  let(:user) { create(:user) }\n  let(:valid_headers) {\n    { 'Authorization' => \"Bearer #{user.auth_token}\" }\n  }\n  \n  describe 'GET /api/users' do\n    it 'returns users' do\n      create_list(:user, 3)\n      \n      get '/api/users', headers: valid_headers\n      \n      expect(response).to have_http_status(:ok)\n      expect(JSON.parse(response.body)['users'].size).to eq(3)\n    end\n  end\n  \n  describe 'POST /api/users' do\n    let(:valid_params) do\n      {\n        user: {\n          name: 'New User',\n          email: 'new@example.com'\n        }\n      }\n    end\n    \n    it 'creates a new user' do\n      post '/api/users', params: valid_params, headers: valid_headers\n      \n      expect(response).to have_http_status(:created)\n      expect(JSON.parse(response.body)['user']['name']).to eq('New User')\n    end\n  end\nend\n```\n\n## Best Practices Included\n\n- **Descriptive test names** that explain expected behavior\n- **Proper test organization** with contexts and describes\n- **Factory usage** for test data generation\n- **Mocking and stubbing** for external dependencies\n- **Coverage configuration** with SimpleCov\n- **Test helpers** and shared examples\n- **Request/Integration tests** for API endpoints\n- **Feature tests** for user workflows"
              },
              {
                "name": "/authentication",
                "description": null,
                "path": "cli-tool/templates/ruby/examples/rails-app/.claude/commands/authentication.md",
                "frontmatter": null,
                "content": "# Rails 8 Native Authentication Generator\n\nGenerate Rails 8's built-in authentication system with modern security practices.\n\n## Purpose\n\nThis command helps you implement Rails 8's new native authentication system, eliminating the need for external gems like Devise for basic authentication needs.\n\n## Usage\n\n```\n/authentication\n```\n\n## What this command does\n\n1. **Generates authentication models** with secure password handling\n2. **Creates authentication controllers** for login/logout/signup\n3. **Adds authentication views** with modern styling\n4. **Implements session management** with security best practices\n5. **Sets up authentication helpers** for controllers and views\n\n## Rails 8 Authentication Generator\n\n```bash\n# Generate authentication for User model\nbin/rails generate authentication User\n\n# Or specify custom model name\nbin/rails generate authentication Account\n\n# Generate with custom attributes\nbin/rails generate authentication User first_name:string last_name:string\n```\n\n## Generated User Model\n\n```ruby\n# app/models/user.rb\nclass User < ApplicationRecord\n  has_secure_password\n  \n  validates :email, presence: true, uniqueness: true\n  validates :password, length: { minimum: 8 }, if: -> { new_record? || !password.blank? }\n  \n  normalizes :email, with: ->(email) { email.strip.downcase }\n  \n  before_save :normalize_email\n  \n  private\n  \n  def normalize_email\n    self.email = email.downcase.strip\n  end\nend\n```\n\n## Authentication Controller\n\n```ruby\n# app/controllers/authentication_controller.rb\nclass AuthenticationController < ApplicationController\n  skip_before_action :authenticate_user!, only: [:new, :create]\n  \n  def new\n    # Login page\n  end\n  \n  def create\n    user = User.find_by(email: params[:email])\n    \n    if user&.authenticate(params[:password])\n      login(user)\n      redirect_to root_path, notice: 'Logged in successfully'\n    else\n      flash.now[:alert] = 'Invalid email or password'\n      render :new, status: :unprocessable_entity\n    end\n  end\n  \n  def destroy\n    logout\n    redirect_to root_path, notice: 'Logged out successfully'\n  end\n  \n  private\n  \n  def login(user)\n    session[:user_id] = user.id\n    @current_user = user\n  end\n  \n  def logout\n    session[:user_id] = nil\n    @current_user = nil\n  end\nend\n```\n\n## Registration Controller\n\n```ruby\n# app/controllers/registrations_controller.rb\nclass RegistrationsController < ApplicationController\n  skip_before_action :authenticate_user!\n  \n  def new\n    @user = User.new\n  end\n  \n  def create\n    @user = User.new(user_params)\n    \n    if @user.save\n      login(@user)\n      redirect_to root_path, notice: 'Account created successfully'\n    else\n      render :new, status: :unprocessable_entity\n    end\n  end\n  \n  private\n  \n  def user_params\n    params.require(:user).permit(:email, :password, :password_confirmation, :first_name, :last_name)\n  end\n  \n  def login(user)\n    session[:user_id] = user.id\n    @current_user = user\n  end\nend\n```\n\n## Application Controller Updates\n\n```ruby\n# app/controllers/application_controller.rb\nclass ApplicationController < ActionController::Base\n  protect_from_forgery with: :exception\n  \n  before_action :authenticate_user!\n  \n  private\n  \n  def authenticate_user!\n    redirect_to login_path, alert: 'Please log in to continue' unless current_user\n  end\n  \n  def current_user\n    @current_user ||= User.find(session[:user_id]) if session[:user_id]\n  end\n  helper_method :current_user\n  \n  def logged_in?\n    !!current_user\n  end\n  helper_method :logged_in?\n  \n  def require_login\n    unless logged_in?\n      flash[:alert] = 'You must be logged in to access this page'\n      redirect_to login_path\n    end\n  end\nend\n```\n\n## Authentication Views\n\n### Login Form\n```erb\n<!-- app/views/authentication/new.html.erb -->\n<div class=\"authentication-form\">\n  <h1>Log In</h1>\n  \n  <%= form_with url: login_path, local: true, class: \"auth-form\" do |form| %>\n    <div class=\"form-group\">\n      <%= form.label :email, \"Email\" %>\n      <%= form.email_field :email, required: true, autofocus: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password, \"Password\" %>\n      <%= form.password_field :password, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-actions\">\n      <%= form.submit \"Log In\", class: \"btn btn-primary\" %>\n    </div>\n  <% end %>\n  \n  <div class=\"auth-links\">\n    <%= link_to \"Don't have an account? Sign up\", signup_path %>\n  </div>\n</div>\n```\n\n### Registration Form\n```erb\n<!-- app/views/registrations/new.html.erb -->\n<div class=\"authentication-form\">\n  <h1>Sign Up</h1>\n  \n  <%= form_with model: @user, url: signup_path, local: true, class: \"auth-form\" do |form| %>\n    <% if @user.errors.any? %>\n      <div class=\"error-messages\">\n        <h3><%= pluralize(@user.errors.count, \"error\") %> prohibited this account from being saved:</h3>\n        <ul>\n          <% @user.errors.full_messages.each do |message| %>\n            <li><%= message %></li>\n          <% end %>\n        </ul>\n      </div>\n    <% end %>\n    \n    <div class=\"form-group\">\n      <%= form.label :first_name, \"First Name\" %>\n      <%= form.text_field :first_name, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :last_name, \"Last Name\" %>\n      <%= form.text_field :last_name, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :email, \"Email\" %>\n      <%= form.email_field :email, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password, \"Password\" %>\n      <%= form.password_field :password, required: true, minlength: 8, class: \"form-control\" %>\n      <small class=\"form-text\">Minimum 8 characters</small>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password_confirmation, \"Confirm Password\" %>\n      <%= form.password_field :password_confirmation, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-actions\">\n      <%= form.submit \"Sign Up\", class: \"btn btn-primary\" %>\n    </div>\n  <% end %>\n  \n  <div class=\"auth-links\">\n    <%= link_to \"Already have an account? Log in\", login_path %>\n  </div>\n</div>\n```\n\n## Route Configuration\n\n```ruby\n# config/routes.rb\nRails.application.routes.draw do\n  # Authentication routes\n  get    'login',  to: 'authentication#new'\n  post   'login',  to: 'authentication#create'\n  delete 'logout', to: 'authentication#destroy'\n  \n  # Registration routes\n  get  'signup', to: 'registrations#new'\n  post 'signup', to: 'registrations#create'\n  \n  # User management routes\n  resources :users, except: [:new, :create]\n  \n  # Root route\n  root 'dashboard#index'\nend\n```\n\n## Migration Files\n\n```ruby\n# db/migrate/xxx_create_users.rb\nclass CreateUsers < ActiveRecord::Migration[8.0]\n  def change\n    create_table :users do |t|\n      t.string :email, null: false\n      t.string :password_digest, null: false\n      t.string :first_name\n      t.string :last_name\n      \n      t.timestamps\n    end\n    \n    add_index :users, :email, unique: true\n  end\nend\n```\n\n## Advanced Authentication Features\n\n### Password Reset\n```ruby\n# app/controllers/password_resets_controller.rb\nclass PasswordResetsController < ApplicationController\n  skip_before_action :authenticate_user!\n  \n  def new\n    # Password reset request form\n  end\n  \n  def create\n    @user = User.find_by(email: params[:email])\n    if @user\n      @user.send_password_reset\n      redirect_to root_path, notice: 'Email sent with password reset instructions'\n    else\n      flash.now[:alert] = 'Email address not found'\n      render :new\n    end\n  end\n  \n  def edit\n    @user = User.find_by(password_reset_token: params[:id])\n    if @user.nil? || @user.password_reset_sent_at < 2.hours.ago\n      redirect_to new_password_reset_path, alert: 'Password reset has expired'\n    end\n  end\n  \n  def update\n    @user = User.find_by(password_reset_token: params[:id])\n    if @user && @user.password_reset_sent_at > 2.hours.ago\n      if @user.update(password_params)\n        @user.update_columns(password_reset_token: nil, password_reset_sent_at: nil)\n        redirect_to root_path, notice: 'Password has been reset'\n      else\n        render :edit\n      end\n    else\n      redirect_to new_password_reset_path, alert: 'Password reset has expired'\n    end\n  end\n  \n  private\n  \n  def password_params\n    params.require(:user).permit(:password, :password_confirmation)\n  end\nend\n```\n\n### User Model Extensions\n```ruby\n# app/models/user.rb (extended)\nclass User < ApplicationRecord\n  has_secure_password\n  \n  validates :email, presence: true, uniqueness: true\n  validates :password, length: { minimum: 8 }, if: -> { new_record? || !password.blank? }\n  \n  normalizes :email, with: ->(email) { email.strip.downcase }\n  \n  # Password reset functionality\n  def send_password_reset\n    generate_token(:password_reset_token)\n    self.password_reset_sent_at = Time.zone.now\n    save!\n    UserMailer.password_reset(self).deliver_now\n  end\n  \n  def full_name\n    \"#{first_name} #{last_name}\".strip\n  end\n  \n  def initials\n    \"#{first_name&.first}#{last_name&.first}\".upcase\n  end\n  \n  private\n  \n  def generate_token(column)\n    begin\n      self[column] = SecureRandom.urlsafe_base64\n    end while User.exists?(column => self[column])\n  end\nend\n```\n\n## Session Security Enhancements\n\n```ruby\n# config/application.rb\nconfig.session_store :cookie_store, {\n  key: '_myapp_session',\n  secure: Rails.env.production?,\n  httponly: true,\n  same_site: :lax\n}\n\n# config/environments/production.rb\nconfig.force_ssl = true\nconfig.session_store :cookie_store, {\n  key: '_myapp_session',\n  secure: true,\n  httponly: true,\n  same_site: :strict\n}\n```\n\n## Authentication Helper Methods\n\n```ruby\n# app/helpers/authentication_helper.rb\nmodule AuthenticationHelper\n  def user_avatar(user, size: 40)\n    if user.avatar.present?\n      image_tag user.avatar, alt: user.full_name, class: \"avatar\", size: \"#{size}x#{size}\"\n    else\n      content_tag :div, user.initials, class: \"avatar avatar-initials\", \n                  style: \"width: #{size}px; height: #{size}px; line-height: #{size}px;\"\n    end\n  end\n  \n  def current_user_menu\n    if logged_in?\n      render 'shared/user_menu'\n    else\n      render 'shared/guest_menu'\n    end\n  end\nend\n```\n\n## Testing Authentication\n\n```ruby\n# spec/models/user_spec.rb\nRSpec.describe User, type: :model do\n  describe 'validations' do\n    it { should validate_presence_of(:email) }\n    it { should validate_uniqueness_of(:email) }\n    it { should validate_length_of(:password).is_at_least(8) }\n    it { should have_secure_password }\n  end\n  \n  describe 'email normalization' do\n    it 'normalizes email to lowercase' do\n      user = User.create!(email: 'USER@EXAMPLE.COM', password: 'password123')\n      expect(user.email).to eq('user@example.com')\n    end\n  end\n  \n  describe '#full_name' do\n    it 'returns combined first and last name' do\n      user = User.new(first_name: 'John', last_name: 'Doe')\n      expect(user.full_name).to eq('John Doe')\n    end\n  end\nend\n\n# spec/controllers/authentication_controller_spec.rb\nRSpec.describe AuthenticationController, type: :controller do\n  describe 'POST #create' do\n    let(:user) { create(:user, password: 'password123') }\n    \n    context 'with valid credentials' do\n      it 'logs in the user' do\n        post :create, params: { email: user.email, password: 'password123' }\n        expect(session[:user_id]).to eq(user.id)\n        expect(response).to redirect_to(root_path)\n      end\n    end\n    \n    context 'with invalid credentials' do\n      it 'does not log in the user' do\n        post :create, params: { email: user.email, password: 'wrong' }\n        expect(session[:user_id]).to be_nil\n        expect(response).to render_template(:new)\n      end\n    end\n  end\nend\n```\n\n## Security Best Practices Included\n\n- **Secure password hashing** with bcrypt\n- **Email normalization** to prevent duplicates\n- **CSRF protection** enabled by default\n- **Session security** with httponly and secure flags\n- **Password strength validation** (minimum 8 characters)\n- **Timing attack prevention** in authentication\n- **Password reset token expiration**\n- **SSL enforcement** in production"
              }
            ],
            "skills": []
          },
          {
            "name": "performance-optimizer",
            "description": "Performance optimization suite with profiling, bundle analysis, and speed improvement tools",
            "source": "./",
            "category": null,
            "version": "1.0.0",
            "author": {
              "name": "Daniel Avila"
            },
            "install_commands": [
              "/plugin marketplace add Justdvp/claude-code-templates",
              "/plugin install performance-optimizer@claude-code-templates"
            ],
            "signals": {
              "stars": 5,
              "forks": 0,
              "pushed_at": "2026-01-12T22:20:42Z",
              "created_at": "2022-10-16T16:39:58Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/lint",
                "description": null,
                "path": ".claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Python Linter\n\nRun Python code linting and formatting tools.\n\n## Purpose\n\nThis command helps you maintain code quality using Python's best linting and formatting tools.\n\n## Usage\n\n```\n/lint\n```\n\n## What this command does\n\n1. **Runs multiple linters** (flake8, pylint, black, isort)\n2. **Provides detailed feedback** on code quality issues\n3. **Auto-fixes formatting** where possible\n4. **Checks type hints** if mypy is configured\n\n## Example Commands\n\n### Black (code formatting)\n```bash\n# Format all Python files\nblack .\n\n# Check formatting without changing files\nblack --check .\n\n# Format specific file\nblack src/main.py\n```\n\n### flake8 (style guide enforcement)\n```bash\n# Check all Python files\nflake8 .\n\n# Check specific directory\nflake8 src/\n\n# Check with specific rules\nflake8 --max-line-length=88 .\n```\n\n### isort (import sorting)\n```bash\n# Sort imports in all files\nisort .\n\n# Check import sorting\nisort --check-only .\n\n# Sort imports in specific file\nisort src/main.py\n```\n\n### pylint (comprehensive linting)\n```bash\n# Run pylint on all files\npylint src/\n\n# Run with specific score threshold\npylint --fail-under=8.0 src/\n\n# Generate detailed report\npylint --output-format=html src/ > pylint_report.html\n```\n\n### mypy (type checking)\n```bash\n# Check types in all files\nmypy .\n\n# Check specific module\nmypy src/models.py\n\n# Check with strict mode\nmypy --strict src/\n```\n\n## Configuration Files\n\nMost projects benefit from configuration files:\n\n### .flake8\n```ini\n[flake8]\nmax-line-length = 88\nexclude = .git,__pycache__,venv\nignore = E203,W503\n```\n\n### pyproject.toml\n```toml\n[tool.black]\nline-length = 88\n\n[tool.isort]\nprofile = \"black\"\n```\n\n## Best Practices\n\n- Run linters before committing code\n- Use consistent formatting across the project\n- Fix linting issues promptly\n- Configure linters to match your team's style\n- Use type hints for better code documentation"
              },
              {
                "name": "/test",
                "description": null,
                "path": ".claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Runner\n\nRun Python tests with pytest, unittest, or other testing frameworks.\n\n## Purpose\n\nThis command helps you run Python tests effectively with proper configuration and reporting.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Detects test framework** (pytest, unittest, nose2)\n2. **Runs appropriate tests** with proper configuration\n3. **Provides coverage reporting** if available\n4. **Shows clear test results** with failure details\n\n## Example Commands\n\n### pytest (recommended)\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=src --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n\n# Run tests matching pattern\npytest -k \"test_user\"\n```\n\n### unittest\n```bash\n# Run all tests\npython -m unittest discover\n\n# Run specific test file\npython -m unittest tests.test_models\n\n# Run with verbose output\npython -m unittest -v\n```\n\n### Django tests\n```bash\n# Run all Django tests\npython manage.py test\n\n# Run specific app tests\npython manage.py test myapp\n\n# Run with coverage\ncoverage run --source='.' manage.py test\ncoverage report\n```\n\n## Best Practices\n\n- Write tests for all critical functionality\n- Use descriptive test names\n- Keep tests isolated and independent\n- Mock external dependencies\n- Aim for high test coverage (80%+)"
              },
              {
                "name": "/git-workflow",
                "description": null,
                "path": "cli-tool/templates/common/.claude/commands/git-workflow.md",
                "frontmatter": null,
                "content": "# Git Workflow Helper\n\nManage Git workflows with best practices and common operations.\n\n## Purpose\n\nThis command helps you perform common Git operations following best practices for collaborative development.\n\n## Usage\n\n```\n/git-workflow\n```\n\n## What this command does\n\n1. **Guides through Git operations** with proper workflow\n2. **Suggests best practices** for commits and branches\n3. **Helps with conflict resolution** and merging\n4. **Provides templates** for commit messages\n5. **Manages branching strategies** (Git Flow, GitHub Flow)\n\n## Common Workflows\n\n### Feature Development\n```bash\n# Create and switch to feature branch\ngit checkout -b feature/user-authentication\n\n# Work on your feature\n# ... make changes ...\n\n# Stage and commit changes\ngit add .\ngit commit -m \"feat: add user authentication system\n\n- Implement login/logout functionality\n- Add password validation\n- Create user session management\n- Add authentication middleware\"\n\n# Push feature branch\ngit push -u origin feature/user-authentication\n\n# Create pull request (via GitHub/GitLab interface)\n```\n\n### Hotfix Workflow\n```bash\n# Create hotfix branch from main\ngit checkout main\ngit checkout -b hotfix/security-patch\n\n# Fix the issue\n# ... make changes ...\n\n# Commit the fix\ngit commit -m \"fix: resolve security vulnerability in auth module\n\n- Patch XSS vulnerability in login form\n- Update input validation\n- Add CSRF protection\"\n\n# Push and create urgent PR\ngit push -u origin hotfix/security-patch\n```\n\n### Sync with Remote\n```bash\n# Update main branch\ngit checkout main\ngit pull origin main\n\n# Update feature branch with latest main\ngit checkout feature/your-feature\ngit rebase main\n# OR\ngit merge main\n```\n\n## Commit Message Conventions\n\n### Conventional Commits Format\n```\n<type>[optional scope]: <description>\n\n[optional body]\n\n[optional footer(s)]\n```\n\n### Common Types\n- **feat**: New feature\n- **fix**: Bug fix\n- **docs**: Documentation changes\n- **style**: Code style changes (formatting, etc.)\n- **refactor**: Code refactoring\n- **test**: Adding or updating tests\n- **chore**: Maintenance tasks\n\n### Examples\n```bash\n# Feature\ngit commit -m \"feat(auth): add OAuth2 integration\"\n\n# Bug fix\ngit commit -m \"fix(api): handle null response in user endpoint\"\n\n# Documentation\ngit commit -m \"docs: update API documentation for v2.0\"\n\n# Breaking change\ngit commit -m \"feat!: change API response format\n\nBREAKING CHANGE: API responses now use 'data' wrapper\"\n```\n\n## Branch Management\n\n### Git Flow Strategy\n```bash\n# Main branches\nmain        # Production-ready code\ndevelop     # Integration branch\n\n# Supporting branches\nfeature/*   # New features\nrelease/*   # Release preparation\nhotfix/*    # Quick fixes to production\n```\n\n### GitHub Flow (Simplified)\n```bash\n# Only main branch + feature branches\nmain        # Production-ready code\nfeature/*   # All new work\n```\n\n## Conflict Resolution\n\n### When Conflicts Occur\n```bash\n# Start merge/rebase\ngit merge feature-branch\n# OR\ngit rebase main\n\n# If conflicts occur, Git will list conflicted files\n# Edit each file to resolve conflicts\n\n# Mark conflicts as resolved\ngit add conflicted-file.js\n\n# Continue the merge/rebase\ngit merge --continue\n# OR\ngit rebase --continue\n```\n\n### Conflict Markers\n```javascript\n<<<<<<< HEAD\n// Your current branch code\nconst user = getCurrentUser();\n=======\n// Incoming branch code\nconst user = getAuthenticatedUser();\n>>>>>>> feature-branch\n```\n\n## Useful Git Commands\n\n### Status and Information\n```bash\ngit status                    # Check working directory status\ngit log --oneline            # View commit history\ngit branch -a                # List all branches\ngit remote -v                # List remote repositories\n```\n\n### Undoing Changes\n```bash\ngit checkout -- file.js     # Discard changes to file\ngit reset HEAD file.js       # Unstage file\ngit reset --soft HEAD~1     # Undo last commit (keep changes)\ngit reset --hard HEAD~1     # Undo last commit (discard changes)\n```\n\n### Stashing Work\n```bash\ngit stash                    # Save current work\ngit stash pop               # Apply and remove latest stash\ngit stash list              # List all stashes\ngit stash apply stash@{1}   # Apply specific stash\n```\n\n## Best Practices\n\n1. **Commit Often** - Make small, focused commits\n2. **Write Clear Messages** - Use conventional commit format\n3. **Test Before Committing** - Ensure code works\n4. **Pull Before Push** - Keep history clean\n5. **Use Branches** - Don't work directly on main\n6. **Review Code** - Use pull requests for collaboration\n7. **Keep History Clean** - Rebase feature branches when appropriate\n\n## Git Hooks (Optional)\n\n### Pre-commit Hook\n```bash\n#!/bin/sh\n# .git/hooks/pre-commit\n\n# Run linter\nnpm run lint\nif [ $? -ne 0 ]; then\n  echo \"Linting failed. Please fix errors before committing.\"\n  exit 1\nfi\n\n# Run tests\nnpm test\nif [ $? -ne 0 ]; then\n  echo \"Tests failed. Please fix tests before committing.\"\n  exit 1\nfi\n```\n\n### Commit Message Hook\n```bash\n#!/bin/sh\n# .git/hooks/commit-msg\n\n# Check commit message format\nif ! grep -qE \"^(feat|fix|docs|style|refactor|test|chore)(\\(.+\\))?: .{1,50}\" \"$1\"; then\n  echo \"Invalid commit message format. Use conventional commits.\"\n  exit 1\nfi\n```"
              },
              {
                "name": "/project-setup",
                "description": null,
                "path": "cli-tool/templates/common/.claude/commands/project-setup.md",
                "frontmatter": null,
                "content": "# Project Setup Helper\n\nSet up new projects with proper structure and best practices.\n\n## Purpose\n\nThis command helps you set up new projects with proper directory structure, configuration files, and development environment.\n\n## Usage\n\n```\n/project-setup\n```\n\n## What this command does\n\n1. **Creates project structure** with standard directories\n2. **Sets up configuration files** (.gitignore, README, etc.)\n3. **Initializes version control** and development tools\n4. **Configures environment files** and dependencies\n5. **Follows language-specific** conventions and best practices\n\n## Project Structure Templates\n\n### Generic Project Structure\n```\nproject-name/\n‚îú‚îÄ‚îÄ README.md                 # Project documentation\n‚îú‚îÄ‚îÄ .gitignore               # Git ignore rules\n‚îú‚îÄ‚îÄ .env.example             # Environment variables template\n‚îú‚îÄ‚îÄ LICENSE                  # Project license\n‚îú‚îÄ‚îÄ CHANGELOG.md             # Version history\n‚îú‚îÄ‚îÄ docs/                    # Documentation\n‚îÇ   ‚îú‚îÄ‚îÄ API.md\n‚îÇ   ‚îú‚îÄ‚îÄ CONTRIBUTING.md\n‚îÇ   ‚îî‚îÄ‚îÄ DEPLOYMENT.md\n‚îú‚îÄ‚îÄ src/                     # Source code\n‚îÇ   ‚îú‚îÄ‚îÄ main/\n‚îÇ   ‚îú‚îÄ‚îÄ utils/\n‚îÇ   ‚îî‚îÄ‚îÄ config/\n‚îú‚îÄ‚îÄ tests/                   # Test files\n‚îÇ   ‚îú‚îÄ‚îÄ unit/\n‚îÇ   ‚îú‚îÄ‚îÄ integration/\n‚îÇ   ‚îî‚îÄ‚îÄ fixtures/\n‚îú‚îÄ‚îÄ scripts/                 # Build and deployment scripts\n‚îÇ   ‚îú‚îÄ‚îÄ build.sh\n‚îÇ   ‚îú‚îÄ‚îÄ deploy.sh\n‚îÇ   ‚îî‚îÄ‚îÄ setup.sh\n‚îî‚îÄ‚îÄ config/                  # Configuration files\n    ‚îú‚îÄ‚îÄ development.yml\n    ‚îú‚îÄ‚îÄ production.yml\n    ‚îî‚îÄ‚îÄ testing.yml\n```\n\n### Web Application Structure\n```\nweb-app/\n‚îú‚îÄ‚îÄ public/                  # Static assets\n‚îÇ   ‚îú‚îÄ‚îÄ index.html\n‚îÇ   ‚îú‚îÄ‚îÄ favicon.ico\n‚îÇ   ‚îî‚îÄ‚îÄ assets/\n‚îÇ       ‚îú‚îÄ‚îÄ css/\n‚îÇ       ‚îú‚îÄ‚îÄ js/\n‚îÇ       ‚îî‚îÄ‚îÄ images/\n‚îú‚îÄ‚îÄ src/                     # Source code\n‚îÇ   ‚îú‚îÄ‚îÄ components/          # Reusable components\n‚îÇ   ‚îú‚îÄ‚îÄ pages/              # Page components\n‚îÇ   ‚îú‚îÄ‚îÄ services/           # API services\n‚îÇ   ‚îú‚îÄ‚îÄ utils/              # Utility functions\n‚îÇ   ‚îú‚îÄ‚îÄ styles/             # Stylesheets\n‚îÇ   ‚îî‚îÄ‚îÄ config/             # Configuration\n‚îú‚îÄ‚îÄ tests/                   # Test files\n‚îî‚îÄ‚îÄ build/                   # Build output\n```\n\n### API Project Structure\n```\napi-project/\n‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îú‚îÄ‚îÄ controllers/         # Request handlers\n‚îÇ   ‚îú‚îÄ‚îÄ models/             # Data models\n‚îÇ   ‚îú‚îÄ‚îÄ services/           # Business logic\n‚îÇ   ‚îú‚îÄ‚îÄ middleware/         # Custom middleware\n‚îÇ   ‚îú‚îÄ‚îÄ routes/             # API routes\n‚îÇ   ‚îú‚îÄ‚îÄ utils/              # Utility functions\n‚îÇ   ‚îî‚îÄ‚îÄ config/             # Configuration\n‚îú‚îÄ‚îÄ tests/\n‚îÇ   ‚îú‚îÄ‚îÄ unit/\n‚îÇ   ‚îú‚îÄ‚îÄ integration/\n‚îÇ   ‚îî‚îÄ‚îÄ e2e/\n‚îú‚îÄ‚îÄ docs/\n‚îÇ   ‚îú‚îÄ‚îÄ api-spec.yml        # OpenAPI specification\n‚îÇ   ‚îî‚îÄ‚îÄ README.md\n‚îî‚îÄ‚îÄ scripts/\n    ‚îú‚îÄ‚îÄ seed-db.js          # Database seeding\n    ‚îî‚îÄ‚îÄ migrate.js          # Database migrations\n```\n\n## Essential Configuration Files\n\n### .gitignore Template\n```gitignore\n# Dependencies\nnode_modules/\n*.log\nnpm-debug.log*\n\n# Environment files\n.env\n.env.local\n.env.production\n\n# Build outputs\ndist/\nbuild/\n*.tgz\n\n# IDE files\n.vscode/\n.idea/\n*.swp\n*.swo\n\n# OS files\n.DS_Store\nThumbs.db\n\n# Temporary files\n*.tmp\n*.temp\n```\n\n### README.md Template\n```markdown\n# Project Name\n\nBrief description of what this project does.\n\n## Features\n\n- Feature 1\n- Feature 2\n- Feature 3\n\n## Installation\n\n\\`\\`\\`bash\n# Clone the repository\ngit clone https://github.com/username/project-name.git\n\n# Install dependencies\nnpm install\n\n# Copy environment file\ncp .env.example .env\n\\`\\`\\`\n\n## Usage\n\n\\`\\`\\`bash\n# Start development server\nnpm run dev\n\n# Run tests\nnpm test\n\n# Build for production\nnpm run build\n\\`\\`\\`\n\n## API Documentation\n\n[API documentation](docs/API.md)\n\n## Contributing\n\nPlease read [CONTRIBUTING.md](docs/CONTRIBUTING.md) for details.\n\n## License\n\nThis project is licensed under the MIT License - see [LICENSE](LICENSE) file.\n```\n\n### .env.example Template\n```env\n# Application\nNODE_ENV=development\nPORT=3000\nHOST=localhost\n\n# Database\nDB_HOST=localhost\nDB_PORT=5432\nDB_NAME=myapp\nDB_USER=username\nDB_PASSWORD=password\n\n# API Keys\nAPI_KEY=your-api-key-here\nSECRET_KEY=your-secret-key-here\n\n# External Services\nREDIS_URL=redis://localhost:6379\nEMAIL_SERVICE_API_KEY=your-email-key\n```\n\n## Development Environment Setup\n\n### Package.json Scripts\n```json\n{\n  \"scripts\": {\n    \"start\": \"node src/index.js\",\n    \"dev\": \"nodemon src/index.js\",\n    \"test\": \"jest\",\n    \"test:watch\": \"jest --watch\",\n    \"test:coverage\": \"jest --coverage\",\n    \"lint\": \"eslint src/\",\n    \"lint:fix\": \"eslint src/ --fix\",\n    \"format\": \"prettier --write src/\",\n    \"build\": \"webpack --mode production\",\n    \"build:dev\": \"webpack --mode development\",\n    \"clean\": \"rm -rf dist/\"\n  }\n}\n```\n\n### Git Initialization\n```bash\n# Initialize Git repository\ngit init\n\n# Add initial files\ngit add .\n\n# Create initial commit\ngit commit -m \"feat: initial project setup\n\n- Add project structure\n- Configure development environment\n- Add documentation templates\n- Set up testing framework\"\n\n# Add remote origin\ngit remote add origin https://github.com/username/project-name.git\n\n# Push to remote\ngit push -u origin main\n```\n\n## Language-Specific Setup\n\n### Node.js/JavaScript\n```bash\nnpm init -y\nnpm install --save-dev nodemon jest eslint prettier\n```\n\n### Python\n```bash\npython -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\npip install -r requirements.txt\n```\n\n### Docker Setup\n```dockerfile\n# Dockerfile\nFROM node:16-alpine\nWORKDIR /app\nCOPY package*.json ./\nRUN npm install\nCOPY . .\nEXPOSE 3000\nCMD [\"npm\", \"start\"]\n```\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\nservices:\n  app:\n    build: .\n    ports:\n      - \"3000:3000\"\n    environment:\n      - NODE_ENV=development\n    volumes:\n      - .:/app\n      - /app/node_modules\n```\n\n## Best Practices\n\n1. **Consistent Structure** - Follow established conventions\n2. **Clear Documentation** - Write comprehensive README\n3. **Environment Variables** - Keep secrets out of code\n4. **Version Control** - Initialize Git from the start\n5. **Testing Setup** - Configure testing from day one\n6. **Code Quality** - Set up linting and formatting\n7. **CI/CD Ready** - Structure for automated deployment\n8. **Security** - Include security best practices\n\n## Checklist\n\n- [ ] Create project directory structure\n- [ ] Initialize version control (Git)\n- [ ] Set up package manager (npm, pip, etc.)\n- [ ] Create README.md with project info\n- [ ] Add .gitignore file\n- [ ] Set up environment variables\n- [ ] Configure linting and formatting\n- [ ] Set up testing framework\n- [ ] Create basic documentation\n- [ ] Add license file\n- [ ] Set up CI/CD configuration (if needed)"
              },
              {
                "name": "/api-endpoint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/api-endpoint.md",
                "frontmatter": null,
                "content": "# API Endpoint Generator\n\nGenerate a complete API endpoint for $ARGUMENTS following project conventions.\n\n## Task\n\nI'll analyze the project structure and create a new API endpoint with:\n\n1. Route definition\n2. Controller/handler function\n3. Input validation\n4. Service layer logic (if applicable)\n5. Data access layer (if applicable)\n6. Unit tests\n7. Documentation\n\n## Process\n\nI'll follow these steps:\n\n1. Examine the project structure to understand the architecture pattern\n2. Identify existing patterns for routes, controllers, and validation\n3. Create all necessary files following project conventions\n4. Implement the endpoint with proper error handling\n5. Add appropriate tests\n6. Document the new endpoint\n\n## Best Practices\n\nI'll ensure the implementation includes:\n\n- Strong typing with TypeScript\n- Comprehensive error handling\n- Input validation\n- Security considerations (authentication/authorization)\n- Proper logging\n- Performance considerations\n- Test coverage\n\n## Adaptability\n\nI'll adapt to various API architectures:\n\n- Express/Koa/Fastify REST APIs\n- GraphQL resolvers\n- Next.js/Nuxt.js API routes\n- Serverless functions\n- tRPC endpoints\n- NestJS controllers\n\nI'll examine your project first to determine which pattern to follow."
              },
              {
                "name": "/debug",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/debug.md",
                "frontmatter": null,
                "content": "# Debug Assistant\n\nHelp me debug the issue with $ARGUMENTS in this project.\n\n## Task\n\nI'll help you identify and fix the problem by:\n\n1. Understanding the issue description\n2. Analyzing relevant code\n3. Identifying potential causes\n4. Suggesting and implementing fixes\n5. Verifying the solution works\n\n## Process\n\nI'll follow these steps:\n\n1. Examine error messages, logs, or unexpected behaviors\n2. Locate relevant files and code sections\n3. Analyze the code flow and potential failure points\n4. Identify common JavaScript/TypeScript pitfalls that might apply\n5. Suggest specific fixes with explanations\n6. Help implement and test the solution\n\n## Debugging Techniques\n\nI'll apply appropriate debugging techniques such as:\n\n- Static code analysis to find syntax or type errors\n- Runtime error analysis from logs or stack traces\n- Control flow tracing to understand execution paths\n- State inspection to identify incorrect values\n- Dependency analysis to find version conflicts\n- Network request inspection for API issues\n- Browser console analysis for frontend problems\n- Database query inspection for data issues\n\n## Common Issues I Can Help With\n\n- Type errors and null/undefined issues\n- Asynchronous code problems (Promises, async/await)\n- React/Vue/Angular component lifecycle issues\n- API integration problems\n- State management bugs\n- Performance bottlenecks\n- Memory leaks\n- Build/compilation errors\n- Testing failures\n- Environment configuration issues\n\nI'll adapt my approach based on your specific project structure, frameworks, and the nature of the problem."
              },
              {
                "name": "/lint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Lint Assistant\n\nAnalyze and fix linting issues in $ARGUMENTS following project conventions.\n\n## Task\n\nI'll help you identify and fix code style and quality issues by:\n\n1. Running appropriate linters for the project\n2. Analyzing linting errors and warnings\n3. Fixing issues automatically when possible\n4. Explaining complex issues that require manual intervention\n5. Ensuring code follows project style guidelines\n\n## Process\n\nI'll follow these steps:\n\n1. Identify the linting tools used in the project (ESLint, Prettier, TSLint, etc.)\n2. Run the appropriate linting commands\n3. Parse and categorize the results\n4. Apply automatic fixes for common issues\n5. Provide explanations and suggestions for more complex problems\n6. Verify fixes don't introduce new issues\n\n## Common Linting Issues I Can Fix\n\n- Code style inconsistencies (spacing, indentation, quotes, etc.)\n- Unused variables and imports\n- Missing type annotations in TypeScript\n- Accessibility (a11y) issues in UI components\n- Potential bugs flagged by static analysis\n- Performance issues in React/Vue components\n- Security vulnerabilities detected by linters\n- Deprecated API usage\n- Import ordering problems\n- Missing documentation\n\n## Linting Tools I Can Work With\n\n- ESLint (with various plugins and configs)\n- Prettier\n- TSLint (legacy)\n- stylelint (for CSS/SCSS)\n- commitlint (for commit messages)\n- Custom lint rules specific to your project\n\nI'll adapt my approach based on your project's specific linting configuration and style guide requirements."
              },
              {
                "name": "/npm-scripts",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/npm-scripts.md",
                "frontmatter": null,
                "content": "# NPM Scripts Assistant\n\nHelp me with NPM scripts: $ARGUMENTS\n\n## Task\n\nI'll help you work with package.json scripts by:\n\n1. Analyzing existing npm scripts in your project\n2. Creating new scripts or modifying existing ones\n3. Explaining what specific scripts do\n4. Suggesting improvements or optimizations\n5. Troubleshooting script execution issues\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your package.json file to understand current scripts\n2. Analyze dependencies and devDependencies for available tools\n3. Identify common patterns and conventions in your scripts\n4. Implement requested changes or create new scripts\n5. Provide explanations of how the scripts work\n6. Test scripts when possible to verify functionality\n\n## Common Script Types I Can Help With\n\n- Build processes (webpack, rollup, esbuild, etc.)\n- Development servers and hot reloading\n- Testing (unit, integration, e2e)\n- Linting and code formatting\n- Type checking\n- Deployment and CI/CD\n- Database migrations\n- Code generation\n- Environment setup\n- Pre/post hooks for git operations\n\n## Script Optimization Techniques\n\n- Parallelizing tasks for faster execution\n- Adding cross-platform compatibility\n- Improving error reporting and logging\n- Implementing watch modes for development\n- Creating composite scripts for common workflows\n- Adding appropriate exit codes for CI/CD pipelines\n\nI'll adapt my approach based on your project's specific needs, dependencies, and build tools."
              },
              {
                "name": "/refactor",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/refactor.md",
                "frontmatter": null,
                "content": "# Code Refactoring Assistant\n\nRefactor $ARGUMENTS following modern JavaScript/TypeScript best practices.\n\n## Task\n\nI'll help you refactor code by:\n\n1. Analyzing the current implementation\n2. Identifying improvement opportunities\n3. Applying modern patterns and practices\n4. Maintaining existing functionality\n5. Ensuring type safety and test coverage\n6. Documenting the changes made\n\n## Process\n\nI'll follow these steps:\n\n1. Examine the code to understand its purpose and structure\n2. Identify code smells, anti-patterns, or outdated approaches\n3. Plan the refactoring strategy with clear goals\n4. Implement changes incrementally while maintaining behavior\n5. Verify refactored code with tests\n6. Document improvements and benefits\n\n## Refactoring Techniques\n\nI can apply various refactoring techniques:\n\n- Converting to modern JavaScript/TypeScript features\n- Improving type definitions and type safety\n- Extracting reusable functions and components\n- Applying design patterns appropriately\n- Converting callbacks to Promises or async/await\n- Simplifying complex conditionals and loops\n- Removing duplicate code\n- Improving naming and readability\n- Optimizing performance\n- Enhancing error handling\n\n## Modern Practices I Can Apply\n\n- ES modules and import/export syntax\n- Optional chaining and nullish coalescing\n- Array and object destructuring\n- Spread and rest operators\n- Template literals\n- Arrow functions\n- Class fields and private methods\n- TypeScript utility types\n- Functional programming patterns\n- React hooks (for React components)\n\nI'll ensure the refactored code maintains compatibility with your project's requirements while improving quality and maintainability."
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Assistant\n\nHelp with tests for $ARGUMENTS following project conventions and testing best practices.\n\n## Task\n\nI'll help you with testing by:\n\n1. Creating comprehensive test suites for your code\n2. Implementing different types of tests (unit, integration, e2e)\n3. Mocking dependencies and external services\n4. Improving test coverage for existing code\n5. Troubleshooting failing tests\n6. Setting up testing infrastructure\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your project to understand testing frameworks and patterns\n2. Analyze the code to be tested to understand its functionality\n3. Identify appropriate testing strategies and edge cases\n4. Implement tests with proper structure and assertions\n5. Ensure tests are maintainable and follow best practices\n6. Run tests to verify they pass and provide adequate coverage\n\n## Testing Frameworks I Can Work With\n\n- Jest, Vitest, Mocha, Jasmine for JavaScript/TypeScript\n- React Testing Library, Enzyme for React components\n- Cypress, Playwright, Puppeteer for E2E testing\n- Supertest, Pactum for API testing\n- Storybook for component testing\n- Testing-library family for various frameworks\n\n## Testing Techniques\n\nI can implement various testing approaches:\n\n- TDD (Test-Driven Development)\n- BDD (Behavior-Driven Development)\n- Snapshot testing\n- Property-based testing\n- Parameterized tests\n- Contract testing\n- Visual regression testing\n- Performance testing\n\n## Mocking Strategies\n\nI can help with different mocking approaches:\n\n- Function mocks and spies\n- Module mocks\n- HTTP request mocking\n- Browser API mocking\n- Timer mocking\n- Database mocking\n- Service worker mocking\n\nI'll adapt to your project's specific testing frameworks, patterns, and conventions to ensure consistency with your existing codebase."
              },
              {
                "name": "/typescript-migrate",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/typescript-migrate.md",
                "frontmatter": null,
                "content": "# TypeScript Migration Assistant\n\nMigrate $ARGUMENTS from JavaScript to TypeScript with proper typing and modern practices.\n\n## Task\n\nI'll help you migrate JavaScript code to TypeScript by:\n\n1. Converting JavaScript files to TypeScript (.js/.jsx to .ts/.tsx)\n2. Adding appropriate type definitions and interfaces\n3. Configuring TypeScript settings for your project\n4. Resolving type errors and compatibility issues\n5. Implementing modern TypeScript patterns and features\n6. Ensuring backward compatibility with existing code\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your project structure and dependencies\n2. Analyze the JavaScript code to understand its functionality\n3. Create or update tsconfig.json with appropriate settings\n4. Convert files to TypeScript with proper type annotations\n5. Add necessary type definitions for libraries\n6. Fix type errors and implement type safety\n7. Refactor code to leverage TypeScript features\n\n## TypeScript Features I Can Implement\n\n- Interfaces and type aliases for complex data structures\n- Generics for reusable, type-safe components and functions\n- Union and intersection types for flexible typing\n- Enums for related constants\n- Utility types (Partial, Pick, Omit, etc.)\n- Type guards and type narrowing\n- Mapped and conditional types\n- Function overloading\n- Readonly properties and immutability\n- Module augmentation for extending third-party types\n\n## Migration Strategies\n\nI can apply different migration approaches based on your needs:\n\n- Gradual migration with allowJs and incremental adoption\n- File-by-file conversion while maintaining functionality\n- Comprehensive migration with full type safety\n- Hybrid approach with .d.ts files for complex modules\n- Integration with existing type definitions (@types packages)\n\nI'll adapt to your project's specific requirements and ensure a smooth transition to TypeScript while maintaining existing functionality."
              },
              {
                "name": "/components",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/angular-app/.claude/commands/components.md",
                "frontmatter": null,
                "content": "# Angular Components\n\nCreate Angular components for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Angular components based on the requirements:\n\n1. **Analyze existing components**: Check current component patterns, naming conventions, and folder organization\n2. **Examine Angular setup**: Review project structure, module organization, and TypeScript configuration\n3. **Identify component type**: Determine the component category:\n   - Presentation components (dumb/pure components)\n   - Container components (smart components with state)\n   - Feature components (business logic components)\n   - Shared/UI components (reusable across features)\n   - Layout components (structural components)\n4. **Check dependencies**: Review existing components and shared modules to avoid duplication\n5. **Implement component**: Create component with proper TypeScript types and lifecycle hooks\n6. **Add inputs/outputs**: Define @Input and @Output properties with proper typing\n7. **Create template**: Build HTML template with proper Angular directives and bindings\n8. **Add styles**: Implement component styles following project's styling approach\n9. **Create tests**: Write comprehensive unit tests with TestBed and proper mocking\n10. **Update module**: Register component in appropriate Angular module\n\n## Implementation Requirements\n\n- Follow project's Angular architecture and naming conventions\n- Use proper component lifecycle hooks (OnInit, OnDestroy, etc.)\n- Include comprehensive TypeScript interfaces for inputs and outputs\n- Implement proper change detection strategy (OnPush when possible)\n- Add proper subscription management with takeUntil or async pipe\n- Follow Angular style guide and project coding standards\n- Consider component performance and memory management\n\n## Component Patterns to Consider\n\nBased on the request:\n- **Smart Components**: Container components that manage state and services\n- **Dumb Components**: Presentation components that only receive inputs\n- **Feature Components**: Components specific to business features\n- **Shared Components**: Reusable UI components across the application\n- **Form Components**: Reactive forms with validation and custom controls\n- **Data Display**: Components for tables, lists, cards with proper data binding\n\n## Angular-Specific Implementation\n\n- **Template Syntax**: Proper use of Angular directives (*ngFor, *ngIf, etc.)\n- **Data Binding**: Property binding, event binding, two-way binding\n- **Change Detection**: OnPush strategy for performance optimization\n- **Lifecycle Management**: Proper use of lifecycle hooks\n- **Dependency Injection**: Service injection in component constructors\n- **Testing**: TestBed configuration with proper mocking and spies\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same styling approach and class naming as existing components\n- Follow project's folder structure for components (usually feature-based)\n- Don't install new dependencies without asking\n- Consider component reusability and single responsibility principle\n- Add proper TypeScript types for all component properties and methods\n- Use trackBy functions for performance in *ngFor loops\n- Implement proper unsubscription patterns to prevent memory leaks"
              },
              {
                "name": "/services",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/angular-app/.claude/commands/services.md",
                "frontmatter": null,
                "content": "# Angular Services\n\nCreate Angular services for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Angular services based on the requirements:\n\n1. **Analyze existing services**: Check current service patterns, naming conventions, and folder organization\n2. **Examine Angular setup**: Review project structure, dependency injection patterns, and TypeScript configuration\n3. **Identify service type**: Determine the service category:\n   - Data services (HTTP API calls, state management)\n   - Utility services (validation, formatting, helpers)\n   - Business logic services (calculations, workflows)\n   - Infrastructure services (logging, authentication, error handling)\n   - Feature services (component-specific logic)\n4. **Check dependencies**: Review existing services and shared modules to avoid duplication\n5. **Implement service**: Create service with proper dependency injection and TypeScript types\n6. **Add error handling**: Include comprehensive error handling with RxJS operators\n7. **Create tests**: Write unit tests with proper mocking following project patterns\n8. **Update module registration**: Register service in appropriate Angular modules\n\n## Implementation Requirements\n\n- Follow project's Angular architecture and naming conventions (usually .service.ts)\n- Use proper dependency injection with @Injectable decorator\n- Include comprehensive TypeScript interfaces and types\n- Implement proper RxJS patterns (observables, operators, error handling)\n- Add proper error handling and logging integration\n- Follow single responsibility principle for service design\n- Consider service lifecycle and singleton patterns\n\n## Service Patterns to Consider\n\nBased on the request:\n- **HTTP Data Services**: API calls with proper error handling and caching\n- **State Management**: Services for sharing data between components\n- **Authentication**: User authentication, token management, guards\n- **Business Logic**: Complex calculations, workflows, validations\n- **Utility Services**: Reusable functions, formatters, validators\n- **Feature Services**: Component-specific logic extraction\n- **Infrastructure**: Logging, monitoring, configuration services\n\n## Angular-Specific Implementation\n\n- **Dependency Injection**: Proper use of @Injectable and providedIn\n- **RxJS Integration**: Observables, subjects, operators for reactive programming\n- **HTTP Client**: Angular HttpClient for API communication\n- **Error Handling**: Global error handling and user-friendly error messages\n- **Testing**: TestBed, jasmine, karma for comprehensive unit testing\n- **Module Organization**: Feature modules, shared modules, core modules\n\n## Important Notes\n\n- ALWAYS examine existing services first to understand project patterns\n- Use the same error handling and response patterns as existing services\n- Follow project's folder structure for services (usually /services or /core)\n- Don't install new dependencies without asking\n- Consider service performance and memory management\n- Add proper RxJS subscription management to prevent memory leaks\n- Use Angular's built-in services (HttpClient, Router) rather than external libraries\n- Include proper TypeScript types for all service methods and properties"
              },
              {
                "name": "/api-endpoint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/api-endpoint.md",
                "frontmatter": null,
                "content": "# API Endpoint Generator\n\nGenerate a complete API endpoint for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate a new API endpoint with all necessary components:\n\n1. **Analyze project architecture**: Examine existing API structure, patterns, and conventions\n2. **Identify framework**: Determine if using Express, Fastify, NestJS, Next.js API routes, or other framework\n3. **Check authentication**: Review existing auth patterns and middleware usage\n4. **Examine data layer**: Identify database/ORM patterns (Prisma, TypeORM, Mongoose, etc.)\n5. **Create endpoint structure**: Generate route, controller, validation, and service layers\n6. **Implement business logic**: Add core functionality with proper error handling\n7. **Add validation**: Include input validation using project's validation library\n8. **Create tests**: Write unit and integration tests following project patterns\n9. **Update documentation**: Add endpoint documentation (OpenAPI/Swagger if used)\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing middleware patterns for auth, validation, logging\n- Include proper HTTP status codes and error responses\n- Add comprehensive input validation and sanitization\n- Implement proper logging and monitoring\n- Consider rate limiting and security headers\n- Follow project's database transaction patterns\n\n## Framework-Specific Patterns\n\nI'll adapt to your project's framework:\n- **Express**: Routes, controllers, middleware\n- **Fastify**: Routes, handlers, schemas, plugins\n- **NestJS**: Controllers, services, DTOs, guards\n- **Next.js**: API routes with proper HTTP methods\n- **tRPC**: Procedures with input/output validation\n- **GraphQL**: Resolvers with proper type definitions\n\n## Important Notes\n\n- ALWAYS examine existing endpoints first to understand project patterns\n- Use the same error handling and response format as existing endpoints\n- Follow project's folder structure and naming conventions\n- Don't install new dependencies without asking\n- Consider backward compatibility if modifying existing endpoints\n- Add proper database migrations if schema changes are needed"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# Database Operations\n\nSet up database operations for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize database operations based on the requirements:\n\n1. **Analyze existing database setup**: Check current database configuration, ORM/ODM, and connection patterns\n2. **Identify database type**: Determine if using MongoDB, PostgreSQL, MySQL, or other database\n3. **Examine ORM/ODM**: Check for Prisma, TypeORM, Mongoose, Sequelize, or raw SQL patterns\n4. **Review existing models**: Understand current schema patterns and relationships\n5. **Check migration system**: Identify migration tools and patterns in use\n6. **Implement operations**: Create models, repositories, or services following project architecture\n7. **Add validation**: Include proper schema validation and constraints\n8. **Create tests**: Write database operation tests following project patterns\n9. **Update migrations**: Add necessary database migrations if schema changes required\n\n## Implementation Requirements\n\n- Follow project's database architecture patterns\n- Use existing ORM/ODM configuration and connection setup\n- Include proper TypeScript types for all database operations\n- Add comprehensive error handling and transaction management\n- Implement proper indexing for performance\n- Follow project's naming conventions for tables/collections and fields\n- Consider data validation at both application and database levels\n\n## Database Patterns to Consider\n\nBased on your project setup:\n- **Repository Pattern**: Separate data access logic from business logic\n- **Active Record**: Models with built-in database operations\n- **Data Mapper**: Separate domain models from database schema\n- **Query Builder**: Fluent interface for building database queries\n- **Raw SQL**: Direct database queries for complex operations\n\n## Operation Types\n\nCommon database operations to implement:\n- **CRUD operations**: Create, Read, Update, Delete\n- **Bulk operations**: Batch inserts, updates, deletes\n- **Aggregation**: Complex queries with grouping and calculations\n- **Relationships**: Managing foreign keys and joins\n- **Transactions**: Ensuring data consistency\n- **Migrations**: Schema changes and data transformations\n\n## Important Notes\n\n- ALWAYS examine existing database setup first to understand project patterns\n- Use the same connection configuration and environment variables\n- Follow project's folder structure for models/schemas\n- Don't install new database dependencies without asking\n- Consider performance implications (indexes, query optimization)\n- Add proper database connection pooling if not already configured\n- Include proper cleanup and connection closing in tests"
              },
              {
                "name": "/middleware",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/middleware.md",
                "frontmatter": null,
                "content": "# Express Middleware\n\nCreate Express middleware for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Express middleware based on the requirements:\n\n1. **Analyze existing middleware**: Check current middleware patterns, naming conventions, and file organization\n2. **Examine Express setup**: Review app configuration, middleware stack order, and TypeScript usage\n3. **Identify middleware type**: Determine the middleware category:\n   - Authentication/Authorization (JWT, sessions, role-based)\n   - Validation (request body, params, query validation)\n   - Logging (request/response logging, audit trails)\n   - Error handling (global error handlers, custom errors)\n   - Security (CORS, rate limiting, helmet)\n   - Utility (parsing, compression, static files)\n4. **Check dependencies**: Review existing middleware dependencies to avoid duplication\n5. **Implement middleware**: Create middleware with proper TypeScript types and error handling\n6. **Test middleware**: Write unit and integration tests following project patterns\n7. **Update middleware stack**: Integrate middleware into Express app configuration\n8. **Add documentation**: Include JSDoc comments and usage examples\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing error handling patterns and response formats\n- Include proper request/response typing with custom interfaces\n- Add comprehensive error handling and logging\n- Consider middleware execution order and dependencies\n- Implement proper async/await patterns for async middleware\n- Follow project's folder structure for middleware files\n\n## Middleware Patterns to Consider\n\nBased on the request:\n- **Authentication**: JWT verification, session management, API key validation\n- **Authorization**: Role-based access control, permission checking\n- **Validation**: Schema validation with Joi/Zod, sanitization\n- **Logging**: Request logging, performance monitoring, audit trails\n- **Error Handling**: Global error handlers, custom error classes\n- **Security**: CORS configuration, rate limiting, input sanitization\n- **Utility**: Request parsing, response formatting, caching\n\n## Integration Considerations\n\n- **Middleware order**: Ensure proper execution sequence in Express app\n- **Error propagation**: Handle errors correctly with next() function\n- **Request enhancement**: Add properties to request object with proper typing\n- **Response modification**: Modify response objects while maintaining type safety\n- **Performance**: Consider middleware performance impact on request processing\n\n## Important Notes\n\n- ALWAYS examine existing middleware first to understand project patterns\n- Use the same error handling and response format as existing middleware\n- Follow project's folder structure for middleware (usually /middleware)\n- Don't install new dependencies without asking\n- Consider middleware performance and request processing impact\n- Add proper TypeScript types for enhanced request/response objects\n- Test middleware in isolation and integration contexts"
              },
              {
                "name": "/route",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/route.md",
                "frontmatter": null,
                "content": "# Route Creator\n\nCreate API routes for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize API routes based on the requirements:\n\n1. **Analyze project structure**: Check existing route patterns, folder organization, and framework setup\n2. **Examine framework**: Identify if using Express, Fastify, NestJS, or other Node.js framework\n3. **Review existing routes**: Understand current routing patterns, validation, and error handling\n4. **Check authentication**: Review existing auth middleware and protection patterns\n5. **Define route structure**: Determine HTTP methods, path parameters, and request/response schemas\n6. **Implement routes**: Create route handlers with proper validation and error handling\n7. **Add middleware**: Include authentication, validation, and logging middleware as needed\n8. **Create tests**: Write route tests following project testing patterns\n9. **Update route registration**: Integrate new routes into main router configuration\n\n## Implementation Requirements\n\n- Follow project's routing architecture and naming conventions\n- Use existing validation libraries (Joi, Zod, class-validator, etc.)\n- Include proper TypeScript types for request/response objects\n- Add comprehensive error handling with appropriate HTTP status codes\n- Implement proper authentication/authorization if required\n- Follow RESTful conventions unless project uses different patterns\n- Add proper logging and monitoring integration\n\n## Route Patterns to Consider\n\nBased on the request:\n- **CRUD operations**: Create, Read, Update, Delete for resources\n- **RESTful endpoints**: GET, POST, PUT, PATCH, DELETE with proper semantics\n- **Nested resources**: Parent/child resource relationships\n- **Batch operations**: Bulk create, update, delete operations\n- **Search/filtering**: Query parameters for filtering and pagination\n- **File uploads**: Multipart form handling for file operations\n- **Webhook endpoints**: External service integration points\n\n## Framework-Specific Implementation\n\nAdapt to your project's framework:\n- **Express**: Router instances, middleware chains, route handlers\n- **Fastify**: Route plugins, schema validation, hooks\n- **NestJS**: Controllers, decorators, DTOs, guards, interceptors\n- **Koa**: Router middleware, context handling\n- **Next.js API**: API route handlers with proper HTTP methods\n\n## Important Notes\n\n- ALWAYS examine existing routes first to understand project patterns\n- Use the same validation and error handling patterns as existing routes\n- Follow project's folder structure for routes (usually /routes or /controllers)\n- Don't install new dependencies without asking\n- Consider route performance and database query optimization\n- Add proper OpenAPI/Swagger documentation if project uses it\n- Include rate limiting for public endpoints where appropriate"
              },
              {
                "name": "/component",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/component.md",
                "frontmatter": null,
                "content": "# React Component Generator\n\nCreate a React component named $ARGUMENTS following project conventions.\n\n## Steps\n\n1. **Analyze project structure**: Check existing components to understand file organization, naming conventions, and patterns\n2. **Examine styling approach**: Identify CSS/SCSS modules, styled-components, Tailwind, or other styling methods used\n3. **Review testing patterns**: Check existing test files to understand testing framework and conventions\n4. **Create component structure**: Generate appropriate files (component, styles, tests, index)\n5. **Implement component**: Write TypeScript/JavaScript with proper props interface and logic\n6. **Add tests**: Write comprehensive tests following project patterns\n7. **Verify integration**: Ensure component works with existing project setup\n\n## Requirements\n\n- Follow existing project file structure and naming conventions\n- Use TypeScript if project uses it\n- Include proper accessibility attributes\n- Add responsive design considerations\n- Write tests that match project testing patterns\n- Include usage examples in component documentation\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same styling approach as the rest of the project\n- Follow the project's TypeScript conventions for props and interfaces\n- Don't install new dependencies without asking first"
              },
              {
                "name": "/hooks",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/hooks.md",
                "frontmatter": null,
                "content": "# React Hooks\n\nCreate or optimize React hooks for $ARGUMENTS following project conventions.\n\n## Task\n\nAnalyze the request and create appropriate React hooks:\n\n1. **Examine existing hooks**: Check project for existing custom hooks patterns and conventions\n2. **Identify hook type**: Determine if creating new custom hook, optimizing existing hook, or implementing specific hook pattern\n3. **Check TypeScript usage**: Verify if project uses TypeScript and follow typing conventions\n4. **Implement hook**: Create hook with proper:\n   - Naming convention (use prefix)\n   - TypeScript types and interfaces\n   - Proper dependency arrays\n   - Error handling\n   - Performance optimizations\n5. **Add tests**: Create comprehensive unit tests using project's testing framework\n6. **Add documentation**: Include JSDoc comments and usage examples\n\n## Common Hook Patterns\n\nWhen creating hooks, consider these patterns based on the request:\n- **Data fetching**: API calls, loading states, error handling\n- **State management**: Local state, derived state, state persistence\n- **Side effects**: Event listeners, timers, subscriptions\n- **Context consumption**: Theme, auth, app state\n- **Form handling**: Input management, validation, submission\n- **Performance**: Memoization, debouncing, throttling\n\n## Requirements\n\n- Follow existing project hook conventions\n- Use TypeScript if project uses it\n- Include proper cleanup in useEffect\n- Add error boundaries where appropriate\n- Write tests that cover all hook functionality\n- IMPORTANT: Always check existing hooks first to understand project patterns\n\n## Notes\n\n- Ask for clarification if the hook requirements are ambiguous\n- Suggest optimizations for existing hooks if relevant\n- Consider accessibility implications for UI-related hooks"
              },
              {
                "name": "/state-management",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/state-management.md",
                "frontmatter": null,
                "content": "# React State Management\n\nImplement state management solution for $ARGUMENTS following project conventions.\n\n## Task\n\nSet up or optimize state management based on the requirements:\n\n1. **Analyze current setup**: Check existing state management approach and project structure\n2. **Determine solution**: Based on requirements, choose appropriate state management:\n   - Context API for simple, localized state\n   - Redux Toolkit for complex, global state\n   - Zustand for lightweight global state\n   - Custom hooks for component-level state\n3. **Examine dependencies**: Check package.json for existing state management libraries\n4. **Implement solution**: Create store, providers, and hooks with proper TypeScript types\n5. **Set up middleware**: Add devtools, persistence, or other middleware as needed\n6. **Create typed hooks**: Generate properly typed selectors and dispatch hooks\n7. **Add tests**: Write unit tests for state logic and reducers\n8. **Update providers**: Integrate with app's provider hierarchy\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions\n- Use existing state management patterns if present\n- Create proper type definitions for state shape\n- Include error handling and loading states\n- Add proper debugging setup (devtools)\n- Consider performance optimizations (selectors, memoization)\n\n## State Management Selection Guide\n\nChoose based on complexity:\n- **Simple state**: React hooks + Context API\n- **Medium complexity**: Zustand or custom hooks\n- **Complex state**: Redux Toolkit with RTK Query\n- **Form state**: React Hook Form or Formik\n\n## Important Notes\n\n- ALWAYS check existing state management first\n- Don't install new dependencies without asking\n- Follow project's folder structure for state files\n- Consider server state vs client state separation\n- Add proper TypeScript types for all state interfaces"
              },
              {
                "name": "/components",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/vue-app/.claude/commands/components.md",
                "frontmatter": null,
                "content": "# Vue Components\n\nCreate Vue Single File Components for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Vue components based on the requirements:\n\n1. **Analyze project structure**: Check existing Vue components to understand patterns, conventions, and file organization\n2. **Examine Vue setup**: Identify Vue version (2/3), TypeScript usage, and Composition/Options API preference\n3. **Check styling approach**: Determine if using CSS modules, SCSS, styled-components, or other styling methods\n4. **Review testing patterns**: Check existing component tests to understand testing framework and conventions\n5. **Create component structure**: Generate SFC with template, script, and style sections\n6. **Implement component**: Write TypeScript interfaces, props, emits, and component logic\n7. **Add accessibility**: Include proper ARIA attributes and semantic HTML\n8. **Create tests**: Write comprehensive component tests following project patterns\n9. **Add documentation**: Include JSDoc comments and usage examples\n\n## Component Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing component patterns and naming conventions\n- Implement proper props validation and typing\n- Add appropriate event emissions with TypeScript signatures\n- Include scoped styles following project's styling approach\n- Add proper accessibility attributes (ARIA, semantic HTML)\n- Consider responsive design if applicable\n\n## Vue Patterns to Consider\n\nBased on the component type:\n- **Composition API**: For Vue 3 projects with `<script setup>`\n- **Options API**: For Vue 2 or legacy Vue 3 projects\n- **Composables**: Extract reusable logic into composables\n- **Provide/Inject**: For deep component communication\n- **Slots**: For flexible component content\n- **Teleport**: For portal-like functionality (Vue 3)\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same Vue API style (Composition vs Options) as the project\n- Follow project's folder structure for components\n- Don't install new dependencies without asking\n- Consider component performance (v-memo, computed properties)\n- Add proper TypeScript types for all props and emits"
              },
              {
                "name": "/composables",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/vue-app/.claude/commands/composables.md",
                "frontmatter": null,
                "content": "# Vue Composables\n\nCreate Vue composables for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Vue composables based on the requirements:\n\n1. **Analyze existing composables**: Check project for existing composable patterns, naming conventions, and file organization\n2. **Examine Vue setup**: Verify Vue 3 Composition API usage and TypeScript configuration\n3. **Identify composable type**: Determine the composable category:\n   - State management (reactive data, computed properties)\n   - API/HTTP operations (data fetching, mutations)\n   - DOM interactions (event listeners, element refs)\n   - Utility functions (validation, formatting, storage)\n   - Lifecycle management (cleanup, watchers)\n4. **Check dependencies**: Review existing composables to avoid duplication\n5. **Implement composable**: Create composable with proper TypeScript types and reactivity\n6. **Add lifecycle management**: Include proper cleanup with onUnmounted when needed\n7. **Create tests**: Write comprehensive unit tests for composable logic\n8. **Add documentation**: Include JSDoc comments and usage examples\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use appropriate Vue reactivity APIs (ref, reactive, computed, watch)\n- Include proper error handling and loading states\n- Add cleanup for side effects (event listeners, timers, subscriptions)\n- Make composables reusable and focused on single responsibility\n- Consider performance implications (shallow vs deep reactivity)\n\n## Common Composable Patterns\n\nBased on the request:\n- **Data fetching**: API calls with loading/error states\n- **Form handling**: Input management, validation, submission\n- **State management**: Local state, persistence, computed values\n- **DOM utilities**: Element refs, event handling, intersection observer\n- **Storage**: localStorage, sessionStorage, IndexedDB\n- **Authentication**: User state, token management, permissions\n- **UI utilities**: Dark mode, responsive breakpoints, modals\n\n## Important Notes\n\n- ALWAYS examine existing composables first to understand project patterns\n- Use proper Vue 3 Composition API patterns\n- Follow project's folder structure for composables (usually /composables)\n- Don't install new dependencies without asking\n- Consider composable composition (using other composables within composables)\n- Add proper TypeScript return types and generic constraints\n- Include proper reactivity patterns (avoid losing reactivity)"
              },
              {
                "name": "/lint",
                "description": null,
                "path": "cli-tool/templates/python/.claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Python Linter\n\nRun Python code linting and formatting tools.\n\n## Purpose\n\nThis command helps you maintain code quality using Python's best linting and formatting tools.\n\n## Usage\n\n```\n/lint\n```\n\n## What this command does\n\n1. **Runs multiple linters** (flake8, pylint, black, isort)\n2. **Provides detailed feedback** on code quality issues\n3. **Auto-fixes formatting** where possible\n4. **Checks type hints** if mypy is configured\n\n## Example Commands\n\n### Black (code formatting)\n```bash\n# Format all Python files\nblack .\n\n# Check formatting without changing files\nblack --check .\n\n# Format specific file\nblack src/main.py\n```\n\n### flake8 (style guide enforcement)\n```bash\n# Check all Python files\nflake8 .\n\n# Check specific directory\nflake8 src/\n\n# Check with specific rules\nflake8 --max-line-length=88 .\n```\n\n### isort (import sorting)\n```bash\n# Sort imports in all files\nisort .\n\n# Check import sorting\nisort --check-only .\n\n# Sort imports in specific file\nisort src/main.py\n```\n\n### pylint (comprehensive linting)\n```bash\n# Run pylint on all files\npylint src/\n\n# Run with specific score threshold\npylint --fail-under=8.0 src/\n\n# Generate detailed report\npylint --output-format=html src/ > pylint_report.html\n```\n\n### mypy (type checking)\n```bash\n# Check types in all files\nmypy .\n\n# Check specific module\nmypy src/models.py\n\n# Check with strict mode\nmypy --strict src/\n```\n\n## Configuration Files\n\nMost projects benefit from configuration files:\n\n### .flake8\n```ini\n[flake8]\nmax-line-length = 88\nexclude = .git,__pycache__,venv\nignore = E203,W503\n```\n\n### pyproject.toml\n```toml\n[tool.black]\nline-length = 88\n\n[tool.isort]\nprofile = \"black\"\n```\n\n## Best Practices\n\n- Run linters before committing code\n- Use consistent formatting across the project\n- Fix linting issues promptly\n- Configure linters to match your team's style\n- Use type hints for better code documentation"
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/python/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Runner\n\nRun Python tests with pytest, unittest, or other testing frameworks.\n\n## Purpose\n\nThis command helps you run Python tests effectively with proper configuration and reporting.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Detects test framework** (pytest, unittest, nose2)\n2. **Runs appropriate tests** with proper configuration\n3. **Provides coverage reporting** if available\n4. **Shows clear test results** with failure details\n\n## Example Commands\n\n### pytest (recommended)\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=src --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n\n# Run tests matching pattern\npytest -k \"test_user\"\n```\n\n### unittest\n```bash\n# Run all tests\npython -m unittest discover\n\n# Run specific test file\npython -m unittest tests.test_models\n\n# Run with verbose output\npython -m unittest -v\n```\n\n### Django tests\n```bash\n# Run all Django tests\npython manage.py test\n\n# Run specific app tests\npython manage.py test myapp\n\n# Run with coverage\ncoverage run --source='.' manage.py test\ncoverage report\n```\n\n## Best Practices\n\n- Write tests for all critical functionality\n- Use descriptive test names\n- Keep tests isolated and independent\n- Mock external dependencies\n- Aim for high test coverage (80%+)"
              },
              {
                "name": "/admin",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/admin.md",
                "frontmatter": null,
                "content": "# Django Admin Configuration\n\nConfigure Django admin interface with custom admin classes and functionality.\n\n## Purpose\n\nThis command helps you create comprehensive Django admin configurations with advanced features and customizations.\n\n## Usage\n\n```\n/admin\n```\n\n## What this command does\n\n1. **Registers models** with custom admin classes\n2. **Creates advanced admin interfaces** with filtering, search, and actions\n3. **Adds inline editing** for related models\n4. **Customizes list displays** and forms\n5. **Implements admin actions** for bulk operations\n\n## Example Output\n\n```python\n# admin.py\nfrom django.contrib import admin\nfrom django.utils.html import format_html\nfrom django.urls import reverse\nfrom django.utils.safestring import mark_safe\nfrom .models import Post, Category, Tag, Comment\n\n@admin.register(Category)\nclass CategoryAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Category model.\"\"\"\n    list_display = ['name', 'slug', 'post_count', 'created_at']\n    list_filter = ['created_at']\n    search_fields = ['name', 'description']\n    prepopulated_fields = {'slug': ('name',)}\n    readonly_fields = ['created_at', 'updated_at']\n    \n    def post_count(self, obj):\n        \"\"\"Display number of posts in this category.\"\"\"\n        count = obj.posts.count()\n        url = reverse('admin:blog_post_changelist') + f'?category__id__exact={obj.id}'\n        return format_html('<a href=\"{}\">{} posts</a>', url, count)\n    post_count.short_description = 'Posts'\n\nclass CommentInline(admin.TabularInline):\n    \"\"\"Inline admin for comments.\"\"\"\n    model = Comment\n    extra = 0\n    readonly_fields = ['created_at', 'author']\n    fields = ['author', 'content', 'is_approved', 'created_at']\n\n@admin.register(Post)\nclass PostAdmin(admin.ModelAdmin):\n    \"\"\"Advanced admin configuration for Post model.\"\"\"\n    list_display = [\n        'title', \n        'author', \n        'category', \n        'status', \n        'view_count',\n        'created_at',\n        'post_preview'\n    ]\n    list_filter = [\n        'status', \n        'category', \n        'created_at', \n        'updated_at',\n        ('author', admin.RelatedOnlyFieldListFilter)\n    ]\n    search_fields = ['title', 'content', 'author__username']\n    prepopulated_fields = {'slug': ('title',)}\n    readonly_fields = ['created_at', 'updated_at', 'view_count', 'post_preview']\n    \n    # Custom form layout\n    fieldsets = (\n        ('Content', {\n            'fields': ('title', 'slug', 'content', 'status')\n        }),\n        ('Metadata', {\n            'fields': ('author', 'category', 'tags'),\n            'classes': ('collapse',)\n        }),\n        ('SEO', {\n            'fields': ('meta_description', 'meta_keywords'),\n            'classes': ('collapse',)\n        }),\n        ('Timestamps', {\n            'fields': ('created_at', 'updated_at', 'view_count'),\n            'classes': ('collapse',)\n        }),\n    )\n    \n    # Many-to-many field display\n    filter_horizontal = ['tags']\n    \n    # Inline models\n    inlines = [CommentInline]\n    \n    # Custom list display methods\n    def post_preview(self, obj):\n        \"\"\"Show thumbnail preview of post.\"\"\"\n        if obj.featured_image:\n            return format_html(\n                '<img src=\"{}\" width=\"50\" height=\"50\" style=\"border-radius: 5px;\" />',\n                obj.featured_image.url\n            )\n        return \"No image\"\n    post_preview.short_description = 'Preview'\n    \n    # Custom admin actions\n    actions = ['make_published', 'make_draft', 'duplicate_posts']\n    \n    def make_published(self, request, queryset):\n        \"\"\"Bulk action to publish selected posts.\"\"\"\n        updated = queryset.update(status='published')\n        self.message_user(\n            request, \n            f'{updated} posts were successfully marked as published.'\n        )\n    make_published.short_description = \"Mark selected posts as published\"\n    \n    def make_draft(self, request, queryset):\n        \"\"\"Bulk action to set selected posts as draft.\"\"\"\n        updated = queryset.update(status='draft')\n        self.message_user(\n            request, \n            f'{updated} posts were successfully marked as draft.'\n        )\n    make_draft.short_description = \"Mark selected posts as draft\"\n    \n    def duplicate_posts(self, request, queryset):\n        \"\"\"Bulk action to duplicate selected posts.\"\"\"\n        count = 0\n        for post in queryset:\n            post.pk = None  # Create new instance\n            post.title = f\"Copy of {post.title}\"\n            post.slug = f\"copy-of-{post.slug}\"\n            post.status = 'draft'\n            post.save()\n            count += 1\n        \n        self.message_user(\n            request,\n            f'{count} posts were successfully duplicated.'\n        )\n    duplicate_posts.short_description = \"Duplicate selected posts\"\n\n@admin.register(Tag)\nclass TagAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Tag model.\"\"\"\n    list_display = ['name', 'slug', 'post_count', 'color_preview']\n    search_fields = ['name']\n    prepopulated_fields = {'slug': ('name',)}\n    \n    def post_count(self, obj):\n        \"\"\"Display number of posts with this tag.\"\"\"\n        return obj.posts.count()\n    post_count.short_description = 'Posts'\n    \n    def color_preview(self, obj):\n        \"\"\"Show color preview if tag has color field.\"\"\"\n        if hasattr(obj, 'color') and obj.color:\n            return format_html(\n                '<span style=\"background-color: {}; padding: 2px 8px; border-radius: 3px; color: white;\">{}</span>',\n                obj.color,\n                obj.name\n            )\n        return obj.name\n    color_preview.short_description = 'Preview'\n\n@admin.register(Comment)\nclass CommentAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Comment model.\"\"\"\n    list_display = ['author', 'post', 'content_preview', 'is_approved', 'created_at']\n    list_filter = ['is_approved', 'created_at', 'post__category']\n    search_fields = ['content', 'author__username', 'post__title']\n    readonly_fields = ['created_at', 'updated_at']\n    actions = ['approve_comments', 'disapprove_comments']\n    \n    def content_preview(self, obj):\n        \"\"\"Show truncated content preview.\"\"\"\n        return obj.content[:50] + \"...\" if len(obj.content) > 50 else obj.content\n    content_preview.short_description = 'Content'\n    \n    def approve_comments(self, request, queryset):\n        \"\"\"Bulk approve comments.\"\"\"\n        updated = queryset.update(is_approved=True)\n        self.message_user(request, f'{updated} comments were approved.')\n    approve_comments.short_description = \"Approve selected comments\"\n    \n    def disapprove_comments(self, request, queryset):\n        \"\"\"Bulk disapprove comments.\"\"\"\n        updated = queryset.update(is_approved=False)\n        self.message_user(request, f'{updated} comments were disapproved.')\n    disapprove_comments.short_description = \"Disapprove selected comments\"\n\n# Custom admin site configuration\nadmin.site.site_header = \"Blog Administration\"\nadmin.site.site_title = \"Blog Admin Portal\"\nadmin.site.index_title = \"Welcome to Blog Administration\"\n```\n\n## Advanced Features\n\n### Custom List Display\n- **Thumbnail previews** for images\n- **Related object counts** with links\n- **Status indicators** with colors\n- **Custom formatting** for data display\n\n### Filtering and Search\n- **Advanced filters** including date ranges\n- **Related field filtering** for foreign keys\n- **Search across multiple fields** including relations\n- **Custom filter classes** for complex queries\n\n### Inline Editing\n- **TabularInline** for compact editing\n- **StackedInline** for detailed forms\n- **Custom inline forms** with additional functionality\n- **Readonly fields** in inlines\n\n### Bulk Actions\n- **Status changes** for multiple objects\n- **Data export** functionality\n- **Batch operations** for efficiency\n- **Custom business logic** in actions\n\n### Form Customization\n- **Fieldsets** for organized layouts\n- **Collapsed sections** for advanced options\n- **Custom widgets** for better UX\n- **Validation** and error handling\n\n## Security Considerations\n\n- **Permission checks** in custom methods\n- **Input sanitization** in admin actions\n- **CSRF protection** (automatic)\n- **User authentication** (built-in)\n\n## Performance Optimization\n\n```python\n# Optimize queries with select_related/prefetch_related\nclass PostAdmin(admin.ModelAdmin):\n    def get_queryset(self, request):\n        queryset = super().get_queryset(request)\n        return queryset.select_related('author', 'category').prefetch_related('tags')\n```\n\n## Custom Admin Templates\n\n```python\n# Override admin templates\nclass PostAdmin(admin.ModelAdmin):\n    change_form_template = 'admin/blog/post/change_form.html'\n    change_list_template = 'admin/blog/post/change_list.html'\n```"
              },
              {
                "name": "/django-model",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/django-model.md",
                "frontmatter": null,
                "content": "# Django Model Generator\n\nCreate Django models with proper structure and relationships.\n\n## Purpose\n\nThis command helps you quickly create Django models with fields, relationships, and best practices.\n\n## Usage\n\n```\n/django-model\n```\n\n## What this command does\n\n1. **Creates model classes** with proper field definitions\n2. **Adds relationships** (ForeignKey, ManyToMany, OneToOne)\n3. **Includes meta options** and model methods\n4. **Generates migrations** automatically\n5. **Follows Django conventions** and best practices\n\n## Example Output\n\n```python\n# models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass Category(models.Model):\n    name = models.CharField(max_length=100, unique=True)\n    slug = models.SlugField(unique=True)\n    description = models.TextField(blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    \n    class Meta:\n        verbose_name_plural = \"categories\"\n        ordering = ['name']\n    \n    def __str__(self):\n        return self.name\n\nclass Post(models.Model):\n    STATUS_CHOICES = [\n        ('draft', 'Draft'),\n        ('published', 'Published'),\n        ('archived', 'Archived'),\n    ]\n    \n    title = models.CharField(max_length=200)\n    slug = models.SlugField(unique=True)\n    content = models.TextField()\n    status = models.CharField(max_length=20, choices=STATUS_CHOICES, default='draft')\n    author = models.ForeignKey(User, on_delete=models.CASCADE, related_name='posts')\n    category = models.ForeignKey(Category, on_delete=models.SET_NULL, null=True, blank=True)\n    tags = models.ManyToManyField('Tag', blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    \n    class Meta:\n        ordering = ['-created_at']\n        verbose_name = 'blog post'\n        verbose_name_plural = 'blog posts'\n    \n    def __str__(self):\n        return self.title\n    \n    def get_absolute_url(self):\n        return reverse('post_detail', kwargs={'slug': self.slug})\n\nclass Tag(models.Model):\n    name = models.CharField(max_length=50, unique=True)\n    slug = models.SlugField(unique=True)\n    \n    def __str__(self):\n        return self.name\n```\n\n## Field Types Supported\n\n- **CharField** - Text fields with max length\n- **TextField** - Large text fields\n- **IntegerField** - Integer numbers\n- **FloatField** - Floating point numbers\n- **BooleanField** - True/False values\n- **DateField** - Date only\n- **DateTimeField** - Date and time\n- **EmailField** - Email addresses\n- **URLField** - URLs\n- **ImageField** - Image uploads\n- **FileField** - File uploads\n- **JSONField** - JSON data (PostgreSQL)\n\n## Relationships\n\n- **ForeignKey** - One-to-many relationships\n- **ManyToManyField** - Many-to-many relationships\n- **OneToOneField** - One-to-one relationships\n\n## Best Practices Included\n\n- Proper field choices and defaults\n- Appropriate related_name attributes\n- __str__ methods for admin interface\n- Meta class with ordering and verbose names\n- get_absolute_url methods where appropriate\n- Proper use of null and blank parameters\n- Field validation and constraints\n\n## After Creating Models\n\n```bash\n# Create and apply migrations\npython manage.py makemigrations\npython manage.py migrate\n\n# Register in admin (optional)\n# Add to admin.py:\nfrom django.contrib import admin\nfrom .models import Post, Category, Tag\n\nadmin.site.register([Post, Category, Tag])\n```"
              },
              {
                "name": "/views",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/views.md",
                "frontmatter": null,
                "content": "# Django Views Generator\n\nCreate Django views with proper structure and best practices.\n\n## Purpose\n\nThis command helps you quickly create Django views (Function-Based Views and Class-Based Views) following Django conventions.\n\n## Usage\n\n```\n/views\n```\n\n## What this command does\n\n1. **Creates view functions/classes** with proper structure\n2. **Handles HTTP methods** (GET, POST, PUT, DELETE)\n3. **Includes form handling** and validation\n4. **Adds authentication/authorization** checks\n5. **Follows Django best practices** and security guidelines\n\n## Example Output\n\n```python\n# views.py\nfrom django.shortcuts import render, get_object_or_404, redirect\nfrom django.contrib.auth.decorators import login_required\nfrom django.contrib import messages\nfrom django.http import JsonResponse\nfrom django.views.generic import ListView, DetailView, CreateView, UpdateView, DeleteView\nfrom django.contrib.auth.mixins import LoginRequiredMixin\nfrom django.urls import reverse_lazy\nfrom .models import Post, Category\nfrom .forms import PostForm\n\n# Function-Based Views\ndef post_list(request):\n    \"\"\"Display list of posts with pagination and filtering.\"\"\"\n    posts = Post.objects.filter(status='published').select_related('author', 'category')\n    \n    # Search functionality\n    search_query = request.GET.get('search')\n    if search_query:\n        posts = posts.filter(title__icontains=search_query)\n    \n    # Category filtering\n    category_id = request.GET.get('category')\n    if category_id:\n        posts = posts.filter(category_id=category_id)\n    \n    context = {\n        'posts': posts,\n        'categories': Category.objects.all(),\n        'search_query': search_query,\n    }\n    return render(request, 'blog/post_list.html', context)\n\ndef post_detail(request, slug):\n    \"\"\"Display individual post details.\"\"\"\n    post = get_object_or_404(Post, slug=slug, status='published')\n    \n    context = {\n        'post': post,\n        'related_posts': Post.objects.filter(\n            category=post.category,\n            status='published'\n        ).exclude(id=post.id)[:3]\n    }\n    return render(request, 'blog/post_detail.html', context)\n\n@login_required\ndef post_create(request):\n    \"\"\"Create new post.\"\"\"\n    if request.method == 'POST':\n        form = PostForm(request.POST, request.FILES)\n        if form.is_valid():\n            post = form.save(commit=False)\n            post.author = request.user\n            post.save()\n            form.save_m2m()  # Save many-to-many relationships\n            messages.success(request, 'Post created successfully!')\n            return redirect('post_detail', slug=post.slug)\n    else:\n        form = PostForm()\n    \n    return render(request, 'blog/post_form.html', {'form': form})\n\n@login_required\ndef post_edit(request, slug):\n    \"\"\"Edit existing post.\"\"\"\n    post = get_object_or_404(Post, slug=slug, author=request.user)\n    \n    if request.method == 'POST':\n        form = PostForm(request.POST, request.FILES, instance=post)\n        if form.is_valid():\n            form.save()\n            messages.success(request, 'Post updated successfully!')\n            return redirect('post_detail', slug=post.slug)\n    else:\n        form = PostForm(instance=post)\n    \n    return render(request, 'blog/post_form.html', {\n        'form': form, \n        'post': post\n    })\n\n# Class-Based Views\nclass PostListView(ListView):\n    \"\"\"List view for posts with pagination.\"\"\"\n    model = Post\n    template_name = 'blog/post_list.html'\n    context_object_name = 'posts'\n    paginate_by = 10\n    \n    def get_queryset(self):\n        return Post.objects.filter(status='published').select_related('author', 'category')\n    \n    def get_context_data(self, **kwargs):\n        context = super().get_context_data(**kwargs)\n        context['categories'] = Category.objects.all()\n        return context\n\nclass PostDetailView(DetailView):\n    \"\"\"Detail view for individual posts.\"\"\"\n    model = Post\n    template_name = 'blog/post_detail.html'\n    context_object_name = 'post'\n    \n    def get_queryset(self):\n        return Post.objects.filter(status='published')\n\nclass PostCreateView(LoginRequiredMixin, CreateView):\n    \"\"\"Create view for new posts.\"\"\"\n    model = Post\n    form_class = PostForm\n    template_name = 'blog/post_form.html'\n    \n    def form_valid(self, form):\n        form.instance.author = self.request.user\n        return super().form_valid(form)\n\nclass PostUpdateView(LoginRequiredMixin, UpdateView):\n    \"\"\"Update view for existing posts.\"\"\"\n    model = Post\n    form_class = PostForm\n    template_name = 'blog/post_form.html'\n    \n    def get_queryset(self):\n        return Post.objects.filter(author=self.request.user)\n\nclass PostDeleteView(LoginRequiredMixin, DeleteView):\n    \"\"\"Delete view for posts.\"\"\"\n    model = Post\n    template_name = 'blog/post_confirm_delete.html'\n    success_url = reverse_lazy('post_list')\n    \n    def get_queryset(self):\n        return Post.objects.filter(author=self.request.user)\n\n# API Views\ndef api_post_list(request):\n    \"\"\"API endpoint for post list.\"\"\"\n    posts = Post.objects.filter(status='published').values(\n        'id', 'title', 'slug', 'created_at', 'author__username'\n    )\n    return JsonResponse(list(posts), safe=False)\n```\n\n## View Types Supported\n\n- **Function-Based Views (FBV)** - Simple, explicit control\n- **Class-Based Views (CBV)** - Reusable, inheritance-based\n- **Generic Views** - ListView, DetailView, CreateView, etc.\n- **API Views** - JSON responses for AJAX/API calls\n\n## Features Included\n\n- **Authentication checks** with decorators/mixins\n- **Permission handling** for user authorization\n- **Form processing** with validation\n- **Error handling** and user feedback\n- **SEO-friendly URLs** with slugs\n- **Database optimization** with select_related/prefetch_related\n- **Pagination** for large datasets\n- **Search and filtering** functionality\n\n## Security Best Practices\n\n- CSRF protection (automatic with forms)\n- User authentication and authorization\n- SQL injection prevention (ORM)\n- XSS protection with template escaping\n- Proper error handling\n\n## URL Configuration\n\n```python\n# urls.py\nfrom django.urls import path\nfrom . import views\n\napp_name = 'blog'\n\nurlpatterns = [\n    # Function-based views\n    path('', views.post_list, name='post_list'),\n    path('post/<slug:slug>/', views.post_detail, name='post_detail'),\n    path('create/', views.post_create, name='post_create'),\n    path('edit/<slug:slug>/', views.post_edit, name='post_edit'),\n    \n    # Class-based views\n    path('posts/', views.PostListView.as_view(), name='post_list_cbv'),\n    path('posts/<slug:slug>/', views.PostDetailView.as_view(), name='post_detail_cbv'),\n    path('posts/create/', views.PostCreateView.as_view(), name='post_create_cbv'),\n    path('posts/<slug:slug>/edit/', views.PostUpdateView.as_view(), name='post_edit_cbv'),\n    path('posts/<slug:slug>/delete/', views.PostDeleteView.as_view(), name='post_delete_cbv'),\n    \n    # API endpoints\n    path('api/posts/', views.api_post_list, name='api_post_list'),\n]\n```"
              },
              {
                "name": "/api-endpoints",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/api-endpoints.md",
                "frontmatter": null,
                "content": "# FastAPI Endpoints Generator\n\nCreate comprehensive FastAPI endpoints with proper structure, validation, and documentation.\n\n## Purpose\n\nThis command helps you quickly create FastAPI endpoints with Pydantic models, dependency injection, and automatic API documentation.\n\n## Usage\n\n```\n/api-endpoints\n```\n\n## What this command does\n\n1. **Creates API endpoints** with proper HTTP methods\n2. **Adds Pydantic models** for request/response validation\n3. **Implements dependency injection** for database and auth\n4. **Includes error handling** and status codes\n5. **Generates automatic documentation** with OpenAPI\n\n## Example Output\n\n```python\n# main.py\nfrom fastapi import FastAPI, Depends, HTTPException, status\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom fastapi.security import HTTPBearer, HTTPAuthorizationCredentials\nfrom sqlalchemy.orm import Session\nimport uvicorn\n\nfrom app.database import get_db, engine\nfrom app.models import models\nfrom app.routers import auth, users, posts, comments\nfrom app.core.config import settings\n\n# Create database tables\nmodels.Base.metadata.create_all(bind=engine)\n\n# Initialize FastAPI app\napp = FastAPI(\n    title=\"Blog API\",\n    description=\"A comprehensive blog API built with FastAPI\",\n    version=\"1.0.0\",\n    docs_url=\"/docs\",\n    redoc_url=\"/redoc\"\n)\n\n# Add CORS middleware\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=settings.ALLOWED_HOSTS,\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n\n# Include routers\napp.include_router(auth.router, prefix=\"/auth\", tags=[\"Authentication\"])\napp.include_router(users.router, prefix=\"/users\", tags=[\"Users\"])\napp.include_router(posts.router, prefix=\"/posts\", tags=[\"Posts\"])\napp.include_router(comments.router, prefix=\"/comments\", tags=[\"Comments\"])\n\n@app.get(\"/\", tags=[\"Root\"])\nasync def root():\n    \"\"\"API root endpoint.\"\"\"\n    return {\n        \"message\": \"Welcome to Blog API\",\n        \"version\": \"1.0.0\",\n        \"docs\": \"/docs\",\n        \"redoc\": \"/redoc\"\n    }\n\n@app.get(\"/health\", tags=[\"Health\"])\nasync def health_check():\n    \"\"\"Health check endpoint.\"\"\"\n    return {\"status\": \"healthy\", \"timestamp\": \"2024-01-01T00:00:00Z\"}\n\nif __name__ == \"__main__\":\n    uvicorn.run(\n        \"main:app\",\n        host=\"0.0.0.0\",\n        port=8000,\n        reload=True\n    )\n```\n\n```python\n# app/routers/posts.py\nfrom typing import List, Optional\nfrom fastapi import APIRouter, Depends, HTTPException, status, Query\nfrom sqlalchemy.orm import Session\n\nfrom app.database import get_db\nfrom app.schemas import post_schemas\nfrom app.services import post_service\nfrom app.core.dependencies import get_current_user, get_current_active_user\nfrom app.models.user import User\n\nrouter = APIRouter()\n\n@router.get(\"/\", response_model=List[post_schemas.PostResponse])\nasync def get_posts(\n    skip: int = Query(0, ge=0, description=\"Number of posts to skip\"),\n    limit: int = Query(10, ge=1, le=100, description=\"Number of posts to return\"),\n    search: Optional[str] = Query(None, description=\"Search in title and content\"),\n    category: Optional[str] = Query(None, description=\"Filter by category\"),\n    published: Optional[bool] = Query(True, description=\"Filter by published status\"),\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get all posts with pagination and filtering.\n    \n    - **skip**: Number of posts to skip (for pagination)\n    - **limit**: Maximum number of posts to return (1-100)\n    - **search**: Search term for title and content\n    - **category**: Filter posts by category\n    - **published**: Filter by published status\n    \"\"\"\n    posts = post_service.get_posts(\n        db=db,\n        skip=skip,\n        limit=limit,\n        search=search,\n        category=category,\n        published=published\n    )\n    return posts\n\n@router.get(\"/{post_id}\", response_model=post_schemas.PostResponse)\nasync def get_post(\n    post_id: int,\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get a specific post by ID.\n    \n    - **post_id**: Unique identifier for the post\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    return post\n\n@router.post(\"/\", response_model=post_schemas.PostResponse, status_code=status.HTTP_201_CREATED)\nasync def create_post(\n    post: post_schemas.PostCreate,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Create a new post.\n    \n    - **title**: Post title (required)\n    - **content**: Post content (required)\n    - **category**: Post category (optional)\n    - **published**: Publication status (default: false)\n    \"\"\"\n    return post_service.create_post(\n        db=db,\n        post=post,\n        user_id=current_user.id\n    )\n\n@router.put(\"/{post_id}\", response_model=post_schemas.PostResponse)\nasync def update_post(\n    post_id: int,\n    post_update: post_schemas.PostUpdate,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Update an existing post.\n    \n    - **post_id**: Unique identifier for the post\n    - **title**: Updated post title (optional)\n    - **content**: Updated post content (optional)\n    - **category**: Updated post category (optional)\n    - **published**: Updated publication status (optional)\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    if post.author_id != current_user.id:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not authorized to update this post\"\n        )\n    \n    return post_service.update_post(\n        db=db,\n        post_id=post_id,\n        post_update=post_update\n    )\n\n@router.delete(\"/{post_id}\", status_code=status.HTTP_204_NO_CONTENT)\nasync def delete_post(\n    post_id: int,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Delete a post.\n    \n    - **post_id**: Unique identifier for the post to delete\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    if post.author_id != current_user.id:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not authorized to delete this post\"\n        )\n    \n    post_service.delete_post(db=db, post_id=post_id)\n\n@router.post(\"/{post_id}/like\", response_model=post_schemas.PostResponse)\nasync def like_post(\n    post_id: int,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Like/unlike a post.\n    \n    - **post_id**: Unique identifier for the post to like\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    return post_service.toggle_like(\n        db=db,\n        post_id=post_id,\n        user_id=current_user.id\n    )\n\n@router.get(\"/{post_id}/comments\", response_model=List[post_schemas.CommentResponse])\nasync def get_post_comments(\n    post_id: int,\n    skip: int = Query(0, ge=0),\n    limit: int = Query(10, ge=1, le=100),\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get all comments for a specific post.\n    \n    - **post_id**: Unique identifier for the post\n    - **skip**: Number of comments to skip\n    - **limit**: Maximum number of comments to return\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    return post_service.get_post_comments(\n        db=db,\n        post_id=post_id,\n        skip=skip,\n        limit=limit\n    )\n```\n\n```python\n# app/schemas/post_schemas.py\nfrom typing import Optional, List\nfrom datetime import datetime\nfrom pydantic import BaseModel, Field, validator\n\nclass PostBase(BaseModel):\n    \"\"\"Base post schema.\"\"\"\n    title: str = Field(..., min_length=1, max_length=200, description=\"Post title\")\n    content: str = Field(..., min_length=1, description=\"Post content\")\n    category: Optional[str] = Field(None, max_length=50, description=\"Post category\")\n    published: bool = Field(False, description=\"Publication status\")\n\nclass PostCreate(PostBase):\n    \"\"\"Schema for creating a post.\"\"\"\n    \n    @validator('title')\n    def validate_title(cls, v):\n        if not v.strip():\n            raise ValueError('Title cannot be empty')\n        return v.strip()\n    \n    @validator('content')\n    def validate_content(cls, v):\n        if len(v.strip()) < 10:\n            raise ValueError('Content must be at least 10 characters long')\n        return v.strip()\n\nclass PostUpdate(BaseModel):\n    \"\"\"Schema for updating a post.\"\"\"\n    title: Optional[str] = Field(None, min_length=1, max_length=200)\n    content: Optional[str] = Field(None, min_length=1)\n    category: Optional[str] = Field(None, max_length=50)\n    published: Optional[bool] = None\n    \n    @validator('title')\n    def validate_title(cls, v):\n        if v is not None and not v.strip():\n            raise ValueError('Title cannot be empty')\n        return v.strip() if v else v\n    \n    @validator('content')\n    def validate_content(cls, v):\n        if v is not None and len(v.strip()) < 10:\n            raise ValueError('Content must be at least 10 characters long')\n        return v.strip() if v else v\n\nclass PostResponse(PostBase):\n    \"\"\"Schema for post responses.\"\"\"\n    id: int\n    author_id: int\n    created_at: datetime\n    updated_at: datetime\n    like_count: int = 0\n    comment_count: int = 0\n    \n    class Config:\n        from_attributes = True\n\nclass CommentBase(BaseModel):\n    \"\"\"Base comment schema.\"\"\"\n    content: str = Field(..., min_length=1, max_length=1000, description=\"Comment content\")\n\nclass CommentCreate(CommentBase):\n    \"\"\"Schema for creating a comment.\"\"\"\n    post_id: int = Field(..., description=\"ID of the post to comment on\")\n\nclass CommentResponse(CommentBase):\n    \"\"\"Schema for comment responses.\"\"\"\n    id: int\n    post_id: int\n    author_id: int\n    created_at: datetime\n    updated_at: datetime\n    \n    class Config:\n        from_attributes = True\n```\n\n```python\n# app/services/post_service.py\nfrom typing import List, Optional\nfrom sqlalchemy.orm import Session\nfrom sqlalchemy import or_\n\nfrom app.models.post import Post, Comment, PostLike\nfrom app.schemas.post_schemas import PostCreate, PostUpdate\n\ndef get_posts(\n    db: Session,\n    skip: int = 0,\n    limit: int = 10,\n    search: Optional[str] = None,\n    category: Optional[str] = None,\n    published: Optional[bool] = True\n) -> List[Post]:\n    \"\"\"Get posts with filtering and pagination.\"\"\"\n    query = db.query(Post)\n    \n    if published is not None:\n        query = query.filter(Post.published == published)\n    \n    if category:\n        query = query.filter(Post.category == category)\n    \n    if search:\n        query = query.filter(\n            or_(\n                Post.title.contains(search),\n                Post.content.contains(search)\n            )\n        )\n    \n    return query.offset(skip).limit(limit).all()\n\ndef get_post(db: Session, post_id: int) -> Optional[Post]:\n    \"\"\"Get a single post by ID.\"\"\"\n    return db.query(Post).filter(Post.id == post_id).first()\n\ndef create_post(db: Session, post: PostCreate, user_id: int) -> Post:\n    \"\"\"Create a new post.\"\"\"\n    db_post = Post(**post.dict(), author_id=user_id)\n    db.add(db_post)\n    db.commit()\n    db.refresh(db_post)\n    return db_post\n\ndef update_post(\n    db: Session,\n    post_id: int,\n    post_update: PostUpdate\n) -> Optional[Post]:\n    \"\"\"Update an existing post.\"\"\"\n    db_post = db.query(Post).filter(Post.id == post_id).first()\n    if not db_post:\n        return None\n    \n    update_data = post_update.dict(exclude_unset=True)\n    for field, value in update_data.items():\n        setattr(db_post, field, value)\n    \n    db.commit()\n    db.refresh(db_post)\n    return db_post\n\ndef delete_post(db: Session, post_id: int) -> bool:\n    \"\"\"Delete a post.\"\"\"\n    db_post = db.query(Post).filter(Post.id == post_id).first()\n    if not db_post:\n        return False\n    \n    db.delete(db_post)\n    db.commit()\n    return True\n\ndef toggle_like(db: Session, post_id: int, user_id: int) -> Post:\n    \"\"\"Toggle like status for a post.\"\"\"\n    existing_like = db.query(PostLike).filter(\n        PostLike.post_id == post_id,\n        PostLike.user_id == user_id\n    ).first()\n    \n    if existing_like:\n        db.delete(existing_like)\n    else:\n        new_like = PostLike(post_id=post_id, user_id=user_id)\n        db.add(new_like)\n    \n    db.commit()\n    return get_post(db, post_id)\n```\n\n## Features Included\n\n### API Documentation\n- **Automatic OpenAPI** schema generation\n- **Interactive docs** at `/docs`\n- **ReDoc documentation** at `/redoc`\n- **Request/Response examples** in schemas\n\n### Validation & Serialization\n- **Pydantic models** for data validation\n- **Custom validators** for business rules\n- **Type hints** for better IDE support\n- **Automatic data conversion** and validation\n\n### Error Handling\n- **HTTP status codes** for different scenarios\n- **Detailed error messages** with context\n- **Input validation errors** with field-specific messages\n- **Custom exception handlers** for consistent responses\n\n### Security\n- **JWT authentication** with dependencies\n- **Role-based access control** for endpoints\n- **CORS middleware** for cross-origin requests\n- **Input sanitization** through Pydantic\n\n### Performance\n- **Database query optimization** with SQLAlchemy\n- **Pagination support** for large datasets\n- **Async/await support** for concurrent requests\n- **Connection pooling** for database efficiency\n\n## Testing Example\n\n```python\n# tests/test_posts.py\nimport pytest\nfrom fastapi.testclient import TestClient\nfrom app.main import app\n\nclient = TestClient(app)\n\ndef test_get_posts():\n    \"\"\"Test getting posts.\"\"\"\n    response = client.get(\"/posts/\")\n    assert response.status_code == 200\n    assert isinstance(response.json(), list)\n\ndef test_create_post():\n    \"\"\"Test creating a new post.\"\"\"\n    post_data = {\n        \"title\": \"Test Post\",\n        \"content\": \"This is a test post content.\",\n        \"published\": True\n    }\n    response = client.post(\"/posts/\", json=post_data)\n    assert response.status_code == 201\n    assert response.json()[\"title\"] == \"Test Post\"\n```"
              },
              {
                "name": "/auth",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/auth.md",
                "frontmatter": null,
                "content": "# FastAPI Authentication & Authorization\n\nComplete authentication system with JWT tokens, OAuth2, and role-based access control.\n\n## Usage\n\n```bash\n# Install auth dependencies\npip install python-jose[cryptography] passlib[bcrypt] python-multipart\n\n# Generate secret key\nopenssl rand -hex 32\n```\n\n## JWT Configuration\n\n```python\n# app/core/security.py\nfrom datetime import datetime, timedelta\nfrom typing import Optional, Union, Any\nfrom jose import JWTError, jwt\nfrom passlib.context import CryptContext\nfrom app.core.config import settings\n\n# Password hashing\npwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\n# JWT settings\nSECRET_KEY = settings.SECRET_KEY\nALGORITHM = \"HS256\"\nACCESS_TOKEN_EXPIRE_MINUTES = 30\nREFRESH_TOKEN_EXPIRE_DAYS = 7\n\ndef create_access_token(\n    subject: Union[str, Any], \n    expires_delta: Optional[timedelta] = None\n) -> str:\n    \"\"\"Create JWT access token.\"\"\"\n    if expires_delta:\n        expire = datetime.utcnow() + expires_delta\n    else:\n        expire = datetime.utcnow() + timedelta(minutes=ACCESS_TOKEN_EXPIRE_MINUTES)\n    \n    to_encode = {\"exp\": expire, \"sub\": str(subject), \"type\": \"access\"}\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n    return encoded_jwt\n\ndef create_refresh_token(subject: Union[str, Any]) -> str:\n    \"\"\"Create JWT refresh token.\"\"\"\n    expire = datetime.utcnow() + timedelta(days=REFRESH_TOKEN_EXPIRE_DAYS)\n    to_encode = {\"exp\": expire, \"sub\": str(subject), \"type\": \"refresh\"}\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n    return encoded_jwt\n\ndef verify_password(plain_password: str, hashed_password: str) -> bool:\n    \"\"\"Verify password against hash.\"\"\"\n    return pwd_context.verify(plain_password, hashed_password)\n\ndef get_password_hash(password: str) -> str:\n    \"\"\"Generate password hash.\"\"\"\n    return pwd_context.hash(password)\n\ndef decode_token(token: str) -> Optional[dict]:\n    \"\"\"Decode and verify JWT token.\"\"\"\n    try:\n        payload = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])\n        return payload\n    except JWTError:\n        return None\n```\n\n## Authentication Dependencies\n\n```python\n# app/api/dependencies/auth.py\nfrom typing import Optional\nfrom fastapi import Depends, HTTPException, status\nfrom fastapi.security import OAuth2PasswordBearer, HTTPBearer, HTTPAuthorizationCredentials\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.core.security import decode_token\nfrom app.db.database import get_db\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\n\n# OAuth2 scheme\noauth2_scheme = OAuth2PasswordBearer(\n    tokenUrl=\"/api/v1/auth/login\",\n    scheme_name=\"JWT\"\n)\n\n# Bearer token scheme\nsecurity = HTTPBearer()\n\nasync def get_current_user(\n    token: str = Depends(oauth2_scheme),\n    db: AsyncSession = Depends(get_db)\n) -> User:\n    \"\"\"Get current authenticated user.\"\"\"\n    credentials_exception = HTTPException(\n        status_code=status.HTTP_401_UNAUTHORIZED,\n        detail=\"Could not validate credentials\",\n        headers={\"WWW-Authenticate\": \"Bearer\"},\n    )\n    \n    payload = decode_token(token)\n    if payload is None:\n        raise credentials_exception\n    \n    user_id: str = payload.get(\"sub\")\n    token_type: str = payload.get(\"type\")\n    \n    if user_id is None or token_type != \"access\":\n        raise credentials_exception\n    \n    user_repo = UserRepository(User, db)\n    user = await user_repo.get(int(user_id))\n    \n    if user is None:\n        raise credentials_exception\n    \n    if not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    \n    return user\n\nasync def get_current_active_user(\n    current_user: User = Depends(get_current_user)\n) -> User:\n    \"\"\"Get current active user.\"\"\"\n    if not current_user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    return current_user\n\nasync def get_current_superuser(\n    current_user: User = Depends(get_current_user)\n) -> User:\n    \"\"\"Get current superuser.\"\"\"\n    if not current_user.is_superuser:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not enough permissions\"\n        )\n    return current_user\n\ndef require_permissions(*permissions: str):\n    \"\"\"Decorator for permission-based access control.\"\"\"\n    async def permission_checker(\n        current_user: User = Depends(get_current_active_user)\n    ) -> User:\n        # Check if user has required permissions\n        user_permissions = set(current_user.permissions or [])\n        required_permissions = set(permissions)\n        \n        if not required_permissions.issubset(user_permissions) and not current_user.is_superuser:\n            raise HTTPException(\n                status_code=status.HTTP_403_FORBIDDEN,\n                detail=\"Insufficient permissions\"\n            )\n        \n        return current_user\n    \n    return permission_checker\n\ndef require_roles(*roles: str):\n    \"\"\"Decorator for role-based access control.\"\"\"\n    async def role_checker(\n        current_user: User = Depends(get_current_active_user)\n    ) -> User:\n        user_roles = set(role.name for role in current_user.roles or [])\n        required_roles = set(roles)\n        \n        if not required_roles.issubset(user_roles) and not current_user.is_superuser:\n            raise HTTPException(\n                status_code=status.HTTP_403_FORBIDDEN,\n                detail=\"Insufficient role permissions\"\n            )\n        \n        return current_user\n    \n    return role_checker\n```\n\n## Authentication Schemas\n\n```python\n# app/schemas/auth.py\nfrom pydantic import BaseModel, EmailStr\nfrom typing import Optional\n\nclass Token(BaseModel):\n    \"\"\"Token response schema.\"\"\"\n    access_token: str\n    refresh_token: str\n    token_type: str = \"bearer\"\n    expires_in: int\n\nclass TokenPayload(BaseModel):\n    \"\"\"Token payload schema.\"\"\"\n    sub: Optional[int] = None\n    exp: Optional[int] = None\n    type: Optional[str] = None\n\nclass UserLogin(BaseModel):\n    \"\"\"User login schema.\"\"\"\n    username: str\n    password: str\n\nclass UserRegister(BaseModel):\n    \"\"\"User registration schema.\"\"\"\n    username: str\n    email: EmailStr\n    password: str\n    first_name: str\n    last_name: str\n\nclass PasswordReset(BaseModel):\n    \"\"\"Password reset schema.\"\"\"\n    email: EmailStr\n\nclass PasswordResetConfirm(BaseModel):\n    \"\"\"Password reset confirmation schema.\"\"\"\n    token: str\n    new_password: str\n\nclass ChangePassword(BaseModel):\n    \"\"\"Change password schema.\"\"\"\n    current_password: str\n    new_password: str\n\nclass RefreshToken(BaseModel):\n    \"\"\"Refresh token schema.\"\"\"\n    refresh_token: str\n```\n\n## Authentication Endpoints\n\n```python\n# app/api/v1/auth.py\nfrom datetime import timedelta\nfrom typing import Any\nfrom fastapi import APIRouter, Depends, HTTPException, status, BackgroundTasks\nfrom fastapi.security import OAuth2PasswordRequestForm\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.db.database import get_db\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.schemas.auth import (\n    Token, UserLogin, UserRegister, PasswordReset, \n    PasswordResetConfirm, ChangePassword, RefreshToken\n)\nfrom app.schemas.user import UserCreate, UserResponse\nfrom app.core.security import (\n    create_access_token, create_refresh_token, verify_password,\n    decode_token, ACCESS_TOKEN_EXPIRE_MINUTES\n)\nfrom app.api.dependencies.auth import get_current_user, get_current_active_user\nfrom app.services.email import send_password_reset_email\nfrom app.services.auth import AuthService\n\nrouter = APIRouter()\n\n@router.post(\"/register\", response_model=UserResponse, status_code=status.HTTP_201_CREATED)\nasync def register(\n    user_data: UserRegister,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Register new user.\"\"\"\n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    # Check if user already exists\n    if await user_repo.get_by_email(user_data.email):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Email already registered\"\n        )\n    \n    if await user_repo.get_by_username(user_data.username):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Username already taken\"\n        )\n    \n    # Create user\n    user = await auth_service.create_user(user_data.dict())\n    return user\n\n@router.post(\"/login\", response_model=Token)\nasync def login(\n    form_data: OAuth2PasswordRequestForm = Depends(),\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"OAuth2 compatible token login.\"\"\"\n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    user = await auth_service.authenticate_user(\n        form_data.username, \n        form_data.password\n    )\n    \n    if not user:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Incorrect username or password\",\n            headers={\"WWW-Authenticate\": \"Bearer\"},\n        )\n    \n    if not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    \n    # Create tokens\n    access_token = create_access_token(subject=user.id)\n    refresh_token = create_refresh_token(subject=user.id)\n    \n    return {\n        \"access_token\": access_token,\n        \"refresh_token\": refresh_token,\n        \"token_type\": \"bearer\",\n        \"expires_in\": ACCESS_TOKEN_EXPIRE_MINUTES * 60\n    }\n\n@router.post(\"/refresh\", response_model=Token)\nasync def refresh_token(\n    refresh_data: RefreshToken,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Refresh access token.\"\"\"\n    payload = decode_token(refresh_data.refresh_token)\n    \n    if payload is None or payload.get(\"type\") != \"refresh\":\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    user_id = payload.get(\"sub\")\n    if user_id is None:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    user = await user_repo.get(int(user_id))\n    \n    if user is None or not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    # Create new tokens\n    access_token = create_access_token(subject=user.id)\n    new_refresh_token = create_refresh_token(subject=user.id)\n    \n    return {\n        \"access_token\": access_token,\n        \"refresh_token\": new_refresh_token,\n        \"token_type\": \"bearer\",\n        \"expires_in\": ACCESS_TOKEN_EXPIRE_MINUTES * 60\n    }\n\n@router.get(\"/me\", response_model=UserResponse)\nasync def read_users_me(\n    current_user: User = Depends(get_current_active_user)\n) -> Any:\n    \"\"\"Get current user.\"\"\"\n    return current_user\n\n@router.post(\"/change-password\", status_code=status.HTTP_200_OK)\nasync def change_password(\n    password_data: ChangePassword,\n    current_user: User = Depends(get_current_active_user),\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Change user password.\"\"\"\n    if not verify_password(password_data.current_password, current_user.hashed_password):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Incorrect current password\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    await auth_service.change_password(current_user.id, password_data.new_password)\n    \n    return {\"message\": \"Password changed successfully\"}\n\n@router.post(\"/password-reset\", status_code=status.HTTP_200_OK)\nasync def password_reset(\n    reset_data: PasswordReset,\n    background_tasks: BackgroundTasks,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Request password reset.\"\"\"\n    user_repo = UserRepository(User, db)\n    user = await user_repo.get_by_email(reset_data.email)\n    \n    if user:\n        # Generate reset token\n        reset_token = create_access_token(\n            subject=user.id,\n            expires_delta=timedelta(hours=1)  # 1 hour expiry\n        )\n        \n        # Send email with reset token\n        background_tasks.add_task(\n            send_password_reset_email,\n            email=user.email,\n            username=user.username,\n            token=reset_token\n        )\n    \n    # Always return success to prevent email enumeration\n    return {\"message\": \"Password reset email sent if account exists\"}\n\n@router.post(\"/password-reset-confirm\", status_code=status.HTTP_200_OK)\nasync def password_reset_confirm(\n    reset_data: PasswordResetConfirm,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Confirm password reset.\"\"\"\n    payload = decode_token(reset_data.token)\n    \n    if payload is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid or expired reset token\"\n        )\n    \n    user_id = payload.get(\"sub\")\n    if user_id is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid reset token\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    user = await user_repo.get(int(user_id))\n    if user is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid reset token\"\n        )\n    \n    await auth_service.change_password(user.id, reset_data.new_password)\n    \n    return {\"message\": \"Password reset successful\"}\n\n@router.post(\"/logout\", status_code=status.HTTP_200_OK)\nasync def logout(\n    current_user: User = Depends(get_current_user)\n) -> Any:\n    \"\"\"Logout user (invalidate token on client side).\"\"\"\n    # In a more sophisticated setup, you might want to blacklist the token\n    return {\"message\": \"Successfully logged out\"}\n```\n\n## Authentication Service\n\n```python\n# app/services/auth.py\nfrom typing import Optional\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.security import verify_password, get_password_hash\n\nclass AuthService:\n    \"\"\"Authentication service.\"\"\"\n    \n    def __init__(self, user_repository: UserRepository):\n        self.user_repo = user_repository\n    \n    async def authenticate_user(\n        self, \n        username_or_email: str, \n        password: str\n    ) -> Optional[User]:\n        \"\"\"Authenticate user by username/email and password.\"\"\"\n        # Try to get user by username first, then by email\n        user = await self.user_repo.get_by_username(username_or_email)\n        if not user:\n            user = await self.user_repo.get_by_email(username_or_email)\n        \n        if not user:\n            return None\n        \n        if not verify_password(password, user.hashed_password):\n            return None\n        \n        return user\n    \n    async def create_user(self, user_data: dict) -> User:\n        \"\"\"Create new user.\"\"\"\n        # Hash password\n        password = user_data.pop('password')\n        hashed_password = get_password_hash(password)\n        \n        # Create user data\n        user_create_data = {\n            **user_data,\n            'hashed_password': hashed_password,\n            'is_active': True,\n            'is_superuser': False\n        }\n        \n        return await self.user_repo.create(user_create_data)\n    \n    async def change_password(self, user_id: int, new_password: str) -> bool:\n        \"\"\"Change user password.\"\"\"\n        hashed_password = get_password_hash(new_password)\n        \n        result = await self.user_repo.update(user_id, {\n            'hashed_password': hashed_password\n        })\n        \n        return result is not None\n    \n    async def activate_user(self, user_id: int) -> bool:\n        \"\"\"Activate user account.\"\"\"\n        result = await self.user_repo.update(user_id, {'is_active': True})\n        return result is not None\n    \n    async def deactivate_user(self, user_id: int) -> bool:\n        \"\"\"Deactivate user account.\"\"\"\n        result = await self.user_repo.update(user_id, {'is_active': False})\n        return result is not None\n```\n\n## Role-Based Access Control\n\n```python\n# app/models/rbac.py\nfrom sqlalchemy import Column, String, Text, ForeignKey, Table\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\n\n# Association tables for many-to-many relationships\nuser_roles = Table(\n    'user_roles',\n    Base.metadata,\n    Column('user_id', Integer, ForeignKey('users.id')),\n    Column('role_id', Integer, ForeignKey('roles.id'))\n)\n\nrole_permissions = Table(\n    'role_permissions',\n    Base.metadata,\n    Column('role_id', Integer, ForeignKey('roles.id')),\n    Column('permission_id', Integer, ForeignKey('permissions.id'))\n)\n\nclass Role(BaseModel):\n    \"\"\"Role model for RBAC.\"\"\"\n    __tablename__ = \"roles\"\n    \n    name = Column(String(50), unique=True, nullable=False, index=True)\n    description = Column(Text)\n    \n    # Relationships\n    users = relationship(\"User\", secondary=user_roles, back_populates=\"roles\")\n    permissions = relationship(\"Permission\", secondary=role_permissions, back_populates=\"roles\")\n\nclass Permission(BaseModel):\n    \"\"\"Permission model for RBAC.\"\"\"\n    __tablename__ = \"permissions\"\n    \n    name = Column(String(100), unique=True, nullable=False, index=True)\n    description = Column(Text)\n    resource = Column(String(50), nullable=False)  # e.g., 'users', 'posts'\n    action = Column(String(50), nullable=False)    # e.g., 'create', 'read', 'update', 'delete'\n    \n    # Relationships\n    roles = relationship(\"Role\", secondary=role_permissions, back_populates=\"permissions\")\n\n# Update User model to include roles\nclass User(BaseModel):\n    # ... existing fields ...\n    \n    # Relationships\n    roles = relationship(\"Role\", secondary=user_roles, back_populates=\"users\")\n    \n    @property\n    def permissions(self) -> list[str]:\n        \"\"\"Get all permissions for user.\"\"\"\n        perms = set()\n        for role in self.roles:\n            for permission in role.permissions:\n                perms.add(f\"{permission.resource}:{permission.action}\")\n        return list(perms)\n```\n\n## OAuth2 Integration\n\n```python\n# app/api/v1/oauth.py\nfrom fastapi import APIRouter, Depends, HTTPException, status\nfrom fastapi.security.utils import get_authorization_scheme_param\nfrom starlette.requests import Request\nfrom authlib.integrations.starlette_client import OAuth\nfrom app.core.config import settings\n\nrouter = APIRouter()\n\n# OAuth configuration\noauth = OAuth()\n\n# Google OAuth\ngoogle = oauth.register(\n    name='google',\n    client_id=settings.GOOGLE_CLIENT_ID,\n    client_secret=settings.GOOGLE_CLIENT_SECRET,\n    server_metadata_url='https://accounts.google.com/.well-known/openid_configuration',\n    client_kwargs={\n        'scope': 'openid email profile'\n    }\n)\n\n# GitHub OAuth\ngithub = oauth.register(\n    name='github',\n    client_id=settings.GITHUB_CLIENT_ID,\n    client_secret=settings.GITHUB_CLIENT_SECRET,\n    access_token_url='https://github.com/login/oauth/access_token',\n    access_token_params=None,\n    authorize_url='https://github.com/login/oauth/authorize',\n    authorize_params=None,\n    api_base_url='https://api.github.com/',\n    client_kwargs={'scope': 'user:email'},\n)\n\n@router.get('/google')\nasync def google_login(request: Request):\n    \"\"\"Initiate Google OAuth login.\"\"\"\n    redirect_uri = request.url_for('google_callback')\n    return await google.authorize_redirect(request, redirect_uri)\n\n@router.get('/google/callback')\nasync def google_callback(request: Request):\n    \"\"\"Handle Google OAuth callback.\"\"\"\n    token = await google.authorize_access_token(request)\n    user_info = token.get('userinfo')\n    \n    if user_info:\n        # Create or get user\n        # Generate JWT token\n        # Return token\n        pass\n    \n    raise HTTPException(\n        status_code=status.HTTP_400_BAD_REQUEST,\n        detail=\"OAuth authentication failed\"\n    )\n```\n\n## API Key Authentication\n\n```python\n# app/models/api_key.py\nfrom sqlalchemy import Column, String, Boolean, ForeignKey, DateTime\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\nimport secrets\n\nclass APIKey(BaseModel):\n    \"\"\"API Key model.\"\"\"\n    __tablename__ = \"api_keys\"\n    \n    name = Column(String(100), nullable=False)\n    key_hash = Column(String(255), unique=True, nullable=False, index=True)\n    prefix = Column(String(10), nullable=False, index=True)\n    is_active = Column(Boolean, default=True, nullable=False)\n    expires_at = Column(DateTime)\n    last_used_at = Column(DateTime)\n    \n    # Foreign key\n    user_id = Column(Integer, ForeignKey(\"users.id\"), nullable=False)\n    \n    # Relationships\n    user = relationship(\"User\", back_populates=\"api_keys\")\n    \n    @classmethod\n    def generate_key(cls) -> tuple[str, str]:\n        \"\"\"Generate API key and return (key, hash).\"\"\"\n        key = secrets.token_urlsafe(32)\n        prefix = key[:8]\n        key_hash = get_password_hash(key)\n        return key, prefix, key_hash\n    \n    def verify_key(self, key: str) -> bool:\n        \"\"\"Verify API key.\"\"\"\n        return verify_password(key, self.key_hash)\n\n# Add to User model\nclass User(BaseModel):\n    # ... existing fields ...\n    \n    # Relationships\n    api_keys = relationship(\"APIKey\", back_populates=\"user\", cascade=\"all, delete-orphan\")\n```\n\n## Testing Authentication\n\n```python\n# tests/test_auth.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.core.security import create_access_token\n\n@pytest.mark.asyncio\nasync def test_register_user(client: AsyncClient):\n    \"\"\"Test user registration.\"\"\"\n    user_data = {\n        \"username\": \"testuser\",\n        \"email\": \"test@example.com\",\n        \"password\": \"testpass123\",\n        \"first_name\": \"Test\",\n        \"last_name\": \"User\"\n    }\n    \n    response = await client.post(\"/api/v1/auth/register\", json=user_data)\n    assert response.status_code == 201\n    \n    data = response.json()\n    assert data[\"username\"] == user_data[\"username\"]\n    assert data[\"email\"] == user_data[\"email\"]\n    assert \"hashed_password\" not in data\n\n@pytest.mark.asyncio\nasync def test_login_user(client: AsyncClient, test_user):\n    \"\"\"Test user login.\"\"\"\n    login_data = {\n        \"username\": test_user.username,\n        \"password\": \"testpass123\"\n    }\n    \n    response = await client.post(\n        \"/api/v1/auth/login\", \n        data=login_data,\n        headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n    )\n    \n    assert response.status_code == 200\n    \n    data = response.json()\n    assert \"access_token\" in data\n    assert \"refresh_token\" in data\n    assert data[\"token_type\"] == \"bearer\"\n\n@pytest.mark.asyncio\nasync def test_get_current_user(client: AsyncClient, test_user):\n    \"\"\"Test get current user endpoint.\"\"\"\n    token = create_access_token(subject=test_user.id)\n    headers = {\"Authorization\": f\"Bearer {token}\"}\n    \n    response = await client.get(\"/api/v1/auth/me\", headers=headers)\n    assert response.status_code == 200\n    \n    data = response.json()\n    assert data[\"username\"] == test_user.username\n    assert data[\"email\"] == test_user.email\n```\n"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# FastAPI Database Integration\n\nComplete database setup with SQLAlchemy, Alembic, and async support for FastAPI.\n\n## Usage\n\n```bash\n# Initialize Alembic\nalembic init alembic\n\n# Create migration\nalembic revision --autogenerate -m \"Initial migration\"\n\n# Apply migrations\nalembic upgrade head\n\n# Downgrade migration\nalembic downgrade -1\n```\n\n## Database Configuration\n\n```python\n# app/core/config.py\nfrom pydantic import BaseSettings, PostgresDsn, validator\nfrom typing import Optional, Dict, Any\nimport os\n\nclass Settings(BaseSettings):\n    \"\"\"Application settings.\"\"\"\n    \n    # Database\n    POSTGRES_SERVER: str = \"localhost\"\n    POSTGRES_USER: str = \"postgres\"\n    POSTGRES_PASSWORD: str = \"password\"\n    POSTGRES_DB: str = \"fastapi_app\"\n    POSTGRES_PORT: str = \"5432\"\n    DATABASE_URL: Optional[PostgresDsn] = None\n    \n    @validator(\"DATABASE_URL\", pre=True)\n    def assemble_db_connection(cls, v: Optional[str], values: Dict[str, Any]) -> Any:\n        if isinstance(v, str):\n            return v\n        return PostgresDsn.build(\n            scheme=\"postgresql+asyncpg\",\n            user=values.get(\"POSTGRES_USER\"),\n            password=values.get(\"POSTGRES_PASSWORD\"),\n            host=values.get(\"POSTGRES_SERVER\"),\n            port=values.get(\"POSTGRES_PORT\"),\n            path=f\"/{values.get('POSTGRES_DB') or ''}\",\n        )\n    \n    # Redis\n    REDIS_URL: str = \"redis://localhost:6379/0\"\n    \n    # Database settings\n    DATABASE_POOL_SIZE: int = 10\n    DATABASE_MAX_OVERFLOW: int = 20\n    DATABASE_POOL_RECYCLE: int = 3600\n    \n    class Config:\n        env_file = \".env\"\n        case_sensitive = True\n\nsettings = Settings()\n```\n\n## Database Setup\n\n```python\n# app/db/database.py\nfrom sqlalchemy.ext.asyncio import AsyncSession, create_async_engine\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy.orm import sessionmaker\nfrom app.core.config import settings\n\n# Create async engine\nengine = create_async_engine(\n    str(settings.DATABASE_URL),\n    pool_size=settings.DATABASE_POOL_SIZE,\n    max_overflow=settings.DATABASE_MAX_OVERFLOW,\n    pool_recycle=settings.DATABASE_POOL_RECYCLE,\n    pool_pre_ping=True,\n    echo=False  # Set to True for SQL debugging\n)\n\n# Create async session factory\nAsyncSessionLocal = sessionmaker(\n    engine, class_=AsyncSession, expire_on_commit=False\n)\n\n# Base class for models\nBase = declarative_base()\n\nasync def get_db() -> AsyncSession:\n    \"\"\"Dependency to get database session.\"\"\"\n    async with AsyncSessionLocal() as session:\n        try:\n            yield session\n        finally:\n            await session.close()\n\nasync def create_tables():\n    \"\"\"Create database tables.\"\"\"\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n\nasync def drop_tables():\n    \"\"\"Drop database tables.\"\"\"\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n```\n\n## Base Model\n\n```python\n# app/models/base.py\nfrom sqlalchemy import Column, Integer, DateTime, func\nfrom sqlalchemy.ext.declarative import declared_attr\nfrom app.db.database import Base\nfrom datetime import datetime\nfrom typing import Any\n\nclass TimestampMixin:\n    \"\"\"Mixin for timestamp fields.\"\"\"\n    created_at = Column(DateTime(timezone=True), server_default=func.now(), nullable=False)\n    updated_at = Column(\n        DateTime(timezone=True),\n        server_default=func.now(),\n        onupdate=func.now(),\n        nullable=False\n    )\n\nclass BaseModel(Base, TimestampMixin):\n    \"\"\"Base model with common functionality.\"\"\"\n    __abstract__ = True\n    \n    id = Column(Integer, primary_key=True, index=True)\n    \n    @declared_attr\n    def __tablename__(cls) -> str:\n        return cls.__name__.lower()\n    \n    def dict(self, exclude: set = None) -> dict[str, Any]:\n        \"\"\"Convert model to dictionary.\"\"\"\n        exclude = exclude or set()\n        return {\n            column.name: getattr(self, column.name)\n            for column in self.__table__.columns\n            if column.name not in exclude\n        }\n    \n    def __repr__(self) -> str:\n        return f\"<{self.__class__.__name__}(id={self.id})>\"\n```\n\n## Example Models\n\n```python\n# app/models/user.py\nfrom sqlalchemy import Column, String, Boolean, Text, Index\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\nfrom passlib.context import CryptContext\n\npwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\nclass User(BaseModel):\n    \"\"\"User model.\"\"\"\n    __tablename__ = \"users\"\n    \n    username = Column(String(50), unique=True, index=True, nullable=False)\n    email = Column(String(100), unique=True, index=True, nullable=False)\n    hashed_password = Column(String(255), nullable=False)\n    first_name = Column(String(50), nullable=False)\n    last_name = Column(String(50), nullable=False)\n    is_active = Column(Boolean, default=True, nullable=False)\n    is_superuser = Column(Boolean, default=False, nullable=False)\n    bio = Column(Text)\n    \n    # Relationships\n    posts = relationship(\"Post\", back_populates=\"author\", cascade=\"all, delete-orphan\")\n    \n    # Indexes\n    __table_args__ = (\n        Index('idx_user_email_active', email, is_active),\n        Index('idx_user_username_active', username, is_active),\n    )\n    \n    def verify_password(self, password: str) -> bool:\n        \"\"\"Verify password against hash.\"\"\"\n        return pwd_context.verify(password, self.hashed_password)\n    \n    @staticmethod\n    def get_password_hash(password: str) -> str:\n        \"\"\"Generate password hash.\"\"\"\n        return pwd_context.hash(password)\n    \n    def set_password(self, password: str) -> None:\n        \"\"\"Set user password.\"\"\"\n        self.hashed_password = self.get_password_hash(password)\n    \n    @property\n    def full_name(self) -> str:\n        \"\"\"Get user's full name.\"\"\"\n        return f\"{self.first_name} {self.last_name}\"\n    \n    def dict(self, exclude: set = None) -> dict:\n        \"\"\"Convert to dict excluding sensitive data.\"\"\"\n        exclude = exclude or set()\n        exclude.add('hashed_password')\n        return super().dict(exclude=exclude)\n\n# app/models/post.py\nfrom sqlalchemy import Column, String, Text, ForeignKey, Boolean, Index\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\n\nclass Post(BaseModel):\n    \"\"\"Blog post model.\"\"\"\n    __tablename__ = \"posts\"\n    \n    title = Column(String(200), nullable=False, index=True)\n    content = Column(Text, nullable=False)\n    slug = Column(String(200), unique=True, nullable=False, index=True)\n    is_published = Column(Boolean, default=False, nullable=False)\n    \n    # Foreign keys\n    author_id = Column(Integer, ForeignKey(\"users.id\"), nullable=False)\n    \n    # Relationships\n    author = relationship(\"User\", back_populates=\"posts\")\n    \n    # Indexes\n    __table_args__ = (\n        Index('idx_post_published_created', is_published, 'created_at'),\n        Index('idx_post_author_published', author_id, is_published),\n    )\n```\n\n## Repository Pattern\n\n```python\n# app/repositories/base.py\nfrom typing import Generic, TypeVar, Type, Optional, List, Dict, Any\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import select, update, delete, func\nfrom sqlalchemy.orm import selectinload\nfrom app.models.base import BaseModel\n\nModelType = TypeVar(\"ModelType\", bound=BaseModel)\n\nclass BaseRepository(Generic[ModelType]):\n    \"\"\"Base repository with common CRUD operations.\"\"\"\n    \n    def __init__(self, model: Type[ModelType], db: AsyncSession):\n        self.model = model\n        self.db = db\n    \n    async def get(self, id: int) -> Optional[ModelType]:\n        \"\"\"Get model by ID.\"\"\"\n        result = await self.db.execute(\n            select(self.model).where(self.model.id == id)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_multi(\n        self, \n        skip: int = 0, \n        limit: int = 100,\n        filters: Dict[str, Any] = None\n    ) -> List[ModelType]:\n        \"\"\"Get multiple models with pagination.\"\"\"\n        query = select(self.model)\n        \n        if filters:\n            for field, value in filters.items():\n                if hasattr(self.model, field):\n                    query = query.where(getattr(self.model, field) == value)\n        \n        query = query.offset(skip).limit(limit)\n        result = await self.db.execute(query)\n        return result.scalars().all()\n    \n    async def create(self, obj_in: Dict[str, Any]) -> ModelType:\n        \"\"\"Create new model.\"\"\"\n        db_obj = self.model(**obj_in)\n        self.db.add(db_obj)\n        await self.db.commit()\n        await self.db.refresh(db_obj)\n        return db_obj\n    \n    async def update(\n        self, \n        id: int, \n        obj_in: Dict[str, Any]\n    ) -> Optional[ModelType]:\n        \"\"\"Update model by ID.\"\"\"\n        await self.db.execute(\n            update(self.model)\n            .where(self.model.id == id)\n            .values(**obj_in)\n        )\n        await self.db.commit()\n        return await self.get(id)\n    \n    async def delete(self, id: int) -> bool:\n        \"\"\"Delete model by ID.\"\"\"\n        result = await self.db.execute(\n            delete(self.model).where(self.model.id == id)\n        )\n        await self.db.commit()\n        return result.rowcount > 0\n    \n    async def count(self, filters: Dict[str, Any] = None) -> int:\n        \"\"\"Count models with optional filters.\"\"\"\n        query = select(func.count(self.model.id))\n        \n        if filters:\n            for field, value in filters.items():\n                if hasattr(self.model, field):\n                    query = query.where(getattr(self.model, field) == value)\n        \n        result = await self.db.execute(query)\n        return result.scalar()\n\n# app/repositories/user.py\nfrom typing import Optional\nfrom sqlalchemy import select\nfrom app.models.user import User\nfrom app.repositories.base import BaseRepository\n\nclass UserRepository(BaseRepository[User]):\n    \"\"\"User repository with custom methods.\"\"\"\n    \n    async def get_by_email(self, email: str) -> Optional[User]:\n        \"\"\"Get user by email.\"\"\"\n        result = await self.db.execute(\n            select(User).where(User.email == email)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_by_username(self, username: str) -> Optional[User]:\n        \"\"\"Get user by username.\"\"\"\n        result = await self.db.execute(\n            select(User).where(User.username == username)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_active_users(self, skip: int = 0, limit: int = 100):\n        \"\"\"Get active users.\"\"\"\n        return await self.get_multi(\n            skip=skip, \n            limit=limit, \n            filters={'is_active': True}\n        )\n```\n\n## Alembic Configuration\n\n```python\n# alembic/env.py\nfrom logging.config import fileConfig\nfrom sqlalchemy import engine_from_config, pool\nfrom sqlalchemy.ext.asyncio import AsyncEngine\nfrom alembic import context\nimport asyncio\n\n# Import your models\nfrom app.models.base import Base\nfrom app.models.user import User\nfrom app.models.post import Post\nfrom app.core.config import settings\n\n# Alembic Config object\nconfig = context.config\n\n# Override database URL\nconfig.set_main_option(\"sqlalchemy.url\", str(settings.DATABASE_URL))\n\n# Interpret the config file for logging\nif config.config_file_name is not None:\n    fileConfig(config.config_file_name)\n\n# Add your model's MetaData object here\ntarget_metadata = Base.metadata\n\ndef do_run_migrations(connection):\n    context.configure(\n        connection=connection,\n        target_metadata=target_metadata,\n        compare_type=True,\n        compare_server_default=True,\n    )\n    \n    with context.begin_transaction():\n        context.run_migrations()\n\nasync def run_migrations_online():\n    \"\"\"Run migrations in 'online' mode.\"\"\"\n    configuration = config.get_section(config.config_ini_section)\n    configuration[\"sqlalchemy.url\"] = str(settings.DATABASE_URL)\n    \n    connectable = AsyncEngine(\n        engine_from_config(\n            configuration,\n            prefix=\"sqlalchemy.\",\n            poolclass=pool.NullPool,\n        )\n    )\n    \n    async with connectable.connect() as connection:\n        await connection.run_sync(do_run_migrations)\n    \n    await connectable.dispose()\n\nif context.is_offline_mode():\n    run_migrations_offline()\nelse:\n    asyncio.run(run_migrations_online())\n```\n\n## Database Utilities\n\n```python\n# app/db/utils.py\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import text\nfrom app.db.database import engine, AsyncSessionLocal\nfrom app.core.config import settings\nimport asyncio\n\nasync def check_database_connection() -> bool:\n    \"\"\"Check if database is accessible.\"\"\"\n    try:\n        async with AsyncSessionLocal() as session:\n            await session.execute(text(\"SELECT 1\"))\n            return True\n    except Exception:\n        return False\n\nasync def create_database_if_not_exists():\n    \"\"\"Create database if it doesn't exist.\"\"\"\n    # This is PostgreSQL specific\n    import asyncpg\n    from urllib.parse import urlparse\n    \n    url = urlparse(str(settings.DATABASE_URL))\n    \n    try:\n        # Connect to postgres database to create our database\n        conn = await asyncpg.connect(\n            host=url.hostname,\n            port=url.port,\n            user=url.username,\n            password=url.password,\n            database='postgres'\n        )\n        \n        # Check if database exists\n        exists = await conn.fetchval(\n            \"SELECT 1 FROM pg_database WHERE datname = $1\",\n            url.path[1:]  # Remove leading slash\n        )\n        \n        if not exists:\n            await conn.execute(f'CREATE DATABASE \"{url.path[1:]}\"')\n            print(f\"Database {url.path[1:]} created.\")\n        \n        await conn.close()\n        \n    except Exception as e:\n        print(f\"Error creating database: {e}\")\n\nasync def execute_raw_sql(sql: str, params: dict = None) -> list:\n    \"\"\"Execute raw SQL query.\"\"\"\n    async with AsyncSessionLocal() as session:\n        result = await session.execute(text(sql), params or {})\n        return result.fetchall()\n\nasync def get_table_info(table_name: str) -> dict:\n    \"\"\"Get information about a table.\"\"\"\n    sql = \"\"\"\n    SELECT \n        column_name,\n        data_type,\n        is_nullable,\n        column_default\n    FROM information_schema.columns \n    WHERE table_name = :table_name\n    ORDER BY ordinal_position;\n    \"\"\"\n    \n    result = await execute_raw_sql(sql, {'table_name': table_name})\n    return [\n        {\n            'column_name': row[0],\n            'data_type': row[1],\n            'is_nullable': row[2],\n            'column_default': row[3]\n        }\n        for row in result\n    ]\n```\n\n## Database Initialization\n\n```python\n# app/db/init_db.py\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.db.database import get_db, create_tables\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.config import settings\nimport asyncio\n\nasync def init_db() -> None:\n    \"\"\"Initialize database with tables and default data.\"\"\"\n    # Create tables\n    await create_tables()\n    print(\"Database tables created.\")\n    \n    # Create default superuser\n    async with AsyncSessionLocal() as session:\n        user_repo = UserRepository(User, session)\n        \n        # Check if superuser exists\n        existing_user = await user_repo.get_by_email(\"admin@example.com\")\n        \n        if not existing_user:\n            superuser_data = {\n                \"username\": \"admin\",\n                \"email\": \"admin@example.com\",\n                \"first_name\": \"Admin\",\n                \"last_name\": \"User\",\n                \"is_superuser\": True,\n                \"is_active\": True\n            }\n            \n            superuser = User(**superuser_data)\n            superuser.set_password(\"admin123\")\n            \n            session.add(superuser)\n            await session.commit()\n            print(\"Superuser created.\")\n        else:\n            print(\"Superuser already exists.\")\n\nif __name__ == \"__main__\":\n    asyncio.run(init_db())\n```\n\n## Testing Database\n\n```python\n# tests/conftest.py\nimport pytest\nimport asyncio\nfrom sqlalchemy.ext.asyncio import create_async_engine, AsyncSession\nfrom sqlalchemy.orm import sessionmaker\nfrom app.db.database import Base, get_db\nfrom app.main import app\nimport pytest_asyncio\n\n# Test database URL\nTEST_DATABASE_URL = \"sqlite+aiosqlite:///./test.db\"\n\n@pytest.fixture(scope=\"session\")\ndef event_loop():\n    \"\"\"Create event loop for async tests.\"\"\"\n    loop = asyncio.get_event_loop_policy().new_event_loop()\n    yield loop\n    loop.close()\n\n@pytest_asyncio.fixture(scope=\"session\")\nasync def test_engine():\n    \"\"\"Create test database engine.\"\"\"\n    engine = create_async_engine(TEST_DATABASE_URL, echo=False)\n    \n    # Create tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n    \n    yield engine\n    \n    # Drop tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n    \n    await engine.dispose()\n\n@pytest_asyncio.fixture\nasync def test_session(test_engine):\n    \"\"\"Create test database session.\"\"\"\n    TestSessionLocal = sessionmaker(\n        test_engine, class_=AsyncSession, expire_on_commit=False\n    )\n    \n    async with TestSessionLocal() as session:\n        yield session\n\n@pytest.fixture\ndef override_get_db(test_session):\n    \"\"\"Override database dependency.\"\"\"\n    async def _override_get_db():\n        yield test_session\n    \n    app.dependency_overrides[get_db] = _override_get_db\n    yield\n    app.dependency_overrides = {}\n```\n\n## Database Health Check\n\n```python\n# app/api/health.py\nfrom fastapi import APIRouter, Depends, HTTPException\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import text\nfrom app.db.database import get_db\nimport time\n\nrouter = APIRouter()\n\n@router.get(\"/health\")\nasync def health_check(db: AsyncSession = Depends(get_db)):\n    \"\"\"Health check endpoint.\"\"\"\n    checks = {\n        \"status\": \"healthy\",\n        \"timestamp\": time.time(),\n        \"database\": await check_database_health(db),\n    }\n    \n    # Determine overall status\n    if checks[\"database\"][\"status\"] != \"ok\":\n        checks[\"status\"] = \"unhealthy\"\n        raise HTTPException(status_code=503, detail=checks)\n    \n    return checks\n\nasync def check_database_health(db: AsyncSession) -> dict:\n    \"\"\"Check database connection.\"\"\"\n    try:\n        start_time = time.time()\n        await db.execute(text(\"SELECT 1\"))\n        response_time = (time.time() - start_time) * 1000  # milliseconds\n        \n        return {\n            \"status\": \"ok\",\n            \"response_time_ms\": round(response_time, 2)\n        }\n    except Exception as e:\n        return {\n            \"status\": \"error\",\n            \"error\": str(e)\n        }\n```\n"
              },
              {
                "name": "/deployment",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/deployment.md",
                "frontmatter": null,
                "content": "# FastAPI Deployment\n\nBasic production deployment setup for FastAPI applications.\n\n## Usage\n\n```bash\n# Run with Uvicorn\nuvicorn app.main:app --host 0.0.0.0 --port 8000 --workers 4\n\n# Docker deployment\ndocker build -t fastapi-app .\ndocker run -p 8000:8000 fastapi-app\n```\n\n## Production Configuration\n\n```python\n# app/core/config.py\nfrom pydantic import BaseSettings\nimport os\n\nclass Settings(BaseSettings):\n    \"\"\"Production settings.\"\"\"\n    \n    # App\n    PROJECT_NAME: str = \"FastAPI App\"\n    VERSION: str = \"1.0.0\"\n    SECRET_KEY: str = os.getenv(\"SECRET_KEY\", \"dev-key\")\n    \n    # Server\n    HOST: str = \"0.0.0.0\"\n    PORT: int = 8000\n    WORKERS: int = 4\n    \n    # Database\n    DATABASE_URL: str = os.getenv(\"DATABASE_URL\", \"sqlite:///./app.db\")\n    \n    # Redis\n    REDIS_URL: str = os.getenv(\"REDIS_URL\", \"redis://localhost:6379\")\n    \n    class Config:\n        env_file = \".env\"\n\nsettings = Settings()\n```\n\n## Docker Setup\n\n```dockerfile\n# Dockerfile\nFROM python:3.11-slim\n\nWORKDIR /app\n\n# Install dependencies\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy app\nCOPY . .\n\n# Create non-root user\nRUN useradd -m appuser && chown -R appuser:appuser /app\nUSER appuser\n\nEXPOSE 8000\n\n# Health check\nHEALTHCHECK CMD curl -f http://localhost:8000/health || exit 1\n\nCMD [\"uvicorn\", \"app.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n```\n\n## Docker Compose\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\n\nservices:\n  app:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - DATABASE_URL=postgresql://user:pass@db:5432/fastapi_db\n      - REDIS_URL=redis://redis:6379\n    depends_on:\n      - db\n      - redis\n\n  db:\n    image: postgres:15\n    environment:\n      POSTGRES_DB: fastapi_db\n      POSTGRES_USER: user\n      POSTGRES_PASSWORD: password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\n  redis:\n    image: redis:7-alpine\n    volumes:\n      - redis_data:/data\n\nvolumes:\n  postgres_data:\n  redis_data:\n```\n\n## Environment Variables\n\n```bash\n# .env\nSECRET_KEY=your-secret-key\nDATABASE_URL=postgresql://user:pass@localhost/fastapi_db\nREDIS_URL=redis://localhost:6379\n```\n\n## Health Check\n\n```python\n# app/api/health.py\nfrom fastapi import APIRouter\nfrom app.core.config import settings\n\nrouter = APIRouter()\n\n@router.get(\"/health\")\nasync def health_check():\n    return {\n        \"status\": \"healthy\",\n        \"version\": settings.VERSION\n    }\n```\n\n## Deployment Script\n\n```bash\n#!/bin/bash\n# deploy.sh\n\nset -e\n\necho \"Deploying FastAPI app...\"\n\n# Build and deploy\ndocker-compose build\ndocker-compose up -d\n\n# Health check\necho \"Checking health...\"\nif curl -f http://localhost:8000/health; then\n    echo \"‚úÖ Deployment successful!\"\nelse\n    echo \"‚ùå Deployment failed!\"\n    exit 1\nfi\n```\n"
              },
              {
                "name": "/testing",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/testing.md",
                "frontmatter": null,
                "content": "# FastAPI Testing Framework\n\nComprehensive testing setup for FastAPI applications with pytest and async support.\n\n## Usage\n\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=app --cov-report=html\n\n# Run specific test file\npytest tests/test_api.py\n\n# Run with verbose output\npytest -v -s\n```\n\n## Test Configuration\n\n```python\n# pytest.ini\n[tool:pytest]\ntestpaths = tests\npython_files = test_*.py\npython_classes = Test*\npython_functions = test_*\naddopts = \n    --cov=app\n    --cov-report=term-missing\n    --cov-report=html:htmlcov\n    --asyncio-mode=auto\n    --strict-markers\n    --disable-warnings\nmarkers =\n    unit: Unit tests\n    integration: Integration tests\n    e2e: End-to-end tests\n    slow: Slow running tests\n    auth: Authentication tests\n    api: API tests\nasyncio_mode = auto\n```\n\n## Test Dependencies\n\n```python\n# requirements/test.txt\npytest>=7.0.0\npytest-asyncio>=0.21.0\npytest-cov>=4.0.0\nhttpx>=0.24.0\nfactory-boy>=3.2.0\nfaker>=18.0.0\nrespx>=0.20.0\npytest-mock>=3.10.0\n```\n\n## Test Fixtures\n\n```python\n# tests/conftest.py\nimport pytest\nimport asyncio\nfrom typing import AsyncGenerator, Generator\nfrom fastapi.testclient import TestClient\nfrom httpx import AsyncClient\nfrom sqlalchemy.ext.asyncio import create_async_engine, AsyncSession\nfrom sqlalchemy.orm import sessionmaker\nfrom app.main import app\nfrom app.db.database import get_db, Base\nfrom app.models.user import User\nfrom app.core.security import get_password_hash\nfrom tests.factories import UserFactory\n\n# Test database URL\nTEST_DATABASE_URL = \"sqlite+aiosqlite:///./test.db\"\n\n@pytest.fixture(scope=\"session\")\ndef event_loop() -> Generator[asyncio.AbstractEventLoop, None, None]:\n    \"\"\"Create event loop for the test session.\"\"\"\n    loop = asyncio.get_event_loop_policy().new_event_loop()\n    yield loop\n    loop.close()\n\n@pytest.fixture(scope=\"session\")\nasync def test_engine():\n    \"\"\"Create test database engine.\"\"\"\n    engine = create_async_engine(\n        TEST_DATABASE_URL,\n        echo=False,\n        future=True\n    )\n    \n    # Create tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n    \n    yield engine\n    \n    # Drop tables and dispose engine\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n    \n    await engine.dispose()\n\n@pytest.fixture\nasync def db_session(test_engine) -> AsyncGenerator[AsyncSession, None]:\n    \"\"\"Create database session for testing.\"\"\"\n    TestSessionLocal = sessionmaker(\n        test_engine, \n        class_=AsyncSession, \n        expire_on_commit=False\n    )\n    \n    async with TestSessionLocal() as session:\n        yield session\n\n@pytest.fixture\ndef override_get_db(db_session: AsyncSession) -> Generator:\n    \"\"\"Override database dependency.\"\"\"\n    async def _override_get_db():\n        yield db_session\n    \n    app.dependency_overrides[get_db] = _override_get_db\n    yield\n    app.dependency_overrides = {}\n\n@pytest.fixture\ndef client(override_get_db) -> Generator[TestClient, None, None]:\n    \"\"\"Create test client.\"\"\"\n    with TestClient(app) as test_client:\n        yield test_client\n\n@pytest.fixture\nasync def async_client(override_get_db) -> AsyncGenerator[AsyncClient, None]:\n    \"\"\"Create async test client.\"\"\"\n    async with AsyncClient(app=app, base_url=\"http://test\") as ac:\n        yield ac\n\n@pytest.fixture\nasync def test_user(db_session: AsyncSession) -> User:\n    \"\"\"Create test user.\"\"\"\n    user_data = {\n        \"username\": \"testuser\",\n        \"email\": \"test@example.com\",\n        \"hashed_password\": get_password_hash(\"testpass123\"),\n        \"first_name\": \"Test\",\n        \"last_name\": \"User\",\n        \"is_active\": True,\n        \"is_superuser\": False\n    }\n    \n    user = User(**user_data)\n    db_session.add(user)\n    await db_session.commit()\n    await db_session.refresh(user)\n    return user\n\n@pytest.fixture\nasync def superuser(db_session: AsyncSession) -> User:\n    \"\"\"Create superuser.\"\"\"\n    user_data = {\n        \"username\": \"admin\",\n        \"email\": \"admin@example.com\",\n        \"hashed_password\": get_password_hash(\"adminpass123\"),\n        \"first_name\": \"Admin\",\n        \"last_name\": \"User\",\n        \"is_active\": True,\n        \"is_superuser\": True\n    }\n    \n    user = User(**user_data)\n    db_session.add(user)\n    await db_session.commit()\n    await db_session.refresh(user)\n    return user\n\n@pytest.fixture\ndef user_token(test_user: User) -> str:\n    \"\"\"Create authentication token for test user.\"\"\"\n    from app.core.security import create_access_token\n    return create_access_token(subject=test_user.id)\n\n@pytest.fixture\ndef superuser_token(superuser: User) -> str:\n    \"\"\"Create authentication token for superuser.\"\"\"\n    from app.core.security import create_access_token\n    return create_access_token(subject=superuser.id)\n\n@pytest.fixture\ndef auth_headers(user_token: str) -> dict[str, str]:\n    \"\"\"Create authorization headers.\"\"\"\n    return {\"Authorization\": f\"Bearer {user_token}\"}\n\n@pytest.fixture\ndef superuser_headers(superuser_token: str) -> dict[str, str]:\n    \"\"\"Create superuser authorization headers.\"\"\"\n    return {\"Authorization\": f\"Bearer {superuser_token}\"}\n```\n\n## Test Factories\n\n```python\n# tests/factories.py\nimport factory\nfrom factory import Faker, SubFactory\nfrom app.models.user import User\nfrom app.models.post import Post\nfrom app.core.security import get_password_hash\n\nclass UserFactory(factory.Factory):\n    \"\"\"Factory for User model.\"\"\"\n    \n    class Meta:\n        model = User\n    \n    username = Faker('user_name')\n    email = Faker('email')\n    first_name = Faker('first_name')\n    last_name = Faker('last_name')\n    hashed_password = factory.LazyAttribute(lambda obj: get_password_hash('testpass123'))\n    is_active = True\n    is_superuser = False\n    bio = Faker('text', max_nb_chars=200)\n\nclass SuperUserFactory(UserFactory):\n    \"\"\"Factory for superuser.\"\"\"\n    username = 'admin'\n    email = 'admin@example.com'\n    first_name = 'Admin'\n    last_name = 'User'\n    is_superuser = True\n\nclass PostFactory(factory.Factory):\n    \"\"\"Factory for Post model.\"\"\"\n    \n    class Meta:\n        model = Post\n    \n    title = Faker('sentence', nb_words=4)\n    content = Faker('text', max_nb_chars=1000)\n    slug = Faker('slug')\n    is_published = True\n    author = SubFactory(UserFactory)\n\nclass InactiveUserFactory(UserFactory):\n    \"\"\"Factory for inactive user.\"\"\"\n    is_active = False\n```\n\n## API Testing\n\n```python\n# tests/test_api/test_users.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom tests.factories import UserFactory\n\nclass TestUserAPI:\n    \"\"\"Test User API endpoints.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(\n        self, \n        async_client: AsyncClient, \n        superuser_headers: dict\n    ):\n        \"\"\"Test POST /api/v1/users/.\"\"\"\n        user_data = {\n            \"username\": \"newuser\",\n            \"email\": \"new@example.com\",\n            \"password\": \"newpass123\",\n            \"first_name\": \"New\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/users/\",\n            json=user_data,\n            headers=superuser_headers\n        )\n        \n        assert response.status_code == 201\n        data = response.json()\n        assert data[\"username\"] == user_data[\"username\"]\n        assert data[\"email\"] == user_data[\"email\"]\n        assert \"password\" not in data\n        assert \"hashed_password\" not in data\n    \n    @pytest.mark.asyncio\n    async def test_get_users(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test GET /api/v1/users/.\"\"\"\n        response = await async_client.get(\n            \"/api/v1/users/\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"items\" in data\n        assert \"total\" in data\n        assert \"page\" in data\n        assert \"size\" in data\n        assert len(data[\"items\"]) >= 1\n    \n    @pytest.mark.asyncio\n    async def test_get_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test GET /api/v1/users/{id}.\"\"\"\n        response = await async_client.get(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"id\"] == test_user.id\n        assert data[\"username\"] == test_user.username\n        assert data[\"email\"] == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_update_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test PUT /api/v1/users/{id}.\"\"\"\n        update_data = {\n            \"first_name\": \"Updated\",\n            \"last_name\": \"Name\",\n            \"bio\": \"Updated bio\"\n        }\n        \n        response = await async_client.put(\n            f\"/api/v1/users/{test_user.id}\",\n            json=update_data,\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"first_name\"] == update_data[\"first_name\"]\n        assert data[\"last_name\"] == update_data[\"last_name\"]\n        assert data[\"bio\"] == update_data[\"bio\"]\n    \n    @pytest.mark.asyncio\n    async def test_delete_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        superuser_headers: dict\n    ):\n        \"\"\"Test DELETE /api/v1/users/{id}.\"\"\"\n        response = await async_client.delete(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=superuser_headers\n        )\n        \n        assert response.status_code == 204\n        \n        # Verify user is deleted\n        get_response = await async_client.get(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=superuser_headers\n        )\n        assert get_response.status_code == 404\n    \n    @pytest.mark.asyncio\n    async def test_unauthorized_access(self, async_client: AsyncClient):\n        \"\"\"Test unauthorized access to protected endpoints.\"\"\"\n        response = await async_client.get(\"/api/v1/users/\")\n        assert response.status_code == 401\n    \n    @pytest.mark.asyncio\n    async def test_forbidden_access(\n        self, \n        async_client: AsyncClient, \n        auth_headers: dict\n    ):\n        \"\"\"Test forbidden access to admin endpoints.\"\"\"\n        user_data = {\n            \"username\": \"unauthorized\",\n            \"email\": \"unauthorized@example.com\",\n            \"password\": \"pass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/users/\",\n            json=user_data,\n            headers=auth_headers  # Regular user, not superuser\n        )\n        \n        assert response.status_code == 403\n```\n\n## Authentication Testing\n\n```python\n# tests/test_api/test_auth.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom app.core.security import create_access_token, decode_token\n\nclass TestAuthAPI:\n    \"\"\"Test authentication API endpoints.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_register(\n        self, \n        async_client: AsyncClient\n    ):\n        \"\"\"Test user registration.\"\"\"\n        user_data = {\n            \"username\": \"newuser\",\n            \"email\": \"new@example.com\",\n            \"password\": \"newpass123\",\n            \"first_name\": \"New\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/register\",\n            json=user_data\n        )\n        \n        assert response.status_code == 201\n        data = response.json()\n        assert data[\"username\"] == user_data[\"username\"]\n        assert data[\"email\"] == user_data[\"email\"]\n        assert \"password\" not in data\n    \n    @pytest.mark.asyncio\n    async def test_register_duplicate_email(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test registration with duplicate email.\"\"\"\n        user_data = {\n            \"username\": \"different\",\n            \"email\": test_user.email,  # Duplicate email\n            \"password\": \"pass123\",\n            \"first_name\": \"Test\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/register\",\n            json=user_data\n        )\n        \n        assert response.status_code == 400\n        assert \"Email already registered\" in response.json()[\"detail\"]\n    \n    @pytest.mark.asyncio\n    async def test_login(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test user login.\"\"\"\n        login_data = {\n            \"username\": test_user.username,\n            \"password\": \"testpass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/login\",\n            data=login_data,\n            headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"access_token\" in data\n        assert \"refresh_token\" in data\n        assert data[\"token_type\"] == \"bearer\"\n        assert \"expires_in\" in data\n        \n        # Verify token is valid\n        payload = decode_token(data[\"access_token\"])\n        assert payload is not None\n        assert payload[\"sub\"] == str(test_user.id)\n    \n    @pytest.mark.asyncio\n    async def test_login_invalid_credentials(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test login with invalid credentials.\"\"\"\n        login_data = {\n            \"username\": test_user.username,\n            \"password\": \"wrongpassword\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/login\",\n            data=login_data,\n            headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n        )\n        \n        assert response.status_code == 401\n        assert \"Incorrect username or password\" in response.json()[\"detail\"]\n    \n    @pytest.mark.asyncio\n    async def test_get_current_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test get current user endpoint.\"\"\"\n        response = await async_client.get(\n            \"/api/v1/auth/me\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"id\"] == test_user.id\n        assert data[\"username\"] == test_user.username\n        assert data[\"email\"] == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_refresh_token(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test token refresh.\"\"\"\n        from app.core.security import create_refresh_token\n        \n        refresh_token = create_refresh_token(subject=test_user.id)\n        \n        response = await async_client.post(\n            \"/api/v1/auth/refresh\",\n            json={\"refresh_token\": refresh_token}\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"access_token\" in data\n        assert \"refresh_token\" in data\n        assert data[\"token_type\"] == \"bearer\"\n    \n    @pytest.mark.asyncio\n    async def test_change_password(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test password change.\"\"\"\n        password_data = {\n            \"current_password\": \"testpass123\",\n            \"new_password\": \"newpass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/change-password\",\n            json=password_data,\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        assert \"Password changed successfully\" in response.json()[\"message\"]\n```\n\n## Model Testing\n\n```python\n# tests/test_models/test_user.py\nimport pytest\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.models.user import User\nfrom app.core.security import verify_password, get_password_hash\n\nclass TestUserModel:\n    \"\"\"Test User model.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(self, db_session: AsyncSession):\n        \"\"\"Test user creation.\"\"\"\n        user_data = {\n            \"username\": \"testuser\",\n            \"email\": \"test@example.com\",\n            \"hashed_password\": get_password_hash(\"password123\"),\n            \"first_name\": \"Test\",\n            \"last_name\": \"User\"\n        }\n        \n        user = User(**user_data)\n        db_session.add(user)\n        await db_session.commit()\n        await db_session.refresh(user)\n        \n        assert user.id is not None\n        assert user.username == \"testuser\"\n        assert user.email == \"test@example.com\"\n        assert user.full_name == \"Test User\"\n        assert user.is_active is True\n        assert user.is_superuser is False\n        assert user.created_at is not None\n        assert user.updated_at is not None\n    \n    def test_password_verification(self):\n        \"\"\"Test password verification.\"\"\"\n        password = \"testpassword123\"\n        hashed = get_password_hash(password)\n        \n        user = User(\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=hashed,\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        assert user.verify_password(password)\n        assert not user.verify_password(\"wrongpassword\")\n    \n    def test_user_dict_excludes_password(self):\n        \"\"\"Test that dict() method excludes password.\"\"\"\n        user = User(\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=\"hashed_password\",\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        user_dict = user.dict()\n        assert \"hashed_password\" not in user_dict\n        assert \"username\" in user_dict\n        assert \"email\" in user_dict\n    \n    def test_user_repr(self):\n        \"\"\"Test user string representation.\"\"\"\n        user = User(\n            id=1,\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=\"hash\",\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        assert repr(user) == \"<User(id=1)>\"\n```\n\n## Repository Testing\n\n```python\n# tests/test_repositories/test_user.py\nimport pytest\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.security import get_password_hash\n\nclass TestUserRepository:\n    \"\"\"Test UserRepository.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(self, db_session: AsyncSession):\n        \"\"\"Test user creation through repository.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        user_data = {\n            \"username\": \"repouser\",\n            \"email\": \"repo@example.com\",\n            \"hashed_password\": get_password_hash(\"password123\"),\n            \"first_name\": \"Repo\",\n            \"last_name\": \"User\"\n        }\n        \n        user = await repo.create(user_data)\n        \n        assert user.id is not None\n        assert user.username == \"repouser\"\n        assert user.email == \"repo@example.com\"\n    \n    @pytest.mark.asyncio\n    async def test_get_by_email(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test get user by email.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        found_user = await repo.get_by_email(test_user.email)\n        \n        assert found_user is not None\n        assert found_user.id == test_user.id\n        assert found_user.email == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_get_by_username(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test get user by username.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        found_user = await repo.get_by_username(test_user.username)\n        \n        assert found_user is not None\n        assert found_user.id == test_user.id\n        assert found_user.username == test_user.username\n    \n    @pytest.mark.asyncio\n    async def test_get_multi_with_pagination(\n        self, \n        db_session: AsyncSession, \n        test_user: User\n    ):\n        \"\"\"Test get multiple users with pagination.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        # Create additional users\n        for i in range(5):\n            user_data = {\n                \"username\": f\"user{i}\",\n                \"email\": f\"user{i}@example.com\",\n                \"hashed_password\": get_password_hash(\"password123\"),\n                \"first_name\": f\"User{i}\",\n                \"last_name\": \"Test\"\n            }\n            await repo.create(user_data)\n        \n        # Test pagination\n        users = await repo.get_multi(skip=0, limit=3)\n        assert len(users) == 3\n        \n        users_page_2 = await repo.get_multi(skip=3, limit=3)\n        assert len(users_page_2) >= 1  # At least test_user\n    \n    @pytest.mark.asyncio\n    async def test_update_user(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test user update.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        updated_user = await repo.update(test_user.id, {\n            \"first_name\": \"Updated\",\n            \"bio\": \"Updated bio\"\n        })\n        \n        assert updated_user is not None\n        assert updated_user.first_name == \"Updated\"\n        assert updated_user.bio == \"Updated bio\"\n    \n    @pytest.mark.asyncio\n    async def test_delete_user(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test user deletion.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        result = await repo.delete(test_user.id)\n        assert result is True\n        \n        # Verify user is deleted\n        deleted_user = await repo.get(test_user.id)\n        assert deleted_user is None\n```\n\n## Performance Testing\n\n```python\n# tests/test_performance.py\nimport pytest\nimport time\nimport asyncio\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom tests.factories import UserFactory\n\n@pytest.mark.slow\nclass TestPerformance:\n    \"\"\"Test application performance.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_concurrent_requests(\n        self, \n        async_client: AsyncClient,\n        auth_headers: dict\n    ):\n        \"\"\"Test concurrent API requests.\"\"\"\n        \n        async def make_request():\n            response = await async_client.get(\n                \"/api/v1/users/\",\n                headers=auth_headers\n            )\n            return response.status_code\n        \n        # Make 10 concurrent requests\n        start_time = time.time()\n        tasks = [make_request() for _ in range(10)]\n        results = await asyncio.gather(*tasks)\n        end_time = time.time()\n        \n        # All requests should succeed\n        assert all(status == 200 for status in results)\n        \n        # Should complete within reasonable time\n        assert (end_time - start_time) < 5.0\n    \n    @pytest.mark.asyncio\n    async def test_large_dataset_pagination(\n        self, \n        async_client: AsyncClient,\n        db_session,\n        auth_headers: dict\n    ):\n        \"\"\"Test pagination with large dataset.\"\"\"\n        # Create 100 users\n        users = []\n        for i in range(100):\n            user = UserFactory.build()\n            users.append(user)\n        \n        db_session.add_all(users)\n        await db_session.commit()\n        \n        # Test pagination performance\n        start_time = time.time()\n        response = await async_client.get(\n            \"/api/v1/users/?skip=0&limit=50\",\n            headers=auth_headers\n        )\n        end_time = time.time()\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert len(data[\"items\"]) == 50\n        \n        # Should complete quickly\n        assert (end_time - start_time) < 1.0\n```\n\n## Mocking External Services\n\n```python\n# tests/test_external.py\nimport pytest\nimport respx\nimport httpx\nfrom app.services.email import EmailService\n\nclass TestExternalServices:\n    \"\"\"Test external service integrations.\"\"\"\n    \n    @pytest.mark.asyncio\n    @respx.mock\n    async def test_email_service(\n        self, \n        async_client: AsyncClient\n    ):\n        \"\"\"Test email service with mocked external API.\"\"\"\n        # Mock email service API\n        respx.post(\"https://api.emailservice.com/send\").mock(\n            return_value=httpx.Response(\n                200, \n                json={\"message\": \"Email sent successfully\"}\n            )\n        )\n        \n        email_service = EmailService()\n        result = await email_service.send_email(\n            to=\"test@example.com\",\n            subject=\"Test\",\n            body=\"Test email\"\n        )\n        \n        assert result[\"success\"] is True\n```\n\n## Test Utilities\n\n```python\n# tests/utils.py\nfrom typing import Dict, Any\nfrom httpx import Response\nimport json\n\ndef assert_response_status(response: Response, expected_status: int = 200):\n    \"\"\"Assert response status code.\"\"\"\n    assert response.status_code == expected_status, f\"Expected {expected_status}, got {response.status_code}. Response: {response.text}\"\n\ndef assert_response_json(response: Response, expected_keys: list[str] = None):\n    \"\"\"Assert response is valid JSON with expected keys.\"\"\"\n    assert response.headers.get(\"content-type\") == \"application/json\"\n    data = response.json()\n    \n    if expected_keys:\n        for key in expected_keys:\n            assert key in data, f\"Missing key '{key}' in response\"\n    \n    return data\n\ndef create_auth_headers(token: str) -> Dict[str, str]:\n    \"\"\"Create authorization headers with token.\"\"\"\n    return {\"Authorization\": f\"Bearer {token}\"}\n\nasync def create_test_users(db_session, count: int = 5) -> list:\n    \"\"\"Create multiple test users.\"\"\"\n    from tests.factories import UserFactory\n    \n    users = []\n    for i in range(count):\n        user = UserFactory.build()\n        users.append(user)\n    \n    db_session.add_all(users)\n    await db_session.commit()\n    \n    return users\n```\n"
              },
              {
                "name": "/app-factory",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/app-factory.md",
                "frontmatter": null,
                "content": "# Flask Application Factory Pattern\n\nCreate a scalable Flask application using the factory pattern with blueprints and configuration management.\n\n## Purpose\n\nThis command helps you set up a Flask application using the application factory pattern, which is the recommended approach for larger Flask applications.\n\n## Usage\n\n```\n/app-factory\n```\n\n## What this command does\n\n1. **Creates application factory** with proper structure\n2. **Sets up configuration management** for different environments\n3. **Implements blueprints** for modular design\n4. **Configures extensions** (database, auth, etc.)\n5. **Adds error handling** and logging\n\n## Example Output\n\n```python\n# app/__init__.py\nfrom flask import Flask\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom flask_login import LoginManager\nfrom flask_mail import Mail\nfrom flask_wtf.csrf import CSRFProtect\nfrom flask_cors import CORS\nimport logging\nfrom logging.handlers import RotatingFileHandler\nimport os\n\n# Initialize extensions\ndb = SQLAlchemy()\nmigrate = Migrate()\nlogin = LoginManager()\nmail = Mail()\ncsrf = CSRFProtect()\ncors = CORS()\n\ndef create_app(config_class=None):\n    \"\"\"Application factory function.\"\"\"\n    app = Flask(__name__)\n    \n    # Load configuration\n    if config_class is None:\n        config_class = os.environ.get('FLASK_CONFIG', 'development')\n    \n    if isinstance(config_class, str):\n        from app.config import config\n        app.config.from_object(config[config_class])\n    else:\n        app.config.from_object(config_class)\n    \n    # Initialize extensions\n    db.init_app(app)\n    migrate.init_app(app, db)\n    login.init_app(app)\n    mail.init_app(app)\n    csrf.init_app(app)\n    cors.init_app(app)\n    \n    # Configure login manager\n    login.login_view = 'auth.login'\n    login.login_message = 'Please log in to access this page.'\n    login.login_message_category = 'info'\n    \n    # Register blueprints\n    from app.main import bp as main_bp\n    app.register_blueprint(main_bp)\n    \n    from app.auth import bp as auth_bp\n    app.register_blueprint(auth_bp, url_prefix='/auth')\n    \n    from app.api import bp as api_bp\n    app.register_blueprint(api_bp, url_prefix='/api')\n    \n    from app.admin import bp as admin_bp\n    app.register_blueprint(admin_bp, url_prefix='/admin')\n    \n    # Error handlers\n    from app.errors import bp as errors_bp\n    app.register_blueprint(errors_bp)\n    \n    # Configure logging\n    if not app.debug and not app.testing:\n        if not os.path.exists('logs'):\n            os.mkdir('logs')\n        \n        file_handler = RotatingFileHandler(\n            'logs/app.log', \n            maxBytes=10240, \n            backupCount=10\n        )\n        file_handler.setFormatter(logging.Formatter(\n            '%(asctime)s %(levelname)s: %(message)s [in %(pathname)s:%(lineno)d]'\n        ))\n        file_handler.setLevel(logging.INFO)\n        app.logger.addHandler(file_handler)\n        \n        app.logger.setLevel(logging.INFO)\n        app.logger.info('Flask application startup')\n    \n    return app\n\n# Import models (avoid circular imports)\nfrom app import models\n```\n\n```python\n# app/config.py\nimport os\nfrom dotenv import load_dotenv\n\nbasedir = os.path.abspath(os.path.dirname(__file__))\nload_dotenv(os.path.join(basedir, '.env'))\n\nclass Config:\n    \"\"\"Base configuration class.\"\"\"\n    SECRET_KEY = os.environ.get('SECRET_KEY') or 'dev-secret-key'\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app.db')\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    \n    # Mail configuration\n    MAIL_SERVER = os.environ.get('MAIL_SERVER')\n    MAIL_PORT = int(os.environ.get('MAIL_PORT') or 587)\n    MAIL_USE_TLS = os.environ.get('MAIL_USE_TLS', 'true').lower() in ['true', 'on', '1']\n    MAIL_USERNAME = os.environ.get('MAIL_USERNAME')\n    MAIL_PASSWORD = os.environ.get('MAIL_PASSWORD')\n    ADMIN_EMAIL = os.environ.get('ADMIN_EMAIL')\n    \n    # Pagination\n    POSTS_PER_PAGE = 10\n    USERS_PER_PAGE = 50\n    \n    # Upload configuration\n    MAX_CONTENT_LENGTH = 16 * 1024 * 1024  # 16MB\n    UPLOAD_FOLDER = os.path.join(basedir, 'uploads')\n    \n    @staticmethod\n    def init_app(app):\n        pass\n\nclass DevelopmentConfig(Config):\n    \"\"\"Development configuration.\"\"\"\n    DEBUG = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DEV_DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app-dev.db')\n\nclass TestingConfig(Config):\n    \"\"\"Testing configuration.\"\"\"\n    TESTING = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('TEST_DATABASE_URL') or 'sqlite://'\n    WTF_CSRF_ENABLED = False\n\nclass ProductionConfig(Config):\n    \"\"\"Production configuration.\"\"\"\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app.db')\n    \n    @classmethod\n    def init_app(cls, app):\n        Config.init_app(app)\n        \n        # Log to stderr\n        import logging\n        from logging import StreamHandler\n        file_handler = StreamHandler()\n        file_handler.setLevel(logging.INFO)\n        app.logger.addHandler(file_handler)\n\nconfig = {\n    'development': DevelopmentConfig,\n    'testing': TestingConfig,\n    'production': ProductionConfig,\n    'default': DevelopmentConfig\n}\n```\n\n```python\n# app/main/__init__.py\nfrom flask import Blueprint\n\nbp = Blueprint('main', __name__)\n\nfrom app.main import routes\n```\n\n```python\n# app/main/routes.py\nfrom flask import render_template, request, current_app\nfrom app.main import bp\nfrom app.models import Post\n\n@bp.route('/')\n@bp.route('/index')\ndef index():\n    \"\"\"Home page.\"\"\"\n    page = request.args.get('page', 1, type=int)\n    posts = Post.query.filter_by(published=True).order_by(\n        Post.created_at.desc()\n    ).paginate(\n        page=page,\n        per_page=current_app.config['POSTS_PER_PAGE'],\n        error_out=False\n    )\n    \n    return render_template('index.html', posts=posts)\n\n@bp.route('/about')\ndef about():\n    \"\"\"About page.\"\"\"\n    return render_template('about.html')\n```\n\n```python\n# app/auth/__init__.py\nfrom flask import Blueprint\n\nbp = Blueprint('auth', __name__)\n\nfrom app.auth import routes\n```\n\n```python\n# app/auth/routes.py\nfrom flask import render_template, redirect, url_for, flash, request\nfrom flask_login import login_user, logout_user, login_required, current_user\nfrom werkzeug.urls import url_parse\nfrom app import db\nfrom app.auth import bp\nfrom app.auth.forms import LoginForm, RegistrationForm\nfrom app.models import User\n\n@bp.route('/login', methods=['GET', 'POST'])\ndef login():\n    \"\"\"User login.\"\"\"\n    if current_user.is_authenticated:\n        return redirect(url_for('main.index'))\n    \n    form = LoginForm()\n    if form.validate_on_submit():\n        user = User.query.filter_by(username=form.username.data).first()\n        if user is None or not user.check_password(form.password.data):\n            flash('Invalid username or password', 'error')\n            return redirect(url_for('auth.login'))\n        \n        login_user(user, remember=form.remember_me.data)\n        \n        next_page = request.args.get('next')\n        if not next_page or url_parse(next_page).netloc != '':\n            next_page = url_for('main.index')\n        \n        return redirect(next_page)\n    \n    return render_template('auth/login.html', form=form)\n\n@bp.route('/logout')\n@login_required\ndef logout():\n    \"\"\"User logout.\"\"\"\n    logout_user()\n    flash('You have been logged out.', 'info')\n    return redirect(url_for('main.index'))\n\n@bp.route('/register', methods=['GET', 'POST'])\ndef register():\n    \"\"\"User registration.\"\"\"\n    if current_user.is_authenticated:\n        return redirect(url_for('main.index'))\n    \n    form = RegistrationForm()\n    if form.validate_on_submit():\n        user = User(username=form.username.data, email=form.email.data)\n        user.set_password(form.password.data)\n        db.session.add(user)\n        db.session.commit()\n        \n        flash('Registration successful!', 'success')\n        return redirect(url_for('auth.login'))\n    \n    return render_template('auth/register.html', form=form)\n```\n\n```python\n# app/models.py\nfrom app import db, login\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom flask_login import UserMixin\nfrom datetime import datetime\n\nclass User(UserMixin, db.Model):\n    \"\"\"User model.\"\"\"\n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(64), index=True, unique=True)\n    email = db.Column(db.String(120), index=True, unique=True)\n    password_hash = db.Column(db.String(128))\n    created_at = db.Column(db.DateTime, index=True, default=datetime.utcnow)\n    \n    posts = db.relationship('Post', backref='author', lazy='dynamic')\n    \n    def set_password(self, password):\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        return check_password_hash(self.password_hash, password)\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n\n@login.user_loader\ndef load_user(id):\n    return User.query.get(int(id))\n\nclass Post(db.Model):\n    \"\"\"Post model.\"\"\"\n    id = db.Column(db.Integer, primary_key=True)\n    title = db.Column(db.String(100), nullable=False)\n    content = db.Column(db.Text, nullable=False)\n    published = db.Column(db.Boolean, default=False)\n    created_at = db.Column(db.DateTime, index=True, default=datetime.utcnow)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\n    \n    user_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=False)\n    \n    def __repr__(self):\n        return f'<Post {self.title}>'\n```\n\n```python\n# app.py (main application entry point)\nfrom app import create_app, db\nfrom app.models import User, Post\n\napp = create_app()\n\n@app.shell_context_processor\ndef make_shell_context():\n    \"\"\"Add models to shell context.\"\"\"\n    return {'db': db, 'User': User, 'Post': Post}\n\nif __name__ == '__main__':\n    app.run(debug=True)\n```\n\n## Project Structure\n\n```\nproject/\n‚îú‚îÄ‚îÄ app/\n‚îÇ   ‚îú‚îÄ‚îÄ __init__.py         # Application factory\n‚îÇ   ‚îú‚îÄ‚îÄ config.py           # Configuration classes\n‚îÇ   ‚îú‚îÄ‚îÄ models.py           # Database models\n‚îÇ   ‚îú‚îÄ‚îÄ main/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # Main blueprint\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.py       # Main routes\n‚îÇ   ‚îú‚îÄ‚îÄ auth/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # Auth blueprint\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes.py       # Auth routes\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ forms.py        # Auth forms\n‚îÇ   ‚îú‚îÄ‚îÄ api/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # API blueprint\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.py       # API routes\n‚îÇ   ‚îî‚îÄ‚îÄ templates/          # Jinja2 templates\n‚îú‚îÄ‚îÄ migrations/             # Database migrations\n‚îú‚îÄ‚îÄ logs/                   # Application logs\n‚îú‚îÄ‚îÄ app.py                  # Application entry point\n‚îú‚îÄ‚îÄ requirements.txt        # Dependencies\n‚îî‚îÄ‚îÄ .env                    # Environment variables\n```\n\n## Benefits of Application Factory\n\n- **Testing**: Easy to create app instances with different configs\n- **Scalability**: Modular design with blueprints\n- **Configuration**: Environment-specific settings\n- **Extensions**: Proper initialization order\n- **Maintainability**: Clear separation of concerns"
              },
              {
                "name": "/blueprint",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/blueprint.md",
                "frontmatter": null,
                "content": "# Flask Blueprint Generator\n\nCreate organized Flask blueprints for modular application structure.\n\n## Usage\n\n```bash\n# Create a new blueprint\nflask create-blueprint users\nflask create-blueprint api/v1\n```\n\n## Blueprint Structure\n\nGenerates a complete blueprint with:\n- Routes and view functions\n- Error handlers\n- Template folder structure\n- Static file organization\n\n## Example Blueprint\n\n```python\n# app/blueprints/users/__init__.py\nfrom flask import Blueprint\n\nusers_bp = Blueprint(\n    'users',\n    __name__,\n    url_prefix='/users',\n    template_folder='templates',\n    static_folder='static'\n)\n\nfrom . import routes, models\n\n# app/blueprints/users/routes.py\nfrom flask import render_template, request, redirect, url_for, flash\nfrom . import users_bp\nfrom .models import User\nfrom .forms import UserForm\n\n@users_bp.route('/')\ndef index():\n    \"\"\"List all users.\"\"\"\n    users = User.query.all()\n    return render_template('users/index.html', users=users)\n\n@users_bp.route('/create', methods=['GET', 'POST'])\ndef create():\n    \"\"\"Create a new user.\"\"\"\n    form = UserForm()\n    if form.validate_on_submit():\n        user = User(\n            username=form.username.data,\n            email=form.email.data\n        )\n        user.save()\n        flash('User created successfully!', 'success')\n        return redirect(url_for('users.index'))\n    return render_template('users/create.html', form=form)\n\n@users_bp.route('/<int:user_id>')\ndef detail(user_id):\n    \"\"\"Show user details.\"\"\"\n    user = User.query.get_or_404(user_id)\n    return render_template('users/detail.html', user=user)\n\n@users_bp.route('/<int:user_id>/edit', methods=['GET', 'POST'])\ndef edit(user_id):\n    \"\"\"Edit an existing user.\"\"\"\n    user = User.query.get_or_404(user_id)\n    form = UserForm(obj=user)\n    if form.validate_on_submit():\n        user.username = form.username.data\n        user.email = form.email.data\n        user.save()\n        flash('User updated successfully!', 'success')\n        return redirect(url_for('users.detail', user_id=user.id))\n    return render_template('users/edit.html', form=form, user=user)\n\n@users_bp.route('/<int:user_id>/delete', methods=['POST'])\ndef delete(user_id):\n    \"\"\"Delete a user.\"\"\"\n    user = User.query.get_or_404(user_id)\n    user.delete()\n    flash('User deleted successfully!', 'success')\n    return redirect(url_for('users.index'))\n\n# Error handlers\n@users_bp.errorhandler(404)\ndef not_found(error):\n    return render_template('users/404.html'), 404\n\n@users_bp.errorhandler(500)\ndef internal_error(error):\n    return render_template('users/500.html'), 500\n```\n\n## Blueprint Models\n\n```python\n# app/blueprints/users/models.py\nfrom app.extensions import db\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom datetime import datetime\n\nclass User(db.Model):\n    \"\"\"User model.\"\"\"\n    __tablename__ = 'users'\n    \n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(80), unique=True, nullable=False)\n    email = db.Column(db.String(120), unique=True, nullable=False)\n    password_hash = db.Column(db.String(255), nullable=False)\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\n    is_active = db.Column(db.Boolean, default=True)\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n    \n    def set_password(self, password):\n        \"\"\"Set password hash.\"\"\"\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        \"\"\"Check password hash.\"\"\"\n        return check_password_hash(self.password_hash, password)\n    \n    def save(self):\n        \"\"\"Save user to database.\"\"\"\n        db.session.add(self)\n        db.session.commit()\n    \n    def delete(self):\n        \"\"\"Delete user from database.\"\"\"\n        db.session.delete(self)\n        db.session.commit()\n    \n    def to_dict(self):\n        \"\"\"Convert to dictionary.\"\"\"\n        return {\n            'id': self.id,\n            'username': self.username,\n            'email': self.email,\n            'created_at': self.created_at.isoformat(),\n            'is_active': self.is_active\n        }\n```\n\n## Blueprint Forms\n\n```python\n# app/blueprints/users/forms.py\nfrom flask_wtf import FlaskForm\nfrom wtforms import StringField, EmailField, PasswordField, BooleanField\nfrom wtforms.validators import DataRequired, Email, Length, EqualTo\nfrom .models import User\n\nclass UserForm(FlaskForm):\n    \"\"\"User creation/edit form.\"\"\"\n    username = StringField(\n        'Username',\n        validators=[\n            DataRequired(),\n            Length(min=3, max=80)\n        ]\n    )\n    email = EmailField(\n        'Email',\n        validators=[\n            DataRequired(),\n            Email(),\n            Length(max=120)\n        ]\n    )\n    password = PasswordField(\n        'Password',\n        validators=[\n            DataRequired(),\n            Length(min=8)\n        ]\n    )\n    confirm_password = PasswordField(\n        'Confirm Password',\n        validators=[\n            DataRequired(),\n            EqualTo('password', message='Passwords must match')\n        ]\n    )\n    is_active = BooleanField('Active')\n    \n    def validate_username(self, field):\n        \"\"\"Validate username uniqueness.\"\"\"\n        if User.query.filter_by(username=field.data).first():\n            raise ValidationError('Username already exists.')\n    \n    def validate_email(self, field):\n        \"\"\"Validate email uniqueness.\"\"\"\n        if User.query.filter_by(email=field.data).first():\n            raise ValidationError('Email already registered.')\n```\n\n## Registration in Main App\n\n```python\n# app/__init__.py\nfrom flask import Flask\nfrom app.blueprints.users import users_bp\n\ndef create_app():\n    app = Flask(__name__)\n    \n    # Register blueprints\n    app.register_blueprint(users_bp)\n    \n    return app\n```\n\n## Template Structure\n\n```\ntemplates/\n‚îú‚îÄ‚îÄ base.html\n‚îî‚îÄ‚îÄ users/\n    ‚îú‚îÄ‚îÄ index.html\n    ‚îú‚îÄ‚îÄ create.html\n    ‚îú‚îÄ‚îÄ detail.html\n    ‚îú‚îÄ‚îÄ edit.html\n    ‚îú‚îÄ‚îÄ 404.html\n    ‚îî‚îÄ‚îÄ 500.html\n```\n\n## Best Practices\n\n- Use blueprints to organize related functionality\n- Keep models, forms, and routes in separate files\n- Implement proper error handling\n- Use URL prefixes for namespacing\n- Follow RESTful routing conventions\n- Include comprehensive docstrings\n- Add form validation and CSRF protection\n"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# Flask Database Management\n\nComplete database setup and management for Flask applications using SQLAlchemy.\n\n## Usage\n\n```bash\n# Initialize database\nflask db init\n\n# Create migration\nflask db migrate -m \"Initial migration\"\n\n# Apply migrations\nflask db upgrade\n\n# Downgrade migration\nflask db downgrade\n```\n\n## Database Configuration\n\n```python\n# config.py\nimport os\nfrom urllib.parse import quote_plus\n\nclass Config:\n    \"\"\"Base configuration.\"\"\"\n    SECRET_KEY = os.environ.get('SECRET_KEY') or 'dev-secret-key'\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    SQLALCHEMY_RECORD_QUERIES = True\n    \nclass DevelopmentConfig(Config):\n    \"\"\"Development configuration.\"\"\"\n    DEBUG = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///app.db'\n        \nclass ProductionConfig(Config):\n    \"\"\"Production configuration.\"\"\"\n    DEBUG = False\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        f\"postgresql://{os.environ.get('DB_USER')}:{quote_plus(os.environ.get('DB_PASSWORD'))}@\" \\\n        f\"{os.environ.get('DB_HOST')}:{os.environ.get('DB_PORT', '5432')}/{os.environ.get('DB_NAME')}\"\n    \nclass TestingConfig(Config):\n    \"\"\"Testing configuration.\"\"\"\n    TESTING = True\n    SQLALCHEMY_DATABASE_URI = 'sqlite:///:memory:'\n    WTF_CSRF_ENABLED = False\n\nconfig = {\n    'development': DevelopmentConfig,\n    'production': ProductionConfig,\n    'testing': TestingConfig,\n    'default': DevelopmentConfig\n}\n```\n\n## Database Extensions\n\n```python\n# app/extensions.py\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom flask_login import LoginManager\nfrom flask_wtf.csrf import CSRFProtect\nfrom flask_caching import Cache\nfrom flask_limiter import Limiter\nfrom flask_limiter.util import get_remote_address\n\n# Initialize extensions\ndb = SQLAlchemy()\nmigrate = Migrate()\nlogin_manager = LoginManager()\ncsrf = CSRFProtect()\ncache = Cache()\nlimiter = Limiter(key_func=get_remote_address)\n\ndef init_extensions(app):\n    \"\"\"Initialize Flask extensions.\"\"\"\n    db.init_app(app)\n    migrate.init_app(app, db)\n    login_manager.init_app(app)\n    csrf.init_app(app)\n    cache.init_app(app)\n    limiter.init_app(app)\n    \n    # Configure login manager\n    login_manager.login_view = 'auth.login'\n    login_manager.login_message = 'Please log in to access this page.'\n    login_manager.login_message_category = 'info'\n```\n\n## Base Model\n\n```python\n# app/models/base.py\nfrom app.extensions import db\nfrom datetime import datetime\nfrom sqlalchemy.ext.declarative import declared_attr\n\nclass TimestampMixin:\n    \"\"\"Add timestamp fields to model.\"\"\"\n    created_at = db.Column(db.DateTime, default=datetime.utcnow, nullable=False)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow, nullable=False)\n\nclass BaseModel(db.Model, TimestampMixin):\n    \"\"\"Base model with common functionality.\"\"\"\n    __abstract__ = True\n    \n    id = db.Column(db.Integer, primary_key=True)\n    \n    @declared_attr\n    def __tablename__(cls):\n        return cls.__name__.lower()\n    \n    def save(self, commit=True):\n        \"\"\"Save model to database.\"\"\"\n        db.session.add(self)\n        if commit:\n            db.session.commit()\n        return self\n    \n    def delete(self, commit=True):\n        \"\"\"Delete model from database.\"\"\"\n        db.session.delete(self)\n        if commit:\n            db.session.commit()\n    \n    def update(self, **kwargs):\n        \"\"\"Update model attributes.\"\"\"\n        for key, value in kwargs.items():\n            if hasattr(self, key):\n                setattr(self, key, value)\n        return self.save()\n    \n    def to_dict(self, exclude=None):\n        \"\"\"Convert model to dictionary.\"\"\"\n        exclude = exclude or []\n        return {\n            column.name: getattr(self, column.name)\n            for column in self.__table__.columns\n            if column.name not in exclude\n        }\n    \n    @classmethod\n    def get_or_404(cls, id):\n        \"\"\"Get model by ID or raise 404.\"\"\"\n        return cls.query.get_or_404(id)\n    \n    @classmethod\n    def create(cls, **kwargs):\n        \"\"\"Create new model instance.\"\"\"\n        instance = cls(**kwargs)\n        return instance.save()\n```\n\n## Example Models\n\n```python\n# app/models/user.py\nfrom app.extensions import db\nfrom app.models.base import BaseModel\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom flask_login import UserMixin\n\nclass User(UserMixin, BaseModel):\n    \"\"\"User model.\"\"\"\n    __tablename__ = 'users'\n    \n    username = db.Column(db.String(80), unique=True, nullable=False, index=True)\n    email = db.Column(db.String(120), unique=True, nullable=False, index=True)\n    password_hash = db.Column(db.String(255), nullable=False)\n    first_name = db.Column(db.String(50), nullable=False)\n    last_name = db.Column(db.String(50), nullable=False)\n    is_active = db.Column(db.Boolean, default=True, nullable=False)\n    is_admin = db.Column(db.Boolean, default=False, nullable=False)\n    last_login = db.Column(db.DateTime)\n    \n    # Relationships\n    posts = db.relationship('Post', backref='author', lazy='dynamic', cascade='all, delete-orphan')\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n    \n    def set_password(self, password):\n        \"\"\"Set password hash.\"\"\"\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        \"\"\"Check password hash.\"\"\"\n        return check_password_hash(self.password_hash, password)\n    \n    @property\n    def full_name(self):\n        \"\"\"Get user's full name.\"\"\"\n        return f\"{self.first_name} {self.last_name}\"\n    \n    def to_dict(self, exclude=None):\n        \"\"\"Convert to dictionary excluding sensitive data.\"\"\"\n        exclude = exclude or ['password_hash']\n        return super().to_dict(exclude=exclude)\n\n# app/models/post.py\nclass Post(BaseModel):\n    \"\"\"Blog post model.\"\"\"\n    __tablename__ = 'posts'\n    \n    title = db.Column(db.String(200), nullable=False)\n    content = db.Column(db.Text, nullable=False)\n    slug = db.Column(db.String(200), unique=True, nullable=False, index=True)\n    status = db.Column(db.String(20), default='draft', nullable=False)\n    published_at = db.Column(db.DateTime)\n    \n    # Foreign keys\n    user_id = db.Column(db.Integer, db.ForeignKey('users.id'), nullable=False)\n    category_id = db.Column(db.Integer, db.ForeignKey('categories.id'))\n    \n    # Relationships\n    category = db.relationship('Category', backref='posts')\n    tags = db.relationship('Tag', secondary='post_tags', backref='posts')\n    \n    def __repr__(self):\n        return f'<Post {self.title}>'\n    \n    @property\n    def is_published(self):\n        \"\"\"Check if post is published.\"\"\"\n        return self.status == 'published' and self.published_at is not None\n```\n\n## Database CLI Commands\n\n```python\n# app/cli.py\nimport click\nfrom flask import current_app\nfrom flask.cli import with_appcontext\nfrom app.extensions import db\nfrom app.models import User, Post, Category\n\n@click.command()\n@with_appcontext\ndef init_db():\n    \"\"\"Initialize database.\"\"\"\n    db.create_all()\n    click.echo('Database initialized.')\n\n@click.command()\n@with_appcontext\ndef seed_db():\n    \"\"\"Seed database with sample data.\"\"\"\n    # Create admin user\n    admin = User(\n        username='admin',\n        email='admin@example.com',\n        first_name='Admin',\n        last_name='User',\n        is_admin=True\n    )\n    admin.set_password('admin123')\n    admin.save()\n    \n    # Create sample category\n    category = Category(\n        name='Technology',\n        description='Tech-related posts'\n    )\n    category.save()\n    \n    # Create sample post\n    post = Post(\n        title='Welcome to Flask',\n        content='This is a sample blog post.',\n        slug='welcome-to-flask',\n        status='published',\n        user_id=admin.id,\n        category_id=category.id\n    )\n    post.save()\n    \n    click.echo('Database seeded with sample data.')\n\n@click.command()\n@with_appcontext\ndef reset_db():\n    \"\"\"Reset database.\"\"\"\n    if click.confirm('Are you sure you want to reset the database?'):\n        db.drop_all()\n        db.create_all()\n        click.echo('Database reset.')\n\ndef init_commands(app):\n    \"\"\"Register CLI commands.\"\"\"\n    app.cli.add_command(init_db)\n    app.cli.add_command(seed_db)\n    app.cli.add_command(reset_db)\n```\n\n## Connection Pooling\n\n```python\n# app/database.py\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.pool import QueuePool\n\ndef configure_database(app):\n    \"\"\"Configure database with connection pooling.\"\"\"\n    if app.config.get('SQLALCHEMY_DATABASE_URI', '').startswith('postgresql'):\n        # PostgreSQL configuration\n        engine = create_engine(\n            app.config['SQLALCHEMY_DATABASE_URI'],\n            poolclass=QueuePool,\n            pool_size=10,\n            max_overflow=20,\n            pool_recycle=3600,\n            pool_pre_ping=True\n        )\n        app.config['SQLALCHEMY_ENGINE_OPTIONS'] = {\n            'pool_size': 10,\n            'max_overflow': 20,\n            'pool_recycle': 3600,\n            'pool_pre_ping': True\n        }\n```\n\n## Database Utilities\n\n```python\n# app/utils/database.py\nfrom app.extensions import db\nfrom sqlalchemy import text\nfrom flask import current_app\n\ndef execute_sql(sql, params=None):\n    \"\"\"Execute raw SQL query.\"\"\"\n    with db.engine.connect() as conn:\n        result = conn.execute(text(sql), params or {})\n        return result.fetchall()\n\ndef backup_database():\n    \"\"\"Create database backup.\"\"\"\n    # Implementation depends on database type\n    pass\n\ndef check_database_health():\n    \"\"\"Check database connection health.\"\"\"\n    try:\n        db.session.execute(text('SELECT 1'))\n        return True\n    except Exception as e:\n        current_app.logger.error(f'Database health check failed: {e}')\n        return False\n\ndef get_table_info(table_name):\n    \"\"\"Get table information.\"\"\"\n    inspector = db.inspect(db.engine)\n    return {\n        'columns': inspector.get_columns(table_name),\n        'indexes': inspector.get_indexes(table_name),\n        'foreign_keys': inspector.get_foreign_keys(table_name)\n    }\n```\n\n## Testing Database\n\n```python\n# tests/conftest.py\nimport pytest\nfrom app import create_app\nfrom app.extensions import db\nfrom app.models import User\n\n@pytest.fixture(scope='session')\ndef app():\n    \"\"\"Create test app.\"\"\"\n    app = create_app('testing')\n    with app.app_context():\n        db.create_all()\n        yield app\n        db.drop_all()\n\n@pytest.fixture\ndef client(app):\n    \"\"\"Create test client.\"\"\"\n    return app.test_client()\n\n@pytest.fixture\ndef db_session(app):\n    \"\"\"Create database session for testing.\"\"\"\n    with app.app_context():\n        db.session.begin()\n        yield db.session\n        db.session.rollback()\n\n@pytest.fixture\ndef user(db_session):\n    \"\"\"Create test user.\"\"\"\n    user = User(\n        username='testuser',\n        email='test@example.com',\n        first_name='Test',\n        last_name='User'\n    )\n    user.set_password('testpass')\n    user.save()\n    return user\n```\n"
              },
              {
                "name": "/deployment",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/deployment.md",
                "frontmatter": null,
                "content": "# Flask Deployment Configuration\n\nComplete production deployment setup for Flask applications.\n\n## Usage\n\n```bash\n# Build Docker image\ndocker build -t myapp .\n\n# Run with Docker Compose\ndocker-compose up -d\n\n# Deploy to cloud\ngunicorn --bind 0.0.0.0:8000 app:app\n```\n\n## Production Configuration\n\n```python\n# config.py\nimport os\nfrom urllib.parse import quote_plus\n\nclass ProductionConfig:\n    \"\"\"Production configuration.\"\"\"\n    \n    # Security\n    SECRET_KEY = os.environ.get('SECRET_KEY')\n    DEBUG = False\n    TESTING = False\n    \n    # Database\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        f\"postgresql://{os.environ.get('DB_USER')}:{quote_plus(os.environ.get('DB_PASSWORD'))}@\" \\\n        f\"{os.environ.get('DB_HOST')}:{os.environ.get('DB_PORT', '5432')}/{os.environ.get('DB_NAME')}\"\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    SQLALCHEMY_ENGINE_OPTIONS = {\n        'pool_size': 10,\n        'max_overflow': 20,\n        'pool_recycle': 3600,\n        'pool_pre_ping': True\n    }\n    \n    # Security Headers\n    SECURITY_HEADERS = {\n        'Strict-Transport-Security': 'max-age=31536000; includeSubDomains',\n        'X-Content-Type-Options': 'nosniff',\n        'X-Frame-Options': 'DENY',\n        'X-XSS-Protection': '1; mode=block',\n        'Content-Security-Policy': \"default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'\"\n    }\n    \n    # Session\n    SESSION_COOKIE_SECURE = True\n    SESSION_COOKIE_HTTPONLY = True\n    SESSION_COOKIE_SAMESITE = 'Lax'\n    PERMANENT_SESSION_LIFETIME = 3600  # 1 hour\n    \n    # Cache\n    CACHE_TYPE = 'redis'\n    CACHE_REDIS_URL = os.environ.get('REDIS_URL', 'redis://localhost:6379/0')\n    CACHE_DEFAULT_TIMEOUT = 300\n    \n    # Rate Limiting\n    RATELIMIT_STORAGE_URL = os.environ.get('REDIS_URL', 'redis://localhost:6379/1')\n    RATELIMIT_DEFAULT = '100/hour'\n    \n    # Logging\n    LOG_LEVEL = os.environ.get('LOG_LEVEL', 'INFO')\n    LOG_FILE = os.environ.get('LOG_FILE', '/var/log/app/app.log')\n    \n    # File Upload\n    MAX_CONTENT_LENGTH = 16 * 1024 * 1024  # 16MB\n    UPLOAD_FOLDER = os.environ.get('UPLOAD_FOLDER', '/var/uploads')\n    \n    # Email\n    MAIL_SERVER = os.environ.get('MAIL_SERVER')\n    MAIL_PORT = int(os.environ.get('MAIL_PORT', 587))\n    MAIL_USE_TLS = os.environ.get('MAIL_USE_TLS', 'true').lower() in ['true', 'on', '1']\n    MAIL_USERNAME = os.environ.get('MAIL_USERNAME')\n    MAIL_PASSWORD = os.environ.get('MAIL_PASSWORD')\n    MAIL_DEFAULT_SENDER = os.environ.get('MAIL_DEFAULT_SENDER')\n```\n\n## WSGI Configuration\n\n```python\n# wsgi.py\nimport os\nfrom app import create_app\n\n# Get environment\nconfig_name = os.environ.get('FLASK_ENV', 'production')\napp = create_app(config_name)\n\nif __name__ == \"__main__\":\n    app.run()\n```\n\n## Gunicorn Configuration\n\n```python\n# gunicorn.conf.py\nimport multiprocessing\nimport os\n\n# Server socket\nbind = f\"0.0.0.0:{os.environ.get('PORT', 8000)}\"\nbacklog = 2048\n\n# Worker processes\nworkers = multiprocessing.cpu_count() * 2 + 1\nworker_class = 'sync'\nworker_connections = 1000\ntimeout = 30\nkeepalive = 60\nmax_requests = 1000\nmax_requests_jitter = 100\n\n# Security\nlimit_request_line = 4094\nlimit_request_fields = 100\nlimit_request_field_size = 8190\n\n# Logging\naccesslog = '-'\nerrorlog = '-'\nloglevel = os.environ.get('LOG_LEVEL', 'info').lower()\naccess_log_format = '%(h)s %(l)s %(u)s %(t)s \"%(r)s\" %(s)s %(b)s \"%(f)s\" \"%(a)s\" %(D)s'\n\n# Process naming\nproc_name = 'flask_app'\n\n# Server mechanics\ndaemon = False\npidfile = '/tmp/gunicorn.pid'\nuser = os.environ.get('USER', 'www-data')\ngroup = os.environ.get('GROUP', 'www-data')\ntmp_upload_dir = None\n\n# SSL\nkeyfile = os.environ.get('SSL_KEYFILE')\ncertfile = os.environ.get('SSL_CERTFILE')\n```\n\n## Docker Configuration\n\n```dockerfile\n# Dockerfile\nFROM python:3.11-slim\n\n# Set environment variables\nENV PYTHONDONTWRITEBYTECODE=1 \\\n    PYTHONUNBUFFERED=1 \\\n    PIP_NO_CACHE_DIR=1 \\\n    PIP_DISABLE_PIP_VERSION_CHECK=1\n\n# Install system dependencies\nRUN apt-get update && apt-get install -y \\\n    build-essential \\\n    libpq-dev \\\n    curl \\\n    && rm -rf /var/lib/apt/lists/*\n\n# Create app user\nRUN groupadd -r appuser && useradd -r -g appuser appuser\n\n# Set work directory\nWORKDIR /app\n\n# Install Python dependencies\nCOPY requirements/production.txt ./requirements.txt\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy application code\nCOPY . .\n\n# Create necessary directories\nRUN mkdir -p /var/log/app /var/uploads && \\\n    chown -R appuser:appuser /app /var/log/app /var/uploads\n\n# Switch to non-root user\nUSER appuser\n\n# Expose port\nEXPOSE 8000\n\n# Health check\nHEALTHCHECK --interval=30s --timeout=30s --start-period=5s --retries=3 \\\n    CMD curl -f http://localhost:8000/health || exit 1\n\n# Run application\nCMD [\"gunicorn\", \"--config\", \"gunicorn.conf.py\", \"wsgi:app\"]\n```\n\n## Docker Compose\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\n\nservices:\n  web:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - FLASK_ENV=production\n      - DATABASE_URL=postgresql://postgres:password@db:5432/myapp\n      - REDIS_URL=redis://redis:6379/0\n      - SECRET_KEY=${SECRET_KEY}\n    depends_on:\n      - db\n      - redis\n    volumes:\n      - uploads:/var/uploads\n      - logs:/var/log/app\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8000/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  db:\n    image: postgres:15\n    environment:\n      - POSTGRES_DB=myapp\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U postgres\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  redis:\n    image: redis:7-alpine\n    command: redis-server --appendonly yes\n    volumes:\n      - redis_data:/data\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD\", \"redis-cli\", \"ping\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  nginx:\n    image: nginx:alpine\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf:ro\n      - ./ssl:/etc/nginx/ssl:ro\n      - uploads:/var/uploads:ro\n    depends_on:\n      - web\n    restart: unless-stopped\n\nvolumes:\n  postgres_data:\n  redis_data:\n  uploads:\n  logs:\n```\n\n## Nginx Configuration\n\n```nginx\n# nginx.conf\nevents {\n    worker_connections 1024;\n}\n\nhttp {\n    upstream app {\n        server web:8000;\n    }\n    \n    # Rate limiting\n    limit_req_zone $binary_remote_addr zone=api:10m rate=10r/s;\n    limit_req_zone $binary_remote_addr zone=login:10m rate=1r/s;\n    \n    # SSL configuration\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384;\n    ssl_prefer_server_ciphers off;\n    \n    # Security headers\n    add_header X-Frame-Options DENY;\n    add_header X-Content-Type-Options nosniff;\n    add_header X-XSS-Protection \"1; mode=block\";\n    add_header Strict-Transport-Security \"max-age=31536000; includeSubDomains\" always;\n    \n    server {\n        listen 80;\n        server_name example.com www.example.com;\n        return 301 https://$server_name$request_uri;\n    }\n    \n    server {\n        listen 443 ssl http2;\n        server_name example.com www.example.com;\n        \n        ssl_certificate /etc/nginx/ssl/cert.pem;\n        ssl_certificate_key /etc/nginx/ssl/key.pem;\n        \n        # File upload size\n        client_max_body_size 16M;\n        \n        # Static files\n        location /static/ {\n            alias /var/uploads/static/;\n            expires 1y;\n            add_header Cache-Control \"public, immutable\";\n        }\n        \n        location /uploads/ {\n            alias /var/uploads/;\n            expires 1h;\n        }\n        \n        # API rate limiting\n        location /api/ {\n            limit_req zone=api burst=20 nodelay;\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n        \n        # Login rate limiting\n        location /auth/login {\n            limit_req zone=login burst=5 nodelay;\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n        \n        # Main application\n        location / {\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n            \n            # Timeout settings\n            proxy_connect_timeout 60s;\n            proxy_send_timeout 60s;\n            proxy_read_timeout 60s;\n        }\n    }\n}\n```\n\n## Environment Variables\n\n```bash\n# .env.production\n# Application\nFLASK_ENV=production\nSECRET_KEY=your-super-secret-key-here\n\n# Database\nDATABASE_URL=postgresql://user:password@localhost:5432/myapp\nDB_HOST=localhost\nDB_PORT=5432\nDB_NAME=myapp\nDB_USER=user\nDB_PASSWORD=password\n\n# Redis\nREDIS_URL=redis://localhost:6379/0\n\n# Email\nMAIL_SERVER=smtp.gmail.com\nMAIL_PORT=587\nMAIL_USE_TLS=true\nMAIL_USERNAME=your-email@gmail.com\nMAIL_PASSWORD=your-app-password\nMAIL_DEFAULT_SENDER=your-email@gmail.com\n\n# Logging\nLOG_LEVEL=INFO\nLOG_FILE=/var/log/app/app.log\n\n# File Upload\nUPLOAD_FOLDER=/var/uploads\n\n# SSL (if using)\nSSL_KEYFILE=/path/to/private.key\nSSL_CERTFILE=/path/to/certificate.crt\n```\n\n## Health Check Endpoint\n\n```python\n# app/health.py\nfrom flask import Blueprint, jsonify\nfrom app.extensions import db\nfrom sqlalchemy import text\nimport redis\nimport os\n\nhealth_bp = Blueprint('health', __name__)\n\n@health_bp.route('/health')\ndef health_check():\n    \"\"\"Application health check.\"\"\"\n    checks = {\n        'status': 'healthy',\n        'database': check_database(),\n        'redis': check_redis(),\n        'disk_space': check_disk_space()\n    }\n    \n    # Determine overall status\n    if all(check['status'] == 'ok' for check in checks.values() if isinstance(check, dict)):\n        status_code = 200\n    else:\n        status_code = 503\n        checks['status'] = 'unhealthy'\n    \n    return jsonify(checks), status_code\n\ndef check_database():\n    \"\"\"Check database connectivity.\"\"\"\n    try:\n        db.session.execute(text('SELECT 1'))\n        return {'status': 'ok', 'message': 'Database connection successful'}\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n\ndef check_redis():\n    \"\"\"Check Redis connectivity.\"\"\"\n    try:\n        redis_url = os.environ.get('REDIS_URL', 'redis://localhost:6379/0')\n        r = redis.from_url(redis_url)\n        r.ping()\n        return {'status': 'ok', 'message': 'Redis connection successful'}\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n\ndef check_disk_space():\n    \"\"\"Check available disk space.\"\"\"\n    try:\n        import shutil\n        total, used, free = shutil.disk_usage('/')\n        free_percent = (free / total) * 100\n        \n        if free_percent > 10:\n            status = 'ok'\n        elif free_percent > 5:\n            status = 'warning'\n        else:\n            status = 'critical'\n        \n        return {\n            'status': status,\n            'free_space_percent': round(free_percent, 2),\n            'free_space_gb': round(free / (1024**3), 2)\n        }\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n```\n\n## Monitoring and Logging\n\n```python\n# app/logging.py\nimport logging\nimport logging.handlers\nimport os\nfrom flask import request, g\nimport time\n\ndef setup_logging(app):\n    \"\"\"Setup application logging.\"\"\"\n    if not app.debug and not app.testing:\n        # File logging\n        if app.config.get('LOG_FILE'):\n            file_handler = logging.handlers.RotatingFileHandler(\n                app.config['LOG_FILE'],\n                maxBytes=10240000,  # 10MB\n                backupCount=10\n            )\n            file_handler.setFormatter(logging.Formatter(\n                '%(asctime)s %(levelname)s: %(message)s '\n                '[in %(pathname)s:%(lineno)d]'\n            ))\n            file_handler.setLevel(getattr(logging, app.config.get('LOG_LEVEL', 'INFO')))\n            app.logger.addHandler(file_handler)\n        \n        # Console logging\n        if not app.logger.handlers:\n            stream_handler = logging.StreamHandler()\n            stream_handler.setFormatter(logging.Formatter(\n                '%(asctime)s %(levelname)s: %(message)s'\n            ))\n            stream_handler.setLevel(logging.INFO)\n            app.logger.addHandler(stream_handler)\n        \n        app.logger.setLevel(logging.INFO)\n        app.logger.info('Application startup')\n\n# Request timing middleware\n@app.before_request\ndef before_request():\n    g.start_time = time.time()\n\n@app.after_request\ndef after_request(response):\n    if hasattr(g, 'start_time'):\n        duration = time.time() - g.start_time\n        app.logger.info(\n            f'{request.method} {request.path} - '\n            f'{response.status_code} - {duration:.3f}s'\n        )\n    return response\n```\n\n## Database Backup Script\n\n```bash\n#!/bin/bash\n# backup.sh\n\nset -e\n\n# Configuration\nBACKUP_DIR=\"/var/backups/db\"\nDATABASE_URL=\"$DATABASE_URL\"\nDATE=$(date +%Y%m%d_%H%M%S)\nBACKUP_FILE=\"$BACKUP_DIR/backup_$DATE.sql\"\nRETENTION_DAYS=7\n\n# Create backup directory\nmkdir -p \"$BACKUP_DIR\"\n\n# Create backup\necho \"Creating database backup...\"\npg_dump \"$DATABASE_URL\" > \"$BACKUP_FILE\"\n\n# Compress backup\ngzip \"$BACKUP_FILE\"\n\n# Remove old backups\necho \"Cleaning up old backups...\"\nfind \"$BACKUP_DIR\" -name \"backup_*.sql.gz\" -mtime +$RETENTION_DAYS -delete\n\necho \"Backup completed: $BACKUP_FILE.gz\"\n```\n\n## Deployment Scripts\n\n```bash\n#!/bin/bash\n# deploy.sh\n\nset -e\n\necho \"Starting deployment...\"\n\n# Pull latest code\ngit pull origin main\n\n# Build new Docker image\ndocker-compose build web\n\n# Run database migrations\ndocker-compose run --rm web flask db upgrade\n\n# Update services\ndocker-compose up -d\n\n# Health check\necho \"Waiting for application to be ready...\"\nsleep 10\n\nif curl -f http://localhost:8000/health; then\n    echo \"Deployment successful!\"\nelse\n    echo \"Deployment failed - health check failed\"\n    exit 1\nfi\n```\n\n## Monitoring with Prometheus\n\n```python\n# app/metrics.py\nfrom prometheus_flask_exporter import PrometheusMetrics\nfrom flask import request\nimport time\n\ndef setup_metrics(app):\n    \"\"\"Setup Prometheus metrics.\"\"\"\n    metrics = PrometheusMetrics(app)\n    \n    # Custom metrics\n    metrics.info('app_info', 'Application info', version='1.0.0')\n    \n    # Database connection pool metrics\n    @metrics.gauge('db_pool_size', 'Database connection pool size')\n    def db_pool_size():\n        from app.extensions import db\n        return db.engine.pool.size()\n    \n    return metrics\n```\n"
              },
              {
                "name": "/flask-route",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/flask-route.md",
                "frontmatter": null,
                "content": "# Flask Route Generator\n\nCreate Flask routes with proper structure and error handling.\n\n## Purpose\n\nThis command helps you quickly create Flask routes with validation, error handling, and best practices.\n\n## Usage\n\n```\n/flask-route\n```\n\n## What this command does\n\n1. **Creates route functions** with proper decorators\n2. **Adds request validation** and error handling\n3. **Includes JSON responses** and status codes\n4. **Implements authentication** if needed\n5. **Follows Flask conventions** and best practices\n\n## Example Output\n\n```python\n# routes.py or app.py\nfrom flask import Flask, request, jsonify, abort\nfrom flask_sqlalchemy import SQLAlchemy\nfrom werkzeug.exceptions import BadRequest\n\napp = Flask(__name__)\n\n@app.route('/users', methods=['GET'])\ndef get_users():\n    \"\"\"Get all users with optional pagination.\"\"\"\n    try:\n        page = request.args.get('page', 1, type=int)\n        per_page = request.args.get('per_page', 10, type=int)\n        \n        users = User.query.paginate(\n            page=page, \n            per_page=per_page, \n            error_out=False\n        )\n        \n        return jsonify({\n            'users': [user.to_dict() for user in users.items],\n            'total': users.total,\n            'pages': users.pages,\n            'current_page': page\n        }), 200\n        \n    except Exception as e:\n        return jsonify({'error': 'Failed to fetch users'}), 500\n\n@app.route('/users/<int:user_id>', methods=['GET'])\ndef get_user(user_id):\n    \"\"\"Get a specific user by ID.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        return jsonify(user.to_dict()), 200\n        \n    except Exception as e:\n        return jsonify({'error': 'User not found'}), 404\n\n@app.route('/users', methods=['POST'])\ndef create_user():\n    \"\"\"Create a new user.\"\"\"\n    try:\n        data = request.get_json()\n        \n        if not data:\n            return jsonify({'error': 'No data provided'}), 400\n        \n        # Validate required fields\n        required_fields = ['name', 'email']\n        for field in required_fields:\n            if field not in data:\n                return jsonify({'error': f'{field} is required'}), 400\n        \n        # Check if email already exists\n        if User.query.filter_by(email=data['email']).first():\n            return jsonify({'error': 'Email already exists'}), 409\n        \n        # Create new user\n        user = User(\n            name=data['name'],\n            email=data['email'],\n            phone=data.get('phone'),\n            address=data.get('address')\n        )\n        \n        db.session.add(user)\n        db.session.commit()\n        \n        return jsonify(user.to_dict()), 201\n        \n    except BadRequest:\n        return jsonify({'error': 'Invalid JSON data'}), 400\n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to create user'}), 500\n\n@app.route('/users/<int:user_id>', methods=['PUT'])\ndef update_user(user_id):\n    \"\"\"Update an existing user.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        data = request.get_json()\n        \n        if not data:\n            return jsonify({'error': 'No data provided'}), 400\n        \n        # Update fields\n        if 'name' in data:\n            user.name = data['name']\n        if 'email' in data:\n            # Check if new email already exists\n            existing_user = User.query.filter_by(email=data['email']).first()\n            if existing_user and existing_user.id != user_id:\n                return jsonify({'error': 'Email already exists'}), 409\n            user.email = data['email']\n        if 'phone' in data:\n            user.phone = data['phone']\n        if 'address' in data:\n            user.address = data['address']\n        \n        db.session.commit()\n        \n        return jsonify(user.to_dict()), 200\n        \n    except BadRequest:\n        return jsonify({'error': 'Invalid JSON data'}), 400\n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to update user'}), 500\n\n@app.route('/users/<int:user_id>', methods=['DELETE'])\ndef delete_user(user_id):\n    \"\"\"Delete a user.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        \n        db.session.delete(user)\n        db.session.commit()\n        \n        return jsonify({'message': 'User deleted successfully'}), 200\n        \n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to delete user'}), 500\n\n# Error handlers\n@app.errorhandler(404)\ndef not_found(error):\n    return jsonify({'error': 'Resource not found'}), 404\n\n@app.errorhandler(400)\ndef bad_request(error):\n    return jsonify({'error': 'Bad request'}), 400\n\n@app.errorhandler(500)\ndef internal_error(error):\n    return jsonify({'error': 'Internal server error'}), 500\n```\n\n## Route Patterns Supported\n\n### Basic Routes\n```python\n@app.route('/')\n@app.route('/users')\n@app.route('/users/<int:user_id>')\n```\n\n### HTTP Methods\n```python\n@app.route('/users', methods=['GET', 'POST'])\n@app.route('/users/<int:id>', methods=['GET', 'PUT', 'DELETE'])\n```\n\n### URL Parameters\n```python\n@app.route('/users/<int:user_id>')\n@app.route('/posts/<string:slug>')\n@app.route('/files/<path:filename>')\n```\n\n## Best Practices Included\n\n- **Input validation** for all user data\n- **Proper HTTP status codes** (200, 201, 400, 404, 500)\n- **JSON responses** with consistent structure\n- **Error handling** with try/catch blocks\n- **Database rollback** on errors\n- **RESTful conventions** for URL design\n- **Documentation strings** for each route\n- **Request data validation** before processing\n\n## Common Response Patterns\n\n```python\n# Success with data\nreturn jsonify({'data': result}), 200\n\n# Created resource\nreturn jsonify({'data': new_resource, 'id': new_id}), 201\n\n# Validation error\nreturn jsonify({'error': 'Field is required'}), 400\n\n# Not found\nreturn jsonify({'error': 'Resource not found'}), 404\n\n# Server error\nreturn jsonify({'error': 'Internal server error'}), 500\n```"
              },
              {
                "name": "/testing",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/testing.md",
                "frontmatter": null,
                "content": "# Flask Testing Suite\n\nComprehensive testing setup for Flask applications with pytest.\n\n## Usage\n\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=app --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n```\n\n## Test Configuration\n\n```python\n# pytest.ini\n[tool:pytest]\ntestpaths = tests\npython_files = test_*.py\npython_classes = Test*\npython_functions = test_*\naddopts = \n    --cov=app\n    --cov-report=term-missing\n    --cov-report=html:htmlcov\n    --strict-markers\n    --disable-warnings\nmarkers =\n    unit: Unit tests\n    integration: Integration tests\n    slow: Slow running tests\n    auth: Authentication tests\n```\n\n## Test Fixtures\n\n```python\n# tests/conftest.py\nimport pytest\nimport tempfile\nimport os\nfrom app import create_app\nfrom app.extensions import db\nfrom app.models import User, Post, Category\nfrom flask_login import login_user\n\n@pytest.fixture(scope='session')\ndef app():\n    \"\"\"Create test application.\"\"\"\n    # Create temporary database\n    db_fd, db_path = tempfile.mkstemp()\n    \n    app = create_app({\n        'TESTING': True,\n        'SQLALCHEMY_DATABASE_URI': f'sqlite:///{db_path}',\n        'WTF_CSRF_ENABLED': False,\n        'SECRET_KEY': 'test-secret-key'\n    })\n    \n    with app.app_context():\n        db.create_all()\n        yield app\n        \n    # Cleanup\n    os.close(db_fd)\n    os.unlink(db_path)\n\n@pytest.fixture\ndef client(app):\n    \"\"\"Create test client.\"\"\"\n    return app.test_client()\n\n@pytest.fixture\ndef runner(app):\n    \"\"\"Create test CLI runner.\"\"\"\n    return app.test_cli_runner()\n\n@pytest.fixture\ndef db_session(app):\n    \"\"\"Create database session for testing.\"\"\"\n    with app.app_context():\n        connection = db.engine.connect()\n        transaction = connection.begin()\n        \n        # Configure session to use the connection\n        db.session.configure(bind=connection)\n        \n        yield db.session\n        \n        # Rollback transaction\n        transaction.rollback()\n        connection.close()\n        db.session.remove()\n\n@pytest.fixture\ndef user(db_session):\n    \"\"\"Create test user.\"\"\"\n    user = User(\n        username='testuser',\n        email='test@example.com',\n        first_name='Test',\n        last_name='User'\n    )\n    user.set_password('testpass123')\n    user.save()\n    return user\n\n@pytest.fixture\ndef admin_user(db_session):\n    \"\"\"Create admin user.\"\"\"\n    admin = User(\n        username='admin',\n        email='admin@example.com',\n        first_name='Admin',\n        last_name='User',\n        is_admin=True\n    )\n    admin.set_password('adminpass123')\n    admin.save()\n    return admin\n\n@pytest.fixture\ndef category(db_session):\n    \"\"\"Create test category.\"\"\"\n    category = Category(\n        name='Test Category',\n        description='A test category'\n    )\n    category.save()\n    return category\n\n@pytest.fixture\ndef post(db_session, user, category):\n    \"\"\"Create test post.\"\"\"\n    post = Post(\n        title='Test Post',\n        content='This is a test post content.',\n        slug='test-post',\n        status='published',\n        user_id=user.id,\n        category_id=category.id\n    )\n    post.save()\n    return post\n\n@pytest.fixture\ndef auth_headers(user):\n    \"\"\"Create authentication headers.\"\"\"\n    # For API testing\n    token = user.generate_auth_token()\n    return {'Authorization': f'Bearer {token}'}\n```\n\n## Model Testing\n\n```python\n# tests/test_models.py\nimport pytest\nfrom datetime import datetime\nfrom app.models import User, Post, Category\nfrom werkzeug.security import check_password_hash\n\nclass TestUser:\n    \"\"\"Test User model.\"\"\"\n    \n    def test_user_creation(self, db_session):\n        \"\"\"Test user creation.\"\"\"\n        user = User(\n            username='newuser',\n            email='new@example.com',\n            first_name='New',\n            last_name='User'\n        )\n        user.set_password('password123')\n        user.save()\n        \n        assert user.id is not None\n        assert user.username == 'newuser'\n        assert user.email == 'new@example.com'\n        assert user.full_name == 'New User'\n        assert user.is_active is True\n        assert user.is_admin is False\n        assert user.created_at is not None\n    \n    def test_password_hashing(self, user):\n        \"\"\"Test password hashing.\"\"\"\n        user.set_password('newpassword')\n        assert user.password_hash != 'newpassword'\n        assert check_password_hash(user.password_hash, 'newpassword')\n        assert user.check_password('newpassword')\n        assert not user.check_password('wrongpassword')\n    \n    def test_user_repr(self, user):\n        \"\"\"Test user string representation.\"\"\"\n        assert repr(user) == '<User testuser>'\n    \n    def test_user_to_dict(self, user):\n        \"\"\"Test user dictionary conversion.\"\"\"\n        user_dict = user.to_dict()\n        assert 'username' in user_dict\n        assert 'email' in user_dict\n        assert 'password_hash' not in user_dict  # Should be excluded\n    \n    def test_user_relationships(self, user, post):\n        \"\"\"Test user relationships.\"\"\"\n        assert post in user.posts\n        assert user.posts.count() == 1\n\nclass TestPost:\n    \"\"\"Test Post model.\"\"\"\n    \n    def test_post_creation(self, db_session, user, category):\n        \"\"\"Test post creation.\"\"\"\n        post = Post(\n            title='New Post',\n            content='New post content',\n            slug='new-post',\n            status='draft',\n            user_id=user.id,\n            category_id=category.id\n        )\n        post.save()\n        \n        assert post.id is not None\n        assert post.title == 'New Post'\n        assert post.author == user\n        assert post.category == category\n        assert not post.is_published\n    \n    def test_published_status(self, post):\n        \"\"\"Test post published status.\"\"\"\n        assert post.is_published  # Published with published_at\n        \n        post.status = 'draft'\n        assert not post.is_published\n```\n\n## View Testing\n\n```python\n# tests/test_views.py\nimport pytest\nfrom flask import url_for\nfrom app.models import User\n\nclass TestMainViews:\n    \"\"\"Test main application views.\"\"\"\n    \n    def test_home_page(self, client):\n        \"\"\"Test home page.\"\"\"\n        response = client.get('/')\n        assert response.status_code == 200\n        assert b'Welcome' in response.data\n    \n    def test_about_page(self, client):\n        \"\"\"Test about page.\"\"\"\n        response = client.get('/about')\n        assert response.status_code == 200\n\nclass TestUserViews:\n    \"\"\"Test user-related views.\"\"\"\n    \n    def test_user_list(self, client, user):\n        \"\"\"Test user list page.\"\"\"\n        response = client.get('/users/')\n        assert response.status_code == 200\n        assert user.username.encode() in response.data\n    \n    def test_user_detail(self, client, user):\n        \"\"\"Test user detail page.\"\"\"\n        response = client.get(f'/users/{user.id}')\n        assert response.status_code == 200\n        assert user.username.encode() in response.data\n    \n    def test_user_create_get(self, client):\n        \"\"\"Test user creation form.\"\"\"\n        response = client.get('/users/create')\n        assert response.status_code == 200\n        assert b'Create User' in response.data\n    \n    def test_user_create_post(self, client, db_session):\n        \"\"\"Test user creation submission.\"\"\"\n        data = {\n            'username': 'newuser',\n            'email': 'new@example.com',\n            'first_name': 'New',\n            'last_name': 'User',\n            'password': 'password123',\n            'confirm_password': 'password123'\n        }\n        response = client.post('/users/create', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Check user was created\n        user = User.query.filter_by(username='newuser').first()\n        assert user is not None\n        assert user.email == 'new@example.com'\n    \n    def test_user_edit(self, client, user):\n        \"\"\"Test user editing.\"\"\"\n        data = {\n            'username': user.username,\n            'email': 'updated@example.com',\n            'first_name': 'Updated',\n            'last_name': 'User'\n        }\n        response = client.post(f'/users/{user.id}/edit', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Refresh user from database\n        db_session.refresh(user)\n        assert user.email == 'updated@example.com'\n        assert user.first_name == 'Updated'\n```\n\n## Authentication Testing\n\n```python\n# tests/test_auth.py\nimport pytest\nfrom flask import url_for\nfrom app.models import User\n\nclass TestAuthentication:\n    \"\"\"Test authentication functionality.\"\"\"\n    \n    def test_login_page(self, client):\n        \"\"\"Test login page access.\"\"\"\n        response = client.get('/auth/login')\n        assert response.status_code == 200\n        assert b'Login' in response.data\n    \n    def test_valid_login(self, client, user):\n        \"\"\"Test valid user login.\"\"\"\n        data = {\n            'username': user.username,\n            'password': 'testpass123'\n        }\n        response = client.post('/auth/login', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        assert b'Welcome' in response.data\n    \n    def test_invalid_login(self, client, user):\n        \"\"\"Test invalid login credentials.\"\"\"\n        data = {\n            'username': user.username,\n            'password': 'wrongpassword'\n        }\n        response = client.post('/auth/login', data=data)\n        assert response.status_code == 200\n        assert b'Invalid' in response.data\n    \n    def test_logout(self, client, user):\n        \"\"\"Test user logout.\"\"\"\n        # Login first\n        with client.session_transaction() as sess:\n            sess['_user_id'] = str(user.id)\n        \n        response = client.get('/auth/logout', follow_redirects=True)\n        assert response.status_code == 200\n    \n    def test_register_page(self, client):\n        \"\"\"Test registration page.\"\"\"\n        response = client.get('/auth/register')\n        assert response.status_code == 200\n        assert b'Register' in response.data\n    \n    def test_valid_registration(self, client, db_session):\n        \"\"\"Test valid user registration.\"\"\"\n        data = {\n            'username': 'newuser',\n            'email': 'new@example.com',\n            'first_name': 'New',\n            'last_name': 'User',\n            'password': 'password123',\n            'confirm_password': 'password123'\n        }\n        response = client.post('/auth/register', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Check user was created\n        user = User.query.filter_by(username='newuser').first()\n        assert user is not None\n```\n\n## API Testing\n\n```python\n# tests/test_api.py\nimport pytest\nimport json\nfrom flask import url_for\n\nclass TestUserAPI:\n    \"\"\"Test User API endpoints.\"\"\"\n    \n    def test_get_users(self, client, user):\n        \"\"\"Test GET /api/users.\"\"\"\n        response = client.get('/api/users')\n        assert response.status_code == 200\n        \n        data = json.loads(response.data)\n        assert 'users' in data\n        assert len(data['users']) >= 1\n    \n    def test_get_user(self, client, user):\n        \"\"\"Test GET /api/users/<id>.\"\"\"\n        response = client.get(f'/api/users/{user.id}')\n        assert response.status_code == 200\n        \n        data = json.loads(response.data)\n        assert data['username'] == user.username\n        assert data['email'] == user.email\n    \n    def test_create_user(self, client, db_session):\n        \"\"\"Test POST /api/users.\"\"\"\n        user_data = {\n            'username': 'apiuser',\n            'email': 'api@example.com',\n            'first_name': 'API',\n            'last_name': 'User',\n            'password': 'password123'\n        }\n        \n        response = client.post(\n            '/api/users',\n            data=json.dumps(user_data),\n            content_type='application/json'\n        )\n        \n        assert response.status_code == 201\n        data = json.loads(response.data)\n        assert data['username'] == 'apiuser'\n    \n    def test_update_user(self, client, user, auth_headers):\n        \"\"\"Test PUT /api/users/<id>.\"\"\"\n        update_data = {\n            'email': 'updated@example.com',\n            'first_name': 'Updated'\n        }\n        \n        response = client.put(\n            f'/api/users/{user.id}',\n            data=json.dumps(update_data),\n            content_type='application/json',\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = json.loads(response.data)\n        assert data['email'] == 'updated@example.com'\n    \n    def test_delete_user(self, client, user, auth_headers):\n        \"\"\"Test DELETE /api/users/<id>.\"\"\"\n        response = client.delete(\n            f'/api/users/{user.id}',\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 204\n```\n\n## Test Utilities\n\n```python\n# tests/utils.py\nimport json\nfrom flask import url_for\n\ndef login_user(client, username, password):\n    \"\"\"Helper to login user in tests.\"\"\"\n    return client.post('/auth/login', data={\n        'username': username,\n        'password': password\n    }, follow_redirects=True)\n\ndef logout_user(client):\n    \"\"\"Helper to logout user in tests.\"\"\"\n    return client.get('/auth/logout', follow_redirects=True)\n\ndef assert_json_response(response, expected_status=200):\n    \"\"\"Assert JSON response format and status.\"\"\"\n    assert response.status_code == expected_status\n    assert response.content_type == 'application/json'\n    return json.loads(response.data)\n\ndef create_test_data(db_session):\n    \"\"\"Create common test data.\"\"\"\n    from app.models import User, Category, Post\n    \n    # Create test users\n    users = []\n    for i in range(3):\n        user = User(\n            username=f'user{i}',\n            email=f'user{i}@example.com',\n            first_name=f'User{i}',\n            last_name='Test'\n        )\n        user.set_password('password123')\n        user.save()\n        users.append(user)\n    \n    return {'users': users}\n```\n\n## Performance Testing\n\n```python\n# tests/test_performance.py\nimport pytest\nimport time\nfrom app.models import User\n\n@pytest.mark.slow\nclass TestPerformance:\n    \"\"\"Test application performance.\"\"\"\n    \n    def test_user_query_performance(self, db_session):\n        \"\"\"Test user query performance.\"\"\"\n        # Create multiple users\n        users = []\n        for i in range(100):\n            user = User(\n                username=f'perfuser{i}',\n                email=f'perf{i}@example.com',\n                first_name=f'Perf{i}',\n                last_name='User'\n            )\n            users.append(user)\n        \n        db_session.bulk_save_objects(users)\n        db_session.commit()\n        \n        # Test query performance\n        start_time = time.time()\n        result = User.query.all()\n        end_time = time.time()\n        \n        assert len(result) >= 100\n        assert (end_time - start_time) < 0.1  # Should complete in under 100ms\n    \n    def test_endpoint_response_time(self, client):\n        \"\"\"Test endpoint response time.\"\"\"\n        start_time = time.time()\n        response = client.get('/')\n        end_time = time.time()\n        \n        assert response.status_code == 200\n        assert (end_time - start_time) < 0.5  # Should respond in under 500ms\n```\n"
              },
              {
                "name": "/model",
                "description": null,
                "path": "cli-tool/templates/ruby/.claude/commands/model.md",
                "frontmatter": null,
                "content": "# Ruby Model Generator\n\nCreate Ruby classes and models with proper structure and best practices.\n\n## Purpose\n\nThis command helps you quickly create Ruby model classes with proper initialization, attributes, and methods following Ruby conventions.\n\n## Usage\n\n```\n/model\n```\n\n## What this command does\n\n1. **Creates model classes** with proper initialization methods\n2. **Adds attribute accessors** and instance variables\n3. **Includes validation methods** and error handling\n4. **Follows Ruby conventions** and best practices\n5. **Generates related test files** when applicable\n\n## Example Output\n\n```ruby\n# app/models/user.rb\nclass User\n  attr_accessor :name, :email, :age\n  attr_reader :id, :created_at\n  \n  def initialize(attributes = {})\n    @id = attributes[:id] || generate_id\n    @name = attributes[:name]\n    @email = attributes[:email]\n    @age = attributes[:age]\n    @created_at = Time.now\n    @errors = []\n  end\n  \n  def valid?\n    @errors.clear\n    validate_presence_of_name\n    validate_email_format\n    validate_age_range\n    @errors.empty?\n  end\n  \n  def errors\n    @errors.dup\n  end\n  \n  def save\n    return false unless valid?\n    \n    # Persist logic here\n    true\n  end\n  \n  def to_h\n    {\n      id: @id,\n      name: @name,\n      email: @email,\n      age: @age,\n      created_at: @created_at\n    }\n  end\n  \n  def to_json(*args)\n    JSON.generate(to_h, *args)\n  end\n  \n  private\n  \n  def validate_presence_of_name\n    if @name.nil? || @name.strip.empty?\n      @errors << \"Name cannot be blank\"\n    end\n  end\n  \n  def validate_email_format\n    if @email && !@email.match?(/\\A[\\w+\\-.]+@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)*\\.[a-z]+\\z/i)\n      @errors << \"Email format is invalid\"\n    end\n  end\n  \n  def validate_age_range\n    if @age && (@age < 0 || @age > 150)\n      @errors << \"Age must be between 0 and 150\"\n    end\n  end\n  \n  def generate_id\n    SecureRandom.uuid\n  end\nend\n\n# Example with inheritance\nclass AdminUser < User\n  attr_accessor :permissions\n  \n  def initialize(attributes = {})\n    super\n    @permissions = attributes[:permissions] || []\n  end\n  \n  def admin?\n    true\n  end\n  \n  def has_permission?(permission)\n    @permissions.include?(permission)\n  end\n  \n  private\n  \n  def validate_permissions\n    unless @permissions.is_a?(Array)\n      @errors << \"Permissions must be an array\"\n    end\n  end\nend\n```\n\n## Advanced Features\n\n### Module Inclusion\n```ruby\nmodule Timestamps\n  def self.included(base)\n    base.extend(ClassMethods)\n  end\n  \n  module ClassMethods\n    def with_timestamps\n      attr_reader :created_at, :updated_at\n      \n      define_method :initialize do |*args|\n        super(*args)\n        @created_at ||= Time.now\n        @updated_at = @created_at\n      end\n      \n      define_method :touch do\n        @updated_at = Time.now\n      end\n    end\n  end\nend\n\nclass Post\n  include Timestamps\n  with_timestamps\n  \n  attr_accessor :title, :content\n  \n  def initialize(attributes = {})\n    @title = attributes[:title]\n    @content = attributes[:content]\n    super\n  end\nend\n```\n\n### Class Methods and Scopes\n```ruby\nclass User\n  @@users = []\n  \n  def self.all\n    @@users.dup\n  end\n  \n  def self.find_by_email(email)\n    @@users.find { |user| user.email == email }\n  end\n  \n  def self.where(conditions = {})\n    @@users.select do |user|\n      conditions.all? { |key, value| user.send(key) == value }\n    end\n  end\n  \n  def self.create(attributes = {})\n    user = new(attributes)\n    if user.save\n      @@users << user\n      user\n    else\n      nil\n    end\n  end\n  \n  def save\n    return false unless valid?\n    \n    unless @@users.include?(self)\n      @@users << self\n    end\n    true\n  end\n  \n  def destroy\n    @@users.delete(self)\n  end\nend\n```\n\n## Testing Template\n\n```ruby\n# spec/models/user_spec.rb\nrequire 'spec_helper'\n\nRSpec.describe User do\n  let(:valid_attributes) do\n    {\n      name: 'John Doe',\n      email: 'john@example.com',\n      age: 30\n    }\n  end\n  \n  describe '#initialize' do\n    it 'sets attributes correctly' do\n      user = User.new(valid_attributes)\n      \n      expect(user.name).to eq('John Doe')\n      expect(user.email).to eq('john@example.com')\n      expect(user.age).to eq(30)\n      expect(user.id).not_to be_nil\n      expect(user.created_at).to be_a(Time)\n    end\n  end\n  \n  describe '#valid?' do\n    it 'returns true for valid attributes' do\n      user = User.new(valid_attributes)\n      expect(user).to be_valid\n    end\n    \n    it 'returns false when name is blank' do\n      user = User.new(valid_attributes.merge(name: ''))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Name cannot be blank')\n    end\n    \n    it 'returns false for invalid email format' do\n      user = User.new(valid_attributes.merge(email: 'invalid-email'))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Email format is invalid')\n    end\n    \n    it 'returns false for invalid age' do\n      user = User.new(valid_attributes.merge(age: -5))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Age must be between 0 and 150')\n    end\n  end\n  \n  describe '#save' do\n    it 'saves valid user' do\n      user = User.new(valid_attributes)\n      expect(user.save).to be true\n    end\n    \n    it 'does not save invalid user' do\n      user = User.new(name: '')\n      expect(user.save).to be false\n    end\n  end\n  \n  describe '#to_h' do\n    it 'returns hash representation' do\n      user = User.new(valid_attributes)\n      hash = user.to_h\n      \n      expect(hash).to include(\n        name: 'John Doe',\n        email: 'john@example.com',\n        age: 30\n      )\n      expect(hash[:id]).not_to be_nil\n      expect(hash[:created_at]).to be_a(Time)\n    end\n  end\nend\n```\n\n## Best Practices Included\n\n- **Proper initialization** with hash parameters\n- **Attribute accessors** for public attributes\n- **Validation methods** with error collection\n- **JSON serialization** support\n- **Class and instance methods** separation\n- **Error handling** and reporting\n- **Ruby naming conventions** (snake_case)\n- **Encapsulation** with private methods\n\n## Common Patterns\n\n### Value Objects\n```ruby\nclass Money\n  include Comparable\n  \n  attr_reader :amount, :currency\n  \n  def initialize(amount, currency = 'USD')\n    @amount = amount.to_f\n    @currency = currency.to_s.upcase\n  end\n  \n  def +(other)\n    raise ArgumentError, \"Currency mismatch\" unless currency == other.currency\n    Money.new(amount + other.amount, currency)\n  end\n  \n  def <=>(other)\n    raise ArgumentError, \"Currency mismatch\" unless currency == other.currency\n    amount <=> other.amount\n  end\n  \n  def to_s\n    \"#{currency} #{format('%.2f', amount)}\"\n  end\nend\n```\n\n### Service Objects\n```ruby\nclass UserRegistrationService\n  attr_reader :user, :errors\n  \n  def initialize(user_params)\n    @user_params = user_params\n    @errors = []\n  end\n  \n  def call\n    @user = User.new(@user_params)\n    \n    if @user.valid?\n      @user.save\n      send_welcome_email\n      true\n    else\n      @errors = @user.errors\n      false\n    end\n  end\n  \n  private\n  \n  def send_welcome_email\n    # Email sending logic\n  end\nend\n```"
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/ruby/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Ruby Test Generator\n\nCreate comprehensive test files with RSpec or Minitest following Ruby testing best practices.\n\n## Purpose\n\nThis command helps you quickly create test files with proper structure, examples, and testing patterns for Ruby applications.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Creates test files** with proper structure for RSpec or Minitest\n2. **Includes test examples** for common scenarios\n3. **Sets up test helpers** and support files\n4. **Follows testing conventions** and best practices\n5. **Generates factory/fixture data** when needed\n\n## RSpec Example Output\n\n```ruby\n# spec/models/user_spec.rb\nrequire 'spec_helper'\n\nRSpec.describe User do\n  let(:user) { build(:user) }\n  let(:valid_attributes) do\n    {\n      name: 'John Doe',\n      email: 'john@example.com',\n      age: 30\n    }\n  end\n  \n  describe 'validations' do\n    it { should validate_presence_of(:name) }\n    it { should validate_presence_of(:email) }\n    it { should validate_uniqueness_of(:email) }\n    it { should validate_numericality_of(:age).is_greater_than(0) }\n    \n    context 'when email format is invalid' do\n      let(:user) { build(:user, email: 'invalid-email') }\n      \n      it 'is not valid' do\n        expect(user).not_to be_valid\n        expect(user.errors[:email]).to include('is invalid')\n      end\n    end\n  end\n  \n  describe 'associations' do\n    it { should have_many(:posts) }\n    it { should have_many(:comments) }\n  end\n  \n  describe 'callbacks' do\n    describe 'before_save' do\n      it 'normalizes email' do\n        user = create(:user, email: 'JOHN@EXAMPLE.COM')\n        expect(user.email).to eq('john@example.com')\n      end\n    end\n  end\n  \n  describe 'instance methods' do\n    describe '#full_name' do\n      let(:user) { build(:user, first_name: 'John', last_name: 'Doe') }\n      \n      it 'returns the full name' do\n        expect(user.full_name).to eq('John Doe')\n      end\n      \n      context 'when last_name is missing' do\n        let(:user) { build(:user, first_name: 'John', last_name: nil) }\n        \n        it 'returns only first_name' do\n          expect(user.full_name).to eq('John')\n        end\n      end\n    end\n    \n    describe '#active?' do\n      context 'when user is active' do\n        let(:user) { build(:user, status: 'active') }\n        \n        it 'returns true' do\n          expect(user.active?).to be true\n        end\n      end\n      \n      context 'when user is inactive' do\n        let(:user) { build(:user, status: 'inactive') }\n        \n        it 'returns false' do\n          expect(user.active?).to be false\n        end\n      end\n    end\n  end\n  \n  describe 'class methods' do\n    describe '.active' do\n      let!(:active_user) { create(:user, status: 'active') }\n      let!(:inactive_user) { create(:user, status: 'inactive') }\n      \n      it 'returns only active users' do\n        expect(User.active).to include(active_user)\n        expect(User.active).not_to include(inactive_user)\n      end\n    end\n    \n    describe '.find_by_email' do\n      let!(:user) { create(:user, email: 'test@example.com') }\n      \n      it 'finds user by email' do\n        found_user = User.find_by_email('test@example.com')\n        expect(found_user).to eq(user)\n      end\n      \n      it 'returns nil when user not found' do\n        found_user = User.find_by_email('nonexistent@example.com')\n        expect(found_user).to be_nil\n      end\n    end\n  end\n  \n  describe 'scopes' do\n    describe '.recent' do\n      let!(:old_user) { create(:user, created_at: 1.year.ago) }\n      let!(:recent_user) { create(:user, created_at: 1.day.ago) }\n      \n      it 'returns users created in the last 30 days' do\n        expect(User.recent).to include(recent_user)\n        expect(User.recent).not_to include(old_user)\n      end\n    end\n  end\nend\n```\n\n## Minitest Example Output\n\n```ruby\n# test/models/user_test.rb\nrequire 'test_helper'\n\nclass UserTest < ActiveSupport::TestCase\n  def setup\n    @user = users(:john)\n    @valid_attributes = {\n      name: 'Jane Doe',\n      email: 'jane@example.com',\n      age: 25\n    }\n  end\n  \n  # Validation tests\n  test 'should not save user without name' do\n    user = User.new(@valid_attributes.except(:name))\n    assert_not user.save\n    assert_includes user.errors[:name], \"can't be blank\"\n  end\n  \n  test 'should not save user without email' do\n    user = User.new(@valid_attributes.except(:email))\n    assert_not user.save\n    assert_includes user.errors[:email], \"can't be blank\"\n  end\n  \n  test 'should not save user with invalid email' do\n    user = User.new(@valid_attributes.merge(email: 'invalid-email'))\n    assert_not user.save\n    assert_includes user.errors[:email], 'is invalid'\n  end\n  \n  test 'should not save user with duplicate email' do\n    user1 = User.create!(@valid_attributes)\n    user2 = User.new(@valid_attributes)\n    assert_not user2.save\n    assert_includes user2.errors[:email], 'has already been taken'\n  end\n  \n  test 'should save user with valid attributes' do\n    user = User.new(@valid_attributes)\n    assert user.save\n  end\n  \n  # Association tests\n  test 'should have many posts' do\n    assert_respond_to @user, :posts\n    assert_kind_of ActiveRecord::Associations::CollectionProxy, @user.posts\n  end\n  \n  test 'should have many comments' do\n    assert_respond_to @user, :comments\n  end\n  \n  # Instance method tests\n  test 'full_name should return first and last name' do\n    @user.first_name = 'John'\n    @user.last_name = 'Doe'\n    assert_equal 'John Doe', @user.full_name\n  end\n  \n  test 'full_name should return first name only when last name is missing' do\n    @user.first_name = 'John'\n    @user.last_name = nil\n    assert_equal 'John', @user.full_name\n  end\n  \n  test 'active? should return true for active users' do\n    @user.status = 'active'\n    assert @user.active?\n  end\n  \n  test 'active? should return false for inactive users' do\n    @user.status = 'inactive'\n    assert_not @user.active?\n  end\n  \n  # Class method tests\n  test 'active scope should return only active users' do\n    active_user = User.create!(@valid_attributes.merge(status: 'active'))\n    inactive_user = User.create!(@valid_attributes.merge(\n      email: 'inactive@example.com',\n      status: 'inactive'\n    ))\n    \n    active_users = User.active\n    assert_includes active_users, active_user\n    assert_not_includes active_users, inactive_user\n  end\n  \n  test 'find_by_email should find user by email' do\n    user = User.create!(@valid_attributes)\n    found_user = User.find_by_email(@valid_attributes[:email])\n    assert_equal user, found_user\n  end\n  \n  test 'find_by_email should return nil when user not found' do\n    found_user = User.find_by_email('nonexistent@example.com')\n    assert_nil found_user\n  end\nend\n```\n\n## Controller Test Example\n\n```ruby\n# spec/controllers/users_controller_spec.rb\nrequire 'rails_helper'\n\nRSpec.describe UsersController, type: :controller do\n  let(:user) { create(:user) }\n  let(:valid_attributes) { attributes_for(:user) }\n  let(:invalid_attributes) { { name: '', email: 'invalid' } }\n  \n  describe 'GET #index' do\n    it 'returns a success response' do\n      get :index\n      expect(response).to be_successful\n    end\n    \n    it 'assigns @users' do\n      user1 = create(:user)\n      user2 = create(:user)\n      get :index\n      expect(assigns(:users)).to match_array([user1, user2])\n    end\n  end\n  \n  describe 'GET #show' do\n    it 'returns a success response' do\n      get :show, params: { id: user.to_param }\n      expect(response).to be_successful\n    end\n    \n    it 'assigns the requested user' do\n      get :show, params: { id: user.to_param }\n      expect(assigns(:user)).to eq(user)\n    end\n  end\n  \n  describe 'POST #create' do\n    context 'with valid parameters' do\n      it 'creates a new User' do\n        expect {\n          post :create, params: { user: valid_attributes }\n        }.to change(User, :count).by(1)\n      end\n      \n      it 'redirects to the created user' do\n        post :create, params: { user: valid_attributes }\n        expect(response).to redirect_to(User.last)\n      end\n    end\n    \n    context 'with invalid parameters' do\n      it 'does not create a new User' do\n        expect {\n          post :create, params: { user: invalid_attributes }\n        }.to change(User, :count).by(0)\n      end\n      \n      it 'renders the new template' do\n        post :create, params: { user: invalid_attributes }\n        expect(response).to render_template(:new)\n      end\n    end\n  end\n  \n  describe 'PUT #update' do\n    context 'with valid parameters' do\n      let(:new_attributes) { { name: 'Updated Name' } }\n      \n      it 'updates the requested user' do\n        put :update, params: { id: user.to_param, user: new_attributes }\n        user.reload\n        expect(user.name).to eq('Updated Name')\n      end\n      \n      it 'redirects to the user' do\n        put :update, params: { id: user.to_param, user: new_attributes }\n        expect(response).to redirect_to(user)\n      end\n    end\n    \n    context 'with invalid parameters' do\n      it 'renders the edit template' do\n        put :update, params: { id: user.to_param, user: invalid_attributes }\n        expect(response).to render_template(:edit)\n      end\n    end\n  end\n  \n  describe 'DELETE #destroy' do\n    it 'destroys the requested user' do\n      user # Create user\n      expect {\n        delete :destroy, params: { id: user.to_param }\n      }.to change(User, :count).by(-1)\n    end\n    \n    it 'redirects to the users list' do\n      delete :destroy, params: { id: user.to_param }\n      expect(response).to redirect_to(users_url)\n    end\n  end\nend\n```\n\n## Factory Configuration\n\n```ruby\n# spec/factories/users.rb\nFactoryBot.define do\n  factory :user do\n    sequence(:name) { |n| \"User #{n}\" }\n    sequence(:email) { |n| \"user#{n}@example.com\" }\n    age { rand(18..80) }\n    status { 'active' }\n    \n    trait :inactive do\n      status { 'inactive' }\n    end\n    \n    trait :admin do\n      admin { true }\n    end\n    \n    trait :with_posts do\n      after(:create) do |user|\n        create_list(:post, 3, user: user)\n      end\n    end\n    \n    factory :admin_user, traits: [:admin]\n    factory :inactive_user, traits: [:inactive]\n  end\nend\n```\n\n## Test Helper Configuration\n\n```ruby\n# spec/spec_helper.rb\nrequire 'simplecov'\nSimpleCov.start 'rails' do\n  add_filter '/spec/'\n  add_filter '/config/'\n  add_filter '/vendor/'\n  \n  add_group 'Controllers', 'app/controllers'\n  add_group 'Models', 'app/models'\n  add_group 'Services', 'app/services'\n  add_group 'Libraries', 'lib'\nend\n\nRSpec.configure do |config|\n  config.expect_with :rspec do |expectations|\n    expectations.include_chain_clauses_in_custom_matcher_descriptions = true\n  end\n  \n  config.mock_with :rspec do |mocks|\n    mocks.verify_partial_doubles = true\n  end\n  \n  config.shared_context_metadata_behavior = :apply_to_host_groups\n  config.filter_run_when_matching :focus\n  config.example_status_persistence_file_path = 'spec/examples.txt'\n  config.disable_monkey_patching!\n  config.warnings = true\n  \n  if config.files_to_run.one?\n    config.default_formatter = 'doc'\n  end\n  \n  config.profile_examples = 10\n  config.order = :random\n  Kernel.srand config.seed\nend\n```\n\n## Integration Test Example\n\n```ruby\n# spec/requests/api/users_spec.rb\nrequire 'rails_helper'\n\nRSpec.describe 'API::Users', type: :request do\n  let(:user) { create(:user) }\n  let(:valid_headers) {\n    { 'Authorization' => \"Bearer #{user.auth_token}\" }\n  }\n  \n  describe 'GET /api/users' do\n    it 'returns users' do\n      create_list(:user, 3)\n      \n      get '/api/users', headers: valid_headers\n      \n      expect(response).to have_http_status(:ok)\n      expect(JSON.parse(response.body)['users'].size).to eq(3)\n    end\n  end\n  \n  describe 'POST /api/users' do\n    let(:valid_params) do\n      {\n        user: {\n          name: 'New User',\n          email: 'new@example.com'\n        }\n      }\n    end\n    \n    it 'creates a new user' do\n      post '/api/users', params: valid_params, headers: valid_headers\n      \n      expect(response).to have_http_status(:created)\n      expect(JSON.parse(response.body)['user']['name']).to eq('New User')\n    end\n  end\nend\n```\n\n## Best Practices Included\n\n- **Descriptive test names** that explain expected behavior\n- **Proper test organization** with contexts and describes\n- **Factory usage** for test data generation\n- **Mocking and stubbing** for external dependencies\n- **Coverage configuration** with SimpleCov\n- **Test helpers** and shared examples\n- **Request/Integration tests** for API endpoints\n- **Feature tests** for user workflows"
              },
              {
                "name": "/authentication",
                "description": null,
                "path": "cli-tool/templates/ruby/examples/rails-app/.claude/commands/authentication.md",
                "frontmatter": null,
                "content": "# Rails 8 Native Authentication Generator\n\nGenerate Rails 8's built-in authentication system with modern security practices.\n\n## Purpose\n\nThis command helps you implement Rails 8's new native authentication system, eliminating the need for external gems like Devise for basic authentication needs.\n\n## Usage\n\n```\n/authentication\n```\n\n## What this command does\n\n1. **Generates authentication models** with secure password handling\n2. **Creates authentication controllers** for login/logout/signup\n3. **Adds authentication views** with modern styling\n4. **Implements session management** with security best practices\n5. **Sets up authentication helpers** for controllers and views\n\n## Rails 8 Authentication Generator\n\n```bash\n# Generate authentication for User model\nbin/rails generate authentication User\n\n# Or specify custom model name\nbin/rails generate authentication Account\n\n# Generate with custom attributes\nbin/rails generate authentication User first_name:string last_name:string\n```\n\n## Generated User Model\n\n```ruby\n# app/models/user.rb\nclass User < ApplicationRecord\n  has_secure_password\n  \n  validates :email, presence: true, uniqueness: true\n  validates :password, length: { minimum: 8 }, if: -> { new_record? || !password.blank? }\n  \n  normalizes :email, with: ->(email) { email.strip.downcase }\n  \n  before_save :normalize_email\n  \n  private\n  \n  def normalize_email\n    self.email = email.downcase.strip\n  end\nend\n```\n\n## Authentication Controller\n\n```ruby\n# app/controllers/authentication_controller.rb\nclass AuthenticationController < ApplicationController\n  skip_before_action :authenticate_user!, only: [:new, :create]\n  \n  def new\n    # Login page\n  end\n  \n  def create\n    user = User.find_by(email: params[:email])\n    \n    if user&.authenticate(params[:password])\n      login(user)\n      redirect_to root_path, notice: 'Logged in successfully'\n    else\n      flash.now[:alert] = 'Invalid email or password'\n      render :new, status: :unprocessable_entity\n    end\n  end\n  \n  def destroy\n    logout\n    redirect_to root_path, notice: 'Logged out successfully'\n  end\n  \n  private\n  \n  def login(user)\n    session[:user_id] = user.id\n    @current_user = user\n  end\n  \n  def logout\n    session[:user_id] = nil\n    @current_user = nil\n  end\nend\n```\n\n## Registration Controller\n\n```ruby\n# app/controllers/registrations_controller.rb\nclass RegistrationsController < ApplicationController\n  skip_before_action :authenticate_user!\n  \n  def new\n    @user = User.new\n  end\n  \n  def create\n    @user = User.new(user_params)\n    \n    if @user.save\n      login(@user)\n      redirect_to root_path, notice: 'Account created successfully'\n    else\n      render :new, status: :unprocessable_entity\n    end\n  end\n  \n  private\n  \n  def user_params\n    params.require(:user).permit(:email, :password, :password_confirmation, :first_name, :last_name)\n  end\n  \n  def login(user)\n    session[:user_id] = user.id\n    @current_user = user\n  end\nend\n```\n\n## Application Controller Updates\n\n```ruby\n# app/controllers/application_controller.rb\nclass ApplicationController < ActionController::Base\n  protect_from_forgery with: :exception\n  \n  before_action :authenticate_user!\n  \n  private\n  \n  def authenticate_user!\n    redirect_to login_path, alert: 'Please log in to continue' unless current_user\n  end\n  \n  def current_user\n    @current_user ||= User.find(session[:user_id]) if session[:user_id]\n  end\n  helper_method :current_user\n  \n  def logged_in?\n    !!current_user\n  end\n  helper_method :logged_in?\n  \n  def require_login\n    unless logged_in?\n      flash[:alert] = 'You must be logged in to access this page'\n      redirect_to login_path\n    end\n  end\nend\n```\n\n## Authentication Views\n\n### Login Form\n```erb\n<!-- app/views/authentication/new.html.erb -->\n<div class=\"authentication-form\">\n  <h1>Log In</h1>\n  \n  <%= form_with url: login_path, local: true, class: \"auth-form\" do |form| %>\n    <div class=\"form-group\">\n      <%= form.label :email, \"Email\" %>\n      <%= form.email_field :email, required: true, autofocus: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password, \"Password\" %>\n      <%= form.password_field :password, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-actions\">\n      <%= form.submit \"Log In\", class: \"btn btn-primary\" %>\n    </div>\n  <% end %>\n  \n  <div class=\"auth-links\">\n    <%= link_to \"Don't have an account? Sign up\", signup_path %>\n  </div>\n</div>\n```\n\n### Registration Form\n```erb\n<!-- app/views/registrations/new.html.erb -->\n<div class=\"authentication-form\">\n  <h1>Sign Up</h1>\n  \n  <%= form_with model: @user, url: signup_path, local: true, class: \"auth-form\" do |form| %>\n    <% if @user.errors.any? %>\n      <div class=\"error-messages\">\n        <h3><%= pluralize(@user.errors.count, \"error\") %> prohibited this account from being saved:</h3>\n        <ul>\n          <% @user.errors.full_messages.each do |message| %>\n            <li><%= message %></li>\n          <% end %>\n        </ul>\n      </div>\n    <% end %>\n    \n    <div class=\"form-group\">\n      <%= form.label :first_name, \"First Name\" %>\n      <%= form.text_field :first_name, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :last_name, \"Last Name\" %>\n      <%= form.text_field :last_name, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :email, \"Email\" %>\n      <%= form.email_field :email, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password, \"Password\" %>\n      <%= form.password_field :password, required: true, minlength: 8, class: \"form-control\" %>\n      <small class=\"form-text\">Minimum 8 characters</small>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password_confirmation, \"Confirm Password\" %>\n      <%= form.password_field :password_confirmation, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-actions\">\n      <%= form.submit \"Sign Up\", class: \"btn btn-primary\" %>\n    </div>\n  <% end %>\n  \n  <div class=\"auth-links\">\n    <%= link_to \"Already have an account? Log in\", login_path %>\n  </div>\n</div>\n```\n\n## Route Configuration\n\n```ruby\n# config/routes.rb\nRails.application.routes.draw do\n  # Authentication routes\n  get    'login',  to: 'authentication#new'\n  post   'login',  to: 'authentication#create'\n  delete 'logout', to: 'authentication#destroy'\n  \n  # Registration routes\n  get  'signup', to: 'registrations#new'\n  post 'signup', to: 'registrations#create'\n  \n  # User management routes\n  resources :users, except: [:new, :create]\n  \n  # Root route\n  root 'dashboard#index'\nend\n```\n\n## Migration Files\n\n```ruby\n# db/migrate/xxx_create_users.rb\nclass CreateUsers < ActiveRecord::Migration[8.0]\n  def change\n    create_table :users do |t|\n      t.string :email, null: false\n      t.string :password_digest, null: false\n      t.string :first_name\n      t.string :last_name\n      \n      t.timestamps\n    end\n    \n    add_index :users, :email, unique: true\n  end\nend\n```\n\n## Advanced Authentication Features\n\n### Password Reset\n```ruby\n# app/controllers/password_resets_controller.rb\nclass PasswordResetsController < ApplicationController\n  skip_before_action :authenticate_user!\n  \n  def new\n    # Password reset request form\n  end\n  \n  def create\n    @user = User.find_by(email: params[:email])\n    if @user\n      @user.send_password_reset\n      redirect_to root_path, notice: 'Email sent with password reset instructions'\n    else\n      flash.now[:alert] = 'Email address not found'\n      render :new\n    end\n  end\n  \n  def edit\n    @user = User.find_by(password_reset_token: params[:id])\n    if @user.nil? || @user.password_reset_sent_at < 2.hours.ago\n      redirect_to new_password_reset_path, alert: 'Password reset has expired'\n    end\n  end\n  \n  def update\n    @user = User.find_by(password_reset_token: params[:id])\n    if @user && @user.password_reset_sent_at > 2.hours.ago\n      if @user.update(password_params)\n        @user.update_columns(password_reset_token: nil, password_reset_sent_at: nil)\n        redirect_to root_path, notice: 'Password has been reset'\n      else\n        render :edit\n      end\n    else\n      redirect_to new_password_reset_path, alert: 'Password reset has expired'\n    end\n  end\n  \n  private\n  \n  def password_params\n    params.require(:user).permit(:password, :password_confirmation)\n  end\nend\n```\n\n### User Model Extensions\n```ruby\n# app/models/user.rb (extended)\nclass User < ApplicationRecord\n  has_secure_password\n  \n  validates :email, presence: true, uniqueness: true\n  validates :password, length: { minimum: 8 }, if: -> { new_record? || !password.blank? }\n  \n  normalizes :email, with: ->(email) { email.strip.downcase }\n  \n  # Password reset functionality\n  def send_password_reset\n    generate_token(:password_reset_token)\n    self.password_reset_sent_at = Time.zone.now\n    save!\n    UserMailer.password_reset(self).deliver_now\n  end\n  \n  def full_name\n    \"#{first_name} #{last_name}\".strip\n  end\n  \n  def initials\n    \"#{first_name&.first}#{last_name&.first}\".upcase\n  end\n  \n  private\n  \n  def generate_token(column)\n    begin\n      self[column] = SecureRandom.urlsafe_base64\n    end while User.exists?(column => self[column])\n  end\nend\n```\n\n## Session Security Enhancements\n\n```ruby\n# config/application.rb\nconfig.session_store :cookie_store, {\n  key: '_myapp_session',\n  secure: Rails.env.production?,\n  httponly: true,\n  same_site: :lax\n}\n\n# config/environments/production.rb\nconfig.force_ssl = true\nconfig.session_store :cookie_store, {\n  key: '_myapp_session',\n  secure: true,\n  httponly: true,\n  same_site: :strict\n}\n```\n\n## Authentication Helper Methods\n\n```ruby\n# app/helpers/authentication_helper.rb\nmodule AuthenticationHelper\n  def user_avatar(user, size: 40)\n    if user.avatar.present?\n      image_tag user.avatar, alt: user.full_name, class: \"avatar\", size: \"#{size}x#{size}\"\n    else\n      content_tag :div, user.initials, class: \"avatar avatar-initials\", \n                  style: \"width: #{size}px; height: #{size}px; line-height: #{size}px;\"\n    end\n  end\n  \n  def current_user_menu\n    if logged_in?\n      render 'shared/user_menu'\n    else\n      render 'shared/guest_menu'\n    end\n  end\nend\n```\n\n## Testing Authentication\n\n```ruby\n# spec/models/user_spec.rb\nRSpec.describe User, type: :model do\n  describe 'validations' do\n    it { should validate_presence_of(:email) }\n    it { should validate_uniqueness_of(:email) }\n    it { should validate_length_of(:password).is_at_least(8) }\n    it { should have_secure_password }\n  end\n  \n  describe 'email normalization' do\n    it 'normalizes email to lowercase' do\n      user = User.create!(email: 'USER@EXAMPLE.COM', password: 'password123')\n      expect(user.email).to eq('user@example.com')\n    end\n  end\n  \n  describe '#full_name' do\n    it 'returns combined first and last name' do\n      user = User.new(first_name: 'John', last_name: 'Doe')\n      expect(user.full_name).to eq('John Doe')\n    end\n  end\nend\n\n# spec/controllers/authentication_controller_spec.rb\nRSpec.describe AuthenticationController, type: :controller do\n  describe 'POST #create' do\n    let(:user) { create(:user, password: 'password123') }\n    \n    context 'with valid credentials' do\n      it 'logs in the user' do\n        post :create, params: { email: user.email, password: 'password123' }\n        expect(session[:user_id]).to eq(user.id)\n        expect(response).to redirect_to(root_path)\n      end\n    end\n    \n    context 'with invalid credentials' do\n      it 'does not log in the user' do\n        post :create, params: { email: user.email, password: 'wrong' }\n        expect(session[:user_id]).to be_nil\n        expect(response).to render_template(:new)\n      end\n    end\n  end\nend\n```\n\n## Security Best Practices Included\n\n- **Secure password hashing** with bcrypt\n- **Email normalization** to prevent duplicates\n- **CSRF protection** enabled by default\n- **Session security** with httponly and secure flags\n- **Password strength validation** (minimum 8 characters)\n- **Timing attack prevention** in authentication\n- **Password reset token expiration**\n- **SSL enforcement** in production"
              }
            ],
            "skills": []
          },
          {
            "name": "project-management-suite",
            "description": "Project management toolkit with sprint planning, task automation, and team collaboration tools",
            "source": "./",
            "category": null,
            "version": "1.0.0",
            "author": {
              "name": "Daniel Avila"
            },
            "install_commands": [
              "/plugin marketplace add Justdvp/claude-code-templates",
              "/plugin install project-management-suite@claude-code-templates"
            ],
            "signals": {
              "stars": 5,
              "forks": 0,
              "pushed_at": "2026-01-12T22:20:42Z",
              "created_at": "2022-10-16T16:39:58Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/lint",
                "description": null,
                "path": ".claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Python Linter\n\nRun Python code linting and formatting tools.\n\n## Purpose\n\nThis command helps you maintain code quality using Python's best linting and formatting tools.\n\n## Usage\n\n```\n/lint\n```\n\n## What this command does\n\n1. **Runs multiple linters** (flake8, pylint, black, isort)\n2. **Provides detailed feedback** on code quality issues\n3. **Auto-fixes formatting** where possible\n4. **Checks type hints** if mypy is configured\n\n## Example Commands\n\n### Black (code formatting)\n```bash\n# Format all Python files\nblack .\n\n# Check formatting without changing files\nblack --check .\n\n# Format specific file\nblack src/main.py\n```\n\n### flake8 (style guide enforcement)\n```bash\n# Check all Python files\nflake8 .\n\n# Check specific directory\nflake8 src/\n\n# Check with specific rules\nflake8 --max-line-length=88 .\n```\n\n### isort (import sorting)\n```bash\n# Sort imports in all files\nisort .\n\n# Check import sorting\nisort --check-only .\n\n# Sort imports in specific file\nisort src/main.py\n```\n\n### pylint (comprehensive linting)\n```bash\n# Run pylint on all files\npylint src/\n\n# Run with specific score threshold\npylint --fail-under=8.0 src/\n\n# Generate detailed report\npylint --output-format=html src/ > pylint_report.html\n```\n\n### mypy (type checking)\n```bash\n# Check types in all files\nmypy .\n\n# Check specific module\nmypy src/models.py\n\n# Check with strict mode\nmypy --strict src/\n```\n\n## Configuration Files\n\nMost projects benefit from configuration files:\n\n### .flake8\n```ini\n[flake8]\nmax-line-length = 88\nexclude = .git,__pycache__,venv\nignore = E203,W503\n```\n\n### pyproject.toml\n```toml\n[tool.black]\nline-length = 88\n\n[tool.isort]\nprofile = \"black\"\n```\n\n## Best Practices\n\n- Run linters before committing code\n- Use consistent formatting across the project\n- Fix linting issues promptly\n- Configure linters to match your team's style\n- Use type hints for better code documentation"
              },
              {
                "name": "/test",
                "description": null,
                "path": ".claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Runner\n\nRun Python tests with pytest, unittest, or other testing frameworks.\n\n## Purpose\n\nThis command helps you run Python tests effectively with proper configuration and reporting.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Detects test framework** (pytest, unittest, nose2)\n2. **Runs appropriate tests** with proper configuration\n3. **Provides coverage reporting** if available\n4. **Shows clear test results** with failure details\n\n## Example Commands\n\n### pytest (recommended)\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=src --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n\n# Run tests matching pattern\npytest -k \"test_user\"\n```\n\n### unittest\n```bash\n# Run all tests\npython -m unittest discover\n\n# Run specific test file\npython -m unittest tests.test_models\n\n# Run with verbose output\npython -m unittest -v\n```\n\n### Django tests\n```bash\n# Run all Django tests\npython manage.py test\n\n# Run specific app tests\npython manage.py test myapp\n\n# Run with coverage\ncoverage run --source='.' manage.py test\ncoverage report\n```\n\n## Best Practices\n\n- Write tests for all critical functionality\n- Use descriptive test names\n- Keep tests isolated and independent\n- Mock external dependencies\n- Aim for high test coverage (80%+)"
              },
              {
                "name": "/git-workflow",
                "description": null,
                "path": "cli-tool/templates/common/.claude/commands/git-workflow.md",
                "frontmatter": null,
                "content": "# Git Workflow Helper\n\nManage Git workflows with best practices and common operations.\n\n## Purpose\n\nThis command helps you perform common Git operations following best practices for collaborative development.\n\n## Usage\n\n```\n/git-workflow\n```\n\n## What this command does\n\n1. **Guides through Git operations** with proper workflow\n2. **Suggests best practices** for commits and branches\n3. **Helps with conflict resolution** and merging\n4. **Provides templates** for commit messages\n5. **Manages branching strategies** (Git Flow, GitHub Flow)\n\n## Common Workflows\n\n### Feature Development\n```bash\n# Create and switch to feature branch\ngit checkout -b feature/user-authentication\n\n# Work on your feature\n# ... make changes ...\n\n# Stage and commit changes\ngit add .\ngit commit -m \"feat: add user authentication system\n\n- Implement login/logout functionality\n- Add password validation\n- Create user session management\n- Add authentication middleware\"\n\n# Push feature branch\ngit push -u origin feature/user-authentication\n\n# Create pull request (via GitHub/GitLab interface)\n```\n\n### Hotfix Workflow\n```bash\n# Create hotfix branch from main\ngit checkout main\ngit checkout -b hotfix/security-patch\n\n# Fix the issue\n# ... make changes ...\n\n# Commit the fix\ngit commit -m \"fix: resolve security vulnerability in auth module\n\n- Patch XSS vulnerability in login form\n- Update input validation\n- Add CSRF protection\"\n\n# Push and create urgent PR\ngit push -u origin hotfix/security-patch\n```\n\n### Sync with Remote\n```bash\n# Update main branch\ngit checkout main\ngit pull origin main\n\n# Update feature branch with latest main\ngit checkout feature/your-feature\ngit rebase main\n# OR\ngit merge main\n```\n\n## Commit Message Conventions\n\n### Conventional Commits Format\n```\n<type>[optional scope]: <description>\n\n[optional body]\n\n[optional footer(s)]\n```\n\n### Common Types\n- **feat**: New feature\n- **fix**: Bug fix\n- **docs**: Documentation changes\n- **style**: Code style changes (formatting, etc.)\n- **refactor**: Code refactoring\n- **test**: Adding or updating tests\n- **chore**: Maintenance tasks\n\n### Examples\n```bash\n# Feature\ngit commit -m \"feat(auth): add OAuth2 integration\"\n\n# Bug fix\ngit commit -m \"fix(api): handle null response in user endpoint\"\n\n# Documentation\ngit commit -m \"docs: update API documentation for v2.0\"\n\n# Breaking change\ngit commit -m \"feat!: change API response format\n\nBREAKING CHANGE: API responses now use 'data' wrapper\"\n```\n\n## Branch Management\n\n### Git Flow Strategy\n```bash\n# Main branches\nmain        # Production-ready code\ndevelop     # Integration branch\n\n# Supporting branches\nfeature/*   # New features\nrelease/*   # Release preparation\nhotfix/*    # Quick fixes to production\n```\n\n### GitHub Flow (Simplified)\n```bash\n# Only main branch + feature branches\nmain        # Production-ready code\nfeature/*   # All new work\n```\n\n## Conflict Resolution\n\n### When Conflicts Occur\n```bash\n# Start merge/rebase\ngit merge feature-branch\n# OR\ngit rebase main\n\n# If conflicts occur, Git will list conflicted files\n# Edit each file to resolve conflicts\n\n# Mark conflicts as resolved\ngit add conflicted-file.js\n\n# Continue the merge/rebase\ngit merge --continue\n# OR\ngit rebase --continue\n```\n\n### Conflict Markers\n```javascript\n<<<<<<< HEAD\n// Your current branch code\nconst user = getCurrentUser();\n=======\n// Incoming branch code\nconst user = getAuthenticatedUser();\n>>>>>>> feature-branch\n```\n\n## Useful Git Commands\n\n### Status and Information\n```bash\ngit status                    # Check working directory status\ngit log --oneline            # View commit history\ngit branch -a                # List all branches\ngit remote -v                # List remote repositories\n```\n\n### Undoing Changes\n```bash\ngit checkout -- file.js     # Discard changes to file\ngit reset HEAD file.js       # Unstage file\ngit reset --soft HEAD~1     # Undo last commit (keep changes)\ngit reset --hard HEAD~1     # Undo last commit (discard changes)\n```\n\n### Stashing Work\n```bash\ngit stash                    # Save current work\ngit stash pop               # Apply and remove latest stash\ngit stash list              # List all stashes\ngit stash apply stash@{1}   # Apply specific stash\n```\n\n## Best Practices\n\n1. **Commit Often** - Make small, focused commits\n2. **Write Clear Messages** - Use conventional commit format\n3. **Test Before Committing** - Ensure code works\n4. **Pull Before Push** - Keep history clean\n5. **Use Branches** - Don't work directly on main\n6. **Review Code** - Use pull requests for collaboration\n7. **Keep History Clean** - Rebase feature branches when appropriate\n\n## Git Hooks (Optional)\n\n### Pre-commit Hook\n```bash\n#!/bin/sh\n# .git/hooks/pre-commit\n\n# Run linter\nnpm run lint\nif [ $? -ne 0 ]; then\n  echo \"Linting failed. Please fix errors before committing.\"\n  exit 1\nfi\n\n# Run tests\nnpm test\nif [ $? -ne 0 ]; then\n  echo \"Tests failed. Please fix tests before committing.\"\n  exit 1\nfi\n```\n\n### Commit Message Hook\n```bash\n#!/bin/sh\n# .git/hooks/commit-msg\n\n# Check commit message format\nif ! grep -qE \"^(feat|fix|docs|style|refactor|test|chore)(\\(.+\\))?: .{1,50}\" \"$1\"; then\n  echo \"Invalid commit message format. Use conventional commits.\"\n  exit 1\nfi\n```"
              },
              {
                "name": "/project-setup",
                "description": null,
                "path": "cli-tool/templates/common/.claude/commands/project-setup.md",
                "frontmatter": null,
                "content": "# Project Setup Helper\n\nSet up new projects with proper structure and best practices.\n\n## Purpose\n\nThis command helps you set up new projects with proper directory structure, configuration files, and development environment.\n\n## Usage\n\n```\n/project-setup\n```\n\n## What this command does\n\n1. **Creates project structure** with standard directories\n2. **Sets up configuration files** (.gitignore, README, etc.)\n3. **Initializes version control** and development tools\n4. **Configures environment files** and dependencies\n5. **Follows language-specific** conventions and best practices\n\n## Project Structure Templates\n\n### Generic Project Structure\n```\nproject-name/\n‚îú‚îÄ‚îÄ README.md                 # Project documentation\n‚îú‚îÄ‚îÄ .gitignore               # Git ignore rules\n‚îú‚îÄ‚îÄ .env.example             # Environment variables template\n‚îú‚îÄ‚îÄ LICENSE                  # Project license\n‚îú‚îÄ‚îÄ CHANGELOG.md             # Version history\n‚îú‚îÄ‚îÄ docs/                    # Documentation\n‚îÇ   ‚îú‚îÄ‚îÄ API.md\n‚îÇ   ‚îú‚îÄ‚îÄ CONTRIBUTING.md\n‚îÇ   ‚îî‚îÄ‚îÄ DEPLOYMENT.md\n‚îú‚îÄ‚îÄ src/                     # Source code\n‚îÇ   ‚îú‚îÄ‚îÄ main/\n‚îÇ   ‚îú‚îÄ‚îÄ utils/\n‚îÇ   ‚îî‚îÄ‚îÄ config/\n‚îú‚îÄ‚îÄ tests/                   # Test files\n‚îÇ   ‚îú‚îÄ‚îÄ unit/\n‚îÇ   ‚îú‚îÄ‚îÄ integration/\n‚îÇ   ‚îî‚îÄ‚îÄ fixtures/\n‚îú‚îÄ‚îÄ scripts/                 # Build and deployment scripts\n‚îÇ   ‚îú‚îÄ‚îÄ build.sh\n‚îÇ   ‚îú‚îÄ‚îÄ deploy.sh\n‚îÇ   ‚îî‚îÄ‚îÄ setup.sh\n‚îî‚îÄ‚îÄ config/                  # Configuration files\n    ‚îú‚îÄ‚îÄ development.yml\n    ‚îú‚îÄ‚îÄ production.yml\n    ‚îî‚îÄ‚îÄ testing.yml\n```\n\n### Web Application Structure\n```\nweb-app/\n‚îú‚îÄ‚îÄ public/                  # Static assets\n‚îÇ   ‚îú‚îÄ‚îÄ index.html\n‚îÇ   ‚îú‚îÄ‚îÄ favicon.ico\n‚îÇ   ‚îî‚îÄ‚îÄ assets/\n‚îÇ       ‚îú‚îÄ‚îÄ css/\n‚îÇ       ‚îú‚îÄ‚îÄ js/\n‚îÇ       ‚îî‚îÄ‚îÄ images/\n‚îú‚îÄ‚îÄ src/                     # Source code\n‚îÇ   ‚îú‚îÄ‚îÄ components/          # Reusable components\n‚îÇ   ‚îú‚îÄ‚îÄ pages/              # Page components\n‚îÇ   ‚îú‚îÄ‚îÄ services/           # API services\n‚îÇ   ‚îú‚îÄ‚îÄ utils/              # Utility functions\n‚îÇ   ‚îú‚îÄ‚îÄ styles/             # Stylesheets\n‚îÇ   ‚îî‚îÄ‚îÄ config/             # Configuration\n‚îú‚îÄ‚îÄ tests/                   # Test files\n‚îî‚îÄ‚îÄ build/                   # Build output\n```\n\n### API Project Structure\n```\napi-project/\n‚îú‚îÄ‚îÄ src/\n‚îÇ   ‚îú‚îÄ‚îÄ controllers/         # Request handlers\n‚îÇ   ‚îú‚îÄ‚îÄ models/             # Data models\n‚îÇ   ‚îú‚îÄ‚îÄ services/           # Business logic\n‚îÇ   ‚îú‚îÄ‚îÄ middleware/         # Custom middleware\n‚îÇ   ‚îú‚îÄ‚îÄ routes/             # API routes\n‚îÇ   ‚îú‚îÄ‚îÄ utils/              # Utility functions\n‚îÇ   ‚îî‚îÄ‚îÄ config/             # Configuration\n‚îú‚îÄ‚îÄ tests/\n‚îÇ   ‚îú‚îÄ‚îÄ unit/\n‚îÇ   ‚îú‚îÄ‚îÄ integration/\n‚îÇ   ‚îî‚îÄ‚îÄ e2e/\n‚îú‚îÄ‚îÄ docs/\n‚îÇ   ‚îú‚îÄ‚îÄ api-spec.yml        # OpenAPI specification\n‚îÇ   ‚îî‚îÄ‚îÄ README.md\n‚îî‚îÄ‚îÄ scripts/\n    ‚îú‚îÄ‚îÄ seed-db.js          # Database seeding\n    ‚îî‚îÄ‚îÄ migrate.js          # Database migrations\n```\n\n## Essential Configuration Files\n\n### .gitignore Template\n```gitignore\n# Dependencies\nnode_modules/\n*.log\nnpm-debug.log*\n\n# Environment files\n.env\n.env.local\n.env.production\n\n# Build outputs\ndist/\nbuild/\n*.tgz\n\n# IDE files\n.vscode/\n.idea/\n*.swp\n*.swo\n\n# OS files\n.DS_Store\nThumbs.db\n\n# Temporary files\n*.tmp\n*.temp\n```\n\n### README.md Template\n```markdown\n# Project Name\n\nBrief description of what this project does.\n\n## Features\n\n- Feature 1\n- Feature 2\n- Feature 3\n\n## Installation\n\n\\`\\`\\`bash\n# Clone the repository\ngit clone https://github.com/username/project-name.git\n\n# Install dependencies\nnpm install\n\n# Copy environment file\ncp .env.example .env\n\\`\\`\\`\n\n## Usage\n\n\\`\\`\\`bash\n# Start development server\nnpm run dev\n\n# Run tests\nnpm test\n\n# Build for production\nnpm run build\n\\`\\`\\`\n\n## API Documentation\n\n[API documentation](docs/API.md)\n\n## Contributing\n\nPlease read [CONTRIBUTING.md](docs/CONTRIBUTING.md) for details.\n\n## License\n\nThis project is licensed under the MIT License - see [LICENSE](LICENSE) file.\n```\n\n### .env.example Template\n```env\n# Application\nNODE_ENV=development\nPORT=3000\nHOST=localhost\n\n# Database\nDB_HOST=localhost\nDB_PORT=5432\nDB_NAME=myapp\nDB_USER=username\nDB_PASSWORD=password\n\n# API Keys\nAPI_KEY=your-api-key-here\nSECRET_KEY=your-secret-key-here\n\n# External Services\nREDIS_URL=redis://localhost:6379\nEMAIL_SERVICE_API_KEY=your-email-key\n```\n\n## Development Environment Setup\n\n### Package.json Scripts\n```json\n{\n  \"scripts\": {\n    \"start\": \"node src/index.js\",\n    \"dev\": \"nodemon src/index.js\",\n    \"test\": \"jest\",\n    \"test:watch\": \"jest --watch\",\n    \"test:coverage\": \"jest --coverage\",\n    \"lint\": \"eslint src/\",\n    \"lint:fix\": \"eslint src/ --fix\",\n    \"format\": \"prettier --write src/\",\n    \"build\": \"webpack --mode production\",\n    \"build:dev\": \"webpack --mode development\",\n    \"clean\": \"rm -rf dist/\"\n  }\n}\n```\n\n### Git Initialization\n```bash\n# Initialize Git repository\ngit init\n\n# Add initial files\ngit add .\n\n# Create initial commit\ngit commit -m \"feat: initial project setup\n\n- Add project structure\n- Configure development environment\n- Add documentation templates\n- Set up testing framework\"\n\n# Add remote origin\ngit remote add origin https://github.com/username/project-name.git\n\n# Push to remote\ngit push -u origin main\n```\n\n## Language-Specific Setup\n\n### Node.js/JavaScript\n```bash\nnpm init -y\nnpm install --save-dev nodemon jest eslint prettier\n```\n\n### Python\n```bash\npython -m venv venv\nsource venv/bin/activate  # On Windows: venv\\Scripts\\activate\npip install -r requirements.txt\n```\n\n### Docker Setup\n```dockerfile\n# Dockerfile\nFROM node:16-alpine\nWORKDIR /app\nCOPY package*.json ./\nRUN npm install\nCOPY . .\nEXPOSE 3000\nCMD [\"npm\", \"start\"]\n```\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\nservices:\n  app:\n    build: .\n    ports:\n      - \"3000:3000\"\n    environment:\n      - NODE_ENV=development\n    volumes:\n      - .:/app\n      - /app/node_modules\n```\n\n## Best Practices\n\n1. **Consistent Structure** - Follow established conventions\n2. **Clear Documentation** - Write comprehensive README\n3. **Environment Variables** - Keep secrets out of code\n4. **Version Control** - Initialize Git from the start\n5. **Testing Setup** - Configure testing from day one\n6. **Code Quality** - Set up linting and formatting\n7. **CI/CD Ready** - Structure for automated deployment\n8. **Security** - Include security best practices\n\n## Checklist\n\n- [ ] Create project directory structure\n- [ ] Initialize version control (Git)\n- [ ] Set up package manager (npm, pip, etc.)\n- [ ] Create README.md with project info\n- [ ] Add .gitignore file\n- [ ] Set up environment variables\n- [ ] Configure linting and formatting\n- [ ] Set up testing framework\n- [ ] Create basic documentation\n- [ ] Add license file\n- [ ] Set up CI/CD configuration (if needed)"
              },
              {
                "name": "/api-endpoint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/api-endpoint.md",
                "frontmatter": null,
                "content": "# API Endpoint Generator\n\nGenerate a complete API endpoint for $ARGUMENTS following project conventions.\n\n## Task\n\nI'll analyze the project structure and create a new API endpoint with:\n\n1. Route definition\n2. Controller/handler function\n3. Input validation\n4. Service layer logic (if applicable)\n5. Data access layer (if applicable)\n6. Unit tests\n7. Documentation\n\n## Process\n\nI'll follow these steps:\n\n1. Examine the project structure to understand the architecture pattern\n2. Identify existing patterns for routes, controllers, and validation\n3. Create all necessary files following project conventions\n4. Implement the endpoint with proper error handling\n5. Add appropriate tests\n6. Document the new endpoint\n\n## Best Practices\n\nI'll ensure the implementation includes:\n\n- Strong typing with TypeScript\n- Comprehensive error handling\n- Input validation\n- Security considerations (authentication/authorization)\n- Proper logging\n- Performance considerations\n- Test coverage\n\n## Adaptability\n\nI'll adapt to various API architectures:\n\n- Express/Koa/Fastify REST APIs\n- GraphQL resolvers\n- Next.js/Nuxt.js API routes\n- Serverless functions\n- tRPC endpoints\n- NestJS controllers\n\nI'll examine your project first to determine which pattern to follow."
              },
              {
                "name": "/debug",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/debug.md",
                "frontmatter": null,
                "content": "# Debug Assistant\n\nHelp me debug the issue with $ARGUMENTS in this project.\n\n## Task\n\nI'll help you identify and fix the problem by:\n\n1. Understanding the issue description\n2. Analyzing relevant code\n3. Identifying potential causes\n4. Suggesting and implementing fixes\n5. Verifying the solution works\n\n## Process\n\nI'll follow these steps:\n\n1. Examine error messages, logs, or unexpected behaviors\n2. Locate relevant files and code sections\n3. Analyze the code flow and potential failure points\n4. Identify common JavaScript/TypeScript pitfalls that might apply\n5. Suggest specific fixes with explanations\n6. Help implement and test the solution\n\n## Debugging Techniques\n\nI'll apply appropriate debugging techniques such as:\n\n- Static code analysis to find syntax or type errors\n- Runtime error analysis from logs or stack traces\n- Control flow tracing to understand execution paths\n- State inspection to identify incorrect values\n- Dependency analysis to find version conflicts\n- Network request inspection for API issues\n- Browser console analysis for frontend problems\n- Database query inspection for data issues\n\n## Common Issues I Can Help With\n\n- Type errors and null/undefined issues\n- Asynchronous code problems (Promises, async/await)\n- React/Vue/Angular component lifecycle issues\n- API integration problems\n- State management bugs\n- Performance bottlenecks\n- Memory leaks\n- Build/compilation errors\n- Testing failures\n- Environment configuration issues\n\nI'll adapt my approach based on your specific project structure, frameworks, and the nature of the problem."
              },
              {
                "name": "/lint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Lint Assistant\n\nAnalyze and fix linting issues in $ARGUMENTS following project conventions.\n\n## Task\n\nI'll help you identify and fix code style and quality issues by:\n\n1. Running appropriate linters for the project\n2. Analyzing linting errors and warnings\n3. Fixing issues automatically when possible\n4. Explaining complex issues that require manual intervention\n5. Ensuring code follows project style guidelines\n\n## Process\n\nI'll follow these steps:\n\n1. Identify the linting tools used in the project (ESLint, Prettier, TSLint, etc.)\n2. Run the appropriate linting commands\n3. Parse and categorize the results\n4. Apply automatic fixes for common issues\n5. Provide explanations and suggestions for more complex problems\n6. Verify fixes don't introduce new issues\n\n## Common Linting Issues I Can Fix\n\n- Code style inconsistencies (spacing, indentation, quotes, etc.)\n- Unused variables and imports\n- Missing type annotations in TypeScript\n- Accessibility (a11y) issues in UI components\n- Potential bugs flagged by static analysis\n- Performance issues in React/Vue components\n- Security vulnerabilities detected by linters\n- Deprecated API usage\n- Import ordering problems\n- Missing documentation\n\n## Linting Tools I Can Work With\n\n- ESLint (with various plugins and configs)\n- Prettier\n- TSLint (legacy)\n- stylelint (for CSS/SCSS)\n- commitlint (for commit messages)\n- Custom lint rules specific to your project\n\nI'll adapt my approach based on your project's specific linting configuration and style guide requirements."
              },
              {
                "name": "/npm-scripts",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/npm-scripts.md",
                "frontmatter": null,
                "content": "# NPM Scripts Assistant\n\nHelp me with NPM scripts: $ARGUMENTS\n\n## Task\n\nI'll help you work with package.json scripts by:\n\n1. Analyzing existing npm scripts in your project\n2. Creating new scripts or modifying existing ones\n3. Explaining what specific scripts do\n4. Suggesting improvements or optimizations\n5. Troubleshooting script execution issues\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your package.json file to understand current scripts\n2. Analyze dependencies and devDependencies for available tools\n3. Identify common patterns and conventions in your scripts\n4. Implement requested changes or create new scripts\n5. Provide explanations of how the scripts work\n6. Test scripts when possible to verify functionality\n\n## Common Script Types I Can Help With\n\n- Build processes (webpack, rollup, esbuild, etc.)\n- Development servers and hot reloading\n- Testing (unit, integration, e2e)\n- Linting and code formatting\n- Type checking\n- Deployment and CI/CD\n- Database migrations\n- Code generation\n- Environment setup\n- Pre/post hooks for git operations\n\n## Script Optimization Techniques\n\n- Parallelizing tasks for faster execution\n- Adding cross-platform compatibility\n- Improving error reporting and logging\n- Implementing watch modes for development\n- Creating composite scripts for common workflows\n- Adding appropriate exit codes for CI/CD pipelines\n\nI'll adapt my approach based on your project's specific needs, dependencies, and build tools."
              },
              {
                "name": "/refactor",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/refactor.md",
                "frontmatter": null,
                "content": "# Code Refactoring Assistant\n\nRefactor $ARGUMENTS following modern JavaScript/TypeScript best practices.\n\n## Task\n\nI'll help you refactor code by:\n\n1. Analyzing the current implementation\n2. Identifying improvement opportunities\n3. Applying modern patterns and practices\n4. Maintaining existing functionality\n5. Ensuring type safety and test coverage\n6. Documenting the changes made\n\n## Process\n\nI'll follow these steps:\n\n1. Examine the code to understand its purpose and structure\n2. Identify code smells, anti-patterns, or outdated approaches\n3. Plan the refactoring strategy with clear goals\n4. Implement changes incrementally while maintaining behavior\n5. Verify refactored code with tests\n6. Document improvements and benefits\n\n## Refactoring Techniques\n\nI can apply various refactoring techniques:\n\n- Converting to modern JavaScript/TypeScript features\n- Improving type definitions and type safety\n- Extracting reusable functions and components\n- Applying design patterns appropriately\n- Converting callbacks to Promises or async/await\n- Simplifying complex conditionals and loops\n- Removing duplicate code\n- Improving naming and readability\n- Optimizing performance\n- Enhancing error handling\n\n## Modern Practices I Can Apply\n\n- ES modules and import/export syntax\n- Optional chaining and nullish coalescing\n- Array and object destructuring\n- Spread and rest operators\n- Template literals\n- Arrow functions\n- Class fields and private methods\n- TypeScript utility types\n- Functional programming patterns\n- React hooks (for React components)\n\nI'll ensure the refactored code maintains compatibility with your project's requirements while improving quality and maintainability."
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Assistant\n\nHelp with tests for $ARGUMENTS following project conventions and testing best practices.\n\n## Task\n\nI'll help you with testing by:\n\n1. Creating comprehensive test suites for your code\n2. Implementing different types of tests (unit, integration, e2e)\n3. Mocking dependencies and external services\n4. Improving test coverage for existing code\n5. Troubleshooting failing tests\n6. Setting up testing infrastructure\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your project to understand testing frameworks and patterns\n2. Analyze the code to be tested to understand its functionality\n3. Identify appropriate testing strategies and edge cases\n4. Implement tests with proper structure and assertions\n5. Ensure tests are maintainable and follow best practices\n6. Run tests to verify they pass and provide adequate coverage\n\n## Testing Frameworks I Can Work With\n\n- Jest, Vitest, Mocha, Jasmine for JavaScript/TypeScript\n- React Testing Library, Enzyme for React components\n- Cypress, Playwright, Puppeteer for E2E testing\n- Supertest, Pactum for API testing\n- Storybook for component testing\n- Testing-library family for various frameworks\n\n## Testing Techniques\n\nI can implement various testing approaches:\n\n- TDD (Test-Driven Development)\n- BDD (Behavior-Driven Development)\n- Snapshot testing\n- Property-based testing\n- Parameterized tests\n- Contract testing\n- Visual regression testing\n- Performance testing\n\n## Mocking Strategies\n\nI can help with different mocking approaches:\n\n- Function mocks and spies\n- Module mocks\n- HTTP request mocking\n- Browser API mocking\n- Timer mocking\n- Database mocking\n- Service worker mocking\n\nI'll adapt to your project's specific testing frameworks, patterns, and conventions to ensure consistency with your existing codebase."
              },
              {
                "name": "/typescript-migrate",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/.claude/commands/typescript-migrate.md",
                "frontmatter": null,
                "content": "# TypeScript Migration Assistant\n\nMigrate $ARGUMENTS from JavaScript to TypeScript with proper typing and modern practices.\n\n## Task\n\nI'll help you migrate JavaScript code to TypeScript by:\n\n1. Converting JavaScript files to TypeScript (.js/.jsx to .ts/.tsx)\n2. Adding appropriate type definitions and interfaces\n3. Configuring TypeScript settings for your project\n4. Resolving type errors and compatibility issues\n5. Implementing modern TypeScript patterns and features\n6. Ensuring backward compatibility with existing code\n\n## Process\n\nI'll follow these steps:\n\n1. Examine your project structure and dependencies\n2. Analyze the JavaScript code to understand its functionality\n3. Create or update tsconfig.json with appropriate settings\n4. Convert files to TypeScript with proper type annotations\n5. Add necessary type definitions for libraries\n6. Fix type errors and implement type safety\n7. Refactor code to leverage TypeScript features\n\n## TypeScript Features I Can Implement\n\n- Interfaces and type aliases for complex data structures\n- Generics for reusable, type-safe components and functions\n- Union and intersection types for flexible typing\n- Enums for related constants\n- Utility types (Partial, Pick, Omit, etc.)\n- Type guards and type narrowing\n- Mapped and conditional types\n- Function overloading\n- Readonly properties and immutability\n- Module augmentation for extending third-party types\n\n## Migration Strategies\n\nI can apply different migration approaches based on your needs:\n\n- Gradual migration with allowJs and incremental adoption\n- File-by-file conversion while maintaining functionality\n- Comprehensive migration with full type safety\n- Hybrid approach with .d.ts files for complex modules\n- Integration with existing type definitions (@types packages)\n\nI'll adapt to your project's specific requirements and ensure a smooth transition to TypeScript while maintaining existing functionality."
              },
              {
                "name": "/components",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/angular-app/.claude/commands/components.md",
                "frontmatter": null,
                "content": "# Angular Components\n\nCreate Angular components for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Angular components based on the requirements:\n\n1. **Analyze existing components**: Check current component patterns, naming conventions, and folder organization\n2. **Examine Angular setup**: Review project structure, module organization, and TypeScript configuration\n3. **Identify component type**: Determine the component category:\n   - Presentation components (dumb/pure components)\n   - Container components (smart components with state)\n   - Feature components (business logic components)\n   - Shared/UI components (reusable across features)\n   - Layout components (structural components)\n4. **Check dependencies**: Review existing components and shared modules to avoid duplication\n5. **Implement component**: Create component with proper TypeScript types and lifecycle hooks\n6. **Add inputs/outputs**: Define @Input and @Output properties with proper typing\n7. **Create template**: Build HTML template with proper Angular directives and bindings\n8. **Add styles**: Implement component styles following project's styling approach\n9. **Create tests**: Write comprehensive unit tests with TestBed and proper mocking\n10. **Update module**: Register component in appropriate Angular module\n\n## Implementation Requirements\n\n- Follow project's Angular architecture and naming conventions\n- Use proper component lifecycle hooks (OnInit, OnDestroy, etc.)\n- Include comprehensive TypeScript interfaces for inputs and outputs\n- Implement proper change detection strategy (OnPush when possible)\n- Add proper subscription management with takeUntil or async pipe\n- Follow Angular style guide and project coding standards\n- Consider component performance and memory management\n\n## Component Patterns to Consider\n\nBased on the request:\n- **Smart Components**: Container components that manage state and services\n- **Dumb Components**: Presentation components that only receive inputs\n- **Feature Components**: Components specific to business features\n- **Shared Components**: Reusable UI components across the application\n- **Form Components**: Reactive forms with validation and custom controls\n- **Data Display**: Components for tables, lists, cards with proper data binding\n\n## Angular-Specific Implementation\n\n- **Template Syntax**: Proper use of Angular directives (*ngFor, *ngIf, etc.)\n- **Data Binding**: Property binding, event binding, two-way binding\n- **Change Detection**: OnPush strategy for performance optimization\n- **Lifecycle Management**: Proper use of lifecycle hooks\n- **Dependency Injection**: Service injection in component constructors\n- **Testing**: TestBed configuration with proper mocking and spies\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same styling approach and class naming as existing components\n- Follow project's folder structure for components (usually feature-based)\n- Don't install new dependencies without asking\n- Consider component reusability and single responsibility principle\n- Add proper TypeScript types for all component properties and methods\n- Use trackBy functions for performance in *ngFor loops\n- Implement proper unsubscription patterns to prevent memory leaks"
              },
              {
                "name": "/services",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/angular-app/.claude/commands/services.md",
                "frontmatter": null,
                "content": "# Angular Services\n\nCreate Angular services for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Angular services based on the requirements:\n\n1. **Analyze existing services**: Check current service patterns, naming conventions, and folder organization\n2. **Examine Angular setup**: Review project structure, dependency injection patterns, and TypeScript configuration\n3. **Identify service type**: Determine the service category:\n   - Data services (HTTP API calls, state management)\n   - Utility services (validation, formatting, helpers)\n   - Business logic services (calculations, workflows)\n   - Infrastructure services (logging, authentication, error handling)\n   - Feature services (component-specific logic)\n4. **Check dependencies**: Review existing services and shared modules to avoid duplication\n5. **Implement service**: Create service with proper dependency injection and TypeScript types\n6. **Add error handling**: Include comprehensive error handling with RxJS operators\n7. **Create tests**: Write unit tests with proper mocking following project patterns\n8. **Update module registration**: Register service in appropriate Angular modules\n\n## Implementation Requirements\n\n- Follow project's Angular architecture and naming conventions (usually .service.ts)\n- Use proper dependency injection with @Injectable decorator\n- Include comprehensive TypeScript interfaces and types\n- Implement proper RxJS patterns (observables, operators, error handling)\n- Add proper error handling and logging integration\n- Follow single responsibility principle for service design\n- Consider service lifecycle and singleton patterns\n\n## Service Patterns to Consider\n\nBased on the request:\n- **HTTP Data Services**: API calls with proper error handling and caching\n- **State Management**: Services for sharing data between components\n- **Authentication**: User authentication, token management, guards\n- **Business Logic**: Complex calculations, workflows, validations\n- **Utility Services**: Reusable functions, formatters, validators\n- **Feature Services**: Component-specific logic extraction\n- **Infrastructure**: Logging, monitoring, configuration services\n\n## Angular-Specific Implementation\n\n- **Dependency Injection**: Proper use of @Injectable and providedIn\n- **RxJS Integration**: Observables, subjects, operators for reactive programming\n- **HTTP Client**: Angular HttpClient for API communication\n- **Error Handling**: Global error handling and user-friendly error messages\n- **Testing**: TestBed, jasmine, karma for comprehensive unit testing\n- **Module Organization**: Feature modules, shared modules, core modules\n\n## Important Notes\n\n- ALWAYS examine existing services first to understand project patterns\n- Use the same error handling and response patterns as existing services\n- Follow project's folder structure for services (usually /services or /core)\n- Don't install new dependencies without asking\n- Consider service performance and memory management\n- Add proper RxJS subscription management to prevent memory leaks\n- Use Angular's built-in services (HttpClient, Router) rather than external libraries\n- Include proper TypeScript types for all service methods and properties"
              },
              {
                "name": "/api-endpoint",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/api-endpoint.md",
                "frontmatter": null,
                "content": "# API Endpoint Generator\n\nGenerate a complete API endpoint for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate a new API endpoint with all necessary components:\n\n1. **Analyze project architecture**: Examine existing API structure, patterns, and conventions\n2. **Identify framework**: Determine if using Express, Fastify, NestJS, Next.js API routes, or other framework\n3. **Check authentication**: Review existing auth patterns and middleware usage\n4. **Examine data layer**: Identify database/ORM patterns (Prisma, TypeORM, Mongoose, etc.)\n5. **Create endpoint structure**: Generate route, controller, validation, and service layers\n6. **Implement business logic**: Add core functionality with proper error handling\n7. **Add validation**: Include input validation using project's validation library\n8. **Create tests**: Write unit and integration tests following project patterns\n9. **Update documentation**: Add endpoint documentation (OpenAPI/Swagger if used)\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing middleware patterns for auth, validation, logging\n- Include proper HTTP status codes and error responses\n- Add comprehensive input validation and sanitization\n- Implement proper logging and monitoring\n- Consider rate limiting and security headers\n- Follow project's database transaction patterns\n\n## Framework-Specific Patterns\n\nI'll adapt to your project's framework:\n- **Express**: Routes, controllers, middleware\n- **Fastify**: Routes, handlers, schemas, plugins\n- **NestJS**: Controllers, services, DTOs, guards\n- **Next.js**: API routes with proper HTTP methods\n- **tRPC**: Procedures with input/output validation\n- **GraphQL**: Resolvers with proper type definitions\n\n## Important Notes\n\n- ALWAYS examine existing endpoints first to understand project patterns\n- Use the same error handling and response format as existing endpoints\n- Follow project's folder structure and naming conventions\n- Don't install new dependencies without asking\n- Consider backward compatibility if modifying existing endpoints\n- Add proper database migrations if schema changes are needed"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# Database Operations\n\nSet up database operations for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize database operations based on the requirements:\n\n1. **Analyze existing database setup**: Check current database configuration, ORM/ODM, and connection patterns\n2. **Identify database type**: Determine if using MongoDB, PostgreSQL, MySQL, or other database\n3. **Examine ORM/ODM**: Check for Prisma, TypeORM, Mongoose, Sequelize, or raw SQL patterns\n4. **Review existing models**: Understand current schema patterns and relationships\n5. **Check migration system**: Identify migration tools and patterns in use\n6. **Implement operations**: Create models, repositories, or services following project architecture\n7. **Add validation**: Include proper schema validation and constraints\n8. **Create tests**: Write database operation tests following project patterns\n9. **Update migrations**: Add necessary database migrations if schema changes required\n\n## Implementation Requirements\n\n- Follow project's database architecture patterns\n- Use existing ORM/ODM configuration and connection setup\n- Include proper TypeScript types for all database operations\n- Add comprehensive error handling and transaction management\n- Implement proper indexing for performance\n- Follow project's naming conventions for tables/collections and fields\n- Consider data validation at both application and database levels\n\n## Database Patterns to Consider\n\nBased on your project setup:\n- **Repository Pattern**: Separate data access logic from business logic\n- **Active Record**: Models with built-in database operations\n- **Data Mapper**: Separate domain models from database schema\n- **Query Builder**: Fluent interface for building database queries\n- **Raw SQL**: Direct database queries for complex operations\n\n## Operation Types\n\nCommon database operations to implement:\n- **CRUD operations**: Create, Read, Update, Delete\n- **Bulk operations**: Batch inserts, updates, deletes\n- **Aggregation**: Complex queries with grouping and calculations\n- **Relationships**: Managing foreign keys and joins\n- **Transactions**: Ensuring data consistency\n- **Migrations**: Schema changes and data transformations\n\n## Important Notes\n\n- ALWAYS examine existing database setup first to understand project patterns\n- Use the same connection configuration and environment variables\n- Follow project's folder structure for models/schemas\n- Don't install new database dependencies without asking\n- Consider performance implications (indexes, query optimization)\n- Add proper database connection pooling if not already configured\n- Include proper cleanup and connection closing in tests"
              },
              {
                "name": "/middleware",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/middleware.md",
                "frontmatter": null,
                "content": "# Express Middleware\n\nCreate Express middleware for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Express middleware based on the requirements:\n\n1. **Analyze existing middleware**: Check current middleware patterns, naming conventions, and file organization\n2. **Examine Express setup**: Review app configuration, middleware stack order, and TypeScript usage\n3. **Identify middleware type**: Determine the middleware category:\n   - Authentication/Authorization (JWT, sessions, role-based)\n   - Validation (request body, params, query validation)\n   - Logging (request/response logging, audit trails)\n   - Error handling (global error handlers, custom errors)\n   - Security (CORS, rate limiting, helmet)\n   - Utility (parsing, compression, static files)\n4. **Check dependencies**: Review existing middleware dependencies to avoid duplication\n5. **Implement middleware**: Create middleware with proper TypeScript types and error handling\n6. **Test middleware**: Write unit and integration tests following project patterns\n7. **Update middleware stack**: Integrate middleware into Express app configuration\n8. **Add documentation**: Include JSDoc comments and usage examples\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing error handling patterns and response formats\n- Include proper request/response typing with custom interfaces\n- Add comprehensive error handling and logging\n- Consider middleware execution order and dependencies\n- Implement proper async/await patterns for async middleware\n- Follow project's folder structure for middleware files\n\n## Middleware Patterns to Consider\n\nBased on the request:\n- **Authentication**: JWT verification, session management, API key validation\n- **Authorization**: Role-based access control, permission checking\n- **Validation**: Schema validation with Joi/Zod, sanitization\n- **Logging**: Request logging, performance monitoring, audit trails\n- **Error Handling**: Global error handlers, custom error classes\n- **Security**: CORS configuration, rate limiting, input sanitization\n- **Utility**: Request parsing, response formatting, caching\n\n## Integration Considerations\n\n- **Middleware order**: Ensure proper execution sequence in Express app\n- **Error propagation**: Handle errors correctly with next() function\n- **Request enhancement**: Add properties to request object with proper typing\n- **Response modification**: Modify response objects while maintaining type safety\n- **Performance**: Consider middleware performance impact on request processing\n\n## Important Notes\n\n- ALWAYS examine existing middleware first to understand project patterns\n- Use the same error handling and response format as existing middleware\n- Follow project's folder structure for middleware (usually /middleware)\n- Don't install new dependencies without asking\n- Consider middleware performance and request processing impact\n- Add proper TypeScript types for enhanced request/response objects\n- Test middleware in isolation and integration contexts"
              },
              {
                "name": "/route",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/node-api/.claude/commands/route.md",
                "frontmatter": null,
                "content": "# Route Creator\n\nCreate API routes for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize API routes based on the requirements:\n\n1. **Analyze project structure**: Check existing route patterns, folder organization, and framework setup\n2. **Examine framework**: Identify if using Express, Fastify, NestJS, or other Node.js framework\n3. **Review existing routes**: Understand current routing patterns, validation, and error handling\n4. **Check authentication**: Review existing auth middleware and protection patterns\n5. **Define route structure**: Determine HTTP methods, path parameters, and request/response schemas\n6. **Implement routes**: Create route handlers with proper validation and error handling\n7. **Add middleware**: Include authentication, validation, and logging middleware as needed\n8. **Create tests**: Write route tests following project testing patterns\n9. **Update route registration**: Integrate new routes into main router configuration\n\n## Implementation Requirements\n\n- Follow project's routing architecture and naming conventions\n- Use existing validation libraries (Joi, Zod, class-validator, etc.)\n- Include proper TypeScript types for request/response objects\n- Add comprehensive error handling with appropriate HTTP status codes\n- Implement proper authentication/authorization if required\n- Follow RESTful conventions unless project uses different patterns\n- Add proper logging and monitoring integration\n\n## Route Patterns to Consider\n\nBased on the request:\n- **CRUD operations**: Create, Read, Update, Delete for resources\n- **RESTful endpoints**: GET, POST, PUT, PATCH, DELETE with proper semantics\n- **Nested resources**: Parent/child resource relationships\n- **Batch operations**: Bulk create, update, delete operations\n- **Search/filtering**: Query parameters for filtering and pagination\n- **File uploads**: Multipart form handling for file operations\n- **Webhook endpoints**: External service integration points\n\n## Framework-Specific Implementation\n\nAdapt to your project's framework:\n- **Express**: Router instances, middleware chains, route handlers\n- **Fastify**: Route plugins, schema validation, hooks\n- **NestJS**: Controllers, decorators, DTOs, guards, interceptors\n- **Koa**: Router middleware, context handling\n- **Next.js API**: API route handlers with proper HTTP methods\n\n## Important Notes\n\n- ALWAYS examine existing routes first to understand project patterns\n- Use the same validation and error handling patterns as existing routes\n- Follow project's folder structure for routes (usually /routes or /controllers)\n- Don't install new dependencies without asking\n- Consider route performance and database query optimization\n- Add proper OpenAPI/Swagger documentation if project uses it\n- Include rate limiting for public endpoints where appropriate"
              },
              {
                "name": "/component",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/component.md",
                "frontmatter": null,
                "content": "# React Component Generator\n\nCreate a React component named $ARGUMENTS following project conventions.\n\n## Steps\n\n1. **Analyze project structure**: Check existing components to understand file organization, naming conventions, and patterns\n2. **Examine styling approach**: Identify CSS/SCSS modules, styled-components, Tailwind, or other styling methods used\n3. **Review testing patterns**: Check existing test files to understand testing framework and conventions\n4. **Create component structure**: Generate appropriate files (component, styles, tests, index)\n5. **Implement component**: Write TypeScript/JavaScript with proper props interface and logic\n6. **Add tests**: Write comprehensive tests following project patterns\n7. **Verify integration**: Ensure component works with existing project setup\n\n## Requirements\n\n- Follow existing project file structure and naming conventions\n- Use TypeScript if project uses it\n- Include proper accessibility attributes\n- Add responsive design considerations\n- Write tests that match project testing patterns\n- Include usage examples in component documentation\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same styling approach as the rest of the project\n- Follow the project's TypeScript conventions for props and interfaces\n- Don't install new dependencies without asking first"
              },
              {
                "name": "/hooks",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/hooks.md",
                "frontmatter": null,
                "content": "# React Hooks\n\nCreate or optimize React hooks for $ARGUMENTS following project conventions.\n\n## Task\n\nAnalyze the request and create appropriate React hooks:\n\n1. **Examine existing hooks**: Check project for existing custom hooks patterns and conventions\n2. **Identify hook type**: Determine if creating new custom hook, optimizing existing hook, or implementing specific hook pattern\n3. **Check TypeScript usage**: Verify if project uses TypeScript and follow typing conventions\n4. **Implement hook**: Create hook with proper:\n   - Naming convention (use prefix)\n   - TypeScript types and interfaces\n   - Proper dependency arrays\n   - Error handling\n   - Performance optimizations\n5. **Add tests**: Create comprehensive unit tests using project's testing framework\n6. **Add documentation**: Include JSDoc comments and usage examples\n\n## Common Hook Patterns\n\nWhen creating hooks, consider these patterns based on the request:\n- **Data fetching**: API calls, loading states, error handling\n- **State management**: Local state, derived state, state persistence\n- **Side effects**: Event listeners, timers, subscriptions\n- **Context consumption**: Theme, auth, app state\n- **Form handling**: Input management, validation, submission\n- **Performance**: Memoization, debouncing, throttling\n\n## Requirements\n\n- Follow existing project hook conventions\n- Use TypeScript if project uses it\n- Include proper cleanup in useEffect\n- Add error boundaries where appropriate\n- Write tests that cover all hook functionality\n- IMPORTANT: Always check existing hooks first to understand project patterns\n\n## Notes\n\n- Ask for clarification if the hook requirements are ambiguous\n- Suggest optimizations for existing hooks if relevant\n- Consider accessibility implications for UI-related hooks"
              },
              {
                "name": "/state-management",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/react-app/.claude/commands/state-management.md",
                "frontmatter": null,
                "content": "# React State Management\n\nImplement state management solution for $ARGUMENTS following project conventions.\n\n## Task\n\nSet up or optimize state management based on the requirements:\n\n1. **Analyze current setup**: Check existing state management approach and project structure\n2. **Determine solution**: Based on requirements, choose appropriate state management:\n   - Context API for simple, localized state\n   - Redux Toolkit for complex, global state\n   - Zustand for lightweight global state\n   - Custom hooks for component-level state\n3. **Examine dependencies**: Check package.json for existing state management libraries\n4. **Implement solution**: Create store, providers, and hooks with proper TypeScript types\n5. **Set up middleware**: Add devtools, persistence, or other middleware as needed\n6. **Create typed hooks**: Generate properly typed selectors and dispatch hooks\n7. **Add tests**: Write unit tests for state logic and reducers\n8. **Update providers**: Integrate with app's provider hierarchy\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions\n- Use existing state management patterns if present\n- Create proper type definitions for state shape\n- Include error handling and loading states\n- Add proper debugging setup (devtools)\n- Consider performance optimizations (selectors, memoization)\n\n## State Management Selection Guide\n\nChoose based on complexity:\n- **Simple state**: React hooks + Context API\n- **Medium complexity**: Zustand or custom hooks\n- **Complex state**: Redux Toolkit with RTK Query\n- **Form state**: React Hook Form or Formik\n\n## Important Notes\n\n- ALWAYS check existing state management first\n- Don't install new dependencies without asking\n- Follow project's folder structure for state files\n- Consider server state vs client state separation\n- Add proper TypeScript types for all state interfaces"
              },
              {
                "name": "/components",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/vue-app/.claude/commands/components.md",
                "frontmatter": null,
                "content": "# Vue Components\n\nCreate Vue Single File Components for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Vue components based on the requirements:\n\n1. **Analyze project structure**: Check existing Vue components to understand patterns, conventions, and file organization\n2. **Examine Vue setup**: Identify Vue version (2/3), TypeScript usage, and Composition/Options API preference\n3. **Check styling approach**: Determine if using CSS modules, SCSS, styled-components, or other styling methods\n4. **Review testing patterns**: Check existing component tests to understand testing framework and conventions\n5. **Create component structure**: Generate SFC with template, script, and style sections\n6. **Implement component**: Write TypeScript interfaces, props, emits, and component logic\n7. **Add accessibility**: Include proper ARIA attributes and semantic HTML\n8. **Create tests**: Write comprehensive component tests following project patterns\n9. **Add documentation**: Include JSDoc comments and usage examples\n\n## Component Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use existing component patterns and naming conventions\n- Implement proper props validation and typing\n- Add appropriate event emissions with TypeScript signatures\n- Include scoped styles following project's styling approach\n- Add proper accessibility attributes (ARIA, semantic HTML)\n- Consider responsive design if applicable\n\n## Vue Patterns to Consider\n\nBased on the component type:\n- **Composition API**: For Vue 3 projects with `<script setup>`\n- **Options API**: For Vue 2 or legacy Vue 3 projects\n- **Composables**: Extract reusable logic into composables\n- **Provide/Inject**: For deep component communication\n- **Slots**: For flexible component content\n- **Teleport**: For portal-like functionality (Vue 3)\n\n## Important Notes\n\n- ALWAYS examine existing components first to understand project patterns\n- Use the same Vue API style (Composition vs Options) as the project\n- Follow project's folder structure for components\n- Don't install new dependencies without asking\n- Consider component performance (v-memo, computed properties)\n- Add proper TypeScript types for all props and emits"
              },
              {
                "name": "/composables",
                "description": null,
                "path": "cli-tool/templates/javascript-typescript/examples/vue-app/.claude/commands/composables.md",
                "frontmatter": null,
                "content": "# Vue Composables\n\nCreate Vue composables for $ARGUMENTS following project conventions.\n\n## Task\n\nCreate or optimize Vue composables based on the requirements:\n\n1. **Analyze existing composables**: Check project for existing composable patterns, naming conventions, and file organization\n2. **Examine Vue setup**: Verify Vue 3 Composition API usage and TypeScript configuration\n3. **Identify composable type**: Determine the composable category:\n   - State management (reactive data, computed properties)\n   - API/HTTP operations (data fetching, mutations)\n   - DOM interactions (event listeners, element refs)\n   - Utility functions (validation, formatting, storage)\n   - Lifecycle management (cleanup, watchers)\n4. **Check dependencies**: Review existing composables to avoid duplication\n5. **Implement composable**: Create composable with proper TypeScript types and reactivity\n6. **Add lifecycle management**: Include proper cleanup with onUnmounted when needed\n7. **Create tests**: Write comprehensive unit tests for composable logic\n8. **Add documentation**: Include JSDoc comments and usage examples\n\n## Implementation Requirements\n\n- Follow project's TypeScript conventions and interfaces\n- Use appropriate Vue reactivity APIs (ref, reactive, computed, watch)\n- Include proper error handling and loading states\n- Add cleanup for side effects (event listeners, timers, subscriptions)\n- Make composables reusable and focused on single responsibility\n- Consider performance implications (shallow vs deep reactivity)\n\n## Common Composable Patterns\n\nBased on the request:\n- **Data fetching**: API calls with loading/error states\n- **Form handling**: Input management, validation, submission\n- **State management**: Local state, persistence, computed values\n- **DOM utilities**: Element refs, event handling, intersection observer\n- **Storage**: localStorage, sessionStorage, IndexedDB\n- **Authentication**: User state, token management, permissions\n- **UI utilities**: Dark mode, responsive breakpoints, modals\n\n## Important Notes\n\n- ALWAYS examine existing composables first to understand project patterns\n- Use proper Vue 3 Composition API patterns\n- Follow project's folder structure for composables (usually /composables)\n- Don't install new dependencies without asking\n- Consider composable composition (using other composables within composables)\n- Add proper TypeScript return types and generic constraints\n- Include proper reactivity patterns (avoid losing reactivity)"
              },
              {
                "name": "/lint",
                "description": null,
                "path": "cli-tool/templates/python/.claude/commands/lint.md",
                "frontmatter": null,
                "content": "# Python Linter\n\nRun Python code linting and formatting tools.\n\n## Purpose\n\nThis command helps you maintain code quality using Python's best linting and formatting tools.\n\n## Usage\n\n```\n/lint\n```\n\n## What this command does\n\n1. **Runs multiple linters** (flake8, pylint, black, isort)\n2. **Provides detailed feedback** on code quality issues\n3. **Auto-fixes formatting** where possible\n4. **Checks type hints** if mypy is configured\n\n## Example Commands\n\n### Black (code formatting)\n```bash\n# Format all Python files\nblack .\n\n# Check formatting without changing files\nblack --check .\n\n# Format specific file\nblack src/main.py\n```\n\n### flake8 (style guide enforcement)\n```bash\n# Check all Python files\nflake8 .\n\n# Check specific directory\nflake8 src/\n\n# Check with specific rules\nflake8 --max-line-length=88 .\n```\n\n### isort (import sorting)\n```bash\n# Sort imports in all files\nisort .\n\n# Check import sorting\nisort --check-only .\n\n# Sort imports in specific file\nisort src/main.py\n```\n\n### pylint (comprehensive linting)\n```bash\n# Run pylint on all files\npylint src/\n\n# Run with specific score threshold\npylint --fail-under=8.0 src/\n\n# Generate detailed report\npylint --output-format=html src/ > pylint_report.html\n```\n\n### mypy (type checking)\n```bash\n# Check types in all files\nmypy .\n\n# Check specific module\nmypy src/models.py\n\n# Check with strict mode\nmypy --strict src/\n```\n\n## Configuration Files\n\nMost projects benefit from configuration files:\n\n### .flake8\n```ini\n[flake8]\nmax-line-length = 88\nexclude = .git,__pycache__,venv\nignore = E203,W503\n```\n\n### pyproject.toml\n```toml\n[tool.black]\nline-length = 88\n\n[tool.isort]\nprofile = \"black\"\n```\n\n## Best Practices\n\n- Run linters before committing code\n- Use consistent formatting across the project\n- Fix linting issues promptly\n- Configure linters to match your team's style\n- Use type hints for better code documentation"
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/python/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Test Runner\n\nRun Python tests with pytest, unittest, or other testing frameworks.\n\n## Purpose\n\nThis command helps you run Python tests effectively with proper configuration and reporting.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Detects test framework** (pytest, unittest, nose2)\n2. **Runs appropriate tests** with proper configuration\n3. **Provides coverage reporting** if available\n4. **Shows clear test results** with failure details\n\n## Example Commands\n\n### pytest (recommended)\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=src --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n\n# Run tests matching pattern\npytest -k \"test_user\"\n```\n\n### unittest\n```bash\n# Run all tests\npython -m unittest discover\n\n# Run specific test file\npython -m unittest tests.test_models\n\n# Run with verbose output\npython -m unittest -v\n```\n\n### Django tests\n```bash\n# Run all Django tests\npython manage.py test\n\n# Run specific app tests\npython manage.py test myapp\n\n# Run with coverage\ncoverage run --source='.' manage.py test\ncoverage report\n```\n\n## Best Practices\n\n- Write tests for all critical functionality\n- Use descriptive test names\n- Keep tests isolated and independent\n- Mock external dependencies\n- Aim for high test coverage (80%+)"
              },
              {
                "name": "/admin",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/admin.md",
                "frontmatter": null,
                "content": "# Django Admin Configuration\n\nConfigure Django admin interface with custom admin classes and functionality.\n\n## Purpose\n\nThis command helps you create comprehensive Django admin configurations with advanced features and customizations.\n\n## Usage\n\n```\n/admin\n```\n\n## What this command does\n\n1. **Registers models** with custom admin classes\n2. **Creates advanced admin interfaces** with filtering, search, and actions\n3. **Adds inline editing** for related models\n4. **Customizes list displays** and forms\n5. **Implements admin actions** for bulk operations\n\n## Example Output\n\n```python\n# admin.py\nfrom django.contrib import admin\nfrom django.utils.html import format_html\nfrom django.urls import reverse\nfrom django.utils.safestring import mark_safe\nfrom .models import Post, Category, Tag, Comment\n\n@admin.register(Category)\nclass CategoryAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Category model.\"\"\"\n    list_display = ['name', 'slug', 'post_count', 'created_at']\n    list_filter = ['created_at']\n    search_fields = ['name', 'description']\n    prepopulated_fields = {'slug': ('name',)}\n    readonly_fields = ['created_at', 'updated_at']\n    \n    def post_count(self, obj):\n        \"\"\"Display number of posts in this category.\"\"\"\n        count = obj.posts.count()\n        url = reverse('admin:blog_post_changelist') + f'?category__id__exact={obj.id}'\n        return format_html('<a href=\"{}\">{} posts</a>', url, count)\n    post_count.short_description = 'Posts'\n\nclass CommentInline(admin.TabularInline):\n    \"\"\"Inline admin for comments.\"\"\"\n    model = Comment\n    extra = 0\n    readonly_fields = ['created_at', 'author']\n    fields = ['author', 'content', 'is_approved', 'created_at']\n\n@admin.register(Post)\nclass PostAdmin(admin.ModelAdmin):\n    \"\"\"Advanced admin configuration for Post model.\"\"\"\n    list_display = [\n        'title', \n        'author', \n        'category', \n        'status', \n        'view_count',\n        'created_at',\n        'post_preview'\n    ]\n    list_filter = [\n        'status', \n        'category', \n        'created_at', \n        'updated_at',\n        ('author', admin.RelatedOnlyFieldListFilter)\n    ]\n    search_fields = ['title', 'content', 'author__username']\n    prepopulated_fields = {'slug': ('title',)}\n    readonly_fields = ['created_at', 'updated_at', 'view_count', 'post_preview']\n    \n    # Custom form layout\n    fieldsets = (\n        ('Content', {\n            'fields': ('title', 'slug', 'content', 'status')\n        }),\n        ('Metadata', {\n            'fields': ('author', 'category', 'tags'),\n            'classes': ('collapse',)\n        }),\n        ('SEO', {\n            'fields': ('meta_description', 'meta_keywords'),\n            'classes': ('collapse',)\n        }),\n        ('Timestamps', {\n            'fields': ('created_at', 'updated_at', 'view_count'),\n            'classes': ('collapse',)\n        }),\n    )\n    \n    # Many-to-many field display\n    filter_horizontal = ['tags']\n    \n    # Inline models\n    inlines = [CommentInline]\n    \n    # Custom list display methods\n    def post_preview(self, obj):\n        \"\"\"Show thumbnail preview of post.\"\"\"\n        if obj.featured_image:\n            return format_html(\n                '<img src=\"{}\" width=\"50\" height=\"50\" style=\"border-radius: 5px;\" />',\n                obj.featured_image.url\n            )\n        return \"No image\"\n    post_preview.short_description = 'Preview'\n    \n    # Custom admin actions\n    actions = ['make_published', 'make_draft', 'duplicate_posts']\n    \n    def make_published(self, request, queryset):\n        \"\"\"Bulk action to publish selected posts.\"\"\"\n        updated = queryset.update(status='published')\n        self.message_user(\n            request, \n            f'{updated} posts were successfully marked as published.'\n        )\n    make_published.short_description = \"Mark selected posts as published\"\n    \n    def make_draft(self, request, queryset):\n        \"\"\"Bulk action to set selected posts as draft.\"\"\"\n        updated = queryset.update(status='draft')\n        self.message_user(\n            request, \n            f'{updated} posts were successfully marked as draft.'\n        )\n    make_draft.short_description = \"Mark selected posts as draft\"\n    \n    def duplicate_posts(self, request, queryset):\n        \"\"\"Bulk action to duplicate selected posts.\"\"\"\n        count = 0\n        for post in queryset:\n            post.pk = None  # Create new instance\n            post.title = f\"Copy of {post.title}\"\n            post.slug = f\"copy-of-{post.slug}\"\n            post.status = 'draft'\n            post.save()\n            count += 1\n        \n        self.message_user(\n            request,\n            f'{count} posts were successfully duplicated.'\n        )\n    duplicate_posts.short_description = \"Duplicate selected posts\"\n\n@admin.register(Tag)\nclass TagAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Tag model.\"\"\"\n    list_display = ['name', 'slug', 'post_count', 'color_preview']\n    search_fields = ['name']\n    prepopulated_fields = {'slug': ('name',)}\n    \n    def post_count(self, obj):\n        \"\"\"Display number of posts with this tag.\"\"\"\n        return obj.posts.count()\n    post_count.short_description = 'Posts'\n    \n    def color_preview(self, obj):\n        \"\"\"Show color preview if tag has color field.\"\"\"\n        if hasattr(obj, 'color') and obj.color:\n            return format_html(\n                '<span style=\"background-color: {}; padding: 2px 8px; border-radius: 3px; color: white;\">{}</span>',\n                obj.color,\n                obj.name\n            )\n        return obj.name\n    color_preview.short_description = 'Preview'\n\n@admin.register(Comment)\nclass CommentAdmin(admin.ModelAdmin):\n    \"\"\"Admin configuration for Comment model.\"\"\"\n    list_display = ['author', 'post', 'content_preview', 'is_approved', 'created_at']\n    list_filter = ['is_approved', 'created_at', 'post__category']\n    search_fields = ['content', 'author__username', 'post__title']\n    readonly_fields = ['created_at', 'updated_at']\n    actions = ['approve_comments', 'disapprove_comments']\n    \n    def content_preview(self, obj):\n        \"\"\"Show truncated content preview.\"\"\"\n        return obj.content[:50] + \"...\" if len(obj.content) > 50 else obj.content\n    content_preview.short_description = 'Content'\n    \n    def approve_comments(self, request, queryset):\n        \"\"\"Bulk approve comments.\"\"\"\n        updated = queryset.update(is_approved=True)\n        self.message_user(request, f'{updated} comments were approved.')\n    approve_comments.short_description = \"Approve selected comments\"\n    \n    def disapprove_comments(self, request, queryset):\n        \"\"\"Bulk disapprove comments.\"\"\"\n        updated = queryset.update(is_approved=False)\n        self.message_user(request, f'{updated} comments were disapproved.')\n    disapprove_comments.short_description = \"Disapprove selected comments\"\n\n# Custom admin site configuration\nadmin.site.site_header = \"Blog Administration\"\nadmin.site.site_title = \"Blog Admin Portal\"\nadmin.site.index_title = \"Welcome to Blog Administration\"\n```\n\n## Advanced Features\n\n### Custom List Display\n- **Thumbnail previews** for images\n- **Related object counts** with links\n- **Status indicators** with colors\n- **Custom formatting** for data display\n\n### Filtering and Search\n- **Advanced filters** including date ranges\n- **Related field filtering** for foreign keys\n- **Search across multiple fields** including relations\n- **Custom filter classes** for complex queries\n\n### Inline Editing\n- **TabularInline** for compact editing\n- **StackedInline** for detailed forms\n- **Custom inline forms** with additional functionality\n- **Readonly fields** in inlines\n\n### Bulk Actions\n- **Status changes** for multiple objects\n- **Data export** functionality\n- **Batch operations** for efficiency\n- **Custom business logic** in actions\n\n### Form Customization\n- **Fieldsets** for organized layouts\n- **Collapsed sections** for advanced options\n- **Custom widgets** for better UX\n- **Validation** and error handling\n\n## Security Considerations\n\n- **Permission checks** in custom methods\n- **Input sanitization** in admin actions\n- **CSRF protection** (automatic)\n- **User authentication** (built-in)\n\n## Performance Optimization\n\n```python\n# Optimize queries with select_related/prefetch_related\nclass PostAdmin(admin.ModelAdmin):\n    def get_queryset(self, request):\n        queryset = super().get_queryset(request)\n        return queryset.select_related('author', 'category').prefetch_related('tags')\n```\n\n## Custom Admin Templates\n\n```python\n# Override admin templates\nclass PostAdmin(admin.ModelAdmin):\n    change_form_template = 'admin/blog/post/change_form.html'\n    change_list_template = 'admin/blog/post/change_list.html'\n```"
              },
              {
                "name": "/django-model",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/django-model.md",
                "frontmatter": null,
                "content": "# Django Model Generator\n\nCreate Django models with proper structure and relationships.\n\n## Purpose\n\nThis command helps you quickly create Django models with fields, relationships, and best practices.\n\n## Usage\n\n```\n/django-model\n```\n\n## What this command does\n\n1. **Creates model classes** with proper field definitions\n2. **Adds relationships** (ForeignKey, ManyToMany, OneToOne)\n3. **Includes meta options** and model methods\n4. **Generates migrations** automatically\n5. **Follows Django conventions** and best practices\n\n## Example Output\n\n```python\n# models.py\nfrom django.db import models\nfrom django.contrib.auth.models import User\n\nclass Category(models.Model):\n    name = models.CharField(max_length=100, unique=True)\n    slug = models.SlugField(unique=True)\n    description = models.TextField(blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    \n    class Meta:\n        verbose_name_plural = \"categories\"\n        ordering = ['name']\n    \n    def __str__(self):\n        return self.name\n\nclass Post(models.Model):\n    STATUS_CHOICES = [\n        ('draft', 'Draft'),\n        ('published', 'Published'),\n        ('archived', 'Archived'),\n    ]\n    \n    title = models.CharField(max_length=200)\n    slug = models.SlugField(unique=True)\n    content = models.TextField()\n    status = models.CharField(max_length=20, choices=STATUS_CHOICES, default='draft')\n    author = models.ForeignKey(User, on_delete=models.CASCADE, related_name='posts')\n    category = models.ForeignKey(Category, on_delete=models.SET_NULL, null=True, blank=True)\n    tags = models.ManyToManyField('Tag', blank=True)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n    \n    class Meta:\n        ordering = ['-created_at']\n        verbose_name = 'blog post'\n        verbose_name_plural = 'blog posts'\n    \n    def __str__(self):\n        return self.title\n    \n    def get_absolute_url(self):\n        return reverse('post_detail', kwargs={'slug': self.slug})\n\nclass Tag(models.Model):\n    name = models.CharField(max_length=50, unique=True)\n    slug = models.SlugField(unique=True)\n    \n    def __str__(self):\n        return self.name\n```\n\n## Field Types Supported\n\n- **CharField** - Text fields with max length\n- **TextField** - Large text fields\n- **IntegerField** - Integer numbers\n- **FloatField** - Floating point numbers\n- **BooleanField** - True/False values\n- **DateField** - Date only\n- **DateTimeField** - Date and time\n- **EmailField** - Email addresses\n- **URLField** - URLs\n- **ImageField** - Image uploads\n- **FileField** - File uploads\n- **JSONField** - JSON data (PostgreSQL)\n\n## Relationships\n\n- **ForeignKey** - One-to-many relationships\n- **ManyToManyField** - Many-to-many relationships\n- **OneToOneField** - One-to-one relationships\n\n## Best Practices Included\n\n- Proper field choices and defaults\n- Appropriate related_name attributes\n- __str__ methods for admin interface\n- Meta class with ordering and verbose names\n- get_absolute_url methods where appropriate\n- Proper use of null and blank parameters\n- Field validation and constraints\n\n## After Creating Models\n\n```bash\n# Create and apply migrations\npython manage.py makemigrations\npython manage.py migrate\n\n# Register in admin (optional)\n# Add to admin.py:\nfrom django.contrib import admin\nfrom .models import Post, Category, Tag\n\nadmin.site.register([Post, Category, Tag])\n```"
              },
              {
                "name": "/views",
                "description": null,
                "path": "cli-tool/templates/python/examples/django-app/.claude/commands/views.md",
                "frontmatter": null,
                "content": "# Django Views Generator\n\nCreate Django views with proper structure and best practices.\n\n## Purpose\n\nThis command helps you quickly create Django views (Function-Based Views and Class-Based Views) following Django conventions.\n\n## Usage\n\n```\n/views\n```\n\n## What this command does\n\n1. **Creates view functions/classes** with proper structure\n2. **Handles HTTP methods** (GET, POST, PUT, DELETE)\n3. **Includes form handling** and validation\n4. **Adds authentication/authorization** checks\n5. **Follows Django best practices** and security guidelines\n\n## Example Output\n\n```python\n# views.py\nfrom django.shortcuts import render, get_object_or_404, redirect\nfrom django.contrib.auth.decorators import login_required\nfrom django.contrib import messages\nfrom django.http import JsonResponse\nfrom django.views.generic import ListView, DetailView, CreateView, UpdateView, DeleteView\nfrom django.contrib.auth.mixins import LoginRequiredMixin\nfrom django.urls import reverse_lazy\nfrom .models import Post, Category\nfrom .forms import PostForm\n\n# Function-Based Views\ndef post_list(request):\n    \"\"\"Display list of posts with pagination and filtering.\"\"\"\n    posts = Post.objects.filter(status='published').select_related('author', 'category')\n    \n    # Search functionality\n    search_query = request.GET.get('search')\n    if search_query:\n        posts = posts.filter(title__icontains=search_query)\n    \n    # Category filtering\n    category_id = request.GET.get('category')\n    if category_id:\n        posts = posts.filter(category_id=category_id)\n    \n    context = {\n        'posts': posts,\n        'categories': Category.objects.all(),\n        'search_query': search_query,\n    }\n    return render(request, 'blog/post_list.html', context)\n\ndef post_detail(request, slug):\n    \"\"\"Display individual post details.\"\"\"\n    post = get_object_or_404(Post, slug=slug, status='published')\n    \n    context = {\n        'post': post,\n        'related_posts': Post.objects.filter(\n            category=post.category,\n            status='published'\n        ).exclude(id=post.id)[:3]\n    }\n    return render(request, 'blog/post_detail.html', context)\n\n@login_required\ndef post_create(request):\n    \"\"\"Create new post.\"\"\"\n    if request.method == 'POST':\n        form = PostForm(request.POST, request.FILES)\n        if form.is_valid():\n            post = form.save(commit=False)\n            post.author = request.user\n            post.save()\n            form.save_m2m()  # Save many-to-many relationships\n            messages.success(request, 'Post created successfully!')\n            return redirect('post_detail', slug=post.slug)\n    else:\n        form = PostForm()\n    \n    return render(request, 'blog/post_form.html', {'form': form})\n\n@login_required\ndef post_edit(request, slug):\n    \"\"\"Edit existing post.\"\"\"\n    post = get_object_or_404(Post, slug=slug, author=request.user)\n    \n    if request.method == 'POST':\n        form = PostForm(request.POST, request.FILES, instance=post)\n        if form.is_valid():\n            form.save()\n            messages.success(request, 'Post updated successfully!')\n            return redirect('post_detail', slug=post.slug)\n    else:\n        form = PostForm(instance=post)\n    \n    return render(request, 'blog/post_form.html', {\n        'form': form, \n        'post': post\n    })\n\n# Class-Based Views\nclass PostListView(ListView):\n    \"\"\"List view for posts with pagination.\"\"\"\n    model = Post\n    template_name = 'blog/post_list.html'\n    context_object_name = 'posts'\n    paginate_by = 10\n    \n    def get_queryset(self):\n        return Post.objects.filter(status='published').select_related('author', 'category')\n    \n    def get_context_data(self, **kwargs):\n        context = super().get_context_data(**kwargs)\n        context['categories'] = Category.objects.all()\n        return context\n\nclass PostDetailView(DetailView):\n    \"\"\"Detail view for individual posts.\"\"\"\n    model = Post\n    template_name = 'blog/post_detail.html'\n    context_object_name = 'post'\n    \n    def get_queryset(self):\n        return Post.objects.filter(status='published')\n\nclass PostCreateView(LoginRequiredMixin, CreateView):\n    \"\"\"Create view for new posts.\"\"\"\n    model = Post\n    form_class = PostForm\n    template_name = 'blog/post_form.html'\n    \n    def form_valid(self, form):\n        form.instance.author = self.request.user\n        return super().form_valid(form)\n\nclass PostUpdateView(LoginRequiredMixin, UpdateView):\n    \"\"\"Update view for existing posts.\"\"\"\n    model = Post\n    form_class = PostForm\n    template_name = 'blog/post_form.html'\n    \n    def get_queryset(self):\n        return Post.objects.filter(author=self.request.user)\n\nclass PostDeleteView(LoginRequiredMixin, DeleteView):\n    \"\"\"Delete view for posts.\"\"\"\n    model = Post\n    template_name = 'blog/post_confirm_delete.html'\n    success_url = reverse_lazy('post_list')\n    \n    def get_queryset(self):\n        return Post.objects.filter(author=self.request.user)\n\n# API Views\ndef api_post_list(request):\n    \"\"\"API endpoint for post list.\"\"\"\n    posts = Post.objects.filter(status='published').values(\n        'id', 'title', 'slug', 'created_at', 'author__username'\n    )\n    return JsonResponse(list(posts), safe=False)\n```\n\n## View Types Supported\n\n- **Function-Based Views (FBV)** - Simple, explicit control\n- **Class-Based Views (CBV)** - Reusable, inheritance-based\n- **Generic Views** - ListView, DetailView, CreateView, etc.\n- **API Views** - JSON responses for AJAX/API calls\n\n## Features Included\n\n- **Authentication checks** with decorators/mixins\n- **Permission handling** for user authorization\n- **Form processing** with validation\n- **Error handling** and user feedback\n- **SEO-friendly URLs** with slugs\n- **Database optimization** with select_related/prefetch_related\n- **Pagination** for large datasets\n- **Search and filtering** functionality\n\n## Security Best Practices\n\n- CSRF protection (automatic with forms)\n- User authentication and authorization\n- SQL injection prevention (ORM)\n- XSS protection with template escaping\n- Proper error handling\n\n## URL Configuration\n\n```python\n# urls.py\nfrom django.urls import path\nfrom . import views\n\napp_name = 'blog'\n\nurlpatterns = [\n    # Function-based views\n    path('', views.post_list, name='post_list'),\n    path('post/<slug:slug>/', views.post_detail, name='post_detail'),\n    path('create/', views.post_create, name='post_create'),\n    path('edit/<slug:slug>/', views.post_edit, name='post_edit'),\n    \n    # Class-based views\n    path('posts/', views.PostListView.as_view(), name='post_list_cbv'),\n    path('posts/<slug:slug>/', views.PostDetailView.as_view(), name='post_detail_cbv'),\n    path('posts/create/', views.PostCreateView.as_view(), name='post_create_cbv'),\n    path('posts/<slug:slug>/edit/', views.PostUpdateView.as_view(), name='post_edit_cbv'),\n    path('posts/<slug:slug>/delete/', views.PostDeleteView.as_view(), name='post_delete_cbv'),\n    \n    # API endpoints\n    path('api/posts/', views.api_post_list, name='api_post_list'),\n]\n```"
              },
              {
                "name": "/api-endpoints",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/api-endpoints.md",
                "frontmatter": null,
                "content": "# FastAPI Endpoints Generator\n\nCreate comprehensive FastAPI endpoints with proper structure, validation, and documentation.\n\n## Purpose\n\nThis command helps you quickly create FastAPI endpoints with Pydantic models, dependency injection, and automatic API documentation.\n\n## Usage\n\n```\n/api-endpoints\n```\n\n## What this command does\n\n1. **Creates API endpoints** with proper HTTP methods\n2. **Adds Pydantic models** for request/response validation\n3. **Implements dependency injection** for database and auth\n4. **Includes error handling** and status codes\n5. **Generates automatic documentation** with OpenAPI\n\n## Example Output\n\n```python\n# main.py\nfrom fastapi import FastAPI, Depends, HTTPException, status\nfrom fastapi.middleware.cors import CORSMiddleware\nfrom fastapi.security import HTTPBearer, HTTPAuthorizationCredentials\nfrom sqlalchemy.orm import Session\nimport uvicorn\n\nfrom app.database import get_db, engine\nfrom app.models import models\nfrom app.routers import auth, users, posts, comments\nfrom app.core.config import settings\n\n# Create database tables\nmodels.Base.metadata.create_all(bind=engine)\n\n# Initialize FastAPI app\napp = FastAPI(\n    title=\"Blog API\",\n    description=\"A comprehensive blog API built with FastAPI\",\n    version=\"1.0.0\",\n    docs_url=\"/docs\",\n    redoc_url=\"/redoc\"\n)\n\n# Add CORS middleware\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=settings.ALLOWED_HOSTS,\n    allow_credentials=True,\n    allow_methods=[\"*\"],\n    allow_headers=[\"*\"],\n)\n\n# Include routers\napp.include_router(auth.router, prefix=\"/auth\", tags=[\"Authentication\"])\napp.include_router(users.router, prefix=\"/users\", tags=[\"Users\"])\napp.include_router(posts.router, prefix=\"/posts\", tags=[\"Posts\"])\napp.include_router(comments.router, prefix=\"/comments\", tags=[\"Comments\"])\n\n@app.get(\"/\", tags=[\"Root\"])\nasync def root():\n    \"\"\"API root endpoint.\"\"\"\n    return {\n        \"message\": \"Welcome to Blog API\",\n        \"version\": \"1.0.0\",\n        \"docs\": \"/docs\",\n        \"redoc\": \"/redoc\"\n    }\n\n@app.get(\"/health\", tags=[\"Health\"])\nasync def health_check():\n    \"\"\"Health check endpoint.\"\"\"\n    return {\"status\": \"healthy\", \"timestamp\": \"2024-01-01T00:00:00Z\"}\n\nif __name__ == \"__main__\":\n    uvicorn.run(\n        \"main:app\",\n        host=\"0.0.0.0\",\n        port=8000,\n        reload=True\n    )\n```\n\n```python\n# app/routers/posts.py\nfrom typing import List, Optional\nfrom fastapi import APIRouter, Depends, HTTPException, status, Query\nfrom sqlalchemy.orm import Session\n\nfrom app.database import get_db\nfrom app.schemas import post_schemas\nfrom app.services import post_service\nfrom app.core.dependencies import get_current_user, get_current_active_user\nfrom app.models.user import User\n\nrouter = APIRouter()\n\n@router.get(\"/\", response_model=List[post_schemas.PostResponse])\nasync def get_posts(\n    skip: int = Query(0, ge=0, description=\"Number of posts to skip\"),\n    limit: int = Query(10, ge=1, le=100, description=\"Number of posts to return\"),\n    search: Optional[str] = Query(None, description=\"Search in title and content\"),\n    category: Optional[str] = Query(None, description=\"Filter by category\"),\n    published: Optional[bool] = Query(True, description=\"Filter by published status\"),\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get all posts with pagination and filtering.\n    \n    - **skip**: Number of posts to skip (for pagination)\n    - **limit**: Maximum number of posts to return (1-100)\n    - **search**: Search term for title and content\n    - **category**: Filter posts by category\n    - **published**: Filter by published status\n    \"\"\"\n    posts = post_service.get_posts(\n        db=db,\n        skip=skip,\n        limit=limit,\n        search=search,\n        category=category,\n        published=published\n    )\n    return posts\n\n@router.get(\"/{post_id}\", response_model=post_schemas.PostResponse)\nasync def get_post(\n    post_id: int,\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get a specific post by ID.\n    \n    - **post_id**: Unique identifier for the post\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    return post\n\n@router.post(\"/\", response_model=post_schemas.PostResponse, status_code=status.HTTP_201_CREATED)\nasync def create_post(\n    post: post_schemas.PostCreate,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Create a new post.\n    \n    - **title**: Post title (required)\n    - **content**: Post content (required)\n    - **category**: Post category (optional)\n    - **published**: Publication status (default: false)\n    \"\"\"\n    return post_service.create_post(\n        db=db,\n        post=post,\n        user_id=current_user.id\n    )\n\n@router.put(\"/{post_id}\", response_model=post_schemas.PostResponse)\nasync def update_post(\n    post_id: int,\n    post_update: post_schemas.PostUpdate,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Update an existing post.\n    \n    - **post_id**: Unique identifier for the post\n    - **title**: Updated post title (optional)\n    - **content**: Updated post content (optional)\n    - **category**: Updated post category (optional)\n    - **published**: Updated publication status (optional)\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    if post.author_id != current_user.id:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not authorized to update this post\"\n        )\n    \n    return post_service.update_post(\n        db=db,\n        post_id=post_id,\n        post_update=post_update\n    )\n\n@router.delete(\"/{post_id}\", status_code=status.HTTP_204_NO_CONTENT)\nasync def delete_post(\n    post_id: int,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Delete a post.\n    \n    - **post_id**: Unique identifier for the post to delete\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    if post.author_id != current_user.id:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not authorized to delete this post\"\n        )\n    \n    post_service.delete_post(db=db, post_id=post_id)\n\n@router.post(\"/{post_id}/like\", response_model=post_schemas.PostResponse)\nasync def like_post(\n    post_id: int,\n    db: Session = Depends(get_db),\n    current_user: User = Depends(get_current_active_user)\n):\n    \"\"\"\n    Like/unlike a post.\n    \n    - **post_id**: Unique identifier for the post to like\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    return post_service.toggle_like(\n        db=db,\n        post_id=post_id,\n        user_id=current_user.id\n    )\n\n@router.get(\"/{post_id}/comments\", response_model=List[post_schemas.CommentResponse])\nasync def get_post_comments(\n    post_id: int,\n    skip: int = Query(0, ge=0),\n    limit: int = Query(10, ge=1, le=100),\n    db: Session = Depends(get_db)\n):\n    \"\"\"\n    Get all comments for a specific post.\n    \n    - **post_id**: Unique identifier for the post\n    - **skip**: Number of comments to skip\n    - **limit**: Maximum number of comments to return\n    \"\"\"\n    post = post_service.get_post(db=db, post_id=post_id)\n    if not post:\n        raise HTTPException(\n            status_code=status.HTTP_404_NOT_FOUND,\n            detail=\"Post not found\"\n        )\n    \n    return post_service.get_post_comments(\n        db=db,\n        post_id=post_id,\n        skip=skip,\n        limit=limit\n    )\n```\n\n```python\n# app/schemas/post_schemas.py\nfrom typing import Optional, List\nfrom datetime import datetime\nfrom pydantic import BaseModel, Field, validator\n\nclass PostBase(BaseModel):\n    \"\"\"Base post schema.\"\"\"\n    title: str = Field(..., min_length=1, max_length=200, description=\"Post title\")\n    content: str = Field(..., min_length=1, description=\"Post content\")\n    category: Optional[str] = Field(None, max_length=50, description=\"Post category\")\n    published: bool = Field(False, description=\"Publication status\")\n\nclass PostCreate(PostBase):\n    \"\"\"Schema for creating a post.\"\"\"\n    \n    @validator('title')\n    def validate_title(cls, v):\n        if not v.strip():\n            raise ValueError('Title cannot be empty')\n        return v.strip()\n    \n    @validator('content')\n    def validate_content(cls, v):\n        if len(v.strip()) < 10:\n            raise ValueError('Content must be at least 10 characters long')\n        return v.strip()\n\nclass PostUpdate(BaseModel):\n    \"\"\"Schema for updating a post.\"\"\"\n    title: Optional[str] = Field(None, min_length=1, max_length=200)\n    content: Optional[str] = Field(None, min_length=1)\n    category: Optional[str] = Field(None, max_length=50)\n    published: Optional[bool] = None\n    \n    @validator('title')\n    def validate_title(cls, v):\n        if v is not None and not v.strip():\n            raise ValueError('Title cannot be empty')\n        return v.strip() if v else v\n    \n    @validator('content')\n    def validate_content(cls, v):\n        if v is not None and len(v.strip()) < 10:\n            raise ValueError('Content must be at least 10 characters long')\n        return v.strip() if v else v\n\nclass PostResponse(PostBase):\n    \"\"\"Schema for post responses.\"\"\"\n    id: int\n    author_id: int\n    created_at: datetime\n    updated_at: datetime\n    like_count: int = 0\n    comment_count: int = 0\n    \n    class Config:\n        from_attributes = True\n\nclass CommentBase(BaseModel):\n    \"\"\"Base comment schema.\"\"\"\n    content: str = Field(..., min_length=1, max_length=1000, description=\"Comment content\")\n\nclass CommentCreate(CommentBase):\n    \"\"\"Schema for creating a comment.\"\"\"\n    post_id: int = Field(..., description=\"ID of the post to comment on\")\n\nclass CommentResponse(CommentBase):\n    \"\"\"Schema for comment responses.\"\"\"\n    id: int\n    post_id: int\n    author_id: int\n    created_at: datetime\n    updated_at: datetime\n    \n    class Config:\n        from_attributes = True\n```\n\n```python\n# app/services/post_service.py\nfrom typing import List, Optional\nfrom sqlalchemy.orm import Session\nfrom sqlalchemy import or_\n\nfrom app.models.post import Post, Comment, PostLike\nfrom app.schemas.post_schemas import PostCreate, PostUpdate\n\ndef get_posts(\n    db: Session,\n    skip: int = 0,\n    limit: int = 10,\n    search: Optional[str] = None,\n    category: Optional[str] = None,\n    published: Optional[bool] = True\n) -> List[Post]:\n    \"\"\"Get posts with filtering and pagination.\"\"\"\n    query = db.query(Post)\n    \n    if published is not None:\n        query = query.filter(Post.published == published)\n    \n    if category:\n        query = query.filter(Post.category == category)\n    \n    if search:\n        query = query.filter(\n            or_(\n                Post.title.contains(search),\n                Post.content.contains(search)\n            )\n        )\n    \n    return query.offset(skip).limit(limit).all()\n\ndef get_post(db: Session, post_id: int) -> Optional[Post]:\n    \"\"\"Get a single post by ID.\"\"\"\n    return db.query(Post).filter(Post.id == post_id).first()\n\ndef create_post(db: Session, post: PostCreate, user_id: int) -> Post:\n    \"\"\"Create a new post.\"\"\"\n    db_post = Post(**post.dict(), author_id=user_id)\n    db.add(db_post)\n    db.commit()\n    db.refresh(db_post)\n    return db_post\n\ndef update_post(\n    db: Session,\n    post_id: int,\n    post_update: PostUpdate\n) -> Optional[Post]:\n    \"\"\"Update an existing post.\"\"\"\n    db_post = db.query(Post).filter(Post.id == post_id).first()\n    if not db_post:\n        return None\n    \n    update_data = post_update.dict(exclude_unset=True)\n    for field, value in update_data.items():\n        setattr(db_post, field, value)\n    \n    db.commit()\n    db.refresh(db_post)\n    return db_post\n\ndef delete_post(db: Session, post_id: int) -> bool:\n    \"\"\"Delete a post.\"\"\"\n    db_post = db.query(Post).filter(Post.id == post_id).first()\n    if not db_post:\n        return False\n    \n    db.delete(db_post)\n    db.commit()\n    return True\n\ndef toggle_like(db: Session, post_id: int, user_id: int) -> Post:\n    \"\"\"Toggle like status for a post.\"\"\"\n    existing_like = db.query(PostLike).filter(\n        PostLike.post_id == post_id,\n        PostLike.user_id == user_id\n    ).first()\n    \n    if existing_like:\n        db.delete(existing_like)\n    else:\n        new_like = PostLike(post_id=post_id, user_id=user_id)\n        db.add(new_like)\n    \n    db.commit()\n    return get_post(db, post_id)\n```\n\n## Features Included\n\n### API Documentation\n- **Automatic OpenAPI** schema generation\n- **Interactive docs** at `/docs`\n- **ReDoc documentation** at `/redoc`\n- **Request/Response examples** in schemas\n\n### Validation & Serialization\n- **Pydantic models** for data validation\n- **Custom validators** for business rules\n- **Type hints** for better IDE support\n- **Automatic data conversion** and validation\n\n### Error Handling\n- **HTTP status codes** for different scenarios\n- **Detailed error messages** with context\n- **Input validation errors** with field-specific messages\n- **Custom exception handlers** for consistent responses\n\n### Security\n- **JWT authentication** with dependencies\n- **Role-based access control** for endpoints\n- **CORS middleware** for cross-origin requests\n- **Input sanitization** through Pydantic\n\n### Performance\n- **Database query optimization** with SQLAlchemy\n- **Pagination support** for large datasets\n- **Async/await support** for concurrent requests\n- **Connection pooling** for database efficiency\n\n## Testing Example\n\n```python\n# tests/test_posts.py\nimport pytest\nfrom fastapi.testclient import TestClient\nfrom app.main import app\n\nclient = TestClient(app)\n\ndef test_get_posts():\n    \"\"\"Test getting posts.\"\"\"\n    response = client.get(\"/posts/\")\n    assert response.status_code == 200\n    assert isinstance(response.json(), list)\n\ndef test_create_post():\n    \"\"\"Test creating a new post.\"\"\"\n    post_data = {\n        \"title\": \"Test Post\",\n        \"content\": \"This is a test post content.\",\n        \"published\": True\n    }\n    response = client.post(\"/posts/\", json=post_data)\n    assert response.status_code == 201\n    assert response.json()[\"title\"] == \"Test Post\"\n```"
              },
              {
                "name": "/auth",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/auth.md",
                "frontmatter": null,
                "content": "# FastAPI Authentication & Authorization\n\nComplete authentication system with JWT tokens, OAuth2, and role-based access control.\n\n## Usage\n\n```bash\n# Install auth dependencies\npip install python-jose[cryptography] passlib[bcrypt] python-multipart\n\n# Generate secret key\nopenssl rand -hex 32\n```\n\n## JWT Configuration\n\n```python\n# app/core/security.py\nfrom datetime import datetime, timedelta\nfrom typing import Optional, Union, Any\nfrom jose import JWTError, jwt\nfrom passlib.context import CryptContext\nfrom app.core.config import settings\n\n# Password hashing\npwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\n# JWT settings\nSECRET_KEY = settings.SECRET_KEY\nALGORITHM = \"HS256\"\nACCESS_TOKEN_EXPIRE_MINUTES = 30\nREFRESH_TOKEN_EXPIRE_DAYS = 7\n\ndef create_access_token(\n    subject: Union[str, Any], \n    expires_delta: Optional[timedelta] = None\n) -> str:\n    \"\"\"Create JWT access token.\"\"\"\n    if expires_delta:\n        expire = datetime.utcnow() + expires_delta\n    else:\n        expire = datetime.utcnow() + timedelta(minutes=ACCESS_TOKEN_EXPIRE_MINUTES)\n    \n    to_encode = {\"exp\": expire, \"sub\": str(subject), \"type\": \"access\"}\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n    return encoded_jwt\n\ndef create_refresh_token(subject: Union[str, Any]) -> str:\n    \"\"\"Create JWT refresh token.\"\"\"\n    expire = datetime.utcnow() + timedelta(days=REFRESH_TOKEN_EXPIRE_DAYS)\n    to_encode = {\"exp\": expire, \"sub\": str(subject), \"type\": \"refresh\"}\n    encoded_jwt = jwt.encode(to_encode, SECRET_KEY, algorithm=ALGORITHM)\n    return encoded_jwt\n\ndef verify_password(plain_password: str, hashed_password: str) -> bool:\n    \"\"\"Verify password against hash.\"\"\"\n    return pwd_context.verify(plain_password, hashed_password)\n\ndef get_password_hash(password: str) -> str:\n    \"\"\"Generate password hash.\"\"\"\n    return pwd_context.hash(password)\n\ndef decode_token(token: str) -> Optional[dict]:\n    \"\"\"Decode and verify JWT token.\"\"\"\n    try:\n        payload = jwt.decode(token, SECRET_KEY, algorithms=[ALGORITHM])\n        return payload\n    except JWTError:\n        return None\n```\n\n## Authentication Dependencies\n\n```python\n# app/api/dependencies/auth.py\nfrom typing import Optional\nfrom fastapi import Depends, HTTPException, status\nfrom fastapi.security import OAuth2PasswordBearer, HTTPBearer, HTTPAuthorizationCredentials\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.core.security import decode_token\nfrom app.db.database import get_db\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\n\n# OAuth2 scheme\noauth2_scheme = OAuth2PasswordBearer(\n    tokenUrl=\"/api/v1/auth/login\",\n    scheme_name=\"JWT\"\n)\n\n# Bearer token scheme\nsecurity = HTTPBearer()\n\nasync def get_current_user(\n    token: str = Depends(oauth2_scheme),\n    db: AsyncSession = Depends(get_db)\n) -> User:\n    \"\"\"Get current authenticated user.\"\"\"\n    credentials_exception = HTTPException(\n        status_code=status.HTTP_401_UNAUTHORIZED,\n        detail=\"Could not validate credentials\",\n        headers={\"WWW-Authenticate\": \"Bearer\"},\n    )\n    \n    payload = decode_token(token)\n    if payload is None:\n        raise credentials_exception\n    \n    user_id: str = payload.get(\"sub\")\n    token_type: str = payload.get(\"type\")\n    \n    if user_id is None or token_type != \"access\":\n        raise credentials_exception\n    \n    user_repo = UserRepository(User, db)\n    user = await user_repo.get(int(user_id))\n    \n    if user is None:\n        raise credentials_exception\n    \n    if not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    \n    return user\n\nasync def get_current_active_user(\n    current_user: User = Depends(get_current_user)\n) -> User:\n    \"\"\"Get current active user.\"\"\"\n    if not current_user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    return current_user\n\nasync def get_current_superuser(\n    current_user: User = Depends(get_current_user)\n) -> User:\n    \"\"\"Get current superuser.\"\"\"\n    if not current_user.is_superuser:\n        raise HTTPException(\n            status_code=status.HTTP_403_FORBIDDEN,\n            detail=\"Not enough permissions\"\n        )\n    return current_user\n\ndef require_permissions(*permissions: str):\n    \"\"\"Decorator for permission-based access control.\"\"\"\n    async def permission_checker(\n        current_user: User = Depends(get_current_active_user)\n    ) -> User:\n        # Check if user has required permissions\n        user_permissions = set(current_user.permissions or [])\n        required_permissions = set(permissions)\n        \n        if not required_permissions.issubset(user_permissions) and not current_user.is_superuser:\n            raise HTTPException(\n                status_code=status.HTTP_403_FORBIDDEN,\n                detail=\"Insufficient permissions\"\n            )\n        \n        return current_user\n    \n    return permission_checker\n\ndef require_roles(*roles: str):\n    \"\"\"Decorator for role-based access control.\"\"\"\n    async def role_checker(\n        current_user: User = Depends(get_current_active_user)\n    ) -> User:\n        user_roles = set(role.name for role in current_user.roles or [])\n        required_roles = set(roles)\n        \n        if not required_roles.issubset(user_roles) and not current_user.is_superuser:\n            raise HTTPException(\n                status_code=status.HTTP_403_FORBIDDEN,\n                detail=\"Insufficient role permissions\"\n            )\n        \n        return current_user\n    \n    return role_checker\n```\n\n## Authentication Schemas\n\n```python\n# app/schemas/auth.py\nfrom pydantic import BaseModel, EmailStr\nfrom typing import Optional\n\nclass Token(BaseModel):\n    \"\"\"Token response schema.\"\"\"\n    access_token: str\n    refresh_token: str\n    token_type: str = \"bearer\"\n    expires_in: int\n\nclass TokenPayload(BaseModel):\n    \"\"\"Token payload schema.\"\"\"\n    sub: Optional[int] = None\n    exp: Optional[int] = None\n    type: Optional[str] = None\n\nclass UserLogin(BaseModel):\n    \"\"\"User login schema.\"\"\"\n    username: str\n    password: str\n\nclass UserRegister(BaseModel):\n    \"\"\"User registration schema.\"\"\"\n    username: str\n    email: EmailStr\n    password: str\n    first_name: str\n    last_name: str\n\nclass PasswordReset(BaseModel):\n    \"\"\"Password reset schema.\"\"\"\n    email: EmailStr\n\nclass PasswordResetConfirm(BaseModel):\n    \"\"\"Password reset confirmation schema.\"\"\"\n    token: str\n    new_password: str\n\nclass ChangePassword(BaseModel):\n    \"\"\"Change password schema.\"\"\"\n    current_password: str\n    new_password: str\n\nclass RefreshToken(BaseModel):\n    \"\"\"Refresh token schema.\"\"\"\n    refresh_token: str\n```\n\n## Authentication Endpoints\n\n```python\n# app/api/v1/auth.py\nfrom datetime import timedelta\nfrom typing import Any\nfrom fastapi import APIRouter, Depends, HTTPException, status, BackgroundTasks\nfrom fastapi.security import OAuth2PasswordRequestForm\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.db.database import get_db\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.schemas.auth import (\n    Token, UserLogin, UserRegister, PasswordReset, \n    PasswordResetConfirm, ChangePassword, RefreshToken\n)\nfrom app.schemas.user import UserCreate, UserResponse\nfrom app.core.security import (\n    create_access_token, create_refresh_token, verify_password,\n    decode_token, ACCESS_TOKEN_EXPIRE_MINUTES\n)\nfrom app.api.dependencies.auth import get_current_user, get_current_active_user\nfrom app.services.email import send_password_reset_email\nfrom app.services.auth import AuthService\n\nrouter = APIRouter()\n\n@router.post(\"/register\", response_model=UserResponse, status_code=status.HTTP_201_CREATED)\nasync def register(\n    user_data: UserRegister,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Register new user.\"\"\"\n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    # Check if user already exists\n    if await user_repo.get_by_email(user_data.email):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Email already registered\"\n        )\n    \n    if await user_repo.get_by_username(user_data.username):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Username already taken\"\n        )\n    \n    # Create user\n    user = await auth_service.create_user(user_data.dict())\n    return user\n\n@router.post(\"/login\", response_model=Token)\nasync def login(\n    form_data: OAuth2PasswordRequestForm = Depends(),\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"OAuth2 compatible token login.\"\"\"\n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    user = await auth_service.authenticate_user(\n        form_data.username, \n        form_data.password\n    )\n    \n    if not user:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Incorrect username or password\",\n            headers={\"WWW-Authenticate\": \"Bearer\"},\n        )\n    \n    if not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Inactive user\"\n        )\n    \n    # Create tokens\n    access_token = create_access_token(subject=user.id)\n    refresh_token = create_refresh_token(subject=user.id)\n    \n    return {\n        \"access_token\": access_token,\n        \"refresh_token\": refresh_token,\n        \"token_type\": \"bearer\",\n        \"expires_in\": ACCESS_TOKEN_EXPIRE_MINUTES * 60\n    }\n\n@router.post(\"/refresh\", response_model=Token)\nasync def refresh_token(\n    refresh_data: RefreshToken,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Refresh access token.\"\"\"\n    payload = decode_token(refresh_data.refresh_token)\n    \n    if payload is None or payload.get(\"type\") != \"refresh\":\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    user_id = payload.get(\"sub\")\n    if user_id is None:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    user = await user_repo.get(int(user_id))\n    \n    if user is None or not user.is_active:\n        raise HTTPException(\n            status_code=status.HTTP_401_UNAUTHORIZED,\n            detail=\"Invalid refresh token\"\n        )\n    \n    # Create new tokens\n    access_token = create_access_token(subject=user.id)\n    new_refresh_token = create_refresh_token(subject=user.id)\n    \n    return {\n        \"access_token\": access_token,\n        \"refresh_token\": new_refresh_token,\n        \"token_type\": \"bearer\",\n        \"expires_in\": ACCESS_TOKEN_EXPIRE_MINUTES * 60\n    }\n\n@router.get(\"/me\", response_model=UserResponse)\nasync def read_users_me(\n    current_user: User = Depends(get_current_active_user)\n) -> Any:\n    \"\"\"Get current user.\"\"\"\n    return current_user\n\n@router.post(\"/change-password\", status_code=status.HTTP_200_OK)\nasync def change_password(\n    password_data: ChangePassword,\n    current_user: User = Depends(get_current_active_user),\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Change user password.\"\"\"\n    if not verify_password(password_data.current_password, current_user.hashed_password):\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Incorrect current password\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    await auth_service.change_password(current_user.id, password_data.new_password)\n    \n    return {\"message\": \"Password changed successfully\"}\n\n@router.post(\"/password-reset\", status_code=status.HTTP_200_OK)\nasync def password_reset(\n    reset_data: PasswordReset,\n    background_tasks: BackgroundTasks,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Request password reset.\"\"\"\n    user_repo = UserRepository(User, db)\n    user = await user_repo.get_by_email(reset_data.email)\n    \n    if user:\n        # Generate reset token\n        reset_token = create_access_token(\n            subject=user.id,\n            expires_delta=timedelta(hours=1)  # 1 hour expiry\n        )\n        \n        # Send email with reset token\n        background_tasks.add_task(\n            send_password_reset_email,\n            email=user.email,\n            username=user.username,\n            token=reset_token\n        )\n    \n    # Always return success to prevent email enumeration\n    return {\"message\": \"Password reset email sent if account exists\"}\n\n@router.post(\"/password-reset-confirm\", status_code=status.HTTP_200_OK)\nasync def password_reset_confirm(\n    reset_data: PasswordResetConfirm,\n    db: AsyncSession = Depends(get_db)\n) -> Any:\n    \"\"\"Confirm password reset.\"\"\"\n    payload = decode_token(reset_data.token)\n    \n    if payload is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid or expired reset token\"\n        )\n    \n    user_id = payload.get(\"sub\")\n    if user_id is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid reset token\"\n        )\n    \n    user_repo = UserRepository(User, db)\n    auth_service = AuthService(user_repo)\n    \n    user = await user_repo.get(int(user_id))\n    if user is None:\n        raise HTTPException(\n            status_code=status.HTTP_400_BAD_REQUEST,\n            detail=\"Invalid reset token\"\n        )\n    \n    await auth_service.change_password(user.id, reset_data.new_password)\n    \n    return {\"message\": \"Password reset successful\"}\n\n@router.post(\"/logout\", status_code=status.HTTP_200_OK)\nasync def logout(\n    current_user: User = Depends(get_current_user)\n) -> Any:\n    \"\"\"Logout user (invalidate token on client side).\"\"\"\n    # In a more sophisticated setup, you might want to blacklist the token\n    return {\"message\": \"Successfully logged out\"}\n```\n\n## Authentication Service\n\n```python\n# app/services/auth.py\nfrom typing import Optional\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.security import verify_password, get_password_hash\n\nclass AuthService:\n    \"\"\"Authentication service.\"\"\"\n    \n    def __init__(self, user_repository: UserRepository):\n        self.user_repo = user_repository\n    \n    async def authenticate_user(\n        self, \n        username_or_email: str, \n        password: str\n    ) -> Optional[User]:\n        \"\"\"Authenticate user by username/email and password.\"\"\"\n        # Try to get user by username first, then by email\n        user = await self.user_repo.get_by_username(username_or_email)\n        if not user:\n            user = await self.user_repo.get_by_email(username_or_email)\n        \n        if not user:\n            return None\n        \n        if not verify_password(password, user.hashed_password):\n            return None\n        \n        return user\n    \n    async def create_user(self, user_data: dict) -> User:\n        \"\"\"Create new user.\"\"\"\n        # Hash password\n        password = user_data.pop('password')\n        hashed_password = get_password_hash(password)\n        \n        # Create user data\n        user_create_data = {\n            **user_data,\n            'hashed_password': hashed_password,\n            'is_active': True,\n            'is_superuser': False\n        }\n        \n        return await self.user_repo.create(user_create_data)\n    \n    async def change_password(self, user_id: int, new_password: str) -> bool:\n        \"\"\"Change user password.\"\"\"\n        hashed_password = get_password_hash(new_password)\n        \n        result = await self.user_repo.update(user_id, {\n            'hashed_password': hashed_password\n        })\n        \n        return result is not None\n    \n    async def activate_user(self, user_id: int) -> bool:\n        \"\"\"Activate user account.\"\"\"\n        result = await self.user_repo.update(user_id, {'is_active': True})\n        return result is not None\n    \n    async def deactivate_user(self, user_id: int) -> bool:\n        \"\"\"Deactivate user account.\"\"\"\n        result = await self.user_repo.update(user_id, {'is_active': False})\n        return result is not None\n```\n\n## Role-Based Access Control\n\n```python\n# app/models/rbac.py\nfrom sqlalchemy import Column, String, Text, ForeignKey, Table\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\n\n# Association tables for many-to-many relationships\nuser_roles = Table(\n    'user_roles',\n    Base.metadata,\n    Column('user_id', Integer, ForeignKey('users.id')),\n    Column('role_id', Integer, ForeignKey('roles.id'))\n)\n\nrole_permissions = Table(\n    'role_permissions',\n    Base.metadata,\n    Column('role_id', Integer, ForeignKey('roles.id')),\n    Column('permission_id', Integer, ForeignKey('permissions.id'))\n)\n\nclass Role(BaseModel):\n    \"\"\"Role model for RBAC.\"\"\"\n    __tablename__ = \"roles\"\n    \n    name = Column(String(50), unique=True, nullable=False, index=True)\n    description = Column(Text)\n    \n    # Relationships\n    users = relationship(\"User\", secondary=user_roles, back_populates=\"roles\")\n    permissions = relationship(\"Permission\", secondary=role_permissions, back_populates=\"roles\")\n\nclass Permission(BaseModel):\n    \"\"\"Permission model for RBAC.\"\"\"\n    __tablename__ = \"permissions\"\n    \n    name = Column(String(100), unique=True, nullable=False, index=True)\n    description = Column(Text)\n    resource = Column(String(50), nullable=False)  # e.g., 'users', 'posts'\n    action = Column(String(50), nullable=False)    # e.g., 'create', 'read', 'update', 'delete'\n    \n    # Relationships\n    roles = relationship(\"Role\", secondary=role_permissions, back_populates=\"permissions\")\n\n# Update User model to include roles\nclass User(BaseModel):\n    # ... existing fields ...\n    \n    # Relationships\n    roles = relationship(\"Role\", secondary=user_roles, back_populates=\"users\")\n    \n    @property\n    def permissions(self) -> list[str]:\n        \"\"\"Get all permissions for user.\"\"\"\n        perms = set()\n        for role in self.roles:\n            for permission in role.permissions:\n                perms.add(f\"{permission.resource}:{permission.action}\")\n        return list(perms)\n```\n\n## OAuth2 Integration\n\n```python\n# app/api/v1/oauth.py\nfrom fastapi import APIRouter, Depends, HTTPException, status\nfrom fastapi.security.utils import get_authorization_scheme_param\nfrom starlette.requests import Request\nfrom authlib.integrations.starlette_client import OAuth\nfrom app.core.config import settings\n\nrouter = APIRouter()\n\n# OAuth configuration\noauth = OAuth()\n\n# Google OAuth\ngoogle = oauth.register(\n    name='google',\n    client_id=settings.GOOGLE_CLIENT_ID,\n    client_secret=settings.GOOGLE_CLIENT_SECRET,\n    server_metadata_url='https://accounts.google.com/.well-known/openid_configuration',\n    client_kwargs={\n        'scope': 'openid email profile'\n    }\n)\n\n# GitHub OAuth\ngithub = oauth.register(\n    name='github',\n    client_id=settings.GITHUB_CLIENT_ID,\n    client_secret=settings.GITHUB_CLIENT_SECRET,\n    access_token_url='https://github.com/login/oauth/access_token',\n    access_token_params=None,\n    authorize_url='https://github.com/login/oauth/authorize',\n    authorize_params=None,\n    api_base_url='https://api.github.com/',\n    client_kwargs={'scope': 'user:email'},\n)\n\n@router.get('/google')\nasync def google_login(request: Request):\n    \"\"\"Initiate Google OAuth login.\"\"\"\n    redirect_uri = request.url_for('google_callback')\n    return await google.authorize_redirect(request, redirect_uri)\n\n@router.get('/google/callback')\nasync def google_callback(request: Request):\n    \"\"\"Handle Google OAuth callback.\"\"\"\n    token = await google.authorize_access_token(request)\n    user_info = token.get('userinfo')\n    \n    if user_info:\n        # Create or get user\n        # Generate JWT token\n        # Return token\n        pass\n    \n    raise HTTPException(\n        status_code=status.HTTP_400_BAD_REQUEST,\n        detail=\"OAuth authentication failed\"\n    )\n```\n\n## API Key Authentication\n\n```python\n# app/models/api_key.py\nfrom sqlalchemy import Column, String, Boolean, ForeignKey, DateTime\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\nimport secrets\n\nclass APIKey(BaseModel):\n    \"\"\"API Key model.\"\"\"\n    __tablename__ = \"api_keys\"\n    \n    name = Column(String(100), nullable=False)\n    key_hash = Column(String(255), unique=True, nullable=False, index=True)\n    prefix = Column(String(10), nullable=False, index=True)\n    is_active = Column(Boolean, default=True, nullable=False)\n    expires_at = Column(DateTime)\n    last_used_at = Column(DateTime)\n    \n    # Foreign key\n    user_id = Column(Integer, ForeignKey(\"users.id\"), nullable=False)\n    \n    # Relationships\n    user = relationship(\"User\", back_populates=\"api_keys\")\n    \n    @classmethod\n    def generate_key(cls) -> tuple[str, str]:\n        \"\"\"Generate API key and return (key, hash).\"\"\"\n        key = secrets.token_urlsafe(32)\n        prefix = key[:8]\n        key_hash = get_password_hash(key)\n        return key, prefix, key_hash\n    \n    def verify_key(self, key: str) -> bool:\n        \"\"\"Verify API key.\"\"\"\n        return verify_password(key, self.key_hash)\n\n# Add to User model\nclass User(BaseModel):\n    # ... existing fields ...\n    \n    # Relationships\n    api_keys = relationship(\"APIKey\", back_populates=\"user\", cascade=\"all, delete-orphan\")\n```\n\n## Testing Authentication\n\n```python\n# tests/test_auth.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.core.security import create_access_token\n\n@pytest.mark.asyncio\nasync def test_register_user(client: AsyncClient):\n    \"\"\"Test user registration.\"\"\"\n    user_data = {\n        \"username\": \"testuser\",\n        \"email\": \"test@example.com\",\n        \"password\": \"testpass123\",\n        \"first_name\": \"Test\",\n        \"last_name\": \"User\"\n    }\n    \n    response = await client.post(\"/api/v1/auth/register\", json=user_data)\n    assert response.status_code == 201\n    \n    data = response.json()\n    assert data[\"username\"] == user_data[\"username\"]\n    assert data[\"email\"] == user_data[\"email\"]\n    assert \"hashed_password\" not in data\n\n@pytest.mark.asyncio\nasync def test_login_user(client: AsyncClient, test_user):\n    \"\"\"Test user login.\"\"\"\n    login_data = {\n        \"username\": test_user.username,\n        \"password\": \"testpass123\"\n    }\n    \n    response = await client.post(\n        \"/api/v1/auth/login\", \n        data=login_data,\n        headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n    )\n    \n    assert response.status_code == 200\n    \n    data = response.json()\n    assert \"access_token\" in data\n    assert \"refresh_token\" in data\n    assert data[\"token_type\"] == \"bearer\"\n\n@pytest.mark.asyncio\nasync def test_get_current_user(client: AsyncClient, test_user):\n    \"\"\"Test get current user endpoint.\"\"\"\n    token = create_access_token(subject=test_user.id)\n    headers = {\"Authorization\": f\"Bearer {token}\"}\n    \n    response = await client.get(\"/api/v1/auth/me\", headers=headers)\n    assert response.status_code == 200\n    \n    data = response.json()\n    assert data[\"username\"] == test_user.username\n    assert data[\"email\"] == test_user.email\n```\n"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# FastAPI Database Integration\n\nComplete database setup with SQLAlchemy, Alembic, and async support for FastAPI.\n\n## Usage\n\n```bash\n# Initialize Alembic\nalembic init alembic\n\n# Create migration\nalembic revision --autogenerate -m \"Initial migration\"\n\n# Apply migrations\nalembic upgrade head\n\n# Downgrade migration\nalembic downgrade -1\n```\n\n## Database Configuration\n\n```python\n# app/core/config.py\nfrom pydantic import BaseSettings, PostgresDsn, validator\nfrom typing import Optional, Dict, Any\nimport os\n\nclass Settings(BaseSettings):\n    \"\"\"Application settings.\"\"\"\n    \n    # Database\n    POSTGRES_SERVER: str = \"localhost\"\n    POSTGRES_USER: str = \"postgres\"\n    POSTGRES_PASSWORD: str = \"password\"\n    POSTGRES_DB: str = \"fastapi_app\"\n    POSTGRES_PORT: str = \"5432\"\n    DATABASE_URL: Optional[PostgresDsn] = None\n    \n    @validator(\"DATABASE_URL\", pre=True)\n    def assemble_db_connection(cls, v: Optional[str], values: Dict[str, Any]) -> Any:\n        if isinstance(v, str):\n            return v\n        return PostgresDsn.build(\n            scheme=\"postgresql+asyncpg\",\n            user=values.get(\"POSTGRES_USER\"),\n            password=values.get(\"POSTGRES_PASSWORD\"),\n            host=values.get(\"POSTGRES_SERVER\"),\n            port=values.get(\"POSTGRES_PORT\"),\n            path=f\"/{values.get('POSTGRES_DB') or ''}\",\n        )\n    \n    # Redis\n    REDIS_URL: str = \"redis://localhost:6379/0\"\n    \n    # Database settings\n    DATABASE_POOL_SIZE: int = 10\n    DATABASE_MAX_OVERFLOW: int = 20\n    DATABASE_POOL_RECYCLE: int = 3600\n    \n    class Config:\n        env_file = \".env\"\n        case_sensitive = True\n\nsettings = Settings()\n```\n\n## Database Setup\n\n```python\n# app/db/database.py\nfrom sqlalchemy.ext.asyncio import AsyncSession, create_async_engine\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy.orm import sessionmaker\nfrom app.core.config import settings\n\n# Create async engine\nengine = create_async_engine(\n    str(settings.DATABASE_URL),\n    pool_size=settings.DATABASE_POOL_SIZE,\n    max_overflow=settings.DATABASE_MAX_OVERFLOW,\n    pool_recycle=settings.DATABASE_POOL_RECYCLE,\n    pool_pre_ping=True,\n    echo=False  # Set to True for SQL debugging\n)\n\n# Create async session factory\nAsyncSessionLocal = sessionmaker(\n    engine, class_=AsyncSession, expire_on_commit=False\n)\n\n# Base class for models\nBase = declarative_base()\n\nasync def get_db() -> AsyncSession:\n    \"\"\"Dependency to get database session.\"\"\"\n    async with AsyncSessionLocal() as session:\n        try:\n            yield session\n        finally:\n            await session.close()\n\nasync def create_tables():\n    \"\"\"Create database tables.\"\"\"\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n\nasync def drop_tables():\n    \"\"\"Drop database tables.\"\"\"\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n```\n\n## Base Model\n\n```python\n# app/models/base.py\nfrom sqlalchemy import Column, Integer, DateTime, func\nfrom sqlalchemy.ext.declarative import declared_attr\nfrom app.db.database import Base\nfrom datetime import datetime\nfrom typing import Any\n\nclass TimestampMixin:\n    \"\"\"Mixin for timestamp fields.\"\"\"\n    created_at = Column(DateTime(timezone=True), server_default=func.now(), nullable=False)\n    updated_at = Column(\n        DateTime(timezone=True),\n        server_default=func.now(),\n        onupdate=func.now(),\n        nullable=False\n    )\n\nclass BaseModel(Base, TimestampMixin):\n    \"\"\"Base model with common functionality.\"\"\"\n    __abstract__ = True\n    \n    id = Column(Integer, primary_key=True, index=True)\n    \n    @declared_attr\n    def __tablename__(cls) -> str:\n        return cls.__name__.lower()\n    \n    def dict(self, exclude: set = None) -> dict[str, Any]:\n        \"\"\"Convert model to dictionary.\"\"\"\n        exclude = exclude or set()\n        return {\n            column.name: getattr(self, column.name)\n            for column in self.__table__.columns\n            if column.name not in exclude\n        }\n    \n    def __repr__(self) -> str:\n        return f\"<{self.__class__.__name__}(id={self.id})>\"\n```\n\n## Example Models\n\n```python\n# app/models/user.py\nfrom sqlalchemy import Column, String, Boolean, Text, Index\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\nfrom passlib.context import CryptContext\n\npwd_context = CryptContext(schemes=[\"bcrypt\"], deprecated=\"auto\")\n\nclass User(BaseModel):\n    \"\"\"User model.\"\"\"\n    __tablename__ = \"users\"\n    \n    username = Column(String(50), unique=True, index=True, nullable=False)\n    email = Column(String(100), unique=True, index=True, nullable=False)\n    hashed_password = Column(String(255), nullable=False)\n    first_name = Column(String(50), nullable=False)\n    last_name = Column(String(50), nullable=False)\n    is_active = Column(Boolean, default=True, nullable=False)\n    is_superuser = Column(Boolean, default=False, nullable=False)\n    bio = Column(Text)\n    \n    # Relationships\n    posts = relationship(\"Post\", back_populates=\"author\", cascade=\"all, delete-orphan\")\n    \n    # Indexes\n    __table_args__ = (\n        Index('idx_user_email_active', email, is_active),\n        Index('idx_user_username_active', username, is_active),\n    )\n    \n    def verify_password(self, password: str) -> bool:\n        \"\"\"Verify password against hash.\"\"\"\n        return pwd_context.verify(password, self.hashed_password)\n    \n    @staticmethod\n    def get_password_hash(password: str) -> str:\n        \"\"\"Generate password hash.\"\"\"\n        return pwd_context.hash(password)\n    \n    def set_password(self, password: str) -> None:\n        \"\"\"Set user password.\"\"\"\n        self.hashed_password = self.get_password_hash(password)\n    \n    @property\n    def full_name(self) -> str:\n        \"\"\"Get user's full name.\"\"\"\n        return f\"{self.first_name} {self.last_name}\"\n    \n    def dict(self, exclude: set = None) -> dict:\n        \"\"\"Convert to dict excluding sensitive data.\"\"\"\n        exclude = exclude or set()\n        exclude.add('hashed_password')\n        return super().dict(exclude=exclude)\n\n# app/models/post.py\nfrom sqlalchemy import Column, String, Text, ForeignKey, Boolean, Index\nfrom sqlalchemy.orm import relationship\nfrom app.models.base import BaseModel\n\nclass Post(BaseModel):\n    \"\"\"Blog post model.\"\"\"\n    __tablename__ = \"posts\"\n    \n    title = Column(String(200), nullable=False, index=True)\n    content = Column(Text, nullable=False)\n    slug = Column(String(200), unique=True, nullable=False, index=True)\n    is_published = Column(Boolean, default=False, nullable=False)\n    \n    # Foreign keys\n    author_id = Column(Integer, ForeignKey(\"users.id\"), nullable=False)\n    \n    # Relationships\n    author = relationship(\"User\", back_populates=\"posts\")\n    \n    # Indexes\n    __table_args__ = (\n        Index('idx_post_published_created', is_published, 'created_at'),\n        Index('idx_post_author_published', author_id, is_published),\n    )\n```\n\n## Repository Pattern\n\n```python\n# app/repositories/base.py\nfrom typing import Generic, TypeVar, Type, Optional, List, Dict, Any\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import select, update, delete, func\nfrom sqlalchemy.orm import selectinload\nfrom app.models.base import BaseModel\n\nModelType = TypeVar(\"ModelType\", bound=BaseModel)\n\nclass BaseRepository(Generic[ModelType]):\n    \"\"\"Base repository with common CRUD operations.\"\"\"\n    \n    def __init__(self, model: Type[ModelType], db: AsyncSession):\n        self.model = model\n        self.db = db\n    \n    async def get(self, id: int) -> Optional[ModelType]:\n        \"\"\"Get model by ID.\"\"\"\n        result = await self.db.execute(\n            select(self.model).where(self.model.id == id)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_multi(\n        self, \n        skip: int = 0, \n        limit: int = 100,\n        filters: Dict[str, Any] = None\n    ) -> List[ModelType]:\n        \"\"\"Get multiple models with pagination.\"\"\"\n        query = select(self.model)\n        \n        if filters:\n            for field, value in filters.items():\n                if hasattr(self.model, field):\n                    query = query.where(getattr(self.model, field) == value)\n        \n        query = query.offset(skip).limit(limit)\n        result = await self.db.execute(query)\n        return result.scalars().all()\n    \n    async def create(self, obj_in: Dict[str, Any]) -> ModelType:\n        \"\"\"Create new model.\"\"\"\n        db_obj = self.model(**obj_in)\n        self.db.add(db_obj)\n        await self.db.commit()\n        await self.db.refresh(db_obj)\n        return db_obj\n    \n    async def update(\n        self, \n        id: int, \n        obj_in: Dict[str, Any]\n    ) -> Optional[ModelType]:\n        \"\"\"Update model by ID.\"\"\"\n        await self.db.execute(\n            update(self.model)\n            .where(self.model.id == id)\n            .values(**obj_in)\n        )\n        await self.db.commit()\n        return await self.get(id)\n    \n    async def delete(self, id: int) -> bool:\n        \"\"\"Delete model by ID.\"\"\"\n        result = await self.db.execute(\n            delete(self.model).where(self.model.id == id)\n        )\n        await self.db.commit()\n        return result.rowcount > 0\n    \n    async def count(self, filters: Dict[str, Any] = None) -> int:\n        \"\"\"Count models with optional filters.\"\"\"\n        query = select(func.count(self.model.id))\n        \n        if filters:\n            for field, value in filters.items():\n                if hasattr(self.model, field):\n                    query = query.where(getattr(self.model, field) == value)\n        \n        result = await self.db.execute(query)\n        return result.scalar()\n\n# app/repositories/user.py\nfrom typing import Optional\nfrom sqlalchemy import select\nfrom app.models.user import User\nfrom app.repositories.base import BaseRepository\n\nclass UserRepository(BaseRepository[User]):\n    \"\"\"User repository with custom methods.\"\"\"\n    \n    async def get_by_email(self, email: str) -> Optional[User]:\n        \"\"\"Get user by email.\"\"\"\n        result = await self.db.execute(\n            select(User).where(User.email == email)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_by_username(self, username: str) -> Optional[User]:\n        \"\"\"Get user by username.\"\"\"\n        result = await self.db.execute(\n            select(User).where(User.username == username)\n        )\n        return result.scalar_one_or_none()\n    \n    async def get_active_users(self, skip: int = 0, limit: int = 100):\n        \"\"\"Get active users.\"\"\"\n        return await self.get_multi(\n            skip=skip, \n            limit=limit, \n            filters={'is_active': True}\n        )\n```\n\n## Alembic Configuration\n\n```python\n# alembic/env.py\nfrom logging.config import fileConfig\nfrom sqlalchemy import engine_from_config, pool\nfrom sqlalchemy.ext.asyncio import AsyncEngine\nfrom alembic import context\nimport asyncio\n\n# Import your models\nfrom app.models.base import Base\nfrom app.models.user import User\nfrom app.models.post import Post\nfrom app.core.config import settings\n\n# Alembic Config object\nconfig = context.config\n\n# Override database URL\nconfig.set_main_option(\"sqlalchemy.url\", str(settings.DATABASE_URL))\n\n# Interpret the config file for logging\nif config.config_file_name is not None:\n    fileConfig(config.config_file_name)\n\n# Add your model's MetaData object here\ntarget_metadata = Base.metadata\n\ndef do_run_migrations(connection):\n    context.configure(\n        connection=connection,\n        target_metadata=target_metadata,\n        compare_type=True,\n        compare_server_default=True,\n    )\n    \n    with context.begin_transaction():\n        context.run_migrations()\n\nasync def run_migrations_online():\n    \"\"\"Run migrations in 'online' mode.\"\"\"\n    configuration = config.get_section(config.config_ini_section)\n    configuration[\"sqlalchemy.url\"] = str(settings.DATABASE_URL)\n    \n    connectable = AsyncEngine(\n        engine_from_config(\n            configuration,\n            prefix=\"sqlalchemy.\",\n            poolclass=pool.NullPool,\n        )\n    )\n    \n    async with connectable.connect() as connection:\n        await connection.run_sync(do_run_migrations)\n    \n    await connectable.dispose()\n\nif context.is_offline_mode():\n    run_migrations_offline()\nelse:\n    asyncio.run(run_migrations_online())\n```\n\n## Database Utilities\n\n```python\n# app/db/utils.py\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import text\nfrom app.db.database import engine, AsyncSessionLocal\nfrom app.core.config import settings\nimport asyncio\n\nasync def check_database_connection() -> bool:\n    \"\"\"Check if database is accessible.\"\"\"\n    try:\n        async with AsyncSessionLocal() as session:\n            await session.execute(text(\"SELECT 1\"))\n            return True\n    except Exception:\n        return False\n\nasync def create_database_if_not_exists():\n    \"\"\"Create database if it doesn't exist.\"\"\"\n    # This is PostgreSQL specific\n    import asyncpg\n    from urllib.parse import urlparse\n    \n    url = urlparse(str(settings.DATABASE_URL))\n    \n    try:\n        # Connect to postgres database to create our database\n        conn = await asyncpg.connect(\n            host=url.hostname,\n            port=url.port,\n            user=url.username,\n            password=url.password,\n            database='postgres'\n        )\n        \n        # Check if database exists\n        exists = await conn.fetchval(\n            \"SELECT 1 FROM pg_database WHERE datname = $1\",\n            url.path[1:]  # Remove leading slash\n        )\n        \n        if not exists:\n            await conn.execute(f'CREATE DATABASE \"{url.path[1:]}\"')\n            print(f\"Database {url.path[1:]} created.\")\n        \n        await conn.close()\n        \n    except Exception as e:\n        print(f\"Error creating database: {e}\")\n\nasync def execute_raw_sql(sql: str, params: dict = None) -> list:\n    \"\"\"Execute raw SQL query.\"\"\"\n    async with AsyncSessionLocal() as session:\n        result = await session.execute(text(sql), params or {})\n        return result.fetchall()\n\nasync def get_table_info(table_name: str) -> dict:\n    \"\"\"Get information about a table.\"\"\"\n    sql = \"\"\"\n    SELECT \n        column_name,\n        data_type,\n        is_nullable,\n        column_default\n    FROM information_schema.columns \n    WHERE table_name = :table_name\n    ORDER BY ordinal_position;\n    \"\"\"\n    \n    result = await execute_raw_sql(sql, {'table_name': table_name})\n    return [\n        {\n            'column_name': row[0],\n            'data_type': row[1],\n            'is_nullable': row[2],\n            'column_default': row[3]\n        }\n        for row in result\n    ]\n```\n\n## Database Initialization\n\n```python\n# app/db/init_db.py\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.db.database import get_db, create_tables\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.config import settings\nimport asyncio\n\nasync def init_db() -> None:\n    \"\"\"Initialize database with tables and default data.\"\"\"\n    # Create tables\n    await create_tables()\n    print(\"Database tables created.\")\n    \n    # Create default superuser\n    async with AsyncSessionLocal() as session:\n        user_repo = UserRepository(User, session)\n        \n        # Check if superuser exists\n        existing_user = await user_repo.get_by_email(\"admin@example.com\")\n        \n        if not existing_user:\n            superuser_data = {\n                \"username\": \"admin\",\n                \"email\": \"admin@example.com\",\n                \"first_name\": \"Admin\",\n                \"last_name\": \"User\",\n                \"is_superuser\": True,\n                \"is_active\": True\n            }\n            \n            superuser = User(**superuser_data)\n            superuser.set_password(\"admin123\")\n            \n            session.add(superuser)\n            await session.commit()\n            print(\"Superuser created.\")\n        else:\n            print(\"Superuser already exists.\")\n\nif __name__ == \"__main__\":\n    asyncio.run(init_db())\n```\n\n## Testing Database\n\n```python\n# tests/conftest.py\nimport pytest\nimport asyncio\nfrom sqlalchemy.ext.asyncio import create_async_engine, AsyncSession\nfrom sqlalchemy.orm import sessionmaker\nfrom app.db.database import Base, get_db\nfrom app.main import app\nimport pytest_asyncio\n\n# Test database URL\nTEST_DATABASE_URL = \"sqlite+aiosqlite:///./test.db\"\n\n@pytest.fixture(scope=\"session\")\ndef event_loop():\n    \"\"\"Create event loop for async tests.\"\"\"\n    loop = asyncio.get_event_loop_policy().new_event_loop()\n    yield loop\n    loop.close()\n\n@pytest_asyncio.fixture(scope=\"session\")\nasync def test_engine():\n    \"\"\"Create test database engine.\"\"\"\n    engine = create_async_engine(TEST_DATABASE_URL, echo=False)\n    \n    # Create tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n    \n    yield engine\n    \n    # Drop tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n    \n    await engine.dispose()\n\n@pytest_asyncio.fixture\nasync def test_session(test_engine):\n    \"\"\"Create test database session.\"\"\"\n    TestSessionLocal = sessionmaker(\n        test_engine, class_=AsyncSession, expire_on_commit=False\n    )\n    \n    async with TestSessionLocal() as session:\n        yield session\n\n@pytest.fixture\ndef override_get_db(test_session):\n    \"\"\"Override database dependency.\"\"\"\n    async def _override_get_db():\n        yield test_session\n    \n    app.dependency_overrides[get_db] = _override_get_db\n    yield\n    app.dependency_overrides = {}\n```\n\n## Database Health Check\n\n```python\n# app/api/health.py\nfrom fastapi import APIRouter, Depends, HTTPException\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom sqlalchemy import text\nfrom app.db.database import get_db\nimport time\n\nrouter = APIRouter()\n\n@router.get(\"/health\")\nasync def health_check(db: AsyncSession = Depends(get_db)):\n    \"\"\"Health check endpoint.\"\"\"\n    checks = {\n        \"status\": \"healthy\",\n        \"timestamp\": time.time(),\n        \"database\": await check_database_health(db),\n    }\n    \n    # Determine overall status\n    if checks[\"database\"][\"status\"] != \"ok\":\n        checks[\"status\"] = \"unhealthy\"\n        raise HTTPException(status_code=503, detail=checks)\n    \n    return checks\n\nasync def check_database_health(db: AsyncSession) -> dict:\n    \"\"\"Check database connection.\"\"\"\n    try:\n        start_time = time.time()\n        await db.execute(text(\"SELECT 1\"))\n        response_time = (time.time() - start_time) * 1000  # milliseconds\n        \n        return {\n            \"status\": \"ok\",\n            \"response_time_ms\": round(response_time, 2)\n        }\n    except Exception as e:\n        return {\n            \"status\": \"error\",\n            \"error\": str(e)\n        }\n```\n"
              },
              {
                "name": "/deployment",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/deployment.md",
                "frontmatter": null,
                "content": "# FastAPI Deployment\n\nBasic production deployment setup for FastAPI applications.\n\n## Usage\n\n```bash\n# Run with Uvicorn\nuvicorn app.main:app --host 0.0.0.0 --port 8000 --workers 4\n\n# Docker deployment\ndocker build -t fastapi-app .\ndocker run -p 8000:8000 fastapi-app\n```\n\n## Production Configuration\n\n```python\n# app/core/config.py\nfrom pydantic import BaseSettings\nimport os\n\nclass Settings(BaseSettings):\n    \"\"\"Production settings.\"\"\"\n    \n    # App\n    PROJECT_NAME: str = \"FastAPI App\"\n    VERSION: str = \"1.0.0\"\n    SECRET_KEY: str = os.getenv(\"SECRET_KEY\", \"dev-key\")\n    \n    # Server\n    HOST: str = \"0.0.0.0\"\n    PORT: int = 8000\n    WORKERS: int = 4\n    \n    # Database\n    DATABASE_URL: str = os.getenv(\"DATABASE_URL\", \"sqlite:///./app.db\")\n    \n    # Redis\n    REDIS_URL: str = os.getenv(\"REDIS_URL\", \"redis://localhost:6379\")\n    \n    class Config:\n        env_file = \".env\"\n\nsettings = Settings()\n```\n\n## Docker Setup\n\n```dockerfile\n# Dockerfile\nFROM python:3.11-slim\n\nWORKDIR /app\n\n# Install dependencies\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy app\nCOPY . .\n\n# Create non-root user\nRUN useradd -m appuser && chown -R appuser:appuser /app\nUSER appuser\n\nEXPOSE 8000\n\n# Health check\nHEALTHCHECK CMD curl -f http://localhost:8000/health || exit 1\n\nCMD [\"uvicorn\", \"app.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n```\n\n## Docker Compose\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\n\nservices:\n  app:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - DATABASE_URL=postgresql://user:pass@db:5432/fastapi_db\n      - REDIS_URL=redis://redis:6379\n    depends_on:\n      - db\n      - redis\n\n  db:\n    image: postgres:15\n    environment:\n      POSTGRES_DB: fastapi_db\n      POSTGRES_USER: user\n      POSTGRES_PASSWORD: password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n\n  redis:\n    image: redis:7-alpine\n    volumes:\n      - redis_data:/data\n\nvolumes:\n  postgres_data:\n  redis_data:\n```\n\n## Environment Variables\n\n```bash\n# .env\nSECRET_KEY=your-secret-key\nDATABASE_URL=postgresql://user:pass@localhost/fastapi_db\nREDIS_URL=redis://localhost:6379\n```\n\n## Health Check\n\n```python\n# app/api/health.py\nfrom fastapi import APIRouter\nfrom app.core.config import settings\n\nrouter = APIRouter()\n\n@router.get(\"/health\")\nasync def health_check():\n    return {\n        \"status\": \"healthy\",\n        \"version\": settings.VERSION\n    }\n```\n\n## Deployment Script\n\n```bash\n#!/bin/bash\n# deploy.sh\n\nset -e\n\necho \"Deploying FastAPI app...\"\n\n# Build and deploy\ndocker-compose build\ndocker-compose up -d\n\n# Health check\necho \"Checking health...\"\nif curl -f http://localhost:8000/health; then\n    echo \"‚úÖ Deployment successful!\"\nelse\n    echo \"‚ùå Deployment failed!\"\n    exit 1\nfi\n```\n"
              },
              {
                "name": "/testing",
                "description": null,
                "path": "cli-tool/templates/python/examples/fastapi-app/.claude/commands/testing.md",
                "frontmatter": null,
                "content": "# FastAPI Testing Framework\n\nComprehensive testing setup for FastAPI applications with pytest and async support.\n\n## Usage\n\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=app --cov-report=html\n\n# Run specific test file\npytest tests/test_api.py\n\n# Run with verbose output\npytest -v -s\n```\n\n## Test Configuration\n\n```python\n# pytest.ini\n[tool:pytest]\ntestpaths = tests\npython_files = test_*.py\npython_classes = Test*\npython_functions = test_*\naddopts = \n    --cov=app\n    --cov-report=term-missing\n    --cov-report=html:htmlcov\n    --asyncio-mode=auto\n    --strict-markers\n    --disable-warnings\nmarkers =\n    unit: Unit tests\n    integration: Integration tests\n    e2e: End-to-end tests\n    slow: Slow running tests\n    auth: Authentication tests\n    api: API tests\nasyncio_mode = auto\n```\n\n## Test Dependencies\n\n```python\n# requirements/test.txt\npytest>=7.0.0\npytest-asyncio>=0.21.0\npytest-cov>=4.0.0\nhttpx>=0.24.0\nfactory-boy>=3.2.0\nfaker>=18.0.0\nrespx>=0.20.0\npytest-mock>=3.10.0\n```\n\n## Test Fixtures\n\n```python\n# tests/conftest.py\nimport pytest\nimport asyncio\nfrom typing import AsyncGenerator, Generator\nfrom fastapi.testclient import TestClient\nfrom httpx import AsyncClient\nfrom sqlalchemy.ext.asyncio import create_async_engine, AsyncSession\nfrom sqlalchemy.orm import sessionmaker\nfrom app.main import app\nfrom app.db.database import get_db, Base\nfrom app.models.user import User\nfrom app.core.security import get_password_hash\nfrom tests.factories import UserFactory\n\n# Test database URL\nTEST_DATABASE_URL = \"sqlite+aiosqlite:///./test.db\"\n\n@pytest.fixture(scope=\"session\")\ndef event_loop() -> Generator[asyncio.AbstractEventLoop, None, None]:\n    \"\"\"Create event loop for the test session.\"\"\"\n    loop = asyncio.get_event_loop_policy().new_event_loop()\n    yield loop\n    loop.close()\n\n@pytest.fixture(scope=\"session\")\nasync def test_engine():\n    \"\"\"Create test database engine.\"\"\"\n    engine = create_async_engine(\n        TEST_DATABASE_URL,\n        echo=False,\n        future=True\n    )\n    \n    # Create tables\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.create_all)\n    \n    yield engine\n    \n    # Drop tables and dispose engine\n    async with engine.begin() as conn:\n        await conn.run_sync(Base.metadata.drop_all)\n    \n    await engine.dispose()\n\n@pytest.fixture\nasync def db_session(test_engine) -> AsyncGenerator[AsyncSession, None]:\n    \"\"\"Create database session for testing.\"\"\"\n    TestSessionLocal = sessionmaker(\n        test_engine, \n        class_=AsyncSession, \n        expire_on_commit=False\n    )\n    \n    async with TestSessionLocal() as session:\n        yield session\n\n@pytest.fixture\ndef override_get_db(db_session: AsyncSession) -> Generator:\n    \"\"\"Override database dependency.\"\"\"\n    async def _override_get_db():\n        yield db_session\n    \n    app.dependency_overrides[get_db] = _override_get_db\n    yield\n    app.dependency_overrides = {}\n\n@pytest.fixture\ndef client(override_get_db) -> Generator[TestClient, None, None]:\n    \"\"\"Create test client.\"\"\"\n    with TestClient(app) as test_client:\n        yield test_client\n\n@pytest.fixture\nasync def async_client(override_get_db) -> AsyncGenerator[AsyncClient, None]:\n    \"\"\"Create async test client.\"\"\"\n    async with AsyncClient(app=app, base_url=\"http://test\") as ac:\n        yield ac\n\n@pytest.fixture\nasync def test_user(db_session: AsyncSession) -> User:\n    \"\"\"Create test user.\"\"\"\n    user_data = {\n        \"username\": \"testuser\",\n        \"email\": \"test@example.com\",\n        \"hashed_password\": get_password_hash(\"testpass123\"),\n        \"first_name\": \"Test\",\n        \"last_name\": \"User\",\n        \"is_active\": True,\n        \"is_superuser\": False\n    }\n    \n    user = User(**user_data)\n    db_session.add(user)\n    await db_session.commit()\n    await db_session.refresh(user)\n    return user\n\n@pytest.fixture\nasync def superuser(db_session: AsyncSession) -> User:\n    \"\"\"Create superuser.\"\"\"\n    user_data = {\n        \"username\": \"admin\",\n        \"email\": \"admin@example.com\",\n        \"hashed_password\": get_password_hash(\"adminpass123\"),\n        \"first_name\": \"Admin\",\n        \"last_name\": \"User\",\n        \"is_active\": True,\n        \"is_superuser\": True\n    }\n    \n    user = User(**user_data)\n    db_session.add(user)\n    await db_session.commit()\n    await db_session.refresh(user)\n    return user\n\n@pytest.fixture\ndef user_token(test_user: User) -> str:\n    \"\"\"Create authentication token for test user.\"\"\"\n    from app.core.security import create_access_token\n    return create_access_token(subject=test_user.id)\n\n@pytest.fixture\ndef superuser_token(superuser: User) -> str:\n    \"\"\"Create authentication token for superuser.\"\"\"\n    from app.core.security import create_access_token\n    return create_access_token(subject=superuser.id)\n\n@pytest.fixture\ndef auth_headers(user_token: str) -> dict[str, str]:\n    \"\"\"Create authorization headers.\"\"\"\n    return {\"Authorization\": f\"Bearer {user_token}\"}\n\n@pytest.fixture\ndef superuser_headers(superuser_token: str) -> dict[str, str]:\n    \"\"\"Create superuser authorization headers.\"\"\"\n    return {\"Authorization\": f\"Bearer {superuser_token}\"}\n```\n\n## Test Factories\n\n```python\n# tests/factories.py\nimport factory\nfrom factory import Faker, SubFactory\nfrom app.models.user import User\nfrom app.models.post import Post\nfrom app.core.security import get_password_hash\n\nclass UserFactory(factory.Factory):\n    \"\"\"Factory for User model.\"\"\"\n    \n    class Meta:\n        model = User\n    \n    username = Faker('user_name')\n    email = Faker('email')\n    first_name = Faker('first_name')\n    last_name = Faker('last_name')\n    hashed_password = factory.LazyAttribute(lambda obj: get_password_hash('testpass123'))\n    is_active = True\n    is_superuser = False\n    bio = Faker('text', max_nb_chars=200)\n\nclass SuperUserFactory(UserFactory):\n    \"\"\"Factory for superuser.\"\"\"\n    username = 'admin'\n    email = 'admin@example.com'\n    first_name = 'Admin'\n    last_name = 'User'\n    is_superuser = True\n\nclass PostFactory(factory.Factory):\n    \"\"\"Factory for Post model.\"\"\"\n    \n    class Meta:\n        model = Post\n    \n    title = Faker('sentence', nb_words=4)\n    content = Faker('text', max_nb_chars=1000)\n    slug = Faker('slug')\n    is_published = True\n    author = SubFactory(UserFactory)\n\nclass InactiveUserFactory(UserFactory):\n    \"\"\"Factory for inactive user.\"\"\"\n    is_active = False\n```\n\n## API Testing\n\n```python\n# tests/test_api/test_users.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom tests.factories import UserFactory\n\nclass TestUserAPI:\n    \"\"\"Test User API endpoints.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(\n        self, \n        async_client: AsyncClient, \n        superuser_headers: dict\n    ):\n        \"\"\"Test POST /api/v1/users/.\"\"\"\n        user_data = {\n            \"username\": \"newuser\",\n            \"email\": \"new@example.com\",\n            \"password\": \"newpass123\",\n            \"first_name\": \"New\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/users/\",\n            json=user_data,\n            headers=superuser_headers\n        )\n        \n        assert response.status_code == 201\n        data = response.json()\n        assert data[\"username\"] == user_data[\"username\"]\n        assert data[\"email\"] == user_data[\"email\"]\n        assert \"password\" not in data\n        assert \"hashed_password\" not in data\n    \n    @pytest.mark.asyncio\n    async def test_get_users(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test GET /api/v1/users/.\"\"\"\n        response = await async_client.get(\n            \"/api/v1/users/\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"items\" in data\n        assert \"total\" in data\n        assert \"page\" in data\n        assert \"size\" in data\n        assert len(data[\"items\"]) >= 1\n    \n    @pytest.mark.asyncio\n    async def test_get_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test GET /api/v1/users/{id}.\"\"\"\n        response = await async_client.get(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"id\"] == test_user.id\n        assert data[\"username\"] == test_user.username\n        assert data[\"email\"] == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_update_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test PUT /api/v1/users/{id}.\"\"\"\n        update_data = {\n            \"first_name\": \"Updated\",\n            \"last_name\": \"Name\",\n            \"bio\": \"Updated bio\"\n        }\n        \n        response = await async_client.put(\n            f\"/api/v1/users/{test_user.id}\",\n            json=update_data,\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"first_name\"] == update_data[\"first_name\"]\n        assert data[\"last_name\"] == update_data[\"last_name\"]\n        assert data[\"bio\"] == update_data[\"bio\"]\n    \n    @pytest.mark.asyncio\n    async def test_delete_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        superuser_headers: dict\n    ):\n        \"\"\"Test DELETE /api/v1/users/{id}.\"\"\"\n        response = await async_client.delete(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=superuser_headers\n        )\n        \n        assert response.status_code == 204\n        \n        # Verify user is deleted\n        get_response = await async_client.get(\n            f\"/api/v1/users/{test_user.id}\",\n            headers=superuser_headers\n        )\n        assert get_response.status_code == 404\n    \n    @pytest.mark.asyncio\n    async def test_unauthorized_access(self, async_client: AsyncClient):\n        \"\"\"Test unauthorized access to protected endpoints.\"\"\"\n        response = await async_client.get(\"/api/v1/users/\")\n        assert response.status_code == 401\n    \n    @pytest.mark.asyncio\n    async def test_forbidden_access(\n        self, \n        async_client: AsyncClient, \n        auth_headers: dict\n    ):\n        \"\"\"Test forbidden access to admin endpoints.\"\"\"\n        user_data = {\n            \"username\": \"unauthorized\",\n            \"email\": \"unauthorized@example.com\",\n            \"password\": \"pass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/users/\",\n            json=user_data,\n            headers=auth_headers  # Regular user, not superuser\n        )\n        \n        assert response.status_code == 403\n```\n\n## Authentication Testing\n\n```python\n# tests/test_api/test_auth.py\nimport pytest\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom app.core.security import create_access_token, decode_token\n\nclass TestAuthAPI:\n    \"\"\"Test authentication API endpoints.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_register(\n        self, \n        async_client: AsyncClient\n    ):\n        \"\"\"Test user registration.\"\"\"\n        user_data = {\n            \"username\": \"newuser\",\n            \"email\": \"new@example.com\",\n            \"password\": \"newpass123\",\n            \"first_name\": \"New\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/register\",\n            json=user_data\n        )\n        \n        assert response.status_code == 201\n        data = response.json()\n        assert data[\"username\"] == user_data[\"username\"]\n        assert data[\"email\"] == user_data[\"email\"]\n        assert \"password\" not in data\n    \n    @pytest.mark.asyncio\n    async def test_register_duplicate_email(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test registration with duplicate email.\"\"\"\n        user_data = {\n            \"username\": \"different\",\n            \"email\": test_user.email,  # Duplicate email\n            \"password\": \"pass123\",\n            \"first_name\": \"Test\",\n            \"last_name\": \"User\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/register\",\n            json=user_data\n        )\n        \n        assert response.status_code == 400\n        assert \"Email already registered\" in response.json()[\"detail\"]\n    \n    @pytest.mark.asyncio\n    async def test_login(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test user login.\"\"\"\n        login_data = {\n            \"username\": test_user.username,\n            \"password\": \"testpass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/login\",\n            data=login_data,\n            headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"access_token\" in data\n        assert \"refresh_token\" in data\n        assert data[\"token_type\"] == \"bearer\"\n        assert \"expires_in\" in data\n        \n        # Verify token is valid\n        payload = decode_token(data[\"access_token\"])\n        assert payload is not None\n        assert payload[\"sub\"] == str(test_user.id)\n    \n    @pytest.mark.asyncio\n    async def test_login_invalid_credentials(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test login with invalid credentials.\"\"\"\n        login_data = {\n            \"username\": test_user.username,\n            \"password\": \"wrongpassword\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/login\",\n            data=login_data,\n            headers={\"Content-Type\": \"application/x-www-form-urlencoded\"}\n        )\n        \n        assert response.status_code == 401\n        assert \"Incorrect username or password\" in response.json()[\"detail\"]\n    \n    @pytest.mark.asyncio\n    async def test_get_current_user(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test get current user endpoint.\"\"\"\n        response = await async_client.get(\n            \"/api/v1/auth/me\",\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert data[\"id\"] == test_user.id\n        assert data[\"username\"] == test_user.username\n        assert data[\"email\"] == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_refresh_token(\n        self, \n        async_client: AsyncClient, \n        test_user: User\n    ):\n        \"\"\"Test token refresh.\"\"\"\n        from app.core.security import create_refresh_token\n        \n        refresh_token = create_refresh_token(subject=test_user.id)\n        \n        response = await async_client.post(\n            \"/api/v1/auth/refresh\",\n            json={\"refresh_token\": refresh_token}\n        )\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert \"access_token\" in data\n        assert \"refresh_token\" in data\n        assert data[\"token_type\"] == \"bearer\"\n    \n    @pytest.mark.asyncio\n    async def test_change_password(\n        self, \n        async_client: AsyncClient, \n        test_user: User,\n        auth_headers: dict\n    ):\n        \"\"\"Test password change.\"\"\"\n        password_data = {\n            \"current_password\": \"testpass123\",\n            \"new_password\": \"newpass123\"\n        }\n        \n        response = await async_client.post(\n            \"/api/v1/auth/change-password\",\n            json=password_data,\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        assert \"Password changed successfully\" in response.json()[\"message\"]\n```\n\n## Model Testing\n\n```python\n# tests/test_models/test_user.py\nimport pytest\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.models.user import User\nfrom app.core.security import verify_password, get_password_hash\n\nclass TestUserModel:\n    \"\"\"Test User model.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(self, db_session: AsyncSession):\n        \"\"\"Test user creation.\"\"\"\n        user_data = {\n            \"username\": \"testuser\",\n            \"email\": \"test@example.com\",\n            \"hashed_password\": get_password_hash(\"password123\"),\n            \"first_name\": \"Test\",\n            \"last_name\": \"User\"\n        }\n        \n        user = User(**user_data)\n        db_session.add(user)\n        await db_session.commit()\n        await db_session.refresh(user)\n        \n        assert user.id is not None\n        assert user.username == \"testuser\"\n        assert user.email == \"test@example.com\"\n        assert user.full_name == \"Test User\"\n        assert user.is_active is True\n        assert user.is_superuser is False\n        assert user.created_at is not None\n        assert user.updated_at is not None\n    \n    def test_password_verification(self):\n        \"\"\"Test password verification.\"\"\"\n        password = \"testpassword123\"\n        hashed = get_password_hash(password)\n        \n        user = User(\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=hashed,\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        assert user.verify_password(password)\n        assert not user.verify_password(\"wrongpassword\")\n    \n    def test_user_dict_excludes_password(self):\n        \"\"\"Test that dict() method excludes password.\"\"\"\n        user = User(\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=\"hashed_password\",\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        user_dict = user.dict()\n        assert \"hashed_password\" not in user_dict\n        assert \"username\" in user_dict\n        assert \"email\" in user_dict\n    \n    def test_user_repr(self):\n        \"\"\"Test user string representation.\"\"\"\n        user = User(\n            id=1,\n            username=\"test\",\n            email=\"test@example.com\",\n            hashed_password=\"hash\",\n            first_name=\"Test\",\n            last_name=\"User\"\n        )\n        \n        assert repr(user) == \"<User(id=1)>\"\n```\n\n## Repository Testing\n\n```python\n# tests/test_repositories/test_user.py\nimport pytest\nfrom sqlalchemy.ext.asyncio import AsyncSession\nfrom app.models.user import User\nfrom app.repositories.user import UserRepository\nfrom app.core.security import get_password_hash\n\nclass TestUserRepository:\n    \"\"\"Test UserRepository.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_create_user(self, db_session: AsyncSession):\n        \"\"\"Test user creation through repository.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        user_data = {\n            \"username\": \"repouser\",\n            \"email\": \"repo@example.com\",\n            \"hashed_password\": get_password_hash(\"password123\"),\n            \"first_name\": \"Repo\",\n            \"last_name\": \"User\"\n        }\n        \n        user = await repo.create(user_data)\n        \n        assert user.id is not None\n        assert user.username == \"repouser\"\n        assert user.email == \"repo@example.com\"\n    \n    @pytest.mark.asyncio\n    async def test_get_by_email(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test get user by email.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        found_user = await repo.get_by_email(test_user.email)\n        \n        assert found_user is not None\n        assert found_user.id == test_user.id\n        assert found_user.email == test_user.email\n    \n    @pytest.mark.asyncio\n    async def test_get_by_username(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test get user by username.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        found_user = await repo.get_by_username(test_user.username)\n        \n        assert found_user is not None\n        assert found_user.id == test_user.id\n        assert found_user.username == test_user.username\n    \n    @pytest.mark.asyncio\n    async def test_get_multi_with_pagination(\n        self, \n        db_session: AsyncSession, \n        test_user: User\n    ):\n        \"\"\"Test get multiple users with pagination.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        # Create additional users\n        for i in range(5):\n            user_data = {\n                \"username\": f\"user{i}\",\n                \"email\": f\"user{i}@example.com\",\n                \"hashed_password\": get_password_hash(\"password123\"),\n                \"first_name\": f\"User{i}\",\n                \"last_name\": \"Test\"\n            }\n            await repo.create(user_data)\n        \n        # Test pagination\n        users = await repo.get_multi(skip=0, limit=3)\n        assert len(users) == 3\n        \n        users_page_2 = await repo.get_multi(skip=3, limit=3)\n        assert len(users_page_2) >= 1  # At least test_user\n    \n    @pytest.mark.asyncio\n    async def test_update_user(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test user update.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        updated_user = await repo.update(test_user.id, {\n            \"first_name\": \"Updated\",\n            \"bio\": \"Updated bio\"\n        })\n        \n        assert updated_user is not None\n        assert updated_user.first_name == \"Updated\"\n        assert updated_user.bio == \"Updated bio\"\n    \n    @pytest.mark.asyncio\n    async def test_delete_user(self, db_session: AsyncSession, test_user: User):\n        \"\"\"Test user deletion.\"\"\"\n        repo = UserRepository(User, db_session)\n        \n        result = await repo.delete(test_user.id)\n        assert result is True\n        \n        # Verify user is deleted\n        deleted_user = await repo.get(test_user.id)\n        assert deleted_user is None\n```\n\n## Performance Testing\n\n```python\n# tests/test_performance.py\nimport pytest\nimport time\nimport asyncio\nfrom httpx import AsyncClient\nfrom app.models.user import User\nfrom tests.factories import UserFactory\n\n@pytest.mark.slow\nclass TestPerformance:\n    \"\"\"Test application performance.\"\"\"\n    \n    @pytest.mark.asyncio\n    async def test_concurrent_requests(\n        self, \n        async_client: AsyncClient,\n        auth_headers: dict\n    ):\n        \"\"\"Test concurrent API requests.\"\"\"\n        \n        async def make_request():\n            response = await async_client.get(\n                \"/api/v1/users/\",\n                headers=auth_headers\n            )\n            return response.status_code\n        \n        # Make 10 concurrent requests\n        start_time = time.time()\n        tasks = [make_request() for _ in range(10)]\n        results = await asyncio.gather(*tasks)\n        end_time = time.time()\n        \n        # All requests should succeed\n        assert all(status == 200 for status in results)\n        \n        # Should complete within reasonable time\n        assert (end_time - start_time) < 5.0\n    \n    @pytest.mark.asyncio\n    async def test_large_dataset_pagination(\n        self, \n        async_client: AsyncClient,\n        db_session,\n        auth_headers: dict\n    ):\n        \"\"\"Test pagination with large dataset.\"\"\"\n        # Create 100 users\n        users = []\n        for i in range(100):\n            user = UserFactory.build()\n            users.append(user)\n        \n        db_session.add_all(users)\n        await db_session.commit()\n        \n        # Test pagination performance\n        start_time = time.time()\n        response = await async_client.get(\n            \"/api/v1/users/?skip=0&limit=50\",\n            headers=auth_headers\n        )\n        end_time = time.time()\n        \n        assert response.status_code == 200\n        data = response.json()\n        assert len(data[\"items\"]) == 50\n        \n        # Should complete quickly\n        assert (end_time - start_time) < 1.0\n```\n\n## Mocking External Services\n\n```python\n# tests/test_external.py\nimport pytest\nimport respx\nimport httpx\nfrom app.services.email import EmailService\n\nclass TestExternalServices:\n    \"\"\"Test external service integrations.\"\"\"\n    \n    @pytest.mark.asyncio\n    @respx.mock\n    async def test_email_service(\n        self, \n        async_client: AsyncClient\n    ):\n        \"\"\"Test email service with mocked external API.\"\"\"\n        # Mock email service API\n        respx.post(\"https://api.emailservice.com/send\").mock(\n            return_value=httpx.Response(\n                200, \n                json={\"message\": \"Email sent successfully\"}\n            )\n        )\n        \n        email_service = EmailService()\n        result = await email_service.send_email(\n            to=\"test@example.com\",\n            subject=\"Test\",\n            body=\"Test email\"\n        )\n        \n        assert result[\"success\"] is True\n```\n\n## Test Utilities\n\n```python\n# tests/utils.py\nfrom typing import Dict, Any\nfrom httpx import Response\nimport json\n\ndef assert_response_status(response: Response, expected_status: int = 200):\n    \"\"\"Assert response status code.\"\"\"\n    assert response.status_code == expected_status, f\"Expected {expected_status}, got {response.status_code}. Response: {response.text}\"\n\ndef assert_response_json(response: Response, expected_keys: list[str] = None):\n    \"\"\"Assert response is valid JSON with expected keys.\"\"\"\n    assert response.headers.get(\"content-type\") == \"application/json\"\n    data = response.json()\n    \n    if expected_keys:\n        for key in expected_keys:\n            assert key in data, f\"Missing key '{key}' in response\"\n    \n    return data\n\ndef create_auth_headers(token: str) -> Dict[str, str]:\n    \"\"\"Create authorization headers with token.\"\"\"\n    return {\"Authorization\": f\"Bearer {token}\"}\n\nasync def create_test_users(db_session, count: int = 5) -> list:\n    \"\"\"Create multiple test users.\"\"\"\n    from tests.factories import UserFactory\n    \n    users = []\n    for i in range(count):\n        user = UserFactory.build()\n        users.append(user)\n    \n    db_session.add_all(users)\n    await db_session.commit()\n    \n    return users\n```\n"
              },
              {
                "name": "/app-factory",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/app-factory.md",
                "frontmatter": null,
                "content": "# Flask Application Factory Pattern\n\nCreate a scalable Flask application using the factory pattern with blueprints and configuration management.\n\n## Purpose\n\nThis command helps you set up a Flask application using the application factory pattern, which is the recommended approach for larger Flask applications.\n\n## Usage\n\n```\n/app-factory\n```\n\n## What this command does\n\n1. **Creates application factory** with proper structure\n2. **Sets up configuration management** for different environments\n3. **Implements blueprints** for modular design\n4. **Configures extensions** (database, auth, etc.)\n5. **Adds error handling** and logging\n\n## Example Output\n\n```python\n# app/__init__.py\nfrom flask import Flask\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom flask_login import LoginManager\nfrom flask_mail import Mail\nfrom flask_wtf.csrf import CSRFProtect\nfrom flask_cors import CORS\nimport logging\nfrom logging.handlers import RotatingFileHandler\nimport os\n\n# Initialize extensions\ndb = SQLAlchemy()\nmigrate = Migrate()\nlogin = LoginManager()\nmail = Mail()\ncsrf = CSRFProtect()\ncors = CORS()\n\ndef create_app(config_class=None):\n    \"\"\"Application factory function.\"\"\"\n    app = Flask(__name__)\n    \n    # Load configuration\n    if config_class is None:\n        config_class = os.environ.get('FLASK_CONFIG', 'development')\n    \n    if isinstance(config_class, str):\n        from app.config import config\n        app.config.from_object(config[config_class])\n    else:\n        app.config.from_object(config_class)\n    \n    # Initialize extensions\n    db.init_app(app)\n    migrate.init_app(app, db)\n    login.init_app(app)\n    mail.init_app(app)\n    csrf.init_app(app)\n    cors.init_app(app)\n    \n    # Configure login manager\n    login.login_view = 'auth.login'\n    login.login_message = 'Please log in to access this page.'\n    login.login_message_category = 'info'\n    \n    # Register blueprints\n    from app.main import bp as main_bp\n    app.register_blueprint(main_bp)\n    \n    from app.auth import bp as auth_bp\n    app.register_blueprint(auth_bp, url_prefix='/auth')\n    \n    from app.api import bp as api_bp\n    app.register_blueprint(api_bp, url_prefix='/api')\n    \n    from app.admin import bp as admin_bp\n    app.register_blueprint(admin_bp, url_prefix='/admin')\n    \n    # Error handlers\n    from app.errors import bp as errors_bp\n    app.register_blueprint(errors_bp)\n    \n    # Configure logging\n    if not app.debug and not app.testing:\n        if not os.path.exists('logs'):\n            os.mkdir('logs')\n        \n        file_handler = RotatingFileHandler(\n            'logs/app.log', \n            maxBytes=10240, \n            backupCount=10\n        )\n        file_handler.setFormatter(logging.Formatter(\n            '%(asctime)s %(levelname)s: %(message)s [in %(pathname)s:%(lineno)d]'\n        ))\n        file_handler.setLevel(logging.INFO)\n        app.logger.addHandler(file_handler)\n        \n        app.logger.setLevel(logging.INFO)\n        app.logger.info('Flask application startup')\n    \n    return app\n\n# Import models (avoid circular imports)\nfrom app import models\n```\n\n```python\n# app/config.py\nimport os\nfrom dotenv import load_dotenv\n\nbasedir = os.path.abspath(os.path.dirname(__file__))\nload_dotenv(os.path.join(basedir, '.env'))\n\nclass Config:\n    \"\"\"Base configuration class.\"\"\"\n    SECRET_KEY = os.environ.get('SECRET_KEY') or 'dev-secret-key'\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app.db')\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    \n    # Mail configuration\n    MAIL_SERVER = os.environ.get('MAIL_SERVER')\n    MAIL_PORT = int(os.environ.get('MAIL_PORT') or 587)\n    MAIL_USE_TLS = os.environ.get('MAIL_USE_TLS', 'true').lower() in ['true', 'on', '1']\n    MAIL_USERNAME = os.environ.get('MAIL_USERNAME')\n    MAIL_PASSWORD = os.environ.get('MAIL_PASSWORD')\n    ADMIN_EMAIL = os.environ.get('ADMIN_EMAIL')\n    \n    # Pagination\n    POSTS_PER_PAGE = 10\n    USERS_PER_PAGE = 50\n    \n    # Upload configuration\n    MAX_CONTENT_LENGTH = 16 * 1024 * 1024  # 16MB\n    UPLOAD_FOLDER = os.path.join(basedir, 'uploads')\n    \n    @staticmethod\n    def init_app(app):\n        pass\n\nclass DevelopmentConfig(Config):\n    \"\"\"Development configuration.\"\"\"\n    DEBUG = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DEV_DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app-dev.db')\n\nclass TestingConfig(Config):\n    \"\"\"Testing configuration.\"\"\"\n    TESTING = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('TEST_DATABASE_URL') or 'sqlite://'\n    WTF_CSRF_ENABLED = False\n\nclass ProductionConfig(Config):\n    \"\"\"Production configuration.\"\"\"\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app.db')\n    \n    @classmethod\n    def init_app(cls, app):\n        Config.init_app(app)\n        \n        # Log to stderr\n        import logging\n        from logging import StreamHandler\n        file_handler = StreamHandler()\n        file_handler.setLevel(logging.INFO)\n        app.logger.addHandler(file_handler)\n\nconfig = {\n    'development': DevelopmentConfig,\n    'testing': TestingConfig,\n    'production': ProductionConfig,\n    'default': DevelopmentConfig\n}\n```\n\n```python\n# app/main/__init__.py\nfrom flask import Blueprint\n\nbp = Blueprint('main', __name__)\n\nfrom app.main import routes\n```\n\n```python\n# app/main/routes.py\nfrom flask import render_template, request, current_app\nfrom app.main import bp\nfrom app.models import Post\n\n@bp.route('/')\n@bp.route('/index')\ndef index():\n    \"\"\"Home page.\"\"\"\n    page = request.args.get('page', 1, type=int)\n    posts = Post.query.filter_by(published=True).order_by(\n        Post.created_at.desc()\n    ).paginate(\n        page=page,\n        per_page=current_app.config['POSTS_PER_PAGE'],\n        error_out=False\n    )\n    \n    return render_template('index.html', posts=posts)\n\n@bp.route('/about')\ndef about():\n    \"\"\"About page.\"\"\"\n    return render_template('about.html')\n```\n\n```python\n# app/auth/__init__.py\nfrom flask import Blueprint\n\nbp = Blueprint('auth', __name__)\n\nfrom app.auth import routes\n```\n\n```python\n# app/auth/routes.py\nfrom flask import render_template, redirect, url_for, flash, request\nfrom flask_login import login_user, logout_user, login_required, current_user\nfrom werkzeug.urls import url_parse\nfrom app import db\nfrom app.auth import bp\nfrom app.auth.forms import LoginForm, RegistrationForm\nfrom app.models import User\n\n@bp.route('/login', methods=['GET', 'POST'])\ndef login():\n    \"\"\"User login.\"\"\"\n    if current_user.is_authenticated:\n        return redirect(url_for('main.index'))\n    \n    form = LoginForm()\n    if form.validate_on_submit():\n        user = User.query.filter_by(username=form.username.data).first()\n        if user is None or not user.check_password(form.password.data):\n            flash('Invalid username or password', 'error')\n            return redirect(url_for('auth.login'))\n        \n        login_user(user, remember=form.remember_me.data)\n        \n        next_page = request.args.get('next')\n        if not next_page or url_parse(next_page).netloc != '':\n            next_page = url_for('main.index')\n        \n        return redirect(next_page)\n    \n    return render_template('auth/login.html', form=form)\n\n@bp.route('/logout')\n@login_required\ndef logout():\n    \"\"\"User logout.\"\"\"\n    logout_user()\n    flash('You have been logged out.', 'info')\n    return redirect(url_for('main.index'))\n\n@bp.route('/register', methods=['GET', 'POST'])\ndef register():\n    \"\"\"User registration.\"\"\"\n    if current_user.is_authenticated:\n        return redirect(url_for('main.index'))\n    \n    form = RegistrationForm()\n    if form.validate_on_submit():\n        user = User(username=form.username.data, email=form.email.data)\n        user.set_password(form.password.data)\n        db.session.add(user)\n        db.session.commit()\n        \n        flash('Registration successful!', 'success')\n        return redirect(url_for('auth.login'))\n    \n    return render_template('auth/register.html', form=form)\n```\n\n```python\n# app/models.py\nfrom app import db, login\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom flask_login import UserMixin\nfrom datetime import datetime\n\nclass User(UserMixin, db.Model):\n    \"\"\"User model.\"\"\"\n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(64), index=True, unique=True)\n    email = db.Column(db.String(120), index=True, unique=True)\n    password_hash = db.Column(db.String(128))\n    created_at = db.Column(db.DateTime, index=True, default=datetime.utcnow)\n    \n    posts = db.relationship('Post', backref='author', lazy='dynamic')\n    \n    def set_password(self, password):\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        return check_password_hash(self.password_hash, password)\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n\n@login.user_loader\ndef load_user(id):\n    return User.query.get(int(id))\n\nclass Post(db.Model):\n    \"\"\"Post model.\"\"\"\n    id = db.Column(db.Integer, primary_key=True)\n    title = db.Column(db.String(100), nullable=False)\n    content = db.Column(db.Text, nullable=False)\n    published = db.Column(db.Boolean, default=False)\n    created_at = db.Column(db.DateTime, index=True, default=datetime.utcnow)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\n    \n    user_id = db.Column(db.Integer, db.ForeignKey('user.id'), nullable=False)\n    \n    def __repr__(self):\n        return f'<Post {self.title}>'\n```\n\n```python\n# app.py (main application entry point)\nfrom app import create_app, db\nfrom app.models import User, Post\n\napp = create_app()\n\n@app.shell_context_processor\ndef make_shell_context():\n    \"\"\"Add models to shell context.\"\"\"\n    return {'db': db, 'User': User, 'Post': Post}\n\nif __name__ == '__main__':\n    app.run(debug=True)\n```\n\n## Project Structure\n\n```\nproject/\n‚îú‚îÄ‚îÄ app/\n‚îÇ   ‚îú‚îÄ‚îÄ __init__.py         # Application factory\n‚îÇ   ‚îú‚îÄ‚îÄ config.py           # Configuration classes\n‚îÇ   ‚îú‚îÄ‚îÄ models.py           # Database models\n‚îÇ   ‚îú‚îÄ‚îÄ main/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # Main blueprint\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.py       # Main routes\n‚îÇ   ‚îú‚îÄ‚îÄ auth/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # Auth blueprint\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes.py       # Auth routes\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ forms.py        # Auth forms\n‚îÇ   ‚îú‚îÄ‚îÄ api/\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py     # API blueprint\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ routes.py       # API routes\n‚îÇ   ‚îî‚îÄ‚îÄ templates/          # Jinja2 templates\n‚îú‚îÄ‚îÄ migrations/             # Database migrations\n‚îú‚îÄ‚îÄ logs/                   # Application logs\n‚îú‚îÄ‚îÄ app.py                  # Application entry point\n‚îú‚îÄ‚îÄ requirements.txt        # Dependencies\n‚îî‚îÄ‚îÄ .env                    # Environment variables\n```\n\n## Benefits of Application Factory\n\n- **Testing**: Easy to create app instances with different configs\n- **Scalability**: Modular design with blueprints\n- **Configuration**: Environment-specific settings\n- **Extensions**: Proper initialization order\n- **Maintainability**: Clear separation of concerns"
              },
              {
                "name": "/blueprint",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/blueprint.md",
                "frontmatter": null,
                "content": "# Flask Blueprint Generator\n\nCreate organized Flask blueprints for modular application structure.\n\n## Usage\n\n```bash\n# Create a new blueprint\nflask create-blueprint users\nflask create-blueprint api/v1\n```\n\n## Blueprint Structure\n\nGenerates a complete blueprint with:\n- Routes and view functions\n- Error handlers\n- Template folder structure\n- Static file organization\n\n## Example Blueprint\n\n```python\n# app/blueprints/users/__init__.py\nfrom flask import Blueprint\n\nusers_bp = Blueprint(\n    'users',\n    __name__,\n    url_prefix='/users',\n    template_folder='templates',\n    static_folder='static'\n)\n\nfrom . import routes, models\n\n# app/blueprints/users/routes.py\nfrom flask import render_template, request, redirect, url_for, flash\nfrom . import users_bp\nfrom .models import User\nfrom .forms import UserForm\n\n@users_bp.route('/')\ndef index():\n    \"\"\"List all users.\"\"\"\n    users = User.query.all()\n    return render_template('users/index.html', users=users)\n\n@users_bp.route('/create', methods=['GET', 'POST'])\ndef create():\n    \"\"\"Create a new user.\"\"\"\n    form = UserForm()\n    if form.validate_on_submit():\n        user = User(\n            username=form.username.data,\n            email=form.email.data\n        )\n        user.save()\n        flash('User created successfully!', 'success')\n        return redirect(url_for('users.index'))\n    return render_template('users/create.html', form=form)\n\n@users_bp.route('/<int:user_id>')\ndef detail(user_id):\n    \"\"\"Show user details.\"\"\"\n    user = User.query.get_or_404(user_id)\n    return render_template('users/detail.html', user=user)\n\n@users_bp.route('/<int:user_id>/edit', methods=['GET', 'POST'])\ndef edit(user_id):\n    \"\"\"Edit an existing user.\"\"\"\n    user = User.query.get_or_404(user_id)\n    form = UserForm(obj=user)\n    if form.validate_on_submit():\n        user.username = form.username.data\n        user.email = form.email.data\n        user.save()\n        flash('User updated successfully!', 'success')\n        return redirect(url_for('users.detail', user_id=user.id))\n    return render_template('users/edit.html', form=form, user=user)\n\n@users_bp.route('/<int:user_id>/delete', methods=['POST'])\ndef delete(user_id):\n    \"\"\"Delete a user.\"\"\"\n    user = User.query.get_or_404(user_id)\n    user.delete()\n    flash('User deleted successfully!', 'success')\n    return redirect(url_for('users.index'))\n\n# Error handlers\n@users_bp.errorhandler(404)\ndef not_found(error):\n    return render_template('users/404.html'), 404\n\n@users_bp.errorhandler(500)\ndef internal_error(error):\n    return render_template('users/500.html'), 500\n```\n\n## Blueprint Models\n\n```python\n# app/blueprints/users/models.py\nfrom app.extensions import db\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom datetime import datetime\n\nclass User(db.Model):\n    \"\"\"User model.\"\"\"\n    __tablename__ = 'users'\n    \n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(80), unique=True, nullable=False)\n    email = db.Column(db.String(120), unique=True, nullable=False)\n    password_hash = db.Column(db.String(255), nullable=False)\n    created_at = db.Column(db.DateTime, default=datetime.utcnow)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow)\n    is_active = db.Column(db.Boolean, default=True)\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n    \n    def set_password(self, password):\n        \"\"\"Set password hash.\"\"\"\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        \"\"\"Check password hash.\"\"\"\n        return check_password_hash(self.password_hash, password)\n    \n    def save(self):\n        \"\"\"Save user to database.\"\"\"\n        db.session.add(self)\n        db.session.commit()\n    \n    def delete(self):\n        \"\"\"Delete user from database.\"\"\"\n        db.session.delete(self)\n        db.session.commit()\n    \n    def to_dict(self):\n        \"\"\"Convert to dictionary.\"\"\"\n        return {\n            'id': self.id,\n            'username': self.username,\n            'email': self.email,\n            'created_at': self.created_at.isoformat(),\n            'is_active': self.is_active\n        }\n```\n\n## Blueprint Forms\n\n```python\n# app/blueprints/users/forms.py\nfrom flask_wtf import FlaskForm\nfrom wtforms import StringField, EmailField, PasswordField, BooleanField\nfrom wtforms.validators import DataRequired, Email, Length, EqualTo\nfrom .models import User\n\nclass UserForm(FlaskForm):\n    \"\"\"User creation/edit form.\"\"\"\n    username = StringField(\n        'Username',\n        validators=[\n            DataRequired(),\n            Length(min=3, max=80)\n        ]\n    )\n    email = EmailField(\n        'Email',\n        validators=[\n            DataRequired(),\n            Email(),\n            Length(max=120)\n        ]\n    )\n    password = PasswordField(\n        'Password',\n        validators=[\n            DataRequired(),\n            Length(min=8)\n        ]\n    )\n    confirm_password = PasswordField(\n        'Confirm Password',\n        validators=[\n            DataRequired(),\n            EqualTo('password', message='Passwords must match')\n        ]\n    )\n    is_active = BooleanField('Active')\n    \n    def validate_username(self, field):\n        \"\"\"Validate username uniqueness.\"\"\"\n        if User.query.filter_by(username=field.data).first():\n            raise ValidationError('Username already exists.')\n    \n    def validate_email(self, field):\n        \"\"\"Validate email uniqueness.\"\"\"\n        if User.query.filter_by(email=field.data).first():\n            raise ValidationError('Email already registered.')\n```\n\n## Registration in Main App\n\n```python\n# app/__init__.py\nfrom flask import Flask\nfrom app.blueprints.users import users_bp\n\ndef create_app():\n    app = Flask(__name__)\n    \n    # Register blueprints\n    app.register_blueprint(users_bp)\n    \n    return app\n```\n\n## Template Structure\n\n```\ntemplates/\n‚îú‚îÄ‚îÄ base.html\n‚îî‚îÄ‚îÄ users/\n    ‚îú‚îÄ‚îÄ index.html\n    ‚îú‚îÄ‚îÄ create.html\n    ‚îú‚îÄ‚îÄ detail.html\n    ‚îú‚îÄ‚îÄ edit.html\n    ‚îú‚îÄ‚îÄ 404.html\n    ‚îî‚îÄ‚îÄ 500.html\n```\n\n## Best Practices\n\n- Use blueprints to organize related functionality\n- Keep models, forms, and routes in separate files\n- Implement proper error handling\n- Use URL prefixes for namespacing\n- Follow RESTful routing conventions\n- Include comprehensive docstrings\n- Add form validation and CSRF protection\n"
              },
              {
                "name": "/database",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/database.md",
                "frontmatter": null,
                "content": "# Flask Database Management\n\nComplete database setup and management for Flask applications using SQLAlchemy.\n\n## Usage\n\n```bash\n# Initialize database\nflask db init\n\n# Create migration\nflask db migrate -m \"Initial migration\"\n\n# Apply migrations\nflask db upgrade\n\n# Downgrade migration\nflask db downgrade\n```\n\n## Database Configuration\n\n```python\n# config.py\nimport os\nfrom urllib.parse import quote_plus\n\nclass Config:\n    \"\"\"Base configuration.\"\"\"\n    SECRET_KEY = os.environ.get('SECRET_KEY') or 'dev-secret-key'\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    SQLALCHEMY_RECORD_QUERIES = True\n    \nclass DevelopmentConfig(Config):\n    \"\"\"Development configuration.\"\"\"\n    DEBUG = True\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///app.db'\n        \nclass ProductionConfig(Config):\n    \"\"\"Production configuration.\"\"\"\n    DEBUG = False\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        f\"postgresql://{os.environ.get('DB_USER')}:{quote_plus(os.environ.get('DB_PASSWORD'))}@\" \\\n        f\"{os.environ.get('DB_HOST')}:{os.environ.get('DB_PORT', '5432')}/{os.environ.get('DB_NAME')}\"\n    \nclass TestingConfig(Config):\n    \"\"\"Testing configuration.\"\"\"\n    TESTING = True\n    SQLALCHEMY_DATABASE_URI = 'sqlite:///:memory:'\n    WTF_CSRF_ENABLED = False\n\nconfig = {\n    'development': DevelopmentConfig,\n    'production': ProductionConfig,\n    'testing': TestingConfig,\n    'default': DevelopmentConfig\n}\n```\n\n## Database Extensions\n\n```python\n# app/extensions.py\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom flask_login import LoginManager\nfrom flask_wtf.csrf import CSRFProtect\nfrom flask_caching import Cache\nfrom flask_limiter import Limiter\nfrom flask_limiter.util import get_remote_address\n\n# Initialize extensions\ndb = SQLAlchemy()\nmigrate = Migrate()\nlogin_manager = LoginManager()\ncsrf = CSRFProtect()\ncache = Cache()\nlimiter = Limiter(key_func=get_remote_address)\n\ndef init_extensions(app):\n    \"\"\"Initialize Flask extensions.\"\"\"\n    db.init_app(app)\n    migrate.init_app(app, db)\n    login_manager.init_app(app)\n    csrf.init_app(app)\n    cache.init_app(app)\n    limiter.init_app(app)\n    \n    # Configure login manager\n    login_manager.login_view = 'auth.login'\n    login_manager.login_message = 'Please log in to access this page.'\n    login_manager.login_message_category = 'info'\n```\n\n## Base Model\n\n```python\n# app/models/base.py\nfrom app.extensions import db\nfrom datetime import datetime\nfrom sqlalchemy.ext.declarative import declared_attr\n\nclass TimestampMixin:\n    \"\"\"Add timestamp fields to model.\"\"\"\n    created_at = db.Column(db.DateTime, default=datetime.utcnow, nullable=False)\n    updated_at = db.Column(db.DateTime, default=datetime.utcnow, onupdate=datetime.utcnow, nullable=False)\n\nclass BaseModel(db.Model, TimestampMixin):\n    \"\"\"Base model with common functionality.\"\"\"\n    __abstract__ = True\n    \n    id = db.Column(db.Integer, primary_key=True)\n    \n    @declared_attr\n    def __tablename__(cls):\n        return cls.__name__.lower()\n    \n    def save(self, commit=True):\n        \"\"\"Save model to database.\"\"\"\n        db.session.add(self)\n        if commit:\n            db.session.commit()\n        return self\n    \n    def delete(self, commit=True):\n        \"\"\"Delete model from database.\"\"\"\n        db.session.delete(self)\n        if commit:\n            db.session.commit()\n    \n    def update(self, **kwargs):\n        \"\"\"Update model attributes.\"\"\"\n        for key, value in kwargs.items():\n            if hasattr(self, key):\n                setattr(self, key, value)\n        return self.save()\n    \n    def to_dict(self, exclude=None):\n        \"\"\"Convert model to dictionary.\"\"\"\n        exclude = exclude or []\n        return {\n            column.name: getattr(self, column.name)\n            for column in self.__table__.columns\n            if column.name not in exclude\n        }\n    \n    @classmethod\n    def get_or_404(cls, id):\n        \"\"\"Get model by ID or raise 404.\"\"\"\n        return cls.query.get_or_404(id)\n    \n    @classmethod\n    def create(cls, **kwargs):\n        \"\"\"Create new model instance.\"\"\"\n        instance = cls(**kwargs)\n        return instance.save()\n```\n\n## Example Models\n\n```python\n# app/models/user.py\nfrom app.extensions import db\nfrom app.models.base import BaseModel\nfrom werkzeug.security import generate_password_hash, check_password_hash\nfrom flask_login import UserMixin\n\nclass User(UserMixin, BaseModel):\n    \"\"\"User model.\"\"\"\n    __tablename__ = 'users'\n    \n    username = db.Column(db.String(80), unique=True, nullable=False, index=True)\n    email = db.Column(db.String(120), unique=True, nullable=False, index=True)\n    password_hash = db.Column(db.String(255), nullable=False)\n    first_name = db.Column(db.String(50), nullable=False)\n    last_name = db.Column(db.String(50), nullable=False)\n    is_active = db.Column(db.Boolean, default=True, nullable=False)\n    is_admin = db.Column(db.Boolean, default=False, nullable=False)\n    last_login = db.Column(db.DateTime)\n    \n    # Relationships\n    posts = db.relationship('Post', backref='author', lazy='dynamic', cascade='all, delete-orphan')\n    \n    def __repr__(self):\n        return f'<User {self.username}>'\n    \n    def set_password(self, password):\n        \"\"\"Set password hash.\"\"\"\n        self.password_hash = generate_password_hash(password)\n    \n    def check_password(self, password):\n        \"\"\"Check password hash.\"\"\"\n        return check_password_hash(self.password_hash, password)\n    \n    @property\n    def full_name(self):\n        \"\"\"Get user's full name.\"\"\"\n        return f\"{self.first_name} {self.last_name}\"\n    \n    def to_dict(self, exclude=None):\n        \"\"\"Convert to dictionary excluding sensitive data.\"\"\"\n        exclude = exclude or ['password_hash']\n        return super().to_dict(exclude=exclude)\n\n# app/models/post.py\nclass Post(BaseModel):\n    \"\"\"Blog post model.\"\"\"\n    __tablename__ = 'posts'\n    \n    title = db.Column(db.String(200), nullable=False)\n    content = db.Column(db.Text, nullable=False)\n    slug = db.Column(db.String(200), unique=True, nullable=False, index=True)\n    status = db.Column(db.String(20), default='draft', nullable=False)\n    published_at = db.Column(db.DateTime)\n    \n    # Foreign keys\n    user_id = db.Column(db.Integer, db.ForeignKey('users.id'), nullable=False)\n    category_id = db.Column(db.Integer, db.ForeignKey('categories.id'))\n    \n    # Relationships\n    category = db.relationship('Category', backref='posts')\n    tags = db.relationship('Tag', secondary='post_tags', backref='posts')\n    \n    def __repr__(self):\n        return f'<Post {self.title}>'\n    \n    @property\n    def is_published(self):\n        \"\"\"Check if post is published.\"\"\"\n        return self.status == 'published' and self.published_at is not None\n```\n\n## Database CLI Commands\n\n```python\n# app/cli.py\nimport click\nfrom flask import current_app\nfrom flask.cli import with_appcontext\nfrom app.extensions import db\nfrom app.models import User, Post, Category\n\n@click.command()\n@with_appcontext\ndef init_db():\n    \"\"\"Initialize database.\"\"\"\n    db.create_all()\n    click.echo('Database initialized.')\n\n@click.command()\n@with_appcontext\ndef seed_db():\n    \"\"\"Seed database with sample data.\"\"\"\n    # Create admin user\n    admin = User(\n        username='admin',\n        email='admin@example.com',\n        first_name='Admin',\n        last_name='User',\n        is_admin=True\n    )\n    admin.set_password('admin123')\n    admin.save()\n    \n    # Create sample category\n    category = Category(\n        name='Technology',\n        description='Tech-related posts'\n    )\n    category.save()\n    \n    # Create sample post\n    post = Post(\n        title='Welcome to Flask',\n        content='This is a sample blog post.',\n        slug='welcome-to-flask',\n        status='published',\n        user_id=admin.id,\n        category_id=category.id\n    )\n    post.save()\n    \n    click.echo('Database seeded with sample data.')\n\n@click.command()\n@with_appcontext\ndef reset_db():\n    \"\"\"Reset database.\"\"\"\n    if click.confirm('Are you sure you want to reset the database?'):\n        db.drop_all()\n        db.create_all()\n        click.echo('Database reset.')\n\ndef init_commands(app):\n    \"\"\"Register CLI commands.\"\"\"\n    app.cli.add_command(init_db)\n    app.cli.add_command(seed_db)\n    app.cli.add_command(reset_db)\n```\n\n## Connection Pooling\n\n```python\n# app/database.py\nfrom sqlalchemy import create_engine\nfrom sqlalchemy.pool import QueuePool\n\ndef configure_database(app):\n    \"\"\"Configure database with connection pooling.\"\"\"\n    if app.config.get('SQLALCHEMY_DATABASE_URI', '').startswith('postgresql'):\n        # PostgreSQL configuration\n        engine = create_engine(\n            app.config['SQLALCHEMY_DATABASE_URI'],\n            poolclass=QueuePool,\n            pool_size=10,\n            max_overflow=20,\n            pool_recycle=3600,\n            pool_pre_ping=True\n        )\n        app.config['SQLALCHEMY_ENGINE_OPTIONS'] = {\n            'pool_size': 10,\n            'max_overflow': 20,\n            'pool_recycle': 3600,\n            'pool_pre_ping': True\n        }\n```\n\n## Database Utilities\n\n```python\n# app/utils/database.py\nfrom app.extensions import db\nfrom sqlalchemy import text\nfrom flask import current_app\n\ndef execute_sql(sql, params=None):\n    \"\"\"Execute raw SQL query.\"\"\"\n    with db.engine.connect() as conn:\n        result = conn.execute(text(sql), params or {})\n        return result.fetchall()\n\ndef backup_database():\n    \"\"\"Create database backup.\"\"\"\n    # Implementation depends on database type\n    pass\n\ndef check_database_health():\n    \"\"\"Check database connection health.\"\"\"\n    try:\n        db.session.execute(text('SELECT 1'))\n        return True\n    except Exception as e:\n        current_app.logger.error(f'Database health check failed: {e}')\n        return False\n\ndef get_table_info(table_name):\n    \"\"\"Get table information.\"\"\"\n    inspector = db.inspect(db.engine)\n    return {\n        'columns': inspector.get_columns(table_name),\n        'indexes': inspector.get_indexes(table_name),\n        'foreign_keys': inspector.get_foreign_keys(table_name)\n    }\n```\n\n## Testing Database\n\n```python\n# tests/conftest.py\nimport pytest\nfrom app import create_app\nfrom app.extensions import db\nfrom app.models import User\n\n@pytest.fixture(scope='session')\ndef app():\n    \"\"\"Create test app.\"\"\"\n    app = create_app('testing')\n    with app.app_context():\n        db.create_all()\n        yield app\n        db.drop_all()\n\n@pytest.fixture\ndef client(app):\n    \"\"\"Create test client.\"\"\"\n    return app.test_client()\n\n@pytest.fixture\ndef db_session(app):\n    \"\"\"Create database session for testing.\"\"\"\n    with app.app_context():\n        db.session.begin()\n        yield db.session\n        db.session.rollback()\n\n@pytest.fixture\ndef user(db_session):\n    \"\"\"Create test user.\"\"\"\n    user = User(\n        username='testuser',\n        email='test@example.com',\n        first_name='Test',\n        last_name='User'\n    )\n    user.set_password('testpass')\n    user.save()\n    return user\n```\n"
              },
              {
                "name": "/deployment",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/deployment.md",
                "frontmatter": null,
                "content": "# Flask Deployment Configuration\n\nComplete production deployment setup for Flask applications.\n\n## Usage\n\n```bash\n# Build Docker image\ndocker build -t myapp .\n\n# Run with Docker Compose\ndocker-compose up -d\n\n# Deploy to cloud\ngunicorn --bind 0.0.0.0:8000 app:app\n```\n\n## Production Configuration\n\n```python\n# config.py\nimport os\nfrom urllib.parse import quote_plus\n\nclass ProductionConfig:\n    \"\"\"Production configuration.\"\"\"\n    \n    # Security\n    SECRET_KEY = os.environ.get('SECRET_KEY')\n    DEBUG = False\n    TESTING = False\n    \n    # Database\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        f\"postgresql://{os.environ.get('DB_USER')}:{quote_plus(os.environ.get('DB_PASSWORD'))}@\" \\\n        f\"{os.environ.get('DB_HOST')}:{os.environ.get('DB_PORT', '5432')}/{os.environ.get('DB_NAME')}\"\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    SQLALCHEMY_ENGINE_OPTIONS = {\n        'pool_size': 10,\n        'max_overflow': 20,\n        'pool_recycle': 3600,\n        'pool_pre_ping': True\n    }\n    \n    # Security Headers\n    SECURITY_HEADERS = {\n        'Strict-Transport-Security': 'max-age=31536000; includeSubDomains',\n        'X-Content-Type-Options': 'nosniff',\n        'X-Frame-Options': 'DENY',\n        'X-XSS-Protection': '1; mode=block',\n        'Content-Security-Policy': \"default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'\"\n    }\n    \n    # Session\n    SESSION_COOKIE_SECURE = True\n    SESSION_COOKIE_HTTPONLY = True\n    SESSION_COOKIE_SAMESITE = 'Lax'\n    PERMANENT_SESSION_LIFETIME = 3600  # 1 hour\n    \n    # Cache\n    CACHE_TYPE = 'redis'\n    CACHE_REDIS_URL = os.environ.get('REDIS_URL', 'redis://localhost:6379/0')\n    CACHE_DEFAULT_TIMEOUT = 300\n    \n    # Rate Limiting\n    RATELIMIT_STORAGE_URL = os.environ.get('REDIS_URL', 'redis://localhost:6379/1')\n    RATELIMIT_DEFAULT = '100/hour'\n    \n    # Logging\n    LOG_LEVEL = os.environ.get('LOG_LEVEL', 'INFO')\n    LOG_FILE = os.environ.get('LOG_FILE', '/var/log/app/app.log')\n    \n    # File Upload\n    MAX_CONTENT_LENGTH = 16 * 1024 * 1024  # 16MB\n    UPLOAD_FOLDER = os.environ.get('UPLOAD_FOLDER', '/var/uploads')\n    \n    # Email\n    MAIL_SERVER = os.environ.get('MAIL_SERVER')\n    MAIL_PORT = int(os.environ.get('MAIL_PORT', 587))\n    MAIL_USE_TLS = os.environ.get('MAIL_USE_TLS', 'true').lower() in ['true', 'on', '1']\n    MAIL_USERNAME = os.environ.get('MAIL_USERNAME')\n    MAIL_PASSWORD = os.environ.get('MAIL_PASSWORD')\n    MAIL_DEFAULT_SENDER = os.environ.get('MAIL_DEFAULT_SENDER')\n```\n\n## WSGI Configuration\n\n```python\n# wsgi.py\nimport os\nfrom app import create_app\n\n# Get environment\nconfig_name = os.environ.get('FLASK_ENV', 'production')\napp = create_app(config_name)\n\nif __name__ == \"__main__\":\n    app.run()\n```\n\n## Gunicorn Configuration\n\n```python\n# gunicorn.conf.py\nimport multiprocessing\nimport os\n\n# Server socket\nbind = f\"0.0.0.0:{os.environ.get('PORT', 8000)}\"\nbacklog = 2048\n\n# Worker processes\nworkers = multiprocessing.cpu_count() * 2 + 1\nworker_class = 'sync'\nworker_connections = 1000\ntimeout = 30\nkeepalive = 60\nmax_requests = 1000\nmax_requests_jitter = 100\n\n# Security\nlimit_request_line = 4094\nlimit_request_fields = 100\nlimit_request_field_size = 8190\n\n# Logging\naccesslog = '-'\nerrorlog = '-'\nloglevel = os.environ.get('LOG_LEVEL', 'info').lower()\naccess_log_format = '%(h)s %(l)s %(u)s %(t)s \"%(r)s\" %(s)s %(b)s \"%(f)s\" \"%(a)s\" %(D)s'\n\n# Process naming\nproc_name = 'flask_app'\n\n# Server mechanics\ndaemon = False\npidfile = '/tmp/gunicorn.pid'\nuser = os.environ.get('USER', 'www-data')\ngroup = os.environ.get('GROUP', 'www-data')\ntmp_upload_dir = None\n\n# SSL\nkeyfile = os.environ.get('SSL_KEYFILE')\ncertfile = os.environ.get('SSL_CERTFILE')\n```\n\n## Docker Configuration\n\n```dockerfile\n# Dockerfile\nFROM python:3.11-slim\n\n# Set environment variables\nENV PYTHONDONTWRITEBYTECODE=1 \\\n    PYTHONUNBUFFERED=1 \\\n    PIP_NO_CACHE_DIR=1 \\\n    PIP_DISABLE_PIP_VERSION_CHECK=1\n\n# Install system dependencies\nRUN apt-get update && apt-get install -y \\\n    build-essential \\\n    libpq-dev \\\n    curl \\\n    && rm -rf /var/lib/apt/lists/*\n\n# Create app user\nRUN groupadd -r appuser && useradd -r -g appuser appuser\n\n# Set work directory\nWORKDIR /app\n\n# Install Python dependencies\nCOPY requirements/production.txt ./requirements.txt\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Copy application code\nCOPY . .\n\n# Create necessary directories\nRUN mkdir -p /var/log/app /var/uploads && \\\n    chown -R appuser:appuser /app /var/log/app /var/uploads\n\n# Switch to non-root user\nUSER appuser\n\n# Expose port\nEXPOSE 8000\n\n# Health check\nHEALTHCHECK --interval=30s --timeout=30s --start-period=5s --retries=3 \\\n    CMD curl -f http://localhost:8000/health || exit 1\n\n# Run application\nCMD [\"gunicorn\", \"--config\", \"gunicorn.conf.py\", \"wsgi:app\"]\n```\n\n## Docker Compose\n\n```yaml\n# docker-compose.yml\nversion: '3.8'\n\nservices:\n  web:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - FLASK_ENV=production\n      - DATABASE_URL=postgresql://postgres:password@db:5432/myapp\n      - REDIS_URL=redis://redis:6379/0\n      - SECRET_KEY=${SECRET_KEY}\n    depends_on:\n      - db\n      - redis\n    volumes:\n      - uploads:/var/uploads\n      - logs:/var/log/app\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8000/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  db:\n    image: postgres:15\n    environment:\n      - POSTGRES_DB=myapp\n      - POSTGRES_USER=postgres\n      - POSTGRES_PASSWORD=password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U postgres\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  redis:\n    image: redis:7-alpine\n    command: redis-server --appendonly yes\n    volumes:\n      - redis_data:/data\n    restart: unless-stopped\n    healthcheck:\n      test: [\"CMD\", \"redis-cli\", \"ping\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  nginx:\n    image: nginx:alpine\n    ports:\n      - \"80:80\"\n      - \"443:443\"\n    volumes:\n      - ./nginx.conf:/etc/nginx/nginx.conf:ro\n      - ./ssl:/etc/nginx/ssl:ro\n      - uploads:/var/uploads:ro\n    depends_on:\n      - web\n    restart: unless-stopped\n\nvolumes:\n  postgres_data:\n  redis_data:\n  uploads:\n  logs:\n```\n\n## Nginx Configuration\n\n```nginx\n# nginx.conf\nevents {\n    worker_connections 1024;\n}\n\nhttp {\n    upstream app {\n        server web:8000;\n    }\n    \n    # Rate limiting\n    limit_req_zone $binary_remote_addr zone=api:10m rate=10r/s;\n    limit_req_zone $binary_remote_addr zone=login:10m rate=1r/s;\n    \n    # SSL configuration\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384;\n    ssl_prefer_server_ciphers off;\n    \n    # Security headers\n    add_header X-Frame-Options DENY;\n    add_header X-Content-Type-Options nosniff;\n    add_header X-XSS-Protection \"1; mode=block\";\n    add_header Strict-Transport-Security \"max-age=31536000; includeSubDomains\" always;\n    \n    server {\n        listen 80;\n        server_name example.com www.example.com;\n        return 301 https://$server_name$request_uri;\n    }\n    \n    server {\n        listen 443 ssl http2;\n        server_name example.com www.example.com;\n        \n        ssl_certificate /etc/nginx/ssl/cert.pem;\n        ssl_certificate_key /etc/nginx/ssl/key.pem;\n        \n        # File upload size\n        client_max_body_size 16M;\n        \n        # Static files\n        location /static/ {\n            alias /var/uploads/static/;\n            expires 1y;\n            add_header Cache-Control \"public, immutable\";\n        }\n        \n        location /uploads/ {\n            alias /var/uploads/;\n            expires 1h;\n        }\n        \n        # API rate limiting\n        location /api/ {\n            limit_req zone=api burst=20 nodelay;\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n        \n        # Login rate limiting\n        location /auth/login {\n            limit_req zone=login burst=5 nodelay;\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n        }\n        \n        # Main application\n        location / {\n            proxy_pass http://app;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header X-Forwarded-Proto $scheme;\n            \n            # Timeout settings\n            proxy_connect_timeout 60s;\n            proxy_send_timeout 60s;\n            proxy_read_timeout 60s;\n        }\n    }\n}\n```\n\n## Environment Variables\n\n```bash\n# .env.production\n# Application\nFLASK_ENV=production\nSECRET_KEY=your-super-secret-key-here\n\n# Database\nDATABASE_URL=postgresql://user:password@localhost:5432/myapp\nDB_HOST=localhost\nDB_PORT=5432\nDB_NAME=myapp\nDB_USER=user\nDB_PASSWORD=password\n\n# Redis\nREDIS_URL=redis://localhost:6379/0\n\n# Email\nMAIL_SERVER=smtp.gmail.com\nMAIL_PORT=587\nMAIL_USE_TLS=true\nMAIL_USERNAME=your-email@gmail.com\nMAIL_PASSWORD=your-app-password\nMAIL_DEFAULT_SENDER=your-email@gmail.com\n\n# Logging\nLOG_LEVEL=INFO\nLOG_FILE=/var/log/app/app.log\n\n# File Upload\nUPLOAD_FOLDER=/var/uploads\n\n# SSL (if using)\nSSL_KEYFILE=/path/to/private.key\nSSL_CERTFILE=/path/to/certificate.crt\n```\n\n## Health Check Endpoint\n\n```python\n# app/health.py\nfrom flask import Blueprint, jsonify\nfrom app.extensions import db\nfrom sqlalchemy import text\nimport redis\nimport os\n\nhealth_bp = Blueprint('health', __name__)\n\n@health_bp.route('/health')\ndef health_check():\n    \"\"\"Application health check.\"\"\"\n    checks = {\n        'status': 'healthy',\n        'database': check_database(),\n        'redis': check_redis(),\n        'disk_space': check_disk_space()\n    }\n    \n    # Determine overall status\n    if all(check['status'] == 'ok' for check in checks.values() if isinstance(check, dict)):\n        status_code = 200\n    else:\n        status_code = 503\n        checks['status'] = 'unhealthy'\n    \n    return jsonify(checks), status_code\n\ndef check_database():\n    \"\"\"Check database connectivity.\"\"\"\n    try:\n        db.session.execute(text('SELECT 1'))\n        return {'status': 'ok', 'message': 'Database connection successful'}\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n\ndef check_redis():\n    \"\"\"Check Redis connectivity.\"\"\"\n    try:\n        redis_url = os.environ.get('REDIS_URL', 'redis://localhost:6379/0')\n        r = redis.from_url(redis_url)\n        r.ping()\n        return {'status': 'ok', 'message': 'Redis connection successful'}\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n\ndef check_disk_space():\n    \"\"\"Check available disk space.\"\"\"\n    try:\n        import shutil\n        total, used, free = shutil.disk_usage('/')\n        free_percent = (free / total) * 100\n        \n        if free_percent > 10:\n            status = 'ok'\n        elif free_percent > 5:\n            status = 'warning'\n        else:\n            status = 'critical'\n        \n        return {\n            'status': status,\n            'free_space_percent': round(free_percent, 2),\n            'free_space_gb': round(free / (1024**3), 2)\n        }\n    except Exception as e:\n        return {'status': 'error', 'message': str(e)}\n```\n\n## Monitoring and Logging\n\n```python\n# app/logging.py\nimport logging\nimport logging.handlers\nimport os\nfrom flask import request, g\nimport time\n\ndef setup_logging(app):\n    \"\"\"Setup application logging.\"\"\"\n    if not app.debug and not app.testing:\n        # File logging\n        if app.config.get('LOG_FILE'):\n            file_handler = logging.handlers.RotatingFileHandler(\n                app.config['LOG_FILE'],\n                maxBytes=10240000,  # 10MB\n                backupCount=10\n            )\n            file_handler.setFormatter(logging.Formatter(\n                '%(asctime)s %(levelname)s: %(message)s '\n                '[in %(pathname)s:%(lineno)d]'\n            ))\n            file_handler.setLevel(getattr(logging, app.config.get('LOG_LEVEL', 'INFO')))\n            app.logger.addHandler(file_handler)\n        \n        # Console logging\n        if not app.logger.handlers:\n            stream_handler = logging.StreamHandler()\n            stream_handler.setFormatter(logging.Formatter(\n                '%(asctime)s %(levelname)s: %(message)s'\n            ))\n            stream_handler.setLevel(logging.INFO)\n            app.logger.addHandler(stream_handler)\n        \n        app.logger.setLevel(logging.INFO)\n        app.logger.info('Application startup')\n\n# Request timing middleware\n@app.before_request\ndef before_request():\n    g.start_time = time.time()\n\n@app.after_request\ndef after_request(response):\n    if hasattr(g, 'start_time'):\n        duration = time.time() - g.start_time\n        app.logger.info(\n            f'{request.method} {request.path} - '\n            f'{response.status_code} - {duration:.3f}s'\n        )\n    return response\n```\n\n## Database Backup Script\n\n```bash\n#!/bin/bash\n# backup.sh\n\nset -e\n\n# Configuration\nBACKUP_DIR=\"/var/backups/db\"\nDATABASE_URL=\"$DATABASE_URL\"\nDATE=$(date +%Y%m%d_%H%M%S)\nBACKUP_FILE=\"$BACKUP_DIR/backup_$DATE.sql\"\nRETENTION_DAYS=7\n\n# Create backup directory\nmkdir -p \"$BACKUP_DIR\"\n\n# Create backup\necho \"Creating database backup...\"\npg_dump \"$DATABASE_URL\" > \"$BACKUP_FILE\"\n\n# Compress backup\ngzip \"$BACKUP_FILE\"\n\n# Remove old backups\necho \"Cleaning up old backups...\"\nfind \"$BACKUP_DIR\" -name \"backup_*.sql.gz\" -mtime +$RETENTION_DAYS -delete\n\necho \"Backup completed: $BACKUP_FILE.gz\"\n```\n\n## Deployment Scripts\n\n```bash\n#!/bin/bash\n# deploy.sh\n\nset -e\n\necho \"Starting deployment...\"\n\n# Pull latest code\ngit pull origin main\n\n# Build new Docker image\ndocker-compose build web\n\n# Run database migrations\ndocker-compose run --rm web flask db upgrade\n\n# Update services\ndocker-compose up -d\n\n# Health check\necho \"Waiting for application to be ready...\"\nsleep 10\n\nif curl -f http://localhost:8000/health; then\n    echo \"Deployment successful!\"\nelse\n    echo \"Deployment failed - health check failed\"\n    exit 1\nfi\n```\n\n## Monitoring with Prometheus\n\n```python\n# app/metrics.py\nfrom prometheus_flask_exporter import PrometheusMetrics\nfrom flask import request\nimport time\n\ndef setup_metrics(app):\n    \"\"\"Setup Prometheus metrics.\"\"\"\n    metrics = PrometheusMetrics(app)\n    \n    # Custom metrics\n    metrics.info('app_info', 'Application info', version='1.0.0')\n    \n    # Database connection pool metrics\n    @metrics.gauge('db_pool_size', 'Database connection pool size')\n    def db_pool_size():\n        from app.extensions import db\n        return db.engine.pool.size()\n    \n    return metrics\n```\n"
              },
              {
                "name": "/flask-route",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/flask-route.md",
                "frontmatter": null,
                "content": "# Flask Route Generator\n\nCreate Flask routes with proper structure and error handling.\n\n## Purpose\n\nThis command helps you quickly create Flask routes with validation, error handling, and best practices.\n\n## Usage\n\n```\n/flask-route\n```\n\n## What this command does\n\n1. **Creates route functions** with proper decorators\n2. **Adds request validation** and error handling\n3. **Includes JSON responses** and status codes\n4. **Implements authentication** if needed\n5. **Follows Flask conventions** and best practices\n\n## Example Output\n\n```python\n# routes.py or app.py\nfrom flask import Flask, request, jsonify, abort\nfrom flask_sqlalchemy import SQLAlchemy\nfrom werkzeug.exceptions import BadRequest\n\napp = Flask(__name__)\n\n@app.route('/users', methods=['GET'])\ndef get_users():\n    \"\"\"Get all users with optional pagination.\"\"\"\n    try:\n        page = request.args.get('page', 1, type=int)\n        per_page = request.args.get('per_page', 10, type=int)\n        \n        users = User.query.paginate(\n            page=page, \n            per_page=per_page, \n            error_out=False\n        )\n        \n        return jsonify({\n            'users': [user.to_dict() for user in users.items],\n            'total': users.total,\n            'pages': users.pages,\n            'current_page': page\n        }), 200\n        \n    except Exception as e:\n        return jsonify({'error': 'Failed to fetch users'}), 500\n\n@app.route('/users/<int:user_id>', methods=['GET'])\ndef get_user(user_id):\n    \"\"\"Get a specific user by ID.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        return jsonify(user.to_dict()), 200\n        \n    except Exception as e:\n        return jsonify({'error': 'User not found'}), 404\n\n@app.route('/users', methods=['POST'])\ndef create_user():\n    \"\"\"Create a new user.\"\"\"\n    try:\n        data = request.get_json()\n        \n        if not data:\n            return jsonify({'error': 'No data provided'}), 400\n        \n        # Validate required fields\n        required_fields = ['name', 'email']\n        for field in required_fields:\n            if field not in data:\n                return jsonify({'error': f'{field} is required'}), 400\n        \n        # Check if email already exists\n        if User.query.filter_by(email=data['email']).first():\n            return jsonify({'error': 'Email already exists'}), 409\n        \n        # Create new user\n        user = User(\n            name=data['name'],\n            email=data['email'],\n            phone=data.get('phone'),\n            address=data.get('address')\n        )\n        \n        db.session.add(user)\n        db.session.commit()\n        \n        return jsonify(user.to_dict()), 201\n        \n    except BadRequest:\n        return jsonify({'error': 'Invalid JSON data'}), 400\n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to create user'}), 500\n\n@app.route('/users/<int:user_id>', methods=['PUT'])\ndef update_user(user_id):\n    \"\"\"Update an existing user.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        data = request.get_json()\n        \n        if not data:\n            return jsonify({'error': 'No data provided'}), 400\n        \n        # Update fields\n        if 'name' in data:\n            user.name = data['name']\n        if 'email' in data:\n            # Check if new email already exists\n            existing_user = User.query.filter_by(email=data['email']).first()\n            if existing_user and existing_user.id != user_id:\n                return jsonify({'error': 'Email already exists'}), 409\n            user.email = data['email']\n        if 'phone' in data:\n            user.phone = data['phone']\n        if 'address' in data:\n            user.address = data['address']\n        \n        db.session.commit()\n        \n        return jsonify(user.to_dict()), 200\n        \n    except BadRequest:\n        return jsonify({'error': 'Invalid JSON data'}), 400\n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to update user'}), 500\n\n@app.route('/users/<int:user_id>', methods=['DELETE'])\ndef delete_user(user_id):\n    \"\"\"Delete a user.\"\"\"\n    try:\n        user = User.query.get_or_404(user_id)\n        \n        db.session.delete(user)\n        db.session.commit()\n        \n        return jsonify({'message': 'User deleted successfully'}), 200\n        \n    except Exception as e:\n        db.session.rollback()\n        return jsonify({'error': 'Failed to delete user'}), 500\n\n# Error handlers\n@app.errorhandler(404)\ndef not_found(error):\n    return jsonify({'error': 'Resource not found'}), 404\n\n@app.errorhandler(400)\ndef bad_request(error):\n    return jsonify({'error': 'Bad request'}), 400\n\n@app.errorhandler(500)\ndef internal_error(error):\n    return jsonify({'error': 'Internal server error'}), 500\n```\n\n## Route Patterns Supported\n\n### Basic Routes\n```python\n@app.route('/')\n@app.route('/users')\n@app.route('/users/<int:user_id>')\n```\n\n### HTTP Methods\n```python\n@app.route('/users', methods=['GET', 'POST'])\n@app.route('/users/<int:id>', methods=['GET', 'PUT', 'DELETE'])\n```\n\n### URL Parameters\n```python\n@app.route('/users/<int:user_id>')\n@app.route('/posts/<string:slug>')\n@app.route('/files/<path:filename>')\n```\n\n## Best Practices Included\n\n- **Input validation** for all user data\n- **Proper HTTP status codes** (200, 201, 400, 404, 500)\n- **JSON responses** with consistent structure\n- **Error handling** with try/catch blocks\n- **Database rollback** on errors\n- **RESTful conventions** for URL design\n- **Documentation strings** for each route\n- **Request data validation** before processing\n\n## Common Response Patterns\n\n```python\n# Success with data\nreturn jsonify({'data': result}), 200\n\n# Created resource\nreturn jsonify({'data': new_resource, 'id': new_id}), 201\n\n# Validation error\nreturn jsonify({'error': 'Field is required'}), 400\n\n# Not found\nreturn jsonify({'error': 'Resource not found'}), 404\n\n# Server error\nreturn jsonify({'error': 'Internal server error'}), 500\n```"
              },
              {
                "name": "/testing",
                "description": null,
                "path": "cli-tool/templates/python/examples/flask-app/.claude/commands/testing.md",
                "frontmatter": null,
                "content": "# Flask Testing Suite\n\nComprehensive testing setup for Flask applications with pytest.\n\n## Usage\n\n```bash\n# Run all tests\npytest\n\n# Run with coverage\npytest --cov=app --cov-report=html\n\n# Run specific test file\npytest tests/test_models.py\n\n# Run with verbose output\npytest -v\n```\n\n## Test Configuration\n\n```python\n# pytest.ini\n[tool:pytest]\ntestpaths = tests\npython_files = test_*.py\npython_classes = Test*\npython_functions = test_*\naddopts = \n    --cov=app\n    --cov-report=term-missing\n    --cov-report=html:htmlcov\n    --strict-markers\n    --disable-warnings\nmarkers =\n    unit: Unit tests\n    integration: Integration tests\n    slow: Slow running tests\n    auth: Authentication tests\n```\n\n## Test Fixtures\n\n```python\n# tests/conftest.py\nimport pytest\nimport tempfile\nimport os\nfrom app import create_app\nfrom app.extensions import db\nfrom app.models import User, Post, Category\nfrom flask_login import login_user\n\n@pytest.fixture(scope='session')\ndef app():\n    \"\"\"Create test application.\"\"\"\n    # Create temporary database\n    db_fd, db_path = tempfile.mkstemp()\n    \n    app = create_app({\n        'TESTING': True,\n        'SQLALCHEMY_DATABASE_URI': f'sqlite:///{db_path}',\n        'WTF_CSRF_ENABLED': False,\n        'SECRET_KEY': 'test-secret-key'\n    })\n    \n    with app.app_context():\n        db.create_all()\n        yield app\n        \n    # Cleanup\n    os.close(db_fd)\n    os.unlink(db_path)\n\n@pytest.fixture\ndef client(app):\n    \"\"\"Create test client.\"\"\"\n    return app.test_client()\n\n@pytest.fixture\ndef runner(app):\n    \"\"\"Create test CLI runner.\"\"\"\n    return app.test_cli_runner()\n\n@pytest.fixture\ndef db_session(app):\n    \"\"\"Create database session for testing.\"\"\"\n    with app.app_context():\n        connection = db.engine.connect()\n        transaction = connection.begin()\n        \n        # Configure session to use the connection\n        db.session.configure(bind=connection)\n        \n        yield db.session\n        \n        # Rollback transaction\n        transaction.rollback()\n        connection.close()\n        db.session.remove()\n\n@pytest.fixture\ndef user(db_session):\n    \"\"\"Create test user.\"\"\"\n    user = User(\n        username='testuser',\n        email='test@example.com',\n        first_name='Test',\n        last_name='User'\n    )\n    user.set_password('testpass123')\n    user.save()\n    return user\n\n@pytest.fixture\ndef admin_user(db_session):\n    \"\"\"Create admin user.\"\"\"\n    admin = User(\n        username='admin',\n        email='admin@example.com',\n        first_name='Admin',\n        last_name='User',\n        is_admin=True\n    )\n    admin.set_password('adminpass123')\n    admin.save()\n    return admin\n\n@pytest.fixture\ndef category(db_session):\n    \"\"\"Create test category.\"\"\"\n    category = Category(\n        name='Test Category',\n        description='A test category'\n    )\n    category.save()\n    return category\n\n@pytest.fixture\ndef post(db_session, user, category):\n    \"\"\"Create test post.\"\"\"\n    post = Post(\n        title='Test Post',\n        content='This is a test post content.',\n        slug='test-post',\n        status='published',\n        user_id=user.id,\n        category_id=category.id\n    )\n    post.save()\n    return post\n\n@pytest.fixture\ndef auth_headers(user):\n    \"\"\"Create authentication headers.\"\"\"\n    # For API testing\n    token = user.generate_auth_token()\n    return {'Authorization': f'Bearer {token}'}\n```\n\n## Model Testing\n\n```python\n# tests/test_models.py\nimport pytest\nfrom datetime import datetime\nfrom app.models import User, Post, Category\nfrom werkzeug.security import check_password_hash\n\nclass TestUser:\n    \"\"\"Test User model.\"\"\"\n    \n    def test_user_creation(self, db_session):\n        \"\"\"Test user creation.\"\"\"\n        user = User(\n            username='newuser',\n            email='new@example.com',\n            first_name='New',\n            last_name='User'\n        )\n        user.set_password('password123')\n        user.save()\n        \n        assert user.id is not None\n        assert user.username == 'newuser'\n        assert user.email == 'new@example.com'\n        assert user.full_name == 'New User'\n        assert user.is_active is True\n        assert user.is_admin is False\n        assert user.created_at is not None\n    \n    def test_password_hashing(self, user):\n        \"\"\"Test password hashing.\"\"\"\n        user.set_password('newpassword')\n        assert user.password_hash != 'newpassword'\n        assert check_password_hash(user.password_hash, 'newpassword')\n        assert user.check_password('newpassword')\n        assert not user.check_password('wrongpassword')\n    \n    def test_user_repr(self, user):\n        \"\"\"Test user string representation.\"\"\"\n        assert repr(user) == '<User testuser>'\n    \n    def test_user_to_dict(self, user):\n        \"\"\"Test user dictionary conversion.\"\"\"\n        user_dict = user.to_dict()\n        assert 'username' in user_dict\n        assert 'email' in user_dict\n        assert 'password_hash' not in user_dict  # Should be excluded\n    \n    def test_user_relationships(self, user, post):\n        \"\"\"Test user relationships.\"\"\"\n        assert post in user.posts\n        assert user.posts.count() == 1\n\nclass TestPost:\n    \"\"\"Test Post model.\"\"\"\n    \n    def test_post_creation(self, db_session, user, category):\n        \"\"\"Test post creation.\"\"\"\n        post = Post(\n            title='New Post',\n            content='New post content',\n            slug='new-post',\n            status='draft',\n            user_id=user.id,\n            category_id=category.id\n        )\n        post.save()\n        \n        assert post.id is not None\n        assert post.title == 'New Post'\n        assert post.author == user\n        assert post.category == category\n        assert not post.is_published\n    \n    def test_published_status(self, post):\n        \"\"\"Test post published status.\"\"\"\n        assert post.is_published  # Published with published_at\n        \n        post.status = 'draft'\n        assert not post.is_published\n```\n\n## View Testing\n\n```python\n# tests/test_views.py\nimport pytest\nfrom flask import url_for\nfrom app.models import User\n\nclass TestMainViews:\n    \"\"\"Test main application views.\"\"\"\n    \n    def test_home_page(self, client):\n        \"\"\"Test home page.\"\"\"\n        response = client.get('/')\n        assert response.status_code == 200\n        assert b'Welcome' in response.data\n    \n    def test_about_page(self, client):\n        \"\"\"Test about page.\"\"\"\n        response = client.get('/about')\n        assert response.status_code == 200\n\nclass TestUserViews:\n    \"\"\"Test user-related views.\"\"\"\n    \n    def test_user_list(self, client, user):\n        \"\"\"Test user list page.\"\"\"\n        response = client.get('/users/')\n        assert response.status_code == 200\n        assert user.username.encode() in response.data\n    \n    def test_user_detail(self, client, user):\n        \"\"\"Test user detail page.\"\"\"\n        response = client.get(f'/users/{user.id}')\n        assert response.status_code == 200\n        assert user.username.encode() in response.data\n    \n    def test_user_create_get(self, client):\n        \"\"\"Test user creation form.\"\"\"\n        response = client.get('/users/create')\n        assert response.status_code == 200\n        assert b'Create User' in response.data\n    \n    def test_user_create_post(self, client, db_session):\n        \"\"\"Test user creation submission.\"\"\"\n        data = {\n            'username': 'newuser',\n            'email': 'new@example.com',\n            'first_name': 'New',\n            'last_name': 'User',\n            'password': 'password123',\n            'confirm_password': 'password123'\n        }\n        response = client.post('/users/create', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Check user was created\n        user = User.query.filter_by(username='newuser').first()\n        assert user is not None\n        assert user.email == 'new@example.com'\n    \n    def test_user_edit(self, client, user):\n        \"\"\"Test user editing.\"\"\"\n        data = {\n            'username': user.username,\n            'email': 'updated@example.com',\n            'first_name': 'Updated',\n            'last_name': 'User'\n        }\n        response = client.post(f'/users/{user.id}/edit', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Refresh user from database\n        db_session.refresh(user)\n        assert user.email == 'updated@example.com'\n        assert user.first_name == 'Updated'\n```\n\n## Authentication Testing\n\n```python\n# tests/test_auth.py\nimport pytest\nfrom flask import url_for\nfrom app.models import User\n\nclass TestAuthentication:\n    \"\"\"Test authentication functionality.\"\"\"\n    \n    def test_login_page(self, client):\n        \"\"\"Test login page access.\"\"\"\n        response = client.get('/auth/login')\n        assert response.status_code == 200\n        assert b'Login' in response.data\n    \n    def test_valid_login(self, client, user):\n        \"\"\"Test valid user login.\"\"\"\n        data = {\n            'username': user.username,\n            'password': 'testpass123'\n        }\n        response = client.post('/auth/login', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        assert b'Welcome' in response.data\n    \n    def test_invalid_login(self, client, user):\n        \"\"\"Test invalid login credentials.\"\"\"\n        data = {\n            'username': user.username,\n            'password': 'wrongpassword'\n        }\n        response = client.post('/auth/login', data=data)\n        assert response.status_code == 200\n        assert b'Invalid' in response.data\n    \n    def test_logout(self, client, user):\n        \"\"\"Test user logout.\"\"\"\n        # Login first\n        with client.session_transaction() as sess:\n            sess['_user_id'] = str(user.id)\n        \n        response = client.get('/auth/logout', follow_redirects=True)\n        assert response.status_code == 200\n    \n    def test_register_page(self, client):\n        \"\"\"Test registration page.\"\"\"\n        response = client.get('/auth/register')\n        assert response.status_code == 200\n        assert b'Register' in response.data\n    \n    def test_valid_registration(self, client, db_session):\n        \"\"\"Test valid user registration.\"\"\"\n        data = {\n            'username': 'newuser',\n            'email': 'new@example.com',\n            'first_name': 'New',\n            'last_name': 'User',\n            'password': 'password123',\n            'confirm_password': 'password123'\n        }\n        response = client.post('/auth/register', data=data, follow_redirects=True)\n        assert response.status_code == 200\n        \n        # Check user was created\n        user = User.query.filter_by(username='newuser').first()\n        assert user is not None\n```\n\n## API Testing\n\n```python\n# tests/test_api.py\nimport pytest\nimport json\nfrom flask import url_for\n\nclass TestUserAPI:\n    \"\"\"Test User API endpoints.\"\"\"\n    \n    def test_get_users(self, client, user):\n        \"\"\"Test GET /api/users.\"\"\"\n        response = client.get('/api/users')\n        assert response.status_code == 200\n        \n        data = json.loads(response.data)\n        assert 'users' in data\n        assert len(data['users']) >= 1\n    \n    def test_get_user(self, client, user):\n        \"\"\"Test GET /api/users/<id>.\"\"\"\n        response = client.get(f'/api/users/{user.id}')\n        assert response.status_code == 200\n        \n        data = json.loads(response.data)\n        assert data['username'] == user.username\n        assert data['email'] == user.email\n    \n    def test_create_user(self, client, db_session):\n        \"\"\"Test POST /api/users.\"\"\"\n        user_data = {\n            'username': 'apiuser',\n            'email': 'api@example.com',\n            'first_name': 'API',\n            'last_name': 'User',\n            'password': 'password123'\n        }\n        \n        response = client.post(\n            '/api/users',\n            data=json.dumps(user_data),\n            content_type='application/json'\n        )\n        \n        assert response.status_code == 201\n        data = json.loads(response.data)\n        assert data['username'] == 'apiuser'\n    \n    def test_update_user(self, client, user, auth_headers):\n        \"\"\"Test PUT /api/users/<id>.\"\"\"\n        update_data = {\n            'email': 'updated@example.com',\n            'first_name': 'Updated'\n        }\n        \n        response = client.put(\n            f'/api/users/{user.id}',\n            data=json.dumps(update_data),\n            content_type='application/json',\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 200\n        data = json.loads(response.data)\n        assert data['email'] == 'updated@example.com'\n    \n    def test_delete_user(self, client, user, auth_headers):\n        \"\"\"Test DELETE /api/users/<id>.\"\"\"\n        response = client.delete(\n            f'/api/users/{user.id}',\n            headers=auth_headers\n        )\n        \n        assert response.status_code == 204\n```\n\n## Test Utilities\n\n```python\n# tests/utils.py\nimport json\nfrom flask import url_for\n\ndef login_user(client, username, password):\n    \"\"\"Helper to login user in tests.\"\"\"\n    return client.post('/auth/login', data={\n        'username': username,\n        'password': password\n    }, follow_redirects=True)\n\ndef logout_user(client):\n    \"\"\"Helper to logout user in tests.\"\"\"\n    return client.get('/auth/logout', follow_redirects=True)\n\ndef assert_json_response(response, expected_status=200):\n    \"\"\"Assert JSON response format and status.\"\"\"\n    assert response.status_code == expected_status\n    assert response.content_type == 'application/json'\n    return json.loads(response.data)\n\ndef create_test_data(db_session):\n    \"\"\"Create common test data.\"\"\"\n    from app.models import User, Category, Post\n    \n    # Create test users\n    users = []\n    for i in range(3):\n        user = User(\n            username=f'user{i}',\n            email=f'user{i}@example.com',\n            first_name=f'User{i}',\n            last_name='Test'\n        )\n        user.set_password('password123')\n        user.save()\n        users.append(user)\n    \n    return {'users': users}\n```\n\n## Performance Testing\n\n```python\n# tests/test_performance.py\nimport pytest\nimport time\nfrom app.models import User\n\n@pytest.mark.slow\nclass TestPerformance:\n    \"\"\"Test application performance.\"\"\"\n    \n    def test_user_query_performance(self, db_session):\n        \"\"\"Test user query performance.\"\"\"\n        # Create multiple users\n        users = []\n        for i in range(100):\n            user = User(\n                username=f'perfuser{i}',\n                email=f'perf{i}@example.com',\n                first_name=f'Perf{i}',\n                last_name='User'\n            )\n            users.append(user)\n        \n        db_session.bulk_save_objects(users)\n        db_session.commit()\n        \n        # Test query performance\n        start_time = time.time()\n        result = User.query.all()\n        end_time = time.time()\n        \n        assert len(result) >= 100\n        assert (end_time - start_time) < 0.1  # Should complete in under 100ms\n    \n    def test_endpoint_response_time(self, client):\n        \"\"\"Test endpoint response time.\"\"\"\n        start_time = time.time()\n        response = client.get('/')\n        end_time = time.time()\n        \n        assert response.status_code == 200\n        assert (end_time - start_time) < 0.5  # Should respond in under 500ms\n```\n"
              },
              {
                "name": "/model",
                "description": null,
                "path": "cli-tool/templates/ruby/.claude/commands/model.md",
                "frontmatter": null,
                "content": "# Ruby Model Generator\n\nCreate Ruby classes and models with proper structure and best practices.\n\n## Purpose\n\nThis command helps you quickly create Ruby model classes with proper initialization, attributes, and methods following Ruby conventions.\n\n## Usage\n\n```\n/model\n```\n\n## What this command does\n\n1. **Creates model classes** with proper initialization methods\n2. **Adds attribute accessors** and instance variables\n3. **Includes validation methods** and error handling\n4. **Follows Ruby conventions** and best practices\n5. **Generates related test files** when applicable\n\n## Example Output\n\n```ruby\n# app/models/user.rb\nclass User\n  attr_accessor :name, :email, :age\n  attr_reader :id, :created_at\n  \n  def initialize(attributes = {})\n    @id = attributes[:id] || generate_id\n    @name = attributes[:name]\n    @email = attributes[:email]\n    @age = attributes[:age]\n    @created_at = Time.now\n    @errors = []\n  end\n  \n  def valid?\n    @errors.clear\n    validate_presence_of_name\n    validate_email_format\n    validate_age_range\n    @errors.empty?\n  end\n  \n  def errors\n    @errors.dup\n  end\n  \n  def save\n    return false unless valid?\n    \n    # Persist logic here\n    true\n  end\n  \n  def to_h\n    {\n      id: @id,\n      name: @name,\n      email: @email,\n      age: @age,\n      created_at: @created_at\n    }\n  end\n  \n  def to_json(*args)\n    JSON.generate(to_h, *args)\n  end\n  \n  private\n  \n  def validate_presence_of_name\n    if @name.nil? || @name.strip.empty?\n      @errors << \"Name cannot be blank\"\n    end\n  end\n  \n  def validate_email_format\n    if @email && !@email.match?(/\\A[\\w+\\-.]+@[a-z\\d\\-]+(\\.[a-z\\d\\-]+)*\\.[a-z]+\\z/i)\n      @errors << \"Email format is invalid\"\n    end\n  end\n  \n  def validate_age_range\n    if @age && (@age < 0 || @age > 150)\n      @errors << \"Age must be between 0 and 150\"\n    end\n  end\n  \n  def generate_id\n    SecureRandom.uuid\n  end\nend\n\n# Example with inheritance\nclass AdminUser < User\n  attr_accessor :permissions\n  \n  def initialize(attributes = {})\n    super\n    @permissions = attributes[:permissions] || []\n  end\n  \n  def admin?\n    true\n  end\n  \n  def has_permission?(permission)\n    @permissions.include?(permission)\n  end\n  \n  private\n  \n  def validate_permissions\n    unless @permissions.is_a?(Array)\n      @errors << \"Permissions must be an array\"\n    end\n  end\nend\n```\n\n## Advanced Features\n\n### Module Inclusion\n```ruby\nmodule Timestamps\n  def self.included(base)\n    base.extend(ClassMethods)\n  end\n  \n  module ClassMethods\n    def with_timestamps\n      attr_reader :created_at, :updated_at\n      \n      define_method :initialize do |*args|\n        super(*args)\n        @created_at ||= Time.now\n        @updated_at = @created_at\n      end\n      \n      define_method :touch do\n        @updated_at = Time.now\n      end\n    end\n  end\nend\n\nclass Post\n  include Timestamps\n  with_timestamps\n  \n  attr_accessor :title, :content\n  \n  def initialize(attributes = {})\n    @title = attributes[:title]\n    @content = attributes[:content]\n    super\n  end\nend\n```\n\n### Class Methods and Scopes\n```ruby\nclass User\n  @@users = []\n  \n  def self.all\n    @@users.dup\n  end\n  \n  def self.find_by_email(email)\n    @@users.find { |user| user.email == email }\n  end\n  \n  def self.where(conditions = {})\n    @@users.select do |user|\n      conditions.all? { |key, value| user.send(key) == value }\n    end\n  end\n  \n  def self.create(attributes = {})\n    user = new(attributes)\n    if user.save\n      @@users << user\n      user\n    else\n      nil\n    end\n  end\n  \n  def save\n    return false unless valid?\n    \n    unless @@users.include?(self)\n      @@users << self\n    end\n    true\n  end\n  \n  def destroy\n    @@users.delete(self)\n  end\nend\n```\n\n## Testing Template\n\n```ruby\n# spec/models/user_spec.rb\nrequire 'spec_helper'\n\nRSpec.describe User do\n  let(:valid_attributes) do\n    {\n      name: 'John Doe',\n      email: 'john@example.com',\n      age: 30\n    }\n  end\n  \n  describe '#initialize' do\n    it 'sets attributes correctly' do\n      user = User.new(valid_attributes)\n      \n      expect(user.name).to eq('John Doe')\n      expect(user.email).to eq('john@example.com')\n      expect(user.age).to eq(30)\n      expect(user.id).not_to be_nil\n      expect(user.created_at).to be_a(Time)\n    end\n  end\n  \n  describe '#valid?' do\n    it 'returns true for valid attributes' do\n      user = User.new(valid_attributes)\n      expect(user).to be_valid\n    end\n    \n    it 'returns false when name is blank' do\n      user = User.new(valid_attributes.merge(name: ''))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Name cannot be blank')\n    end\n    \n    it 'returns false for invalid email format' do\n      user = User.new(valid_attributes.merge(email: 'invalid-email'))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Email format is invalid')\n    end\n    \n    it 'returns false for invalid age' do\n      user = User.new(valid_attributes.merge(age: -5))\n      expect(user).not_to be_valid\n      expect(user.errors).to include('Age must be between 0 and 150')\n    end\n  end\n  \n  describe '#save' do\n    it 'saves valid user' do\n      user = User.new(valid_attributes)\n      expect(user.save).to be true\n    end\n    \n    it 'does not save invalid user' do\n      user = User.new(name: '')\n      expect(user.save).to be false\n    end\n  end\n  \n  describe '#to_h' do\n    it 'returns hash representation' do\n      user = User.new(valid_attributes)\n      hash = user.to_h\n      \n      expect(hash).to include(\n        name: 'John Doe',\n        email: 'john@example.com',\n        age: 30\n      )\n      expect(hash[:id]).not_to be_nil\n      expect(hash[:created_at]).to be_a(Time)\n    end\n  end\nend\n```\n\n## Best Practices Included\n\n- **Proper initialization** with hash parameters\n- **Attribute accessors** for public attributes\n- **Validation methods** with error collection\n- **JSON serialization** support\n- **Class and instance methods** separation\n- **Error handling** and reporting\n- **Ruby naming conventions** (snake_case)\n- **Encapsulation** with private methods\n\n## Common Patterns\n\n### Value Objects\n```ruby\nclass Money\n  include Comparable\n  \n  attr_reader :amount, :currency\n  \n  def initialize(amount, currency = 'USD')\n    @amount = amount.to_f\n    @currency = currency.to_s.upcase\n  end\n  \n  def +(other)\n    raise ArgumentError, \"Currency mismatch\" unless currency == other.currency\n    Money.new(amount + other.amount, currency)\n  end\n  \n  def <=>(other)\n    raise ArgumentError, \"Currency mismatch\" unless currency == other.currency\n    amount <=> other.amount\n  end\n  \n  def to_s\n    \"#{currency} #{format('%.2f', amount)}\"\n  end\nend\n```\n\n### Service Objects\n```ruby\nclass UserRegistrationService\n  attr_reader :user, :errors\n  \n  def initialize(user_params)\n    @user_params = user_params\n    @errors = []\n  end\n  \n  def call\n    @user = User.new(@user_params)\n    \n    if @user.valid?\n      @user.save\n      send_welcome_email\n      true\n    else\n      @errors = @user.errors\n      false\n    end\n  end\n  \n  private\n  \n  def send_welcome_email\n    # Email sending logic\n  end\nend\n```"
              },
              {
                "name": "/test",
                "description": null,
                "path": "cli-tool/templates/ruby/.claude/commands/test.md",
                "frontmatter": null,
                "content": "# Ruby Test Generator\n\nCreate comprehensive test files with RSpec or Minitest following Ruby testing best practices.\n\n## Purpose\n\nThis command helps you quickly create test files with proper structure, examples, and testing patterns for Ruby applications.\n\n## Usage\n\n```\n/test\n```\n\n## What this command does\n\n1. **Creates test files** with proper structure for RSpec or Minitest\n2. **Includes test examples** for common scenarios\n3. **Sets up test helpers** and support files\n4. **Follows testing conventions** and best practices\n5. **Generates factory/fixture data** when needed\n\n## RSpec Example Output\n\n```ruby\n# spec/models/user_spec.rb\nrequire 'spec_helper'\n\nRSpec.describe User do\n  let(:user) { build(:user) }\n  let(:valid_attributes) do\n    {\n      name: 'John Doe',\n      email: 'john@example.com',\n      age: 30\n    }\n  end\n  \n  describe 'validations' do\n    it { should validate_presence_of(:name) }\n    it { should validate_presence_of(:email) }\n    it { should validate_uniqueness_of(:email) }\n    it { should validate_numericality_of(:age).is_greater_than(0) }\n    \n    context 'when email format is invalid' do\n      let(:user) { build(:user, email: 'invalid-email') }\n      \n      it 'is not valid' do\n        expect(user).not_to be_valid\n        expect(user.errors[:email]).to include('is invalid')\n      end\n    end\n  end\n  \n  describe 'associations' do\n    it { should have_many(:posts) }\n    it { should have_many(:comments) }\n  end\n  \n  describe 'callbacks' do\n    describe 'before_save' do\n      it 'normalizes email' do\n        user = create(:user, email: 'JOHN@EXAMPLE.COM')\n        expect(user.email).to eq('john@example.com')\n      end\n    end\n  end\n  \n  describe 'instance methods' do\n    describe '#full_name' do\n      let(:user) { build(:user, first_name: 'John', last_name: 'Doe') }\n      \n      it 'returns the full name' do\n        expect(user.full_name).to eq('John Doe')\n      end\n      \n      context 'when last_name is missing' do\n        let(:user) { build(:user, first_name: 'John', last_name: nil) }\n        \n        it 'returns only first_name' do\n          expect(user.full_name).to eq('John')\n        end\n      end\n    end\n    \n    describe '#active?' do\n      context 'when user is active' do\n        let(:user) { build(:user, status: 'active') }\n        \n        it 'returns true' do\n          expect(user.active?).to be true\n        end\n      end\n      \n      context 'when user is inactive' do\n        let(:user) { build(:user, status: 'inactive') }\n        \n        it 'returns false' do\n          expect(user.active?).to be false\n        end\n      end\n    end\n  end\n  \n  describe 'class methods' do\n    describe '.active' do\n      let!(:active_user) { create(:user, status: 'active') }\n      let!(:inactive_user) { create(:user, status: 'inactive') }\n      \n      it 'returns only active users' do\n        expect(User.active).to include(active_user)\n        expect(User.active).not_to include(inactive_user)\n      end\n    end\n    \n    describe '.find_by_email' do\n      let!(:user) { create(:user, email: 'test@example.com') }\n      \n      it 'finds user by email' do\n        found_user = User.find_by_email('test@example.com')\n        expect(found_user).to eq(user)\n      end\n      \n      it 'returns nil when user not found' do\n        found_user = User.find_by_email('nonexistent@example.com')\n        expect(found_user).to be_nil\n      end\n    end\n  end\n  \n  describe 'scopes' do\n    describe '.recent' do\n      let!(:old_user) { create(:user, created_at: 1.year.ago) }\n      let!(:recent_user) { create(:user, created_at: 1.day.ago) }\n      \n      it 'returns users created in the last 30 days' do\n        expect(User.recent).to include(recent_user)\n        expect(User.recent).not_to include(old_user)\n      end\n    end\n  end\nend\n```\n\n## Minitest Example Output\n\n```ruby\n# test/models/user_test.rb\nrequire 'test_helper'\n\nclass UserTest < ActiveSupport::TestCase\n  def setup\n    @user = users(:john)\n    @valid_attributes = {\n      name: 'Jane Doe',\n      email: 'jane@example.com',\n      age: 25\n    }\n  end\n  \n  # Validation tests\n  test 'should not save user without name' do\n    user = User.new(@valid_attributes.except(:name))\n    assert_not user.save\n    assert_includes user.errors[:name], \"can't be blank\"\n  end\n  \n  test 'should not save user without email' do\n    user = User.new(@valid_attributes.except(:email))\n    assert_not user.save\n    assert_includes user.errors[:email], \"can't be blank\"\n  end\n  \n  test 'should not save user with invalid email' do\n    user = User.new(@valid_attributes.merge(email: 'invalid-email'))\n    assert_not user.save\n    assert_includes user.errors[:email], 'is invalid'\n  end\n  \n  test 'should not save user with duplicate email' do\n    user1 = User.create!(@valid_attributes)\n    user2 = User.new(@valid_attributes)\n    assert_not user2.save\n    assert_includes user2.errors[:email], 'has already been taken'\n  end\n  \n  test 'should save user with valid attributes' do\n    user = User.new(@valid_attributes)\n    assert user.save\n  end\n  \n  # Association tests\n  test 'should have many posts' do\n    assert_respond_to @user, :posts\n    assert_kind_of ActiveRecord::Associations::CollectionProxy, @user.posts\n  end\n  \n  test 'should have many comments' do\n    assert_respond_to @user, :comments\n  end\n  \n  # Instance method tests\n  test 'full_name should return first and last name' do\n    @user.first_name = 'John'\n    @user.last_name = 'Doe'\n    assert_equal 'John Doe', @user.full_name\n  end\n  \n  test 'full_name should return first name only when last name is missing' do\n    @user.first_name = 'John'\n    @user.last_name = nil\n    assert_equal 'John', @user.full_name\n  end\n  \n  test 'active? should return true for active users' do\n    @user.status = 'active'\n    assert @user.active?\n  end\n  \n  test 'active? should return false for inactive users' do\n    @user.status = 'inactive'\n    assert_not @user.active?\n  end\n  \n  # Class method tests\n  test 'active scope should return only active users' do\n    active_user = User.create!(@valid_attributes.merge(status: 'active'))\n    inactive_user = User.create!(@valid_attributes.merge(\n      email: 'inactive@example.com',\n      status: 'inactive'\n    ))\n    \n    active_users = User.active\n    assert_includes active_users, active_user\n    assert_not_includes active_users, inactive_user\n  end\n  \n  test 'find_by_email should find user by email' do\n    user = User.create!(@valid_attributes)\n    found_user = User.find_by_email(@valid_attributes[:email])\n    assert_equal user, found_user\n  end\n  \n  test 'find_by_email should return nil when user not found' do\n    found_user = User.find_by_email('nonexistent@example.com')\n    assert_nil found_user\n  end\nend\n```\n\n## Controller Test Example\n\n```ruby\n# spec/controllers/users_controller_spec.rb\nrequire 'rails_helper'\n\nRSpec.describe UsersController, type: :controller do\n  let(:user) { create(:user) }\n  let(:valid_attributes) { attributes_for(:user) }\n  let(:invalid_attributes) { { name: '', email: 'invalid' } }\n  \n  describe 'GET #index' do\n    it 'returns a success response' do\n      get :index\n      expect(response).to be_successful\n    end\n    \n    it 'assigns @users' do\n      user1 = create(:user)\n      user2 = create(:user)\n      get :index\n      expect(assigns(:users)).to match_array([user1, user2])\n    end\n  end\n  \n  describe 'GET #show' do\n    it 'returns a success response' do\n      get :show, params: { id: user.to_param }\n      expect(response).to be_successful\n    end\n    \n    it 'assigns the requested user' do\n      get :show, params: { id: user.to_param }\n      expect(assigns(:user)).to eq(user)\n    end\n  end\n  \n  describe 'POST #create' do\n    context 'with valid parameters' do\n      it 'creates a new User' do\n        expect {\n          post :create, params: { user: valid_attributes }\n        }.to change(User, :count).by(1)\n      end\n      \n      it 'redirects to the created user' do\n        post :create, params: { user: valid_attributes }\n        expect(response).to redirect_to(User.last)\n      end\n    end\n    \n    context 'with invalid parameters' do\n      it 'does not create a new User' do\n        expect {\n          post :create, params: { user: invalid_attributes }\n        }.to change(User, :count).by(0)\n      end\n      \n      it 'renders the new template' do\n        post :create, params: { user: invalid_attributes }\n        expect(response).to render_template(:new)\n      end\n    end\n  end\n  \n  describe 'PUT #update' do\n    context 'with valid parameters' do\n      let(:new_attributes) { { name: 'Updated Name' } }\n      \n      it 'updates the requested user' do\n        put :update, params: { id: user.to_param, user: new_attributes }\n        user.reload\n        expect(user.name).to eq('Updated Name')\n      end\n      \n      it 'redirects to the user' do\n        put :update, params: { id: user.to_param, user: new_attributes }\n        expect(response).to redirect_to(user)\n      end\n    end\n    \n    context 'with invalid parameters' do\n      it 'renders the edit template' do\n        put :update, params: { id: user.to_param, user: invalid_attributes }\n        expect(response).to render_template(:edit)\n      end\n    end\n  end\n  \n  describe 'DELETE #destroy' do\n    it 'destroys the requested user' do\n      user # Create user\n      expect {\n        delete :destroy, params: { id: user.to_param }\n      }.to change(User, :count).by(-1)\n    end\n    \n    it 'redirects to the users list' do\n      delete :destroy, params: { id: user.to_param }\n      expect(response).to redirect_to(users_url)\n    end\n  end\nend\n```\n\n## Factory Configuration\n\n```ruby\n# spec/factories/users.rb\nFactoryBot.define do\n  factory :user do\n    sequence(:name) { |n| \"User #{n}\" }\n    sequence(:email) { |n| \"user#{n}@example.com\" }\n    age { rand(18..80) }\n    status { 'active' }\n    \n    trait :inactive do\n      status { 'inactive' }\n    end\n    \n    trait :admin do\n      admin { true }\n    end\n    \n    trait :with_posts do\n      after(:create) do |user|\n        create_list(:post, 3, user: user)\n      end\n    end\n    \n    factory :admin_user, traits: [:admin]\n    factory :inactive_user, traits: [:inactive]\n  end\nend\n```\n\n## Test Helper Configuration\n\n```ruby\n# spec/spec_helper.rb\nrequire 'simplecov'\nSimpleCov.start 'rails' do\n  add_filter '/spec/'\n  add_filter '/config/'\n  add_filter '/vendor/'\n  \n  add_group 'Controllers', 'app/controllers'\n  add_group 'Models', 'app/models'\n  add_group 'Services', 'app/services'\n  add_group 'Libraries', 'lib'\nend\n\nRSpec.configure do |config|\n  config.expect_with :rspec do |expectations|\n    expectations.include_chain_clauses_in_custom_matcher_descriptions = true\n  end\n  \n  config.mock_with :rspec do |mocks|\n    mocks.verify_partial_doubles = true\n  end\n  \n  config.shared_context_metadata_behavior = :apply_to_host_groups\n  config.filter_run_when_matching :focus\n  config.example_status_persistence_file_path = 'spec/examples.txt'\n  config.disable_monkey_patching!\n  config.warnings = true\n  \n  if config.files_to_run.one?\n    config.default_formatter = 'doc'\n  end\n  \n  config.profile_examples = 10\n  config.order = :random\n  Kernel.srand config.seed\nend\n```\n\n## Integration Test Example\n\n```ruby\n# spec/requests/api/users_spec.rb\nrequire 'rails_helper'\n\nRSpec.describe 'API::Users', type: :request do\n  let(:user) { create(:user) }\n  let(:valid_headers) {\n    { 'Authorization' => \"Bearer #{user.auth_token}\" }\n  }\n  \n  describe 'GET /api/users' do\n    it 'returns users' do\n      create_list(:user, 3)\n      \n      get '/api/users', headers: valid_headers\n      \n      expect(response).to have_http_status(:ok)\n      expect(JSON.parse(response.body)['users'].size).to eq(3)\n    end\n  end\n  \n  describe 'POST /api/users' do\n    let(:valid_params) do\n      {\n        user: {\n          name: 'New User',\n          email: 'new@example.com'\n        }\n      }\n    end\n    \n    it 'creates a new user' do\n      post '/api/users', params: valid_params, headers: valid_headers\n      \n      expect(response).to have_http_status(:created)\n      expect(JSON.parse(response.body)['user']['name']).to eq('New User')\n    end\n  end\nend\n```\n\n## Best Practices Included\n\n- **Descriptive test names** that explain expected behavior\n- **Proper test organization** with contexts and describes\n- **Factory usage** for test data generation\n- **Mocking and stubbing** for external dependencies\n- **Coverage configuration** with SimpleCov\n- **Test helpers** and shared examples\n- **Request/Integration tests** for API endpoints\n- **Feature tests** for user workflows"
              },
              {
                "name": "/authentication",
                "description": null,
                "path": "cli-tool/templates/ruby/examples/rails-app/.claude/commands/authentication.md",
                "frontmatter": null,
                "content": "# Rails 8 Native Authentication Generator\n\nGenerate Rails 8's built-in authentication system with modern security practices.\n\n## Purpose\n\nThis command helps you implement Rails 8's new native authentication system, eliminating the need for external gems like Devise for basic authentication needs.\n\n## Usage\n\n```\n/authentication\n```\n\n## What this command does\n\n1. **Generates authentication models** with secure password handling\n2. **Creates authentication controllers** for login/logout/signup\n3. **Adds authentication views** with modern styling\n4. **Implements session management** with security best practices\n5. **Sets up authentication helpers** for controllers and views\n\n## Rails 8 Authentication Generator\n\n```bash\n# Generate authentication for User model\nbin/rails generate authentication User\n\n# Or specify custom model name\nbin/rails generate authentication Account\n\n# Generate with custom attributes\nbin/rails generate authentication User first_name:string last_name:string\n```\n\n## Generated User Model\n\n```ruby\n# app/models/user.rb\nclass User < ApplicationRecord\n  has_secure_password\n  \n  validates :email, presence: true, uniqueness: true\n  validates :password, length: { minimum: 8 }, if: -> { new_record? || !password.blank? }\n  \n  normalizes :email, with: ->(email) { email.strip.downcase }\n  \n  before_save :normalize_email\n  \n  private\n  \n  def normalize_email\n    self.email = email.downcase.strip\n  end\nend\n```\n\n## Authentication Controller\n\n```ruby\n# app/controllers/authentication_controller.rb\nclass AuthenticationController < ApplicationController\n  skip_before_action :authenticate_user!, only: [:new, :create]\n  \n  def new\n    # Login page\n  end\n  \n  def create\n    user = User.find_by(email: params[:email])\n    \n    if user&.authenticate(params[:password])\n      login(user)\n      redirect_to root_path, notice: 'Logged in successfully'\n    else\n      flash.now[:alert] = 'Invalid email or password'\n      render :new, status: :unprocessable_entity\n    end\n  end\n  \n  def destroy\n    logout\n    redirect_to root_path, notice: 'Logged out successfully'\n  end\n  \n  private\n  \n  def login(user)\n    session[:user_id] = user.id\n    @current_user = user\n  end\n  \n  def logout\n    session[:user_id] = nil\n    @current_user = nil\n  end\nend\n```\n\n## Registration Controller\n\n```ruby\n# app/controllers/registrations_controller.rb\nclass RegistrationsController < ApplicationController\n  skip_before_action :authenticate_user!\n  \n  def new\n    @user = User.new\n  end\n  \n  def create\n    @user = User.new(user_params)\n    \n    if @user.save\n      login(@user)\n      redirect_to root_path, notice: 'Account created successfully'\n    else\n      render :new, status: :unprocessable_entity\n    end\n  end\n  \n  private\n  \n  def user_params\n    params.require(:user).permit(:email, :password, :password_confirmation, :first_name, :last_name)\n  end\n  \n  def login(user)\n    session[:user_id] = user.id\n    @current_user = user\n  end\nend\n```\n\n## Application Controller Updates\n\n```ruby\n# app/controllers/application_controller.rb\nclass ApplicationController < ActionController::Base\n  protect_from_forgery with: :exception\n  \n  before_action :authenticate_user!\n  \n  private\n  \n  def authenticate_user!\n    redirect_to login_path, alert: 'Please log in to continue' unless current_user\n  end\n  \n  def current_user\n    @current_user ||= User.find(session[:user_id]) if session[:user_id]\n  end\n  helper_method :current_user\n  \n  def logged_in?\n    !!current_user\n  end\n  helper_method :logged_in?\n  \n  def require_login\n    unless logged_in?\n      flash[:alert] = 'You must be logged in to access this page'\n      redirect_to login_path\n    end\n  end\nend\n```\n\n## Authentication Views\n\n### Login Form\n```erb\n<!-- app/views/authentication/new.html.erb -->\n<div class=\"authentication-form\">\n  <h1>Log In</h1>\n  \n  <%= form_with url: login_path, local: true, class: \"auth-form\" do |form| %>\n    <div class=\"form-group\">\n      <%= form.label :email, \"Email\" %>\n      <%= form.email_field :email, required: true, autofocus: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password, \"Password\" %>\n      <%= form.password_field :password, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-actions\">\n      <%= form.submit \"Log In\", class: \"btn btn-primary\" %>\n    </div>\n  <% end %>\n  \n  <div class=\"auth-links\">\n    <%= link_to \"Don't have an account? Sign up\", signup_path %>\n  </div>\n</div>\n```\n\n### Registration Form\n```erb\n<!-- app/views/registrations/new.html.erb -->\n<div class=\"authentication-form\">\n  <h1>Sign Up</h1>\n  \n  <%= form_with model: @user, url: signup_path, local: true, class: \"auth-form\" do |form| %>\n    <% if @user.errors.any? %>\n      <div class=\"error-messages\">\n        <h3><%= pluralize(@user.errors.count, \"error\") %> prohibited this account from being saved:</h3>\n        <ul>\n          <% @user.errors.full_messages.each do |message| %>\n            <li><%= message %></li>\n          <% end %>\n        </ul>\n      </div>\n    <% end %>\n    \n    <div class=\"form-group\">\n      <%= form.label :first_name, \"First Name\" %>\n      <%= form.text_field :first_name, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :last_name, \"Last Name\" %>\n      <%= form.text_field :last_name, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :email, \"Email\" %>\n      <%= form.email_field :email, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password, \"Password\" %>\n      <%= form.password_field :password, required: true, minlength: 8, class: \"form-control\" %>\n      <small class=\"form-text\">Minimum 8 characters</small>\n    </div>\n    \n    <div class=\"form-group\">\n      <%= form.label :password_confirmation, \"Confirm Password\" %>\n      <%= form.password_field :password_confirmation, required: true, class: \"form-control\" %>\n    </div>\n    \n    <div class=\"form-actions\">\n      <%= form.submit \"Sign Up\", class: \"btn btn-primary\" %>\n    </div>\n  <% end %>\n  \n  <div class=\"auth-links\">\n    <%= link_to \"Already have an account? Log in\", login_path %>\n  </div>\n</div>\n```\n\n## Route Configuration\n\n```ruby\n# config/routes.rb\nRails.application.routes.draw do\n  # Authentication routes\n  get    'login',  to: 'authentication#new'\n  post   'login',  to: 'authentication#create'\n  delete 'logout', to: 'authentication#destroy'\n  \n  # Registration routes\n  get  'signup', to: 'registrations#new'\n  post 'signup', to: 'registrations#create'\n  \n  # User management routes\n  resources :users, except: [:new, :create]\n  \n  # Root route\n  root 'dashboard#index'\nend\n```\n\n## Migration Files\n\n```ruby\n# db/migrate/xxx_create_users.rb\nclass CreateUsers < ActiveRecord::Migration[8.0]\n  def change\n    create_table :users do |t|\n      t.string :email, null: false\n      t.string :password_digest, null: false\n      t.string :first_name\n      t.string :last_name\n      \n      t.timestamps\n    end\n    \n    add_index :users, :email, unique: true\n  end\nend\n```\n\n## Advanced Authentication Features\n\n### Password Reset\n```ruby\n# app/controllers/password_resets_controller.rb\nclass PasswordResetsController < ApplicationController\n  skip_before_action :authenticate_user!\n  \n  def new\n    # Password reset request form\n  end\n  \n  def create\n    @user = User.find_by(email: params[:email])\n    if @user\n      @user.send_password_reset\n      redirect_to root_path, notice: 'Email sent with password reset instructions'\n    else\n      flash.now[:alert] = 'Email address not found'\n      render :new\n    end\n  end\n  \n  def edit\n    @user = User.find_by(password_reset_token: params[:id])\n    if @user.nil? || @user.password_reset_sent_at < 2.hours.ago\n      redirect_to new_password_reset_path, alert: 'Password reset has expired'\n    end\n  end\n  \n  def update\n    @user = User.find_by(password_reset_token: params[:id])\n    if @user && @user.password_reset_sent_at > 2.hours.ago\n      if @user.update(password_params)\n        @user.update_columns(password_reset_token: nil, password_reset_sent_at: nil)\n        redirect_to root_path, notice: 'Password has been reset'\n      else\n        render :edit\n      end\n    else\n      redirect_to new_password_reset_path, alert: 'Password reset has expired'\n    end\n  end\n  \n  private\n  \n  def password_params\n    params.require(:user).permit(:password, :password_confirmation)\n  end\nend\n```\n\n### User Model Extensions\n```ruby\n# app/models/user.rb (extended)\nclass User < ApplicationRecord\n  has_secure_password\n  \n  validates :email, presence: true, uniqueness: true\n  validates :password, length: { minimum: 8 }, if: -> { new_record? || !password.blank? }\n  \n  normalizes :email, with: ->(email) { email.strip.downcase }\n  \n  # Password reset functionality\n  def send_password_reset\n    generate_token(:password_reset_token)\n    self.password_reset_sent_at = Time.zone.now\n    save!\n    UserMailer.password_reset(self).deliver_now\n  end\n  \n  def full_name\n    \"#{first_name} #{last_name}\".strip\n  end\n  \n  def initials\n    \"#{first_name&.first}#{last_name&.first}\".upcase\n  end\n  \n  private\n  \n  def generate_token(column)\n    begin\n      self[column] = SecureRandom.urlsafe_base64\n    end while User.exists?(column => self[column])\n  end\nend\n```\n\n## Session Security Enhancements\n\n```ruby\n# config/application.rb\nconfig.session_store :cookie_store, {\n  key: '_myapp_session',\n  secure: Rails.env.production?,\n  httponly: true,\n  same_site: :lax\n}\n\n# config/environments/production.rb\nconfig.force_ssl = true\nconfig.session_store :cookie_store, {\n  key: '_myapp_session',\n  secure: true,\n  httponly: true,\n  same_site: :strict\n}\n```\n\n## Authentication Helper Methods\n\n```ruby\n# app/helpers/authentication_helper.rb\nmodule AuthenticationHelper\n  def user_avatar(user, size: 40)\n    if user.avatar.present?\n      image_tag user.avatar, alt: user.full_name, class: \"avatar\", size: \"#{size}x#{size}\"\n    else\n      content_tag :div, user.initials, class: \"avatar avatar-initials\", \n                  style: \"width: #{size}px; height: #{size}px; line-height: #{size}px;\"\n    end\n  end\n  \n  def current_user_menu\n    if logged_in?\n      render 'shared/user_menu'\n    else\n      render 'shared/guest_menu'\n    end\n  end\nend\n```\n\n## Testing Authentication\n\n```ruby\n# spec/models/user_spec.rb\nRSpec.describe User, type: :model do\n  describe 'validations' do\n    it { should validate_presence_of(:email) }\n    it { should validate_uniqueness_of(:email) }\n    it { should validate_length_of(:password).is_at_least(8) }\n    it { should have_secure_password }\n  end\n  \n  describe 'email normalization' do\n    it 'normalizes email to lowercase' do\n      user = User.create!(email: 'USER@EXAMPLE.COM', password: 'password123')\n      expect(user.email).to eq('user@example.com')\n    end\n  end\n  \n  describe '#full_name' do\n    it 'returns combined first and last name' do\n      user = User.new(first_name: 'John', last_name: 'Doe')\n      expect(user.full_name).to eq('John Doe')\n    end\n  end\nend\n\n# spec/controllers/authentication_controller_spec.rb\nRSpec.describe AuthenticationController, type: :controller do\n  describe 'POST #create' do\n    let(:user) { create(:user, password: 'password123') }\n    \n    context 'with valid credentials' do\n      it 'logs in the user' do\n        post :create, params: { email: user.email, password: 'password123' }\n        expect(session[:user_id]).to eq(user.id)\n        expect(response).to redirect_to(root_path)\n      end\n    end\n    \n    context 'with invalid credentials' do\n      it 'does not log in the user' do\n        post :create, params: { email: user.email, password: 'wrong' }\n        expect(session[:user_id]).to be_nil\n        expect(response).to render_template(:new)\n      end\n    end\n  end\nend\n```\n\n## Security Best Practices Included\n\n- **Secure password hashing** with bcrypt\n- **Email normalization** to prevent duplicates\n- **CSRF protection** enabled by default\n- **Session security** with httponly and secure flags\n- **Password strength validation** (minimum 8 characters)\n- **Timing attack prevention** in authentication\n- **Password reset token expiration**\n- **SSL enforcement** in production"
              }
            ],
            "skills": []
          }
        ]
      }
    }
  ]
}