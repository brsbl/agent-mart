{
  "owner": {
    "id": "bytebase",
    "display_name": "Bytebase",
    "type": "Organization",
    "avatar_url": "https://avatars.githubusercontent.com/u/74386897?v=4",
    "url": "https://github.com/bytebase",
    "bio": "Database DevSecOps for Developer, DBA, Security, and Platform Engineering Teams.",
    "stats": {
      "total_repos": 1,
      "total_plugins": 1,
      "total_commands": 0,
      "total_skills": 1,
      "total_stars": 1,
      "total_forks": 0
    }
  },
  "repos": [
    {
      "full_name": "bytebase/team-skills",
      "url": "https://github.com/bytebase/team-skills",
      "description": "Agent Skills Shared by the Team",
      "homepage": null,
      "signals": {
        "stars": 1,
        "forks": 0,
        "pushed_at": "2026-01-12T10:18:31Z",
        "created_at": "2025-12-30T07:20:57Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 436
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 295
        },
        {
          "path": ".github",
          "type": "tree",
          "size": null
        },
        {
          "path": ".github/semantic.yml",
          "type": "blob",
          "size": 144
        },
        {
          "path": ".gitignore",
          "type": "blob",
          "size": 559
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 2860
        },
        {
          "path": "skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/write-release-notes",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/write-release-notes/SKILL.md",
          "type": "blob",
          "size": 31647
        }
      ],
      "marketplace": {
        "name": "bytebase-team-skill-market",
        "version": null,
        "description": "Skill marketplace for Bytebase team",
        "owner_info": {
          "name": "Bytebase"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "bytebase-team-skills",
            "description": "Core team skills library for Claude Code: doc writing, collaboration patterns, and proven techniques",
            "source": "./",
            "category": null,
            "version": "1.0.1",
            "author": {
              "name": "Bytebase"
            },
            "install_commands": [
              "/plugin marketplace add bytebase/team-skills",
              "/plugin install bytebase-team-skills@bytebase-team-skill-market"
            ],
            "signals": {
              "stars": 1,
              "forks": 0,
              "pushed_at": "2026-01-12T10:18:31Z",
              "created_at": "2025-12-30T07:20:57Z",
              "license": null
            },
            "commands": [],
            "skills": [
              {
                "name": "write-release-notes",
                "description": "Generate professional Bytebase release notes by analyzing git commits, building PR dependency graphs, checking Terraform impact, searching Linear for customer feedback, and following established conventions. Creates Linear tracking issue and owner confirmation comments (with user approval before each write operation). Use when preparing release notes for minor or patch versions.",
                "path": "skills/write-release-notes/SKILL.md",
                "frontmatter": {
                  "name": "write-release-notes",
                  "description": "Generate professional Bytebase release notes by analyzing git commits, building PR dependency graphs, checking Terraform impact, searching Linear for customer feedback, and following established conventions. Creates Linear tracking issue and owner confirmation comments (with user approval before each write operation). Use when preparing release notes for minor or patch versions."
                },
                "content": "# Release Notes Generator\n\nA systematic skill for generating professional Bytebase release notes by analyzing git commits, building PR dependency graphs, checking Terraform impact, and following established conventions.\n\n## Overview\n\nThis skill helps you create release notes for Bytebase releases by:\n1. Determining release version (minor vs patch) from branch names\n2. Extracting commits between versions\n3. **Building PR dependency graph (DAG)** to identify related changes\n4. **Identifying root cause PRs** that drive cascading changes\n5. Analyzing code changes to understand impact\n6. Checking Terraform configuration implications\n7. Searching Linear for customer feedback\n8. Learning from previous release note patterns\n9. Categorizing and prioritizing changes with ownership\n10. **Excluding internal follow-ups** (fixes for features in this release)\n11. Writing concise, user-focused release notes (no implementation details or reasoning)\n12. Saving draft to `docs/release-notes/draft-X.Y.Z.md` for iteration\n13. Creating Linear issue with title `<version>-<date>_release_note` **(with user confirmation)**\n14. Adding confirmation comments with proper @mentions for each owner **(with user confirmation)**\n\n**Note**: All Linear write operations (creating issues, posting comments) require explicit user confirmation before execution.\n\n## Step-by-Step Process\n\n### Phase 1: Version Identification (CRITICAL)\n\n#### 1.1 Find the Version Range\n\n```bash\n# List available tags\ngit tag --list \"*<major>.<minor>*\" | sort -V\n\n# Check for release branches\ngit branch -a | grep -E \"release/<major>.<minor>\"\n\n# Get the latest tag\ngit describe --tags --abbrev=0\n```\n\n#### 1.2 Determine Version Type\n\n**IMPORTANT**: The version type affects what sections are allowed in the release notes.\n\n| Version Change | Type | Example |\n|----------------|------|---------|\n| 3.12.x ‚Üí 3.13.0 | **Minor** | Minor digit increases |\n| 3.12.0 ‚Üí 3.12.1 | **Patch** | Patch digit increases |\n\n**Rules by version type:**\n\n| Section | Minor Version | Patch Version |\n|---------|--------------|---------------|\n| Notable Changes | ‚úÖ Expected | ‚ö†Ô∏è Unusual - confirm with user |\n| Features | ‚úÖ Expected | ‚ö†Ô∏è Unusual - confirm with user |\n| Enhancements | ‚úÖ Yes | ‚úÖ Yes |\n| Bug Fixes | ‚úÖ Yes | ‚úÖ Yes (primary focus) |\n\n#### 1.3 Confirm Version with User\n\n**ALWAYS confirm the version before proceeding:**\n\n```\nI've identified the following version information:\n- Previous version: [X.Y.Z]\n- New version: [A.B.C]\n- Version type: [Minor/Patch]\n\nIs this correct? If not, please provide the correct versions.\n```\n\n**If you cannot determine versions from branches/tags, ASK the user immediately.**\n\n### Phase 2: Data Collection\n\n#### 2.1 Extract All Commits\n\n```bash\n# If new version is tagged\ngit log <prev-version>..<new-version> --oneline --decorate\n\n# If new version is a release branch (common case)\ngit log <prev-version>..origin/release/<new-version> --oneline --decorate\n```\n\n**Output**: List of all commits with their hashes and one-line messages.\n\n#### 2.2 Create Analysis Task List\n\nUse TodoWrite to create tasks:\n- Batch commits into groups of 5-7\n- One task per batch for analysis\n- Task for Terraform impact check\n- Task for Linear issue search\n- Final task for compilation\n\n### Phase 3: Commit Analysis & PR Dependency Graph (CRITICAL)\n\n#### 3.1 Fetch PR Details (Not Just Commit Messages)\n\n**IMPORTANT**: Commit messages are often insufficient. Always fetch PR descriptions:\n\n```bash\n# Get PR details including body, labels, and related issues\ngh pr view <pr-number> --json title,body,labels\n\n# Extract PR number from commit message\n# Commits usually end with \"(#12345)\"\n```\n\n**What to extract from each PR:**\n- **Title and body**: Full context of the change\n- **Labels**: Look for \"breaking\" label\n- **Linear issue references**: BYT-XXXX in body\n- **\"Part of\" or \"Closes\" references**: Indicates parent feature\n\n#### 3.2 Build PR Dependency Graph (DAG)\n\n**CRITICAL STEP**: Before categorizing, identify how PRs relate to each other:\n\n1. **Find root cause PRs**: Look for PRs that:\n   - Reference a Linear issue with broad scope (e.g., \"Separate CI and CD\")\n   - Have many follow-up PRs\n   - Are marked with \"breaking\" label or `refactor!:` prefix\n   - Change fundamental architecture\n\n2. **Group related PRs**: PRs are related if they:\n   - Reference the same Linear issue\n   - One PR \"follows\" or \"builds on\" another\n   - Fix issues introduced by another PR in this release\n   - Are part of the same feature initiative\n\n3. **Order by time**: Within a group, order PRs chronologically to understand the flow\n\n**Example DAG:**\n```\nBYT-8521: Separate CI (Plan+Issue) and CD (Rollout)\n‚îú‚îÄ‚îÄ #18610 - Core: separate rollout creation from issue creation\n‚îÇ   ‚îú‚îÄ‚îÄ #18620 - Remove pipeline table\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ #18662 - Rollout nested under plan\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ #18663-#18668 - Follow-up refactors\n‚îÇ   ‚îú‚îÄ‚îÄ #18704 - Unified Plan/Issue page\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ #18709, #18819, #18838, #18861 - Fixes for unified page\n‚îÇ   ‚îî‚îÄ‚îÄ #18698 - Webhook redesign (driven by new lifecycle)\n‚îî‚îÄ‚îÄ #18624, #18634, #18635 - Issue API cleanup\n```\n\n#### 3.3 Identify What NOT to List\n\n**Exclude from release notes:**\n- **Fixes for features in this release**: If PR #18861 fixes PR #18704 (both in this release), don't list #18861 separately\n- **Internal refactors**: PRs that prepare for a feature but have no user impact\n- **Follow-up polish**: PRs that tweak a feature already listed\n\n**Rule**: If a PR's parent feature is in this release, the PR is part of that feature, not a separate item.\n\n#### 3.4 Examine Commits with Context\n\nFor each batch, run these in parallel:\n\n```bash\ngit show --stat <commit-hash>\ngh pr view <pr-number> --json title,body,labels\n```\n\n**What to extract:**\n- **Files changed**: Indicates scope (frontend/backend/proto/parser)\n- **Lines added/removed**: Indicates magnitude\n- **PR description**: Full context and reasoning\n- **Linear issue**: Customer-facing problem being solved\n- **Author**: For ownership tracking\n\n#### 3.5 Identify Change Owner\n\nFor each significant change, identify the owner:\n\n```bash\n# Get the author with most changes for a feature area\ngit log <prev-version>..origin/release/<new-version> --format='%an' -- <path-pattern> | sort | uniq -c | sort -rn | head -1\n\n# For a specific commit\ngit show --format='%an <%ae>' -s <commit-hash>\n```\n\n**Document the owner for each release note item** - we need to confirm correctness with them.\n\n#### 3.6 Categorize Based on DAG\n\nUse this decision tree, but apply it to **feature groups**, not individual PRs:\n\n```\nIs it a breaking change or behavior change?\n‚îú‚îÄ YES ‚Üí Notable Changes (describe the root cause, not individual PRs)\n‚îî‚îÄ NO\n   ‚îú‚îÄ Does it fix a bug that existed BEFORE this release?\n   ‚îÇ  ‚îî‚îÄ YES ‚Üí Bug Fixes\n   ‚îÇ  ‚îî‚îÄ NO (fixes something introduced in this release) ‚Üí Exclude\n   ‚îî‚îÄ NO\n      ‚îú‚îÄ Is it a new capability?\n      ‚îÇ  ‚îî‚îÄ YES ‚Üí Features (combine related PRs into one entry)\n      ‚îî‚îÄ Is it an improvement/optimization?\n         ‚îî‚îÄ YES ‚Üí Enhancements\n```\n\n**Specific patterns:**\n\n| Commit Pattern | Category | Example |\n|----------------|----------|---------|\n| `fix:` prefix | Bug Fixes (if pre-existing bug) | `fix: SQL Editor tab caching` |\n| `fix:` for new feature | Exclude (part of feature) | `fix: redirect to new UI` |\n| `feat:` new capability | Features | `feat: IdP-initiated SSO` |\n| `feat:` improvement | Enhancements | `feat: MSSQL explain visualization` |\n| `refactor!:` prefix | Notable Changes | `refactor!: redesign webhook events` |\n| `refactor:` with user impact | Enhancements | `refactor: webhook message` |\n| `refactor:` no user impact | Omit | `refactor: internal helper` |\n| `chore:` with user impact | Enhancements | `chore: optimize SQL editor tabs` |\n| `chore:` no user impact | Omit | `chore: update dependencies` |\n\n### Phase 4: Terraform Impact Check (CRITICAL)\n\n#### 4.1 Check for Terraform-Affecting Changes\n\nFor EACH categorized change, check if it affects Terraform configuration:\n\n```bash\n# Search for changes to Terraform-related files\ngit show --stat <commit-hash> | grep -E \"(terraform|provider|resource)\"\n\n# Check API changes that might affect Terraform\ngit show --stat <commit-hash> | grep -E \"proto/v1/(project|database|instance|environment|setting|policy)\"\n\n# Check for resource name/field changes\ngit show <commit-hash> -- \"proto/**/*.proto\" | grep -E \"(field|option|message|enum)\"\n\n# Check for removed or renamed fields in proto files\ngit diff <prev-version>..origin/release/<new-version> -- \"proto/v1/*.proto\" | grep -E \"^[-+].*\\b(string|int|bool|repeated|message)\\b\"\n```\n\n**Key areas that affect Terraform:**\n\n| Change Area | Terraform Impact | Check Files |\n|-------------|-----------------|-------------|\n| API field rename/remove | **Breaking** - config update required | `proto/v1/*.proto` |\n| New API field | May need config update | `proto/v1/*.proto` |\n| Resource behavior change | May affect state | Backend handlers |\n| Default value change | May affect plan/apply | Service layer |\n| Validation rule change | May cause apply failures | Validators |\n| Resource path change | **Breaking** - update resource refs | API routes |\n\n#### 4.2 Document Terraform Impact\n\nFor changes that affect Terraform, add to the release note:\n\n```markdown\n- [Change description] (**Terraform**: [impact description, e.g., \"update `bytebase_instance` resource field `x` to `y`\"])\n```\n\n**Example:**\n```markdown\n- Rename environment resource field from `tier` to `environment_tier` (**Terraform**: update `bytebase_environment` resource configuration to use new field name)\n```\n\n#### 4.3 Create Terraform Impact Summary\n\nIn the draft metadata, include a Terraform impact table:\n\n```markdown\n## Terraform Impact\n| Change | Field/Path | Impact |\n|--------|------------|--------|\n| Issue API | rollout, releasers, task_status_count removed | Check if provider reads these fields |\n| Rollout API paths | /plans/{id}/rollout | Update resource path references |\n```\n\n### Phase 5: Linear Issue Search\n\n#### 5.1 Search for Customer Feedback\n\nUse Linear MCP tools to find customer-reported issues:\n\n```\nmcp__linear__list_issues with:\n- query: relevant keywords from commits\n- labels: \"customer-feedback\", \"bug\", \"customer-reported\"\n- updatedAt: -P30D (last 30 days)\n```\n\n**Search strategies:**\n1. Search by feature area mentioned in commits\n2. Search by database engine names\n3. Search by component names (SQL Editor, Schema Editor, etc.)\n4. Search recent issues (last 2-4 weeks)\n5. Search by PR-referenced Linear issues (BYT-XXXX found in PR bodies)\n\n#### 5.2 Get Parent Issues for Context\n\nWhen a PR references a Linear issue, fetch the issue to understand the broader context:\n\n```\nmcp__linear__get_issue with:\n- id: BYT-XXXX\n- includeRelations: true\n```\n\nThis helps identify:\n- Parent initiatives that group multiple PRs\n- Related issues that should be consolidated\n- Customer-reported problems being addressed\n\n#### 5.3 Confirm Customer Issues with User\n\nPresent found Linear issues:\n\n```\nI found the following Linear issues that may be related to this release:\n- [ISSUE-123]: Description (Status: Done)\n- [ISSUE-456]: Description (Status: Done)\n\nWhich of these should be highlighted as customer-reported fixes in the release notes?\n```\n\n### Phase 6: Learn from Previous Releases\n\n#### 6.1 Fetch Recent Release Notes\n\nVisit and analyze 2-3 recent releases:\n- Same major version (e.g., 3.12.1, 3.12.0 when writing 3.12.2)\n- One minor release example (x.x.1 or x.x.2)\n\n```\nURL: https://github.com/bytebase/bytebase/releases\n```\n\nUse WebFetch tool to extract:\n1. **Section structure**: What sections are used?\n2. **Writing style**: Verb tense, length, tone\n3. **Grouping patterns**: How are related items grouped?\n4. **Database prefixes**: How are DB-specific features marked?\n5. **Notable Changes examples**: What qualifies as notable?\n\n### Phase 7: Prioritization\n\n#### 7.1 Write ALL Release Notes First\n\n**IMPORTANT**: Do NOT limit items during initial writing. Write release notes for ALL significant changes first.\n\nFor each section, compile:\n- All Notable Changes (with owner)\n- All Features (with owner)\n- All Enhancements (with owner)\n- All Bug Fixes (with owner)\n\n**Order items by priority within each section.**\n\n#### 7.2 Apply Priority Matrix\n\n| Priority | Criteria | Treatment |\n|----------|----------|-----------|\n| P0 | Customer-reported bugs, security issues, data corruption | **Must include** in Bug Fixes, list first |\n| P1 | Breaking changes, new major features, Terraform-affecting | **Must include** in Notable Changes or Features |\n| P2 | User-facing improvements, performance gains | Include, order by impact |\n| P3 | Internal refactors with indirect benefits | Group or omit |\n| P4 | Code cleanup, internal changes | Omit |\n\n#### 7.3 Present All Items Ordered by Priority\n\nAfter writing all items, present to user with priority ordering:\n\n```markdown\n## Full Release Notes (for your review)\n\n### Notable Changes (X total) ‚Äî INCLUDE ALL\n1. [Most impactful change] ‚Äî Owner: [Name] | Terraform: [Yes/No]\n2. [Second change] ‚Äî Owner: [Name]\n...\n\n### Features (X total) ‚Äî Ordered by Priority\n1. [Highest priority feature] ‚Äî Owner: [Name]\n2. [Second priority] ‚Äî Owner: [Name]\n...\n\n### Enhancements (X total) ‚Äî Ordered by Priority\n1. [Highest priority enhancement] ‚Äî Owner: [Name]\n...\n\n### Bug Fixes (X total) ‚Äî Ordered by Priority\n1. [Customer-reported / most impactful] ‚Äî Owner: [Name]\n2. [Database-specific fixes] ‚Äî Owner: [Name]\n...\n\nPlease review and let me know if any items should be reordered or excluded.\n```\n\n#### 7.4 Patch Version Validation\n\n**If this is a PATCH version and Notable Changes or Features were found:**\n\n```\n‚ö†Ô∏è ATTENTION: This is a patch version upgrade (X.Y.Z ‚Üí X.Y.Z+1), but I found:\n- [N] Notable Changes\n- [N] Features\n\nPatch versions typically should NOT contain Notable Changes or Features.\nPlease confirm:\n1. Should these be reclassified as Enhancements?\n2. Should this actually be a minor version upgrade?\n3. Are these exceptions that should remain as-is?\n```\n\n### Phase 8: Writing\n\n#### 8.1 Use This Exact Template\n\n**Section Order**: Notable Changes ‚Üí Features ‚Üí Enhancements ‚Üí Bug Fixes\n\n```markdown\n# X.Y.Z - Month Day, Year\n\n## üîî Notable Changes\n\n- **[Major change title]** ‚Äî [Explanation of what changed and impact on users]\n  - [Sub-point if needed]\n  - [Migration guidance if applicable]\n\n## üöÄ Features\n\n1. **[Feature name]** ‚Äî [What it does and benefit to users]\n2. **[Database Name]** ‚Äî [New capability description]\n...\n\n## üéÑ Enhancements\n\n1. **[Enhancement area]** ‚Äî [What improved]\n2. [General improvement with user benefit]\n...\n\n## üêû Bug Fixes\n\n1. **[Database Name]** ‚Äî [What was fixed]\n2. Fix [description of the problem that was fixed]\n...\n\n---\n\n**IMPORTANT:** Before upgrading to this version, please backup the [metadata](https://www.bytebase.com/docs/administration/back-up-restore-metadata/). Bytebase doesn't support in-place downgrade. Also avoid running multiple Bytebase containers sharing the same data directory. Otherwise, it may corrupt the metadata.\n```\n\n#### 8.2 Writing Rules\n\n**Grammar and Style:**\n- **Tense**: Present tense verbs (\"Add\", \"Fix\", \"Improve\", \"Support\")\n- **Voice**: Active voice, subject often implied\n- **Length**: One line per item, keep it short and concise\n- **Tone**: Professional, factual, user-focused\n\n**Content Rules:**\n- **Keep it concise**: Avoid overly detailed descriptions. Don't include implementation reasoning or technical details unless absolutely necessary for user understanding.\n- **Lead with impact**: What changed for users, not how it was implemented\n- **No reasoning**: Don't explain \"why\" a change was made (e.g., avoid \"since labels are Issue properties\"). Just state what changed.\n- **Infrastructure/backend changes**: For changes to internal systems (parsers, advisors, etc.), describe the **user-facing impact** not the technical fix. Example: \"Fix SQL review showing incorrect line numbers\" instead of \"Fix advisor line position calculation in multi-statement parsing\"\n- **Group related changes**: Major features with multiple PRs ‚Üí single entry with sub-bullets\n- **Use database prefixes**: Format as `**Database Name** ‚Äî` for DB-specific features\n- **Include Terraform impact**: When applicable, add (**Terraform**: [details])\n- **Number items**: Use numbered lists for Features/Enhancements/Bug Fixes to show priority\n\n**Examples:**\n\nGood (concise, user-focused):\n```markdown\n- Fix rollout date filter not working\n- Fix SQL review showing incorrect line numbers for multi-statement SQL\n- **SQL Server** ‚Äî Add visualized EXPLAIN support\n```\n\nBad (too detailed or too vague):\n```markdown\n- Fix SQL Editor tab caching preventing stale database query contexts from being loaded (too long)\n- Show issue labels in \"Ready for Review\" popover during Plan creation, making the two-step Plan ‚Üí Issue workflow clearer since labels are Issue properties (includes unnecessary reasoning)\n- Fix advisor line position and refactor statement text architecture (technical implementation detail instead of user impact)\n```\n\n#### 8.3 Review Checklist\n\nBefore finalizing:\n- [ ] Version confirmed with user (minor vs patch)\n- [ ] PR dependency graph built to identify related changes\n- [ ] Fixes for features in this release excluded (not listed separately)\n- [ ] Patch version has no Notable Changes/Features (or confirmed as exception)\n- [ ] All customer-reported issues addressed and listed first in Bug Fixes\n- [ ] Terraform impact documented for all applicable changes\n- [ ] Each item uses present tense\n- [ ] Database-specific items have proper prefix format\n- [ ] No implementation details (unless necessary for understanding)\n- [ ] Breaking changes clearly explained in Notable Changes\n- [ ] Owner identified for each item (for confirmation)\n- [ ] Related changes grouped to save space\n- [ ] Standard warning footer included\n- [ ] User benefit clear for each enhancement\n- [ ] Items ordered by priority within each section\n- [ ] **Owner confirmation table matches release notes 1:1** (every line item has a row with full text)\n\n### Phase 9: Linear Issue & Owner Confirmation\n\n**IMPORTANT**: Before each Linear write operation, you MUST confirm with the user. Never create issues or comments without explicit user approval.\n\n#### 9.1 Create Linear Issue for Release Notes\n\nAfter finalizing the release notes draft, prepare to create a Linear issue to track confirmations.\n\n**Issue Title Format**: `<version>-<date>_release_note`\n- Example: `3.14.0-20260112_release_note`\n\n**Issue Description**: Include the full release notes content and an owner confirmation table.\n\n**‚ö†Ô∏è CONFIRM WITH USER BEFORE CREATING:**\n\nPresent the issue details and ask for confirmation:\n\n```\nI'm ready to create a Linear issue to track the release notes:\n\n**Title:** 3.14.0-20260112_release_note\n**Team:** Bytebase\n**Assignee:** Peter Zhu\n**Priority:** High\n\n**Description:**\n[Show the full release notes content that will be included]\n\nShould I create this Linear issue? (yes/no)\n```\n\nOnly proceed with `mcp__linear__create_issue` after user confirms.\n\n#### 9.2 Subscribe Stakeholders\n\nAfter creating the issue, prepare to subscribe Danny Xu and Tianzhou Chen.\n\n**‚ö†Ô∏è CONFIRM WITH USER BEFORE COMMENTING:**\n\n```\nI'll now add a comment to subscribe stakeholders (Danny and Tianzhou) to the issue.\n\n**Comment preview:**\n\"[danny](https://linear.app/bytebase/profiles/danny) [tianzhou](https://linear.app/bytebase/profiles/tianzhou) FYI - subscribing you to this release note issue for visibility.\"\n\nShould I post this comment? (yes/no)\n```\n\nOnly proceed with `mcp__linear__create_comment` after user confirms.\n\n#### 9.3 Build Owner Confirmation Table (CRITICAL)\n\n**IMPORTANT**: The owner confirmation table MUST exactly match every line item in the release notes.\n\n**Requirements:**\n1. **One row per release note line item** - Every numbered item in Features, Enhancements, Bug Fixes gets a row\n2. **Include full item text** - Use the exact text from the release notes, not abbreviated labels\n3. **Use section numbers** - Reference items as \"Features #1\", \"Bug Fixes #12\", etc.\n4. **Match 1:1** - The confirmation table is the source of truth for Linear comments\n\n**Table Format:**\n```markdown\n## Owner Confirmation Status\n| Section | # | Item | Owner(s) | Confirmed |\n|---------|---|------|----------|-----------|\n| Notable | 1 | **CI/CD workflow redesigned** ‚Äî Following industry practices... | Steven Li, Danny Xu | [ ] |\n| Notable | 2 | **Plan title required** ‚Äî Users must provide a meaningful title... | Danny Xu | [ ] |\n| Features | 1 | **High Availability (HA)** ‚Äî Run multiple Bytebase instances... | Xzavier Zane, Danny Xu | [ ] |\n| Features | 2 | **Skip approval for specific rules** ‚Äî Add 'no approval required'... | Xzavier Zane | [ ] |\n...\n| Bug Fixes | 1 | **PostgreSQL** ‚Äî Fix SDL rollout failures with cyclic FK... | Adrian Lam | [ ] |\n| Bug Fixes | 2 | **Oracle** ‚Äî Fix schema sync generating DROP+CREATE... | Adrian Lam | [ ] |\n...\n```\n\n**Why this matters:**\n- Linear comments are generated FROM this table\n- If the table doesn't match the release notes, owners confirm wrong items\n- The table serves as the checklist for owner sign-off\n\n#### 9.4 Create Confirmation Comments with @mentions\n\n**IMPORTANT**: Create separate comments for each owner, grouping their items together. Comments MUST use the exact text from the owner confirmation table.\n\n**Git-to-Linear User Mapping**:\n| Git Author | Linear Name | Linear displayName |\n|------------|-------------|-------------------|\n| boojack | Steven Li | steven |\n| ecmadao | Edward Lu | ed |\n| h3n4l | Adrian Lam | h3n4l |\n| Danny Xu | Danny Xu | danny |\n| p0ny | Xzavier Zane | p0ny |\n| rebelice | Jonathan Yablonski | junyi |\n| Vincent Huang | Vincent Huang | vh |\n| zchpeter | Peter Zhu | pz |\n\n**Mention Format**: To properly @mention users in Linear comments, use a markdown link to their profile:\n\n```markdown\n[displayName](https://linear.app/bytebase/profiles/displayName)\n```\n\n**Comment Format** - Include section and item number:\n```markdown\n[owner](https://linear.app/bytebase/profiles/owner) Please confirm the following items are accurate:\n\n**Notable Changes:**\n- [ ] #1 **CI/CD workflow redesigned** ‚Äî Following industry practices (GitHub, GitLab, Argo CD), the database change workflow is now separated into distinct CI (review) and CD (deployment) phases (with Danny Xu)\n\n**Features:**\n- [ ] #10 **Release info in UI** ‚Äî Display release information in task items and rollout views\n\n**Bug Fixes:**\n- [ ] #10 **Grant request panel** ‚Äî Fix showing empty user selector and disabled submit button\n- [ ] #11 **Issue preset buttons** ‚Äî Fix not working on first click\n```\n\n**‚ö†Ô∏è CONFIRM WITH USER BEFORE POSTING COMMENTS:**\n\nPresent ALL owner comments at once for batch approval:\n\n```\nI'll now add confirmation comments for each owner. Here are the comments I'll post:\n\n**Comment 1 - For Steven Li (@steven):**\n[steven](https://linear.app/bytebase/profiles/steven) Please confirm the following items are accurate:\n\n**Notable Changes:**\n- [ ] #1 **CI/CD workflow redesigned** ‚Äî Following industry practices...\n\n**Bug Fixes:**\n- [ ] #10 **Grant request panel** ‚Äî Fix showing empty user selector...\n\n---\n\n**Comment 2 - For Edward Lu (@ed):**\n...\n\nShould I post these [N] owner confirmation comments? (yes/no/edit)\n```\n\nOnly proceed with `mcp__linear__create_comment` for each owner after user confirms.\n\n#### 9.5 Add Final Confirmation Comments\n\nAfter adding owner-specific confirmation comments, prepare the final approval comments.\n\n**‚ö†Ô∏è CONFIRM WITH USER BEFORE POSTING:**\n\n```\nFinally, I'll add comments requesting overall release note approval:\n\n**Comment for Adela Chen (@adela):**\n[adela](https://linear.app/bytebase/profiles/adela) Please review and confirm the overall release notes are ready for publication.\n\n**Comment for Peter Zhu (@pz):**\n[pz](https://linear.app/bytebase/profiles/pz) Please review and confirm the overall release notes are ready for publication.\n\nShould I post these final approval comments? (yes/no)\n```\n\nOnly proceed with `mcp__linear__create_comment` after user confirms.\n\n### Phase 10: Write Draft to File\n\n#### 10.1 Create Release Notes Draft File\n\n**IMPORTANT**: Always write the release notes draft to a file for reference and iteration.\n\nCreate the draft file at:\n```\ndocs/release-notes/draft-X.Y.Z.md\n```\n\nThe file should contain:\n1. The full release notes draft (formatted for GitHub release)\n2. A metadata section at the bottom with:\n   - Version type (minor/patch)\n   - Previous version\n   - Date generated\n   - PR dependency graph\n   - Terraform impact table\n   - Owner confirmation status\n\n**Example file structure:**\n```markdown\n# X.Y.Z - Month Day, Year\n\n## üîî Notable Changes\n...\n\n## üöÄ Features\n...\n\n## üéÑ Enhancements\n...\n\n## üêû Bug Fixes\n...\n\n---\n\n**IMPORTANT:** Before upgrading...\n\n---\n<!-- DRAFT METADATA (remove before publishing) -->\n<!--\nVersion: X.Y.Z\nPrevious Version: X.Y.W\nVersion Type: Minor/Patch\nGenerated: YYYY-MM-DD\nStatus: Draft\n\n## Core Architectural Change\n[Describe the root cause PR that drives other changes]\n\n## PR Dependency Graph\n[Show DAG of related PRs]\n\n## Terraform Impact\n| Change | Field | Impact |\n|--------|-------|--------|\n...\n\n## Owner Confirmation Status\n| Section | # | Item | Owner(s) | Confirmed |\n|---------|---|------|----------|-----------|\n| Notable | 1 | **CI/CD workflow redesigned** ‚Äî Full description from release notes... | Steven Li, Danny Xu | [ ] |\n| Features | 1 | **High Availability (HA)** ‚Äî Full description from release notes... | Xzavier Zane, Danny Xu | [ ] |\n| Bug Fixes | 1 | **PostgreSQL** ‚Äî Fix SDL rollout failures... | Adrian Lam | [ ] |\n...\n-->\n```\n\n#### 10.2 Update Draft on Each Iteration\n\nWhen user provides feedback:\n1. Update the draft file in place\n2. Keep a revision history in git (user can see changes via git diff)\n3. Update the confirmation status as owners confirm\n\n### Phase 11: Iteration\n\nIf user requests changes:\n1. Ask for specific feedback on what needs adjustment\n2. Adjust prioritization or wording based on feedback\n3. Ensure customer complaints remain prioritized\n4. Re-verify Terraform impact if changes affect API/resources\n5. Update the draft file in `docs/release-notes/draft-X.Y.Z.md`\n6. Maintain format consistency\n\n## Quick Command Reference\n\n```bash\n# Find versions\ngit tag --list \"*3.12*\" | sort -V\ngit branch -a | grep release/3.12\n\n# Get commits\ngit log 3.12.1..origin/release/3.12.2 --oneline --decorate\n\n# Get PR details (CRITICAL - don't rely only on commit messages)\ngh pr view <number> --json title,body,labels\n\n# Analyze commits with author (run in parallel)\ngit show --stat --format='Author: %an <%ae>' <hash1>\ngit show --stat --format='Author: %an <%ae>' <hash2>\n\n# Check Terraform impact - proto changes\ngit diff <prev-version>..origin/release/<new-version> -- \"proto/v1/*.proto\" | head -100\n\n# Find owner by file changes\ngit log 3.12.1..origin/release/3.12.2 --format='%an' -- backend/api/ | sort | uniq -c | sort -rn\n\n# Research format\n# Use WebFetch: https://github.com/bytebase/bytebase/releases/tag/3.12.1\n```\n\n## Common Scenarios\n\n### Scenario 1: Large Architectural Change with Many PRs\n\n**Situation**: One Linear issue (e.g., BYT-8521 \"Separate CI and CD\") spawns 50+ PRs\n\n**Action**:\n1. Identify the root cause PR (e.g., #18610 \"separate rollout creation from issue creation\")\n2. Build dependency graph to understand what follows from it\n3. Write ONE Notable Change entry describing the architectural shift\n4. List user-facing implications as sub-bullets\n5. Exclude all follow-up fixes/polish PRs from separate listing\n\n**Example output:**\n```markdown\n## üîî Notable Changes\n\n- **CI/CD workflow redesigned** ‚Äî The database change workflow is now separated into distinct CI (review) and CD (deployment) phases:\n  - **Unified Plan/Issue page** ‚Äî Plan and Issue shown on single page\n  - **Explicit rollout creation** ‚Äî Rollout created separately after approval\n  - **Webhook events changed** ‚Äî New events: ISSUE_CREATED, PIPELINE_FAILED, etc.\n  - **Issue API simplified** ‚Äî rollout, releasers fields removed\n```\n\n### Scenario 2: Fix for Feature in Same Release\n\n**Situation**: PR #18861 \"fix: redirect to new UI\" fixes PR #18704 \"unified page\" (both in this release)\n\n**Action**:\n1. Don't list #18861 as a separate bug fix\n2. It's part of the #18704 feature\n3. Only list #18704 in Features section\n\n### Scenario 3: API Change Affecting Terraform\n\n**Situation**: Proto file removes `rollout` field from Issue message\n\n**Action**:\n1. Categorize as Notable Changes\n2. Add Terraform impact note\n3. Include in Terraform impact table in metadata\n\n### Scenario 4: Customer Complaints Mentioned\n\n**Input**: \"Customers complained about selector only showing 10 items\"\n\n**Action**:\n1. Search Linear for related issues (BYT-8525)\n2. Find the PR that fixes it (#18538)\n3. Prioritize this in the Enhancements section\n4. Reference the Linear issue in metadata\n\n## Tool Usage Best Practices\n\n1. **TodoWrite**: Create task list at start, update after each batch\n2. **Bash (parallel)**: Run multiple `git show --stat` and `gh pr view` commands simultaneously\n3. **gh pr view**: **ALWAYS** fetch PR details, not just commit messages\n4. **Linear MCP (get_issue)**: Fetch parent issues to understand feature context\n5. **WebFetch**: Fetch previous release notes to learn format\n6. **Linear MCP (read)**: Search for customer-reported issues (no confirmation needed)\n7. **Linear MCP (write)**: **ALWAYS confirm with user** before creating issues or comments\n\n## Success Criteria\n\nA good release note:\n- Has confirmed version (minor vs patch) with appropriate sections\n- **Builds PR dependency graph** to identify related changes\n- **Excludes internal follow-ups** (fixes for features in this release)\n- Addresses all customer-reported issues prominently\n- Documents Terraform impact for all applicable changes\n- Follows the established format exactly (Notable ‚Üí Features ‚Üí Enhancements ‚Üí Bug Fixes)\n- **Includes ALL Notable Changes** (no limit) since they affect existing customers\n- Uses consistent present tense\n- **Concise and user-focused**: No implementation details, no reasoning\n- **Orders items by priority** within each section\n- **Infrastructure changes describe user impact**: e.g., \"Fix SQL review showing incorrect line numbers\"\n- **Consolidates related PRs**: Multiple PRs for same feature become one release note item\n- Includes owner for each item (multiple owners if consolidated)\n- Groups related changes effectively\n- Maintains professional, concise tone\n- **Draft saved to `docs/release-notes/draft-X.Y.Z.md`** with full metadata\n- **Owner confirmation table matches release notes 1:1** - every line item has a row with section number, full text, and owner\n- **Linear issue created** with title `<version>-<date>_release_note` (after user confirmation)\n- **Confirmation comments use exact text from table** - include section + item number (e.g., \"Features #1\", \"Bug Fixes #12\")\n- **All Linear write operations confirmed by user** before execution"
              }
            ]
          }
        ]
      }
    }
  ]
}