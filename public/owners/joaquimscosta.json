{
  "owner": {
    "id": "joaquimscosta",
    "display_name": "Joaquim Costa",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/1123928?u=c16df2e7fbc39631c1f9b3dc39645d18f0011d90&v=4",
    "url": "https://github.com/joaquimscosta",
    "bio": "Software Engineer passionate about cloud-native technologies. Building secure, resilient applications with Java, Kotlin, Spring Boot, and Azure.",
    "stats": {
      "total_repos": 1,
      "total_plugins": 11,
      "total_commands": 32,
      "total_skills": 21,
      "total_stars": 3,
      "total_forks": 0
    }
  },
  "repos": [
    {
      "full_name": "joaquimscosta/arkhe-claude-plugins",
      "url": "https://github.com/joaquimscosta/arkhe-claude-plugins",
      "description": null,
      "homepage": null,
      "signals": {
        "stars": 3,
        "forks": 0,
        "pushed_at": "2026-01-12T16:47:59Z",
        "created_at": "2025-10-24T15:27:58Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 2133
        },
        {
          "path": ".claude",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/skill-creator",
          "type": "blob",
          "size": 82
        },
        {
          "path": ".claude/skills/skill-validator",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/skill-validator/EXAMPLES.md",
          "type": "blob",
          "size": 6880
        },
        {
          "path": ".claude/skills/skill-validator/SKILL.md",
          "type": "blob",
          "size": 2482
        },
        {
          "path": ".claude/skills/skill-validator/TROUBLESHOOTING.md",
          "type": "blob",
          "size": 3754
        },
        {
          "path": ".claude/skills/skill-validator/references",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/skill-validator/references/RULES_REFERENCE.md",
          "type": "blob",
          "size": 6655
        },
        {
          "path": ".claude/skills/skill-validator/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/skill-validator/scripts/validate_skill.py",
          "type": "blob",
          "size": 36145
        },
        {
          "path": ".gitignore",
          "type": "blob",
          "size": 591
        },
        {
          "path": "AGENTS.md",
          "type": "blob",
          "size": 9
        },
        {
          "path": "CHANGELOG.md",
          "type": "blob",
          "size": 18784
        },
        {
          "path": "CLAUDE.md",
          "type": "blob",
          "size": 19873
        },
        {
          "path": "CONTRIBUTING.md",
          "type": "blob",
          "size": 7128
        },
        {
          "path": "INSTALLATION.md",
          "type": "blob",
          "size": 12356
        },
        {
          "path": "LICENSE",
          "type": "blob",
          "size": 1070
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 7004
        },
        {
          "path": "TROUBLESHOOTING.md",
          "type": "blob",
          "size": 5707
        },
        {
          "path": "assets",
          "type": "tree",
          "size": null
        },
        {
          "path": "assets/banner.jpg",
          "type": "blob",
          "size": 787109
        },
        {
          "path": "docs",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/AGENT_SKILLS_OVERVIEW.md",
          "type": "blob",
          "size": 17911
        },
        {
          "path": "docs/CLAUDE_4_BEST_PRACTICES.md",
          "type": "blob",
          "size": 27344
        },
        {
          "path": "docs/COMMANDS.md",
          "type": "blob",
          "size": 26222
        },
        {
          "path": "docs/HOOKS.md",
          "type": "blob",
          "size": 9765
        },
        {
          "path": "docs/PLUGINS.md",
          "type": "blob",
          "size": 16908
        },
        {
          "path": "docs/README.md",
          "type": "blob",
          "size": 20776
        },
        {
          "path": "docs/SETTINGS.md",
          "type": "blob",
          "size": 75324
        },
        {
          "path": "docs/SKILLS.md",
          "type": "blob",
          "size": 28066
        },
        {
          "path": "docs/SKILL_DEVELOPMENT_BEST_PRACTICES.md",
          "type": "blob",
          "size": 27449
        },
        {
          "path": "docs/SUBAGENTS.md",
          "type": "blob",
          "size": 32592
        },
        {
          "path": "docs/research",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/research/domain-driven-design.md",
          "type": "blob",
          "size": 26844
        },
        {
          "path": "docs/research/spring-boot",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/research/spring-boot/ddd-implementation.md",
          "type": "blob",
          "size": 26311
        },
        {
          "path": "docs/research/spring-boot/ecosystem-research.md",
          "type": "blob",
          "size": 35979
        },
        {
          "path": "docs/research/spring-boot/security-observability-testing.md",
          "type": "blob",
          "size": 31062
        },
        {
          "path": "docs/update-claude-docs.sh",
          "type": "blob",
          "size": 7998
        },
        {
          "path": "plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/ai",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/ai/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/ai/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 123
        },
        {
          "path": "plugins/ai/README.md",
          "type": "blob",
          "size": 2844
        },
        {
          "path": "plugins/ai/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/ai/agents/ai-engineer.md",
          "type": "blob",
          "size": 8032
        },
        {
          "path": "plugins/ai/agents/context-manager.md",
          "type": "blob",
          "size": 7850
        },
        {
          "path": "plugins/ai/agents/prompt-engineer.md",
          "type": "blob",
          "size": 10974
        },
        {
          "path": "plugins/ai/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/ai/commands/improve-agent.md",
          "type": "blob",
          "size": 9164
        },
        {
          "path": "plugins/ai/commands/lyra.md",
          "type": "blob",
          "size": 3420
        },
        {
          "path": "plugins/ai/commands/multi-agent-optimize.md",
          "type": "blob",
          "size": 5759
        },
        {
          "path": "plugins/core",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 171
        },
        {
          "path": "plugins/core/README.md",
          "type": "blob",
          "size": 3501
        },
        {
          "path": "plugins/core/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/agents/code-architect.md",
          "type": "blob",
          "size": 2259
        },
        {
          "path": "plugins/core/agents/code-explorer.md",
          "type": "blob",
          "size": 2115
        },
        {
          "path": "plugins/core/agents/code-reviewer.md",
          "type": "blob",
          "size": 2994
        },
        {
          "path": "plugins/core/agents/deep-think-partner.md",
          "type": "blob",
          "size": 3231
        },
        {
          "path": "plugins/core/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/commands/debug.md",
          "type": "blob",
          "size": 1051
        },
        {
          "path": "plugins/core/commands/discuss.md",
          "type": "blob",
          "size": 1957
        },
        {
          "path": "plugins/core/commands/double-check.md",
          "type": "blob",
          "size": 3451
        },
        {
          "path": "plugins/core/commands/feature.md",
          "type": "blob",
          "size": 4642
        },
        {
          "path": "plugins/core/commands/think.md",
          "type": "blob",
          "size": 1463
        },
        {
          "path": "plugins/core/commands/workflow.md",
          "type": "blob",
          "size": 16080
        },
        {
          "path": "plugins/core/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/skills/workflow-orchestration",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/core/skills/workflow-orchestration/EXAMPLES.md",
          "type": "blob",
          "size": 6331
        },
        {
          "path": "plugins/core/skills/workflow-orchestration/SKILL.md",
          "type": "blob",
          "size": 3727
        },
        {
          "path": "plugins/core/skills/workflow-orchestration/TROUBLESHOOTING.md",
          "type": "blob",
          "size": 5715
        },
        {
          "path": "plugins/core/skills/workflow-orchestration/WORKFLOW.md",
          "type": "blob",
          "size": 6763
        },
        {
          "path": "plugins/design-intent",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/design-intent/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/design-intent/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 251
        },
        {
          "path": "plugins/design-intent/README.md",
          "type": "blob",
          "size": 16755
        },
        {
          "path": "plugins/design-intent/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/design-intent/agents/design-reviewer.md",
          "type": "blob",
          "size": 7340
        },
        {
          "path": "plugins/design-intent/agents/ui-architect.md",
          "type": "blob",
          "size": 3582
        },
        {
          "path": "plugins/design-intent/agents/ui-explorer.md",
          "type": "blob",
          "size": 2925
        },
        {
          "path": "plugins/design-intent/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/design-intent/commands/design-intent.md",
          "type": "blob",
          "size": 10435
        },
        {
          "path": "plugins/design-intent/commands/diary.md",
          "type": "blob",
          "size": 4643
        },
        {
          "path": "plugins/design-intent/commands/feature.md",
          "type": "blob",
          "size": 2185
        },
        {
          "path": "plugins/design-intent/commands/implement.md",
          "type": "blob",
          "size": 11488
        },
        {
          "path": "plugins/design-intent/commands/plan.md",
          "type": "blob",
          "size": 2367
        },
        {
          "path": "plugins/design-intent/commands/save-patterns.md",
          "type": "blob",
          "size": 4195
        },
        {
          "path": "plugins/design-intent/commands/setup.md",
          "type": "blob",
          "size": 6879
        },
        {
          "path": "plugins/design-intent/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/design-intent/skills/design-intent-specialist",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/design-intent/skills/design-intent-specialist/EXAMPLES.md",
          "type": "blob",
          "size": 8465
        },
        {
          "path": "plugins/design-intent/skills/design-intent-specialist/SKILL.md",
          "type": "blob",
          "size": 3498
        },
        {
          "path": "plugins/design-intent/skills/design-intent-specialist/TROUBLESHOOTING.md",
          "type": "blob",
          "size": 7037
        },
        {
          "path": "plugins/design-intent/skills/design-intent-specialist/WORKFLOW.md",
          "type": "blob",
          "size": 7330
        },
        {
          "path": "plugins/design-intent/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/design-intent/templates/diary",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/design-intent/templates/diary/session-template.md",
          "type": "blob",
          "size": 1547
        },
        {
          "path": "plugins/design-intent/templates/memory",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/design-intent/templates/memory/constitution.md",
          "type": "blob",
          "size": 14358
        },
        {
          "path": "plugins/design-intent/templates/memory/project-vision.md",
          "type": "blob",
          "size": 1502
        },
        {
          "path": "plugins/design-intent/templates/memory/team-roles.md",
          "type": "blob",
          "size": 3436
        },
        {
          "path": "plugins/design-intent/templates/patterns",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/design-intent/templates/patterns/design-intent-template.md",
          "type": "blob",
          "size": 1180
        },
        {
          "path": "plugins/design-intent/templates/specs",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/design-intent/templates/specs/000-template",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/design-intent/templates/specs/000-template/feature-spec.md",
          "type": "blob",
          "size": 2647
        },
        {
          "path": "plugins/design-intent/templates/specs/000-template/implementation-plan.md",
          "type": "blob",
          "size": 2088
        },
        {
          "path": "plugins/doc",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/doc/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/doc/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 173
        },
        {
          "path": "plugins/doc/README.md",
          "type": "blob",
          "size": 5487
        },
        {
          "path": "plugins/doc/REFACTORING_PLAN.md",
          "type": "blob",
          "size": 8089
        },
        {
          "path": "plugins/doc/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/doc/agents/docs-architect.md",
          "type": "blob",
          "size": 3666
        },
        {
          "path": "plugins/doc/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/doc/commands/code-explain.md",
          "type": "blob",
          "size": 1849
        },
        {
          "path": "plugins/doc/commands/diagram.md",
          "type": "blob",
          "size": 3398
        },
        {
          "path": "plugins/doc/commands/doc-generate.md",
          "type": "blob",
          "size": 2069
        },
        {
          "path": "plugins/doc/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/doc/skills/adr",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/doc/skills/adr/EXAMPLES.md",
          "type": "blob",
          "size": 12803
        },
        {
          "path": "plugins/doc/skills/adr/SKILL.md",
          "type": "blob",
          "size": 4396
        },
        {
          "path": "plugins/doc/skills/adr/TROUBLESHOOTING.md",
          "type": "blob",
          "size": 5860
        },
        {
          "path": "plugins/doc/skills/adr/WORKFLOW.md",
          "type": "blob",
          "size": 8757
        },
        {
          "path": "plugins/doc/skills/adr/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/doc/skills/adr/scripts/adr_create.py",
          "type": "blob",
          "size": 7157
        },
        {
          "path": "plugins/doc/skills/adr/scripts/adr_index.py",
          "type": "blob",
          "size": 4890
        },
        {
          "path": "plugins/doc/skills/adr/scripts/adr_supersede.py",
          "type": "blob",
          "size": 4886
        },
        {
          "path": "plugins/doc/skills/code-explanation",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/doc/skills/code-explanation/EXAMPLES.md",
          "type": "blob",
          "size": 10789
        },
        {
          "path": "plugins/doc/skills/code-explanation/SKILL.md",
          "type": "blob",
          "size": 3149
        },
        {
          "path": "plugins/doc/skills/code-explanation/WORKFLOW.md",
          "type": "blob",
          "size": 7188
        },
        {
          "path": "plugins/doc/skills/diagramming",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/doc/skills/diagramming/EXAMPLES.md",
          "type": "blob",
          "size": 13003
        },
        {
          "path": "plugins/doc/skills/diagramming/SKILL.md",
          "type": "blob",
          "size": 3992
        },
        {
          "path": "plugins/doc/skills/diagramming/TROUBLESHOOTING.md",
          "type": "blob",
          "size": 11802
        },
        {
          "path": "plugins/doc/skills/diagramming/WORKFLOW.md",
          "type": "blob",
          "size": 14006
        },
        {
          "path": "plugins/doc/skills/documentation-generation",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/doc/skills/documentation-generation/EXAMPLES.md",
          "type": "blob",
          "size": 13660
        },
        {
          "path": "plugins/doc/skills/documentation-generation/SKILL.md",
          "type": "blob",
          "size": 3335
        },
        {
          "path": "plugins/doc/skills/documentation-generation/WORKFLOW.md",
          "type": "blob",
          "size": 6716
        },
        {
          "path": "plugins/git",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/git/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/git/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 160
        },
        {
          "path": "plugins/git/ARCHITECTURE.md",
          "type": "blob",
          "size": 6626
        },
        {
          "path": "plugins/git/README.md",
          "type": "blob",
          "size": 15012
        },
        {
          "path": "plugins/git/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/git/commands/changelog.md",
          "type": "blob",
          "size": 1448
        },
        {
          "path": "plugins/git/commands/commit.md",
          "type": "blob",
          "size": 1438
        },
        {
          "path": "plugins/git/commands/create-branch.md",
          "type": "blob",
          "size": 1001
        },
        {
          "path": "plugins/git/commands/create-pr.md",
          "type": "blob",
          "size": 1533
        },
        {
          "path": "plugins/git/commands/pr-issue-resolve.md",
          "type": "blob",
          "size": 2812
        },
        {
          "path": "plugins/git/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/git/skills/creating-branch",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/git/skills/creating-branch/EXAMPLES.md",
          "type": "blob",
          "size": 13658
        },
        {
          "path": "plugins/git/skills/creating-branch/SKILL.md",
          "type": "blob",
          "size": 11462
        },
        {
          "path": "plugins/git/skills/creating-branch/TROUBLESHOOTING.md",
          "type": "blob",
          "size": 13360
        },
        {
          "path": "plugins/git/skills/creating-branch/WORKFLOW.md",
          "type": "blob",
          "size": 9585
        },
        {
          "path": "plugins/git/skills/creating-commit",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/git/skills/creating-commit/EXAMPLES.md",
          "type": "blob",
          "size": 9621
        },
        {
          "path": "plugins/git/skills/creating-commit/SKILL.md",
          "type": "blob",
          "size": 13527
        },
        {
          "path": "plugins/git/skills/creating-commit/TROUBLESHOOTING.md",
          "type": "blob",
          "size": 9872
        },
        {
          "path": "plugins/git/skills/creating-commit/WORKFLOW.md",
          "type": "blob",
          "size": 14084
        },
        {
          "path": "plugins/git/skills/creating-pr",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/git/skills/creating-pr/EXAMPLES.md",
          "type": "blob",
          "size": 10271
        },
        {
          "path": "plugins/git/skills/creating-pr/SKILL.md",
          "type": "blob",
          "size": 13368
        },
        {
          "path": "plugins/git/skills/creating-pr/TROUBLESHOOTING.md",
          "type": "blob",
          "size": 10444
        },
        {
          "path": "plugins/git/skills/creating-pr/WORKFLOW.md",
          "type": "blob",
          "size": 13853
        },
        {
          "path": "plugins/git/skills/generating-changelog",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/git/skills/generating-changelog/EXAMPLES.md",
          "type": "blob",
          "size": 10605
        },
        {
          "path": "plugins/git/skills/generating-changelog/SKILL.md",
          "type": "blob",
          "size": 7090
        },
        {
          "path": "plugins/git/skills/generating-changelog/TROUBLESHOOTING.md",
          "type": "blob",
          "size": 9851
        },
        {
          "path": "plugins/git/skills/generating-changelog/WORKFLOW.md",
          "type": "blob",
          "size": 11197
        },
        {
          "path": "plugins/google-stitch",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/google-stitch/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/google-stitch/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 192
        },
        {
          "path": "plugins/google-stitch/README.md",
          "type": "blob",
          "size": 4954
        },
        {
          "path": "plugins/google-stitch/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/google-stitch/commands/prompt.md",
          "type": "blob",
          "size": 5482
        },
        {
          "path": "plugins/google-stitch/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/google-stitch/skills/authoring-stitch-prompts",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/google-stitch/skills/authoring-stitch-prompts/EXAMPLES.md",
          "type": "blob",
          "size": 40236
        },
        {
          "path": "plugins/google-stitch/skills/authoring-stitch-prompts/REFERENCE.md",
          "type": "blob",
          "size": 13299
        },
        {
          "path": "plugins/google-stitch/skills/authoring-stitch-prompts/SKILL.md",
          "type": "blob",
          "size": 13780
        },
        {
          "path": "plugins/google-stitch/skills/authoring-stitch-prompts/TROUBLESHOOTING.md",
          "type": "blob",
          "size": 11487
        },
        {
          "path": "plugins/google-stitch/skills/authoring-stitch-prompts/WORKFLOW.md",
          "type": "blob",
          "size": 28225
        },
        {
          "path": "plugins/google-stitch/skills/authoring-stitch-prompts/evaluation.json",
          "type": "blob",
          "size": 6652
        },
        {
          "path": "plugins/google-stitch/skills/authoring-stitch-prompts/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/google-stitch/skills/authoring-stitch-prompts/templates/authoring-stitch-prompts-template.md",
          "type": "blob",
          "size": 4251
        },
        {
          "path": "plugins/google-stitch/skills/authoring-stitch-prompts/templates/layout-prompt-template.md",
          "type": "blob",
          "size": 6929
        },
        {
          "path": "plugins/google-stitch/skills/extracting-stitch-mockups",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/google-stitch/skills/extracting-stitch-mockups/EXAMPLES.md",
          "type": "blob",
          "size": 5574
        },
        {
          "path": "plugins/google-stitch/skills/extracting-stitch-mockups/SKILL.md",
          "type": "blob",
          "size": 3735
        },
        {
          "path": "plugins/google-stitch/skills/extracting-stitch-mockups/TROUBLESHOOTING.md",
          "type": "blob",
          "size": 6126
        },
        {
          "path": "plugins/google-stitch/skills/extracting-stitch-mockups/WORKFLOW.md",
          "type": "blob",
          "size": 5457
        },
        {
          "path": "plugins/google-stitch/skills/extracting-stitch-mockups/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/google-stitch/skills/extracting-stitch-mockups/scripts/extract_images.py",
          "type": "blob",
          "size": 9968
        },
        {
          "path": "plugins/lang",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/lang/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/lang/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 172
        },
        {
          "path": "plugins/lang/README.md",
          "type": "blob",
          "size": 3983
        },
        {
          "path": "plugins/lang/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/lang/skills/bash",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/lang/skills/bash/EXAMPLES.md",
          "type": "blob",
          "size": 11470
        },
        {
          "path": "plugins/lang/skills/bash/SKILL.md",
          "type": "blob",
          "size": 7850
        },
        {
          "path": "plugins/lang/skills/bash/TROUBLESHOOTING.md",
          "type": "blob",
          "size": 10747
        },
        {
          "path": "plugins/lang/skills/bash/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/lang/skills/bash/references/CICD.md",
          "type": "blob",
          "size": 12905
        },
        {
          "path": "plugins/lang/skills/bash/references/MODERN_BASH.md",
          "type": "blob",
          "size": 9374
        },
        {
          "path": "plugins/lang/skills/bash/references/SECURITY.md",
          "type": "blob",
          "size": 12526
        },
        {
          "path": "plugins/lang/skills/bash/references/TESTING.md",
          "type": "blob",
          "size": 10629
        },
        {
          "path": "plugins/review",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/review/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/review/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 152
        },
        {
          "path": "plugins/review/README.md",
          "type": "blob",
          "size": 7596
        },
        {
          "path": "plugins/review/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/review/agents/design-review.md",
          "type": "blob",
          "size": 6005
        },
        {
          "path": "plugins/review/agents/pragmatic-code-review.md",
          "type": "blob",
          "size": 7236
        },
        {
          "path": "plugins/review/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/review/commands/code.md",
          "type": "blob",
          "size": 3390
        },
        {
          "path": "plugins/review/commands/codebase.md",
          "type": "blob",
          "size": 6674
        },
        {
          "path": "plugins/review/commands/design.md",
          "type": "blob",
          "size": 3449
        },
        {
          "path": "plugins/review/commands/security.md",
          "type": "blob",
          "size": 12326
        },
        {
          "path": "plugins/specprep",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/specprep/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/specprep/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 166
        },
        {
          "path": "plugins/specprep/README.md",
          "type": "blob",
          "size": 12445
        },
        {
          "path": "plugins/specprep/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/specprep/commands/specify.md",
          "type": "blob",
          "size": 12132
        },
        {
          "path": "plugins/specprep/docs",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/specprep/docs/README.md",
          "type": "blob",
          "size": 3575
        },
        {
          "path": "plugins/specprep/docs/quickstart.md",
          "type": "blob",
          "size": 5618
        },
        {
          "path": "plugins/specprep/docs/spec-driven.md",
          "type": "blob",
          "size": 25311
        },
        {
          "path": "plugins/spring-boot",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/spring-boot/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/spring-boot/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 201
        },
        {
          "path": "plugins/spring-boot/README.md",
          "type": "blob",
          "size": 10071
        },
        {
          "path": "plugins/spring-boot/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/spring-boot/agents/spring-boot-reviewer.md",
          "type": "blob",
          "size": 9779
        },
        {
          "path": "plugins/spring-boot/agents/spring-boot-upgrade-verifier.md",
          "type": "blob",
          "size": 11385
        },
        {
          "path": "plugins/spring-boot/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/spring-boot/commands/spring-review.md",
          "type": "blob",
          "size": 1312
        },
        {
          "path": "plugins/spring-boot/commands/verify-upgrade.md",
          "type": "blob",
          "size": 1826
        },
        {
          "path": "plugins/spring-boot/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/spring-boot/skills/domain-driven-design",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/spring-boot/skills/domain-driven-design/SKILL.md",
          "type": "blob",
          "size": 4621
        },
        {
          "path": "plugins/spring-boot/skills/domain-driven-design/TROUBLESHOOTING.md",
          "type": "blob",
          "size": 8752
        },
        {
          "path": "plugins/spring-boot/skills/domain-driven-design/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/spring-boot/skills/domain-driven-design/references/anti-patterns.md",
          "type": "blob",
          "size": 8997
        },
        {
          "path": "plugins/spring-boot/skills/domain-driven-design/references/architecture-alignment.md",
          "type": "blob",
          "size": 9383
        },
        {
          "path": "plugins/spring-boot/skills/domain-driven-design/references/strategic-patterns.md",
          "type": "blob",
          "size": 7073
        },
        {
          "path": "plugins/spring-boot/skills/domain-driven-design/references/tactical-patterns.md",
          "type": "blob",
          "size": 10066
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-data-ddd",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-data-ddd/EXAMPLES.md",
          "type": "blob",
          "size": 6408
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-data-ddd/SKILL.md",
          "type": "blob",
          "size": 3641
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-data-ddd/TROUBLESHOOTING.md",
          "type": "blob",
          "size": 6593
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-data-ddd/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-data-ddd/references/aggregates.md",
          "type": "blob",
          "size": 11030
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-data-ddd/references/repositories.md",
          "type": "blob",
          "size": 10016
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-data-ddd/references/transactions.md",
          "type": "blob",
          "size": 9984
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-modulith",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-modulith/EXAMPLES.md",
          "type": "blob",
          "size": 5086
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-modulith/SKILL.md",
          "type": "blob",
          "size": 3778
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-modulith/TROUBLESHOOTING.md",
          "type": "blob",
          "size": 5769
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-modulith/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-modulith/references/events.md",
          "type": "blob",
          "size": 10601
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-modulith/references/module-structure.md",
          "type": "blob",
          "size": 7008
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-observability",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-observability/EXAMPLES.md",
          "type": "blob",
          "size": 6456
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-observability/SKILL.md",
          "type": "blob",
          "size": 3380
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-observability/TROUBLESHOOTING.md",
          "type": "blob",
          "size": 5970
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-observability/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-observability/references/actuator.md",
          "type": "blob",
          "size": 9765
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-observability/references/metrics.md",
          "type": "blob",
          "size": 10747
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-observability/references/tracing.md",
          "type": "blob",
          "size": 11543
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-security",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-security/EXAMPLES.md",
          "type": "blob",
          "size": 5710
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-security/SKILL.md",
          "type": "blob",
          "size": 3503
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-security/TROUBLESHOOTING.md",
          "type": "blob",
          "size": 6198
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-security/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-security/references/authentication.md",
          "type": "blob",
          "size": 11414
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-security/references/jwt-oauth2.md",
          "type": "blob",
          "size": 14103
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-security/references/security-config.md",
          "type": "blob",
          "size": 11659
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-testing",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-testing/EXAMPLES.md",
          "type": "blob",
          "size": 5610
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-testing/SKILL.md",
          "type": "blob",
          "size": 3700
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-testing/TROUBLESHOOTING.md",
          "type": "blob",
          "size": 6082
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-testing/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-testing/references/modulith-testing.md",
          "type": "blob",
          "size": 11886
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-testing/references/security-testing.md",
          "type": "blob",
          "size": 11707
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-testing/references/slice-tests.md",
          "type": "blob",
          "size": 11914
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-testing/references/testcontainers.md",
          "type": "blob",
          "size": 9550
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-verify",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-verify/EXAMPLES.md",
          "type": "blob",
          "size": 12008
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-verify/MIGRATION_GUIDE.md",
          "type": "blob",
          "size": 10166
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-verify/SKILL.md",
          "type": "blob",
          "size": 4064
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-verify/TROUBLESHOOTING.md",
          "type": "blob",
          "size": 9214
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-verify/WORKFLOW.md",
          "type": "blob",
          "size": 5252
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-verify/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-verify/references/configuration.md",
          "type": "blob",
          "size": 7435
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-verify/references/dependencies.md",
          "type": "blob",
          "size": 6971
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-web-api",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-web-api/EXAMPLES.md",
          "type": "blob",
          "size": 7155
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-web-api/SKILL.md",
          "type": "blob",
          "size": 3366
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-web-api/TROUBLESHOOTING.md",
          "type": "blob",
          "size": 7104
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-web-api/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-web-api/references/controllers.md",
          "type": "blob",
          "size": 11993
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-web-api/references/error-handling.md",
          "type": "blob",
          "size": 13526
        },
        {
          "path": "plugins/spring-boot/skills/spring-boot-web-api/references/webflux.md",
          "type": "blob",
          "size": 12709
        },
        {
          "path": "plugins/ui",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/ui/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/ui/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 139
        },
        {
          "path": "plugins/ui/README.md",
          "type": "blob",
          "size": 4571
        },
        {
          "path": "plugins/ui/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/ui/agents/ui-ux-designer.md",
          "type": "blob",
          "size": 9017
        },
        {
          "path": "templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "templates/README.md",
          "type": "blob",
          "size": 2176
        },
        {
          "path": "templates/plugin-template",
          "type": "tree",
          "size": null
        },
        {
          "path": "templates/plugin-template/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "templates/plugin-template/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 173
        },
        {
          "path": "templates/plugin-template/README.md",
          "type": "blob",
          "size": 967
        },
        {
          "path": "templates/plugin-template/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "templates/plugin-template/agents/agent-template.md",
          "type": "blob",
          "size": 624
        },
        {
          "path": "templates/plugin-template/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "templates/plugin-template/commands/command-template.md",
          "type": "blob",
          "size": 455
        },
        {
          "path": "templates/plugin-template/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "templates/plugin-template/skills/skill-template",
          "type": "tree",
          "size": null
        },
        {
          "path": "templates/plugin-template/skills/skill-template/EXAMPLES.md",
          "type": "blob",
          "size": 517
        },
        {
          "path": "templates/plugin-template/skills/skill-template/SKILL.md",
          "type": "blob",
          "size": 638
        }
      ],
      "marketplace": {
        "name": "arkhe-claude-plugins",
        "version": null,
        "description": null,
        "owner_info": {
          "name": "Arkhe"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "core",
            "description": "Quality control and workflow orchestration utilities",
            "source": "./plugins/core",
            "category": null,
            "version": null,
            "author": null,
            "install_commands": [
              "/plugin marketplace add joaquimscosta/arkhe-claude-plugins",
              "/plugin install core@arkhe-claude-plugins"
            ],
            "signals": {
              "stars": 3,
              "forks": 0,
              "pushed_at": "2026-01-12T16:47:59Z",
              "created_at": "2025-10-24T15:27:58Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/debug",
                "description": "Systematic debugging assistant with troubleshooting steps",
                "path": "plugins/core/commands/debug.md",
                "frontmatter": {
                  "description": "Systematic debugging assistant with troubleshooting steps",
                  "argument-hint": [
                    {
                      "optional": "issue description or error message"
                    }
                  ],
                  "tags": [
                    "debugging",
                    "troubleshooting"
                  ]
                },
                "content": "# Debug Command\n\nSystematically identify and resolve the following issue using a structured debugging approach.\n\n## Issue to Debug\n\n$ARGUMENTS\n\n## Your Approach\n\n### Analysis Framework\n\n1. **Problem Definition**: Clearly describe the expected vs actual behavior\n2. **Environment Assessment**: Review system, dependencies, and configuration\n3. **Error Investigation**: Analyze error messages, logs, and stack traces\n4. **Hypothesis Formation**: Propose likely causes based on evidence\n5. **Testing Strategy**: Suggest debugging steps and tests to verify hypotheses\n\n### Debugging Steps\n\n- Start with the most likely causes\n- Use systematic elimination\n- Recommend specific debugging tools and techniques\n- Provide code examples for testing hypotheses\n- Suggest preventive measures for the future\n\nWalk through each step methodically and explain your reasoning at each stage."
              },
              {
                "name": "/discuss",
                "description": "Thorough technical discussion with context-aware clarifying questions",
                "path": "plugins/core/commands/discuss.md",
                "frontmatter": {
                  "description": "Thorough technical discussion with context-aware clarifying questions",
                  "argument-hint": "[topic or problem to discuss]"
                },
                "content": "# Discuss: $ARGUMENTS\n\n## Step 1: Quick Context Scan\n\nBefore asking questions, gather relevant context about \"$ARGUMENTS\":\n\n1. **Read CLAUDE.md** if it exists in the project root (project guidelines and conventions)\n2. **Use Grep/Glob** to find files related to the topic mentioned in arguments\n3. **Note patterns** - existing implementations, naming conventions, or architectural decisions\n\nThis context will inform your questions and show the user you understand their codebase.\n\n## Step 2: Ask Informed Questions\n\nUsing the context gathered, ask focused questions in batches of 3.\n\n**Question Strategy:**\n- **For open-ended exploration:** Use text-based conversational questions\n- **For key decisions with clear options:** Use the `AskUserQuestion` tool with structured choices\n\nEach batch should be tailored to the topic and informed by what you found in the codebase. Reference specific files or patterns you discovered to show contextual awareness.\n\n**Example structured question:**\n```\nAskUserQuestion with options like:\n- \"Use existing pattern from UserService\"\n- \"Create new pattern optimized for X\"\n- \"Hybrid approach\"\n```\n\n## Step 3: Summarize & Recommend\n\nAfter gathering sufficient context through discussion:\n\n1. **Summarize** key requirements and constraints discovered\n2. **Recommend next steps:**\n   - Direct implementation if scope is clear\n   - `/think` for single-problem deep reasoning\n   - `/ultrathink` for complex multi-faceted tasks\n   - Further discussion if more clarity needed\n\n## Guidelines\n\n- Ask questions that demonstrate you've read the codebase\n- Don't assume - verify understanding before proceeding\n- Keep batches to 3 questions maximum for focus\n- Use structured choices (AskUserQuestion) when there are clear options to pick from\n- Stay focused on the topic; don't go on tangents"
              },
              {
                "name": "/double-check",
                "description": "Comprehensive verification of completed work with confidence-based issue filtering. Use when finishing implementation, before committing, after fixing bugs, or to validate feature completeness. Reviews completeness, correctness, edge cases, and alignment.\n",
                "path": "plugins/core/commands/double-check.md",
                "frontmatter": {
                  "description": "Comprehensive verification of completed work with confidence-based issue filtering. Use when finishing implementation, before committing, after fixing bugs, or to validate feature completeness. Reviews completeness, correctness, edge cases, and alignment.\n",
                  "argument-hint": "[optional: specific aspect to verify]"
                },
                "content": "# Double-Check Verification\n\nUltrathink!\n\nSystematically verify the work just completed to ensure quality and completeness.\n\n**Focus area (if specified):** $ARGUMENTS\n\n---\n\n## Pre-Verification Scope Detection\n\nBefore verifying, establish what was completed:\n\n1. **Check git status**: !`git status --short`\n2. **Check staged changes**: !`git diff --cached --stat`\n3. **Check unstaged changes**: !`git diff --stat`\n4. **Check recent commits** (if no uncommitted changes): !`git log -3 --oneline`\n5. **Check todo list**: Review any in-progress or recently completed todos\n\n**Scope Summary**: Summarize what will be verified (files changed, features affected).\nIf the user specified a focus area, prioritize that scope.\n\n---\n\n## Verification Process\n\n### Step 1: Goal Clarity\n\nBefore checking anything, establish:\n- What was the original goal or request?\n- What does \"complete\" mean for this task?\n- What are the success criteria?\n\n### Step 2: Multi-Angle Review\n\nVerify from these angles:\n\n**Completeness Check**\n- Does the implementation address all requirements?\n- Are there any TODO comments or placeholder code left?\n- Were all requested changes made?\n\n**Correctness Check**\n- Does the logic handle expected inputs correctly?\n- Are there edge cases that could cause failures?\n- Do error paths behave appropriately?\n\n**Integration Check**\n- Does this work with existing code?\n- Are there breaking changes to existing functionality?\n- Do imports, exports, and dependencies align?\n\n**Quality Check**\n- Is the code readable and maintainable?\n- Does it follow project conventions (check CLAUDE.md)?\n- Are there obvious simplifications or improvements?\n\n### Step 2.5: Confidence Scoring\n\nRate each potential issue on a 0-100 scale:\n\n| Score | Meaning |\n|-------|---------|\n| 0-25  | Likely false positive or pre-existing issue |\n| 26-50 | Possible issue, but may be a nitpick |\n| 51-75 | Real issue, but may not happen often in practice |\n| 76-89 | Verified real issue that will impact functionality |\n| 90-100| Confirmed critical issue requiring immediate fix |\n\n**Only report issues with confidence >= 75.**\n\n### Step 3: Issue Summary\n\nIf issues found:\n- List each issue with severity (critical/moderate/minor)\n- Provide specific fix recommendations\n- Prioritize what must be fixed vs. nice-to-have\n\nIf no issues found:\n- Confirm verification passed\n- Note any caveats or assumptions made\n\n---\n\n## Output Format\n\n### Verification Results\n\n**Scope Verified:** [files/features reviewed]\n\n**Goal:** [restate the original goal]\n\n**Status:** [PASSED | ISSUES FOUND]\n\n**Verification Summary:**\n\n| Angle | Status | Notes |\n|-------|--------|-------|\n| Completeness | :white_check_mark:/:x: | ... |\n| Correctness | :white_check_mark:/:x: | ... |\n| Integration | :white_check_mark:/:x: | ... |\n| Quality | :white_check_mark:/:x: | ... |\n\n**Issues (if any):**\n\n| Severity | Confidence | Issue | Fix Recommendation |\n|----------|------------|-------|-------------------|\n| Critical | 95% | [description] | [fix] |\n| Moderate | 82% | [description] | [fix] |\n\n**Conclusion:**\n[Summary and recommendation to proceed or revise]"
              },
              {
                "name": "/feature",
                "description": "Guided feature development with codebase exploration, architecture design, and quality review",
                "path": "plugins/core/commands/feature.md",
                "frontmatter": {
                  "description": "Guided feature development with codebase exploration, architecture design, and quality review",
                  "argument-hint": "<feature description>"
                },
                "content": "# Feature Development\n\nYou are helping a developer implement a new feature. Follow a systematic approach: understand the request, explore the codebase deeply, clarify ambiguities, design architecture, implement, and review.\n\n## Core Principles\n\n- **Ask clarifying questions early**: Identify ambiguities before designing, not after\n- **Understand before acting**: Read and comprehend existing code patterns first\n- **Read files identified by agents**: After agents complete, read key files to build deep context\n- **Use TodoWrite**: Track all progress throughout every phase\n- **Simple and elegant**: Prioritize readable, maintainable, architecturally sound code\n\n---\n\n## Phase 1: Discovery\n\n**Goal**: Understand what needs to be built\n\nInitial request: $ARGUMENTS\n\n**Actions**:\n1. Create todo list with all 7 phases\n2. If feature is unclear, ask user for:\n   - What problem are they solving?\n   - What should the feature do?\n   - Any constraints or requirements?\n3. Summarize understanding and confirm with user\n\n---\n\n## Phase 2: Codebase Exploration\n\n**Goal**: Understand relevant existing code and patterns\n\n**Actions**:\n1. Launch 2-3 `code-explorer` agents in parallel. Each agent should:\n   - Trace through the code comprehensively\n   - Focus on different aspects (similar features, architecture, patterns)\n   - Return a list of 5-10 key files to read\n\n   **Example agent prompts**:\n   - \"Find features similar to [feature] and trace their implementation comprehensively\"\n   - \"Map the architecture and abstractions for [feature area]\"\n   - \"Identify UI patterns, testing approaches, or extension points relevant to [feature]\"\n\n2. Read all key files identified by agents to build deep understanding\n3. Present comprehensive summary of findings and patterns discovered\n\n---\n\n## Phase 3: Clarifying Questions\n\n**Goal**: Fill in gaps and resolve all ambiguities before designing\n\n**CRITICAL**: This is one of the most important phases. DO NOT SKIP.\n\n**Actions**:\n1. Review codebase findings and original feature request\n2. Identify underspecified aspects:\n   - Edge cases and error handling\n   - Integration points and scope boundaries\n   - Design preferences and backward compatibility\n   - Performance and security needs\n3. **Present all questions to user in a clear, organized list**\n4. **Wait for answers before proceeding to architecture design**\n\nIf the user says \"whatever you think is best\", provide your recommendation and get explicit confirmation.\n\n---\n\n## Phase 4: Architecture Design\n\n**Goal**: Design implementation approach with clear trade-offs\n\n**Actions**:\n1. Launch 2-3 `code-architect` agents in parallel with different focuses:\n   - Minimal changes (smallest change, maximum reuse)\n   - Clean architecture (maintainability, elegant abstractions)\n   - Pragmatic balance (speed + quality)\n\n2. Review all approaches and form your opinion on which fits best\n3. Present to user:\n   - Brief summary of each approach\n   - Trade-offs comparison\n   - **Your recommendation with reasoning**\n   - Concrete implementation differences\n4. **Ask user which approach they prefer**\n\n---\n\n## Phase 5: Implementation\n\n**Goal**: Build the feature\n\n**DO NOT START WITHOUT USER APPROVAL**\n\n**Actions**:\n1. Wait for explicit user approval of chosen architecture\n2. Read all relevant files identified in previous phases\n3. Implement following chosen architecture\n4. Follow codebase conventions strictly\n5. Write clean, well-documented code\n6. Update todos as you progress\n\n---\n\n## Phase 6: Quality Review\n\n**Goal**: Ensure code is correct, clean, and follows conventions\n\n**Actions**:\n1. Launch 2-3 `code-reviewer` agents in parallel with different focuses:\n   - Simplicity, DRY, elegance\n   - Bugs, logic errors, functional correctness\n   - Project conventions and abstractions\n\n2. Consolidate findings and identify highest severity issues\n3. **Present findings to user and ask what they want to do**:\n   - Fix now\n   - Fix later\n   - Proceed as-is\n4. Address issues based on user decision\n\n---\n\n## Phase 7: Summary\n\n**Goal**: Document what was accomplished\n\n**Actions**:\n1. Mark all todos complete\n2. Summarize:\n   - What was built\n   - Key decisions made\n   - Files modified\n   - Suggested next steps\n\n---\n\n## Guidelines\n\n- Each phase should complete before moving to the next\n- User checkpoints exist at phases 3, 4, 5, and 6 - respect them\n- Agents have access to WebSearch and can research externally when helpful\n- The goal is thorough, high-quality feature development - don't rush"
              },
              {
                "name": "/think",
                "description": "Single-problem deep reasoning with the deep-think-partner agent. Use for: debugging complex issues, evaluating tradeoffs, validating logic, or thinking through a specific decision. Example: \"/think should I use Redis or PostgreSQL for session storage?\"\n",
                "path": "plugins/core/commands/think.md",
                "frontmatter": {
                  "description": "Single-problem deep reasoning with the deep-think-partner agent. Use for: debugging complex issues, evaluating tradeoffs, validating logic, or thinking through a specific decision. Example: \"/think should I use Redis or PostgreSQL for session storage?\"\n",
                  "argument-hint": "[problem or question to think through]"
                },
                "content": "# Think\n\n## Usage\n\n- `/think <PROBLEM_OR_QUESTION>` - Think through a specific problem\n- `/think` - Think through the current context (what user is working on)\n\n## Context\n\n**Explicit problem (if provided):** $ARGUMENTS\n\n**If no arguments provided:** Analyze the current conversation context - what is the user working on? What problem, decision, or challenge are they facing? Use the conversation history to identify the thinking task.\n\n## Instructions\n\nUse the Task tool to spawn the `deep-think-partner` agent (subagent_type: \"core:deep-think-partner\") to collaboratively reason through either:\n\n1. The explicit problem provided in arguments, OR\n2. The implicit problem inferred from the current conversation context\n\nThe agent will:\n\n1. Restate the problem to confirm understanding\n2. Break it down into logical components\n3. Explore multiple angles and trade-offs\n4. Highlight uncertainties and assumptions\n5. Provide concrete recommendations\n\nLet the agent lead the thinking process. Engage as a collaborative partner - build on insights, ask clarifying questions, and work toward a well-reasoned conclusion together."
              },
              {
                "name": "/workflow",
                "description": "Multi-agent orchestration with smart mode routing, plan persistence, and built-in validation",
                "path": "plugins/core/commands/workflow.md",
                "frontmatter": {
                  "allowed-tools": "Bash(*), Task, Read, Grep, Glob, Write, WebSearch, WebFetch, AskUserQuestion",
                  "argument-hint": "<request> [--validate]",
                  "description": "Multi-agent orchestration with smart mode routing, plan persistence, and built-in validation"
                },
                "content": "# Workflow Orchestration\n\nYou are a **product-manager-orchestrator**. You orchestrate specialist agents but **NEVER write code yourself**.\n\n## Core Role\n\n- Delegate all implementation to specialist agents\n- Maximize parallel execution with multiple Task tool calls\n- Use appropriate model tiers for each phase\n- Provide terminal progress updates\n- **Smart mode routing** - detect whether to implement existing plan or create new one\n- **Plan persistence** - save created plans for reuse\n\n## Skills Awareness\n\nSpawned agents have access to the **Skill tool** for invoking specialized capabilities. Skills are automatically discovered by Claude based on task context.\n\n**Agent guidance**: When assigning tasks, remind agents they can use the Skill tool:\n```\nYou have access to the Skill tool for specialized capabilities.\nUse it when the task matches a skill's purpose.\n```\n\n## Parse Arguments\n\nInput: `/workflow <request> [--validate]`\n\n**Flag:**\n- `--validate` - Enable deep validation phase with confidence scoring and constitution compliance\n\nParse: $ARGUMENTS\n\n---\n\n## Workflow Steps\n\n### Step 1: Gating (haiku agent)\n\nLaunch a haiku agent to determine if the request is actionable:\n\n```markdown\nAnalyze this request and determine if it's actionable:\n- Is the request clear enough to proceed?\n- Are there obvious blockers (missing context, permissions)?\n- Should we proceed, ask clarifying questions, or decline?\n\nRequest: [user request]\n\nReturn: PROCEED | CLARIFY:[questions] | DECLINE:[reason]\n```\n\n**If CLARIFY:** Ask the user the questions before continuing.\n**If DECLINE:** Explain why and stop.\n\n---\n\n### Step 2: Mode Detection (haiku agent)\n\nLaunch a haiku agent to determine execution mode:\n\n```markdown\nAnalyze this request to determine execution mode:\n\n**Request:** [user request]\n\nTasks:\n1. Extract path references from the request:\n   - @ references: @specs/auth/, @plan/specs/002-auth/\n   - Explicit paths: \"from specs/auth\", \"in plan/specs/feature\"\n\n2. Check if plan.md exists at extracted path:\n   - If path is a directory, check for plan.md inside\n   - If path is a file, use it directly\n\n3. Detect project conventions:\n   - Does .specify/ exist? (spec-kit configured)\n   - Does plan/specs/ exist?\n   - Does specs/ exist?\n\n4. Generate feature slug from request:\n   - Extract key words, remove filler\n   - Format: lowercase, hyphens, 10-20 chars\n   - Example: \"implement user auth with OAuth\"  \"oauth-auth\"\n\n5. Check for keywords that force PLAN_MODE:\n   - \"create plan\", \"new plan\", \"draft plan\", \"generate plan\"\n\nReturn:\n- MODE: IMPLEMENT_MODE | PLAN_MODE\n- PLAN_PATH: [path if found, null otherwise]\n- FEATURE_SLUG: [generated slug]\n- SPEC_KIT_CONFIGURED: true/false\n- EXISTING_DIRECTORIES: [list of detected convention directories]\n```\n\n**Mode determination:**\n- If plan.md found at explicit path AND no force keywords  **IMPLEMENT_MODE**\n- Otherwise  **PLAN_MODE**\n\n---\n\n### Step 3: Mode Routing\n\n**If IMPLEMENT_MODE:**\n\nUse AskUserQuestion to confirm before proceeding:\n\n```markdown\nQuestion: \"Found plan at `{PLAN_PATH}`. How would you like to proceed?\"\n\nOptions:\n1. Proceed with implementation - Execute the existing plan\n2. Revise the plan first - Enter Plan Mode to update it\n3. Cancel - Stop workflow\n```\n\n- If \"Proceed\"  Skip to Step 5 (Spec Discovery)\n- If \"Revise\"  Continue to Step 4 (Plan Mode)\n- If \"Cancel\"  Stop with message\n\n**If PLAN_MODE:**\n\nProceed directly to Step 4 (no confirmation needed).\n\n---\n\n### Step 4: Planning Pipeline (Plan Mode only)\n\n#### Step 4a: Explore (code-explorer agent, sonnet)\n\nLaunch the code-explorer agent to understand the codebase:\n\n```markdown\nYou are analyzing a codebase to prepare for implementing this feature:\n\n**Feature:** [user request]\n**Feature Slug:** [from Step 2]\n\n## Your Mission:\n1. Find features similar to what's being requested\n2. Map the architecture and relevant abstractions\n3. Identify UI patterns, testing approaches, or extension points\n4. Document key dependencies and integrations\n\n## Output:\n- Entry points with file:line references\n- Key components and their responsibilities\n- Existing patterns that should be followed\n- List of 5-10 essential files for understanding this area\n```\n\nUse `subagent_type: code-explorer` with `model: sonnet`.\n\n---\n\n#### Step 4b: Architect (code-architect agent, sonnet)\n\nLaunch the code-architect agent to design the implementation:\n\n```markdown\nBased on the codebase exploration, design an implementation plan:\n\n**Feature:** [user request]\n**Exploration Results:** [from Step 4a]\n\n## Your Mission:\n1. Design the complete feature architecture\n2. Make decisive choices - pick one approach and commit\n3. Ensure seamless integration with existing code\n4. Break implementation into clear phases\n\n## Output Format:\n1. Overview - Brief summary of approach\n2. Technical Architecture - Component structure, data flow\n3. Implementation Steps - Phased checklist with tasks\n4. Dependencies & Risks - What could go wrong\n```\n\nUse `subagent_type: code-architect` with `model: sonnet`.\n\n---\n\n#### Step 4c: Create Plan\n\nGenerate plan.md content from the architect's output:\n\n```markdown\n# Implementation Plan: {Feature Name}\n\n**Feature Slug:** {feature_slug}\n**Created:** {date}\n\n---\n\n## Overview\n\n{Summary from architect}\n\n---\n\n## Technical Architecture\n\n### Component Structure\n{From architect output}\n\n### Data Flow\n{From architect output}\n\n---\n\n## Implementation Steps\n\n### Phase 1: Foundation\n{Tasks from architect}\n\n### Phase 2: Core Functionality\n{Tasks from architect}\n\n### Phase 3: Polish\n{Tasks from architect}\n\n---\n\n## Dependencies & Risks\n\n{From architect output}\n```\n\n---\n\n#### Step 4d: Ask Save Location\n\nUse AskUserQuestion with dynamic options based on detected conventions:\n\n```markdown\nQuestion: \"Where should I save the implementation plan?\"\n\nOptions (generate dynamically):\n1. plan/specs/{feature_slug}/plan.md - Standard spec-driven location\n2. .specify/specs/{feature_slug}/plan.md - Spec-kit integration (only if SPEC_KIT_CONFIGURED)\n3. specs/{feature_slug}/plan.md - Simple specs directory (only if specs/ exists)\n4. Other location - Enter custom path\n```\n\n**If \"Other\" selected:**\n- Ask: \"Enter the full path for the plan file (e.g., docs/plans/auth.md):\"\n- Validate: Must end with `.md`\n\n**If plan already exists at chosen location:**\n- Ask: \"A plan already exists at `{path}`. Overwrite or choose different location?\"\n\n---\n\n#### Step 4e: Save and Continue\n\n1. Create directory if needed: `mkdir -p {parent_directory}`\n2. Write plan.md to chosen location\n3. Report: \"Plan saved to `{path}`\"\n4. Use AskUserQuestion:\n\n```markdown\nQuestion: \"Proceed with implementation now?\"\n\nOptions:\n1. Yes, implement the plan - Continue to execution\n2. No, I'll review first - Stop here (user can run `/workflow @{path}` later)\n```\n\n- If \"Yes\"  Continue to Step 5\n- If \"No\"  Stop with message about how to resume\n\n---\n\n### Step 5: Spec Discovery (haiku agent)\n\nLaunch a haiku agent to gather full project context:\n\n```markdown\nFind relevant context for implementation:\n\n1. Locate all CLAUDE.md files in the repository\n2. Check for spec-kit configuration: Look for `.specify/` directory\n3. If `.specify/` exists:\n   - Load `.specify/memory/constitution.md` (project principles)\n   - Search for spec artifacts in `plan/specs/` or `specs/` directories\n   - For each relevant spec directory, check for:\n     - `spec.md` (requirements and scope)\n     - `plan.md` (phases and approach)\n     - `tasks.md` (granular tasks)\n     - `research.md` (additional context)\n4. Parse the plan for:\n   - Phase references (e.g., \"Phase 1\", \"phase 2\", \"first phase\")\n   - Task dependencies and parallelization opportunities\n5. Identify key files related to the implementation\n\nReturn:\n- SPEC_KIT_CONFIGURED: true/false\n- CONSTITUTION: [path or null]\n- SPEC_ARTIFACTS: [list of found artifacts with paths]\n- PHASE_REQUESTED: [phase number/name or null]\n- RELEVANT_FILES: [list of key files]\n```\n\n**If spec-kit configured but no phase specified:**\n\nUse AskUserQuestion to ask which phase to implement. Parse plan.md to extract phase names and present them as options:\n\n```\nWhich phase would you like to implement?\n- Phase 1: [phase name from plan.md]\n- Phase 2: [phase name from plan.md]\n- Phase 3: [phase name from plan.md]\n```\n\n---\n\n### Step 6: Parallel Execution (sonnet agents)\n\nDeploy specialist agents in parallel waves using multiple Task tool calls.\n\n**If tasks.md exists:**\n- Use tasks directly as agent assignments\n- Parallelize based on task dependencies indicated in the file\n\n**If only plan.md exists:**\n- Extract tasks from the selected phase description\n- Parallelize where tasks are independent\n\n**Wave Execution:**\n- **Wave 1:** All independent tasks\n- **Wave 2:** Tasks depending on Wave 1 completion\n- **Continue:** Until all tasks complete\n\n**Agent Assignment Template:**\n```markdown\nYou are assigned to: [task description]\n\n**Context:** [relevant files, spec requirements, and background]\n**Spec Requirements:** [from spec.md if available]\n**Constitution Principles:** [from constitution.md if available]\n**Deliverables:** [specific outputs expected]\n**Success Criteria:** [measurable completion conditions]\n\nYou have access to the Skill tool for specialized capabilities.\n\nComplete your task and report results.\n```\n\nUse `model: sonnet` for standard tasks, `model: opus` for complex analysis.\n\n---\n\n### Step 7: Validation\n\n#### Step 7a: Quick Validation (ALWAYS RUNS)\n\nLaunch a sonnet agent to verify results:\n\n```markdown\nQuick sanity check of completed work:\n\n**Original Request:** [user request]\n**Tasks Assigned:** [list from Step 6]\n**Results Received:** [summaries from agents]\n\nVerify:\n1. All tasks completed successfully (no errors or failures reported)\n2. No obvious missing pieces or incomplete work\n3. Results align with original request intent\n\nReturn: PASS | ISSUES:[list of specific problems found]\n```\n\n**If ISSUES:** Report to user and ask how to proceed:\n- Fix the issues now\n- Proceed anyway\n- Stop and investigate\n\n---\n\n#### Step 7b: Deep Validation (ONLY WITH --validate flag)\n\nIf `--validate` flag is present, launch opus agent for thorough review:\n\n**If constitution.md exists:**\n```markdown\nReview the work completed against project principles:\n\n**Constitution Principles:** [from constitution.md]\n**Spec Requirements:** [from spec.md if available]\n**Task:** [what was requested]\n**Result:** [what was delivered]\n\nValidate:\n1. Does the work follow constitution principles?\n2. Does it meet spec requirements (if spec exists)?\n3. Are there any objective issues (bugs, missing functionality)?\n\nScore each deliverable 0-100:\n- 90+: High confidence, meets all criteria\n- 70-89: Medium confidence, minor issues\n- Below 70: Needs revision\n\nReturn: Confidence score, constitution compliance, and any issues found.\n```\n\n**Standard validation (no constitution):**\n```markdown\nReview the work completed by other agents:\n\n**Task:** [what was requested]\n**Result:** [what was delivered]\n\nScore each deliverable 0-100:\n- 90+: High confidence, meets all criteria\n- 70-89: Medium confidence, minor issues\n- Below 70: Needs revision\n\nReturn: Confidence score and any issues found.\n```\n\n**Filtering:**\n- 90+: Report as complete\n- 70-89: Report with noted caveats\n- Below 70: Request revision or flag for user attention\n\n---\n\n### Step 8: Report\n\nProvide a terminal summary:\n\n**If spec-kit was used:**\n```markdown\n## Workflow Complete\n\n**Request:** [original request]\n**Spec:** [spec directory used]\n**Phase:** [phase implemented]\n**Status:** [Complete | Partial | Blocked]\n\n### Spec Compliance\n- [Requirement from spec.md]: [Met/Not Met]\n- [Requirement from spec.md]: [Met/Not Met]\n\n### Completed Tasks\n- [Task 1]: [result summary]\n- [Task 2]: [result summary]\n\n### Quick Validation\n[PASS or issues found]\n\n### Deep Validation (if --validate)\n- Confidence: [score]\n- Constitution Compliance: [Followed/Deviations]\n\n### Issues (if any)\n- [Issue description and recommendation]\n\n### Next Steps\n- [Recommended follow-up actions or next phase]\n```\n\n**If no spec-kit (fallback):**\n```markdown\n## Workflow Complete\n\n**Request:** [original request]\n**Plan:** [path to saved plan, if created]\n**Status:** [Complete | Partial | Blocked]\n\n### Completed\n- [Task 1]: [result summary]\n- [Task 2]: [result summary]\n\n### Quick Validation\n[PASS or issues found]\n\n### Deep Validation (if --validate)\n- Confidence: [score]\n\n### Issues (if any)\n- [Issue description and recommendation]\n\n### Next Steps (if any)\n- [Recommended follow-up actions]\n```\n\n---\n\n## High-Signal Criteria\n\nOnly flag issues that are:\n- Objective problems (bugs, missing functionality, broken dependencies)\n- Clear violations of CLAUDE.md or constitution.md guidelines\n- Blockers that prevent task completion\n- Deviations from spec.md requirements\n\nExclude:\n- Subjective suggestions or style preferences\n- Potential or speculative issues\n- Items that linters or tests would catch\n\n---\n\n## Examples\n\n### Example 1: Implement Existing Plan\n\n```bash\n/workflow @specs/auth/\n```\n\n**Execution:**\n1. Gating: Request is clear, proceed\n2. Mode Detection: Found plan at specs/auth/plan.md  IMPLEMENT_MODE\n3. Mode Routing: \"Found plan. Proceed?\"  User confirms\n4. (Skip planning)\n5. Spec Discovery: Load spec artifacts\n6. Execution: Deploy parallel agents\n7. Quick Validation: Sanity check\n8. Report: Summary\n\n### Example 2: Create New Plan\n\n```bash\n/workflow implement user authentication\n```\n\n**Execution:**\n1. Gating: Request is clear, proceed\n2. Mode Detection: No plan found  PLAN_MODE\n3. (No confirmation needed)\n4. Planning Pipeline:\n   - 4a: Explore codebase with code-explorer\n   - 4b: Design architecture with code-architect\n   - 4c: Generate plan.md content\n   - 4d: \"Where to save?\"  User selects plan/specs/auth/plan.md\n   - 4e: Save  \"Implement now?\"  User says yes\n5. Spec Discovery: Load created plan\n6. Execution: Deploy agents\n7. Quick Validation: Sanity check\n8. Report: Summary with plan location\n\n### Example 3: Create Plan Only\n\n```bash\n/workflow create plan for user dashboard\n```\n\n**Execution:**\n1. Gating: Request is clear, proceed\n2. Mode Detection: \"create plan\" keyword  PLAN_MODE (forced)\n3. (No confirmation)\n4. Planning Pipeline:\n   - 4a-4c: Explore, architect, create plan\n   - 4d: \"Where to save?\"  User selects\n   - 4e: Save  \"Implement now?\"  User says no\n5. Stop with: \"Plan saved to {path}. Run `/workflow @{path}` when ready to implement.\"\n\n### Example 4: Deep Validation\n\n```bash\n/workflow @specs/auth/ --validate\n```\n\n**Execution:**\n1-6. Same as Example 1\n7. Quick Validation: Sanity check (always)\n7b. Deep Validation: Opus review with confidence scores\n8. Report: Full compliance report with scores\n\n---\n\n## Success Criteria\n\nA successful workflow:\n- Correctly detects mode (IMPLEMENT vs PLAN) from request\n- Confirms before implementing existing plans\n- Creates thorough plans using code-explorer + code-architect when needed\n- Asks user where to save new plans\n- Always runs quick validation after execution\n- Runs deep validation when --validate flag is present\n- Maximizes parallel execution where possible\n- Uses appropriate model tiers (haiku/sonnet/opus)\n- Reports clear, actionable results\n\n---\n\n## Important Rules\n\n1. **NEVER write code** - Always delegate to specialist agents\n2. **Smart mode routing** - Detect and confirm before implementing existing plans\n3. **Save new plans** - Always ask where to save when creating plans\n4. **Maximize parallelism** - Use multiple Task tool calls simultaneously\n5. **Use model tiers** - haiku for discovery, sonnet for work, opus for deep validation\n6. **Always quick validate** - Run sanity check after every execution\n7. **Honor --validate** - Apply deep validation when flag is specified\n8. **High signal** - Only report objective issues, not suggestions\n9. **Progress updates** - Keep user informed during execution"
              }
            ],
            "skills": [
              {
                "name": "workflow-orchestration",
                "description": "Coordinate structured thinking and multi-agent parallel execution for complex tasks. Use when tackling multi-step projects, planning parallel work, breaking down complex problems, coordinating specialist tasks, facing architectural decisions, or when user mentions \"workflow\", \"orchestration\", \"multi-step\", \"coordinate\", \"parallel execution\", \"structured thinking\", \"break this down\", \"plan this out\", \"how should I approach\", or needs help planning complex implementations.\n",
                "path": "plugins/core/skills/workflow-orchestration/SKILL.md",
                "frontmatter": {
                  "name": "workflow-orchestration",
                  "description": "Coordinate structured thinking and multi-agent parallel execution for complex tasks. Use when tackling multi-step projects, planning parallel work, breaking down complex problems, coordinating specialist tasks, facing architectural decisions, or when user mentions \"workflow\", \"orchestration\", \"multi-step\", \"coordinate\", \"parallel execution\", \"structured thinking\", \"break this down\", \"plan this out\", \"how should I approach\", or needs help planning complex implementations.\n"
                },
                "content": "# Workflow Orchestration\n\nGuide users through structured thinking and recommend appropriate tools for complex tasks.\n\n## Quick Decision\n\n| Situation | Recommendation |\n|-----------|----------------|\n| Multi-step project with parallel tasks | `/workflow` command |\n| Single complex problem needing deep analysis | `/think` command |\n| Ultra-complex problem, multiple angles | `/ultrathink` command |\n| Strategic decision with long-term impact | `deep-think-partner` agent |\n| Simple task, clear steps | Inline guidance (no command needed) |\n\n## When to Orchestrate\n\nDetect these signals for structured thinking:\n\n**Keyword triggers:**\n- \"workflow\", \"orchestration\", \"coordinate\", \"parallel\"\n- \"multi-step\", \"sequential\", \"dependencies\"\n- \"break down\", \"plan this out\", \"how should I approach\"\n\n**Context triggers:**\n- Architectural decisions affecting multiple components\n- Multi-file changes requiring coordination\n- Problems with unclear scope needing discovery\n- Tasks that benefit from specialist agents\n\n## Orchestration Pattern\n\nWhen structured approach is needed:\n\n```\n1. GATE      Is the request clear and actionable?\n2. CONTEXT   What files/patterns are relevant?\n3. PLAN      What tasks? Parallel vs sequential?\n4. EXECUTE   Deploy specialists, maximize parallelism\n5. VALIDATE  Confidence scoring (if needed)\n6. REPORT    Summary with next steps\n```\n\n## Command Reference\n\n### `/workflow <request> [flags]`\n\nMulti-agent orchestration with parallel execution.\n\n**Flags:**\n- `--deep` - Use opus model for deeper analysis\n- `--research` - Enable web search for external docs\n- `--validate` - Add validation phase with confidence scoring\n\n**Best for:** Feature implementations, refactoring projects, coordinated changes.\n\n### `/think [problem]`\n\nInvoke deep-think-partner for collaborative reasoning.\n\n**Best for:** Single complex problems, decision analysis, reasoning validation.\n\n### `/ultrathink [problem]`\n\nUltra-deep extended thinking for highly complex problems.\n\n**Best for:** Multi-faceted analysis, thorough exploration of edge cases.\n\n## Inline Guidance\n\nFor simpler tasks, provide structured thinking directly:\n\n1. **Clarify scope** - What exactly needs to be done?\n2. **Identify dependencies** - What must happen first?\n3. **Plan sequence** - Parallel where possible, sequential where required\n4. **Execute** - Work through each step\n5. **Verify** - Check results meet requirements\n\n## Model Tier Strategy\n\n| Task Type | Model | Use Case |\n|-----------|-------|----------|\n| Gating, routing | haiku | Quick decisions, simple queries |\n| Implementation | sonnet | Standard coding, documentation |\n| Deep analysis | opus | Architecture, complex reasoning |\n\n## Output\n\nWhen providing orchestration guidance:\n\n```markdown\n## Recommended Approach\n\n**Complexity:** [Low | Medium | High]\n**Suggested tool:** [command or inline]\n\n### Why\n[Brief explanation of why this approach fits]\n\n### Steps\n1. [First step]\n2. [Second step]\n...\n```\n\n## Additional Resources\n\n- [WORKFLOW.md](WORKFLOW.md) - Detailed orchestration patterns\n- [EXAMPLES.md](EXAMPLES.md) - Real-world usage scenarios\n- [TROUBLESHOOTING.md](TROUBLESHOOTING.md) - Common issues and solutions"
              }
            ]
          },
          {
            "name": "ai",
            "description": "AI engineering toolkit for production-ready LLM applications",
            "source": "./plugins/ai",
            "category": null,
            "version": null,
            "author": null,
            "install_commands": [
              "/plugin marketplace add joaquimscosta/arkhe-claude-plugins",
              "/plugin install ai@arkhe-claude-plugins"
            ],
            "signals": {
              "stars": 3,
              "forks": 0,
              "pushed_at": "2026-01-12T16:47:59Z",
              "created_at": "2025-10-24T15:27:58Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/improve-agent",
                "description": "Systematic agent improvement through performance analysis and prompt engineering",
                "path": "plugins/ai/commands/improve-agent.md",
                "frontmatter": {
                  "description": "Systematic agent improvement through performance analysis and prompt engineering"
                },
                "content": "# Agent Performance Optimization Workflow\n\nSystematic improvement of existing agents through performance analysis, prompt engineering, and continuous iteration.\n\n[Extended thinking: Agent optimization requires a data-driven approach combining performance metrics, user feedback analysis, and advanced prompt engineering techniques. Success depends on systematic evaluation, targeted improvements, and rigorous testing with rollback capabilities for production safety.]\n\n## Phase 1: Performance Analysis and Baseline Metrics\n\nComprehensive analysis of agent performance using context-manager for historical data collection.\n\n### 1.1 Gather Performance Data\n```\nUse: context-manager\nCommand: analyze-agent-performance $ARGUMENTS --days 30\n```\n\nCollect metrics including:\n- Task completion rate (successful vs failed tasks)\n- Response accuracy and factual correctness\n- Tool usage efficiency (correct tools, call frequency)\n- Average response time and token consumption\n- User satisfaction indicators (corrections, retries)\n- Hallucination incidents and error patterns\n\n### 1.2 User Feedback Pattern Analysis\n\nIdentify recurring patterns in user interactions:\n- **Correction patterns**: Where users consistently modify outputs\n- **Clarification requests**: Common areas of ambiguity\n- **Task abandonment**: Points where users give up\n- **Follow-up questions**: Indicators of incomplete responses\n- **Positive feedback**: Successful patterns to preserve\n\n### 1.3 Failure Mode Classification\n\nCategorize failures by root cause:\n- **Instruction misunderstanding**: Role or task confusion\n- **Output format errors**: Structure or formatting issues\n- **Context loss**: Long conversation degradation\n- **Tool misuse**: Incorrect or inefficient tool selection\n- **Constraint violations**: Safety or business rule breaches\n- **Edge case handling**: Unusual input scenarios\n\n### 1.4 Baseline Performance Report\n\nGenerate quantitative baseline metrics:\n```\nPerformance Baseline:\n- Task Success Rate: [X%]\n- Average Corrections per Task: [Y]\n- Tool Call Efficiency: [Z%]\n- User Satisfaction Score: [1-10]\n- Average Response Latency: [Xms]\n- Token Efficiency Ratio: [X:Y]\n```\n\n## Phase 2: Prompt Engineering Improvements\n\nApply advanced prompt optimization techniques using prompt-engineer agent.\n\n### 2.1 Chain-of-Thought Enhancement\n\nImplement structured reasoning patterns:\n```\nUse: prompt-engineer\nTechnique: chain-of-thought-optimization\n```\n\n- Add explicit reasoning steps: \"Let's approach this step-by-step...\"\n- Include self-verification checkpoints: \"Before proceeding, verify that...\"\n- Implement recursive decomposition for complex tasks\n- Add reasoning trace visibility for debugging\n\n### 2.2 Few-Shot Example Optimization\n\nCurate high-quality examples from successful interactions:\n- **Select diverse examples** covering common use cases\n- **Include edge cases** that previously failed\n- **Show both positive and negative examples** with explanations\n- **Order examples** from simple to complex\n- **Annotate examples** with key decision points\n\nExample structure:\n```\nGood Example:\nInput: [User request]\nReasoning: [Step-by-step thought process]\nOutput: [Successful response]\nWhy this works: [Key success factors]\n\nBad Example:\nInput: [Similar request]\nOutput: [Failed response]\nWhy this fails: [Specific issues]\nCorrect approach: [Fixed version]\n```\n\n### 2.3 Role Definition Refinement\n\nStrengthen agent identity and capabilities:\n- **Core purpose**: Clear, single-sentence mission\n- **Expertise domains**: Specific knowledge areas\n- **Behavioral traits**: Personality and interaction style\n- **Tool proficiency**: Available tools and when to use them\n- **Constraints**: What the agent should NOT do\n- **Success criteria**: How to measure task completion\n\n### 2.4 Constitutional AI Integration\n\nImplement self-correction mechanisms:\n```\nConstitutional Principles:\n1. Verify factual accuracy before responding\n2. Self-check for potential biases or harmful content\n3. Validate output format matches requirements\n4. Ensure response completeness\n5. Maintain consistency with previous responses\n```\n\nAdd critique-and-revise loops:\n- Initial response generation\n- Self-critique against principles\n- Automatic revision if issues detected\n- Final validation before output\n\n### 2.5 Output Format Tuning\n\nOptimize response structure:\n- **Structured templates** for common tasks\n- **Dynamic formatting** based on complexity\n- **Progressive disclosure** for detailed information\n- **Markdown optimization** for readability\n- **Code block formatting** with syntax highlighting\n- **Table and list generation** for data presentation\n\n## Phase 3: Testing and Validation\n\nComprehensive testing framework with A/B comparison.\n\n### 3.1 Test Suite Development\n\nCreate representative test scenarios:\n```\nTest Categories:\n1. Golden path scenarios (common successful cases)\n2. Previously failed tasks (regression testing)\n3. Edge cases and corner scenarios\n4. Stress tests (complex, multi-step tasks)\n5. Adversarial inputs (potential breaking points)\n6. Cross-domain tasks (combining capabilities)\n```\n\n### 3.2 A/B Testing Framework\n\nCompare original vs improved agent:\n```\nUse: parallel-test-runner\nConfig:\n  - Agent A: Original version\n  - Agent B: Improved version\n  - Test set: 100 representative tasks\n  - Metrics: Success rate, speed, token usage\n  - Evaluation: Blind human review + automated scoring\n```\n\nStatistical significance testing:\n- Minimum sample size: 100 tasks per variant\n- Confidence level: 95% (p < 0.05)\n- Effect size calculation (Cohen's d)\n- Power analysis for future tests\n\n### 3.3 Evaluation Metrics\n\nComprehensive scoring framework:\n\n**Task-Level Metrics:**\n- Completion rate (binary success/failure)\n- Correctness score (0-100% accuracy)\n- Efficiency score (steps taken vs optimal)\n- Tool usage appropriateness\n- Response relevance and completeness\n\n**Quality Metrics:**\n- Hallucination rate (factual errors per response)\n- Consistency score (alignment with previous responses)\n- Format compliance (matches specified structure)\n- Safety score (constraint adherence)\n- User satisfaction prediction\n\n**Performance Metrics:**\n- Response latency (time to first token)\n- Total generation time\n- Token consumption (input + output)\n- Cost per task (API usage fees)\n- Memory/context efficiency\n\n### 3.4 Human Evaluation Protocol\n\nStructured human review process:\n- Blind evaluation (evaluators don't know version)\n- Standardized rubric with clear criteria\n- Multiple evaluators per sample (inter-rater reliability)\n- Qualitative feedback collection\n- Preference ranking (A vs B comparison)\n\n## Phase 4: Version Control and Deployment\n\nSafe rollout with monitoring and rollback capabilities.\n\n### 4.1 Version Management\n\nSystematic versioning strategy:\n```\nVersion Format: agent-name-v[MAJOR].[MINOR].[PATCH]\nExample: customer-support-v2.3.1\n\nMAJOR: Significant capability changes\nMINOR: Prompt improvements, new examples\nPATCH: Bug fixes, minor adjustments\n```\n\nMaintain version history:\n- Git-based prompt storage\n- Changelog with improvement details\n- Performance metrics per version\n- Rollback procedures documented\n\n### 4.2 Staged Rollout\n\nProgressive deployment strategy:\n1. **Alpha testing**: Internal team validation (5% traffic)\n2. **Beta testing**: Selected users (20% traffic)\n3. **Canary release**: Gradual increase (20%  50%  100%)\n4. **Full deployment**: After success criteria met\n5. **Monitoring period**: 7-day observation window\n\n### 4.3 Rollback Procedures\n\nQuick recovery mechanism:\n```\nRollback Triggers:\n- Success rate drops >10% from baseline\n- Critical errors increase >5%\n- User complaints spike\n- Cost per task increases >20%\n- Safety violations detected\n\nRollback Process:\n1. Detect issue via monitoring\n2. Alert team immediately\n3. Switch to previous stable version\n4. Analyze root cause\n5. Fix and re-test before retry\n```\n\n### 4.4 Continuous Monitoring\n\nReal-time performance tracking:\n- Dashboard with key metrics\n- Anomaly detection alerts\n- User feedback collection\n- Automated regression testing\n- Weekly performance reports\n\n## Success Criteria\n\nAgent improvement is successful when:\n- Task success rate improves by 15%\n- User corrections decrease by 25%\n- No increase in safety violations\n- Response time remains within 10% of baseline\n- Cost per task doesn't increase >5%\n- Positive user feedback increases\n\n## Post-Deployment Review\n\nAfter 30 days of production use:\n1. Analyze accumulated performance data\n2. Compare against baseline and targets\n3. Identify new improvement opportunities\n4. Document lessons learned\n5. Plan next optimization cycle\n\n## Continuous Improvement Cycle\n\nEstablish regular improvement cadence:\n- **Weekly**: Monitor metrics and collect feedback\n- **Monthly**: Analyze patterns and plan improvements\n- **Quarterly**: Major version updates with new capabilities\n- **Annually**: Strategic review and architecture updates\n\nRemember: Agent optimization is an iterative process. Each cycle builds upon previous learnings, gradually improving performance while maintaining stability and safety."
              },
              {
                "name": "/lyra",
                "description": null,
                "path": "plugins/ai/commands/lyra.md",
                "frontmatter": null,
                "content": "---\ndescription: Transforms vague inputs into optimized AI prompts\nargument-hint: [DETAIL|BASIC] using [ChatGPT|Claude|Gemini|Other]  <prompt>\nmodel: haiku\n---\n\n## Instruction\n\nYou are Lyra, a master-level AI prompt optimization specialist. Your mission is to transform any user input into precision-crafted prompts that unlock AI's full potential across all platforms.\n\n**Check for user input first:**\n- If `$ARGUMENTS` is empty or not provided, display the welcome message and wait for user input\n- If `$ARGUMENTS` is provided, parse the input and proceed directly to optimization\n\n### Welcome Message (display when no arguments provided)\n\n\"Hello! I'm Lyra, your AI prompt optimizer. I transform vague requests into precise, effective prompts that deliver better results.\n\n**What I need to know:**\n- **Target AI:** ChatGPT, Claude, Gemini, or Other\n- **Prompt Style:** DETAIL (I'll ask clarifying questions first) or BASIC (quick optimization)\n\n**Examples:**\n- `/lyra DETAIL using ChatGPT  Write me a marketing email`\n- `/lyra BASIC using Claude  Help with my resume`\n- `/lyra DETAIL using Gemini  Draft a social post`\n- `/lyra BASIC using ChatGPT  Summarize this text`\n\nJust share your request and I'll handle the optimization!\"\n\n### Optimization Workflow (when arguments provided)\n\nParse `$ARGUMENTS` to extract:\n1. **Mode**: DETAIL or BASIC (default to DETAIL if not specified)\n2. **Target AI**: ChatGPT, Claude, Gemini, or Other (default to universal best practices if not specified)\n3. **Prompt**: The user's rough prompt to optimize\n\nThen follow the 4-D methodology:\n1. Deconstruct: extract core intent, key entities, and context, identify requirements and constraints, and map provided vs. missing information.\n2. Diagnose: audit for clarity gaps and ambiguity, check specificity and completeness, and assess structure and complexity.\n3. Develop: select optimal techniques based on request type (creative  multi-perspective + tone; technical  constraint-based + precision; educational  few-shot + structure; complex  chain-of-thought + systematic frameworks). Assign appropriate AI role, enhance context, and structure logically.\n4. Deliver: construct optimized prompts, format based on complexity, and provide implementation guidance.\n\nOptimization techniques: foundation (role assignment, context layering, output specs, decomposition) and advanced (chain-of-thought, few-shot, multi-perspective, constraint optimization). Adapt to platform: ChatGPT/GPT-4 (structured), Claude (long context/reasoning), Gemini (creative/comparative), others (universal best practices).\n\nTwo operating modes: DETAIL (gathers context with smart defaults, asks clarifying questions, provides comprehensive optimization) and BASIC (quick fixes and core techniques).\n\n### Response Formats\n\nFor simple requests, provide optimized prompt and what changed. For complex requests, provide optimized prompt, key improvements, techniques applied, and pro tip. The response should be as markdown block so it is easy to copy/paste.\n\n### Processing Guidelines\n\n- Auto-detect complexity and inform user with override option\n- Execute chosen mode (DETAIL or BASIC)\n- Deliver optimized prompt\n- Never save any information from optimization sessions\n- Communicate in a formal, precise, and professional manner\n- When encountering vague or incomplete prompts, always ask targeted clarifying questions before proceeding\n"
              },
              {
                "name": "/multi-agent-optimize",
                "description": "AI-powered multi-agent coordination for system performance optimization",
                "path": "plugins/ai/commands/multi-agent-optimize.md",
                "frontmatter": {
                  "description": "AI-powered multi-agent coordination for system performance optimization"
                },
                "content": "# Multi-Agent Optimization Toolkit\n\n## Role: AI-Powered Multi-Agent Performance Engineering Specialist\n\n### Context\nThe Multi-Agent Optimization Tool is an advanced AI-driven framework designed to holistically improve system performance through intelligent, coordinated agent-based optimization. Leveraging cutting-edge AI orchestration techniques, this tool provides a comprehensive approach to performance engineering across multiple domains.\n\n### Core Capabilities\n- Intelligent multi-agent coordination\n- Performance profiling and bottleneck identification\n- Adaptive optimization strategies\n- Cross-domain performance optimization\n- Cost and efficiency tracking\n\n## Arguments Handling\nThe tool processes optimization arguments with flexible input parameters:\n- `$TARGET`: Primary system/application to optimize\n- `$PERFORMANCE_GOALS`: Specific performance metrics and objectives\n- `$OPTIMIZATION_SCOPE`: Depth of optimization (quick-win, comprehensive)\n- `$BUDGET_CONSTRAINTS`: Cost and resource limitations\n- `$QUALITY_METRICS`: Performance quality thresholds\n\n## 1. Multi-Agent Performance Profiling\n\n### Profiling Strategy\n- Distributed performance monitoring across system layers\n- Real-time metrics collection and analysis\n- Continuous performance signature tracking\n\n#### Profiling Agents\n1. **Database Performance Agent**\n   - Query execution time analysis\n   - Index utilization tracking\n   - Resource consumption monitoring\n\n2. **Application Performance Agent**\n   - CPU and memory profiling\n   - Algorithmic complexity assessment\n   - Concurrency and async operation analysis\n\n3. **Frontend Performance Agent**\n   - Rendering performance metrics\n   - Network request optimization\n   - Core Web Vitals monitoring\n\n### Profiling Code Example\n```python\ndef multi_agent_profiler(target_system):\n    agents = [\n        DatabasePerformanceAgent(target_system),\n        ApplicationPerformanceAgent(target_system),\n        FrontendPerformanceAgent(target_system)\n    ]\n\n    performance_profile = {}\n    for agent in agents:\n        performance_profile[agent.__class__.__name__] = agent.profile()\n\n    return aggregate_performance_metrics(performance_profile)\n```\n\n## 2. Context Window Optimization\n\n### Optimization Techniques\n- Intelligent context compression\n- Semantic relevance filtering\n- Dynamic context window resizing\n- Token budget management\n\n### Context Compression Algorithm\n```python\ndef compress_context(context, max_tokens=4000):\n    # Semantic compression using embedding-based truncation\n    compressed_context = semantic_truncate(\n        context,\n        max_tokens=max_tokens,\n        importance_threshold=0.7\n    )\n    return compressed_context\n```\n\n## 3. Agent Coordination Efficiency\n\n### Coordination Principles\n- Parallel execution design\n- Minimal inter-agent communication overhead\n- Dynamic workload distribution\n- Fault-tolerant agent interactions\n\n### Orchestration Framework\n```python\nclass MultiAgentOrchestrator:\n    def __init__(self, agents):\n        self.agents = agents\n        self.execution_queue = PriorityQueue()\n        self.performance_tracker = PerformanceTracker()\n\n    def optimize(self, target_system):\n        # Parallel agent execution with coordinated optimization\n        with concurrent.futures.ThreadPoolExecutor() as executor:\n            futures = {\n                executor.submit(agent.optimize, target_system): agent\n                for agent in self.agents\n            }\n\n            for future in concurrent.futures.as_completed(futures):\n                agent = futures[future]\n                result = future.result()\n                self.performance_tracker.log(agent, result)\n```\n\n## 4. Parallel Execution Optimization\n\n### Key Strategies\n- Asynchronous agent processing\n- Workload partitioning\n- Dynamic resource allocation\n- Minimal blocking operations\n\n## 5. Cost Optimization Strategies\n\n### LLM Cost Management\n- Token usage tracking\n- Adaptive model selection\n- Caching and result reuse\n- Efficient prompt engineering\n\n### Cost Tracking Example\n```python\nclass CostOptimizer:\n    def __init__(self):\n        self.token_budget = 100000  # Monthly budget\n        self.token_usage = 0\n        self.model_costs = {\n            'gpt-4': 0.03,\n            'claude-3-sonnet': 0.015,\n            'claude-3-haiku': 0.0025\n        }\n\n    def select_optimal_model(self, complexity):\n        # Dynamic model selection based on task complexity and budget\n        pass\n```\n\n## 6. Latency Reduction Techniques\n\n### Performance Acceleration\n- Predictive caching\n- Pre-warming agent contexts\n- Intelligent result memoization\n- Reduced round-trip communication\n\n## 7. Quality vs Speed Tradeoffs\n\n### Optimization Spectrum\n- Performance thresholds\n- Acceptable degradation margins\n- Quality-aware optimization\n- Intelligent compromise selection\n\n## 8. Monitoring and Continuous Improvement\n\n### Observability Framework\n- Real-time performance dashboards\n- Automated optimization feedback loops\n- Machine learning-driven improvement\n- Adaptive optimization strategies\n\n## Reference Workflows\n\n### Workflow 1: E-Commerce Platform Optimization\n1. Initial performance profiling\n2. Agent-based optimization\n3. Cost and performance tracking\n4. Continuous improvement cycle\n\n### Workflow 2: Enterprise API Performance Enhancement\n1. Comprehensive system analysis\n2. Multi-layered agent optimization\n3. Iterative performance refinement\n4. Cost-efficient scaling strategy\n\n## Key Considerations\n- Always measure before and after optimization\n- Maintain system stability during optimization\n- Balance performance gains with resource consumption\n- Implement gradual, reversible changes\n\nTarget Optimization: $ARGUMENTS"
              }
            ],
            "skills": []
          },
          {
            "name": "doc",
            "description": "Multi-purpose documentation toolkit",
            "source": "./plugins/doc",
            "category": null,
            "version": null,
            "author": null,
            "install_commands": [
              "/plugin marketplace add joaquimscosta/arkhe-claude-plugins",
              "/plugin install doc@arkhe-claude-plugins"
            ],
            "signals": {
              "stars": 3,
              "forks": 0,
              "pushed_at": "2026-01-12T16:47:59Z",
              "created_at": "2025-10-24T15:27:58Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/code-explain",
                "description": "Explain complex code through clear narratives and visual diagrams",
                "path": "plugins/doc/commands/code-explain.md",
                "frontmatter": {
                  "description": "Explain complex code through clear narratives and visual diagrams"
                },
                "content": "# Code Explanation\n\nExplain complex code sections, algorithms, design patterns, or system architectures with visual aids and step-by-step breakdowns.\n\n## Usage\n\n```\n/code-explain <file path or code description>\n```\n\n## Examples\n\n### Explain a specific file:\n```\n/code-explain src/utils/data-transformer.ts\n```\n\n### Explain a concept in context:\n```\n/code-explain the caching strategy in api/cache-manager.js\n```\n\n### Explain an algorithm:\n```\n/code-explain the sorting algorithm in utils/sort.py\n```\n\n### Explain a design pattern:\n```\n/code-explain how the observer pattern is used in event-handler.ts\n```\n\n## What You Get\n\n1. **Overview** - What the code does (1-2 sentences)\n2. **Key Concepts** - Programming concepts identified\n3. **Visual Diagrams** - Mermaid flowcharts, class diagrams, or sequence diagrams\n4. **Step-by-Step Breakdown** - Logic explained with line references\n5. **Common Questions** - Anticipated \"why\" and \"what if\" answers\n6. **Gotchas** - Non-obvious behavior and edge cases\n\n## Explanation Depth\n\nThe explanation depth adapts to code complexity:\n\n| Complexity | Approach |\n|------------|----------|\n| Simple | Quick overview, key points |\n| Moderate | Diagrams, step-by-step breakdown |\n| Complex | Full analysis with patterns, pitfalls, alternatives |\n\n## Tips\n\n- **Be specific** - Point to exact files or functions\n- **Provide context** - Mention your experience level if you want simpler/deeper explanations\n- **Ask follow-ups** - Request deeper dives into specific parts\n\n## Integration\n\nThis command invokes the **code-explanation** skill with: `$ARGUMENTS`\n\nFor comprehensive examples and detailed methodology, see:\n- [WORKFLOW.md](../skills/code-explanation/WORKFLOW.md)\n- [EXAMPLES.md](../skills/code-explanation/EXAMPLES.md)"
              },
              {
                "name": "/diagram",
                "description": "Create or edit Mermaid diagrams for flowcharts, sequence diagrams, ERDs, state machines, and more",
                "path": "plugins/doc/commands/diagram.md",
                "frontmatter": {
                  "description": "Create or edit Mermaid diagrams for flowcharts, sequence diagrams, ERDs, state machines, and more"
                },
                "content": "# Diagram Command\n\nGenerate professional Mermaid diagrams for documentation, system architecture, process flows, and data visualization.\n\n## Usage\n\n```\n/diagram <description of what you want to visualize>\n```\n\n## Supported Diagram Types\n\n- **Flowcharts** - Process flows, decision trees, workflows\n- **Sequence Diagrams** - API interactions, system communication, user flows\n- **Class Diagrams** - Object-oriented design, database models\n- **State Diagrams** - State machines, lifecycle flows\n- **ERD (Entity Relationship)** - Database schemas, data models\n- **Gantt Charts** - Project timelines, task scheduling\n- **Pie Charts** - Data distributions, proportions\n- **Git Graphs** - Branch strategies, version control flows\n- **User Journeys** - User experience mapping, customer flows\n- **Quadrant Charts** - Priority matrices, feature analysis\n- **Timeline Diagrams** - Historical events, product evolution\n\n## Examples\n\n### Create a flowchart for user authentication:\n```\n/diagram user authentication flow with login, validation, and redirect to dashboard\n```\n\n### Generate a sequence diagram for API communication:\n```\n/diagram sequence diagram showing client, API gateway, auth service, and database interactions for user registration\n```\n\n### Create an ERD for a blog platform:\n```\n/diagram entity relationship diagram for a blog with users, posts, comments, and tags\n```\n\n### Generate a Gantt chart for project timeline:\n```\n/diagram gantt chart for a 3-month product development project with planning, development, testing, and deployment phases\n```\n\n### Create a state diagram for order processing:\n```\n/diagram state diagram showing order lifecycle from draft to delivered with payment and shipping states\n```\n\n### Refactor an existing diagram:\n```\n/diagram refactor this mermaid diagram to add error handling states and improve styling\n[paste existing diagram]\n```\n\n## Features\n\n- **Auto-selection** of the most appropriate diagram type based on your description\n- **Professional styling** with colors, shapes, and layouts optimized for readability\n- **Both basic and styled versions** provided for flexibility\n- **Comments and documentation** explaining complex syntax\n- **Rendering instructions** for different platforms (GitHub, GitLab, documentation sites)\n- **Alternative suggestions** if a different diagram type might work better\n\n## Tips\n\n1. **Be specific** about what you want to visualize\n2. **Mention the diagram type** if you have a preference (otherwise it will be auto-selected)\n3. **Include key entities/steps** you want represented\n4. **Specify styling preferences** if desired (colors, themes, layout direction)\n5. **Provide context** for better diagram structure (e.g., \"for API documentation\" vs \"for executive presentation\")\n\n## Output Format\n\nThe command will provide:\n\n1. **Complete Mermaid code** ready to use\n2. **Rendering preview** showing how it will look\n3. **Usage instructions** for your target platform\n4. **Styling options** and customization suggestions\n5. **Alternative approaches** if applicable\n\n## Integration\n\nThis command invokes the **diagramming** skill with arguments: `$ARGUMENTS`\n\n## Related Resources\n\n- **Mermaid Documentation**: https://mermaid.js.org\n- **Live Editor**: https://mermaid.live (test and preview diagrams)"
              },
              {
                "name": "/doc-generate",
                "description": "Generate comprehensive documentation from code with AI-powered analysis",
                "path": "plugins/doc/commands/doc-generate.md",
                "frontmatter": {
                  "description": "Generate comprehensive documentation from code with AI-powered analysis"
                },
                "content": "# Documentation Generation\n\nGenerate documentation for your codebase, from quick READMEs to comprehensive technical manuals.\n\n## Usage\n\n```\n/doc-generate <scope or documentation type>\n```\n\n## Examples\n\n### Quick Documentation\n\n```\n/doc-generate README for the authentication module\n/doc-generate API docs for src/api/users\n/doc-generate configuration reference\n```\n\n### Comprehensive Documentation\n\nFor deep analysis and long-form documentation (10+ pages), use the docs-architect agent:\n\n```\nUse the docs-architect agent to create comprehensive documentation for [system]\n```\n\n## Documentation Types\n\n| Type | Command Example | Output |\n|------|-----------------|--------|\n| README | `/doc-generate README for auth module` | Project README |\n| API Reference | `/doc-generate API docs for /api/*` | OpenAPI spec |\n| Configuration | `/doc-generate config reference` | Config table |\n| Module Docs | `/doc-generate docs for utils/` | Module documentation |\n| **Architecture** | Use docs-architect agent | 10-100+ page guide |\n| **Technical Manual** | Use docs-architect agent | Comprehensive manual |\n\n## When to Use docs-architect Agent\n\nFor complex documentation needs:\n- Full system architecture documentation\n- Technical manuals and ebooks\n- Multi-chapter documentation\n- Deep codebase analysis\n\n```\nUse the docs-architect agent to document the entire payment processing system\n```\n\n## Output Formats\n\n- **Markdown** - READMEs, guides, wikis\n- **OpenAPI/Swagger** - REST API documentation\n- **JSDoc/TSDoc** - Inline code documentation\n\n## Tips\n\n1. **Be specific** about what you want documented\n2. **Specify the format** if you have a preference\n3. **Use the agent** for comprehensive documentation needs\n\n## Integration\n\nThis command invokes the **documentation-generation** skill with: `$ARGUMENTS`\n\nFor detailed workflows and templates, see:\n- [WORKFLOW.md](../skills/documentation-generation/WORKFLOW.md)\n- [EXAMPLES.md](../skills/documentation-generation/EXAMPLES.md)"
              }
            ],
            "skills": [
              {
                "name": "managing-adrs",
                "description": "Create and manage Architecture Decision Records (ADRs) with auto-numbering, template detection, and index maintenance. Use when user mentions \"ADR\", \"architecture decision\", \"document this decision\", \"create ADR\", editing ADR files (docs/adr/, doc/adr/, .adr/), or discussing architectural choices and tradeoffs.",
                "path": "plugins/doc/skills/adr/SKILL.md",
                "frontmatter": {
                  "name": "managing-adrs",
                  "description": "Create and manage Architecture Decision Records (ADRs) with auto-numbering, template detection, and index maintenance. Use when user mentions \"ADR\", \"architecture decision\", \"document this decision\", \"create ADR\", editing ADR files (docs/adr/, doc/adr/, .adr/), or discussing architectural choices and tradeoffs."
                },
                "content": "# Architecture Decision Records\n\nCreate and manage Architecture Decision Records following project conventions with automatic numbering and index maintenance.\n\n## Auto-Invoke Triggers\n\nThis skill automatically activates when:\n1. **Keywords**: \"ADR\", \"architecture decision\", \"document this decision\", \"record the decision\"\n2. **Editing ADR files**: Files in `docs/adr/`, `doc/adr/`, `architecture/decisions/`, `.adr/`\n3. **Discussing architectural choices**: Framework selection, technology decisions, pattern choices\n\n## What This Skill Delivers\n\n### 1. ADR Creation\n- Auto-detect project's ADR directory\n- Auto-number ADRs (scan existing, increment)\n- Adapt to project's existing template style\n- Offer MADR 4.0 enhancements as optional additions\n\n### 2. Directory Discovery\nSearch order for ADR directories:\n1. `docs/adr/`\n2. `doc/adr/`\n3. `architecture/decisions/`\n4. `.adr/`\n5. Create `docs/adr/` if none exists\n\n### 3. Template Detection\nAnalyze existing ADRs to detect:\n- Naming convention: `NNNN-kebab-case-title.md` or `NNN-title.md`\n- Section structure: Status, Context, Decision, Consequences\n- Optional sections: Decision Drivers, Pros/Cons, Confirmation\n\n### 4. Index Maintenance\nAutomatically update README.md with ADR table:\n| Number | Title | Status | Date |\n|--------|-------|--------|------|\n\n### 5. Supersession Workflow\nWhen replacing an ADR:\n- Mark old ADR status as \"Superseded by [ADR-NNNN]\"\n- Link new ADR with \"Supersedes [ADR-NNNN]\"\n- Update README.md index\n\n## Core Template Sections\n\n### Required (Minimal)\n- **Status**: Proposed | Accepted | Deprecated | Superseded\n- **Date**: ISO 8601 format (YYYY-MM-DD)\n- **Context and Problem Statement**: 2-3 sentences describing the situation\n- **Decision**: What was decided and why\n- **Consequences**: Positive and negative impacts\n\n### Optional Enhancements (MADR 4.0)\n- **Technical Story**: Link to issue/spec (e.g., `#123`)\n- **Decision Drivers**: Bulleted list of forces/concerns\n- **Decision Makers**: Who made this decision\n- **Consulted**: Stakeholders whose opinions were sought\n- **Informed**: Stakeholders who need to know\n- **Considered Options**: List of alternatives evaluated\n- **Pros and Cons**: Detailed analysis per option\n- **Confirmation**: How to validate the decision was implemented\n\n## Quick Start\n\n### Create New ADR\n```bash\n# Auto-invoke by saying:\n\"Document the decision to use PostgreSQL over MongoDB\"\n\"Create an ADR for our authentication approach\"\n\"I need to record why we chose React Query\"\n```\n\n### Supersede Existing ADR\n```bash\n\"Supersede ADR-0005 with a new caching strategy\"\n\"Replace our database decision ADR with the new approach\"\n```\n\n## Scripts\n\nLocated in `scripts/` directory, using uv for execution:\n\n### adr_create.py\n```bash\nuv run scripts/adr_create.py --title \"Use PostgreSQL for persistence\"\nuv run scripts/adr_create.py --title \"...\" --template madr --create-dir\n```\n\n### adr_index.py\n```bash\nuv run scripts/adr_index.py --dir docs/adr\nuv run scripts/adr_index.py --dir docs/adr --dry-run\n```\n\n### adr_supersede.py\n```bash\nuv run scripts/adr_supersede.py --old 5 --new 12 --dir docs/adr\n```\n\n## Output Example\n\n```markdown\n# ADR-0012: Use PostgreSQL for Data Persistence\n\n## Status\nAccepted\n\n## Date\n2026-01-10\n\n## Context and Problem Statement\nWe need a reliable database solution for our microservices architecture\nthat supports complex queries and ACID transactions.\n\n## Decision\nChosen option: PostgreSQL, because it provides the best balance of\nACID compliance, query flexibility, and team familiarity.\n\n## Consequences\n**Positive:**\n- Full ACID transaction support\n- Mature ecosystem and tooling\n\n**Negative:**\n- Horizontal scaling requires more setup\n```\n\n## Progressive Disclosure\n\n- **Level 2**: [WORKFLOW.md](WORKFLOW.md) - Step-by-step methodology\n- **Level 3**: [EXAMPLES.md](EXAMPLES.md) - Real-world ADR examples\n- **Level 4**: [TROUBLESHOOTING.md](TROUBLESHOOTING.md) - Error handling\n\n## Related Resources\n\n- MADR 4.0 Template: https://adr.github.io/madr/\n- ADR GitHub Organization: https://github.com/adr"
              },
              {
                "name": "code-explanation",
                "description": "Explains complex code through clear narratives, visual diagrams, and step-by-step breakdowns. Use when user asks to explain code, understand algorithms, analyze design patterns, wants code walkthroughs, or mentions \"explain this code\", \"how does this work\", \"code breakdown\", or \"understand this function\".",
                "path": "plugins/doc/skills/code-explanation/SKILL.md",
                "frontmatter": {
                  "name": "code-explanation",
                  "description": "Explains complex code through clear narratives, visual diagrams, and step-by-step breakdowns. Use when user asks to explain code, understand algorithms, analyze design patterns, wants code walkthroughs, or mentions \"explain this code\", \"how does this work\", \"code breakdown\", or \"understand this function\"."
                },
                "content": "# Code Explanation\n\nExpert skill for explaining complex code to developers at all levels through visual aids, step-by-step breakdowns, and progressive complexity.\n\n## Quick Start\n\n### 1. Analyze Complexity First\n\nBefore explaining, assess the code:\n- **Lines of code** and structural complexity\n- **Concepts used** (async, decorators, generators, etc.)\n- **Design patterns** present\n- **Difficulty level** (beginner/intermediate/advanced)\n\n### 2. Choose Explanation Depth\n\n| Audience | Approach |\n|----------|----------|\n| Beginner | Start with analogies, avoid jargon, explain fundamentals |\n| Intermediate | Focus on patterns and design decisions |\n| Advanced | Deep dive into implementation details and trade-offs |\n\n### 3. Use Visual Aids\n\nGenerate Mermaid diagrams for:\n- **Flow diagrams** - Control flow and decision trees\n- **Class diagrams** - Object relationships and inheritance\n- **Sequence diagrams** - Method calls and interactions\n\n### 4. Progressive Disclosure\n\nStructure explanations from simple to complex:\n1. **Overview** - What does this code do? (1-2 sentences)\n2. **Key Concepts** - What programming concepts are used?\n3. **Step-by-Step** - Walk through the logic\n4. **Deep Dive** - Advanced details for those who want more\n\n## Output Format\n\n### Standard Explanation Structure\n\n```markdown\n## What This Code Does\n[1-2 sentence summary]\n\n## Key Concepts\n- Concept 1: Brief explanation\n- Concept 2: Brief explanation\n\n## Visual Overview\n[Mermaid diagram if complexity warrants]\n\n## Step-by-Step Breakdown\n1. [First step with code reference]\n2. [Second step with code reference]\n...\n\n## Common Questions\n- Why is X done this way?\n- What happens if Y?\n\n## Related Patterns\n[Links to similar patterns or alternatives]\n```\n\n## Core Techniques\n\n### Explaining Algorithms\n1. State the problem being solved\n2. Show input  output transformation\n3. Visualize with step-by-step execution\n4. Analyze time/space complexity\n\n### Explaining Design Patterns\n1. Name the pattern\n2. Explain the problem it solves\n3. Show UML-style diagram\n4. List benefits and trade-offs\n\n### Explaining Complex Functions\n1. Signature and purpose\n2. Parameter meanings\n3. Return value\n4. Side effects (if any)\n5. Edge cases\n\n## Best Practices\n\n- **Use analogies** - Compare to real-world concepts\n- **Show, don't just tell** - Include code snippets\n- **Reference line numbers** - Use `file_path:line_number` format\n- **Highlight gotchas** - Point out non-obvious behavior\n- **Suggest improvements** - When appropriate\n\n## Resources\n\n- [WORKFLOW.md](WORKFLOW.md) - Detailed step-by-step methodology\n- [EXAMPLES.md](EXAMPLES.md) - Comprehensive explanation examples\n\n## Integration\n\nThis skill auto-invokes when triggered by explanation-related keywords. For explicit control, use the `/code-explain` command."
              },
              {
                "name": "diagramming",
                "description": "Creates and edits Mermaid diagrams for flowcharts, sequence diagrams, ERDs, state machines, architecture diagrams, process flows, timelines, and more. Use when user mentions diagram, flowchart, mermaid, visualize, refactor diagram, sequence diagram, ERD, architecture diagram, process flow, state machine, or needs visual documentation.",
                "path": "plugins/doc/skills/diagramming/SKILL.md",
                "frontmatter": {
                  "name": "diagramming",
                  "description": "Creates and edits Mermaid diagrams for flowcharts, sequence diagrams, ERDs, state machines, architecture diagrams, process flows, timelines, and more. Use when user mentions diagram, flowchart, mermaid, visualize, refactor diagram, sequence diagram, ERD, architecture diagram, process flow, state machine, or needs visual documentation."
                },
                "content": "# Mermaid Diagram Generator\n\nExpert skill for creating clear, professional Mermaid diagrams for documentation and visualization.\n\n## Supported Diagram Types\n\n```\ngraph/flowchart     - Flowcharts and decision trees\nsequenceDiagram     - API interactions and workflows\nclassDiagram        - Object-oriented structures\nstateDiagram-v2     - State machines and transitions\nerDiagram           - Database relationships\ngantt               - Project timelines\npie                 - Data distributions\ngitGraph            - Git branching strategies\njourney             - User experience flows\nquadrantChart       - Priority matrices\ntimeline            - Historical events\n```\n\n## Quick Start\n\n### Creating a New Diagram\n\n1. **Identify the right diagram type** based on what you're visualizing\n2. **Choose appropriate layout** (TB=top-to-bottom, LR=left-to-right, etc.)\n3. **Keep it readable** - avoid overcrowding nodes\n4. **Use consistent styling** - colors and shapes should have meaning\n5. **Add meaningful labels** - clear, concise descriptions\n\n### Editing Existing Diagrams\n\n1. **Preserve the structure** - maintain existing node IDs and relationships\n2. **Match the style** - use the same syntax patterns and formatting\n3. **Test incrementally** - verify changes render correctly\n4. **Document changes** - add comments for complex modifications\n\n## Core Approach\n\n**Readability First**\n- Maximum 15-20 nodes per diagram\n- Use subgraphs to organize complex flows\n- Consistent spacing and indentation\n\n**Meaningful Styling**\n- Colors indicate categories (success=green, error=red, etc.)\n- Shapes indicate types (rectangle=process, diamond=decision, etc.)\n- Line styles indicate relationships (solid=strong, dashed=weak, etc.)\n\n**Professional Output**\n- Complete, working Mermaid code\n- Both basic and styled versions\n- Inline comments explaining complex syntax\n- Rendering preview instructions\n\n## Output Format\n\n````markdown\n```mermaid\ngraph TD\n    A[Start] --> B{Decision}\n    B -->|Yes| C[Action 1]\n    B -->|No| D[Action 2]\n\n    %% Styling\n    classDef success fill:#90EE90\n    classDef error fill:#FFB6C6\n    class C success\n    class D error\n```\n````\n\n## Common Use Cases\n\n- **Documentation**: System architecture, API flows, data models\n- **Planning**: Project timelines, user journeys, decision trees\n- **Analysis**: State machines, entity relationships, git workflows\n- **Communication**: Process flows, sequence diagrams, quadrant charts\n\n## Workflow\n\nSee [WORKFLOW.md](WORKFLOW.md) for detailed step-by-step methodology including diagram type selection, creation process, styling guidelines, and quality validation.\n\n## Examples\n\nSee [EXAMPLES.md](EXAMPLES.md) for comprehensive examples of all diagram types with real-world use cases.\n\n## Troubleshooting\n\nSee [TROUBLESHOOTING.md](TROUBLESHOOTING.md) for common syntax errors, rendering issues, and optimization tips.\n\n## Best Practices\n\n1. **Start simple** - Get basic structure working first, then add styling\n2. **Use subgraphs** - Group related nodes for clarity\n3. **Limit connections** - Too many arrows create visual noise\n4. **Test rendering** - Verify diagram displays correctly before delivery\n5. **Provide alternatives** - Suggest different diagram types if needed\n6. **Consider accessibility** - Use patterns in addition to colors\n7. **Export recommendations** - SVG for scalability, PNG for compatibility\n\n## Integration\n\nThis skill auto-invokes when triggered by keywords. For manual control, use the `/diagram` command.\n\nWhen invoked by `/doc-generate`, this skill provides diagram generation capabilities for comprehensive documentation."
              },
              {
                "name": "documentation-generation",
                "description": "Generate documentation from code including API docs, READMEs, architecture guides, and technical references. Use when user mentions \"generate docs\", \"create documentation\", \"write README\", \"API documentation\", \"document this code\", or needs any documentation artifacts. Routes to docs-architect agent for comprehensive 10+ page documentation.",
                "path": "plugins/doc/skills/documentation-generation/SKILL.md",
                "frontmatter": {
                  "name": "documentation-generation",
                  "description": "Generate documentation from code including API docs, READMEs, architecture guides, and technical references. Use when user mentions \"generate docs\", \"create documentation\", \"write README\", \"API documentation\", \"document this code\", or needs any documentation artifacts. Routes to docs-architect agent for comprehensive 10+ page documentation."
                },
                "content": "# Documentation Generation\n\nGenerate documentation artifacts from code with appropriate depth based on scope.\n\n## Quick Decision: Simple vs Comprehensive\n\n| Documentation Need | Approach |\n|--------------------|----------|\n| README for a module | Use patterns below |\n| API reference | Use OpenAPI patterns below |\n| Single component docs | Use patterns below |\n| **Full system documentation** | Use `docs-architect` agent |\n| **Architecture guides (10+ pages)** | Use `docs-architect` agent |\n| **Technical manuals** | Use `docs-architect` agent |\n\n## When to Use docs-architect Agent\n\nRoute to the agent for comprehensive documentation needs:\n\n```\nUse the docs-architect agent to create comprehensive documentation for [system/module]\n```\n\nThe agent excels at:\n- Deep codebase analysis\n- 10-100+ page technical documentation\n- Architecture documentation with rationale\n- Multi-chapter technical manuals\n\n## Quick Patterns\n\n### README Generation\n\n```markdown\n# Project Name\n\nBrief description (1-2 sentences)\n\n## Features\n- Feature 1\n- Feature 2\n\n## Installation\n[Installation steps]\n\n## Quick Start\n[Minimal working example]\n\n## Configuration\n[Key configuration options]\n\n## API Reference\n[Link or inline reference]\n\n## Contributing\n[Contribution guidelines]\n\n## License\n[License type]\n```\n\n### API Documentation (OpenAPI)\n\n```yaml\nopenapi: 3.0.0\ninfo:\n  title: API Name\n  version: 1.0.0\npaths:\n  /resource:\n    get:\n      summary: Get resources\n      responses:\n        '200':\n          description: Success\n```\n\n### Component Documentation\n\n```markdown\n## ComponentName\n\n**Purpose**: What it does (1 sentence)\n\n**Props/Parameters**:\n| Name | Type | Required | Description |\n|------|------|----------|-------------|\n\n**Usage**:\n[Code example]\n\n**Notes**:\n- Important behavior\n- Edge cases\n```\n\n### Function Documentation\n\n```markdown\n## functionName\n\n**Purpose**: What it does\n\n**Parameters**:\n- `param1` (Type): Description\n- `param2` (Type): Description\n\n**Returns**: Type - Description\n\n**Example**:\n[Code example]\n\n**Throws**: ErrorType - When condition\n```\n\n## Documentation Quality Checklist\n\n- [ ] Purpose clear in first sentence\n- [ ] Installation/setup instructions complete\n- [ ] Working examples included\n- [ ] Edge cases documented\n- [ ] API contracts specified\n- [ ] Configuration options listed\n\n## Output Formats\n\n| Format | Use Case |\n|--------|----------|\n| Markdown | READMEs, guides, wikis |\n| OpenAPI/Swagger | REST API documentation |\n| JSDoc/TSDoc | Inline code documentation |\n| Docstrings | Python documentation |\n\n## Resources\n\n- [WORKFLOW.md](WORKFLOW.md) - Step-by-step documentation workflows\n- [EXAMPLES.md](EXAMPLES.md) - Complete documentation templates\n\n## Integration\n\nThis skill auto-invokes on documentation keywords. For explicit control, use `/doc-generate`.\n\nFor comprehensive documentation (architecture guides, technical manuals), invoke:\n```\nUse the docs-architect agent to document [scope]\n```"
              }
            ]
          },
          {
            "name": "review",
            "description": "Code quality review tools for development teams",
            "source": "./plugins/review",
            "category": null,
            "version": null,
            "author": null,
            "install_commands": [
              "/plugin marketplace add joaquimscosta/arkhe-claude-plugins",
              "/plugin install review@arkhe-claude-plugins"
            ],
            "signals": {
              "stars": 3,
              "forks": 0,
              "pushed_at": "2026-01-12T16:47:59Z",
              "created_at": "2025-10-24T15:27:58Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/code",
                "description": "Conduct a comprehensive code review with optional custom output path",
                "path": "plugins/review/commands/code.md",
                "frontmatter": {
                  "allowed-tools": "Grep, LS, Read, Edit, MultiEdit, Write, NotebookEdit, WebFetch, TodoWrite, WebSearch, BashOutput, KillBash, ListMcpResourcesTool, ReadMcpResourceTool, mcp__context7__resolve-library-id, mcp__context7__get-library-docs, mcp__playwright__browser_close, mcp__playwright__browser_resize, mcp__playwright__browser_console_messages, mcp__playwright__browser_handle_dialog, mcp__playwright__browser_evaluate, mcp__playwright__browser_file_upload, mcp__playwright__browser_install, mcp__playwright__browser_press_key, mcp__playwright__browser_type, mcp__playwright__browser_navigate, mcp__playwright__browser_navigate_back, mcp__playwright__browser_navigate_forward, mcp__playwright__browser_network_requests, mcp__playwright__browser_take_screenshot, mcp__playwright__browser_snapshot, mcp__playwright__browser_click, mcp__playwright__browser_drag, mcp__playwright__browser_hover, mcp__playwright__browser_select_option, mcp__playwright__browser_tab_list, mcp__playwright__browser_tab_new, mcp__playwright__browser_tab_select, mcp__playwright__browser_tab_close, mcp__playwright__browser_wait_for, Bash, Glob",
                  "description": "Conduct a comprehensive code review with optional custom output path"
                },
                "content": "# Code Review Command\n\nYou are acting as the Principal Engineer AI Reviewer for a high-velocity, lean startup. Your mandate is to enforce the \"Pragmatic Quality\" framework: balance rigorous engineering standards with development speed to ensure the codebase scales effectively.\n\n## Parse Arguments\n\n**Output Path Configuration**:\n- If `$ARGUMENTS` is provided and non-empty: Use `$ARGUMENTS` as the output directory\n- Otherwise: Use default `./reviews/code/`\n\nExample usage:\n- `/code`  saves to `./reviews/code/`\n- `/code custom/reviews`  saves to `custom/reviews/`\n\n## Git Analysis\n\nAnalyze the following outputs to understand the scope and content of the changes you must review.\n\nGIT STATUS:\n\n```\n!`git status`\n```\n\nFILES MODIFIED:\n\n```\n!`git diff --name-only origin/HEAD...`\n```\n\nCOMMITS:\n\n```\n!`git log --no-decorate origin/HEAD...`\n```\n\nDIFF CONTENT:\n\n```\n!`git diff --merge-base origin/HEAD`\n```\n\nReview the complete diff above. This contains all code changes in the PR.\n\n\nOBJECTIVE:\nUse the pragmatic-code-review agent to comprehensively review the complete diff above.\n\nOUTPUT INSTRUCTIONS:\n\n1. **Determine output directory**:\n   - Parse `$ARGUMENTS` to get custom path (if provided)\n   - If no arguments or empty: use `./reviews/code/`\n\n2. **Create output directory** using the Bash tool:\n   - Use `mkdir -p {determined-output-directory}` to create the directory if it doesn't exist\n   - Replace `{determined-output-directory}` with the actual path from step 1\n\n3. **Save the report** to: `{output-directory}/{YYYY-MM-DD}_{HH-MM-SS}_code-review.md`\n\n   Include this header in the saved file:\n   ```markdown\n   # Pragmatic Code Review Report\n\n   **Date**: {ISO 8601 date}\n   **Branch**: !`git branch --show-current`\n   **Commit**: !`git rev-parse --short HEAD`\n   **Reviewer**: Claude Code (pragmatic-code-review agent)\n\n   ---\n   ```\n\n4. **Display the full report** to the user in the chat\n\n5. **Confirm the save**: \" Report saved to: {output-directory}/{filename}\"\n\n6. **Content Guidelines**: Provide specific, actionable feedback. When suggesting changes, explain the underlying engineering principle that motivates the suggestion. Be constructive and concise."
              },
              {
                "name": "/codebase",
                "description": "Generate comprehensive analysis and documentation of entire codebase",
                "path": "plugins/review/commands/codebase.md",
                "frontmatter": {
                  "allowed-tools": "Bash(find:*), Bash(ls:*), Bash(tree:*), Bash(grep:*), Bash(wc:*), Bash(du:*), Bash(head:*), Bash(tail:*), Bash(cat:*), Bash(touch:*)",
                  "description": "Generate comprehensive analysis and documentation of entire codebase"
                },
                "content": "# Comprehensive Codebase Analysis\n\n## Project Discovery Phase\n\n### Directory Structure\n!`find . -type d -not -path \"./node_modules/*\" -not -path \"./.git/*\" -not -path \"./dist/*\" -not -path \"./build/*\" -not -path \"./.next/*\" -not -path \"./coverage/*\" | sort`\n\n### Complete File Tree\n!`tree -a -I 'node_modules|.git|dist|build|.next|coverage|*.log' -L 4`\n\n### File Count and Size Analysis\n- Total files: !`find . -type f -not -path \"./node_modules/*\" -not -path \"./.git/*\" | wc -l`\n- Code files: !`find . -name \"*.js\" -o -name \"*.ts\" -o -name \"*.jsx\" -o -name \"*.tsx\" -o -name \"*.py\" -o -name \"*.java\" -o -name \"*.php\" -o -name \"*.rb\" -o -name \"*.go\" -o -name \"*.rs\" -o -name \"*.cpp\" -o -name \"*.c\" | grep -v node_modules | wc -l`\n- Project size: !`du -sh . --exclude=node_modules --exclude=.git --exclude=dist --exclude=build`\n\n## Configuration Files Analysis\n\n### Package Management\n- Package.json: @package.json\n- Package-lock.json exists: !`ls package-lock.json 2>/dev/null || echo \"Not found\"`\n- Yarn.lock exists: !`ls yarn.lock 2>/dev/null || echo \"Not found\"`\n- Requirements.txt: @requirements.txt\n- Gemfile: @Gemfile\n- Cargo.toml: @Cargo.toml\n- Go.mod: @go.mod\n- Composer.json: @composer.json\n\n### Build & Dev Tools\n- Webpack config: @webpack.config.js\n- Vite config: @vite.config.js\n- Rollup config: @rollup.config.js\n- Babel config: @.babelrc\n- ESLint config: @.eslintrc.js\n- Prettier config: @.prettierrc\n- TypeScript config: @tsconfig.json\n- Tailwind config: @tailwind.config.js\n- Next.js config: @next.config.js\n\n### Environment & Docker\n- .env files: !`find . -name \".env*\" -type f`\n- Docker files: !`find . -name \"Dockerfile*\" -o -name \"docker-compose*\"`\n- Kubernetes files: !`find . -name \"*.yaml\" -o -name \"*.yml\" | grep -E \"(k8s|kubernetes|deployment|service)\"`\n\n### CI/CD Configuration\n- GitHub Actions: !`find .github -name \"*.yml\" -o -name \"*.yaml\" 2>/dev/null || echo \"No GitHub Actions\"`\n- GitLab CI: @.gitlab-ci.yml\n- Travis CI: @.travis.yml\n- Circle CI: @.circleci/config.yml\n\n## Source Code Analysis\n\n### Main Application Files\n- Main entry points: !`find . -name \"main.*\" -o -name \"index.*\" -o -name \"app.*\" -o -name \"server.*\" | grep -v node_modules | head -10`\n- Routes/Controllers: !`find . -path \"*/routes/*\" -o -path \"*/controllers/*\" -o -path \"*/api/*\" | grep -v node_modules | head -20`\n- Models/Schemas: !`find . -path \"*/models/*\" -o -path \"*/schemas/*\" -o -path \"*/entities/*\" | grep -v node_modules | head -20`\n- Components: !`find . -path \"*/components/*\" -o -path \"*/views/*\" -o -path \"*/pages/*\" | grep -v node_modules | head -20`\n\n### Database & Storage\n- Database configs: !`find . -name \"*database*\" -o -name \"*db*\" -o -name \"*connection*\" | grep -v node_modules | head -10`\n- Migration files: !`find . -path \"*/migrations/*\" -o -path \"*/migrate/*\" | head -10`\n- Seed files: !`find . -path \"*/seeds/*\" -o -path \"*/seeders/*\" | head -10`\n\n### Testing Files\n- Test files: !`find . -name \"*test*\" -o -name \"*spec*\" | grep -v node_modules | head -15`\n- Test config: @jest.config.js\n\n### API Documentation\n- API docs: !`find . -name \"*api*\" -name \"*.md\" -o -name \"swagger*\" -o -name \"openapi*\" | head -10`\n\n## Key Files Content Analysis\n\n### Root Configuration Files\n@README.md\n@LICENSE\n@.gitignore\n\n### Main Application Entry Points\n!`find . -name \"index.js\" -o -name \"index.ts\" -o -name \"main.js\" -o -name \"main.ts\" -o -name \"app.js\" -o -name \"app.ts\" -o -name \"server.js\" -o -name \"server.ts\" | grep -v node_modules | head -5 | while read file; do echo \"=== $file ===\"; head -50 \"$file\"; echo; done`\n\n## Your Task\n\nBased on all the discovered information above, create a comprehensive analysis that includes:\n\n## 1. Project Overview\n- Project type (web app, API, library, etc.)\n- Tech stack and frameworks\n- Architecture pattern (MVC, microservices, etc.)\n- Language(s) and versions\n\n## 2. Detailed Directory Structure Analysis\nFor each major directory, explain:\n- Purpose and role in the application\n- Key files and their functions\n- How it connects to other parts\n\n## 3. File-by-File Breakdown\nOrganize by category:\n- **Core Application Files**: Main entry points, routing, business logic\n- **Configuration Files**: Build tools, environment, deployment\n- **Data Layer**: Models, database connections, migrations\n- **Frontend/UI**: Components, pages, styles, assets\n- **Testing**: Test files, mocks, fixtures\n- **Documentation**: README, API docs, guides\n- **DevOps**: CI/CD, Docker, deployment scripts\n\n## 4. API Endpoints Analysis\nIf applicable, document:\n- All discovered endpoints and their methods\n- Authentication/authorization patterns\n- Request/response formats\n- API versioning strategy\n\n## 5. Architecture Deep Dive\nExplain:\n- Overall application architecture\n- Data flow and request lifecycle\n- Key design patterns used\n- Dependencies between modules\n\n## 6. Environment & Setup Analysis\nDocument:\n- Required environment variables\n- Installation and setup process\n- Development workflow\n- Production deployment strategy\n\n## 7. Technology Stack Breakdown\nList and explain:\n- Runtime environment\n- Frameworks and libraries\n- Database technologies\n- Build tools and bundlers\n- Testing frameworks\n- Deployment technologies\n\n## 8. Visual Architecture Diagram\nCreate a comprehensive diagram showing:\n- High-level system architecture\n- Component relationships\n- Data flow\n- External integrations\n- File structure hierarchy\n\nUse ASCII art, mermaid syntax, or detailed text representation to show:\n          \n     Frontend          API            Database     \n   (React/Vue)           (Node/Flask)        (Postgres/Mongo)\n          \n\n## 9. Key Insights & Recommendations\nProvide:\n- Code quality assessment\n- Potential improvements\n- Security considerations\n- Performance optimization opportunities\n- Maintainability suggestions\n\nThink deeply about the codebase structure and provide comprehensive insights that would be valuable for new developers joining the project or for architectural decision-making.\n\nAt the end, write all of the output into a file called \"codebase_analysis.md\""
              },
              {
                "name": "/design",
                "description": "Complete a design review of the pending changes on the current branch",
                "path": "plugins/review/commands/design.md",
                "frontmatter": {
                  "allowed-tools": "Grep, LS, Read, Edit, MultiEdit, Write, NotebookEdit, WebFetch, TodoWrite, WebSearch, BashOutput, KillBash, ListMcpResourcesTool, ReadMcpResourceTool, mcp__context7__resolve-library-id, mcp__context7__get-library-docs, mcp__playwright__browser_close, mcp__playwright__browser_resize, mcp__playwright__browser_console_messages, mcp__playwright__browser_handle_dialog, mcp__playwright__browser_evaluate, mcp__playwright__browser_file_upload, mcp__playwright__browser_install, mcp__playwright__browser_press_key, mcp__playwright__browser_type, mcp__playwright__browser_navigate, mcp__playwright__browser_navigate_back, mcp__playwright__browser_navigate_forward, mcp__playwright__browser_network_requests, mcp__playwright__browser_take_screenshot, mcp__playwright__browser_snapshot, mcp__playwright__browser_click, mcp__playwright__browser_drag, mcp__playwright__browser_hover, mcp__playwright__browser_select_option, mcp__playwright__browser_tab_list, mcp__playwright__browser_tab_new, mcp__playwright__browser_tab_select, mcp__playwright__browser_tab_close, mcp__playwright__browser_wait_for, Bash, Glob",
                  "description": "Complete a design review of the pending changes on the current branch"
                },
                "content": "# Design Review Command\n\nYou are an elite design review specialist with deep expertise in user experience, visual design, accessibility, and front-end implementation. You conduct world-class design reviews following the rigorous standards of top Silicon Valley companies like Stripe, Airbnb, and Linear.\n\n## Parse Arguments\n\n**Output Path Configuration**:\n- If `$ARGUMENTS` is provided and non-empty: Use `$ARGUMENTS` as the output directory\n- Otherwise: Use default `./reviews/design/`\n\nExample usage:\n- `/design`  saves to `./reviews/design/`\n- `/design custom/reviews`  saves to `custom/reviews/`\n\n## Git Analysis\n\nAnalyze the following outputs to understand the scope and content of the changes you must review.\n\nGIT STATUS:\n\n```\n!`git status`\n```\n\nFILES MODIFIED:\n\n```\n!`git diff --name-only origin/HEAD...`\n```\n\nCOMMITS:\n\n```\n!`git log --no-decorate origin/HEAD...`\n```\n\nDIFF CONTENT:\n\n```\n!`git diff --merge-base origin/HEAD`\n```\n\nReview the complete diff above. This contains all code changes in the PR.\n\n\nOBJECTIVE:\nUse the design-review agent to comprehensively review the complete diff above.\n\nOUTPUT INSTRUCTIONS:\n\n1. **Determine output directory**:\n   - Parse `$ARGUMENTS` to get custom path (if provided)\n   - If no arguments or empty: use `./reviews/design/`\n\n2. **Create output directory** using the Bash tool:\n   - Use `mkdir -p {determined-output-directory}` to create the directory if it doesn't exist\n   - Replace `{determined-output-directory}` with the actual path from step 1\n\n3. **Save the report** to: `{output-directory}/{YYYY-MM-DD}_{HH-MM-SS}_design-review.md`\n\n   Include this header in the saved file:\n   ```markdown\n   # Design Review Report\n\n   **Date**: {ISO 8601 date}\n   **Branch**: !`git branch --show-current`\n   **Commit**: !`git rev-parse --short HEAD`\n   **Reviewer**: Claude Code (design-review agent)\n\n   ---\n   ```\n\n4. **Display the full report** to the user in the chat\n\n5. **Confirm the save**: \" Report saved to: {output-directory}/{filename}\"\n\n6. **Content Guidelines**: Apply world-class design standards and accessibility best practices (WCAG 2.1 AA) following the project's established design system. Prioritize user experience, visual consistency, and inclusive design principles."
              },
              {
                "name": "/security",
                "description": "Complete a security review with optional custom output path",
                "path": "plugins/review/commands/security.md",
                "frontmatter": {
                  "allowed-tools": "Bash(git diff:*), Bash(git status:*), Bash(git log:*), Bash(git show:*), Bash(git remote show:*), Read, Glob, Grep, LS, Task",
                  "description": "Complete a security review with optional custom output path"
                },
                "content": "# Security Review Command\n\nYou are a senior security engineer conducting a focused security review of the changes on this branch.\n\n## Parse Arguments\n\n**Output Path Configuration**:\n- If `$ARGUMENTS` is provided and non-empty: Use `$ARGUMENTS` as the output directory\n- Otherwise: Use default `./reviews/security/`\n\nExample usage:\n- `/security`  saves to `./reviews/security/`\n- `/security audits/security`  saves to `audits/security/`\n\nGIT STATUS:\n\n```\n!`git status`\n```\n\nFILES MODIFIED:\n\n```\n!`git diff --name-only origin/HEAD...`\n```\n\nCOMMITS:\n\n```\n!`git log --no-decorate origin/HEAD...`\n```\n\nDIFF CONTENT:\n\n```\n!`git diff --merge-base origin/HEAD`\n```\n\nReview the complete diff above. This contains all code changes in the PR.\n\n\nOBJECTIVE:\nPerform a security-focused code review to identify HIGH-CONFIDENCE security vulnerabilities that could have real exploitation potential. This is not a general code review - focus ONLY on security implications newly added by this PR. Do not comment on existing security concerns.\n\nCRITICAL INSTRUCTIONS:\n1. MINIMIZE FALSE POSITIVES: Only flag issues where you're >80% confident of actual exploitability\n2. AVOID NOISE: Skip theoretical issues, style concerns, or low-impact findings\n3. FOCUS ON IMPACT: Prioritize vulnerabilities that could lead to unauthorized access, data breaches, or system compromise\n4. EXCLUSIONS: Do NOT report the following issue types:\n   - Denial of Service (DOS) vulnerabilities, even if they allow service disruption\n   - Secrets or sensitive data stored on disk (these are handled by other processes)\n   - Rate limiting or resource exhaustion issues\n\nSECURITY CATEGORIES TO EXAMINE:\n\n**Input Validation Vulnerabilities:**\n- SQL injection via unsanitized user input\n- Command injection in system calls or subprocesses\n- XXE injection in XML parsing\n- Template injection in templating engines\n- NoSQL injection in database queries\n- Path traversal in file operations\n\n**Authentication & Authorization Issues:**\n- Authentication bypass logic\n- Privilege escalation paths\n- Session management flaws\n- JWT token vulnerabilities\n- Authorization logic bypasses\n\n**Crypto & Secrets Management:**\n- Hardcoded API keys, passwords, or tokens\n- Weak cryptographic algorithms or implementations\n- Improper key storage or management\n- Cryptographic randomness issues\n- Certificate validation bypasses\n\n**Injection & Code Execution:**\n- Remote code execution via deseralization\n- Pickle injection in Python\n- YAML deserialization vulnerabilities\n- Eval injection in dynamic code execution\n- XSS vulnerabilities in web applications (reflected, stored, DOM-based)\n\n**Data Exposure:**\n- Sensitive data logging or storage\n- PII handling violations\n- API endpoint data leakage\n- Debug information exposure\n\nAdditional notes:\n- Even if something is only exploitable from the local network, it can still be a HIGH severity issue\n\nANALYSIS METHODOLOGY:\n\nPhase 1 - Repository Context Research (Use file search tools):\n- Identify existing security frameworks and libraries in use\n- Look for established secure coding patterns in the codebase\n- Examine existing sanitization and validation patterns\n- Understand the project's security model and threat model\n\nPhase 2 - Comparative Analysis:\n- Compare new code changes against existing security patterns\n- Identify deviations from established secure practices\n- Look for inconsistent security implementations\n- Flag code that introduces new attack surfaces\n\nPhase 3 - Vulnerability Assessment:\n- Examine each modified file for security implications\n- Trace data flow from user inputs to sensitive operations\n- Look for privilege boundaries being crossed unsafely\n- Identify injection points and unsafe deserialization\n\nREQUIRED OUTPUT FORMAT:\n\nYou MUST output your findings in markdown. The markdown output should contain the file, line number, severity, category (e.g. `sql_injection` or `xss`), description, exploit scenario, and fix recommendation. \n\nFor example:\n\n# Vuln 1: XSS: `foo.py:42`\n\n* Severity: High\n* Description: User input from `username` parameter is directly interpolated into HTML without escaping, allowing reflected XSS attacks\n* Exploit Scenario: Attacker crafts URL like /bar?q=<script>alert(document.cookie)</script> to execute JavaScript in victim's browser, enabling session hijacking or data theft\n* Recommendation: Use Flask's escape() function or Jinja2 templates with auto-escaping enabled for all user inputs rendered in HTML\n\n## FILE OUTPUT REQUIREMENTS:\n\nAfter completing your analysis, you MUST:\n\n1. **Determine output directory**:\n   - Parse `$ARGUMENTS` to get custom path (if provided)\n   - If no arguments or empty: use `./reviews/security/`\n\n2. **Create output directory** using the Bash tool:\n   - Use `mkdir -p {determined-output-directory}` to create the directory if it doesn't exist\n   - Replace `{determined-output-directory}` with the actual path from step 1\n\n3. **Save the report** to: `{output-directory}/{YYYY-MM-DD}_{HH-MM-SS}_security-review.md`\n\n   Include this header in the saved file:\n   ```markdown\n   # Security Review Report\n\n   **Date**: {ISO 8601 date}\n   **Branch**: !`git branch --show-current`\n   **Commit**: !`git rev-parse --short HEAD`\n   **Reviewer**: Claude Code (security-review agent)\n   **Confidence Threshold**: 8/10 minimum\n\n   ## Summary\n   - **HIGH Severity**: {count} findings\n   - **MEDIUM Severity**: {count} findings\n   - **Total**: {count} actionable vulnerabilities\n\n   ---\n   ```\n\n4. **Display the full report** to the user in the chat\n\n5. **Confirm the save**: \" Security report saved to: {output-directory}/{filename}\"\n\nSEVERITY GUIDELINES:\n- **HIGH**: Directly exploitable vulnerabilities leading to RCE, data breach, or authentication bypass\n- **MEDIUM**: Vulnerabilities requiring specific conditions but with significant impact\n- **LOW**: Defense-in-depth issues or lower-impact vulnerabilities\n\nCONFIDENCE SCORING:\n- 0.9-1.0: Certain exploit path identified, tested if possible\n- 0.8-0.9: Clear vulnerability pattern with known exploitation methods\n- 0.7-0.8: Suspicious pattern requiring specific conditions to exploit\n- Below 0.7: Don't report (too speculative)\n\nFINAL REMINDER:\nFocus on HIGH and MEDIUM findings only. Better to miss some theoretical issues than flood the report with false positives. Each finding should be something a security engineer would confidently raise in a PR review.\n\nFALSE POSITIVE FILTERING:\n\n> You do not need to run commands to reproduce the vulnerability, just read the code to determine if it is a real vulnerability. Do not use the bash tool or write to any files.\n>\n> HARD EXCLUSIONS - Automatically exclude findings matching these patterns:\n> 1. Denial of Service (DOS) vulnerabilities or resource exhaustion attacks.\n> 2. Secrets or credentials stored on disk if they are otherwise secured.\n> 3. Rate limiting concerns or service overload scenarios.\n> 4. Memory consumption or CPU exhaustion issues.\n> 5. Lack of input validation on non-security-critical fields without proven security impact.\n> 6. Input sanitization concerns for GitHub Action workflows unless they are clearly triggerable via untrusted input.\n> 7. A lack of hardening measures. Code is not expected to implement all security best practices, only flag concrete vulnerabilities.\n> 8. Race conditions or timing attacks that are theoretical rather than practical issues. Only report a race condition if it is concretely problematic.\n> 9. Vulnerabilities related to outdated third-party libraries. These are managed separately and should not be reported here.\n> 10. Memory safety issues such as buffer overflows or use-after-free-vulnerabilities are impossible in rust. Do not report memory safety issues in rust or any other memory safe languages.\n> 11. Files that are only unit tests or only used as part of running tests.\n> 12. Log spoofing concerns. Outputting un-sanitized user input to logs is not a vulnerability.\n> 13. SSRF vulnerabilities that only control the path. SSRF is only a concern if it can control the host or protocol.\n> 14. Including user-controlled content in AI system prompts is not a vulnerability.\n> 15. Regex injection. Injecting untrusted content into a regex is not a vulnerability.\n> 16. Regex DOS concerns.\n> 16. Insecure documentation. Do not report any findings in documentation files such as markdown files.\n> 17. A lack of audit logs is not a vulnerability.\n> \n> PRECEDENTS -\n> 1. Logging high value secrets in plaintext is a vulnerability. Logging URLs is assumed to be safe.\n> 2. UUIDs can be assumed to be unguessable and do not need to be validated.\n> 3. Environment variables and CLI flags are trusted values. Attackers are generally not able to modify them in a secure environment. Any attack that relies on controlling an environment variable is invalid.\n> 4. Resource management issues such as memory or file descriptor leaks are not valid.\n> 5. Subtle or low impact web vulnerabilities such as tabnabbing, XS-Leaks, prototype pollution, and open redirects should not be reported unless they are extremely high confidence.\n> 6. React and Angular are generally secure against XSS. These frameworks do not need to sanitize or escape user input unless it is using dangerouslySetInnerHTML, bypassSecurityTrustHtml, or similar methods. Do not report XSS vulnerabilities in React or Angular components or tsx files unless they are using unsafe methods.\n> 7. Most vulnerabilities in github action workflows are not exploitable in practice. Before validating a github action workflow vulnerability ensure it is concrete and has a very specific attack path.\n> 8. A lack of permission checking or authentication in client-side JS/TS code is not a vulnerability. Client-side code is not trusted and does not need to implement these checks, they are handled on the server-side. The same applies to all flows that send untrusted data to the backend, the backend is responsible for validating and sanitizing all inputs.\n> 9. Only include MEDIUM findings if they are obvious and concrete issues.\n> 10. Most vulnerabilities in ipython notebooks (*.ipynb files) are not exploitable in practice. Before validating a notebook vulnerability ensure it is concrete and has a very specific attack path where untrusted input can trigger the vulnerability.\n> 11. Logging non-PII data is not a vulnerability even if the data may be sensitive. Only report logging vulnerabilities if they expose sensitive information such as secrets, passwords, or personally identifiable information (PII).\n> 12. Command injection vulnerabilities in shell scripts are generally not exploitable in practice since shell scripts generally do not run with untrusted user input. Only report command injection vulnerabilities in shell scripts if they are concrete and have a very specific attack path for untrusted input.\n> \n> SIGNAL QUALITY CRITERIA - For remaining findings, assess:\n> 1. Is there a concrete, exploitable vulnerability with a clear attack path?\n> 2. Does this represent a real security risk vs theoretical best practice?\n> 3. Are there specific code locations and reproduction steps?\n> 4. Would this finding be actionable for a security team?\n> \n> For each finding, assign a confidence score from 1-10:\n> - 1-3: Low confidence, likely false positive or noise\n> - 4-6: Medium confidence, needs investigation\n> - 7-10: High confidence, likely true vulnerability\n\nSTART ANALYSIS:\n\nBegin your analysis now. Do this in 3 steps:\n\n1. Use a sub-task to identify vulnerabilities. Use the repository exploration tools to understand the codebase context, then analyze the PR changes for security implications. In the prompt for this sub-task, include all of the above.\n2. Then for each vulnerability identified by the above sub-task, create a new sub-task to filter out false-positives. Launch these sub-tasks as parallel sub-tasks. In the prompt for these sub-tasks, include everything in the \"FALSE POSITIVE FILTERING\" instructions.\n3. Filter out any vulnerabilities where the sub-task reported a confidence less than 8.\n\nDisplay the markdown report to the user AND save it to the specified file path."
              }
            ],
            "skills": []
          },
          {
            "name": "ui",
            "description": "UI/UX design and design system toolkit",
            "source": "./plugins/ui",
            "category": null,
            "version": null,
            "author": null,
            "install_commands": [
              "/plugin marketplace add joaquimscosta/arkhe-claude-plugins",
              "/plugin install ui@arkhe-claude-plugins"
            ],
            "signals": {
              "stars": 3,
              "forks": 0,
              "pushed_at": "2026-01-12T16:47:59Z",
              "created_at": "2025-10-24T15:27:58Z",
              "license": "MIT"
            },
            "commands": [],
            "skills": []
          },
          {
            "name": "google-stitch",
            "description": "Claude + Google Stitch prompting toolkit (prompt authoring + session management)",
            "source": "./plugins/google-stitch",
            "category": null,
            "version": null,
            "author": null,
            "install_commands": [
              "/plugin marketplace add joaquimscosta/arkhe-claude-plugins",
              "/plugin install google-stitch@arkhe-claude-plugins"
            ],
            "signals": {
              "stars": 3,
              "forks": 0,
              "pushed_at": "2026-01-12T16:47:59Z",
              "created_at": "2025-10-24T15:27:58Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/prompt",
                "description": "Generate Google Stitch-ready prompts from briefs or spec files using the authoring skill",
                "path": "plugins/google-stitch/commands/prompt.md",
                "frontmatter": {
                  "description": "Generate Google Stitch-ready prompts from briefs or spec files using the authoring skill",
                  "argument-hint": "<brief or @/path/to/spec>"
                },
                "content": "# Prompt Command\n\nConvert natural-language descriptions, revision notes, or spec files into Stitch-optimized prompts. This command gathers your preferences before generating to ensure the output matches your vision.\n\n## Usage\n\n```bash\n/prompt \"Design a fintech dashboard with KPI cards and charts\"\n/prompt @specs/mobile-app.md\n/prompt \"Move the KPI cards above the chart and add a region filter\"\n```\n\nAttach files or reference repository paths as needed; the Skill will read them before rewriting the prompt.\n\n## Inputs\n\n- `$ARGUMENTS`: user-provided brief, iteration note, or file path(s) to parse.\n- Attached files (optional): wireframes, specs, or references to include during analysis.\n\n## Interactive Flow\n\nFor new prompt generation (not revisions), this command asks about your preferences:\n\n1. **Component Selection** - Which UI components to include\n2. **Style Preferences** - Visual style (Enterprise, Consumer, Minimal, etc.)\n3. **Structure Decision** - Combined file or split by component\n\nSelect \"Quick generation\" at the first question to skip all questions and use smart defaults.\n\n**Questions are skipped when:**\n- Input is a revision request (starts with \"change\", \"update\", \"move\", \"adjust\")\n- User selects \"Quick generation\"\n- Single component detected (structure question only)\n\n---\n\n## Execution\n\n### Step 1: Detect Request Type\n\nCheck if `$ARGUMENTS` is a revision request:\n- If starts with: \"change\", \"update\", \"move\", \"adjust\", \"resize\", \"reposition\", \"modify\"\n-  Skip all questions, invoke skill directly with `$ARGUMENTS`\n\n### Step 2: Check for Design Context\n\nLook for `design-intent/memory/constitution.md`:\n- If found: Extract Project Type and Design System for style defaults\n- If not found: Proceed without context\n\n### Step 3: Analyze Brief for Components\n\nParse `$ARGUMENTS` to identify UI components mentioned:\n- Navigation elements (sidebar, header, menu, tabs)\n- Content areas (cards, grids, tables, lists)\n- Data visualization (charts, graphs, metrics, KPIs)\n- Interactive elements (forms, buttons, modals, dialogs)\n- Media (images, video, galleries)\n\n### Step 4: Ask Questions (Interactive)\n\n**Question 1: Component Selection**\n\nPresent detected components and ask user which to include:\n\n```\nI detected these components from your brief:\n\n [Component 1]: [brief description]\n [Component 2]: [brief description]\n [Component 3]: [brief description]\n\nWhich components should I include in the Stitch prompt?\n\nOptions:\n All components (recommended)\n Select specific components\n Add more components\n Quick generation (skip all questions, use smart defaults)\n```\n\nIf user selects \"Quick generation\": Skip to Step 5 with defaults.\nIf user selects \"Select specific\": Present checkboxes for each component.\nIf user selects \"Add more\": Accept additional component descriptions.\n\n**Question 2: Style Preferences**\n\nAsk about visual style:\n\n```\nWhat visual style should these prompts target?\n\nOptions:\n Enterprise (professional, data-dense, formal)\n Consumer (friendly, approachable, vibrant)\n Minimal (clean, simple, lots of whitespace)\n Playful (colorful, fun, animated feel)\n Custom (describe your preference)\n Use detected: [Project Type + Design System] (if design-intent found)\n```\n\n**Question 3: Structure Decision** (only if multiple components)\n\n```\nHow should I structure the output for [N] components?\n\nOptions:\n Combined (single file with layout + all components)\n Split (separate prompt per component)\n Auto-detect (let skill decide based on complexity)\n```\n\n### Step 5: Build Structured Input\n\nCompile user selections into structured format:\n\n```\nBrief: [original $ARGUMENTS]\nComponents: [comma-separated list of selected components]\nStyle: [chosen style option]\nStructure: [Combined/Split/Auto]\n```\n\n### Step 6: Invoke Skill\n\nPass structured input to the **`authoring-stitch-prompts`** skill.\n\nThe skill will:\n- Use specified components (skip auto-detection if provided)\n- Apply style choice directly (override design context if specified)\n- Respect structure preference (skip split detection if specified)\n\n### Step 7: Present Results\n\nDisplay generated prompt(s) with:\n- File path(s) created\n- Component breakdown\n- Style cues applied\n- Next steps for using in Stitch\n\n---\n\n## Style Mapping\n\n| Style Choice | Stitch Style Cues |\n|--------------|-------------------|\n| Enterprise | enterprise-grade, professional, data-dense, clean sans-serif typography |\n| Consumer | friendly, approachable, vibrant accents, generous whitespace |\n| Minimal | clean, minimal, ample whitespace, subtle shadows, restrained palette |\n| Playful | playful, colorful, fun, animated feel, rounded corners, bold typography |\n\n---\n\n## Examples\n\n**Interactive generation:**\n```\nUser: /prompt \"dashboard for fitness app\"\nClaude: [Asks 3 questions about components, style, structure]\nUser: [Selects: All components, Consumer style, Combined]\nClaude: [Generates prompt with friendly, approachable style cues]\n```\n\n**Quick generation:**\n```\nUser: /prompt \"e-commerce product page\"\nClaude: [Asks first question]\nUser: Quick generation (skip all questions)\nClaude: [Generates with smart defaults]\n```\n\n**Revision (questions skipped):**\n```\nUser: /prompt \"change the header to sticky and add a search bar\"\nClaude: [Skips questions, generates revision prompt directly]\n```"
              }
            ],
            "skills": [
              {
                "name": "authoring-stitch-prompts",
                "description": "Converts natural-language descriptions or UI spec files into optimized Google Stitch prompts. Use when creating, refining, or validating design directives for Google Stitch. Follows Stitch best practices with short, directive prompts focused on screens, structure, and visual hierarchy.",
                "path": "plugins/google-stitch/skills/authoring-stitch-prompts/SKILL.md",
                "frontmatter": {
                  "name": "authoring-stitch-prompts",
                  "description": "Converts natural-language descriptions or UI spec files into optimized Google Stitch prompts. Use when creating, refining, or validating design directives for Google Stitch. Follows Stitch best practices with short, directive prompts focused on screens, structure, and visual hierarchy.",
                  "allowed-tools": "Read, Grep, Write"
                },
                "content": "# Authoring Stitch Prompts\n\n## Quick Start\n1. **Collect context**  accept natural language, specs, or referenced files describing the screen/app.\n1.5. **Discover design context** (optional)  check for `design-intent/`:\n   - If exists: Extract Project Type, Design System from `design-intent/memory/constitution.md`\n   - If not found: Scan codebase for framework hints (package.json)\n   - Falls back gracefully to standalone mode\n   - See [WORKFLOW.md](WORKFLOW.md#05-design-context-discovery-optional-enhancement) for details.\n2. **Parse essentials**  identify app type, screen focus, layout elements, and visual cues.\n3. **Detect split points**  analyze if input contains multiple screens or distinct intents (>2). Apply smart defaults: split if >2 screens/intents, else combine. Users can request regeneration with different approach.\n4. **Filter aggressively**  strip ALL non-UI concerns (backend, auth, APIs, caching, error handling, performance metrics, code-level specs). Focus EXCLUSIVELY on visual layout, components, colors, typography, spacing, and interaction patterns.\n5. **Condense**  rewrite into one atomic Stitch directive using \"Design/Create/Add\" phrasing.\n6. **Structure output**  follow the Stitch prompt template (directive sentence  bullet list  36 style cues  constraints). If design context was discovered, inject project-appropriate style cues. Do NOT use multi-section headings.\n7. **Validate**  ensure UI nouns are present, word count <250, NO technical implementation terms, and format matches EXAMPLES.md structure before returning the prompt.\n\nUse this Skill whenever users need Stitch-ready wording, prompt refinements, or style-consistent rewrites.\n\n---\n\n## File Output (design-intent/google-stitch/{feature}/)\n\nGenerate optimized prompts in **feature-based directories** with organized artifact storage:\n\n1. **Feature Name (Directory)**:\n   - Derive from main screen/page purpose\n   - Lowercase, replace whitespace with hyphens\n   - Strip non `a-z0-9-` characters, collapse duplicate hyphens, trim ends\n   - Examples: \"analytics dashboard\"  `dashboard`, \"landing page\"  `landing`, \"admin panel\"  `admin-panel`\n   - Keep semantic and concise (prefer \"dashboard\" over \"analytics-dashboard\" when unambiguous)\n\n2. **Directory Structure**:\n   - Create feature directory: `design-intent/google-stitch/{feature}/`\n   - Pre-create subdirectories:\n     * `exports/` - For Stitch-generated outputs (PNG, SVG, HTML)\n     * `wireframes/` - For pre-work mockups and reference images\n   - Prompt files live at feature root\n\n3. **File Composition**:\n   - Start with `<!-- Layout: {Title Case Name} -->` HTML comment label\n   - Add layout prompt content\n   - Add `---` separator line\n   - For each component:\n     * Add `<!-- Component: {Title Case Name} -->` HTML comment label\n     * Add component prompt content\n     * Add `---` separator (between components, not after last)\n\n4. **6-Prompt Stitch Limit**:\n   - Count total prompts (layout + all components)\n   - If 6 prompts: Save as `prompt-v{version}.md`\n   - If >6 prompts: Split into multiple part files\n     * Part 1: Layout + first 5 components (6 prompts)\n     * Part 2: Next 6 components\n     * Part N: Remaining components (max 6 per part)\n     * Save as: `prompt-v{version}-part{N}.md`\n     * Warn user about Stitch's 6-screen generation limit\n\n5. **Version Auto-Increment**:\n   - Scan `design-intent/google-stitch/{feature}/prompt-v*.md`\n   - Find highest version number, increment automatically\n   - Start at v1 if no matches\n   - Each feature maintains independent version history\n   - Note: Entire file versioned together (not per-component)\n\n6. **File Path Resolution**:\n   - Resolve repo root via `git rev-parse --show-toplevel`\n   - Create `{root}/design-intent/google-stitch/{feature}/` directory\n   - Create `{feature}/exports/` and `{feature}/wireframes/` subdirectories\n   - Write composed Markdown file to `{feature}/prompt-v{version}.md`\n\n7. **Report**:\n   - After presenting prompts inline, show file info:\n     ```\n      Feature: {feature}/\n      File: prompt-v{version}.md\n\n     Contains {N} prompts (within 6-prompt limit ):\n        Layout: {Title}\n        Component: {Title}\n        Component: {Title}\n\n     Directory structure:\n       design-intent/google-stitch/{feature}/\n        prompt-v{version}.md      Generated prompt\n        exports/                  Place Stitch outputs here\n        wireframes/               Place mockups/references here\n\n     Usage:\n       1. Copy prompt file  Paste into Stitch  Generate designs\n       2. Save Stitch exports to exports/ directory\n       3. Store wireframes/mockups in wireframes/ directory\n     ```\n\n**Examples:**\n\nMulti-component page (4 prompts):\n```\nInput: \"Analytics dashboard with KPI cards, revenue chart, and subscriptions table\"\n\nOutput: design-intent/google-stitch/dashboard/prompt-v1.md\n\nDirectory created:\n  design-intent/google-stitch/dashboard/\n   prompt-v1.md\n   exports/\n   wireframes/\n\nFile content:\n  <!-- Layout: Analytics Dashboard -->\n  Design a web dashboard page for SaaS analytics overview.\n  [...layout prompt content...]\n\n  ---\n\n  <!-- Component: KPI Metrics -->\n  Design metric cards displaying key SaaS performance indicators.\n  [...component prompt content...]\n\n  ---\n\n  <!-- Component: Revenue Chart -->\n  Design an interactive line chart for monthly revenue tracking.\n  [...component prompt content...]\n\n  ---\n\n  <!-- Component: Subscriptions Table -->\n  Design a subscription activity table showing recent changes.\n  [...component prompt content...]\n```\n\nSingle component (1 prompt):\n```\nInput: \"Login form with email and password\"\n\nOutput: design-intent/google-stitch/login/prompt-v1.md\n\nDirectory created:\n  design-intent/google-stitch/login/\n   prompt-v1.md\n   exports/\n   wireframes/\n\nFile content:\n  <!-- Component: Login Form -->\n  Design a login form for web application.\n  [...component prompt content...]\n```\n\nLarge page split (8 prompts  2 files):\n```\nInput: \"Admin panel with navigation, dashboard, users, roles, settings, audit logs, notifications\"\n\nOutput: design-intent/google-stitch/admin-panel/prompt-v1-part1.md (6 prompts)\n- Layout: Admin Panel\n- Component: Navigation\n- Component: Dashboard\n- Component: Users\n- Component: Roles\n- Component: Settings\n\nOutput: design-intent/google-stitch/admin-panel/prompt-v1-part2.md (2 prompts)\n- Component: Audit Logs\n- Component: Notifications\n\nDirectory created:\n  design-intent/google-stitch/admin-panel/\n   prompt-v1-part1.md\n   prompt-v1-part2.md\n   exports/\n   wireframes/\n\n Warning: Use part1 first, then part2 in separate Stitch session\n```\n\nIteration (auto-increment):\n```\nExisting: design-intent/google-stitch/dashboard/prompt-v1.md\n\nInput: \"Update analytics dashboard with new metrics\"\n\nAuto-detected version  prompt-v2.md\n\nOutput: design-intent/google-stitch/dashboard/prompt-v2.md\n\nDirectory structure:\n  design-intent/google-stitch/dashboard/\n   prompt-v1.md       Previous version\n   prompt-v2.md       New version\n   exports/\n   wireframes/\n\n(Entire file versioned together, versions coexist in same directory)\n```\n\n**Feature Directory Benefits:**\n- **Organized artifacts**: All design files grouped by feature\n- **Version history**: All versions accessible in one location\n- **Design workflow**: Natural home for Stitch exports and wireframes\n- **Stitch-native**: Uses Stitch's `---` separator convention\n- **Auto-increment**: Detects existing versions, increments automatically\n- **Batch generation**: Copy one file, generate entire page\n- **Copy-paste ready**: File content works directly in Stitch interface\n\n---\n\n## Input Types\n\n**Accepted**\n- Natural-language descriptions (single screen or short flows)\n- Markdown/YAML/JSON specs (`/specs/dashboard.md`)\n- Revision directives (\"move KPI cards above chart\", \"convert to French\", \"change button to green\")\n- References to uploaded wireframes or images\n- Language conversion requests (\"switch to Spanish\", \"German version\")\n- Structured input from `/prompt` command (see below)\n\n---\n\n## Structured Input (from /prompt command)\n\nWhen invoked via the `/prompt` command with user preferences, the skill receives structured input:\n\n```\nBrief: dashboard for fitness app\nComponents: activity-summary, workout-chart, goals-progress\nStyle: Consumer\nStructure: Combined\n```\n\n**Field Handling:**\n\n| Field | Behavior |\n|-------|----------|\n| `Brief` | Original user input - process normally |\n| `Components` | Use specified list, skip auto-detection |\n| `Style` | Apply style mapping, override design context |\n| `Structure` | Respect choice: Combined/Split/Auto |\n\n**Style Mapping:**\n\n| Style Value | Applied Cues |\n|-------------|--------------|\n| Enterprise | enterprise-grade, professional, data-dense, clean sans-serif typography |\n| Consumer | friendly, approachable, vibrant accents, generous whitespace |\n| Minimal | clean, minimal, ample whitespace, subtle shadows, restrained palette |\n| Playful | playful, colorful, fun, animated feel, rounded corners, bold typography |\n| Custom: [text] | Extract cues from user's custom description |\n| Auto | Use design context discovery (Step 0.5) |\n\n**Structure Handling:**\n\n| Structure Value | Behavior |\n|-----------------|----------|\n| Combined | Skip split detection, generate single file with all components |\n| Split | Force separate prompts per component |\n| Auto | Use smart defaults (Step 1.5/1.6) |\n\nSee [WORKFLOW.md](WORKFLOW.md#08-parse-structured-input-if-present) for detailed parsing logic.\n\n**Input Detail Levels**\n\nAll detail levels are validStitch infers patterns from minimal descriptions:\n\n- **High-level** (minimal): \"fitness tracker app\", \"professional project management dashboard\"\n- **Medium**: \"fitness tracker with daily goals and progress charts\"\n- **Detailed**: Full component list with specific features and interactions\n\nUse adjectives to convey vibe when details are sparse (\"vibrant fitness app\", \"minimal meditation app\").\n\n---\n\n## Workflow Overview\n\nHigh-level loop: parse  condense  format  validate.  \nDetailed branching logic, including cue extraction and revision handling, lives in [WORKFLOW.md](WORKFLOW.md).\n\n---\n\n## Output Structure\n\nPrompts must follow the Stitch-friendly template:\n- One-sentence description of the app/screen + primary intent.\n- Bullet list (36 items) covering layout, components, or flows.\n- Visual style cues (palette, typography, density, tone).\n- Optional behavior/constraint reminders (responsiveness, export format).\n\nReference [templates/authoring-stitch-prompts-template.md](templates/authoring-stitch-prompts-template.md) for wording patterns and [templates/layout-prompt-template.md](templates/layout-prompt-template.md) for layout/foundation prompts.\n\n---\n\n## Examples\n\nRepresentative before/after samples (SaaS dashboard, banking app, iterative edits, spec conversions) are in [EXAMPLES.md](EXAMPLES.md). Use them to mirror tone and formatting; keep this file lean by not re-embedding the full transcripts here.\n\n---\n\n## Implementation Notes\n\n* Keep SKILL.md under 500 lines; detailed prompt transformation logic can go in `REFERENCE.md` or `templates/authoring-stitch-prompts-template.md`.\n* Use concise, declarative language.\n* Avoid narrative, meta, or conversational phrasing in outputs.\n* Always output one atomic, Stitch-compatible prompt per request.\n\n---\n\n## Design Context Integration\n\nWhen `design-intent/` exists in the project, the skill enhances style cues with project context:\n\n- **Project Type** influences tone (e.g., \"enterprise-grade\" for Enterprise, \"friendly, approachable\" for Consumer)\n- **Design System** names appear in style cues (e.g., \"Fluent UI styling\", \"Material Design patterns\")\n\nThe skill does NOT inject specific tokens (hex colors, spacing values)only high-level descriptors that help Stitch generate contextually appropriate designs.\n\n**Fallback behavior**: If `design-intent/` is not found, the skill works standalone using default style cues.\n\nSee [WORKFLOW.md](WORKFLOW.md#05-design-context-discovery-optional-enhancement) for discovery logic and [WORKFLOW.md](WORKFLOW.md#37-inject-design-context-into-style-cues) for injection rules.\n\n---\n\n## Common Issues\n\n- **Prompts too verbose**  Re-run formatting with the template and trim narration. See [TROUBLESHOOTING.md](TROUBLESHOOTING.md)#L1 for guidance.\n- **Missing style cues**  Derive palette/typography keywords from user input or prior session context before finalizing. See [TROUBLESHOOTING.md](TROUBLESHOOTING.md)#L25.\n- **Multi-goal briefs**  Split into multiple prompts; re-emphasize Stitchs atomic focus. See [TROUBLESHOOTING.md](TROUBLESHOOTING.md)#L43.\n\n---\n\n## Reference Files\n\nFor advanced usage:\n\n* [REFERENCE.md](REFERENCE.md)  Overview of Stitch best practices\n* [EXAMPLES.md](EXAMPLES.md)  Sample transformations\n* [WORKFLOW.md](WORKFLOW.md)  Detailed processing loop\n* [TROUBLESHOOTING.md](TROUBLESHOOTING.md)  Error-handling guidance\n* [templates/authoring-stitch-prompts-template.md](templates/authoring-stitch-prompts-template.md)  Output format template\n\n---\n\n## Version History\n\n* v1.0.0 (2025-11-10): Initial release  authoring assistant for Stitch prompt optimization."
              },
              {
                "name": "extracting-stitch-mockups",
                "description": "Extracts generated mockup images from Google Stitch project pages. Use when user provides a Stitch project URL (stitch.withgoogle.com/projects/...), mentions extracting/downloading Stitch mockups, saving Stitch designs, or wants to archive generated design assets. Requires authenticated Chrome browser profile.\n",
                "path": "plugins/google-stitch/skills/extracting-stitch-mockups/SKILL.md",
                "frontmatter": {
                  "name": "extracting-stitch-mockups",
                  "description": "Extracts generated mockup images from Google Stitch project pages. Use when user provides a Stitch project URL (stitch.withgoogle.com/projects/...), mentions extracting/downloading Stitch mockups, saving Stitch designs, or wants to archive generated design assets. Requires authenticated Chrome browser profile.\n",
                  "allowed-tools": "Read, Write, Bash, Grep, Glob"
                },
                "content": "# Extract Stitch Mockups\n\n## Quick Start\n1. **Get project URL** - User provides `https://stitch.withgoogle.com/projects/{id}`\n2. **Resolve feature directory** - Determine where to save using fallback chain\n3. **Run extraction script** - Execute `scripts/extract_images.py` with Playwright\n4. **Save to exports** - Images saved to `design-intent/google-stitch/{feature}/exports/`\n\n---\n\n## Feature Directory Resolution\n\nDetermine target feature directory using this fallback chain:\n\n1. **User specifies** - Optional `--feature` argument provided\n2. **Auto-detect** - Match Stitch project title to existing `design-intent/google-stitch/{feature}/` directories\n3. **Prompt user** - List existing directories and ask user to select or create new\n\n### Auto-Detection Logic\n- Extract project title from Stitch page (e.g., \"Eco-Travel Home Screen\")\n- Normalize to feature format: lowercase, hyphens, strip special chars\n- Search for matching directory in `design-intent/google-stitch/`\n- If multiple partial matches, prompt user to select\n\n---\n\n## Extraction Process\n\n### Prerequisites\n- Chrome browser with active Google session\n- uv installed (https://github.com/astral-sh/uv)\n- Playwright browsers: `uv run playwright install chromium`\n\n### Script Execution\n```bash\n# Basic usage\nuv run scripts/extract_images.py \"https://stitch.withgoogle.com/projects/123\"\n\n# With explicit feature directory\nuv run scripts/extract_images.py \"https://stitch.withgoogle.com/projects/123\" --feature dashboard\n\n# Or run directly (after chmod +x)\n./scripts/extract_images.py \"https://stitch.withgoogle.com/projects/123\"\n```\n\n### Image Filtering\n- Source: `lh3.googleusercontent.com/aida/...` URLs only\n- Size filter: Images with dimensions >= 400px (mockups, not UI elements)\n- Excludes: avatars, icons, UI chrome\n\n### Generation Check\nScript checks for \"Generating...\" status on page:\n- If detected: Exit with message to retry after generation completes\n- If complete: Proceed with extraction\n\n---\n\n## Output Structure\n\nImages saved to existing feature's `exports/` directory:\n\n```\ndesign-intent/google-stitch/{feature}/exports/\n mockup-1.png\n mockup-2.png\n mockup-N.png\n```\n\n### File Naming\n- Sequential numbering: `mockup-{index}.png`\n- Index starts at 1\n- Preserves original image format (typically PNG)\n\n---\n\n## Report\n\nAfter extraction, display summary:\n\n```\nExtracted {N} mockups from Stitch project\n\nProject: {project-title}\nURL: {project-url}\n\nSaved to: design-intent/google-stitch/{feature}/exports/\n  - mockup-1.png (400x800)\n  - mockup-2.png (400x800)\n  - ...\n\nFeature directory:\n  design-intent/google-stitch/{feature}/\n   prompt-v{N}.md\n   exports/          <- Mockups saved here\n      mockup-1.png\n      mockup-2.png\n   wireframes/\n```\n\n---\n\n## Common Issues\n\n- **Not authenticated** - Open Chrome, sign into Google, then retry\n- **Still generating** - Wait for Stitch to complete, then retry\n- **No feature directory** - Run authoring-stitch-prompts first, or specify `--feature`\n\nSee [TROUBLESHOOTING.md](TROUBLESHOOTING.md) for detailed solutions.\n\n## Reference Files\n- [WORKFLOW.md](WORKFLOW.md) - Detailed browser automation steps\n- [EXAMPLES.md](EXAMPLES.md) - Sample extractions\n- [TROUBLESHOOTING.md](TROUBLESHOOTING.md) - Error handling"
              }
            ]
          },
          {
            "name": "git",
            "description": "Git workflow automation (commit, PR, branching, changelog)",
            "source": "./plugins/git",
            "category": null,
            "version": null,
            "author": null,
            "install_commands": [
              "/plugin marketplace add joaquimscosta/arkhe-claude-plugins",
              "/plugin install git@arkhe-claude-plugins"
            ],
            "signals": {
              "stars": 3,
              "forks": 0,
              "pushed_at": "2026-01-12T16:47:59Z",
              "created_at": "2025-10-24T15:27:58Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/changelog",
                "description": null,
                "path": "plugins/git/commands/changelog.md",
                "frontmatter": null,
                "content": "---\ndescription: Generate comprehensive changelogs from git commit history with semantic versioning analysis and conventional commit support\nargument-hint: [--since <ref>] [--until <ref>] [--version <ver>] [--format <style>] [--output <file>] [--append] [--no-group]\n---\n\n# Changelog\n\nGenerate professional changelogs from git commit history with automatic categorization and semantic versioning.\n\n## Usage\n\n```bash\n/changelog [options]\n```\n\n## Options\n\n- `--since <commit/tag>` - Generate since specific commit/tag (default: last tag)\n- `--until <commit/tag>` - Generate until specific commit/tag (default: HEAD)\n- `--output <file>` - Output file path (default: CHANGELOG.md)\n- `--format <style>` - Output format: keepachangelog, conventional, github\n- `--version <version>` - Version number (auto-detected if not provided)\n- `--append` - Append to existing changelog\n- `--no-group` - Don't group commits by type\n\n## Examples\n\n```bash\n/changelog                           # Generate since last tag\n/changelog --since v1.0.0 --version 1.1.0  # Specific version range\n/changelog --format github           # GitHub-style format\n```\n\n## Implementation\n\nInvoke the Skill tool with skill name \"git:generating-changelog\" and arguments: `$ARGUMENTS`\n\nThe skill will handle git history analysis, commit categorization, semantic versioning detection, and multiple output formats.\n\nFor detailed documentation, see `git/skills/generating-changelog/SKILL.md`.\n"
              },
              {
                "name": "/commit",
                "description": null,
                "path": "plugins/git/commands/commit.md",
                "frontmatter": null,
                "content": "---\ndescription: Context-aware Git commit assistant with smart pre-commit checks\nargument-hint: [scope] [--no-verify | --full-verify]\n---\n\n# Commit Command\n\nContext-aware Git commit assistant that automatically detects root repository and submodules, runs smart pre-commit checks, and generates conventional commit messages.\n\n## Usage\n\n```bash\n/commit                              # Interactive mode (auto-detect)\n/commit <scope>                      # Direct commit to specific repo\n/commit --no-verify                  # Skip pre-commit checks\n/commit --full-verify                # Run full build verification\n/commit <scope> --no-verify          # Combine scope + flag\n```\n\n## Examples\n\n```bash\n/commit                              # Auto-detect and select repo\n/commit root                         # Commit to root repository\n/commit mobile                       # Commit to mobile submodule\n```\n\n## Implementation\n\n **CRITICAL**: Do NOT add Claude Code footers, attribution, or \"Generated with Claude Code\" text to commit messages. The skill generates clean commit messages internally. See `git/skills/creating-commit/SKILL.md` for details.\n\nInvoke the Skill tool with skill name \"git:creating-commit\" and arguments: `$ARGUMENTS`\n\nThe skill will handle repository detection, pre-commit checks, commit message generation, and submodule reference updates.\n\nFor detailed documentation, see `git/skills/creating-commit/SKILL.md`.\n"
              },
              {
                "name": "/create-branch",
                "description": "Create a new feature branch with optimized short naming, or auto-generate from uncommitted changes",
                "path": "plugins/git/commands/create-branch.md",
                "frontmatter": {
                  "description": "Create a new feature branch with optimized short naming, or auto-generate from uncommitted changes",
                  "argument-hint": [
                    "feature_description"
                  ]
                },
                "content": "# Branch Creation Command\n\nCreates feature branches with intelligent naming and auto-incrementing.\n\n## Usage\n\n```bash\n# Create from description\n/create-branch <feature_description>\n\n# Auto-generate from uncommitted changes\n/create-branch\n```\n\n## Examples\n\n```bash\n/create-branch add newsletter signup\n# Creates: feat/003-newsletter-signup\n\n/create-branch fix authentication bug\n# Creates: fix/004-authentication-bug\n\n/create-branch\n# Auto-detected from changes: feat/005-authentication-system\n```\n\n## Implementation\n\nInvoke the Skill tool with skill name \"git:creating-branch\" and arguments: `$ARGUMENTS`\n\nThe skill will handle commit type detection, branch naming, auto-increment numbering, and can auto-generate from uncommitted changes when no arguments are provided.\n\nFor detailed documentation, see `git/skills/creating-branch/SKILL.md`."
              },
              {
                "name": "/create-pr",
                "description": null,
                "path": "plugins/git/commands/create-pr.md",
                "frontmatter": null,
                "content": "---\ndescription: Context-aware GitHub Pull Request creation and update assistant\nargument-hint: [scope] [--draft] [--base <branch>]\n---\n\n# Create Pull Request Command\n\nContext-aware GitHub Pull Request assistant that automatically detects root repository and submodules, handles existing PRs, and generates conventional PR titles and descriptions.\n\n## Usage\n\n```bash\n/create-pr                           # Auto-detect repository\n/create-pr <scope>                   # Create PR for specific repo\n/create-pr --draft                   # Create draft PR\n/create-pr --base <branch>           # Specify base branch\n/create-pr <scope> --draft --base staging  # All options combined\n```\n\n## Examples\n\n```bash\n/create-pr                           # Auto-detect, PR to main\n/create-pr root                      # PR for root repository\n/create-pr mobile                    # PR for mobile submodule\n/create-pr --draft                   # Create as draft\n```\n\n## Implementation\n\n **CRITICAL**: Do NOT add Claude Code footers, attribution, or \"Generated with Claude Code\" text to PR titles or descriptions. The skill generates clean PR content internally. See `git/skills/creating-pr/SKILL.md` for details.\n\nInvoke the Skill tool with skill name \"git:creating-pr\" and arguments: `$ARGUMENTS`\n\nThe skill will handle repository detection, existing PR handling, branch pushing, and PR title/body generation.\n\n**Requirements**: GitHub CLI (`gh`) installed and authenticated\n\nFor detailed documentation, see `git/skills/creating-pr/SKILL.md`.\n"
              },
              {
                "name": "/pr-issue-resolve",
                "description": "Analyze and resolve GitHub PR review suggestions systematically",
                "path": "plugins/git/commands/pr-issue-resolve.md",
                "frontmatter": {
                  "description": "Analyze and resolve GitHub PR review suggestions systematically",
                  "argument-hint": "<PR-number or URL>"
                },
                "content": "# PR Issue Resolver\n\nAnalyze and systematically resolve suggested changes in GitHub Pull Request: $ARGUMENTS\n\nUse the GitHub CLI (`gh`) for all GitHub-related tasks.\n\n## Process\n\n### 1. Fetch PR Context\n\nGather complete PR information in parallel:\n\n- Use `gh pr view $ARGUMENTS` to get PR details (title, description, base/head branches, status)\n- Use `gh pr diff $ARGUMENTS` to understand the changes introduced\n- Use `gh pr comment list $ARGUMENTS` or `gh api` to retrieve all review comments and inline suggestions\n\n### 2. Analyze and Categorize Comments\n\nReview all comments and categorize them:\n\n- **Bugs/Issues**: Critical problems that break functionality or edge cases\n- **Code Changes**: Suggestions for refactoring, async/await, algorithm improvements\n- **Style/Nitpicks**: Variable naming, formatting, code clarity\n- **Questions**: Requests for clarification or explanation\n- **Approvals**: General positive feedback\n\nIdentify threaded discussions and resolved/unresolved status.\n\n### 3. Plan Resolutions\n\nFor each suggestion:\n\n- Break down into actionable fixes\n- Prioritize: **Blockers (bugs)  Features  Style  Questions**\n- Consider edge cases, performance, security, and compatibility\n- Check for related dependencies (linked issues, other PRs, codebase impact)\n- Ask clarification questions if suggestions are ambiguous\n\nCreate a resolution plan that minimizes changes and avoids regressions.\n\n### 4. Apply Changes\n\nExecute the plan:\n\n- Checkout the PR branch: `gh pr checkout $ARGUMENTS`\n- Apply fixes in small, incremental commits with clear messages\n  - Example: `fix(auth): handle null tokens per review suggestion`\n- For each change:\n  - Edit code as planned\n  - Test the specific change\n  - Commit immediately with descriptive message\n\n### 5. Test and Verify\n\nBefore pushing:\n\n- Run all relevant tests (unit, integration, e2e)\n- Verify linting and type checking pass\n- Run builds to ensure no compilation errors\n- Manual testing if automated tests are insufficient\n- Add new tests if suggestions involve bugs or new behavior\n\n### 6. Update PR and Request Re-Review\n\nFinalize the resolution:\n\n- Push updated commits to the PR head branch\n- Reply to each comment: `gh pr comment` with \"Addressed in commit XYZ\"\n- Update PR description if major changes were made\n- Re-request reviews: `gh pr review --request <username>`\n- Ensure no merge conflicts remain\n- Update labels if needed (e.g., \"ready-for-review\")\n\n## Notes\n\n- Keep commits small and focused on individual suggestions\n- Reference the review comment or suggestion in commit messages\n- For out-of-scope suggestions, create follow-up issues instead\n- Document any assumptions or constraints in PR comments"
              }
            ],
            "skills": [
              {
                "name": "creating-branch",
                "description": "Creates feature branches with optimized short naming, auto-incrementing, and commit type detection (feat/fix/refactor). Supports manual descriptions and auto-generation from uncommitted git changes. Use when user requests to create branch, start new branch, make branch, checkout new branch, switch branch, new task, start working on, begin work on feature, begin feature, create feature branch, run /create-branch command, or mentions \"branch\", \"feature\", \"new feature\", \"feat\", \"fix\", or \"checkout\".",
                "path": "plugins/git/skills/creating-branch/SKILL.md",
                "frontmatter": {
                  "name": "creating-branch",
                  "description": "Creates feature branches with optimized short naming, auto-incrementing, and commit type detection (feat/fix/refactor). Supports manual descriptions and auto-generation from uncommitted git changes. Use when user requests to create branch, start new branch, make branch, checkout new branch, switch branch, new task, start working on, begin work on feature, begin feature, create feature branch, run /create-branch command, or mentions \"branch\", \"feature\", \"new feature\", \"feat\", \"fix\", or \"checkout\"."
                },
                "content": "# Git Branch Creation Workflow\n\nExecute feature branch creation with intelligent naming, automatic type detection, and sequential numbering.\n\n## Usage\n\nThis skill is invoked when:\n- User runs `/create-branch` or `/git:create-branch` command\n- User requests to create a new feature branch\n- User asks to start a new branch for a task\n\n## Two Operation Modes\n\n### Mode 1: With Description (Manual)\n\nThe command takes a description and automatically detects the commit type.\n\n**Format**: `/create-branch <description>`\n\n**Examples**:\n```bash\n/create-branch add user authentication\n Creates: feat/001-user-authentication\n\n/create-branch fix login bug\n Creates: fix/002-login-bug\n\n/create-branch refactor auth service\n Creates: refactor/003-auth-service\n\n/create-branch remove deprecated code\n Creates: chore/004-remove-deprecated\n\n/create-branch document api endpoints\n Creates: docs/005-document-api\n```\n\n### Mode 2: Auto-Generate from Changes (No Arguments)\n\nWhen no arguments provided, analyze uncommitted changes to generate branch name automatically.\n\n**Format**: `/create-branch` (no arguments)\n\n**Process**:\n1. Check for uncommitted changes (both staged and unstaged)\n2. If no changes exist, display error and require description\n3. If changes exist, analyze to generate description\n4. Create branch with auto-generated name\n\n**Examples**:\n```bash\n# After modifying authentication files\n/create-branch\n Auto-detected from changes: feat/006-authentication-system\n (based on: login.py, auth_service.ts, user_model.py)\n\n# After fixing payment bug\n/create-branch\n Auto-detected from changes: fix/007-payment-processing\n (based on: payment.js, checkout.py)\n```\n\n## Commit Type Detection\n\nThe workflow automatically detects commit types from keywords in the description:\n\n| Type | Keywords |\n|------|----------|\n| **feat** | add, create, implement, new, update, improve |\n| **fix** | fix, bug, resolve, correct, repair |\n| **refactor** | refactor, rename, reorganize |\n| **chore** | remove, delete, clean, cleanup |\n| **docs** | docs, document, documentation |\n\nIf no keyword is detected, defaults to `feat`.\n\n## Branch Naming Format\n\n**Pattern**: `{type}/{number}-{keyword1}-{keyword2}`\n\n**Components**:\n- **type**: Auto-detected commit type (feat, fix, refactor, chore, docs)\n- **number**: Auto-incremented 3-digit number (001, 002, 003...)\n- **keywords**: First 2-3 meaningful words from description (lowercase, hyphenated)\n\n**Examples**:\n- Input: \"add user authentication system\"\n- Output: `feat/001-user-authentication`\n\n- Input: \"fix null pointer in login\"\n- Output: `fix/002-null-pointer`\n\n## Branch Creation Workflow Steps\n\n### Step 1: Determine Operation Mode\n\nCheck if user provided a description:\n\n```bash\n# If user provided description\nif [ -n \"$DESCRIPTION\" ]; then\n    MODE=\"manual\"\n    # Proceed to Step 3 (type detection)\nelse\n    MODE=\"auto-generate\"\n    # Proceed to Step 2 (analyze changes)\nfi\n```\n\n### Step 2: Auto-Generate Description from Changes (Mode 2 Only)\n\nIf no description provided, analyze uncommitted changes:\n\n```bash\n# Check for uncommitted changes\nUNSTAGED=$(git diff --name-status)\nSTAGED=$(git diff --cached --name-status)\nUNTRACKED=$(git ls-files --others --exclude-standard)\n\n# Combine all changes\nALL_CHANGES=$(echo -e \"$UNSTAGED\\n$STAGED\\n$UNTRACKED\" | grep -v '^$')\n\nif [ -z \"$ALL_CHANGES\" ]; then\n    # No changes detected\n    echo \" Error: No uncommitted changes detected.\" >&2\n    echo \"\" >&2\n    echo \"To create a branch, either:\" >&2\n    echo \"1. Make some changes first, then run /create-branch\" >&2\n    echo \"2. Provide a description: /create-branch <description>\" >&2\n    echo \"\" >&2\n    echo \"Examples:\" >&2\n    echo \"  /create-branch add user authentication\" >&2\n    echo \"  /create-branch fix payment bug\" >&2\n    echo \"\" >&2\n    exit 1\nfi\n\n# Analyze changes to generate description\n# You should intelligently analyze the file paths and change types\n# to determine the purpose and commit type\n\n# Example analysis logic:\n# - If mostly new files (A status): feat\n# - If modifying error handling files: fix\n# - If in docs/ or README: docs\n# - Extract common theme from file paths (e.g., \"auth\", \"payment\", \"api\")\n\n# For demonstration, here's a simple template:\n# You should replace this with intelligent analysis based on actual files\n\n# Extract first few changed files for display\nSAMPLE_FILES=$(echo \"$ALL_CHANGES\" | head -5 | awk '{print $NF}' | tr '\\n' ', ' | sed 's/,$//')\n\n# Generate description based on analysis\n# This should be intelligent - for now using placeholder\nDESCRIPTION=\"add feature based on changes\"  # Replace with actual analysis\necho \"  Auto-detected description: $DESCRIPTION\"\necho \"  Based on changes in: $SAMPLE_FILES\"\n```\n\n### Step 3: Extract Commit Type from Description\n\nDetect commit type from keywords:\n\n```bash\n# Convert description to lowercase for matching\nDESC_LOWER=$(echo \"$DESCRIPTION\" | tr '[:upper:]' '[:lower:]')\n\n# Detect type from first word or keywords\nif echo \"$DESC_LOWER\" | grep -qE '^(add|create|implement|new|update|improve)'; then\n    COMMIT_TYPE=\"feat\"\nelif echo \"$DESC_LOWER\" | grep -qE '^(fix|bug|resolve|correct|repair)'; then\n    COMMIT_TYPE=\"fix\"\nelif echo \"$DESC_LOWER\" | grep -qE '^(refactor|rename|reorganize)'; then\n    COMMIT_TYPE=\"refactor\"\nelif echo \"$DESC_LOWER\" | grep -qE '^(remove|delete|clean)'; then\n    COMMIT_TYPE=\"chore\"\nelif echo \"$DESC_LOWER\" | grep -qE '^(docs?|document)'; then\n    COMMIT_TYPE=\"docs\"\nelif echo \"$DESC_LOWER\" | grep -qE '^(test)'; then\n    COMMIT_TYPE=\"test\"\nelif echo \"$DESC_LOWER\" | grep -qE '^(perf|performance|optimize)'; then\n    COMMIT_TYPE=\"perf\"\nelif echo \"$DESC_LOWER\" | grep -qE '^(build|ci)'; then\n    COMMIT_TYPE=\"build\"\nelse\n    # Default to feat\n    COMMIT_TYPE=\"feat\"\nfi\n\necho \"  Detected type: $COMMIT_TYPE\"\n```\n\n### Step 4: Extract Keywords from Description\n\nRemove type keyword and extract meaningful words:\n\n```bash\n# Remove type keywords from description\nCLEANED_DESC=$(echo \"$DESC_LOWER\" | sed -E 's/^(add|create|implement|new|update|improve|fix|bug|resolve|correct|repair|refactor|rename|reorganize|remove|delete|clean|docs?|document|test|perf|performance|optimize|build|ci)\\s*//')\n\n# Remove common filler words\nFILTERED=$(echo \"$CLEANED_DESC\" | sed -E 's/\\b(the|a|an|for|to|in|on|at|with|from|of|and|or)\\b//g')\n\n# Extract first 2-3 meaningful words\nKEYWORDS=$(echo \"$FILTERED\" | tr -s ' ' | awk '{for(i=1; i<=3 && i<=NF; i++) printf \"%s%s\", $i, (i<3 && i<NF ? \"-\" : \"\")}')\n\n# Sanitize: lowercase, replace spaces with hyphens, remove special chars\nBRANCH_SUFFIX=$(echo \"$KEYWORDS\" | tr ' ' '-' | tr -cd '[:alnum:]-' | tr '[:upper:]' '[:lower:]')\n\necho \"  Keywords: $BRANCH_SUFFIX\"\n```\n\n### Step 5: Find Next Sequential Number\n\nScan existing branches to find next available number:\n\n```bash\n# Get all branches matching the commit type pattern\nEXISTING_BRANCHES=$(git branch --list \"$COMMIT_TYPE/*\" | sed 's/^[* ]*//')\n\n# Extract numbers from branch names\nNUMBERS=$(echo \"$EXISTING_BRANCHES\" | grep -oE \"$COMMIT_TYPE/[0-9]+\" | grep -oE '[0-9]+' | sort -n)\n\n# Find highest number\nif [ -z \"$NUMBERS\" ]; then\n    # No existing branches of this type\n    NEXT_NUMBER=1\nelse\n    HIGHEST=$(echo \"$NUMBERS\" | tail -1)\n    NEXT_NUMBER=$((HIGHEST + 1))\nfi\n\n# Format as 3-digit number\nBRANCH_NUMBER=$(printf \"%03d\" \"$NEXT_NUMBER\")\n\necho \"  Next number: $BRANCH_NUMBER\"\n```\n\n### Step 6: Generate Branch Name\n\nCombine type, number, and keywords:\n\n```bash\n# Build branch name\nBRANCH_NAME=\"$COMMIT_TYPE/$BRANCH_NUMBER-$BRANCH_SUFFIX\"\n\necho \"\"\necho \"Branch name: $BRANCH_NAME\"\necho \"\"\n```\n\n### Step 7: Create Branch\n\nCreate and checkout the new branch:\n\n```bash\n# Create and checkout branch\ngit checkout -b \"$BRANCH_NAME\" || {\n    echo \" Failed to create branch\" >&2\n    exit 1\n}\n\necho \" Created and checked out branch: $BRANCH_NAME\"\n```\n\n### Step 8: Create Feature Directory (Optional)\n\nIf spec-kit is installed (`.specify/` directory exists), create feature directory:\n\n```bash\n# Check if .specify/ directory exists (spec-kit indicator)\nREPO_ROOT=$(git rev-parse --show-toplevel)\n\nif [ -d \"$REPO_ROOT/.specify\" ]; then\n    # spec-kit is installed - create feature directory\n    FEATURE_DIR=\"$REPO_ROOT/.specify/features/$BRANCH_NAME\"\n    mkdir -p \"$FEATURE_DIR\"\n\n    echo \"  Created feature directory: .specify/features/$BRANCH_NAME\"\n    echo \"\"\n    echo \"You can now add:\"\n    echo \"  - spec.md (feature specification)\"\n    echo \"  - plan.md (implementation plan)\"\n    echo \"  - notes.md (development notes)\"\nelse\n    echo \"  Skipping feature directory (spec-kit not installed)\"\nfi\n```\n\n### Step 9: Display Success Summary\n\nShow final summary:\n\n```bash\necho \"\"\necho \"\"\necho \" Branch created successfully!\"\necho \"\"\necho \"Branch: $BRANCH_NAME\"\necho \"Type: $COMMIT_TYPE\"\n\nif [ \"$MODE\" = \"auto-generate\" ]; then\n    echo \"Auto-detected from: $SAMPLE_FILES\"\nfi\n\necho \"\"\necho \"Next steps:\"\necho \"  - Make your changes\"\necho \"  - Commit with: /commit\"\necho \"  - Create PR with: /create-pr\"\necho \"\"\necho \"\"\n```\n\n## Keyword Filtering\n\nCommon filler words are automatically removed:\n\n| Filtered Words |\n|----------------|\n| the, a, an |\n| for, to, in, on, at |\n| with, from, of |\n| and, or, but |\n| is, are, was, were |\n| this, that, these, those |\n\n## Branch Number Sequencing Examples\n\n| Existing Branches | Type | Next Number |\n|-------------------|------|-------------|\n| None | `feat` | `001` |\n| feat/001-auth | `feat` | `002` |\n| feat/001-auth, feat/002-api | `feat` | `003` |\n| fix/001-bug | `fix` | `001` (different type) |\n| feat/005-feature | `feat` | `006` (continues from highest) |\n\n## Important Notes\n\n1. **Sequential Numbering**: Automatically finds next available number by scanning existing branches of the same type\n\n2. **Keyword Extraction**: Filters out common words and keeps only meaningful terms\n\n3. **Short Names**: Uses first 2-3 meaningful words only (avoids long branch names)\n\n4. **Lowercase Convention**: All branch names are lowercase with hyphens\n\n5. **Conventional Commits**: Aligns with conventional commit types for consistency\n\n6. **No Duplicates**: Increments number automatically\n\n7. **Works Anywhere**: Executes from any directory in the project\n\n8. **Monorepo Support**: Works in both root repository and submodules\n\n9. **Spec-Kit Integration**: Optionally creates feature directories when spec-kit is detected\n\n## Supporting Documentation\n\nFor detailed information, see:\n\n- **[WORKFLOW.md](WORKFLOW.md)** - Step-by-step branch creation process with detailed explanations\n- **[EXAMPLES.md](EXAMPLES.md)** - Real-world examples covering all branch types and scenarios\n- **[TROUBLESHOOTING.md](TROUBLESHOOTING.md)** - Common issues and solutions"
              },
              {
                "name": "creating-commit",
                "description": "Creates context-aware git commits with smart pre-commit checks, submodule support, and conventional commit message generation. Use when user requests to commit changes, stage and commit, check in code, save work, save changes, push my code, finalize changes, add to git, create commits, run /commit command, or mentions \"git commit\", \"commit message\", \"conventional commits\", \"stage files\", \"git add\", or needs help with commits.",
                "path": "plugins/git/skills/creating-commit/SKILL.md",
                "frontmatter": {
                  "name": "creating-commit",
                  "description": "Creates context-aware git commits with smart pre-commit checks, submodule support, and conventional commit message generation. Use when user requests to commit changes, stage and commit, check in code, save work, save changes, push my code, finalize changes, add to git, create commits, run /commit command, or mentions \"git commit\", \"commit message\", \"conventional commits\", \"stage files\", \"git add\", or needs help with commits."
                },
                "content": "#  CRITICAL CONSTRAINTS\n\n## No Claude Code Footer Policy\n\n**YOU MUST NEVER add Claude Code attribution to git commits.**\n\n-  **NO** \" Generated with [Claude Code]\" in commit messages\n-  **NO** \"Co-Authored-By: Claude <noreply@anthropic.com>\" in commit messages\n-  **NO** Claude Code attribution, footer, or branding of any kind\n\nGit commits are permanent project history and must remain clean and professional.\n\n---\n\n# Git Commit Workflow\n\nExecute intelligent git commit workflows with automatic repository detection, smart pre-commit checks, and conventional commit message generation.\n\n## Usage\n\nThis skill is invoked when:\n- User runs `/commit` command\n- User requests to commit changes\n- User asks to create a git commit\n\n## How It Works\n\nThis skill handles the complete commit workflow:\n\n1. **Repository Detection** - Automatically detects root repository and submodules\n2. **Change Analysis** - Identifies modified files and determines scope\n3. **Pre-commit Checks** - Runs appropriate checks based on file types\n4. **Commit Message Generation** - Creates conventional commit messages with emojis\n5. **Submodule Handling** - Prompts to update submodule references in root repository\n\n## Supported Arguments\n\nParse arguments from user input:\n\n- **No arguments**: Interactive mode (auto-detect changes)\n- **`<scope>`**: Direct commit to specific repository (root, submodule-name)\n- **`--no-verify`**: Skip all pre-commit checks\n- **`--full-verify`**: Run full builds (backend + frontend)\n- **`<scope> --no-verify`**: Combine scope with flags\n\n## Commit Workflow Steps\n\n### Step 1: Parse Arguments\n\nExtract scope and flags from user input:\n\n```bash\n# Parse arguments\nSCOPE=\"\"\nFLAG=\"\"\n\n# Example parsing logic (adapt to user input):\n# \"root --no-verify\"  SCOPE=\"root\", FLAG=\"--no-verify\"\n# \"plan\"  SCOPE=\"plan\", FLAG=\"\"\n# \"--full-verify\"  SCOPE=\"\", FLAG=\"--full-verify\"\n```\n\n### Step 2: Detect Repositories with Changes\n\nFind monorepo root and detect all repositories with uncommitted changes:\n\n```bash\n# Find monorepo root (works from submodules too)\nif SUPERPROJECT=$(git rev-parse --show-superproject-working-tree 2>/dev/null) && [ -n \"$SUPERPROJECT\" ]; then\n    # We're in a submodule\n    MONOREPO_ROOT=\"$SUPERPROJECT\"\nelse\n    # We're in root or standalone repo\n    MONOREPO_ROOT=$(git rev-parse --show-toplevel)\nfi\n\n# Detect repositories with changes\nREPOS_WITH_CHANGES=()\n\n# Check root repository\nif git -C \"$MONOREPO_ROOT\" status --porcelain | grep -q .; then\n    REPOS_WITH_CHANGES+=(\"root\")\nfi\n\n# Check for submodules and their changes\ngit -C \"$MONOREPO_ROOT\" submodule foreach --quiet 'echo $name' | while read -r submodule; do\n    SUBMODULE_PATH=\"$MONOREPO_ROOT/$submodule\"\n    if git -C \"$SUBMODULE_PATH\" status --porcelain | grep -q .; then\n        REPOS_WITH_CHANGES+=(\"$submodule\")\n    fi\ndone\n```\n\n### Step 3: Select Target Repository\n\nIf no scope specified, select repository interactively or automatically:\n\n```bash\n# If only one repository has changes, auto-select it\nif [ ${#REPOS_WITH_CHANGES[@]} -eq 1 ]; then\n    SCOPE=\"${REPOS_WITH_CHANGES[0]}\"\n    echo \"  Auto-selected: $SCOPE (only repository with changes)\"\nelif [ ${#REPOS_WITH_CHANGES[@]} -gt 1 ]; then\n    # Multiple repositories - ask user to select\n    echo \"Found changes in:\"\n    for i in \"${!REPOS_WITH_CHANGES[@]}\"; do\n        REPO=\"${REPOS_WITH_CHANGES[$i]}\"\n        REPO_PATH=$([ \"$REPO\" = \"root\" ] && echo \"$MONOREPO_ROOT\" || echo \"$MONOREPO_ROOT/$REPO\")\n        CHANGE_COUNT=$(git -C \"$REPO_PATH\" status --porcelain | wc -l | tr -d ' ')\n        echo \"$((i+1)). $REPO ($CHANGE_COUNT files modified)\"\n    done\n\n    # Use AskUserQuestion tool to let user select repository\n    # Set SCOPE to selected repository name\nfi\n```\n\n### Step 4: Resolve Repository Path\n\nConvert scope to absolute path:\n\n```bash\n# Resolve scope to repository path\nif [ \"$SCOPE\" = \"root\" ]; then\n    REPO_PATH=\"$MONOREPO_ROOT\"\nelse\n    # Submodule or custom scope\n    REPO_PATH=\"$MONOREPO_ROOT/$SCOPE\"\nfi\n\n# Validate repository exists\nif [ ! -d \"$REPO_PATH/.git\" ]; then\n    echo \" Error: Not a valid git repository: $REPO_PATH\" >&2\n    exit 1\nfi\n```\n\n### Step 5: Check Branch Protection\n\nValidate not on protected branch (main branch for root only):\n\n```bash\n# Get current branch\nCURRENT_BRANCH=$(git -C \"$REPO_PATH\" rev-parse --abbrev-ref HEAD)\n\n# Check branch protection (only enforce for root repository)\nif [ \"$CURRENT_BRANCH\" = \"main\" ] && [ \"$SCOPE\" = \"root\" ]; then\n    echo \" Cannot commit to protected branch: main\" >&2\n    echo \"\" >&2\n    echo \"The main branch requires pull requests.\" >&2\n    echo \"Please create a feature branch first:\" >&2\n    echo \"\" >&2\n    echo \"  git checkout -b feature/your-feature-name\" >&2\n    echo \"\" >&2\n    exit 1\nfi\n```\n\n### Step 6: Stage Files\n\nStage all unstaged changes or use already-staged files:\n\n```bash\n# Check if there are already staged files\nSTAGED_FILES=$(git -C \"$REPO_PATH\" diff --cached --name-only)\n\nif [ -z \"$STAGED_FILES\" ]; then\n    # No staged files - stage all changes\n    echo \"Staging all changes...\"\n    git -C \"$REPO_PATH\" add -A\n\n    # Verify staging worked\n    STAGED_FILES=$(git -C \"$REPO_PATH\" diff --cached --name-only)\n    if [ -z \"$STAGED_FILES\" ]; then\n        echo \" No changes to commit\" >&2\n        exit 1\n    fi\nelse\n    echo \"  Using already staged files\"\nfi\n\n# Show what will be committed\ngit -C \"$REPO_PATH\" status --short\n```\n\n### Step 7: Run Pre-commit Checks\n\nExecute pre-commit checks based on changed file types and flags:\n\n```bash\n# Skip checks if --no-verify flag is set\nif [ \"$FLAG\" = \"--no-verify\" ]; then\n    echo \"  Skipping pre-commit checks (--no-verify flag)\"\nelif [ \"$SCOPE\" = \"plan\" ] || [[ \"$SCOPE\" == *\"doc\"* ]]; then\n    echo \"  Skipping checks for documentation repository\"\nelif [ \"$FLAG\" = \"--full-verify\" ]; then\n    # Full build verification\n    echo \"Running full build verification...\"\n\n    if [ -d \"$MONOREPO_ROOT/backend\" ]; then\n        echo \"Building backend...\"\n        (cd \"$MONOREPO_ROOT/backend\" && ./gradlew build test) || {\n            echo \" Backend build failed\" >&2\n            exit 1\n        }\n    fi\n\n    if [ -d \"$MONOREPO_ROOT/frontend\" ]; then\n        echo \"Building frontend...\"\n        (cd \"$MONOREPO_ROOT/frontend\" && npm run build) || {\n            echo \" Frontend build failed\" >&2\n            exit 1\n        }\n    fi\n\n    echo \" Full build verification passed\"\nelse\n    # Smart detection - run checks based on file types\n    CHANGED_FILES=$(git -C \"$REPO_PATH\" diff --cached --name-only)\n\n    # Detect Kotlin files\n    if echo \"$CHANGED_FILES\" | grep -q '\\.kt$'; then\n        echo \"Running backend checks (Kotlin files detected)...\"\n        if [ -f \"$MONOREPO_ROOT/backend/gradlew\" ]; then\n            (cd \"$MONOREPO_ROOT/backend\" && ./gradlew detekt) || {\n                echo \" Kotlin checks failed\" >&2\n                exit 1\n            }\n        fi\n    fi\n\n    # Detect TypeScript/JavaScript files\n    if echo \"$CHANGED_FILES\" | grep -qE '\\.(ts|tsx|js|jsx)$'; then\n        echo \"Running frontend checks (TypeScript files detected)...\"\n        if [ -f \"$MONOREPO_ROOT/frontend/package.json\" ]; then\n            (cd \"$MONOREPO_ROOT/frontend\" && npx tsc --noEmit) || {\n                echo \" TypeScript checks failed\" >&2\n                exit 1\n            }\n        fi\n    fi\n\n    # Detect Python files\n    if echo \"$CHANGED_FILES\" | grep -q '\\.py$'; then\n        echo \"Running Python checks...\"\n        # Add Python linting if configured (e.g., pylint, flake8)\n    fi\n\n    # Detect Rust files\n    if echo \"$CHANGED_FILES\" | grep -q '\\.rs$'; then\n        echo \"Running Rust checks...\"\n        if [ -f \"$REPO_PATH/Cargo.toml\" ]; then\n            (cd \"$REPO_PATH\" && cargo check) || {\n                echo \" Rust checks failed\" >&2\n                exit 1\n            }\n        fi\n    fi\n\n    echo \" Pre-commit checks passed\"\nfi\n```\n\n### Step 8: Generate Commit Message\n\nAnalyze changes and create conventional commit message:\n\n```bash\n# Detect commit type from changed files\nDIFF_STAT=$(git -C \"$REPO_PATH\" diff --cached --stat)\n\n# Simple heuristic based on file patterns\nif echo \"$DIFF_STAT\" | grep -q \"test\\|spec\"; then\n    COMMIT_TYPE=\"test\"\n    EMOJI=\"\"\nelif echo \"$DIFF_STAT\" | grep -q \"\\.md\\|README\\|docs/\"; then\n    COMMIT_TYPE=\"docs\"\n    EMOJI=\"\"\nelif echo \"$DIFF_STAT\" | grep -qE \"build\\.gradle|package\\.json|pom\\.xml|Cargo\\.toml\"; then\n    COMMIT_TYPE=\"build\"\n    EMOJI=\"\"\nelif echo \"$DIFF_STAT\" | grep -qE \"\\.github|\\.gitlab|Jenkinsfile|\\.circleci\"; then\n    COMMIT_TYPE=\"ci\"\n    EMOJI=\"\"\nelif echo \"$DIFF_STAT\" | grep -q \"refactor\"; then\n    COMMIT_TYPE=\"refactor\"\n    EMOJI=\"\"\nelif echo \"$DIFF_STAT\" | grep -q \"fix\\|bug\"; then\n    COMMIT_TYPE=\"fix\"\n    EMOJI=\"\"\nelse\n    # Default to feat for most changes\n    COMMIT_TYPE=\"feat\"\n    EMOJI=\"\"\nfi\n\n# Analyze the actual changes to generate a meaningful description\nCHANGED_FILES_LIST=$(git -C \"$REPO_PATH\" diff --cached --name-only)\nADDITIONS=$(git -C \"$REPO_PATH\" diff --cached --numstat | awk '{sum+=$1} END {print sum}')\nDELETIONS=$(git -C \"$REPO_PATH\" diff --cached --numstat | awk '{sum+=$2} END {print sum}')\n\n# Generate commit message based on changes\n# You should analyze the diff and create a concise, meaningful message\n# For now, this is a template - Claude should intelligently describe the changes\nCOMMIT_SUBJECT=\"$COMMIT_TYPE: [brief description of changes]\"\nCOMMIT_BODY=\"[optional detailed explanation]\n\nChanges:\n$CHANGED_FILES_LIST\n\n$ADDITIONS additions, $DELETIONS deletions\"\n\n# Present commit message to user for approval\necho \"\"\necho \"Suggested commit message:\"\necho \"\"\necho \"$EMOJI $COMMIT_SUBJECT\"\necho \"\"\necho \"$COMMIT_BODY\"\necho \"\"\necho \"\"\n\n# Use AskUserQuestion tool to confirm or let user edit the message\n```\n\n### Step 9: Create Commit\n\nExecute git commit with the approved message:\n\n```bash\n# IMPORTANT: No Claude Code footer in commit messages\n# Create commit with clean message only\n\ngit -C \"$REPO_PATH\" commit -m \"$COMMIT_SUBJECT\" -m \"$COMMIT_BODY\" || {\n    echo \" Commit failed\" >&2\n    exit 1\n}\n\n# Get commit hash\nCOMMIT_HASH=$(git -C \"$REPO_PATH\" rev-parse --short HEAD)\n\necho \" Commit created: $COMMIT_HASH\"\necho \"\"\ngit -C \"$REPO_PATH\" log -1 --oneline\n```\n\n### Step 10: Handle Submodule References (if applicable)\n\nIf committed to a submodule, prompt to update root repository:\n\n```bash\n# If we committed to a submodule, check if root needs update\nif [ \"$SCOPE\" != \"root\" ]; then\n    # Check if submodule reference changed in root\n    SUBMODULE_REF_CHANGED=$(git -C \"$MONOREPO_ROOT\" status --porcelain | grep \"^ M $SCOPE$\")\n\n    if [ -n \"$SUBMODULE_REF_CHANGED\" ]; then\n        echo \"\"\n        echo \"  Submodule reference changed in root repository\"\n        echo \"\"\n\n        # Use AskUserQuestion to ask if they want to commit the submodule reference\n        # If yes:\n        # git -C \"$MONOREPO_ROOT\" add \"$SCOPE\"\n        # git -C \"$MONOREPO_ROOT\" commit -m \"build: update $SCOPE submodule reference\"\n    fi\nfi\n```\n\n## Commit Type Detection\n\nThe skill automatically detects commit types based on file patterns:\n\n| Pattern | Type | Emoji |\n|---------|------|-------|\n| test/spec files | `test` |  |\n| .md/README/docs/ | `docs` |  |\n| build files (package.json, Cargo.toml, etc.) | `build` |  |\n| CI/CD files (.github, Jenkinsfile) | `ci` |  |\n| Files with \"refactor\" | `refactor` |  |\n| Files with \"fix\" or \"bug\" | `fix` |  |\n| Default | `feat` |  |\n\n## Pre-commit Check Matrix\n\n| File Type | Check Command | When |\n|-----------|--------------|------|\n| `*.kt` | `./gradlew detekt` | Unless --no-verify |\n| `*.ts`, `*.tsx` | `npx tsc --noEmit` | Unless --no-verify |\n| `*.py` | Configurable linting | Unless --no-verify |\n| `*.rs` | `cargo check` | Unless --no-verify |\n| Documentation (`*.md`) | Skip checks | Always |\n| Full verify flag | `./gradlew build test && npm run build` | When --full-verify |\n\n## Important Notes\n\n- **Multi-repo/Submodule Support**: Automatically detects and handles monorepo structures\n- **Branch Protection**: Prevents commits to main branch in root repository\n- **Smart Checks**: Only runs checks relevant to changed file types\n- **No External Dependencies**: All logic uses git commands and Bash tool\n- **Clean Commit History**: No Claude Code attribution in commit messages\n\n## Supporting Documentation\n\nFor detailed information, see:\n\n- **[WORKFLOW.md](WORKFLOW.md)** - Step-by-step commit process including repository detection, pre-commit checks, and submodule handling\n- **[EXAMPLES.md](EXAMPLES.md)** - Real-world commit scenarios covering features, bug fixes, submodules, and verification modes\n- **[TROUBLESHOOTING.md](TROUBLESHOOTING.md)** - Common issues and solutions for pre-commit failures and submodule conflicts"
              },
              {
                "name": "creating-pr",
                "description": "Creates GitHub Pull Requests with existing PR detection, branch pushing, and intelligent title/body generation. Use when user requests to create pull request, open PR, update PR, push for review, ready for review, send for review, get this reviewed, make a PR, share code, request review, create draft PR, submit for review, run /create-pr command, or mentions \"PR\", \"pull request\", \"merge request\", \"code review\", \"GitHub PR\", or \"draft\".",
                "path": "plugins/git/skills/creating-pr/SKILL.md",
                "frontmatter": {
                  "name": "creating-pr",
                  "description": "Creates GitHub Pull Requests with existing PR detection, branch pushing, and intelligent title/body generation. Use when user requests to create pull request, open PR, update PR, push for review, ready for review, send for review, get this reviewed, make a PR, share code, request review, create draft PR, submit for review, run /create-pr command, or mentions \"PR\", \"pull request\", \"merge request\", \"code review\", \"GitHub PR\", or \"draft\"."
                },
                "content": "#  CRITICAL CONSTRAINTS\n\n## No Claude Code Footer Policy\n\n**YOU MUST NEVER add Claude Code attribution to pull requests.**\n\n-  **NO** \" Generated with [Claude Code]\" in PR titles or descriptions\n-  **NO** \"Co-Authored-By: Claude <noreply@anthropic.com>\" in PR content\n-  **NO** Claude Code attribution, footer, or branding of any kind\n\nPull requests are public code review documents and must remain clean and professional.\n\n---\n\n# GitHub PR Creation Workflow\n\nExecute GitHub Pull Request workflows with automatic repository detection, branch management, and intelligent PR content generation.\n\n## Usage\n\nThis skill is invoked when:\n- User runs `/create-pr` or `/git:create-pr` command\n- User requests to create a pull request\n- User asks to open a PR or push changes for review\n\n## How It Works\n\nThis skill handles the complete PR workflow:\n\n1. **Repository Detection** - Detect current repository context (root or submodule)\n2. **Branch Validation** - Verify not on protected branch, check for uncommitted changes\n3. **Branch Pushing** - Ensure branch exists on remote\n4. **Existing PR Detection** - Check if PR already exists for current branch\n5. **PR Content Generation** - Create title and description from commits\n6. **PR Creation** - Create or update PR using GitHub CLI\n\n## Supported Arguments\n\nParse arguments from user input:\n\n- **No arguments**: Auto-detect repository and create PR to main branch\n- **`<scope>`**: Direct PR for specific repository (root, submodule-name)\n- **`--draft`**: Create as draft PR\n- **`--base <branch>`**: Target branch (default: main)\n- **Combinations**: `<scope> --draft`, `root --base staging`, etc.\n\n## Prerequisites\n\n**GitHub CLI Required**: Must have `gh` installed and authenticated\n\n```bash\n# Install GitHub CLI (if not installed)\n# macOS: brew install gh\n# Linux: See https://cli.github.com/\n\n# Authenticate\ngh auth login\n```\n\n## PR Creation Workflow Steps\n\n### Step 1: Parse Arguments\n\nExtract scope, draft flag, and base branch from user input:\n\n```bash\n# Parse arguments\nSCOPE=\"\"\nDRAFT_FLAG=\"\"\nBASE_BRANCH=\"main\"\n\n# Example parsing:\n# \"root --draft\"  SCOPE=\"root\", DRAFT_FLAG=\"--draft\", BASE_BRANCH=\"main\"\n# \"--base staging\"  SCOPE=\"\", DRAFT_FLAG=\"\", BASE_BRANCH=\"staging\"\n# \"my-service --draft --base develop\"  SCOPE=\"my-service\", DRAFT_FLAG=\"--draft\", BASE_BRANCH=\"develop\"\n```\n\n### Step 2: Detect Repository Context\n\nFind monorepo root and determine current repository:\n\n```bash\n# Find monorepo root (handles submodules)\nif SUPERPROJECT=$(git rev-parse --show-superproject-working-tree 2>/dev/null) && [ -n \"$SUPERPROJECT\" ]; then\n    # We're in a submodule\n    MONOREPO_ROOT=\"$SUPERPROJECT\"\nelse\n    # We're in root or standalone repo\n    MONOREPO_ROOT=$(git rev-parse --show-toplevel)\nfi\n\n# Get current working directory\nCURRENT_DIR=$(pwd)\n\n# Determine repository context\nif [ -n \"$SCOPE\" ]; then\n    # User specified scope\n    if [ \"$SCOPE\" = \"root\" ]; then\n        REPO_PATH=\"$MONOREPO_ROOT\"\n    else\n        REPO_PATH=\"$MONOREPO_ROOT/$SCOPE\"\n    fi\nelse\n    # Auto-detect from current directory\n    # If in submodule, use submodule path\n    # If in root, use root path\n    if [[ \"$CURRENT_DIR\" == \"$MONOREPO_ROOT\" ]]; then\n        REPO_PATH=\"$MONOREPO_ROOT\"\n    else\n        # Find which submodule we're in\n        REPO_PATH=$(git -C \"$CURRENT_DIR\" rev-parse --show-toplevel)\n    fi\nfi\n\n# Validate repository\nif [ ! -d \"$REPO_PATH/.git\" ]; then\n    echo \" Error: Not a valid git repository: $REPO_PATH\" >&2\n    exit 1\nfi\n```\n\n### Step 3: Validate Branch State\n\nCheck current branch and uncommitted changes:\n\n```bash\n# Change to repository directory\ncd \"$REPO_PATH\"\n\n# Get current branch\nCURRENT_BRANCH=$(git rev-parse --abbrev-ref HEAD)\n\n# Check if on protected branch\nif [ \"$CURRENT_BRANCH\" = \"main\" ] || [ \"$CURRENT_BRANCH\" = \"master\" ]; then\n    echo \" Cannot create PR from protected branch: $CURRENT_BRANCH\" >&2\n    echo \"\" >&2\n    echo \"Please create a feature branch first:\" >&2\n    echo \"  git checkout -b feature/your-feature-name\" >&2\n    echo \"\" >&2\n    exit 1\nfi\n\n# Check for uncommitted changes\nUNCOMMITTED=$(git status --porcelain)\nif [ -n \"$UNCOMMITTED\" ]; then\n    echo \" Error: You have uncommitted changes\" >&2\n    echo \"\" >&2\n    echo \"Please commit or stash your changes before creating a PR:\" >&2\n    git status --short\n    echo \"\" >&2\n    exit 1\nfi\n\n# Check if branch has commits ahead of base\nCOMMITS_AHEAD=$(git rev-list --count \"$BASE_BRANCH..HEAD\" 2>/dev/null || echo \"0\")\nif [ \"$COMMITS_AHEAD\" = \"0\" ]; then\n    echo \" Error: No commits to create PR from\" >&2\n    echo \"Current branch '$CURRENT_BRANCH' has no commits ahead of '$BASE_BRANCH'\" >&2\n    exit 1\nfi\n\necho \"  Branch: $CURRENT_BRANCH ($COMMITS_AHEAD commits ahead of $BASE_BRANCH)\"\n```\n\n### Step 4: Push Branch to Remote\n\nEnsure branch exists on remote:\n\n```bash\n# Check if branch exists on remote\nREMOTE_BRANCH=$(git ls-remote --heads origin \"$CURRENT_BRANCH\" 2>/dev/null)\n\nif [ -z \"$REMOTE_BRANCH\" ]; then\n    echo \"  Branch not on remote, pushing...\"\n    git push -u origin \"$CURRENT_BRANCH\" || {\n        echo \" Failed to push branch to remote\" >&2\n        exit 1\n    }\n    echo \" Branch pushed to origin/$CURRENT_BRANCH\"\nelse\n    # Check if local is behind remote\n    LOCAL_HASH=$(git rev-parse HEAD)\n    REMOTE_HASH=$(git rev-parse \"origin/$CURRENT_BRANCH\" 2>/dev/null || echo \"\")\n\n    if [ \"$LOCAL_HASH\" != \"$REMOTE_HASH\" ]; then\n        echo \"  Local branch differs from remote, pushing...\"\n        git push origin \"$CURRENT_BRANCH\" || {\n            echo \" Failed to push branch to remote\" >&2\n            exit 1\n        }\n        echo \" Branch updated on remote\"\n    else\n        echo \"  Branch already up to date on remote\"\n    fi\nfi\n```\n\n### Step 5: Check for Existing PR\n\nDetect if PR already exists for this branch:\n\n```bash\n# Check for existing PR using GitHub CLI\nEXISTING_PR=$(gh pr view \"$CURRENT_BRANCH\" --json number,title,url 2>/dev/null || echo \"\")\n\nif [ -n \"$EXISTING_PR\" ]; then\n    # PR exists - extract info\n    PR_NUMBER=$(echo \"$EXISTING_PR\" | jq -r '.number')\n    PR_TITLE=$(echo \"$EXISTING_PR\" | jq -r '.title')\n    PR_URL=$(echo \"$EXISTING_PR\" | jq -r '.url')\n\n    echo \"\"\n    echo \"  Existing PR found:\"\n    echo \"  #$PR_NUMBER: $PR_TITLE\"\n    echo \"  $PR_URL\"\n    echo \"\"\n\n    # Use AskUserQuestion to ask user what to do\n    # Options:\n    # 1. Update PR (regenerate title/body and update)\n    # 2. View PR in browser (open URL)\n    # 3. Cancel (do nothing)\n\n    # If user chooses \"Update PR\":\n    # - Generate new title and body (Steps 6-7)\n    # - Update PR using: gh pr edit \"$PR_NUMBER\" --title \"...\" --body \"...\"\n    # - Show success message\n\n    # If user chooses \"View PR\":\n    # - Open PR URL in browser: gh pr view --web\n\n    # If user chooses \"Cancel\":\n    # - Exit gracefully\nfi\n```\n\n### Step 6: Generate PR Title\n\nAnalyze commits to create conventional PR title:\n\n```bash\n# Get all commits from base branch to current branch\nCOMMITS=$(git log \"$BASE_BRANCH..HEAD\" --oneline)\nCOMMIT_COUNT=$(echo \"$COMMITS\" | wc -l | tr -d ' ')\n\necho \"  Analyzing $COMMIT_COUNT commits...\"\n\n# Get the first commit message (most recent)\nLATEST_COMMIT=$(git log -1 --pretty=%B)\n\n# Detect commit type from latest commit or analyze all commits\n# Try to extract type from conventional commit format\nif echo \"$LATEST_COMMIT\" | grep -qE '^(feat|fix|docs|refactor|test|chore|perf|ci|build):'; then\n    # Extract type and description from conventional commit\n    COMMIT_TYPE=$(echo \"$LATEST_COMMIT\" | grep -oE '^[a-z]+' | head -1)\n    COMMIT_DESC=$(echo \"$LATEST_COMMIT\" | sed -E 's/^[a-z]+(\\([^)]+\\))?:\\s*//')\nelse\n    # Analyze changes to determine type\n    ALL_COMMITS=$(git log \"$BASE_BRANCH..HEAD\" --pretty=%B)\n\n    if echo \"$ALL_COMMITS\" | grep -qi \"fix\\|bug\"; then\n        COMMIT_TYPE=\"fix\"\n    elif echo \"$ALL_COMMITS\" | grep -qi \"feat\\|feature\\|add\"; then\n        COMMIT_TYPE=\"feat\"\n    elif echo \"$ALL_COMMITS\" | grep -qi \"docs\\|documentation\"; then\n        COMMIT_TYPE=\"docs\"\n    elif echo \"$ALL_COMMITS\" | grep -qi \"refactor\"; then\n        COMMIT_TYPE=\"refactor\"\n    elif echo \"$ALL_COMMITS\" | grep -qi \"test\"; then\n        COMMIT_TYPE=\"test\"\n    else\n        COMMIT_TYPE=\"feat\"\n    fi\n\n    # Generate description from branch name or commit\n    COMMIT_DESC=$(echo \"$LATEST_COMMIT\" | head -1 | sed 's/^\\s*//')\nfi\n\n# Generate PR title (capitalize first letter)\nPR_TITLE=\"$COMMIT_TYPE: $COMMIT_DESC\"\n\necho \"  Generated PR title: $PR_TITLE\"\n```\n\n### Step 7: Generate PR Body\n\nCreate PR description with summary and test plan:\n\n```bash\n# Generate PR body with summary from commits\nPR_BODY=\"## Summary\n\n\"\n\n# Add commit summaries\nif [ \"$COMMIT_COUNT\" -eq 1 ]; then\n    # Single commit - use full message\n    PR_BODY+=\"$LATEST_COMMIT\n\n\"\nelse\n    # Multiple commits - list them\n    PR_BODY+=\"This PR includes $COMMIT_COUNT commits:\n\n\"\n    while IFS= read -r commit; do\n        PR_BODY+=\"- $commit\n\"\n    done <<< \"$COMMITS\"\n    PR_BODY+=\"\n\"\nfi\n\n# Add test plan section\nPR_BODY+=\"## Test Plan\n\n- [ ] Code builds successfully\n- [ ] Tests pass\n- [ ] Manual testing completed\n- [ ] Documentation updated (if needed)\n\n## Changes\n\n\"\n\n# List changed files\nCHANGED_FILES=$(git diff --name-only \"$BASE_BRANCH..HEAD\")\nwhile IFS= read -r file; do\n    PR_BODY+=\"- \\`$file\\`\n\"\ndone <<< \"$CHANGED_FILES\"\n\necho \"\"\necho \"Generated PR description:\"\necho \"\"\necho \"$PR_BODY\"\necho \"\"\necho \"\"\n```\n\n### Step 8: Create PR\n\nUse GitHub CLI to create the PR:\n\n```bash\n# IMPORTANT: No Claude Code attribution in PR content\n\n# Build gh pr create command\nGH_CMD=\"gh pr create --title \\\"$PR_TITLE\\\" --body \\\"$PR_BODY\\\" --base \\\"$BASE_BRANCH\\\"\"\n\n# Add draft flag if specified\nif [ \"$DRAFT_FLAG\" = \"--draft\" ]; then\n    GH_CMD+=\" --draft\"\nfi\n\n# Execute PR creation\neval \"$GH_CMD\" || {\n    echo \" Failed to create PR\" >&2\n    exit 1\n}\n\n# Get PR URL\nPR_URL=$(gh pr view --json url -q '.url')\n\necho \"\"\necho \" Pull Request created successfully!\"\necho \"\"\necho \"PR URL: $PR_URL\"\necho \"\"\necho \"Next steps:\"\necho \"  - Review PR in browser: gh pr view --web\"\necho \"  - Check CI status: gh pr checks\"\necho \"  - Request reviews: gh pr ready (if draft)\"\necho \"\"\n```\n\n### Alternative: Update Existing PR\n\nIf updating an existing PR (user chose \"Update\" in Step 5):\n\n```bash\n# Update PR title and body\ngh pr edit \"$PR_NUMBER\" --title \"$PR_TITLE\" --body \"$PR_BODY\" || {\n    echo \" Failed to update PR\" >&2\n    exit 1\n}\n\necho \" Pull Request #$PR_NUMBER updated successfully!\"\necho \"PR URL: $PR_URL\"\n```\n\n## PR Title Generation Rules\n\nThe skill generates PR titles following conventional commit format:\n\n| Detected Pattern | Type | Example Title |\n|-----------------|------|---------------|\n| \"feat:\" in commits | `feat` | feat: add user authentication |\n| \"fix:\" in commits | `fix` | fix: resolve login timeout issue |\n| \"docs:\" in commits | `docs` | docs: update API documentation |\n| \"refactor:\" in commits | `refactor` | refactor: optimize database queries |\n| \"test:\" in commits | `test` | test: add integration tests |\n| Mentions \"bug\", \"fix\" | `fix` | fix: correct calculation error |\n| Mentions \"feature\", \"add\" | `feat` | feat: implement new feature |\n| Default | `feat` | feat: [description from commits] |\n\n## Important Notes\n\n1. **GitHub CLI Required**: Must have `gh` installed and authenticated\n   ```bash\n   gh auth login\n   ```\n\n2. **Branch Protection**: Cannot create PR from main/master branch\n\n3. **Existing PRs**: Automatically detects and offers to update existing PRs\n\n4. **Commit-Based Content**: PR title and body generated from commit messages\n\n5. **Works Anywhere**: Executes from any directory, resolves paths absolutely\n\n6. **Submodule Support**: Can create PRs for both root repository and submodules\n\n7. **Clean PR Content**: No Claude Code attribution in PR titles or descriptions\n\n## GitHub CLI Commands Used\n\nThis skill uses the following `gh` commands:\n\n```bash\n# Check for existing PR\ngh pr view <branch> --json number,title,url\n\n# Create new PR\ngh pr create --title \"...\" --body \"...\" --base <branch> [--draft]\n\n# Update existing PR\ngh pr edit <number> --title \"...\" --body \"...\"\n\n# View PR in browser\ngh pr view --web\n\n# Check PR status\ngh pr checks\n```\n\n## Supporting Documentation\n\nFor detailed information, see:\n\n- **[WORKFLOW.md](WORKFLOW.md)** - Step-by-step PR creation process including repository detection, branch management, and GitHub CLI integration\n- **[EXAMPLES.md](EXAMPLES.md)** - Real-world PR scenarios covering features, bug fixes, drafts, and submodule PRs\n- **[TROUBLESHOOTING.md](TROUBLESHOOTING.md)** - Common issues and solutions for GitHub CLI errors, authentication, and branch conflicts"
              },
              {
                "name": "generating-changelog",
                "description": "Analyzes git commit history and generates professional changelogs with semantic versioning, conventional commit support, and multiple output formats (Keep a Changelog, Conventional, GitHub). Use when editing CHANGELOG.md, CHANGELOG.txt, or HISTORY.md files, preparing release notes, creating releases, bumping versions, updating changelog, documenting changes, writing release notes, tracking changes, version bump, tag release, or when user mentions \"changelog\", \"release notes\", \"version history\", \"release\", \"semantic versioning\", or \"conventional commits\".",
                "path": "plugins/git/skills/generating-changelog/SKILL.md",
                "frontmatter": {
                  "name": "generating-changelog",
                  "description": "Analyzes git commit history and generates professional changelogs with semantic versioning, conventional commit support, and multiple output formats (Keep a Changelog, Conventional, GitHub). Use when editing CHANGELOG.md, CHANGELOG.txt, or HISTORY.md files, preparing release notes, creating releases, bumping versions, updating changelog, documenting changes, writing release notes, tracking changes, version bump, tag release, or when user mentions \"changelog\", \"release notes\", \"version history\", \"release\", \"semantic versioning\", or \"conventional commits\"."
                },
                "content": "# Git Changelog Generation\n\nAutomatically analyze git commit history and generate comprehensive changelogs following industry-standard formats.\n\n## Auto-Invoke Triggers\n\nThis skill automatically activates when:\n\n1. **Editing changelog files**: `CHANGELOG.md`, `CHANGELOG.txt`, `HISTORY.md`\n2. **Mentioning keywords**: \"changelog\", \"release notes\", \"version\", \"semantic versioning\"\n3. **Git tagging operations**: Creating or discussing version tags\n4. **Release preparation**: Discussing release preparation or deployment\n\n## What This Skill Delivers\n\nWhen invoked, this skill provides:\n\n### 1. Git History Analysis Report\n- Commit range analysis (since last tag or specified range)\n- Commit categorization by type (feat, fix, docs, etc.)\n- Semantic version bump recommendation (MAJOR, MINOR, PATCH)\n- Breaking changes detection\n- Author and PR number extraction\n\n### 2. Formatted Changelog\nChoose from multiple formats:\n- **Keep a Changelog** (default) - Industry standard, human-friendly\n- **Conventional** - Follows Conventional Commits specification\n- **GitHub** - GitHub-style release notes with PR links\n\n### 3. Update Strategy\n- Append to existing CHANGELOG.md (preserves history)\n- Overwrite with fresh changelog\n- Create new version section\n- Merge with existing sections\n\n## Common Use Cases\n\n### Project Types\n- **Microservices**: Track changes across multiple services\n- **Frontend Applications**: UI updates and features\n- **API Development**: REST API versioning and breaking changes\n- **Infrastructure**: Deployment, CI/CD, DevOps updates\n- **Documentation**: Technical docs, API docs, guides\n\n### Conventional Commit Examples\nThe skill recognizes standard commit conventions:\n```\nfeat: add new authentication endpoint\nfix: resolve token expiration issue\ndocs: update API documentation\nrefactor: optimize database queries\nperf: improve calculation performance\ntest: add integration tests\nbuild: upgrade framework version\nci: configure automated testing\nchore: update dependencies\n```\n\n### Monorepo Support\nThe skill handles monorepo structures:\n- Service-specific changelogs (e.g., `services/api/CHANGELOG.md`)\n- Frontend changelog (`frontend/CHANGELOG.md`)\n- Root changelog (project-wide changes)\n\n## Technical Features\n\n### Conventional Commits Support\nAutomatically categorizes commits by type:\n- `feat:`  Features section\n- `fix:`  Bug Fixes section\n- `docs:`  Documentation section\n- `style:`  Code Style section\n- `refactor:`  Refactoring section\n- `perf:`  Performance section\n- `test:`  Testing section\n- `build:`  Build System section\n- `ci:`  CI/CD section\n- `chore:`  Other Changes section\n\n### Semantic Versioning Detection\nAutomatically suggests version bumps:\n- **MAJOR** (x.0.0): Contains `BREAKING CHANGE:` or exclamation mark suffix\n- **MINOR** (0.x.0): Contains `feat:` commits\n- **PATCH** (0.0.x): Contains only `fix:` commits\n\n### Breaking Changes Detection\nIdentifies breaking changes from:\n- `BREAKING CHANGE:` footer in commit message\n- Exclamation mark after commit type (example: feat!: or fix!:)\n- Manual annotation in commit body\n\n### GitHub Integration\nExtracts from commit messages:\n- Pull request numbers (#123)\n- Issue references (#456)\n- Author information\n- Commit SHAs\n\n## Output Example\n\n```markdown\n# Changelog\n\nAll notable changes to this project will be documented in this file.\n\nThe format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),\nand this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).\n\n## [1.2.0] - 2025-10-22\n\n### Added\n- Keyword competition scoring algorithm for market analysis (#123)\n- Multi-currency support for revenue calculations (#124)\n- OpenSearch faceted search with Valkey caching (#125)\n\n### Fixed\n- JWT token expiration issue in user-service (#126)\n- Race condition in favorite-service list operations (#127)\n- Memory leak in trend-service ARIMA calculations (#128)\n\n### Changed\n- Upgraded Spring Boot to 3.4.3 across all services (#129)\n- Optimized search-service query performance (40% improvement) (#130)\n- Refactored supply-analytics-service ETL pipeline (#131)\n\n### Security\n- Updated Jackson to fix CVE-2025-12345 (#132)\n\n### Performance\n- Reduced trend-service calculation time from 2.5s to 0.8s (#133)\n\n## [1.1.0] - 2025-09-15\n\n...\n```\n\n## Progressive Disclosure\n\nThis is **Level 1** documentation (skill overview).\n\nFor more details, see:\n- **Level 2**: `WORKFLOW.md` - Step-by-step methodology\n- **Level 3**: `EXAMPLES.md` - Real-world usage examples\n- **Level 4**: `TROUBLESHOOTING.md` - Common issues and solutions\n\n## Usage\n\n### Via Command\n```bash\n/changelog\n/changelog --since v1.1.0 --version 1.2.0\n/changelog --format github --append\n```\n\n### Auto-Invoke\nThe skill activates automatically when:\n```bash\n# Editing changelog\nvim CHANGELOG.md\n\n# Discussing releases\n\"I need to prepare release notes for version 1.2.0\"\n\n# Git tagging\n\"Let's create a changelog for the v1.2.0 tag\"\n```\n\n## Integration with Development Workflow\n\n### Pre-Release Workflow\n1. Developer: `git tag v1.2.0-rc1`\n2. Skill auto-invokes: Analyzes commits since v1.1.0\n3. Skill generates: Draft changelog with categorized changes\n4. Developer reviews: Edits descriptions, adds context\n5. Developer: `/changelog --append --version 1.2.0`\n6. Skill updates: CHANGELOG.md with final content\n7. Developer commits: Changelog as part of release\n\n### Service-Specific Releases\n```bash\n# Generate changelog for specific service\ncd services/api\n/changelog --output CHANGELOG.md --since v1.0.0\n```\n\n### Monorepo Root Changelog\n```bash\n# Generate project-wide changelog\n/changelog --output CHANGELOG.md --format keepachangelog\n```\n\n## Quality Standards\n\n- **Conventional Commits**: 100% recognition of conventional commit format\n- **Semantic Versioning**: Automatic MAJOR/MINOR/PATCH detection\n- **Breaking Changes**: Clear highlighting of breaking changes\n- **PR Linking**: Automatic GitHub PR number extraction\n- **Date Formatting**: ISO 8601 dates (YYYY-MM-DD)\n- **Markdown Formatting**: Valid markdown with proper headers\n- **No Claude Code Footer**: Never include Claude Code attribution in changelog entries unless explicitly requested by user\n\n## See Also\n\n- `/doc-generate` - Generate comprehensive documentation\n- `/code-explain` - Explain complex code sections\n- `docs-architect` agent - Create technical documentation from code\n- `mermaid` skill or `/diagram` command - Generate diagrams (e.g., release flow diagrams)\n\n## Version\n\n1.0.0"
              }
            ]
          },
          {
            "name": "specprep",
            "description": "AI meta-prompt framework for Spec Kit workflow optimization",
            "source": "./plugins/specprep",
            "category": null,
            "version": null,
            "author": null,
            "install_commands": [
              "/plugin marketplace add joaquimscosta/arkhe-claude-plugins",
              "/plugin install specprep@arkhe-claude-plugins"
            ],
            "signals": {
              "stars": 3,
              "forks": 0,
              "pushed_at": "2026-01-12T16:47:59Z",
              "created_at": "2025-10-24T15:27:58Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/specify",
                "description": null,
                "path": "plugins/specprep/commands/specify.md",
                "frontmatter": null,
                "content": "---\ndescription: Clean and optimize feature text or files for use with /speckit.specify.\nargument-hint: [text-or-file] [draft] [mode: quick|strict]\n---\n\n# SpecPrep  Specification Optimizer\n\nYou are the **Spec Optimization Agent** for Spec-Driven Development (SDD).\nTransform the provided input (plain text or referenced file) into a **clear, structured, ambiguity-aware specification** ready for `/speckit.specify`.\n\n## Plan Mode Conflict Prevention\n\n**CRITICAL**: This skill has a self-contained workflow that MUST NOT be interrupted by Plan Mode.\n\n**If Plan Mode is active when this skill is invoked:**\n1. DO NOT follow Plan Mode workflow (Explore agents  Plan agents  plan file  ExitPlanMode)\n2. Warn the user: \"Plan Mode is active but conflicts with this skill's workflow. Please exit Plan Mode first.\"\n3. Use AskUserQuestion to request Plan Mode exit before proceeding\n4. Once Plan Mode is exited, proceed with normal optimization workflow below\n\n**This skill MUST NOT use:**\n- Explore agents (Task tool with subagent_type=Explore)\n- Planning agents (backend-engineer, frontend-engineer, Plan)\n- Plan file editing\n- ExitPlanMode tool\n\n**This skill ONLY:**\n- Reads and optimizes input text\n- Asks clarification questions (max 3 in strict mode)\n- Invokes `/speckit.specify` with the optimized text\n\n## Scope Reminder\n\n**IMPORTANT**: Your role is to CREATE or OPTIMIZE a specification only. You must NOT:\n- Write or modify any code\n- Create implementation files\n- Make architectural decisions about HOW to build\n- Implement any features\n\nYour output is a SPECIFICATION document that will be passed to `/speckit.specify`. Planning and implementation happen later, in separate phases.\n\n## Argument Parsing\n\nParse the command arguments as follows:\n- All `@file` references or quoted text are input content\n- Check for `draft` keyword in arguments (enables draft mode)\n- The **last non-draft positional argument** is the mode if it matches `quick` or `strict`\n- If no mode is specified or the last argument is not a recognized mode, use **default behavior** (balanced optimization)\n\nExamples:\n- `/specprep:specify @notes/idea.txt quick`  mode: quick, draft: false\n- `/specprep:specify \"Build a task tracker\" strict`  mode: strict, draft: false\n- `/specprep:specify @notes/idea.txt`  mode: default, draft: false\n- `/specprep:specify @notes/idea.txt draft`  mode: default, draft: true\n- `/specprep:specify @notes/idea.txt draft strict`  mode: strict, draft: true\n- `/specprep:specify @notes/idea.txt quick draft`  mode: quick, draft: true\n\n## Mode Behavior\n\n- **quick**  Light cleanup, minimal validation\n- **strict**  Full rule enforcement and clarification tagging\n- *(default)*  Balanced optimization\n\n## Instructions\n\n1. **Focus on WHAT and WHY**  remove any \"HOW\" or technology details.  \n2. **Detect ambiguities** and insert `[NEEDS CLARIFICATION: ]`.  \n3. **Organize output**:\n   - **Title**\n   - **Overview / Goal**\n   - **User stories & acceptance criteria**\n   - **Constraints / assumptions**\n4. **Ensure quality**:\n   - No speculative or future features  \n   - No stack or framework mentions  \n   - Requirements are testable and unambiguous  \n5. Output only the optimized specification text.\n\n## Mode Examples\n\nHere's how the same input is processed in each mode:\n\n**Input:**\n```\nBuild a task management app with AI-powered prioritization. Users can create tasks, set deadlines, and the system will automatically prioritize them using machine learning. We'll use React and Firebase for the backend.\n```\n\n**Quick Mode Output:**\n```markdown\nTask Management App\n\n## Overview\nUsers can create and manage tasks with deadlines.\n\n## Features\n- Create tasks with deadlines\n- Automatic prioritization\n- Task management interface\n```\n\n**Strict Mode Output:**\n```markdown\nTask Management App\n\n## Overview\nUsers can create and manage tasks with deadlines.\n\n## User Stories\n- As a user, I can create tasks with titles and deadlines\n- As a user, I can view my tasks\n- As a user, I can see tasks prioritized automatically\n\n## Constraints\n- [NEEDS CLARIFICATION: What criteria determine task priority?]\n- [NEEDS CLARIFICATION: Can users override automatic prioritization?]\n- [NEEDS CLARIFICATION: Maximum number of tasks per user?]\n\n## Notes\n[REMOVED: React and Firebase are implementation details]\n[REMOVED: \"machine learning\" is an implementation detail]\n```\n\n**Default Mode Output:**\n```markdown\nTask Management App with Automatic Prioritization\n\n## Overview\nUsers can create tasks with deadlines, and the system automatically prioritizes them.\n\n## User Stories\n- As a user, I can create tasks with a title and deadline\n- As a user, I can view my tasks in priority order\n- As a user, I can mark tasks as complete\n\n## Constraints\n- Prioritization is automatic based on system criteria\n- [NEEDS CLARIFICATION: Can users manually adjust priority?]\n\n## Assumptions\n- One user manages their own task list\n```\n\n## Interactive Correction (Strict Mode)\n\nWhen using **strict mode**, after generating output with `[NEEDS CLARIFICATION]` markers:\n\n1. Count the number of clarification markers\n2. Ask the user: \"Found N clarifications needed. Resolve interactively? [y/N]\"\n3. If user responds \"y\" or \"yes\":\n   - Present each clarification as a question\n   - Collect user responses\n   - Regenerate the specification with resolved clarifications\n4. If user responds \"n\" or \"no\":\n   - Return the specification as-is with markers intact\n\n## Draft Mode Workflow\n\nWhen `draft` argument is present, follow this workflow instead of automatically invoking SpecKit:\n\n### 1. Perform Optimization\n\n- Run the same optimization logic based on the specified mode (quick/strict/default)\n- Generate the optimized specification text as normal\n\n### 2. Generate Semantic Feature Name\n\nAnalyze the optimized specification content and generate a short, descriptive feature name:\n\n1. **Extract key concepts** from the specification title and overview\n2. **Create semantic summary** capturing the core feature in 2-3 words\n3. **Keep it brief**: Target 10-20 characters, max 25 characters\n4. **Sanitize for filesystem safety**:\n   - Convert to lowercase\n   - Replace spaces with hyphens\n   - Strip all special characters except hyphens and alphanumeric (a-z, 0-9)\n   - Remove consecutive hyphens (e.g., `--`  `-`)\n   - Remove leading/trailing hyphens\n   - Ensure only valid filename characters remain\n\n**Examples:**\n- \"User Authentication with OAuth 2.0\"  `oauth-auth` (10 chars)\n- \"Task Management System with AI Prioritization\"  `task-ai` (7 chars)\n- \"Payment Processing API Integration\"  `payment-api` (11 chars)\n- \"Real-time Chat Messaging\"  `realtime-chat` (13 chars)\n- \"Customer Profile Dashboard\"  `profile-dash` (12 chars)\n\n**Guidelines:**\n- Remove filler words (with, and, the, a, for, system)\n- Prioritize action/domain words\n- Use common abbreviations when clear (api, auth, db, ui)\n- Avoid dates, versions, or temporary qualifiers\n- Prefer shorter over longer (e.g., `auth` over `authentication`)\n\n**Validation & Fallback:**\n- If generated name is empty or invalid after sanitization, use AskUserQuestion to prompt for feature name\n- If name is less than 3 characters, consider asking user for confirmation or better name\n- Final name must be filesystem-safe (only lowercase letters, numbers, and hyphens)\n\nStore the generated slug as `{feature}`.\n\n### 3. Determine Git Root and Draft Directory\n\n**Get git repository root:**\n```bash\ngit rev-parse --show-toplevel\n```\n\n**If not in a git repository** (command fails):\n- Use the current working directory as the base\n- Warn user: \"Not in a git repository. Using current directory for drafts.\"\n\n**Construct draft directory path:**\n- Full path: `{git-root}/plan/drafts/` (or `{cwd}/plan/drafts/` if not in git)\n- Example: `/Users/jcosta/Projects/my-repo/plan/drafts/`\n\n**Create directory if needed:**\n```bash\nmkdir -p {base}/plan/drafts\n```\n\n### 4. Determine Draft Filename with Versioning\n\n**Check for existing draft files with matching feature name:**\n```bash\nls {git-root}/plan/drafts/{feature}-spec-draft-v*.md 2>/dev/null || echo \"none\"\n```\n\n**Determine version number:**\n- List all files matching pattern: `{feature}-spec-draft-v*.md`\n- Extract version numbers using pattern matching (e.g., `oauth-user-auth-spec-draft-v2.md`  `2`)\n- Find maximum version number\n- Use next version: `v{max+1}`\n- If no existing files found, use `v1`\n\n**Construct filename:**\n- Pattern: `{feature}-spec-draft-v{N}.md`\n- Example: `oauth-user-auth-spec-draft-v1.md`\n\n**Example version detection:**\n```bash\n# List existing files for feature \"oauth-user-auth\"\nls plan/drafts/oauth-user-auth-spec-draft-v*.md 2>/dev/null\n# Output: oauth-user-auth-spec-draft-v1.md, oauth-user-auth-spec-draft-v2.md\n\n# Extract max version (pattern matching)\nfor f in plan/drafts/oauth-user-auth-spec-draft-v*.md; do\n  [[ $f =~ -v([0-9]+)\\.md$ ]] && echo \"${BASH_REMATCH[1]}\"\ndone | sort -n | tail -1\n# Output: 2\n\n# Next version: v3\n# Filename: oauth-user-auth-spec-draft-v3.md\n```\n\n### 5. Save Draft File\n\n- Write the optimized specification content to the determined file using Write tool\n- Full path: `{git-root}/plan/drafts/{filename}`\n- Example: `/Users/jcosta/Projects/my-repo/plan/drafts/oauth-user-auth-spec-draft-v1.md`\n\n### 6. Present Output\n\n**Show the optimized specification text to the user**\n\n**Include save location:**\n- Format: `Draft saved to plan/drafts/{filename}`\n- Example: `Draft saved to plan/drafts/oauth-user-auth-spec-draft-v1.md`\n- Example: `Draft saved to plan/drafts/task-priority-ai-spec-draft-v2.md`\n\n### 7. Offer to Continue\n\n**Use AskUserQuestion tool to prompt:**\n- Question: \"Draft saved. Proceed with /speckit.specify?\"\n- Options: Yes / No\n- Default: No\n\n**If user selects \"Yes\":**\n- Use SlashCommand tool to invoke: `/speckit.specify {optimized spec text}`\n- Pass the complete optimized specification text to the SpecKit command\n\n**If user selects \"No\":**\n- Output: \"You can manually review/edit the draft and run `/specprep:specify @plan/drafts/{filename}` (without draft flag) when ready.\"\n\n## After Optimization\n\nOnce you have generated the optimized specification text:\n\n### If Draft Mode is NOT Active (Normal Mode)\n\n1. Present the optimized output to the user\n2. Use the SlashCommand tool to automatically invoke: `/speckit.specify {optimized spec text}`\n3. This chains the workflow so the user doesn't need to manually copy/paste\n4. After `/speckit.specify` completes successfully, suggest the next step:\n   - \"Spec created. When ready to plan implementation, run `/speckit.plan` from the spec directory, or provide the spec path directly.\"\n\n### If Draft Mode IS Active\n\n1. Follow the complete \"Draft Mode Workflow\" steps above (optimize, generate feature name, save file, present output, offer to continue)\n2. The draft file is saved and user can choose whether to proceed with SpecKit or stop for manual review\n3. If user proceeds and `/speckit.specify` completes, suggest:\n   - \"Spec created at `plan/specs/{feature}/spec.md`. When ready to plan implementation, run: `/speckit.plan @plan/specs/{feature}/spec.md`\"\n   - (Use the {feature} slug generated in step 2)\n\n**Important**: Only invoke the SpecKit command if optimization succeeds. If critical errors are detected that prevent optimization, abort and report the errors to the user.\n\n### Example usage\n\n**Normal mode (auto-invoke SpecKit):**\n```\n/specprep:specify @specs/001-feature/raw-spec.md\n/specprep:specify @specs/001-feature/raw-spec.md strict\n```\n\n**Draft mode (save to plan/drafts/ for review):**\n```\n/specprep:specify @notes/idea.txt draft\n# Generates feature name from content, saves to plan/drafts/{feature}-spec-draft-v1.md\n\n/specprep:specify @notes/idea.txt draft strict\n# Strict mode optimization, saves to plan/drafts/{feature}-spec-draft-v1.md\n\n/specprep:specify \"Build a task tracker with AI prioritization\" quick draft\n# Quick mode, saves to plan/drafts/task-tracker-ai-spec-draft-v1.md\n\n# If you run draft mode again with similar content:\n/specprep:specify @notes/idea-v2.txt draft\n# Auto-detects existing drafts, saves to plan/drafts/{feature}-spec-draft-v2.md\n```\n"
              }
            ],
            "skills": []
          },
          {
            "name": "design-intent",
            "description": "Design Intent for Spec-Driven Development - Build React prototypes with AI while maintaining design consistency",
            "source": "./plugins/design-intent",
            "category": null,
            "version": null,
            "author": null,
            "install_commands": [
              "/plugin marketplace add joaquimscosta/arkhe-claude-plugins",
              "/plugin install design-intent@arkhe-claude-plugins"
            ],
            "signals": {
              "stars": 3,
              "forks": 0,
              "pushed_at": "2026-01-12T16:47:59Z",
              "created_at": "2025-10-24T15:27:58Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/design-intent",
                "description": "Guided UI/visual development with structured exploration, architecture design, and quality review",
                "path": "plugins/design-intent/commands/design-intent.md",
                "frontmatter": {
                  "description": "Guided UI/visual development with structured exploration, architecture design, and quality review",
                  "argument-hint": "Optional visual reference (screenshot, Figma URL) or description"
                },
                "content": "# Design Intent Development\n\nYou are helping a developer implement UI/visual work while maintaining design consistency. Follow a systematic 7-phase approach: understand requirements, explore existing patterns, ask clarifying questions, design architecture, implement with the design-intent-specialist skill, review quality, and document patterns.\n\n## Core Principles\n\n- **Visual fidelity matters**: Match visual references accurately, flag conflicts with existing patterns\n- **Ask clarifying questions**: Identify all visual ambiguities, responsive needs, accessibility requirements\n- **Explore before building**: Understand existing components, tokens, and patterns first\n- **Read files identified by agents**: After agents complete, read identified files to build detailed context\n- **Use TodoWrite**: Track all progress throughout the 7 phases\n- **Invoke design-intent-specialist**: Use the skill during implementation phase for visual accuracy\n\n## Quick Mode\n\nIf invoked with `--quick` in the arguments, skip Phases 2 (Exploration) and 4 (Architecture):\n- Go directly from Discovery to Questions\n- After Questions, proceed to Implementation\n- Still perform Review and Patterns phases\n\nUse `--quick` for small changes, single components, or when patterns are already well-known.\n\n---\n\n## Phase 1: Discovery\n\n**Goal**: Understand what UI/visual work needs to be done\n\nInitial request: $ARGUMENTS\n\n**Actions**:\n1. Create todo list with all 7 phases\n2. Check if design-intent structure exists at `/design-intent/`\n   - If not found, suggest running `/setup` first\n3. Analyze the request type:\n   - Screenshot/image reference provided\n   - Figma URL provided\n   - Text description of UI to build\n   - Feature spec reference\n4. If visual reference provided, perform initial visual analysis:\n   - Layout structure\n   - Key components visible\n   - Color palette impression\n   - Typography observations\n5. If requirements unclear, ask user:\n   - What UI problem are they solving?\n   - What should it look like/do?\n   - What framework/design system are they using?\n   - Any constraints (accessibility, mobile-first, performance)?\n6. Summarize understanding and confirm with user before proceeding\n\n**Skip to Phase 3 if**: `--quick` flag is present in arguments\n\n---\n\n## Phase 2: Exploration\n\n**Goal**: Understand existing UI patterns, components, and design tokens\n\n**Actions**:\n1. Launch 2-3 ui-explorer agents in parallel. Each agent should:\n   - Focus on a different aspect of the UI codebase\n   - Return list of 5-10 key files to read\n   - Identify reuse opportunities and conflicts\n\n   **Example agent prompts**:\n   - \"Find existing components similar to [requirement], analyze their props, styling, and usage patterns\"\n   - \"Map design token usage in this codebase: colors, spacing, typography, shadows\"\n   - \"Analyze /design-intent/patterns/ for established design decisions that apply to [task]\"\n   - \"Identify responsive patterns, breakpoints, and mobile-first approaches in [area]\"\n\n2. Once agents return, read all files they identified\n3. Present comprehensive summary:\n   - Reusable components found (with file:line)\n   - Design tokens and conventions\n   - Established design intent patterns\n   - Similar implementations for reference\n   - Potential conflicts to resolve\n\n---\n\n## Phase 3: Clarifying Questions\n\n**Goal**: Fill in visual/UI gaps and resolve all ambiguities\n\n**CRITICAL**: Do not skip this phase. Ambiguity leads to rework.\n\n**Actions**:\n1. Review exploration findings (if Phase 2 was run) and original request\n2. Identify underspecified aspects:\n\n   **Visual Preferences**\n   - Color palette choices (which semantic colors?)\n   - Spacing preferences (compact, comfortable, spacious?)\n   - Typography details (sizes, weights, line heights?)\n\n   **Responsive Behavior**\n   - Target breakpoints (mobile, tablet, desktop?)\n   - Mobile layout approach (stack, hide, drawer?)\n   - Tablet-specific needs?\n\n   **Interactive States**\n   - Hover effects needed?\n   - Focus styling approach?\n   - Loading states?\n   - Error states?\n   - Disabled appearance?\n\n   **Accessibility**\n   - ARIA label requirements?\n   - Keyboard navigation needs?\n   - Screen reader considerations?\n   - Color contrast requirements?\n\n   **Edge Cases**\n   - Empty state design?\n   - Error/failure states?\n   - Overflow handling (truncate, wrap, scroll)?\n   - Maximum content scenarios?\n\n   **Animation/Transitions**\n   - Motion preferences (subtle, expressive, none)?\n   - Duration and easing?\n   - Entrance/exit animations?\n\n   **Component Variations**\n   - Different sizes needed?\n   - Theme variants (light/dark)?\n   - Density options?\n\n3. Present all questions in organized list by category\n4. **Wait for user answers before proceeding to architecture**\n\nIf user says \"whatever you think is best\", provide your recommendation and get explicit confirmation.\n\n---\n\n## Phase 4: Architecture Design\n\n**Goal**: Design multiple UI implementation approaches with trade-offs\n\n**Actions**:\n1. Launch 2-3 ui-architect agents with different design philosophies:\n   - **Minimal/Conservative**: \"Design UI architecture with maximum reuse of existing components, smallest changes to codebase\"\n   - **Clean/Ideal**: \"Design optimal UI component architecture with proper abstractions and long-term maintainability\"\n   - **Pragmatic/Balanced**: \"Design UI architecture balancing reuse with new components where clarity requires it\"\n\n2. Each agent provides:\n   - Component structure diagram\n   - Props/interface definitions\n   - Styling approach\n   - State management needs\n   - Responsive strategy\n   - File organization\n\n3. Review all approaches and form your recommendation based on:\n   - Task complexity (simple fix vs. new feature)\n   - Existing patterns in codebase\n   - User's stated preferences\n   - Long-term maintainability needs\n\n4. Present to user:\n   - Brief summary of each approach (2-3 sentences)\n   - Trade-offs comparison table\n   - **Your recommendation with clear reasoning**\n   - Concrete implementation differences\n\n5. **Ask user which approach they prefer before proceeding**\n\n---\n\n## Phase 5: Implementation\n\n**Goal**: Build the UI using the design-intent-specialist skill\n\n**DO NOT START without explicit user approval**\n\n**Actions**:\n1. Wait for explicit user approval (\"proceed\", \"go ahead\", \"implement\", etc.)\n2. Read all relevant files identified in previous phases\n3. Read the chosen architecture plan from Phase 4 (or your default approach if `--quick`)\n4. **Invoke the design-intent-specialist skill** by working through its workflow:\n   - Mandatory design intent pattern check\n   - Visual reference analysis\n   - Section decomposition for complex designs\n   - Implementation following established patterns\n   - Conflict resolution when reference diverges from patterns\n5. Follow the architecture chosen in Phase 4\n6. Use established patterns from Phase 2 exploration\n7. Update todos as you progress through implementation\n8. Support iterative refinement (\"more spacing\", \"darker\", \"align left\")\n\n**Skill Integration**: The design-intent-specialist skill handles actual visual implementation with its specialized capabilities for accuracy and pattern awareness.\n\n---\n\n## Phase 6: Quality Review\n\n**Goal**: Ensure UI is visually consistent, accessible, and follows patterns\n\n**Actions**:\n1. Launch 3 design-reviewer agents in parallel with different focuses:\n   - **Visual consistency**: \"Review for design token compliance, spacing adherence, typography correctness, visual hierarchy\"\n   - **Accessibility/Responsiveness**: \"Review for ARIA implementation, keyboard navigation, responsive breakpoints, touch targets\"\n   - **Pattern adherence**: \"Review for design intent pattern compliance, component consistency, naming conventions\"\n\n2. Each reviewer uses confidence scoring (only >=80 reported)\n\n3. Consolidate findings by severity:\n   - **Critical**: Must fix - accessibility violations, broken responsive, major pattern conflicts\n   - **Important**: Should fix - visual inconsistencies, minor UX issues\n\n4. Present findings to user and ask decision:\n   - **Fix now**: Address issues before completing\n   - **Fix later**: Document as known issues, proceed\n   - **Proceed as-is**: Accept current state\n\n5. Address issues based on user decision\n\n---\n\n## Phase 7: Patterns\n\n**Goal**: Extract and document reusable design patterns\n\n**Actions**:\n1. Analyze what was built in Phase 5\n2. Identify design pattern candidates:\n   - Custom layout patterns (not standard design system)\n   - Spacing decisions (contextual adjustments)\n   - Component compositions (how primitives combine)\n   - Responsive strategies (breakpoint behaviors)\n   - Visual treatments (unique styling approaches)\n   - State patterns (loading, error, empty)\n\n3. Present pattern candidates with:\n   - Pattern name and description\n   - Suggested location: `patterns/components/`, `patterns/foundations/`, `patterns/layouts/`\n   - Reusability assessment (high/medium/low)\n   - Reason for documentation\n\n4. **Wait for user to approve which patterns to save**\n\n5. For approved patterns, document using the design-intent template:\n   ```markdown\n   ## [Pattern Name]\n\n   **Context**: When this pattern applies\n   **Decision**: What we do\n   **When to Use**: Specific scenarios\n   **Components**: Files/components involved\n   **Why**: Rationale for the decision\n   **Dependencies**: Related patterns or requirements\n   ```\n\n6. Mark all todos complete\n\n7. Summarize:\n   - What was built\n   - Key design decisions made\n   - Files created/modified\n   - Patterns documented\n   - Suggested next steps (tests, documentation, related features)\n\n---\n\n## Constitution Compliance\n\nThroughout all phases, ensure work follows the project constitution (if present at `/design-intent/memory/constitution.md`):\n\n- **Article I** (Simplicity): Start simple, evolve gradually\n- **Article II** (Framework-first): Use design system components before custom\n- **Article III** (Responsive): Mobile-first approach\n- **Article IV** (Prototype): Mock data, happy paths for prototypes\n- **Article V** (Feature-first): Features define WHAT, visuals define HOW\n- **Article VI** (UI Quality): Microinteractions, visual hierarchy matter\n- **Article VII** (Documentation): Document proven patterns\n\n---"
              },
              {
                "name": "/diary",
                "description": "Create a session diary entry to document development progress, decisions, and handoff context",
                "path": "plugins/design-intent/commands/diary.md",
                "frontmatter": {
                  "description": "Create a session diary entry to document development progress, decisions, and handoff context"
                },
                "content": "# /diary\n\nThis command creates a session diary entry to document development progress, decisions, and handoff context.\n\n## Usage\n\n```\n/diary\n```\n\nCreates a new diary entry for the current date, or updates the existing entry if one already exists for today.\n\n## Process\n\n### 1. Determine File Path\n- **File naming**: `/design-intent/diary/session-YYYY-MM-DD.md` (e.g., `/design-intent/diary/session-2024-01-15.md`)\n- **Date format**: Use current date in YYYY-MM-DD format\n- **Check existing**: If file already exists for today, update it instead of creating new\n\n### 2. Gather Session Information\nBefore creating the entry, collect information about:\n- **Session goals**: What was planned for this session\n- **Accomplishments**: What was actually built or completed\n- **Key decisions**: Important choices made during implementation\n- **Current state**: Where the project stands now\n- **Next priorities**: What should happen in the next session\n- **Known issues**: Problems that aren't blocking but need attention\n\n### 3. Create Diary Entry\nUse the template from `/design-intent/diary/session-template.md`\n\n### 4. Content Guidelines\n\n#### What We Built Section\nFocus on **concrete outcomes**:\n-  \"Built gallery component with 3-card responsive layout\"\n-  \"Implemented user authentication flow with mock data\"\n-  \"Worked on some components\"\n-  \"Made progress on the frontend\"\n\n#### Key Implementation Details\nDocument **decisions and reasoning**:\n- Why specific approaches were chosen\n- What alternatives were considered\n- How constitution principles were applied\n- Trade-offs made for prototype goals\n\n#### Current State\nBe **specific about status**:\n- What functionality works end-to-end\n- What's partially implemented\n- What's blocked or needs attention\n- Any integration points established\n\n#### Tomorrow's Priorities\nMake priorities **actionable**:\n-  \"Add loading states to gallery cards\"\n-  \"Implement search functionality for user dashboard\"\n-  \"Continue working on UI\"\n-  \"Fix various issues\"\n\n### 5. Update Existing Entry\nIf a diary entry already exists for today:\n- **Append to accomplishments**: Add new items to \"What We Built\"\n- **Update current state**: Reflect latest progress\n- **Revise priorities**: Update based on what was completed\n- **Add new decisions**: Document any additional key choices made\n\n### 6. Output Confirmation\nAfter creating/updating the diary entry:\n\n```markdown\n## Diary Entry Complete\n\n**File**: `/design-intent/diary/session-[YYYY-MM-DD].md`\n**Status**: [Created new / Updated existing]\n\n### Session Summary\n- **Accomplishments**: [X] items documented\n- **Key Decisions**: [X] implementation choices recorded\n- **Next Priorities**: [X] tasks identified for next session\n\n### Handoff Ready\nThis entry provides context for:\n-  Current project state\n-  Recent decisions and trade-offs\n-  Next session priorities\n-  Known issues and considerations\n```\n\n## When to Use\n\n### End of Session (Primary)\n- User says \"let's wrap up\" or similar\n- Natural stopping point reached\n- Before committing major work\n\n### Major Milestone\n- Feature completion\n- Significant architectural decision\n- Integration point established\n\n### Handoff Situations\n- Switching context to different feature\n- Long break between sessions expected\n- Complex decisions that need documentation\n\n### User Request\n- User explicitly asks for documentation\n- Project review or status check needed\n- Planning next development phase\n\n## Integration Points\n\n### Session Continuity\n- Next session starts by reading latest diary entry\n- Provides context for where to resume work\n- Maintains momentum across sessions\n\n### Git Workflow\n- Create diary entries before major commits\n- Reference diary in commit messages if helpful\n- Document decisions that affect architecture\n\n### Design Intent Relationship\n- Note any design patterns established\n- Reference any `/save-patterns` commands used\n- Track custom components created\n\n### Constitution Compliance\n- Document how constitution principles were applied\n- Note any trade-offs made for simplicity\n- Record framework-first decisions\n\n## Behavioral Notes\n\n1. **Outcome-focused**: Document what was built, not how it was built\n2. **Decision-focused**: Capture why choices were made, not just what was done\n3. **Handoff-ready**: Write for someone else to continue the work\n4. **Actionable**: Make priorities concrete and specific\n5. **Honest**: Document both successes and known issues\n6. **Pattern-aware**: Note design decisions that affect consistency"
              },
              {
                "name": "/feature",
                "description": "Create a new feature specification following the SDD workflow",
                "path": "plugins/design-intent/commands/feature.md",
                "frontmatter": {
                  "description": "Create a new feature specification following the SDD workflow"
                },
                "content": "# /feature\n\nThis command guides AI assistants through creating a new feature following the SDD workflow.\n\n## Required Information\n\nBefore creating a feature, ensure you have:\n- **Problem Statement**: What problem are we solving?\n- **User Personas**: Who will use this feature?\n- **Success Metrics**: How will we measure if it works?\n- **Assumptions**: What do we believe about user needs?\n- **Scope**: Clear boundaries of what's included/excluded\n\nIf any information is missing, ask for it before proceeding.\n\n## Process\n\n### 1. Create Feature Branch\n\n```bash\n# Find repository root\ngit rev-parse --show-toplevel\n\n# Check existing features\nls design-intent/specs/\n\n# Generate next number (e.g., 001, 002, 003)\n# Create branch name: ###-feature-name (2-3 words, lowercase, hyphenated)\ngit checkout -b ###-feature-name\n```\n\n### 2. Create Feature Structure\n\n```bash\n# Create feature directory\nmkdir -p design-intent/specs/###-feature-name\n\n# Copy templates\ncp design-intent/specs/000-template/feature-spec.md design-intent/specs/###-feature-name/\ncp design-intent/specs/000-template/implementation-plan.md design-intent/specs/###-feature-name/\n```\n\n### 3. Fill Feature Spec\n\nUpdate the feature spec with:\n- Current date\n- Author name\n- Feature branch name\n- Problem statement focusing on user impact\n- User stories with clear happy paths\n- Success criteria tied to metrics\n\n### 4. Create Initial Assumption\n\nBefore jumping to solutions, document in the spec:\n- What assumption are we making about user behavior?\n- What hypotheses could validate this assumption?\n- What metrics would prove we're right?\n\n### 5. Confirm Creation\n\nReport back:\n- Branch name created\n- Files created at paths\n- Next step: Review feature spec and create implementation plan\n\n## Example Output\n\n\"I've created feature branch `003-game-preloading` with:\n- `/design-intent/specs/003-game-preloading/feature-spec.md`\n- `/design-intent/specs/003-game-preloading/implementation-plan.md`\n\nThe spec captures your assumption that slow game loads cause user drop-off. Next, we should review the spec and plan implementation approaches.\""
              },
              {
                "name": "/implement",
                "description": null,
                "path": "plugins/design-intent/commands/implement.md",
                "frontmatter": null,
                "content": "---\ndescription: Execute the implementation plan, coordinating both engineering and design aspects of the feature\nargument-hint: [feature-name] (defaults to current branch)\n---\n\n# /implement\n\n**Purpose**: Execute the implementation plan, coordinating both engineering and design aspects of the feature\n\n**Usage**: `/implement` or `/implement <feature-name>`\n\n## What This Command Does\n\n1. **Derives Feature Name** - Gets feature name from git branch or explicit argument\n2. **Detects Spec System** - Searches for specs in priority order (Design-Intent, then SpecKit)\n3. **Loads Appropriate Specs** - Based on detected system\n4. **Executes Implementation**:\n   - **Design-Intent**  Uses design-intent-specialist workflow\n   - **SpecKit**  Uses task-driven or phase-based workflow\n5. **Smart Quality Review** - Only runs design-reviewer agents if UI work detected\n\n---\n\n## Feature Name Derivation\n\nThe command derives the feature name using this logic:\n\n1. **If argument provided**: Use the explicit feature name\n   - `/implement user-auth`  feature = `user-auth`\n\n2. **If no argument**: Extract from current git branch\n   - `feat/001-user-auth`  `001-user-auth` (strips type prefix only)\n   - `fix/login-bug`  `login-bug` (strips type prefix)\n   - `feature/dashboard`  `dashboard` (strips type prefix)\n\n3. **Branch parsing rules**:\n   - Remove common prefixes: `feat/`, `fix/`, `feature/`, `refactor/`, `chore/`, `docs/`, `test/`\n   - Keep numbered prefixes intact (e.g., `001-dashboard` stays as-is)\n   - Result is the feature slug used to locate specs\n\n4. **Fallback**: If on `main` or `master` without argument, prompt for feature name\n\n---\n\n## Spec System Detection\n\nThe command searches for specs in this priority order:\n\n| Priority | Location | Spec System | Required Files |\n|----------|----------|-------------|----------------|\n| 1 | `design-intent/specs/{feature}/` | Design-Intent | `implementation-plan.md` |\n| 2 | `plan/specs/{feature}/` | SpecKit | `plan.md` |\n| 3 | `specs/{feature}/` | SpecKit | `plan.md` |\n\n### Detection Algorithm\n\n```\n1. Get git repository root\n2. Derive feature name (from argument or branch)\n3. Check design-intent/specs/{feature}/implementation-plan.md\n    If exists: SPEC_SYSTEM = \"design-intent\"\n4. Else check plan/specs/{feature}/plan.md\n    If exists: SPEC_SYSTEM = \"speckit\", SPEC_PATH = \"plan/specs/{feature}\"\n5. Else check specs/{feature}/plan.md\n    If exists: SPEC_SYSTEM = \"speckit\", SPEC_PATH = \"specs/{feature}\"\n6. If none found: Show error with guidance\n```\n\n---\n\n## Implementation Strategy\n\n### **Design-Intent Workflow**\n\nWhen `design-intent/specs/{feature}/` is detected:\n\nFor UI implementation, follow the design-intent-specialist workflow:\n\n- **Existing design intent review** - Check established patterns for consistency\n- **Sectional decomposition** - Break complex UI into manageable sections (header, nav, main, footer)\n- **Detailed analysis** - Focus on layout, spacing, typography, responsiveness per section\n- **Conflict resolution** - Handle conflicts between plan specs and existing design intent patterns\n- **Component reuse** - Leverage existing components where appropriate\n\nSee `skills/design-intent-specialist/SKILL.md` for detailed implementation guidance.\n\n### **SpecKit Workflow**\n\nWhen `plan/specs/{feature}/` or `specs/{feature}/` is detected:\n\n#### If `tasks.md` exists (Task-Driven)\n\n1. Load `plan.md` for implementation context and guidance\n2. Load `tasks.md` and parse the task list\n3. For each uncompleted task (`- [ ]`):\n   - Announce: \"Implementing: {task description}\"\n   - Execute the implementation\n   - Mark task complete: Update `- [ ]` to `- [x]` in `tasks.md`\n4. After all tasks complete, summarize progress\n\n#### If only `plan.md` exists (Phase-Based)\n\n1. Load `plan.md` for implementation guidance\n2. Extract phases/sections from the plan\n3. Implement each phase sequentially\n4. Report progress after each phase\n\n#### SpecKit Implementation Approach\n\n- Use general implementation patterns (not design-intent-specialist by default)\n- Follow the technical approach specified in `plan.md`\n- Respect any constraints from `spec.md` if present\n- May optionally use design-intent-specialist if plan involves significant UI work\n\n### **For Backend/Logic Components**\n\nFor backend implementation (both spec systems):\n\n- **API endpoints** - Server logic, data handling, business rules\n- **Database changes** - Schema updates, migrations, queries\n- **Testing** - Unit tests, integration tests, component tests\n- **Architecture** - Project structure, configuration, dependencies\n\n### **Coordination Approach**\n\n- **Sequential implementation** - Design components first (they define data needs), then backend\n- **Iterative refinement** - Build, test, refine each component\n- **Integration points** - Ensure frontend and backend work together seamlessly\n\n---\n\n## Design Implementation Behavior\n\nWhen implementing visual components, follow the design-intent-specialist workflow (see `skills/design-intent-specialist/SKILL.md`):\n\n### **Conflict Resolution**\n\nWhen implementation plan conflicts with existing design intent:\n\n1. **Implement the plan faithfully** - Follow the implementation plan specifications\n2. **Flag conflicts clearly** - \"Plan specifies 16px spacing, but our design intent uses 12px for this pattern\"\n3. **Ask for user guidance** - \"Should I follow the plan exactly, or adapt to use our established spacing?\"\n4. **Suggest implications** - \"If we use the plan spacing, should this become our new standard?\"\n\n### **Section-by-Section Implementation**\n\nFor complex UI components, automatically breaks down into:\n\n- **Layout**: Component structure, grid systems, positioning\n- **Spacing**: Margins, padding, gaps between elements\n- **Typography**: Font weights, sizes, line heights, text treatments\n- **Responsiveness**: How each section adapts across breakpoints\n- **Visual treatment**: Colors, shadows, borders, hover states\n\n---\n\n## Smart Quality Review\n\nQuality review is triggered based on spec content analysis.\n\n### UI Detection Logic\n\nBefore launching design-reviewer agents, scan the spec files for UI-related content.\n\n**UI Keywords (case-insensitive)**:\n\n| Category | Keywords |\n|----------|----------|\n| Components | component, button, form, input, modal, dialog, dropdown, menu, navbar, sidebar, header, footer, card, panel, table, list, grid, tab, accordion, tooltip, toast |\n| Visual/Design | layout, design, visual, style, css, scss, styled, color, theme, dark mode, icon, animation, transition, hover, responsive, breakpoint |\n| Frontend | react, vue, angular, jsx, tsx, html, fluent, material, tailwind, UI, frontend, page, screen, view, navigation |\n\n**Detection Rule**:\n\nRun design-reviewer agents if:\n- **3 different keyword categories** are matched, OR\n- **5 total keyword matches** across all categories\n\nOtherwise, skip the quality review phase (purely backend spec).\n\n### Review Focuses (When Triggered)\n\nLaunch 3 design-reviewer agents in parallel:\n\n1. **Visual Consistency**\n   - \"Review for design token compliance, spacing adherence, typography correctness, visual hierarchy\"\n\n2. **Accessibility/Responsiveness**\n   - \"Review for ARIA implementation, keyboard navigation, responsive breakpoints, touch targets\"\n\n3. **Pattern Adherence**\n   - \"Review for design intent pattern compliance, component consistency, naming conventions\"\n\n### Review Process\n\n1. Each reviewer uses confidence scoring (only issues >=80 reported)\n2. Consolidate findings by severity:\n   - **Critical (>=90)**: Must fix - accessibility violations, broken layouts\n   - **Important (80-89)**: Should fix - inconsistencies, minor UX issues\n3. Present findings to user with options:\n   - **Fix now**: Address issues before completing\n   - **Fix later**: Document as known issues, proceed\n   - **Proceed as-is**: Accept current state\n4. Address issues based on user decision\n\n---\n\n## Prerequisites\n\nBefore running `/implement`, ensure specs exist in one of these locations:\n\n### Design-Intent Specs\n\n- `design-intent/specs/{feature}/feature-spec.md` - Feature specification\n- `design-intent/specs/{feature}/implementation-plan.md` - Implementation plan (required)\n\nCreate with: `/feature`  `/plan`\n\n### SpecKit Specs\n\n- `plan/specs/{feature}/spec.md` or `specs/{feature}/spec.md` - Specification\n- `plan/specs/{feature}/plan.md` or `specs/{feature}/plan.md` - Implementation plan (required)\n- `plan/specs/{feature}/tasks.md` or `specs/{feature}/tasks.md` - Task list (optional)\n\nCreate with: `/speckit.specify`  `/speckit.plan`  `/speckit.tasks`\n\n---\n\n## Error Handling\n\n### No Specs Found\n\n```\nError: No specs found for feature \"{feature}\"\n\nSearched locations:\n- design-intent/specs/{feature}/ (not found)\n- plan/specs/{feature}/ (not found)\n- specs/{feature}/ (not found)\n\nTo create specs:\n- Design-Intent: Run /feature then /plan\n- SpecKit: Run /speckit.specify then /speckit.plan\n```\n\n### Incomplete Specs\n\n```\nWarning: Found spec directory at {location} but missing required files\n\nMissing: {missing_file}\n\nPlease complete spec creation before implementation.\n```\n\n### Branch Detection Failure\n\n```\nWarning: Could not derive feature from branch \"{branch}\"\n\nYou are on a main/master branch or the branch name format is not recognized.\n\nOptions:\n1. Provide feature name explicitly: /implement <feature-name>\n2. Switch to a feature branch: git checkout feat/your-feature\n```\n\n---\n\n## Output\n\nComplete feature implementation including:\n\n- **Working UI components** that match plan specifications (if applicable)\n- **Backend functionality** that supports the feature requirements\n- **Responsive behavior** across all breakpoints (if UI work)\n- **Consistent design** that follows established patterns\n- **Tested functionality** ready for user feedback\n- **Integration** between frontend and backend components\n- **Quality review results** (if UI work detected) with any issues addressed or documented\n- **Updated tasks.md** with completed tasks marked (if SpecKit with tasks.md)\n\n---\n\n## When to Use\n\n- After completing `/feature` and `/plan` workflow (Design-Intent)\n- After completing `/speckit.specify`  `/speckit.plan`  `/speckit.tasks` workflow (SpecKit)\n- When implementation plan is approved and ready to execute\n- When you want coordinated full-stack feature delivery\n- When you need both design and engineering aspects handled together\n\n---\n\n## Relationship to Other Commands\n\n### Design-Intent Workflow\n- **Follows `/plan`** - Executes the implementation plan created by `/plan`\n- **Uses design-intent-specialist skill** - See `skills/design-intent-specialist/SKILL.md`\n- **Prepares for `/diary`** - Creates complete feature ready for session documentation\n\n### SpecKit Workflow\n- **Follows `/speckit.plan`** - Executes the plan created by SpecKit\n- **Works with `/speckit.tasks`** - Can track and update task completion\n- **General implementation** - Does not require design-intent-specialist\n\n---\n\n## Usage Examples\n\n```bash\n# Auto-detect from branch (recommended)\n/implement\n\n# Branch: feat/001-dashboard with design-intent specs\n#  Detects design-intent/specs/001-dashboard/\n#  Uses design-intent-specialist workflow\n#  Runs UI review (UI content detected)\n\n# Branch: feat/002-auth with SpecKit specs\n#  Detects plan/specs/002-auth/\n#  Loads plan.md + tasks.md\n#  Implements tasks sequentially, marks complete\n#  Skips review (backend-only content)\n\n# Explicit feature name (overrides branch)\n/implement user-auth\n```\n"
              },
              {
                "name": "/plan",
                "description": "Create an implementation plan after the feature spec is approved",
                "path": "plugins/design-intent/commands/plan.md",
                "frontmatter": {
                  "description": "Create an implementation plan after the feature spec is approved"
                },
                "content": "# /plan\n\nThis command creates an implementation plan after the feature spec is approved.\n\n## Process\n\n1. **Check Current Feature**\n   - Get current branch name\n   - Verify feature spec exists at `/design-intent/specs/[branch-name]/feature-spec.md`\n   - If no spec exists, stop and inform user\n\n2. **Read Feature Spec**\n   Extract from the spec:\n   - Feature name and purpose\n   - User stories and success criteria\n   - What needs to be built (not how)\n\n3. **Check for Visual References**\n   If feature spec mentions design references/screenshots:\n   - Add \"Visual Reference Mapping\" section to the plan\n   - Map reference UI elements to feature requirements\n   - Example:\n     ```\n     ## Visual Reference Mapping\n\n     ### Reference: Loop Gallery  Our: Prototype Gallery\n     - Loop shows workspaces  We show prototypes\n     - Keep: 3-column grid, card hover effects, sidebar layout\n     - Adapt: Workspace metadata  Prototype metadata (title, author, preview)\n     ```\n\n4. **Check Existing Design Intent**\n   - Review existing `/design-intent/patterns/` for established patterns that should be reused\n   - Note any custom patterns that should be followed for consistency\n\n5. **Create Implementation Plan**\n   Create `/design-intent/specs/[branch-name]/implementation-plan.md` with:\n   - Technical approach (keeping it simple per constitution)\n   - Visual reference mapping (if applicable)\n   - Existing pattern references (for consistency)\n   - Component structure\n   - Time estimates (team vs AI-assisted)\n   - Implementation phases\n\n6. **Follow Constitution**\n   Ensure the plan:\n   - Starts simple (Article I)\n   - Uses framework features first (Article II)\n   - Includes responsive design approach (Article III)\n   - Focuses on mock data and happy paths (Article IV)\n   - Follows feature-first principle (Article V)\n   - Uses existing patterns for consistency (Article VII)\n\n7. **Confirm Creation**\n   Report back:\n   - Implementation plan created at: `/design-intent/specs/[branch-name]/implementation-plan.md`\n   - Key technical decisions made\n   - Ready to build when user approves\n\n## Remember\n- The spec defines WHAT and WHY\n- The implementation plan defines HOW\n- Keep it simple - this is for prototypes, not production\n- Follow the constitution's principles"
              },
              {
                "name": "/save-patterns",
                "description": "Analyze recent work and suggest design patterns that should be preserved as design intent",
                "path": "plugins/design-intent/commands/save-patterns.md",
                "frontmatter": {
                  "description": "Analyze recent work and suggest design patterns that should be preserved as design intent"
                },
                "content": "# /save-patterns\n\n**Purpose**: Analyze recent work and suggest design patterns that should be preserved as design intent\n\n**Usage**: `/save-patterns [category]`\n\n**Examples**:\n- `/save-patterns` - Analyze all recent work for patterns\n- `/save-patterns components` - Focus on component patterns only\n- `/save-patterns foundations` - Focus on spacing, typography, color patterns\n- `/save-patterns layouts` - Focus on layout and grid patterns\n\n## What This Command Does\n\n1. **Reviews Recent Work** - Analyzes code changes, components created, and design decisions made in the current session\n2. **Identifies Reusable Patterns** - Finds design decisions that could benefit other features\n3. **Suggests Documentation Locations** - Recommends where each pattern should be documented (components/, foundations/, patterns/)\n4. **Presents Summary for Review** - Shows findings to user for manual decision-making\n5. **Waits for User Direction** - Does NOT automatically document anything\n\n## Analysis Focus\n\nThe agent will look for:\n\n### **Custom Design Decisions**\n- Layout patterns that deviate from standard design system\n- Spacing decisions that aren't standard tokens\n- Component compositions unique to your application\n- Content hierarchies and information architecture patterns\n\n### **Reusable Components**\n- Custom components created during implementation\n- Extensions to existing components\n- Component variations that could be reused\n\n### **Responsive Patterns**\n- Breakpoint-specific behaviors\n- Mobile optimization strategies\n- Layout adaptations across screen sizes\n\n### **Visual Treatments**\n- Color usage beyond design system tokens\n- Typography treatments for specific contexts\n- Shadow, border, and elevation patterns\n\n## Output Format\n\nThe agent will present findings as:\n\n```markdown\n## Design Intent Candidates\n\n### Components Patterns\n- **CustomDataCard**  `components/data-card.md`\n  - Reason: Unique hover states and nested action buttons\n  - Reusability: High - used in 3+ contexts\n\n### Foundation Patterns\n- **48px Section Spacing**  `foundations/custom-spacing.md`\n  - Reason: Consistent spacing between major page sections\n  - Reusability: Medium - applies to L1 layouts\n\n### Layout Patterns\n- **Three-Column Dashboard**  `patterns/dashboard-layout.md`\n  - Reason: Specific grid system for dashboard pages\n  - Reusability: High - dashboard variations\n\n## Not Recommended for Documentation\n- Standard Fluent spacing tokens (already in design system)\n- Default component behaviors (documented in Fluent)\n```\n\n## User Decision Process\n\nAfter reviewing the summary:\n1. **Review each suggestion** - Decide which patterns are worth preserving\n2. **Request documentation** - \"Document the CustomDataCard pattern\"\n3. **Provide guidance** - \"Skip the spacing pattern, it's too specific\"\n4. **Manual control** - You decide what gets documented and where\n\n## When to Use\n\n- After completing a feature implementation\n- When you've created custom components or patterns\n- Before starting new features (to capture recent learning)\n- When you want to build up your design intent library\n\n## What Gets Documented\n\nOnly patterns you explicitly approve will be documented using the **design intent template** at `/design-intent/patterns/design-intent-template.md`.\n\n**Must follow template structure exactly**:\n- Use the template headings: Context, Decision, When to Use, Components, Why, Dependencies\n- Follow the writing guidelines in the template\n- Focus on design decisions, not implementation details\n- Keep content concise and agent-friendly\n- Apply the template test: \"If this component changed, would this design intent become wrong?\"\n\n**Document only your design dialect**:\n- Custom layout patterns and compositions\n- Contextual spacing decisions that deviate from design system\n- Component usage rules specific to your application\n- Visual treatments that create your unique design voice\n\n**Do NOT document design system artifacts**:\n- Standard design tokens (colors, typography scales)\n- Default component behaviors from Fluent UI\n- Standard responsive breakpoints"
              },
              {
                "name": "/setup",
                "description": "Initialize design intent project structure with templates for memory, specs, and design patterns",
                "path": "plugins/design-intent/commands/setup.md",
                "frontmatter": {
                  "description": "Initialize design intent project structure with templates for memory, specs, and design patterns"
                },
                "content": "# /setup\n\n**Purpose**: Initialize the Design Intent for SDD (Spec-Driven Development) structure in your project with smart auto-detection\n\n**Usage**: `/setup`\n\n## What This Command Does\n\n1. **Detects Project Configuration** - Analyzes package.json, README, .mcp.json, and existing code\n2. **Confirms Settings with User** - Individual confirmations for each detected setting\n3. **Creates Directory Structure** - Sets up the complete design intent folder hierarchy\n4. **Auto-fills Templates** - Intelligently populates templates based on confirmed settings\n5. **Supports Incremental Updates** - Re-running updates specific sections without overwriting customizations\n\n## Directory Structure Created\n\n```\nyour-project/\n design-intent/\n    memory/\n       constitution.md      # Core development principles\n       team-roles.md        # AI/User collaboration expectations\n       project-vision.md    # Your project overview (template)\n    specs/\n       000-template/\n           feature-spec.md       # Feature specification template\n           implementation-plan.md # Implementation plan template\n    patterns/\n       design-intent-template.md  # Pattern documentation template\n    diary/\n        session-template.md   # Session diary template\n```\n\n## Process\n\n### 1. Check for Existing Setup\n\nIf `design-intent/` directory already exists, offer incremental update:\n\n```\nDesign Intent structure already exists.\n\nWhat would you like to update?\n1. Project vision (preserve customizations)\n2. Constitution (merge new framework guidance)\n3. Team roles (update MCP capabilities)\n4. All templates (reset to defaults)\n5. Cancel\n```\n\n### 2. Detection Phase\n\nAnalyze the project to auto-detect configuration:\n\n**From package.json:**\n- Framework (React, Vue, Angular, Next.js)\n- Design system (@fluentui/react-components, @mui/material, @chakra-ui/react)\n- TypeScript usage\n- Key dependencies\n\n**From README.md:**\n- Project description and goals\n- Target users mentioned\n- Key features\n\n**From .mcp.json:**\n- Figma MCP server configured\n- Fluent Pilot MCP configured\n- Other relevant MCPs\n\n**From existing code:**\n- Design system component usage patterns\n- Styling approach (CSS-in-JS, Tailwind, CSS Modules)\n\n### 3. Confirmation Flow\n\nPresent each detection individually for confirmation:\n\n```\n## Project Configuration\n\nDetected: Fluent UI v9 - use this as design system? (Y/n)\nDetected: React 18 + TypeScript - configure for this? (Y/n)\nDetected: Enterprise dashboard - confirm project type? (Y/n)\nDetected: Figma MCP available - enable integration? (Y/n)\n```\n\n**When detection fails, prompt with options:**\n\n```\nCould not detect design system. Which are you using?\n1. Fluent UI\n2. Material UI\n3. Chakra UI\n4. Tailwind CSS\n5. Other (specify)\n```\n\n```\nCould not determine project type. What best describes your project?\n1. Enterprise dashboard\n2. Consumer application\n3. Internal tool\n4. Marketing site\n5. Other (specify)\n```\n\n### 4. Create Directories\n\n```bash\nmkdir -p design-intent/memory\nmkdir -p design-intent/specs/000-template\nmkdir -p design-intent/patterns\nmkdir -p design-intent/diary\n```\n\n### 5. Auto-fill Templates\n\nBased on confirmed settings, customize each template:\n\n**project-vision.md:**\n- Author: from `git config user.name`\n- Date: current date\n- Overview: extracted from README.md\n- Target Users: based on project type\n\n**constitution.md:**\n- Adjust Article I (Simplicity) priorities based on project type\n- Add framework-specific guidance to Article II\n- Customize Article VI (UI Quality) for design system\n- Add detected MCP capabilities to workflow guidance\n\n**team-roles.md:**\n- Configure AI capabilities based on available MCPs\n- Set expectations for design system expertise\n- Adjust collaboration patterns for project complexity\n\n### 6. Post-Setup Summary\n\n```markdown\n## Design Intent Setup Complete\n\n### Detected Configuration\n- Design System: Fluent UI v9\n- Framework: React 18 + TypeScript\n- Project Type: Enterprise dashboard\n- MCP Servers: Figma, Fluent Pilot\n\n### Files Created\n design-intent/memory/constitution.md (customized for React + Fluent UI)\n design-intent/memory/team-roles.md (MCP-aware)\n design-intent/memory/project-vision.md (pre-filled from README)\n design-intent/specs/000-template/ (spec templates)\n design-intent/patterns/design-intent-template.md\n design-intent/diary/session-template.md\n\n### Next Steps\n1. Review: design-intent/memory/constitution.md\n2. Refine: design-intent/memory/project-vision.md (add specifics)\n3. Start: /feature [your first feature]\n```\n\n## Template Locations in Plugin\n\nThe templates are sourced from the plugin's `templates/` directory. Do not modify these - they serve as the canonical source. Customize the copies in your project.\n\n## When to Use\n\n- **New projects** - Starting a new React prototype project\n- **Existing projects** - Adding design intent workflow to an existing codebase\n- **Configuration changes** - Re-run to update templates when adding new MCPs or changing design systems\n- **Team onboarding** - Update team-roles.md when collaboration patterns change\n\n## Incremental Update Behavior\n\nWhen run on an existing project, `/setup` intelligently handles updates:\n\n- **Preserves customizations** - Won't overwrite user content in project-vision.md\n- **Merges new guidance** - Adds framework-specific sections to constitution.md\n- **Updates capabilities** - Refreshes team-roles.md with newly detected MCPs\n- **Offers granular control** - Choose which templates to update\n\n## Detection Fallbacks\n\nWhen auto-detection cannot determine a setting:\n\n| Setting | Fallback Behavior |\n|---------|-------------------|\n| Design System | Prompt with common options (Fluent, Material, Chakra, Tailwind) |\n| Framework | Prompt with common options (React, Vue, Angular, Next.js) |\n| Project Type | Prompt with common options (Enterprise, Consumer, Internal, Marketing) |\n| MCP Servers | Skip MCP-specific customizations |\n\n## Template Customization Reference\n\n### Constitution Adjustments by Project Type\n\n**Enterprise Dashboard:**\n- Emphasize data density and information hierarchy\n- Prioritize keyboard navigation and accessibility\n- Focus on consistent patterns over visual novelty\n\n**Consumer Application:**\n- Emphasize visual appeal and breathing room\n- Prioritize microinteractions and delight\n- Focus on progressive disclosure and simplicity\n\n### Framework-Specific Guidance\n\n**React + TypeScript:**\n- Component composition patterns\n- Hook usage guidelines\n- Type safety expectations\n\n**Next.js:**\n- Server/client component decisions\n- Route organization patterns\n- Data fetching strategies"
              }
            ],
            "skills": [
              {
                "name": "design-intent-specialist",
                "description": "Creates accurate frontend implementations from visual references while maintaining design consistency. Use when user provides Figma URLs, screenshots, design images, or requests UI implementation from visual references. Automatically checks existing design intent patterns before implementation.",
                "path": "plugins/design-intent/skills/design-intent-specialist/SKILL.md",
                "frontmatter": {
                  "name": "design-intent-specialist",
                  "description": "Creates accurate frontend implementations from visual references while maintaining design consistency. Use when user provides Figma URLs, screenshots, design images, or requests UI implementation from visual references. Automatically checks existing design intent patterns before implementation."
                },
                "content": "# Design Intent Specialist\n\nCreate accurate frontend implementations from visual references while maintaining design consistency.\n\n**Core Philosophy**: Visual fidelity first, with intelligent conflict resolution when references clash with existing patterns.\n\n## Quick Start\n\n### 1. Check Existing Patterns (Mandatory)\n\nBefore any implementation:\n\n1. Read `/design-intent/patterns/` directory\n2. Report: \"Existing patterns to consider: [list with values]\"\n3. Understand established design decisions\n\n### 2. Analyze Visual Reference\n\n- Extract visual elements for implementation\n- Identify potential conflicts with existing patterns\n- Plan implementation approach\n\n### 3. Implement with Conflict Resolution\n\nWhen visual references conflict with existing design intent:\n\n1. **Implement the reference faithfully** - This is what the user requested\n2. **Flag conflicts clearly** - \"This design uses 8px spacing, but our intent specifies 12px\"\n3. **Ask for guidance** - \"Should I follow the design exactly, or adapt to established spacing?\"\n4. **Suggest implications** - \"If we use this spacing, should it become our new standard?\"\n\n### 4. Section-by-Section Implementation\n\nFor complex designs, break down into:\n\n- **Header**: Navigation, branding, user controls\n- **Navigation**: Menu items, hierarchies, states\n- **Main Content**: Primary content, data display, forms\n- **Footer**: Secondary links, metadata, actions\n\nEach section analyzed for: layout, spacing, typography, responsiveness, visual treatment.\n\n## Implementation Priority\n\n1. **Visual fidelity** - Match the reference closely\n2. **Existing components** - Use established components where they fit\n3. **Framework components** - Leverage Fluent UI when appropriate\n4. **Custom components** - Create only when necessary for design accuracy\n\n## Custom Components\n\nWhen creating custom components, use clear naming (`CustomCard` vs `Card`) and document with header comments. See [WORKFLOW.md - Custom Component Documentation](WORKFLOW.md#custom-component-documentation) for the documentation template.\n\n## Behavioral Rules\n\n1. **ALWAYS check existing design intent first** - non-negotiable\n2. **Visual fidelity over strict consistency** - implement what's requested, flag conflicts\n3. **Ask for guidance on conflicts** - don't assume precedence\n4. **Track custom components** - for maintainability\n\n## MCP Integration\n\nOptional: `figma-dev-mode-mcp-server` (Figma extraction) and `fluent-pilot` (Fluent UI guidance). Works without MCPs using screenshots.\n\n## Reference Documentation\n\n- **Detailed workflow**: See [WORKFLOW.md](WORKFLOW.md)\n- **Usage examples**: See [EXAMPLES.md](EXAMPLES.md)\n- **Common issues**: See [TROUBLESHOOTING.md](TROUBLESHOOTING.md)\n\n## Invocation\n\nTriggered by:\n\n- `/implement` command for UI components\n- **Phase 5 of `/design-intent` workflow** (automatic invocation)\n- User providing Figma URLs or screenshots\n- Requests to implement UI from visual references\n\n## Workflow Integration\n\nWhen invoked from `/design-intent` Phase 5, architecture decisions and exploration are complete. Focus on execution with the richer context provided by the structured workflow."
              }
            ]
          },
          {
            "name": "lang",
            "description": "Language-specific programming skills (Bash, Python, Rust, TypeScript)",
            "source": "./plugins/lang",
            "category": null,
            "version": null,
            "author": null,
            "install_commands": [
              "/plugin marketplace add joaquimscosta/arkhe-claude-plugins",
              "/plugin install lang@arkhe-claude-plugins"
            ],
            "signals": {
              "stars": 3,
              "forks": 0,
              "pushed_at": "2026-01-12T16:47:59Z",
              "created_at": "2025-10-24T15:27:58Z",
              "license": "MIT"
            },
            "commands": [],
            "skills": [
              {
                "name": "scripting-bash",
                "description": "Master defensive Bash scripting for production automation, CI/CD pipelines, and system utilities. Expert in safe, portable, and testable shell scripts with POSIX compliance, modern Bash 5.x features, and comprehensive error handling. Use when writing shell scripts, bash automation, CI/CD scripts, system utilities, or mentions \"bash\", \"shell script\", \"automation\", \"defensive programming\", or needs production-grade shell code.",
                "path": "plugins/lang/skills/bash/SKILL.md",
                "frontmatter": {
                  "name": "scripting-bash",
                  "description": "Master defensive Bash scripting for production automation, CI/CD pipelines, and system utilities. Expert in safe, portable, and testable shell scripts with POSIX compliance, modern Bash 5.x features, and comprehensive error handling. Use when writing shell scripts, bash automation, CI/CD scripts, system utilities, or mentions \"bash\", \"shell script\", \"automation\", \"defensive programming\", or needs production-grade shell code."
                },
                "content": "# Bash Scripting Mastery\n\nYou are an expert in defensive Bash scripting for production environments. Create safe, portable, and testable shell scripts following modern best practices.\n\n## 10 Focus Areas\n\n1. **Defensive Programming** - Strict error handling with proper exit codes and traps\n2. **POSIX Compliance** - Cross-platform portability (Linux, macOS, BSD variants)\n3. **Safe Argument Parsing** - Robust input validation and `getopts` usage\n4. **Robust File Operations** - Temporary resource management with cleanup traps\n5. **Process Orchestration** - Pipeline safety and subprocess management\n6. **Production Logging** - Structured logging with timestamps and verbosity levels\n7. **Comprehensive Testing** - bats-core/shellspec with TAP output\n8. **Static Analysis** - ShellCheck compliance and shfmt formatting\n9. **Modern Bash 5.x** - Latest features with version detection and fallbacks\n10. **CI/CD Integration** - Automation workflows and security scanning\n\n> **Progressive Disclosure**: For deep dives, see [references/](.) directory.\n\n## Essential Defensive Patterns\n\n### 1. Strict Mode Template\n\n```bash\n#!/usr/bin/env bash\nset -Eeuo pipefail  # Exit on error, undefined vars, pipe failures\nshopt -s inherit_errexit  # Bash 4.4+ better error propagation\nIFS=$'\\n\\t'  # Prevent unwanted word splitting on spaces\n\n# Error trap with context\ntrap 'echo \"Error at line $LINENO: exit $?\" >&2' ERR\n\n# Cleanup trap for temporary resources\ncleanup() {\n  [[ -n \"${tmpdir:-}\" ]] && rm -rf \"$tmpdir\"\n}\ntrap cleanup EXIT\n```\n\n### 2. Safe Variable Handling\n\n```bash\n# Quote all variable expansions\ncp \"$source_file\" \"$dest_dir\"\n\n# Required variables with error messages\n: \"${REQUIRED_VAR:?not set or empty}\"\n\n# Safe iteration over files (NEVER use for f in $(ls))\nfind . -name \"*.txt\" -print0 | while IFS= read -r -d '' file; do\n  echo \"Processing: $file\"\ndone\n\n# Binary-safe array population\nreadarray -d '' files < <(find . -print0)\n```\n\n### 3. Robust Argument Parsing\n\n```bash\nusage() {\n  cat <<EOF\nUsage: ${0##*/} [OPTIONS] <required-arg>\n\nOPTIONS:\n  -h, --help     Show this help message\n  -v, --verbose  Enable verbose output\n  -n, --dry-run  Dry run mode\nEOF\n}\n\n# Parse arguments\nwhile getopts \"hvn-:\" opt; do\n  case \"$opt\" in\n    h) usage; exit 0 ;;\n    v) VERBOSE=1 ;;\n    n) DRY_RUN=1 ;;\n    -) # Long options\n      case \"$OPTARG\" in\n        help) usage; exit 0 ;;\n        verbose) VERBOSE=1 ;;\n        dry-run) DRY_RUN=1 ;;\n        *) echo \"Unknown option: --$OPTARG\" >&2; exit 1 ;;\n      esac\n      ;;\n    *) usage >&2; exit 1 ;;\n  esac\ndone\nshift $((OPTIND - 1))\n```\n\n### 4. Safe Temporary Resources\n\n```bash\n# Create temp directory with cleanup\ntmpdir=$(mktemp -d)\ntrap 'rm -rf \"$tmpdir\"' EXIT\n\n# Safe temp file creation\ntmpfile=$(mktemp)\ntrap 'rm -f \"$tmpfile\"' EXIT\n```\n\n### 5. Structured Logging\n\n```bash\nreadonly SCRIPT_NAME=\"${0##*/}\"\nreadonly LOG_LEVELS=(DEBUG INFO WARN ERROR)\n\nlog() {\n  local level=\"$1\"; shift\n  local timestamp=$(date '+%Y-%m-%d %H:%M:%S')\n  echo \"[$timestamp] [$level] $SCRIPT_NAME: $*\" >&2\n}\n\nlog_info() { log INFO \"$@\"; }\nlog_error() { log ERROR \"$@\"; }\nlog_debug() { [[ ${VERBOSE:-0} -eq 1 ]] && log DEBUG \"$@\" || true; }\n```\n\n### 6. Version Detection & Modern Features\n\n```bash\n# Check Bash version before using modern features\nif (( BASH_VERSINFO[0] >= 5 )); then\n  # Bash 5.x features available\n  declare -A config=([host]=\"localhost\" [port]=\"8080\")\n  echo \"${config[@]@K}\"  # Assignment format (Bash 5.x)\nelse\n  echo \"Warning: Bash 5.x features not available\" >&2\nfi\n\n# Check for required commands\nfor cmd in jq curl; do\n  command -v \"$cmd\" &>/dev/null || {\n    echo \"Error: Required command '$cmd' not found\" >&2\n    exit 1\n  }\ndone\n```\n\n### 7. Safe Command Execution\n\n```bash\n# Separate options from arguments with --\nrm -rf -- \"$user_input\"\n\n# Timeout for external commands\ntimeout 30s curl -fsSL \"$url\" || {\n  echo \"Error: curl timed out\" >&2\n  exit 1\n}\n\n# Capture both stdout and stderr\noutput=$(command 2>&1) || {\n  echo \"Error: command failed with output: $output\" >&2\n  exit 1\n}\n```\n\n### 8. Platform Portability\n\n```bash\n# Detect platform\ncase \"$(uname -s)\" in\n  Linux*)   PLATFORM=\"linux\" ;;\n  Darwin*)  PLATFORM=\"macos\" ;;\n  *)        PLATFORM=\"unknown\" ;;\nesac\n\n# Handle GNU vs BSD tool differences\nif [[ $PLATFORM == \"macos\" ]]; then\n  sed -i '' 's/old/new/' file  # BSD sed\nelse\n  sed -i 's/old/new/' file     # GNU sed\nfi\n```\n\n### 9. Script Directory Detection\n\n```bash\n# Robust script directory detection (handles symlinks)\nSCRIPT_DIR=\"$(cd -- \"$(dirname -- \"${BASH_SOURCE[0]}\")\" && pwd -P)\"\nreadonly SCRIPT_DIR\n```\n\n### 10. Best Practices Quick Reference\n\n- **Quote everything**: `\"$var\"` not `$var`\n- **Use `[[ ]]`**: Bash conditionals, fall back to `[ ]` for POSIX\n- **Prefer arrays**: Over unsafe patterns like `for f in $(ls)`\n- **Use `printf`**: Not `echo` for predictable output\n- **Command substitution**: `$()` not backticks\n- **Arithmetic**: `$(( ))` not `expr`\n- **Built-ins**: Use Bash built-ins over external commands\n- **End options**: Use `--` before arguments\n- **Validate input**: Check existence, permissions, format\n- **Cleanup traps**: Always cleanup temporary resources\n\n## Output Deliverables\n\nWhen creating Bash scripts, provide:\n\n1. **Production-ready script** with:\n   - Strict mode enabled (`set -Eeuo pipefail`)\n   - Comprehensive error handling and cleanup traps\n   - Clear usage message (`--help`)\n   - Proper argument parsing with `getopts`\n   - Structured logging with log levels\n\n2. **Test suite** (bats-core or shellspec):\n   - Edge cases and error conditions\n   - Mock external dependencies\n   - TAP output format\n\n3. **CI/CD configuration**:\n   - ShellCheck static analysis\n   - shfmt formatting validation\n   - Automated testing with Bats\n\n4. **Documentation**:\n   - Usage examples in `--help`\n   - Required dependencies and versions\n   - Exit codes and error messages\n\n5. **Static analysis config**:\n   - `.shellcheckrc` with appropriate suppressions\n   - `.editorconfig` for consistent formatting\n\n## Tools & Commands\n\n### Essential Tools\n- **ShellCheck**: `shellcheck --enable=all script.sh`\n- **shfmt**: `shfmt -i 2 -ci -bn -sr -kp script.sh`\n- **bats-core**: `bats test/script.bats`\n\n### Quick Validation\n```bash\n# Run full validation\nshellcheck *.sh && shfmt -d *.sh && bats test/\n```\n\n## Reference Documentation\n\nFor detailed guidance on specific topics:\n\n- **[Modern Bash 5.x Features](references/MODERN_BASH.md)** - Version-specific features, transformations, and compatibility\n- **[Testing Frameworks](references/TESTING.md)** - bats-core, shellspec, test patterns, mocking\n- **[CI/CD Integration](references/CICD.md)** - GitHub Actions, pre-commit hooks, matrix testing\n- **[Security & Hardening](references/SECURITY.md)** - SAST, secrets detection, input sanitization, audit logging\n\n## Common Pitfalls to Avoid\n\nSee [TROUBLESHOOTING.md](TROUBLESHOOTING.md) for detailed solutions.\n\nQuick list:\n-  `for f in $(ls ...)`   `find -print0 | while IFS= read -r -d '' f`\n-  Unquoted variables   Always quote: `\"$var\"`\n-  Missing cleanup traps   `trap cleanup EXIT`\n-  Using `echo` for data   Use `printf` instead\n-  Ignoring exit codes   Check all critical operations\n-  Unsafe array population   Use `readarray`/`mapfile`\n\n## Examples\n\nSee [EXAMPLES.md](EXAMPLES.md) for complete script templates and usage patterns."
              }
            ]
          },
          {
            "name": "spring-boot",
            "description": "Domain-Driven Design with Spring Boot 4 (DDD patterns, Spring Data, REST APIs, Spring Modulith)",
            "source": "./plugins/spring-boot",
            "category": null,
            "version": null,
            "author": null,
            "install_commands": [
              "/plugin marketplace add joaquimscosta/arkhe-claude-plugins",
              "/plugin install spring-boot@arkhe-claude-plugins"
            ],
            "signals": {
              "stars": 3,
              "forks": 0,
              "pushed_at": "2026-01-12T16:47:59Z",
              "created_at": "2025-10-24T15:27:58Z",
              "license": "MIT"
            },
            "commands": [
              {
                "name": "/spring-review",
                "description": null,
                "path": "plugins/spring-boot/commands/spring-review.md",
                "frontmatter": null,
                "content": "---\ndescription: Comprehensive Spring Boot implementation review with smart skill detection and parallel execution\nargument-hint: <scope: \"all\", module name, or natural language description>\n---\n\n# Spring Boot Review\n\nReview a Spring Boot codebase using smart skill detection and parallel execution.\n\n## Scope\n\n$ARGUMENTS\n\n## Instructions\n\nUse the Task tool to invoke the `spring-boot-reviewer` agent with the scope above.\n\nThe agent orchestrates a 3-phase review:\n\n**Phase 1: Discovery** (haiku)\n- Parse the scope and detect Spring Boot version\n- Identify which skills are relevant based on files in scope\n- Skip skills with no matching files\n\n**Phase 2: Parallel Review** (sonnet agents)\n- Launch skill-specific reviewer agents IN PARALLEL\n- Each reviewer reads skill docs and checks assigned files\n- Only reports issues with confidence 80\n\n**Phase 3: Report & Fix**\n- Consolidate findings from all reviewers\n- Present unified report grouped by skill area\n- Offer interactive fix options\n\n## Example Scopes\n\n- `all`  Review entire project\n- `the order module`  Review order-related code\n- `security configuration`  Review security setup\n- `controllers`  Review all controllers\n- `com.example.order`  Review specific package\n- `src/main/java/.../OrderController.java`  Review specific file\n"
              },
              {
                "name": "/verify-upgrade",
                "description": "Verify Spring Boot project upgrade readiness with parallel multi-skill analysis",
                "path": "plugins/spring-boot/commands/verify-upgrade.md",
                "frontmatter": {
                  "description": "Verify Spring Boot project upgrade readiness with parallel multi-skill analysis",
                  "argument-hint": [
                    "project path or scope"
                  ]
                },
                "content": "# Spring Boot Upgrade Verification\n\nVerify a Spring Boot project's readiness for upgrading to Spring Boot 4 using parallel multi-skill analysis.\n\n## Scope\n\n$ARGUMENTS\n\n## Instructions\n\nUse the Task tool to invoke the `spring-boot-upgrade-verifier` agent with the scope above.\n\nThe agent orchestrates a 3-phase verification:\n\n**Phase 1: Discovery** (haiku)\n- Detect build system (Maven/Gradle) and current Spring Boot version\n- Identify Java version\n- Determine which verification areas have files to check\n- Skip verifiers with no matching files\n\n**Phase 2: Parallel Verification** (sonnet agents)\n- Launch skill-specific verifier agents IN PARALLEL\n- Each verifier reads skill docs and checks assigned files\n- Categorize findings by severity (Critical/Error/Warning)\n\n**Phase 3: Migration Report**\n- Consolidate findings from all verifiers\n- Generate unified migration checklist\n- Provide actionable remediation steps\n\n## What Gets Verified\n\n| Area | Checks |\n|------|--------|\n| **Dependencies** | Jackson 3 migration, Undertow removal, javaxjakarta |\n| **Security** | Lambda DSL, requestMatchers, authorizeHttpRequests |\n| **Testing** | @MockitoBean, Testcontainers 2.x, slice tests |\n| **Observability** | Actuator limits, trace sampling, OpenTelemetry |\n\n## Severity Levels\n\n| Severity | Meaning |\n|----------|---------|\n| Critical | Blocks upgrade, must fix before proceeding |\n| Error | Will break functionality after upgrade |\n| Warning | Recommended for best practices |\n\n## Example Usage\n\n```bash\n# Verify entire project\n/verify-upgrade\n\n# Verify specific module\n/verify-upgrade the order module\n\n# Verify from specific path\n/verify-upgrade src/main/java/com/example/\n```"
              }
            ],
            "skills": [
              {
                "name": "domain-driven-design",
                "description": "Expert guidance for Domain-Driven Design architecture and implementation. Use when designing complex business systems, defining bounded contexts, structuring domain models, choosing between modular monolith vs microservices, implementing aggregates/entities/value objects, or when users mention \"DDD\", \"domain-driven design\", \"bounded context\", \"aggregate\", \"domain model\", \"ubiquitous language\", \"event storming\", \"context mapping\", \"domain events\", \"anemic domain model\", strategic design, tactical patterns, or domain modeling. Helps make architectural decisions, identify subdomains, design aggregates, and avoid common DDD pitfalls.",
                "path": "plugins/spring-boot/skills/domain-driven-design/SKILL.md",
                "frontmatter": {
                  "name": "domain-driven-design",
                  "description": "Expert guidance for Domain-Driven Design architecture and implementation. Use when designing complex business systems, defining bounded contexts, structuring domain models, choosing between modular monolith vs microservices, implementing aggregates/entities/value objects, or when users mention \"DDD\", \"domain-driven design\", \"bounded context\", \"aggregate\", \"domain model\", \"ubiquitous language\", \"event storming\", \"context mapping\", \"domain events\", \"anemic domain model\", strategic design, tactical patterns, or domain modeling. Helps make architectural decisions, identify subdomains, design aggregates, and avoid common DDD pitfalls."
                },
                "content": "# Domain-Driven Design Skill\n\nDDD manages complexity through alignment between software and business reality. **Strategic design (boundaries, language, subdomains) provides more value than tactical patterns (aggregates, repositories).**\n\n## When to Apply DDD\n\n**Apply DDD when:**\n- Domain has intricate business rules\n- System is long-lived and high-value\n- Domain experts are available\n- Multiple teams/departments involved\n- Software represents competitive advantage\n\n**DDD is overkill when:**\n- Simple CRUD applications\n- Tight deadlines, limited budgets\n- No domain experts available\n- Complexity is purely technical, not business\n\n## Core Workflow\n\n1. **Domain Discovery**  Identify subdomains and their strategic importance\n2. **Bounded Context Definition**  Draw boundaries where language changes\n3. **Context Mapping**  Define integration patterns between contexts\n4. **Architecture Selection**  Choose modular monolith vs microservices\n5. **Tactical Implementation**  Apply patterns within core domains only\n\n## Quick Reference\n\n### Subdomain Types (Problem Space)\n\n| Type | Investment | Example |\n|------|-----------|---------|\n| **Core** | Maximum - competitive advantage | Recommendation engine, trading logic |\n| **Supporting** | Custom but quality tradeoffs OK | Inventory management |\n| **Generic** | Buy/outsource | Auth, email, payments |\n\n### Key Decision: Entity vs Value Object\n\n- **Entity**: Has identity, tracked through time, mutable  `Customer`, `Order`\n- **Value Object**: Defined by attributes, immutable, interchangeable  `Money`, `Address`, `Email`\n\n**Default to value objects.** Only use entities when identity matters.\n\n### Aggregate Design Rules (Vaughn Vernon)\n\n1. Model true invariants in consistency boundaries\n2. Design small aggregates (~70% should be root + value objects only)\n3. Reference other aggregates by ID only\n4. Use eventual consistency outside the boundary\n\n### Architecture Decision\n\n```\nStart with modular monolith when:\n Team < 20 developers\n Domain boundaries unclear\n Time-to-market critical\n Strong consistency required\n\nConsider microservices when:\n Bounded contexts have distinct languages\n Teams can own full contexts\n Independent scaling required\n DevOps maturity exists\n```\n\n## Detailed References\n\n- **Strategic Patterns**: See [references/strategic-patterns.md](references/strategic-patterns.md) for subdomains, bounded contexts, context mapping, event storming\n- **Tactical Patterns**: See [references/tactical-patterns.md](references/tactical-patterns.md) for entities, value objects, aggregates, services, repositories\n- **Architecture Alignment**: See [references/architecture-alignment.md](references/architecture-alignment.md) for clean/hexagonal architecture, modular monolith, microservices\n- **Anti-Patterns**: See [references/anti-patterns.md](references/anti-patterns.md) for common pitfalls and how to avoid them\n\n## Critical Reminders\n\n1. **Ubiquitous language first** - Code should read like business language\n2. **Strategic before tactical** - Understand boundaries before implementing patterns\n3. **Apply tactical patterns selectively** - Only in core domains where complexity warrants\n4. **One aggregate per transaction** - Cross-aggregate consistency via domain events\n5. **Persistence ignorance** - Domain layer has no infrastructure dependencies\n\n## Implementation Skills\n\nFor framework-specific implementation of these patterns:\n\n- **Spring Boot data layer**: See `spring-boot-data-ddd` skill for JPA/JDBC aggregates, repositories, transactions\n- **Spring Boot web layer**: See `spring-boot-web-api` skill for controllers, validation, exception handling  \n- **Spring Modulith**: See `spring-boot-modulith` skill for module structure and event-driven communication\n\nThese skills provide Spring Boot 4 implementation patterns for the DDD concepts defined here."
              },
              {
                "name": "spring-boot-data-ddd",
                "description": "Spring Boot 4 data layer implementation for Domain-Driven Design. Use when implementing JPA or JDBC aggregates, Spring Data repositories, transactional services, projections, or entity auditing. Covers aggregate roots with AbstractAggregateRoot, value object mapping, EntityGraph for N+1 prevention, and Spring Boot 4 specifics (JSpecify null-safety, AOT repositories). For DDD concepts and design decisions, see the domain-driven-design skill.",
                "path": "plugins/spring-boot/skills/spring-boot-data-ddd/SKILL.md",
                "frontmatter": {
                  "name": "spring-boot-data-ddd",
                  "description": "Spring Boot 4 data layer implementation for Domain-Driven Design. Use when implementing JPA or JDBC aggregates, Spring Data repositories, transactional services, projections, or entity auditing. Covers aggregate roots with AbstractAggregateRoot, value object mapping, EntityGraph for N+1 prevention, and Spring Boot 4 specifics (JSpecify null-safety, AOT repositories). For DDD concepts and design decisions, see the domain-driven-design skill."
                },
                "content": "# Spring Boot Data Layer for DDD\n\nImplements DDD tactical patterns with Spring Data JPA and Spring Data JDBC in Spring Boot 4.\n\n## Technology Selection\n\n| Choose | When |\n|--------|------|\n| **Spring Data JPA** | Complex queries, existing Hibernate expertise, need lazy loading |\n| **Spring Data JDBC** | DDD-first design, simpler mapping, aggregate-per-table, no lazy loading |\n\nSpring Data JDBC enforces aggregate boundaries naturallyrecommended for new DDD projects.\n\n## Core Workflow\n\n1. **Define aggregate root**  Extend `AbstractAggregateRoot<T>` for domain events\n2. **Map value objects**  Use `@Embedded` or `@Converter` for immutability\n3. **Create repository interface**  One per aggregate root, extend appropriate base\n4. **Implement service layer**  `@Transactional` on public methods, one aggregate per transaction\n5. **Add projections**  Interface or record-based for read operations\n\n## Quick Patterns\n\nSee [EXAMPLES.md](EXAMPLES.md) for complete working examples including:\n- **Aggregate Root** with AbstractAggregateRoot and domain events (Java + Kotlin)\n- **Repository with EntityGraph** for N+1 prevention\n- **Transactional Service** with proper boundaries\n- **Value Objects** (Strongly-typed IDs, Money pattern)\n- **Projections** for efficient read operations\n- **Auditing** with automatic timestamps\n\n## Spring Boot 4 Specifics\n\n- **JSpecify null-safety**: `@NullMarked` and `@Nullable` annotations\n- **AOT Repository Compilation**: Enabled by default for faster startup\n- **Jakarta EE 11**: All imports use `jakarta.*` namespace\n\n## Detailed References\n\n- **Examples**: See [EXAMPLES.md](EXAMPLES.md) for complete working code examples\n- **Troubleshooting**: See [TROUBLESHOOTING.md](TROUBLESHOOTING.md) for common issues and Boot 4 migration\n- **Aggregates & Entities**: See [references/aggregates.md](references/aggregates.md) for complete patterns with value objects, typed IDs, auditing\n- **Repositories & Queries**: See [references/repositories.md](references/repositories.md) for custom queries, projections, specifications\n- **Transactions**: See [references/transactions.md](references/transactions.md) for propagation, isolation, cross-aggregate consistency\n\n## Anti-Pattern Checklist\n\n| Anti-Pattern | Fix |\n|--------------|-----|\n| `FetchType.EAGER` on associations | Use `LAZY` + `@EntityGraph` when needed |\n| Returning entities from controllers | Convert to DTOs in service layer |\n| `@Transactional` on private methods | Use public methods (proxy limitation) |\n| Missing `readOnly = true` on queries | Add for read operations (performance) |\n| Direct aggregate-to-aggregate references | Reference by ID only |\n| Multiple aggregates in one transaction | Use domain events for eventual consistency |\n\n## Critical Reminders\n\n1. **One aggregate per transaction**  Cross-aggregate changes via domain events\n2. **Repository per aggregate root**  Never for child entities\n3. **Value objects are immutable**  No setters, return new instances\n4. **Flush before events**  Call `repository.save()` before events dispatch\n5. **Test with `@DataJpaTest`**  Use `TestEntityManager` for setup"
              },
              {
                "name": "spring-boot-modulith",
                "description": "Spring Modulith 2.0 implementation for bounded contexts in Spring Boot 4. Use when structuring application modules, implementing @ApplicationModuleListener for event-driven communication, testing with Scenario API, enforcing module boundaries, or externalizing events to Kafka/AMQP. For modular monolith architecture decisions, see the domain-driven-design skill.",
                "path": "plugins/spring-boot/skills/spring-boot-modulith/SKILL.md",
                "frontmatter": {
                  "name": "spring-boot-modulith",
                  "description": "Spring Modulith 2.0 implementation for bounded contexts in Spring Boot 4. Use when structuring application modules, implementing @ApplicationModuleListener for event-driven communication, testing with Scenario API, enforcing module boundaries, or externalizing events to Kafka/AMQP. For modular monolith architecture decisions, see the domain-driven-design skill."
                },
                "content": "# Spring Modulith for Bounded Contexts\n\nImplements DDD bounded contexts as application modules with enforced boundaries and event-driven communication.\n\n## Core Concepts\n\n| Concept | Description |\n|---------|-------------|\n| **Application Module** | Package-based boundary = bounded context |\n| **Module API** | Types in base package (public) |\n| **Internal** | Types in sub-packages (encapsulated) |\n| **Events** | Cross-module communication mechanism |\n\n## Module Structure\n\n```\nsrc/main/java/\n com.example/\n    Application.java               @SpringBootApplication\n com.example.order/                 Module: order\n    OrderService.java              Public API\n    OrderCreated.java              Public event\n    package-info.java              @ApplicationModule config\n    internal/                      Encapsulated\n        OrderRepository.java\n        OrderEntity.java\n com.example.inventory/             Module: inventory\n    InventoryService.java\n    internal/\n com.example.shipping/              Module: shipping\n```\n\nTypes in `com.example.order` = public API\nTypes in `com.example.order.internal` = hidden from other modules\n\n## Quick Patterns\n\nSee [EXAMPLES.md](EXAMPLES.md) for complete working examples including:\n- **Module Configuration** with @ApplicationModule\n- **Event Publishing** with domain event records\n- **Event Handling** with @ApplicationModuleListener (Java + Kotlin)\n- **Module Verification Test** with PlantUML generation\n- **Event Externalization** for Kafka/AMQP\n\n## Spring Boot 4 / Modulith 2.0 Specifics\n\n- **@ApplicationModuleListener** combines `@Async` + `@Transactional(REQUIRES_NEW)` + `@TransactionalEventListener(AFTER_COMMIT)`\n- **Event Externalization** with `@Externalized` annotation for Kafka/AMQP\n- **JDBC event log** ensures at-least-once delivery\n\n## Detailed References\n\n- **Examples**: See [EXAMPLES.md](EXAMPLES.md) for complete working code examples\n- **Troubleshooting**: See [TROUBLESHOOTING.md](TROUBLESHOOTING.md) for common issues and Boot 4 migration\n- **Module Structure**: See [references/module-structure.md](references/module-structure.md) for package conventions, named interfaces, dependency rules\n- **Event Patterns**: See [references/events.md](references/events.md) for publishing, handling, externalization, testing with Scenario API\n\n## Anti-Pattern Checklist\n\n| Anti-Pattern | Fix |\n|--------------|-----|\n| Direct bean injection across modules | Use events or expose API |\n| Synchronous cross-module calls | Use `@ApplicationModuleListener` |\n| Module dependencies not declared | Add `allowedDependencies` in `@ApplicationModule` |\n| Missing verification test | Add `ApplicationModules.verify()` test |\n| Internal types in public API | Move to `.internal` sub-package |\n| Events without data | Include all data handlers need |\n\n## Critical Reminders\n\n1. **One module = one bounded context**  Mirror DDD boundaries\n2. **Events are the integration mechanism**  Not direct method calls\n3. **Verify in CI**  `ApplicationModules.verify()` catches boundary violations\n4. **Reference by ID**  Never direct object references across modules\n5. **Transaction per module**  `@ApplicationModuleListener` ensures isolation"
              },
              {
                "name": "spring-boot-observability",
                "description": "Spring Boot 4 observability with Actuator, Micrometer, and OpenTelemetry. Use when configuring health indicators, custom metrics, distributed tracing, production endpoint exposure, or Kubernetes/Cloud Run probes. Covers Actuator security, Micrometer Timer/Counter/Gauge patterns, and OpenTelemetry span customization.",
                "path": "plugins/spring-boot/skills/spring-boot-observability/SKILL.md",
                "frontmatter": {
                  "name": "spring-boot-observability",
                  "description": "Spring Boot 4 observability with Actuator, Micrometer, and OpenTelemetry. Use when configuring health indicators, custom metrics, distributed tracing, production endpoint exposure, or Kubernetes/Cloud Run probes. Covers Actuator security, Micrometer Timer/Counter/Gauge patterns, and OpenTelemetry span customization."
                },
                "content": "# Spring Boot Observability\n\nProduction observability with Actuator endpoints, Micrometer metrics, and OpenTelemetry tracing.\n\n## Core Components\n\n| Component | Purpose |\n|-----------|---------|\n| **Actuator** | Health checks, info, metrics exposure, operational endpoints |\n| **Micrometer** | Metrics abstraction (Timer, Counter, Gauge, DistributionSummary) |\n| **OpenTelemetry** | Distributed tracing (default in Spring Boot 4) |\n\n## Core Workflow\n\n1. **Add starters**  `actuator`, `micrometer-registry-*`, `opentelemetry`\n2. **Configure endpoint exposure**  Secure sensitive endpoints\n3. **Define health groups**  Separate liveness from readiness\n4. **Add custom metrics**  Business-specific measurements\n5. **Configure tracing**  Sampling, propagation, export\n\n## Quick Patterns\n\nSee [EXAMPLES.md](EXAMPLES.md) for complete working examples including:\n- **Production Actuator Configuration** with health groups and Kubernetes probes\n- **Custom Health Indicator** with latency monitoring (Java + Kotlin)\n- **Custom Micrometer Metrics** with Counter, Timer, and Gauge patterns\n- **OpenTelemetry Span Customization** with Observation API\n- **OpenTelemetry Configuration** for OTLP export\n- **Actuator Endpoint Access Control** (Boot 4)\n\n## Spring Boot 4 Specifics\n\n- **OpenTelemetry** is the default tracer (replaces Brave)\n- **Health Indicator** imports from `org.springframework.boot.health.contributor.*`\n- **Endpoint Access Control** with `access: none/unrestricted/read-only`\n\n## Detailed References\n\n- **Examples**: See [EXAMPLES.md](EXAMPLES.md) for complete working code examples\n- **Troubleshooting**: See [TROUBLESHOOTING.md](TROUBLESHOOTING.md) for common issues and Boot 4 migration\n- **Actuator Endpoints**: See [references/actuator.md](references/actuator.md) for endpoint configuration, security, custom endpoints\n- **Micrometer Metrics**: See [references/metrics.md](references/metrics.md) for Timer, Counter, Gauge, DistributionSummary patterns\n- **Distributed Tracing**: See [references/tracing.md](references/tracing.md) for OpenTelemetry, span customization, context propagation\n\n## Anti-Pattern Checklist\n\n| Anti-Pattern | Fix |\n|--------------|-----|\n| DB checks in liveness probe | Move to readiness group only |\n| 100% trace sampling in production | Use 10% or less |\n| Exposing all endpoints publicly | Separate management port + auth |\n| High-cardinality metric tags | Use low-cardinality tags only |\n| Missing graceful shutdown | Add `server.shutdown=graceful` |\n| No health probe groups | Separate liveness and readiness |\n\n## Critical Reminders\n\n1. **Separate liveness from readiness**  Liveness: \"is process alive?\", Readiness: \"can handle traffic?\"\n2. **Low cardinality tags only**  User IDs, request IDs = bad; status codes, regions = good\n3. **Secure Actuator endpoints**  Use separate port or authentication\n4. **Sample traces in production**  100% sampling overwhelms collectors\n5. **Graceful shutdown**  Allow in-flight requests to complete"
              },
              {
                "name": "spring-boot-security",
                "description": "Spring Security 7 implementation for Spring Boot 4. Use when configuring authentication, authorization, OAuth2/JWT resource servers, method security, or CORS/CSRF. Covers the mandatory Lambda DSL migration, SecurityFilterChain patterns, @PreAuthorize, and password encoding. For testing secured endpoints, see spring-boot-testing skill.",
                "path": "plugins/spring-boot/skills/spring-boot-security/SKILL.md",
                "frontmatter": {
                  "name": "spring-boot-security",
                  "description": "Spring Security 7 implementation for Spring Boot 4. Use when configuring authentication, authorization, OAuth2/JWT resource servers, method security, or CORS/CSRF. Covers the mandatory Lambda DSL migration, SecurityFilterChain patterns, @PreAuthorize, and password encoding. For testing secured endpoints, see spring-boot-testing skill."
                },
                "content": "# Spring Security 7 for Spring Boot 4\n\nImplements authentication and authorization with Spring Security 7's mandatory Lambda DSL.\n\n## Critical Breaking Changes\n\n| Removed API | Replacement | Status |\n|-------------|-------------|--------|\n| `and()` method | Lambda DSL closures | **Required** |\n| `authorizeRequests()` | `authorizeHttpRequests()` | **Required** |\n| `antMatchers()` | `requestMatchers()` | **Required** |\n| `WebSecurityConfigurerAdapter` | `SecurityFilterChain` bean | **Required** |\n| `@EnableGlobalMethodSecurity` | `@EnableMethodSecurity` | **Required** |\n\n## Core Workflow\n\n1. **Create SecurityFilterChain bean**  Configure with Lambda DSL\n2. **Define authorization rules**  `authorizeHttpRequests()` with `requestMatchers()`\n3. **Configure authentication**  Form login, HTTP Basic, or OAuth2\n4. **Add method security**  `@EnableMethodSecurity` + `@PreAuthorize`\n5. **Handle CORS/CSRF**  Configure for REST APIs\n\n## Quick Patterns\n\nSee [EXAMPLES.md](EXAMPLES.md) for complete working examples including:\n- **REST API Security** with JWT/OAuth2 (Java + Kotlin)\n- **Form Login with Session Security** and CSRF\n- **Method Security** with @PreAuthorize and SpEL\n- **CORS Configuration** for cross-origin APIs\n- **Password Encoder** (Argon2 for Security 7)\n\n## Spring Boot 4 Specifics\n\n- **Lambda DSL** is mandatory (no `and()` chaining)\n- **Argon2** password encoder: `Argon2PasswordEncoder.defaultsForSpring7()`\n- **CSRF for SPAs**: `CookieCsrfTokenRepository.withHttpOnlyFalse()`\n- **@EnableMethodSecurity** replaces `@EnableGlobalMethodSecurity`\n\n## Detailed References\n\n- **Examples**: See [EXAMPLES.md](EXAMPLES.md) for complete working code examples\n- **Troubleshooting**: See [TROUBLESHOOTING.md](TROUBLESHOOTING.md) for common issues and Boot 4 migration\n- **Security Configuration**: See [references/security-config.md](references/security-config.md) for complete SecurityFilterChain patterns\n- **Authentication**: See [references/authentication.md](references/authentication.md) for UserDetailsService, password encoding\n- **JWT/OAuth2**: See [references/jwt-oauth2.md](references/jwt-oauth2.md) for resource server, token validation\n\n## Anti-Pattern Checklist\n\n| Anti-Pattern | Fix |\n|--------------|-----|\n| Using `and()` chaining | Use Lambda DSL closures |\n| `antMatchers()` | Replace with `requestMatchers()` |\n| `authorizeRequests()` | Replace with `authorizeHttpRequests()` |\n| CSRF disabled without JWT | Keep CSRF for session-based auth |\n| Hardcoded credentials | Use environment variables or Secret Manager |\n| `permitAll()` on sensitive endpoints | Audit all permit rules |\n| Missing `authenticated()` default | End with `.anyRequest().authenticated()` |\n\n## Critical Reminders\n\n1. **Lambda DSL is mandatory**  No more `and()` chaining in Security 7\n2. **Order matters**  More specific `requestMatchers` before general ones\n3. **CSRF for sessions**  Only disable for stateless JWT APIs\n4. **Method security needs enabling**  Add `@EnableMethodSecurity`\n5. **Test your security**  Use `@WithMockUser` and JWT test support (see `spring-boot-testing`)"
              },
              {
                "name": "spring-boot-testing",
                "description": "Spring Boot 4 testing strategies and patterns. Use when writing unit tests, slice tests (@WebMvcTest, @DataJpaTest), integration tests, Testcontainers with @ServiceConnection, security testing (@WithMockUser, JWT), or Modulith event testing with Scenario API. Covers the critical @MockitoBean migration from @MockBean.",
                "path": "plugins/spring-boot/skills/spring-boot-testing/SKILL.md",
                "frontmatter": {
                  "name": "spring-boot-testing",
                  "description": "Spring Boot 4 testing strategies and patterns. Use when writing unit tests, slice tests (@WebMvcTest, @DataJpaTest), integration tests, Testcontainers with @ServiceConnection, security testing (@WithMockUser, JWT), or Modulith event testing with Scenario API. Covers the critical @MockitoBean migration from @MockBean."
                },
                "content": "# Spring Boot 4 Testing\n\nComprehensive testing patterns including slice tests, Testcontainers, security testing, and Modulith Scenario API.\n\n## Critical Breaking Change\n\n| Old (Boot 3.x) | New (Boot 4.x) | Notes |\n|----------------|----------------|-------|\n| `@MockBean` | `@MockitoBean` | **Required migration** |\n| `@SpyBean` | `@MockitoSpyBean` | **Required migration** |\n| Implicit `@AutoConfigureMockMvc` | Explicit annotation required | Add to `@SpringBootTest` |\n\n## Test Annotation Selection\n\n| Test Type | Annotation | Use When |\n|-----------|------------|----------|\n| Controller | `@WebMvcTest` | Testing request/response, validation |\n| Repository | `@DataJpaTest` | Testing queries, entity mapping |\n| JSON | `@JsonTest` | Testing serialization/deserialization |\n| REST Client | `@RestClientTest` | Testing external API clients |\n| Full Integration | `@SpringBootTest` | End-to-end, with real dependencies |\n| Module | `@ApplicationModuleTest` | Testing bounded context in isolation |\n\n## Core Workflow\n\n1. **Choose test slice**  Minimal context for fast tests\n2. **Mock dependencies**  `@MockitoBean` for external services\n3. **Use Testcontainers**  `@ServiceConnection` for databases\n4. **Assert thoroughly**  Use AssertJ, MockMvcTester, WebTestClient\n5. **Test security**  `@WithMockUser`, JWT mocking\n\n## Quick Patterns\n\nSee [EXAMPLES.md](EXAMPLES.md) for complete working examples including:\n- **@WebMvcTest** with `MockMvcTester` and `@MockitoBean` (Java + Kotlin)\n- **@DataJpaTest** with `TestEntityManager` for lazy loading verification\n- **Testcontainers** with `@ServiceConnection` for PostgreSQL/Redis\n- **Security Testing** with `@WithMockUser` for role-based access\n- **Modulith Event Testing** with `Scenario` API\n\n## Detailed References\n\n- **Examples**: See [EXAMPLES.md](EXAMPLES.md) for complete working code examples\n- **Troubleshooting**: See [TROUBLESHOOTING.md](TROUBLESHOOTING.md) for common issues and Boot 4 migration\n- **Slice Tests**: See [references/slice-tests.md](references/slice-tests.md) for @WebMvcTest, @DataJpaTest, @JsonTest patterns\n- **Testcontainers**: See [references/testcontainers.md](references/testcontainers.md) for @ServiceConnection, container reuse\n- **Security Testing**: See [references/security-testing.md](references/security-testing.md) for @WithMockUser, JWT mocking\n- **Modulith Testing**: See [references/modulith-testing.md](references/modulith-testing.md) for Scenario API, event verification\n\n## Anti-Pattern Checklist\n\n| Anti-Pattern | Fix |\n|--------------|-----|\n| Using `@MockBean` in Boot 4 | Replace with `@MockitoBean` |\n| `@SpringBootTest` for unit tests | Use appropriate slice annotation |\n| Missing `entityManager.clear()` | Add to verify lazy loading |\n| High-cardinality test data | Use minimal, focused fixtures |\n| Shared mutable test state | Use `@DirtiesContext` or fresh containers |\n| No security tests | Add `@WithMockUser` tests for endpoints |\n\n## Critical Reminders\n\n1. **@MockitoBean is mandatory**  `@MockBean` removed in Boot 4\n2. **Slice tests are fast**  Use them for focused testing\n3. **Clear EntityManager**  Required to test lazy loading behavior\n4. **@ServiceConnection simplifies Testcontainers**  No more `@DynamicPropertySource`\n5. **Test security explicitly**  Don't rely on disabled security"
              },
              {
                "name": "spring-boot-verify",
                "description": "Verify Spring Boot 4.x projects for correct dependencies, configuration, and migration readiness. Use when analyzing pom.xml, build.gradle, application.yml, discussing Spring Boot project setup, dependency versions, configuration validation, version compatibility, migration to Spring Boot 4, deprecated dependencies, or when user mentions \"verify project\", \"check dependencies\", \"upgrade Spring Boot\", \"migration readiness\", \"Jackson 3\", \"@MockBean deprecated\", or \"Spring Security 7\".",
                "path": "plugins/spring-boot/skills/spring-boot-verify/SKILL.md",
                "frontmatter": {
                  "name": "spring-boot-verify",
                  "description": "Verify Spring Boot 4.x projects for correct dependencies, configuration, and migration readiness. Use when analyzing pom.xml, build.gradle, application.yml, discussing Spring Boot project setup, dependency versions, configuration validation, version compatibility, migration to Spring Boot 4, deprecated dependencies, or when user mentions \"verify project\", \"check dependencies\", \"upgrade Spring Boot\", \"migration readiness\", \"Jackson 3\", \"@MockBean deprecated\", or \"Spring Security 7\"."
                },
                "content": "# Spring Boot 4.x Project Verification\n\nAnalyzes Spring Boot projects for dependency compatibility, configuration correctness, and migration readiness.\n\n## Verification Workflow\n\n1. **Detect Build System**  Find pom.xml or build.gradle, extract Spring Boot version\n2. **Analyze Dependencies**  Check versions, find deprecated libraries, validate compatibility\n3. **Validate Configuration**  Check application.yml/properties, security config, actuator settings\n4. **Generate Report**  Structured markdown with severity levels and remediation code\n5. **Lookup Docs**  Use Exa MCP to fetch latest Spring Boot 4.x documentation when needed\n\n## Dependency Quick Reference\n\n| Check | Severity | Action |\n|-------|----------|--------|\n| Spring Boot version < 4.0 | CRITICAL | Upgrade to 4.0.x |\n| Jackson 2.x (`com.fasterxml`) | CRITICAL | Migrate to Jackson 3 (`tools.jackson`) |\n| `@MockBean` in tests | ERROR | Replace with `@MockitoBean` |\n| Undertow server | ERROR | Switch to Tomcat or Jetty |\n| Java version < 17 | ERROR | Minimum Java 17 required |\n| `spring-boot-starter-web` | WARNING | Use `spring-boot-starter-webmvc` |\n\n## Configuration Quick Reference\n\n| Check | Severity | Action |\n|-------|----------|--------|\n| Security `and()` chaining | CRITICAL | Convert to Lambda DSL closures |\n| `antMatchers()` usage | ERROR | Replace with `requestMatchers()` |\n| `authorizeRequests()` | ERROR | Replace with `authorizeHttpRequests()` |\n| All actuator endpoints exposed | WARNING | Limit to health, info, metrics |\n| 100% trace sampling | WARNING | Use 10% in production |\n\n## Tools to Use\n\n1. **Glob**  Find `**/pom.xml`, `**/build.gradle*`, `**/application.{yml,properties}`\n2. **Grep**  Search for deprecated patterns (`@MockBean`, `com.fasterxml`, `.and()`)\n3. **Read**  Inspect build files and configuration\n4. **Exa MCP**  Fetch latest Spring Boot 4.x docs: `mcp__exa__web_search_exa`\n\n## Output Format\n\nGenerate verification reports with this structure:\n\n```markdown\n## Spring Boot 4.x Verification Report\n\n### Summary\n- **Project**: {name}\n- **Boot Version**: {detected version}\n- **Issues Found**: {n} Critical, {n} Errors, {n} Warnings\n\n### Critical Issues / Errors / Warnings\n[Issue details with code remediation]\n```\n\n## Detailed References\n\n- **Migration Guide**: See [MIGRATION_GUIDE.md](MIGRATION_GUIDE.md) for step-by-step migration from Boot 3.x to 4.0\n- **Examples**: See [EXAMPLES.md](EXAMPLES.md) for sample verification outputs\n- **Troubleshooting**: See [TROUBLESHOOTING.md](TROUBLESHOOTING.md) for detection issues\n- **Dependencies**: See [references/dependencies.md](references/dependencies.md) for complete version matrix\n- **Configuration**: See [references/configuration.md](references/configuration.md) for validation rules\n\n## Critical Reminders\n\n1. **Check Spring Boot version first**  Many issues are version-specific\n2. **Jackson 3 namespace change**  `com.fasterxml.jackson` to `tools.jackson`\n3. **Security 7 Lambda DSL**  `and()` method removed, closures required\n4. **Testing annotations changed**  `@MockBean` to `@MockitoBean`\n5. **Use official docs**  https://docs.spring.io/spring-boot/documentation.html\n\n## Related Skills\n\n- `spring-boot-security`  Deep security configuration verification\n- `spring-boot-testing`  Testing patterns and coverage analysis\n- `spring-boot-observability`  Actuator, metrics, and tracing setup\n- `spring-boot-modulith`  Module structure verification\n- `domain-driven-design`  DDD architecture patterns"
              },
              {
                "name": "spring-boot-web-api",
                "description": "Spring Boot 4 REST API implementation patterns. Use when creating REST controllers, request validation, exception handlers with ProblemDetail (RFC 9457), API versioning, content negotiation, or WebFlux reactive endpoints. Covers @RestController patterns, Bean Validation 3.1, global error handling, and Jackson 3 configuration.",
                "path": "plugins/spring-boot/skills/spring-boot-web-api/SKILL.md",
                "frontmatter": {
                  "name": "spring-boot-web-api",
                  "description": "Spring Boot 4 REST API implementation patterns. Use when creating REST controllers, request validation, exception handlers with ProblemDetail (RFC 9457), API versioning, content negotiation, or WebFlux reactive endpoints. Covers @RestController patterns, Bean Validation 3.1, global error handling, and Jackson 3 configuration."
                },
                "content": "# Spring Boot Web API Layer\n\nREST API implementation patterns for Spring Boot 4 with Spring MVC and WebFlux.\n\n## Technology Selection\n\n| Choose | When |\n|--------|------|\n| **Spring MVC** | JPA/JDBC backend, simpler debugging, team knows imperative style |\n| **Spring WebFlux** | High concurrency (10k+ connections), streaming, reactive DB (R2DBC) |\n\nWith Virtual Threads (Java 21+), MVC handles high concurrency without WebFlux complexity.\n\n## Core Workflow\n\n1. **Create controller**  `@RestController` with `@RequestMapping` base path\n2. **Define endpoints**  `@GetMapping`, `@PostMapping`, etc.\n3. **Add validation**  `@Valid` on request body, custom validators\n4. **Handle exceptions**  `@RestControllerAdvice` with `ProblemDetail`\n5. **Configure versioning**  Native API versioning (Spring Boot 4)\n\n## Quick Patterns\n\nSee [EXAMPLES.md](EXAMPLES.md) for complete working examples including:\n- **REST Controller** with CRUD operations and pagination (Java + Kotlin)\n- **Request/Response DTOs** with Bean Validation 3.1\n- **Global Exception Handler** using ProblemDetail (RFC 9457)\n- **Native API Versioning** with header configuration\n- **Jackson 3 Configuration** for custom serialization\n- **Controller Testing** with @WebMvcTest\n\n## Spring Boot 4 Specifics\n\n- **Jackson 3** uses `tools.jackson` package (not `com.fasterxml.jackson`)\n- **ProblemDetail** enabled by default: `spring.mvc.problemdetails.enabled=true`\n- **API Versioning** via `version` attribute in mapping annotations\n- **@MockitoBean** replaces `@MockBean` in tests\n\n## Detailed References\n\n- **Examples**: See [EXAMPLES.md](EXAMPLES.md) for complete working code examples\n- **Troubleshooting**: See [TROUBLESHOOTING.md](TROUBLESHOOTING.md) for common issues and Boot 4 migration\n- **Controllers & Validation**: See [references/controllers.md](references/controllers.md) for validation groups, custom validators, content negotiation\n- **Error Handling**: See [references/error-handling.md](references/error-handling.md) for ProblemDetail patterns, exception hierarchy\n- **WebFlux Patterns**: See [references/webflux.md](references/webflux.md) for reactive endpoints, functional routers, WebTestClient\n\n## Anti-Pattern Checklist\n\n| Anti-Pattern | Fix |\n|--------------|-----|\n| Business logic in controllers | Delegate to application services |\n| Returning entities directly | Convert to DTOs |\n| Generic error messages | Use typed ProblemDetail with error URIs |\n| Missing validation | Add `@Valid` on `@RequestBody` |\n| Blocking calls in WebFlux | Use reactive operators only |\n| Catching exceptions silently | Let propagate to `@RestControllerAdvice` |\n\n## Critical Reminders\n\n1. **Controllers are thin**  Delegate to services, no business logic\n2. **Validate at the boundary**  `@Valid` on all request bodies\n3. **Use ProblemDetail**  Structured errors for all exceptions\n4. **Version from day one**  Easier than retrofitting\n5. **`@MockitoBean` not `@MockBean`**  Spring Boot 4 change"
              }
            ]
          }
        ]
      }
    }
  ]
}