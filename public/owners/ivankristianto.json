{
  "owner": {
    "id": "ivankristianto",
    "display_name": "Ivan Kristianto",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/656006?u=409894ce97b965c4ce71257c52655a25b39018f0&v=4",
    "url": "https://github.com/ivankristianto",
    "bio": "Senior Web Engineer at Human Made and Google Developer Expert for Web Technologies",
    "stats": {
      "total_repos": 1,
      "total_plugins": 1,
      "total_commands": 0,
      "total_skills": 9,
      "total_stars": 2,
      "total_forks": 0
    }
  },
  "repos": [
    {
      "full_name": "ivankristianto/k2-dev",
      "url": "https://github.com/ivankristianto/k2-dev",
      "description": "Multiagent orchestration plugin for enterprise code development with specialized agents, beads integration, and quality gates enforcement",
      "homepage": null,
      "signals": {
        "stars": 2,
        "forks": 0,
        "pushed_at": "2026-01-12T15:45:09Z",
        "created_at": "2026-01-08T15:08:59Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/docs",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/docs/k2-dev-reference.md",
          "type": "blob",
          "size": 5970
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 408
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 455
        },
        {
          "path": ".claude",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/k2-dev.local.md.example",
          "type": "blob",
          "size": 1383
        },
        {
          "path": ".claude/settings.local.json",
          "type": "blob",
          "size": 126
        },
        {
          "path": ".gitignore",
          "type": "blob",
          "size": 242
        },
        {
          "path": "CLAUDE.md",
          "type": "blob",
          "size": 14427
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 11185
        },
        {
          "path": "agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "agents/engineer.md",
          "type": "blob",
          "size": 25998
        },
        {
          "path": "agents/planner.md",
          "type": "blob",
          "size": 3913
        },
        {
          "path": "agents/pr-writer.md",
          "type": "blob",
          "size": 578
        },
        {
          "path": "agents/reviewer.md",
          "type": "blob",
          "size": 13937
        },
        {
          "path": "agents/technical-lead.md",
          "type": "blob",
          "size": 23587
        },
        {
          "path": "agents/tester.md",
          "type": "blob",
          "size": 31411
        },
        {
          "path": "commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "commands/doctor.md",
          "type": "blob",
          "size": 3936
        },
        {
          "path": "commands/planner.md",
          "type": "blob",
          "size": 4087
        },
        {
          "path": "commands/start.md",
          "type": "blob",
          "size": 17727
        },
        {
          "path": "commands/test.md",
          "type": "blob",
          "size": 2904
        },
        {
          "path": "skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/beads-integration",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/beads-integration/SKILL.md",
          "type": "blob",
          "size": 6042
        },
        {
          "path": "skills/code-review-standards",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/code-review-standards/SKILL.md",
          "type": "blob",
          "size": 12811
        },
        {
          "path": "skills/git-worktree-workflow",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/git-worktree-workflow/SKILL.md",
          "type": "blob",
          "size": 8342
        },
        {
          "path": "skills/planner",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/planner/SKILL.md",
          "type": "blob",
          "size": 8771
        },
        {
          "path": "skills/pr-creation",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/pr-creation/SKILL.md",
          "type": "blob",
          "size": 814
        },
        {
          "path": "skills/quality-gates",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/quality-gates/SKILL.md",
          "type": "blob",
          "size": 9003
        },
        {
          "path": "skills/report",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/report/SKILL.md",
          "type": "blob",
          "size": 4894
        },
        {
          "path": "skills/test-planning",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/test-planning/SKILL.md",
          "type": "blob",
          "size": 11453
        },
        {
          "path": "skills/tester",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/tester/SKILL.md",
          "type": "blob",
          "size": 9799
        }
      ],
      "marketplace": {
        "name": "k2-dev-marketplace",
        "version": null,
        "description": "Local marketplace for k2-dev plugin development",
        "owner_info": {
          "name": "Ivan K2"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "k2-dev",
            "description": "Multiagent orchestration plugin for enterprise code development with specialized agents, beads integration, and quality gates enforcement",
            "source": "./",
            "category": null,
            "version": "0.11.3",
            "author": null,
            "install_commands": [
              "/plugin marketplace add ivankristianto/k2-dev",
              "/plugin install k2-dev@k2-dev-marketplace"
            ],
            "signals": {
              "stars": 2,
              "forks": 0,
              "pushed_at": "2026-01-12T15:45:09Z",
              "created_at": "2026-01-08T15:08:59Z",
              "license": null
            },
            "commands": [],
            "skills": [
              {
                "name": "Beads Integration",
                "description": "This skill should be used when the user asks to \"work with beads tasks\", \"create a beads ticket\", \"update beads status\", \"read task comments\", \"manage dependencies\", \"sync beads\", \"use bd commands\", or needs guidance on beads task management workflows. Provides comprehensive beads CLI usage and workflow patterns.",
                "path": "skills/beads-integration/SKILL.md",
                "frontmatter": {
                  "name": "Beads Integration",
                  "description": "This skill should be used when the user asks to \"work with beads tasks\", \"create a beads ticket\", \"update beads status\", \"read task comments\", \"manage dependencies\", \"sync beads\", \"use bd commands\", or needs guidance on beads task management workflows. Provides comprehensive beads CLI usage and workflow patterns.",
                  "version": "0.2.0"
                },
                "content": "# Beads Integration Skill\n\n## Overview\n\nBeads is a git-backed issue tracker for multi-session work with dependencies and persistent memory. All tasks stored in `.beads/` directory as markdown files, committed to git, surviving conversation compaction.\n\n**Key Capabilities:** Task creation/management, status transitions, comments, dependencies, git worktree integration, synchronization.\n\n**Reference:** See k2-dev-reference.md#beads-cli-commands for complete command syntax.\n\n## Core Concepts\n\n### Task Structure\n- **ID**: beads-{number}\n- **Title**: Short description\n- **Description**: Detailed requirements and context\n- **Status**: open, in_progress, blocked, closed\n- **Priority**: P0 (critical), P1 (high), P2 (medium), P3 (low)\n- **Comments**: Discussion and updates\n- **Dependencies**: Relationships between tasks\n\n### Git-Backed Storage\n- Stored in `.beads/` as markdown\n- Committed to git for persistence\n- Survives conversation compaction\n- Shareable across team\n- Full history via git log\n\n## K2-Dev Workflow Integration\n\n### Reading Task Context (Before Implementation)\n\n```bash\nbd show beads-123              # Task details\nbd comments beads-123          # All comments for context\nbd dep list beads-123          # Check dependencies\n```\n\n**Parse output for:**\n- Title and description (requirements)\n- Current status and priority\n- Plan and implementation notes in comments\n- Blocking dependencies\n\n### Creating Tasks from Plans (Planner Agent)\n\n```bash\n# Epic\nbd create \"User Authentication System\" -d \"Epic description\" -p P1\n\n# Stories under epic\nbd create \"JWT Token Implementation\" -d \"Story\" -p P1 --parent=beads-{epic}\n\n# Subtasks\nbd create \"Auth middleware\" -d \"Subtask\" -p P2 --parent=beads-{story}\n\n# Dependencies (B blocks on A - A must complete before B)\nbd dep add beads-{B} --blocks-on=beads-{A}\n```\n\n### Adding Implementation Context (Technical Lead)\n\n```bash\nbd comments beads-123 add \"Implementation Plan:\n1. Create middleware in src/auth/\n2. Use existing JWT library\n3. Follow patterns in AGENTS.md\n4. Add tests in tests/auth/\"\n```\n\n### Status Transitions\n\n**Proper workflow:**\n```bash\n# Technical Lead assigns to Engineer\nbd update beads-123 --status in_progress --assignee engineer\n\n# After implementation\nbd update beads-123 --status closed\n\n# If blocked\nbd update beads-123 --status blocked\nbd comments beads-123 add \"Blocked by: beads-120 needs merge first\"\n```\n\n### Creating Follow-Up Tickets (After Review)\n\nWhen review identifies issues beyond 2 iterations:\n\n```bash\n# Critical issues\nbd create \"Fix authentication bypass vulnerability\" \\\n  -d \"Critical security issue from PR #456 review. Details: [...]\" \\\n  -p P0\n\n# Link to original\nbd comments beads-789 add \"Follow-up ticket created: beads-790 (P0)\"\nbd comments beads-790 add \"Follow-up from: beads-789\"\n```\n\n## Best Practices\n\n### Task Descriptions\n\n**Good:**\n```\nImplement JWT authentication middleware\n\nAcceptance Criteria:\n- Validates JWT tokens on protected routes\n- Returns 401 for invalid/expired tokens\n- Follows patterns in src/auth/oauth.ts\n- Test coverage >80%\n\nRelated: beads-120 (API refactor)\n```\n\n**Bad:**\n```\nAdd auth stuff\n```\n\n### Comments\n\nUse comments for:\n- Implementation plans and notes\n- Progress updates\n- Blockers and resolutions\n- Review feedback summary\n- Links to PRs and commits\n\n### Dependencies\n\nSet dependencies to:\n- Prevent starting work too early\n- Show task relationships\n- Enable parallel work where possible\n- Communicate workflow order\n\n### Synchronization\n\nAlways sync after:\n- Creating or closing tasks\n- Session end (automated via hook)\n- Before generating reports\n- After significant updates\n\n```bash\nbd sync\n```\n\n## Task Hierarchies\n\n**Epic** (1-2 weeks): `bd create \"User Management System\" -d \"Complete user CRUD with roles\" -p P1`\n**Story** (2-5 days): `bd create \"User Profile Editing\" -d \"Users can edit profile\" -p P1 --parent=beads-{epic}`\n**Subtask** (0.5-2 days): `bd create \"Profile API endpoint\" -d \"Create PUT /api/users/:id\" -p P2 --parent=beads-{story}`\n\nLink with dependencies to show hierarchy.\n\n## Troubleshooting\n\n**Task Not Found:**\n```bash\nbd sync                    # Sync first\nbd list                    # List all\nbd search \"keyword\"        # Search\n```\n\n**Status Not Updating:**\n- Check for unsaved changes in editor\n- Check git conflicts in .beads/\n- Run bd sync\n\n**Dependency Cycles:**\n```bash\n# Check before adding to avoid cycles\nbd dep list beads-123\nbd dep list beads-456\n```\n\n## Git Worktree Integration\n\n```bash\nbd worktree create beads-123    # Creates ../beads-123/, branch feature/beads-123\nbd worktree list                # List worktrees\nbd worktree remove beads-123    # Remove worktree\n```\n\n**Reference:** See git-worktree-workflow skill for detailed patterns.\n\n## Agent-Specific Usage\n\n**Technical Lead:**\n- Validates tickets exist and are open\n- Reads task context for planning (bd show, bd comments)\n- Adds architectural notes as comments\n- Closes tasks after merge\n- Syncs beads at end\n\n**Engineer:**\n- Reads task description and comments for requirements\n- Checks dependencies before starting\n- Updates status during implementation\n- Creates follow-up tickets when needed\n\n**Planner:**\n- Creates hierarchical task structures\n- Sets up dependencies\n- Writes detailed descriptions\n- Links related tasks\n\n**Reviewer:**\n- Reads task context for review\n- Does NOT add comments to beads (uses GitHub PR instead)\n- May recommend follow-up tickets\n\n**Tester:**\n- Reads requirements from beads\n- Adds test plan as comment\n- References beads ticket in test documentation\n\n**Reference:** See k2-dev-reference.md for complete command syntax, priority levels, and task granularity guidelines."
              },
              {
                "name": "Code Review Standards",
                "description": "This skill should be used when the user asks to \"review code\", \"perform code review\", \"check code quality\", \"review PR\", \"provide code feedback\", or needs guidance on code review best practices and standards in k2-dev workflows.",
                "path": "skills/code-review-standards/SKILL.md",
                "frontmatter": {
                  "name": "Code Review Standards",
                  "description": "This skill should be used when the user asks to \"review code\", \"perform code review\", \"check code quality\", \"review PR\", \"provide code feedback\", or needs guidance on code review best practices and standards in k2-dev workflows.",
                  "version": "0.2.0"
                },
                "content": "# Code Review Standards Skill\n\n## Overview\n\nCode review is a critical quality control process that catches bugs, ensures standards compliance, and facilitates knowledge sharing.\n\n**Review Objectives:** Ensure code quality and maintainability, catch bugs and logic errors, validate security practices, enforce project standards, share knowledge.\n\n## Review Process\n\n### Four-Pass Review Method\n\n**Pass 1: High-Level Understanding**\n- Read PR description and ticket context\n- Understand what the code is supposed to do\n- Review architectural approach\n- Identify scope and boundaries\n\n**Pass 2: Line-by-Line Detailed Review**\n- Read every changed line\n- Check logic correctness\n- Identify potential bugs\n- Note style issues\n\n**Pass 3: Standards Validation**\n- Validate against AGENTS.md quality gates\n- Verify constitution.md principles\n- Ensure project standards followed\n\n**Pass 4: Architectural Assessment**\n- Evaluate design decisions\n- Check for code smells\n- Assess maintainability\n- Consider alternatives\n\n## Review Checklist\n\n### Code Quality\n\n**Readability:**\n- [ ] Code is self-documenting\n- [ ] Variable names are descriptive\n- [ ] Functions appropriately sized (<50 lines ideal)\n- [ ] Complex logic has explanatory comments\n- [ ] No commented-out code\n\n**Structure:**\n- [ ] Proper separation of concerns\n- [ ] DRY principle followed (no duplication)\n- [ ] Single Responsibility Principle\n- [ ] Appropriate abstraction levels\n- [ ] Consistent code style\n\n**Error Handling:**\n- [ ] All errors handled appropriately\n- [ ] Error messages are informative\n- [ ] No silent failures\n- [ ] Edge cases considered\n- [ ] Graceful degradation\n\n### Logic and Correctness\n\n**Functionality:**\n- [ ] Implements requirements correctly\n- [ ] Edge cases handled\n- [ ] Boundary conditions tested\n- [ ] No off-by-one errors\n- [ ] Correct algorithm complexity\n\n**Data Handling:**\n- [ ] Null/undefined checks\n- [ ] Type safety maintained\n- [ ] Data validation present\n- [ ] Proper data transformations\n- [ ] No data loss scenarios\n\n### Security\n\n**OWASP Top 10 Security Checklist (Detailed)**\n\nFor every PR, validate:\n\n1. **Injection**:\n   - [ ] SQL queries use parameterized statements or ORMs\n   - [ ] NoSQL queries don't use string concatenation\n   - [ ] OS commands don't use unsanitized user input\n   - [ ] LDAP queries are parameterized\n\n2. **Broken Authentication**:\n   - [ ] Passwords are hashed (bcrypt, Argon2)\n   - [ ] Session tokens are secure, random, and expire\n   - [ ] Multi-factor authentication is implemented (if required)\n   - [ ] No credentials in code or config\n\n3. **Sensitive Data Exposure**:\n   - [ ] No API keys, passwords, or secrets in code\n   - [ ] Sensitive data encrypted in transit (HTTPS/TLS)\n   - [ ] Sensitive data encrypted at rest\n   - [ ] No sensitive data in logs or error messages\n\n4. **XML External Entities (XXE)**:\n   - [ ] XML parsing disables external entity processing\n   - [ ] XML libraries are configured securely\n\n5. **Broken Access Control**:\n   - [ ] Authorization checks before sensitive operations\n   - [ ] Users can't access others' data without permission\n   - [ ] Admin functions require admin privileges\n   - [ ] CORS policies are restrictive\n\n6. **Security Misconfiguration**:\n   - [ ] No default passwords or credentials\n   - [ ] Error messages don't leak sensitive info\n   - [ ] Security headers are set (CSP, X-Frame-Options, etc.)\n   - [ ] Unnecessary features/services are disabled\n\n7. **Cross-Site Scripting (XSS)**:\n   - [ ] User input is escaped before rendering\n   - [ ] HTML sanitization is applied to rich content\n   - [ ] Content Security Policy is used\n   - [ ] No `dangerouslySetInnerHTML` or equivalent without sanitization\n\n8. **Insecure Deserialization**:\n   - [ ] Deserialization is from trusted sources only\n   - [ ] Input validation before deserialization\n   - [ ] Type checks on deserialized objects\n\n9. **Using Components with Known Vulnerabilities**:\n   - [ ] Dependencies are up-to-date\n   - [ ] No known CVEs in dependencies\n   - [ ] Dependency versions are locked\n\n10. **Insufficient Logging & Monitoring**:\n    - [ ] Security events are logged\n    - [ ] Errors are logged (without sensitive data)\n    - [ ] Audit trail for sensitive operations\n\n**Input Validation:**\n- [ ] All external input validated\n- [ ] Proper sanitization\n- [ ] Type checking\n- [ ] Length/size limits enforced\n- [ ] Whitelist validation where possible\n\n**Authentication & Authorization:**\n- [ ] Proper authentication checks\n- [ ] Authorization verified\n- [ ] Session management secure\n- [ ] No hardcoded credentials\n- [ ] Secure password handling\n\n**Data Protection:**\n- [ ] Sensitive data encrypted\n- [ ] No secrets in code\n- [ ] Proper key management\n- [ ] HTTPS enforced\n- [ ] Secure headers present\n\n### Performance\n\n**Efficiency:**\n- [ ] No unnecessary computations\n- [ ] Appropriate data structures\n- [ ] Efficient algorithms\n- [ ] No N+1 query problems\n- [ ] Proper indexing\n\n**Resource Usage:**\n- [ ] No memory leaks\n- [ ] File handles closed\n- [ ] Database connections managed\n- [ ] Caching implemented where beneficial\n- [ ] Batch operations used appropriately\n\n### Testing\n\n**Coverage:**\n- [ ] Meets minimum coverage requirement (typically 80%)\n- [ ] Critical paths fully tested\n- [ ] Edge cases covered\n- [ ] Error conditions tested\n- [ ] Integration tests present\n\n**Test Quality:**\n- [ ] Tests are clear and maintainable\n- [ ] Tests are deterministic (no flakiness)\n- [ ] Good test data\n- [ ] Appropriate mocking\n- [ ] Tests run fast\n\n### Documentation\n\n**Code Documentation:**\n- [ ] Public APIs documented\n- [ ] Complex logic explained\n- [ ] Assumptions stated\n- [ ] TODOs tracked\n- [ ] Examples provided where helpful\n\n**External Documentation:**\n- [ ] README updated if needed\n- [ ] API docs updated\n- [ ] Migration guide if breaking changes\n- [ ] Changelog entry\n- [ ] Configuration documented\n\n### Project Standards\n\n**AGENTS.md Compliance:**\n- [ ] Quality gates pass\n- [ ] File patterns follow conventions\n- [ ] Code review standards met\n- [ ] Testing requirements satisfied\n- [ ] Architectural patterns followed\n- [ ] Preferred libraries used\n- [ ] File organization correct\n- [ ] Coding style consistent\n\n**constitution.md Compliance:**\n- [ ] Core principles upheld\n- [ ] Constraints respected\n- [ ] Security policies followed\n- [ ] Performance requirements met\n\n## Providing Feedback\n\n### Feedback Structure\n\n**Standard format:**\n```markdown\n**[Severity]** [Category]: [Issue]\n\n[Explanation]\n\n[Suggestion]\n\n[Example or reference]\n```\n\n**Severity levels:**\n- **P0 (Critical):** Security vulnerabilities, data loss, breaking changes\n- **P1 (Important):** Logic errors, quality gate violations, architecture issues\n- **P2 (Minor):** Style issues, optimization opportunities, refactoring suggestions\n- **Suggestion:** Nice-to-haves, alternative approaches, learning opportunities\n\n**Reference:** See k2-dev-reference.md#review-severity-levels\n\n### Example Feedback\n\n**P0 - Security Issue:**\n```markdown\n**P0** Security: SQL Injection Vulnerability\n\nThe search query is directly concatenated into the SQL statement, allowing injection attacks.\n\n\\```typescript\n// Current (vulnerable)\nconst query = `SELECT * FROM users WHERE name = '${searchTerm}'`;\n\n// Fix: Use parameterized queries\nconst query = 'SELECT * FROM users WHERE name = ?';\nconst results = await db.query(query, [searchTerm]);\n\\```\n\nReference: OWASP SQL Injection Prevention Cheat Sheet\n```\n\n**P1 - Logic Error:**\n```markdown\n**P1** Logic: Off-by-One Error in Pagination\n\nThe pagination logic will skip the last item on each page due to incorrect boundary condition.\n\n\\```typescript\n// Current (incorrect)\nconst end = start + pageSize;  // Should be exclusive\n\n// Fix\nconst end = Math.min(start + pageSize, totalItems);\n\\```\n\nAdd test case TC-045 to catch this.\n```\n\n### Tone and Approach\n\n**DO:**\nâœ… Be specific and objective\nâœ… Explain the reasoning\nâœ… Provide examples and references\nâœ… Suggest solutions, not just problems\nâœ… Distinguish between must-fix and nice-to-have\nâœ… Acknowledge good practices\nâœ… Ask questions if unclear\n\n**DON'T:**\nâŒ Be vague (\"this looks wrong\")\nâŒ Be condescending or dismissive\nâŒ Focus only on negatives\nâŒ Nitpick style in isolation\nâŒ Demand specific implementations\nâŒ Leave feedback without explanation\n\n## Review Iterations\n\n### Iteration 1\n\n**Reviewer:**\n1. Conducts four-pass review\n2. Categorizes findings by severity\n3. Provides comprehensive feedback on GitHub PR\n4. Requests changes if issues found\n5. Approves if all checks pass\n\n**Engineer:**\n1. Reads all feedback carefully\n2. Addresses all P0 and P1 issues\n3. Considers P2 and suggestions\n4. Pushes fixes\n5. Responds to comments\n6. Requests re-review\n\n### Iteration 2\n\n**Reviewer:**\n1. Reviews changes since last review\n2. Verifies P0/P1 issues resolved\n3. Checks for new issues introduced\n4. Approves if satisfied\n5. If still issues, prepare for follow-up tickets\n\n**Engineer:**\n1. Addresses remaining feedback\n2. If can't resolve in reasonable time:\n   - Create follow-up tickets (P0 for critical)\n   - Document in PR\n   - Request approval to merge with tickets\n\n### After 2 Iterations\n\nIf issues remain after 2 iterations:\n\n**Create follow-up tickets:**\n```bash\n# Critical issues\nbd create \"Fix authentication bypass vulnerability\" \\\n  -d \"Critical issue from PR #456 review. Details: [...]\" \\\n  -p P0\n\n# Important issues\nbd create \"Refactor validation logic\" \\\n  -d \"Code quality issue from PR #456. Details: [...]\" \\\n  -p P1\n```\n\n**Document in PR:**\n```markdown\n## Outstanding Issues\n\nAfter 2 review iterations, the following issues remain:\n\n### Created Follow-Up Tickets\n- **P0:** beads-789 - Fix authentication bypass (blocking next release)\n- **P1:** beads-790 - Refactor validation logic\n\n### Decision\nMerging this PR to maintain forward progress. Critical issues tracked in P0 ticket and will be addressed immediately.\n```\n\n**Reference:** See k2-dev-reference.md#beads-cli-commands for beads task creation.\n\n## K2-Dev Review Workflow\n\n### Reviewer Agent Process\n\n1. **Read context:**\n```bash\nbd show beads-123\nbd comments beads-123\ncat AGENTS.md constitution.md\n```\n\n2. **Review code:**\n```bash\ngh pr view 456 --web\ngh pr diff 456\n```\n\n3. **Provide feedback on GitHub:**\n- Inline comments on specific lines\n- Summary comment with categorized issues\n- Use severity labels (P0/P1/P2/Suggestion)\n\n4. **Report to Technical Lead:**\n```\nReview complete for beads-123 (PR #456):\n- P0 issues: 1 (security)\n- P1 issues: 2 (logic errors)\n- P2 issues: 3 (style)\n- Requesting changes\n```\n\n5. **Re-review after changes:**\n- Check if issues addressed\n- Verify no new issues introduced\n- Approve or continue iteration\n\n**Reference:** See k2-dev-reference.md#github-cli-gh-commands for gh pr commands.\n\n## Best Practices\n\n### DO\nâœ… Review within 24 hours of PR creation\nâœ… Block time for focused review\nâœ… Review all changed files (including tests and docs)\nâœ… Consider broader impact\nâœ… Be constructive and helpful\n\n### DON'T\nâŒ Rush through review or review when tired\nâŒ Only review main files (skip tests/docs)\nâŒ Be dismissive or condescending\nâŒ Make personal attacks\nâŒ Ignore engineer's responses\n\n## Review Templates\n\n### Initial Review Comment\n\n```markdown\n## Review Started\n\nBeginning review of PR #456 for beads-123.\n\nWill be checking:\nâœ“ Code quality and logic\nâœ“ Security vulnerabilities\nâœ“ Standards compliance (AGENTS.md, constitution.md)\nâœ“ Test coverage\nâœ“ Documentation\n\nFeedback coming soon.\n```\n\n### Approval Comment\n\n```markdown\n## âœ… Approved\n\nGreat work on this implementation! All quality gates pass.\n\n### Highlights\n- Excellent test coverage (95%)\n- Clean, maintainable code\n- Good security practices\n- Clear documentation\n\n### Standards Validation\nâœ… AGENTS.md quality gates pass\nâœ… constitution.md principles upheld\n\nReady to merge!\n```\n\n### Request Changes Comment\n\n```markdown\n## ðŸ”„ Changes Requested\n\nFound some issues that need addressing before merge. Overall approach is solid!\n\n### Must Fix (P0/P1)\n1. [P0] SQL injection vulnerability (line 123)\n2. [P1] Logic error in pagination (line 234)\n\n### Should Consider (P2)\n3. Inconsistent error handling (throughout)\n\n### Suggestions\n- Consider extracting validation logic to utility\n\nPlease address P0/P1 issues and push updates. Let me know if you have questions!\n```\n\nFollow these code review standards to maintain high code quality and catch issues early in k2-dev development workflows.\n\n**Reference:** See k2-dev-reference.md for priority levels, common patterns, and gh commands."
              },
              {
                "name": "Git Worktree Workflow",
                "description": "This skill should be used when the user asks to \"create a worktree\", \"manage git worktrees\", \"work on multiple branches simultaneously\", \"isolate task work\", \"use bd worktree\", or needs guidance on git worktree patterns for task isolation in k2-dev workflows.",
                "path": "skills/git-worktree-workflow/SKILL.md",
                "frontmatter": {
                  "name": "Git Worktree Workflow",
                  "description": "This skill should be used when the user asks to \"create a worktree\", \"manage git worktrees\", \"work on multiple branches simultaneously\", \"isolate task work\", \"use bd worktree\", or needs guidance on git worktree patterns for task isolation in k2-dev workflows.",
                  "version": "0.2.0"
                },
                "content": "# Git Worktree Workflow Skill\n\n## Overview\n\nGit worktrees enable working on multiple branches simultaneously by creating separate working directories. In k2-dev, each task gets its own worktree for complete isolation.\n\n**Key Benefits:** Work on multiple tasks without branch switching, complete isolation prevents conflicts, clean separation of concerns, easy context switching, safe cleanup without losing work.\n\n**Reference:** See k2-dev-reference.md#git-worktree-basics for core git worktree concepts and commands.\n\n## K2-Dev Worktree Pattern\n\nFor each task:\n1. Create worktree: `../beads-{id}/`\n2. Branch: `feature/beads-{id}`\n3. Work in isolation\n4. PR and merge\n5. Remove worktree\n\n## Creating Worktrees\n\n### Using bd worktree (Recommended)\n\nBeads provides integrated worktree management:\n\n```bash\nbd worktree create beads-123\n```\n\nThis creates:\n- Directory: `../beads-123/`\n- Branch: `feature/beads-123`\n- Links to main repository\n- Updates beads context\n\n**Location:** Worktrees created at `../beads-{id}/` (sibling to main repo) for easy organization and management.\n\n### Using Git Directly (Manual Control)\n\n```bash\n# Create worktree with new branch\ngit worktree add ../beads-123 -b feature/beads-123\n\n# Create from existing branch\ngit worktree add ../beads-123 feature/beads-123\n```\n\n**Reference:** See k2-dev-reference.md#git-worktree-basics for complete git worktree commands.\n\n### Multiple Tickets in One Worktree\n\nWhen `/k2:start` receives multiple tickets:\n\n```bash\n# Use first ticket ID for worktree name\nbd worktree create beads-123\n\n# Work on beads-123, beads-234, beads-345 in same worktree\n# All changes go to feature/beads-123 branch\n```\n\n## Working in Worktrees\n\n### Switching Context\n\n```bash\n# Navigate to worktree\ncd ../beads-123\n\n# Verify location\npwd\ngit branch --show-current\n\n# Check status\ngit status\n```\n\n### Making Changes\n\nWork normally in worktree:\n\n```bash\n# Edit files\nvi src/auth/middleware.ts\n\n# Stage and commit\ngit add src/auth/middleware.ts\ngit commit -m \"Add JWT middleware\"\n\n# Push to remote\ngit push -u origin feature/beads-123\n```\n\n### Returning to Main Repo\n\n```bash\ncd -  # Or use absolute path\ncd ~/projects/my-project\n```\n\n## Managing Worktrees\n\n### Listing Worktrees\n\n```bash\n# Using bd worktree\nbd worktree list\n\n# Using git directly\ngit worktree list\n```\n\n**Output example:**\n```\n/Users/dev/project           abc1234 [main]\n/Users/dev/beads-123         def5678 [feature/beads-123]\n/Users/dev/beads-456         ghi9012 [feature/beads-456]\n```\n\n### Removing Worktrees\n\n**After PR is merged:**\n\n```bash\n# Using bd worktree (recommended)\nbd worktree remove beads-123\n\n# Using git directly\ngit worktree remove ../beads-123\n\n# If worktree directory was manually deleted\ngit worktree prune\n```\n\n**Force remove (if needed):**\n```bash\ngit worktree remove --force ../beads-123\n```\n\n## K2-Dev Workflow Integration\n\n### Technical Lead Responsibilities\n\n**Creating worktree:**\n```bash\n# After validating ticket\nbd worktree create beads-123\n\n# Navigate to worktree\ncd ../beads-123\n\n# Verify setup\npwd\ngit branch --show-current\nbd show beads-123\n```\n\n**Cleanup after merge:**\n```bash\n# Return to main repo\ncd ~/projects/my-project\n\n# Remove worktree\nbd worktree remove beads-123\n\n# Verify removal\ngit worktree list\n```\n\n### Engineer Workflow\n\n**Start working:**\n```bash\n# Should already be in worktree (Tech Lead created it)\npwd  # Verify: ../beads-123\n\n# Read task context\nbd show beads-123\nbd comments beads-123\n\n# Start implementation\nvi src/feature.ts\n```\n\n**During implementation:**\n```bash\n# Regular git workflow\ngit add .\ngit commit -m \"Implement feature X\"\ngit push\n```\n\n**Create PR:**\n```bash\n# From worktree\ngh pr create --title \"feat: Add feature X (beads-123)\" \\\n             --body \"$(cat PR_TEMPLATE.md)\"\n```\n\n### Multiple Worktrees Simultaneously\n\nEngineer can work on multiple tasks:\n\n```bash\n# Terminal 1: Work on beads-123\ncd ../beads-123\nvi src/auth.ts\n\n# Terminal 2: Work on beads-456\ncd ../beads-456\nvi src/profile.ts\n\n# Each worktree is independent - no branch switching needed\n```\n\n## Branching Strategy\n\n### Branch Naming\n\n**Standard pattern:** `feature/beads-{id}`\n\n**Examples:**\n```\nfeature/beads-123\nfeature/beads-456\nfeature/beads-789\n```\n\n**Why this pattern:**\n- Clear association with task\n- Easy to identify in PR list\n- Consistent and predictable\n- Sortable and searchable\n\n**Reference:** See k2-dev-reference.md#branch-naming\n\n### Base Branch\n\nCreate worktrees from main/master:\n\n```bash\n# Ensure main is up to date first\ncd ~/projects/my-project\ngit checkout main\ngit pull\n\n# Now create worktree\nbd worktree create beads-123\n```\n\n### Keeping Up to Date\n\n**Rebase on main:**\n```bash\ncd ../beads-123\ngit fetch origin\ngit rebase origin/main\n```\n\n**Merge main (if preferred):**\n```bash\ncd ../beads-123\ngit merge origin/main\n```\n\n## Best Practices\n\n### DO\n\nâœ… **Create worktree per task** - Each beads ticket gets its own worktree for complete isolation\n\nâœ… **Use consistent naming** - `../beads-{id}/` for location, `feature/beads-{id}` for branch\n\nâœ… **Clean up after merge** - Remove worktree after PR merged to keep workspace tidy\n\nâœ… **Verify before creating:**\n```bash\ngit worktree list | grep beads-123  # Check doesn't already exist\n```\n\nâœ… **Stay in worktree context** - Work entirely in worktree until PR merged\n\n### DON'T\n\nâŒ **Don't nest worktrees** - Keep flat structure, don't create worktree inside another\n\nâŒ **Don't manually delete worktree directories:**\n```bash\n# Wrong:\nrm -rf ../beads-123\n\n# Right:\nbd worktree remove beads-123\n```\n\nâŒ **Don't reuse worktree for different tasks** - One worktree = one task, create new for new task\n\nâŒ **Don't forget to push:**\n```bash\n# Before creating PR, push changes\ngit push -u origin feature/beads-123\n```\n\n## Troubleshooting\n\n### Worktree Already Exists\n\n**Error:** `fatal: '../beads-123' already exists`\n\n**Solution:**\n```bash\ngit worktree list  # Check existing worktrees\ngit worktree remove ../beads-123  # Remove if stale\ngit worktree prune  # If directory deleted manually\n```\n\n### Branch Already Exists\n\n**Error:** `fatal: a branch named 'feature/beads-123' already exists`\n\n**Solution:**\n```bash\ngit worktree list  # Check if worktree exists\ngit branch -D feature/beads-123  # Delete branch if no worktree\nbd worktree create beads-123  # Recreate\n```\n\n### Can't Remove Worktree\n\n**Error:** `fatal: validation failed, cannot remove working tree`\n\n**Solution:**\n```bash\ncd ../beads-123\ngit status  # Check for uncommitted changes\ngit add . && git commit -m \"WIP\"  # Commit or stash changes\n\n# Or force remove (caution: loses changes)\ngit worktree remove --force ../beads-123\n```\n\n### Lost Worktree Directory\n\n**Scenario:** Worktree directory deleted but git still tracks it\n\n**Solution:**\n```bash\ngit worktree prune  # Prune stale entries\ngit worktree list  # Verify cleanup\n```\n\n## Integration with Beads\n\nBeads tracks worktree association:\n\n```bash\n# Create worktree via beads\nbd worktree create beads-123\n\n# Beads knows about the worktree\nbd show beads-123  # Shows worktree info\n\n# List task worktrees\nbd worktree list\n```\n\nWhen reading task context, `bd show beads-123` may include:\n- Worktree location\n- Branch name\n- Work status\n\n## Workflow Summary\n\n**Standard k2-dev workflow:**\n\n1. **Technical Lead:** Create worktree\n   ```bash\n   bd worktree create beads-123\n   cd ../beads-123\n   ```\n\n2. **Engineer:** Work in worktree\n   ```bash\n   # Already in ../beads-123\n   # ... implement feature ...\n   git add . && git commit -m \"feat: Add feature\" && git push -u origin feature/beads-123\n   ```\n\n3. **Engineer:** Create PR\n   ```bash\n   gh pr create --title \"feat: Feature (beads-123)\"\n   ```\n\n4. **After merge, Technical Lead:** Clean up\n   ```bash\n   cd ~/projects/my-project\n   bd worktree remove beads-123\n   bd update beads-123 --status closed\n   bd sync\n   ```\n\nFollow this pattern for consistent, isolated task development with clean separation of concerns.\n\n**Reference:** See k2-dev-reference.md for git worktree commands, branch naming, and common patterns."
              },
              {
                "name": "Planning",
                "description": "This skill should be used when the user needs to plan features, break down requirements, create implementation tasks, or design software architecture. Use this skill for comprehensive requirements analysis, technical planning, and creating structured task hierarchies with dependencies. The skill executes in the main conversation context and can invoke the technical-lead agent for architectural review when needed.",
                "path": "skills/planner/SKILL.md",
                "frontmatter": {
                  "name": "Planning",
                  "description": "This skill should be used when the user needs to plan features, break down requirements, create implementation tasks, or design software architecture. Use this skill for comprehensive requirements analysis, technical planning, and creating structured task hierarchies with dependencies. The skill executes in the main conversation context and can invoke the technical-lead agent for architectural review when needed.",
                  "version": "0.2.0"
                },
                "content": "# Planning Skill\n\n## Overview\n\nTransforms user requirements into actionable beads tasks with proper hierarchies and dependencies. Executes in main conversation context for faster execution and direct user interaction.\n\n**Key Objectives:**\n- Analyze requirements through codebase exploration\n- Clarify scope, constraints, expectations directly with user\n- Create detailed implementation plans with task hierarchies\n- Collaborate with Technical Lead for architectural validation\n- Set up proper task dependencies\n\n**Invoked when:** `/planner` or `/k2:planner` command executed\n\n## Six-Phase Planning Workflow\n\n### Phase 1: Context Gathering\n\n**1. Read Project Standards**\n```bash\nls -la AGENTS.md docs/constitution.md\ncat AGENTS.md\n```\nExtract: Quality gates, coding standards, testing requirements, architectural principles, file organization.\n\n**2. Understand Requirements**\n- Feature description from user input\n- Core problem/goal\n- Explicit constraints\n- What needs clarification\n\n**3. Explore Codebase**\n```bash\nglob \"**/*{keyword}*\"          # Find relevant files\ngrep \"{pattern}\" --output_mode=content\nread {key_files}\n```\nIdentify: File structure, similar features, integration points, testing patterns, existing frameworks.\n\n### Phase 2: Clarification\n\nAsk 3-5 focused questions directly (main context allows direct interaction):\n\n**Scope:** Core features required? Deferrable features? Integration needs? Timeline?\n**Technical:** Library preferences? Architectural constraints? Design patterns? Performance requirements?\n**UX:** User workflow? UI/UX requirements? Error handling? Accessibility?\n**Quality:** Test coverage expected? Security considerations? Definition of \"done\"?\n\n**Strategy:** Prioritize questions impacting plan structure. Use codebase analysis for informed questions. Accept reasonable defaults for non-critical decisions.\n\n### Phase 3: Create Implementation Plan\n\n```markdown\n# Implementation Plan: {Feature Name}\n\n## Overview\n{Brief summary}\n\n## Requirements Summary\n{Consolidated from input + clarification}\n\n## Architectural Approach\n{Technical approach and key decisions}\n\n**Integration Points:** {Systems/modules affected}\n**Technology Choices:** {Libraries/frameworks + rationale}\n\n## Implementation Phases\n\n### Phase 1: {Name}\n**Goal**: {What this achieves}\n**Tasks**:\n1. {Task} - Files: {list}, Dependencies: {what first}, Acceptance: {verify}\n\n### Phase 2: {Name}\n...\n\n## Task Hierarchy\n- Epic: {Feature Name}\n  - Story 1: {User capability}\n    - Subtask 1.1: {Technical task}\n  - Story 2: {User capability}\n    - Subtask 2.1: {Technical task}\n\n## Dependencies\n{Execution order and blocking relationships}\n\n## Testing Strategy\n{What needs testing and how}\n\n## Risks and Mitigations\n- **Risk**: {Issue} â†’ **Mitigation**: {Solution}\n```\n\n### Phase 4: Technical Lead Collaboration\n\n**Invoke Technical Lead for architectural review:**\n```\nUse Task tool:\n- subagent_type: \"technical-lead\"\n- prompt: \"Review this implementation plan for {feature}:\n\n{paste plan}\n\nFeedback needed on:\n- Architectural alignment with project patterns?\n- Risks or concerns?\n- Task breakdown appropriate?\n- Dependencies sound?\n- Meets quality standards (AGENTS.md)?\"\n```\n\n**Incorporate Feedback:**\n- Analyze Technical Lead's response\n- Adjust plan based on guidance\n- Update task breakdown if needed\n- Address risks and concerns\n- Iterate until approved (max 2-3 iterations)\n\n### Phase 5: Convert to Beads Tasks\n\n**Task Structure Decision:**\n- **Simple** (1-3 days): Single story + subtasks\n- **Medium** (3-7 days): Multiple stories, consider epic\n- **Complex** (1-2 weeks+): Epic + stories + subtasks\n\n**Reference:** See k2-dev-reference.md#task-granularity\n\n**1. Create Epic** (if needed)\n```bash\nbd create --title=\"Epic: {Name}\" --priority=P1 \\\n  --description=\"Epic overview, scope, goals, success criteria\"\n# Record epic ID: beads-{id}\n```\n\n**2. Create Stories** (user-facing capabilities)\n```bash\nbd create --title=\"{Capability}\" --priority=P1 --parent=beads-{epic} \\\n  --description=\"Story description, requirements, approach, acceptance criteria, testing\"\n# Record story IDs\n```\n\n**3. Create Subtasks** (technical implementation)\n```bash\nbd create --title=\"{Technical task}\" --priority=P1 --parent=beads-{story} \\\n  --description=\"Task details, files to modify, implementation specifics, acceptance criteria, dependencies\"\n# Record subtask IDs\n```\n\n**4. Set Up Dependencies**\n```bash\nbd dep add beads-{B} --blocks-on=beads-{A}  # B depends on A (A must complete first)\n```\n**Strategy:** Set blocking relationships for sequential work. Avoid dependencies for parallel work. Document why dependencies exist.\n\n**Reference:** See k2-dev-reference.md#beads-cli-commands\n\n**5. Sync**\n```bash\nbd sync\n```\n\n### Phase 6: Generate Final Report\n\n```markdown\n## Planning Complete: {Feature Name}\n\n### Summary\nCreated comprehensive implementation plan with structured beads tasks after requirements analysis, codebase exploration, clarification, and Technical Lead collaboration.\n\n### Tasks Created\n- **Epic**: beads-{id} (if applicable)\n- **Stories**: {count} tasks (beads-{ids})\n- **Subtasks**: {count} tasks (beads-{ids})\n- **Total**: {count} tasks\n\n### Task Hierarchy\nEpic: {Name} (beads-{id}) - P1, open\nâ”œâ”€ Story: {Name} (beads-{id}) - P1, open\nâ”‚  â”œâ”€ Subtask: {Name} (beads-{id}) - Blocks: none\nâ”‚  â””â”€ Subtask: {Name} (beads-{id}) - Blocks: beads-{prev}\nâ””â”€ Story: {Name} (beads-{id}) - P1, open\n   â””â”€ Subtask: {Name} (beads-{id}) - Blocks: beads-{dep}\n\n### Execution Roadmap\n**Phase 1 (Parallel):** beads-{id}, beads-{id}\n**Phase 2 (Sequential):** beads-{id} â†’ beads-{id}\n**Critical Path:** beads-{A} â†’ beads-{B} â†’ beads-{C}\n\n### Architecture Decisions\n1. {Decision + rationale}\n2. {Decision + rationale}\n\n### Next Steps\nStart implementation:\n```\n/k2:start beads-{first_task_id}\n```\n\nView tasks:\n```\nbd list --filter=parent:beads-{epic_id}\n```\n```\n\n## Decision-Making Framework\n\n1. **Gather Context First** - Read standards, explore codebase, ask questions, understand patterns\n2. **Align with Standards** - AGENTS.md (quality), constitution.md (constraints), existing code (patterns)\n3. **Consider Approaches** - Identify 2-3 viable approaches, evaluate tradeoffs, document rationale\n4. **Validate with Tech Lead** - Present approach, be receptive to feedback, adjust based on guidance\n5. **Balance Detail** - Provide implementation clarity, allow Engineer flexibility, focus on architecture\n\n## Quality Criteria\n\n**Clarity:** Concrete and actionable tasks, clear technical approach, identified file changes, no ambiguity\n**Completeness:** All requirements addressed, testing strategy, quality gates, edge cases\n**Architectural:** Follows project patterns, Technical Lead approved, aligns with standards, considers scalability\n**Realistic:** Appropriate task breakdown, logical dependencies, achievable scope, realistic risk assessment\n\n## Best Practices\n\n### DO\nâœ… Explore codebase thoroughly before planning\nâœ… Ask 3-5 focused questions at a time\nâœ… Create specific, actionable tasks with clear acceptance criteria\nâœ… Get Technical Lead architectural review\nâœ… Enable parallel work where possible (minimal dependencies)\n\n### DON'T\nâŒ Plan without exploring codebase first\nâŒ Be vague (\"Implement feature X\", \"Add tests\")\nâŒ Skip Technical Lead review\nâŒ Over-specify implementation details\nâŒ Create unnecessary dependencies that serialize parallelizable work\n\n## Error Handling\n\n**Missing Standards:** Ask user, use industry best practices, note absence, recommend creating AGENTS.md\n**Unclear Requirements:** Ask targeted questions, make documented assumptions, validate with user\n**Conflicting Requirements:** Identify conflicts, present tradeoffs, ask for prioritization\n**Tech Lead Disagrees:** Listen, understand reasoning, adjust plan, defer to expertise, document decision\n\n## Success Criteria\n\nPlanning complete when:\n- âœ… Requirements fully understood and clarified\n- âœ… Technical Lead reviewed and approved approach\n- âœ… Beads tasks created with clear descriptions\n- âœ… Dependencies set up properly\n- âœ… Task hierarchy is logical\n- âœ… User understands plan and next steps\n- âœ… Tasks synced to beads\n- âœ… Final report provided with all task IDs\n\n**Reference:** See k2-dev-reference.md for commands, patterns, and common concepts."
              },
              {
                "name": "PR Creation",
                "description": "Quick PR creation reference",
                "path": "skills/pr-creation/SKILL.md",
                "frontmatter": {
                  "name": "PR Creation",
                  "description": "Quick PR creation reference",
                  "version": "0.1.0"
                },
                "content": "# PR Creation\n\n## Title Format\n\n```\n<type>: <summary> (<ticket-id>)\n```\n\nTypes: feat, fix, refactor, docs, test, chore, perf, security\n\n### Description Template\n\n**IMPORTANT:** Always follow the Pull Request template in `.github/pull_request_template.md` if it exists.\n\n**If no template exists, use:**\n\n```markdown\n## Summary\n\nBrief description of changes\n\n## Changes\n\n- List of changes\n\n## Testing\n\n- How validated\n\n## References\n\n- Implements: <ticket>\n```\n\n## Create PR\n\n```bash\ngh pr create --title \"feat: Add feature (beads-123)\" \\\n             --body \"$(cat <<'EOF'\n## Summary\n...\n\n## Changes\n- ...\n\n## Testing\n- ...\n\n## References\n- Implements: beads-123\nEOF\n)\"\n```\n\n## Get PR URL\n\n```bash\ngh pr view --json url -q .url\n```"
              },
              {
                "name": "Quality Gates",
                "description": "This skill should be used when the user asks to \"check quality gates\", \"validate against standards\", \"read AGENTS.md\", \"enforce project patterns\", \"follow constitution.md\", \"validate code quality\", or needs guidance on quality standards enforcement in k2-dev workflows.",
                "path": "skills/quality-gates/SKILL.md",
                "frontmatter": {
                  "name": "Quality Gates",
                  "description": "This skill should be used when the user asks to \"check quality gates\", \"validate against standards\", \"read AGENTS.md\", \"enforce project patterns\", \"follow constitution.md\", \"validate code quality\", or needs guidance on quality standards enforcement in k2-dev workflows.",
                  "version": "0.2.0"
                },
                "content": "# Quality Gates Skill\n\n## Overview\n\nQuality gates are project-defined standards that all code changes must meet. In k2-dev, gates are defined in three configuration files at project root and enforced throughout the development workflow.\n\n**Configuration Files:**\n- **AGENTS.md** - Quality standards, file validation patterns, agent guidelines\n- **constitution.md** - Core principles and immutable constraints\n\n**Reference:** See k2-dev-reference.md#quality-standards-files for overview.\n\n## Core Concepts\n\n### What are Quality Gates?\n\nCheckpoints code must pass before progressing:\n- **Type checking:** No TypeScript errors\n- **Test coverage:** Minimum percentage coverage\n- **Linting:** Code style compliance\n- **Security:** No known vulnerabilities\n- **Performance:** Acceptable metrics\n- **Documentation:** Required comments/docs\n\n### Why Quality Gates?\n\n**Consistency:** Uniform code quality across team\n**Standards:** Enforce project-specific patterns\n**Prevention:** Catch issues before review\n**Automation:** Reduce manual review burden\n**Documentation:** Codify team agreements\n\n### Enforcement Points\n\n1. **Engineer self-review** before creating PR\n2. **PreToolUse hook** before file changes\n3. **Reviewer validation** during code review\n4. **CI/CD pipeline** automated checks\n\n## Configuration Files\n\n### AGENTS.md Structure\n\nLocated at project root, defines:\n- Quality gate thresholds (type checking, test coverage, linting)\n- File validation patterns (which files trigger validation)\n- Coding standards and review criteria\n- Agent behavioral guidelines\n\n**Example sections:**\n```markdown\n## Quality Gates\n- Type Checking: All TypeScript files must pass `tsc --noEmit`\n- Test Coverage: Minimum 80% line coverage\n- Linting: ESLint must pass\n- Security: OWASP Top 10 compliance\n\n## File Validation Patterns\nValidate: `src/**/*.ts`, `src/**/*.tsx`, `lib/**/*.js`\nSkip: `**/*.test.ts`, `docs/**/*`, `*.md`\n\n## Code Review Standards\nBlocking: Security vulnerabilities, logic errors, performance regressions\nNon-Blocking: Style preferences, naming suggestions, refactoring opportunities\n```\n\n### AGENTS.md Structure\n\nLocated at project root, defines all quality standards:\n- Quality gate thresholds (type checking, test coverage, linting)\n- File validation patterns (which files trigger validation)\n- Coding standards and review criteria\n- Agent behavioral guidelines\n- Project-specific patterns and conventions\n\n**Example sections:**\n\nDefines immutable principles:\n- Core project values\n- Non-negotiable constraints\n- Architectural decisions\n- Security policies\n- Compliance requirements\n\n**Example:**\n```markdown\n## Core Principles\n- Security First: Never compromise security for convenience\n- User Privacy: GDPR compliance mandatory\n- Performance: API response time <200ms (p95)\n\n## Non-Negotiable Constraints\n1. All passwords hashed with bcrypt (cost factor â‰¥12)\n2. HTTPS only in production\n3. Rate limiting on all public endpoints\n```\n\n## Reading Configuration Files\n\n### Before Starting Work\n\nAll agents must read configuration:\n\n```bash\n# Check files exist\nls -la AGENTS.md constitution.md\n\n# Read files\ncat AGENTS.md\ncat constitution.md\n```\n\n**Parse for:**\n- Quality gate thresholds\n- File validation patterns\n- Required checks\n- Architectural patterns\n- Security requirements\n- Testing standards\n\n### During Implementation\n\nReference configuration throughout:\n- Check patterns before implementing\n- Validate approach against architecture\n- Ensure compliance with constraints\n- Follow coding standards\n\n### Before Self-Review\n\nEngineer validates against both files:\n- AGENTS.md quality gates and patterns\n- constitution.md principles\n\n## Validation Workflow\n\n### Engineer Self-Review Checklist\n\n**From AGENTS.md:**\n- [ ] Type checking passes\n- [ ] Test coverage meets threshold\n- [ ] Linting passes\n- [ ] Security checks pass\n- [ ] File patterns match\n- [ ] Follows project architecture\n- [ ] Uses preferred libraries\n- [ ] Matches coding patterns\n- [ ] Proper file organization\n\n**From constitution.md:**\n- [ ] Upholds core principles\n- [ ] Respects constraints\n- [ ] Security policies followed\n- [ ] Performance requirements met\n\n### Reviewer Validation\n\nReviewer checks compliance:\n\n```bash\n# Read configuration\ncat AGENTS.md constitution.md\n\n# Review changes\ngit diff main...feature/beads-123\n\n# Validate specific checks\nnpm run type-check\nnpm run lint\nnpm test -- --coverage\n```\n\n**Validation categories:**\n- **P0 (Critical):** Security, data loss, breaking changes\n- **P1 (Important):** Quality gates, architecture violations\n- **P2 (Minor):** Style issues, optimization opportunities\n\n**Reference:** See k2-dev-reference.md#review-severity-levels\n\n### PreToolUse Hook Validation\n\nHook validates before Write/Edit operations:\n\n```bash\n# Check if file matches validation patterns from AGENTS.md\n# If match, run quality checks\n# Block operation if checks fail\n```\n\nValidates:\n- File matches pattern (e.g., `src/**/*.ts`)\n- Type checking passes\n- Linting passes\n- No security violations\n\n## Quality Gate Examples\n\n### Type Checking\n\n**Standard:** All TypeScript must type-check\n**Validation:** `tsc --noEmit`\n**Pass:** No errors | **Fail:** Any type errors\n\n### Test Coverage\n\n**Standard:** Minimum 80% coverage (from AGENTS.md)\n**Validation:** `npm test -- --coverage`\n**Pass:** â‰¥80% line coverage | **Fail:** <80%\n\n### Linting\n\n**Standard:** ESLint must pass\n**Validation:** `npm run lint`\n**Pass:** No errors | **Fail:** Any linting errors\n\n### Security\n\n**Standard:** No hardcoded secrets (constitution.md), input validation required (AGENTS.md)\n**Validation:**\n```bash\ngit diff | grep -E '(api_key|password|secret)'  # Check for secrets\ngrep -r \"req.body\" src/api/                     # Review for input validation\n```\n**Pass:** No secrets, all inputs validated | **Fail:** Secrets found, missing validation\n\n## Handling Quality Gate Failures\n\n### During Self-Review\n\nIf quality gates fail:\n1. Identify which check failed\n2. Fix root cause\n3. Re-validate\n4. Repeat until all gates pass\n5. Document any challenges in PR\n\n### During Review\n\nIf Reviewer finds issues:\n\n**Iteration 1:**\n- Reviewer provides specific feedback\n- Engineer fixes issues\n- Re-review\n\n**Iteration 2:**\n- Reviewer re-checks fixes\n- If passes, approve\n- If fails, create follow-up tickets\n\n**Follow-up tickets:**\n- P0: Critical issues blocking merge\n- P1: Important issues for next sprint\n- P2: Minor improvements for backlog\n\n### PreToolUse Hook Blocks\n\nIf hook blocks operation:\n1. Read error message (understand what failed)\n2. Check AGENTS.md (review validation patterns)\n3. Fix issue (address root cause)\n4. Retry operation (should now pass)\n\n**Example:**\n```bash\n# Hook blocks Write operation\nError: Type checking failed for src/auth.ts\n\n# Fix type errors\nvi src/auth.ts\n\n# Retry - should succeed now\n```\n\n## Best Practices\n\n### DO\nâœ… Read configuration first: `cat AGENTS.md constitution.md`\nâœ… Validate early and often during implementation\nâœ… Understand rationale for each standard\nâœ… Ask for clarification if standard is unclear\nâœ… Document exceptions with rationale and mitigation\n\n### DON'T\nâŒ Skip reading AGENTS.md, constitution.md\nâŒ Bypass quality gates (disable checks, commit --no-verify, merge failing PRs)\nâŒ Ignore warnings (address linting warnings, test failures, type errors)\nâŒ Negotiate immutable constraints (constitution.md is non-negotiable)\n\n## Project Configuration Templates\n\nIf AGENTS.md doesn't exist, suggest creating:\n\n```markdown\n# AGENTS.md Template\n\n## Quality Gates\n- Type Checking: `npm run type-check` - Must pass\n- Test Coverage: `npm test -- --coverage` - Threshold: 80%\n- Linting: `npm run lint` - Must pass\n\n## File Validation Patterns\nValidate: `src/**/*.ts`, `src/**/*.tsx`\nSkip: `**/*.test.ts`, `docs/**/*`\n\n## Review Standards\nBlocking: Security vulnerabilities, logic errors\nNon-Blocking: Style preferences\n```\n\n## Integration with K2-Dev Workflow\n\n**Technical Lead:**\n- Reads configuration before planning\n- Validates approach against architecture\n- Ensures quality gates are clear\n\n**Engineer:**\n- Reads configuration at start\n- Validates during implementation\n- Self-reviews against both files\n- Only creates PR when all gates pass\n\n**Reviewer:**\n- Validates against AGENTS.md standards\n- Ensures constitution.md principles upheld\n- Categorizes issues by severity (P0/P1/P2)\n\n**Planner:**\n- References configuration during planning\n- Ensures plans comply with architecture\n- Considers quality gate requirements\n\nFollow quality gates rigorously to maintain code quality and project standards throughout the k2-dev development lifecycle.\n\n**Reference:** See k2-dev-reference.md for priority levels and common patterns."
              },
              {
                "name": "k2-dev:report",
                "description": "This skill should be used when you need to generate a comprehensive status report for a beads ticket, including summary, progress, dependencies, PR status, and next steps. Use this after workflow completion or when the user requests a ticket status report.",
                "path": "skills/report/SKILL.md",
                "frontmatter": {
                  "name": "k2-dev:report",
                  "description": "This skill should be used when you need to generate a comprehensive status report for a beads ticket, including summary, progress, dependencies, PR status, and next steps. Use this after workflow completion or when the user requests a ticket status report.",
                  "version": "1.0.0"
                },
                "content": "# Report Skill - Ticket Status Report Generation\n\nGenerate comprehensive structured reports for beads tickets with complete context.\n\n## When to Use This Skill\n\n- After completing `/k2:start` workflow (Phase 9) to provide final status report\n- When user requests ticket status via `/k2:report {ticket-id}`\n- When Technical Lead needs comprehensive ticket overview\n- For tracking progress across multiple tickets\n\n## Execution Context\n\nThis skill executes in the **main conversation context**, not as an isolated agent. You have access to all tools (Bash, Read, etc.) to gather ticket information and generate reports.\n\n## Report Generation Process\n\n### Step 1: Parse Ticket ID\n\nIf ticket ID is provided as argument, use it. Otherwise, ask: \"Which ticket would you like a report for?\"\n\n### Step 2: Fetch Data in Parallel\n\n**PERFORMANCE OPTIMIZATION**: Run all commands simultaneously using multiple Bash tool calls in a single message:\n\n```bash\nbd show {ticket-id}        # title, description, status, priority, dates, assignee\nbd comments {ticket-id}    # all comments with timestamps\nbd dep list {ticket-id}    # dependencies (blockers/blocking/parent/child/epic)\ngit worktree list | grep -q \"beads-{ticket-id}\" && echo \"worktree\" || (git branch --list \"feature/beads-{ticket-id}\" | grep -q . && echo \"branch\" || echo \"none\")  # check worktree OR branch\ngh pr view feature/beads-{ticket-id} --json url,state,reviewDecision 2>/dev/null || echo \"No PR\"  # direct PR lookup (faster than search)\n```\n\n**Performance notes:**\n\n- All 5 commands are independent - execute in parallel for ~70-80% faster execution\n- `gh pr view` is ~60% faster than `gh pr list --search` (direct lookup vs search)\n- Combined git check handles both worktree and branch scenarios\n\n### Step 3: Generate Structured Report\n\nFormat the collected data using this markdown template:\n\n```markdown\n# Ticket Report: {ticket-id}\n\n## Summary\n\n**Title:** {title} | **Status:** {status} | **Priority:** {priority} | **Assignee:** {assignee or \"Unassigned\"}\n\n## Description\n\n{description}\n\n## Progress\n\n**Created:** {created_date} | **Last Updated:** {updated_date} | **Current Phase:** {infer from status/comments}\n\n## Related Work\n\n**Git Branch:** feature/beads-{ticket-id} {worktree/branch/none - from combined check}\n**Pull Request:** {PR URL & status from JSON or \"Not created yet\"}\n\n## Dependencies\n\n{list: depends-on (blockers), blocks (blocking), parent/child relationships, epic membership}\n\n## Comments & History\n\n{chronological list with timestamps - include automated & manual comments}\n\n## Next Steps\n\n{status-based actions:\n\n- open: Start implementation with /k2:start {ticket-id}\n- in_progress: Check work branch, continue implementation, review progress\n- blocked: Resolve blocking dependencies listed above\n- closed: Review completed work, verify PR merged}\n```\n\n### Step 4: Present Report\n\nPresent the complete markdown report to the user in a clear, well-formatted way.\n\n## Error Handling\n\n**Ticket not found:**\n\n```\nError: Ticket {ticket-id} not found. Use 'bd list' to see available tickets.\n```\n\nExit and inform user.\n\n**Beads command fails:**\n\n```\nError: Unable to fetch ticket information. Ensure beads is installed and synced.\n```\n\nExit and inform user to check beads installation and run `bd sync`.\n\n## Usage Examples\n\n### Example 1: Report After Workflow Completion\n\n```\nContext: Technical Lead completed /k2:start workflow and reached Phase 9\nAction: Invoke Skill tool with \"k2-dev:report\" and ticket-id\nResult: Comprehensive report showing completed work, PR status, and follow-ups\n```\n\n### Example 2: User Requests Report via Command\n\n```\nContext: User runs /k2:report beads-123\nAction: Command invokes this skill with ticket-id \"beads-123\"\nResult: Full status report for the specified ticket\n```\n\n## Integration with K2-Dev Workflow\n\nThis skill is invoked:\n\n1. **From `/k2:start` command**: At Phase 9 (after merge and cleanup) to provide final comprehensive report\n2. **From `/k2:report` command**: When user explicitly requests a ticket status report\n3. **From Technical Lead agent**: When generating status reports for ticket oversight\n\n## Performance Characteristics\n\n- **Parallel execution**: All data fetching done in parallel (~70-80% faster)\n- **Fast PR lookup**: Direct `gh pr view` instead of search (~60% faster)\n- **Single pass**: All data collected in one round-trip\n- **Minimal overhead**: Executes in main context, no agent spawning cost\n\n---\n\n**Remember**: This is a skill, not an agent. Execute the logic directly in the current conversation context using available tools."
              },
              {
                "name": "Test Planning",
                "description": "This skill should be used when the user asks to \"create a test plan\", \"write test cases\", \"plan testing strategy\", \"define test coverage\", \"create test scenarios\", or needs guidance on comprehensive test planning in k2-dev workflows.",
                "path": "skills/test-planning/SKILL.md",
                "frontmatter": {
                  "name": "Test Planning",
                  "description": "This skill should be used when the user asks to \"create a test plan\", \"write test cases\", \"plan testing strategy\", \"define test coverage\", \"create test scenarios\", or needs guidance on comprehensive test planning in k2-dev workflows.",
                  "version": "0.2.0"
                },
                "content": "# Test Planning Skill\n\n## Overview\n\nComprehensive test planning ensures code quality, catches bugs early, and provides confidence in implementations. This skill provides reference patterns for creating structured test plans with specific test cases.\n\n**Key Objectives:** Define clear test strategy, create specific and implementable test cases, ensure comprehensive coverage, document testing approach.\n\n**Note:** For active test planning workflow (executing in main context), use the Tester skill instead. This is a reference skill for test planning patterns.\n\n## Test Strategy Components\n\n### Test Types\n\n**Reference:** See k2-dev-reference.md#test-types for complete test type definitions.\n\n| Type | Focus | When to Use |\n|------|-------|-------------|\n| **Unit** | Individual functions/methods | Business logic, algorithms, utilities |\n| **Integration** | Component interactions | APIs, databases, service integrations |\n| **E2E** | Complete user flows | Critical workflows, UI, multi-step journeys |\n| **Performance** | Load and speed | High-traffic features, resource-intensive ops |\n| **Security** | Security controls | Auth, validation, sensitive data |\n\n### Coverage Goals\n\n**Minimum viable:**\n- Critical paths: 100%\n- Unit tests: 80%+\n- Integration tests: Major flows\n- E2E tests: Key user journeys\n\n**Project-specific:** Check AGENTS.md for requirements (may specify higher thresholds or specific test types).\n\n**Reference:** See k2-dev-reference.md#test-coverage-levels for standard thresholds.\n\n## Test Case Structure\n\n### Standard Format\n\n```markdown\n### TC-XXX: Test Case Title\n\n**Type:** Unit | Integration | E2E | Performance | Security\n**Priority:** Critical | High | Medium | Low\n\n**Preconditions:**\n- Required setup\n- Data state\n- Environment configuration\n\n**Test Steps:**\n1. Step one\n2. Step two\n3. Step three\n\n**Expected Result:**\n- What should happen\n- Expected output\n- Success criteria\n\n**Test Data:**\n- Input values\n- Mock data\n- Sample payloads\n```\n\n**Reference:** See k2-dev-reference.md#priority-levels for priority guidelines.\n\n### Priority Levels\n\n**Critical:** Security validations, data integrity checks, core business logic, payment processing, authentication\n**High:** Main user flows, API endpoints, data transformations, error handling\n**Medium:** Edge cases, secondary features, optional flows, UI variations\n**Low:** Nice-to-have features, rare edge cases, performance optimizations\n\n## Test Plan Document Structure\n\n```markdown\n# Test Plan: {ticket-id} - {title}\n\n## Scope\nWhat will be tested in this plan.\n\n## Test Strategy\n\n### Approach\n- Test types to be used\n- Testing tools and frameworks\n- Environment requirements\n\n### Coverage Goals\n- Target coverage percentages\n- Critical areas\n- Known gaps\n\n## Test Cases\n\n### Unit Tests\n\n#### TC-001: Validate Token Generation\n**Type:** Unit\n**Priority:** Critical\n**Preconditions:** JWT secret configured\n**Test Steps:**\n1. Call generateToken() with user ID\n2. Verify token is returned\n3. Decode token and check payload\n**Expected Result:** Valid JWT token with correct user ID and expiration\n**Test Data:** userID: 123\n\n[More test cases...]\n\n### Integration Tests\n\n#### TC-010: Login Flow End-to-End\n**Type:** Integration\n**Priority:** Critical\n**Preconditions:** Test user exists in database\n**Test Steps:**\n1. POST to /api/auth/login with credentials\n2. Verify 200 response\n3. Extract token from response\n4. Use token to access protected route\n**Expected Result:** Successful login with valid token\n**Test Data:**\n- username: \"test@example.com\"\n- password: \"Test123!\"\n\n[More test cases...]\n\n## Coverage Matrix\n\n| Requirement | Test Cases | Coverage |\n|-------------|------------|----------|\n| User can log in | TC-010, TC-011 | âœ… |\n| Token expires after 24h | TC-012, TC-013 | âœ… |\n| Invalid credentials rejected | TC-014, TC-015 | âœ… |\n\n## Testing Notes\n\n### Assumptions\n- Test database available\n- Environment variables configured\n- External services mocked\n\n### Risks\n- Flaky tests in CI\n- Timing-dependent tests\n\n### Dependencies\n- Jest testing framework\n- Supertest for API tests\n- Jest-extended matchers\n\n## Recommended Tools\n\n- **Framework:** Jest\n- **API Testing:** Supertest\n- **Mocking:** Jest mock functions\n- **Coverage:** Jest --coverage\n```\n\n## Creating Test Cases\n\n### Happy Path Tests\n\nTest the expected, successful flow:\n\n```markdown\n### TC-001: Successful User Login\n\n**Type:** Integration\n**Priority:** Critical\n\n**Preconditions:**\n- User exists: test@example.com / Test123!\n- Database seeded\n\n**Test Steps:**\n1. POST /api/auth/login\n   Body: { email: \"test@example.com\", password: \"Test123!\" }\n2. Verify response status 200\n3. Verify response contains token field\n4. Decode token and check user ID matches\n\n**Expected Result:**\n- Status: 200\n- Response: { success: true, token: \"eyJ...\", user: {...} }\n- Token valid and contains correct user ID\n\n**Test Data:**\n{\n  \"email\": \"test@example.com\",\n  \"password\": \"Test123!\"\n}\n```\n\n### Edge Case Tests\n\nTest boundary conditions:\n\n```markdown\n### TC-015: Login with Maximum Length Password\n\n**Type:** Integration\n**Priority:** Medium\n\n**Preconditions:**\n- User with 100-character password exists\n\n**Test Steps:**\n1. POST /api/auth/login with 100-char password\n2. Verify successful authentication\n\n**Expected Result:**\n- Status: 200\n- Authentication succeeds\n\n**Test Data:**\n- password: \"a\".repeat(100)\n```\n\n### Error Condition Tests\n\nTest failure scenarios:\n\n```markdown\n### TC-020: Login with Invalid Credentials\n\n**Type:** Integration\n**Priority:** High\n\n**Preconditions:**\n- User exists with different password\n\n**Test Steps:**\n1. POST /api/auth/login with wrong password\n2. Verify response status 401\n3. Verify error message\n\n**Expected Result:**\n- Status: 401\n- Response: { success: false, error: \"Invalid credentials\" }\n- No token returned\n\n**Test Data:**\n{\n  \"email\": \"test@example.com\",\n  \"password\": \"WrongPassword123!\"\n}\n```\n\n### Security Tests\n\nTest security requirements:\n\n```markdown\n### TC-030: Prevent SQL Injection in Login\n\n**Type:** Security\n**Priority:** Critical\n\n**Preconditions:**\n- Application running\n\n**Test Steps:**\n1. POST /api/auth/login with SQL injection payload\n2. Verify injection is prevented\n3. Verify appropriate error response\n\n**Expected Result:**\n- No SQL error exposed\n- Request rejected safely\n- Status: 400 or 401\n\n**Test Data:**\n{\n  \"email\": \"admin'--\",\n  \"password\": \"' OR '1'='1\"\n}\n```\n\n## Coverage Analysis\n\n### Building Coverage Matrix\n\nMap requirements to test cases:\n\n```markdown\n| Requirement | Test Cases | Status | Notes |\n|-------------|-----------|---------|-------|\n| REQ-001: User authentication | TC-001, TC-010, TC-020 | âœ… Covered | Happy path + errors |\n| REQ-002: Token expiration | TC-012, TC-013 | âœ… Covered | Unit + integration |\n| REQ-003: Password validation | TC-025, TC-026 | âš ï¸ Partial | Need edge cases |\n| REQ-004: Rate limiting | - | âŒ Not covered | Add TC-040 |\n```\n\n### Identifying Gaps\n\nCheck for:\n- Requirements without test cases\n- Features without error case tests\n- Security requirements without security tests\n- Edge cases not covered\n- Performance requirements not validated\n\n**Document gaps:**\n```markdown\n## Coverage Gaps\n\n### Critical Gaps\n- Rate limiting not tested â†’ Add TC-040, TC-041\n- Token refresh flow missing â†’ Add TC-050-053\n\n### Known Limitations\n- Load testing deferred to beads-456\n- Browser compatibility manual testing only\n```\n\n## Test Tools and Frameworks\n\n### Jest (JavaScript/TypeScript)\n\n**Unit tests:**\n```typescript\ndescribe('generateToken', () => {\n  it('should generate valid JWT token', () => {\n    const token = generateToken(123);\n    expect(token).toBeDefined();\n    expect(jwt.decode(token).userId).toBe(123);\n  });\n});\n```\n\n**Integration tests with Supertest:**\n```typescript\ndescribe('POST /api/auth/login', () => {\n  it('should return token on valid credentials', async () => {\n    const response = await request(app)\n      .post('/api/auth/login')\n      .send({ email: 'test@example.com', password: 'Test123!' })\n      .expect(200);\n\n    expect(response.body.token).toBeDefined();\n  });\n});\n```\n\n### pytest (Python)\n\n**Unit tests:**\n```python\ndef test_generate_token():\n    token = generate_token(user_id=123)\n    assert token is not None\n    assert decode_token(token)['user_id'] == 123\n```\n\n**Integration tests:**\n```python\ndef test_login_success(client):\n    response = client.post('/api/auth/login', json={\n        'email': 'test@example.com',\n        'password': 'Test123!'\n    })\n    assert response.status_code == 200\n    assert 'token' in response.json()\n```\n\n## Documenting Test Plan\n\n### In Beads Comments\n\nAdd test plan to task:\n\n```bash\nbd comments beads-123 add \"$(cat <<'EOF'\n# Test Plan: Authentication Implementation\n\n## Test Strategy\n- Unit tests for token generation and validation\n- Integration tests for login/logout flows\n- Security tests for injection and auth bypass\n\n## Test Cases\n[... test cases ...]\n\n## Coverage\n- Target: 90% (exceeds 80% requirement)\n- Critical paths: 100%\n\n## Tools\n- Jest + Supertest\n- Jest-extended matchers\nEOF\n)\"\n```\n\n**Reference:** See k2-dev-reference.md#beads-cli-commands for beads commands.\n\n### In Test Files\n\nReference test plan in code:\n\n```typescript\n/**\n * Authentication Tests\n *\n * Test Plan: See beads-123 comments\n * Coverage Goal: 90%\n *\n * Test Cases:\n * - TC-001: Token generation (Unit)\n * - TC-010: Login flow (Integration)\n * - TC-020: Invalid credentials (Integration)\n * - TC-030: SQL injection prevention (Security)\n */\n\ndescribe('Authentication', () => {\n  // Tests here\n});\n```\n\n## Test Implementation Order\n\n### Priority-Based\n\n1. **Critical tests first:** Security validations, core business logic, data integrity\n2. **High priority tests:** Main user flows, API endpoints, error handling\n3. **Medium/Low priority:** Edge cases, optional features, performance tests\n\n### Coverage-Driven\n\n1. **Establish baseline:** Write tests for existing code, reach minimum coverage threshold\n2. **Test new features:** TDD approach if preferred, write tests alongside implementation\n3. **Fill gaps:** Add missing edge cases, complete coverage matrix\n\n## Best Practices\n\n### DO\n\nâœ… **Be specific**\n- Exact test steps\n- Concrete expected results\n- Actual test data\n\nâœ… **Cover scenarios**\n- Happy path\n- Edge cases\n- Error conditions\n- Security\n\nâœ… **Prioritize tests**\n- Critical first\n- Ensure minimum coverage\n- Document gaps\n\nâœ… **Make tests implementable**\n- Clear enough to code directly\n- Include all necessary data\n- Specify tools and frameworks\n\n### DON'T\n\nâŒ **Don't be vague**\n```markdown\nTC-001: Test login\n- Test the login\n- It should work\n```\n\nâŒ **Don't skip error cases**\n- Only testing happy path\n- Ignoring validation\n\nâŒ **Don't ignore security**\n- No injection tests\n- No auth bypass tests\n- No input validation tests\n\nâŒ **Don't forget performance**\n- No load tests for critical paths\n- No response time validation\n\nCreate comprehensive, specific test plans to ensure quality and catch issues early in k2-dev development workflows.\n\n**Reference:** See k2-dev-reference.md for test types, coverage levels, and priority guidelines. For active test planning workflow, use the Tester skill."
              },
              {
                "name": "Test Planning",
                "description": "This skill should be used when the user needs to create comprehensive test plans, define test cases and coverage strategies, validate test completeness, analyze ticket requirements for testing needs, or document test strategies. The skill executes in the main conversation context and provides thorough test planning guidance without implementing tests.",
                "path": "skills/tester/SKILL.md",
                "frontmatter": {
                  "name": "Test Planning",
                  "description": "This skill should be used when the user needs to create comprehensive test plans, define test cases and coverage strategies, validate test completeness, analyze ticket requirements for testing needs, or document test strategies. The skill executes in the main conversation context and provides thorough test planning guidance without implementing tests.",
                  "version": "0.2.0"
                },
                "content": "# Test Planning Skill\n\n## Overview\n\nCreates structured test plans with specific test cases ensuring thorough coverage of functionality, edge cases, and error conditions. Executes in main conversation context for comprehensive, actionable test strategies.\n\n**Key Objectives:**\n- Analyze ticket requirements and implementation for testing needs\n- Define appropriate test strategy (unit, integration, e2e, performance, security)\n- Create specific, implementable test cases with full details\n- Ensure comprehensive coverage analysis\n- Document test plans in beads for implementation reference\n\n**Invoked when:** `/tester` or `/k2:test` command executed with ticket ID\n\n## Seven-Phase Test Planning Workflow\n\n### Phase 1: Context Gathering\n\n**1. Read Project Standards**\n```bash\nls -la AGENTS.md docs/constitution.md\ncat AGENTS.md\n```\nExtract: Testing standards, coverage requirements, quality gates, test patterns, frameworks, security requirements.\n\n**2. Read Beads Task Context**\n```bash\nbd show beads-{id}\nbd comments beads-{id}\n```\nIdentify: Task description, acceptance criteria (become test scenarios), implementation approach, special testing instructions, related tasks for integration testing.\n\n**3. Analyze Implementation** (if code exists)\n```bash\ngit log --oneline feature/beads-{id}\ngit diff main...feature/beads-{id}\nglob \"**/*.test.{js,ts,py}\"\nglob \"**/tests/**\"\nread {implementation_files}\nread {test_files}\n```\nUnderstand: Code structure, logic flow, integration points, existing test patterns, complex logic, error handling.\n\n### Phase 2: Define Test Strategy\n\n**Test Type Selection** (Reference: k2-dev-reference.md#test-types)\n\n| Test Type | When Required |\n|-----------|---------------|\n| **Unit** | Business logic, algorithms, data transformations, utilities |\n| **Integration** | API endpoints, database interactions, service integrations |\n| **E2E** | Critical user workflows, UI changes, multi-step journeys |\n| **Performance** | High-traffic features, resource-intensive operations |\n| **Security** | Auth, input validation, data handling, sensitive operations |\n| **Accessibility** | UI components (keyboard nav, screen readers, ARIA, contrast) |\n\n**Coverage Goals:**\n- Unit Test Coverage: {from AGENTS.md or 80% default}\n- Requirements Coverage: 100%\n- Critical Path Coverage: All critical paths\n- Edge Case Coverage: All identified edge cases\n- Error Condition Coverage: All error paths\n\n**Testing Tools:** Identify from existing project setup (Jest, pytest, Cypress, etc.)\n\n### Phase 3: Design Test Cases\n\n**Test Case Structure:**\n```markdown\n### TC-XXX: {Clear Scenario Name}\n**Type**: Unit|Integration|E2E|Performance|Security|Accessibility\n**Priority**: Critical|High|Medium|Low\n**Preconditions**: {Setup required}\n**Test Steps**:\n1. {Specific action}\n2. {Specific action}\n**Expected Result**: {Specific, measurable outcome}\n**Test Data**: {Input values}\n**Notes**: {Implementation guidance}\n```\n\n**Required Test Categories:**\n\n1. **Happy Path** (CRITICAL - Always include)\n   - Primary successful user flow\n   - All main functionality from requirements\n   - Verify acceptance criteria met\n   - Realistic, valid input data\n   - Priority: Critical or High\n\n2. **Edge Cases** (IMPORTANT)\n   - Boundary values (min, max, zero, empty)\n   - Unusual but valid inputs\n   - Extreme data volumes\n   - Concurrent operations\n   - Timing-dependent scenarios\n   - Priority: High or Medium\n\n3. **Error Conditions** (IMPORTANT)\n   - Invalid inputs (wrong type, format, range)\n   - Missing required data\n   - Auth/authorization failures\n   - Network failures/timeouts\n   - Resource exhaustion\n   - Malformed data\n   - Priority: High or Medium\n\n4. **Security Tests** (if applicable)\n   - Input validation/sanitization\n   - SQL injection, XSS, CSRF prevention\n   - Auth bypass attempts\n   - Authorization boundary testing\n   - Sensitive data exposure checks\n   - Priority: Critical or High\n\n5. **Performance Tests** (if applicable)\n   - Load testing (expected load)\n   - Stress testing (peak load)\n   - Response time validation\n   - Resource usage monitoring\n   - Priority: Medium or High\n\n6. **Accessibility Tests** (for UI)\n   - Keyboard navigation (Tab, Enter, Esc)\n   - Screen reader compatibility\n   - ARIA labels correctness\n   - Color contrast validation\n   - Focus management\n   - Priority: Medium or High\n\n### Phase 4: Coverage Analysis\n\n**1. Requirements Coverage Matrix**\n```markdown\n| Requirement/Acceptance Criteria | Test Cases | Status |\n|---------------------------------|------------|--------|\n| User can log in with email | TC-001, TC-002 | âœ… Covered |\n| Token expires after 24h | TC-003, TC-004 | âœ… Covered |\n| Invalid credentials rejected | TC-005, TC-006 | âœ… Covered |\n| Rate limiting applied | TC-007 | âš ï¸ Partial - Need TC-008 |\n```\n\n**2. Code Coverage Analysis** (if implementation exists)\n- Identify uncovered code paths\n- Note complex functions without sufficient tests\n- Flag error handling paths without tests\n- Ensure all public APIs have coverage\n\n**3. Gap Documentation**\n```markdown\n## Coverage Gaps\n- **Gap**: {Description}\n  - **Risk**: High|Medium|Low\n  - **Recommendation**: {Action}\n```\n\n### Phase 5: Create Test Plan Document\n\n```markdown\n# Test Plan: beads-{id} - {Title}\n\n## Executive Summary\n{Brief overview}\n\n## Test Strategy\n\n### Scope\n**In Scope**: {What will be tested}\n**Out of Scope**: {What won't be tested + rationale}\n\n### Test Types and Approach\n- **Unit Tests**: {approach + coverage goal}\n- **Integration Tests**: {approach + coverage goal}\n- **E2E Tests**: {approach + coverage goal}\n- **Performance/Security**: {if applicable}\n\n### Coverage Goals\n- Unit: {percentage}, Requirements: 100%, Edge Cases: {description}, Errors: {description}\n\n### Tools\n- Framework: {e.g., Jest, pytest}\n- Mocking: {library}\n- Utilities: {tools}\n\n## Test Cases\n\n### Unit Tests\n#### TC-001: {Scenario}\n{Full test case details}\n\n### Integration Tests\n#### TC-010: {Scenario}\n{Full test case details}\n\n### Coverage Matrix\n{Requirements coverage table}\n\n## Test Data Requirements\n{Test data, setup/teardown, fixtures}\n\n## Risk Assessment\n| Risk | Likelihood | Impact | Mitigation |\n|------|------------|--------|------------|\n| {risk} | H/M/L | H/M/L | {strategy} |\n\n## Coverage Gaps and Recommendations\n{Identified gaps with risk}\n\n## Success Criteria\n- [ ] All Critical/High tests pass\n- [ ] Coverage goals met\n- [ ] No P0 security vulnerabilities\n- [ ] Performance requirements met (if applicable)\n```\n\n### Phase 6: Document in Beads\n\n```bash\nbd comments beads-{id} add \"$(cat <<'EOF'\n# Test Plan Created - {date}\n\n{Full test plan content}\n\n---\n**Created by**: Test Planning skill\n**Date**: {timestamp}\n**Implementation Status**: Pending\nEOF\n)\"\n```\n\n### Phase 7: Generate Final Report\n\n```markdown\n## Test Planning Complete: beads-{id}\n\n### Test Plan Summary\n- **Total Test Cases**: {count}\n  - Critical: {count}, High: {count}, Medium: {count}, Low: {count}\n\n### Test Types\n- Unit: {count}, Integration: {count}, E2E: {count}, Performance: {count}, Security: {count}\n\n### Coverage Analysis\n- Requirements: {percentage or \"100%\"}\n- Happy Path: {count}, Edge Cases: {count}, Error Conditions: {count}\n\n### Test Plan Location\nAdded as comment to beads-{id}\n\n### Key Testing Considerations\n- {Important note 1}\n- {Important note 2}\n\n### Coverage Gaps (if any)\n- {Gap with risk + recommendation}\n\n### Recommended Tools\n- Framework: {name}\n- Additional: {tools}\n\n### Next Steps\nTest plan documented in beads comments. Engineer can implement tests from this plan.\n```\n\n## Priority Guidelines\n\nReference: k2-dev-reference.md#priority-levels\n\n**Critical:** Core functionality, security, data integrity (auth flows, payment processing, data validation)\n**High:** Important features, major edge cases, error handling (API endpoints, user flows, error conditions)\n**Medium:** Secondary features, less common edge cases (optional features, rare edge cases)\n**Low:** Cosmetic issues, very rare edge cases (UI polish, future enhancements)\n\n## Best Practices\n\n### DO\nâœ… Be comprehensive - happy path, edge cases, error conditions\nâœ… Be specific - exact steps, concrete results, actual test data\nâœ… Prioritize tests - critical first, risk-based approach\nâœ… Make tests implementable - clear enough to code directly\n\n### DON'T\nâŒ Be vague (\"TC-001: Test login. Test the login. It should work.\")\nâŒ Skip error cases - only testing happy path\nâŒ Ignore security - no injection/auth bypass/validation tests\nâŒ Forget edge cases - boundaries, empty/null, concurrent operations\n\n## Error Handling\n\n**Missing Standards:** Use industry best practices, default 80% coverage, note absence, recommend AGENTS.md\n**Unclear Requirements:** Review thoroughly, analyze implementation, make documented assumptions\n**No Existing Tests:** Search thoroughly, note absence, recommend framework, create fresh plan\n**Incomplete Implementation:** Focus on planned functionality, note gaps, ensure plan covers full requirements\n\n## Success Criteria\n\nTest planning complete when:\n- âœ… Test strategy documented\n- âœ… Test cases defined with full details\n- âœ… Coverage analysis complete\n- âœ… Test plan added as beads comment\n- âœ… Summary report provided\n- âœ… Gaps identified and assessed\n- âœ… Recommended tools documented\n- âœ… Implementation guidance provided\n\n**Reference:** See k2-dev-reference.md for commands, coverage levels, test types, and common patterns."
              }
            ]
          }
        ]
      }
    }
  ]
}