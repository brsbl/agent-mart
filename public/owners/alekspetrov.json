{
  "owner": {
    "id": "alekspetrov",
    "display_name": "Aleks Petrov",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/5360806?u=830c92208549ab5a7834a2f460f06eea6720c9f9&v=4",
    "url": "https://github.com/alekspetrov",
    "bio": "AI addicted vibe coder.",
    "stats": {
      "total_repos": 1,
      "total_plugins": 1,
      "total_commands": 0,
      "total_skills": 19,
      "total_stars": 50,
      "total_forks": 4
    }
  },
  "repos": [
    {
      "full_name": "alekspetrov/navigator",
      "url": "https://github.com/alekspetrov/navigator",
      "description": "Just-in-Time Documentation workflow for Claude Code. Reduces token usage ~92% + useful docs features.",
      "homepage": null,
      "signals": {
        "stars": 50,
        "forks": 4,
        "pushed_at": "2025-12-09T10:48:49Z",
        "created_at": "2025-10-10T12:35:30Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".agent",
          "type": "tree",
          "size": null
        },
        {
          "path": ".agent/.nav-config.json",
          "type": "blob",
          "size": 174
        },
        {
          "path": ".agent/DEVELOPMENT-README.md",
          "type": "blob",
          "size": 30111
        },
        {
          "path": ".agent/design-system",
          "type": "tree",
          "size": null
        },
        {
          "path": ".agent/design-system/figma-mcp-integration-report.md",
          "type": "blob",
          "size": 39987
        },
        {
          "path": ".agent/design-system/implementation-summary.md",
          "type": "blob",
          "size": 11820
        },
        {
          "path": ".agent/design-system/mcp-sdk-summary.md",
          "type": "blob",
          "size": 8648
        },
        {
          "path": ".agent/examples",
          "type": "tree",
          "size": null
        },
        {
          "path": ".agent/examples/5-MIN-DESIGN-REVIEW.md",
          "type": "blob",
          "size": 14606
        },
        {
          "path": ".agent/examples/FEATURE-IN-3-STEPS.md",
          "type": "blob",
          "size": 8034
        },
        {
          "path": ".agent/examples/ZERO-CONTEXT-RESTART.md",
          "type": "blob",
          "size": 9710
        },
        {
          "path": ".agent/grafana",
          "type": "tree",
          "size": null
        },
        {
          "path": ".agent/grafana/README.md",
          "type": "blob",
          "size": 7556
        },
        {
          "path": ".agent/grafana/dashboard-screenshot.jpg",
          "type": "blob",
          "size": 574203
        },
        {
          "path": ".agent/grafana/docker-compose.yml",
          "type": "blob",
          "size": 1449
        },
        {
          "path": ".agent/grafana/grafana-dashboards.yml",
          "type": "blob",
          "size": 210
        },
        {
          "path": ".agent/grafana/grafana-datasource.yml",
          "type": "blob",
          "size": 179
        },
        {
          "path": ".agent/grafana/navigator-dashboard.json",
          "type": "blob",
          "size": 24489
        },
        {
          "path": ".agent/grafana/prometheus.yml",
          "type": "blob",
          "size": 398
        },
        {
          "path": ".agent/learning",
          "type": "tree",
          "size": null
        },
        {
          "path": ".agent/learning/CONTEXT-BUDGETS.md",
          "type": "blob",
          "size": 13330
        },
        {
          "path": ".agent/learning/PREPROCESSING-VS-LLM.md",
          "type": "blob",
          "size": 18469
        },
        {
          "path": ".agent/learning/PROGRESSIVE-REFINEMENT.md",
          "type": "blob",
          "size": 16669
        },
        {
          "path": ".agent/learning/TOKEN-OPTIMIZATION.md",
          "type": "blob",
          "size": 21333
        },
        {
          "path": ".agent/learning/examples",
          "type": "tree",
          "size": null
        },
        {
          "path": ".agent/learning/examples/TRY-THIS-AGENT-SEARCH.md",
          "type": "blob",
          "size": 13368
        },
        {
          "path": ".agent/learning/examples/TRY-THIS-LAZY-LOADING.md",
          "type": "blob",
          "size": 9626
        },
        {
          "path": ".agent/learning/examples/TRY-THIS-MARKERS.md",
          "type": "blob",
          "size": 14316
        },
        {
          "path": ".agent/learning/frameworks",
          "type": "tree",
          "size": null
        },
        {
          "path": ".agent/learning/frameworks/AGENT-VS-MANUAL.md",
          "type": "blob",
          "size": 13003
        },
        {
          "path": ".agent/learning/frameworks/PREPROCESSING-DECISION-TREE.md",
          "type": "blob",
          "size": 15800
        },
        {
          "path": ".agent/learning/frameworks/WHEN-TO-COMPACT.md",
          "type": "blob",
          "size": 10995
        },
        {
          "path": ".agent/markers",
          "type": "tree",
          "size": null
        },
        {
          "path": ".agent/markers/2025-01-20-grafana-dashboard-fixes.md",
          "type": "blob",
          "size": 4140
        },
        {
          "path": ".agent/philosophy",
          "type": "tree",
          "size": null
        },
        {
          "path": ".agent/philosophy/ANTI-PATTERNS.md",
          "type": "blob",
          "size": 17546
        },
        {
          "path": ".agent/philosophy/CONTEXT-EFFICIENCY.md",
          "type": "blob",
          "size": 14615
        },
        {
          "path": ".agent/philosophy/PATTERNS.md",
          "type": "blob",
          "size": 18589
        },
        {
          "path": ".agent/sops",
          "type": "tree",
          "size": null
        },
        {
          "path": ".agent/sops/debugging",
          "type": "tree",
          "size": null
        },
        {
          "path": ".agent/sops/debugging/.gitkeep",
          "type": "blob",
          "size": null
        },
        {
          "path": ".agent/sops/debugging/grafana-dashboard-empty-data.md",
          "type": "blob",
          "size": 5941
        },
        {
          "path": ".agent/sops/deployment",
          "type": "tree",
          "size": null
        },
        {
          "path": ".agent/sops/deployment/.gitkeep",
          "type": "blob",
          "size": null
        },
        {
          "path": ".agent/sops/development",
          "type": "tree",
          "size": null
        },
        {
          "path": ".agent/sops/development/.gitkeep",
          "type": "blob",
          "size": null
        },
        {
          "path": ".agent/sops/development/autonomous-completion.md",
          "type": "blob",
          "size": 6191
        },
        {
          "path": ".agent/sops/development/complete-release-workflow.md",
          "type": "blob",
          "size": 17624
        },
        {
          "path": ".agent/sops/development/multi-claude-orchestration.md",
          "type": "blob",
          "size": 14094
        },
        {
          "path": ".agent/sops/development/multi-claude-troubleshooting.md",
          "type": "blob",
          "size": 11053
        },
        {
          "path": ".agent/sops/development/navigator-plugin-release-workflow.md",
          "type": "blob",
          "size": 11531
        },
        {
          "path": ".agent/sops/development/plugin-release-workflow.md",
          "type": "blob",
          "size": 10354
        },
        {
          "path": ".agent/sops/development/version-management.md",
          "type": "blob",
          "size": 11727
        },
        {
          "path": ".agent/sops/integrations",
          "type": "tree",
          "size": null
        },
        {
          "path": ".agent/sops/integrations/.gitkeep",
          "type": "blob",
          "size": null
        },
        {
          "path": ".agent/sops/integrations/opentelemetry-setup.md",
          "type": "blob",
          "size": 10878
        },
        {
          "path": ".agent/sops/testing",
          "type": "tree",
          "size": null
        },
        {
          "path": ".agent/sops/testing/visual-regression-setup.md",
          "type": "blob",
          "size": 8129
        },
        {
          "path": ".agent/system",
          "type": "tree",
          "size": null
        },
        {
          "path": ".agent/system/plugin-patterns.md",
          "type": "blob",
          "size": 8876
        },
        {
          "path": ".agent/system/project-architecture.md",
          "type": "blob",
          "size": 7926
        },
        {
          "path": ".agent/tasks",
          "type": "tree",
          "size": null
        },
        {
          "path": ".agent/tasks/.gitkeep",
          "type": "blob",
          "size": null
        },
        {
          "path": ".agent/tasks/TASK-01-session-start-pm-integration.md",
          "type": "blob",
          "size": 10202
        },
        {
          "path": ".agent/tasks/TASK-02-readme-markers-v1.4.0.md",
          "type": "blob",
          "size": 8410
        },
        {
          "path": ".agent/tasks/TASK-03-markers-management-auto-resume.md",
          "type": "blob",
          "size": 10099
        },
        {
          "path": ".agent/tasks/TASK-04-version-sync-release-process.md",
          "type": "blob",
          "size": 14674
        },
        {
          "path": ".agent/tasks/TASK-05-landing-page-content.md",
          "type": "blob",
          "size": 1874
        },
        {
          "path": ".agent/tasks/TASK-06-session-statistics.md",
          "type": "blob",
          "size": 9364
        },
        {
          "path": ".agent/tasks/TASK-10-project-skills-v2.2.md",
          "type": "blob",
          "size": 12242
        },
        {
          "path": ".agent/tasks/TASK-11-project-skills-generation-v2.3.md",
          "type": "blob",
          "size": 14627
        },
        {
          "path": ".agent/tasks/TASK-12-v3.0-skills-only.md",
          "type": "blob",
          "size": 12273
        },
        {
          "path": ".agent/tasks/TASK-13-web-documentation-site.md",
          "type": "blob",
          "size": 20674
        },
        {
          "path": ".agent/tasks/TASK-15-marketing-community-adoption.md",
          "type": "blob",
          "size": 22064
        },
        {
          "path": ".agent/tasks/TASK-16-product-design-skill.md",
          "type": "blob",
          "size": 23166
        },
        {
          "path": ".agent/tasks/TASK-17-visual-regression-skill.md",
          "type": "blob",
          "size": 14310
        },
        {
          "path": ".agent/tasks/TASK-18-CORRECTIONS.md",
          "type": "blob",
          "size": 13147
        },
        {
          "path": ".agent/tasks/TASK-18-PITCH.md",
          "type": "blob",
          "size": 13768
        },
        {
          "path": ".agent/tasks/TASK-18-README.md",
          "type": "blob",
          "size": 10929
        },
        {
          "path": ".agent/tasks/TASK-18-VERIFICATION.md",
          "type": "blob",
          "size": 11546
        },
        {
          "path": ".agent/tasks/TASK-18-VISUAL-SUMMARY.md",
          "type": "blob",
          "size": 28121
        },
        {
          "path": ".agent/tasks/TASK-18-principle-to-product-v3.5.md",
          "type": "blob",
          "size": 18661
        },
        {
          "path": ".agent/tasks/TASK-19-multi-claude-agentic-workflow.md",
          "type": "blob",
          "size": 43918
        },
        {
          "path": ".agent/tasks/TASK-19-multi-claude-workflow-learnings.md",
          "type": "blob",
          "size": 11690
        },
        {
          "path": ".agent/tasks/TASK-22-simple-console-logger.md",
          "type": "blob",
          "size": 1051
        },
        {
          "path": ".agent/tasks/TASK-22-simple-console-logger.md.bak",
          "type": "blob",
          "size": 1048
        },
        {
          "path": ".agent/tasks/TASK-25-fix-multi-claude-reliability.md",
          "type": "blob",
          "size": 14045
        },
        {
          "path": ".agent/tasks/TASK-26-plugin-optimization-roadmap.md",
          "type": "blob",
          "size": 3674
        },
        {
          "path": ".agent/tasks/TASK-27-interactive-onboarding.md",
          "type": "blob",
          "size": 10822
        },
        {
          "path": ".agent/tasks/TASK-example.md",
          "type": "blob",
          "size": 329
        },
        {
          "path": ".agent/tasks/VIDEO-PRODUCTION-PLAN.md",
          "type": "blob",
          "size": 10985
        },
        {
          "path": ".agent/tasks/archive",
          "type": "tree",
          "size": null
        },
        {
          "path": ".agent/tasks/archive/TASK-05-autonomous-completion.md",
          "type": "blob",
          "size": 16084
        },
        {
          "path": ".agent/tasks/archive/TASK-07-skills-migration.md",
          "type": "blob",
          "size": 15195
        },
        {
          "path": ".agent/tasks/archive/TASK-08-skills-enhancements-v2.1.md",
          "type": "blob",
          "size": 27847
        },
        {
          "path": ".agent/tasks/archive/TASK-09-migration-system.md",
          "type": "blob",
          "size": 21335
        },
        {
          "path": ".agent/tasks/archive/TASK-13-otel-session-statistics.md",
          "type": "blob",
          "size": 18834
        },
        {
          "path": ".agent/tasks/archive/TASK-14-claude-md-updater.md",
          "type": "blob",
          "size": 9184
        },
        {
          "path": ".agent/tasks/archive/TASK-14-documentation-consolidation.md",
          "type": "blob",
          "size": 13867
        },
        {
          "path": ".agent/tasks/poc-1762086614-plan.md",
          "type": "blob",
          "size": 8905
        },
        {
          "path": ".agent/tasks/poc-1762086614-review.md",
          "type": "blob",
          "size": 12482
        },
        {
          "path": ".agent/tasks/task-22-simple-console-logger-1761948433-docs-done",
          "type": "blob",
          "size": null
        },
        {
          "path": ".agent/tasks/task-22-simple-console-logger-1761948433-done",
          "type": "blob",
          "size": null
        },
        {
          "path": ".agent/tasks/task-22-simple-console-logger-1761948433-plan.md",
          "type": "blob",
          "size": 8699
        },
        {
          "path": ".agent/tasks/task-22-simple-console-logger-1761948433-review-done",
          "type": "blob",
          "size": null
        },
        {
          "path": ".agent/tasks/task-22-simple-console-logger-1761948433-review-report.md",
          "type": "blob",
          "size": 19673
        },
        {
          "path": ".agent/tasks/task-22-simple-console-logger-1761948433-tests-done",
          "type": "blob",
          "size": null
        },
        {
          "path": ".agent/tasks/tickets",
          "type": "tree",
          "size": null
        },
        {
          "path": ".agent/tasks/tickets/TASK-18.1-philosophy-documentation.md",
          "type": "blob",
          "size": 8538
        },
        {
          "path": ".agent/tasks/tickets/TASK-18.2-narrative-rewrite.md",
          "type": "blob",
          "size": 15307
        },
        {
          "path": ".agent/tasks/tickets/TASK-18.3-metrics-enhancement.md",
          "type": "blob",
          "size": 13588
        },
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/README.md",
          "type": "blob",
          "size": 7249
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 1927
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 1562
        },
        {
          "path": ".claude",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/settings.json",
          "type": "blob",
          "size": 274
        },
        {
          "path": ".claude/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/test-marker.md",
          "type": "blob",
          "size": 503
        },
        {
          "path": ".context-markers",
          "type": "tree",
          "size": null
        },
        {
          "path": ".context-markers/.active",
          "type": "blob",
          "size": 27
        },
        {
          "path": ".context-markers/v3.2.0-release-complete.md",
          "type": "blob",
          "size": 5424
        },
        {
          "path": ".context-markers/v3.5.0-phase-2-complete.md",
          "type": "blob",
          "size": 6205
        },
        {
          "path": ".context-markers/v4.0.0-release-complete.md",
          "type": "blob",
          "size": 6977
        },
        {
          "path": ".github",
          "type": "tree",
          "size": null
        },
        {
          "path": ".github/workflows",
          "type": "tree",
          "size": null
        },
        {
          "path": ".github/workflows/release.yml",
          "type": "blob",
          "size": 2906
        },
        {
          "path": ".gitignore",
          "type": "blob",
          "size": 782
        },
        {
          "path": "ARCHITECTURE-DIAGRAMS.md",
          "type": "blob",
          "size": 40409
        },
        {
          "path": "ARCHITECTURE.md",
          "type": "blob",
          "size": 15322
        },
        {
          "path": "CLAUDE.md",
          "type": "blob",
          "size": 10819
        },
        {
          "path": "INSTALL-v4.5.0.md",
          "type": "blob",
          "size": 6318
        },
        {
          "path": "MIGRATION.md",
          "type": "blob",
          "size": 10044
        },
        {
          "path": "PERFORMANCE.md",
          "type": "blob",
          "size": 17024
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 28204
        },
        {
          "path": "RELEASE-NOTES-v3.1.0.md",
          "type": "blob",
          "size": 7263
        },
        {
          "path": "RELEASE-NOTES-v3.2.0.md",
          "type": "blob",
          "size": 14247
        },
        {
          "path": "RELEASE-NOTES-v3.3.0.md",
          "type": "blob",
          "size": 10646
        },
        {
          "path": "RELEASE-NOTES-v3.3.1.md",
          "type": "blob",
          "size": 8672
        },
        {
          "path": "RELEASE-NOTES-v3.4.0.md",
          "type": "blob",
          "size": 8398
        },
        {
          "path": "RELEASE-NOTES-v4.0.0.md",
          "type": "blob",
          "size": 9935
        },
        {
          "path": "RELEASE-NOTES-v4.3.0.md",
          "type": "blob",
          "size": 7943
        },
        {
          "path": "RELEASE-NOTES-v4.3.1.md",
          "type": "blob",
          "size": 8041
        },
        {
          "path": "RELEASE-NOTES-v4.5.0.md",
          "type": "blob",
          "size": 10914
        },
        {
          "path": "RELEASE-NOTES-v4.6.0.md",
          "type": "blob",
          "size": 5000
        },
        {
          "path": "RELEASE-NOTES-v4.7.0.md",
          "type": "blob",
          "size": 6778
        },
        {
          "path": "SECURITY.md",
          "type": "blob",
          "size": 2206
        },
        {
          "path": "UPGRADE-v3.4.0.md",
          "type": "blob",
          "size": 4447
        },
        {
          "path": "UPGRADE-v4.0.0.md",
          "type": "blob",
          "size": 7888
        },
        {
          "path": "agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "agents/navigator-research.md",
          "type": "blob",
          "size": 2485
        },
        {
          "path": "agents/task-planner.md",
          "type": "blob",
          "size": 3120
        },
        {
          "path": "docs",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/CONFIGURATION.md",
          "type": "blob",
          "size": 10524
        },
        {
          "path": "docs/DEPLOYMENT.md",
          "type": "blob",
          "size": 15894
        },
        {
          "path": "docs/GRAFANA-DASHBOARD.md",
          "type": "blob",
          "size": 7480
        },
        {
          "path": "docs/PITCH.md",
          "type": "blob",
          "size": 15234
        },
        {
          "path": "docs/QUICK-START.md",
          "type": "blob",
          "size": 8531
        },
        {
          "path": "docs/UPGRADE-GUIDE-v3.3.0.md",
          "type": "blob",
          "size": 9664
        },
        {
          "path": "docs/VERSION-CHECK.md",
          "type": "blob",
          "size": 5705
        },
        {
          "path": "docs/dashboard-screenshot.jpg",
          "type": "blob",
          "size": 207550
        },
        {
          "path": "examples",
          "type": "tree",
          "size": null
        },
        {
          "path": "examples/nextjs-saas",
          "type": "tree",
          "size": null
        },
        {
          "path": "examples/nextjs-saas/.agent",
          "type": "tree",
          "size": null
        },
        {
          "path": "examples/nextjs-saas/.agent/.nav-config.json",
          "type": "blob",
          "size": 174
        },
        {
          "path": "examples/nextjs-saas/.agent/DEVELOPMENT-README.md",
          "type": "blob",
          "size": 11208
        },
        {
          "path": "examples/nextjs-saas/.agent/sops",
          "type": "tree",
          "size": null
        },
        {
          "path": "examples/nextjs-saas/.agent/sops/development",
          "type": "tree",
          "size": null
        },
        {
          "path": "examples/nextjs-saas/.agent/sops/development/adding-protected-routes.md",
          "type": "blob",
          "size": 9297
        },
        {
          "path": "examples/nextjs-saas/.agent/sops/integrations",
          "type": "tree",
          "size": null
        },
        {
          "path": "examples/nextjs-saas/.agent/sops/integrations/stripe-webhooks.md",
          "type": "blob",
          "size": 13491
        },
        {
          "path": "examples/nextjs-saas/.agent/system",
          "type": "tree",
          "size": null
        },
        {
          "path": "examples/nextjs-saas/.agent/system/project-architecture.md",
          "type": "blob",
          "size": 16015
        },
        {
          "path": "examples/nextjs-saas/.agent/tasks",
          "type": "tree",
          "size": null
        },
        {
          "path": "examples/nextjs-saas/.agent/tasks/TASK-01-auth-setup.md",
          "type": "blob",
          "size": 14025
        },
        {
          "path": "examples/nextjs-saas/.agent/tasks/TASK-04-stripe-integration.md",
          "type": "blob",
          "size": 14708
        },
        {
          "path": "examples/nextjs-saas/.gitignore",
          "type": "blob",
          "size": 370
        },
        {
          "path": "examples/nextjs-saas/CLAUDE.md",
          "type": "blob",
          "size": 7933
        },
        {
          "path": "examples/nextjs-saas/README.md",
          "type": "blob",
          "size": 4915
        },
        {
          "path": "examples/nextjs-saas/SUMMARY.md",
          "type": "blob",
          "size": 10806
        },
        {
          "path": "examples/nextjs-saas/stack-choices.md",
          "type": "blob",
          "size": 6811
        },
        {
          "path": "examples/nextjs-saas/version-note.md",
          "type": "blob",
          "size": 3104
        },
        {
          "path": "hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "hooks/monitor-tokens.py",
          "type": "blob",
          "size": 3867
        },
        {
          "path": "jest.config.js",
          "type": "blob",
          "size": 303
        },
        {
          "path": "scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "scripts/POC-LEARNINGS.md",
          "type": "blob",
          "size": 5741
        },
        {
          "path": "scripts/check-version.sh",
          "type": "blob",
          "size": 3831
        },
        {
          "path": "scripts/install-multi-claude.sh",
          "type": "blob",
          "size": 5066
        },
        {
          "path": "scripts/migrate-config.sh",
          "type": "blob",
          "size": 3466
        },
        {
          "path": "scripts/navigator-multi-claude-poc.sh",
          "type": "blob",
          "size": 9892
        },
        {
          "path": "scripts/navigator-multi-claude.sh",
          "type": "blob",
          "size": 21423
        },
        {
          "path": "scripts/post-install.sh",
          "type": "blob",
          "size": 5802
        },
        {
          "path": "scripts/resume-workflow.sh",
          "type": "blob",
          "size": 5355
        },
        {
          "path": "scripts/session-stats.sh",
          "type": "blob",
          "size": 5404
        },
        {
          "path": "scripts/simple-poc.sh",
          "type": "blob",
          "size": 1151
        },
        {
          "path": "scripts/sub-claude-monitor.sh",
          "type": "blob",
          "size": 3478
        },
        {
          "path": "scripts/test-json.sh",
          "type": "blob",
          "size": 451
        },
        {
          "path": "skills-local",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills-local/social-media-post",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills-local/social-media-post/SKILL.md",
          "type": "blob",
          "size": 14976
        },
        {
          "path": "skills-local/social-media-post/functions",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills-local/social-media-post/functions/post_analyzer.py",
          "type": "blob",
          "size": 6094
        },
        {
          "path": "skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/backend-endpoint",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/backend-endpoint/SKILL.md",
          "type": "blob",
          "size": 11087
        },
        {
          "path": "skills/backend-endpoint/examples",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/backend-endpoint/examples/users-get.ts",
          "type": "blob",
          "size": 1039
        },
        {
          "path": "skills/backend-endpoint/examples/users-post.ts",
          "type": "blob",
          "size": 1290
        },
        {
          "path": "skills/backend-endpoint/functions",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/backend-endpoint/functions/endpoint_generator.py",
          "type": "blob",
          "size": 4087
        },
        {
          "path": "skills/backend-endpoint/functions/route_validator.py",
          "type": "blob",
          "size": 4574
        },
        {
          "path": "skills/backend-endpoint/functions/validation_generator.py",
          "type": "blob",
          "size": 3680
        },
        {
          "path": "skills/backend-endpoint/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/backend-endpoint/templates/endpoint-test-template.spec.ts",
          "type": "blob",
          "size": 132
        },
        {
          "path": "skills/backend-endpoint/templates/express-route-template.ts",
          "type": "blob",
          "size": 701
        },
        {
          "path": "skills/backend-test",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/backend-test/SKILL.md",
          "type": "blob",
          "size": 952
        },
        {
          "path": "skills/database-migration",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/database-migration/SKILL.md",
          "type": "blob",
          "size": 1063
        },
        {
          "path": "skills/frontend-component",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/frontend-component/SKILL.md",
          "type": "blob",
          "size": 11733
        },
        {
          "path": "skills/frontend-component/examples",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/frontend-component/examples/Button.tsx",
          "type": "blob",
          "size": 817
        },
        {
          "path": "skills/frontend-component/examples/SearchBar.tsx",
          "type": "blob",
          "size": 1195
        },
        {
          "path": "skills/frontend-component/functions",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/frontend-component/functions/component_generator.py",
          "type": "blob",
          "size": 2985
        },
        {
          "path": "skills/frontend-component/functions/name_validator.py",
          "type": "blob",
          "size": 3541
        },
        {
          "path": "skills/frontend-component/functions/props_interface_generator.py",
          "type": "blob",
          "size": 3866
        },
        {
          "path": "skills/frontend-component/functions/style_generator.py",
          "type": "blob",
          "size": 2595
        },
        {
          "path": "skills/frontend-component/functions/test_generator.py",
          "type": "blob",
          "size": 3008
        },
        {
          "path": "skills/frontend-component/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/frontend-component/templates/component-simple-template.tsx",
          "type": "blob",
          "size": 331
        },
        {
          "path": "skills/frontend-component/templates/style-template.module.css",
          "type": "blob",
          "size": 165
        },
        {
          "path": "skills/frontend-component/templates/test-template.test.tsx",
          "type": "blob",
          "size": 195
        },
        {
          "path": "skills/frontend-test",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/frontend-test/SKILL.md",
          "type": "blob",
          "size": 1043
        },
        {
          "path": "skills/nav-compact",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-compact/SKILL.md",
          "type": "blob",
          "size": 7510
        },
        {
          "path": "skills/nav-init",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-init/SKILL.md",
          "type": "blob",
          "size": 8903
        },
        {
          "path": "skills/nav-init/functions",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-init/functions/project_detector.py",
          "type": "blob",
          "size": 7900
        },
        {
          "path": "skills/nav-init/functions/template_customizer.py",
          "type": "blob",
          "size": 3035
        },
        {
          "path": "skills/nav-install-multi-claude",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-install-multi-claude/SKILL.md",
          "type": "blob",
          "size": 10075
        },
        {
          "path": "skills/nav-marker",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-marker/SKILL.md",
          "type": "blob",
          "size": 7281
        },
        {
          "path": "skills/nav-marker/functions",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-marker/functions/marker_compressor.py",
          "type": "blob",
          "size": 2945
        },
        {
          "path": "skills/nav-onboard",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-onboard/SKILL.md",
          "type": "blob",
          "size": 13092
        },
        {
          "path": "skills/nav-onboard/functions",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-onboard/functions/progress_tracker.py",
          "type": "blob",
          "size": 10282
        },
        {
          "path": "skills/nav-onboard/functions/project_analyzer.py",
          "type": "blob",
          "size": 12807
        },
        {
          "path": "skills/nav-onboard/functions/skill_recommender.py",
          "type": "blob",
          "size": 11240
        },
        {
          "path": "skills/nav-onboard/functions/task_validator.py",
          "type": "blob",
          "size": 13336
        },
        {
          "path": "skills/nav-onboard/functions/workflow_generator.py",
          "type": "blob",
          "size": 14474
        },
        {
          "path": "skills/nav-onboard/learning-tasks",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-onboard/learning-tasks/01-nav-start.md",
          "type": "blob",
          "size": 1924
        },
        {
          "path": "skills/nav-onboard/learning-tasks/02-nav-marker.md",
          "type": "blob",
          "size": 1941
        },
        {
          "path": "skills/nav-onboard/learning-tasks/03-nav-task.md",
          "type": "blob",
          "size": 2399
        },
        {
          "path": "skills/nav-onboard/learning-tasks/04-nav-sop.md",
          "type": "blob",
          "size": 2347
        },
        {
          "path": "skills/nav-onboard/learning-tasks/05-nav-compact.md",
          "type": "blob",
          "size": 2489
        },
        {
          "path": "skills/nav-onboard/learning-tasks/06-dev-skill.md",
          "type": "blob",
          "size": 2460
        },
        {
          "path": "skills/nav-onboard/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-onboard/templates/progress-template.md",
          "type": "blob",
          "size": 517
        },
        {
          "path": "skills/nav-onboard/templates/workflow-template.md",
          "type": "blob",
          "size": 2297
        },
        {
          "path": "skills/nav-skill-creator",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-skill-creator/SKILL.md",
          "type": "blob",
          "size": 12817
        },
        {
          "path": "skills/nav-skill-creator/examples",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-skill-creator/examples/example-generated-skill.md",
          "type": "blob",
          "size": 2102
        },
        {
          "path": "skills/nav-skill-creator/functions",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-skill-creator/functions/skill_generator.py",
          "type": "blob",
          "size": 4115
        },
        {
          "path": "skills/nav-skill-creator/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-skill-creator/templates/skill-template.md",
          "type": "blob",
          "size": 1759
        },
        {
          "path": "skills/nav-sop",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-sop/SKILL.md",
          "type": "blob",
          "size": 11473
        },
        {
          "path": "skills/nav-sop/functions",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-sop/functions/sop_formatter.py",
          "type": "blob",
          "size": 2965
        },
        {
          "path": "skills/nav-start",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-start/SKILL.md",
          "type": "blob",
          "size": 10637
        },
        {
          "path": "skills/nav-start/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-start/scripts/otel_session_stats.py",
          "type": "blob",
          "size": 16256
        },
        {
          "path": "skills/nav-stats",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-stats/SKILL.md",
          "type": "blob",
          "size": 9184
        },
        {
          "path": "skills/nav-stats/functions",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-stats/functions/efficiency_scorer.py",
          "type": "blob",
          "size": 3261
        },
        {
          "path": "skills/nav-stats/functions/report_formatter.py",
          "type": "blob",
          "size": 6376
        },
        {
          "path": "skills/nav-task",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-task/SKILL.md",
          "type": "blob",
          "size": 9894
        },
        {
          "path": "skills/nav-task/functions",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-task/functions/index_updater.py",
          "type": "blob",
          "size": 2771
        },
        {
          "path": "skills/nav-task/functions/task_formatter.py",
          "type": "blob",
          "size": 2619
        },
        {
          "path": "skills/nav-task/functions/task_id_generator.py",
          "type": "blob",
          "size": 1361
        },
        {
          "path": "skills/nav-update-claude",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-update-claude/functions",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-update-claude/functions/claude_updater.py",
          "type": "blob",
          "size": 16989
        },
        {
          "path": "skills/nav-update-claude/functions/version_detector.py",
          "type": "blob",
          "size": 5039
        },
        {
          "path": "skills/nav-update-claude/skill.md",
          "type": "blob",
          "size": 9905
        },
        {
          "path": "skills/nav-upgrade",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-upgrade/SKILL.md",
          "type": "blob",
          "size": 15898
        },
        {
          "path": "skills/nav-upgrade/functions",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/nav-upgrade/functions/plugin_updater.py",
          "type": "blob",
          "size": 5709
        },
        {
          "path": "skills/nav-upgrade/functions/plugin_verifier.py",
          "type": "blob",
          "size": 6769
        },
        {
          "path": "skills/nav-upgrade/functions/version_detector.py",
          "type": "blob",
          "size": 8190
        },
        {
          "path": "skills/plugin-slash-command",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/plugin-slash-command/SKILL.md",
          "type": "blob",
          "size": 12180
        },
        {
          "path": "skills/plugin-slash-command/examples",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/plugin-slash-command/examples/medium-command-example.md",
          "type": "blob",
          "size": 11497
        },
        {
          "path": "skills/plugin-slash-command/examples/simple-command-example.md",
          "type": "blob",
          "size": 13338
        },
        {
          "path": "skills/plugin-slash-command/functions",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/plugin-slash-command/functions/command_generator.py",
          "type": "blob",
          "size": 9402
        },
        {
          "path": "skills/plugin-slash-command/functions/command_validator.py",
          "type": "blob",
          "size": 9881
        },
        {
          "path": "skills/plugin-slash-command/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/plugin-slash-command/templates/command-template.md",
          "type": "blob",
          "size": 1500
        },
        {
          "path": "skills/product-design",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/product-design/GETTING-STARTED.md",
          "type": "blob",
          "size": 2399
        },
        {
          "path": "skills/product-design/INSTALL.md",
          "type": "blob",
          "size": 7837
        },
        {
          "path": "skills/product-design/README.md",
          "type": "blob",
          "size": 8312
        },
        {
          "path": "skills/product-design/SKILL.md",
          "type": "blob",
          "size": 20300
        },
        {
          "path": "skills/product-design/examples",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/product-design/examples/dashboard-redesign-review.md",
          "type": "blob",
          "size": 7043
        },
        {
          "path": "skills/product-design/functions",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/product-design/functions/component_mapper.py",
          "type": "blob",
          "size": 9405
        },
        {
          "path": "skills/product-design/functions/design_analyzer.py",
          "type": "blob",
          "size": 13656
        },
        {
          "path": "skills/product-design/functions/design_system_auditor.py",
          "type": "blob",
          "size": 12127
        },
        {
          "path": "skills/product-design/functions/figma_mcp_client.py",
          "type": "blob",
          "size": 10879
        },
        {
          "path": "skills/product-design/functions/implementation_planner.py",
          "type": "blob",
          "size": 11607
        },
        {
          "path": "skills/product-design/functions/test_mcp_connection.py",
          "type": "blob",
          "size": 1338
        },
        {
          "path": "skills/product-design/functions/token_extractor.py",
          "type": "blob",
          "size": 12286
        },
        {
          "path": "skills/product-design/requirements.txt",
          "type": "blob",
          "size": 289
        },
        {
          "path": "skills/product-design/setup.sh",
          "type": "blob",
          "size": 3011
        },
        {
          "path": "skills/product-design/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/product-design/templates/design-review-report.md",
          "type": "blob",
          "size": 5164
        },
        {
          "path": "skills/visual-regression",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/visual-regression/SKILL.md",
          "type": "blob",
          "size": 13199
        },
        {
          "path": "skills/visual-regression/examples",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/visual-regression/examples/design-system-vr.md",
          "type": "blob",
          "size": 2414
        },
        {
          "path": "skills/visual-regression/examples/existing-storybook-vr.md",
          "type": "blob",
          "size": 2005
        },
        {
          "path": "skills/visual-regression/examples/simple-component-vr.md",
          "type": "blob",
          "size": 5992
        },
        {
          "path": "skills/visual-regression/functions",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/visual-regression/functions/chromatic_config_generator.py",
          "type": "blob",
          "size": 9604
        },
        {
          "path": "skills/visual-regression/functions/ci_workflow_generator.py",
          "type": "blob",
          "size": 12801
        },
        {
          "path": "skills/visual-regression/functions/story_generator.py",
          "type": "blob",
          "size": 12944
        },
        {
          "path": "skills/visual-regression/functions/vr_setup_validator.py",
          "type": "blob",
          "size": 11740
        },
        {
          "path": "skills/visual-regression/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/visual-regression/templates/chromatic-config.json.j2",
          "type": "blob",
          "size": 353
        },
        {
          "path": "skills/visual-regression/templates/github-workflow.yml.j2",
          "type": "blob",
          "size": 2191
        },
        {
          "path": "skills/visual-regression/templates/gitlab-ci.yml.j2",
          "type": "blob",
          "size": 1154
        },
        {
          "path": "skills/visual-regression/templates/story-template.tsx.j2",
          "type": "blob",
          "size": 1437
        },
        {
          "path": "skills/visual-regression/templates/storybook-main.js.j2",
          "type": "blob",
          "size": 440
        },
        {
          "path": "social-media",
          "type": "tree",
          "size": null
        },
        {
          "path": "social-media/threads-post-v3.3.1-final.md",
          "type": "blob",
          "size": 8601
        },
        {
          "path": "social-media/threads-post-v3.3.1.md",
          "type": "blob",
          "size": 7592
        },
        {
          "path": "social-media/v3.4.0-final.md",
          "type": "blob",
          "size": 10435
        },
        {
          "path": "social-media/v3.4.0-posts-v2.md",
          "type": "blob",
          "size": 11148
        },
        {
          "path": "social-media/v3.4.0-posts.md",
          "type": "blob",
          "size": 8217
        },
        {
          "path": "social-media/v3.5.0-early-update.md",
          "type": "blob",
          "size": 8072
        },
        {
          "path": "social-media/v4.0.0-posts-corrected.md",
          "type": "blob",
          "size": 22031
        },
        {
          "path": "social-media/x-post-v3.2-v3.3-combined.md",
          "type": "blob",
          "size": 17125
        },
        {
          "path": "social-media/x-post-v3.3.0.md",
          "type": "blob",
          "size": 7111
        },
        {
          "path": "social-media/x-post-v3.3.1-short.md",
          "type": "blob",
          "size": 4947
        },
        {
          "path": "src",
          "type": "tree",
          "size": null
        },
        {
          "path": "src/utils",
          "type": "tree",
          "size": null
        },
        {
          "path": "src/utils/README.md",
          "type": "blob",
          "size": 10719
        },
        {
          "path": "src/utils/__tests__",
          "type": "tree",
          "size": null
        },
        {
          "path": "src/utils/__tests__/logger.test.ts",
          "type": "blob",
          "size": 2183
        },
        {
          "path": "src/utils/logger.ts",
          "type": "blob",
          "size": 2747
        },
        {
          "path": "templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "templates/.gitignore",
          "type": "blob",
          "size": 147
        },
        {
          "path": "templates/CLAUDE.md",
          "type": "blob",
          "size": 5315
        },
        {
          "path": "templates/DEVELOPMENT-README.md",
          "type": "blob",
          "size": 9185
        },
        {
          "path": "templates/sop-template.md",
          "type": "blob",
          "size": 2843
        },
        {
          "path": "templates/system-template.md",
          "type": "blob",
          "size": 5690
        },
        {
          "path": "templates/task-template.md",
          "type": "blob",
          "size": 3094
        },
        {
          "path": "tests",
          "type": "tree",
          "size": null
        },
        {
          "path": "tests/test-monitor.sh",
          "type": "blob",
          "size": 3882
        },
        {
          "path": "tests/test-recovery.sh",
          "type": "blob",
          "size": 5592
        },
        {
          "path": "tests/test-retry-logic.sh",
          "type": "blob",
          "size": 3447
        }
      ],
      "marketplace": {
        "name": "navigator-marketplace",
        "version": null,
        "description": null,
        "owner_info": {
          "name": "Aleks Petrov",
          "email": "aleks@example.com"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "navigator",
            "description": null,
            "source": "./",
            "category": null,
            "version": null,
            "author": null,
            "install_commands": [
              "/plugin marketplace add alekspetrov/navigator",
              "/plugin install navigator@navigator-marketplace"
            ],
            "signals": {
              "stars": 50,
              "forks": 4,
              "pushed_at": "2025-12-09T10:48:49Z",
              "created_at": "2025-10-10T12:35:30Z",
              "license": null
            },
            "commands": [],
            "skills": [
              {
                "name": "backend-endpoint",
                "description": "Create REST/GraphQL API endpoint with validation, error handling, and tests. Auto-invoke when user says \"add endpoint\", \"create API\", \"new route\", or \"add route\".",
                "path": "skills/backend-endpoint/SKILL.md",
                "frontmatter": {
                  "name": "backend-endpoint",
                  "description": "Create REST/GraphQL API endpoint with validation, error handling, and tests. Auto-invoke when user says \"add endpoint\", \"create API\", \"new route\", or \"add route\".",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash",
                  "version": "1.0.0"
                },
                "content": "# Backend API Endpoint Generator\n\nGenerate production-ready REST or GraphQL endpoints with request validation, error handling, and comprehensive tests.\n\n## When to Invoke\n\nAuto-invoke when user mentions:\n- \"Add endpoint\"\n- \"Create API\"\n- \"New route\"\n- \"Add route\"\n- \"Create API endpoint for [resource]\"\n\n## What This Does\n\n1. Generates route handler with proper HTTP methods\n2. Adds request validation (body, params, query)\n3. Implements error handling\n4. Creates test file with request/response tests\n5. Follows REST/GraphQL conventions\n6. Includes authentication middleware (if needed)\n\n## Execution Steps\n\n### Step 1: Gather Endpoint Requirements\n\n**Ask user for endpoint details**:\n```\nEndpoint path: [e.g., /api/users/:id]\nHTTP method: [GET, POST, PUT, PATCH, DELETE]\nResource name: [e.g., User, Post, Product]\n\nFramework:\n  - express (default)\n  - fastify\n  - nestjs\n  - graphql\n\nAuthentication required: [yes/no]\nRequest validation needed: [yes/no]\n```\n\n**Validate endpoint path**:\n- Use predefined function: `functions/route_validator.py`\n- Ensure RESTful conventions\n- Check path parameters syntax\n- No trailing slashes\n\n### Step 2: Generate Route Handler\n\n**Based on HTTP method and framework**:\n\nUse predefined function: `functions/endpoint_generator.py`\n\n```bash\npython3 functions/endpoint_generator.py \\\n  --path \"/api/users/:id\" \\\n  --method \"GET\" \\\n  --resource \"User\" \\\n  --framework \"express\" \\\n  --auth true \\\n  --validation true \\\n  --template \"templates/express-route-template.ts\" \\\n  --output \"src/routes/users.ts\"\n```\n\n**Template includes**:\n- Route definition\n- Request validation middleware\n- Controller/handler function\n- Error handling\n- Response formatting\n- TypeScript types\n\n### Step 3: Generate Validation Schema\n\n**Use predefined function**: `functions/validation_generator.py`\n\n```bash\npython3 functions/validation_generator.py \\\n  --resource \"User\" \\\n  --method \"POST\" \\\n  --fields \"name:string:required,email:email:required,age:number:optional\" \\\n  --library \"zod\" \\\n  --output \"src/validators/user.validator.ts\"\n```\n\n**Supported validation libraries**:\n- Zod (default, TypeScript-first)\n- Joi (JavaScript schema)\n- Yup (object schema)\n- Express-validator (middleware-based)\n\n**Output example (Zod)**:\n```typescript\nimport { z } from 'zod';\n\nexport const createUserSchema = z.object({\n  name: z.string().min(1),\n  email: z.string().email(),\n  age: z.number().optional(),\n});\n\nexport type CreateUserInput = z.infer<typeof createUserSchema>;\n```\n\n### Step 4: Generate Error Handling Middleware\n\n**Use predefined function**: `functions/error_handler_generator.py`\n\n```bash\npython3 functions/error_handler_generator.py \\\n  --framework \"express\" \\\n  --template \"templates/error-handler-template.ts\" \\\n  --output \"src/middleware/errorHandler.ts\"\n```\n\n**Error handler includes**:\n- HTTP status code mapping\n- Error response formatting\n- Logging integration\n- Development vs production modes\n- Validation error handling\n\n### Step 5: Generate Test File\n\n**Use predefined function**: `functions/test_generator.py`\n\n```bash\npython3 functions/test_generator.py \\\n  --endpoint \"/api/users/:id\" \\\n  --method \"GET\" \\\n  --framework \"express\" \\\n  --template \"templates/endpoint-test-template.spec.ts\" \\\n  --output \"tests/routes/users.test.ts\"\n```\n\n**Test template includes**:\n- Success case (200/201)\n- Validation errors (400)\n- Not found (404)\n- Unauthorized (401)\n- Server errors (500)\n- Edge cases\n\n**Example test**:\n```typescript\ndescribe('GET /api/users/:id', () => {\n  it('returns user when found', async () => {\n    const response = await request(app)\n      .get('/api/users/123')\n      .expect(200);\n\n    expect(response.body).toMatchObject({\n      id: '123',\n      name: expect.any(String),\n    });\n  });\n\n  it('returns 404 when user not found', async () => {\n    await request(app)\n      .get('/api/users/999')\n      .expect(404);\n  });\n});\n```\n\n### Step 6: Generate API Documentation Comment\n\n**JSDoc or OpenAPI annotation**:\n\n```typescript\n/**\n * @route GET /api/users/:id\n * @description Get user by ID\n * @access Private\n * @param {string} id - User ID\n * @returns {User} User object\n * @throws {404} User not found\n * @throws {401} Unauthorized\n */\n```\n\n### Step 7: Show Endpoint Summary\n\n**Display generated files and usage**:\n\n```\n Endpoint Created: GET /api/users/:id\n\nStructure:\n\n src/\n    routes/users.ts                (Route handler)\n    validators/user.validator.ts   (Request validation)\n    middleware/errorHandler.ts     (Error handling)\n\n tests/\n    routes/users.test.ts           (Integration tests)\n\n\nRoute Registration:\nimport { userRoutes } from './routes/users';\napp.use('/api', userRoutes);\n\nTest:\ncurl http://localhost:3000/api/users/123\n# or\nnpm test -- users.test.ts\n\nNext Steps:\n1. Implement business logic in controller\n2. Connect to database/service layer\n3. Run tests: npm test\n4. Test with Postman/Thunder Client\n```\n\n---\n\n## Predefined Functions\n\n### 1. route_validator.py\n\nValidates route path follows REST conventions.\n\n**Usage**:\n```bash\npython3 functions/route_validator.py --path \"/api/users/:id\" --method \"GET\"\n```\n\n**Checks**:\n- RESTful naming (plural resources)\n- Path parameter syntax (`:id` or `{id}`)\n- No trailing slashes\n- HTTP method matches intent\n\n**Returns**: Valid path or error message\n\n---\n\n### 2. endpoint_generator.py\n\nGenerates endpoint handler from template.\n\n**Usage**:\n```bash\npython3 functions/endpoint_generator.py \\\n  --path \"/api/users/:id\" \\\n  --method \"GET\" \\\n  --resource \"User\" \\\n  --framework \"express\" \\\n  --auth true \\\n  --validation true \\\n  --template \"templates/express-route-template.ts\"\n```\n\n**Parameters**:\n- `--path`: API endpoint path\n- `--method`: HTTP method\n- `--resource`: Resource name (singular, PascalCase)\n- `--framework`: Backend framework\n- `--auth`: Include auth middleware\n- `--validation`: Include validation middleware\n- `--template`: Template file path\n\n**Returns**: Generated endpoint code\n\n---\n\n### 3. validation_generator.py\n\nGenerates request validation schema.\n\n**Usage**:\n```bash\npython3 functions/validation_generator.py \\\n  --resource \"User\" \\\n  --method \"POST\" \\\n  --fields \"name:string:required,email:email:required\" \\\n  --library \"zod\"\n```\n\n**Supported field types**:\n- `string`, `number`, `boolean`\n- `email`, `url`, `uuid`\n- `array`, `object`\n- `date`, `datetime`\n\n**Returns**: Validation schema code\n\n---\n\n### 4. error_handler_generator.py\n\nGenerates error handling middleware.\n\n**Usage**:\n```bash\npython3 functions/error_handler_generator.py \\\n  --framework \"express\" \\\n  --template \"templates/error-handler-template.ts\"\n```\n\n**Returns**: Error handler middleware code\n\n---\n\n### 5. test_generator.py\n\nGenerates endpoint integration tests.\n\n**Usage**:\n```bash\npython3 functions/test_generator.py \\\n  --endpoint \"/api/users/:id\" \\\n  --method \"GET\" \\\n  --framework \"express\" \\\n  --template \"templates/endpoint-test-template.spec.ts\"\n```\n\n**Generates tests for**:\n- Success responses\n- Validation errors\n- Authentication errors\n- Not found errors\n- Server errors\n\n**Returns**: Generated test code\n\n---\n\n## Templates\n\n### express-route-template.ts\n\nExpress.js route handler template.\n\n**Placeholders**:\n- `${ROUTE_PATH}` - API endpoint path\n- `${HTTP_METHOD}` - HTTP method (lowercase)\n- `${RESOURCE_NAME}` - Resource name (PascalCase)\n- `${VALIDATION_MIDDLEWARE}` - Validation middleware\n- `${AUTH_MIDDLEWARE}` - Authentication middleware\n\n### fastify-route-template.ts\n\nFastify route handler template (alternative).\n\n### graphql-resolver-template.ts\n\nGraphQL resolver template (alternative).\n\n### validation-zod-template.ts\n\nZod validation schema template.\n\n### endpoint-test-template.spec.ts\n\nIntegration test template with supertest.\n\n**Placeholders**:\n- `${ENDPOINT_PATH}` - Endpoint to test\n- `${HTTP_METHOD}` - HTTP method\n- `${TEST_CASES}` - Generated test cases\n\n---\n\n## Examples\n\nSee `examples/` directory for reference implementations:\n\n1. **users-get.ts** - GET endpoint with auth\n2. **users-post.ts** - POST endpoint with validation\n3. **graphql-resolver.ts** - GraphQL mutation example\n\nEach example includes:\n- Route/resolver implementation\n- Validation schema\n- Error handling\n- Test file\n- Usage documentation\n\n---\n\n## Best Practices\n\n### REST API Design\n- **Use plural nouns** for resources (`/users`, not `/user`)\n- **Use HTTP methods correctly** (GET=read, POST=create, PUT/PATCH=update, DELETE=remove)\n- **Nest resources properly** (`/users/:userId/posts/:postId`)\n- **Return proper status codes** (200, 201, 400, 401, 404, 500)\n\n### Request Validation\n- **Validate all inputs** (body, params, query)\n- **Fail fast** (validate before business logic)\n- **Clear error messages** (tell user what's wrong)\n- **Sanitize inputs** (prevent injection attacks)\n\n### Error Handling\n- **Centralized error handler** (DRY principle)\n- **Consistent error format** (always same structure)\n- **Don't expose internals** (sanitize stack traces in production)\n- **Log errors** (for debugging)\n\n### Security\n- **Authentication** (verify identity)\n- **Authorization** (check permissions)\n- **Rate limiting** (prevent abuse)\n- **Input sanitization** (prevent XSS, SQL injection)\n\n### Testing\n- **Test happy path** (success cases)\n- **Test error cases** (validation, auth, not found)\n- **Test edge cases** (empty data, large data)\n- **Mock external dependencies** (database, APIs)\n\n---\n\n## Troubleshooting\n\n### Route Not Found (404)\n\n**Problem**: Endpoint returns 404 even though route is defined\n\n**Solutions**:\n1. Check route registration order (specific before generic)\n2. Verify path matches exactly (case-sensitive)\n3. Check middleware isn't blocking request\n4. Validate HTTP method matches\n\n### Validation Always Fails\n\n**Problem**: Valid requests fail validation\n\n**Solutions**:\n1. Check field names match exactly\n2. Verify data types are correct\n3. Check required vs optional fields\n4. Inspect validation error message\n\n### Tests Failing\n\n**Problem**: Integration tests don't pass\n\n**Solutions**:\n1. Ensure test database is seeded\n2. Check test fixtures are correct\n3. Verify mocks are set up properly\n4. Run tests with `--verbose` flag\n\n---\n\n## Success Criteria\n\n**This skill succeeds when**:\n- [ ] Endpoint responds with correct status codes\n- [ ] Request validation catches invalid inputs\n- [ ] Error handling works consistently\n- [ ] Tests cover success and error cases\n- [ ] Code follows REST/GraphQL conventions\n- [ ] Documentation is clear and complete\n\n---\n\n**Auto-invoke this skill when creating API endpoints to ensure consistency and security** "
              },
              {
                "name": "backend-test",
                "description": "Generate backend tests (unit, integration, mocks). Auto-invoke when user says \"write test for\", \"add test\", \"test this\", or \"create test\".",
                "path": "skills/backend-test/SKILL.md",
                "frontmatter": {
                  "name": "backend-test",
                  "description": "Generate backend tests (unit, integration, mocks). Auto-invoke when user says \"write test for\", \"add test\", \"test this\", or \"create test\".",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash",
                  "version": "1.0.0"
                },
                "content": "# Backend Test Generator\n\nGenerate comprehensive backend tests with Jest/Vitest including fixtures and mocks.\n\n## When to Invoke\n\nAuto-invoke when user mentions:\n- \"Write test for\"\n- \"Add test\"\n- \"Test this\"\n- \"Create test\"\n- \"Test [component/function]\"\n\n## What This Does\n\n1. Generates test file with describe/it blocks\n2. Creates test fixtures\n3. Generates mocks for dependencies\n4. Includes edge cases\n5. Follows testing best practices\n\n## Success Criteria\n\n- [ ] Test file generated with proper structure\n- [ ] Tests cover happy path and error cases\n- [ ] Mocks isolate unit under test\n- [ ] Fixtures provide test data\n- [ ] Tests are runnable and pass\n\n**Auto-invoke when writing backend tests** "
              },
              {
                "name": "database-migration",
                "description": "Create database migration with schema changes and rollback. Auto-invoke when user says \"create migration\", \"add table\", \"modify schema\", or \"change database\".",
                "path": "skills/database-migration/SKILL.md",
                "frontmatter": {
                  "name": "database-migration",
                  "description": "Create database migration with schema changes and rollback. Auto-invoke when user says \"create migration\", \"add table\", \"modify schema\", or \"change database\".",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash",
                  "version": "1.0.0"
                },
                "content": "# Database Migration Generator\n\nGenerate database migrations with rollback capability for schema changes.\n\n## When to Invoke\n\nAuto-invoke when user mentions:\n- \"Create migration\"\n- \"Add table\"\n- \"Modify schema\"\n- \"Change database\"\n- \"Database migration for [change]\"\n\n## What This Does\n\n1. Generates migration file with timestamp\n2. Creates schema change SQL (up migration)\n3. Creates rollback SQL (down migration)\n4. Validates SQL syntax\n5. Follows migration tool conventions (Knex, Prisma, TypeORM)\n\n## Success Criteria\n\n- [ ] Migration file generated with unique timestamp\n- [ ] Up migration creates/modifies schema correctly\n- [ ] Down migration rolls back changes\n- [ ] SQL syntax is valid\n- [ ] Follows naming conventions\n\n**Auto-invoke when creating database schema changes** "
              },
              {
                "name": "frontend-component",
                "description": "Create React/Vue component with TypeScript, tests, and styles. Auto-invoke when user says \"create component\", \"add component\", \"new component\", or \"build component\".",
                "path": "skills/frontend-component/SKILL.md",
                "frontmatter": {
                  "name": "frontend-component",
                  "description": "Create React/Vue component with TypeScript, tests, and styles. Auto-invoke when user says \"create component\", \"add component\", \"new component\", or \"build component\".",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash",
                  "version": "1.0.0"
                },
                "content": "# Frontend Component Generator\n\nGenerate production-ready React/Vue components with TypeScript, tests, and styles following modern best practices.\n\n## When to Invoke\n\nAuto-invoke when user mentions:\n- \"Create a component\"\n- \"Add a component\"\n- \"New component\"\n- \"Build a component\"\n- \"Generate component for [feature]\"\n\n## What This Does\n\n1. Generates component file with TypeScript and props interface\n2. Creates test file with React Testing Library\n3. Generates CSS module for styling\n4. Creates barrel export (index.ts)\n5. Validates naming conventions\n6. Follows project patterns\n\n## Execution Steps\n\n### Step 1: Gather Component Requirements\n\n**Ask user for component details**:\n```\nComponent name: [PascalCase name, e.g., UserProfile]\nComponent type:\n  - simple (basic functional component)\n  - with-hooks (useState, useEffect, etc.)\n  - container (data fetching component)\n\nStyling approach:\n  - css-modules (default)\n  - styled-components\n  - tailwind\n\nProps needed: [Optional: describe expected props]\n```\n\n**Validate component name**:\n- Use predefined function: `functions/name_validator.py`\n- Ensure PascalCase format\n- No reserved words\n- Descriptive and specific\n\n### Step 2: Generate Props Interface\n\n**Based on component type and requirements**:\n\nUse predefined function: `functions/props_interface_generator.py`\n\n```python\n# Generates TypeScript interface based on component requirements\npython3 functions/props_interface_generator.py \\\n  --name \"UserProfile\" \\\n  --props \"userId:string,onUpdate:function,isActive:boolean\"\n```\n\n**Output**:\n```typescript\ninterface UserProfileProps {\n  userId: string;\n  onUpdate?: () => void;\n  isActive?: boolean;\n  children?: React.ReactNode;\n  className?: string;\n}\n```\n\n### Step 3: Generate Component File\n\n**Use appropriate template based on type**:\n\n**Simple component**:\n```\nUse template: templates/component-simple-template.tsx\n```\n\n**Component with hooks**:\n```\nUse template: templates/component-with-hooks-template.tsx\n```\n\n**Container component**:\n```\nUse template: templates/component-container-template.tsx\n```\n\n**Use predefined function**: `functions/component_generator.py`\n\n```bash\npython3 functions/component_generator.py \\\n  --name \"UserProfile\" \\\n  --type \"simple\" \\\n  --props-interface \"UserProfileProps\" \\\n  --template \"templates/component-simple-template.tsx\" \\\n  --output \"src/components/UserProfile/UserProfile.tsx\"\n```\n\n**Template substitutions**:\n- `${COMPONENT_NAME}`  Component name (PascalCase)\n- `${PROPS_INTERFACE}`  Generated props interface\n- `${STYLE_IMPORT}`  CSS module import\n- `${DESCRIPTION}`  Brief component description\n\n### Step 4: Generate Test File\n\n**Use predefined function**: `functions/test_generator.py`\n\n```bash\npython3 functions/test_generator.py \\\n  --component-name \"UserProfile\" \\\n  --component-path \"src/components/UserProfile/UserProfile.tsx\" \\\n  --template \"templates/test-template.test.tsx\" \\\n  --output \"src/components/UserProfile/UserProfile.test.tsx\"\n```\n\n**Test template includes**:\n- Basic rendering test\n- Props validation test\n- Event handler tests (if applicable)\n- Accessibility tests\n\n**Template substitutions**:\n- `${COMPONENT_NAME}`  Component name\n- `${IMPORT_PATH}`  Relative import path\n- `${TEST_CASES}`  Generated test cases based on props\n\n### Step 5: Generate Style File\n\n**Use predefined function**: `functions/style_generator.py`\n\n```bash\npython3 functions/style_generator.py \\\n  --name \"UserProfile\" \\\n  --approach \"css-modules\" \\\n  --template \"templates/style-template.module.css\" \\\n  --output \"src/components/UserProfile/UserProfile.module.css\"\n```\n\n**CSS Modules template**:\n```css\n.container {\n  /* Component wrapper styles */\n}\n\n.title {\n  /* Title styles */\n}\n\n/* Add more classes as needed */\n```\n\n**Styled Components alternative**:\n```typescript\n// Generated if --approach \"styled-components\"\nimport styled from 'styled-components';\n\nexport const Container = styled.div`\n  /* Component wrapper styles */\n`;\n\nexport const Title = styled.h2`\n  /* Title styles */\n`;\n```\n\n### Step 6: Generate Barrel Export\n\n**Create index.ts for clean imports**:\n\n```bash\nWrite(\n  file_path: \"src/components/UserProfile/index.ts\",\n  content: \"export { UserProfile } from './UserProfile';\\nexport type { UserProfileProps } from './UserProfile';\\n\"\n)\n```\n\n**Allows usage**:\n```typescript\nimport { UserProfile } from '@/components/UserProfile';\n```\n\n### Step 7: Show Component Summary\n\n**Display generated files and usage**:\n\n```\n Component Created: UserProfile\n\nStructure:\n\n src/components/UserProfile/\n    UserProfile.tsx         (Component)\n    UserProfile.test.tsx    (Tests)\n    UserProfile.module.css  (Styles)\n    index.ts                (Exports)\n\n\nProps Interface:\ninterface UserProfileProps {\n  userId: string;\n  onUpdate?: () => void;\n  isActive?: boolean;\n}\n\nUsage:\nimport { UserProfile } from '@/components/UserProfile';\n\n<UserProfile\n  userId=\"123\"\n  onUpdate={() => console.log('Updated')}\n  isActive={true}\n/>\n\nNext Steps:\n1. Customize component implementation\n2. Run tests: npm test UserProfile\n3. Import and use in your feature\n```\n\n---\n\n## Predefined Functions\n\n### 1. name_validator.py\n\nValidates component naming conventions.\n\n**Usage**:\n```bash\npython3 functions/name_validator.py --name \"UserProfile\"\n```\n\n**Checks**:\n- PascalCase format\n- Not a reserved word (e.g., Component, Element, etc.)\n- Descriptive (length > 2 chars)\n- No special characters\n\n**Returns**: Valid name or error message\n\n---\n\n### 2. props_interface_generator.py\n\nGenerates TypeScript props interface from user input.\n\n**Usage**:\n```bash\npython3 functions/props_interface_generator.py \\\n  --name \"UserProfile\" \\\n  --props \"userId:string,onUpdate:function,isActive:boolean\"\n```\n\n**Supported types**:\n- `string`, `number`, `boolean`\n- `function` (becomes `() => void`)\n- `array` (becomes `any[]`)\n- `object` (becomes `Record<string, any>`)\n- `react-node` (becomes `React.ReactNode`)\n\n**Returns**: TypeScript interface string\n\n---\n\n### 3. component_generator.py\n\nGenerates component file from template with substitutions.\n\n**Usage**:\n```bash\npython3 functions/component_generator.py \\\n  --name \"UserProfile\" \\\n  --type \"simple\" \\\n  --props-interface \"UserProfileProps\" \\\n  --template \"templates/component-simple-template.tsx\" \\\n  --output \"src/components/UserProfile/UserProfile.tsx\"\n```\n\n**Parameters**:\n- `--name`: Component name (PascalCase)\n- `--type`: Component type (simple/with-hooks/container)\n- `--props-interface`: Props interface name\n- `--template`: Template file path\n- `--output`: Output file path\n\n**Returns**: Generated component code\n\n---\n\n### 4. test_generator.py\n\nGenerates test file with React Testing Library.\n\n**Usage**:\n```bash\npython3 functions/test_generator.py \\\n  --component-name \"UserProfile\" \\\n  --component-path \"src/components/UserProfile/UserProfile.tsx\" \\\n  --template \"templates/test-template.test.tsx\" \\\n  --output \"src/components/UserProfile/UserProfile.test.tsx\"\n```\n\n**Generates tests for**:\n- Component rendering\n- Props validation\n- Event handlers\n- Accessibility attributes\n\n**Returns**: Generated test code\n\n---\n\n### 5. style_generator.py\n\nGenerates style file (CSS Modules or Styled Components).\n\n**Usage**:\n```bash\npython3 functions/style_generator.py \\\n  --name \"UserProfile\" \\\n  --approach \"css-modules\" \\\n  --template \"templates/style-template.module.css\" \\\n  --output \"src/components/UserProfile/UserProfile.module.css\"\n```\n\n**Supported approaches**:\n- `css-modules` (default)\n- `styled-components`\n- `tailwind` (generates className utilities)\n\n**Returns**: Generated style code\n\n---\n\n## Templates\n\n### component-simple-template.tsx\n\nBasic functional component template.\n\n**Placeholders**:\n- `${COMPONENT_NAME}` - Component name\n- `${PROPS_INTERFACE}` - Props interface definition\n- `${STYLE_IMPORT}` - CSS import statement\n- `${DESCRIPTION}` - Component description\n\n### component-with-hooks-template.tsx\n\nComponent template with useState, useEffect examples.\n\n**Additional placeholders**:\n- `${HOOKS}` - Hook declarations\n- `${HANDLERS}` - Event handler functions\n\n### component-container-template.tsx\n\nContainer component template with data fetching.\n\n**Additional placeholders**:\n- `${API_IMPORT}` - API function import\n- `${DATA_TYPE}` - Data type definition\n- `${FETCH_LOGIC}` - Data fetching implementation\n\n### test-template.test.tsx\n\nReact Testing Library test template.\n\n**Placeholders**:\n- `${COMPONENT_NAME}` - Component name\n- `${IMPORT_PATH}` - Import path\n- `${TEST_CASES}` - Generated test cases\n\n### style-template.module.css\n\nCSS Modules template.\n\n**Placeholders**:\n- `${COMPONENT_NAME_KEBAB}` - Component name in kebab-case\n- `${BASE_STYLES}` - Base container styles\n\n---\n\n## Examples\n\nSee `examples/` directory for reference implementations:\n\n1. **Button.tsx** - Simple component with variants\n2. **SearchBar.tsx** - Component with hooks (useState, useEffect)\n3. **UserProfile.tsx** - Container component with data fetching\n\nEach example includes:\n- Component implementation\n- Test file\n- Style file\n- Usage documentation\n\n---\n\n## Best Practices\n\n### Component Design\n- Keep components **small and focused** (single responsibility)\n- **Compose** complex UIs from simple components\n- **Lift state up** only when necessary\n- Use **descriptive names** (UserProfile, not UP)\n\n### TypeScript\n- **Define prop interfaces** explicitly\n- **Avoid `any`** type (use `unknown` if needed)\n- **Export types** for consumers\n- **Use strict mode**\n\n### Testing\n- **Test user behavior**, not implementation\n- **Query by role/text**, not test IDs\n- **Test accessible attributes**\n- **Mock external dependencies**\n\n### Styling\n- **CSS Modules** for scoped styles\n- **BEM or descriptive class names**\n- **Mobile-first** responsive design\n- **Use CSS custom properties** for theming\n\n### Accessibility\n- **Semantic HTML** (button, nav, main, etc.)\n- **ARIA labels** when needed\n- **Keyboard navigation** support\n- **Focus management** in modals/dropdowns\n\n---\n\n## Troubleshooting\n\n### Component Not Rendering\n\n**Problem**: Generated component throws errors\n\n**Solutions**:\n1. Check TypeScript compilation errors\n2. Verify all imports are correct\n3. Check props interface matches usage\n4. Validate JSX syntax\n\n### Tests Failing\n\n**Problem**: Generated tests don't pass\n\n**Solutions**:\n1. Ensure React Testing Library is installed\n2. Check test queries match component output\n3. Verify mocks are set up correctly\n4. Run tests with `--verbose` flag\n\n### Styles Not Applying\n\n**Problem**: CSS modules not loading\n\n**Solutions**:\n1. Check CSS module import syntax\n2. Verify webpack/vite config supports CSS modules\n3. Check className is applied to element\n4. Inspect browser devtools for loaded styles\n\n---\n\n## Success Criteria\n\n**This skill succeeds when**:\n- [ ] Component file generated with valid TypeScript\n- [ ] Test file created with passing tests\n- [ ] Style file generated with scoped styles\n- [ ] Barrel export allows clean imports\n- [ ] Props interface matches requirements\n- [ ] Code follows React best practices\n- [ ] Accessibility attributes included\n\n---\n\n**Auto-invoke this skill when creating React components to ensure consistency and save time** "
              },
              {
                "name": "frontend-test",
                "description": "Generate frontend component tests (unit, snapshot, e2e). Auto-invoke when user says \"test this component\", \"write component test\", or \"add component test\".",
                "path": "skills/frontend-test/SKILL.md",
                "frontmatter": {
                  "name": "frontend-test",
                  "description": "Generate frontend component tests (unit, snapshot, e2e). Auto-invoke when user says \"test this component\", \"write component test\", or \"add component test\".",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash",
                  "version": "1.0.0"
                },
                "content": "# Frontend Test Generator\n\nGenerate React/Vue component tests with React Testing Library including user interactions.\n\n## When to Invoke\n\nAuto-invoke when user mentions:\n- \"Test this component\"\n- \"Write component test\"\n- \"Test component\"\n- \"Add component test\"\n- \"Component tests for [name]\"\n\n## What This Does\n\n1. Generates test file with RTL utilities\n2. Tests component rendering\n3. Tests user interactions (click, type, etc.)\n4. Tests accessibility\n5. Generates snapshot tests\n\n## Success Criteria\n\n- [ ] Test file generated with RTL imports\n- [ ] Tests render component correctly\n- [ ] User interactions are tested\n- [ ] Accessibility attributes validated\n- [ ] Tests follow React Testing Library best practices\n\n**Auto-invoke when writing frontend component tests** "
              },
              {
                "name": "nav-compact",
                "description": "Clear conversation context while preserving knowledge via context marker. Use when user says \"clear context\", \"start fresh\", \"done with this task\", or when approaching token limits.",
                "path": "skills/nav-compact/SKILL.md",
                "frontmatter": {
                  "name": "nav-compact",
                  "description": "Clear conversation context while preserving knowledge via context marker. Use when user says \"clear context\", \"start fresh\", \"done with this task\", or when approaching token limits.",
                  "allowed-tools": "Read, Write, Bash",
                  "version": "1.0.0"
                },
                "content": "# Navigator Compact Skill\n\nClear your conversation context while preserving all knowledge in a context marker. Like git commit before switching branches - save your state, then start fresh.\n\n## When to Invoke\n\nInvoke this skill when the user:\n- Says \"clear context\", \"start fresh\", \"reset conversation\"\n- Says \"I'm done with this task\", \"moving to next feature\"\n- Mentions \"approaching token limit\", \"context getting full\"\n- Says \"compact\", \"clean up context\"\n- After completing isolated sub-task\n\n**DO NOT invoke** if:\n- User is in middle of implementation\n- Context is needed for next immediate step\n- Less than 20 messages in conversation (not much to gain)\n\n## Execution Steps\n\n### Step 1: Check If Worth Compacting\n\nEstimate conversation size:\n- If < 20 messages: Suggest waiting\n- If 20-50 messages: Safe to compact\n- If > 50 messages: Highly recommended\n\nShow message:\n```\n Current session: ~[N] messages\n\nCompacting will:\n- Create marker with current state\n- Clear conversation history\n- Free up ~[X]k tokens for new work\n\nContinue? [Y/n]:\n```\n\n### Step 2: Create Automatic Marker\n\nInvoke `nav-marker` skill (or create marker directly) with auto-generated name:\n\n```\nMarker name: before-compact-{YYYY-MM-DD}-{HHmm}\nNote: \"Auto-created before compact\"\n```\n\nThis marker should capture:\n- Last 10-15 messages summary\n- Files modified\n- Technical decisions\n- Current progress\n- Next steps\n\n### Step 3: Set Active Marker\n\nWrite the marker filename to `.active` file:\n\n```bash\necho \"{marker-filename}.md\" > .agent/.context-markers/.active\n```\n\nThis tells `nav-start` to offer restoration on next session.\n\n### Step 4: Display Compact Instructions\n\nShow user how to compact:\n\n```\n\n                                                      \n    Navigator Compact                                \n                                                      \n\n\n Context marker created:\n   .agent/.context-markers/{marker-filename}.md\n\n Marker contains:\n   - Conversation summary (last 15 messages)\n   - Files you modified\n   - Technical decisions made\n   - Current progress & next steps\n\n\n\n TO COMPACT:\n\nClaude Code doesn't allow me to clear the conversation\nprogrammatically. You need to do it manually:\n\n**Method 1: New conversation**\n1. Start a new conversation\n2. Say \"load my context\" or \"start my session\"\n3. I'll detect the active marker and restore your state\n\n**Method 2: /clear command** (if available)\n1. Type /clear\n2. Say \"load my context\"\n3. Active marker will be restored\n\n\n\n Your progress is saved. You won't lose any context.\n\nNext session:\n1. Say \"start my session\" or run /nav:start\n2. I'll detect the marker: \"{marker-filename}\"\n3. Confirm to restore, and you'll be back where you left off\n\n\n```\n\n### Step 5: Confirm Marker Location\n\nVerify marker was created:\n\n```bash\nls -lh .agent/.context-markers/{marker-filename}.md\n```\n\nShow file size and confirm success:\n```\n Marker saved successfully\n   File: {marker-filename}.md\n   Size: {X} KB (~{Y} tokens)\n\nYour context is preserved!\n```\n\n## Important Notes\n\n**Why manual compact?**\n\nClaude Code conversations cannot be programmatically cleared from within a conversation. The user must:\n- Start a new conversation, OR\n- Use `/clear` command (if available)\n\nThis skill creates the marker and sets up auto-restoration, but the actual clearing must be done by the user.\n\n**Auto-restoration workflow:**\n\n```\nSession 1:\n  User: \"Clear context\"\n   nav-compact creates marker\n   Sets .active file\n   Instructs user how to clear\n\nSession 2 (new conversation):\n  User: \"Start my session\"\n   nav-start detects .active file\n   Offers to restore marker\n   User confirms\n   Context restored!\n```\n\n## Common Use Cases\n\n### After Completing Feature\n```\nUser: \"Feature complete, clear context for next task\"\n Creates marker: \"before-compact-2025-10-16-1430\"\n Captures: Feature implementation details\n User starts new conversation\n Restores marker, begins next feature\n```\n\n### Approaching Token Limit\n```\nUser: \"Context getting full, let's compact\"\n Creates marker: \"before-compact-2025-10-16-1500\"\n Preserves: All current work\n User clears conversation\n Continues with fresh context\n```\n\n### Switching Between Tasks\n```\nUser: \"Done with auth, moving to payments\"\n Creates marker: \"auth-feature-complete\"\n Clear context\n New session: Fresh start for payments\n Can restore auth marker later if needed\n```\n\n## Error Handling\n\n**Marker creation fails**:\n```\n Failed to create marker\n\nCannot compact without preserving context.\nFix marker creation first.\n```\n\n**Not enough context to preserve**:\n```\n  Very little context (< 10 messages)\n\nCompacting now won't save much. Consider:\n- Continue working\n- Compact after more progress\n\nContinue anyway? [y/N]:\n```\n\n**Active marker already exists**:\n```\n  Active marker already exists:\n   .agent/.context-markers/.active\n\nThis means you have an unrestored marker from previous compact.\n\nOptions:\n1. Load that marker first (recommended)\n2. Overwrite with new marker\n3. Cancel compact\n\nYour choice [1-3]:\n```\n\n## Success Criteria\n\nCompact is successful when:\n- [ ] Context marker created successfully\n- [ ] Marker contains comprehensive summary\n- [ ] `.active` file created (for auto-restoration)\n- [ ] User knows how to clear conversation\n- [ ] User knows marker will auto-restore on next session\n\n## Scripts\n\n**compact.py**: Automated compact workflow\n- Create marker\n- Set active file\n- Generate restore instructions\n\n## Best Practices\n\n**When to compact:**\n-  After completing isolated feature/sub-task\n-  After major documentation update\n-  Before switching to unrelated work\n-  When approaching 70%+ token usage\n-  In middle of implementation\n-  When context needed for next step\n-  After every few messages (wasteful)\n\n**Compact frequency:**\n- Small task (30 min): No compact needed\n- Medium task (2-3 hours): Compact after completion\n- Large task (full day): Compact at logical breakpoints\n- Multi-day task: Compact at end of each session\n\n## Notes\n\nThis skill automates the preparation for compacting but cannot clear the conversation itself (Claude Code limitation).\n\nThe value is in:\n1. Automatic marker creation\n2. Setting up auto-restoration\n3. Guiding user through process\n4. Preserving context seamlessly\n\nThis provides same functionality as `/nav:compact` command but with natural language invocation."
              },
              {
                "name": "nav-init",
                "description": "Initialize Navigator documentation structure in a project. Auto-invokes when user says \"Initialize Navigator\", \"Set up Navigator\", \"Create Navigator structure\", or \"Bootstrap Navigator\".",
                "path": "skills/nav-init/SKILL.md",
                "frontmatter": {
                  "name": "nav-init",
                  "description": "Initialize Navigator documentation structure in a project. Auto-invokes when user says \"Initialize Navigator\", \"Set up Navigator\", \"Create Navigator structure\", or \"Bootstrap Navigator\".",
                  "allowed-tools": "Write, Bash, Read, Glob",
                  "version": "1.0.0",
                  "triggers": [
                    "initialize navigator",
                    "init navigator",
                    "set up navigator",
                    "setup navigator",
                    "create navigator structure",
                    "bootstrap navigator",
                    "start navigator project"
                  ]
                },
                "content": "# Navigator Initialization Skill\n\n## Purpose\n\nCreates the Navigator documentation structure (`.agent/`) in a new project, copies templates, and sets up initial configuration.\n\n## When This Skill Auto-Invokes\n\n- \"Initialize Navigator in this project\"\n- \"Set up Navigator documentation structure\"\n- \"Create .agent folder for Navigator\"\n- \"Bootstrap Navigator for my project\"\n\n## What This Skill Does\n\n1. **Checks if already initialized**: Prevents overwriting existing structure\n2. **Creates `.agent/` directory structure**:\n   ```\n   .agent/\n    DEVELOPMENT-README.md\n    .nav-config.json\n    tasks/\n    system/\n    sops/\n       integrations/\n       debugging/\n       development/\n       deployment/\n    grafana/\n        docker-compose.yml\n        prometheus.yml\n        grafana-datasource.yml\n        grafana-dashboards.yml\n        navigator-dashboard.json\n        README.md\n   ```\n3. **Creates `.claude/` directory with hooks**:\n   ```\n   .claude/\n    settings.json    # Token monitoring hook configuration\n   ```\n4. **Copies templates**: DEVELOPMENT-README.md, config, Grafana setup\n5. **Auto-detects project info**: Name, tech stack (from package.json if available)\n6. **Updates CLAUDE.md**: Adds Navigator-specific instructions to project\n7. **Creates .gitignore entries**: Excludes temporary Navigator files\n\n## Execution Steps\n\n### 1. Check if Already Initialized\n\n```bash\nif [ -d \".agent\" ]; then\n    echo \" Navigator already initialized in this project\"\n    echo \"\"\n    echo \"To start a session: 'Start my Navigator session'\"\n    echo \"To view documentation: Read .agent/DEVELOPMENT-README.md\"\n    exit 0\nfi\n```\n\n### 2. Detect Project Information\n\nRead `package.json`, `pyproject.toml`, `go.mod`, `Cargo.toml`, or similar to extract:\n- Project name\n- Tech stack\n- Dependencies\n\n**Fallback**: Use current directory name if no config found.\n\n### 3. Create Directory Structure\n\nUse Write tool to create:\n```\n.agent/\n.agent/tasks/\n.agent/system/\n.agent/sops/integrations/\n.agent/sops/debugging/\n.agent/sops/development/\n.agent/sops/deployment/\n.agent/grafana/\n```\n\n### 4. Copy Templates\n\nCopy from plugin's `templates/` directory to `.agent/`:\n\n**DEVELOPMENT-README.md**:\n- Replace `${PROJECT_NAME}` with detected project name\n- Replace `${TECH_STACK}` with detected stack\n- Replace `${DATE}` with current date\n\n**`.nav-config.json`**:\n```json\n{\n  \"version\": \"4.6.0\",\n  \"project_name\": \"${PROJECT_NAME}\",\n  \"tech_stack\": \"${TECH_STACK}\",\n  \"project_management\": \"none\",\n  \"task_prefix\": \"TASK\",\n  \"team_chat\": \"none\",\n  \"auto_load_navigator\": true,\n  \"compact_strategy\": \"conservative\"\n}\n```\n\n**Grafana Setup**:\nCopy all Grafana dashboard files to enable metrics visualization:\n\n```bash\n# Find plugin installation directory\nPLUGIN_DIR=\"${HOME}/.claude/plugins/marketplaces/jitd-marketplace\"\n\n# Copy Grafana files if plugin has them\nif [ -d \"${PLUGIN_DIR}/.agent/grafana\" ]; then\n  cp -r \"${PLUGIN_DIR}/.agent/grafana/\"* .agent/grafana/\n  echo \" Grafana dashboard installed\"\nelse\n  echo \"  Grafana files not found in plugin\"\nfi\n```\n\nFiles copied:\n- docker-compose.yml (Grafana + Prometheus stack)\n- prometheus.yml (scrape config for Claude Code metrics)\n- grafana-datasource.yml (Prometheus datasource config)\n- grafana-dashboards.yml (dashboard provider config)\n- navigator-dashboard.json (10-panel Navigator metrics dashboard)\n- README.md (setup instructions)\n\n### 5. Update Project CLAUDE.md\n\nIf `CLAUDE.md` exists:\n- Append Navigator-specific sections\n- Keep existing project customizations\n\nIf `CLAUDE.md` doesn't exist:\n- Copy `templates/CLAUDE.md` to project root\n- Customize with project info\n\n### 6. Setup Token Monitoring Hook\n\nCreate `.claude/settings.json` for token budget monitoring:\n\n```bash\nmkdir -p .claude\n\ncat > .claude/settings.json << 'EOF'\n{\n  \"hooks\": {\n    \"PostToolUse\": [\n      {\n        \"matcher\": \"Write|Edit|Bash|Task\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"python3 \\\"${CLAUDE_PLUGIN_DIR}/hooks/monitor-tokens.py\\\"\",\n            \"timeout\": 5\n          }\n        ]\n      }\n    ]\n  }\n}\nEOF\n\necho \" Token monitoring hook configured\"\n```\n\n**What this does**:\n- Monitors context usage after each tool call\n- Warns at 70% usage, critical alert at 85%\n- Suggests `/nav:compact` when approaching limits\n\n### 7. Create .gitignore Entries\n\nAdd to `.gitignore` if not present:\n```\n# Navigator context markers\n.context-markers/\n\n# Navigator temporary files\n.agent/.nav-temp/\n```\n\n### 8. Success Message\n\n```\n Navigator Initialized Successfully!\n\nCreated structure:\n   .agent/                    Navigator documentation\n   .agent/tasks/              Implementation plans\n   .agent/system/             Architecture docs\n   .agent/sops/               Standard procedures\n   .agent/grafana/            Metrics dashboard\n   .agent/.nav-config.json    Configuration\n   .claude/                   Claude Code hooks\n   .claude/settings.json      Token monitoring config\n   CLAUDE.md                  Updated with Navigator workflow\n\nNext steps:\n  1. Start session: \"Start my Navigator session\"\n  2. Optional: Enable metrics - see .agent/sops/integrations/opentelemetry-setup.md\n  3. Optional: Launch Grafana - cd .agent/grafana && docker compose up -d\n\nToken monitoring is active - you'll be warned when approaching context limits.\n\nDocumentation: Read .agent/DEVELOPMENT-README.md\n```\n\n## Error Handling\n\n**If `.agent/` exists**:\n- Don't overwrite\n- Show message: \"Already initialized\"\n\n**If templates not found**:\n- Error: \"Navigator plugin templates missing. Reinstall plugin.\"\n\n**If no write permissions**:\n- Error: \"Cannot create .agent/ directory. Check permissions.\"\n\n## Predefined Functions\n\n### `project_detector.py`\n\n```python\ndef detect_project_info(cwd: str) -> dict:\n    \"\"\"\n    Detect project name and tech stack from config files.\n\n    Checks (in order):\n    1. package.json (Node.js)\n    2. pyproject.toml (Python)\n    3. go.mod (Go)\n    4. Cargo.toml (Rust)\n    5. composer.json (PHP)\n    6. Gemfile (Ruby)\n\n    Returns:\n        {\n            \"name\": \"project-name\",\n            \"tech_stack\": \"Next.js, TypeScript, Prisma\",\n            \"detected_from\": \"package.json\"\n        }\n    \"\"\"\n```\n\n### `template_customizer.py`\n\n```python\ndef customize_template(template_content: str, project_info: dict) -> str:\n    \"\"\"\n    Replace placeholders in template with project-specific values.\n\n    Placeholders:\n    - ${PROJECT_NAME}\n    - ${TECH_STACK}\n    - ${DATE}\n    - ${YEAR}\n\n    Returns customized template content.\n    \"\"\"\n```\n\n## Examples\n\n### Example 1: New Next.js Project\n\n**User says**: \"Initialize Navigator in this project\"\n\n**Skill detects**:\n- `package.json` exists\n- Name: \"my-saas-app\"\n- Dependencies: next, typescript, prisma\n\n**Result**:\n- `.agent/` created\n- DEVELOPMENT-README.md shows: \"Project: My SaaS App\"\n- DEVELOPMENT-README.md shows: \"Tech Stack: Next.js, TypeScript, Prisma\"\n- .nav-config.json has project_name: \"my-saas-app\"\n\n### Example 2: Python Project\n\n**User says**: \"Set up Navigator\"\n\n**Skill detects**:\n- `pyproject.toml` exists\n- Name: \"ml-pipeline\"\n- Dependencies: fastapi, pydantic, sqlalchemy\n\n**Result**:\n- `.agent/` created\n- Tech stack: \"FastAPI, Pydantic, SQLAlchemy\"\n\n### Example 3: Already Initialized\n\n**User says**: \"Initialize Navigator\"\n\n**Skill checks**:\n- `.agent/` directory exists\n\n**Result**:\n```\n Navigator already initialized in this project\n\nTo start a session: 'Start my Navigator session'\n```\n\n## Integration with Other Skills\n\n**nav-start skill**:\n- Checks for `.agent/DEVELOPMENT-README.md`\n- If missing, suggests: \"Initialize Navigator first\"\n\n**nav-task skill**:\n- Creates tasks in `.agent/tasks/`\n- Requires initialization\n\n**nav-sop skill**:\n- Creates SOPs in `.agent/sops/`\n- Requires initialization\n\n## Version History\n\n- **1.0.0** (2025-01-20): Initial implementation\n  - Auto-detection of project info\n  - Template customization\n  - Grafana setup included\n  - Error handling for existing installations\n\n## Notes\n\n- This skill replaces the deleted `/nav:init` command from v2.x\n- Templates are copied from plugin installation directory\n- Project info detection is best-effort (falls back to directory name)\n- Safe to run multiple times (won't overwrite existing structure)"
              },
              {
                "name": "nav-install-multi-claude",
                "description": "Install Navigator multi-Claude workflow orchestration scripts. Auto-invokes when user says \"install multi-Claude workflows\", \"set up multi-Claude\", or \"enable parallel execution\".",
                "path": "skills/nav-install-multi-claude/SKILL.md",
                "frontmatter": {
                  "name": "nav-install-multi-claude",
                  "description": "Install Navigator multi-Claude workflow orchestration scripts. Auto-invokes when user says \"install multi-Claude workflows\", \"set up multi-Claude\", or \"enable parallel execution\".",
                  "allowed-tools": "Bash, Read, Write",
                  "version": "1.0.0"
                },
                "content": "# Navigator Multi-Claude Workflow Installer\n\nInstall multi-Claude orchestration scripts for parallel AI execution.\n\n## When to Invoke\n\nAuto-invoke when user says:\n- \"Install multi-Claude workflows\"\n- \"Set up multi-Claude orchestration\"\n- \"Enable parallel execution\"\n- \"Complete Navigator 4.3.0 installation\"\n- \"Install Navigator workflows\"\n\n**DO NOT invoke** if:\n- Scripts already installed (check with `which navigator-multi-claude.sh`)\n- User is just asking about multi-Claude (informational)\n- Navigator plugin not installed\n\n## What This Installs\n\n**Scripts installed to `$HOME/bin/`**:\n- `navigator-multi-claude.sh` - Full 6-phase workflow orchestration\n- `navigator-multi-claude-poc.sh` - Simple 3-phase POC\n- `install-multi-claude.sh` - This installer (for future updates)\n\n**Why needed**: Plugin installation only copies skills/templates. Multi-Claude scripts live outside plugin structure and require separate installation.\n\n## Execution Steps\n\n### Step 1: Check if Already Installed\n\n```bash\nif command -v navigator-multi-claude.sh &> /dev/null; then\n  INSTALLED_PATH=$(which navigator-multi-claude.sh)\n  INSTALLED_VERSION=$(grep -o 'VERSION=.*' \"$INSTALLED_PATH\" | head -1 | cut -d'=' -f2 | tr -d '\"' || echo \"unknown\")\n\n  echo \" Multi-Claude workflows already installed\"\n  echo \"\"\n  echo \"Location: $INSTALLED_PATH\"\n  echo \"Version: $INSTALLED_VERSION\"\n  echo \"\"\n  echo \"To reinstall/update:\"\n  echo \"  rm $INSTALLED_PATH\"\n  echo \"  'Install multi-Claude workflows'\"\n\n  exit 0\nfi\n```\n\n### Step 2: Verify Prerequisites\n\n```bash\n# Check Claude CLI\nif ! command -v claude &> /dev/null; then\n  echo \" Claude Code CLI not found in PATH\"\n  echo \"\"\n  echo \"Multi-Claude workflows require Claude Code CLI to spawn sub-Claude instances.\"\n  echo \"\"\n  echo \"Install Claude Code first, then retry:\"\n  echo \"  https://docs.claude.com/claude-code/installation\"\n  exit 1\nfi\n\n# Check Navigator plugin installed\nPLUGIN_PATHS=(\n  \"$HOME/.claude/plugins/marketplaces/navigator-marketplace\"\n  \"$HOME/.config/claude/plugins/navigator\"\n  \"$HOME/.claude/plugins/navigator\"\n)\n\nPLUGIN_FOUND=false\nfor path in \"${PLUGIN_PATHS[@]}\"; do\n  if [ -d \"$path\" ]; then\n    PLUGIN_FOUND=true\n    PLUGIN_PATH=\"$path\"\n    break\n  fi\ndone\n\nif [ \"$PLUGIN_FOUND\" = false ]; then\n  echo \" Navigator plugin not found\"\n  echo \"\"\n  echo \"Install Navigator plugin first:\"\n  echo \"  /plugin marketplace add alekspetrov/navigator\"\n  echo \"  /plugin install navigator\"\n  exit 1\nfi\n\necho \" Prerequisites verified\"\necho \"   - Claude CLI: $(which claude)\"\necho \"   - Navigator plugin: $PLUGIN_PATH\"\necho \"\"\n```\n\n### Step 3: Download Latest Scripts from GitHub\n\n```bash\necho \" Downloading multi-Claude scripts from GitHub...\"\necho \"\"\n\n# Detect installed plugin version\nif [ -f \"$PLUGIN_PATH/.claude-plugin/plugin.json\" ]; then\n  PLUGIN_VERSION=$(grep -o '\"version\": \"[^\"]*\"' \"$PLUGIN_PATH/.claude-plugin/plugin.json\" | head -1 | cut -d'\"' -f4)\n  VERSION_TAG=\"v$PLUGIN_VERSION\"\n  echo \"   Plugin version: $PLUGIN_VERSION\"\n  echo \"   Fetching matching scripts: $VERSION_TAG\"\nelse\n  # Fallback to latest stable if version detection fails\n  VERSION_TAG=\"main\"\n  echo \"     Could not detect plugin version\"\n  echo \"   Fetching from: main branch (latest stable)\"\nfi\n\necho \"\"\n\n# Clone repository to temp location\nTEMP_DIR=\"/tmp/navigator-install-$$\"\nif git clone --depth 1 --branch \"$VERSION_TAG\" https://github.com/alekspetrov/navigator.git \"$TEMP_DIR\" 2>&1; then\n  echo \" Downloaded Navigator repository\"\nelse\n  echo \" Failed to download from GitHub\"\n  echo \"\"\n  echo \"Possible causes:\"\n  echo \"  - No internet connection\"\n  echo \"  - Version tag $VERSION_TAG doesn't exist\"\n  echo \"  - GitHub rate limit exceeded\"\n  echo \"\"\n  echo \"Retry with main branch? [y/N]\"\n  exit 1\nfi\n\necho \"\"\n```\n\n### Step 4: Run Installation Script\n\n```bash\necho \" Installing multi-Claude scripts...\"\necho \"\"\n\ncd \"$TEMP_DIR\"\n\nif [ -f \"scripts/install-multi-claude.sh\" ]; then\n  # Run the installer\n  chmod +x scripts/install-multi-claude.sh\n  ./scripts/install-multi-claude.sh\n\n  INSTALL_EXIT=$?\n\n  if [ $INSTALL_EXIT -eq 0 ]; then\n    echo \"\"\n    echo \" Multi-Claude workflows installed successfully\"\n  else\n    echo \"\"\n    echo \" Installation failed with exit code $INSTALL_EXIT\"\n    echo \"\"\n    echo \"Check the output above for errors.\"\n    exit 1\n  fi\nelse\n  echo \" install-multi-claude.sh not found in repository\"\n  echo \"\"\n  echo \"This version may not support multi-Claude workflows.\"\n  echo \"Upgrade to Navigator v4.3.0+ for multi-Claude features.\"\n  exit 1\nfi\n\necho \"\"\n```\n\n### Step 5: Verify Installation\n\n```bash\necho \" Verifying installation...\"\necho \"\"\n\n# Check if scripts are in PATH\nif command -v navigator-multi-claude.sh &> /dev/null; then\n  INSTALLED_PATH=$(which navigator-multi-claude.sh)\n  echo \" navigator-multi-claude.sh: $INSTALLED_PATH\"\nelse\n  echo \"  navigator-multi-claude.sh not in PATH\"\n  echo \"   May need to restart terminal or run:\"\n  echo \"   export PATH=\\\"\\$HOME/bin:\\$PATH\\\"\"\nfi\n\nif command -v navigator-multi-claude-poc.sh &> /dev/null; then\n  INSTALLED_PATH=$(which navigator-multi-claude-poc.sh)\n  echo \" navigator-multi-claude-poc.sh: $INSTALLED_PATH\"\nelse\n  echo \"  navigator-multi-claude-poc.sh not in PATH\"\nfi\n\necho \"\"\n```\n\n### Step 6: Cleanup and Next Steps\n\n```bash\n# Cleanup temp directory\nrm -rf \"$TEMP_DIR\"\necho \" Cleaned up temporary files\"\necho \"\"\n\necho \"\"\necho \" Multi-Claude Workflows Ready\"\necho \"\"\necho \"\"\necho \"Test with simple task:\"\necho \"  navigator-multi-claude-poc.sh \\\"Add hello world function\\\"\"\necho \"\"\necho \"Full 6-phase workflow:\"\necho \"  navigator-multi-claude.sh \\\"Implement user authentication\\\"\"\necho \"\"\necho \"Documentation:\"\necho \"  - Release notes: RELEASE-NOTES-v4.3.0.md\"\necho \"  - POC learnings: scripts/POC-LEARNINGS.md\"\necho \"\"\necho \"Status: Experimental (30% success rate)\"\necho \"Recommendation: Use for simple features, monitor output closely\"\necho \"\"\n```\n\n## Error Handling\n\n### Git Clone Fails\n\n```\n Failed to download from GitHub\n\nPossible causes:\n  - No internet connection\n  - Version tag v4.3.1 doesn't exist\n  - GitHub rate limit exceeded\n\nManual installation:\n  1. Download: https://github.com/alekspetrov/navigator/archive/refs/heads/main.zip\n  2. Extract and cd to directory\n  3. Run: ./scripts/install-multi-claude.sh\n```\n\n### Version Mismatch\n\n```\n  Plugin version: 4.3.1\n    Latest release: 4.3.0\n    Installing from: main branch\n\nThis may include unreleased changes.\nContinue? [y/N]\n```\n\n### Already Installed\n\n```\n Multi-Claude workflows already installed\n\nLocation: /Users/username/bin/navigator-multi-claude.sh\nVersion: 4.3.0\n\nTo reinstall/update:\n  rm /Users/username/bin/navigator-multi-claude.sh\n  'Install multi-Claude workflows'\n```\n\n### Permission Denied\n\n```\n Permission denied: /usr/local/bin/\n\nInstallation requires write access to:\n  - $HOME/bin/ (recommended)\n  - /usr/local/bin/ (requires sudo)\n\nFix:\n  mkdir -p $HOME/bin\n  export PATH=\"$HOME/bin:$PATH\"\n\nThen retry: 'Install multi-Claude workflows'\n```\n\n## Success Criteria\n\nInstallation successful when:\n- [ ] Scripts downloaded from GitHub\n- [ ] install-multi-claude.sh executed without errors\n- [ ] Scripts added to PATH (verified with `which`)\n- [ ] Version matches plugin version (or explicit override)\n- [ ] User can invoke `navigator-multi-claude-poc.sh --help`\n\n## Rollback Procedure\n\nIf installation fails or causes issues:\n\n```bash\n# Remove installed scripts\nrm -f $HOME/bin/navigator-multi-claude.sh\nrm -f $HOME/bin/navigator-multi-claude-poc.sh\nrm -f $HOME/bin/install-multi-claude.sh\n\n# Verify removal\nwhich navigator-multi-claude.sh\n# Should output: navigator-multi-claude.sh not found\n```\n\n## Notes\n\n**Why separate installation**:\n- Plugin system only copies skills/templates from `.claude-plugin/`\n- Multi-Claude scripts are executable Bash files that need to be in PATH\n- Installation location varies by system ($HOME/bin vs /usr/local/bin)\n- Scripts need `chmod +x` for execution\n\n**Version matching**:\n- Always fetches scripts matching installed plugin version\n- Prevents version drift (v4.3.1 plugin with v4.3.0 scripts)\n- Falls back to main branch if version tag doesn't exist\n\n**What gets installed**:\n```\n$HOME/bin/\n navigator-multi-claude.sh         # Full 6-phase workflow\n navigator-multi-claude-poc.sh     # 3-phase POC\n install-multi-claude.sh           # Reinstaller\n```\n\n## Related Skills\n\n- **nav-start**: Detects missing workflows and prompts installation\n- **nav-upgrade**: Updates plugin (workflows need separate reinstall)\n- **nav-stats**: Shows multi-Claude workflow efficiency metrics\n\n## Examples\n\n### Example 1: Fresh Installation\n\nUser: \"Install multi-Claude workflows\"\n\nAssistant executes:\n1. Checks prerequisites (Claude CLI, Navigator plugin)\n2. Downloads from GitHub (v4.3.1 tag)\n3. Runs install-multi-claude.sh\n4. Verifies installation\n5. Shows test commands\n\nOutput:\n```\n Multi-Claude Workflows Ready\n\nTest with simple task:\n  navigator-multi-claude-poc.sh \"Add hello world function\"\n```\n\n### Example 2: Already Installed\n\nUser: \"Set up multi-Claude\"\n\nAssistant checks:\n```bash\nwhich navigator-multi-claude.sh\n# Found at: /Users/alex/bin/navigator-multi-claude.sh\n```\n\nOutput:\n```\n Multi-Claude workflows already installed\n\nLocation: /Users/alex/bin/navigator-multi-claude.sh\nVersion: 4.3.0\n\nAlready ready to use!\n```\n\n### Example 3: After Plugin Update\n\nUser updates plugin 4.3.0  4.3.1, then:\n\"Install multi-Claude workflows\""
              },
              {
                "name": "nav-marker",
                "description": "Create context save points to preserve conversation state before breaks, risky changes, or compaction. Use when user says \"save my progress\", \"create checkpoint\", \"mark this point\", or before clearing context.",
                "path": "skills/nav-marker/SKILL.md",
                "frontmatter": {
                  "name": "nav-marker",
                  "description": "Create context save points to preserve conversation state before breaks, risky changes, or compaction. Use when user says \"save my progress\", \"create checkpoint\", \"mark this point\", or before clearing context.",
                  "allowed-tools": "Read, Write, Bash",
                  "version": "1.0.0"
                },
                "content": "# Navigator Marker Skill\n\nCreate context markers - save points that preserve conversation state so you can resume work later without re-explaining everything.\n\n## When to Invoke\n\nInvoke this skill when the user:\n- Says \"save my progress\", \"create checkpoint\", \"mark this\"\n- Says \"before I take a break\", \"save before lunch\"\n- Mentions \"risky refactor ahead\", \"experiment with new approach\"\n- Says \"end of day\", \"stopping for today\"\n- Before compacting context\n\n**DO NOT invoke** if:\n- User is asking about existing markers (use listing, not creation)\n- Context is fresh (< 5 messages exchanged)\n\n## Execution Steps\n\n### Step 1: Check Navigator Structure\n\nVerify `.agent/.context-markers/` directory exists:\n\n```bash\nmkdir -p .agent/.context-markers\n```\n\n### Step 2: Determine Marker Name\n\n**If user provided name**:\n- Use their name (sanitize: lowercase, hyphens for spaces)\n- Example: \"Before Big Refactor\"  \"before-big-refactor\"\n\n**If no name provided**:\n- Auto-generate with timestamp: `marker-{YYYY-MM-DD}-{HHmm}`\n- Example: `marker-2025-10-16-1430`\n\n**Ask user for optional note**:\n```\nCreating marker: [name]\n\nAdd a note? (optional - helps remember context later)\nExample: \"OAuth working, need to add tests\"\n\nNote:\n```\n\n### Step 3: Generate Marker Content\n\nCreate marker document with this structure:\n\n```markdown\n# Context Marker: [name]\n\n**Created**: [YYYY-MM-DD HH:MM]\n**Note**: [user's note or \"No note provided\"]\n\n---\n\n## Conversation Summary\n\n[Summarize last 10-15 messages:\n- What user was working on\n- Key decisions made\n- Problems solved\n- Current progress state\n]\n\n## Documentation Loaded\n\n[List docs that were Read during session:\n- Navigator:  .agent/DEVELOPMENT-README.md\n- Task: TASK-XX-feature.md\n- System: project-architecture.md\n- SOPs: [if any]\n]\n\n## Files Modified\n\n[List files with Write/Edit calls:\n- src/auth/login.ts (implemented OAuth)\n- src/routes/auth.ts (added endpoints)\n- tests/auth.test.ts (created tests)\n]\n\n## Current Focus\n\n[What user is working on right now:\n- Feature: Authentication with OAuth\n- Phase: Integration complete, testing pending\n- Blockers: [if any]\n]\n\n## Technical Decisions\n\n[Key architectural choices:\n- Using passport.js over next-auth (better control)\n- JWT tokens in httpOnly cookies (XSS protection)\n- Redis for session storage (scalability)\n]\n\n## Next Steps\n\n[What to do after restore:\n1. Finish writing tests for OAuth flow\n2. Add error handling for failed logins\n3. Document setup in README\n]\n\n## Restore Instructions\n\nTo restore this marker:\n\\```bash\nRead .agent/.context-markers/[filename]\n\\```\n\nOr use: `/nav:markers` and select this marker\n```\n\n### Step 4: Save Marker File\n\nWrite marker to file:\n\n```\nWrite(\n  file_path: \".agent/.context-markers/[timestamp]_[name].md\",\n  content: [generated marker content]\n)\n```\n\nFilename format: `{YYYY-MM-DD-HHmm}_{name}.md`\nExample: `2025-10-16-1430_before-big-refactor.md`\n\n### Step 4.5: Verify Marker Creation\n\nAfter creating marker, verify it was written successfully:\n\n```bash\n# Verify file exists and is non-empty\nif [ -f \".agent/.context-markers/[filename]\" ] && [ -s \".agent/.context-markers/[filename]\" ]; then\n  # Calculate checksum for verification\n  checksum=$(md5 -q \".agent/.context-markers/[filename]\" 2>/dev/null || md5sum \".agent/.context-markers/[filename]\" | cut -d' ' -f1)\n\n  # Log to central marker log\n  echo \"[$(date -u +\"%Y-%m-%dT%H:%M:%SZ\")]  Marker created: [filename] (checksum: $checksum)\" >> .agent/.marker-log\n\n  echo \" Marker verified successfully\"\nelse\n  echo \" Marker creation failed - file missing or empty\"\n  exit 1\nfi\n```\n\nMarker verification ensures:\n- File exists on disk\n- File has content (non-empty)\n- Checksum logged for integrity verification\n- Creation event logged to central log\n\n### Step 5: Confirm Creation\n\nShow success message with verification details:\n\n```\n Context marker created!\n\nMarker: [name]\nFile: .agent/.context-markers/[filename]\nSize: [X] KB (~[Y] tokens)\nChecksum: [md5-hash]\nVerified: \n\nThis marker captures:\n- Last [N] messages of conversation\n- Files you were working on\n- Technical decisions made\n- Next steps to continue\n\nTo restore later:\n- Start new session\n- Say \"load marker [name]\"\n- Or use /nav:markers to list all markers\n\nLogged to: .agent/.marker-log\n```\n\n## Scripts\n\n**create_marker.py**: Generates marker content from conversation analysis\n- Input: Conversation history (from Claude)\n- Output: Formatted markdown marker\n\n## Common Use Cases\n\n### Before Lunch Break\n```\nUser: \"Save my progress, taking lunch\"\n Creates marker: \"lunch-break-2025-10-16\"\n Captures current state\n User resumes after lunch: \"Load my lunch marker\"\n```\n\n### Before Risky Refactor\n```\nUser: \"Mark this before I refactor routing\"\n Creates marker: \"before-routing-refactor\"\n If refactor fails, restore marker\n If refactor succeeds, delete marker\n```\n\n### End of Day\n```\nUser: \"End of day checkpoint\"\n Creates marker: \"eod-2025-10-16\"\n Note: \"OAuth done, tests tomorrow\"\n Next morning: \"Load yesterday's marker\"\n```\n\n### Before Context Compact\n```\nAutomatic (via nav-compact skill):\n Creates marker: \"before-compact-2025-10-16-1500\"\n Compact clears conversation\n Marker preserves knowledge\n Next session: Auto-offers to restore\n```\n\n## Marker Best Practices\n\n**Good marker names**:\n- `lunch-break` (clear when/why)\n- `before-api-refactor` (indicates purpose)\n- `feature-complete` (marks milestone)\n- `eod-friday` (specific timing)\n\n**Bad marker names**:\n- `temp` (not descriptive)\n- `marker1` (meaningless)\n- `test` (confusing)\n\n**When to create markers**:\n-  Before breaks (lunch, EOD)\n-  Before risky changes\n-  Before context compact\n-  At milestones (feature complete)\n-  After every single message (noise)\n-  When context is fresh (< 5 messages)\n\n## Error Handling\n\n**Marker directory missing**:\n```\nCreating .agent/.context-markers/ directory...\n Ready to save markers\n```\n\n**Duplicate marker name**:\n```\n  Marker \"[name]\" already exists\n\nOptions:\n1. Overwrite (replace existing)\n2. Append timestamp (create \"[name]-v2\")\n3. Choose different name\n\nYour choice [1-3]:\n```\n\n**Insufficient context**:\n```\n  Very little context to save (< 5 messages)\n\nMarkers work best when there's significant progress to preserve.\nContinue anyway? [y/N]:\n```\n\n## Success Criteria\n\nMarker creation is successful when:\n- [ ] Marker file created in `.agent/.context-markers/`\n- [ ] Filename is unique and descriptive\n- [ ] Content includes: summary, loaded docs, files modified, next steps\n- [ ] User knows how to restore marker later\n- [ ] Marker is 2-5k tokens (comprehensive but efficient)\n\n## Notes\n\n- Markers are **git-ignored** (personal session save points)\n- Team members don't see each other's markers\n- Markers can be deleted anytime with `/nav:markers clean`\n- Typical marker size: 2-5k tokens (97.7% compression from 130k conversation)\n\nThis skill provides same functionality as `/nav:marker` command but with natural language invocation."
              },
              {
                "name": "nav-onboard",
                "description": "Interactive onboarding for Navigator - learn by doing. Auto-invoke when user says \"onboard me\", \"teach me Navigator\", \"how do I use Navigator\", \"Navigator tutorial\", \"learn Navigator\", \"new to Navigator\", or \"what skills should I use\".",
                "path": "skills/nav-onboard/SKILL.md",
                "frontmatter": {
                  "name": "nav-onboard",
                  "description": "Interactive onboarding for Navigator - learn by doing. Auto-invoke when user says \"onboard me\", \"teach me Navigator\", \"how do I use Navigator\", \"Navigator tutorial\", \"learn Navigator\", \"new to Navigator\", or \"what skills should I use\".",
                  "allowed-tools": "Read, Write, Edit, Bash, Glob, Grep, AskUserQuestion",
                  "version": "1.0.0"
                },
                "content": "# Navigator Onboarding Skill\n\nInteractive, hands-on learning experience for Navigator. Users complete actual tasks to learn workflows, not just read documentation.\n\n## When to Invoke\n\nInvoke this skill when the user:\n- Says \"onboard me\", \"teach me Navigator\"\n- Says \"how do I use Navigator\", \"Navigator tutorial\"\n- Says \"learn Navigator\", \"new to Navigator\"\n- Asks \"what skills should I use\"\n- Says \"help me get started with Navigator\"\n- First time using Navigator after init\n\n**DO NOT invoke** if:\n- User is asking about a specific skill (invoke that skill instead)\n- User already completed onboarding (`.agent/onboarding/.completed` exists)\n- User explicitly asks to skip onboarding\n\n## Two Learning Flows\n\n### Quick Start (~15 min)\nFor users who want to be productive fast:\n- 4 essential skills with hands-on practice\n- Generates personalized workflow guide\n- Minimal philosophy, maximum doing\n\n### Full Education (~45 min)\nFor users who want comprehensive understanding:\n- Philosophy primer (context efficiency principles)\n- All 5 essential skills with practice\n- Project-specific development skills\n- Complete workflow mastery\n\n## Execution Steps\n\n### Step 1: Check Previous Onboarding\n\n```bash\nif [ -f \".agent/onboarding/.completed\" ]; then\n  echo \"COMPLETED\"\nelse\n  echo \"NOT_COMPLETED\"\nfi\n```\n\n**If completed**: Ask if user wants to re-do onboarding or just view their workflow guide.\n\n### Step 2: Analyze Project\n\nRun project analyzer to detect tech stack:\n\n```bash\npython3 skills/nav-onboard/functions/project_analyzer.py\n```\n\n**Output structure**:\n```json\n{\n  \"project_name\": \"my-app\",\n  \"project_type\": \"fullstack\",\n  \"frontend_framework\": \"Next.js\",\n  \"backend_framework\": \"Express\",\n  \"database\": \"PostgreSQL\",\n  \"testing_framework\": \"Jest\",\n  \"has_navigator\": true\n}\n```\n\n### Step 3: Generate Skill Recommendations\n\nRun skill recommender based on project analysis:\n\n```bash\npython3 skills/nav-onboard/functions/skill_recommender.py\n```\n\n**Output structure**:\n```json\n{\n  \"essential_skills\": [\"nav-start\", \"nav-marker\", \"nav-task\", \"nav-sop\", \"nav-compact\"],\n  \"recommended_skills\": [\"frontend-component\", \"backend-endpoint\"],\n  \"optional_skills\": [\"visual-regression\", \"product-design\"],\n  \"workflow_order\": [\"nav-start\", \"nav-task\", \"frontend-component\", \"nav-sop\", \"nav-marker\", \"nav-compact\"]\n}\n```\n\n### Step 4: Present Flow Choice\n\nShow detection results and ask user to choose flow:\n\n```\nNavigator Onboarding\n\nI've analyzed your project:\n\nProject: [project_name]\nType: [project_type]\nStack: [tech_stack]\n\n\nBased on your project, I recommend these skills:\n\nEssential (all projects):\n  1. nav-start     - Start sessions efficiently\n  2. nav-marker    - Save progress checkpoints\n  3. nav-task      - Document what you build\n  4. nav-sop       - Capture solutions for reuse\n  5. nav-compact   - Clear context without losing work\n\nFor your [project_type] project:\n  6. [recommended_skill_1] - [description]\n  7. [recommended_skill_2] - [description]\n\nChoose your learning path:\n\n[Q] Quick Start (~15 min)\n    Learn 4 essential skills with hands-on practice\n    Get productive immediately\n\n[F] Full Education (~45 min)\n    Complete Navigator mastery\n    Philosophy + all relevant skills + practice\n\nYour choice [Q/F]:\n```\n\n### Step 5: Initialize Progress Tracking\n\nCreate onboarding directory and progress file:\n\n```bash\nmkdir -p .agent/onboarding\n```\n\n```python\n# Run progress_tracker.py init\npython3 skills/nav-onboard/functions/progress_tracker.py init [flow_type] [project_type]\n```\n\nCreates `.agent/onboarding/PROGRESS.md`:\n```markdown\n# Navigator Onboarding Progress\n\n**Started**: [date]\n**Flow**: Quick Start | Full Education\n**Project**: [name] ([type])\n\n---\n\n## Essential Skills\n\n| # | Skill | Status | Completed | Notes |\n|---|-------|--------|-----------|-------|\n| 1 | nav-start | pending | - | - |\n| 2 | nav-marker | pending | - | - |\n| 3 | nav-task | pending | - | - |\n| 4 | nav-sop | pending | - | - |\n| 5 | nav-compact | pending | - | - |\n\n## Development Skills\n\n| # | Skill | Status | Completed | Notes |\n|---|-------|--------|-----------|-------|\n| 6 | [skill] | pending | - | - |\n\n---\n\n**Progress**: 0/[total] (0%)\n**Next Task**: nav-start\n\n*Last Updated: [timestamp]*\n```\n\n### Step 6: Execute Learning Tasks\n\nFor each skill in the curriculum, follow this pattern:\n\n#### 6.1: Present Task\n\nRead the learning task file and present to user:\n\n```bash\ncat skills/nav-onboard/learning-tasks/[task-file].md\n```\n\nPresent in this format:\n```\n\nTASK [N]/[TOTAL]: [Skill Name]\n\n\n[Task description and context]\n\nDO THIS NOW:\n\nType: \"[exact command to type]\"\n\nWHAT SHOULD HAPPEN:\n\n[Expected output description]\n\nReady? Type the command above, then say \"done\" when complete.\n```\n\n#### 6.2: Wait for User Action\n\nUser types the command (e.g., \"Start my Navigator session\").\n\nThe relevant skill executes automatically.\n\nUser says \"done\" or similar when ready to continue.\n\n#### 6.3: Validate Completion\n\nRun task validator:\n\n```bash\npython3 skills/nav-onboard/functions/task_validator.py [skill_name]\n```\n\n**Validation checks per skill**:\n- `nav-start`: User confirmation (session displayed)\n- `nav-marker`: File exists in `.agent/.context-markers/`\n- `nav-task`: File exists in `.agent/tasks/`\n- `nav-sop`: File exists in `.agent/sops/`\n- `nav-compact`: `.active` file exists in `.context-markers/`\n\n#### 6.4: Update Progress\n\n```bash\npython3 skills/nav-onboard/functions/progress_tracker.py update [skill_name] completed \"[notes]\"\n```\n\n#### 6.5: Show Progress and Continue\n\n```\n Task Complete: [skill_name]\n\nProgress: [N]/[TOTAL] ([percentage]%)\n\n[progress bar visualization]\n\n\nPRO TIP:\n[Skill-specific best practice]\n\nNext up: [next_skill_name]\n\nContinue? [Y/n]\n```\n\n### Step 7: Generate Personalized Workflow\n\nAfter all tasks complete, generate workflow guide:\n\n```bash\npython3 skills/nav-onboard/functions/workflow_generator.py\n```\n\nCreates `.agent/onboarding/MY-WORKFLOW.md` with:\n- Project-specific workflow diagram\n- Daily workflow checklist\n- Quick reference table with all skill triggers\n- Best practices for user's stack\n\n### Step 8: Completion Summary\n\nMark onboarding complete and show summary:\n\n```bash\ntouch .agent/onboarding/.completed\necho \"[date]\" > .agent/onboarding/.completed\n```\n\n```\n\n NAVIGATOR ONBOARDING COMPLETE!\n\n\nYou've learned:\n nav-start     - Start sessions efficiently\n nav-marker    - Save progress checkpoints\n nav-task      - Document implementations\n nav-sop       - Capture solutions\n nav-compact   - Manage context\n [dev skills]  - Build [project_type] features\n\nYour personalized workflow:\n .agent/onboarding/MY-WORKFLOW.md\n\nQuick Reference:\n\n| Action              | Say This                         |\n|---------------------|----------------------------------|\n| Start session       | \"Start my Navigator session\"     |\n| Save progress       | \"Create checkpoint [name]\"       |\n| Document feature    | \"Create task doc for [feature]\"  |\n| Capture solution    | \"Create SOP for [issue]\"         |\n| Clear context       | \"Clear context and preserve\"     |\n\n\nWhat's Next?\n1. Start your first real session: \"Start my Navigator session\"\n2. Keep MY-WORKFLOW.md open as reference\n3. Create markers before breaks\n4. Document what you build\n\nHappy coding! \n```\n\n## Learning Tasks Reference\n\n### Essential Skills (All Projects)\n\n| Order | Skill | Task File | What User Does | Validation |\n|-------|-------|-----------|----------------|------------|\n| 1 | nav-start | 01-nav-start.md | \"Start my Navigator session\" | Session summary displayed |\n| 2 | nav-marker | 02-nav-marker.md | \"Create checkpoint learning-test\" | File in `.context-markers/` |\n| 3 | nav-task | 03-nav-task.md | \"Create task doc for learning-feature\" | File in `.agent/tasks/` |\n| 4 | nav-sop | 04-nav-sop.md | \"Create SOP for learning-debugging\" | File in `.agent/sops/` |\n| 5 | nav-compact | 05-nav-compact.md | \"Clear context and preserve markers\" | `.active` file created |\n\n### Development Skills (Project-Specific)\n\n| Project Type | Skill | Task File |\n|--------------|-------|-----------|\n| Frontend | frontend-component | 06-frontend-component.md |\n| Frontend | frontend-test | 07-frontend-test.md |\n| Backend | backend-endpoint | 06-backend-endpoint.md |\n| Backend | backend-test | 07-backend-test.md |\n| Fullstack | Both frontend + backend skills | Sequential |\n\n## Quick Start Curriculum\n\nTasks 1-4 only:\n1. nav-start (3 min)\n2. nav-marker (3 min)\n3. nav-task (4 min)\n4. One dev skill matching project (5 min)\n\nTotal: ~15 minutes\n\n## Full Education Curriculum\n\n### Part 1: Philosophy (5 min)\n- Read `.agent/philosophy/CONTEXT-EFFICIENCY.md`\n- Understand why Navigator exists\n- Key principle: load what you need, when you need it\n\n### Part 2: Session Management (10 min)\n- Task 1: nav-start\n- Task 2: nav-marker\n- Task 5: nav-compact\n\n### Part 3: Documentation (10 min)\n- Task 3: nav-task\n- Task 4: nav-sop\n\n### Part 4: Development Skills (15-20 min)\n- Project-specific skills\n- Hands-on practice with real components/endpoints\n\n### Part 5: Summary (5 min)\n- Generate MY-WORKFLOW.md\n- Review quick reference\n- Next steps\n\nTotal: ~45 minutes\n\n## Predefined Functions\n\n### project_analyzer.py\nExtends `nav-init/functions/project_detector.py` with:\n- Project type classification (frontend/backend/fullstack)\n- Database detection\n- Testing framework detection\n- Navigator status check\n\n### skill_recommender.py\nMaps project analysis to skill recommendations:\n- Essential skills (always included)\n- Recommended skills (based on project type)\n- Optional skills (advanced features)\n- Workflow order (suggested sequence)\n\n### progress_tracker.py\nManages `.agent/onboarding/PROGRESS.md`:\n- Initialize progress file\n- Update task status\n- Calculate completion percentage\n- Determine next task\n\n### task_validator.py\nValidates task completion:\n- File existence checks\n- Content validation\n- User confirmation prompts\n\n### workflow_generator.py\nGenerates `.agent/onboarding/MY-WORKFLOW.md`:\n- Project-specific workflow\n- Daily checklist\n- Quick reference table\n- Best practices\n\n## Error Handling\n\n### Navigator Not Initialized\n```\n  Navigator not initialized in this project.\n\nRun nav-init first, then come back to onboarding.\n\nWould you like to initialize Navigator now? [Y/n]\n```\n\n### Task Validation Failed\n```\n  Couldn't verify task completion.\n\nExpected: [what should exist]\nFound: [what was found]\n\nOptions:\n1. Retry the task\n2. Skip this task\n3. Mark as complete anyway\n\nYour choice [1-3]:\n```\n\n### User Wants to Skip\n```\nSkipping [skill_name].\n\nNote: You can always learn this skill later by saying:\n\"Teach me [skill_name]\"\n\nContinuing to next task...\n```\n\n## Success Criteria\n\nOnboarding is successful when:\n- [ ] User completed at least 3 essential skill tasks\n- [ ] `.agent/onboarding/PROGRESS.md` shows progress\n- [ ] `.agent/onboarding/MY-WORKFLOW.md` generated\n- [ ] `.agent/onboarding/.completed` marker created\n- [ ] User knows how to start sessions and save progress\n\n## Notes\n\n- Real files created during onboarding (not sandboxed)\n- Files created can be deleted later if unwanted\n- Progress persists across sessions\n- Can re-run onboarding anytime (asks to overwrite)\n- Learning tasks designed for 3-5 minutes each"
              },
              {
                "name": "nav-skill-creator",
                "description": "Analyze codebase patterns and create custom skills for repetitive workflows. Use when project needs automation or pattern enforcement. Auto-invoke when user says \"create a skill for...\", \"automate this workflow\", or \"we keep doing X manually\".",
                "path": "skills/nav-skill-creator/SKILL.md",
                "frontmatter": {
                  "name": "nav-skill-creator",
                  "description": "Analyze codebase patterns and create custom skills for repetitive workflows. Use when project needs automation or pattern enforcement. Auto-invoke when user says \"create a skill for...\", \"automate this workflow\", or \"we keep doing X manually\".",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash, Task",
                  "version": "1.0.0"
                },
                "content": "# Navigator Skill Creator\n\nCreate project-specific skills by analyzing codebase patterns and automating repetitive workflows.\n\n## When to Invoke\n\nAuto-invoke when user mentions:\n- \"Create a skill for [pattern]\"\n- \"Automate this workflow\"\n- \"We keep doing X manually\"\n- \"Enforce this pattern\"\n- \"Generate boilerplate for [feature type]\"\n- \"We need consistency for [task type]\"\n\n## What This Does\n\n1. Analyzes codebase to understand project patterns\n2. Identifies best practices from existing code\n3. Generates skill with:\n   - Auto-invocation triggers\n   - Predefined functions\n   - Templates\n   - Examples\n4. Tests the generated skill\n5. Documents the new skill\n\n## Execution Steps\n\n### Step 1: Understand Skill Request\n\nAsk clarifying questions:\n- What pattern/workflow to automate?\n- What triggers should invoke this skill?\n- What output format is expected?\n- Are there existing examples in the codebase?\n\n**Example dialogue**:\n```\nUser: \"Create a skill for adding React components\"\nAssistant: \"I'll analyze your codebase to understand React component patterns.\n- What directory are components in?\n- Do you use TypeScript or JavaScript?\n- Do you want tests generated automatically?\n- Are there style files (CSS/SCSS) per component?\"\n```\n\n### Step 2: Analyze Codebase Patterns\n\n**Use Task agent to explore** (saves 60-80% tokens):\n```\nUse Task agent with subagent_type=Explore:\n\"Find existing [pattern type] in codebase:\n - Locate all [files matching pattern]\n - Identify common structure\n - Extract best practices\n - Find configuration files\n - Return summary of findings\"\n```\n\n**What to look for**:\n- File naming conventions (kebab-case, PascalCase, etc.)\n- Directory structure patterns\n- Import/export patterns\n- Testing patterns\n- Configuration patterns\n- Documentation patterns\n\n**Example for React components**:\n```\nTask agent finds:\n- Components in src/components/\n- PascalCase naming (UserProfile.tsx)\n- Co-located tests (UserProfile.test.tsx)\n- Props interfaces defined above component\n- Export default at bottom\n```\n\n### Step 3: Design Skill Structure\n\n**Determine skill metadata**:\n```yaml\nname: [project]-[pattern-type]\ndescription: [When to auto-invoke + what it does]\nallowed-tools: [Read, Write, Edit, Grep, Glob, Bash, Task]\nversion: 1.0.0\n```\n\n**Plan directory structure**:\n```\nskills/[skill-name]/\n SKILL.md              # Main instructions\n functions/            # Python helper scripts\n    [generator].py\n examples/             # Reference implementations\n    [example].[ext]\n templates/            # Output format templates\n     [template].[ext]\n```\n\n**Design predefined functions**:\n- What repetitive logic can be automated?\n- What validation should be enforced?\n- What formatting ensures consistency?\n\n**Example functions for frontend-component skill**:\n- `component_generator.py` - Generate component boilerplate\n- `test_generator.py` - Generate test file\n- `style_generator.py` - Generate style file\n- `name_validator.py` - Validate component naming\n\n### Step 4: Generate Skill Files\n\n**4.1 Create SKILL.md**\n\n```markdown\n---\nname: [skill-name]\ndescription: [Auto-invocation triggers + purpose]\nallowed-tools: [List of tools]\nversion: 1.0.0\n---\n\n# [Skill Title]\n\n[Brief description of what this skill does]\n\n## When to Invoke\n\nAuto-invoke when user says:\n- \"[trigger phrase 1]\"\n- \"[trigger phrase 2]\"\n- \"[trigger phrase 3]\"\n\n## What This Does\n\n1. [Step 1 overview]\n2. [Step 2 overview]\n3. [Step 3 overview]\n\n## Execution Steps\n\n### Step 1: [Step Name]\n\n[Detailed instructions for this step]\n\n**Use predefined function**: `functions/[function-name].py`\n```\n\n**4.2 Create Predefined Functions**\n\n```python\n# functions/[generator].py\n\ndef generate_[output](name, config):\n    \"\"\"\n    Generate [output type] based on project patterns.\n\n    Args:\n        name: [Description]\n        config: [Description]\n\n    Returns:\n        [output]: [Description]\n    \"\"\"\n    # Implementation based on codebase analysis\n    pass\n```\n\n**4.3 Create Examples**\n\n```\nexamples/\n [reference-implementation].[ext]\n    - Real example from codebase (best practice)\n    - Shows expected structure\n    - Demonstrates conventions\n```\n\n**4.4 Create Templates**\n\n```\ntemplates/\n [output-template].[ext]\n    - Skeleton structure with placeholders\n    - ${VAR_NAME} for substitution\n    - Comments explaining sections\n```\n\n### Step 5: Test Generated Skill\n\n**5.1 Verify skill loads**:\n```bash\n# In project root\ngrep -r \"name: [skill-name]\" skills/\n```\n\n**5.2 Test auto-invocation**:\n```\nIn Claude Code conversation:\n\"[Use one of the auto-invoke trigger phrases]\"\n\nExpected: Skill should be detected and loaded\n```\n\n**5.3 Test execution**:\n- Run through skill steps\n- Verify functions work correctly\n- Check output matches template\n- Validate generated code follows patterns\n\n**5.4 Iterate if needed**:\n- Fix function bugs\n- Improve templates\n- Add missing examples\n- Clarify instructions\n\n### Step 6: Document New Skill\n\n**Update project documentation**:\n\n1. **CLAUDE.md** - Add to skills section:\n```markdown\n#### [Skill Name]\n**Auto-invoke**: \"[trigger phrase]\"\n**Purpose**: [What it does]\n**Generates**: [Output type]\n```\n\n2. **README.md** - Add to skills list:\n```markdown\n- **[skill-name]**: [Brief description]\n```\n\n3. **.agent/system/plugin-patterns.md** - Add to skill registry:\n```markdown\n### [Skill Name]\n**Created**: [Date]\n**Pattern**: [What pattern it enforces]\n**Functions**: [List of predefined functions]\n```\n\n**Register in plugin.json** (if applicable):\n```json\n{\n  \"skills\": [\n    {\n      \"name\": \"[skill-name]\",\n      \"path\": \"skills/[skill-name]/SKILL.md\"\n    }\n  ]\n}\n```\n\n---\n\n## Example Workflows\n\n### Example 1: Create Skill for Adding API Endpoints\n\n**User**: \"Create a skill for adding REST API endpoints\"\n\n**Execution**:\n\n1. **Clarify**:\n   - Which framework? (Express, Fastify, etc.)\n   - Where are routes defined?\n   - Authentication required?\n   - Testing strategy?\n\n2. **Analyze** (via Task agent):\n   ```\n   Find existing API endpoints:\n   - Routes in api/routes/\n   - Controllers in api/controllers/\n   - Middleware in api/middleware/\n   - Tests in tests/api/\n   ```\n\n3. **Design**:\n   ```yaml\n   name: backend-api-endpoint\n   description: Add new REST API endpoint following project conventions. Use when user says \"add endpoint\", \"create API\", or \"new route\".\n   allowed-tools: Read, Write, Edit, Grep, Glob, Bash\n   ```\n\n4. **Generate**:\n   ```\n   skills/backend-api-endpoint/\n    SKILL.md\n    functions/\n       endpoint_generator.py\n       route_validator.py\n    examples/\n       user-endpoint.ts\n    templates/\n        route-template.ts\n        test-template.spec.ts\n   ```\n\n5. **Test**:\n   ```\n   User: \"Add a POST /posts endpoint\"\n   Skill: Auto-invoked, generates route + controller + test\n   Verify: Files follow project conventions\n   ```\n\n6. **Document**: Update CLAUDE.md, README.md, plugin-patterns.md\n\n### Example 2: Create Skill for React Components\n\n**User**: \"Automate creating new React components\"\n\n**Execution**:\n\n1. **Clarify**:\n   - TypeScript or JavaScript?\n   - Functional or class components?\n   - Style approach? (CSS modules, styled-components, etc.)\n   - Test library? (Jest, React Testing Library, etc.)\n\n2. **Analyze** (via Task agent):\n   ```\n   Find React components:\n   - Components in src/components/\n   - PascalCase naming\n   - TypeScript (.tsx)\n   - CSS modules (.module.css)\n   - Tests with RTL\n   ```\n\n3. **Design**:\n   ```yaml\n   name: frontend-component\n   description: Create new React component with TypeScript, styles, and tests. Use when user says \"create component\", \"add component\", or \"new React component\".\n   allowed-tools: Read, Write, Edit, Grep, Glob, Bash\n   ```\n\n4. **Generate**:\n   ```\n   skills/frontend-component/\n    SKILL.md\n    functions/\n       component_generator.py\n       test_generator.py\n       style_generator.py\n    examples/\n       Button.tsx\n       Button.test.tsx\n    templates/\n        component-template.tsx\n        test-template.test.tsx\n        style-template.module.css\n   ```\n\n5. **Test**:\n   ```\n   User: \"Create a UserProfile component\"\n   Skill: Auto-invoked, generates component + test + styles\n   Verify: Props interface, exports, naming correct\n   ```\n\n6. **Document**: Update project docs\n\n---\n\n## Output Format\n\n**After generating skill, show summary**:\n\n```\n Skill Created: [skill-name]\n\nStructure:\n\n skills/[skill-name]/\n    SKILL.md\n    functions/\n       [N functions created]\n    examples/\n       [N examples added]\n    templates/\n        [N templates created]\n\n\nAuto-Invocation Triggers:\n- \"[trigger 1]\"\n- \"[trigger 2]\"\n- \"[trigger 3]\"\n\nNext Steps:\n1. Test the skill: \"[example trigger phrase]\"\n2. Iterate if needed\n3. Documentation updated\n\nTry it now: \"[example usage]\"\n```\n\n---\n\n## Best Practices\n\n### Pattern Analysis\n- Use Task agent for codebase exploration (saves 60-80% tokens)\n- Look at 3-5 examples minimum (find patterns vs outliers)\n- Identify conventions explicitly followed\n- Note edge cases in comments\n\n### Skill Design\n- Keep skills focused (one pattern per skill)\n- Clear auto-invocation triggers (3-5 phrases)\n- Minimal tools needed (add only what's required)\n- Progressive disclosure (details in functions, not main instructions)\n\n### Function Creation\n- One function = one responsibility\n- Type hints and docstrings required\n- Handle errors gracefully\n- Return structured data (not print statements)\n\n### Template Design\n- Use clear placeholders (${VAR_NAME})\n- Include comments explaining sections\n- Follow project style guide\n- Provide sensible defaults\n\n### Testing\n- Test with real project context\n- Verify auto-invocation works\n- Check output against best practices\n- Iterate based on actual usage\n\n---\n\n## Common Patterns to Automate\n\n### Backend Patterns\n- REST API endpoints\n- GraphQL resolvers\n- Database migrations\n- Background jobs\n- Middleware functions\n- Authentication guards\n\n### Frontend Patterns\n- React/Vue/Svelte components\n- Redux/Vuex store modules\n- API client functions\n- Form validation schemas\n- Route definitions\n- Style component creation\n\n### Infrastructure Patterns\n- Docker service configs\n- CI/CD pipeline steps\n- Deployment scripts\n- Environment configs\n- Monitoring setup\n\n### Documentation Patterns\n- API documentation\n- Component documentation\n- Architecture decision records (ADRs)\n- Runbook entries\n- Changelog entries\n\n---\n\n## Troubleshooting\n\n### Skill Not Auto-Invoking\n\n**Problem**: Skill created but doesn't trigger automatically\n\n**Solutions**:\n1. Check description has clear trigger phrases\n2. Verify `plugin.json` includes skill registration\n3. Reload Claude Code to refresh skill index\n4. Test with exact trigger phrase from description\n\n### Functions Not Executing\n\n**Problem**: Predefined functions throw errors\n\n**Solutions**:\n1. Check Python syntax is valid\n2. Verify function imports are correct\n3. Test function independently first\n4. Check error messages in execution logs\n\n### Templates Not Matching Output\n\n**Problem**: Generated code doesn't match project conventions\n\n**Solutions**:\n1. Re-analyze codebase for missed patterns\n2. Update templates with correct structure\n3. Add more examples showing variations\n4. Validate against linter/formatter\n\n### Skill Too Broad\n\n**Problem**: Skill tries to do too much\n\n**Solutions**:\n1. Split into multiple focused skills\n2. Remove optional features to separate skills\n3. Keep core pattern simple\n4. Add extensions as separate skills\n\n---\n\n## Success Criteria\n\n**This skill succeeds when**:\n- [ ] New skill auto-invokes correctly\n- [ ] Generated output follows project conventions\n- [ ] Functions execute without errors\n- [ ] Templates produce valid code\n- [ ] Examples are clear and relevant\n- [ ] Documentation is updated\n- [ ] Skill saves time vs manual work\n\n---\n\n**The skill-creator is Navigator's self-improving engine - it learns your patterns and automates them** "
              },
              {
                "name": "nav-sop",
                "description": "Create Standard Operating Procedures after solving novel issues, establishing patterns, or documenting workflows. Use when user says \"document this solution\", \"save this for next time\", \"create SOP\".",
                "path": "skills/nav-sop/SKILL.md",
                "frontmatter": {
                  "name": "nav-sop",
                  "description": "Create Standard Operating Procedures after solving novel issues, establishing patterns, or documenting workflows. Use when user says \"document this solution\", \"save this for next time\", \"create SOP\".",
                  "allowed-tools": "Read, Write, Bash",
                  "version": "1.0.0"
                },
                "content": "# Navigator SOP Creator Skill\n\nCreate Standard Operating Procedures (SOPs) - reusable documentation for processes, integrations, debugging solutions, and workflows.\n\n## When to Invoke\n\nInvoke this skill when the user:\n- Says \"document this solution\", \"save this for next time\"\n- Says \"create SOP\", \"make this reusable\"\n- Solves a novel issue and mentions \"don't want to hit this again\"\n- Sets up integration and says \"document the setup\"\n- Establishes pattern and mentions \"team should follow this\"\n\n**DO NOT invoke** if:\n- Creating task documentation (use nav-task skill)\n- Updating architecture docs (different purpose)\n- Simple bug fix with no reusable pattern\n\n## Execution Steps\n\n### Step 1: Determine SOP Category\n\nAsk user which category (or infer from context):\n\n**Categories**:\n1. **integrations** - Third-party service setups\n2. **debugging** - Common issues & solutions\n3. **development** - Dev workflows, patterns\n4. **deployment** - Deploy procedures, CI/CD\n\n**Examples**:\n- \"How to set up Stripe webhooks\"  `integrations/`\n- \"Fixing CORS errors\"  `debugging/`\n- \"Testing authenticated routes\"  `development/`\n- \"Deploy to production\"  `deployment/`\n\n### Step 2: Determine SOP Name\n\n**If user provided name**:\n- Use their name (sanitize: lowercase, hyphens)\n- Example: \"Stripe Payment Setup\"  \"stripe-payment-setup\"\n\n**If no name provided**:\n- Generate from context: `{service}-{action}`\n- Example: \"github-oauth-integration\"\n- Example: \"cors-proxy-errors\"\n\n### Step 3: Check if SOP Already Exists\n\nCheck existing SOPs in category:\n\n```bash\nls .agent/sops/{category}/*.md 2>/dev/null\n```\n\n**If similar SOP exists**:\n```\n  Similar SOP found:\n   .agent/sops/{category}/{similar-name}.md\n\nOptions:\n1. Read existing SOP (don't duplicate)\n2. Update existing SOP (add to it)\n3. Create new SOP (different enough)\n\nYour choice [1-3]:\n```\n\n### Step 4: Generate SOP Content\n\nCreate SOP document from conversation:\n\n```markdown\n# {SOP Title}\n\n**Category**: {integrations|debugging|development|deployment}\n**Created**: {YYYY-MM-DD}\n**Last Updated**: {YYYY-MM-DD}\n\n---\n\n## Context\n\n**When to use this SOP**:\n[Describe the scenario where this applies]\n\n**Problem it solves**:\n[What issue does this address?]\n\n**Prerequisites**:\n- [Requirement 1]\n- [Requirement 2]\n\n---\n\n## The Problem\n\n### Symptoms\n[What does the issue look like?]\n- Error message: `{specific error}`\n- Behavior: [Unexpected behavior]\n- Impact: [What breaks]\n\n### Root Cause\n[Why does this happen? Technical explanation]\n\n---\n\n## The Solution\n\n### Step 1: {Action}\n\n**Do this**:\n```bash\n# Command or code\nnpm install stripe\n```\n\n**Why**:\n[Explanation of what this accomplishes]\n\n**Expected output**:\n```\n+ stripe@12.0.0\nadded 1 package\n```\n\n### Step 2: {Next Action}\n\n**Do this**:\n```typescript\n// Code example\nimport Stripe from 'stripe';\n\nconst stripe = new Stripe(process.env.STRIPE_SECRET_KEY);\n```\n\n**Why**:\n[Explanation]\n\n**Configuration**:\nAdd to `.env`:\n```\nSTRIPE_SECRET_KEY=sk_test_...\nSTRIPE_WEBHOOK_SECRET=whsec_...\n```\n\n### Step 3: {Continue...}\n...\n\n---\n\n## Complete Example\n\n### Full Working Code\n\n**File**: `src/services/stripe.ts`\n```typescript\nimport Stripe from 'stripe';\n\nexport class StripeService {\n  private stripe: Stripe;\n\n  constructor() {\n    this.stripe = new Stripe(process.env.STRIPE_SECRET_KEY!, {\n      apiVersion: '2023-10-16',\n    });\n  }\n\n  async createPaymentIntent(amount: number) {\n    return await this.stripe.paymentIntents.create({\n      amount: amount * 100, // Convert to cents\n      currency: 'usd',\n    });\n  }\n}\n```\n\n**File**: `src/routes/webhook.ts`\n```typescript\nexport async function handleStripeWebhook(req: Request, res: Response) {\n  const sig = req.headers['stripe-signature'];\n\n  try {\n    const event = stripe.webhooks.constructEvent(\n      req.body,\n      sig,\n      process.env.STRIPE_WEBHOOK_SECRET!\n    );\n\n    // Handle event\n    switch (event.type) {\n      case 'payment_intent.succeeded':\n        // Process successful payment\n        break;\n    }\n\n    res.json({ received: true });\n  } catch (err) {\n    res.status(400).send(`Webhook Error: ${err.message}`);\n  }\n}\n```\n\n---\n\n## Testing\n\n### Verify It Works\n\n**Test 1: Create payment intent**\n```bash\ncurl -X POST http://localhost:3000/api/create-payment \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"amount\": 10}'\n```\n\n**Expected result**:\n```json\n{\n  \"clientSecret\": \"pi_xxx_secret_yyy\"\n}\n```\n\n**Test 2: Webhook delivery**\n```bash\nstripe listen --forward-to localhost:3000/webhook\n```\n\n**Expected result**:\n```\nReady! You are using Stripe API Version [2023-10-16]\n```\n\n---\n\n## Prevention\n\n**How to avoid this issue in future**:\n- [Prevention strategy 1]\n- [Prevention strategy 2]\n\n**Red flags to watch for**:\n- [Warning sign 1]\n- [Warning sign 2]\n\n---\n\n## Troubleshooting\n\n### Issue: Webhook signature verification fails\n\n**Symptoms**:\n```\nError: No signatures found matching the expected signature\n```\n\n**Cause**: Webhook secret mismatch or body already parsed\n\n**Fix**:\n```typescript\n// Use raw body for webhook verification\napp.post('/webhook', express.raw({type: 'application/json'}), handleStripeWebhook);\n```\n\n### Issue: Payment amount incorrect\n\n**Symptoms**: Charged wrong amount\n\n**Cause**: Forgot to convert to cents\n\n**Fix**: Always multiply by 100 for Stripe amounts\n\n---\n\n## Related Documentation\n\n**Stripe Docs**:\n- [Payment Intents API](https://stripe.com/docs/api/payment_intents)\n- [Webhooks Guide](https://stripe.com/docs/webhooks)\n\n**Our Docs**:\n- Task: `.agent/tasks/TASK-04-stripe-integration.md`\n- System: `.agent/system/project-architecture.md` (payments section)\n\n**External**:\n- [Stripe Testing Cards](https://stripe.com/docs/testing)\n\n---\n\n## Maintenance Notes\n\n**Update when**:\n- Stripe API version changes\n- Payment flow changes\n- New webhook events added\n\n**Owner**: [Team or person responsible]\n\n---\n\n**Last Updated**: {YYYY-MM-DD}\n**Tested With**: Stripe API v2023-10-16, Node.js v18+\n```\n\n### Step 5: Save SOP File\n\nWrite to appropriate category:\n\n```\nWrite(\n  file_path: \".agent/sops/{category}/{name}.md\",\n  content: [generated SOP]\n)\n```\n\nFilename: `.agent/sops/{category}/{name}.md`\n\n### Step 6: Update Navigator Index\n\nEdit `.agent/DEVELOPMENT-README.md` to add SOP to index:\n\n```markdown\n## Standard Operating Procedures\n\n### Integrations\n- **{Service}**: `.agent/sops/integrations/{name}.md` - {One-line description}\n\n### Debugging\n- **{Issue}**: `.agent/sops/debugging/{name}.md` - {Description}\n\n### Development\n...\n\n### Deployment\n...\n```\n\n### Step 7: Link to Related Task (If Applicable)\n\nIf SOP came from specific task, add reference:\n\n**In task doc**:\n```markdown\n## Related SOPs\n\n- `.agent/sops/integrations/stripe-payment-setup.md`\n```\n\n**In SOP**:\n```markdown\n## Related Documentation\n\n- Task: `.agent/tasks/TASK-04-stripe-integration.md`\n```\n\nCross-linking helps discoverability.\n\n### Step 8: Confirm Success\n\nShow completion message:\n\n```\n SOP created successfully!\n\nTitle: {SOP Title}\nCategory: {category}\nFile: .agent/sops/{category}/{name}.md\nSize: {X} KB (~{Y} tokens)\n\n SOP includes:\n- Problem description & symptoms\n- Step-by-step solution\n- Complete code examples\n- Testing instructions\n- Troubleshooting guide\n\n Navigator index updated\n[If linked: Linked to TASK-{XX}]\n\nTo reference later:\nRead .agent/sops/{category}/{name}.md\n```\n\n## SOP Categories Explained\n\n### 1. integrations/\n**Purpose**: How to set up third-party services\n\n**Examples**:\n- `stripe-payment-setup.md`\n- `github-oauth-integration.md`\n- `sendgrid-email-config.md`\n- `redis-session-store.md`\n\n**Structure**: Setup steps + Configuration + Testing\n\n### 2. debugging/\n**Purpose**: How to solve common issues\n\n**Examples**:\n- `cors-proxy-errors.md`\n- `jwt-token-expiration.md`\n- `database-connection-timeout.md`\n- `build-errors-typescript.md`\n\n**Structure**: Symptoms + Root cause + Fix + Prevention\n\n### 3. development/\n**Purpose**: Development workflows & patterns\n\n**Examples**:\n- `testing-authenticated-routes.md`\n- `adding-new-api-endpoint.md`\n- `database-migration-workflow.md`\n- `component-testing-patterns.md`\n\n**Structure**: When to use + Steps + Example + Best practices\n\n### 4. deployment/\n**Purpose**: Deploy, CI/CD, infrastructure\n\n**Examples**:\n- `deploy-to-production.md`\n- `rollback-failed-deploy.md`\n- `setup-github-actions.md`\n- `environment-variables.md`\n\n**Structure**: Prerequisites + Steps + Verification + Rollback\n\n## Common Use Cases\n\n### After Solving Tricky Bug\n```\nUser: \"Finally fixed CORS issue, save this so we don't hit it again\"\n Creates: .agent/sops/debugging/cors-proxy-errors.md\n Captures: Error, root cause, fix, prevention\n Team won't repeat mistake\n```\n\n### After Integration Setup\n```\nUser: \"Stripe webhooks working, document the setup\"\n Creates: .agent/sops/integrations/stripe-webhooks.md\n Captures: All config steps, code, testing\n Next integration is copy-paste\n```\n\n### Establishing Team Pattern\n```\nUser: \"Document how we test protected routes\"\n Creates: .agent/sops/development/testing-auth-routes.md\n Captures: Pattern, examples, best practices\n Team follows consistent approach\n```\n\n## Error Handling\n\n**Category directory doesn't exist**:\n```\nCreating category: .agent/sops/{category}/\n Directory created\n```\n\n**SOPs directory missing entirely**:\n```\n Navigator not initialized\n\nRun /nav:init to create .agent/ structure.\n```\n\n**Duplicate SOP name**:\n```\n  SOP already exists: {name}.md\n\nOptions:\n1. Read existing (don't duplicate)\n2. Update existing (add new info)\n3. Rename new SOP ({name}-v2.md)\n\nYour choice [1-3]:\n```\n\n## Success Criteria\n\nSOP creation is successful when:\n- [ ] SOP file created in correct category\n- [ ] Contains all required sections\n- [ ] Includes working code examples\n- [ ] Testing instructions provided\n- [ ] Navigator index updated\n- [ ] Linked to related task (if applicable)\n\n## Scripts\n\n**generate_sop.py**: Create SOP from conversation\n- Input: Conversation, category, name\n- Output: Formatted SOP markdown\n\n## Best Practices\n\n**Good SOP names**:\n- `stripe-payment-integration` (specific, descriptive)\n- `cors-proxy-configuration` (clear purpose)\n- `jwt-token-refresh` (explains what)\n\n**Bad SOP names**:\n- `fix` (too vague)\n- `integration` (not specific)\n- `sop1` (meaningless)\n\n**When to create SOPs**:\n-  Solved novel issue (will happen again)\n-  Set up integration (reusable process)\n-  Established pattern (team should follow)\n-  Complex workflow (needs documentation)\n-  One-off bug (not reusable)\n-  Obvious solution (don't over-document)\n\n**SOP quality checklist**:\n- [ ] Clear problem description\n- [ ] Step-by-step solution\n- [ ] Complete code examples (copy-paste ready)\n- [ ] Testing instructions\n- [ ] Troubleshooting common issues\n\n## Notes\n\nSOPs are **living documents**:\n- Created when pattern established\n- Updated when solution improves\n- Referenced frequently by team\n- Prevent repeated mistakes\n\nThey transform:\n- Individual knowledge  Team knowledge\n- One-time solution  Reusable process\n- Tribal knowledge  Documented procedure\n\n**Impact**: Zero repeated mistakes over time\n\nThis skill provides same functionality as `/nav:doc sop` command but with natural language invocation."
              },
              {
                "name": "nav-start",
                "description": "Load Navigator documentation navigator when starting development session, resuming work, or beginning new feature. Use when user mentions starting work, beginning session, resuming after break, or checking project status.",
                "path": "skills/nav-start/SKILL.md",
                "frontmatter": {
                  "name": "nav-start",
                  "description": "Load Navigator documentation navigator when starting development session, resuming work, or beginning new feature. Use when user mentions starting work, beginning session, resuming after break, or checking project status.",
                  "allowed-tools": "Read, Bash",
                  "version": "1.0.0"
                },
                "content": "# Navigator Navigator Skill\n\nLoad the Navigator documentation navigator to start your development session with optimized context.\n\n## When to Invoke\n\nInvoke this skill when the user:\n- Says \"start my session\", \"begin work\", \"start working\"\n- Says \"load the navigator\", \"show me the docs\"\n- Asks \"what should I work on?\"\n- Mentions \"resume work\", \"continue from where I left off\"\n- Asks about project structure or current tasks\n\n**DO NOT invoke** if:\n- User already ran `/nav:start` command this conversation\n- Navigator already loaded (check conversation history)\n- User is in middle of implementation (only invoke at session start)\n\n## Execution Steps\n\n### Step 1: Check Navigator Version\n\nCheck if user is running latest Navigator version:\n\n```bash\n# Run version checker (optional - doesn't block session start)\nif [ -f \"scripts/check-version.sh\" ]; then\n  bash scripts/check-version.sh\n\n  # Note: Exit code 1 means update available, but don't block session\n  # Exit code 0 means up to date\n  # Exit code 2 means cannot check (network issue)\nfi\n```\n\n**Version check behavior**:\n- If update available: Show notification, continue session\n- If up to date: Show , continue session\n- If cannot check: Skip silently, continue session\n\n**Never block session start** due to version check.\n\n### Step 2: Check Navigator Initialization\n\nCheck if `.agent/DEVELOPMENT-README.md` exists:\n\n```bash\nif [ ! -f \".agent/DEVELOPMENT-README.md\" ]; then\n  echo \" Navigator not initialized in this project\"\n  echo \"\"\n  echo \"Run /nav:init to set up Navigator structure first.\"\n  exit 1\nfi\n```\n\nIf not found, inform user to run `/nav:init` first.\n\n### Step 3: Load Documentation Navigator\n\nRead the navigator file:\n\n```\nRead(\n  file_path: \".agent/DEVELOPMENT-README.md\"\n)\n```\n\nThis is the lightweight index (~2k tokens) that tells you:\n- What documentation exists\n- When to load specific docs\n- Current task focus\n- Project structure overview\n\n### Step 4: Check for Active Context Marker\n\nCheck if there's an active marker from previous `/nav:compact`:\n\n```bash\nif [ -f \".agent/.context-markers/.active\" ]; then\n  marker_file=$(cat .agent/.context-markers/.active)\n  echo \" Active context marker detected!\"\n  echo \"\"\n  echo \"Marker: $marker_file\"\n  echo \"\"\n  echo \"This marker was saved during your last /nav:compact.\"\n  echo \"Load it to continue where you left off?\"\n  echo \"\"\n  echo \"[Y/n]:\"\nfi\n```\n\nIf user confirms (Y or Enter):\n- Read the marker file: `Read(file_path: \".agent/.context-markers/{marker_file}\")`\n- Delete `.active` file: `rm .agent/.context-markers/.active`\n- Show confirmation: \" Context restored from marker!\"\n\nIf user declines (n):\n- Delete `.active` file\n- Show: \"Skipping marker load. You can load it later with /nav:markers\"\n\n### Step 5: Load Navigator Configuration\n\nRead configuration:\n\n```\nRead(\n  file_path: \".agent/.nav-config.json\"\n)\n```\n\nParse:\n- `project_management`: Which PM tool (linear, github, jira, none)\n- `task_prefix`: Task ID format (TASK, GH, LIN, etc.)\n- `team_chat`: Team notifications (slack, discord, none)\n\n### Step 6: Check PM Tool for Assigned Tasks\n\n**If PM tool is Linear**:\n```bash\n# Check if Linear MCP available\n# Try to list assigned issues\n```\n\n**If PM tool is GitHub**:\n```bash\ngh issue list --assignee @me --limit 10 2>/dev/null\n```\n\n**If PM tool is none**:\nSkip task checking.\n\n### Step 7: Display Session Statistics (OpenTelemetry)\n\nRun the OpenTelemetry session statistics script:\n\n```bash\n# Get the skill's base directory (passed via SKILL_BASE_DIR)\nSKILL_DIR=\"${SKILL_BASE_DIR:-$HOME/.claude/plugins/marketplaces/jitd-marketplace/skills/nav-start}\"\npython3 \"$SKILL_DIR/scripts/otel_session_stats.py\"\n```\n\nThis script:\n- **If OTel enabled**: Shows real-time metrics from Claude Code\n  - Real token usage (input/output/cache)\n  - Cache hit rate (CLAUDE.md caching performance)\n  - Session cost (actual USD spent)\n  - Active time (seconds of work)\n  - Context availability\n- **If OTel disabled**: Shows setup instructions\n- **If no metrics yet**: Shows \"waiting for export\" message\n\n**Benefits of OTel integration**:\n- Real data (not file-size estimates)\n- Cache performance validation\n- Cost tracking for ROI measurement\n- Official API (won't break on updates)\n\n### Step 8: Display Session Summary\n\nShow this formatted summary:\n\n```\n\n                                                      \n   Navigator Session Started                             \n                                                      \n\n\n Documentation Navigator: Loaded\n Project Management: [PM tool or \"Manual\"]\n Token Optimization: Active\n\n\n\n DOCUMENTATION LOADED (MEASURED)\n\n\nNavigator (.agent/DEVELOPMENT-README.md):\n  Size: [nav_bytes] bytes = [nav_tokens] tokens\n\nCLAUDE.md (auto-loaded):\n  Size: [claude_bytes] bytes = [claude_tokens] tokens\n\n\nTotal documentation:     [total_tokens] tokens\nAvailable for work:      [available] tokens ([percent]%)\n\n\n On-demand loading strategy:\n   Load task doc when needed:  +3-5k tokens\n   Load system doc if needed:  +4-6k tokens\n   Load SOP if helpful:        +2-3k tokens\n\n   Total with all docs:        ~[total + 15]k tokens\n\n   vs Traditional (all upfront): ~150k tokens\n   Savings: ~[150 - total - 15]k tokens\n\n\n\n Navigator WORKFLOW REMINDER\n\n1. Navigator-first loading\n   -  Loaded: .agent/DEVELOPMENT-README.md\n   - Next: Load ONLY relevant task/system docs\n\n2. Use agents for research\n   - Multi-file searches: Use Task agent (saves 60-80% tokens)\n   - Code exploration: Use Explore agent\n   - NOT manual Read of many files\n\n3. Task documentation\n   - After features: Use nav-task-manager skill\n   - After bugs: Use nav-sop-creator skill\n\n4. Context management\n   - Run nav-compact skill after isolated sub-tasks\n   - Context markers save your progress\n\n\n\n[MULTI-CLAUDE WORKFLOWS CHECK - v4.3.0+]\n\nCheck if multi-Claude workflows installed:\n```bash\nif ! command -v navigator-multi-claude.sh &> /dev/null; then\n  echo \"\"\n  echo \" Multi-Claude Workflows Available (v4.3.0+)\"\n  echo \"\"\n  echo \"   Enable parallel AI execution for complex tasks.\"\n  echo \"   Status: Not installed\"\n  echo \"\"\n  echo \"   Install: 'Install multi-Claude workflows'\"\n  echo \"   Learn more: See RELEASE-NOTES-v4.3.0.md\"\n  echo \"\"\n  echo \"\"\nfi\n```\n\nOnly show this prompt:\n- If plugin version >= 4.3.0\n- If scripts not installed\n- Once per session (set flag in memory)\n\nDo NOT show if:\n- Scripts already installed\n- Plugin version < 4.3.0\n- User explicitly dismissed before\n\n\n\n[If tasks found from PM tool, list them here]\n\n[If no tasks found:]\nNo active tasks found. What would you like to work on?\n```\n\n## Predefined Functions\n\n### scripts/otel_session_stats.py\n\n**Purpose**: Display real-time session statistics via OpenTelemetry\n\n**When to call**: After loading navigator, before presenting session summary\n\n**Requirements**:\n- CLAUDE_CODE_ENABLE_TELEMETRY=1 (optional - shows setup if disabled)\n- Metrics available from current session (shows waiting message if not)\n\n**Execution**:\n```bash\nSKILL_DIR=\"${SKILL_BASE_DIR:-$HOME/.claude/plugins/marketplaces/jitd-marketplace/skills/nav-start}\"\npython3 \"$SKILL_DIR/scripts/otel_session_stats.py\"\n```\n\n**Output**: Formatted statistics with:\n- Token usage breakdown (input/output/cache)\n- Cache hit rate percentage\n- Session cost in USD\n- Active time\n- Context availability\n\n**Error Handling**:\n- If OTel not enabled: Shows setup instructions\n- If no metrics yet: Shows \"waiting for export\" message\n- Never crashes - always displays helpful guidance\n\n## Reference Files\n\nThis skill uses:\n- **otel_session_stats.py**: Real-time session stats via OpenTelemetry\n- **.agent/DEVELOPMENT-README.md**: Navigator content\n- **.agent/.nav-config.json**: Configuration\n- **.agent/.context-markers/.active**: Active marker check\n\n## Error Handling\n\n**Navigator not found**:\n```\n Navigator not initialized\n\nRun /nav:init to create .agent/ structure first.\n```\n\n**PM tool configured but not working**:\n```\n  [PM Tool] configured but not accessible\n\nCheck authentication or run setup guide.\n```\n\n**Config file malformed**:\n```\n  .agent/.nav-config.json is invalid JSON\n\nFix syntax or run /nav:init to regenerate.\n```\n\n## Success Criteria\n\nSession start is successful when:\n- [ ] Navigator loaded successfully\n- [ ] Token usage calculated and displayed\n- [ ] PM tool status checked (if configured)\n- [ ] User knows what to work on next\n- [ ] Navigator workflow context set\n\n## Notes\n\nThis skill provides the same functionality as `/nav:start` command but with:\n- Natural language invocation (no need to remember `/` syntax)\n- Auto-detection based on user intent\n- Composable with other Navigator skills\n\nIf user prefers manual invocation, they can still use `/nav:start` command (both work in hybrid mode)."
              },
              {
                "name": "nav-stats",
                "description": "Display session efficiency report showing token savings, cache performance, and optimization recommendations. Use when user asks \"show my stats\", \"how efficient am I?\", \"show session metrics\", or wants to see Navigator's impact.",
                "path": "skills/nav-stats/SKILL.md",
                "frontmatter": {
                  "name": "nav-stats",
                  "description": "Display session efficiency report showing token savings, cache performance, and optimization recommendations. Use when user asks \"show my stats\", \"how efficient am I?\", \"show session metrics\", or wants to see Navigator's impact.",
                  "allowed-tools": "Bash, Read",
                  "version": "1.0.0"
                },
                "content": "# Navigator Session Statistics Skill\n\nShow real-time efficiency reporting with baseline comparisons, making Navigator's value quantifiable and shareable.\n\n## When to Invoke\n\nInvoke this skill when the user:\n- Says \"show my stats\", \"show session stats\", \"show metrics\"\n- Asks \"how efficient am I?\", \"how much did I save?\"\n- Says \"show my Navigator report\", \"efficiency report\"\n- Wants to see token savings or session performance\n- Says \"show impact\", \"prove Navigator works\"\n\n**DO NOT invoke** if:\n- User just started session (< 5 messages)\n- Navigator not initialized in project\n- User asking about specific metrics only (answer directly)\n\n## Execution Steps\n\n### Step 1: Check Navigator Initialized\n\nVerify Navigator is set up:\n\n```bash\nif [ ! -f \".agent/DEVELOPMENT-README.md\" ]; then\n  echo \" Navigator not initialized in this project\"\n  echo \"Run 'Initialize Navigator' first\"\n  exit 1\nfi\n```\n\n### Step 2: Run Enhanced Session Stats\n\nExecute the enhanced session statistics script:\n\n```bash\n# Check if enhanced script exists\nif [ ! -f \"scripts/session-stats.sh\" ]; then\n  echo \" Session stats script not found\"\n  echo \"This feature requires Navigator v3.5.0+\"\n  exit 1\nfi\n\n# Run stats script\nbash scripts/session-stats.sh\n```\n\nThis script outputs shell-parseable variables:\n- `BASELINE_TOKENS` - Total size of all .agent/ docs\n- `LOADED_TOKENS` - Actually loaded in session (estimated)\n- `TOKENS_SAVED` - Difference\n- `SAVINGS_PERCENT` - Percentage saved\n- `EFFICIENCY_SCORE` - 0-100 score\n- `CACHE_EFFICIENCY` - From OpenTelemetry\n- `CONTEXT_USAGE_PERCENT` - Estimated context fill\n- `TIME_SAVED_MINUTES` - Estimated time saved\n\n### Step 3: Calculate Efficiency Score\n\nUse predefined function to calculate score:\n\n```bash\n# Extract metrics from session-stats.sh\nsource <(bash scripts/session-stats.sh)\n\n# Calculate efficiency score using predefined function\nEFFICIENCY_SCORE=$(python3 skills/nav-stats/functions/efficiency_scorer.py \\\n  --tokens-saved-percent ${SAVINGS_PERCENT} \\\n  --cache-efficiency ${CACHE_EFFICIENCY} \\\n  --context-usage ${CONTEXT_USAGE_PERCENT})\n```\n\n### Step 4: Format and Display Report\n\nUse predefined function to format visual report:\n\n```bash\n# Generate formatted report\npython3 skills/nav-stats/functions/report_formatter.py \\\n  --baseline ${BASELINE_TOKENS} \\\n  --loaded ${LOADED_TOKENS} \\\n  --saved ${TOKENS_SAVED} \\\n  --savings-percent ${SAVINGS_PERCENT} \\\n  --cache-efficiency ${CACHE_EFFICIENCY} \\\n  --context-usage ${CONTEXT_USAGE_PERCENT} \\\n  --efficiency-score ${EFFICIENCY_SCORE} \\\n  --time-saved ${TIME_SAVED_MINUTES}\n```\n\n**Output Format**:\n```\n\n          NAVIGATOR EFFICIENCY REPORT                 \n\n\n TOKEN USAGE\n\nDocumentation loaded:        12,000 tokens\nBaseline (all docs):        150,000 tokens\nTokens saved:               138,000 tokens (92% )\n\n CACHE PERFORMANCE\n\nCache efficiency:              100.0% (perfect)\n\n SESSION METRICS\n\nContext usage:                      35% (excellent)\nEfficiency score:                94/100 (excellent)\n\n  TIME SAVED\n\nEstimated time saved:          ~42 minutes\n\n WHAT THIS MEANS\n\nNavigator loaded 92% fewer tokens than loading all docs.\nYour context window is 65% available for actual work.\n\n RECOMMENDATIONS\n\n Excellent efficiency - keep using lazy-loading strategy\n Context usage healthy - plenty of room for work\n\nShare your efficiency: Take a screenshot! #ContextEfficiency\n```\n\n### Step 5: Add Context-Specific Recommendations\n\nBased on efficiency score, provide actionable advice:\n\n**If efficiency_score < 70**:\n```\n  RECOMMENDATIONS\n\n  Token savings below target (70%+)\n Check: Are you loading more docs than needed?\n Tip: Use navigator to find docs, don't load all upfront\n\nRead more: .agent/philosophy/CONTEXT-EFFICIENCY.md\n```\n\n**If context_usage > 80%**:\n```\n  RECOMMENDATIONS\n\n  Context usage high (80%+)\n Consider: Create context marker and compact\n Tip: Compact after completing sub-tasks\n\nRead more: .agent/philosophy/ANTI-PATTERNS.md\n```\n\n**If cache_efficiency < 80%**:\n```\n  RECOMMENDATIONS\n\n  Cache efficiency low (<80%)\n Check: CLAUDE.md properly configured?\n Tip: Ensure prompt caching enabled\n\nRead more: .agent/philosophy/PATTERNS.md (Caching pattern)\n```\n\n## Predefined Functions\n\n### `efficiency_scorer.py`\n\nCalculate Navigator efficiency score (0-100) based on:\n- Token savings (40 points)\n- Cache efficiency (30 points)\n- Context usage (30 points)\n\n**Usage**:\n```bash\npython3 skills/nav-stats/functions/efficiency_scorer.py \\\n  --tokens-saved-percent 92 \\\n  --cache-efficiency 100 \\\n  --context-usage 35\n```\n\n**Output**: `94` (integer score)\n\n### `report_formatter.py`\n\nFormat efficiency metrics into visual, shareable report.\n\n**Usage**:\n```bash\npython3 skills/nav-stats/functions/report_formatter.py \\\n  --baseline 150000 \\\n  --loaded 12000 \\\n  --saved 138000 \\\n  --savings-percent 92 \\\n  --cache-efficiency 100 \\\n  --context-usage 35 \\\n  --efficiency-score 94 \\\n  --time-saved 42\n```\n\n**Output**: Formatted ASCII report (see Step 4)\n\n## Philosophy Integration\n\n**Context Engineering Principle**: Measurement validates optimization\n\nFrom `.agent/philosophy/PATTERNS.md`:\n> \"Measure to validate. Navigator tracks real metrics, not estimates.\"\n\nThis skill proves:\n- **Token savings** are real (baseline comparison)\n- **Cache efficiency** works (OpenTelemetry data)\n- **Context usage** is healthy (window not overloaded)\n- **Time saved** is quantifiable (6s per 1k tokens)\n\n## User Experience\n\n**User says**: \"Show my stats\"\n\n**Skill displays**:\n1. Visual efficiency report\n2. Clear metrics (tokens, cache, context)\n3. Interpretation (\"What this means\")\n4. Actionable recommendations\n\n**User can**:\n- Screenshot and share (#ContextEfficiency)\n- Understand Navigator's impact\n- Optimize workflow based on recommendations\n- Validate context engineering principles\n\n## Example Output Scenarios\n\n### Scenario 1: Excellent Efficiency (Score 94)\n\nUser following lazy-loading pattern, cache working perfectly:\n- 92% token savings \n- 100% cache efficiency \n- 35% context usage \n- Score: 94/100\n\n**Recommendation**: Keep it up! Share your efficiency.\n\n### Scenario 2: Fair Efficiency (Score 72)\n\nUser loading too many docs upfront:\n- 65% token savings \n- 95% cache efficiency \n- 55% context usage \n- Score: 72/100\n\n**Recommendation**: Review lazy-loading strategy. Load docs on-demand.\n\n### Scenario 3: Poor Efficiency (Score 48)\n\nUser not using Navigator patterns:\n- 45% token savings \n- 70% cache efficiency \n- 85% context usage \n- Score: 48/100\n\n**Recommendation**: Read philosophy docs. Consider /nav:compact. Review CLAUDE.md.\n\n## Success Metrics\n\n**After using this skill, users should**:\n- Understand their efficiency score\n- See quantified token savings\n- Know what to improve (if anything)\n- Feel motivated to share results\n\n**Long-term impact**:\n- Users screenshot reports and share\n- \"Navigator saved me 138k tokens\" becomes common\n- Efficiency becomes visible, not abstract\n- Continuous improvement through measurement\n\n---\n\n**This skill makes Navigator's value tangible and shareable.**"
              },
              {
                "name": "nav-task",
                "description": "Manage Navigator task documentation - create implementation plans, archive completed tasks, update task index. Use when user starts new feature, completes work, or says \"document this feature\".",
                "path": "skills/nav-task/SKILL.md",
                "frontmatter": {
                  "name": "nav-task",
                  "description": "Manage Navigator task documentation - create implementation plans, archive completed tasks, update task index. Use when user starts new feature, completes work, or says \"document this feature\".",
                  "allowed-tools": "Read, Write, Edit, Bash",
                  "version": "1.0.0"
                },
                "content": "# Navigator Task Manager Skill\n\nCreate and manage task documentation - implementation plans that capture what was built, how, and why.\n\n## When to Invoke\n\nInvoke this skill when the user:\n- Says \"document this feature\", \"archive this task\"\n- Says \"create task doc for...\", \"document what I built\"\n- Completes a feature and mentions \"done\", \"finished\", \"complete\"\n- Starts new feature and says \"create implementation plan\"\n\n**DO NOT invoke** if:\n- User is asking about existing tasks (use Read, not creation)\n- Creating SOPs (that's nav-sop skill)\n- Updating system docs (different skill)\n\n## Execution Steps\n\n### Step 1: Determine Task ID\n\n**If user provided task ID** (e.g., \"TASK-01\", \"GH-123\"):\n- Use their ID directly\n\n**If no ID provided**:\n- Read `.agent/.nav-config.json` for `task_prefix`\n- Check existing tasks: `ls .agent/tasks/*.md`\n- Generate next number: `{prefix}-{next-number}`\n- Example: Last task is TASK-05, create TASK-06\n\n### Step 2: Determine Action (Create vs Archive)\n\n**Creating new task** (starting feature):\n```\nUser: \"Create task doc for OAuth implementation\"\n Action: CREATE\n Generate empty implementation plan template\n```\n\n**Archiving completed task** (feature done):\n```\nUser: \"Document this OAuth feature I just built\"\n Action: ARCHIVE\n Generate implementation plan from conversation\n```\n\n### Step 3A: Create New Task (If Starting Feature)\n\nGenerate task document from template:\n\n```markdown\n# TASK-{XX}: {Feature Name}\n\n**Status**:  In Progress\n**Created**: {YYYY-MM-DD}\n**Assignee**: {from PM tool or \"Manual\"}\n\n---\n\n## Context\n\n**Problem**:\n[What problem does this solve?]\n\n**Goal**:\n[What are we building?]\n\n**Success Criteria**:\n- [ ] [Specific measurable outcome]\n- [ ] [Another outcome]\n\n---\n\n## Implementation Plan\n\n### Phase 1: {Name}\n**Goal**: [What this phase accomplishes]\n\n**Tasks**:\n- [ ] [Specific task]\n- [ ] [Another task]\n\n**Files**:\n- `path/to/file.ts` - [Purpose]\n\n### Phase 2: {Name}\n...\n\n---\n\n## Technical Decisions\n\n| Decision | Options Considered | Chosen | Reasoning |\n|----------|-------------------|--------|-----------|\n| [What] | [Option A, B, C] | [Chosen] | [Why] |\n\n---\n\n## Dependencies\n\n**Requires**:\n- [ ] {prerequisite task or setup}\n\n**Blocks**:\n- [ ] {tasks waiting on this}\n\n---\n\n## Notes\n\n[Any additional context, links, references]\n\n---\n\n## Completion Checklist\n\nBefore marking complete:\n- [ ] Implementation finished\n- [ ] Tests written and passing\n- [ ] Documentation updated\n- [ ] Code reviewed (if team)\n- [ ] Deployed/merged\n\n---\n\n**Last Updated**: {YYYY-MM-DD}\n```\n\nSave to: `.agent/tasks/TASK-{XX}-{slug}.md`\n\n### Step 3B: Archive Completed Task (If Feature Done)\n\nGenerate task document from conversation:\n\n1. **Analyze conversation** (last 30-50 messages):\n   - What was built?\n   - How was it implemented?\n   - What decisions were made?\n   - What files were modified?\n\n2. **Generate implementation plan**:\n\n```markdown\n# TASK-{XX}: {Feature Name}\n\n**Status**:  Completed\n**Created**: {YYYY-MM-DD}\n**Completed**: {YYYY-MM-DD}\n\n---\n\n## What Was Built\n\n[1-2 paragraph summary of the feature]\n\n---\n\n## Implementation\n\n### Phase 1: {Actual phase completed}\n**Completed**: {Date}\n\n**Changes**:\n- Created `src/auth/oauth.ts` - OAuth provider integration\n- Modified `src/routes/auth.ts` - Added login/logout endpoints\n- Updated `src/config/passport.ts` - Passport configuration\n\n**Key Code**:\n```typescript\n// Example of key implementation\nexport const oauthLogin = async (req, res) => {\n  // Implementation details\n};\n```\n\n### Phase 2: {Next phase}\n...\n\n---\n\n## Technical Decisions\n\n| Decision | Options | Chosen | Reasoning |\n|----------|---------|--------|-----------|\n| Auth library | next-auth, passport.js, auth0 | passport.js | Better control over OAuth flow, smaller bundle |\n| Token storage | localStorage, cookies, sessionStorage | httpOnly cookies | XSS protection, automatic transmission |\n| Session store | memory, Redis, PostgreSQL | Redis | Fast, scalable, separate from DB |\n\n---\n\n## Files Modified\n\n- `src/auth/oauth.ts` (created) - OAuth integration\n- `src/routes/auth.ts` (modified) - Added auth endpoints\n- `src/config/passport.ts` (created) - Passport setup\n- `tests/auth.test.ts` (created) - Auth tests\n- `README.md` (updated) - OAuth setup instructions\n\n---\n\n## Challenges & Solutions\n\n**Challenge**: OAuth callback URL mismatch\n- **Problem**: Redirects failed in production\n- **Solution**: Added environment-specific callback URLs\n- **Commit**: abc1234\n\n**Challenge**: Session persistence across restarts\n- **Problem**: Users logged out on server restart\n- **Solution**: Redis session store\n- **Commit**: def5678\n\n---\n\n## Testing\n\n-  Unit tests: `src/auth/*.test.ts` (15 tests, 100% coverage)\n-  Integration tests: OAuth flow end-to-end\n-  Manual testing: Tested with Google, GitHub providers\n\n---\n\n## Documentation\n\n-  README updated with OAuth setup instructions\n-  Environment variables documented in `.env.example`\n-  API endpoints documented in `docs/api.md`\n\n---\n\n## Related\n\n**SOPs Created**:\n- `.agent/sops/integrations/oauth-setup.md`\n\n**System Docs Updated**:\n- `.agent/system/project-architecture.md` (added auth section)\n\n---\n\n**Completed**: {YYYY-MM-DD}\n**Implementation Time**: {X hours/days}\n```\n\nSave to: `.agent/tasks/TASK-{XX}-{slug}.md`\n\n### Step 4: Update Navigator Index\n\nEdit `.agent/DEVELOPMENT-README.md` to add task to index:\n\n```markdown\n## Active Tasks\n\n- **TASK-{XX}**: {Feature Name} (Status: In Progress/Completed)\n  - File: `.agent/tasks/TASK-{XX}-{slug}.md`\n  - Started: {Date}\n  - [Completed: {Date}]\n```\n\nKeep index organized (active tasks first, completed below).\n\n### Step 5: Update PM Tool (If Configured)\n\n**If PM tool is Linear**:\n```typescript\ncreate_comment({\n  issueId: \"TASK-XX\",\n  body: \" Implementation plan documented: .agent/tasks/TASK-XX-feature.md\"\n})\n```\n\n**If PM tool is GitHub**:\n```bash\ngh issue comment {ISSUE-NUMBER} -b \" Implementation plan: .agent/tasks/TASK-XX-feature.md\"\n```\n\n**If PM tool is none**:\nSkip PM update.\n\n### Step 6: Confirm Success\n\nShow completion message:\n\n```\n Task documentation created!\n\nTask: TASK-{XX} - {Feature Name}\nFile: .agent/tasks/TASK-{XX}-{slug}.md\nSize: {X} KB (~{Y} tokens)\n\n Contains:\n- Implementation phases\n- Technical decisions\n- Files modified\n- [If archived: Challenges & solutions]\n- [If archived: Testing & documentation]\n\n Navigator index updated\n[If PM tool: PM tool comment added]\n\nTo reference later:\nRead .agent/tasks/TASK-{XX}-{slug}.md\n```\n\n## Task Document Template Structure\n\n### For New Tasks (Planning)\n1. Context (problem/goal)\n2. Implementation plan (phases)\n3. Technical decisions (to be made)\n4. Dependencies\n5. Completion checklist\n\n### For Completed Tasks (Archive)\n1. What was built (summary)\n2. Implementation (actual phases)\n3. Technical decisions (what was chosen)\n4. Files modified\n5. Challenges & solutions\n6. Testing & documentation\n\n## Common Use Cases\n\n### Starting New Feature\n```\nUser: \"Create task doc for payments integration\"\n Generates TASK-07-payments.md\n Empty template for planning\n User fills in as they work\n```\n\n### Completing Feature\n```\nUser: \"Document the auth feature I just finished\"\n Analyzes conversation\n Generates TASK-06-auth.md\n Complete implementation record\n Archives for future reference\n```\n\n### Mid-Feature Update\n```\nUser: \"Update TASK-05 with OAuth decision\"\n Reads existing TASK-05-auth.md\n Adds to Technical Decisions section\n Preserves rest of document\n```\n\n## Error Handling\n\n**Navigator not initialized**:\n```\n .agent/tasks/ directory not found\n\nRun /nav:init to set up Navigator structure first.\n```\n\n**Task ID already exists (for creation)**:\n```\n  TASK-{XX} already exists\n\nOptions:\n1. Read existing task\n2. Use different ID\n3. Archive/overwrite existing\n\nYour choice [1-3]:\n```\n\n**Insufficient context to archive**:\n```\n  Not enough conversation context to generate implementation plan\n\nConsider:\n- Provide more details about what was built\n- Manually create task doc\n- Skip archiving\n\nContinue with template? [y/N]:\n```\n\n## Success Criteria\n\nTask documentation is successful when:\n- [ ] Task file created in `.agent/tasks/`\n- [ ] Filename follows convention: `TASK-{XX}-{slug}.md`\n- [ ] Contains all required sections\n- [ ] Navigator index updated\n- [ ] PM tool updated (if configured)\n- [ ] User can reference task later\n\n## Scripts\n\n**generate_task.py**: Create task documentation from conversation\n- Input: Conversation history, task ID\n- Output: Formatted task markdown\n\n**update_index.py**: Update DEVELOPMENT-README.md task index\n- Input: New task info\n- Output: Updated index\n\n## Best Practices\n\n**Good task slugs**:\n- `oauth-implementation` (descriptive)\n- `stripe-payment-flow` (clear purpose)\n- `user-profile-page` (specific feature)\n\n**Bad task slugs**:\n- `feature` (too vague)\n- `fix` (not descriptive)\n- `task1` (meaningless)\n\n**When to create task docs**:\n-  Starting major feature (> 1 day work)\n-  Completing any feature (archive)\n-  Complex implementation (capture decisions)\n-  Tiny bug fixes (use SOPs instead)\n-  Exploratory work (wait until direction clear)\n\n## Notes\n\nTask docs are **living documents**:\n- Created when starting feature (template)\n- Updated during implementation (decisions)\n- Finalized when complete (archive)\n\nThey serve as:\n- Planning tool (before implementation)\n- Progress tracker (during implementation)\n- Historical record (after completion)\n- Knowledge base (for team/future)\n\nThis skill provides same functionality as `/nav:doc feature` command but with natural language invocation."
              },
              {
                "name": "nav-upgrade",
                "description": "Automates Navigator plugin updates. Detects current version, updates plugin, verifies installation, updates project CLAUDE.md, and validates new features. Auto-invoke when user mentions upgrading Navigator or getting new features.",
                "path": "skills/nav-upgrade/SKILL.md",
                "frontmatter": {
                  "name": "nav-upgrade",
                  "description": "Automates Navigator plugin updates. Detects current version, updates plugin, verifies installation, updates project CLAUDE.md, and validates new features. Auto-invoke when user mentions upgrading Navigator or getting new features.",
                  "allowed-tools": "Bash, Read, Write, Edit, TodoWrite",
                  "version": "1.0.0"
                },
                "content": "# Navigator Upgrade Skill\n\nAutomate Navigator plugin updates with version detection, conflict resolution, and post-update validation.\n\n## When to Invoke\n\nAuto-invoke when user says:\n- \"Update Navigator\"\n- \"Upgrade Navigator plugin\"\n- \"Get latest Navigator version\"\n- \"Update to Navigator v3.3.0\"\n- \"Install new Navigator features\"\n- \"Check for Navigator updates\"\n\n## What This Does\n\n**6-Step Workflow**:\n1. **Version Detection**: Check current Navigator version vs latest\n2. **Plugin Update**: Execute `/plugin update navigator`\n3. **Verification**: Confirm update succeeded\n4. **CLAUDE.md Update**: Update project configuration (via nav-update-claude)\n5. **Hooks Setup**: Install/update token monitoring hooks in project\n6. **Feature Discovery**: Show new features available\n\n**Time Savings**: Manual update (10-15 min)  Automated (2 min)\n\n---\n\n## Prerequisites\n\n- Navigator plugin installed\n- Project initialized with Navigator\n- Internet connection for plugin update\n\n---\n\n## Workflow Protocol\n\n### Step 1: Version Detection\n\n**Execute**: `version_detector.py`\n\n**Check both stable and pre-release versions**:\n```bash\n# Current installed version\ngrep '\"version\"' .claude-plugin/plugin.json\n\n# Get all releases (including pre-releases)\ncurl -s https://api.github.com/repos/alekspetrov/navigator/releases\n\n# Parse:\n# - Latest stable (prerelease: false)\n# - Latest pre-release (prerelease: true)\n# - Compare with current version\n```\n\n**Output scenarios**:\n\n**Scenario 1: Stable update available**\n```json\n{\n  \"current_version\": \"4.0.0\",\n  \"latest_stable\": \"4.2.0\",\n  \"latest_prerelease\": null,\n  \"recommendation\": \"update_to_stable\"\n}\n```\n\n**Scenario 2: Pre-release available (user on stable)**\n```json\n{\n  \"current_version\": \"4.0.0\",\n  \"latest_stable\": \"4.0.0\",\n  \"latest_prerelease\": \"4.3.0\",\n  \"recommendation\": \"offer_prerelease_option\"\n}\n```\n\n**Present choice**:\n```\n You're on the latest stable version (v4.0.0)\n\n Experimental version available: v4.3.0\n\nNew in v4.3.0 (Experimental):\n Multi-Claude agentic workflows\n 30% success rate (use for simple features)\n PM integration with ticket closing\n\nOptions:\n[1] Stay on stable v4.0.0 (recommended)\n[2] Try experimental v4.3.0 (early adopter)\n\nYour choice [1-2]:\n```\n\n**Scenario 3: Already on latest (stable or pre-release)**\n```\n You're on v4.3.0 (latest experimental)\n\nLatest stable: v4.0.0\nStatus: You're ahead of stable (testing experimental features)\n\nNew features in your version:\n- Multi-Claude workflows\n- Task agents in sub-Claude phases\n```\n\nSkip to Step 5 (Feature Discovery).\n\n**Scenario 4: On pre-release, newer stable available**\n```\n  You're on v4.3.0 (experimental)\nLatest stable: v4.6.0\n\nRecommendation: Update to stable v4.6.0\nExperimental features from v4.3.0 are now stable.\n```\n\n---\n\n### Step 2: Plugin Update\n\n**Scenario-based update strategy**:\n\n#### Scenario 2: Pre-release Available (User on Stable)\n\nWhen pre-release detected, present choice using AskUserQuestion tool:\n\n```markdown\n You're on latest stable version (v4.0.0)\n\n Experimental version available: v4.3.0\n\nNew in v4.3.0 (Experimental):\n Multi-Claude agentic workflows\n 30% success rate (use for simple features)\n PM integration with ticket closing\n\n**Question**: Which version would you like?\n\n**Options**:\n[1] **Stay on stable v4.0.0** (recommended)\n    - Production-ready\n    - No experimental features\n    - Most reliable\n\n[2] **Try experimental v4.3.0** (early adopter)\n    - Multi-Claude workflows\n    - Latest features\n    - 30% completion rate\n    - Help test new functionality\n\nYour choice?\n```\n\n**If user chooses [1] (Stay stable)**:\n```\n Staying on v4.0.0 (latest stable)\n\nNo action needed. Run nav-upgrade again when you're ready to try experimental features.\n```\n\n**If user chooses [2] (Try experimental)**:\n```bash\n# Uninstall current version\n/plugin uninstall navigator\n\n# Add marketplace (if not already added)\n/plugin marketplace add alekspetrov/navigator\n\n# Install specific pre-release version\n# Note: /plugin update only fetches stable, must install specific version\ngit clone https://github.com/alekspetrov/navigator.git /tmp/navigator-v4.3.0\ncd /tmp/navigator-v4.3.0\ngit checkout v4.3.0\n\n# Install from local checkout\n/plugin install /tmp/navigator-v4.3.0\n```\n\n**Then verify installation**:\n```bash\n/plugin list | grep navigator\n# Should show: navigator (v4.3.0)\n```\n\n#### Scenario 1: Stable Update Available\n\n**Execute**: `/plugin update navigator`\n\n**Monitor output**:\n```\nUpdating navigator...\n Navigator updated to v4.2.0\n```\n\n**If update fails**:\n```\n Update failed: [error message]\n\nTroubleshooting:\n1. Restart Claude Code\n2. Try: /plugin uninstall navigator && /plugin install navigator\n3. Check internet connection\n4. Report issue: https://github.com/alekspetrov/navigator/issues\n```\n\n**Automatic retry** (once):\nIf update fails, try uninstall/reinstall automatically:\n```bash\n/plugin uninstall navigator\n/plugin marketplace add alekspetrov/navigator\n/plugin install navigator\n```\n\n---\n\n### Step 3: Verification\n\n**Execute**: `plugin_verifier.py`\n\n**Verify**:\n1. Plugin version matches latest\n2. New skills registered in plugin.json\n3. Skills are invokable\n\n**Test new skills** (v3.3.0 example):\n```bash\n# Test that visual-regression skill exists\nls ~/.config/claude/plugins/navigator/skills/visual-regression/SKILL.md 2>/dev/null || echo \"Skill not found\"\n```\n\n**Output**:\n```\n Update Verification\n\nVersion: v3.3.0 \nNew Skills Registered: visual-regression \nSkills Invokable: \n\nUpdate successful!\n```\n\n**If verification fails**:\n```\n Update completed but verification failed\n\nIssue: visual-regression skill not found\nFix: Restart Claude Code to reload skills\n\nAfter restarting, verify:\n\"Set up visual regression for Button\"\n```\n\nPrompt user to restart Claude Code.\n\n---\n\n### Step 4: Update Project CLAUDE.md (Automatic)\n\n**After plugin update, automatically invoke**: `nav-update-claude` skill\n\n```\n Syncing project CLAUDE.md with updated plugin...\n\n Using template from GitHub (v4.3.0)\n Extracted customizations\n Generated updated CLAUDE.md\n```\n\n**What happens automatically**:\n1. Detects new plugin version (e.g., v4.3.0)\n2. Fetches matching template from GitHub\n3. Preserves project customizations\n4. Updates CLAUDE.md in current project\n5. Shows diff for review\n\n**Template sync benefits**:\n-  CLAUDE.md always matches installed plugin version\n-  No template drift (v4.0 templates with v4.3 plugin)\n-  Pre-release templates accessible\n-  Offline fallback to bundled templates\n\n**User action required**:\n```\nReview changes and commit:\n\ngit add CLAUDE.md\ngit commit -m \"chore: update CLAUDE.md to Navigator v4.3.0\"\n```\n\n**See**: `nav-update-claude` skill for details.\n\n---\n\n### Step 5: Setup Token Monitoring Hooks\n\n**Install or update project hooks** for token budget monitoring:\n\n```bash\n# Create .claude directory if not exists\nmkdir -p .claude\n\n# Check if settings.json exists\nif [ -f \".claude/settings.json\" ]; then\n  # Backup existing settings\n  cp .claude/settings.json .claude/settings.json.backup\n  echo \" Backed up existing .claude/settings.json\"\nfi\n\n# Write hook configuration\ncat > .claude/settings.json << 'EOF'\n{\n  \"hooks\": {\n    \"PostToolUse\": [\n      {\n        \"matcher\": \"Write|Edit|Bash|Task\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"python3 \\\"${CLAUDE_PLUGIN_DIR}/hooks/monitor-tokens.py\\\"\",\n            \"timeout\": 5\n          }\n        ]\n      }\n    ]\n  }\n}\nEOF\n\necho \" Token monitoring hook installed\"\n```\n\n**What this enables**:\n- Monitors context usage after each tool call\n- Warns at 70% usage, critical alert at 85%\n- Suggests `/nav:compact` when approaching limits\n- Prevents context crashes during long sessions\n\n**Output**:\n```\n Token monitoring hook installed\n\nNew in v4.6.0:\n  - Automatic context budget monitoring\n  - Warns before you hit context limits\n  - Suggests compact at optimal times\n```\n\n---\n\n### Step 6: Post-Upgrade Setup Check\n\n**Check if new features require setup**:\n\n```bash\n# Check for skills with setup requirements\nif [ -f \"$NAVIGATOR_PATH/skills/product-design/setup.sh\" ]; then\n  # Check if venv exists\n  if [ ! -d \"$NAVIGATOR_PATH/skills/product-design/venv\" ]; then\n    echo \"  product-design skill requires setup\"\n    NEEDS_SETUP=true\n  fi\nfi\n```\n\n**If setup needed, show instructions**:\n\n```markdown\n  New Feature Requires Setup\n\nThe product-design skill (v3.4.0+) requires Python dependencies:\n\n**One-time setup** (30 seconds):\n```bash\ncd ~/.claude/plugins/marketplaces/jitd-marketplace/skills/product-design\n./setup.sh\n```\n\n**What this installs**:\n- Python MCP SDK for direct Figma connection\n- 95% orchestration reduction\n- 92% token savings\n\n**After setup, use**:\n\"Review this Figma design: [URL]\"\n```\n\n**Record setup needed in TodoWrite** for tracking.\n\n---\n\n### Step 7: Feature Discovery\n\n**Show new features** available in updated version.\n\n**For v3.3.0 update**:\n````markdown\n Navigator v3.3.0 Update Complete!\n\n## New Features Available\n\n### visual-regression Skill (NEW)\nSet up Storybook + Chromatic in 5 minutes instead of 2-3 hours.\n\n**Usage**:\n```\n\"Set up visual regression for ProfileCard\"\n\"Add Chromatic to Button component\"\n\"Configure visual tests for Input, Card, Modal\"\n```\n\n**What it does**:\n Generates Storybook stories with all variants\n Configures Chromatic/Percy/BackstopJS\n Creates CI workflows (GitHub Actions, GitLab CI)\n Adds accessibility tests\n\n**Complete Design Pipeline** (v3.2 + v3.3):\n1. \"Review this design from Figma\" (v3.2)\n2. Implement components\n3. \"Set up visual regression\" (v3.3 NEW)\n4. Automated visual testing in CI\n\n### Updated Skills Count\n- **17 total skills** (was 16)\n- 10 core Navigator skills\n- 7 development skills\n\n### Integration\nvisual-regression integrates with product-design skill for complete designcodetesting workflow.\n\n## Try It Now\n\nIf you have Storybook in this project:\n```\n\"Set up visual regression for [ComponentName]\"\n```\n\nIf you don't have Storybook:\n```bash\nnpx storybook init\n```\n\nThen:\n```\n\"Set up visual regression for [ComponentName]\"\n```\n\n## Documentation\n\n- Release Notes: https://github.com/alekspetrov/navigator/releases/tag/v3.3.0\n- Skill Docs: skills/visual-regression/SKILL.md\n- Examples: skills/visual-regression/examples/\n- SOP: .agent/sops/testing/visual-regression-setup.md (created in your project)\n````\n\n---\n\n## Predefined Functions\n\n### functions/version_detector.py\n\n**Purpose**: Detect current and latest Navigator versions\n\n**Usage**:\n```bash\npython3 functions/version_detector.py\n```\n\n**Output**:\n```json\n{\n  \"current_version\": \"3.2.0\",\n  \"latest_version\": \"3.3.0\",\n  \"update_available\": true,\n  \"release_url\": \"https://github.com/alekspetrov/navigator/releases/tag/v3.3.0\",\n  \"changes\": {\n    \"new_skills\": [\"visual-regression\"],\n    \"updated_skills\": [\"product-design\"],\n    \"new_features\": [\"Multi-tool VR support\", \"CI workflows\"],\n    \"breaking_changes\": []\n  }\n}\n```\n\n### functions/plugin_updater.py\n\n**Purpose**: Execute plugin update with retry logic\n\n**Usage**:\n```bash\npython3 functions/plugin_updater.py --target-version 3.3.0\n```\n\n**Actions**:\n1. Execute `/plugin update navigator`\n2. If fails, retry with uninstall/reinstall\n3. Verify update succeeded\n4. Return status\n\n### functions/plugin_verifier.py\n\n**Purpose**: Verify update completed successfully\n\n**Usage**:\n```bash\npython3 functions/plugin_verifier.py --expected-version 3.3.0\n```\n\n**Checks**:\n- Plugin version matches expected\n- New skills exist in filesystem\n- Skills registered in plugin.json\n- Skills are invokable (test invocation)\n\n---\n\n## Error Handling\n\n### Update Failed: Network Error\n\n```\n Update failed: Could not connect to plugin marketplace\n\nFix:\n1. Check internet connection\n2. Try again in a few minutes\n3. Manual update: /plugin uninstall navigator && /plugin install navigator\n```\n\n### Update Failed: Permission Denied\n\n```\n Update failed: Permission denied\n\nFix:\n1. Close Claude Code\n2. Check ~/.config/claude/plugins/ permissions\n3. Restart Claude Code\n4. Try update again\n```\n\n### Verification Failed: Skills Not Found\n\n```\n Update completed but new skills not found\n\nFix:\n1. Restart Claude Code (required for skill reload)\n2. Verify: /plugin list\n3. Test: \"Set up visual regression for Button\"\n```\n\nAutomatically prompt user to restart.\n\n### CLAUDE.md Update Conflicts\n\n```\n CLAUDE.md update has conflicts with your customizations\n\nOptions:\n[1] Keep my customizations (merge new features)\n[2] Use new template (lose customizations)\n[3] Show me the diff first\n\nReply with choice\n```\n\nLet user decide how to handle conflicts.\n\n---\n\n## Upgrade Paths\n\n### From v3.0.x to v3.3.0\n\n**Changes**:\n- +2 skills (nav-markers in v3.1, visual-regression in v3.3)\n- OpenTelemetry integration (v3.1)\n- Product design skill (v3.2)\n- Visual regression skill (v3.3)\n\n**Breaking changes**: None (fully backward compatible)\n\n### From v3.1.x to v3.3.0\n\n**Changes**:\n- Product design skill (v3.2)\n- Visual regression skill (v3.3)\n- Updated skills count (17 total)\n\n**Breaking changes**: None\n\n### From v3.2.x to v3.3.0\n\n**Changes**:\n- Visual regression skill\n- Integration with product-design workflow\n- Updated skills count (17 total)\n\n**Breaking changes**: None\n\n---\n\n## Post-Update Checklist\n\nAfter upgrade, verify:\n\n-  `/plugin list` shows new version\n-  CLAUDE.md updated with new patterns\n-  New skills auto-invoke on natural language\n-  Existing skills still work\n-  No conflicts in project configuration\n\n**If all checked**: Update successful!\n\n---\n\n## Rollback\n\nIf update causes issues:\n\n```\n\"Rollback Navigator to v3.2.0\"\n```\n\nThis will:\n1. Uninstall current version\n2. Install specific version from marketplace\n3. Update CLAUDE.md to match\n4. Verify rollback succeeded\n\n---\n\n## Integration Points\n\n### With nav-update-claude\n\nAfter plugin update, automatically invokes `nav-update-claude` to sync project configuration.\n\n### With nav-start\n\nAfter update, `nav-start` shows new features available in session statistics.\n\n### With nav-init\n\nIf upgrading before project initialization, suggests running `nav-init` with latest features.\n\n---\n\n## Examples\n\n### Example 1: Simple Update\n\n```\nUser: \"Update Navigator\"\n\n Detects: v3.2.0  v3.3.0 available\n Updates plugin\n Updates CLAUDE.md\n Shows: \"visual-regression skill now available\"\n Suggests: \"Set up visual regression for [Component]\"\n```\n\n### Example 2: Already on Latest\n\n```\nUser: \"Update Navigator\"\n\n Detects: Already on v3.3.0\n Shows new features available\n Suggests trying visual-regression if not used yet\n```\n\n### Example 3: Update with Restart Required\n\n```\nUser: \"Update Navigator\"\n\n Updates plugin\n Verification: Skills not found (needs restart)\n Prompts: \"Please restart Claude Code to complete update\"\n After restart: Verification succeeds\n```\n\n---\n\n## Best Practices\n\n1. **Update regularly**: Check for updates monthly\n2. **Read release notes**: Understand new features before using\n3. **Test new skills**: Try new features in test project first\n4. **Report issues**: File GitHub issues for update problems\n5. **Backup CLAUDE.md**: Keep backup before update (auto-created)\n\n---\n\n## Version History\n\n- **v1.0.0**: Initial nav-upgrade skill (Navigator v3.3.1)\n\n---\n\n## Future Enhancements\n\n- Auto-update check on `nav-start` (opt-in)\n- Changelog display in CLI\n- Update notifications for major versions\n- Automated migration scripts for breaking changes\n\n---\n\n**Last Updated**: 2025-10-21\n**Skill Type**: Core Navigator\n**Auto-Invocation**: Yes"
              },
              {
                "name": "plugin-slash-command",
                "description": "Generate new Navigator slash commands following project conventions. Use when user says \"add slash command\", \"create command\", \"new /nav command\", or \"add /nav:[name] command\".",
                "path": "skills/plugin-slash-command/SKILL.md",
                "frontmatter": {
                  "name": "plugin-slash-command",
                  "description": "Generate new Navigator slash commands following project conventions. Use when user says \"add slash command\", \"create command\", \"new /nav command\", or \"add /nav:[name] command\".",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash",
                  "version": "1.0.0"
                },
                "content": "# Navigator Slash Command Generator\n\nGenerate new slash commands for the Navigator plugin following established conventions and patterns.\n\n## When to Invoke\n\nAuto-invoke when user says:\n- \"Add a slash command for...\"\n- \"Create a new /nav:[name] command\"\n- \"Generate slash command...\"\n- \"Add /nav:[feature] command\"\n- \"New Navigator command for...\"\n\n## What This Does\n\n1. Asks for command details (name, purpose, complexity)\n2. Analyzes existing commands for pattern matching\n3. Generates command markdown file with proper structure\n4. Validates YAML frontmatter and formatting\n5. Shows usage example\n\n## Execution Steps\n\n### Step 1: Gather Command Requirements\n\nAsk user:\n- **Command name** (kebab-case, without /nav: prefix)\n  - Example: \"marker\", \"compact\", \"update-doc\"\n- **Command purpose** (one sentence description)\n  - Example: \"Create context markers to save conversation state\"\n- **Command complexity**:\n  - Simple: Single action, minimal steps (e.g., marker)\n  - Medium: Multiple steps, some logic (e.g., compact)\n  - Complex: Multi-phase execution, integrations (e.g., init, start)\n- **User-facing or internal**?\n  - User-facing: Part of standard Navigator workflow\n  - Internal: For plugin development/maintenance\n\n### Step 2: Analyze Similar Commands\n\nUse Task agent to find similar commands:\n```\n\"Find existing Navigator commands similar to [purpose]:\n - Commands in commands/*.md\n - Similar complexity level\n - Common structure patterns\n - Return 2-3 best examples\"\n```\n\n**What to extract from examples**:\n- Section structure (What This Does, When to Use, etc.)\n- Tone and style (conversational, 2nd person)\n- Emoji usage patterns\n- Example format\n- Troubleshooting patterns\n\n### Step 3: Design Command Structure\n\nBased on complexity level:\n\n**Simple commands**:\n```\n- YAML frontmatter (description)\n- Title\n- What This Does (2-3 sentences)\n- Usage (basic syntax + examples)\n- When to Use (2-3 scenarios)\n- Expected Output\n- Troubleshooting (2-3 common issues)\n- Closing statement\n```\n\n**Medium commands**:\n```\n- YAML frontmatter\n- Title + overview\n- What This Does (detailed explanation)\n- When to Use (5-6 scenarios with examples)\n- Usage / Execution Steps\n- Output Format\n- Integration notes (if applicable)\n- Troubleshooting (4-5 issues)\n- Best Practices\n- Closing statement\n```\n\n**Complex commands**:\n```\n- YAML frontmatter\n- Title + comprehensive overview\n- What This Does (with comparisons)\n- Execution Plan (multi-step)\n- Pre-flight checks\n- Step-by-step implementation\n- Validation steps\n- Integration with PM tools (if applicable)\n- Success criteria\n- Troubleshooting (comprehensive)\n- Edge cases\n- Performance notes\n- Closing statement\n```\n\n### Step 4: Generate Command File\n\n**Use predefined function**: `functions/command_generator.py`\n\n```python\n# Generates command markdown following Navigator conventions\ngenerate_command(\n    name=\"[command-name]\",\n    description=\"[one-line purpose]\",\n    complexity=\"simple|medium|complex\",\n    sections={\n        \"what_this_does\": \"...\",\n        \"when_to_use\": [...],\n        \"usage\": \"...\",\n        \"execution_steps\": [...],\n        \"troubleshooting\": [...]\n    }\n)\n```\n\n**File location**: `commands/[command-name].md`\n\n**Structure**:\n1. YAML frontmatter with description\n2. Title (# Command Name - Navigator Context)\n3. Overview paragraph (what user is doing)\n4. Content sections (based on complexity)\n5. Closing statement (emoji + key takeaway)\n\n### Step 5: Validate Generated Command\n\n**Use predefined function**: `functions/command_validator.py`\n\nChecks:\n- [ ] YAML frontmatter is valid\n- [ ] Description field exists and is clear\n- [ ] Markdown structure is correct\n- [ ] All sections have content\n- [ ] Code blocks are properly formatted\n- [ ] Examples are realistic\n- [ ] Troubleshooting addresses real issues\n- [ ] Tone matches Navigator style (conversational, helpful)\n- [ ] Emoji usage is consistent with other commands\n- [ ] File name matches command name (kebab-case)\n\n### Step 6: Show Usage Example\n\nDisplay:\n```\n Slash Command Created: /nav:[command-name]\n\nFile: commands/[command-name].md\nLines: [count]\nComplexity: [simple/medium/complex]\n\nTry it:\n/nav:[command-name]\n\nWhat it does:\n[brief description]\n\nNext steps:\n1. Test the command manually\n2. Update plugin documentation if public-facing\n3. Add to CLAUDE.md command list if needed\n```\n\n---\n\n## Example Workflows\n\n### Example 1: Simple Command\n\n**User**: \"Add a slash command for showing Navigator version\"\n\n**Execution**:\n\n1. **Gather requirements**:\n   ```\n   Name: version\n   Purpose: Display current Navigator plugin version\n   Complexity: Simple\n   Type: User-facing\n   ```\n\n2. **Analyze similar** (via Task agent):\n   ```\n   Found similar: marker.md (simple, informational)\n   Pattern: Short description  Usage  When to use  Output\n   ```\n\n3. **Design structure**:\n   ```\n   - Frontmatter\n   - Title: \"Navigator Version Info\"\n   - What This Does: 1 paragraph\n   - Usage: Basic syntax\n   - When to Use: 2-3 scenarios\n   - Output Format: Example\n   - Closing statement\n   ```\n\n4. **Generate**: `commands/version.md`\n   ```markdown\n   ---\n   description: Display Navigator plugin version and system info\n   ---\n\n   # Navigator Version Info\n\n   Check which version of Navigator you're running.\n\n   ## What This Does\n\n   Displays the current Navigator plugin version, Claude Code version, and system configuration.\n\n   ## Usage\n\n   ```bash\n   /nav:version\n   ```\n\n   ## When to Use\n\n   **Reporting issues**:\n   - Include version info in bug reports\n   - Help maintainers reproduce issues\n\n   **Checking updates**:\n   - See if you're on latest version\n   - Compare with marketplace version\n\n   **System diagnostics**:\n   - Verify plugin installed correctly\n   - Check configuration loaded\n\n   ## Output Format\n\n   ```\n   Navigator Plugin\n   \n   Version: 2.2.0\n   Installed: /Users/you/.claude/plugins/jitd\n   Config: .agent/.nav-config.json\n\n   System:\n   - Claude Code: 1.5.0\n   - Project: /Users/you/project\n   - Platform: darwin\n   ```\n\n   **Keep your Navigator up to date for latest features** \n   ```\n\n5. **Validate**:  All checks pass\n\n6. **Show usage**:\n   ```\n    Slash Command Created: /nav:version\n\n   File: commands/version.md\n   Lines: 45\n   Complexity: Simple\n\n   Try it: /nav:version\n   ```\n\n### Example 2: Medium Command\n\n**User**: \"Create a command for archiving old task documentation\"\n\n**Execution**:\n\n1. **Gather requirements**:\n   ```\n   Name: archive-tasks\n   Purpose: Move completed tasks to archive directory\n   Complexity: Medium (file operations, validation)\n   Type: User-facing\n   ```\n\n2. **Analyze similar**:\n   ```\n   Found: markers.md (file management, user selection)\n   Found: compact.md (multi-step process)\n   Pattern: Overview  Execution Plan  Steps  Validation\n   ```\n\n3. **Design structure**:\n   ```\n   - Frontmatter\n   - Title + overview\n   - What This Does (comparison with manual approach)\n   - When to Use (5 scenarios)\n   - Execution Plan (Step 1-4)\n   - Output Format\n   - Troubleshooting (4 issues)\n   - Best Practices\n   - Closing\n   ```\n\n4. **Generate**: `commands/archive-tasks.md` (full content)\n\n5. **Validate**:  All checks pass\n\n6. **Show usage**: Command ready to use\n\n---\n\n## Output Format\n\n**After generating command, show**:\n\n```\n Slash Command Created: /nav:[name]\n\nStructure:\n\n commands/[name].md\n\nSections:\n YAML frontmatter\n Title and overview\n What This Does\n When to Use ([N] scenarios)\n Usage / Execution Plan\n [Additional sections based on complexity]\n Troubleshooting\n Closing statement\n\n\nCommand: /nav:[name]\nPurpose: [brief description]\nLines: [count]\n\nTest it:\n/nav:[name]\n\nDocumentation:\n- Add to README.md if user-facing\n- Update CLAUDE.md command list\n- Add to plugin.json if needed\n```\n\n---\n\n## Best Practices\n\n### Command Naming\n- Use kebab-case (marker, update-doc, archive-tasks)\n- Be specific but concise (not too generic, not too verbose)\n- Match feature purpose (nav:compact for compacting)\n- Avoid abbreviations unless very common\n\n### Description Writing\n- One sentence, clear purpose\n- Action-oriented (\"Create\", \"Display\", \"Update\")\n- Mention key benefit or what it does\n- Under 100 characters\n\n### Content Structure\n- Start with user perspective (\"You are...\")\n- Use 2nd person (\"your task\", \"you can\")\n- Include realistic examples\n- Show expected output\n- Address common issues in troubleshooting\n\n### Tone and Style\n- Conversational and helpful\n- Use emojis for visual markers ()\n- Bold key terms and actions\n- Code blocks for all commands/output\n- Bullet lists for readability\n\n### Examples Quality\n- Real-world scenarios (not toy examples)\n- Show before/after when relevant\n- Include expected output\n- Cover common use cases\n- Demonstrate Navigator benefits\n\n### Troubleshooting Section\n- Address real issues users might encounter\n- Provide specific solutions (not generic advice)\n- Include verification commands\n- Link to related docs if helpful\n\n---\n\n## Common Command Patterns\n\n### Informational Commands\n**Pattern**: Simple structure, quick output\n**Examples**: version, status, list\n**Sections**: Description  Usage  Output\n\n### Action Commands\n**Pattern**: Execute something, show result\n**Examples**: marker, compact, archive\n**Sections**: Description  Execution  Validation  Result\n\n### Setup/Configuration Commands\n**Pattern**: Multi-step process, checks\n**Examples**: init, migrate, setup\n**Sections**: Pre-flight  Steps  Validation  Troubleshooting\n\n### Management Commands\n**Pattern**: User selection, operations, feedback\n**Examples**: markers (list/load), tasks (list/select)\n**Sections**: Overview  Modes  Operations  Results\n\n---\n\n## Troubleshooting\n\n### Generated Command Too Short\n\n**Problem**: Command content is sparse, missing sections\n\n**Solutions**:\n1. Increase complexity level (simple  medium)\n2. Add more scenarios to \"When to Use\"\n3. Expand troubleshooting section (more common issues)\n4. Add Best Practices section\n5. Include more examples\n\n### Command Doesn't Match Navigator Style\n\n**Problem**: Tone or structure feels off\n\n**Solutions**:\n1. Re-analyze example commands (marker.md, compact.md)\n2. Check emoji usage (should match existing patterns)\n3. Verify 2nd person perspective (\"You are...\")\n4. Ensure conversational tone (not technical manual)\n5. Add personality to closing statement\n\n### YAML Validation Fails\n\n**Problem**: Invalid frontmatter\n\n**Solutions**:\n1. Check YAML syntax (proper indentation)\n2. Ensure `description` field exists\n3. Verify no special characters break parsing\n4. Test with: `python -c \"import yaml; yaml.safe_load(open('commands/[name].md').read().split('---')[1])\"`\n\n### Examples Are Too Generic\n\n**Problem**: Examples don't feel realistic\n\n**Solutions**:\n1. Base examples on actual Navigator usage\n2. Use real file paths (not /path/to/file)\n3. Show actual output format (not [output here])\n4. Include context (why user would run this)\n\n---\n\n## Success Criteria\n\n**This skill succeeds when**:\n- [ ] Generated command file is syntactically valid\n- [ ] YAML frontmatter passes validation\n- [ ] All required sections present\n- [ ] Tone matches Navigator style (conversational, helpful)\n- [ ] Examples are realistic and useful\n- [ ] Troubleshooting addresses real issues\n- [ ] Command can be invoked in Claude Code\n- [ ] Minimal manual editing needed (<10% of content)\n\n---\n\n**The plugin-slash-command skill automates Navigator command creation, ensuring consistency and saving development time** "
              },
              {
                "name": "product-design",
                "description": "Automates design review, token extraction, component mapping, and implementation planning. Reduces design handoff from 6-10 hours to 5 minutes via direct Figma MCP integration. Auto-invoke when user mentions design review, Figma mockup, or design handoff.",
                "path": "skills/product-design/SKILL.md",
                "frontmatter": {
                  "name": "product-design",
                  "description": "Automates design review, token extraction, component mapping, and implementation planning. Reduces design handoff from 6-10 hours to 5 minutes via direct Figma MCP integration. Auto-invoke when user mentions design review, Figma mockup, or design handoff.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash, Task, TodoWrite",
                  "version": "1.1.0"
                },
                "content": "# Product Design Skill\n\nAutomate design handoff from Figma to code with design system intelligence. Extract tokens, map components, detect drift, generate implementation plans.\n\n## When to Invoke\n\nAuto-invoke when user says:\n- \"Review this design\"\n- \"Analyze Figma mockup\"\n- \"Design handoff for [feature]\"\n- \"Check design system impact\"\n- \"Plan implementation for design\"\n- \"Extract tokens from Figma\"\n- \"What changed in the design?\"\n\n## What This Does\n\n**5-Step Workflow**:\n1. **Design Analysis**: Extract patterns, components, tokens from Figma\n2. **Codebase Audit**: Compare design vs implementation, find drift\n3. **Implementation Planning**: Generate phased task breakdown\n4. **Task Assignment**: Create Navigator task document\n5. **Handoff**: Ask user to review or start implementation\n\n**Time Savings**: 6-10 hours  15-20 minutes (95% reduction)\n\n## Prerequisites\n\n### Required\n\n1. **Python Dependencies**\n   ```bash\n   cd skills/product-design\n   ./setup.sh  # Automated installation\n   # OR manually: pip install -r requirements.txt\n   ```\n\n2. **Figma Desktop** (for automated workflow)\n   - Download: https://www.figma.com/downloads/\n   - Enable MCP: Figma  Preferences  Enable local MCP Server\n   - Must be running during design reviews\n\n3. **Project Structure**\n   - `.agent/design-system/` directory (created on first run)\n   - Project with components (React/Vue/Svelte)\n\n### Optional (Enhanced Features)\n- **Figma Enterprise**: Code Connect for automatic component mapping\n- **Tailwind CSS**: Design token integration via @theme\n- **Storybook**: Component documentation and visual regression\n\n### Installation\n\n**Quick start**:\n```bash\ncd skills/product-design\n./setup.sh\n```\n\nSee `INSTALL.md` for detailed installation guide and troubleshooting.\n\n## Workflow Protocol\n\n### Step 0: Check Setup (Auto-Run)\n\n**Before starting, verify Python dependencies installed**:\n\n```bash\n# Get Navigator plugin path\nPLUGIN_PATH=$(dirname \"$(dirname \"$(dirname \"$PWD\")\")\")\n\n# Check if venv exists\nif [ ! -d \"$PLUGIN_PATH/skills/product-design/venv\" ]; then\n  echo \" product-design skill not set up\"\n  echo \"\"\n  echo \"Run setup (30 seconds):\"\n  echo \"  cd $PLUGIN_PATH/skills/product-design && ./setup.sh\"\n  echo \"\"\n  echo \"Or use manual workflow (no Python needed)\"\n  exit 1\nfi\n```\n\n**If setup missing**:\n- Show setup instructions\n- Offer manual workflow as alternative\n- **Do not proceed** with automated Figma workflow\n\n**If setup complete**:\n- Continue to Step 1 (Design Analysis)\n\n---\n\n### Step 1: Design Analysis\n\n**Objective**: Extract design patterns from Figma or manual description\n\n#### With Figma MCP (Automated)  SIMPLIFIED\n\n**New Architecture** (v1.1.0+): Python directly connects to Figma MCP - no manual orchestration!\n\n```python\n# Python functions now handle MCP connection automatically\nfrom figma_mcp_client import FigmaMCPClient\n\nasync with FigmaMCPClient() as client:\n    # Progressive refinement - fetch only what's needed\n    metadata = await client.get_metadata()\n    components = extract_components(metadata)\n\n    # Fetch details only for complex components\n    for comp in components:\n        if comp['complexity'] == 'high':\n            comp['detail'] = await client.get_design_context(comp['id'])\n\n    # Get design tokens\n    variables = await client.get_variable_defs()\n```\n\n**Workflow** (fully automated):\n1. User provides Figma URL\n2. Run `python3 functions/design_analyzer.py --figma-url <URL>`\n3. Python connects to Figma MCP (http://127.0.0.1:3845/mcp)\n4. Fetches metadata  analyzes  fetches details only if needed\n5. Returns complete analysis\n\n**Benefits**:\n-  No manual MCP tool calls by Claude\n-  Progressive refinement (smart token usage)\n-  Automatic connection management\n-  Built-in error handling\n\n**Requirements**:\n- Figma Desktop running\n- MCP enabled in preferences\n- Python dependencies installed (`./setup.sh`)\n\n#### Manual Workflow (No MCP)\n\n```markdown\n**Ask user for design information**:\n\nWhat is the feature name? [e.g., \"Dashboard Redesign\"]\n\nFigma link (optional): [figma.com/file/...]\n\n**Design Tokens**:\nList new or modified tokens:\n- Colors (name: value, e.g., \"primary-600: #2563EB\")\n- Spacing (e.g., \"spacing-lg: 24px\")\n- Typography (e.g., \"heading-xl: 36px/600\")\n- Other (radius, shadow, etc.)\n\n**Components**:\nList components in design:\n- Component name\n- Type (atom, molecule, organism)\n- Variants (if any, e.g., \"Button: primary/secondary, sm/md/lg\")\n- Similar to existing component? (name if known)\n\n**Proceed to Step 2** after gathering information\n```\n\n#### Run design_analyzer.py\n\n```bash\n# Prepare input (MCP or manual JSON)\n# MCP: Already have /tmp/figma_metadata.json\n# Manual: Create JSON from user input\n\npython3 functions/design_analyzer.py \\\n  --figma-data /tmp/figma_combined.json \\\n  --ui-kit-inventory .agent/design-system/ui-kit-inventory.json \\\n  --output /tmp/analysis_results.json\n```\n\n**Analysis Output**:\n- New components not in UI kit\n- Similar components (reuse opportunities)\n- New design tokens\n- Breaking changes (if any)\n\n---\n\n### Step 2: Codebase Audit\n\n**Objective**: Compare design vs implementation, detect drift\n\n#### Token Extraction\n\n```bash\npython3 functions/token_extractor.py \\\n  --figma-variables /tmp/figma_variables.json \\\n  --existing-tokens .agent/design-system/design-tokens.json \\\n  --output /tmp/token_extraction.json\n```\n\n**Output**: DTCG formatted tokens + diff summary\n\n#### Component Mapping\n\n```bash\npython3 functions/component_mapper.py \\\n  --figma-components /tmp/analysis_results.json \\\n  --code-connect-map /tmp/figma_code_connect.json \\\n  --project-root . \\\n  --output /tmp/component_mappings.json\n```\n\n**Output**: Figma component  code component mappings with confidence scores\n\n#### Design System Audit\n\n```bash\n# Combine data for auditor\npython3 functions/design_system_auditor.py \\\n  --figma-data /tmp/combined_figma.json \\\n  --code-data /tmp/combined_code.json \\\n  --output /tmp/audit_results.json\n```\n\n**Audit Results**:\n- Token alignment (in sync, drift, missing, unused)\n- Component reuse opportunities\n- Tailwind config recommendations\n- Priority level (critical, high, medium, low)\n\n---\n\n### Step 3: Implementation Planning\n\n**Objective**: Generate phased implementation task document\n\n#### Generate Task Document\n\n```bash\npython3 functions/implementation_planner.py \\\n  --task-id \"TASK-{{next_task_number}}\" \\\n  --feature-name \"{{feature_name}}\" \\\n  --analysis-results /tmp/combined_analysis.json \\\n  --review-reference \".agent/design-system/reviews/{{date}}-{{feature-slug}}.md\" \\\n  --output .agent/tasks/TASK-{{next_task_number}}-{{feature-slug}}.md\n```\n\n**Task Document Includes**:\n- Phased implementation (tokens  atoms  molecules  organisms)\n- Complexity estimates per phase\n- Acceptance criteria checklist\n- Files to modify\n- Testing strategy\n- Rollout plan\n\n#### Create Design Review Report\n\n**Use template**: `templates/design-review-report.md`\n\n**Save to**: `.agent/design-system/reviews/YYYY-MM-DD-{{feature-name}}.md`\n\n**Contents**:\n- Design analysis summary\n- Token changes (added/modified/removed)\n- Component changes (new/extended/breaking)\n- Design system impact\n- Implementation recommendations\n\n---\n\n### Step 4: Task Assignment\n\n**Objective**: Create task and assign context for implementation\n\n#### Create PM Ticket (if configured)\n\n```markdown\n**If PM tool configured** (Linear, GitHub Issues, Jira):\n- Create ticket with task summary\n- Link to task document and design review\n- Assign to frontend developer or team\n\n**If no PM tool**:\n- Skip ticket creation\n- Task document serves as source of truth\n```\n\n#### Update Navigator Documentation\n\n```markdown\n**Update files**:\n1. `.agent/tasks/TASK-{{number}}-{{feature}}.md` (created in Step 3)\n2. `.agent/design-system/reviews/{{date}}-{{feature}}.md` (design review)\n3. `.agent/DEVELOPMENT-README.md` (add task to index)\n\n**Use TodoWrite** to track implementation phases\n```\n\n---\n\n### Step 5: Implementation Handoff\n\n**Objective**: Present results and get user decision\n\n#### Present Summary\n\n```markdown\n Design review complete for {{Feature Name}}\n\n**Generated Documentation**:\n- Design review: `.agent/design-system/reviews/{{date}}-{{feature}}.md`\n- Implementation plan: `.agent/tasks/TASK-{{number}}-{{feature}}.md`\n{{#if pm_configured}}- PM ticket: {{ticket_id}} (status: ready for development){{/if}}\n\n**Summary**:\n- Design Tokens: {{new_count}} new, {{modified_count}} modified\n- Components: {{new_components}} new, {{extend_components}} to extend\n- Estimated Time: {{total_hours}} hours\n- Complexity: {{complexity_level}}\n{{#if breaking_changes}}-   Breaking Changes: {{breaking_count}} component(s){{/if}}\n\n**Next Steps**:\n[1] Start implementation now\n[2] Review plan first (load task document)\n[3] Modify plan before starting\n\n**Recommended**: After implementation, set up visual regression testing:\n  \"Set up visual regression for {{components}}\"\n\nThis ensures pixel-perfect implementation and prevents future drift (15 min setup).\n\nReply with choice or \"Start implementation\"\n```\n\n#### User Decision Branches\n\n**If user chooses [1] or says \"Start implementation\"**:\n```markdown\n1. Load task document: `Read .agent/tasks/TASK-{{number}}-{{feature}}.md`\n2. Load design review: `Read .agent/design-system/reviews/{{date}}-{{feature}}.md`\n3. Begin Phase 1 (typically design tokens)\n4. Follow autonomous completion protocol when done\n5. After completion, suggest: \"Set up visual regression for {{components}}\" (optional but recommended)\n```\n\n**If user chooses [2]**:\n```markdown\n1. Load and display task document\n2. Highlight key phases and acceptance criteria\n3. Ask: \"Ready to start or need changes?\"\n```\n\n**If user chooses [3]**:\n```markdown\n1. Load task document\n2. Ask what modifications needed\n3. Edit task document\n4. Regenerate if major changes\n5. Then proceed to implementation\n```\n\n---\n\n## Predefined Functions\n\n### functions/design_analyzer.py\n\n**Purpose**: Extract design patterns from Figma MCP data or manual input\n\n**Usage**:\n```bash\npython3 functions/design_analyzer.py \\\n  --figma-data /path/to/figma_mcp_combined.json \\\n  --ui-kit-inventory .agent/design-system/ui-kit-inventory.json \\\n  --output /tmp/analysis.json\n```\n\n**Input Format** (figma_mcp_combined.json):\n```json\n{\n  \"metadata\": { ... },  // get_metadata response\n  \"variables\": { ... }, // get_variable_defs response\n  \"code_connect_map\": { ... } // get_code_connect_map response (optional)\n}\n```\n\n**Output**: Component analysis with categorization (atom/molecule/organism) + similarity scores\n\n---\n\n### functions/token_extractor.py\n\n**Purpose**: Convert Figma variables to DTCG format with diff\n\n**Usage**:\n```bash\npython3 functions/token_extractor.py \\\n  --figma-variables /path/to/figma_variables.json \\\n  --existing-tokens .agent/design-system/design-tokens.json \\\n  --format full \\\n  --output /tmp/tokens.json\n```\n\n**Output Formats**:\n- `full`: DTCG tokens + diff + summary\n- `tokens-only`: Just DTCG tokens\n- `diff-only`: Just diff and summary\n\n**DTCG Format** (W3C Design Tokens spec):\n```json\n{\n  \"color\": {\n    \"primary\": {\n      \"500\": {\n        \"$value\": \"#3B82F6\",\n        \"$type\": \"color\",\n        \"$description\": \"Primary brand color\"\n      }\n    }\n  }\n}\n```\n\n---\n\n### functions/component_mapper.py\n\n**Purpose**: Map Figma components to codebase components\n\n**Usage**:\n```bash\npython3 functions/component_mapper.py \\\n  --figma-components /path/to/analysis_results.json \\\n  --code-connect-map /path/to/code_connect.json \\\n  --project-root . \\\n  --output /tmp/mappings.json\n```\n\n**Mapping Strategy**:\n1. Code Connect first (100% confidence)\n2. Fuzzy name matching (70%+ confidence)\n3. Unmapped = needs creation\n\n**Output**: Mappings with confidence scores + variant prop mapping\n\n---\n\n### functions/design_system_auditor.py\n\n**Purpose**: Audit design system for drift and reuse opportunities\n\n**Usage**:\n```bash\npython3 functions/design_system_auditor.py \\\n  --figma-data /path/to/combined_figma.json \\\n  --code-data /path/to/combined_code.json \\\n  --output /tmp/audit.json\n```\n\n**Audit Checks**:\n- Token alignment (drift detection)\n- Component reuse opportunities (similarity >70%)\n- Unused tokens (cleanup candidates)\n- Priority level assignment\n\n---\n\n### functions/implementation_planner.py\n\n**Purpose**: Generate Navigator task document with phased breakdown\n\n**Usage**:\n```bash\npython3 functions/implementation_planner.py \\\n  --task-id \"TASK-16\" \\\n  --feature-name \"Dashboard Redesign\" \\\n  --analysis-results /path/to/combined_analysis.json \\\n  --review-reference \".agent/design-system/reviews/2025-10-21-dashboard.md\" \\\n  --output .agent/tasks/TASK-16-dashboard-redesign.md\n```\n\n**Output**: Complete Navigator task document with:\n- Phased implementation (atomic design order)\n- Complexity estimates (Low/Medium/High)\n- Acceptance criteria per phase\n- Testing strategy\n- Rollout plan\n\n---\n\n## Templates\n\n### templates/design-review-report.md\n\n**When**: Step 3 - Creating design review documentation\n\n**Structure**:\n```markdown\n# Design Review: {{Feature Name}}\n\n**Date**: {{YYYY-MM-DD}}\n**Figma**: [Link]({{figma_url}})\n**Reviewer**: Navigator Product Design Skill\n\n## New Design Tokens\n[Token changes]\n\n## New Components Required\n[Component list with categories]\n\n## Design System Impact\n[High/Medium/Low impact analysis]\n\n## Implementation Recommendations\n[Phased approach]\n```\n\n---\n\n## Design System Documentation Structure\n\n### Initial Setup (First Run)\n\n```bash\nmkdir -p .agent/design-system/reviews\n\n# Create initial files\ntouch .agent/design-system/design-tokens.json\ntouch .agent/design-system/ui-kit-inventory.json\ntouch .agent/design-system/component-mapping.json\n```\n\n**design-tokens.json** (DTCG format):\n```json\n{\n  \"color\": {},\n  \"spacing\": {},\n  \"typography\": {},\n  \"radius\": {},\n  \"shadow\": {}\n}\n```\n\n**ui-kit-inventory.json**:\n```json\n{\n  \"components\": [\n    {\n      \"name\": \"Button\",\n      \"path\": \"src/components/ui/Button.tsx\",\n      \"category\": \"atom\",\n      \"variants\": [\"primary\", \"secondary\", \"ghost\"],\n      \"figma_link\": \"...\"\n    }\n  ],\n  \"tokens\": {}\n}\n```\n\n### File Loading Strategy\n\n**Never load**:\n- All design review reports (50+ files = 250k+ tokens)\n- Full Figma MCP responses (can be 350k+ tokens)\n\n**Always load when skill active**:\n- `ui-kit-inventory.json` (~3k tokens)\n- `design-tokens.json` (~2k tokens)\n- Specific design review for current task (~5k tokens)\n\n**Total**: ~10k tokens vs 150k+ (93% reduction)\n\n---\n\n## Figma MCP Integration\n\n### MCP Server Detection\n\n**On skill invocation**:\n1. Check for Figma MCP tools availability\n2. Detect local vs remote server\n3. Adjust workflow based on capabilities\n\n**Local Server** (Recommended):\n- URL: `http://127.0.0.1:3845/mcp`\n- Tools: All (metadata, variables, code_connect, design_context)\n- Requires: Figma Desktop app running\n\n**Remote Server** (Fallback):\n- URL: `https://mcp.figma.com/mcp`\n- Tools: Limited (no code_connect, requires explicit URLs)\n- Requires: Internet connection, explicit Figma links\n\n### Handling Token Limits\n\n**Problem**: Large screens return >350k tokens (exceeds default 25k limit)\n\n**Solution**:\n```markdown\n1. Use `get_metadata` first (sparse XML, ~5k tokens)\n2. Parse metadata to identify component node IDs\n3. Fetch components individually via `get_design_context`\n4. Aggregate results from multiple small calls\n\n**Environment Variable** (recommended):\nexport MAX_MCP_OUTPUT_TOKENS=100000\n```\n\n### MCP Tool Usage\n\n**get_metadata**: Always first for large designs\n- Returns sparse XML with node IDs, types, names\n- Low token cost (~5-10k)\n- Use to plan component extraction strategy\n\n**get_variable_defs**: Extract all design tokens\n- One call gets all variables\n- Moderate token cost (~10-20k)\n- Critical for token extraction\n\n**get_code_connect_map**: Get component mappings\n- Requires Figma Enterprise plan\n- Returns node_id  code_path mappings\n- Highest confidence mappings\n\n**get_design_context**: Extract component code\n- Use per-component (NOT full screen)\n- Can generate React/Vue/HTML via prompting\n- Highest token cost - use sparingly\n\n---\n\n## Tailwind CSS Integration\n\n### Design Tokens  Tailwind @theme\n\n**Style Dictionary Pipeline**:\n```bash\n# 1. Tokens extracted to design-tokens.json (DTCG format)\n# 2. Run Style Dictionary build\nnpx style-dictionary build\n\n# 3. Generates tailwind-tokens.css\n# @theme {\n#   --color-primary-500: #3B82F6;\n#   --spacing-md: 16px;\n# }\n\n# 4. Tailwind auto-generates utilities\n# .bg-primary-500, .p-md, etc.\n```\n\n### Figma Auto Layout  Tailwind Classes\n\n**Translation Rules** (apply during code generation):\n```\nDirection:\n  Horizontal  flex-row\n  Vertical  flex-col\n\nSpacing:\n  Gap  gap-{token}\n  Padding  p-{token}, px-{token}, py-{token}\n\nAlignment:\n  Start  items-start, justify-start\n  Center  items-center, justify-center\n  Space Between  justify-between\n\nSizing:\n  Hug  w-auto / h-auto\n  Fill  flex-1\n  Fixed  w-{value} / h-{value}\n```\n\n---\n\n## Token Optimization\n\n### Navigator Principles\n\n**Load on demand**:\n- Design review for current task only\n- UI kit inventory (always needed)\n- Design tokens (always needed)\n\n**Use Task agent for codebase searches**:\n- Finding all component files (60-80% token savings)\n- Searching for token usage in Tailwind config\n- Analyzing component variant patterns\n\n**Compact after completion**:\n- Clear context after design review\n- Preserve task document in marker\n- Clean slate for implementation\n\n---\n\n## Troubleshooting\n\n### \"Figma MCP tool not found\"\n\n**Issue**: MCP server not available\n\n**Solutions**:\n1. Check Figma Desktop app is running (for local server)\n2. Verify MCP server added: `claude mcp add --transport http figma-desktop http://127.0.0.1:3845/mcp`\n3. Fall back to manual workflow (still provides value)\n\n### \"Token limit exceeded\"\n\n**Issue**: `get_design_context` response too large\n\n**Solutions**:\n1. Use `get_metadata` first, then fetch components individually\n2. Set `MAX_MCP_OUTPUT_TOKENS=100000`\n3. Break design into smaller selections in Figma\n\n### \"No components found in codebase\"\n\n**Issue**: `component_mapper.py` finds no matches\n\n**Solutions**:\n1. Check `--project-root` points to correct directory\n2. Verify component file extensions (tsx, jsx, vue)\n3. Check components aren't in excluded directories (node_modules)\n\n### \"Design tokens not in DTCG format\"\n\n**Issue**: Existing tokens use legacy format\n\n**Solutions**:\n1. Run `token_extractor.py` with `--format tokens-only` to convert\n2. Backup existing tokens first\n3. Update Style Dictionary config to read DTCG format\n\n---\n\n## Success Metrics\n\n### Efficiency Gains\n\n**Before**: 6-10 hours per design handoff\n**After**: 15-20 minutes\n**Savings**: 95% time reduction\n\n### Quality Metrics\n\n- Design system drift detected automatically\n- 100% token consistency via automated sync\n- Component reuse rate tracked\n- Implementation accuracy via acceptance criteria\n\n---\n\n## Example Usage\n\n```\nUser: \"Review the dashboard redesign from Figma: https://figma.com/file/...\"\n\nNavigator:\n1. Checks for Figma MCP availability\n2. Extracts metadata, variables, code_connect_map\n3. Runs design_analyzer.py  finds 3 new components, 12 new tokens\n4. Runs token_extractor.py  generates DTCG tokens, finds 5 drift issues\n5. Runs component_mapper.py  maps 2 components, 1 new needed\n6. Runs design_system_auditor.py  priority: HIGH (drift detected)\n7. Runs implementation_planner.py  generates TASK-17 with 3 phases\n8. Creates design review report\n9. Presents summary with [Start/Review/Modify] options\n\nUser: \"Start implementation\"\n\nNavigator:\n1. Loads TASK-17 document\n2. Begins Phase 1: Design Tokens\n3. Updates design-tokens.json with 12 new tokens\n4. Runs Style Dictionary build\n5. Updates Tailwind config\n6. Commits changes\n7. Moves to Phase 2: StatBadge component\n8. ... continues through all phases\n9. Autonomous completion when done\n```\n\n---\n\n**Last Updated**: 2025-10-21\n**Navigator Version**: 3.2.0 (target)\n**Skill Version**: 1.0.0"
              },
              {
                "name": "visual-regression",
                "description": "Setup visual regression testing with Storybook stories, configuration, and CI/CD workflows. Supports Chromatic, Percy, BackstopJS. Auto-invoke when user says \"set up visual regression\", \"add Chromatic tests\", \"add screenshot testing\", or \"set up Percy\".",
                "path": "skills/visual-regression/SKILL.md",
                "frontmatter": {
                  "name": "visual-regression",
                  "description": "Setup visual regression testing with Storybook stories, configuration, and CI/CD workflows. Supports Chromatic, Percy, BackstopJS. Auto-invoke when user says \"set up visual regression\", \"add Chromatic tests\", \"add screenshot testing\", or \"set up Percy\".",
                  "allowed-tools": "Read, Write, Bash, Glob",
                  "version": "1.0.0",
                  "triggers": [
                    "set up visual regression",
                    "add chromatic tests",
                    "create visual tests",
                    "configure visual regression",
                    "add screenshot testing",
                    "set up percy",
                    "add backstopjs"
                  ]
                },
                "content": "# Visual Regression Testing Setup Skill\n\n---\n\n## Skill Purpose\n\nGenerate complete visual regression testing setup with Storybook stories, configuration files, and CI/CD workflows.\n\n**Supports**: Chromatic, Percy, BackstopJS\n**Frameworks**: React, Vue, Svelte (TypeScript/JavaScript)\n**CI/CD**: GitHub Actions, GitLab CI, CircleCI\n\n---\n\n## What This Skill Does\n\n1. **Detects existing setup**: Storybook version, VR tool, CI platform\n2. **Validates component**: Extract props, variants, states\n3. **Generates stories**: Complete `.stories.tsx` with all variants\n4. **Creates config files**: Chromatic, Percy, or BackstopJS configuration\n5. **Sets up CI/CD**: Auto-generate workflow files\n6. **Provides instructions**: Next steps for API tokens, first baseline\n\n---\n\n## Workflow\n\n### Step 1: Validate Project Setup\n\n**Execute**: `vr_setup_validator.py`\n\n**Check**:\n- Framework (React/Vue/Svelte) from package.json\n- Existing Storybook config (.storybook/ directory)\n- Existing VR tool (chromatic, percy, backstopjs in dependencies)\n- CI platform (.github/, .gitlab-ci.yml, .circleci/)\n- Component file exists and is valid\n\n**Output**:\n```json\n{\n  \"framework\": \"react\",\n  \"storybook_version\": \"7.6.0\",\n  \"vr_tool\": \"chromatic\",\n  \"ci_platform\": \"github\",\n  \"component\": {\n    \"path\": \"src/components/ProfileCard.tsx\",\n    \"name\": \"ProfileCard\",\n    \"props\": [...],\n    \"valid\": true\n  },\n  \"dependencies\": {\n    \"installed\": [\"@storybook/react\", \"@storybook/addon-essentials\"],\n    \"missing\": [\"chromatic\", \"@chromatic-com/storybook\"]\n  }\n}\n```\n\n**If Storybook not found**: Ask user if they want to install Storybook first, provide setup instructions.\n\n**If multiple VR tools found**: Ask user which to use (Chromatic recommended).\n\n---\n\n### Step 2: Generate Storybook Stories\n\n**Execute**: `story_generator.py`\n\n**Process**:\n1. Parse component file (TypeScript/JSX/Vue SFC)\n2. Extract props, prop types, default values\n3. Identify variants (size, variant, disabled, etc.)\n4. Generate story file from template\n5. Add accessibility tests (@storybook/addon-a11y)\n6. Add interaction tests (if @storybook/test available)\n\n**Template**: `templates/story-template.tsx.j2`\n\n**Example output** (`ProfileCard.stories.tsx`):\n```typescript\nimport type { Meta, StoryObj } from '@storybook/react';\nimport { ProfileCard } from './ProfileCard';\n\nconst meta = {\n  title: 'Components/ProfileCard',\n  component: ProfileCard,\n  parameters: {\n    layout: 'centered',\n  },\n  tags: ['autodocs'],\n  argTypes: {\n    size: { control: 'select', options: ['sm', 'md', 'lg'] },\n    variant: { control: 'select', options: ['default', 'compact'] },\n  },\n} satisfies Meta<typeof ProfileCard>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\nexport const Default: Story = {\n  args: {\n    name: 'John Doe',\n    avatar: 'https://example.com/avatar.jpg',\n    bio: 'Software Engineer',\n    size: 'md',\n    variant: 'default',\n  },\n};\n\nexport const Small: Story = {\n  args: {\n    ...Default.args,\n    size: 'sm',\n  },\n};\n\nexport const Large: Story = {\n  args: {\n    ...Default.args,\n    size: 'lg',\n  },\n};\n\nexport const Compact: Story = {\n  args: {\n    ...Default.args,\n    variant: 'compact',\n  },\n};\n\n// Accessibility test\nDefault.parameters = {\n  a11y: {\n    config: {\n      rules: [\n        { id: 'color-contrast', enabled: true },\n        { id: 'label', enabled: true },\n      ],\n    },\n  },\n};\n```\n\n**Write to**: `{component_directory}/{ComponentName}.stories.tsx`\n\n---\n\n### Step 3: Generate Configuration Files\n\n**Execute**: `chromatic_config_generator.py` (or percy/backstop equivalent)\n\n#### For Chromatic:\n\n**Generate 3 files**:\n\n1. **chromatic.config.json**:\n```json\n{\n  \"projectId\": \"<PROJECT_ID_PLACEHOLDER>\",\n  \"buildScriptName\": \"build-storybook\",\n  \"exitZeroOnChanges\": true,\n  \"exitOnceUploaded\": true,\n  \"onlyChanged\": true,\n  \"externals\": [\"public/**\"],\n  \"skip\": \"dependabot/**\",\n  \"ignoreLastBuildOnBranch\": \"main\"\n}\n```\n\n2. **Update .storybook/main.js** (add addon):\n```javascript\nmodule.exports = {\n  stories: ['../src/**/*.stories.@(js|jsx|ts|tsx)'],\n  addons: [\n    '@storybook/addon-links',\n    '@storybook/addon-essentials',\n    '@chromatic-com/storybook', //  Added\n    '@storybook/addon-interactions',\n  ],\n  framework: {\n    name: '@storybook/react-vite',\n    options: {},\n  },\n};\n```\n\n3. **Update package.json** (add scripts):\n```json\n{\n  \"scripts\": {\n    \"chromatic\": \"npx chromatic\",\n    \"chromatic:ci\": \"npx chromatic --exit-zero-on-changes\"\n  }\n}\n```\n\n**For Percy**: Generate `.percy.yml` instead\n**For BackstopJS**: Generate `backstop.config.js` instead\n\n---\n\n### Step 4: Generate CI/CD Workflow\n\n**Execute**: `ci_workflow_generator.py`\n\n**Detect CI platform** from existing files:\n- `.github/workflows/`  GitHub Actions\n- `.gitlab-ci.yml`  GitLab CI\n- `.circleci/config.yml`  CircleCI\n- None  Ask user, default to GitHub Actions\n\n#### GitHub Actions Example:\n\n**Generate**: `.github/workflows/chromatic.yml`\n\n```yaml\nname: Visual Regression Tests\n\non:\n  push:\n    branches: [main, develop]\n  pull_request:\n    branches: [main]\n\njobs:\n  chromatic:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n        with:\n          fetch-depth: 0 # Required for Chromatic\n\n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: '20'\n          cache: 'npm'\n\n      - name: Install dependencies\n        run: npm ci\n\n      - name: Run Chromatic\n        uses: chromaui/action@latest\n        with:\n          projectToken: ${{ secrets.CHROMATIC_PROJECT_TOKEN }}\n          exitZeroOnChanges: true\n          onlyChanged: true\n```\n\n**For GitLab CI**: Add job to `.gitlab-ci.yml`\n**For CircleCI**: Add job to `.circleci/config.yml`\n\n---\n\n### Step 5: Provide Setup Instructions\n\n**Output to user**:\n\n````markdown\n Visual regression testing setup complete!\n\n## Files Created/Modified\n\n {ComponentName}.stories.tsx (Storybook story with variants)\n chromatic.config.json (Chromatic configuration)\n .storybook/main.js (Added @chromatic-com/storybook addon)\n package.json (Added chromatic scripts)\n .github/workflows/chromatic.yml (CI workflow)\n\n## Next Steps\n\n### 1. Install Dependencies\n\n```bash\nnpm install --save-dev chromatic @chromatic-com/storybook\n```\n\n### 2. Create Chromatic Project\n\n1. Go to https://www.chromatic.com/start\n2. Sign in with GitHub\n3. Create new project\n4. Copy project token\n\n### 3. Add Secret to GitHub\n\n1. Go to repository Settings  Secrets and variables  Actions\n2. Create secret: `CHROMATIC_PROJECT_TOKEN`\n3. Paste your project token\n\n### 4. Update chromatic.config.json\n\nReplace `<PROJECT_ID_PLACEHOLDER>` with your actual project ID from Chromatic dashboard.\n\n### 5. Create Baseline\n\n```bash\nnpm run chromatic\n```\n\nThis captures the initial screenshots as your baseline.\n\n### 6. Test Visual Regression\n\n1. Make a visual change to ProfileCard\n2. Commit and push\n3. CI will run Chromatic automatically\n4. Review changes in Chromatic dashboard\n\n## Documentation\n\nSee `.agent/sops/testing/visual-regression-setup.md` for detailed workflow.\n\n## Troubleshooting\n\n**Storybook build fails**: Ensure all component dependencies are installed\n**Chromatic upload fails**: Check project token in secrets\n**No changes detected**: Chromatic only runs on changed stories (use `--force-rebuild` to test)\n````\n\n---\n\n## Predefined Functions Reference\n\n### vr_setup_validator.py\n\n```python\ndef detect_storybook_config(project_root: str) -> dict\ndef detect_vr_tool(project_root: str) -> str\ndef validate_component_path(component_path: str) -> dict\ndef check_dependencies(project_root: str) -> dict\n```\n\n**Returns**: Validation report with detected setup and missing dependencies\n\n### story_generator.py\n\n```python\ndef analyze_component(component_path: str, framework: str) -> dict\ndef generate_story(component_info: dict, template_path: str) -> str\ndef create_accessibility_tests(component_info: dict) -> str\ndef create_interaction_tests(component_info: dict) -> str\n```\n\n**Returns**: Generated story file content\n\n### chromatic_config_generator.py\n\n```python\ndef generate_chromatic_config(project_info: dict) -> str\ndef generate_storybook_config(existing_config: dict) -> str\ndef generate_package_scripts(existing_scripts: dict) -> dict\ndef generate_percy_config(project_info: dict) -> str  # Percy alternative\ndef generate_backstop_config(project_info: dict) -> str  # BackstopJS alternative\n```\n\n**Returns**: Configuration file contents as strings\n\n### ci_workflow_generator.py\n\n```python\ndef detect_ci_platform(project_root: str) -> str\ndef generate_github_workflow(project_info: dict) -> str\ndef generate_gitlab_ci(project_info: dict) -> str\ndef generate_circleci_config(project_info: dict) -> str\n```\n\n**Returns**: CI workflow file contents\n\n---\n\n## Templates Reference\n\n- **story-template.tsx.j2**: React/TypeScript story template\n- **story-template.vue.j2**: Vue SFC story template\n- **chromatic-config.json.j2**: Chromatic configuration\n- **percy-config.yml.j2**: Percy configuration\n- **github-workflow.yml.j2**: GitHub Actions workflow\n- **gitlab-ci.yml.j2**: GitLab CI job\n- **storybook-main.js.j2**: Storybook addon configuration\n\n---\n\n## Examples\n\n### Example 1: Simple Component\n\n```\nUser: \"Set up visual regression for ProfileCard component\"\n\n Detects: React, existing Storybook, no VR tool\n Generates: ProfileCard.stories.tsx with 4 variants\n Creates: Chromatic config, GitHub workflow\n Outputs: Setup instructions\n```\n\nSee: `examples/simple-component-vr.md`\n\n### Example 2: Full Design System\n\n```\nUser: \"Set up visual regression for entire design system\"\n\n Detects: React, Storybook, components in src/components/\n Generates: Stories for all components (Button, Input, Card, etc.)\n Creates: Chromatic config with design token validation\n Outputs: Bulk setup instructions\n```\n\nSee: `examples/design-system-vr.md`\n\n### Example 3: Existing Storybook\n\n```\nUser: \"Add Chromatic to existing Storybook\"\n\n Detects: Storybook v7, existing stories\n Adds: @chromatic-com/storybook addon\n Creates: Chromatic config, CI workflow\n Preserves: Existing stories and configuration\n```\n\nSee: `examples/existing-storybook-vr.md`\n\n---\n\n## Integration with product-design Skill\n\nAfter `product-design` generates implementation plan, suggest visual regression:\n\n```\n\"Implementation plan created! Consider setting up visual regression testing:\n\n  'Set up visual regression for {ComponentName}'\n\nThis ensures pixel-perfect implementation and prevents visual drift.\"\n```\n\n---\n\n## Tool Comparison\n\n### Chromatic (Recommended)\n-  Purpose-built for Storybook\n-  Component-focused testing\n-  UI review workflow\n-  Free tier: 5,000 snapshots/month\n-  Requires cloud service\n\n### Percy\n-  Multi-framework support\n-  Responsive testing\n-  Visual reviews\n-  More expensive\n-  Less Storybook-specific\n\n### BackstopJS\n-  Open source, self-hosted\n-  No cloud dependency\n-  Free\n-  More manual setup\n-  Less automation\n\n**Default**: Chromatic (best Storybook integration)\n\n---\n\n## Error Handling\n\n### Component Not Found\n```\nError: Component file not found at {path}\n\nPlease provide correct path:\n  \"Set up visual regression for src/components/ProfileCard.tsx\"\n```\n\n### Storybook Not Installed\n```\nStorybook not detected. Install first:\n\n  npm install --save-dev @storybook/react @storybook/addon-essentials\n  npx storybook init\n\nThen retry: \"Set up visual regression for ProfileCard\"\n```\n\n### Multiple VR Tools Detected\n```\nMultiple VR tools found: chromatic, percy\n\nWhich should I use?\n  - \"Use Chromatic for visual regression\"\n  - \"Use Percy for visual regression\"\n```\n\n---\n\n## Best Practices\n\n1. **Start with key components**: Don't test everything, focus on design system primitives\n2. **Use interaction tests**: Combine visual + functional testing\n3. **Baseline on main**: Always merge baselines to main branch\n4. **Review changes**: Don't auto-accept visual changes\n5. **Test states**: Capture hover, focus, error states\n6. **Accessibility**: Include a11y tests in all stories\n\n---\n\n## Token Efficiency\n\n**Traditional approach** (50k tokens):\n1. Read Storybook docs (20k)\n2. Read Chromatic docs (15k)\n3. Write stories manually (10k)\n4. Configure CI (5k)\n\n**With visual-regression skill** (3k tokens):\n1. Skill auto-invokes (0 tokens)\n2. Instructions load (3k tokens)\n3. Functions execute (0 tokens)\n\n**Savings**: 94% (47k tokens)\n\n---\n\n## Version History\n\n- **v3.3.0**: Initial release with Chromatic support\n- **Future**: Percy, BackstopJS, Vue, Svelte support\n\n---\n\n**Last Updated**: 2025-10-21\n**Skill Type**: Project-specific\n**Generator**: nav-skill-creator (self-improving)"
              }
            ]
          }
        ]
      }
    }
  ]
}