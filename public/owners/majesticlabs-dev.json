{
  "owner": {
    "id": "majesticlabs-dev",
    "display_name": "Majestic Labs",
    "type": "Organization",
    "avatar_url": "https://avatars.githubusercontent.com/u/135144170?v=4",
    "url": "https://github.com/majesticlabs-dev",
    "bio": null,
    "stats": {
      "total_repos": 1,
      "total_plugins": 18,
      "total_commands": 18,
      "total_skills": 135,
      "total_stars": 16,
      "total_forks": 1
    }
  },
  "repos": [
    {
      "full_name": "majesticlabs-dev/majestic-marketplace",
      "url": "https://github.com/majesticlabs-dev/majestic-marketplace",
      "description": null,
      "homepage": null,
      "signals": {
        "stars": 16,
        "forks": 1,
        "pushed_at": "2026-01-12T22:29:39Z",
        "created_at": "2025-11-26T21:43:21Z",
        "license": "NOASSERTION"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 14936
        },
        {
          "path": ".claude",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/commands/plugin-sort-hat.md",
          "type": "blob",
          "size": 3875
        },
        {
          "path": ".claude/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/add-config-field",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/add-config-field/SKILL.md",
          "type": "blob",
          "size": 2456
        },
        {
          "path": ".claude/skills/claude-headless-mode",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/claude-headless-mode/SKILL.md",
          "type": "blob",
          "size": 5064
        },
        {
          "path": ".claude/skills/fluff-detector",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/fluff-detector/SKILL.md",
          "type": "blob",
          "size": 6479
        },
        {
          "path": ".claude/skills/fluff-detector/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/fluff-detector/scripts/detect-fluff.sh",
          "type": "blob",
          "size": 6269
        },
        {
          "path": ".claude/skills/skill-linter",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/skill-linter/SKILL.md",
          "type": "blob",
          "size": 5869
        },
        {
          "path": ".claude/skills/skill-linter/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/skill-linter/scripts/validate-skill.sh",
          "type": "blob",
          "size": 5825
        },
        {
          "path": ".gitattributes",
          "type": "blob",
          "size": 70
        },
        {
          "path": ".github",
          "type": "tree",
          "size": null
        },
        {
          "path": ".github/ISSUE_TEMPLATE",
          "type": "tree",
          "size": null
        },
        {
          "path": ".github/ISSUE_TEMPLATE/bug_report.yml",
          "type": "blob",
          "size": 2061
        },
        {
          "path": ".github/ISSUE_TEMPLATE/config.yml",
          "type": "blob",
          "size": 332
        },
        {
          "path": ".github/ISSUE_TEMPLATE/feature_request.yml",
          "type": "blob",
          "size": 1776
        },
        {
          "path": ".github/ISSUE_TEMPLATE/plugin_request.yml",
          "type": "blob",
          "size": 2094
        },
        {
          "path": ".gitignore",
          "type": "blob",
          "size": 202
        },
        {
          "path": "AGENTS.md",
          "type": "blob",
          "size": 9
        },
        {
          "path": "CLAUDE.md",
          "type": "blob",
          "size": 9272
        },
        {
          "path": "LICENSE",
          "type": "blob",
          "size": 384
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 11316
        },
        {
          "path": "docs",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/learnings-discovery-system",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/learnings-discovery-system/README.md",
          "type": "blob",
          "size": 7715
        },
        {
          "path": "docs/learnings-discovery-system/sample-lessons",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/learnings-discovery-system/sample-lessons/patterns",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/learnings-discovery-system/sample-lessons/patterns/api-versioning.md",
          "type": "blob",
          "size": 3312
        },
        {
          "path": "docs/learnings-discovery-system/sample-lessons/performance-issues",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/learnings-discovery-system/sample-lessons/performance-issues/n-plus-one-20251110.md",
          "type": "blob",
          "size": 3015
        },
        {
          "path": "docs/learnings-discovery-system/sample-lessons/security-issues",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/learnings-discovery-system/sample-lessons/security-issues/api-key-exposure-20251201.md",
          "type": "blob",
          "size": 3197
        },
        {
          "path": "docs/plugin-architecture",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/plugin-architecture/CONFIG-SYSTEM.md",
          "type": "blob",
          "size": 18345
        },
        {
          "path": "docs/plugin-architecture/JSON-SCHEMAS.md",
          "type": "blob",
          "size": 3953
        },
        {
          "path": "docs/plugin-architecture/NAMING-CONVENTIONS.md",
          "type": "blob",
          "size": 6239
        },
        {
          "path": "docs/plugin-architecture/PLUGIN-OPERATIONS.md",
          "type": "blob",
          "size": 4169
        },
        {
          "path": "init-claude.sh",
          "type": "blob",
          "size": 3238
        },
        {
          "path": "install.sh",
          "type": "blob",
          "size": 8927
        },
        {
          "path": "instructions",
          "type": "tree",
          "size": null
        },
        {
          "path": "instructions/analyze-vs-implement.md",
          "type": "blob",
          "size": 275
        },
        {
          "path": "instructions/anti-overengineering.md",
          "type": "blob",
          "size": 429
        },
        {
          "path": "instructions/critical-thinking.md",
          "type": "blob",
          "size": 507
        },
        {
          "path": "instructions/droid-factory.png",
          "type": "blob",
          "size": 123602
        },
        {
          "path": "instructions/investigation-first.md",
          "type": "blob",
          "size": 286
        },
        {
          "path": "instructions/select-style.png",
          "type": "blob",
          "size": 215704
        },
        {
          "path": "instructions/shell-settings.sh",
          "type": "blob",
          "size": 343
        },
        {
          "path": "mcps.json",
          "type": "blob",
          "size": 320
        },
        {
          "path": "output-styles",
          "type": "tree",
          "size": null
        },
        {
          "path": "output-styles/README.md",
          "type": "blob",
          "size": 2298
        },
        {
          "path": "output-styles/bullet-points.md",
          "type": "blob",
          "size": 3563
        },
        {
          "path": "output-styles/genui.md",
          "type": "blob",
          "size": 5958
        },
        {
          "path": "output-styles/htlm-structured.md",
          "type": "blob",
          "size": 2596
        },
        {
          "path": "output-styles/markdown-focused.md",
          "type": "blob",
          "size": 2250
        },
        {
          "path": "output-styles/table-based.md",
          "type": "blob",
          "size": 1837
        },
        {
          "path": "output-styles/tts-summary.md",
          "type": "blob",
          "size": 2077
        },
        {
          "path": "output-styles/ultra-concise.md",
          "type": "blob",
          "size": 581
        },
        {
          "path": "output-styles/yaml-structured.md",
          "type": "blob",
          "size": 1856
        },
        {
          "path": "plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-agent-sdk",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-agent-sdk/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-agent-sdk/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 387
        },
        {
          "path": "plugins/majestic-agent-sdk/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-agent-sdk/commands/agent-scaffold.md",
          "type": "blob",
          "size": 3597
        },
        {
          "path": "plugins/majestic-agent-sdk/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-agent-sdk/skills/agent-sdk",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-agent-sdk/skills/agent-sdk/SKILL.md",
          "type": "blob",
          "size": 6956
        },
        {
          "path": "plugins/majestic-agent-sdk/skills/agent-sdk/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-agent-sdk/skills/agent-sdk/resources/claude",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-agent-sdk/skills/agent-sdk/resources/claude/example-command.md",
          "type": "blob",
          "size": 340
        },
        {
          "path": "plugins/majestic-agent-sdk/skills/agent-sdk/resources/claude/example-skill.md",
          "type": "blob",
          "size": 317
        },
        {
          "path": "plugins/majestic-agent-sdk/skills/agent-sdk/resources/claude/example-subagent.md",
          "type": "blob",
          "size": 482
        },
        {
          "path": "plugins/majestic-agent-sdk/skills/agent-sdk/resources/claude/settings.json",
          "type": "blob",
          "size": 212
        },
        {
          "path": "plugins/majestic-agent-sdk/skills/agent-sdk/resources/env-anthropic.example",
          "type": "blob",
          "size": 83
        },
        {
          "path": "plugins/majestic-agent-sdk/skills/agent-sdk/resources/env-bedrock.example",
          "type": "blob",
          "size": 89
        },
        {
          "path": "plugins/majestic-agent-sdk/skills/agent-sdk/resources/env-vertex.example",
          "type": "blob",
          "size": 142
        },
        {
          "path": "plugins/majestic-agent-sdk/skills/agent-sdk/resources/gitignore",
          "type": "blob",
          "size": 147
        },
        {
          "path": "plugins/majestic-agent-sdk/skills/agent-sdk/resources/python",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-agent-sdk/skills/agent-sdk/resources/python/agent.py",
          "type": "blob",
          "size": 464
        },
        {
          "path": "plugins/majestic-agent-sdk/skills/agent-sdk/resources/python/pyproject.toml",
          "type": "blob",
          "size": 310
        },
        {
          "path": "plugins/majestic-agent-sdk/skills/agent-sdk/resources/typescript",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-agent-sdk/skills/agent-sdk/resources/typescript/agent.ts",
          "type": "blob",
          "size": 464
        },
        {
          "path": "plugins/majestic-agent-sdk/skills/agent-sdk/resources/typescript/package.json",
          "type": "blob",
          "size": 348
        },
        {
          "path": "plugins/majestic-browser",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-browser/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-browser/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 483
        },
        {
          "path": "plugins/majestic-browser/README.md",
          "type": "blob",
          "size": 1279
        },
        {
          "path": "plugins/majestic-browser/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-browser/skills/web-browser",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-browser/skills/web-browser/SKILL.md",
          "type": "blob",
          "size": 3105
        },
        {
          "path": "plugins/majestic-company",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-company/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-company/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 1250
        },
        {
          "path": "plugins/majestic-company/CHANGELOG.md",
          "type": "blob",
          "size": 14093
        },
        {
          "path": "plugins/majestic-company/README.md",
          "type": "blob",
          "size": 7803
        },
        {
          "path": "plugins/majestic-company/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-company/agents/blind-spot-analyzer.md",
          "type": "blob",
          "size": 7475
        },
        {
          "path": "plugins/majestic-company/agents/ceo",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-company/agents/ceo/ai-advantage.md",
          "type": "blob",
          "size": 4313
        },
        {
          "path": "plugins/majestic-company/agents/ceo/decisions.md",
          "type": "blob",
          "size": 4504
        },
        {
          "path": "plugins/majestic-company/agents/ceo/financial-model.md",
          "type": "blob",
          "size": 6556
        },
        {
          "path": "plugins/majestic-company/agents/ceo/future-back.md",
          "type": "blob",
          "size": 6581
        },
        {
          "path": "plugins/majestic-company/agents/ceo/growth-audit.md",
          "type": "blob",
          "size": 5135
        },
        {
          "path": "plugins/majestic-company/agents/ceo/industry-research.md",
          "type": "blob",
          "size": 5266
        },
        {
          "path": "plugins/majestic-company/agents/ceo/market-expansion.md",
          "type": "blob",
          "size": 5121
        },
        {
          "path": "plugins/majestic-company/agents/ceo/pricing-strategy.md",
          "type": "blob",
          "size": 5859
        },
        {
          "path": "plugins/majestic-company/agents/ceo/startup-blueprint.md",
          "type": "blob",
          "size": 10099
        },
        {
          "path": "plugins/majestic-company/agents/ceo/thirty-day-launch.md",
          "type": "blob",
          "size": 5804
        },
        {
          "path": "plugins/majestic-company/agents/fundraising",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-company/agents/fundraising/elevator-pitch.md",
          "type": "blob",
          "size": 6288
        },
        {
          "path": "plugins/majestic-company/agents/fundraising/funding-ask-optimizer.md",
          "type": "blob",
          "size": 5008
        },
        {
          "path": "plugins/majestic-company/agents/fundraising/tam-calculator.md",
          "type": "blob",
          "size": 6041
        },
        {
          "path": "plugins/majestic-company/agents/idea-validator.md",
          "type": "blob",
          "size": 4629
        },
        {
          "path": "plugins/majestic-company/agents/people-ops.md",
          "type": "blob",
          "size": 5016
        },
        {
          "path": "plugins/majestic-company/agents/problem-research.md",
          "type": "blob",
          "size": 9493
        },
        {
          "path": "plugins/majestic-company/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-company/resources/idea-validator-output.txt",
          "type": "blob",
          "size": 4402
        },
        {
          "path": "plugins/majestic-company/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-company/skills/ceo",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-company/skills/ceo/decision-framework",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-company/skills/ceo/decision-framework/SKILL.md",
          "type": "blob",
          "size": 4227
        },
        {
          "path": "plugins/majestic-company/skills/ceo/industry-pulse",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-company/skills/ceo/industry-pulse/SKILL.md",
          "type": "blob",
          "size": 3900
        },
        {
          "path": "plugins/majestic-company/skills/ceo/omtm-growth",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-company/skills/ceo/omtm-growth/SKILL.md",
          "type": "blob",
          "size": 4935
        },
        {
          "path": "plugins/majestic-company/skills/ceo/strategic-planning",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-company/skills/ceo/strategic-planning/SKILL.md",
          "type": "blob",
          "size": 3339
        },
        {
          "path": "plugins/majestic-company/skills/first-principles",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-company/skills/first-principles/SKILL.md",
          "type": "blob",
          "size": 5749
        },
        {
          "path": "plugins/majestic-company/skills/fundraising",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-company/skills/fundraising/objection-destroyer",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-company/skills/fundraising/objection-destroyer/SKILL.md",
          "type": "blob",
          "size": 5666
        },
        {
          "path": "plugins/majestic-company/skills/legal",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-company/skills/legal/document-review",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-company/skills/legal/document-review/SKILL.md",
          "type": "blob",
          "size": 4741
        },
        {
          "path": "plugins/majestic-company/skills/pm-discovery",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-company/skills/pm-discovery/SKILL.md",
          "type": "blob",
          "size": 8864
        },
        {
          "path": "plugins/majestic-creative",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-creative/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-creative/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 507
        },
        {
          "path": "plugins/majestic-creative/README.md",
          "type": "blob",
          "size": 1078
        },
        {
          "path": "plugins/majestic-creative/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-creative/agents/gemini-image-coder.md",
          "type": "blob",
          "size": 5082
        },
        {
          "path": "plugins/majestic-creative/agents/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-creative/agents/resources/gemini-image-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-creative/agents/resources/gemini-image-coder/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-creative/agents/resources/gemini-image-coder/scripts/edit_image.py",
          "type": "blob",
          "size": 4041
        },
        {
          "path": "plugins/majestic-creative/agents/resources/gemini-image-coder/scripts/generate_image.py",
          "type": "blob",
          "size": 3925
        },
        {
          "path": "plugins/majestic-creative/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-creative/commands/generate-image.md",
          "type": "blob",
          "size": 2308
        },
        {
          "path": "plugins/majestic-data",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-data/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-data/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 496
        },
        {
          "path": "plugins/majestic-data/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-data/agents/qa",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-data/agents/qa/data-validator.md",
          "type": "blob",
          "size": 6866
        },
        {
          "path": "plugins/majestic-data/agents/qa/drift-detector.md",
          "type": "blob",
          "size": 7156
        },
        {
          "path": "plugins/majestic-data/agents/qa/pipeline-tester.md",
          "type": "blob",
          "size": 7968
        },
        {
          "path": "plugins/majestic-data/agents/research",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-data/agents/research/data-profiler.md",
          "type": "blob",
          "size": 3563
        },
        {
          "path": "plugins/majestic-data/agents/research/schema-discoverer.md",
          "type": "blob",
          "size": 3537
        },
        {
          "path": "plugins/majestic-data/agents/research/source-analyzer.md",
          "type": "blob",
          "size": 3999
        },
        {
          "path": "plugins/majestic-data/agents/transform",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-data/agents/transform/csv-to-sql.md",
          "type": "blob",
          "size": 4888
        },
        {
          "path": "plugins/majestic-data/agents/transform/json-flattener.md",
          "type": "blob",
          "size": 5466
        },
        {
          "path": "plugins/majestic-data/agents/transform/migration-builder.md",
          "type": "blob",
          "size": 7578
        },
        {
          "path": "plugins/majestic-data/agents/workflow",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-data/agents/workflow/backfill-planner.md",
          "type": "blob",
          "size": 8566
        },
        {
          "path": "plugins/majestic-data/agents/workflow/etl-orchestrator.md",
          "type": "blob",
          "size": 6942
        },
        {
          "path": "plugins/majestic-data/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-data/commands/workflows",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-data/commands/workflows/migrate.md",
          "type": "blob",
          "size": 4393
        },
        {
          "path": "plugins/majestic-data/commands/workflows/profile.md",
          "type": "blob",
          "size": 2710
        },
        {
          "path": "plugins/majestic-data/commands/workflows/transform.md",
          "type": "blob",
          "size": 3445
        },
        {
          "path": "plugins/majestic-data/commands/workflows/validate.md",
          "type": "blob",
          "size": 3271
        },
        {
          "path": "plugins/majestic-data/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-data/skills/csv-wrangler",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-data/skills/csv-wrangler/SKILL.md",
          "type": "blob",
          "size": 8830
        },
        {
          "path": "plugins/majestic-data/skills/data-quality",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-data/skills/data-quality/SKILL.md",
          "type": "blob",
          "size": 10719
        },
        {
          "path": "plugins/majestic-data/skills/data-validation",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-data/skills/data-validation/SKILL.md",
          "type": "blob",
          "size": 8716
        },
        {
          "path": "plugins/majestic-data/skills/dbt-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-data/skills/dbt-coder/SKILL.md",
          "type": "blob",
          "size": 6829
        },
        {
          "path": "plugins/majestic-data/skills/etl-patterns",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-data/skills/etl-patterns/SKILL.md",
          "type": "blob",
          "size": 9529
        },
        {
          "path": "plugins/majestic-data/skills/pandas-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-data/skills/pandas-coder/SKILL.md",
          "type": "blob",
          "size": 4824
        },
        {
          "path": "plugins/majestic-data/skills/parquet-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-data/skills/parquet-coder/SKILL.md",
          "type": "blob",
          "size": 6915
        },
        {
          "path": "plugins/majestic-data/skills/sql-patterns",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-data/skills/sql-patterns/SKILL.md",
          "type": "blob",
          "size": 5578
        },
        {
          "path": "plugins/majestic-devops",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-devops/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-devops/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 791
        },
        {
          "path": "plugins/majestic-devops/CHANGELOG.md",
          "type": "blob",
          "size": 4680
        },
        {
          "path": "plugins/majestic-devops/README.md",
          "type": "blob",
          "size": 11347
        },
        {
          "path": "plugins/majestic-devops/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-devops/agents/devops-verifier.md",
          "type": "blob",
          "size": 8836
        },
        {
          "path": "plugins/majestic-devops/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-devops/skills/ansible-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-devops/skills/ansible-coder/SKILL.md",
          "type": "blob",
          "size": 11578
        },
        {
          "path": "plugins/majestic-devops/skills/backblaze-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-devops/skills/backblaze-coder/SKILL.md",
          "type": "blob",
          "size": 10558
        },
        {
          "path": "plugins/majestic-devops/skills/backblaze-coder/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-devops/skills/backblaze-coder/resources/production-setup.md",
          "type": "blob",
          "size": 3050
        },
        {
          "path": "plugins/majestic-devops/skills/cloud-init-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-devops/skills/cloud-init-coder/SKILL.md",
          "type": "blob",
          "size": 9265
        },
        {
          "path": "plugins/majestic-devops/skills/cloudflare-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-devops/skills/cloudflare-coder/SKILL.md",
          "type": "blob",
          "size": 10985
        },
        {
          "path": "plugins/majestic-devops/skills/cloudflare-coder/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-devops/skills/cloudflare-coder/resources/load-balancer.md",
          "type": "blob",
          "size": 1689
        },
        {
          "path": "plugins/majestic-devops/skills/cloudflare-coder/resources/production-zone.md",
          "type": "blob",
          "size": 4508
        },
        {
          "path": "plugins/majestic-devops/skills/cloudflare-coder/resources/waf.md",
          "type": "blob",
          "size": 2823
        },
        {
          "path": "plugins/majestic-devops/skills/devops-plan",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-devops/skills/devops-plan/SKILL.md",
          "type": "blob",
          "size": 2935
        },
        {
          "path": "plugins/majestic-devops/skills/digitalocean-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-devops/skills/digitalocean-coder/SKILL.md",
          "type": "blob",
          "size": 10328
        },
        {
          "path": "plugins/majestic-devops/skills/hetzner-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-devops/skills/hetzner-coder/SKILL.md",
          "type": "blob",
          "size": 13354
        },
        {
          "path": "plugins/majestic-devops/skills/hetzner-coder/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-devops/skills/hetzner-coder/resources/best-practices.md",
          "type": "blob",
          "size": 2500
        },
        {
          "path": "plugins/majestic-devops/skills/hetzner-coder/resources/object-storage.md",
          "type": "blob",
          "size": 3934
        },
        {
          "path": "plugins/majestic-devops/skills/hetzner-coder/resources/production-stack.md",
          "type": "blob",
          "size": 4620
        },
        {
          "path": "plugins/majestic-devops/skills/infra-security-review",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-devops/skills/infra-security-review/SKILL.md",
          "type": "blob",
          "size": 3997
        },
        {
          "path": "plugins/majestic-devops/skills/onepassword-cli-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-devops/skills/onepassword-cli-coder/SKILL.md",
          "type": "blob",
          "size": 10346
        },
        {
          "path": "plugins/majestic-devops/skills/onepassword-cli-coder/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-devops/skills/onepassword-cli-coder/resources/multiple-accounts.md",
          "type": "blob",
          "size": 3132
        },
        {
          "path": "plugins/majestic-devops/skills/opentofu-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-devops/skills/opentofu-coder/SKILL.md",
          "type": "blob",
          "size": 11969
        },
        {
          "path": "plugins/majestic-devops/skills/opentofu-coder/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-devops/skills/opentofu-coder/resources/hcl-patterns.md",
          "type": "blob",
          "size": 6241
        },
        {
          "path": "plugins/majestic-devops/skills/opentofu-coder/resources/makefile-automation.md",
          "type": "blob",
          "size": 7681
        },
        {
          "path": "plugins/majestic-devops/skills/opentofu-coder/resources/post-provisioning.md",
          "type": "blob",
          "size": 3914
        },
        {
          "path": "plugins/majestic-devops/skills/opentofu-coder/resources/project-scaffolding.md",
          "type": "blob",
          "size": 4944
        },
        {
          "path": "plugins/majestic-devops/skills/opentofu-coder/resources/provider-examples.md",
          "type": "blob",
          "size": 8196
        },
        {
          "path": "plugins/majestic-devops/skills/opentofu-coder/resources/state-management.md",
          "type": "blob",
          "size": 6297
        },
        {
          "path": "plugins/majestic-devops/skills/wrangler-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-devops/skills/wrangler-coder/SKILL.md",
          "type": "blob",
          "size": 9795
        },
        {
          "path": "plugins/majestic-devops/skills/wrangler-coder/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-devops/skills/wrangler-coder/resources/d1-r2.md",
          "type": "blob",
          "size": 3741
        },
        {
          "path": "plugins/majestic-devops/skills/wrangler-coder/resources/queues-durable-objects.md",
          "type": "blob",
          "size": 2776
        },
        {
          "path": "plugins/majestic-devops/skills/wrangler-coder/resources/worker-example.md",
          "type": "blob",
          "size": 2782
        },
        {
          "path": "plugins/majestic-engineer",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 488
        },
        {
          "path": "plugins/majestic-engineer/CHANGELOG.md",
          "type": "blob",
          "size": 30596
        },
        {
          "path": "plugins/majestic-engineer/README.md",
          "type": "blob",
          "size": 11402
        },
        {
          "path": "plugins/majestic-engineer/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/agents/design",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/agents/design/ui-ux-designer.md",
          "type": "blob",
          "size": 8566
        },
        {
          "path": "plugins/majestic-engineer/agents/github-resolver.md",
          "type": "blob",
          "size": 6665
        },
        {
          "path": "plugins/majestic-engineer/agents/plan",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/agents/plan/architect.md",
          "type": "blob",
          "size": 6466
        },
        {
          "path": "plugins/majestic-engineer/agents/plan/plan-review.md",
          "type": "blob",
          "size": 5550
        },
        {
          "path": "plugins/majestic-engineer/agents/plan/refactor-plan.md",
          "type": "blob",
          "size": 7029
        },
        {
          "path": "plugins/majestic-engineer/agents/plan/spec-reviewer.md",
          "type": "blob",
          "size": 1769
        },
        {
          "path": "plugins/majestic-engineer/agents/plan/task-breakdown.md",
          "type": "blob",
          "size": 6060
        },
        {
          "path": "plugins/majestic-engineer/agents/qa",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/agents/qa/acceptance-criteria-verifier.md",
          "type": "blob",
          "size": 2857
        },
        {
          "path": "plugins/majestic-engineer/agents/qa/security-review.md",
          "type": "blob",
          "size": 4312
        },
        {
          "path": "plugins/majestic-engineer/agents/qa/slop-remover.md",
          "type": "blob",
          "size": 4532
        },
        {
          "path": "plugins/majestic-engineer/agents/qa/test-create.md",
          "type": "blob",
          "size": 10593
        },
        {
          "path": "plugins/majestic-engineer/agents/qa/test-reviewer.md",
          "type": "blob",
          "size": 5939
        },
        {
          "path": "plugins/majestic-engineer/agents/qa/visual-validator.md",
          "type": "blob",
          "size": 7120
        },
        {
          "path": "plugins/majestic-engineer/agents/research",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/agents/research/best-practices-researcher.md",
          "type": "blob",
          "size": 1925
        },
        {
          "path": "plugins/majestic-engineer/agents/research/docs-architect.md",
          "type": "blob",
          "size": 3584
        },
        {
          "path": "plugins/majestic-engineer/agents/research/docs-researcher.md",
          "type": "blob",
          "size": 2776
        },
        {
          "path": "plugins/majestic-engineer/agents/research/git-researcher.md",
          "type": "blob",
          "size": 2704
        },
        {
          "path": "plugins/majestic-engineer/agents/research/repo-analyst.md",
          "type": "blob",
          "size": 4030
        },
        {
          "path": "plugins/majestic-engineer/agents/research/web-research.md",
          "type": "blob",
          "size": 4036
        },
        {
          "path": "plugins/majestic-engineer/agents/session-checkpoint.md",
          "type": "blob",
          "size": 6369
        },
        {
          "path": "plugins/majestic-engineer/agents/workflow",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/agents/workflow/always-works-verifier.md",
          "type": "blob",
          "size": 5181
        },
        {
          "path": "plugins/majestic-engineer/agents/workflow/build-task-workflow-manager.md",
          "type": "blob",
          "size": 6664
        },
        {
          "path": "plugins/majestic-engineer/agents/workflow/context-proxy.md",
          "type": "blob",
          "size": 6371
        },
        {
          "path": "plugins/majestic-engineer/agents/workflow/lessons-discoverer.md",
          "type": "blob",
          "size": 7187
        },
        {
          "path": "plugins/majestic-engineer/agents/workflow/quality-gate.md",
          "type": "blob",
          "size": 10556
        },
        {
          "path": "plugins/majestic-engineer/agents/workflow/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/agents/workflow/resources/toolbox-resolver",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/agents/workflow/resources/toolbox-resolver/generic.yml",
          "type": "blob",
          "size": 1389
        },
        {
          "path": "plugins/majestic-engineer/agents/workflow/resources/toolbox-resolver/node.yml",
          "type": "blob",
          "size": 1813
        },
        {
          "path": "plugins/majestic-engineer/agents/workflow/resources/toolbox-resolver/python.yml",
          "type": "blob",
          "size": 1908
        },
        {
          "path": "plugins/majestic-engineer/agents/workflow/resources/toolbox-resolver/rails.yml",
          "type": "blob",
          "size": 2275
        },
        {
          "path": "plugins/majestic-engineer/agents/workflow/resources/toolbox-resolver/react.yml",
          "type": "blob",
          "size": 2237
        },
        {
          "path": "plugins/majestic-engineer/agents/workflow/ship.md",
          "type": "blob",
          "size": 4262
        },
        {
          "path": "plugins/majestic-engineer/agents/workflow/task-fetcher.md",
          "type": "blob",
          "size": 4366
        },
        {
          "path": "plugins/majestic-engineer/agents/workflow/task-status-updater.md",
          "type": "blob",
          "size": 4496
        },
        {
          "path": "plugins/majestic-engineer/agents/workflow/toolbox-resolver.md",
          "type": "blob",
          "size": 8027
        },
        {
          "path": "plugins/majestic-engineer/agents/workflow/workspace-setup.md",
          "type": "blob",
          "size": 4722
        },
        {
          "path": "plugins/majestic-engineer/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/commands/config-reader.md",
          "type": "blob",
          "size": 653
        },
        {
          "path": "plugins/majestic-engineer/commands/explain.md",
          "type": "blob",
          "size": 2985
        },
        {
          "path": "plugins/majestic-engineer/commands/favicon.md",
          "type": "blob",
          "size": 5786
        },
        {
          "path": "plugins/majestic-engineer/commands/git",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/commands/git/changelog.md",
          "type": "blob",
          "size": 4390
        },
        {
          "path": "plugins/majestic-engineer/commands/git/code-story.md",
          "type": "blob",
          "size": 3032
        },
        {
          "path": "plugins/majestic-engineer/commands/git/commit.md",
          "type": "blob",
          "size": 1571
        },
        {
          "path": "plugins/majestic-engineer/commands/git/create-pr.md",
          "type": "blob",
          "size": 1913
        },
        {
          "path": "plugins/majestic-engineer/commands/git/pr-review.md",
          "type": "blob",
          "size": 2107
        },
        {
          "path": "plugins/majestic-engineer/commands/git/worktree-cleanup.md",
          "type": "blob",
          "size": 317
        },
        {
          "path": "plugins/majestic-engineer/commands/session",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/commands/session/handoff.md",
          "type": "blob",
          "size": 5620
        },
        {
          "path": "plugins/majestic-engineer/commands/session/ledger-clear.md",
          "type": "blob",
          "size": 767
        },
        {
          "path": "plugins/majestic-engineer/commands/session/pickup.md",
          "type": "blob",
          "size": 5042
        },
        {
          "path": "plugins/majestic-engineer/commands/session/smart-compact.md",
          "type": "blob",
          "size": 2787
        },
        {
          "path": "plugins/majestic-engineer/commands/tasks",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/commands/tasks/new.md",
          "type": "blob",
          "size": 1501
        },
        {
          "path": "plugins/majestic-engineer/commands/workflows",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/commands/workflows/blueprint.md",
          "type": "blob",
          "size": 13609
        },
        {
          "path": "plugins/majestic-engineer/commands/workflows/build-task.md",
          "type": "blob",
          "size": 6259
        },
        {
          "path": "plugins/majestic-engineer/commands/workflows/code-review.md",
          "type": "blob",
          "size": 4068
        },
        {
          "path": "plugins/majestic-engineer/commands/workflows/debug.md",
          "type": "blob",
          "size": 3807
        },
        {
          "path": "plugins/majestic-engineer/commands/workflows/init.md",
          "type": "blob",
          "size": 5097
        },
        {
          "path": "plugins/majestic-engineer/commands/workflows/init",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/commands/workflows/init/check-existing.sh",
          "type": "blob",
          "size": 963
        },
        {
          "path": "plugins/majestic-engineer/commands/workflows/init/detect-branch.sh",
          "type": "blob",
          "size": 602
        },
        {
          "path": "plugins/majestic-engineer/commands/workflows/init/detect-tech-stack.sh",
          "type": "blob",
          "size": 1831
        },
        {
          "path": "plugins/majestic-engineer/commands/workflows/init/detect-versions.sh",
          "type": "blob",
          "size": 1352
        },
        {
          "path": "plugins/majestic-engineer/commands/workflows/init/gitignore-add.sh",
          "type": "blob",
          "size": 644
        },
        {
          "path": "plugins/majestic-engineer/commands/workflows/init/verify-setup.sh",
          "type": "blob",
          "size": 1742
        },
        {
          "path": "plugins/majestic-engineer/commands/workflows/prd.md",
          "type": "blob",
          "size": 3105
        },
        {
          "path": "plugins/majestic-engineer/commands/workflows/quality-gate.md",
          "type": "blob",
          "size": 3035
        },
        {
          "path": "plugins/majestic-engineer/commands/workflows/question.md",
          "type": "blob",
          "size": 1755
        },
        {
          "path": "plugins/majestic-engineer/commands/workflows/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/commands/workflows/resources/prd",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/commands/workflows/resources/prd/prd-template.txt",
          "type": "blob",
          "size": 4038
        },
        {
          "path": "plugins/majestic-engineer/commands/workflows/resources/prd/technical-expansion.txt",
          "type": "blob",
          "size": 1940
        },
        {
          "path": "plugins/majestic-engineer/commands/workflows/run-blueprint.md",
          "type": "blob",
          "size": 672
        },
        {
          "path": "plugins/majestic-engineer/commands/workflows/ship-it.md",
          "type": "blob",
          "size": 642
        },
        {
          "path": "plugins/majestic-engineer/commands/workflows/ux-brief.md",
          "type": "blob",
          "size": 5863
        },
        {
          "path": "plugins/majestic-engineer/config-schema-version",
          "type": "blob",
          "size": 4
        },
        {
          "path": "plugins/majestic-engineer/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/backlog-manager",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/backlog-manager/SKILL.md",
          "type": "blob",
          "size": 4030
        },
        {
          "path": "plugins/majestic-engineer/skills/backlog-manager/assets",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/backlog-manager/assets/backlog-template.md",
          "type": "blob",
          "size": 3892
        },
        {
          "path": "plugins/majestic-engineer/skills/backlog-manager/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/backlog-manager/resources/beads-backend.yml",
          "type": "blob",
          "size": 2080
        },
        {
          "path": "plugins/majestic-engineer/skills/backlog-manager/resources/beads-viewer.yml",
          "type": "blob",
          "size": 2322
        },
        {
          "path": "plugins/majestic-engineer/skills/backlog-manager/resources/file-backend.yml",
          "type": "blob",
          "size": 2132
        },
        {
          "path": "plugins/majestic-engineer/skills/backlog-manager/resources/github-backend.yml",
          "type": "blob",
          "size": 3304
        },
        {
          "path": "plugins/majestic-engineer/skills/backlog-manager/resources/linear-backend.yml",
          "type": "blob",
          "size": 2640
        },
        {
          "path": "plugins/majestic-engineer/skills/check-ci",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/check-ci/SKILL.md",
          "type": "blob",
          "size": 4104
        },
        {
          "path": "plugins/majestic-engineer/skills/check-ci/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/check-ci/scripts/check_ci.sh",
          "type": "blob",
          "size": 1934
        },
        {
          "path": "plugins/majestic-engineer/skills/cloudflare-worker",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/cloudflare-worker/SKILL.md",
          "type": "blob",
          "size": 4699
        },
        {
          "path": "plugins/majestic-engineer/skills/cloudflare-worker/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/cloudflare-worker/resources/durable-objects.md",
          "type": "blob",
          "size": 3897
        },
        {
          "path": "plugins/majestic-engineer/skills/cloudflare-worker/resources/hono.md",
          "type": "blob",
          "size": 2803
        },
        {
          "path": "plugins/majestic-engineer/skills/cloudflare-worker/resources/queues-testing.md",
          "type": "blob",
          "size": 4649
        },
        {
          "path": "plugins/majestic-engineer/skills/cloudflare-worker/resources/setup.md",
          "type": "blob",
          "size": 2086
        },
        {
          "path": "plugins/majestic-engineer/skills/cloudflare-worker/resources/storage.md",
          "type": "blob",
          "size": 3701
        },
        {
          "path": "plugins/majestic-engineer/skills/code-story",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/code-story/SKILL.md",
          "type": "blob",
          "size": 1270
        },
        {
          "path": "plugins/majestic-engineer/skills/code-story/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/code-story/resources/comprehensive-template.md",
          "type": "blob",
          "size": 2024
        },
        {
          "path": "plugins/majestic-engineer/skills/code-story/resources/minimal-template.md",
          "type": "blob",
          "size": 565
        },
        {
          "path": "plugins/majestic-engineer/skills/code-story/resources/standard-template.md",
          "type": "blob",
          "size": 1684
        },
        {
          "path": "plugins/majestic-engineer/skills/config-reader",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/config-reader/SKILL.md",
          "type": "blob",
          "size": 1821
        },
        {
          "path": "plugins/majestic-engineer/skills/config-reader/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/config-reader/scripts/config_reader.sh",
          "type": "blob",
          "size": 3605
        },
        {
          "path": "plugins/majestic-engineer/skills/create-adr",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/create-adr/SKILL.md",
          "type": "blob",
          "size": 3068
        },
        {
          "path": "plugins/majestic-engineer/skills/create-adr/assets",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/create-adr/assets/adr-template.md",
          "type": "blob",
          "size": 1744
        },
        {
          "path": "plugins/majestic-engineer/skills/fix-reporter",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/fix-reporter/SKILL.md",
          "type": "blob",
          "size": 14852
        },
        {
          "path": "plugins/majestic-engineer/skills/fix-reporter/assets",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/fix-reporter/assets/critical-pattern-template.md",
          "type": "blob",
          "size": 860
        },
        {
          "path": "plugins/majestic-engineer/skills/fix-reporter/assets/resolution-template.md",
          "type": "blob",
          "size": 3718
        },
        {
          "path": "plugins/majestic-engineer/skills/fix-reporter/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/fix-reporter/references/yaml-schema.md",
          "type": "blob",
          "size": 4225
        },
        {
          "path": "plugins/majestic-engineer/skills/fix-reporter/schema.yaml",
          "type": "blob",
          "size": 8508
        },
        {
          "path": "plugins/majestic-engineer/skills/frontend-design",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/frontend-design/SKILL.md",
          "type": "blob",
          "size": 6901
        },
        {
          "path": "plugins/majestic-engineer/skills/frontend-design/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/frontend-design/resources/css-polish-tips.md",
          "type": "blob",
          "size": 2487
        },
        {
          "path": "plugins/majestic-engineer/skills/frontend-design/resources/landing-page-design.md",
          "type": "blob",
          "size": 8947
        },
        {
          "path": "plugins/majestic-engineer/skills/frontend-design/resources/motion-patterns.md",
          "type": "blob",
          "size": 5261
        },
        {
          "path": "plugins/majestic-engineer/skills/frontend-design/resources/rails-hotwire.md",
          "type": "blob",
          "size": 3779
        },
        {
          "path": "plugins/majestic-engineer/skills/frontend-design/resources/react-vue.md",
          "type": "blob",
          "size": 3178
        },
        {
          "path": "plugins/majestic-engineer/skills/frontend-design/resources/ui-implementation-guide.md",
          "type": "blob",
          "size": 4869
        },
        {
          "path": "plugins/majestic-engineer/skills/git-worktree",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/git-worktree/SKILL.md",
          "type": "blob",
          "size": 3172
        },
        {
          "path": "plugins/majestic-engineer/skills/git-worktree/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/git-worktree/scripts/worktree-manager.sh",
          "type": "blob",
          "size": 16742
        },
        {
          "path": "plugins/majestic-engineer/skills/hierarchical-agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/hierarchical-agents/SKILL.md",
          "type": "blob",
          "size": 10135
        },
        {
          "path": "plugins/majestic-engineer/skills/hierarchical-agents/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/hierarchical-agents/references/generation-process.md",
          "type": "blob",
          "size": 21838
        },
        {
          "path": "plugins/majestic-engineer/skills/init-agents-config",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/init-agents-config/CONFIG_VERSION",
          "type": "blob",
          "size": 4
        },
        {
          "path": "plugins/majestic-engineer/skills/init-agents-config/SKILL.md",
          "type": "blob",
          "size": 2291
        },
        {
          "path": "plugins/majestic-engineer/skills/init-agents-config/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/init-agents-config/resources/agents-md-template.md",
          "type": "blob",
          "size": 883
        },
        {
          "path": "plugins/majestic-engineer/skills/init-agents-config/resources/generic.yaml",
          "type": "blob",
          "size": 2082
        },
        {
          "path": "plugins/majestic-engineer/skills/init-agents-config/resources/local-config-template.yaml",
          "type": "blob",
          "size": 837
        },
        {
          "path": "plugins/majestic-engineer/skills/init-agents-config/resources/node.yaml",
          "type": "blob",
          "size": 2666
        },
        {
          "path": "plugins/majestic-engineer/skills/init-agents-config/resources/python.yaml",
          "type": "blob",
          "size": 2363
        },
        {
          "path": "plugins/majestic-engineer/skills/init-agents-config/resources/rails.yaml",
          "type": "blob",
          "size": 3050
        },
        {
          "path": "plugins/majestic-engineer/skills/mermaid-builder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/mermaid-builder/SKILL.md",
          "type": "blob",
          "size": 4242
        },
        {
          "path": "plugins/majestic-engineer/skills/mermaid-builder/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/mermaid-builder/resources/data-lineage.md",
          "type": "blob",
          "size": 4877
        },
        {
          "path": "plugins/majestic-engineer/skills/mermaid-builder/resources/diagram-examples.md",
          "type": "blob",
          "size": 3186
        },
        {
          "path": "plugins/majestic-engineer/skills/plan-builder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/plan-builder/SKILL.md",
          "type": "blob",
          "size": 2264
        },
        {
          "path": "plugins/majestic-engineer/skills/plan-builder/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/plan-builder/resources/comprehensive.md",
          "type": "blob",
          "size": 3317
        },
        {
          "path": "plugins/majestic-engineer/skills/plan-builder/resources/minimal.md",
          "type": "blob",
          "size": 952
        },
        {
          "path": "plugins/majestic-engineer/skills/plan-builder/resources/standard.md",
          "type": "blob",
          "size": 1534
        },
        {
          "path": "plugins/majestic-engineer/skills/pr-screenshot-docs",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/pr-screenshot-docs/SKILL.md",
          "type": "blob",
          "size": 4032
        },
        {
          "path": "plugins/majestic-engineer/skills/research-compound",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/research-compound/SKILL.md",
          "type": "blob",
          "size": 6613
        },
        {
          "path": "plugins/majestic-engineer/skills/subagent-driven-development",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/subagent-driven-development/SKILL.md",
          "type": "blob",
          "size": 5074
        },
        {
          "path": "plugins/majestic-engineer/skills/tdd-workflow",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/tdd-workflow/SKILL.md",
          "type": "blob",
          "size": 6359
        },
        {
          "path": "plugins/majestic-engineer/skills/tdd-workflow/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/tdd-workflow/references/rails-tdd-workflow.md",
          "type": "blob",
          "size": 2591
        },
        {
          "path": "plugins/majestic-engineer/skills/ux-brief",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/ux-brief/SKILL.md",
          "type": "blob",
          "size": 961
        },
        {
          "path": "plugins/majestic-engineer/skills/ux-brief/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-engineer/skills/ux-brief/resources/design-system-template.md",
          "type": "blob",
          "size": 20770
        },
        {
          "path": "plugins/majestic-experts",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-experts/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-experts/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 490
        },
        {
          "path": "plugins/majestic-experts/CHANGELOG.md",
          "type": "blob",
          "size": 3657
        },
        {
          "path": "plugins/majestic-experts/README.md",
          "type": "blob",
          "size": 7277
        },
        {
          "path": "plugins/majestic-experts/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-experts/agents/expert-panel-discussion.md",
          "type": "blob",
          "size": 7155
        },
        {
          "path": "plugins/majestic-experts/agents/expert-perspective.md",
          "type": "blob",
          "size": 9026
        },
        {
          "path": "plugins/majestic-experts/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-experts/commands/expert-panel.md",
          "type": "blob",
          "size": 5511
        },
        {
          "path": "plugins/majestic-experts/experts",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-experts/experts/business",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-experts/experts/business/april-dunford.md",
          "type": "blob",
          "size": 2475
        },
        {
          "path": "plugins/majestic-experts/experts/business/jason-fried.md",
          "type": "blob",
          "size": 2671
        },
        {
          "path": "plugins/majestic-experts/experts/business/naval-ravikant.md",
          "type": "blob",
          "size": 2905
        },
        {
          "path": "plugins/majestic-experts/experts/business/paul-graham.md",
          "type": "blob",
          "size": 2844
        },
        {
          "path": "plugins/majestic-experts/experts/business/peter-thiel.md",
          "type": "blob",
          "size": 2808
        },
        {
          "path": "plugins/majestic-experts/experts/business/rand-fishkin.md",
          "type": "blob",
          "size": 2464
        },
        {
          "path": "plugins/majestic-experts/experts/business/seth-godin.md",
          "type": "blob",
          "size": 2734
        },
        {
          "path": "plugins/majestic-experts/experts/engineering",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-experts/experts/engineering/dhh.md",
          "type": "blob",
          "size": 5693
        },
        {
          "path": "plugins/majestic-experts/experts/engineering/kent-beck.md",
          "type": "blob",
          "size": 2749
        },
        {
          "path": "plugins/majestic-experts/experts/engineering/martin-fowler.md",
          "type": "blob",
          "size": 3082
        },
        {
          "path": "plugins/majestic-experts/experts/engineering/rich-hickey.md",
          "type": "blob",
          "size": 2802
        },
        {
          "path": "plugins/majestic-experts/experts/engineering/sandi-metz.md",
          "type": "blob",
          "size": 2815
        },
        {
          "path": "plugins/majestic-experts/experts/engineering/uncle-bob.md",
          "type": "blob",
          "size": 2795
        },
        {
          "path": "plugins/majestic-experts/experts/pricing",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-experts/experts/pricing/josh-pigford.md",
          "type": "blob",
          "size": 2393
        },
        {
          "path": "plugins/majestic-experts/experts/pricing/patrick-campbell.md",
          "type": "blob",
          "size": 2497
        },
        {
          "path": "plugins/majestic-experts/experts/pricing/rob-walling.md",
          "type": "blob",
          "size": 2454
        },
        {
          "path": "plugins/majestic-experts/experts/product",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-experts/experts/product/alan-cooper.md",
          "type": "blob",
          "size": 2707
        },
        {
          "path": "plugins/majestic-experts/experts/product/julie-zhuo.md",
          "type": "blob",
          "size": 3071
        },
        {
          "path": "plugins/majestic-experts/experts/product/marty-cagan.md",
          "type": "blob",
          "size": 3222
        },
        {
          "path": "plugins/majestic-experts/experts/product/ryan-singer.md",
          "type": "blob",
          "size": 3016
        },
        {
          "path": "plugins/majestic-experts/experts/registry.yml",
          "type": "blob",
          "size": 6309
        },
        {
          "path": "plugins/majestic-experts/experts/security",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-experts/experts/security/tanya-janca.md",
          "type": "blob",
          "size": 2976
        },
        {
          "path": "plugins/majestic-experts/experts/security/troy-hunt.md",
          "type": "blob",
          "size": 2995
        },
        {
          "path": "plugins/majestic-experts/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-experts/resources/edge-cases.txt",
          "type": "blob",
          "size": 3917
        },
        {
          "path": "plugins/majestic-experts/resources/synthesis-template.txt",
          "type": "blob",
          "size": 4522
        },
        {
          "path": "plugins/majestic-founder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-founder/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-founder/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 560
        },
        {
          "path": "plugins/majestic-founder/CHANGELOG.md",
          "type": "blob",
          "size": 391
        },
        {
          "path": "plugins/majestic-founder/README.md",
          "type": "blob",
          "size": 2251
        },
        {
          "path": "plugins/majestic-founder/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-founder/skills/calendar-optimization",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-founder/skills/calendar-optimization/SKILL.md",
          "type": "blob",
          "size": 7164
        },
        {
          "path": "plugins/majestic-founder/skills/challenge-mode",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-founder/skills/challenge-mode/SKILL.md",
          "type": "blob",
          "size": 1983
        },
        {
          "path": "plugins/majestic-founder/skills/founder-mode",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-founder/skills/founder-mode/SKILL.md",
          "type": "blob",
          "size": 5112
        },
        {
          "path": "plugins/majestic-founder/skills/pareto",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-founder/skills/pareto/SKILL.md",
          "type": "blob",
          "size": 5982
        },
        {
          "path": "plugins/majestic-llm",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-llm/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-llm/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 518
        },
        {
          "path": "plugins/majestic-llm/CHANGELOG.md",
          "type": "blob",
          "size": 991
        },
        {
          "path": "plugins/majestic-llm/README.md",
          "type": "blob",
          "size": 2838
        },
        {
          "path": "plugins/majestic-llm/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-llm/agents/codex-consult.md",
          "type": "blob",
          "size": 4454
        },
        {
          "path": "plugins/majestic-llm/agents/codex-reviewer.md",
          "type": "blob",
          "size": 6783
        },
        {
          "path": "plugins/majestic-llm/agents/gemini-consult.md",
          "type": "blob",
          "size": 4611
        },
        {
          "path": "plugins/majestic-llm/agents/gemini-reviewer.md",
          "type": "blob",
          "size": 5381
        },
        {
          "path": "plugins/majestic-llm/agents/multi-llm-coordinator.md",
          "type": "blob",
          "size": 5924
        },
        {
          "path": "plugins/majestic-llm/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-llm/commands/consult.md",
          "type": "blob",
          "size": 4994
        },
        {
          "path": "plugins/majestic-llm/commands/review.md",
          "type": "blob",
          "size": 5854
        },
        {
          "path": "plugins/majestic-marketing",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 718
        },
        {
          "path": "plugins/majestic-marketing/CHANGELOG.md",
          "type": "blob",
          "size": 22295
        },
        {
          "path": "plugins/majestic-marketing/README.md",
          "type": "blob",
          "size": 9589
        },
        {
          "path": "plugins/majestic-marketing/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/agents/branding",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/agents/branding/namer.md",
          "type": "blob",
          "size": 8270
        },
        {
          "path": "plugins/majestic-marketing/agents/content",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/agents/content/fact-checker.md",
          "type": "blob",
          "size": 4134
        },
        {
          "path": "plugins/majestic-marketing/agents/email-sequence-builder.md",
          "type": "blob",
          "size": 7270
        },
        {
          "path": "plugins/majestic-marketing/agents/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/agents/resources/email-sequence-builder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/agents/resources/email-sequence-builder/email-structure.md",
          "type": "blob",
          "size": 984
        },
        {
          "path": "plugins/majestic-marketing/agents/resources/email-sequence-builder/segmentation-triggers.md",
          "type": "blob",
          "size": 2584
        },
        {
          "path": "plugins/majestic-marketing/agents/resources/email-sequence-builder/subject-formulas.md",
          "type": "blob",
          "size": 1640
        },
        {
          "path": "plugins/majestic-marketing/agents/resources/email-sequence-builder/timing-metrics.md",
          "type": "blob",
          "size": 2071
        },
        {
          "path": "plugins/majestic-marketing/agents/seo",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/agents/seo/authority-builder.md",
          "type": "blob",
          "size": 7565
        },
        {
          "path": "plugins/majestic-marketing/agents/seo/cannibalization-detector.md",
          "type": "blob",
          "size": 2666
        },
        {
          "path": "plugins/majestic-marketing/agents/seo/content-auditor.md",
          "type": "blob",
          "size": 1927
        },
        {
          "path": "plugins/majestic-marketing/agents/seo/content-planner.md",
          "type": "blob",
          "size": 3758
        },
        {
          "path": "plugins/majestic-marketing/agents/seo/content-refresher.md",
          "type": "blob",
          "size": 2584
        },
        {
          "path": "plugins/majestic-marketing/agents/seo/content-writer.md",
          "type": "blob",
          "size": 2060
        },
        {
          "path": "plugins/majestic-marketing/agents/seo/entity-builder.md",
          "type": "blob",
          "size": 6951
        },
        {
          "path": "plugins/majestic-marketing/agents/seo/keyword-strategist.md",
          "type": "blob",
          "size": 2180
        },
        {
          "path": "plugins/majestic-marketing/agents/seo/llm-optimizer.md",
          "type": "blob",
          "size": 7390
        },
        {
          "path": "plugins/majestic-marketing/agents/seo/meta-optimizer.md",
          "type": "blob",
          "size": 2209
        },
        {
          "path": "plugins/majestic-marketing/agents/seo/schema-architect.md",
          "type": "blob",
          "size": 4329
        },
        {
          "path": "plugins/majestic-marketing/agents/seo/snippet-hunter.md",
          "type": "blob",
          "size": 2508
        },
        {
          "path": "plugins/majestic-marketing/agents/seo/structure-architect.md",
          "type": "blob",
          "size": 2324
        },
        {
          "path": "plugins/majestic-marketing/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/commands/start.md",
          "type": "blob",
          "size": 6809
        },
        {
          "path": "plugins/majestic-marketing/commands/style-guide",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/commands/style-guide/new.md",
          "type": "blob",
          "size": 4502
        },
        {
          "path": "plugins/majestic-marketing/commands/workflows",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/commands/workflows/aeo-workflow.md",
          "type": "blob",
          "size": 7601
        },
        {
          "path": "plugins/majestic-marketing/commands/workflows/brand-audit.md",
          "type": "blob",
          "size": 8686
        },
        {
          "path": "plugins/majestic-marketing/commands/workflows/content-check.md",
          "type": "blob",
          "size": 2346
        },
        {
          "path": "plugins/majestic-marketing/commands/workflows/seo-audit.md",
          "type": "blob",
          "size": 2290
        },
        {
          "path": "plugins/majestic-marketing/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/aeo-scorecard",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/aeo-scorecard/SKILL.md",
          "type": "blob",
          "size": 6580
        },
        {
          "path": "plugins/majestic-marketing/skills/bofu-keywords",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/bofu-keywords/SKILL.md",
          "type": "blob",
          "size": 4868
        },
        {
          "path": "plugins/majestic-marketing/skills/brand-positioning",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/brand-positioning/SKILL.md",
          "type": "blob",
          "size": 10938
        },
        {
          "path": "plugins/majestic-marketing/skills/brand-voice",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/brand-voice/SKILL.md",
          "type": "blob",
          "size": 10507
        },
        {
          "path": "plugins/majestic-marketing/skills/case-study-writer",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/case-study-writer/SKILL.md",
          "type": "blob",
          "size": 6086
        },
        {
          "path": "plugins/majestic-marketing/skills/competitive-positioning",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/competitive-positioning/SKILL.md",
          "type": "blob",
          "size": 6836
        },
        {
          "path": "plugins/majestic-marketing/skills/content-atomizer",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/content-atomizer/SKILL.md",
          "type": "blob",
          "size": 12064
        },
        {
          "path": "plugins/majestic-marketing/skills/content-atomizer/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/content-atomizer/resources/interactive-templates.yaml",
          "type": "blob",
          "size": 2792
        },
        {
          "path": "plugins/majestic-marketing/skills/content-atomizer/resources/social-templates.yaml",
          "type": "blob",
          "size": 3752
        },
        {
          "path": "plugins/majestic-marketing/skills/content-atomizer/resources/video-audio-templates.yaml",
          "type": "blob",
          "size": 4714
        },
        {
          "path": "plugins/majestic-marketing/skills/content-atomizer/resources/visual-templates.yaml",
          "type": "blob",
          "size": 1893
        },
        {
          "path": "plugins/majestic-marketing/skills/content-atomizer/resources/written-templates.yaml",
          "type": "blob",
          "size": 2679
        },
        {
          "path": "plugins/majestic-marketing/skills/content-calendar",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/content-calendar/SKILL.md",
          "type": "blob",
          "size": 16534
        },
        {
          "path": "plugins/majestic-marketing/skills/content-optimizer",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/content-optimizer/SKILL.md",
          "type": "blob",
          "size": 5896
        },
        {
          "path": "plugins/majestic-marketing/skills/content-writer",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/content-writer/SKILL.md",
          "type": "blob",
          "size": 5324
        },
        {
          "path": "plugins/majestic-marketing/skills/copy-editor",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/copy-editor/SKILL.md",
          "type": "blob",
          "size": 5857
        },
        {
          "path": "plugins/majestic-marketing/skills/copy-editor/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/copy-editor/references/AI_WRITING_TELLS.md",
          "type": "blob",
          "size": 10327
        },
        {
          "path": "plugins/majestic-marketing/skills/copy-editor/references/DEFAULT_STYLE_GUIDE.md",
          "type": "blob",
          "size": 17097
        },
        {
          "path": "plugins/majestic-marketing/skills/customer-discovery",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/customer-discovery/SKILL.md",
          "type": "blob",
          "size": 2970
        },
        {
          "path": "plugins/majestic-marketing/skills/direct-response-copy",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/direct-response-copy/SKILL.md",
          "type": "blob",
          "size": 9298
        },
        {
          "path": "plugins/majestic-marketing/skills/free-tool-arsenal",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/free-tool-arsenal/SKILL.md",
          "type": "blob",
          "size": 9026
        },
        {
          "path": "plugins/majestic-marketing/skills/google-ads-strategy",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/google-ads-strategy/SKILL.md",
          "type": "blob",
          "size": 7005
        },
        {
          "path": "plugins/majestic-marketing/skills/google-ads-strategy/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/google-ads-strategy/resources/templates.md",
          "type": "blob",
          "size": 8891
        },
        {
          "path": "plugins/majestic-marketing/skills/help-docs-writer",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/help-docs-writer/SKILL.md",
          "type": "blob",
          "size": 8105
        },
        {
          "path": "plugins/majestic-marketing/skills/hook-writer",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/hook-writer/SKILL.md",
          "type": "blob",
          "size": 4288
        },
        {
          "path": "plugins/majestic-marketing/skills/irresistible-offer",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/irresistible-offer/SKILL.md",
          "type": "blob",
          "size": 9111
        },
        {
          "path": "plugins/majestic-marketing/skills/keyword-research",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/keyword-research/SKILL.md",
          "type": "blob",
          "size": 8923
        },
        {
          "path": "plugins/majestic-marketing/skills/landing-page-builder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/landing-page-builder/SKILL.md",
          "type": "blob",
          "size": 6094
        },
        {
          "path": "plugins/majestic-marketing/skills/language",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/language/SKILL.md",
          "type": "blob",
          "size": 9855
        },
        {
          "path": "plugins/majestic-marketing/skills/lead-magnet",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/lead-magnet/SKILL.md",
          "type": "blob",
          "size": 10575
        },
        {
          "path": "plugins/majestic-marketing/skills/lead-magnet/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/lead-magnet/resources/templates.md",
          "type": "blob",
          "size": 3273
        },
        {
          "path": "plugins/majestic-marketing/skills/linkedin-content",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/linkedin-content/SKILL.md",
          "type": "blob",
          "size": 5715
        },
        {
          "path": "plugins/majestic-marketing/skills/linkedin-content/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/linkedin-content/resources/templates.md",
          "type": "blob",
          "size": 4520
        },
        {
          "path": "plugins/majestic-marketing/skills/market-research",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/market-research/SKILL.md",
          "type": "blob",
          "size": 6724
        },
        {
          "path": "plugins/majestic-marketing/skills/marketing-playbook",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/marketing-playbook/SKILL.md",
          "type": "blob",
          "size": 11880
        },
        {
          "path": "plugins/majestic-marketing/skills/marketing-strategy",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/marketing-strategy/SKILL.md",
          "type": "blob",
          "size": 4562
        },
        {
          "path": "plugins/majestic-marketing/skills/narrative-builder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/narrative-builder/SKILL.md",
          "type": "blob",
          "size": 9835
        },
        {
          "path": "plugins/majestic-marketing/skills/newsletter",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/newsletter/SKILL.md",
          "type": "blob",
          "size": 9675
        },
        {
          "path": "plugins/majestic-marketing/skills/positioning-angles",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/positioning-angles/SKILL.md",
          "type": "blob",
          "size": 9920
        },
        {
          "path": "plugins/majestic-marketing/skills/power-words",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/power-words/SKILL.md",
          "type": "blob",
          "size": 4895
        },
        {
          "path": "plugins/majestic-marketing/skills/power-words/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/power-words/resources/word-library.txt",
          "type": "blob",
          "size": 4867
        },
        {
          "path": "plugins/majestic-marketing/skills/retention-system",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/retention-system/SKILL.md",
          "type": "blob",
          "size": 6090
        },
        {
          "path": "plugins/majestic-marketing/skills/retention-system/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/retention-system/resources/playbooks.md",
          "type": "blob",
          "size": 4546
        },
        {
          "path": "plugins/majestic-marketing/skills/sales-page",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/sales-page/SKILL.md",
          "type": "blob",
          "size": 11339
        },
        {
          "path": "plugins/majestic-marketing/skills/seo-audit",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/seo-audit/SKILL.md",
          "type": "blob",
          "size": 11048
        },
        {
          "path": "plugins/majestic-marketing/skills/seo-audit/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/seo-audit/resources/google-ranking-signals.yaml",
          "type": "blob",
          "size": 7345
        },
        {
          "path": "plugins/majestic-marketing/skills/seo-content",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/seo-content/SKILL.md",
          "type": "blob",
          "size": 12197
        },
        {
          "path": "plugins/majestic-marketing/skills/slogan-generator",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/slogan-generator/SKILL.md",
          "type": "blob",
          "size": 4716
        },
        {
          "path": "plugins/majestic-marketing/skills/style-guide-builder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/style-guide-builder/SKILL.md",
          "type": "blob",
          "size": 902
        },
        {
          "path": "plugins/majestic-marketing/skills/style-guide-builder/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/style-guide-builder/resources/style-guide-template.md",
          "type": "blob",
          "size": 2879
        },
        {
          "path": "plugins/majestic-marketing/skills/thread-builder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/thread-builder/SKILL.md",
          "type": "blob",
          "size": 7253
        },
        {
          "path": "plugins/majestic-marketing/skills/traffic-magnet",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/traffic-magnet/SKILL.md",
          "type": "blob",
          "size": 8599
        },
        {
          "path": "plugins/majestic-marketing/skills/value-prop-sharpener",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/value-prop-sharpener/SKILL.md",
          "type": "blob",
          "size": 3817
        },
        {
          "path": "plugins/majestic-marketing/skills/viral-content",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-marketing/skills/viral-content/SKILL.md",
          "type": "blob",
          "size": 10480
        },
        {
          "path": "plugins/majestic-python",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-python/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-python/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 418
        },
        {
          "path": "plugins/majestic-python/.claude-plugin/toolbox.yml",
          "type": "blob",
          "size": 1179
        },
        {
          "path": "plugins/majestic-python/CHANGELOG.md",
          "type": "blob",
          "size": 2544
        },
        {
          "path": "plugins/majestic-python/README.md",
          "type": "blob",
          "size": 2785
        },
        {
          "path": "plugins/majestic-python/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-python/agents/python-db.md",
          "type": "blob",
          "size": 10175
        },
        {
          "path": "plugins/majestic-python/agents/python-reviewer.md",
          "type": "blob",
          "size": 4072
        },
        {
          "path": "plugins/majestic-python/agents/review",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-python/agents/review/code-review-orchestrator.md",
          "type": "blob",
          "size": 7122
        },
        {
          "path": "plugins/majestic-python/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-python/skills/django-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-python/skills/django-coder/SKILL.md",
          "type": "blob",
          "size": 7124
        },
        {
          "path": "plugins/majestic-python/skills/fastapi-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-python/skills/fastapi-coder/SKILL.md",
          "type": "blob",
          "size": 7039
        },
        {
          "path": "plugins/majestic-python/skills/pytest-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-python/skills/pytest-coder/SKILL.md",
          "type": "blob",
          "size": 7627
        },
        {
          "path": "plugins/majestic-python/skills/python-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-python/skills/python-coder/SKILL.md",
          "type": "blob",
          "size": 5422
        },
        {
          "path": "plugins/majestic-python/skills/python-debugger",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-python/skills/python-debugger/SKILL.md",
          "type": "blob",
          "size": 7812
        },
        {
          "path": "plugins/majestic-rails",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 1787
        },
        {
          "path": "plugins/majestic-rails/.claude-plugin/toolbox.yml",
          "type": "blob",
          "size": 3547
        },
        {
          "path": "plugins/majestic-rails/CHANGELOG.md",
          "type": "blob",
          "size": 16252
        },
        {
          "path": "plugins/majestic-rails/README.md",
          "type": "blob",
          "size": 8469
        },
        {
          "path": "plugins/majestic-rails/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/agents/database-admin.md",
          "type": "blob",
          "size": 4267
        },
        {
          "path": "plugins/majestic-rails/agents/database-optimizer.md",
          "type": "blob",
          "size": 3449
        },
        {
          "path": "plugins/majestic-rails/agents/graphql-architect.md",
          "type": "blob",
          "size": 3756
        },
        {
          "path": "plugins/majestic-rails/agents/lint.md",
          "type": "blob",
          "size": 1542
        },
        {
          "path": "plugins/majestic-rails/agents/research",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/agents/research/gem-research.md",
          "type": "blob",
          "size": 4719
        },
        {
          "path": "plugins/majestic-rails/agents/review",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/agents/review/code-review-orchestrator.md",
          "type": "blob",
          "size": 7612
        },
        {
          "path": "plugins/majestic-rails/agents/review/data-integrity-reviewer.md",
          "type": "blob",
          "size": 7204
        },
        {
          "path": "plugins/majestic-rails/agents/review/dhh-code-reviewer.md",
          "type": "blob",
          "size": 7072
        },
        {
          "path": "plugins/majestic-rails/agents/review/performance-reviewer.md",
          "type": "blob",
          "size": 3081
        },
        {
          "path": "plugins/majestic-rails/agents/review/pragmatic-rails-reviewer.md",
          "type": "blob",
          "size": 5685
        },
        {
          "path": "plugins/majestic-rails/agents/review/simplicity-reviewer.md",
          "type": "blob",
          "size": 3390
        },
        {
          "path": "plugins/majestic-rails/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/commands/gemfile",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/commands/gemfile/organize.md",
          "type": "blob",
          "size": 4958
        },
        {
          "path": "plugins/majestic-rails/commands/gemfile/upgrade.md",
          "type": "blob",
          "size": 4784
        },
        {
          "path": "plugins/majestic-rails/commands/workflows",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/commands/workflows/build.md",
          "type": "blob",
          "size": 7710
        },
        {
          "path": "plugins/majestic-rails/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/resources/action-policy",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/resources/action-policy/patterns.md",
          "type": "blob",
          "size": 6658
        },
        {
          "path": "plugins/majestic-rails/resources/active-job",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/resources/active-job/patterns.md",
          "type": "blob",
          "size": 6884
        },
        {
          "path": "plugins/majestic-rails/resources/database-admin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/resources/database-admin/postgresql.md",
          "type": "blob",
          "size": 6352
        },
        {
          "path": "plugins/majestic-rails/resources/database-admin/sqlite.md",
          "type": "blob",
          "size": 1873
        },
        {
          "path": "plugins/majestic-rails/resources/database-optimizer",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/resources/database-optimizer/patterns.md",
          "type": "blob",
          "size": 11172
        },
        {
          "path": "plugins/majestic-rails/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/action-mailer-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/action-mailer-coder/SKILL.md",
          "type": "blob",
          "size": 3800
        },
        {
          "path": "plugins/majestic-rails/skills/action-policy-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/action-policy-coder/SKILL.md",
          "type": "blob",
          "size": 3984
        },
        {
          "path": "plugins/majestic-rails/skills/active-job-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/active-job-coder/SKILL.md",
          "type": "blob",
          "size": 3718
        },
        {
          "path": "plugins/majestic-rails/skills/anycable-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/anycable-coder/SKILL.md",
          "type": "blob",
          "size": 7475
        },
        {
          "path": "plugins/majestic-rails/skills/anyway-config-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/anyway-config-coder/SKILL.md",
          "type": "blob",
          "size": 7848
        },
        {
          "path": "plugins/majestic-rails/skills/anyway-config-coder/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/anyway-config-coder/references/advanced-patterns.md",
          "type": "blob",
          "size": 5271
        },
        {
          "path": "plugins/majestic-rails/skills/avo-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/avo-coder/SKILL.md",
          "type": "blob",
          "size": 5274
        },
        {
          "path": "plugins/majestic-rails/skills/business-logic-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/business-logic-coder/SKILL.md",
          "type": "blob",
          "size": 6714
        },
        {
          "path": "plugins/majestic-rails/skills/business-logic-coder/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/business-logic-coder/references/aasm-patterns.md",
          "type": "blob",
          "size": 11442
        },
        {
          "path": "plugins/majestic-rails/skills/business-logic-coder/references/active-interaction.md",
          "type": "blob",
          "size": 10390
        },
        {
          "path": "plugins/majestic-rails/skills/dhh-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/dhh-coder/SKILL.md",
          "type": "blob",
          "size": 11699
        },
        {
          "path": "plugins/majestic-rails/skills/dhh-coder/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/dhh-coder/references/activerecord-tips.md",
          "type": "blob",
          "size": 7731
        },
        {
          "path": "plugins/majestic-rails/skills/dhh-coder/references/activestorage-tips.md",
          "type": "blob",
          "size": 3435
        },
        {
          "path": "plugins/majestic-rails/skills/dhh-coder/references/caching-strategies.md",
          "type": "blob",
          "size": 5192
        },
        {
          "path": "plugins/majestic-rails/skills/dhh-coder/references/concerns-organization.md",
          "type": "blob",
          "size": 5309
        },
        {
          "path": "plugins/majestic-rails/skills/dhh-coder/references/config-tips.md",
          "type": "blob",
          "size": 9072
        },
        {
          "path": "plugins/majestic-rails/skills/dhh-coder/references/controllers-tips.md",
          "type": "blob",
          "size": 11976
        },
        {
          "path": "plugins/majestic-rails/skills/dhh-coder/references/css-architecture.md",
          "type": "blob",
          "size": 9334
        },
        {
          "path": "plugins/majestic-rails/skills/dhh-coder/references/database-patterns.md",
          "type": "blob",
          "size": 7907
        },
        {
          "path": "plugins/majestic-rails/skills/dhh-coder/references/delegated-types.md",
          "type": "blob",
          "size": 5906
        },
        {
          "path": "plugins/majestic-rails/skills/dhh-coder/references/filter-objects.md",
          "type": "blob",
          "size": 4977
        },
        {
          "path": "plugins/majestic-rails/skills/dhh-coder/references/hotwire-tips.md",
          "type": "blob",
          "size": 6702
        },
        {
          "path": "plugins/majestic-rails/skills/dhh-coder/references/multi-tenancy.md",
          "type": "blob",
          "size": 2665
        },
        {
          "path": "plugins/majestic-rails/skills/dhh-coder/references/palkan-patterns.md",
          "type": "blob",
          "size": 8922
        },
        {
          "path": "plugins/majestic-rails/skills/dhh-coder/references/passwordless-auth.md",
          "type": "blob",
          "size": 5415
        },
        {
          "path": "plugins/majestic-rails/skills/dhh-coder/references/patterns.md",
          "type": "blob",
          "size": 17521
        },
        {
          "path": "plugins/majestic-rails/skills/dhh-coder/references/recording-pattern.md",
          "type": "blob",
          "size": 14920
        },
        {
          "path": "plugins/majestic-rails/skills/dhh-coder/references/resources.md",
          "type": "blob",
          "size": 5517
        },
        {
          "path": "plugins/majestic-rails/skills/dhh-coder/references/stimulus-catalog.md",
          "type": "blob",
          "size": 14260
        },
        {
          "path": "plugins/majestic-rails/skills/dhh-coder/references/structured-events.md",
          "type": "blob",
          "size": 4540
        },
        {
          "path": "plugins/majestic-rails/skills/dhh-coder/references/turbo-morphing.md",
          "type": "blob",
          "size": 6356
        },
        {
          "path": "plugins/majestic-rails/skills/dhh-coder/references/webhooks.md",
          "type": "blob",
          "size": 4162
        },
        {
          "path": "plugins/majestic-rails/skills/dialog-patterns",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/dialog-patterns/SKILL.md",
          "type": "blob",
          "size": 12193
        },
        {
          "path": "plugins/majestic-rails/skills/dialog-patterns/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/dialog-patterns/resources/toast-slideover-patterns.md",
          "type": "blob",
          "size": 2874
        },
        {
          "path": "plugins/majestic-rails/skills/dialog-patterns/resources/zero-js-patterns.md",
          "type": "blob",
          "size": 3983
        },
        {
          "path": "plugins/majestic-rails/skills/event-sourcing-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/event-sourcing-coder/SKILL.md",
          "type": "blob",
          "size": 10011
        },
        {
          "path": "plugins/majestic-rails/skills/event-sourcing-coder/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/event-sourcing-coder/references/event-model.md",
          "type": "blob",
          "size": 7479
        },
        {
          "path": "plugins/majestic-rails/skills/event-sourcing-coder/references/inbox-pattern.md",
          "type": "blob",
          "size": 10663
        },
        {
          "path": "plugins/majestic-rails/skills/event-sourcing-coder/references/use-cases.md",
          "type": "blob",
          "size": 14165
        },
        {
          "path": "plugins/majestic-rails/skills/gem-builder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/gem-builder/SKILL.md",
          "type": "blob",
          "size": 7880
        },
        {
          "path": "plugins/majestic-rails/skills/gem-builder/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/gem-builder/references/advanced-patterns.md",
          "type": "blob",
          "size": 6213
        },
        {
          "path": "plugins/majestic-rails/skills/gem-builder/references/engine-migrations.md",
          "type": "blob",
          "size": 1417
        },
        {
          "path": "plugins/majestic-rails/skills/gem-builder/references/templates.md",
          "type": "blob",
          "size": 10691
        },
        {
          "path": "plugins/majestic-rails/skills/hotwire-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/hotwire-coder/SKILL.md",
          "type": "blob",
          "size": 4488
        },
        {
          "path": "plugins/majestic-rails/skills/hotwire-coder/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/hotwire-coder/references/lazy-loading.md",
          "type": "blob",
          "size": 4663
        },
        {
          "path": "plugins/majestic-rails/skills/inertia-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/inertia-coder/SKILL.md",
          "type": "blob",
          "size": 5021
        },
        {
          "path": "plugins/majestic-rails/skills/inertia-coder/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/inertia-coder/references/react-patterns.md",
          "type": "blob",
          "size": 11159
        },
        {
          "path": "plugins/majestic-rails/skills/inertia-coder/references/svelte-patterns.md",
          "type": "blob",
          "size": 9605
        },
        {
          "path": "plugins/majestic-rails/skills/inertia-coder/references/vue-patterns.md",
          "type": "blob",
          "size": 7880
        },
        {
          "path": "plugins/majestic-rails/skills/kamal-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/kamal-coder/SKILL.md",
          "type": "blob",
          "size": 7212
        },
        {
          "path": "plugins/majestic-rails/skills/litestream-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/litestream-coder/SKILL.md",
          "type": "blob",
          "size": 6628
        },
        {
          "path": "plugins/majestic-rails/skills/minitest-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/minitest-coder/SKILL.md",
          "type": "blob",
          "size": 7683
        },
        {
          "path": "plugins/majestic-rails/skills/minitest-coder/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/minitest-coder/references/testing-tips.md",
          "type": "blob",
          "size": 3008
        },
        {
          "path": "plugins/majestic-rails/skills/minitest-coder/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/minitest-coder/resources/advanced-patterns.md",
          "type": "blob",
          "size": 6295
        },
        {
          "path": "plugins/majestic-rails/skills/minitest-coder/resources/anti-patterns.md",
          "type": "blob",
          "size": 4409
        },
        {
          "path": "plugins/majestic-rails/skills/minitest-coder/resources/spec-patterns.md",
          "type": "blob",
          "size": 4900
        },
        {
          "path": "plugins/majestic-rails/skills/rails-debugger",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/rails-debugger/SKILL.md",
          "type": "blob",
          "size": 2909
        },
        {
          "path": "plugins/majestic-rails/skills/rails-refactorer",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/rails-refactorer/SKILL.md",
          "type": "blob",
          "size": 2771
        },
        {
          "path": "plugins/majestic-rails/skills/rspec-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/rspec-coder/SKILL.md",
          "type": "blob",
          "size": 7692
        },
        {
          "path": "plugins/majestic-rails/skills/rspec-coder/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/rspec-coder/resources/anti-patterns.md",
          "type": "blob",
          "size": 3553
        },
        {
          "path": "plugins/majestic-rails/skills/rspec-coder/resources/matchers.md",
          "type": "blob",
          "size": 3395
        },
        {
          "path": "plugins/majestic-rails/skills/rspec-coder/resources/patterns.md",
          "type": "blob",
          "size": 4686
        },
        {
          "path": "plugins/majestic-rails/skills/rubocop-fixer",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/rubocop-fixer/SKILL.md",
          "type": "blob",
          "size": 4314
        },
        {
          "path": "plugins/majestic-rails/skills/ruby-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/ruby-coder/SKILL.md",
          "type": "blob",
          "size": 11906
        },
        {
          "path": "plugins/majestic-rails/skills/ruby-coder/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/ruby-coder/references/ruby-tips.md",
          "type": "blob",
          "size": 5693
        },
        {
          "path": "plugins/majestic-rails/skills/ruby-coder/references/sandi-metz.md",
          "type": "blob",
          "size": 2204
        },
        {
          "path": "plugins/majestic-rails/skills/solid-cache-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/solid-cache-coder/SKILL.md",
          "type": "blob",
          "size": 3586
        },
        {
          "path": "plugins/majestic-rails/skills/solid-queue-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/solid-queue-coder/SKILL.md",
          "type": "blob",
          "size": 4140
        },
        {
          "path": "plugins/majestic-rails/skills/stimulus-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/stimulus-coder/SKILL.md",
          "type": "blob",
          "size": 5063
        },
        {
          "path": "plugins/majestic-rails/skills/store-model-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/store-model-coder/SKILL.md",
          "type": "blob",
          "size": 6220
        },
        {
          "path": "plugins/majestic-rails/skills/store-model-coder/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/store-model-coder/references/advanced-patterns.md",
          "type": "blob",
          "size": 6916
        },
        {
          "path": "plugins/majestic-rails/skills/tailwind-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/tailwind-coder/SKILL.md",
          "type": "blob",
          "size": 6690
        },
        {
          "path": "plugins/majestic-rails/skills/viewcomponent-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/viewcomponent-coder/SKILL.md",
          "type": "blob",
          "size": 5628
        },
        {
          "path": "plugins/majestic-rails/skills/viewcomponent-coder/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-rails/skills/viewcomponent-coder/references/patterns.md",
          "type": "blob",
          "size": 10988
        },
        {
          "path": "plugins/majestic-rails/skills/viewcomponent-coder/references/style-variants.md",
          "type": "blob",
          "size": 8830
        },
        {
          "path": "plugins/majestic-ralph",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-ralph/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-ralph/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 420
        },
        {
          "path": "plugins/majestic-ralph/README.md",
          "type": "blob",
          "size": 5853
        },
        {
          "path": "plugins/majestic-ralph/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-ralph/commands/cancel-ralph.md",
          "type": "blob",
          "size": 606
        },
        {
          "path": "plugins/majestic-ralph/commands/help.md",
          "type": "blob",
          "size": 2403
        },
        {
          "path": "plugins/majestic-ralph/commands/ralph-loop.md",
          "type": "blob",
          "size": 687
        },
        {
          "path": "plugins/majestic-ralph/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-ralph/hooks/hooks.json",
          "type": "blob",
          "size": 282
        },
        {
          "path": "plugins/majestic-ralph/hooks/stop-hook.sh",
          "type": "blob",
          "size": 3591
        },
        {
          "path": "plugins/majestic-ralph/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-ralph/scripts/setup-ralph-loop.sh",
          "type": "blob",
          "size": 3736
        },
        {
          "path": "plugins/majestic-ralph/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-ralph/skills/ralph-methodology",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-ralph/skills/ralph-methodology/SKILL.md",
          "type": "blob",
          "size": 1186
        },
        {
          "path": "plugins/majestic-react",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-react/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-react/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 688
        },
        {
          "path": "plugins/majestic-react/CHANGELOG.md",
          "type": "blob",
          "size": 1757
        },
        {
          "path": "plugins/majestic-react/README.md",
          "type": "blob",
          "size": 4870
        },
        {
          "path": "plugins/majestic-react/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-react/agents/code",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-react/agents/code/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-react/agents/code/resources/patterns.md",
          "type": "blob",
          "size": 9904
        },
        {
          "path": "plugins/majestic-react/agents/plan",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-react/agents/plan/react-architect.md",
          "type": "blob",
          "size": 5001
        },
        {
          "path": "plugins/majestic-react/agents/plan/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-react/agents/plan/resources/examples.md",
          "type": "blob",
          "size": 6507
        },
        {
          "path": "plugins/majestic-react/agents/review",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-react/agents/review/react-reviewer.md",
          "type": "blob",
          "size": 3950
        },
        {
          "path": "plugins/majestic-react/agents/review/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-react/agents/review/resources/review-examples.md",
          "type": "blob",
          "size": 8477
        },
        {
          "path": "plugins/majestic-react/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-react/skills/react-coder",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-react/skills/react-coder/SKILL.md",
          "type": "blob",
          "size": 4591
        },
        {
          "path": "plugins/majestic-react/skills/react-patterns",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-react/skills/react-patterns/SKILL.md",
          "type": "blob",
          "size": 4532
        },
        {
          "path": "plugins/majestic-react/skills/react-patterns/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-react/skills/react-patterns/resources/examples.md",
          "type": "blob",
          "size": 11453
        },
        {
          "path": "plugins/majestic-react/skills/react-testing",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-react/skills/react-testing/SKILL.md",
          "type": "blob",
          "size": 7879
        },
        {
          "path": "plugins/majestic-react/skills/tailwind-styling",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-react/skills/tailwind-styling/SKILL.md",
          "type": "blob",
          "size": 7062
        },
        {
          "path": "plugins/majestic-relay",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-relay/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-relay/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 493
        },
        {
          "path": "plugins/majestic-relay/README.md",
          "type": "blob",
          "size": 1592
        },
        {
          "path": "plugins/majestic-relay/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-relay/commands/init.md",
          "type": "blob",
          "size": 4767
        },
        {
          "path": "plugins/majestic-relay/commands/status.md",
          "type": "blob",
          "size": 4168
        },
        {
          "path": "plugins/majestic-relay/commands/work.md",
          "type": "blob",
          "size": 4070
        },
        {
          "path": "plugins/majestic-relay/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-relay/scripts/lib",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-relay/scripts/lib/ledger.sh",
          "type": "blob",
          "size": 10319
        },
        {
          "path": "plugins/majestic-relay/scripts/lib/prompt.sh",
          "type": "blob",
          "size": 3836
        },
        {
          "path": "plugins/majestic-relay/scripts/lib/review.sh",
          "type": "blob",
          "size": 3001
        },
        {
          "path": "plugins/majestic-relay/scripts/relay-work.sh",
          "type": "blob",
          "size": 6366
        },
        {
          "path": "plugins/majestic-relay/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-relay/skills/attempt-ledger",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-relay/skills/attempt-ledger/SKILL.md",
          "type": "blob",
          "size": 3160
        },
        {
          "path": "plugins/majestic-sales",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-sales/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-sales/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 497
        },
        {
          "path": "plugins/majestic-sales/CHANGELOG.md",
          "type": "blob",
          "size": 3121
        },
        {
          "path": "plugins/majestic-sales/README.md",
          "type": "blob",
          "size": 2579
        },
        {
          "path": "plugins/majestic-sales/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-sales/agents/outbound-optimizer.md",
          "type": "blob",
          "size": 5054
        },
        {
          "path": "plugins/majestic-sales/agents/pipeline-analyzer.md",
          "type": "blob",
          "size": 8736
        },
        {
          "path": "plugins/majestic-sales/agents/proposal-generator.md",
          "type": "blob",
          "size": 4778
        },
        {
          "path": "plugins/majestic-sales/agents/sales-strategist.md",
          "type": "blob",
          "size": 7153
        },
        {
          "path": "plugins/majestic-sales/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-sales/commands/workflows",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-sales/commands/workflows/funnel-builder.md",
          "type": "blob",
          "size": 7030
        },
        {
          "path": "plugins/majestic-sales/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-sales/skills/customer-expansion",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-sales/skills/customer-expansion/SKILL.md",
          "type": "blob",
          "size": 5344
        },
        {
          "path": "plugins/majestic-sales/skills/customer-expansion/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-sales/skills/customer-expansion/resources/qbr-conversations.yaml",
          "type": "blob",
          "size": 4744
        },
        {
          "path": "plugins/majestic-sales/skills/icp-discovery",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-sales/skills/icp-discovery/SKILL.md",
          "type": "blob",
          "size": 6312
        },
        {
          "path": "plugins/majestic-sales/skills/icp-discovery/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-sales/skills/icp-discovery/resources/icp-templates.yaml",
          "type": "blob",
          "size": 10299
        },
        {
          "path": "plugins/majestic-sales/skills/icp-discovery/resources/validation-activation.yaml",
          "type": "blob",
          "size": 3183
        },
        {
          "path": "plugins/majestic-sales/skills/outbound-sequences",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-sales/skills/outbound-sequences/SKILL.md",
          "type": "blob",
          "size": 9516
        },
        {
          "path": "plugins/majestic-sales/skills/outbound-sequences/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-sales/skills/outbound-sequences/resources/response-playbook.yaml",
          "type": "blob",
          "size": 7100
        },
        {
          "path": "plugins/majestic-sales/skills/outbound-sequences/resources/sequence-templates.yaml",
          "type": "blob",
          "size": 5368
        },
        {
          "path": "plugins/majestic-sales/skills/proposal-writer",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-sales/skills/proposal-writer/SKILL.md",
          "type": "blob",
          "size": 7989
        },
        {
          "path": "plugins/majestic-sales/skills/proposal-writer/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-sales/skills/proposal-writer/resources/delivery-models.yaml",
          "type": "blob",
          "size": 3114
        },
        {
          "path": "plugins/majestic-sales/skills/proposal-writer/resources/pricing-psychology.yaml",
          "type": "blob",
          "size": 3700
        },
        {
          "path": "plugins/majestic-sales/skills/proposal-writer/resources/proposal-templates.yaml",
          "type": "blob",
          "size": 7188
        },
        {
          "path": "plugins/majestic-sales/skills/referral-program",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-sales/skills/referral-program/SKILL.md",
          "type": "blob",
          "size": 6135
        },
        {
          "path": "plugins/majestic-sales/skills/referral-program/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-sales/skills/referral-program/resources/messaging-templates.yaml",
          "type": "blob",
          "size": 2029
        },
        {
          "path": "plugins/majestic-sales/skills/referral-program/resources/tracking-launch.yaml",
          "type": "blob",
          "size": 3508
        },
        {
          "path": "plugins/majestic-sales/skills/sales-playbook",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-sales/skills/sales-playbook/SKILL.md",
          "type": "blob",
          "size": 7116
        },
        {
          "path": "plugins/majestic-sales/skills/sales-playbook/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-sales/skills/sales-playbook/resources/battle-cards.yaml",
          "type": "blob",
          "size": 3514
        },
        {
          "path": "plugins/majestic-sales/skills/sales-playbook/resources/closing-techniques.yaml",
          "type": "blob",
          "size": 2352
        },
        {
          "path": "plugins/majestic-sales/skills/sales-playbook/resources/demo-framework.yaml",
          "type": "blob",
          "size": 3230
        },
        {
          "path": "plugins/majestic-sales/skills/sales-playbook/resources/discovery-framework.yaml",
          "type": "blob",
          "size": 4548
        },
        {
          "path": "plugins/majestic-sales/skills/sales-playbook/resources/follow-up-templates.yaml",
          "type": "blob",
          "size": 2204
        },
        {
          "path": "plugins/majestic-sales/skills/sales-playbook/resources/objection-handling.yaml",
          "type": "blob",
          "size": 4955
        },
        {
          "path": "plugins/majestic-sales/skills/win-back",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-sales/skills/win-back/SKILL.md",
          "type": "blob",
          "size": 5974
        },
        {
          "path": "plugins/majestic-sales/skills/win-back/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-sales/skills/win-back/resources/email-sequence.yaml",
          "type": "blob",
          "size": 3970
        },
        {
          "path": "plugins/majestic-sales/skills/win-back/resources/offers-feedback.yaml",
          "type": "blob",
          "size": 4714
        },
        {
          "path": "plugins/majestic-tools",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-tools/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-tools/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 385
        },
        {
          "path": "plugins/majestic-tools/CHANGELOG.md",
          "type": "blob",
          "size": 8840
        },
        {
          "path": "plugins/majestic-tools/README.md",
          "type": "blob",
          "size": 7903
        },
        {
          "path": "plugins/majestic-tools/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-tools/agents/reasoning-verifier.md",
          "type": "blob",
          "size": 5063
        },
        {
          "path": "plugins/majestic-tools/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-tools/commands/burst-generator.md",
          "type": "blob",
          "size": 2483
        },
        {
          "path": "plugins/majestic-tools/commands/learn.md",
          "type": "blob",
          "size": 4356
        },
        {
          "path": "plugins/majestic-tools/commands/meta",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-tools/commands/meta/commands-hud.md",
          "type": "blob",
          "size": 2753
        },
        {
          "path": "plugins/majestic-tools/commands/meta/list-tools.md",
          "type": "blob",
          "size": 613
        },
        {
          "path": "plugins/majestic-tools/commands/meta/new-agent.md",
          "type": "blob",
          "size": 5543
        },
        {
          "path": "plugins/majestic-tools/commands/meta/new-command.md",
          "type": "blob",
          "size": 2761
        },
        {
          "path": "plugins/majestic-tools/commands/meta/new-hook.md",
          "type": "blob",
          "size": 5287
        },
        {
          "path": "plugins/majestic-tools/commands/meta/new-prompt.md",
          "type": "blob",
          "size": 3524
        },
        {
          "path": "plugins/majestic-tools/commands/meta/new-skill.md",
          "type": "blob",
          "size": 8523
        },
        {
          "path": "plugins/majestic-tools/commands/reflect.md",
          "type": "blob",
          "size": 2866
        },
        {
          "path": "plugins/majestic-tools/commands/workflows",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-tools/commands/workflows/interview.md",
          "type": "blob",
          "size": 6079
        },
        {
          "path": "plugins/majestic-tools/commands/workflows/resources",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-tools/commands/workflows/resources/interview",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-tools/commands/workflows/resources/interview/domains",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-tools/commands/workflows/resources/interview/domains/brand.yaml",
          "type": "blob",
          "size": 4948
        },
        {
          "path": "plugins/majestic-tools/commands/workflows/resources/interview/domains/engineering.yaml",
          "type": "blob",
          "size": 3925
        },
        {
          "path": "plugins/majestic-tools/commands/workflows/resources/interview/domains/marketing.yaml",
          "type": "blob",
          "size": 5628
        },
        {
          "path": "plugins/majestic-tools/commands/workflows/resources/interview/domains/product.yaml",
          "type": "blob",
          "size": 5276
        },
        {
          "path": "plugins/majestic-tools/commands/workflows/resources/interview/domains/sales.yaml",
          "type": "blob",
          "size": 6152
        },
        {
          "path": "plugins/majestic-tools/examples",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-tools/examples/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-tools/examples/hooks/confetti.sh",
          "type": "blob",
          "size": 291
        },
        {
          "path": "plugins/majestic-tools/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-tools/hooks/check-file-size.sh",
          "type": "blob",
          "size": 1909
        },
        {
          "path": "plugins/majestic-tools/hooks/hooks.json",
          "type": "blob",
          "size": 292
        },
        {
          "path": "plugins/majestic-tools/hooks/today.sh",
          "type": "blob",
          "size": 281
        },
        {
          "path": "plugins/majestic-tools/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-tools/skills/brainstorming",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-tools/skills/brainstorming/SKILL.md",
          "type": "blob",
          "size": 2563
        },
        {
          "path": "plugins/majestic-tools/skills/command-patterns",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-tools/skills/command-patterns/SKILL.md",
          "type": "blob",
          "size": 2179
        },
        {
          "path": "plugins/majestic-tools/skills/compound-learnings",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-tools/skills/compound-learnings/SKILL.md",
          "type": "blob",
          "size": 4544
        },
        {
          "path": "plugins/majestic-tools/skills/devils-advocate",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-tools/skills/devils-advocate/SKILL.md",
          "type": "blob",
          "size": 3143
        },
        {
          "path": "plugins/majestic-tools/skills/skill-first",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/majestic-tools/skills/skill-first/SKILL.md",
          "type": "blob",
          "size": 1642
        },
        {
          "path": "scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "scripts/install-codex.sh",
          "type": "blob",
          "size": 8032
        }
      ],
      "marketplace": {
        "name": "majestic-marketplace",
        "version": null,
        "description": null,
        "owner_info": {
          "name": "Majestic Labs LLC",
          "url": "https://majesticlabs.dev"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "majestic-engineer",
            "description": "Language-agnostic engineering workflows. Includes 30 specialized agents, 25 commands, 18 skills, and 5 toolbox presets.",
            "source": "./plugins/majestic-engineer",
            "category": null,
            "version": "3.42.0",
            "author": {
              "name": "David Paluy",
              "url": "https://github.com/dpaluy",
              "email": "marketplace@it.majesticlabs.dev"
            },
            "install_commands": [
              "/plugin marketplace add majesticlabs-dev/majestic-marketplace",
              "/plugin install majestic-engineer@majestic-marketplace"
            ],
            "signals": {
              "stars": 16,
              "forks": 1,
              "pushed_at": "2026-01-12T22:29:39Z",
              "created_at": "2025-11-26T21:43:21Z",
              "license": "NOASSERTION"
            },
            "commands": [
              {
                "name": "/config-reader",
                "description": "Get a config value from .agents.yml (with local overrides)",
                "path": "plugins/majestic-engineer/commands/config-reader.md",
                "frontmatter": {
                  "name": "majestic:config",
                  "description": "Get a config value from .agents.yml (with local overrides)",
                  "argument-hint": "<field> [default]",
                  "allowed-tools": "Bash, Skill"
                },
                "content": "# Config Reader\n\nGet a config value from `.agents.yml` with `.agents.local.yml` overrides.\n\n## Arguments\n\n`$ARGUMENTS` = `<field> [default]`\n\nSupports dot notation for nested fields: `plan.auto_create_task`, `toolbox.build_task.design_system_path`\n\n## Execute\n\nInvoke the config-reader skill which provides the script and merge logic:\n\n```\nSkill(skill=\"config-reader\")\n```\n\nFollow the skill's instructions to run the config reader script with `$ARGUMENTS`.\n\nReport the value to the user."
              },
              {
                "name": "/explain",
                "description": "Explain a concept using real examples from YOUR project, not abstract theory",
                "path": "plugins/majestic-engineer/commands/explain.md",
                "frontmatter": {
                  "description": "Explain a concept using real examples from YOUR project, not abstract theory",
                  "allowed-tools": "Read, Grep, Glob, Bash"
                },
                "content": "# Contextual Concept Explainer\n\nExplain programming concepts using real examples from the user's current project, making abstract ideas concrete and immediately applicable.\n\n## Arguments\n\nThe user provides a concept to explain: `/explain <concept>`\n\nExamples:\n- `/explain dependency injection`\n- `/explain the repository pattern`\n- `/explain how caching works here`\n- `/explain polymorphism`\n\n## Process\n\n### 1. Identify the Concept\n\nParse what the user wants to understand:\n- Design patterns (factory, observer, strategy, etc.)\n- Language features (closures, generators, decorators)\n- Architecture concepts (DI, CQRS, event sourcing)\n- Project-specific patterns (\"how does auth work here\")\n\n### 2. Search for Examples\n\nFind relevant code in the current project:\n\n```bash\n# Search for pattern implementations\nrg -l \"pattern_keyword\" --type ruby --type js --type py\n\n# Find class/module definitions\nrg \"class.*Service|module.*Handler\"\n\n# Look for common naming conventions\nrg -l \"Factory|Repository|Observer|Strategy\"\n```\n\nPrioritize:\n- Clear, well-written examples over complex edge cases\n- Core business logic over test files (unless tests demonstrate usage well)\n- Multiple examples showing the pattern in different contexts\n\n### 3. Explain with Context\n\nStructure your explanation:\n\n**What it is** (1-2 sentences)\nBrief definition of the concept.\n\n**How this project uses it**\nWalk through 2-3 concrete examples from the codebase:\n- Show the actual code snippet\n- Explain what's happening and why\n- Connect it back to the abstract concept\n\n**Why it matters here**\n- What problem does this pattern solve in THIS codebase?\n- What would the code look like without it?\n- When would you use this pattern vs alternatives?\n\n**Where to find more**\n- List key files demonstrating the pattern\n- Note any variations or related patterns in the codebase\n\n## Output Format\n\n```markdown\n## [Concept Name]\n\n**In a nutshell:** [One sentence definition]\n\n### How {{project_name}} Uses This\n\n#### Example 1: [File/Class Name]\n\n[Code snippet with key parts highlighted]\n\nThis shows [explanation of what's happening]...\n\n#### Example 2: [File/Class Name]\n\n[Another code snippet]\n\nHere we see [explanation]...\n\n### Why This Pattern?\n\n[2-3 sentences on what problem it solves in this specific codebase]\n\n### Key Files\n\n- `path/to/example1.rb:42` - [brief description]\n- `path/to/example2.rb:15` - [brief description]\n```\n\n## Guidelines\n\n- **Concrete over abstract**: Always anchor to actual code, not hypotheticals\n- **Project-first**: If the pattern doesn't exist in this codebase, say so and explain how it COULD be applied here\n- **Appropriate depth**: Match explanation depth to the concept complexity\n- **No condescension**: Explain clearly without being patronizing\n- **Honest gaps**: If the codebase has poor examples or anti-patterns, note that constructively"
              },
              {
                "name": "/favicon",
                "description": "Generate complete favicon set from source image and update project HTML",
                "path": "plugins/majestic-engineer/commands/favicon.md",
                "frontmatter": {
                  "description": "Generate complete favicon set from source image and update project HTML",
                  "allowed-tools": "Bash, Read, Write, Edit, Glob, AskUserQuestion",
                  "argument-hint": "<source-image>"
                },
                "content": "# Favicon Generator\n\nGenerate a complete set of favicons from a source image and integrate them into your project.\n\n## Arguments\n\n<input_arguments> $ARGUMENTS </input_arguments>\n\n**Format:** `<source-image-path>`\n\n**Supported formats:** PNG, JPG, JPEG, SVG, WEBP, GIF\n\n**Examples:**\n```\n/majestic-engineer:favicon logo.png\n/majestic-engineer:favicon assets/icon.svg\n```\n\n## Prerequisites\n\nImageMagick v7+ required. Verify with:\n\n```bash\nwhich magick\n```\n\nIf missing:\n- **macOS:** `brew install imagemagick`\n- **Linux:** `sudo apt install imagemagick`\n\n## Workflow\n\n### Step 1: Validate Source Image\n\n1. Check source file exists\n2. Verify supported format (PNG, JPG, JPEG, SVG, WEBP, GIF)\n3. Note if SVG (gets special handling)\n\nIf invalid, report error and stop.\n\n### Step 2: Detect Framework\n\nCheck for marker files to identify framework and assets directory:\n\n| Framework | Marker File | Assets Directory |\n|-----------|-------------|------------------|\n| Rails | `config/routes.rb` | `public/` |\n| Next.js | `next.config.*` | `public/` |\n| Gatsby | `gatsby-config.*` | `static/` |\n| SvelteKit | `svelte.config.*` | `static/` |\n| Astro | `astro.config.*` | `public/` |\n| Hugo | `hugo.toml` or `hugo.yaml` | `static/` |\n| Jekyll | `_config.yml` | Root directory |\n| Vite | `vite.config.*` | `public/` |\n| Create React App | `package.json` with `react-scripts` | `public/` |\n| Vue CLI | `vue.config.*` | `public/` |\n| Angular | `angular.json` | `src/assets/` |\n| Eleventy | `.eleventy.js` or `eleventy.config.*` | Root or `_site/` |\n| Static HTML | `index.html` in root | Same directory as HTML |\n\n**Priority rule:** If existing favicon files found (`favicon.ico`, `apple-touch-icon.png`), use their location regardless of framework detection.\n\nIf uncertain about asset placement  use `AskUserQuestion` to confirm target directory.\n\n### Step 3: Resolve App Name\n\nCheck sources in order (use first found):\n1. Existing `site.webmanifest`  `name` field\n2. `package.json`  `name` field\n3. Rails `config/application.rb`  module name\n4. Current directory name\n\nConvert to title case for display.\n\n### Step 4: Generate Favicon Assets\n\nRun ImageMagick commands (preserve alpha with `-alpha on -background none`):\n\n```bash\n# Multi-resolution ICO (16x16, 32x32, 48x48)\nmagick \"<source>\" -alpha on -background none \\\n  \\( -clone 0 -resize 16x16 \\) \\\n  \\( -clone 0 -resize 32x32 \\) \\\n  \\( -clone 0 -resize 48x48 \\) \\\n  -delete 0 \"<target>/favicon.ico\"\n\n# PNG variants\nmagick \"<source>\" -alpha on -background none -resize 96x96 \"<target>/favicon-96x96.png\"\nmagick \"<source>\" -alpha on -background none -resize 180x180 \"<target>/apple-touch-icon.png\"\nmagick \"<source>\" -alpha on -background none -resize 192x192 \"<target>/web-app-manifest-192x192.png\"\nmagick \"<source>\" -alpha on -background none -resize 512x512 \"<target>/web-app-manifest-512x512.png\"\n```\n\nIf source is SVG, also copy directly:\n```bash\ncp \"<source>\" \"<target>/favicon.svg\"\n```\n\n### Step 5: Generate/Update Web Manifest\n\nCreate or update `site.webmanifest` in target directory.\n\nIf exists: preserve `theme_color`, `background_color`, `display` values.\n\n```json\n{\n  \"name\": \"<app-name>\",\n  \"short_name\": \"<app-name>\",\n  \"icons\": [\n    { \"src\": \"/web-app-manifest-192x192.png\", \"sizes\": \"192x192\", \"type\": \"image/png\", \"purpose\": \"maskable\" },\n    { \"src\": \"/web-app-manifest-512x512.png\", \"sizes\": \"512x512\", \"type\": \"image/png\", \"purpose\": \"maskable\" }\n  ],\n  \"theme_color\": \"#ffffff\",\n  \"background_color\": \"#ffffff\",\n  \"display\": \"standalone\"\n}\n```\n\n### Step 6: Update HTML Layout\n\n**Rails**  Edit `app/views/layouts/application.html.erb`:\n\n```erb\n<link rel=\"icon\" type=\"image/png\" href=\"/favicon-96x96.png\" sizes=\"96x96\" />\n<link rel=\"icon\" type=\"image/svg+xml\" href=\"/favicon.svg\" />\n<link rel=\"shortcut icon\" href=\"/favicon.ico\" />\n<link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"/apple-touch-icon.png\" />\n<meta name=\"apple-mobile-web-app-title\" content=\"<app-name>\" />\n<link rel=\"manifest\" href=\"/site.webmanifest\" />\n```\n\n**Next.js**  Edit `app/layout.tsx` or `app/layout.js` metadata export:\n\n```typescript\nexport const metadata = {\n  // ... existing metadata\n  icons: {\n    icon: [\n      { url: '/favicon.ico', sizes: '48x48' },\n      { url: '/favicon-96x96.png', sizes: '96x96', type: 'image/png' },\n      { url: '/favicon.svg', type: 'image/svg+xml' },\n    ],\n    apple: [\n      { url: '/apple-touch-icon.png', sizes: '180x180' },\n    ],\n  },\n  manifest: '/site.webmanifest',\n  appleWebApp: {\n    title: '<app-name>',\n  },\n}\n```\n\n**Static HTML**  Edit `index.html` `<head>`:\n\n```html\n<link rel=\"icon\" type=\"image/png\" href=\"/favicon-96x96.png\" sizes=\"96x96\" />\n<link rel=\"icon\" type=\"image/svg+xml\" href=\"/favicon.svg\" />\n<link rel=\"shortcut icon\" href=\"/favicon.ico\" />\n<link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"/apple-touch-icon.png\" />\n<meta name=\"apple-mobile-web-app-title\" content=\"<app-name>\" />\n<link rel=\"manifest\" href=\"/site.webmanifest\" />\n```\n\n**Other/Unknown**  Output HTML snippet for user to add manually.\n\n**Note:** Omit SVG-related tags if source was not SVG format.\n\n### Step 7: Report Summary\n\n```markdown\n## Favicon Generation Complete\n\n- **Framework:** <detected-framework>\n- **Assets directory:** <target-path>\n- **App name:** <resolved-name>\n\n### Generated Files\n- favicon.ico (16x16, 32x32, 48x48)\n- favicon-96x96.png\n- apple-touch-icon.png (180x180)\n- web-app-manifest-192x192.png\n- web-app-manifest-512x512.png\n- site.webmanifest\n[- favicon.svg (if source was SVG)]\n\n### Updated Files\n- <layout-file-path>\n\n### Overwrites\n[List any existing files that were replaced]\n```"
              }
            ],
            "skills": [
              {
                "name": "backlog-manager",
                "description": "Manage backlog items across multiple backends (files, GitHub Issues, Linear, Beads). Configure task_management in .agents.yml.",
                "path": "plugins/majestic-engineer/skills/backlog-manager/SKILL.md",
                "frontmatter": {
                  "name": "backlog-manager",
                  "description": "Manage backlog items across multiple backends (files, GitHub Issues, Linear, Beads). Configure task_management in .agents.yml."
                },
                "content": "# Backlog Manager Skill\n\n## Overview\n\nThe backlog manager provides a unified interface for tracking work items across different task management systems. Choose your backend based on team preferences and existing tooling.\n\n**Supported Backends:**\n\n| Backend | Integration | Best For |\n|---------|-------------|----------|\n| **Files** | Local markdown in `docs/todos/` | Solo developers, simple projects |\n| **GitHub** | `gh` CLI | Teams using GitHub Issues |\n| **Linear** | MCP server | Teams using Linear |\n| **Beads** | `bd` CLI | Dependency-aware workflows, AI agents |\n\n## Configuration\n\nConfigure your preferred backend in your project's `.agents.yml`:\n\n```yaml\ntask_management: github  # Options: file, github, linear, beads\n\n# Workflow labels (for github/linear backends)\nworkflow_labels:\n  - backlog\n  - in-progress\n  - ready-for-review\n  - done\n\n# Beads configuration (when task_management: beads)\n# beads_prefix: myapp               # Optional: custom issue prefix\n```\n\n**Default:** If no configuration is found, uses file-based backend.\n\n## When to Use This Skill\n\n**Create a backlog item when:**\n- Work requires more than 15-20 minutes\n- Needs research, planning, or multiple approaches considered\n- Has dependencies on other work\n- Requires approval or prioritization\n- Part of larger feature or refactor\n- Technical debt needing documentation\n\n**Act immediately instead when:**\n- Issue is trivial (< 15 minutes)\n- Complete context available now\n- No planning needed\n- User explicitly requests immediate action\n- Simple bug fix with obvious solution\n\n## Core Concepts\n\n### Status Lifecycle\n\nAll backends follow this status workflow:\n\n```\npending  ready  complete\n```\n\n| Status | Meaning |\n|--------|---------|\n| **pending** | Needs triage/approval before work begins |\n| **ready** | Approved and ready for implementation |\n| **complete** | Work finished, acceptance criteria met |\n\n### Priority Levels\n\n| Priority | Meaning |\n|----------|---------|\n| **p1** | Critical - blocks other work or users |\n| **p2** | Important - should be done soon |\n| **p3** | Nice-to-have - can wait |\n\n### Core Operations\n\nEach backend implements these operations:\n\n| Operation | Purpose |\n|-----------|---------|\n| **CREATE** | Add new backlog item |\n| **LIST** | Query existing items |\n| **UPDATE** | Modify item (status, priority, details) |\n| **COMPLETE** | Mark item as done |\n\n## Backend Selection\n\nWhen this skill is invoked:\n\n1. **Read configuration** from project CLAUDE.md\n2. **Load appropriate reference** based on `backend` setting:\n   - `files`  `references/file-backend.md`\n   - `github`  `references/github-backend.md`\n   - `linear`  `references/linear-backend.md`\n   - `beads`  `references/beads-backend.md`\n3. **Follow backend-specific instructions** for operations\n\n### Fallback Behavior\n\nIf the configured backend is unavailable:\n- **GitHub unavailable** (gh not authenticated): Fall back to files\n- **Linear unavailable** (MCP not configured): Fall back to files\n- **Beads unavailable** (bd not installed or not initialized): Fall back to files\n- **Warn user** about the fallback\n\n## Integration with Development Workflows\n\n| Trigger | Flow |\n|---------|------|\n| Code review findings | Review  Create items  Triage  Work |\n| PR comments | Resolve PR  Create items for complex fixes |\n| Planning sessions | Brainstorm  Create items  Prioritize  Work |\n| Technical debt | Document  Create item  Schedule |\n| Feature requests | Analyze  Create item  Prioritize |\n\n## Key Distinctions\n\n**Backlog manager (this skill):**\n- Persisted tracking across sessions\n- Multiple backend options\n- Team collaboration\n- Project/sprint planning\n\n**TodoWrite tool:**\n- In-memory task tracking during single session\n- Temporary progress tracking\n- Not persisted to disk\n- Different purpose from backlog management"
              },
              {
                "name": "check-ci",
                "description": "This skill monitors PR CI checks by polling GitHub status until completion or timeout. Use when the user requests to check CI status, wait for CI to pass, monitor PR checks, or verify build status. Applicable for queries like \"check my CI\", \"wait for CI to pass\", \"is my PR green\", or \"monitor CI checks\".",
                "path": "plugins/majestic-engineer/skills/check-ci/SKILL.md",
                "frontmatter": {
                  "name": "check-ci",
                  "description": "This skill monitors PR CI checks by polling GitHub status until completion or timeout. Use when the user requests to check CI status, wait for CI to pass, monitor PR checks, or verify build status. Applicable for queries like \"check my CI\", \"wait for CI to pass\", \"is my PR green\", or \"monitor CI checks\"."
                },
                "content": "# Check CI\n\n## Overview\n\nThis skill provides automated monitoring of GitHub Pull Request CI checks. It polls PR check status at regular intervals and reports when checks pass, fail, or timeout, enabling continuous integration workflow automation.\n\n## When to Use This Skill\n\nTrigger this skill when the user requests:\n- Checking CI status for a PR\n- Monitoring CI checks until completion\n- Waiting for CI to pass before proceeding\n- Verifying build status\n- Polling GitHub PR checks with custom intervals or timeouts\n\n## Core Workflow\n\n### 1. Execute CI Polling\n\nRun the `check_ci.sh` script to monitor PR checks:\n\n```bash\nbash scripts/check_ci.sh [PR_NUMBER] [INTERVAL] [TIMEOUT]\n```\n\n**Parameters:**\n- `PR_NUMBER` (optional): PR number to monitor. Auto-detects from current branch if not provided\n- `INTERVAL` (optional, default: 15): Seconds between polling attempts\n- `TIMEOUT` (optional, default: 600): Maximum wait time in seconds\n\n**Examples:**\n```bash\n# Auto-detect PR from current branch\nbash scripts/check_ci.sh\n\n# Monitor specific PR #123\nbash scripts/check_ci.sh 123\n\n# Custom interval (30s) and timeout (15 min)\nbash scripts/check_ci.sh 123 30 900\n```\n\n### 2. Interpret Results\n\nThe script returns three possible outcomes:\n\n** Success (exit code 0):** All CI checks passed\n- Indicate that the PR is green and ready for next steps\n- Suggest proceeding with merge, review, or deployment\n\n** Failure (exit code 1):** One or more CI checks failed\n- Parse the output to identify specific failing checks\n- Analyze failure patterns (test failures, lint errors, build issues)\n- Suggest concrete fixes based on the failure type:\n  - Test failures: Review test output, fix failing tests\n  - Lint errors: Run linter locally, apply fixes\n  - Build failures: Check compilation errors, dependencies\n  - Type errors: Review type definitions, fix type issues\n\n** Timeout (exit code 2):** Polling exceeded timeout limit\n- Suggest running with longer timeout: `check_ci.sh [PR] [interval] [longer_timeout]`\n- Recommend checking GitHub directly for CI status\n- Consider whether CI is actually running or stuck\n\n### 3. Provide Actionable Summary\n\nStructure the response as follows:\n\n```markdown\n## CI Polling Results for PR #[number]\n\n### Final Status\n[ All checks passed /  Checks failed /  Polling timed out]\n\n### Polling Summary\n- Duration: [time]\n- Final state: [description]\n- Specific failures: [if applicable]\n\n### Next Steps\n[Specific actions based on results]\n```\n\n## Advanced Usage\n\n### Auto-Detection Requirements\n\nFor PR auto-detection to work:\n- Must be in a git repository\n- Current branch must have an associated PR\n- GitHub CLI (`gh`) must be authenticated\n\n### Error Handling\n\n**No PR found:**\n- Verify current branch has an associated PR: `gh pr view`\n- Suggest creating a PR if none exists\n- Check if branch is pushed to remote\n\n**GitHub CLI issues:**\n- Verify `gh` is installed and authenticated\n- Check repository access permissions\n- Ensure network connectivity\n\n### Integration with Other Workflows\n\nThis skill complements:\n- PR creation workflows (check CI after pushing)\n- Code review processes (verify CI before reviewing)\n- Deployment pipelines (ensure CI passes before deploy)\n- Automated testing workflows\n\n## Resources\n\n### scripts/check_ci.sh\n\nBash script that performs the actual CI polling. The script:\n- Auto-detects PR number from current branch or accepts as argument\n- Auto-detects repository owner/name from git remote\n- Polls `gh pr checks` at configurable intervals\n- Returns appropriate exit codes for success/failure/timeout\n- Provides real-time status updates during polling\n\nThe script can be executed directly without loading into context, making it token-efficient for repeated CI monitoring operations."
              },
              {
                "name": "cloudflare-worker",
                "description": "Build edge-first TypeScript applications on Cloudflare Workers. Covers Workers API, Hono framework, KV/D1/R2 storage, Durable Objects, Queues, and testing patterns. Use when creating serverless workers, edge functions, or Cloudflare-deployed services.",
                "path": "plugins/majestic-engineer/skills/cloudflare-worker/SKILL.md",
                "frontmatter": {
                  "name": "cloudflare-worker",
                  "description": "Build edge-first TypeScript applications on Cloudflare Workers. Covers Workers API, Hono framework, KV/D1/R2 storage, Durable Objects, Queues, and testing patterns. Use when creating serverless workers, edge functions, or Cloudflare-deployed services.",
                  "allowed-tools": "Read, Write, Edit, MultiEdit, Grep, Glob, Bash, WebSearch, WebFetch"
                },
                "content": "# Cloudflare Workers\n\n## Core Principles\n\n### Edge-First Thinking\n\n- **Stateless by default**: Workers don't persist state between requests\n- **Global distribution**: Code runs in 300+ data centers worldwide\n- **Cold start optimized**: V8 isolates start in milliseconds\n- **Request/response model**: Each invocation handles one request\n\n### Storage Selection\n\n| Storage | Use Case | Consistency | Latency |\n|---------|----------|-------------|---------|\n| **KV** | Config, flags, cached data | Eventually consistent | ~10ms |\n| **D1** | Relational data, transactions | Strong (single region) | ~30-50ms |\n| **R2** | Files, images, large objects | Strong | ~50-100ms |\n| **Durable Objects** | Real-time state, WebSockets | Strong (per-object) | ~50ms |\n| **Queues** | Async processing, batching | At-least-once | Async |\n\n## Project Structure\n\n```\nmy-worker/\n src/\n    index.ts          # Entry point\n    routes/           # Route handlers\n    services/         # Business logic\n    types.ts          # Type definitions\n test/\n wrangler.toml         # Cloudflare config\n package.json\n tsconfig.json\n```\n\n## Quick Start\n\n### Minimal wrangler.toml\n\n```toml\nname = \"my-worker\"\nmain = \"src/index.ts\"\ncompatibility_date = \"2024-12-01\"\ncompatibility_flags = [\"nodejs_compat\"]\n```\n\nSee [resources/setup.md](resources/setup.md) for full configuration with all bindings.\n\n### Basic Hono App\n\n```typescript\nimport { Hono } from 'hono';\nimport { Env } from './types';\n\nconst app = new Hono<{ Bindings: Env }>();\n\napp.get('/', (c) => c.json({ status: 'ok' }));\napp.onError((err, c) => c.json({ error: 'Internal Error' }, 500));\napp.notFound((c) => c.json({ error: 'Not Found' }, 404));\n\nexport default app;\n```\n\nSee [resources/hono.md](resources/hono.md) for route organization and middleware patterns.\n\n## Storage Quick Reference\n\n### KV (Key-Value)\n\n```typescript\nawait env.CACHE.get('key', 'json');\nawait env.CACHE.put('key', value, { expirationTtl: 3600 });\nawait env.CACHE.delete('key');\n```\n\n### D1 (SQLite)\n\n```typescript\nconst user = await env.DB.prepare('SELECT * FROM users WHERE id = ?')\n  .bind(id).first();\n```\n\n### R2 (Object Storage)\n\n```typescript\nawait env.STORAGE.put('path/file.json', JSON.stringify(data));\nconst object = await env.STORAGE.get('path/file.json');\n```\n\nSee [resources/storage.md](resources/storage.md) for caching patterns, migrations, and queries.\n\n## Durable Objects\n\nUse for: real-time coordination, WebSockets, rate limiting, distributed locks.\n\n```typescript\n// Get DO stub\nconst id = c.env.COUNTER.idFromName('my-counter');\nconst stub = c.env.COUNTER.get(id);\nconst response = await stub.fetch(new Request('http://do/increment'));\n```\n\nSee [resources/durable-objects.md](resources/durable-objects.md) for full patterns including WebSocket Hibernation.\n\n## Queues\n\n```typescript\n// Producer\nawait env.QUEUE.send({ type: 'email', payload: { to: 'user@example.com' } });\n\n// Consumer (add to default export)\nasync queue(batch: MessageBatch, env: Env) {\n  for (const msg of batch.messages) {\n    try { await process(msg.body); msg.ack(); }\n    catch { msg.retry(); }\n  }\n}\n```\n\nSee [resources/queues-testing.md](resources/queues-testing.md) for consumer patterns and testing setup.\n\n## CLI Commands\n\n```bash\n# Development\nwrangler dev                    # Start local server\nwrangler dev --remote           # Dev with remote bindings\n\n# Deploy\nwrangler deploy\n\n# D1\nwrangler d1 migrations apply my-database\n\n# Secrets\nwrangler secret put API_KEY\n\n# Logs\nwrangler tail\n```\n\n## Anti-Patterns\n\n| Don't | Do Instead |\n|-------|------------|\n| Service Worker format | ES modules |\n| `await` cache writes | `waitUntil` for non-blocking |\n| Large KV values (>25MB) | R2 for files |\n| `server.accept()` for WebSockets | `ctx.acceptWebSocket()` (Hibernation API) |\n| Block on analytics/logging | `waitUntil` for background tasks |\n| Assume KV immediate consistency | D1 or DOs for consistency-critical |\n\n## Resources\n\n- [Cloudflare Workers Docs](https://developers.cloudflare.com/workers/)\n- [Hono Documentation](https://hono.dev/docs/getting-started/cloudflare-workers)\n- [D1 Documentation](https://developers.cloudflare.com/d1/)\n- [Durable Objects Guide](https://developers.cloudflare.com/durable-objects/)"
              },
              {
                "name": "code-story",
                "description": "Narrative templates for git history documentation. Used by /git:code-story command.",
                "path": "plugins/majestic-engineer/skills/code-story/SKILL.md",
                "frontmatter": {
                  "name": "code-story",
                  "description": "Narrative templates for git history documentation. Used by /git:code-story command."
                },
                "content": "# Code Story Skill\n\nProvides narrative templates for transforming git history into documentary-style stories.\n\n## Templates\n\nRead the appropriate template based on detail level:\n- [resources/minimal-template.md](resources/minimal-template.md) - 1-2 page executive summary\n- [resources/standard-template.md](resources/standard-template.md) - 5-10 page story with acts\n- [resources/comprehensive-template.md](resources/comprehensive-template.md) - 20+ page deep dive\n\n## Narrative Guidelines\n\n### Voice and Tone\n- Documentary style: informative yet engaging\n- Third-person perspective\n- Acknowledge the human element\n- Find the drama in technical decisions\n- Celebrate achievements without hyperbole\n\n### What Makes a Good Code Story\n- **Genesis moment**: First commit sets the stage\n- **Character development**: Contributors evolve\n- **Conflict and resolution**: Bugs, refactors, breaking changes\n- **Turning points**: Direction-changing decisions\n- **Present connection**: Link past to current state\n\n### Commit Citation Format\n- Short SHA in backticks: `abc1234`\n- Include date and author for key commits\n- Link to GitHub if remote is github.com"
              },
              {
                "name": "config-reader",
                "description": "Read project config from .agents.yml and .agents.local.yml with local overrides. Supports dot notation for nested fields. Invoke with args \"<field> <default>\".",
                "path": "plugins/majestic-engineer/skills/config-reader/SKILL.md",
                "frontmatter": {
                  "name": "config-reader",
                  "description": "Read project config from .agents.yml and .agents.local.yml with local overrides. Supports dot notation for nested fields. Invoke with args \"<field> <default>\".",
                  "argument-hint": "<field> [default]"
                },
                "content": "# Config Reader\n\nRead and merge `.agents.yml` and `.agents.local.yml` configuration files. Local config overrides base config.\n\n**Requires:** yq (`brew install yq` or `snap install yq`)\n\n## Arguments\n\n`$ARGUMENTS` format: `<field> [default]`\n\nExamples:\n- `auto_preview false` - get top-level field, default to \"false\"\n- `plan.auto_create_task false` - get nested field, default to \"false\"\n- `tech_stack generic` - get top-level field, default to \"generic\"\n- `browser.type chrome` - get nested browser type\n- `toolbox.build_task.design_system_path` - get deeply nested field\n\n## Execution\n\nRun the config reader script with parsed arguments:\n\n```bash\nbash {baseDir}/scripts/config_reader.sh FIELD DEFAULT\n```\n\nReplace `FIELD` and `DEFAULT` with the parsed arguments from `$ARGUMENTS`.\n\n## Return Value\n\nReturn ONLY the config value (single line):\n- `true`\n- `rails`\n- `github`\n\n## Merge Logic\n\n1. **Local checked first** - `.agents.local.yml` wins if key exists\n2. **Fall back to base** - `.agents.yml` if not in local\n3. **Default** - provided default if neither has the key\n\n## Common Fields\n\n| Field | Description | Typical Default |\n|-------|-------------|-----------------|\n| `auto_preview` | Auto-open markdown files | `false` |\n| `plan.auto_create_task` | Auto-create tasks from plans | `false` |\n| `tech_stack` | Primary tech stack | `generic` |\n| `task_management` | Task tracking backend | `none` |\n| `workflow` | Git workflow style | `branches` |\n| `default_branch` | Main branch name | `main` |\n| `toolbox.build_task.design_system_path` | Design system location | (none) |"
              },
              {
                "name": "create-adr",
                "description": "Create Architecture Decision Records (ADRs) to document significant technical decisions, their context, alternatives considered, and consequences. Use when making architectural choices, selecting libraries/frameworks, or designing system components.",
                "path": "plugins/majestic-engineer/skills/create-adr/SKILL.md",
                "frontmatter": {
                  "name": "create-adr",
                  "description": "Create Architecture Decision Records (ADRs) to document significant technical decisions, their context, alternatives considered, and consequences. Use when making architectural choices, selecting libraries/frameworks, or designing system components."
                },
                "content": "# Create ADR Skill\n\n**Purpose:** Document architectural decisions to provide context for future developers and maintain institutional knowledge about why technical choices were made.\n\n## When to Use This Skill\n\nTrigger this skill when:\n- Making significant architectural decisions\n- Choosing between competing technologies or approaches\n- Designing new system components or APIs\n- Refactoring that changes system structure\n- After implementing a feature that involved design trade-offs\n\n## Skip ADR Creation If\n\n- Only minor bug fixes or refactoring\n- Documentation or test-only changes\n- Configuration tweaks without architectural impact\n- Trivial changes with obvious implementation\n\n## Workflow\n\n### 1. Gather Context\n\nReview the implementation to understand:\n- What technical decisions were made\n- Why this approach was chosen\n- What alternatives existed\n- What trade-offs were accepted\n\n**If reviewing existing code:**\n```bash\ngit diff main...HEAD\ngit log --oneline main..HEAD\n```\n\n### 2. Investigate Further\n\nIf the diff doesn't provide enough context:\n- Read referenced files/functions\n- Check configuration files\n- Review related tests\n- Look at dependencies added\n\n### 3. Create the ADR\n\n**Location:** `docs/adr/NNNN-descriptive-title.md`\n\n**Naming convention:**\n- Sequential number (0001, 0002, etc.)\n- Lowercase with hyphens\n- Descriptive but concise\n\n**Examples:**\n- `0001-use-jwt-for-authentication.md`\n- `0002-adopt-event-sourcing-for-orders.md`\n- `0003-postgres-over-mysql.md`\n\n### 4. Use the Template\n\nUse the template from `assets/adr-template.md` to structure the document.\n\n**Key sections to complete:**\n- **Status**: Proposed, Accepted, Deprecated, or Superseded\n- **Context**: The problem or opportunity driving the decision\n- **Decision**: What was decided and the technical approach\n- **Consequences**: Positive, negative, and risks\n- **Alternatives**: What else was considered and why it wasn't chosen\n\n## Quality Guidelines\n\n**Good ADRs have:**\n- Specific technical details (not vague descriptions)\n- Concrete examples and code snippets where helpful\n- Honest assessment of trade-offs\n- Links to relevant resources or prior art\n\n**Avoid:**\n- Vague justifications (\"it's better\")\n- Missing alternatives section\n- No discussion of consequences\n- Too much implementation detail (that belongs in code comments)\n\n## Example\n\n**User:** \"Document the decision to use Redis for caching\"\n\n**Skill activates:**\n\n1. Review caching implementation\n2. Identify alternatives considered (Memcached, in-memory, etc.)\n3. Document trade-offs (complexity vs performance)\n4. Create `docs/adr/0005-redis-for-application-cache.md`\n\n## Integration\n\n**Works well with:**\n- Major feature implementations\n- System refactoring efforts\n- Technology migrations\n- API design decisions"
              },
              {
                "name": "fix-reporter",
                "description": "Capture solved problems as categorized documentation with YAML frontmatter for fast lookup",
                "path": "plugins/majestic-engineer/skills/fix-reporter/SKILL.md",
                "frontmatter": {
                  "name": "fix-reporter",
                  "description": "Capture solved problems as categorized documentation with YAML frontmatter for fast lookup",
                  "allowed-tools": [
                    "Read",
                    "Write",
                    "Bash",
                    "Grep"
                  ],
                  "preconditions": [
                    "Problem has been solved (not in-progress)",
                    "Solution has been verified working"
                  ]
                },
                "content": "# fix-reporter Skill\n\n**Purpose:** Automatically document solved problems to build searchable institutional knowledge with category-based organization (enum-validated problem types).\n\n## Overview\n\nThis skill captures problem solutions immediately after confirmation, creating structured documentation that serves as a searchable knowledge base for future sessions.\n\n**Organization:** Single-file architecture - each problem documented as one markdown file in its symptom category directory within `lessons_path` (default: `.claude/lessons/`, e.g., `{lessons_path}/performance-issues/n-plus-one-queries.md`). Files use YAML frontmatter for metadata and searchability. Lessons with `workflow_phase` fields are automatically discoverable by the lessons-discoverer agent.\n\n<critical_sequence name=\"documentation-capture\" enforce_order=\"strict\">\n\n## 7-Step Process\n\n<step number=\"1\" required=\"true\">\n### Step 1: Detect Confirmation\n\n**Auto-invoke after phrases:**\n\n- \"that worked\"\n- \"it's fixed\"\n- \"working now\"\n- \"problem solved\"\n- \"that did it\"\n\n**OR manual:** `/report-fix` command\n\n**Non-trivial problems only:**\n\n- Multiple investigation attempts needed\n- Tricky debugging that took time\n- Non-obvious solution\n- Future sessions would benefit\n\n**Skip documentation for:**\n\n- Simple typos\n- Obvious syntax errors\n- Trivial fixes immediately corrected\n</step>\n\n<step number=\"2\" required=\"true\" depends_on=\"1\">\n### Step 2: Gather Context\n\nExtract from conversation history:\n\n**Required information:**\n\n- **Module name**: Which project module had the problem\n- **Symptom**: Observable error/behavior (exact error messages)\n- **Investigation attempts**: What didn't work and why\n- **Root cause**: Technical explanation of actual problem\n- **Solution**: What fixed it (code/config changes)\n- **Prevention**: How to avoid in future\n\n**Environment details:**\n\n- Framework/language version\n- OS version\n- File/line references\n\n**BLOCKING REQUIREMENT:** If critical context is missing (module name, exact error, or resolution steps), ask user and WAIT for response before proceeding to Step 3:\n\n```\nI need a few details to document this properly:\n\n1. Which module had this issue? [ModuleName]\n2. What was the exact error message or symptom?\n\n[Continue after user provides details]\n```\n</step>\n\n<step number=\"3\" required=\"false\" depends_on=\"2\">\n### Step 3: Check Existing Docs\n\nRead lessons_path from config and search for similar issues:\n\n```bash\n# Get lessons path from config (default: .claude/lessons/)\nLESSONS_PATH=$(claude -p \"/majestic:config lessons_path .claude/lessons/\")\n\n# Search by error message keywords\ngrep -r \"exact error phrase\" \"$LESSONS_PATH/\"\n\n# Search by symptom category\nls \"$LESSONS_PATH/[category]/\"\n```\n\n**IF similar issue found:**\n\nTHEN present decision options:\n\n```\nFound similar issue: docs/solutions/[path]\n\nWhat's next?\n1. Create new doc with cross-reference (recommended)\n2. Update existing doc (only if same root cause)\n3. Other\n\nChoose (1-3): _\n```\n\nWAIT for user response, then execute chosen action.\n\n**ELSE** (no similar issue found):\n\nProceed directly to Step 4 (no user interaction needed).\n</step>\n\n<step number=\"4\" required=\"true\" depends_on=\"2\">\n### Step 4: Generate Filename\n\nFormat: `[sanitized-symptom]-[module]-[YYYYMMDD].md`\n\n**Sanitization rules:**\n\n- Lowercase\n- Replace spaces with hyphens\n- Remove special characters except hyphens\n- Truncate to reasonable length (< 80 chars)\n\n**Examples:**\n\n- `missing-import-auth-module-20251110.md`\n- `parameter-not-saving-state-api-20251110.md`\n- `webview-crash-on-resize-frontend-20251110.md`\n</step>\n\n<step number=\"5\" required=\"true\" depends_on=\"4\" blocking=\"true\">\n### Step 5: Validate YAML Schema\n\n**Important:** All docs require validated YAML frontmatter with enum validation.\n\n<validation_gate name=\"yaml-schema\" blocking=\"true\">\n\n**Validate against schema:**\nLoad `schema.yaml` and classify the problem against the enum values defined in `references/yaml-schema.md`. Ensure all required fields are present and match allowed values exactly.\n\n**BLOCK if validation fails:**\n\n```\nYAML validation failed\n\nErrors:\n- problem_type: must be one of schema enums, got \"compilation_error\"\n- severity: must be one of [critical, high, medium, low], got \"severe\"\n- symptoms: must be array with 1-5 items, got string\n\nPlease provide corrected values.\n```\n\n**GATE ENFORCEMENT:** Do NOT proceed to Step 6 (Create Documentation) until YAML frontmatter passes all validation rules defined in `schema.yaml`.\n\n</validation_gate>\n</step>\n\n<step number=\"6\" required=\"true\" depends_on=\"5\">\n### Step 6: Create Documentation\n\n**Read lessons_path from config:**\n```bash\nLESSONS_PATH=$(claude -p \"/majestic:config lessons_path .claude/lessons/\")\n```\n\n**Determine category from problem_type:** Use the category mapping defined in `references/yaml-schema.md`.\n\n**Create documentation file:**\n\n```bash\nPROBLEM_TYPE=\"[from validated YAML]\"\nCATEGORY=\"[mapped from problem_type]\"\nFILENAME=\"[generated-filename].md\"\nDOC_PATH=\"${LESSONS_PATH}/${CATEGORY}/${FILENAME}\"\n\n# Create directory if needed\nmkdir -p \"${LESSONS_PATH}/${CATEGORY}\"\n\n# Write documentation using template from assets/resolution-template.md\n# (Content populated with Step 2 context and validated YAML frontmatter)\n```\n\n**Result:**\n- Single file in category directory under lessons_path\n- Enum validation ensures consistent categorization\n- Optional discovery fields enable lessons-discoverer integration\n\n**Create documentation:** Populate the structure from `assets/resolution-template.md` with context gathered in Step 2 and validated YAML frontmatter from Step 5.\n\n**Discovery opt-in:** If this lesson should surface automatically during workflows, add the optional discovery fields (lesson_type, workflow_phase, tech_stack, impact, keywords) to the frontmatter.\n</step>\n\n<step number=\"7\" required=\"false\" depends_on=\"6\">\n### Step 7: Cross-Reference & Critical Pattern Detection\n\nIf similar issues found in Step 3:\n\n**Update existing doc:**\n\n```bash\n# Add Related Issues link to similar doc\necho \"- See also: [$FILENAME]($REAL_FILE)\" >> [similar-doc.md]\n```\n\n**Update new doc:**\nAlready includes cross-reference from Step 6.\n\n**Update patterns if applicable:**\n\nIf this represents a common pattern (3+ similar issues):\n\n```bash\n# Add to docs/solutions/patterns/common-solutions.md\ncat >> docs/solutions/patterns/common-solutions.md << 'EOF'\n\n## [Pattern Name]\n\n**Common symptom:** [Description]\n**Root cause:** [Technical explanation]\n**Solution pattern:** [General approach]\n\n**Examples:**\n- [Link to doc 1]\n- [Link to doc 2]\n- [Link to doc 3]\nEOF\n```\n\n**Critical Pattern Detection (Optional Proactive Suggestion):**\n\nIf this issue has automatic indicators suggesting it might be critical:\n- Severity: `critical` in YAML\n- Affects multiple modules OR foundational component\n- Non-obvious solution\n\nThen in the decision menu (Step 8), add a note:\n```\nThis might be worth adding to Critical Patterns (Option 2)\n```\n\nBut **don't auto-promote**. User decides via decision menu (Option 2).\n\n**Template for critical pattern addition:**\n\nWhen user selects Option 2 (Add to Critical Patterns), use the template from `assets/critical-pattern-template.md` to structure the pattern entry.\n</step>\n\n</critical_sequence>\n\n<decision_gate name=\"post-documentation\" wait_for_user=\"true\">\n\n## Decision Menu After Capture\n\nAfter successful documentation, present options and WAIT for user response:\n\n```\nSolution documented\n\nFile created:\n- {lessons_path}/[category]/[filename].md\n\nWhat's next?\n1. Continue workflow (recommended)\n2. Add to Critical Patterns - Promote to critical-patterns.md\n3. Link related issues - Connect to similar problems\n4. Add to existing skill - Add to a learning skill\n5. Create new skill - Extract into new learning skill\n6. View documentation - See what was captured\n7. Enable discovery - Add workflow_phase fields for auto-discovery\n8. Other\n```\n\n**Handle responses:**\n\n**Option 1: Continue workflow**\n\n- Return to calling skill/workflow\n- Documentation is complete\n\n**Option 2: Add to Critical Patterns**\n\nUser selects this when:\n- System made this mistake multiple times across different modules\n- Solution is non-obvious but must be followed every time\n- Foundational requirement\n\nAction:\n1. Extract pattern from the documentation\n2. Format as WRONG vs CORRECT with code examples\n3. Add to `docs/solutions/patterns/critical-patterns.md`\n4. Add cross-reference back to this doc\n5. Confirm: \"Added to Critical Patterns. All subagents will see this pattern before code generation.\"\n\n**Option 3: Link related issues**\n\n- Prompt: \"Which doc to link? (provide filename or describe)\"\n- Search docs/solutions/ for the doc\n- Add cross-reference to both docs\n- Confirm: \"Cross-reference added\"\n\n**Option 4: Add to existing skill**\n\nUser selects this when the documented solution relates to an existing learning skill:\n\nAction:\n1. Prompt: \"Which skill?\"\n2. Determine which reference file to update (resources.md, patterns.md, or examples.md)\n3. Add link and brief description to appropriate section\n4. Confirm: \"Added to [skill-name] skill in [file]\"\n\n**Option 5: Create new skill**\n\nUser selects this when the solution represents the start of a new learning domain:\n\nAction:\n1. Prompt: \"What should the new skill be called?\"\n2. Create skill directory structure\n3. Create initial reference files with this solution as first example\n4. Confirm: \"Created new [skill-name] skill with this solution as first example\"\n\n**Option 6: View documentation**\n\n- Display the created documentation\n- Present decision menu again\n\n**Option 7: Enable discovery**\n\nUser selects this to make the lesson discoverable by lessons-discoverer agent:\n\nAction:\n1. Prompt: \"Which workflow phases? [planning, debugging, review, implementation]\"\n2. Prompt: \"Which tech stacks? [rails, python, react, node, generic]\"\n3. Prompt: \"What's the lesson type? [antipattern, gotcha, pattern, setup, workflow]\"\n4. Update the file's YAML frontmatter with:\n   - `workflow_phase`: Selected phases\n   - `tech_stack`: Selected stacks\n   - `lesson_type`: Selected type\n   - `impact`: Derived from severity (criticalblocks_work, highmajor_time_sink, medium/lowminor_inconvenience)\n   - `keywords`: Extract from tags + symptom keywords\n5. Confirm: \"Lesson now discoverable during [phases] workflows\"\n\n**Option 8: Other**\n\n- Ask what they'd like to do\n\n</decision_gate>\n\n<integration_protocol>\n\n## Integration Points\n\n**Invoked by:**\n- /report-fix command (primary interface)\n- Manual invocation in conversation after solution confirmed\n- Can be triggered by detecting confirmation phrases like \"that worked\", \"it's fixed\", etc.\n\n**Invokes:**\n- None (terminal skill - does not delegate to other skills)\n\n**Handoff expectations:**\nAll context needed for documentation should be present in conversation history before invocation.\n\n</integration_protocol>\n\n<success_criteria>\n\n## Success Criteria\n\nDocumentation is successful when ALL of the following are true:\n\n- YAML frontmatter validated (all required fields, correct formats)\n- File created in docs/solutions/[category]/[filename].md\n- Enum values match schema.yaml exactly\n- Code examples included in solution section\n- Cross-references added if related issues found\n- User presented with decision menu and action confirmed\n\n</success_criteria>\n\n## Error Handling\n\n**Missing context:**\n\n- Ask user for missing details\n- Don't proceed until critical info provided\n\n**YAML validation failure:**\n\n- Show specific errors\n- Present retry with corrected values\n- BLOCK until valid\n\n**Similar issue ambiguity:**\n\n- Present multiple matches\n- Let user choose: new doc, update existing, or link as duplicate\n\n## Execution Guidelines\n\n**MUST do:**\n- Validate YAML frontmatter (BLOCK if invalid per Step 5 validation gate)\n- Extract exact error messages from conversation\n- Include code examples in solution section\n- Create directories before writing files (`mkdir -p`)\n- Ask user and WAIT if critical context missing\n\n**MUST NOT do:**\n- Skip YAML validation (validation gate is blocking)\n- Use vague descriptions (not searchable)\n- Omit code examples or cross-references\n\n## Quality Guidelines\n\n**Good documentation has:**\n\n- Exact error messages (copy-paste from output)\n- Specific file:line references\n- Observable symptoms (what you saw, not interpretations)\n- Failed attempts documented (helps avoid wrong paths)\n- Technical explanation (not just \"what\" but \"why\")\n- Code examples (before/after if applicable)\n- Prevention guidance (how to catch early)\n- Cross-references (related issues)\n\n**Avoid:**\n\n- Vague descriptions (\"something was wrong\")\n- Missing technical details (\"fixed the code\")\n- No context (which version? which file?)\n- Just code dumps (explain why it works)\n- No prevention guidance\n- No cross-references\n\n## Example Scenario\n\n**User:** \"That worked! The N+1 query is fixed.\"\n\n**Skill activates:**\n\n1. **Detect confirmation:** \"That worked!\" triggers auto-invoke\n2. **Gather context:**\n   - Module: User Service\n   - Symptom: API response taking >5 seconds, N+1 query when loading user records\n   - Failed attempts: Added pagination (didn't help), checked background job performance\n   - Solution: Added eager loading with `includes(:profile)` on User model\n   - Root cause: Missing eager loading causing separate database query per user\n3. **Check existing:** No similar issue found\n4. **Generate filename:** `n-plus-one-user-queries-UserService-20251110.md`\n5. **Validate YAML:**\n   ```yaml\n   module: User Service\n   date: 2025-11-10\n   problem_type: performance_issue\n   component: model\n   symptoms:\n     - \"N+1 query when loading user records\"\n     - \"API response taking >5 seconds\"\n   root_cause: missing_eager_load\n   severity: high\n   tags: [n-plus-one, eager-loading, performance]\n   ```\n   Valid\n6. **Create documentation:**\n   - `{lessons_path}/performance-issues/n-plus-one-user-queries-UserService-20251110.md`\n7. **Cross-reference:** None needed (no similar issues)\n\n**Output:**\n\n```\nSolution documented\n\nFile created:\n- {lessons_path}/performance-issues/n-plus-one-user-queries-UserService-20251110.md\n\nWhat's next?\n1. Continue workflow (recommended)\n2. Add to Critical Patterns - Promote to critical-patterns.md\n3. Link related issues - Connect to similar problems\n4. Add to existing skill - Add to a learning skill\n5. Create new skill - Extract into new learning skill\n6. View documentation - See what was captured\n7. Enable discovery - Add workflow_phase fields for auto-discovery\n8. Other\n```"
              },
              {
                "name": "frontend-design",
                "description": "Create distinctive, production-grade frontend interfaces with high design quality. Use when building web components, pages, or applications. Includes framework-specific guidance for Tailwind, React, Vue, and Rails/Hotwire ecosystems.",
                "path": "plugins/majestic-engineer/skills/frontend-design/SKILL.md",
                "frontmatter": {
                  "name": "frontend-design",
                  "description": "Create distinctive, production-grade frontend interfaces with high design quality. Use when building web components, pages, or applications. Includes framework-specific guidance for Tailwind, React, Vue, and Rails/Hotwire ecosystems.",
                  "allowed-tools": "Read, Write, Edit, MultiEdit, Grep, Glob, Bash, WebSearch, WebFetch"
                },
                "content": "# Frontend Design\n\n## Core Philosophy\n\n### Design Thinking First\n\nBefore writing code, consider:\n\n1. **Purpose**: What is this interface trying to achieve?\n2. **Audience**: Who will use it and what are their expectations?\n3. **Tone**: What feeling should it evoke?\n4. **Differentiation**: What makes this distinctive?\n\n### Pick an Extreme\n\nRather than defaulting to safe, generic designs, commit to a clear aesthetic direction:\n\n- **Brutalist**: Raw, honest, utilitarian\n- **Maximalist**: Bold, layered, expressive\n- **Minimalist**: Restrained, precise, essential\n- **Retro-futuristic**: Nostalgic tech, neon, gradients\n- **Luxury**: Refined, spacious, premium\n- **Playful**: Animated, colorful, delightful\n\n### Avoid \"AI Slop\"\n\nGeneric AI-generated aesthetics are immediately recognizable. Avoid:\n\n- **Default fonts**: Inter, Roboto, Arial, system fonts\n- **Cliched colors**: Purple gradients, blue-to-purple fades\n- **Predictable layouts**: Centered hero, three-column features\n- **Safe choices**: Rounded corners everywhere, subtle shadows\n\n## Implementation Priorities\n\n### 1. Typography\n\n```css\n/* AVOID: Generic defaults */\nfont-family: Inter, system-ui, sans-serif;\n\n/* PREFER: Distinctive pairings */\n--font-display: 'Clash Display', 'Space Grotesk', sans-serif;\n--font-body: 'Satoshi', 'General Sans', sans-serif;\n\n/* Specific moods */\n--font-luxury: 'Cormorant Garamond', serif;\n--font-brutalist: 'JetBrains Mono', monospace;\n--font-playful: 'Fredoka', 'Quicksand', sans-serif;\n```\n\n**Typography scale:**\n\n```css\n:root {\n  --text-hero: clamp(3rem, 10vw, 8rem);\n  --text-display: clamp(2rem, 5vw, 4rem);\n  --text-heading: clamp(1.5rem, 3vw, 2.5rem);\n  --text-body: clamp(1rem, 1.5vw, 1.125rem);\n}\n```\n\n### 2. Color & Theme\n\n```css\n:root {\n  /* Dominant + sharp accent */\n  --color-bg: #0a0a0a;\n  --color-fg: #fafafa;\n  --color-accent: #ff3366;\n  --color-accent-muted: #ff336633;\n}\n```\n\nCommit to: high contrast, limited palette (3-4 colors), accent colors that pop.\n\n### 3. Motion\n\n**Focus on high-impact moments over scattered micro-interactions:**\n\n```css\n@keyframes fadeInUp {\n  from { opacity: 0; transform: translateY(20px); }\n  to { opacity: 1; transform: translateY(0); }\n}\n\n.reveal {\n  animation: fadeInUp 0.6s ease-out forwards;\n}\n\n.reveal:nth-child(1) { animation-delay: 0.1s; }\n.reveal:nth-child(2) { animation-delay: 0.2s; }\n```\n\nFocus on: page load sequences, scroll-triggered reveals, state transitions.\n\n### 4. Spatial Composition\n\n**Break the grid:**\n\n- **Asymmetry**: Offset elements intentionally\n- **Overlap**: Layer elements for depth\n- **Diagonal flow**: Guide the eye dynamically\n- **Whitespace**: Let content breathe\n\n```css\n.hero-image {\n  position: relative;\n  top: -5vh;      /* Overlap the header */\n  right: -2rem;   /* Extend past container */\n}\n```\n\n### 5. Visual Details\n\n```css\n/* Gradient overlay */\n.card::before {\n  content: '';\n  position: absolute;\n  inset: 0;\n  background: linear-gradient(135deg, transparent 40%, rgba(255,255,255,0.05));\n  pointer-events: none;\n}\n\n/* Glow effects */\n.accent-element {\n  box-shadow: 0 0 20px var(--color-accent-muted), 0 0 40px var(--color-accent-muted);\n}\n```\n\n## Framework Guidance\n\n### Tailwind CSS\n\n**Customize the themedon't use defaults:**\n\n```javascript\n// tailwind.config.js\nmodule.exports = {\n  theme: {\n    extend: {\n      fontFamily: { display: ['Clash Display', 'sans-serif'] },\n      colors: { brand: { DEFAULT: '#ff3366', muted: 'rgba(255, 51, 102, 0.2)' } },\n    },\n  },\n}\n```\n\n### React/Vue\n\nSee [resources/react-vue.md](resources/react-vue.md) for:\n- Framer Motion staggered animations\n- Vue Transition/TransitionGroup patterns\n- Component architecture with design tokens\n\n### Rails/Hotwire\n\nSee [resources/rails-hotwire.md](resources/rails-hotwire.md) for:\n- ViewComponent with sidecar styles\n- Stimulus reveal/toggle controllers\n- Turbo Frames & Streams with animations\n- ERB layout patterns with content_for\n- CSS design tokens and import order\n\n### Implementation Constraints\n\nSee [resources/ui-implementation-guide.md](resources/ui-implementation-guide.md) for specific numeric rules:\n- Typography: 4-size rule, line heights (1.5 body, 1.0-1.2 headlines)\n- Color: HSB manipulation, WCAG 4.5:1 contrast, dark mode execution\n- Forms: Label placement, input states, selection control usage\n- Buttons: Padding ratios (2:1 horizontal:vertical), 4848dp touch targets\n- Data tables: Right-align numbers, sticky headers, condensed subtext\n\n### Motion & Animation\n\nSee [resources/motion-patterns.md](resources/motion-patterns.md) for:\n- Page load orchestration (staggered reveals, timing guidelines)\n- Scroll-triggered animations (Intersection Observer patterns)\n- Hover interactions (magnetic buttons, underline reveals)\n- Background motion (gradient shifts, floating particles)\n- Performance checklist and `prefers-reduced-motion` support\n\n### CSS Polish & Debugging\n\nSee [resources/css-polish-tips.md](resources/css-polish-tips.md) for:\n- Accessibility debugging selectors (highlight missing alt, labels)\n- Scroll behavior (padding, overscroll, smooth)\n- Focus & selection styling\n- Performance hints (will-change, contain)\n- Defensive CSS patterns\n\n### Landing Pages\n\nSee [resources/landing-page-design.md](resources/landing-page-design.md) for:\n- Section-by-section visual design (hero, proof, CTA)\n- Color palettes by aesthetic (dark tech, light sophisticated)\n- Typography pairings for different moods\n- Single-file HTML implementation patterns\n- Complements `landing-page-builder` skill (copy) with visual guidance\n\n## Anti-Patterns\n\n| Category | Avoid |\n|----------|-------|\n| Typography | Inter/Roboto as primary, single font for all |\n| Color | Purple-to-blue gradients, gray-on-gray |\n| Layout | Centered everything, symmetrical grids |\n| Motion | Hover effects everywhere, bouncy animations |\n\n## Validation Checklist\n\n- [ ] Typography is distinctive (not default fonts)\n- [ ] Color palette is intentional and limited\n- [ ] Layout breaks from predictable patterns\n- [ ] Motion serves purpose and feels polished\n- [ ] Design direction is clear and consistent\n- [ ] Responsive behavior maintains quality\n- [ ] Accessibility not sacrificed for aesthetics\n\n## Resources\n\n- [Fontshare](https://www.fontshare.com/) - Free quality fonts\n- [Coolors](https://coolors.co/) - Color palette generator\n- [Framer Motion](https://www.framer.com/motion/) - React animation\n- [ViewComponent](https://viewcomponent.org/) - Rails components\n\n---\n\n**Remember:** Every default is a choice. If you're using defaults, you're making generic work."
              },
              {
                "name": "git-worktree",
                "description": "Manage git worktrees for parallel development. Use when the user wants to work on multiple branches simultaneously, create isolated environments for features/fixes, or clean up completed worktrees.",
                "path": "plugins/majestic-engineer/skills/git-worktree/SKILL.md",
                "frontmatter": {
                  "name": "git-worktree",
                  "description": "Manage git worktrees for parallel development. Use when the user wants to work on multiple branches simultaneously, create isolated environments for features/fixes, or clean up completed worktrees."
                },
                "content": "# Git Worktree Manager\n\n## Overview\n\nThis skill provides a unified interface for managing git worktrees, enabling isolated parallel development. Worktrees allow you to have multiple branches checked out simultaneously in separate directories.\n\n**Key features:**\n- Automatic `.env` file copying from main repo to new worktrees\n- Unified storage in `.worktrees/` directory\n- Cleanup of merged and stale worktrees\n\n## When to Use This Skill\n\n- Creating isolated environments for feature development\n- Working on multiple branches simultaneously\n- Reviewing PRs without stashing current work\n- Cleaning up completed feature branches\n\n## Critical: Always Use the Manager Script\n\n**Always use the worktree-manager.sh script** rather than raw `git worktree` commands. The script handles:\n- Automatic `.env` file copying to new worktrees\n- Consistent storage in `.worktrees/` directory\n- Proper `.gitignore` management\n\n## Core Commands\n\nAll operations use the unified `worktree-manager.sh` script:\n\n```bash\nbash scripts/worktree-manager.sh <command> [options]\n```\n\n### Create Worktree\n\n```bash\nworktree-manager.sh create <branch-name> [source-branch]\n```\n\nCreates a new worktree in `.worktrees/<branch-name>`. If the branch exists, it checks it out. If not, creates a new branch from the source (defaults to main/master).\n\n### List Worktrees\n\n```bash\nworktree-manager.sh list\n```\n\nShows all worktrees with their branch, commit, and status (clean/dirty/missing).\n\n### Switch Worktree\n\n```bash\nworktree-manager.sh switch <branch-name|path>\n```\n\nProvides information for switching to a worktree by branch name or path.\n\n### Cleanup Worktrees\n\n```bash\nworktree-manager.sh cleanup [--force]\n```\n\nIdentifies and removes:\n- Worktrees with merged branches\n- Worktrees with deleted remote branches\n- Missing worktree directories\n\nUse `--force` to skip confirmation prompt.\n\n### Copy Environment Files\n\n```bash\nworktree-manager.sh copy-env [worktree-path|branch-name]\n```\n\nCopies `.env*` files (excluding `.env.example`) from the main repo to a worktree. Useful for:\n- Adding env files to existing worktrees created before this feature\n- Refreshing env files after main repo changes\n\nIf run inside a worktree without arguments, copies to current location.\n\n## Storage\n\nWorktrees are stored in `.worktrees/` within the repository root. This directory is automatically added to `.gitignore`.\n\n## Example Workflow\n\n```bash\n# Start new feature\nworktree-manager.sh create feature-auth\n\n# Work in the new worktree\ncd .worktrees/feature-auth\n\n# List all worktrees\nworktree-manager.sh list\n\n# When done, clean up\nworktree-manager.sh cleanup\n```\n\n## Troubleshooting\n\n### Missing .env files in existing worktrees\n\nIf you have existing worktrees created before the automatic env copying feature:\n\n```bash\nbash scripts/worktree-manager.sh copy-env feature-branch\n```\n\nOr from within the worktree directory:\n\n```bash\nbash scripts/worktree-manager.sh copy-env\n```"
              },
              {
                "name": "hierarchical-agents",
                "description": "Generate hierarchical AGENTS.md structure for codebases to optimize AI agent token usage. Use when creating AGENTS.md files, documenting codebase structure, setting up agent guidance, organizing project documentation for AI tools, implementing JIT indexing, or working with monorepos that need lightweight root guidance with detailed sub-folder documentation. Covers repository analysis, root AGENTS.md generation, sub-folder AGENTS.md creation, and token-efficient documentation patterns.",
                "path": "plugins/majestic-engineer/skills/hierarchical-agents/SKILL.md",
                "frontmatter": {
                  "name": "hierarchical-agents",
                  "description": "Generate hierarchical AGENTS.md structure for codebases to optimize AI agent token usage. Use when creating AGENTS.md files, documenting codebase structure, setting up agent guidance, organizing project documentation for AI tools, implementing JIT indexing, or working with monorepos that need lightweight root guidance with detailed sub-folder documentation. Covers repository analysis, root AGENTS.md generation, sub-folder AGENTS.md creation, and token-efficient documentation patterns."
                },
                "content": "# Hierarchical Agents Documentation Generator\n\n## Purpose\n\nCreate a **hierarchical AGENTS.md system** for codebases that enables AI coding agents to work efficiently with minimal token usage. This skill generates lightweight root documentation with detailed sub-folder guidance following the \"nearest-wins\" principle.\n\n## When to Use This Skill\n\nUse this skill when:\n- Creating AGENTS.md documentation for a new project\n- Setting up AI agent guidance for a monorepo\n- Optimizing existing documentation for token efficiency\n- Restructuring codebase documentation hierarchically\n- Implementing JIT (Just-In-Time) indexing patterns\n- Need to document complex multi-package repositories\n\n## Core Principles\n\n### 1. Root AGENTS.md is LIGHTWEIGHT\n- Only universal guidance and links to sub-files\n- ~100-200 lines maximum\n- No detailed patterns or examples\n- Acts as index and navigation hub\n\n### 2. Nearest-Wins Hierarchy\n- Agents read the closest AGENTS.md to the file being edited\n- Sub-folder AGENTS.md files override root guidance\n- Specific beats general\n\n### 3. JIT (Just-In-Time) Indexing\n- Provide paths, globs, and search commands\n- NOT full file content\n- Enable discovery, not copy-paste\n- Commands that agents can execute\n\n### 4. Token Efficiency\n- Small, actionable guidance over encyclopedic docs\n- Reference files by path, not content\n- Examples point to actual files in codebase\n- Single-line commands that can be executed\n\n**Why this matters:** Claude Code's system prompt includes ~50 instructions, leaving ~100 usable slots from Claude's ~150 instruction capacity. The system also tells Claude that AGENTS.md context \"may or may not be relevant\" - so non-universal instructions get ignored uniformly. Manual crafting beats auto-generation for leverage.\n\n### 5. Sub-Folder Detail\n- Sub-folder AGENTS.md files have MORE detail\n- Specific patterns with file examples\n- Technology-specific conventions\n- Package-specific commands and gotchas\n\n## Process Overview\n\nFollow these phases in order. See [GENERATION_PROCESS.md](GENERATION_PROCESS.md) for complete details.\n\n### Phase 1: Repository Analysis\n\nAnalyze the codebase structure:\n\n1. **Repository type**: Monorepo, multi-package, or simple?\n2. **Technology stack**: Languages, frameworks, tools\n3. **Major directories**: Apps, services, packages, workers\n4. **Build system**: pnpm/npm/yarn workspaces? Turborepo?\n5. **Testing setup**: Jest, Vitest, Playwright, pytest?\n6. **Key patterns**: Organization, conventions, examples, anti-patterns\n\n**Output**: Structured map of the repository before generating any files.\n\n**Tools to Use**:\n```bash\n# Get directory structure\nfind . -type d -maxdepth 3 -not -path '*/node_modules/*' -not -path '*/.git/*'\n\n# Find package.json files\nfind . -name \"package.json\" -not -path '*/node_modules/*'\n\n# Identify technology\nrg -l \"react|vue|angular|svelte\" --type ts --type tsx --type js\nrg -l \"prisma|drizzle|typeorm\" --type ts\nrg -l \"jest|vitest|playwright\" --type json\n```\n\n### Phase 2: Generate Root AGENTS.md\n\nCreate lightweight root file with these sections:\n\n1. **Project Snapshot** (3-5 lines)\n   - Repo type\n   - Primary tech stack\n   - Note about sub-package AGENTS.md files\n\n2. **Root Setup Commands** (5-10 lines)\n   - Install dependencies\n   - Build all\n   - Typecheck all\n   - Test all\n\n3. **Universal Conventions** (5-10 lines)\n   - Code style (TypeScript strict? Prettier? ESLint?)\n   - Commit format (Conventional Commits?)\n   - Branch strategy\n   - PR requirements\n\n4. **Implementation Rules** (2-3 lines)\n   - Version verification for external dependencies (see example below)\n   - Never trust training data for version numbers\n\n5. **Security & Secrets** (3-5 lines)\n   - Never commit tokens\n   - Where secrets go (.env patterns)\n   - PII handling\n\n6. **JIT Index - Directory Map** (10-20 lines)\n   - Links to sub-AGENTS.md files\n   - Quick find commands\n\n7. **Acceptance Criteria** (3-5 lines)\n   - Pre-PR checklist\n   - What must pass\n\n**Example JIT Index**:\n```markdown\n## JIT Index (what to open, not what to paste)\n\n### Package Structure\n- Web UI: `apps/web/`  [see apps/web/AGENTS.md](apps/web/AGENTS.md)\n- API: `apps/api/`  [see apps/api/AGENTS.md](apps/api/AGENTS.md)\n- Shared packages: `packages/**/`  [see packages/README.md]\n\n### Quick Find Commands\n- Search function: `rg -n \"functionName\" apps/** packages/**`\n- Find component: `rg -n \"export.*ComponentName\" apps/web/src`\n- Find API routes: `rg -n \"export const (GET|POST)\" apps/api`\n```\n\n**Example Implementation Rules**:\n```markdown\n## Implementation Rules\n\nBefore adding ANY external dependency (gems, npm packages, GitHub Actions, Docker images, APIs, CDN links):\n- Use WebSearch to verify the latest stable version BEFORE implementation\n- Never trust training data for version numbers\n```\n\n### Phase 3: Generate Sub-Folder AGENTS.md Files\n\nFor EACH major package/directory, create detailed AGENTS.md:\n\n1. **Package Identity** (2-3 lines)\n2. **Setup & Run** (5-10 lines)\n3. **Patterns & Conventions** (10-20 lines) - MOST IMPORTANT\n4. **Touch Points / Key Files** (5-10 lines)\n5. **JIT Index Hints** (5-10 lines)\n6. **Common Gotchas** (3-5 lines)\n7. **Pre-PR Checks** (2-3 lines)\n\n**Key**: Section 3 (Patterns & Conventions) must include:\n-  DO: Pattern with file example\n-  DON'T: Anti-pattern with legacy file example\n- Real file paths from the codebase\n\n### Phase 4: Special Considerations\n\nAdapt templates for specific package types:\n- Design System / UI Package\n- Database / Data Layer\n- API / Backend Service\n- Testing Package\n\nSee [GENERATION_PROCESS.md](GENERATION_PROCESS.md) for specialized templates.\n\n## Quality Checklist\n\nBefore finalizing, verify:\n\n- [ ] Root AGENTS.md is under 200 lines\n- [ ] Root links to all sub-AGENTS.md files\n- [ ] Each sub-file has concrete examples (actual file paths)\n- [ ] Commands are copy-paste ready\n- [ ] No duplication between root and sub-files\n- [ ] JIT hints use actual codebase patterns\n- [ ] Every \" DO\" has a real file example\n- [ ] Every \" DON'T\" references real anti-pattern\n- [ ] Pre-PR checks are single copy-paste commands\n- [ ] All paths are relative and correct\n- [ ] Search commands tested and working\n\n## Output Format\n\nPresent files in this order:\n\n1. **Analysis Summary** (Phase 1 findings)\n2. **Root AGENTS.md** (complete, ready to copy)\n3. **Each Sub-Folder AGENTS.md** (one per package)\n\nFormat each file:\n```\n---\nFile: `AGENTS.md` (root)\n---\n[full content]\n\n---\nFile: `apps/web/AGENTS.md`\n---\n[full content]\n```\n\n## Common Patterns\n\n### Monorepo Structure\n```\nAGENTS.md                    # Root (lightweight)\napps/\n  web/AGENTS.md             # Frontend details\n  api/AGENTS.md             # Backend details\n  mobile/AGENTS.md          # Mobile details\npackages/\n  ui/AGENTS.md              # Design system details\n  shared/AGENTS.md          # Shared code details\nservices/\n  auth/AGENTS.md            # Auth service details\n```\n\n### Simple Project Structure\n```\nAGENTS.md                    # Root (can be more detailed)\nsrc/\n  components/AGENTS.md      # Component patterns\n  services/AGENTS.md        # Service patterns\n  utils/AGENTS.md           # Utility patterns\n```\n\n## Anti-Patterns to Avoid\n\n **Don't**: Include full file content in AGENTS.md\n **Do**: Reference file paths and provide search commands\n\n **Don't**: Duplicate guidance in root and sub-files\n **Do**: Keep root minimal, detail in sub-files\n\n **Don't**: Write vague examples (\"use best practices\")\n **Do**: Point to specific files (\"copy pattern from `src/components/Button.tsx`\")\n\n **Don't**: Create AGENTS.md for every directory\n **Do**: Only create for major packages/domains\n\n **Don't**: Use placeholder paths\n **Do**: Verify all paths exist in codebase\n\n## Example Workflow\n\n```bash\n# 1. Start analysis\nrg -l \"package.json\" --max-depth 3\n\n# 2. Identify structure\ntree -L 2 -d\n\n# 3. Check for existing patterns\nrg -n \"export.*Component\" apps/web/src --max-count 5\n\n# 4. Generate root AGENTS.md\n# (Use Phase 2 template)\n\n# 5. Generate sub-folder AGENTS.md\n# (Use Phase 3 template for each major package)\n\n# 6. Verify all paths\nfind . -name \"AGENTS.md\"\n```\n\n## Testing the Documentation\n\nAfter generation, validate:\n\n1. **Path accuracy**: All referenced files exist\n   ```bash\n   # Extract file paths from AGENTS.md and verify\n   rg -o '\\`[^`]+\\.(ts|tsx|js|jsx|md)\\`' AGENTS.md | while read path; do\n     [[ -f $path ]] || echo \"Missing: $path\"\n   done\n   ```\n\n2. **Command validity**: All search commands work\n   ```bash\n   # Test each rg/find command from AGENTS.md\n   ```\n\n3. **Link validity**: All AGENTS.md links resolve\n   ```bash\n   find . -name \"AGENTS.md\" -type f\n   ```\n\n## Integration with AI Agents\n\nAI agents should:\n1. Read AGENTS.md in current working directory first\n2. Traverse up to find root AGENTS.md if not found\n3. Follow JIT commands to discover files\n4. Use referenced file paths as examples\n5. Execute search commands when needed\n\n## Maintenance\n\nUpdate AGENTS.md when:\n- Adding new packages or major directories\n- Changing build/test commands\n- Establishing new conventions\n- Discovering new patterns or anti-patterns\n- Refactoring project structure\n\nKeep documentation synchronized with codebase evolution.\n\n## Related Resources\n\n- [generation-process.md](references/generation-process.md) - Complete step-by-step generation process with templates\n- Anthropic's Claude Code documentation on project context\n- Token optimization best practices\n\n**Skill Status**: ACTIVE \n**Line Count**: < 500 (following 500-line rule) \n**Progressive Disclosure**: Reference file for detailed process "
              },
              {
                "name": "init-agents-config",
                "description": "Generate .agents.yml config from user answers. Provides tech stack templates for Rails, Python, Node, and Generic projects.",
                "path": "plugins/majestic-engineer/skills/init-agents-config/SKILL.md",
                "frontmatter": {
                  "name": "init-agents-config",
                  "description": "Generate .agents.yml config from user answers. Provides tech stack templates for Rails, Python, Node, and Generic projects.",
                  "allowed-tools": "Read, Write"
                },
                "content": "# Init Agents Config\n\nAssemble `.agents.yml` from collected user answers during `/majestic:init`.\n\n## Resources\n\n| Resource | Purpose |\n|----------|---------|\n| `CONFIG_VERSION` | Current .agents.yml schema version |\n| `resources/rails.yaml` | Rails config template |\n| `resources/python.yaml` | Python config template |\n| `resources/node.yaml` | Node config template |\n| `resources/generic.yaml` | Generic config template |\n| `resources/agents-md-template.md` | AGENTS.md best practices |\n| `resources/local-config-template.yaml` | Local overrides template |\n\n## Template Selection by Tech Stack\n\n| Tech Stack | Template |\n|------------|----------|\n| Rails | `resources/rails.yaml` |\n| Python | `resources/python.yaml` |\n| Node | `resources/node.yaml` |\n| Generic | `resources/generic.yaml` |\n\n## Assembly Instructions\n\n1. Read the appropriate template based on detected `tech_stack`\n2. Replace placeholders with collected answers:\n   - `{{config_version}}` - Read from `CONFIG_VERSION` file\n   - `{{default_branch}}` - From git detection or user answer\n   - `{{owner_level}}` - beginner, intermediate, senior, expert\n   - `{{task_management}}` - github, linear, beads, file, none\n   - Stack-specific fields from user answers\n3. Conditionally include/exclude sections:\n   - Remove `extras:` section if no Solid gems selected (Rails)\n   - Remove `toolbox.build_task.design_system_path` if no design system detected\n   - Comment out `browser:` section unless user selected non-Chrome browser\n4. Write to `.agents.yml`\n\n## Conditional Sections\n\n### Quality Gate Reviewers\nEach stack has default reviewers. Include optional reviewers only if user enables them:\n- `dhh-code-reviewer` - Rails strict style\n- `data-integrity-reviewer` - Migration safety\n- `codex-reviewer` / `gemini-reviewer` - External LLM\n\n### Browser Config\nDefault is commented out (uses Chrome). Uncomment only if user selects Brave or Edge.\n\n### Extras (Rails only)\nInclude only Solid gems the user selected:\n- `solid_cache`\n- `solid_queue`\n- `solid_cable`\n\n## Output\n\nWrite generated config to `.agents.yml` in project root."
              },
              {
                "name": "mermaid-builder",
                "description": "Expert guidance for creating syntactically correct Mermaid diagrams. Use when creating flowcharts, sequence diagrams, class diagrams, state diagrams, Gantt charts, ER diagrams, or data lineage visualizations.",
                "path": "plugins/majestic-engineer/skills/mermaid-builder/SKILL.md",
                "frontmatter": {
                  "name": "mermaid-builder",
                  "description": "Expert guidance for creating syntactically correct Mermaid diagrams. Use when creating flowcharts, sequence diagrams, class diagrams, state diagrams, Gantt charts, ER diagrams, or data lineage visualizations.",
                  "allowed-tools": "Read, Write, Edit, MultiEdit, Grep, Glob, Bash, WebSearch, WebFetch"
                },
                "content": "# Mermaid Builder\n\n## Core Philosophy\n\n- **Correctness**: Follow Mermaid syntax rules strictly\n- **Clarity**: Diagrams communicate complex ideas simply\n- **Simplicity**: Avoid overloading with unnecessary detail\n- **Modularity**: Break complex diagrams into subgraphs\n\n## Critical: Label Quoting Rule\n\n**RULE: Wrap labels in double quotes if they contain spaces, special characters, or punctuation.**\n\n```mermaid\n%% CORRECT - labels with spaces quoted\nflowchart LR\n    A[\"User Login\"] --> B[\"Process Request\"]\n    C[\"Pay $100?\"] --> D[\"Confirm (Yes/No)\"]\n\n%% WRONG - will fail to render\nflowchart LR\n    A[User Login] --> B[Process Request]\n```\n\n**Must quote:** Spaces, special chars (`$%&`), punctuation (`:,;`), operators (`()[]`)\n**Optional:** Simple alphanumeric (`Login`, `Process`, `Node1`)\n\n**When in doubt, use quotes. It never hurts.**\n\n## Quick Reference\n\n### Flowchart Shapes\n\n| Syntax | Shape |\n|--------|-------|\n| `[\"Text\"]` | Rectangle |\n| `(\"Text\")` | Rounded |\n| `{\"Text\"}` | Diamond (decision) |\n| `[(\"Text\")]` | Cylinder (database) |\n| `((\"Text\"))` | Circle |\n\n### Arrow Types\n\n| Syntax | Type |\n|--------|------|\n| `-->` | Solid arrow |\n| `---` | Solid line |\n| `-.->` | Dotted arrow |\n| `==>` | Thick arrow |\n| `-->|Label|` | Arrow with label |\n\n### Diagram Types\n\n| Type | Declaration | Use Case |\n|------|-------------|----------|\n| Flowchart | `flowchart TD` | Processes, workflows, decisions |\n| Sequence | `sequenceDiagram` | Component interactions, API flows |\n| Class | `classDiagram` | OOP structure, models |\n| State | `stateDiagram-v2` | State transitions |\n| Gantt | `gantt` | Timelines, scheduling |\n| ER | `erDiagram` | Database schema |\n| Pie | `pie` | Proportional data |\n\n**Directions:** `TB`/`TD` (top-down), `BT` (bottom-up), `LR` (left-right), `RL` (right-left)\n\nSee [resources/diagram-examples.md](resources/diagram-examples.md) for complete examples of each diagram type.\n\n## Minimal Examples\n\n### Flowchart\n\n```mermaid\nflowchart TD\n    Start[\"Start\"] --> Check{Valid?}\n    Check -->|Yes| Process[\"Process\"]\n    Check -->|No| Error[\"Error\"]\n    Process --> End[\"End\"]\n```\n\n### Sequence\n\n```mermaid\nsequenceDiagram\n    Client->>Server: Request\n    Server-->>Client: Response\n```\n\n### ER Diagram\n\n```mermaid\nerDiagram\n    USER ||--o{ ORDER : \"places\"\n    USER { int id PK string email }\n    ORDER { int id PK int user_id FK }\n```\n\n## Subgraphs for Organization\n\n```mermaid\nflowchart TD\n    subgraph \"Frontend\"\n        A[\"UI\"]\n    end\n    subgraph \"Backend\"\n        B[\"API\"]\n        C[(\"DB\")]\n    end\n    A --> B --> C\n```\n\n## Styling\n\n```mermaid\nflowchart TD\n    A[\"Success\"] --> B[\"Error\"]\n\n    classDef successStyle fill:#C8E6C9,stroke:#388E3C\n    classDef errorStyle fill:#FFCDD2,stroke:#D32F2F\n\n    class A successStyle\n    class B errorStyle\n```\n\n## Common Errors to Avoid\n\n| Error | Wrong | Correct |\n|-------|-------|---------|\n| Unquoted spaces | `A[User Login]` | `A[\"User Login\"]` |\n| Invalid arrow | `A -> B` | `A --> B` |\n| Unquoted special | `A[Cost: $100]` | `A[\"Cost: $100\"]` |\n| Missing bracket | `A[\"Node --> B` | `A[\"Node\"] --> B` |\n\n## Validation Checklist\n\n- [ ] Labels with spaces are quoted\n- [ ] Labels with special characters quoted\n- [ ] Brackets properly matched\n- [ ] Arrow syntax correct (`-->` not `->`)\n- [ ] Node IDs unique and meaningful\n- [ ] Comments explain complex sections\n- [ ] Previewed without errors\n\n## Data Lineage Patterns\n\nSee [resources/data-lineage.md](resources/data-lineage.md) for:\n- ETL pipeline patterns\n- Multi-layer data architecture\n- Cross-system data flows\n- Database schema lineage\n- Streaming data lineage\n- Column-level lineage\n\n## Resources\n\n- [Mermaid Docs](https://mermaid.js.org/)\n- [Live Editor](https://mermaid.live/)\n- [Syntax Reference](https://mermaid.js.org/intro/syntax-reference.html)\n\n---\n\n**Remember: The quoting rule is the #1 cause of Mermaid rendering failures. When in doubt, quote it.**"
              },
              {
                "name": "plan-builder",
                "description": "Write implementation plans with appropriate templates based on complexity. Provides minimal, standard, and comprehensive templates for different scope levels.",
                "path": "plugins/majestic-engineer/skills/plan-builder/SKILL.md",
                "frontmatter": {
                  "name": "plan-builder",
                  "description": "Write implementation plans with appropriate templates based on complexity. Provides minimal, standard, and comprehensive templates for different scope levels.",
                  "allowed-tools": "Read, Write, Edit"
                },
                "content": "# Plan Builder\n\nWrite implementation plans using the appropriate template based on complexity.\n\n## Template Selection\n\n| Complexity | When to Use | Template |\n|------------|-------------|----------|\n| **Minimal** | Simple bugs, small improvements, clear single-file changes | `resources/minimal.md` |\n| **Standard** | Most features, complex bugs, team collaboration | `resources/standard.md` |\n| **Comprehensive** | Major features, architectural changes, multi-phase work | `resources/comprehensive.md` |\n\n## Selection Criteria\n\n### Use Minimal When\n- Fix is obvious and localized\n- Single file or 2-3 related files\n- No architectural decisions needed\n- Clear acceptance criteria from description\n\n### Use Standard When (Default)\n- Multiple components affected\n- Requires research or external docs\n- Team needs context for review\n- Has dependencies or risks\n\n### Use Comprehensive When\n- New system or major feature\n- Multiple phases of work\n- Architectural decisions required\n- Cross-cutting concerns (security, performance)\n- Involves multiple teams or stakeholders\n\n## Plan Output\n\nWrite plans to: `docs/plans/[YYYYMMDDHHMMSS]_<title>.md`\n\nInclude in every plan:\n- Research findings with file paths (e.g., `src/models/user.rb:42`)\n- External documentation URLs\n- Related issues/PRs if known\n- **Acceptance Criteria** from user input (populated from blueprint Step 2)\n\n## Conditional Sections\n\n### UI Features\nInclude \"Design System Reference\" section when feature involves:\n- Pages, components, forms, buttons, modals\n- Visual design elements\n\n### DevOps Features\nInclude \"Infrastructure Context\" section when feature involves:\n- Terraform/OpenTofu, Ansible, cloud resources\n- Docker, CI/CD, infrastructure\n\n## Anti-Patterns\n\n| Don't | Do |\n|-------|-----|\n| Use comprehensive for simple bugs | Match template to actual complexity |\n| Skip Acceptance Criteria | Always include testable criteria |\n| Leave placeholder text | Fill all sections or remove them |\n| Over-plan obvious changes | Minimal template exists for a reason |"
              },
              {
                "name": "pr-screenshot-docs",
                "description": "Capture and document UI changes with before/after screenshots for pull requests. Use when creating PRs that include visual changes to ensure reviewers can assess design modifications.",
                "path": "plugins/majestic-engineer/skills/pr-screenshot-docs/SKILL.md",
                "frontmatter": {
                  "name": "pr-screenshot-docs",
                  "description": "Capture and document UI changes with before/after screenshots for pull requests. Use when creating PRs that include visual changes to ensure reviewers can assess design modifications."
                },
                "content": "# PR Screenshot Documentation\n\nGuidance for capturing and documenting UI changes with before/after screenshots when creating pull requests.\n\n## When to Use This Skill\n\n- Creating PRs with frontend/UI modifications\n- Documenting visual changes for code review\n- Building a visual record of design evolution\n- Enabling async design review without running the app\n\n## Screenshot Workflow\n\n### 1. Before Making Changes\n\nCapture the current state before implementing UI modifications:\n\n```\n1. browser_resize(width: 320, height: 568)  # Mobile-first\n2. browser_navigate to the target page\n3. browser_snapshot to identify elements\n4. browser_take_screenshot(element: \"Target component\", ref: \"E123\")\n```\n\nSave or note the screenshot for later comparison.\n\n### 2. After Implementing Changes\n\nCapture the same view after your modifications:\n\n```\n1. Refresh or navigate to the updated page\n2. browser_snapshot to get updated refs\n3. browser_take_screenshot(element: \"Target component\", ref: \"E123\")\n```\n\n### 3. Upload Screenshots (Optional)\n\nFor persistent URLs in PR descriptions, upload to an image hosting service:\n\n```bash\n# Using curl with 0x0.st (ephemeral hosting)\ncurl -F 'file=@screenshot.png' https://0x0.st\n\n# Or use project-specific image storage\n```\n\n**Note:** 0x0.st URLs expire. For permanent records, use GitHub's drag-and-drop image upload in PR descriptions or project documentation storage.\n\n## PR Description Template\n\nInclude a visual comparison section in your PR description:\n\n```markdown\n## Visual Changes\n\n| Before | After |\n|--------|-------|\n| ![Before](url-or-path) | ![After](url-or-path) |\n\n### What Changed\n- [Specific visual change 1]\n- [Specific visual change 2]\n```\n\n## Viewport Recommendations\n\nChoose viewport size based on what you're documenting:\n\n| Target | Width | Height | Use Case |\n|--------|-------|--------|----------|\n| Mobile | 320 | 568 | Mobile-first responsive |\n| Tablet | 768 | 1024 | Tablet layouts |\n| Desktop | 1280 | 800 | Standard desktop |\n| Wide | 1440 | 900 | Wide desktop layouts |\n\n**Default to mobile (320px)** for documentation - if it looks good on mobile, it usually scales up well.\n\n## Best Practices\n\n### Capture Strategy\n\n- **Focus on the changed component** - don't capture full pages unless layout changed\n- **Use consistent viewports** - same size for before and after\n- **Capture interactive states** - hover, focus, active when relevant\n- **Include error states** - if you changed error handling UI\n\n### Documentation Quality\n\n- **Describe what changed** - don't make reviewers guess\n- **Explain why** - connect visual changes to user benefit\n- **Note accessibility** - mention contrast, focus indicators if relevant\n\n### When NOT to Capture\n\n- Pure backend changes with no UI impact\n- Code refactoring without visual changes\n- Test-only changes\n- Configuration updates\n\n## Integration with PR Workflow\n\nThis skill complements the `/majestic-engineer:git:create-pr` command. Before creating a PR with UI changes:\n\n1. Take before screenshots (if you didn't already)\n2. Implement your changes\n3. Take after screenshots\n4. Include comparison in PR description\n5. Run the create-pr command\n\n## Example PR Section\n\n```markdown\n## Visual Changes\n\n| Before | After |\n|--------|-------|\n| ![Before - Button styling](./docs/screenshots/button-before.png) | ![After - Button styling](./docs/screenshots/button-after.png) |\n\n### Changes Made\n- Increased button padding from 8px to 12px for better touch targets\n- Added subtle shadow for depth\n- Improved contrast ratio from 3.5:1 to 4.8:1 (now WCAG AA compliant)\n\n### Tested Viewports\n- [x] Mobile (320px)\n- [x] Tablet (768px)\n- [x] Desktop (1280px)\n```\n\n## Related Tools\n\n- `visual-validator` agent - For rigorous visual QA after changes\n- `ui-ux-designer` agent - For iterative design refinement"
              },
              {
                "name": "research-compound",
                "description": "Automatically check and update folder-specific AGENTS.md during research. Before investigating a domain, read nearest AGENTS.md for existing context. After discovering valuable patterns, append learnings to that file.",
                "path": "plugins/majestic-engineer/skills/research-compound/SKILL.md",
                "frontmatter": {
                  "name": "research-compound",
                  "description": "Automatically check and update folder-specific AGENTS.md during research. Before investigating a domain, read nearest AGENTS.md for existing context. After discovering valuable patterns, append learnings to that file.",
                  "allowed-tools": [
                    "Read",
                    "Edit",
                    "Glob"
                  ]
                },
                "content": "# Research Compound\n\nCompound learnings into folder-specific AGENTS.md files during research work.\n\n## Trigger Conditions\n\nActivate this behavior when:\n- Investigating a specific domain (jobs, models, services, controllers, etc.)\n- Using research agents (repo-analyst, docs-researcher, etc.)\n- Reading multiple files in the same folder hierarchy\n- User asks to \"understand\", \"investigate\", or \"research\" a subsystem\n\n## Pre-Research: Check Existing Context\n\n**Before diving into code**, find and read the nearest AGENTS.md:\n\n```bash\n# From target folder, traverse up to find nearest AGENTS.md\n# Example: researching app/jobs/cash_app/\n# Check: app/jobs/cash_app/AGENTS.md\n#        app/jobs/AGENTS.md\n#        app/AGENTS.md\n#        AGENTS.md (root)\n```\n\n### What to Extract\n\nFrom existing AGENTS.md, note:\n- Known patterns and conventions\n- Documented gotchas\n- File organization rules\n- Testing approaches\n- Previous learnings (avoid re-discovering)\n\n### Pre-Research Output\n\nBriefly acknowledge:\n```\nFound existing context in app/jobs/AGENTS.md:\n- Jobs use Sidekiq with retry configuration\n- Naming: *Job suffix required\n- Testing: Use perform_inline in specs\n```\n\n## Post-Research: Evaluate Learnings\n\nAfter research, evaluate each discovery:\n\n### Worth Recording (YES)\n\n| Criteria | Example |\n|----------|---------|\n| Applies to multiple files in domain | \"All jobs inherit from ApplicationJob\" |\n| Non-obvious convention | \"Jobs must call `super` before custom logic\" |\n| Gotcha that caused confusion | \"CashApp jobs require merchant_id, not user_id\" |\n| Integration pattern | \"Jobs trigger webhooks via WebhookService\" |\n| Testing insight | \"Use `freeze_time` for scheduled job specs\" |\n\n### Skip Recording (NO)\n\n| Criteria | Example |\n|----------|---------|\n| One-off implementation detail | \"ProcessPaymentJob has 3 retries\" |\n| Already documented | Pattern exists in AGENTS.md |\n| Too specific to single file | \"Line 42 has a TODO\" |\n| Obvious from code | \"Job processes payments\" |\n\n## Update Protocol\n\n### Step 1: Locate Target AGENTS.md\n\nUse **nearest-wins** hierarchy:\n1. If `{domain}/AGENTS.md` exists  update it\n2. If not, check parent folder\n3. If no AGENTS.md in hierarchy  create at domain level\n\n```bash\n# Find existing AGENTS.md files\nfind . -name \"AGENTS.md\" -type f | head -20\n```\n\n### Step 2: Determine Section\n\nMap learning type to section:\n\n| Learning Type | Target Section |\n|---------------|----------------|\n| Pattern/Convention | `## Patterns` or `## Conventions` |\n| Gotcha/Warning | `## Gotchas` or `## Common Issues` |\n| File organization | `## Structure` |\n| Testing approach | `## Testing` |\n| Integration point | `## Integration` or `## Dependencies` |\n\nIf section doesn't exist, create it.\n\n### Step 3: Format the Learning\n\n```markdown\n- **[Short title]**: [Concrete description]\n  - Example: `path/to/example.rb:42`\n```\n\nKeep entries:\n- Single bullet point (1-2 lines)\n- Concrete, not vague\n- With file reference when applicable\n\n### Step 4: Append (Don't Replace)\n\nUse Edit tool to append to appropriate section:\n\n```markdown\n## Gotchas\n\n- **Existing gotcha**: Description\n- **NEW: Merchant ID required**: CashApp jobs use `merchant_id`, not `user_id`\n  - Example: `app/jobs/cash_app/process_payment_job.rb:15`\n```\n\n## Creating New AGENTS.md\n\nIf no AGENTS.md exists in the domain hierarchy, create one:\n\n```markdown\n# {Domain Name}\n\n## Purpose\n\n{One-line description of this domain}\n\n## Patterns\n\n- **Pattern name**: Description\n  - Example: `path/to/file.rb`\n\n## Gotchas\n\n- **Gotcha name**: Description\n\n## Testing\n\n- **Testing approach**: Description\n```\n\n### Placement Rules\n\n| Domain Depth | Create At |\n|--------------|-----------|\n| `app/jobs/` | `app/jobs/AGENTS.md` |\n| `app/jobs/cash_app/` | `app/jobs/cash_app/AGENTS.md` (if 3+ files) |\n| `app/services/payments/` | `app/services/payments/AGENTS.md` |\n\nOnly create subfolder AGENTS.md if:\n- 3+ files in that specific folder\n- Distinct patterns from parent domain\n- Significant complexity warranting isolation\n\n## Examples\n\n### Example 1: Pre-Research Check\n\n```\nUser: \"Investigate how background jobs work in this app\"\n\nClaude:\n1. Target domain: app/jobs/\n2. Check for AGENTS.md...\n   - Found: app/jobs/AGENTS.md\n3. Read existing context:\n   \"Jobs use Sidekiq, ApplicationJob base class, *Job suffix\"\n4. Proceed with research, avoiding re-discovery of known patterns\n```\n\n### Example 2: Post-Research Update\n\n```\nAfter researching app/jobs/cash_app/:\n\nDiscovered:\n- CashApp jobs require merchant_id (not user_id)  WORTH RECORDING\n- ProcessPaymentJob has 3 retries  SKIP (too specific)\n- All CashApp jobs log to separate channel  WORTH RECORDING\n\nUpdate app/jobs/cash_app/AGENTS.md:\n## Gotchas\n+ - **Merchant ID required**: Use `merchant_id`, not `user_id` for CashApp jobs\n+   - Example: `app/jobs/cash_app/process_payment_job.rb:15`\n\n## Patterns\n+ - **Separate logging**: CashApp jobs use `CashAppLogger` channel\n+   - Example: `app/jobs/cash_app/base_job.rb:8`\n```\n\n### Example 3: Creating New AGENTS.md\n\n```\nResearching app/services/webhooks/ (no existing AGENTS.md)\n\nAfter research, create app/services/webhooks/AGENTS.md:\n\n# Webhooks\n\n## Purpose\n\nOutbound webhook delivery and retry management.\n\n## Patterns\n\n- **Delivery service**: All webhooks go through `WebhookDeliveryService`\n  - Example: `app/services/webhooks/delivery_service.rb`\n- **Payload builders**: Each event type has a `*PayloadBuilder`\n  - Example: `app/services/webhooks/payment_payload_builder.rb`\n\n## Gotchas\n\n- **Idempotency required**: Webhooks may retry; receivers must handle duplicates\n- **Timeout**: 30-second timeout on delivery attempts\n```\n\n## Quality Checks\n\nBefore updating AGENTS.md, verify:\n\n- [ ] Learning is generalizable (applies beyond single file)\n- [ ] Not already documented\n- [ ] Concrete enough to act on\n- [ ] Has file reference for examples\n- [ ] Matches existing AGENTS.md style/structure\n\n## Anti-Patterns\n\n| Don't | Do Instead |\n|-------|------------|\n| Dump all findings into AGENTS.md | Filter for generalizable patterns only |\n| Create AGENTS.md for every folder | Only domains with distinct patterns |\n| Write paragraphs | Single bullet points with examples |\n| Duplicate root-level guidance | Only domain-specific additions |\n| Update on every file read | Batch updates at research completion |"
              },
              {
                "name": "subagent-driven-development",
                "description": "Use when executing implementation plans with independent tasks in the current session - dispatches fresh subagent for each task with code review between tasks, enabling fast iteration with quality gates",
                "path": "plugins/majestic-engineer/skills/subagent-driven-development/SKILL.md",
                "frontmatter": {
                  "name": "subagent-driven-development",
                  "description": "Use when executing implementation plans with independent tasks in the current session - dispatches fresh subagent for each task with code review between tasks, enabling fast iteration with quality gates"
                },
                "content": "# Subagent-Driven Development\n\nExecute plan by dispatching fresh subagent per task, with code review after each.\n\n**Core principle:** Fresh subagent per task + review between tasks = high quality, fast iteration\n\n## Overview\n\n**vs. Executing Plans (parallel session):**\n- Same session (no context switch)\n- Fresh subagent per task (no context pollution)\n- Code review after each task (catch issues early)\n- Faster iteration (no human-in-loop between tasks)\n\n**When to use:**\n- Staying in this session\n- Tasks are mostly independent\n- Want continuous progress with quality gates\n\n**When NOT to use:**\n- Need to review plan first (use executing-plans)\n- Tasks are tightly coupled (manual execution better)\n- Plan needs revision (brainstorm first)\n\n## The Process\n\n### 1. Load Plan\n\nRead plan file, create TodoWrite with all tasks.\n\n### 2. Execute Task with Subagent\n\nFor each task:\n\n**Dispatch fresh subagent:**\n```\nTask tool (general-purpose):\n  description: \"Implement Task N: [task name]\"\n  prompt: |\n    You are implementing Task N from [plan-file].\n\n    Read that task carefully. Your job is to:\n    1. Implement exactly what the task specifies\n    2. Write tests (following TDD if task says to)\n    3. Verify implementation works\n    4. Commit your work\n    5. Report back\n\n    Work from: [directory]\n\n    Report: What you implemented, what you tested, test results, files changed, any issues\n```\n\n**Subagent reports back** with summary of work.\n\n### 3. Review Subagent's Work\n\n**Dispatch code-reviewer subagent:**\n```\nTask tool (superpowers:code-reviewer):\n  Use template at requesting-code-review/code-reviewer.md\n\n  WHAT_WAS_IMPLEMENTED: [from subagent's report]\n  PLAN_OR_REQUIREMENTS: Task N from [plan-file]\n  BASE_SHA: [commit before task]\n  HEAD_SHA: [current commit]\n  DESCRIPTION: [task summary]\n```\n\n**Code reviewer returns:** Strengths, Issues (Critical/Important/Minor), Assessment\n\n### 4. Apply Review Feedback\n\n**If issues found:**\n- Fix Critical issues immediately\n- Fix Important issues before next task\n- Note Minor issues\n\n**Dispatch follow-up subagent if needed:**\n```\n\"Fix issues from code review: [list issues]\"\n```\n\n### 5. Mark Complete, Next Task\n\n- Mark task as completed in TodoWrite\n- Move to next task\n- Repeat steps 2-5\n\n### 6. Final Review\n\nAfter all tasks complete, dispatch final code-reviewer:\n- Reviews entire implementation\n- Checks all plan requirements met\n- Validates overall architecture\n\n### 7. Complete Development\n\nAfter final review passes:\n- Announce: \"I'm using the finishing-a-development-branch skill to complete this work.\"\n- **Required sub-skill:** Use superpowers:finishing-a-development-branch\n- Follow that skill to verify tests, present options, execute choice\n\n## Example Workflow\n\n```\nYou: I'm using Subagent-Driven Development to execute this plan.\n\n[Load plan, create TodoWrite]\n\nTask 1: Hook installation script\n\n[Dispatch implementation subagent]\nSubagent: Implemented install-hook with tests, 5/5 passing\n\n[Get git SHAs, dispatch code-reviewer]\nReviewer: Strengths: Good test coverage. Issues: None. Ready.\n\n[Mark Task 1 complete]\n\nTask 2: Recovery modes\n\n[Dispatch implementation subagent]\nSubagent: Added verify/repair, 8/8 tests passing\n\n[Dispatch code-reviewer]\nReviewer: Strengths: Solid. Issues (Important): Missing progress reporting\n\n[Dispatch fix subagent]\nFix subagent: Added progress every 100 conversations\n\n[Verify fix, mark Task 2 complete]\n\n...\n\n[After all tasks]\n[Dispatch final code-reviewer]\nFinal reviewer: All requirements met, ready to merge\n\nDone!\n```\n\n## Advantages\n\n**vs. Manual execution:**\n- Subagents follow TDD naturally\n- Fresh context per task (no confusion)\n- Parallel-safe (subagents don't interfere)\n\n**vs. Executing Plans:**\n- Same session (no handoff)\n- Continuous progress (no waiting)\n- Review checkpoints automatic\n\n**Cost:**\n- More subagent invocations\n- But catches issues early (cheaper than debugging later)\n\n## Red Flags\n\n**Never:**\n- Skip code review between tasks\n- Proceed with unfixed Critical issues\n- Dispatch multiple implementation subagents in parallel (conflicts)\n- Implement without reading plan task\n\n**If subagent fails task:**\n- Dispatch fix subagent with specific instructions\n- Don't try to fix manually (context pollution)\n\n## Integration\n\n**Required workflow skills:**\n- **writing-plans** - Required: Creates the plan that this skill executes\n- **requesting-code-review** - Required: Review after each task (see Step 3)\n- **finishing-a-development-branch** - Required: Complete development after all tasks (see Step 7)\n\n**Subagents must use:**\n- **test-driven-development** - Subagents follow TDD for each task\n\n**Alternative workflow:**\n- **executing-plans** - Use for parallel session instead of same-session execution\n\nSee code-reviewer template: requesting-code-review/code-reviewer.md"
              },
              {
                "name": "tdd-workflow",
                "description": "This skill implements test-driven development workflow using the red-green-refactor cycle. Use when building new features or fixing bugs that require test coverage. Framework-agnostic methodology that works with any testing framework and programming language. Triggers on requests to implement features using TDD, write tests first, or follow test-driven development practices.",
                "path": "plugins/majestic-engineer/skills/tdd-workflow/SKILL.md",
                "frontmatter": {
                  "name": "tdd-workflow",
                  "description": "This skill implements test-driven development workflow using the red-green-refactor cycle. Use when building new features or fixing bugs that require test coverage. Framework-agnostic methodology that works with any testing framework and programming language. Triggers on requests to implement features using TDD, write tests first, or follow test-driven development practices."
                },
                "content": "# TDD Workflow\n\n## Overview\n\nThis skill guides the implementation of features using Test-Driven Development (TDD) principles. TDD is a disciplined, framework-agnostic approach where tests are written before implementation code, ensuring comprehensive test coverage and driving clean, testable design.\n\n## Core Principle\n\n**Never write implementation code before a failing test exists for that behavior.**\n\n## Red-Green-Refactor Cycle\n\n### 1. Red Phase: Write a Failing Test\n\n**Goal:** Express the expected behavior through a test that fails.\n\n**Process:**\n- Select one small, specific behavior from the requirements\n- Write a descriptive test that clearly expresses the expected behavior\n- Run the test to confirm it **fails** (red)\n- The failure should be for the right reason (not a syntax error or missing dependency)\n\n**Why it must fail first:** A test that passes before any implementation is written might be testing the wrong thing or not actually exercising the code.\n\n### 2. Green Phase: Minimal Implementation\n\n**Goal:** Make the test pass with the simplest possible implementation.\n\n**Process:**\n- Implement only the minimal code necessary to pass the failing test\n- Resist the urge to add extra features or handle edge cases not yet covered by tests\n- Focus on making it work, not making it perfect\n- Run the test to confirm it **passes** (green)\n\n**Key principle:** Write the simplest code that could possibly work. Even hardcoding values is acceptable if it makes the current test pass - subsequent tests will force generalization.\n\n### 3. Refactor Phase: Improve Quality\n\n**Goal:** Improve code quality while maintaining passing tests.\n\n**Process:**\n- Review both implementation and test code for improvements\n- Remove duplication (DRY principle)\n- Improve naming and clarity\n- Extract methods or classes if responsibilities are growing\n- Apply language-specific idioms and patterns\n- Ensure tests remain readable and maintainable\n- Run tests after each refactoring step to ensure they still **pass**\n\n**Safety net:** Tests provide confidence that refactoring doesn't break functionality.\n\n## Workflow Decision Tree\n\n**Starting a new feature or bug fix:**\n1. Understand requirements and identify testable behaviors\n2. Break down into small, independent behaviors\n3. Prioritize behaviors from simple to complex\n4. Enter Red-Green-Refactor cycle for each behavior\n\n**For each behavior:**\n1. **Red:** Write failing test  Confirm failure\n2. **Green:** Minimal implementation  Confirm pass\n3. **Refactor:** Improve code  Confirm still passing\n4. Repeat for next behavior\n\n**When all behaviors are complete:**\n1. Run full test suite\n2. Verify all requirements are met\n3. Review code organization and naming\n4. Clean up any debugging code or commented-out code\n5. Commit in small, meaningful commits\n\n## Test Sequencing Strategy\n\n**Order tests from simple to complex:**\n\n1. **Happy path** - The core behavior with valid inputs\n   - Start here to establish the foundation\n   - Example: \"User can successfully log in with valid credentials\"\n\n2. **Validation tests** - Required fields, format constraints\n   - Example: \"Email must be present\", \"Password must be at least 8 characters\"\n\n3. **Edge cases** - Boundary conditions, empty values, unusual inputs\n   - Example: \"Handles empty string\", \"Handles maximum length input\"\n\n4. **Error handling** - Invalid inputs, failure scenarios\n   - Example: \"Returns error for invalid email format\", \"Handles network timeout\"\n\n5. **Integration points** - Interactions with other components\n   - Example: \"Sends welcome email after registration\", \"Updates user profile in database\"\n\n## Test Quality Guidelines\n\n**Each test should:**\n- **Cover exactly one behavior** - If a test name includes \"and\", it might be testing multiple things\n- **Be isolated** - Tests should not depend on each other or share state\n- **Have a clear, descriptive name** - Should explain what behavior is being tested\n- **Be easy to read** - Test code should be even clearer than production code\n- **Fail for only one reason** - When a test fails, it should be obvious why\n\n**Avoid:**\n- Testing implementation details instead of behavior\n- Writing tests after the code (not TDD)\n- Making tests too broad or too narrow\n- Sharing test setup that creates hidden dependencies\n- Skipping the refactor phase\n\n## When to Use TDD\n\n**Ideal for:**\n- New feature development\n- Bug fixes (write test that reproduces the bug first)\n- Refactoring existing code (write characterization tests first)\n- Complex business logic\n- Code that will be maintained long-term\n\n**May skip for:**\n- Quick prototypes or proof-of-concepts\n- Simple glue code\n- UI layout and styling (consider other testing approaches)\n- Well-understood, trivial implementations\n\n## Benefits of TDD\n\n- **Comprehensive test coverage** - Every line of code has a corresponding test\n- **Better design** - Writing tests first forces consideration of interfaces and dependencies\n- **Documentation** - Tests serve as executable specifications\n- **Confidence to refactor** - Tests provide safety net for improvements\n- **Fewer bugs** - Issues are caught during development, not production\n- **Faster debugging** - When tests fail, the problem is in recently written code\n\n## Framework-Specific Implementation\n\nThis skill provides the framework-agnostic TDD workflow. For framework-specific implementation details, use the appropriate testing skill for your project:\n\n- **RSpec (Ruby):** Use the `rspec-coder` skill for RSpec syntax and patterns\n- **Minitest (Ruby):** Use the `minitest-coder` skill for Minitest syntax and patterns\n- **Other frameworks:** Consult framework-specific documentation or skills\n\n## Example Reference\n\nA Ruby on Rails example implementation is available in `references/rails-tdd-workflow.md` to illustrate how these principles apply in a specific framework, but the TDD workflow itself remains the same across all languages and frameworks."
              },
              {
                "name": "ux-brief",
                "description": "Design system templates and patterns for UI/UX briefs. Used by /majestic:ux-brief command.",
                "path": "plugins/majestic-engineer/skills/ux-brief/SKILL.md",
                "frontmatter": {
                  "name": "ux-brief",
                  "description": "Design system templates and patterns for UI/UX briefs. Used by /majestic:ux-brief command."
                },
                "content": "# UX Brief Skill\n\nProvides design system templates and patterns for creating comprehensive UI/UX briefs.\n\n## When to Use\n\nThis skill is automatically invoked by the `/majestic:ux-brief` command. It provides:\n\n- Design system template structure\n- Color, typography, and spacing specifications\n- Component state definitions\n- Framework configuration examples\n\n## Template\n\nRead the design system template: [resources/design-system-template.md](resources/design-system-template.md)\n\n## Key Principles\n\n- **Junior-dev ready**: Document should be so complete that no follow-up questions are needed\n- **Copy-paste ready**: All classes, values, and configs should be directly usable\n- **Commit to a direction**: Avoid wishy-washy \"a bit of everything\" designs\n- **Avoid AI slop**: No Inter font, no purple gradients, no predictable layouts"
              }
            ]
          },
          {
            "name": "majestic-rails",
            "description": "Ruby on Rails development tools. Includes 11 specialized agents, 3 commands, 26 skills, enhanced toolbox with 6 research hooks, and LSP support.",
            "source": "./plugins/majestic-rails",
            "category": null,
            "version": "3.12.4",
            "author": {
              "name": "David Paluy",
              "url": "https://github.com/dpaluy",
              "email": "marketplace@it.majesticlabs.dev"
            },
            "install_commands": [
              "/plugin marketplace add majesticlabs-dev/majestic-marketplace",
              "/plugin install majestic-rails@majestic-marketplace"
            ],
            "signals": {
              "stars": 16,
              "forks": 1,
              "pushed_at": "2026-01-12T22:29:39Z",
              "created_at": "2025-11-26T21:43:21Z",
              "license": "NOASSERTION"
            },
            "commands": [],
            "skills": [
              {
                "name": "action-mailer-coder",
                "description": "Use when creating or refactoring Action Mailer emails. Applies Rails 7.1+ conventions, parameterized mailers, preview workflows, background delivery, and email design best practices.",
                "path": "plugins/majestic-rails/skills/action-mailer-coder/SKILL.md",
                "frontmatter": {
                  "name": "action-mailer-coder",
                  "description": "Use when creating or refactoring Action Mailer emails. Applies Rails 7.1+ conventions, parameterized mailers, preview workflows, background delivery, and email design best practices.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash"
                },
                "content": "# Action Mailer Coder\n\nYou are a senior Rails developer specializing in email delivery architecture.\n\n## Mailer Design Principles\n\n### Group Related Emails\n\n```ruby\nclass NotificationMailer < ApplicationMailer\n  def comment_reply(user, comment)\n    @user = user\n    @comment = comment\n    mail(to: @user.email, subject: \"New reply to your comment\")\n  end\n\n  def mentioned(user, mention)\n    @user = user\n    @mention = mention\n    mail(to: @user.email, subject: \"You were mentioned\")\n  end\nend\n```\n\n### Parameterized Mailers\n\n```ruby\nclass NotificationMailer < ApplicationMailer\n  before_action { @user = params.fetch(:user) }\n  before_action { @account = params.fetch(:account) }\n\n  def comment_reply\n    @comment = params.fetch(:comment)\n    mail(to: @user.email, subject: \"New reply on #{@account.name}\")\n  end\nend\n\n# Calling the mailer\nNotificationMailer.with(user: user, account: account, comment: comment).comment_reply.deliver_later\n```\n\n### Dynamic Defaults with Inheritance\n\n```ruby\nclass AccountMailer < ApplicationMailer\n  default from: -> { build_from_address }\n  before_action { @account = params.fetch(:account) }\n\n  private\n\n  def build_from_address\n    @account.custom_email_sender? ?\n      email_address_with_name(@account.custom_email_address, @account.custom_email_name) :\n      email_address_with_name(\"hello@example.com\", @account.name)\n  end\nend\n```\n\n## Background Delivery\n\n```ruby\nUserMailer.with(user: user).welcome.deliver_later                    # Immediate queue\nUserMailer.with(user: user).welcome.deliver_later(wait: 1.hour)      # Delayed\nUserMailer.with(user: user).digest.deliver_later(wait_until: Date.tomorrow.morning)  # Scheduled\n```\n\n## Email Previews\n\n```ruby\n# test/mailers/previews/notification_mailer_preview.rb\nclass NotificationMailerPreview < ActionMailer::Preview\n  def comment_reply\n    NotificationMailer.with(\n      user: User.first,\n      account: Account.first,\n      comment: Comment.first\n    ).comment_reply\n  end\nend\n```\n\nAccess at: `http://localhost:3000/rails/mailers`\n\n## Internationalization\n\n```ruby\ndef welcome\n  @user = params.fetch(:user)\n  I18n.with_locale(@user.locale) do\n    mail(to: @user.email, subject: t(\".subject\", name: @user.name))\n  end\nend\n```\n\n## Attachments\n\n```ruby\ndef invoice(order)\n  attachments.inline[\"logo.png\"] = File.read(\"app/assets/images/logo.png\")\n  attachments[\"invoice.pdf\"] = generate_pdf(order)\n  mail(to: order.email, subject: \"Your Invoice ##{order.number}\")\nend\n```\n\n## Testing (RSpec)\n\n```ruby\nRSpec.describe NotificationMailer, type: :mailer do\n  describe \"#comment_reply\" do\n    let(:mail) { described_class.with(user: user, comment: comment).comment_reply }\n\n    it \"renders the headers\" do\n      expect(mail.subject).to match(/New reply/)\n      expect(mail.to).to eq([user.email])\n    end\n\n    it \"delivers later\" do\n      expect { mail.deliver_later }.to have_enqueued_job(ActionMailer::MailDeliveryJob)\n    end\n  end\nend\n```\n\n## Anti-Patterns\n\n| Anti-Pattern | Problem | Solution |\n|--------------|---------|----------|\n| One mailer per email | Hard to navigate | Group related emails |\n| Skipping `.with()` | Implicit dependencies | Use parameterized mailers |\n| `deliver_now` | Blocks request | Use `deliver_later` |\n| Missing previews | Can't visually test | Create preview classes |\n\n## Output Format\n\nWhen creating mailers, provide:\n\n1. **Mailer Class** - The complete implementation\n2. **Views** - HTML and text templates\n3. **Preview** - Preview class for visual testing\n4. **Tests** - Example test cases"
              },
              {
                "name": "action-policy-coder",
                "description": "Use proactively for authorization with ActionPolicy. Creates policies, scopes, and integrates with GraphQL/ActionCable. Preferred over Pundit for composable, cacheable authorization.",
                "path": "plugins/majestic-rails/skills/action-policy-coder/SKILL.md",
                "frontmatter": {
                  "name": "action-policy-coder",
                  "description": "Use proactively for authorization with ActionPolicy. Creates policies, scopes, and integrates with GraphQL/ActionCable. Preferred over Pundit for composable, cacheable authorization.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash, WebFetch"
                },
                "content": "# ActionPolicy Coder\n\nYou are an authorization specialist using ActionPolicy, the composable and performant authorization framework for Rails.\n\n## When Invoked\n\n1. **Create policy classes** with proper rules and inheritance\n2. **Implement authorization** in controllers with `authorize!` and `allowed_to?`\n3. **Set up scoping** with `authorized_scope` for filtered collections\n4. **Configure caching** for performance optimization\n5. **Add I18n** for localized failure messages\n6. **Write tests** using ActionPolicy RSpec matchers\n7. **Integrate** with GraphQL and ActionCable\n\nSee [resources/action-policy/patterns.md](resources/action-policy/patterns.md) for detailed testing, GraphQL, ActionCable, and caching patterns.\n\n## Installation\n\n```ruby\n# Gemfile\ngem \"action_policy\"\ngem \"action_policy-graphql\"  # For GraphQL integration\n\n# Generate base policy\nbin/rails generate action_policy:install\nbin/rails generate action_policy:policy Post\n```\n\n## Policy Classes\n\n### ApplicationPolicy Base\n\n```ruby\n# app/policies/application_policy.rb\nclass ApplicationPolicy < ActionPolicy::Base\n  alias_rule :edit?, :destroy?, to: :update?\n  pre_check :allow_admins\n\n  private\n\n  def allow_admins\n    allow! if user.admin?\n  end\nend\n```\n\n### Resource Policy\n\n```ruby\n# app/policies/post_policy.rb\nclass PostPolicy < ApplicationPolicy\n  def index? = true\n  def show? = true\n  def update? = owner?\n  def destroy? = owner? && !record.published?\n  def publish? = owner? && record.draft?\n\n  private\n\n  def owner? = user.id == record.user_id\nend\n```\n\n## Controller Integration\n\n```ruby\nclass PostsController < ApplicationController\n  def show\n    @post = Post.find(params[:id])\n    authorize! @post\n  end\n\n  def update\n    @post = Post.find(params[:id])\n    authorize! @post\n    @post.update(post_params) ? redirect_to(@post) : render(:edit)\n  end\n\n  def publish\n    @post = Post.find(params[:id])\n    authorize! @post, to: :publish?\n    @post.publish!\n    redirect_to @post\n  end\nend\n```\n\n### Conditional Rendering\n\n```erb\n<% if allowed_to?(:edit?, @post) %>\n  <%= link_to \"Edit\", edit_post_path(@post) %>\n<% end %>\n```\n\n## Policy Scoping\n\n```ruby\nclass PostPolicy < ApplicationPolicy\n  relation_scope do |relation|\n    user.admin? ? relation.all : relation.where(user_id: user.id).or(relation.published)\n  end\n\n  relation_scope(:own) { |relation| relation.where(user_id: user.id) }\n  relation_scope(:drafts) { |relation| relation.where(user_id: user.id, status: :draft) }\nend\n\n# Controller usage\n@posts = authorized_scope(Post.all)\n@drafts = authorized_scope(Post.all, type: :relation, as: :drafts)\n```\n\n## Caching\n\n```ruby\nclass PostPolicy < ApplicationPolicy\n  def update?\n    cache { owner_or_collaborator? }  # Cache expensive checks\n  end\nend\n\n# config/initializers/action_policy.rb\nActionPolicy.configure do |config|\n  config.cache_store = Rails.cache\nend\n```\n\n## I18n Failure Messages\n\n```yaml\n# config/locales/action_policy.en.yml\nen:\n  action_policy:\n    policy:\n      post_policy:\n        update?: \"You can only edit your own posts\"\n        destroy?: \"You cannot delete a published post\"\n```\n\n```ruby\nclass ApplicationController < ActionController::Base\n  rescue_from ActionPolicy::Unauthorized do |exception|\n    flash[:alert] = exception.result.message\n    redirect_back fallback_location: root_path\n  end\nend\n```\n\n## Deliverables\n\nWhen implementing authorization, provide:\n\n1. **Policy Classes**: With rules, scopes, and caching\n2. **Controller Integration**: authorize! and allowed_to? usage\n3. **Scoping**: For index actions and filtered collections\n4. **I18n**: Localized error messages\n5. **Tests**: RSpec policy and request specs\n6. **GraphQL**: preauthorize for mutations if applicable"
              },
              {
                "name": "active-job-coder",
                "description": "Use when creating or refactoring Active Job background jobs. Applies Rails 8 conventions, Solid Queue patterns, error handling, retry strategies, and job design best practices.",
                "path": "plugins/majestic-rails/skills/active-job-coder/SKILL.md",
                "frontmatter": {
                  "name": "active-job-coder",
                  "description": "Use when creating or refactoring Active Job background jobs. Applies Rails 8 conventions, Solid Queue patterns, error handling, retry strategies, and job design best practices.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash"
                },
                "content": "# Active Job Coder\n\nYou are a senior Rails developer specializing in background job architecture. Your goal is to create well-designed, maintainable Active Job classes following Rails 8 conventions.\n\nSee [resources/active-job/patterns.md](resources/active-job/patterns.md) for Continuable patterns, testing examples, and logging.\n\n## Job Design Principles\n\n### 1. Single Responsibility\n\n```ruby\n# Good: Focused job\nclass SendWelcomeEmailJob < ApplicationJob\n  queue_as :default\n\n  def perform(user)\n    UserMailer.welcome(user).deliver_now\n  end\nend\n```\n\n### 2. Pass IDs, Not Objects\n\n```ruby\n# Good: Pass identifiers\nclass ProcessOrderJob < ApplicationJob\n  def perform(order_id)\n    order = Order.find(order_id)\n    # Process order\n  end\nend\n```\n\n### 3. Queue Configuration\n\n```ruby\nclass CriticalNotificationJob < ApplicationJob\n  queue_as :critical\n  queue_with_priority 1  # Lower = higher priority\nend\n\nclass ReportGenerationJob < ApplicationJob\n  queue_as :low_priority\n  queue_with_priority 50\nend\n```\n\n## Error Handling & Retry Strategies\n\n```ruby\nclass ExternalApiJob < ApplicationJob\n  queue_as :default\n\n  retry_on Net::OpenTimeout, wait: :polynomially_longer, attempts: 5\n  retry_on ActiveRecord::Deadlocked, wait: 5.seconds, attempts: 3\n  discard_on ActiveJob::DeserializationError\n\n  def perform(record_id)\n    record = Record.find(record_id)\n    ExternalApi.sync(record)\n  end\nend\n```\n\n### Custom Error Handling\n\n```ruby\nclass ImportantJob < ApplicationJob\n  rescue_from StandardError do |exception|\n    Rails.logger.error(\"Job failed: #{exception.message}\")\n    ErrorNotifier.notify(exception, job: self.class.name)\n    raise # Re-raise to trigger retry\n  end\nend\n```\n\n## Concurrency Control (Solid Queue)\n\n```ruby\nclass ProcessUserDataJob < ApplicationJob\n  limits_concurrency key: ->(user_id) { user_id }, duration: 15.minutes\n\n  def perform(user_id)\n    user = User.find(user_id)\n    # Process user data safely\n  end\nend\n\nclass ContactActionJob < ApplicationJob\n  limits_concurrency key: ->(contact) { contact.id },\n                     duration: 10.minutes,\n                     group: \"ContactActions\"\nend\n```\n\n## Scheduling & Delayed Execution\n\n```ruby\nSendReminderJob.perform_later(user)                              # Immediate\nSendReminderJob.set(wait: 1.hour).perform_later(user)            # Delayed\nSendReminderJob.set(wait_until: Date.tomorrow.noon).perform_later(user)  # Scheduled\n\n# Bulk enqueue\nActiveJob.perform_all_later(users.map { |u| SendReminderJob.new(u.id) })\n```\n\n## Anti-Patterns to Avoid\n\n| Anti-Pattern | Problem | Solution |\n|--------------|---------|----------|\n| Fat jobs | Hard to test and maintain | Extract logic to model classes |\n| Serializing objects | Expensive, stale data | Pass IDs, fetch fresh data |\n| No retry strategy | Silent failures | Use `retry_on` with backoff |\n| Synchronous calls | Blocks request | Always use `perform_later` |\n| No idempotency | Duplicate processing | Design jobs to be re-runnable |\n| Ignoring errors | Silent failures | Use `rescue_from` with logging |\n| Monolithic steps | Can't resume after failure | Use Continuable pattern with state |\n\n## Output Format\n\nWhen creating or refactoring jobs, provide:\n\n1. **Job Class** - The complete job implementation\n2. **Queue Strategy** - Recommended queue and priority\n3. **Error Handling** - Retry and failure strategies\n4. **Testing** - Example test cases\n5. **Considerations** - Concurrency, idempotency notes"
              },
              {
                "name": "anycable-coder",
                "description": "Use when implementing real-time features requiring reliability, especially LLM streaming. Applies AnyCable patterns for message delivery guarantees, presence tracking, and Action Cable migration.",
                "path": "plugins/majestic-rails/skills/anycable-coder/SKILL.md",
                "frontmatter": {
                  "name": "anycable-coder",
                  "description": "Use when implementing real-time features requiring reliability, especially LLM streaming. Applies AnyCable patterns for message delivery guarantees, presence tracking, and Action Cable migration.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash"
                },
                "content": "# AnyCable Coder\n\nYou are a senior Rails developer specializing in AnyCable for reliable real-time communication.\n\n## Why AnyCable Over Action Cable\n\nAction Cable provides \"at-most once\" deliverymessages can be lost on reconnection. For LLM streaming where every chunk matters, this is insufficient.\n\n**AnyCable provides:**\n- **At-least once delivery** - Messages are guaranteed to arrive\n- **Message ordering** - Chunks arrive in correct sequence\n- **Automatic reconnection** - With history recovery\n- **Action Cable Extended Protocol** - Enhanced reliability on top of WebSockets\n\n## Installation\n\n```bash\nbundle add anycable-rails\nbin/rails g anycable:setup\n```\n\n```bash\n# Client (replace @rails/actioncable)\nnpm install @anycable/web\n```\n\n## Server-Side Channels\n\n### Basic LLM Streaming Channel\n\n```ruby\nclass LlmStreamChannel < ApplicationCable::Channel\n  def subscribed\n    stream_for current_user\n  end\n\n  def generate(data)\n    prompt = data[\"prompt\"]\n\n    llm_client.stream(prompt) do |chunk|\n      LlmStreamChannel.broadcast_to(\n        current_user,\n        { type: \"chunk\", content: chunk }\n      )\n    end\n\n    LlmStreamChannel.broadcast_to(\n      current_user,\n      { type: \"complete\" }\n    )\n  end\nend\n```\n\n### With Presence Tracking\n\n```ruby\nclass ChatChannel < ApplicationCable::Channel\n  include AnyCable::Rails::Channel::Presence\n\n  def subscribed\n    stream_from \"chat_#{params[:room_id]}\"\n    presence.join(current_user.id, name: current_user.name)\n  end\n\n  def unsubscribed\n    presence.leave\n  end\nend\n```\n\n## Client-Side Implementation\n\n### Migration from Action Cable\n\n```javascript\n// Before (Action Cable)\nimport { createConsumer } from \"@rails/actioncable\"\n\n// After (AnyCable) - same API!\nimport { createConsumer } from \"@anycable/web\"\n\nexport default createConsumer()\n```\n\n### Modern AnyCable Client\n\n```javascript\nimport { createCable } from \"@anycable/web\"\n\nconst cable = createCable()\n\n// Class-based channel\nimport { Channel } from \"@anycable/web\"\n\nclass LlmStreamChannel extends Channel {\n  static identifier = \"LlmStreamChannel\"\n\n  async generate(prompt) {\n    return this.perform(\"generate\", { prompt })\n  }\n}\n\n// Subscribe and handle chunks\nconst channel = new LlmStreamChannel()\ncable.subscribe(channel)\n\nawait channel.ensureSubscribed()\n\nchannel.on(\"message\", (msg) => {\n  if (msg.type === \"chunk\") {\n    appendToResponse(msg.content)\n  } else if (msg.type === \"complete\") {\n    finishResponse()\n  }\n})\n\nchannel.generate(\"Explain WebSockets\")\n```\n\n### Direct Streams (Signed)\n\n```javascript\n// Subscribe directly to a stream without channel class\nconst cable = createCable()\nconst stream = cable.streamFrom(\"llm_response/user_123\")\n\nstream.on(\"message\", (msg) => console.log(msg))\n```\n\n### Presence API\n\n```javascript\nconst chatChannel = cable.subscribeTo(\"ChatChannel\", { roomId: \"42\" })\n\n// Join presence\nchatChannel.presence.join(user.id, { name: user.name })\n\n// Listen for presence events\nchatChannel.presence.on(\"presence\", (event) => {\n  if (event.type === \"join\") {\n    console.log(\"User joined:\", event.id, event.info)\n  } else if (event.type === \"leave\") {\n    console.log(\"User left:\", event.id)\n  }\n})\n\n// Get current presence\nconst users = await chatChannel.presence.info()\n\n// Leave presence\nchatChannel.presence.leave()\n```\n\n## LLM Streaming Pattern\n\n### Complete Implementation\n\n```ruby\n# app/channels/assistant_channel.rb\nclass AssistantChannel < ApplicationCable::Channel\n  def subscribed\n    stream_for current_user\n  end\n\n  def ask(data)\n    conversation_id = data[\"conversation_id\"]\n    message = data[\"message\"]\n\n    # Broadcast start\n    broadcast_event(\"start\", conversation_id:)\n\n    # Stream LLM response\n    response = \"\"\n    llm.chat(message) do |chunk|\n      response += chunk\n      broadcast_event(\"chunk\", conversation_id:, content: chunk)\n    end\n\n    # Save and broadcast completion\n    Message.create!(conversation_id:, role: \"assistant\", content: response)\n    broadcast_event(\"complete\", conversation_id:)\n  rescue => e\n    broadcast_event(\"error\", conversation_id:, message: e.message)\n  end\n\n  private\n\n  def broadcast_event(type, **payload)\n    AssistantChannel.broadcast_to(current_user, { type:, **payload })\n  end\n\n  def llm\n    @llm ||= OpenAI::Client.new\n  end\nend\n```\n\n```javascript\n// app/javascript/channels/assistant_channel.js\nimport { Channel } from \"@anycable/web\"\n\nexport default class AssistantChannel extends Channel {\n  static identifier = \"AssistantChannel\"\n\n  constructor() {\n    super()\n    this.responseBuffer = \"\"\n  }\n\n  async ask(conversationId, message) {\n    this.responseBuffer = \"\"\n    return this.perform(\"ask\", { conversation_id: conversationId, message })\n  }\n\n  // Override to handle message types\n  receive(message) {\n    switch (message.type) {\n      case \"start\":\n        this.onStart?.(message.conversation_id)\n        break\n      case \"chunk\":\n        this.responseBuffer += message.content\n        this.onChunk?.(message.content, this.responseBuffer)\n        break\n      case \"complete\":\n        this.onComplete?.(this.responseBuffer, message.conversation_id)\n        break\n      case \"error\":\n        this.onError?.(message.message)\n        break\n    }\n  }\n}\n```\n\n## Configuration\n\n### AnyCable Server\n\n```yaml\n# config/anycable.yml\nproduction:\n  broadcast_adapter: nats\n  redis_url: <%= ENV.fetch(\"REDIS_URL\") %>\n\n  # Enable reliable streams\n  streams_history_size: 100\n  streams_history_ttl: 300\n```\n\n### Cable URL\n\n```erb\n<!-- app/views/layouts/application.html.erb -->\n<%= action_cable_meta_tag %>\n```\n\n```javascript\n// Auto-detects from meta tag, or specify explicitly\nimport { createCable } from \"@anycable/web\"\ncreateCable(\"wss://cable.example.com/cable\")\n```\n\n## Deployment\n\n### Procfile\n\n```yaml\nweb: bundle exec puma -C config/puma.rb\nanycable: bundle exec anycable\nws: anycable-go\n```\n\n### Docker Compose\n\n```yaml\nservices:\n  web:\n    command: bundle exec puma\n  anycable:\n    command: bundle exec anycable\n  ws:\n    image: anycable/anycable-go:1.6\n    environment:\n      ANYCABLE_RPC_HOST: anycable:50051\n      ANYCABLE_REDIS_URL: redis://redis:6379\n```\n\n## Action Cable vs AnyCable\n\n| Feature | Action Cable | AnyCable |\n|---------|--------------|----------|\n| Delivery guarantee | At-most once | At-least once |\n| Message ordering | Not guaranteed | Guaranteed |\n| History on reconnect | No | Yes (configurable) |\n| Presence tracking | Manual | Built-in |\n| Performance | Ruby threads | Go server |\n| LLM streaming | Unreliable | Reliable |\n\n## Anti-Patterns\n\n| Anti-Pattern | Problem | Solution |\n|--------------|---------|----------|\n| Action Cable for LLM streaming | Lost chunks on reconnect | Use AnyCable |\n| Ignoring message ordering | Garbled responses | AnyCable handles automatically |\n| Manual reconnection logic | Complex, error-prone | Use AnyCable client |\n| No presence tracking | Unknown user state | Use built-in presence API |\n\n## Output Format\n\nWhen implementing real-time features with AnyCable:\n\n1. **Channel** - Server-side Ruby channel with broadcasting\n2. **Client** - JavaScript subscription with message handling\n3. **Configuration** - anycable.yml and deployment setup\n4. **Error Handling** - Graceful degradation patterns"
              },
              {
                "name": "anyway-config-coder",
                "description": "Implement type-safe configuration with anyway_config gem. Use when creating configuration classes, replacing ENV access, or managing application settings. Triggers on configuration, environment variables, settings, secrets, or ENV patterns.",
                "path": "plugins/majestic-rails/skills/anyway-config-coder/SKILL.md",
                "frontmatter": {
                  "name": "anyway-config-coder",
                  "description": "Implement type-safe configuration with anyway_config gem. Use when creating configuration classes, replacing ENV access, or managing application settings. Triggers on configuration, environment variables, settings, secrets, or ENV patterns."
                },
                "content": "# Anyway Config Coder\n\nImplement type-safe configuration management using the `anyway_config` gem. Never access ENV directly - wrap all configuration in typed classes.\n\n## Core Principle\n\n**Never use ENV directly or Rails credentials.** Create typed configuration classes instead.\n\n```ruby\n# WRONG - scattered ENV access\napi_key = ENV[\"GEMINI_API_KEY\"]\ntimeout = ENV.fetch(\"API_TIMEOUT\", 30).to_i\n\n# RIGHT - typed configuration class\nclass GeminiConfig < Anyway::Config\n  attr_config :api_key,\n              timeout: 30\n\n  required :api_key\nend\n\n# Usage\nGeminiConfig.new.api_key\n```\n\n## Setup\n\n```ruby\n# Gemfile\ngem \"anyway_config\", \"~> 2.6\"\n```\n\n## Configuration Class Structure\n\n### Basic Configuration\n\n```ruby\n# config/configs/gemini_config.rb\nclass GeminiConfig < Anyway::Config\n  # Define attributes with defaults\n  attr_config :api_key,\n              model: \"gemini-pro\",\n              timeout: 30,\n              max_retries: 3\n\n  # Mark required attributes\n  required :api_key\n\n  # Computed helpers\n  def configured?\n    api_key.present?\n  end\n\n  def base_url\n    \"https://generativelanguage.googleapis.com/v1beta\"\n  end\nend\n```\n\n### Environment Variable Mapping\n\nAnyway Config automatically maps environment variables:\n\n```ruby\nclass GeminiConfig < Anyway::Config\n  attr_config :api_key    # GEMINI_API_KEY\n  attr_config :model      # GEMINI_MODEL\n  attr_config :timeout    # GEMINI_TIMEOUT\nend\n\n# Custom prefix\nclass StripeConfig < Anyway::Config\n  config_name :payment    # Uses PAYMENT_* prefix instead of STRIPE_*\n\n  attr_config :api_key,   # PAYMENT_API_KEY\n              :webhook_secret\nend\n```\n\n### Nested Configuration\n\n```ruby\nclass AppConfig < Anyway::Config\n  attr_config :name,\n              :environment,\n              database: {\n                host: \"localhost\",\n                port: 5432,\n                pool: 5\n              },\n              redis: {\n                url: \"redis://localhost:6379\"\n              }\nend\n\n# Access nested values\nAppConfig.new.database.host\nAppConfig.new.redis.url\n```\n\n## Directory Structure\n\n```\nconfig/\n configs/\n    gemini_config.rb\n    stripe_config.rb\n    storage_config.rb\n    app_config.rb\n settings/           # YAML files (optional)\n     gemini.yml\n     storage.yml\n```\n\n## YAML Configuration Files\n\n```yaml\n# config/settings/gemini.yml\ndefault: &default\n  model: gemini-pro\n  timeout: 30\n\ndevelopment:\n  <<: *default\n  api_key: <%= ENV[\"GEMINI_API_KEY\"] %>\n\ntest:\n  <<: *default\n  api_key: test-key\n\nproduction:\n  <<: *default\n  timeout: 60\n```\n\n## Using Configurations\n\n### Direct Instantiation\n\n```ruby\nconfig = GeminiConfig.new\nconfig.api_key\nconfig.timeout\n```\n\n### Singleton Pattern (Recommended)\n\n```ruby\nclass GeminiConfig < Anyway::Config\n  attr_config :api_key, :model\n\n  class << self\n    def instance\n      @instance ||= new\n    end\n  end\nend\n\n# Usage anywhere\nGeminiConfig.instance.api_key\n```\n\n### Memoized Helper Method\n\n```ruby\n# app/models/concerns/gemini_client.rb\nmodule GeminiClient\n  extend ActiveSupport::Concern\n\n  private\n\n  def gemini_config\n    @gemini_config ||= GeminiConfig.new\n  end\nend\n```\n\n### In Jobs/Services\n\n```ruby\nclass Cloud::CardGenerator\n  def initialize(cloud)\n    @cloud = cloud\n    @config = GeminiConfig.new\n  end\n\n  def generate\n    return unless @config.configured?\n\n    client = Gemini::Client.new(\n      api_key: @config.api_key,\n      timeout: @config.timeout\n    )\n    # ...\n  end\nend\n```\n\n## Validation\n\n```ruby\nclass StorageConfig < Anyway::Config\n  attr_config :bucket,\n              :region,\n              :access_key_id,\n              :secret_access_key\n\n  # Required attributes\n  required :bucket, :region\n\n  # Conditional requirements\n  required :access_key_id, :secret_access_key, env: :production\n\n  # Custom validation\n  def validate!\n    super\n    raise_validation_error(\"Invalid region\") unless valid_regions.include?(region)\n  end\n\n  private\n\n  def valid_regions\n    %w[us-east-1 us-west-2 eu-west-1]\n  end\nend\n```\n\n## Type Coercion\n\n```ruby\nclass ApiConfig < Anyway::Config\n  # Automatic coercion\n  attr_config timeout: 30       # Integer\n  attr_config enabled: true     # Boolean\n  attr_config rate: 1.5         # Float\n\n  # Coerce arrays from comma-separated strings\n  coerce_types allowed_origins: {\n    type: :string,\n    array: true\n  }\n  # ALLOWED_ORIGINS=\"example.com,other.com\" => [\"example.com\", \"other.com\"]\nend\n```\n\n## Testing Configurations\n\n```ruby\n# spec/configs/gemini_config_spec.rb\nRSpec.describe GeminiConfig do\n  subject(:config) { described_class.new }\n\n  describe \"defaults\" do\n    it \"has default timeout\" do\n      expect(config.timeout).to eq(30)\n    end\n\n    it \"has default model\" do\n      expect(config.model).to eq(\"gemini-pro\")\n    end\n  end\n\n  describe \"validation\" do\n    it \"requires api_key\" do\n      expect { described_class.new(api_key: nil) }\n        .to raise_error(Anyway::Config::ValidationError)\n    end\n  end\n\n  describe \"#configured?\" do\n    context \"with api_key\" do\n      subject(:config) { described_class.new(api_key: \"test\") }\n\n      it \"returns true\" do\n        expect(config.configured?).to be true\n      end\n    end\n  end\nend\n```\n\n### Override in Tests\n\n```ruby\n# spec/support/anyway_config.rb\nRSpec.configure do |config|\n  config.around(:each) do |example|\n    # Override config for test\n    with_env(\n      \"GEMINI_API_KEY\" => \"test-key\",\n      \"GEMINI_TIMEOUT\" => \"5\"\n    ) do\n      example.run\n    end\n  end\nend\n```\n\n## Common Patterns\n\n### Feature Flags\n\n```ruby\nclass FeaturesConfig < Anyway::Config\n  attr_config dark_mode: false,\n              beta_features: false,\n              maintenance_mode: false\n\n  def maintenance?\n    maintenance_mode\n  end\n\n  def beta?\n    beta_features\n  end\nend\n```\n\n### External API Client\n\n```ruby\nclass OpenAIConfig < Anyway::Config\n  attr_config :api_key,\n              :organization_id,\n              model: \"gpt-4\",\n              max_tokens: 1000,\n              temperature: 0.7\n\n  required :api_key\n\n  def client_options\n    {\n      access_token: api_key,\n      organization_id: organization_id\n    }.compact\n  end\nend\n```\n\n### Multi-Environment Storage\n\n```ruby\nclass StorageConfig < Anyway::Config\n  attr_config provider: \"local\",\n              bucket: nil,\n              endpoint: nil,\n              credentials: {}\n\n  def s3?\n    provider == \"s3\"\n  end\n\n  def r2?\n    provider == \"r2\"\n  end\n\n  def local?\n    provider == \"local\"\n  end\n\n  def service_options\n    case provider\n    when \"s3\" then s3_options\n    when \"r2\" then r2_options\n    else local_options\n    end\n  end\nend\n```\n\n## Anti-Patterns\n\n| Anti-Pattern | Problem | Solution |\n|--------------|---------|----------|\n| Direct `ENV[\"KEY\"]` | No type safety, scattered | Config class |\n| `ENV.fetch` everywhere | Duplication, no validation | Centralized config |\n| Rails credentials | Complex, hard to test | anyway_config classes |\n| Hardcoded secrets | Security risk | Environment variables |\n| Magic strings | Typos, no IDE support | Config constants |\n\n## Quick Reference\n\n```ruby\n# Create config class\nclass MyConfig < Anyway::Config\n  attr_config :required_key,    # Required\n              optional: \"default\" # With default\n\n  required :required_key\nend\n\n# Environment variables\nMY_REQUIRED_KEY=value  # Mapped automatically\nMY_OPTIONAL=override   # Overrides default\n\n# Usage\nconfig = MyConfig.new\nconfig.required_key    # => \"value\"\nconfig.optional        # => \"override\"\n```\n\n## Detailed References\n\n- `references/advanced-patterns.md` - Dynamic configs, callbacks, inheritance"
              },
              {
                "name": "avo-coder",
                "description": "Use when building Avo admin interfaces. Creates resources, actions, filters, and dashboards following Avo conventions. Fetches latest docs dynamically.",
                "path": "plugins/majestic-rails/skills/avo-coder/SKILL.md",
                "frontmatter": {
                  "name": "avo-coder",
                  "description": "Use when building Avo admin interfaces. Creates resources, actions, filters, and dashboards following Avo conventions. Fetches latest docs dynamically.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash, WebFetch"
                },
                "content": "# Avo Coder\n\nYou build admin interfaces using Avo for Rails. Always fetch the latest documentation before creating resources.\n\n## First: Fetch Latest Docs\n\nBefore creating any Avo components, fetch the current documentation:\n\n```\nWebFetch: https://docs.avohq.io/3.0/llms-full.txt\n```\n\nThis ensures you use the latest Avo 3.x patterns and APIs.\n\n## Resource Generation\n\n```bash\nbin/rails generate avo:resource User\n```\n\n## Basic Resource Structure\n\n```ruby\n# app/avo/resources/user_resource.rb\nclass Avo::Resources::User < Avo::BaseResource\n  self.title = :email\n  self.includes = [:posts, :profile]\n  self.search = {\n    query: -> { query.ransack(email_cont: params[:q]).result }\n  }\n\n  def fields\n    field :id, as: :id\n    field :email, as: :text, required: true\n    field :name, as: :text\n    field :avatar, as: :file, is_image: true\n    field :created_at, as: :date_time, readonly: true\n\n    # Associations\n    field :posts, as: :has_many\n    field :profile, as: :has_one\n  end\nend\n```\n\n## Field Types\n\n```ruby\ndef fields\n  # Basic fields\n  field :title, as: :text\n  field :body, as: :trix          # Rich text\n  field :bio, as: :textarea\n  field :count, as: :number\n  field :price, as: :currency\n  field :published, as: :boolean\n  field :status, as: :select, options: { draft: \"Draft\", published: \"Published\" }\n  field :tags, as: :tags\n\n  # Date/Time\n  field :published_at, as: :date_time\n  field :birth_date, as: :date\n\n  # Files\n  field :document, as: :file\n  field :avatar, as: :file, is_image: true\n  field :photos, as: :files\n\n  # Associations\n  field :author, as: :belongs_to\n  field :comments, as: :has_many\n  field :tags, as: :has_and_belongs_to_many\n\n  # Computed\n  field :full_name, as: :text do\n    \"#{record.first_name} #{record.last_name}\"\n  end\nend\n```\n\n## Field Visibility\n\n```ruby\nfield :email, as: :text,\n  show_on: :index,              # Show on index\n  hide_on: :forms,              # Hide on new/edit\n  readonly: true                 # Can't edit\n\n# Conditional visibility\nfield :admin_notes, as: :textarea,\n  visible: -> { current_user.admin? }\n```\n\n## Actions\n\n```bash\nbin/rails generate avo:action ArchiveUser\n```\n\n```ruby\n# app/avo/actions/archive_user.rb\nclass Avo::Actions::ArchiveUser < Avo::BaseAction\n  self.name = \"Archive User\"\n  self.message = \"Are you sure you want to archive this user?\"\n  self.confirm_button_label = \"Archive\"\n  self.cancel_button_label = \"Cancel\"\n\n  def fields\n    field :reason, as: :textarea, required: true\n  end\n\n  def handle(query:, fields:, current_user:, resource:, **args)\n    query.each do |record|\n      record.update!(archived: true, archive_reason: fields[:reason])\n    end\n\n    succeed \"Archived #{query.count} users\"\n  end\nend\n```\n\nRegister in resource:\n```ruby\ndef actions\n  action Avo::Actions::ArchiveUser\nend\n```\n\n## Filters\n\n```bash\nbin/rails generate avo:filter ActiveUsers\n```\n\n```ruby\n# app/avo/filters/active_users.rb\nclass Avo::Filters::ActiveUsers < Avo::Filters::BooleanFilter\n  self.name = \"Active Status\"\n\n  def options\n    {\n      active: \"Active\",\n      inactive: \"Inactive\"\n    }\n  end\n\n  def apply(request, query, values)\n    return query if values.blank?\n\n    if values[\"active\"]\n      query = query.where(active: true)\n    end\n\n    if values[\"inactive\"]\n      query = query.where(active: false)\n    end\n\n    query\n  end\nend\n```\n\nRegister in resource:\n```ruby\ndef filters\n  filter Avo::Filters::ActiveUsers\nend\n```\n\n## Scopes\n\n```ruby\n# In resource\ndef scopes\n  scope Avo::Scopes::Active\n  scope Avo::Scopes::Archived\nend\n\n# app/avo/scopes/active.rb\nclass Avo::Scopes::Active < Avo::Advanced::Scopes::BaseScope\n  self.name = \"Active\"\n  self.description = \"Active users only\"\n  self.scope = -> { query.where(active: true) }\nend\n```\n\n## Cards (Dashboard)\n\n```ruby\n# app/avo/cards/users_count.rb\nclass Avo::Cards::UsersCount < Avo::Cards::MetricCard\n  self.id = \"users_count\"\n  self.label = \"Total Users\"\n\n  def query\n    result User.count\n  end\nend\n```\n\n## Authorization\n\nAvo integrates with Pundit:\n\n```ruby\n# app/policies/user_policy.rb\nclass UserPolicy < ApplicationPolicy\n  def index?\n    user.admin?\n  end\n\n  def show?\n    user.admin? || record == user\n  end\n\n  def create?\n    user.admin?\n  end\n\n  def update?\n    user.admin?\n  end\n\n  def destroy?\n    user.admin? && record != user\n  end\nend\n```\n\n## Common Patterns\n\n**Sidebar customization:**\n```ruby\n# config/initializers/avo.rb\nAvo.configure do |config|\n  config.main_menu = -> {\n    section \"Dashboard\", icon: \"heroicons/outline/home\" do\n      link_to \"Analytics\", avo.analytics_path\n    end\n\n    section \"Content\", icon: \"heroicons/outline/document-text\" do\n      resource :post\n      resource :category\n    end\n\n    section \"Users\", icon: \"heroicons/outline/users\" do\n      resource :user\n      resource :role\n    end\n  }\nend\n```\n\n## Output Format\n\nAfter building Avo components:\n\n1. **Files Created** - Resources, actions, filters\n2. **Registration** - Where components are registered\n3. **Permissions** - Required policy methods\n4. **Usage** - How to access in admin UI"
              },
              {
                "name": "business-logic-coder",
                "description": "Implement business logic with ActiveInteraction and AASM state machines. Use when creating typed operations, managing state transitions, or refactoring service objects. Triggers on interaction creation, state machines, workflows, or typed business operations.",
                "path": "plugins/majestic-rails/skills/business-logic-coder/SKILL.md",
                "frontmatter": {
                  "name": "business-logic-coder",
                  "description": "Implement business logic with ActiveInteraction and AASM state machines. Use when creating typed operations, managing state transitions, or refactoring service objects. Triggers on interaction creation, state machines, workflows, or typed business operations."
                },
                "content": "# Business Logic Patterns\n\nImplement business logic with ActiveInteraction and AASM state machines - the structured alternatives to service objects.\n\n## When to Use This Skill\n\n- Creating business operations with typed inputs\n- Implementing state machines for workflows\n- Refactoring service objects to interactions\n- Managing complex state transitions\n- Composing business operations\n\n## Core Principle: Interactions Over Service Objects\n\n**Use ActiveInteraction instead of service objects.**\n\n| Service Objects | ActiveInteraction |\n|-----------------|-------------------|\n| No standard interface | Consistent `.run` / `.run!` |\n| Manual type checking | Built-in type declarations |\n| Manual validation | Standard Rails validations |\n| Hard to compose | Native composition |\n| Verbose boilerplate | Clean, self-documenting |\n\n## Setup\n\n```ruby\n# Gemfile\ngem \"active_interaction\", \"~> 5.3\"\ngem \"aasm\", \"~> 5.5\"\n```\n\n## ActiveInteraction Basics\n\n### Simple Interaction\n\n```ruby\n# app/interactions/users/create.rb\nmodule Users\n  class Create < ActiveInteraction::Base\n    # Typed inputs\n    string :email\n    string :name\n    string :password, default: nil\n\n    # Validations\n    validates :email, presence: true, format: { with: URI::MailTo::EMAIL_REGEXP }\n    validates :name, presence: true\n\n    # Main logic\n    def execute\n      user = User.create!(\n        email: email,\n        name: name,\n        password: password || SecureRandom.alphanumeric(32)\n      )\n\n      UserMailer.welcome(user).deliver_later\n      user  # Return value becomes outcome.result\n    end\n  end\nend\n```\n\n### Running Interactions\n\n```ruby\n# In controller\ndef create\n  outcome = Users::Create.run(\n    email: params[:email],\n    name: params[:name]\n  )\n\n  if outcome.valid?\n    redirect_to outcome.result, notice: \"User created\"\n  else\n    @errors = outcome.errors\n    render :new, status: :unprocessable_entity\n  end\nend\n\n# With bang method (raises on error)\nuser = Users::Create.run!(email: \"user@example.com\", name: \"John\")\n```\n\n### Input Types\n\n```ruby\nclass MyInteraction < ActiveInteraction::Base\n  # Primitives\n  string :name\n  integer :age\n  float :price\n  boolean :active\n  symbol :status\n\n  # Date/Time\n  date :birthday\n  time :created_at\n  date_time :scheduled_at\n\n  # Complex types\n  array :tags\n  hash :metadata\n\n  # Model instances\n  object :user, class: User\n\n  # Typed arrays\n  array :emails, default: [] do\n    string\n  end\n\n  # Optional with default\n  string :optional_field, default: nil\n  integer :count, default: 0\nend\n```\n\n### Composing Interactions\n\n```ruby\nmodule Users\n  class Register < ActiveInteraction::Base\n    string :email, :name, :password\n\n    def execute\n      # Compose calls another interaction\n      user = compose(Users::Create,\n        email: email,\n        name: name,\n        password: password\n      )\n\n      # Errors automatically merged if nested fails\n      compose(Users::SendWelcomeEmail, user: user)\n      user\n    end\n  end\nend\n```\n\n## State Machines (AASM)\n\n### Basic State Machine\n\n```ruby\nclass Order < ApplicationRecord\n  include AASM\n\n  aasm column: :status do\n    state :pending, initial: true\n    state :paid\n    state :processing\n    state :shipped\n    state :cancelled\n\n    event :pay do\n      transitions from: :pending, to: :paid\n\n      after do\n        OrderMailer.payment_received(self).deliver_later\n      end\n    end\n\n    event :process do\n      transitions from: :paid, to: :processing\n    end\n\n    event :ship do\n      transitions from: :processing, to: :shipped\n    end\n\n    event :cancel do\n      transitions from: [:pending, :paid], to: :cancelled\n\n      before do\n        refund_payment if paid?\n      end\n    end\n  end\nend\n```\n\n### Usage\n\n```ruby\norder = Order.create!\norder.pending?      # => true\norder.may_pay?      # => true\norder.pay!          # Transition + callbacks\norder.paid?         # => true\n\norder.may_ship?     # => false (must process first)\norder.aasm.events   # => [:process, :cancel]\n\n# Scopes created automatically\nOrder.pending\nOrder.paid.where(user: current_user)\n```\n\n### Guards\n\n```ruby\nevent :pay do\n  transitions from: :pending, to: :paid, guard: :payment_valid?\nend\n\ndef payment_valid?\n  payment_method.present? && total > 0\nend\n\n# Usage\norder.pay!  # Raises AASM::InvalidTransition if guard fails\norder.pay   # Returns false (no exception)\n```\n\n## Controller Pattern\n\n```ruby\nclass ArticlesController < ApplicationController\n  def create\n    outcome = Articles::Create.run(\n      title: params[:article][:title],\n      body: params[:article][:body],\n      author: current_user\n    )\n\n    if outcome.valid?\n      redirect_to article_path(outcome.result), notice: \"Article created\"\n    else\n      @article = Article.new(article_params)\n      @article.errors.merge!(outcome.errors)\n      render :new, status: :unprocessable_entity\n    end\n  end\nend\n```\n\n## Testing\n\n### Testing Interactions\n\n```ruby\nRSpec.describe Users::Create do\n  let(:valid_params) { { email: \"user@example.com\", name: \"John\" } }\n\n  it \"creates user with valid inputs\" do\n    expect { described_class.run(valid_params) }\n      .to change(User, :count).by(1)\n  end\n\n  it \"returns valid outcome\" do\n    outcome = described_class.run(valid_params)\n    expect(outcome).to be_valid\n    expect(outcome.result).to be_a(User)\n  end\n\n  it \"validates email format\" do\n    outcome = described_class.run(valid_params.merge(email: \"invalid\"))\n    expect(outcome).not_to be_valid\n    expect(outcome.errors[:email]).to be_present\n  end\nend\n```\n\n### Testing State Machines\n\n```ruby\nRSpec.describe Order do\n  let(:order) { create(:order) }\n\n  it \"starts in pending state\" do\n    expect(order).to be_pending\n  end\n\n  describe \"pay event\" do\n    it \"transitions to paid\" do\n      expect { order.pay! }\n        .to change(order, :status).from(\"pending\").to(\"paid\")\n    end\n  end\n\n  describe \"ship event\" do\n    context \"when pending\" do\n      it \"raises error\" do\n        expect { order.ship! }.to raise_error(AASM::InvalidTransition)\n      end\n    end\n  end\nend\n```\n\n## Detailed References\n\nFor advanced patterns:\n- `references/active-interaction.md` - Composition, error handling, custom types\n- `references/aasm-patterns.md` - Callbacks, multiple state machines, persistence\n\n## Related Skills\n\n- **`event-sourcing-coder`** - For recording domain events and dispatching to inbox handlers. Use when AASM state transitions should trigger notifications, webhooks, or audit trails."
              },
              {
                "name": "dhh-coder",
                "description": "Write Ruby and Rails code in DHH's distinctive 37signals style. Use this skill when writing Ruby code, Rails applications, creating models, controllers, or any Ruby file. Triggers on Ruby/Rails code generation, refactoring requests, or when the user mentions DHH, 37signals, Basecamp, HEY, Fizzy, or Campfire style.",
                "path": "plugins/majestic-rails/skills/dhh-coder/SKILL.md",
                "frontmatter": {
                  "name": "dhh-coder",
                  "description": "Write Ruby and Rails code in DHH's distinctive 37signals style. Use this skill when writing Ruby code, Rails applications, creating models, controllers, or any Ruby file. Triggers on Ruby/Rails code generation, refactoring requests, or when the user mentions DHH, 37signals, Basecamp, HEY, Fizzy, or Campfire style."
                },
                "content": "# DHH Ruby/Rails Style Guide\n\nWrite Ruby and Rails code following DHH's philosophy: **clarity over cleverness**, **convention over configuration**, **developer happiness** above all.\n\n## Quick Reference\n\n### Controller Actions\n- **Only 7 REST actions**: `index`, `show`, `new`, `create`, `edit`, `update`, `destroy`\n- **New behavior?** Create a new controller, not a custom action\n- **Action length**: 1-5 lines maximum\n- **Empty actions are fine**: Let Rails convention handle rendering\n\n```ruby\nclass MessagesController < ApplicationController\n  before_action :set_message, only: %i[ show edit update destroy ]\n\n  def index\n    @messages = @room.messages.with_creator.last_page\n    fresh_when @messages\n  end\n\n  def show\n  end\n\n  def create\n    @message = @room.messages.create_with_attachment!(message_params)\n    @message.broadcast_create\n  end\n\n  private\n    def set_message\n      @message = @room.messages.find(params[:id])\n    end\n\n    def message_params\n      params.require(:message).permit(:body, :attachment)\n    end\nend\n```\n\n### Private Method Indentation\nIndent private methods one level under `private` keyword:\n\n```ruby\n  private\n    def set_message\n      @message = Message.find(params[:id])\n    end\n\n    def message_params\n      params.require(:message).permit(:body)\n    end\n```\n\n### Model Design (Fat Models)\nModels own business logic, authorization, and broadcasting:\n\n```ruby\nclass Message < ApplicationRecord\n  belongs_to :room\n  belongs_to :creator, class_name: \"User\"\n  has_many :mentions\n\n  scope :with_creator, -> { includes(:creator) }\n  scope :page_before, ->(cursor) { where(\"id < ?\", cursor.id).order(id: :desc).limit(50) }\n\n  def broadcast_create\n    broadcast_append_to room, :messages, target: \"messages\"\n  end\n\n  def mentionees\n    mentions.includes(:user).map(&:user)\n  end\nend\n\nclass User < ApplicationRecord\n  def can_administer?(message)\n    message.creator == self || admin?\n  end\nend\n```\n\n### Current Attributes\nUse `Current` for request context, never pass `current_user` everywhere:\n\n```ruby\nclass Current < ActiveSupport::CurrentAttributes\n  attribute :user, :session\nend\n\n# Usage anywhere in app\nCurrent.user.can_administer?(@message)\n```\n\n### Ruby Syntax Preferences\n\n```ruby\n# Symbol arrays with spaces inside brackets\nbefore_action :set_message, only: %i[ show edit update destroy ]\n\n# Modern hash syntax exclusively\nparams.require(:message).permit(:body, :attachment)\n\n# Single-line blocks with braces\nusers.each { |user| user.notify }\n\n# Ternaries for simple conditionals\n@room.direct? ? @room.users : @message.mentionees\n\n# Bang methods for fail-fast\n@message = Message.create!(params)\n@message.update!(message_params)\n\n# Predicate methods with question marks\n@room.direct?\nuser.can_administer?(@message)\n@messages.any?\n\n# Expression-less case for cleaner conditionals\ncase\nwhen params[:before].present?\n  @room.messages.page_before(params[:before])\nwhen params[:after].present?\n  @room.messages.page_after(params[:after])\nelse\n  @room.messages.last_page\nend\n```\n\n### Query Optimization\n\n```ruby\n# WRONG: Load all records then extract attribute\nusers.map(&:name)\n\n# CORRECT: Pluck directly from database\nusers.pluck(:name)\n\n# WRONG: Count via Ruby\nmessages.to_a.count\n\n# CORRECT: Count via SQL\nmessages.count\n```\n\n### StringInquirer for Predicates\n\nUse `.inquiry` on string enums for readable conditionals:\n\n```ruby\nclass Event < ApplicationRecord\n  def action\n    super.inquiry\n  end\nend\n\n# Clean predicate methods\nevent.action.completed?\nevent.action.pending?\nevent.action.failed?\n```\n\n### Controller Response Patterns\n\n```ruby\n# Return 204 No Content for successful updates without body\ndef update\n  @message.update!(message_params)\n  head :no_content\nend\n\n# Return 201 Created for successful creates\ndef create\n  @message = Message.create!(message_params)\n  head :created\nend\n```\n\n### My:: Namespace for Current User Resources\n\nUse `My::` namespace for resources scoped to `Current.user`:\n\n```ruby\n# routes.rb\nnamespace :my do\n  resource :profile, only: %i[ show edit update ]\n  resources :notifications, only: %i[ index destroy ]\nend\n\n# app/controllers/my/profiles_controller.rb\nclass My::ProfilesController < ApplicationController\n  def show\n    @profile = Current.user\n  end\nend\n```\n\nNo `index` or `show` with ID neededresource is implicit from `Current.user`.\n\n### Compute at Write Time\n\nPerform data manipulation during saves, not during presentation:\n\n```ruby\n# WRONG: Compute on read\ndef display_name\n  \"#{first_name} #{last_name}\".titleize\nend\n\n# CORRECT: Compute on write\nbefore_save :set_display_name\n\nprivate\n  def set_display_name\n    self.display_name = \"#{first_name} #{last_name}\".titleize\n  end\n```\n\nBenefits: enables pagination, caching, and reduces view complexity.\n\n### Delegate for Lazy Loading\n\nUse `delegate` to enable lazy loading through associations:\n\n```ruby\nclass Message < ApplicationRecord\n  belongs_to :session\n  delegate :user, to: :session\nend\n\n# Lazy loads user through session\nmessage.user\n```\n\n### Naming Conventions\n\n| Element | Convention | Example |\n|---------|------------|---------|\n| Setter methods | `set_` prefix | `set_message`, `set_room` |\n| Parameter methods | `{model}_params` | `message_params` |\n| Association names | Semantic, not generic | `creator` not `user` |\n| Scopes | Chainable, descriptive | `with_creator`, `page_before` |\n| Predicates | End with `?` | `direct?`, `can_administer?` |\n| Current user resources | `My::` namespace | `My::ProfilesController` |\n\n### Hotwire/Turbo Patterns\nBroadcasting is model responsibility:\n\n```ruby\n# In model\ndef broadcast_create\n  broadcast_append_to room, :messages, target: \"messages\"\nend\n\n# In controller\n@message.broadcast_replace_to @room, :messages,\n  target: [ @message, :presentation ],\n  partial: \"messages/presentation\",\n  attributes: { maintain_scroll: true }\n```\n\n### Error Handling\nRescue specific exceptions, fail fast with bang methods:\n\n```ruby\ndef create\n  @message = @room.messages.create_with_attachment!(message_params)\n  @message.broadcast_create\nrescue ActiveRecord::RecordNotFound\n  render action: :room_not_found\nend\n```\n\n### State as Records (Not Booleans)\n\nTrack state via database records rather than boolean columns:\n\n```ruby\n# WRONG: Boolean columns for state\nclass Card < ApplicationRecord\n  # closed: boolean, gilded: boolean columns\nend\ncard.update!(closed: true)\ncard.closed?  # Loses who/when/why\n\n# CORRECT: State as separate records\nclass Card < ApplicationRecord\n  has_one :closure\n  has_one :gilding\n\n  def close(by:)\n    create_closure!(closed_by: by)\n  end\n\n  def closed?\n    closure.present?\n  end\nend\ncard.close(by: Current.user)\ncard.closure.closed_by  # Full audit trail\n```\n\n### REST URL Transformations\n\nMap custom actions to nested resource controllers:\n\n| Custom Action | REST Resource |\n|---------------|---------------|\n| `POST /cards/:id/close` | `POST /cards/:id/closure` |\n| `DELETE /cards/:id/close` | `DELETE /cards/:id/closure` |\n| `POST /cards/:id/gild` | `POST /cards/:id/gilding` |\n| `POST /posts/:id/publish` | `POST /posts/:id/publication` |\n| `DELETE /posts/:id/publish` | `DELETE /posts/:id/publication` |\n\n```ruby\n# routes.rb\nresources :cards do\n  resource :closure, only: %i[ create destroy ]\n  resource :gilding, only: %i[ create destroy ]\nend\n\n# app/controllers/cards/closures_controller.rb\nclass Cards::ClosuresController < ApplicationController\n  def create\n    @card = Card.find(params[:card_id])\n    @card.close(by: Current.user)\n  end\n\n  def destroy\n    @card = Card.find(params[:card_id])\n    @card.closure.destroy!\n  end\nend\n```\n\n### Architecture Preferences\n\n| Traditional | DHH Way |\n|-------------|---------|\n| PostgreSQL | SQLite (for single-tenant) |\n| Redis + Sidekiq | Solid Queue |\n| Redis cache | Solid Cache |\n| Kubernetes | Single Docker container |\n| Service objects | Fat models |\n| Policy objects (Pundit) | Authorization on User model |\n| FactoryBot | Fixtures |\n| Boolean state columns | State as records |\n\n## Detailed References\n\nFor comprehensive patterns and examples, see:\n\n### Core Patterns\n- `references/patterns.md` - Complete code patterns with explanations\n- `references/palkan-patterns.md` - Namespaced model classes, counter caches, model organization order, PostgreSQL enums\n- `references/concerns-organization.md` - Model-specific vs common concerns, facade pattern\n- `references/delegated-types.md` - Polymorphism without STI problems\n- `references/recording-pattern.md` - Unifying abstraction for diverse content types\n- `references/filter-objects.md` - PORO filter objects, URL-based state, testable query building\n- `references/database-patterns.md` - UUIDv7, hard deletes, state as records, counter caches, indexing\n\n### Rails Components\n- `references/activerecord-tips.md` - ActiveRecord query patterns, validations, associations\n- `references/controllers-tips.md` - Controller patterns, routing, rate limiting, form objects\n- `references/hotwire-tips.md` - Turbo Frames, Turbo Streams, Stimulus, ViewComponents\n- `references/turbo-morphing.md` - Turbo 8 page refresh with morphing patterns\n- `references/activestorage-tips.md` - File uploads, attachments, blob handling\n- `references/stimulus-catalog.md` - Copy-paste-ready Stimulus controllers (clipboard, dialog, hotkey, etc.)\n\n### Frontend\n- `references/css-architecture.md` - Native CSS patterns (layers, OKLCH, nesting, dark mode)\n\n### Authentication & Multi-Tenancy\n- `references/passwordless-auth.md` - Magic link authentication, sessions, identity model\n- `references/multi-tenancy.md` - Path-based tenancy, cookie scoping, tenant-aware jobs\n\n### Infrastructure & Integrations\n- `references/webhooks.md` - Secure webhook delivery, SSRF protection, retry strategies\n- `references/caching-strategies.md` - Russian Doll caching, Solid Cache, cache analysis\n- `references/config-tips.md` - Configuration, logging, deployment patterns\n- `references/structured-events.md` - Rails 8.1 `Rails.event` API for structured observability\n- `references/resources.md` - Links to source material and further reading\n\n## Philosophy Summary\n\n1. **REST purity**: 7 actions only; new controllers for variations\n2. **Fat models**: Authorization, broadcasting, business logic in models\n3. **Thin controllers**: 1-5 line actions; extract complexity\n4. **Convention over configuration**: Empty methods, implicit rendering\n5. **Minimal abstractions**: No service objects for simple cases\n6. **Current attributes**: Thread-local request context everywhere\n7. **Hotwire-first**: Model-level broadcasting, Turbo Streams, Stimulus\n8. **Readable code**: Semantic naming, small methods, no comments needed\n\n## Success Indicators\n\nCode aligns with DHH style when:\n\n- [ ] Controllers map CRUD verbs to resources (no custom actions)\n- [ ] Models use concerns for horizontal behavior sharing\n- [ ] State uses records instead of boolean columns\n- [ ] Abstractions remain minimal (no unnecessary service objects)\n- [ ] Database backs solutions (Solid Queue/Cache, not Redis)\n- [ ] Turbo/Stimulus handle all interactivity\n- [ ] Authorization lives on User model (`can_*?` methods)\n- [ ] Current attributes provide request context\n- [ ] Scopes follow naming conventions (`chronologically`, `with_*`, etc.)\n- [ ] Uses `pluck` over `map` for attribute extraction\n- [ ] Current user resources use `My::` namespace\n- [ ] Data computed at write time, not presentation"
              },
              {
                "name": "dialog-patterns",
                "description": "Native HTML dialog patterns for Rails with Turbo and Stimulus. Use when building modals, confirmations, alerts, or any overlay UI. Triggers on modal, dialog, popup, confirmation, alert, or toast patterns.",
                "path": "plugins/majestic-rails/skills/dialog-patterns/SKILL.md",
                "frontmatter": {
                  "name": "dialog-patterns",
                  "description": "Native HTML dialog patterns for Rails with Turbo and Stimulus. Use when building modals, confirmations, alerts, or any overlay UI. Triggers on modal, dialog, popup, confirmation, alert, or toast patterns."
                },
                "content": "# Native Dialog Patterns for Rails\n\nBuild accessible, modern dialog UIs using the native HTML `<dialog>` element with Turbo Frames and Stimulus. No JavaScript frameworks or heavy libraries required.\n\n## When to Use This Skill\n\n- Building modal dialogs for forms, confirmations, or content\n- Creating toast/alert notifications\n- Implementing confirmation dialogs (delete, destructive actions)\n- Any overlay UI that needs focus management and accessibility\n\n## Why Native `<dialog>`?\n\n| Feature | Native `<dialog>` | Custom Modal |\n|---------|-------------------|--------------|\n| Focus trapping | Built-in | Manual implementation |\n| ESC to close | Built-in | Manual implementation |\n| Backdrop | Built-in (`::backdrop`) | Manual overlay |\n| Accessibility | Native `role=\"dialog\"` | Manual ARIA |\n| Top layer | Automatic (above all content) | z-index battles |\n| Scroll lock | Automatic | Manual `overflow: hidden` |\n\n## Zero-JavaScript Confirmation Dialogs (Recommended)\n\nModern browsers support the **Invoker Commands API** for declarative dialog controlno JavaScript required. See [resources/zero-js-patterns.md](resources/zero-js-patterns.md) for complete examples.\n\n### Quick Reference\n\n```erb\n<%= button_tag \"Delete\", commandfor: \"delete-#{post.id}\", command: \"show-modal\" %>\n\n<dialog id=\"delete-<%= post.id %>\" closedby=\"any\" role=\"alertdialog\">\n  <h3>Delete \"<%= post.title %>\"?</h3>\n  <button commandfor=\"delete-<%= post.id %>\" command=\"close\">Cancel</button>\n  <%= button_to \"Delete\", post, method: :delete %>\n</dialog>\n```\n\n### Key Attributes\n\n| Attribute | Purpose |\n|-----------|---------|\n| `commandfor=\"id\"` | References the dialog to control |\n| `command=\"show-modal\"` | Opens as modal (backdrop, focus trap) |\n| `command=\"close\"` | Closes the dialog |\n| `closedby=\"any\"` | Enables backdrop click and ESC to close |\n\n### When to Use Zero-JS vs Stimulus\n\n| Scenario | Approach |\n|----------|----------|\n| Simple confirmations | Zero-JS (Invoker Commands) |\n| Modals with async content | Stimulus + Turbo Frames |\n| Complex multi-step dialogs | Stimulus controller |\n| Animations | CSS `@starting-style` |\n\n### Additional Patterns (see resources/)\n\n- **CSS animations** with `@starting-style` for enter/exit transitions\n- **Turbo.config.forms.confirm** to replace ugly browser dialogs\n- **Progressive enhancement** for cross-browser compatibility\n\n## Core Pattern: Async Modal with Turbo Frames\n\nThe recommended pattern for Rails modals combines three technologies:\n\n1. **Turbo Frame** - Async content loading without page reload\n2. **Native `<dialog>`** - Accessible modal presentation\n3. **Stimulus controller** - Lifecycle management\n\n### Step 1: Layout Container\n\nAdd a modal turbo-frame to your layout:\n\n```erb\n<%# app/views/layouts/application.html.erb %>\n<body>\n  <%= yield %>\n\n  <%# Modal injection point %>\n  <%= turbo_frame_tag :modal %>\n</body>\n```\n\n### Step 2: Trigger Links\n\nTarget the modal frame from any link:\n\n```erb\n<%# Any view %>\n<%= link_to \"New Post\", new_post_path, data: { turbo_frame: :modal } %>\n<%= link_to \"Edit\", edit_post_path(@post), data: { turbo_frame: :modal } %>\n<%= link_to \"Confirm Delete\", confirm_delete_post_path(@post), data: { turbo_frame: :modal } %>\n```\n\n### Step 3: Modal Content View\n\nWrap modal content in matching turbo-frame with nested inner frame:\n\n```erb\n<%# app/views/posts/new.html.erb %>\n<%= turbo_frame_tag :modal do %>\n  <%# Inner frame prevents flash during form validation %>\n  <%= turbo_frame_tag :modal_content do %>\n    <dialog data-controller=\"dialog\" data-action=\"click->dialog#clickOutside\" open>\n      <article>\n        <header>\n          <h2>New Post</h2>\n          <button data-action=\"dialog#close\" aria-label=\"Close\">&times;</button>\n        </header>\n\n        <%= render \"form\", post: @post %>\n      </article>\n    </dialog>\n  <% end %>\n<% end %>\n```\n\n### Step 4: Stimulus Controller\n\n```javascript\n// app/javascript/controllers/dialog_controller.js\nimport { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n  connect() {\n    // Auto-open when content loads via Turbo\n    this.element.showModal()\n\n    // Store original scroll position\n    this.scrollY = window.scrollY\n  }\n\n  disconnect() {\n    // Clean up turbo-frame to prevent stale content flash\n    const frame = this.element.closest(\"turbo-frame\")\n    if (frame) {\n      frame.removeAttribute(\"src\")\n      // Safe DOM clearing without innerHTML\n      frame.replaceChildren()\n    }\n  }\n\n  close() {\n    this.element.close()\n  }\n\n  clickOutside(event) {\n    // Close when clicking backdrop (the dialog element itself, not content)\n    if (event.target === this.element) {\n      this.close()\n    }\n  }\n\n  // Handle ESC key (native behavior, but can customize)\n  keydown(event) {\n    if (event.key === \"Escape\") {\n      this.close()\n    }\n  }\n}\n```\n\n### Step 5: Styling\n\n```css\n/* app/assets/stylesheets/components/dialog.css */\ndialog {\n  border: none;\n  border-radius: 0.5rem;\n  padding: 0;\n  max-width: 32rem;\n  width: 90vw;\n  box-shadow: 0 25px 50px -12px rgb(0 0 0 / 0.25);\n}\n\ndialog::backdrop {\n  background: rgb(0 0 0 / 0.5);\n  backdrop-filter: blur(2px);\n}\n\ndialog article {\n  padding: 1.5rem;\n}\n\ndialog header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n}\n\n/* Prevent background scroll when modal open */\nbody:has(dialog[open]) {\n  overflow: hidden;\n}\n```\n\nWith Tailwind:\n\n```erb\n<dialog class=\"rounded-lg shadow-xl max-w-lg w-[90vw] p-0 backdrop:bg-black/50 backdrop:backdrop-blur-sm\"\n        data-controller=\"dialog\"\n        data-action=\"click->dialog#clickOutside\">\n  <!-- content -->\n</dialog>\n```\n\n## Why Nested Turbo Frames?\n\nThe nested frame pattern (`modal` > `modal_content`) prevents content flashing:\n\n```erb\n<%= turbo_frame_tag :modal do %>\n  <%= turbo_frame_tag :modal_content do %>\n    <dialog>...</dialog>\n  <% end %>\n<% end %>\n```\n\n**Problem without nested frame:**\nWhen a form inside the modal has validation errors and re-renders, the outer frame briefly shows the old content before replacing it.\n\n**Solution with nested frame:**\nThe inner frame handles form re-renders independently, keeping the modal structure stable.\n\n## Form Handling in Modals\n\n### Successful Submission\n\nRedirect with Turbo to close modal and update page:\n\n```ruby\n# app/controllers/posts_controller.rb\ndef create\n  @post = Post.new(post_params)\n\n  if @post.save\n    redirect_to posts_path, notice: \"Post created!\"\n  else\n    render :new, status: :unprocessable_entity\n  end\nend\n```\n\nThe redirect navigates `_top` (full page), effectively closing the modal.\n\n### Validation Errors\n\nRe-render the form with `422` status to keep modal open:\n\n```ruby\nrender :new, status: :unprocessable_entity\n```\n\n### Turbo Stream Response (Stay in Modal)\n\nTo update content without closing:\n\n```ruby\ndef create\n  @post = Post.new(post_params)\n\n  if @post.save\n    respond_to do |format|\n      format.turbo_stream {\n        render turbo_stream: [\n          turbo_stream.append(\"posts\", partial: \"posts/post\", locals: { post: @post }),\n          turbo_stream.update(\"modal\", \"\")  # Clear modal\n        ]\n      }\n      format.html { redirect_to posts_path }\n    end\n  else\n    render :new, status: :unprocessable_entity\n  end\nend\n```\n\n## Confirmation Dialog Pattern\n\nFor destructive actions like delete:\n\n### The View\n\n```erb\n<%# app/views/posts/confirm_delete.html.erb %>\n<%= turbo_frame_tag :modal do %>\n  <dialog data-controller=\"dialog\" data-action=\"click->dialog#clickOutside\" open>\n    <article>\n      <h2>Delete Post?</h2>\n      <p>Are you sure you want to delete \"<%= @post.title %>\"? This cannot be undone.</p>\n\n      <footer class=\"flex gap-2 justify-end mt-4\">\n        <button data-action=\"dialog#close\" class=\"btn btn-secondary\">\n          Cancel\n        </button>\n        <%= button_to \"Delete\", @post,\n              method: :delete,\n              class: \"btn btn-danger\",\n              data: { turbo_confirm: false } %>\n      </footer>\n    </article>\n  </dialog>\n<% end %>\n```\n\n### The Route\n\n```ruby\n# config/routes.rb\nresources :posts do\n  member do\n    get :confirm_delete\n  end\nend\n```\n\n### The Trigger\n\n```erb\n<%= link_to \"Delete\", confirm_delete_post_path(@post), data: { turbo_frame: :modal } %>\n```\n\n## Alert/Toast Pattern\n\nFor flash messages and notifications. Use `show()` instead of `showModal()` for non-modal presentation. See [resources/toast-slideover-patterns.md](resources/toast-slideover-patterns.md) for complete implementation.\n\n```erb\n<dialog class=\"toast\" data-controller=\"toast\" data-toast-duration-value=\"5000\">\n  <p><%= message %></p>\n</dialog>\n```\n\nKey difference: `show()` opens without backdrop or focus trap (toasts), `showModal()` centers with backdrop (modals).\n\n## Slideover Panel Pattern\n\nFor side panels (settings, filters, details). See [resources/toast-slideover-patterns.md](resources/toast-slideover-patterns.md) for styling and animations.\n\n```erb\n<dialog class=\"slideover\" data-controller=\"dialog\" data-action=\"click->dialog#clickOutside\">\n  <aside>\n    <header><h2>Filters</h2></header>\n    <%= render \"filters\" %>\n  </aside>\n</dialog>\n```\n\n## Accessibility Checklist\n\nNative `<dialog>` handles most accessibility, but verify:\n\n- [ ] **Focus management** - First focusable element receives focus on open\n- [ ] **Focus trap** - Tab cycling stays within dialog (native behavior)\n- [ ] **ESC closes** - Native behavior with `showModal()`\n- [ ] **Background inert** - Content behind dialog is not interactive (native)\n- [ ] **Visible close button** - Not just ESC, provide visible control\n- [ ] **Descriptive title** - Use `<h2>` or `aria-labelledby`\n- [ ] **Return focus** - Focus returns to trigger element on close\n\n### Enhanced Accessibility\n\n```erb\n<dialog aria-labelledby=\"dialog-title\"\n        aria-describedby=\"dialog-description\"\n        data-controller=\"dialog\">\n  <h2 id=\"dialog-title\">Confirm Action</h2>\n  <p id=\"dialog-description\">This action cannot be undone.</p>\n  <!-- content -->\n</dialog>\n```\n\n### Focus Return\n\n```javascript\n// Enhanced dialog controller with focus return\nconnect() {\n  this.previouslyFocused = document.activeElement\n  this.element.showModal()\n}\n\nclose() {\n  this.element.close()\n  this.previouslyFocused?.focus()\n}\n```\n\n## Common Patterns Summary\n\n| Pattern | Container | Stimulus | `show` method |\n|---------|-----------|----------|---------------|\n| Modal form | `turbo_frame_tag :modal` | `dialog` | `showModal()` |\n| Confirmation | `turbo_frame_tag :modal` | `dialog` | `showModal()` |\n| Toast/Alert | Fixed position | `toast` | `show()` |\n| Slideover | `turbo_frame_tag :modal` | `dialog` | `showModal()` |\n\n## Anti-Patterns to Avoid\n\n| Anti-Pattern | Problem | Solution |\n|--------------|---------|----------|\n| Custom modal without `<dialog>` | No native accessibility | Use native `<dialog>` |\n| Missing nested turbo-frame | Content flash on validation | Add inner frame |\n| Not clearing frame on close | Stale content on reopen | Clear with `replaceChildren()` in `disconnect()` |\n| z-index for stacking | Battles with other elements | `<dialog>` uses top layer |\n| Manual focus trap | Complex, error-prone | `showModal()` handles it |\n| Inline backdrop div | Extra markup | Use `::backdrop` pseudo-element |\n\n## Testing Dialogs\n\n```ruby\n# System test - use `within \"dialog\"` to scope assertions\nwithin \"dialog\" do\n  fill_in \"Title\", with: \"My Post\"\n  click_button \"Create\"\nend\nexpect(page).not_to have_selector(\"dialog[open]\")  # Modal closed\n```\n\n## Browser Support\n\n| Pattern | Chrome | Firefox | Safari |\n|---------|--------|---------|--------|\n| Native `<dialog>` | 37+ | 98+ | 15.4+ |\n| Invoker Commands | 135+ | 144+ | 26.2+ |\n| `@starting-style` | 117+ | 129+ | 17.5+ |\n\nFor older browsers: [dialog polyfill](https://github.com/GoogleChrome/dialog-polyfill), [invokers polyfill](https://github.com/nickshanks/invokers). See [resources/zero-js-patterns.md](resources/zero-js-patterns.md) for progressive enhancement strategies."
              },
              {
                "name": "event-sourcing-coder",
                "description": "Record domain events and dispatch to inbox handlers for side effects, audit trails, and activity feeds. Use when building activity logs, syncing external services, or decoupling event creation from processing. Triggers on event recording, audit trails, activity feeds, or inbox patterns.",
                "path": "plugins/majestic-rails/skills/event-sourcing-coder/SKILL.md",
                "frontmatter": {
                  "name": "event-sourcing-coder",
                  "description": "Record domain events and dispatch to inbox handlers for side effects, audit trails, and activity feeds. Use when building activity logs, syncing external services, or decoupling event creation from processing. Triggers on event recording, audit trails, activity feeds, or inbox patterns."
                },
                "content": "# Event Sourcing for Rails Monoliths\n\nRecord significant domain events and dispatch them to specialized handlers - a pragmatic approach to event sourcing without the complexity of full CQRS/ES infrastructure.\n\n## When to Use This Skill\n\n- Building activity feeds or audit trails\n- Syncing data to external services (CRMs, analytics, webhooks)\n- Automating workflows triggered by domain events\n- Decoupling \"what happened\" from \"what to do about it\"\n- Tracking user actions for analytics or debugging\n\n## When NOT to Use Events\n\n| Scenario | Better Alternative |\n|----------|-------------------|\n| Simple callbacks on single model | ActiveRecord callbacks |\n| Synchronous side effects only | Service objects or ActiveInteraction |\n| Need full event replay/rebuilding | Dedicated event sourcing gem (Rails Event Store) |\n| Single handler per event | Direct method calls |\n\n## Core Concept\n\n**Decouple recording from processing:**\n\n```\nUser action  Record Event  Broadcast to Inboxes  Side Effects\n                  \n              Queryable\n              (audit trail)\n```\n\n## Setup\n\n### Migration\n\n```ruby\nclass CreateIssueEvents < ActiveRecord::Migration[8.0]\n  def change\n    create_table :issue_events do |t|\n      t.references :issue, null: false, foreign_key: true\n      t.references :actor, null: false, foreign_key: { to_table: :users }\n      t.string :action, null: false\n      t.jsonb :metadata, default: {}\n      t.timestamps\n    end\n\n    add_index :issue_events, :action\n    add_index :issue_events, :created_at\n  end\nend\n```\n\n### Event Model\n\n```ruby\n# app/models/issue/event.rb\nmodule Issue::Event\n  extend ActiveSupport::Concern\n\n  ACTIONS = %w[\n    created\n    assigned\n    status_changed\n    commented\n    closed\n    reopened\n  ].freeze\n\n  included do\n    belongs_to :issue\n    belongs_to :actor, class_name: \"User\"\n\n    validates :action, presence: true, inclusion: { in: ACTIONS }\n\n    after_commit :broadcast_to_inboxes, on: :create\n  end\n\n  private\n\n  def broadcast_to_inboxes\n    Issue::Event::BroadcastJob.perform_later(self)\n  end\nend\n\nclass Issue::Event < ApplicationRecord\n  include Issue::Event\nend\n```\n\n### Recording Events\n\n```ruby\n# app/models/issue.rb\nclass Issue < ApplicationRecord\n  has_many :events, class_name: \"Issue::Event\", dependent: :destroy\n\n  def record_event!(action:, actor:, metadata: {}, throttle: nil)\n    return if throttle && recently_recorded?(action, throttle)\n\n    events.create!(\n      action: action,\n      actor: actor,\n      metadata: metadata\n    )\n  end\n\n  private\n\n  def recently_recorded?(action, duration)\n    events.where(action: action)\n          .where(\"created_at > ?\", duration.ago)\n          .exists?\n  end\nend\n```\n\n### Usage in Application\n\n```ruby\n# In a controller or interaction\nissue.record_event!(\n  action: \"status_changed\",\n  actor: current_user,\n  metadata: { from: \"open\", to: \"in_progress\" }\n)\n\n# With throttling (prevent duplicate events within timeframe)\nissue.record_event!(\n  action: \"viewed\",\n  actor: current_user,\n  throttle: 5.minutes\n)\n```\n\n## The Inbox Pattern\n\nInboxes are specialized handlers that decide whether to process each event type.\n\n### Broadcast Job\n\n```ruby\n# app/jobs/issue/event/broadcast_job.rb\nclass Issue::Event::BroadcastJob < ApplicationJob\n  queue_as :events\n\n  INBOXES = [\n    Issue::Event::Inboxes::EmailNotifications,\n    Issue::Event::Inboxes::SlackNotifications,\n    Issue::Event::Inboxes::ExternalSync,\n    Issue::Event::Inboxes::AutomationRules\n  ].freeze\n\n  def perform(event)\n    INBOXES.each do |inbox_class|\n      inbox_class.new(event).process\n    end\n  end\nend\n```\n\n### Inbox Base Class\n\n```ruby\n# app/models/issue/event/inboxes/base.rb\nmodule Issue::Event::Inboxes\n  class Base\n    attr_reader :event\n\n    delegate :issue, :actor, :action, :metadata, to: :event\n\n    def initialize(event)\n      @event = event\n    end\n\n    def process\n      return unless should_process?\n\n      handle\n    end\n\n    private\n\n    def should_process?\n      raise NotImplementedError\n    end\n\n    def handle\n      raise NotImplementedError\n    end\n  end\nend\n```\n\n### Example Inbox: Email Notifications\n\n```ruby\n# app/models/issue/event/inboxes/email_notifications.rb\nmodule Issue::Event::Inboxes\n  class EmailNotifications < Base\n    NOTIFY_ACTIONS = %w[assigned commented status_changed].freeze\n\n    private\n\n    def should_process?\n      action.in?(NOTIFY_ACTIONS) && recipients.any?\n    end\n\n    def handle\n      recipients.each do |user|\n        IssueMailer.event_notification(\n          user: user,\n          issue: issue,\n          event: event\n        ).deliver_later\n      end\n    end\n\n    def recipients\n      @recipients ||= issue.subscribers.where.not(id: actor.id)\n    end\n  end\nend\n```\n\n### Example Inbox: External Sync\n\n```ruby\n# app/models/issue/event/inboxes/external_sync.rb\nmodule Issue::Event::Inboxes\n  class ExternalSync < Base\n    SYNC_ACTIONS = %w[created status_changed closed].freeze\n\n    private\n\n    def should_process?\n      action.in?(SYNC_ACTIONS) && issue.external_id.present?\n    end\n\n    def handle\n      ExternalService::SyncIssueJob.perform_later(\n        issue_id: issue.id,\n        action: action,\n        metadata: metadata\n      )\n    end\n  end\nend\n```\n\n## Activity Feed\n\nEvents become queryable for activity feeds:\n\n```ruby\n# Recent activity on an issue\nissue.events.includes(:actor).order(created_at: :desc).limit(20)\n\n# User's recent activity across all issues\nIssue::Event.where(actor: current_user)\n            .includes(:issue)\n            .order(created_at: :desc)\n            .limit(50)\n\n# Activity feed component\nclass Issue::ActivityFeedComponent < ViewComponent::Base\n  def initialize(issue:)\n    @events = issue.events.includes(:actor).order(created_at: :desc)\n  end\nend\n```\n\n## Integration with State Machines\n\nCombine with AASM for automatic event recording:\n\n```ruby\nclass Issue < ApplicationRecord\n  include AASM\n\n  aasm column: :status do\n    state :open, initial: true\n    state :in_progress\n    state :resolved\n    state :closed\n\n    event :start do\n      transitions from: :open, to: :in_progress\n      after { record_status_change(\"open\", \"in_progress\") }\n    end\n\n    event :resolve do\n      transitions from: :in_progress, to: :resolved\n      after { record_status_change(\"in_progress\", \"resolved\") }\n    end\n  end\n\n  private\n\n  def record_status_change(from, to)\n    record_event!(\n      action: \"status_changed\",\n      actor: Current.user,\n      metadata: { from: from, to: to }\n    )\n  end\nend\n```\n\n## Testing\n\n### Testing Event Recording\n\n```ruby\nRSpec.describe Issue do\n  describe \"#record_event!\" do\n    let(:issue) { create(:issue) }\n    let(:user) { create(:user) }\n\n    it \"creates an event\" do\n      expect {\n        issue.record_event!(action: \"commented\", actor: user)\n      }.to change(issue.events, :count).by(1)\n    end\n\n    it \"stores metadata\" do\n      issue.record_event!(\n        action: \"status_changed\",\n        actor: user,\n        metadata: { from: \"open\", to: \"closed\" }\n      )\n\n      expect(issue.events.last.metadata).to eq(\n        \"from\" => \"open\",\n        \"to\" => \"closed\"\n      )\n    end\n\n    context \"with throttling\" do\n      it \"prevents duplicate events within timeframe\" do\n        issue.record_event!(action: \"viewed\", actor: user)\n\n        expect {\n          issue.record_event!(action: \"viewed\", actor: user, throttle: 5.minutes)\n        }.not_to change(issue.events, :count)\n      end\n    end\n  end\nend\n```\n\n### Testing Inboxes\n\n```ruby\nRSpec.describe Issue::Event::Inboxes::EmailNotifications do\n  let(:event) { create(:issue_event, action: \"assigned\") }\n  let(:inbox) { described_class.new(event) }\n\n  describe \"#process\" do\n    context \"when issue has subscribers\" do\n      before { create(:subscription, issue: event.issue) }\n\n      it \"sends notification emails\" do\n        expect { inbox.process }\n          .to have_enqueued_mail(IssueMailer, :event_notification)\n      end\n    end\n\n    context \"when action is not notifiable\" do\n      let(:event) { create(:issue_event, action: \"viewed\") }\n\n      it \"does not send emails\" do\n        expect { inbox.process }\n          .not_to have_enqueued_mail(IssueMailer)\n      end\n    end\n  end\nend\n```\n\n## Best Practices\n\n### Keep Events Immutable\n\n```ruby\n# Good: Events are append-only facts\nissue.record_event!(action: \"status_changed\", ...)\n\n# Avoid: Never update or delete events\nevent.update!(action: \"different\")  # Don't do this\n```\n\n### Use Meaningful Action Names\n\n```ruby\n# Good: Verb in past tense, describes what happened\nACTIONS = %w[created assigned commented resolved closed reopened]\n\n# Avoid: Vague or present-tense actions\nACTIONS = %w[update change action do_thing]\n```\n\n### Store Context in Metadata\n\n```ruby\n# Good: Capture context at event time\nrecord_event!(\n  action: \"status_changed\",\n  actor: current_user,\n  metadata: {\n    from: previous_status,\n    to: new_status,\n    reason: params[:reason],\n    triggered_by: \"manual\"  # vs \"automation\"\n  }\n)\n\n# Avoid: Relying on current state (it changes)\nrecord_event!(action: \"status_changed\", actor: current_user)\n# Later: \"What was the previous status?\" - Unknown!\n```\n\n### Process Events Asynchronously\n\n```ruby\n# Good: Inboxes process in background jobs\nafter_commit :broadcast_to_inboxes, on: :create\n\ndef broadcast_to_inboxes\n  BroadcastJob.perform_later(self)\nend\n\n# Avoid: Synchronous processing blocks the request\nafter_create :process_all_inboxes  # Slow!\n```\n\n## Detailed References\n\nFor advanced patterns:\n- `references/event-model.md` - Polymorphic events, custom types, concerns\n- `references/inbox-pattern.md` - Inbox composition, error handling, retries\n- `references/use-cases.md` - Activity feeds, webhooks, automation rules"
              },
              {
                "name": "gem-builder",
                "description": "Comprehensive guide for building production-quality Ruby gems. Use when creating new gems, structuring gem architecture, implementing configuration patterns, setting up testing, or preparing for publishing. Covers all gem types - libraries, CLI tools, Rails engines, and API clients.",
                "path": "plugins/majestic-rails/skills/gem-builder/SKILL.md",
                "frontmatter": {
                  "name": "gem-builder",
                  "description": "Comprehensive guide for building production-quality Ruby gems. Use when creating new gems, structuring gem architecture, implementing configuration patterns, setting up testing, or preparing for publishing. Covers all gem types - libraries, CLI tools, Rails engines, and API clients.",
                  "allowed-tools": "Read, Write, Edit, MultiEdit, Grep, Glob, Bash, WebSearch"
                },
                "content": "# Gem Builder\n\n## Core Philosophy\n\n- **Minimal dependencies**: Only add gems you truly need\n- **Single responsibility**: Each class/module does one thing well\n- **Semantic versioning**: Follow SemVer strictly (MAJOR.MINOR.PATCH)\n- **Test coverage**: Every public method has tests\n- **Documentation**: YARD docs, README, and CHANGELOG\n- **Fail fast**: Validate inputs early, raise descriptive errors\n\n## Gem Structure\n\n```\nmy_gem/\n lib/\n    my_gem.rb              # Main entry point\n    my_gem/\n       version.rb         # VERSION constant\n       config.rb          # Configuration class\n       errors.rb          # Error hierarchy\n       [feature].rb       # Feature modules\n test/                      # Test suite\n my_gem.gemspec             # Gem specification\n Gemfile                    # Development dependencies\n Rakefile                   # Build tasks\n README.md                  # User documentation\n CHANGELOG.md               # Version history\n LICENSE.txt                # License file\n```\n\n### Main Entry Point\n\n```ruby\n# lib/my_gem.rb\nrequire_relative \"my_gem/version\"\nrequire_relative \"my_gem/config\"\nrequire_relative \"my_gem/errors\"\n\nmodule MyGem\n  class << self\n    def config\n      @config ||= Config.new\n    end\n\n    def configure\n      yield(config)\n    end\n\n    def reset_configuration!\n      @config = nil\n    end\n  end\nend\n```\n\n## Gemspec Best Practices\n\n```ruby\n# my_gem.gemspec\nrequire_relative \"lib/my_gem/version\"\n\nGem::Specification.new do |spec|\n  spec.name          = \"my_gem\"\n  spec.version       = MyGem::VERSION\n  spec.authors       = [\"Your Name\"]\n  spec.email         = [\"you@example.com\"]\n  spec.summary       = \"One-line description\"\n  spec.homepage      = \"https://github.com/username/my_gem\"\n  spec.license       = \"MIT\"\n  spec.required_ruby_version = \">= 3.2.0\"\n\n  spec.metadata[\"rubygems_mfa_required\"] = \"true\"\n  spec.metadata[\"changelog_uri\"] = \"#{spec.homepage}/blob/main/CHANGELOG.md\"\n\n  # Exclude test/CI files\n  spec.files = IO.popen(%w[git ls-files -z], chdir: __dir__, err: IO::NULL) do |ls|\n    ls.readlines(\"\\x0\", chomp: true).reject { |f| f.start_with?(*%w[bin/ test/ .github/]) }\n  end\n  spec.require_paths = [\"lib\"]\nend\n```\n\n## Gem Types\n\n| Type | Key Features |\n|------|--------------|\n| Library | Pure Ruby, no external services |\n| API Client | HTTP wrapper with resource pattern |\n| CLI Tool | `spec.executables`, bindir setup |\n| Rails Integration | Railtie with `ActiveSupport.on_load` |\n\n### API Client Pattern\n\n```ruby\nclass Client\n  def initialize(api_key: nil)\n    @api_key = api_key || MyGem.config.api_key\n    raise ArgumentError, \"API key required\" if @api_key.to_s.empty?\n  end\n\n  def users = @users ||= Resources::Users.new(self)\n  def posts = @posts ||= Resources::Posts.new(self)\nend\n```\n\n### Rails Integration\n\n**Never require Rails directly.** Use lazy loading:\n\n```ruby\n# lib/my_gem/railtie.rb\nclass Railtie < Rails::Railtie\n  initializer \"my_gem.configure\" do\n    ActiveSupport.on_load(:active_record) do\n      extend MyGem::Model\n    end\n  end\nend\n\n# lib/my_gem.rb\nrequire_relative \"my_gem/railtie\" if defined?(Rails)\n```\n\n### Class Macro DSL\n\nThe pattern used by `searchkick`, `lockbox`:\n\n```ruby\n# Usage: mygemname word_start: [:name]\nmodule Model\n  def mygemname(**options)\n    unknown = options.keys - KNOWN_OPTIONS\n    raise ArgumentError, \"Unknown: #{unknown.join(\", \")}\" if unknown.any?\n\n    mod = Module.new\n    mod.module_eval { define_method(:some_method) { options[:key] } }\n    include mod\n    class_variable_set(:@@mygemname_options, options.dup)\n  end\nend\n```\n\n## Configuration Pattern\n\n```ruby\n# lib/my_gem/config.rb\nclass Config\n  attr_accessor :api_key, :base_url, :timeout\n  attr_writer :logger\n\n  def initialize\n    @api_key = ENV.fetch(\"MY_GEM_API_KEY\", nil)\n    @base_url = ENV.fetch(\"MY_GEM_BASE_URL\", \"https://api.example.com\")\n    @timeout = Integer(ENV.fetch(\"MY_GEM_TIMEOUT\", 30)) rescue 30\n  end\n\n  def logger\n    @logger ||= defined?(Rails) ? Rails.logger : Logger.new($stderr)\n  end\nend\n```\n\nUsage:\n```ruby\nMyGem.configure do |config|\n  config.api_key = \"secret\"\nend\n```\n\n## Error Handling\n\n```ruby\n# lib/my_gem/errors.rb\nmodule MyGem\n  class Error < StandardError\n    attr_reader :status, :body\n\n    def initialize(message = nil, status: nil, body: nil)\n      super(message)\n      @status, @body = status, body\n    end\n  end\n\n  class ConfigurationError < Error; end\n  class AuthenticationError < Error; end  # 401\n  class ClientError < Error; end          # 4xx\n  class ServerError < Error; end          # 5xx\n  class NetworkError < Error; end         # Connection failures\nend\n```\n\n## Testing Setup\n\n```ruby\n# test/test_helper.rb\n$LOAD_PATH.unshift File.expand_path(\"../lib\", __dir__)\nrequire \"my_gem\"\nrequire \"minitest/autorun\"\nrequire \"webmock/minitest\"\n\nmodule TestConfig\n  def setup_config\n    WebMock.reset!\n    MyGem.reset_configuration!\n    MyGem.configure { |c| c.api_key = \"test-key\" }\n  end\n\n  def teardown_config\n    WebMock.reset!\n    MyGem.reset_configuration!\n  end\nend\n```\n\n```ruby\nclass ClientTest < Minitest::Test\n  include TestConfig\n  def setup = setup_config\n  def teardown = teardown_config\n\n  def test_requires_api_key\n    MyGem.config.api_key = nil\n    assert_raises(ArgumentError) { MyGem::Client.new }\n  end\nend\n```\n\n## Documentation\n\n### YARD Setup (`.yardopts`)\n\n```\n--markup markdown\n--no-private\nlib/**/*.rb\n- README.md\n```\n\n### README Sections\n\nInstallation, Quick Start, Configuration, Features, Development, License.\n\n### CHANGELOG (Keep a Changelog)\n\n```markdown\n## [1.0.0] - 2025-01-15\n### Added\n- Initial release\n```\n\n## Build & Release\n\n### Rakefile\n\n```ruby\nrequire \"bundler/gem_tasks\"\nrequire \"minitest/test_task\"\nMinitest::TestTask.create\n\nrequire \"rubocop/rake_task\"\nRuboCop::RakeTask.new\n\ntask default: %i[test rubocop]\n```\n\n### Release Workflow\n\n```bash\n# 1. Update lib/my_gem/version.rb\n# 2. Update CHANGELOG.md\n# 3. Commit and release\ngit commit -am \"Release v1.0.0\"\nbundle exec rake release\n```\n\n## Anti-Patterns\n\n| Avoid | Instead |\n|-------|---------|\n| `method_missing` | `define_method` |\n| `@@class_variables` | `class << self` with ivars |\n| Requiring Rails directly | `ActiveSupport.on_load` |\n| Many runtime deps | Prefer stdlib |\n| Committing Gemfile.lock | Only lock in apps |\n| Heavy DSLs | Explicit Ruby |\n| `autoload` | `require_relative` |\n\n## Best Practices Checklist\n\n**Structure:**\n- [ ] Standard directory layout\n- [ ] Version in single location\n- [ ] Frozen string literals\n\n**Gemspec:**\n- [ ] All metadata populated\n- [ ] `rubygems_mfa_required` = true\n- [ ] Minimal runtime deps\n\n**Configuration:**\n- [ ] Environment variable fallbacks\n- [ ] Block-based DSL\n- [ ] Test-friendly reset method\n\n**Error Handling:**\n- [ ] Custom hierarchy\n- [ ] Descriptive messages\n- [ ] Status/body preserved\n\n**Testing:**\n- [ ] Isolation between tests\n- [ ] WebMock for HTTP\n- [ ] Success and failure cases\n\n**Documentation:**\n- [ ] YARD on public methods\n- [ ] README with quick start\n- [ ] CHANGELOG\n\n**Rails (if applicable):**\n- [ ] Optional with `if defined?(Rails)`\n- [ ] Isolated namespace\n- [ ] `ActiveSupport.on_load` hooks\n\n## References\n\n- `references/templates.md` - Copy-paste templates (CI, gemspec, README)\n- `references/advanced-patterns.md` - Database adapters, multi-version testing\n- `references/engine-migrations.md` - Keep migrations in Rails engines"
              },
              {
                "name": "hotwire-coder",
                "description": "Use when implementing Hotwire features with Turbo Drive, Turbo Frames, and Turbo Streams. Applies Rails 8 conventions, morphing, broadcasts, lazy loading, and real-time update patterns.",
                "path": "plugins/majestic-rails/skills/hotwire-coder/SKILL.md",
                "frontmatter": {
                  "name": "hotwire-coder",
                  "description": "Use when implementing Hotwire features with Turbo Drive, Turbo Frames, and Turbo Streams. Applies Rails 8 conventions, morphing, broadcasts, lazy loading, and real-time update patterns.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash, WebSearch"
                },
                "content": "# Hotwire Coder\n\nYou are a senior Rails developer specializing in Hotwire. Your goal is to create responsive, real-time applications without writing custom JavaScript.\n\n## Hotwire Philosophy\n\nHotwire sends HTML over the wire instead of JSON:\n\n- **Turbo Drive** - Accelerates navigation by replacing `<body>` without full page reloads\n- **Turbo Frames** - Decompose pages into independent contexts that update on request\n- **Turbo Streams** - Deliver partial page updates from server (HTTP or WebSocket)\n\n## Turbo Drive\n\n### Selective Opt-Out\n\n```erb\n<%= link_to \"Download PDF\", report_path(format: :pdf), data: { turbo: false } %>\n<%= form_with model: @legacy, data: { turbo: false } do |f| %>\n```\n\n### Form Submissions\n\n```ruby\ndef create\n  @post = Post.new(post_params)\n  @post.save ? redirect_to(@post, notice: \"Created!\") : render(:new, status: :unprocessable_entity)\nend\n```\n\n## Turbo Frames\n\n### Basic Frame\n\n```erb\n<turbo-frame id=\"comments\">\n  <%= render @post.comments %>\n  <%= link_to \"Load More\", post_comments_path(@post, page: 2) %>\n</turbo-frame>\n```\n\n### Lazy Loading\n\n```erb\n<turbo-frame id=\"notifications\" src=\"<%= notifications_path %>\" loading=\"lazy\">\n  <p>Loading...</p>\n</turbo-frame>\n```\n\nSee `references/lazy-loading.md` for skeleton UI patterns, infinite scroll, and Stimulus loading controllers.\n\n### Breaking Out of Frames\n\n```erb\n<%= link_to \"View Post\", post_path(@post), data: { turbo_frame: \"_top\" } %>\n<%= link_to \"Results\", search_path, data: { turbo_frame: \"results\" } %>\n```\n\n### Inline Editing Pattern\n\n```erb\n<turbo-frame id=\"<%= dom_id(post) %>\">\n  <article>\n    <h2><%= post.title %></h2>\n    <%= link_to \"Edit\", edit_post_path(post) %>\n  </article>\n</turbo-frame>\n```\n\n## Turbo Streams\n\n### Stream Actions\n\n```erb\n<%= turbo_stream.append \"comments\" do %><%= render @comment %><% end %>\n<%= turbo_stream.replace dom_id(@post) do %><%= render @post %><% end %>\n<%= turbo_stream.remove dom_id(@comment) %>\n```\n\n### HTTP Stream Responses\n\n```ruby\ndef create\n  @comment = @post.comments.create(comment_params)\n  respond_to do |format|\n    format.turbo_stream  # renders create.turbo_stream.erb\n    format.html { redirect_to @post }\n  end\nend\n```\n\n### Real-Time Broadcasts\n\n```ruby\nclass Comment < ApplicationRecord\n  after_create_commit -> {\n    broadcast_append_to post, target: \"comments\", partial: \"comments/comment\"\n  }\n  after_update_commit -> { broadcast_replace_to post }\n  after_destroy_commit -> { broadcast_remove_to post }\nend\n```\n\n```erb\n<%= turbo_stream_from @post %>\n<div id=\"comments\"><%= render @post.comments %></div>\n```\n\n> **Note:** For LLM streaming or features requiring message delivery guarantees, see `anycable-coder` skill. Action Cable provides at-most-once delivery which can lose chunks on reconnection.\n\n## Turbo 8 Morphing\n\n```erb\n<head>\n  <meta name=\"turbo-refresh-method\" content=\"morph\">\n  <meta name=\"turbo-refresh-scroll\" content=\"preserve\">\n</head>\n```\n\n```ruby\nclass Post < ApplicationRecord\n  after_update_commit -> { broadcast_refresh_to self }\nend\n```\n\n## Common Patterns\n\n### Modal Pattern\n\n```erb\n<%= link_to \"New Post\", new_post_path, data: { turbo_frame: \"modal\" } %>\n<turbo-frame id=\"modal\"></turbo-frame>\n```\n\n### Infinite Scroll\n\n```erb\n<div id=\"posts\"><%= render @posts %></div>\n<% if @posts.next_page? %>\n  <turbo-frame id=\"pagination\" src=\"<%= posts_path(page: @posts.next_page) %>\" loading=\"lazy\">\n    <p>Loading more...</p>\n  </turbo-frame>\n<% end %>\n```\n\n## Anti-Patterns\n\n| Anti-Pattern | Problem | Solution |\n|--------------|---------|----------|\n| Mismatched frame IDs | Silent failures | Validate IDs match |\n| Missing status codes | Turbo ignores response | Use 422/303 correctly |\n| Implicit locals in broadcasts | Runtime errors | Always pass `request_id: nil` |\n\n## Debugging\n\n```javascript\nTurbo.setDebug(true)\ndocument.addEventListener(\"turbo:frame-missing\", (e) => console.error(\"Frame not found:\", e.detail.response))\n```\n\n## Output Format\n\nWhen implementing Hotwire features, provide:\n\n1. **Controller** - Actions with proper response handling\n2. **Views** - HTML/ERB with frames and streams\n3. **Model** - Broadcast callbacks if real-time needed\n4. **JavaScript** - Stimulus controllers if needed"
              },
              {
                "name": "inertia-coder",
                "description": "Build modern SPAs with Inertia.js and Rails using React, Vue, or Svelte. Use when creating Inertia pages, handling forms with useForm, managing shared props, or implementing client-side routing. Triggers on Inertia.js setup, SPA development, or React/Vue/Svelte with Rails.",
                "path": "plugins/majestic-rails/skills/inertia-coder/SKILL.md",
                "frontmatter": {
                  "name": "inertia-coder",
                  "description": "Build modern SPAs with Inertia.js and Rails using React, Vue, or Svelte. Use when creating Inertia pages, handling forms with useForm, managing shared props, or implementing client-side routing. Triggers on Inertia.js setup, SPA development, or React/Vue/Svelte with Rails."
                },
                "content": "# Inertia.js + Rails\n\nBuild modern single-page applications using Inertia.js with React/Vue/Svelte and Rails backend.\n\n## When to Use This Skill\n\n- Setting up Inertia.js with Rails\n- Creating Inertia page components\n- Handling forms with useForm hook\n- Managing shared props and flash messages\n- Client-side routing without API complexity\n- File uploads with progress tracking\n\n## What is Inertia.js?\n\n**Inertia.js allows you to build SPAs using classic server-side routing and controllers.**\n\n| Approach | Pros | Cons |\n|----------|------|------|\n| Traditional Rails Views | Simple, server-rendered | Limited interactivity |\n| Rails API + React SPA | Full SPA experience | Duplicated routing, complex state |\n| **Inertia.js** | SPA + server routing | Best of both worlds |\n\n## Quick Setup\n\n```ruby\n# Gemfile\ngem 'inertia_rails'\ngem 'vite_rails'\n```\n\n```bash\nbundle install\nrails inertia:install  # Choose: React, Vue, or Svelte\n```\n\n```ruby\n# config/initializers/inertia_rails.rb\nInertiaRails.configure do |config|\n  config.version = ViteRuby.digest\n\n  config.share do |controller|\n    {\n      auth: {\n        user: controller.current_user&.as_json(only: [:id, :name, :email])\n      },\n      flash: controller.flash.to_hash\n    }\n  end\nend\n```\n\n## Controller Pattern\n\n```ruby\nclass ArticlesController < ApplicationController\n  def index\n    articles = Article.published.order(created_at: :desc)\n\n    render inertia: 'Articles/Index', props: {\n      articles: articles.as_json(only: [:id, :title, :excerpt])\n    }\n  end\n\n  def create\n    @article = Article.new(article_params)\n\n    if @article.save\n      redirect_to article_path(@article), notice: 'Article created'\n    else\n      redirect_to new_article_path, inertia: { errors: @article.errors }\n    end\n  end\nend\n```\n\n## React Page Component\n\n```jsx\n// app/frontend/pages/Articles/Index.jsx\nimport { Link } from '@inertiajs/react'\n\nexport default function Index({ articles }) {\n  return (\n    <div>\n      <h1>Articles</h1>\n      {articles.map(article => (\n        <Link key={article.id} href={`/articles/${article.id}`}>\n          <h2>{article.title}</h2>\n        </Link>\n      ))}\n    </div>\n  )\n}\n```\n\n## Forms with useForm\n\n```jsx\nimport { useForm } from '@inertiajs/react'\n\nexport default function New() {\n  const { data, setData, post, processing, errors } = useForm({\n    title: '',\n    body: ''\n  })\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    post('/articles')\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        value={data.title}\n        onChange={e => setData('title', e.target.value)}\n      />\n      {errors.title && <div className=\"error\">{errors.title}</div>}\n\n      <textarea\n        value={data.body}\n        onChange={e => setData('body', e.target.value)}\n      />\n      {errors.body && <div className=\"error\">{errors.body}</div>}\n\n      <button disabled={processing}>\n        {processing ? 'Creating...' : 'Create'}\n      </button>\n    </form>\n  )\n}\n```\n\n## Shared Layout\n\n```jsx\n// app/frontend/layouts/AppLayout.jsx\nimport { Link, usePage } from '@inertiajs/react'\n\nexport default function AppLayout({ children }) {\n  const { auth, flash } = usePage().props\n\n  return (\n    <div>\n      <nav>\n        <Link href=\"/\">Home</Link>\n        {auth.user ? (\n          <Link href=\"/logout\" method=\"delete\">Logout</Link>\n        ) : (\n          <Link href=\"/login\">Login</Link>\n        )}\n      </nav>\n\n      {flash.success && <div className=\"alert-success\">{flash.success}</div>}\n\n      <main>{children}</main>\n    </div>\n  )\n}\n\n// Assign layout to page\nIndex.layout = page => <AppLayout>{page}</AppLayout>\n```\n\n## File Upload\n\n```jsx\nimport { useForm } from '@inertiajs/react'\n\nconst { data, setData, post, progress } = useForm({\n  avatar: null\n})\n\n<input\n  type=\"file\"\n  onChange={e => setData('avatar', e.target.files[0])}\n/>\n\n{progress && <progress value={progress.percentage} max=\"100\" />}\n\n<button onClick={() => post('/profile/avatar', { forceFormData: true })}>\n  Upload\n</button>\n```\n\n## Best Practices\n\n### DO\n- Use `<Link>` instead of `<a>` tags\n- Share common data via config (auth, flash)\n- Validate on server - client is UX only\n- Show loading states with `processing`\n- Use layouts for consistent navigation\n\n### DON'T\n- Don't use `window.location` - breaks SPA\n- Don't create REST APIs - Inertia doesn't need them\n- Don't fetch data client-side - server provides props\n- Don't bypass Inertia router - breaks behavior\n\n## Detailed References\n\nFor framework-specific patterns:\n- `references/react-patterns.md` - React hooks, TypeScript, advanced patterns\n- `references/vue-patterns.md` - Vue 3 Composition API patterns\n- `references/svelte-patterns.md` - Svelte stores and reactivity patterns"
              },
              {
                "name": "kamal-coder",
                "description": "This skill guides deploying Rails applications with Kamal. Use when configuring deploy.yml, setting up accessories, managing secrets, or preparing servers for container deployment.",
                "path": "plugins/majestic-rails/skills/kamal-coder/SKILL.md",
                "frontmatter": {
                  "name": "kamal-coder",
                  "description": "This skill guides deploying Rails applications with Kamal. Use when configuring deploy.yml, setting up accessories, managing secrets, or preparing servers for container deployment.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash"
                },
                "content": "# Kamal Coder\n\n## Overview\n\nKamal deploys containerized applications to bare metal or VMs using Docker. It handles zero-downtime deployments with Traefik as reverse proxy.\n\n## Server Requirements\n\nBefore Kamal can deploy, servers need:\n\n| Requirement | Purpose |\n|-------------|---------|\n| Docker | Container runtime |\n| SSH access | Kamal connects via SSH |\n| Ports 80, 443 open | HTTP/HTTPS traffic |\n| Port 22 open | SSH for deployments |\n\n**Provision with:** Ansible (`infra/bin/provision --config`) or cloud-init at boot time.\n\n## Configuration: config/deploy.yml\n\n### Minimal Setup\n\n```yaml\nservice: myapp\nimage: username/myapp\n\nservers:\n  web:\n    hosts:\n      - 192.168.1.1\n    labels:\n      traefik.http.routers.myapp.rule: Host(`myapp.com`)\n\nregistry:\n  username: username\n  password:\n    - KAMAL_REGISTRY_PASSWORD\n\nenv:\n  clear:\n    RAILS_ENV: production\n    RAILS_LOG_TO_STDOUT: \"true\"\n  secret:\n    - RAILS_MASTER_KEY\n    - DATABASE_URL\n```\n\n### Multi-Role Setup\n\n```yaml\nservice: myapp\nimage: username/myapp\n\nservers:\n  web:\n    hosts:\n      - 192.168.1.1\n      - 192.168.1.2\n    labels:\n      traefik.http.routers.myapp.rule: Host(`myapp.com`)\n  worker:\n    hosts:\n      - 192.168.1.3\n    cmd: bundle exec sidekiq\n    traefik: false  # No HTTP traffic\n\nregistry:\n  username: username\n  password:\n    - KAMAL_REGISTRY_PASSWORD\n\nenv:\n  clear:\n    RAILS_ENV: production\n  secret:\n    - RAILS_MASTER_KEY\n    - DATABASE_URL\n    - REDIS_URL\n```\n\n### With Accessories (Databases, Redis)\n\n```yaml\nservice: myapp\nimage: username/myapp\n\nservers:\n  web:\n    hosts:\n      - 192.168.1.1\n\naccessories:\n  db:\n    image: postgres:16\n    host: 192.168.1.1\n    port: 5432\n    env:\n      clear:\n        POSTGRES_DB: myapp_production\n      secret:\n        - POSTGRES_PASSWORD\n    directories:\n      - data:/var/lib/postgresql/data\n    options:\n      shm-size: 256m\n\n  redis:\n    image: redis:7-alpine\n    host: 192.168.1.1\n    port: 6379\n    directories:\n      - data:/data\n    cmd: redis-server --appendonly yes\n```\n\n## Secrets: .kamal/secrets\n\nKamal reads secrets from `.kamal/secrets` (git-ignored).\n\n### With 1Password CLI\n\n```bash\n# .kamal/secrets\nKAMAL_REGISTRY_PASSWORD=$(op read \"op://Infrastructure/DockerHub/password\")\nRAILS_MASTER_KEY=$(op read \"op://MyApp/production/master_key\")\nDATABASE_URL=$(op read \"op://MyApp/production/database_url\")\nPOSTGRES_PASSWORD=$(op read \"op://MyApp/production-db/password\")\n```\n\n### With Environment Variables\n\n```bash\n# .kamal/secrets\nKAMAL_REGISTRY_PASSWORD=$DOCKERHUB_TOKEN\nRAILS_MASTER_KEY=$RAILS_MASTER_KEY\nDATABASE_URL=$DATABASE_URL\n```\n\n### Multi-Environment\n\n```yaml\n# config/deploy.yml\n<% if ENV[\"KAMAL_DESTINATION\"] == \"staging\" %>\nservice: myapp-staging\n<% else %>\nservice: myapp\n<% end %>\n```\n\n```bash\n# .kamal/secrets.staging\nRAILS_MASTER_KEY=$(op read \"op://MyApp/staging/master_key\")\n```\n\n## Traefik Configuration\n\n### SSL with Let's Encrypt\n\n```yaml\ntraefik:\n  options:\n    publish:\n      - \"443:443\"\n    volume:\n      - /letsencrypt:/letsencrypt\n  args:\n    entryPoints.web.address: \":80\"\n    entryPoints.websecure.address: \":443\"\n    entryPoints.web.http.redirections.entryPoint.to: websecure\n    entryPoints.web.http.redirections.entryPoint.scheme: https\n    certificatesResolvers.letsencrypt.acme.email: admin@myapp.com\n    certificatesResolvers.letsencrypt.acme.storage: /letsencrypt/acme.json\n    certificatesResolvers.letsencrypt.acme.httpchallenge.entrypoint: web\n\nservers:\n  web:\n    hosts:\n      - 192.168.1.1\n    labels:\n      traefik.http.routers.myapp.rule: Host(`myapp.com`)\n      traefik.http.routers.myapp.entrypoints: websecure\n      traefik.http.routers.myapp.tls.certresolver: letsencrypt\n```\n\n### Health Checks\n\n```yaml\nhealthcheck:\n  path: /up\n  port: 3000\n  interval: 10s\n  max_attempts: 30\n```\n\n## Common Commands\n\n### First Deployment\n\n```bash\n# Bootstrap server (installs Docker, creates directories)\nkamal server bootstrap\n\n# Full setup (push config, start traefik, deploy app)\nkamal setup\n```\n\n### Regular Deployment\n\n```bash\n# Deploy latest\nkamal deploy\n\n# Deploy specific version\nkamal deploy --version=abc123\n\n# Deploy to staging\nkamal deploy -d staging\n```\n\n### Rollback\n\n```bash\n# List available versions\nkamal app containers\n\n# Rollback to previous\nkamal rollback\n```\n\n### Debugging\n\n```bash\n# SSH into container\nkamal app exec --interactive bash\n\n# View logs\nkamal app logs -f\n\n# Rails console\nkamal app exec --interactive \"bin/rails console\"\n```\n\n### Accessories\n\n```bash\n# Start all accessories\nkamal accessory boot all\n\n# Restart specific accessory\nkamal accessory reboot db\n\n# Exec into accessory\nkamal accessory exec db --interactive psql -U postgres\n```\n\n## Provisioning Workflow\n\n### Terraform + Ansible + Kamal Pipeline\n\n```bash\n# infra/bin/provision\n#!/usr/bin/env bash\nset -euo pipefail\n\n# 1. Terraform: Create infrastructure\ncd infra && tofu apply\n\n# 2. Ansible: Configure server\nSERVER_IP=$(tofu output -raw server_ip)\ncd ansible\necho \"[web]\\n$SERVER_IP ansible_user=root\" > hosts.ini\nansible-playbook -i hosts.ini playbook.yml\n\n# 3. Kamal: Bootstrap containers\ncd ../..\nbundle exec kamal server bootstrap\n```\n\n### What Ansible Should Configure\n\nBased on [kamal-ansible-manager](https://github.com/guillaumebriday/kamal-ansible-manager):\n\n| Task | Purpose |\n|------|---------|\n| Install Docker | Container runtime |\n| Configure fail2ban | SSH intrusion prevention |\n| Setup UFW | Firewall (22, 80, 443) |\n| Enable NTP | Time synchronization |\n| Create swap | Memory overflow protection |\n| Harden SSH | Disable password auth, root login |\n| Kernel tuning | swappiness, somaxconn |\n\n## Builder Configuration\n\n### Native ARM64 Builds (Hetzner CAX)\n\n```yaml\nbuilder:\n  arch: arm64\n  # OR for multi-arch:\n  # multiarch: true\n```\n\n### Remote Builder\n\n```yaml\nbuilder:\n  remote:\n    arch: amd64\n    host: ssh://builder@build-server\n```\n\n## Hooks\n\n### Pre-Deploy\n\n```bash\n# .kamal/hooks/pre-deploy\n#!/bin/sh\necho \"Running pre-deploy tasks...\"\nbundle exec rails assets:precompile\n```\n\n### Post-Deploy\n\n```bash\n# .kamal/hooks/post-deploy\n#!/bin/sh\necho \"Running migrations...\"\nkamal app exec \"bin/rails db:migrate\"\n```\n\n## Directory Structure\n\n```\nmyapp/\n config/\n    deploy.yml        # Main Kamal config\n .kamal/\n    secrets           # Secret values (git-ignored)\n    secrets.staging   # Staging secrets (git-ignored)\n    hooks/\n        pre-deploy\n        post-deploy\n Dockerfile            # Application container\n```\n\n## Troubleshooting\n\n| Issue | Cause | Fix |\n|-------|-------|-----|\n| Connection refused | Docker not running | `kamal server bootstrap` |\n| Permission denied | SSH key not authorized | Check server's authorized_keys |\n| Health check failing | App not starting | Check `kamal app logs` |\n| Registry auth failed | Wrong credentials | Verify `.kamal/secrets` |\n| Traefik 502 | Container not healthy | Increase `max_attempts` |"
              },
              {
                "name": "litestream-coder",
                "description": "This skill guides configuring Litestream for continuous SQLite backup in Rails 8+ apps. Use when setting up production backups for SQLite databases (Solid Queue, Solid Cache, Solid Cable).",
                "path": "plugins/majestic-rails/skills/litestream-coder/SKILL.md",
                "frontmatter": {
                  "name": "litestream-coder",
                  "description": "This skill guides configuring Litestream for continuous SQLite backup in Rails 8+ apps. Use when setting up production backups for SQLite databases (Solid Queue, Solid Cache, Solid Cable).",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash"
                },
                "content": "# Litestream Coder\n\n## Overview\n\nLitestream provides continuous streaming backup for SQLite databases to S3-compatible storage. Essential for Rails 8+ apps using SQLite in production with Solid Queue, Solid Cache, and Solid Cable.\n\n## Configuration File\n\nCreate `config/litestream.yml`:\n\n```yaml\ndbs:\n  - path: /rails/storage/production.sqlite3\n    replicas:\n      - type: s3\n        bucket: ${BUCKET_NAME}\n        path: sqlite/production\n        endpoint: ${S3_ENDPOINT}\n        region: ${S3_REGION}\n        access-key-id: ${LITESTREAM_ACCESS_KEY_ID}\n        secret-access-key: ${LITESTREAM_SECRET_ACCESS_KEY}\n        force-path-style: true       # Required for S3-compatible storage\n        sync-interval: 5s            # How often to sync WAL\n        snapshot-interval: 1h        # Full snapshot frequency\n        retention: 168h              # 7 days\n        retention-check-interval: 1h\n        validation-interval: 12h\n```\n\n## Retention Strategies by Database Type\n\n**Primary database (production.sqlite3):**\n- `sync-interval: 5s` - Frequent syncing for data durability\n- `snapshot-interval: 1h` - Hourly snapshots\n- `retention: 720h` - 30 days for recovery\n\n**Cache database (production_cache.sqlite3):**\n- `sync-interval: 10s` - Less critical, reduce load\n- `snapshot-interval: 6h` - Less frequent\n- `retention: 24h` - 1 day sufficient\n\n**Queue database (production_queue.sqlite3):**\n- `sync-interval: 5s` - Important for job durability\n- `snapshot-interval: 1h` - Hourly\n- `retention: 72h` - 3 days for debugging\n\n**Cable database (production_cable.sqlite3):**\n- `sync-interval: 10s` - Ephemeral data\n- `snapshot-interval: 6h` - Infrequent\n- `retention: 24h` - 1 day\n\n## Complete Configuration Example\n\n```yaml\ndbs:\n  - path: /rails/storage/production.sqlite3\n    replicas:\n      - type: s3\n        bucket: myapp-backups\n        path: sqlite/production\n        endpoint: https://fsn1.your-objectstorage.com\n        region: fsn1\n        access-key-id: ${LITESTREAM_ACCESS_KEY_ID}\n        secret-access-key: ${LITESTREAM_SECRET_ACCESS_KEY}\n        force-path-style: true\n        sync-interval: 5s\n        snapshot-interval: 1h\n        retention: 720h\n        retention-check-interval: 1h\n        validation-interval: 12h\n\n  - path: /rails/storage/production_cache.sqlite3\n    replicas:\n      - type: s3\n        bucket: myapp-backups\n        path: sqlite/cache\n        endpoint: https://fsn1.your-objectstorage.com\n        region: fsn1\n        access-key-id: ${LITESTREAM_ACCESS_KEY_ID}\n        secret-access-key: ${LITESTREAM_SECRET_ACCESS_KEY}\n        force-path-style: true\n        sync-interval: 10s\n        snapshot-interval: 6h\n        retention: 24h\n\n  - path: /rails/storage/production_queue.sqlite3\n    replicas:\n      - type: s3\n        bucket: myapp-backups\n        path: sqlite/queue\n        endpoint: https://fsn1.your-objectstorage.com\n        region: fsn1\n        access-key-id: ${LITESTREAM_ACCESS_KEY_ID}\n        secret-access-key: ${LITESTREAM_SECRET_ACCESS_KEY}\n        force-path-style: true\n        sync-interval: 5s\n        snapshot-interval: 1h\n        retention: 72h\n\n  - path: /rails/storage/production_cable.sqlite3\n    replicas:\n      - type: s3\n        bucket: myapp-backups\n        path: sqlite/cable\n        endpoint: https://fsn1.your-objectstorage.com\n        region: fsn1\n        access-key-id: ${LITESTREAM_ACCESS_KEY_ID}\n        secret-access-key: ${LITESTREAM_SECRET_ACCESS_KEY}\n        force-path-style: true\n        sync-interval: 10s\n        snapshot-interval: 6h\n        retention: 24h\n```\n\n## Kamal 2 Deployment\n\nAdd Litestream as an accessory in `config/deploy.yml`:\n\n```yaml\naccessories:\n  litestream:\n    image: litestream/litestream:0.3\n    host: <SERVER_IP>\n    cmd: replicate\n    volumes:\n      - \"myapp_storage:/rails/storage:ro\"  # Read-only access\n    files:\n      - config/litestream.yml:/etc/litestream.yml\n    env:\n      secret:\n        - LITESTREAM_ACCESS_KEY_ID\n        - LITESTREAM_SECRET_ACCESS_KEY\n    options:\n      health-cmd: \"litestream databases || exit 1\"\n      health-interval: 30s\n      health-timeout: 5s\n      health-retries: 3\n```\n\n**Key points:**\n- Mount storage as read-only (`:ro`) - Litestream only reads WAL files\n- Use same volume name as main app\n- Health check verifies Litestream can see databases\n\n## Secrets Configuration\n\nIn `.kamal/secrets`:\n\n```bash\nLITESTREAM_ACCESS_KEY_ID=$(op read \"op://myproject/production-s3/access_key_id\")\nLITESTREAM_SECRET_ACCESS_KEY=$(op read \"op://myproject/production-s3/secret_access_key\")\n```\n\n## Disaster Recovery\n\n### Restore Database\n\n```bash\n# Stop application first\nkamal app stop\n\n# Restore from latest backup\ndocker run --rm \\\n  -v myapp_storage:/rails/storage \\\n  -e LITESTREAM_ACCESS_KEY_ID=\"$(op read 'op://myproject/production-s3/access_key_id')\" \\\n  -e LITESTREAM_SECRET_ACCESS_KEY=\"$(op read 'op://myproject/production-s3/secret_access_key')\" \\\n  litestream/litestream:0.3 restore \\\n  -config /etc/litestream.yml \\\n  /rails/storage/production.sqlite3\n\n# Restart application\nkamal app start\n```\n\n### Point-in-Time Recovery\n\n```bash\ndocker run --rm \\\n  -v myapp_storage:/rails/storage \\\n  -e LITESTREAM_ACCESS_KEY_ID=\"...\" \\\n  -e LITESTREAM_SECRET_ACCESS_KEY=\"...\" \\\n  litestream/litestream:0.3 restore \\\n  -config /etc/litestream.yml \\\n  -timestamp \"2025-01-15T10:30:00Z\" \\\n  /rails/storage/production.sqlite3\n```\n\n## Monitoring\n\nCheck backup status:\n\n```bash\n# Via Kamal\nkamal accessory exec litestream -- litestream databases\n\n# Direct on server\ndocker exec myapp-litestream litestream databases\n```\n\n## S3-Compatible Storage\n\nLitestream works with any S3-compatible storage:\n\n| Provider | Endpoint Example |\n|----------|------------------|\n| Hetzner Object Storage | `https://fsn1.your-objectstorage.com` |\n| Backblaze B2 | `https://s3.us-west-002.backblazeb2.com` |\n| DigitalOcean Spaces | `https://nyc3.digitaloceanspaces.com` |\n| AWS S3 | (omit endpoint, use region) |\n\n**Critical:** Always set `force-path-style: true` for non-AWS S3-compatible storage.\n\n## Best Practices\n\n- **Separate databases by retention needs** - Main DB needs longer retention than cache\n- **Monitor backup lag** - `litestream databases` shows replication status\n- **Test restores regularly** - Don't wait for a disaster to verify backups work\n- **Use read-only mount** - Litestream only reads WAL files, `:ro` prevents accidents"
              },
              {
                "name": "minitest-coder",
                "description": "This skill guides writing comprehensive Minitest tests for Ruby and Rails applications. Use when creating test files, writing test cases, or testing new features. Covers both traditional and spec styles, fixtures, mocking, and Rails integration testing patterns.",
                "path": "plugins/majestic-rails/skills/minitest-coder/SKILL.md",
                "frontmatter": {
                  "name": "minitest-coder",
                  "description": "This skill guides writing comprehensive Minitest tests for Ruby and Rails applications. Use when creating test files, writing test cases, or testing new features. Covers both traditional and spec styles, fixtures, mocking, and Rails integration testing patterns.",
                  "allowed-tools": "Read, Write, Edit, MultiEdit, Grep, Glob, Bash, WebSearch"
                },
                "content": "# Minitest Coder\n\n## Core Philosophy\n\n- **AAA Pattern**: Arrange-Act-Assert structure for clarity\n- **Behavior over Implementation**: Test what code does, not how\n- **Isolation**: Tests should be independent\n- **Descriptive Names**: Clear test descriptions\n- **Coverage**: Test happy paths AND edge cases\n- **Fast Tests**: Minimize database operations\n- **Fixtures**: Use fixtures for test data\n\n## Minitest Styles\n\n| Style | Best For | Syntax |\n|-------|----------|--------|\n| Traditional | Simple unit tests | `test \"description\"` |\n| Spec | Complex scenarios with contexts | `describe`/`it` with `let`/`subject` |\n\n### Traditional Style\n\n```ruby\nclass UserTest < ActiveSupport::TestCase\n  test \"validates presence of name\" do\n    user = User.new\n    assert_not user.valid?\n    assert_includes user.errors[:name], \"can't be blank\"\n  end\nend\n```\n\n### Spec Style\n\n```ruby\nclass UserTest < ActiveSupport::TestCase\n  describe \"#full_name\" do\n    subject { user.full_name }\n    let(:user) { User.new(first_name: \"Buffy\", last_name:) }\n\n    describe \"with last name\" do\n      let(:last_name) { \"Summers\" }\n\n      it \"returns full name\" do\n        assert_equal \"Buffy Summers\", subject\n      end\n    end\n  end\nend\n```\n\n## Test Organization\n\n### File Structure\n\n```\ntest/\n models/           # Model unit tests\n services/         # Service object tests\n integration/      # Full-stack tests\n mailers/          # Mailer tests\n jobs/             # Background job tests\n fixtures/         # Test data\n test_helper.rb    # Configuration\n```\n\n### Naming Conventions\n\n- Mirror app structure: `app/models/user.rb`  `test/models/user_test.rb`\n- Use fully qualified namespace: `class Users::ProfileServiceTest`\n- **Don't add** `require 'test_helper'` (auto-imported)\n\n## Spec Style Patterns\n\nSee [resources/spec-patterns.md](resources/spec-patterns.md) for detailed examples.\n\n| Pattern | Use Case |\n|---------|----------|\n| `subject { ... }` | Method under test |\n| `let(:name) { ... }` | Lazy-evaluated data |\n| `describe \"context\"` | Group related tests (max 3 levels) |\n| `before { ... }` | Complex setup |\n\n```ruby\ndescribe \"#process\" do\n  subject { processor.process }\n  let(:processor) { OrderProcessor.new(order) }\n  let(:order) { orders(:paid_order) }\n\n  it \"succeeds\" do\n    assert subject.success?\n  end\nend\n```\n\n## Fixtures\n\n```yaml\n# test/fixtures/users.yml\nalice:\n  name: Alice Smith\n  email: alice@example.com\n  created_at: <%= 2.days.ago %>\n```\n\n```ruby\nclass UserTest < ActiveSupport::TestCase\n  fixtures :users\n\n  test \"validates uniqueness\" do\n    duplicate = User.new(email: users(:alice).email)\n    assert_not duplicate.valid?\n  end\nend\n```\n\n## Mocking and Stubbing\n\nSee [resources/spec-patterns.md](resources/spec-patterns.md) for detailed examples.\n\n| Method | Purpose |\n|--------|---------|\n| `Object.stub :method, value` | Stub return value |\n| `Minitest::Mock.new` | Verify method calls |\n\n```ruby\ntest \"processes payment\" do\n  PaymentGateway.stub :charge, true do\n    processor = OrderProcessor.new(order)\n    assert processor.process\n  end\nend\n```\n\n## Assertions Quick Reference\n\n### Basic Assertions\n\n```ruby\n# Boolean\nassert user.valid?\nassert_not user.admin?\n\n# Equality\nassert_equal \"Alice\", user.name\nassert_nil user.deleted_at\n\n# Collections\nassert_includes users, admin_user\nassert_empty order.items\n\n# Exceptions\nassert_raises ActiveRecord::RecordInvalid do\n  user.save!\nend\n```\n\n### Rails Assertions\n\n```ruby\n# Changes\nassert_changes -> { user.reload.status }, to: \"active\" do\n  user.activate!\nend\n\nassert_difference \"User.count\", 1 do\n  User.create(name: \"Charlie\")\nend\n\n# Responses\nassert_response :success\nassert_redirected_to user_path(user)\n```\n\n## AAA Pattern\n\n```ruby\ntest \"processes refund\" do\n  # Arrange\n  order = orders(:completed_order)\n  original_balance = order.user.account_balance\n\n  # Act\n  result = order.process_refund\n\n  # Assert\n  assert result.success?\n  assert_equal \"refunded\", order.reload.status\nend\n```\n\n**Spec style with subject**:\n```ruby\ndescribe \"#process_refund\" do\n  subject { order.process_refund }\n  let(:order) { orders(:completed_order) }\n\n  it \"updates status\" do\n    subject\n    assert_equal \"refunded\", order.reload.status\n  end\n\n  it \"credits user\" do\n    assert_changes -> { order.user.reload.account_balance }, by: order.total do\n      subject\n    end\n  end\nend\n```\n\n## Test Coverage Standards\n\n| Type | Test For |\n|------|----------|\n| Models | Validations, associations, scopes, callbacks, methods |\n| Services | Happy path, sad path, edge cases, external integrations |\n| Controllers | Status codes, redirects, parameter handling |\n| Jobs | Execution, retry logic, error handling |\n\n### Coverage Example\n\n```ruby\nclass UserTest < ActiveSupport::TestCase\n  # Validations\n  test \"validates presence of name\" do\n    user = User.new(email: \"test@example.com\")\n    assert_not user.valid?\n    assert_includes user.errors[:name], \"can't be blank\"\n  end\n\n  # Methods\n  describe \"#full_name\" do\n    subject { user.full_name }\n    let(:user) { User.new(first_name: \"Alice\", last_name: \"Smith\") }\n\n    it \"returns full name\" do\n      assert_equal \"Alice Smith\", subject\n    end\n\n    describe \"without last name\" do\n      let(:user) { User.new(first_name: \"Alice\") }\n\n      it \"returns first name only\" do\n        assert_equal \"Alice\", subject\n      end\n    end\n  end\nend\n```\n\n## Advanced Patterns\n\nSee [resources/advanced-patterns.md](resources/advanced-patterns.md) for production-tested patterns from 37signals.\n\n| Pattern | Problem Solved |\n|---------|----------------|\n| Current.account fixtures | Multi-tenant URL isolation |\n| Assertion-validating helpers | Early failure with clear messages |\n| Deterministic UUIDs | Predictable fixture ordering |\n| VCR timestamp filtering | Reusable API cassettes |\n| Thread-based concurrency | Race condition detection |\n| Adapter-aware helpers | SQLite/MySQL compatibility |\n\n## Anti-Patterns\n\nSee [resources/anti-patterns.md](resources/anti-patterns.md) for detailed examples.\n\n| Anti-Pattern | Why Bad |\n|--------------|---------|\n| `require 'test_helper'` | Auto-imported |\n| >3 nesting levels | Unreadable output |\n| `@ivars` instead of `let` | State leakage |\n| Missing `subject` | Repetitive code |\n| `assert x.include?(y)` | Use `assert_includes` |\n| Testing private methods | Implementation coupling |\n| Not using fixtures | Slow tests |\n\n## Best Practices Checklist\n\n**Organization**:\n- [ ] Files mirror app structure\n- [ ] NOT adding `require 'test_helper'`\n- [ ] Using fully qualified namespace\n\n**Style Choice**:\n- [ ] Traditional for simple tests\n- [ ] Spec for complex contexts\n- [ ] Max 3 nesting levels\n\n**Test Data**:\n- [ ] Using fixtures (not factories)\n- [ ] Using `let` for shared data\n- [ ] Using `subject` for method under test\n\n**Assertions**:\n- [ ] Correct assertion methods\n- [ ] Rails helpers (`assert_changes`, `assert_difference`)\n- [ ] Testing behavior, not implementation\n\n**Coverage**:\n- [ ] Happy path tested\n- [ ] Sad path tested\n- [ ] Edge cases covered\n\n## When to Choose Style\n\n**Traditional**: Simple validations, straightforward tests, no shared setup\n\n**Spec**: Multiple contexts, lazy evaluation needed, nested scenarios, reusable subject\n\n**Can mix both** in the same file if it improves clarity."
              },
              {
                "name": "rails-debugger",
                "description": "Use proactively when encountering Rails errors, test failures, build issues, or unexpected behavior. Analyzes errors, reproduces issues, and identifies root causes.",
                "path": "plugins/majestic-rails/skills/rails-debugger/SKILL.md",
                "frontmatter": {
                  "name": "rails-debugger",
                  "description": "Use proactively when encountering Rails errors, test failures, build issues, or unexpected behavior. Analyzes errors, reproduces issues, and identifies root causes.",
                  "allowed-tools": "Read, Grep, Glob, Bash"
                },
                "content": "# Rails Debugger\n\nYou are an expert Rails debugger. You systematically analyze errors, validate bug reports, and find root causes.\n\n## Debugging Process\n\n### 1. Gather Information\n\n```bash\ntail -100 log/development.log\nbundle exec rspec --format documentation\nbin/rails db:migrate:status\n```\n\n### 2. Analyze Stack Traces\n\n**Identify the origin:**\n- Find the first line in `app/` directory\n- Note the file, line number, and method\n\n**Common patterns:**\n\n| Error | Likely Cause |\n|-------|-------------|\n| `NoMethodError: undefined method for nil:NilClass` | Missing association, nil return |\n| `ActiveRecord::RecordNotFound` | ID doesn't exist, scoping issue |\n| `ActiveRecord::RecordInvalid` | Validation failed |\n| `ActionController::ParameterMissing` | Required param not sent |\n| `NameError: uninitialized constant` | Missing require, typo |\n| `LoadError` | File not found, autoload path issue |\n\n### 3. Check Common Issues\n\n**Database:**\n```bash\nbin/rails db:migrate:status\nbin/rails db:schema:dump\n```\n\n**Dependencies:**\n```bash\nbundle check\nbundle install\n```\n\n### 4. Isolate the Problem\n\n**Reproduce in console:**\n```ruby\nuser = User.find(123)\nuser.some_method  # Does it fail here?\n```\n\n**Binary search:**\n- Comment out half the code\n- Does error persist?\n- Narrow down\n\n### 5. Check Recent Changes\n\n```bash\ngit log --oneline -20\ngit log -p --follow app/models/user.rb\ngit diff HEAD~5 app/models/user.rb\n```\n\n## Debugging Techniques\n\n### Hypothesis Testing\n\n1. Form specific, testable theories\n2. Design minimal tests to prove/disprove\n3. Document what you've ruled out\n\n### State Inspection\n\n```ruby\nRails.logger.debug { \"DEBUG: user=#{user.inspect}\" }\nbinding.irb  # Pause here (Rails 7+)\n```\n\n## Common Rails Issues\n\n### N+1 Queries\n\n```bash\ngrep \"SELECT\" log/development.log | sort | uniq -c | sort -rn\n```\n\nFix: `User.includes(:posts)`\n\n### Routing Issues\n\n```bash\nbin/rails routes | grep users\nbin/rails routes -c users\n```\n\n### Callback Issues\n\n```ruby\nUser._create_callbacks.map(&:filter)\nUser._save_callbacks.map(&:filter)\n```\n\n## Bug Report Validation\n\n### Classification\n\n| Status | Meaning |\n|--------|---------|\n| **Confirmed Bug** | Reproduced with clear deviation |\n| **Cannot Reproduce** | Unable to reproduce |\n| **Not a Bug** | Behavior is correct per spec |\n| **Data Issue** | Problem with specific data |\n\n## Output Format\n\n1. **Reproduction Status** - Confirmed / Cannot Reproduce / Not a Bug\n2. **Root Cause** - What's actually wrong (explain *why*)\n3. **Evidence** - Specific logs, traces, or code\n4. **Fix** - Minimal code changes\n5. **Prevention** - How to avoid similar issues\n6. **Verification** - Commands/tests to confirm fix"
              },
              {
                "name": "rails-refactorer",
                "description": "Use proactively when refactoring Ruby on Rails code. Applies Rails conventions, Sandi Metz rules, and idiomatic Ruby patterns while maintaining test coverage.",
                "path": "plugins/majestic-rails/skills/rails-refactorer/SKILL.md",
                "frontmatter": {
                  "name": "rails-refactorer",
                  "description": "Use proactively when refactoring Ruby on Rails code. Applies Rails conventions, Sandi Metz rules, and idiomatic Ruby patterns while maintaining test coverage.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash"
                },
                "content": "# Rails Refactorer\n\nYou are a senior Rails developer specializing in code refactoring. Your goal is to improve code quality while preserving functionality and maintaining test coverage.\n\n## Refactoring Approach\n\n### 1. Analyze Before Changing\n\nBefore any refactoring:\n- Read the existing code thoroughly\n- Identify existing test coverage (`spec/` or `test/`)\n- Understand the code's purpose and context\n- Check for existing patterns in the codebase\n\n### 2. Apply Rails Conventions\n\n**Controllers:**\n- Keep controllers thin (orchestration only)\n- Use before_action for common setup\n- Limit to 7 RESTful actions; create new controllers for custom actions\n- Use strong parameters\n\n```ruby\n# Before: Custom action\nclass MessagesController < ApplicationController\n  def archive\n    @message = Message.find(params[:id])\n    @message.update(archived: true)\n  end\nend\n\n# After: Dedicated controller\nclass Messages::ArchivesController < ApplicationController\n  def create\n    @message = Message.find(params[:message_id])\n    @message.update(archived: true)\n  end\nend\n```\n\n**Models:**\n- Keep business logic in models\n- Use concerns for shared behavior\n- Use scopes for common queries\n- Semantic association naming\n\n```ruby\n# Before\nbelongs_to :user\n\n# After\nbelongs_to :author, class_name: \"User\"\n```\n\n**Service Objects (when appropriate):**\n- Use for complex multi-step operations\n- Use for operations spanning multiple models\n- Keep them single-purpose\n\n### 3. Apply Sandi Metz Rules\n\n| Rule | Limit | Action |\n|------|-------|--------|\n| Class length | 100 lines | Extract classes |\n| Method length | 5 lines | Extract methods |\n| Parameters | 4 max | Use parameter objects |\n| Controller objects | 1 | Use facades |\n\n### 4. Idiomatic Ruby\n\n**Prefer:**\n```ruby\n# Guard clauses\nreturn unless user.active?\n\n# Semantic methods\nitems.any?\nemail.present?\n\n# Symbol to proc\nusers.map(&:name)\n\n# Hash shorthand (Ruby 3.x)\n{ name:, email: }\n```\n\n**Avoid:**\n```ruby\n# Nested conditionals\nif user\n  if user.active?\n    # ...\n  end\nend\n\n# Manual checks\nitems.length > 0\nemail != nil && email != \"\"\n```\n\n### 5. Maintain Test Coverage\n\n- Run tests before and after refactoring\n- Update tests if interfaces change\n- Add tests for extracted classes/methods\n- Never break existing tests\n\n## Output Format\n\nAfter refactoring, provide:\n\n1. **Summary** - What was refactored and why\n2. **Changes** - Files modified with key changes\n3. **Test Status** - Confirmation tests still pass\n4. **Warnings** - Any potential issues or follow-up needed"
              },
              {
                "name": "rspec-coder",
                "description": "This skill guides writing comprehensive RSpec tests for Ruby and Rails applications. Use when creating spec files, writing test cases, or testing new features. Covers RSpec syntax, describe/context organization, subject/let patterns, fixtures, mocking with allow/expect, and shoulda matchers.",
                "path": "plugins/majestic-rails/skills/rspec-coder/SKILL.md",
                "frontmatter": {
                  "name": "rspec-coder",
                  "description": "This skill guides writing comprehensive RSpec tests for Ruby and Rails applications. Use when creating spec files, writing test cases, or testing new features. Covers RSpec syntax, describe/context organization, subject/let patterns, fixtures, mocking with allow/expect, and shoulda matchers.",
                  "allowed-tools": "Read, Write, Edit, MultiEdit, Grep, Glob, Bash, WebSearch"
                },
                "content": "# RSpec Coder\n\n## Core Philosophy\n\n- **AAA Pattern**: Arrange-Act-Assert structure for clarity\n- **Behavior over Implementation**: Test what code does, not how\n- **Isolation**: Tests should be independent\n- **Descriptive Names**: Blocks should clearly explain behavior\n- **Coverage**: Test happy paths AND edge cases\n- **Fast Tests**: Minimize database operations\n- **Fixtures**: Use fixtures for common data setup\n- **Shoulda Matchers**: Use for validations and associations\n\n## Critical Conventions\n\n###  Don't Add `require 'rails_helper'`\n\nRSpec imports via `.rspec` config. Adding manually is redundant.\n\n```ruby\n#  GOOD - no require needed\nRSpec.describe User do\n  # ...\nend\n```\n\n###  Don't Add Redundant Spec Type\n\nRSpec infers type from file location automatically.\n\n```ruby\n#  GOOD - type inferred from spec/models/ location\nRSpec.describe User do\n  # ...\nend\n```\n\n###  Use Namespace WITHOUT Leading `::`\n\n```ruby\n#  GOOD - no leading double colons\nRSpec.describe DynamicsGp::ERPSynchronizer do\n  # ...\nend\n```\n\n## Test Organization\n\n### File Structure\n\n```\nspec/\n models/           # Model unit tests\n services/         # Service object tests\n controllers/      # Controller tests\n requests/         # Request specs (API testing)\n mailers/          # Mailer tests\n jobs/             # Background job tests\n fixtures/         # Test data\n support/          # Helper modules and shared examples\n rails_helper.rb   # Rails-specific configuration\n```\n\n### Using `describe` and `context`\n\n| Block | Purpose | Example |\n|-------|---------|---------|\n| `describe` | Groups by method/class | `describe \"#process\"` |\n| `context` | Groups by condition | `context \"when user is admin\"` |\n\n```ruby\nRSpec.describe OrderProcessor do\n  describe \"#process\" do\n    context \"with valid payment\" do\n      # success tests\n    end\n\n    context \"with invalid payment\" do\n      # failure tests\n    end\n  end\nend\n```\n\n## Subject and Let\n\nSee [resources/patterns.md](resources/patterns.md) for detailed examples.\n\n| Pattern | Use Case |\n|---------|----------|\n| `subject(:name) { ... }` | Primary object/method under test |\n| `let(:name) { ... }` | Lazy-evaluated, memoized data |\n| `let!(:name) { ... }` | Eager evaluation (before each test) |\n\n```ruby\nRSpec.describe User do\n  describe \"#full_name\" do\n    subject(:full_name) { user.full_name }\n    let(:user) { users(:alice) }\n\n    it { is_expected.to eq(\"Alice Smith\") }\n  end\nend\n```\n\n## Fixtures\n\nSee [resources/patterns.md](resources/patterns.md) for detailed examples.\n\n```yaml\n# spec/fixtures/users.yml\nalice:\n  name: Alice Smith\n  email: alice@example.com\n  admin: false\n```\n\n```ruby\nRSpec.describe User do\n  fixtures :users\n\n  it \"validates email\" do\n    expect(users(:alice)).to be_valid\n  end\nend\n```\n\n## Mocking and Stubbing\n\nSee [resources/patterns.md](resources/patterns.md) for detailed examples.\n\n| Method | Purpose |\n|--------|---------|\n| `allow(obj).to receive(:method)` | Stub return value |\n| `expect(obj).to receive(:method)` | Verify call happens |\n\n```ruby\n# Stubbing external service\nallow(PaymentGateway).to receive(:charge).and_return(true)\n\n# Verifying method called\nexpect(UserMailer).to receive(:welcome_email).with(user)\n```\n\n## Matchers Quick Reference\n\nSee [resources/matchers.md](resources/matchers.md) for complete reference.\n\n### Essential Matchers\n\n```ruby\n# Equality\nexpect(value).to eq(expected)\n\n# Truthiness\nexpect(obj).to be_valid\nexpect(obj).to be_truthy\n\n# Change\nexpect { action }.to change { obj.status }.to(\"completed\")\nexpect { action }.to change(Model, :count).by(1)\n\n# Errors\nexpect { action }.to raise_error(SomeError)\n\n# Collections\nexpect(array).to include(item)\nexpect(array).to be_empty\n```\n\n### Shoulda Matchers\n\n```ruby\n# Validations\nit { is_expected.to validate_presence_of(:name) }\nit { is_expected.to validate_uniqueness_of(:email) }\n\n# Associations\nit { is_expected.to have_many(:posts) }\nit { is_expected.to belong_to(:account) }\n```\n\n## AAA Pattern\n\nStructure all tests as Arrange-Act-Assert:\n\n```ruby\ndescribe \"#process_refund\" do\n  subject(:process_refund) { processor.process_refund }\n\n  let(:order) { orders(:completed_order) }\n  let(:processor) { described_class.new(order) }\n\n  it \"updates order status\" do\n    process_refund  # Act\n    expect(order.reload.status).to eq(\"refunded\")  # Assert\n  end\n\n  it \"credits user account\" do\n    expect { process_refund }  # Act\n      .to change { order.user.reload.account_balance }  # Assert\n      .by(order.total)\n  end\nend\n```\n\n## Test Coverage Standards\n\n### What to Test\n\n| Type | Test For |\n|------|----------|\n| Models | Validations, associations, scopes, callbacks, methods |\n| Services | Happy path, sad path, edge cases, external integrations |\n| Controllers | Status codes, response formats, auth, redirects |\n| Jobs | Execution, retry logic, error handling, idempotency |\n\n### Coverage Example\n\n```ruby\nRSpec.describe User do\n  fixtures :users\n\n  describe \"validations\" do\n    subject(:user) { users(:valid_user) }\n\n    it { is_expected.to validate_presence_of(:name) }\n    it { is_expected.to validate_presence_of(:email) }\n    it { is_expected.to validate_uniqueness_of(:email).case_insensitive }\n  end\n\n  describe \"associations\" do\n    it { is_expected.to have_many(:posts).dependent(:destroy) }\n  end\n\n  describe \"#full_name\" do\n    subject(:full_name) { user.full_name }\n    let(:user) { User.new(first_name: \"Alice\", last_name: \"Smith\") }\n\n    it { is_expected.to eq(\"Alice Smith\") }\n\n    context \"when last name is missing\" do\n      let(:user) { User.new(first_name: \"Alice\") }\n      it { is_expected.to eq(\"Alice\") }\n    end\n  end\nend\n```\n\n## Anti-Patterns\n\nSee [resources/anti-patterns.md](resources/anti-patterns.md) for detailed examples.\n\n| Anti-Pattern | Why Bad |\n|--------------|---------|\n| `require 'rails_helper'` | Redundant, loaded via .rspec |\n| `type: :model` | Redundant, inferred from location |\n| Leading `::` in namespace | Violates RuboCop style |\n| Empty test bodies | False confidence |\n| Testing private methods | Couples to implementation |\n| Not using fixtures | Slow tests |\n| Not using shoulda | Verbose validation tests |\n\n## Best Practices Checklist\n\n**Critical Conventions**:\n- [ ] NOT adding `require 'rails_helper'`\n- [ ] NOT adding redundant spec type\n- [ ] Using namespace WITHOUT leading `::`\n\n**Test Organization**:\n- [ ] `describe` for methods/classes\n- [ ] `context` for conditions\n- [ ] Max 3 levels nesting\n\n**Test Data**:\n- [ ] Using fixtures (not factories)\n- [ ] Using `let` for lazy data\n- [ ] Using `subject` for method under test\n\n**Assertions**:\n- [ ] Shoulda matchers for validations\n- [ ] Shoulda matchers for associations\n- [ ] `change` matcher for state changes\n\n**Coverage**:\n- [ ] Happy path tested\n- [ ] Sad path tested\n- [ ] Edge cases covered\n\n## Quick Reference\n\n```ruby\n# Minimal spec file\nRSpec.describe User do\n  fixtures :users\n\n  describe \"#full_name\" do\n    subject(:full_name) { user.full_name }\n    let(:user) { users(:alice) }\n\n    it { is_expected.to eq(\"Alice Smith\") }\n  end\n\n  describe \"validations\" do\n    subject(:user) { users(:alice) }\n\n    it { is_expected.to validate_presence_of(:name) }\n    it { is_expected.to have_many(:posts) }\n  end\nend\n```"
              },
              {
                "name": "rubocop-fixer",
                "description": "Use when fixing Rubocop violations. Runs Rubocop to identify issues, applies fixes following project conventions, and explains non-obvious corrections.",
                "path": "plugins/majestic-rails/skills/rubocop-fixer/SKILL.md",
                "frontmatter": {
                  "name": "rubocop-fixer",
                  "description": "Use when fixing Rubocop violations. Runs Rubocop to identify issues, applies fixes following project conventions, and explains non-obvious corrections.",
                  "allowed-tools": "Read, Write, Edit, Bash, Grep, Glob"
                },
                "content": "# Rubocop Fixer\n\nYou fix Rubocop violations in Rails projects while respecting project-specific configurations.\n\n## Process\n\n### 1. Check Configuration\n\nFirst, understand the project's Rubocop setup:\n\n```bash\n# Check for config file\ncat .rubocop.yml\n\n# Check inherited configs\ncat .rubocop_todo.yml 2>/dev/null\n```\n\n### 2. Run Rubocop\n\n```bash\n# All violations\nbundle exec rubocop\n\n# Specific file\nbundle exec rubocop app/models/user.rb\n\n# Specific cop\nbundle exec rubocop --only Style/StringLiterals\n\n# Auto-correct safe violations\nbundle exec rubocop -a\n\n# Auto-correct all (including unsafe)\nbundle exec rubocop -A\n```\n\n### 3. Understand the Violation\n\nBefore fixing, understand why the cop exists:\n\n```bash\n# Show cop documentation\nbundle exec rubocop --show-cops Style/StringLiterals\n```\n\n## Common Violations & Fixes\n\n### Style/StringLiterals\n\n```ruby\n# Before (violation)\nname = \"hello\"\n\n# After (if configured for single quotes)\nname = 'hello'\n\n# Note: Use double quotes when interpolation or escapes needed\nname = \"hello #{user}\"\n```\n\n### Style/FrozenStringLiteralComment\n\n```ruby\n# Add at top of file\n# frozen_string_literal: true\n\nclass User\n  # ...\nend\n```\n\n### Layout/LineLength\n\n```ruby\n# Before (too long)\ndef very_long_method_name(first_parameter, second_parameter, third_parameter, fourth_parameter)\n\n# After\ndef very_long_method_name(\n  first_parameter,\n  second_parameter,\n  third_parameter,\n  fourth_parameter\n)\n```\n\n### Style/Documentation\n\n```ruby\n# Before (missing documentation)\nclass UserService\nend\n\n# After\n# Handles user-related business logic including registration\n# and profile management.\nclass UserService\nend\n\n# Or disable for specific class\nclass UserService # rubocop:disable Style/Documentation\nend\n```\n\n### Metrics/MethodLength\n\n```ruby\n# Before (too long)\ndef process_order\n  validate_items\n  calculate_subtotal\n  apply_discounts\n  calculate_tax\n  calculate_shipping\n  finalize_total\n  create_invoice\n  send_confirmation\n  update_inventory\n  notify_warehouse\nend\n\n# After (extract methods)\ndef process_order\n  prepare_order\n  complete_order\n  post_order_tasks\nend\n\nprivate\n\ndef prepare_order\n  validate_items\n  calculate_totals\nend\n\ndef calculate_totals\n  calculate_subtotal\n  apply_discounts\n  calculate_tax\n  calculate_shipping\n  finalize_total\nend\n\ndef complete_order\n  create_invoice\n  send_confirmation\nend\n\ndef post_order_tasks\n  update_inventory\n  notify_warehouse\nend\n```\n\n### Metrics/AbcSize\n\nABC = Assignments, Branches, Conditions\n\n```ruby\n# Before (high ABC)\ndef process(user)\n  if user.active?\n    user.name = params[:name]\n    user.email = params[:email]\n    user.role = params[:role]\n    user.save!\n    notify(user)\n  end\nend\n\n# After (lower ABC)\ndef process(user)\n  return unless user.active?\n\n  update_user_attributes(user)\n  user.save!\n  notify(user)\nend\n\ndef update_user_attributes(user)\n  user.assign_attributes(user_params)\nend\n\ndef user_params\n  params.slice(:name, :email, :role)\nend\n```\n\n### Rails/HasManyOrHasOneDependent\n\n```ruby\n# Before\nhas_many :posts\n\n# After\nhas_many :posts, dependent: :destroy\n# or\nhas_many :posts, dependent: :nullify\n```\n\n### Rails/InverseOf\n\n```ruby\n# Before\nhas_many :posts\nbelongs_to :user\n\n# After\nhas_many :posts, inverse_of: :user\nbelongs_to :user, inverse_of: :posts\n```\n\n## Inline Disabling\n\nWhen a violation is intentional:\n\n```ruby\n# Disable for line\nsome_code # rubocop:disable Style/SomeCop\n\n# Disable for block\n# rubocop:disable Style/SomeCop\nsome_code\nmore_code\n# rubocop:enable Style/SomeCop\n\n# Disable for file (at top)\n# rubocop:disable Style/SomeCop\n```\n\n## Generating TODO File\n\nFor legacy codebases with many violations:\n\n```bash\n# Generate .rubocop_todo.yml with all current violations\nbundle exec rubocop --auto-gen-config\n\n# Then incrementally fix cops\nbundle exec rubocop --only Style/StringLiterals -a\n```\n\n## Output Format\n\nAfter fixing violations:\n\n1. **Violations Fixed** - List of cops and count\n2. **Manual Fixes** - Changes requiring human judgment\n3. **Remaining** - Violations that need review\n4. **Verification** - `bundle exec rubocop` output"
              },
              {
                "name": "ruby-coder",
                "description": "This skill guides writing of new Ruby code following modern Ruby 3.x syntax, Sandi Metz's 4 Rules for Developers, and idiomatic Ruby best practices. Use when creating new Ruby files, writing Ruby methods, or refactoring Ruby code to ensure adherence to clarity, simplicity, and maintainability standards.",
                "path": "plugins/majestic-rails/skills/ruby-coder/SKILL.md",
                "frontmatter": {
                  "name": "ruby-coder",
                  "description": "This skill guides writing of new Ruby code following modern Ruby 3.x syntax, Sandi Metz's 4 Rules for Developers, and idiomatic Ruby best practices. Use when creating new Ruby files, writing Ruby methods, or refactoring Ruby code to ensure adherence to clarity, simplicity, and maintainability standards.",
                  "allowed-tools": "Read, Write, Edit, MultiEdit, Grep, Glob, Bash, WebSearch"
                },
                "content": "# Ruby Coder\n\n## Overview\n\nThis skill provides comprehensive guidance for writing clean, idiomatic Ruby code that follows modern Ruby 3.x syntax, Sandi Metz's 4 Rules for Developers, and established best practices. Apply these standards when creating new Ruby files, implementing features, or refactoring existing code to ensure clarity, maintainability, and adherence to Ruby conventions.\n\n## Core Philosophy\n\nPrioritize:\n- **Clarity over cleverness**: Code should be immediately understandable\n- **Simplicity**: Prefer simple, readable solutions over clever code\n- **Idiomatic Ruby**: Use Ruby's expressive capabilities appropriately\n- **Sandi Metz's Rules**: Enforce strict limits to maintain code quality\n- **DRY (Don't Repeat Yourself)**: Eliminate duplication thoughtfully\n- **Composition over Inheritance**: Design for flexibility and reusability\n\n## Ruby 3.x Modern Syntax\n\n### Naming Conventions\n\n```ruby\n# snake_case for methods and variables\ndef calculate_total_price\n  user_name = \"David\"\nend\n\n# CamelCase for classes and modules\nmodule Vendors\n  class User\n  end\nend\n\n# SCREAMING_SNAKE_CASE for constants\nMAX_RETRY_COUNT = 3\nDEFAULT_TIMEOUT = 30\n```\n\n### Hash Shorthand Syntax\n\nUse the shorthand syntax when hash keys match local variable names (requires exact matching between symbol key and variable name):\n\n```ruby\n# Modern Ruby 3.x shorthand\nage = 49\nname = \"David\"\nuser = { name:, age: }\n\n# Instead of the verbose form\nuser = { name: name, age: age }\n```\n\n### String Interpolation\n\nPrefer string interpolation over concatenation:\n\n```ruby\n# Good - interpolation\ngreeting = \"Hello, #{user_name}!\"\nmessage = \"Total: #{quantity * price}\"\n\n# Avoid - concatenation\ngreeting = \"Hello, \" + user_name + \"!\"\n```\n\n### Modern Hash Syntax\n\nUse symbol keys with colon syntax:\n\n```ruby\n# Good - modern syntax\noptions = { timeout: 30, retry: true, method: :post }\n\n# Avoid - hash rocket syntax (only use for non-symbol keys)\noptions = { :timeout => 30, :retry => true }\n```\n\n## Sandi Metz's 4 Rules for Developers\n\nThese rules enforce strict limits to maintain code quality. Breaking them requires explicit justification.\n\n### Rule 1: Classes Can Be No Longer Than 100 Lines\n\n**Limit**: Maximum 100 lines of code per class\n\n**Check**: When a class exceeds this limit, extract secondary concerns to new classes\n\n```ruby\n# When exceeding 100 lines, extract secondary concerns:\nclass UserProfilePresenter  # Presentation logic\nclass UserProfileValidator  # Validation logic\nclass UserProfileNotifier   # Notification logic\n```\n\n**Exceptions**: Valid Single Responsibility Principle (SRP) justification required\n\n### Rule 2: Methods Can Be No Longer Than 5 Lines\n\n**Limit**: Maximum 5 lines per method\n\n**Check**: Each if/else branch counts as lines; extract helper methods when needed\n\n```ruby\n# Good - 5 lines or fewer\ndef validate_user\n  return if anonymous?\n  check_email_format\n  check_age_restriction\nend\n\n# Good - extraction when logic is complex\ndef process_order\n  validate_order\n  calculate_totals\n  apply_discounts\n  finalize_payment\nend\n\nprivate\n\ndef validate_order\n  return false unless items.any?\n  return false unless valid_address?\n  true\nend\n\ndef calculate_totals\n  self.subtotal = items.sum(&:price)\n  self.tax = subtotal * tax_rate\n  self.total = subtotal + tax\nend\n```\n\n**Exceptions**: Pair approval required (Rule 0: break rules with agreement)\n\n### Rule 3: Pass No More Than 4 Parameters\n\n**Limit**: Maximum 4 parameters per method\n\n**Check**: Use parameter objects or hashes when more data is needed\n\n```ruby\n# Good - 4 parameters or fewer\ndef create_post(user, title, content, category)\n  Post.create(\n    user:,\n    title:,\n    content:,\n    category:\n  )\nend\n\n# Better - use parameter object when data is related\ndef create_post(post_params)\n  Post.create(\n    user: post_params.user,\n    title: post_params.title,\n    content: post_params.content,\n    category: post_params.category,\n    tags: post_params.tags\n  )\nend\n\n# Good - hash options for flexible parameters\ndef send_notification(user, message, options = {})\n  priority = options[:priority] || :normal\n  delivery = options[:delivery] || :email\n  # ...\nend\n```\n\n**Exceptions**: Rails view helpers like `link_to` or `form_for` are exempt\n\n### Rule 4: Controllers May Instantiate Only One Object\n\n**Limit**: Controllers should instantiate only one object; other objects come through that object\n\n**Pattern**: Use facade pattern to aggregate data and hide collaborator access\n\n```ruby\n#  GOOD - single object via facade\nclass DashboardController < ApplicationController\n  def show\n    @dashboard = DashboardFacade.new(current_user)\n  end\nend\n\n#  AVOID - multiple instance variables\nclass DashboardController < ApplicationController\n  def show\n    @user = current_user\n    @posts = @user.posts.recent\n    @notifications = @user.notifications.unread\n  end\nend\n```\n\n**Implementation Tips**:\n- Prefix unused instance variables with underscore: `@_calculation`\n- Use facade pattern for complex views\n- Avoid direct collaborator access in views: `@user.profile.avatar`  use facade method\n\n## Idiomatic Ruby Patterns\n\n### Use Semantic Methods\n\nLeverage Ruby's expressive semantic methods instead of manual checks:\n\n```ruby\n# Good - semantic methods\nreturn unless items.any?\nreturn if email.blank?\nreturn if user.present?\n\n# Avoid - manual checks\nreturn unless items.length > 0\nreturn if email.nil? || email.empty?\nreturn if !user.nil?\n```\n\nCommon semantic methods:\n- `any?` / `empty?` - for collections\n- `present?` / `blank?` - for presence checks (Rails)\n- `nil?` - for nil checks\n- `zero?` / `positive?` / `negative?` - for numbers\n\n### Prefer Symbols Over Strings\n\nUse symbols for identifiers and hash keys for better performance:\n\n```ruby\n# Good - symbols for identifiers\nstatus = :active\noptions = { method: :post, format: :json }\n\n# Avoid - strings for identifiers\nstatus = \"active\"\noptions = { method: \"post\", format: \"json\" }\n```\n\n### Leverage Enumerable Methods\n\nUse Ruby's rich enumerable methods effectively:\n\n```ruby\n# map - transform collections\nprices = items.map(&:price)\nnames = users.map { |u| u.display_name }\n\n# select/reject - filter collections\nactive_users = users.select(&:active?)\nvalid_emails = emails.reject(&:blank?)\n\n# reduce - aggregate values\ntotal = prices.reduce(0, :+)\nsum = numbers.reduce { |acc, n| acc + n }\n\n# each_with_object - build new structures\ngrouped = items.each_with_object({}) do |item, hash|\n  hash[item.category] ||= []\n  hash[item.category] << item\nend\n\n# any?/all?/none? - boolean checks\nhas_admin = users.any?(&:admin?)\nall_valid = records.all?(&:valid?)\n```\n\n### Use Guard Clauses\n\nPrefer early returns over nested conditionals:\n\n```ruby\n# Good - guard clauses\ndef process_payment(order)\n  return unless order.valid?\n  return if order.paid?\n  return unless sufficient_funds?\n\n  charge_customer(order)\n  send_confirmation(order)\nend\n\n# Avoid - nested conditionals\ndef process_payment(order)\n  if order.valid?\n    if !order.paid?\n      if sufficient_funds?\n        charge_customer(order)\n        send_confirmation(order)\n      end\n    end\n  end\nend\n```\n\n### Prefer Blocks and Yield\n\nUse blocks to make code more expressive and flexible:\n\n```ruby\n# Good - with blocks\ndef measure_time\n  start = Time.now\n  yield\n  Time.now - start\nend\n\nduration = measure_time { expensive_operation }\n\n# Good - block parameters\nusers.each do |user|\n  user.send_welcome_email\nend\n\n# Good - using & to convert symbol to proc\nnames = users.map(&:name)\n```\n\n## Code Quality Standards\n\n### Composition Over Inheritance\n\nPrefer composing behavior from smaller objects over deep inheritance hierarchies:\n\n```ruby\n# Good - composition\nclass Report\n  def initialize(data_source, formatter)\n    @data_source = data_source\n    @formatter = formatter\n  end\n\n  def generate\n    data = @data_source.fetch\n    @formatter.format(data)\n  end\nend\n\n# Usage\nreport = Report.new(DatabaseSource.new, PDFFormatter.new)\n\n# Avoid - deep inheritance\nclass PDFReport < Report < BaseReport\n  # Rigid hierarchy\nend\n```\n\n### Proper Naming\n\nUse descriptive, intention-revealing names:\n\n```ruby\n# Good - clear intent\ndef calculate_shipping_cost(weight, distance)\n  base_rate = 5.00\n  weight_charge = weight * 0.50\n  distance_charge = distance * 0.10\n  base_rate + weight_charge + distance_charge\nend\n\n# Avoid - unclear abbreviations\ndef calc_ship(w, d)\n  br = 5.00\n  wc = w * 0.50\n  dc = d * 0.10\n  br + wc + dc\nend\n```\n\nNaming conventions:\n- Predicate methods end with `?`: `valid?`, `active?`, `empty?`\n- Dangerous methods end with `!`: `save!`, `update!`, `destroy!`\n- Boolean variables: `is_admin`, `has_permission`, `can_edit`\n\n### Thread Safety\n\nWrite thread-safe code when necessary:\n\n```ruby\n# Good - thread-safe singleton\nclass Configuration\n  @instance_mutex = Mutex.new\n\n  def self.instance\n    return @instance if @instance\n\n    @instance_mutex.synchronize do\n      @instance ||= new\n    end\n  end\nend\n\n# Good - avoid shared mutable state\nclass RequestProcessor\n  def initialize\n    @mutex = Mutex.new\n  end\n\n  def process(request)\n    @mutex.synchronize do\n      # Critical section\n    end\n  end\nend\n```\n\n### Idempotent Operations\n\nDesign operations to be safely repeatable:\n\n```ruby\n# Good - idempotent\ndef activate_user\n  return if user.active?\n  user.update(active: true)\n  send_activation_email unless email_sent?\nend\n\n# Avoid - non-idempotent\ndef activate_user\n  user.update(active: true)\n  send_activation_email  # Sends every time!\nend\n```\n\n## Refactoring Triggers\n\nExtract classes when:\n- Class exceeds 100 lines (Sandi Metz Rule 1)\n- Class has multiple responsibilities\n- Class name contains \"And\" or \"Or\"\n\nExtract methods when:\n- Method exceeds 5 lines (Sandi Metz Rule 2)\n- Conditional logic is complex\n- Code has nested loops or conditionals\n- Comments explain what code does (code should be self-explanatory)\n\nUse parameter objects when:\n- Methods require more than 4 parameters (Sandi Metz Rule 3)\n- Related parameters are always passed together\n- Parameter list is growing over time\n\nCreate facades when:\n- Controllers need multiple objects (Sandi Metz Rule 4)\n- Views access nested collaborators\n- Complex data aggregation is needed\n\n## Best Practices Checklist\n\nWhen writing Ruby code, ensure:\n\n- [ ] Classes are under 100 lines\n- [ ] Methods are 5 lines or fewer\n- [ ] Methods have 4 or fewer parameters\n- [ ] Controllers instantiate only one object\n- [ ] Using modern Ruby 3.x syntax (hash shorthand, symbols)\n- [ ] String interpolation instead of concatenation\n- [ ] Semantic methods (`any?`, `present?`, `blank?`)\n- [ ] Guard clauses instead of nested conditionals\n- [ ] Symbols for identifiers and hash keys\n- [ ] Enumerable methods (`map`, `select`, `reduce`)\n- [ ] Composition over inheritance\n- [ ] Descriptive, intention-revealing names\n- [ ] Thread-safe code where needed\n- [ ] Idempotent operations where appropriate\n\n## When to Break Rules\n\nSandi Metz's \"Rule 0\": Break any of the 4 rules only with pair approval or clear justification.\n\nValid exceptions:\n- **Rule 1 (100 lines)**: Clear SRP justification required\n- **Rule 2 (5 lines)**: Complex but irreducible algorithms\n- **Rule 3 (4 params)**: Rails view helpers exempt\n- **Rule 4 (1 object)**: Simple views without facades\n\nDocument all exceptions with clear reasoning in code comments.\n\n## References\n\nFor additional Sandi Metz guidance (code smells, refactoring, testing principles):\n- `references/sandi-metz.md`\n- `references/ruby-tips.md` - Type conversion, hash patterns, proc composition, refinements"
              },
              {
                "name": "solid-cache-coder",
                "description": "Use when configuring or working with Solid Cache for database-backed caching. Applies Rails 8 conventions, cache key design, expiration strategies, database setup, and performance tuning patterns.",
                "path": "plugins/majestic-rails/skills/solid-cache-coder/SKILL.md",
                "frontmatter": {
                  "name": "solid-cache-coder",
                  "description": "Use when configuring or working with Solid Cache for database-backed caching. Applies Rails 8 conventions, cache key design, expiration strategies, database setup, and performance tuning patterns.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash"
                },
                "content": "# Solid Cache Coder\n\nYou are a senior Rails developer specializing in Solid Cache configuration and optimization.\n\n## Overview\n\nSolid Cache is Rails 8's default cache backenda database-backed cache store using NVMe storage instead of RAM. It eliminates the need for Redis/Memcached while providing FIFO eviction.\n\n## Configuration\n\n### Basic Setup\n\n```ruby\n# config/environments/production.rb\nconfig.cache_store = :solid_cache_store\n```\n\n### Advanced Configuration\n\n```ruby\nconfig.cache_store = :solid_cache_store, {\n  database: :cache,\n  expires_in: 2.weeks,\n  size_estimate: 500.megabytes,\n  namespace: Rails.env,\n  compressor: ZSTDCompressor\n}\n```\n\n## Database Setup\n\n### Separate Cache Database (Recommended)\n\n```yaml\n# config/database.yml\nproduction:\n  primary:\n    <<: *default\n    url: <%= ENV[\"DATABASE_URL\"] %>\n  cache:\n    <<: *default\n    url: <%= ENV[\"CACHE_DATABASE_URL\"] %>\n    migrations_paths: db/cache_migrate\n```\n\n### Run Migrations\n\n```bash\nbin/rails solid_cache:install:migrations\nbin/rails db:migrate\n```\n\n## Cache Key Design\n\n### Hierarchical Keys\n\n```ruby\nRails.cache.fetch(\"user:#{user.id}:profile:#{profile.id}\") { expensive_computation }\nRails.cache.delete_matched(\"user:#{user.id}:*\")  # Pattern-based deletion\n```\n\n### Russian Doll Caching\n\n```erb\n<% cache @post do %>\n  <%= @post.body %>\n  <% @post.comments.each do |comment| %>\n    <% cache comment do %><%= render comment %><% end %>\n  <% end %>\n<% end %>\n```\n\n## Expiration Strategies\n\n```ruby\n# Per-entry expiration\nRails.cache.write(\"session:#{id}\", data, expires_in: 30.minutes)\n\n# Fetch with expiration\nRails.cache.fetch(\"expensive_query\", expires_in: 15.minutes) { ExpensiveQuery.run }\n```\n\n## Performance Tuning\n\n### Enable ZSTD Compression\n\n```ruby\nconfig.cache_store = :solid_cache_store, { compressor: ZSTDCompressor }\n```\n\n### Batch Operations\n\n```ruby\nkeys = users.map { |u| \"user:#{u.id}:preferences\" }\nresults = Rails.cache.read_multi(*keys)\n\nRails.cache.fetch_multi(*keys) { |key| compute_value_for(key) }\n```\n\n## Database Maintenance\n\n```ruby\n# lib/tasks/cache_maintenance.rake\nnamespace :cache do\n  task vacuum: :environment do\n    ActiveRecord::Base.connected_to(database: :cache) do\n      ActiveRecord::Base.connection.execute(\"VACUUM ANALYZE solid_cache_entries\")\n    end\n  end\nend\n```\n\n## Solid Cache vs Redis\n\n| Choose Solid Cache When | Choose Redis When |\n|------------------------|-------------------|\n| Simplifying infrastructure | Sub-millisecond latency critical |\n| Using PostgreSQL/SQLite as primary | Extremely large cache working set |\n| Single-server or small clusters | Need pub/sub or complex invalidation |\n| Preferring NVMe over RAM caching | Already running Redis |\n\n## Anti-Patterns\n\n| Anti-Pattern | Problem | Solution |\n|--------------|---------|----------|\n| Single database at scale | Resource contention | Separate cache database |\n| No compression | Wasted storage | Enable ZSTD |\n| Infinite expiration | Unbounded growth | Set reasonable max_age |\n| No maintenance | Table bloat | Schedule VACUUM |\n\n## Output Format\n\nWhen configuring Solid Cache, provide:\n\n1. **Database Setup** - Multi-database configuration\n2. **Cache Config** - Store options and expiration\n3. **Performance** - Compression and pool settings\n4. **Maintenance** - Cleanup tasks and schedules"
              },
              {
                "name": "solid-queue-coder",
                "description": "Use when configuring or working with Solid Queue for background jobs. Applies Rails 8 conventions, database-backed job processing, concurrency settings, recurring jobs, and production deployment patterns.",
                "path": "plugins/majestic-rails/skills/solid-queue-coder/SKILL.md",
                "frontmatter": {
                  "name": "solid-queue-coder",
                  "description": "Use when configuring or working with Solid Queue for background jobs. Applies Rails 8 conventions, database-backed job processing, concurrency settings, recurring jobs, and production deployment patterns.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash"
                },
                "content": "# Solid Queue Coder\n\nYou are a senior Rails developer specializing in Solid Queue configuration and optimization.\n\n## Overview\n\nSolid Queue is Rails 8's default job backenda database-backed Active Job adapter that eliminates the need for Redis. Jobs are stored in your database with ACID guarantees.\n\n## Configuration\n\n### Database Setup\n\n```yaml\n# config/database.yml\nproduction:\n  primary:\n    <<: *default\n    url: <%= ENV[\"DATABASE_URL\"] %>\n  queue:\n    <<: *default\n    url: <%= ENV[\"QUEUE_DATABASE_URL\"] %>\n    migrations_paths: db/queue_migrate\n```\n\n### Queue Configuration\n\n```yaml\n# config/solid_queue.yml\nproduction:\n  dispatchers:\n    - polling_interval: 1\n      batch_size: 500\n\n  workers:\n    - queues: [critical, default]\n      threads: 5\n      processes: 2\n      polling_interval: 0.1\n    - queues: [low_priority]\n      threads: 2\n      processes: 1\n      polling_interval: 1\n```\n\n### Application Configuration\n\n```ruby\n# config/application.rb\nconfig.active_job.queue_adapter = :solid_queue\n\n# config/environments/production.rb\nconfig.solid_queue.connects_to = { database: { writing: :queue } }\n```\n\n## Queue Design\n\n### Priority Strategy\n\n```ruby\nclass CriticalNotificationJob < ApplicationJob\n  queue_as :critical\n  queue_with_priority 1  # Lower = higher priority\nend\n\nclass ReportGenerationJob < ApplicationJob\n  queue_as :low_priority\n  queue_with_priority 50\nend\n```\n\n### Concurrency Control\n\n```ruby\nclass ProcessUserDataJob < ApplicationJob\n  limits_concurrency key: ->(user_id) { user_id }\nend\n\nclass SyncContactJob < ApplicationJob\n  limits_concurrency key: ->(contact) { contact.id },\n                     duration: 15.minutes,\n                     group: \"ContactOperations\"\nend\n```\n\n## Recurring Jobs\n\n```yaml\n# config/solid_queue.yml\nrecurring:\n  cleanup_old_records:\n    class: CleanupJob\n    schedule: every day at 3am\n    queue: low_priority\n\n  sync_external_data:\n    class: SyncExternalDataJob\n    schedule: every 15 minutes\n    queue: default\n```\n\n## Deployment\n\n### Procfile\n\n```yaml\nweb: bundle exec puma -C config/puma.rb\nworker: bundle exec rake solid_queue:start\n```\n\n### Docker Compose\n\n```yaml\nservices:\n  web:\n    command: bundle exec puma -C config/puma.rb\n  worker:\n    command: bundle exec rake solid_queue:start\n```\n\n## Error Handling\n\n```ruby\nclass ExternalApiJob < ApplicationJob\n  retry_on Net::OpenTimeout, wait: :polynomially_longer, attempts: 5\n  discard_on ActiveJob::DeserializationError\n\n  rescue_from StandardError do |exception|\n    if executions >= 5\n      FailedJob.create!(job_class: self.class.name, error_message: exception.message)\n    else\n      raise exception\n    end\n  end\nend\n```\n\n## Database Maintenance\n\n```ruby\nnamespace :queue do\n  task vacuum: :environment do\n    ActiveRecord::Base.connected_to(database: :queue) do\n      %w[solid_queue_ready_executions solid_queue_claimed_executions].each do |table|\n        ActiveRecord::Base.connection.execute(\"VACUUM ANALYZE #{table}\")\n      end\n    end\n  end\nend\n```\n\n## Solid Queue vs Sidekiq\n\n| Feature | Solid Queue | Sidekiq |\n|---------|-------------|---------|\n| Infrastructure | Database only | Requires Redis |\n| ACID guarantees | Yes | No |\n| Transactional enqueue | Yes | No |\n| Concurrency control | Built-in | Requires sidekiq-unique-jobs |\n\n## Anti-Patterns\n\n| Anti-Pattern | Problem | Solution |\n|--------------|---------|----------|\n| Wildcard queue `*` in prod | Unpredictable priority | Specify queue order |\n| Single database | Contention with app | Separate queue database |\n| Too many threads | Database exhaustion | Match pool size |\n\n## Output Format\n\nWhen configuring Solid Queue, provide:\n\n1. **Database Setup** - Multi-database configuration\n2. **Queue Config** - solid_queue.yml settings\n3. **Worker Setup** - Procfile/Docker configuration\n4. **Jobs** - Example job classes with error handling"
              },
              {
                "name": "stimulus-coder",
                "description": "Use when creating or refactoring Stimulus controllers. Applies Hotwire conventions, controller design patterns, targets/values usage, action handling, and JavaScript best practices.",
                "path": "plugins/majestic-rails/skills/stimulus-coder/SKILL.md",
                "frontmatter": {
                  "name": "stimulus-coder",
                  "description": "Use when creating or refactoring Stimulus controllers. Applies Hotwire conventions, controller design patterns, targets/values usage, action handling, and JavaScript best practices.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash"
                },
                "content": "# Stimulus Coder\n\nYou are a senior developer specializing in Stimulus.js and Hotwire. State lives in HTML, controllers add behavior.\n\n## Core Concepts\n\n- **Controllers** attach behavior to HTML elements\n- **Actions** respond to DOM events\n- **Targets** reference important elements\n- **Values** manage state through data attributes\n\n## Controller Design Principles\n\n### Keep Controllers Small and Reusable\n\n```javascript\n// Good: Generic, reusable controller\nimport { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n  static targets = [\"content\"]\n  static values = { open: Boolean }\n\n  toggle() { this.openValue = !this.openValue }\n\n  openValueChanged() {\n    this.contentTarget.classList.toggle(\"hidden\", !this.openValue)\n  }\n}\n```\n\n### Use Data Attributes for Configuration\n\n```javascript\nexport default class extends Controller {\n  static values = {\n    delay: { type: Number, default: 300 },\n    event: { type: String, default: \"input\" }\n  }\n\n  connect() {\n    this.element.addEventListener(this.eventValue, this.submit.bind(this))\n  }\n\n  submit() {\n    clearTimeout(this.timeout)\n    this.timeout = setTimeout(() => this.element.requestSubmit(), this.delayValue)\n  }\n}\n```\n\n```erb\n<%= form_with data: { controller: \"auto-submit\", auto_submit_delay_value: 500 } %>\n```\n\n### Compose Multiple Controllers\n\n```erb\n<div data-controller=\"toggle clipboard\" data-toggle-open-value=\"false\">\n  <button data-action=\"toggle#toggle\">Show</button>\n  <div data-toggle-target=\"content\" class=\"hidden\">\n    <code data-clipboard-target=\"source\">secret-code</code>\n    <button data-action=\"clipboard#copy\">Copy</button>\n  </div>\n</div>\n```\n\n## Targets and Values\n\n### Targets for Element References\n\n```javascript\nexport default class extends Controller {\n  static targets = [\"tab\", \"panel\"]\n  static values = { index: { type: Number, default: 0 } }\n\n  select(event) { this.indexValue = this.tabTargets.indexOf(event.currentTarget) }\n\n  indexValueChanged() {\n    this.panelTargets.forEach((panel, i) => panel.classList.toggle(\"hidden\", i !== this.indexValue))\n    this.tabTargets.forEach((tab, i) => tab.setAttribute(\"aria-selected\", i === this.indexValue))\n  }\n}\n```\n\n## Action Handling\n\n```erb\n<button data-action=\"click->toggle#toggle\">Toggle</button>\n<input data-action=\"input->search#update focus->search#expand\">\n<button data-action=\"modal#open\" data-modal-id-param=\"confirm-dialog\">Open</button>\n<input data-action=\"keydown.enter->form#submit keydown.escape->form#cancel\">\n```\n\n### Action Parameters\n\n```javascript\nopen(event) {\n  const modalId = event.params.id\n  document.getElementById(modalId)?.showModal()\n}\n```\n\n## Common Controller Patterns\n\n### Dropdown Controller\n\n```javascript\nexport default class extends Controller {\n  static targets = [\"menu\"]\n  static values = { open: Boolean }\n\n  toggle() { this.openValue = !this.openValue }\n\n  close(event) {\n    if (!this.element.contains(event.target)) this.openValue = false\n  }\n\n  openValueChanged() {\n    this.menuTarget.classList.toggle(\"hidden\", !this.openValue)\n    if (this.openValue) document.addEventListener(\"click\", this.close.bind(this), { once: true })\n  }\n}\n```\n\n### Clipboard Controller\n\n```javascript\nexport default class extends Controller {\n  static targets = [\"source\", \"button\"]\n  static values = { successMessage: { type: String, default: \"Copied!\" } }\n\n  async copy() {\n    const text = this.sourceTarget.value || this.sourceTarget.textContent\n    await navigator.clipboard.writeText(text)\n    this.showSuccess()\n  }\n\n  showSuccess() {\n    const original = this.buttonTarget.textContent\n    this.buttonTarget.textContent = this.successMessageValue\n    setTimeout(() => this.buttonTarget.textContent = original, 2000)\n  }\n}\n```\n\n## Turbo Integration\n\n```javascript\nexport default class extends Controller {\n  connect() {\n    document.addEventListener(\"turbo:before-visit\", this.dismiss.bind(this))\n    this.timeout = setTimeout(() => this.dismiss(), 5000)\n  }\n\n  disconnect() { clearTimeout(this.timeout) }\n  dismiss() { this.element.remove() }\n}\n```\n\n## Anti-Patterns\n\n| Anti-Pattern | Problem | Solution |\n|--------------|---------|----------|\n| Creating DOM extensively | Fighting Stimulus philosophy | Let server render HTML |\n| Storing state in JS | State lost on navigation | Use Values in HTML |\n| Over-specific controllers | Not reusable | Design generic behaviors |\n| Manual querySelector | Fragile, bypasses Stimulus | Use targets |\n| Inline event handlers | Unmaintainable | Use data-action |\n\n## Output Format\n\nWhen creating Stimulus controllers, provide:\n\n1. **Controller** - Complete JavaScript implementation\n2. **HTML Example** - Sample markup showing usage\n3. **Configuration** - Available values and targets\n4. **Integration** - How it works with Turbo if applicable"
              },
              {
                "name": "store-model-coder",
                "description": "Wrap JSON-backed database columns with ActiveModel-like classes using store_model. Use when creating configuration objects, managing nested JSON attributes, or adding validations to JSON data. Triggers on JSON columns, store_model, typed JSON, configuration objects, or nested attributes.",
                "path": "plugins/majestic-rails/skills/store-model-coder/SKILL.md",
                "frontmatter": {
                  "name": "store-model-coder",
                  "description": "Wrap JSON-backed database columns with ActiveModel-like classes using store_model. Use when creating configuration objects, managing nested JSON attributes, or adding validations to JSON data. Triggers on JSON columns, store_model, typed JSON, configuration objects, or nested attributes."
                },
                "content": "# StoreModel: JSON-Backed ActiveRecord Attributes\n\nWrap JSON-backed database columns with ActiveModel-like classes for type safety, validations, and clean separation of concerns.\n\n## When to Use This Skill\n\n- Configuration objects with validated fields\n- Nested attributes stored in JSON columns\n- JSON data requiring type safety and ActiveModel behavior\n- Separating JSON logic from parent ActiveRecord model\n\n## When NOT to Use StoreModel\n\n| Scenario | Better Alternative |\n|----------|-------------------|\n| Simple key-value settings | `ActiveRecord::Store` or `store_accessor` |\n| Need database-level queries on JSON | Raw `jsonb` with PostgreSQL operators |\n| Data needs relationships/joins | Normalize into separate tables |\n| Truly simple JSON without validation | Plain JSON column access |\n\n## Setup\n\n```ruby\n# Gemfile\ngem \"store_model\", \"~> 3.0\"\n```\n\n## Basic Usage\n\n### Define a StoreModel Class\n\n```ruby\n# app/models/configuration.rb\nclass Configuration\n  include StoreModel::Model\n\n  attribute :model, :string\n  attribute :color, :string\n  attribute :max_speed, :integer, default: 100\n\n  validates :model, presence: true\n  validates :max_speed, numericality: { greater_than: 0 }\nend\n```\n\n### Register in ActiveRecord\n\n```ruby\n# app/models/product.rb\nclass Product < ApplicationRecord\n  attribute :configuration, Configuration.to_type\nend\n```\n\n### Usage\n\n```ruby\nproduct = Product.new\nproduct.configuration = { model: \"rocket\", color: \"red\" }\nproduct.configuration.model  # => \"rocket\"\nproduct.configuration.color = \"blue\"\nproduct.save!\n\n# Also accepts StoreModel instances\nproduct.configuration = Configuration.new(model: \"shuttle\")\n```\n\n## Enums\n\n```ruby\nclass Configuration\n  include StoreModel::Model\n\n  attribute :model, :string\n\n  enum :status, %i[draft active archived], default: :draft\n\n  # With custom values\n  enum :priority, { low: 0, medium: 1, high: 2 }, default: :medium\nend\n```\n\n```ruby\nconfig = Configuration.new\nconfig.status        # => \"draft\"\nconfig.active?       # => false\nconfig.active!       # Sets status to :active\nconfig.status        # => \"active\"\n```\n\n## Validations\n\n```ruby\nclass Address\n  include StoreModel::Model\n\n  attribute :street, :string\n  attribute :city, :string\n  attribute :zip, :string\n  attribute :country, :string, default: \"US\"\n\n  validates :street, :city, :zip, presence: true\n  validates :zip, format: { with: /\\A\\d{5}(-\\d{4})?\\z/ }, if: -> { country == \"US\" }\nend\n```\n\n### Merging Errors to Parent\n\n```ruby\nclass User < ApplicationRecord\n  attribute :address, Address.to_type\n\n  validates :address, store_model: { merge_errors: true }\nend\n\nuser = User.new(address: { street: \"\", city: \"\" })\nuser.valid?\nuser.errors.full_messages\n# => [\"Address street can't be blank\", \"Address city can't be blank\", \"Address zip can't be blank\"]\n```\n\n## Nested Models\n\n```ruby\nclass Coordinate\n  include StoreModel::Model\n\n  attribute :latitude, :float\n  attribute :longitude, :float\n\n  validates :latitude, :longitude, presence: true\nend\n\nclass Location\n  include StoreModel::Model\n\n  attribute :name, :string\n  attribute :coordinate, Coordinate.to_type\n\n  validates :name, presence: true\n  validates :coordinate, store_model: { merge_errors: true }\nend\n```\n\n## Array of Models\n\n```ruby\nclass LineItem\n  include StoreModel::Model\n\n  attribute :name, :string\n  attribute :quantity, :integer, default: 1\n  attribute :price_cents, :integer\n\n  validates :name, :price_cents, presence: true\nend\n\nclass Order < ApplicationRecord\n  attribute :line_items, LineItem.to_array_type\n\n  validates :line_items, store_model: { merge_array_errors: true }\nend\n```\n\n```ruby\norder = Order.new\norder.line_items = [\n  { name: \"Widget\", quantity: 2, price_cents: 1000 },\n  { name: \"Gadget\", quantity: 1, price_cents: 2500 }\n]\norder.line_items.first.name  # => \"Widget\"\norder.line_items.sum(&:price_cents)  # => 3500\n```\n\n## Dirty Tracking\n\nStoreModel doesn't automatically detect nested changes. Use one of these approaches:\n\n```ruby\n# Option 1: Reassign the entire object\nproduct.configuration = product.configuration.dup.tap { |c| c.color = \"green\" }\n\n# Option 2: Mark as changed explicitly\nproduct.configuration.color = \"green\"\nproduct.configuration_will_change!\nproduct.save!\n\n# Option 3: Use attribute assignment\nproduct.configuration = { **product.configuration.attributes, color: \"green\" }\n```\n\n## Controller Pattern\n\n```ruby\nclass ProductsController < ApplicationController\n  def create\n    @product = Product.new(product_params)\n\n    if @product.save\n      redirect_to @product\n    else\n      render :new, status: :unprocessable_entity\n    end\n  end\n\n  private\n\n  def product_params\n    params.require(:product).permit(\n      :name,\n      configuration: [:model, :color, :max_speed, :status]\n    )\n  end\nend\n```\n\n## Testing\n\n```ruby\nRSpec.describe Configuration do\n  describe \"validations\" do\n    it \"requires model\" do\n      config = described_class.new(model: nil)\n      expect(config).not_to be_valid\n      expect(config.errors[:model]).to include(\"can't be blank\")\n    end\n  end\n\n  describe \"enums\" do\n    it \"defaults to draft status\" do\n      config = described_class.new\n      expect(config).to be_draft\n    end\n\n    it \"transitions status\" do\n      config = described_class.new\n      config.active!\n      expect(config).to be_active\n    end\n  end\nend\n\nRSpec.describe Product do\n  describe \"configuration\" do\n    it \"accepts hash\" do\n      product = described_class.new(configuration: { model: \"rocket\" })\n      expect(product.configuration.model).to eq(\"rocket\")\n    end\n\n    it \"merges validation errors\" do\n      product = described_class.new(configuration: { model: nil })\n      expect(product).not_to be_valid\n      expect(product.errors[:configuration]).to be_present\n    end\n  end\nend\n```\n\n## Detailed References\n\nFor advanced patterns:\n- `references/advanced-patterns.md` - Nested attributes, custom types, one-of types, parent tracking"
              },
              {
                "name": "tailwind-coder",
                "description": "Use when applying Tailwind CSS styling to Rails views. Uses utility classes, responsive design patterns, and integrates with Rails view helpers.",
                "path": "plugins/majestic-rails/skills/tailwind-coder/SKILL.md",
                "frontmatter": {
                  "name": "tailwind-coder",
                  "description": "Use when applying Tailwind CSS styling to Rails views. Uses utility classes, responsive design patterns, and integrates with Rails view helpers.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch"
                },
                "content": "# Tailwind Coder\n\nYou apply Tailwind CSS styling to Rails applications. You use utility classes effectively and follow responsive design patterns.\n\n## Rails Integration\n\n### Setup Check\n\n```bash\n# Verify Tailwind is installed\ncat config/tailwind.config.js\ncat app/assets/stylesheets/application.tailwind.css\n```\n\n### Common Rails Patterns\n\n**Link helpers:**\n```erb\n<%= link_to \"Home\", root_path, class: \"text-blue-600 hover:text-blue-800 underline\" %>\n\n<%= link_to users_path, class: \"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\" do %>\n  <svg class=\"w-4 h-4 mr-2\">...</svg>\n  View Users\n<% end %>\n```\n\n**Form helpers:**\n```erb\n<%= form_with model: @user, class: \"space-y-6\" do |f| %>\n  <div>\n    <%= f.label :email, class: \"block text-sm font-medium text-gray-700\" %>\n    <%= f.email_field :email, class: \"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500\" %>\n  </div>\n\n  <div>\n    <%= f.submit \"Save\", class: \"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\" %>\n  </div>\n<% end %>\n```\n\n**Flash messages:**\n```erb\n<% flash.each do |type, message| %>\n  <div class=\"<%= flash_class(type) %> p-4 rounded-md mb-4\">\n    <%= message %>\n  </div>\n<% end %>\n\n<%# Helper %>\n<%\ndef flash_class(type)\n  case type.to_sym\n  when :notice then \"bg-green-100 text-green-800\"\n  when :alert then \"bg-red-100 text-red-800\"\n  else \"bg-blue-100 text-blue-800\"\n  end\nend\n%>\n```\n\n## Layout Patterns\n\n### Page Container\n\n```erb\n<main class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n  <%= yield %>\n</main>\n```\n\n### Card\n\n```erb\n<div class=\"bg-white shadow rounded-lg overflow-hidden\">\n  <div class=\"px-4 py-5 sm:p-6\">\n    <h3 class=\"text-lg font-medium text-gray-900\">Card Title</h3>\n    <p class=\"mt-2 text-sm text-gray-500\">Card content goes here.</p>\n  </div>\n</div>\n```\n\n### Grid\n\n```erb\n<div class=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n  <%= render @items %>\n</div>\n```\n\n### Stack (Vertical Spacing)\n\n```erb\n<div class=\"space-y-6\">\n  <div>First item</div>\n  <div>Second item</div>\n  <div>Third item</div>\n</div>\n```\n\n## Component Patterns\n\n### Button Variants\n\n```erb\n<%# Primary %>\n<button class=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\">\n  Primary\n</button>\n\n<%# Secondary %>\n<button class=\"px-4 py-2 bg-white text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\">\n  Secondary\n</button>\n\n<%# Danger %>\n<button class=\"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2\">\n  Delete\n</button>\n```\n\n### Form Input\n\n```erb\n<input type=\"text\"\n  class=\"block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm\"\n  placeholder=\"Enter text...\">\n\n<%# With error %>\n<input type=\"text\"\n  class=\"block w-full rounded-md border-red-300 text-red-900 placeholder-red-300 focus:border-red-500 focus:ring-red-500 sm:text-sm\">\n<p class=\"mt-2 text-sm text-red-600\">This field is required.</p>\n```\n\n### Navigation\n\n```erb\n<nav class=\"bg-white shadow\">\n  <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n    <div class=\"flex justify-between h-16\">\n      <div class=\"flex\">\n        <%= link_to root_path, class: \"flex items-center\" do %>\n          <span class=\"text-xl font-bold text-gray-900\">Logo</span>\n        <% end %>\n\n        <div class=\"hidden sm:ml-6 sm:flex sm:space-x-8\">\n          <%= link_to \"Dashboard\", dashboard_path, class: \"inline-flex items-center px-1 pt-1 border-b-2 border-blue-500 text-sm font-medium text-gray-900\" %>\n          <%= link_to \"Users\", users_path, class: \"inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700\" %>\n        </div>\n      </div>\n    </div>\n  </div>\n</nav>\n```\n\n### Table\n\n```erb\n<div class=\"overflow-hidden shadow ring-1 ring-black ring-opacity-5 rounded-lg\">\n  <table class=\"min-w-full divide-y divide-gray-300\">\n    <thead class=\"bg-gray-50\">\n      <tr>\n        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Name</th>\n        <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Email</th>\n        <th class=\"relative px-6 py-3\"><span class=\"sr-only\">Actions</span></th>\n      </tr>\n    </thead>\n    <tbody class=\"bg-white divide-y divide-gray-200\">\n      <% @users.each do |user| %>\n        <tr>\n          <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\"><%= user.name %></td>\n          <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\"><%= user.email %></td>\n          <td class=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\n            <%= link_to \"Edit\", edit_user_path(user), class: \"text-blue-600 hover:text-blue-900\" %>\n          </td>\n        </tr>\n      <% end %>\n    </tbody>\n  </table>\n</div>\n```\n\n## Responsive Design\n\nUse breakpoint prefixes: `sm:`, `md:`, `lg:`, `xl:`, `2xl:`\n\n```erb\n<%# Mobile-first: stack on mobile, side-by-side on larger %>\n<div class=\"flex flex-col md:flex-row md:space-x-6\">\n  <div class=\"w-full md:w-1/3\">Sidebar</div>\n  <div class=\"w-full md:w-2/3\">Main content</div>\n</div>\n\n<%# Hide on mobile %>\n<div class=\"hidden md:block\">Only visible on md and up</div>\n\n<%# Show only on mobile %>\n<div class=\"md:hidden\">Only visible on mobile</div>\n```\n\n## Dark Mode\n\n```erb\n<%# Enable in tailwind.config.js: darkMode: 'class' %>\n<div class=\"bg-white dark:bg-gray-800 text-gray-900 dark:text-white\">\n  Content\n</div>\n```\n\n## Helper Methods\n\nCreate view helpers for repeated patterns:\n\n```ruby\n# app/helpers/tailwind_helper.rb\nmodule TailwindHelper\n  def btn_primary(text, path, **options)\n    link_to text, path, class: \"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 #{options[:class]}\", **options.except(:class)\n  end\n\n  def card(&block)\n    content_tag :div, class: \"bg-white shadow rounded-lg p-6\", &block\n  end\nend\n```\n\n## Output Format\n\nAfter styling:\n\n1. **Changes** - Files modified with styling applied\n2. **Patterns Used** - Layout, component patterns\n3. **Responsive** - Breakpoints and adaptations\n4. **Helpers** - Any extracted helper methods"
              },
              {
                "name": "viewcomponent-coder",
                "description": "Build component-based UIs with ViewComponent and view_component-contrib. Use when creating reusable UI components, implementing slots and style variants, or building component previews. Triggers on ViewComponent creation, component patterns, Lookbook previews, or UI component architecture.",
                "path": "plugins/majestic-rails/skills/viewcomponent-coder/SKILL.md",
                "frontmatter": {
                  "name": "viewcomponent-coder",
                  "description": "Build component-based UIs with ViewComponent and view_component-contrib. Use when creating reusable UI components, implementing slots and style variants, or building component previews. Triggers on ViewComponent creation, component patterns, Lookbook previews, or UI component architecture."
                },
                "content": "# ViewComponent Patterns\n\nBuild modern, component-based UIs with ViewComponent using Evil Martians' [view_component-contrib](https://github.com/palkan/view_component-contrib) patterns.\n\n## When to Use This Skill\n\n- Creating ViewComponent classes\n- Implementing slots and style variants\n- Building Lookbook previews\n- Testing components in isolation\n- Refactoring partials to components\n\n## Core Principle: Components Over Partials\n\n**Prefer ViewComponents over partials** for reusable UI.\n\n### Why ViewComponents?\n\n- Better encapsulation than partials\n- Testable in isolation\n- Object-oriented approach with explicit contracts\n- IDE support and type safety\n- Performance benefits (compiled templates)\n\n## Setup\n\n```ruby\n# Gemfile\ngem \"view_component\"\ngem \"view_component-contrib\"  # Evil Martians patterns\ngem \"dry-initializer\"         # Declarative initialization\ngem \"lookbook\"                # Component previews\ngem \"inline_svg\"              # SVG icons\n```\n\nInstall with Rails template:\n```bash\nrails app:template LOCATION=\"https://railsbytes.com/script/zJosO5\"\n```\n\n## Base Classes\n\n```ruby\n# app/components/application_view_component.rb\nclass ApplicationViewComponent < ViewComponentContrib::Base\n  extend Dry::Initializer\nend\n\n# spec/components/previews/application_view_component_preview.rb\nclass ApplicationViewComponentPreview < ViewComponentContrib::Preview::Base\n  self.abstract_class = true\nend\n```\n\n## Basic Component with dry-initializer\n\n```ruby\n# app/components/button_component.rb\nclass ButtonComponent < ApplicationViewComponent\n  option :text\n  option :variant, default: -> { :primary }\n  option :size, default: -> { :md }\nend\n```\n\n```erb\n<%# app/components/button_component.html.erb %>\n<button class=\"btn btn-<%= variant %> btn-<%= size %>\">\n  <%= text %>\n</button>\n```\n\n## Style Variants DSL\n\nReplace manual VARIANTS hashes with the Style Variants DSL:\n\n```ruby\nclass ButtonComponent < ApplicationViewComponent\n  include ViewComponentContrib::StyleVariants\n\n  option :text\n  option :color, default: -> { :primary }\n  option :size, default: -> { :md }\n\n  style do\n    base { %w[font-medium rounded-full] }\n\n    variants {\n      color {\n        primary { %w[bg-blue-500 text-white] }\n        secondary { %w[bg-gray-500 text-white] }\n        danger { %w[bg-red-500 text-white] }\n      }\n      size {\n        sm { \"text-sm px-2 py-1\" }\n        md { \"text-base px-4 py-2\" }\n        lg { \"text-lg px-6 py-3\" }\n      }\n    }\n\n    # Apply when multiple conditions match\n    compound(size: :lg, color: :primary) { \"uppercase\" }\n\n    defaults { { color: :primary, size: :md } }\n  end\nend\n```\n\n```erb\n<button class=\"<%= style(color:, size:) %>\">\n  <%= text %>\n</button>\n```\n\n## Component with Slots\n\n```ruby\nclass CardComponent < ApplicationViewComponent\n  renders_one :header\n  renders_one :footer\n  renders_many :actions\nend\n```\n\n```erb\n<%= render CardComponent.new do |card| %>\n  <% card.with_header do %>\n    <h3>Title</h3>\n  <% end %>\n\n  <p>Body content</p>\n\n  <% card.with_action do %>\n    <%= helpers.link_to \"Edit\", edit_path %>\n  <% end %>\n<% end %>\n```\n\n## Important Rules\n\n**1. Prefix Rails helpers with `helpers.`**\n\n```erb\n<%# CORRECT %>\n<%= helpers.link_to \"Home\", root_path %>\n<%= helpers.image_tag \"logo.png\" %>\n<%= helpers.inline_svg_tag \"icons/user.svg\" %>\n\n<%# WRONG - will fail in component context %>\n<%= link_to \"Home\", root_path %>\n```\n\n**Exception**: `t()` i18n helper does NOT need prefix:\n\n```erb\n<%= t('.title') %>\n```\n\n**2. SVG Icons as Separate Files**\n\nStore SVGs in `app/assets/images/icons/` and render with `inline_svg` gem:\n\n```erb\n<%= helpers.inline_svg_tag \"icons/user.svg\", class: \"w-5 h-5\" %>\n```\n\n**Don't inline SVG markup in Ruby code** - use separate files instead.\n\n## Conditional Rendering\n\n```ruby\nclass AlertComponent < ApplicationViewComponent\n  option :message\n  option :type, default: -> { :info }\n  option :dismissible, default: -> { true }\n\n  # Skip rendering if no message\n  def render?\n    message.present?\n  end\nend\n```\n\n## Lookbook Previews\n\n```ruby\n# spec/components/previews/button_component_preview.rb\nclass ButtonComponentPreview < ApplicationViewComponentPreview\n  def default\n    render ButtonComponent.new(text: \"Click me\")\n  end\n\n  def primary\n    render ButtonComponent.new(text: \"Primary\", color: :primary)\n  end\n\n  def all_sizes\n    render_with(wrapper: :flex_row) do\n      safe_join([\n        render(ButtonComponent.new(text: \"Small\", size: :sm)),\n        render(ButtonComponent.new(text: \"Medium\", size: :md)),\n        render(ButtonComponent.new(text: \"Large\", size: :lg))\n      ])\n    end\n  end\nend\n```\n\nAccess at: `http://localhost:3000/lookbook`\n\n## Testing Components\n\n```ruby\nRSpec.describe ButtonComponent, type: :component do\n  it \"renders button text\" do\n    render_inline(ButtonComponent.new(text: \"Click me\"))\n    expect(page).to have_button(\"Click me\")\n  end\n\n  it \"applies style variant classes\" do\n    render_inline(ButtonComponent.new(text: \"Save\", color: :primary, size: :lg))\n    expect(page).to have_css(\"button.bg-blue-500.text-lg\")\n  end\nend\n```\n\n## Detailed References\n\nFor advanced patterns and examples:\n- `references/patterns.md` - Slots, collections, polymorphic components, Turbo integration\n- `references/style-variants.md` - Full Style Variants DSL, compound variants, TailwindMerge"
              }
            ]
          },
          {
            "name": "majestic-llm",
            "description": "External LLM integration tools. Get second opinions from Codex and Gemini on architecture and code review. Includes 5 agents and 2 commands.",
            "source": "./plugins/majestic-llm",
            "category": null,
            "version": "1.0.0",
            "author": {
              "name": "David Paluy",
              "url": "https://github.com/dpaluy",
              "email": "marketplace@it.majesticlabs.dev"
            },
            "install_commands": [
              "/plugin marketplace add majesticlabs-dev/majestic-marketplace",
              "/plugin install majestic-llm@majestic-marketplace"
            ],
            "signals": {
              "stars": 16,
              "forks": 1,
              "pushed_at": "2026-01-12T22:29:39Z",
              "created_at": "2025-11-26T21:43:21Z",
              "license": "NOASSERTION"
            },
            "commands": [
              {
                "name": "/consult",
                "description": "Get external LLM perspectives on architecture/design decisions from Codex and Gemini",
                "path": "plugins/majestic-llm/commands/consult.md",
                "frontmatter": {
                  "description": "Get external LLM perspectives on architecture/design decisions from Codex and Gemini",
                  "allowed-tools": "Bash, Read, Grep, Glob, Task",
                  "argument-hint": "<question> [--llm codex|gemini|all] [--codex-model <model>] [--gemini-model <model>]"
                },
                "content": "# External Consult\n\nGet alternative AI perspectives on architectural decisions and feature planning from external LLMs (Codex, Gemini).\n\n## Arguments\n\n<input_arguments> $ARGUMENTS </input_arguments>\n\n**Format:** `<question> [options]`\n\n**Options:**\n- `--llm codex` - Use only Codex (GPT-5.1)\n- `--llm gemini` - Use only Gemini\n- `--llm all` - Use both (default)\n- `--codex-model <model>` - Codex model (default: `gpt-5.1-codex`)\n- `--gemini-model <model>` - Gemini model (default: `gemini-3.0-pro-preview`)\n\n**Example:**\n```\n/majestic-llm:consult Should we use Redis or PostgreSQL for caching?\n/majestic-llm:consult --llm codex What's the best way to structure this API?\n/majestic-llm:consult --codex-model gpt-5.1-codex-max Critical architecture decision\n/majestic-llm:consult --codex-model gpt-5.1-codex-max --gemini-model gemini-2.5-pro Compare approaches\n```\n\n## Available Models\n\n### Codex (OpenAI)\n| Model | Use Case |\n|-------|----------|\n| `gpt-5.1-codex-mini` | Fast, cost-effective |\n| `gpt-5.1-codex` | Balanced (default) |\n| `gpt-5.1-codex-max` | Maximum intelligence |\n\n### Gemini (Google)\n| Model | Use Case |\n|-------|----------|\n| `gemini-2.5-flash` | Fast, cost-effective |\n| `gemini-2.5-pro` | Balanced |\n| `gemini-3.0-pro-preview` | Latest (default) |\n\n## Process\n\n### Step 1: Parse Arguments\n\nExtract from `$ARGUMENTS`:\n- **Question:** Everything before `--` flags (or interspersed with flags)\n- **LLM selection:** `--llm` value (default: `all`)\n- **Codex model:** `--codex-model` value (default: `gpt-5.1-codex`)\n- **Gemini model:** `--gemini-model` value (default: `gemini-3.0-pro-preview`)\n\n**Auto-inference:** If only `--codex-model` is specified without `--llm`, infer `--llm codex`. Same for `--gemini-model`.\n\n### Step 2: Check CLI Availability\n\n```bash\nwhich codex >/dev/null 2>&1 && echo \"codex:ok\" || echo \"codex:missing\"\nwhich gemini >/dev/null 2>&1 && echo \"gemini:ok\" || echo \"gemini:missing\"\n```\n\nIf a requested LLM is missing, warn and continue with available ones.\n\n### Step 3: Gather Context\n\nRead project context to include in prompts:\n- Check for CLAUDE.md, AGENTS.md\n- Note the tech stack from .agents.yml if present\n- Include relevant context in the query\n\n### Step 4: Launch Queries\n\n**Single LLM Mode:**\nUse Task tool with appropriate agent:\n```\nTask: majestic-llm:codex-consult\nPrompt: \"[question with context]. Model: [codex-model]\"\n```\n\n**Multi-LLM Mode:**\nLaunch BOTH agents in parallel using Task tool:\n```\nTask 1: majestic-llm:codex-consult\nPrompt: \"[question]. Model: [codex-model]\"\n\nTask 2: majestic-llm:gemini-consult\nPrompt: \"[question]. Model: [gemini-model]\"\n```\n\n### Step 5: Present Results\n\n**Single LLM:** Present the response directly with model attribution.\n\n**Multi-LLM:** Use the multi-llm-coordinator synthesis format:\n- Highlight consensus points\n- Note divergent recommendations\n- Surface unique insights from each\n\n## Output Format\n\n### Single LLM\n\n```markdown\n## External Consult Results\n\n**Question:** [question]\n**LLM:** [Codex/Gemini] ([model])\n\n### Perspectives\n\n[Structured response from the LLM]\n\n### Key Takeaways\n- [Point 1]\n- [Point 2]\n- [Point 3]\n```\n\n### Multi-LLM\n\n```markdown\n## External Consult Results\n\n**Question:** [question]\n**LLMs:** Codex ([model]), Gemini ([model])\n\n---\n\n### Consensus\nPoints where both LLMs agree:\n- [Agreement 1]\n- [Agreement 2]\n\n### Divergence\nWhere they disagree:\n| Topic | Codex | Gemini |\n|-------|-------|--------|\n| [Topic] | [Position] | [Position] |\n\n### Unique Insights\n\n**From Codex:**\n- [Insight]\n\n**From Gemini:**\n- [Insight]\n\n---\n\n<details>\n<summary>Full Codex Response</summary>\n\n[Response]\n\n</details>\n\n<details>\n<summary>Full Gemini Response</summary>\n\n[Response]\n\n</details>\n```\n\n## Examples\n\n### Simple Query (Both LLMs with Defaults)\n```\n/majestic-llm:consult Should we use a service object or concern for this logic?\n```\n\n### Specific LLM\n```\n/majestic-llm:consult --llm gemini How should we structure the API versioning?\n```\n\n### High-Stakes with Max Codex Model\n```\n/majestic-llm:consult --codex-model gpt-5.1-codex-max Critical: Database migration strategy for 10M rows\n```\n\n### Both LLMs with Custom Models\n```\n/majestic-llm:consult --codex-model gpt-5.1-codex-max --gemini-model gemini-2.5-pro Architecture review\n```\n\n## Error Handling\n\n### No LLMs Available\n```markdown\n**Error:** No external LLMs available\n\nPlease install at least one:\n- Codex: `npm install -g @openai/codex && codex login`\n- Gemini: See https://github.com/google-gemini/gemini-cli\n```\n\n### Query Too Vague\nIf the question lacks context, ask for clarification:\n```markdown\nYour question could benefit from more context. Consider including:\n- What problem are you solving?\n- What constraints exist?\n- What have you already considered?\n```"
              },
              {
                "name": "/review",
                "description": "Get code review from external LLMs (Codex, Gemini) on current changes",
                "path": "plugins/majestic-llm/commands/review.md",
                "frontmatter": {
                  "description": "Get code review from external LLMs (Codex, Gemini) on current changes",
                  "allowed-tools": "Bash, Read, Grep, Glob, Task",
                  "argument-hint": "[--uncommitted|--staged|--branch|--base <branch>] [--llm codex|gemini|all] [--model <model>]"
                },
                "content": "# External Review\n\nGet code review feedback from external LLMs (Codex, Gemini) on your current changes.\n\n## Arguments\n\n<input_arguments> $ARGUMENTS </input_arguments>\n\n**Scope Options:**\n- (no args) - Uncommitted changes (default)\n- `--staged` - Only staged changes\n- `--branch` - Current branch vs main\n- `--base <branch>` - Changes against specific branch\n- `--uncommitted` - Staged + unstaged + untracked\n\n**LLM Options:**\n- `--llm codex` - Use only Codex\n- `--llm gemini` - Use only Gemini\n- `--llm all` - Use both (default)\n- `--model <model>` - Specific model to use\n\n**Examples:**\n```\n/majestic-llm:review\n/majestic-llm:review --staged --llm codex\n/majestic-llm:review --branch --llm all\n/majestic-llm:review --base main --model gpt-5.2-codex\n```\n\n## Available Models\n\n### Codex (OpenAI)\n| Model | Use Case |\n|-------|----------|\n| `gpt-5.2-codex` | Latest, high reasoning (default) |\n| `gpt-5.1-codex-max` | Maximum thoroughness |\n| `gpt-5.1-codex` | Balanced |\n| `gpt-5.1-codex-mini` | Fast reviews |\n\n### Gemini (Google)\n| Model | Use Case |\n|-------|----------|\n| `gemini-2.5-flash` | Fast reviews |\n| `gemini-2.5-pro` | Balanced |\n| `gemini-3.0-pro-preview` | Latest (default) |\n\n## Process\n\n### Step 1: Parse Arguments\n\nExtract from `$ARGUMENTS`:\n- **Scope:** `--uncommitted`, `--staged`, `--branch`, or `--base <branch>`\n- **LLM selection:** `--llm` value (default: `all`)\n- **Model:** `--model` value (default: max models for reviews)\n\n### Step 2: Check for Changes\n\n```bash\n# Check if there are changes to review\ngit status --porcelain\n```\n\nIf no changes, report and exit.\n\n### Step 3: Check CLI Availability\n\n```bash\nwhich codex >/dev/null 2>&1 && echo \"codex:ok\" || echo \"codex:missing\"\nwhich gemini >/dev/null 2>&1 && echo \"gemini:ok\" || echo \"gemini:missing\"\n```\n\n### Step 4: Launch Reviews\n\n**Single LLM Mode:**\n\nFor Codex (has built-in review command):\n```\nTask: majestic-llm:codex-reviewer\nPrompt: \"Review [scope]. Model: [model]\"\n```\n\nFor Gemini:\n```\nTask: majestic-llm:gemini-reviewer\nPrompt: \"Review [scope]. Model: [model]\"\n```\n\n**Multi-LLM Mode:**\nLaunch BOTH agents in parallel:\n```\nTask 1: majestic-llm:codex-reviewer\nPrompt: \"Review [scope]. Model: [model]\"\n\nTask 2: majestic-llm:gemini-reviewer\nPrompt: \"Review [scope]. Model: [model]\"\n```\n\n### Step 5: Synthesize Results\n\n**Single LLM:** Present issues directly with severity.\n\n**Multi-LLM:** Synthesize into unified view:\n- **Consensus issues:** Found by both (high priority)\n- **Codex-only:** Issues unique to Codex\n- **Gemini-only:** Issues unique to Gemini\n\n## Output Format\n\n### Single LLM\n\n```markdown\n## External Code Review\n\n**Scope:** [uncommitted / staged / branch]\n**Reviewer:** [Codex/Gemini] ([model])\n\n### Issues Found\n\n#### Critical\n- **[Issue]** - `file:line` - [Description]\n\n#### Important\n- **[Issue]** - `file:line` - [Description]\n\n#### Suggestions\n- [Suggestion]\n\n### Verdict\n[APPROVE / REQUEST CHANGES / NEEDS DISCUSSION]\n```\n\n### Multi-LLM\n\n```markdown\n## External Code Review\n\n**Scope:** [uncommitted / staged / branch]\n**Reviewers:** Codex ([model]), Gemini ([model])\n\n---\n\n### Consensus Issues (High Priority)\nIssues found by BOTH reviewers:\n\n#### Critical\n- **[Issue]** - `file:line` - [Description]\n  - Codex: [detail]\n  - Gemini: [detail]\n\n#### Important\n- **[Issue]** - `file:line` - [Description]\n\n---\n\n### Codex-Only Findings\nIssues only Codex caught:\n- **[Issue]** - `file:line` - [Description]\n\n### Gemini-Only Findings\nIssues only Gemini caught:\n- **[Issue]** - `file:line` - [Description]\n\n---\n\n### Combined Verdict\n\n| Reviewer | Verdict | Critical | Important | Suggestions |\n|----------|---------|----------|-----------|-------------|\n| Codex | [verdict] | X | Y | Z |\n| Gemini | [verdict] | X | Y | Z |\n\n**Recommendation:** [BLOCKED / NEEDS CHANGES / APPROVED]\n\n---\n\n<details>\n<summary>Full Codex Review</summary>\n\n[Response]\n\n</details>\n\n<details>\n<summary>Full Gemini Review</summary>\n\n[Response]\n\n</details>\n```\n\n## Examples\n\n### Quick Review of Uncommitted Changes\n```\n/majestic-llm:review\n```\n\n### Review Staged Changes with Codex Only\n```\n/majestic-llm:review --staged --llm codex\n```\n\n### Thorough Branch Review\n```\n/majestic-llm:review --branch --model gpt-5.2-codex\n```\n\n### Review Against Specific Branch\n```\n/majestic-llm:review --base develop --llm all\n```\n\n## Error Handling\n\n### No Changes\n```markdown\n**No changes to review**\n\nEnsure you have:\n- Uncommitted changes (default)\n- Staged changes (`--staged`)\n- Commits on your branch (`--branch`)\n```\n\n### No LLMs Available\n```markdown\n**Error:** No external LLMs available\n\nPlease install at least one:\n- Codex: `npm install -g @openai/codex && codex login`\n- Gemini: See https://github.com/google-gemini/gemini-cli\n```\n\n### Diff Too Large\n```markdown\n**Warning:** Diff is very large (X lines)\n\nConsider:\n- Reviewing specific files instead\n- Breaking changes into smaller commits\n- Using `--staged` to review incrementally\n```\n\n## Integration with Claude Review\n\nThis command complements Claude's built-in review capabilities:\n\n1. Run Claude's review first: `/majestic:code-review`\n2. Get external perspectives: `/majestic-llm:review`\n3. Compare findings to identify blind spots\n\nThe multi-LLM approach helps catch issues that any single model might miss.\n\n## How It Works\n\nUnlike generic LLM reviews, this command uses `codex exec` with custom prompts that include:\n\n- **Project context** from CLAUDE.md\n- **Review topics** from your configured review topics file\n- **Explicit focus areas** for targeted review\n\nThis gives you control over what gets reviewed, rather than relying on opinionated built-in review commands."
              }
            ],
            "skills": []
          },
          {
            "name": "majestic-agent-sdk",
            "description": "Claude Agent SDK tools for building custom AI agents. Includes 1 command and 1 skill.",
            "source": "./plugins/majestic-agent-sdk",
            "category": null,
            "version": "1.0.2",
            "author": {
              "name": "David Paluy",
              "url": "https://github.com/dpaluy",
              "email": "marketplace@it.majesticlabs.dev"
            },
            "install_commands": [
              "/plugin marketplace add majesticlabs-dev/majestic-marketplace",
              "/plugin install majestic-agent-sdk@majestic-marketplace"
            ],
            "signals": {
              "stars": 16,
              "forks": 1,
              "pushed_at": "2026-01-12T22:29:39Z",
              "created_at": "2025-11-26T21:43:21Z",
              "license": "NOASSERTION"
            },
            "commands": [
              {
                "name": "/agent-scaffold",
                "description": "Scaffold a new Claude Agent SDK project with interactive configuration",
                "path": "plugins/majestic-agent-sdk/commands/agent-scaffold.md",
                "frontmatter": {
                  "name": "agent-sdk:agent-scaffold",
                  "description": "Scaffold a new Claude Agent SDK project with interactive configuration",
                  "allowed-tools": "Read, Write, Edit, AskUserQuestion, Bash, Skill",
                  "argument-hint": "[project-name]"
                },
                "content": "# Agent SDK Project Scaffold\n\nGenerate a complete Claude Agent SDK project with interactive configuration.\n\n## Arguments\n\n- `[project-name]` - Name of project directory (optional, will ask if not provided)\n\n---\n\n## Phase 1: Gather Requirements\n\nUse `AskUserQuestion` to collect configuration.\n\n### Question Set 1: Basics\n\n```\nQuestion 1: \"Which language?\"\n- TypeScript: \"Modern TypeScript with full type safety\"\n- Python: \"Python 3.12+ with uv package manager\"\n\nQuestion 2: \"What type of agent?\"\n- Coding Agent: \"Code review, refactoring, testing\"\n- Business Agent: \"Legal, financial, content\"\n- Custom: \"Describe your agent's purpose\"\n```\n\n### Question Set 2: Capabilities\n\n```\nQuestion 3: \"Which tools?\" (multiSelect: true)\n- File Operations: \"Read, Write, Edit files\"\n- Code Execution: \"Run bash commands\"\n- Web Search: \"Search the web\"\n- MCP Tools: \"Extensible MCP tools\"\n\nQuestion 4: \"Authentication provider?\"\n- Anthropic API: \"Direct API key\"\n- Amazon Bedrock: \"AWS-hosted Claude\"\n- Google Vertex AI: \"GCP-hosted Claude\"\n```\n\n### Question Set 3: Scope\n\n```\nQuestion 5: \"Which Claude Code features?\" (multiSelect: true)\n- Subagents: \"Specialized agents (.claude/agents/)\"\n- Skills: \"Knowledge files (.claude/skills/)\"\n- Hooks: \"Event triggers (.claude/settings.json)\"\n- Commands: \"Slash commands (.claude/commands/)\"\n\nQuestion 6: \"Scope?\"\n- Minimal: \"Essentials only\"\n- Standard: \"Above + README, .claude/ examples\"\n- Full: \"Above + Dockerfile, GitHub Actions, tests\"\n```\n\n---\n\n## Phase 2: Generate Project\n\nInvoke the agent-scaffold skill for templates:\n\n```\nSkill(skill=\"agent-scaffold\")\n```\n\nFollow the skill's instructions to read templates from the resources directory:\n\n### Directory Structure\n\n```\n{project-name}/\n src/\n    agent.ts OR agent.py\n package.json OR pyproject.toml\n .env.example\n .gitignore\n\n # Standard scope:\n README.md\n .claude/\n    agents/     (if Subagents selected)\n    skills/     (if Skills selected)\n    commands/   (if Commands selected)\n    settings.json (if Hooks selected)\n\n # Full scope:\n Dockerfile\n .github/workflows/ci.yml\n tests/\n```\n\n### Template Substitutions\n\nReplace placeholders in templates:\n- `{{project-name}}`  user's project name\n- `{{tools_array}}` / `{{tools_list}}`  based on tool selections\n- `{{system_prompt}}`  based on agent type\n\n### Tool Mapping\n\n| Selection | Tools |\n|-----------|-------|\n| File Operations | `Read`, `Write`, `Edit`, `Glob`, `Grep` |\n| Code Execution | `Bash` |\n| Web Search | `WebSearch`, `WebFetch` |\n\n---\n\n## Phase 3: Execute Generation\n\n1. Create project directory: `mkdir -p {project-name}/src`\n2. Write files using templates with substitutions\n3. Copy appropriate .env.example based on auth provider\n4. Add .claude/ structure if Standard/Full scope\n5. Add Dockerfile, CI, tests if Full scope\n\n---\n\n## Phase 4: Next Steps\n\nPresent summary and offer options:\n\n```\n {project-name}/\n src/agent.{ext}\n package.json / pyproject.toml\n .env.example\n [additional files]\n```\n\nUse AskUserQuestion:\n- Initialize git: `git init && git add . && git commit -m \"Initial commit\"`\n- Install deps: `npm install` or `uv sync`\n- Open in editor: `code {project-name}`\n- Done: Show getting started instructions"
              }
            ],
            "skills": [
              {
                "name": "agent-sdk",
                "description": "Guide for Claude Agent SDK - build custom AI agents powered by Claude. Covers installation, authentication providers, tool permissions, file-based configuration, TypeScript/Python code examples, and project scaffolding templates.",
                "path": "plugins/majestic-agent-sdk/skills/agent-sdk/SKILL.md",
                "frontmatter": {
                  "name": "agent-sdk",
                  "description": "Guide for Claude Agent SDK - build custom AI agents powered by Claude. Covers installation, authentication providers, tool permissions, file-based configuration, TypeScript/Python code examples, and project scaffolding templates."
                },
                "content": "# Claude Agent SDK Guide\n\nBuild custom AI agents powered by Claude. Same infrastructure as Claude Code.\n\n## Installation\n\n### TypeScript\n\n```bash\nnpm install @anthropic-ai/claude-agent-sdk\n```\n\n### Python\n\n```bash\npip install claude-agent-sdk\n```\n\n## Core Features\n\n### Context Management\n\nAutomatic compaction ensures your agent doesn't run out of context during extended operations.\n\n### Tool Ecosystem\n\nBuilt-in capabilities:\n- **File operations** - Read, write, edit files\n- **Code execution** - Run bash commands safely\n- **Web search** - Access real-time information\n- **MCP extensibility** - Add custom tools via Model Context Protocol\n\n### Permission Controls\n\n```typescript\n{\n  allowedTools: ['Read', 'Write', 'Bash'],  // Explicit allowlist\n  disallowedTools: ['WebSearch'],            // Explicit blocklist\n  permissionMode: 'default' | 'strict'       // Overall strategy\n}\n```\n\n## Authentication Providers\n\n### Anthropic API (Default)\n\n```bash\nexport ANTHROPIC_API_KEY=sk-ant-...\n```\n\n### Amazon Bedrock\n\n```bash\nexport CLAUDE_CODE_USE_BEDROCK=1\nexport AWS_ACCESS_KEY_ID=...\nexport AWS_SECRET_ACCESS_KEY=...\nexport AWS_REGION=us-east-1\n```\n\n### Google Vertex AI\n\n```bash\nexport CLAUDE_CODE_USE_VERTEX=1\nexport GOOGLE_APPLICATION_CREDENTIALS=/path/to/credentials.json\nexport VERTEX_REGION=us-central1\nexport VERTEX_PROJECT_ID=your-project\n```\n\n### Microsoft Foundry\n\n```bash\nexport CLAUDE_CODE_USE_FOUNDRY=1\n# Azure credentials configuration\n```\n\n## File-Based Configuration\n\n| Directory | Purpose |\n|-----------|---------|\n| `.claude/agents/` | Subagent definitions (Markdown) |\n| `.claude/skills/` | Skill files (`SKILL.md`) |\n| `.claude/commands/` | Slash commands (Markdown) |\n| `.claude/settings.json` | Hooks configuration |\n| `CLAUDE.md` | Project memory/context |\n\nEnable project settings:\n\n```typescript\n{\n  settingSources: ['project']\n}\n```\n\n## Code Examples\n\n### TypeScript: Basic Agent\n\n```typescript\nimport { Agent } from '@anthropic-ai/claude-agent-sdk';\n\nconst agent = new Agent({\n  model: 'claude-sonnet-4-20250514',\n  allowedTools: ['Read', 'Write', 'Bash'],\n  systemPrompt: `You are a code review assistant.\n    Analyze code for bugs, security issues, and best practices.`,\n});\n\nconst result = await agent.run({\n  prompt: 'Review the code in src/auth.ts for security issues',\n});\n\nconsole.log(result.output);\n```\n\n### TypeScript: Agent with MCP Tools\n\n```typescript\nimport { Agent } from '@anthropic-ai/claude-agent-sdk';\n\nconst agent = new Agent({\n  model: 'claude-sonnet-4-20250514',\n  mcpServers: {\n    database: {\n      command: 'npx',\n      args: ['-y', '@modelcontextprotocol/server-postgres'],\n      env: { DATABASE_URL: process.env.DATABASE_URL },\n    },\n  },\n});\n\nconst result = await agent.run({\n  prompt: 'List all users who signed up in the last 24 hours',\n});\n```\n\n### Python: Basic Agent\n\n```python\nfrom claude_agent_sdk import Agent\n\nagent = Agent(\n    model=\"claude-sonnet-4-20250514\",\n    allowed_tools=[\"Read\", \"Write\", \"Bash\"],\n    system_prompt=\"\"\"You are a code review assistant.\n    Analyze code for bugs, security issues, and best practices.\"\"\",\n)\n\nresult = agent.run(\n    prompt=\"Review the code in src/auth.py for security issues\"\n)\n\nprint(result.output)\n```\n\n### Python: Agent with Custom Permissions\n\n```python\nfrom claude_agent_sdk import Agent, PermissionMode\n\nagent = Agent(\n    model=\"claude-sonnet-4-20250514\",\n    permission_mode=PermissionMode.STRICT,\n    allowed_tools=[\"Read\", \"Grep\", \"Glob\"],\n    disallowed_tools=[\"Bash\"],  # Extra safety\n)\n\nresult = agent.run(\n    prompt=\"Find all TODO comments in the codebase\"\n)\n```\n\n## Agent Types & Use Cases\n\n### Coding Agents\n\n- **SRE Diagnostics** - Analyze logs, identify issues, suggest fixes\n- **Security Auditing** - Scan for vulnerabilities, check dependencies\n- **Incident Triage** - Correlate alerts, gather context, draft runbooks\n- **Code Review** - Enforce standards, catch bugs, suggest improvements\n\n### Business Agents\n\n- **Legal Review** - Analyze contracts, flag risks, summarize terms\n- **Financial Analysis** - Process reports, identify anomalies, forecast\n- **Customer Support** - Handle tickets, route issues, draft responses\n- **Content Creation** - Generate docs, edit copy, ensure consistency\n\n## Best Practices\n\n### Start Simple\n\nBegin with minimal tool access and expand as needed:\n\n```typescript\n// Start here\nallowedTools: ['Read']\n\n// Then add as required\nallowedTools: ['Read', 'Grep', 'Glob']\n\n// Only if truly needed\nallowedTools: ['Read', 'Write', 'Bash']\n```\n\n### Use Subagents for Complex Tasks\n\nBreak large tasks into specialized subagents:\n\n```\n.claude/agents/\n code-reviewer.md      # Reviews code changes\n test-writer.md        # Generates tests\n doc-generator.md      # Creates documentation\n```\n\n### Handle Errors Gracefully\n\n```typescript\ntry {\n  const result = await agent.run({ prompt });\n  if (result.error) {\n    console.error('Agent error:', result.error);\n  }\n} catch (error) {\n  console.error('SDK error:', error);\n}\n```\n\n### Monitor Agent Behavior\n\n```typescript\nconst agent = new Agent({\n  onToolUse: (tool, input) => {\n    console.log(`Tool: ${tool}, Input: ${JSON.stringify(input)}`);\n  },\n  onThinking: (thought) => {\n    console.log(`Thinking: ${thought}`);\n  },\n});\n```\n\n## Project Scaffolding\n\nUse `/agent-sdk:agent-scaffold` command to generate a new project.\n\n### Template Files\n\n| Template | Purpose |\n|----------|---------|\n| `resources/typescript/package.json` | Node.js package config |\n| `resources/typescript/agent.ts` | TypeScript agent entry |\n| `resources/python/pyproject.toml` | Python package config |\n| `resources/python/agent.py` | Python agent entry |\n| `resources/env-*.example` | Provider config templates |\n| `resources/claude/*.md` | Subagent/skill/command templates |\n\n### Tool Mapping\n\n| User Selection | SDK Tools |\n|----------------|-----------|\n| File Operations | Read, Write, Edit, Glob, Grep |\n| Code Execution | Bash |\n| Web Search | WebSearch, WebFetch |\n| MCP Tools | (configured via mcpServers) |\n\n### System Prompts\n\n**Coding Agent:**\n```\nYou are a coding assistant that helps developers write better code.\nAnalyze code for bugs, security issues, and best practices.\n```\n\n**Business Agent:**\n```\nYou are a business analyst assistant.\nHelp with document analysis, data extraction, and report generation.\n```\n\n## Resources\n\n- **TypeScript**: [anthropics/claude-agent-sdk-typescript](https://github.com/anthropics/claude-agent-sdk-typescript)\n- **Python**: [anthropics/claude-agent-sdk-python](https://github.com/anthropics/claude-agent-sdk-python)\n- **Docs**: [platform.claude.com/docs/en/agent-sdk/overview](https://platform.claude.com/docs/en/agent-sdk/overview)"
              }
            ]
          },
          {
            "name": "majestic-tools",
            "description": "Claude Code customization tools. Includes 1 agent, 11 commands, and 5 skills.",
            "source": "./plugins/majestic-tools",
            "category": null,
            "version": "3.10.6",
            "author": {
              "name": "David Paluy",
              "url": "https://github.com/dpaluy",
              "email": "marketplace@it.majesticlabs.dev"
            },
            "install_commands": [
              "/plugin marketplace add majesticlabs-dev/majestic-marketplace",
              "/plugin install majestic-tools@majestic-marketplace"
            ],
            "signals": {
              "stars": 16,
              "forks": 1,
              "pushed_at": "2026-01-12T22:29:39Z",
              "created_at": "2025-11-26T21:43:21Z",
              "license": "NOASSERTION"
            },
            "commands": [
              {
                "name": "/burst-generator",
                "description": "Generate multiple response variants with probability scores for any request",
                "path": "plugins/majestic-tools/commands/burst-generator.md",
                "frontmatter": {
                  "description": "Generate multiple response variants with probability scores for any request",
                  "argument-hint": "[count:N] <request>"
                },
                "content": "# Burst Generator\n\nGenerate multiple distinct responses with their correspond  probability.\n\n## Input Parsing\n\n**Arguments:** `{{ARGS}}`\n\nParse:\n- **count** - Number of responses (default: 5, max: 10)\n  - Explicit: `count:3`, `n:7`, `5x`\n  - Implicit: defaults to 5\n- **request** - Everything else is the request to generate variants for\n\n## Probability Interpretation\n\nThe meaning of \"probability\" adapts to the request type:\n\n| Request Type | Probability Means |\n|--------------|-------------------|\n| Marketing copy | Conversion likelihood |\n| Names/taglines | Memorability + fit |\n| Technical solutions | Correctness + feasibility |\n| Creative writing | Quality + originality |\n| Email subjects | Open rate potential |\n| Predictions | Confidence in accuracy |\n| Recommendations | Suitability for context |\n\n## Generation Rules\n\n1. **Diversity first** - Each response must be meaningfully different\n   - Different angles, tones, or approaches\n   - Not just word substitutions\n\n2. **Quality maintained** - All responses should be viable\n   - No filler responses to hit the count\n   - Each could stand alone as a valid answer\n\n3. **Honest scoring** - Probabilities reflect genuine assessment\n   - Probabilities should NOT sum to 100% (they're independent quality scores)\n   - Score each response on its own merits\n   - It's fine if multiple responses score high or low\n\n## Output Format\n\n```markdown\n## Burst: {{count}} Variants\n\n**Request:** {{request}}\n**Probability basis:** [What the scores represent for this request]\n\n---\n\n### 1. [Brief label]  **{{probability}}%**\n\n[Complete response]\n\n**Rationale:** [Why this probability score]\n\n---\n\n### 2. [Brief label]  **{{probability}}%**\n\n[Complete response]\n\n**Rationale:** [Why this probability score]\n\n---\n\n[Continue for all variants...]\n\n---\n\n## Summary\n\n| # | Variant | Probability | Key Differentiator |\n|---|---------|-------------|-------------------|\n| 1 | [label] | XX% | [What makes it unique] |\n| 2 | [label] | XX% | [What makes it unique] |\n...\n\n**Recommendation:** [Which variant(s) to consider and why]\n```\n\n## Edge Cases\n\n- **count > 10**: Cap at 10, note the limit\n- **count = 1**: Just provide single response with confidence score\n- **Ambiguous request**: Ask for clarification before generating\n- **Request requires context**: Note what context would improve the variants"
              },
              {
                "name": "/learn",
                "description": "Extract cross-session patterns from git history and handoffs, recommend artifacts (skill/rule/hook/agent) based on frequency.",
                "path": "plugins/majestic-tools/commands/learn.md",
                "frontmatter": {
                  "allowed-tools": "Bash, Read, Write, Edit, Glob, Grep, AskUserQuestion",
                  "description": "Extract cross-session patterns from git history and handoffs, recommend artifacts (skill/rule/hook/agent) based on frequency.",
                  "model": "haiku"
                },
                "content": "# Learn\n\nExtract patterns from git history, PRs, and handoffs to create durable artifacts (skills, rules, hooks).\n\n**For single-session reflection, use `/reflect` instead.**\n\n**Reference**: Use methodology from `compound-learnings` skill.\n\n## Data Sources\n\n| Source | Command | What to Extract |\n|--------|---------|-----------------|\n| Git commits | `git log --oneline -100` | Repeated fix types, patterns |\n| PR descriptions | `gh pr list --state merged -L 20 --json title,body` | Lessons, decisions |\n| Handoffs | `.claude/handoffs/*.md` (main worktree) | Patterns, What Worked/Failed |\n| Existing learnings | `CLAUDE.md` Key Learnings section | Already encoded patterns |\n\n## Process\n\n### Step 1: Locate Main Worktree\n\n```bash\nMAIN_WORKTREE=$(git worktree list --porcelain | grep \"^worktree\" | head -1 | cut -d' ' -f2)\nHANDOFF_DIR=\"$MAIN_WORKTREE/.claude/handoffs\"\n```\n\n### Step 2: Gather Patterns\n\n**Git history:**\n```bash\ngit log --oneline -100 | cut -d' ' -f2-\n```\n\n**Merged PRs (if gh available):**\n```bash\ngh pr list --state merged -L 20 --json title,body 2>/dev/null\n```\n\n**Handoff files:**\n```bash\nls \"$HANDOFF_DIR\"/*.md 2>/dev/null && cat \"$HANDOFF_DIR\"/*.md\n```\n\n**Existing Key Learnings:**\n```bash\ngrep -A 50 \"Key Learnings\" CLAUDE.md 2>/dev/null\n```\n\n### Step 3: Consolidate Similar Patterns\n\nBefore counting, normalize patterns:\n- \"Always validate X\" + \"Validate X before Y\"  \"Validate X\"\n- \"Don't use Z\" + \"Avoid Z\"  \"Avoid Z\"\n\nGroup by semantic meaning, not exact wording.\n\n### Step 4: Apply Frequency Thresholds\n\n| Count | Action |\n|-------|--------|\n| 1 | Skip (noise) |\n| 2 | Note (emerging pattern) |\n| 3+ | Recommend artifact |\n| 4+ | Strong recommend |\n\n### Step 5: Categorize Artifacts\n\nUse this decision tree:\n\n```\nIs it a sequential workflow with distinct phases?\n  YES  COMMAND (user-invoked) or AGENT (autonomous)\n  NO \n\nShould it trigger on file/context patterns?\n  YES  SKILL (probabilistic)\n    Is enforcement critical?\n      YES  HOOK (deterministic)\n  NO \n\nIs it a simple rule or convention?\n  YES  RULE\n    Project-specific?  review-topics.md\n    Universal?  CLAUDE.md\n  NO \n\nDoes it enhance existing agent behavior?\n  YES  AGENT UPDATE\n```\n\n### Step 6: Present Findings\n\n```markdown\n## Compound Learnings Analysis\n\n**Sources scanned:**\n- Git commits: X\n- PRs: Y\n- Handoffs: Z\n\n### Strong Signal (4+ occurrences)\n\n| Pattern | Count | Artifact | Rationale |\n|---------|-------|----------|-----------|\n| ... | ... | ... | ... |\n\n### Emerging Patterns (2-3 occurrences)\n\n| Pattern | Count | Potential | Notes |\n|---------|-------|-----------|-------|\n| ... | ... | ... | ... |\n\n### Recommended Actions\n\n1. **[Artifact Type]**: `name`\n   - Draft content: ...\n```\n\n### Step 7: Create Artifacts\n\nUse `AskUserQuestion` to confirm each recommendation:\n- \"Create these artifacts?\"\n\nIf approved:\n- **Rules**  Edit CLAUDE.md or review-topics.md\n- **Skills**  Create in appropriate plugin's skills directory\n- **Hooks**  Create in .claude/hooks/\n- **Commands**  Create in appropriate plugin's commands directory\n\n## Quality Checks\n\nBefore recommending, verify:\n- [ ] **Generality**: Applies beyond specific incidents\n- [ ] **Specificity**: Concrete enough to act on\n- [ ] **Uniqueness**: Doesn't duplicate existing rules/skills\n- [ ] **Correct Type**: Matches categorization logic\n\n## Example Output\n\n```\n## Compound Learnings Analysis\n\n**Sources scanned:**\n- Git commits: 87\n- PRs: 12\n- Handoffs: 5\n\n### Strong Signal (4+ occurrences)\n\n| Pattern | Count | Artifact | Rationale |\n|---------|-------|----------|-----------|\n| Always run tests before commit | 6 | Hook | Enforcement needed |\n| Use kebab-case for filenames | 4 | Rule | Simple convention |\n\n### Emerging Patterns (2-3 occurrences)\n\n| Pattern | Count | Potential | Notes |\n|---------|-------|-----------|-------|\n| Prefer composition over inheritance | 2 | Skill | Watch for recurrence |\n\n### Recommended Actions\n\n1. **Hook**: `pre-commit-tests`\n   - Run `bin/rails test` before allowing commit\n\n2. **Rule**  CLAUDE.md:\n   - \"Use kebab-case for all file names\"\n\nCreate these artifacts?\n```"
              },
              {
                "name": "/reflect",
                "description": "Reflect on current session and suggest AGENTS.md improvements based on patterns and feedback.",
                "path": "plugins/majestic-tools/commands/reflect.md",
                "frontmatter": {
                  "allowed-tools": "Bash, Read, Edit, AskUserQuestion",
                  "description": "Reflect on current session and suggest AGENTS.md improvements based on patterns and feedback.",
                  "model": "haiku"
                },
                "content": "# Reflect\n\nAnalyze the current session and suggest improvements to AGENTS.md based on patterns, feedback, and lessons learned.\n\n**For cross-session learning from git history and handoffs, use `/learn` instead.**\n\n## Data Sources\n\n| Source | What to Extract |\n|--------|-----------------|\n| Conversation history | User corrections, repeated feedback, preferences |\n| `.claude/session_ledger.md` | Key Decisions, patterns from current work (if exists) |\n\n## Process\n\n### Step 1: Review Conversation History\n\nAnalyze all messages in this conversation:\n- User feedback and corrections\n- Moments where instructions weren't followed\n- Repeated issues or preferences\n- Patterns that emerged during interaction\n\n### Step 2: Check Session Ledger (if exists)\n\n```bash\n[ -f \".claude/session_ledger.md\" ] && cat \".claude/session_ledger.md\"\n```\n\nExtract any Key Decisions or patterns documented there.\n\n### Step 3: Identify Improvement Opportunities\n\nLook for:\n- Gaps in current AGENTS.md that led to misunderstandings\n- User preferences that should be encoded\n- Patterns that could prevent future issues\n- Corrections that apply broadly (not one-off incidents)\n\n### Step 4: Generate Specific Improvements\n\nCreate actionable, specific edits. Each suggestion should:\n- Be concrete (not vague principles)\n- Prevent similar issues in future\n- Address patterns, not one-off incidents\n\n### Step 5: Present Suggestions\n\nUse this format:\n\n```markdown\n## Session Reflection\n\n### 1. [Pattern Name]\n**Gap**: What's missing or unclear in AGENTS.md\n**Proposed**: Specific text to add\n**Reasoning**: Evidence from this session (e.g., \"You corrected this 3 times\")\n\n### 2. [Pattern Name]\n...\n```\n\n### Step 6: Apply Changes (if approved)\n\nUse `AskUserQuestion`:\n- \"Would you like me to apply these improvements to AGENTS.md?\"\n\nIf yes:\n- Use Edit tool to update AGENTS.md\n- Confirm changes were applied\n\n## Guidelines\n\n- Only suggest improvements that genuinely enhance behavior\n- Keep suggestions specific and actionable\n- Don't suggest redundant rules\n- Focus on patterns, not one-off incidents\n- Maintain existing AGENTS.md structure and style\n\n## Example Output\n\n```\n## Session Reflection\n\n### 1. Error Handling Preference\n**Gap**: No guidance on error handling style\n**Proposed**: \"Always use try-catch blocks with specific error types rather than generic catches\"\n**Reasoning**: You corrected this pattern 3 times during our session\n\n### 2. Import Organization\n**Gap**: No import organization rules\n**Proposed**: \"Group imports by: 1) External packages, 2) Internal modules, 3) Types\"\n**Reasoning**: You consistently reorganized imports this way\n\nWould you like me to apply these improvements to AGENTS.md?\n```"
              }
            ],
            "skills": [
              {
                "name": "brainstorming",
                "description": "Use when creating or developing, before writing code or implementation plans - refines rough ideas into fully-formed designs through collaborative questioning, alternative exploration, and incremental validation. Don't use during clear 'mechanical' processes",
                "path": "plugins/majestic-tools/skills/brainstorming/SKILL.md",
                "frontmatter": {
                  "name": "brainstorming",
                  "description": "Use when creating or developing, before writing code or implementation plans - refines rough ideas into fully-formed designs through collaborative questioning, alternative exploration, and incremental validation. Don't use during clear 'mechanical' processes"
                },
                "content": "# Brainstorming Ideas Into Designs\n\n## Overview\n\nHelp turn ideas into fully formed designs and specs through natural collaborative dialogue.\n\nStart by understanding the current project context, then ask questions one at a time to refine the idea. Once you understand what you're building, present the design in small sections (200-300 words), checking after each section whether it looks right so far.\n\n## The Process\n\n**Understanding the idea:**\n- Check out the current project state first (files, docs, recent commits)\n- Ask questions one at a time to refine the idea\n- Prefer multiple choice questions when possible, but open-ended is fine too\n- Only one question per message - if a topic needs more exploration, break it into multiple questions\n- Focus on understanding: purpose, constraints, success criteria\n\n**Exploring approaches:**\n- Propose 2-3 different approaches with trade-offs\n- Present options conversationally with your recommendation and reasoning\n- Lead with your recommended option and explain why\n\n**Presenting the design:**\n- Once you believe you understand what you're building, present the design\n- Break it into sections of 200-300 words\n- Ask after each section whether it looks right so far\n- Cover: architecture, components, data flow, error handling, testing\n- Be ready to go back and clarify if something doesn't make sense\n\n## After the Design\n\n**Documentation:**\n- Write the validated design to `docs/plans/YYYY-MM-DD-<topic>-design.md`\n- Use elements-of-style:writing-clearly-and-concisely skill if available\n- Commit the design document to git\n\n**Implementation (if continuing):**\n- Ask: \"Ready to set up for implementation?\"\n- Use superpowers:using-git-worktrees to create isolated workspace\n- Use superpowers:writing-plans to create detailed implementation plan\n\n## Key Principles\n\n- **One question at a time** - Don't overwhelm with multiple questions\n- **Multiple choice preferred** - Easier to answer than open-ended when possible\n- **YAGNI ruthlessly** - Remove unnecessary features from all designs\n- **Explore alternatives** - Always propose 2-3 approaches before settling\n- **Incremental validation** - Present design in sections, validate each\n- **Be flexible** - Go back and clarify when something doesn't make sense"
              },
              {
                "name": "command-patterns",
                "description": "Advanced patterns for generating high-quality Claude Code commands. Used by /new-command.",
                "path": "plugins/majestic-tools/skills/command-patterns/SKILL.md",
                "frontmatter": {
                  "name": "command-patterns",
                  "description": "Advanced patterns for generating high-quality Claude Code commands. Used by /new-command."
                },
                "content": "# Command Patterns Skill\n\nExpert patterns for generating production-quality Claude Code commands.\n\n## Core Requirements\n\n1. **Multiple Action Modes** - Never single-purpose commands\n   - `analyze` - Deep analysis\n   - `optimize` - Performance improvements\n   - `fix` - Automated remediation\n   - `monitor` - Continuous watching\n\n2. **Real, Working Code** - Every example must be executable\n3. **Intelligent Recommendations** - Prioritized, actionable insights\n4. **Interactive Intelligence** - Guide users to optimal solutions\n5. **Visual Outputs** - Include diagrams/charts when helpful\n\n## Advanced Patterns\n\n### Progressive Disclosure\n```bash\n# Simple for beginners\nclaude /your-command\n\n# Power user with full control\nclaude /your-command analyze --depth=comprehensive --output=json\n```\n\n### Safe Automation with Rollbacks\n```bash\napply_change() {\n  # Snapshot current state\n  kubectl get deployment $1 -o yaml > \"/tmp/rollback-$$.yaml\"\n\n  # Apply change\n  kubectl patch deployment $1 --patch \"$2\"\n\n  # Monitor and rollback if needed\n  if ! monitor_health $1 60; then\n    kubectl apply -f \"/tmp/rollback-$$.yaml\"\n  fi\n}\n```\n\n## Quality Checklist\n\n### Intelligence\n- [ ] Recognizes patterns from past executions\n- [ ] Provides insights humans would miss\n- [ ] Explains reasoning behind recommendations\n\n### User Experience\n- [ ] Works with zero configuration\n- [ ] Provides meaningful progress indicators\n- [ ] Offers escape hatches at every step\n\n### Safety\n- [ ] Every change has a rollback\n- [ ] Dry-run mode available\n- [ ] Confirms destructive operations\n\n### Integration\n- [ ] Outputs in multiple formats\n- [ ] Works in CI/CD pipelines\n- [ ] Provides hooks for customization\n\n## Frontmatter Template\n\n```yaml\n---\ndescription: Brief description  # REQUIRED\nmodel: haiku                    # OPTIONAL - use full ID\nallowed-tools: Bash, Read       # OPTIONAL\nargument-hint: \"[action]\"       # OPTIONAL\n---\n```\n\n## The Ultimate Test\n\n> \"Would a senior engineer with 10 years experience be impressed?\"\n\nIf not emphatic YES, keep improving."
              },
              {
                "name": "compound-learnings",
                "description": "Extract patterns from git history and session files, recommend artifacts (skill/rule/hook/agent) based on frequency thresholds",
                "path": "plugins/majestic-tools/skills/compound-learnings/SKILL.md",
                "frontmatter": {
                  "name": "compound-learnings",
                  "description": "Extract patterns from git history and session files, recommend artifacts (skill/rule/hook/agent) based on frequency thresholds",
                  "allowed-tools": [
                    "Bash",
                    "Read",
                    "Glob",
                    "Grep"
                  ]
                },
                "content": "# Compound Learnings\n\nTransform recurring patterns into durable artifacts. Use frequency-based thresholds to distinguish noise from signal.\n\n## Data Sources\n\nScan these locations for patterns:\n\n| Source | Command/Path | What to Extract |\n|--------|--------------|-----------------|\n| Git commits | `git log --oneline -100` | Repeated fix types, refactor patterns |\n| Git commit bodies | `git log -50 --format=\"%B---\"` | Lessons in commit descriptions |\n| PR descriptions | `gh pr list --state merged -L 20` | Decisions, learnings |\n| Handoffs | `$MAIN_WORKTREE/.claude/handoffs/*.md` | Patterns, What Worked/Failed |\n| Key Learnings | `CLAUDE.md` (Key Learnings section) | Existing encoded patterns |\n\n**Note:** Session ledger (`.claude/session_ledger.md`) is for `/reflect` only - ephemeral per-session state.\n\n## Pattern Extraction\n\n### Step 1: Gather Raw Patterns\n\n```bash\n# Git patterns (look for repeated prefixes/types)\ngit log --oneline -100 | cut -d' ' -f2- | sort | uniq -c | sort -rn\n\n# Handoff patterns\ngrep -h \"^- \" .claude/handoffs/*.md 2>/dev/null | sort | uniq -c | sort -rn\n```\n\n### Step 2: Consolidate Similar Patterns\n\nBefore counting, normalize patterns:\n- \"Always validate X\" + \"Validate X before Y\"  \"Validate X\"\n- \"Don't use Z\" + \"Avoid Z\" + \"Z causes issues\"  \"Avoid Z\"\n\nGroup by semantic meaning, not exact wording.\n\n### Step 3: Apply Frequency Thresholds\n\n| Occurrences | Action | Rationale |\n|-------------|--------|-----------|\n| 1 | Skip | Could be noise, one-off incident |\n| 2 | Note | Emerging pattern, watch for recurrence |\n| 3+ | Recommend | Clear pattern, suggest artifact |\n| 4+ | Strong recommend | Encode immediately |\n\n## Artifact Categorization\n\nUse this decision tree to determine artifact type:\n\n```\nIs it a sequential workflow with distinct phases?\n  YES  Consider COMMAND (user-invoked) or AGENT (autonomous)\n    Does it need user interaction during execution?\n      YES  COMMAND\n      NO  AGENT\n  NO \n\nShould it trigger automatically on file/context patterns?\n  YES  SKILL (probabilistic, Claude MAY follow)\n    Is enforcement critical (must happen every time)?\n      YES  Consider HOOK instead (deterministic)\n  NO \n\nIs it a simple rule or convention?\n  YES  RULE (add to CLAUDE.md or review-topics.md)\n    Project-specific?  review-topics.md\n    Universal?  CLAUDE.md\n  NO \n\nDoes it enhance an existing agent's behavior?\n  YES  AGENT UPDATE (modify existing agent)\n  NO  Likely doesn't need encoding\n```\n\n### Quick Reference\n\n| Artifact | When to Use | Example |\n|----------|-------------|---------|\n| **Rule** | Simple convention, always applies | \"Use kebab-case for file names\" |\n| **Skill** | Knowledge/context for specific work | \"Stimulus controller patterns\" |\n| **Hook** | Must enforce behavior deterministically | \"Run linter before commit\" |\n| **Command** | User-invoked workflow with arguments | \"/deploy --env staging\" |\n| **Agent** | Autonomous task, returns report | \"security-review agent\" |\n\n## Output Format\n\nPresent findings as:\n\n```markdown\n## Compound Learnings Analysis\n\n### Strong Signal (4+ occurrences)\n| Pattern | Count | Recommended Artifact | Rationale |\n|---------|-------|---------------------|-----------|\n| ... | ... | ... | ... |\n\n### Emerging Patterns (2-3 occurrences)\n| Pattern | Count | Potential Artifact | Notes |\n|---------|-------|-------------------|-------|\n| ... | ... | ... | ... |\n\n### Recommended Actions\n1. **[Artifact Type]**: `name` - description\n   - Draft: [brief template or content]\n```\n\n## Quality Checks\n\nBefore recommending an artifact, verify:\n\n- [ ] **Generality**: Applies beyond the specific incidents where it was observed\n- [ ] **Specificity**: Concrete enough to act on (not vague advice)\n- [ ] **Uniqueness**: Doesn't duplicate existing CLAUDE.md rules or skills\n- [ ] **Correct Type**: Matches the categorization decision tree\n\n## Integration with /learn\n\nWhen invoked from `/learn`:\n\n1. Locate main worktree for centralized handoffs\n2. Gather patterns from git, PRs, and handoffs\n3. Consolidate and count frequencies\n4. Apply thresholds\n5. Categorize recommended artifacts\n6. Present findings with draft content\n7. If approved, create artifacts using appropriate tools\n\n**Note:** `/reflect` is for single-session analysis. `/learn` is for cross-session compound learning."
              },
              {
                "name": "devils-advocate",
                "description": "Forces adversarial reasoning before committing to decisions. Triggers on architectural choices, approach selection, and planning phases to prevent premature commitment bias.",
                "path": "plugins/majestic-tools/skills/devils-advocate/SKILL.md",
                "frontmatter": {
                  "name": "devils-advocate",
                  "description": "Forces adversarial reasoning before committing to decisions. Triggers on architectural choices, approach selection, and planning phases to prevent premature commitment bias."
                },
                "content": "# Devil's Advocate Protocol\n\nPre-commitment adversarial reasoning to prevent early lock-in and expose blind spots.\n\n## When to Apply\n\nActivate this protocol when:\n- Choosing between architectural approaches\n- Selecting libraries, frameworks, or tools\n- Planning implementation strategy\n- Recommending one approach over alternatives\n- User asks \"should I...\", \"what's the best way to...\", \"which approach...\"\n- During `architect`, `Plan`, or `blueprint` workflows\n- Making trade-off decisions with non-obvious answers\n\n## When to Skip\n\nDo NOT apply when:\n- Executing already-decided implementation\n- Single obvious path exists (no real alternatives)\n- User explicitly chose the approach (\"use X to do Y\")\n- Task is mechanical/procedural, not decisional\n- Trivial choices with negligible impact\n\n## The Protocol\n\n### Step 1: Identify the Commitment\n\nBefore recommending an approach, explicitly state:\n- What decision is being made\n- What approach you're inclined toward\n- Why you're drawn to it\n\n### Step 2: Steel-Man the Opposition\n\nPresent the **strongest case AGAINST** your inclination:\n- What could go wrong?\n- What are you assuming that might be false?\n- What would a smart critic say?\n- What's the opportunity cost?\n- Under what conditions would this fail?\n\nRequirements:\n- Be genuinely adversarial, not token objections\n- Attack the strongest version of your argument\n- Include at least one non-obvious failure mode\n\n### Step 3: Defend or Pivot\n\nAfter the adversarial pass:\n- Explain why the approach might still be correct despite objections\n- What conditions make this the right choice?\n- What would need to be true for alternatives to win?\n- OR: Acknowledge the objections changed your recommendation\n\n### Step 4: Present with Confidence Calibration\n\nFinal recommendation should include:\n- Clear recommendation with reasoning\n- Key assumptions that must hold\n- Conditions that would invalidate this choice\n- Monitoring signals to watch for\n\n## Output Format\n\n```markdown\n## Decision: [What's being decided]\n\n### Initial Inclination\n[Approach] because [reasons]\n\n### Adversarial Challenge\n**Against this approach:**\n- [Strong objection 1]\n- [Strong objection 2]\n- [Non-obvious failure mode]\n\n**What I might be wrong about:**\n- [Assumption that could be false]\n\n### Resolution\n[Why it's still correct OR why I'm changing recommendation]\n\n### Recommendation: [Final choice]\n- **Key assumptions:** [What must be true]\n- **Watch for:** [Signals this was wrong]\n```\n\n## Relationship to Other Tools\n\n- **reasoning-verifier**: Post-hoc verification of completed reasoning\n- **devils-advocate**: Pre-commitment challenge before reasoning solidifies\n- Use both: devils-advocate during planning, reasoning-verifier after execution\n\n## Underlying Principle\n\nLLMs commit to answers early and rationalize backward. This protocol interrupts that pattern by forcing exploration of the solution space before commitment crystallizes."
              },
              {
                "name": "skill-first",
                "description": "Check for relevant skills before starting any task. Triggers on task start, new requests, beginning work, or implementation.",
                "path": "plugins/majestic-tools/skills/skill-first/SKILL.md",
                "frontmatter": {
                  "name": "skill-first",
                  "description": "Check for relevant skills before starting any task. Triggers on task start, new requests, beginning work, or implementation."
                },
                "content": "# Skill-First Discipline\n\nBefore responding to ANY user request, check if a matching skill exists.\n\n## Checklist\n\n1. **Scan available skills** - Review the Skill tool's available skills listing\n2. **Match request to skill** - Does any skill cover this task type?\n3. **Load if matched** - Use `Skill` tool to load it\n4. **Announce usage** - Tell the user: \"I'm using [skill-name] to [action]\"\n5. **Follow exactly** - Execute the skill's guidance without deviation\n\n## Rationalizations to Reject\n\nIf you catch yourself considering these, stop and check for skills:\n\n- \"This is simple, I don't need a skill\"\n- \"I'll just do this quickly\"\n- \"The skill is overkill\"\n- \"I already know how to do this\"\n\nThese are failure modes. If a skill exists for your task, use it.\n\n## Discovering Available Skills\n\nThe Skill tool shows all installed skills in its \"Available Skills\" section. Skills are organized by source:\n\n- **majestic-engineer**: Code search, TDD, diagrams, CI, git worktrees\n- **majestic-rails**: Ruby/Rails coding, RSpec, Minitest, gem building\n- **majestic-tools**: Brainstorming, skill creation, skill-first\n- **majestic-marketing**: Copy editing\n\nTo list skills programmatically:\n```bash\nfind ~/.claude -path \"*/skills/*/SKILL.md\" 2>/dev/null | xargs -I{} grep \"^name:\" {}\n```\n\n## When to Skip\n\nSkip only when:\n- Answering factual questions (no task involved)\n- Simple clarifications\n- User explicitly declines skill usage\n\nFor everything else, skill-first is mandatory."
              }
            ]
          },
          {
            "name": "majestic-python",
            "description": "Python development tools. Includes 3 specialized agents and 5 skills.",
            "source": "./plugins/majestic-python",
            "category": null,
            "version": "3.2.0",
            "author": {
              "name": "David Paluy",
              "url": "https://github.com/dpaluy",
              "email": "marketplace@it.majesticlabs.dev"
            },
            "install_commands": [
              "/plugin marketplace add majesticlabs-dev/majestic-marketplace",
              "/plugin install majestic-python@majestic-marketplace"
            ],
            "signals": {
              "stars": 16,
              "forks": 1,
              "pushed_at": "2026-01-12T22:29:39Z",
              "created_at": "2025-11-26T21:43:21Z",
              "license": "NOASSERTION"
            },
            "commands": [],
            "skills": [
              {
                "name": "django-coder",
                "description": "Build Django applications with models, views, forms, templates, REST APIs, and modern Django 5.x patterns.",
                "path": "plugins/majestic-python/skills/django-coder/SKILL.md",
                "frontmatter": {
                  "name": "django-coder",
                  "description": "Build Django applications with models, views, forms, templates, REST APIs, and modern Django 5.x patterns.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash, WebSearch"
                },
                "content": "# Django Coder\n\nYou are a **Django Expert** specializing in building robust web applications with Django's \"batteries included\" philosophy.\n\n## Core Principles\n\n| Principle | Application |\n|-----------|-------------|\n| **Convention over Configuration** | Follow Django's standard project layout |\n| **DRY** | Use model inheritance, mixins, template inheritance |\n| **Fat Models, Thin Views** | Business logic in models/managers, views just orchestrate |\n| **Security First** | CSRF, SQL injection protection, XSS prevention built-in |\n| **Explicit over Implicit** | Clear URL routing, explicit imports |\n\n## Project Structure\n\n```\nproject/\n manage.py\n config/                  # Project settings\n    __init__.py\n    settings/\n       base.py\n       local.py\n       production.py\n    urls.py\n    wsgi.py\n apps/\n    users/              # App per domain\n        __init__.py\n        admin.py\n        apps.py\n        forms.py\n        models.py\n        urls.py\n        views.py\n        services.py     # Business logic\n        selectors.py    # Query logic\n        tests/\n templates/\n    base.html\n    users/\n static/\n```\n\n## Models\n\n### Model Definition\n\n```python\nfrom django.db import models\nfrom django.contrib.auth.models import AbstractUser\n\nclass User(AbstractUser):\n    \"\"\"Custom user model.\"\"\"\n    bio = models.TextField(blank=True)\n    avatar = models.ImageField(upload_to=\"avatars/\", blank=True)\n\n    class Meta:\n        ordering = [\"-date_joined\"]\n\n    def __str__(self):\n        return self.email\n\nclass Post(models.Model):\n    \"\"\"Blog post model.\"\"\"\n    class Status(models.TextChoices):\n        DRAFT = \"draft\", \"Draft\"\n        PUBLISHED = \"published\", \"Published\"\n\n    title = models.CharField(max_length=200)\n    slug = models.SlugField(unique=True)\n    author = models.ForeignKey(User, on_delete=models.CASCADE, related_name=\"posts\")\n    content = models.TextField()\n    status = models.CharField(max_length=10, choices=Status.choices, default=Status.DRAFT)\n    created_at = models.DateTimeField(auto_now_add=True)\n    updated_at = models.DateTimeField(auto_now=True)\n\n    class Meta:\n        ordering = [\"-created_at\"]\n        indexes = [\n            models.Index(fields=[\"slug\"]),\n            models.Index(fields=[\"status\", \"-created_at\"]),\n        ]\n```\n\n### Custom Managers\n\n```python\nclass PublishedManager(models.Manager):\n    def get_queryset(self):\n        return super().get_queryset().filter(status=Post.Status.PUBLISHED)\n\nclass Post(models.Model):\n    # ... fields ...\n    objects = models.Manager()\n    published = PublishedManager()\n```\n\n## Views\n\n### Class-Based Views\n\n```python\nfrom django.views.generic import ListView, DetailView, CreateView, UpdateView\nfrom django.contrib.auth.mixins import LoginRequiredMixin\nfrom django.urls import reverse_lazy\n\nclass PostListView(ListView):\n    model = Post\n    queryset = Post.published.all()\n    context_object_name = \"posts\"\n    paginate_by = 10\n    template_name = \"posts/list.html\"\n\nclass PostDetailView(DetailView):\n    model = Post\n    slug_field = \"slug\"\n    slug_url_kwarg = \"slug\"\n    template_name = \"posts/detail.html\"\n\nclass PostCreateView(LoginRequiredMixin, CreateView):\n    model = Post\n    fields = [\"title\", \"content\", \"status\"]\n    template_name = \"posts/form.html\"\n    success_url = reverse_lazy(\"posts:list\")\n\n    def form_valid(self, form):\n        form.instance.author = self.request.user\n        return super().form_valid(form)\n```\n\n### Async Views (Django 4.1+)\n\n```python\nfrom django.http import JsonResponse\nfrom asgiref.sync import sync_to_async\n\nasync def async_post_list(request):\n    posts = await sync_to_async(list)(Post.published.all()[:10])\n    data = [{\"title\": p.title, \"slug\": p.slug} for p in posts]\n    return JsonResponse({\"posts\": data})\n```\n\n## Django REST Framework\n\n### Serializers\n\n```python\nfrom rest_framework import serializers\n\nclass PostSerializer(serializers.ModelSerializer):\n    author = serializers.StringRelatedField(read_only=True)\n\n    class Meta:\n        model = Post\n        fields = [\"id\", \"title\", \"slug\", \"author\", \"content\", \"status\", \"created_at\"]\n        read_only_fields = [\"slug\", \"created_at\"]\n\nclass PostCreateSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Post\n        fields = [\"title\", \"content\", \"status\"]\n\n    def create(self, validated_data):\n        validated_data[\"author\"] = self.context[\"request\"].user\n        return super().create(validated_data)\n```\n\n### ViewSets\n\n```python\nfrom rest_framework import viewsets, permissions, status\nfrom rest_framework.decorators import action\nfrom rest_framework.response import Response\n\nclass PostViewSet(viewsets.ModelViewSet):\n    queryset = Post.objects.all()\n    serializer_class = PostSerializer\n    permission_classes = [permissions.IsAuthenticatedOrReadOnly]\n    lookup_field = \"slug\"\n\n    def get_queryset(self):\n        if self.action == \"list\":\n            return Post.published.all()\n        return Post.objects.all()\n\n    def get_serializer_class(self):\n        if self.action == \"create\":\n            return PostCreateSerializer\n        return PostSerializer\n\n    @action(detail=True, methods=[\"post\"])\n    def publish(self, request, slug=None):\n        post = self.get_object()\n        post.status = Post.Status.PUBLISHED\n        post.save()\n        return Response({\"status\": \"published\"})\n```\n\n## Services Pattern\n\n```python\n# apps/posts/services.py\nfrom django.db import transaction\nfrom .models import Post\n\nclass PostService:\n    @staticmethod\n    @transaction.atomic\n    def create_post(*, author, title: str, content: str) -> Post:\n        post = Post.objects.create(\n            author=author,\n            title=title,\n            content=content,\n            status=Post.Status.DRAFT,\n        )\n        return post\n\n    @staticmethod\n    def publish_post(*, post: Post) -> Post:\n        post.status = Post.Status.PUBLISHED\n        post.save(update_fields=[\"status\", \"updated_at\"])\n        return post\n```\n\n## Quality Checklist\n\n- [ ] Custom User model from project start\n- [ ] Apps organized by domain\n- [ ] Fat models, thin views\n- [ ] Services for complex business logic\n- [ ] Proper indexes on queryable fields\n- [ ] CSRF protection on forms\n- [ ] Login required where needed\n- [ ] Proper related_name on ForeignKeys\n- [ ] Tests for models, views, and services\n\n## Common Mistakes\n\n| Mistake | Fix |\n|---------|-----|\n| No custom User model | Always start with AbstractUser |\n| Logic in views | Move to services/models |\n| N+1 queries | Use select_related/prefetch_related |\n| No indexes | Add indexes for filtered/ordered fields |\n| Hardcoded URLs | Use reverse() and {% url %} |"
              },
              {
                "name": "fastapi-coder",
                "description": "Build FastAPI applications with async patterns, Pydantic validation, dependency injection, and modern Python API practices.",
                "path": "plugins/majestic-python/skills/fastapi-coder/SKILL.md",
                "frontmatter": {
                  "name": "fastapi-coder",
                  "description": "Build FastAPI applications with async patterns, Pydantic validation, dependency injection, and modern Python API practices.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash, WebSearch"
                },
                "content": "# FastAPI Coder\n\nYou are a **FastAPI Expert** specializing in building high-performance async APIs with modern Python patterns.\n\n## Core Principles\n\n| Principle | Application |\n|-----------|-------------|\n| **Async-First** | Use async/await everywhere, sync only when required |\n| **Type Safety** | Pydantic models for all request/response data |\n| **Dependency Injection** | Use `Depends()` for shared logic, not global state |\n| **OpenAPI-Driven** | Schema generates automatically; keep it clean |\n| **Separation of Concerns** | Routes  Services  Repositories |\n\n## Project Structure\n\n```\napp/\n main.py              # FastAPI app initialization\n api/\n    __init__.py\n    deps.py          # Shared dependencies\n    routes/          # Route handlers by domain\n        users.py\n        items.py\n core/\n    config.py        # Settings via pydantic-settings\n    security.py      # Auth utilities\n    exceptions.py    # Custom exceptions\n models/              # Pydantic schemas\n    user.py\n    item.py\n services/            # Business logic\n    user_service.py\n repositories/        # Data access\n    user_repo.py\n tests/\n     conftest.py      # Shared fixtures\n     test_users.py\n```\n\n## Essential Patterns\n\n### Route Handler\n\n```python\nfrom fastapi import APIRouter, Depends, HTTPException, status\nfrom app.models.user import UserCreate, UserResponse\nfrom app.services.user_service import UserService\nfrom app.api.deps import get_user_service\n\nrouter = APIRouter(prefix=\"/users\", tags=[\"users\"])\n\n@router.post(\"/\", response_model=UserResponse, status_code=status.HTTP_201_CREATED)\nasync def create_user(\n    user_in: UserCreate,\n    service: UserService = Depends(get_user_service),\n) -> UserResponse:\n    \"\"\"Create a new user.\"\"\"\n    return await service.create(user_in)\n```\n\n### Pydantic Models\n\n```python\nfrom pydantic import BaseModel, EmailStr, Field\nfrom datetime import datetime\n\nclass UserBase(BaseModel):\n    email: EmailStr\n    name: str = Field(..., min_length=1, max_length=100)\n\nclass UserCreate(UserBase):\n    password: str = Field(..., min_length=8)\n\nclass UserResponse(UserBase):\n    id: int\n    created_at: datetime\n\n    model_config = {\"from_attributes\": True}\n```\n\n### Dependencies\n\n```python\nfrom typing import Annotated\nfrom fastapi import Depends, Header, HTTPException\nfrom app.core.security import verify_token\n\nasync def get_current_user(\n    authorization: Annotated[str, Header()],\n) -> User:\n    token = authorization.removeprefix(\"Bearer \")\n    user = await verify_token(token)\n    if not user:\n        raise HTTPException(status_code=401, detail=\"Invalid token\")\n    return user\n\nCurrentUser = Annotated[User, Depends(get_current_user)]\n```\n\n### Service Layer\n\n```python\nfrom app.repositories.user_repo import UserRepository\nfrom app.models.user import UserCreate, UserResponse\n\nclass UserService:\n    def __init__(self, repo: UserRepository):\n        self.repo = repo\n\n    async def create(self, user_in: UserCreate) -> UserResponse:\n        # Business logic here\n        existing = await self.repo.get_by_email(user_in.email)\n        if existing:\n            raise ValueError(\"Email already registered\")\n        return await self.repo.create(user_in)\n```\n\n### Exception Handling\n\n```python\nfrom fastapi import FastAPI, Request\nfrom fastapi.responses import JSONResponse\n\nclass AppException(Exception):\n    def __init__(self, status_code: int, detail: str):\n        self.status_code = status_code\n        self.detail = detail\n\n@app.exception_handler(AppException)\nasync def app_exception_handler(request: Request, exc: AppException):\n    return JSONResponse(\n        status_code=exc.status_code,\n        content={\"detail\": exc.detail},\n    )\n```\n\n### Background Tasks\n\n```python\nfrom fastapi import BackgroundTasks\n\nasync def send_welcome_email(email: str):\n    # Async email sending\n    ...\n\n@router.post(\"/users/\")\nasync def create_user(\n    user_in: UserCreate,\n    background_tasks: BackgroundTasks,\n):\n    user = await create_user_in_db(user_in)\n    background_tasks.add_task(send_welcome_email, user.email)\n    return user\n```\n\n## Database Integration\n\n### SQLAlchemy 2.0 Async\n\n```python\nfrom sqlalchemy.ext.asyncio import create_async_engine, AsyncSession\nfrom sqlalchemy.orm import sessionmaker\n\nengine = create_async_engine(\"postgresql+asyncpg://...\", echo=True)\nasync_session = sessionmaker(engine, class_=AsyncSession, expire_on_commit=False)\n\nasync def get_db() -> AsyncGenerator[AsyncSession, None]:\n    async with async_session() as session:\n        yield session\n```\n\n### Repository Pattern\n\n```python\nfrom sqlalchemy import select\nfrom sqlalchemy.ext.asyncio import AsyncSession\n\nclass UserRepository:\n    def __init__(self, db: AsyncSession):\n        self.db = db\n\n    async def get_by_id(self, user_id: int) -> User | None:\n        result = await self.db.execute(select(User).where(User.id == user_id))\n        return result.scalar_one_or_none()\n```\n\n## Authentication Patterns\n\n### JWT Authentication\n\n```python\nfrom datetime import datetime, timedelta\nfrom jose import jwt, JWTError\nfrom app.core.config import settings\n\ndef create_access_token(data: dict) -> str:\n    expire = datetime.utcnow() + timedelta(minutes=settings.ACCESS_TOKEN_EXPIRE_MINUTES)\n    return jwt.encode({**data, \"exp\": expire}, settings.SECRET_KEY, algorithm=\"HS256\")\n\nasync def verify_token(token: str) -> dict | None:\n    try:\n        return jwt.decode(token, settings.SECRET_KEY, algorithms=[\"HS256\"])\n    except JWTError:\n        return None\n```\n\n## Testing Patterns\n\n```python\nimport pytest\nfrom httpx import AsyncClient, ASGITransport\nfrom app.main import app\n\n@pytest.fixture\nasync def client():\n    async with AsyncClient(\n        transport=ASGITransport(app=app),\n        base_url=\"http://test\",\n    ) as ac:\n        yield ac\n\n@pytest.mark.asyncio\nasync def test_create_user(client: AsyncClient):\n    response = await client.post(\"/users/\", json={\n        \"email\": \"test@example.com\",\n        \"name\": \"Test User\",\n        \"password\": \"securepass123\",\n    })\n    assert response.status_code == 201\n    assert response.json()[\"email\"] == \"test@example.com\"\n```\n\n## Quality Checklist\n\n- [ ] All routes have response_model and status_code\n- [ ] Pydantic models for all request/response data\n- [ ] Dependencies for shared logic (auth, db, services)\n- [ ] Service layer separates business logic from routes\n- [ ] Repository pattern for data access\n- [ ] Custom exceptions with proper handlers\n- [ ] Async database operations\n- [ ] Background tasks for non-blocking operations\n- [ ] Comprehensive tests with httpx AsyncClient\n- [ ] Type hints throughout"
              },
              {
                "name": "pytest-coder",
                "description": "Write comprehensive pytest tests with fixtures, parametrization, mocking, async testing, and modern patterns.",
                "path": "plugins/majestic-python/skills/pytest-coder/SKILL.md",
                "frontmatter": {
                  "name": "pytest-coder",
                  "description": "Write comprehensive pytest tests with fixtures, parametrization, mocking, async testing, and modern patterns.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash, WebSearch"
                },
                "content": "# Pytest Coder\n\nYou are a **Python Testing Expert** specializing in writing comprehensive, maintainable tests with pytest.\n\n## Core Philosophy\n\n| Principle | Application |\n|-----------|-------------|\n| **AAA Pattern** | Arrange-Act-Assert for every test |\n| **Behavior over Implementation** | Test what code does, not how |\n| **Isolation** | Tests must be independent |\n| **Fast Tests** | Mock I/O, minimize database hits |\n| **Descriptive Names** | Test name explains the scenario |\n| **Coverage** | Test happy paths AND edge cases |\n\n## Project Structure\n\n```\ntests/\n conftest.py          # Shared fixtures\n unit/                # Unit tests (fast, isolated)\n    test_models.py\n    test_services.py\n integration/         # Integration tests (real dependencies)\n    test_api.py\n fixtures/            # Test data files\n     sample_data.json\n```\n\n## Essential Patterns\n\n### Basic Test Structure\n\n```python\nimport pytest\nfrom myapp.services import UserService\n\nclass TestUserService:\n    \"\"\"Tests for UserService.\"\"\"\n\n    def test_create_user_with_valid_data(self, user_service):\n        # Arrange\n        user_data = {\"email\": \"test@example.com\", \"name\": \"Test User\"}\n\n        # Act\n        result = user_service.create(user_data)\n\n        # Assert\n        assert result.email == \"test@example.com\"\n        assert result.id is not None\n\n    def test_create_user_with_duplicate_email_raises_error(self, user_service, existing_user):\n        # Arrange\n        user_data = {\"email\": existing_user.email, \"name\": \"Another User\"}\n\n        # Act & Assert\n        with pytest.raises(ValueError, match=\"Email already exists\"):\n            user_service.create(user_data)\n```\n\n### Fixtures\n\n```python\n# conftest.py\nimport pytest\nfrom myapp.database import get_db\nfrom myapp.services import UserService\n\n@pytest.fixture\ndef db():\n    \"\"\"Provide a clean database session.\"\"\"\n    session = get_db()\n    yield session\n    session.rollback()\n\n@pytest.fixture\ndef user_service(db):\n    \"\"\"Provide UserService instance.\"\"\"\n    return UserService(db)\n\n@pytest.fixture\ndef sample_user():\n    \"\"\"Provide sample user data.\"\"\"\n    return {\"email\": \"test@example.com\", \"name\": \"Test User\", \"password\": \"secret123\"}\n\n@pytest.fixture\ndef existing_user(db, sample_user):\n    \"\"\"Create and return an existing user.\"\"\"\n    from myapp.models import User\n    user = User(**sample_user)\n    db.add(user)\n    db.commit()\n    return user\n```\n\n### Parametrized Tests\n\n```python\nimport pytest\n\n@pytest.mark.parametrize(\"input_email,expected_valid\", [\n    (\"valid@example.com\", True),\n    (\"also.valid@domain.co.uk\", True),\n    (\"invalid-email\", False),\n    (\"missing@domain\", False),\n    (\"\", False),\n])\ndef test_email_validation(input_email, expected_valid):\n    from myapp.validators import is_valid_email\n    assert is_valid_email(input_email) == expected_valid\n\n@pytest.mark.parametrize(\"status,expected_message\", [\n    (\"pending\", \"Order is being processed\"),\n    (\"shipped\", \"Order has been shipped\"),\n    (\"delivered\", \"Order has been delivered\"),\n], ids=[\"pending-status\", \"shipped-status\", \"delivered-status\"])\ndef test_order_status_message(status, expected_message):\n    from myapp.orders import get_status_message\n    assert get_status_message(status) == expected_message\n```\n\n### Mocking\n\n```python\nfrom unittest.mock import Mock, patch, AsyncMock\n\ndef test_send_email_calls_smtp(user_service):\n    # Mock external dependency\n    with patch(\"myapp.services.smtp_client\") as mock_smtp:\n        mock_smtp.send.return_value = True\n\n        user_service.send_welcome_email(\"test@example.com\")\n\n        mock_smtp.send.assert_called_once_with(\n            to=\"test@example.com\",\n            subject=\"Welcome!\",\n        )\n\ndef test_payment_processing_handles_failure():\n    mock_gateway = Mock()\n    mock_gateway.charge.side_effect = PaymentError(\"Card declined\")\n\n    service = PaymentService(gateway=mock_gateway)\n\n    with pytest.raises(PaymentError):\n        service.process_payment(amount=100)\n```\n\n### Async Testing\n\n```python\nimport pytest\n\n@pytest.mark.asyncio\nasync def test_async_fetch_user(user_service):\n    # Arrange\n    user_id = 1\n\n    # Act\n    user = await user_service.get_by_id(user_id)\n\n    # Assert\n    assert user.id == user_id\n\n@pytest.fixture\nasync def async_db():\n    \"\"\"Async database session fixture.\"\"\"\n    from myapp.database import async_session\n    async with async_session() as session:\n        yield session\n        await session.rollback()\n\n# Mock async functions\n@pytest.mark.asyncio\nasync def test_async_external_api():\n    with patch(\"myapp.client.fetch_data\", new_callable=AsyncMock) as mock_fetch:\n        mock_fetch.return_value = {\"status\": \"ok\"}\n\n        result = await fetch_and_process()\n\n        assert result[\"status\"] == \"ok\"\n```\n\n### Testing Exceptions\n\n```python\nimport pytest\n\ndef test_divide_by_zero_raises_error():\n    with pytest.raises(ZeroDivisionError):\n        divide(10, 0)\n\ndef test_invalid_input_raises_with_message():\n    with pytest.raises(ValueError, match=\"must be positive\"):\n        process_amount(-100)\n\ndef test_exception_attributes():\n    with pytest.raises(CustomError) as exc_info:\n        risky_operation()\n\n    assert exc_info.value.code == \"E001\"\n    assert \"failed\" in str(exc_info.value)\n```\n\n## Fixture Scopes\n\n| Scope | Lifecycle | Use Case |\n|-------|-----------|----------|\n| `function` | Per test (default) | Most fixtures |\n| `class` | Per test class | Shared setup within class |\n| `module` | Per module | Expensive setup shared by module |\n| `session` | Entire test run | Database connections, servers |\n\n```python\n@pytest.fixture(scope=\"session\")\ndef database_engine():\n    \"\"\"Create engine once for entire test session.\"\"\"\n    engine = create_engine(TEST_DATABASE_URL)\n    yield engine\n    engine.dispose()\n\n@pytest.fixture(scope=\"function\")\ndef db_session(database_engine):\n    \"\"\"Create fresh session per test.\"\"\"\n    connection = database_engine.connect()\n    transaction = connection.begin()\n    session = Session(bind=connection)\n\n    yield session\n\n    session.close()\n    transaction.rollback()\n    connection.close()\n```\n\n## Markers\n\n```python\n# pytest.ini or pyproject.toml\n[tool.pytest.ini_options]\nmarkers = [\n    \"slow: marks tests as slow\",\n    \"integration: marks integration tests\",\n    \"unit: marks unit tests\",\n]\n\n# Usage\n@pytest.mark.slow\ndef test_complex_calculation():\n    ...\n\n@pytest.mark.integration\ndef test_database_connection():\n    ...\n\n# Run specific markers\n# pytest -m \"not slow\"\n# pytest -m \"unit\"\n```\n\n## Quality Checklist\n\n- [ ] AAA pattern (Arrange-Act-Assert) in every test\n- [ ] Descriptive test names explaining the scenario\n- [ ] Fixtures for common setup\n- [ ] Parametrized tests for multiple inputs\n- [ ] Mocks for external dependencies\n- [ ] Happy path tested\n- [ ] Error cases tested\n- [ ] Edge cases covered\n- [ ] Async tests use `@pytest.mark.asyncio`\n- [ ] No test interdependencies\n- [ ] Coverage >90%\n\n## Anti-Patterns\n\n| Anti-Pattern | Why Bad | Fix |\n|--------------|---------|-----|\n| Tests depend on order | Flaky, hard to debug | Use fixtures, isolate |\n| Testing implementation | Brittle tests | Test behavior |\n| Too many assertions | Hard to identify failure | One assertion per test |\n| No error case tests | Missing coverage | Test exceptions explicitly |\n| Slow unit tests | Slow feedback | Mock I/O, use in-memory DB |"
              },
              {
                "name": "python-coder",
                "description": "Modern Python 3.12+ development with uv, ruff, pydantic, FastAPI, async patterns, and production-ready practices.",
                "path": "plugins/majestic-python/skills/python-coder/SKILL.md",
                "frontmatter": {
                  "name": "python-coder",
                  "description": "Modern Python 3.12+ development with uv, ruff, pydantic, FastAPI, async patterns, and production-ready practices.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash, WebSearch"
                },
                "content": "# Python-Coder\n\nModern Python 3.12+ development patterns with cutting-edge tools and practices from the 2025/2026 ecosystem.\n\n## Purpose\n\nPython 3.12+ features, modern tooling, and production-ready development practices. Deep knowledge of package management with uv, code quality with ruff, and high-performance async patterns.\n\n## Capabilities\n\n### Modern Python Features\n\n- Python 3.12+ features including improved error messages, performance optimizations, and type system enhancements\n- Advanced async/await patterns with asyncio, aiohttp, and trio\n- Context managers and the `with` statement for resource management\n- Dataclasses, Pydantic models, and modern data validation\n- Pattern matching (structural pattern matching) and match statements\n- Type hints, generics, and Protocol typing for robust type safety\n- Descriptors, metaclasses, and advanced object-oriented patterns\n- Generator expressions, itertools, and memory-efficient data processing\n\n### Modern Tooling & Development Environment\n\n- Package management with uv (fastest Python package manager)\n- Code formatting and linting with ruff (replacing black, isort, flake8)\n- Static type checking with mypy and pyright\n- Project configuration with pyproject.toml (modern standard)\n- Virtual environment management with venv, pipenv, or uv\n- Pre-commit hooks for code quality automation\n- Modern Python packaging and distribution practices\n- Dependency management and lock files\n\n### Testing & Quality Assurance\n\n- Comprehensive testing with pytest and pytest plugins\n- Property-based testing with Hypothesis\n- Test fixtures, factories, and mock objects\n- Coverage analysis with pytest-cov and coverage.py\n- Performance testing and benchmarking with pytest-benchmark\n- Integration testing and test databases\n- Continuous integration with GitHub Actions\n- Code quality metrics and static analysis\n\n### Performance & Optimization\n\n- Profiling with cProfile, py-spy, and memory_profiler\n- Performance optimization techniques and bottleneck identification\n- Async programming for I/O-bound operations\n- Multiprocessing and concurrent.futures for CPU-bound tasks\n- Memory optimization and garbage collection understanding\n- Caching strategies with functools.lru_cache and external caches\n- Database optimization with SQLAlchemy and async ORMs\n- NumPy, Pandas optimization for data processing\n\n### Web Development & APIs\n\n- FastAPI for high-performance APIs with automatic documentation\n- Django for full-featured web applications\n- Flask for lightweight web services\n- Pydantic for data validation and serialization\n- SQLAlchemy 2.0+ with async support\n- Background task processing with Celery and Redis\n- WebSocket support with FastAPI and Django Channels\n- Authentication and authorization patterns\n\n### Data Science & Machine Learning\n\n- NumPy and Pandas for data manipulation and analysis\n- Matplotlib, Seaborn, and Plotly for data visualization\n- Scikit-learn for machine learning workflows\n- Jupyter notebooks and IPython for interactive development\n- Data pipeline design and ETL processes\n- Integration with modern ML libraries (PyTorch, TensorFlow)\n- Data validation and quality assurance\n- Performance optimization for large datasets\n\n### DevOps & Production Deployment\n\n- Docker containerization and multi-stage builds\n- Kubernetes deployment and scaling strategies\n- Cloud deployment (AWS, GCP, Azure) with Python services\n- Monitoring and logging with structured logging and APM tools\n- Configuration management and environment variables\n- Security best practices and vulnerability scanning\n- CI/CD pipelines and automated testing\n- Performance monitoring and alerting\n\n### Advanced Python Patterns\n\n- Design patterns implementation (Singleton, Factory, Observer, etc.)\n- SOLID principles in Python development\n- Dependency injection and inversion of control\n- Event-driven architecture and messaging patterns\n- Functional programming concepts and tools\n- Advanced decorators and context managers\n- Metaprogramming and dynamic code generation\n- Plugin architectures and extensible systems\n\n## Behavioral Traits\n\n- Follows PEP 8 and modern Python idioms consistently\n- Prioritizes code readability and maintainability\n- Uses type hints throughout for better code documentation\n- Implements comprehensive error handling with custom exceptions\n- Writes extensive tests with high coverage (>90%)\n- Leverages Python's standard library before external dependencies\n- Focuses on performance optimization when needed\n- Documents code thoroughly with docstrings and examples\n- Stays current with latest Python releases and ecosystem changes\n- Emphasizes security and best practices in production code\n\n## Response Approach\n\n1. **Analyze requirements** for modern Python best practices\n2. **Suggest current tools and patterns** from the 2025/2026 ecosystem\n3. **Provide production-ready code** with proper error handling and type hints\n4. **Include comprehensive tests** with pytest and appropriate fixtures\n5. **Consider performance implications** and suggest optimizations\n6. **Document security considerations** and best practices\n7. **Recommend modern tooling** for development workflow\n8. **Include deployment strategies** when applicable"
              },
              {
                "name": "python-debugger",
                "description": "Debug Python errors, exceptions, and unexpected behavior. Analyzes tracebacks, reproduces issues, identifies root causes, and provides fixes.",
                "path": "plugins/majestic-python/skills/python-debugger/SKILL.md",
                "frontmatter": {
                  "name": "python-debugger",
                  "description": "Debug Python errors, exceptions, and unexpected behavior. Analyzes tracebacks, reproduces issues, identifies root causes, and provides fixes.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash, WebSearch"
                },
                "content": "# Python Debugger\n\nYou are a **Python Debugging Expert** who systematically diagnoses and fixes Python errors, exceptions, and unexpected behavior.\n\n## Debugging Process\n\n```\n1. Understand the Error  2. Reproduce  3. Isolate  4. Identify Root Cause  5. Fix  6. Verify\n```\n\n## Step 1: Understand the Error\n\n### Reading Tracebacks\n\n```\nTraceback (most recent call last):         Read bottom to top\n  File \"app.py\", line 45, in main          Entry point\n    result = process_data(data)            Call chain\n  File \"processor.py\", line 23, in process_data\n    return transform(item)                 Getting closer\n  File \"transformer.py\", line 12, in transform\n    return item[\"value\"] / item[\"count\"]   Error location\nZeroDivisionError: division by zero        The actual error\n```\n\n### Common Error Types\n\n| Error | Typical Cause | First Check |\n|-------|---------------|-------------|\n| `AttributeError` | Wrong type, None value | Print type and value |\n| `KeyError` | Missing dict key | Check dict keys |\n| `TypeError` | Wrong argument type | Check function signature |\n| `ValueError` | Right type, wrong value | Validate input ranges |\n| `ImportError` | Missing module/path | Check installed packages |\n| `IndexError` | List access out of bounds | Check list length |\n| `ZeroDivisionError` | Division by zero | Add zero check |\n| `FileNotFoundError` | Wrong path | Print absolute path |\n\n## Step 2: Reproduce the Issue\n\n### Minimal Reproduction\n\n```python\n# Create minimal test case that triggers the error\ndef test_reproduces_error():\n    # Exact inputs that cause the failure\n    data = {\"value\": 10, \"count\": 0}  # The problematic input\n\n    # Call the failing function\n    result = transform(data)  # Should raise ZeroDivisionError\n```\n\n### Gathering Context\n\nQuestions to answer:\n- What input triggered this?\n- Is it consistent or intermittent?\n- When did it start happening?\n- What changed recently?\n\n## Step 3: Isolate the Problem\n\n### Print Debugging\n\n```python\ndef process_data(data):\n    print(f\"DEBUG: data type = {type(data)}\")\n    print(f\"DEBUG: data = {data}\")\n\n    for i, item in enumerate(data):\n        print(f\"DEBUG: processing item {i}: {item}\")\n        result = transform(item)\n        print(f\"DEBUG: result = {result}\")\n\n    return results\n```\n\n### Using pdb\n\n```python\nimport pdb\n\ndef problematic_function(x):\n    pdb.set_trace()  # Execution stops here\n    # Or use: breakpoint()  # Python 3.7+\n    result = x * 2\n    return result\n```\n\n**pdb Commands:**\n\n| Command | Action |\n|---------|--------|\n| `n` | Next line |\n| `s` | Step into function |\n| `c` | Continue execution |\n| `p var` | Print variable |\n| `pp var` | Pretty print |\n| `l` | List source code |\n| `w` | Show call stack |\n| `q` | Quit debugger |\n\n### Using icecream\n\n```python\nfrom icecream import ic\n\ndef calculate(x, y):\n    ic(x, y)  # Prints: ic| x: 5, y: 0\n    result = x / y\n    ic(result)\n    return result\n```\n\n## Step 4: Common Root Causes\n\n### None Values\n\n```python\n# Problem\nuser = get_user(user_id)  # Returns None if not found\nname = user.name  # AttributeError: 'NoneType' has no attribute 'name'\n\n# Fix\nuser = get_user(user_id)\nif user is None:\n    raise ValueError(f\"User {user_id} not found\")\nname = user.name\n```\n\n### Type Mismatches\n\n```python\n# Problem\ndef add_numbers(a, b):\n    return a + b\n\nadd_numbers(\"5\", 3)  # TypeError: can only concatenate str to str\n\n# Fix\ndef add_numbers(a: int, b: int) -> int:\n    return int(a) + int(b)\n```\n\n### Mutable Default Arguments\n\n```python\n# Problem - shared list across calls!\ndef append_to(item, target=[]):\n    target.append(item)\n    return target\n\n# Fix\ndef append_to(item, target=None):\n    if target is None:\n        target = []\n    target.append(item)\n    return target\n```\n\n### Circular Imports\n\n```python\n# Problem: a.py imports b.py, b.py imports a.py\n\n# Fix: Import inside function or restructure\ndef get_processor():\n    from .processor import Processor  # Lazy import\n    return Processor()\n```\n\n### Async/Await Issues\n\n```python\n# Problem: Forgetting await\nasync def fetch_data():\n    result = fetch_from_api()  # Missing await!\n    return result  # Returns coroutine, not result\n\n# Fix\nasync def fetch_data():\n    result = await fetch_from_api()\n    return result\n```\n\n## Step 5: Fix Patterns\n\n### Defensive Programming\n\n```python\ndef safe_divide(a, b):\n    if b == 0:\n        raise ValueError(\"Cannot divide by zero\")\n    return a / b\n\ndef safe_get(data: dict, key: str, default=None):\n    return data.get(key, default)\n```\n\n### Input Validation\n\n```python\ndef process_user(user_id: int, data: dict) -> dict:\n    if not isinstance(user_id, int) or user_id <= 0:\n        raise ValueError(f\"Invalid user_id: {user_id}\")\n\n    required_fields = [\"name\", \"email\"]\n    missing = [f for f in required_fields if f not in data]\n    if missing:\n        raise ValueError(f\"Missing required fields: {missing}\")\n\n    # Process...\n```\n\n### Exception Handling\n\n```python\nimport logging\n\nlogger = logging.getLogger(__name__)\n\ndef fetch_user_data(user_id: int) -> dict:\n    try:\n        response = api_client.get(f\"/users/{user_id}\")\n        response.raise_for_status()\n        return response.json()\n    except requests.HTTPError as e:\n        logger.error(f\"HTTP error fetching user {user_id}: {e}\")\n        raise\n    except requests.ConnectionError:\n        logger.error(f\"Connection failed for user {user_id}\")\n        raise ServiceUnavailableError(\"API unavailable\")\n```\n\n## Step 6: Verify the Fix\n\n### Write a Test\n\n```python\nimport pytest\n\ndef test_transform_handles_zero_count():\n    \"\"\"Verify fix for ZeroDivisionError.\"\"\"\n    data = {\"value\": 10, \"count\": 0}\n\n    with pytest.raises(ValueError, match=\"count cannot be zero\"):\n        transform(data)\n\ndef test_transform_normal_case():\n    \"\"\"Verify normal operation still works.\"\"\"\n    data = {\"value\": 10, \"count\": 2}\n    result = transform(data)\n    assert result == 5\n```\n\n## Debugging Tools\n\n### Logging Setup\n\n```python\nimport logging\n\nlogging.basicConfig(\n    level=logging.DEBUG,\n    format=\"%(asctime)s %(name)s %(levelname)s: %(message)s\",\n    handlers=[\n        logging.FileHandler(\"debug.log\"),\n        logging.StreamHandler(),\n    ],\n)\n\nlogger = logging.getLogger(__name__)\n\ndef process(data):\n    logger.debug(f\"Processing data: {data}\")\n    try:\n        result = transform(data)\n        logger.info(f\"Success: {result}\")\n        return result\n    except Exception as e:\n        logger.exception(f\"Failed to process: {e}\")\n        raise\n```\n\n### Profiling\n\n```python\n# Time profiling\nimport cProfile\ncProfile.run(\"main()\", \"output.prof\")\n\n# Memory profiling\nfrom memory_profiler import profile\n\n@profile\ndef memory_heavy_function():\n    # ...\n```\n\n### Using rich for better output\n\n```python\nfrom rich import print\nfrom rich.traceback import install\n\ninstall(show_locals=True)  # Enhanced tracebacks\n\nprint({\"data\": data, \"result\": result})  # Pretty printing\n```\n\n## Debug Checklist\n\n1. [ ] Read the full traceback (bottom to top)\n2. [ ] Identify the exact line causing the error\n3. [ ] Check variable types and values at that point\n4. [ ] Create minimal reproduction\n5. [ ] Add print/logging statements around the issue\n6. [ ] Check for None values\n7. [ ] Check for type mismatches\n8. [ ] Verify external dependencies (APIs, files, DBs)\n9. [ ] Write a test that reproduces the bug\n10. [ ] Implement fix\n11. [ ] Verify test passes\n12. [ ] Check for similar issues elsewhere\n\n## When to Use WebSearch\n\n- Cryptic error messages\n- Library-specific errors\n- Version compatibility issues\n- Undocumented behavior"
              }
            ]
          },
          {
            "name": "majestic-data",
            "description": "Data engineering and ETL tools. Includes 11 specialized agents, 4 commands, and 8 skills for pandas, SQL, ETL pipelines, data validation, and quality monitoring.",
            "source": "./plugins/majestic-data",
            "category": null,
            "version": "1.0.0",
            "author": {
              "name": "David Paluy",
              "url": "https://github.com/dpaluy",
              "email": "marketplace@it.majesticlabs.dev"
            },
            "install_commands": [
              "/plugin marketplace add majesticlabs-dev/majestic-marketplace",
              "/plugin install majestic-data@majestic-marketplace"
            ],
            "signals": {
              "stars": 16,
              "forks": 1,
              "pushed_at": "2026-01-12T22:29:39Z",
              "created_at": "2025-11-26T21:43:21Z",
              "license": "NOASSERTION"
            },
            "commands": [],
            "skills": [
              {
                "name": "csv-wrangler",
                "description": "Handle messy CSVs with encoding detection, delimiter inference, and malformed row recovery.",
                "path": "plugins/majestic-data/skills/csv-wrangler/SKILL.md",
                "frontmatter": {
                  "name": "csv-wrangler",
                  "description": "Handle messy CSVs with encoding detection, delimiter inference, and malformed row recovery.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash"
                },
                "content": "# CSV-Wrangler\n\nPatterns for handling real-world messy CSV files.\n\n## Encoding Detection\n\n```python\nimport chardet\n\ndef detect_encoding(file_path: str, sample_size: int = 10000) -> str:\n    \"\"\"Detect file encoding from sample.\"\"\"\n    with open(file_path, 'rb') as f:\n        raw = f.read(sample_size)\n    result = chardet.detect(raw)\n    return result['encoding']\n\ndef read_with_encoding(path: str) -> pd.DataFrame:\n    \"\"\"Read CSV with auto-detected encoding.\"\"\"\n    encoding = detect_encoding(path)\n    # Common fallback chain\n    encodings = [encoding, 'utf-8', 'latin-1', 'cp1252']\n\n    for enc in encodings:\n        try:\n            return pd.read_csv(path, encoding=enc)\n        except UnicodeDecodeError:\n            continue\n\n    # Last resort: ignore errors\n    return pd.read_csv(path, encoding='utf-8', errors='ignore')\n```\n\n## Delimiter Detection\n\n```python\nimport csv\n\ndef detect_delimiter(file_path: str) -> str:\n    \"\"\"Detect CSV delimiter from file sample.\"\"\"\n    with open(file_path, 'r', encoding='utf-8', errors='ignore') as f:\n        sample = f.read(4096)\n\n    sniffer = csv.Sniffer()\n    try:\n        dialect = sniffer.sniff(sample, delimiters=',;\\t|')\n        return dialect.delimiter\n    except csv.Error:\n        # Count occurrences and pick most common\n        counts = {d: sample.count(d) for d in [',', ';', '\\t', '|']}\n        return max(counts, key=counts.get)\n\ndef read_with_delimiter_detection(path: str) -> pd.DataFrame:\n    \"\"\"Read CSV with auto-detected delimiter.\"\"\"\n    delimiter = detect_delimiter(path)\n    return pd.read_csv(path, sep=delimiter)\n```\n\n## Handling Malformed Rows\n\n```python\ndef read_with_error_handling(path: str) -> tuple[pd.DataFrame, list[dict]]:\n    \"\"\"Read CSV, capturing malformed rows separately.\"\"\"\n    good_rows = []\n    bad_rows = []\n\n    with open(path, 'r', encoding='utf-8', errors='replace') as f:\n        reader = csv.reader(f)\n        header = next(reader)\n        expected_cols = len(header)\n\n        for line_num, row in enumerate(reader, start=2):\n            if len(row) == expected_cols:\n                good_rows.append(row)\n            else:\n                bad_rows.append({\n                    'line': line_num,\n                    'expected': expected_cols,\n                    'actual': len(row),\n                    'data': row\n                })\n\n    df = pd.DataFrame(good_rows, columns=header)\n    return df, bad_rows\n\n# Using pandas error_bad_lines (deprecated) / on_bad_lines\ndef read_skip_bad_lines(path: str) -> pd.DataFrame:\n    \"\"\"Read CSV, skipping malformed rows.\"\"\"\n    return pd.read_csv(\n        path,\n        on_bad_lines='skip',  # or 'warn' to see them\n        engine='python'\n    )\n```\n\n## Quoted Fields with Embedded Delimiters\n\n```python\ndef read_quoted_csv(path: str) -> pd.DataFrame:\n    \"\"\"Handle CSVs with quoted fields containing delimiters.\"\"\"\n    return pd.read_csv(\n        path,\n        quotechar='\"',\n        doublequote=True,  # Handle \"\" as escaped quote\n        escapechar='\\\\',   # Handle \\, as escaped comma\n        engine='python'\n    )\n\n# For really messy files\ndef read_regex_separated(path: str, pattern: str = r',(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)') -> pd.DataFrame:\n    \"\"\"Split on delimiter only outside quotes using regex.\"\"\"\n    import re\n    rows = []\n    with open(path, 'r') as f:\n        for line in f:\n            rows.append(re.split(pattern, line.strip()))\n    return pd.DataFrame(rows[1:], columns=rows[0])\n```\n\n## Header Detection\n\n```python\ndef detect_header_row(path: str, max_rows: int = 10) -> int:\n    \"\"\"Find the header row in files with metadata at top.\"\"\"\n    with open(path, 'r') as f:\n        lines = [f.readline() for _ in range(max_rows)]\n\n    delimiter = detect_delimiter(path)\n\n    for i, line in enumerate(lines):\n        parts = line.split(delimiter)\n        # Header likely has more columns than metadata\n        # and contains text-like values\n        if len(parts) > 2 and all(p.strip().replace('_', '').isalnum() for p in parts[:3]):\n            return i\n\n    return 0  # Default to first row\n\ndef read_with_header_detection(path: str) -> pd.DataFrame:\n    \"\"\"Read CSV, auto-detecting header row.\"\"\"\n    header_row = detect_header_row(path)\n    return pd.read_csv(path, skiprows=header_row)\n```\n\n## Date Parsing\n\n```python\ndef infer_date_columns(df: pd.DataFrame) -> list[str]:\n    \"\"\"Identify columns that look like dates.\"\"\"\n    date_cols = []\n    date_patterns = [\n        r'\\d{4}-\\d{2}-\\d{2}',           # 2024-01-15\n        r'\\d{2}/\\d{2}/\\d{4}',           # 01/15/2024\n        r'\\d{2}-\\d{2}-\\d{4}',           # 15-01-2024\n        r'\\d{4}/\\d{2}/\\d{2}',           # 2024/01/15\n    ]\n\n    for col in df.columns:\n        if df[col].dtype == 'object':\n            sample = df[col].dropna().head(100)\n            for pattern in date_patterns:\n                if sample.str.match(pattern).mean() > 0.8:\n                    date_cols.append(col)\n                    break\n\n    return date_cols\n\ndef parse_dates_flexibly(df: pd.DataFrame, columns: list[str]) -> pd.DataFrame:\n    \"\"\"Parse dates with multiple format attempts.\"\"\"\n    for col in columns:\n        try:\n            df[col] = pd.to_datetime(df[col], infer_datetime_format=True)\n        except:\n            # Try common formats explicitly\n            for fmt in ['%Y-%m-%d', '%m/%d/%Y', '%d/%m/%Y', '%Y/%m/%d']:\n                try:\n                    df[col] = pd.to_datetime(df[col], format=fmt)\n                    break\n                except:\n                    continue\n    return df\n```\n\n## Numeric Cleaning\n\n```python\ndef clean_numeric_column(series: pd.Series) -> pd.Series:\n    \"\"\"Clean numeric column with currency symbols, commas, etc.\"\"\"\n    if series.dtype == 'object':\n        cleaned = (series\n            .astype(str)\n            .str.replace(r'[$,]', '', regex=True)  # Remove currency/commas\n            .str.replace(r'\\s+', '', regex=True)       # Remove whitespace\n            .str.replace(r'\\((.+)\\)', r'-\\1', regex=True)  # (123) -> -123\n        )\n        return pd.to_numeric(cleaned, errors='coerce')\n    return series\n\ndef clean_all_numeric(df: pd.DataFrame) -> pd.DataFrame:\n    \"\"\"Attempt to convert object columns to numeric.\"\"\"\n    for col in df.select_dtypes(include=['object']).columns:\n        converted = pd.to_numeric(df[col], errors='coerce')\n        # Keep conversion if >80% success\n        if converted.notna().mean() > 0.8:\n            df[col] = converted\n    return df\n```\n\n## Complete Wrangling Pipeline\n\n```python\ndef wrangle_csv(path: str) -> tuple[pd.DataFrame, dict]:\n    \"\"\"Full pipeline for messy CSV handling.\"\"\"\n    report = {'issues': [], 'fixes': []}\n\n    # Step 1: Detect encoding\n    encoding = detect_encoding(path)\n    report['encoding'] = encoding\n\n    # Step 2: Detect delimiter\n    delimiter = detect_delimiter(path)\n    report['delimiter'] = delimiter\n\n    # Step 3: Detect header row\n    header_row = detect_header_row(path)\n    if header_row > 0:\n        report['fixes'].append(f\"Skipped {header_row} metadata rows\")\n\n    # Step 4: Read with error handling\n    try:\n        df = pd.read_csv(\n            path,\n            encoding=encoding,\n            sep=delimiter,\n            skiprows=header_row,\n            on_bad_lines='warn',\n            engine='python'\n        )\n    except Exception as e:\n        report['issues'].append(f\"Read error: {e}\")\n        df = pd.read_csv(path, encoding='latin-1', on_bad_lines='skip')\n\n    # Step 5: Clean column names\n    df.columns = (df.columns\n        .str.strip()\n        .str.lower()\n        .str.replace(r'\\s+', '_', regex=True)\n        .str.replace(r'[^\\w]', '', regex=True)\n    )\n    report['fixes'].append(\"Normalized column names\")\n\n    # Step 6: Parse dates\n    date_cols = infer_date_columns(df)\n    if date_cols:\n        df = parse_dates_flexibly(df, date_cols)\n        report['fixes'].append(f\"Parsed dates: {date_cols}\")\n\n    # Step 7: Clean numeric columns\n    df = clean_all_numeric(df)\n\n    report['shape'] = df.shape\n    report['dtypes'] = df.dtypes.to_dict()\n\n    return df, report\n```\n\n## Excel File Handling\n\n```python\ndef read_excel_smart(path: str, sheet: str | int = 0) -> pd.DataFrame:\n    \"\"\"Read Excel with common cleanup.\"\"\"\n    df = pd.read_excel(\n        path,\n        sheet_name=sheet,\n        engine='openpyxl',  # For .xlsx\n        # engine='xlrd',    # For .xls\n    )\n\n    # Drop fully empty rows/columns\n    df = df.dropna(how='all').dropna(axis=1, how='all')\n\n    # Reset index after dropping\n    df = df.reset_index(drop=True)\n\n    return df\n\ndef list_excel_sheets(path: str) -> list[str]:\n    \"\"\"List all sheets in an Excel file.\"\"\"\n    xl = pd.ExcelFile(path)\n    return xl.sheet_names\n```"
              },
              {
                "name": "data-quality",
                "description": "Data profiling, distribution monitoring, anomaly detection, and quality metrics.",
                "path": "plugins/majestic-data/skills/data-quality/SKILL.md",
                "frontmatter": {
                  "name": "data-quality",
                  "description": "Data profiling, distribution monitoring, anomaly detection, and quality metrics.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash"
                },
                "content": "# Data-Quality\n\nPatterns for data profiling, monitoring, and quality assurance.\n\n## Quick Profiling\n\n```python\ndef profile_dataframe(df: pd.DataFrame) -> dict:\n    \"\"\"Generate comprehensive profile of DataFrame.\"\"\"\n    profile = {\n        'shape': df.shape,\n        'memory_mb': df.memory_usage(deep=True).sum() / 1024**2,\n        'columns': {}\n    }\n\n    for col in df.columns:\n        col_profile = {\n            'dtype': str(df[col].dtype),\n            'null_count': int(df[col].isnull().sum()),\n            'null_pct': round(df[col].isnull().mean() * 100, 2),\n            'unique_count': int(df[col].nunique()),\n            'unique_pct': round(df[col].nunique() / len(df) * 100, 2),\n        }\n\n        if df[col].dtype in ['int64', 'float64']:\n            col_profile.update({\n                'min': float(df[col].min()),\n                'max': float(df[col].max()),\n                'mean': float(df[col].mean()),\n                'std': float(df[col].std()),\n                'median': float(df[col].median()),\n                'zeros': int((df[col] == 0).sum()),\n                'negatives': int((df[col] < 0).sum()),\n            })\n        elif df[col].dtype == 'object':\n            col_profile.update({\n                'min_length': int(df[col].str.len().min()),\n                'max_length': int(df[col].str.len().max()),\n                'top_values': df[col].value_counts().head(5).to_dict(),\n            })\n        elif pd.api.types.is_datetime64_any_dtype(df[col]):\n            col_profile.update({\n                'min_date': str(df[col].min()),\n                'max_date': str(df[col].max()),\n                'date_range_days': int((df[col].max() - df[col].min()).days),\n            })\n\n        profile['columns'][col] = col_profile\n\n    return profile\n```\n\n## Data Quality Dimensions\n\n```python\nfrom dataclasses import dataclass\nfrom enum import Enum\n\nclass QualityDimension(Enum):\n    COMPLETENESS = \"completeness\"    # Missing values\n    UNIQUENESS = \"uniqueness\"        # Duplicates\n    VALIDITY = \"validity\"            # Format/range\n    ACCURACY = \"accuracy\"            # Correctness\n    CONSISTENCY = \"consistency\"      # Cross-field logic\n    TIMELINESS = \"timeliness\"        # Data freshness\n\n@dataclass\nclass QualityMetric:\n    dimension: QualityDimension\n    name: str\n    score: float  # 0-100\n    passed: bool\n    details: dict\n\ndef calculate_completeness(df: pd.DataFrame, required_cols: list[str]) -> QualityMetric:\n    \"\"\"Measure data completeness.\"\"\"\n    null_rates = df[required_cols].isnull().mean()\n    avg_completeness = (1 - null_rates.mean()) * 100\n\n    return QualityMetric(\n        dimension=QualityDimension.COMPLETENESS,\n        name=\"Required Fields Completeness\",\n        score=avg_completeness,\n        passed=avg_completeness >= 95,\n        details={\n            'null_rates': null_rates.to_dict(),\n            'threshold': 95\n        }\n    )\n\ndef calculate_uniqueness(df: pd.DataFrame, key_cols: list[str]) -> QualityMetric:\n    \"\"\"Measure uniqueness of key columns.\"\"\"\n    dup_count = df.duplicated(subset=key_cols).sum()\n    uniqueness = (1 - dup_count / len(df)) * 100\n\n    return QualityMetric(\n        dimension=QualityDimension.UNIQUENESS,\n        name=\"Key Column Uniqueness\",\n        score=uniqueness,\n        passed=uniqueness == 100,\n        details={\n            'duplicate_count': dup_count,\n            'key_columns': key_cols\n        }\n    )\n```\n\n## Distribution Monitoring\n\n```python\nimport numpy as np\nfrom scipy import stats\n\ndef detect_distribution_drift(\n    baseline: pd.Series,\n    current: pd.Series,\n    threshold: float = 0.1\n) -> dict:\n    \"\"\"Detect statistical drift between distributions.\"\"\"\n\n    if baseline.dtype in ['int64', 'float64']:\n        # KS test for numeric\n        statistic, p_value = stats.ks_2samp(baseline.dropna(), current.dropna())\n        drifted = p_value < threshold\n\n        return {\n            'test': 'Kolmogorov-Smirnov',\n            'statistic': statistic,\n            'p_value': p_value,\n            'drifted': drifted,\n            'baseline_mean': baseline.mean(),\n            'current_mean': current.mean(),\n            'mean_change_pct': abs(current.mean() - baseline.mean()) / baseline.mean() * 100\n        }\n    else:\n        # Chi-square for categorical\n        baseline_dist = baseline.value_counts(normalize=True)\n        current_dist = current.value_counts(normalize=True)\n\n        # Align categories\n        all_cats = set(baseline_dist.index) | set(current_dist.index)\n        baseline_aligned = [baseline_dist.get(c, 0) for c in all_cats]\n        current_aligned = [current_dist.get(c, 0) for c in all_cats]\n\n        statistic, p_value = stats.chisquare(current_aligned, baseline_aligned)\n\n        return {\n            'test': 'Chi-Square',\n            'statistic': statistic,\n            'p_value': p_value,\n            'drifted': p_value < threshold,\n            'new_categories': list(set(current.unique()) - set(baseline.unique())),\n            'missing_categories': list(set(baseline.unique()) - set(current.unique()))\n        }\n\ndef monitor_all_columns(baseline_df: pd.DataFrame, current_df: pd.DataFrame) -> dict:\n    \"\"\"Monitor drift across all columns.\"\"\"\n    results = {}\n    for col in baseline_df.columns:\n        if col in current_df.columns:\n            results[col] = detect_distribution_drift(baseline_df[col], current_df[col])\n    return results\n```\n\n## Anomaly Detection\n\n```python\ndef detect_anomalies_zscore(series: pd.Series, threshold: float = 3.0) -> pd.Series:\n    \"\"\"Detect anomalies using Z-score.\"\"\"\n    mean = series.mean()\n    std = series.std()\n    z_scores = (series - mean) / std\n    return abs(z_scores) > threshold\n\ndef detect_anomalies_iqr(series: pd.Series, multiplier: float = 1.5) -> pd.Series:\n    \"\"\"Detect anomalies using IQR method.\"\"\"\n    Q1 = series.quantile(0.25)\n    Q3 = series.quantile(0.75)\n    IQR = Q3 - Q1\n    lower = Q1 - multiplier * IQR\n    upper = Q3 + multiplier * IQR\n    return (series < lower) | (series > upper)\n\ndef detect_anomalies_isolation_forest(df: pd.DataFrame, columns: list[str]) -> pd.Series:\n    \"\"\"Detect anomalies using Isolation Forest.\"\"\"\n    from sklearn.ensemble import IsolationForest\n\n    model = IsolationForest(contamination=0.01, random_state=42)\n    predictions = model.fit_predict(df[columns].fillna(0))\n    return pd.Series(predictions == -1, index=df.index)\n```\n\n## Quality Scorecard\n\n```python\n@dataclass\nclass QualityScorecard:\n    dataset_name: str\n    timestamp: datetime\n    row_count: int\n    column_count: int\n    metrics: list[QualityMetric]\n\n    @property\n    def overall_score(self) -> float:\n        \"\"\"Weighted average of all metrics.\"\"\"\n        if not self.metrics:\n            return 0.0\n        return sum(m.score for m in self.metrics) / len(self.metrics)\n\n    @property\n    def passed(self) -> bool:\n        \"\"\"All critical checks passed.\"\"\"\n        return all(m.passed for m in self.metrics)\n\n    def to_dict(self) -> dict:\n        return {\n            'dataset': self.dataset_name,\n            'timestamp': self.timestamp.isoformat(),\n            'rows': self.row_count,\n            'columns': self.column_count,\n            'overall_score': self.overall_score,\n            'passed': self.passed,\n            'metrics': [\n                {\n                    'dimension': m.dimension.value,\n                    'name': m.name,\n                    'score': m.score,\n                    'passed': m.passed\n                }\n                for m in self.metrics\n            ]\n        }\n\ndef generate_scorecard(\n    df: pd.DataFrame,\n    name: str,\n    required_cols: list[str],\n    key_cols: list[str]\n) -> QualityScorecard:\n    \"\"\"Generate complete quality scorecard.\"\"\"\n    metrics = [\n        calculate_completeness(df, required_cols),\n        calculate_uniqueness(df, key_cols),\n        # Add more metrics as needed\n    ]\n\n    return QualityScorecard(\n        dataset_name=name,\n        timestamp=datetime.now(),\n        row_count=len(df),\n        column_count=len(df.columns),\n        metrics=metrics\n    )\n```\n\n## Freshness Monitoring\n\n```python\ndef check_freshness(\n    df: pd.DataFrame,\n    timestamp_col: str,\n    max_age_hours: int = 24\n) -> QualityMetric:\n    \"\"\"Check if data is fresh enough.\"\"\"\n    latest = df[timestamp_col].max()\n    age_hours = (datetime.now() - latest).total_seconds() / 3600\n\n    return QualityMetric(\n        dimension=QualityDimension.TIMELINESS,\n        name=\"Data Freshness\",\n        score=max(0, 100 - (age_hours / max_age_hours * 100)),\n        passed=age_hours <= max_age_hours,\n        details={\n            'latest_timestamp': str(latest),\n            'age_hours': round(age_hours, 2),\n            'threshold_hours': max_age_hours\n        }\n    )\n```\n\n## Volume Monitoring\n\n```python\ndef check_volume(\n    current_count: int,\n    expected_count: int,\n    tolerance_pct: float = 20\n) -> QualityMetric:\n    \"\"\"Check if row count is within expected range.\"\"\"\n    deviation = abs(current_count - expected_count) / expected_count * 100\n\n    return QualityMetric(\n        dimension=QualityDimension.COMPLETENESS,\n        name=\"Volume Check\",\n        score=max(0, 100 - deviation),\n        passed=deviation <= tolerance_pct,\n        details={\n            'current_count': current_count,\n            'expected_count': expected_count,\n            'deviation_pct': round(deviation, 2),\n            'tolerance_pct': tolerance_pct\n        }\n    )\n```\n\n## Report Generation\n\n```python\ndef generate_html_report(scorecard: QualityScorecard) -> str:\n    \"\"\"Generate HTML quality report.\"\"\"\n    status_color = \"green\" if scorecard.passed else \"red\"\n\n    metrics_html = \"\"\n    for m in scorecard.metrics:\n        color = \"green\" if m.passed else \"red\"\n        metrics_html += f\"\"\"\n        <tr>\n            <td>{m.dimension.value}</td>\n            <td>{m.name}</td>\n            <td style=\"color: {color}\">{m.score:.1f}%</td>\n            <td>{\"\" if m.passed else \"\"}</td>\n        </tr>\n        \"\"\"\n\n    return f\"\"\"\n    <html>\n    <body>\n        <h1>Data Quality Report: {scorecard.dataset_name}</h1>\n        <p>Generated: {scorecard.timestamp}</p>\n        <p>Rows: {scorecard.row_count:,} | Columns: {scorecard.column_count}</p>\n        <h2 style=\"color: {status_color}\">\n            Overall Score: {scorecard.overall_score:.1f}%\n            {\" PASSED\" if scorecard.passed else \" FAILED\"}\n        </h2>\n        <table border=\"1\">\n            <tr><th>Dimension</th><th>Check</th><th>Score</th><th>Status</th></tr>\n            {metrics_html}\n        </table>\n    </body>\n    </html>\n    \"\"\"\n```"
              },
              {
                "name": "data-validation",
                "description": "Schema enforcement and data validation using Pydantic, pandera, and Great Expectations patterns.",
                "path": "plugins/majestic-data/skills/data-validation/SKILL.md",
                "frontmatter": {
                  "name": "data-validation",
                  "description": "Schema enforcement and data validation using Pydantic, pandera, and Great Expectations patterns.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash"
                },
                "content": "# Data-Validation\n\nProduction patterns for data validation and schema enforcement.\n\n## Pydantic for Record Validation\n\n```python\nfrom pydantic import BaseModel, Field, field_validator, model_validator\nfrom datetime import date\nfrom typing import Literal\n\nclass UserRecord(BaseModel):\n    id: int = Field(gt=0)\n    email: str = Field(pattern=r'^[\\w\\.-]+@[\\w\\.-]+\\.\\w+$')\n    status: Literal['active', 'inactive', 'pending']\n    created_at: date\n    age: int = Field(ge=0, le=150)\n\n    @field_validator('email')\n    @classmethod\n    def lowercase_email(cls, v: str) -> str:\n        return v.lower()\n\n    @model_validator(mode='after')\n    def check_consistency(self) -> 'UserRecord':\n        if self.status == 'active' and self.age < 13:\n            raise ValueError('Active users must be 13+')\n        return self\n\n# Batch validation\ndef validate_records(records: list[dict]) -> tuple[list[UserRecord], list[dict]]:\n    valid, invalid = [], []\n    for record in records:\n        try:\n            valid.append(UserRecord(**record))\n        except ValidationError as e:\n            invalid.append({'record': record, 'errors': e.errors()})\n    return valid, invalid\n```\n\n## Pandera for DataFrame Validation\n\n```python\nimport pandera as pa\nfrom pandera import Column, Check, DataFrameSchema\n\n# Define schema\nschema = DataFrameSchema({\n    \"id\": Column(int, Check.gt(0), unique=True),\n    \"email\": Column(str, Check.str_matches(r'^[\\w\\.-]+@[\\w\\.-]+\\.\\w+$')),\n    \"revenue\": Column(float, Check.ge(0)),\n    \"date\": Column(\"datetime64[ns]\"),\n    \"category\": Column(str, Check.isin(['A', 'B', 'C'])),\n})\n\n# Validate DataFrame\n@pa.check_output(schema)\ndef load_data(path: str) -> pd.DataFrame:\n    return pd.read_csv(path)\n\n# Schema with custom checks\nschema_with_custom = DataFrameSchema({\n    \"start_date\": Column(\"datetime64[ns]\"),\n    \"end_date\": Column(\"datetime64[ns]\"),\n}, checks=[\n    Check(lambda df: df['end_date'] > df['start_date'],\n          error=\"end_date must be after start_date\")\n])\n```\n\n## Great Expectations Patterns\n\n```python\nimport great_expectations as gx\n\n# Quick validation\ncontext = gx.get_context()\n\n# Define expectations\nsuite = context.add_expectation_suite(\"user_data_suite\")\n\n# Column existence\nsuite.add_expectation(\n    gx.expectations.ExpectColumnToExist(column=\"user_id\")\n)\n\n# Null checks\nsuite.add_expectation(\n    gx.expectations.ExpectColumnValuesToNotBeNull(column=\"user_id\")\n)\n\n# Value ranges\nsuite.add_expectation(\n    gx.expectations.ExpectColumnValuesToBeBetween(\n        column=\"age\", min_value=0, max_value=150\n    )\n)\n\n# Uniqueness\nsuite.add_expectation(\n    gx.expectations.ExpectColumnValuesToBeUnique(column=\"user_id\")\n)\n\n# Categorical values\nsuite.add_expectation(\n    gx.expectations.ExpectColumnValuesToBeInSet(\n        column=\"status\",\n        value_set=[\"active\", \"inactive\", \"pending\"]\n    )\n)\n\n# Run validation\nresults = context.run_checkpoint(\n    checkpoint_name=\"user_data_checkpoint\",\n    batch_request={\"datasource_name\": \"my_datasource\", \"data_asset_name\": \"users\"}\n)\n```\n\n## Custom Validation Functions\n\n```python\nfrom typing import Callable\nfrom dataclasses import dataclass\n\n@dataclass\nclass ValidationResult:\n    passed: bool\n    message: str\n    failed_rows: pd.DataFrame | None = None\n\ndef validate_no_duplicates(df: pd.DataFrame, cols: list[str]) -> ValidationResult:\n    \"\"\"Check for duplicate rows based on columns.\"\"\"\n    duplicates = df[df.duplicated(subset=cols, keep=False)]\n    if len(duplicates) > 0:\n        return ValidationResult(\n            passed=False,\n            message=f\"Found {len(duplicates)} duplicate rows\",\n            failed_rows=duplicates\n        )\n    return ValidationResult(passed=True, message=\"No duplicates found\")\n\ndef validate_referential_integrity(\n    df: pd.DataFrame,\n    column: str,\n    reference_df: pd.DataFrame,\n    reference_column: str\n) -> ValidationResult:\n    \"\"\"Check foreign key references exist.\"\"\"\n    valid_values = set(reference_df[reference_column])\n    invalid = df[~df[column].isin(valid_values)]\n    if len(invalid) > 0:\n        return ValidationResult(\n            passed=False,\n            message=f\"Found {len(invalid)} rows with invalid references\",\n            failed_rows=invalid\n        )\n    return ValidationResult(passed=True, message=\"All references valid\")\n\ndef validate_date_range(\n    df: pd.DataFrame,\n    column: str,\n    min_date: date,\n    max_date: date\n) -> ValidationResult:\n    \"\"\"Check dates within expected range.\"\"\"\n    out_of_range = df[(df[column] < min_date) | (df[column] > max_date)]\n    if len(out_of_range) > 0:\n        return ValidationResult(\n            passed=False,\n            message=f\"Found {len(out_of_range)} rows outside date range\",\n            failed_rows=out_of_range\n        )\n    return ValidationResult(passed=True, message=\"All dates in range\")\n```\n\n## Schema Evolution Handling\n\n```python\nfrom typing import Any\n\ndef validate_with_schema_version(\n    data: dict,\n    schema_version: int\n) -> dict:\n    \"\"\"Handle multiple schema versions during migration.\"\"\"\n\n    if schema_version == 1:\n        # Old schema: name was single field\n        if 'name' in data and 'first_name' not in data:\n            parts = data['name'].split(' ', 1)\n            data['first_name'] = parts[0]\n            data['last_name'] = parts[1] if len(parts) > 1 else ''\n            del data['name']\n\n    if schema_version < 3:\n        # Schema v3 added 'metadata' field\n        if 'metadata' not in data:\n            data['metadata'] = {}\n\n    return data\n\ndef infer_and_validate_schema(df: pd.DataFrame) -> dict:\n    \"\"\"Infer schema from DataFrame and return validation report.\"\"\"\n    report = {\n        'columns': {},\n        'row_count': len(df),\n        'issues': []\n    }\n\n    for col in df.columns:\n        col_info = {\n            'dtype': str(df[col].dtype),\n            'null_count': int(df[col].isnull().sum()),\n            'null_pct': float(df[col].isnull().mean()),\n            'unique_count': int(df[col].nunique())\n        }\n\n        if df[col].dtype in ['int64', 'float64']:\n            col_info['min'] = float(df[col].min())\n            col_info['max'] = float(df[col].max())\n            col_info['mean'] = float(df[col].mean())\n\n        report['columns'][col] = col_info\n\n        # Flag potential issues\n        if col_info['null_pct'] > 0.5:\n            report['issues'].append(f\"Column '{col}' has >50% nulls\")\n        if col_info['unique_count'] == 1:\n            report['issues'].append(f\"Column '{col}' has only one unique value\")\n\n    return report\n```\n\n## Validation Pipeline\n\n```python\nclass DataValidator:\n    def __init__(self):\n        self.checks: list[Callable[[pd.DataFrame], ValidationResult]] = []\n\n    def add_check(self, check: Callable[[pd.DataFrame], ValidationResult]):\n        self.checks.append(check)\n        return self\n\n    def validate(self, df: pd.DataFrame) -> dict:\n        results = {\n            'passed': True,\n            'checks': []\n        }\n\n        for check in self.checks:\n            result = check(df)\n            results['checks'].append({\n                'name': check.__name__,\n                'passed': result.passed,\n                'message': result.message\n            })\n            if not result.passed:\n                results['passed'] = False\n\n        return results\n\n# Usage\nvalidator = DataValidator()\nvalidator.add_check(lambda df: validate_no_duplicates(df, ['id']))\nvalidator.add_check(lambda df: validate_no_nulls(df, ['id', 'email']))\nvalidator.add_check(lambda df: validate_email_format(df, 'email'))\n\nresults = validator.validate(df)\nif not results['passed']:\n    raise ValueError(f\"Validation failed: {results}\")\n```\n\n## Assertions for Tests\n\n```python\ndef assert_schema_match(df: pd.DataFrame, expected: dict) -> None:\n    \"\"\"Assert DataFrame matches expected schema.\"\"\"\n    for col, dtype in expected.items():\n        assert col in df.columns, f\"Missing column: {col}\"\n        assert df[col].dtype == dtype, f\"Column {col}: expected {dtype}, got {df[col].dtype}\"\n\ndef assert_no_nulls(df: pd.DataFrame, columns: list[str]) -> None:\n    \"\"\"Assert no null values in specified columns.\"\"\"\n    for col in columns:\n        null_count = df[col].isnull().sum()\n        assert null_count == 0, f\"Column {col} has {null_count} null values\"\n\ndef assert_unique(df: pd.DataFrame, columns: list[str]) -> None:\n    \"\"\"Assert no duplicate values in column combination.\"\"\"\n    dup_count = df.duplicated(subset=columns).sum()\n    assert dup_count == 0, f\"Found {dup_count} duplicate rows for columns {columns}\"\n```"
              },
              {
                "name": "dbt-coder",
                "description": "dbt (data build tool) patterns for model organization, incremental strategies, and testing.",
                "path": "plugins/majestic-data/skills/dbt-coder/SKILL.md",
                "frontmatter": {
                  "name": "dbt-coder",
                  "description": "dbt (data build tool) patterns for model organization, incremental strategies, and testing.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash"
                },
                "content": "# dbt-Coder\n\nPatterns for dbt (data build tool) transform layer development.\n\n## Project Structure\n\n```\nmy_dbt_project/\n dbt_project.yml\n profiles.yml\n models/\n    staging/          # 1:1 with sources, light transforms\n       stg_orders.sql\n       _staging.yml\n    intermediate/     # Joins, business logic\n       int_orders_enriched.sql\n    marts/            # Final consumption layer\n        finance/\n           fct_revenue.sql\n        marketing/\n            dim_customers.sql\n seeds/                # Static lookup data\n snapshots/            # SCD Type 2\n macros/               # Reusable SQL\n tests/                # Custom tests\n```\n\n## dbt_project.yml\n\n```yaml\nname: 'my_project'\nversion: '1.0.0'\nconfig-version: 2\n\nprofile: 'my_project'\n\nmodel-paths: [\"models\"]\nseed-paths: [\"seeds\"]\ntest-paths: [\"tests\"]\nmacro-paths: [\"macros\"]\nsnapshot-paths: [\"snapshots\"]\n\nmodels:\n  my_project:\n    staging:\n      +materialized: view\n      +schema: staging\n    intermediate:\n      +materialized: ephemeral\n    marts:\n      +materialized: table\n      +schema: marts\n```\n\n## Staging Models\n\n```sql\n-- models/staging/stg_orders.sql\n-- Naming: stg_<source>_<entity>\n\nwith source as (\n    select * from {{ source('raw', 'orders') }}\n),\n\nrenamed as (\n    select\n        -- Rename to consistent naming\n        id as order_id,\n        customer_id,\n        order_date,\n        total_amount as order_total,\n\n        -- Type casting\n        cast(status as varchar(50)) as order_status,\n\n        -- Timestamps\n        created_at,\n        updated_at\n    from source\n)\n\nselect * from renamed\n```\n\n## Source Definition\n\n```yaml\n# models/staging/_sources.yml\nversion: 2\n\nsources:\n  - name: raw\n    database: raw_db\n    schema: public\n    freshness:\n      warn_after: {count: 12, period: hour}\n      error_after: {count: 24, period: hour}\n    tables:\n      - name: orders\n        identifier: orders_table\n        columns:\n          - name: id\n            tests:\n              - unique\n              - not_null\n      - name: customers\n```\n\n## Intermediate Models\n\n```sql\n-- models/intermediate/int_orders_enriched.sql\n-- Join staging models, apply business logic\n\nwith orders as (\n    select * from {{ ref('stg_orders') }}\n),\n\ncustomers as (\n    select * from {{ ref('stg_customers') }}\n),\n\nproducts as (\n    select * from {{ ref('stg_products') }}\n)\n\nselect\n    o.order_id,\n    o.order_date,\n    o.order_total,\n\n    c.customer_id,\n    c.customer_name,\n    c.customer_segment,\n\n    -- Business logic\n    case\n        when o.order_total >= 1000 then 'high_value'\n        when o.order_total >= 100 then 'medium_value'\n        else 'low_value'\n    end as order_tier\n\nfrom orders o\nleft join customers c on o.customer_id = c.customer_id\n```\n\n## Mart Models\n\n```sql\n-- models/marts/finance/fct_revenue.sql\n-- Final aggregated fact table\n\n{{ config(\n    materialized='table',\n    partition_by={\n      \"field\": \"order_date\",\n      \"data_type\": \"date\",\n      \"granularity\": \"month\"\n    }\n) }}\n\nwith orders as (\n    select * from {{ ref('int_orders_enriched') }}\n)\n\nselect\n    date_trunc('day', order_date) as revenue_date,\n    customer_segment,\n    order_tier,\n    count(*) as order_count,\n    sum(order_total) as total_revenue,\n    avg(order_total) as avg_order_value\nfrom orders\ngroup by 1, 2, 3\n```\n\n## Incremental Models\n\n```sql\n-- models/marts/fct_events.sql\n{{ config(\n    materialized='incremental',\n    unique_key='event_id',\n    incremental_strategy='merge'  -- or 'delete+insert', 'append'\n) }}\n\nselect\n    event_id,\n    user_id,\n    event_type,\n    event_timestamp,\n    properties\nfrom {{ source('raw', 'events') }}\n\n{% if is_incremental() %}\n    -- Only new/updated rows since last run\n    where event_timestamp > (select max(event_timestamp) from {{ this }})\n{% endif %}\n```\n\n## Snapshots (SCD Type 2)\n\n```sql\n-- snapshots/snap_customers.sql\n{% snapshot snap_customers %}\n\n{{\n    config(\n      target_schema='snapshots',\n      unique_key='customer_id',\n      strategy='timestamp',\n      updated_at='updated_at',\n    )\n}}\n\nselect * from {{ source('raw', 'customers') }}\n\n{% endsnapshot %}\n```\n\n## Tests\n\n```yaml\n# models/marts/_schema.yml\nversion: 2\n\nmodels:\n  - name: fct_revenue\n    description: Daily revenue aggregations\n    columns:\n      - name: revenue_date\n        tests:\n          - not_null\n      - name: total_revenue\n        tests:\n          - not_null\n          - dbt_utils.accepted_range:\n              min_value: 0\n\n    tests:\n      # Model-level tests\n      - dbt_utils.unique_combination_of_columns:\n          combination_of_columns:\n            - revenue_date\n            - customer_segment\n            - order_tier\n```\n\n## Custom Tests\n\n```sql\n-- tests/assert_positive_revenue.sql\n-- Returns rows that fail the test\n\nselect\n    revenue_date,\n    total_revenue\nfrom {{ ref('fct_revenue') }}\nwhere total_revenue < 0\n```\n\n## Macros\n\n```sql\n-- macros/cents_to_dollars.sql\n{% macro cents_to_dollars(column_name) %}\n    round({{ column_name }} / 100.0, 2)\n{% endmacro %}\n\n-- Usage in model:\n-- select {{ cents_to_dollars('amount_cents') }} as amount_dollars\n```\n\n```sql\n-- macros/generate_schema_name.sql\n{% macro generate_schema_name(custom_schema_name, node) %}\n    {% if custom_schema_name %}\n        {{ custom_schema_name }}\n    {% else %}\n        {{ target.schema }}\n    {% endif %}\n{% endmacro %}\n```\n\n## dbt Commands\n\n```bash\n# Run all models\ndbt run\n\n# Run specific model and dependencies\ndbt run --select fct_revenue+\n\n# Run models with tag\ndbt run --select tag:finance\n\n# Test all\ndbt test\n\n# Generate docs\ndbt docs generate\ndbt docs serve\n\n# Freshness check\ndbt source freshness\n\n# Full refresh of incremental\ndbt run --full-refresh --select fct_events\n\n# Build (run + test)\ndbt build\n```\n\n## Best Practices\n\n```yaml\n# 1. Use ref() for model references\n# BAD:  select * from schema.stg_orders\n# GOOD: select * from {{ ref('stg_orders') }}\n\n# 2. Use source() for raw tables\n# BAD:  select * from raw_db.orders\n# GOOD: select * from {{ source('raw', 'orders') }}\n\n# 3. Document models\nmodels:\n  - name: fct_revenue\n    description: |\n      Daily revenue by segment. Grain: one row per day/segment/tier.\n      Updated daily by the finance_dag.\n    meta:\n      owner: data-team\n      pii: false\n```\n\n## Packages\n\n```yaml\n# packages.yml\npackages:\n  - package: dbt-labs/dbt_utils\n    version: 1.1.1\n  - package: dbt-labs/codegen\n    version: 0.12.1\n  - package: calogica/dbt_expectations\n    version: 0.10.1\n```\n\n```bash\n# Install packages\ndbt deps\n```"
              },
              {
                "name": "etl-patterns",
                "description": "Production ETL patterns including idempotency, checkpointing, error handling, and backfill strategies.",
                "path": "plugins/majestic-data/skills/etl-patterns/SKILL.md",
                "frontmatter": {
                  "name": "etl-patterns",
                  "description": "Production ETL patterns including idempotency, checkpointing, error handling, and backfill strategies.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash"
                },
                "content": "# ETL-Patterns\n\nProduction-grade Extract-Transform-Load patterns for reliable data pipelines.\n\n## Idempotency Patterns\n\n```python\n# Pattern 1: Delete-then-insert (simple, works for small datasets)\ndef load_daily_data(date: str, df: pd.DataFrame) -> None:\n    with engine.begin() as conn:\n        conn.execute(\n            text(\"DELETE FROM daily_metrics WHERE date = :date\"),\n            {\"date\": date}\n        )\n        df.to_sql('daily_metrics', conn, if_exists='append', index=False)\n\n# Pattern 2: UPSERT (better for large datasets)\ndef upsert_records(df: pd.DataFrame) -> None:\n    for batch in chunked(df.to_dict('records'), 1000):\n        stmt = insert(MyTable).values(batch)\n        stmt = stmt.on_conflict_do_update(\n            index_elements=['id'],\n            set_={col: stmt.excluded[col] for col in update_cols}\n        )\n        session.execute(stmt)\n\n# Pattern 3: Source hash for change detection\ndef extract_with_hash(df: pd.DataFrame) -> pd.DataFrame:\n    hash_cols = ['id', 'name', 'value', 'updated_at']\n    df['_row_hash'] = pd.util.hash_pandas_object(df[hash_cols])\n    return df\n```\n\n## Checkpointing\n\n```python\nimport json\nfrom pathlib import Path\n\nclass Checkpoint:\n    def __init__(self, path: str):\n        self.path = Path(path)\n        self.state = self._load()\n\n    def _load(self) -> dict:\n        if self.path.exists():\n            return json.loads(self.path.read_text())\n        return {}\n\n    def save(self) -> None:\n        self.path.write_text(json.dumps(self.state, default=str))\n\n    def get_last_processed(self, key: str) -> str | None:\n        return self.state.get(key)\n\n    def set_last_processed(self, key: str, value: str) -> None:\n        self.state[key] = value\n        self.save()\n\n# Usage\ncheckpoint = Checkpoint('.etl_checkpoint.json')\nlast_id = checkpoint.get_last_processed('users_sync')\n\nfor batch in fetch_users_since(last_id):\n    process(batch)\n    checkpoint.set_last_processed('users_sync', batch[-1]['id'])\n```\n\n## Error Handling\n\n```python\nfrom dataclasses import dataclass\nfrom typing import Any\n\n@dataclass\nclass FailedRecord:\n    source_id: str\n    error: str\n    raw_data: dict\n    timestamp: datetime\n\nclass ETLProcessor:\n    def __init__(self):\n        self.failed_records: list[FailedRecord] = []\n\n    def process_batch(self, records: list[dict]) -> list[dict]:\n        processed = []\n        for record in records:\n            try:\n                processed.append(self.transform(record))\n            except Exception as e:\n                self.failed_records.append(FailedRecord(\n                    source_id=record.get('id', 'unknown'),\n                    error=str(e),\n                    raw_data=record,\n                    timestamp=datetime.now()\n                ))\n        return processed\n\n    def save_failures(self, path: str) -> None:\n        if self.failed_records:\n            df = pd.DataFrame([vars(r) for r in self.failed_records])\n            df.to_parquet(f\"{path}/failures_{datetime.now():%Y%m%d_%H%M%S}.parquet\")\n\n# Dead letter queue pattern\ndef process_with_dlq(records: list[dict], dlq_table: str) -> None:\n    for record in records:\n        try:\n            process(record)\n        except Exception as e:\n            # Send to dead letter queue for later inspection\n            save_to_dlq(dlq_table, record, str(e))\n```\n\n## Chunked Processing\n\n```python\nfrom typing import Iterator, TypeVar\n\nT = TypeVar('T')\n\ndef chunked(iterable: Iterator[T], size: int) -> Iterator[list[T]]:\n    \"\"\"Yield successive chunks from iterable.\"\"\"\n    batch = []\n    for item in iterable:\n        batch.append(item)\n        if len(batch) >= size:\n            yield batch\n            batch = []\n    if batch:\n        yield batch\n\n# Memory-efficient file processing\ndef process_large_csv(path: str, chunk_size: int = 50_000) -> None:\n    for i, chunk in enumerate(pd.read_csv(path, chunksize=chunk_size)):\n        print(f\"Processing chunk {i}: {len(chunk)} rows\")\n        transformed = transform(chunk)\n        load(transformed, mode='append')\n        del chunk, transformed  # Explicit memory cleanup\n        gc.collect()\n```\n\n## Backfill Strategy\n\n```python\nfrom datetime import date, timedelta\nfrom concurrent.futures import ThreadPoolExecutor\n\ndef backfill_date_range(\n    start: date,\n    end: date,\n    process_fn: callable,\n    parallel: int = 4\n) -> None:\n    \"\"\"Backfill data for a date range.\"\"\"\n    dates = []\n    current = start\n    while current <= end:\n        dates.append(current)\n        current += timedelta(days=1)\n\n    # Process in parallel with controlled concurrency\n    with ThreadPoolExecutor(max_workers=parallel) as executor:\n        futures = {executor.submit(process_fn, d): d for d in dates}\n        for future in as_completed(futures):\n            d = futures[future]\n            try:\n                future.result()\n                print(f\"Completed: {d}\")\n            except Exception as e:\n                print(f\"Failed: {d} - {e}\")\n\n# Usage\nbackfill_date_range(\n    start=date(2024, 1, 1),\n    end=date(2024, 3, 31),\n    process_fn=process_daily_data,\n    parallel=4\n)\n```\n\n## Incremental Load Patterns\n\n```python\n# Pattern 1: Timestamp-based incremental\ndef incremental_by_timestamp(table: str, timestamp_col: str) -> pd.DataFrame:\n    last_run = get_last_run_timestamp(table)\n    query = f\"\"\"\n        SELECT * FROM {table}\n        WHERE {timestamp_col} > :last_run\n        ORDER BY {timestamp_col}\n    \"\"\"\n    df = pd.read_sql(query, engine, params={'last_run': last_run})\n    if not df.empty:\n        set_last_run_timestamp(table, df[timestamp_col].max())\n    return df\n\n# Pattern 2: Change Data Capture (CDC) style\ndef process_cdc_events(events: list[dict]) -> None:\n    for event in events:\n        op = event['operation']  # INSERT, UPDATE, DELETE\n        data = event['data']\n\n        if op == 'DELETE':\n            soft_delete(data['id'])\n        else:\n            upsert(data)\n\n# Pattern 3: Full refresh with swap\ndef full_refresh_with_swap(df: pd.DataFrame, table: str) -> None:\n    temp_table = f\"{table}_temp\"\n    df.to_sql(temp_table, engine, if_exists='replace', index=False)\n\n    with engine.begin() as conn:\n        conn.execute(text(f\"DROP TABLE IF EXISTS {table}_old\"))\n        conn.execute(text(f\"ALTER TABLE {table} RENAME TO {table}_old\"))\n        conn.execute(text(f\"ALTER TABLE {temp_table} RENAME TO {table}\"))\n        conn.execute(text(f\"DROP TABLE {table}_old\"))\n```\n\n## Retry Logic\n\n```python\nimport time\nfrom functools import wraps\n\ndef retry(max_attempts: int = 3, delay: float = 1.0, backoff: float = 2.0):\n    \"\"\"Decorator for retrying failed operations.\"\"\"\n    def decorator(func):\n        @wraps(func)\n        def wrapper(*args, **kwargs):\n            last_exception = None\n            current_delay = delay\n\n            for attempt in range(max_attempts):\n                try:\n                    return func(*args, **kwargs)\n                except Exception as e:\n                    last_exception = e\n                    if attempt < max_attempts - 1:\n                        print(f\"Attempt {attempt + 1} failed: {e}. Retrying in {current_delay}s\")\n                        time.sleep(current_delay)\n                        current_delay *= backoff\n\n            raise last_exception\n        return wrapper\n    return decorator\n\n@retry(max_attempts=3, delay=1.0, backoff=2.0)\ndef fetch_from_api(url: str) -> dict:\n    response = requests.get(url, timeout=30)\n    response.raise_for_status()\n    return response.json()\n```\n\n## Pipeline Orchestration\n\n```python\nfrom enum import Enum\nfrom dataclasses import dataclass, field\n\nclass StepStatus(Enum):\n    PENDING = \"pending\"\n    RUNNING = \"running\"\n    SUCCESS = \"success\"\n    FAILED = \"failed\"\n    SKIPPED = \"skipped\"\n\n@dataclass\nclass PipelineStep:\n    name: str\n    func: callable\n    dependencies: list[str] = field(default_factory=list)\n    status: StepStatus = StepStatus.PENDING\n    error: str | None = None\n\nclass Pipeline:\n    def __init__(self, name: str):\n        self.name = name\n        self.steps: dict[str, PipelineStep] = {}\n\n    def add_step(self, name: str, func: callable, depends_on: list[str] = None):\n        self.steps[name] = PipelineStep(name, func, depends_on or [])\n\n    def run(self) -> bool:\n        for step in self._topological_sort():\n            # Skip if dependencies failed\n            if any(self.steps[d].status == StepStatus.FAILED for d in step.dependencies):\n                step.status = StepStatus.SKIPPED\n                continue\n\n            step.status = StepStatus.RUNNING\n            try:\n                step.func()\n                step.status = StepStatus.SUCCESS\n            except Exception as e:\n                step.status = StepStatus.FAILED\n                step.error = str(e)\n\n        return all(s.status == StepStatus.SUCCESS for s in self.steps.values())\n```\n\n## Logging Best Practices\n\n```python\nimport structlog\n\nlogger = structlog.get_logger()\n\ndef process_with_logging(batch_id: str, records: list[dict]) -> None:\n    log = logger.bind(batch_id=batch_id, record_count=len(records))\n\n    log.info(\"batch_started\")\n\n    try:\n        result = process(records)\n        log.info(\"batch_completed\",\n                 processed=result.processed_count,\n                 failed=result.failed_count)\n    except Exception as e:\n        log.error(\"batch_failed\", error=str(e))\n        raise\n```"
              },
              {
                "name": "pandas-coder",
                "description": "DataFrame manipulation with chunked processing, memory optimization, and vectorized operations.",
                "path": "plugins/majestic-data/skills/pandas-coder/SKILL.md",
                "frontmatter": {
                  "name": "pandas-coder",
                  "description": "DataFrame manipulation with chunked processing, memory optimization, and vectorized operations.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash"
                },
                "content": "# Pandas-Coder\n\nExpert in pandas DataFrame manipulation with focus on production-ready patterns for large datasets.\n\n## Memory-Efficient Reading\n\n```python\n# Chunked CSV reading - default for files > 100MB\nchunks = pd.read_csv('large.csv', chunksize=50_000)\nfor chunk in chunks:\n    process(chunk)\n\n# Read only needed columns\ndf = pd.read_csv('data.csv', usecols=['id', 'name', 'value'])\n\n# Optimize dtypes on load\ndf = pd.read_csv('data.csv', dtype={\n    'id': 'int32',           # not int64\n    'category': 'category',  # not object\n    'flag': 'bool'\n})\n```\n\n## Category Type for Repeated Strings\n\n```python\n# BEFORE: 800MB with object dtype\ndf['status'] = df['status'].astype('category')  # AFTER: 50MB\n\n# Set categories explicitly for consistency across files\ndf['status'] = pd.Categorical(\n    df['status'],\n    categories=['pending', 'active', 'completed', 'cancelled']\n)\n```\n\n## Vectorized Operations Over Loops\n\n```python\n# BAD - iterating rows\nfor idx, row in df.iterrows():\n    df.loc[idx, 'total'] = row['price'] * row['qty']\n\n# GOOD - vectorized\ndf['total'] = df['price'] * df['qty']\n\n# BAD - apply with Python function\ndf['clean'] = df['name'].apply(lambda x: x.strip().lower())\n\n# GOOD - vectorized string methods\ndf['clean'] = df['name'].str.strip().str.lower()\n```\n\n## Conditional Assignment\n\n```python\n# Use np.where for simple conditions\ndf['tier'] = np.where(df['revenue'] > 1000, 'premium', 'standard')\n\n# Use np.select for multiple conditions\nconditions = [\n    df['score'] >= 90,\n    df['score'] >= 70,\n    df['score'] >= 50\n]\nchoices = ['A', 'B', 'C']\ndf['grade'] = np.select(conditions, choices, default='F')\n```\n\n## GroupBy Optimizations\n\n```python\n# Named aggregations (pandas 2.0+)\nresult = df.groupby('category').agg(\n    total_sales=('sales', 'sum'),\n    avg_price=('price', 'mean'),\n    count=('id', 'count')\n)\n\n# Transform for broadcasting back to original shape\ndf['pct_of_group'] = df.groupby('category')['value'].transform(\n    lambda x: x / x.sum()\n)\n```\n\n## Index Operations\n\n```python\n# Set index for frequent lookups\ndf = df.set_index('user_id')\nuser_data = df.loc[12345]  # O(1) lookup\n\n# Reset before groupby if index not needed\ndf.reset_index(drop=True, inplace=True)\n\n# Multi-index for hierarchical data\ndf = df.set_index(['region', 'date'])\ndf.loc[('US', '2024-01')]  # Hierarchical access\n```\n\n## Memory Reduction Recipe\n\n```python\ndef reduce_memory(df: pd.DataFrame) -> pd.DataFrame:\n    \"\"\"Reduce DataFrame memory by 50-90%.\"\"\"\n    for col in df.columns:\n        col_type = df[col].dtype\n\n        if col_type == 'object':\n            if df[col].nunique() / len(df) < 0.5:\n                df[col] = df[col].astype('category')\n\n        elif col_type == 'int64':\n            if df[col].min() >= 0:\n                if df[col].max() < 255:\n                    df[col] = df[col].astype('uint8')\n                elif df[col].max() < 65535:\n                    df[col] = df[col].astype('uint16')\n            else:\n                if df[col].min() > -128 and df[col].max() < 127:\n                    df[col] = df[col].astype('int8')\n                elif df[col].min() > -32768 and df[col].max() < 32767:\n                    df[col] = df[col].astype('int16')\n\n        elif col_type == 'float64':\n            df[col] = df[col].astype('float32')\n\n    return df\n```\n\n## Parquet Over CSV\n\n```python\n# Save with compression\ndf.to_parquet('data.parquet', compression='snappy', index=False)\n\n# Read specific columns (predicate pushdown)\ndf = pd.read_parquet('data.parquet', columns=['id', 'value'])\n\n# Partitioned writes for large datasets\ndf.to_parquet(\n    'data/',\n    partition_cols=['year', 'month'],\n    compression='snappy'\n)\n```\n\n## DateTime Handling\n\n```python\n# Parse dates efficiently\ndf['date'] = pd.to_datetime(df['date_str'], format='%Y-%m-%d')\n\n# Extract components without apply\ndf['year'] = df['date'].dt.year\ndf['month'] = df['date'].dt.month\ndf['weekday'] = df['date'].dt.day_name()\n\n# Date arithmetic\ndf['days_ago'] = (pd.Timestamp.now() - df['date']).dt.days\n```\n\n## Merge Optimization\n\n```python\n# Sort before merge for performance\nleft = left.sort_values('key')\nright = right.sort_values('key')\nresult = pd.merge(left, right, on='key')\n\n# Use categorical keys for memory efficiency\nfor df in [left, right]:\n    df['key'] = df['key'].astype('category')\n```\n\n## Query vs Boolean Indexing\n\n```python\n# Boolean indexing - standard\nfiltered = df[(df['status'] == 'active') & (df['value'] > 100)]\n\n# query() - more readable for complex conditions\nfiltered = df.query('status == \"active\" and value > 100')\n\n# query() with variables\nmin_val = 100\nfiltered = df.query('value > @min_val')\n```"
              },
              {
                "name": "parquet-coder",
                "description": "Columnar file patterns including partitioning, predicate pushdown, and schema evolution.",
                "path": "plugins/majestic-data/skills/parquet-coder/SKILL.md",
                "frontmatter": {
                  "name": "parquet-coder",
                  "description": "Columnar file patterns including partitioning, predicate pushdown, and schema evolution.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash"
                },
                "content": "# Parquet-Coder\n\nPatterns for efficient columnar data storage with Parquet.\n\n## Basic Operations\n\n```python\nimport pandas as pd\nimport pyarrow as pa\nimport pyarrow.parquet as pq\n\n# Write with compression\ndf.to_parquet('data.parquet', compression='snappy', index=False)\n\n# Common compression options:\n# - snappy: Fast, good compression (default)\n# - gzip: Slower, better compression\n# - zstd: Best balance of speed/compression\n# - None: No compression (fastest writes)\n\n# Read entire file\ndf = pd.read_parquet('data.parquet')\n\n# Read specific columns only (predicate pushdown)\ndf = pd.read_parquet('data.parquet', columns=['id', 'name', 'value'])\n```\n\n## PyArrow for Large Files\n\n```python\n# Read as PyArrow Table (more memory efficient)\ntable = pq.read_table('data.parquet')\n\n# Convert to pandas when needed\ndf = table.to_pandas()\n\n# Filter while reading (row group filtering)\ntable = pq.read_table(\n    'data.parquet',\n    filters=[\n        ('date', '>=', '2024-01-01'),\n        ('status', '=', 'active')\n    ]\n)\n\n# Read in batches for huge files\nparquet_file = pq.ParquetFile('huge.parquet')\nfor batch in parquet_file.iter_batches(batch_size=100_000):\n    df_batch = batch.to_pandas()\n    process(df_batch)\n```\n\n## Partitioned Datasets\n\n```python\n# Write partitioned by columns\ndf.to_parquet(\n    'data/',\n    partition_cols=['year', 'month'],\n    compression='snappy'\n)\n# Creates: data/year=2024/month=01/part-0.parquet\n\n# Read partitioned dataset\ndf = pd.read_parquet('data/')  # Reads all partitions\n\n# Read specific partitions only\ndf = pd.read_parquet('data/year=2024/')\n\n# With PyArrow dataset API (more control)\nimport pyarrow.dataset as ds\n\ndataset = ds.dataset('data/', format='parquet', partitioning='hive')\n\n# Filter on partition columns (very fast)\ntable = dataset.to_table(\n    filter=(ds.field('year') == 2024) & (ds.field('month') >= 6)\n)\n```\n\n## Schema Definition\n\n```python\n# Explicit schema for consistency\nschema = pa.schema([\n    ('id', pa.int64()),\n    ('name', pa.string()),\n    ('value', pa.float64()),\n    ('date', pa.date32()),\n    ('tags', pa.list_(pa.string())),\n    ('metadata', pa.map_(pa.string(), pa.string())),\n])\n\n# Write with schema\ntable = pa.Table.from_pandas(df, schema=schema)\npq.write_table(table, 'data.parquet')\n\n# Read and validate schema\nfile_schema = pq.read_schema('data.parquet')\nassert file_schema.equals(schema), \"Schema mismatch!\"\n```\n\n## Schema Evolution\n\n```python\ndef merge_schemas(old_schema: pa.Schema, new_schema: pa.Schema) -> pa.Schema:\n    \"\"\"Create unified schema from old and new.\"\"\"\n    fields = {f.name: f for f in old_schema}\n    for field in new_schema:\n        if field.name not in fields:\n            fields[field.name] = field\n        elif fields[field.name].type != field.type:\n            # Handle type conflicts (e.g., promote int to float)\n            fields[field.name] = pa.field(\n                field.name,\n                promote_type(fields[field.name].type, field.type)\n            )\n    return pa.schema(list(fields.values()))\n\ndef append_with_schema_evolution(\n    existing_path: str,\n    new_df: pd.DataFrame,\n    output_path: str\n) -> None:\n    \"\"\"Append data with automatic schema evolution.\"\"\"\n    existing = pq.read_table(existing_path)\n    new_table = pa.Table.from_pandas(new_df)\n\n    # Unify schemas\n    unified_schema = pa.unify_schemas([existing.schema, new_table.schema])\n\n    # Cast both to unified schema\n    existing = existing.cast(unified_schema)\n    new_table = new_table.cast(unified_schema)\n\n    # Concatenate and write\n    combined = pa.concat_tables([existing, new_table])\n    pq.write_table(combined, output_path)\n```\n\n## Row Group Optimization\n\n```python\n# Control row group size (affects read performance)\npq.write_table(\n    table,\n    'data.parquet',\n    row_group_size=100_000,  # Rows per group\n    compression='snappy'\n)\n\n# Read metadata to see row groups\nparquet_file = pq.ParquetFile('data.parquet')\nprint(f\"Num row groups: {parquet_file.metadata.num_row_groups}\")\nprint(f\"Num rows: {parquet_file.metadata.num_rows}\")\n\n# Read specific row groups\ntable = parquet_file.read_row_groups([0, 1])  # First two groups\n```\n\n## Metadata and Statistics\n\n```python\n# Add custom metadata\ncustom_metadata = {\n    b'created_by': b'etl_pipeline',\n    b'version': b'1.0',\n    b'source': b'api_export'\n}\nschema = table.schema.with_metadata(custom_metadata)\ntable = table.cast(schema)\npq.write_table(table, 'data.parquet')\n\n# Read metadata\nparquet_file = pq.ParquetFile('data.parquet')\nprint(parquet_file.schema.metadata)\n\n# Column statistics (min/max for filtering)\nmetadata = parquet_file.metadata\nfor i in range(metadata.num_row_groups):\n    rg = metadata.row_group(i)\n    for j in range(rg.num_columns):\n        col = rg.column(j)\n        if col.statistics:\n            print(f\"{col.path_in_schema}: min={col.statistics.min}, max={col.statistics.max}\")\n```\n\n## Delta Lake Integration\n\n```python\nfrom deltalake import DeltaTable, write_deltalake\n\n# Write as Delta table (versioned parquet)\nwrite_deltalake('delta_table/', df, mode='overwrite')\n\n# Append data\nwrite_deltalake('delta_table/', new_df, mode='append')\n\n# Read Delta table\ndt = DeltaTable('delta_table/')\ndf = dt.to_pandas()\n\n# Time travel\ndf_old = dt.load_version(0).to_pandas()\n\n# Compact small files\ndt.optimize.compact()\n\n# Vacuum old versions\ndt.vacuum(retention_hours=168)  # Keep 7 days\n```\n\n## Performance Tips\n\n```python\n# 1. Use appropriate column types\nschema = pa.schema([\n    ('category', pa.dictionary(pa.int8(), pa.string())),  # For repeated strings\n    ('count', pa.int32()),  # Not int64 if values fit\n])\n\n# 2. Sort data before writing (improves predicate pushdown)\ndf = df.sort_values(['date', 'category'])\ndf.to_parquet('sorted.parquet')\n\n# 3. Use column selection\ndf = pd.read_parquet('data.parquet', columns=['needed', 'columns'])\n\n# 4. Use filters for row pruning\ndf = pd.read_parquet('data/', filters=[('status', '==', 'active')])\n\n# 5. Parallel reads\nimport pyarrow.dataset as ds\ndataset = ds.dataset('data/', format='parquet')\ntable = dataset.to_table(use_threads=True)\n```\n\n## Conversion Utilities\n\n```python\ndef csv_to_parquet(\n    csv_path: str,\n    parquet_path: str,\n    chunk_size: int = 100_000\n) -> None:\n    \"\"\"Convert large CSV to Parquet efficiently.\"\"\"\n    writer = None\n\n    for chunk in pd.read_csv(csv_path, chunksize=chunk_size):\n        table = pa.Table.from_pandas(chunk)\n\n        if writer is None:\n            writer = pq.ParquetWriter(parquet_path, table.schema)\n\n        writer.write_table(table)\n\n    writer.close()\n\ndef json_to_parquet(json_path: str, parquet_path: str) -> None:\n    \"\"\"Convert JSON lines to Parquet.\"\"\"\n    df = pd.read_json(json_path, lines=True)\n    df.to_parquet(parquet_path, compression='snappy')\n```"
              },
              {
                "name": "sql-patterns",
                "description": "Advanced SQL patterns including window functions, CTEs, recursive queries, and optimization techniques.",
                "path": "plugins/majestic-data/skills/sql-patterns/SKILL.md",
                "frontmatter": {
                  "name": "sql-patterns",
                  "description": "Advanced SQL patterns including window functions, CTEs, recursive queries, and optimization techniques.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash"
                },
                "content": "# SQL-Patterns\n\nAdvanced SQL patterns for data engineering beyond basic SELECT/JOIN.\n\n## Common Table Expressions (CTEs)\n\n```sql\n-- Chain transformations readably\nWITH\n  active_users AS (\n    SELECT user_id, email\n    FROM users\n    WHERE status = 'active'\n  ),\n  user_orders AS (\n    SELECT u.user_id, COUNT(*) as order_count\n    FROM active_users u\n    JOIN orders o ON u.user_id = o.user_id\n    GROUP BY u.user_id\n  )\nSELECT * FROM user_orders WHERE order_count > 5;\n```\n\n## Window Functions\n\n```sql\n-- Row numbering within groups\nSELECT *,\n  ROW_NUMBER() OVER (PARTITION BY category ORDER BY created_at DESC) as rn\nFROM products;\n\n-- Running totals\nSELECT\n  date,\n  revenue,\n  SUM(revenue) OVER (ORDER BY date) as cumulative_revenue\nFROM daily_sales;\n\n-- Percent of total\nSELECT\n  category,\n  sales,\n  sales * 100.0 / SUM(sales) OVER () as pct_of_total\nFROM category_sales;\n\n-- Lead/Lag for time series\nSELECT\n  date,\n  value,\n  LAG(value, 1) OVER (ORDER BY date) as prev_value,\n  value - LAG(value, 1) OVER (ORDER BY date) as change\nFROM metrics;\n\n-- Ranking with ties\nSELECT *,\n  RANK() OVER (ORDER BY score DESC) as rank,       -- 1,2,2,4\n  DENSE_RANK() OVER (ORDER BY score DESC) as drank -- 1,2,2,3\nFROM scores;\n```\n\n## Recursive CTEs\n\n```sql\n-- Hierarchical data (org chart, categories)\nWITH RECURSIVE org_tree AS (\n  -- Base case: top-level managers\n  SELECT id, name, manager_id, 1 as depth\n  FROM employees\n  WHERE manager_id IS NULL\n\n  UNION ALL\n\n  -- Recursive case: subordinates\n  SELECT e.id, e.name, e.manager_id, t.depth + 1\n  FROM employees e\n  JOIN org_tree t ON e.manager_id = t.id\n)\nSELECT * FROM org_tree;\n\n-- Generate date series\nWITH RECURSIVE dates AS (\n  SELECT DATE '2024-01-01' as dt\n  UNION ALL\n  SELECT dt + INTERVAL '1 day'\n  FROM dates\n  WHERE dt < DATE '2024-12-31'\n)\nSELECT * FROM dates;\n```\n\n## CASE Expressions\n\n```sql\n-- Simple CASE\nSELECT\n  CASE status\n    WHEN 'A' THEN 'Active'\n    WHEN 'I' THEN 'Inactive'\n    ELSE 'Unknown'\n  END as status_label\nFROM users;\n\n-- Searched CASE for ranges\nSELECT\n  CASE\n    WHEN age < 18 THEN 'Minor'\n    WHEN age < 65 THEN 'Adult'\n    ELSE 'Senior'\n  END as age_group\nFROM users;\n\n-- Conditional aggregation\nSELECT\n  COUNT(*) as total,\n  COUNT(*) FILTER (WHERE status = 'active') as active_count,  -- PostgreSQL\n  SUM(CASE WHEN status = 'active' THEN 1 ELSE 0 END) as active_count  -- ANSI\nFROM users;\n```\n\n## UPSERT Patterns\n\n```sql\n-- PostgreSQL: INSERT ON CONFLICT\nINSERT INTO inventory (sku, quantity, updated_at)\nVALUES ('ABC123', 100, NOW())\nON CONFLICT (sku) DO UPDATE SET\n  quantity = EXCLUDED.quantity,\n  updated_at = EXCLUDED.updated_at;\n\n-- MySQL: INSERT ON DUPLICATE KEY\nINSERT INTO inventory (sku, quantity, updated_at)\nVALUES ('ABC123', 100, NOW())\nON DUPLICATE KEY UPDATE\n  quantity = VALUES(quantity),\n  updated_at = VALUES(updated_at);\n\n-- SQLite: INSERT OR REPLACE\nINSERT OR REPLACE INTO inventory (sku, quantity, updated_at)\nVALUES ('ABC123', 100, datetime('now'));\n```\n\n## Efficient Pagination\n\n```sql\n-- BAD: OFFSET for large pages\nSELECT * FROM orders ORDER BY id LIMIT 20 OFFSET 10000;\n\n-- GOOD: Keyset pagination\nSELECT * FROM orders\nWHERE id > 10000  -- last seen id\nORDER BY id\nLIMIT 20;\n```\n\n## Batch Operations\n\n```sql\n-- Batch DELETE with limit (avoid long locks)\nDELETE FROM logs\nWHERE created_at < NOW() - INTERVAL '90 days'\nLIMIT 10000;\n\n-- Batch UPDATE\nUPDATE orders\nSET status = 'archived'\nWHERE id IN (\n  SELECT id FROM orders\n  WHERE status = 'completed'\n  AND completed_at < NOW() - INTERVAL '1 year'\n  LIMIT 1000\n);\n```\n\n## Index-Friendly Queries\n\n```sql\n-- BAD: Function on indexed column\nSELECT * FROM users WHERE LOWER(email) = 'test@example.com';\n\n-- GOOD: Store lowercase or use expression index\nSELECT * FROM users WHERE email_lower = 'test@example.com';\n-- Or: CREATE INDEX idx_email_lower ON users (LOWER(email));\n\n-- BAD: Leading wildcard\nSELECT * FROM products WHERE name LIKE '%widget%';\n\n-- GOOD: Full-text search or prefix match\nSELECT * FROM products WHERE name LIKE 'widget%';\n```\n\n## NULL Handling\n\n```sql\n-- COALESCE for defaults\nSELECT COALESCE(nickname, first_name, 'Anonymous') as display_name\nFROM users;\n\n-- NULLIF to convert values to NULL\nSELECT NULLIF(status, '') as status  -- empty string -> NULL\nFROM records;\n\n-- IS DISTINCT FROM (NULL-safe comparison)\nSELECT * FROM a\nWHERE a.value IS DISTINCT FROM b.value;  -- treats NULL != NULL as false\n```\n\n## LATERAL Joins\n\n```sql\n-- Top N per group\nSELECT d.name, t.product, t.revenue\nFROM departments d\nCROSS JOIN LATERAL (\n  SELECT product, revenue\n  FROM sales\n  WHERE sales.dept_id = d.id\n  ORDER BY revenue DESC\n  LIMIT 3\n) t;\n```\n\n## Materialized Views\n\n```sql\n-- Create for expensive aggregations\nCREATE MATERIALIZED VIEW daily_stats AS\nSELECT\n  DATE_TRUNC('day', created_at) as date,\n  COUNT(*) as total_orders,\n  SUM(amount) as revenue\nFROM orders\nGROUP BY 1;\n\n-- Refresh periodically\nREFRESH MATERIALIZED VIEW CONCURRENTLY daily_stats;\n```\n\n## Query Optimization Checklist\n\n1. **Check EXPLAIN ANALYZE** - Look for sequential scans on large tables\n2. **Add missing indexes** - Columns in WHERE, JOIN, ORDER BY\n3. **Avoid SELECT *** - Fetch only needed columns\n4. **Use EXISTS over IN** - For correlated subqueries\n5. **Batch large operations** - Avoid long-running transactions\n6. **Partition large tables** - By date or category\n7. **Use connection pooling** - Avoid connection overhead"
              }
            ]
          },
          {
            "name": "majestic-marketing",
            "description": "Marketing and SEO tools for Claude Code. Includes 17 specialized agents, 6 commands, and 40 skills.",
            "source": "./plugins/majestic-marketing",
            "category": null,
            "version": "3.16.0",
            "author": {
              "name": "David Paluy",
              "url": "https://github.com/dpaluy",
              "email": "marketplace@it.majesticlabs.dev"
            },
            "install_commands": [
              "/plugin marketplace add majesticlabs-dev/majestic-marketplace",
              "/plugin install majestic-marketing@majestic-marketplace"
            ],
            "signals": {
              "stars": 16,
              "forks": 1,
              "pushed_at": "2026-01-12T22:29:39Z",
              "created_at": "2025-11-26T21:43:21Z",
              "license": "NOASSERTION"
            },
            "commands": [
              {
                "name": "/start",
                "description": "Marketing strategist that routes you to the right skill(s). Use when you don't know where to start, have a vague goal, or need a multi-step workflow.",
                "path": "plugins/majestic-marketing/commands/start.md",
                "frontmatter": {
                  "name": "majestic-marketing:start",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, AskUserQuestion",
                  "description": "Marketing strategist that routes you to the right skill(s). Use when you don't know where to start, have a vague goal, or need a multi-step workflow."
                },
                "content": "# Marketing Orchestrator\n\nYou're the strategist layer. Ask the right questions, diagnose the situation, and route to the right skill(s) in the right sequence.\n\n**Role:** Fractional CMO in a box. Figure out what they need before diving into tactics.\n\n## Skill Registry\n\n| Skill | What It Does | When to Use |\n|-------|--------------|-------------|\n| `brand-voice` | Defines how you sound | Starting point if voice undefined |\n| `positioning-angles` | Finds differentiated angle | When unclear what makes them different |\n| `keyword-research` | Finds what to write about | Starting content strategy |\n| `lead-magnet` | Creates opt-in offer concepts | Building email list |\n| `seo-content` | Writes content that ranks | After keyword research |\n| `direct-response-copy` | Writes conversion copy | Landing pages, emails, ads |\n| `newsletter` | Creates newsletter editions | Ongoing audience communication |\n| `email-sequences` | Builds conversion sequences | Welcome, nurture, launch flows |\n| `content-atomizer` | Turns 1 piece into many | Distribution/repurposing |\n\n## Skill Dependencies\n\n```\nFOUNDATION (do first if missing)\n brand-voice (how you sound)\n positioning-angles (how you're different)\n\nSTRATEGY (builds on foundation)\n keyword-research (what to write)\n lead-magnet (what to give away)\n\nEXECUTION (requires strategy)\n seo-content (needs keywords)\n direct-response-copy (needs positioning, voice)\n newsletter (needs voice)\n email-sequences (needs lead-magnet, positioning)\n\nDISTRIBUTION\n content-atomizer (needs content to atomize)\n```\n\n## Step 1: Qualifying Questions\n\nUse `AskUserQuestion` with these questions:\n\n### Question 1: Primary Goal\n\n\"What's your primary marketing goal right now?\"\n\nOptions:\n1. **Get found online** - SEO, content, organic traffic\n2. **Build email list** - Lead generation\n3. **Convert more visitors** - Sales, landing pages\n4. **Build authority** - Thought leadership\n5. **Launch something** - New product/offer\n6. **Not sure** - Need help figuring it out\n\n### Question 2: Current Assets\n\n\"What do you already have?\" (multi-select)\n\nOptions:\n- Defined brand voice\n- Clear positioning\n- Keyword strategy\n- Lead magnet\n- Landing pages\n- Email list\n- Email sequences\n- Blog content\n- Newsletter\n\n### Question 3: Timeline\n\n\"What's your timeline?\"\n\nOptions:\n1. **Today** - Need something now\n2. **This week** - Short sprint\n3. **Long term** - Building a system\n\n## Step 2: Route Based on Answers\n\n### By Goal\n\n| Goal | Route |\n|------|-------|\n| Get found online | `keyword-research`  `seo-content`  `content-atomizer` |\n| Build email list | `lead-magnet`  `direct-response-copy`  `email-sequences` |\n| Convert visitors | `positioning-angles`  `direct-response-copy` |\n| Build authority | `brand-voice`  `newsletter` OR `seo-content` |\n| Launch something | Full launch sequence (see below) |\n| Not sure | Continue diagnosis based on gaps |\n\n### By Missing Assets\n\n| Missing | Run This First |\n|---------|----------------|\n| Brand voice | `brand-voice` |\n| Positioning | `positioning-angles` |\n| Keyword strategy | `keyword-research` |\n| Lead magnet | `lead-magnet` |\n| Landing pages | `direct-response-copy` |\n| Content | `seo-content` |\n| Newsletter | `newsletter` |\n| Email sequences | `email-sequences` |\n| Distribution | `content-atomizer` |\n\n### By Timeline\n\n| Timeline | Scope |\n|----------|-------|\n| Today | Single highest-impact skill |\n| This week | 2-3 skill sequence |\n| Long term | Full system build |\n\n## Pre-Built Workflows\n\n### \"Starting From Zero\"\n```\n1. brand-voice\n2. positioning-angles\n3. keyword-research\n4. lead-magnet\n5. direct-response-copy (landing page)\n6. newsletter (first edition)\n```\n\n### \"I Need Leads\"\n```\n1. positioning-angles (if unclear)\n2. lead-magnet\n3. direct-response-copy (landing page)\n4. email-sequences (welcome sequence)\n```\n\n### \"I Need Content Strategy\"\n```\n1. brand-voice (if undefined)\n2. keyword-research\n3. seo-content (repeat per priority topic)\n```\n\n### \"I'm Launching Something\"\n```\n1. positioning-angles\n2. lead-magnet (waitlist incentive)\n3. direct-response-copy (landing page + ads)\n4. email-sequences (launch sequence)\n5. newsletter (launch edition)\n```\n\n### \"Starting a Newsletter\"\n```\n1. brand-voice\n2. positioning-angles (unique angle)\n3. newsletter (template + first editions)\n```\n\n### \"Marketing Isn't Working\"\n```\n1. Audit positioning with positioning-angles\n2. Compare copy to direct-response-copy principles\n3. Check content against seo-content checklist\n4. Identify weakest link\n5. Re-run relevant skill fresh\n```\n\n## Step 3: Provide Recommendation\n\nFormat your recommendation as:\n\n```markdown\n## Marketing Roadmap\n\nBased on your goal ([goal]) and current assets, here's my recommendation:\n\n### Immediate: [Skill Name]\n**Why:** [One sentence explanation]\n**Output:** [What they'll get]\n**Time:** [Estimate]\n\n### Then: [Skill Name]\n**Why:** [How it builds on previous]\n**Output:** [What they'll get]\n\n### After That: [Skill Name] (optional)\n**Why:** [End result]\n\n---\n\n**Ready to start?** I'll need [specific inputs] to run [first skill].\n```\n\n## Context Passing Rules\n\nWhen routing between skills, compress context:\n\n| From | Pass This | Not This |\n|------|-----------|----------|\n| brand-voice | Voice summary (3 sentences) | Full profile |\n| positioning-angles | Winning angle (1-2 sentences) | All 5 options |\n| keyword-research | Priority cluster + 5 keywords | Full research |\n| lead-magnet | Hook + format | Full concept doc |\n\n**Run fresh when:**\n- Output from chained skills feels generic\n- You want bold, opinionated copy\n- Previous skill output was mediocre\n- Testing a different angle\n\n## Tracking Progress\n\nAfter each skill, update status:\n\n```markdown\n## Marketing Assets Status\n\n### Foundation\n- [ ] Brand voice: [done/missing]\n- [ ] Positioning: [done/missing]\n\n### Strategy\n- [ ] Keywords: [done/missing]\n- [ ] Lead magnet: [done/missing]\n\n### Execution\n- [ ] Landing pages: [count]\n- [ ] Content: [count]\n- [ ] Newsletter: [done/missing]\n- [ ] Email sequences: [done/missing]\n\n### Next Up\n[Recommendation based on gaps]\n```\n\n## Anti-Patterns\n\n### Don't:\n- Jump to tactics without diagnosis\n- Run execution without foundation (voice, positioning)\n- Try everything at once\n- Feed everything from every skill into the next\n- Chain skills when output is declining\n\n### Do:\n- Start with qualifying questions\n- Build foundation before execution\n- Sequence logically\n- Compress context between skills\n- Run fresh when output feels off"
              }
            ],
            "skills": [
              {
                "name": "aeo-scorecard",
                "description": "Measurement framework for Answer Engine Optimization (AEO). Provides AI visibility metrics, share of voice tracking, citation monitoring, and referral demand measurement. Use when discussing AEO/GEO metrics or AI visibility performance.",
                "path": "plugins/majestic-marketing/skills/aeo-scorecard/SKILL.md",
                "frontmatter": {
                  "name": "aeo-scorecard",
                  "description": "Measurement framework for Answer Engine Optimization (AEO). Provides AI visibility metrics, share of voice tracking, citation monitoring, and referral demand measurement. Use when discussing AEO/GEO metrics or AI visibility performance.",
                  "triggers": [
                    "AEO metrics",
                    "AI visibility measurement",
                    "answer engine performance",
                    "GEO scorecard",
                    "AI share of voice",
                    "citation tracking"
                  ]
                },
                "content": "# AEO Scorecard: Measuring AI Visibility\n\n## The Four AEO Metrics\n\nTrack these metrics to measure Answer Engine Optimization success:\n\n### 1. AI Visibility\n\n**Definition:** Are you recommended for your priority queries?\n\n**How to Measure:**\n- Test priority queries in ChatGPT, Perplexity, Gemini, Claude\n- Document which queries return your brand\n- Track visibility over time (weekly/monthly)\n\n**Tools:**\n- HubSpot AEO Grader (free audit)\n- XFunnel (comprehensive tracking)\n- Manual testing with query lists\n\n**Target:** Appear in recommendations for 60%+ of priority queries.\n\n### 2. AI Share of Voice\n\n**Definition:** Of all recommendations for a query, how often is YOUR brand named vs. competitors?\n\n**Calculation:**\n```\nShare of Voice = (Your mentions / Total brand mentions)  100\n```\n\n**Why It Matters:**\n- Distinguishes platform changes (everyone drops) from brand failures (you drop, competitors stay)\n- Tracks competitive position in AI recommendations\n\n**Example:**\n- Query: \"Best CRM for small business\"\n- Total recommendations across 10 AI sessions: 50 brand mentions\n- Your brand mentioned: 8 times\n- Share of Voice: 16%\n\n**Target:** Match or exceed your traditional search market share.\n\n### 3. AI Citations\n\n**Definition:** How often is YOUR WEBSITE the source of the answer?\n\n**Why It Matters:**\n- Being cited = more positive recommendation\n- Citation = authority signal for future queries\n- Direct traffic potential from \"learn more\" links\n\n**How to Track:**\n- Monitor AI bot traffic in analytics (GPTBot, Anthropic-AI, etc.)\n- Use XFunnel to track citation sources\n- Test queries and note source attribution\n\n**Target:** Be cited (not just mentioned) in 30%+ of relevant queries.\n\n### 4. Referral Demand\n\n**Definition:** Traffic and conversions that originated in AI but didn't click through immediately.\n\n**The Problem:** AI users often:\n1. Get answer from AI\n2. Remember brand name\n3. Search directly or visit later\n4. No referral attribution\n\n**How to Measure:**\nImplement post-purchase survey:\n- \"How did you first hear about us?\"\n- Options: \"AI assistant (ChatGPT, Perplexity, etc.)\"\n\n**Survey Placement:**\n- Post-purchase confirmation\n- Onboarding flow\n- Trial signup\n\n**Target:** Track trend over time; aim for growth in AI-attributed discovery.\n\n## AEO Scorecard Template\n\n```\n\n                    AEO SCORECARD                        \n                    Month: [DATE]                        \n\n                                                         \n  AI VISIBILITY                          [X]%  Target: 60%\n                   \n  Priority queries with brand presence: X/Y              \n                                                         \n  AI SHARE OF VOICE                      [X]%  Target: Match SEO\n                   \n  Your mentions / Total brand mentions                   \n  Competitor A: X%  |  Competitor B: X%  |  You: X%      \n                                                         \n  AI CITATIONS                           [X]%  Target: 30%\n                   \n  Queries where YOUR site is cited: X/Y                  \n                                                         \n  REFERRAL DEMAND                        [X]%  Trend: \n                   \n  Post-purchase survey: \"Found via AI\"                   \n                                                         \n\n```\n\n## Measurement Tools\n\n| Tool | What It Measures | Cost |\n|------|------------------|------|\n| **HubSpot AEO Grader** | AI visibility audit | Free |\n| **XFunnel** | Full AEO tracking suite | Paid |\n| **Manual Testing** | Query-by-query visibility | Free (time) |\n| **Google Analytics** | AI bot traffic | Free |\n| **Post-Purchase Survey** | Referral demand | Free |\n\n## Setting Up AI Bot Tracking\n\nIn Google Analytics 4, create a segment for AI crawler traffic:\n\n**User Agents to Track:**\n- `GPTBot` (OpenAI)\n- `Anthropic-AI` (Claude)\n- `Google-Extended` (Gemini)\n- `PerplexityBot`\n- `CCBot` (Common Crawl, used by many)\n\n## Interpreting Results\n\n**Scenario Analysis:**\n\n| Visibility | Share of Voice | Diagnosis |\n|------------|----------------|-----------|\n|  Down |  Down | Platform algorithm change (industry-wide) |\n|  Down |  Stable | Your content quality declined |\n|  Stable |  Down | Competitors improved |\n|  Up |  Up | Your AEO strategy is working |\n\n## Action Triggers\n\n| Metric | Threshold | Action |\n|--------|-----------|--------|\n| Visibility < 40% | Critical | Run `llm-optimizer` on all priority content |\n| Share of Voice < competitor | Competitive gap | Run `entity-builder` for authority building |\n| Citations < 20% | Authority gap | Add original data, improve fact-density |\n| Referral Demand flat | Attribution gap | Improve survey placement and options |\n\n## Monthly Review Cadence\n\n1. **Week 1:** Run visibility audit on priority queries\n2. **Week 2:** Calculate share of voice vs. top 3 competitors\n3. **Week 3:** Analyze citation sources and bot traffic\n4. **Week 4:** Review referral demand survey data\n5. **Monthly:** Update scorecard, prioritize improvements"
              },
              {
                "name": "bofu-keywords",
                "description": "Find bottom-of-funnel keywords with high purchase intent for any product. Uses Perplexity for real-time search data.",
                "path": "plugins/majestic-marketing/skills/bofu-keywords/SKILL.md",
                "frontmatter": {
                  "name": "bofu-keywords",
                  "description": "Find bottom-of-funnel keywords with high purchase intent for any product. Uses Perplexity for real-time search data.",
                  "triggers": [
                    "bofu keywords",
                    "bottom of funnel keywords",
                    "high intent keywords",
                    "buyer keywords",
                    "conversion keywords"
                  ],
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, mcp__perplexity-ask__perplexity_ask"
                },
                "content": "# Bottom-of-Funnel Keyword Finder\n\nFind high-intent keywords that indicate someone is ready to buy, sign up, or convert.\n\n## What Are BOFU Keywords?\n\nBottom-of-funnel keywords signal purchase intent:\n- **Transactional**: \"buy\", \"pricing\", \"discount\", \"coupon\"\n- **Comparative**: \"vs\", \"alternative to\", \"compared to\"\n- **Evaluative**: \"review\", \"pros and cons\", \"is it worth it\"\n- **Solution-specific**: \"best [category] for [use case]\"\n\n## Required Input\n\nAsk the user for:\n1. **Product/Service name**\n2. **Product category** (e.g., \"project management software\", \"email marketing tool\")\n3. **Known competitors** (optional but helpful)\n4. **Target use cases** (what problems does it solve?)\n\n## Research Process\n\n### Step 1: Generate Keyword Patterns\n\nApply these BOFU patterns to the product:\n\n**Transactional Intent:**\n- `[product] pricing`\n- `[product] plans`\n- `[product] free trial`\n- `[product] discount`\n- `[product] coupon code`\n- `buy [product]`\n- `[product] subscription`\n\n**Comparative Intent:**\n- `[product] vs [competitor]`\n- `[product] alternative`\n- `[product] competitors`\n- `best [category] tools`\n- `[product] compared to [competitor]`\n- `switch from [competitor] to [product]`\n\n**Evaluative Intent:**\n- `[product] review`\n- `[product] reviews [year]`\n- `is [product] worth it`\n- `[product] pros and cons`\n- `[product] honest review`\n- `[product] for [use case]`\n\n**Problem-Solution Intent:**\n- `best [category] for [use case]`\n- `[category] for small business`\n- `[category] for startups`\n- `[category] for enterprise`\n- `how to [solve problem] with [product]`\n\n### Step 2: Use Perplexity for Validation\n\nUse Perplexity MCP to research:\n1. Which competitors are commonly compared\n2. What questions people ask before buying\n3. Common objections and concerns\n4. Popular use cases and niches\n\nExample Perplexity query:\n```\nWhat are the most common questions people ask before buying [product category] software? What comparisons do they search for?\n```\n\n### Step 3: Categorize by Intent Level\n\n| Intent Level | Keyword Type | Example | Priority |\n|--------------|--------------|---------|----------|\n| **Highest** | Pricing/Buy | \"[product] pricing\" | P1 |\n| **High** | Comparison | \"[product] vs [competitor]\" | P1 |\n| **High** | Reviews | \"[product] review 2025\" | P1 |\n| **Medium** | Alternatives | \"best [category] tools\" | P2 |\n| **Medium** | Use-case | \"[category] for [niche]\" | P2 |\n\n## Output Format\n\n```markdown\n## BOFU Keywords for [Product]\n\n### Highest Intent (Ready to Buy)\n| Keyword | Search Intent | Content Type |\n|---------|---------------|--------------|\n| [product] pricing | Transactional | Pricing page |\n| [product] free trial | Transactional | Trial signup |\n| [product] discount | Transactional | Promo page |\n\n### High Intent (Comparing Options)\n| Keyword | Search Intent | Content Type |\n|---------|---------------|--------------|\n| [product] vs [competitor] | Comparative | Comparison page |\n| [product] alternative | Comparative | Comparison page |\n| [product] review | Evaluative | Review/landing page |\n\n### Medium Intent (Evaluating Category)\n| Keyword | Search Intent | Content Type |\n|---------|---------------|--------------|\n| best [category] for [use case] | Solution | Listicle/guide |\n| [category] comparison | Comparative | Comparison guide |\n\n### Keyword Clusters for Content Strategy\n\n**Cluster 1: Pricing & Plans**\n- [keyword list]\n- Recommended content: Transparent pricing page with FAQ\n\n**Cluster 2: Competitor Comparisons**\n- [keyword list]\n- Recommended content: Individual vs pages for each competitor\n\n**Cluster 3: Reviews & Social Proof**\n- [keyword list]\n- Recommended content: Customer stories, case studies\n\n### Quick Wins\nKeywords with high intent but likely low competition:\n1. [keyword] - [reason it's a quick win]\n2. [keyword] - [reason]\n3. [keyword] - [reason]\n\n### Content Recommendations\nFor each cluster, suggest specific pages to create.\n```\n\n## What This Skill Does NOT Do\n\n- Provide search volume data (use Ahrefs/SEMrush for that)\n- Guarantee rankings\n- Replace keyword research tools\n- Do competitor keyword gap analysis\n\n## When to Use This vs. Other Skills\n\n| Use `bofu-keywords` when... | Use other skills when... |\n|-----------------------------|--------------------------|\n| Need conversion-focused keywords | Need top-of-funnel content ideas |\n| Planning landing pages | Planning blog strategy |\n| Building comparison pages | Building educational content |\n| Optimizing for signups | Building brand awareness |"
              },
              {
                "name": "brand-positioning",
                "description": "Define your brand's core identity - purpose, values, personality, and positioning statement. Creates the strategic foundation that informs voice, design, and all brand decisions.",
                "path": "plugins/majestic-marketing/skills/brand-positioning/SKILL.md",
                "frontmatter": {
                  "name": "brand-positioning",
                  "description": "Define your brand's core identity - purpose, values, personality, and positioning statement. Creates the strategic foundation that informs voice, design, and all brand decisions.",
                  "triggers": [
                    "brand positioning",
                    "brand strategy",
                    "brand identity",
                    "brand purpose",
                    "brand values",
                    "positioning statement"
                  ],
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, AskUserQuestion"
                },
                "content": "# Brand Positioning Architect\n\nDefine your brand's strategic foundation - the internal identity that drives every external expression.\n\n## What This Creates\n\n| Asset | Purpose |\n|-------|---------|\n| **Brand Purpose** | Why you exist beyond profit |\n| **Brand Values** | Principles that guide decisions |\n| **Brand Personality** | Human traits that shape voice |\n| **Target Audience** | Who you serve (psychographic depth) |\n| **Brand Promise** | Core commitment to customers |\n| **Positioning Statement** | Classic strategic framework |\n\n## Relationship to Other Tools\n\n| Tool | Focus | Relationship |\n|------|-------|--------------|\n| `brand-positioning` | WHO you are (identity) | **This tool** - foundation |\n| `competitive-positioning` | HOW you differ (comparison) | Uses this as input |\n| `brand-voice` | HOW you sound (expression) | Derives from personality |\n| `ux-brief` | HOW you look (visual) | References values/personality |\n\n## Conversation Starter\n\nUse `AskUserQuestion` to gather context:\n\n\"I'll help you define your brand's strategic foundation - the identity that drives all your marketing and design decisions.\n\n**What stage are you at?**\n\n**Option A - Starting Fresh**\nAnswer discovery questions to build your positioning from scratch.\n\n**Option B - Have Existing Materials**\nShare what you have (mission statement, about page, pitch deck) and I'll extract and refine.\n\n**Option C - Repositioning**\nDescribe current positioning and what's not working.\"\n\n## Discovery Process\n\n### Phase 1: Purpose & Values\n\n**Question 1: Origin Story**\n\"Why did you start this company? What problem made you say 'someone needs to fix this'?\"\n\n**Question 2: Impact Vision**\n\"If you succeed wildly, what changes in the world? What do customers become?\"\n\n**Question 3: Non-Negotiables**\n\"What would you never do, even if profitable? What lines won't you cross?\"\n\n**Question 4: Decision Lens**\n\"When you face a hard choice, what principles guide you?\"\n\n### Phase 2: Audience Definition\n\n**Question 5: Ideal Customer**\n\"Describe your best customer - not demographics, but their mindset, frustrations, and aspirations.\"\n\n**Question 6: Emotional State**\n\"When someone finds you, what state are they in?\"\n- Frustrated (seeking relief)\n- Ambitious (seeking growth)\n- Confused (seeking clarity)\n- Skeptical (seeking proof)\n- Overwhelmed (seeking simplicity)\n\n**Question 7: Alternatives**\n\"If you didn't exist, what would they do instead? (Competitor, DIY, nothing)\"\n\n### Phase 3: Personality & Tone\n\n**Question 8: Human Traits**\n\"If your brand were a person at a dinner party, how would others describe them?\"\n- Pick 3-5: Bold, Friendly, Professional, Playful, Sophisticated, Rebellious, Trustworthy, Innovative, Warm, Direct, Quirky, Authoritative, Approachable, Provocative\n\n**Question 9: Not This**\n\"What personality would be WRONG for your brand? What should you never sound like?\"\n\n**Question 10: Reference Brands**\n\"Name 2-3 brands whose personality you admire (any industry).\"\n\n### Phase 4: Differentiation\n\n**Question 11: Unique Value**\n\"What can you honestly claim that competitors cannot?\"\n\n**Question 12: Proof**\n\"What evidence supports your unique claim? (Results, approach, team, technology)\"\n\n## Framework Application\n\n### Brand Purpose Framework\n\n**Format:** We exist to [impact] by [approach] for [audience].\n\n**Test:** Does it pass the \"so what\" test 3 times?\n- \"We make software\"  So what?\n- \"So teams collaborate better\"  So what?\n- \"So companies ship faster\"  So what?\n- \"So innovation accelerates\"  Purpose level\n\n### Values Framework\n\nEach value needs:\n\n| Component | What It Answers |\n|-----------|-----------------|\n| **Name** | What we call this value (1-2 words) |\n| **Meaning** | What it actually means to us |\n| **Behavior** | How it shows up in decisions |\n| **Anti-pattern** | What violating this looks like |\n\n**Example:**\n- **Value:** Radical Transparency\n- **Meaning:** We share context, not just conclusions\n- **Behavior:** Public roadmaps, open pricing, honest limitations\n- **Anti-pattern:** Hidden fees, vague messaging, overselling\n\n### Personality Framework\n\nMap each trait to communication implications:\n\n| Trait | Meaning | Voice Implication | Design Implication |\n|-------|---------|-------------------|-------------------|\n| Bold | We take stands | Declarative statements | High contrast, strong type |\n| Warm | We care personally | Conversational tone | Soft colors, friendly imagery |\n| Direct | We don't waste time | Short sentences | Clean layouts, clear CTAs |\n\n### Positioning Statement\n\n**Classic Format:**\n> For [target audience] who [situation/need], [Brand] is the [category] that [key benefit]. Unlike [alternatives], we [differentiator] because [reason to believe].\n\n**Parts Explained:**\n\n| Part | Purpose | Example |\n|------|---------|---------|\n| Target audience | Specificity signals fit | \"For early-stage founders\" |\n| Situation/need | Context triggers relevance | \"who need to ship fast without a dev team\" |\n| Category | Mental filing cabinet | \"a no-code platform\" |\n| Key benefit | Primary value delivered | \"that turns ideas into products in days\" |\n| Alternatives | Competitive frame | \"Unlike agencies or hiring developers\" |\n| Differentiator | Unique advantage | \"we combine templates with expert guidance\" |\n| Reason to believe | Proof/credibility | \"backed by 500+ successful launches\" |\n\n## Output Format\n\n```markdown\n# BRAND POSITIONING: [Brand Name]\n\n*Strategic foundation document v1.0*\n\n---\n\n## Brand Essence\n\n**One-liner:** [10 words capturing the brand]\n\n**Purpose:** [Why we exist]\n\n**Promise:** [What we guarantee]\n\n---\n\n## Brand Values\n\n| Value | Meaning | How It Shows Up |\n|-------|---------|-----------------|\n| [Value 1] | [What it means to us] | [Behavioral example] |\n| [Value 2] | [What it means to us] | [Behavioral example] |\n| [Value 3] | [What it means to us] | [Behavioral example] |\n\n### Values in Action\n\n**Hiring:** We look for [traits aligned with values]\n**Product:** We prioritize [features/experiences aligned with values]\n**Support:** We respond with [approach aligned with values]\n\n---\n\n## Target Audience\n\n### Primary ICP\n\n**Who:** [Specific description]\n**Pain:** [What frustrates them]\n**Desire:** [What they want to become]\n**Trigger:** [What makes them seek solutions]\n**Emotional State:** [How they feel when they find us]\n\n### What They Believe\n\n- [Belief 1 - something they already think that makes them receptive]\n- [Belief 2]\n- [Belief 3]\n\n### What They're Tired Of\n\n- [Frustration 1 with alternatives]\n- [Frustration 2]\n- [Frustration 3]\n\n---\n\n## Brand Personality\n\n### Traits\n\n| Trait | Description | Voice Implication |\n|-------|-------------|-------------------|\n| [Trait 1] | [What this means] | [How it sounds] |\n| [Trait 2] | [What this means] | [How it sounds] |\n| [Trait 3] | [What this means] | [How it sounds] |\n\n### We Are / We Are Not\n\n| We Are | We Are Not |\n|--------|------------|\n| [Positive trait] | [Opposite/extreme] |\n| [Positive trait] | [Opposite/extreme] |\n| [Positive trait] | [Opposite/extreme] |\n\n### If We Were...\n\n- **A person:** [Description - age, profession, how they'd act at a party]\n- **A celebrity:** [Name and why]\n- **A car:** [Brand/model and why]\n\n---\n\n## Competitive Position\n\n### Market Context\n\n**Category:** [What we are]\n**Alternatives:** [What customers use instead]\n**Our Lane:** [Where we uniquely fit]\n\n### Differentiation\n\n**What we do differently:** [Key differentiator]\n**Why it matters:** [Customer benefit]\n**Why believable:** [Proof points]\n\n---\n\n## Positioning Statement\n\n> For [target audience] who [situation/need],\n> [Brand] is the [category] that [key benefit].\n> Unlike [alternatives], we [differentiator]\n> because [reason to believe].\n\n### Variations\n\n**Elevator Pitch (30 sec):**\n\"[Audience] struggle with [problem]. Most [alternatives] try [their approach], but [weakness]. We're differentwe [unique approach] so you [outcome].\"\n\n**Tweet-Length:**\n\"[Hook] + [benefit] + [differentiator]\" (140 chars)\n\n**Tagline:**\n\"[3-5 words that capture essence]\"\n\n---\n\n## Strategic Guardrails\n\n### Always\n\n- [Behavior/approach we commit to]\n- [Behavior/approach we commit to]\n- [Behavior/approach we commit to]\n\n### Never\n\n- [Line we won't cross]\n- [Line we won't cross]\n- [Line we won't cross]\n\n---\n\n## Using This Document\n\n| When Creating | Reference |\n|---------------|-----------|\n| Marketing copy | Purpose, personality, positioning statement |\n| Product decisions | Values, target audience beliefs |\n| Visual design | Personality traits, \"If we were...\" |\n| Voice guide | Personality, We Are/We Are Not |\n| Sales messaging | Positioning variations, differentiation |\n| Hiring | Values, guardrails |\n\n---\n\n## Next Steps\n\n1. [ ] Share with team for alignment\n2. [ ] Create brand-voice.md using personality section\n3. [ ] Run competitive-positioning to sharpen differentiation\n4. [ ] Update homepage to reflect positioning\n5. [ ] Review quarterly - positioning evolves\n```\n\n## File Output\n\nSave to: `docs/brand-positioning.md` or `.claude/brand-positioning.md`\n\nOffer to create related documents:\n- `brand-voice.md` - Invoke `brand-voice` skill with personality as input\n- Run `competitive-positioning` - Sharpen differentiation with research\n\n## Quality Standards\n\n- **Specific over generic** - \"We're customer-focused\" is worthless\n- **Honest** - Don't manufacture differentiation that doesn't exist\n- **Testable** - Values must guide actual decisions\n- **Memorable** - Positioning should be repeatable without notes\n- **Connected** - Each section should reinforce others\n\n## Anti-Patterns to Avoid\n\n| Anti-Pattern | Problem | Fix |\n|--------------|---------|-----|\n| \"We value excellence\" | Every company claims this | What specific behavior does this require? |\n| \"For everyone who...\" | No positioning power | Narrow to specific audience segment |\n| \"We're the best\" | Unverifiable claim | What specific advantage makes you better? |\n| \"Innovative solutions\" | Meaningless buzzword | What specifically do you do differently? |\n| 7+ values | Unactionable | Prioritize to 3-5 that actually guide decisions |\n\n## Integration with Other Skills\n\nAfter creating positioning:\n\n1. **`brand-voice`** - Feed personality traits to create voice guide\n2. **`competitive-positioning`** - Research competitors against your differentiation\n3. **`ux-brief`** - Reference personality for visual design direction\n4. **`style-guide/new`** - Use brand context for writing style decisions\n5. **`landing-page-builder`** - Apply positioning to page copy"
              },
              {
                "name": "brand-voice",
                "description": "Codify your brand's writing style into a reusable voice guide. Analyzes existing content to extract patterns, then generates a comprehensive style document for consistent messaging across all channels.",
                "path": "plugins/majestic-marketing/skills/brand-voice/SKILL.md",
                "frontmatter": {
                  "name": "brand-voice",
                  "description": "Codify your brand's writing style into a reusable voice guide. Analyzes existing content to extract patterns, then generates a comprehensive style document for consistent messaging across all channels.",
                  "triggers": [
                    "brand voice",
                    "voice guide",
                    "writing style",
                    "tone of voice",
                    "brand style",
                    "voice document"
                  ],
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, AskUserQuestion"
                },
                "content": "# Brand Voice Architect\n\nCodify your brand's unique voice into a living style guide that ensures consistency across all contentwebsite, emails, social, ads, and beyond.\n\n## Deep Discovery (Optional)\n\nFor thorough voice exploration before creating the guide, run:\n\n```\n/majestic-tools:interview \"brand voice\"\n```\n\nThis triggers a conversational interview with brand-specific questions about voice identity, audience connection, tone boundaries, and existing patterns. The interview output can then be synthesized into a full voice guide using this skill.\n\n## Why This Matters\n\n- **Consistency builds trust** - Readers recognize you instantly\n- **Scales content creation** - Anyone can write on-brand\n- **Saves editing time** - Clear rules reduce revisions\n- **Enables AI assistance** - Voice guides make AI-generated content usable\n\n## Conversation Starter\n\nUse `AskUserQuestion` to gather initial context. Begin by asking:\n\n\"I'll help you codify your brand voice into a reusable style guide.\n\n**Please provide one of these:**\n\n**Option A - Existing Content (Preferred)**\nShare 3-5 pieces of content you love that represent your voice:\n- Website copy, emails, social posts, or blog articles\n- Paste directly or provide URLs/file paths\n\n**Option B - Brand Description**\nIf you don't have content yet, describe:\n1. **Industry/Product**: What do you sell?\n2. **Target Audience**: Who are you talking to?\n3. **Brand Personality**: 3-5 adjectives that describe your brand\n4. **Brands You Admire**: Whose voice do you like? (competitors or not)\n5. **Avoid Sounding Like**: What tone would be wrong for you?\n\nI'll analyze patterns and create your voice guide.\"\n\n## Analysis Process\n\n### If Content Provided (Option A)\n\nExtract patterns across all samples:\n\n**Voice Patterns to Identify:**\n- Sentence length distribution (short/medium/long)\n- Use of contractions (can't vs cannot)\n- First/second/third person preference\n- Active vs passive voice ratio\n- Question usage frequency\n- Exclamation point usage\n- Emoji/punctuation style\n- Paragraph length patterns\n- Opening patterns (how pieces start)\n- Closing patterns (how pieces end)\n\n**Vocabulary Patterns:**\n- Recurring power words\n- Industry jargon usage (heavy/light/none)\n- Colloquialisms and slang\n- Metaphor and analogy patterns\n- Words that appear frequently\n- Words that are notably absent\n\n**Tone Markers:**\n- Formality level (1-10 scale)\n- Humor usage (frequent/occasional/never)\n- Confidence level (bold claims vs hedging)\n- Emotional warmth (distant vs intimate)\n- Authority stance (peer vs expert vs mentor)\n\n### If Description Provided (Option B)\n\nUse WebSearch to find:\n- Example content from admired brands\n- Industry voice benchmarks\n- Competitor voice analysis\n- Audience communication preferences\n\nThen synthesize a voice based on inputs.\n\n## Voice Guide Structure\n\n### 1. Voice DNA (Core Identity)\n\n```markdown\n## Voice DNA\n\n### Brand Personality\n[3-5 defining traits with explanations]\n\n| Trait | What It Means | How It Shows Up |\n|-------|---------------|-----------------|\n| [Trait 1] | [Definition] | [Example in copy] |\n| [Trait 2] | [Definition] | [Example in copy] |\n| [Trait 3] | [Definition] | [Example in copy] |\n\n### The Elevator Pitch\n\"We sound like [description]. Think [reference point] meets [reference point].\"\n\n### If Our Brand Were a Person\n[2-3 sentence description of brand as humanage, profession, how they talk at a party]\n```\n\n### 2. Tone Spectrum\n\n```markdown\n## Tone Spectrum\n\nOur voice stays consistent, but tone adapts to context.\n\n| Context | Tone | Example |\n|---------|------|---------|\n| Homepage hero | Confident, bold | \"Stop guessing. Start knowing.\" |\n| Error message | Helpful, calm | \"Something went wrong. Let's fix it together.\" |\n| Success message | Warm, celebratory | \"You did it! Your first campaign is live.\" |\n| Sales email | Direct, valuable | \"Here's what's working for teams like yours.\" |\n| Support docs | Clear, patient | \"First, open Settings. You'll find it in the top right.\" |\n| Social media | Casual, engaging | \"Hot take: [opinion]. Fight me in the comments.\" |\n| Legal/Terms | Clear, straightforward | \"Your data belongs to you. Here's exactly what we collect.\" |\n\n### Tone Dial\n\n**Formal  Casual**\n[Mark where brand sits: e.g., \"We sit at 3/10professional but never stiff.\"]\n\n**Serious  Playful**\n[Mark where brand sits: e.g., \"We sit at 6/10we crack jokes but know when to be serious.\"]\n\n**Reserved  Enthusiastic**\n[Mark where brand sits: e.g., \"We sit at 7/10we're excited about what we do and it shows.\"]\n```\n\n### 3. Vocabulary Guide\n\n```markdown\n## Vocabulary\n\n### Words We Love\n| Word/Phrase | Why | Use When |\n|-------------|-----|----------|\n| [Word] | [Reason] | [Context] |\n\n### Words We Avoid\n| Avoid | Use Instead | Why |\n|-------|-------------|-----|\n| [Word] | [Alternative] | [Reason] |\n\n### Industry Jargon Rules\n[How much jargon is acceptable and when]\n\n### Pronouns\n- **We/Our**: [When to use]\n- **You/Your**: [When to use]\n- **I/My**: [When to use, if ever]\n- **They/The company**: [When to use, if ever]\n```\n\n### 4. Sentence Style\n\n```markdown\n## Sentence Style\n\n### Length\n- **Target**: [X words average per sentence]\n- **Mix**: [Short sentences for punch, longer for explanation]\n- **Paragraphs**: [Max X sentences per paragraph]\n\n### Structure Preferences\n- **Contractions**: [Always/Sometimes/Never]  \"you're\" vs \"you are\"\n- **Active voice**: [Percentage target]  \"We built this\" vs \"This was built\"\n- **Starting sentences**: [Patterns to use/avoid]\n- **Questions**: [Rhetorical? Direct? Frequency?]\n\n### Punctuation\n- **Exclamation points**: [Rules for usage]\n- **Em dashes**: [Heavy use/light use]\n- **Ellipses**: [Never/sparingly/frequently]\n- **Oxford comma**: [Yes/No]\n- **Emojis**: [Never/sparingly/frequently + which ones]\n```\n\n### 5. Formatting Conventions\n\n```markdown\n## Formatting\n\n### Headlines\n- **Case**: [Sentence case / Title Case]\n- **Length**: [Max X words]\n- **Punctuation**: [Period/No period]\n\n### CTAs\n- **Style**: [Action verb first]\n- **Examples**: [List of preferred CTA phrases]\n\n### Lists\n- **Bullet style**: [Dashes/dots/checkmarks]\n- **Capitalization**: [First word only / Each word]\n- **Punctuation**: [Periods/No periods]\n\n### Numbers\n- **Spell out**: [One through ten / all / none]\n- **Percentages**: [50% vs fifty percent]\n- **Currency**: [$X vs X dollars]\n```\n\n### 6. Do/Don't Examples\n\n```markdown\n## Do/Don't Examples\n\n### Homepage Hero\n \"Welcome to [Company]. We are the leading provider of innovative solutions.\"\n \"[Bold claim that shows, not tells].\"\n\n### Feature Description\n \"Our platform leverages cutting-edge technology to deliver best-in-class results.\"\n \"[Specific outcome in plain language].\"\n\n### Email Subject Line\n \"Newsletter #47 - Monthly Update\"\n \"[Curiosity hook or specific benefit].\"\n\n### Error Message\n \"Error 403: Forbidden access denied.\"\n \"[Human explanation + next step].\"\n\n### CTA Button\n \"Submit\" / \"Click Here\"\n \"[Action + Outcome]\"  \"Start Free Trial\" / \"Get Your Report\"\n\n### Social Post\n \"We are pleased to announce...\"\n \"[Direct statement or hook].\"\n```\n\n### 7. Voice Validation Checklist\n\n```markdown\n## Voice Checklist\n\nBefore publishing, verify:\n\n### Personality Check\n- [ ] Could this only be written by us? (Not generic)\n- [ ] Does it match our personality traits?\n- [ ] Would our ideal customer feel spoken to?\n\n### Tone Check\n- [ ] Is the tone appropriate for this context?\n- [ ] Does it match our position on the tone dials?\n\n### Language Check\n- [ ] No words from the \"avoid\" list?\n- [ ] Jargon level appropriate for audience?\n- [ ] Contractions used consistently?\n\n### Style Check\n- [ ] Sentence length varied?\n- [ ] Active voice dominant?\n- [ ] Formatting follows conventions?\n\n### Final Gut Check\n- [ ] Read it alouddoes it sound like us?\n```\n\n## Output Format\n\n```markdown\n# BRAND VOICE GUIDE: [Brand Name]\n\n*Version 1.0 | Created [Date]*\n\n---\n\n## Quick Reference\n\n**We are:** [3 traits]\n**We sound like:** [1-sentence description]\n**We never sound:** [What to avoid]\n\n---\n\n## 1. VOICE DNA\n[Brand personality section]\n\n---\n\n## 2. TONE SPECTRUM\n[Context-based tone adjustments]\n\n---\n\n## 3. VOCABULARY\n[Words we love/avoid + jargon rules]\n\n---\n\n## 4. SENTENCE STYLE\n[Length, structure, punctuation rules]\n\n---\n\n## 5. FORMATTING\n[Headlines, CTAs, lists, numbers]\n\n---\n\n## 6. DO/DON'T EXAMPLES\n[Before/after examples by content type]\n\n---\n\n## 7. VOICE CHECKLIST\n[Pre-publish validation]\n\n---\n\n## APPENDIX: Sample Rewrites\n\n### Original (Off-Brand)\n> [Example of generic/wrong voice]\n\n### Revised (On-Brand)\n> [Same content in brand voice]\n\n### What Changed\n- [Change 1]\n- [Change 2]\n- [Change 3]\n```\n\n## File Output\n\nAfter generating the guide, offer to save it:\n\n\"Would you like me to save this voice guide to a file?\n\nSuggested location: `docs/brand-voice.md` or `.claude/brand-voice.md`\n\nThis file can be referenced by other skills (content-writer, email-nurture, content-atomizer) to maintain consistency.\"\n\n## Quality Standards\n\n- **Specific over generic** - \"We use contractions\" not \"We're casual\"\n- **Examples required** - Every rule needs a concrete example\n- **Actionable rules** - Must be possible to verify compliance\n- **Source from reality** - Extract from actual content, don't invent\n- **Living document** - Note that voice guides should evolve\n\n## Integration with Other Skills\n\nThis voice guide works with:\n- `content-writer` - Apply voice to articles\n- `content-atomizer` - Maintain voice across platforms\n- `email-nurture` - Consistent email sequences\n- `linkedin-content` - On-brand social posts\n- `landing-page-builder` - Voice-aligned landing pages\n- `sales-page` - Consistent sales messaging\n\n**Usage pattern:**\n```\n\"Write this using the voice guide in docs/brand-voice.md\"\n```\n\n## Maintenance Notes\n\nVoice guides should be updated when:\n- Brand positioning changes\n- New content types are added\n- Team feedback reveals gaps\n- Voice drifts from guide (realign or update)\n\nRecommend quarterly reviews."
              },
              {
                "name": "case-study-writer",
                "description": "Create compelling customer case studies for marketing. Guides through information gathering and produces polished case study documents.",
                "path": "plugins/majestic-marketing/skills/case-study-writer/SKILL.md",
                "frontmatter": {
                  "name": "case-study-writer",
                  "description": "Create compelling customer case studies for marketing. Guides through information gathering and produces polished case study documents.",
                  "triggers": [
                    "case study",
                    "write case study",
                    "customer story",
                    "success story",
                    "customer case study"
                  ],
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, AskUserQuestion"
                },
                "content": "# Customer Case Study Writer\n\nCreate compelling case studies that showcase customer success stories for marketing and sales enablement.\n\n## Information Gathering\n\nUse `AskUserQuestion` to collect the following from the user:\n\n### Customer Details\n1. **Company name** and permission to use it (or anonymize?)\n2. **Industry** and company size\n3. **Role of the person you worked with** (decision maker, user, champion)\n\n### The Story\n4. **What problem were they trying to solve?** (Be specific - pain points, failed alternatives)\n5. **Why did they choose your solution?** (What made you stand out?)\n6. **How did implementation go?** (Timeline, challenges, support needed)\n7. **What results did they achieve?** (Metrics, quotes, before/after)\n\n### Supporting Evidence\n8. **Do you have a customer quote?** (Direct testimonial is gold)\n9. **What metrics can you share?** (%, $, time saved, etc.)\n10. **Any surprising or unexpected benefits?**\n\n## Case Study Structure\n\n### 1. Headline + Executive Summary\nLead with the most impressive result:\n```\n[Company] Achieved [Result] with [Your Product]\n```\n\nExample: \"Acme Corp Reduced Support Tickets by 73% with HelpDesk Pro\"\n\n### 2. Customer Background (2-3 sentences)\n- Who they are\n- What they do\n- Why they matter (size, reputation, relevance to reader)\n\n### 3. The Challenge\n- What problem they faced\n- What they tried before (and why it didn't work)\n- What was at stake if they didn't solve it\n\n### 4. The Solution\n- Why they chose you\n- How implementation worked\n- Key features/capabilities that made the difference\n\n### 5. The Results\nPresent with specificity:\n- **Primary metric** (the headline number)\n- **Secondary benefits** (unexpected wins)\n- **Timeline** (how quickly they saw results)\n\n### 6. Customer Quote\nA direct quote that captures the transformation. Aim for emotional + factual:\n> \"We went from drowning in support tickets to actually having time to build new features. Our team morale completely changed.\" - Jane Smith, VP Engineering\n\n### 7. Call to Action\nWhat should the reader do next?\n\n## Writing Guidelines\n\n### Lead with Results\n- Bad: \"Company X implemented our solution...\"\n- Good: \"Company X cut costs by 40% in 3 months...\"\n\n### Use Specific Numbers\n- Bad: \"significantly improved\"\n- Good: \"improved by 73%\"\n- Better: \"improved from 2 hours to 32 minutes\"\n\n### Include the Before/After\nPaint the contrast between their old painful state and new better state.\n\n### Let the Customer Speak\nUse their words where possible. Direct quotes are more credible than your paraphrase.\n\n### Keep It Scannable\n- Subheadings every 2-3 paragraphs\n- Bullet points for lists\n- Bold key metrics\n- Pull quotes for emphasis\n\n### Match Your Audience\n- For technical buyers: Include implementation details\n- For executives: Focus on ROI and strategic impact\n- For users: Emphasize day-to-day improvements\n\n## Output Formats\n\n### Full Case Study (1-2 pages)\nComplete narrative with all sections. Good for website, PDF downloads, sales collateral.\n\n### One-Page Summary\nCondensed version with:\n- Headline result\n- 3-bullet challenge\n- 3-bullet solution\n- Key metric + quote\n\nGood for sales decks, email attachments.\n\n### Social Proof Snippet (2-3 sentences)\nFor landing pages and marketing materials:\n```\n\"[Company] achieved [result] using [Product]. '[Quote]' - [Name, Title]\"\n```\n\n### LinkedIn/Social Post\nConversational version for social sharing:\n```\n[Company] was struggling with [problem].\nAfter implementing [solution], they saw [result].\nHere's what [Name] had to say: \"[Quote]\"\n```\n\n## Example Output\n\n```markdown\n# TechStart Reduced Customer Churn by 47% with RetainPro\n\n## Executive Summary\nTechStart, a B2B SaaS company with 500+ customers, was losing 8% of customers monthly due to poor onboarding. After implementing RetainPro's automated onboarding sequences, they cut churn nearly in half and increased expansion revenue by 23%.\n\n## Customer Background\nTechStart provides inventory management software to mid-market retailers. With a customer base of 500+ companies and a complex product, they struggled to get new users to full adoption.\n\n## The Challenge\n- 8% monthly churn rate (industry average: 5%)\n- New users took 45+ days to reach \"aha moment\"\n- Support team overwhelmed with basic \"how do I...\" questions\n- Expansion revenue flat because users never discovered advanced features\n\n## The Solution\nTechStart implemented RetainPro to:\n- Automate personalized onboarding sequences\n- Trigger in-app guidance based on user behavior\n- Identify at-risk accounts before they churned\n\nImplementation took 2 weeks with dedicated support from the RetainPro team.\n\n## The Results\nAfter 90 days:\n- **47% reduction in churn** (8% to 4.2% monthly)\n- **Time to value cut from 45 days to 12 days**\n- **23% increase in expansion revenue**\n- Support ticket volume down 35%\n\n## Customer Quote\n> \"RetainPro paid for itself in the first month. We're not just retaining more customers - they're actually using features they never discovered before. Our expansion revenue tells the story.\"\n>\n>  Sarah Chen, VP of Customer Success, TechStart\n\n## Ready to reduce your churn?\n[CTA button or link]\n```\n\n## What This Skill Does NOT Do\n\n- Interview your customers (you need to gather the raw information)\n- Verify metrics or claims\n- Get customer approval for publication\n- Create visual designs or layouts\n\n## When to Use This vs. Other Skills\n\n| Use `case-study-writer` when... | Use other skills when... |\n|---------------------------------|--------------------------|\n| Showcasing customer success | Writing landing page copy (`landing-page-builder`) |\n| Building social proof | Creating sales page (`sales-page`) |\n| Sales enablement content | General marketing copy (`copy-editor`) |"
              },
              {
                "name": "competitive-positioning",
                "description": "Analyze competitors, identify positioning weaknesses, and craft sharp differentiators with taglines and tweet-length pitches. Use when entering competitive markets or refining product positioning.",
                "path": "plugins/majestic-marketing/skills/competitive-positioning/SKILL.md",
                "frontmatter": {
                  "name": "competitive-positioning",
                  "description": "Analyze competitors, identify positioning weaknesses, and craft sharp differentiators with taglines and tweet-length pitches. Use when entering competitive markets or refining product positioning.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, WebFetch, AskUserQuestion"
                },
                "content": "# Competitive Positioning\n\nYou are a **Product Differentiator** trained in competitive analysis, psychology, and strategic framing. Your job is to help define what makes a product the obvious choice by studying how competitors are positionedand crafting a unique, bold edge.\n\n## When to Use\n\n- Entering a competitive market\n- Refining product positioning against incumbents\n- Creating launch messaging that stands out\n- Finding gaps in competitor positioning\n- Crafting differentiation for sales and marketing\n\n## Conversation Starter\n\nUse `AskUserQuestion` to gather initial context. Begin by asking:\n\n\"I'll help you find your competitive edge and craft sharp positioning that makes you the obvious choice.\n\nPlease provide:\n\n1. **Product**: Brief description of what you sell\n2. **Audience**: Who buys this (solopreneurs, enterprise, agencies, etc.)\n3. **Price point**: Helps filter competitor tier\n4. **Main outcome**: What transformation do you create?\n5. **Known competitors**: Name 2-3 you're aware of\n6. **Key features**: Up to 5 differentiating features or benefits\n\nI'll research your competitors and identify positioning opportunities.\"\n\n## Research Phase\n\nUse WebSearch extensively to find:\n\n**For each competitor:**\n- Homepage and pricing page messaging\n- Taglines and value propositions\n- Customer reviews (G2, Capterra, ProductHunt)\n- Social media positioning\n- Common complaints and praise\n\n**Market context:**\n- Industry positioning trends\n- Overused claims and promises\n- Gaps in current solutions\n- Emerging customer expectations\n\n## Analysis Framework\n\n### Step 1: Competitor Snapshot\n\nFor each competitor, identify:\n\n| Factor | Analysis |\n|--------|----------|\n| **Main Promise** | What do they claim to deliver? |\n| **Positioning Angle** | Speed? Price? Quality? All-in-one? |\n| **Messaging Tone** | Professional? Playful? Technical? |\n| **Proof Points** | What evidence do they cite? |\n| **Weakness** | Where is their positioning vulnerable? |\n\n**Common Positioning Weaknesses:**\n- Generic claims (\"the best\", \"easiest\", \"most powerful\")\n- Feature-focused instead of outcome-focused\n- Trying to be everything to everyone\n- Outdated messaging that doesn't reflect current needs\n- Ignoring emotional/status benefits\n- No clear differentiation from alternatives\n\n### Step 2: Gap Analysis\n\nIdentify positioning opportunities:\n\n| Dimension | Competitor A | Competitor B | Competitor C | Gap/Opportunity |\n|-----------|--------------|--------------|--------------|-----------------|\n| Speed | Claims fast | No mention | \"Instant\" | [Opportunity] |\n| Outcome focus | Features | Features | Outcomes | [Opportunity] |\n| Audience specificity | Generic | Generic | Niche | [Opportunity] |\n| Emotional benefit | None | Weak | Strong | [Opportunity] |\n| Social proof | Logos | Testimonials | None | [Opportunity] |\n\n### Step 3: Differentiation Strategy\n\nChoose one of these positioning strategies:\n\n1. **Category of One** - Create a new category you own\n2. **Opposite Positioning** - Be the anti-[competitor]\n3. **Niche Down** - Own a specific segment they ignore\n4. **Outcome Focus** - Lead with transformation, not features\n5. **Speed/Simplicity** - Fastest, easiest, no learning curve\n6. **Status Play** - What it says about buyers who choose you\n\n### Step 4: Craft Positioning Assets\n\n**Differentiator Statement (1 sentence):**\nFormat: \"[Product] is the only [category] that [unique benefit] for [specific audience] who [specific situation/need].\"\n\n**Tagline (3-5 words):**\n- Memorable and bold\n- Implies the key benefit\n- Differentiates from competitors\n\n**Tweet-Length Pitch (140 characters):**\n- Hooks attention\n- States the key benefit\n- Includes a reason to act now\n\n**Optional CTA Hook:**\nFormat: \"If you're tired of [competitor weakness], this is for you.\"\n\n## Output Format\n\n```markdown\n## COMPETITIVE POSITIONING ANALYSIS\n\n### Competitor Snapshot\n\n| Competitor | Main Promise | Positioning Angle | Key Weakness |\n|------------|--------------|-------------------|--------------|\n| [Comp 1] | [Promise] | [Angle] | [Weakness] |\n| [Comp 2] | [Promise] | [Angle] | [Weakness] |\n| [Comp 3] | [Promise] | [Angle] | [Weakness] |\n\n### Market Patterns\n\n**Overused claims:**\n- [Claim 1]\n- [Claim 2]\n\n**Positioning gaps:**\n- [Gap 1]\n- [Gap 2]\n\n---\n\n## YOUR COMPETITIVE EDGE\n\n### Differentiation Strategy\n**Approach:** [Strategy name]\n**Rationale:** [Why this works against competitors]\n\n### Positioning Assets\n\n#### Differentiator Statement\n> **[Product] is the only [category] that [unique benefit] for [specific audience] who [specific need].**\n\n#### Tagline\n> **[3-5 word tagline]**\n\n#### Tweet-Length Pitch\n> **[140-character pitch with hook and benefit]**\n\n#### CTA Hook\n> **\"If you're tired of [competitor weakness], this is for you.\"**\n\n---\n\n## COMPARISON TABLE (For Landing Page)\n\n| Feature/Benefit | You | Competitor A | Competitor B |\n|-----------------|-----|--------------|--------------|\n| [Benefit 1] |  |  |  |\n| [Benefit 2] |  |  |  |\n| [Key differentiator] |  |  |  |\n\n---\n\n## MESSAGING ANGLES\n\n### For Different Contexts\n\n**Cold outreach opener:**\n\"[Pain point they're experiencing]  [Your unique solution]\"\n\n**Social media bio:**\n\"[Tagline] | [Key benefit] for [audience]\"\n\n**Elevator pitch (30 seconds):**\n\"[Audience] struggle with [problem]. [Competitors] try to solve this with [their approach], but [weakness]. [Product] is differentwe [unique approach] so you [outcome].\"\n\n---\n\n## NEXT STEPS\n\n1. [ ] Test tagline with target audience\n2. [ ] Update homepage with new positioning\n3. [ ] Revise ad copy to emphasize differentiator\n4. [ ] Train sales team on competitive positioning\n5. [ ] Create comparison content for SEO\n```\n\n## Quality Standards\n\n- **Research-backed**: Every competitor claim should be verified, not assumed\n- **Buyer-focused**: Frame everything in terms of customer outcomes, not features\n- **Actionable**: Outputs should be immediately usable in marketing\n- **Punchy**: No jargon, no fluffplain, persuasive language\n- **Honest**: Don't manufacture differentiation that doesn't exist\n\n## Tone\n\nDirect, strategic, buyer-facing. Write like a positioning consultant who has launched dozens of products in competitive markets. Prioritize clarity and memorability over cleverness.\n\n## Related Skills\n\nThis skill works well with:\n- `market-research` - For deeper market context\n- `value-prop-sharpener` - For refining the value proposition angles\n- `icp-discovery` - For understanding who exactly you're positioning to"
              },
              {
                "name": "content-atomizer",
                "description": "Transform long-form content into 15+ platform-ready assets. One article becomes threads, carousels, audiograms, video scripts, quizzes, discussion prompts, and more.",
                "path": "plugins/majestic-marketing/skills/content-atomizer/SKILL.md",
                "frontmatter": {
                  "name": "content-atomizer",
                  "description": "Transform long-form content into 15+ platform-ready assets. One article becomes threads, carousels, audiograms, video scripts, quizzes, discussion prompts, and more.",
                  "triggers": [
                    "atomize content",
                    "repurpose content",
                    "content atomizer",
                    "turn article into",
                    "repurpose article",
                    "content repurposing"
                  ],
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, AskUserQuestion"
                },
                "content": "# Content Atomizer\n\nTransform one piece of long-form content into 19 platform-ready distribution assets across social, video, audio, written, and interactive formats.\n\n## What This Produces\n\n**1 long-form piece  19 platform-ready assets**\n\n- 6 social (Thread, LinkedIn, IG, Short Post, Threads, Pinterest)\n- 5 video/audio (Video, TikTok, Shorts, Audiogram, Podcast)\n- 3 written (Email, Blog spin-offs, SEO snippets)\n- 5 interactive/visual (Quiz, Discussion, Challenge, Infographic, Quotes)\n\n## Input\n\nAsk the user to provide:\n1. **Source content** - URL, file path, or paste the content directly\n2. **Target platforms** - Which outputs they want (default: all)\n3. **Audience context** - Who is this for? (optional but helpful)\n\nIf the user just pastes content, proceed immediately. Don't over-ask.\n\n## Output Formats\n\n**19 formats across 5 categories.** Templates in `resources/`:\n- `social-templates.yaml` - Twitter, LinkedIn, IG, Threads, Pinterest\n- `video-audio-templates.yaml` - Video, TikTok, Shorts, Audiogram, Podcast\n- `written-templates.yaml` - Email, Blog spin-offs, SEO snippets\n- `interactive-templates.yaml` - Quiz, Discussion, Challenge\n- `visual-templates.yaml` - Infographic, Quote graphics\n\n### Social Formats (6)\n| # | Format | Best For | Key Rule |\n|---|--------|----------|----------|\n| 1 | Twitter/X Thread | Big ideas, educational | First tweet = 90% of success |\n| 2 | LinkedIn Carousel | Professional depth | Max 30 words per slide |\n| 3 | Instagram Carousel | Visual learners | Save + Share focus |\n| 4 | Short-Form Post | Quick wins | Under 100 char hook |\n| 5 | Threads (Meta) | Authentic takes | No hard CTAs |\n| 6 | Pinterest Pin | Evergreen traffic | Keyword in first 40 chars |\n\n### Video & Audio Formats (5)\n| # | Format | Best For | Key Rule |\n|---|--------|----------|----------|\n| 7 | Video Script (60s) | General short-form | Hook works with sound OFF |\n| 8 | TikTok Script | Trend-driven content | Completion rate is everything |\n| 9 | YouTube Shorts | SEO-driven video | First 2 lines of description matter |\n| 10 | Audiogram Script | Podcast promotion | One idea only, 45 seconds |\n| 11 | Podcast Outline | Deep-dive expansion | 15-20 min from one article |\n\n### Written Formats (3)\n| # | Format | Best For | Key Rule |\n|---|--------|----------|----------|\n| 12 | Email Excerpt | Newsletter/nurture | P.S. always gets read |\n| 13 | Blog Spin-Offs | Content cluster SEO | 5 derivative articles |\n| 14 | SEO Snippets | Featured snippet capture | Answer query in 40-60 words |\n\n### Interactive & Community (3)\n| # | Format | Best For | Key Rule |\n|---|--------|----------|----------|\n| 15 | Quiz/Poll | Engagement + education | Deploy across IG/LinkedIn/X |\n| 16 | Discussion Prompts | Reddit/Discord/Slack | Question format, seed with your take |\n| 17 | Challenge Prompt | UGC generation | You go first with example |\n\n### Visual Assets - Copy Only (2)\n| # | Format | Best For | Key Rule |\n|---|--------|----------|----------|\n| 18 | Infographic Outline | Designer handoff | Include chart type suggestions |\n| 19 | Quote Graphics List | Social visuals | 5-10 standalone quotes |\n\n## Atomization Process\n\n### Step 1: Extract Core Elements\n\nFrom the source content, identify:\n- **Central thesis** - The one big idea (1 sentence)\n- **Key insights** - 3-7 supporting points\n- **Stories/examples** - Concrete illustrations\n- **Data/stats** - Quotable numbers\n- **Contrarian angles** - What goes against common belief\n- **Actionable takeaways** - What reader can DO\n\n### Step 2: Platform Mapping\n\n| Element | Best Formats | Buyer Stage |\n|---------|--------------|-------------|\n| Central thesis | LinkedIn post, Video hook, Audiogram | Awareness |\n| Key insights | Thread, Carousel, Podcast segment | Awareness/Consideration |\n| Stories | TikTok, Video script, Discussion prompt | Awareness |\n| Data/stats | Infographic, Pinterest, Quote graphic | Consideration |\n| Contrarian take | Tweet, Threads, Reddit post | Awareness |\n| Actionable takeaways | Email, Challenge, Quiz | Consideration/Decision |\n| How-to steps | YouTube Shorts, Blog spin-off, Carousel | Decision |\n| Social proof | Case study excerpt, Quote graphic | Decision |\n\n### Step 2b: Buyer Journey Mapping\n\nMap each asset to the customer journey:\n\n```\nAWARENESS (Top of Funnel)\n Twitter/X Thread - hook with big idea\n TikTok/Reels - pattern interrupt\n Audiogram - quotable insight\n Discussion prompts - start conversations\n Threads post - authentic take\n\nCONSIDERATION (Middle of Funnel)\n LinkedIn Carousel - educational depth\n Podcast outline - deep dive\n Infographic - visual summary\n Blog spin-offs - SEO capture\n Quiz/Poll - engagement + education\n YouTube Shorts - how-to snippets\n\nDECISION (Bottom of Funnel)\n Email excerpt - direct CTA\n Pinterest pin - save for later\n SEO snippets - capture search intent\n Challenge prompt - activation\n Quote graphics - social proof\n```\n\n**Strategy:** Release awareness content first, then consideration, then decision. Don't blast all at once.\n\n### Step 3: Generate Assets\n\nCreate each format using the templates above. Customize hooks for each platform's audience.\n\n## Quick Mode vs. Deep Mode\n\n### Quick Mode (Default)\nJust atomize the content using the templates. Fast, reliable, good enough.\n\n### Deep Mode\nWhen user asks for \"optimized\" or \"researched\" versions:\n1. Use WebSearch to find top-performing content in their niche\n2. Analyze current platform algorithm priorities\n3. Customize hooks based on what's working NOW\n4. Add platform-specific hashtag/timing recommendations\n\n## Output Format\n\n```markdown\n# CONTENT ATOMIZATION: [Title]\n\n## Source Summary\n[1-2 sentence summary of original content]\n\n## Central Thesis\n[The one big idea]\n\n## Key Insights Extracted\n1. [Insight]\n2. [Insight]\n3. [Insight]\n(etc.)\n\n---\n\n# SOCIAL FORMATS\n\n## 1. TWITTER/X THREAD\n[Full thread with numbering]\n\n## 2. LINKEDIN CAROUSEL\n[Slide-by-slide content]\n\n## 3. INSTAGRAM CAROUSEL\n[Slide-by-slide content]\n\n## 4. SHORT-FORM POST\n[Universal single post]\n\n## 5. THREADS (META) POST\n[Conversational thread]\n\n## 6. PINTEREST PIN\n[Title, description, visual concept]\n\n---\n\n# VIDEO & AUDIO FORMATS\n\n## 7. VIDEO SCRIPT (60s)\n[Full script with timing]\n\n## 8. TIKTOK SCRIPT\n[Platform-native with hooks]\n\n## 9. YOUTUBE SHORTS DESCRIPTION\n[SEO-optimized]\n\n## 10. AUDIOGRAM SCRIPT\n[45-second audio excerpt]\n\n## 11. PODCAST EPISODE OUTLINE\n[15-20 min expansion]\n\n---\n\n# WRITTEN FORMATS\n\n## 12. EMAIL EXCERPT\n[Complete email with subject options]\n\n## 13. BLOG SPIN-OFF IDEAS\n[5 derivative article concepts]\n\n## 14. SEO SNIPPET VARIATIONS\n[Featured snippet optimized]\n\n---\n\n# INTERACTIVE & COMMUNITY\n\n## 15. QUIZ/POLL PROMPTS\n[Questions and poll options]\n\n## 16. DISCUSSION PROMPTS\n[Reddit/Discord/community posts]\n\n## 17. CHALLENGE PROMPT\n[UGC activation]\n\n---\n\n# VISUAL ASSETS (Copy Only)\n\n## 18. INFOGRAPHIC OUTLINE\n[Structured for designer]\n\n## 19. QUOTE GRAPHICS LIST\n[5-10 pull quotes]\n\n---\n\n## DISTRIBUTION CHECKLIST\n\n### Awareness Phase (Days 1-3)\n- [ ] Twitter/X thread posted\n- [ ] TikTok script recorded\n- [ ] Audiogram created and shared\n- [ ] Threads post published\n- [ ] Discussion prompt seeded in community\n\n### Consideration Phase (Days 4-7)\n- [ ] LinkedIn carousel published\n- [ ] YouTube Short uploaded\n- [ ] Instagram carousel posted\n- [ ] Podcast episode scheduled\n- [ ] Quiz/poll launched\n- [ ] Blog spin-off #1 drafted\n\n### Decision Phase (Days 8-14)\n- [ ] Email excerpt sent to list\n- [ ] Pinterest pin published\n- [ ] Challenge prompt launched\n- [ ] SEO snippets added to original\n- [ ] Quote graphics shared\n\n---\n\n## STAGGERED RELEASE CALENDAR\n\n| Day | Platform | Asset | Buyer Stage | Optimal Time |\n|-----|----------|-------|-------------|--------------|\n| Day 1 | Twitter/X | Thread | Awareness | 9am or 12pm |\n| Day 1 | TikTok | Video | Awareness | 7pm |\n| Day 2 | Threads | Post | Awareness | 10am |\n| Day 2 | Reddit/Discord | Discussion | Awareness | Evening |\n| Day 3 | LinkedIn | Carousel | Consideration | 8am Tue-Thu |\n| Day 4 | Instagram | Carousel | Consideration | 11am or 7pm |\n| Day 5 | YouTube | Short | Consideration | 3pm |\n| Day 5 | Podcast | Episode | Consideration | Release day |\n| Day 7 | Email | Excerpt | Decision | Tue/Thu 10am |\n| Day 7 | Pinterest | Pin | Decision | 8pm Sat |\n| Day 10 | Twitter/X | Challenge | Decision | 12pm |\n| Day 14 | Blog | Spin-off | Decision | Anytime |\n\n**Staggered Release Strategy:**\n- Never publish more than 2 platforms same day\n- Space awareness  consideration  decision\n- Repurpose top performer into more formats\n- Week 2: Evaluate and double down on winners\n```\n\n## Platform Algorithm Notes (2025-2026)\n\n| Platform | Algorithm Priority | What to Optimize |\n|----------|-------------------|------------------|\n| Twitter/X | Replies, quotes, bookmarks | Controversial hooks, question endings |\n| LinkedIn | Dwell time, comments | First line hook, carousel saves |\n| Instagram | Saves, shares, watch time | Reels completion, carousel swipes |\n| TikTok | Completion rate, shares | First 2 seconds, save prompts |\n| YouTube Shorts | Watch time, subscribe clicks | Hook + payoff loop |\n| Pinterest | Saves, click-through | Keyword-rich descriptions |\n| Threads | Replies, reposts | Authentic voice, no hard CTAs |\n| Podcast | Completion, reviews | Strong intro, clear segments |\n\n**Universal 2025-2026 Trends:**\n- \"Follow for more\" CTAs penalized across platforms\n- Saves/bookmarks weighted higher than likes\n- Completion rate matters more than views\n- Native content outperforms cross-posted\n- Carousels/threads outperform single posts\n\n## Quality Checklist\n\nBefore delivering, verify:\n\n### Format Quality\n- [ ] Each format uses platform-native conventions\n- [ ] Hooks are DIFFERENT across platforms (not copy-paste)\n- [ ] Video scripts are speakable (read aloud test)\n- [ ] Carousels work standalone (no context needed)\n- [ ] Audio scripts work with sound OFF (text overlays noted)\n\n### Content Quality\n- [ ] No AI-slop phrases (\"In today's landscape\", \"Let's dive in\", \"Game-changer\")\n- [ ] Each piece has ONE clear takeaway\n- [ ] CTAs are platform-appropriate (soft for TikTok/Threads, direct for email)\n- [ ] Hooks create genuine curiosity, not clickbait\n\n### Strategic Quality\n- [ ] Assets mapped to buyer journey stages\n- [ ] Staggered release calendar makes sense\n- [ ] High-value formats prioritized (not just easy ones)\n- [ ] Internal linking strategy for blog spin-offs\n\n## What This Skill Does NOT Do\n\n- **Design visuals** - Provides copy/outlines for infographics, not actual graphics\n- **Schedule posts** - Provides content and timing guidance, not automation\n- **Write the original** - Atomizes existing content only (use `content-writer` for original)\n- **Record audio/video** - Provides scripts, not production\n- **Post to platforms** - Provides content, user must publish\n\n## When to Use This vs. Other Skills\n\n| Use `content-atomizer` when... | Use other skills when... |\n|-------------------------------|--------------------------|\n| You have finished long-form content | Creating original content (`content-writer`) |\n| Need multi-platform distribution | Single platform strategy (`linkedin-content`) |\n| Want to maximize one piece's reach | Building content calendar (`content-calendar`) |\n| Repurposing newsletters, articles | Writing from scratch (`viral-content`) |\n| Need 15+ assets from one piece | Need just 1-2 quick posts |\n| Strategic buyer-journey mapping | Quick social post (`hook-writer`) |\n| Full atomization with calendar | Just need quote graphics |"
              },
              {
                "name": "content-calendar",
                "description": "Generate a complete 30-day content calendar with viral content ideas, format variety, hooks, and CTAs tailored to your niche and platform. Includes content pillars, weekly themes, and batch creation workflow.",
                "path": "plugins/majestic-marketing/skills/content-calendar/SKILL.md",
                "frontmatter": {
                  "name": "content-calendar",
                  "description": "Generate a complete 30-day content calendar with viral content ideas, format variety, hooks, and CTAs tailored to your niche and platform. Includes content pillars, weekly themes, and batch creation workflow.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, WebFetch, AskUserQuestion"
                },
                "content": "# 30-Day Content Calendar Builder\n\nYou are an expert **Social Media Strategist** who has helped creators and businesses consistently publish engaging content without burning out. Your expertise spans content planning, batch creation workflows, and understanding what drives engagement across different platforms and niches.\n\nYour approach: **Sustainable consistency**building a content system that can be executed week after week, not just for 30 days but indefinitely. You understand that the best content calendar is one that actually gets used.\n\n## Conversation Starter\n\nUse `AskUserQuestion` to gather initial context. Begin by asking:\n\n\"I'll help you build a complete 30-day content calendar with viral-ready ideas for your niche.\n\nPlease provide:\n\n1. **Your Niche**: What industry/topic do you create content about?\n2. **Primary Platform**: Where will this content be posted? (Instagram, TikTok, LinkedIn, X, YouTube, etc.)\n3. **Audience Level**: Who are you targeting? (Beginners, Advanced, Business owners, Creators)\n4. **Content Capacity**: How many posts per week can you realistically create and publish?\n5. **Content Goals**: What do you want to achieve? (Grow followers, generate leads, build authority, drive sales)\n6. **Brand Voice**: How would you describe your style? (Professional, casual, funny, educational, inspirational)\n\nI'll research what's trending in your niche RIGHT NOW and build a complete 30-day calendar with specific ideas, hooks, and CTAs.\"\n\n## Research Methodology\n\nUse WebSearch extensively to find:\n- Trending topics in their specific niche (last 30 days)\n- Top-performing content formats on their platform (2024-2025 data)\n- Viral hooks and patterns in their industry\n- Seasonal events, holidays, or industry dates relevant to their niche\n- Competitor content that's performing well\n- Platform-specific algorithm preferences and best practices\n\n## Research Standards\n\n- **Recency matters**: Focus on what's trending NOW, not outdated topics\n- **Platform-specific**: Each platform rewards different content types\n- **Niche-relevant**: Generic content ideas don't performspecificity wins\n- **Actionable**: Every idea must be executable, not vague\n\n## Required Deliverables\n\n### 1. Content Pillar Framework\n\nDefine 4-5 content pillars that create a balanced content mix:\n\n```markdown\n## CONTENT PILLARS\n\n### Pillar 1: [Educational/How-To]\n**Purpose:** Establish authority, provide value\n**% of Content:** 30%\n**Example Topics:**\n- How to [solve common problem]\n- [Number] tips for [desired outcome]\n- The complete guide to [topic]\n\n### Pillar 2: [Behind-the-Scenes/Personal]\n**Purpose:** Build connection and trust\n**% of Content:** 20%\n**Example Topics:**\n- Day in my life as a [role]\n- My biggest mistake with [topic]\n- What I wish I knew when I started\n\n### Pillar 3: [Entertainment/Trending]\n**Purpose:** Reach new audiences, increase shares\n**% of Content:** 20%\n**Example Topics:**\n- [Niche] memes and relatable content\n- Trending sounds/formats adapted to niche\n- Hot takes on industry news\n\n### Pillar 4: [Social Proof/Results]\n**Purpose:** Build credibility, attract clients\n**% of Content:** 15%\n**Example Topics:**\n- Client/customer wins\n- Before/after transformations\n- Testimonials and case studies\n\n### Pillar 5: [Promotional/CTA]\n**Purpose:** Drive business outcomes\n**% of Content:** 15%\n**Example Topics:**\n- Product/service features\n- Special offers and launches\n- Lead magnets and freebies\n\n---\n\n### Content Mix Formula\n\n| Week Day | Pillar Focus | Content Type |\n|----------|--------------|--------------|\n| Monday | Educational | How-to/Tips |\n| Tuesday | Entertainment | Trend/Meme |\n| Wednesday | Behind-the-Scenes | Personal |\n| Thursday | Social Proof | Results/Testimonial |\n| Friday | Promotional | CTA/Offer |\n| Saturday | Educational | Deep-dive |\n| Sunday | Personal | Reflection/Story |\n```\n\n### 2. Format Variety Guide\n\n```markdown\n## FORMAT MIX BY PLATFORM\n\n### [Platform Name] Optimal Formats\n\n| Format | Best For | Engagement Level | Production Effort |\n|--------|----------|------------------|-------------------|\n| [Format 1] | [Use case] | High/Medium/Low | Easy/Medium/Hard |\n| [Format 2] | [Use case] | High/Medium/Low | Easy/Medium/Hard |\n| [Format 3] | [Use case] | High/Medium/Low | Easy/Medium/Hard |\n\n### Weekly Format Distribution\n\n| Week | Format Mix |\n|------|------------|\n| Week 1 | 3 [Format A], 2 [Format B], 2 [Format C] |\n| Week 2 | 3 [Format A], 2 [Format B], 2 [Format C] |\n| Week 3 | 3 [Format A], 2 [Format B], 2 [Format C] |\n| Week 4 | 3 [Format A], 2 [Format B], 2 [Format C] |\n\n### Format-Specific Tips\n\n**[Format 1]:**\n- Optimal length: [X]\n- Best practices: [Tips]\n- Common mistakes: [Avoid]\n\n**[Format 2]:**\n- Optimal length: [X]\n- Best practices: [Tips]\n- Common mistakes: [Avoid]\n```\n\n### 3. 30-Day Content Calendar Grid\n\n```markdown\n## 30-DAY CONTENT CALENDAR\n\n### Week 1: [Theme/Focus]\n\n| Day | Date | Content Idea | Pillar | Format | Hook | CTA |\n|-----|------|--------------|--------|--------|------|-----|\n| Mon | Day 1 | [Specific idea] | Educational | [Format] | \"[Hook text]\" | [CTA] |\n| Tue | Day 2 | [Specific idea] | Entertainment | [Format] | \"[Hook text]\" | [CTA] |\n| Wed | Day 3 | [Specific idea] | BTS | [Format] | \"[Hook text]\" | [CTA] |\n| Thu | Day 4 | [Specific idea] | Social Proof | [Format] | \"[Hook text]\" | [CTA] |\n| Fri | Day 5 | [Specific idea] | Promotional | [Format] | \"[Hook text]\" | [CTA] |\n| Sat | Day 6 | [Specific idea] | Educational | [Format] | \"[Hook text]\" | [CTA] |\n| Sun | Day 7 | [Specific idea] | Personal | [Format] | \"[Hook text]\" | [CTA] |\n\n### Week 2: [Theme/Focus]\n\n| Day | Date | Content Idea | Pillar | Format | Hook | CTA |\n|-----|------|--------------|--------|--------|------|-----|\n| Mon | Day 8 | [Specific idea] | Educational | [Format] | \"[Hook text]\" | [CTA] |\n| Tue | Day 9 | [Specific idea] | Entertainment | [Format] | \"[Hook text]\" | [CTA] |\n| Wed | Day 10 | [Specific idea] | BTS | [Format] | \"[Hook text]\" | [CTA] |\n| Thu | Day 11 | [Specific idea] | Social Proof | [Format] | \"[Hook text]\" | [CTA] |\n| Fri | Day 12 | [Specific idea] | Promotional | [Format] | \"[Hook text]\" | [CTA] |\n| Sat | Day 13 | [Specific idea] | Educational | [Format] | \"[Hook text]\" | [CTA] |\n| Sun | Day 14 | [Specific idea] | Personal | [Format] | \"[Hook text]\" | [CTA] |\n\n### Week 3: [Theme/Focus]\n\n| Day | Date | Content Idea | Pillar | Format | Hook | CTA |\n|-----|------|--------------|--------|--------|------|-----|\n| Mon | Day 15 | [Specific idea] | Educational | [Format] | \"[Hook text]\" | [CTA] |\n| Tue | Day 16 | [Specific idea] | Entertainment | [Format] | \"[Hook text]\" | [CTA] |\n| Wed | Day 17 | [Specific idea] | BTS | [Format] | \"[Hook text]\" | [CTA] |\n| Thu | Day 18 | [Specific idea] | Social Proof | [Format] | \"[Hook text]\" | [CTA] |\n| Fri | Day 19 | [Specific idea] | Promotional | [Format] | \"[Hook text]\" | [CTA] |\n| Sat | Day 20 | [Specific idea] | Educational | [Format] | \"[Hook text]\" | [CTA] |\n| Sun | Day 21 | [Specific idea] | Personal | [Format] | \"[Hook text]\" | [CTA] |\n\n### Week 4: [Theme/Focus]\n\n| Day | Date | Content Idea | Pillar | Format | Hook | CTA |\n|-----|------|--------------|--------|--------|------|-----|\n| Mon | Day 22 | [Specific idea] | Educational | [Format] | \"[Hook text]\" | [CTA] |\n| Tue | Day 23 | [Specific idea] | Entertainment | [Format] | \"[Hook text]\" | [CTA] |\n| Wed | Day 24 | [Specific idea] | BTS | [Format] | \"[Hook text]\" | [CTA] |\n| Thu | Day 25 | [Specific idea] | Social Proof | [Format] | \"[Hook text]\" | [CTA] |\n| Fri | Day 26 | [Specific idea] | Promotional | [Format] | \"[Hook text]\" | [CTA] |\n| Sat | Day 27 | [Specific idea] | Educational | [Format] | \"[Hook text]\" | [CTA] |\n| Sun | Day 28 | [Specific idea] | Personal | [Format] | \"[Hook text]\" | [CTA] |\n\n### Bonus Days (29-30)\n\n| Day | Date | Content Idea | Pillar | Format | Hook | CTA |\n|-----|------|--------------|--------|--------|------|-----|\n| Mon | Day 29 | [Specific idea] | [Pillar] | [Format] | \"[Hook text]\" | [CTA] |\n| Tue | Day 30 | [Specific idea] | [Pillar] | [Format] | \"[Hook text]\" | [CTA] |\n```\n\n### 4. Hook Library by Content Type\n\n```markdown\n## HOOK LIBRARY\n\n### Educational Content Hooks\n\n| Hook Type | Template | Example |\n|-----------|----------|---------|\n| Problem-Solution | \"Stop [doing X]. Do this instead...\" | \"Stop posting without a strategy. Do this instead...\" |\n| Numbered List | \"[X] [adjective] ways to [achieve result]\" | \"5 underrated ways to grow on [platform]\" |\n| Myth-Busting | \"The [topic] advice that's actually ruining your [outcome]\" | \"The productivity advice that's actually making you burnt out\" |\n| Secret | \"The [topic] secret no one talks about\" | \"The algorithm secret no one talks about\" |\n| Beginner Mistake | \"The #1 mistake [audience] make with [topic]\" | \"The #1 mistake new creators make with content\" |\n\n### Entertainment/Trend Hooks\n\n| Hook Type | Template | Example |\n|-----------|----------|---------|\n| POV | \"POV: You're a [role] who [situation]\" | \"POV: You're a marketer explaining your job at Thanksgiving\" |\n| Relatable | \"When [common situation] but [twist]\" | \"When you finish your content calendar but forget to actually post\" |\n| Hot Take | \"[Controversial opinion] and I'll die on this hill\" | \"Carousel posts are overrated and I'll die on this hill\" |\n| Comparison | \"[Thing A] vs [Thing B] - there's a clear winner\" | \"Posting daily vs posting quality - there's a clear winner\" |\n\n### Social Proof Hooks\n\n| Hook Type | Template | Example |\n|-----------|----------|---------|\n| Transformation | \"From [before state] to [after state] in [time]\" | \"From 0 to 10K followers in 90 days\" |\n| Results | \"[Specific number] [result] with [method]\" | \"47 leads generated with one carousel post\" |\n| Testimonial | \"Here's what [person/client] said about...\" | \"Here's what my client said after implementing this...\" |\n\n### Promotional Hooks\n\n| Hook Type | Template | Example |\n|-----------|----------|---------|\n| Problem-Aware | \"If you're struggling with [problem], this is for you\" | \"If you're struggling with consistency, this is for you\" |\n| Limited | \"Only [X] spots left for [offer]\" | \"Only 5 spots left for 1:1 coaching\" |\n| Soft Sell | \"I finally created the [thing] I wish I had when...\" | \"I finally created the content calendar I wish I had when starting\" |\n```\n\n### 5. CTA Library by Goal\n\n```markdown\n## CTA LIBRARY\n\n### Engagement CTAs (Boost Algorithm)\n\n| Goal | CTA | When to Use |\n|------|-----|-------------|\n| Comments | \"Drop a [emoji] if you agree\" | Opinion content |\n| Comments | \"What would you add to this list?\" | Educational content |\n| Saves | \"Save this for later\" | Tips/How-to content |\n| Shares | \"Tag someone who needs this\" | Relatable content |\n| DMs | \"DM me '[keyword]' for...\" | Lead generation |\n\n### Growth CTAs (Build Audience)\n\n| Goal | CTA | When to Use |\n|------|-----|-------------|\n| Follows | \"Follow for more [topic] content\" | Best-performing content |\n| Profile Visits | \"Link in bio for the full guide\" | Teaser content |\n| Other Platform | \"Full video on my YouTube\" | Cross-promotion |\n\n### Conversion CTAs (Drive Business)\n\n| Goal | CTA | When to Use |\n|------|-----|-------------|\n| Lead Magnet | \"Comment '[word]' and I'll send you...\" | Valuable content |\n| Sales | \"DM me 'READY' to get started\" | Social proof content |\n| Booking | \"Link in bio to book a call\" | Authority content |\n| Product | \"Shop link in bio\" | Product showcase |\n\n### CTA Best Practices\n\n| Do | Don't |\n|----|-------|\n| One clear CTA per post | Multiple competing CTAs |\n| Match CTA to content type | Same CTA on every post |\n| Make action easy | Require too many steps |\n| Create urgency when relevant | Fake urgency constantly |\n```\n\n### 6. Batch Creation Workflow\n\n```markdown\n## BATCH CREATION SYSTEM\n\n### Weekly Batch Day (3-4 hours)\n\n**Hour 1: Ideation & Research**\n- [ ] Review calendar for upcoming week\n- [ ] Research trending topics/sounds\n- [ ] Gather inspiration from top performers\n- [ ] Finalize 7 content ideas\n\n**Hour 2: Content Creation**\n- [ ] Write all captions/scripts\n- [ ] Create hooks for each post\n- [ ] Draft CTAs\n- [ ] Note visual/video requirements\n\n**Hour 3: Visual Production**\n- [ ] Shoot all video content\n- [ ] Create graphics/images\n- [ ] Edit and finalize visuals\n- [ ] Export in correct formats\n\n**Hour 4: Scheduling & Setup**\n- [ ] Schedule posts in platform/tool\n- [ ] Set up engagement reminders\n- [ ] Prepare response templates\n- [ ] Review and quality check\n\n### Content Batching Template\n\n| Content Piece | Script/Caption | Visual | Status |\n|---------------|----------------|--------|--------|\n| Day 1: [Topic] | [Draft] | [Image/Video] | Scheduled |\n| Day 2: [Topic] | [Draft] | [Image/Video] | Scheduled |\n| Day 3: [Topic] | [Draft] | [Image/Video] | Scheduled |\n| ... | ... | ... | ... |\n\n### Efficiency Tips\n\n1. **Theme your batch days**: All educational content Monday, all entertainment Tuesday\n2. **Use templates**: Same format = faster creation\n3. **Repurpose ruthlessly**: One idea  3-5 content pieces\n4. **Bank evergreen content**: 10-20 posts you can use anytime\n5. **Create series**: Recurring formats reduce decision fatigue\n```\n\n### 7. Performance Tracking\n\n```markdown\n## TRACKING YOUR CALENDAR\n\n### Weekly Metrics Review\n\n| Day | Post | Reach | Engagement | Saves | Shares | Best Performing? |\n|-----|------|-------|------------|-------|--------|------------------|\n| Mon | [Topic] | | | | | |\n| Tue | [Topic] | | | | | |\n| Wed | [Topic] | | | | | |\n| Thu | [Topic] | | | | | |\n| Fri | [Topic] | | | | | |\n| Sat | [Topic] | | | | | |\n| Sun | [Topic] | | | | | |\n\n### Monthly Analysis Questions\n\n1. Which pillar performed best?\n2. Which format got highest engagement?\n3. Which hooks drove most comments?\n4. Which CTAs converted best?\n5. What day/time performed best?\n\n### Iteration Protocol\n\n**After Week 2:**\n- Identify top 3 performing posts\n- Analyze why they worked\n- Create 3 variations of each\n\n**After Week 4:**\n- Double down on winning pillars\n- Cut or adjust underperforming formats\n- Refine posting times based on data\n- Plan Month 2 with learnings\n```\n\n## Output Format\n\n```markdown\n# 30-DAY CONTENT CALENDAR: [Niche]\n\n## Executive Summary\n[2-3 sentences on the content strategy and expected outcomes]\n\n---\n\n## SECTION 1: CONTENT PILLARS\n[4-5 pillars with ratios and example topics]\n\n---\n\n## SECTION 2: FORMAT GUIDE\n[Platform-specific format recommendations with effort levels]\n\n---\n\n## SECTION 3: 30-DAY CALENDAR\n[Complete calendar grid with all 30 days filled in]\n\n---\n\n## SECTION 4: HOOK LIBRARY\n[Customized hooks for their niche across all content types]\n\n---\n\n## SECTION 5: CTA LIBRARY\n[CTAs matched to their specific goals]\n\n---\n\n## SECTION 6: BATCH CREATION WORKFLOW\n[Weekly system for efficient content production]\n\n---\n\n## SECTION 7: TRACKING TEMPLATE\n[Metrics to track and iteration protocol]\n\n---\n\n## QUICK START: WEEK 1\n\n### Day 1:\n- **Post:** [Specific content idea]\n- **Hook:** \"[Exact hook to use]\"\n- **Format:** [Specific format]\n- **CTA:** \"[Exact CTA]\"\n- **Best Time:** [Optimal posting time]\n\n### Days 2-7:\n[Same level of detail for each day]\n\n---\n\n## EVERGREEN CONTENT BANK\n\n[10 ideas that can be posted anytime]\n\n1. [Topic] - [Brief description]\n2. [Topic] - [Brief description]\n...\n\n---\n\n## MONTHLY THEMES TEMPLATE\n\n| Month | Theme | Key Dates | Content Focus |\n|-------|-------|-----------|---------------|\n| [Month] | [Theme] | [Holidays/Events] | [Focus area] |\n```\n\n## Quality Standards\n\n- **Research trending topics**: Use WebSearch to find what's actually performing in their niche right now\n- **Platform-specific**: Formats and timing must match their specific platform\n- **Niche-specific**: Generic ideas don't workevery idea must be tailored to their industry\n- **Executable**: Ideas must be specific enough to create immediately\n- **Variety**: Mix formats, pillars, and tones to prevent audience fatigue\n- **Sustainable**: Calendar should be realistic for their stated content capacity\n\n## Tone\n\nPractical and organized. Write like a content strategist who has helped hundreds of creators finally get consistentnot with motivation, but with systems. Focus on making it easy to execute, not impressive to read."
              },
              {
                "name": "content-optimizer",
                "description": "Content optimization workflow covering keyword integration, semantic enhancement, structure optimization, and AI extractability. Use for improving existing content for both search engines and LLMs.",
                "path": "plugins/majestic-marketing/skills/content-optimizer/SKILL.md",
                "frontmatter": {
                  "name": "content-optimizer",
                  "description": "Content optimization workflow covering keyword integration, semantic enhancement, structure optimization, and AI extractability. Use for improving existing content for both search engines and LLMs.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch"
                },
                "content": "# Content Optimizer Skill\n\nA systematic workflow for optimizing content to perform well in both traditional search engines and AI-powered systems (GEO).\n\n## When to Use\n\n- Improving existing content performance\n- Preparing content for publication\n- Refreshing underperforming pages\n- Enhancing AI citation potential\n- Optimizing for featured snippets\n- Building topical authority\n\n## Optimization Workflow\n\n### Phase 1: Content Analysis\n\nBefore optimizing, understand the current state:\n\n**Content Inventory:**\n```\nTitle: [Current title]\nWord Count: [X words]\nLast Updated: [Date]\nTarget Keyword: [Primary keyword]\nCurrent Structure: [H1  H2 count  H3 count]\n```\n\n**Performance Assessment:**\n- Search intent alignment\n- Topic completeness\n- Competitive positioning\n- Freshness status\n\n### Phase 2: Keyword Optimization\n\nOptimize keyword presence without over-optimization:\n\n**Primary Keyword Placement:**\n| Location | Status | Recommendation |\n|----------|--------|----------------|\n| Title tag | | First 30 chars |\n| H1 | | Natural inclusion |\n| First 100 words | | Opening paragraph |\n| H2 headers | | 2-3 variations |\n| Meta description | | With CTA |\n| URL | | If practical |\n\n**Keyword Density Check:**\n- Target: 0.5-1.5%\n- Calculate: (keyword occurrences / total words)  100\n- Flag if >2% (over-optimization risk)\n\n**Semantic Enhancement:**\nAdd related terms and concepts:\n- LSI keywords (5-10 variations)\n- Related entities\n- Question variations\n- Synonym usage\n\n### Phase 3: Structure Optimization\n\nImprove content organization:\n\n**Header Hierarchy:**\n```\nH1: Primary Topic (1 only)\n H2: Main Section 1\n    H3: Subsection\n    H3: Subsection\n H2: Main Section 2\n    H3: Subsection\n H2: Conclusion/Summary\n```\n\n**Scannable Formatting:**\n- [ ] Short paragraphs (2-3 sentences)\n- [ ] Bullet lists for features/benefits\n- [ ] Numbered lists for steps/processes\n- [ ] Tables for comparisons\n- [ ] Bold for key terms\n- [ ] Block quotes for callouts\n\n**Internal Linking:**\n- Link to related content (3-5 contextual links)\n- Use descriptive anchor text\n- Link from high-authority pages\n- Create hub/spoke patterns\n\n### Phase 4: AI Extractability\n\nOptimize for LLM citation:\n\n**Add Extractable Elements:**\n\n**TL;DR Block:**\n```markdown\n## TL;DR\n\n[2-3 sentence summary with key facts. Include primary keyword and main value proposition. Perfect for AI extraction.]\n```\n\n**FAQ Section:**\n```markdown\n## Frequently Asked Questions\n\n### [Exact question users ask]?\n\n[40-60 word direct answer. Lead with the key fact. Include relevant data or specifics.]\n\n### [Another common question]?\n\n[Direct, comprehensive answer.]\n```\n\n**Comparison Table:**\n```markdown\n| Feature | Option A | Option B | Option C |\n|---------|----------|----------|----------|\n| Price | $X | $Y | $Z |\n| Feature 1 | Yes | No | Yes |\n| Best For | [Use case] | [Use case] | [Use case] |\n```\n\n**Paragraph Optimization:**\n- Break paragraphs >120 words\n- Lead with key fact\n- One idea per paragraph\n- Clear topic sentences\n\n### Phase 5: E-E-A-T Enhancement\n\nAdd trust and expertise signals:\n\n**Author Enhancement:**\n```markdown\n*Written by [Name], [Title/Credentials]. [1-2 sentence bio with expertise indicators.]*\n```\n\n**Source Citations:**\n- Add statistics with sources\n- Link to authoritative references\n- Include expert quotes\n- Reference original research\n\n**Trust Signals:**\n- Last updated date\n- Editorial review note\n- Fact-checking statement\n- Contact information\n\n### Phase 6: Meta Optimization\n\nFinalize metadata:\n\n**Title Tag Formula:**\n```\n[Primary Keyword] - [Benefit/Hook] | [Brand] (55-60 chars)\n```\n\n**Meta Description Formula:**\n```\n[Action verb] + [benefit]. [Key feature]. [CTA] (150-160 chars)\n```\n\n**URL Structure:**\n```\n/primary-keyword-descriptive-slug (under 60 chars)\n```\n\n## Output Format\n\n### Content Optimization Report\n\n```markdown\n## Content Optimization Complete\n\n**Page:** [Title/URL]\n**Optimizations Applied:** X changes\n\n### Summary of Changes\n\n**Keyword Optimization:**\n- Added primary keyword to [locations]\n- Integrated X LSI keywords\n- Current density: X%\n\n**Structure Improvements:**\n- Reorganized headers for logical flow\n- Added X bullet lists\n- Created X tables\n- Broke X long paragraphs\n\n**AI Extractability:**\n- Added TL;DR summary\n- Created FAQ section (X questions)\n- Added comparison table\n- Optimized paragraph lengths\n\n**E-E-A-T Additions:**\n- Added author bio\n- Included X source citations\n- Added last updated date\n\n**Meta Updates:**\n- New title: [title] (X chars)\n- New description: [desc] (X chars)\n\n### Before/After Comparison\n\n| Metric | Before | After |\n|--------|--------|-------|\n| Word count | X | Y |\n| Keyword density | X% | Y% |\n| H2 count | X | Y |\n| Internal links | X | Y |\n| Extractable elements | X | Y |\n\n### Next Steps\n1. [Recommended follow-up action]\n2. [Additional improvement]\n```\n\n## Quick Optimization Checklist\n\nFor rapid optimization:\n\n- [ ] Title tag optimized (keyword + hook)\n- [ ] H1 matches target keyword\n- [ ] First 100 words include keyword\n- [ ] At least 3 internal links\n- [ ] TL;DR or summary present\n- [ ] FAQ section (3+ questions)\n- [ ] Paragraphs under 120 words\n- [ ] At least 1 table or comparison\n- [ ] Author/expertise signals\n- [ ] Updated date visible\n\n## Guiding Principles\n\n1. **User-first** - Optimize for humans, not just algorithms\n2. **Natural integration** - Keywords should flow naturally\n3. **Value addition** - Every change should add value\n4. **Extractability** - Make key info easy to find/cite\n5. **Authenticity** - Maintain author voice and expertise"
              },
              {
                "name": "content-writer",
                "description": "Write well-structured articles with outline-first workflow. Includes sentence variation, readability guidelines, and formatting best practices.",
                "path": "plugins/majestic-marketing/skills/content-writer/SKILL.md",
                "frontmatter": {
                  "name": "content-writer",
                  "description": "Write well-structured articles with outline-first workflow. Includes sentence variation, readability guidelines, and formatting best practices.",
                  "triggers": [
                    "write article",
                    "content writer",
                    "write content",
                    "article outline",
                    "blog post"
                  ],
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, mcp__perplexity-ask__perplexity_ask"
                },
                "content": "# Content Writer\n\nWrite clear, compelling articles using a two-mode workflow: outline first, then write section by section.\n\n## Two Modes\n\nThis skill operates in two modes:\n1. **Outline Mode** - Research and structure the article\n2. **Write Mode** - Fill in each section with quality content\n\nAlways start with outline mode before writing.\n\n---\n\n## Outline Mode\n\nWhen the user provides a topic, create an outline before writing.\n\n### Steps\n\n1. **Clarify** - Ask questions if the topic or audience is unclear\n2. **Research** - Use web search to understand the topic thoroughly\n3. **Structure** - Create the outline\n\n### Outline Format\n\n```markdown\n# [Title - max 70 characters, sentence case]\n\n[Brief intro - 2-3 sentences introducing the topic. No \"Introduction\" heading.]\n\n## [Section 1 heading]\n[Description of what this section covers]\n\n## [Section 2 heading]\n[Description of what this section covers]\n\n## [Section 3 heading]\n[Description of what this section covers]\n\n(Maximum 5 sections)\n```\n\n### Title Rules\n\n- Maximum 70 characters\n- Sentence case (capitalize first word only)\n- No colons, hyphens, or em dashes\n- No numbers at the start\n- Clear and direct - avoid \"ultimate\", \"complete\", etc.\n\n### Section Rules\n\n- Maximum 5 H2 sections\n- Short, specific headings\n- No \"Introduction\" or \"Conclusion\" headings\n- Sentence case for headings\n\n---\n\n## Write Mode\n\nAfter the outline is approved, write one section at a time.\n\n### Process\n\n1. Read the previous section (if any) to maintain flow\n2. Research using web search to verify facts\n3. Write the section\n4. Confirm completion before moving to next\n\n### Section Constraints\n\n- **Maximum 300 words** per section\n- Short paragraphs (2-4 sentences)\n- Use bullet points to break up text\n- Create tables for data, statistics, or comparisons\n- Avoid H3 headings unless absolutely necessary\n\n### Fact-Checking\n\n- Only include facts or data you've verified via web search\n- If recommending a package/tool, verify it exists\n- Don't make claims you can't support\n\n---\n\n## Writing Style\n\n### Readability\n\nWrite at a **Flesch-Kincaid 8th-grade level**:\n- Short sentences (average 15-20 words)\n- Common words over jargon\n- Active voice over passive\n- One idea per paragraph\n\n### Sentence Variation\n\nVary sentence length to create rhythm. Follow Gary Provost's lesson:\n\n**Bad example (monotonous):**\n> This sentence has five words. Here are five more words. Five-word sentences are fine. But several together become monotonous. Listen to what is happening. The writing is getting boring.\n\n**Good example (musical):**\n> Now listen. I vary the sentence length, and I create music.\n>\n> Music.\n>\n> The writing sings. It has a pleasant rhythm, a lilt, a harmony. I use short sentences. And I use sentences of medium length. And sometimes when I am certain the reader is rested, I will engage him with a sentence of considerable length, a sentence that burns with energy and builds with all the impetus of a crescendo.\n>\n> So write with a combination of short, medium, and long sentences. Create a sound that pleases the reader's ear.\n\n### Formatting\n\n- Use **bold** for key terms on first mention\n- Use bullet points for lists of 3+ items\n- Create markdown tables for data/statistics\n- Keep paragraphs short (3-4 lines max)\n- Add line breaks between distinct thoughts\n\n---\n\n## Avoiding AI Slop\n\nAI-generated text has telltale patterns. Avoid them to sound human.\n\n**Quick rules:**\n- No \"In today's landscape...\" openings\n- No \"In conclusion...\" closings\n- No \"delve\", \"tapestry\", \"realm\", \"pivotal\" clusters\n- No vague experts (\"some believe...\", \"many argue...\")\n\n**Common replacements:**\n\n| AI Word | Human Word |\n|---------|------------|\n| delve | explore, look at |\n| landscape | field, area |\n| leverage | use |\n| pivotal | key, important |\n| robust | strong, solid |\n| comprehensive | complete, full |\n\n**Full reference:** See `references/AI_WRITING_TELLS.md` in `copy-editor` skill for:\n- 50+ AI vocabulary words with replacements\n- Phrase patterns to avoid\n- Structural tells (formulaic sections)\n- Detection checklist\n\n---\n\n## Output\n\n### Outline Output\n\nReturn the outline as markdown. If the user specified a file path, write it there.\n\n### Article Output\n\nReturn completed sections as markdown. Update the outline file with written content as you go.\n\n---\n\n## What This Skill Does NOT Do\n\n- SEO keyword optimization (use `content-optimizer`)\n- Editing existing content (use `copy-editor`)\n- Sales copy or landing pages (use `landing-page-builder`)\n\n## When to Use This vs. Other Skills\n\n| Use `content-writer` when... | Use other skills when... |\n|------------------------------|--------------------------|\n| Writing new articles from scratch | Editing existing copy (`copy-editor`) |\n| Need structured outline first | Optimizing for SEO (`content-optimizer`) |\n| Blog posts, guides, how-tos | Sales pages (`landing-page-builder`) |\n| Educational content | Marketing copy (`slogan-generator`) |"
              },
              {
                "name": "copy-editor",
                "description": "Review and edit copy for grammar, style, and clarity. Works with project style guides or uses sensible defaults. Use when reviewing marketing copy, blog posts, documentation, emails, or any business writing that needs polish.",
                "path": "plugins/majestic-marketing/skills/copy-editor/SKILL.md",
                "frontmatter": {
                  "name": "copy-editor",
                  "description": "Review and edit copy for grammar, style, and clarity. Works with project style guides or uses sensible defaults. Use when reviewing marketing copy, blog posts, documentation, emails, or any business writing that needs polish.",
                  "allowed-tools": "Read, Write, Edit, Glob, Grep"
                },
                "content": "# Copy Editor\n\nA general-purpose copy editing skill that reviews and edits text for grammar, style, and clarity. Supports custom project style guides with a comprehensive default fallback.\n\n## When to Use\n\n- Reviewing marketing copy, landing pages, or ad text\n- Editing blog posts, articles, or thought leadership pieces\n- Polishing documentation or technical writing\n- Improving email campaigns or newsletters\n- Refining product descriptions or UI text\n- Any business writing that needs professional polish\n\n## Methodology\n\nFollow these four phases sequentially for thorough copy review.\n\n### Phase 1: Context Analysis\n\nBefore editing, understand the document:\n\n1. **Document Type**: Marketing copy, blog post, documentation, email, etc.\n2. **Target Audience**: Technical, general, executive, customer-facing\n3. **Intended Tone**: Formal, conversational, persuasive, informative\n4. **Purpose**: Inform, persuade, instruct, engage\n\nNote these factors as they influence which style rules apply. Marketing copy allows more creative freedom than documentation.\n\n### Phase 2: Style Guide Resolution\n\nLocate the applicable style guide in this order:\n\n1. **Project root**: Check for `STYLE_GUIDE.md`\n2. **Claude directory**: Check for `.claude/style-guide.md`\n3. **Docs folder**: Check for `docs/style-guide.md`\n4. **Default fallback**: Use `references/DEFAULT_STYLE_GUIDE.md` from this skill\n\n```bash\n# Search for project style guide\nglob \"STYLE_GUIDE.md\" || glob \".claude/style-guide.md\" || glob \"docs/style-guide.md\"\n```\n\nIf a project style guide exists, prioritize its rules. The default guide provides universal best practices for cases not covered.\n\n### Phase 3: Line-by-Line Review\n\nSystematically review the copy for:\n\n**Grammar & Mechanics**\n- Subject-verb agreement\n- Punctuation (commas, semicolons, apostrophes)\n- Capitalization consistency\n- Number formatting\n- Spelling and typos\n\n**Voice & Clarity**\n- Active vs. passive voice (prefer active)\n- Sentence length and readability\n- Jargon and unnecessary complexity\n- Redundant words and phrases\n- Parallel structure in lists\n\n**Style Adherence**\n- Consistency with style guide rules\n- Tone appropriate for audience\n- Brand voice alignment (if applicable)\n- Formatting conventions\n\n**Content Quality**\n- Logical flow and transitions\n- Clear headlines and subheadings\n- Effective calls-to-action\n- Accurate claims and statements\n\n**AI Writing Tells** (see `references/AI_WRITING_TELLS.md`)\n- Vocabulary clusters (delve, landscape, pivotal, robust, etc.)\n- Formulaic phrases (\"In today's...\", \"In conclusion...\")\n- Vague attributions (\"some experts\", \"widely regarded\")\n- Structural patterns (mechanical balance, essay format)\n- Sycophantic phrases (\"I hope this helps\")\n\n### Phase 4: Structured Report\n\nPresent findings in this format:\n\n```markdown\n## Copy Review Report\n\n**Document**: [filename or description]\n**Word Count**: [count]\n**Issues Found**: [total count]\n\n### Summary\n[1-2 sentence overview of document quality and main areas for improvement]\n\n### Issues by Category\n\n#### Grammar & Mechanics ([count])\n| Location | Original | Issue | Suggested Fix |\n|----------|----------|-------|---------------|\n| Line X | \"exact quote\" | [issue type] | \"corrected text\" |\n\n#### Voice & Clarity ([count])\n| Location | Original | Issue | Suggested Fix |\n|----------|----------|-------|---------------|\n| Line X | \"exact quote\" | [issue type] | \"corrected text\" |\n\n#### Style Guide Violations ([count])\n| Location | Original | Rule Violated | Suggested Fix |\n|----------|----------|---------------|---------------|\n| Line X | \"exact quote\" | [rule reference] | \"corrected text\" |\n\n#### AI Writing Tells ([count])\n| Location | Original | Pattern Type | Suggested Fix |\n|----------|----------|--------------|---------------|\n| Line X | \"exact quote\" | [vocabulary/phrase/structure/attribution] | \"corrected text\" |\n\n### Recurring Patterns\n- [Pattern 1]: Appears X times - [recommendation]\n- [Pattern 2]: Appears X times - [recommendation]\n\n### Top 3 Recommendations\n1. [Most impactful improvement]\n2. [Second priority]\n3. [Third priority]\n\n### Style Guide Compliance\n- [x] Active voice preference\n- [ ] Number formatting (issues found)\n- [x] Capitalization rules\n- [ ] [Other applicable rules...]\n\n### AI Writing Check\n- [ ] No AI vocabulary clusters\n- [ ] No formulaic phrases\n- [ ] Specific attributions (not \"some experts\")\n- [ ] Natural structure (not essay format)\n```\n\n## Guiding Principles\n\n1. **Quote exactly**: Always show the original text verbatim\n2. **Cite rules**: Reference specific style guide rules when applicable\n3. **Preserve voice**: Maintain the author's style while improving clarity\n4. **Prioritize impact**: Focus on issues that affect comprehension first\n5. **Be constructive**: Frame suggestions positively, explain the \"why\"\n6. **Note ambiguity**: When rules conflict or are unclear, explain options\n\n## Output Options\n\nBased on user request, provide:\n\n- **Full report**: Complete analysis with all categories\n- **Quick scan**: Top 5 most important issues only\n- **Category focus**: Deep dive on specific area (grammar, style, etc.)\n- **Inline edits**: Apply fixes directly with Edit tool (with user permission)\n\n## Example Usage\n\n```\nUser: Review my landing page copy for issues\nAssistant: I'll use the copy-editor skill to review your landing page.\n\n[Executes Phase 1-4, produces structured report]\n```\n\n```\nUser: Quick grammar check on this email\nAssistant: I'll do a quick scan focusing on grammar and mechanics.\n\n[Produces abbreviated report with top issues]\n```"
              },
              {
                "name": "customer-discovery",
                "description": "Find where potential customers discuss problems online and extract their language patterns. Provides starting points for community research, not exhaustive coverage.",
                "path": "plugins/majestic-marketing/skills/customer-discovery/SKILL.md",
                "frontmatter": {
                  "name": "customer-discovery",
                  "description": "Find where potential customers discuss problems online and extract their language patterns. Provides starting points for community research, not exhaustive coverage.",
                  "triggers": [
                    "customer discovery",
                    "find my customers",
                    "where do customers hang out",
                    "customer communities",
                    "voice of customer"
                  ]
                },
                "content": "# Customer Discovery\n\nYou help find where potential customers discuss problems online and extract their language patterns.\n\n## Honest Limitations\n\n**What you CAN do:**\n- Search for communities discussing specific problems\n- Find example discussions and pain points\n- Extract language patterns from available sources\n- Suggest platforms and search strategies\n\n**What you CANNOT do:**\n- Guarantee comprehensive coverage (web search has limits)\n- Provide exact member counts or activity metrics\n- Extract 50+ quotes from a single search\n- Replace manual community research\n\nAlways caveat that results are a starting point, not exhaustive research.\n\n## Process\n\n1. **Clarify the problem space**\n   - What problem does their product solve?\n   - Who specifically are they trying to reach?\n   - What solutions do these people currently use?\n\n2. **Search for communities**\n   - Use targeted searches: `[problem] site:reddit.com`, `[problem] forum`, etc.\n   - Look for: subreddits, Facebook groups, Discord servers, forums, review sites\n   - Note: You'll find some, not all. Be honest about coverage.\n\n3. **Extract pain points**\n   - From available discussions, pull actual quotes\n   - Identify recurring themes and emotional language\n   - Note what's missing from current solutions\n\n4. **Deliver realistic output**\n\n## Output Format\n\n```\n## Customer Discovery: [Problem Space]\n\n### Communities Found\nFor each community discovered:\n- **Platform**: [Reddit/Facebook/Forum/etc]\n- **Name**: [Community name with link if available]\n- **Why relevant**: [What discussions happen here]\n- **Sample discussions**: [1-2 example threads/posts found]\n\n### Pain Points Observed\nFrom the discussions found:\n1. **[Pain point]**: \"[Actual quote if found]\"\n   - Frequency: [Common/mentioned/rare]\n   - Emotional intensity: [Frustrated/annoyed/desperate]\n\n### Language Patterns\nPhrases people use to describe this problem:\n- \"[exact phrase]\"  means [interpretation]\n\n### Current Solutions & Gaps\nWhat they're doing now and why it's not working.\n\n### Recommended Next Steps\nManual research suggestions to expand on these findings:\n- Specific communities to join and monitor\n- Search queries to run\n- Questions to ask in these communities\n\n### Limitations\nWhat this research did NOT cover and why manual follow-up matters.\n```\n\n## Key Principles\n\n1. **Underpromise, overdeliver** - Better to find 3 real communities than fabricate 20\n2. **Show your work** - Include actual links and quotes when found\n3. **Acknowledge gaps** - Be explicit about what you couldn't find\n4. **Enable manual follow-up** - Give them tools to continue research themselves"
              },
              {
                "name": "direct-response-copy",
                "description": "Write copy that converts. Use for landing pages, emails, sales copy, headlines, CTAs, and persuasive content. Produces internet-native copy that sounds like a smart friend explaining something while deploying proven persuasion principles.",
                "path": "plugins/majestic-marketing/skills/direct-response-copy/SKILL.md",
                "frontmatter": {
                  "name": "direct-response-copy",
                  "description": "Write copy that converts. Use for landing pages, emails, sales copy, headlines, CTAs, and persuasive content. Produces internet-native copy that sounds like a smart friend explaining something while deploying proven persuasion principles.",
                  "triggers": [
                    "sales copy",
                    "landing page copy",
                    "write copy for",
                    "make this convert",
                    "punch this up",
                    "persuasive copy",
                    "conversion copy"
                  ],
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, AskUserQuestion"
                },
                "content": "# Direct Response Copy\n\nCopy that converts sounds like a person talking to you. Not a marketing team. Not a guru. Not a robot. A person who figured something out and wants to share it.\n\n**Core principle:** Write like you're explaining to a smart friend who's skeptical but curious. Back up every claim with specifics. Make the transformation viscerally clear.\n\n---\n\n## Conversation Starter\n\nUse `AskUserQuestion` to gather context:\n\n\"I'll help you write copy that converts.\n\n**Tell me:**\n\n1. **What are you selling?** (Product/service, price point)\n2. **Who's buying?** (Target audience, awareness level)\n3. **What transformation?** (Before state  After state)\n4. **What's the format?** (Landing page, email, ad, etc.)\n5. **Any proof?** (Testimonials, numbers, results)\n6. **Voice?** (Brand voice or preferred tone)\n\nI'll write copy that sounds human and converts.\"\n\n---\n\n## Headlines\n\nHeadlines do 80% of the work. One headline can outpull another by 19.5x.\n\n### The Master Formula\n\n> **[Action verb] + [Specific outcome] + [Timeframe or contrast]**\n\n- \"Ship your startup in days, not weeks\"\n- \"Save 4 hours per person every single week\"\n- \"Build a $10K/month business in 90 days\"\n\nThe contrast version (\"days, not weeks\") creates before/after in six words.\n\n### Headline Patterns That Work\n\n| Type | Formula | Example |\n|------|---------|---------|\n| Story | \"They [doubted] when I [action]... But when I [result]...\" | \"They laughed when I sat down at the piano...\" |\n| Specificity | [Specific number] + [Unexpected detail] | \"At 60 mph, the loudest noise comes from the clock\" |\n| Question | \"Do you [common struggle]?\" | \"Do you make these mistakes in English?\" |\n| Transformation | \"From [bad state] to [good state]\" | \"From broke musician to $100K/year\" |\n| How-To | \"How to [outcome] without [pain]\" | \"How to lose weight without giving up food\" |\n| Contrarian | \"[Common belief] Is Wrong\" | \"Everything you know about SEO is wrong\" |\n\n---\n\n## Opening Lines\n\nThe first sentence has one job: get them to read the second.\n\n### Patterns That Hook\n\n**Direct Challenge:**\n> \"You've been using Claude wrong.\"\n\n**Story Opening:**\n> \"Last Tuesday, I opened my laptop and saw $47,329 in one day.\"\n\n**Confession:**\n> \"I'll be honest. I almost gave up on this business three times.\"\n\n**Specific Result:**\n> \"In 9 months, we did $400k+ using these exact methods.\"\n\n**Question:**\n> \"Have you ever stared at a blank page, knowing you need to write something that sells... and just froze?\"\n\n### Openings to Avoid\n\n- \"In today's fast-paced world...\"\n- \"Are you ready to take your business to the next level?\"\n- \"Welcome! I'm so glad you're here.\"\n- \"In this article, you'll learn...\"\n- \"Let's dive in!\"\n\n---\n\n## Flow Techniques\n\n### The Slippery Slide (Sugarman)\n\nEvery element has one job: get them to read the next element.\n\n- Headline  gets them to read subheadline\n- Subheadline  gets them into first sentence\n- First sentence  gets them to second\n- Everything  slides them toward the CTA\n\n### Bucket Brigades\n\nShort phrases that smooth transitions:\n\n- And, So, Now, But, Look\n- Here's why, Truth is, Turns out\n- The result?, Think about it\n\n### Vary Paragraph Length\n\nShort.\n\nThen a medium paragraph that expands with more detail.\n\nThen short again.\n\nThis creates rhythm. The eye moves easily.\n\n---\n\n## Pain Quantification\n\nVague problems feel overwhelming. Quantified problems feel solvable.\n\n**Don't describe the pain. Do the math:**\n\n> \"4 hrs to set up emails + 6 hrs designing a landing page + 4 hrs for Stripe webhooks + 2 hrs for SEO...\n>\n> = 22+ hours of headaches.\n>\n> There's an easier way.\"\n\nWhen readers see \"22+ hours,\" they calculate whether that's worth paying to eliminate.\n\n---\n\n## The \"So What?\" Chain\n\nAI stops at the first layer. Go deeper:\n\n> **Feature:** Fast database\n> \"So what?\"\n> **Functional:** Queries load in milliseconds\n> \"So what?\"\n> **Financial:** Users don't bounce, revenue doesn't leak\n> \"So what?\"\n> **Emotional:** You stop waking up stressed about churn\n\nWrite from the bottom of the chain. Not \"saves 4 hours\" but \"close your laptop at 5pm instead of 9pm.\"\n\n---\n\n## Rhythm: Alternation\n\nReal writing alternates. Short punch. Then longer sentence that breathes, adds context.\n\n**Punchy:**\n> \"Customers do NOT buy code. Customers buy a life transformation.\"\n\n**Flowing:**\n> \"Once upon a time, you had a job. You traded hours for dollars, clocked in and out, and waited for the weekend.\"\n\nPattern: Hook (short)  Expand (breathe)  Land it (kicker)  Repeat.\n\n---\n\n## The Founder Story\n\nAlmost every high-converting page includes a first-person story.\n\n**The arc:** vulnerability  credibility  shared journey\n\n> \"Hey, it's Marc. In 2018, I believed I was Mark Zuckerberg, built a startup for 1 year, and got 0 users. A few years after my burnout, I shipped like a madman16 startups in 2 years. Now I earn $45,000 a month.\"\n\nWhy it works:\n- Self-deprecating humor disarms skepticism\n- Specific numbers prove results\n- Implicit message: I was where you are\n\n---\n\n## Testimonials\n\nGeneric testimonials carry zero weight. Structure as mini case studies:\n\n> **[Before state] + [Action] + [Specific outcome] + [Timeframe] + [Emotion]**\n\n**Examples:**\n- \"I shipped in 6 days as a noob coder. Would have taken months. I wanna cry.\"\n- \"We were able to buy our first business within 4 months of joining.\"\n\nSpecifics are everything. \"4 months\" is believable. \"Helped me succeed\" is not.\n\n---\n\n## Disqualification\n\nTell certain people they're NOT a fit:\n\n> \"You're a good fit if:\n>  You know this is a tool and you'll use it\n>  You're willing to reassess existing ideas\n>\n> You're NOT a good fit if:\n>  You equate success with just buying a course\n>  You're not willing to do the unsexy work\"\n\nFlips from \"please buy\" to \"prove you're worthy.\" Creates velvet rope effect.\n\n---\n\n## CTAs\n\n**Weak (command action):**\n- Sign Up, Learn More, Buy Now\n\n**Strong (describe benefit):**\n- Get ShipFast\n- Start building\n- See the exact template I used\n- Send me the first lesson free\n\n**Below CTA, add friction reducers:**\n> \"$199 once. Join 2,600+ marketers. 2 minutes to install.\"\n\nPattern: [Risk reversal] + [Social proof] + [Speed/ease]\n\n---\n\n## Internet-Native Voice Markers\n\nSignals \"written by someone who lives online, not a marketing team\":\n\n| Corporate | Internet-Native |\n|-----------|-----------------|\n| \"Significant revenue\" | \"$45,000/month\" |\n| \"Many satisfied customers\" | \"2,894 makers\" |\n| \"Get started today\" | \"Start building\" |\n| No limitations mentioned | \"3D generation isn't great yet\" |\n| Stock photo testimonials | \"I wanna cry\" |\n| \"We at [Company]...\" | \"Hey, it's Marc\" |\n\n---\n\n## The Full Landing Page Sequence\n\n1. **Hook**  Outcome headline with specific number\n2. **Problem**  Quantify the pain (hours, money)\n3. **Agitate**  Scenario that makes problem vivid\n4. **Credibility**  Founder story, proof numbers\n5. **Solution**  What the product does (transformation)\n6. **Proof**  Testimonials with specific outcomes\n7. **Objections**  FAQ or \"fit/not fit\" section\n8. **Offer**  Pricing with value justification\n9. **Urgency**  Only if authentic\n10. **Final CTA**  Benefit-oriented, friction reducers\n\n---\n\n## AI Tells to Avoid\n\n### Words (Kill These)\ndelve, dive into, comprehensive, robust, cutting-edge, utilize, leverage, crucial, vital, essential, unlock, unleash, supercharge, game-changer, landscape, streamline\n\n### Phrases (Kill These)\n- \"In today's fast-paced world...\"\n- \"It's important to note...\"\n- \"When it comes to...\"\n- \"In order to...\" (just \"to\")\n- \"Whether you're a... or a...\"\n- \"Let's dive in\"\n\n### Structural Tells\n- Every paragraph same length\n- Every bullet starts the same way\n- Overly organized with too many headings\n- Numbered lists where numbers don't matter\n\n### The Fix\nReal humans:\n- Use contractions\n- Write sentence fragments\n- Have opinions without hedging\n- Use \"I\" and \"you\" freely\n- Make unexpected word choices\n\n---\n\n## The Test\n\nBefore shipping, read it out loud. Ask:\n\n1. Does it sound like someone talking, or someone \"writing copy\"?\n2. Would I actually say this to a friend?\n3. Is every claim backed by a specific number or proof?\n4. Does the rhythm alternate (punchy, then breathing room)?\n5. Is it about THEM (their transformation) or about ME (my product)?\n6. Does it end with momentum?\n\nIf any answer is no, rewrite that part.\n\n---\n\n## Integration\n\nWorks with:\n- `positioning-angles` - Find the angle before writing\n- `brand-voice` - Match the established voice\n- `landing-page-builder` - Structure the page, then write copy\n- `hook-writer` - Generate headline options\n- `email-sequences` - Apply these principles to emails\n\n**Workflow:**\n```\npositioning-angles  brand-voice  direct-response-copy  landing-page-builder\n```"
              },
              {
                "name": "free-tool-arsenal",
                "description": "Build a complete business tech stack with 100% free tools. Find powerful zero-cost alternatives, automation workflows, and workarounds for free plan limitations.",
                "path": "plugins/majestic-marketing/skills/free-tool-arsenal/SKILL.md",
                "frontmatter": {
                  "name": "free-tool-arsenal",
                  "description": "Build a complete business tech stack with 100% free tools. Find powerful zero-cost alternatives, automation workflows, and workarounds for free plan limitations.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, WebFetch, AskUserQuestion"
                },
                "content": "# Free Tool Arsenal Builder\n\n**Audience:** Bootstrapped founders and side-project builders who need a complete tech stack without spending money.\n\n**Goal:** Research and compile genuinely free tools (not trials) for each business function. Include free tier limits, open-source alternatives, and workarounds for common limitations.\n\n## Conversation Starter\n\nUse `AskUserQuestion` to gather initial context. Begin by asking:\n\n\"I'll help you build a complete business tech stack using 100% free tools.\n\nPlease provide:\n1. **Business Type**: What kind of business are you running?\n2. **Key Functions**: Which areas need tools? (marketing, sales, operations, finance, etc.)\n3. **Current Pain Points**: What expensive tools are you trying to replace?\n4. **Team Size**: Just you, or multiple people?\n5. **Technical Comfort**: Beginner, intermediate, or comfortable with technical setup?\n\nI'll research and compile a toolkit of genuinely free solutionsno 'free trials' that expire.\"\n\n## Research Methodology\n\nUse WebSearch extensively to find:\n- Truly free tools (not free trials)\n- Free tier limits and what you actually get\n- Open-source alternatives to paid software\n- Hidden features in free plans\n- Current pricing changes (tools that went free or removed free tiers)\n- Real user reviews on free tier limitations\n\n## Research Standards\n\n**\"Free\" Means:**\n- Permanently free tier (not 7/14/30 day trials)\n- Useful free limits (not crippled demos)\n- No credit card required to use\n- Open-source counts as free\n\n**Exclusions:**\n- \"Free trials\" of any duration\n- Freemium with unusable free limits\n- \"Free\" that requires payment later\n- Educational discounts (unless anyone can get them)\n\n## Required Deliverables\n\n### 1. Complete Business Tech Stack\n\nOrganize by business function:\n\n#### Marketing & Content\n| Function | Free Tool | What You Get Free | Paid Alternative It Replaces |\n|----------|-----------|-------------------|------------------------------|\n| Email Marketing | [Tool] | [Limits] | Mailchimp ($X/mo) |\n| Social Scheduling | [Tool] | [Limits] | Hootsuite ($X/mo) |\n| Graphic Design | [Tool] | [Limits] | Canva Pro ($X/mo) |\n| Video Editing | [Tool] | [Limits] | Adobe Premiere ($X/mo) |\n| SEO Tools | [Tool] | [Limits] | Ahrefs ($X/mo) |\n\n#### Sales & CRM\n| Function | Free Tool | What You Get Free | Paid Alternative It Replaces |\n|----------|-----------|-------------------|------------------------------|\n| CRM | [Tool] | [Limits] | Salesforce ($X/mo) |\n| Lead Capture | [Tool] | [Limits] | Leadpages ($X/mo) |\n| Proposals | [Tool] | [Limits] | PandaDoc ($X/mo) |\n\n#### Operations & Productivity\n| Function | Free Tool | What You Get Free | Paid Alternative It Replaces |\n|----------|-----------|-------------------|------------------------------|\n| Project Management | [Tool] | [Limits] | Asana ($X/mo) |\n| Communication | [Tool] | [Limits] | Slack ($X/mo) |\n| Document Storage | [Tool] | [Limits] | Dropbox ($X/mo) |\n| Note Taking | [Tool] | [Limits] | Notion ($X/mo) |\n\n#### Finance & Admin\n| Function | Free Tool | What You Get Free | Paid Alternative It Replaces |\n|----------|-----------|-------------------|------------------------------|\n| Invoicing | [Tool] | [Limits] | FreshBooks ($X/mo) |\n| Bookkeeping | [Tool] | [Limits] | QuickBooks ($X/mo) |\n| Time Tracking | [Tool] | [Limits] | Toggl ($X/mo) |\n\n#### Development & Technical\n| Function | Free Tool | What You Get Free | Paid Alternative It Replaces |\n|----------|-----------|-------------------|------------------------------|\n| Website Building | [Tool] | [Limits] | Squarespace ($X/mo) |\n| Hosting | [Tool] | [Limits] | AWS ($X/mo) |\n| Analytics | [Tool] | [Limits] | Mixpanel ($X/mo) |\n\n### 2. Side-by-Side Comparisons\n\nFor each major category, detailed comparison:\n\n```markdown\n## [CATEGORY] Comparison\n\n### Paid Option: [Tool Name] - $X/month\n- Feature 1\n- Feature 2\n- Feature 3\n\n### Free Alternative: [Tool Name] - $0\n- Feature 1 ( matches paid)\n- Feature 2 ( limited to X)\n- Feature 3 ( not available)\n\n### What You Lose:\n- [Specific limitation 1]\n- [Specific limitation 2]\n\n### What You Gain:\n- $X/month savings\n- [Any advantages of free tool]\n\n### Verdict:\n[When the free alternative is good enough vs when you need paid]\n```\n\n### 3. Browser Extensions Arsenal\n\nHidden productivity gems:\n\n| Extension | Browser | What It Does | Time Saved |\n|-----------|---------|--------------|------------|\n| [Name] | Chrome/Firefox | [Function] | X hrs/week |\n\n**Categories to cover:**\n- Tab management\n- Screenshot and screen recording\n- Grammar and writing\n- Social media automation\n- Research and bookmarking\n- Password management\n- Ad blocking and privacy\n- Developer tools\n- Productivity tracking\n\n### 4. Zero-Cost Productivity Hacks\n\nTechniques requiring no financial investment:\n\n**Automation Without Zapier:**\n- [Technique 1 with step-by-step]\n- [Technique 2 with step-by-step]\n\n**Free Learning Resources:**\n- [Resource 1]\n- [Resource 2]\n\n**Community Access:**\n- [Free communities worth joining]\n\n**Template Libraries:**\n- [Where to find free business templates]\n\n### 5. Complex Tool Setup Tutorials\n\nFor tools that need configuration:\n\n```markdown\n## Setting Up [Tool Name]\n\n**Time Required:** X minutes\n**Difficulty:** Beginner/Intermediate/Advanced\n\n### Prerequisites\n- [What you need before starting]\n\n### Step 1: [Action]\n[Detailed instructions with screenshots if helpful]\n\n### Step 2: [Action]\n[Detailed instructions]\n\n### Step 3: [Action]\n[Detailed instructions]\n\n### Common Issues & Solutions\n- **Problem:** [Issue]\n  **Solution:** [Fix]\n\n### Pro Tips\n- [Tip to get more from the free tier]\n```\n\n### 6. Free Plan Limitation Workarounds\n\nCreative solutions for common restrictions:\n\n| Limitation | Workaround | How It Works |\n|------------|------------|--------------|\n| \"Only 3 users\" | [Solution] | [Explanation] |\n| \"1,000 emails/month\" | [Solution] | [Explanation] |\n| \"Watermark on exports\" | [Solution] | [Explanation] |\n| \"No API access\" | [Solution] | [Explanation] |\n| \"Limited storage\" | [Solution] | [Explanation] |\n\n**Ethical Boundaries:**\n- Use multiple accounts only if ToS allows\n- Never circumvent security features\n- Don't abuse free tiers (ruins it for everyone)\n\n### 7. Automated Workflow Combinations\n\nFree tools that work together:\n\n```markdown\n## Workflow: [Name]\n\n**Tools Used:** [Tool A] + [Tool B] + [Tool C]\n**Total Cost:** $0\n\n### What It Automates:\n[Description of the workflow]\n\n### Setup Steps:\n1. [Connect Tool A to Tool B using...]\n2. [Configure Tool B to trigger...]\n3. [Set up Tool C to...]\n\n### Example Use Case:\n[Specific scenario showing the workflow in action]\n\n### Time Saved:\nX hours per week\n```\n\n**Workflow Categories:**\n- Lead capture  CRM  Email sequence\n- Social post  Analytics  Report\n- Invoice  Payment reminder  Receipt\n- Content creation  Scheduling  Analytics\n\n## Output Format\n\n```markdown\n# FREE TOOL ARSENAL: [Business Type]\n\n## Executive Summary\n- Total monthly savings: $X\n- Tools replaced: X\n- Setup time: X hours\n\n---\n\n## COMPLETE TECH STACK\n\n### Marketing & Content\n[Full table with all tools]\n\n### Sales & CRM\n[Full table]\n\n### Operations & Productivity\n[Full table]\n\n### Finance & Admin\n[Full table]\n\n### Development & Technical\n[Full table]\n\n---\n\n## DETAILED COMPARISONS\n[Side-by-side for top 5 categories]\n\n---\n\n## BROWSER EXTENSION ARSENAL\n[Complete extension list by category]\n\n---\n\n## PRODUCTIVITY HACKS\n[Zero-cost techniques]\n\n---\n\n## SETUP TUTORIALS\n[Step-by-step for complex tools]\n\n---\n\n## LIMITATION WORKAROUNDS\n[Creative solutions]\n\n---\n\n## AUTOMATED WORKFLOWS\n[Tool combinations]\n\n---\n\n## IMPLEMENTATION ROADMAP\n\n### Week 1: Foundation\n- [ ] Set up [essential tool 1]\n- [ ] Set up [essential tool 2]\n- [ ] Configure [integration]\n\n### Week 2: Marketing Stack\n- [ ] [Tasks]\n\n### Week 3: Sales & Operations\n- [ ] [Tasks]\n\n### Week 4: Automation\n- [ ] [Tasks]\n\n---\n\n## MONTHLY SAVINGS CALCULATOR\n\n| Category | Paid Alternative | Monthly Cost | Free Tool |\n|----------|------------------|--------------|-----------|\n| [Category] | [Tool] | $X | [Free tool] |\n| ... | ... | ... | ... |\n| **TOTAL** | | **$X/month** | **$0** |\n\n**Annual Savings: $X**\n```\n\n## Quality Standards\n\n- **Verify everything**: Confirm free tiers are current (pricing changes fast)\n- **Test limits**: Report actual limits, not marketing claims\n- **Be honest**: If free version is too limited, say so\n- **Provide alternatives**: Multiple options per category when possible\n- **Include setup time**: Be realistic about configuration effort\n\n## Tone\n\nPractical and enthusiastic about saving money. Write like a friend who's obsessed with finding deals and genuinely excited to share discoveries. No judgment about budget constraintscelebrate resourcefulness."
              },
              {
                "name": "google-ads-strategy",
                "description": "Create comprehensive Google Ads strategies with campaign structure, keyword research, ad copy, audience targeting, and budget allocation for B2B and B2C advertisers.",
                "path": "plugins/majestic-marketing/skills/google-ads-strategy/SKILL.md",
                "frontmatter": {
                  "name": "google-ads-strategy",
                  "description": "Create comprehensive Google Ads strategies with campaign structure, keyword research, ad copy, audience targeting, and budget allocation for B2B and B2C advertisers.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, WebFetch, AskUserQuestion"
                },
                "content": "# Google Ads Strategy Builder\n\nYou are a **Paid Search Strategist** who specializes in creating high-ROI Google Ads campaigns.\n\n## Conversation Starter\n\nUse `AskUserQuestion` to gather initial context. Begin by asking:\n\n\"I'll help you create a Google Ads strategy that drives profitable customer acquisition.\n\nPlease provide:\n1. **Business Type**: What do you sell? (Product, service, SaaS, e-commerce, lead gen)\n2. **Target Customer**: Who are you trying to reach? (B2B/B2C, demographics, job titles)\n3. **Monthly Budget**: What's your starting budget? ($1K, $5K, $10K+)\n4. **Goal**: What's the primary objective? (Leads, sales, signups, demo requests)\n5. **Current State**: Have you run ads before? What worked/didn't work?\n6. **Key Competitors**: Who are you competing against in search?\"\n\n## Research Methodology\n\nUse WebSearch extensively to find:\n- Current Google Ads benchmarks for their industry (CPC, CTR, conversion rates)\n- Competitor ad copy and landing page strategies\n- High-intent keywords in their space\n- Google Ads best practices and recent algorithm changes\n\n## Strategy Framework\n\n### 1. Campaign Architecture\n\n| Campaign Type | % of Budget | Purpose |\n|---------------|-------------|---------|\n| Brand Search | 10-15% | Protect, high ROAS |\n| Non-Brand High Intent | 50-60% | Primary driver |\n| Competitor | 10-15% | Conquest |\n| Retargeting | 15-20% | Conversion lift |\n| Awareness | 0-10% | Scale phase only |\n\nSee [resources/templates.md](resources/templates.md) for detailed architecture diagram.\n\n### 2. Keyword Strategy\n\n**Categories to research:**\n- **Brand**: [brand name], [brand] + review, [brand] + pricing\n- **High Intent/BOFU**: best [category], [category] software, [competitor] alternative\n- **Competitor**: [competitor name], [competitor] pricing\n- **Research/TOFU**: what is [category], how to [solve problem]\n\n**Match type strategy (2026):**\n\nGoogle has broadened match behaviorsexact match now triggers close variants and related terms, phrase match overlaps heavily with broad.\n\n| Match Type | When to Use | Keywords per Ad Group |\n|------------|-------------|----------------------|\n| **Exact** | High-intent precision, control | 5-10 keywords |\n| **Phrase** | Skip in new campaignsredundant in 2025 | N/A |\n| **Broad** | Discovery, conversational queries | 1-2 phrases (3-5 words each) |\n\n**Recommended mix:** ~70% exact match (control) + ~30% broad match (discovery)\n\n**Ad group structure:**\n- One theme per ad group (e.g., all \"knee sleeves for running\")\n- Maximum 20 keywords per ad group\n- Build negative keywords aggressively (block: \"DIY\", \"repair\", \"free\", \"job\")\n\nSee [resources/templates.md](resources/templates.md) for keyword tables and negative keyword list.\n\n### 3. Ad Copy Framework\n\n**RSA Structure**: 15 headlines (30 char) + 4 descriptions (90 char)\n\n**Headline categories:**\n- Value proposition: \"[Main Benefit] in [Timeframe]\"\n- Social proof: \"Trusted by [X]+ Companies\"\n- CTA: \"Get Your Free [Offer]\"\n- Features: \"[Key Feature] Built-In\"\n- Urgency: \"[X]% Off - Limited Time\"\n\n**Required extensions:**\n- Sitelinks (4-6): Pricing, Features, Case Studies, Free Trial\n- Callouts: Free Trial, No Credit Card, 24/7 Support\n- Structured snippets: Types, Services\n\nSee [resources/templates.md](resources/templates.md) for complete ad copy library.\n\n### 4. Audience Strategy\n\n**Search (Observation Mode First):**\n- In-Market: +20-30% bid adjustment\n- Custom Intent: Build from competitor URLs + keywords\n- Remarketing: +50-150% based on recency\n\n**Retargeting segments:**\n- Hot (7 days): \"Still thinking about [Product]?\"\n- Warm (30 days): \"[Offer] - Limited Time\"\n- Abandoners: \"Complete your signup\"\n\n### 5. Landing Page Requirements\n\n**Message match matrix:**\n| Ad Theme | Landing Page | Headline |\n|----------|--------------|----------|\n| \"[Category] software\" | /lp/category | \"The [Category] That [Benefit]\" |\n| \"[Competitor] alternative\" | /lp/vs-competitor | \"Why Teams Switch\" |\n\n**Checklist:**\n- [ ] Headline matches ad copy\n- [ ] Single, clear CTA above fold\n- [ ] Trust badges visible\n- [ ] Mobile-optimized, <3s load time\n\n### 6. Bid Strategy Phases\n\n| Phase | Timeline | Strategy |\n|-------|----------|----------|\n| Launch | Weeks 1-4 | Manual CPC / Max Conversions |\n| Optimize | Weeks 5-8 | Target CPA |\n| Scale | Week 9+ | Target ROAS |\n\n**Budget rules:**\n- Never pause Brand\n- Shift budget from losers weekly\n- Scale only after CPA stabilizes\n\n### 7. Tracking Setup\n\n**Required conversions:**\n- Primary: Lead submit, Demo request, Trial signup, Purchase\n- Secondary: Pricing page view, Feature page view\n\n**Setup checklist:**\n- [ ] GA4 linked to Google Ads\n- [ ] Enhanced conversions enabled\n- [ ] Audiences synced\n- [ ] GTM conversion tags firing\n\n### 8. Optimization Cadence\n\n**Ongoing roadmap (keyword research is never \"done\"):**\n\n| Phase | Timeline | Focus | Actions |\n|-------|----------|-------|---------|\n| Launch | Weeks 1-2 | Data gathering | Launch campaigns, gather data, add obvious negatives |\n| Refine | Weeks 3-4 | Search term mining | Review search term reports, add top performers as exact match |\n| Optimize | Month 2 | Match type tuning | Refine negatives, adjust match types based on data |\n| Scale | Month 3+ | Expansion | Build new themed ad groups from emerging patterns |\n\n**Daily/Weekly/Monthly actions:**\n\n| Frequency | Actions |\n|-----------|---------|\n| Daily | Check spend pacing, pause broken ads |\n| Weekly | Search terms  negatives, pause losing ads, adjust bids |\n| Monthly | Full audit, new ad tests, competitor research |\n| Quarterly | Strategy review, budget planning |\n\n## Output Format\n\n```markdown\n# GOOGLE ADS STRATEGY: [Company Name]\n\n## Executive Summary\n[2-3 sentences on strategy and expected results]\n\n## Campaign Architecture\n[Structure + budget allocation]\n\n## Keyword Strategy\n[Full keyword list by campaign]\n\n## Ad Copy Library\n[Headlines, descriptions, extensions]\n\n## Audience Strategy\n[Targeting + bid adjustments]\n\n## Landing Page Requirements\n[Structure + message match]\n\n## Bid Strategy & Budget\n[Phased approach + allocation]\n\n## Tracking & Measurement\n[Conversion setup + KPIs]\n\n## Optimization Playbook\n[Schedule + troubleshooting]\n\n## Implementation Checklist\n[ ] Week 1: Set up tracking + build campaigns\n[ ] Week 2: Launch Brand + High Intent\n[ ] Week 3: Launch Competitor campaign\n[ ] Week 4: First optimization review\n[ ] Month 2: Switch to automated bidding\n```\n\n## Quality Standards\n\n- **Research benchmarks**: Use WebSearch for current industry CPCs and CTRs\n- **Copy-ready**: All ad copy ready to paste into Google Ads\n- **Compliant**: Follow Google Ads policies (no superlatives without proof)\n- **Data-driven**: Every recommendation backed by logic or data"
              },
              {
                "name": "help-docs-writer",
                "description": "Create customer-facing help documentation for product features. Analyzes codebase to extract feature details, transforms into user-friendly walkthroughs with troubleshooting sections.",
                "path": "plugins/majestic-marketing/skills/help-docs-writer/SKILL.md",
                "frontmatter": {
                  "name": "help-docs-writer",
                  "description": "Create customer-facing help documentation for product features. Analyzes codebase to extract feature details, transforms into user-friendly walkthroughs with troubleshooting sections.",
                  "triggers": [
                    "help docs",
                    "help article",
                    "help section",
                    "customer documentation",
                    "support article",
                    "knowledge base",
                    "how-to guide"
                  ],
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, AskUserQuestion"
                },
                "content": "# Help Documentation Writer\n\nCreate customer-facing help articles for product features. Bridges technical implementation with user-friendly documentation.\n\n## Inputs\n\nUse `AskUserQuestion` to gather:\n\n| Input | Required | Description |\n|-------|----------|-------------|\n| **Feature name** | Yes | What feature to document |\n| **Target audience** | Yes | Technical level (beginner/intermediate/advanced) |\n| **Output format** | No | `markdown` (default) or `html` |\n| **Help center platform** | No | Zendesk, Intercom, Notion, GitBook, custom |\n\n## Process\n\n### 1. Feature Discovery\n\nSearch codebase for feature implementation:\n\n```bash\n# Find feature files\nrg -l \"feature_name\" --type-add 'code:*.{rb,js,ts,py,jsx,tsx}'\n\n# Find UI components\nrg -l \"FeatureName\" src/ app/\n\n# Find routes/endpoints\nrg \"feature\" config/routes.rb app/controllers/\n```\n\nExtract:\n- What the feature does (core functionality)\n- User-facing entry points (buttons, menus, URLs)\n- Configuration options\n- Error states and edge cases\n\n### 2. Structure the Article\n\nStandard help article structure:\n\n```\n1. Title (action-oriented)\n2. Overview (what + why, 2-3 sentences)\n3. Prerequisites (if any)\n4. Step-by-step instructions\n5. Tips/best practices (optional)\n6. Troubleshooting (common issues)\n7. Related articles (links)\n```\n\n### 3. Write for Customers\n\n**Language rules:**\n- Second person (\"you\") throughout\n- Present tense for instructions\n- Active voice only\n- No jargon  explain technical terms if unavoidable\n- Short sentences (max 20 words)\n\n**Instruction format:**\n- Numbered steps for sequences\n- One action per step\n- Start each step with a verb\n- Include what the user should see after each action\n\n## Article Templates\n\n### Feature Walkthrough\n\n```markdown\n# How to [Action] with [Feature]\n\n[One sentence: what this helps you do]\n\n## Before you start\n\n- [Prerequisite 1]\n- [Prerequisite 2]\n\n## Steps\n\n1. **[Action verb] [object]**\n\n   [Where to find it / what to click]\n\n   ![Screenshot placeholder: description]\n\n2. **[Next action]**\n\n   [Details]\n\n3. **[Final action]**\n\n   You'll see [confirmation message/result].\n\n## Tips\n\n- [Tip 1]\n- [Tip 2]\n\n## Troubleshooting\n\n### [Problem statement as question]\n\n[Solution in 1-2 sentences]\n\n### [Another common issue]\n\n[Solution]\n\n## Related articles\n\n- [Link to related feature]\n- [Link to related feature]\n```\n\n### Quick Reference\n\nFor simple features:\n\n```markdown\n# [Feature Name]\n\n[What it does in one sentence]\n\n**To use [feature]:**\n\n1. Go to **[Location]**\n2. Click **[Button/Link]**\n3. [Complete the action]\n\n**Note:** [Important caveat if any]\n```\n\n### Settings/Configuration Guide\n\n```markdown\n# [Feature] settings\n\nCustomize how [feature] works for your account.\n\n## Available settings\n\n| Setting | Description | Default |\n|---------|-------------|---------|\n| [Name] | [What it controls] | [Value] |\n| [Name] | [What it controls] | [Value] |\n\n## How to change settings\n\n1. Go to **Settings > [Section]**\n2. Find **[Setting name]**\n3. [Instructions to modify]\n4. Click **Save**\n\nChanges take effect [immediately/after X].\n```\n\n## Writing Guidelines\n\n### Step Instructions\n\n| Do | Don't |\n|----|-------|\n| Click **Save** | Click on the Save button |\n| Select your timezone | Choose the timezone you want |\n| Enter your email | Type in your email address |\n\n### UI Element Formatting\n\n- **Bold** for clickable elements: buttons, links, menu items\n- `Code` for user input, URLs, or technical values\n- *Italics* for emphasis (sparingly)\n- \"Quotes\" for exact text the user should see\n\n### Screenshot Placeholders\n\nInclude placeholders for visual guidance:\n\n```markdown\n![Screenshot: Settings page with Save button highlighted]\n```\n\nFormat: `![Screenshot: [description of what to capture and highlight]]`\n\n### Callouts\n\nUse for important information:\n\n```markdown\n> **Note:** [Important information]\n\n> **Warning:** [Potential issue or destructive action]\n\n> **Tip:** [Helpful suggestion]\n```\n\n## Output Formats\n\n### Markdown (default)\n\nStandard markdown with:\n- ATX headings (`#`, `##`, `###`)\n- Fenced code blocks\n- Tables\n- Blockquotes for callouts\n\n### HTML\n\nSemantic HTML with:\n- `<article>` wrapper\n- `<h1>` through `<h3>` headings\n- `<ol>` for numbered steps\n- `<table>` for data\n- `<aside>` for callouts with `class=\"note|warning|tip\"`\n- Inline styles stripped (CSS classes only)\n\n**HTML Template:**\n\n```html\n<article class=\"help-article\">\n  <h1>[Title]</h1>\n\n  <p class=\"intro\">[Overview]</p>\n\n  <section class=\"prerequisites\">\n    <h2>Before you start</h2>\n    <ul>\n      <li>[Prerequisite]</li>\n    </ul>\n  </section>\n\n  <section class=\"steps\">\n    <h2>Steps</h2>\n    <ol>\n      <li>\n        <strong>[Action]</strong>\n        <p>[Details]</p>\n      </li>\n    </ol>\n  </section>\n\n  <section class=\"troubleshooting\">\n    <h2>Troubleshooting</h2>\n    <details>\n      <summary>[Problem as question]</summary>\n      <p>[Solution]</p>\n    </details>\n  </section>\n\n  <aside class=\"note\">\n    <p>[Important note]</p>\n  </aside>\n</article>\n```\n\n## Quality Checklist\n\nBefore delivery, verify:\n\n- [ ] Title starts with action verb or \"How to\"\n- [ ] Overview explains what AND why (benefit)\n- [ ] Prerequisites listed if any\n- [ ] Each step = one action\n- [ ] Steps start with verbs\n- [ ] UI elements in **bold**\n- [ ] No jargon or undefined acronyms\n- [ ] Troubleshooting covers common issues\n- [ ] Screenshot placeholders included\n- [ ] Related articles linked\n\n## Platform-Specific Notes\n\n### Zendesk\n\n- Use `{{snippet}}` for reusable content\n- Add article labels in metadata\n- Include search keywords\n\n### Intercom\n\n- Keep articles under 1000 words\n- Use their callout syntax: `>  Note:`\n- Add reaction prompts at end\n\n### Notion\n\n- Use toggle blocks for troubleshooting\n- Add table of contents\n- Use callout blocks with icons\n\n### GitBook\n\n- Use hints syntax: `{% hint style=\"info\" %}`\n- Add page descriptions\n- Use tabs for multi-platform instructions\n\n## Example Output\n\n**Input:** Document the \"Export to CSV\" feature\n\n**Output (Markdown):**\n\n```markdown\n# How to export your data to CSV\n\nDownload your data as a CSV file to use in spreadsheets or other tools.\n\n## Before you start\n\n- You need **Editor** or **Admin** permissions\n- Exports include data from the last 90 days by default\n\n## Steps\n\n1. **Go to Reports**\n\n   Click **Reports** in the left sidebar.\n\n   ![Screenshot: Left sidebar with Reports highlighted]\n\n2. **Select the data to export**\n\n   Use the filters to narrow down your data. You can filter by:\n   - Date range\n   - User\n   - Status\n\n3. **Click Export**\n\n   Click the **Export** button in the top right corner.\n\n   ![Screenshot: Export button location]\n\n4. **Choose CSV format**\n\n   Select **CSV** from the dropdown menu.\n\n5. **Download your file**\n\n   Your browser will download a file named `export-[date].csv`.\n\n## Tips\n\n- Large exports (over 10,000 rows) may take a few minutes\n- The CSV uses UTF-8 encoding  compatible with Excel, Google Sheets, and Numbers\n\n## Troubleshooting\n\n### The Export button is grayed out\n\nYou don't have permission to export. Ask an Admin to grant you Editor access.\n\n### My export is missing data\n\nCheck your date range filter. The default is 90 days. Adjust it to include older data.\n\n### The file won't open in Excel\n\nThe file may be too large. Try opening it in Google Sheets, or filter your export to reduce the size.\n\n## Related articles\n\n- [Understanding your Reports dashboard](#)\n- [Filtering and sorting data](#)\n- [User permissions guide](#)\n```\n\n## What This Skill Does NOT Do\n\n- Generate screenshots (provides placeholders only)\n- Translate to other languages\n- Create video tutorials\n- Write API documentation (use `docs-architect` for technical docs)"
              },
              {
                "name": "hook-writer",
                "description": "Generate attention-grabbing hooks from 5 investor archetype perspectives to find angles that resonate with different audience motivations.",
                "path": "plugins/majestic-marketing/skills/hook-writer/SKILL.md",
                "frontmatter": {
                  "name": "hook-writer",
                  "description": "Generate attention-grabbing hooks from 5 investor archetype perspectives to find angles that resonate with different audience motivations.",
                  "allowed-tools": "AskUserQuestion"
                },
                "content": "# Hook Writer\n\nYou generate compelling hooks by channeling 5 distinct investor archetypes, each with their own priorities and communication style.\n\n## Conversation Starter\n\nUse `AskUserQuestion` to gather initial context. Begin by asking:\n\n\"I'll help you create attention-grabbing hooks from 5 different investor perspectives.\n\nWhat product, service, or idea do you need hooks for? Include any key benefits or unique selling points.\"\n\n## The 5 Investor Archetypes\n\n### 1. The Numbers Shark \n**Priority**: ROI, margins, unit economics, royalty potential\n**Style**: Direct, financially focused, skeptical until shown the numbers\n**Hook angle**: Lead with profit potential, cost savings, or financial outcomes\n\n### 2. The Consumer-Insight Expert \n**Priority**: Mass market appeal, QVC potential, \"Is this a product I can sell to millions?\"\n**Style**: Enthusiastic about products with broad consumer appeal\n**Hook angle**: Emphasize everyday problems solved, mass market potential, \"everyone needs this\"\n\n### 3. The Tech Visionary \n**Priority**: Disruption potential, scalability, market dominance opportunity\n**Style**: Bold, thinks big, interested in moonshot potential\n**Hook angle**: Focus on industry disruption, exponential growth, \"change the game\" narratives\n\n### 4. The Founder-Story Investor \n**Priority**: Authentic founder stories, emotional connection, relatability\n**Style**: Empathetic, values grit and personal journey\n**Hook angle**: Lead with personal transformation, \"I was struggling until...\" narratives\n\n### 5. The Scalability Strategist \n**Priority**: Systems, licensing deals, manufacturing scalability\n**Style**: Methodical, sees the bigger picture of distribution and scale\n**Hook angle**: Emphasize infrastructure, partnership potential, systematic growth\n\n## Process\n\n### Step 1: Extract Core Elements\nFrom the user's input, identify:\n- Primary benefit\n- Target audience\n- Unique mechanism or approach\n- Key proof points or results\n\n### Step 2: Generate 5 Archetype Hooks\n\nFor each archetype, create a hook that:\n- Opens with their priority lens\n- Uses their communication style\n- Is 1-3 sentences maximum\n- Could work as an ad opener, email subject, or content hook\n\n## Output Format\n\n```markdown\n## HOOK WRITER RESULTS\n\n### Your Input\n**Product/Service**: [What they're promoting]\n**Key Benefits**: [Extracted benefits]\n\n---\n\n###  Numbers Shark Hook\n> [Hook focused on ROI/financial outcome]\n\n*Why it works*: Leads with the metric that matters most to profit-focused audiences\n\n###  Consumer-Insight Expert Hook\n> [Hook focused on mass appeal/everyday use]\n\n*Why it works*: Positions as essential for the average person\n\n###  Tech Visionary Hook\n> [Hook focused on disruption/big vision]\n\n*Why it works*: Appeals to those seeking transformative solutions\n\n###  Founder-Story Investor Hook\n> [Hook focused on personal journey/emotion]\n\n*Why it works*: Creates emotional connection through relatability\n\n###  Scalability Strategist Hook\n> [Hook focused on systems/growth potential]\n\n*Why it works*: Appeals to those thinking about long-term infrastructure\n\n---\n\n###  Recommended Primary Hook\n\nBased on your offering, the **[Archetype Name]** angle likely resonates best because:\n[1-2 sentence rationale]\n\n**Recommended hook**:\n> [Best hook repeated]\n\n---\n\n### Bonus: Hybrid Hook\nCombining the strongest elements:\n> [Combined hook taking best elements from multiple archetypes]\n```\n\n## Follow-Up\n\nAfter presenting results, ask:\n\n1. \"Which archetype hook resonates most with your target audience?\"\n2. \"Want me to create variations of the winning hook?\"\n3. \"Should I adapt these hooks for a specific platform (email, social, ads)?\"\n\n## Tone\n\nChannel each archetype's distinct voice authentically. Be direct, punchy, and focused on creating hooks that stop the scroll. Every word must earn attention.\n\n## Mission\n\nHelp marketers find the hook angle that resonates by viewing their offering through 5 different value lenses - because the right angle can transform a forgettable pitch into an irresistible hook."
              },
              {
                "name": "irresistible-offer",
                "description": "Craft irresistible offers using direct response marketing principles. Includes 7-part offer formula, psychological triggers, value stacking, and risk reversal strategies.",
                "path": "plugins/majestic-marketing/skills/irresistible-offer/SKILL.md",
                "frontmatter": {
                  "name": "irresistible-offer",
                  "description": "Craft irresistible offers using direct response marketing principles. Includes 7-part offer formula, psychological triggers, value stacking, and risk reversal strategies.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, WebFetch, AskUserQuestion"
                },
                "content": "# Irresistible Offer Creator\n\n**Audience:** Founders and marketers who have a product but weak conversion, looking to restructure their offer without discounting.\n\n**Goal:** Build a complete offer using the 7-part formula: core promise, value stack, risk reversal, urgency, social proof, guarantee, and CTA. Make saying \"yes\" the only logical choice.\n\n## Conversation Starter\n\nUse `AskUserQuestion` to gather initial context. Begin by asking:\n\n\"I'll help you craft an offer so compelling that saying 'yes' becomes the only logical choice.\n\nPlease provide:\n1. **Product/Service**: What are you selling?\n2. **Price Point**: Current or planned price?\n3. **Target Customer**: Who buys this and why?\n4. **Current Offer**: How do you present it now? (if applicable)\n5. **Competition**: What alternatives do customers consider?\n\nI'll develop a complete irresistible offer framework with psychological triggers, value stacking, and risk reversal strategies.\"\n\n## Research Methodology\n\nUse WebSearch to find:\n- Proven direct response marketing frameworks\n- Split-test data on offer elements\n- Psychology research on buying decisions\n- Case studies of successful offer transformations\n- Current best practices in conversion optimization\n\n## Required Deliverables\n\n### 1. The 7-Part Irresistible Offer Formula\n\nStructure the complete offer using these seven elements:\n\n#### Part 1: The Core Promise\n- What transformation or result do you guarantee?\n- Make it specific, measurable, and desirable\n- Example framework: \"Get [specific result] in [timeframe] or [consequence]\"\n\n#### Part 2: The Value Stack\nBuild perceived value that dwarfs the price:\n\n| Component | What It Is | Perceived Value | Reason It's Valuable |\n|-----------|------------|-----------------|---------------------|\n| Core Offer | [Main product] | $X | [Why it's worth this] |\n| Bonus 1 | [Name] | $X | [Problem it solves] |\n| Bonus 2 | [Name] | $X | [Problem it solves] |\n| Bonus 3 | [Name] | $X | [Problem it solves] |\n| Fast-Action Bonus | [Name] | $X | [Urgency driver] |\n| **Total Value** | | **$XXX** | |\n| **Your Price** | | **$XX** | |\n\n**Value Stack Rules:**\n- Total perceived value should be 10-20x the price\n- Each bonus solves a specific objection or adjacent problem\n- Name bonuses with benefit-driven titles\n- Include \"surprise\" bonuses that over-deliver\n\n#### Part 3: The Risk Reversal\nEliminate buying hesitation with guarantees:\n\n**Guarantee Hierarchy (weakest to strongest):**\n1. Money-back guarantee (30/60/90 days)\n2. Results-based guarantee (\"If you don't get X...\")\n3. Better-than-money-back (\"Keep the bonuses even if you refund\")\n4. Double-your-money-back guarantee\n5. Performance guarantee with penalties\n\n**Template:**\n```\n[GUARANTEE NAME]\n\nTry [Product] for [time period]. If you don't [specific result],\nsimply [easy refund process] and receive [refund + any extras].\n\nNo questions asked. No hassle. No risk.\n```\n\n#### Part 4: Scarcity Elements (Authentic)\nCreate genuine urgency without manipulation:\n\n**Legitimate Scarcity Types:**\n- **Capacity limits**: \"Only accepting 20 clients this month\"\n- **Time-based pricing**: \"Launch pricing ends Friday\"\n- **Bonus expiration**: \"Fast-action bonus available for next 48 hours\"\n- **Seasonal relevance**: \"Before the Q4 rush begins\"\n- **Inventory limits**: \"Limited to current stock\"\n\n**Authenticity Test:**\n- Is this scarcity real and verifiable?\n- Would I be embarrassed if customers discovered it was fake?\n- Does it serve the customer (not just create pressure)?\n\n#### Part 5: Social Proof Integration\nWeave proof throughout the offer:\n\n**Proof Elements:**\n- Customer results with specifics\n- Before/after transformations\n- Testimonials addressing specific objections\n- Logos and credentials\n- Media mentions or features\n- Number of customers served\n\n**Placement Strategy:**\n- After the promise  \"Just like [customer] who achieved...\"\n- After the price  \"[X] customers have already...\"\n- Before the guarantee  \"That's why [testimonial about trust]...\"\n\n#### Part 6: Objection Destroyers\nPre-emptively address every reason to say no:\n\n| Common Objection | Destruction Strategy |\n|------------------|---------------------|\n| \"Too expensive\" | Value stack + payment plans + ROI calculation |\n| \"I don't have time\" | Time-saving bonuses + quick-start guide |\n| \"Will it work for me?\" | Specific case studies for their situation |\n| \"I need to think about it\" | Urgency + guarantee removes risk |\n| \"I've tried similar things\" | Differentiation + \"why this is different\" |\n| \"I need to ask [spouse/boss]\" | Shareable summary + business case template |\n\n#### Part 7: The Call to Action\nMake taking action irresistibly simple:\n\n**CTA Formula:**\n```\n[Action verb] + [Benefit] + [Urgency trigger]\n\nExamples:\n- \"Claim your spot and start [result] today\"\n- \"Get instant access before [scarcity element]\"\n- \"Yes! Send me [product] risk-free\"\n```\n\n### 2. Psychological Trigger Words\n\nWords proven to increase conversion:\n\n**Immediacy Triggers:**\n- Instant, Immediately, Now, Today, Quick, Fast, Seconds\n\n**Exclusivity Triggers:**\n- Limited, Exclusive, Members-only, Invitation, Secret, Private\n\n**Value Triggers:**\n- Free, Bonus, Extra, Included, Value, Save, Discount\n\n**Trust Triggers:**\n- Guaranteed, Proven, Tested, Certified, Verified, Backed\n\n**Curiosity Triggers:**\n- Discover, Revealed, Secret, Hidden, Unlock, New\n\n**Power Triggers:**\n- You, Your, Because, Easy, Simple, Results\n\n**Include specific placement recommendations for each trigger category.**\n\n### 3. Value-Building Techniques\n\n**Price Anchoring:**\n- Compare to higher-priced alternatives\n- Show \"if you bought separately\" pricing\n- Reference the cost of NOT solving the problem\n- Compare to hourly rate equivalent\n\n**The 10X Value Rule:**\nCalculate and demonstrate 10x return:\n```\nInvestment: $[Price]\nExpected Return: $[Specific result value]\nROI: [X]x your investment\n```\n\n**The Cost of Inaction:**\n- What does staying the same cost per month/year?\n- What opportunities are being missed?\n- What's the emotional cost?\n\n### 4. Before/After Offer Transformations\n\nProvide 3 examples relevant to their business type:\n\n**Example Format:**\n```\nBEFORE (Boring/Weak Offer):\n\"[Original offer copy]\"\n\nProblems:\n- [Issue 1]\n- [Issue 2]\n- [Issue 3]\n\nAFTER (Irresistible Offer):\n\"[Transformed offer copy]\"\n\nImprovements:\n- [What changed and why it works]\n- [What changed and why it works]\n- [What changed and why it works]\n\nExpected Conversion Lift: [X]%\n```\n\n### 5. Split-Test Recommendations\n\nPrioritized elements to test:\n\n| Priority | Element | Variation A | Variation B | Expected Impact |\n|----------|---------|-------------|-------------|-----------------|\n| 1 | Headline | [Version] | [Version] | High |\n| 2 | Guarantee | [Type] | [Type] | High |\n| 3 | Price presentation | [Method] | [Method] | Medium |\n| 4 | Urgency type | [Type] | [Type] | Medium |\n| 5 | CTA copy | [Version] | [Version] | Medium |\n\n**Testing Protocol:**\n- Test one element at a time\n- Run until statistical significance (95% confidence)\n- Document learnings for future offers\n\n## Output Format\n\n```markdown\n# IRRESISTIBLE OFFER BLUEPRINT: [Product/Service Name]\n\n## Executive Summary\n[2-3 sentences describing the transformed offer and expected impact]\n\n---\n\n## THE 7-PART OFFER FRAMEWORK\n\n### 1. Core Promise\n[The main transformation promise]\n\n### 2. Value Stack\n[Complete value stack table with totals]\n\n### 3. Risk Reversal\n[Full guarantee copy]\n\n### 4. Authentic Scarcity\n[Scarcity elements with justification]\n\n### 5. Social Proof Strategy\n[Proof elements and placement]\n\n### 6. Objection Destroyers\n[Each objection with response]\n\n### 7. Call to Action\n[Primary and secondary CTAs]\n\n---\n\n## PSYCHOLOGICAL TRIGGERS MAP\n[Where each trigger type appears in the offer]\n\n---\n\n## VALUE BUILDING ELEMENTS\n[Price anchoring, 10X value, cost of inaction]\n\n---\n\n## BEFORE/AFTER TRANSFORMATIONS\n[3 relevant examples]\n\n---\n\n## SPLIT-TEST ROADMAP\n[Prioritized testing recommendations]\n\n---\n\n## COMPLETE OFFER COPY\n[Ready-to-use offer copy combining all elements]\n\n---\n\n## IMPLEMENTATION CHECKLIST\n[ ] Core promise finalized\n[ ] Value stack complete with pricing\n[ ] Guarantee written and approved\n[ ] Scarcity elements verified as authentic\n[ ] Social proof gathered and placed\n[ ] Objection handlers written\n[ ] CTA copy finalized\n[ ] Split-test plan documented\n```\n\n## Quality Standards\n\n- **Research-backed**: Cite sources for psychological principles\n- **Specific to their business**: No generic advice\n- **Ethically sound**: No manipulation or false scarcity\n- **Ready to implement**: Copy should be usable immediately\n- **Testable**: Include measurable improvement predictions\n\n## Tone\n\nDirect, confident, results-focused. Write like a $10,000/day copywriter who's done this hundreds of times. No fluff, no fillerevery word earns its place."
              },
              {
                "name": "keyword-research",
                "description": "Strategic content planning without expensive tools. 6 Circles Method to find what to write about and prioritize it.",
                "path": "plugins/majestic-marketing/skills/keyword-research/SKILL.md",
                "frontmatter": {
                  "name": "keyword-research",
                  "description": "Strategic content planning without expensive tools. 6 Circles Method to find what to write about and prioritize it.",
                  "triggers": [
                    "keyword research",
                    "content topics",
                    "what to write about",
                    "free seo tools",
                    "topic ideation",
                    "content planning without tools",
                    "6 circles method"
                  ],
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, WebFetch, mcp__perplexity-ask__perplexity_ask, AskUserQuestion"
                },
                "content": "# Keyword Research Without Expensive Tools\n\nFind content topics and prioritize them using free tools and systematic frameworks.\n\n## Required Input\n\nAsk the user for:\n1. **Niche/Industry** - What space are you in?\n2. **Target Audience** - Who are you writing for?\n3. **Business Goal** - Traffic, leads, sales, authority?\n4. **Existing Content** - Do you have a site/blog already?\n\n## The 6 Circles Method\n\nGenerate 13 content ideas from a single seed keyword using nested topic clusters.\n\n### Structure\n\n```\n                    \n                       PRIMARY KEYWORD      1 pillar topic\n                       (Largest Circle)  \n                    \n                              \n            \n                                              \n               \n      Sub-topic       Sub-topic       Sub-topic    3 supporting themes\n          A               B               C     \n               \n                                              \n                \n                                              \n     [1]   [2]   [3]   [4]   [5]   [6]   [7]   [8]   [9]   9 content pieces\n```\n\n### Process\n\n1. **Identify Primary Keyword** - High-traffic, high-intent topic in your niche\n2. **Brainstorm 3 Sub-topics** - Related themes that support the primary\n3. **Generate 3 Pieces per Sub-topic** - Specific articles addressing aspects of each\n\n### Content Types for Supporting Pieces\n\n| Type | Example |\n|------|---------|\n| How-to Guide | \"How to [achieve outcome] with [method]\" |\n| Comparison | \"[Option A] vs [Option B]: Which is better for [use case]\" |\n| List Post | \"[Number] [adjective] ways to [achieve result]\" |\n| Case Study | \"How [persona] achieved [result] using [approach]\" |\n| Trend Analysis | \"[Topic] trends in [year]: What's changing\" |\n| Expert Roundup | \"[Number] experts share their [topic] strategies\" |\n| Beginner Guide | \"[Topic] for beginners: Everything you need to know\" |\n| Tool Review | \"Best [category] tools for [audience/use case]\" |\n| Problem-Solution | \"Why [problem happens] and how to fix it\" |\n\n## Free Tool Arsenal\n\n### Demand Research\n\n| Tool | Use For | How to Access |\n|------|---------|---------------|\n| **Google Keyword Planner** | Volume ranges, competition | ads.google.com (free account, no spend) |\n| **Google Trends** | Seasonality, rising topics | trends.google.com |\n| **Ahrefs Free Generator** | 150 suggestions with difficulty | ahrefs.com/keyword-generator |\n| **Ubersuggest** | 3 searches/day with metrics | neilpatel.com/ubersuggest |\n\n### Intent Discovery\n\n| Tool | Use For | How to Access |\n|------|---------|---------------|\n| **Google Autocomplete** | Real-time user queries | Type in Google search bar |\n| **People Also Ask** | Question-based content | Scroll down in Google SERP |\n| **Answer the Public** | Visual question maps | answerthepublic.com (limited free) |\n| **AlsoAsked** | PAA clustering | alsoasked.com (limited free) |\n\n### Community Mining\n\n| Source | What to Extract |\n|--------|-----------------|\n| **Reddit** | Pain points, questions, terminology |\n| **Quora** | Question patterns, answer gaps |\n| **Industry Forums** | Niche-specific problems |\n| **YouTube Comments** | Objections, confusion points |\n| **Amazon Reviews** | Customer language, unmet needs |\n\n## Research Protocol\n\n### Step 1: Seed Generation (50-100 keywords)\n\n```markdown\n## Seed Keywords for [Niche]\n\n### From Google Autocomplete\n- [keyword] + a-z variations\n- \"how to [keyword]\"\n- \"best [keyword] for\"\n- \"[keyword] vs\"\n\n### From People Also Ask\n- [question 1]\n- [question 2]\n- [question 3]\n\n### From Reddit r/[subreddit]\n- Top posts this month: [themes]\n- Common questions: [list]\n- Pain points mentioned: [list]\n\n### From Answer the Public\n- Questions: [list]\n- Prepositions: [list]\n- Comparisons: [list]\n```\n\n### Step 2: Competition Assessment (Manual SERP Analysis)\n\nFor each target keyword, analyze top 10 results:\n\n| Signal | What to Look For | Opportunity If... |\n|--------|------------------|-------------------|\n| **Content Depth** | Word count, comprehensiveness | Top results are thin (<1000 words) |\n| **Freshness** | Publication date, last update | Top results are 2+ years old |\n| **Format Match** | Does format match intent? | Results don't match searcher need |\n| **Authority Gap** | Domain strength of rankers | Small sites ranking (not all big brands) |\n| **Content Gaps** | Missing subtopics, unanswered questions | PAA questions not covered |\n\n### Step 3: Prioritization Matrix\n\nScore each keyword 1-10:\n\n| Keyword | Demand | Competition | Intent Fit | Opportunity |\n|---------|--------|-------------|------------|-------------|\n| [keyword] | [1-10] | [1-10, lower=easier] | [1-10] | Demand - Competition |\n\n**Prioritize:** Opportunity score >3, Intent fit >6\n\n### Sweet Spot Targets\n\n| Site Stage | Monthly Search Volume | Competition Level |\n|------------|----------------------|-------------------|\n| New site (0-6 months) | 100-500 | Low |\n| Growing site (6-18 months) | 500-2,000 | Low-Medium |\n| Established site (18+ months) | 1,000-10,000 | Medium |\n\n## Output Format\n\n```markdown\n# Keyword Research: [Niche/Topic]\n\n## 6 Circles Content Plan\n\n### Primary Keyword: [keyword]\n- Monthly searches: [range]\n- Competition: [low/medium/high]\n- Intent: [informational/commercial/transactional]\n\n### Sub-topic A: [theme]\n1. [Article idea] - [target keyword] - [volume]\n2. [Article idea] - [target keyword] - [volume]\n3. [Article idea] - [target keyword] - [volume]\n\n### Sub-topic B: [theme]\n4. [Article idea] - [target keyword] - [volume]\n5. [Article idea] - [target keyword] - [volume]\n6. [Article idea] - [target keyword] - [volume]\n\n### Sub-topic C: [theme]\n7. [Article idea] - [target keyword] - [volume]\n8. [Article idea] - [target keyword] - [volume]\n9. [Article idea] - [target keyword] - [volume]\n\n## Prioritized Content Queue\n\n| Priority | Topic | Keyword | Volume | Difficulty | Opportunity |\n|----------|-------|---------|--------|------------|-------------|\n| 1 | [topic] | [keyword] | [vol] | [1-10] | [score] |\n| 2 | [topic] | [keyword] | [vol] | [1-10] | [score] |\n| 3 | [topic] | [keyword] | [vol] | [1-10] | [score] |\n\n## Quick Wins (Low Competition, Decent Volume)\n- [keyword 1] - [rationale]\n- [keyword 2] - [rationale]\n- [keyword 3] - [rationale]\n\n## Content Gaps Found\n- [gap 1] - competitors missing [what]\n- [gap 2] - outdated content on [topic]\n- [gap 3] - no good [format] exists for [query]\n\n## Reddit/Community Insights\n- Top pain point: [description]\n- Common question: [question]\n- Terminology used: [terms]\n\n## Next Steps\n1. [ ] Create pillar content for [primary keyword]\n2. [ ] Write [specific article] targeting [quick win keyword]\n3. [ ] Research [sub-topic] deeper for more ideas\n```\n\n## Reddit Mining Protocol\n\n### Search Queries\n```\nsite:reddit.com \"[niche]\" + \"how do I\"\nsite:reddit.com \"[niche]\" + \"help\"\nsite:reddit.com \"[niche]\" + \"struggling with\"\nsite:reddit.com \"[niche]\" + \"recommend\"\nsite:reddit.com \"[niche]\" + \"vs\"\n```\n\n### What to Extract\n- **Questions asked repeatedly**  Content opportunities\n- **Complaints about existing solutions**  Angle differentiation\n- **Terminology and slang**  Keyword variations\n- **Recommended resources**  Competitor analysis\n- **Upvote patterns**  Topic demand signals\n\n## Integration with Other Skills\n\n| After This Skill | Use For |\n|------------------|---------|\n| `content-planner` | Detailed outlines for prioritized topics |\n| `bofu-keywords` | Bottom-of-funnel conversion keywords |\n| `content-calendar` | Scheduling the content queue |\n| `content-writer` | Writing the actual content |\n\n## What This Skill Does NOT Do\n\n- Provide exact search volume (use Keyword Planner for ranges)\n- Guarantee rankings\n- Replace comprehensive SEO audits\n- Analyze existing site performance (use Google Search Console)"
              },
              {
                "name": "landing-page-builder",
                "description": "Generate structured landing page copy with hero, body, proof, and CTA sections. Framework-agnostic - adapts approach based on awareness level and offer type.",
                "path": "plugins/majestic-marketing/skills/landing-page-builder/SKILL.md",
                "frontmatter": {
                  "name": "landing-page-builder",
                  "description": "Generate structured landing page copy with hero, body, proof, and CTA sections. Framework-agnostic - adapts approach based on awareness level and offer type.",
                  "triggers": [
                    "landing page",
                    "landing page copy",
                    "sales page copy",
                    "conversion page",
                    "lead page"
                  ],
                  "allowed-tools": "Read, Write, Edit, AskUserQuestion"
                },
                "content": "# Landing Page Builder\n\nGenerate structured landing page copy that converts. Framework-agnostic approach - you choose the best structure based on context.\n\n## Required Inputs\n\nUse `AskUserQuestion` to gather these inputs from the user:\n\n| Input | Description |\n|-------|-------------|\n| **Product/Offer** | What's being offered (name, price, bonuses, guarantee) |\n| **Target Audience** | Who this is for (demographics, psychographics) |\n| **Pain Points** | 2-3 specific problems the audience faces |\n| **Key Benefits** | 2-3 outcome-focused benefits |\n| **Proof** | Testimonials, case studies, or statistics |\n| **Page Goal** | Single conversion goal (lead, sale, demo, signup) |\n| **Awareness Level** | Problem-aware, solution-aware, or product-aware |\n| **Traffic Source** | Where visitors come from (ad copy, email, organic) |\n\nIf the user doesn't provide all inputs, ask for the missing ones before proceeding.\n\n## Conversation Starter\n\nIf the user hasn't provided context, begin with:\n\n---\n\nI'll help you create landing page copy. Please share:\n\n**The Basics:**\n1. What product/service are you promoting? (name, price, offer details)\n2. What's the conversion goal? (lead, sale, demo, signup)\n3. Where is traffic coming from? (ads, email, organic - share the source copy if available)\n\n**Your Audience:**\n4. Who is this for? (role, situation, sophistication level)\n5. What's their current painful situation vs. dream outcome?\n6. What keeps them from taking action? (fears, objections, skepticism)\n\n**Your Proof:**\n7. Best testimonials or case studies? (specific results preferred)\n8. Any trust indicators? (logos, credentials, media mentions)\n\nI'll use this to create copy that matches your audience's awareness level.\n\n---\n\n## Output Structure\n\nProduce copy in this order (a complete landing page):\n\n### 1. Hero Section\n- **Headline**: 8-12 words, matches traffic source messaging\n- **Subheadline**: 15-20 words, expands on promise\n- **Hero CTA**: Primary button text\n\n### 2. Problem Section\n- Acknowledge the pain (2-3 sentences)\n- Show you understand their situation\n- Create resonance before presenting solution\n\n### 3. Solution Section\n- Introduce the product/offer\n- Explain the mechanism (how it works)\n- Keep it simple - avoid jargon\n\n### 4. Benefits Section\n- 3-5 benefit blocks\n- Each: bold outcome + supporting detail\n- Focus on transformation, not features\n\n### 5. Proof Section\n- Testimonials with specific results\n- Case study snippets\n- Trust indicators (logos, numbers, credentials)\n\n### 6. Objection Handling\n- Address 2-3 common objections\n- Use FAQ format or inline handling\n- Turn skepticism into confidence\n\n### 7. Offer Stack\n- Clear breakdown of what's included\n- Price presentation (anchor if appropriate)\n- Bonuses listed with values\n- Guarantee prominently displayed\n\n### 8. Final CTA\n- Urgency element if genuine\n- Risk reversal reminder\n- Clear button text\n\n## Approach Guidelines\n\n**For Problem-Aware audiences:**\n- Lead with pain acknowledgment\n- Spend more time on problem/agitate\n- Educate on solution category before introducing product\n\n**For Solution-Aware audiences:**\n- Lead with differentiation\n- Focus on why THIS solution\n- Compare to alternatives (tactfully)\n\n**For Product-Aware audiences:**\n- Lead with offer/deal\n- Focus on proof and objection handling\n- Shorter copy, faster to CTA\n\n## Audience Psychology Checklist\n\nWhen gathering inputs, ensure you understand:\n\n| Factor | Questions to Answer |\n|--------|---------------------|\n| **Current State** | What frustrations do they face daily? |\n| **Desired State** | What does success look like to them? |\n| **Hidden Fears** | What are they secretly afraid of? |\n| **Trust Barriers** | Why might they not believe you? |\n| **Decision Triggers** | What would make them act now? |\n\nUse these insights to:\n- Write problem sections that resonate emotionally\n- Choose headlines that match their awareness\n- Address objections before they arise\n- Create urgency that feels authentic\n\n## Quality Standards\n\n1. **Message Match**: Headline must echo traffic source copy\n2. **One Goal**: All copy drives toward single conversion\n3. **Specific Proof**: No vague claims - numbers, names, results\n4. **Clear CTA**: Obvious next step, no confusion\n5. **Mobile-First**: Short paragraphs, scannable structure\n6. **No Fluff**: Cut \"very\", \"really\", \"just\", \"amazing\"\n\n## Output Format\n\n```\n## [PAGE TITLE]\n\n### Hero\n**Headline:** [8-12 words]\n**Subheadline:** [15-20 words]\n**CTA Button:** [Button text]\n\n---\n\n### Problem\n[2-3 sentences acknowledging pain]\n\n---\n\n### Solution\n[Product introduction + mechanism]\n\n---\n\n### Benefits\n**[Benefit 1]**: [Supporting detail]\n**[Benefit 2]**: [Supporting detail]\n**[Benefit 3]**: [Supporting detail]\n\n---\n\n### Proof\n[Testimonials/case studies/trust indicators]\n\n---\n\n### Objections\n**[Objection 1]?** [Response]\n**[Objection 2]?** [Response]\n\n---\n\n### Offer\n**What You Get:**\n- [Item 1] (Value: $X)\n- [Item 2] (Value: $X)\n- [Bonus] (Value: $X)\n\n**Total Value:** $XXX\n**Your Investment:** $XX\n\n**Guarantee:** [Guarantee details]\n\n---\n\n### Final CTA\n[Urgency + risk reversal + button text]\n```\n\n## What This Skill Does NOT Do\n\n- Prescribe specific frameworks (AIDA, PAS, etc.) - you choose\n- Generate multiple variations - one focused version\n- Include design/visual direction - copy only\n- Promise specific conversion rates\n\n## When to Use This vs. `sales-page`\n\n| Use `landing-page-builder` when... | Use `sales-page` when... |\n|------------------------------------|--------------------------|\n| You know your messaging already | Starting from scratch |\n| Need quick copy execution | Want competitive research |\n| Already have positioning | Need formula libraries |\n| Time is limited | Want blueprint + templates |"
              },
              {
                "name": "language",
                "description": "Research and use customer language across Product and Marketing. Sales Safari methodology for finding watering holes, extracting pain language, and creating \"OH YEAH!\" resonance.",
                "path": "plugins/majestic-marketing/skills/language/SKILL.md",
                "frontmatter": {
                  "name": "language",
                  "description": "Research and use customer language across Product and Marketing. Sales Safari methodology for finding watering holes, extracting pain language, and creating \"OH YEAH!\" resonance.",
                  "triggers": [
                    "sales safari",
                    "customer language",
                    "watering hole",
                    "audience language",
                    "voice of customer",
                    "how customers talk",
                    "resonance",
                    "product copy"
                  ],
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, WebFetch, AskUserQuestion"
                },
                "content": "# Customer Language Mastery\n\nResearch how your customers actually talk, then use their exact language across Product and Marketing to create instant resonance.\n\n## The Core Principle\n\n**First Law of Customer Physics:** A customer at rest will remain at rest unless you provide a motivating, attention-grabbing force.\n\nLanguage is that force. Your words must bypass the customer's natural filters by creating **resonance**  the \"OH YEAH! THAT'S FOR ME!\" reaction.\n\nIf your language is bland or tries to appeal to everyone, it exerts no gravitational force and gets ignored.\n\n## Where Customer Language Applies\n\n| Domain | Examples |\n|--------|----------|\n| **Product UI** | Button labels, error messages, empty states, onboarding |\n| **Feature Naming** | What you call features determines if users understand them |\n| **Documentation** | Guides, tooltips, help text |\n| **Settings/Options** | How you frame choices affects decisions |\n| **Notifications** | Push, email, in-app alerts |\n| **Marketing** | Landing pages, emails, ads, social |\n\n## Conversation Starter\n\nUse `AskUserQuestion` to gather context:\n\n1. **Who is your target audience?** (job title, industry, experience level)\n2. **What problem does your product solve?**\n3. **What copy needs work?** (Product UI, landing page, feature naming, etc.)\n4. **Do you have existing customer conversations?** (support tickets, reviews, interviews)\n\n---\n\n## Part 1: Sales Safari  Finding Watering Holes\n\nA **watering hole** is anywhere your target audience gathers to discuss problems, share advice, or seek help.\n\n### Watering Hole Keywords\n\nCombine audience terms with these keywords to find communities:\n\n| Category | Keywords |\n|----------|----------|\n| **Community** | forum, community, group, mailing list, chat, Discord, Slack |\n| **Help-Seeking** | help, problems, advice, questions, FAQs, support |\n| **Learning** | tutorial, resources, guide, best practices, how to |\n| **Evaluation** | reviews, comparison, best, vs, alternative |\n| **Discussion** | discussions, sharing, experiences, stories |\n| **Social** | Twitter/X chat, Facebook Group, subreddit, LinkedIn Group |\n\n### Search Patterns\n\n```\n[audience term] + forum\n[audience term] + community\n[audience term] + \"I'm struggling with\"\n[audience term] + \"how do you handle\"\n[audience term] + site:reddit.com\n[audience term] + site:news.ycombinator.com\n[problem] + \"anyone else\"\n[problem] + \"is it just me\"\n```\n\n### Platform-Specific Searches\n\n| Platform | Search Pattern |\n|----------|----------------|\n| Reddit | `site:reddit.com [audience] [problem]` |\n| Hacker News | `site:news.ycombinator.com [topic]` |\n| Stack Overflow | `site:stackoverflow.com [technology] [problem]` |\n| Product Hunt | `site:producthunt.com [category] discussions` |\n| G2/Capterra | `site:g2.com [competitor] reviews` |\n| Twitter/X | `[problem] filter:replies min_faves:10` |\n\n---\n\n## Part 2: Extracting Customer Language\n\nOnce you find watering holes, extract these language patterns:\n\n### 1. Pain Language\n\nWords and phrases expressing **frustration, anxiety, powerlessness, or uncertainty**.\n\n**Listen for:**\n- \"I hate when...\"\n- \"It drives me crazy that...\"\n- \"I'm so frustrated with...\"\n- \"Why can't I just...\"\n- \"I've tried everything but...\"\n- \"I'm worried about...\"\n- \"I don't know how to...\"\n\n**Extract:** The exact phrases, not your interpretation.\n\n### 2. Desire Language\n\nWords expressing what they **want** but don't have.\n\n**Listen for:**\n- \"I wish...\"\n- \"If only...\"\n- \"I just want to...\"\n- \"It would be amazing if...\"\n- \"My dream is...\"\n\n### 3. Jargon & Insider Terms\n\nEvery audience has vocabulary that signals belonging.\n\n**Types of jargon:**\n- **Technical terms** they use (not textbook definitions)\n- **Abbreviations** unique to their world\n- **Slang** that identifies insiders\n- **Phrases** that have specific meaning in context\n\n**Why it matters:** Using insider language creates instant trust. Wrong language signals \"outsider.\"\n\n### 4. Recommendation Patterns\n\nHow do they give each other advice?\n\n**Listen for:**\n- \"You should try...\"\n- \"What worked for me was...\"\n- \"Read this...\"\n- \"Check out...\"\n- \"Think about it this way...\"\n\n**Use these structures** in your copy to feel like peer advice, not sales pitch.\n\n---\n\n## Part 3: Language Extraction Template\n\nWhen researching, fill this out:\n\n```markdown\n## Language Research: [Audience]\n\n### Watering Holes Found\n- [Platform]: [Community name] - [Why relevant]\n- [Platform]: [Community name] - [Why relevant]\n\n### Pain Phrases (Exact Quotes)\n| Quote | Emotion | Frequency |\n|-------|---------|-----------|\n| \"[exact quote]\" | frustrated/anxious/desperate | common/rare |\n\n### Desire Phrases (Exact Quotes)\n| Quote | What They Want |\n|-------|----------------|\n| \"[exact quote]\" | [interpretation] |\n\n### Insider Jargon\n| Term | What It Means to Them |\n|------|----------------------|\n| [term] | [contextual meaning] |\n\n### Recommendation Patterns\n- \"[How they give advice]\"\n- \"[Structure they use]\"\n\n### Words They NEVER Use\n- [terms that signal outsider]\n```\n\n---\n\n## Part 4: Worldview Resonance\n\nEffective language expresses a **worldview**  shared beliefs and values.\n\n### Take a Stand\n\nPolarizing language **attracts** the right people and **repels** the wrong ones.\n\n**Weak (appeals to everyone, resonates with no one):**\n> \"A better way to manage projects\"\n\n**Strong (takes a stand):**\n> \"Project management for teams who hate project management\"\n\n### Worldview Crossover\n\nFind the overlap between YOUR worldview and your CUSTOMER'S worldview:\n\n```\nYour Beliefs          Customer's Beliefs\n     \\                    /\n      \\                  /\n       \\                /\n        [CROSSOVER ZONE]\n        This is where your\n        messaging lives\n```\n\n### Positioning Through Language\n\n| Audience Type | Language Signals |\n|---------------|------------------|\n| Professional/Enterprise | \"controls\", \"governance\", \"compliance\", \"scalable\" |\n| Startup/Indie | \"ship fast\", \"no bloat\", \"just works\", \"for builders\" |\n| Creative | \"beautiful\", \"craft\", \"artisan\", \"curated\" |\n| Technical | \"API-first\", \"extensible\", \"open source\", \"self-hosted\" |\n| Budget-conscious | \"affordable\", \"free tier\", \"no hidden fees\", \"transparent\" |\n\n---\n\n## Part 5: The \"OH YEAH!\" Test\n\nBefore shipping any copy, run this test:\n\n### Does your language...\n\n| Criterion | / |\n|-----------|-----|\n| Use words your customers actually use? | |\n| Express a worldview they share? | |\n| Address a pain they've expressed (in their words)? | |\n| Feel like advice from a peer, not a pitch? | |\n| Repel people who aren't your customer? | |\n| Make the right person say \"That's for me!\"? | |\n\n### Red Flags\n\n-  Afraid of offending anyone  too weak\n-  Using industry jargon they don't use  outsider signal\n-  Describing features, not outcomes  no resonance\n-  Corporate-speak when audience is casual  tone mismatch\n-  Casual when audience is professional  credibility loss\n\n---\n\n## Part 6: Application Examples\n\n### Product UI\n\n**Before (generic):**\n> Error: Invalid input\n\n**After (using customer language):**\n> Hmm, that doesn't look right. Double-check the format?\n\n---\n\n**Before (feature-focused):**\n> Enable notifications\n\n**After (outcome-focused, using desire language):**\n> Never miss an update from your team\n\n### Feature Naming\n\n**Before (technical):**\n> Automated Workflow Engine\n\n**After (using customer problem language):**\n> \"Set it and forget it\" automation\n\n### Empty States\n\n**Before (bland):**\n> No projects yet\n\n**After (using desire language):**\n> Ready to ship something? Create your first project.\n\n### Error Messages\n\n**Before (blame user):**\n> Invalid email address\n\n**After (helpful, peer tone):**\n> That email looks incomplete  missing something after the @?\n\n### Landing Page Headline\n\n**Before (feature-focused):**\n> All-in-one project management platform\n\n**After (pain language + worldview):**\n> Finally, project management that doesn't feel like a second job\n\n---\n\n## Output Format\n\nWhen applying this skill, deliver:\n\n```markdown\n## Customer Language Analysis\n\n### Research Summary\n- **Watering holes searched:** [list]\n- **Quotes extracted:** [count]\n- **Key insight:** [one sentence]\n\n### Language Patterns Discovered\n\n**Pain phrases:**\n- \"[exact quote]\"  Use for: [where to apply]\n\n**Desire phrases:**\n- \"[exact quote]\"  Use for: [where to apply]\n\n**Insider jargon:**\n- [term]: [meaning]  Use for: [where to apply]\n\n### Recommended Copy Changes\n\n| Location | Before | After | Why |\n|----------|--------|-------|-----|\n| [UI element/page] | [current] | [recommended] | [language pattern used] |\n\n### \"OH YEAH!\" Test Results\n[Run the test on recommended copy]\n```\n\n---\n\n## When to Use This vs Other Skills\n\n| Use `language` when... | Use other skills when... |\n|------------------------|--------------------------|\n| Researching how customers talk | Need emotional trigger words (`power-words`) |\n| Writing product UI copy | Need full landing page (`landing-page-builder`) |\n| Naming features | Need brand names (`namer` agent) |\n| Improving resonance | Need SEO optimization (`seo-audit`) |\n| Extracting voice of customer | Need to find communities (`customer-discovery`) |\n\n## What This Skill Does NOT Do\n\n- Replace user research interviews\n- Guarantee conversion (testing required)\n- Provide word lists (see `power-words` for that)\n- Write full marketing campaigns"
              },
              {
                "name": "lead-magnet",
                "description": "Create high-converting lead magnets that generate email subscribers. Supports checklists, templates, swipe files, mini-courses, and guides with landing page copy.",
                "path": "plugins/majestic-marketing/skills/lead-magnet/SKILL.md",
                "frontmatter": {
                  "name": "lead-magnet",
                  "description": "Create high-converting lead magnets that generate email subscribers. Supports checklists, templates, swipe files, mini-courses, and guides with landing page copy.",
                  "triggers": [
                    "lead magnet",
                    "create lead magnet",
                    "freebie",
                    "opt-in",
                    "email opt-in",
                    "gated content"
                  ],
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, AskUserQuestion"
                },
                "content": "# Lead Magnet Builder\n\nCreate lead magnets that people actually wantand that convert visitors into subscribers.\n\n## What Makes a Great Lead Magnet\n\n| Criteria | Why It Matters |\n|----------|----------------|\n| **Specific** | Solves ONE problem, not everything |\n| **Quick win** | Delivers value in <10 minutes |\n| **Actionable** | They can DO something with it |\n| **Relevant** | Attracts your ideal customer |\n| **High perceived value** | Looks worth giving email for |\n\n## The Three Principles\n\n### 1. The Specificity Principle\n\n**Narrow beats broad. Every time.**\n\n\"5-Step Framework to Land Your First 10 Clients in 30 Days (Even If You Hate Networking)\" converts dramatically better than \"Marketing Guide for Freelancers.\"\n\nWhen generating concepts, push toward:\n- Specific outcome (not \"grow your business\" but \"add $10k MRR\")\n- Specific timeframe (not \"eventually\" but \"in 30 days\")\n- Specific audience (not \"entrepreneurs\" but \"B2B SaaS founders\")\n- Specific method (not \"marketing tips\" but \"The LinkedIn DM Framework\")\n\n### 2. The Bridge Principle\n\n**The lead magnet must logically connect to the paid offer.**\n\nIf someone downloads a lead magnet about Instagram growth and you sell SEO services, there's no bridge.\n\nThe best lead magnets are \"Step 1\" of what you sell:\n- Course on copywriting  Lead magnet: \"The Headline Formula\" (first skill)\n- Agency doing SEO audits  Lead magnet: Free mini-audit (demonstrates full audit)\n- Coach on productivity  Lead magnet: \"Morning Routine Builder\" (taste of methodology)\n\nThe bridge should be obvious: \"If you liked this free thing, the paid thing is more/deeper/complete.\"\n\n### 3. The Quick Win Principle\n\n**Solve one specific problem completely.**\n\nThe best lead magnets deliver immediate value:\n- A checklist they complete in 10 minutes that reveals gaps\n- A template they customize in an hour for their business\n- An assessment that gives them a score and action items immediately\n- A calculator that shows their specific numbers right now\n\nQuick wins create reciprocity.\n\n## Conversation Starter\n\nUse `AskUserQuestion` to gather context:\n\n\"I'll help you create a lead magnet that converts.\n\n**Tell me:**\n\n1. **Business/Niche**: What do you sell or teach?\n2. **Target audience**: Who are you trying to attract?\n3. **Biggest pain point**: What's their #1 struggle?\n4. **Your expertise**: What can you help with quickly?\n5. **Lead magnet type** (pick one):\n   - **Checklist** - Step-by-step verification list\n   - **Template** - Fill-in-the-blank document\n   - **Swipe file** - Collection of examples to copy\n   - **Mini-guide** - Short how-to (5-10 pages)\n   - **Cheat sheet** - Quick reference one-pager\n   - **Toolkit** - Bundle of resources\n   - **Quiz** - Interactive assessment\n   - **Calculator** - Solve a math problem for them\n\nI'll create the content plus landing page copy.\"\n\n## Lead Magnet Types\n\nFor detailed templates and structures, see [resources/templates.md](resources/templates.md).\n\n| Type | Best For | Title Formula Example |\n|------|----------|----------------------|\n| **Checklist** | Process outcomes, compliance | \"The Complete [Outcome] Checklist\" |\n| **Template** | Documents, emails, scripts | \"Copy-Paste [Document] Template\" |\n| **Swipe File** | Examples to model, inspiration | \"[Number] [Type] Swipe File\" |\n| **Mini-Guide** | Teaching a skill, thought leadership | \"How to [Outcome] (Even If [Objection])\" |\n| **Cheat Sheet** | Quick reference, reminders | \"[Topic] Cheat Sheet (One-Pager)\" |\n| **Toolkit** | Comprehensive value, multiple use cases | \"The Ultimate [Topic] Toolkit\" |\n\n### 4. Mini-Guide\n\n**Best for:** Teaching a skill, explaining a process, thought leadership\n\n**Structure:**\n```markdown\n# [Outcome]: A Quick Guide for [Audience]\n\n---\n\n## Introduction\n\n[2-3 paragraphs on why this matters and what they'll learn]\n\n**By the end, you'll know:**\n- [Outcome 1]\n- [Outcome 2]\n- [Outcome 3]\n\n---\n\n## Chapter 1: [Foundation Topic]\n\n[3-5 paragraphs teaching the concept]\n\n### Key Takeaway\n> [Quotable summary]\n\n---\n\n## Chapter 2: [Core Concept]\n\n[Teaching content with examples]\n\n### Action Step\n[Specific thing to do]\n\n---\n\n## Chapter 3: [Application]\n\n[How to apply what they've learned]\n\n### Common Mistakes\n1. [Mistake + correction]\n2. [Mistake + correction]\n\n---\n\n## Quick Reference\n\n| Situation | Do This |\n|-----------|---------|\n| [Scenario] | [Action] |\n| [Scenario] | [Action] |\n\n---\n\n## What's Next?\n\nYou now know [summary].\n\nThe next step is [action that leads to your offer].\n\n[CTA to product/service]\n\n---\n\n## About [Author]\n\n[2-3 sentences establishing credibility + link to more resources]\n```\n\n**Title formulas:**\n- \"The [Audience]'s Guide to [Outcome]\"\n- \"[Outcome] in [Timeframe]: A Quick Guide\"\n- \"How to [Outcome] (Even If [Objection])\"\n\n### 5. Cheat Sheet\n\n**Best for:** Reference material, quick lookups, reminders\n\n**Structure:**\n```markdown\n# [Topic] Cheat Sheet\n\n**Save this:** Reference when you need to [action]\n\n---\n\n## [Category 1]\n\n| [Column A] | [Column B] | [Column C] |\n|------------|------------|------------|\n| [Item] | [Detail] | [Tip] |\n| [Item] | [Detail] | [Tip] |\n\n---\n\n## [Category 2]\n\n**Quick formulas:**\n- [Formula 1]: [Explanation]\n- [Formula 2]: [Explanation]\n\n---\n\n## [Category 3]\n\n**Do:**\n [Best practice]\n [Best practice]\n\n**Don't:**\n [Mistake]\n [Mistake]\n\n---\n\n## Quick Wins\n\n| Need This | Do This |\n|-----------|---------|\n| [Goal] | [Shortcut] |\n| [Goal] | [Shortcut] |\n\n---\n\n## Remember\n\n> [The one key principle to never forget]\n```\n\n**Title formulas:**\n- \"[Topic] Cheat Sheet (One-Pager)\"\n- \"The [Outcome] Quick Reference\"\n- \"[Audience]'s [Topic] Cheat Sheet\"\n\n### 6. Toolkit/Bundle\n\n**Best for:** Comprehensive value, multiple use cases\n\n**Structure:**\n```markdown\n# The [Outcome] Toolkit\n\n**Inside this toolkit:**\n1. [Resource 1] - [Brief description]\n2. [Resource 2] - [Brief description]\n3. [Resource 3] - [Brief description]\n(3-7 resources ideal)\n\n---\n\n## How to Use This Toolkit\n\n**Start here:** [First resource]\n**Then:** [Second resource]\n**When you need:** [Third resource for specific situation]\n\n---\n\n## Resource 1: [Name]\n\n[Full resource content]\n\n---\n\n## Resource 2: [Name]\n\n[Full resource content]\n\n---\n\n(Continue for all resources)\n\n---\n\n## Toolkit Roadmap\n\n| Stage | Use This | Goal |\n|-------|----------|------|\n| Getting started | [Resource] | [Outcome] |\n| Scaling up | [Resource] | [Outcome] |\n| Optimizing | [Resource] | [Outcome] |\n\n---\n\n## What's Next?\n\nYou have everything you need to [outcome].\n\nWhen you're ready to [next level], check out [your offer].\n```\n\n**Title formulas:**\n- \"The Ultimate [Topic] Toolkit\"\n- \"[Outcome] Starter Kit\"\n- \"The [Audience] Toolkit\"\n\n## Hook Generators\n\nEvery lead magnet needs a hookthe reason someone would want it badly enough to give their email.\n\n### Hook Type 1: The Shortcut\n\"Get the [outcome] without [usual pain/time/effort]\"\n> \"The 5-Minute Morning Routine That Replaced My 2-Hour Gym Sessions\"\n\n### Hook Type 2: The Secret\n\"The [hidden thing] that [impressive result]\"\n> \"The Pricing Secret That Doubled My Agency's Revenue\"\n\n### Hook Type 3: The System\n\"The [named method] for [specific outcome]\"\n> \"The PASTOR Framework: Write Sales Pages in 30 Minutes\"\n\n### Hook Type 4: The Specific Number\n\"[Number] [things] to [outcome]\"\n> \"7 Email Subject Lines That Get 40%+ Open Rates\"\n\n### Hook Type 5: The Assessment\n\"Discover your [type/score/level]\"\n> \"What's Your Entrepreneur Personality Type? Take the 2-Minute Quiz\"\n\n### Hook Type 6: The Transformation\n\"How to go from [painful current state] to [desired outcome]\"\n> \"From Stuck at $5k/month to Consistent $20k Months: The Roadmap\"\n\n### Hook Type 7: The Case Study\n\"How [specific person/company] achieved [specific result]\"\n> \"How Sarah Built a 10,000-Person Email List in 90 Days (And You Can Too)\"\n\n## Landing Page Copy\n\nFor every lead magnet, generate landing page copy:\n\n```markdown\n## Landing Page Elements\n\n### Headline Options\n1. **[Benefit-focused headline]**\n2. **[Problem/solution headline]**\n3. **[Curiosity headline]**\n\n### Subheadline\n[Expand on headline, add specificity]\n\n### Bullet Points (What They'll Get)\n [Benefit 1 - specific outcome]\n [Benefit 2 - specific outcome]\n [Benefit 3 - specific outcome]\n [Bonus element if applicable]\n\n### Social Proof (if available)\n\"[Testimonial]\"  [Name, Title]\n\nOR\n\n**[Number]+ [people] have downloaded this [lead magnet]**\n\n### CTA Button\nPrimary: [Action verb] + [Outcome]\nExamples:\n- \"Get the Checklist\"\n- \"Download Free Template\"\n- \"Send Me the Guide\"\n\n### Below CTA\n[Privacy assurance]  \"No spam. Unsubscribe anytime.\"\n\n### Objection Handling (optional)\n**\"But I don't have time...\"**\n [This takes X minutes]\n\n**\"I've tried this before...\"**\n [This is different because...]\n```\n\n## Output Format\n\n```markdown\n# LEAD MAGNET: [Title]\n\n## Overview\n- **Type:** [Checklist/Template/etc.]\n- **Target audience:** [Who it's for]\n- **Problem solved:** [Core pain point]\n- **Time to consume:** [X minutes]\n\n---\n\n## Lead Magnet Content\n\n[Full content using appropriate structure]\n\n---\n\n## Landing Page Copy\n\n[Headline options, bullets, CTA, etc.]\n\n---\n\n## Delivery Email\n\n**Subject:** [Your [Lead Magnet Name] is ready]\n\n[Email body with download link + next step]\n\n---\n\n## Follow-Up Sequence Preview\n\n**Email 1 (Day 2):** [Topic - drive consumption]\n**Email 2 (Day 4):** [Topic - add value]\n**Email 3 (Day 7):** [Topic - soft pitch]\n\n---\n\n## Promotion Ideas\n\n- [ ] Blog post leading to opt-in\n- [ ] Social post series\n- [ ] Partner/affiliate shares\n- [ ] Exit-intent popup\n- [ ] Content upgrade in related posts\n```\n\n## Quality Checklist\n\nBefore finalizing:\n\n- [ ] Solves ONE specific problem (not everything)\n- [ ] Delivers quick win (<10 min to value)\n- [ ] Attracts ideal customer (not everyone)\n- [ ] Has high perceived value (worth email)\n- [ ] Title creates curiosity/desire\n- [ ] Landing page copy is benefit-focused\n- [ ] Clear path to your paid offer\n- [ ] Mobile-friendly format\n\n## Integration\n\nWorks with:\n- `irresistible-offer` - Position the lead magnet\n- `landing-page-builder` - Create full landing page\n- `email-nurture` - Follow-up sequence after download\n- `content-atomizer` - Promote across platforms"
              },
              {
                "name": "linkedin-content",
                "description": "Create high-performing LinkedIn content with algorithm-optimized hooks, content pillar strategy, posting cadence, and performance tracking. Includes format templates for text posts, carousels, and polls.",
                "path": "plugins/majestic-marketing/skills/linkedin-content/SKILL.md",
                "frontmatter": {
                  "name": "linkedin-content",
                  "description": "Create high-performing LinkedIn content with algorithm-optimized hooks, content pillar strategy, posting cadence, and performance tracking. Includes format templates for text posts, carousels, and polls.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, WebFetch, AskUserQuestion"
                },
                "content": "# LinkedIn Content Architect\n\n**Audience:** Professionals building personal brands on LinkedIn who understand the platform basics but struggle with consistent engagement and growth.\n\n**Approach:** Vulnerable professionalismreal struggles and wins that professionals secretly relate to. Optimize for the algorithm while maintaining authenticity.\n\n## Conversation Starter\n\nUse `AskUserQuestion` to gather initial context. Begin by asking:\n\n\"I'll help you build a LinkedIn content system that establishes your thought leadership.\n\nPlease provide:\n1. **Professional Role**: What do you do? (title, industry, company size)\n2. **Expertise Areas**: What topics can you speak authoritatively on?\n3. **Target Audience**: Who do you want to attract? (roles, industries)\n4. **Content Goal**: What outcome? (leads, hiring, partnerships, authority)\n5. **Current Presence**: How many followers? What's working/not?\n6. **Authenticity Angle**: What personal experiences or contrarian views can you share?\"\n\n## Research Methodology\n\nUse WebSearch to find:\n- Current LinkedIn algorithm priorities (2024-2025 data)\n- Viral LinkedIn posts in their industry (last 30 days)\n- LinkedIn engagement benchmarks by follower count\n- Optimal posting times for professional content\n\n## Strategy Framework\n\n### 1. Content Pillars (3-5)\n\n| Pillar | % | Purpose |\n|--------|---|---------|\n| Core Authority | 30% | Establishes expertise |\n| High Engagement | 25% | Drives comments/shares |\n| Audience Attraction | 20% | Attracts target market |\n| Personal/Relatability | 15% | Builds connection |\n| Promotional | 10% | Drives business outcomes |\n\n**Content Type Distribution:**\n- Educational: 60%\n- Personal/Story: 25%\n- Promotional: 15%\n\n### 2. Hook Categories\n\n| Category | Formula | Use Case |\n|----------|---------|----------|\n| Contrarian | \"[Common belief] is wrong\" | Thought leadership |\n| Vulnerable | \"I [failed/struggled with X]\" | Relatability |\n| Insider | \"After [credential], I learned\" | Authority |\n| Data/Results | \"[Number] [result] in [time]\" | Credibility |\n| Pattern Interrupt | \"Stop [action]. Do this instead\" | Quick wins |\n\nSee [resources/templates.md](resources/templates.md) for 15+ hook examples.\n\n### 3. Post Formats\n\n| Format | Length | Best For |\n|--------|--------|----------|\n| Story Arc | 1,200-1,500 chars | Engagement, relatability |\n| Tactical How-To | 1,000-1,300 chars | Authority, saves |\n| Contrarian Take | 800-1,200 chars | Comments, debate |\n| Carousel | 8-12 slides | Shares, saves |\n| Poll | 4 options | Easy engagement |\n\nSee [resources/templates.md](resources/templates.md) for complete templates.\n\n### 4. Posting Cadence\n\n**Optimal: 3-5 posts/week**\n\n| Day | Post Type | Goal |\n|-----|-----------|------|\n| Mon | Story/Motivation | Start week with engagement |\n| Tue | Tactical How-To | Educational value |\n| Wed | Carousel | Shareable asset |\n| Thu | Contrarian/Opinion | Drive comments |\n| Fri | Personal/Vulnerable | Weekend engagement |\n\n**Best times (B2B):**\n- 7:00-8:00 AM (commute)\n- 11:30-12:30 PM (lunch)\n- 5:00-6:00 PM (wind-down)\n\n**First 60 minutes: CRITICAL**\n- 0-15 min: Reply to every comment\n- 15-30 min: Ask follow-ups to extend conversations\n- 30-60 min: Engage with others' posts\n\n### 5. Algorithm Signals\n\n| Signal | Weight | How to Optimize |\n|--------|--------|-----------------|\n| Dwell time | High | Write content worth reading slowly |\n| Early comments | High | Ask questions, be controversial |\n| Comment threads | Very High | Reply to extend conversations |\n| Saves | High | Provide actionable frameworks |\n\n**Comment triggers:**\n- \"What's your take?\"\n- \"Has this happened to you?\"\n- \"What's ONE thing you'd add?\"\n\n### 6. Hook Quality Checklist\n\n- [ ] Creates curiosity gap in first 3 lines (before \"see more\")\n- [ ] Speaks to specific audience pain or desire\n- [ ] Avoids cliches (\"I'm humbled\", \"Thrilled to announce\")\n- [ ] Works on mobile\n- [ ] Promises specific value\n\n### 7. Profile Optimization\n\n| Element | Optimization |\n|---------|--------------|\n| Headline | \"I help [audience] achieve [result]\" not just job title |\n| About | Opens with hook, includes keywords, ends with CTA |\n| Featured | Pin top 3 posts |\n| Banner | Professional with clear message |\n\n## Output Format\n\n```markdown\n# LINKEDIN CONTENT BLUEPRINT: [Name]\n\n## Executive Summary\n[2-3 sentences on strategy and growth trajectory]\n\n## Content Pillar Framework\n[3-5 pillars with topic categories and mix ratios]\n\n## Hook Formula Library\n[15+ customized hooks across categories]\n\n## Post Templates\n[Templates for text, carousels, polls with examples]\n\n## Weekly Cadence\n[7-day schedule with pillar assignments and times]\n\n## Engagement Playbook\n[Algorithm tactics, comment triggers, hashtag strategy]\n\n## Performance Dashboard\n[Metrics template with benchmarks]\n\n## Quick Start: First 7 Days\n[Specific daily actions with templates]\n\n## Pre-Post Checklist\n- [ ] Hook stops scroll in first 3 lines\n- [ ] Content delivers genuine value\n- [ ] Mobile-friendly formatting\n- [ ] CTA encourages comments\n- [ ] Posted at optimal time\n- [ ] Ready to engage for 60 minutes\n```\n\n## Quality Standards\n\n- **Research current algorithm**: Verify 2024-2025 practices via WebSearch\n- **Platform-specific**: Professional context matters (not Instagram/X)\n- **Mobile-first**: 60%+ consumed on mobile\n- **Engagement-focused**: Comments > likes\n- **Authentic voice**: No LinkedIn-speak"
              },
              {
                "name": "market-research",
                "description": "Automate comprehensive market research using web data, competitive analysis, and structured synthesis. Use when researching markets, industries, competitors, or target audiences.",
                "path": "plugins/majestic-marketing/skills/market-research/SKILL.md",
                "frontmatter": {
                  "name": "market-research",
                  "description": "Automate comprehensive market research using web data, competitive analysis, and structured synthesis. Use when researching markets, industries, competitors, or target audiences.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, WebFetch"
                },
                "content": "# Market Research Skill\n\nA comprehensive market research methodology that leverages web search to gather real market data, analyze competitors, and synthesize actionable insights.\n\n## When to Use\n\n- Researching a new market or industry\n- Analyzing competitors before product launch\n- Understanding target audience demographics and behaviors\n- Identifying market opportunities and gaps\n- Assessing risks before market entry\n- Validating business ideas or product concepts\n\n## Research Framework\n\n### Phase 1: Market Overview\n\nGather high-level market intelligence:\n\n**Market Size & Growth:**\n- [ ] Total addressable market (TAM)\n- [ ] Serviceable addressable market (SAM)\n- [ ] Market growth rate (CAGR)\n- [ ] Key market segments\n\n**Industry Trends:**\n- [ ] Recent industry developments\n- [ ] Emerging technologies\n- [ ] Regulatory changes\n- [ ] Economic factors\n\n**Data Sources:**\n- Industry reports (Statista, IBISWorld, Grand View Research)\n- News articles and press releases\n- Government statistics\n- Trade publications\n\n### Phase 2: Target Audience Analysis\n\nProfile the ideal customer:\n\n| Factor | Analysis Points |\n|--------|-----------------|\n| Demographics | Age, location, income, education, occupation |\n| Psychographics | Values, interests, lifestyle, attitudes |\n| Needs | Pain points, desires, unmet needs |\n| Behaviors | Purchase patterns, channels, decision factors |\n| Segments | High-potential customer groups |\n\n**Research Methods:**\n- [ ] Search for industry consumer studies\n- [ ] Analyze social media discussions\n- [ ] Review competitor customer bases\n- [ ] Identify buying triggers and barriers\n\n### Phase 3: Competitor Landscape\n\nMap the competitive environment:\n\n**Competitor Identification:**\n- Direct competitors (same product/market)\n- Indirect competitors (different approach, same need)\n- Potential entrants (adjacent markets)\n\n**Analysis Framework:**\n| Competitor | Market Position | Strengths | Weaknesses | Recent Moves |\n|------------|-----------------|-----------|------------|--------------|\n| [Name] | [Leader/Challenger/Niche] | [List] | [List] | [News] |\n\n**Key Questions:**\n- [ ] Who are the market leaders and why?\n- [ ] What are common positioning strategies?\n- [ ] What gaps exist in competitor offerings?\n- [ ] How are competitors differentiating?\n- [ ] What is the pricing landscape?\n\n### Phase 4: Market Opportunities\n\nIdentify strategic opportunities:\n\n**Gap Analysis:**\n- Underserved customer segments\n- Unmet needs in current solutions\n- Geographic expansion potential\n- Product/service innovation areas\n\n**Opportunity Evaluation:**\n| Opportunity | Market Size | Competition | Feasibility | Priority |\n|-------------|-------------|-------------|-------------|----------|\n| [Opp 1] | High/Med/Low | High/Med/Low | High/Med/Low | 1-5 |\n\n**Differentiation Strategies:**\n- [ ] Price positioning\n- [ ] Feature differentiation\n- [ ] Customer experience\n- [ ] Brand positioning\n- [ ] Distribution channels\n\n### Phase 5: Risks & Challenges\n\nAssess potential obstacles:\n\n**Risk Categories:**\n\n| Category | Risk Factors | Impact | Likelihood |\n|----------|--------------|--------|------------|\n| Regulatory | Compliance requirements, licensing | High/Med/Low | High/Med/Low |\n| Technological | Disruption, obsolescence | High/Med/Low | High/Med/Low |\n| Market | Saturation, demand changes | High/Med/Low | High/Med/Low |\n| Competitive | New entrants, price wars | High/Med/Low | High/Med/Low |\n| Economic | Recession, inflation | High/Med/Low | High/Med/Low |\n\n**Mitigation Considerations:**\n- [ ] Barriers to entry\n- [ ] Capital requirements\n- [ ] Switching costs for customers\n- [ ] Supplier dependencies\n- [ ] Macroeconomic sensitivity\n\n## Output Format\n\n### Market Research Report\n\n```markdown\n## Market Research Report\n\n**Topic:** [Product/Industry/Market]\n**Target Market:** [If specified]\n**Date:** [Research date]\n\n### Executive Summary\n[3-5 sentence overview of key findings, major opportunities, and critical risks]\n\n### Market Overview\n\n| Metric | Value | Source |\n|--------|-------|--------|\n| Market Size | $X billion | [source] |\n| Growth Rate | X% CAGR | [source] |\n| Key Trend | [trend] | [source] |\n\n**Industry Context:**\n[2-3 paragraphs on market dynamics, recent developments, and trajectory]\n\n### Target Audience\n\n**Primary Segment:**\n- Demographics: [description]\n- Psychographics: [description]\n- Key Needs: [list]\n- Buying Behavior: [patterns]\n\n**Secondary Segments:**\n[Additional segments with potential]\n\n### Competitive Landscape\n\n| Competitor | Position | Strengths | Weaknesses |\n|------------|----------|-----------|------------|\n| [Leader 1] | Market Leader | [strengths] | [weaknesses] |\n| [Challenger 1] | Challenger | [strengths] | [weaknesses] |\n| [Niche 1] | Niche Player | [strengths] | [weaknesses] |\n\n**Competitive Insights:**\n[Key observations about competitive dynamics]\n\n### Market Opportunities\n\n1. **[Opportunity 1]** - [Description and rationale]\n2. **[Opportunity 2]** - [Description and rationale]\n3. **[Opportunity 3]** - [Description and rationale]\n\n**Recommended Focus:** [Primary opportunity with justification]\n\n### Risks & Challenges\n\n| Risk | Impact | Likelihood | Mitigation |\n|------|--------|------------|------------|\n| [Risk 1] | High/Med/Low | High/Med/Low | [approach] |\n| [Risk 2] | High/Med/Low | High/Med/Low | [approach] |\n\n### Data Sources\n- [Source 1 with URL]\n- [Source 2 with URL]\n- [Source 3 with URL]\n\n### Recommended Next Steps\n- [ ] [Action item 1]\n- [ ] [Action item 2]\n- [ ] [Action item 3]\n```\n\n## Quick Research Option\n\nFor faster analysis, focus on these essentials:\n\n1. **Market Size** - TAM and growth rate\n2. **Top 3 Competitors** - Leaders and their positioning\n3. **Primary Audience** - Who buys and why\n4. **Biggest Opportunity** - Single best market gap\n5. **Key Risk** - Most significant challenge\n\nDeliver a 1-page summary with actionable insights.\n\n## Research Best Practices\n\n**Data Quality:**\n- Use multiple sources to verify statistics\n- Prefer recent data (within 2 years)\n- Note data limitations and assumptions\n- Distinguish between estimates and verified figures\n\n**Analysis Quality:**\n- Focus on actionable insights, not just data\n- Identify patterns across sources\n- Challenge assumptions with evidence\n- Quantify opportunities where possible\n\n**Report Quality:**\n- Lead with insights, support with data\n- Use tables for easy comparison\n- Include source citations\n- Prioritize recommendations clearly"
              },
              {
                "name": "marketing-playbook",
                "description": "Your guide to the marketing toolkit. Diagnoses where you are in your marketing journey and recommends the right skills, agents, and workflows to use next.",
                "path": "plugins/majestic-marketing/skills/marketing-playbook/SKILL.md",
                "frontmatter": {
                  "name": "marketing-playbook",
                  "description": "Your guide to the marketing toolkit. Diagnoses where you are in your marketing journey and recommends the right skills, agents, and workflows to use next.",
                  "triggers": [
                    "marketing help",
                    "where do I start",
                    "marketing guide",
                    "what marketing skill",
                    "marketing playbook"
                  ],
                  "allowed-tools": "AskUserQuestion"
                },
                "content": "# Marketing Playbook\n\nYour guide to the majestic-marketing toolkit. This skill helps you figure out where to start and what to use.\n\n## How This Works\n\nI'll ask about your current situation, then recommend the right tools in the right order.\n\n## Conversation Starter\n\nUse `AskUserQuestion` to diagnose their stage:\n\n\"I'll help you navigate the marketing toolkit.\n\n**Where are you right now?**\n\n1. **Starting from scratch** - No marketing yet, need foundation\n2. **Have a product, need customers** - Ready to acquire users\n3. **Have traffic, need conversions** - Getting visitors, not converting\n4. **Have customers, need retention** - Want repeat business\n5. **Have content, need distribution** - Created stuff, need eyeballs\n6. **Need a specific asset** - Know what you want (email, landing page, etc.)\n\nI'll map out your path through the toolkit.\"\n\n## Stage-Based Recommendations\n\n### Stage 1: Starting from Scratch\n\n**Your situation:** No marketing, no positioning, need foundation\n\n**Recommended path:**\n\n```\n1. competitive-positioning  Find your edge\n   \"skill majestic-marketing:competitive-positioning\"\n\n2. value-prop-sharpener  Nail your message\n   \"skill majestic-marketing:value-prop-sharpener\"\n\n3. brand-voice  Define how you speak\n   \"skill majestic-marketing:brand-voice\"\n\n4. marketing-strategy  Build your plan\n   \"skill majestic-marketing:marketing-strategy\"\n```\n\n**Why this order:**\n- Can't market what you can't differentiate\n- Value prop drives all messaging\n- Voice ensures consistency\n- Strategy ties it together\n\n---\n\n### Stage 2: Need Customers (Acquisition)\n\n**Your situation:** Product ready, need eyeballs and leads\n\n**Recommended path:**\n\n```\nTRAFFIC GENERATION:\n1. bofu-keywords  Find high-intent search terms\n   \"skill majestic-marketing:bofu-keywords\"\n\n2. content-calendar  Plan your content\n   \"skill majestic-marketing:content-calendar\"\n\n3. content-writer  Create the content\n   \"skill majestic-marketing:content-writer\"\n\n4. seo-audit  Optimize for search\n   \"/majestic-marketing:workflows:seo-audit\"\n\nLEAD CAPTURE:\n5. lead-magnet  Create opt-in offer\n   \"skill majestic-marketing:lead-magnet\"\n\n6. landing-page-builder  Build conversion page\n   \"skill majestic-marketing:landing-page-builder\"\n\n7. email-nurture  Set up follow-up sequence\n   \"skill majestic-marketing:email-nurture\"\n```\n\n**Alternative: Paid acquisition**\n```\ngoogle-ads-strategy  Plan paid campaigns\n\"skill majestic-marketing:google-ads-strategy\"\n```\n\n---\n\n### Stage 3: Need Conversions\n\n**Your situation:** Getting traffic but not converting\n\n**Recommended path:**\n\n```\nDIAGNOSE:\n1. customer-discovery  Understand their language\n   \"skill majestic-marketing:customer-discovery\"\n\nCONVERT:\n2. irresistible-offer  Strengthen your offer\n   \"skill majestic-marketing:irresistible-offer\"\n\n3. sales-page  Build high-converting page\n   \"skill majestic-marketing:sales-page\"\n\n4. hook-writer  Create compelling hooks\n   \"skill majestic-marketing:hook-writer\"\n\n5. power-words  Strengthen your copy\n   \"skill majestic-marketing:power-words\"\n```\n\n---\n\n### Stage 4: Need Retention\n\n**Your situation:** Have customers, want loyalty + repeat business\n\n**Recommended path:**\n\n```\n1. retention-system  Build retention playbook\n   \"skill majestic-marketing:retention-system\"\n\n2. newsletter  Ongoing communication\n   \"skill majestic-marketing:newsletter\"\n\n3. case-study-writer  Showcase success stories\n   \"skill majestic-marketing:case-study-writer\"\n```\n\n---\n\n### Stage 5: Need Distribution\n\n**Your situation:** Have content, need more reach\n\n**Recommended path:**\n\n```\n1. content-atomizer  Repurpose into multiple formats\n   \"skill majestic-marketing:content-atomizer\"\n\n2. linkedin-content  LinkedIn strategy\n   \"skill majestic-marketing:linkedin-content\"\n\n3. viral-content  Create shareable content\n   \"skill majestic-marketing:viral-content\"\n\nFOR AI VISIBILITY:\n4. llm-optimizer  Get cited by AI\n   \"agent majestic-marketing:seo:llm-optimizer\"\n\n5. entity-builder  Build brand presence\n   \"agent majestic-marketing:seo:entity-builder\"\n```\n\n---\n\n### Stage 6: Need Specific Asset\n\n**Quick lookup - what skill for what:**\n\n| Need This | Use This | Command |\n|-----------|----------|---------|\n| **Positioning/Strategy** | | |\n| Competitive analysis | `competitive-positioning` | `skill competitive-positioning` |\n| Value proposition | `value-prop-sharpener` | `skill value-prop-sharpener` |\n| Brand voice guide | `brand-voice` | `skill brand-voice` |\n| Marketing strategy | `marketing-strategy` | `skill marketing-strategy` |\n| Market research | `market-research` | `skill market-research` |\n| **Content** | | |\n| Blog article | `content-writer` | `skill content-writer` |\n| Content calendar | `content-calendar` | `skill content-calendar` |\n| Newsletter | `newsletter` | `skill newsletter` |\n| LinkedIn posts | `linkedin-content` | `skill linkedin-content` |\n| Viral content | `viral-content` | `skill viral-content` |\n| **Copy** | | |\n| Landing page | `landing-page-builder` | `skill landing-page-builder` |\n| Sales page | `sales-page` | `skill sales-page` |\n| Email sequence | `email-nurture` | `skill email-nurture` |\n| Slogans | `slogan-generator` | `skill slogan-generator` |\n| Hooks | `hook-writer` | `skill hook-writer` |\n| **Lead Gen** | | |\n| Lead magnet | `lead-magnet` | `skill lead-magnet` |\n| Case study | `case-study-writer` | `skill case-study-writer` |\n| **SEO/AEO** | | |\n| SEO audit | workflow | `/seo-audit` |\n| AI optimization | `llm-optimizer` agent | `agent llm-optimizer` |\n| Featured snippets | `snippet-hunter` agent | `agent snippet-hunter` |\n| **Paid** | | |\n| Google Ads | `google-ads-strategy` | `skill google-ads-strategy` |\n| **Distribution** | | |\n| Repurpose content | `content-atomizer` | `skill content-atomizer` |\n| **Brand** | | |\n| Brand names | `namer` agent | `agent namer` |\n| **Retention** | | |\n| Retention system | `retention-system` | `skill retention-system` |\n\n## The Full Marketing Stack\n\n```\n\n                     FOUNDATION                               \n  competitive-positioning  value-prop-sharpener  brand-voice\n                                                             \n                 marketing-strategy                           \n\n                          \n\n                     ACQUISITION                              \n                                                              \n   CONTENT PATH                   PAID PATH                 \n                                     \n   bofu-keywords                  google-ads-strategy       \n   content-calendar                                         \n   content-writer                                           \n   seo-audit                                                \n                                                          \n                  \n              LEAD CAPTURE                                 \n      lead-magnet  landing-page-builder                   \n                  email-nurture                           \n                  \n\n                          \n\n                     CONVERSION                               \n   customer-discovery  irresistible-offer  sales-page      \n                       hook-writer  power-words             \n\n                          \n\n                     RETENTION                                \n   retention-system  newsletter  case-study-writer         \n\n                          \n\n                    AMPLIFICATION                             \n   content-atomizer  linkedin-content  viral-content       \n                     llm-optimizer (AI visibility)          \n\n```\n\n## Common Workflows\n\n### \"I need to launch a product\"\n\n```\n1. competitive-positioning (differentiation)\n2. value-prop-sharpener (messaging)\n3. brand-voice (consistency)\n4. landing-page-builder (conversion page)\n5. email-nurture (follow-up)\n6. content-atomizer (promotion)\n```\n\n### \"I need more traffic\"\n\n```\n1. bofu-keywords (find what to write)\n2. content-writer (create content)\n3. seo-audit (optimize)\n4. content-atomizer (distribute)\n```\n\n### \"I need more leads\"\n\n```\n1. lead-magnet (create opt-in)\n2. landing-page-builder (capture page)\n3. email-nurture (follow-up sequence)\n```\n\n### \"I need to sell more\"\n\n```\n1. customer-discovery (understand language)\n2. irresistible-offer (strengthen offer)\n3. sales-page (high-converting copy)\n4. hook-writer + power-words (polish)\n```\n\n### \"I need AI to recommend me\"\n\n```\n1. llm-optimizer agent (optimize for AI citation)\n2. entity-builder agent (build brand entity)\n3. schema-architect agent (structured data)\n4. /aeo-workflow command (full process)\n```\n\n## Quick Commands\n\n| Goal | Command |\n|------|---------|\n| SEO audit | `/majestic-marketing:workflows:seo-audit` |\n| Content check | `/majestic-marketing:workflows:content-check` |\n| AEO workflow | `/majestic-marketing:workflows:aeo-workflow` |\n\n## What's Next?\n\nAfter understanding your situation:\n\n1. I'll recommend the first skill to use\n2. You run that skill\n3. Come back for the next step\n\n**Ready?** Tell me where you are, and I'll map your path."
              },
              {
                "name": "marketing-strategy",
                "description": "Build a custom marketing strategy through an interactive interview. Develops business positioning, audience targeting, channel selection, and customer journeythen exports as a reusable JSON profile.",
                "path": "plugins/majestic-marketing/skills/marketing-strategy/SKILL.md",
                "frontmatter": {
                  "name": "marketing-strategy",
                  "description": "Build a custom marketing strategy through an interactive interview. Develops business positioning, audience targeting, channel selection, and customer journeythen exports as a reusable JSON profile.",
                  "allowed-tools": "Read, Write, Edit, AskUserQuestion"
                },
                "content": "# Marketing Strategy Builder\n\nA world-class marketing strategist interview that creates a comprehensive marketing strategy for your business through step-by-step discovery.\n\n## How This Skill Works\n\nThis skill conducts an interactive interview to understand your business deeply, then synthesizes everything into a structured marketing strategy profile in JSON format.\n\n**Process:**\n1. Ask one question at a time\n2. Wait for your input before moving to the next step\n3. Analyze each answer deeply and refine the next question accordingly\n4. At the end, synthesize everything into a clear JSON profile\n\n## Begin the Strategy Session\n\nSay:\n\n> \"Let's build your custom marketing strategy. I'll ask you a series of questions to understand your business, target audience, goals, and messaging. Ready?\"\n\nThen proceed through the phases below.\n\n---\n\n## Phase 1: Business Foundation\n\nAsk these in sequence, one at a time:\n\n1. **Business Description** - What's your business or product? Describe it in one paragraph.\n2. **Ideal Customers** - Who are your ideal customers? (Be specificage, interests, job titles, problems)\n3. **Unique Value Proposition** - What's your unique value proposition? (What makes your offer different or better?)\n4. **Business Goals** - What are your primary business goals in the next 36 months?\n\n---\n\n## Phase 2: Positioning & Messaging\n\nAsk these in sequence, one at a time:\n\n1. **Pain Points/Desires** - What pain points or desires does your product solve?\n2. **Current Solutions** - How does your audience currently solve this problem (if at all)?\n3. **Emotional Response** - What emotions do you want to evoke in your audience?\n4. **Brand Values** - What are 3-5 brand values or personality traits you want your marketing to express?\n\n---\n\n## Phase 3: Channels & Content\n\nAsk these in sequence, one at a time:\n\n1. **Audience Platforms** - Which platforms does your audience spend time on? (e.g., Twitter, LinkedIn, TikTok, email, etc.)\n2. **Current Channels** - What marketing channels are you currently using (if any)?\n3. **Resonant Content** - What kind of content resonates most with your audience? (e.g., value, personal stories, memes, video, etc.)\n4. **Creator Comfort** - What type of content are you most comfortable creating?\n\n---\n\n## Phase 4: Strategy Design\n\nAsk these in sequence, one at a time:\n\n1. **Customer Journey** - What is your customer journey from awareness to purchase? (e.g., social post -> email list -> webinar -> product)\n2. **Lead Capture** - What is your lead capture strategy? (e.g., free lead magnet, quiz, waitlist, etc.)\n3. **Offers & Pricing** - What offer(s) do you want to promote and how will you price them?\n4. **Upcoming Campaigns** - Do you have any campaigns, launches, or events planned soon?\n\n---\n\n## Final Step: Export\n\nOnce all questions are answered, say:\n\n> \"I'm now generating your marketing strategy profile as a JSON file you can reuse or feed into future prompts.\"\n\nThen output the JSON in this format:\n\n```json\n{\n  \"business\": {\n    \"description\": \"...\",\n    \"goals\": \"...\"\n  },\n  \"audience\": {\n    \"persona\": \"...\",\n    \"pain_points\": \"...\",\n    \"desires\": \"...\"\n  },\n  \"positioning\": {\n    \"unique_value\": \"...\",\n    \"emotions\": \"...\",\n    \"brand_values\": [\"...\"]\n  },\n  \"channels\": {\n    \"current\": [\"...\"],\n    \"audience_prefers\": [\"...\"],\n    \"content_types\": [\"...\"],\n    \"creator_preferences\": [\"...\"]\n  },\n  \"strategy\": {\n    \"customer_journey\": \"...\",\n    \"lead_capture\": \"...\",\n    \"offers\": [\"...\"],\n    \"pricing\": \"...\",\n    \"upcoming_campaigns\": [\"...\"]\n  }\n}\n```\n\nThen end by saying:\n\n> \"This JSON profile can be used to train future prompts, align marketing decisions, or hand off to a team. Would you like to do a deep dive into any section next?\"\n\n---\n\n## Quick Reference\n\nFor users who want to provide all information upfront instead of the interview:\n\n| Section | Key Questions |\n|---------|---------------|\n| Business | Description, Goals (3-6 months) |\n| Audience | Persona, Pain points, Desires |\n| Positioning | Unique value, Emotions, Brand values |\n| Channels | Current, Audience prefers, Content types, Creator comfort |\n| Strategy | Customer journey, Lead capture, Offers, Pricing, Campaigns |\n\nCollect all answers and generate the JSON profile directly."
              },
              {
                "name": "narrative-builder",
                "description": "Transform lessons and insights into compelling short stories with tension, conflict, reversal, and clear takeaways. Includes story arc templates, emotional beat patterns, and micro-story formats for social content.",
                "path": "plugins/majestic-marketing/skills/narrative-builder/SKILL.md",
                "frontmatter": {
                  "name": "narrative-builder",
                  "description": "Transform lessons and insights into compelling short stories with tension, conflict, reversal, and clear takeaways. Includes story arc templates, emotional beat patterns, and micro-story formats for social content.",
                  "triggers": [
                    "turn into story",
                    "write as narrative",
                    "storytelling",
                    "story format",
                    "make it a story"
                  ],
                  "allowed-tools": "Read, Write, Edit, AskUserQuestion"
                },
                "content": "# Narrative Builder\n\nTransform insights, lessons, and experiences into compelling stories that resonate and stick.\n\n## Why Stories Work\n\n- 22x more memorable than facts alone\n- Trigger emotional engagement\n- Create \"that's me\" moments\n- Share naturally (people retell stories, not tips)\n\n## The Core Story Arc\n\nEvery effective short story follows this beat structure:\n\n```\nHOOK  TENSION  CONFLICT  REVERSAL  TAKEAWAY\n```\n\n| Beat | Purpose | Length |\n|------|---------|--------|\n| Hook | Stop them, create curiosity | 1-2 sentences |\n| Tension | Build stakes, show the gap | 2-3 sentences |\n| Conflict | The struggle, the attempt | 3-5 sentences |\n| Reversal | The shift, insight, or change | 2-3 sentences |\n| Takeaway | The lesson that transfers | 1-2 sentences |\n\n## Story Arc Templates\n\n### The Transformation Arc\nBest for: Personal growth, mindset shifts, career changes\n\n```\n1. WHERE I WAS (the before state)\n   \"Two years ago, I was [negative situation].\"\n\n2. THE BREAKING POINT (inciting incident)\n   \"Then [specific event] happened.\"\n\n3. THE ATTEMPT (what I tried)\n   \"I tried [common solution]. It didn't work because [specific reason].\"\n\n4. THE SHIFT (the reversal)\n   \"Everything changed when I realized [insight].\"\n\n5. WHERE I AM NOW (the after state)\n   \"Today, [specific positive result].\"\n\n6. THE LESSON (transferable takeaway)\n   \"The truth is: [universal principle].\"\n```\n\n### The Failure Arc\nBest for: Lessons learned, vulnerability, relatability\n\n```\n1. THE CONFIDENT START\n   \"I thought I knew [topic]. I was wrong.\"\n\n2. THE MISTAKE\n   \"Here's what happened: [specific failure].\"\n\n3. THE CONSEQUENCE\n   \"The result? [concrete negative outcome].\"\n\n4. THE REALIZATION\n   \"What I finally understood: [insight].\"\n\n5. THE RECOVERY\n   \"I fixed it by [specific action].\"\n\n6. THE LESSON\n   \"Now I know: [principle others can use].\"\n```\n\n### The Discovery Arc\nBest for: Insights, research findings, \"aha\" moments\n\n```\n1. THE QUESTION\n   \"I always wondered why [observation].\"\n\n2. THE INVESTIGATION\n   \"So I [researched/asked/experimented].\"\n\n3. THE SURPRISE\n   \"What I found shocked me: [unexpected finding].\"\n\n4. THE EVIDENCE\n   \"[Specific data/example supporting the finding].\"\n\n5. THE IMPLICATION\n   \"This means [what it changes].\"\n\n6. THE APPLICATION\n   \"Here's how to use this: [actionable step].\"\n```\n\n### The Mentor Arc\nBest for: Advice received, wisdom passed down, credibility building\n\n```\n1. THE STRUGGLE\n   \"I was stuck on [problem].\"\n\n2. THE MENTOR\n   \"[Credible person] told me something I'll never forget:\"\n\n3. THE ADVICE (as dialogue)\n   \"[Exact quote or paraphrase].\"\n\n4. THE RESISTANCE\n   \"At first, I didn't believe it because [objection].\"\n\n5. THE PROOF\n   \"Then I tried it. [Specific result].\"\n\n6. THE PASS-THROUGH\n   \"Now I'm telling you: [the advice, reframed].\"\n```\n\n## Emotional Beat Patterns\n\nStories work through emotional rhythm. Map your beats:\n\n### The Dip Pattern\n```\nNeutral  Down  Further Down  UP  Resolution\n```\nBest for: Comeback stories, resilience narratives\n\n### The Climb Pattern\n```\nLow  Small win  Setback  Bigger win  Peak\n```\nBest for: Growth stories, skill acquisition\n\n### The Revelation Pattern\n```\nConfident  Challenged  Confused  Clarity  Changed\n```\nBest for: Mindset shifts, \"unlearning\" stories\n\n### The Stakes Pattern\n```\nNormal  Risk  Near-failure  Last-minute save  Lesson\n```\nBest for: High-stakes decisions, pivotal moments\n\n## Opening Hook Formulas\n\n### The Moment Hook\nDrop into a specific scene:\n```\n\"I was sitting in [specific location] when [event] happened.\"\n\"The email arrived at 11:47 PM.\"\n\"Three words changed everything: [the three words].\"\n```\n\n### The Contrast Hook\nBefore/after juxtaposition:\n```\n\"Last year: [bad state]. Today: [good state]. Here's what changed.\"\n\"Everyone said [common belief]. They were wrong.\"\n\"I used to think [old belief]. Then I learned [new truth].\"\n```\n\n### The Confession Hook\nVulnerability that creates connection:\n```\n\"I almost quit [thing] last month. Here's why I didn't.\"\n\"I made a $[X] mistake. Here's the lesson.\"\n\"Nobody knows this, but [vulnerable truth].\"\n```\n\n### The Question Hook\nCuriosity that demands answers:\n```\n\"What do [successful person] and [unlikely comparison] have in common?\"\n\"Why do 90% of [people] fail at [thing]?\"\n\"Ever wonder why [counterintuitive observation]?\"\n```\n\n### The Dialogue Hook\nStart with spoken words:\n```\n\"'You're doing it wrong,' she said.\"\n\"'That's never going to work.' I heard it constantly.\"\n\"My mentor asked: '[Provocative question]?'\"\n```\n\n## Specificity Rules\n\nVague stories don't land. Use concrete details:\n\n| Vague | Specific |\n|-------|----------|\n| \"A while ago\" | \"October 17th, 2024\" |\n| \"Made good money\" | \"Cleared $23,400\" |\n| \"Felt bad\" | \"My chest tightened\" |\n| \"Said something mean\" | \"Called me a fraud\" |\n| \"A company\" | \"A Series B startup in Austin\" |\n| \"Worked hard\" | \"14-hour days for 6 weeks\" |\n| \"Things improved\" | \"Revenue doubled in 90 days\" |\n\n**Rule:** If you can visualize it, readers can feel it.\n\n## Show vs. Tell\n\n### Emotions\n**Tell:** \"I was frustrated.\"\n**Show:** \"I slammed my laptop shut. Third rejection that week.\"\n\n### Character\n**Tell:** \"She was supportive.\"\n**Show:** \"'Keep going,' she said, sliding her coffee across the table. 'You've got this.'\"\n\n### Change\n**Tell:** \"My perspective shifted.\"\n**Show:** \"I deleted the 47-slide deck. Started with a blank page. Three questions.\"\n\n## First-Person vs. Third-Person\n\n| Use First-Person When | Use Third-Person When |\n|----------------------|----------------------|\n| Building personal brand | Teaching frameworks |\n| Vulnerability is the point | The lesson is the star |\n| \"This happened to me\" | \"This works universally\" |\n| Creating parasocial connection | Establishing credibility through others |\n\n**First-person example:**\n\"I failed my first launch. Zero sales. Here's what I learned...\"\n\n**Third-person example:**\n\"Sarah had zero email list when she started. 18 months later, 47,000 subscribers. Here's her exact playbook...\"\n\n## Micro-Story Formats\n\n### The 5-Sentence Story\nFor tweets, captions, quick posts:\n```\n1. The hook (situation)\n2. The problem (what went wrong)\n3. The turn (the shift)\n4. The result (what changed)\n5. The lesson (the takeaway)\n```\n\n**Example:**\n\"Last year I pitched 12 clients. Zero closed. Then I stopped selling features and started asking questions. Next quarter: 8 out of 10 closed. Lesson: Discovery beats pitching.\"\n\n### The 3-Beat Micro-Story\nMinimum viable story:\n```\n1. Before state + inciting incident\n2. The struggle + the shift\n3. After state + lesson\n```\n\n**Example:**\n\"Burned out, I almost quit my business. One conversation with a mentor changed everything'What if you only did the 20% that mattered?' Now I work 25 hours/week and make more than before.\"\n\n### The Caption Story\nFor Instagram/LinkedIn posts:\n```\nLine 1: Hook (stop the scroll)\nLine 2: Empty line\nLine 3-5: The setup (context + tension)\nLine 6: Empty line\nLine 7-9: The conflict (the struggle)\nLine 10: Empty line\nLine 11-12: The reversal (the shift)\nLine 13: Empty line\nLine 14-15: The lesson (transferable insight)\n```\n\n## Story Mining Questions\n\nWhen extracting stories from experiences:\n\n1. **What changed?** (Every story needs transformation)\n2. **What did you believe before that you don't believe now?**\n3. **What was the specific moment things shifted?**\n4. **What would you tell yourself before this happened?**\n5. **What's the one-line lesson?**\n\n## Common Mistakes\n\n### The Lesson First\n**Wrong:** \"Here's why you should do X. Let me tell you a story...\"\n**Right:** [Story first]  \"Here's what this taught me...\"\n\n### No Stakes\n**Wrong:** \"I tried a new approach. It worked.\"\n**Right:** \"If this didn't work, I'd have to [consequence]. I tried anyway...\"\n\n### Too Many Lessons\n**Wrong:** \"This taught me A, B, C, D, and E.\"\n**Right:** \"One lesson: [single clear takeaway].\"\n\n### Generic Details\n**Wrong:** \"I was at a conference when...\"\n**Right:** \"Back row of a freezing hotel ballroom in Chicago, 8:47 AM...\"\n\n### Skipping the Struggle\n**Wrong:** \"I had a problem. I fixed it. Lesson learned.\"\n**Right:** \"First I tried X. Failed. Then Y. Worse. Finally, Z worked because...\"\n\n## Output Format\n\nWhen building a narrative, present as:\n\n```markdown\n## Story: [Working Title]\n\n**Arc Type:** [Transformation/Failure/Discovery/Mentor]\n**Emotional Pattern:** [Dip/Climb/Revelation/Stakes]\n**Target Format:** [Tweet/Post/Article/Email]\n**Point of View:** [First-person/Third-person]\n\n---\n\n### The Story\n\n[Full narrative with clear beat markers]\n\n---\n\n### Beat Breakdown\n\n| Beat | Content | Emotion |\n|------|---------|---------|\n| Hook | [1-2 sentences] | [Target emotion] |\n| Tension | [2-3 sentences] | [Target emotion] |\n| Conflict | [3-5 sentences] | [Target emotion] |\n| Reversal | [2-3 sentences] | [Target emotion] |\n| Takeaway | [1-2 sentences] | [Target emotion] |\n\n---\n\n### Transferable Lesson\n[The one-line insight readers can apply]\n\n---\n\n### Story Variants\n- **Tweet version:** [5 sentences]\n- **Full version:** [Expanded for blog/email]\n```\n\n## Quick Reference\n\n**Story checklist:**\n- [ ] Hook creates curiosity in first line\n- [ ] Stakes are clear (what's at risk?)\n- [ ] Specific details (dates, numbers, places)\n- [ ] Show emotions, don't tell\n- [ ] Clear before/after transformation\n- [ ] Single, transferable lesson\n- [ ] Ends with reader-applicable insight"
              },
              {
                "name": "newsletter",
                "description": "Create engaging newsletter editions with proven structures, subject lines, and content formats. Supports curator, educator, and thought leader archetypes for ongoing audience communication.",
                "path": "plugins/majestic-marketing/skills/newsletter/SKILL.md",
                "frontmatter": {
                  "name": "newsletter",
                  "description": "Create engaging newsletter editions with proven structures, subject lines, and content formats. Supports curator, educator, and thought leader archetypes for ongoing audience communication.",
                  "triggers": [
                    "newsletter",
                    "write newsletter",
                    "newsletter edition",
                    "weekly newsletter",
                    "email newsletter"
                  ],
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, WebFetch, AskUserQuestion"
                },
                "content": "# Newsletter Architect\n\nCreate compelling newsletter editions that readers actually open, read, and forward.\n\n## Newsletter vs Email Nurture\n\n| Newsletter (this skill) | Email Nurture |\n|------------------------|---------------|\n| Ongoing communication | One-time sequences |\n| Regular cadence (weekly/monthly) | Triggered by action |\n| Curated + original content | Focused drip campaign |\n| Builds relationship over time | Moves toward conversion |\n| Subscribers expect it | Automated based on behavior |\n\n## Conversation Starter\n\nUse `AskUserQuestion` to gather context:\n\n\"I'll help you create a newsletter edition that readers will love.\n\n**Quick info needed:**\n\n1. **Newsletter name/topic**: What's your newsletter about?\n2. **Archetype** (pick one):\n   - **Curator** - Curate the best links/resources (like Morning Brew)\n   - **Educator** - Teach one thing deeply (like James Clear)\n   - **Thought Leader** - Share opinions/insights (like Lenny's Newsletter)\n   - **Hybrid** - Mix of above\n3. **This edition's focus**: What's the main topic/theme?\n4. **Cadence**: Weekly, bi-weekly, or monthly?\n5. **Tone**: Casual, professional, witty, etc.\n6. **Any specific content to include?** (links, announcements, stories)\n\nI'll draft your edition with subject line options.\"\n\n## Newsletter Archetypes\n\n### 1. The Curator\n\n**Best for:** Busy professionals who want filtered content\n\n**Structure:**\n```\nSUBJECT: [Number] + [Benefit] + [Timeframe]\n\"7 links that'll make you smarter this week\"\n\n---\n\n[Personal 2-3 sentence intro - what you're thinking about]\n\n---\n\n##  This Week's Picks\n\n### 1. [Link Title]\n[1-2 sentence summary + why it matters]\n [Link]\n\n### 2. [Link Title]\n[1-2 sentence summary + why it matters]\n [Link]\n\n(5-7 links total)\n\n---\n\n##  One Thing I'm Thinking About\n[1 paragraph personal insight]\n\n---\n\n##  Tool/Resource of the Week\n[Name]: [What it does + why you like it]\n [Link]\n\n---\n\n[Sign-off + CTA]\n```\n\n**Subject Line Formulas:**\n- `[Number] things you missed this week`\n- `The [topic] links worth your time`\n- `Your [day] reading list is here`\n- `[Number] [topic] finds (+ one surprise)`\n\n### 2. The Educator\n\n**Best for:** Building authority, teaching skills\n\n**Structure:**\n```\nSUBJECT: How to [Outcome] + [Constraint/Twist]\n\"How to write emails that get replies (even from busy executives)\"\n\n---\n\n[Hook - relatable problem or surprising fact]\n\n---\n\n## The Problem\n\n[2-3 paragraphs setting up the challenge]\n\n---\n\n## The Solution\n\n### Step 1: [Action]\n[Explanation + example]\n\n### Step 2: [Action]\n[Explanation + example]\n\n### Step 3: [Action]\n[Explanation + example]\n\n---\n\n## Real Example\n\n[Before/after or case study]\n\n---\n\n## Your Action Item\n\n[One specific thing to do this week]\n\n---\n\n[Sign-off + what's coming next week]\n```\n\n**Subject Line Formulas:**\n- `How to [outcome] (without [common sacrifice])`\n- `The [topic] mistake costing you [loss]`\n- `I [did thing]. Here's what happened.`\n- `[Number] [topic] lessons from [source]`\n\n### 3. The Thought Leader\n\n**Best for:** Building personal brand, sharing opinions\n\n**Structure:**\n```\nSUBJECT: [Contrarian take] or [Provocative question]\n\"Nobody talks about this side of [topic]\"\n\n---\n\n[Personal story or observation that sparked this edition]\n\n---\n\n## Here's What I've Been Thinking\n\n[3-5 paragraphs of your perspective]\n\n- [Key point 1]\n- [Key point 2]\n- [Key point 3]\n\n---\n\n## Why This Matters\n\n[Connect to reader's life/work]\n\n---\n\n## The Uncomfortable Truth\n\n[Your bold take that others won't say]\n\n---\n\n## What I'd Do About It\n\n[Actionable perspective]\n\n---\n\n[Question for readers + sign-off]\n```\n\n**Subject Line Formulas:**\n- `The thing nobody tells you about [topic]`\n- `I was wrong about [topic]`\n- `Unpopular opinion: [take]`\n- `Why I stopped [common practice]`\n\n### 4. The Hybrid\n\n**Best for:** Variety, testing what resonates\n\n**Structure:**\n```\nSUBJECT: [Main value] + [Curiosity element]\n\n---\n\n##  Hey [Name/Friend],\n\n[2-3 sentence personal intro]\n\n---\n\n##  Main Story: [Title]\n\n[The meat of this edition - 300-500 words]\n\n---\n\n##  Links Worth Clicking\n\n1. **[Title]** - [One-liner]  [Link]\n2. **[Title]** - [One-liner]  [Link]\n3. **[Title]** - [One-liner]  [Link]\n\n---\n\n##  From Last Week\n\n[Reader reply/question + your response]\n\n---\n\n##  This Week's Challenge\n\n[One actionable thing]\n\n---\n\n[Personal sign-off]\n\nP.S. [Teaser for next week or bonus link]\n```\n\n## Section Templates\n\n### Intros That Hook\n\n**The Story Open:**\n```\nLast Tuesday, I made a mistake that cost me [result].\n\nHere's what happened...\n```\n\n**The Observation:**\n```\nI've noticed something lately.\n\nEvery time I [action], [pattern emerges].\n```\n\n**The Confession:**\n```\nI have to be honest with you.\n\nI've been [doing/thinking/avoiding] something, and it's time to talk about it.\n```\n\n**The Direct:**\n```\nThis week: [topic].\n\nNo fluff. Let's get into it.\n```\n\n### Sign-offs That Connect\n\n**The Personal:**\n```\nThat's all for this week.\n\nI'm off to [personal activity]. Talk soon.\n\n[Name]\n```\n\n**The Forward Ask:**\n```\nFound this useful? Forward to one person who'd benefit.\n\nIt helps more than you know.\n\n[Name]\n```\n\n**The Reply Prompt:**\n```\nHit reply and tell me: [specific question]\n\nI read every response.\n\n[Name]\n```\n\n**The Teaser:**\n```\nNext week: [topic preview].\n\nYou won't want to miss it.\n\n[Name]\n```\n\n## Subject Line Toolkit\n\n### Formulas That Work\n\n| Type | Formula | Example |\n|------|---------|---------|\n| Curiosity | `The [thing] no one talks about` | The hiring mistake no one talks about |\n| Specificity | `[Number] ways to [outcome]` | 5 ways to close deals faster |\n| Personal | `I [action]. Here's what happened.` | I quit meetings. Here's what happened. |\n| Question | `What if [unexpected possibility]?` | What if your best employee is wrong? |\n| Contrast | `[Common belief] vs [reality]` | What they teach vs what works |\n| FOMO | `[Number] people already know this` | 10,000 people already know this |\n| Direct | `[Benefit] inside` | Your productivity playbook inside |\n\n### Power Words for Opens\n\n- \"Actually\" - signals contrarian\n- \"Finally\" - signals solution\n- \"Warning\" - signals urgency\n- \"Secretly\" - signals insider info\n- \"Quick\" - signals low commitment\n- \"Real\" - signals authenticity\n\n### Words to Avoid\n\n- \"Newsletter\" - boring, expected\n- \"Update\" - no curiosity\n- \"Monthly/Weekly\" - screams routine\n- \"Don't miss\" - overused\n- \"Exciting news\" - generic hype\n\n## Content Sourcing\n\n### For Curators\n\n**Where to find links:**\n- Twitter/X lists of industry experts\n- Hacker News, Reddit niche subs\n- Industry Slack/Discord communities\n- Pocket/Instapaper saved articles\n- Google Alerts on key topics\n- Competitor newsletters (add value, don't copy)\n\n**Curation criteria:**\n- Would I send this to a smart friend?\n- Does it teach something actionable?\n- Is it fresh (not everyone has seen it)?\n- Does it fit my audience's level?\n\n### For Educators\n\n**Content mining:**\n- Questions from readers/customers\n- Mistakes you've made\n- Processes that work for you\n- Books you're reading (one insight per newsletter)\n- Conversations that sparked ideas\n\n### For Thought Leaders\n\n**Opinion generators:**\n- What common practice do you disagree with?\n- What do beginners get wrong?\n- What changed your mind recently?\n- What would you do differently knowing what you know now?\n\n## Output Format\n\n```markdown\n# NEWSLETTER EDITION: [Edition # or Date]\n\n## Subject Line Options\n1. **[Primary - best performer predicted]**\n2. [Alternative A]\n3. [Alternative B]\n\n**Preview text:** [40-90 chars that show after subject]\n\n---\n\n## Newsletter Body\n\n[Full newsletter content following chosen archetype structure]\n\n---\n\n## Metadata\n\n- **Archetype:** [Curator/Educator/Thought Leader/Hybrid]\n- **Word count:** [X words]\n- **Estimated read time:** [X minutes]\n- **Main CTA:** [What you want readers to do]\n\n---\n\n## A/B Test Suggestions\n\n**Subject lines to test:**\n- Version A: [Subject]\n- Version B: [Subject]\n\n**Send time options:**\n- [Day] at [Time] - [Why]\n- [Day] at [Time] - [Why]\n```\n\n## Quality Checklist\n\nBefore sending, verify:\n\n- [ ] Subject line creates curiosity (would YOU open it?)\n- [ ] First line hooks immediately (no \"hope you're well\")\n- [ ] One clear theme/focus (not a content dump)\n- [ ] Scannable format (headers, bullets, short paragraphs)\n- [ ] Personal voice (sounds like you, not corporate)\n- [ ] Clear CTA (reply, forward, click, or just enjoy)\n- [ ] Mobile-friendly (preview on phone)\n- [ ] Proofread (typos kill trust)\n\n## Integration\n\nWorks well with:\n- `brand-voice` - Apply your documented voice\n- `content-atomizer` - Turn newsletter into social posts\n- `hook-writer` - Generate subject line options\n- `copy-editor` - Polish before sending\n\n**Workflow:**\n```\nNewsletter draft  brand-voice check  copy-editor polish  send\n                                     content-atomizer  social posts\n```\n\n## Frequency Guidelines\n\n| Cadence | Best For | Reader Expectation |\n|---------|----------|-------------------|\n| Daily | News, markets, quick hits | <3 min read |\n| Weekly | Deep dives, curated | 5-10 min read |\n| Bi-weekly | Thought leadership | 7-15 min read |\n| Monthly | Comprehensive roundups | 10-20 min read |\n\n**Rule:** Don't send if you have nothing valuable. Silence > noise."
              },
              {
                "name": "positioning-angles",
                "description": "Find the angle that makes something sell. 24 frameworks to surface differentiated hooks before you write a word. Use when starting copy, ads, landing pages, or any persuasive content.",
                "path": "plugins/majestic-marketing/skills/positioning-angles/SKILL.md",
                "frontmatter": {
                  "name": "positioning-angles",
                  "description": "Find the angle that makes something sell. 24 frameworks to surface differentiated hooks before you write a word. Use when starting copy, ads, landing pages, or any persuasive content.",
                  "triggers": [
                    "positioning angle",
                    "hook angle",
                    "find the angle",
                    "differentiation angle",
                    "copywriting angle",
                    "what angle should I use",
                    "how to position this"
                  ],
                  "allowed-tools": "AskUserQuestion, Read, Write, Edit"
                },
                "content": "# Positioning Angles\n\nFind the angle that sells before writing a single word. 24 proven frameworks to surface differentiated hooks.\n\n## When to Use\n\n- Starting any persuasive copy (landing page, ad, email, sales page)\n- Product feels \"same as competitors\" and needs differentiation\n- Current messaging isn't converting\n- Launching into competitive market\n- Repositioning existing product\n\n## The 24 Angles\n\n### Benefit Angles (Promise Gains)\n\n| # | Angle | Mechanism | Example Hook |\n|---|-------|-----------|--------------|\n| 1 | **New** | Novelty attraction | \"Introducing the first...\" |\n| 2 | **Save Money** | Financial benefit | \"Cut your [X] costs by 50%\" |\n| 3 | **Save Time** | Efficiency/shortcut | \"What took 4 hours now takes 4 minutes\" |\n| 7 | **Better Mousetrap** | Improved solution | \"Finally, a [X] that actually works\" |\n| 20 | **The Breakthrough** | Exciting progress | \"The discovery that changes everything about [X]\" |\n\n### Fear/Risk Angles (Avoid Pain)\n\n| # | Angle | Mechanism | Example Hook |\n|---|-------|-----------|--------------|\n| 5 | **FOMO** | Scarcity/urgency | \"While everyone else is still...\" |\n| 22 | **What You Don't Know** | Knowledge gap danger | \"The hidden [X] that's costing you...\" |\n| 24 | **Confirmation of Fear** | Validate + solve | \"Yes, [fear] is real. Here's what to do.\" |\n| 18 | **EXPOSED!** | Uncomfortable truths | \"The [industry] secret they don't want you to know\" |\n\n### Authority/Trust Angles (Believe Me)\n\n| # | Angle | Mechanism | Example Hook |\n|---|-------|-----------|--------------|\n| 9 | **Social Proof** | Safety in numbers | \"Join 10,000+ [audience] who...\" |\n| 13 | **The Truth About [X]** | Insider revelation | \"The truth about [thing] nobody talks about\" |\n| 15 | **The Great [X] Hoax** | Myth-busting | \"Why everything you know about [X] is wrong\" |\n| 14 | **What to do if [X]** | Immediate value | \"If you're struggling with [X], do this first\" |\n\n### Identity/Tribal Angles (People Like Us)\n\n| # | Angle | Mechanism | Example Hook |\n|---|-------|-----------|--------------|\n| 4 | **Dog Whistle** | Tribal signal | \"[Specific term only insiders know]\" |\n| 8 | **Us vs Them** | Common enemy | \"Tired of [enemy]? You're not alone.\" |\n| 10 | **Shout** | Direct address | \"ATTENTION: [Specific role/trait]\" |\n| 11 | **Bandwagon** | Conformity pull | \"Why smart [audience] are switching to...\" |\n| 16 | **Open Letter** | Segment address | \"An open letter to [specific audience]\" |\n\n### Contrarian/Disruption Angles (Challenge Norms)\n\n| # | Angle | Mechanism | Example Hook |\n|---|-------|-----------|--------------|\n| 23 | **WRONG** | Challenge wisdom | \"Stop [common advice]. It's killing your [X].\" |\n| 17 | **Declaration of WAR!** | Righteous fight | \"We're done accepting [bad status quo]\" |\n| 21 | **MAD AS HELL!** | Justified anger | \"I'm furious about [industry problem]\" |\n\n### Story/Emotion Angles (Feel Something)\n\n| # | Angle | Mechanism | Example Hook |\n|---|-------|-----------|--------------|\n| 19 | **Emotional Story** | Narrative pull | \"I was [struggle]. Then [discovery]...\" |\n| 12 | **How to [Good] without [Bad]** | Desire + objection | \"How to [result] without [sacrifice]\" |\n\n### Relevance Angles (Why Now)\n\n| # | Angle | Mechanism | Example Hook |\n|---|-------|-----------|--------------|\n| 6 | **News Hijack** | Timely relevance | \"What [recent event] means for your [X]\" |\n\n---\n\n## Angle Selection Matrix\n\n### By Awareness Stage\n\n| Stage | Best Angles | Why |\n|-------|-------------|-----|\n| **Unaware** | 6, 13, 19, 22 | Need education, curiosity, story |\n| **Problem Aware** | 8, 14, 17, 24 | Validate pain, show you understand |\n| **Solution Aware** | 7, 9, 12, 23 | Differentiate from alternatives |\n| **Product Aware** | 1, 2, 3, 5, 20 | Close with benefits, urgency |\n| **Most Aware** | 2, 5, 9 | Price, scarcity, proof |\n\n### By Audience Type\n\n| Audience | Best Angles | Avoid |\n|----------|-------------|-------|\n| **B2B / Enterprise** | 2, 3, 7, 9, 14 | 21 (too emotional), 17 (too aggressive) |\n| **B2B / SMB** | 3, 7, 12, 14, 22 | 11 (too conformist) |\n| **B2C / Mass Market** | 1, 5, 9, 11, 12, 19 | 4 (too niche) |\n| **B2C / Premium** | 4, 7, 13, 23 | 2 (cheapens brand) |\n| **Technical** | 7, 13, 14, 15, 23 | 19 (too soft), 11 (too basic) |\n| **Creative** | 4, 8, 17, 19, 23 | 9, 11 (too conformist) |\n\n### By Competitive Position\n\n| Position | Best Angles | Strategy |\n|----------|-------------|----------|\n| **Market Leader** | 1, 9, 20 | Reinforce dominance, announce innovation |\n| **Challenger** | 7, 8, 17, 23 | Attack leader's weakness, be contrarian |\n| **Niche Player** | 4, 10, 16 | Own your segment, speak directly to tribe |\n| **New Entrant** | 1, 13, 15, 20 | Breakthrough positioning, expose old way |\n\n---\n\n## Quick Decision Tree\n\n```\nSTART: What's your strongest asset?\n\n PROOF (results, data, customers)\n    Use: #9 Social Proof, #20 Breakthrough\n\n SPEED (faster than alternatives)\n    Use: #3 Save Time, #7 Better Mousetrap\n\n PRICE (cheaper or better value)\n    Use: #2 Save Money, #12 How to [X] without [Y]\n\n INSIGHT (you know something others don't)\n    Use: #13 Truth About, #15 Great Hoax, #22 What You Don't Know\n\n STORY (compelling origin or customer transformation)\n    Use: #19 Emotional Story, #16 Open Letter\n\n ENEMY (clear villain in your market)\n    Use: #8 Us vs Them, #17 Declaration of WAR, #23 WRONG\n\n TIMING (something just changed)\n    Use: #1 New, #6 News Hijack, #5 FOMO\n\n TRIBE (specific audience identity)\n     Use: #4 Dog Whistle, #10 Shout, #16 Open Letter\n```\n\n---\n\n## Angle Combinations\n\nSingle angles work. Combinations multiply impact.\n\n### High-Converting Combos\n\n| Combo | Angles | Example |\n|-------|--------|---------|\n| **Contrarian + Proof** | 23 + 9 | \"Everyone says [X]. Here's why 10,000 customers disagree.\" |\n| **Fear + Solution** | 22 + 14 | \"The hidden [X] destroying your [Y]. Here's exactly what to do.\" |\n| **Story + Better Mousetrap** | 19 + 7 | \"I tried everything. Then I built something that actually works.\" |\n| **Tribe + Enemy** | 4 + 8 | \"[Insider term]? You know the struggle with [enemy]. We're fixing it.\" |\n| **New + FOMO** | 1 + 5 | \"Introducing [X]. Early adopters are already seeing [result].\" |\n| **Truth + Breakthrough** | 13 + 20 | \"The truth about [X] led us to a breakthrough that changes everything.\" |\n\n---\n\n## Angle Testing Protocol\n\n### Step 1: Generate 3-5 Angle Candidates\n\nFor any product/offer, test at minimum:\n1. One **benefit angle** (what they gain)\n2. One **fear/risk angle** (what they avoid)\n3. One **identity angle** (who they become)\n\n### Step 2: Write Headlines for Each\n\nSame offer, different angle:\n\n| Angle | Headline |\n|-------|----------|\n| #3 Save Time | \"Cut your [X] time from hours to minutes\" |\n| #22 What You Don't Know | \"The hidden [X] costing you hours every week\" |\n| #4 Dog Whistle | \"For [insider term]: Finally, a [X] built for how you actually work\" |\n\n### Step 3: Test or Gut-Check\n\n- **A/B test** if you have traffic\n- **Gut-check** against audience sophistication and awareness stage\n- **Ask**: Which angle would make ME stop scrolling?\n\n---\n\n## Integration with Other Skills\n\n| After Finding Angle | Use This Skill |\n|---------------------|----------------|\n| Need full positioning statement | `brand-positioning` |\n| Need competitor differentiation | `competitive-positioning` |\n| Need to refine value prop | `value-prop-sharpener` |\n| Need multiple hook variations | `hook-writer` |\n| Need full landing page | `landing-page-builder` |\n| Need email sequence | `email-nurture` |\n\n---\n\n## Common Mistakes\n\n| Mistake | Fix |\n|---------|-----|\n| Using same angle for all audiences | Match angle to awareness stage |\n| Leading with features, not angles | Features support angles, not replace them |\n| Choosing \"safe\" angles | Contrarian (#23) and Enemy (#8) often outperform |\n| Ignoring competitive context | Challenger should attack; leader should reinforce |\n| Too many angles at once | One primary angle, one supporting max |\n\n---\n\n## Conversation Starter\n\nWhen invoked, begin with:\n\n\"I'll help you find the positioning angle that makes your offer sell.\n\n**Tell me:**\n1. What are you selling? (1-2 sentences)\n2. Who's the target buyer?\n3. What's your strongest proof point or differentiator?\n4. Who/what are the alternatives they'd consider?\n\nI'll recommend 3 angles to test with headline examples for each.\"\n\n---\n\n## Output Format\n\n```markdown\n## POSITIONING ANGLE ANALYSIS\n\n### Context\n- **Offer**: [What they're selling]\n- **Audience**: [Who buys]\n- **Differentiator**: [Key strength]\n- **Alternatives**: [Competition]\n\n### Recommended Angles\n\n#### Primary: #[X] [Angle Name]\n**Why**: [1 sentence rationale]\n**Headline**: \"[Example headline using this angle]\"\n**Opening line**: \"[First line of copy]\"\n\n#### Secondary: #[X] [Angle Name]\n**Why**: [1 sentence rationale]\n**Headline**: \"[Example headline using this angle]\"\n**Opening line**: \"[First line of copy]\"\n\n#### Contrarian Option: #[X] [Angle Name]\n**Why**: [1 sentence rationale - higher risk, higher reward]\n**Headline**: \"[Example headline using this angle]\"\n**Opening line**: \"[First line of copy]\"\n\n### Angle Combo Suggestion\nCombine **#[X]** + **#[Y]** for:\n> \"[Combined headline example]\"\n\n### Next Steps\n1. [ ] Test primary angle headline\n2. [ ] Write full copy using winning angle\n3. [ ] Consider `[related skill]` for [next phase]\n```"
              },
              {
                "name": "power-words",
                "description": "Enhance copy with emotional trigger words from 21 psychological categories. Transform bland text into compelling, conversion-focused content.",
                "path": "plugins/majestic-marketing/skills/power-words/SKILL.md",
                "frontmatter": {
                  "name": "power-words",
                  "description": "Enhance copy with emotional trigger words from 21 psychological categories. Transform bland text into compelling, conversion-focused content.",
                  "triggers": [
                    "power words",
                    "emotional words",
                    "trigger words",
                    "make copy stronger",
                    "punch up",
                    "make more compelling",
                    "persuasive copy",
                    "convert better"
                  ],
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, AskUserQuestion"
                },
                "content": "# Power Words Library\n\nTransform ordinary copy into emotionally compelling content using psychological trigger words.\n\n## Resources\n\n- [Word Library](resources/word-library.txt)  Complete word lists by category\n\n## What Are Power Words?\n\nEmotionally charged words that trigger psychological responses:\n- Grab attention in crowded feeds\n- Create urgency and desire\n- Build trust and authority\n- Drive action and conversion\n\n## Conversation Starter\n\nUse `AskUserQuestion`:\n\n1. **What copy needs enhancement?** (headline, email, ad, landing page, CTA)\n2. **What emotion should it evoke?** (urgency, trust, curiosity, fear, desire)\n3. **What action do you want?** (click, buy, sign up, share)\n4. **Current copy**  Paste the text to enhance\n\n## The 21 Categories (Summary)\n\n| Category | Trigger | Best For |\n|----------|---------|----------|\n| **Impatience** | FOMO, speed | Launches, CTAs |\n| **Beauty** | Aesthetic desire | Fashion, design |\n| **Lust** | Deep craving | Food, luxury |\n| **Indulgence** | Permission to enjoy | Self-care, treats |\n| **Excitement** | Thrill-seeking | Events, launches |\n| **Novelty** | Curiosity | Content teasers |\n| **Memorability** | Stand out | Personal brand |\n| **Happiness** | Well-being | Wellness, community |\n| **Prestige** | Status | Premium products |\n| **Simplicity** | Avoid complexity | How-tos, guides |\n| **Sadness** | Fear of loss | Problem-aware content |\n| **Savagery** | Primal emotions | Competitive positioning |\n| **Completeness** | Thoroughness | Ultimate guides |\n| **Gravity** | Significance | Emphasis |\n| **Greed** | Acquisition | Sales, discounts |\n| **Humor** | Entertainment | Social, viral |\n| **Authority** | Trust | Credibility content |\n| **Exclusivity** | Insider access | Limited offers |\n| **Pride** | Achievement | Success content |\n| **Safety** | Security | Protection content |\n| **Mind-blowing** | Amazement | Shareability |\n\nSee [resources/word-library.txt](resources/word-library.txt) for complete word lists.\n\n## Enhancement Process\n\n### Step 1: Identify Weakness\n- Bland verbs? (get, have, make)\n- Generic adjectives? (good, great, nice)\n- Passive voice?\n- No emotional hook?\n\n### Step 2: Match Emotion to Goal\n\n| Goal | Primary Category | Secondary |\n|------|-----------------|-----------|\n| Sales/Conversion | Greed, Urgency | Exclusivity |\n| Trust/Authority | Authority | Completeness |\n| Engagement | Novelty | Mind-blowing |\n| Fear-based | Safety, Sadness | Savagery |\n| Desire-based | Lust, Beauty | Prestige |\n| FOMO | Exclusivity | Impatience |\n\n### Step 3: Strategic Replacement\n\n**Rule of 3:** Use 2-3 power words per headline/CTA. More feels forced.\n\n**Placement priority:**\n1. First 3 words (hook)\n2. Last word (memory anchor)\n3. Action word (CTA verb)\n\n## Examples\n\n**Impatience:**\n- Before: \"Get started today\"\n- After: \"**Jumpstart** your growth today\"\n\n**Novelty:**\n- Before: \"New marketing tips\"\n- After: \"**Shocking** marketing **hacks** that feel like **magic**\"\n\n**Simplicity:**\n- Before: \"Learn email marketing\"\n- After: \"The **stupid-simple** email marketing **cheat-sheet**\"\n\n**Greed:**\n- Before: \"Get 50% off\"\n- After: \"**Steal** this deal  **50% off** ends **today**\"\n\n**Exclusivity:**\n- Before: \"Marketing tips\"\n- After: \"**Little-known** marketing **secrets** the **elite** won't **divulge**\"\n\n## Output Format\n\n```markdown\n## Power Words Enhancement\n\n### Original Copy\n> [Original text]\n\n### Analysis\n- **Current emotion:** [What it evokes now]\n- **Missing:** [What emotional triggers are absent]\n- **Goal:** [Desired action/emotion]\n\n### Recommended Categories\n1. **[Category]**  [Why this fits]\n2. **[Category]**  [Why this fits]\n\n### Enhanced Versions\n\n#### Option 1: [Primary emotion focus]\n> [Enhanced copy with power words **bolded**]\n\n**Power words used:** [word] (category), [word] (category)\n\n#### Option 2: [Alternative angle]\n> [Enhanced copy]\n\n#### Option 3: [Stronger/softer variant]\n> [Enhanced copy]\n\n### Before/After\n\n| Element | Before | After |\n|---------|--------|-------|\n| Headline | [original] | [enhanced] |\n| CTA | [original] | [enhanced] |\n\n### Caution\n- Don't over-season: 2-3 power words max per sentence\n- Match audience tone: \"Badass\" doesn't fit corporate B2B\n- Test variants: What resonates varies by audience\n```\n\n## What This Skill Does NOT Do\n\n- Write copy from scratch (enhances existing copy)\n- Guarantee conversion (testing required)\n- Replace brand voice guidelines\n- Work for highly regulated industries without compliance review"
              },
              {
                "name": "retention-system",
                "description": "Design comprehensive customer retention systems with health scoring, churn prediction, proactive engagement workflows, and customer success frameworks to maximize lifetime value.",
                "path": "plugins/majestic-marketing/skills/retention-system/SKILL.md",
                "frontmatter": {
                  "name": "retention-system",
                  "description": "Design comprehensive customer retention systems with health scoring, churn prediction, proactive engagement workflows, and customer success frameworks to maximize lifetime value.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, WebFetch, AskUserQuestion"
                },
                "content": "# Customer Retention System Designer\n\nYou are a **Customer Success Strategist** who specializes in designing retention systems that reduce churn, increase lifetime value, and turn customers into advocates.\n\n## Conversation Starter\n\nUse `AskUserQuestion` to gather initial context. Begin by asking:\n\n\"I'll help you design a customer retention system that reduces churn and maximizes lifetime value.\n\nPlease provide:\n1. **Business Model**: What do you sell? (SaaS, subscription, service, product)\n2. **Pricing**: What's your pricing structure? (monthly, annual, tiers)\n3. **Current Churn**: What's your monthly/annual churn rate?\n4. **Customer Journey**: How long is typical customer relationship?\n5. **Team Structure**: Do you have customer success? Support?\n6. **Data Available**: What customer behavior data can you track?\"\n\n## Research Methodology\n\nUse WebSearch to find:\n- Industry-specific churn benchmarks\n- Customer health score models\n- Onboarding best practices\n- Churn prediction methodologies\n- NPS and CSAT benchmarks\n\n## Strategy Framework\n\n### 1. Customer Lifecycle Stages\n\n| Stage | Entry Criteria | Success Criteria |\n|-------|----------------|------------------|\n| Acquisition | Account created | First login |\n| Activation | First login | Aha moment achieved |\n| Engagement | Activated | Regular usage |\n| Expansion | Engaged 90+ days | Upsell/cross-sell |\n| Advocacy | Expanded OR high NPS | Referral made |\n| At-Risk | Warning signals | Re-engaged |\n| Churned | Cancelled/lapsed | Win-back sequence |\n\n### 2. Health Score Model\n\n**Score Components (100 points):**\n\n| Category | Weight | Metrics |\n|----------|--------|---------|\n| Product Usage | 40% | Login frequency, feature adoption, depth of use |\n| Engagement | 25% | Email opens, support tickets, event attendance |\n| Relationship | 20% | NPS score, CSM interactions, executive sponsor |\n| Business Health | 15% | Payment history, growth rate, expansion potential |\n\n**Health Bands:**\n\n| Score | Status | Action |\n|-------|--------|--------|\n| 80-100 | Healthy (Green) | Monitor, expansion focus |\n| 60-79 | Stable (Yellow) | Proactive engagement |\n| 40-59 | At-Risk (Orange) | Intervention required |\n| 0-39 | Critical (Red) | Immediate escalation |\n\nSee [resources/playbooks.md](resources/playbooks.md) for detailed scoring criteria.\n\n### 3. Onboarding System\n\n| Day | Goal | Touchpoints |\n|-----|------|-------------|\n| 1 | First value realization | Welcome email, in-app tutorial, quick win |\n| 2-3 | Core setup complete | Setup reminder, CSM intro (high-touch) |\n| 7 | Confirm activation | Progress email, feature highlight, check-in call |\n| 14 | Habit formation | Use case email, advanced feature intro |\n| 30 | First month success | NPS survey, success celebration, QBR (enterprise) |\n| 60 | Expansion readiness | ROI report, feature teaser |\n| 90 | Renewal prep | Renewal reminder, success summary, renewal call |\n\n### 4. Early Warning Signals\n\n**Usage-Based:**\n| Signal | Threshold | Risk |\n|--------|-----------|------|\n| Login drop | >50% vs prior month | High |\n| Feature abandonment | Core feature unused 14+ days | High |\n| User count drop | Team members removed | Critical |\n\n**Engagement-Based:**\n| Signal | Threshold | Risk |\n|--------|-----------|------|\n| Email silence | No opens 30 days | Medium |\n| Support spike | 3+ tickets in 7 days | Medium |\n| NPS decline | Dropped 2+ points | High |\n\n**Business-Based:**\n| Signal | Threshold | Risk |\n|--------|-----------|------|\n| Payment failed | Any failed charge | Critical |\n| Downgrade request | Any inquiry | High |\n| Competitor mention | In support/conversation | Critical |\n\n### 5. Intervention Playbooks\n\nSee [resources/playbooks.md](resources/playbooks.md) for detailed playbooks:\n- Usage Decline (14-day sequence)\n- Support Escalation (72-hour response)\n- Competitor Threat (48-hour response)\n- Payment Failure (30-day dunning)\n- Renewal Risk (90-day cycle)\n\n### 6. Retention Metrics\n\n**Primary KPIs:**\n\n| Metric | Formula | Benchmark |\n|--------|---------|-----------|\n| Gross Revenue Retention | (Start MRR - Churn) / Start | 85-95% |\n| Net Revenue Retention | (Start + Expansion - Churn) / Start | 100-120% |\n| Logo Churn Rate | Churned / Starting | 3-7%/year |\n| Customer LTV | ARPU  (1 / Monthly Churn) | Varies |\n\n**Health Metrics:**\n\n| Metric | Target |\n|--------|--------|\n| Healthy accounts (>80 score) | >60% |\n| At-risk accounts (<60 score) | <15% |\n| NPS | >50 |\n| CSAT | >85% |\n| DAU/MAU | >20% |\n| Activation rate | >80% |\n\n## Output Format\n\n```markdown\n# RETENTION SYSTEM BLUEPRINT: [Business Name]\n\n## Executive Summary\n[2-3 sentences on churn situation and approach]\n\n## Customer Lifecycle Map\n[Stages with criteria]\n\n## Health Score Model\n[Customized scoring framework]\n\n## Onboarding System\n[Day-by-day touchpoints]\n\n## Early Warning System\n[Signals and thresholds]\n\n## Intervention Playbooks\n[Playbooks for each risk type]\n\n## Success Tier Model\n[Tier definitions and engagement]\n\n## Metrics Dashboard\n[KPIs and tracking setup]\n\n## Implementation Roadmap\n\n### Phase 1: Foundation (Weeks 1-2)\n- [ ] Define health score components\n- [ ] Set up tracking infrastructure\n\n### Phase 2: Onboarding (Weeks 3-4)\n- [ ] Build onboarding sequence\n- [ ] Create activation metrics\n\n### Phase 3: Monitoring (Weeks 5-6)\n- [ ] Deploy health scoring\n- [ ] Set up early warning alerts\n\n### Phase 4: Optimization (Ongoing)\n- [ ] Weekly metrics review\n- [ ] Playbook effectiveness analysis\n```\n\n## Quality Standards\n\n- **Research-driven**: Use WebSearch for industry benchmarks\n- **Customized scoring**: Adjust weights based on business model\n- **Actionable playbooks**: Clear triggers and specific actions\n- **Measurable outcomes**: Every recommendation tied to metrics\n- **Scalable design**: Works at current size and 10x scale"
              },
              {
                "name": "sales-page",
                "description": "Create high-converting sales pages with proven headline formulas, bullet frameworks, trust elements, and CTA psychology. Includes analysis of multi-million dollar pages.",
                "path": "plugins/majestic-marketing/skills/sales-page/SKILL.md",
                "frontmatter": {
                  "name": "sales-page",
                  "description": "Create high-converting sales pages with proven headline formulas, bullet frameworks, trust elements, and CTA psychology. Includes analysis of multi-million dollar pages.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, WebFetch, AskUserQuestion"
                },
                "content": "# High-Converting Sales Page Blueprint\n\n**Audience:** Founders and marketers creating sales pages for products at any price point, converting cold traffic to customers.\n\n**Goal:** Research high-converting pages in the specific niche, then build a conversion-optimized template with proven headline formulas, trust elements, and CTA psychology.\n\n## Conversation Starter\n\nUse `AskUserQuestion` to gather initial context. Begin by asking:\n\n\"I'll help you create a sales page that converts cold traffic into customers.\n\nPlease provide:\n1. **Product/Service**: What are you selling?\n2. **Price Point**: What does it cost?\n3. **Target Customer**: Who is this for? (demographics, pain points, desires)\n4. **Traffic Source**: Where will visitors come from? (ads, organic, email)\n5. **Competitors**: Who else sells something similar?\n\nI'll research winning sales pages in your niche and build a conversion-optimized template.\"\n\n## Research Methodology\n\nUse WebSearch extensively to find:\n- Top-performing sales pages in their specific niche\n- Copywriting case studies with conversion data\n- A/B test results from landing page experiments\n- Psychology research on buying behavior\n- Current best practices for sales page design (2024-2025)\n\n## Required Deliverables\n\n### 1. Sales Page Breakdown Analysis\n\nAnalyze **5 high-converting sales pages** in their niche:\n\n```markdown\n## Page Analysis: [Company/Product Name]\n\n**URL:** [If publicly available]\n**Estimated Revenue:** [Based on research]\n**Why It Works:** [2-3 sentence summary]\n\n### Structure Breakdown\n\n| Section | Purpose | Key Elements | Length |\n|---------|---------|--------------|--------|\n| Above the fold | [Purpose] | [Elements] | [Words] |\n| Problem agitation | [Purpose] | [Elements] | [Words] |\n| Solution intro | [Purpose] | [Elements] | [Words] |\n| Features/Benefits | [Purpose] | [Elements] | [Words] |\n| Social proof | [Purpose] | [Elements] | [Words] |\n| Offer stack | [Purpose] | [Elements] | [Words] |\n| Guarantee | [Purpose] | [Elements] | [Words] |\n| Final CTA | [Purpose] | [Elements] | [Words] |\n\n### Copywriting Techniques Used\n1. [Technique with example from page]\n2. [Technique with example from page]\n3. [Technique with example from page]\n\n### What to Steal\n- [Specific element to replicate]\n- [Specific element to replicate]\n- [Specific element to replicate]\n```\n\n### 2. Headline Formulas\n\n**Proven formulas that stop scrolling:**\n\n#### Category 1: Problem-Focused Headlines\n```\nFormula: [Problem] + [Unexpected Solution]\nExample: \"Struggling to [problem]? The answer isn't [expected]  it's [unexpected]\"\nTemplate: \"Why [target audience] Are [doing wrong thing] (And What to Do Instead)\"\n\nWhen to use: [Situation]\nConversion data: [If available]\n```\n\n#### Category 2: Result-Focused Headlines\n```\nFormula: [Specific result] + [Timeframe] + [Without sacrifice]\nExample: \"Get [result] in [time] without [thing they hate]\"\nTemplate: \"How [number] [people like them] [achieved result] in [time]\"\n\nWhen to use: [Situation]\nConversion data: [If available]\n```\n\n#### Category 3: Curiosity-Driven Headlines\n```\nFormula: [Unexpected claim] + [Proof element]\nExample: \"The [adjective] [thing] that [surprising result]\"\nTemplate: \"What [authority figures] won't tell you about [topic]\"\n\nWhen to use: [Situation]\nConversion data: [If available]\n```\n\n#### Category 4: Direct Benefit Headlines\n```\nFormula: [Benefit] + [Specificity]\nExample: \"[Do X] [number]% [faster/better/cheaper]\"\nTemplate: \"Finally: A [solution] that actually [specific benefit]\"\n\nWhen to use: [Situation]\nConversion data: [If available]\n```\n\n**Provide 20+ headline variations customized to their product.**\n\n### 3. Bullet Point Frameworks\n\n**Frameworks that make prospects think \"this is exactly what I need\":**\n\n#### The \"Secret\" Bullet\n```\nFormat: The [adjective] [thing] that [unexpected benefit]\nExample: \"The counterintuitive pricing strategy that actually increases conversions\"\nPsychology: Creates curiosity gap + implies insider knowledge\n```\n\n#### The \"Mistake\" Bullet\n```\nFormat: The #1 mistake [audience] make with [topic] (and how to avoid it)\nExample: \"Why 90% of landing pages fail  and the simple fix that works\"\nPsychology: Fear of doing it wrong + relief at having solution\n```\n\n#### The \"How-To\" Bullet\n```\nFormat: How to [achieve result] without [thing they hate]\nExample: \"How to write headlines that convert without being salesy\"\nPsychology: Promises result while removing objection\n```\n\n#### The \"Specific Number\" Bullet\n```\nFormat: [Number] [things] to [achieve result] (page [X])\nExample: \"7 proven templates for high-converting email sequences (page 23)\"\nPsychology: Specificity builds credibility + curiosity about content\n```\n\n#### The \"What/Why/How\" Bullet\n```\nFormat: What/Why/How [unexpected thing] [leads to result]\nExample: \"Why your best customers might be killing your business\"\nPsychology: Pattern interrupt + curiosity\n```\n\n**Provide 30+ bullets customized to their product.**\n\n### 4. Trust-Building Elements\n\n**For brand-new businesses without established credibility:**\n\n#### Tier 1: Borrowed Authority\n- Industry certifications and training\n- Media mentions (even small ones)\n- Association memberships\n- Tool/software expertise badges\n\n#### Tier 2: Social Proof Alternatives\n- Beta tester feedback\n- Case studies (even your own results)\n- Screenshots of results/outcomes\n- Before/after comparisons\n- \"As featured in\" even for podcast appearances\n\n#### Tier 3: Risk Reversal\n- Money-back guarantees\n- Results guarantees\n- \"Keep everything even if you refund\"\n- Trial periods\n\n#### Tier 4: Credibility Markers\n- Professional design (signals legitimacy)\n- Detailed methodology explanation\n- Transparency about limitations\n- Personal story/journey\n\n**Placement Strategy:**\n| Element Type | Where to Place | Why |\n|--------------|----------------|-----|\n| [Type] | [Location] | [Reason] |\n\n### 5. Price Presentation Techniques\n\n**Making any price seem reasonable:**\n\n#### Technique 1: Value Anchoring\n```\nStructure:\n- State the \"real\" value: $X\n- Stack additional value: +$Y, +$Z\n- Show total value: $TOTAL\n- Reveal actual price: $PRICE\n- Calculate savings: SAVE $X\n\nExample copy:\n\"Total value: $2,847\nYour investment today: Just $297\nYou save: $2,550\"\n```\n\n#### Technique 2: Comparison Anchoring\n```\nCompare to:\n- Cost of the problem continuing\n- Alternative solutions (coaching, courses, done-for-you)\n- Daily/monthly breakdown\n- Coffee/subscription equivalent\n\nExample: \"Less than $1/day  that's less than your Netflix subscription\"\n```\n\n#### Technique 3: ROI Framing\n```\nStructure:\n- If this helps you [achieve X]...\n- That's worth $[amount] to your business\n- Your investment is only $[price]\n- That's a [X]x return\n\nExample: \"If this saves you just 2 hours per week at $50/hour, that's $5,200/year. Your investment? $197.\"\n```\n\n#### Technique 4: Payment Options\n```\nPsychological principles:\n- Payment plans feel smaller\n- \"Just 3 payments of $99\" < \"$297\"\n- Add \"best value\" to full payment\n- Use \"investment\" not \"cost\" or \"price\"\n```\n\n### 6. Call-to-Action Psychology\n\n**Elements that increase click rates:**\n\n#### Button Copy Formulas\n| Type | Formula | Example | Best For |\n|------|---------|---------|----------|\n| Action + Benefit | [Verb] + [What they get] | \"Get Instant Access\" | Digital products |\n| Start + Journey | Start + [Transformation] | \"Start My Transformation\" | Courses/coaching |\n| Yes + Desire | Yes, [I want result] | \"Yes, I Want More Leads\" | Lead gen |\n| Claim + Offer | Claim + [Your offer] | \"Claim Your Spot\" | Limited offers |\n\n#### Placement Rules\n- First CTA: After promise (above fold or just below)\n- Second CTA: After major proof section\n- Third CTA: After offer reveal\n- Final CTA: After guarantee, with urgency\n\n#### Color Psychology\n- Orange/Red: Urgency, action\n- Green: Safety, money, go\n- Blue: Trust, professionalism\n- Contrast: Most important factor\n\n#### Micro-Copy That Converts\n- Below button: \"No credit card required\"\n- Below button: \"Cancel anytime\"\n- Below button: \"Instant access\"\n- Below button: \"Join 10,000+ customers\"\n\n### 7. A/B Test Results\n\n**Data-backed insights on what drives sales:**\n\n```markdown\n## Test Category: Headlines\n\n| Element Tested | Control | Variation | Lift | Sample Size | Confidence |\n|----------------|---------|-----------|------|-------------|------------|\n| Benefit vs Problem | [A] | [B] | +X% | N | 95% |\n| With number vs Without | [A] | [B] | +X% | N | 95% |\n| Question vs Statement | [A] | [B] | +X% | N | 95% |\n\n**Key Finding:** [Insight]\n\n## Test Category: Social Proof\n\n| Element Tested | Control | Variation | Lift | Sample Size | Confidence |\n|----------------|---------|-----------|------|-------------|------------|\n| Testimonial placement | [A] | [B] | +X% | N | 95% |\n| Photo vs No photo | [A] | [B] | +X% | N | 95% |\n| Video vs Text | [A] | [B] | +X% | N | 95% |\n\n**Key Finding:** [Insight]\n\n## Test Category: CTAs\n\n| Element Tested | Control | Variation | Lift | Sample Size | Confidence |\n|----------------|---------|-----------|------|-------------|------------|\n| Button color | [A] | [B] | +X% | N | 95% |\n| Button copy | [A] | [B] | +X% | N | 95% |\n| Single vs Multiple | [A] | [B] | +X% | N | 95% |\n\n**Key Finding:** [Insight]\n```\n\n## Output Format\n\n```markdown\n# SALES PAGE BLUEPRINT: [Product/Service]\n\n## Executive Summary\n[Overall strategy and expected conversion potential]\n\n---\n\n## SECTION 1: COMPETITOR PAGE ANALYSIS\n[5 detailed breakdowns]\n\n---\n\n## SECTION 2: HEADLINE ARSENAL\n[20+ customized headlines with formulas]\n\n---\n\n## SECTION 3: BULLET LIBRARY\n[30+ customized bullets by framework]\n\n---\n\n## SECTION 4: TRUST ARCHITECTURE\n[Elements and placement strategy]\n\n---\n\n## SECTION 5: PRICE PRESENTATION\n[Custom pricing section copy]\n\n---\n\n## SECTION 6: CTA STRATEGY\n[Button copy, placement, micro-copy]\n\n---\n\n## SECTION 7: A/B TEST INSIGHTS\n[Data-backed recommendations]\n\n---\n\n## COMPLETE PAGE TEMPLATE\n\n### Above the Fold\n[Ready-to-use copy]\n\n### Problem Section\n[Ready-to-use copy]\n\n### Solution Section\n[Ready-to-use copy]\n\n### Features/Benefits\n[Ready-to-use copy with bullets]\n\n### Social Proof\n[Structure and placement]\n\n### Offer Stack\n[Ready-to-use copy]\n\n### Guarantee\n[Ready-to-use copy]\n\n### Final CTA\n[Ready-to-use copy]\n\n---\n\n## IMPLEMENTATION CHECKLIST\n\n[ ] Headline tested with 3 variations\n[ ] Above-fold CTA present\n[ ] Problem agitation complete\n[ ] Minimum 10 benefit bullets\n[ ] 3+ trust elements placed\n[ ] Price properly anchored\n[ ] Guarantee clearly stated\n[ ] 3+ CTAs throughout page\n[ ] Mobile optimized\n[ ] Load speed < 3 seconds\n```\n\n## Quality Standards\n\n- **Research actual pages**: Find real examples, not theoretical\n- **Include conversion data**: Cite sources when available\n- **Be specific**: Every template should be immediately usable\n- **Customize everything**: Generic copy doesn't convert\n- **Test recommendations**: Base advice on data, not opinion\n\n## Tone\n\nConfident and direct. Write like a copywriter who has seen what works and what doesn't across hundreds of pages. No theoryonly battle-tested tactics."
              },
              {
                "name": "seo-audit",
                "description": "Comprehensive SEO and GEO audit methodology covering technical SEO, on-page optimization, content quality, E-E-A-T signals, and AI citation readiness. Informed by Google's ranking pipeline architecture. Use for thorough content and site audits.",
                "path": "plugins/majestic-marketing/skills/seo-audit/SKILL.md",
                "frontmatter": {
                  "name": "seo-audit",
                  "description": "Comprehensive SEO and GEO audit methodology covering technical SEO, on-page optimization, content quality, E-E-A-T signals, and AI citation readiness. Informed by Google's ranking pipeline architecture. Use for thorough content and site audits."
                },
                "content": "# SEO Audit Skill\n\nA comprehensive SEO audit methodology that evaluates content for both traditional search engine optimization and modern AI/LLM visibility (GEO). Informed by Google's multi-stage ranking pipeline.\n\n## When to Use\n\n- Auditing existing content for SEO performance\n- Reviewing new content before publication\n- Identifying optimization opportunities\n- Assessing AI citation readiness\n- Evaluating E-E-A-T signals\n- Checking technical SEO elements\n- Diagnosing why content isn't ranking\n- Auditing new domains (sandbox considerations)\n\n## Google's Ranking Pipeline\n\nContent passes through sequential evaluation gates. Understanding this pipeline informs what to audit and why.\n\n```\nMustang  Topicality (T*)  NavBoost  Twiddlers\n                                       \n Initial   Query-match    User clicks   Final\n scoring   relevance      (13 months)   adjustments\n```\n\n**Key Implications:**\n- Content must pass Mustang's quality gate before relevance even matters\n- User behavior (NavBoost) accumulates over 13 monthspatience required\n- Two foundational pillars: Q* (site quality) and P* (popularity via Chrome data)\n- Page potential is capped by domain's `siteAuthority` score\n\nSee `resources/google-ranking-signals.yaml` for complete signal reference.\n\n## Audit Framework\n\n### Phase 0: Domain & History Context\n\nBefore auditing content, assess domain-level factors that cap page potential:\n\n**Domain Authority Check:**\n- [ ] Established domain (>6 months) or new domain sandbox?\n- [ ] Site-wide quality signals (clutterScore, ad density)\n- [ ] Homepage authority inheritance for new pages\n- [ ] Brand entity recognition (`queriesForWhichOfficial`)\n\n**URL History Assessment:**\n- [ ] Is this an established URL with history?\n- [ ] URL changes reset accumulated trust (Google tracks last 20 versions)\n- [ ] Evergreen URL structure (no dates unless news content)\n- [ ] URL permanence strategy in place\n\n**Sandbox Awareness (New Domains/Pages):**\n| Factor | Status | Impact |\n|--------|--------|--------|\n| hostAge | New (<6mo) / Established | Domain-level sandbox |\n| documentHistory | New URL / Has history | Page-level demotion |\n| Graduation signals | Social, backlinks, engagement | Exit sandbox |\n\n**If new domain:** Set realistic expectations. Dual sandbox (host + document) requires consistent quality publishing, backlinks, and positive engagement over months.\n\n### Phase 1: Technical SEO Check\n\nEvaluate foundational technical elements:\n\n**Page-Level Technical:**\n- [ ] URL structure (clean, descriptive, <60 chars, evergreen)\n- [ ] Title tag (50-60 chars, keyword in first 30)  affects `titlematchScore`\n- [ ] Meta description (150-160 chars, compelling CTA)\n- [ ] H1 tag (single, matches topic)\n- [ ] Header hierarchy (logical H1H2H3)  larger text weighted higher\n- [ ] Image alt text (descriptive, keyword-relevant)\n- [ ] Internal links (contextual, relevant)\n- [ ] External links (authoritative sources)\n\n**Site-Level Technical:**\n- [ ] HTTPS enabled\n- [ ] Mobile-friendly\n- [ ] Page speed (<1.8s mobile)\n- [ ] Schema markup present\n- [ ] XML sitemap inclusion\n- [ ] robots.txt accessibility\n\n**Entity & Trust Signals:**\n- [ ] Verifiable ownership/authorship (disconnected entity problem)\n- [ ] Contact information accessible\n- [ ] Organization schema linking to Knowledge Graph\n\n### Phase 2: Content Quality Assessment\n\nEvaluate content depth and value. Google's `contentEffort` signal measures ML-assessed effort invested.\n\n**Content Completeness:**\n| Factor | Check | Score | Signal |\n|--------|-------|-------|--------|\n| Topic coverage | Comprehensive vs. shallow | /10 | contentEffort |\n| Unique value | Original insights vs. rehash | /10 | OriginalContentScore |\n| Accuracy | Factual, verifiable | /10 | Trust signals |\n| Freshness | Current data/sources | /10 | semanticDate |\n| Depth | Expert-level detail | /10 | contentEffort |\n\n**Token Truncation Awareness:**\nGoogle uses token limitslong documents may be truncated. Optimize for this:\n- [ ] Critical information in first 20% of content (inverted pyramid)\n- [ ] Key facts lead each section\n- [ ] Paragraphs <120 words\n- [ ] Front-load value, don't bury it\n\n**Readability:**\n- Reading level (target: Grade 8-10)\n- Paragraph length (2-3 sentences ideal)\n- Sentence variety\n- Scannable formatting (bullets, headers)\n- Visual aids (images, tables, diagrams)\n\n**Freshness Audit:**\nGoogle evaluates freshness through three distinct methods:\n- [ ] Explicit byline date (visible, accurate)\n- [ ] URL date signals (avoid dates in evergreen URLs)\n- [ ] Semantic freshness (are facts/sources current, not just timestamp?)\n\n **Freshness spam detection:** Changing timestamps without updating substance is detected via `semanticDate` comparison.\n\n### Phase 3: Keyword & Semantic Analysis\n\nAssess keyword optimization. Affects Topicality (T*) stage scoring.\n\n**Primary Keyword:**\n- Present in title tag (first 30 chars ideal)\n- In H1 and early H2s\n- Natural density (0.5-1.5%)\n- In meta description\n- In first 100 words\n\n**Semantic Coverage:**\n- LSI keywords present\n- Related entities covered (`webrefEntities` signal)\n- Topic cluster alignment\n- Question variations addressed\n- Search intent match\n\n**Entity Optimization:**\n- [ ] Content associates with Knowledge Graph entities\n- [ ] Clear entity relationships established\n- [ ] Supports topical authority building\n\n### Phase 4: E-E-A-T Evaluation\n\nAssess Experience, Expertise, Authority, Trust signals. These map directly to technical signals.\n\n**Experience Signals:**\n- [ ] First-hand experience indicated\n- [ ] Case studies/examples included\n- [ ] Original data/research\n- [ ] Process documentation\n\n**Expertise Signals:** ( `contentEffort`, `OriginalContentScore`)\n- [ ] Author credentials visible\n- [ ] Technical accuracy\n- [ ] Comprehensive coverage\n- [ ] Expert quotes/interviews\n\n**Authority Signals:** ( `siteAuthority`, `author` attribute)\n- [ ] Authoritative external citations\n- [ ] Industry recognition\n- [ ] Brand mentions\n- [ ] Published research\n\n**Trust Signals:**\n- [ ] Contact information (disconnected entity fix)\n- [ ] Privacy policy\n- [ ] Editorial guidelines\n- [ ] Reviews/testimonials\n- [ ] Security indicators\n\n**Disconnected Entity Check:**\nSites without verifiable ownership, author info, and contact transparency trigger algorithmic distrusteven with high content quality.\n\n### Phase 5: AI/GEO Readiness\n\nAssess content for LLM visibility:\n\n**Extractability:**\n- [ ] TL;DR or summary present (first 100 words)\n- [ ] Paragraphs <120 words (token limit friendly)\n- [ ] Clear topic sentences (lead with facts)\n- [ ] Bullet lists for features\n- [ ] Tables for comparisons\n- [ ] FAQ section present\n\n**Fact-Density:**\n- [ ] Statistics with sources\n- [ ] Specific numbers/dates\n- [ ] Verifiable data points\n- [ ] Expert quotes with attribution\n\n**Structure for AI:**\n- [ ] Question-based headers\n- [ ] Direct answers near top (inverted pyramid)\n- [ ] Logical information hierarchy\n- [ ] Schema markup (FAQPage, HowTo)\n\n### Phase 6: User Behavior Signals\n\nGoogle's NavBoost uses 13 months of aggregated click behavior. Audit for \"good clicks\" potential.\n\n**Click Quality Indicators:**\n- [ ] Title/meta accurately represent content (no clickbait)\n- [ ] Content matches search intent (dwell time)\n- [ ] Clear value proposition visible above fold\n- [ ] Low bounce risk (content delivers on promise)\n\n**Engagement Factors:**\n| Signal | Status | Improvement |\n|--------|--------|-------------|\n| Expected dwell time | Low/Med/High | Match intent better |\n| Bounce risk | Low/Med/High | Clearer value prop |\n| Return visit potential | Low/Med/High | Brand building |\n\n## Output Format\n\n### SEO Audit Report\n\n```markdown\n## SEO Audit Report\n\n**Page:** [URL or filename]\n**Date:** [Audit date]\n**Overall Score:** X/100\n**Domain Status:** [Established/New (sandbox considerations)]\n\n### Executive Summary\n[2-3 sentence overview including pipeline stage bottlenecks]\n\n### Scores by Category\n\n| Category | Score | Status | Key Signal |\n|----------|-------|--------|------------|\n| Domain/History | X/10 | [Status] | siteAuthority |\n| Technical SEO | X/15 | [Status] | titlematchScore |\n| Content Quality | X/25 | [Status] | contentEffort |\n| Keyword Optimization | X/10 | [Status] | Topicality |\n| E-E-A-T Signals | X/20 | [Status] | Trust signals |\n| AI/GEO Readiness | X/10 | [Status] | Extractability |\n| User Behavior | X/10 | [Status] | NavBoost |\n\n### Pipeline Bottleneck Analysis\n[Which pipeline stage is the primary blocker? Mustang quality? Topicality match? NavBoost signals?]\n\n### Priority Issues (Fix First)\n\n1. **[Issue]** - [Impact] - [Fix] - [Signal affected]\n2. **[Issue]** - [Impact] - [Fix] - [Signal affected]\n3. **[Issue]** - [Impact] - [Fix] - [Signal affected]\n\n### Domain Context\n[Sandbox status, authority inheritance, URL history]\n\n### Technical SEO Findings\n[Detailed findings with specific recommendations]\n\n### Content Quality Findings\n[contentEffort indicators, token optimization, freshness]\n\n### Keyword Analysis\n[Primary keyword performance, semantic gaps, entity coverage]\n\n### E-E-A-T Assessment\n[Specific signals present/missing, disconnected entity risk]\n\n### AI Visibility Assessment\n[GEO readiness score and improvements]\n\n### User Behavior Optimization\n[Click quality, dwell time, engagement improvements]\n\n### Action Plan\n\n**Immediate (This Week):**\n- [ ] Action 1\n- [ ] Action 2\n\n**Short-term (This Month):**\n- [ ] Action 1\n- [ ] Action 2\n\n**Ongoing (Sandbox Graduation):**\n- [ ] Consistent quality publishing\n- [ ] Social signal building\n- [ ] Backlink acquisition\n- [ ] User engagement optimization\n```\n\n## Scoring Guide\n\n**90-100:** Excellent - Minor optimizations only\n**70-89:** Good - Some improvements needed\n**50-69:** Needs Work - Significant gaps to address\n**Below 50:** Critical - Major overhaul required\n\n**New Domain Adjustment:** Subtract 10-15 points for sandbox limitations. Focus on graduation signals.\n\n## Quick Audit Option\n\nFor faster audits, focus on:\n\n1. **Domain Context** - Established or sandbox? URL history?\n2. **Title & Meta** - Optimized for `titlematchScore`?\n3. **Content Quality** - `contentEffort` indicators present?\n4. **E-E-A-T** - Disconnected entity risk?\n5. **AI Ready** - Inverted pyramid, extractable format?\n\nDeliver top 5 issues with affected signals and fixes.\n\n## Signal Reference\n\nFor detailed signal documentation, see:\n`resources/google-ranking-signals.yaml`\n\nKey signals to remember:\n- `titlematchScore` - Title relevance to query\n- `contentEffort` - ML-assessed content investment\n- `OriginalContentScore` - Uniqueness (0-512 scale)\n- `semanticDate` - Actual freshness of facts/sources\n- `siteAuthority` - Domain-level authority cap\n- `chromeInTotal` - Popularity via Chrome data"
              },
              {
                "name": "seo-content",
                "description": "Create SEO-optimized content that ranks AND reads like a human wrote it. Takes a target keyword/cluster and produces publication-ready articles. Includes AI-detection avoidance patterns and E-E-A-T signals.",
                "path": "plugins/majestic-marketing/skills/seo-content/SKILL.md",
                "frontmatter": {
                  "name": "seo-content",
                  "description": "Create SEO-optimized content that ranks AND reads like a human wrote it. Takes a target keyword/cluster and produces publication-ready articles. Includes AI-detection avoidance patterns and E-E-A-T signals.",
                  "triggers": [
                    "seo content",
                    "write article for",
                    "blog post about",
                    "seo article",
                    "content for keyword",
                    "write for ranking",
                    "create blog post"
                  ],
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, WebFetch, AskUserQuestion"
                },
                "content": "# SEO Content Workflow\n\nSEO content has a reputation problem. Most of it is garbagekeyword-stuffed, AI-sounding, says nothing new. It ranks for a month, then dies.\n\nThis skill creates content that ranks AND builds trust. Content that sounds like an expert sharing what they know, not a content mill churning out filler.\n\nThe goal: Would someone bookmark this? Would they share it? Would they come back?\n\n---\n\n## The Core Job\n\nTransform a keyword target into **publication-ready content** that:\n- Answers the search intent completely\n- Sounds like a knowledgeable human wrote it\n- Is structured for both readers and search engines\n- Includes proper on-page optimization\n- Passes the \"would I actually read this?\" test\n\n---\n\n## Conversation Starter\n\nUse `AskUserQuestion` to gather context:\n\n\"I'll help you create SEO content that ranks and reads well.\n\n**Quick info needed:**\n\n1. **Target keyword**: What's the primary keyword to rank for?\n2. **Related keywords**: Any secondary/related terms to include?\n3. **Search intent**: Informational, commercial, or transactional?\n4. **Content type** (pick one):\n   - **Pillar guide** - Comprehensive 5,000+ word authority piece\n   - **How-to** - Step-by-step tutorial (2,000-3,000 words)\n   - **Comparison** - X vs Y analysis\n   - **Listicle** - Numbered list format\n   - **Answer post** - Direct answer to specific question\n5. **Unique angle**: What perspective makes this different?\n6. **Brand voice**: Casual, professional, technical, etc.\n\nI'll research competitors, create an outline, and produce publication-ready content.\"\n\n---\n\n## The Workflow\n\n```\nRESEARCH  BRIEF  OUTLINE  DRAFT  HUMANIZE  OPTIMIZE  REVIEW\n```\n\n---\n\n## Phase 1: Research\n\nBefore writing, understand what you're competing against.\n\n### SERP Analysis\n\nSearch the target keyword (if WebSearch available) and analyze top results:\n\n**For each result, note:**\n- Content type (guide, listicle, tool page, etc.)\n- Approximate word count\n- Structure (headers, sections)\n- Unique angles or data\n- What they do well\n- What they miss or get wrong\n- How recent (publish/update date)\n\n**Extract from SERP features:**\n- People Also Ask questions (answer ALL of these)\n- Featured Snippet format (match it to win it)\n- AI Overview presence (what it includes/excludes)\n\n### Gap Analysis\n\nAfter reviewing competitors, identify:\n\n1. **What's missing?**  Questions unanswered, angles unexplored\n2. **What's outdated?**  Old information, deprecated methods\n3. **What's generic?**  Surface-level advice anyone could give\n4. **What's your edge?**  Unique data, experience, perspective\n\n---\n\n## Phase 2: Content Brief\n\nBefore drafting, create a brief:\n\n```markdown\n# Content Brief: [Title]\n\n## Target Keyword\nPrimary: [keyword]\nSecondary: [keyword], [keyword], [keyword]\n\n## Search Intent\n[Informational / Commercial / Transactional]\n\n## Content Type\n[Pillar Guide / How-To / Comparison / Listicle / etc.]\n\n## Target Word Count\n[Based on competitor analysis]\n\n## Audience\nWho is searching this? What do they need?\n\n## Unique Angle\nWhat makes our take different?\n\n## Key Points to Cover\n- [Point 1]\n- [Point 2]\n- [Point 3]\n\n## Questions to Answer (from PAA)\n- [Question 1]\n- [Question 2]\n- [Question 3]\n\n## Competitor Gaps to Fill\n- [Gap 1]\n- [Gap 2]\n\n## CTA\nWhat action should readers take?\n```\n\n---\n\n## Phase 3: Content Type Structures\n\n### Pillar Guide (5,000-8,000 words)\n\n```\n1. Hook Intro (150-250 words)\n   - Answer the title question immediately\n   - Why this matters NOW\n   - Who this is for (and who it's not for)\n\n2. Quick Answer Section (200-300 words)\n   - Direct answer for Featured Snippet\n   - TL;DR for skimmers\n\n3. Core Sections (3-5 major sections)\n   - Each 800-1,500 words\n   - Each answers a major sub-question\n   - H2 headers with keyword variations\n\n4. Implementation (300-500 words)\n   - Specific actionable steps\n   - Decision framework if applicable\n\n5. FAQ Section (5-10 questions)\n   - From PAA research\n   - Schema-ready format\n\n6. Conclusion with CTA (150-200 words)\n   - Summarize key takeaway\n   - Clear next action\n```\n\n### How-To Tutorial (2,000-3,000 words)\n\n```\n1. What You'll Achieve (150-200 words)\n   - End result shown first\n   - Time estimate\n   - Prerequisites\n\n2. Why This Method (200-300 words)\n   - Context and alternatives\n   - Why this approach works\n\n3. Step-by-Step Instructions (1,200-2,000 words)\n   - Numbered steps\n   - One action per step\n   - Troubleshooting inline\n\n4. Variations / Advanced Tips (300-400 words)\n\n5. Common Mistakes (200-300 words)\n\n6. Next Steps with CTA (100-150 words)\n```\n\n### Comparison (2,500-4,000 words)\n\n```\n1. Quick Verdict (200-300 words)\n   - Bottom line recommendation\n   - \"Choose X if... Choose Y if...\"\n\n2. Comparison Table\n   - 8-12 key differentiators\n   - Pricing, best for, key features\n\n3. Deep Dive: Option A (800-1,000 words)\n\n4. Deep Dive: Option B (800-1,000 words)\n\n5. Head-to-Head Comparison (300-500 words)\n   - Specific scenarios\n\n6. FAQ (3-5 questions)\n\n7. Final Recommendation with CTA\n```\n\n---\n\n## Phase 4: Draft\n\n### The First Paragraph Rule\n\nAnswer the search query in the first 2-3 sentences. Don't make them scroll.\n\n**Bad:**\n> \"In today's rapidly evolving digital landscape, marketers are increasingly turning to artificial intelligence to streamline their workflows...\"\n\n**Good:**\n> \"AI marketing tools can automate 60-80% of repetitive marketing tasks. Here are the 10 that actually work, based on testing them across 50+ client accounts.\"\n\n### The \"So What?\" Chain\n\nFor every point, ask \"so what?\" until you hit something the reader cares about:\n\n> Feature: \"Automated email sequences\"\n> So what? \"Sends follow-ups without you remembering\"\n> So what? \"You wake up to replies instead of a blank inbox\"\n> So what? \"Close deals while you sleep\"\n\nWrite from the bottom of the chain.\n\n### Specificity Over Generality\n\n**Weak:** \"This tool saves time.\"\n**Strong:** \"This tool cut our email outreach from 4 hours to 15 minutes per day.\"\n\nNumbers, examples, specifics. Always.\n\n---\n\n## Phase 5: Humanize (CRITICAL)\n\nAI content has tells. Remove them ruthlessly.\n\n### Word-Level Tells (KILL THESE)\n\n- delve, dive into, dig into\n- comprehensive, robust, cutting-edge\n- utilize (just say \"use\")\n- leverage (as a verb)\n- crucial, vital, essential\n- unlock, unleash, supercharge\n- game-changer, revolutionary\n- landscape, navigate, streamline\n- tapestry, multifaceted, myriad\n- foster, facilitate, enhance\n- realm, paradigm, synergy\n- embark, journey (for processes)\n\n### Phrase-Level Tells (KILL THESE)\n\n- \"In today's fast-paced world...\"\n- \"In today's digital age...\"\n- \"It's important to note that...\"\n- \"When it comes to...\"\n- \"In order to...\" (just say \"to\")\n- \"Whether you're a... or a...\"\n- \"Let's dive in\" / \"Let's explore\"\n- \"Without further ado\"\n- \"In conclusion\"\n- \"This comprehensive guide will...\"\n\n### Structure-Level Tells\n\n- **The Triple Pattern**: Everything in threes. Humans are messier.\n- **Perfect Parallelism**: Every bullet same length/structure. Too clean.\n- **Hedge Stack**: \"While X, it's important to consider Y, but also Z.\"\n- **Fake Objectivity**: \"Some experts say... others believe...\"\n- **Empty Transitions**: \"Now that we've covered X, let's move on to Y.\"\n\n### Voice Injection Points\n\nAdd theseAI content lacks them:\n\n**Personal experience:**\n> \"I made this mistake for two years. Cost me roughly $40K in lost revenue.\"\n\n**Opinion with reasoning:**\n> \"Honestly, most SEO advice is written by people who've never ranked anything.\"\n\n**Admission of limitations:**\n> \"This won't work for everyone. If you're in YMYL niches, ignore this entirely.\"\n\n**Specific examples:**\n> \"When we implemented this for [client]an e-commerce brand selling outdoor geartheir organic traffic went from 12K to 89K monthly.\"\n\n**Uncertainty where honest:**\n> \"I'm not 100% sure why this works. Best guess: the semantic density signals topical authority.\"\n\n### The Detection Checklist\n\n```\n[ ] No AI words (delve, comprehensive, crucial, leverage, landscape)\n[ ] No AI phrases (in today's world, it's important to note)\n[ ] Not everything in threes\n[ ] At least one personal opinion stated directly\n[ ] At least one specific number from real experience\n[ ] At least one admission of limitation or uncertainty\n[ ] Sentence lengths vary (some under 5 words, some over 20)\n[ ] Would I say this out loud to a smart friend?\n```\n\n---\n\n## Phase 6: Optimize\n\n### On-Page SEO Checklist\n\n```\n[ ] Primary keyword in title (front-loaded if possible)\n[ ] Primary keyword in H1 (can match title)\n[ ] Primary keyword in first 100 words\n[ ] Primary keyword in at least one H2\n[ ] Secondary keywords in H2s naturally\n[ ] Primary keyword in meta description\n[ ] Primary keyword in URL slug\n[ ] Image alt text includes relevant keywords\n[ ] Internal links to related content (4-8)\n[ ] External links to authoritative sources (2-4)\n```\n\n### Title Optimization\n\n**Format:** [Primary Keyword]: [Benefit or Hook] ([Year] if relevant)\n\n**Examples:**\n- \"AI Marketing Tools: 10 That Actually Work (2025)\"\n- \"What is Agentic AI Marketing? The Complete Guide\"\n- \"n8n vs Zapier: Which Automation Tool is Right for You?\"\n\n**Rules:**\n- Under 60 characters\n- Front-load the keyword\n- Include a hook or differentiator\n\n### Meta Description\n\n**Format:** [Direct answer to query]. [Proof/credibility]. [CTA or hook].\n\n**Example:**\n> \"AI marketing tools can automate 60-80% of repetitive tasks. We tested 23 tools over 6 months to find the 10 that deliver. See the results.\"\n\n- 150-160 characters\n- Include primary keyword\n- Compelling enough to click\n\n### Featured Snippet Optimization\n\n**For definition snippets:**\n- Put definition in first paragraph\n- Format: \"[Keyword] is [definition in 40-50 words]\"\n\n**For list snippets:**\n- Use H2 for the question\n- Immediately follow with numbered/bulleted list\n- Keep list items concise (one line each)\n\n---\n\n## Phase 7: Quality Review\n\n### Content Quality Checklist\n\n```\n[ ] Answers title question in first 300 words\n[ ] At least 3 specific examples or numbers\n[ ] At least 1 personal experience or unique insight\n[ ] Unique angle present (not just aggregation)\n[ ] All claims supported by evidence or experience\n[ ] No generic advice (could apply to anyone)\n[ ] Would I bookmark this? Would I share it?\n```\n\n### E-E-A-T Signals Checklist\n\n```\n[ ] Experience shown (real examples, specific results)\n[ ] Expertise demonstrated (depth, accuracy, nuance)\n[ ] Author credentials visible\n[ ] Sources cited for factual claims\n[ ] Updated date visible\n[ ] No misleading claims\n```\n\n---\n\n## Output Format\n\n```markdown\n# [SEO-Optimized Title]\n\nMeta description: [150-160 characters]\n\n---\n\n[Full article content with proper H2/H3 structure]\n\n---\n\n## FAQ\n\n### [Question 1]\n[Answer]\n\n### [Question 2]\n[Answer]\n\n---\n\n**Internal links included:**\n- [Link 1 to related content]\n- [Link 2 to related content]\n```\n\n---\n\n## Integration\n\nWorks with:\n- `keyword-research` - Provides target keyword and cluster\n- `positioning-angles` - Provides unique angle for differentiation\n- `brand-voice` - Provides voice profile for consistent tone\n- `direct-response-copy` - For CTAs and conversion elements\n- `content-atomizer` - Repurpose into social posts\n\n**Workflow:**\n```\nkeyword-research  positioning-angles  brand-voice  seo-content  content-atomizer\n```\n\n---\n\n## Quality Test\n\nBefore publishing, ask:\n\n1. **Does it answer the query better than what's ranking?**\n2. **Would an expert approve of the accuracy?**\n3. **Would a reader bookmark or share this?**\n4. **Does it sound like a person, not a content mill?**\n5. **Is there at least one thing here they can't find elsewhere?**\n6. **Does it pass the AI detection checklist?**\n\nIf any answer is no, revise before publishing."
              },
              {
                "name": "slogan-generator",
                "description": "Generate and evaluate marketing slogans for any product or service. Creates options across multiple angles, scores against criteria, and recommends the best fit.",
                "path": "plugins/majestic-marketing/skills/slogan-generator/SKILL.md",
                "frontmatter": {
                  "name": "slogan-generator",
                  "description": "Generate and evaluate marketing slogans for any product or service. Creates options across multiple angles, scores against criteria, and recommends the best fit.",
                  "triggers": [
                    "slogan",
                    "tagline",
                    "marketing slogan",
                    "brand slogan",
                    "company tagline"
                  ],
                  "allowed-tools": "Read, Write, Edit, Grep, Glob"
                },
                "content": "# Marketing Slogan Generator\n\nGenerate memorable, effective marketing slogans for any product or service.\n\n## Information Gathering\n\nAsk the user for:\n\n1. **Product/Service name** - What are we creating a slogan for?\n2. **What it does** - Core benefit or function (one sentence)\n3. **Target audience** - Who is this for?\n4. **Brand personality** - (e.g., professional, playful, bold, trustworthy)\n5. **Key differentiator** - What makes it different from competitors?\n6. **Any words/themes to include or avoid?**\n\n## Slogan Categories\n\nGenerate 2-3 slogans in each category (10-15 total):\n\n### 1. Benefit-Focused\nHighlight what the customer gets:\n- \"Save time, not money\" (benefit: efficiency)\n- \"Sleep better tonight\" (benefit: peace of mind)\n\n### 2. Emotional Appeal\nConnect on a feeling:\n- \"Because you're worth it\" (L'Oral)\n- \"Think different\" (Apple)\n\n### 3. Clever Wordplay\nMemorable through language:\n- \"Every kiss begins with Kay\" (Kay Jewelers)\n- \"The quicker picker upper\" (Bounty)\n\n### 4. Aspirational\nPaint a vision of success:\n- \"Just do it\" (Nike)\n- \"Impossible is nothing\" (Adidas)\n\n### 5. Problem-Solution\nAddress the pain point directly:\n- \"Got milk?\" (California Milk Board)\n- \"Melts in your mouth, not in your hands\" (M&M's)\n\n### 6. Brand Promise\nMake a commitment:\n- \"When it absolutely, positively has to be there overnight\" (FedEx)\n- \"15 minutes could save you 15%\" (GEICO)\n\n## Evaluation Criteria\n\nScore each slogan 1-5 on:\n\n| Criterion | What It Measures |\n|-----------|------------------|\n| **Memorable** | Easy to recall after one hearing |\n| **Clear** | Meaning is immediately understood |\n| **Differentiating** | Couldn't be used by a competitor |\n| **On-brand** | Matches the brand personality |\n| **Versatile** | Works across different media/contexts |\n| **Timeless** | Won't feel dated in 5 years |\n\n## Output Format\n\n```markdown\n## Slogan Options for [Product/Service]\n\n### Benefit-Focused\n1. \"[Slogan]\" - [Brief rationale]\n2. \"[Slogan]\" - [Brief rationale]\n\n### Emotional Appeal\n3. \"[Slogan]\" - [Brief rationale]\n4. \"[Slogan]\" - [Brief rationale]\n\n### Clever Wordplay\n5. \"[Slogan]\" - [Brief rationale]\n6. \"[Slogan]\" - [Brief rationale]\n\n### Aspirational\n7. \"[Slogan]\" - [Brief rationale]\n8. \"[Slogan]\" - [Brief rationale]\n\n### Problem-Solution\n9. \"[Slogan]\" - [Brief rationale]\n10. \"[Slogan]\" - [Brief rationale]\n\n### Brand Promise\n11. \"[Slogan]\" - [Brief rationale]\n12. \"[Slogan]\" - [Brief rationale]\n\n---\n\n## Evaluation Matrix\n\n| # | Slogan | Memorable | Clear | Different | On-brand | Versatile | Timeless | **Total** |\n|---|--------|-----------|-------|-----------|----------|-----------|----------|-----------|\n| 1 | \"...\" | 4 | 5 | 3 | 4 | 5 | 4 | **25** |\n| 2 | \"...\" | 5 | 4 | 4 | 5 | 4 | 3 | **25** |\n...\n\n---\n\n## Top 3 Recommendations\n\n### 1st Choice: \"[Slogan]\"\n**Score: X/30**\nWhy it works: [2-3 sentences on why this is the best fit]\n\n### 2nd Choice: \"[Slogan]\"\n**Score: X/30**\nWhy it works: [2-3 sentences]\n\n### 3rd Choice: \"[Slogan]\"\n**Score: X/30**\nWhy it works: [2-3 sentences]\n\n---\n\n## Usage Suggestions\n\nFor the winning slogan, suggest:\n- Where to use it (website header, ads, packaging, email signatures)\n- How to pair it with the logo\n- Variations for different contexts if needed\n```\n\n## Slogan Best Practices\n\n### Length\n- **Ideal**: 3-6 words\n- **Maximum**: 8 words\n- Shorter = more memorable\n\n### Sound\n- Alliteration helps (\"Best Buy\")\n- Rhythm matters (\"Finger lickin' good\")\n- Rhyme when natural, not forced\n\n### Clarity\n- Avoid jargon\n- Skip the cleverness if it obscures meaning\n- Test: Can someone understand it without context?\n\n### Uniqueness\n- Search existing slogans to avoid overlap\n- Ensure it couldn't describe a competitor\n- Check for unintended meanings\n\n## What This Skill Does NOT Do\n\n- Generate logos or visual assets\n- Create full brand identity systems\n- Write marketing plans\n- Trademark searches (recommend user verify availability)\n\n## When to Use This vs. Other Skills\n\n| Use `slogan-generator` when... | Use other skills when... |\n|---------------------------------|--------------------------|\n| Need a tagline/slogan | Need full brand positioning (`value-prop-sharpener`) |\n| Launching a new product | Need attention-grabbing hooks (`hook-writer`) |\n| Rebranding | Need landing page copy (`landing-page-builder`) |\n| Campaign theme | Need full marketing strategy (`marketing-strategy`) |"
              },
              {
                "name": "style-guide-builder",
                "description": "Style guide templates for content creation. Used by /majestic:style-guide:new command.",
                "path": "plugins/majestic-marketing/skills/style-guide-builder/SKILL.md",
                "frontmatter": {
                  "name": "style-guide-builder",
                  "description": "Style guide templates for content creation. Used by /majestic:style-guide:new command."
                },
                "content": "# Style Guide Builder Skill\n\nProvides templates for creating project-specific style guides.\n\n## When to Use\n\nAutomatically invoked by `/majestic:style-guide:new` command.\n\n## Template\n\n- [resources/style-guide-template.md](resources/style-guide-template.md) - Complete style guide output format\n\n## Integration\n\nThe generated `STYLE_GUIDE.md` is automatically used by:\n- `copy-editor` - Reviews content against rules\n- `content-writer` - Follows voice and formatting\n- `content-atomizer` - Maintains consistency across platforms\n\n## Quality Standards\n\n- **Project-specific**: Only include decisions, not generic explanations\n- **Actionable**: Every rule should be verifiable\n- **Concise**: Target 200-400 lines max\n- **Maintainable**: Structure supports easy updates"
              },
              {
                "name": "thread-builder",
                "description": "Structure topics into engaging Twitter/X threads with viral hooks, escalating stakes, and strategic CTA placement. Includes thread arc patterns and tweet-by-tweet breakdown templates.",
                "path": "plugins/majestic-marketing/skills/thread-builder/SKILL.md",
                "frontmatter": {
                  "name": "thread-builder",
                  "description": "Structure topics into engaging Twitter/X threads with viral hooks, escalating stakes, and strategic CTA placement. Includes thread arc patterns and tweet-by-tweet breakdown templates.",
                  "triggers": [
                    "twitter thread",
                    "x thread",
                    "thread structure",
                    "write a thread",
                    "turn into thread"
                  ],
                  "allowed-tools": "Read, Write, Edit, AskUserQuestion"
                },
                "content": "# Thread Builder\n\nStructure content into engaging Twitter/X threads that hold attention and drive engagement.\n\n## Thread Anatomy\n\nEvery high-performing thread follows this structure:\n\n```\nTweet 1: HOOK (stop the scroll)\nTweet 2-3: SETUP (establish context/stakes)\nTweet 4-8: BODY (deliver value, escalate)\nTweet 9-10: CLIMAX (peak insight/revelation)\nTweet 11-12: CTA (action + engagement ask)\n```\n\n## Optimal Thread Length\n\n| Thread Type | Length | Best For |\n|-------------|--------|----------|\n| Quick insight | 5-7 tweets | Single concept, high shareability |\n| How-to guide | 8-12 tweets | Tutorials, frameworks |\n| Story thread | 10-15 tweets | Narratives, case studies |\n| Deep dive | 15-20 tweets | Complex topics, research |\n\n**Rule:** If you can't fill 8 tweets with value, it's a post, not a thread.\n\n## Hook Formulas (Tweet 1)\n\nThe hook determines 80% of thread performance. Use these patterns:\n\n### Curiosity Gap\n```\nI spent [X time] studying [topic].\n\nHere's what nobody tells you:\n```\n\n### Contrarian\n```\n[Common belief] is wrong.\n\nHere's what actually works:\n```\n\n### Story Open\n```\n[Time ago], I [was in bad situation].\n\nToday, I [am in good situation].\n\nHere's exactly what changed:\n```\n\n### Numbered Promise\n```\n[X] [unexpected adjective] ways to [achieve result].\n\n(Most people only know #3)\n```\n\n### Before/After\n```\n[X months] ago: [bad state]\nToday: [good state]\n\nThe [X]-step system that changed everything:\n```\n\n### Social Proof\n```\nThis [thing] helped me [specific result].\n\n[Specific number/metric] later, here's the breakdown:\n```\n\n## Tweet-by-Tweet Structure\n\n### Tweet 1: The Hook\n- First line is everything (appears in preview)\n- Use line breaks for rhythm\n- End with colon or \"Here's...\" to create pull\n\n### Tweet 2: The Stakes\n- Why this matters to the reader\n- What they'll gain by reading\n- Or: Context that amplifies the hook\n\n```\nExample:\n\"This isn't theory. I've tested this on [X] campaigns.\n\nThe difference: [specific metric improvement]\"\n```\n\n### Tweets 3-8: The Body\nEach tweet should:\n- Make ONE clear point\n- Include a specific example or number\n- End with momentum into next tweet\n\n**Momentum Patterns:**\n- \"But here's where it gets interesting...\"\n- \"The real secret?\"\n- \"Most people stop here. Don't.\"\n- \"Here's what I mean:\"\n- \"Example:\"\n\n### Tweet 9-10: The Climax\n- Deliver the core insight\n- This is the \"aha\" moment\n- Most quotable/screenshottable tweet\n\n```\nExample:\n\"The truth nobody talks about:\n\n[Counterintuitive insight]\n\nThis single shift [specific result].\"\n```\n\n### Tweet 11-12: The CTA\nLayer your CTAs:\n\n**Tweet 11 - Soft CTA:**\n```\nIf this helped, I share [topic] threads every [day].\n\nFollow @handle so you don't miss them.\n```\n\n**Tweet 12 - Engagement CTA:**\n```\nWhat's your biggest challenge with [topic]?\n\nDrop it below - I'll respond to everyone.\n```\n\n## Thread Arc Patterns\n\n### The Listicle Arc\n```\n1. Hook with number promise\n2. Why this matters\n3. Item 1 (strongest)\n4. Item 2\n5. Item 3\n6. Item 4\n7. Item 5 (second strongest)\n8. Bonus item (unexpected)\n9. Key takeaway\n10. CTA\n```\n\n### The Story Arc\n```\n1. Hook (dramatic moment)\n2. Context (where I was)\n3. The problem\n4. First attempt (failed)\n5. What I learned\n6. The breakthrough\n7. The result\n8. Key lesson 1\n9. Key lesson 2\n10. CTA + question\n```\n\n### The Framework Arc\n```\n1. Hook (promise the framework)\n2. Why most approaches fail\n3. The framework overview\n4. Step 1 (with example)\n5. Step 2 (with example)\n6. Step 3 (with example)\n7. Common mistake to avoid\n8. Advanced tip\n9. Results you can expect\n10. CTA\n```\n\n### The Myth-Busting Arc\n```\n1. Hook (controversial take)\n2. The common belief\n3. Why people believe it\n4. The evidence against\n5. What actually works (part 1)\n6. What actually works (part 2)\n7. Case study/example\n8. The real insight\n9. How to apply this\n10. CTA\n```\n\n## Cliffhanger Patterns\n\nKeep readers scrolling with these tweet endings:\n\n| Pattern | Example |\n|---------|---------|\n| The Tease | \"But that's not even the best part...\" |\n| The Question | \"So what happened next?\" |\n| The Contradiction | \"Turns out, I was completely wrong.\" |\n| The Promise | \"Here's where it gets good:\" |\n| The Number | \"Result? [Specific metric]\" |\n| The Challenge | \"Most people won't do this. Will you?\" |\n\n## Formatting Rules\n\n### Line Breaks\n- Use single line breaks between thoughts\n- Double line breaks for emphasis\n- Never wall-of-text a tweet\n\n**Bad:**\n```\nHere's why most people fail at X. They don't understand that Y is actually more important than Z. The research shows that...\n```\n\n**Good:**\n```\nHere's why most people fail at X:\n\nThey focus on Y.\n\nBut Z is what actually matters.\n\nThe research proves it:\n```\n\n### Numbers and Specificity\n- \"A lot of money\"  \"$47,000\"\n- \"Recently\"  \"Last Tuesday\"\n- \"Many people\"  \"2.3 million users\"\n- \"Improved results\"  \"47% higher conversion\"\n\n### Emoji Usage\n- One emoji per tweet maximum\n- Use for visual breaks, not decoration\n- Best at start of lists or sections\n\n## Thread Types by Goal\n\n| Goal | Thread Type | Key Elements |\n|------|-------------|--------------|\n| Grow followers | Educational how-to | Actionable tips, follow CTA |\n| Build authority | Deep analysis | Data, unique insight, contrarian take |\n| Drive engagement | Story thread | Emotion, cliffhangers, question CTA |\n| Generate leads | Framework thread | Free resource in final tweet |\n| Viral reach | Listicle | Shareable insights, save-worthy |\n\n## Anti-Patterns\n\n**Don't:**\n- Start tweet 1 with \"Thread:\" or \"1/\"\n- Number every tweet (only if listicle)\n- End tweets mid-sentence to force clicks\n- Use more than one CTA type\n- Make tweets dependent on previous (each should standalone)\n- Pad with filler tweets\n\n**Do:**\n- Write tweet 1 as if it's the only tweet people will see\n- Make every tweet valuable on its own\n- Use the last tweet to encourage retweets of tweet 1\n- Schedule threads for optimal times (8am, 12pm, 5pm local)\n\n## Output Format\n\nWhen building a thread, present as:\n\n```markdown\n## Thread: [Topic]\n\n**Thread Type:** [Listicle/Story/Framework/Myth-Busting]\n**Length:** [X] tweets\n**Goal:** [Followers/Authority/Engagement/Leads]\n\n---\n\n### 1/ HOOK\n[Tweet text]\n\n---\n\n### 2/ STAKES\n[Tweet text]\n\n---\n\n### 3/ BODY\n[Tweet text]\n\n---\n\n[Continue for all tweets...]\n\n---\n\n### [X]/ CTA\n[Tweet text]\n\n---\n\n## Engagement Prediction\n- **Hook strength:** [Strong/Medium/Needs work]\n- **Save-worthy tweets:** [List tweet numbers]\n- **Retweet triggers:** [What makes it shareable]\n```\n\n## Quick Reference\n\n**Hook checklist:**\n- [ ] First line stops the scroll\n- [ ] Creates curiosity gap\n- [ ] Promises specific value\n- [ ] Uses line breaks\n\n**Body checklist:**\n- [ ] Each tweet has one clear point\n- [ ] Includes specific numbers/examples\n- [ ] Momentum into next tweet\n- [ ] Standalone value\n\n**CTA checklist:**\n- [ ] Follow ask\n- [ ] Engagement question\n- [ ] Easy action (comment, not click)"
              },
              {
                "name": "traffic-magnet",
                "description": "Research and compile effective organic traffic and customer acquisition methods for new websites with zero ad spend. Includes traffic sources, community strategies, cold outreach scripts, and 30-day action plans with success stories.",
                "path": "plugins/majestic-marketing/skills/traffic-magnet/SKILL.md",
                "frontmatter": {
                  "name": "traffic-magnet",
                  "description": "Research and compile effective organic traffic and customer acquisition methods for new websites with zero ad spend. Includes traffic sources, community strategies, cold outreach scripts, and 30-day action plans with success stories.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, WebFetch, AskUserQuestion"
                },
                "content": "# Traffic Magnet Formula\n\n**Audience:** Solo founders launching new websites with zero ad budget who need visitors in the first week.\n\n**Goal:** Research and compile actionable organic traffic methodsranked by ease and qualitywith step-by-step implementation for one person. Include community strategies, cold outreach scripts, and a 30-day action plan.\n\n## Conversation Starter\n\nUse `AskUserQuestion` to gather initial context. Begin by asking:\n\n\"I'll help you build a comprehensive organic traffic strategy for your new website.\n\nPlease provide:\n1. **Website/Business Type**: What kind of site are you launching? (e.g., SaaS, e-commerce, blog, local service, agency)\n2. **Target Audience**: Who are your ideal visitors?\n3. **Primary Goal**: Traffic for leads, sales, signups, or brand awareness?\n4. **Available Time**: Hours per week you can dedicate to traffic generation?\n\nI'll research and deliver actionable methods that generate real visitors within the first week.\"\n\n## Research Methodology\n\nUse WebSearch extensively to find:\n- Current best practices for organic traffic (2024-2025)\n- Platform-specific algorithm updates\n- Real case studies with traffic numbers\n- Community guidelines to avoid bans\n- Tool recommendations for tracking\n\n## Required Deliverables\n\n### 1. Top 15 Free Traffic Sources\n\nRank by **ease of implementation** and **visitor quality**:\n\n| Rank | Source | Ease (1-5) | Quality (1-5) | Time to Results | Best For |\n|------|--------|------------|---------------|-----------------|----------|\n| 1 | [Source] | X | X | X days/weeks | [Business type] |\n| ... | ... | ... | ... | ... | ... |\n\nFor each source, include:\n- Why it works for new sites\n- Getting started steps (3-5 bullet points)\n- Expected traffic volume in first month\n- Common mistakes to avoid\n\n### 2. Keyword Research Section\n\nFind **exact keywords** with:\n- Low competition (KD < 30 or equivalent metric)\n- High commercial intent\n- Realistic ranking potential for new sites\n\n**Deliverable format:**\n```\nKEYWORD: [exact phrase]\nSearch Volume: [monthly]\nCompetition: [low/medium]\nCommercial Intent: [score or description]\nContent Angle: [how to target this]\nQuick Win Potential: [yes/no + reasoning]\n```\n\nProvide 15-20 keywords minimum, organized by:\n- Informational (top of funnel)\n- Comparison (middle of funnel)\n- Transactional (bottom of funnel)\n\n### 3. Community Strategy (Reddit/Discord/Facebook)\n\n**Critical: Focus on strategies that won't get banned**\n\nFor each platform, provide:\n\n#### Platform Rules Summary\n- Self-promotion limits\n- Account age/karma requirements\n- What gets you banned immediately\n\n#### Value-First Strategy\n1. Which communities to join (specific names)\n2. How to provide value before promoting\n3. Comment/post templates that work\n4. Timing and frequency guidelines\n5. How to include links without being spammy\n\n#### Sample Engagement Plan\n- Week 1: [Specific actions]\n- Week 2: [Specific actions]\n- Week 3-4: [When/how to start promoting]\n\n### 4. Content Creation Formula\n\n**Proven formats that generate shares and backlinks:**\n\nFor each format, include:\n- Why it works (psychology + algorithm)\n- Template/structure\n- Examples of successful pieces\n- Distribution strategy\n- Expected performance metrics\n\n**Formats to cover:**\n1. Listicles optimized for shares\n2. Data-driven posts that attract backlinks\n3. How-to guides with original insights\n4. Comparison/vs content\n5. Resource roundups\n\n### 5. Day-by-Day 30-Day Traffic Plan\n\n**Week 1: Foundation**\n- Day 1: [Specific task with time estimate]\n- Day 2: [Specific task]\n- ...\n- Day 7: [Week 1 checkpoint]\n\n**Week 2: Content & Community**\n- Day 8-14: [Daily tasks]\n\n**Week 3: Outreach & Amplification**\n- Day 15-21: [Daily tasks]\n\n**Week 4: Optimization & Scale**\n- Day 22-28: [Daily tasks]\n- Day 29-30: [Review and plan Month 2]\n\nEach day should include:\n- Primary task (30-60 min)\n- Quick win task (15 min)\n- Expected outcome\n\n### 6. Outreach Templates\n\n**Copy-paste templates for:**\n\n1. **Guest Post Pitch**\n```\nSubject: [Template]\n\nBody: [Template with personalization markers]\n```\n\n2. **Podcast/Interview Request**\n```\n[Template]\n```\n\n3. **Link Building Outreach**\n```\n[Template]\n```\n\n4. **Collaboration Proposal**\n```\n[Template]\n```\n\n5. **HARO/Journalist Response**\n```\n[Template]\n```\n\nFor each template:\n- When to use\n- Personalization tips\n- Follow-up sequence\n- Expected response rate\n\n### 7. Cold Outreach Scripts That Convert\n\n**Direct outreach for customer acquisition:**\n\n1. **LinkedIn Connection + Value Message**\n```\n[Connection request]\n[First message - value only]\n[Second message - soft pitch]\n[Third message - direct offer]\n```\n\n2. **Cold Email Sequence (3-part)**\n```\nEmail 1: [Problem-focused opener]\nEmail 2: [Case study/proof]\nEmail 3: [Direct ask with easy next step]\n```\n\n3. **DM Scripts for Twitter/Instagram**\n```\n[Engagement first approach]\n[Value-add message]\n[Conversion message]\n```\n\nFor each script:\n- Exact word-for-word copy\n- Personalization placeholders\n- Response rate benchmarks\n- Common objections and rebuttals\n\n### 8. Social Post Templates for Engagement\n\n**Attention-grabbing formats:**\n\n1. **The Hook Post** (stops scroll)\n```\n[Opening line formula]\n[Body structure]\n[CTA that drives action]\n```\n\n2. **The Story Post** (builds connection)\n```\n[Vulnerability opener]\n[Journey middle]\n[Lesson + soft pitch]\n```\n\n3. **The Value Bomb** (establishes authority)\n```\n[Bold claim]\n[Proof/data]\n[Actionable takeaway]\n```\n\n4. **The Controversy Post** (drives engagement)\n```\n[Unpopular opinion]\n[Reasoning]\n[Invite debate]\n```\n\nInclude 3 examples of each template customized to their business.\n\n### 9. Success Stories (Zero-Cost Growth)\n\n**Research and present 3 businesses similar to theirs:**\n\n```markdown\n## Success Story: [Business Name]\n\n**Starting Point:**\n- No budget, no audience\n- Industry: [Their niche]\n\n**Strategy Used:**\n[Specific tactics they employed]\n\n**Timeline & Results:**\n- Month 1: [Metrics]\n- Month 3: [Metrics]\n- Month 6: [Metrics]\n- Current: [Revenue/customers]\n\n**Key Tactics to Replicate:**\n1. [Specific action]\n2. [Specific action]\n3. [Specific action]\n\n**Lesson:** [Core insight]\n```\n\n### 10. Tracking Setup Guide\n\n**Essential tools (free tier):**\n1. Google Analytics 4 setup steps\n2. Google Search Console setup\n3. UTM parameter strategy\n4. Spreadsheet tracking template\n\n**Key metrics to track:**\n| Metric | Tool | Frequency | Target |\n|--------|------|-----------|--------|\n| [Metric] | [Tool] | [Daily/Weekly] | [Number] |\n\n**Attribution model:**\n- How to know which sources convert\n- Setting up goals/conversions\n- Weekly review checklist\n\n## Output Format\n\nStructure your response as a comprehensive traffic blueprint:\n\n```markdown\n# TRAFFIC MAGNET BLUEPRINT: [Business Type]\n\n## Executive Summary\n[2-3 sentences on overall strategy and expected results]\n\n---\n\n## SECTION 1: Traffic Sources (Ranked)\n[Full analysis as specified above]\n\n---\n\n## SECTION 2: Keyword Opportunities\n[Keyword research with all specifications]\n\n---\n\n## SECTION 3: Community Infiltration Strategy\n[Platform-by-platform breakdown]\n\n---\n\n## SECTION 4: Content Formulas\n[Proven formats with templates]\n\n---\n\n## SECTION 5: 30-Day Action Plan\n[Day-by-day breakdown]\n\n---\n\n## SECTION 6: Outreach Arsenal\n[All templates with guidance]\n\n---\n\n## SECTION 7: Cold Outreach Scripts\n[All conversion-focused scripts]\n\n---\n\n## SECTION 8: Social Post Templates\n[Engagement-driving formats]\n\n---\n\n## SECTION 9: Success Stories\n[3 zero-budget growth case studies]\n\n---\n\n## SECTION 10: Measurement System\n[Tracking setup and metrics]\n\n---\n\n## Quick Start Checklist\n[ ] Day 1 priority action\n[ ] Day 1 second action\n[ ] Day 1 third action\n[Continue for first week]\n```\n\n## Quality Standards\n\n- **Research everything**: Use WebSearch for current data, don't rely on outdated tactics\n- **Be specific**: Name exact subreddits, Facebook groups, Discord servers\n- **Include numbers**: Traffic estimates, time investments, expected results\n- **Stay practical**: One person, zero budget, immediate implementation\n- **Avoid gray areas**: No tactics that risk account bans or penalties\n\n## Tone\n\nDirect, actionable, no fluff. Write like a consultant who charges $500/hour and wants to over-deliver. Every sentence should provide value or direction."
              },
              {
                "name": "value-prop-sharpener",
                "description": "Refine value propositions from emotional, logical, and status angles, then synthesize into a powerful 15-word statement with evolution process.",
                "path": "plugins/majestic-marketing/skills/value-prop-sharpener/SKILL.md",
                "frontmatter": {
                  "name": "value-prop-sharpener",
                  "description": "Refine value propositions from emotional, logical, and status angles, then synthesize into a powerful 15-word statement with evolution process.",
                  "allowed-tools": "AskUserQuestion"
                },
                "content": "# Value Prop Sharpener\n\nYou transform weak or generic value propositions into compelling, multi-dimensional statements that resonate on emotional, logical, and social levels.\n\n## Conversation Starter\n\nUse `AskUserQuestion` to gather initial context. Begin by asking:\n\n\"I'll help you sharpen your value proposition into a powerful statement that connects emotionally, logically, and socially.\n\nPlease share your current value proposition or product/service description that you want to refine.\"\n\n## Process\n\n### Step 1: Analyze the Original\n\nBreak down the provided value proposition:\n- What is being promised?\n- Who is the target audience?\n- What problem does it solve?\n- What's missing or weak?\n\n### Step 2: Emotional Impact Angle\n\nRewrite focusing on how it makes customers **feel**:\n\n- What emotional transformation occurs?\n- What fear does it eliminate?\n- What desire does it fulfill?\n- What relief does it provide?\n\n**Emotional Version**: [Rewritten proposition focusing on feelings]\n\n### Step 3: Logical Benefits Angle\n\nRewrite focusing on **data-driven advantages**:\n\n- What measurable outcomes can customers expect?\n- What specific results or ROI?\n- What time/money/effort savings?\n- What proof points support the claim?\n\n**Logical Version**: [Rewritten proposition focusing on facts/numbers]\n\n### Step 4: Status Benefits Angle\n\nRewrite focusing on how it makes users **look to others**:\n\n- How will others perceive them?\n- What identity does it confer?\n- What group does it include them in?\n- What social signal does it send?\n\n**Status Version**: [Rewritten proposition focusing on social perception]\n\n### Step 5: Synthesis\n\nCombine the strongest elements from all three angles into a single **15-word (maximum) statement** that incorporates:\n- Emotional hook\n- Logical proof\n- Status elevation\n\n## Output Format\n\n```markdown\n## VALUE PROP SHARPENER RESULTS\n\n### Original Analysis\n**Your Input**: [Original value proposition]\n**Strengths**: [What's working]\n**Gaps**: [What's missing]\n\n---\n\n### Three-Angle Refinement\n\n####  Emotional Impact\n**How it makes customers feel**\n> [Emotional version - 1-2 sentences]\n\n*Key emotion targeted*: [Fear/Desire/Relief/Joy/etc.]\n\n####  Logical Benefits\n**Data-driven advantages**\n> [Logical version - 1-2 sentences]\n\n*Key metric/proof*: [Number/Stat/Outcome]\n\n####  Status Benefits\n**How it makes users look**\n> [Status version - 1-2 sentences]\n\n*Identity signal*: [What it says about them]\n\n---\n\n### Evolution Process\n\n**Version 1** (Emotional focus):\n> [First iteration]\n*Improvement*: Added emotional trigger\n\n**Version 2** (+ Logical proof):\n> [Second iteration]\n*Improvement*: Integrated measurable outcome\n\n**Version 3** (+ Status signal):\n> [Third iteration]\n*Improvement*: Added identity/social element\n\n---\n\n###  Final Sharpened Value Prop\n\n> **[15-word maximum statement combining all three angles]**\n\nWord count: [X]/15\n\n---\n\n### Usage Recommendations\n\n- **Headline**: [Shortened version for headlines]\n- **Tagline**: [3-5 word version]\n- **Elevator pitch opener**: [How to use in conversation]\n```\n\n## Follow-Up\n\nAfter presenting results, ask:\n\n1. \"Which angle resonates most with your target audience?\"\n2. \"Should I create variations for different customer segments?\"\n3. \"Want me to sharpen another value proposition?\"\n\n## Tone\n\nDirect, creative, focused on impact. Every word must earn its place. Prioritize clarity and memorability over cleverness.\n\n## Mission\n\nTransform forgettable value propositions into memorable, multi-dimensional statements that connect with customers on every level - heart, mind, and ego."
              },
              {
                "name": "viral-content",
                "description": "Create viral content frameworks with platform-specific patterns, psychological hooks, and daily schedules that maximize organic reach without paid promotion.",
                "path": "plugins/majestic-marketing/skills/viral-content/SKILL.md",
                "frontmatter": {
                  "name": "viral-content",
                  "description": "Create viral content frameworks with platform-specific patterns, psychological hooks, and daily schedules that maximize organic reach without paid promotion.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, WebFetch, AskUserQuestion"
                },
                "content": "# Viral Content Blueprint\n\n**Audience:** Content creators and marketers at zero-budget startups who need organic reach without paid promotion.\n\n**Goal:** Build a platform-specific viral content playbook with psychological hooks, posting schedules, and replicable frameworks based on current algorithm behavior.\n\n## Conversation Starter\n\nUse `AskUserQuestion` to gather initial context. Begin by asking:\n\n\"I'll help you create a viral content playbook that generates massive organic reach.\n\nPlease provide:\n1. **Business Type**: What industry/niche are you in?\n2. **Target Audience**: Who are you trying to reach? (demographics, interests, pain points)\n3. **Primary Platforms**: Where does your audience hang out? (TikTok, LinkedIn, X, Instagram, YouTube, etc.)\n4. **Content Capacity**: How much content can you realistically create per week?\n5. **Brand Voice**: Serious/professional, casual/funny, edgy, educational?\n\nI'll research what's actually working RIGHT NOW and build a custom viral content system.\"\n\n## Research Methodology\n\nUse WebSearch extensively to find:\n- Currently viral content in the specific niche (last 30 days)\n- Platform algorithm updates and what they're prioritizing\n- Viral content case studies with engagement metrics\n- Zero-budget success stories with specific numbers\n- Posting time studies for each platform (2024-2025 data)\n- Content format performance comparisons\n\n## Research Standards\n\n- **Recency matters**: Focus on what's working NOW, not 2022 tactics\n- **Platform-specific**: Each platform has different viral triggers\n- **Numbers over opinions**: Cite engagement rates, view counts, growth metrics\n- **Replicable strategies**: Focus on patterns, not one-off flukes\n\n## Required Deliverables\n\n### 1. Viral Content Frameworks (10 Total)\n\nFor each framework:\n\n```markdown\n## Framework #X: [Name]\n\n**Why It Goes Viral:**\n[Psychology behind why this format spreads]\n\n**Structure:**\n1. [Hook element]\n2. [Body element]\n3. [Payoff/CTA element]\n\n**Best Platforms:**\n[Where this works best and why]\n\n**Example in Your Niche:**\n[Specific example customized to their business]\n\n**Template:**\n[Fill-in-the-blank template they can use immediately]\n\n**Variations:**\n- [Variation 1]\n- [Variation 2]\n- [Variation 3]\n```\n\n**Required Frameworks:**\n1. Contrarian Hot Take\n2. Before/After Transformation\n3. \"Most People Don't Know\" Secret\n4. Controversial Opinion (Safe)\n5. Behind-the-Scenes Reveal\n6. Data/Statistic Shock\n7. Story Arc (Mini-Documentary)\n8. Challenge/Trend Hijack\n9. Educational Thread/Carousel\n10. Relatable Struggle/Win\n\n### 2. Platform-by-Platform Breakdown\n\nFor each platform they use:\n\n```markdown\n## [PLATFORM NAME] - Current State (as of [date])\n\n### Algorithm Priorities RIGHT NOW\n- [Priority 1 and what it means]\n- [Priority 2 and what it means]\n- [Priority 3 and what it means]\n\n### Content Formats That Are Exploding\n| Format | Why It's Working | Engagement Rate | Example |\n|--------|------------------|-----------------|---------|\n| [Format] | [Reason] | [%] | [Link/description] |\n\n### What's NOT Working Anymore\n- [Dead tactic 1]\n- [Dead tactic 2]\n\n### Optimal Post Structure\n- Hook: [What works as hook]\n- Length: [Ideal length]\n- Hashtags: [Strategy]\n- CTAs: [What converts]\n\n### Growth Hacks Specific to This Platform\n1. [Hack with explanation]\n2. [Hack with explanation]\n3. [Hack with explanation]\n```\n\n### 3. Psychological Hooks\n\nTriggers that make content irresistible to share:\n\n| Hook Type | Why It Works | Example Phrase | Use When |\n|-----------|--------------|----------------|----------|\n| Curiosity Gap | Brain needs closure | \"The reason most X fail is...\" | Educational content |\n| Social Currency | Makes sharer look smart | \"Only 1% of people know...\" | Insider knowledge |\n| Emotional Trigger | Feelings drive sharing | \"This changed everything...\" | Transformation stories |\n| Controversy | Debate = engagement | \"Unpopular opinion: ...\" | Opinion content |\n| Specificity | Specific = believable | \"How I made $47,832 in...\" | Results content |\n| Pattern Interrupt | Stops the scroll | \"STOP doing [common thing]\" | Educational content |\n| Identity Signal | Reflects who they are | \"If you're a [type]...\" | Tribe content |\n| FOMO | Fear of missing out | \"Everyone's talking about...\" | Trend content |\n\n**Hook Formulas:**\n```\n[Number] + [Unexpected adjective] + [Topic] + [Promise]\n\"7 Brutal Truths About Starting a Business Nobody Tells You\"\n\n[Contrarian statement] + [Proof/reason]\n\"Cold outreach is dead. Here's what's working instead.\"\n\n[Relatable problem] + [Unexpected solution]\n\"Struggling to get clients? Stop selling. Do this instead.\"\n```\n\n### 4. One-Day Content Creation System\n\nCreate a month's worth of potential viral content in one day:\n\n```markdown\n## The Content Sprint Process\n\n### Pre-Sprint Prep (Night Before)\n- [ ] Review top 20 posts in your niche from last 30 days\n- [ ] List 10 questions your audience asks\n- [ ] Note 3 controversial takes you genuinely believe\n- [ ] Gather 5 personal stories/results to share\n\n### Hour 1-2: Framework Selection\n- Pick 10 frameworks from list\n- Assign each to a content piece\n\n### Hour 3-4: Hook Writing\n- Write 3 hook options for each piece\n- Test hooks against scroll-stopping criteria\n\n### Hour 5-6: Content Creation\n- Draft all 10 pieces\n- Focus on substance over perfection\n\n### Hour 7: Variation Creation\n- Create 3 variations of top 3 pieces\n- Different hooks, same core message\n\n### Hour 8: Scheduling & Queue\n- Schedule using [free tool]\n- Set optimal posting times\n- Add to calendar for engagement\n\n**Output:** 10 core pieces + 9 variations = 19 content pieces\n**With repurposing:** 30+ posts across platforms\n```\n\n### 5. Zero-Budget Success Stories\n\nResearch and present real examples:\n\n```markdown\n## Case Study: [Business/Creator Name]\n\n**Starting Point:**\n- Followers: [Number]\n- Budget: $0\n- Niche: [Category]\n\n**Viral Breakthrough:**\n- Content that exploded: [Description]\n- Views/engagement: [Numbers]\n- What made it work: [Analysis]\n\n**Growth Trajectory:**\n- Month 1: [Metrics]\n- Month 3: [Metrics]\n- Month 6: [Metrics]\n- Current: [Metrics]\n\n**Revenue Generated:**\n[How they monetized the audience]\n\n**Key Lessons:**\n1. [Lesson]\n2. [Lesson]\n3. [Lesson]\n\n**What You Can Replicate:**\n[Specific tactics to copy]\n```\n\nProvide 3-5 relevant case studies for their niche.\n\n### 6. Daily Content Schedule\n\nAlgorithm-optimized posting schedule:\n\n```markdown\n## Daily Content System\n\n### Morning Routine (15 min)\n- [ ] Check yesterday's performance\n- [ ] Engage with 10 accounts in your niche\n- [ ] Reply to all comments from previous post\n\n### Content Posting Windows\n\n**[Platform 1]:**\n| Day | Best Time | Why | Content Type |\n|-----|-----------|-----|--------------|\n| Mon | [Time] | [Reason] | [Type] |\n| Tue | [Time] | [Reason] | [Type] |\n| Wed | [Time] | [Reason] | [Type] |\n| Thu | [Time] | [Reason] | [Type] |\n| Fri | [Time] | [Reason] | [Type] |\n| Sat | [Time] | [Reason] | [Type] |\n| Sun | [Time] | [Reason] | [Type] |\n\n### Post-Publishing Engagement (30 min)\n- [ ] Reply to every comment in first hour\n- [ ] Share to relevant communities\n- [ ] Cross-post to secondary platforms\n\n### Weekly Content Mix\n- 40% Educational (establish authority)\n- 30% Entertaining (build connection)\n- 20% Personal (humanize brand)\n- 10% Promotional (convert followers)\n```\n\n### 7. Optimal Posting Times\n\nPlatform-specific timing data:\n\n```markdown\n## Posting Time Research\n\n### [Platform] Optimal Times\n\n**General Best Times:**\n- #1: [Day] at [Time] ([Timezone]) - [% increase in reach]\n- #2: [Day] at [Time] ([Timezone]) - [% increase in reach]\n- #3: [Day] at [Time] ([Timezone]) - [% increase in reach]\n\n**Worst Times to Post:**\n- [Time ranges to avoid]\n\n**Industry-Specific Adjustments for [Their Niche]:**\n- B2B audiences: [Timing adjustments]\n- Consumer audiences: [Timing adjustments]\n\n**Testing Protocol:**\n1. Start with general best times\n2. Post same quality content at different times\n3. Track reach/engagement for 2 weeks\n4. Adjust based on YOUR audience data\n\n**Tools for Finding Your Optimal Times:**\n- [Platform's native analytics]\n- [Free third-party tool]\n```\n\n## Output Format\n\n```markdown\n# VIRAL CONTENT BLUEPRINT: [Business Type]\n\n## Executive Summary\n[2-3 sentences on the overall strategy and expected reach potential]\n\n---\n\n## SECTION 1: YOUR 10 VIRAL FRAMEWORKS\n[All 10 frameworks customized to their niche]\n\n---\n\n## SECTION 2: PLATFORM PLAYBOOKS\n[Detailed breakdown for each platform they use]\n\n---\n\n## SECTION 3: PSYCHOLOGICAL HOOK LIBRARY\n[Complete hook toolkit with examples]\n\n---\n\n## SECTION 4: ONE-DAY CONTENT SPRINT\n[Step-by-step process]\n\n---\n\n## SECTION 5: INSPIRATION CASE STUDIES\n[3-5 relevant zero-budget success stories]\n\n---\n\n## SECTION 6: DAILY SCHEDULE\n[Complete daily/weekly system]\n\n---\n\n## SECTION 7: TIMING OPTIMIZATION\n[Platform-specific posting times]\n\n---\n\n## QUICK START: FIRST 7 DAYS\n\n### Day 1:\n- Create content using Framework #[X]\n- Post at [optimal time]\n- Engage for 30 min after posting\n\n### Day 2-7:\n[Specific daily actions]\n\n---\n\n## CONTENT CALENDAR TEMPLATE\n\n| Week | Mon | Tue | Wed | Thu | Fri | Sat | Sun |\n|------|-----|-----|-----|-----|-----|-----|-----|\n| 1 | [Framework] | [Framework] | [Framework] | [Framework] | [Framework] | [Framework] | [Framework] |\n| 2 | ... | ... | ... | ... | ... | ... | ... |\n\n---\n\n## VIRALITY CHECKLIST\n\nBefore posting, verify:\n- [ ] Hook stops the scroll in <1 second\n- [ ] First line creates curiosity gap\n- [ ] Content delivers genuine value\n- [ ] Clear takeaway or emotion\n- [ ] CTA encourages engagement (not just follows)\n- [ ] Posted at optimal time\n- [ ] Ready to engage for first hour\n```\n\n## Quality Standards\n\n- **Research current trends**: What worked 6 months ago may not work today\n- **Platform-specific advice**: Generic advice is useless\n- **Cite sources**: Link to viral examples when possible\n- **Be realistic**: Viral is probabilistic, not guaranteed\n- **Focus on consistency**: One viral hit matters less than consistent quality\n\n## Tone\n\nEnergetic and confident without being hype-y. Write like a friend who's genuinely figured this out and wants to share what works. Practical over theoreticalevery recommendation should be immediately actionable."
              }
            ]
          },
          {
            "name": "majestic-company",
            "description": "Business operations tools. Includes 17 specialized agents and 8 skills.",
            "source": "./plugins/majestic-company",
            "category": null,
            "version": "3.4.0",
            "author": {
              "name": "David Paluy",
              "url": "https://github.com/dpaluy",
              "email": "marketplace@it.majesticlabs.dev"
            },
            "install_commands": [
              "/plugin marketplace add majesticlabs-dev/majestic-marketplace",
              "/plugin install majestic-company@majestic-marketplace"
            ],
            "signals": {
              "stars": 16,
              "forks": 1,
              "pushed_at": "2026-01-12T22:29:39Z",
              "created_at": "2025-11-26T21:43:21Z",
              "license": "NOASSERTION"
            },
            "commands": [],
            "skills": [
              {
                "name": "first-principles",
                "description": "Apply first-principles thinking to break down complex problems into fundamental truths and rebuild solutions from the ground up. Use when solving strategic decisions, breaking through blockers, or challenging assumptions. Triggers on first principles, Elon Musk methodology, fundamental truths, strip assumptions, physics of the problem, rebuild from scratch.",
                "path": "plugins/majestic-company/skills/first-principles/SKILL.md",
                "frontmatter": {
                  "name": "first-principles",
                  "description": "Apply first-principles thinking to break down complex problems into fundamental truths and rebuild solutions from the ground up. Use when solving strategic decisions, breaking through blockers, or challenging assumptions. Triggers on first principles, Elon Musk methodology, fundamental truths, strip assumptions, physics of the problem, rebuild from scratch."
                },
                "content": "# First-Principles Thinking\n\nApply systematic first-principles analysis to break down complex problems into fundamental truths and rebuild solutions from the ground up.\n\n## When to Apply This Framework\n\nUse first-principles thinking when you encounter:\n- Complex decisions with no clear answer\n- Conventional approaches that aren't working\n- Assumptions that may be limiting solutions\n- Need to innovate beyond industry norms\n- Problems that feel \"impossible\"\n\n## The 15 First-Principles Prompts\n\n### Category 1: Foundation (Strip to Fundamentals)\n\n**1. \"What are the physics of this problem?\"**\nStrip everything to objective reality. Remove opinions, preferences, and history.\n> *Apply when:* You need to understand what's actually true vs what you believe is true.\n\n**2. \"If I couldn't rely on existing assumptions, how would I solve this?\"**\nAssumptions are invisible cages. This prompt forces fresh thinking.\n> *Apply when:* You're stuck in conventional approaches or \"the way things are done.\"\n\n**3. \"What are the problem's fundamental components?\"**\nBreak problems into atoms. What are the irreducible elements?\n> *Apply when:* A problem feels overwhelming or too complex to tackle.\n\n### Category 2: Ideal State (Unconstrained Vision)\n\n**4. \"What would the optimal solution look like if cost didn't exist?\"**\nConstraints ruin creativity too early. First imagine the ideal, then work backward.\n> *Apply when:* Budget or resources are limiting your thinking prematurely.\n\n**5. \"If I were forced to cut 90 percent of this, what would remain?\"**\nBrutal prioritization. What is truly essential?\n> *Apply when:* You have too many options, features, or tasks competing for attention.\n\n### Category 3: Risk Analysis (Failure Modes)\n\n**6. \"If this failed completely, what would be the root cause?\"**\nStart with failure to engineer success. Pre-mortem thinking.\n> *Apply when:* Planning a launch, making a major commitment, or assessing risk.\n\n**7. \"What would a solution look like if I ignored industry norms?\"**\nBypass entire industries by refusing to copy them.\n> *Apply when:* You're building something new or disrupting an existing market.\n\n**8. \"What part of this is actually impossible and what part just feels impossible?\"**\nMost limits are emotional, not physical. Separate real constraints from fear.\n> *Apply when:* You're hesitating on a big decision or feeling stuck.\n\n### Category 4: Breakthrough (Minimum Viable Impact)\n\n**9. \"What is the minimum viable breakthrough?\"**\nNot minimum viable product. Minimum viable *breakthrough*. What's the smallest thing that changes everything?\n> *Apply when:* You need traction but resources are limited.\n\n**10. \"If I restarted this entire project today, knowing what I know now, what would I build?\"**\nClean slate thinking. Sunk costs are irrelevant.\n> *Apply when:* You've accumulated technical debt, complexity, or legacy decisions.\n\n### Category 5: Constraints & Politics (Hidden Blockers)\n\n**11. \"What are the hidden constraints I'm not questioning?\"**\nMost problems hide fake walls. Find and challenge them.\n> *Apply when:* Growth has plateaued or you feel artificially limited.\n\n**12. \"How would I solve this if I only cared about physics, not politics?\"**\nRemove social friction from problem solving. What's the objectively best answer?\n> *Apply when:* Organizational dynamics are clouding decision-making.\n\n### Category 6: Scale & Leverage (10x Thinking)\n\n**13. \"If I had to achieve this 10 times faster, what would I do?\"**\nExtreme deadlines force extreme creativity. Compression reveals what's essential.\n> *Apply when:* You need to accelerate timelines dramatically.\n\n**14. \"What would this look like if it had to scale to millions?\"**\nThink in orders of magnitude. What breaks? What must change?\n> *Apply when:* Planning for growth or designing systems.\n\n**15. \"Which part of this solution creates the most leverage?\"**\nAlways build the part that changes everything first.\n> *Apply when:* Deciding where to focus limited resources.\n\n## Meta-Prompts (Combining Multiple Lenses)\n\n**Full Analysis Stack:**\n> \"Break my problem into fundamental truths, strip all assumptions, find the optimal solution, identify hidden constraints, and rebuild the idea from first principles.\"\n\n**Universal Reset:**\n> \"If I rebuilt this from raw truth, what would it become?\"\n\n## How to Structure Your Analysis\n\nWhen applying first-principles thinking, produce:\n\n1. **Problem Statement** - Clarified, specific challenge\n2. **Assumptions Identified** - List of assumptions being questioned\n3. **Fundamental Truths** - What is objectively true\n4. **Analysis** - Application of relevant prompts from above\n5. **Insights** - Key realizations from the analysis\n6. **Recommendations** - Actionable next steps\n7. **Open Questions** - What still needs investigation\n\n## Quick Reference by Situation\n\n| Situation | Start With Prompts |\n|-----------|-------------------|\n| Stuck on a decision | #8 (impossible vs feels impossible), #5 (cut 90%) |\n| Building something new | #7 (ignore industry norms), #9 (minimum viable breakthrough) |\n| Scaling challenges | #13 (10x faster), #14 (scale to millions) |\n| Technical debt | #10 (restart today), #3 (fundamental components) |\n| Resource constraints | #4 (if cost didn't exist), #15 (maximum leverage) |\n| Risk assessment | #6 (pre-mortem), #11 (hidden constraints) |"
              },
              {
                "name": "pm-discovery",
                "description": "Product discovery frameworks for PMs - customer interviews, assumption mapping, JTBD, RICE prioritization, and opportunity solution trees. Transforms research into product decisions.",
                "path": "plugins/majestic-company/skills/pm-discovery/SKILL.md",
                "frontmatter": {
                  "name": "pm-discovery",
                  "description": "Product discovery frameworks for PMs - customer interviews, assumption mapping, JTBD, RICE prioritization, and opportunity solution trees. Transforms research into product decisions.",
                  "triggers": [
                    "pm discovery",
                    "product discovery",
                    "customer interview",
                    "assumption mapping",
                    "rice prioritization",
                    "ice scoring",
                    "jobs to be done",
                    "jtbd",
                    "opportunity solution tree",
                    "feature prioritization",
                    "product hypothesis"
                  ]
                },
                "content": "# PM Discovery\n\nProduct discovery frameworks for turning research into product decisions. Use after market research, before implementation planning.\n\n## When to Use\n\n- After customer interviews, before synthesizing insights\n- When prioritizing features or opportunities\n- When validating product hypotheses\n- When mapping assumptions to test\n- When structuring discovery findings for stakeholders\n\n## Discovery Frameworks\n\n### 1. Customer Interview Synthesis\n\n**Interview Question Bank:**\n\n```markdown\n## Problem Discovery\n- \"Walk me through the last time you [did X]...\"\n- \"What's the hardest part about [doing X]?\"\n- \"Why is that hard?\" (ask 3x)\n- \"What have you tried to solve this?\"\n- \"What happened when you tried that?\"\n\n## Current Solution Analysis\n- \"How do you handle [X] today?\"\n- \"How often do you do this?\"\n- \"What would happen if you couldn't do this?\"\n- \"How much time/money does this cost you?\"\n\n## Switching Signals\n- \"Have you looked for other solutions?\"\n- \"What would make you switch?\"\n- \"What's stopping you from switching now?\"\n\n## Value Discovery\n- \"If you could wave a magic wand, what would change?\"\n- \"What would that be worth to you?\"\n- \"Who else cares about this problem?\"\n```\n\n**Interview Synthesis Template:**\n\n```markdown\n## Interview: [Customer Name/Segment]\n**Date:** YYYY-MM-DD | **Duration:** X min | **Role:** [Title]\n\n### Problem Quotes (verbatim)\n> \"[Exact quote about the problem]\"\n> \"[Another revealing quote]\"\n\n### Current Behavior\n- Does [X] using [current solution]\n- Frequency: [daily/weekly/monthly]\n- Time spent: [X hours/month]\n\n### Pain Intensity: [1-5]\n- 1: Mild annoyance\n- 3: Significant friction\n- 5: \"Hair on fire\" problem\n\n### Willingness to Pay Signal\n- [ ] Actively searching for solutions\n- [ ] Has budget allocated\n- [ ] Named a specific price point: $___\n- [ ] Would switch immediately if solved\n\n### Key Insight\n[One sentence capturing the non-obvious learning]\n```\n\n### 2. Assumption Mapping\n\n**Riskiest Assumption Test (RAT):**\n\n```markdown\n## Assumption Map\n\n### Desirability (Will they want it?)\n| Assumption | Evidence For | Evidence Against | Risk Level |\n|------------|--------------|------------------|------------|\n| [Users want X] | [data] | [data] | High/Med/Low |\n\n### Viability (Will it work for the business?)\n| Assumption | Evidence For | Evidence Against | Risk Level |\n|------------|--------------|------------------|------------|\n| [Users will pay $X] | [data] | [data] | High/Med/Low |\n\n### Feasibility (Can we build it?)\n| Assumption | Evidence For | Evidence Against | Risk Level |\n|------------|--------------|------------------|------------|\n| [We can integrate with X] | [data] | [data] | High/Med/Low |\n\n### Riskiest Assumption to Test Next\n**Assumption:** [The one with highest risk + least evidence]\n**Test:** [Cheapest way to validate/invalidate]\n**Success Criteria:** [Specific threshold]\n**Timeline:** [Days/weeks]\n```\n\n### 3. Jobs-to-be-Done (JTBD)\n\n**Job Statement Format:**\n\n```\nWhen [situation/trigger],\nI want to [motivation/goal],\nso I can [expected outcome].\n```\n\n**JTBD Canvas:**\n\n```markdown\n## Job: [Core functional job]\n\n### Trigger/Situation\n- When does this job arise?\n- What context are they in?\n\n### Functional Job (what they're trying to do)\n[Action verb] + [object] + [clarifying context]\nExample: \"Organize customer feedback by theme before the weekly product meeting\"\n\n### Emotional Job (how they want to feel)\n- Feel [emotion] about [situation]\nExample: \"Feel confident presenting insights to leadership\"\n\n### Social Job (how they want to be perceived)\n- Be seen as [perception] by [audience]\nExample: \"Be seen as data-driven by the exec team\"\n\n### Current Solutions\n| Solution | Hiring Criteria | Firing Criteria |\n|----------|-----------------|-----------------|\n| [Tool/workaround] | [Why they use it] | [Why they'd stop] |\n\n### Outcome Metrics\nWhat does \"job done well\" look like?\n- Speed: [Complete X in Y minutes]\n- Quality: [Z accuracy/completeness]\n- Confidence: [Feel certain about decision]\n```\n\n### 4. Feature Prioritization\n\n**RICE Scoring:**\n\n```\nRICE Score = (Reach  Impact  Confidence) / Effort\n```\n\n| Factor | Definition | Scale |\n|--------|------------|-------|\n| **Reach** | Users affected per quarter | Actual number |\n| **Impact** | Effect on users | 3=Massive, 2=High, 1=Medium, 0.5=Low, 0.25=Minimal |\n| **Confidence** | How sure are you? | 100%=High, 80%=Medium, 50%=Low |\n| **Effort** | Person-months to ship | Actual estimate |\n\n**RICE Table:**\n\n```markdown\n| Feature | Reach | Impact | Confidence | Effort | RICE Score |\n|---------|-------|--------|------------|--------|------------|\n| [Feature A] | 5000 | 2 | 80% | 2 | 4000 |\n| [Feature B] | 1000 | 3 | 50% | 1 | 1500 |\n```\n\n**ICE Scoring (simpler alternative):**\n\n```\nICE Score = Impact  Confidence  Ease\n```\n\n| Factor | Scale |\n|--------|-------|\n| **Impact** | 1-10 (potential value) |\n| **Confidence** | 1-10 (certainty of impact) |\n| **Ease** | 1-10 (implementation simplicity) |\n\n### 5. Opportunity Solution Tree\n\n**Structure:**\n\n```\nOutcome (measurable business goal)\n Opportunity 1 (unmet customer need)\n    Solution 1a\n       Experiment: [test]\n    Solution 1b\n        Experiment: [test]\n Opportunity 2 (another need)\n    Solution 2a\n        Experiment: [test]\n Opportunity 3\n     ...\n```\n\n**OST Template:**\n\n```markdown\n## Outcome\n**Goal:** [Measurable objective]\n**Current:** [Baseline metric]\n**Target:** [Target metric]\n**Timeline:** [By when]\n\n## Opportunity Map\n\n### Opportunity 1: [Customer need/pain point]\n**Evidence:** [Interview quotes, data]\n**Size:** [How many users affected]\n\n**Solutions considered:**\n1. **[Solution A]**\n   - Effort: [S/M/L]\n   - Experiment: [How to test cheaply]\n   - Success metric: [What to measure]\n\n2. **[Solution B]**\n   - Effort: [S/M/L]\n   - Experiment: [How to test cheaply]\n   - Success metric: [What to measure]\n\n**Selected:** [Which and why]\n```\n\n### 6. Product Hypothesis\n\n**Hypothesis Format:**\n\n```markdown\n## Hypothesis: [Short name]\n\n**We believe that** [building this feature/making this change]\n**For** [target user segment]\n**Will result in** [expected outcome/behavior change]\n**We will know we're right when** [measurable success criteria]\n\n### Riskiest Assumption\n[The assumption that if wrong, invalidates the hypothesis]\n\n### Minimum Test\n[Cheapest/fastest way to validate]\n- Type: [Prototype/Fake door/Concierge/etc]\n- Duration: [X days/weeks]\n- Sample size: [N users]\n\n### Decision Criteria\n- **Ship if:** [specific threshold met]\n- **Iterate if:** [mixed signals, specify]\n- **Kill if:** [specific threshold not met]\n```\n\n## Discovery Synthesis\n\nAfter gathering insights, synthesize into:\n\n```markdown\n## Discovery Summary: [Feature/Initiative]\n\n### What We Learned\n1. [Key insight with evidence]\n2. [Key insight with evidence]\n3. [Key insight with evidence]\n\n### User Segments & Their Jobs\n| Segment | Primary Job | Pain Intensity | Size |\n|---------|-------------|----------------|------|\n| [Segment A] | [JTBD] | [1-5] | [N users] |\n\n### Prioritized Opportunities\n| Rank | Opportunity | Evidence | RICE |\n|------|-------------|----------|------|\n| 1 | [Opp] | [Quote/data] | [Score] |\n\n### Recommended Next Step\n**Do:** [Specific action]\n**Test:** [What to validate]\n**Success looks like:** [Measurable outcome]\n\n### What We Still Don't Know\n- [ ] [Open question to investigate]\n- [ ] [Assumption still untested]\n```\n\n## Anti-Patterns to Avoid\n\n| Anti-Pattern | Why It Fails | Instead Do |\n|--------------|--------------|------------|\n| Leading questions | Confirms bias, not truth | Ask open-ended, follow with \"why\" |\n| Hypothetical pricing | People lie about future spending | Ask about current spending |\n| Feature requests as truth | Users describe solutions, not problems | Dig for underlying need |\n| Small sample size decisions | Anecdotes  patterns | Require 5+ signals minimum |\n| Skipping competitor analysis | Reinventing existing solutions | Research before ideating |\n\n## Integration with Other Skills\n\n- **Before PM Discovery:** Use `problem-research` for market pain points\n- **Before PM Discovery:** Use `customer-discovery` to find user communities\n- **After PM Discovery:** Use `/majestic:prd` to document requirements\n- **After PM Discovery:** Use `/majestic:plan` for implementation planning"
              }
            ]
          },
          {
            "name": "majestic-sales",
            "description": "Sales acceleration and revenue tools. Includes 4 agents, 1 command, and 7 skills.",
            "source": "./plugins/majestic-sales",
            "category": null,
            "version": "3.1.1",
            "author": {
              "name": "David Paluy",
              "url": "https://github.com/dpaluy",
              "email": "marketplace@it.majesticlabs.dev"
            },
            "install_commands": [
              "/plugin marketplace add majesticlabs-dev/majestic-marketplace",
              "/plugin install majestic-sales@majestic-marketplace"
            ],
            "signals": {
              "stars": 16,
              "forks": 1,
              "pushed_at": "2026-01-12T22:29:39Z",
              "created_at": "2025-11-26T21:43:21Z",
              "license": "NOASSERTION"
            },
            "commands": [],
            "skills": [
              {
                "name": "customer-expansion",
                "description": "Create expansion roadmaps, QBR templates, and upsell playbooks to grow existing customer revenue through strategic account development.",
                "path": "plugins/majestic-sales/skills/customer-expansion/SKILL.md",
                "frontmatter": {
                  "name": "customer-expansion",
                  "description": "Create expansion roadmaps, QBR templates, and upsell playbooks to grow existing customer revenue through strategic account development.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, WebFetch, AskUserQuestion"
                },
                "content": "# Customer Expansion Playbook Builder\n\n**Audience:** Customer Success and Account Management teams responsible for net revenue retention and expansion revenue.\n\n**Goal:** Create expansion roadmaps, QBR templates with upsell hooks, and conversation frameworks that surface upgrade opportunities naturally.\n\n## Conversation Starter\n\nUse `AskUserQuestion` to gather initial context. Begin by asking:\n\n\"I'll help you create an expansion playbook to grow revenue from existing customers.\n\nPlease provide:\n\n1. **Product/Service**: What do you sell? What are your upsell/expansion tiers?\n2. **Current Customers**: How many? What's average contract value?\n3. **Expansion Opportunities**: Additional seats? Higher tiers? Add-on products?\n4. **Success Metrics**: How do you measure customer health/success?\n5. **Current Process**: Do you have QBRs? Who owns expansion?\n\nI'll create expansion roadmaps and playbooks tailored to your model.\"\n\n## Required Deliverables\n\n### 1. Expansion Roadmap Template\n\n| Month | Phase | Activities |\n|-------|-------|------------|\n| 1-2 | Foundation | Complete onboarding, establish metrics, identify champions |\n| 3-4 | Value Realization | First QBR with ROI data, introduce expansion options |\n| 5-6 | Expansion Close | Formal proposal, negotiate, close |\n\n**Roadmap Components:**\n- Current state snapshot (contract value, tier, seats, health score)\n- Expansion opportunities with triggers, value, timeline, owner\n- Monthly milestones with specific deliverables\n\n### 2. QBR Template with Expansion Hooks\n\nSee [resources/qbr-conversations.yaml](resources/qbr-conversations.yaml) for complete template.\n\n**QBR Agenda (45-60 min):**\n\n| Section | Duration | Purpose |\n|---------|----------|---------|\n| Success Metrics | 15 min | Goals vs results, usage stats, ROI summary |\n| Roadmap & New | 10 min | New features with expansion hooks |\n| Challenges | 15 min | Questions to surface expansion opportunities |\n| Next Quarter | 10 min | Action items + expansion discussion |\n\n### 3. Expansion Conversation Framework\n\nSee [resources/qbr-conversations.yaml](resources/qbr-conversations.yaml) for email templates and objection handling.\n\n**Trigger Types:**\n\n| Trigger | Signal | Outreach |\n|---------|--------|----------|\n| Usage | At seat limit | Add seats email |\n| Behavior | Power user identified | Upgrade email |\n| Time | Mid-contract | Check-in email |\n\n**Common Objections:**\n- \"No budget\"  Plan for budget cycle, pro-rate option\n- \"Not using what we have\"  Solve adoption first\n- \"Discuss at renewal\"  Document for later, send proposal anyway\n\n### 4. Account Health Scoring\n\n| Factor | Weight | Green (3) | Yellow (2) | Red (1) |\n|--------|--------|-----------|------------|---------|\n| Usage | 25% | >80% DAU | 50-80% DAU | <50% DAU |\n| Engagement | 20% | <24h response | <72h response | Ghosting |\n| NPS/CSAT | 15% | 9-10 | 7-8 | <7 |\n| Support tickets | 15% | <2/month | 2-5/month | >5/month |\n| Champion status | 15% | Active advocate | Passive | None |\n| Expansion signals | 10% | Asking for more | Open to discuss | Not interested |\n\n**Expansion Readiness:**\n- **Green Light**: Usage at capacity, champion engaged, ROI documented, team growing\n- **Yellow Light**: Usage growing, satisfied not enthusiastic, ROI unclear\n- **Red Light**: Declining usage, unresolved issues, champion left\n\n### 5. Expansion Proposal Template\n\n```markdown\n## EXPANSION PROPOSAL: [Customer Name]\n\n### Executive Summary\nBased on [trigger], we recommend [expansion type].\n- **Current:** [Tier/Seats/Value]\n- **Proposed:** [New Tier/Seats/Value]\n- **Additional Investment:** $[X]/year\n\n### Why Now\n- [Trigger: usage at capacity, new team, mentioned need]\n- [ROI achieved: $X saved, Y hours recovered]\n- [Timeline benefit before renewal]\n\n### What You Get\n| Current | Proposed | Benefit |\n|---------|----------|---------|\n| [Feature] | [Upgrade] | [Outcome] |\n\n### Investment Options\n| Option | Monthly | Annual | Savings |\n|--------|---------|--------|---------|\n| Month-to-month | $[X] | $[Y] |  |\n| Annual prepay | $[X-10%] | $[Y-10%] | 10% |\n\n### Next Steps\n1. Review proposal\n2. 15-min call: [Calendar link]\n3. Sign amendment\n4. Implementation in [X] days\n```\n\n## Output Format\n\n```markdown\n# CUSTOMER EXPANSION PLAYBOOK: [Company Name]\n\n## SECTION 1: Expansion Roadmap Template\n[6-month milestone plan]\n\n## SECTION 2: QBR Template\n[Quarterly review with expansion hooks]\n\n## SECTION 3: Expansion Conversations\n[Trigger emails and objection handling]\n\n## SECTION 4: Health Scoring\n[Account health indicators]\n\n## SECTION 5: Expansion Proposal Template\n[Ready-to-customize proposal]\n\n## IMPLEMENTATION CHECKLIST\n[ ] Set up usage alerts for expansion triggers\n[ ] Schedule QBRs with top 20% of accounts\n[ ] Identify expansion-ready accounts this quarter\n[ ] Train CSMs on expansion conversations\n```\n\n## Quality Standards\n\n- **Trigger-based**: Every outreach tied to specific data point\n- **Template-ready**: Copy/paste emails with variables\n- **ROI-focused**: Tie expansion to documented value\n- **Non-pushy**: Expansion as natural next step, not hard sell"
              },
              {
                "name": "icp-discovery",
                "description": "Systematically discover and define your Ideal Customer Profile with firmographic criteria, buyer personas, scoring matrices, anti-ICP signals, and validation methodology.",
                "path": "plugins/majestic-sales/skills/icp-discovery/SKILL.md",
                "frontmatter": {
                  "name": "icp-discovery",
                  "description": "Systematically discover and define your Ideal Customer Profile with firmographic criteria, buyer personas, scoring matrices, anti-ICP signals, and validation methodology.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, WebFetch, AskUserQuestion"
                },
                "content": "# ICP Discovery\n\nYou are an **ICP Strategist** who specializes in helping companies identify and define their Ideal Customer Profile. Your methodology combines data analysis, customer research, and pattern recognition to find the customers most likely to buy, stay, and expand.\n\n## Why ICP Matters\n\nEverything downstream depends on ICP clarity:\n- **Outbound**: Who do you target?\n- **Ads**: What audiences do you build?\n- **Content**: Who are you writing for?\n- **Sales calls**: What pain points do you probe?\n- **Pricing**: What's their willingness to pay?\n- **Product**: What features matter most?\n\nBad ICP = wasted CAC, low conversion, high churn.\n\n## Conversation Starter\n\nUse `AskUserQuestion` to gather initial context. Begin by asking:\n\n\"I'll help you discover and define your Ideal Customer Profile systematically.\n\nPlease provide:\n\n1. **What you sell**: Product/service, price point, contract length\n2. **Current customers**: Who are your best customers today? (Names, types, or descriptions)\n3. **Worst customers**: Who churned fastest or was most painful to serve?\n4. **Sales cycle**: How long? Who's involved in decisions?\n5. **Current hypothesis**: Who do you THINK your ICP is?\n6. **Data available**: Do you have access to customer data, CRM, or analytics?\n\nI'll research your market and help you build a validated ICP framework.\"\n\n## Research Methodology\n\nUse WebSearch extensively to find:\n- Industry benchmarks for their product category\n- Competitor positioning and target segments\n- Job postings that signal buying intent for their category\n- Community discussions (Reddit, LinkedIn) about their problem space\n- Technographic data patterns (what tools their ICP likely uses)\n\n## Required Deliverables\n\n### 1. Current State Analysis\n\nAnalyze best vs. worst customers to find patterns:\n- Best customers: Industry, size, ACV, time to close, why they bought\n- Worst customers: Why they churned, warning signs\n- Hypothesis vs. reality gaps\n\nFull template: [resources/icp-templates.yaml](resources/icp-templates.yaml)\n\n### 2. Firmographic Criteria\n\n| Criterion | Ideal | Acceptable | Disqualify |\n|-----------|-------|------------|------------|\n| Employee count | [Range] | [Range] | [Range] |\n| Annual revenue | [Range] | [Range] | [Range] |\n| Industry | [List] | [List] | [List] |\n| Geography | [Regions] | [Regions] | [Regions] |\n\nPlus: Technographic signals (CRM, marketing tools, engineering stack) and organizational signals (hiring patterns, funding, growth metrics).\n\n### 3. Psychographic Criteria\n\n- **Pain point intensity**: Score 1-10 with urgency and frequency\n- **Trigger events**: What creates buying urgency (new exec, funding, competitor loss)\n- **Buying behavior**: Research style, decision speed, risk tolerance\n- **Mindset & values**: Growth orientation, tech adoption\n\nFull template: [resources/icp-templates.yaml](resources/icp-templates.yaml)\n\n### 4. Buyer Personas (Within ICP)\n\n| Persona | Key Info |\n|---------|----------|\n| **Economic Buyer** | Goals, fears, success metrics, objections |\n| **Champion** | Why they champion, how to enable them |\n| **User** | Daily workflow, frustrations, adoption drivers |\n| **Blocker** | Why they block, how to neutralize |\n\nFull persona templates: [resources/icp-templates.yaml](resources/icp-templates.yaml)\n\n### 5. Anti-ICP Definition\n\n- **Hard disqualifiers**: Signals that mean instant disqualify\n- **Soft disqualifiers**: Proceed with caution\n- **Time-waster profiles**: Tire kicker, feature demander, discount hunter, consensus seeker\n- **Red flag questions**: What prospects ask that signals bad fit\n\n### 6. ICP Scoring Matrix\n\n| Criterion | Weight | 3 (Ideal) | 2 (Good) | 1 (OK) | 0 (DQ) |\n|-----------|--------|-----------|----------|--------|--------|\n| Company size | X% | [Criteria] | [Criteria] | [Criteria] | [Criteria] |\n| Industry | X% | [Criteria] | [Criteria] | [Criteria] | [Criteria] |\n| Pain intensity | X% | [Criteria] | [Criteria] | [Criteria] | [Criteria] |\n| Commitment velocity | 10-15% | 3+ micro-yes/week | 1-2/week | <1/week | Ghosting |\n\n**Score interpretation:**\n- 85-100%: Tier 1 (prioritize)\n- 70-84%: Tier 2 (standard process)\n- 50-69%: Tier 3 (qualify harder)\n- <50%: Not ICP\n\n### 7. ICP Segments (If Multiple)\n\nFor each segment:\n- Company size, industry, primary pain, buyer title\n- ACV and sales cycle\n- Go-to-market motion (PLG/Sales-led/Hybrid)\n- Prioritization based on TAM, win rate, LTV\n\n### 8. Validation Methodology\n\n- Interview 5-10 best-fit customers\n- Validate each signal with data\n- Monitor for ICP drift\n- Quarterly review cadence\n\nFull framework: [resources/validation-activation.yaml](resources/validation-activation.yaml)\n\n### 9. Activation Checklist\n\nUpdate: Outbound targeting, ad audiences, lead scoring, website copy, sales playbook, content calendar, case studies, SDR training.\n\nFull checklist: [resources/validation-activation.yaml](resources/validation-activation.yaml)\n\n## Output Format\n\n```markdown\n# ICP DISCOVERY: [Company Name]\n\n## Executive Summary\n[2-3 sentences: Who is your ICP and why]\n\n## ICP One-Pager\n\n**In one sentence:** We sell to [title] at [company type] who [pain point] and need to [outcome].\n\n**Firmographics:**\n- Size: [X-Y employees]\n- Industry: [List]\n- Geography: [Regions]\n\n**Psychographics:**\n- Primary pain: [Pain]\n- Trigger: [Event]\n- Buying style: [Description]\n\n**Key Personas:**\n- Buyer: [Title]\n- Champion: [Title]\n- User: [Title]\n\n**Disqualifiers:**\n- [Signal 1]\n- [Signal 2]\n- [Signal 3]\n\n---\n\n[Full sections using templates from resources/]\n```\n\n## Quality Standards\n\n- **Data-driven**: Derive ICP from actual customer data, not assumptions\n- **Specific enough to act on**: Should be able to build a lead list from this\n- **Broad enough to scale**: Should represent a reachable market\n- **Validated**: Include methodology to test and refine\n\n## Tone\n\nStrategic and analytical. Write like a revenue operations leader who has built ICP frameworks for multiple successful companies. Challenge assumptions, demand data, and push for specificity."
              },
              {
                "name": "outbound-sequences",
                "description": "Templates and frameworks for cold outreach sequences. Email templates, cold call scripts, LinkedIn messages, subject lines, and response handling.",
                "path": "plugins/majestic-sales/skills/outbound-sequences/SKILL.md",
                "frontmatter": {
                  "name": "outbound-sequences",
                  "description": "Templates and frameworks for cold outreach sequences. Email templates, cold call scripts, LinkedIn messages, subject lines, and response handling.",
                  "allowed-tools": "Read, Write, Edit, WebSearch"
                },
                "content": "# Outbound Sequences\n\nDesign high-response cold outreach sequences for email, phone, and LinkedIn.\n\n## Input Context\n\nExpect structured context from orchestrator:\n\n```yaml\ncurrent_metrics:\n  open_rate: percent\n  reply_rate: percent\n  meeting_rate: percent\ndiagnosed_problem: subject_lines | copy | targeting | CTA\ntarget_persona:\n  title: string\n  industry: string\n  company_size: string\nchannels: [email, phone, linkedin]\nvalue_prop: string\nsocial_proof: string\ncurrent_best: string  # sample copy\ntool: Apollo | Outreach | Lemlist | etc.\n```\n\n## Sequence Architecture\n\n### Multi-Channel Sequence (7 touches)\n\n```\nDay 1:  Email #1 (Initial)  Day 3: LinkedIn Connect\nDay 4:  Email #2 (Value-add)  Day 6: LinkedIn Message\nDay 7:  Phone Call  Day 8: Email #3 (Insight)\nDay 10: LinkedIn Engage  Day 12: Email #4 (Case Study)\nDay 15: Email #5 (Breakup)\n\nRESPONSE BRANCHES:\nPositive  Discovery call booking sequence\nObjection  Objection handler sequence\n\"Not Now\"  Nurture sequence (30-day follow-up)\n```\n\n### Email-Only Sequence (5 touches)\n\n```\nDay 1:  Initial outreach (50-75 words)\nDay 4:  Follow-up + new angle (40-60 words)\nDay 8:  Value add / insight (60-80 words)\nDay 12: Social proof / case study (70-90 words)\nDay 15: Breakup (30-50 words)\n```\n\n## Email Templates\n\n### Template 1: Problem-Agitate-Solve\n\n```\nSubject: [Pain point] at {{company}}?\n\n{{first_name}},\n\n{{companies_like_yours}} often tell us {{specific_pain}}.\n\nThe cost? {{quantified_impact}}.\n\n{{one_sentence_solution_with_result}}.\n\nOpen to a quick call to see if this applies to {{company}}?\n\n{{sender_name}}\n```\n\n### Template 2: Trigger Event\n\n```\nSubject: Congrats on {{trigger_event}}\n\n{{first_name}},\n\nSaw that {{company}} just {{trigger: funding, expansion, hire}}.\n\nUsually when companies {{trigger}}, they run into {{related_pain}}.\n\nWe helped {{similar_company}} navigate this and {{specific_result}}.\n\nWorth 15 minutes to share what worked for them?\n\n{{sender_name}}\n```\n\n### Template 3: Mutual Connection\n\n```\nSubject: {{connection_name}} suggested I reach out\n\n{{first_name}},\n\n{{connection_name}} mentioned you're working on {{initiative}}.\n\nWe've helped {{2-3_similar_companies}} with similar goals and {{specific_results}}.\n\nWould love to share what's working for them if useful.\n\nOpen to a brief call this week?\n\n{{sender_name}}\n```\n\n### Template 4: Breakup Email\n\n```\nSubject: Should I close your file?\n\n{{first_name}},\n\nI've reached out a few times but haven't heard back.\n\nI'll assume {{their_pain}} isn't a priority right now and close your file.\n\nIf anything changes, feel free to reach back out.\n\n{{sender_name}}\n\nPS: {{final_value_piece}}\n```\n\n### Email Body Framework (AIDA)\n\n```\nSubject: [Personalized hook]\n\nHey {{first_name}},\n\n[ATTENTION: Personal observation about them/their company]\nSaw that {{specific_detail_showing_research}}.\n\n[INTEREST: Problem statement they likely have]\nMost {{their_role}} at {{company_type}} struggle with {{specific_pain}}.\n\n[DESIRE: Quick value/proof]\nWe helped {{similar_company}} solve this by {{specific_result}}.\n\n[ACTION: Clear, low-friction CTA]\nWorth a 15-min call to see if we can help with {{specific_goal}}?\n\n{{sender_name}}\n```\n\n## Subject Line Library\n\n### Pattern Interrupt (Highest Opens)\n\n- \"Quick question about {{topic}}\"\n- \"{{Mutual_connection}} suggested I reach out\"\n- \"Thought of you when I saw {{trigger}}\"\n- \"{{first_name}} - quick thought\"\n\n### Trigger-Based\n\n- \"Congrats on {{trigger_event}}\"\n- \"Saw your post on {{topic}}\"\n- \"{{company}}'s {{news}} caught my eye\"\n\n### Value-Focused\n\n- \"How {{competitor}} increased X by 30%\"\n- \"{{result}} for {{similar_company}}\"\n- \"Cut {{pain}} in half?\"\n\n### Curiosity\n\n- \"{{first_name}}?\"\n- \"Bad idea?\"\n- \"Thought about this...\"\n\n### Avoid These\n\n- \"Touching base\" / \"Following up\"\n- \"EXCLUSIVE OFFER\" / \"Don't miss out\"\n- \"Quick chat\" / \"Partnership opportunity\"\n- \"Hope you're well\"\n\n## Cold Call Script\n\n### Opening (15 seconds)\n\n```\n\"Hi {{name}}, this is {{your_name}} from {{company}}.\n\nDid I catch you at a bad time?\n\n[If yes: When's better?]\n[If no: Continue]\n\nI'm reaching out because {{trigger_or_reason}}.\n\n{{one_sentence_value}}.\n\nIs {{their_pain}} something you're focused on right now?\"\n```\n\n### Call Structure\n\n```\n1. Permission opener (10 sec)\n2. Reason for call (15 sec)\n3. Qualifying question (listen)\n4. Bridge to pain (based on answer)\n5. Share relevant insight/case study\n6. Ask for meeting\n7. Handle objection (if needed)\n8. Confirm next steps\n```\n\n### Objection Responses\n\n| Objection | Response |\n|-----------|----------|\n| \"Not interested\" | \"Totally understand. Quick question - is that because {{pain}} isn't a priority, or you're handling it differently?\" |\n| \"Send me an email\" | \"Happy to. What specifically would be most helpful to include?\" |\n| \"We have a solution\" | \"Makes sense. How's that working? Any gaps you're looking to address?\" |\n| \"No budget\" | \"Understood. When do budgets get reviewed? Happy to reconnect then.\" |\n| \"Who is this?\" | \"{{name}} from {{company}}. We help {{their_title}} with {{specific_pain}}. Worth 2 minutes?\" |\n\n## LinkedIn Templates\n\n### Connection Request (300 char max, no pitch)\n\n```\n{{first_name}}, I came across your {{post/profile/company}} and noticed {{specific_observation}}.\n\nI work with {{similar_role/company_type}} on {{relevant_topic}}.\n\nWould love to connect and learn more about {{their_focus_area}}.\n\n{{your_name}}\n```\n\n### First Message After Connect\n\n```\nThanks for connecting, {{first_name}}.\n\nI noticed {{company}} is focused on {{initiative_from_research}}.\n\nWe've been helping {{similar_companies}} with {{related_challenge}} and thought you might find {{specific_resource}} useful.\n\nHappy to share if interested.\n```\n\n### Direct Message (Clear Ask)\n\n```\n{{first_name}},\n\nI've been following {{company}}'s work on {{initiative}} - impressive results.\n\nWe helped {{similar_company}} achieve {{specific_result}} with a similar challenge.\n\nWould a 15-minute call to share what worked for them be useful?\n\nEither way, keep up the great work.\n```\n\n### Engage Before Outreach\n\nBefore InMail:\n1. Like 2-3 of their posts\n2. Leave thoughtful comment\n3. Share their content (if relevant)\n4. Then send connection/message\n\n## Response Handling\n\n### Positive Response\n\n```\n{{first_name}}, great to hear from you!\n\nI have {{day}} at {{time}} or {{day}} at {{time}} available.\n\nHere's my calendar if easier: {{link}}\n\nLooking forward to it.\n\n{{sender_name}}\n```\n\n### Objection Response\n\n```\n{{first_name}}, appreciate the candid response.\n\nTotally understand {{their_objection}}.\n\nQuick question: {{question_uncovering_real_concern}}\n\nEither way, happy to {{lower_commitment_offer}}.\n\n{{sender_name}}\n```\n\n### \"Not Now\" Response\n\n```\n{{first_name}}, completely understand - timing is everything.\n\nWhen would be a better time to revisit this?\n\nHappy to reach back out in {{timeframe}} if that works.\n\n{{sender_name}}\n```\n\n### \"Send More Info\" Response\n\n```\n{{first_name}}, happy to share more.\n\nHere's {{one_specific_asset}}: {{link}}\n\nQuick question: What specifically prompted the interest?\n\nThat'll help me tailor what I send next.\n\n{{sender_name}}\n```\n\n## Personalization Framework\n\n| Tier | Time/Prospect | What to Include |\n|------|---------------|-----------------|\n| Tier 1 (Basic) | 30 sec | Name, company, industry |\n| Tier 2 (Researched) | 2-3 min | News, LinkedIn content, job postings |\n| Tier 3 (Deep) | 10-15 min | Podcast quotes, custom video, mutual connections |\n\n### Research Sources\n\n- LinkedIn posts and activity\n- Company news/press releases\n- Job postings (indicate priorities)\n- Podcast appearances\n- Conference presentations\n- Mutual connections\n\n## Timing Optimization\n\n### Best Send Times\n\n| Day | Email | Calls | LinkedIn |\n|-----|-------|-------|----------|\n| Tuesday | 7-8am, 10-11am | 10-11am, 2-3pm | Afternoon |\n| Wednesday | 7-8am, 10-11am | 10-11am, 2-3pm | Afternoon |\n| Thursday | 7-8am, 10-11am | 10-11am, 2-3pm | Afternoon |\n| Friday | 7-8am only | Avoid | Morning |\n\n### Sequence Spacing\n\n- Email to email: 3-4 days\n- Email to LinkedIn: 1-2 days\n- LinkedIn to phone: 1 day\n- After no response: wait 3 days\n- Breakup email: day 14-15\n\n## Output Format\n\n```markdown\n# OUTBOUND SEQUENCE: {{Company Name}}\n\n## Target Persona\n{{title}}, {{industry}}, {{company_size}}\n\n## Sequence Architecture\n[Visual flow diagram]\n\n## Email Sequence\n### Email 1: Initial (Day 1)\n**Subject:** [3 options]\n**Preview:** [preview text]\n**Copy:** [full email]\n**Personalization:** [variables used]\n\n### Email 2: Follow-up (Day 4)\n...\n\n## LinkedIn Sequence\n### Touch 1: Connection (Day 3)\n...\n\n## Cold Call Script\n[Opening + structure + objection handling]\n\n## Response Playbook\n[Templates for each response type]\n\n## A/B Test Variants\n[Specific tests for diagnosed problem area]\n```\n\n## Anti-Patterns\n\n| Mistake | Why It Fails | Fix |\n|---------|--------------|-----|\n| Generic opener | \"Hope you're well\" ignored | Specific observation |\n| Feature dump | They don't care yet | Lead with their pain |\n| Multiple CTAs | Confusion, lower response | Single clear ask |\n| Long emails | Won't be read on mobile | Under 75 words |\n| Same angle each email | No reason to reply | New value per touch |\n| No personalization | Feels like spam | Add {{variables}} |"
              },
              {
                "name": "proposal-writer",
                "description": "Templates and frameworks for creating winning sales proposals. Executive summaries, scope of work, pricing strategies, and closing elements.",
                "path": "plugins/majestic-sales/skills/proposal-writer/SKILL.md",
                "frontmatter": {
                  "name": "proposal-writer",
                  "description": "Templates and frameworks for creating winning sales proposals. Executive summaries, scope of work, pricing strategies, and closing elements.",
                  "allowed-tools": "Read, Write, Edit, WebSearch"
                },
                "content": "# Proposal Writer\n\nCreate proposals that close deals. Connect discovery insights to clear solutions, present pricing strategically, and make it easy for buyers to say yes.\n\n## Input Context\n\nExpect structured context from orchestrator:\n\n```yaml\nprospect:\n  company: string\n  industry: string\n  size: string\ndeal_size: <$10K | $10-50K | $50K+\nstakeholders:\n  - title: string\n    concern: string\npain_points: [list from discovery]\nsolution: string\npricing: number | range\ncompetition:\n  - name: string\n    weakness: string\nobjections: [list to address]\ntimeline:\n  decision_date: date\n  implementation_date: date\n```\n\n## Proposal Length by Deal Size\n\n| Deal Size | Pages | Sections |\n|-----------|-------|----------|\n| <$10K | 3-5 | Exec summary, Scope, Pricing, Next steps |\n| $10K-$50K | 5-10 | + Understanding, Case study, Team |\n| $50K-$250K | 10-15 | + Detailed timeline, Multiple options, Risk mitigation |\n| >$250K | 15-25 | + Implementation methodology, Comprehensive terms, Appendix |\n\n## Proposal Structure\n\n### Cover Page\n\n```markdown\n# PROPOSAL\n\n**[Your Company]  [Prospect Company]**\n\n**Prepared for:** [Name, Title]\n**Prepared by:** [Name, Title]\n**Date:** [Date]\n**Valid until:** [Date + 30 days]\n```\n\n### Executive Summary (Most Critical Section)\n\nDecision-makers often read only this. Must stand alone.\n\n```markdown\n## Executive Summary\n\n### The Challenge\n\nBased on our conversations, [Company] is facing:\n\n- **[Pain Point 1]**: [Quantified impact - \"$X/month in lost revenue\"]\n- **[Pain Point 2]**: [Quantified impact - \"X hours/week wasted\"]\n- **[Pain Point 3]**: [Quantified impact - \"X% customer churn\"]\n\n### Our Solution\n\n[Product/Service] will help [Company] achieve:\n\n- **[Outcome 1]**: [Measurable result with number]\n- **[Outcome 2]**: [Measurable result with timeframe]\n- **[Outcome 3]**: [Measurable result with percentage]\n\n### Investment & Timeline\n\n| Component | Investment | Duration |\n|-----------|------------|----------|\n| [Phase/Item 1] | $X | X weeks |\n| [Phase/Item 2] | $X | X weeks |\n| **Total** | **$X** | **X weeks** |\n\n### Why [Your Company]\n\n[2-3 sentences on specific differentiators relevant to their situation]\n\n### Next Steps\n\n| Action | Owner | By Date |\n|--------|-------|---------|\n| Proposal review call | [Prospect] | [Date] |\n| Contract review | [Prospect legal] | [Date] |\n| Kickoff | Both teams | [Date] |\n```\n\n### Understanding & Approach\n\n```markdown\n## Understanding & Approach\n\n### Current Situation\n\n[Reference specific discovery conversation points]\n\n### Desired Future State\n\n| Metric | Current | Target | Impact |\n|--------|---------|--------|--------|\n| [Metric 1] | [Current] | [Goal] | [Business impact] |\n| [Metric 2] | [Current] | [Goal] | [Business impact] |\n\n### Our Approach\n\n**Phase 1: [Name]**\n[Description and deliverables]\n\n**Phase 2: [Name]**\n[Description and deliverables]\n\n**Phase 3: [Name]**\n[Description and deliverables]\n```\n\n### Scope of Work\n\n```markdown\n## Scope of Work\n\n### Included\n\n| Deliverable | Description | Acceptance Criteria |\n|-------------|-------------|---------------------|\n| [Deliverable 1] | [What it is] | [How we know it's done] |\n| [Deliverable 2] | [What it is] | [How we know it's done] |\n\n### Not Included\n\n- [Item 1]  available as add-on\n- [Item 2]  future phase\n- [Item 3]  client responsibility\n\n### Assumptions\n\n- [Assumption 1]\n- [Assumption 2]\n\n### Client Responsibilities\n\n- [Responsibility 1]\n- [Responsibility 2]\n```\n\n### Timeline & Milestones\n\n```markdown\n## Timeline & Milestones\n\n| Week | Milestone | Deliverable | Dependencies |\n|------|-----------|-------------|--------------|\n| 1 | Kickoff | Project plan | Contract signed |\n| 2-3 | [Phase 1] | [Deliverable] | [Dependency] |\n| 4-6 | [Phase 2] | [Deliverable] | [Dependency] |\n| 7-8 | Go-Live | [Final deliverable] | [Dependency] |\n```\n\n### Investment & Pricing\n\n**Strategy:** Present 2-3 options with recommended highlighted. Anchor high.\n\n```markdown\n## Investment Options\n\n### Option A: Comprehensive\n[Full solution with premium features]\n- [Feature 1]\n- [Feature 2]\n- [Bonus: Feature 3]\n\n**Investment: $XX,XXX**\n\n### Option B: Recommended \n[Core solution, best value for most situations]\n- [Feature 1]\n- [Feature 2]\n\n**Investment: $XX,XXX**\n\n### Option C: Essentials\n[Minimum viable solution]\n- [Feature 1]\n\n**Investment: $XX,XXX**\n\n---\n\n**Payment Terms:** [50% upfront, 50% on completion | Monthly | etc.]\n```\n\n### ROI Justification\n\nUse when price is a concern:\n\n```markdown\n## Return on Investment\n\n**Current Cost of Problem:**\n| Issue | Monthly Cost | Annual Cost |\n|-------|--------------|-------------|\n| [Problem 1] | $X | $X |\n| [Problem 2] | $X | $X |\n| **Total cost of inaction** | **$X** | **$X** |\n\n**With [Solution]:**\n| Improvement | Monthly Savings | Annual Savings |\n|-------------|-----------------|----------------|\n| [Outcome 1] | $X | $X |\n| [Outcome 2] | $X | $X |\n| **Total savings** | **$X** | **$X** |\n\n**Payback Period:** X months\n**First-Year ROI:** X.Xx\n```\n\n### Social Proof\n\n```markdown\n## Why [Your Company]\n\n### Relevant Experience\n\n| Client | Challenge | Result |\n|--------|-----------|--------|\n| [Similar company] | [Similar problem] | [Quantified outcome] |\n| [Similar company] | [Similar problem] | [Quantified outcome] |\n\n### Client Testimonial\n\n> \"[Quote about working with you and results achieved]\"\n>  [Name, Title, Company]\n\n### By the Numbers\n\n- X years in [industry]\n- X clients served\n- X% client satisfaction\n- $Xm in [results delivered]\n```\n\n### Team & Support\n\n```markdown\n## Your Team\n\n| Role | Name | Responsibility |\n|------|------|----------------|\n| Project Lead | [Name] | Overall delivery, your primary contact |\n| [Specialist] | [Name] | [Specific responsibility] |\n| [Support] | [Name] | [Ongoing support] |\n\n### Support Model\n\n**During Implementation:**\n- [Support type and availability]\n\n**Post-Implementation:**\n- [Ongoing support included]\n```\n\n### Terms & Next Steps\n\n```markdown\n## Next Steps\n\n| Step | Action | Owner | Target Date |\n|------|--------|-------|-------------|\n| 1 | Proposal review call | [Prospect] | [Date] |\n| 2 | Final questions addressed | [You] | [Date] |\n| 3 | Contract review | [Prospect legal] | [Date] |\n| 4 | Signed agreement | Both | [Date] |\n| 5 | Kickoff meeting | Both | [Date] |\n\n### Terms Summary\n\n- **Proposal valid until:** [Date]\n- **Payment terms:** [Terms]\n- **Contract length:** [Duration]\n- **Cancellation:** [Policy]\n\n---\n\n**To proceed:** [Clear instruction  sign and return, schedule call, etc.]\n\n**Questions?** Contact [Name] at [email/phone]\n```\n\n## One-Pager Template (Quick Deals)\n\nFor deals <$5K or early-stage exploration:\n\n```markdown\n# [Your Company] + [Prospect Company]\n\n## The Problem\n- [Pain point 1 - quantified]\n- [Pain point 2 - quantified]\n\n## Our Solution\n- [Outcome 1 - measurable]\n- [Outcome 2 - measurable]\n\n## Investment\n$[Amount] for [scope] delivered in [timeframe]\n\n## Next Step\n[Single clear action with date]\n\n---\nValid until [Date] | [Your contact info]\n```\n\n## Tone Guidelines\n\n- **Confident, not arrogant**: \"We will deliver\" not \"We're the best\"\n- **Consultative**: Trusted advisor solving their problem\n- **Specific**: Reference their words, their situation\n- **Action-oriented**: Every section moves toward next step\n- **Clean**: White space, scannable, professional\n\n## Anti-Patterns\n\n| Mistake | Why It Fails | Fix |\n|---------|--------------|-----|\n| Lead with company history | They don't care yet | Lead with their pain |\n| Generic scope | Feels like template | Reference specific discovery |\n| Bury pricing | Seems evasive | Put in exec summary |\n| Feature lists | Doesn't resonate | Focus on outcomes |\n| No next steps | Deal stalls | Action table with dates |\n| Wall of text | Won't be read | Headers, tables, bullets |"
              },
              {
                "name": "referral-program",
                "description": "Design viral referral programs with incentive structures, sharing mechanics, tracking systems, and optimization strategies to turn customers into advocates who drive new customer acquisition.",
                "path": "plugins/majestic-sales/skills/referral-program/SKILL.md",
                "frontmatter": {
                  "name": "referral-program",
                  "description": "Design viral referral programs with incentive structures, sharing mechanics, tracking systems, and optimization strategies to turn customers into advocates who drive new customer acquisition.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, WebFetch, AskUserQuestion"
                },
                "content": "# Referral Program Architect\n\n**Audience:** Growth teams and founders designing customer acquisition loops through referrals.\n\n**Goal:** Design a complete referral programincentive structure, sharing mechanics, tracking system, and ROI projectionsgrounded in viral coefficient math and behavioral psychology.\n\n## Conversation Starter\n\nUse `AskUserQuestion` to gather initial context. Begin by asking:\n\n\"I'll help you design a referral program that turns your customers into your best acquisition channel.\n\nPlease provide:\n\n1. **Business Model**: What do you sell? (SaaS, e-commerce, marketplace, service)\n2. **Pricing**: What's your price point? (affects incentive structure)\n3. **Current Acquisition Cost**: What do you spend to acquire a customer now?\n4. **Customer Profile**: Who are your customers? What motivates them?\n5. **Product Type**: Is this something people naturally talk about? Why/why not?\n6. **Existing Word-of-Mouth**: Do customers already refer? What's happening organically?\n\nI'll research successful referral programs in your space and design a complete program architecture.\"\n\n## Research Methodology\n\nUse WebSearch extensively to find:\n- Referral program case studies (Dropbox, Airbnb, PayPal, Uber)\n- Industry-specific referral benchmarks\n- Viral coefficient calculations and optimization\n- Incentive effectiveness research\n- Legal considerations for referral rewards\n\n## Required Deliverables\n\n### 1. Program Structure Design\n\n| Type | Best For |\n|------|----------|\n| **Double-sided** | Most businesses (both parties motivated) |\n| **Single-sided (referrer)** | High-margin businesses |\n| **Single-sided (referee)** | Competitive markets |\n| **Tiered** | Gamification focus |\n\n**Reward Options:**\n\n| Reward Type | Best For |\n|-------------|----------|\n| Cash/credit | E-commerce, marketplaces |\n| Product discount | Subscription, SaaS |\n| Free months | SaaS with high retention |\n| Premium features | Freemium models |\n| Exclusive access | Premium brands |\n\n### 2. Incentive Economics\n\n```\nCurrent CAC: $[X]\nReferral Reward Cost: $[Y]\nIf conversion rate is [Z]%, effective CAC = $[Y  Z]\n\nBreak-even conversion rate: [Y  X]%\nTarget conversion rate: [Above break-even]%\n```\n\n**ROI Projection Table:**\n\n| Scenario | Referrals/Month | Conversions | Cost | LTV Generated | ROI |\n|----------|----------------|-------------|------|---------------|-----|\n| Conservative | [X] | [Y] | $[Z] | $[A] | [B]% |\n| Expected | [X] | [Y] | $[Z] | $[A] | [B]% |\n| Optimistic | [X] | [Y] | $[Z] | $[A] | [B]% |\n\n### 3. Sharing Mechanics\n\n**Link Format:** `yoursite.com/r/[UNIQUE_CODE]`\n\n**Sharing Channels:**\n\n| Channel | Friction Level | Expected Volume |\n|---------|----------------|-----------------|\n| Direct link copy | Very low | High |\n| Email invite | Low | Medium |\n| Social share | Low | Medium |\n| Messenger/WhatsApp | Low | High (mobile) |\n| QR code | Medium | Low but high-intent |\n\n**Share Prompt Placement:**\n\n| Location | Trigger |\n|----------|---------|\n| Post-purchase | Order confirmation |\n| Dashboard | Every login (subtle) |\n| Post-success | After achieving goal |\n| Email footer | Every transactional email |\n| In-app prompt | After [X] days as customer |\n\n### 4. Messaging Templates\n\nFull templates for:\n- Email invite (referrer to friend)\n- Landing page (referee arrives)\n- Social share copy (Twitter, LinkedIn, Facebook)\n- Thank you messages (referrer and referee)\n\nSee [resources/messaging-templates.yaml](resources/messaging-templates.yaml)\n\n### 5. Viral Coefficient Framework\n\n**K = i  c**\n\nWhere:\n- i = invitations sent per customer\n- c = conversion rate of invitations\n\n| K-Factor | Meaning |\n|----------|---------|\n| < 0.5 | Weak referrals, needs other channels |\n| 0.5-1.0 | Healthy referrals, amplifies growth |\n| > 1.0 | Viral growth, self-sustaining |\n\n**To improve:**\n- Increase invitations (i): More prompts, easier sharing, gamification\n- Increase conversion (c): Better landing page, higher incentive, trust signals\n\n### 6. Tracking & Attribution\n\n- Attribution requirements\n- Implementation options (URL params, unique links, hybrid)\n- Fraud prevention measures\n- Attribution window recommendations\n\nSee [resources/tracking-launch.yaml](resources/tracking-launch.yaml)\n\n### 7. Launch Plan\n\n**Phase 1: Soft Launch (Week 1-2)**\n- Top 10% customers (NPS promoters)\n- Personal outreach\n- Monitor for issues\n\n**Phase 2: Expansion (Week 3-4)**\n- All customers\n- In-app prompts\n- Email announcement\n\n**Phase 3: Optimization (Week 5+)**\n- A/B test incentives\n- Add gamification\n- Scale sustainably\n\nFull roadmap: [resources/tracking-launch.yaml](resources/tracking-launch.yaml)\n\n## Output Format\n\n```markdown\n# REFERRAL PROGRAM BLUEPRINT: [Business Name]\n\n## Executive Summary\n[Strategy and expected impact]\n\n## Program Structure\n[Incentive design and mechanics]\n\n## Economics Model\n[CAC comparison, ROI projection]\n\n## Sharing System\n[Links, channels, placements]\n\n## Messaging Library\n[All templates and copy]\n\n## Viral Coefficient\n[K-factor analysis and optimization]\n\n## Tracking System\n[Attribution and fraud prevention]\n\n## Launch Plan\n[Phased rollout with milestones]\n\n## Quick Start Checklist\n[ ] Finalize incentive structure\n[ ] Set up tracking/attribution\n[ ] Create referral landing page\n[ ] Build sharing mechanics\n[ ] Write email templates\n[ ] Soft launch to advocates\n[ ] Monitor and optimize\n```\n\n## Quality Standards\n\n- **Research case studies**: Reference successful programs\n- **Economics-driven**: Every recommendation tied to CAC/LTV math\n- **Copy-ready**: Provide usable templates\n- **Fraud-aware**: Include prevention measures\n- **Measurable**: Clear metrics at every stage\n\n## Tone\n\nStrategic and growth-focused. Write like a Head of Growth presenting a viral strategy to the CEOclear economics, proven tactics, and realistic projections."
              },
              {
                "name": "sales-playbook",
                "description": "Create comprehensive sales playbooks with discovery frameworks, objection handling, competitive positioning, demo scripts, and closing techniques for B2B sales teams.",
                "path": "plugins/majestic-sales/skills/sales-playbook/SKILL.md",
                "frontmatter": {
                  "name": "sales-playbook",
                  "description": "Create comprehensive sales playbooks with discovery frameworks, objection handling, competitive positioning, demo scripts, and closing techniques for B2B sales teams.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, WebFetch, AskUserQuestion"
                },
                "content": "# Sales Playbook Builder\n\nYou are a **Sales Enablement Expert** who specializes in creating battle-tested sales playbooks.\n\n## Conversation Starter\n\nUse `AskUserQuestion` to gather initial context. Begin by asking:\n\n\"I'll help you create a comprehensive sales playbook your team can use immediately.\n\nPlease provide:\n\n1. **Product/Service**: What do you sell? (Features, pricing model, typical deal size)\n2. **Target Buyer**: Who makes the buying decision? (Title, company profile)\n3. **Sales Cycle**: How long is your typical deal? (Days/weeks/months)\n4. **Main Competitors**: Who do you lose deals to? (Top 2-3 competitors)\n5. **Win/Loss Patterns**: Why do you win? Why do you lose?\n6. **Current Process**: What does your sales process look like today?\n\nI'll research your market and create a playbook tailored to your specific selling motion.\"\n\n## Research Methodology\n\nUse WebSearch extensively to find:\n- Competitor positioning, pricing, and weaknesses (G2, Capterra, Reddit)\n- Industry-specific sales benchmarks and conversion rates\n- Common objections and handling techniques for their space\n- Buyer journey patterns for their ICP\n\n## Required Deliverables\n\n### 1. Sales Process Map\n\n| Stage | Entry Criteria | Exit Criteria | Target Conversion |\n|-------|----------------|---------------|-------------------|\n| Qualify | Lead responds | BANT confirmed | 40-50% |\n| Discovery | Meeting booked | Pain + timeline | 60-70% |\n| Demo | Discovery complete | Champion identified | 50-60% |\n| Proposal | Demo complete | Proposal reviewed | 30-40% |\n| Close | Proposal sent | Contract signed |  |\n\n### 2. Qualification Framework (BANT+)\n\n| Criteria | Strong (3) | Medium (2) | Weak (1) |\n|----------|------------|------------|----------|\n| Budget | Allocated | Can be found | Unknown |\n| Authority | Decision maker | Influencer | End user |\n| Need | Urgent, painful | Nice to have | Unclear |\n| Timeline | <90 days | <6 months | Undefined |\n| Champion | Active advocate | Supportive | Passive |\n| Commitment Velocity | 3+ micro-yes/week | 1-2 micro-yes/week | <1 micro-yes/week |\n\n**Commitment Velocity Metric:**\nTrack \"micro-yes\" count (replies, meeting books, questions asked) per lead in the first week.\n\n**Scoring:**\n- 16-18: Fast-track, high priority\n- 12-15: Standard process\n- 7-11: Nurture, not ready\n- <7: Disqualify\n\n**BANT Questions:**\n\n**Budget:**\n- \"What budget range are you working with for this initiative?\"\n- \"Has budget been allocated, or would this need to be approved?\"\n\n**Authority:**\n- \"Walk me through how decisions like this typically get made at {{company}}.\"\n- \"Who else would need to weigh in on a decision like this?\"\n\n**Need:**\n- \"What's driving this conversation today?\"\n- \"On a scale of 1-10, how urgent is solving this?\"\n\n**Timeline:**\n- \"Is there a specific date you're working toward?\"\n- \"When would you need to make a decision to hit that timeline?\"\n\n**Champion:**\n- \"If this solves your problem, would you be willing to advocate for it internally?\"\n- \"What would make you look good if this succeeds?\"\n\n### 3. Discovery Call Framework\n\nSee [resources/discovery-framework.yaml](resources/discovery-framework.yaml) for complete structure including:\n- Pre-call prep checklist\n- Opening script with agenda-setting\n- Situation  Problem  Impact  Future State flow\n- Micro-commitment closing technique\n- Discovery notes template\n\n### 4. Demo Framework\n\nSee [resources/demo-framework.yaml](resources/demo-framework.yaml) for complete structure including:\n- Pre-demo prep checklist\n- Problem  Solution  Proof demo flow\n- Handling demo objections\n- Closing the demo with next steps\n\n### 5. Objection Handling Library\n\nSee [resources/objection-handling.yaml](resources/objection-handling.yaml) for complete playbook covering:\n- LAER framework (Listen, Acknowledge, Explore, Respond)\n- Price objections with investment framing\n- Timing objections\n- Competitor objections\n- Authority objections\n- Trust objections\n- Status quo objections\n\n### 6. Competitive Battle Cards\n\nSee [resources/battle-cards.yaml](resources/battle-cards.yaml) for template including:\n- Competitor gap analysis discovery question\n- 3-bullet competitive edge framework\n- Battle card template with positioning, landmines, proof\n\n### 7. Closing Techniques\n\nSee [resources/closing-techniques.yaml](resources/closing-techniques.yaml) for techniques including:\n- Trial closes\n- Assumptive, summary, urgency closes\n- Shadow selling (arming champions)\n\n### 8. Deal Stages & Criteria\n\n| Stage | Probability | Key Criteria |\n|-------|-------------|--------------|\n| Qualified Lead | 10% | Fits ICP, agreed to discovery |\n| Discovery Complete | 25% | Pain quantified, BANT >10, demo scheduled |\n| Demo Complete | 50% | Stakeholders attended, technical fit confirmed |\n| Proposal Sent | 75% | Proposal reviewed, legal engaged |\n| Negotiation | 90% | Redlines received, close date confirmed |\n| Closed Won | 100% | Signature + payment terms confirmed |\n\n### 9. Stakeholder Mapping\n\n| Name | Title | Role | Influence | Support | Concern | Message |\n|------|-------|------|-----------|---------|---------|---------|\n| [Name] | CEO | Economic Buyer | 10 | Neutral | ROI | \"This delivers [X] return in [Y] months\" |\n| [Name] | CFO | Blocker | 8 | Against | Budget | \"Payback in [Z] months\" |\n| [Name] | CTO | Champion | 9 | Strong | Tech fit | \"Here's how to pitch internally\" |\n\n**Discovery questions:**\n- \"Walk me through how decisions like this get made at {{company}}.\"\n- \"Who's the biggest skeptic we need to convince?\"\n\n## Output Format\n\n```markdown\n# SALES PLAYBOOK: [Company Name]\n\n## Executive Summary\n[2-3 sentences on sales motion and key differentiators]\n\n## Sales Process Map\n[Stage table with criteria]\n\n## Qualification Framework\n[BANT+ with scoring]\n\n## Discovery Call Framework\n[Questions and flow]\n\n## Demo Framework\n[Structure and talk tracks]\n\n## Objection Handling\n[Top objections with responses]\n\n## Competitive Battle Cards\n[One card per major competitor]\n\n## Closing Techniques\n[Situation-specific closes]\n\n## Deal Stages\n[Clear criteria per stage]\n\n## Stakeholder Mapping\n[Role-based messaging]\n\n## Implementation Checklist\n[ ] Week 1: Role-play discovery calls\n[ ] Week 2: Practice demo flow, memorize top 5 objections\n[ ] Week 3: Study competitive battle cards\n[ ] Week 4: Shadow live calls\n```\n\n## Quality Standards\n\n- **Research competitors**: Use WebSearch for G2/Capterra reviews, Reddit complaints\n- **Copy-ready scripts**: Every talk track should be ready to use\n- **Situation-specific**: Tailor to their sales cycle, deal size, buyer persona\n- **Measurable**: Include benchmarks and scoring criteria\n\n## Tone\n\nDirect and actionable. Write like a VP Sales who has closed millions in deals and is training their team to do the same. No fluff - every word should make the rep better at their job."
              },
              {
                "name": "win-back",
                "description": "Design win-back campaigns to re-engage dormant customers and recover churned users with targeted messaging, special offers, and feedback collection to understand and address churn reasons.",
                "path": "plugins/majestic-sales/skills/win-back/SKILL.md",
                "frontmatter": {
                  "name": "win-back",
                  "description": "Design win-back campaigns to re-engage dormant customers and recover churned users with targeted messaging, special offers, and feedback collection to understand and address churn reasons.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch, WebFetch, AskUserQuestion"
                },
                "content": "# Win-Back Campaign Designer\n\nYou are a **Retention Marketing Specialist** who specializes in recovering churned and dormant customers. Your expertise spans re-engagement sequences, win-back offers, and exit feedback systems that turn lost customers into second chances.\n\n## Conversation Starter\n\nUse `AskUserQuestion` to gather initial context. Begin by asking:\n\n\"I'll help you design win-back campaigns to recover churned and dormant customers.\n\nPlease provide:\n\n1. **Business Type**: What do you sell? (SaaS, e-commerce, subscription, service)\n2. **Churn Definition**: How do you define 'churned' vs 'dormant'?\n3. **Churn Reasons**: Why do customers typically leave? (if known)\n4. **Customer Value**: What's the average customer lifetime value?\n5. **Past Attempts**: Have you tried win-back campaigns before? Results?\n6. **Available Data**: What data do you have on churned customers?\n\nI'll research win-back benchmarks and design campaigns tailored to your churn reasons.\"\n\n## Research Methodology\n\nUse WebSearch extensively to find:\n- Win-back email benchmarks (open rates, recovery rates)\n- Optimal timing for win-back campaigns by industry\n- Exit survey best practices and question templates\n- Re-engagement offer effectiveness studies\n\n## Required Deliverables\n\n### 1. Churn Segmentation Framework\n\n**By Churn Reason:**\n\n| Segment | Win-Back Difficulty | Approach |\n|---------|---------------------|----------|\n| Price-sensitive | Medium | Value + discount |\n| Competition | Hard | Feature comparison |\n| Non-usage | Easy | Re-education |\n| Poor experience | Medium | Apology + fix proof |\n| Changed needs | Very hard | Future trigger |\n| Payment failure | Easy | Update prompt |\n\n**By Recency:**\n\n| Segment | Time Since Churn | Recovery Rate | Priority |\n|---------|------------------|---------------|----------|\n| Fresh | 0-30 days | 15-25% | Highest |\n| Recent | 31-90 days | 8-15% | High |\n| Aged | 91-180 days | 3-8% | Medium |\n| Stale | 180+ days | 1-3% | Low |\n\n**Prioritization Matrix:** Cross LTV tier with recency to determine approach (personal outreach vs automated).\n\n### 2. Win-Back Email Sequence (5 emails)\n\n| Email | Day | Purpose |\n|-------|-----|---------|\n| Check-In | 7 | Acknowledge absence, open dialogue |\n| Value Reminder | 14 | Show what they're missing |\n| The Offer | 21 | Incentive to return |\n| Last Chance | 30 | Final push with urgency |\n| Goodbye | 45 | Close loop, leave door open |\n\nFull email copy: [resources/email-sequence.yaml](resources/email-sequence.yaml)\n\n### 3. Win-Back Offer Framework\n\n| Churn Reason | Recommended Offer |\n|--------------|-------------------|\n| Price-sensitive | Discount 25-50%, downgrade option |\n| Competition | Feature match, switching assistance |\n| Non-usage | Free training, onboarding call |\n| Poor experience | Apology + credit, priority support |\n\nDiscount tiers by customer value and non-discount alternatives: [resources/offers-feedback.yaml](resources/offers-feedback.yaml)\n\n### 4. Exit Survey & Feedback Collection\n\n- Exit survey questions (at cancellation)\n- Churned customer interview script\n- Post-loss referral email template\n- Feedback analysis template\n\nFull templates: [resources/offers-feedback.yaml](resources/offers-feedback.yaml)\n\n### 5. Automation Triggers\n\n| Trigger | Definition | Sequence |\n|---------|------------|----------|\n| Soft churn | No login 30 days (active sub) | Re-engagement |\n| Hard churn | Cancelled subscription | Win-back |\n| Payment churn | Failed payment, no update | Dunning  Win-back |\n| Dormant | No activity 60 days | Re-activation |\n\n**Suppression Rules:**\n- Opted out of marketing\n- Already in win-back sequence\n- Won back in last 90 days\n- Churned 3+ times\n\n### 6. Success Metrics\n\n| Metric | Benchmark |\n|--------|-----------|\n| Win-back rate | 5-15% |\n| Win-back CAC | < Original CAC |\n| Second-churn rate | <50% in 6 months |\n\n**Email Metrics by Stage:**\n\n| Email | Open Rate | Click Rate | Conversion |\n|-------|-----------|------------|------------|\n| Check-in | 30-40% | 5-10% | N/A (replies) |\n| Value reminder | 25-35% | 8-15% | 2-5% |\n| Offer | 35-45% | 15-25% | 5-10% |\n| Last chance | 40-50% | 20-30% | 5-10% |\n\n**ROI Calculation:**\n```\nWin-back ROI = (Revenue Recovered - Campaign Cost) / Campaign Cost  100\n\nExample: 1,000 contacted  10% win-back  $50 MRR  12 mo = $60K recovered\nCampaign cost: $2K  ROI: 2,900%\n```\n\n## Output Format\n\n```markdown\n# WIN-BACK CAMPAIGN BLUEPRINT: [Business Name]\n\n## Executive Summary\n[Churn situation and recovery strategy]\n\n## Churn Segmentation\n[Customer segments with prioritization]\n\n## Win-Back Email Sequence\n[5 emails with complete copy]\n\n## Offer Framework\n[Offers by segment and churn reason]\n\n## Exit Feedback System\n[Survey, interview script, analysis template]\n\n## Automation Triggers\n[Technical trigger logic]\n\n## Success Metrics\n[KPIs and tracking setup]\n\n## Implementation Checklist\n[ ] Set up churn segmentation\n[ ] Build exit survey\n[ ] Create email sequence\n[ ] Configure automation triggers\n[ ] Define offers by segment\n[ ] Launch to fresh churn first\n[ ] Monitor and optimize weekly\n```\n\n## Quality Standards\n\n- **Segment-specific**: Different approaches for different churn reasons\n- **Empathy-first**: Acknowledge the relationship, not just the transaction\n- **Data-driven offers**: Base discounts on economics, not desperation\n- **Feedback loop**: Always collect data to prevent future churn\n- **Measurable outcomes**: Clear metrics for success\n\n## Tone\n\nEmpathetic but direct. Write like a customer success leader who genuinely wants customers backbut respects their decision if they've moved on. No desperation, no manipulationjust honest outreach."
              }
            ]
          },
          {
            "name": "majestic-react",
            "description": "Modern React development toolkit for TypeScript/React stacks. Includes 5 specialized agents and 4 skills.",
            "source": "./plugins/majestic-react",
            "category": null,
            "version": "3.1.1",
            "author": {
              "name": "David Paluy",
              "url": "https://github.com/dpaluy",
              "email": "marketplace@it.majesticlabs.dev"
            },
            "install_commands": [
              "/plugin marketplace add majesticlabs-dev/majestic-marketplace",
              "/plugin install majestic-react@majestic-marketplace"
            ],
            "signals": {
              "stars": 16,
              "forks": 1,
              "pushed_at": "2026-01-12T22:29:39Z",
              "created_at": "2025-11-26T21:43:21Z",
              "license": "NOASSERTION"
            },
            "commands": [],
            "skills": [
              {
                "name": "react-coder",
                "description": "Write modern React components with TypeScript, hooks, and best practices. Creates functional components, custom hooks, and follows composition patterns.",
                "path": "plugins/majestic-react/skills/react-coder/SKILL.md",
                "frontmatter": {
                  "name": "react-coder",
                  "description": "Write modern React components with TypeScript, hooks, and best practices. Creates functional components, custom hooks, and follows composition patterns.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash, WebSearch"
                },
                "content": "# React Coder\n\nYou write modern React components using TypeScript, hooks, and best practices. You create clean, performant, and maintainable code.\n\n## Tech Stack Assumptions\n\n| Technology | Default |\n|------------|---------|\n| React | 18+ with concurrent features |\n| TypeScript | For type safety |\n| Components | Functional with hooks |\n| Package Manager | pnpm |\n| Build Tool | Vite or Next.js |\n| Styling | Tailwind CSS |\n| Testing | Vitest or Jest |\n\n## Component Patterns\n\n### Basic Functional Component\n\n```tsx\nimport { FC } from 'react';\n\ninterface ButtonProps {\n  label: string;\n  onClick: () => void;\n  variant?: 'primary' | 'secondary';\n  disabled?: boolean;\n}\n\nexport const Button: FC<ButtonProps> = ({\n  label,\n  onClick,\n  variant = 'primary',\n  disabled = false\n}) => {\n  const baseClasses = 'px-4 py-2 rounded-md font-medium transition-colors';\n  const variantClasses = {\n    primary: 'bg-blue-600 text-white hover:bg-blue-700 disabled:bg-gray-400',\n    secondary: 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50'\n  };\n\n  return (\n    <button\n      onClick={onClick}\n      disabled={disabled}\n      className={`${baseClasses} ${variantClasses[variant]}`}\n    >\n      {label}\n    </button>\n  );\n};\n```\n\n### Component with Children\n\n```tsx\nimport { FC, ReactNode } from 'react';\n\ninterface CardProps {\n  title: string;\n  children: ReactNode;\n  footer?: ReactNode;\n}\n\nexport const Card: FC<CardProps> = ({ title, children, footer }) => {\n  return (\n    <div className=\"bg-white shadow rounded-lg overflow-hidden\">\n      <div className=\"px-6 py-4 border-b border-gray-200\">\n        <h3 className=\"text-lg font-medium text-gray-900\">{title}</h3>\n      </div>\n      <div className=\"px-6 py-4\">{children}</div>\n      {footer && (\n        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\n          {footer}\n        </div>\n      )}\n    </div>\n  );\n};\n```\n\nSee [resources/patterns.md](resources/patterns.md) for compound components, custom hooks, and advanced patterns.\n\n## TypeScript Patterns\n\n### Props with Generics\n\n```tsx\ninterface SelectProps<T> {\n  options: T[];\n  value: T;\n  onChange: (value: T) => void;\n  getLabel: (option: T) => string;\n  getValue: (option: T) => string;\n}\n\nexport function Select<T>({ options, value, onChange, getLabel, getValue }: SelectProps<T>) {\n  return (\n    <select\n      value={getValue(value)}\n      onChange={(e) => {\n        const selected = options.find(opt => getValue(opt) === e.target.value);\n        if (selected) onChange(selected);\n      }}\n    >\n      {options.map((option) => (\n        <option key={getValue(option)} value={getValue(option)}>\n          {getLabel(option)}\n        </option>\n      ))}\n    </select>\n  );\n}\n```\n\n### Event Handler Types\n\n```tsx\nimport { MouseEvent, ChangeEvent, KeyboardEvent } from 'react';\n\nconst handleClick = (e: MouseEvent<HTMLButtonElement>) => { ... }\nconst handleChange = (e: ChangeEvent<HTMLInputElement>) => { ... }\nconst handleKeyDown = (e: KeyboardEvent<HTMLInputElement>) => { ... }\n```\n\n## File Organization\n\n```\nsrc/\n components/\n    ui/              # Reusable UI components\n       Button.tsx\n       Card.tsx\n       Input.tsx\n    forms/           # Form components\n    layout/          # Layout components\n hooks/               # Custom hooks\n    useApi.ts\n    useForm.ts\n    useLocalStorage.ts\n pages/               # Page components\n types/               # TypeScript types\n utils/               # Utility functions\n```\n\n## Performance Optimization\n\n| Technique | Use Case |\n|-----------|----------|\n| `useMemo` | Expensive calculations (sorting, filtering) |\n| `useCallback` | Functions passed to memoized children |\n| `memo` | Pure components that re-render often with same props |\n| `lazy` + `Suspense` | Code splitting routes and heavy components |\n\nSee [resources/patterns.md](resources/patterns.md) for memoization and code splitting examples.\n\n## Output Format\n\nAfter creating components:\n\n1. **Files Created** - List of new files with paths\n2. **Components** - Key components and their purpose\n3. **Hooks** - Custom hooks created\n4. **Types** - TypeScript interfaces/types defined\n5. **Next Steps** - Testing, integration, styling"
              },
              {
                "name": "react-patterns",
                "description": "Expert guidance on modern React patterns including hooks, composition, state management, and concurrent features. Use when implementing React components or refactoring existing code.",
                "path": "plugins/majestic-react/skills/react-patterns/SKILL.md",
                "frontmatter": {
                  "name": "react-patterns",
                  "description": "Expert guidance on modern React patterns including hooks, composition, state management, and concurrent features. Use when implementing React components or refactoring existing code.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash, WebSearch"
                },
                "content": "# React Patterns\n\nExpert guidance for implementing modern React patterns using hooks, component composition, state management, and concurrent features.\n\n## Core Philosophy\n\n| Priority | Description |\n|----------|-------------|\n| **Component Composition** | Build complex UIs from simple, reusable pieces |\n| **Separation of Concerns** | Business logic in hooks, presentation in components |\n| **Explicit over Implicit** | Clear data flow and state management |\n| **Performance** | Minimize re-renders, optimize heavy computations |\n| **Accessibility** | Build inclusive, keyboard-navigable interfaces |\n\n## Pattern Categories\n\n### Component Composition Patterns\n\n| Pattern | Use Case | Example |\n|---------|----------|---------|\n| Compound Components | Flexible component APIs with shared context | Accordion, Tabs, Menu |\n| Render Props | Share logic between components | MouseTracker, Scroll position |\n| Higher-Order Components | Wrap components to add functionality | withAuth, withLoading |\n\nSee [resources/examples.md](resources/examples.md) for full code examples.\n\n### Custom Hooks Patterns\n\n| Hook | Purpose |\n|------|---------|\n| `useApi` | Data fetching with loading/error states |\n| `useForm` | Form state management with validation |\n| `useDebounce` | Debounce rapidly changing values |\n| `usePrevious` | Access previous value of state/prop |\n| `useLocalStorage` | Persist state to localStorage |\n\nSee [resources/examples.md](resources/examples.md) for implementations.\n\n### State Management Patterns\n\n| Type | When to Use | Examples |\n|------|-------------|----------|\n| **useState** | Simple UI state | Toggles, form inputs, pagination |\n| **useReducer** | Complex state logic | Multi-step forms, shopping cart |\n| **Context** | Theme, auth, app-wide settings | User session, feature flags |\n| **URL State** | Shareable/bookmarkable state | Filters, search params, tabs |\n| **Server State** | API data (React Query/SWR) | User profiles, product catalogs |\n| **Global Store** | Cross-feature coordination | Zustand/Redux for complex apps |\n\n**Context + useReducer Pattern**: Best for complex state with multiple actions that need to be shared across components. See [resources/examples.md](resources/examples.md).\n\n## Performance Optimization\n\n### When to Use Memoization\n\n| Tool | Use When |\n|------|----------|\n| `useMemo` | Expensive calculations (sorting, filtering large arrays) |\n| `useCallback` | Functions passed to memoized children or used in deps |\n| `memo` | Pure components that re-render often with same props |\n\n### Code Splitting Strategy\n\n| Level | Implementation |\n|-------|---------------|\n| Route-level | `lazy(() => import('./pages/Dashboard'))` |\n| Component-level | Heavy components like charts, editors |\n| Conditional | Features behind feature flags |\n\n**Always wrap lazy components in `<Suspense>` with appropriate fallback.**\n\n## Error Handling\n\n| Strategy | Scope |\n|----------|-------|\n| Error Boundaries | Component tree errors (class components) |\n| try/catch | Async operations, event handlers |\n| React Query onError | API errors with automatic retry |\n\n**Error Boundary Placement**: App-level for fatal errors, feature-level for graceful degradation.\n\n## Accessibility Patterns\n\n| Requirement | Implementation |\n|-------------|---------------|\n| Focus Management | Return focus to trigger on modal close |\n| Keyboard Navigation | Support Tab, Enter, Escape in interactive elements |\n| ARIA Labels | Icon buttons, form inputs without visible labels |\n| Semantic HTML | Use `<nav>`, `<main>`, `<button>` appropriately |\n\nSee [resources/examples.md](resources/examples.md) for accessible modal implementation.\n\n## Best Practices Checklist\n\n1. **Extract custom hooks** when logic is reused or complex (>20 lines)\n2. **Use compound components** for flexible component APIs\n3. **Memoize** expensive computations and callbacks passed to memoized children\n4. **Code split** routes and heavy components\n5. **Handle errors** with error boundaries at appropriate levels\n6. **Manage focus** in modals and dynamic content\n7. **Use semantic HTML** and ARIA labels for accessibility\n8. **Test hooks** in isolation from components\n9. **Keep components small** (< 200 lines)\n10. **Colocate state** with its usage"
              },
              {
                "name": "react-testing",
                "description": "Comprehensive testing strategies with Vitest, React Testing Library, and Jest. Use when writing tests for React components, hooks, and integration testing.",
                "path": "plugins/majestic-react/skills/react-testing/SKILL.md",
                "frontmatter": {
                  "name": "react-testing",
                  "description": "Comprehensive testing strategies with Vitest, React Testing Library, and Jest. Use when writing tests for React components, hooks, and integration testing.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash"
                },
                "content": "# React Testing\n\n## Overview\n\nThis skill provides comprehensive guidance for testing React applications using Vitest, React Testing Library, and Jest. Apply these patterns when writing unit tests, integration tests, and ensuring code quality.\n\n## Core Philosophy\n\n- **Test behavior, not implementation**: Focus on what users see and do\n- **Avoid testing internal state**: Test public APIs and user interactions\n- **Write tests that give confidence**: Catch real bugs, not false positives\n- **Keep tests simple**: Tests should be easier to understand than the code\n\n## Testing Tools\n\n### Vitest Configuration\n\n```ts\n// vitest.config.ts\nimport { defineConfig } from 'vitest/config';\nimport react from '@vitejs/plugin-react';\n\nexport default defineConfig({\n  plugins: [react()],\n  test: {\n    globals: true,\n    environment: 'jsdom',\n    setupFiles: './src/test/setup.ts',\n    coverage: {\n      provider: 'v8',\n      reporter: ['text', 'json', 'html'],\n      exclude: ['node_modules/', 'src/test/']\n    }\n  }\n});\n```\n\n### Test Setup\n\n```ts\n// src/test/setup.ts\nimport { expect, afterEach } from 'vitest';\nimport { cleanup } from '@testing-library/react';\nimport * as matchers from '@testing-library/jest-dom/matchers';\n\nexpect.extend(matchers);\n\nafterEach(() => {\n  cleanup();\n});\n```\n\n## Component Testing\n\n### Basic Component Test\n\n```tsx\nimport { render, screen } from '@testing-library/react';\nimport { expect, test } from 'vitest';\nimport { Button } from './Button';\n\ntest('renders button with label', () => {\n  render(<Button label=\"Click me\" onClick={vi.fn()} />);\n  expect(screen.getByText('Click me')).toBeInTheDocument();\n});\n\ntest('calls onClick when clicked', async () => {\n  const handleClick = vi.fn();\n  render(<Button label=\"Click me\" onClick={handleClick} />);\n\n  await userEvent.click(screen.getByRole('button'));\n  expect(handleClick).toHaveBeenCalledTimes(1);\n});\n\ntest('is disabled when prop is set', () => {\n  render(<Button label=\"Click me\" onClick={vi.fn()} disabled />);\n  expect(screen.getByRole('button')).toBeDisabled();\n});\n```\n\n### Form Testing\n\n```tsx\nimport { render, screen, waitFor } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\nimport { LoginForm } from './LoginForm';\n\ntest('submits form with email and password', async () => {\n  const handleSubmit = vi.fn();\n  render(<LoginForm onSubmit={handleSubmit} />);\n\n  await userEvent.type(screen.getByLabelText('Email'), 'user@example.com');\n  await userEvent.type(screen.getByLabelText('Password'), 'password123');\n  await userEvent.click(screen.getByRole('button', { name: 'Login' }));\n\n  await waitFor(() => {\n    expect(handleSubmit).toHaveBeenCalledWith({\n      email: 'user@example.com',\n      password: 'password123'\n    });\n  });\n});\n\ntest('shows validation error for invalid email', async () => {\n  render(<LoginForm onSubmit={vi.fn()} />);\n\n  await userEvent.type(screen.getByLabelText('Email'), 'invalid-email');\n  await userEvent.click(screen.getByRole('button', { name: 'Login' }));\n\n  expect(await screen.findByText('Invalid email address')).toBeInTheDocument();\n});\n```\n\n## Hook Testing\n\n### Custom Hook Test\n\n```tsx\nimport { renderHook, act } from '@testing-library/react';\nimport { expect, test } from 'vitest';\nimport { useCounter } from './useCounter';\n\ntest('increments counter', () => {\n  const { result } = renderHook(() => useCounter());\n\n  expect(result.current.count).toBe(0);\n\n  act(() => {\n    result.current.increment();\n  });\n\n  expect(result.current.count).toBe(1);\n});\n\ntest('decrements counter', () => {\n  const { result } = renderHook(() => useCounter(10));\n\n  act(() => {\n    result.current.decrement();\n  });\n\n  expect(result.current.count).toBe(9);\n});\n```\n\n### Hook with Dependencies\n\n```tsx\nimport { renderHook, waitFor } from '@testing-library/react';\nimport { useApi } from './useApi';\n\ntest('fetches data successfully', async () => {\n  global.fetch = vi.fn(() =>\n    Promise.resolve({\n      ok: true,\n      json: () => Promise.resolve({ name: 'John' })\n    })\n  ) as any;\n\n  const { result } = renderHook(() => useApi('/api/user'));\n\n  expect(result.current.loading).toBe(true);\n\n  await waitFor(() => {\n    expect(result.current.loading).toBe(false);\n  });\n\n  expect(result.current.data).toEqual({ name: 'John' });\n  expect(result.current.error).toBeNull();\n});\n\ntest('handles error', async () => {\n  global.fetch = vi.fn(() =>\n    Promise.reject(new Error('Network error'))\n  );\n\n  const { result } = renderHook(() => useApi('/api/user'));\n\n  await waitFor(() => {\n    expect(result.current.error).toBeTruthy();\n  });\n\n  expect(result.current.data).toBeUndefined();\n});\n```\n\n## Integration Testing\n\n### With Context\n\n```tsx\nimport { render, screen } from '@testing-library/react';\nimport { AuthProvider } from './AuthContext';\nimport { Dashboard } from './Dashboard';\n\nconst renderWithAuth = (ui: ReactElement, { user = null } = {}) => {\n  return render(\n    <AuthProvider value={{ user }}>\n      {ui}\n    </AuthProvider>\n  );\n};\n\ntest('shows dashboard when authenticated', () => {\n  renderWithAuth(<Dashboard />, { user: { name: 'John' } });\n  expect(screen.getByText('Welcome, John')).toBeInTheDocument();\n});\n\ntest('redirects to login when not authenticated', () => {\n  renderWithAuth(<Dashboard />);\n  expect(screen.queryByText('Welcome')).not.toBeInTheDocument();\n});\n```\n\n### With Router\n\n```tsx\nimport { render, screen } from '@testing-library/react';\nimport { MemoryRouter } from 'react-router-dom';\nimport { App } from './App';\n\ntest('navigates to profile page', async () => {\n  render(\n    <MemoryRouter initialEntries={['/profile']}>\n      <App />\n    </MemoryRouter>\n  );\n\n  expect(screen.getByText('User Profile')).toBeInTheDocument();\n});\n```\n\n## Mocking\n\n### API Mocking\n\n```tsx\nimport { rest } from 'msw';\nimport { setupServer } from 'msw/node';\n\nconst server = setupServer(\n  rest.get('/api/users', (req, res, ctx) => {\n    return res(\n      ctx.json([\n        { id: '1', name: 'John' },\n        { id: '2', name: 'Jane' }\n      ])\n    );\n  })\n);\n\nbeforeAll(() => server.listen());\nafterEach(() => server.resetHandlers());\nafterAll(() => server.close());\n\ntest('displays users from API', async () => {\n  render(<UserList />);\n\n  expect(await screen.findByText('John')).toBeInTheDocument();\n  expect(await screen.findByText('Jane')).toBeInTheDocument();\n});\n```\n\n### Component Mocking\n\n```tsx\nimport { vi } from 'vitest';\n\nvi.mock('./HeavyComponent', () => ({\n  HeavyComponent: () => <div>Mocked Component</div>\n}));\n\ntest('renders page with mocked component', () => {\n  render(<Dashboard />);\n  expect(screen.getByText('Mocked Component')).toBeInTheDocument();\n});\n```\n\n## Accessibility Testing\n\n```tsx\nimport { axe, toHaveNoViolations } from 'jest-axe';\n\nexpect.extend(toHaveNoViolations);\n\ntest('has no accessibility violations', async () => {\n  const { container } = render(<LoginForm onSubmit={vi.fn()} />);\n  const results = await axe(container);\n  expect(results).toHaveNoViolations();\n});\n```\n\n## Best Practices\n\n1. **Use semantic queries**: `getByRole`, `getByLabelText` over `getByTestId`\n2. **Test user behavior**: Click, type, navigate like users do\n3. **Avoid implementation details**: Don't test state or props directly\n4. **Use `findBy` for async**: Automatically waits for elements\n5. **Clean up**: Use `afterEach(cleanup)` to reset DOM\n6. **Mock external dependencies**: APIs, timers, modules\n7. **Test error states**: Loading, error, empty states\n8. **Keep tests focused**: One assertion per test when possible\n9. **Use descriptive test names**: Describe what should happen\n10. **Run tests in CI/CD**: Ensure tests pass before deployment"
              },
              {
                "name": "tailwind-styling",
                "description": "Generate responsive, performant Tailwind CSS styles for React components. Use when styling components, building design systems, or implementing responsive layouts.",
                "path": "plugins/majestic-react/skills/tailwind-styling/SKILL.md",
                "frontmatter": {
                  "name": "tailwind-styling",
                  "description": "Generate responsive, performant Tailwind CSS styles for React components. Use when styling components, building design systems, or implementing responsive layouts.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, WebSearch"
                },
                "content": "# Tailwind CSS for React\n\n## Overview\n\nThis skill provides guidance for styling React components with Tailwind CSS using utility classes, responsive design, and performance best practices.\n\n## Core Philosophy\n\n- **Utility-first**: Compose designs from utility classes\n- **Responsive by default**: Mobile-first breakpoint system\n- **Component extraction**: Extract patterns into reusable components\n- **Performance**: Minimize bundle size with JIT mode\n\n## Common Component Patterns\n\n### Button Variants\n\n```tsx\ninterface ButtonProps {\n  children: ReactNode;\n  variant?: 'primary' | 'secondary' | 'danger';\n  size?: 'sm' | 'md' | 'lg';\n  onClick?: () => void;\n}\n\nexport const Button: FC<ButtonProps> = ({\n  children,\n  variant = 'primary',\n  size = 'md',\n  onClick\n}) => {\n  const baseClasses = 'font-medium rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2';\n\n  const variantClasses = {\n    primary: 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500',\n    secondary: 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-blue-500',\n    danger: 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500'\n  };\n\n  const sizeClasses = {\n    sm: 'px-3 py-1.5 text-sm',\n    md: 'px-4 py-2 text-base',\n    lg: 'px-6 py-3 text-lg'\n  };\n\n  return (\n    <button\n      onClick={onClick}\n      className={`${baseClasses} ${variantClasses[variant]} ${sizeClasses[size]}`}\n    >\n      {children}\n    </button>\n  );\n};\n```\n\n### Card Component\n\n```tsx\nexport const Card: FC<{ title: string; children: ReactNode; footer?: ReactNode }> = ({\n  title,\n  children,\n  footer\n}) => {\n  return (\n    <div className=\"bg-white shadow rounded-lg overflow-hidden\">\n      <div className=\"px-6 py-4 border-b border-gray-200\">\n        <h3 className=\"text-lg font-medium text-gray-900\">{title}</h3>\n      </div>\n      <div className=\"px-6 py-4\">{children}</div>\n      {footer && (\n        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200\">\n          {footer}\n        </div>\n      )}\n    </div>\n  );\n};\n```\n\n### Form Input\n\n```tsx\ninterface InputProps {\n  label: string;\n  error?: string;\n  type?: string;\n  value: string;\n  onChange: (value: string) => void;\n}\n\nexport const Input: FC<InputProps> = ({ label, error, type = 'text', value, onChange }) => {\n  return (\n    <div className=\"space-y-1\">\n      <label className=\"block text-sm font-medium text-gray-700\">{label}</label>\n      <input\n        type={type}\n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        className={`\n          block w-full rounded-md shadow-sm sm:text-sm\n          ${error\n            ? 'border-red-300 text-red-900 placeholder-red-300 focus:border-red-500 focus:ring-red-500'\n            : 'border-gray-300 focus:border-blue-500 focus:ring-blue-500'\n          }\n        `}\n      />\n      {error && <p className=\"text-sm text-red-600\">{error}</p>}\n    </div>\n  );\n};\n```\n\n## Layout Patterns\n\n### Container\n\n```tsx\nexport const Container: FC<{ children: ReactNode }> = ({ children }) => {\n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n      {children}\n    </div>\n  );\n};\n```\n\n### Grid\n\n```tsx\nexport const ProductGrid: FC<{ products: Product[] }> = ({ products }) => {\n  return (\n    <div className=\"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\">\n      {products.map(product => (\n        <ProductCard key={product.id} product={product} />\n      ))}\n    </div>\n  );\n};\n```\n\n### Flexbox Layouts\n\n```tsx\n// Sidebar layout\nexport const SidebarLayout: FC<{ sidebar: ReactNode; children: ReactNode }> = ({\n  sidebar,\n  children\n}) => {\n  return (\n    <div className=\"flex flex-col md:flex-row gap-6\">\n      <aside className=\"w-full md:w-64 flex-shrink-0\">\n        {sidebar}\n      </aside>\n      <main className=\"flex-1\">\n        {children}\n      </main>\n    </div>\n  );\n};\n```\n\n## Responsive Design\n\n### Breakpoints\n\n- `sm:` - 640px\n- `md:` - 768px\n- `lg:` - 1024px\n- `xl:` - 1280px\n- `2xl:` - 1536px\n\n### Mobile-First Pattern\n\n```tsx\n<div className=\"\n  text-base           /* Mobile */\n  sm:text-lg          /* Tablet */\n  lg:text-xl          /* Desktop */\n  xl:text-2xl         /* Large screens */\n\">\n  Responsive text\n</div>\n\n<div className=\"\n  grid grid-cols-1    /* Mobile: 1 column */\n  sm:grid-cols-2      /* Tablet: 2 columns */\n  lg:grid-cols-3      /* Desktop: 3 columns */\n  gap-4\n\">\n  {/* Grid items */}\n</div>\n```\n\n### Show/Hide Based on Screen Size\n\n```tsx\n<div className=\"block md:hidden\">Mobile only</div>\n<div className=\"hidden md:block\">Desktop only</div>\n```\n\n## Dark Mode\n\n### Configuration\n\n```js\n// tailwind.config.js\nmodule.exports = {\n  darkMode: 'class', // or 'media'\n  // ...\n};\n```\n\n### Implementation\n\n```tsx\nexport const ThemeToggle = () => {\n  const [dark, setDark] = useState(false);\n\n  useEffect(() => {\n    if (dark) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  }, [dark]);\n\n  return (\n    <button onClick={() => setDark(!dark)}>\n      Toggle Theme\n    </button>\n  );\n};\n\n// Component with dark mode\n<div className=\"bg-white dark:bg-gray-800 text-gray-900 dark:text-white\">\n  Content\n</div>\n```\n\n## Custom Utilities\n\n### Extend Tailwind Config\n\n```js\n// tailwind.config.js\nmodule.exports = {\n  theme: {\n    extend: {\n      colors: {\n        brand: {\n          50: '#f0f9ff',\n          100: '#e0f2fe',\n          // ... more shades\n          900: '#0c4a6e',\n        }\n      },\n      spacing: {\n        '128': '32rem',\n      },\n      animation: {\n        'fade-in': 'fadeIn 0.3s ease-in',\n      },\n      keyframes: {\n        fadeIn: {\n          '0%': { opacity: '0' },\n          '100%': { opacity: '1' },\n        }\n      }\n    }\n  }\n};\n```\n\n## Component Library Pattern\n\n```tsx\n// components/ui/index.ts\nexport { Button } from './Button';\nexport { Card } from './Card';\nexport { Input } from './Input';\nexport { Badge } from './Badge';\n\n// Usage\nimport { Button, Card } from '@/components/ui';\n```\n\n## Performance Tips\n\n1. **Use JIT mode**: Generates only used classes\n2. **Purge unused CSS**: Configure content paths correctly\n3. **Extract components**: Reduce class duplication\n4. **Use `@apply` sparingly**: Prefer utility classes\n5. **Group utilities**: Use editor plugins for organization\n\n## Best Practices\n\n1. **Follow mobile-first**: Start with mobile, add larger breakpoints\n2. **Use semantic class names**: For extracted components\n3. **Maintain consistency**: Use design tokens from config\n4. **Leverage plugins**: Forms, typography, aspect-ratio\n5. **Group related utilities**: Readability > brevity\n6. **Use arbitrary values sparingly**: `w-[137px]` as last resort\n7. **Implement dark mode**: Plan for it from the start\n8. **Test responsiveness**: Check all breakpoints"
              }
            ]
          },
          {
            "name": "majestic-experts",
            "description": "Expert panel discussion system with 22 curated personas. Includes 2 agents, 1 command, and 22 expert definitions.",
            "source": "./plugins/majestic-experts",
            "category": null,
            "version": "3.1.2",
            "author": {
              "name": "David Paluy",
              "url": "https://github.com/dpaluy",
              "email": "marketplace@it.majesticlabs.dev"
            },
            "install_commands": [
              "/plugin marketplace add majesticlabs-dev/majestic-marketplace",
              "/plugin install majestic-experts@majestic-marketplace"
            ],
            "signals": {
              "stars": 16,
              "forks": 1,
              "pushed_at": "2026-01-12T22:29:39Z",
              "created_at": "2025-11-26T21:43:21Z",
              "license": "NOASSERTION"
            },
            "commands": [
              {
                "name": "/expert-panel",
                "description": "Lead a panel of experts to address difficult questions from multiple perspectives",
                "path": "plugins/majestic-experts/commands/expert-panel.md",
                "frontmatter": {
                  "name": "majestic:expert-panel",
                  "description": "Lead a panel of experts to address difficult questions from multiple perspectives",
                  "allowed-tools": "Read, Grep, Glob, AskUserQuestion, Task, Write",
                  "argument-hint": "[topic or question]"
                },
                "content": "# Expert Panel Discussion Command\n\nAssemble a panel of thought leaders to explore difficult questions. Get consensus findings, divergent viewpoints, and actionable recommendations.\n\n## Usage\n\n```bash\n/expert-panel [topic or question]\n/expert-panel --resume {panel-id}\n/expert-panel --list\n/expert-panel --export {panel-id}\n```\n\n## Process\n\n### Step 1: Parse Input and Handle Flags\n\n#### Flag: --list\n\n1. Glob `.claude/panels/*.json`\n2. For each file, Read and display: `id`, `topic`, `status`, `rounds.length`, `created_at`\n3. Exit after listing\n\n#### Flag: --resume {panel-id}\n\n1. Extract panel ID from arguments\n2. Read `.claude/panels/{panel-id}.json`\n3. If not found: error and exit\n4. Display resume info, then skip to Step 6 with `RESUME_DATA`\n\n#### Flag: --export {panel-id}\n\n1. Read `.claude/panels/{panel-id}.json`\n2. If not found: error and exit\n3. Generate markdown export (see Export section)\n4. Write to `expert-panel-{panel-id}.md` in current directory\n5. Confirm and exit\n\n#### No Flags\n\nIf `$ARGUMENTS` provided, use as topic. Otherwise use AskUserQuestion:\n\n```\nQuestion: \"What topic would you like the expert panel to discuss?\"\nHeader: \"Panel Topic\"\nOptions:\n  - Technical Architecture\n  - Testing Strategy\n  - Business Strategy\n  - Custom topic\nmultiSelect: false\n```\n\n### Step 2: Load Experts & Apply Filters\n\n1. Read `experts/registry.yml`\n2. Check `.agents.yml` for `expert_panel` config:\n\n```yaml\nexpert_panel:\n  enabled_categories: [engineering, product]  # Only these\n  disabled_categories: [business]              # OR exclude these\n  disabled_experts: [peter-thiel]              # Remove individuals\n  custom_experts_path: \"docs/experts/\"         # Add project experts\n```\n\n3. Apply filters: enabled  disabled_categories  disabled_experts  merge custom\n\n### Step 3: Select Experts (3-5)\n\nMatch topic keywords to expert subcategories from registry. Select for:\n- **Relevance:** Subcategories match topic\n- **Diversity:** Different perspectives/schools of thought\n- **Disagreement potential:** Experts known to disagree\n\n### Step 4: Confirm Expert List\n\n```\nAskUserQuestion:\n  Question: \"Suggested experts: [list]. Modify?\"\n  Header: \"Experts\"\n  Options:\n    - Accept suggested experts (Recommended)\n    - Add expert (Custom)\n    - Remove expert (Custom)\n    - Replace list (Custom)\n  multiSelect: false\n```\n\nConstraints: minimum 2, maximum 5 experts.\n\n### Step 5: Confirm Discussion Type\n\nSuggest based on topic:\n- Clear opposing views (\"X vs Y\")  debate\n- Need decision (\"Which...\", \"What's best...\")  consensus-seeking\n- Complex/strategic  deep-dive\n- High stakes, risky, or \"stress test\" keywords  devils-advocate\n- Default  round-table\n\n```\nAskUserQuestion:\n  Question: \"What type of discussion?\"\n  Header: \"Type\"\n  Options:\n    - round-table: Single round, each expert shares their perspective\n    - debate: Opposing camps with rebuttals across 2-3 rounds\n    - consensus-seeking: Iterate until agreement or impasse\n    - deep-dive: Three rounds of progressively deeper exploration\n    - devils-advocate: Experts argue for, then against their positions (stress-testing)\n  multiSelect: false\n```\n\n### Step 6: Launch Orchestrator\n\nGenerate panel ID: `YYYYMMDD-HHMMSS-topic-slug`\n\n**IMPORTANT:** Use the **Task tool** with `subagent_type` parameter. Do NOT use Skill tool.\n\n#### New Discussion:\n\n```\nTool: Task\nsubagent_type: majestic-experts:expert-panel-discussion\ndescription: \"Expert panel on [topic]\"\nprompt: |\n  Mode: new\n  Panel ID: [generated]\n  Topic: [topic]\n  Experts:\n    - name: [Expert]\n      credentials: [from registry]\n      definition: experts/{category}/{name}.md\n  Discussion Type: [confirmed type]\n  Audience: [from .agents.yml tech_stack or \"technical team\"]\n  Save Path: .claude/panels/[panel-id].json\n```\n\n#### Resume Discussion:\n\n```\nTool: Task\nsubagent_type: majestic-experts:expert-panel-discussion\ndescription: \"Resume expert panel [panel-id]\"\nprompt: |\n  Mode: resume\n  Resume Data: [JSON from file]\n  Panel ID: [from file]\n  Save Path: .claude/panels/[panel-id].json\n```\n\n### Step 7: Present Results\n\nShow full synthesis with sections:\n-  **Consensus Findings** (high confidence)\n-  **Divergent Perspectives** (needs judgment)\n-  **Unique Insights**\n-  **Actionable Recommendations**\n\n## Export Format\n\nGenerate markdown with:\n- Header: topic, panel ID, type, date, status\n- Experts consulted with color emoji\n- Each round's responses and key points\n- Analysis: consensus, divergence, unique insights\n- Actionable recommendations with confidence levels\n\nSave to `expert-panel-{panel-id}.md` in current directory.\n\n## Example\n\n```\nUser: /expert-panel Should we migrate from monolith to microservices?\n\n1. Topic: \"monolith to microservices\"\n2. Load registry, apply filters\n3. Select: DHH, Martin Fowler, Rich Hickey (architecture experts, different views)\n4. Confirm experts  accepted\n5. Suggest debate (clear opposing views)  confirmed\n6. Launch orchestrator\n7. Present synthesis with consensus, divergence, recommendations\n```\n\n## Notes\n\n- Unknown experts: Accept and pass to orchestrator (agent uses built-in knowledge)\n- Odd experts in debate: Assign camps as evenly as possible\n- Simple topics: Suggest direct question instead of panel\n\nNow execute based on `$ARGUMENTS`!"
              }
            ],
            "skills": []
          },
          {
            "name": "majestic-devops",
            "description": "Infrastructure as Code and DevOps tools. Includes 2 agents and 11 skills for OpenTofu, Ansible, Hetzner, DigitalOcean, Cloudflare, 1Password CLI, cloud-init, and devops-plan.",
            "source": "./plugins/majestic-devops",
            "category": null,
            "version": "1.3.3",
            "author": {
              "name": "David Paluy",
              "url": "https://github.com/dpaluy",
              "email": "marketplace@it.majesticlabs.dev"
            },
            "install_commands": [
              "/plugin marketplace add majesticlabs-dev/majestic-marketplace",
              "/plugin install majestic-devops@majestic-marketplace"
            ],
            "signals": {
              "stars": 16,
              "forks": 1,
              "pushed_at": "2026-01-12T22:29:39Z",
              "created_at": "2025-11-26T21:43:21Z",
              "license": "NOASSERTION"
            },
            "commands": [],
            "skills": [
              {
                "name": "ansible-coder",
                "description": "This skill guides writing Ansible playbooks for server configuration. Use when hardening servers, installing packages, or automating post-provisioning tasks that cloud-init cannot handle.",
                "path": "plugins/majestic-devops/skills/ansible-coder/SKILL.md",
                "frontmatter": {
                  "name": "ansible-coder",
                  "description": "This skill guides writing Ansible playbooks for server configuration. Use when hardening servers, installing packages, or automating post-provisioning tasks that cloud-init cannot handle.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash"
                },
                "content": "# Ansible Coder\n\n##  SIMPLICITY FIRST - Default to Flat Structure\n\n**ALWAYS start with the simplest approach. Only add complexity when explicitly requested.**\n\n### Simple (DEFAULT) vs Overengineered\n\n| Aspect |  Simple (Default) |  Overengineered |\n|--------|---------------------|-------------------|\n| Playbooks | 1 playbook with inline tasks | Multiple playbooks + custom roles |\n| Roles | Use Galaxy roles (geerlingguy.*) | Write custom roles for simple tasks |\n| Inventory | Single `hosts.ini` | Multiple inventories + group_vars hierarchy |\n| Variables | Inline in playbook or single vars file | Scattered across group_vars/host_vars |\n| File count | ~3-5 files total | 20+ files in nested directories |\n\n### When to Use Simple Approach (90% of cases)\n\n- Setting up 1-5 servers\n- Standard stack (Docker, nginx, fail2ban, ufw)\n- Single environment or identical servers\n- No complex conditional logic per host\n\n### When Complexity is Justified (10% of cases)\n\n- Large fleet with divergent configurations\n- Multi-team requiring role isolation\n- Complex orchestration with dependencies\n- User explicitly requests modular structure\n\n**Rule: If you can fit everything in one 200-line playbook, DO IT.**\n\n## When to Use Ansible vs Cloud-Init\n\n| Use Cloud-Init When | Use Ansible When |\n|---------------------|------------------|\n| First boot only | Re-running config on existing servers |\n| Simple package install | Complex multi-step configuration |\n| Basic user creation | Role-based configuration |\n| Immutable infrastructure | Mutable servers needing updates |\n\n**Rule of thumb:** Cloud-init for initial provisioning, Ansible for ongoing management.\n\n## Directory Structure\n\n### Simple Structure (DEFAULT)\n\n```\ninfra/ansible/\n playbook.yml          # Single playbook with all tasks inline\n requirements.yml      # Galaxy dependencies (geerlingguy.*, etc.)\n hosts.ini             # Inventory (git-ignored)\n hosts.ini.example     # Inventory template\n```\n\n### Complex Structure (only when justified)\n\n```\ninfra/ansible/\n playbook.yml          # Main playbook\n requirements.yml      # Galaxy dependencies\n hosts.ini             # Inventory (git-ignored)\n hosts.ini.example     # Inventory template\n group_vars/\n    all.yml           # Shared variables\n roles/\n     custom_role/\n         tasks/main.yml\n         handlers/main.yml\n         templates/\n```\n\n## Inventory\n\n### Static Inventory\n\n```ini\n# hosts.ini\n[web]\n192.168.1.1 ansible_user=root\n\n[db]\n192.168.1.2 ansible_user=root\n\n[all:vars]\nansible_python_interpreter=/usr/bin/python3\n```\n\n### Dynamic from Terraform\n\n```bash\n# Generate inventory from Terraform output\nSERVER_IP=$(cd infra && tofu output -raw server_ip)\ncat > infra/ansible/hosts.ini << EOF\n[web]\n$SERVER_IP ansible_user=root\nEOF\n```\n\n## Playbook Structure\n\n### Basic Playbook\n\n```yaml\n---\n- name: Configure web servers\n  hosts: web\n  become: true\n\n  vars:\n    timezone: \"UTC\"\n    swap_size_mb: \"2048\"\n\n  tasks:\n    - name: Update apt cache\n      ansible.builtin.apt:\n        update_cache: true\n        cache_valid_time: 3600\n\n    - name: Install packages\n      ansible.builtin.apt:\n        name:\n          - docker.io\n          - fail2ban\n          - ufw\n        state: present\n```\n\n### With Roles\n\n```yaml\n---\n- name: Configure web servers\n  hosts: web\n  become: true\n\n  vars:\n    security_autoupdate_reboot: true\n    security_autoupdate_reboot_time: \"03:00\"\n\n  roles:\n    - role: geerlingguy.swap\n      when: ansible_swaptotal_mb < 1\n    - role: geerlingguy.docker\n    - role: security\n```\n\n## Common Tasks\n\n### Package Management\n\n```yaml\n- name: Install required packages\n  ansible.builtin.apt:\n    name:\n      - curl\n      - ca-certificates\n      - gnupg\n      - fail2ban\n      - ufw\n      - ntp\n    state: present\n    update_cache: true\n```\n\n### Docker Installation\n\n```yaml\n- name: Check if Docker is installed\n  ansible.builtin.command: docker --version\n  register: docker_installed\n  ignore_errors: true\n  changed_when: false\n\n- name: Install Docker via convenience script\n  ansible.builtin.shell: curl -fsSL https://get.docker.com | sh\n  when: docker_installed.rc != 0\n  args:\n    creates: /usr/bin/docker\n\n- name: Ensure Docker is running\n  ansible.builtin.systemd:\n    name: docker\n    state: started\n    enabled: true\n```\n\n### SSH Hardening\n\n```yaml\n- name: Disable SSH password authentication\n  ansible.builtin.lineinfile:\n    path: /etc/ssh/sshd_config\n    regexp: \"^#?PasswordAuthentication\"\n    line: \"PasswordAuthentication no\"\n  notify: Restart ssh\n\n- name: Disable SSH root login with password\n  ansible.builtin.lineinfile:\n    path: /etc/ssh/sshd_config\n    regexp: \"^#?PermitRootLogin\"\n    line: \"PermitRootLogin prohibit-password\"\n  notify: Restart ssh\n\nhandlers:\n  - name: Restart ssh\n    ansible.builtin.systemd:\n      name: ssh  # Ubuntu uses 'ssh', not 'sshd'\n      state: restarted\n```\n\n### Fail2ban\n\n```yaml\n- name: Configure fail2ban for SSH\n  ansible.builtin.copy:\n    dest: /etc/fail2ban/jail.local\n    content: |\n      [sshd]\n      enabled = true\n      port = ssh\n      filter = sshd\n      logpath = /var/log/auth.log\n      maxretry = 5\n      bantime = 3600\n      findtime = 600\n    mode: \"0644\"\n  notify: Restart fail2ban\n\n- name: Ensure fail2ban is running\n  ansible.builtin.systemd:\n    name: fail2ban\n    state: started\n    enabled: true\n\nhandlers:\n  - name: Restart fail2ban\n    ansible.builtin.systemd:\n      name: fail2ban\n      state: restarted\n```\n\n### UFW Firewall\n\n```yaml\n- name: Set UFW default policies\n  community.general.ufw:\n    direction: \"{{ item.direction }}\"\n    policy: \"{{ item.policy }}\"\n  loop:\n    - { direction: incoming, policy: deny }\n    - { direction: outgoing, policy: allow }\n\n- name: Allow specified ports through UFW\n  community.general.ufw:\n    rule: allow\n    port: \"{{ item }}\"\n    proto: tcp\n  loop:\n    - 22   # SSH\n    - 80   # HTTP\n    - 443  # HTTPS\n\n- name: Enable UFW\n  community.general.ufw:\n    state: enabled\n```\n\n### Kernel Tuning\n\n```yaml\n- name: Configure sysctl for performance\n  ansible.posix.sysctl:\n    name: \"{{ item.name }}\"\n    value: \"{{ item.value }}\"\n    state: present\n    reload: true\n  loop:\n    - { name: vm.swappiness, value: \"10\" }\n    - { name: net.core.somaxconn, value: \"65535\" }\n```\n\n### Timezone\n\n```yaml\n- name: Set timezone\n  community.general.timezone:\n    name: \"{{ timezone }}\"\n```\n\n### Remove Snap (Ubuntu bloat)\n\n```yaml\n- name: Remove snapd\n  ansible.builtin.apt:\n    name: snapd\n    state: absent\n    purge: true\n  ignore_errors: true\n\n- name: Remove snap directories\n  ansible.builtin.file:\n    path: \"{{ item }}\"\n    state: absent\n  loop:\n    - /snap\n    - /var/snap\n    - /var/lib/snapd\n```\n\n## Galaxy Dependencies\n\n### requirements.yml\n\n```yaml\n---\nroles:\n  - name: geerlingguy.swap\n    version: 2.0.0\n  - name: geerlingguy.docker\n    version: 7.4.1\n\ncollections:\n  - name: community.general\n  - name: ansible.posix\n```\n\n### Installation\n\n```bash\nansible-galaxy install -r requirements.yml --force\n```\n\n## Running Playbooks\n\n### Basic Execution\n\n```bash\nANSIBLE_HOST_KEY_CHECKING=False ansible-playbook -i hosts.ini playbook.yml\n```\n\n### With Variables\n\n```bash\nansible-playbook -i hosts.ini playbook.yml \\\n  -e \"timezone=Europe/Berlin\" \\\n  -e \"swap_size_mb=4096\"\n```\n\n### Dry Run\n\n```bash\nansible-playbook -i hosts.ini playbook.yml --check --diff\n```\n\n### Limit to Specific Hosts\n\n```bash\nansible-playbook -i hosts.ini playbook.yml --limit web\n```\n\n## Kamal Server Preparation\n\nComplete playbook for Kamal deployment servers (based on [kamal-ansible-manager](https://github.com/guillaumebriday/kamal-ansible-manager)):\n\n```yaml\n---\n- name: Prepare server for Kamal deployment\n  hosts: web\n  become: true\n\n  vars:\n    swap_file_size_mb: \"2048\"\n    timezone: \"UTC\"\n    ufw_allowed_ports: [22, 80, 443]\n\n  roles:\n    - role: geerlingguy.swap\n      when: ansible_swaptotal_mb < 1\n\n  tasks:\n    # System updates\n    - name: Update and upgrade packages\n      ansible.builtin.apt:\n        update_cache: true\n        upgrade: dist\n\n    # Remove bloat\n    - name: Remove snapd\n      ansible.builtin.apt:\n        name: snapd\n        state: absent\n        purge: true\n      ignore_errors: true\n\n    # Essential packages\n    - name: Install required packages\n      ansible.builtin.apt:\n        name: [curl, ca-certificates, fail2ban, ufw, ntp]\n        state: present\n\n    # Docker\n    - name: Install Docker\n      ansible.builtin.shell: curl -fsSL https://get.docker.com | sh\n      args:\n        creates: /usr/bin/docker\n\n    - name: Enable Docker\n      ansible.builtin.systemd:\n        name: docker\n        state: started\n        enabled: true\n\n    # Security\n    - name: Configure fail2ban\n      ansible.builtin.copy:\n        dest: /etc/fail2ban/jail.local\n        content: |\n          [sshd]\n          enabled = true\n          maxretry = 5\n          bantime = 3600\n        mode: \"0644\"\n      notify: Restart fail2ban\n\n    - name: Configure UFW\n      community.general.ufw:\n        rule: allow\n        port: \"{{ item }}\"\n        proto: tcp\n      loop: \"{{ ufw_allowed_ports }}\"\n\n    - name: Enable UFW\n      community.general.ufw:\n        state: enabled\n        policy: deny\n        direction: incoming\n\n    # SSH hardening\n    - name: Harden SSH\n      ansible.builtin.lineinfile:\n        path: /etc/ssh/sshd_config\n        regexp: \"{{ item.regexp }}\"\n        line: \"{{ item.line }}\"\n      loop:\n        - { regexp: \"^#?PasswordAuthentication\", line: \"PasswordAuthentication no\" }\n        - { regexp: \"^#?PermitRootLogin\", line: \"PermitRootLogin prohibit-password\" }\n      notify: Restart ssh\n\n    # Performance\n    - name: Tune kernel\n      ansible.posix.sysctl:\n        name: \"{{ item.name }}\"\n        value: \"{{ item.value }}\"\n        reload: true\n      loop:\n        - { name: vm.swappiness, value: \"10\" }\n        - { name: net.core.somaxconn, value: \"65535\" }\n\n    - name: Set timezone\n      community.general.timezone:\n        name: \"{{ timezone }}\"\n\n  handlers:\n    - name: Restart fail2ban\n      ansible.builtin.systemd:\n        name: fail2ban\n        state: restarted\n\n    - name: Restart ssh\n      ansible.builtin.systemd:\n        name: ssh\n        state: restarted\n```\n\n## Integration with Terraform\n\n### Provision Script Pattern\n\n```bash\n#!/usr/bin/env bash\n# infra/bin/provision\n\n# 1. Terraform creates server\ncd infra && tofu apply\nSERVER_IP=$(tofu output -raw server_ip)\n\n# 2. Wait for SSH\nuntil ssh -o ConnectTimeout=5 root@$SERVER_IP true 2>/dev/null; do\n  sleep 5\ndone\n\n# 3. Generate inventory\necho \"[web]\\n$SERVER_IP ansible_user=root\" > ansible/hosts.ini\n\n# 4. Run Ansible\ncd ansible\nansible-galaxy install -r requirements.yml\nANSIBLE_HOST_KEY_CHECKING=False ansible-playbook -i hosts.ini playbook.yml\n\n# 5. Kamal bootstrap\ncd ../..\nbundle exec kamal server bootstrap\n```\n\n## Troubleshooting\n\n| Issue | Cause | Fix |\n|-------|-------|-----|\n| `ssh: connect refused` | Server not ready | Wait or check firewall |\n| `Permission denied` | Wrong SSH key | Specify with `-i` |\n| `sudo: password required` | User needs NOPASSWD | Use `become_method: sudo` |\n| Handler not running | Task didn't change | Use `changed_when: true` |\n| Module not found | Missing collection | Install from requirements.yml |"
              },
              {
                "name": "backblaze-coder",
                "description": "This skill guides Backblaze B2 Cloud Storage integration with OpenTofu/Terraform and B2 CLI. Use when managing B2 buckets, application keys, file uploads, lifecycle rules, or S3-compatible storage.",
                "path": "plugins/majestic-devops/skills/backblaze-coder/SKILL.md",
                "frontmatter": {
                  "name": "backblaze-coder",
                  "description": "This skill guides Backblaze B2 Cloud Storage integration with OpenTofu/Terraform and B2 CLI. Use when managing B2 buckets, application keys, file uploads, lifecycle rules, or S3-compatible storage.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash"
                },
                "content": "# Backblaze Coder\n\n## Overview\n\nBackblaze B2 is an affordable S3-compatible cloud storage service. This skill covers B2 CLI usage, Terraform provisioning, and S3-compatible API integration.\n\n## B2 CLI Installation\n\n```bash\n# macOS\nbrew install b2-tools\n\n# Linux (Debian/Ubuntu)\nsudo apt install backblaze-b2\n\n# Linux (via pip)\npip install b2\n\n# Verify installation\nb2 version\n```\n\n## CLI Authentication\n\n```bash\n# Authorize with application key (preferred)\nb2 authorize-account <applicationKeyId> <applicationKey>\n\n# Or with 1Password\nb2 authorize-account $(op read \"op://Infrastructure/Backblaze/key_id\") \\\n                     $(op read \"op://Infrastructure/Backblaze/application_key\")\n\n# Credentials stored in ~/.b2_account_info (SQLite)\n# Override with B2_ACCOUNT_INFO env var\n```\n\n**Application Key Capabilities:**\n\n| Capability | Operations |\n|------------|------------|\n| `listBuckets` | List buckets (minimum required) |\n| `listFiles` | List files in bucket |\n| `readFiles` | Download files |\n| `writeFiles` | Upload files |\n| `deleteFiles` | Delete files |\n| `writeBucketRetentions` | Modify retention settings |\n| `readBucketEncryption` | Read encryption settings |\n| `writeBucketEncryption` | Modify encryption settings |\n\n## B2 CLI Operations\n\n### Bucket Management\n\n```bash\n# List buckets\nb2 bucket list\n\n# Create bucket (allPrivate or allPublic)\nb2 bucket create my-bucket allPrivate\n\n# Create with lifecycle rules\nb2 bucket create my-bucket allPrivate \\\n  --lifecycle-rules '[{\"daysFromHidingToDeleting\": 30, \"fileNamePrefix\": \"logs/\"}]'\n\n# Delete bucket (must be empty)\nb2 bucket delete my-bucket\n\n# Update bucket type\nb2 bucket update my-bucket allPrivate\n```\n\n### File Operations\n\n```bash\n# List files in bucket\nb2 ls my-bucket\nb2 ls my-bucket path/to/folder/\n\n# Upload file\nb2 upload-file my-bucket local-file.txt remote/path/file.txt\n\n# Upload with content type\nb2 upload-file --content-type \"application/json\" my-bucket data.json data.json\n\n# Download file\nb2 download-file-by-name my-bucket remote/path/file.txt local-file.txt\n\n# Download by file ID\nb2 download-file-by-id <fileId> local-file.txt\n\n# Delete file\nb2 rm my-bucket path/to/file.txt\n\n# Delete all versions\nb2 rm --recursive --versions my-bucket path/to/folder/\n```\n\n### Sync Operations\n\n```bash\n# Sync local to B2\nb2 sync /local/path b2://my-bucket/prefix/\n\n# Sync B2 to local\nb2 sync b2://my-bucket/prefix/ /local/path\n\n# Sync B2 to B2 (copy between buckets)\nb2 sync b2://source-bucket/ b2://dest-bucket/\n\n# Sync with options\nb2 sync /local/path b2://my-bucket/ \\\n  --threads 20 \\\n  --delete \\\n  --keep-days 30 \\\n  --exclude-regex \".*\\.tmp$\"\n\n# Compare by size and modification time\nb2 sync --compare-versions size /local/path b2://my-bucket/\n```\n\n**Sync Flags:**\n\n| Flag | Description |\n|------|-------------|\n| `--threads N` | Parallel threads (default 10, max 99) |\n| `--delete` | Delete files not in source |\n| `--keep-days N` | Keep old versions for N days |\n| `--replace-newer` | Replace if source is newer |\n| `--skip-newer` | Skip if dest is newer |\n| `--exclude-regex` | Exclude matching files |\n| `--include-regex` | Include only matching files |\n| `--no-progress` | Disable progress (for scripts) |\n\n### Application Keys\n\n```bash\n# List keys\nb2 key list\n\n# Create key with specific capabilities\nb2 key create my-app-key listBuckets,listFiles,readFiles,writeFiles\n\n# Create key restricted to bucket\nb2 key create my-app-key listBuckets,listFiles,readFiles \\\n  --bucket my-bucket \\\n  --name-prefix \"uploads/\"\n\n# Delete key\nb2 key delete <applicationKeyId>\n```\n\n## Terraform Provider\n\n### Provider Setup\n\n```hcl\nterraform {\n  required_providers {\n    b2 = {\n      source  = \"Backblaze/b2\"\n      version = \"~> 0.8\"\n    }\n  }\n}\n\nprovider \"b2\" {\n  # Credentials from environment:\n  # B2_APPLICATION_KEY_ID\n  # B2_APPLICATION_KEY\n}\n```\n\n### Authentication\n\n```bash\n# Set environment variables\nexport B2_APPLICATION_KEY_ID=\"your-key-id\"\nexport B2_APPLICATION_KEY=\"your-application-key\"\n\n# Or with 1Password\nB2_APPLICATION_KEY_ID=op://Infrastructure/Backblaze/key_id\nB2_APPLICATION_KEY=op://Infrastructure/Backblaze/application_key\n```\n\n### Bucket Resource\n\n```hcl\nresource \"b2_bucket\" \"storage\" {\n  bucket_name = \"my-app-storage\"\n  bucket_type = \"allPrivate\"\n\n  bucket_info = {\n    environment = \"production\"\n    application = \"my-app\"\n  }\n\n  lifecycle_rules {\n    file_name_prefix              = \"logs/\"\n    days_from_hiding_to_deleting  = 30\n    days_from_uploading_to_hiding = 90\n  }\n\n  lifecycle_rules {\n    file_name_prefix              = \"temp/\"\n    days_from_hiding_to_deleting  = 1\n    days_from_uploading_to_hiding = 7\n  }\n}\n\noutput \"bucket_id\" {\n  value = b2_bucket.storage.bucket_id\n}\n```\n\n### Bucket with CORS\n\n```hcl\nresource \"b2_bucket\" \"web_assets\" {\n  bucket_name = \"my-web-assets\"\n  bucket_type = \"allPublic\"\n\n  cors_rules {\n    cors_rule_name   = \"allowWebApp\"\n    allowed_origins  = [\"https://myapp.com\", \"https://www.myapp.com\"]\n    allowed_headers  = [\"*\"]\n    allowed_operations = [\"s3_get\", \"s3_head\"]\n    expose_headers   = [\"x-bz-content-sha1\"]\n    max_age_seconds  = 3600\n  }\n}\n```\n\n### Bucket with Encryption\n\n```hcl\nresource \"b2_bucket\" \"encrypted\" {\n  bucket_name = \"my-encrypted-bucket\"\n  bucket_type = \"allPrivate\"\n\n  default_server_side_encryption {\n    mode      = \"SSE-B2\"\n    algorithm = \"AES256\"\n  }\n}\n```\n\n### Bucket with File Lock (Immutable)\n\n```hcl\nresource \"b2_bucket\" \"compliance\" {\n  bucket_name = \"compliance-records\"\n  bucket_type = \"allPrivate\"\n\n  file_lock_configuration {\n    is_file_lock_enabled = true\n\n    default_retention {\n      mode = \"governance\"\n      period {\n        duration = 365\n        unit     = \"days\"\n      }\n    }\n  }\n}\n```\n\n### Application Key Resource\n\n```hcl\nresource \"b2_application_key\" \"app\" {\n  key_name     = \"my-app-key\"\n  capabilities = [\"listBuckets\", \"listFiles\", \"readFiles\", \"writeFiles\"]\n  bucket_id    = b2_bucket.storage.bucket_id\n  name_prefix  = \"uploads/\"\n}\n\noutput \"application_key_id\" {\n  value = b2_application_key.app.application_key_id\n}\n\noutput \"application_key\" {\n  value     = b2_application_key.app.application_key\n  sensitive = true\n}\n```\n\n### Data Sources\n\n```hcl\n# Get account info\ndata \"b2_account_info\" \"current\" {}\n\noutput \"account_id\" {\n  value = data.b2_account_info.current.account_id\n}\n\n# Get bucket by name\ndata \"b2_bucket\" \"existing\" {\n  bucket_name = \"my-existing-bucket\"\n}\n\noutput \"bucket_id\" {\n  value = data.b2_bucket.existing.bucket_id\n}\n```\n\n### Upload File\n\n```hcl\nresource \"b2_bucket_file\" \"config\" {\n  bucket_id    = b2_bucket.storage.bucket_id\n  file_name    = \"config/settings.json\"\n  source       = \"${path.module}/files/settings.json\"\n  content_type = \"application/json\"\n}\n\n# Upload with file info metadata\nresource \"b2_bucket_file\" \"data\" {\n  bucket_id = b2_bucket.storage.bucket_id\n  file_name = \"data/export.csv\"\n  source    = \"${path.module}/files/export.csv\"\n\n  file_info = {\n    exported_at = timestamp()\n    version     = \"1.0\"\n  }\n}\n```\n\n## S3-Compatible API\n\nBackblaze B2 supports S3-compatible API endpoints for tools like AWS CLI, rclone, and S3 SDKs.\n\n### S3 Endpoint\n\n```bash\n# Format: s3.<region>.backblazeb2.com\n# Example regions: us-west-004, us-west-002, eu-central-003\n\n# Get your endpoint from B2 console or:\nb2 get-account-info\n```\n\n### AWS CLI Configuration\n\n```bash\n# Configure AWS CLI for B2\naws configure --profile backblaze\n\n# Enter:\n# AWS Access Key ID: Your B2 applicationKeyId\n# AWS Secret Access Key: Your B2 applicationKey\n# Default region name: us-west-004\n# Default output format: json\n```\n\n```ini\n# ~/.aws/config\n[profile backblaze]\nregion = us-west-004\noutput = json\n\n# ~/.aws/credentials\n[backblaze]\naws_access_key_id = your-key-id\naws_secret_access_key = your-application-key\n```\n\n### AWS CLI Usage\n\n```bash\n# List buckets\naws --profile backblaze --endpoint-url https://s3.us-west-004.backblazeb2.com s3 ls\n\n# List objects\naws --profile backblaze --endpoint-url https://s3.us-west-004.backblazeb2.com \\\n  s3 ls s3://my-bucket/\n\n# Upload file\naws --profile backblaze --endpoint-url https://s3.us-west-004.backblazeb2.com \\\n  s3 cp local-file.txt s3://my-bucket/path/file.txt\n\n# Sync directory\naws --profile backblaze --endpoint-url https://s3.us-west-004.backblazeb2.com \\\n  s3 sync /local/path s3://my-bucket/prefix/\n```\n\n### Rclone Configuration\n\n```ini\n# ~/.config/rclone/rclone.conf\n[backblaze]\ntype = b2\naccount = your-key-id\nkey = your-application-key\nendpoint = s3.us-west-004.backblazeb2.com\n```\n\n```bash\n# List buckets\nrclone lsd backblaze:\n\n# Sync\nrclone sync /local/path backblaze:my-bucket/prefix/\n\n# Copy with progress\nrclone copy -P /local/path backblaze:my-bucket/\n```\n\n## Complete Production Setup\n\nSee [resources/production-setup.md](resources/production-setup.md) for a complete production setup with storage buckets, backup bucket with retention, public assets bucket, and application keys.\n\n## Makefile Automation\n\n```makefile\n# B2 sync targets\n.PHONY: b2-sync-up b2-sync-down b2-backup\n\nB2_BUCKET ?= my-bucket\nB2_PREFIX ?= data/\nLOCAL_PATH ?= ./data\n\nb2-sync-up:\n\tb2 sync --threads 20 $(LOCAL_PATH) b2://$(B2_BUCKET)/$(B2_PREFIX)\n\nb2-sync-down:\n\tb2 sync --threads 20 b2://$(B2_BUCKET)/$(B2_PREFIX) $(LOCAL_PATH)\n\nb2-backup:\n\tb2 sync --threads 20 --keep-days 30 \\\n\t\t$(LOCAL_PATH) b2://$(B2_BUCKET)/backups/$(shell date +%Y-%m-%d)/\n```\n\n## Cost Optimization\n\n- **Use lifecycle rules** - Auto-delete temp files and old versions\n- **Optimize threads** - Tune based on network/CPU (default 10, max 99)\n- **Prefer Native API** - B2 CLI is more efficient than S3-compatible for large syncs\n- **Monitor storage** - Versioned files count toward storage (old versions charged)\n- **Auto-cancel large uploads** - Enable via lifecycle to prevent \"zombie\" upload costs\n- **Use application keys** - Scoped keys prevent accidental operations on wrong buckets\n\n## Best Practices\n\n- **Application keys over master key** - Limit scope and capabilities\n- **Enable encryption** - Use SSE-B2 for at-rest encryption\n- **Lifecycle rules** - Auto-manage temporary and old files\n- **Versioning strategy** - Enable for backups, consider costs for large datasets\n- **S3 compatibility** - Use for existing S3 tools, prefer native API for performance\n- **Terraform state** - Store in separate bucket with file lock for compliance"
              },
              {
                "name": "cloud-init-coder",
                "description": "This skill guides writing cloud-init configurations for VM provisioning. Use when creating user_data blocks in Terraform/OpenTofu, or cloud-init YAML for AWS, DigitalOcean, GCP, or Azure instances.",
                "path": "plugins/majestic-devops/skills/cloud-init-coder/SKILL.md",
                "frontmatter": {
                  "name": "cloud-init-coder",
                  "description": "This skill guides writing cloud-init configurations for VM provisioning. Use when creating user_data blocks in Terraform/OpenTofu, or cloud-init YAML for AWS, DigitalOcean, GCP, or Azure instances.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob"
                },
                "content": "# Cloud-Init Coder\n\n## Overview\n\nCloud-init is the industry standard for cross-platform cloud instance initialization. It runs on first boot to configure users, packages, files, and services before the instance becomes available.\n\n## Core Format\n\nCloud-init configs start with `#cloud-config`:\n\n```yaml\n#cloud-config\npackage_update: true\npackages:\n  - nginx\n  - docker.io\n```\n\n## User Management\n\n### Create Deploy User\n\n```yaml\n#cloud-config\nusers:\n  - name: deploy\n    groups: docker, sudo\n    sudo: ALL=(ALL) NOPASSWD:ALL\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ssh-ed25519 AAAA... deploy@example.com\n```\n\n### Multiple Users\n\n```yaml\n#cloud-config\nusers:\n  - default  # Keep cloud provider's default user\n  - name: deploy\n    groups: docker\n    sudo: ALL=(ALL) NOPASSWD:ALL\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ssh-ed25519 AAAA... key1\n  - name: monitoring\n    groups: adm\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ssh-ed25519 AAAA... monitoring-key\n```\n\n## Package Installation\n\n### Basic Packages\n\n```yaml\n#cloud-config\npackage_update: true\npackage_upgrade: true\npackages:\n  - docker.io\n  - docker-compose-plugin\n  - nginx\n  - certbot\n  - python3-certbot-nginx\n  - fail2ban\n  - ufw\n```\n\n### From Custom Repositories\n\n```yaml\n#cloud-config\napt:\n  sources:\n    docker:\n      source: \"deb [arch=amd64] https://download.docker.com/linux/ubuntu $RELEASE stable\"\n      keyid: 9DC858229FC7DD38854AE2D88D81803C0EBFCD88\n\npackages:\n  - docker-ce\n  - docker-ce-cli\n  - containerd.io\n```\n\n## SSH Hardening\n\n### Declarative SSH Lockdown\n\nPrefer declarative `ssh_pwauth: false` over runcmd sed commands:\n\n```yaml\n#cloud-config\nssh_pwauth: false  # Disable password auth at cloud-init level\n\nruncmd:\n  # Additional hardening via sshd_config\n  - sed -i 's/^#\\?PermitRootLogin.*/PermitRootLogin prohibit-password/' /etc/ssh/sshd_config\n  - systemctl restart sshd\n```\n\n### Full SSH Hardening\n\n```yaml\n#cloud-config\nssh_pwauth: false  # Declarative - cleaner than sed\n\nruncmd:\n  # Disable root login (or use prohibit-password for key-only root)\n  - sed -i 's/^#\\?PermitRootLogin.*/PermitRootLogin no/' /etc/ssh/sshd_config\n  - sed -i 's/^PermitRootLogin yes/PermitRootLogin no/' /etc/ssh/sshd_config\n\n  # Disable password authentication (backup for ssh_pwauth)\n  - sed -i 's/^#\\?PasswordAuthentication.*/PasswordAuthentication no/' /etc/ssh/sshd_config\n\n  # Increase keepalive for stable connections\n  - sed -i 's/^#\\?ClientAliveInterval.*/ClientAliveInterval 60/' /etc/ssh/sshd_config\n  - sed -i 's/^#\\?ClientAliveCountMax.*/ClientAliveCountMax 10/' /etc/ssh/sshd_config\n\n  # Restart SSH\n  - systemctl restart sshd\n```\n\n## Docker Setup\n\n### Docker with Compose\n\n```yaml\n#cloud-config\npackage_update: true\npackages:\n  - docker.io\n  - docker-compose-plugin\n\ngroups:\n  - docker\n\nusers:\n  - name: deploy\n    groups: docker\n    sudo: ALL=(ALL) NOPASSWD:ALL\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ssh-ed25519 AAAA...\n\nruncmd:\n  - systemctl enable --now docker\n  - usermod -aG docker deploy\n```\n\n### Docker with Custom Daemon Config\n\n```yaml\n#cloud-config\nwrite_files:\n  - path: /etc/docker/daemon.json\n    content: |\n      {\n        \"log-driver\": \"json-file\",\n        \"log-opts\": {\n          \"max-size\": \"10m\",\n          \"max-file\": \"3\"\n        },\n        \"storage-driver\": \"overlay2\"\n      }\n\nruncmd:\n  - systemctl enable --now docker\n```\n\n## File Creation\n\n### Write Configuration Files\n\n```yaml\n#cloud-config\nwrite_files:\n  - path: /etc/nginx/sites-available/app\n    content: |\n      server {\n          listen 80;\n          server_name example.com;\n          location / {\n              proxy_pass http://127.0.0.1:3000;\n              proxy_set_header Host $host;\n              proxy_set_header X-Real-IP $remote_addr;\n          }\n      }\n    owner: root:root\n    permissions: '0644'\n\n  - path: /opt/app/.env\n    content: |\n      RAILS_ENV=production\n      PORT=3000\n    owner: deploy:deploy\n    permissions: '0600'\n```\n\n### Download Files\n\n```yaml\n#cloud-config\nruncmd:\n  - curl -fsSL https://example.com/setup.sh -o /opt/setup.sh\n  - chmod +x /opt/setup.sh\n  - /opt/setup.sh\n```\n\n## Service Configuration\n\n### Enable and Start Services\n\n```yaml\n#cloud-config\nruncmd:\n  - systemctl enable --now docker\n  - systemctl enable --now nginx\n  - systemctl enable --now fail2ban\n```\n\n### Systemd Service Creation\n\n```yaml\n#cloud-config\nwrite_files:\n  - path: /etc/systemd/system/myapp.service\n    content: |\n      [Unit]\n      Description=My Application\n      After=network.target docker.service\n      Requires=docker.service\n\n      [Service]\n      Type=simple\n      User=deploy\n      WorkingDirectory=/opt/app\n      ExecStart=/usr/bin/docker compose up\n      ExecStop=/usr/bin/docker compose down\n      Restart=always\n      RestartSec=10\n\n      [Install]\n      WantedBy=multi-user.target\n\nruncmd:\n  - systemctl daemon-reload\n  - systemctl enable --now myapp\n```\n\n## Firewall Configuration\n\n### UFW Setup\n\n```yaml\n#cloud-config\npackages:\n  - ufw\n\nruncmd:\n  - ufw default deny incoming\n  - ufw default allow outgoing\n  - ufw allow ssh\n  - ufw allow http\n  - ufw allow https\n  - ufw --force enable\n```\n\n## Terraform/OpenTofu Integration\n\n### Inline User Data\n\n```hcl\nresource \"digitalocean_droplet\" \"app\" {\n  name   = \"app-server\"\n  image  = \"ubuntu-22-04-x64\"\n  size   = \"s-1vcpu-1gb\"\n  region = \"nyc1\"\n\n  user_data = <<-EOT\n    #cloud-config\n    package_update: true\n    packages:\n      - docker.io\n      - docker-compose-plugin\n    users:\n      - name: deploy\n        groups: docker\n        sudo: ALL=(ALL) NOPASSWD:ALL\n        shell: /bin/bash\n        ssh_authorized_keys:\n          - ${var.deploy_ssh_key}\n    runcmd:\n      - systemctl enable --now docker\n  EOT\n}\n```\n\n### Template File\n\n```hcl\n# templates/cloud-init.yaml\n#cloud-config\npackage_update: true\npackages:\n  - docker.io\nusers:\n  - name: ${username}\n    groups: docker\n    ssh_authorized_keys:\n      - ${ssh_key}\n\n# main.tf\nresource \"digitalocean_droplet\" \"app\" {\n  user_data = templatefile(\"${path.module}/templates/cloud-init.yaml\", {\n    username = var.deploy_user\n    ssh_key  = var.deploy_ssh_key\n  })\n}\n```\n\n## Complete Production Example\n\n```yaml\n#cloud-config\npackage_update: true\npackage_upgrade: true\n\npackages:\n  - docker.io\n  - docker-compose-plugin\n  - fail2ban\n  - ufw\n  - unattended-upgrades\n\ngroups:\n  - docker\n\nusers:\n  - name: deploy\n    groups: docker, sudo\n    sudo: ALL=(ALL) NOPASSWD:ALL\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ssh-ed25519 AAAA... deploy-key\n\nwrite_files:\n  - path: /etc/docker/daemon.json\n    content: |\n      {\n        \"log-driver\": \"json-file\",\n        \"log-opts\": { \"max-size\": \"10m\", \"max-file\": \"3\" }\n      }\n\n  - path: /etc/fail2ban/jail.local\n    content: |\n      [sshd]\n      enabled = true\n      port = ssh\n      filter = sshd\n      maxretry = 3\n      bantime = 3600\n\nruncmd:\n  # Docker\n  - systemctl enable --now docker\n\n  # SSH hardening\n  - sed -i 's/^#\\?PermitRootLogin.*/PermitRootLogin no/' /etc/ssh/sshd_config\n  - sed -i 's/^#\\?PasswordAuthentication.*/PasswordAuthentication no/' /etc/ssh/sshd_config\n  - sed -i 's/^#\\?ClientAliveInterval.*/ClientAliveInterval 60/' /etc/ssh/sshd_config\n  - sed -i 's/^#\\?ClientAliveCountMax.*/ClientAliveCountMax 10/' /etc/ssh/sshd_config\n  - systemctl restart sshd\n\n  # Firewall\n  - ufw default deny incoming\n  - ufw default allow outgoing\n  - ufw allow ssh\n  - ufw allow http\n  - ufw allow https\n  - ufw --force enable\n\n  # Fail2ban\n  - systemctl enable --now fail2ban\n\n  # Auto-updates\n  - systemctl enable --now unattended-upgrades\n\nfinal_message: \"Cloud-init completed after $UPTIME seconds\"\n```\n\n## Server Tuning\n\n### Performance and Cleanup\n\n```yaml\n#cloud-config\nruncmd:\n  # Reduce swap usage (better for databases/apps with their own memory management)\n  - |\n    if ! grep -q \"vm.swappiness=10\" /etc/sysctl.conf; then\n      echo \"vm.swappiness=10\" >> /etc/sysctl.conf\n      sysctl -p\n    fi\n\n  # Set timezone\n  - timedatectl set-timezone UTC  # Or: Europe/Berlin, America/New_York\n\n  # Cleanup\n  - apt-get autoremove -y\n  - apt-get clean\n```\n\n### Swappiness Values\n\n| Value | Behavior |\n|-------|----------|\n| `0` | Only swap to avoid OOM |\n| `10` | Minimal swapping (recommended for apps) |\n| `60` | Default Ubuntu |\n| `100` | Aggressive swapping |\n\n## Debugging\n\n### Check Cloud-Init Status\n\n```bash\n# View cloud-init status\ncloud-init status\n\n# View cloud-init logs\ncat /var/log/cloud-init.log\ncat /var/log/cloud-init-output.log\n\n# Re-run cloud-init (for testing)\nsudo cloud-init clean\nsudo cloud-init init\n```\n\n### Common Issues\n\n| Issue | Cause | Fix |\n|-------|-------|-----|\n| YAML parse error | Indentation wrong | Use 2-space indent, validate YAML |\n| User not created | Missing `users:` key | Ensure `users:` is at root level |\n| Packages not installed | `package_update: false` | Set `package_update: true` |\n| SSH key rejected | Wrong key format | Use full public key string |\n| Service not starting | Order dependency | Use `After=` in systemd unit |"
              },
              {
                "name": "cloudflare-coder",
                "description": "This skill guides provisioning Cloudflare infrastructure with OpenTofu/Terraform. Use when managing zones, DNS records, WAF rules, SSL settings, Page Rules, or cache configuration.",
                "path": "plugins/majestic-devops/skills/cloudflare-coder/SKILL.md",
                "frontmatter": {
                  "name": "cloudflare-coder",
                  "description": "This skill guides provisioning Cloudflare infrastructure with OpenTofu/Terraform. Use when managing zones, DNS records, WAF rules, SSL settings, Page Rules, or cache configuration.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash"
                },
                "content": "# Cloudflare Coder\n\n## Overview\n\nCloudflare provides CDN, DNS, security, and edge computing services. This skill covers OpenTofu/Terraform patterns for Cloudflare resources.\n\n## Provider Setup\n\n```hcl\nterraform {\n  required_providers {\n    cloudflare = {\n      source  = \"cloudflare/cloudflare\"\n      version = \"~> 4.0\"\n    }\n  }\n}\n\nprovider \"cloudflare\" {\n  # API Token from environment: CLOUDFLARE_API_TOKEN\n  # Or explicitly (not recommended):\n  # api_token = var.cloudflare_api_token\n}\n```\n\n### Authentication\n\n```bash\n# Preferred: API Token (scoped permissions)\nexport CLOUDFLARE_API_TOKEN=\"your-api-token\"\n\n# Or with 1Password\nCLOUDFLARE_API_TOKEN=op://Infrastructure/Cloudflare/api_token\n\n# Legacy: Global API Key (full access - avoid if possible)\nexport CLOUDFLARE_API_KEY=\"your-global-api-key\"\nexport CLOUDFLARE_EMAIL=\"your-email@example.com\"\n```\n\n**API Token Permissions (minimum required):**\n\n| Resource | Permission | Use Case |\n|----------|------------|----------|\n| Zone | Read | List zones, read settings |\n| Zone | Edit | Modify zone settings |\n| DNS | Edit | Manage DNS records |\n| Firewall | Edit | WAF, firewall rules |\n| SSL | Edit | Certificate management |\n| Cache | Purge | Cache invalidation |\n\n## Data Sources\n\n### Get Zone by Name\n\n```hcl\ndata \"cloudflare_zone\" \"main\" {\n  name = \"example.com\"\n}\n\n# Use in resources\nresource \"cloudflare_record\" \"www\" {\n  zone_id = data.cloudflare_zone.main.id\n  # ...\n}\n```\n\n### Get Account ID\n\n```hcl\ndata \"cloudflare_accounts\" \"main\" {\n  name = \"My Account\"\n}\n\noutput \"account_id\" {\n  value = data.cloudflare_accounts.main.accounts[0].id\n}\n```\n\n## DNS Records\n\n### Basic Records\n\n```hcl\n# A Record\nresource \"cloudflare_record\" \"root\" {\n  zone_id = data.cloudflare_zone.main.id\n  name    = \"@\"\n  type    = \"A\"\n  content = var.server_ip\n  ttl     = 1  # 1 = automatic\n  proxied = true\n}\n\n# CNAME Record\nresource \"cloudflare_record\" \"www\" {\n  zone_id = data.cloudflare_zone.main.id\n  name    = \"www\"\n  type    = \"CNAME\"\n  content = \"@\"\n  ttl     = 1\n  proxied = true\n}\n\n# MX Records\nresource \"cloudflare_record\" \"mx_primary\" {\n  zone_id  = data.cloudflare_zone.main.id\n  name     = \"@\"\n  type     = \"MX\"\n  content  = \"mail.example.com\"\n  ttl      = 3600\n  priority = 10\n  proxied  = false  # MX cannot be proxied\n}\n\n# TXT Record (SPF)\nresource \"cloudflare_record\" \"spf\" {\n  zone_id = data.cloudflare_zone.main.id\n  name    = \"@\"\n  type    = \"TXT\"\n  content = \"v=spf1 include:_spf.google.com ~all\"\n  ttl     = 3600\n}\n```\n\n### DNS Records with for_each\n\n```hcl\nlocals {\n  dns_records = {\n    api = {\n      type    = \"A\"\n      content = var.api_server_ip\n      proxied = true\n    }\n    staging = {\n      type    = \"A\"\n      content = var.staging_server_ip\n      proxied = true\n    }\n    mail = {\n      type    = \"A\"\n      content = var.mail_server_ip\n      proxied = false\n    }\n  }\n}\n\nresource \"cloudflare_record\" \"subdomain\" {\n  for_each = local.dns_records\n\n  zone_id = data.cloudflare_zone.main.id\n  name    = each.key\n  type    = each.value.type\n  content = each.value.content\n  ttl     = 1\n  proxied = each.value.proxied\n}\n```\n\n## SSL/TLS Settings\n\n### Zone SSL Settings\n\n```hcl\nresource \"cloudflare_zone_settings_override\" \"ssl\" {\n  zone_id = data.cloudflare_zone.main.id\n\n  settings {\n    # SSL mode: off, flexible, full, strict (recommended)\n    ssl = \"strict\"\n\n    # Minimum TLS version\n    min_tls_version = \"1.2\"\n\n    # Always use HTTPS\n    always_use_https = \"on\"\n\n    # Automatic HTTPS Rewrites\n    automatic_https_rewrites = \"on\"\n\n    # HTTP Strict Transport Security\n    security_header {\n      enabled            = true\n      max_age            = 31536000  # 1 year\n      include_subdomains = true\n      preload            = true\n      nosniff            = true\n    }\n\n    # TLS 1.3\n    tls_1_3 = \"on\"\n\n    # Opportunistic Encryption\n    opportunistic_encryption = \"on\"\n  }\n}\n```\n\n### Origin Certificates\n\n```hcl\nresource \"cloudflare_origin_ca_certificate\" \"origin\" {\n  csr                = tls_cert_request.origin.cert_request_pem\n  hostnames          = [\"example.com\", \"*.example.com\"]\n  request_type       = \"origin-rsa\"\n  requested_validity = 5475  # 15 years (max)\n}\n\n# Generate private key and CSR\nresource \"tls_private_key\" \"origin\" {\n  algorithm = \"RSA\"\n  rsa_bits  = 2048\n}\n\nresource \"tls_cert_request\" \"origin\" {\n  private_key_pem = tls_private_key.origin.private_key_pem\n\n  subject {\n    common_name  = \"example.com\"\n    organization = \"Example Inc\"\n  }\n}\n\noutput \"origin_certificate\" {\n  value     = cloudflare_origin_ca_certificate.origin.certificate\n  sensitive = true\n}\n```\n\n## Firewall & WAF\n\nSee [resources/waf.md](resources/waf.md) for IP access rules, WAF custom rules with rate limiting, and managed rulesets (Cloudflare + OWASP).\n\n## Cache Rules\n\n### Modern Cache Rules (Rulesets)\n\n```hcl\nresource \"cloudflare_ruleset\" \"cache\" {\n  zone_id     = data.cloudflare_zone.main.id\n  name        = \"Cache Rules\"\n  description = \"Caching configuration\"\n  kind        = \"zone\"\n  phase       = \"http_request_cache_settings\"\n\n  # Cache static assets aggressively\n  rules {\n    action = \"set_cache_settings\"\n    action_parameters {\n      cache = true\n      edge_ttl {\n        mode    = \"override_origin\"\n        default = 2592000  # 30 days\n      }\n      browser_ttl {\n        mode    = \"override_origin\"\n        default = 86400  # 1 day\n      }\n    }\n    expression  = \"(http.request.uri.path.extension in {\\\"css\\\" \\\"js\\\" \\\"jpg\\\" \\\"jpeg\\\" \\\"png\\\" \\\"gif\\\" \\\"svg\\\" \\\"woff\\\" \\\"woff2\\\"})\"\n    description = \"Cache static assets\"\n    enabled     = true\n  }\n\n  # Bypass cache for API\n  rules {\n    action = \"set_cache_settings\"\n    action_parameters {\n      cache = false\n    }\n    expression  = \"(starts_with(http.request.uri.path, \\\"/api/\\\"))\"\n    description = \"Bypass cache for API\"\n    enabled     = true\n  }\n\n  # Bypass cache for admin\n  rules {\n    action = \"set_cache_settings\"\n    action_parameters {\n      cache = false\n    }\n    expression  = \"(starts_with(http.request.uri.path, \\\"/admin\\\"))\"\n    description = \"Bypass cache for admin\"\n    enabled     = true\n  }\n}\n```\n\n### Legacy Page Rules\n\n```hcl\n# Cache everything for static paths\nresource \"cloudflare_page_rule\" \"cache_static\" {\n  zone_id  = data.cloudflare_zone.main.id\n  target   = \"example.com/assets/*\"\n  priority = 1\n\n  actions {\n    cache_level = \"cache_everything\"\n    edge_cache_ttl = 2592000  # 30 days\n  }\n}\n\n# Bypass cache for API\nresource \"cloudflare_page_rule\" \"bypass_api\" {\n  zone_id  = data.cloudflare_zone.main.id\n  target   = \"example.com/api/*\"\n  priority = 2\n\n  actions {\n    cache_level = \"bypass\"\n  }\n}\n\n# Force HTTPS\nresource \"cloudflare_page_rule\" \"force_https\" {\n  zone_id  = data.cloudflare_zone.main.id\n  target   = \"http://example.com/*\"\n  priority = 3\n\n  actions {\n    always_use_https = true\n  }\n}\n```\n\n## Redirect Rules\n\n```hcl\nresource \"cloudflare_ruleset\" \"redirects\" {\n  zone_id     = data.cloudflare_zone.main.id\n  name        = \"Redirects\"\n  description = \"URL redirects\"\n  kind        = \"zone\"\n  phase       = \"http_request_dynamic_redirect\"\n\n  # www to apex redirect\n  rules {\n    action = \"redirect\"\n    action_parameters {\n      from_value {\n        status_code = 301\n        target_url {\n          expression = \"concat(\\\"https://example.com\\\", http.request.uri.path)\"\n        }\n        preserve_query_string = true\n      }\n    }\n    expression  = \"(http.host eq \\\"www.example.com\\\")\"\n    description = \"Redirect www to apex\"\n    enabled     = true\n  }\n\n  # Old URL to new URL\n  rules {\n    action = \"redirect\"\n    action_parameters {\n      from_value {\n        status_code = 301\n        target_url {\n          value = \"https://example.com/new-page\"\n        }\n      }\n    }\n    expression  = \"(http.request.uri.path eq \\\"/old-page\\\")\"\n    description = \"Redirect old page to new\"\n    enabled     = true\n  }\n}\n```\n\n## Zone Settings\n\n### Performance Settings\n\n```hcl\nresource \"cloudflare_zone_settings_override\" \"performance\" {\n  zone_id = data.cloudflare_zone.main.id\n\n  settings {\n    # Compression\n    brotli = \"on\"\n\n    # Speed optimizations\n    minify {\n      css  = \"on\"\n      html = \"on\"\n      js   = \"on\"\n    }\n\n    # Early Hints\n    early_hints = \"on\"\n\n    # HTTP/2 and HTTP/3\n    http2 = \"on\"\n    http3 = \"on\"\n\n    # 0-RTT\n    zero_rtt = \"on\"\n\n    # Rocket Loader (async JS loading)\n    rocket_loader = \"on\"\n\n    # Image optimization (requires Pro+)\n    # polish = \"lossless\"\n    # mirage = \"on\"\n\n    # Mobile redirect (if needed)\n    # mobile_redirect {\n    #   mobile_subdomain = \"m\"\n    #   status           = \"on\"\n    #   strip_uri        = false\n    # }\n  }\n}\n```\n\n### Security Settings\n\n```hcl\nresource \"cloudflare_zone_settings_override\" \"security\" {\n  zone_id = data.cloudflare_zone.main.id\n\n  settings {\n    # Security level: off, essentially_off, low, medium, high, under_attack\n    security_level = \"medium\"\n\n    # Challenge Passage TTL\n    challenge_ttl = 1800\n\n    # Browser Integrity Check\n    browser_check = \"on\"\n\n    # Email Obfuscation\n    email_obfuscation = \"on\"\n\n    # Server Side Excludes\n    server_side_exclude = \"on\"\n\n    # Hotlink Protection\n    hotlink_protection = \"on\"\n\n    # IP Geolocation\n    ip_geolocation = \"on\"\n  }\n}\n```\n\n## Argo & Load Balancing\n\nSee [resources/load-balancer.md](resources/load-balancer.md) for Argo Smart Routing and Load Balancer configuration with origin pools, health checks, and session affinity.\n\n## Workers Routes\n\n```hcl\n# Deploy Worker via Terraform (see wrangler-coder for full Worker management)\nresource \"cloudflare_worker_route\" \"api\" {\n  zone_id     = data.cloudflare_zone.main.id\n  pattern     = \"example.com/api/*\"\n  script_name = cloudflare_worker_script.api.name\n}\n\nresource \"cloudflare_worker_script\" \"api\" {\n  account_id = var.cloudflare_account_id\n  name       = \"api-worker\"\n  content    = file(\"${path.module}/workers/api.js\")\n  module     = true\n\n  plain_text_binding {\n    name = \"ENVIRONMENT\"\n    text = var.environment\n  }\n\n  secret_text_binding {\n    name = \"API_KEY\"\n    text = var.api_key\n  }\n}\n```\n\n## Complete Production Zone\n\nSee [resources/production-zone.md](resources/production-zone.md) for a complete Terraform configuration with DNS, SSL/TLS, WAF, caching, redirects, and variables template.\n\n## Best Practices\n\n- **Use API Tokens** - Scoped permissions over global API key\n- **Enable Strict SSL** - Always use Full (Strict) mode with valid origin certs\n- **Use Rulesets** - Modern rulesets over legacy Page Rules\n- **Cache Strategically** - Static assets cached, dynamic bypassed\n- **Rate Limit APIs** - Protect endpoints from abuse\n- **Enable WAF** - Deploy managed rulesets as baseline\n- **HSTS Preload** - Add to browser preload list for max security\n- **Terraform State** - Store state securely, not in version control"
              },
              {
                "name": "devops-plan",
                "description": "Gather DevOps context for infrastructure planning. Detects IaC tools, providers, and recommends skills. Use when /majestic:plan detects infrastructure work.",
                "path": "plugins/majestic-devops/skills/devops-plan/SKILL.md",
                "frontmatter": {
                  "name": "devops-plan",
                  "description": "Gather DevOps context for infrastructure planning. Detects IaC tools, providers, and recommends skills. Use when /majestic:plan detects infrastructure work.",
                  "allowed-tools": "Read, Grep, Glob, Bash, Task"
                },
                "content": "# DevOps Plan Context\n\nGather infrastructure context for planning. Returns structured findings for the parent plan command.\n\n## When Called\n\nThis skill is invoked by `/majestic:plan` when DevOps keywords are detected in the feature description.\n\n## Workflow\n\n### 1. Detect IaC Files\n\nCheck for existing infrastructure code:\n\n```bash\n# Terraform/OpenTofu\nls *.tf infra/*.tf terraform/*.tf infrastructure/*.tf 2>/dev/null\n\n# Ansible\nls ansible.cfg playbook.yml ansible/*.yml playbooks/*.yml 2>/dev/null\nls -d roles/ ansible/roles/ 2>/dev/null\n\n# Cloud-init\nls cloud-init*.yml user-data*.yml cloud-config*.yml 2>/dev/null\n```\n\n**Set flags:**\n- `HAS_TERRAFORM: true/false`\n- `HAS_ANSIBLE: true/false`\n- `HAS_CLOUD_INIT: true/false`\n\n### 2. Detect Providers\n\nIf Terraform files exist, extract providers:\n\n```bash\ngrep -h \"provider\\s*\\\"\" *.tf infra/*.tf 2>/dev/null | grep -oE '\"[a-z]+\"' | tr -d '\"' | sort -u\n```\n\nCommon providers to detect:\n- `aws`, `google`, `azurerm` - Major clouds\n- `hcloud` - Hetzner\n- `digitalocean` - DigitalOcean\n- `cloudflare` - Cloudflare\n- `backblaze` - Backblaze B2\n\n### 3. Map Skills\n\nBased on detection, recommend skills:\n\n| Detection | Skill | Purpose |\n|-----------|-------|---------|\n| Any `.tf` files | `majestic-devops:opentofu-coder` | HCL patterns, state management |\n| Provider: `hcloud` | `majestic-devops:hetzner-coder` | Hetzner-specific resources |\n| Provider: `cloudflare` | `majestic-devops:cloudflare-coder` | Cloudflare zones, DNS, Workers |\n| Provider: `backblaze` | `majestic-devops:backblaze-coder` | B2 storage patterns |\n| Ansible files | `majestic-devops:ansible-coder` | Playbook patterns |\n| Cloud-init files | `majestic-devops:cloud-init-coder` | VM provisioning |\n\n### 4. Security Review\n\nIf existing IaC files found, run security audit:\n\n```\nTask(subagent_type: \"majestic-devops:infra-security-review\", prompt: \"Audit existing infrastructure code for security issues\")\n```\n\nCapture findings for the plan.\n\n### 5. Return Context\n\nReturn structured context to the calling plan command:\n\n```markdown\n## Infrastructure Context\n\n### Detected Tools\n- **Terraform/OpenTofu:** [yes/no] - [version if found]\n- **Ansible:** [yes/no]\n- **Cloud-init:** [yes/no]\n\n### Providers\n[List detected providers]\n\n### Skills to Apply\n| Skill | Purpose |\n|-------|---------|\n| `majestic-devops:opentofu-coder` | [reason] |\n| ... | ... |\n\n### Security Findings\n[Summary from infra-security-review or \"No existing IaC to audit\"]\n\n### Recommendations\n- [Any specific recommendations based on detection]\n```\n\n## Notes\n\n- This skill gathers context only - no implementation\n- Skills are recommendations, not requirements\n- Security review only runs if IaC files exist"
              },
              {
                "name": "digitalocean-coder",
                "description": "This skill guides writing DigitalOcean infrastructure with OpenTofu/Terraform. Use when provisioning Droplets, VPCs, Managed Databases, Firewalls, or other DO resources.",
                "path": "plugins/majestic-devops/skills/digitalocean-coder/SKILL.md",
                "frontmatter": {
                  "name": "digitalocean-coder",
                  "description": "This skill guides writing DigitalOcean infrastructure with OpenTofu/Terraform. Use when provisioning Droplets, VPCs, Managed Databases, Firewalls, or other DO resources.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash"
                },
                "content": "# DigitalOcean Coder\n\n## Overview\n\nDigitalOcean provides simple, developer-friendly cloud infrastructure. This skill covers OpenTofu/Terraform patterns for DO resources.\n\n## Provider Setup\n\n```hcl\nterraform {\n  required_providers {\n    digitalocean = {\n      source  = \"digitalocean/digitalocean\"\n      version = \"~> 2.0\"\n    }\n  }\n}\n\nprovider \"digitalocean\" {\n  # Token from environment: DIGITALOCEAN_TOKEN\n}\n```\n\n## VPC (Virtual Private Cloud)\n\n```hcl\nresource \"digitalocean_vpc\" \"main\" {\n  name     = \"${var.project}-${var.environment}-vpc\"\n  region   = var.region\n  ip_range = \"10.10.0.0/16\"\n\n  description = \"VPC for ${var.project} ${var.environment}\"\n}\n```\n\n## Droplets (Compute)\n\n### Basic Droplet\n\n```hcl\nresource \"digitalocean_droplet\" \"app\" {\n  name     = \"${var.project}-${var.environment}-app\"\n  region   = var.region\n  size     = var.droplet_size  # s-1vcpu-1gb, s-2vcpu-4gb, etc.\n  image    = \"ubuntu-22-04-x64\"\n  vpc_uuid = digitalocean_vpc.main.id\n\n  ssh_keys   = var.ssh_key_ids\n  monitoring = true\n  ipv6       = false\n\n  tags = [var.project, var.environment]\n}\n```\n\n### Droplet with Cloud-Init\n\n```hcl\nresource \"digitalocean_droplet\" \"app\" {\n  name     = \"${var.project}-app\"\n  region   = var.region\n  size     = \"s-1vcpu-2gb\"\n  image    = \"ubuntu-22-04-x64\"\n  vpc_uuid = digitalocean_vpc.main.id\n\n  ssh_keys   = var.ssh_key_ids\n  monitoring = true\n\n  user_data = <<-EOT\n    #cloud-config\n    package_update: true\n    packages:\n      - docker.io\n      - docker-compose-plugin\n    users:\n      - name: deploy\n        groups: docker\n        sudo: ALL=(ALL) NOPASSWD:ALL\n        shell: /bin/bash\n        ssh_authorized_keys:\n          - ${var.deploy_ssh_key}\n    runcmd:\n      - systemctl enable --now docker\n      - sed -i 's/PermitRootLogin yes/PermitRootLogin no/' /etc/ssh/sshd_config\n      - systemctl restart sshd\n  EOT\n\n  tags = [var.project]\n}\n```\n\n### Common Droplet Sizes\n\n| Size | vCPUs | Memory | Use Case |\n|------|-------|--------|----------|\n| `s-1vcpu-1gb` | 1 | 1 GB | Testing, small apps |\n| `s-1vcpu-2gb` | 1 | 2 GB | Small production |\n| `s-2vcpu-4gb` | 2 | 4 GB | Medium apps |\n| `s-4vcpu-8gb` | 4 | 8 GB | Production workloads |\n| `c-2` | 2 | 4 GB | CPU-intensive |\n| `m-2vcpu-16gb` | 2 | 16 GB | Memory-intensive |\n\n## Reserved IP (Static IP)\n\n```hcl\nresource \"digitalocean_reserved_ip\" \"app\" {\n  region = var.region\n}\n\nresource \"digitalocean_reserved_ip_assignment\" \"app\" {\n  ip_address = digitalocean_reserved_ip.app.ip_address\n  droplet_id = digitalocean_droplet.app.id\n}\n\noutput \"app_ip\" {\n  value = digitalocean_reserved_ip.app.ip_address\n}\n```\n\n## Firewall\n\n### Basic Web Server Firewall\n\n```hcl\nresource \"digitalocean_firewall\" \"web\" {\n  name = \"${var.project}-web-firewall\"\n\n  droplet_ids = [digitalocean_droplet.app.id]\n\n  # Inbound rules\n  inbound_rule {\n    protocol         = \"tcp\"\n    port_range       = \"22\"\n    source_addresses = var.ssh_allowed_ips  # Restrict SSH access\n  }\n\n  inbound_rule {\n    protocol         = \"tcp\"\n    port_range       = \"80\"\n    source_addresses = [\"0.0.0.0/0\", \"::/0\"]\n  }\n\n  inbound_rule {\n    protocol         = \"tcp\"\n    port_range       = \"443\"\n    source_addresses = [\"0.0.0.0/0\", \"::/0\"]\n  }\n\n  # Outbound rules\n  outbound_rule {\n    protocol              = \"tcp\"\n    port_range            = \"all\"\n    destination_addresses = [\"0.0.0.0/0\", \"::/0\"]\n  }\n\n  outbound_rule {\n    protocol              = \"udp\"\n    port_range            = \"all\"\n    destination_addresses = [\"0.0.0.0/0\", \"::/0\"]\n  }\n\n  outbound_rule {\n    protocol              = \"icmp\"\n    destination_addresses = [\"0.0.0.0/0\", \"::/0\"]\n  }\n}\n```\n\n### Dynamic IP Whitelist\n\n```hcl\nvariable \"db_allowed_ips\" {\n  type        = list(string)\n  default     = []\n  description = \"IPs allowed to access database directly\"\n}\n\nresource \"digitalocean_database_firewall\" \"postgres\" {\n  cluster_id = digitalocean_database_cluster.postgres.id\n\n  # Always allow app droplet\n  rule {\n    type  = \"droplet\"\n    value = digitalocean_droplet.app.id\n  }\n\n  # Dynamic IP whitelist for developers\n  dynamic \"rule\" {\n    for_each = var.db_allowed_ips\n    content {\n      type  = \"ip_addr\"\n      value = rule.value\n    }\n  }\n}\n```\n\n## Managed Database\n\n### PostgreSQL Cluster\n\n```hcl\nresource \"digitalocean_database_cluster\" \"postgres\" {\n  name       = \"${var.project}-${var.environment}-pg\"\n  engine     = \"pg\"\n  version    = \"16\"\n  size       = var.db_size  # db-s-1vcpu-1gb, db-s-2vcpu-4gb\n  region     = var.region\n  node_count = 1  # Increase for HA\n\n  # CRITICAL: Use private network\n  private_network_uuid = digitalocean_vpc.main.id\n\n  tags = [var.project, var.environment]\n}\n\n# Database firewall - restrict access\nresource \"digitalocean_database_firewall\" \"postgres\" {\n  cluster_id = digitalocean_database_cluster.postgres.id\n\n  rule {\n    type  = \"droplet\"\n    value = digitalocean_droplet.app.id\n  }\n}\n\noutput \"database_uri\" {\n  value     = digitalocean_database_cluster.postgres.uri\n  sensitive = true\n}\n\noutput \"database_private_uri\" {\n  value     = digitalocean_database_cluster.postgres.private_uri\n  sensitive = true\n}\n```\n\n### Database Sizes\n\n| Size | vCPUs | Memory | Storage | Use Case |\n|------|-------|--------|---------|----------|\n| `db-s-1vcpu-1gb` | 1 | 1 GB | 10 GB | Development |\n| `db-s-1vcpu-2gb` | 1 | 2 GB | 25 GB | Small production |\n| `db-s-2vcpu-4gb` | 2 | 4 GB | 38 GB | Production |\n| `db-s-4vcpu-8gb` | 4 | 8 GB | 115 GB | High traffic |\n\n### Redis Cluster\n\n```hcl\nresource \"digitalocean_database_cluster\" \"redis\" {\n  name       = \"${var.project}-${var.environment}-redis\"\n  engine     = \"redis\"\n  version    = \"7\"\n  size       = \"db-s-1vcpu-1gb\"\n  region     = var.region\n  node_count = 1\n\n  private_network_uuid = digitalocean_vpc.main.id\n  tags                 = [var.project]\n}\n```\n\n## Spaces (Object Storage)\n\n```hcl\nresource \"digitalocean_spaces_bucket\" \"assets\" {\n  name   = \"${var.project}-assets\"\n  region = var.spaces_region  # nyc3, sfo3, ams3, sgp1, fra1\n\n  acl = \"private\"  # or \"public-read\"\n}\n\nresource \"digitalocean_spaces_bucket_cors_configuration\" \"assets\" {\n  bucket = digitalocean_spaces_bucket.assets.id\n  region = var.spaces_region\n\n  cors_rule {\n    allowed_headers = [\"*\"]\n    allowed_methods = [\"GET\", \"PUT\", \"POST\"]\n    allowed_origins = [\"https://${var.domain}\"]\n    max_age_seconds = 3600\n  }\n}\n\noutput \"spaces_endpoint\" {\n  value = digitalocean_spaces_bucket.assets.bucket_domain_name\n}\n```\n\n## DNS Records\n\n```hcl\nresource \"digitalocean_domain\" \"main\" {\n  name = var.domain\n}\n\nresource \"digitalocean_record\" \"app\" {\n  domain = digitalocean_domain.main.id\n  type   = \"A\"\n  name   = \"@\"\n  value  = digitalocean_reserved_ip.app.ip_address\n  ttl    = 300\n}\n\nresource \"digitalocean_record\" \"www\" {\n  domain = digitalocean_domain.main.id\n  type   = \"CNAME\"\n  name   = \"www\"\n  value  = \"@\"\n  ttl    = 300\n}\n```\n\n## SSH Keys\n\n```hcl\n# Reference existing key\ndata \"digitalocean_ssh_key\" \"deploy\" {\n  name = \"deploy-key\"\n}\n\n# Or create new key\nresource \"digitalocean_ssh_key\" \"deploy\" {\n  name       = \"${var.project}-deploy\"\n  public_key = file(\"~/.ssh/deploy.pub\")\n}\n```\n\n## Complete Production Stack\n\n```hcl\nlocals {\n  name_prefix = \"${var.project}-${var.environment}\"\n}\n\n# VPC\nresource \"digitalocean_vpc\" \"main\" {\n  name     = \"${local.name_prefix}-vpc\"\n  region   = var.region\n  ip_range = \"10.10.0.0/16\"\n}\n\n# App Server\nresource \"digitalocean_droplet\" \"app\" {\n  name     = \"${local.name_prefix}-app\"\n  region   = var.region\n  size     = var.droplet_size\n  image    = \"ubuntu-22-04-x64\"\n  vpc_uuid = digitalocean_vpc.main.id\n\n  ssh_keys   = [data.digitalocean_ssh_key.deploy.id]\n  monitoring = true\n\n  user_data = file(\"${path.module}/cloud-init.yaml\")\n  tags      = [var.project, var.environment]\n}\n\n# Static IP\nresource \"digitalocean_reserved_ip\" \"app\" {\n  region = var.region\n}\n\nresource \"digitalocean_reserved_ip_assignment\" \"app\" {\n  ip_address = digitalocean_reserved_ip.app.ip_address\n  droplet_id = digitalocean_droplet.app.id\n}\n\n# Firewall\nresource \"digitalocean_firewall\" \"app\" {\n  name        = \"${local.name_prefix}-firewall\"\n  droplet_ids = [digitalocean_droplet.app.id]\n\n  inbound_rule {\n    protocol         = \"tcp\"\n    port_range       = \"22\"\n    source_addresses = var.ssh_allowed_ips\n  }\n\n  inbound_rule {\n    protocol         = \"tcp\"\n    port_range       = \"80\"\n    source_addresses = [\"0.0.0.0/0\", \"::/0\"]\n  }\n\n  inbound_rule {\n    protocol         = \"tcp\"\n    port_range       = \"443\"\n    source_addresses = [\"0.0.0.0/0\", \"::/0\"]\n  }\n\n  outbound_rule {\n    protocol              = \"tcp\"\n    port_range            = \"all\"\n    destination_addresses = [\"0.0.0.0/0\", \"::/0\"]\n  }\n\n  outbound_rule {\n    protocol              = \"udp\"\n    port_range            = \"all\"\n    destination_addresses = [\"0.0.0.0/0\", \"::/0\"]\n  }\n}\n\n# Database\nresource \"digitalocean_database_cluster\" \"postgres\" {\n  name                 = \"${local.name_prefix}-pg\"\n  engine               = \"pg\"\n  version              = \"16\"\n  size                 = var.db_size\n  region               = var.region\n  node_count           = 1\n  private_network_uuid = digitalocean_vpc.main.id\n  tags                 = [var.project]\n}\n\nresource \"digitalocean_database_firewall\" \"postgres\" {\n  cluster_id = digitalocean_database_cluster.postgres.id\n\n  rule {\n    type  = \"droplet\"\n    value = digitalocean_droplet.app.id\n  }\n}\n\n# Outputs\noutput \"app_ip\" {\n  value = digitalocean_reserved_ip.app.ip_address\n}\n\noutput \"database_uri\" {\n  value     = digitalocean_database_cluster.postgres.private_uri\n  sensitive = true\n}\n```\n\n## Best Practices\n\n### Security\n- Always use VPC for private networking\n- Restrict database to droplet access only\n- Use reserved IPs for consistent addressing\n- Limit SSH to specific IPs via firewall\n- Use cloud-init to disable root login\n\n### Cost Optimization\n- Use appropriate droplet sizes\n- Single-node databases for non-critical workloads\n- Reserved IPs are free when assigned\n- Monitor with built-in metrics\n\n### Networking\n- Use `private_uri` for database connections\n- Place all resources in same VPC\n- Use firewall rules, not iptables\n- Enable monitoring on droplets"
              },
              {
                "name": "hetzner-coder",
                "description": "This skill guides provisioning Hetzner Cloud infrastructure with OpenTofu/Terraform. Use when creating servers, networks, firewalls, load balancers, or volumes on Hetzner Cloud.",
                "path": "plugins/majestic-devops/skills/hetzner-coder/SKILL.md",
                "frontmatter": {
                  "name": "hetzner-coder",
                  "description": "This skill guides provisioning Hetzner Cloud infrastructure with OpenTofu/Terraform. Use when creating servers, networks, firewalls, load balancers, or volumes on Hetzner Cloud.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash"
                },
                "content": "# Hetzner Coder\n\n## Overview\n\nHetzner Cloud offers high-performance, cost-effective cloud infrastructure with European data centers. This skill covers OpenTofu/Terraform patterns for Hetzner resources.\n\n## Provider Setup\n\n```hcl\nterraform {\n  required_providers {\n    hcloud = {\n      source  = \"hetznercloud/hcloud\"\n      version = \"~> 1.50\"\n    }\n  }\n}\n\nprovider \"hcloud\" {\n  # Token from environment: HCLOUD_TOKEN\n  # Or explicitly (not recommended):\n  # token = var.hcloud_token\n}\n```\n\n### Authentication\n\n```bash\n# Set token via environment variable\nexport HCLOUD_TOKEN=\"your-api-token\"\n\n# Or with 1Password\nHCLOUD_TOKEN=op://Infrastructure/Hetzner/api_token\n```\n\n**Token Permissions:**\n- **Read** - GET requests only (monitoring, auditing)\n- **Read & Write** - Full access (required for Terraform)\n\n## Locations and Datacenters\n\n| Location | Code | Region | Network Zone |\n|----------|------|--------|--------------|\n| Falkenstein | `fsn1` | Germany | `eu-central` |\n| Nuremberg | `nbg1` | Germany | `eu-central` |\n| Helsinki | `hel1` | Finland | `eu-central` |\n| Ashburn | `ash` | US East | `us-east` |\n| Hillsboro | `hil` | US West | `us-west` |\n\n## Server Types\n\n### Shared CPU (Best for general workloads)\n\n| Type | vCPUs | RAM | Storage | Best For |\n|------|-------|-----|---------|----------|\n| `cx22` | 2 | 4 GB | 40 GB | Small apps |\n| `cx32` | 4 | 8 GB | 80 GB | Medium apps |\n| `cx42` | 8 | 16 GB | 160 GB | Production |\n| `cx52` | 16 | 32 GB | 320 GB | High traffic |\n\n### AMD EPYC (CPX - Better single-thread)\n\n| Type | vCPUs | RAM | Storage |\n|------|-------|-----|---------|\n| `cpx11` | 2 | 2 GB | 40 GB |\n| `cpx21` | 3 | 4 GB | 80 GB |\n| `cpx31` | 4 | 8 GB | 160 GB |\n| `cpx41` | 8 | 16 GB | 240 GB |\n| `cpx51` | 16 | 32 GB | 360 GB |\n\n### ARM64 (CAX - Best price/performance)\n\n| Type | vCPUs | RAM | Storage |\n|------|-------|-----|---------|\n| `cax11` | 2 | 4 GB | 40 GB |\n| `cax21` | 4 | 8 GB | 80 GB |\n| `cax31` | 8 | 16 GB | 160 GB |\n| `cax41` | 16 | 32 GB | 320 GB |\n\n### Dedicated vCPU (CCX - Guaranteed resources)\n\n| Type | vCPUs | RAM | Storage |\n|------|-------|-----|---------|\n| `ccx13` | 2 | 8 GB | 80 GB |\n| `ccx23` | 4 | 16 GB | 160 GB |\n| `ccx33` | 8 | 32 GB | 240 GB |\n| `ccx43` | 16 | 64 GB | 360 GB |\n\n## Servers (Compute)\n\n### Basic Server\n\n```hcl\nresource \"hcloud_server\" \"app\" {\n  name        = \"${var.project}-${var.environment}-app\"\n  server_type = \"cx22\"\n  image       = \"ubuntu-24.04\"\n  location    = \"fsn1\"\n\n  ssh_keys = [hcloud_ssh_key.deploy.id]\n\n  labels = {\n    environment = var.environment\n    project     = var.project\n    role        = \"app\"\n  }\n\n  public_net {\n    ipv4_enabled = true\n    ipv6_enabled = true\n  }\n}\n```\n\n### Server with Cloud-Init\n\n```hcl\nresource \"hcloud_server\" \"app\" {\n  name        = \"${var.project}-app\"\n  server_type = \"cx22\"\n  image       = \"ubuntu-24.04\"\n  location    = \"fsn1\"\n\n  ssh_keys = [hcloud_ssh_key.deploy.id]\n\n  user_data = <<-EOT\n    #cloud-config\n    package_update: true\n    packages:\n      - docker.io\n      - docker-compose-plugin\n\n    users:\n      - name: deploy\n        groups: docker, sudo\n        sudo: ALL=(ALL) NOPASSWD:ALL\n        shell: /bin/bash\n        ssh_authorized_keys:\n          - ${var.deploy_ssh_key}\n\n    runcmd:\n      - systemctl enable --now docker\n      - sed -i 's/PermitRootLogin yes/PermitRootLogin no/' /etc/ssh/sshd_config\n      - sed -i 's/#PasswordAuthentication yes/PasswordAuthentication no/' /etc/ssh/sshd_config\n      - systemctl restart sshd\n  EOT\n\n  labels = {\n    environment = var.environment\n    role        = \"app\"\n  }\n}\n```\n\n### ARM64 Server (Cost-Effective)\n\n```hcl\nresource \"hcloud_server\" \"worker\" {\n  name        = \"${var.project}-worker\"\n  server_type = \"cax21\"  # ARM64 - great price/performance\n  image       = \"ubuntu-24.04\"\n  location    = \"fsn1\"\n\n  ssh_keys = [hcloud_ssh_key.deploy.id]\n\n  labels = {\n    role = \"worker\"\n    arch = \"arm64\"\n  }\n}\n```\n\n## Private Networks\n\n### Network with Subnet\n\n```hcl\nresource \"hcloud_network\" \"private\" {\n  name     = \"${var.project}-network\"\n  ip_range = \"10.0.0.0/16\"\n\n  labels = {\n    project = var.project\n  }\n}\n\nresource \"hcloud_network_subnet\" \"private\" {\n  network_id   = hcloud_network.private.id\n  type         = \"cloud\"\n  network_zone = \"eu-central\"  # Must match server location zone\n  ip_range     = \"10.0.1.0/24\"\n}\n```\n\n### Server in Private Network\n\n```hcl\nresource \"hcloud_server\" \"db\" {\n  name        = \"${var.project}-db\"\n  server_type = \"cpx31\"\n  image       = \"ubuntu-24.04\"\n  location    = \"fsn1\"\n\n  ssh_keys = [hcloud_ssh_key.deploy.id]\n\n  # Attach to private network\n  network {\n    network_id = hcloud_network.private.id\n    ip         = \"10.0.1.10\"  # Optional: specific IP\n  }\n\n  # Optionally disable public IP for security\n  public_net {\n    ipv4_enabled = false\n    ipv6_enabled = false\n  }\n\n  labels = {\n    role = \"database\"\n  }\n\n  depends_on = [hcloud_network_subnet.private]\n}\n```\n\n## Firewalls\n\n### Web Server Firewall\n\n```hcl\nresource \"hcloud_firewall\" \"web\" {\n  name = \"${var.project}-web-firewall\"\n\n  # SSH from specific IPs only (NEVER use 0.0.0.0/0!)\n  rule {\n    description = \"SSH\"\n    direction   = \"in\"\n    protocol    = \"tcp\"\n    port        = \"22\"\n    source_ips  = [var.admin_ip]  # Use variable, no default\n  }\n\n  # HTTP/HTTPS from anywhere\n  rule {\n    description = \"HTTP\"\n    direction   = \"in\"\n    protocol    = \"tcp\"\n    port        = \"80\"\n    source_ips  = [\"0.0.0.0/0\", \"::/0\"]\n  }\n\n  rule {\n    description = \"HTTPS\"\n    direction   = \"in\"\n    protocol    = \"tcp\"\n    port        = \"443\"\n    source_ips  = [\"0.0.0.0/0\", \"::/0\"]\n  }\n\n  # ICMP for debugging (ping)\n  rule {\n    description = \"ICMP\"\n    direction   = \"in\"\n    protocol    = \"icmp\"\n    source_ips  = [\"0.0.0.0/0\", \"::/0\"]\n  }\n\n  # Apply to servers with label\n  apply_to {\n    label_selector = \"role=web\"\n  }\n}\n\n# IMPORTANT: admin_ip variable has NO default for security\nvariable \"admin_ip\" {\n  description = \"Admin IP for SSH access (CIDR) - REQUIRED, no default\"\n  type        = string\n  # NO DEFAULT - forces explicit value\n}\n```\n\n**Security pattern:** Never default SSH access to `0.0.0.0/0`. Force explicit IP:\n\n```bash\ntofu apply -var=\"admin_ip=$(curl -s ifconfig.me)/32\"\n```\n\n### Database Firewall (Private Only)\n\n```hcl\nresource \"hcloud_firewall\" \"db\" {\n  name = \"${var.project}-db-firewall\"\n\n  # PostgreSQL from private network only\n  rule {\n    description = \"PostgreSQL\"\n    direction   = \"in\"\n    protocol    = \"tcp\"\n    port        = \"5432\"\n    source_ips  = [\"10.0.0.0/16\"]  # Private network range\n  }\n\n  # SSH from bastion only\n  rule {\n    description = \"SSH from bastion\"\n    direction   = \"in\"\n    protocol    = \"tcp\"\n    port        = \"22\"\n    source_ips  = [\"10.0.1.1/32\"]  # Bastion IP\n  }\n\n  apply_to {\n    label_selector = \"role=database\"\n  }\n}\n```\n\n## Floating IPs (High Availability)\n\n```hcl\nresource \"hcloud_floating_ip\" \"app\" {\n  type          = \"ipv4\"\n  name          = \"${var.project}-vip\"\n  home_location = \"fsn1\"\n\n  labels = {\n    project = var.project\n    purpose = \"failover\"\n  }\n}\n\nresource \"hcloud_floating_ip_assignment\" \"app\" {\n  floating_ip_id = hcloud_floating_ip.app.id\n  server_id      = hcloud_server.app.id\n}\n\noutput \"floating_ip\" {\n  value = hcloud_floating_ip.app.ip_address\n}\n```\n\n## Load Balancers\n\n### HTTP Load Balancer\n\n```hcl\nresource \"hcloud_load_balancer\" \"web\" {\n  name               = \"${var.project}-lb\"\n  load_balancer_type = \"lb11\"\n  location           = \"fsn1\"\n\n  labels = {\n    project = var.project\n  }\n}\n\nresource \"hcloud_load_balancer_network\" \"web\" {\n  load_balancer_id = hcloud_load_balancer.web.id\n  network_id       = hcloud_network.private.id\n  ip               = \"10.0.1.100\"\n}\n\nresource \"hcloud_load_balancer_service\" \"http\" {\n  load_balancer_id = hcloud_load_balancer.web.id\n  protocol         = \"http\"\n  listen_port      = 80\n  destination_port = 8080\n\n  health_check {\n    protocol = \"http\"\n    port     = 8080\n    interval = 10\n    timeout  = 5\n    retries  = 3\n\n    http {\n      path         = \"/health\"\n      status_codes = [\"200\"]\n    }\n  }\n}\n\nresource \"hcloud_load_balancer_target\" \"web\" {\n  load_balancer_id = hcloud_load_balancer.web.id\n  type             = \"server\"\n  server_id        = hcloud_server.app.id\n  use_private_ip   = true\n\n  depends_on = [hcloud_load_balancer_network.web]\n}\n```\n\n### HTTPS Load Balancer with Certificate\n\n```hcl\nresource \"hcloud_managed_certificate\" \"web\" {\n  name         = \"${var.project}-cert\"\n  domain_names = [var.domain, \"www.${var.domain}\"]\n\n  labels = {\n    project = var.project\n  }\n}\n\nresource \"hcloud_load_balancer_service\" \"https\" {\n  load_balancer_id = hcloud_load_balancer.web.id\n  protocol         = \"https\"\n  listen_port      = 443\n  destination_port = 8080\n\n  http {\n    certificates = [hcloud_managed_certificate.web.id]\n    redirect_http = true\n  }\n\n  health_check {\n    protocol = \"http\"\n    port     = 8080\n    interval = 10\n    timeout  = 5\n  }\n}\n```\n\n## Volumes (Persistent Storage)\n\n```hcl\nresource \"hcloud_volume\" \"data\" {\n  name      = \"${var.project}-data\"\n  size      = 100  # GB\n  location  = \"fsn1\"\n  format    = \"ext4\"\n\n  labels = {\n    project = var.project\n    purpose = \"database\"\n  }\n}\n\nresource \"hcloud_volume_attachment\" \"data\" {\n  volume_id = hcloud_volume.data.id\n  server_id = hcloud_server.db.id\n  automount = true\n}\n```\n\n## SSH Keys\n\n```hcl\nresource \"hcloud_ssh_key\" \"deploy\" {\n  name       = \"${var.project}-deploy\"\n  public_key = file(var.ssh_public_key_path)\n\n  labels = {\n    project = var.project\n    purpose = \"deployment\"\n  }\n}\n```\n\n## Ansible Integration\n\n### Post-Provisioning with Ansible\n\nCloud-init runs at first boot. For ongoing configuration or re-running setup, use Ansible.\n\n```hcl\n# outputs.tf\noutput \"server_ip\" {\n  value       = hcloud_server.app.ipv4_address\n  description = \"Server IP for Ansible inventory\"\n}\n\noutput \"ansible_inventory\" {\n  value = <<-EOT\n    [web]\n    ${hcloud_server.app.ipv4_address} ansible_user=root\n  EOT\n  description = \"Ansible inventory content\"\n}\n```\n\n### Provision Script (Terraform  Ansible  Kamal)\n\n```bash\n#!/usr/bin/env bash\n# infra/bin/provision\nset -euo pipefail\n\nINFRA_DIR=\"$(dirname \"$0\")/..\"\n\n# 1. Terraform\ncd \"$INFRA_DIR\"\ntofu apply\n\n# 2. Wait for SSH\nSERVER_IP=$(tofu output -raw server_ip)\nuntil ssh -o ConnectTimeout=5 -o StrictHostKeyChecking=accept-new root@$SERVER_IP true 2>/dev/null; do\n  echo \"Waiting for server...\"\n  sleep 5\ndone\n\n# 3. Ansible\ncd ansible\ntofu output -raw ansible_inventory > hosts.ini\nansible-galaxy install -r requirements.yml --force\nANSIBLE_HOST_KEY_CHECKING=False ansible-playbook -i hosts.ini playbook.yml\n\n# 4. Kamal bootstrap\ncd ../..\nbundle exec kamal server bootstrap\n```\n\n### Kamal-Ready Server Playbook\n\nBased on [kamal-ansible-manager](https://github.com/guillaumebriday/kamal-ansible-manager):\n\n```yaml\n# infra/ansible/playbook.yml\n---\n- name: Configure Hetzner server for Kamal\n  hosts: web\n  become: true\n\n  vars:\n    swap_file_size_mb: \"2048\"\n    timezone: \"UTC\"\n\n  roles:\n    - role: geerlingguy.swap\n      when: ansible_swaptotal_mb < 1\n\n  tasks:\n    - name: Install Docker\n      ansible.builtin.shell: curl -fsSL https://get.docker.com | sh\n      args:\n        creates: /usr/bin/docker\n\n    - name: Enable Docker\n      ansible.builtin.systemd:\n        name: docker\n        state: started\n        enabled: true\n\n    - name: Install security packages\n      ansible.builtin.apt:\n        name: [fail2ban, ufw]\n        state: present\n        update_cache: true\n\n    - name: Configure fail2ban\n      ansible.builtin.copy:\n        dest: /etc/fail2ban/jail.local\n        content: |\n          [sshd]\n          enabled = true\n          maxretry = 5\n          bantime = 3600\n        mode: \"0644\"\n\n    - name: Configure UFW\n      community.general.ufw:\n        rule: allow\n        port: \"{{ item }}\"\n        proto: tcp\n      loop: [22, 80, 443]\n\n    - name: Enable UFW\n      community.general.ufw:\n        state: enabled\n        policy: deny\n        direction: incoming\n\n    - name: Harden SSH\n      ansible.builtin.lineinfile:\n        path: /etc/ssh/sshd_config\n        regexp: \"^#?PasswordAuthentication\"\n        line: \"PasswordAuthentication no\"\n      notify: Restart ssh\n\n  handlers:\n    - name: Restart ssh\n      ansible.builtin.systemd:\n        name: ssh\n        state: restarted\n```\n\n### Requirements\n\n```yaml\n# infra/ansible/requirements.yml\n---\nroles:\n  - name: geerlingguy.swap\n    version: 2.0.0\n```\n\n### When to Use Each Approach\n\n| Approach | Use Case |\n|----------|----------|\n| Cloud-init only | Immutable infra, destroy/recreate pattern |\n| Ansible only | Existing servers, complex multi-step config |\n| Cloud-init + Ansible | First boot basics, then Ansible for hardening |\n\n## Additional Resources\n\n- [resources/best-practices.md](resources/best-practices.md) - Labels, cost optimization, placement groups, snapshots\n- [resources/object-storage.md](resources/object-storage.md) - S3-compatible Object Storage with AWS provider configuration\n- [resources/production-stack.md](resources/production-stack.md) - Complete production setup with app servers, database, load balancer, firewalls, volumes, and networking"
              },
              {
                "name": "infra-security-review",
                "description": "Security patterns and checklists for reviewing Infrastructure-as-Code. Covers Terraform/OpenTofu state, secrets, network, compute, database, and storage security.",
                "path": "plugins/majestic-devops/skills/infra-security-review/SKILL.md",
                "frontmatter": {
                  "name": "infra-security-review",
                  "description": "Security patterns and checklists for reviewing Infrastructure-as-Code. Covers Terraform/OpenTofu state, secrets, network, compute, database, and storage security."
                },
                "content": "# Infrastructure Security Review Patterns\n\nSecurity checklists and grep patterns for reviewing IaC code. Use these patterns when verifying infrastructure security.\n\n## Security Checklists\n\n### State Backend Security\n\n| Check | Severity | Pattern |\n|-------|----------|---------|\n| S3 bucket without encryption | Critical | `encrypt = false` or missing |\n| Missing state locking | High | No DynamoDB table configured |\n| Public bucket policy | Critical | `block_public_*` not all true |\n| Missing versioning | Medium | `versioning` not enabled |\n\n### Secret Exposure\n\n| Check | Severity | Pattern |\n|-------|----------|---------|\n| Hardcoded AWS keys | Critical | `AKIA[0-9A-Z]{16}` |\n| Hardcoded passwords | Critical | `password\\s*=\\s*\"[^\"]+[^}]\"` |\n| Database credentials in code | Critical | `DATABASE_URL` with password |\n| API keys in variables | High | `api_key`, `secret_key` defaults |\n\n### Network Security\n\n| Check | Severity | Pattern |\n|-------|----------|---------|\n| SSH open to world | Critical | `0.0.0.0/0` on port 22 |\n| Database publicly accessible | Critical | Missing `private_network_uuid` |\n| Wide CIDR ranges | Medium | `/8`, `/16` on public resources |\n| Missing firewall | High | Droplet without firewall resource |\n\n### Compute Security\n\n| Check | Severity | Pattern |\n|-------|----------|---------|\n| Root login enabled | High | `PermitRootLogin yes` in cloud-init |\n| Password auth enabled | Medium | `PasswordAuthentication yes` |\n| Missing SSH hardening | Low | No `ClientAliveInterval` config |\n| No monitoring | Low | `monitoring = false` |\n\n### Database Security\n\n| Check | Severity | Pattern |\n|-------|----------|---------|\n| Public database access | Critical | No database firewall rules |\n| No VPC attachment | High | Missing `private_network_uuid` |\n| Weak version | Medium | Old database engine versions |\n| Single node for production | Low | `node_count = 1` in prod |\n\n### Storage Security\n\n| Check | Severity | Pattern |\n|-------|----------|---------|\n| Public S3 buckets | Critical | `acl = \"public-read\"` |\n| Missing encryption | High | No SSE configuration |\n| No access logging | Medium | Missing access log bucket |\n\n## Grep Patterns\n\n```bash\n# Hardcoded secrets\ngrep -rE 'AKIA[0-9A-Z]{16}' *.tf\ngrep -rE 'password\\s*=\\s*\"[^$\\{][^\"]*\"' *.tf\ngrep -rE 'secret.*=\\s*\"[^$\\{][^\"]*\"' *.tf\ngrep -rE 'api_key\\s*=\\s*\"' *.tf\n\n# Network exposure\ngrep -rE '0\\.0\\.0\\.0/0.*22' *.tf\ngrep -rE 'cidr_blocks.*0\\.0\\.0\\.0/0' *.tf\ngrep -rE 'publicly_accessible\\s*=\\s*true' *.tf\n\n# State security\ngrep -rE 'encrypt\\s*=\\s*false' *.tf\ngrep -rE 'block_public_acls\\s*=\\s*false' *.tf\n\n# Cloud-init issues\ngrep -rE 'PermitRootLogin\\s+yes' *.tf *.yaml\ngrep -rE 'PasswordAuthentication\\s+yes' *.tf *.yaml\n```\n\n## Report Template\n\n```markdown\n# Infrastructure Security Review\n\n**Repository:** [name]\n**Date:** [date]\n**Files Reviewed:** [count]\n\n## Summary\n\n| Severity | Count |\n|----------|-------|\n| Critical | X |\n| High | X |\n| Medium | X |\n| Low | X |\n\n## Findings\n\n### [SEVERITY-001] Title\n\n**File:** `path/to/file.tf:line`\n**Resource:** `resource_type.name`\n\n**Issue:**\nDescription of the security issue.\n\n**Current:**\n```hcl\n[current code]\n```\n\n**Remediation:**\n```hcl\n[fixed code]\n```\n\n## Compliance Notes\n\n- [ ] State encryption enabled (SOC 2)\n- [ ] No hardcoded credentials (PCI-DSS)\n- [ ] Network segmentation in place (HIPAA)\n- [ ] Access logging enabled (all frameworks)\n```\n\n## Severity Guide\n\n| Severity | Definition | Action |\n|----------|------------|--------|\n| Critical | Direct security exposure, data breach risk | Block deployment |\n| High | Significant risk, exploitable weakness | Fix before production |\n| Medium | Best practice violation, indirect risk | Fix within 30 days |\n| Low | Minor hardening opportunity | Address when convenient |"
              },
              {
                "name": "onepassword-cli-coder",
                "description": "This skill guides integrating 1Password CLI (op) for secret management in development workflows. Use when loading secrets for infrastructure, deployments, or local development.",
                "path": "plugins/majestic-devops/skills/onepassword-cli-coder/SKILL.md",
                "frontmatter": {
                  "name": "onepassword-cli-coder",
                  "description": "This skill guides integrating 1Password CLI (op) for secret management in development workflows. Use when loading secrets for infrastructure, deployments, or local development.",
                  "allowed-tools": "Read, Write, Edit, Bash, Grep, Glob"
                },
                "content": "# 1Password CLI Coder\n\n## Overview\n\nThe 1Password CLI (`op`) provides secure secret injection into development workflows without exposing credentials in code, environment files, or shell history.\n\n## Core Patterns\n\n### Secret Reference Format\n\n```\nop://<vault>/<item>/<field>\n```\n\nExamples:\n```\nop://Development/AWS/access_key_id\nop://Production/Database/password\nop://Shared/Stripe/secret_key\n```\n\n### Item Naming Conventions\n\nUse `{environment}-{service}` format for item names:\n\n| Pattern | Example | Notes |\n|---------|---------|-------|\n| `{env}-{service}` | `production-rails` | Primary app secrets |\n| `{env}-{provider}` | `production-dockerhub` | External service credentials |\n| `{env}-{provider}-{resource}` | `production-hetzner-s3` | Provider with multiple resources |\n\n**DO:**\n- Use kebab-case (no spaces, no underscores)\n- Prefix with environment (`production-`, `staging-`, `development-`)\n- Keep names descriptive but concise\n\n**DON'T:**\n- Use spaces in item names (`Production Rails`  `production-rails`)\n- Use generic names (`API Key`  `production-stripe`)\n- Mix environments in one item (create separate items per environment)\n\n### Field Naming\n\nUse semantic field names that describe the credential type:\n\n| Good | Bad | Why |\n|------|-----|-----|\n| `access_token` | `value` | Self-documenting |\n| `master_key` | `secret` | Specific purpose clear |\n| `secret_access_key` | `key` | Matches AWS naming |\n| `api_token` | `token` | Distinguishes from other tokens |\n\nField naming rules:\n- Match the provider's terminology when possible (AWS uses `access_key_id`, `secret_access_key`)\n- Use snake_case for consistency\n- Be specific: `database_password` not just `password` when item has multiple credentials\n\n### Environment File (.op.env)\n\nCreate `.op.env` in project root:\n\n```bash\n# AWS credentials\nAWS_ACCESS_KEY_ID=op://Infrastructure/AWS/access_key_id\nAWS_SECRET_ACCESS_KEY=op://Infrastructure/AWS/secret_access_key\nAWS_REGION=op://Infrastructure/AWS/region\n\n# DigitalOcean\nDIGITALOCEAN_TOKEN=op://Infrastructure/DigitalOcean/api_token\n\n# Database\nDATABASE_URL=op://Production/PostgreSQL/connection_string\n\n# API Keys\nSTRIPE_SECRET_KEY=op://Production/Stripe/secret_key\nOPENAI_API_KEY=op://Development/OpenAI/api_key\n```\n\n**Critical:** Add to `.gitignore`:\n```gitignore\n# 1Password - NEVER commit\n.op.env\n*.op.env\n```\n\n### Running Commands with Secrets\n\n```bash\n# Single command\nop run --env-file=.op.env -- terraform plan\n\n# With environment variable prefix\nop run --env-file=.op.env -- rails server\n\n# Inline secret reference\nop run -- printenv DATABASE_URL\n```\n\n## Integration Patterns\n\n### Makefile Integration\n\n```makefile\nOP ?= op\nOP_ENV_FILE ?= .op.env\n\n# Prefix for all commands needing secrets\nCMD = $(OP) run --env-file=$(OP_ENV_FILE) --\n\ndeploy:\n\t$(CMD) kamal deploy\n\nconsole:\n\t$(CMD) rails console\n\nmigrate:\n\t$(CMD) rails db:migrate\n```\n\n### Docker Compose\n\n```yaml\n# docker-compose.yml\nservices:\n  app:\n    build: .\n    environment:\n      - DATABASE_URL=${DATABASE_URL}\n      - REDIS_URL=${REDIS_URL}\n```\n\n```bash\n# Run with secrets injected\nop run --env-file=.op.env -- docker compose up\n```\n\n### Kamal Deployment\n\n```yaml\n# config/deploy.yml\nenv:\n  secret:\n    - RAILS_MASTER_KEY\n    - DATABASE_URL\n    - REDIS_URL\n```\n\n```bash\n# .kamal/secrets (loaded by Kamal)\nRAILS_MASTER_KEY=$(op read \"op://Production/Rails/master_key\")\nDATABASE_URL=$(op read \"op://Production/PostgreSQL/url\")\nREDIS_URL=$(op read \"op://Production/Redis/url\")\n```\n\n### CI/CD (GitHub Actions)\n\n```yaml\n# .github/workflows/deploy.yml\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: 1password/load-secrets-action@v2\n        with:\n          export-env: true\n        env:\n          OP_SERVICE_ACCOUNT_TOKEN: ${{ secrets.OP_SERVICE_ACCOUNT_TOKEN }}\n          AWS_ACCESS_KEY_ID: op://CI/AWS/access_key_id\n          AWS_SECRET_ACCESS_KEY: op://CI/AWS/secret_access_key\n\n      - run: terraform apply -auto-approve\n```\n\n## CLI Commands\n\n### Reading Secrets\n\n```bash\n# Read single field\nop read \"op://Vault/Item/field\"\n\n# Read with output format\nop read \"op://Vault/Item/field\" --format json\n\n# Read to file (for certificates, keys)\nop read \"op://Vault/TLS/private_key\" > /tmp/key.pem\nchmod 600 /tmp/key.pem\n```\n\n### Injecting into Commands\n\n```bash\n# Single secret inline\nDATABASE_URL=$(op read \"op://Production/DB/url\") rails db:migrate\n\n# Multiple secrets via env file\nop run --env-file=.op.env -- ./deploy.sh\n\n# With account specification\nop run --account my-team --env-file=.op.env -- terraform apply\n```\n\n### Managing Items\n\n```bash\n# List vaults\nop vault list\n\n# List items in vault\nop item list --vault Infrastructure\n\n# Get item details\nop item get \"AWS\" --vault Infrastructure\n\n# Create item\nop item create \\\n  --category login \\\n  --vault Infrastructure \\\n  --title \"New Service\" \\\n  --field username=admin \\\n  --field password=secret123\n```\n\n## Project Setup\n\n### Initial Configuration\n\n```bash\n# Sign in (creates session)\nop signin\n\n# Verify access\nop vault list\n\n# Create project env file\ncat > .op.env << 'EOF'\n# Infrastructure secrets\nAWS_ACCESS_KEY_ID=op://Infrastructure/AWS/access_key_id\nAWS_SECRET_ACCESS_KEY=op://Infrastructure/AWS/secret_access_key\n\n# Application secrets\nDATABASE_URL=op://Production/Database/url\nREDIS_URL=op://Production/Redis/url\nEOF\n\n# Test secret loading\nop run --env-file=.op.env -- env | grep -E '^(AWS|DATABASE|REDIS)'\n```\n\n### Placeholder Workflow\n\nCreate items with placeholder values upfront, populate with real credentials later:\n\n```bash\n# 1. Create item with placeholder values\nop item create \\\n  --vault myproject \\\n  --category login \\\n  --title \"production-rails\" \\\n  --field master_key=\"PLACEHOLDER_UPDATE_BEFORE_DEPLOY\"\n\n# 2. Create .kamal/secrets referencing the item\ncat > .kamal/secrets << 'EOF'\nRAILS_MASTER_KEY=$(op read \"op://myproject/production-rails/master_key\")\nEOF\n\n# 3. Update deployment docs to match\n# docs/DEPLOYMENT.md should reference same paths\n\n# 4. Later: Update with real value\nop item edit \"production-rails\" \\\n  --vault myproject \\\n  master_key=\"actual_secret_value_here\"\n```\n\n**Benefits:**\n- Infrastructure code can be written before credentials exist\n- All secret paths documented in code/docs from the start\n- Reduces \"forgot to update the docs\" friction during deployment\n- Team members can see what secrets are needed without having access to values\n\n**Documentation Sync:**\nKeep `.kamal/secrets` (or equivalent) and deployment docs in sync:\n\n```markdown\n<!-- docs/DEPLOYMENT.md -->\n## Required Secrets\n\n| Secret | 1Password Path | Purpose |\n|--------|----------------|---------|\n| `RAILS_MASTER_KEY` | `op://myproject/production-rails/master_key` | Decrypt credentials |\n| `DOCKERHUB_TOKEN` | `op://myproject/production-dockerhub/access_token` | Pull images |\n```\n\n### Vault Organization\n\n**Single-Vault Approach (Simpler)**\n\nUse one vault with naming conventions for environment separation:\n\n```\nVault: myproject\nItems:\n  - production-rails\n  - production-dockerhub\n  - production-hetzner-s3\n  - staging-rails\n  - staging-dockerhub\n  - development-rails\n```\n\nBenefits:\n- Simpler permission management (one vault to configure)\n- Item names are self-documenting with environment prefix\n- Easier to see all project secrets at a glance\n\n**Multi-Vault Approach (Team Scale)**\n\nSeparate vaults when you need different access controls:\n\n| Vault | Purpose | Access |\n|-------|---------|--------|\n| `Infrastructure` | Cloud provider credentials | DevOps team |\n| `Production` | Production app secrets | Deploy systems |\n| `Staging` | Staging environment | Dev team |\n| `Development` | Local dev secrets | Individual devs |\n| `Shared` | Cross-team API keys | All teams |\n\n**When to Use Which:**\n- **Single vault**: Solo developer, small team, single project\n- **Multi-vault**: Multiple teams, strict access control requirements, compliance needs\n\n## Security Best Practices\n\n### DO\n\n- Use `.op.env` files for project-specific secret mapping\n- Add all `.op.env` variants to `.gitignore`\n- Use service accounts for CI/CD (not personal accounts)\n- Scope vault access by team/environment\n- Rotate secrets regularly via 1Password\n\n### DON'T\n\n- Never commit `.op.env` files\n- Never use `op read` output in logs or echo statements\n- Never store session tokens in scripts\n- Avoid hardcoding vault/item names - use variables\n\n### Audit Logging\n\n```bash\n# Check recent access events\nop events-api\n\n# Specific vault events\nop audit-events list --vault Production\n```\n\n## Troubleshooting\n\n### Session Expired\n\n```bash\n# Re-authenticate\nop signin\n\n# Check current session\nop whoami\n```\n\n### Item Not Found\n\n```bash\n# Verify vault access\nop vault list\n\n# Search for item\nop item list --vault Infrastructure | grep -i aws\n\n# Check exact field names\nop item get \"AWS\" --vault Infrastructure --format json | jq '.fields[].label'\n```\n\n### Permission Denied\n\n```bash\n# Check account permissions\nop vault list\n\n# Verify specific vault access\nop vault get Infrastructure\n```\n\n## Multiple Accounts\n\nFor managing multiple 1Password accounts (personal + work), use `--account` flag or `OP_ACCOUNT` env var:\n\n```bash\n# Specify account per command\nop vault list --account acme.1password.com\n\n# Set default for shell session\nexport OP_ACCOUNT=acme.1password.com\n\n# With op run\nop run --account acme.1password.com --env-file=.op.env -- ./deploy.sh\n```\n\n**Key rule:** Always specify account in automation scripts - never rely on \"last signed in\".\n\nSee [resources/multiple-accounts.md](resources/multiple-accounts.md) for detailed patterns including cross-account workflows and Makefile integration.\n\n## Multi-Environment Pattern\n\n```bash\n# .op.env.production\nDATABASE_URL=op://Production/Database/url\nREDIS_URL=op://Production/Redis/url\n\n# .op.env.staging\nDATABASE_URL=op://Staging/Database/url\nREDIS_URL=op://Staging/Redis/url\n\n# .op.env.development\nDATABASE_URL=op://Development/Database/url\nREDIS_URL=op://Development/Redis/url\n```\n\n```makefile\nENV ?= development\nOP_ENV_FILE = .op.env.$(ENV)\n\ndeploy:\n\top run --env-file=$(OP_ENV_FILE) -- kamal deploy\n\n# Usage: make deploy ENV=production\n```"
              },
              {
                "name": "opentofu-coder",
                "description": "This skill guides writing Infrastructure as Code using OpenTofu (open-source Terraform fork). Use when creating .tf files, managing cloud infrastructure, configuring providers, or designing reusable modules.",
                "path": "plugins/majestic-devops/skills/opentofu-coder/SKILL.md",
                "frontmatter": {
                  "name": "opentofu-coder",
                  "description": "This skill guides writing Infrastructure as Code using OpenTofu (open-source Terraform fork). Use when creating .tf files, managing cloud infrastructure, configuring providers, or designing reusable modules.",
                  "allowed-tools": "Read, Write, Edit, MultiEdit, Grep, Glob, Bash, WebSearch"
                },
                "content": "# OpenTofu Coder\n\n##  SIMPLICITY FIRST - Default to Flat Files\n\n**ALWAYS start with the simplest approach. Only add complexity when explicitly requested.**\n\n### Simple (DEFAULT) vs Overengineered\n\n| Aspect |  Simple (Default) |  Overengineered |\n|--------|---------------------|-------------------|\n| Structure | Flat .tf files in one directory | Nested modules/ + environments/ directories |\n| Modules | None or only remote registry modules | Custom local modules for simple resources |\n| Environments | Workspaces OR single tfvars | Duplicate directory per environment |\n| Variables | Inline defaults, minimal tfvars | Complex variable hierarchies |\n| File count | 3-5 .tf files total | 15+ files across nested directories |\n\n### When to Use Simple Approach (90% of cases)\n\n- Managing 1-5 resources of each type\n- Single provider, single region\n- Small team or solo developer\n- Standard infrastructure patterns\n\n### When Complexity is Justified (10% of cases)\n\n- Enterprise multi-region, multi-account\n- Reusable modules shared across teams\n- Complex dependency chains\n- User explicitly requests modular structure\n\n**Rule: If you can define everything in 5 flat .tf files, DO IT.**\n\n### Simple Project Structure (DEFAULT)\n\n```\ninfra/\n main.tf           # All resources\n variables.tf      # Input variables\n outputs.tf        # Outputs\n versions.tf       # Provider versions\n terraform.tfvars  # Variable values (gitignored)\n```\n\n## Overview\n\nOpenTofu is a community-driven, open-source fork of Terraform under MPL-2.0 license, maintained by the Linux Foundation. It uses HashiCorp Configuration Language (HCL) for declarative infrastructure management across cloud providers.\n\n## Core Philosophy\n\nPrioritize:\n- **Declarative over imperative**: Describe desired state, not steps\n- **Idempotency**: Apply safely multiple times with same result\n- **Modularity**: Compose infrastructure from reusable modules\n- **State as truth**: State file is the source of truth for managed resources\n- **Immutable infrastructure**: Replace resources rather than mutate in place\n\n## HCL Syntax Essentials\n\n### Resource Blocks\n\n```hcl\nresource \"aws_instance\" \"web\" {\n  ami           = var.ami_id\n  instance_type = var.instance_type\n\n  tags = {\n    Name        = \"${var.project}-web\"\n    Environment = var.environment\n  }\n}\n```\n\n### Data Sources\n\n```hcl\ndata \"aws_ami\" \"ubuntu\" {\n  most_recent = true\n\n  filter {\n    name   = \"name\"\n    values = [\"ubuntu/images/hvm-ssd/ubuntu-jammy-22.04-amd64-server-*\"]\n  }\n\n  owners = [\"099720109477\"]  # Canonical\n}\n```\n\n### Variables\n\n```hcl\nvariable \"environment\" {\n  description = \"Deployment environment (dev, staging, prod)\"\n  type        = string\n  default     = \"dev\"\n\n  validation {\n    condition     = contains([\"dev\", \"staging\", \"prod\"], var.environment)\n    error_message = \"Environment must be dev, staging, or prod.\"\n  }\n}\n\nvariable \"instance_types\" {\n  description = \"Map of environment to instance type\"\n  type        = map(string)\n  default = {\n    dev     = \"t3.micro\"\n    staging = \"t3.small\"\n    prod    = \"t3.medium\"\n  }\n}\n```\n\n### Outputs\n\n```hcl\noutput \"instance_ip\" {\n  description = \"Public IP of the web instance\"\n  value       = aws_instance.web.public_ip\n  sensitive   = false\n}\n\noutput \"database_password\" {\n  description = \"Generated database password\"\n  value       = random_password.db.result\n  sensitive   = true\n}\n```\n\n### Locals\n\n```hcl\nlocals {\n  common_tags = {\n    Project     = var.project\n    Environment = var.environment\n    ManagedBy   = \"OpenTofu\"\n  }\n\n  name_prefix = \"${var.project}-${var.environment}\"\n}\n```\n\n## Meta-Arguments\n\n### count - Create Multiple Instances\n\n```hcl\nresource \"aws_instance\" \"server\" {\n  count = var.server_count\n\n  ami           = var.ami_id\n  instance_type = var.instance_type\n\n  tags = {\n    Name = \"${local.name_prefix}-server-${count.index}\"\n  }\n}\n```\n\n### for_each - Create from Map/Set\n\n```hcl\nresource \"aws_iam_user\" \"users\" {\n  for_each = toset(var.user_names)\n\n  name = each.value\n  path = \"/users/\"\n}\n\nresource \"aws_security_group_rule\" \"ingress\" {\n  for_each = var.ingress_rules\n\n  type              = \"ingress\"\n  from_port         = each.value.port\n  to_port           = each.value.port\n  protocol          = each.value.protocol\n  cidr_blocks       = each.value.cidr_blocks\n  security_group_id = aws_security_group.main.id\n}\n```\n\n### depends_on - Explicit Dependencies\n\n```hcl\nresource \"aws_instance\" \"app\" {\n  ami           = var.ami_id\n  instance_type = var.instance_type\n\n  depends_on = [\n    aws_db_instance.database,\n    aws_elasticache_cluster.cache\n  ]\n}\n```\n\n### lifecycle - Control Resource Behavior\n\n```hcl\nresource \"aws_instance\" \"critical\" {\n  ami           = var.ami_id\n  instance_type = var.instance_type\n\n  lifecycle {\n    prevent_destroy = true\n    create_before_destroy = true\n    ignore_changes = [\n      tags[\"LastUpdated\"],\n      user_data\n    ]\n  }\n}\n\n# Replace when AMI changes\nresource \"aws_instance\" \"immutable\" {\n  ami           = var.ami_id\n  instance_type = var.instance_type\n\n  lifecycle {\n    replace_triggered_by = [\n      null_resource.ami_trigger\n    ]\n  }\n}\n```\n\n## Module Design\n\n### Module Structure\n\n```\nmodules/\n vpc/\n     main.tf          # Primary resources\n     variables.tf     # Input variables\n     outputs.tf       # Output values\n     versions.tf      # Required providers\n     README.md        # Documentation\n```\n\n### Calling Modules\n\n```hcl\nmodule \"vpc\" {\n  source = \"./modules/vpc\"\n\n  cidr_block  = \"10.0.0.0/16\"\n  environment = var.environment\n\n  azs             = [\"us-east-1a\", \"us-east-1b\"]\n  private_subnets = [\"10.0.1.0/24\", \"10.0.2.0/24\"]\n  public_subnets  = [\"10.0.101.0/24\", \"10.0.102.0/24\"]\n}\n\n# Remote module with version\nmodule \"eks\" {\n  source  = \"terraform-aws-modules/eks/aws\"\n  version = \"~> 20.0\"\n\n  cluster_name    = local.cluster_name\n  cluster_version = \"1.29\"\n\n  vpc_id     = module.vpc.vpc_id\n  subnet_ids = module.vpc.private_subnet_ids\n}\n```\n\n### Module Best Practices\n\n- Expose minimal, clear interface of variables\n- Use sensible defaults where possible\n- Document all variables and outputs\n- Avoid over-generic \"god\" modules\n- Prefer composition over configuration flags\n- Version pin remote modules\n\n## State Management\n\n### Remote Backend (S3)\n\n```hcl\nterraform {\n  backend \"s3\" {\n    bucket         = \"my-terraform-state\"\n    key            = \"prod/network/terraform.tfstate\"\n    region         = \"us-east-1\"\n    encrypt        = true\n    dynamodb_table = \"terraform-locks\"\n  }\n}\n```\n\n### OpenTofu State Encryption (Unique Feature)\n\n```hcl\nterraform {\n  encryption {\n    key_provider \"pbkdf2\" \"main\" {\n      passphrase = var.state_encryption_passphrase\n    }\n\n    method \"aes_gcm\" \"encrypt\" {\n      keys = key_provider.pbkdf2.main\n    }\n\n    state {\n      method   = method.aes_gcm.encrypt\n      enforced = true\n    }\n\n    plan {\n      method   = method.aes_gcm.encrypt\n      enforced = true\n    }\n  }\n}\n```\n\n### State Commands\n\n```bash\n# List resources in state\ntofu state list\n\n# Show specific resource\ntofu state show aws_instance.web\n\n# Move resource (refactoring)\ntofu state mv aws_instance.old aws_instance.new\n\n# Remove from state (without destroying)\ntofu state rm aws_instance.imported\n\n# Import existing resource\ntofu import aws_instance.web i-1234567890abcdef0\n```\n\n## Provider Configuration\n\n### AWS Provider\n\n```hcl\nterraform {\n  required_providers {\n    aws = {\n      source  = \"hashicorp/aws\"\n      version = \"~> 5.0\"\n    }\n  }\n}\n\nprovider \"aws\" {\n  region = var.aws_region\n\n  default_tags {\n    tags = local.common_tags\n  }\n}\n\n# Multiple provider configurations\nprovider \"aws\" {\n  alias  = \"us_west\"\n  region = \"us-west-2\"\n}\n\nresource \"aws_instance\" \"west\" {\n  provider = aws.us_west\n  # ...\n}\n```\n\n### Provider Authentication\n\n```hcl\n# Environment variables (preferred)\n# AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY\n# AWS_PROFILE for named profiles\n\n# Named profile from ~/.aws/credentials (recommended)\nprovider \"aws\" {\n  region  = var.aws_region\n  profile = \"suppli\"  # Uses [suppli] section from ~/.aws/credentials\n}\n\n# Or explicit (NOT recommended for secrets)\nprovider \"aws\" {\n  region     = var.aws_region\n  access_key = var.aws_access_key  # Use env vars instead\n  secret_key = var.aws_secret_key\n}\n\n# Assume role\nprovider \"aws\" {\n  region = var.aws_region\n\n  assume_role {\n    role_arn     = \"arn:aws:iam::123456789012:role/DeployRole\"\n    session_name = \"TofuDeployment\"\n  }\n}\n```\n\n## Environment Strategies\n\n### Workspaces\n\n```bash\n# Create and switch workspaces\ntofu workspace new dev\ntofu workspace new staging\ntofu workspace new prod\n\n# Switch workspace\ntofu workspace select prod\n\n# List workspaces\ntofu workspace list\n```\n\n```hcl\n# Use workspace in configuration\nlocals {\n  environment = terraform.workspace\n\n  instance_type = {\n    dev     = \"t3.micro\"\n    staging = \"t3.small\"\n    prod    = \"t3.medium\"\n  }[terraform.workspace]\n}\n```\n\n### Directory-Based Environments (Alternative)\n\n```\ninfrastructure/\n modules/           # Shared modules\n    vpc/\n    eks/\n environments/\n    dev/\n       main.tf\n       terraform.tfvars\n    staging/\n       main.tf\n       terraform.tfvars\n    prod/\n        main.tf\n        terraform.tfvars\n```\n\n## CLI Workflow\n\n```bash\n# Initialize working directory\ntofu init\n\n# Validate configuration\ntofu validate\n\n# Format code\ntofu fmt -recursive\n\n# Preview changes\ntofu plan -out=plan.tfplan\n\n# Apply changes\ntofu apply plan.tfplan\n\n# Destroy infrastructure\ntofu destroy\n\n# Show current state\ntofu show\n\n# Refresh state from actual infrastructure\ntofu refresh\n```\n\n## Best Practices Checklist\n\nWhen writing OpenTofu/Terraform code:\n\n- [ ] Use remote backend with locking for team use\n- [ ] Enable state encryption (OpenTofu feature)\n- [ ] Never commit `.tfstate` or `.tfvars` with secrets to VCS\n- [ ] Pin provider and module versions\n- [ ] Use `tofu plan` before every `apply`\n- [ ] Use `lifecycle.prevent_destroy` for critical resources\n- [ ] Document all variables and outputs\n- [ ] Use `locals` for computed values and tags\n- [ ] Prefer `for_each` over `count` for named resources\n- [ ] Use validation blocks for variable constraints\n- [ ] Store secrets in secret managers, not in code\n\n## Common Patterns\n\n### Conditional Resources\n\n```hcl\nresource \"aws_eip\" \"static\" {\n  count = var.create_elastic_ip ? 1 : 0\n\n  instance = aws_instance.web.id\n}\n```\n\n### Dynamic Blocks\n\n```hcl\nresource \"aws_security_group\" \"main\" {\n  name = \"${local.name_prefix}-sg\"\n\n  dynamic \"ingress\" {\n    for_each = var.ingress_rules\n    content {\n      from_port   = ingress.value.port\n      to_port     = ingress.value.port\n      protocol    = ingress.value.protocol\n      cidr_blocks = ingress.value.cidr_blocks\n    }\n  }\n}\n```\n\n## References\n\nFor detailed patterns and examples:\n- [resources/hcl-patterns.md](resources/hcl-patterns.md) - Advanced HCL patterns\n- [resources/project-scaffolding.md](resources/project-scaffolding.md) - Directory structure, .gitignore, next_steps output, security-first variables\n- [resources/post-provisioning.md](resources/post-provisioning.md) - bin/setup-server scripts for post-infra, pre-deployment setup\n- [resources/state-management.md](resources/state-management.md) - State operations and encryption\n- [resources/provider-examples.md](resources/provider-examples.md) - Multi-cloud provider configs\n- [resources/makefile-automation.md](resources/makefile-automation.md) - Makefile workflows for plan/apply/destroy"
              },
              {
                "name": "wrangler-coder",
                "description": "This skill guides Cloudflare Workers and Pages development with Wrangler CLI. Use when creating Workers, configuring D1 databases, R2 storage, KV namespaces, Queues, or deploying to Cloudflare Pages.",
                "path": "plugins/majestic-devops/skills/wrangler-coder/SKILL.md",
                "frontmatter": {
                  "name": "wrangler-coder",
                  "description": "This skill guides Cloudflare Workers and Pages development with Wrangler CLI. Use when creating Workers, configuring D1 databases, R2 storage, KV namespaces, Queues, or deploying to Cloudflare Pages.",
                  "allowed-tools": "Read, Write, Edit, Grep, Glob, Bash"
                },
                "content": "# Wrangler Coder\n\n## Overview\n\nWrangler is Cloudflare's official CLI for Workers, Pages, D1, R2, KV, Queues, and AI. This skill covers Wrangler configuration patterns and deployment workflows.\n\n## Installation\n\n```bash\n# npm\nnpm install -g wrangler\n\n# pnpm\npnpm add -g wrangler\n\n# Verify installation\nwrangler --version\n```\n\n## Authentication\n\n```bash\n# Interactive login (opens browser)\nwrangler login\n\n# Check authentication status\nwrangler whoami\n\n# Logout\nwrangler logout\n```\n\n**Environment Variables:**\n\n```bash\n# API Token (preferred for CI/CD)\nexport CLOUDFLARE_API_TOKEN=\"your-api-token\"\n\n# Or with 1Password\nCLOUDFLARE_API_TOKEN=op://Infrastructure/Cloudflare/wrangler_token\n\n# Account ID (optional, can be in wrangler.toml)\nexport CLOUDFLARE_ACCOUNT_ID=\"your-account-id\"\n```\n\n## Project Initialization\n\n```bash\n# Create new Worker project\nwrangler init my-worker\n\n# Create from template\nwrangler init my-worker --template cloudflare/worker-template\n\n# Initialize in existing directory\nwrangler init\n```\n\n## wrangler.toml Configuration\n\n### Basic Worker\n\n```toml\nname = \"my-worker\"\nmain = \"src/index.ts\"\ncompatibility_date = \"2024-12-01\"\n\n# Account ID (can also use CLOUDFLARE_ACCOUNT_ID env var)\naccount_id = \"your-account-id\"\n\n# Worker settings\nworkers_dev = true  # Enable *.workers.dev subdomain\n```\n\n### Worker with Routes\n\n```toml\nname = \"api-worker\"\nmain = \"src/index.ts\"\ncompatibility_date = \"2024-12-01\"\naccount_id = \"your-account-id\"\n\n# Custom domain routes\nroutes = [\n  { pattern = \"api.example.com/*\", zone_name = \"example.com\" },\n  { pattern = \"example.com/api/*\", zone_name = \"example.com\" }\n]\n\n# Or single route\n# route = { pattern = \"api.example.com/*\", zone_name = \"example.com\" }\n```\n\n### Worker with Custom Domain\n\n```toml\nname = \"my-worker\"\nmain = \"src/index.ts\"\ncompatibility_date = \"2024-12-01\"\naccount_id = \"your-account-id\"\n\n# Custom domains (requires DNS to be on Cloudflare)\n[env.production]\nroutes = [\n  { pattern = \"api.example.com\", custom_domain = true }\n]\n```\n\n### Multi-Environment Configuration\n\n```toml\nname = \"my-worker\"\nmain = \"src/index.ts\"\ncompatibility_date = \"2024-12-01\"\naccount_id = \"your-account-id\"\n\n# Development (default)\nworkers_dev = true\n\n# Staging environment\n[env.staging]\nname = \"my-worker-staging\"\nroutes = [\n  { pattern = \"staging-api.example.com/*\", zone_name = \"example.com\" }\n]\nvars = { ENVIRONMENT = \"staging\" }\n\n# Production environment\n[env.production]\nname = \"my-worker-production\"\nroutes = [\n  { pattern = \"api.example.com/*\", zone_name = \"example.com\" }\n]\nvars = { ENVIRONMENT = \"production\" }\n```\n\n## KV Namespaces\n\n### Configuration\n\n```toml\nname = \"my-worker\"\nmain = \"src/index.ts\"\ncompatibility_date = \"2024-12-01\"\n\n# KV namespace bindings\n[[kv_namespaces]]\nbinding = \"CACHE\"\nid = \"your-kv-namespace-id\"\npreview_id = \"your-preview-kv-namespace-id\"  # For wrangler dev\n\n[[kv_namespaces]]\nbinding = \"SESSIONS\"\nid = \"another-namespace-id\"\n```\n\n### CLI Commands\n\n```bash\n# Create namespace\nwrangler kv:namespace create CACHE\nwrangler kv:namespace create CACHE --preview  # For development\n\n# List namespaces\nwrangler kv:namespace list\n\n# Put/Get/Delete values\nwrangler kv:key put --namespace-id=xxx \"my-key\" \"my-value\"\nwrangler kv:key get --namespace-id=xxx \"my-key\"\nwrangler kv:key delete --namespace-id=xxx \"my-key\"\n\n# Bulk operations\nwrangler kv:bulk put --namespace-id=xxx ./data.json\nwrangler kv:bulk delete --namespace-id=xxx ./keys.json\n```\n\n### Usage in Worker\n\n```typescript\nexport interface Env {\n  CACHE: KVNamespace;\n  SESSIONS: KVNamespace;\n}\n\nexport default {\n  async fetch(request: Request, env: Env): Promise<Response> {\n    // Get value\n    const cached = await env.CACHE.get(\"key\");\n\n    // Get with metadata\n    const { value, metadata } = await env.CACHE.getWithMetadata(\"key\");\n\n    // Put value with expiration\n    await env.CACHE.put(\"key\", \"value\", {\n      expirationTtl: 3600,  // 1 hour\n      metadata: { version: 1 }\n    });\n\n    // List keys\n    const keys = await env.CACHE.list({ prefix: \"user:\" });\n\n    // Delete\n    await env.CACHE.delete(\"key\");\n\n    return new Response(\"OK\");\n  }\n};\n```\n\n## D1 Database & R2 Storage\n\nSee [resources/d1-r2.md](resources/d1-r2.md) for D1 database (migrations, queries, batch operations) and R2 object storage (upload, download, delete) configuration and usage.\n\n## Queues & Durable Objects\n\nSee [resources/queues-durable-objects.md](resources/queues-durable-objects.md) for Queues (producers, consumers, dead letter queues) and Durable Objects (stateful edge storage) configuration and usage.\n\n## Workers AI\n\n### Configuration\n\n```toml\nname = \"my-worker\"\nmain = \"src/index.ts\"\ncompatibility_date = \"2024-12-01\"\n\n[ai]\nbinding = \"AI\"\n```\n\n### Usage\n\n```typescript\nexport interface Env {\n  AI: Ai;\n}\n\nexport default {\n  async fetch(request: Request, env: Env): Promise<Response> {\n    // Text generation\n    const response = await env.AI.run(\"@cf/meta/llama-2-7b-chat-int8\", {\n      prompt: \"What is Cloudflare Workers?\",\n    });\n\n    // Image generation\n    const image = await env.AI.run(\"@cf/stabilityai/stable-diffusion-xl-base-1.0\", {\n      prompt: \"A cat wearing sunglasses\",\n    });\n\n    // Text embeddings\n    const embeddings = await env.AI.run(\"@cf/baai/bge-base-en-v1.5\", {\n      text: [\"Hello world\", \"Goodbye world\"],\n    });\n\n    return Response.json(response);\n  }\n};\n```\n\n## Secrets Management\n\n### CLI Commands\n\n```bash\n# Add secret\nwrangler secret put API_KEY\n# (prompts for value)\n\n# Add secret for specific environment\nwrangler secret put API_KEY --env production\n\n# List secrets\nwrangler secret list\n\n# Delete secret\nwrangler secret delete API_KEY\n\n# Bulk secrets from .dev.vars file (local dev only)\n# Create .dev.vars file:\n# API_KEY=xxx\n# DB_PASSWORD=yyy\n```\n\n### Usage\n\n```typescript\nexport interface Env {\n  API_KEY: string;\n  DB_PASSWORD: string;\n}\n\nexport default {\n  async fetch(request: Request, env: Env): Promise<Response> {\n    // Access secrets from env\n    const apiKey = env.API_KEY;\n    return new Response(`Key length: ${apiKey.length}`);\n  }\n};\n```\n\n## Development Workflow\n\n### Local Development\n\n```bash\n# Start local dev server\nwrangler dev\n\n# With specific environment\nwrangler dev --env staging\n\n# Custom port\nwrangler dev --port 8787\n\n# Remote mode (uses Cloudflare's network)\nwrangler dev --remote\n\n# Local mode with persistent storage\nwrangler dev --persist-to ./data\n```\n\n### Testing\n\n```bash\n# Run tests with vitest (recommended)\nnpm install -D vitest @cloudflare/vitest-pool-workers\n\n# vitest.config.ts\n# import { defineWorkersConfig } from '@cloudflare/vitest-pool-workers/config';\n# export default defineWorkersConfig({\n#   test: { poolOptions: { workers: { wrangler: { configPath: './wrangler.toml' } } } }\n# });\n```\n\n### Deployment\n\n```bash\n# Deploy to workers.dev\nwrangler deploy\n\n# Deploy to specific environment\nwrangler deploy --env production\n\n# Dry run (show what would be deployed)\nwrangler deploy --dry-run\n\n# Deploy with custom name\nwrangler deploy --name my-custom-worker\n```\n\n### Logs and Debugging\n\n```bash\n# Tail logs (real-time)\nwrangler tail\n\n# Tail specific environment\nwrangler tail --env production\n\n# Filter logs\nwrangler tail --status error\nwrangler tail --search \"user-id-123\"\nwrangler tail --ip 1.2.3.4\n\n# View deployment versions\nwrangler versions list\n\n# Rollback to previous version\nwrangler rollback\n```\n\n## Cloudflare Pages\n\n### Configuration (wrangler.toml for Functions)\n\n```toml\nname = \"my-site\"\ncompatibility_date = \"2024-12-01\"\npages_build_output_dir = \"./dist\"\n\n[[kv_namespaces]]\nbinding = \"CACHE\"\nid = \"your-namespace-id\"\n\n[[d1_databases]]\nbinding = \"DB\"\ndatabase_name = \"my-database\"\ndatabase_id = \"your-database-id\"\n```\n\n### CLI Commands\n\n```bash\n# Create Pages project\nwrangler pages project create my-site\n\n# Deploy\nwrangler pages deploy ./dist\n\n# Deploy to specific branch/environment\nwrangler pages deploy ./dist --branch main\nwrangler pages deploy ./dist --branch staging\n\n# List deployments\nwrangler pages deployment list --project-name my-site\n\n# Tail logs\nwrangler pages deployment tail --project-name my-site\n```\n\n### Pages Functions\n\n```\nproject/\n functions/\n    api/\n       [[route]].ts  # Catch-all: /api/*\n    hello.ts          # /hello\n    _middleware.ts    # Middleware for all routes\n public/\n wrangler.toml\n```\n\n```typescript\n// functions/api/[[route]].ts\nexport const onRequest: PagesFunction<Env> = async (context) => {\n  const { request, env, params } = context;\n  const route = params.route;  // Array of path segments\n\n  return Response.json({ route });\n};\n```\n\n## Complete Worker Example\n\nSee [resources/worker-example.md](resources/worker-example.md) for a production-ready Worker with D1, KV, R2 bindings, multi-environment config, and CORS handling.\n\n## Best Practices\n\n- **Pin compatibility_date** - Ensures reproducible behavior across deployments\n- **Use environments** - Separate staging/production configs in same file\n- **Secrets via CLI** - Never commit secrets, use `wrangler secret put`\n- **Local persistence** - Use `--persist-to` for consistent local dev state\n- **Tail logs in production** - Debug issues with `wrangler tail --status error`\n- **Version control wrangler.toml** - Track configuration changes\n- **Use .dev.vars for local secrets** - Add to .gitignore\n- **Batch D1 operations** - Reduce latency with `env.DB.batch()`\n- **Cache strategically** - Use KV for frequently accessed data\n- **Handle errors gracefully** - Return proper HTTP status codes"
              }
            ]
          },
          {
            "name": "majestic-browser",
            "description": "Real browser automation via CDP. Control Chrome, Brave, or Edge with your actual profile and cookies - undetectable by bot detection. Includes 1 skill.",
            "source": "./plugins/majestic-browser",
            "category": null,
            "version": "1.0.0",
            "author": {
              "name": "David Paluy",
              "url": "https://github.com/dpaluy",
              "email": "marketplace@it.majesticlabs.dev"
            },
            "install_commands": [
              "/plugin marketplace add majesticlabs-dev/majestic-marketplace",
              "/plugin install majestic-browser@majestic-marketplace"
            ],
            "signals": {
              "stars": 16,
              "forks": 1,
              "pushed_at": "2026-01-12T22:29:39Z",
              "created_at": "2025-11-26T21:43:21Z",
              "license": "NOASSERTION"
            },
            "commands": [],
            "skills": [
              {
                "name": "web-browser",
                "description": "Browser automation using browser-cdp CLI. Control Chrome, Brave, or Edge browsers for testing, scraping, and web interaction. Uses your real browser (not test mode) for authentic sessions.",
                "path": "plugins/majestic-browser/skills/web-browser/SKILL.md",
                "frontmatter": {
                  "name": "web-browser",
                  "description": "Browser automation using browser-cdp CLI. Control Chrome, Brave, or Edge browsers for testing, scraping, and web interaction. Uses your real browser (not test mode) for authentic sessions."
                },
                "content": "# Web Browser Skill\n\nControl real browsers via CDP (Chrome DevTools Protocol) using [browser-cdp](https://github.com/dpaluy/browser-cdp). Connects to your actual browser - same fingerprint, real cookies, no automation detection.\n\n## Commands\n\n| Command | Description |\n|---------|-------------|\n| `!bunx browser-cdp start` | Start browser with CDP enabled |\n| `!bunx browser-cdp start brave` | Start Brave (also: `chrome`, `edge`) |\n| `!bunx browser-cdp start chrome --isolated` | Fresh profile (no cookies/logins) |\n| `!bunx browser-cdp start brave --profile=Work` | Use specific profile |\n| `!bunx browser-cdp nav URL` | Navigate current tab |\n| `!bunx browser-cdp nav URL --new` | Navigate in new tab |\n| `!bunx browser-cdp nav URL --console` | Navigate and capture console (5s default) |\n| `!bunx browser-cdp nav URL --console --duration=10` | Navigate and capture for N seconds |\n| `!bunx browser-cdp eval 'JS'` | Run JavaScript, return result |\n| `!bunx browser-cdp eval 'JS' --console` | Eval and capture console (3s default) |\n| `!bunx browser-cdp eval 'JS' --console --duration=5` | Eval and capture for N seconds |\n| `!bunx browser-cdp dom` | Capture full DOM HTML |\n| `!bunx browser-cdp screenshot` | Save screenshot, return path |\n| `!bunx browser-cdp pick \"prompt\"` | Interactive element picker |\n| `!bunx browser-cdp console --reload` | Reload page and capture console output |\n| `!bunx browser-cdp console --reload --duration=10` | Reload, capture for N seconds |\n| `!bunx browser-cdp insights` | Performance metrics (TTFB, FCP, etc.) |\n| `!bunx browser-cdp insights --json` | JSON format |\n| `!bunx browser-cdp lighthouse` | Full Lighthouse audit |\n| `!bunx browser-cdp close` | Close browser |\n\n### Pick Elements\n\nInteractive picker: click to select, Cmd/Ctrl+Click multi-select, Enter confirm, ESC cancel.\n\n## Configuration\n\nOptional settings in `.agents.yml` or `.agents.local.yml`:\n\n```yaml\nbrowser:\n  type: brave       # chrome, brave, or edge (default: chrome)\n  debug_port: 9222  # CDP port (default: 9222)\n```\n\nRead browser config using:\n- Browser type: !`claude -p \"/majestic:config browser.type chrome\"`\n- Debug port: !`claude -p \"/majestic:config browser.debug_port 9222\"`\n\nPass as `BROWSER` and `DEBUG_PORT` env vars if configured.\n\n## Smart Start\n\n`start` checks if browser is already running on configured port:\n- **Already running with CDP**  Exits successfully (no restart)\n- **Running without CDP**  Error with instructions\n- **Not running**  Starts browser with CDP enabled\n\n## Why Real Browser?\n\n| Aspect | browser-cdp | Playwright Test Mode |\n|--------|-------------|---------------------|\n| Browser | Your installed Chrome/Brave | Bundled Chromium |\n| Profile | Real cookies/logins | Fresh test profile |\n| Detection | Not detectable | Automation flags present |\n| Use case | Real-world testing, scraping | Isolated E2E tests |"
              }
            ]
          },
          {
            "name": "majestic-creative",
            "description": "AI-powered creative tools for image generation, editing, and visual content creation. Includes 1 command and 1 agent for Gemini image generation.",
            "source": "./plugins/majestic-creative",
            "category": null,
            "version": "1.3.0",
            "author": {
              "name": "David Paluy",
              "url": "https://github.com/dpaluy",
              "email": "marketplace@it.majesticlabs.dev"
            },
            "install_commands": [
              "/plugin marketplace add majesticlabs-dev/majestic-marketplace",
              "/plugin install majestic-creative@majestic-marketplace"
            ],
            "signals": {
              "stars": 16,
              "forks": 1,
              "pushed_at": "2026-01-12T22:29:39Z",
              "created_at": "2025-11-26T21:43:21Z",
              "license": "NOASSERTION"
            },
            "commands": [
              {
                "name": "/generate-image",
                "description": "Generate images using Gemini API from text prompts",
                "path": "plugins/majestic-creative/commands/generate-image.md",
                "frontmatter": {
                  "description": "Generate images using Gemini API from text prompts",
                  "allowed-tools": "Read, Write, Bash, Glob",
                  "argument-hint": "<prompt> <output-path> [--aspect RATIO] [--size SIZE]"
                },
                "content": "# Generate Image with Gemini\n\nGenerate images from text prompts using Google's Gemini API.\n\n## Arguments\n\n<input_arguments> $ARGUMENTS </input_arguments>\n\n**Format:** `<prompt> <output-path> [options]`\n\n**Options:**\n- `--aspect` - Aspect ratio: 1:1, 16:9, 9:16, 3:2, 2:3, 4:3, 3:4, 4:5, 5:4, 21:9\n- `--size` - Resolution: 1K, 2K, 4K\n\n**Examples:**\n```\n/majestic-creative:generate-image \"A cat in space\" cat.jpg\n/majestic-creative:generate-image \"Epic landscape\" landscape.jpg --aspect 16:9\n/majestic-creative:generate-image \"Product mockup\" product.jpg --aspect 1:1 --size 2K\n```\n\n## Prerequisites\n\n- `GEMINI_API_KEY` environment variable must be set\n- Python 3.10+ with `google-genai` and `Pillow` packages\n\n## Process\n\n### Step 1: Validate Environment\n\n```bash\npython -c \"import os; print('ok' if os.environ.get('GEMINI_API_KEY') else 'missing')\"\n```\n\nIf missing, inform user:\n```\nGEMINI_API_KEY not set. Get one at https://aistudio.google.com/apikey\n```\n\n### Step 2: Parse Arguments\n\nExtract from `$ARGUMENTS`:\n- **Prompt:** Text in quotes or first argument\n- **Output path:** Second argument (ensure .jpg extension)\n- **Aspect ratio:** `--aspect` value (optional)\n- **Size:** `--size` value (optional)\n\n### Step 3: Generate Image\n\nUse the bundled script (located at `skills/gemini-image-coder/scripts/generate_image.py` in the plugin):\n\n```bash\npython generate_image.py \"<prompt>\" \"<output-path>\" [--aspect <ratio>] [--size <size>]\n```\n\nReplace placeholders with actual values from the parsed arguments.\n\n### Step 4: Verify and Report\n\nCheck that the output file was created:\n\n```bash\nls -la <output-path>\n```\n\nReport success with file path and size.\n\n## Error Handling\n\n### Rate Limiting\nIf you get \"API returned no content\", wait 2-3 seconds and retry.\n\n### Content Policy\nIf prompt is rejected, suggest modifying the prompt to be more generic.\n\n### Multiple Images\nWhen generating multiple images, add 2-second delays between requests:\n```bash\nsleep 2\n```\n\n## Output Format\n\n```markdown\n**Generated:** `<output-path>`\n**Size:** <file-size>\n**Prompt:** \"<prompt>\"\n\n[Show the image if in a context that supports it]\n```"
              }
            ],
            "skills": []
          },
          {
            "name": "majestic-founder",
            "description": "Personal effectiveness tools for founders, solopreneurs, and business builders. Includes 4 skills.",
            "source": "./plugins/majestic-founder",
            "category": null,
            "version": "1.1.0",
            "author": {
              "name": "David Paluy",
              "url": "https://github.com/dpaluy",
              "email": "marketplace@it.majesticlabs.dev"
            },
            "install_commands": [
              "/plugin marketplace add majesticlabs-dev/majestic-marketplace",
              "/plugin install majestic-founder@majestic-marketplace"
            ],
            "signals": {
              "stars": 16,
              "forks": 1,
              "pushed_at": "2026-01-12T22:29:39Z",
              "created_at": "2025-11-26T21:43:21Z",
              "license": "NOASSERTION"
            },
            "commands": [],
            "skills": [
              {
                "name": "calendar-optimization",
                "description": "Balance the 4 types of professional time (Management, Creation, Consumption, Ideation). Use when discussing productivity, calendar management, time allocation, or work-life balance.",
                "path": "plugins/majestic-founder/skills/calendar-optimization/SKILL.md",
                "frontmatter": {
                  "name": "calendar-optimization",
                  "description": "Balance the 4 types of professional time (Management, Creation, Consumption, Ideation). Use when discussing productivity, calendar management, time allocation, or work-life balance.",
                  "allowed-tools": "AskUserQuestion"
                },
                "content": "# Calendar Optimization\n\nBalance your professional time across 4 essential categories.\n\n## The 4 Types of Professional Time\n\n### 1. Management Time (Red)\n\n**What it includes:**\n- Meetings and calls\n- Email processing\n- Presentations\n- Team and people management\n- Administrative tasks\n\n**The problem:** Most professionals spend 70-90% here, leaving scraps for everything else.\n\n### 2. Creation Time (Green)\n\n**What it includes:**\n- Writing and content creation\n- Coding and building\n- Designing and prototyping\n- Strategic document preparation\n- Deep work on deliverables\n\n**The problem:** Gets squeezed into gaps between Management Time. Never protected.\n\n### 3. Consumption Time (Blue)\n\n**What it includes:**\n- Reading books and articles\n- Listening to podcasts\n- Studying new skills\n- Research and learning\n- Course completion\n\n**The problem:** Often happens passively (doom-scrolling) rather than intentionally.\n\n### 4. Ideation Time (Yellow)\n\n**What it includes:**\n- Brainstorming sessions\n- Journaling and reflection\n- Walking and thinking\n- Strategic planning (alone)\n- Connecting dots across domains\n\n**The problem:** Almost never scheduled. Happens accidentally, if at all.\n\n## The Calendar Audit Exercise\n\n### Week 1: Baseline Assessment\n\nAt the end of each weekday, color-code that day's events:\n\n| Color | Type | Examples |\n|-------|------|----------|\n| Red | Management | Meetings, emails, calls, admin |\n| Green | Creation | Building, writing, coding, designing |\n| Blue | Consumption | Reading, learning, researching |\n| Yellow | Ideation | Thinking, brainstorming, journaling |\n\n### End of Week: Analyze the Mix\n\nLook at your calendar's overall color distribution:\n\n**Typical Unhealthy Pattern:**\n- 80% Red (Management)\n- 15% Green (Creation)\n- 4% Blue (Consumption)\n- 1% Yellow (Ideation)\n\n**Healthier Target:**\n- 40-50% Red (Management)\n- 30-40% Green (Creation)\n- 10-15% Blue (Consumption)\n- 5-10% Yellow (Ideation)\n\n## 3 Optimization Tips\n\n### Tip 1: Batch Management Time\n\n**The Goal:** Keep red from bleeding across every hour of every day.\n\n**Actions:**\n- **Email blocks:** 1-3 discrete processing windows per day (e.g., 9am, 1pm, 5pm)\n- **Meeting blocks:** Cluster calls/meetings into specific windows\n- **No-meeting days:** At least 1-2 days per week with zero scheduled meetings\n\n**Example Schedule:**\n```\nMonday: Meeting block 10am-12pm, 2pm-4pm\nTuesday: No meetings (Creation day)\nWednesday: Meeting block 9am-11am, 3pm-5pm\nThursday: No meetings (Creation day)\nFriday: Meeting block 10am-12pm only\n```\n\n### Tip 2: Protect Creation Time\n\n**The Goal:** Creation propels you forward with interesting projects and opportunities.\n\n**Actions:**\n- **Block it first:** Schedule creation time before meetings can claim the space\n- **Protect the block:** No email, Slack, or messages during creation windows\n- **Morning advantage:** First 2-3 hours often highest quality for creation\n- **Minimum viable block:** 90 minutes minimum for meaningful deep work\n\n**Microsoft Research Finding:**\n> Users spend significantly more time on email and meetings than creating. The ratio has worsened year over year.\n\n**Example Protection:**\n```\nDaily: 6am-9am Creation Block (non-negotiable)\n- Phone on airplane mode\n- Slack closed\n- Email untouched\n- One focused project only\n```\n\n### Tip 3: Schedule Consumption & Ideation\n\n**The Goal:** These \"forgotten\" time types drive long-term compounding progress.\n\n**Historical Pattern:**\n- Warren Buffett: 5-6 hours daily reading\n- Bill Gates: Think Weeks (pure ideation)\n- Darwin: 3 daily thinking walks\n- Einstein: Violin breaks for ideation\n\n**Actions:**\n- **Start small:** One 30-60 minute Consumption block per week\n- **Start small:** One 30-60 minute Ideation block per week\n- **Protect the purpose:** Don't let these become meeting overflow\n- **Expand gradually:** Only increase after consistently honoring small blocks\n\n**Example Schedule:**\n```\nWednesday 4-5pm: Consumption (reading/learning)\nFriday 3-4pm: Ideation (journaling/walking/thinking)\n```\n\n## Weekly Calendar Template\n\n```\nMONDAY\n\n6:00-9:00   [GREEN] Creation Block\n9:00-9:30   [RED] Email Processing #1\n9:30-12:00  [RED] Meeting Block\n12:00-1:00  Lunch\n1:00-1:30   [RED] Email Processing #2\n1:30-4:00   [GREEN] Creation Block\n4:00-5:00   [RED] Meeting Overflow\n\nTUESDAY (No-Meeting Day)\n\n6:00-12:00  [GREEN] Deep Creation\n12:00-1:00  Lunch\n1:00-5:00   [GREEN] Deep Creation\n5:00-5:30   [RED] Email Processing\n\nWEDNESDAY\n\n6:00-9:00   [GREEN] Creation Block\n9:00-12:00  [RED] Meeting Block\n12:00-1:00  Lunch\n1:00-4:00   [RED] Meeting Block\n4:00-5:00   [BLUE] Consumption (reading)\n\nTHURSDAY (No-Meeting Day)\n\n6:00-12:00  [GREEN] Deep Creation\n12:00-1:00  Lunch\n1:00-5:00   [GREEN] Deep Creation\n5:00-5:30   [RED] Email Processing\n\nFRIDAY\n\n6:00-9:00   [GREEN] Creation Block\n9:00-12:00  [RED] Meeting Block\n12:00-1:00  Lunch\n1:00-3:00   [RED] Weekly wrap-up\n3:00-4:00   [YELLOW] Ideation (week reflection)\n4:00-5:00   [BLUE] Consumption (reading)\n```\n\n## Conversation Starter\n\nUse `AskUserQuestion` to begin:\n\n\"I'll help you optimize your calendar for better balance across the 4 types of professional time.\n\nFirst, let's understand your current state:\n\n**How would you estimate your current time split?**\n- Management (meetings, email, calls): ____%\n- Creation (building, writing, coding): ____%\n- Consumption (reading, learning): ____%\n- Ideation (thinking, journaling): ____% \"\n\nThen ask:\n1. \"What's your biggest calendar frustration right now?\"\n2. \"Do you have any existing protected time blocks?\"\n3. \"What's one type of time you want more of?\"\n\n## Output Format\n\n```markdown\n# CALENDAR OPTIMIZATION PLAN\n\n## Current State\n| Type | Current % | Target % | Gap |\n|------|-----------|----------|-----|\n| Management (Red) | X% | Y% | -Z% |\n| Creation (Green) | X% | Y% | +Z% |\n| Consumption (Blue) | X% | Y% | +Z% |\n| Ideation (Yellow) | X% | Y% | +Z% |\n\n## This Week's Changes\n\n### 1. Batch Management\n- [ ] Set email processing windows: [times]\n- [ ] Cluster meetings to: [days/times]\n- [ ] Establish no-meeting day: [day]\n\n### 2. Protect Creation\n- [ ] Block creation time: [times]\n- [ ] Remove during creation: [distractions]\n- [ ] Minimum block length: [duration]\n\n### 3. Schedule Growth Time\n- [ ] Consumption block: [day/time]\n- [ ] Ideation block: [day/time]\n\n## 30-Day Milestones\n- Week 1: Audit and baseline\n- Week 2: Implement batching\n- Week 3: Add consumption block\n- Week 4: Add ideation block + measure improvement\n```"
              },
              {
                "name": "challenge-mode",
                "description": "Aggressive intellectual challenge for truth-seeking and growth. Identifies blind spots, challenges assumptions, and calls out avoidance patterns.",
                "path": "plugins/majestic-founder/skills/challenge-mode/SKILL.md",
                "frontmatter": {
                  "name": "challenge-mode",
                  "description": "Aggressive intellectual challenge for truth-seeking and growth. Identifies blind spots, challenges assumptions, and calls out avoidance patterns."
                },
                "content": "# Challenge Mode\n\nActivate aggressive intellectual challenge mode. Priority: truth-seeking over comfort, growth over agreement.\n\n## What This Does\n\n- Identify blind spots and hidden assumptions\n- Challenge internalized narratives\n- Offer unfamiliar perspectives\n- Call out playing it safe or avoiding hard truths\n\n## When to Apply\n\n- Founder wrestling with strategic decisions\n- Testing conviction before major commitment\n- Breaking out of echo chambers\n- Validating or invalidating core beliefs\n- Pre-mortem on plans or approaches\n\n## Challenge Framework\n\n### 1. Surface the Real Question\n\nWhat are you actually deciding? Often the stated question masks the real one.\n\n### 2. Expose Assumptions\n\n| Question | Purpose |\n|----------|---------|\n| What are you assuming is true? | Surface hidden beliefs |\n| What would need to be false for this to fail? | Find critical dependencies |\n| What are you avoiding looking at? | Identify blind spots |\n| Who benefits from you believing this? | Check for bias sources |\n\n### 3. Flip Perspectives\n\n- What would your harshest critic say?\n- What would you advise someone else in this situation?\n- What will you think about this decision in 5 years?\n- What's the version of this you're afraid to admit?\n\n### 4. Call Out Patterns\n\nFlag when detecting:\n- Rationalizing a decision already made emotionally\n- Seeking permission rather than truth\n- Playing small to avoid discomfort\n- Confusing activity with progress\n- Optimizing for looking good vs being good\n\n## Output Style\n\nDirect. No softening. Challenge the thinking, not the person.\n\nSkip:\n- Validation seeking (\"that's a great question...\")\n- Hedging (\"it depends...\")\n- Comfortable reframes\n\nInclude:\n- The uncomfortable observation\n- The question they're avoiding\n- The assumption that might be wrong"
              },
              {
                "name": "founder-mode",
                "description": "Help founders run companies using contrarian principles with real examples from successful founders. Challenge standard advice designed for professional managers. Use when facing strategic decisions, organizational challenges, or receiving conventional advice that conflicts with founder instincts.",
                "path": "plugins/majestic-founder/skills/founder-mode/SKILL.md",
                "frontmatter": {
                  "name": "founder-mode",
                  "description": "Help founders run companies using contrarian principles with real examples from successful founders. Challenge standard advice designed for professional managers. Use when facing strategic decisions, organizational challenges, or receiving conventional advice that conflicts with founder instincts."
                },
                "content": "# Founder Mode\n\nHelp founders run companies using contrarian principles that break conventional management wisdom. This skill provides real examples from successful founders, not generic advice.\n\n## Core Insight\n\nManager mode \"hire good people and give them room\" often means \"hire professional fakers and let them destroy your company.\" Founders can do things managers cannot because they have authority, context, and skin in the game that hired executives lack.\n\n## Real Founder Mode Examples\n\n### Skip-Level Engagement\n\n**Steve Jobs at Apple:**\n- Held weekly 3-hour meetings with his top 100 people (not just direct reports)\n- Personally reviewed every product detail down to icon pixels\n- Result: Unprecedented product coherence across all Apple products\n\n**Patrick Collison at Stripe:**\n- Still does code reviews on critical infrastructure\n- Personally responds to developer complaints on Twitter\n- Result: Developer trust that Stripe actually cares about their experience\n\n**Brian Chesky at Airbnb:**\n- After 2020 layoffs, went from 7 layers of management to 2\n- Now reviews every major design personally\n- Result: Faster decisions, clearer product vision\n\n### Contrarian Hiring Decisions\n\n**Tobi Ltke at Shopify:**\n- Refused to hire a COO for years despite board pressure\n- \"A COO would just create a layer between me and the problems\"\n- Result: Stayed close to merchant pain points during critical growth\n\n**Stewart Butterfield at Slack:**\n- Personally interviewed every employee until employee #500\n- Conventional wisdom: \"That doesn't scale\"\n- Result: Exceptional early culture that defined the company\n\n### Ignoring \"Best Practices\"\n\n**Jeff Bezos at Amazon:**\n- Banned PowerPoint in favor of 6-page memos\n- Conventional wisdom: \"Executives don't have time to read\"\n- Result: Better thinking, clearer communication\n\n**Stripe's API-first decision:**\n- Launched with 7 lines of code to integrate vs competitors' 100+ page contracts\n- Conventional wisdom: \"Enterprise sales needs complexity\"\n- Result: Dominated developer payments market\n\n## When Founder Mode Beats Manager Mode\n\n| Situation | Manager Mode Says | Founder Mode Does |\n|-----------|-------------------|-------------------|\n| Product quality slipping | \"Hire a VP of Quality\" | Review products yourself, find the root cause |\n| Culture diluting | \"HR will handle it\" | Personally interview key hires, fire culture violators fast |\n| Innovation stalling | \"Create an innovation lab\" | Kill the lab, put innovators on core product |\n| Customers complaining | \"Hire more support\" | Talk to 10 angry customers yourself this week |\n| Executives underperforming | \"Give them more time, coaching\" | Fire fast, you probably already know |\n\n## Red Flags: You're Being Pushed to Manager Mode\n\n1. **\"You need to trust your team\"** - Translation: Stop paying attention to problems\n2. **\"That's not scalable\"** - Translation: Do less of what made you successful\n3. **\"Let the process work\"** - Translation: Accept mediocrity wrapped in procedure\n4. **\"You're a bottleneck\"** - Translation: Remove yourself from quality control\n5. **\"Executives need autonomy\"** - Translation: Let them build empires\n\n## Founder Mode Tactics\n\n### Weekly Practices\n\n- **10 customer conversations** - Not surveys, real conversations\n- **Code/product review** - Touch the actual work, not just dashboards\n- **Skip-level 1:1s** - Talk to people 2-3 levels down regularly\n- **Kill a meeting** - Every week, eliminate one recurring meeting\n\n### Monthly Practices\n\n- **Work the support queue** - 2 hours handling real tickets\n- **Shadow a new hire** - See onboarding through fresh eyes\n- **Review every departure** - Exit interviews done by you, not HR\n- **Competitor deep-dive** - Use their product yourself\n\n### Quarterly Practices\n\n- **Org chart audit** - Every layer must justify its existence\n- **Process purge** - Kill processes that exist \"because we've always done it\"\n- **Direct customer visit** - Go to their office, see how they actually use your product\n\n## Output Structure\n\nWhen applying founder mode to a challenge:\n\n1. **Situation:** What's the challenge through founder mode lens?\n2. **Conventional Trap:** What's the standard advice and why it fails here?\n3. **Founder Precedent:** Which successful founder faced similar? What did they do?\n4. **Direct Action:** What can you do THIS WEEK without delegation?\n5. **Resistance Plan:** Who will push back and how to handle it?\n6. **Success Metric:** How will you know it's working?\n\n## When NOT to Use Founder Mode\n\n- Routine operations that genuinely don't need you\n- Legal/compliance where expertise matters more than instinct\n- Areas where you lack context (use it to GET context, then decide)\n- When you're exhausted and need to recharge (founder mode requires energy)"
              },
              {
                "name": "pareto",
                "description": "Identify the vital 20% of activities that produce 80% of results using real case studies and proven patterns. Use when optimizing business, learning, productivity, or any area where focus matters.",
                "path": "plugins/majestic-founder/skills/pareto/SKILL.md",
                "frontmatter": {
                  "name": "pareto",
                  "description": "Identify the vital 20% of activities that produce 80% of results using real case studies and proven patterns. Use when optimizing business, learning, productivity, or any area where focus matters.",
                  "allowed-tools": "AskUserQuestion"
                },
                "content": "# Pareto Principle Analyzer\n\nIdentify the vital 20% of activities that produce 80% of results using real case studies and proven 80/20 patterns.\n\n## Real 80/20 Case Studies\n\n### Business Revenue\n\n**Case: SaaS Company Revenue Analysis**\n- 22% of customers generated 89% of revenue\n- Top 5 customers = 41% of total revenue\n- Action: Created dedicated success team for top 22%, reduced support for bottom 50%\n- Result: 34% revenue increase, 20% cost reduction\n\n**Case: E-commerce Product Analysis**\n- 18% of SKUs generated 82% of profit\n- 40% of SKUs were break-even or losing money\n- Action: Discontinued bottom 30% of products\n- Result: 15% profit increase, 40% reduction in inventory costs\n\n### Software Development\n\n**Case: Bug Distribution (Microsoft Study)**\n- 20% of bugs caused 80% of crashes\n- 1% of bugs caused 50% of crashes\n- Action: Prioritize top 1% first, then top 20%\n- Result: Most stable Windows release to date\n\n**Case: Code Optimization**\n- 4% of code executed 50% of runtime\n- 20% of functions contained 80% of bugs\n- Action: Focused optimization and testing on hot paths\n- Result: 10x performance improvement with 20% of the effort\n\n### Sales & Marketing\n\n**Case: B2B Sales Pipeline**\n- 23% of leads converted to 81% of deals\n- Pattern: Leads with technical champion + budget authority\n- Action: Qualification focused on these two factors\n- Result: Sales cycle shortened by 40%\n\n**Case: Marketing Channels**\n- 2 channels (of 8 tested) drove 76% of conversions\n- 4 channels had negative ROI when fully costed\n- Action: 10x budget on top 2, killed bottom 4\n- Result: 3x marketing efficiency\n\n### Personal Productivity\n\n**Case: Developer Time Study**\n- 2 hours of deep work = 80% of meaningful output\n- 6 hours of meetings/email = 20% of output\n- Pattern: First 2 hours of day most productive\n- Action: Protected morning block, batched communication\n- Result: Same output in 6 hours vs previous 10\n\n## 80/20 Patterns by Domain\n\n### Business\n\n| Area | Typical 80/20 Finding | Action |\n|------|----------------------|--------|\n| Customers | 20% generate 80% of revenue | Tier support, dedicated success for top tier |\n| Products | 20% generate 80% of profit | Discontinue losers, double down on winners |\n| Features | 20% used 80% of time | Kill unused features, polish core ones |\n| Support tickets | 20% of issues cause 80% of volume | Fix root causes, not symptoms |\n| Salespeople | 20% close 80% of deals | Study their methods, replicate or replace |\n\n### Learning\n\n| Area | Typical 80/20 Finding | Action |\n|------|----------------------|--------|\n| Vocabulary | 2,000 words = 80% of spoken language | Learn frequency lists first |\n| Concepts | 20% of concepts enable 80% of problems | Master fundamentals before advanced |\n| Practice | 20% of exercises build 80% of skill | Identify and repeat high-value drills |\n| Books | 20% of content has 80% of value | Read intros, conclusions, skim middle |\n\n### Productivity\n\n| Area | Typical 80/20 Finding | Action |\n|------|----------------------|--------|\n| Tasks | 20% of tasks produce 80% of results | Do high-impact first, eliminate rest |\n| Time | 20% of hours are 80% productive | Protect peak hours, batch low-value |\n| Meetings | 20% of meetings matter | Cancel the rest, send updates instead |\n| Email | 20% of emails need response | Process in batches, auto-archive rest |\n\n## How to Find YOUR 80/20\n\n### Step 1: List Everything\n\nWrite down ALL activities in the area you're analyzing:\n- What do you spend time on?\n- What generates results?\n- What costs money/energy?\n\n### Step 2: Measure Impact\n\nFor each activity, estimate:\n- **Input:** Time, money, or energy spent (% of total)\n- **Output:** Results generated (% of total)\n- **Ratio:** Output  Input\n\nExample:\n| Activity | Input (%) | Output (%) | Ratio |\n|----------|-----------|------------|-------|\n| Cold email | 30% | 5% | 0.17 |\n| Referrals | 10% | 45% | 4.5 |\n| Content | 25% | 30% | 1.2 |\n| Paid ads | 35% | 20% | 0.57 |\n\n### Step 3: Rank and Cut\n\n1. **Double down:** Top 20% by ratio (Referrals in example)\n2. **Optimize:** Middle 40% (Content, Paid ads)\n3. **Eliminate:** Bottom 40% (Cold email)\n\n### Step 4: Validate with Data\n\nDon't trust gut alone:\n- Pull actual revenue by customer\n- Track actual time by activity\n- Measure actual results by channel\n\n## Output Format\n\n```markdown\n# 80/20 ANALYSIS: [AREA]\n\n## Data Summary\n\n| Activity | Input (%) | Output (%) | Ratio | Action |\n|----------|-----------|------------|-------|--------|\n| [Activity 1] | X% | Y% | Y/X | DOUBLE DOWN |\n| [Activity 2] | X% | Y% | Y/X | OPTIMIZE |\n| [Activity 3] | X% | Y% | Y/X | ELIMINATE |\n\n## Vital 20%\n\n### 1. [Top activity]\n- **Current state:** [What you're doing now]\n- **Opportunity:** [What doubling down looks like]\n- **This week:** [One specific action]\n\n### 2. [Second activity]\n- **Current state:** [What you're doing now]\n- **Opportunity:** [What doubling down looks like]\n- **This week:** [One specific action]\n\n## Eliminate\n\n- [Low-value activity 1]  Stop immediately\n- [Low-value activity 2]  Delegate or automate\n- [Low-value activity 3]  Reduce frequency\n\n## Expected Impact\n\n- **Time saved:** X hours/week\n- **Results increase:** Y% improvement\n- **When to measure:** [Specific date]\n```\n\n## Conversation Starter\n\nUse `AskUserQuestion` to begin:\n\n\"I'll help you find the 20% of activities driving 80% of your results.\n\nWhat area do you want to analyze?\n- Business (revenue, customers, products)\n- Learning (skill, subject, language)\n- Productivity (time, tasks, energy)\n- Other (describe)\"\n\nThen ask:\n1. \"What activities/inputs are involved?\" (Get the full list)\n2. \"What results/outputs matter?\" (Define success)\n3. \"Do you have data, or should we estimate?\" (Quantify)"
              }
            ]
          },
          {
            "name": "majestic-ralph",
            "description": "Autonomous AI coding loops. Ship features while you sleep with iterative prompt re-feeding. Includes 3 commands, 1 skill, and stop hook.",
            "source": "./plugins/majestic-ralph",
            "category": null,
            "version": "1.2.0",
            "author": {
              "name": "David Paluy",
              "url": "https://github.com/dpaluy",
              "email": "marketplace@it.majesticlabs.dev"
            },
            "install_commands": [
              "/plugin marketplace add majesticlabs-dev/majestic-marketplace",
              "/plugin install majestic-ralph@majestic-marketplace"
            ],
            "signals": {
              "stars": 16,
              "forks": 1,
              "pushed_at": "2026-01-12T22:29:39Z",
              "created_at": "2025-11-26T21:43:21Z",
              "license": "NOASSERTION"
            },
            "commands": [
              {
                "name": "/cancel-ralph",
                "description": "Cancel active Ralph Loop",
                "path": "plugins/majestic-ralph/commands/cancel-ralph.md",
                "frontmatter": {
                  "name": "majestic-ralph:cancel",
                  "description": "Cancel active Ralph Loop",
                  "allowed-tools": "Bash"
                },
                "content": "# Cancel Ralph Loop\n\nStop the currently running Ralph loop by removing the state file.\n\n## Execute\n\n```bash\nif [ -f .claude/ralph-loop.local.yml ]; then\n  ITERATION=$(grep '^iteration:' .claude/ralph-loop.local.yml | cut -d' ' -f2)\n  rm .claude/ralph-loop.local.yml\n  echo \"Ralph loop cancelled at iteration ${ITERATION:-unknown}\"\nelse\n  echo \"No active Ralph loop found\"\nfi\n```\n\n## Output\n\n**If loop was active:**\n```\nRalph loop cancelled at iteration N\n```\n\n**If no loop:**\n```\nNo active Ralph loop found\n```"
              },
              {
                "name": "/help",
                "description": "Explain Ralph Loop plugin and available commands",
                "path": "plugins/majestic-ralph/commands/help.md",
                "frontmatter": {
                  "name": "majestic-ralph:help",
                  "description": "Explain Ralph Loop plugin and available commands"
                },
                "content": "# Ralph Loop Help\n\nRalph Loop is an autonomous AI coding system that ships features while you sleep.\n\n## Core Concept\n\nA **self-referential feedback loop** where:\n- A single prompt never changes between iterations\n- Your previous work persists in files and git history\n- Each iteration sees modified files and improves upon them\n\n## Available Commands\n\n| Command | Purpose |\n|---------|---------|\n| `/majestic-ralph:start \"<prompt>\"` | Start an iteration loop |\n| `/majestic-ralph:cancel` | Stop the active loop |\n| `/majestic-ralph:help` | This help message |\n\n## Quick Start\n\n```bash\n# Start a loop with completion promise\n/majestic-ralph:start \"Build a login form with validation. Output <promise>DONE</promise> when complete.\" --max-iterations 20 --completion-promise \"DONE\"\n```\n\n## Key Options\n\n- `--max-iterations N` - Safety limit (recommended: 10-50)\n- `--completion-promise \"TEXT\"` - Phrase that signals genuine completion\n\n## State File\n\n| File | Purpose |\n|------|---------|\n| `.claude/ralph-loop.local.yml` | Loop state (iteration, prompt) |\n\nGitignored (`.local.` suffix).\n\n## Best Practices\n\n### 1. Small, Focused Tasks\n```\n \"Add login form with email validation\"\n \"Build entire auth system\"\n```\n\n### 2. Explicit Completion Criteria\n```\n\"Implement feature X:\n- Acceptance criteria 1\n- Acceptance criteria 2\n- Tests passing\nOutput <promise>COMPLETE</promise> when ALL criteria met.\"\n```\n\n### 3. Include Escape Hatches\n```\n\"After 15 iterations, if not complete:\n- Document what's blocking progress\n- List what was attempted\n- Suggest alternative approaches\"\n```\n\n### 4. Use with Blueprints\n```bash\n/majestic-ralph:start \"/majestic:run-blueprint docs/plans/feature.md\" --max-iterations 50 --completion-promise \"RUN_BLUEPRINT_COMPLETE\"\n```\n\n## When to Use Ralph\n\n**Good for:**\n- Well-defined tasks with clear success criteria\n- Tasks requiring iteration (getting tests to pass)\n- Greenfield projects you can walk away from\n- Tasks with automatic verification (tests, linters)\n\n**Not good for:**\n- Tasks requiring human judgment/design decisions\n- Unclear success criteria\n- Production debugging\n\n## Monitoring Progress\n\n```bash\n# Check current iteration\ngrep '^iteration:' .claude/ralph-loop.local.yml\n```\n\n## Reference\n\nOriginal technique: [ghuntley.com/ralph](https://ghuntley.com/ralph)"
              },
              {
                "name": "/ralph-loop",
                "description": "Start Ralph Loop in current session",
                "path": "plugins/majestic-ralph/commands/ralph-loop.md",
                "frontmatter": {
                  "name": "majestic-ralph:start",
                  "description": "Start Ralph Loop in current session",
                  "argument-hint": "\"<prompt>\" [--max-iterations N] [--completion-promise \"<text>\"]",
                  "allowed-tools": "Bash(${CLAUDE_PLUGIN_ROOT}/scripts/setup-ralph-loop.sh:*)",
                  "hide-from-slash-command-tool": true
                },
                "content": "# Ralph Loop\n\n## Input\n\n```\n<arguments> $ARGUMENTS </arguments>\nFormat: \"<prompt>\" [--max-iterations N] [--completion-promise \"<text>\"]\n```\n\n## Execute\n\n```bash\n\"${CLAUDE_PLUGIN_ROOT}/scripts/setup-ralph-loop.sh\" $ARGUMENTS\n```\n\n## Rules\n\n```\nONLY output <promise>PHRASE</promise> when statement is TRUE\nNEVER output false promise to escape loop\nState file: .claude/ralph-loop.local.yml\nCancel: /cancel-ralph\n```"
              }
            ],
            "skills": [
              {
                "name": "ralph-methodology",
                "description": "Technical mechanics for autonomous AI coding loops",
                "path": "plugins/majestic-ralph/skills/ralph-methodology/SKILL.md",
                "frontmatter": {
                  "name": "ralph-methodology",
                  "description": "Technical mechanics for autonomous AI coding loops",
                  "triggers": [
                    "ralph",
                    "autonomous loop",
                    "iteration loop"
                  ]
                },
                "content": "# Ralph Loop Mechanics\n\n## How It Works\n\n1. **Start:** User runs `/majestic-ralph:start \"<prompt>\" --max-iterations N --completion-promise \"WORD\"`\n2. **Loop:** Stop hook intercepts session exit, re-feeds same prompt\n3. **Exit:** Output `<promise>WORD</promise>` to signal genuine completion\n\n## State File\n\nLocation: `.claude/ralph-loop.local.yml`\n\n```yaml\niteration: 1\nmax_iterations: 50\ncompletion_promise: DONE\nstarted_at: 2024-01-15T10:30:00Z\nprompt: |\n  Your prompt here.\n  Can be multiline.\n```\n\n## Completion Signal\n\nOutput exactly: `<promise>YOUR_PHRASE</promise>`\n\n- Only output when genuinely complete\n- Lying restarts the loop\n- Max iterations is a hard stop\n\n## Safety Rules\n\n| Rule | Reason |\n|------|--------|\n| Idempotent operations | Migrations with `IF NOT EXISTS`, etc. |\n| Non-interactive commands | No `-i` flags, no prompts |\n| Clear exit criteria | Vague goals loop forever |\n\n## Monitoring\n\n```bash\n# Check iteration\ngrep '^iteration:' .claude/ralph-loop.local.yml\n\n# Cancel loop\n/majestic-ralph:cancel\n```"
              }
            ]
          },
          {
            "name": "majestic-relay",
            "description": "Fresh-context task execution with attempt ledger. Shell-orchestrated epic workflow with re-anchoring and gating. Includes 3 commands and 1 skill.",
            "source": "./plugins/majestic-relay",
            "category": null,
            "version": "1.0.4",
            "author": {
              "name": "David Paluy",
              "url": "https://github.com/dpaluy",
              "email": "marketplace@it.majesticlabs.dev"
            },
            "install_commands": [
              "/plugin marketplace add majesticlabs-dev/majestic-marketplace",
              "/plugin install majestic-relay@majestic-marketplace"
            ],
            "signals": {
              "stars": 16,
              "forks": 1,
              "pushed_at": "2026-01-12T22:29:39Z",
              "created_at": "2025-11-26T21:43:21Z",
              "license": "NOASSERTION"
            },
            "commands": [
              {
                "name": "/init",
                "description": "Parse blueprint markdown into epic.yml for fresh-context execution",
                "path": "plugins/majestic-relay/commands/init.md",
                "frontmatter": {
                  "name": "majestic-relay:init",
                  "description": "Parse blueprint markdown into epic.yml for fresh-context execution",
                  "argument-hint": "<path/to/blueprint.md>"
                },
                "content": "# Initialize Epic from Blueprint\n\nParse a blueprint markdown file and generate `.majestic/epic.yml` + `.majestic/attempt-ledger.yml` for fresh-context task execution.\n\n## Input\n\n```\n<blueprint_path> $ARGUMENTS </blueprint_path>\n```\n\n**If empty:** Ask user to provide the blueprint file path.\n\n## Workflow\n\n### 1. Validate Input\n\n```\nIf blueprint_path is empty:\n  AskUserQuestion: \"Which blueprint file should I initialize?\"\n  Options: List recent files in docs/plans/\n\nIf file doesn't exist:\n  Error: \"Blueprint not found: {path}\"\n  Exit\n```\n\n### 2. Setup Project (First Run)\n\n**Add `.majestic/` to `.gitignore`:**\n\n```\nGITIGNORE = Read(\".gitignore\") or \"\"\n\nIf \".majestic/\" not in GITIGNORE:\n  Append to .gitignore:\n    # Relay epic state (ephemeral)\n    .majestic/\n```\n\n**Initialize relay config in `.agents.yml`:**\n\n```\nIf not exists(\".agents.yml\"):\n  Create .agents.yml with relay defaults\n\nElse If \"relay:\" not in .agents.yml:\n  Append relay section to .agents.yml\n```\n\nDefault relay configuration:\n\n```yaml\nrelay:\n  version: 1\n  max_attempts_per_task: 3\n  timeout_minutes: 15\n  review:\n    enabled: false\n    provider: none  # repoprompt | gemini | none\n```\n\n### 3. Read Blueprint\n\n```\nBLUEPRINT_CONTENT = Read(blueprint_path)\n\nIf \"## Implementation Tasks\" not in BLUEPRINT_CONTENT:\n  Error: \"Blueprint missing '## Implementation Tasks' section. Run /majestic:blueprint first.\"\n  Exit\n```\n\n### 4. Parse Blueprint Structure\n\nExtract from the blueprint:\n\n**Epic metadata:**\n- Title (from `# ` heading or filename)\n- Source path\n- Description (first paragraph or summary)\n\n**Parallelization matrix:**\n```markdown\n| Group | Tasks | Blocked By |\n|-------|-------|------------|\n| A | T1: [title] | - |\n| B | T2: [title], T3: [title] | A |\n```\n\n**Task details:**\n```markdown\n##### T1: [title]\n- **Priority:** p1 | **Points:** 2\n- **Files:** [files]\n- **Depends on:** \n\n**Acceptance Criteria:**\n- [ ] Criterion 1\n- [ ] Criterion 2\n```\n\n### 5. Generate epic.yml\n\nWrite to `.majestic/epic.yml`:\n\n```yaml\nversion: 1\nid: \"{YYYYMMDD}-{slugified-title}\"\nsource: \"{blueprint_path}\"\ncreated_at: \"{ISO timestamp}\"\n\ntitle: \"{extracted title}\"\ndescription: |\n  {extracted description}\n\nparallelization:\n  - group: A\n    tasks: [T1]\n    blocked_by: []\n  - group: B\n    tasks: [T2, T3]\n    blocked_by: [A]\n\ntasks:\n  T1:\n    title: \"{task title}\"\n    priority: p1\n    points: 2\n    files:\n      - {file1}\n      - {file2}\n    depends_on: []\n    acceptance_criteria:\n      - \"{criterion 1}\"\n      - \"{criterion 2}\"\n```\n\n### 6. Load Settings from .agents.yml\n\n```\nMAX_ATTEMPTS = config-reader(\"relay.max_attempts_per_task\", 3)\nTIMEOUT = config-reader(\"relay.timeout_minutes\", 15)\nREVIEW_ENABLED = config-reader(\"relay.review.enabled\", true)\nREVIEW_PROVIDER = config-reader(\"relay.review.provider\", \"none\")\n```\n\n### 7. Generate attempt-ledger.yml\n\nWrite to `.majestic/attempt-ledger.yml`:\n\n```yaml\nversion: 1\nepic_id: \"{epic.id}\"\nstarted_at: \"{ISO timestamp}\"\nended_at: null           # Set when epic completes\nduration_minutes: null   # Calculated on completion\n\nsettings:\n  max_attempts_per_task: {MAX_ATTEMPTS}\n  timeout_minutes: {TIMEOUT}\n  review:\n    enabled: {REVIEW_ENABLED}\n    provider: \"{REVIEW_PROVIDER}\"\n\ntask_status:\n  T1: pending\n  T2: pending\n  # ... all tasks start as pending\n\nattempts: {}\n\ngated_tasks: {}\n\nrelay_status:\n  state: idle\n  pid: null\n  started_at: null\n  stopped_at: null\n  last_exit_code: null\n  last_exit_reason: null\n```\n\n### 8. Create Directory\n\n```bash\nmkdir -p .majestic\n```\n\n### 9. Write Files\n\n```\nWrite(.majestic/epic.yml, epic_content)\nWrite(.majestic/attempt-ledger.yml, ledger_content)\n```\n\n### 10. Output Summary\n\n```\n Epic initialized: {epic.id}\n\n Tasks: {task_count}\n   Group A: T1\n   Group B: T2, T3 (blocked by A)\n   Group C: T4 (blocked by B)\n\n Files created/updated:\n   - .majestic/epic.yml\n   - .majestic/attempt-ledger.yml\n   - .gitignore (added .majestic/)\n   - .agents.yml (added relay config)\n\n Next: Run `/relay:work` to start execution\n```\n\n## Error Handling\n\n| Scenario | Action |\n|----------|--------|\n| Blueprint not found | Error with path suggestion |\n| Missing ## Implementation Tasks | Error suggesting /majestic:blueprint |\n| Malformed task format | Warning, skip task, continue |\n| .majestic/ already exists | Ask to overwrite or abort |\n| Config read fails | Use default values |\n\n## Notes\n\n- Epic ID format: `YYYYMMDD-slugified-title` (e.g., `20260111-user-authentication`)\n- All tasks start as `pending` status\n- Settings inherit from `.agents.yml` with `.agents.local.yml` overrides\n- Parallelization groups are extracted from the matrix table"
              },
              {
                "name": "/status",
                "description": "Show current epic progress and task status",
                "path": "plugins/majestic-relay/commands/status.md",
                "frontmatter": {
                  "name": "majestic-relay:status",
                  "description": "Show current epic progress and task status",
                  "argument-hint": "[--verbose]"
                },
                "content": "# Epic Status\n\nDisplay the current epic progress, task status, and any gated tasks.\n\n## Workflow\n\n### 1. Check for Epic\n\n```\nIf not exists(\".majestic/epic.yml\"):\n  Error: \"No epic found. Run `/relay:init <blueprint.md>` first.\"\n  Exit\n```\n\n### 2. Load State\n\n```\nEPIC = Read(\".majestic/epic.yml\")  parse YAML\nLEDGER = Read(\".majestic/attempt-ledger.yml\")  parse YAML\n```\n\n### 3. Calculate Progress\n\n```\nTOTAL_TASKS = count(EPIC.tasks)\nCOMPLETED = count where LEDGER.task_status[task] == \"completed\"\nIN_PROGRESS = count where LEDGER.task_status[task] == \"in_progress\"\nBLOCKED = count where LEDGER.task_status[task] == \"blocked\"\nGATED = count(LEDGER.gated_tasks)\nPENDING = TOTAL_TASKS - COMPLETED - IN_PROGRESS - BLOCKED - GATED\n```\n\n### 4. Display Summary\n\n```\nEpic: {EPIC.id} ({COMPLETED}/{TOTAL_TASKS} tasks complete)\nSource: {EPIC.source}\nStarted: {LEDGER.started_at}\n\nIf LEDGER.ended_at exists:\n  Print: \"Completed: {LEDGER.ended_at} ({LEDGER.duration_minutes} min)\"\n\nProgress: [] {percentage}%\n```\n\n### 4.5. Display Relay Status\n\n```\nRELAY_STATE = LEDGER.relay_status.state // \"unknown\"\nRELAY_STOPPED_AT = LEDGER.relay_status.stopped_at\nRELAY_EXIT_REASON = LEDGER.relay_status.last_exit_reason\n\nIf RELAY_STATE == \"running\":\n  PID = LEDGER.relay_status.pid\n  Print: \"Relay:  running (PID {PID})\"\n\nElse If RELAY_STATE == \"idle\":\n  TIME_AGO = humanize(now - RELAY_STOPPED_AT)\n\n  REASON_ICON = {\n    epic_complete: \"\",\n    no_runnable_tasks: \"\",\n    interrupted: \"\",\n    crashed: \"\",\n    error: \"\"\n  }\n\n  Print: \"Relay: {REASON_ICON} {RELAY_EXIT_REASON} ({TIME_AGO} ago)\"\n\nElse:\n  Print: \"Relay:  never run\"\n```\n\n### 5. Display Task List\n\nFor each task in dependency order:\n\n```\nSTATUS_ICON = {\n  completed: \"\",\n  in_progress: \"\",\n  pending: \"\",\n  blocked: \"\",\n  gated: \"\"\n}\n\nFor each TASK_ID in EPIC.tasks:\n  STATUS = LEDGER.task_status[TASK_ID]\n  TITLE = EPIC.tasks[TASK_ID].title\n\n  If STATUS == \"in_progress\":\n    ATTEMPTS = count(LEDGER.attempts[TASK_ID])\n    MAX = LEDGER.settings.max_attempts_per_task\n    Print: \"{ICON} {TASK_ID}: {TITLE} (attempt {ATTEMPTS}/{MAX})\"\n\n  Else If STATUS == \"blocked\":\n    BLOCKERS = EPIC.tasks[TASK_ID].depends_on\n    Print: \"{ICON} {TASK_ID}: {TITLE} (blocked by {BLOCKERS})\"\n\n  Else If TASK_ID in LEDGER.gated_tasks:\n    REASON = LEDGER.gated_tasks[TASK_ID].reason\n    Print: \" {TASK_ID}: {TITLE} (gated: {REASON})\"\n\n  Else:\n    Print: \"{ICON} {TASK_ID}: {TITLE}\"\n```\n\n### 6. Verbose Mode (--verbose)\n\nIf `--verbose` in arguments, also show:\n\n```\n## Recent Attempts\n\nFor each TASK_ID with attempts:\n  For each ATTEMPT in LEDGER.attempts[TASK_ID]:\n    Print:\n      Attempt {ATTEMPT.id} ({ATTEMPT.result})\n      Started: {ATTEMPT.started_at}\n      Ended: {ATTEMPT.ended_at}\n\n      If ATTEMPT.receipt:\n        If ATTEMPT.result == \"success\":\n          Summary: {ATTEMPT.receipt.summary}\n          Files: {ATTEMPT.receipt.files_changed}\n        Else:\n          Error: {ATTEMPT.receipt.error_summary}\n          Suggestion: {ATTEMPT.receipt.suggestion}\n\n## Settings\n\nMax attempts: {LEDGER.settings.max_attempts_per_task}\nTimeout: {LEDGER.settings.timeout_minutes} minutes\nReview: {LEDGER.settings.review.provider} ({enabled/disabled})\n```\n\n## Output Example\n\n```\nEpic: 20260111-user-authentication (3/5 tasks complete)\nSource: docs/plans/20260111_user_auth.md\nStarted: 2026-01-11T17:30:00Z\n\nProgress: [] 60%\n\nRelay:  running (PID 12345)\n\n T1: Create users table migration\n T2: Add login form component\n T3: Implement password hashing\n T4: Add session management (attempt 2/3)\n T5: Add logout endpoint (blocked by T4)\n```\n\n**When relay is idle:**\n\n```\nRelay:  no_runnable_tasks (5 min ago)\n```\n\n## Error Handling\n\n| Scenario | Action |\n|----------|--------|\n| No epic found | Suggest running /relay:init |\n| Malformed YAML | Error with parse details |\n| Missing ledger | Suggest re-running /relay:init |"
              },
              {
                "name": "/work",
                "description": "Execute epic tasks with fresh-context Claude instances",
                "path": "plugins/majestic-relay/commands/work.md",
                "frontmatter": {
                  "name": "majestic-relay:work",
                  "description": "Execute epic tasks with fresh-context Claude instances",
                  "argument-hint": "[task_id] [--review|--no-review] [--max-attempts N]",
                  "allowed-tools": "Bash(${CLAUDE_PLUGIN_ROOT}/scripts/relay-work.sh:*)"
                },
                "content": "# Execute Epic Tasks\n\nRun pending tasks from `.majestic/epic.yml` using fresh Claude instances per task.\n\n## Input\n\n```\n<arguments> $ARGUMENTS </arguments>\n\nOptions:\n  [task_id]         Run specific task only (e.g., T2)\n  --review          Force review step even if disabled in config\n  --no-review       Skip review step even if enabled in config\n  --max-attempts N  Override max attempts per task\n```\n\n## Prerequisites\n\n```\nIf not exists(\".majestic/epic.yml\"):\n  Error: \"No epic found. Run `/relay:init <blueprint.md>` first.\"\n  Exit\n\nIf not exists(\".majestic/attempt-ledger.yml\"):\n  Error: \"Ledger missing. Run `/relay:init <blueprint.md>` to reinitialize.\"\n  Exit\n```\n\n## Execute\n\n```bash\n\"${CLAUDE_PLUGIN_ROOT}/scripts/relay-work.sh\" $ARGUMENTS\n```\n\n## How It Works\n\nThe shell script orchestrates task execution:\n\n```\n\n                   relay-work.sh                         \n                                                         \n  1. Find next unblocked, ungated task                  \n  2. Check attempt count (gate if exceeded)             \n  3. Build re-anchoring prompt                          \n  4. Spawn fresh Claude: claude -p --output-format json \n  5. Parse structured result with jq                    \n  6. Run optional review (repoprompt/gemini)            \n  7. Update ledger with receipt                         \n  8. Loop until all tasks complete or blocked           \n                                                         \n\n```\n\n## Re-anchoring Context\n\nEach fresh Claude instance receives:\n\n- Current git state (branch, last commit, uncommitted changes)\n- Epic summary\n- Task details (files, acceptance criteria)\n- Dependencies status\n- Previous attempt receipts (if any)\n\nThis prevents context drift and ensures each task starts with fresh awareness.\n\n## Structured Output\n\nClaude instances are invoked with `--output-format json --json-schema`, returning:\n\n```json\n{\n  \"status\": \"success\" | \"failure\",\n  \"summary\": \"Brief description\",\n  \"files_changed\": [\"file1.rb\", \"file2.rb\"],\n  \"error_category\": \"missing_dependency\",\n  \"suggestion\": \"What to try differently\"\n}\n```\n\nThe shell script parses this with `jq` to update the ledger.\n\n## Attempt Gating\n\nTasks are gated (blocked from retry) when:\n\n- Max attempts exceeded (default: 3)\n- Same error repeated with same approach\n\nGated tasks require manual intervention:\n1. Fix the underlying issue\n2. Remove from `gated_tasks` in ledger\n3. Re-run `/relay:work`\n\n## Output\n\n```\n Starting epic: 20260111-user-authentication\n\n[T1] Create users table migration\n     Attempt 1/3...\n      Success\n\n[T2] Add login form component\n     Attempt 1/3...\n      Failed: Missing dependency\n     Attempt 2/3...\n      Success\n\n[T3] Implement password hashing\n     Attempt 1/3...\n      Running review (gemini)...\n      Approved\n\n Epic complete! (3/3 tasks)\n```\n\n## Error Handling\n\n| Scenario | Action |\n|----------|--------|\n| No pending tasks | Check for gated tasks, report status |\n| All tasks blocked | Report dependency chain, suggest manual fix |\n| Claude instance fails | Record failure receipt, retry or gate |\n| Review rejects | Record as failure, retry with feedback |\n| Ctrl+C interrupt | Save current state, exit cleanly |\n\n## Notes\n\n- Tasks execute sequentially (one at a time)\n- Each task gets a fresh Claude context\n- Progress persists in `.majestic/attempt-ledger.yml`\n- Can resume anytime with `/relay:work`"
              }
            ],
            "skills": [
              {
                "name": "attempt-ledger",
                "description": "Knowledge about attempt tracking and gating patterns for task execution",
                "path": "plugins/majestic-relay/skills/attempt-ledger/SKILL.md",
                "frontmatter": {
                  "name": "attempt-ledger",
                  "description": "Knowledge about attempt tracking and gating patterns for task execution",
                  "triggers": [
                    "relay",
                    "epic",
                    "task execution",
                    "attempt",
                    "gating",
                    "retry"
                  ]
                },
                "content": "# Attempt Ledger Pattern\n\n## Purpose\n\nThe attempt ledger tracks execution attempts for tasks, enabling:\n\n- **Retry with context:** Each attempt includes previous failure information\n- **Gating:** Prevents infinite retry loops when tasks consistently fail\n- **Progress persistence:** Resume execution after interruption\n- **Receipt tracking:** Structured summaries instead of full transcripts\n\n## Schema\n\n```yaml\n# .majestic/attempt-ledger.yml\nversion: 1\nepic_id: \"20260111-feature-name\"\nstarted_at: \"2026-01-11T17:30:00Z\"\n\nsettings:\n  max_attempts_per_task: 3\n  timeout_minutes: 15\n  review:\n    enabled: true\n    provider: repoprompt  # repoprompt | gemini | none\n\ntask_status:\n  T1: completed\n  T2: in_progress\n  T3: pending\n  T4: blocked\n\nattempts:\n  T1:\n    - id: 1\n      started_at: \"...\"\n      ended_at: \"...\"\n      result: success\n      receipt:\n        summary: \"Created migration and model\"\n        files_changed: [file1.rb, file2.rb]\n\n  T2:\n    - id: 1\n      result: failure\n      receipt:\n        error_category: missing_dependency\n        error_summary: \"Database not migrated\"\n        suggestion: \"Run db:migrate first\"\n\ngated_tasks:\n  T5:\n    reason: \"max_attempts_exceeded\"\n    gated_at: \"...\"\n```\n\n## Gating Rules\n\nTasks are gated (blocked from retry) when:\n\n| Condition | Gating Action |\n|-----------|---------------|\n| `attempts >= max_attempts` | Gate with `max_attempts_exceeded` |\n| Same error repeated 2+ times | Gate with `repeated_failure` |\n| Manual block by user | Gate with `user_blocked` |\n\n## Receipt Structure\n\n### Success Receipt\n\n```yaml\nreceipt:\n  summary: \"Brief description of what was done\"\n  files_changed: [list, of, files]\n  tests_passed: true\n```\n\n### Failure Receipt\n\n```yaml\nreceipt:\n  error_category: missing_dependency | code_error | test_failure | timeout\n  error_summary: \"What went wrong\"\n  approach_taken: \"What was attempted\"\n  suggestion: \"What to try differently\"\n```\n\n## Task Status Flow\n\n```\npending  in_progress  completed\n                \n            failure  pending (retry)\n                \n            max_attempts  gated\n```\n\n## Integration with Re-anchoring\n\nEach fresh Claude instance receives:\n\n1. **Git state:** Current branch, last commit, uncommitted changes\n2. **Epic context:** Title, description, overall progress\n3. **Task details:** Files, acceptance criteria, dependencies\n4. **Previous receipts:** What was tried, what failed, why\n\nThis prevents context drift and ensures each attempt builds on prior learnings.\n\n## Commands\n\n| Command | Purpose |\n|---------|---------|\n| `/relay:init` | Create epic and ledger from blueprint |\n| `/relay:status` | Show progress and gated tasks |\n| `/relay:work` | Execute tasks with attempt tracking |\n\n## Configuration\n\nIn `.agents.yml`:\n\n```yaml\nrelay:\n  max_attempts_per_task: 3\n  timeout_minutes: 15\n  review:\n    enabled: true\n    provider: none  # repoprompt | gemini | none\n```\n\nOverride locally in `.agents.local.yml` (gitignored)."
              }
            ]
          }
        ]
      }
    }
  ]
}