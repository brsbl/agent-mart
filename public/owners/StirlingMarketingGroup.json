{
  "owner": {
    "id": "StirlingMarketingGroup",
    "display_name": "Stirling Marketing Group",
    "type": "Organization",
    "avatar_url": "https://avatars.githubusercontent.com/u/41347613?v=4",
    "url": "https://github.com/StirlingMarketingGroup",
    "bio": null,
    "stats": {
      "total_repos": 1,
      "total_plugins": 1,
      "total_commands": 0,
      "total_skills": 1,
      "total_stars": 3,
      "total_forks": 0
    }
  },
  "repos": [
    {
      "full_name": "StirlingMarketingGroup/cool-mysql",
      "url": "https://github.com/StirlingMarketingGroup/cool-mysql",
      "description": "A cool MySQL library for cool people",
      "homepage": null,
      "signals": {
        "stars": 3,
        "forks": 0,
        "pushed_at": "2025-12-31T23:12:07Z",
        "created_at": "2020-10-20T03:02:32Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 375
        },
        {
          "path": ".claude",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/cool-mysql",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/cool-mysql/SKILL.md",
          "type": "blob",
          "size": 16996
        },
        {
          "path": ".claude/skills/cool-mysql/examples",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/cool-mysql/examples/advanced-queries.go",
          "type": "blob",
          "size": 19132
        },
        {
          "path": ".claude/skills/cool-mysql/examples/basic-crud.go",
          "type": "blob",
          "size": 13915
        },
        {
          "path": ".claude/skills/cool-mysql/examples/caching-setup.go",
          "type": "blob",
          "size": 15168
        },
        {
          "path": ".claude/skills/cool-mysql/examples/transaction-patterns.go",
          "type": "blob",
          "size": 15104
        },
        {
          "path": ".claude/skills/cool-mysql/examples/upsert-examples.go",
          "type": "blob",
          "size": 15905
        },
        {
          "path": ".claude/skills/cool-mysql/references",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/skills/cool-mysql/references/api-reference.md",
          "type": "blob",
          "size": 18998
        },
        {
          "path": ".claude/skills/cool-mysql/references/caching-guide.md",
          "type": "blob",
          "size": 17253
        },
        {
          "path": ".claude/skills/cool-mysql/references/query-patterns.md",
          "type": "blob",
          "size": 19411
        },
        {
          "path": ".claude/skills/cool-mysql/references/struct-tags.md",
          "type": "blob",
          "size": 14006
        },
        {
          "path": ".claude/skills/cool-mysql/references/testing-patterns.md",
          "type": "blob",
          "size": 22296
        },
        {
          "path": ".github",
          "type": "tree",
          "size": null
        },
        {
          "path": ".github/workflows",
          "type": "tree",
          "size": null
        },
        {
          "path": ".github/workflows/tests.yml",
          "type": "blob",
          "size": 948
        },
        {
          "path": ".gitignore",
          "type": "blob",
          "size": 36
        },
        {
          "path": ".golangci.yml",
          "type": "blob",
          "size": 185
        },
        {
          "path": ".vscode",
          "type": "tree",
          "size": null
        },
        {
          "path": ".vscode/settings.json.example",
          "type": "blob",
          "size": 218
        },
        {
          "path": "LICENSE",
          "type": "blob",
          "size": 1081
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 17393
        },
        {
          "path": "cache.go",
          "type": "blob",
          "size": 1590
        },
        {
          "path": "cache_test.go",
          "type": "blob",
          "size": 1056
        },
        {
          "path": "context.go",
          "type": "blob",
          "size": 2789
        },
        {
          "path": "count.go",
          "type": "blob",
          "size": 985
        },
        {
          "path": "database.go",
          "type": "blob",
          "size": 13869
        },
        {
          "path": "die.go",
          "type": "blob",
          "size": 106
        },
        {
          "path": "env.go",
          "type": "blob",
          "size": 807
        },
        {
          "path": "error.go",
          "type": "blob",
          "size": 1762
        },
        {
          "path": "exec.go",
          "type": "blob",
          "size": 3145
        },
        {
          "path": "exec_test.go",
          "type": "blob",
          "size": 1288
        },
        {
          "path": "exists.go",
          "type": "blob",
          "size": 3809
        },
        {
          "path": "float_test.go",
          "type": "blob",
          "size": 17762
        },
        {
          "path": "go.mod",
          "type": "blob",
          "size": 1313
        },
        {
          "path": "go.sum",
          "type": "blob",
          "size": 16890
        },
        {
          "path": "insert.go",
          "type": "blob",
          "size": 9825
        },
        {
          "path": "insert_test.go",
          "type": "blob",
          "size": 6706
        },
        {
          "path": "logger.go",
          "type": "blob",
          "size": 950
        },
        {
          "path": "main.go",
          "type": "blob",
          "size": 745
        },
        {
          "path": "memcache_cache.go",
          "type": "blob",
          "size": 781
        },
        {
          "path": "nil.go",
          "type": "blob",
          "size": 146
        },
        {
          "path": "params.go",
          "type": "blob",
          "size": 18237
        },
        {
          "path": "params_test.go",
          "type": "blob",
          "size": 14961
        },
        {
          "path": "ptr.go",
          "type": "blob",
          "size": 52
        },
        {
          "path": "redis_cache.go",
          "type": "blob",
          "size": 1227
        },
        {
          "path": "reflect.go",
          "type": "blob",
          "size": 2981
        },
        {
          "path": "reflect_test.go",
          "type": "blob",
          "size": 409
        },
        {
          "path": "rows.go",
          "type": "blob",
          "size": 11254
        },
        {
          "path": "rows_precision_test.go",
          "type": "blob",
          "size": 972
        },
        {
          "path": "select.go",
          "type": "blob",
          "size": 16411
        },
        {
          "path": "select_ptrdest_test.go",
          "type": "blob",
          "size": 2083
        },
        {
          "path": "select_test.go",
          "type": "blob",
          "size": 17727
        },
        {
          "path": "select_unmarshalling_test.go",
          "type": "blob",
          "size": 2946
        },
        {
          "path": "sql.go",
          "type": "blob",
          "size": 1526
        },
        {
          "path": "sqlwriter.go",
          "type": "blob",
          "size": 1393
        },
        {
          "path": "sync.go",
          "type": "blob",
          "size": 240
        },
        {
          "path": "tag.go",
          "type": "blob",
          "size": 842
        },
        {
          "path": "tag_test.go",
          "type": "blob",
          "size": 987
        },
        {
          "path": "timezone_test.go",
          "type": "blob",
          "size": 2676
        },
        {
          "path": "tx.go",
          "type": "blob",
          "size": 5790
        },
        {
          "path": "types.go",
          "type": "blob",
          "size": 108
        },
        {
          "path": "upsert.go",
          "type": "blob",
          "size": 6971
        },
        {
          "path": "upsert_test.go",
          "type": "blob",
          "size": 3907
        },
        {
          "path": "value.go",
          "type": "blob",
          "size": 595
        },
        {
          "path": "weak_cache.go",
          "type": "blob",
          "size": 1243
        },
        {
          "path": "writer.go",
          "type": "blob",
          "size": 575
        },
        {
          "path": "zaplogger.go",
          "type": "blob",
          "size": 501
        },
        {
          "path": "zero.go",
          "type": "blob",
          "size": 530
        },
        {
          "path": "zero_test.go",
          "type": "blob",
          "size": 3170
        }
      ],
      "marketplace": {
        "name": "cool-mysql",
        "version": null,
        "description": null,
        "owner_info": {
          "name": "Stirling Marketing Group"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "cool-mysql",
            "description": "Comprehensive guide for cool-mysql Go library - MySQL helper with dual connection pools, named parameters, template syntax, caching, and advanced query patterns",
            "source": "./.claude/skills/cool-mysql",
            "category": null,
            "version": null,
            "author": null,
            "install_commands": [
              "/plugin marketplace add StirlingMarketingGroup/cool-mysql",
              "/plugin install cool-mysql@cool-mysql"
            ],
            "signals": {
              "stars": 3,
              "forks": 0,
              "pushed_at": "2025-12-31T23:12:07Z",
              "created_at": "2020-10-20T03:02:32Z",
              "license": "MIT"
            },
            "commands": [],
            "skills": [
              {
                "name": "cool-mysql",
                "description": "Use this skill when working with the cool-mysql library for Go. This skill provides comprehensive guidance on using cool-mysql's MySQL helper functions, including dual connection pools, named parameters, template syntax, caching strategies, and advanced query patterns. Apply when writing database code, optimizing queries, setting up caching, or migrating from database/sql.",
                "path": ".claude/skills/cool-mysql/SKILL.md",
                "frontmatter": {
                  "name": "cool-mysql",
                  "description": "Use this skill when working with the cool-mysql library for Go. This skill provides comprehensive guidance on using cool-mysql's MySQL helper functions, including dual connection pools, named parameters, template syntax, caching strategies, and advanced query patterns. Apply when writing database code, optimizing queries, setting up caching, or migrating from database/sql."
                },
                "content": "# cool-mysql MySQL Helper Library\n\n## Overview\n\n`cool-mysql` is a MySQL helper library for Go that wraps `database/sql` with MySQL-specific conveniences while keeping the underlying interfaces intact. The library reduces boilerplate code for common database operations while providing advanced features like caching, automatic retries, and dual read/write connection pools.\n\n**Core Philosophy:**\n- Keep `database/sql` interfaces intact\n- Provide conveniences without hiding MySQL behavior\n- Focus on productivity without sacrificing control\n- Type-safe operations with flexible result mapping\n\n## When to Use This Skill\n\nUse this skill when:\n- Writing MySQL database operations in Go\n- Setting up database connections with read/write separation\n- Implementing caching strategies for queries\n- Working with struct mappings and MySQL columns\n- Migrating from `database/sql` to `cool-mysql`\n- Optimizing query performance\n- Handling transactions with proper context management\n- Debugging query issues or understanding error handling\n- Implementing CRUD operations, upserts, or batch inserts\n\n## Core Concepts\n\n### 1. Dual Connection Pools\n\n`cool-mysql` maintains separate connection pools for reads and writes to optimize for read-heavy workloads.\n\n**Default Behavior:**\n- `Select()`, `SelectJSON()`, `Count()`, `Exists()` → Read pool\n- `Insert()`, `Upsert()`, `Exec()` → Write pool\n- `SelectWrites()`, `ExistsWrites()` → Write pool (for read-after-write consistency)\n\n**When to use SelectWrites():**\nUse immediately after writing data when you need consistency:\n```go\ndb.Insert(\"users\", user)\n// Need immediate consistency - use write pool\ndb.SelectWrites(&user, \"SELECT `id`, `name`, `email`, `age`, `active`, `created_at`, `updated_at` FROM `users` WHERE `id` = @@id\", 0, user.ID)\n```\n\n### 2. Named Parameters\n\ncool-mysql uses `@@paramName` syntax instead of positional `?` placeholders.\n\n**Key Points:**\n- Parameters are case-insensitive when merged\n- Structs can be used directly as parameters (field names → parameter names)\n- Use `mysql.Params{\"key\": value}` for explicit parameters\n- Use `mysql.Raw()` to inject literal SQL (not escaped)\n\n**Example:**\n```go\n// Named parameters\ndb.Select(&users, \"SELECT `id`, `name`, `email`, `age`, `active`, `created_at`, `updated_at` FROM `users` WHERE `age` > @@minAge AND `status` = @@status\", 0,\n    mysql.Params{\"minAge\": 18, \"status\": \"active\"})\n\n// Struct as parameters\nuser := User{ID: 1, Name: \"Alice\"}\ndb.Exec(\"UPDATE `users` SET `name` = @@Name WHERE `id` = @@ID\", user)\n\n// Raw SQL injection\ndb.Select(&users, \"SELECT `id`, `name`, `email`, `age`, `active`, `created_at`, `updated_at` FROM `users` WHERE @@condition\", 0,\n    mysql.Raw(\"created_at > NOW() - INTERVAL 1 DAY\"))\n```\n\n### 3. Template Syntax\n\ncool-mysql supports Go template syntax for conditional query logic.\n\n**Important Distinctions:**\n- Template variables use **field names** (`.Name`), not column names from tags\n- Template processing happens **before** parameter interpolation\n- Access parameters directly as fields: `.ParamName`\n\n**CRITICAL: Marshaling Template Values**\n\nWhen injecting VALUES (not identifiers) via templates, you MUST use the `marshal` pipe:\n\n```go\n// ✅ CORRECT - Use @@param for values (automatically marshaled)\nquery := \"SELECT `id`, `name`, `email`, `age`, `active`, `created_at`, `updated_at` FROM `users` WHERE {{ if .MinAge }}`age` > @@minAge{{ end }}\"\n\n// ✅ CORRECT - Use | marshal when injecting value directly in template\nquery := \"SELECT `id`, `name`, `email`, `age`, `active`, `created_at`, `updated_at` FROM `users` WHERE `name` = {{ .Name | marshal }}\"\n\n// ❌ WRONG - Direct injection without marshal causes syntax errors\nquery := \"SELECT `id`, `name`, `email`, `age`, `active`, `created_at`, `updated_at` FROM `users` WHERE `name` = {{ .Name }}\"  // BROKEN!\n\n// ✅ CORRECT - Identifiers (column names) validated, then injected\nif !allowedColumns[sortBy] { return errors.New(\"invalid column\") }\nquery := \"SELECT `id`, `name`, `email`, `age`, `active`, `created_at`, `updated_at` FROM `users` ORDER BY {{ .SortBy }}\"  // OK - validated identifier\n```\n\n**Best Practice:** Use `@@param` syntax for values. Only use template injection with `| marshal` when you need conditional value logic.\n\n**Example:**\n```go\ndb.Select(&users,\n    \"SELECT `id`, `name`, `email`, `age`, `active`, `created_at`, `updated_at` FROM `users` WHERE 1=1\"+\n    \" {{ if .MinAge }}AND `age` > @@minAge{{ end }}\"+\n    \" {{ if .Status }}AND `status` = @@status{{ end }}\",\n    0,\n    mysql.Params{\"minAge\": 18, \"status\": \"active\"})\n```\n\n### 4. Caching\n\ncool-mysql provides pluggable caching with support for Redis, Memcached, or in-memory storage.\n\n**Cache TTL:**\n- `0` = No caching (always query database)\n- `> 0` = Cache for specified duration (e.g., `5*time.Minute`)\n\n**Cache Setup:**\n```go\n// Redis (with distributed locking)\ndb.EnableRedis(redisClient)\n\n// Memcached\ndb.EnableMemcache(memcacheClient)\n\n// In-memory (weak pointers, GC-managed)\ndb.UseCache(mysql.NewWeakCache())\n\n// Layered caching (fast local + shared distributed)\ndb.UseCache(mysql.NewMultiCache(\n    mysql.NewWeakCache(),      // L1: Fast local cache\n    mysql.NewRedisCache(redis), // L2: Shared distributed cache\n))\n```\n\n**Only SELECT operations are cached** - writes always hit the database.\n\n### 5. Struct Tag Mapping\n\nControl column mapping and behavior with `mysql` struct tags.\n\n**Tag Options:**\n- `mysql:\"column_name\"` - Map to database column\n- `mysql:\"column_name,defaultzero\"` - Write `DEFAULT(column_name)` for zero values\n- `mysql:\"column_name,omitempty\"` - Same as `defaultzero`\n- `mysql:\"column_name,insertDefault\"` - Same as `defaultzero`\n- `mysql:\"-\"` - Completely ignore this field\n- `mysql:\"column0x2cname\"` - Hex encoding for special characters (becomes `column,name`)\n\n**Example:**\n```go\ntype User struct {\n    ID        int       `mysql:\"id\"`\n    Name      string    `mysql:\"name\"`\n    Email     string    `mysql:\"email\"`\n    CreatedAt time.Time `mysql:\"created_at,defaultzero\"` // Use DB default on zero value\n    UpdatedAt time.Time `mysql:\"updated_at,defaultzero\"`\n    Password  string    `mysql:\"-\"` // Never include in queries\n}\n```\n\n## Quick Start Guide\n\n### Creating a Database Connection\n\n**From connection parameters:**\n```go\ndb, err := mysql.New(\n    wUser, wPass, wSchema, wHost, wPort,  // Write connection\n    rUser, rPass, rSchema, rHost, rPort,  // Read connection\n    collation,                             // e.g., \"utf8mb4_unicode_ci\"\n    timeZone,                              // e.g., \"America/New_York\"\n)\n```\n\n**From DSN strings:**\n```go\ndb, err := mysql.NewFromDSN(writesDSN, readsDSN)\n```\n\n**From existing connections:**\n```go\ndb, err := mysql.NewFromConn(writesConn, readsConn)\n```\n\n### Basic Query Patterns\n\n**Select into struct slice:**\n```go\nvar users []User\nerr := db.Select(&users, \"SELECT `id`, `name`, `email`, `age`, `active`, `created_at`, `updated_at` FROM `users` WHERE `age` > @@minAge\", 0, 18)\n```\n\n**Select single value:**\n```go\nvar name string\nerr := db.Select(&name, \"SELECT `name` FROM `users` WHERE `id` = @@id\", 0, 1)\n// Returns sql.ErrNoRows if not found\n```\n\n**Count records:**\n```go\ncount, err := db.Count(\"SELECT COUNT(*) FROM `users` WHERE `active` = @@active\", 0, 1)\n```\n\n**Check existence:**\n```go\nexists, err := db.Exists(\"SELECT 1 FROM `users` WHERE `email` = @@email\", 0, \"user@example.com\")\n```\n\n**Insert data:**\n```go\n// Single insert\nuser := User{Name: \"Alice\", Email: \"alice@example.com\"}\nerr := db.Insert(\"users\", user)\n\n// Batch insert (automatically chunked)\nusers := []User{{Name: \"Bob\"}, {Name: \"Charlie\"}}\nerr := db.Insert(\"users\", users)\n```\n\n**Upsert (INSERT ... ON DUPLICATE KEY UPDATE):**\n```go\nerr := db.Upsert(\n    \"users\",                      // table\n    []string{\"email\"},           // unique columns\n    []string{\"name\", \"updated_at\"}, // columns to update on conflict\n    \"\",                          // optional WHERE clause\n    user,                        // data\n)\n```\n\n**Execute query:**\n```go\nerr := db.Exec(\"UPDATE `users` SET `active` = 1 WHERE `id` = @@id\", 1)\n```\n\n## Migration Guide from database/sql\n\n### Key Differences\n\n| database/sql | cool-mysql | Notes |\n|--------------|------------|-------|\n| `?` placeholders | `@@paramName` | Named parameters are case-insensitive |\n| `db.Query()` + `rows.Scan()` | `db.Select(&result, query, cacheTTL, params)` | Automatic scanning into structs |\n| Manual connection pools | Dual pools (read/write) | Automatic routing based on operation |\n| No caching | Built-in caching | Pass TTL as second parameter |\n| `sql.ErrNoRows` always | `sql.ErrNoRows` for single values only | Slices return empty, not error |\n| Manual chunking | Automatic chunking | Insert operations respect `max_allowed_packet` |\n| No retry logic | Automatic retries | Handles deadlocks, timeouts, connection losses |\n\n### Migration Pattern\n\n**Before (database/sql):**\n```go\nrows, err := db.Query(\"SELECT `id`, `name`, `email` FROM `users` WHERE `age` > ?\", 18)\nif err != nil {\n    return err\n}\ndefer rows.Close()\n\nvar users []User\nfor rows.Next() {\n    var u User\n    if err := rows.Scan(&u.ID, &u.Name, &u.Email); err != nil {\n        return err\n    }\n    users = append(users, u)\n}\nreturn rows.Err()\n```\n\n**After (cool-mysql):**\n```go\nvar users []User\nreturn db.Select(&users, \"SELECT `id`, `name`, `email`, `age`, `active`, `created_at`, `updated_at` FROM `users` WHERE `age` > @@minAge\", 0, 18)\n```\n\n## Best Practices\n\n### Parameter Handling\n\n**DO:**\n- Use `@@paramName` syntax consistently\n- Use `mysql.Params{}` for clarity\n- Use structs as parameters when appropriate\n- Use `mysql.Raw()` for literal SQL that shouldn't be escaped\n\n**DON'T:**\n- Mix `?` and `@@` syntax (use `@@` exclusively)\n- Assume parameters are case-sensitive (they're normalized)\n- Inject user input with `mysql.Raw()` (SQL injection risk)\n\n### Template Usage\n\n**DO:**\n- Use templates for conditional query logic\n- Use `@@param` for values (preferred - automatically marshaled)\n- Use `{{.Field | marshal}}` when injecting values directly in templates\n- Validate/whitelist identifiers (column names) before template injection\n- Reference parameters by field name: `.ParamName`\n- Add custom template functions with `db.AddTemplateFuncs()`\n\n**DON'T:**\n- Inject values without marshal: `{{.Name}}` causes syntax errors\n- Use column names in templates (use field names)\n- Forget that templates process before parameter interpolation\n- Use templates when named parameters suffice\n- Inject user-controlled identifiers without validation\n\n### Caching Strategy\n\n**DO:**\n- Use `0` TTL for frequently-changing data\n- Use longer TTLs (5-60 minutes) for stable reference data\n- Use `SelectWrites()` immediately after writes for consistency\n- Consider `MultiCache` for high-traffic applications\n- Enable Redis distributed locking to prevent cache stampedes\n\n**DON'T:**\n- Cache writes (they're automatically skipped)\n- Use same TTL for all queries (tune based on data volatility)\n- Forget that cache keys include query + parameters\n\n### Struct Tags\n\n**DO:**\n- Use `defaultzero` for timestamp columns with DB defaults\n- Use `mysql:\"-\"` to exclude sensitive fields\n- Use hex encoding for column names with special characters\n- Implement `Zeroer` interface for custom zero-value detection\n\n**DON'T:**\n- Forget that tag column names override field names\n- Mix `json` tags with `mysql` tags without testing\n\n### Error Handling\n\n**DO:**\n- Check for `sql.ErrNoRows` when selecting single values\n- Rely on automatic retries for transient errors (deadlocks, timeouts)\n- Use `ExecResult()` when you need `LastInsertId()` or `RowsAffected()`\n\n**DON'T:**\n- Expect `sql.ErrNoRows` when selecting into slices (returns empty slice)\n- Implement manual retry logic (already built-in)\n\n### Performance Optimization\n\n**DO:**\n- Use channels for memory-efficient streaming of large datasets\n- Use `SelectWrites()` sparingly (only when consistency required)\n- Enable caching for expensive or frequent queries\n- Use batch operations (slices/channels) for large inserts\n\n**DON'T:**\n- Load entire large result sets into memory when streaming is possible\n- Use `SelectWrites()` as default (defeats read pool optimization)\n- Cache everything (tune TTL based on access patterns)\n\n## Advanced Patterns\n\n### Streaming with Channels\n\n**Select into channel:**\n```go\nuserCh := make(chan User)\ngo func() {\n    defer close(userCh)\n    db.Select(userCh, \"SELECT `id`, `name`, `email`, `age`, `active`, `created_at`, `updated_at` FROM `users`\", 0)\n}()\n\nfor user := range userCh {\n    // Process user\n}\n```\n\n**Insert from channel:**\n```go\nuserCh := make(chan User)\ngo func() {\n    for _, u := range users {\n        userCh <- u\n    }\n    close(userCh)\n}()\n\nerr := db.Insert(\"users\", userCh)\n```\n\n### Function Receivers\n\n```go\nerr := db.Select(func(u User) {\n    log.Printf(\"Processing user: %s\", u.Name)\n}, \"SELECT `id`, `name`, `email`, `age`, `active`, `created_at`, `updated_at` FROM `users`\", 0)\n```\n\n### Transaction Management\n\n```go\ntx, commit, cancel, err := mysql.GetOrCreateTxFromContext(ctx)\ndefer cancel()\nif err != nil {\n    return err\n}\n\n// Store transaction in context\nctx = mysql.NewContextWithTx(ctx, tx)\n\n// Do database operations...\n\nif err := commit(); err != nil {\n    return err\n}\n```\n\n### Custom Interfaces\n\n**Custom zero detection:**\n```go\ntype CustomTime struct {\n    time.Time\n}\n\nfunc (ct CustomTime) IsZero() bool {\n    return ct.Time.IsZero() || ct.Time.Unix() == 0\n}\n```\n\n**Custom value conversion:**\n```go\ntype Point struct {\n    X, Y float64\n}\n\nfunc (p Point) Values() []any {\n    return []any{p.X, p.Y}\n}\n```\n\n## Environment Variables\n\nConfigure behavior via environment variables:\n\n- `COOL_MAX_EXECUTION_TIME_TIME` - Max query execution time (default: 27s)\n- `COOL_MAX_ATTEMPTS` - Max retry attempts (default: unlimited)\n- `COOL_REDIS_LOCK_RETRY_DELAY` - Lock retry delay (default: 0.020s)\n- `COOL_MYSQL_MAX_QUERY_LOG_LENGTH` - Max query length in logs (default: 4096 bytes)\n\n## Bundled Resources\n\nThis skill includes comprehensive reference documentation and working examples:\n\n### Reference Documentation (`references/`)\n\n- **api-reference.md** - Complete API documentation for all methods\n- **query-patterns.md** - Query pattern examples and best practices\n- **caching-guide.md** - Detailed caching strategies and configuration\n- **struct-tags.md** - Comprehensive struct tag reference\n- **testing-patterns.md** - Testing approaches with sqlmock\n\nTo access reference documentation:\n```\nRead references/api-reference.md for complete API documentation\nRead references/query-patterns.md for query examples\nRead references/caching-guide.md for caching strategies\nRead references/struct-tags.md for struct tag details\nRead references/testing-patterns.md for testing patterns\n```\n\n### Working Examples (`examples/`)\n\n- **basic-crud.go** - Simple CRUD operations\n- **advanced-queries.go** - Templates, channels, function receivers\n- **caching-setup.go** - Cache configuration examples\n- **transaction-patterns.go** - Transaction handling patterns\n- **upsert-examples.go** - Upsert use cases\n\nTo access examples:\n```\nRead examples/basic-crud.go for basic patterns\nRead examples/advanced-queries.go for advanced usage\nRead examples/caching-setup.go for cache setup\nRead examples/transaction-patterns.go for transactions\nRead examples/upsert-examples.go for upsert patterns\n```\n\n## Common Gotchas\n\n1. **Empty Result Handling**: Selecting into slice returns empty slice (not `sql.ErrNoRows`); selecting into single value returns `sql.ErrNoRows`\n\n2. **Template vs Column Names**: Templates use field names (`.Name`), not column names from tags\n\n3. **Cache Keys**: Include both query and parameters, so identical queries with different params cache separately\n\n4. **Read/Write Consistency**: Use `SelectWrites()` immediately after writes, not `Select()`\n\n5. **Struct Tag Priority**: `mysql` tag overrides field name for column mapping\n\n6. **Parameter Case**: Parameters are case-insensitive when merged (normalized to lowercase)\n\n7. **Automatic Chunking**: Large inserts automatically chunk based on `max_allowed_packet`\n\n8. **Retry Behavior**: Automatic retries for error codes 1213 (deadlock), 1205 (lock timeout), 2006 (server gone), 2013 (connection lost)\n\n## Next Steps\n\n- Read `references/api-reference.md` for complete API documentation\n- Check `examples/basic-crud.go` to see common patterns in action\n- Review `references/caching-guide.md` for caching best practices\n- Study `references/struct-tags.md` for advanced struct mapping\n- Explore `examples/advanced-queries.go` for complex query patterns"
              }
            ]
          }
        ]
      }
    }
  ]
}