{
  "owner": {
    "id": "Sunalamye",
    "display_name": "Soane",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/26920277?u=4ee466ff942b3a1ace27f9abff3faf29b335c825&v=4",
    "url": "https://github.com/Sunalamye",
    "bio": null,
    "stats": {
      "total_repos": 1,
      "total_plugins": 1,
      "total_commands": 0,
      "total_skills": 1,
      "total_stars": 0,
      "total_forks": 0
    }
  },
  "repos": [
    {
      "full_name": "Sunalamye/WebViewBridge",
      "url": "https://github.com/Sunalamye/WebViewBridge",
      "description": "Swift WebPage bridge framework for macOS 26.0+ with JavaScript injection and bidirectional communication",
      "homepage": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2025-12-07T08:37:46Z",
        "created_at": "2025-12-07T06:00:42Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 655
        },
        {
          "path": ".gitignore",
          "type": "blob",
          "size": 18
        },
        {
          "path": "LICENSE",
          "type": "blob",
          "size": 1062
        },
        {
          "path": "Package.swift",
          "type": "blob",
          "size": 790
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 5744
        },
        {
          "path": "Sources",
          "type": "tree",
          "size": null
        },
        {
          "path": "Sources/WebViewBridge",
          "type": "tree",
          "size": null
        },
        {
          "path": "Sources/WebViewBridge/Core",
          "type": "tree",
          "size": null
        },
        {
          "path": "Sources/WebViewBridge/Core/WebViewBridge.swift",
          "type": "blob",
          "size": 9585
        },
        {
          "path": "Sources/WebViewBridge/JavaScript",
          "type": "tree",
          "size": null
        },
        {
          "path": "Sources/WebViewBridge/JavaScript/bridge-core.js",
          "type": "blob",
          "size": 8813
        },
        {
          "path": "Sources/WebViewBridge/WebViewBridgeKit.swift",
          "type": "blob",
          "size": 271
        },
        {
          "path": "Tests",
          "type": "tree",
          "size": null
        },
        {
          "path": "Tests/WebViewBridgeTests",
          "type": "tree",
          "size": null
        },
        {
          "path": "Tests/WebViewBridgeTests/WebViewBridgeTests.swift",
          "type": "blob",
          "size": 1904
        },
        {
          "path": "skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/webviewbridge-guide",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/webviewbridge-guide/SKILL.md",
          "type": "blob",
          "size": 6167
        },
        {
          "path": "skills/webviewbridge-guide/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/webviewbridge-guide/references/reference.md",
          "type": "blob",
          "size": 4270
        }
      ],
      "marketplace": {
        "name": "webviewbridge-skills",
        "version": null,
        "description": null,
        "owner_info": {
          "name": "WebViewBridge",
          "email": "sunalamye@pm.me"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "webviewbridge-guide",
            "description": "Guide for WebPage (macOS 26.0+) bidirectional communication with JavaScript injection. Use when integrating WebPage with Swift, injecting JavaScript, or handling JS↔Swift messaging.",
            "source": "./",
            "category": null,
            "version": null,
            "author": null,
            "install_commands": [
              "/plugin marketplace add Sunalamye/WebViewBridge",
              "/plugin install webviewbridge-guide@webviewbridge-skills"
            ],
            "signals": {
              "stars": 0,
              "forks": 0,
              "pushed_at": "2025-12-07T08:37:46Z",
              "created_at": "2025-12-07T06:00:42Z",
              "license": "MIT"
            },
            "commands": [],
            "skills": [
              {
                "name": "webviewbridge-guide",
                "description": "Guide for using WebViewBridge Swift package to build WebPage (macOS 26.0+) bridges with JavaScript injection and bidirectional communication. Use when integrating WebPage with Swift, injecting JavaScript, or handling JS↔Swift messaging.",
                "path": "skills/webviewbridge-guide/SKILL.md",
                "frontmatter": {
                  "name": "webviewbridge-guide",
                  "description": "Guide for using WebViewBridge Swift package to build WebPage (macOS 26.0+) bridges with JavaScript injection and bidirectional communication. Use when integrating WebPage with Swift, injecting JavaScript, or handling JS↔Swift messaging.",
                  "allowed-tools": "Read, Glob, Grep, Write, Edit, Bash"
                },
                "content": "# WebViewBridge Guide\n\nThis skill helps use the WebViewBridge Swift package for WebPage (macOS 26.0+) bidirectional communication.\n\n## Package Overview\n\n**WebViewBridge** is a Swift framework for WebPage API with JavaScript injection and bidirectional communication.\n\n- **Repository**: https://github.com/Sunalamye/WebViewBridge\n- **Platforms**: macOS 26.0+ (WebPage API)\n- **License**: MIT\n\n## Installation\n\n```swift\n// Package.swift\ndependencies: [\n    .package(url: \"https://github.com/Sunalamye/WebViewBridge.git\", from: \"1.0.0\"),\n]\n\ntargets: [\n    .target(\n        name: \"YourApp\",\n        dependencies: [\"WebViewBridge\"]\n    ),\n]\n```\n\n## Architecture\n\n```\nWebViewBridge/\n├── Core/\n│   └── WebViewBridge.swift    - Main bridge class\n├── JavaScript/\n│   └── bridge-core.js         - Core JS utilities\n└── WebViewBridgeKit.swift     - Version info\n```\n\n## Quick Start\n\n### 1. Create Bridge & Register Modules\n\n```swift\nimport WebViewBridge\nimport WebKit\n\n@available(macOS 26.0, *)\n@MainActor\nclass MyViewController: NSViewController {\n    let bridge = WebViewBridge(handlerName: \"myBridge\")\n    var webPage: WebPage?\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        // Register core modules\n        bridge.registerCoreModules()\n\n        // Register custom module\n        bridge.registerModule(JavaScriptModule(\n            name: \"my-module\",\n            source: \"\"\"\n                window.myApp = {\n                    sendMessage: function(msg) {\n                        window.__bridgeCore.sendToSwift('custom_message', { message: msg });\n                    }\n                };\n            \"\"\"\n        ))\n\n        // Handle messages\n        bridge.onMessage = { type, data in\n            print(\"Received: \\(type) - \\(data)\")\n        }\n\n        // Configure WebPage\n        var configuration = WebPage.Configuration()\n        let userContentController = WKUserContentController()\n        bridge.configure(contentController: userContentController)\n        configuration.userContentController = userContentController\n\n        // Create WebPage\n        webPage = WebPage(configuration: configuration)\n        bridge.configure(webPage: webPage!)\n    }\n}\n```\n\n### 2. JavaScript → Swift\n\n```javascript\n// Using bridge-core\nwindow.__bridgeCore.sendToSwift('my_event', { key: 'value' });\n\n// Using custom API\nwindow.myApp.sendMessage('Hello!');\n```\n\n### 3. Swift → JavaScript\n\n```swift\nTask {\n    // ⚠️ MUST use `return` statement!\n    let title = try await bridge.callJavaScript(\"return document.title\")\n}\n```\n\n## ⚠️ Critical: Return Statement\n\n**WebPage.callJavaScript() requires `return` statement!**\n\n```swift\n// ❌ WRONG - returns null\ntry await bridge.callJavaScript(\"document.title\")\n\n// ✅ CORRECT\ntry await bridge.callJavaScript(\"return document.title\")\ntry await bridge.callJavaScript(\"return JSON.stringify({a: 1})\")\n```\n\n## JavaScriptModule\n\n```swift\nlet module = JavaScriptModule(\n    name: \"my-module\",\n    source: \"window.myAPI = { ... };\",\n    injectAtStart: true,    // default: true\n    mainFrameOnly: false    // default: false\n)\n\n// Load from bundle\nlet module = JavaScriptModule.fromBundle(named: \"my-script\", bundle: .main)\n```\n\n## WebViewBridgeDelegate\n\n```swift\n@available(macOS 26.0, *)\npublic protocol WebViewBridgeDelegate: AnyObject {\n    func bridge(_ bridge: WebViewBridge, didReceiveMessage type: String, data: [String: Any])\n    func bridge(_ bridge: WebViewBridge, webSocketStatusChanged connected: Bool)  // optional\n    func bridge(_ bridge: WebViewBridge, didEncounterError error: Error)  // optional\n}\n```\n\n## bridge-core.js API\n\n```javascript\n// Send to Swift\nwindow.__bridgeCore.sendToSwift(type, data)\n\n// Log\nwindow.__bridgeCore.log(message)\n\n// Base64\nwindow.__bridgeCore.arrayBufferToBase64(buffer)\nwindow.__bridgeCore.base64ToArrayBuffer(base64)\nwindow.__bridgeCore.blobToBase64(blob, callback)\n\n// WebSocket interceptor\nwindow.__bridgeCore.installWebSocketInterceptor({\n    shouldIntercept: (url) => url.includes('api.example.com')\n})\n```\n\n## Message Types\n\n| Type | Direction | Description |\n|------|-----------|-------------|\n| `websocket_open` | JS → Swift | WebSocket connecting |\n| `websocket_connected` | JS → Swift | WebSocket connected |\n| `websocket_message` | JS → Swift | WebSocket message |\n| `websocket_closed` | JS → Swift | WebSocket closed |\n| `console_log` | JS → Swift | Log message |\n\n## Complete Example\n\n```swift\n@available(macOS 26.0, *)\n@MainActor\nclass WebManager {\n    let bridge = WebViewBridge(handlerName: \"app\")\n    var webPage: WebPage?\n\n    func setup() {\n        bridge.registerCoreModules()\n        bridge.registerModule(JavaScriptModule(\n            name: \"app-api\",\n            source: \"\"\"\n                window.App = {\n                    notify: (msg) => __bridgeCore.sendToSwift('notify', {msg})\n                };\n            \"\"\"\n        ))\n\n        bridge.onMessage = { type, data in\n            if type == \"notify\", let msg = data[\"msg\"] as? String {\n                print(\"Notification: \\(msg)\")\n            }\n        }\n\n        var config = WebPage.Configuration()\n        let ucc = WKUserContentController()\n        bridge.configure(contentController: ucc)\n        config.userContentController = ucc\n\n        webPage = WebPage(configuration: config)\n        bridge.configure(webPage: webPage!)\n    }\n\n    func getTitle() async -> String? {\n        try? await bridge.callJavaScript(\"return document.title\") as? String\n    }\n}\n```\n\n## Checklist\n\n- [ ] Using `@available(macOS 26.0, *)`\n- [ ] Called `registerCoreModules()`\n- [ ] Configured both `contentController` and `webPage`\n- [ ] Using `return` in `callJavaScript()`\n- [ ] Set `onMessage` or delegate\n\n## Reference Documentation\n\n- [WebViewBridge Reference](references/reference.md) - Full API and examples"
              }
            ]
          }
        ]
      }
    }
  ]
}