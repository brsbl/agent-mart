{
  "owner": {
    "id": "c-daly",
    "display_name": "Christopher Daly",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/83555576?u=915c74cf27d5161d65d88d1660c3138461e471b4&v=4",
    "url": "https://github.com/c-daly",
    "bio": "I like to make things.",
    "stats": {
      "total_repos": 1,
      "total_plugins": 1,
      "total_commands": 0,
      "total_skills": 5,
      "total_stars": 0,
      "total_forks": 0
    }
  },
  "repos": [
    {
      "full_name": "c-daly/agent-swarm",
      "url": "https://github.com/c-daly/agent-swarm",
      "description": "Enforcement system for agent-based workflows in Claude Code",
      "homepage": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-12T22:53:45Z",
        "created_at": "2026-01-04T21:18:40Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/manifest.json",
          "type": "blob",
          "size": 1049
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 621
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 158
        },
        {
          "path": ".claude-state",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-state/agent-swarm",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-state/agent-swarm/enforcement_state.json",
          "type": "blob",
          "size": 161
        },
        {
          "path": ".context",
          "type": "tree",
          "size": null
        },
        {
          "path": ".context/CONTEXT.md",
          "type": "blob",
          "size": 1645
        },
        {
          "path": ".context/EPISODES.md",
          "type": "blob",
          "size": 10328
        },
        {
          "path": ".context/MEMORY.md",
          "type": "blob",
          "size": 6362
        },
        {
          "path": ".coverage",
          "type": "blob",
          "size": 53248
        },
        {
          "path": ".gitignore",
          "type": "blob",
          "size": 125
        },
        {
          "path": ".serena",
          "type": "tree",
          "size": null
        },
        {
          "path": ".serena/.gitignore",
          "type": "blob",
          "size": 7
        },
        {
          "path": ".serena/memories",
          "type": "tree",
          "size": null
        },
        {
          "path": ".serena/memories/instruction-consolidation-2026-01.md",
          "type": "blob",
          "size": 4462
        },
        {
          "path": ".serena/memories/iterate-workflow-2026-01-11.md",
          "type": "blob",
          "size": 2517
        },
        {
          "path": ".serena/project.yml",
          "type": "blob",
          "size": 5605
        },
        {
          "path": "CORE_PROTOCOL.md",
          "type": "blob",
          "size": 1739
        },
        {
          "path": "ENFORCEMENT_FIXES.md",
          "type": "blob",
          "size": 10514
        },
        {
          "path": "ENFORCEMENT_IMPROVEMENTS.md",
          "type": "blob",
          "size": 5986
        },
        {
          "path": "GIT_APPROVAL_IMPLEMENTATION.md",
          "type": "blob",
          "size": 4185
        },
        {
          "path": "HANDOFF.md",
          "type": "blob",
          "size": 1114
        },
        {
          "path": "MCP_BRIDGE_COMPLETE.md",
          "type": "blob",
          "size": 5402
        },
        {
          "path": "MCP_TOOLS_REFERENCE.md",
          "type": "blob",
          "size": 12151
        },
        {
          "path": "MISSING_INFRASTRUCTURE.md",
          "type": "blob",
          "size": 6565
        },
        {
          "path": "PARALLELISM.md",
          "type": "blob",
          "size": 4530
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 1621
        },
        {
          "path": "SETUP.md",
          "type": "blob",
          "size": 4162
        },
        {
          "path": "SHORTCOMINGS.md",
          "type": "blob",
          "size": 6463
        },
        {
          "path": "WORKFLOW_ISSUES_ANALYSIS.md",
          "type": "blob",
          "size": 21839
        },
        {
          "path": "agent_context.md",
          "type": "blob",
          "size": 2473
        },
        {
          "path": "agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "agents/AGENT_RULES.md",
          "type": "blob",
          "size": 865
        },
        {
          "path": "agents/adversary.md",
          "type": "blob",
          "size": 1713
        },
        {
          "path": "agents/architect.md",
          "type": "blob",
          "size": 867
        },
        {
          "path": "agents/debugger.md",
          "type": "blob",
          "size": 867
        },
        {
          "path": "agents/explorer.md",
          "type": "blob",
          "size": 1126
        },
        {
          "path": "agents/git-agent.md",
          "type": "blob",
          "size": 1189
        },
        {
          "path": "agents/implementer.md",
          "type": "blob",
          "size": 991
        },
        {
          "path": "agents/researcher.md",
          "type": "blob",
          "size": 769
        },
        {
          "path": "agents/reviewer.md",
          "type": "blob",
          "size": 781
        },
        {
          "path": "commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "commands/iterate.md",
          "type": "blob",
          "size": 2897
        },
        {
          "path": "commands/orchestrate.md",
          "type": "blob",
          "size": 423
        },
        {
          "path": "commands/spawn.md",
          "type": "blob",
          "size": 256
        },
        {
          "path": "config",
          "type": "tree",
          "size": null
        },
        {
          "path": "config/workflow.json",
          "type": "blob",
          "size": 3619
        },
        {
          "path": "context",
          "type": "tree",
          "size": null
        },
        {
          "path": "context/__init__.py",
          "type": "blob",
          "size": 701
        },
        {
          "path": "context/memory.py",
          "type": "blob",
          "size": 18781
        },
        {
          "path": "context/resolver.py",
          "type": "blob",
          "size": 11767
        },
        {
          "path": "coverage.json",
          "type": "blob",
          "size": 152937
        },
        {
          "path": "docs",
          "type": "tree",
          "size": null
        },
        {
          "path": "docs/CONTEXT_SYSTEM.md",
          "type": "blob",
          "size": 11451
        },
        {
          "path": "examples",
          "type": "tree",
          "size": null
        },
        {
          "path": "examples/feature-context-template.md",
          "type": "blob",
          "size": 798
        },
        {
          "path": "examples/memory-example.md",
          "type": "blob",
          "size": 1302
        },
        {
          "path": "examples/neural-net-viz",
          "type": "tree",
          "size": null
        },
        {
          "path": "examples/neural-net-viz/README.md",
          "type": "blob",
          "size": 3900
        },
        {
          "path": "examples/neural-net-viz/backend",
          "type": "tree",
          "size": null
        },
        {
          "path": "examples/neural-net-viz/backend/app.py",
          "type": "blob",
          "size": 3734
        },
        {
          "path": "examples/neural-net-viz/backend/data_loader.py",
          "type": "blob",
          "size": 1049
        },
        {
          "path": "examples/neural-net-viz/backend/neural_net.py",
          "type": "blob",
          "size": 5262
        },
        {
          "path": "examples/neural-net-viz/backend/trainer.py",
          "type": "blob",
          "size": 3138
        },
        {
          "path": "examples/neural-net-viz/requirements.txt",
          "type": "blob",
          "size": 92
        },
        {
          "path": "examples/neural-net-viz/run.py",
          "type": "blob",
          "size": 139
        },
        {
          "path": "examples/neural-net-viz/static",
          "type": "tree",
          "size": null
        },
        {
          "path": "examples/neural-net-viz/static/css",
          "type": "tree",
          "size": null
        },
        {
          "path": "examples/neural-net-viz/static/css/style.css",
          "type": "blob",
          "size": 4005
        },
        {
          "path": "examples/neural-net-viz/static/data",
          "type": "tree",
          "size": null
        },
        {
          "path": "examples/neural-net-viz/static/data/.gitkeep",
          "type": "blob",
          "size": null
        },
        {
          "path": "examples/neural-net-viz/static/js",
          "type": "tree",
          "size": null
        },
        {
          "path": "examples/neural-net-viz/static/js/controls.js",
          "type": "blob",
          "size": 5031
        },
        {
          "path": "examples/neural-net-viz/static/js/network-viz.js",
          "type": "blob",
          "size": 6111
        },
        {
          "path": "examples/neural-net-viz/static/js/socket-client.js",
          "type": "blob",
          "size": 1209
        },
        {
          "path": "examples/neural-net-viz/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "examples/neural-net-viz/templates/index.html",
          "type": "blob",
          "size": 3807
        },
        {
          "path": "examples/user-context-template.md",
          "type": "blob",
          "size": 1084
        },
        {
          "path": "hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "hooks/__init__.py",
          "type": "blob",
          "size": 16
        },
        {
          "path": "hooks/auto-orchestrate-hook.sh",
          "type": "blob",
          "size": 386
        },
        {
          "path": "hooks/combined-enforcement.py",
          "type": "blob",
          "size": 94146
        },
        {
          "path": "hooks/combined-enforcement.py.backup",
          "type": "blob",
          "size": 24973
        },
        {
          "path": "hooks/combined_enforcement.py",
          "type": "blob",
          "size": 23
        },
        {
          "path": "hooks/context-injection.py",
          "type": "blob",
          "size": 5759
        },
        {
          "path": "hooks/enforce-protocol.sh",
          "type": "blob",
          "size": 364
        },
        {
          "path": "hooks/hook_logging.py",
          "type": "blob",
          "size": 3479
        },
        {
          "path": "hooks/hooks.json",
          "type": "blob",
          "size": 2473
        },
        {
          "path": "hooks/inject-subagent-briefing.sh",
          "type": "blob",
          "size": 2192
        },
        {
          "path": "hooks/monitor_agent.py",
          "type": "blob",
          "size": 11140
        },
        {
          "path": "hooks/post-task-tracking.py",
          "type": "blob",
          "size": 8362
        },
        {
          "path": "hooks/post-tool-tracking.py",
          "type": "blob",
          "size": 4644
        },
        {
          "path": "hooks/post_tool_use.py",
          "type": "blob",
          "size": 2771
        },
        {
          "path": "hooks/pre-compacting.py",
          "type": "blob",
          "size": 6339
        },
        {
          "path": "hooks/session-end.py",
          "type": "blob",
          "size": 4794
        },
        {
          "path": "hooks/session-start.py",
          "type": "blob",
          "size": 5835
        },
        {
          "path": "hooks/subagent-briefing.md",
          "type": "blob",
          "size": 1786
        },
        {
          "path": "hooks/subagent-complete.py",
          "type": "blob",
          "size": 1834
        },
        {
          "path": "hooks/subagent-enforcement.py",
          "type": "blob",
          "size": 2869
        },
        {
          "path": "hooks/task_implications.py",
          "type": "blob",
          "size": 7027
        },
        {
          "path": "hooks/verification_gates.py",
          "type": "blob",
          "size": 10371
        },
        {
          "path": "hooks/work_seeker.py",
          "type": "blob",
          "size": 3378
        },
        {
          "path": "hooks/workflow_state.py",
          "type": "blob",
          "size": 5090
        },
        {
          "path": "lib",
          "type": "tree",
          "size": null
        },
        {
          "path": "lib/.orphaned_at",
          "type": "blob",
          "size": 13
        },
        {
          "path": "lib/README.md",
          "type": "blob",
          "size": 1876
        },
        {
          "path": "lib/agent_protocol.py",
          "type": "blob",
          "size": 4030
        },
        {
          "path": "lib/classification_validator.py",
          "type": "blob",
          "size": 1415
        },
        {
          "path": "lib/mcp_bridge.py",
          "type": "blob",
          "size": 13733
        },
        {
          "path": "lib/phase_model.py",
          "type": "blob",
          "size": 6513
        },
        {
          "path": "lib/review_gate.py",
          "type": "blob",
          "size": 3080
        },
        {
          "path": "lib/scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "lib/scripts/batch_glob.py",
          "type": "blob",
          "size": 1462
        },
        {
          "path": "lib/scripts/batch_search.py",
          "type": "blob",
          "size": 1455
        },
        {
          "path": "lib/shell_virtualizer.py",
          "type": "blob",
          "size": 3549
        },
        {
          "path": "lib/workflow.py",
          "type": "blob",
          "size": 8781
        },
        {
          "path": "mypy.ini",
          "type": "blob",
          "size": 57
        },
        {
          "path": "poetry.lock",
          "type": "blob",
          "size": 71343
        },
        {
          "path": "pyproject.toml",
          "type": "blob",
          "size": 689
        },
        {
          "path": "scripts",
          "type": "tree",
          "size": null
        },
        {
          "path": "scripts/adversary_analyze.py",
          "type": "blob",
          "size": 7223
        },
        {
          "path": "scripts/batch_search.py",
          "type": "blob",
          "size": 3668
        },
        {
          "path": "scripts/charts.py",
          "type": "blob",
          "size": 51066
        },
        {
          "path": "scripts/context7_docs.py",
          "type": "blob",
          "size": 1703
        },
        {
          "path": "scripts/context_budget.py",
          "type": "blob",
          "size": 2638
        },
        {
          "path": "scripts/decomposer.py",
          "type": "blob",
          "size": 11392
        },
        {
          "path": "scripts/diagnose.py",
          "type": "blob",
          "size": 13340
        },
        {
          "path": "scripts/document_plugins.py",
          "type": "blob",
          "size": 6414
        },
        {
          "path": "scripts/file_analyzer.py",
          "type": "blob",
          "size": 4927
        },
        {
          "path": "scripts/gh_wrapper.py",
          "type": "blob",
          "size": 4929
        },
        {
          "path": "scripts/greptile_query.py",
          "type": "blob",
          "size": 5236
        },
        {
          "path": "scripts/inventory.py",
          "type": "blob",
          "size": 9854
        },
        {
          "path": "scripts/iterate_state.py",
          "type": "blob",
          "size": 29187
        },
        {
          "path": "scripts/metrics.py",
          "type": "blob",
          "size": 20539
        },
        {
          "path": "scripts/monitor.py",
          "type": "blob",
          "size": 5379
        },
        {
          "path": "scripts/poll.py",
          "type": "blob",
          "size": 4810
        },
        {
          "path": "scripts/serena_batch.py",
          "type": "blob",
          "size": 2797
        },
        {
          "path": "scripts/state.py",
          "type": "blob",
          "size": 7163
        },
        {
          "path": "scripts/track_subagent.py",
          "type": "blob",
          "size": 5433
        },
        {
          "path": "scripts/verify.py",
          "type": "blob",
          "size": 4881
        },
        {
          "path": "skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/ctx",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/ctx/SKILL.md",
          "type": "blob",
          "size": 1869
        },
        {
          "path": "skills/distill",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/distill/SKILL.md",
          "type": "blob",
          "size": 2603
        },
        {
          "path": "skills/iterate",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/iterate/SKILL.md",
          "type": "blob",
          "size": 11099
        },
        {
          "path": "skills/orchestrate",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/orchestrate/SKILL.md",
          "type": "blob",
          "size": 7501
        },
        {
          "path": "skills/poll",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/poll/SKILL.md",
          "type": "blob",
          "size": 2831
        },
        {
          "path": "skills/spawn",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/spawn/SKILL.md",
          "type": "blob",
          "size": 5222
        },
        {
          "path": "skills/verify",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/verify/SKILL.md",
          "type": "blob",
          "size": 1815
        },
        {
          "path": "task_queue.json",
          "type": "blob",
          "size": 13596
        },
        {
          "path": "tests",
          "type": "tree",
          "size": null
        },
        {
          "path": "tests/conftest.py",
          "type": "blob",
          "size": 205
        },
        {
          "path": "tests/test_agent_protocol.py",
          "type": "blob",
          "size": 8491
        },
        {
          "path": "tests/test_classification_validator.py",
          "type": "blob",
          "size": 5754
        },
        {
          "path": "tests/test_combined_enforcement.py",
          "type": "blob",
          "size": 3949
        },
        {
          "path": "tests/test_decomposer.py",
          "type": "blob",
          "size": 8500
        },
        {
          "path": "tests/test_git_approval_layers.py",
          "type": "blob",
          "size": 1725
        },
        {
          "path": "tests/test_greptile_gate.py",
          "type": "blob",
          "size": 5330
        },
        {
          "path": "tests/test_greptile_query.py",
          "type": "blob",
          "size": 10300
        },
        {
          "path": "tests/test_memory.py",
          "type": "blob",
          "size": 10371
        },
        {
          "path": "tests/test_monitor_agent.py",
          "type": "blob",
          "size": 31783
        },
        {
          "path": "tests/test_phase_model.py",
          "type": "blob",
          "size": 11156
        },
        {
          "path": "tests/test_post_tool_use.py",
          "type": "blob",
          "size": 12629
        },
        {
          "path": "tests/test_resolver.py",
          "type": "blob",
          "size": 10080
        },
        {
          "path": "tests/test_review_gate.py",
          "type": "blob",
          "size": 5997
        },
        {
          "path": "tests/test_shell_normalization.py",
          "type": "blob",
          "size": 2946
        },
        {
          "path": "tests/test_shell_virtualizer.py",
          "type": "blob",
          "size": 7855
        },
        {
          "path": "tests/test_task_queue.py",
          "type": "blob",
          "size": 42406
        },
        {
          "path": "tests/test_workflow.py",
          "type": "blob",
          "size": 5462
        }
      ],
      "marketplace": {
        "name": "fearsidhe-plugins",
        "version": null,
        "description": "Personal plugins for Claude Code",
        "owner_info": {
          "name": "fearsidhe"
        },
        "keywords": [],
        "plugins": [
          {
            "name": "agent-swarm",
            "description": "Enforcement system for agent-based workflows. Manages phase enforcement, script routing for batch MCP operations, and autopilot approval.",
            "source": "./",
            "category": "productivity",
            "version": "1.0.0",
            "author": {
              "name": "fearsidhe"
            },
            "install_commands": [
              "/plugin marketplace add c-daly/agent-swarm",
              "/plugin install agent-swarm@fearsidhe-plugins"
            ],
            "signals": {
              "stars": 0,
              "forks": 0,
              "pushed_at": "2026-01-12T22:53:45Z",
              "created_at": "2026-01-04T21:18:40Z",
              "license": null
            },
            "commands": [],
            "skills": [
              {
                "name": "ctx",
                "description": "View and manage hierarchical context for the current directory",
                "path": "skills/ctx/SKILL.md",
                "frontmatter": {
                  "name": "ctx",
                  "description": "View and manage hierarchical context for the current directory",
                  "user_invocable": true
                },
                "content": "# /ctx - Hierarchical Context Viewer\n\nShows the resolved context for the current working directory, aggregated from all levels of the hierarchy.\n\n## Usage\n\n```\n/ctx           # Show resolved context\n/ctx tree      # Show context hierarchy as tree\n/ctx edit      # Edit context at current scope\n```\n\n## What This Shows\n\nContext is resolved by walking up from the current directory:\n\n1. **Feature/Component level** - `.context/CONTEXT.md` in current or parent dirs\n2. **Repo level** - `.claude/CONTEXT.md` at repository root\n3. **Project level** - Context above the repo\n4. **User level** - `~/.claude/CONTEXT.md` for global preferences\n\nEach level can:\n- **Inherit** from parent (default)\n- **Override** specific sections with `@override: section_name`\n- **Ignore** parent sections with `@ignore: section_name`\n\n## Implementation\n\nWhen invoked, run:\n\n```bash\npython3 ~/.claude/plugins/agent-swarm/ctx/resolver.py resolve .\n```\n\nFor tree view:\n```bash\npython3 ~/.claude/plugins/agent-swarm/ctx/resolver.py tree .\n```\n\n## Context File Format\n\n```markdown\n# Context: [Scope Name]\n\n@inherit: true           # Default, inherit from parent\n@override: conventions   # Override this section completely\n@priority: high          # Mark as high priority\n\n## Purpose\nWhat this scope is for.\n\n## Conventions\nCoding standards for this scope.\n\n## Patterns\nCommon patterns used here.\n\n## Pitfalls\nKnown issues to avoid.\n```\n\n## Creating Context\n\nTo add context at current scope:\n\n1. Create `.context/CONTEXT.md` in the directory\n2. Add relevant sections\n3. Use `@override` for sections that shouldn't merge with parent\n\n## Memory vs Context\n\n- **CONTEXT.md** - Static, intentionally written knowledge\n- **MEMORY.md** - Distilled learnings from sessions (see `/distill`)"
              },
              {
                "name": "distill",
                "description": "Distill session episodes into persistent memory patterns",
                "path": "skills/distill/SKILL.md",
                "frontmatter": {
                  "name": "distill",
                  "description": "Distill session episodes into persistent memory patterns",
                  "user_invocable": true
                },
                "content": "# /distill - Memory Distillation\n\nTransforms episodic session logs into refined semantic memory patterns.\n\n## Usage\n\n```\n/distill           # Distill episodes at current scope\n/distill show      # Show current memory without distilling\n/distill episodes  # Show pending episodes awaiting distillation\n```\n\n## How It Works\n\n### Episode Collection\n\nDuring agent work, learnings are logged to `.context/EPISODES.md`:\n\n```markdown\n## Session: 2026-01-10T14:30:00Z\n- **Task**: Fix authentication bug\n- **Outcome**: success\n- **Learnings**:\n  - JWT tokens need refresh handling in middleware\n  - Error messages should include request ID\n```\n\n### Distillation Process\n\nWhen `/distill` runs:\n\n1. **Extract patterns** from each episode's learnings\n2. **Classify** as pattern, pitfall, preference, or approach\n3. **Match** against existing patterns in memory\n4. **Reinforce** matching patterns (increases confidence)\n5. **Add** new patterns with low initial confidence\n6. **Decay** old patterns not recently reinforced\n7. **Prune** patterns below confidence threshold\n\n### Memory Output\n\nResults are saved to `.context/MEMORY.md`:\n\n```markdown\n# Memory: [Scope]\n\n## Patterns Observed\n- JWT tokens need refresh handling\n  Confidence: high | Last reinforced: 2026-01-10\n\n## Pitfalls Discovered\n- Avoid storing tokens in localStorage\n  Confidence: medium | Last reinforced: 2026-01-08\n```\n\n## Implementation\n\nWhen invoked, run:\n\n```bash\npython3 ~/.claude/plugins/agent-swarm/context/memory.py distill .\n```\n\nFor showing memory:\n```bash\npython3 ~/.claude/plugins/agent-swarm/context/memory.py show .\n```\n\nFor pending episodes:\n```bash\npython3 ~/.claude/plugins/agent-swarm/context/memory.py episodes .\n```\n\n## Logging Learnings\n\nAgents can log learnings by including in their output:\n\n```\nLEARNING: [description of pattern, pitfall, or approach]\n```\n\nThese are captured by post-task hooks and added to EPISODES.md.\n\n## Confidence Mechanics\n\n| Confidence | Meaning |\n|------------|---------|\n| 0.0 - 0.2 | Uncertain, may be pruned |\n| 0.2 - 0.4 | Low, needs reinforcement |\n| 0.4 - 0.7 | Medium, established pattern |\n| 0.7 - 0.95 | High, well-validated |\n\n- **Reinforcement**: Each observation increases confidence\n- **Decay**: Patterns not seen in 30+ days lose confidence\n- **Pruning**: Patterns below 0.2 are removed\n\n## Automatic Distillation\n\nDistillation triggers automatically when:\n- Episode count exceeds threshold (default: 10)\n- Session ends (if configured)\n- Manually via `/distill` command"
              },
              {
                "name": "orchestrate",
                "description": "Main workflow orchestrator for complex tasks. Coordinates phase transitions, enforces checkpoints based on config, manages subagent delegation. Invoke for [COMPLEX] tasks.",
                "path": "skills/orchestrate/SKILL.md",
                "frontmatter": {
                  "name": "orchestrate",
                  "description": "Main workflow orchestrator for complex tasks. Coordinates phase transitions, enforces checkpoints based on config, manages subagent delegation. Invoke for [COMPLEX] tasks."
                },
                "content": "# Workflow Orchestrator\n\n\n**State Management:** This skill uses `scripts/state.py` CLI for all state operations.\n- Phase transitions: `python3 scripts/state.py transition <phase>`\n- Checkpoint config: `python3 scripts/state.py checkpoint <phase> <on|off>`\n- Autopilot mode: `python3 scripts/state.py autopilot <on|off|toggle>`\n\n## Configuration\n\nLoad from `~/.claude/plugins/agent-swarm/config/workflow.json`:\n\n```bash\npython3 scripts/state.py transition <phase>\n```\n\n### Discover Available Tools\nBefore starting any task, know what's available:\n```bash\n# Full inventory\npython3 ~/.claude/plugins/agent-swarm/scripts/inventory.py all\n\n# Find right tool for a need\npython3 ~/.claude/plugins/agent-swarm/scripts/inventory.py tools \"find function definition\"\n```\n\n**Tool Selection Priority:**\n1. Serena → for code analysis (NOT Read)\n2. Context7 → for docs (NOT WebSearch)\n3. Batch scripts → for multiple operations\n4. MCP tools → for single operations\n5. Read/Bash → last resort only\n\n### Transition Phase\n```bash\npython3 << 'EOF'\nimport json, sys\nfrom pathlib import Path\n\nnew_phase = \"PHASE_NAME\"  # Replace with target phase\n\nstate_path = Path.home() / \".claude/plugins/agent-swarm/.state/session.json\"\nstate = json.loads(state_path.read_text())\n\nold_phase = state.get(\"phase\", \"\")\nstate[\"phase\"] = new_phase\n\n# Reset counters on phase change\nstate[\"search_count\"] = 0\nstate[\"read_count\"] = 0\n\nstate_path.write_text(json.dumps(state, indent=2))\n\ncheckpoint_needed = state.get(\"checkpoints\", {}).get(new_phase, False)\nprint(f\"[ORCHESTRATOR] {old_phase} → {new_phase}\")\nif checkpoint_needed:\n    print(f\"  ⚠️  CHECKPOINT: Get user approval before proceeding\")\nEOF\n```\n\n### Check Checkpoint\n```bash\npython3 << 'EOF'\nimport json\nfrom pathlib import Path\n\nstate_path = Path.home() / \".claude/plugins/agent-swarm/.state/session.json\"\nstate = json.loads(state_path.read_text())\n\nphase = state.get(\"phase\", \"\")\nneeds_checkpoint = state.get(\"checkpoints\", {}).get(phase, False)\nautopilot = state.get(\"autopilot_override\", False)\n\nif autopilot:\n    print(f\"[CHECKPOINT] Skipped (autopilot mode)\")\nelif needs_checkpoint:\n    print(f\"[CHECKPOINT] Phase '{phase}' requires approval\")\n    print(f\"  Present summary and wait for user confirmation\")\nelse:\n    print(f\"[CHECKPOINT] Not required for phase '{phase}'\")\nEOF\n```\n\n### Checkpoint Approval (User Action)\n\n**When user approves at a checkpoint:**\n\nThe user grants approval by manually editing the state file or using AskUserQuestion tool.\n\n**Agent behavior:**\n1. Present work summary at checkpoint\n2. Use AskUserQuestion to request approval\n3. If user approves, update state with approval\n4. Proceed with critical operations (git push, phase transition, etc.)\n\n**Manual approval (user can do this):**\n```bash\n# Edit .state/session.json and add:\n{\n  \"checkpoint_approvals\": {\n    \"git\": true,\n    \"design\": true,\n    # etc.\n  }\n}\n```\n\n**Agent helper (ONLY after AskUserQuestion approval):**\n```bash\n# Agent must use AskUserQuestion first, then if approved:\npython3 << 'EOF'\nimport json\nfrom pathlib import Path\n\nstate_path = Path.home() / \".claude/plugins/agent-swarm/.state/session.json\"\nstate = json.loads(state_path.read_text())\n\nphase = state.get(\"phase\", \"\")\napprovals = state.get(\"checkpoint_approvals\", {})\napprovals[phase] = True\nstate[\"checkpoint_approvals\"] = approvals\n\nstate_path.write_text(json.dumps(state, indent=2))\nprint(f\"[CHECKPOINT] User approved '{phase}' phase\")\nEOF\n```\n\n### Toggle Autopilot\n```bash\npython3 << 'EOF'\nimport json\nfrom pathlib import Path\n\nstate_path = Path.home() / \".claude/plugins/agent-swarm/.state/session.json\"\nstate = json.loads(state_path.read_text()) if state_path.exists() else {}\n\ncurrent = state.get(\"autopilot_override\", False)\nstate[\"autopilot_override\"] = not current\nstate_path.write_text(json.dumps(state, indent=2))\n\nprint(f\"[AUTOPILOT] {'Enabled' if state['autopilot_override'] else 'Disabled'}\")\nEOF\n```\n\n### Configure Checkpoint\n```bash\npython3 << 'EOF'\nimport json\nfrom pathlib import Path\n\n# Edit these values\nphase = \"implement\"  # Phase to configure\nenabled = True       # True = checkpoint required, False = skip\n\nconfig_path = Path.home() / \".claude/plugins/agent-swarm/config/workflow.json\"\nconfig = json.loads(config_path.read_text())\n\nconfig[\"checkpoints\"][phase] = enabled\nconfig_path.write_text(json.dumps(config, indent=2))\n\nprint(f\"[CONFIG] Checkpoint for '{phase}': {'enabled' if enabled else 'disabled'}\")\nEOF\n```\n\n## Phase Responsibilities\n\n### INTAKE\n- Classify: trivial/simple/complex\n- **Search episodic memory**: Query past conversations for relevant context\n  ```bash\n  # Use episodic-memory:search-conversations skill or direct tool\n  mcp__plugin_episodic-memory_episodic-memory__search(query=\"<task keywords>\", limit=5)\n  ```\n- Gather requirements (incorporate memory findings)\n- **Checkpoint if enabled**: Present understanding, get approval\n\n### RESEARCH (complex/unfamiliar only)\n- Deep web research\n- Use `researcher` agent (haiku model)\n- Return summarized findings only\n\n### EXPLORE\n- Codebase navigation\n- Use `explorer` agent (haiku model)\n- Return file:line references, not content\n\n### DESIGN\n- Architecture planning\n- Use `architect` agent (sonnet model)\n- **Checkpoint if enabled**: Present plan, get approval\n\n### IMPLEMENT\n- **ENFORCED**: Must use Task tool with `implementer` agent\n- Direct Edit/Write BLOCKED\n- Each subagent: focused scope, sonnet model\n\n### REVIEW\n- Use `reviewer` agent (sonnet model)\n- Run tests, verify against design\n- **Checkpoint if enabled**: Present review results\n\n### DEBUG (if needed)\n- Use `debugger` agent (sonnet model)\n- Fix issues from review\n- Loop until review passes\n\n### GIT\n- Use `git-agent` (haiku model)\n- Stage, commit, push\n- **Checkpoint if enabled**: Confirm before push\n- **Auto-snapshot after completion**:\n  ```bash\n  python3 ~/.claude/plugins/agent-swarm/scripts/charts.py snapshot\n  ```\n  This automatically captures metrics for historical tracking and trend analysis.\n\n## Subagent Spawning\n\nWhen spawning subagents, specify model AND token budget:\n\n```python\n# Token budgets by agent type (prevent runaways)\nAGENT_TOKEN_BUDGETS = {\n    \"agent-swarm:explorer\": 50000,      # Quick exploration\n    \"agent-swarm:researcher\": 150000,   # Deep research allowed\n    \"agent-swarm:architect\": 120000,    # Design needs space\n    \"agent-swarm:implementer\": 100000,  # Focused implementation\n    \"agent-swarm:reviewer\": 80000,      # Review existing code\n    \"agent-swarm:debugger\": 150000,     # Debugging can be complex\n    \"agent-swarm:git-agent\": 30000      # Simple git operations\n}\n```\n\n```json\n{\n  \"description\": \"Explore auth system\",\n  \"prompt\": \"Find all authentication-related files...\",\n  \"subagent_type\": \"agent-swarm:explorer\",\n  \"model\": \"haiku\",\n  \"token_budget\": 50000\n}\n```\n\n**CRITICAL:** Always include `token_budget` parameter to prevent runaway agents\n\nModels by agent:\n- researcher, explorer, git-agent: **haiku** (cheap, parallelizable)\n- architect, implementer, reviewer, debugger: **sonnet** (needs reasoning)\n- orchestrator only: **opus** (complex coordination)\n\n## Enforcement Active\n\nThe hook `combined-enforcement.py` enforces:\n- Phase tool restrictions\n- Token efficiency limits\n- Subagent requirements\n- Git safety\n\nViolations are blocked with guidance message."
              },
              {
                "name": "spawn",
                "description": "How to spawn subagents correctly. Use this reference when you need to delegate work to a specialized agent.",
                "path": "skills/spawn/SKILL.md",
                "frontmatter": {
                  "name": "spawn",
                  "description": "How to spawn subagents correctly. Use this reference when you need to delegate work to a specialized agent."
                },
                "content": "# Spawning Subagents\n\n## Why Subagents\n\n1. **Model efficiency**: Orchestrator uses opus, subagents use cheaper models\n2. **Context isolation**: Subagent work doesn't flood main context\n3. **Parallelization**: Multiple subagents can work simultaneously\n4. **Focus**: Each agent has a specific role with clear constraints\n\n## How to Spawn\n\nUse the Task tool with these parameters:\n\n```json\n{\n  \"description\": \"3-5 word summary\",\n  \"prompt\": \"Detailed instructions for the agent\",\n  \"subagent_type\": \"Explore|Plan|general-purpose\",\n  \"model\": \"haiku|sonnet|opus\"\n}\n```\n\n## Agent Selection\n\n| Need | Agent | Default Model | subagent_type |\n|------|-------|---------------|---------------|\n| Find code/files | explorer | haiku | Explore |\n| Web/doc research | researcher | haiku | general-purpose |\n| Plan implementation | architect | sonnet | Plan |\n| Write code | implementer | sonnet | general-purpose |\n| Review changes | reviewer | sonnet | general-purpose |\n| Fix bugs | debugger | sonnet | general-purpose |\n| Git operations | git-agent | haiku | general-purpose |\n\n## Self-Model-Selection\n\nAgents can downgrade their model when task is simpler than expected:\n\n```\n[In subagent prompt, agent can say:]\n\"This is straightforward - spawning with haiku instead of sonnet\"\n```\n\n**Model selection criteria:**\n\n| Complexity | Indicators | Model |\n|------------|------------|-------|\n| trivial | Single pattern search, one file change, simple command | haiku |\n| simple | Clear logic, existing pattern to follow, <50 lines | haiku or sonnet |\n| medium | Some reasoning needed, multiple considerations | sonnet |\n| complex | Architectural decisions, novel patterns, tricky edge cases | sonnet |\n| very complex | Cross-cutting concerns, security implications | opus (rare, ask orchestrator) |\n\n**Rules:**\n- Can always downgrade (sonnet → haiku)\n- Never upgrade without asking orchestrator\n- Default to cheaper when unsure\n- If haiku struggles, retry with sonnet (not automatic, must be explicit)\n\n**Example:**\n```\nOrchestrator spawns implementer (default: sonnet) to add a button.\nImplementer sees: \"Just adding one onClick handler to existing component.\"\nImplementer says: \"Trivial task, using haiku\" and spawns sub-agent with haiku.\n```\n\n## Prompt Structure\n\nEvery subagent prompt MUST include:\n\n1. **Task**: What exactly to do (one clear objective)\n2. **Scope**: What files/areas to touch\n3. **Output**: What to return (be specific about format)\n4. **Constraints**: What NOT to do\n\n### Example Prompts\n\n**Explorer (finding code):**\n```\nFind all authentication-related code.\n\nScope: src/ directory\nOutput: List of file:line references with one-line descriptions\nConstraints: Don't read file contents, just locate. Use Serena tools.\n```\n\n**Implementer (writing code):**\n```\nAdd input validation to the login form.\n\nScope: src/components/LoginForm.tsx only\nOutput: Summary of changes made\nConstraints: Don't modify other files. Don't add new dependencies.\nFollow existing patterns in the codebase.\n```\n\n**Reviewer (checking code):**\n```\nReview changes to authentication flow.\n\nScope: Files modified in current branch vs main\nOutput: PASS or NEEDS_CHANGES with specific issues\nConstraints: Focus on bugs and security. Skip style issues.\n```\n\n## Parallel Spawning\n\nWhen tasks are independent, spawn multiple in one message:\n\n```\nI'll spawn three subagents in parallel:\n1. Explorer to find auth files\n2. Explorer to find test files\n3. Researcher to get latest JWT best practices\n\n[Three Task tool calls in same message]\n```\n\n## Recursive Spawning\n\nSubagents CAN spawn more subagents when:\n- Task is too large for one agent\n- Multiple independent subtasks discovered\n- Parallelization would help\n\n**Example: Explorer finds large codebase**\n```\nExplorer finds 50 auth-related files. Instead of returning all:\n1. Spawn 5 sub-explorers, each handling 10 files\n2. Each sub-explorer returns summarized findings\n3. Main explorer aggregates into final report\n```\n\n**Model inheritance:**\n- Subagent uses same or cheaper model\n- Never spawn opus from haiku\n- haiku → haiku (OK)\n- sonnet → haiku (OK, for simple subtasks)\n- sonnet → sonnet (OK, for complex subtasks)\n\n**Depth limit:** Max 3 levels deep to prevent runaway spawning\n- Orchestrator (opus) → Agent (sonnet/haiku) → Sub-agent → Sub-sub-agent\n\n## Anti-Patterns\n\n**DON'T:**\n- Spawn subagent for one-liner tasks\n- Use opus model for subagents (reserved for orchestrator)\n- Give vague prompts like \"look around\"\n- Spawn subagent to do what you could do in 2 tool calls\n- Spawn more than 5 parallel subagents (coordination overhead)\n\n**DO:**\n- Batch related work into one subagent\n- Specify exact output format\n- Use cheapest model that can do the job\n- Set clear scope boundaries\n- Let agents spawn sub-agents for large tasks\n\n## Subagent Context\n\nSubagents receive:\n- The prompt you provide\n- Agent rules from AGENT_RULES.md (via hook injection)\n- Access to same tools as you\n\nSubagents do NOT receive:\n- Your conversation history\n- Current phase/state (unless you tell them)\n- Other subagents' results (unless you include them)"
              },
              {
                "name": "verify",
                "description": "Run code quality checks (ruff, black, mypy, pytest)",
                "path": "skills/verify/SKILL.md",
                "frontmatter": {
                  "name": "verify",
                  "description": "Run code quality checks (ruff, black, mypy, pytest)",
                  "user_invocable": true
                },
                "content": "# /verify - Code Quality Verification\n\nRuns all configured quality checks and reports pass/fail status. Required before commits when enforcement is enabled.\n\n## Usage\n\n```\n/verify              # Run all checks\n/verify --fix        # Run with auto-fix where possible\n/verify lint         # Run only linting (ruff)\n/verify format       # Run only formatting check (black)\n/verify types        # Run only type checking (mypy)\n/verify tests        # Run only tests (pytest)\n```\n\n## Tools\n\n| Tool | Purpose | Auto-fix |\n|------|---------|----------|\n| ruff | Linting + import sorting | Yes (`--fix`) |\n| black | Code formatting | Yes |\n| mypy | Type checking | No |\n| pytest | Test execution | No |\n\n## Implementation\n\nWhen invoked, execute the verify script:\n\n```bash\npython3 ~/.claude/plugins/agent-swarm/scripts/verify.py [args]\n```\n\nThe script will:\n1. Detect project type (Python, Node, etc.)\n2. Run appropriate checks\n3. Set `verify_passed` flag in session state if all pass\n4. Output compliance signal: `[VERIFY] tests: X | types: X | lint: X | format: X`\n\n## Enforcement Integration\n\nWhen verify enforcement is enabled:\n- Git commits are blocked unless verify has passed\n- The `verify_passed` flag resets on any file edit\n- Run `/verify` after making changes, before committing\n\n## Exit Codes\n\n- `0` - All checks passed\n- `1` - One or more checks failed\n- `2` - Configuration error (missing tools)\n\n## Configuration\n\nThe script auto-detects tools. To customize, create `.verify.json`:\n\n```json\n{\n  \"lint\": {\"enabled\": true, \"cmd\": \"ruff check .\"},\n  \"format\": {\"enabled\": true, \"cmd\": \"black --check .\"},\n  \"types\": {\"enabled\": true, \"cmd\": \"mypy .\"},\n  \"tests\": {\"enabled\": true, \"cmd\": \"pytest\"}\n}\n```"
              }
            ]
          }
        ]
      }
    }
  ]
}