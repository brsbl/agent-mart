{
  "author": {
    "id": "tommymorgan",
    "display_name": "Tommy Morgan",
    "avatar_url": "https://avatars.githubusercontent.com/u/347420?v=4"
  },
  "marketplaces": [
    {
      "name": "tommymorgan",
      "version": null,
      "description": "Tommy's curated collection of Claude Code plugins for debugging, development workflow, and productivity",
      "repo_full_name": "tommymorgan/claude-plugins",
      "repo_url": "https://github.com/tommymorgan/claude-plugins",
      "repo_description": null,
      "signals": {
        "stars": 1,
        "forks": 0,
        "pushed_at": "2026-02-02T18:11:18Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"tommymorgan\",\n  \"owner\": {\n    \"name\": \"Tommy Morgan\",\n    \"email\": \"tommy@tommymorgan.com\"\n  },\n  \"metadata\": {\n    \"description\": \"Tommy's curated collection of Claude Code plugins for debugging, development workflow, and productivity\",\n    \"version\": \"0.4.0\",\n    \"repository\": \"https://github.com/tommymorgan/claude-plugins\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"tommymorgan\",\n      \"source\": \"./tommymorgan\",\n      \"description\": \"Self-contained development workflow: planning with expert review, autonomous TDD execution with 6-agent code review, smart testing, and root-cause debugging\",\n      \"version\": \"0.4.0\",\n      \"category\": \"workflow\"\n    }\n  ]\n}\n",
        "README.md": "# Tommy's Claude Code Marketplace\n\nPersonal collection of Claude Code plugins for disciplined development workflows.\n\n## Installation\n\n### First Time Setup\n\nAdd this marketplace to Claude Code:\n\n```bash\nclaude plugin marketplace add tommymorgan/claude-plugins\n```\n\n### Installing Plugins\n\n```bash\nclaude plugin install <plugin-name>@tommymorgan\n```\n\n## Available Plugins\n\n### [tommymorgan](./tommymorgan/README.md) v2.0.0\n\n**Development Workflow with Living Documentation** - Comprehensive workflow plugin with living Gherkin specs, planning with expert review, autonomous TDD execution with automatic spec updates, documentation generation, coverage analysis, and root-cause debugging.\n\n**Key Features:**\n- Living .feature files documenting current system state\n- Interactive plan reconciliation with existing specs\n- Automatic living spec updates during implementation\n- User/dev documentation generation from @user/@technical scenarios\n- Test coverage analysis and gap identification\n- Gherkin-based planning with enhanced metadata tracking\n- Autonomous TDD execution with quality gates\n- Expert plan review (7 domain experts with context-aware filtering)\n- Work completion enforcement (stop hook blocks partial completion)\n- Automatic image resizing (2000px limit, configurable)\n- Root cause analysis (five whys methodology)\n- Plan-aware testing (API, browser, CLI)\n\n**Install:**\n```bash\nclaude plugin install tommymorgan@tommymorgan\n```\n\n**[Full Documentation →](./tommymorgan/README.md)**\n\n---\n\n## Plugin Development\n\nPlugin development happens in `homelab/tools/claude-plugins/`.\n\n### Publishing Changes\n\n**1. Sync files to publish repository:**\n```bash\nrsync -av --delete ~/src/homelab/tools/claude-plugins/ ~/src/claude-plugins-publish/ --exclude=.git --exclude=plans\n```\n\n**2. Commit and push:**\n```bash\ncd ~/src/claude-plugins-publish\ngit add -A\ngit commit -m \"feat: <description of changes>\"\ngit push origin main\n```\n\n**Why separate repos?**\n\nThe homelab repository contains secrets in its git history. Git subtree push includes parent commits, which would expose those secrets to GitHub's secret scanning. Using a separate publish repository ensures clean history without secrets.\n\n**Locations:**\n- **Development**: `~/src/homelab/tools/claude-plugins/`\n- **Publish**: `~/src/claude-plugins-publish/`\n- **Public**: https://github.com/tommymorgan/claude-plugins\n\n## Contributing\n\nThis is a personal marketplace. Suggestions welcome via GitHub issues.\n\n## Repository\n\n- **GitHub**: https://github.com/tommymorgan/claude-plugins\n- **Issues**: https://github.com/tommymorgan/claude-plugins/issues\n\n## License\n\nSee individual plugin READMEs for license information. Most plugins are MIT licensed.\n",
        "tommymorgan/README.md": "# tommymorgan\n\n**Version**: 0.4.7\n**Category**: Development Workflow\n**License**: MIT\n\nComprehensive development workflow plugin enforcing disciplined planning, autonomous TDD execution, expert code review, complete task completion, and automatic image preprocessing.\n\n## Philosophy\n\n**Bulldog Persistence + Border Collie Intelligence**\n\nThis plugin enforces discipline without being obstructive. It won't let you take shortcuts that create technical debt, but it applies excellent autonomous judgment to get work done right.\n\n## Installation\n\n```bash\nclaude plugin install tommymorgan@tommymorgan\n```\n\n## Commands\n\n### Planning\n\n#### `/tommymorgan:plan`\nCreate structured Gherkin-based feature plans.\n\n**Output**: `plans/YYYY-MM-DD-<feature-name>.md`\n\nPlans contain:\n- User Requirements (Gherkin scenarios from user perspective)\n- Technical Specifications (implementation scenarios)\n- Scenarios marked with `<!-- TODO -->` or `<!-- DONE -->`\n\n#### `/tommymorgan:work <plan-file>`\nExecute plan autonomously using TDD until 100% complete.\n\n**Workflow**:\n1. Verify local dev environment works\n2. For each TODO scenario:\n   - Write failing test (RED)\n   - Implement until test passes (GREEN)\n   - Refactor if needed\n   - Run code review gate (must approve before continuing)\n   - Commit incrementally\n3. Run exploratory testing gate\n4. Squash commits into single clean commit\n5. Mark all scenarios as DONE\n\n**Quality Gates** (mandatory):\n- Code review: Every scenario reviewed before next one starts\n- Exploratory testing: Full validation before completion\n- All tests must pass\n- No stopping until 100% complete\n\n#### `/tommymorgan:status [plan-file]`\nCheck scenario completion progress.\n\n**Output**:\n```\nProgress: 8/12 scenarios complete (67% done)\n\nUser Requirements:\n✅ User can register with email\n✅ User can login with credentials\n⏳ User can refresh JWT token\n\nTechnical Specifications:\n✅ Database stores user records\n⏳ API validates JWT signatures\n...\n\nNext scenario: User can refresh JWT token\n```\n\n#### `/tommymorgan:review-features <path>`\nReview any Gherkin scenarios with 7 domain experts.\n\n**Accepts**:\n- `.feature` files\n- Plan files (`.md`)\n- Directories (all `.feature` files)\n- Glob patterns (`features/*.feature`)\n\n#### `/tommymorgan:review-plan <plan-file>`\nReview a plan file with the expert panel (wrapper around `/review-features`).\n\n**Expert Panel**:\n1. **Marty Cagan** (Product Strategy) - User outcomes vs implementation details\n2. **Dave Farley** (Continuous Delivery) - Testability, automation, deployability\n3. **OWASP Security Expert** - Security (context-aware filtering)\n4. **Jakob Nielsen** (Usability) - User experience, clarity, error messaging\n5. **Martin Kleppmann** (Distributed Systems) - Performance (context-aware)\n6. **Eric Evans** (Domain-Driven Design) - Domain modeling, ubiquitous language\n7. **Google SRE Expert** - Operations (context-aware filtering)\n\n**Context-Aware Filtering**: Experts adjust recommendations based on plan type:\n- Hook vs API vs UI vs Database\n- CLI tool vs production service\n- Simple tool vs data-intensive system\n\n**Output**:\n- Critical/High/Medium priority recommendations\n- Expert debates and consensus for conflicts\n- Specific scenario references\n- Concrete improvement suggestions\n\n**Performance**: Completes in <30 seconds\n\n### Testing\n\n#### `/tommymorgan:test`\nPlan-aware exploratory testing.\n\nAutomatically selects testing strategy:\n- **API testing**: REST/GraphQL endpoint validation\n- **Browser testing**: Functional, visual, accessibility, performance\n- **CLI testing**: Command validation, output correctness, exit codes\n\n### Debugging\n\n#### `/tommymorgan:root-cause`\nSystematic root cause analysis using five whys methodology.\n\n**Prevents**: Speculation-driven debugging, endless fix loops, harmful changes\n\n**Process**:\n1. Observe the problem\n2. Gather evidence (logs, code, metrics)\n3. Ask \"why?\" until root cause found (typically 5 levels deep)\n4. Only then attempt fixes\n\n## Hooks\n\n### Stop Hook (Work Completion Enforcement)\n\n**Purpose**: Enforces complete work sessions - no partial completion.\n\n**Behavior**:\n- Searches for plan files in current and parent directories (up to 3 levels)\n- Calculates completion: `done_count / (todo_count + done_count)`\n- **Blocks stopping** if completion < 100%\n- **Allows stopping** if completion = 100% or no plan found\n\n**Error Message**:\n```\nWork incomplete: 3/12 scenarios TODO (75%)\n```\n\n**No Override**: Strictly enforces completion. Emergency exits:\n1. Complete the work (mark scenarios DONE)\n2. Use Ctrl+C to force quit\n\n**Performance**: Executes in <500ms\n\n**Safety**:\n- Path validation prevents traversal attacks\n- Graceful failure on malformed plans\n- Defensive defaults (allow stop on errors)\n\n### Automatic Image Resizing\n\n**Purpose**: Prevents Claude API errors by automatically resizing oversized images before submission.\n\n**Behavior**:\n- Intercepts UserPromptSubmit events\n- Detects images exceeding 2000px in any dimension\n- Resizes to 2000px max dimension (maintains aspect ratio)\n- Uses LANCZOS resampling for quality preservation\n- Preserves transparency for PNG/GIF\n- Converts RGBA→RGB for JPEG (white background)\n\n**Feedback**:\n```\nImage resized to meet Claude Code 2000px limit: 3200x2400 to 2000x1500\n```\n\n**Configuration**:\nCreate `.claude/tommymorgan.local.md` to disable:\n```yaml\n---\nauto_resize_images: false\n---\n\n# TommyMorgan Plugin Configuration\n\nSet auto_resize_images to false to disable automatic resizing.\n```\n\n**Default**: Enabled (automatic resizing active)\n\n**Conflict Detection**:\n- Warns if old `auto-resize-images` plugin is installed\n- Suggests uninstalling to avoid duplicate processing\n- Both hooks will run during transition period\n\n**Error Handling**:\n- Unsupported formats (WEBP, etc): Blocks with helpful conversion instructions\n- Corrupted images: Blocks with recovery suggestions\n- Missing dependencies: Exits gracefully with error to stderr\n\n**Performance**: Executes in <5 seconds per image\n\n**Dependencies**: Python 3.8+ with Pillow (PIL) library\n\n## Plan File Format\n\n```markdown\n# Feature: User Authentication API\n\n**Created**: 2026-01-01\n**Plugin**: tommymorgan\n**Goal**: Add JWT-based authentication for API endpoints\n\n## User Requirements\n\n<!-- TODO -->\nScenario: User registers with email\n  Given I am a new user\n  When I POST to /api/auth/register with email and password\n  Then I receive a 201 response with user ID\n  And I receive a JWT access token\n\n<!-- DONE -->\nScenario: User logs in with credentials\n  Given I am a registered user\n  When I POST to /api/auth/login with valid credentials\n  Then I receive a JWT access token\n\n## Technical Specifications\n\n<!-- TODO -->\nScenario: JWT tokens expire after 7 days\n  Given a user has a valid JWT token\n  When 7 days have passed\n  Then the token should be rejected as expired\n  And API should return 401 Unauthorized\n\n## Notes\n\n**Design Decisions**:\n- Using HS256 for JWT signing (symmetric, simpler for single server)\n- 7-day token expiration (balance security vs UX)\n- Refresh tokens stored in database, access tokens stateless\n```\n\n## Workflow Example\n\n```bash\n# 1. Create a plan\n/tommymorgan:plan\nYou: \"Add user authentication API with JWT tokens\"\nClaude: [Creates structured plan with User Requirements and Technical Specs]\n\n# 2. Review the plan (optional)\n/tommymorgan:review-plan plans/2026-01-01-auth-api.md\nClaude:\n## Critical Issues\n[Cagan] Missing scenario: User sees helpful error for invalid credentials\n[OWASP] Scenario needed: System prevents brute force login attempts\n...\n\n# 3. Execute the plan\n/tommymorgan:work plans/2026-01-01-auth-api.md\nClaude:\nImplementing scenario: User registers with email\n- Writing failing test... [RED]\n- Implementing registration endpoint... [GREEN]\n- Running code review gate... [APPROVED]\n- Committed: feat(auth): add user registration endpoint\n\nImplementing scenario: JWT tokens expire after 7 days\n- Writing failing test... [RED]\n...\nAll scenarios complete! Squashing commits...\n\n# 4. Check progress anytime\n/tommymorgan:status\nClaude:\nProgress: 12/12 scenarios complete (100% done)\nAll scenarios implemented and tested ✓\n\n# Try to stop early (will be blocked)\n<Ctrl+D>\nClaude: Work incomplete: 4/12 scenarios TODO (67%)\n[Stop blocked - complete the work or use Ctrl+C]\n```\n\n## Components\n\n### Skills\n- `brainstorming` - Collaborative idea exploration and design\n- `plan-format` - Gherkin plan structure and formatting\n- `tdd-execution` - Red-Green-Refactor workflow\n- `verification-sweep` - Test execution and validation\n- `api-testing-patterns` - REST/GraphQL testing patterns\n- `browser-testing-patterns` - Web UI testing with Playwright\n- `cli-testing-patterns` - CLI tool testing patterns\n- `five-whys-methodology` - Root cause analysis process\n\n### Agents\n\n**Code Review** (6 agents run in parallel during /work):\n- `code-reviewer` - CLAUDE.md compliance, style, bugs, quality\n- `comment-analyzer` - Comment accuracy, completeness, staleness\n- `test-analyzer` - Coverage gaps, edge cases, test quality\n- `silent-failure-hunter` - Empty catches, missing logging, swallowed errors\n- `type-design-analyzer` - Encapsulation, invariants, enforcement\n- `code-simplifier` - Unnecessary complexity, redundancy\n\n**Exploratory Testing**:\n- `api-explorer` - Autonomous API endpoint testing\n- `browser-explorer` - Autonomous browser-based testing\n- `cli-tester` - Autonomous CLI tool testing\n\n**Debugging**:\n- `root-cause-analyzer` - Autonomous five whys investigation\n\n### Hooks\n- **Stop Hook**: Enforces work completion before stopping\n- **Automatic Image Resizing**: Prevents API errors by resizing oversized images\n- **Pre-Push Squash**: Verifies commits are squashed before push\n- **Post-Push Cleanup**: Cleanup after successful push\n\n## Design Principles\n\n1. **No Shortcuts**: Stop hook enforces completion - no override mechanism\n2. **Quality Gates**: Code review and testing gates are mandatory, not optional\n3. **Evidence-Based**: Root cause analysis before fixes (no speculation)\n4. **Incremental**: TDD with small commits, then squash at end\n5. **Autonomous**: Agents handle complex tasks independently\n6. **Context-Aware**: Experts adjust to plan type (API vs hook vs CLI)\n7. **Bulldog Persistence**: Don't give up or take shortcuts\n8. **Border Collie Intelligence**: Excellent judgment and autonomy\n\n## Testing\n\nThe plugin includes comprehensive test suites:\n- `planning/commands/test_review_plan.py` - 13 tests for plan parsing and context detection\n- `hooks/test_stop_if_incomplete.py` - 18 tests for stop hook enforcement\n- `hooks/test_resize_images.py` - 18 tests for automatic image resizing\n- `hooks/test_pre_push_squash.py` - Tests for pre-push verification\n\nRun tests:\n```bash\ncd tools/claude-plugins/tommymorgan\npython3 -m pytest\n```\n\n## Requirements\n\n**Python 3.8+** for hooks\n\n**Python Dependencies:**\n- `Pillow (PIL)` - Required for automatic image resizing\n\n**No external plugin dependencies** - all functionality is self-contained.\n\n## Changelog\n\n### v0.4.7 (2026-02-02)\n- **Fixed**: Stop hook - `decision` field goes at top-level, not inside `hookSpecificOutput`\n\n### v0.4.6 (2026-02-02)\n- **Fixed**: Stop hook - omit `decision` field to allow stop (per official Claude Code docs); only `\"block\"` is valid\n\n### v0.4.5 (2026-02-02)\n- **Fixed**: Stop hook JSON schema - changed `stopDecision: \"allow\"` to `decision: \"approve\"` per Claude Code schema\n\n### v0.4.4 (2026-02-02)\n- **Fixed**: Updated all `specs/` references to `features/` (37 occurrences missed in v0.4.0)\n- **Changed**: Living specification step is now MANDATORY by default, not conditional\n- **Added**: Explicit verification commands for feature file creation\n- **Added**: Living specs as 4th completion criteria (was 3, now 4)\n- **Added**: Gate check that halts if .feature file not in commit\n\n### v0.4.3 (2026-02-02)\n- **Fixed**: hooks.json requires top-level `\"hooks\"` wrapper object (matches other plugins' format)\n\n### v0.4.2 (2026-02-02)\n- **Fixed**: hooks.json schema validation - Stop and UserPromptSubmit hooks now use correct nested structure\n\n### v0.4.1 (2026-02-02)\n- **Fixed**: Pre-push squash hook JSON output validation errors\n  - `allow_command()` now exits cleanly without output (correct hook behavior)\n  - `deny_command()` now includes required `hookEventName` field\n\n### v0.4.0 (2026-02-01)\n- **Added**: `/review-features` command for reviewing any Gherkin scenarios\n- **Added**: Internal `brainstorming` skill (no longer requires superpowers plugin)\n- **Added**: 6 code review agents (no longer requires pr-review-toolkit):\n  - code-reviewer, comment-analyzer, test-analyzer\n  - silent-failure-hunter, type-design-analyzer, code-simplifier\n- **Changed**: Code review gate runs all 6 agents in parallel\n- **Changed**: Living specs directory from `specs/` to `features/` (Cucumber convention)\n- **Changed**: `/review-plan` is now a wrapper around `/review-features`\n- **Removed**: All external plugin dependencies (fully self-contained)\n\n### v0.3.0 (2026-01-01)\n- **Added**: Built-in automatic image resizing (migrated from auto-resize-images)\n- **Added**: Configuration support via `.claude/tommymorgan.local.md`\n- Automatically resizes images >2000px before submission\n- Conflict detection warns if old auto-resize-images plugin installed\n- Configurable per-project (enabled by default)\n- Transparent operation with clear feedback\n\n### v0.2.2 (2026-01-01)\n- **Removed**: Override mechanism for stop hook\n- Stop hook now strictly enforces completion\n- No `TOMMYMORGAN_ALLOW_INCOMPLETE_STOP` env var\n\n### v0.2.0 (2026-01-01)\n- **Added**: `/review-plan` command with 7 domain experts\n- **Added**: Stop hook for work completion enforcement\n- Expert review with context-aware filtering\n- Expert debates for conflicting recommendations\n- Prioritized recommendations (Critical/High/Medium)\n\n### v0.1.0 (2025-12-31)\n- **Added**: Pre-push squash verification hook\n- **Added**: Post-push cleanup hook\n\n## Contributing\n\nThis is part of the tommymorgan personal marketplace. Suggestions welcome via GitHub issues.\n\n## License\n\nMIT License - See LICENSE file for details\n\n## Repository\n\n- **GitHub**: https://github.com/tommymorgan/claude-plugins\n- **Issues**: https://github.com/tommymorgan/claude-plugins/issues\n- **Plugin Directory**: `tommymorgan/`\n"
      },
      "plugins": [
        {
          "name": "tommymorgan",
          "source": "./tommymorgan",
          "description": "Self-contained development workflow: planning with expert review, autonomous TDD execution with 6-agent code review, smart testing, and root-cause debugging",
          "version": "0.4.0",
          "category": "workflow",
          "categories": [
            "workflow"
          ],
          "install_commands": [
            "/plugin marketplace add tommymorgan/claude-plugins",
            "/plugin install tommymorgan@tommymorgan"
          ]
        }
      ]
    }
  ]
}