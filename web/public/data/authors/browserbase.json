{
  "author": {
    "id": "browserbase",
    "display_name": "browserbase",
    "type": "Organization",
    "avatar_url": "https://avatars.githubusercontent.com/u/158221360?v=4",
    "url": "https://github.com/browserbase",
    "bio": null,
    "stats": {
      "total_marketplaces": 2,
      "total_plugins": 2,
      "total_commands": 1,
      "total_skills": 5,
      "total_stars": 67,
      "total_forks": 11
    }
  },
  "marketplaces": [
    {
      "name": "claude-code-plugin",
      "version": null,
      "description": "Run Claude Code browser automation in Browserbase cloud browsers",
      "owner_info": {
        "name": "Browserbase",
        "email": "support@browserbase.com"
      },
      "keywords": [],
      "repo_full_name": "browserbase/claude-code-plugin",
      "repo_url": "https://github.com/browserbase/claude-code-plugin",
      "repo_description": "Browserbase plugin for Claude Code - Use cloud browsers with Claude Code instead of local Chrome",
      "homepage": null,
      "signals": {
        "stars": 67,
        "forks": 11,
        "pushed_at": "2025-12-27T03:32:17Z",
        "created_at": "2025-12-27T00:53:45Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 709
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 187
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 5775
        },
        {
          "path": "hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "hooks/hooks.json",
          "type": "blob",
          "size": 723
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"claude-code-plugin\",\n  \"owner\": {\n    \"name\": \"Browserbase\",\n    \"email\": \"support@browserbase.com\"\n  },\n  \"metadata\": {\n    \"description\": \"Run Claude Code browser automation in Browserbase cloud browsers\",\n    \"version\": \"1.0.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"browserbase\",\n      \"source\": \"./\",\n      \"description\": \"Use Browserbase cloud browsers with Claude Code instead of local Chrome. Provides sandboxed, secure browser execution with session recording and debugging.\",\n      \"version\": \"1.0.0\",\n      \"author\": {\n        \"name\": \"Browserbase\"\n      },\n      \"category\": \"automation\",\n      \"keywords\": [\"browser\", \"cloud\", \"browserbase\", \"automation\", \"sandboxed\"]\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"browserbase\",\n  \"description\": \"Use Browserbase cloud browsers with Claude Code instead of local Chrome\",\n  \"version\": \"1.0.0\",\n  \"author\": {\n    \"name\": \"Browserbase\"\n  }\n}\n",
        "README.md": "# Browserbase Plugin for Claude Code\n\nUse [Browserbase](https://browserbase.com) cloud browsers with Claude Code instead of local Chrome.\n\n## What it does\n\nThis plugin intercepts Claude Code's browser automation commands (`mcp__claude-in-chrome__*`) and forwards them to Browserbase's cloud browser infrastructure. This gives you:\n\n- **Sandboxed, secure browser execution** - Run browser automation in isolated cloud environments\n- **Session recording and debugging** - Watch Claude browse in real-time via debug URLs\n- **Scalable browser automation** - Cloud browsers with built-in proxy and stealth capabilities\n\n## Requirements\n\n- [Claude Code](https://claude.com/claude-code) CLI\n- [Claude in Chrome](https://chromewebstore.google.com/detail/claude-in-chrome/fcoeoabgfenejglbffodgkkbkcdhcgfn) extension installed\n- [Browserbase](https://browserbase.com) account with API key\n- Node.js 18+\n\n## Installation\n\n### From Browserbase Marketplace\n\nIn Claude Code, add the plugin marketplace and install:\n\n```\n/plugin marketplace add browserbase/claude-code-plugin\n/plugin install browserbase@claude-code-plugin\n```\n\nThen restart Claude Code for the changes to take effect.\n\n### Manual Installation\n\n1. Clone this repository:\n   ```bash\n   git clone https://github.com/browserbase/claude-code-plugin.git\n   ```\n\n2. Copy to your Claude plugins directory:\n   ```bash\n   cp -r claude-code-plugin ~/.claude/plugins/browserbase\n   ```\n\n3. Install dependencies:\n   ```bash\n   cd ~/.claude/plugins/browserbase\n   npm install\n   ```\n\n## Setup\n\nRun the setup script to configure your Browserbase credentials:\n\n```bash\n~/.claude/plugins/browserbase/scripts/setup.sh\n```\n\nYou'll be prompted for:\n- **Browserbase API Key** - Get this from [browserbase.com/settings](https://www.browserbase.com/settings)\n- **Project ID** - Find this in your Browserbase dashboard\n\nCredentials are stored in `~/.browserbase/credentials`.\n\n### Alternative: Environment Variables\n\nYou can also set credentials via environment variables:\n\n```bash\nexport BROWSERBASE_API_KEY=\"your-api-key\"\nexport BROWSERBASE_PROJECT_ID=\"your-project-id\"\n```\n\n## Usage\n\nOnce installed and configured, just use Claude Code normally. The plugin automatically:\n\n1. **On session start**: Launches a cloud browser and starts the forwarding server\n2. **On browser commands**: Forwards all `mcp__claude-in-chrome__*` commands to Browserbase\n3. **On navigation**: Shows you the live debug URL to watch the browser\n4. **On session end**: Cleans up the browser session\n\n### Example\n\n```\n$ claude\n\n> Navigate to github.com and take a screenshot\n\n[Browserbase] Cloud browser ready (server PID: 12345)\n[Browserbase] Watch live at: https://www.browserbase.com/sessions/abc123/debug\n\nI'll navigate to GitHub and capture a screenshot...\n```\n\n## How it works\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ   Claude Code   ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ Forwarding Server‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   Browserbase   ‚îÇ\n‚îÇ                 ‚îÇ     ‚îÇ  (Unix Socket)   ‚îÇ     ‚îÇ  Cloud Browser  ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n         ‚îÇ                                                ‚îÇ\n         ‚îÇ              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê              ‚îÇ\n         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ Claude in Chrome ‚îÇ‚óÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n                        ‚îÇ    Extension     ‚îÇ   (CDP over WebSocket)\n                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n1. Claude Code sends browser commands via the MCP browser bridge socket\n2. The forwarding server intercepts these commands\n3. Commands are translated to CDP (Chrome DevTools Protocol) and sent to Browserbase\n4. Browserbase executes commands on a cloud browser\n5. Results are returned through the same path\n\n## Plugin Structure\n\n```\nbrowserbase/\n‚îú‚îÄ‚îÄ .claude-plugin/\n‚îÇ   ‚îî‚îÄ‚îÄ plugin.json          # Plugin manifest\n‚îú‚îÄ‚îÄ hooks/\n‚îÇ   ‚îî‚îÄ‚îÄ hooks.json           # Hook configuration\n‚îú‚îÄ‚îÄ scripts/\n‚îÇ   ‚îú‚îÄ‚îÄ setup.sh             # Credential setup\n‚îÇ   ‚îú‚îÄ‚îÄ session-start.sh     # Starts forwarding server\n‚îÇ   ‚îú‚îÄ‚îÄ session-stop.sh      # Cleanup on session end\n‚îÇ   ‚îî‚îÄ‚îÄ browser-tool-log.sh  # Shows debug URL on navigate\n‚îú‚îÄ‚îÄ index.js                 # Entry point\n‚îú‚îÄ‚îÄ forwarding-server.js     # Socket interception & forwarding\n‚îú‚îÄ‚îÄ browserbase-client.js    # Browserbase API & CDP client\n‚îî‚îÄ‚îÄ package.json\n```\n\n## Troubleshooting\n\n### \"Claude in Chrome extension not found\"\n\nThe plugin requires the Claude in Chrome extension to be installed, even though commands are forwarded to Browserbase. Install it from the [Chrome Web Store](https://chromewebstore.google.com/detail/claude-in-chrome/fcoeoabgfenejglbffodgkkbkcdhcgfn).\n\n### \"Failed to load credentials\"\n\nRun the setup script again:\n```bash\n~/.claude/plugins/browserbase/scripts/setup.sh\n```\n\n### Server won't start\n\nCheck the server logs:\n```bash\ncat ~/.browserbase/state/server.log\n```\n\n### Debug hook execution\n\nCheck the hook debug log:\n```bash\ncat ~/.browserbase/state/hook-debug.log\n```\n\n## Development\n\nTo test the plugin during development:\n\n```bash\nclaude --plugin-dir /path/to/browserbase-plugin\n```\n\n## License\n\nMIT\n\n## Links\n\n- [Browserbase](https://browserbase.com)\n- [Claude Code](https://claude.com/claude-code)\n- [Claude in Chrome Extension](https://chromewebstore.google.com/detail/claude-in-chrome/fcoeoabgfenejglbffodgkkbkcdhcgfn)\n",
        "hooks/hooks.json": "{\n  \"hooks\": {\n    \"SessionStart\": [\n      {\n        \"matcher\": \"*\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"${CLAUDE_PLUGIN_ROOT}/scripts/session-start.sh\"\n          }\n        ]\n      }\n    ],\n    \"PreToolUse\": [\n      {\n        \"matcher\": \"mcp__claude-in-chrome__navigate\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"${CLAUDE_PLUGIN_ROOT}/scripts/browser-tool-log.sh\"\n          }\n        ]\n      }\n    ],\n    \"SessionEnd\": [\n      {\n        \"matcher\": \"*\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"${CLAUDE_PLUGIN_ROOT}/scripts/session-stop.sh\"\n          }\n        ]\n      }\n    ]\n  }\n}\n"
      },
      "plugins": [
        {
          "name": "browserbase",
          "source": "./",
          "description": "Use Browserbase cloud browsers with Claude Code instead of local Chrome. Provides sandboxed, secure browser execution with session recording and debugging.",
          "version": "1.0.0",
          "author": {
            "name": "Browserbase"
          },
          "category": "automation",
          "keywords": [
            "browser",
            "cloud",
            "browserbase",
            "automation",
            "sandboxed"
          ],
          "categories": [
            "automation",
            "browser",
            "browserbase",
            "cloud",
            "sandboxed"
          ],
          "install_commands": [
            "/plugin marketplace add browserbase/claude-code-plugin",
            "/plugin install browserbase@claude-code-plugin"
          ]
        }
      ]
    },
    {
      "name": "browserbase",
      "version": null,
      "description": "Browser automation skills for AI agents. Automate web tasks, scrape data, fill forms, and deploy serverless browser functions using the browse CLI and Browserbase cloud infrastructure.",
      "owner_info": {
        "name": "Browserbase",
        "email": "support@browserbase.com"
      },
      "keywords": [],
      "repo_full_name": "browserbase/skills",
      "repo_url": "https://github.com/browserbase/skills",
      "repo_description": null,
      "homepage": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-29T00:25:20Z",
        "created_at": "2026-01-26T16:56:12Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 775
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 274
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 1055
        },
        {
          "path": "SKILL.md",
          "type": "blob",
          "size": 11255
        },
        {
          "path": "commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "commands/setup.md",
          "type": "blob",
          "size": 519
        },
        {
          "path": "skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/auth",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/auth/SKILL.md",
          "type": "blob",
          "size": 4167
        },
        {
          "path": "skills/browse",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/browse/SKILL.md",
          "type": "blob",
          "size": 4970
        },
        {
          "path": "skills/browser-automation",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/browser-automation/SKILL.md",
          "type": "blob",
          "size": 10742
        },
        {
          "path": "skills/functions",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/functions/SKILL.md",
          "type": "blob",
          "size": 6864
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"$schema\": \"https://anthropic.com/claude-code/marketplace.schema.json\",\n  \"name\": \"browserbase\",\n  \"description\": \"Browser automation skills for AI agents. Automate web tasks, scrape data, fill forms, and deploy serverless browser functions using the browse CLI and Browserbase cloud infrastructure.\",\n  \"owner\": {\n    \"name\": \"Browserbase\",\n    \"email\": \"support@browserbase.com\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"browse\",\n      \"description\": \"Browser automation CLI for AI agents - automate web tasks, scrape data, fill forms, and deploy serverless browser functions\",\n      \"version\": \"1.0.2\",\n      \"author\": {\n        \"name\": \"Browserbase\",\n        \"email\": \"support@browserbase.com\"\n      },\n      \"source\": \"./\",\n      \"category\": \"automation\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"browse\",\n  \"description\": \"Browser automation CLI for AI agents - automate web tasks, scrape data, fill forms, and deploy serverless browser functions\",\n  \"version\": \"1.0.2\",\n  \"author\": {\n    \"name\": \"Browserbase\",\n    \"email\": \"support@browserbase.com\"\n  }\n}\n",
        "README.md": "# Browserbase Skills\n\nClaude skill files for browser automation with Browserbase.\n\n## Installation\n\n```\n/plugin install browserbase/skills\n```\n\nThis will automatically install the required CLIs:\n- `@browserbasehq/browse-cli` - Browser automation commands\n- `@browserbasehq/sdk-functions` - Function dev/deploy commands\n\n## Skills\n\n- **[skills/browse/](./skills/browse/SKILL.md)** - Main skill: Browser automation CLI\n- **[skills/browser-automation/](./skills/browser-automation/SKILL.md)** - Detailed automation reference\n- **[skills/auth/](./skills/auth/SKILL.md)** - Authentication flows\n- **[skills/functions/](./skills/functions/SKILL.md)** - Deploying Browserbase Functions\n\n## Quick Start\n\n```bash\n# Navigate to a URL\nbrowse open https://example.com\n\n# Get page structure with element refs\nbrowse snapshot -c\n\n# Click/fill using refs\nbrowse click @0-5\nbrowse fill @0-3 \"search query\"\n\n# Take screenshot\nbrowse screenshot page.png\n```\n\n## Usage\n\nAdd these skill files to your Claude project or Cursor rules to enable browser automation capabilities.\n",
        "SKILL.md": "---\nname: browse\ndescription: Complete guide for creating and deploying browser automation functions using the browse CLI\nhomepage: https://browserbase.com\nmetadata: {\"moltbot\":{\"emoji\":\"üåê\",\"requires\":{\"bins\":[\"browse\",\"bb\"],\"npm\":[\"@browserbasehq/browse-cli\",\"@browserbasehq/sdk-functions\"],\"env\":[\"BROWSERBASE_API_KEY\",\"BROWSERBASE_PROJECT_ID\"]},\"primaryEnv\":\"BROWSERBASE_API_KEY\"}}\n---\n\n# Browser Automation & Functions Skill\n\nComplete guide for creating and deploying browser automation functions using the `browse` CLI.\n\n## Installation\n\n```bash\nnpm install -g @browserbasehq/browse-cli\n```\n\nRequires Chrome/Chromium installed on the system.\n\n## When to Use\n\n- User wants to automate a website task\n- User needs to scrape data from a site\n- User wants to create a Browserbase Function\n- User wants to deploy automation to run on a schedule or via webhook\n\n## Prerequisites\n\n### Set Up Credentials\n\nGet API key and Project ID from: https://browserbase.com/settings\n\n```bash\nexport BROWSERBASE_API_KEY=\"your_api_key\"\nexport BROWSERBASE_PROJECT_ID=\"your_project_id\"\n```\n\n## Complete Workflow\n\n### Step 1: Explore the Site Interactively\n\nStart a browser session to understand the site structure:\n\n```bash\nbrowse open https://example.com\nbrowse snapshot                    # Get DOM structure with refs\nbrowse screenshot page.png         # Visual inspection\n```\n\nTest interactions manually:\n```bash\nbrowse click @0-5\nbrowse fill @0-6 \"value\"\nbrowse stop  # When done exploring\n```\n\n### Step 2: Initialize Function Project\n\n```bash\npnpm dlx @browserbasehq/sdk-functions init my-automation\ncd my-automation\n```\n\nCreates:\n- `package.json` - Dependencies\n- `.env` - Add credentials here\n- `index.ts` - Function template\n- `tsconfig.json` - TypeScript config\n\n### Step 3: ‚ö†Ô∏è FIX package.json IMMEDIATELY\n\n**CRITICAL BUG**: The init command may generate incomplete `package.json` that causes deployment to fail with \"No functions were built.\"\n\n**REQUIRED FIX** - Update `package.json` before doing anything else:\n\n```json\n{\n  \"name\": \"my-automation\",\n  \"version\": \"1.0.0\",\n  \"description\": \"My automation description\",\n  \"main\": \"index.js\",\n  \"type\": \"module\",\n  \"packageManager\": \"pnpm@10.14.0\",\n  \"scripts\": {\n    \"dev\": \"pnpm bb dev index.ts\",\n    \"publish\": \"pnpm bb publish index.ts\"\n  },\n  \"dependencies\": {\n    \"@browserbasehq/sdk-functions\": \"^0.0.5\",\n    \"playwright-core\": \"^1.58.0\"\n  },\n  \"devDependencies\": {\n    \"@types/node\": \"^25.0.10\",\n    \"typescript\": \"^5.9.3\"\n  }\n}\n```\n\n**Key changes from generated file:**\n- ‚úÖ Add `description` and `main` fields\n- ‚úÖ Add `packageManager` field\n- ‚úÖ Change `\"latest\"` to pinned versions like `\"^0.0.5\"`\n- ‚úÖ Add `devDependencies` with TypeScript and types\n\nThen install:\n```bash\npnpm install\n```\n\n### Step 4: Write Automation Code\n\nEdit `index.ts`:\n\n```typescript\nimport { defineFn } from \"@browserbasehq/sdk-functions\";\nimport { chromium } from \"playwright-core\";\n\ndefineFn(\"my-automation\", async (context) => {\n  const { session, params } = context;\n  console.log(\"Connecting to browser session:\", session.id);\n\n  const browser = await chromium.connectOverCDP(session.connectUrl);\n  const page = browser.contexts()[0]!.pages()[0]!;\n\n  // Your automation here\n  await page.goto(\"https://example.com\");\n  await page.waitForLoadState(\"domcontentloaded\");\n\n  // Extract data\n  const data = await page.evaluate(() => {\n    // Complex extraction logic\n    return Array.from(document.querySelectorAll('.item')).map(el => ({\n      title: el.querySelector('.title')?.textContent,\n      value: el.querySelector('.value')?.textContent,\n    }));\n  });\n\n  // Return results (must be JSON-serializable)\n  return {\n    success: true,\n    count: data.length,\n    data,\n    timestamp: new Date().toISOString(),\n  };\n});\n```\n\n**Key Concepts:**\n- `context.session` - Browser session info (id, connectUrl)\n- `context.params` - Input parameters from invocation\n- Return JSON-serializable data\n- 15 minute max execution time\n\n### Step 5: Test Locally\n\nStart dev server:\n```bash\npnpm bb dev index.ts\n```\n\nServer runs at `http://127.0.0.1:14113`\n\nInvoke with curl:\n```bash\ncurl -X POST http://127.0.0.1:14113/v1/functions/my-automation/invoke \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"params\": {\"url\": \"https://example.com\"}}'\n```\n\nDev server auto-reloads on file changes. Check terminal for logs.\n\n### Step 6: Deploy to Browserbase\n\n```bash\npnpm bb publish index.ts\n```\n\n**Expected output:**\n```\n‚úì Build completed successfully\nBuild ID: xxx-xxx-xxx\nFunction ID: yyy-yyy-yyy  ‚Üê Save this!\n```\n\n**If you see \"No functions were built\"** ‚Üí Your package.json is incomplete (see Step 3).\n\n### Step 7: Test Production\n\n```bash\ncurl -X POST https://api.browserbase.com/v1/functions/<function-id>/invoke \\\n  -H \"Content-Type: application/json\" \\\n  -H \"x-bb-api-key: $BROWSERBASE_API_KEY\" \\\n  -d '{\"params\": {}}'\n```\n\n## Complete Working Example: Hacker News Scraper\n\n```typescript\nimport { defineFn } from \"@browserbasehq/sdk-functions\";\nimport { chromium } from \"playwright-core\";\n\ndefineFn(\"hn-scraper\", async (context) => {\n  const { session } = context;\n  console.log(\"Connecting to browser session:\", session.id);\n\n  const browser = await chromium.connectOverCDP(session.connectUrl);\n  const page = browser.contexts()[0]!.pages()[0]!;\n\n  await page.goto(\"https://news.ycombinator.com\");\n  await page.waitForLoadState(\"domcontentloaded\");\n\n  // Extract top 10 stories\n  const stories = await page.evaluate(() => {\n    const storyRows = Array.from(document.querySelectorAll('.athing')).slice(0, 10);\n\n    return storyRows.map((row) => {\n      const titleLine = row.querySelector('.titleline a');\n      const subtext = row.nextElementSibling?.querySelector('.subtext');\n      const commentsLink = Array.from(subtext?.querySelectorAll('a') || []).pop();\n\n      return {\n        rank: row.querySelector('.rank')?.textContent?.replace('.', '') || '',\n        title: titleLine?.textContent || '',\n        url: titleLine?.getAttribute('href') || '',\n        points: subtext?.querySelector('.score')?.textContent?.replace(' points', '') || '0',\n        author: subtext?.querySelector('.hnuser')?.textContent || '',\n        time: subtext?.querySelector('.age')?.textContent || '',\n        comments: commentsLink?.textContent?.replace(/\\u00a0comments?/, '').trim() || '0',\n        id: row.id,\n      };\n    });\n  });\n\n  return {\n    success: true,\n    count: stories.length,\n    stories,\n    timestamp: new Date().toISOString(),\n  };\n});\n```\n\n## Common Patterns\n\n### Parameterized Scraping\n```typescript\ndefineFn(\"scrape\", async (context) => {\n  const { session, params } = context;\n  const { url, selector } = params;  // Accept params from invocation\n\n  const browser = await chromium.connectOverCDP(session.connectUrl);\n  const page = browser.contexts()[0]!.pages()[0]!;\n\n  await page.goto(url);\n  const data = await page.$$eval(selector, els =>\n    els.map(el => el.textContent)\n  );\n\n  return { url, data };\n});\n```\n\n### Authentication\n```typescript\ndefineFn(\"auth-action\", async (context) => {\n  const { session, params } = context;\n  const { username, password } = params;\n\n  const browser = await chromium.connectOverCDP(session.connectUrl);\n  const page = browser.contexts()[0]!.pages()[0]!;\n\n  await page.goto(\"https://example.com/login\");\n  await page.fill('input[name=\"email\"]', username);\n  await page.fill('input[name=\"password\"]', password);\n  await page.click('button[type=\"submit\"]');\n  await page.waitForURL(\"**/dashboard\");\n\n  const data = await page.textContent('.user-data');\n  return { success: true, data };\n});\n```\n\n### Multi-Page Workflow\n```typescript\ndefineFn(\"multi-page\", async (context) => {\n  const { session, params } = context;\n  const browser = await chromium.connectOverCDP(session.connectUrl);\n  const page = browser.contexts()[0]!.pages()[0]!;\n\n  const results = [];\n  for (const url of params.urls) {\n    await page.goto(url);\n    await page.waitForLoadState(\"domcontentloaded\");\n\n    const title = await page.title();\n    results.push({ url, title });\n  }\n\n  return { results };\n});\n```\n\n## Troubleshooting\n\n### üî¥ \"No functions were built. Please check your entrypoint and function exports.\"\n\n**This is the #1 error!**\n\n**Cause:** Generated `package.json` is incomplete.\n\n**Fix:**\n1. Update `package.json` (see Step 3 above)\n2. Add all required fields: `description`, `main`, `packageManager`\n3. Change `\"latest\"` to pinned versions like `\"^0.0.5\"`\n4. Add `devDependencies` section with TypeScript and types\n5. Run `pnpm install`\n6. Try deploying again\n\n**Quick check:** Compare your `package.json` to `bitcoin-functions/package.json` in the codebase.\n\n### Local dev server won't start\n\n```bash\n# Check credentials in .env\ncat .env\n\n# Install SDK globally\npnpm add -g @browserbasehq/sdk-functions\n```\n\n### Function works locally but fails on deploy\n\n**Common causes:**\n1. Missing `devDependencies` (TypeScript won't compile)\n2. Using `\"latest\"` instead of pinned versions\n3. Missing required fields in `package.json`\n\n**Solution:** Fix package.json as described in Step 3.\n\n### Cannot extract data from page\n\n1. Take screenshot: `browse screenshot debug.png`\n2. Get snapshot: `browse snapshot`\n3. Use `page.evaluate()` to log what's in the DOM\n4. Check if selectors match actual HTML structure\n\n### \"Invocation timed out\"\n\n- Functions have 15 minute max\n- Use specific waits instead of long sleeps\n- Check if page is actually loading\n\n## Best Practices\n\n1. ‚úÖ **Fix package.json immediately** after init\n2. ‚úÖ **Explore interactively first** - Use browser session to understand site\n3. ‚úÖ **Test manually** - Verify each step works before writing code\n4. ‚úÖ **Test locally** - Use dev server before deploying\n5. ‚úÖ **Return meaningful data** - Include timestamps, counts, URLs\n6. ‚úÖ **Handle errors gracefully** - Try/catch around risky operations\n7. ‚úÖ **Use specific selectors** - Prefer data attributes over CSS classes\n8. ‚úÖ **Add logging** - `console.log()` helps debug deployed functions\n9. ‚úÖ **Validate parameters** - Check `params` before using\n10. ‚úÖ **Set reasonable timeouts** - Don't wait forever\n\n## Quick Checklist\n\n- [ ] Explore site with `browse open <url>`\n- [ ] Test interactions manually\n- [ ] Create project: `pnpm dlx @browserbasehq/sdk-functions init <name>`\n- [ ] **Fix package.json immediately** (Step 3)\n- [ ] Run `pnpm install`\n- [ ] Write automation in `index.ts`\n- [ ] Test locally: `pnpm bb dev index.ts`\n- [ ] Verify with curl\n- [ ] Deploy: `pnpm bb publish index.ts`\n- [ ] Test production via API\n- [ ] Save function ID\n\n## Code Fix Needed (For Maintainers)\n\n**File:** `/src/commands/functions.ts`\n**Lines:** 146-158\n**Function:** `initFunction()`\n\nReplace the current `packageJson` object with:\n\n```typescript\nconst packageJson = {\n  name,\n  version: '1.0.0',\n  description: `${name} function`,\n  main: 'index.js',\n  type: 'module',\n  packageManager: 'pnpm@10.14.0',\n  scripts: {\n    dev: 'pnpm bb dev index.ts',\n    publish: 'pnpm bb publish index.ts',\n  },\n  dependencies: {\n    '@browserbasehq/sdk-functions': '^0.0.5',\n    'playwright-core': '^1.58.0',\n  },\n  devDependencies: {\n    '@types/node': '^25.0.10',\n    'typescript': '^5.9.3',\n  },\n};\n```\n\nThis will eliminate the \"No functions were built\" error for all new projects.\n",
        "commands/setup.md": "---\ndescription: Install the browse and bb CLIs required for browser automation\n---\n\n# Setup Browse CLI\n\nInstall the required CLIs for browser automation:\n\n```bash\nnpm install -g @browserbasehq/browse-cli @browserbasehq/sdk-functions\n```\n\nAfter installation, verify they work:\n\n```bash\nbrowse --version\nbb --version\n```\n\nThen set your Browserbase credentials:\n\n```bash\nexport BROWSERBASE_API_KEY=\"your_api_key\"\nexport BROWSERBASE_PROJECT_ID=\"your_project_id\"\n```\n\nGet credentials from: https://browserbase.com/settings\n",
        "skills/auth/SKILL.md": "---\nname: auth\ndescription: Guide Claude through interactive authentication flows using the browse CLI\n---\n\n# Authentication Skill\n\nGuide Claude through interactive authentication flows using the `browse` CLI.\n\n## When to Use\n\nUse this skill when:\n- A website requires login to access content\n- You encounter a login page or authentication wall\n- The user needs to authenticate to complete a task\n- Session cookies have expired\n\n## Authentication Flow\n\n### 1. Detect Login Page\n\nAfter navigating to a URL, check if authentication is needed:\n\n```bash\nbrowse snapshot\n```\n\nLook for indicators:\n- Form elements with `type=\"password\"` or `type=\"email\"`\n- Text containing \"sign in\", \"log in\", \"username\", \"password\"\n- OAuth buttons (Google, GitHub, Microsoft, etc.)\n\n### 2. Prompt User for Credentials\n\n**Always ask the user for credentials - never assume or store them.**\n\nExample prompt:\n```\nI've detected a login page. To continue, I'll need your credentials:\n\n1. What is your email/username?\n2. What is your password?\n\nNote: Your credentials will only be used to fill the login form and won't be stored.\n```\n\n### 3. Fill Login Form\n\nUse the snapshot refs to identify form fields:\n\n```bash\n# Get the current page state\nbrowse snapshot\n\n# Fill the email/username field\nbrowse fill @0-5 \"user@example.com\"\n\n# Fill the password field  \nbrowse fill @0-8 \"their-password\"\n\n# Click the submit button\nbrowse click @0-12\n```\n\n### 4. Handle 2FA/MFA\n\nIf a 2FA prompt appears after login:\n\n```bash\nbrowse snapshot\n```\n\nPrompt the user:\n```\nTwo-factor authentication is required. Please provide:\n- The code from your authenticator app, OR\n- The code sent to your phone/email\n\nWhat is your 2FA code?\n```\n\nThen fill and submit:\n```bash\nbrowse fill @0-3 \"123456\"\nbrowse click @0-5\n```\n\n### 5. Verify Success\n\nAfter submitting credentials:\n\n```bash\nbrowse wait load networkidle\nbrowse snapshot\n```\n\nCheck for:\n- Redirect away from login page\n- User profile/avatar elements\n- Dashboard or home page content\n- Absence of error messages\n\nIf login failed:\n```\nThe login attempt was unsuccessful. I see an error message: \"[error text]\"\n\nWould you like to:\n1. Try again with different credentials\n2. Use a different login method (OAuth, SSO)\n3. Reset your password\n```\n\n## OAuth/SSO Flows\n\nFor OAuth buttons (Google, GitHub, etc.):\n\n1. Click the OAuth button\n2. A popup or redirect will occur\n3. User completes authentication in the OAuth provider\n4. Wait for redirect back to the original site\n\n```bash\n# Click OAuth button\nbrowse click @0-15\n\n# Wait for OAuth flow to complete\nbrowse wait load networkidle\n\n# Verify authentication succeeded\nbrowse snapshot\n```\n\n## Common Patterns\n\n### Username + Password Form\n```html\n<form>\n  <input type=\"email\" name=\"email\">\n  <input type=\"password\" name=\"password\">\n  <button type=\"submit\">Sign In</button>\n</form>\n```\n\n### Magic Link / Passwordless\n```\nI see this site uses passwordless authentication (magic link).\n\n1. Enter your email address\n2. Check your email for the login link\n3. Let me know when you've clicked the link\n\nWhat email should I use?\n```\n\n### CAPTCHA\n```\nThis login page has a CAPTCHA. I cannot solve CAPTCHAs automatically.\n\nOptions:\n1. Use Browserbase's CAPTCHA solving (enabled via --ws $BROWSERBASE_CONNECT_URL)\n2. Try a different authentication method\n3. Contact the site administrator\n```\n\n## Security Reminders\n\n- Never store or log user credentials\n- Credentials are only used to fill form fields\n- Recommend users use password managers\n- Suggest enabling 2FA when available\n- Clear sensitive data from conversation context after use\n\n## Troubleshooting\n\n### Login button doesn't work\n```bash\n# Try waiting for page to be fully loaded\nbrowse wait load networkidle\n\n# Check if button is actually clickable\nbrowse snapshot\n\n# Try clicking by coordinates if ref doesn't work\nbrowse click_xy 450 320\n```\n\n### Form fields not found\n```bash\n# Get full snapshot to find correct refs\nbrowse snapshot\n\n# Use get to inspect specific elements\nbrowse get html body\n```\n\n### Session expires quickly\n- Some sites have short session timeouts\n- Use Browserbase for persistent cloud sessions\n- Check if \"Remember me\" checkbox is available\n",
        "skills/browse/SKILL.md": "---\nname: browse\ndescription: Browser automation CLI for AI agents - create, test, and deploy web automations\n---\n\n# Browse - Browser Automation CLI\n\nBrowser automation CLI for AI agents. Create, test, and deploy web automations using the `browse` CLI.\n\n## Setup (Run First!)\n\nBefore using this skill, install the required CLIs:\n\n```bash\nnpm install -g @browserbasehq/browse-cli @browserbasehq/sdk-functions\n```\n\nSet your credentials:\n```bash\nexport BROWSERBASE_API_KEY=\"your_api_key\"\nexport BROWSERBASE_PROJECT_ID=\"your_project_id\"\n```\n\nGet credentials from: https://browserbase.com/settings\n\n## When to Use\n\nUse this skill when:\n- User wants to automate a website task\n- User needs to scrape data from a site\n- User wants to create a Browserbase Function\n- Starting from scratch on a new automation\n\n## Workflow\n\n### 1. Understand the Goal\n\nAsk clarifying questions:\n- What website/URL are you automating?\n- What's the end goal (extract data, submit forms, monitor changes)?\n- Does it require authentication?\n- Should this run on a schedule or on-demand?\n\n### 2. Explore the Site Interactively\n\nStart a local browser session to understand the site structure:\n\n```bash\nbrowse open https://example.com\n```\n\nUse snapshot to understand the DOM:\n```bash\nbrowse snapshot\n```\n\nTake screenshots to see the visual layout:\n```bash\nbrowse screenshot exploration.png\n```\n\n### 3. Identify Key Elements\n\nFor each step of the automation, identify:\n- Selectors for interactive elements\n- Wait conditions needed\n- Data to extract\n\nUse the accessibility tree refs to understand element relationships:\n```\n[@0-5] button: \"Submit\"\n[@0-6] textbox: \"Email\"\n[@0-7] textbox: \"Password\"\n```\n\n### 4. Test Interactions Manually\n\nBefore writing code, verify each step works:\n\n```bash\nbrowse fill @0-6 \"test@example.com\"\nbrowse fill @0-7 \"password123\"\nbrowse click @0-5\nbrowse wait load networkidle\nbrowse snapshot\n```\n\n### 5. Enable Network Capture (if needed)\n\nFor API-based automations or debugging:\n```bash\nbrowse network on\n# perform actions\nbrowse network path\n# inspect captured requests in the directory\n```\n\n### 6. Create the Function\n\nOnce you understand the flow, create a full function project:\n\n```bash\npnpm dlx @browserbasehq/sdk-functions init my-automation\ncd my-automation\n```\n\nThis creates a complete project with:\n- `package.json` with dependencies\n- `.env` for credentials\n- `tsconfig.json`\n- `index.ts` template\n\nEdit `index.ts` with your automation logic:\n\n```typescript\nimport { defineFn } from \"@browserbasehq/sdk-functions\";\nimport { chromium } from \"playwright-core\";\n\ndefineFn(\"my-automation\", async (context) => {\n  const { session } = context;\n  const browser = await chromium.connectOverCDP(session.connectUrl);\n  const page = browser.contexts()[0]!.pages()[0]!;\n\n  // Your automation steps here\n  await page.goto(\"https://example.com\");\n  await page.fill('input[name=\"email\"]', context.params.email);\n  await page.click('button[type=\"submit\"]');\n  \n  // Extract and return data\n  const result = await page.textContent('.result');\n  return { success: true, result };\n});\n```\n\n### 7. Test Locally\n\nStart the local development server:\n```bash\npnpm bb dev index.ts\n```\n\nThen invoke locally via curl:\n```bash\ncurl -X POST http://127.0.0.1:14113/v1/functions/my-automation/invoke \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"params\": {\"email\": \"test@example.com\"}}'\n```\n\n### 8. Deploy to Browserbase\n\nWhen ready for production:\n```bash\npnpm bb publish index.ts\n```\n\n### 9. Test Production\n\nInvoke the deployed function via API:\n```bash\ncurl -X POST https://api.browserbase.com/v1/functions/<function-id>/invoke \\\n  -H \"Content-Type: application/json\" \\\n  -H \"x-bb-api-key: $BROWSERBASE_API_KEY\" \\\n  -d '{\"params\": {\"email\": \"test@example.com\"}}'\n```\n\n## Best Practices\n\n### Selectors\n- Prefer data attributes (`data-testid`) over CSS classes\n- Use text content as fallback (`text=Submit`)\n- Avoid fragile selectors like nth-child\n\n### Waiting\n- Always wait for navigation/network after clicks\n- Use `waitForSelector` for dynamic content\n- Set reasonable timeouts\n\n### Error Handling\n- Wrap risky operations in try/catch\n- Return structured error information\n- Log intermediate steps for debugging\n\n### Data Extraction\n- Use `page.evaluate()` for complex extraction\n- Validate extracted data before returning\n- Handle missing elements gracefully\n\n## Example: E-commerce Price Monitor\n\n```typescript\ndefineFn(\"price-monitor\", async (context) => {\n  const { session, params } = context;\n  const browser = await chromium.connectOverCDP(session.connectUrl);\n  const page = browser.contexts()[0]!.pages()[0]!;\n\n  await page.goto(params.productUrl);\n  await page.waitForSelector('.price');\n\n  const price = await page.evaluate(() => {\n    const el = document.querySelector('.price');\n    return el?.textContent?.replace(/[^0-9.]/g, '');\n  });\n\n  return {\n    url: params.productUrl,\n    price: parseFloat(price || '0'),\n    timestamp: new Date().toISOString(),\n  };\n});\n```\n",
        "skills/browser-automation/SKILL.md": "---\nname: browser-automation\ndescription: Automate web browser interactions using the browse CLI for AI agents\n---\n\n# Browser Automation Skill\n\nAutomate web browser interactions using the `browse` CLI for AI agents.\n\n**üö® CRITICAL - READ THIS FIRST üö®**\n\nA Browserbase session with stealth/proxy/captcha has been pre-created for you.\n\n**YOU MUST USE `browse --ws $BROWSERBASE_CONNECT_URL` FOR EVERY COMMAND.**\n\n**DO NOT use `browse open` without `--ws` - it will launch a LOCAL browser!**\n\n## Installation\n\n```bash\nnpm install -g @browserbasehq/browse-cli\n```\n\nRequires Chrome/Chromium installed on the system.\n\n## When to Use\n\nUse this skill when the user asks to:\n- Browse websites or navigate to URLs\n- Extract data from web pages\n- Fill forms or click buttons\n- Take screenshots of web pages\n- Interact with web applications\n- Automate multi-step web workflows\n\n## Core Concepts\n\nThe `browse` CLI provides:\n- **Element references** - Snapshot creates refs like `@0-5` for easy clicking/filling\n- **Browserbase support** - Connect to pre-created cloud browser sessions with `--ws`\n- **Daemon architecture** - Fast, stateful interactions with auto-recovery\n\n## Environment Selection\n\n**CRITICAL: A Browserbase session with stealth/proxy/captcha has been pre-created for you.**\n\nThe session URL is in the `BROWSERBASE_CONNECT_URL` environment variable.\n\n**YOU MUST ALWAYS use `browse --ws $BROWSERBASE_CONNECT_URL` for EVERY command:**\n\n```bash\nbrowse --ws $BROWSERBASE_CONNECT_URL open https://example.com\n```\n\n**WHY:**\n- ‚úÖ Browser runs in Browserbase cloud (NOT locally)\n- ‚úÖ Advanced stealth mode enabled (bypasses Cloudflare)\n- ‚úÖ Residential proxies enabled\n- ‚úÖ CAPTCHA solving enabled\n- ‚úÖ Session recordings at: $BROWSERBASE_DEBUG_URL\n\n**IF YOU FORGET `--ws $BROWSERBASE_CONNECT_URL`:**\n- ‚ùå Will launch LOCAL Chrome browser\n- ‚ùå Will NOT use stealth/proxy/captcha\n- ‚ùå Will fail the evaluation\n\n## Quick Start Workflow\n\n```bash\n# 1. Navigate to page (connects to pre-created Browserbase session)\nbrowse --ws $BROWSERBASE_CONNECT_URL open https://example.com\n\n# 2. Get page structure with element refs\nbrowse --ws $BROWSERBASE_CONNECT_URL snapshot -c\n\n# Output includes refs like [0-5], [1-2]:\n# RootWebArea \"Example\" url=\"https://example.com\"\n#   [0-0] link \"Home\"\n#   [0-1] link \"About\"\n#   [0-2] button \"Sign In\"\n\n# 3. Interact using refs\nbrowse --ws $BROWSERBASE_CONNECT_URL click @0-2\nbrowse --ws $BROWSERBASE_CONNECT_URL fill @0-5 \"search query\"\n\n# 4. Re-snapshot to verify changes\nbrowse --ws $BROWSERBASE_CONNECT_URL snapshot -c\n\n# 5. Stop when done (optional, session persists)\nbrowse --ws $BROWSERBASE_CONNECT_URL stop\n```\n\n## Navigation Commands\n\n**REMEMBER:** Use `browse --ws $BROWSERBASE_CONNECT_URL` for ALL commands below.\n\n```bash\n# Navigate to URL\nbrowse --ws $BROWSERBASE_CONNECT_URL open <url>\n\n# With custom timeout for slow pages\nbrowse --ws $BROWSERBASE_CONNECT_URL open <url> --timeout 60000\n\n# Page navigation\nbrowse --ws $BROWSERBASE_CONNECT_URL reload\nbrowse --ws $BROWSERBASE_CONNECT_URL back\nbrowse --ws $BROWSERBASE_CONNECT_URL forward\n```\n\n## Element Interaction\n\n### Get Page Structure\n\n```bash\n# Get accessibility tree with element refs\nbrowse --ws $BROWSERBASE_CONNECT_URL snapshot -c\n\n# Get full snapshot with XPath/CSS mappings\nbrowse --ws $BROWSERBASE_CONNECT_URL snapshot --json\n```\n\n### Click Elements\n\n```bash\n# Click by ref (from snapshot)\nbrowse --ws $BROWSERBASE_CONNECT_URL click @0-5\nbrowse --ws $BROWSERBASE_CONNECT_URL click 0-5       # @ prefix optional\n\n# Click with options\nbrowse --ws $BROWSERBASE_CONNECT_URL click @0-5 -b right -c 2  # Right-click twice\n\n# Click at coordinates\nbrowse --ws $BROWSERBASE_CONNECT_URL click_xy 100 200\n```\n\n### Form Filling\n\n```bash\n# Fill input (clears existing value first)\nbrowse --ws $BROWSERBASE_CONNECT_URL fill @0-5 \"my value\"\n\n# Fill without pressing Enter\nbrowse --ws $BROWSERBASE_CONNECT_URL fill @0-5 \"my value\" --no-press-enter\n\n# Select dropdown options\nbrowse --ws $BROWSERBASE_CONNECT_URL select @0-8 \"Option 1\" \"Option 2\"\n```\n\n### Typing\n\n```bash\n# Type text (appends to existing value)\nbrowse --ws $BROWSERBASE_CONNECT_URL type \"Hello, world!\"\n\n# Type with delay between characters\nbrowse --ws $BROWSERBASE_CONNECT_URL type \"slow typing\" -d 100\n\n# Press special keys\nbrowse --ws $BROWSERBASE_CONNECT_URL press Enter\nbrowse --ws $BROWSERBASE_CONNECT_URL press Tab\nbrowse --ws $BROWSERBASE_CONNECT_URL press \"Cmd+A\"\n```\n\n## Data Extraction\n\n```bash\n# Get page info\nbrowse --ws $BROWSERBASE_CONNECT_URL get url\nbrowse --ws $BROWSERBASE_CONNECT_URL get title\nbrowse --ws $BROWSERBASE_CONNECT_URL get text body\nbrowse --ws $BROWSERBASE_CONNECT_URL get html @0-5\n\n# Take screenshot\nbrowse --ws $BROWSERBASE_CONNECT_URL screenshot page.png\nbrowse --ws $BROWSERBASE_CONNECT_URL screenshot -f        # Full page\nbrowse --ws $BROWSERBASE_CONNECT_URL screenshot --type jpeg\n\n# Get element coordinates\nbrowse --ws $BROWSERBASE_CONNECT_URL get box @0-5  # Returns center x,y\n```\n\n## Waiting\n\n```bash\n# Wait for page load\nbrowse --ws $BROWSERBASE_CONNECT_URL wait load\nbrowse --ws $BROWSERBASE_CONNECT_URL wait load networkidle\n\n# Wait for element\nbrowse --ws $BROWSERBASE_CONNECT_URL wait selector \".my-class\"\nbrowse --ws $BROWSERBASE_CONNECT_URL wait selector \".my-class\" -t 10000 -s visible\n\n# Wait for time\nbrowse --ws $BROWSERBASE_CONNECT_URL wait timeout 2000\n```\n\n## Multi-Tab Support\n\n```bash\n# List all tabs\nbrowse --ws $BROWSERBASE_CONNECT_URL pages\n\n# Open new tab\nbrowse --ws $BROWSERBASE_CONNECT_URL newpage https://example.com\n\n# Switch tabs\nbrowse --ws $BROWSERBASE_CONNECT_URL tab_switch 1\n\n# Close tab\nbrowse --ws $BROWSERBASE_CONNECT_URL tab_close 2\n```\n\n## Network Capture\n\nCapture HTTP requests for inspection:\n\n```bash\n# Start capturing\nbrowse --ws $BROWSERBASE_CONNECT_URL network on\n\n# Get capture directory\nbrowse --ws $BROWSERBASE_CONNECT_URL network path\n\n# Stop capturing\nbrowse --ws $BROWSERBASE_CONNECT_URL network off\n\n# Clear captures\nbrowse --ws $BROWSERBASE_CONNECT_URL network clear\n```\n\nCaptured requests are saved as directories with `request.json` and `response.json`.\n\n## Daemon Control\n\n```bash\n# Check status\nbrowse --ws $BROWSERBASE_CONNECT_URL status\n\n# Stop browser\nbrowse --ws $BROWSERBASE_CONNECT_URL stop\n\n# Force stop\nbrowse --ws $BROWSERBASE_CONNECT_URL stop --force\n```\n\n## Element References\n\nAfter `snapshot`, elements have refs you can use:\n\n```\nRootWebArea \"Login Page\"\n  [0-0] heading \"Welcome\"\n  [0-1] textbox \"Email\" name=\"email\"\n  [0-2] textbox \"Password\" name=\"password\"\n  [0-3] button \"Sign In\"\n```\n\nUse these refs directly:\n```bash\nbrowse --ws $BROWSERBASE_CONNECT_URL fill @0-1 \"user@example.com\"\nbrowse --ws $BROWSERBASE_CONNECT_URL fill @0-2 \"mypassword\"\nbrowse --ws $BROWSERBASE_CONNECT_URL click @0-3\n```\n\n## Best Practices\n\n### 1. Always snapshot after navigation\n```bash\nbrowse --ws $BROWSERBASE_CONNECT_URL open https://example.com\nbrowse --ws $BROWSERBASE_CONNECT_URL snapshot -c  # Get refs\n```\n\n### 2. Re-snapshot after actions that change the page\n```bash\nbrowse --ws $BROWSERBASE_CONNECT_URL click @0-5\nbrowse --ws $BROWSERBASE_CONNECT_URL snapshot -c  # Get new state\n```\n\n### 3. Use refs instead of selectors\n```bash\n# ‚úÖ Good: Use refs from snapshot\nbrowse --ws $BROWSERBASE_CONNECT_URL click @0-5\n\n# ‚ùå Avoid: Manual selectors (refs are more reliable)\nbrowse --ws $BROWSERBASE_CONNECT_URL click \"#submit-button\"\n```\n\n### 4. Wait for elements when needed\n```bash\nbrowse --ws $BROWSERBASE_CONNECT_URL open https://slow-site.com\nbrowse --ws $BROWSERBASE_CONNECT_URL wait selector \".content\" -s visible\nbrowse --ws $BROWSERBASE_CONNECT_URL snapshot -c\n```\n\n### 5. Always use --ws $BROWSERBASE_CONNECT_URL\n```bash\n# ‚úÖ Correct: Remote browser (connects to pre-created Browserbase session)\nbrowse --ws $BROWSERBASE_CONNECT_URL open https://example.com\n\n# ‚ùå Wrong: Local browser (will fail in evals, launches Chrome locally)\nbrowse open https://example.com\n```\n\n## Common Patterns\n\n### Login Flow\n```bash\nbrowse --ws $BROWSERBASE_CONNECT_URL open https://example.com/login\nbrowse --ws $BROWSERBASE_CONNECT_URL snapshot -c\n# [0-5] textbox \"Email\"\n# [0-6] textbox \"Password\"\n# [0-7] button \"Sign In\"\nbrowse --ws $BROWSERBASE_CONNECT_URL fill @0-5 \"user@example.com\"\nbrowse --ws $BROWSERBASE_CONNECT_URL fill @0-6 \"password123\"\nbrowse --ws $BROWSERBASE_CONNECT_URL click @0-7\nbrowse --ws $BROWSERBASE_CONNECT_URL wait load\nbrowse --ws $BROWSERBASE_CONNECT_URL snapshot -c  # Verify logged in\n```\n\n### Search and Extract\n```bash\nbrowse --ws $BROWSERBASE_CONNECT_URL open https://example.com\nbrowse --ws $BROWSERBASE_CONNECT_URL snapshot -c\n# [0-3] textbox \"Search\"\nbrowse --ws $BROWSERBASE_CONNECT_URL fill @0-3 \"my query\"\nbrowse --ws $BROWSERBASE_CONNECT_URL wait selector \".results\"\nbrowse --ws $BROWSERBASE_CONNECT_URL snapshot -c\n# [1-0] text \"Result 1\"\n# [1-1] text \"Result 2\"\nbrowse --ws $BROWSERBASE_CONNECT_URL get text @1-0\nbrowse --ws $BROWSERBASE_CONNECT_URL get text @1-1\n```\n\n### Multi-Page Navigation\n```bash\nbrowse --ws $BROWSERBASE_CONNECT_URL open https://example.com\nbrowse --ws $BROWSERBASE_CONNECT_URL snapshot -c\n# [0-5] link \"Next Page\"\nbrowse --ws $BROWSERBASE_CONNECT_URL click @0-5\nbrowse --ws $BROWSERBASE_CONNECT_URL wait load\nbrowse --ws $BROWSERBASE_CONNECT_URL snapshot -c  # Get new page structure\n```\n\n## Troubleshooting\n\n### Browser won't start\n- Check that `browse` is installed: `which browse`\n- Check status: `browse --ws $BROWSERBASE_CONNECT_URL status`\n- Force stop and retry: `browse --ws $BROWSERBASE_CONNECT_URL stop`\n\n### Element not found\n- Take a snapshot to verify refs: `browse --ws $BROWSERBASE_CONNECT_URL snapshot -c`\n- Wait for element to appear: `browse --ws $BROWSERBASE_CONNECT_URL wait selector ...`\n- Check if ref changed after page update\n\n### Page not loading\n- Increase timeout: `browse --ws $BROWSERBASE_CONNECT_URL open <url> --timeout 60000`\n- Wait for load state: `browse --ws $BROWSERBASE_CONNECT_URL wait load networkidle`\n\n### Commands failing with \"session not found\"\n- The daemon auto-recovers from crashes\n- If issues persist: `browse --ws $BROWSERBASE_CONNECT_URL stop --force && browse --ws $BROWSERBASE_CONNECT_URL open <url>`\n\n## Performance Tips\n\n1. **Use compact snapshots** (`-c`) for faster parsing\n2. **Wait strategically** - only wait when needed\n3. **Stop browser when done** to free resources\n4. **Use refs over selectors** - faster and more reliable\n\n## Important Notes\n\n- Browser state persists between commands (cookies, refs, etc.)\n- Refs are invalidated when the page changes significantly\n- Always take a new snapshot after navigation or major DOM changes\n- The daemon auto-starts on first command\n- Multiple sessions supported via `--session` flag or `BROWSE_SESSION` env var\n",
        "skills/functions/SKILL.md": "---\nname: functions\ndescription: Guide Claude through deploying serverless browser automation using the official bb CLI\n---\n\n# Browserbase Functions Skill\n\nGuide Claude through deploying serverless browser automation using the official `bb` CLI.\n\n## When to Use\n\nUse this skill when:\n- User wants to deploy automation to run on a schedule\n- User needs a webhook endpoint for browser automation\n- User wants to run automation in the cloud (not locally)\n- User asks about Browserbase Functions\n\n## Prerequisites\n\n### 1. Get Credentials\n\nGet API key and Project ID from: https://browserbase.com/settings\n\n### 2. Set Environment Variables\n\nSet directly:\n```bash\nexport BROWSERBASE_API_KEY=\"your_api_key\"\nexport BROWSERBASE_PROJECT_ID=\"your_project_id\"\n```\n\n## Creating a Function Project\n\n### 1. Initialize with Official CLI\n\n```bash\npnpm dlx @browserbasehq/sdk-functions init my-function\ncd my-function\n```\n\nThis creates:\n```\nmy-function/\n‚îú‚îÄ‚îÄ package.json\n‚îú‚îÄ‚îÄ index.ts        # Your function code\n‚îî‚îÄ‚îÄ .env            # Add credentials here\n```\n\n### 2. Add Credentials to .env\n\n```bash\n# Copy from stored credentials\necho \"BROWSERBASE_API_KEY=$BROWSERBASE_API_KEY\" >> .env\necho \"BROWSERBASE_PROJECT_ID=$BROWSERBASE_PROJECT_ID\" >> .env\n```\n\nOr manually edit `.env`:\n```\nBROWSERBASE_API_KEY=your_api_key\nBROWSERBASE_PROJECT_ID=your_project_id\n```\n\n### 3. Install Dependencies\n\n```bash\npnpm install\n```\n\n## Function Structure\n\n```typescript\nimport { defineFn } from \"@browserbasehq/sdk-functions\";\nimport { chromium } from \"playwright-core\";\n\ndefineFn(\"my-function\", async (context) => {\n  const { session, params } = context;\n  \n  // Connect to browser\n  const browser = await chromium.connectOverCDP(session.connectUrl);\n  const page = browser.contexts()[0]!.pages()[0]!;\n  \n  // Your automation\n  await page.goto(params.url || \"https://example.com\");\n  const title = await page.title();\n  \n  // Return JSON-serializable result\n  return { success: true, title };\n});\n```\n\n**Key objects:**\n- `context.session.connectUrl` - CDP endpoint to connect Playwright\n- `context.params` - Input parameters from invocation\n\n## Development Workflow\n\n### 1. Start Dev Server\n\n```bash\npnpm bb dev index.ts\n```\n\nServer runs at `http://127.0.0.1:14113`\n\n### 2. Test Locally\n\n```bash\ncurl -X POST http://127.0.0.1:14113/v1/functions/my-function/invoke \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"params\": {\"url\": \"https://news.ycombinator.com\"}}'\n```\n\n### 3. Iterate\n\nThe dev server auto-reloads on file changes. Use `console.log()` for debugging - output appears in the terminal.\n\n## Deploying\n\n### Publish to Browserbase\n\n```bash\npnpm bb publish index.ts\n```\n\nOutput:\n```\nFunction published successfully\nBuild ID: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\nFunction ID: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\n```\n\n**Save the Function ID** - you need it to invoke.\n\n## Invoking Deployed Functions\n\n### Via curl\n\n```bash\n# Start invocation\ncurl -X POST \"https://api.browserbase.com/v1/functions/FUNCTION_ID/invoke\" \\\n  -H \"Content-Type: application/json\" \\\n  -H \"x-bb-api-key: $BROWSERBASE_API_KEY\" \\\n  -d '{\"params\": {\"url\": \"https://example.com\"}}'\n\n# Response: {\"id\": \"INVOCATION_ID\"}\n\n# Poll for result\ncurl \"https://api.browserbase.com/v1/functions/invocations/INVOCATION_ID\" \\\n  -H \"x-bb-api-key: $BROWSERBASE_API_KEY\"\n```\n\n### Via Code\n\n```typescript\nasync function invokeFunction(functionId: string, params: object) {\n  // Start invocation\n  const invokeRes = await fetch(\n    `https://api.browserbase.com/v1/functions/${functionId}/invoke`,\n    {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-bb-api-key': process.env.BROWSERBASE_API_KEY!,\n      },\n      body: JSON.stringify({ params }),\n    }\n  );\n  const { id: invocationId } = await invokeRes.json();\n\n  // Poll until complete\n  while (true) {\n    await new Promise(r => setTimeout(r, 5000));\n    \n    const statusRes = await fetch(\n      `https://api.browserbase.com/v1/functions/invocations/${invocationId}`,\n      { headers: { 'x-bb-api-key': process.env.BROWSERBASE_API_KEY! } }\n    );\n    const result = await statusRes.json();\n    \n    if (result.status === 'COMPLETED') return result.results;\n    if (result.status === 'FAILED') throw new Error(result.error);\n  }\n}\n```\n\n## Common Patterns\n\n### Parameterized Scraping\n\n```typescript\ndefineFn(\"scrape\", async ({ session, params }) => {\n  const browser = await chromium.connectOverCDP(session.connectUrl);\n  const page = browser.contexts()[0]!.pages()[0]!;\n  \n  await page.goto(params.url);\n  await page.waitForSelector(params.selector);\n  \n  const items = await page.$$eval(params.selector, els => \n    els.map(el => el.textContent?.trim())\n  );\n  \n  return { url: params.url, items };\n});\n```\n\n### With Authentication\n\n```typescript\ndefineFn(\"authenticated-action\", async ({ session, params }) => {\n  const browser = await chromium.connectOverCDP(session.connectUrl);\n  const page = browser.contexts()[0]!.pages()[0]!;\n  \n  // Login\n  await page.goto(\"https://example.com/login\");\n  await page.fill('[name=\"email\"]', params.email);\n  await page.fill('[name=\"password\"]', params.password);\n  await page.click('button[type=\"submit\"]');\n  await page.waitForURL('**/dashboard');\n  \n  // Do authenticated work\n  const data = await page.textContent('.user-data');\n  return { data };\n});\n```\n\n### Error Handling\n\n```typescript\ndefineFn(\"safe-scrape\", async ({ session, params }) => {\n  const browser = await chromium.connectOverCDP(session.connectUrl);\n  const page = browser.contexts()[0]!.pages()[0]!;\n  \n  try {\n    await page.goto(params.url, { timeout: 30000 });\n    await page.waitForSelector(params.selector, { timeout: 10000 });\n    \n    const data = await page.textContent(params.selector);\n    return { success: true, data };\n  } catch (error) {\n    return { \n      success: false, \n      error: error instanceof Error ? error.message : 'Unknown error' \n    };\n  }\n});\n```\n\n## CLI Reference\n\n| Command | Description |\n|---------|-------------|\n| `pnpm dlx @browserbasehq/sdk-functions init <name>` | Create new project |\n| `pnpm bb dev <file>` | Start local dev server |\n| `pnpm bb publish <file>` | Deploy to Browserbase |\n\n## Troubleshooting\n\n### \"Missing API key\"\n```bash\n# Check .env file has credentials\ncat .env\n\n# Or set for current shell\nexport BROWSERBASE_API_KEY=\"your_key\"\nexport BROWSERBASE_PROJECT_ID=\"your_project\"\n```\n\n### Dev server won't start\n```bash\n# Make sure SDK is installed\npnpm add @browserbasehq/sdk-functions\n\n# Or use npx\nnpx @browserbasehq/sdk-functions dev index.ts\n```\n\n### Function times out\n- Max execution time is 15 minutes\n- Add specific timeouts to page operations\n- Use `waitForSelector` instead of sleep\n\n### Can't connect to browser\n- Check `session.connectUrl` is being used correctly\n- Ensure you're using `chromium.connectOverCDP()` not `chromium.launch()`\n"
      },
      "plugins": [
        {
          "name": "browse",
          "description": "Browser automation CLI for AI agents - automate web tasks, scrape data, fill forms, and deploy serverless browser functions",
          "version": "1.0.2",
          "author": {
            "name": "Browserbase",
            "email": "support@browserbase.com"
          },
          "source": "./",
          "category": "automation",
          "categories": [
            "automation"
          ],
          "install_commands": [
            "/plugin marketplace add browserbase/skills",
            "/plugin install browse@browserbase"
          ]
        }
      ]
    }
  ]
}