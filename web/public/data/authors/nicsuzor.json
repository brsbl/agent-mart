{
  "author": {
    "id": "nicsuzor",
    "display_name": "Nicolas Suzor",
    "avatar_url": "https://avatars.githubusercontent.com/u/4496978?v=4"
  },
  "marketplaces": [
    {
      "name": "aops",
      "version": null,
      "description": "academicOps - Research workflow automation framework",
      "repo_full_name": "nicsuzor/aops-dist",
      "repo_url": "https://github.com/nicsuzor/aops-dist",
      "repo_description": "Distribution artifacts for academicOps plugins",
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-02-11T02:35:10Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"$schema\": \"https://anthropic.com/claude-code/marketplace.schema.json\",\n  \"name\": \"aops\",\n  \"description\": \"academicOps - Research workflow automation framework\",\n  \"owner\": {\n    \"name\": \"Nicolas Suzor\",\n    \"email\": \"nic@suzor.net\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"aops-core\",\n      \"description\": \"Core academicOps framework - skills, agents, hooks, and tools for research workflow automation\",\n      \"version\": \"0.1.56.dev200\",\n      \"author\": {\n        \"name\": \"Nicolas Suzor\"\n      },\n      \"source\": \"./aops-claude\",\n      \"category\": \"productivity\"\n    }\n  ]\n}",
        "README.md": "# academicOps: A constitutional automation framework for academic work\n\n- Enforces a logical system: every rule derivable from AXIOMS.md with HEURISTICS.md supported by evidence.\n- Reflexive, self-improving agents must follow a CATEGORICAL IMPERATIVE: every action must be supported by a general rule.\n- Graduated approach to enforcement: enforcement-map.md sets out a full map of rules to enforcement mechanism, from gentle reminders to hard blocks.\n- Agent autonomy is limited to the authority they were granted: live ultra vires detection loop\n- Direct integration with beads for task memomory, memory mcp for vector search\n- Full personal knowledge base with gardening and continuous remembering skills\n- Human readable and portable Markdown files are the single sources of truth\n- Everything in git for durability and observability\n- Strict separation of user data (not in this repo)\n- Optimised for long-term strategic planning under conditions of uncertainty\n- Includes integrated MCP tooling for email and calendar access\n\n## Installation\n\n### Link your data repository / knowledge base\n\n- **Environment variables** in `~/.bashrc` or `~/.zshrc`:\n\n```bash\nexport ACA_DATA=\"$HOME/writing/data\"     # Your data (NOT in git)\n```\n\n### Install plugin for Claude Code & Gemini CLI\n\nDistribution repository: https://github.com/nicsuzor/aops-dist\n\nClaude Code\n\n```bash\ncommand claude plugin marketplace add nicsuzor/aops-dist\ncommand claude plugin marketplace update aops && command claude plugin install aops-core@aops && command claude plugin list\n```\n\nGemini CLI (warning: auto accept flag below, remove --consent if you're concerned)\n\n```bash\n(command gemini extensions uninstall aops-core || echo Gemini plugin not installed -- not removing.) && command gemini extensions install git@github.com:nicsuzor/aops-dist.git --consent --auto-update --pre-release\n```\n\n## Core Loop\n\n**For detailed specification, see**: [[aops-core/specs/flow.md]]\n\n**Goal**: The minimal viable framework with ONE complete, working loop.\n\n**Philosophy**: Users don't have to use aops. But if they do, it's slow and thorough. The full workflow is MANDATORY.\n\n### Core Loop Diagram\n\n```mermaid\nflowchart TD\n    %% Node Definitions\n    Start([Session Start])\n    \n    subgraph Initialization [1. Initialization]\n        SStart[SessionStart Event] --> Router1{Universal Router}\n        Router1 -.-> Setup[session_env_setup.py]\n        Router1 -.-> StartGate[session_start gate]\n        StartGate --> State[(Create State File)]\n        StartGate --- InitExpl[Loads environment paths,<br/>AXIOMS, and HEURISTICS]\n    end\n\n    subgraph Hydration [2. Hydration & Review]\n        UPS[UserPromptSubmit Event] --> Router2{Universal Router}\n        Router2 -.-> SkipCheck{Skip Hydration?}\n        SkipCheck -- No --> Context[Context -> Temp File]\n        Context --> Hydrator[[prompt-hydrator Subagent]]\n        Hydrator --> Plan[/Hydration Plan/]\n        \n        Hydrator --- HydrateExpl[Fetches: Task queue, memory server,<br/>WORKFLOWS index, and relevant files]\n        \n        Plan --> Critic[[critic Subagent]]\n        Critic --> CriticCheck{Plan Approved?}\n        CriticCheck -- REVISE --> Plan\n        Critic --- CriticExpl[Evaluates plan for assumptions,<br/>safety gaps, and logic errors]\n    end\n\n    subgraph Execution [3. Execution & Hard Gates]\n        PreTool[PreToolUse Event] --> Router3{Universal Router}\n        \n        Router3 -.-> GateH[Hydration Gate]\n        GateH --> GateT[Task Gate]\n        \n        GateH --- HExpl[Blocks mutating tools until<br/>an execution plan is generated]\n        GateT --- TExpl[Enforces work tracking by requiring<br/>an active task for destructive actions]\n        \n        GateT --> ProbCheck{Audit Threshold?}\n        ProbCheck -- Yes ~14% --> GateC[Custodiet Gate]\n        ProbCheck -- No --> Tool[[Execute Tool]]\n        \n        GateC --- CExpl[Reviews session history for<br/>principle violations and scope drift]\n        GateC --> Tool\n        \n        Tool --> PostTool[PostToolUse Event]\n        PostTool --> Router4{Universal Router}\n        Router4 -.-> Accountant[Accountant: Update Counters]\n    end\n\n    subgraph Termination [4. Reflection & Close]\n        AfterAgent[AfterAgent Event] --> Router5{Universal Router}\n        Router5 -.-> RefCheck[Validate Reflection]\n        RefCheck --- RefExpl[Ensures Framework Reflection includes<br/>all 8 required metadata fields]\n        \n        RefCheck --> Stop[Stop Event]\n        Stop --> Router6{Universal Router}\n        Router6 -.-> StopGate[Stop Gate]\n        StopGate --> Commit[Commit & Close]\n        \n        StopGate --- StopExpl[Final gate: Mandates independent<br/>QA passage and clean git state]\n    end\n\n    %% Flow Connections\n    Start --> SStart\n    State --> UPS\n    SkipCheck -- Yes --> PreTool\n    CriticCheck -- PROCEED --> PreTool\n    Accountant --> AfterAgent\n    Commit --> End([Session End])\n\n    %% Styling (Light & Dark Theme Compatible)\n    classDef hook fill:#0277bd,stroke:#01579b,stroke-width:2px,color:#fff\n    classDef gate fill:#c62828,stroke:#b71c1c,stroke-width:2px,color:#fff\n    classDef agent fill:#6a1b9a,stroke:#4a148c,stroke-width:2px,color:#fff\n    classDef state fill:#ef6c00,stroke:#e65100,stroke-width:2px,color:#fff\n    classDef event fill:#424242,stroke:#212121,stroke-width:2px,color:#fff\n    classDef explain fill:none,stroke:#888,stroke-width:1px,color:#888,font-style:italic\n\n    class Router1,Router2,Router3,Router4,Router5,Router6,Setup,Accountant,Commit hook\n    class StartGate,SkipCheck,GateH,GateT,GateC,CriticCheck,RefCheck,StopGate,ProbCheck gate\n    class Hydrator,Critic agent\n    class State,Plan,Context state\n    class SStart,UPS,PreTool,PostTool,AfterAgent,Stop event\n    class InitExpl,HydrateExpl,CriticExpl,HExpl,TExpl,CExpl,RefExpl,StopExpl explain\n\n    %% Subgraph Styling\n    style Initialization fill:none,stroke:#888,stroke-dasharray: 5 5\n    style Hydration fill:none,stroke:#888,stroke-dasharray: 5 5\n    style Execution fill:none,stroke:#888,stroke-dasharray: 5 5\n    style Termination fill:none,stroke:#888,stroke-dasharray: 5 5\n```\n\n## Core Concepts\n\n### The Logical Derivation System\n\nacademicOps is built as a **validated logical system**. Every rule traces back to first principles:\n\n| Level | Document               | Contains                    | Status                           |\n| ----- | ---------------------- | --------------------------- | -------------------------------- |\n| 1     | **AXIOMS.md**          | Inviolable principles       | Cannot be violated               |\n| 2     | **HEURISTICS.md**      | Empirically validated rules | Can be revised with evidence     |\n| 3     | **enforcement-map.md** | Enforcement mechanisms      | Maps rules to technical controls |\n\n**The derivation rule**: Every convention MUST trace to an axiom. If it can't be derived, the convention is invalid.\n\n### Axioms vs Heuristics\n\n**Axioms** are inviolable—they define what the system IS:\n\n- \"Fail-Fast\": No defaults, no fallbacks, no silent failures\n- \"Skills Are Read-Only\": No dynamic data in skills\n- \"Research Data Is Immutable\": Never modify source datasets\n\n**Heuristics** are working hypotheses validated by evidence:\n\n- \"Semantic Link Density\": Related files MUST link to each other\n- \"Skills Contain No Dynamic Content\": Current state lives in $ACA_DATA\n\nThe difference: axioms cannot be violated; heuristics can and _should be_ be revised when evidence shows they're wrong.\n\n### Skills vs Workflows\n\nThe framework distinguishes between **what** to do and **how** to do it:\n\n|              | Skills                           | Workflows                      |\n| ------------ | -------------------------------- | ------------------------------ |\n| **Answer**   | \"How do I do X?\"                 | \"What should I do?\"            |\n| **Nature**   | Fungible instructions            | Composable chains of steps     |\n| **Examples** | Create a PDF, generate a mindmap | Feature development, TDD cycle |\n\n**Skills** are interchangeable recipes—any skill that creates a PDF can substitute for another. They're the building blocks.\n\n**Workflows** orchestrate those building blocks into coherent processes. A workflow defines the sequence (spec review → implementation → QA), while skills handle each step's mechanics.\n\nFor full specification, see [[aops-core/specs/workflow-system-spec]].\n\n### Enforcement Levels\n\nRules aren't just documented—they're enforced at multiple levels:\n\n| Level          | Mechanism                                  | Example                                   |\n| -------------- | ------------------------------------------ | ----------------------------------------- |\n| **Hard Gate**  | Blocks action entirely                     | PreToolUse hooks block `git reset --hard` |\n| **Soft Gate**  | Injects guidance, agent can proceed        | prompt-hydrator suggests skills           |\n| **Prompt**     | Instructional (AXIOMS.md at session start) | \"Verify First\" reminder                   |\n| **Detection**  | Logs for analysis                          | custodiet compliance checks               |\n| **Pre-commit** | Blocks commits                             | Orphan file detection                     |\n\n### The Self-Reflexive Framework Agent\n\nThis framework treats itself as a hypothesis. Agents are **co-developers**, not just executors:\n\n```\nWhen you encounter friction—something that doesn't fit, a question\nthe schema can't answer, a pattern that needs a name—do this:\n\n1. Log it.\n2. Propose an amendment if you see one.\n3. Don't force it. If something doesn't fit, that's data.\n```\n\nThe framework **evolves through use**. When agents hit friction:\n\n- Violations are logged as bd issues (operational observations)\n- Patterns that emerge get named and proposed as new heuristics\n- Heuristics that prove themselves get promoted or consolidated\n- Rules that don't work get revised\n\nThis creates a feedback loop: the framework improves based on real usage, not theoretical design.\n\n### How the Framework Improves Itself\n\nThe self-improvement cycle has three phases:\n\n**1. Observe** - Every session generates observables:\n\n- **Framework Reflections**: Agent self-reports at session end (outcome, friction, proposals)\n- **Token metrics**: Usage by model, agent, and tool (cache efficiency, throughput)\n- **Skill compliance**: Which suggested skills were actually invoked\n- **Learning observations**: Mistakes and corrections with root cause categories\n\nSee [[specs/framework-observability]] for details\n\n**2. Analyze** - Humans identify patterns:\n\n- Recurring friction points → systemic problems\n- Low skill compliance → discovery or routing issues\n- Token inefficiency → optimize hydration or caching\n\n**3. Intervene** - Apply graduated fixes via `/learn`:\n\n- Start at lowest effective level (corollary, then heuristic, then hook)\n- Document root cause and intervention in a task\n- Verify improvement in subsequent sessions\n\nSee [[specs/feedback-loops]] for the complete improvement workflow.\n\n### Memory Architecture\n\nThe framework distinguishes between two types of knowledge:\n\n| Type         | Storage            | Example                                               |\n| ------------ | ------------------ | ----------------------------------------------------- |\n| **Episodic** | task+git issues    | \"I tried X and it failed\" (time-stamped observations) |\n| **Semantic** | $ACA_DATA markdown | \"X doesn't work because Y\" (timeless truths)          |\n\n$ACA_DATA is a **current state machine**—always up to date, always perfect. The memory server (accessed via `mcp__memory__retrieve_memory`) is a semantic search index derived from this markdown.\n\n## Architecture\n\n### Core Components\n\n| Category    | Components                                                                                                                                                                 |\n| ----------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |\n| Skills (24) | remember, analyst, audit, session-insights, garden, hypervisor, task-viz, etc.                                                                                             |\n| Agents (5)  | prompt-hydrator, critic, custodiet, qa, effectual-planner                                                                                                                  |\n| Hooks (19)  | router.py (Universal Hook Router), unified_logger.py, user_prompt_submit.py, session_env_setup.py, gate_registry.py (hydration, task_required, custodiet, stop_gate, etc.) |\n| Governance  | 30+ axioms and heuristics with mechanical and instructional enforcement                                                                                                    |\n\n### Key Agents\n\n| Agent               | Model | Role                                                                    |\n| ------------------- | ----- | ----------------------------------------------------------------------- |\n| **framework**       | opus  | Primary entry point for framework changes. Handles full task lifecycle. |\n| **prompt-hydrator** | haiku | Enriches prompts with context, suggests workflows, applies guardrails   |\n| **critic**          | opus  | Reviews plans for errors and hidden assumptions before execution        |\n| **custodiet**       | haiku | Periodic compliance audits (~14% of tool calls). Detects drift.         |\n| **qa**              | opus  | Independent verification that acceptance criteria are met               |\n\nThe **framework agent** embodies the self-reflexive principle—it both executes framework tasks AND proposes improvements to the framework itself.\n\n## Commands\n\n| Command          | Purpose                                                |\n| ---------------- | ------------------------------------------------------ |\n| /aops            | Show framework capabilities and help                   |\n| /diag            | Quick diagnostic of what's loaded in session           |\n| /pull            | Pull a task from the queue and claim it                |\n| /q               | Quick-queue a task for later                           |\n| /learn           | Make minimal framework tweaks with experiment tracking |\n| /work            | Collaborative task execution                           |\n| /log             | Log framework observations for continuous improvement  |\n| /dump            | Emergency work handover and session exit               |\n| /bump            | Increment framework version                            |\n| /acceptance_test | Run automated acceptance tests for a feature           |\n\n## Key Skills\n\n| Skill             | Purpose                                               |\n| ----------------- | ----------------------------------------------------- |\n| /analyst          | Academic research data analysis (dbt, Streamlit)      |\n| /audit            | Comprehensive framework governance audit              |\n| /daily            | Daily note lifecycle, morning briefing, and sync      |\n| /remember         | Persist knowledge to markdown and memory server       |\n| /session-insights | Generate structured insights from session transcripts |\n| /task-viz         | Generate network graph of tasks and notes             |\n| /convert-to-md    | Batch convert documents to markdown                   |\n| /pdf              | Generate professionally formatted academic PDFs       |\n| /hypervisor       | Parallel batch task processing                        |\n| /excalidraw       | Create hand-drawn style diagrams and mind maps        |\n\n## Project Configuration\n\nProjects can customize the hydrator's behavior by adding files to a `.agent/` directory in the project root.\n\n### `.agent/context-map.json`\n\nMaps project documentation to topics for just-in-time context injection. The hydrator presents this index to agents, who decide which files to read based on relevance.\n\n```json\n{\n  \"docs\": [\n    {\n      \"topic\": \"authentication\",\n      \"path\": \"docs/auth-flow.md\",\n      \"description\": \"OAuth2 implementation with JWT tokens\",\n      \"keywords\": [\"oauth\", \"jwt\", \"login\", \"session\", \"token\"]\n    },\n    {\n      \"topic\": \"database_schema\",\n      \"path\": \"docs/schema.md\",\n      \"description\": \"PostgreSQL table definitions and migrations\",\n      \"keywords\": [\"postgres\", \"tables\", \"migrations\", \"sql\"]\n    },\n    {\n      \"topic\": \"api_endpoints\",\n      \"path\": \"docs/api.md\",\n      \"description\": \"REST API reference\",\n      \"keywords\": [\"api\", \"rest\", \"endpoints\", \"http\"]\n    }\n  ]\n}\n```\n\n**Fields**:\n\n- `topic`: Short identifier for the documentation area\n- `path`: Relative path from project root to the documentation file\n- `description`: Brief explanation of what the file covers\n- `keywords`: Terms that trigger relevance (agent makes semantic decision, not keyword matching)\n\n### `.agent/rules/`\n\nProject-specific rules that apply to ALL work in the project. Files in this directory are pre-loaded into the hydrator context and presented as binding constraints.\n\n```\nproject/\n├── .agent/\n│   ├── rules/\n│   │   ├── testing.md      # \"All PRs require 80% coverage\"\n│   │   ├── code-style.md   # \"Use ruff, not black\"\n│   │   └── architecture.md # \"No direct DB access from handlers\"\n```\n\nRules are loaded automatically—agents don't need to search for them.\n\n### `.agent/workflows/`\n\nProject-specific workflows that supplement the global workflow index. Use for project-specific processes (e.g., release procedures, review checklists).\n"
      },
      "plugins": [
        {
          "name": "aops-core",
          "description": "Core academicOps framework - skills, agents, hooks, and tools for research workflow automation",
          "version": "0.1.56.dev200",
          "author": {
            "name": "Nicolas Suzor"
          },
          "source": "./aops-claude",
          "category": "productivity",
          "categories": [
            "productivity"
          ],
          "install_commands": [
            "/plugin marketplace add nicsuzor/aops-dist",
            "/plugin install aops-core@aops"
          ]
        }
      ]
    }
  ]
}