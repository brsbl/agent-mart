{
  "author": {
    "id": "skaji18",
    "display_name": "kaji",
    "avatar_url": "https://avatars.githubusercontent.com/u/18644766?u=a6813ef32eacfd679876bb1284bbd39795d9b67b&v=4"
  },
  "marketplaces": [
    {
      "name": "skaji18-plugins",
      "version": null,
      "description": "Claude Code plugins collection by skaji18",
      "repo_full_name": "skaji18/claude-plugins",
      "repo_url": "https://github.com/skaji18/claude-plugins",
      "repo_description": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-02-15T13:59:36Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"$schema\": \"https://anthropic.com/claude-code/marketplace.schema.json\",\n  \"name\": \"skaji18-plugins\",\n  \"description\": \"Claude Code plugins collection by skaji18\",\n  \"owner\": {\n    \"name\": \"skaji18\",\n    \"email\": \"skaji18@users.noreply.github.com\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"impact-analysis\",\n      \"description\": \"コードの影響範囲を調査するスキル（PHP / JS / TS 対応）\",\n      \"version\": \"1.1.0\",\n      \"author\": {\n        \"name\": \"skaji18\",\n        \"email\": \"skaji18@users.noreply.github.com\"\n      },\n      \"source\": \"./plugins/impact-analysis\",\n      \"category\": \"development\"\n    },\n    {\n      \"name\": \"task-tracker\",\n      \"description\": \"業務タスクを Obsidian 互換 Markdown で管理するプラグイン\",\n      \"version\": \"1.0.0\",\n      \"author\": {\n        \"name\": \"skaji18\",\n        \"email\": \"skaji18@users.noreply.github.com\"\n      },\n      \"source\": \"./plugins/task-tracker\",\n      \"category\": \"productivity\"\n    },\n    {\n      \"name\": \"project-audit\",\n      \"description\": \"プロジェクトの構成・品質・DXを包括的に調査し、改善提案を優先度付きでレポートするスキル。外部ツール依存なし。\",\n      \"version\": \"1.0.0\",\n      \"author\": {\n        \"name\": \"skaji18\",\n        \"email\": \"skaji18@users.noreply.github.com\"\n      },\n      \"source\": \"./plugins/project-audit\",\n      \"category\": \"development\"\n    },\n    {\n      \"name\": \"permission-guard\",\n      \"description\": \"8-phase Bash command validation hook. Auto-approves safe commands, blocks shell injection and dangerous patterns.\",\n      \"version\": \"1.0.0\",\n      \"author\": {\n        \"name\": \"skaji18\",\n        \"email\": \"skaji18@users.noreply.github.com\"\n      },\n      \"source\": \"./plugins/permission-guard\",\n      \"category\": \"security\"\n    }\n  ]\n}\n",
        "README.md": "# claude-plugins\n\n> Japanese version / 日本語版 → [README.ja.md](README.ja.md)\n\nClaude Code plugins collection by skaji18.\n\n## Plugins\n\n| Plugin | Description | Version |\n|--------|-------------|---------|\n| [impact-analysis](plugins/impact-analysis/) | Code impact analysis skill (PHP / JS / TS) | 1.1.0 |\n| [task-tracker](plugins/task-tracker/) | Obsidian-compatible task management plugin | 1.0.0 |\n| [permission-guard](plugins/permission-guard/) | 8-phase Bash command validation hook | 1.0.0 |\n\n## Prerequisites\n\n- [Claude Code](https://claude.com/claude-code) CLI\n\n### impact-analysis\n\n- [Go](https://go.dev/dl/) 1.21+ (for lsprefs, lsprefs-walk)\n- [Node.js](https://nodejs.org/) 18+ (for intelephense, typescript-language-server)\n- [ripgrep](https://github.com/BurntSushi/ripgrep) (`rg`)\n\n### task-tracker\n\n- [Obsidian](https://obsidian.md/) vault (local directory)\n\n### permission-guard\n\n- [Python 3](https://www.python.org/) (required)\n- [PyYAML](https://pypi.org/project/PyYAML/) (optional, for config customization)\n\n## Installation\n\n### impact-analysis\n\n```bash\n# Install dependencies\nbash plugins/impact-analysis/scripts/setup.sh\n\n# Verify installation\nbash plugins/impact-analysis/scripts/validate.sh\n```\n\n### task-tracker\n\n```bash\n# Create config and directories\nbash plugins/task-tracker/scripts/setup.sh\n\n# Verify setup\nbash plugins/task-tracker/scripts/validate.sh\n```\n\n### permission-guard\n\n```bash\n# Verify dependencies\nbash plugins/permission-guard/scripts/setup.sh\n\n# Run tests\nbash plugins/permission-guard/scripts/test-permission.sh\n```\n\nAlternatively, use the `/init` command in Claude Code for interactive setup.\n\n## Plugin: impact-analysis\n\nMechanically traces the impact scope of code changes using LSP-based BFS traversal. Outputs `evidence.tsv` (machine-readable trace log) and `summary.md` (human-readable report).\n\n### Supported Languages\n\n| Language | LSP Server Command | File Extensions |\n|----------|-------------------|-----------------|\n| PHP | `intelephense --stdio` | `.php` |\n| JavaScript | `typescript-language-server --stdio` | `.js`, `.jsx` |\n| TypeScript | `typescript-language-server --stdio` | `.ts`, `.tsx` |\n\nThe LSP server is auto-detected from the entry point file extension.\n\n### Features\n\n- BFS traversal via `lsprefs` / `lsprefs-walk` for automated impact tracing\n- Three analysis patterns:\n  - **Pattern A (Code origin)**: Start from a specific function/method/class name\n  - **Pattern B (Spec origin)**: Start from a natural language description of a feature change\n  - **Pattern C (Cross-language)**: Trace impact across PHP ↔ JS/TS boundaries via API endpoints\n- Single origin, multiple origins, and interface method resolution\n- Outputs `evidence.tsv` + `summary.md`\n\n### Usage\n\n```bash\n/impact-analysis Investigate the impact of deleting the getSignature method\n/impact-analysis What is the impact of changing the Fixer execution order logic?\n/impact-analysis The /api/users endpoint response format is changing. Trace impact on both PHP and frontend TS.\n```\n\nSee [plugins/impact-analysis/README.md](plugins/impact-analysis/) for full documentation.\n\n## Plugin: task-tracker\n\nObsidian-compatible task management plugin. Captures work tasks from chat messages, tracks them as Markdown files, and manages completion with daily logs.\n\n### Features\n\n- **AI-powered capture**: Paste raw chat messages and the AI extracts metadata (requester, type, tags, deadline, URLs)\n- **Obsidian-native**: Tasks are plain Markdown files with YAML front matter, stored in your vault\n- **Folder-based status**: `inbox/` = active, `done/` = completed\n- **Daily log**: Automatic daily summary of completed tasks\n\n### Commands\n\n| Command | Purpose |\n|---------|---------|\n| `/init` | Interactive setup |\n| `/add` | Capture a new task |\n| `/done` | Mark a task as complete |\n| `/list` | Display task list |\n| `/delete` | Remove a task |\n\nSee [plugins/task-tracker/README.md](plugins/task-tracker/) for full documentation.\n\n## Plugin: permission-guard\n\n8-phase Bash command validation hook that intercepts `PermissionRequest` events. Auto-approves safe commands and blocks dangerous patterns before they reach the user dialog.\n\n### Features\n\n- **8-phase validation pipeline**: Null byte check, sanitization, shell syntax rejection, command parsing, flag normalization, path resolution, scripts/hooks auto-approval, general command rules\n- **4-layer config merge**: Hardcoded defaults → Plugin config → Project config → Local overlay\n- **Security floors**: `sudo`, `su`, `rm`, `rmdir` always require dialog (cannot be overridden)\n- **Frozen keys**: `interpreters` config cannot be modified by project or local configs\n- **Subcommand rules**: Block destructive subcommands like `git push`, `git reset --hard`, `gh pr merge`\n- **Dual-mode**: Works as a plugin (`$CLAUDE_PLUGIN_ROOT`) or inline (`.claude/hooks/`)\n\n### Commands\n\n| Command | Purpose |\n|---------|---------|\n| `/permission-guard:permission-test` | Run validation test suite |\n\nSee [plugins/permission-guard/README.md](plugins/permission-guard/) for full documentation.\n\n## Contributing\n\nIssues and pull requests are welcome at [github.com/skaji18/claude-plugins](https://github.com/skaji18/claude-plugins).\n\n## License\n\n[MIT](LICENSE)\n",
        "plugins/impact-analysis/README.md": "> Japanese version / 日本語版 → [README.ja.md](README.ja.md)\n\n# impact-analysis\n\nLSP-based code impact analysis plugin for [Claude Code](https://claude.com/claude-code). Mechanically traces the impact scope of code changes using BFS traversal of LSP reference chains.\n\n**Supported languages**: PHP, JavaScript, TypeScript\n\n## Overview\n\nWhen modifying a function, method, or class, this plugin answers the question: *\"What else is affected by this change?\"*\n\nIt uses `lsprefs` (LSP reference server) and `lsprefs-walk` (BFS traversal walker) to recursively follow reference chains from a starting point, producing:\n\n- **evidence.tsv** — Machine-readable trace log of all discovered impact paths\n- **summary.md** — Human-readable report highlighting critical impacts\n\n## Analysis Patterns\n\n### Pattern A: Code Origin\n\nStart from a specific function/method/class name and trace all references.\n\n```\n/impact-analysis Investigate the impact of deleting the getSignature method\n```\n\n- Supports **single origin** (one starting symbol) and **multiple origins** (several symbols, merged into one evidence file)\n- Interface methods can be traced with `--resolve-implementations` to include concrete implementations\n\n### Pattern B: Spec Origin (STEP 0)\n\nStart from a natural language description of a feature change. The AI first maps the spec to code locations, then runs the mechanical trace.\n\n```\n/impact-analysis What is the impact of changing the Fixer execution order logic?\n```\n\n1. AI analyzes project architecture and searches for relevant code\n2. Candidate entry points are identified and presented with a confidence level\n3. After confirmation, the standard BFS trace (Pattern A) is executed\n\n### Pattern C: Cross-Language\n\nTrace impact across language boundaries (e.g., PHP backend → TypeScript frontend).\n\n```\n/impact-analysis The /api/users endpoint response format is changing. Trace impact on both PHP and frontend TS.\n```\n\n1. Run impact trace on the first language (e.g., PHP)\n2. AI identifies bridge points (API endpoints, response schemas, shared constants)\n3. Search for corresponding code in the second language (e.g., TypeScript)\n4. Run impact trace on the second language\n5. Merge results with `lsprefs-walk merge`\n\n## Output Files\n\n### evidence.tsv\n\nA tab-separated file containing every step of the BFS traversal. Each row represents a discovery event.\n\n| Column | Description |\n|--------|-------------|\n| `step` | Sequential number |\n| `depth` | BFS depth (0 = origin) |\n| `kind` | `NODE` (function registered), `REF` (reference found), `DEF` (enclosing caller identified) |\n| `node_id` | Node identifier (N0, N1, ...) |\n| `parent_node_id` | Parent node (`-` for origin) |\n| `ref_id` | Reference ID within a node (r1, r2, ...) |\n| `from_ref_id` | Which REF produced this DEF |\n| `file` | File path (relative to repo root) |\n| `line` | Line number (1-based) |\n| `col` | Column number (1-based) |\n| `snippet` | One-line code snippet |\n| `status` | `ok` / `merged` / `excluded` / `notfound` / `error` / `truncated` |\n| `note` | Additional info (enclosing callable name, class, etc.) |\n\nFor multi-origin merges, an `origin_id` column (O1, O2, ...) is added after `step`.\n\n### summary.md\n\nA structured Markdown report including:\n\n- Investigation overview (target, pattern, parameters)\n- Impact scope summary (file count, node count, max depth)\n- Critical impact highlights\n- Impact breakdown by category/directory\n- Risks and caveats\n\n## Supported Languages\n\n| Language | LSP Server | File Extensions |\n|----------|-----------|-----------------|\n| PHP | `intelephense --stdio` | `.php` |\n| JavaScript | `typescript-language-server --stdio` | `.js`, `.jsx`, `.mjs`, `.cjs` |\n| TypeScript | `typescript-language-server --stdio` | `.ts`, `.tsx` |\n\nThe LSP server is auto-detected from the entry point file extension. Use the `--server` flag in `lsprefs start` and `lsprefs-walk run` to override.\n\n## Configuration\n\nKey parameters (configurable via config.json or CLI flags):\n\n| Parameter | Default | Description |\n|-----------|---------|-------------|\n| `root` | — | Target repository path (required) |\n| `max_depth` | `4` | Maximum BFS traversal depth |\n| `max_nodes` | `2000` | Maximum number of nodes to discover |\n| `max_refs_per_node` | `300` | Maximum references per node |\n| `exclude` | `vendor/**`, `.git/**`, `.cache/**`, `node_modules/**`, `tests/**` | Glob patterns to exclude |\n| `server` | (auto-detected) | LSP server command |\n| `resolve_implementations` | `false` | Resolve interface method implementations via LSP |\n\n## Usage\n\nInvoke the `/impact-analysis` skill in Claude Code:\n\n```bash\n# Pattern A: Code origin\n/impact-analysis Investigate the impact of deleting the getSignature method\n\n# Pattern B: Spec origin\n/impact-analysis What is the impact of changing the Fixer execution order logic?\n\n# Pattern C: Cross-language\n/impact-analysis The /api/users endpoint response format is changing. Trace impact on both PHP and frontend TS.\n```\n\n### Execution Flow\n\n```\nPattern A: STEP 1 → 2 → 3 → 4 → (4.5) → 5 → 6\nPattern B: STEP 0 → 1 → 2 → 3 → 4 → (4.5) → 5 → 6\n```\n\n| Step | Description |\n|------|-------------|\n| STEP 0 | Spec → code mapping (Pattern B only) |\n| STEP 1 | Parse request, identify entry point, detect language |\n| STEP 2 | Start lsprefs daemon with appropriate LSP server |\n| STEP 3 | Generate config.json for lsprefs-walk |\n| STEP 4 | Run BFS traversal via lsprefs-walk |\n| STEP 4.5 | Merge multiple evidence files (multi-origin only) |\n| STEP 5 | Analyze evidence.tsv, generate summary.md |\n| STEP 6 | Report results to user |\n\n## Dependencies\n\n| Tool | Install Method | Purpose |\n|------|---------------|---------|\n| `lsprefs` | `go install github.com/skaji18/devtools/lsprefs@latest` | LSP reference/definition daemon |\n| `lsprefs-walk` | `go install github.com/skaji18/devtools/lsprefs-walk@latest` | BFS impact traversal |\n| `intelephense` | `npm install -g intelephense` | PHP LSP server |\n| `typescript-language-server` | `npm install -g typescript-language-server typescript` | JS/TS LSP server |\n| `rg` (ripgrep) | [github.com/BurntSushi/ripgrep](https://github.com/BurntSushi/ripgrep) | Code search |\n\nRun the setup script to install all dependencies:\n\n```bash\nbash scripts/setup.sh\n```\n\nVerify installation:\n\n```bash\nbash scripts/validate.sh\n```\n\n## Plugin Structure\n\n```\nplugins/impact-analysis/\n├── .claude-plugin/\n│   └── plugin.json          # Plugin metadata (name, version, author)\n├── commands/\n│   └── impact-analysis.md   # Skill prompt (all patterns, STEP 0-6)\n├── hooks/\n│   └── hooks.json            # SessionStart hook for dependency validation\n├── scripts/\n│   ├── setup.sh              # Install all dependencies\n│   └── validate.sh           # Verify all dependencies exist\n├── README.md                 # This file (English)\n└── README.ja.md              # Japanese version\n```\n\n## License\n\n[MIT](../../LICENSE)\n",
        "plugins/task-tracker/README.md": "> Japanese version / 日本語版 → [README.ja.md](README.ja.md)\n\n# task-tracker\n\nObsidian-compatible task management plugin for [Claude Code](https://claude.com/claude-code). Captures, tracks, and completes work tasks using Markdown files with YAML front matter.\n\n## Overview\n\nWhen you receive a task request via chat, email, or meeting, this plugin lets you quickly capture it as a structured Markdown file and track it through completion. All data is stored as plain Markdown in an Obsidian vault, so you can browse, search, and link tasks naturally in Obsidian.\n\nKey features:\n\n- **AI-powered capture**: Paste raw chat messages and the AI extracts metadata (requester, type, tags, deadline, URLs)\n- **Obsidian-native**: Tasks are plain Markdown files with YAML front matter, stored in your vault\n- **Folder-based status**: `inbox/` = active, `done/` = completed (no status field needed)\n- **Daily log**: Automatic daily summary of completed tasks in `daily/YYYY-MM-DD.md`\n\n## Commands\n\n| Command | Purpose |\n|---------|---------|\n| `/init` | Interactive setup — creates `~/.task-tracker.json` and directory structure |\n| `/add` | Capture a new task from chat messages, URLs, or free text |\n| `/done` | Mark a task as complete — moves to `done/`, appends result, updates daily log |\n| `/list` | Display task list with filtering options |\n| `/delete` | Remove a mistakenly registered task |\n\n## Usage\n\n### /init — Initial Setup\n\n```\n/init\n```\n\nInteractively creates the configuration file (`~/.task-tracker.json`) and sets up the directory structure in your Obsidian vault.\n\n### /add — Capture a Task\n\n```\n/add\nhttps://chat.google.com/room/xxx/thread/yyy\n\n```\nTanaka here. Please review this PR.\nhttps://github.com/org/repo/pull/123\nWould appreciate it by end of this week.\n```\n```\n\nThe AI extracts:\n- **Requester**: Tanaka\n- **Type**: review/pr\n- **Tags**: `#proj/repo` `#type/review`\n- **Deadline**: End of week\n- **URLs**: GitHub PR link\n\nSupports three input patterns: chat URL + quoted message, quoted message only, or free text.\n\n### /done — Complete a Task\n\n```\n/done\nLGTM, just two minor comments.\n- L42: missing null check\n- L88: typo in variable name\n```\n\nPaste the reply you sent. The AI identifies the matching task, moves it to `done/`, and updates the daily log.\n\n### /list — View Tasks\n\n```\n/list            # Show inbox (active tasks)\n/list --all      # Show both inbox and done\n/list --done     # Show completed tasks only\n```\n\nDisplays a formatted table with ID, title, creation date, project, and tags. Sorted by newest first.\n\n### /delete — Remove a Task\n\n```\n/delete            # Show list and choose\n/delete a3f2b1c8   # Delete by ID\n/delete a3f2       # Partial ID match\n```\n\nPhysically removes the task file. For completed tasks, also adds a strikethrough to the daily log entry. Confirmation is required before deletion.\n\n## Configuration\n\n### ~/.task-tracker.json\n\nCreated by `/init`. This is the only configuration file.\n\n```json\n{\n  \"vault_path\": \"/path/to/obsidian-vault\",\n  \"subfolder\": \"task-tracker\",\n  \"tag_rules\": {\n    \"github.com\": \"#type/review\",\n    \"docs.google.com\": \"#type/doc\"\n  }\n}\n```\n\n| Field | Description |\n|-------|-------------|\n| `vault_path` | Absolute path to your Obsidian vault |\n| `subfolder` | Subdirectory within the vault for task-tracker data |\n| `tag_rules` | Custom URL-to-tag mapping rules (domain → tag) |\n\n### Data Directory Structure\n\nCreated inside `{vault_path}/{subfolder}/`:\n\n```\n{vault_path}/{subfolder}/\n├── inbox/              # Active tasks (one .md file per task)\n├── done/               # Completed tasks (moved from inbox/)\n├── daily/              # Daily completion logs (YYYY-MM-DD.md)\n└── attachments/        # Screenshots and attachments\n```\n\n### Task File Format\n\nEach task is a Markdown file with YAML front matter:\n\n```markdown\n---\nid: \"a3f2b1c8\"\nfrom: \"Tanaka\"\ntype: review/pr\ntags:\n  - \"#proj/backend\"\n  - \"#type/review\"\nurls:\n  - https://github.com/org/repo/pull/123\nsource: \"https://chat.google.com/room/xxx/thread/yyy\"\ndeadline: \"end of week\"\ncreated: \"2026-01-31T10:30:00\"\n---\n\n# PR: auth-refactor review\n\n## Request\n> Tanaka here. Please review this PR...\n\n## Next\n- [ ] Check the PR diff\n- [ ] Confirm deadline\n```\n\n- **ID**: UUID v4, first 8 characters (e.g., `a3f2b1c8`)\n- **Filename**: `{id}-{slug}.md` (e.g., `a3f2b1c8-pr-auth-refactor.md`)\n- **Status**: Determined by folder location (`inbox/` or `done/`), not by a field\n\n## Plugin Structure\n\n```\nplugins/task-tracker/\n├── .claude-plugin/\n│   └── plugin.json          # Plugin metadata (name, version, author)\n├── commands/\n│   ├── add.md               # /add command\n│   ├── delete.md            # /delete command\n│   ├── done.md              # /done command\n│   ├── init.md              # /init command\n│   └── list.md              # /list command\n├── hooks/\n│   └── hooks.json            # SessionStart hook for config validation\n├── scripts/\n│   ├── setup.sh              # Directory setup\n│   └── validate.sh           # Config and directory validation\n├── README.md                 # This file (English)\n└── README.ja.md              # Japanese version\n```\n\n## License\n\n[MIT](../../LICENSE)\n",
        "plugins/project-audit/README.md": "# project-audit\n\nA comprehensive project audit skill for Claude Code. Analyzes 6 key areas of your project — structure, quality, DX, security, documentation, and dependencies — and delivers prioritized findings with actionable improvement proposals.\n\n## Overview\n\n**project-audit** performs a systematic health check of any software project by examining:\n\n| Area | What it checks |\n|------|---------------|\n| **Structure** | Directory layout, naming conventions, architecture patterns |\n| **Quality** | Linter/formatter config, tests, error handling, large files, code smells |\n| **DX** | README quality, setup scripts, CI/CD, dev environment config |\n| **Security** | Hardcoded secrets, .env exposure, dependency vulnerabilities |\n| **Documentation** | README completeness, CHANGELOG, API docs, LICENSE |\n| **Dependencies** | Lock files, outdated packages, unused dependencies, license compatibility |\n\nNo external tool dependencies — runs entirely with Claude Code's built-in tools (Read, Write, Glob, Grep, Bash).\n\n## Installation\n\nAdd this plugin to your Claude Code configuration:\n\n```bash\n# In your project or global settings\nclaude plugin add github:skaji18/claude-plugins/plugins/project-audit\n```\n\nOr add it to `.claude/settings.json`:\n\n```json\n{\n  \"plugins\": [\n    \"github:skaji18/claude-plugins/plugins/project-audit\"\n  ]\n}\n```\n\n## Usage\n\n```\n/project-audit [project-path] [options]\n```\n\n### Parameters\n\n| Parameter | Default | Options |\n|-----------|---------|---------|\n| `PROJECT_PATH` | Current directory | Any valid path |\n| `--depth` | `standard` | `quick` / `standard` / `deep` |\n| `--focus` | `all` | `structure` / `quality` / `dx` / `security` / `docs` / `deps` / `all` |\n| `--out` | `{PROJECT_PATH}/.audit` | Any valid path |\n| `--lang` | `ja` | `ja` / `en` |\n\n### Depth Levels\n\n| Depth | Scope | Files read | Competitive analysis |\n|-------|-------|-----------|---------------------|\n| `quick` | Directory structure + config files + README | ~20 key files | None |\n| `standard` | quick + source code sampling + dependencies | ~50 key files | Brief comparison |\n| `deep` | standard + exhaustive file analysis + detailed review | No limit | Detailed comparison |\n\n## Output\n\nTwo files are generated in the output directory:\n\n### audit-report.yaml\n\nStructured YAML data for machine consumption and integration with other tools:\n\n```yaml\nmeta:\n  tool: project-audit\n  version: \"1.0.0\"\n  project_path: \"/path/to/project\"\n  depth: standard\n  timestamp: \"2026-02-01T10:00:00\"\n\nproject_structure:\n  overview: \"...\"\n  languages: [...]\n  frameworks: [...]\n\nissues:\n  - id: ISS-001\n    severity: high\n    category: security\n    title: \"Hardcoded API key detected\"\n\nimprovement_proposals:\n  high: [...]\n  medium: [...]\n  low: [...]\n\noverall_assessment:\n  health_score: \"B\"\n  scores:\n    structure: \"B+\"\n    quality: \"A-\"\n    ...\n```\n\n### audit-summary.md\n\nHuman-readable Markdown report suitable for sharing with team members, clients, or management. Includes:\n\n- Executive summary (non-technical language)\n- Overall health score (S/A/B/C/D scale)\n- Per-area score breakdown\n- Issues sorted by severity\n- Prioritized improvement proposals with effort estimates\n- Recommended action plan (immediate / short-term / mid-term)\n\n## Scoring\n\nEach area is scored on an S-D scale:\n\n| Score | Meaning |\n|-------|---------|\n| **S** | Exemplary. Minimal room for improvement |\n| **A** | Good. Only minor issues |\n| **B** | Standard. Some improvements recommended |\n| **C** | Needs improvement. Multiple significant issues |\n| **D** | Critical. Immediate action required |\n\nModifiers `+` / `-` provide finer granularity (e.g., `B+`, `A-`).\n\nOverall score uses weighted average: security (x1.5), quality (x1.2), others (x1.0).\n\n## Examples\n\n### Quick audit of current directory\n\n```\n/project-audit --depth quick\n```\n\nPerforms a fast scan of directory structure and config files. Ideal for a first look at an unfamiliar project.\n\n### Standard audit with security focus\n\n```\n/project-audit /path/to/project --focus security,quality\n```\n\nRuns a standard-depth audit focusing on security and code quality areas only.\n\n### Deep audit for refactoring planning\n\n```\n/project-audit /path/to/project --depth deep --lang en\n```\n\nExhaustive analysis of the entire project with competitive comparison. Outputs in English. Best for creating a comprehensive refactoring roadmap.\n\n### Natural language input\n\n```\n/project-audit I want to check if this project is ready for production\n```\n\nThe AI interprets the intent and runs an appropriate audit (likely standard depth with focus on security and quality).\n\n## Comparison with impact-analysis\n\n| Aspect | impact-analysis | project-audit |\n|--------|----------------|---------------|\n| Purpose | Trace impact of code changes | Diagnose overall project health |\n| Method | LSP + BFS mechanical tracing | AI-powered comprehensive analysis |\n| External tools | lsprefs, LSP servers | None |\n| Output | evidence.tsv + summary.md | audit-report.yaml + audit-summary.md |\n| Granularity | Function/method level | Project level |\n\n## License\n\nSee the repository root [LICENSE](../../LICENSE) for details.\n",
        "plugins/permission-guard/README.md": "> Japanese version / 日本語版 → [README.ja.md](README.ja.md)\n\n# permission-guard\n\n8-phase Bash command validation hook for [Claude Code](https://claude.com/claude-code). Auto-approves safe commands in `scripts/` and `.claude/hooks/`, blocks shell injection, path traversal, and dangerous patterns.\n\n## Overview\n\nWhen Claude Code requests permission to run a Bash command, this plugin intercepts the request and runs it through an 8-phase validation pipeline. Safe commands (project scripts, read-only file operations within the project) are auto-approved. Dangerous patterns (shell injection, path traversal, destructive operations) trigger the standard permission dialog.\n\nThe goal is to reduce permission fatigue for routine operations while maintaining strong security boundaries.\n\n## Validation Phases\n\n| Phase | Name | Description |\n|-------|------|-------------|\n| S0 | Null byte check | Reject null bytes and empty commands |\n| 1 | Sanitize | Control character rejection, tool_name validation |\n| 1.5 | Strip safe suffixes | Remove safe trailing patterns (`2>&1`, `\\|\\| true`, etc.) |\n| 2 | Shell syntax | Reject dangerous operators: `;`, `\\|`, `&`, `` ` ``, `$()`, redirections, globs |\n| 3 | Parse command | Split into words, identify interpreter vs. direct execution |\n| 4 | Normalize flags | Classify interpreter flags as safe/dangerous |\n| 5 | Normalize path | Resolve to absolute path, check project containment |\n| 6 | Scripts/hooks check | Auto-approve if path is in `scripts/` or `.claude/hooks/` |\n| 7 | General command | ALWAYS_ASK list, subcommand rules, path containment for all arguments |\n\n## Installation\n\n```bash\n/plugin install permission-guard@skaji18-plugins\n```\n\nOr verify dependencies manually:\n\n```bash\nbash scripts/setup.sh\n```\n\n## Configuration\n\n### 4-Layer Config Merge\n\nThe plugin uses a 4-layer configuration merge strategy:\n\n| Layer | Source | Priority |\n|-------|--------|----------|\n| 0 | Hardcoded defaults (in script) | Lowest |\n| 1 | Plugin config (`config/permission-config.yaml`) | |\n| 2 | Project config (`.claude/permission-config.yaml`) | |\n| 3 | Local overlay (`local/hooks/permission-config.yaml`) | Highest |\n\n### Customizable Keys\n\n| Key | Type | Merge Strategy | Description |\n|-----|------|----------------|-------------|\n| `always_ask` | array | Union (append-only) | Commands that always trigger the permission dialog |\n| `subcommand_ask` | array | Union (append-only) | Subcommand patterns that trigger dialog (e.g., `git:push`) |\n| `allowed_dirs_extra` | array | Union (append-only) | Additional directories outside the project to allow access |\n\n### Security Floors\n\nThese items can never be removed from `always_ask`, regardless of config overrides:\n\n- `sudo`, `su`, `rm`, `rmdir`\n\nThese subcommand rules can never be removed from `subcommand_ask`:\n\n- `git:push`, `git:reset:--hard`, `gh:pr:merge`\n\n### Frozen Keys\n\nThe `interpreters` configuration key is frozen and cannot be overridden by project or local configs. This prevents malicious projects from whitelisting dangerous interpreter flags.\n\n## Testing\n\nRun the built-in test suite:\n\n```bash\n/permission-guard:permission-test\n```\n\nOr run directly:\n\n```bash\nbash scripts/test-permission.sh\n```\n\n## Dependencies\n\n| Tool | Required | Purpose |\n|------|----------|---------|\n| Python 3 | Yes | Hook script runtime |\n| PyYAML | Optional | Config file loading (falls back to hardcoded defaults) |\n\n## Plugin Structure\n\n```\nplugins/permission-guard/\n├── .claude-plugin/\n│   └── plugin.json          # Plugin metadata (name, version, author)\n├── hooks/\n│   └── hooks.json           # PermissionRequest hook definition\n├── scripts/\n│   ├── permission-fallback  # Main hook script (8-phase validator)\n│   ├── test-permission.sh   # Quick validation test suite\n│   └── setup.sh             # Dependency verification\n├── config/\n│   └── permission-config.yaml  # Default configuration\n├── commands/\n│   └── permission-test.md   # /permission-guard:permission-test command\n├── README.md                # This file (English)\n├── README.ja.md             # Japanese version\n└── CHANGELOG.md             # Version history\n```\n\n## License\n\n[MIT](../../LICENSE)\n"
      },
      "plugins": [
        {
          "name": "impact-analysis",
          "description": "コードの影響範囲を調査するスキル（PHP / JS / TS 対応）",
          "version": "1.1.0",
          "author": {
            "name": "skaji18",
            "email": "skaji18@users.noreply.github.com"
          },
          "source": "./plugins/impact-analysis",
          "category": "development",
          "categories": [
            "development"
          ],
          "install_commands": [
            "/plugin marketplace add skaji18/claude-plugins",
            "/plugin install impact-analysis@skaji18-plugins"
          ]
        },
        {
          "name": "task-tracker",
          "description": "業務タスクを Obsidian 互換 Markdown で管理するプラグイン",
          "version": "1.0.0",
          "author": {
            "name": "skaji18",
            "email": "skaji18@users.noreply.github.com"
          },
          "source": "./plugins/task-tracker",
          "category": "productivity",
          "categories": [
            "productivity"
          ],
          "install_commands": [
            "/plugin marketplace add skaji18/claude-plugins",
            "/plugin install task-tracker@skaji18-plugins"
          ]
        },
        {
          "name": "project-audit",
          "description": "プロジェクトの構成・品質・DXを包括的に調査し、改善提案を優先度付きでレポートするスキル。外部ツール依存なし。",
          "version": "1.0.0",
          "author": {
            "name": "skaji18",
            "email": "skaji18@users.noreply.github.com"
          },
          "source": "./plugins/project-audit",
          "category": "development",
          "categories": [
            "development"
          ],
          "install_commands": [
            "/plugin marketplace add skaji18/claude-plugins",
            "/plugin install project-audit@skaji18-plugins"
          ]
        },
        {
          "name": "permission-guard",
          "description": "8-phase Bash command validation hook. Auto-approves safe commands, blocks shell injection and dangerous patterns.",
          "version": "1.0.0",
          "author": {
            "name": "skaji18",
            "email": "skaji18@users.noreply.github.com"
          },
          "source": "./plugins/permission-guard",
          "category": "security",
          "categories": [
            "security"
          ],
          "install_commands": [
            "/plugin marketplace add skaji18/claude-plugins",
            "/plugin install permission-guard@skaji18-plugins"
          ]
        }
      ]
    }
  ]
}