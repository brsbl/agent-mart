{
  "author": {
    "id": "pietgk",
    "display_name": "Piet Groot Kormelink",
    "avatar_url": "https://avatars.githubusercontent.com/u/1642724?u=cd43e60769785c349dfb8a52b81209ed6eae9b48&v=4"
  },
  "marketplaces": [
    {
      "name": "vivief",
      "version": "1.0.0",
      "description": "DevAC code analysis tools, skills, and workflow commands for Claude Code",
      "repo_full_name": "pietgk/vivief",
      "repo_url": "https://github.com/pietgk/vivief",
      "repo_description": "Vision View Effect",
      "signals": {
        "stars": 3,
        "forks": 0,
        "pushed_at": "2026-01-31T21:31:45Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"vivief\",\n  \"description\": \"DevAC code analysis tools, skills, and workflow commands for Claude Code\",\n  \"version\": \"1.0.0\",\n  \"owner\": {\n    \"name\": \"Piet Groot Kormelink\",\n    \"email\": \"grop@me.com\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"devac\",\n      \"source\": \"./plugins/devac\",\n      \"description\": \"DevAC plugin providing Analytics Layer skills and Workflow commands for code analysis and development workflows\",\n      \"version\": \"1.0.0\"\n    }\n  ]\n}\n",
        "README.md": "# DevAC (vivief)\n\nDevAC (Developer Analysis & Codebase) is \n- a combination of tools to enable developers to use the combination of humans, systems and llm's to have a powerfull and easy DX to create validated high quality systems that are documented and can be explained. \n- a federated code analysis system that parses codebases into queryable knowledge graphs using DuckDB + Parquet.\n\n> **vivief** = Vision View Effect - A federated code analysis system for understanding codebases at scale.\n\n## Features\n\n- **Multi-language support**: TypeScript, Python, C#\n- **Fast storage**: DuckDB + Parquet for sub-second queries\n- **Incremental updates**: Watch mode with <300ms updates\n- **Cross-repo federation**: Central hub for multi-repository analysis\n- **AI integration**: MCP server for AI assistants\n- **LikeC4**: integration to show C4 documentation in VS-code and as a web page.\n\n## Installation\n\n### From GitHub Packages (Recommended)\n\nInstall the CLIs globally from GitHub Packages:\n\n```bash\n# Configure npm for GitHub Packages (one-time setup)\necho \"@pietgk:registry=https://npm.pkg.github.com\" >> ~/.npmrc\necho \"//npm.pkg.github.com/:_authToken=YOUR_GITHUB_TOKEN\" >> ~/.npmrc\n\n# Install all CLIs globally\nnpm install -g @pietgk/devac-cli @pietgk/devac-mcp @pietgk/devac-worktree\n\n# Verify installation\ndevac --version\ndevac-mcp --version\ndevac-worktree --version\n```\n\n> **Note:** You need a GitHub Personal Access Token with `read:packages` scope.\n> See the [Getting Started Guide](./docs/start-asking-about-your-code-guide.md) for detailed setup instructions.\n\n### From Source\n\n```bash\n# Clone the repository\ngit clone https://github.com/pietgk/vivief.git\ncd vivief\n\n# Install dependencies\npnpm install\n\n# Build all packages\npnpm build\n\n# Link all CLIs globally\n(cd packages/devac-cli && pnpm link --global)\n(cd packages/devac-mcp && pnpm link --global)\n(cd packages/devac-worktree && pnpm link --global)\n\n# Verify installation\ndevac --version\ndevac-mcp --version\ndevac-worktree --version\n```\n\n## Quick Start\n\n```bash\n# Analyze a package\ndevac sync --package ./my-project\n\n# Query the code graph\ndevac query sql \"SELECT name, kind FROM nodes WHERE kind = 'function'\"\n\n# Watch for changes\ndevac sync --package ./my-project --watch\n\n# Find affected files\ndevac query affected src/api/user.ts src/models/user.ts\n```\n\n## Packages\n\n| Package | Description |\n|---------|-------------|\n| [@pietgk/devac-core](./packages/devac-core) | Core analysis engine |\n| [@pietgk/devac-cli](./packages/devac-cli) | Command-line interface |\n| [@pietgk/devac-mcp](./packages/devac-mcp) | MCP server for AI assistants |\n| [@pietgk/devac-worktree](./packages/devac-worktree) | Issue-based worktree workflow |\n\n## CLI Commands\n\n### Analysis\n\n```bash\n# Analyze a package\ndevac sync -p ./my-package\n\n# Analyze only if files changed\ndevac sync -p ./my-package --if-changed\n\n# Force full reanalysis\ndevac sync -p ./my-package --force\n```\n\n### Querying\n\n```bash\n# JSON output (default)\ndevac query sql \"SELECT * FROM nodes LIMIT 10\"\n\n# CSV output\ndevac query sql \"SELECT name, kind FROM nodes\" --format csv\n\n# Table output\ndevac query sql \"SELECT name, kind FROM nodes\" --format table\n```\n\n### Watch Mode\n\n```bash\n# Watch with verbose output\ndevac sync -p ./my-package --watch --verbose\n\n# Custom debounce interval\ndevac sync -p ./my-package --watch --debounce 200\n```\n\n### Hub Commands (Federation)\n\n```bash\n# Sync and initialize central hub (automatic)\ndevac sync\n\n# List available repositories (auto-discovers repos with seeds)\ndevac query repos\n\n# Check hub status\ndevac status --hub\n\n# Refresh manifests\ndevac sync\n```\n\n**Note:** Repositories with `.devac/seed/` directories are automatically discovered and available for hub queries. The hub is automatically initialized when running `devac sync`.\n\n### Diagnostics\n\n```bash\n# Check system health\ndevac status --doctor\n\n# Fix issues automatically\ndevac status --doctor --fix\n\n# JSON output for scripting\ndevac status --doctor --json\n```\n\n### Context Discovery\n\nDevAC can automatically discover related repositories in a parent directory workflow:\n\n```bash\n# Show current context (sibling repos, issue worktrees)\ndevac context\n\n# Query across all repos in context\ndevac query sql \"SELECT name, kind FROM nodes WHERE kind = 'function'\"\n\n# Check CI status for all PRs in context\ndevac context ci\n\n# Generate LLM review prompt for changes\ndevac context review\ndevac context review --focus security\n```\n\n**Parent Directory Mode**: When running from a directory containing multiple git repos (but not itself a repo), DevAC automatically detects all child repositories and enables cross-repo operations.\n\n### Worktree Commands (devac-worktree)\n\nIssue-based git worktree workflow with Claude integration:\n\n```bash\n# Create worktree for an issue (use gh<repoDir>-<number> format)\ndevac-worktree start ghvivief-123\n\n# Create worktrees in multiple sibling repos\ndevac-worktree start ghvivief-123 --also web --also shared\n\n# From a parent directory: create worktrees in specified repos\ndevac-worktree start ghvivief-123 --repos api,web,shared\n\n# List active worktrees\ndevac-worktree list\n\n# Show status with PR info\ndevac-worktree status\n\n# Resume work on existing worktree\ndevac-worktree resume ghvivief-123\n\n# Clean up merged worktrees\ndevac-worktree clean ghvivief-123\ndevac-worktree clean-merged\n```\n\n**Issue ID Format**: Use `gh<repoDirectoryName>-<issueNumber>` (e.g., `ghvivief-123`, `ghapi-42`). Non-`gh` inputs are assumed to be Jira format (support coming soon).\n\n**Parent Directory Workflow**: Use `--repos` when running from a parent directory to create worktrees in multiple repositories at once. Claude will launch in the parent directory for unified multi-repo development.\n\n### Workspace Commands\n\nMulti-repo workspace management for federated code analysis:\n\n```bash\n# From parent directory containing multiple repos\ncd ~/ws\n\n# Check status of all repos in workspace\ndevac workspace status\n\n# Start workspace watcher (monitors seeds, auto-refreshes hub)\ndevac workspace watch\n\n# Initialize workspace configuration\ndevac workspace init\n```\n\n**How it works:**\n1. `devac watch` per-repo monitors source files → updates seeds\n2. `devac workspace watch` monitors seed files → refreshes hub\n3. Hub enables cross-repo queries via MCP or CLI\n\n> **Note:** Repos must have seeds (run `devac sync` first) before `devac workspace watch` can detect changes.\n\n### Workspace Repository Commands\n\nFor teams wanting versioned workspace configuration:\n\nSee [Workspace Repository Pattern](./docs/workspace-repo.md) for detailed documentation.\n\n### MCP Server\n\n```bash\n# Start MCP server (for AI integration)\ndevac mcp -p ./my-package\n```\n\n## Data Model\n\n### Nodes\n\nCode entities extracted from source files:\n\n| Kind | Description |\n|------|-------------|\n| `function` | Functions and methods |\n| `class` | Classes and structs |\n| `interface` | Interfaces and protocols |\n| `variable` | Variables and constants |\n| `type` | Type aliases |\n| `enum` | Enumerations |\n| `property` | Class/object properties |\n| `parameter` | Function parameters |\n\n### Edges\n\nRelationships between nodes:\n\n| Type | Description |\n|------|-------------|\n| `CALLS` | Function calls |\n| `IMPORTS` | Import statements |\n| `EXTENDS` | Class inheritance |\n| `IMPLEMENTS` | Interface implementation |\n| `CONTAINS` | Parent-child containment |\n| `RETURNS` | Return type |\n| `TYPE_OF` | Type annotation |\n\n### External Refs\n\nReferences to external packages (npm, pip, NuGet):\n\n```sql\nSELECT * FROM external_refs \nWHERE module_specifier LIKE 'react%'\n```\n\n## Storage Structure\n\n```\nmy-project/\n└── .devac/\n    ├── seed/\n    │   ├── base/\n    │   │   ├── nodes.parquet\n    │   │   ├── edges.parquet\n    │   │   └── external_refs.parquet\n    │   └── branch/\n    │       └── feature-x/\n    │           └── ...\n    └── manifest.json\n```\n\n## Claude Code Plugin\n\nDevAC includes a Claude Code plugin that provides AI-powered code analysis skills and workflow commands.\n\n### Plugin Features\n\n**Analytics Layer Skills** (activate automatically):\n- **code-analysis** - Analyze code structure, find symbols, explore hierarchies\n- **impact-analysis** - Determine what changes will affect, find dependencies\n- **codebase-navigation** - Navigate and locate code definitions\n- **diagnostics-triage** - Triage and prioritize errors and warnings\n- **multi-repo-context** - Work across multiple repositories\n- **explain-package** - Generate human-readable package documentation\n- **define-effects** - Create and maintain effect mappings for packages\n\n**Workflow Commands** (user-invoked):\n- `/commit` or `/devac:commit` - Full commit workflow with changeset/ADR checks\n- `/ship` or `/devac:ship` - Commit, push, and create PR\n- `/start-issue` or `/devac:start-issue` - Start work on a GitHub issue\n- `/devac-status` or `/devac:devac-status` - Query status across all Four Pillars\n\n> **Note**: Command format depends on how the plugin is loaded. See below.\n\n### How Plugin Loading Works\n\n| Method | Command Format | When to Use |\n|--------|---------------|-------------|\n| **Install via Marketplace** | `/devac:commit` | Recommended - works globally |\n| **Marketplace** (inside vivief) | `/commit` | Working inside this repository |\n| **--plugin-dir** | `/devac:commit` | Development/testing |\n\n### Activating the Plugin\n\n**Option 1: Install via Marketplace (Recommended)**\n\nInstall globally to use in any project:\n\n```bash\n# Add the vivief marketplace (one-time setup)\nclaude plugin marketplace add pietgk/vivief\n\n# Install the DevAC plugin\nclaude plugin install devac@vivief\n```\n\nCommands are available as `/devac:commit`, `/devac:ship`, etc.\n\n**Option 2: Working inside the vivief repository**\n\nThe plugin loads automatically via the marketplace configuration. Commands work as `/commit`, `/ship`, etc. (no namespace).\n\n**Option 3: Development/testing**\n\n```bash\nclaude --plugin-dir /path/to/vivief/plugins/devac\n```\n\nCommands are namespaced as `/devac:commit`, `/devac:ship`, etc.\n\n### Plugin Structure\n\n```\nplugins/devac/\n├── .claude-plugin/plugin.json   # Plugin metadata\n├── .mcp.json                    # MCP server config\n├── commands/                    # 11 workflow commands\n├── skills/                      # 7 Analytics Layer skills\n└── README.md                    # Plugin documentation\n```\n\nSee [plugins/devac/README.md](./plugins/devac/README.md) for detailed plugin documentation including how to use the plugin without the vivief repository.\n\n## MCP Integration\n\nFor AI assistant integration, run the MCP server:\n\n```bash\ndevac-mcp -p ./my-package\n```\n\nAvailable tools:\n- `find_symbol` - Find symbols by name\n- `get_dependencies` - Get outgoing edges\n- `get_dependents` - Get incoming edges\n- `get_affected` - Find affected files from changes\n- `get_call_graph` - Function call graph\n- `query_sql` - Execute SQL queries\n\n## Development\n\n```bash\n# Install dependencies\npnpm install\n\n# Build\npnpm build\n\n# Test\npnpm test\n\n# Lint\npnpm lint\n\n# Type check\npnpm typecheck\n```\n\n## Requirements\n\n- Node.js 20+\n- pnpm 9+\n- Python 3.8+ (for Python parsing)\n\n## Upgrading\n\n### Breaking Changes in v0.20.0\n\n**`--hub` flag removed**: Hub mode is now the default for all commands. If you have scripts using `--hub`, simply remove the flag.\n\n```bash\n# Before v0.20.0\ndevac query --hub \"SELECT * FROM nodes\"\n\n# v0.20.0+\ndevac query \"SELECT * FROM nodes\"\n```\n\nFor detailed version history, see the [CHANGELOG](./packages/devac-cli/CHANGELOG.md).\n\n## Documentation\n\nComprehensive documentation is available in the [docs/](./docs/) directory:\n\n- **[Start Asking About Your Code](./docs/start-asking-about-your-code-guide.md)** - End-to-end guide for AI integration\n- [Quick Start](./docs/quick-start.md) - Get up and running\n- [Architecture Overview](./docs/implementation/overview.md) - System design\n- [CLI Reference](./docs/cli-reference.md) - Command documentation\n- [API Reference](./docs/api-reference.md) - Programmatic API\n- [MCP Server](./docs/mcp-server.md) - AI assistant integration\n- [Data Model](./docs/implementation/data-model.md) - Nodes, edges, refs schema\n- [Storage System](./docs/implementation/storage.md) - DuckDB + Parquet internals\n\n## License\n\nMIT\n",
        "plugins/devac/README.md": "# DevAC Plugin for Claude Code\n\nDevAC plugin providing Analytics Layer skills and Workflow commands for code analysis and development workflows.\n\n## How Plugin Loading Works\n\nUnderstanding how Claude Code loads plugins is important to avoid confusion:\n\n### Loading Methods (In Order of Preference)\n\n| Method | Command Format | When to Use |\n|--------|---------------|-------------|\n| **Install via Marketplace** | `/devac:commit` | Recommended - works globally in any project |\n| **Marketplace** (vivief repo) | `/commit` | Working inside the vivief repository |\n| **--plugin-dir** | `/devac:commit` | Development/testing of the plugin |\n\n### What \"Project Scope\" Means\n\nWhen using Claude Code in a **multi-repo workspace** (like `~/ws/` containing multiple repositories):\n\n- **Project = the directory where you launched Claude Code**\n- If you run `claude` from `~/ws/vivief/`, the plugin loads for that session\n- If you run `claude` from `~/ws/` (parent directory), the plugin loads if vivief's marketplace is detected\n- Other sibling repositories (`~/ws/other-repo/`) don't automatically get the plugin\n\n**Important**: The plugin scope is tied to the Claude Code session, not individual repositories within your workspace.\n\n---\n\n## Setup Guide\n\n### Option 1: Install via Marketplace (Recommended)\n\nThe DevAC plugin is published to GitHub and can be installed globally via Claude Code's plugin system. This works in **any project** without needing the vivief repository.\n\n```bash\n# Add the vivief marketplace (one-time setup)\nclaude plugin marketplace add pietgk/vivief\n\n# Install the DevAC plugin\nclaude plugin install devac@vivief\n```\n\n**Verify installation:**\n```bash\nclaude plugin marketplace list\n# Should show: vivief - Source: GitHub (pietgk/vivief)\n```\n\nAfter installation, commands are available with the `devac:` namespace prefix:\n- `/devac:commit` - Full commit workflow\n- `/devac:ship` - Commit, push, and create PR\n- `/devac:start-issue` - Start work on an issue\n- etc.\n\n### Option 2: Working Inside the Vivief Repository\n\nIf you're a vivief developer, the plugin loads automatically via the repository's marketplace configuration.\n\n**Usage:**\n```bash\ncd ~/ws/vivief\nclaude\n```\n\nCommands are available **without namespace prefix**:\n- `/commit`, `/ship`, `/start-issue`, etc.\n\n### Option 3: Development/Testing (--plugin-dir)\n\nFor testing plugin changes during development:\n\n```bash\nclaude --plugin-dir /path/to/vivief/plugins/devac\n```\n\nCommands will be namespaced as `/devac:commit`, `/devac:ship`, etc.\n\n---\n\n## Quick Reference: Command Names\n\n| If Plugin Loaded Via... | Command Format | Example |\n|------------------------|----------------|---------|\n| Install via Marketplace | `/devac:command` | `/devac:commit` |\n| Marketplace (inside vivief) | `/command` | `/commit` |\n| --plugin-dir | `/devac:command` | `/devac:commit` |\n\n---\n\n## Conceptual Model\n\n```\n┌──────────────────────────────────────────┬─────────────────────┐\n│      CLI (devac, devac-worktree)         │   MCP (devac-mcp)   │\n│  Preferred - low context overhead        │  Alternative access │\n└──────────────────────────────────────────┴─────────────────────┘\n         │                                          │\n         └────────────────────┬─────────────────────┘\n                              ▼\n┌────────────────────────────────────────────────────────────────┐\n│                    SHARED CORE (devac-core)                     │\n└────────────────────────────────────────────────────────────────┘\n```\n\n**Key Principles:**\n- **CLI is preferred** - Skills invoke `devac` commands via Bash for lower context overhead\n- **CLI and MCP share implementation** - Both import from `devac-core` and behave identically\n- **MCP is optional** - Skills work without MCP server running\n\n---\n\n## What's Included\n\n### Skills (Auto-Invoked)\n\nSkills activate automatically based on your conversation:\n\n| Skill | Triggers On | Description |\n|-------|------------|-------------|\n| `code-analysis` | \"analyze code\", \"find functions\" | Analyze code structure and symbols |\n| `impact-analysis` | \"what will this affect\" | Determine change impact and dependencies |\n| `codebase-navigation` | \"find where X is defined\" | Navigate and locate code |\n| `diagnostics-triage` | \"what needs fixing\" | Triage errors and warnings |\n| `multi-repo-context` | \"cross-repo\", \"workspace\" | Work across multiple repositories |\n| `explain-package` | \"explain this package\", \"document package\" | Generate human-readable package documentation |\n| `define-effects` | \"define effects\", \"map effects\" | Create and maintain effect mappings |\n\n### Commands (User-Invoked)\n\n| Command | Description |\n|---------|-------------|\n| `/commit` | Full commit workflow with changeset/ADR checks |\n| `/ship` | Commit, push, and create PR |\n| `/start-issue` | Start work on a GitHub issue |\n| `/start-issue-on-new-worktree` | Start issue with new git worktree |\n| `/issue` | Create a new GitHub issue |\n| `/prepare-commit` | Prepare commit message (review before committing) |\n| `/draft-commit` | Draft commit message only |\n| `/prepare-pr` | Prepare PR description |\n| `/draft-changeset` | Draft changeset for release |\n| `/draft-adr` | Draft architecture decision record |\n| `/devac-status` | Query status across all Four Pillars |\n\n> **Note**: Commands shown without namespace. If installed via marketplace or using `--plugin-dir`, prefix with `devac:` (e.g., `/devac:commit`).\n\n---\n\n## Prerequisites\n\n1. **DevAC CLI installed**\n   ```bash\n   npm install -g @pietgk/devac-cli\n   ```\n\n2. **Hub initialized** (for multi-repo features)\n   ```bash\n   devac sync\n   ```\n\n3. **Repositories analyzed**\n   ```bash\n   cd your-repo\n   devac sync\n   ```\n\n---\n\n## CLI Commands Used by Skills\n\nSkills invoke CLI commands for all DevAC operations:\n\n```bash\n# Code analysis\ndevac query symbol UserService\ndevac file-symbols src/auth/\n\n# Impact analysis\ndevac query affected src/core/auth.ts\ndevac query deps src/services/user.ts\n\n# Diagnostics\ndevac status --diagnostics\ndevac status --diagnostics --severity error\n\n# Multi-repo\ndevac status --hub\ndevac query repos\n\n# Effects documentation\ndevac effects init -p <package>\ndevac effects verify -p <package>\ndevac effects sync -p <package>\ndevac effects list -p <package>\n```\n\n---\n\n## MCP Integration (Alternative)\n\nAn MCP server configuration is included for `devac-mcp`. MCP provides the same functionality with higher context overhead:\n\n- `find_symbol` - Find symbols by name\n- `get_file_symbols` - Get symbols in a file\n- `get_affected` - Get affected files\n- `get_dependencies` - Get file dependencies\n- `get_call_graph` - Get function call graphs\n- `get_diagnostics_summary` - Get diagnostics overview\n- `get_all_diagnostics` - Get all diagnostics\n- `list_repos` - List connected repositories\n- `query_sql` - Query the Seeds database\n\n**Note:** CLI is preferred. MCP is useful when you have it configured but is not required.\n\n---\n\n## Usage Examples\n\n### Skills (Just Ask)\n```\n\"What functions are in the auth module?\"\n\"What will be affected if I change UserService?\"\n\"What TypeScript errors need fixing?\"\n\"Show me the workspace status\"\n```\n\n### Commands (Explicit Invocation)\n```\n/start-issue 123\n/commit\n/ship\n```\n\n---\n\n## Troubleshooting\n\n### Commands Not Found\n\n**Symptom**: `/commit` or `/devac:commit` doesn't work\n\n**Check**:\n1. Installed via marketplace? → Commands are `/devac:commit`\n2. Inside the vivief directory? → Commands are `/commit` (no namespace)\n3. Using `--plugin-dir`? → Commands are `/devac:commit`\n4. Plugin not loaded? → Run `claude plugin list` to check, then `/help` to see available commands\n\n### Skills Not Activating\n\n**Check**:\n1. Is DevAC CLI installed? → `devac --version`\n2. Is the repository analyzed? → `devac status --hub`\n\n### Plugin Not Loading\n\n**Check**:\n1. Verify marketplace.json exists: `cat .claude-plugin/marketplace.json`\n2. Check plugin structure: `ls plugins/devac/`\n3. Restart Claude Code after changes\n\n---\n\n## Learn More\n\n- [Vivief Workflow Guide](../../docs/vivief-workflow.md) - Complete development workflow\n- [CLI Reference](../../docs/cli-reference.md) - DevAC CLI commands\n- [MCP Server Reference](../../packages/devac-mcp/README.md) - MCP integration\n"
      },
      "plugins": [
        {
          "name": "devac",
          "source": "./plugins/devac",
          "description": "DevAC plugin providing Analytics Layer skills and Workflow commands for code analysis and development workflows",
          "version": "1.0.0",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add pietgk/vivief",
            "/plugin install devac@vivief"
          ]
        }
      ]
    }
  ]
}