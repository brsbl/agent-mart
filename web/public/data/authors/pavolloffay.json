{
  "author": {
    "id": "pavolloffay",
    "display_name": "Pavol Loffay",
    "avatar_url": "https://avatars.githubusercontent.com/u/5618424?u=9a7177cd549704a44436742ba74deee1e58075d9&v=4"
  },
  "marketplaces": [
    {
      "name": "pavolloffay",
      "version": null,
      "description": "Commands to analyze and trigger Konflux builds",
      "repo_full_name": "pavolloffay/claude-plugins",
      "repo_url": "https://github.com/pavolloffay/claude-plugins",
      "repo_description": "My claude code skills and commands",
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-02-11T17:14:33Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"pavolloffay\",\n  \"owner\": {\n    \"name\": \"pavolloffay\",\n    \"email\": \"p.loffay@gmail.com\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"konflux\",\n      \"source\": \"./plugins/konflux\",\n      \"description\": \"Commands to analyze and trigger Konflux builds\"\n    },\n    {\n      \"name\": \"openshift-tls-profile\",\n      \"source\": \"./plugins/openshift-tls-profile\",\n      \"description\": \"Implementation requirements and details for OpenShift TLS security profiles\"\n    }\n  ]\n}\n",
        "README.md": "# Claude Code plugins\n\nThis repository contains collection of my Claude Code plugins - e.g. commands and skills.\n\n## Install\n\nInstall for Github:\n```bash\n/plugin marketplace add pavolloffay/claude-plugins\n```\n\nInstall from filesystem:\n```bash\n/plugin marketplace add /home/ploffay/projects/openshift-eng/ai-helpers\n```\n\nUpdate:\n```bash\n/plugin marketplace update ai-helpers\n````\n\nAdd individual commands or skills\n```bash\n/marketplace\n```\n\n## Plugins\n\n### konflux\n\nThe Konflux plugin simplifies working with Konflux by allowing executing Component builds and Getting status of the ",
        "plugins/konflux/README.md": "# Konflux Plugin\n\nA comprehensive plugin for triggering Konflux builds and analyzing state of the Konflux Application.\n\n## Overview\n\nThis plugin provides these Konflux capabilities:\n\n- **Component Management**: Search Konflux components, trigger builds, wait for release and nudge files\n- **Application Management**: Search and understand status of Konflux application and all its components\n\n### Example build and release\n\nThis commands in this plugin can be used to build and release a product on Konflux. With the following workflow\na developer has all builds under control, AI agent can understand the TaskRun failures nudging is explicit (it does not rely on MintMaker).\n\nFirst build components:\n```bash\n/konflux:component build otel-collector-main otel-target-allocator-main otel-operator-main --wait 1h --nudge\n```\nThe command executes builds of these 3 components and instructs AI agent to nudge the dependent files (in this case the OLM bundle).\n\nThen a developer commits the changes and pushes them to the repository.\nOnce the changes are merged the bundle can be built:\n\n```bash\n/konflux:component build otel-bundle-main --wait 1h --wait-release 1h --nudge\n```\nThe command instructs Konflux to build the bundle, nudge dependent files and wait for the release.\nIn this case the nudge changes the FBC catalog template.\n\n## Prerequisites\n\n- Claude Code installed\n- OpenShift CLI (`oc`) installed and configured\n- Access to an OpenShift cluster with Konflux\n- The current working directory is a Konflux git project with Tekton pipelines (`./tekton`)\n\n## Commands\n\n### `/konflux:component` - Get status of Konflux component, trigger builds and wait for release to finish\n\n**Usage:**\n```bash\n/konflux:component status sotel-collector-main                                 # Get status of a component\n/konflux:component build otel-collector-main otel-collector-main               # Trigger build of 2 components\n/konflux:component build otel-collector-main --wait 1h                         # Trigger build of a component and wait for the build to finish\n/konflux:component build otel-collector-main --wait 1h --nudge                 # Trigger build of a component, wait for the build to finish and nudge dependent files (e.g. OLM bundle)\n/konflux:component build otel-bundle-main --wait 1h --nudge --wait-for-release # Trigger build of a component, wait for the build and release to finish and nudge files (e.g. FBC catalog template)\n```\n\n**What it does:**\n- Gets status of a component: last build, Snapshots, Git SHA with message\n- Builds components, waits for the build and/or release to finish\n- Nudges dependent files are build\n\n**Arguments:**\n- `component(s)` (required): List of components \n- `--wait <duration>` (optional): Wait for the build to finish\n- `--nudge` (optional): Nudge dependent files are build\n- `--wait-for-release <duration>` (optional): Wait for the release to finish\n\nSee [commands/component](commands/component.md) for full documentation.\n\n---\n\n### `/konflux:application` - Get status of Konflux application\n\n**Usage:**\n```bash\n/konflux:application status otel-main        # Get status of Application - e.g. all its components with recent Releases\n```\n\n**What it does:**\n- Gets status of an application: its components, last snapshots, builds and releases\n\n**Arguments:**\n- `application` (required): Application name\n\nSee [commands/application.md](commands/application.md) for full documentation.\n\n---\n\n## Resources\n\n- [Konflux upstream Documentation](https://konflux-ci.dev/docs/)\n- [Konflux Red Hat Documentation](https://konflux.pages.redhat.com/docs/users/index.html)\n- [Konflux Architecture](https://github.com/konflux-ci/architecture)\n- [Konflux Claude Code Skills](https://github.com/konflux-ci/skills)\n",
        "plugins/openshift-tls-profile/README.md": "# OpenShift TLS Profile\n\nA skill for implementing TLS security profiles in Kubernetes operators and workloads running on OpenShift.\n\n## Overview\n\nThis skill provides guidance on:\n\n- **Reading TLS Configuration**: Fetching TLS security profiles from the APIServer custom resource\n- **Profile Conversion**: Converting OpenShift TLS profiles to Go `crypto/tls` configuration\n- **Applying TLS Settings**: Configuring webhook servers, metrics endpoints, HTTP/gRPC clients and servers\n- **library-go Utilities**: Using `github.com/openshift/library-go/pkg/crypto` for cipher suite conversion\n\n## TLS Profile Types\n\nOpenShift supports four TLS profile types based on Mozilla's Server Side TLS recommendations:\n\n| Profile | Min TLS Version | Use Case |\n|---------|-----------------|----------|\n| Old | TLS 1.0 | Legacy compatibility (not recommended) |\n| Intermediate | TLS 1.2 | Recommended for general use |\n| Modern | TLS 1.3 | Highest security |\n| Custom | Configurable | User-defined ciphers and TLS version |\n\n## When to Use This Skill\n\nUse this skill when:\n\n- Implementing TLS security profiles in a Kubernetes operator running on OpenShift\n- Configuring controller-runtime webhook servers and metrics endpoints\n- Setting up HTTP or gRPC clients/servers that need to comply with OpenShift TLS policies\n- Converting OpenShift TLS profile types to Go `crypto/tls` configuration\n- Troubleshooting TLS-related connection issues in OpenShift clusters\n\n## Quick Start\n\n### Check Cluster TLS Profile\n\n```bash\n# Get the current TLS security profile\noc get apiserver cluster -o jsonpath='{.spec.tlsSecurityProfile}' | jq .\n\n# Check the profile type\noc get apiserver cluster -o jsonpath='{.spec.tlsSecurityProfile.type}'\n```\n\n### Basic Implementation Pattern\n\n1. **Fetch TLS profile** from `APIServer` CR named `cluster`\n2. **Convert profile** to Go `tls.Config` using library-go utilities\n3. **Apply to endpoints** (webhook server, metrics server, HTTP/gRPC)\n\n```go\n// Fetch profile from cluster\napiServer := &configv1.APIServer{}\nclient.Get(ctx, types.NamespacedName{Name: \"cluster\"}, apiServer)\nprofile := apiServer.Spec.TLSSecurityProfile\n\n// Convert to tls.Config\nminVersion, _ := crypto.TLSVersion(string(profile.MinTLSVersion))\nciphers := crypto.OpenSSLToIANACipherSuites(profile.Ciphers)\ncipherSuites := crypto.CipherSuitesOrDie(ciphers)\n\ntlsConfig := &tls.Config{\n    MinVersion:   minVersion,\n    CipherSuites: cipherSuites,\n}\n```\n\n## Key Dependencies\n\n```go\nimport (\n    configv1 \"github.com/openshift/api/config/v1\"\n    \"github.com/openshift/library-go/pkg/crypto\"\n)\n```\n\n- `github.com/openshift/api` - OpenShift API types including `TLSSecurityProfile`\n- `github.com/openshift/library-go` - Crypto utilities for TLS version and cipher conversion\n\n## library-go Crypto Utilities\n\nThe `library-go/pkg/crypto` package provides essential functions:\n\n| Function | Purpose |\n|----------|---------|\n| `TLSVersion(name)` | Convert TLS version name to Go constant |\n| `OpenSSLToIANACipherSuites(ciphers)` | Convert OpenSSL cipher names to IANA names |\n| `CipherSuitesOrDie(names)` | Convert cipher names to Go constants |\n| `SecureTLSConfig(config)` | Apply secure defaults to TLS config |\n| `DefaultTLSVersion()` | Get default TLS version (1.2) |\n| `DefaultCiphers()` | Get default cipher suites |\n\n## Skill Documentation\n\nSee [skills/SKILL.md](skills/SKILL.md) for complete implementation details including:\n\n- Step-by-step implementation guide\n- Complete code examples for all endpoint types\n- Full operator example with controller-runtime\n- Troubleshooting guide\n- Verification commands\n\n## Resources\n\n- [OpenShift TLS Security Profiles Documentation](https://docs.openshift.com/container-platform/latest/security/tls-security-profiles.html)\n- [Mozilla Server Side TLS](https://wiki.mozilla.org/Security/Server_Side_TLS)\n- [OpenShift API - TLS Security Profile Types](https://github.com/openshift/api/blob/master/config/v1/types_tlssecurityprofile.go)\n- [OpenShift library-go Crypto Package](https://pkg.go.dev/github.com/openshift/library-go/pkg/crypto)\n- [TLS Configuration in OpenShift (Red Hat KB)](https://access.redhat.com/articles/5348961)\n"
      },
      "plugins": [
        {
          "name": "konflux",
          "source": "./plugins/konflux",
          "description": "Commands to analyze and trigger Konflux builds",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add pavolloffay/claude-plugins",
            "/plugin install konflux@pavolloffay"
          ]
        },
        {
          "name": "openshift-tls-profile",
          "source": "./plugins/openshift-tls-profile",
          "description": "Implementation requirements and details for OpenShift TLS security profiles",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add pavolloffay/claude-plugins",
            "/plugin install openshift-tls-profile@pavolloffay"
          ]
        }
      ]
    }
  ]
}