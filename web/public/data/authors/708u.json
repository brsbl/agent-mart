{
  "author": {
    "id": "708u",
    "display_name": "Naoya Uda",
    "avatar_url": "https://avatars.githubusercontent.com/u/43739514?u=22fc324c7225f6f66f84226b2b103fe5c2e5e93c&v=4"
  },
  "marketplaces": [
    {
      "name": "twig-plugins",
      "version": null,
      "description": "twig CLI plugins",
      "repo_full_name": "708u/twig",
      "repo_url": "https://github.com/708u/twig",
      "repo_description": "Simplify git worktree and branch management with configurable symlinks, change carrying, and cleanup.",
      "signals": {
        "stars": 19,
        "forks": 0,
        "pushed_at": "2026-02-13T02:34:49Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"twig-plugins\",\n  \"owner\": {\n    \"name\": \"708u\"\n  },\n  \"metadata\": {\n    \"description\": \"twig CLI plugins\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"twig\",\n      \"description\": \"Claude Code plugin for twig - simplifies git worktree workflows\",\n      \"version\": \"0.2.0\",\n      \"category\": \"productivity\",\n      \"keywords\": [\"git\", \"worktree\", \"branch\", \"cli\", \"twig\"],\n      \"source\": \"./external/claude-code/plugins/twig\"\n    }\n  ]\n}\n",
        "README.md": "# twig\n\nA CLI tool that creates, deletes, and manages git worktrees and branches in a single command.\nFocused on simplifying git operations, keeping features minimal.\n\n## Motivation\n\ntwig is designed to be friendly for both humans and agentic coding tools,\nand to integrate easily with other CLI tools:\n\n- `--quiet` minimizes output to paths only, making it easy to pass to other tools\n- For human use, `--verbose` and interactive confirmations ensure safety\n\nExamples:\n\n```bash\ncd $(twig add feat/x -q)            # cd into the created worktree\ntwig list -q | fzf                  # select a worktree with fzf\ntwig list -q | xargs -I {} code {}  # open all worktrees in VSCode\ntwig clean -v                       # confirm before deletion, show all skipped items\n```\n\n## Design Philosophy\n\ntwig treats branches and worktrees as a single unified concept.\nUsers don't need to think about whether they're managing a \"branch\" or a \"worktree\" -\nthey simply work with named development contexts.\n\n- `twig add feat/x` creates both the branch and worktree together\n- `twig remove feat/x` deletes both together\n- Even if a worktree directory is deleted externally, `twig remove` still works\n\nThis 1:1 mapping simplifies the mental model: one name, one workspace, one command.\n\n## Features\n\n### Create worktree and branch in one command\n\n`twig add feat/xxx` executes worktree creation, branch creation, and symlink setup all at once.\nUse `--source` to create from any branch regardless of current worktree.\nSet `default_source` in config to always branch from a fixed base (e.g., main).\n\n### Automatic symlink management via config\n\nCreate new worktrees with personal settings like .envrc and Claude configs carried over.\nGit worktree operations don't copy gitignored files, so twig uses symlinks to share these files across worktrees.\nStart working immediately in new worktrees without manual setup.\n\n### Move uncommitted changes to a new branch\n\nUse `--carry` to move changes to a new worktree, or `--sync` to copy them to both.\nUse `--file` with `--carry` to move only specific files matching a glob pattern.\n\nExamples:\n\n- Move refactoring ideas to a separate worktree and continue main work\n- Extract WIP changes to a new branch before switching tasks\n\n### Clean up worktrees no longer needed\n\n`twig clean` removes worktrees that are merged, have upstream gone, or are prunable.\n\n## Installation\n\nRequires Git 2.15+.\n\n### Homebrew\n\n```bash\nbrew install 708u/tap/twig\n```\n\n### Go\n\n```bash\ngo install github.com/708u/twig/cmd/twig@latest\n```\n\n## Quick Start\n\n```bash\n# Initialize settings\ntwig init\n\n# Create a new worktree and branch\ntwig add feat/new-feature\n\n# Copy uncommitted changes to a new worktree\ntwig add feat/wip --sync\n\n# Move uncommitted changes to a new worktree\ntwig add feat/wip --carry\n\n# List worktrees\ntwig list\n\n# Clean up worktrees no longer needed\ntwig clean\n\n# Delete a specific worktree\ntwig remove feat/done\n```\n\n## Configuration\n\nConfigure in `.twig/settings.toml`:\n\n- `worktree_destination_base_dir`: Destination directory for worktrees\n- `default_source`: Source branch for symlinks (creates symlinks from main even when adding from a derived worktree)\n- `symlinks`: Glob patterns for symlink targets\n- `init_submodules`: Initialize submodules when creating worktrees\n\nPersonal settings can be overridden in `.twig/settings.local.toml` (.gitignore recommended).\n\n- `extra_symlinks`: Add personal patterns while preserving team settings\n\nDetails: [docs/reference/configuration.md](docs/reference/configuration.md)\n\n## Shell Completion\n\nShell completion is available for all commands and flags.\nFor example, `twig remove <TAB>` completes existing branch names.\n\nAdd the following to your shell configuration:\n\n### Bash\n\nAdd to `~/.bashrc`:\n\n```bash\neval \"$(twig completion bash)\"\n```\n\n### Zsh\n\nAdd to `~/.zshrc`:\n\n```bash\neval \"$(twig completion zsh)\"\n```\n\n### Fish\n\nAdd to `~/.config/fish/config.fish`:\n\n```sh\ntwig completion fish | source\n```\n\n## Command Specs\n\n| Command                                            | Description                                      |\n| -------------------------------------------------- | ------------------------------------------------ |\n| [init](docs/reference/commands/init.md)            | Initialize settings                              |\n| [add](docs/reference/commands/add.md)              | Create worktree and branch                       |\n| [list](docs/reference/commands/list.md)            | List worktrees                                   |\n| [remove](docs/reference/commands/remove.md)        | Delete worktree and branch (multiple supported)  |\n| [clean](docs/reference/commands/clean.md)          | Bulk delete merged worktrees                     |\n| [sync](docs/reference/commands/sync.md)            | Sync symlinks and submodules to worktrees        |\n\nSee the documentation above for detailed flags and specifications.\n\n## Claude Code Plugin\n\nA [Claude Code](https://docs.anthropic.com/en/docs/claude-code) plugin is\navailable for AI-assisted worktree management. The plugin provides an agent\nand skill that help Claude understand twig commands and execute worktree\noperations.\n\n### Plugin Installation\n\nRun the following slash commands in a Claude Code session:\n\n```txt\n# Add the marketplace\n/plugin marketplace add 708u/twig\n\n# Install the plugin\n/plugin install twig@708u-twig\n```\n\n### What the Plugin Provides\n\n| Component           | Description                                 |\n| ------------------- | ------------------------------------------- |\n| twig-operator agent | Executes twig commands based on user intent |\n| twig-guide skill    | Provides command syntax and usage details   |\n\n### Usage Examples\n\nOnce installed, Claude can help with worktree operations:\n\n- \"Create a new worktree for feat/user-auth\"\n- \"Move my current changes to a new branch\"\n- \"Clean up merged worktrees\"\n- \"I want to work on the API and frontend in parallel\"\n\n## License\n\n[MIT](LICENSE)\n"
      },
      "plugins": [
        {
          "name": "twig",
          "description": "Claude Code plugin for twig - simplifies git worktree workflows",
          "version": "0.2.0",
          "category": "productivity",
          "keywords": [
            "git",
            "worktree",
            "branch",
            "cli",
            "twig"
          ],
          "source": "./external/claude-code/plugins/twig",
          "categories": [
            "branch",
            "cli",
            "git",
            "productivity",
            "twig",
            "worktree"
          ],
          "install_commands": [
            "/plugin marketplace add 708u/twig",
            "/plugin install twig@twig-plugins"
          ]
        }
      ]
    },
    {
      "name": "cctidy-plugins",
      "version": null,
      "description": "cctidy CLI plugins",
      "repo_full_name": "708u/cctidy",
      "repo_url": "https://github.com/708u/cctidy",
      "repo_description": "CLI tool to format and clean up Claude Code configuration files",
      "signals": {
        "stars": 4,
        "forks": 0,
        "pushed_at": "2026-02-19T08:39:27Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"cctidy-plugins\",\n  \"owner\": {\n    \"name\": \"708u\"\n  },\n  \"metadata\": {\n    \"description\": \"cctidy CLI plugins\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"cctidy\",\n      \"description\": \"Auto-format Claude Code config files on session start\",\n      \"version\": \"0.1.0\",\n      \"category\": \"productivity\",\n      \"keywords\": [\n        \"claude-code\", \"config\", \"formatter\", \"json\",\n        \"cctidy\"\n      ],\n      \"source\": \"./external/claude-code/plugins/cctidy\"\n    }\n  ]\n}\n",
        "README.md": "# cctidy\n\nA CLI tool that formats Claude Code configuration files.\n\n## Motivation\n\nClaude Code generates and updates several JSON config\nfiles during use. Over time, these files accumulate\nstale entries (removed projects, dead permission paths)\nand inconsistent formatting. cctidy keeps them tidy by\nremoving dead references and normalizing structure,\nso diffs stay clean and configs stay readable.\n\n## Features\n\ncctidy handles three categories of config files, each\nwith different operations:\n\n### ~/.claude.json\n\nRemoves project paths and GitHub repo paths that no\nlonger exist on the filesystem. Repo keys with no\nremaining paths are deleted entirely. Pretty-prints\nwith sorted keys.\n\n> [!NOTE]\n> Arrays are not sorted because Claude Code manages\n> their order internally.\n\n### Global settings (~/.claude/settings\\*.json)\n\nRemoves `allow` and `ask` permission entries that\nreference non-existent paths. `deny` entries are never\nswept to preserve safety. Pretty-prints with sorted\nkeys and sorted homogeneous arrays for deterministic\ndiffs.\n\n### Project settings (.claude/settings\\*.json)\n\nSame operations as global settings, with the addition\nof project-relative path resolution for permission\nsweeping.\n\n> [!NOTE]\n> Bash tool sweeping is opt-in via `--unsafe` flag\n> or `[permission.bash] enabled = true` in config. Bash\n> entries use path extraction heuristics that may\n> produce false positives, so sweeping is disabled\n> by default.\n\n### Supported Tools\n\n| Tool  | Default  | Detection               |\n| ----- | -------- | ----------------------- |\n| Read  | enabled  | Path existence          |\n| Edit  | enabled  | Path existence          |\n| Bash  | disabled | All extracted paths     |\n| Task  | enabled  | Agent existence         |\n| Skill | enabled  | Skill/command existence |\n| MCP   | enabled  | Server registration     |\n\nEntries for tools not listed above (e.g. `Write`,\n`Grep`, `WebFetch`) are kept unchanged. Write is\nexcluded because it creates new files, so the target\npath not existing is expected.\n\n## Installation\n\n### Homebrew\n\n```bash\nbrew install 708u/tap/cctidy\n```\n\n### Install script\n\nLinux / macOS:\n\n```bash\ncurl -sSfL https://raw.githubusercontent.com/708u/cctidy/main/scripts/install.sh | sh\n```\n\nWindows (PowerShell):\n\n```powershell\nirm https://raw.githubusercontent.com/708u/cctidy/main/scripts/install.ps1 | iex\n```\n\n### Go\n\n```bash\ngo install github.com/708u/cctidy/cmd/cctidy@latest\n```\n\nOr download from\n[Releases](https://github.com/708u/cctidy/releases).\n\n## Quick Start\n\n```bash\n# Format all target files\ncctidy\n\n# Preview changes without writing\ncctidy --dry-run -v\n\n# Exit with 1 if any file needs formatting.\n# Useful for CI to enforce consistent config formatting.\ncctidy --check\n\n# Format a specific file with backup\ncctidy -t ~/.claude.json --backup\n\n# Include unsafe sweepers (e.g. Bash)\ncctidy --unsafe\n```\n\n## CLI Options\n\n| Flag                  | Short | Description                       |\n| --------------------- | ----- | --------------------------------- |\n| `--target`            | `-t`  | Format a specific file only       |\n| `--backup`            |       | Create backup before writing      |\n| `--dry-run`           |       | Show changes without writing      |\n| `--check`             |       | Exit with 1 if any file is dirty  |\n| `--unsafe`            |       | Enable unsafe sweepers (e.g. Bash)|\n| `--config`            |       | Path to config file               |\n| `--verbose`           | `-v`  | Show formatting details           |\n| `--version`           |       | Print version                     |\n\nDetails:\n[docs/reference/cli.md](docs/reference/cli.md)\n\n## Exit Codes\n\n| Code | Meaning                           |\n| ---- | --------------------------------- |\n| 0    | Success                           |\n| 1    | `--check`: dirty files detected   |\n| 2    | Invalid flags or runtime error    |\n\n`--check` cannot be combined with `--backup` or\n`--dry-run`. Using them together exits with code 2.\n\n## Configuration\n\ncctidy supports layered TOML configuration. Settings\nare merged in the following order (later wins):\n\n1. Global: `~/.config/cctidy/config.toml`\n2. Project shared: `.claude/cctidy.toml`\n3. Project local: `.claude/cctidy.local.toml`\n4. CLI flags (`--unsafe`)\n\nProject config files are searched from the nearest\n`.claude/` directory, walking up from the current\nworking directory.\n\n### Example\n\n```toml\n# ~/.config/cctidy/config.toml or .claude/cctidy.toml\n[permission.bash]\nenabled = true\nexclude_entries = [\"mkdir -p /opt/logs\"]\nexclude_commands = [\"mkdir\", \"touch\"]\nexclude_paths = [\"vendor/\"]\n```\n\n### Merge Strategy\n\n- **Scalars** (`enabled`): last-set-wins. Unset values\n  do not override lower layers.\n- **Arrays** (`exclude_*`): union with deduplication.\n  Each layer adds entries additively.\n- **Relative paths** in project config `exclude_paths`\n  are resolved against the project root.\n\nDetails:\n[docs/reference/cli.md](docs/reference/cli.md)\n\n## Target Files\n\n| File                            | Operations                 |\n| ------------------------------- | -------------------------- |\n| `~/.claude.json`                | Path cleaning, formatting  |\n| `~/.claude/settings.json`       | Sweeping, sorting          |\n| `~/.claude/settings.local.json` | Sweeping, sorting          |\n| `.claude/settings.json`         | Sweeping, sorting          |\n| `.claude/settings.local.json`   | Sweeping, sorting          |\n\nDetails:\n[docs/reference/formatting.md](docs/reference/formatting.md),\n[docs/reference/permission-sweeping.md](docs/reference/permission-sweeping.md)\n\n## File Safety\n\n- **Atomic write**: Uses temp file + rename to\n  prevent partial writes on crash or interrupt.\n- **Symlink**: Resolves symlinks before writing so\n  the actual target file is updated.\n\n## Claude Code Plugin\n\nA Claude Code plugin is available that automatically\nformats config files on session start.\n\n```txt\n/plugin marketplace add 708u/cctidy\n/plugin install cctidy@708u-cctidy\n```\n\n## License\n\n[MIT](LICENSE)\n"
      },
      "plugins": [
        {
          "name": "cctidy",
          "description": "Auto-format Claude Code config files on session start",
          "version": "0.1.0",
          "category": "productivity",
          "keywords": [
            "claude-code",
            "config",
            "formatter",
            "json",
            "cctidy"
          ],
          "source": "./external/claude-code/plugins/cctidy",
          "categories": [
            "cctidy",
            "claude-code",
            "config",
            "formatter",
            "json",
            "productivity"
          ],
          "install_commands": [
            "/plugin marketplace add 708u/cctidy",
            "/plugin install cctidy@cctidy-plugins"
          ]
        }
      ]
    }
  ]
}