{
  "author": {
    "id": "Kaakati",
    "display_name": "Mohamad Kaakati",
    "avatar_url": "https://avatars.githubusercontent.com/u/5206411?u=947a2c10df4f0eae1ecd1c550dbbe22d27aeec6e&v=4"
  },
  "marketplaces": [
    {
      "name": "manifest-marketplace",
      "version": "1.0.0",
      "description": "Ruby and Rails related Claude Code Skills, Commands and Plugins",
      "repo_full_name": "Kaakati/rails-enterprise-dev",
      "repo_url": "https://github.com/Kaakati/rails-enterprise-dev",
      "repo_description": "Enterprise-grade Rails development workflow with multi-agent orchestration, beads task tracking, and quality gates. Generic and portable across any Rails project.",
      "signals": {
        "stars": 2,
        "forks": 0,
        "pushed_at": "2026-01-25T17:40:15Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"$schema\": \"https://anthropic.com/claude-code/marketplace.schema.json\",\n  \"name\": \"manifest-marketplace\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Ruby and Rails related Claude Code Skills, Commands and Plugins\",\n  \"owner\": {\n    \"name\": \"Mohamad Kaakati\",\n    \"email\": \"hello@kaakati.me\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"rails-enterprise-dev\",\n      \"source\": \"./plugins/rails-enterprise-dev\",\n      \"description\": \"Enterprise-grade Rails development workflow with multi-agent orchestration, beads task tracking, and quality gates.\",\n      \"version\": \"1.0.1\",\n      \"author\": {\n        \"name\": \"Mohamad Kaakati\",\n        \"email\": \"hello@kaakati.me\"\n      },\n      \"homepage\": \"https://github.com/kaakati/rails-enterprise-dev\",\n      \"category\": \"development\"\n    },\n    {\n      \"name\": \"reactree-rails-dev\",\n      \"source\": \"./plugins/reactree-rails-dev\",\n      \"version\": \"2.14.0\",\n      \"description\": \"ReAcTree Rails development with multi-agent orchestration, LSP-powered context compilation, Guardian validation cycle, mandatory planning-to-implementation handoff, parallel agent spawning, dual memory systems with 24h TTL caching, smart intent detection, UX Engineer, optimized model selection, and comprehensive skills library for A+ type-safe code\",\n      \"author\": {\n        \"name\": \"Mohamad Kaakati\",\n        \"email\": \"hello@kaakati.me\"\n      },\n      \"homepage\": \"https://github.com/kaakati/rails-enterprise-dev\",\n      \"category\": \"development\"\n    },\n    {\n      \"name\": \"reactree-flutter-dev\",\n      \"source\": \"./plugins/reactree-flutter-dev\",\n      \"version\": \"1.1.0\",\n      \"description\": \"Flutter development with GetX state management, Clean Architecture, multi-agent orchestration, quality gates, comprehensive testing patterns, navigation, i18n, performance optimization, and accessibility patterns\",\n      \"author\": {\n        \"name\": \"Mohamad Kaakati\",\n        \"email\": \"hello@kaakati.me\"\n      },\n      \"homepage\": \"https://github.com/kaakati/flutter-enterprise-dev\",\n      \"category\": \"development\"\n    },\n    {\n      \"name\": \"reactree-ios-dev\",\n      \"source\": \"./plugins/reactree-ios-dev\",\n      \"version\": \"2.1.0\",\n      \"description\": \"iOS and tvOS development with SwiftUI, MVVM, Clean Architecture, 14 specialized agents, 27 comprehensive skills, automated quality gates, hooks system, one-command setup (/ios-init), beads integration, offline sync, push notifications, tvOS focus navigation, accessibility testing, performance profiling, and dual memory systems\",\n      \"author\": {\n        \"name\": \"Mohamad Kaakati\",\n        \"email\": \"hello@kaakati.me\"\n      },\n      \"homepage\": \"https://github.com/kaakati/ios-enterprise-dev\",\n      \"category\": \"development\"\n    }\n  ]\n}\n",
        "README.md": "# Claude Code Plugin Marketplace\n\nEnterprise-grade development plugins for Claude Code with multi-agent orchestration, automatic skill discovery, and comprehensive workflows.\n\n## Plugins\n\n| Plugin | Version | Description |\n|--------|---------|-------------|\n| [rails-enterprise-dev](#rails-enterprise-dev) | 1.0.1 | Enterprise Rails workflow with multi-agent orchestration |\n| [reactree-rails-dev](#reactree-rails-dev) | 2.9.1 | ReAcTree-based hierarchical agent orchestration for Rails |\n| [reactree-flutter-dev](#reactree-flutter-dev) | 1.1.0 | Flutter development with GetX and Clean Architecture |\n| [reactree-ios-dev](#reactree-ios-dev) | 2.0.0 | iOS/tvOS development with SwiftUI and MVVM |\n\n---\n\n## rails-enterprise-dev\n\nEnterprise-grade Rails development workflow with multi-agent orchestration, automatic skill discovery, and beads task tracking.\n\n### Features\n\n- **Automatic Skill Discovery** - Uses skills from your project's `.claude/skills/` directory\n- **Multi-Agent Orchestration** - Coordinates specialist agents through 6-phase workflow\n- **Beads Integration** - Tracks all work with persistent issue tracking\n- **Quality Gates** - Validates each phase before proceeding\n- **Incremental Implementation** - Checkpoints at every layer\n\n### Quick Start\n\n```bash\n/rails-dev add JWT authentication with refresh tokens\n```\n\n### Commands\n\n| Command | Description |\n|---------|-------------|\n| `/rails-dev [feature]` | Main workflow for feature development |\n| `/rails-feature [story]` | Feature-driven development with user stories |\n| `/rails-debug [error]` | Systematic debugging workflow |\n| `/rails-refactor [target]` | Safe refactoring with test preservation |\n\n---\n\n## reactree-rails-dev\n\nReAcTree-based hierarchical agent orchestration for Rails development with parallel execution, 24h TTL memory caching, and smart intent detection.\n\n### Features\n\n- **ReAcTree Architecture** - Hierarchical task decomposition with control flow nodes\n- **Parallel Execution** - Run independent tasks concurrently\n- **Dual Memory Systems** - Working memory + episodic memory with 24h TTL\n- **Smart Intent Detection** - Auto-suggests workflows based on prompts\n- **UX Engineer Agent** - Accessibility and responsive design\n- **14 Specialized Agents** - Optimized model selection (Opus/Haiku)\n- **Comprehensive Skills Library** - 16+ production-ready skills\n\n### Quick Start\n\n```bash\n/reactree-dev implement user subscription billing\n```\n\n### Commands\n\n| Command | Description |\n|---------|-------------|\n| `/reactree-dev [feature]` | Main ReAcTree workflow with parallel execution |\n| `/reactree-feature [story]` | Feature-driven with test-first development |\n| `/reactree-debug [error]` | Debug with FEEDBACK edges for self-correction |\n\n### Agents\n\n- **workflow-orchestrator** - Manages entire ReAcTree workflow\n- **rails-planner** - Creates implementation plans\n- **implementation-executor** - Coordinates code generation\n- **test-oracle** - Test planning with coverage validation\n- **feedback-coordinator** - FEEDBACK edge routing\n- **ux-engineer** - Accessibility and responsive design\n- **ui-specialist** - TailAdmin dashboard UI\n\n---\n\n## reactree-flutter-dev\n\nFlutter development with GetX state management, Clean Architecture, multi-agent orchestration, and comprehensive testing patterns.\n\n### Features\n\n- **GetX State Management** - Reactive controllers and dependency injection\n- **Clean Architecture** - Domain, Data, Presentation layers\n- **Multi-Agent Orchestration** - Specialized Flutter agents\n- **Quality Gates** - Automated validation at each phase\n- **Testing Patterns** - Unit, widget, integration, and golden tests\n- **Navigation Patterns** - GetX routing with guards\n- **i18n Support** - Internationalization patterns\n- **Performance Optimization** - Widget rebuilds, memory management\n- **Accessibility Patterns** - Screen reader and semantics support\n\n### Quick Start\n\n```bash\n/flutter-dev add offline-first data sync\n```\n\n### Commands\n\n| Command | Description |\n|---------|-------------|\n| `/flutter-dev [feature]` | Main Flutter development workflow |\n| `/flutter-feature [story]` | Feature-driven Flutter development |\n| `/flutter-debug [error]` | Flutter debugging workflow |\n\n---\n\n## reactree-ios-dev\n\niOS and tvOS development with SwiftUI, MVVM, Clean Architecture, and enterprise-grade tooling.\n\n### Features\n\n- **SwiftUI & MVVM** - Modern iOS architecture patterns\n- **Clean Architecture** - Domain, Data, Presentation separation\n- **14 Specialized Agents** - iOS-specific expertise\n- **27 Comprehensive Skills** - Production-ready patterns\n- **Automated Quality Gates** - Swift linting and testing\n- **Hooks System** - Pre/post tool automation\n- **One-Command Setup** - `/ios-init` initializes everything\n- **Beads Integration** - Issue tracking across sessions\n- **Offline Sync** - Core Data and CloudKit patterns\n- **Push Notifications** - APNs implementation patterns\n- **tvOS Focus Navigation** - Focus engine and remote control\n- **Accessibility Testing** - VoiceOver and accessibility audit\n- **Performance Profiling** - Instruments integration\n\n### Quick Start\n\n```bash\n/ios-init                    # Initialize iOS project\n/ios-dev add biometric auth  # Implement feature\n```\n\n### Commands\n\n| Command | Description |\n|---------|-------------|\n| `/ios-init` | Initialize iOS project with all configurations |\n| `/ios-dev [feature]` | Main iOS development workflow |\n| `/ios-feature [story]` | Feature-driven iOS development |\n| `/ios-debug [error]` | iOS debugging workflow |\n| `/tvos-dev [feature]` | tvOS-specific development |\n\n### Agents\n\n- **ios-architect** - System design and architecture\n- **swiftui-specialist** - SwiftUI views and modifiers\n- **data-persistence** - Core Data, SwiftData, CloudKit\n- **networking-specialist** - URLSession, async/await\n- **accessibility-auditor** - VoiceOver compliance\n- **performance-profiler** - Instruments and optimization\n- **tvos-specialist** - Focus engine and remote control\n\n---\n\n## Installation\n\n### From Marketplace\n\n```bash\n# Install via Claude Code plugin marketplace (coming soon)\nclaude plugins install rails-enterprise-dev\nclaude plugins install reactree-rails-dev\nclaude plugins install reactree-flutter-dev\nclaude plugins install reactree-ios-dev\n```\n\n### Manual Installation\n\n```bash\n# Clone repository\ngit clone https://github.com/kaakati/rails-enterprise-dev.git\n\n# Copy desired plugin to your project\ncp -r rails-enterprise-dev/plugins/reactree-rails-dev .claude/plugins/\n```\n\n---\n\n## Common Features\n\nAll plugins share these capabilities:\n\n### Beads Integration\n\nTrack work with persistent issue tracking:\n\n```bash\nbd show [issue-id]    # Detailed view\nbd ready              # See ready tasks\nbd stats              # Project statistics\nbd list --status in_progress\n```\n\n### Quality Gates\n\nAutomated validation at each phase:\n- Database migrations\n- Model validations\n- Service patterns\n- Component rendering\n- Test coverage\n\n### Skill Discovery\n\nPlugins auto-discover skills from `.claude/skills/`:\n\n```\n.claude/skills/\nâ”œâ”€â”€ rails-conventions/SKILL.md\nâ”œâ”€â”€ activerecord-patterns/SKILL.md\nâ”œâ”€â”€ service-object-patterns/SKILL.md\nâ””â”€â”€ your-custom-skill/SKILL.md\n```\n\n### Multi-Agent Orchestration\n\nCoordinate specialist agents through hierarchical workflows:\n\n```\nOrchestrator\nâ”œâ”€â”€ Planner (creates implementation plan)\nâ”œâ”€â”€ Inspector (analyzes codebase)\nâ”œâ”€â”€ Executor (coordinates specialists)\nâ”‚   â”œâ”€â”€ Data Lead\nâ”‚   â”œâ”€â”€ Backend Lead\nâ”‚   â”œâ”€â”€ UI Specialist\nâ”‚   â””â”€â”€ Test Specialist\nâ””â”€â”€ Reviewer (validates implementation)\n```\n\n---\n\n## Configuration\n\nCreate project-specific config in `.claude/[plugin-name].local.md`:\n\n```markdown\n---\nenabled: true\nquality_gates_enabled: true\ntest_coverage_threshold: 90\n---\n```\n\nAdd to `.gitignore`:\n```gitignore\n.claude/*.local.md\n```\n\n---\n\n## Repository Structure\n\n```\nrails-enterprise-dev/\nâ”œâ”€â”€ .claude-plugin/\nâ”‚   â””â”€â”€ marketplace.json       # Marketplace manifest\nâ”œâ”€â”€ plugins/\nâ”‚   â”œâ”€â”€ rails-enterprise-dev/  # Enterprise Rails plugin\nâ”‚   â”œâ”€â”€ reactree-rails-dev/    # ReAcTree Rails plugin\nâ”‚   â”œâ”€â”€ reactree-flutter-dev/  # Flutter plugin\nâ”‚   â””â”€â”€ reactree-ios-dev/      # iOS/tvOS plugin\nâ”œâ”€â”€ README.md                  # This file\nâ””â”€â”€ CUSTOMIZATION.md           # Customization guide\n```\n\n---\n\n## Contributing\n\nTo enhance the plugins:\n\n1. Add specialized commands in `plugins/[name]/commands/`\n2. Create skills in `plugins/[name]/skills/`\n3. Add hooks in `plugins/[name]/hooks/`\n4. Improve agents in `plugins/[name]/agents/`\n\n---\n\n## Support\n\n- Documentation: Plugin-specific READMEs in each plugin directory\n- Issues: [Report on GitHub](https://github.com/kaakati/rails-enterprise-dev/issues)\n\n---\n\n## License\n\nMIT\n\n---\n\n**Happy coding!**\n",
        "plugins/rails-enterprise-dev/README.md": "# Rails Enterprise Development Plugin\n\nEnterprise-grade Rails development workflow with multi-agent orchestration, automatic skill discovery, and beads task tracking.\n\n## Features\n\n- ðŸ” **Automatic Skill Discovery** - Uses skills from your project's `.claude/skills/` directory\n- ðŸŽ¯ **Multi-Agent Orchestration** - Coordinates specialist agents through 6-phase workflow\n- ðŸ“‹ **Beads Integration** - Tracks all work with persistent issue tracking\n- âœ… **Quality Gates** - Validates each phase before proceeding\n- ðŸ”„ **Incremental Implementation** - Checkpoints at every layer\n- ðŸŽ¨ **Generic & Portable** - Works with ANY Rails project\n- ðŸ›¡ï¸ **Error Prevention** - Consults skills to avoid common pitfalls\n\n## Quick Start\n\n### Installation\n\nThe plugin is already installed in `.claude/plugins/rails-enterprise-dev/`.\n\n### Basic Usage\n\n```bash\n/rails-dev add JWT authentication with refresh tokens\n```\n\nThis single command:\n1. Discovers skills in your `.claude/skills/`\n2. Creates beads issue for tracking\n3. Analyzes your codebase patterns\n4. Creates implementation plan\n5. Implements in phases with quality validation\n6. Reviews and completes\n\n### Configuration\n\nCreate `.claude/rails-enterprise-dev.local.md` (optional):\n\n```markdown\n---\nenabled: true\nquality_gates_enabled: true\ntest_coverage_threshold: 90\n---\n```\n\n**Add to `.gitignore`**:\n```gitignore\n.claude/*.local.md\n```\n\n## How It Works\n\n### 6-Phase Workflow\n\n```\nPhase 1: Initialization\n  â”œâ”€ Discover skills in .claude/skills/\n  â”œâ”€ Create beads issue (if available)\n  â””â”€ Initialize workflow state\n\nPhase 2: Inspection\n  â”œâ”€ Invoke codebase-inspection skill (if available)\n  â”œâ”€ Invoke rails-conventions skill (if available)\n  â”œâ”€ Invoke domain skills (if available)\n  â””â”€ Analyze existing patterns\n\nPhase 3: Planning\n  â”œâ”€ Invoke rails-error-prevention skill\n  â”œâ”€ Invoke feature-specific skills\n  â””â”€ Create detailed implementation plan\n\nPhase 4: Implementation (Incremental)\n  â”œâ”€ Database â†’ Models â†’ Services â†’ Components â†’ Controllers â†’ Views â†’ Tests\n  â”œâ”€ Each layer: Invoke skills â†’ Delegate to specialist â†’ Validate\n  â””â”€ Quality gates at each checkpoint\n\nPhase 5: Review\n  â””â”€ Chief Reviewer validates entire implementation\n\nPhase 6: Completion\n  â”œâ”€ Close beads issue\n  â””â”€ Provide summary with next steps\n```\n\n### Skill Discovery\n\nThe plugin automatically discovers skills from `.claude/skills/`:\n\n**Core Skills**:\n- `rails-conventions` - Rails patterns\n- `rails-error-prevention` - Preventive checklists\n- `codebase-inspection` - Analysis procedures\n\n**Implementation Skills**:\n- `activerecord-patterns` - Database/models\n- `service-object-patterns` - Service layer\n- `api-development-patterns` - API design\n- `sidekiq-async-patterns` - Background jobs\n- `viewcomponents-specialist` - UI components\n- `hotwire-patterns` - Turbo/Stimulus\n- `tailadmin-patterns` - TailAdmin UI\n- `localization` - i18n\n- `rspec-testing-patterns` - Testing\n\n**Domain Skills** (auto-detected):\n- Any skill not matching known patterns (e.g., `manifest-project-context`)\n\n### Agent Coordination\n\nThe plugin coordinates your project's specialist agents:\n\n- **workflow-orchestrator** - Manages entire workflow\n- **codebase-inspector** - Analyzes project patterns\n- **rails-planner** - Creates implementation plan\n- **implementation-executor** - Coordinates code generation\n\nThese delegate to your project agents:\n- Data Lead, ActiveRecord Specialist (database/models)\n- Backend Lead, API Specialist (services/controllers)\n- Async Specialist (background jobs)\n- UI Specialist, Frontend Lead (components/views)\n- Turbo Hotwire Specialist (real-time features)\n- RSpec Specialist (tests)\n- Chief Reviewer (final validation)\n\n## Commands\n\n### `/rails-dev [feature request]`\n\nMain workflow for feature development.\n\nExamples:\n```bash\n/rails-dev add payment processing with Stripe\n/rails-dev build admin dashboard for user management\n/rails-dev implement real-time notifications\n```\n\n### `/rails-feature [description]`\n\nFeature-driven development with user stories.\n\nExamples:\n```bash\n/rails-feature User can export tasks to CSV\n/rails-feature Admin sees real-time delivery metrics\n```\n\n### `/rails-debug [error]`\n\nSystematic debugging workflow.\n\nExamples:\n```bash\n/rails-debug NoMethodError in TasksController#index\n/rails-debug Slow query on bundles page\n```\n\n### `/rails-refactor [target]`\n\nSafe refactoring with test preservation.\n\nExamples:\n```bash\n/rails-refactor Extract services into smaller classes\n/rails-refactor Optimize N+1 queries in index\n```\n\n## Beads Integration\n\nIf beads is installed (`bd` command available):\n\n**View Progress**:\n```bash\nbd show [issue-id]    # Detailed feature view\nbd ready              # See ready tasks\nbd stats              # Project statistics\nbd list --status in_progress  # Active work\n```\n\n**Install Beads** (if not installed):\n```bash\nnpm install -g @beads/cli\nbd init\n```\n\nWithout beads, workflow continues with manual tracking.\n\n## Quality Gates\n\nWhen `quality_gates_enabled: true`, each phase validated:\n\n**Database**: Migrations run, rollback works\n**Models**: Load successfully, specs pass\n**Services**: Pattern correct, tests pass\n**Components**: Methods exposed, renders without errors\n**Controllers**: Routes defined, specs pass\n**Views**: Only calls exposed methods\n**Tests**: All pass, coverage > threshold\n\nTo disable temporarily:\n```markdown\n# .claude/rails-enterprise-dev.local.md\n---\nquality_gates_enabled: false\n---\n```\n\n## Customization\n\n### Adding Project Skills\n\n1. Create skill directory:\n```bash\nmkdir -p .claude/skills/my-custom-patterns\n```\n\n2. Add `SKILL.md`:\n```markdown\n---\nname: My Custom Patterns\ndescription: Our team's coding standards\n---\n\n# My Custom Patterns\n\n## Service Layer\n- Always use dry-transaction gem\n- Include logging in all services\n...\n```\n\n3. Plugin auto-discovers on next run!\n\n### Skill Naming for Auto-Categorization\n\n**Data layer**: `activerecord-*`, `*-model*`, `*-database*`\n**Service layer**: `service-*`, `*-service-*`, `api-*`\n**UI**: `*-component*`, `*-view*`, `*-ui-*`, `hotwire-*`\n**Domain**: Anything else (e.g., `ecommerce-domain`, `healthcare-context`)\n\nSee `CUSTOMIZATION.md` for more details.\n\n## Troubleshooting\n\n### Workflow Interrupted\n\nState saved in `.claude/rails-enterprise-dev.local.md`. Check:\n```bash\ncat .claude/rails-enterprise-dev.local.md\n```\n\nResume workflow by re-running command.\n\n### Skills Not Being Used\n\n1. Verify skills exist: `ls .claude/skills/`\n2. Check skill has `SKILL.md` file\n3. Restart Claude Code\n4. Re-run command\n\n### Quality Gates Too Strict\n\nTemporarily disable in settings:\n```yaml\nquality_gates_enabled: false\n```\n\nOr manually override when prompted.\n\n### Beads Issues\n\n- Install: `npm install -g @beads/cli`\n- Initialize: `bd init`\n- Check status: `bd stats`\n\nWorkflow continues without beads if unavailable.\n\n## Multi-Project Usage\n\nThe plugin is **generic and portable**:\n\n**Project A** (Manifest LMS):\n- Has 15 skills including `manifest-project-context`\n- Plugin uses all skills for domain-aware implementation\n\n**Project B** (Simple API):\n- Has 5 basic skills\n- Plugin adapts, uses what's available\n\n**Project C** (Different UI):\n- Has `bootstrap-patterns` instead of `tailadmin-patterns`\n- Plugin uses Bootstrap patterns for UI\n\nSame plugin, adapts to each project!\n\n## Architecture\n\n```\nPlugin discovers skills â†’ Coordinates agents â†’ Tracks with beads\n\nSkills (project-specific)\n  â†“ provide guidance\nAgents (plugin-provided)\n  â†“ coordinate\nSpecialists (project-provided)\n  â†“ implement code\n```\n\n**Separation of concerns**:\n- Plugin: Workflow orchestration\n- Skills: Project patterns and conventions\n- Agents: Coordination logic\n- Specialists: Code generation\n\n## Files\n\n```\n.claude/plugins/rails-enterprise-dev/\nâ”œâ”€â”€ agents/\nâ”‚   â”œâ”€â”€ workflow-orchestrator.md       # Main coordinator\nâ”‚   â”œâ”€â”€ codebase-inspector.md          # Pattern analysis\nâ”‚   â”œâ”€â”€ rails-planner.md               # Implementation planning\nâ”‚   â””â”€â”€ implementation-executor.md     # Phase execution\nâ”œâ”€â”€ commands/\nâ”‚   â”œâ”€â”€ rails-dev.md                   # Main workflow\nâ”‚   â”œâ”€â”€ rails-feature.md               # Feature variant\nâ”‚   â”œâ”€â”€ rails-debug.md                 # Debug variant\nâ”‚   â””â”€â”€ rails-refactor.md              # Refactor variant\nâ”œâ”€â”€ skills/\nâ”‚   â”œâ”€â”€ skill-discovery/SKILL.md       # How skill discovery works\nâ”‚   â”œâ”€â”€ workflow-orchestration/SKILL.md  # Agent coordination\nâ”‚   â””â”€â”€ beads-integration/SKILL.md     # Task tracking patterns\nâ””â”€â”€ hooks/\n    â””â”€â”€ scripts/\n        â”œâ”€â”€ discover-skills.sh         # Skill scanner\n        â”œâ”€â”€ detect-rails-context.sh    # Auto-suggest workflow\n        â”œâ”€â”€ validate-implementation.sh # Quality gates\n        â””â”€â”€ track-progress.sh          # Beads updates\n```\n\n## Contributing\n\nTo enhance the plugin:\n\n1. Add more specialized commands in `commands/`\n2. Create additional skills in `skills/`\n3. Add hooks for automation in `hooks/`\n4. Improve agents in `agents/`\n\n## Support\n\n- Documentation: This file + `CUSTOMIZATION.md`\n- Skill patterns: `.claude/skills/*/SKILL.md` in your project\n- Issues: [Report on GitHub]\n\n## Version\n\n**v1.0.0** - Initial release\n\n## License\n\nMIT\n\n---\n\n**Happy Rails development!** ðŸš€\n",
        "plugins/reactree-rails-dev/README.md": "# reactree-rails-dev\n\nReAcTree-based hierarchical agent orchestration for Ruby on Rails development.\n\n## Overview\n\nThis plugin implements research from [\"ReAcTree: Hierarchical LLM Agent Trees with Control Flow for Long-Horizon Task Planning\"](https://arxiv.org/html/2511.02424v1) to provide intelligent, adaptive Rails development workflows.\n\n**Key Research Finding**: ReAcTree achieved **61% success rate vs 31% for monolithic approaches** (97% improvement) on long-horizon planning tasks through hierarchical decomposition with control flow nodes and dual memory systems.\n\n## Key Features\n\n### ðŸš€ 30-50% Faster Execution\n- **Parallel execution** of independent phases (Services + Components + Tests run concurrently)\n- **Intelligent dependency analysis** identifies parallelization opportunities\n- **Time savings**: ~40 minutes on medium features (125min â†’ 85min)\n\n### ðŸ§  Intelligent Memory Systems\n\n**Working Memory**:\n- Eliminates redundant codebase analysis (no repeated `rg/grep` calls)\n- Shares verified facts across all agents (auth helpers, route prefixes, patterns)\n- 100% consistency (all agents use identical verified facts)\n\n**Episodic Memory**:\n- Learns from successful executions\n- Reuses proven approaches for similar tasks\n- 15-30% faster on repeat similar features\n\n### ðŸ’ª Resilient Workflows\n- **Fallback patterns** handle transient failures gracefully\n- Workflows don't fail on network issues or missing resources\n- Graceful degradation to best available option\n\n## vs rails-enterprise-dev\n\n| Feature | rails-enterprise-dev | reactree-rails-dev |\n|---------|---------------------|-------------------|\n| **Execution** | Sequential | **Parallel** âœ¨ |\n| **Memory** | None | **Working + Episodic** âœ¨ |\n| **Speed** | Baseline | **30-50% faster** âœ¨ |\n| **Learning** | No | **Yes** âœ¨ |\n| **Fallbacks** | Limited | **Full support** âœ¨ |\n| **Skill Reuse** | Own skills | **Reuses rails-enterprise-dev skills** |\n| **Approach** | Fixed workflow | **Adaptive hierarchy** |\n\n---\n\n## What's New in v2.8.0\n\n### ðŸ›¡ï¸ Guardian Validation Cycle\n- **Automatic type safety validation** after Phase 4 implementation\n- **Iterative fix-validate cycle** (max 3 iterations) with Sorbet\n- **Blocks progression** if type errors remain unresolved\n- **Auto-logs violations** to `.claude/guardian-fixes.log`\n- **Graceful degradation** if Sorbet not available\n\n### ðŸ” Comprehensive Quality Gates\n- **Solargraph**: LSP diagnostics via cclsp MCP (undefined methods, constants)\n- **Sorbet**: Static type checking with gradual adoption (`# typed: false/true/strict`)\n- **Rubocop**: Style enforcement with auto-fix suggestions\n- **Blocking validation**: Exit 1 prevents progress until violations fixed\n- **Phase 4 integration**: Validates after each implementation layer\n\n### ðŸ“‹ Requirements Translation\n- **User story extraction**: \"As a... I want... So that...\" format\n- **Automatic acceptance criteria parsing**: Given/When/Then BDD format\n- **Component detection**: Identifies technical components from prompts\n- **Beads task breakdown**: Auto-creates epic and subtasks\n- **Smart routing**: Routes to appropriate workflow based on intent\n\n### ðŸ”— Real-time Validation Hooks\n- **PreToolUse**: Syntax validation **before** edits (prevents breaking changes)\n- **PostToolUse**: Immediate feedback **after** writes (syntax, rubocop, sorbet)\n- **File-specific**: Only validates Ruby files (`*.rb`)\n- **Non-blocking**: Post-write validation informs but doesn't block\n\n### âš™ï¸ Configuration\n\nCreate `.claude/reactree-rails-dev.local.md`:\n\n```yaml\n---\nenabled: true\nquality_gates_enabled: true\nguardian_enabled: true\nvalidation_level: blocking  # blocking, warning, advisory\ntest_coverage_threshold: 90\nsmart_detection_enabled: true\ndetection_mode: suggest\nuse_claude_analysis: true\nrequirements_extraction_enabled: true\nauto_create_beads_tasks: true\nguardian_max_iterations: 3\n---\n```\n\n**Validation Levels**:\n- `blocking`: Exit 1 - prevent commits/edits with violations (default)\n- `warning`: Exit 2 - alert but allow with violations\n- `advisory`: Exit 0 - display results only\n\n### ðŸ“š New Skills\n\n**code-quality-gates** (`skills/code-quality-gates/`):\n- Comprehensive guide to Solargraph, Sorbet, and Rubocop\n- Integration patterns for quality gates\n- Auto-fix strategies and troubleshooting\n\n**requirements-engineering** (`skills/requirements-engineering/`):\n- User story format detection and extraction\n- Task breakdown strategies\n- Beads integration patterns\n- Intent classification algorithms\n\n### ðŸš€ Workflow Enhancements\n\n**Phase 4.7: Guardian Validation Cycle** (new phase):\n- Runs automatically after Phase 4 implementation\n- Comprehensive Sorbet type checking on all modified files\n- Iterative fix-validate workflow\n- Blocks feature until type safety confirmed\n\n**Enhanced Phase 4 Quality Gates**:\n- Calls `validate-implementation.sh` after each layer\n- Validates with Solargraph, Sorbet, and Rubocop\n- Exit codes control workflow progression\n\n### ðŸŽ¯ Usage Example\n\n```bash\n# 1. User provides natural language requirement\nUser: \"As a developer I want JWT authentication with refresh tokens so that users can securely log in\"\n\n# 2. Smart detection extracts requirements\nðŸ“ User story detected, extracting requirements...\nâœ… Requirements extracted to .claude/extracted-requirements.md\n\n# 3. Beads tasks auto-created (if enabled)\nðŸ“‹ Creating beads tasks from requirements...\nâœ… Created epic: AUTH-001\n  âœ… Created task: AUTH-002 - Add User authentication columns\n  âœ… Created task: AUTH-003 - Implement JWT token generation\n  âœ… Created task: AUTH-004 - Create AuthService for login/refresh\n  âœ… Created task: AUTH-005 - Add login endpoint\n  âœ… Created task: AUTH-006 - Add RSpec tests\nðŸŽ¯ Epic AUTH-001 created with subtasks\n\n# 4. Run workflow\n/reactree-dev\n\n# 5. Quality gates validate each layer\nðŸ” Phase Models Quality Gate\nâœ… Solargraph validation passed\nâœ… Sorbet type checking passed\nâœ… Rubocop validation passed\nâœ… All validations passed\n\n# 6. Guardian validates after implementation\nðŸ›¡ï¸  Guardian Validation Cycle\nâœ… Guardian validation passed - type safety confirmed\nType-safe code ready for review.\n```\n\n---\n\n## Installation\n\n### Prerequisites\n\n- **Claude Code CLI** (>=1.0.0)\n- **Ruby on Rails project** (Rails 6.x, 7.x, or 8.x)\n- **Beads issue tracker** (`bd` CLI) - Optional but recommended\n\n### Quick Install\n\n```bash\n# In your Rails project root\nmkdir -p .claude/plugins\ncp -r /path/to/reactree-rails-dev .claude/plugins/\n\n# Or clone directly\ngit clone https://github.com/kaakati/rails-enterprise-dev.git /tmp/rails-enterprise-dev\ncp -r /tmp/rails-enterprise-dev/plugins/reactree-rails-dev .claude/plugins/\n```\n\n### Verify Installation\n\n```bash\nls .claude/plugins/reactree-rails-dev/\n# Should show: agents/ commands/ skills/ hooks/ README.md\n```\n\n---\n\n## Getting Started\n\n### Step 1: Initialize the Plugin\n\nRun the initialization command in Claude Code:\n\n```\n/reactree-init\n```\n\nThis command performs 5 phases:\n\n#### Phase 1: Validate Plugin Installation\n- Checks plugin is correctly installed\n- Verifies `${CLAUDE_PLUGIN_ROOT}` environment variable\n- Confirms hooks are configured\n\n#### Phase 2: Set Up Skills Directory\n- Checks if `.claude/skills/` exists\n- **If missing**: Offers to copy 17 bundled skills to your project\n- **If exists**: Lists discovered skills by category\n\n#### Phase 3: Create Configuration\nCreates `.claude/reactree-rails-dev.local.md` with:\n```yaml\n---\nenabled: true\nquality_gates_enabled: true\ntest_coverage_threshold: 90\nauto_commit: false\nsmart_detection_enabled: true\ndetection_mode: suggest\nuse_claude_analysis: true\n---\n```\n\n#### Phase 4: Initialize Memory Files\nCreates 4 memory files in `.claude/`:\n- `reactree-memory.jsonl` - Working memory (shared facts)\n- `reactree-episodes.jsonl` - Episodic memory (successful patterns)\n- `reactree-feedback.jsonl` - FEEDBACK edge state\n- `reactree-state.jsonl` - Control flow state (LOOP/CONDITIONAL)\n\n#### Phase 5: Status Report\nDisplays comprehensive initialization summary:\n```\nðŸš€ ReAcTree Plugin Initialized!\n\nâ”â”â” Prerequisites â”â”â”\nâœ… Plugin: /path/to/.claude/plugins/reactree-rails-dev\nâœ… Hooks: SessionStart, UserPromptSubmit\nâœ… Config: .claude/reactree-rails-dev.local.md\n\nâ”â”â” Skills Discovered (17) â”â”â”\nðŸ“¦ Core: rails-conventions, rails-error-prevention, codebase-inspection\nðŸ’¾ Data: activerecord-patterns\nâš™ï¸ Service: service-object-patterns, sidekiq-async-patterns, api-development-patterns\nðŸŽ¨ UI: hotwire-patterns, viewcomponents-specialist, tailadmin-patterns\nðŸ§ª Testing: rspec-testing-patterns\nðŸŒ Domain: localization, requirements-writing, ruby-oop-patterns\nðŸ”§ Meta: reactree-patterns, smart-detection\n\nâ”â”â” Memory Files â”â”â”\nâœ… Working memory initialized\nâœ… Episodic memory initialized\nâœ… Feedback state initialized\nâœ… Control flow state initialized\n\nSmart detection is now active!\n```\n\n### Step 2: Start Using Commands\n\nAfter initialization, you have access to 4 color-coded commands:\n\n| Command | Color | Purpose |\n|---------|-------|---------|\n| `/reactree-dev` | ðŸŸ¢ Green | Full-featured development workflow |\n| `/reactree-feature` | ðŸ”µ Cyan | User story & TDD-focused development |\n| `/reactree-debug` | ðŸŸ  Orange | Systematic debugging with log analysis |\n| `/reactree-refactor` | ðŸŸ¡ Yellow | Safe refactoring with test preservation |\n\n---\n\n## Usage\n\n### Command 1: `/reactree-dev` (Green)\n\n**Primary development workflow** for building new features with parallel execution.\n\n#### Trigger Words\n```\nadd, implement, build, create, develop, integrate, set up, configure\n```\n\n#### Examples\n```bash\n# Authentication\n/reactree-dev add JWT authentication with refresh tokens\n/reactree-dev implement OAuth2 login with Google\n\n# APIs\n/reactree-dev create REST API for user management\n/reactree-dev build webhook receiver for Stripe events\n\n# Real-time\n/reactree-dev add real-time notifications with Action Cable\n/reactree-dev implement live chat feature\n\n# Background Jobs\n/reactree-dev implement Sidekiq job for report generation\n/reactree-dev add async email processing\n\n# UI\n/reactree-dev add Hotwire-powered search with autocomplete\n/reactree-dev create ViewComponent for user card\n\n# Data\n/reactree-dev add Order model with polymorphic associations\n/reactree-dev create migration for multi-tenant schema\n```\n\n#### What Happens\n1. **Phase 0: Setup** - Discovers skills, initializes working memory\n2. **Phase 2: Inspection** - Analyzes codebase patterns with `codebase-inspector`\n3. **Phase 3: Planning** - Creates parallel execution plan with `rails-planner`\n4. **Phase 3.5: Context Compilation** - Extracts interfaces with `context-compiler` (if cclsp available)\n5. **Phase 4: Implementation** - Generates code with `implementation-executor` + Guardian validation\n6. **Phase 5: Review** - Validates with `test-oracle`\n7. **Phase 6: Completion** - Records to episodic memory\n\n---\n\n### Command 2: `/reactree-feature` (Cyan)\n\n**Feature-driven development** with user stories, acceptance criteria, and TDD emphasis.\n\n#### Trigger Words\n```\nuser story, as a user, feature, user can, customers should, acceptance criteria\n```\n\n#### Examples\n```bash\n# User Story Format\n/reactree-feature As a user I can export my tasks to CSV\n/reactree-feature As an admin I can view user activity logs\n/reactree-feature Users should be able to reset their password via email\n\n# Feature Requests\n/reactree-feature Add export functionality for reports\n/reactree-feature Implement bulk import from spreadsheet\n/reactree-feature Build real-time dashboard with live metrics\n\n# UI Features\n/reactree-feature Add drag-and-drop task reordering\n/reactree-feature Create interactive chart for sales data\n\n# Domain Features\n/reactree-feature Add multi-tenant support with subdomain routing\n/reactree-feature Implement Arabic RTL language support\n/reactree-feature Create role-based access control system\n```\n\n#### What Happens\n1. **Feature Definition** - Parses user story, generates acceptance criteria\n2. **TDD Planning** - Designs tests BEFORE implementation\n3. **Implementation** - Builds feature to pass acceptance tests\n4. **Validation** - Verifies ALL acceptance criteria met\n\n---\n\n### Command 3: `/reactree-debug` (Orange)\n\n**Systematic debugging** with log analysis, root cause identification, and regression prevention.\n\n#### Trigger Words\n```\nfix, debug, error, bug, issue, broken, not working, failing, crash, exception\n```\n\n#### Examples\n```bash\n# Error Messages\n/reactree-debug NoMethodError in TasksController#index\n/reactree-debug ArgumentError: wrong number of arguments\n/reactree-debug ActiveRecord::RecordNotFound in UsersController#show\n\n# Symptoms\n/reactree-debug Users can't login after password reset\n/reactree-debug Page loads but data is missing\n/reactree-debug Button click does nothing\n\n# Performance\n/reactree-debug Slow query on bundles index page\n/reactree-debug Request timeout on dashboard load\n/reactree-debug N+1 query detected in reports\n\n# Integration\n/reactree-debug API returns 500 for valid request\n/reactree-debug Sidekiq job keeps failing with retry\n```\n\n#### What Happens\n1. **Error Capture** - Reproduces error, captures stack trace\n2. **Investigation** - Uses `log-analyzer` and `codebase-inspector`\n3. **Root Cause** - Uses `code-line-finder` for precise location\n4. **Fix Planning** - Designs minimal fix\n5. **Implementation** - Applies fix with FEEDBACK edges\n6. **Regression Test** - Adds test to prevent recurrence\n7. **Verification** - Confirms fix, runs full suite\n\n---\n\n### Command 4: `/reactree-refactor` (Yellow)\n\n**Safe refactoring** with test preservation, reference tracking, and automatic rollback.\n\n#### Trigger Words\n```\nrefactor, rename, move, extract, inline, reorganize, clean up, improve\n```\n\n#### Examples\n```bash\n# Extract\n/reactree-refactor PaymentService extract method for charge logic\n/reactree-refactor OrdersController extract service object\n\n# Rename\n/reactree-refactor User model rename email_address to email\n/reactree-refactor rename calculate_total to compute_order_total\n\n# Move\n/reactree-refactor OrdersController move business logic to service\n/reactree-refactor move helper methods to concern\n\n# Inline\n/reactree-refactor legacy_helper.rb inline and delete\n/reactree-refactor inline unused private method\n\n# Pattern Changes\n/reactree-refactor replace conditional with polymorphism in PaymentProcessor\n```\n\n#### What Happens\n1. **Pre-Flight** - Runs tests, must be GREEN\n2. **Reference Discovery** - Uses `code-line-finder` to find ALL usages\n3. **Safe Transformation** - Incremental changes with tests after each\n4. **Verification** - Coverage not degraded, all tests pass\n5. **Completion** - Detailed commit message\n\n---\n\n### Auto-Triggering (Smart Detection)\n\nOnce initialized, the plugin automatically suggests workflows based on your prompts:\n\n| Your Prompt | Suggested Workflow |\n|-------------|-------------------|\n| \"Add user authentication\" | `/reactree-dev` |\n| \"As a user I can export...\" | `/reactree-feature` |\n| \"Fix the login bug\" | `/reactree-debug` |\n| \"Refactor the user service\" | `/reactree-refactor` |\n| \"Find the payment controller\" | `file-finder` agent |\n\n#### Configuration\nIn `.claude/reactree-rails-dev.local.md`:\n```yaml\nsmart_detection_enabled: true   # Enable/disable auto-detection\ndetection_mode: suggest         # suggest | inject | disabled\nannoyance_threshold: medium     # low | medium | high\nuse_claude_analysis: true       # Use Claude CLI for intelligent intent analysis\n```\n\n## Architecture\n\n### Control Flow Nodes\n\n**Sequence** (dependencies exist):\n```\nDatabase â†’ Models â†’ Services â†’ Controllers\n```\n\n**Parallel** (independent work):\n```\nAfter Models Complete:\n  â”œâ”€â”€ Services (uses models) â”\n  â”œâ”€â”€ Components (uses models) â”œ Run concurrently!\n  â””â”€â”€ Model Tests (tests models) â”˜\n```\n\n**Fallback** (resilience):\n```\nFetch TailAdmin patterns:\n  Primary: GitHub repo\n  â†“ (if fails)\n  Fallback1: Local cache\n  â†“ (if fails)\n  Fallback2: Generic Tailwind\n  â†“ (if fails)\n  Fallback3: Warn + Use plain HTML\n```\n\n**LOOP** (iterative refinement - NEW in v1.1):\n```\nTDD Cycle (max 3 iterations):\n  LOOP until tests pass:\n    1. Run RSpec tests\n    2. IF failing â†’ Fix code\n    3. IF passing â†’ Break\n\nIteration 1: 5 tests, 2 failures â†’ Fix\nIteration 2: 5 tests, 0 failures â†’ DONE âœ“\n```\n\n**CONDITIONAL** (branching - NEW in v1.1):\n```\nIF integration tests pass:\n  THEN: Deploy to staging\n  ELSE: Debug failures\n\nResult: Tests passing â†’ Deployed âœ“\n```\n\n### Memory Systems\n\n**Working Memory** (`.claude/reactree-memory.jsonl`):\n```json\n{\n  \"key\": \"admin.current_user\",\n  \"value\": {\"name\": \"current_administrator\", \"file\": \"...\"},\n  \"agent\": \"codebase-inspector\"\n}\n```\n\n**Episodic Memory** (`.claude/reactree-episodes.jsonl`):\n```json\n{\n  \"subgoal\": \"stripe_payment_integration\",\n  \"patterns_applied\": [\"Callable service\", \"Retry logic\"],\n  \"learnings\": [\"Webhooks need idempotency keys\"]\n}\n```\n\n## Performance Benchmarks\n\n### Time Savings (Medium Feature)\n\n**Traditional Sequential Workflow**:\n```\nDatabase:    10 min\nModels:      15 min\nServices:    20 min â† waiting\nComponents:  25 min â† waiting\nJobs:        10 min â† waiting\nControllers: 15 min â† waiting\nViews:       10 min â† waiting\nTests:       20 min â† waiting\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nTOTAL:      125 min\n```\n\n**ReAcTree Parallel Workflow**:\n```\nGroup 0: Database         10 min\nGroup 1: Models           15 min\nGroup 2 (PARALLEL):       25 min (max of Services:20, Components:25, Tests:15)\nGroup 3 (PARALLEL):       15 min (max of Jobs:10, Controllers:15)\nGroup 4: Views            10 min\nGroup 5: Integration      20 min\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nTOTAL:                    85 min\nSAVED:                    40 min (32% faster)\n```\n\n### Memory Efficiency\n\n**Without Working Memory** (current):\n- Context verification: 5-8 `rg/grep` operations Ã— 4 agents = 20-32 operations\n- Time: ~3-5 minutes wasted on redundant analysis\n\n**With Working Memory** (ReAcTree):\n- Context verification: 5-8 operations Ã— 1 agent (inspector) = 5-8 operations\n- Time: ~30 seconds (cached reads for other agents)\n- **Savings**: 2.5-4.5 minutes per workflow\n\n## Requirements\n\n### Skills (Reused from rails-enterprise-dev)\n\nThis plugin **reuses existing Rails skills** - no duplication needed:\n\n- `activerecord-patterns` - Database and model conventions\n- `service-object-patterns` - Business logic patterns\n- `hotwire-patterns` - Turbo/Stimulus patterns\n- `rspec-testing-patterns` - Testing strategies\n- `rails-conventions` - Rails best practices\n- `rails-error-prevention` - Common mistake prevention\n\n### Beads Issue Tracker\n\nUses `bd` CLI for task tracking:\n```bash\n# Install beads\nnpm install -g @beads/cli\n\n# Initialize in project\nbd init\n```\n\n## Rules System\n\n### Overview\n\nThe Rules system provides **path-specific, context-aware guidance** that automatically loads based on the file you're editing. This dramatically reduces context overhead while improving relevance.\n\n**Key Benefits**:\n- âœ… **60-70% reduction in context overhead** - Only relevant rules load\n- âœ… **Hyper-targeted guidance** - Rules specific to file type (models vs controllers vs tests)\n- âœ… **Automatic activation** - No manual selection needed\n- âœ… **Project customizable** - Override or extend rules per project\n- âœ… **Works with skills** - Complementary to existing skills system\n\n### How It Works\n\nRules use glob patterns in YAML frontmatter to match file paths:\n\n```markdown\n---\npaths: app/models/**/*.rb\n---\n\n# Model Rules\n\nYour model-specific guidance here...\n```\n\nWhen you edit `app/models/user.rb`, the model rules automatically load. When you edit `app/controllers/users_controller.rb`, controller rules load instead.\n\n### Bundled Rules\n\nThe plugin includes 13+ production-ready rule files:\n\n#### Rails Layer Rules (`rules/rails/`)\n- **models.md** (`app/models/**/*.rb`)\n  - Integer enum patterns (CRITICAL: array syntax, ordering rules)\n  - Association patterns (belongs_to, has_many, dependent options)\n  - Validation patterns (presence, uniqueness, custom)\n  - Callback patterns (after_create_commit, before_validation)\n\n- **controllers.md** (`app/controllers/**/*.rb`)\n  - RESTful action patterns (index, show, create, update, destroy)\n  - Strong parameters (permit, require)\n  - Before actions and filters\n  - Response formats (JSON, HTML, Turbo Stream)\n\n- **services.md** (`{app/services,lib/services}/**/*.rb`)\n  - Service object structure (initialize, call, Result pattern)\n  - Dependency injection patterns\n  - Idempotency and retry logic\n  - Error handling and recovery\n\n- **jobs.md** (`app/jobs/**/*.rb`)\n  - Sidekiq job patterns (queue_as, retry_on, discard_on)\n  - Idempotent job design\n  - Small payload patterns (pass IDs, not objects)\n  - Error handling and dead queues\n\n- **mailers.md** (`app/mailers/**/*.rb`)\n  - Action Mailer patterns (mail, default, attachments)\n  - Layout and template conventions\n  - Preview patterns\n  - Delivery methods\n\n- **channels.md** (`app/channels/**/*.rb`)\n  - Action Cable security (ALWAYS authorize in subscribed)\n  - Stream patterns (stream_from, stream_for, stop_all_streams)\n  - Lifecycle callbacks (before_subscribe, after_unsubscribe)\n  - Broadcasting patterns (persist first, broadcast second)\n  - Presence tracking and client actions\n\n#### Frontend Rules (`rules/frontend/`)\n- **components.md** (`app/components/**/*.rb`)\n  - ViewComponent delegation patterns (CRITICAL: use delegate, never expose @service)\n  - Template requirements (every component needs .html.erb)\n  - Slot patterns\n  - Testing patterns\n\n- **stimulus.md** (`app/javascript/**/*_controller.js`)\n  - Controller naming conventions\n  - Target and value patterns\n  - Action patterns\n  - Lifecycle callbacks (connect, disconnect)\n  - Accessibility requirements (keyboard navigation, ARIA)\n\n#### Testing Rules (`rules/testing/`)\n- **model-specs.md** (`spec/models/**/*_spec.rb`)\n  - shoulda-matchers patterns (associations, validations)\n  - Enum testing\n  - Scope testing\n  - Callback testing\n\n- **request-specs.md** (`spec/requests/**/*_spec.rb`)\n  - Request spec structure (GET, POST, PATCH, DELETE)\n  - Authentication testing\n  - Authorization testing (account scoping)\n  - Response assertions\n\n- **system-specs.md** (`spec/system/**/*_spec.rb`)\n  - Capybara patterns (visit, fill_in, click_button)\n  - JavaScript testing (driven_by :selenium_chrome_headless)\n  - User flow testing\n  - Assertion patterns\n\n#### Database Rules (`rules/database/`)\n- **migrations.md** (`db/migrate/**/*.rb`)\n  - Reversible migrations (change vs up/down)\n  - Index patterns (ALWAYS index foreign keys)\n  - Concurrent indexes (algorithm: :concurrently)\n  - Data migrations vs schema migrations\n\n#### Quality Gates (`rules/quality-gates/`)\n- **security.md** (`**/*.rb`)\n  - SQL injection prevention (parameterized queries)\n  - Mass assignment protection (strong parameters)\n  - XSS prevention (sanitize, never html_safe on user input)\n  - Authentication patterns (Devise, has_secure_password)\n  - Authorization patterns (scope queries to current_user)\n\n- **performance.md** (`**/*.rb`)\n  - N+1 query prevention (includes, eager_load)\n  - Database indexing (foreign keys, frequently queried columns)\n  - Caching strategies (fragment, Russian doll, low-level)\n  - Background jobs (move slow operations to Sidekiq)\n  - Query optimization (select only needed columns, batch processing)\n\n- **accessibility.md** (`{app/components/**/*.{rb,erb},app/views/**/*.erb}`)\n  - WCAG 2.2 Level AA compliance\n  - Keyboard navigation (tabindex, focus management)\n  - ARIA attributes (labels, live regions, roles)\n  - Color contrast requirements (4.5:1 for text, 3:1 for UI)\n  - Form accessibility (label for, error messages, fieldsets)\n  - Semantic HTML (header, nav, main, article, aside, footer)\n\n### Rules vs Skills\n\n**Rules** and **Skills** serve different purposes:\n\n| Aspect | Rules | Skills |\n|--------|-------|--------|\n| **Scope** | File-specific | Agent/workflow-level |\n| **Loading** | Automatic (by file path) | Manual (by agent) |\n| **Size** | Small (50-500 lines) | Large (500-1500 lines) |\n| **Purpose** | Concrete patterns | Orchestration knowledge |\n| **Examples** | Enum syntax, controller structure | Workflow patterns, agent coordination |\n\n**When to use Rules**:\n- âœ… Layer-specific conventions (models, controllers, services)\n- âœ… File-type patterns (specs, migrations, components)\n- âœ… Quality gates (security, performance, accessibility)\n\n**When to use Skills**:\n- âœ… Cross-cutting concerns (error prevention, codebase inspection)\n- âœ… Workflow orchestration (ReAcTree patterns, beads integration)\n- âœ… Agent coordination (skill discovery, smart detection)\n\n### Customization\n\nRules are **project-specific** and can be customized:\n\n#### Override Bundled Rules\n\nEdit files in `.claude/rules/`:\n```bash\n# Edit model rules for your project\nvim .claude/rules/rails/models.md\n```\n\nChanges only affect the current project.\n\n#### Add Custom Rules\n\nCreate new rule files:\n```bash\n# Add custom API rules\ncat > .claude/rules/api-design.md <<'EOF'\n---\npaths: app/controllers/api/**/*.rb\n---\n\n# API Design Patterns\n\nYour custom API patterns here...\nEOF\n```\n\n#### Disable Specific Rules\n\nRemove unwanted rule files:\n```bash\n# Don't need accessibility rules\nrm .claude/rules/quality-gates/accessibility.md\n```\n\n### Initialization\n\nRules are automatically initialized by `/reactree-init`:\n\n```bash\n# Initialize plugin (includes rules setup)\n/reactree-init\n```\n\nThis creates `.claude/rules/` and copies bundled rules from the plugin.\n\n**Manual setup** (if needed):\n```bash\n# Create rules directory\nmkdir -p .claude/rules\n\n# Copy bundled rules from plugin\ncp -r ${CLAUDE_PLUGIN_ROOT}/rules/* .claude/rules/\n```\n\n### Glob Pattern Examples\n\nRules use glob patterns to match file paths:\n\n```yaml\n# Single directory\npaths: app/models/**/*.rb\n\n# Multiple patterns\npaths: \"{app/services,lib/services}/**/*.rb\"\n\n# Specific file types\npaths: \"app/components/**/*.{rb,erb}\"\n\n# All Ruby files (quality gates)\npaths: \"**/*.rb\"\n\n# All views and components (accessibility)\npaths: \"{app/components/**/*.{rb,erb},app/views/**/*.erb}\"\n```\n\n### Best Practices\n\n1. **Keep rules focused** - One concern per file (models, controllers, etc.)\n2. **Use concrete examples** - Show good and bad patterns with code\n3. **Document critical patterns** - Mark CRITICAL for must-follow rules\n4. **Update as needed** - Rules evolve with your project\n5. **Test in isolation** - Verify rules load for specific file types\n\n## Configuration\n\n### Custom Skill Directory\n\nIf your skills are in a custom location:\n\n```bash\nexport CLAUDE_SKILLS_DIR=\"/path/to/custom/skills\"\n```\n\n### Memory File Locations\n\nDefault locations (created automatically):\n- Working memory: `.claude/reactree-memory.jsonl`\n- Episodic memory: `.claude/reactree-episodes.jsonl`\n\n## Troubleshooting\n\n### \"Skills not found\" Error\n\n**Cause**: Plugin can't find Rails skills\n\n**Solution**:\n```bash\n# Ensure skills exist\nls .claude/skills/\n\n# If using rails-enterprise-dev, copy skills\ncp -r /path/to/rails-enterprise-dev/skills/* .claude/skills/\n```\n\n### Memory File Corruption\n\n**Cause**: Malformed JSON in memory file\n\n**Solution**:\n```bash\n# Backup current memory\ncp .claude/reactree-memory.jsonl .claude/reactree-memory.jsonl.backup\n\n# Validate and clean\ncat .claude/reactree-memory.jsonl | jq . > .claude/reactree-memory-clean.jsonl\nmv .claude/reactree-memory-clean.jsonl .claude/reactree-memory.jsonl\n```\n\n### Parallel Execution Not Working\n\n**Note**: True parallel execution depends on Claude Code support. Currently tracks phases as \"parallel groups\" for infrastructure readiness.\n\n**Workaround**: Sequential execution with parallel tracking (still faster due to working memory)\n\n## Development\n\n### File Structure\n\n```\nplugins/reactree-rails-dev/\nâ”œâ”€â”€ .claude-plugin/\nâ”‚   â””â”€â”€ plugin.json              # Plugin manifest\nâ”œâ”€â”€ agents/\nâ”‚   â”œâ”€â”€ workflow-orchestrator.md # Master workflow coordinator\nâ”‚   â”œâ”€â”€ codebase-inspector.md    # Pattern analysis agent\nâ”‚   â”œâ”€â”€ rails-planner.md         # Implementation planning\nâ”‚   â”œâ”€â”€ context-compiler.md      # LSP-powered context extraction (haiku)\nâ”‚   â”œâ”€â”€ implementation-executor.md # Code generation coordinator\nâ”‚   â”œâ”€â”€ test-oracle.md           # TDD/test validation agent\nâ”‚   â”œâ”€â”€ feedback-coordinator.md  # FEEDBACK edge management\nâ”‚   â”œâ”€â”€ control-flow-manager.md  # LOOP/CONDITIONAL execution\nâ”‚   â”œâ”€â”€ file-finder.md           # Fast file discovery (haiku)\nâ”‚   â”œâ”€â”€ code-line-finder.md      # LSP-based code location (haiku)\nâ”‚   â”œâ”€â”€ git-diff-analyzer.md     # Git change analysis (sonnet)\nâ”‚   â””â”€â”€ log-analyzer.md          # Rails log parsing (haiku)\nâ”œâ”€â”€ commands/\nâ”‚   â”œâ”€â”€ reactree-dev.md          # Main development workflow\nâ”‚   â”œâ”€â”€ reactree-feature.md      # Feature-driven development\nâ”‚   â”œâ”€â”€ reactree-debug.md        # Debugging workflow\nâ”‚   â””â”€â”€ reactree-refactor.md     # Safe refactoring workflow (NEW)\nâ”œâ”€â”€ skills/\nâ”‚   â”œâ”€â”€ reactree-patterns/       # ReAcTree coordination patterns\nâ”‚   â”œâ”€â”€ smart-detection/         # Intent detection and routing\nâ”‚   â”œâ”€â”€ context-compilation/     # cclsp + Sorbet integration (NEW)\nâ”‚   â”œâ”€â”€ skill-discovery/         # Skill discovery system\nâ”‚   â”œâ”€â”€ workflow-orchestration/  # Agent coordination\nâ”‚   â”œâ”€â”€ beads-integration/       # Task tracking integration\nâ”‚   â””â”€â”€ ... (19 total skills)\nâ”œâ”€â”€ hooks/\nâ”‚   â”œâ”€â”€ hooks.json               # Hook configuration\nâ”‚   â””â”€â”€ scripts/                 # Automation scripts\nâ””â”€â”€ README.md\n```\n\n### Contributing\n\n1. Fork the repository\n2. Create a feature branch (`git checkout -b feature/amazing-feature`)\n3. Commit changes (`git commit -m 'Add amazing feature'`)\n4. Push to branch (`git push origin feature/amazing-feature`)\n5. Open a Pull Request\n\n## Research Citation\n\nThis plugin implements concepts from:\n\n```bibtex\n@article{choi2024reactree,\n  title={ReAcTree: Hierarchical LLM Agent Trees with Control Flow for Long-Horizon Task Planning},\n  author={Choi, Jae-Woo and Kim, Hyungmin and Ong, Hyobin and Jang, Minsu and Kim, Dohyung and Kim, Jaehong and Yoon, Youngwoo},\n  journal={arXiv preprint arXiv:2511.02424},\n  year={2024}\n}\n```\n\n## License\n\nMIT License - see LICENSE file for details\n\n## Support\n\n- **Issues**: https://github.com/kaakati/reactree-rails-dev/issues\n- **Discussions**: https://github.com/kaakati/reactree-rails-dev/discussions\n- **Email**: hello@kaakati.me\n\n## Changelog\n\n### v2.7.0 (2026-01-01) - Context Compilation & Guardian Validation\n\n**New Phase**:\n- âœ¨ **Phase 3.5: Context Compilation** - LSP-powered context extraction (conditional):\n  - Uses cclsp MCP tools (Solargraph) for interface extraction\n  - Integrates Sorbet for static type checking\n  - Per-task vocabulary building from project symbols\n  - Graceful degradation when tools unavailable\n  - Runs automatically after Planning, before Implementation\n\n**New Agent**:\n- âœ¨ **context-compiler** (haiku, cyan) - Extracts interfaces using cclsp:\n  - `mcp__cclsp__find_definition` for symbol lookup\n  - `mcp__cclsp__find_references` for usage discovery\n  - `mcp__cclsp__get_diagnostics` for error detection\n  - Vocabulary building from models, services, patterns\n  - Stores compiled context in working memory for implementation-executor\n\n**Guardian Validation Cycle**:\n- âœ¨ **Generate-Validate-Execute-Verify cycle** in implementation-executor:\n  - **GENERATE**: Write code based on compiled context\n  - **VALIDATE**: cclsp diagnostics + Sorbet type checking (Guardian)\n  - **EXECUTE**: Run tests\n  - **VERIFY**: Final validation\n- âœ¨ **Automatic fix cycles** when Guardian finds errors (max 3 attempts)\n- âœ¨ **Step 0.5: Load Compiled Context** - Reads cclsp-compiled interfaces/vocabulary\n- âœ¨ **Step 3.55: Guardian Validation** - Full validation before test execution\n\n**Tool Stack**:\n| Tool | Purpose | Integration |\n|------|---------|-------------|\n| cclsp MCP | LSP bridge for Claude Code | `mcp__cclsp__*` tools |\n| Solargraph | Ruby language server | Via cclsp |\n| Sorbet | Static type checking | Via `srb tc` command |\n| parser gem | AST analysis | Optional enhancement |\n| ripper | Built-in Ruby parser | Fallback |\n\n**Init Enhancements**:\n- âœ¨ **Phase 2.5: Ruby Analysis Tools Setup** in `/reactree-init`:\n  - Checks for Solargraph, Sorbet, parser gem availability\n  - Interactive installation prompts (all tools, Solargraph only, or skip)\n  - Auto-creates `.solargraph.yml` configuration\n  - Auto-creates `.claude/cclsp.json` for LSP integration\n  - Offers Sorbet initialization (`srb init`) for typed projects\n  - Displays final tool availability status\n\n**New Skill**:\n- âœ¨ **context-compilation** (~500 lines) - cclsp + Sorbet integration patterns:\n  - Tool Stack Overview (Solargraph, Sorbet, parser, ripper)\n  - cclsp Tool Reference (all available MCP tools)\n  - Interface Extraction Patterns (classes, methods, modules)\n  - Vocabulary Building Patterns (models, services, patterns)\n  - Guardian Validation Patterns (diagnostics + type checking)\n  - Sorbet Integration (type sigils, signatures, annotations)\n  - Graceful Degradation (fallback to grep when tools unavailable)\n\n**Working Memory Keys**:\n| Key | Written By | Read By |\n|-----|------------|---------|\n| `tools.cclsp` | workflow-orchestrator | All agents |\n| `interface.{task}.{symbol}` | context-compiler | implementation-executor |\n| `project.vocabulary` | context-compiler | implementation-executor |\n| `task.{id}.context` | context-compiler | implementation-executor |\n| `guardian.{file}` | implementation-executor | implementation-executor |\n\n**Benefits**:\n- Type-safe code generation (LSP + Sorbet validation)\n- Reduced runtime errors (catch undefined methods early)\n- Consistent naming (vocabulary enforcement)\n- Faster implementation (pre-compiled interfaces)\n- Automatic fix cycles (Guardian catches errors before tests)\n\n### v2.6.0 (2026-01-01) - UX Engineer Agent & Accessibility Patterns\n\n**New Agent**:\n- âœ¨ **ux-engineer** - Chief UX Engineer agent for full UX lifecycle guidance:\n  - Accessibility (WCAG 2.2 Level AA compliance)\n  - Responsive design (mobile-first, touch targets)\n  - Animations and transitions (with reduced motion support)\n  - Dark mode implementation (TailAdmin patterns)\n  - Performance optimization (lazy loading, Core Web Vitals)\n  - Runs **in parallel with UI Specialist** during Phase 5\n\n**New Skills**:\n- âœ¨ **accessibility-patterns** (~650 lines) - WCAG 2.2 Level AA compliance patterns:\n  - ARIA roles, states, and properties\n  - Keyboard navigation patterns\n  - Focus management (visible indicators, skip links)\n  - Screen reader considerations\n  - Color contrast requirements\n  - Rails/ViewComponent accessible patterns\n\n- âœ¨ **user-experience-design** (~750 lines) - Comprehensive UX patterns:\n  - Mobile-first responsive design (Tailwind breakpoints)\n  - Animation and transition patterns (timing, easing)\n  - Dark mode implementation (TailAdmin classes)\n  - Loading states (skeletons, progress, optimistic UI)\n  - Form UX patterns (multi-step, auto-save, validation)\n  - Toast notifications and feedback systems\n  - Performance optimization (lazy loading, CLS prevention)\n\n**Parallel UI/UX Execution**:\n- ðŸ”„ **Phase 5 Enhancement** - UX Engineer runs alongside UI Specialist\n- ðŸ”„ **Working memory coordination** - UX writes requirements for UI to consume:\n  - `ux.accessibility.<component>` - WCAG requirements\n  - `ux.responsive.<component>` - Mobile breakpoints\n  - `ux.animation.<component>` - Transition patterns\n  - `ux.darkmode.<component>` - Dark mode classes\n  - `ux.performance.<component>` - Loading optimizations\n\n**Agent Updates**:\n- ðŸ“ **implementation-executor.md** - Added UX phase skills and parallel UX Engineer delegation\n- ðŸ“ **workflow-orchestrator.md** - Added Phase 5 UI/UX parallel execution documentation\n\n**Benefits**:\n- Real-time UX feedback during UI implementation\n- WCAG 2.2 Level AA compliance built-in\n- Consistent responsive behavior across components\n- Dark mode support from the start\n- Reduced rework from accessibility fixes\n\n### v2.5.0 (2026-01-01) - Multi-Agent Optimization\n\n**Token Efficiency Improvements**:\n- ðŸ“‰ **implementation-executor.md** - Reduced from 2,718 to 2,413 lines (11% smaller)\n- ðŸ“‰ **Description compression** - All 4 main agents reduced by 50-57%\n- ðŸ“‰ **Content extraction** - Moved reusable patterns to new skills\n\n**Model Selection Optimization**:\n- ðŸŽ¯ **Opus for architectural agents** - implementation-executor, codebase-inspector, rails-planner\n- ðŸŽ¯ **Haiku for mechanical agents** - control-flow-manager (faster, cheaper)\n- ðŸŽ¯ **Tool scoping** - Reduced `tools: [\"*\"]` to specific lists for 3 agents\n\n**New Skills (Extracted from implementation-executor)**:\n- âœ¨ **implementation-safety** - Nil safety, ActiveRecord, security, error handling, performance checklists\n- âœ¨ **refactoring-workflow** - Complete refactoring tracking with cross-layer impact checklists\n\n**24-Hour TTL Caching API**:\n- ðŸ”„ **write_memory_cached()** - New function with configurable TTL (default: 24h)\n- ðŸ”„ **check_cache()** - Check cache with automatic expiration handling\n- ðŸ”„ **codebase-inspector** - Now caches service patterns, UI framework, auth helpers\n- ðŸ”„ **Estimated 70% cache hit rate** - Eliminates redundant codebase analysis\n\n**Caching Points Added**:\n- Service pattern discovery (24h TTL)\n- UI framework detection (24h TTL)\n- Authentication helper discovery (24h TTL)\n\n### v2.4.0 (2025-12-30) - Enhanced Commands with Color Coding & Skill References\n\n**Command Enhancements (All 4 Workflow Commands)**:\n- âœ¨ **Color coding** - Commands now display with distinct colors in UI:\n  - `/reactree-dev` (Green) - Primary development workflow\n  - `/reactree-feature` (Cyan) - Feature-driven development\n  - `/reactree-debug` (Orange) - Systematic debugging\n  - `/reactree-refactor` (Yellow) - Safe refactoring\n- âœ¨ **Skills Used sections** - All commands reference skills via `${CLAUDE_PLUGIN_ROOT}/skills/...` paths\n- âœ¨ **Specialist Agents sections** - Explicit agent references with colors and descriptions\n- âœ¨ **Expanded triggering words** - More examples for each command type\n\n**Major Command Expansions**:\n- ðŸ“š **reactree-debug.md** - Expanded from 64 to 274 lines with:\n  - Debugging Philosophy section\n  - Bug Types Supported (Runtime, Logic, Performance, Integration, Security, Data)\n  - 7-phase workflow (Error Capture â†’ Verification)\n  - Quality Gates table\n  - Debug-specific FEEDBACK types\n  - Best Practices and Anti-Patterns\n- ðŸ“š **reactree-feature.md** - Expanded from 54 to 298 lines with:\n  - Feature Development Philosophy\n  - Feature Types Supported (CRUD, Dashboard, Import/Export, etc.)\n  - TDD-focused workflow phases\n  - Acceptance criteria validation\n  - Feature-specific FEEDBACK types\n- ðŸ“š **reactree-dev.md** - Enhanced from 237 to 360 lines with:\n  - Development Philosophy section\n  - Development Types Supported\n  - All 11 agents referenced\n  - All 17 skills referenced\n  - Structured sections matching reactree-refactor\n- ðŸ“š **reactree-refactor.md** - Added Skills Used section with ${} paths\n\n**Consistency Improvements**:\n- All commands now follow the same section structure:\n  1. Philosophy\n  2. Usage + Examples\n  3. Types Supported\n  4. Workflow Phases\n  5. Quality Gates\n  6. FEEDBACK Edge Handling\n  7. Activation template\n  8. Specialist Agents Used\n  9. Skills Used\n  10. Best Practices\n  11. Anti-Patterns to Avoid\n  12. Memory Systems Integration\n\n### v2.3.1 (2025-12-28) - Plugin Path Detection Fix\n\n**Bug Fix**:\n- ðŸ› **`/reactree-init`** - Fixed plugin path detection for global/marketplace installations\n  - Now uses `${CLAUDE_PLUGIN_ROOT}` environment variable (set by Claude Code)\n  - Falls back to `.claude/plugins/reactree-rails-dev/` only if variable not set\n  - Works correctly regardless of installation method (local, global, marketplace)\n  - Improved error messages when plugin location cannot be determined\n\n### v2.3.0 (2025-12-28) - Explicit Initialization\n\n**New Command**:\n- âœ¨ **`/reactree-init`** - Explicit initialization command that:\n  - Validates plugin installation and hooks\n  - Checks/creates skills directory with interactive setup\n  - Generates configuration file with sensible defaults\n  - Initializes memory files (working, episodic, feedback, state)\n  - Provides comprehensive status report\n  - Offers to copy bundled skills if project has none\n\n**Improved Hook Reliability**:\n- ðŸ”§ **discover-skills.sh** - No longer silently fails when prerequisites are missing\n- ðŸ“ **Logging** - Added `.claude/reactree-init.log` for troubleshooting\n- ðŸš¨ **Placeholder config** - Creates \"needs setup\" config if skills directory missing\n- ðŸ“– **Clear guidance** - Tells users to run `/reactree-init` when setup incomplete\n\n**Documentation**:\n- ðŸ“š **Getting Started section** - New section explaining initialization workflow\n- ðŸ“š **Auto-triggering guide** - How smart detection works after initialization\n\n### v2.2.0 (2025-12-28) - Official Claude Code Compliance\n\n**Agent Enhancements (All 11 Agents)**:\n- âœ¨ **Comprehensive descriptions** - Rich multi-paragraph summaries following official Claude Code patterns\n- âœ¨ **Skills field** - All agents now declare skill dependencies via `skills:` field\n- âœ¨ **Auto-triggering** - \"Use this agent when:\" sections with 5-8 specific scenarios each\n- âœ¨ **Example blocks** - 2 `<example>` blocks per agent with context, user, assistant, commentary\n- âœ¨ **Proactive language** - \"Use PROACTIVELY\" triggers for automatic activation\n\n**Agents Updated**:\n| Agent | Skills Added |\n|-------|-------------|\n| workflow-orchestrator | skill-discovery, workflow-orchestration, beads-integration, smart-detection, reactree-patterns |\n| codebase-inspector | rails-conventions, codebase-inspection, rails-context-verification, rails-error-prevention |\n| rails-planner | rails-conventions, service-object-patterns, activerecord-patterns, hotwire-patterns, rspec-testing-patterns |\n| implementation-executor | rails-conventions, service-object-patterns, activerecord-patterns, hotwire-patterns, viewcomponents-specialist, sidekiq-async-patterns |\n| test-oracle | rspec-testing-patterns, rails-error-prevention |\n| feedback-coordinator | rails-error-prevention, smart-detection, reactree-patterns |\n| control-flow-manager | reactree-patterns, smart-detection |\n| log-analyzer | rails-error-prevention |\n\n**New Command**:\n- âœ¨ **`/reactree-refactor`** - Safe refactoring workflow with:\n  - Pre-flight test verification (must be green before changes)\n  - Reference tracking via LSP (find all usages before modifying)\n  - Incremental transformation with working memory\n  - Post-refactoring validation via Test Oracle\n  - Quality gates (coverage, performance, complexity)\n  - FEEDBACK edge handling for test failures\n\n**Skills Enhanced (All 18 Skills)**:\n- âœ¨ **Trigger keywords** - All skills now include trigger keywords for auto-discovery\n- Enables smarter skill selection during workflows\n\n**Bug Fixes**:\n- ðŸ› **file-finder.md** - Fixed invalid \"LS\" tool reference â†’ \"Bash\"\n\n**LSP Integration**:\n- ðŸ“š **code-line-finder** - Now documents LSP tool usage for precise symbol lookup\n- Supports: `find_definition`, `find_references`, `rename_symbol`\n\n**Stats**: 31 files changed, +17,451 lines\n\n### v2.1.0 (2025-12-27) - Smart Detection & Utility Agents\n\n**Smart Intent Detection**:\n- âœ¨ **UserPromptSubmit hook** - Analyzes prompts and suggests appropriate workflows\n- âœ¨ **Intent patterns** - Detects feature requests, debug needs, refactor requests\n- âœ¨ **Detection modes** - suggest, inject, or disabled\n- âœ¨ **Annoyance threshold** - Configurable sensitivity (low, medium, high)\n\n**Utility Agents (4 New Agents)**:\n- âœ¨ **file-finder** (haiku) - Fast file discovery by pattern/name\n- âœ¨ **code-line-finder** (haiku) - Find definitions/usages with LSP\n- âœ¨ **git-diff-analyzer** (sonnet) - Analyze diffs/history/blame\n- âœ¨ **log-analyzer** (haiku) - Parse Rails server logs\n\n**Configuration**:\n- Settings in `.claude/reactree-rails-dev.local.md`\n- Enable/disable smart detection per project\n\n### v2.0.0 (2025-12-26) - FEEDBACK Edges\n\n**Backwards Communication**:\n- âœ¨ **FEEDBACK edges** - Child nodes can request parent fixes when discovering issues\n- âœ¨ **feedback-coordinator agent** - Routes feedback, manages fix-verify cycles, enforces loop limits\n- âœ¨ **4 feedback types** - FIX_REQUEST, CONTEXT_REQUEST, DEPENDENCY_MISSING, ARCHITECTURE_ISSUE\n- âœ¨ **Loop prevention** - Max 2 rounds per pair, max depth 3, cycle detection\n- âœ¨ **Fix-verify cycles** - Automatic parent re-execution + child verification\n- âœ¨ **Feedback state tracking** - Complete audit trail in `.claude/reactree-feedback.jsonl`\n- ðŸ“š **TDD feedback example** - Self-correcting workflow where tests drive model improvements\n- ðŸ“š **5 feedback patterns** - Test-driven, dependency discovery, architecture correction, context request, multi-round\n\n**Benefits**:\n- Self-correcting workflows (tests find issues â†’ auto-fix â†’ verify)\n- Dynamic dependency discovery (missing models auto-created)\n- Architecture validation (circular dependencies detected and fixed)\n- No manual intervention needed for common failures\n- Bounded execution prevents infinite loops\n\n**Test-First Development**:\n- âœ¨ **test-oracle agent** - Comprehensive test planning before implementation\n- âœ¨ **Test pyramid validation** - Ensures 70% unit, 20% integration, 10% system ratios\n- âœ¨ **Coverage analysis** - Tracks coverage with 85% threshold enforcement\n- âœ¨ **Test quality validation** - No pending tests, assertions present, uses factories, fast execution\n- âœ¨ **Red-green-refactor orchestration** - LOOP-driven TDD cycles with automatic fix iterations\n- âœ¨ **Test-first mode** - Enable via `--test-first` flag or `TEST_FIRST_MODE=enabled`\n- ðŸ“š **Subscription billing example** - Complete test-first workflow (71 tests, 89.5% coverage, 3 iterations)\n- ðŸ“š **6 test strategy patterns** - Test pyramid, red-green-refactor, coverage expansion, quality validation, feedback integration, metrics\n\n**Benefits**:\n- Comprehensive test coverage (85%+) achieved automatically\n- Balanced test suite (no pyramid inversions)\n- Test-driven design (tests inform implementation)\n- 60% time savings vs manual TDD (45 min vs 2+ hours)\n- Self-correcting via FEEDBACK (failed tests drive fixes)\n\n**Use Cases**:\n- Test-Driven Development (specs drive implementation quality)\n- Dependency discovery (auto-detect and create missing prerequisites)\n- Architecture validation (prevent circular dependencies)\n- Just-in-time context sharing (child requests parent info)\n- Test-first feature development (comprehensive coverage from start)\n\n### v1.1.0 (2025-12-26) - LOOP & CONDITIONAL\n\n**Control Flow Enhancements**:\n- âœ¨ **LOOP control flow node** - Iterative refinement for TDD cycles, performance optimization, error recovery\n- âœ¨ **CONDITIONAL control flow node** - Runtime branching based on observations and test results\n- âœ¨ **control-flow-manager agent** - Dedicated agent for executing control flow nodes\n- âœ¨ **State persistence** - Track iterations, conditions, and execution state in `.claude/reactree-state.jsonl`\n- âœ¨ **Condition evaluation** - Support for observation checks, test results, file existence, custom expressions\n- âœ¨ **Condition caching** - 5-minute TTL cache for expensive evaluations (avoid redundant test runs)\n- ðŸ“š **TDD workflow example** - Complete example demonstrating LOOP usage with test-driven development\n- ðŸ“š **Deployment workflow example** - Intelligent staging deployment with nested CONDITIONAL nodes\n- ðŸ“š **Enhanced documentation** - Comprehensive patterns and examples for LOOP and CONDITIONAL nodes\n\n**Use Cases**:\n- Test-Driven Development with red-green-refactor cycles\n- Performance optimization with iterative measurement\n- Deployment workflows with conditional logic\n- Error recovery with retry mechanisms\n\n### v1.0.0 (2025-01-21)\n\n**Initial Release**:\n- âœ¨ Parallel execution with control flow nodes\n- âœ¨ Working memory system (shared knowledge)\n- âœ¨ Episodic memory (learning from success)\n- âœ¨ Fallback patterns (resilient workflows)\n- âœ¨ Reuses rails-enterprise-dev skills\n- âœ¨ 30-50% faster than sequential workflows\n",
        "plugins/reactree-flutter-dev/README.md": "# ReAcTree Flutter Development Plugin\n\nMulti-agent orchestration for Flutter development with GetX state management, Clean Architecture, and comprehensive quality gates.\n\n## ðŸš€ Features\n\n- **Clean Architecture**: Enforces domain â†’ data â†’ presentation layer separation\n- **GetX State Management**: Best practices for controllers, bindings, and reactive programming\n- **Quality Gates**: Automated dart analysis, test coverage, build validation, and GetX compliance\n- **Multi-Agent Workflow**: Specialized agents for domain, data, presentation, and testing\n- **Comprehensive Testing**: Unit, widget, integration, and golden tests with 80% coverage threshold\n- **Http Integration**: Best practices for REST API calls with proper error handling\n- **GetStorage Patterns**: Efficient local storage with caching strategies\n\n## ðŸ“¦ Installation\n\n### Option 1: Manual Installation\n\n1. Copy the plugin directory to your project:\n```bash\ncp -r plugins/reactree-flutter-dev /path/to/your/flutter/project/.claude/plugins/\n```\n\n2. Ensure your Flutter project has `pubspec.yaml` at the root\n\n### Option 2: Clone from Repository\n\n```bash\ncd /path/to/your/flutter/project/.claude/plugins\ngit clone https://github.com/kaakati/flutter-enterprise-dev.git reactree-flutter-dev\n```\n\n## ðŸ”§ Project Initialization\n\nBefore using the plugin commands, initialize your Flutter project with recommended patterns:\n\n```\n/flutter-init\n```\n\nThis interactive command will:\n1. âœ… Validate your Flutter project (pubspec.yaml exists)\n2. âœ… Create `.claude/` directory structure\n3. âœ… Copy recommended skills to your project\n4. âœ… Copy enforcement rules\n5. âœ… Set up Clean Architecture directory structure\n6. âœ… Create initial boilerplate files (Failures, Exceptions, main.dart)\n7. âœ… Add required dependencies to pubspec.yaml\n8. âœ… Configure quality gates\n\n### Initialization Options\n\n```bash\n/flutter-init              # Interactive mode (recommended)\n/flutter-init --full       # Copy all skills, rules, and agents\n/flutter-init --minimal    # Copy only essential patterns\n/flutter-init --custom     # Choose specific skills/rules\n```\n\n### What Gets Created\n\n**Directory Structure:**\n```\n.claude/\nâ”œâ”€â”€ skills/           # Project-specific patterns\nâ”œâ”€â”€ rules/            # Enforcement rules\nâ””â”€â”€ config.json       # Quality gate configuration\n\nlib/\nâ”œâ”€â”€ core/\nâ”‚   â”œâ”€â”€ errors/       # Failure & Exception classes\nâ”‚   â”œâ”€â”€ utils/        # Extensions & validators\nâ”‚   â”œâ”€â”€ config/       # App configuration\nâ”‚   â””â”€â”€ di/           # Dependency injection\nâ”œâ”€â”€ domain/\nâ”‚   â”œâ”€â”€ entities/     # Business entities\nâ”‚   â”œâ”€â”€ repositories/ # Repository interfaces\nâ”‚   â””â”€â”€ usecases/     # Business logic\nâ”œâ”€â”€ data/\nâ”‚   â”œâ”€â”€ models/       # Data models with JSON\nâ”‚   â”œâ”€â”€ repositories/ # Repository implementations\nâ”‚   â””â”€â”€ datasources/  # Remote & local data sources\nâ””â”€â”€ presentation/\n    â”œâ”€â”€ controllers/  # GetX controllers\n    â”œâ”€â”€ bindings/     # Dependency injection\n    â”œâ”€â”€ pages/        # Screens\n    â”œâ”€â”€ widgets/      # Reusable UI components\n    â””â”€â”€ routes/       # Navigation setup\n```\n\n**Dependencies Added:**\n```yaml\ndependencies:\n  get: ^4.6.6              # State management & DI\n  get_storage: ^2.1.1      # Local storage\n  http: ^1.1.0             # HTTP client\n  dartz: ^0.10.1           # Functional programming (Either)\n\ndev_dependencies:\n  mocktail: ^1.0.1         # Mocking for tests\n  build_runner: ^2.4.6     # Code generation\n  json_serializable: ^6.7.1 # JSON serialization\n```\n\n### After Initialization\n\nRun these commands to complete setup:\n\n```bash\n# Install dependencies\nflutter pub get\n\n# Start development\n/flutter-dev add your feature here\n```\n\n## ðŸŽ¯ Quick Start\n\n### Basic Usage\n\n```\n/flutter-dev add user authentication with JWT tokens\n```\n\nThe plugin will:\n1. âœ… Detect Flutter project root\n2. âœ… Parse requirements into user stories\n3. âœ… Analyze existing code patterns\n4. âœ… Plan implementation with Clean Architecture\n5. âœ… Generate domain entities and use cases\n6. âœ… Create data models, repositories, and data sources\n7. âœ… Implement GetX controllers, bindings, and UI\n8. âœ… Generate comprehensive tests\n9. âœ… Run quality gates (analyze, test, build)\n\n## ðŸ“š Available Commands\n\n### `/flutter-dev` - Main Development Workflow\n\nFull-featured development with all quality gates.\n\n**Examples:**\n\n**Authentication & User Management:**\n```\n/flutter-dev add user authentication with JWT tokens\n/flutter-dev implement OAuth2 login with Google\n/flutter-dev create user profile with avatar upload\n/flutter-dev add password reset flow with email verification\n```\n\n**API Integration:**\n```\n/flutter-dev create product catalog with REST API\n/flutter-dev implement GraphQL client for posts\n/flutter-dev add WebSocket real-time chat\n/flutter-dev build pagination for user list\n```\n\n**Offline-First Features:**\n```\n/flutter-dev implement offline-first notes app with sync\n/flutter-dev add offline product catalog with GetStorage\n/flutter-dev create cache-first user profile\n```\n\n**State Management:**\n```\n/flutter-dev add shopping cart with GetX state\n/flutter-dev implement multi-step form with validation\n/flutter-dev create global theme controller\n/flutter-dev add settings screen with reactive preferences\n```\n\n**Data & Models:**\n```\n/flutter-dev create Order model with JSON serialization\n/flutter-dev implement polymorphic User model (admin/customer)\n/flutter-dev add full-text search for products\n```\n\n### `/flutter-feature` - Feature-Driven Development\n\nFocused on complete vertical slices (domain â†’ data â†’ presentation).\n\n```\n/flutter-feature user authentication\n```\n\n### `/flutter-debug` - Debugging Workflow\n\nInvestigate and fix issues in existing code.\n\n```\n/flutter-debug GetX controller not updating UI\n```\n\n### `/flutter-refactor` - Refactoring Workflow\n\nSafe refactoring with test guarantees.\n\n```\n/flutter-refactor extract authentication logic to use case\n```\n\n## ðŸ—ï¸ Architecture\n\n### Clean Architecture Layers\n\n```\nlib/\nâ”œâ”€â”€ core/                       # Shared utilities\nâ”‚   â”œâ”€â”€ error/                  # Failure & exception classes\nâ”‚   â”œâ”€â”€ network/                # Network info\nâ”‚   â””â”€â”€ usecases/               # Base use case class\nâ”œâ”€â”€ domain/                     # Business Logic (Pure Dart)\nâ”‚   â”œâ”€â”€ entities/               # Business objects\nâ”‚   â”œâ”€â”€ repositories/           # Repository interfaces\nâ”‚   â””â”€â”€ usecases/               # Business logic\nâ”œâ”€â”€ data/                       # Data Layer\nâ”‚   â”œâ”€â”€ models/                 # JSON serialization\nâ”‚   â”œâ”€â”€ repositories/           # Repository implementations\nâ”‚   â””â”€â”€ datasources/            # API & local storage\nâ”‚       â”œâ”€â”€ remote/             # Http API calls\nâ”‚       â””â”€â”€ local/              # GetStorage caching\nâ””â”€â”€ presentation/               # UI Layer\n    â”œâ”€â”€ controllers/            # GetX controllers\n    â”œâ”€â”€ bindings/               # Dependency injection\n    â”œâ”€â”€ pages/                  # Screens\n    â””â”€â”€ widgets/                # Reusable components\n```\n\n### Dependency Flow\n\n```\nPresentation â†’ Data â†’ Domain\n    â†“           â†“        â†‘\n  GetX      Repository  Pure\nControllers  Impl      Business\n  & UI               Logic\n```\n\n**Rule**: Outer layers depend on inner layers, NEVER reverse.\n\n## ðŸ§ª Quality Gates\n\n### 1. Dart Analysis\n```bash\nflutter analyze\n```\n- âœ… 0 errors required\n- âš ï¸ Warnings acceptable with justification\n\n### 2. Test Coverage\n```bash\nflutter test --coverage\n```\n- âœ… Minimum 80% code coverage\n- âœ… Covers domain, data, and presentation layers\n\n### 3. Build Validation\n```bash\nflutter build apk --debug\n```\n- âœ… Build succeeds without errors\n\n### 4. GetX Compliance\n- âœ… Controllers use bindings (not direct instantiation)\n- âœ… Reactive variables declared with `.obs`\n- âœ… Business logic delegated to use cases\n- âœ… Proper dependency injection\n\n## ðŸ“– Best Practices\n\n### Domain Layer\n\n**Entities** (Pure Dart):\n```dart\nimport 'package:equatable/equatable.dart';\n\nclass User extends Equatable {\n  final String id;\n  final String name;\n  final String email;\n\n  const User({\n    required this.id,\n    required this.name,\n    required this.email,\n  });\n\n  @override\n  List<Object?> get props => [id, name, email];\n}\n```\n\n**Use Cases**:\n```dart\nimport 'package:dartz/dartz.dart';\n\nclass GetUser {\n  final UserRepository repository;\n\n  GetUser(this.repository);\n\n  Future<Either<Failure, User>> call(String id) {\n    return repository.getUser(id);\n  }\n}\n```\n\n### Data Layer\n\n**Models** (JSON Serialization):\n```dart\nimport 'package:json_annotation/json_annotation.dart';\n\npart 'user_model.g.dart';\n\n@JsonSerializable()\nclass UserModel {\n  final String id;\n  final String name;\n  final String email;\n\n  UserModel({\n    required this.id,\n    required this.name,\n    required this.email,\n  });\n\n  factory UserModel.fromJson(Map<String, dynamic> json) =>\n      _$UserModelFromJson(json);\n\n  Map<String, dynamic> toJson() => _$UserModelToJson(this);\n\n  User toEntity() => User(id: id, name: name, email: email);\n}\n```\n\n**Repositories**:\n```dart\nclass UserRepositoryImpl implements UserRepository {\n  final UserRemoteDataSource remoteDataSource;\n  final UserLocalDataSource localDataSource;\n  final NetworkInfo networkInfo;\n\n  @override\n  Future<Either<Failure, User>> getUser(String id) async {\n    if (await networkInfo.isConnected) {\n      try {\n        final user = await remoteDataSource.getUser(id);\n        await localDataSource.cacheUser(user);\n        return Right(user.toEntity());\n      } on ServerException {\n        return Left(ServerFailure());\n      }\n    } else {\n      final cachedUser = await localDataSource.getCachedUser();\n      return cachedUser != null\n          ? Right(cachedUser.toEntity())\n          : Left(CacheFailure());\n    }\n  }\n}\n```\n\n**Data Sources**:\n```dart\n// Remote\nclass UserRemoteDataSourceImpl implements UserRemoteDataSource {\n  final http.Client client;\n  final String baseUrl;\n\n  @override\n  Future<UserModel> getUser(String id) async {\n    final response = await client.get(\n      Uri.parse('$baseUrl/users/$id'),\n      headers: {'Authorization': 'Bearer $token'},\n    ).timeout(Duration(seconds: 10));\n\n    if (response.statusCode == 200) {\n      return UserModel.fromJson(jsonDecode(response.body));\n    } else {\n      throw ServerException(response.body);\n    }\n  }\n}\n\n// Local\nclass UserLocalDataSourceImpl implements UserLocalDataSource {\n  final GetStorage storage;\n\n  @override\n  Future<void> cacheUser(UserModel user) async {\n    await storage.write('cached_user', user.toJson());\n  }\n\n  @override\n  Future<UserModel?> getCachedUser() async {\n    final json = storage.read('cached_user');\n    return json != null ? UserModel.fromJson(json) : null;\n  }\n}\n```\n\n### Presentation Layer\n\n**GetX Controllers**:\n```dart\nclass UserController extends GetxController {\n  final GetUser getUserUseCase;\n\n  UserController({required this.getUserUseCase});\n\n  final user = Rx<User?>(null);\n  final isLoading = false.obs;\n  final error = Rx<String?>(null);\n\n  @override\n  void onInit() {\n    super.onInit();\n    loadUser();\n  }\n\n  Future<void> loadUser() async {\n    isLoading.value = true;\n    error.value = null;\n\n    final result = await getUserUseCase('user-id');\n\n    result.fold(\n      (failure) => error.value = _mapFailureToMessage(failure),\n      (userData) => user.value = userData,\n    );\n\n    isLoading.value = false;\n  }\n\n  @override\n  void onClose() {\n    // Clean up resources\n    super.onClose();\n  }\n}\n```\n\n**Bindings**:\n```dart\nclass UserBinding extends Bindings {\n  @override\n  void dependencies() {\n    // Data sources\n    Get.lazyPut<UserRemoteDataSource>(\n      () => UserRemoteDataSourceImpl(\n        client: Get.find(),\n        baseUrl: AppConfig.apiUrl,\n      ),\n    );\n\n    Get.lazyPut<UserLocalDataSource>(\n      () => UserLocalDataSourceImpl(storage: Get.find()),\n    );\n\n    // Repository\n    Get.lazyPut<UserRepository>(\n      () => UserRepositoryImpl(\n        remoteDataSource: Get.find(),\n        localDataSource: Get.find(),\n        networkInfo: Get.find(),\n      ),\n    );\n\n    // Use case\n    Get.lazyPut(() => GetUser(Get.find()));\n\n    // Controller\n    Get.lazyPut(() => UserController(getUserUseCase: Get.find()));\n  }\n}\n```\n\n**UI Widgets**:\n```dart\nclass UserPage extends StatelessWidget {\n  const UserPage({Key? key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(title: Text('User Profile')),\n      body: GetX<UserController>(\n        builder: (controller) {\n          if (controller.isLoading.value) {\n            return Center(child: CircularProgressIndicator());\n          }\n\n          if (controller.error.value != null) {\n            return Center(child: Text(controller.error.value!));\n          }\n\n          final user = controller.user.value;\n          if (user == null) {\n            return Center(child: Text('No user found'));\n          }\n\n          return Column(\n            children: [\n              Text(user.name),\n              Text(user.email),\n            ],\n          );\n        },\n      ),\n    );\n  }\n}\n```\n\n## ðŸ§° Dependencies\n\nAdd these to your `pubspec.yaml`:\n\n```yaml\ndependencies:\n  flutter:\n    sdk: flutter\n\n  # State Management\n  get: ^4.6.6\n\n  # HTTP Client\n  http: ^1.1.0\n\n  # Local Storage\n  get_storage: ^2.1.1\n\n  # Functional Programming\n  dartz: ^0.10.1\n\n  # Equality\n  equatable: ^2.0.5\n\n  # JSON Serialization\n  json_annotation: ^4.8.1\n\ndev_dependencies:\n  # JSON Code Generation\n  json_serializable: ^6.7.1\n  build_runner: ^2.4.6\n\n  # Testing\n  flutter_test:\n    sdk: flutter\n  mocktail: ^1.0.1\n```\n\n## ðŸŽ“ Learning Resources\n\n### GetX\n- [Official GetX Documentation](https://pub.dev/packages/get)\n- [GetX State Management](https://github.com/jonataslaw/getx/blob/master/documentation/en_US/state_management.md)\n- [GetX Dependency Injection](https://github.com/jonataslaw/getx/blob/master/documentation/en_US/dependency_management.md)\n\n### Clean Architecture\n- [The Clean Architecture](https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html) by Robert C. Martin\n- [Flutter Clean Architecture](https://resocoder.com/flutter-clean-architecture-tdd/) by Reso Coder\n\n### Testing\n- [Flutter Testing Documentation](https://docs.flutter.dev/testing)\n- [Widget Testing](https://docs.flutter.dev/cookbook/testing/widget/introduction)\n- [Integration Testing](https://docs.flutter.dev/testing/integration-tests)\n\n## ðŸ“š Available Skills Reference\n\nThe plugin provides 16 comprehensive skills organized by category:\n\n### Foundation (3 skills)\n\n**flutter-conventions**\n- Dart & Flutter best practices\n- Naming conventions and code style\n- Widget composition patterns\n- File organization standards\n\n**clean-architecture-patterns**\n- Layer separation (Domain â†’ Data â†’ Presentation)\n- Dependency rules and violations\n- Entity, use case, and repository patterns\n- Testing strategies per layer\n\n**core-layer-patterns** â­ *New in v1.1*\n- Base error classes (Failure & Exception)\n- Extension methods (String, DateTime, List, BuildContext)\n- Validators and app configuration\n- Dependency injection setup\n\n### State Management (2 skills)\n\n**getx-patterns**\n- Basic GetX reactive programming\n- Controllers and bindings\n- Dependency injection\n- State management fundamentals\n\n**advanced-getx-patterns** â­ *New in v1.1*\n- Workers (ever, once, debounce, interval)\n- GetxService for permanent services\n- SmartManagement strategies\n- GetConnect for HTTP, bindings composition\n\n### Data Layer (4 skills)\n\n**repository-patterns**\n- Repository interfaces and implementations\n- Offline-first patterns\n- Error handling with Either<Failure, T>\n- Cache-first vs. network-first strategies\n\n**model-patterns**\n- Entity vs. Model separation\n- JSON serialization (fromJson/toJson)\n- Type conversion and validation\n- Equatable for value comparison\n\n**http-integration**\n- REST API best practices\n- Error handling and timeouts\n- Pagination and retry strategies\n- Token management and refresh\n\n**get-storage-patterns**\n- Local persistence with GetStorage\n- Cache invalidation strategies\n- Offline data management\n- Storage keys organization\n\n### Presentation (2 skills)\n\n**navigation-patterns** â­ *New in v1.1*\n- GetX named routes and GetPage configuration\n- Route parameters and arguments\n- Navigation guards (GetMiddleware)\n- Deep linking (Android & iOS)\n\n**accessibility-patterns** â­ *New in v1.1*\n- WCAG 2.2 Level AA compliance\n- Semantic widgets and screen reader support\n- Touch target sizing (â‰¥ 44x44)\n- Color contrast requirements (4.5:1 text, 3:1 UI)\n\n### Quality & Performance (3 skills)\n\n**testing-patterns**\n- Unit tests for domain & data layers\n- Widget tests with GetX\n- Integration tests\n- Mocking with Mocktail\n\n**performance-optimization** â­ *New in v1.1*\n- Widget optimization (const, keys)\n- Build performance and rebuilds\n- Image optimization and caching\n- Memory management and disposal\n- 60 FPS targets and profiling\n\n**code-quality-gates**\n- Dart analysis configuration\n- Test coverage thresholds\n- GetX compliance validation\n- Clean Architecture enforcement\n\n### Internationalization (1 skill)\n\n**internationalization-patterns** â­ *New in v1.1*\n- GetX Translations setup\n- Locale management and switching\n- RTL support (Arabic, Hebrew)\n- Date/number formatting\n- Pluralization rules\n\n### How to Use Skills\n\nSkills are automatically discovered from your `.claude/skills/` directory after running `/flutter-init`. The plugin's workflow orchestrator uses these skills to guide implementation:\n\n1. **Automatic Discovery**: Skills are categorized by naming patterns\n2. **Context-Aware**: Relevant skills loaded based on task\n3. **Customizable**: Add project-specific skills to `.claude/skills/`\n\n**Example**: When implementing navigation, the orchestrator automatically uses:\n- `flutter-conventions` (foundational patterns)\n- `navigation-patterns` (routing specifics)\n- `getx-patterns` (state management integration)\n- `accessibility-patterns` (semantic labels for routes)\n\n## ðŸ¤ Contributing\n\nContributions are welcome! Please feel free to submit a Pull Request.\n\n## ðŸ“„ License\n\nMIT License - see LICENSE file for details\n\n## ðŸ‘¨â€ðŸ’» Author\n\n**Mohamad Kaakati**\n- Email: hello@kaakati.me\n- GitHub: [@kaakati](https://github.com/kaakati)\n\n## ðŸ™ Acknowledgments\n\nThis plugin is inspired by:\n- [reactree-rails-dev](https://github.com/kaakati/rails-enterprise-dev) - Rails development plugin\n- ReAcTree architecture pattern\n- Clean Architecture by Robert C. Martin\n- GetX state management by Jonny Borges\n\n---\n\n**Version**: 1.0.0\n",
        "plugins/reactree-ios-dev/README.md": "# ReAcTree iOS/tvOS Development Plugin\n\nMulti-agent orchestration for iOS and tvOS development with SwiftUI, MVVM, Clean Architecture, comprehensive quality gates, and automated workflows.\n\n## ðŸš€ Features\n\n- **iOS & tvOS Support**: Universal plugin for iPhone, iPad, and Apple TV development\n- **Clean Architecture + MVVM**: Enforces proper layer separation and testability\n- **SwiftUI-Only**: Modern SwiftUI patterns with state management best practices\n- **27 Comprehensive Skills**: Covers everything from Swift conventions to accessibility patterns\n- **14 Specialized Agents**: Workflow orchestration, quality gates, performance profiling, and more\n- **Automated Init Command**: `/ios-init` for one-command project setup\n- **Hooks System**: Auto-discovery, validation, and workflow routing\n- **Quality Gates**: SwiftLint, build validation, 80% test coverage enforcement\n- **Multi-Agent Workflow**: Specialized agents for Core, Presentation, and Design System layers\n- **Beads Integration**: Track multi-session work with automatic task creation\n- **Parallel Execution**: 30-50% faster workflows through intelligent parallelization\n- **Working Memory**: Eliminates redundant codebase analysis across agents\n- **Episodic Learning**: Reuses proven approaches for similar features\n\n## ðŸ“¦ Installation\n\n### Automated Install (Easiest)\n\n**Option 1: Using install script**\n\n```bash\n# Clone the repository\ngit clone https://github.com/kaakati/ios-enterprise-dev.git\ncd ios-enterprise-dev/plugins/reactree-ios-dev\n\n# Run the install script\n./install.sh\n```\n\nThe install script will:\n- âœ… Detect your Xcode project location\n- âœ… Copy all plugin files to `.claude/plugins/`\n- âœ… Verify installation (14 agents, 27 skills, 12 rules)\n- âœ… Check dependencies (Xcode, Swift, SwiftLint)\n- âœ… Display next steps\n\n**Option 2: Manual plugin copy + init command**\n\n1. **Copy Plugin to Project:**\n\n```bash\ncd /path/to/your/ios/project\nmkdir -p .claude/plugins\ncp -r path/to/reactree-ios-dev .claude/plugins/\n```\n\n2. **Run Init Command:**\n\n```\n/ios-init\n```\n\nThe init command will:\n- âœ… Detect Xcode project and Swift version\n- âœ… Validate platform support (iOS/tvOS)\n- âœ… Copy agents to `.claude/agents/` (14 agents)\n- âœ… Copy skills to `.claude/skills/` (27 skills)\n- âœ… Copy rules to `.claude/rules/` (12 rules)\n- âœ… Initialize memory systems (4 JSONL files)\n- âœ… Generate project configuration file\n\n**Skills Installed:**\n- **Core**: swift-conventions, mvvm-architecture, clean-architecture-ios\n- **Networking**: alamofire-patterns, api-integration\n- **UI**: swiftui-patterns, navigation-patterns, atomic-design-ios, theme-management\n- **Data**: model-patterns, core-data-patterns, codable-patterns\n- **Testing**: xctest-patterns, test-oracle\n- **Advanced**: concurrency-patterns, error-handling-patterns, accessibility-patterns, performance-optimization, security-best-practices\n- **Tools**: swiftgen-integration, localization-ios\n- **tvOS**: tvos-specific-patterns\n\n### Manual Installation (Advanced)\n\nIf you prefer complete manual setup:\n\n```bash\ncd /path/to/your/ios/project\n\n# Create directory structure\nmkdir -p .claude/plugins\nmkdir -p .claude/agents\nmkdir -p .claude/skills\nmkdir -p .claude/rules\n\n# Copy plugin\ncp -r path/to/reactree-ios-dev .claude/plugins/\n\n# Copy components\ncp .claude/plugins/reactree-ios-dev/agents/*.md .claude/agents/\ncp -r .claude/plugins/reactree-ios-dev/skills/* .claude/skills/\ncp -r .claude/plugins/reactree-ios-dev/rules/* .claude/rules/\n\n# Initialize memory files\ntouch .claude/reactree-memory.jsonl\ntouch .claude/reactree-episodes.jsonl\ntouch .claude/reactree-feedback.jsonl\ntouch .claude/reactree-state.jsonl\n```\n\n### Requirements\n\n- Xcode 14.0+\n- iOS 15.0+ / tvOS 15.0+\n- Swift 5.7+\n- SwiftLint (install with `brew install swiftlint`)\n- CocoaPods or Swift Package Manager (optional)\n\n## ðŸŽ¯ Quick Start\n\n### Initialize Your Project\n\nAfter copying the plugin, initialize it for your specific project:\n\n```\n/ios-init\n```\n\nThen start building features:\n\n```\n/ios-dev add user authentication with JWT tokens\n```\n\nThe plugin will:\n1. âœ… Detect Xcode project root\n2. âœ… Parse requirements into user stories\n3. âœ… Analyze existing MVVM patterns (using discovered skills)\n4. âœ… Plan implementation with Clean Architecture\n5. âœ… Create Core layer (Services, Managers, NetworkRouters)\n6. âœ… Create Presentation layer (Views, ViewModels, Models)\n7. âœ… Create Design System components\n8. âœ… Generate comprehensive XCTests\n9. âœ… Run quality gates (SwiftLint, build, 80% coverage)\n10. âœ… Create beads epic for multi-session tracking\n\n## ðŸ“š Available Commands\n\n### `/ios-dev` - Main Development Workflow\n\nFull-featured development with all quality gates and parallel execution.\n\n**Examples:**\n\n**Authentication:**\n```\n/ios-dev add user authentication with JWT tokens\n/ios-dev implement OAuth2 login with Apple Sign-In\n/ios-dev create biometric authentication (Face ID/Touch ID)\n```\n\n**API Integration:**\n```\n/ios-dev create product catalog with REST API\n/ios-dev implement GraphQL client for posts\n/ios-dev add WebSocket real-time chat\n```\n\n**SwiftUI Features:**\n```\n/ios-dev create custom video player with AVKit\n/ios-dev implement dark mode with theme switching\n/ios-dev build onboarding flow with SwiftUI\n```\n\n**tvOS-Specific:**\n```\n/ios-dev implement focus-based side menu for tvOS\n/ios-dev add top shelf support for tvOS\n/ios-dev create tvOS hero carousel with focus handling\n```\n\n**State Management:**\n```\n/ios-dev add shopping cart with @StateObject\n/ios-dev implement multi-step form with validation\n/ios-dev create global settings with @EnvironmentObject\n```\n\n### `/ios-feature` - Feature-Driven Development\n\nFocused on complete vertical slices (Core â†’ Presentation â†’ Design System).\n\n### `/ios-debug` - Debugging Workflow\n\nAnalyzes logs, crashes, and network issues.\n\n### `/ios-refactor` - Refactoring Workflow\n\nCode quality improvements and architectural modernization.\n\n## ðŸ—ï¸ Architecture\n\n### Clean Architecture Layers\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚       Presentation Layer                 â”‚\nâ”‚   Views â†’ ViewModels â†’ Models            â”‚\nâ”‚          (SwiftUI + MVVM)                â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚          Core Layer                      â”‚\nâ”‚  Services â†’ Managers â†’ Networking        â”‚\nâ”‚        (Business Logic)                  â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚       Design System Layer                â”‚\nâ”‚   Atoms â†’ Molecules â†’ Organisms          â”‚\nâ”‚      (Atomic Design + Theme)             â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### MVVM Pattern\n\n**BaseViewModel:**\n```swift\n@MainActor\nclass BaseViewModel: ObservableObject {\n    @Published var isLoading: Bool = false\n    @Published var error: Error?\n}\n```\n\n**View-ViewModel Binding:**\n```swift\nstruct HomeView: View {\n    @StateObject private var viewModel = HomeViewModel()\n\n    var body: some View {\n        List(viewModel.items) { item in\n            Text(item.name)\n        }\n        .task { await viewModel.loadData() }\n    }\n}\n```\n\n## ðŸ›¡ï¸ Quality Gates\n\n### SwiftLint\n```bash\nswiftlint lint --strict\n```\n\n**Enforces:**\n- Line length limits (120 chars)\n- No force unwrapping\n- Proper access control\n- Trailing closures\n\n### Build Validation\n```bash\nxcodebuild clean build -scheme AppScheme\n```\n\n**Validates:**\n- Zero build errors\n- Warnings < 10\n- CocoaPods integration\n\n### Test Coverage\n```bash\nxcodebuild test -enableCodeCoverage YES\n```\n\n**Requires:**\n- 80% minimum coverage\n- Test pyramid (70% unit, 20% integration, 10% UI)\n- All critical paths covered\n\n### SwiftGen\n```bash\nswiftgen config lint\n```\n\n**Validates:**\n- Type-safe asset access\n- Localization strings\n- Color definitions\n\n## ðŸ“± Platform Support\n\n### iOS-Specific Patterns\n- Tab bar navigation\n- Touch gestures\n- Haptic feedback\n- Size classes (compact/regular)\n\n### tvOS-Specific Patterns\n- Focus management (@FocusState)\n- Remote control handling\n- Top shelf support\n- Parallax effects\n- Large card UI patterns\n\n### Universal Patterns\n- Platform detection (#if os(tvOS))\n- Adaptive layouts\n- Shared ViewModels with platform-specific UI\n\n## ðŸ§  Memory Systems\n\n### Working Memory (24h TTL)\n- Stores verified facts discovered during inspection\n- Shared across all agents in current session\n- Eliminates redundant codebase analysis\n- 100% consistency across agents\n\n### Episodic Memory (Permanent)\n- Learns from successful executions\n- Reuses proven approaches for similar tasks\n- 15-30% faster on repeat patterns\n\n## ðŸ“Š Parallel Execution\n\n**Independent Phases (Run Concurrently):**\n- Phase 4a: Core Layer (Services, Managers)\n- Phase 4b: Presentation Layer (Views, ViewModels)\n- Phase 4c: Design System (Components, Resources)\n\n**Sequential Phases:**\n- Phase 5: Testing & Quality Gates (depends on 4a, 4b, 4c)\n\n**Time Savings:** ~40 minutes on medium features (125min â†’ 85min)\n\n## ðŸ”— Beads Integration\n\nAutomatically creates beads epics and subtasks:\n\n```bash\n# Epic created for feature\nPROJ-42: User Authentication Feature\n\n# Subtasks created for each phase\nPROJ-43: Phase 1 - Requirements Analysis\nPROJ-44: Phase 2 - Codebase Inspection\nPROJ-45: Phase 3 - Implementation Planning\nPROJ-46: Phase 4a - Core Layer\nPROJ-47: Phase 4b - Presentation Layer\nPROJ-48: Phase 4c - Design System\nPROJ-49: Phase 5 - Testing & Quality Gates\n```\n\n## ðŸ”§ Hooks System\n\nThe plugin includes an automated hooks system that runs during your workflow:\n\n### Available Hooks\n\n**SessionStart:**\n- `discover-skills.sh` - Auto-discovers skills in `.claude/skills/` and categorizes them\n- Populates working memory with discovered skills\n- Creates `.claude/reactree-ios-dev.local.md` with skill inventory\n\n**UserPromptSubmit:**\n- `detect-intent.sh` - Analyzes prompts and suggests appropriate workflows\n- Routes feature requests â†’ `/ios-dev` or `/ios-feature`\n- Routes debugging â†’ `/ios-debug`\n- Routes refactoring â†’ `/ios-refactor`\n\n**PreToolUse (Edit/Write):**\n- `pre-edit-validation.sh` - Validates Swift syntax before edits\n- Checks MVVM patterns (View â†’ ViewModel separation)\n- Warns about common pitfalls (force unwrapping, etc.)\n\n**PostToolUse (Write):**\n- `post-write-validation.sh` - Runs SwiftLint on written files\n- Validates against rules (e.g., services must have protocols)\n\n### Customizing Hooks\n\nEdit `hooks/hooks.json` to customize hook behavior:\n\n```json\n{\n  \"hooks\": {\n    \"SessionStart\": [\"discover-skills\"],\n    \"UserPromptSubmit\": [\"detect-intent\"],\n    \"PreToolUse\": [\"pre-edit-validation\"],\n    \"PostToolUse\": [\"post-write-validation\"]\n  }\n}\n```\n\nDisable hooks by removing them from the array or setting `enabled: false` in plugin configuration.\n\n## ðŸ“– Examples\n\nSee `examples/` directory for complete implementations:\n\n### Core Features\n- `authentication-feature.md` - JWT authentication with Keychain\n- `api-integration-feature.md` - REST API with Alamofire\n- `video-player-feature.md` - Custom video player with AVKit\n\n### Advanced Features (v2.0.0)\n- `offline-sync-feature.md` - Complete offline-first data sync with Core Data, conflict resolution, and background sync\n- `push-notifications-feature.md` - APNs setup, rich notifications, interactive actions, and testing strategies\n- `tvos-focus-navigation.md` - tvOS focus engine, focus groups, parallax effects, and remote control handling\n\n## ðŸ” Troubleshooting\n\n### Skills Not Discovered\n\n**Problem:** Skills aren't showing up in workflow execution.\n\n**Solution:**\n1. Run `/ios-init` to initialize skill discovery\n2. Verify skills exist in `.claude/skills/` directory\n3. Check `.claude/reactree-ios-dev.local.md` for discovered skills inventory\n4. Restart Claude Code session to reload skills\n\n### SwiftLint Errors\n\n**Problem:** SwiftLint validation fails during quality gates.\n\n**Solution:**\n1. Install SwiftLint: `brew install swiftlint`\n2. Create `.swiftlint.yml` configuration file\n3. Run `swiftlint autocorrect` to fix common issues\n4. Disable specific rules if needed in `.swiftlint.yml`\n\n### Build Failures\n\n**Problem:** xcodebuild fails during validation.\n\n**Solution:**\n1. Verify Xcode is installed and up to date\n2. Open project in Xcode and build manually to see detailed errors\n3. Check CocoaPods integration: `pod install`\n4. Clean build folder: `rm -rf ~/Library/Developer/Xcode/DerivedData`\n\n### Memory System Not Working\n\n**Problem:** Agents repeat codebase analysis across sessions.\n\n**Solution:**\n1. Verify `.claude/reactree-memory.jsonl` exists\n2. Check file permissions (should be readable/writable)\n3. Ensure working memory is within 24h TTL\n4. Re-run `/ios-init` to reinitialize memory systems\n\n### Hooks Not Executing\n\n**Problem:** SessionStart or PreToolUse hooks don't run.\n\n**Solution:**\n1. Verify `hooks/hooks.json` exists and is valid JSON\n2. Check hook scripts have execute permissions: `chmod +x hooks/scripts/*.sh`\n3. Ensure hook scripts don't have syntax errors\n4. Check Claude Code console for hook error messages\n\n## ðŸ¤ Contributing\n\nThis plugin is part of the ReAcTree family of development tools. See the main repository for contribution guidelines.\n\nFor customization options, see `CUSTOMIZATION.md` for detailed instructions on:\n- Adding custom skills\n- Extending agents\n- Modifying hooks\n- Project-specific rules\n\n## ðŸ“„ License\n\nMIT License - See LICENSE file for details.\n\n## ðŸ”— Related Projects\n\n- `reactree-rails-dev` - Rails development with ReAcTree\n- `reactree-flutter-dev` - Flutter development with ReAcTree\n\n---\n\n**Version:** 2.0.0\n**Author:** Mohamad Kaakati\n**Repository:** https://github.com/kaakati/ios-enterprise-dev\n**Release Date:** January 2026\n\n### What's New in v2.0.0\n\n- ðŸ†• `/ios-init` command for automated project setup\n- ðŸ†• Hooks system for workflow automation (6 hook scripts)\n- ðŸ“š 13 new skills (27 total): error-handling, concurrency, accessibility, performance, security, and more\n- ðŸ¤– 3 new utility agents: swiftgen-coordinator, accessibility-specialist, performance-profiler\n- ðŸ“– 3 new advanced examples: offline-sync, push-notifications, tvOS focus navigation\n- ðŸ”§ Enhanced agents with 2,000+ lines of implementation patterns\n- ðŸ“ Expanded debug/refactor commands (19-281 lines â†’ 3,370-3,693 lines)\n"
      },
      "plugins": [
        {
          "name": "rails-enterprise-dev",
          "source": "./plugins/rails-enterprise-dev",
          "description": "Enterprise-grade Rails development workflow with multi-agent orchestration, beads task tracking, and quality gates.",
          "version": "1.0.1",
          "author": {
            "name": "Mohamad Kaakati",
            "email": "hello@kaakati.me"
          },
          "homepage": "https://github.com/kaakati/rails-enterprise-dev",
          "category": "development",
          "categories": [
            "development"
          ],
          "install_commands": [
            "/plugin marketplace add Kaakati/rails-enterprise-dev",
            "/plugin install rails-enterprise-dev@manifest-marketplace"
          ]
        },
        {
          "name": "reactree-rails-dev",
          "source": "./plugins/reactree-rails-dev",
          "version": "2.14.0",
          "description": "ReAcTree Rails development with multi-agent orchestration, LSP-powered context compilation, Guardian validation cycle, mandatory planning-to-implementation handoff, parallel agent spawning, dual memory systems with 24h TTL caching, smart intent detection, UX Engineer, optimized model selection, and comprehensive skills library for A+ type-safe code",
          "author": {
            "name": "Mohamad Kaakati",
            "email": "hello@kaakati.me"
          },
          "homepage": "https://github.com/kaakati/rails-enterprise-dev",
          "category": "development",
          "categories": [
            "development"
          ],
          "install_commands": [
            "/plugin marketplace add Kaakati/rails-enterprise-dev",
            "/plugin install reactree-rails-dev@manifest-marketplace"
          ]
        },
        {
          "name": "reactree-flutter-dev",
          "source": "./plugins/reactree-flutter-dev",
          "version": "1.1.0",
          "description": "Flutter development with GetX state management, Clean Architecture, multi-agent orchestration, quality gates, comprehensive testing patterns, navigation, i18n, performance optimization, and accessibility patterns",
          "author": {
            "name": "Mohamad Kaakati",
            "email": "hello@kaakati.me"
          },
          "homepage": "https://github.com/kaakati/flutter-enterprise-dev",
          "category": "development",
          "categories": [
            "development"
          ],
          "install_commands": [
            "/plugin marketplace add Kaakati/rails-enterprise-dev",
            "/plugin install reactree-flutter-dev@manifest-marketplace"
          ]
        },
        {
          "name": "reactree-ios-dev",
          "source": "./plugins/reactree-ios-dev",
          "version": "2.1.0",
          "description": "iOS and tvOS development with SwiftUI, MVVM, Clean Architecture, 14 specialized agents, 27 comprehensive skills, automated quality gates, hooks system, one-command setup (/ios-init), beads integration, offline sync, push notifications, tvOS focus navigation, accessibility testing, performance profiling, and dual memory systems",
          "author": {
            "name": "Mohamad Kaakati",
            "email": "hello@kaakati.me"
          },
          "homepage": "https://github.com/kaakati/ios-enterprise-dev",
          "category": "development",
          "categories": [
            "development"
          ],
          "install_commands": [
            "/plugin marketplace add Kaakati/rails-enterprise-dev",
            "/plugin install reactree-ios-dev@manifest-marketplace"
          ]
        }
      ]
    }
  ]
}