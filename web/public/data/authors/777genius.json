{
  "author": {
    "id": "777genius",
    "display_name": "–ò–ª–∏—è",
    "avatar_url": "https://avatars.githubusercontent.com/u/13103045?u=7b8c77975cf33d0c2adc26c70af76bdad06dba73&v=4"
  },
  "marketplaces": [
    {
      "name": "claude-notifications-go",
      "version": null,
      "description": "Smart notifications marketplace for Claude Code (Go implementation)",
      "repo_full_name": "777genius/claude-notifications-go",
      "repo_url": "https://github.com/777genius/claude-notifications-go",
      "repo_description": "üîî Cross-platform smart notifications plugin for Claude Code. 6 different types. Instant. Analyze context. Zero dependencies. webhooks. Easy installation.",
      "signals": {
        "stars": 218,
        "forks": 11,
        "pushed_at": "2026-01-28T12:16:31Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n    \"name\": \"claude-notifications-go\",\n    \"owner\": {\n        \"name\": \"777genius\",\n        \"email\": \"[email protected]\"\n    },\n    \"metadata\": {\n        \"description\": \"Smart notifications marketplace for Claude Code (Go implementation)\",\n        \"version\": \"1.14.0\"\n    },\n    \"plugins\": [{\n        \"name\": \"claude-notifications-go\",\n        \"source\": \"./\",\n        \"description\": \"Smart notifications for Claude Code task statuses (Go implementation)\",\n        \"version\": \"1.14.0\",\n        \"author\": {\n            \"name\": \"777genius\",\n            \"email\": \"[email protected]\"\n        },\n        \"repository\": \"https://github.com/777genius/claude-notifications-go\",\n        \"license\": \"MIT\",\n        \"keywords\": [\n            \"notifications\",\n            \"alerts\",\n            \"productivity\",\n            \"go\",\n            \"hooks\"\n        ],\n        \"category\": \"productivity\",\n        \"tags\": [\"notifications\", \"hooks\", \"alerts\", \"go\"]\n    }]\n}",
        ".claude-plugin/plugin.json": "{\n    \"name\": \"claude-notifications-go\",\n    \"version\": \"1.14.0\",\n    \"description\": \"Smart notifications for Claude Code task statuses (Go implementation)\",\n    \"author\": {\n        \"name\": \"777genius\",\n        \"email\": \"[email protected]\"\n    },\n    \"license\": \"MIT\",\n    \"repository\": \"https://github.com/777genius/claude-notifications-go\",\n    \"keywords\": [\"notifications\", \"alerts\", \"productivity\", \"go\"],\n    \"commands\": [\n        \"./commands/notifications-init.md\",\n        \"./commands/notifications-settings.md\"\n    ]\n}\n",
        "README.md": "# Claude Notifications (plugin)\n\n[![Ubuntu CI](https://github.com/777genius/claude-notifications-go/workflows/Ubuntu%20CI/badge.svg)](https://github.com/777genius/claude-notifications-go/actions)\n[![macOS CI](https://github.com/777genius/claude-notifications-go/workflows/macOS%20CI/badge.svg)](https://github.com/777genius/claude-notifications-go/actions)\n[![Windows CI](https://github.com/777genius/claude-notifications-go/workflows/Windows%20CI/badge.svg)](https://github.com/777genius/claude-notifications-go/actions)\n[![Go Report Card](https://goreportcard.com/badge/github.com/777genius/claude-notifications-go)](https://goreportcard.com/report/github.com/777genius/claude-notifications-go)\n[![codecov](https://codecov.io/gh/777genius/claude-notifications-go/branch/main/graph/badge.svg)](https://codecov.io/gh/777genius/claude-notifications-go)\n\n<img width=\"250\" height=\"350\" alt=\"image\" src=\"https://github.com/user-attachments/assets/e7aa6d8e-5d28-48f7-bafe-ad696857b938\" />\n<img width=\"350\" height=\"239\" alt=\"image\" src=\"https://github.com/user-attachments/assets/42b7a306-f56f-4499-94cf-f3d573416b6d\" />\n<img width=\"220\" alt=\"image\" src=\"https://github.com/user-attachments/assets/4b5929d8-1a51-4a15-a3d5-dda5482554cc\" />\n\n\nSmart notifications for Claude Code with click-to-focus, git branch display, and webhook integrations.\n\n## Table of Contents\n\n  - [Supported Notification Types](#supported-notification-types)\n  - [Installation](#installation)\n    - [Prerequisites](#prerequisites)\n    - [Install from GitHub](#install-from-github)\n    - [Updating](#updating)\n  - [Features](#features)\n    - [üñ•Ô∏è Cross-Platform Support](#Ô∏è-cross-platform-support)\n    - [üß† Smart Detection](#-smart-detection)\n    - [üîî Flexible Notifications](#-flexible-notifications)\n    - [üîä Audio Customization](#-audio-customization)\n    - [üåê Enterprise-Grade Webhooks](#-enterprise-grade-webhooks)\n    - [üõ†Ô∏è Developer Experience](#Ô∏è-developer-experience)\n    - [ü§ù Plugin Compatibility](#-plugin-compatibility)\n  - [Platform Support](#platform-support)\n    - [macOS Click-to-Focus](#macos-click-to-focus)\n  - [Quick Start](#quick-start)\n    - [Interactive Setup (Recommended)](#interactive-setup-recommended)\n    - [Manual Configuration](#manual-configuration)\n    - [Sound Options](#sound-options)\n    - [Test Sound Playback](#test-sound-playback)\n  - [Architecture](#architecture)\n  - [Usage](#usage)\n  - [Development](#development)\n    - [Local installation for development](#local-installation-for-development)\n    - [Building binaries](#building-binaries)\n  - [Testing](#testing)\n  - [Documentation](#documentation)\n  - [License](#license)\n\n## Supported Notification Types\n\n| Status | Icon | Description | Trigger |\n|--------|------|-------------|---------|\n| Task Complete | ‚úÖ | Main task completed | Stop/SubagentStop hooks (state machine detects active tools like Write/Edit/Bash, or ExitPlanMode followed by tool usage) |\n| Review Complete | üîç | Code review finished | Stop/SubagentStop hooks (state machine detects only read-like tools: Read/Grep/Glob with no active tools, plus long text response >200 chars) |\n| Question | ‚ùì | Claude has a question | PreToolUse hook (AskUserQuestion) OR Notification hook |\n| Plan Ready | üìã | Plan ready for approval | PreToolUse hook (ExitPlanMode) |\n| Session Limit Reached | ‚è±Ô∏è | Session limit reached | Stop/SubagentStop hooks (state machine detects \"Session limit reached\" text in last 3 assistant messages) |\n| API Error: 401 | üî¥ | Authentication expired | Stop/SubagentStop hooks (state machine detects \"API Error: 401\" and \"Please run /login\" in last 3 assistant messages) |\n\n\n## Installation\n\n### Prerequisites\n\n- Claude Code (tested on v2.0.15)\n- **Windows users:** Git Bash (included with [Git for Windows](https://git-scm.com/download/win)) or WSL\n- **macOS/Linux users:** No additional software required\n\n### Install from GitHub\n\n```bash\n# 1) Add marketplace\n/plugin marketplace add 777genius/claude-notifications-go\n# 2) Install plugin\n/plugin install claude-notifications-go@claude-notifications-go\n# 3) Restart Claude Code\n# 4) Init\n/claude-notifications-go:notifications-init\n\n# Optional\n# Configure sounds and settings\n/claude-notifications-go:notifications-settings\n```\n\n**That's it!**\n\n1. `/claude-notifications-go:notifications-init` downloads the correct binary for your platform (macOS/Linux/Windows) from GitHub Releases\n2. `/claude-notifications-go:notifications-settings` guides you through sound configuration with an interactive wizard\n\nThe binary is downloaded once and cached locally. You can re-run `/claude-notifications-go:notifications-settings` anytime to reconfigure.\n\n### Updating\n\nTo update to the latest version:\n\n1. Run `/plugin`, select **Marketplaces**, choose `claude-notifications-go`, then select **Update marketplace**\n2. Select **Installed**, choose `claude-notifications-go`, then select **Update now**\n3. Run `/claude-notifications-go:notifications-init` to download new binaries\n4. Restart Claude Code to apply hook changes\n\nYour `config.json` settings will be preserved during the update.\n\n\n## Features\n\n### üñ•Ô∏è Cross-Platform Support\n- **macOS** (Intel & Apple Silicon), **Linux** (x64 & ARM64), **Windows 10+** (x64)\n- Works in PowerShell, CMD, Git Bash, or WSL\n- Pre-built binaries included - no compilation needed\n\n### üß† Smart Detection\n- **Operations count** File edits, file creates, ran commans + total time\n- **State machine analysis** with temporal locality for accurate status detection\n- **6 notification types**: Task Complete, Review Complete, Question, Plan Ready, Session Limit, API Error\n- **PreToolUse integration** for instant alerts when Claude asks questions or creates plans\n- Analyzes conversation context to avoid false positives\n\n### üîî Flexible Notifications\n- **Desktop notifications** with custom icons and sounds\n- **Click-to-focus** (macOS): Click notification to activate your terminal window\n- **Git branch in title**: See current branch like `‚úÖ Completed [bold-cat] main`\n- **Webhook integrations**: Slack, Discord, Telegram, Lark/Feishu, and custom endpoints\n- **Session names**: Friendly identifiers like `[bold-cat]` for multi-session tracking\n- **Cooldown system** to prevent notification spam\n\n### üîä Audio Customization\n- **Multi-format support**: MP3, WAV, FLAC, OGG, AIFF\n- **Volume control**: 0-100% customizable volume\n- **Audio device selection**: Route notifications to a specific output device (e.g., \"MacBook Pro-Lautsprecher\")\n- **Built-in sounds**: Professional notification sounds included\n- **System sounds**: Use macOS/Linux system sounds (optional)\n- **Sound preview**: Test sounds before choosing with `/claude-notifications-go:notifications-settings`\n\n### üåê Enterprise-Grade Webhooks\n- **Retry logic** with exponential backoff\n- **Circuit breaker** for fault tolerance\n- **Rate limiting** with token bucket algorithm\n- **Rich formatting** with platform-specific embeds/attachments\n- **Request tracing** and performance metrics\n- **‚Üí [Complete Webhook Documentation](docs/webhooks/README.md)**\n\n### üõ†Ô∏è Developer Experience\n- **Interactive setup wizards**: `/claude-notifications-go:notifications-init` for binary setup, `/claude-notifications-go:notifications-settings` for configuration\n- **JSONL streaming parser** for efficient large file processing\n- **Comprehensive testing**: Unit tests with race detection\n- **Two-phase lock deduplication** prevents duplicate notifications\n- **Structured logging** to `notification-debug.log` for troubleshooting\n\n**Notes:**\n- **PreToolUse hooks** trigger instantly when Claude is about to use ExitPlanMode or AskUserQuestion tools\n- **Stop/SubagentStop hooks** analyze the conversation transcript using a state machine to determine the task status\n- **Notification hook** is triggered when Claude needs user input (permission dialogs, questions)\n- The state machine uses temporal locality (last 15 messages) and tool analysis to accurately detect task completion\n\n### ü§ù Plugin Compatibility\n\nCompatible with other Claude Code plugins that spawn background Claude instances:\n\n- **[double-shot-latte](https://github.com/obra/double-shot-latte)** - Auto-continue plugin that uses a background Claude instance for context evaluation. Notifications are automatically suppressed for the background judge process (via `CLAUDE_HOOK_JUDGE_MODE=true` environment variable).\n\nIf you're developing a plugin that spawns background Claude instances and want to suppress notifications, set `CLAUDE_HOOK_JUDGE_MODE=true` in the environment before invoking Claude.\n\n## Platform Support\n\n**Supported platforms:**\n- macOS (Intel & Apple Silicon)\n- Linux (x64 & ARM64)\n- Windows 10+ (x64)\n\n**No additional dependencies:**\n- ‚úÖ Binaries auto-download from GitHub Releases\n- ‚úÖ Pure Go - no C compiler needed\n- ‚úÖ All libraries bundled\n- ‚úÖ Works offline after first setup\n\n**Windows-specific features:**\n- Native Toast notifications (Windows 10+)\n- Works in PowerShell, CMD, Git Bash, or WSL\n- MP3/WAV/OGG/FLAC audio playback via native Windows APIs\n- System sounds not accessible - use built-in MP3s or custom files\n\n### macOS Click-to-Focus\n\nOn macOS, clicking a notification will activate your terminal window - no more hunting for the right window!\n\n**How it works:**\n- Automatically detects your terminal (iTerm2, Warp, Terminal.app, kitty, Ghostty, WezTerm, Alacritty)\n- Uses `terminal-notifier` (auto-installed via `/claude-notifications-go:notifications-init`)\n- Falls back to standard notifications if terminal-notifier is unavailable\n\n**Configuration** (in `config/config.json`):\n```json\n{\n  \"notifications\": {\n    \"desktop\": {\n      \"clickToFocus\": true,\n      \"terminalBundleId\": \"\"\n    }\n  }\n}\n```\n\n| Option | Default | Description |\n|--------|---------|-------------|\n| `clickToFocus` | `true` | Enable click-to-focus on macOS |\n| `terminalBundleId` | `\"\"` | Override auto-detected terminal. Use bundle ID like `com.googlecode.iterm2` |\n\n**Supported terminals (auto-detected):**\n- Terminal.app, iTerm2, Warp, kitty, Ghostty, WezTerm, Alacritty, Hyper, VS Code\n\nTo find your terminal's bundle ID: `osascript -e 'id of app \"YourTerminal\"'`\n\n## Quick Start\n\n### Interactive Setup (Recommended)\n\nFirst, download the notification binary:\n\n```\n/claude-notifications-go:notifications-init\n```\n\nThen configure your notification sounds:\n\n```\n/claude-notifications-go:notifications-settings\n```\n\nThis will:\n- ‚úÖ Show available built-in and system sounds\n- üîä Let you preview sounds before choosing\n- üìù Create config.json with your preferences\n- ‚úÖ Test your setup when complete\n\n**Features:**\n- Preview sounds: Type `\"play Glass\"` or `\"preview task-complete\"`\n- Choose from built-in MP3s or system sounds (macOS/Linux)\n- Configure webhooks (optional)\n- Interactive questions with AskUserQuestion tool\n\n### Manual Configuration\n\nAlternatively, edit `config/config.json` directly:\n\n```json\n{\n  \"notifications\": {\n    \"desktop\": {\n      \"enabled\": true,\n      \"sound\": true,\n      \"volume\": 1.0,\n      \"audioDevice\": \"\",\n      \"appIcon\": \"${CLAUDE_PLUGIN_ROOT}/claude_icon.png\"\n    },\n    \"webhook\": {\n      \"enabled\": false,\n      \"preset\": \"slack\",\n      \"url\": \"https://hooks.slack.com/services/YOUR/WEBHOOK/URL\",\n      \"chat_id\": \"\",\n      \"format\": \"json\",\n      \"headers\": {}\n    },\n    \"suppressQuestionAfterTaskCompleteSeconds\": 12\n  },\n  \"statuses\": {\n    \"task_complete\": {\n      \"title\": \"‚úÖ Task Completed\",\n      \"sound\": \"${CLAUDE_PLUGIN_ROOT}/sounds/task-complete.mp3\",\n      \"keywords\": [\"completed\", \"done\", \"finished\"]\n    },\n    \"plan_ready\": {\n      \"title\": \"üìã Plan Ready for Review\",\n      \"sound\": \"${CLAUDE_PLUGIN_ROOT}/sounds/plan-ready.mp3\",\n      \"keywords\": [\"plan\", \"strategy\"]\n    },\n    \"question\": {\n      \"title\": \"‚ùì Claude Has Questions\",\n      \"sound\": \"${CLAUDE_PLUGIN_ROOT}/sounds/question.mp3\",\n      \"keywords\": [\"question\", \"clarify\"]\n    },\n    \"session_limit_reached\": {\n      \"title\": \"‚è±Ô∏è Session Limit Reached\",\n      \"sound\": \"${CLAUDE_PLUGIN_ROOT}/sounds/question.mp3\"\n    }\n  }\n}\n```\n\n### Sound Options\n\n**Built-in sounds** (included):\n- `${CLAUDE_PLUGIN_ROOT}/sounds/task-complete.mp3`\n- `${CLAUDE_PLUGIN_ROOT}/sounds/review-complete.mp3`\n- `${CLAUDE_PLUGIN_ROOT}/sounds/question.mp3`\n- `${CLAUDE_PLUGIN_ROOT}/sounds/plan-ready.mp3`\n\n**System sounds:**\n- macOS: `/System/Library/Sounds/Glass.aiff`, `/System/Library/Sounds/Hero.aiff`, etc.\n- Linux: `/usr/share/sounds/**/*.ogg` (varies by distribution)\n- Windows: Use built-in MP3s (system sounds not easily accessible)\n\n**Supported formats:** MP3, WAV, FLAC, OGG/Vorbis, AIFF\n\n### Audio Device Selection\n\nRoute notification sounds to a specific audio output device instead of the system default:\n\n```bash\n# List available audio devices\nbin/list-devices\n\n# Output:\n#   0: MacBook Pro-Lautsprecher\n#   1: Babyface (23314790) (default)\n#   2: Immersed\n```\n\nThen add the device name to your `config.json`:\n\n```json\n{\n  \"notifications\": {\n    \"desktop\": {\n      \"audioDevice\": \"MacBook Pro-Lautsprecher\"\n    }\n  }\n}\n```\n\nLeave `audioDevice` empty or omit it to use the system default device.\n\n### Test Sound Playback\n\nPreview any sound file with optional volume control:\n\n```bash\n# Test built-in sound (full volume)\nbin/sound-preview sounds/task-complete.mp3\n\n# Test with reduced volume (30% - recommended for testing)\nbin/sound-preview --volume 0.3 sounds/task-complete.mp3\n\n# Test macOS system sound at 30% volume\nbin/sound-preview --volume 0.3 /System/Library/Sounds/Glass.aiff\n\n# Test custom sound at 50% volume\nbin/sound-preview --volume 0.5 /path/to/your/sound.wav\n\n# Show all options\nbin/sound-preview --help\n```\n\n**Volume flag:** Use `--volume` to control playback volume (0.0 to 1.0). Default is 1.0 (full volume).\n\n\n## Architecture\n\n```text\ncmd/\n  claude-notifications/     # CLI entry point\n  sound-preview/            # Sound preview utility\n  list-devices/             # List available audio output devices\ninternal/\n  audio/                    # Audio playback with device selection (malgo)\n  config/                   # Configuration loading and validation\n  logging/                  # Structured logging to notification-debug.log\n  platform/                 # Cross-platform utilities (temp dirs, mtime, etc.)\n  analyzer/                 # JSONL parsing and state machine\n  state/                    # Per-session state and cooldown management\n  dedup/                    # Two-phase lock deduplication\n  notifier/                 # Desktop notifications and sound playback\n  webhook/                  # Webhook integrations (Slack/Discord/Telegram/Custom)\n  hooks/                    # Hook routing (PreToolUse/Stop/SubagentStop/Notification)\n  summary/                  # Message summarization and markdown cleanup\n  sessionname/              # Friendly session name generation ([bold-cat], etc.)\npkg/\n  jsonl/                    # JSONL streaming parser\ncommands/\n  notifications-init.md     # Binary download wizard\n  notifications-settings.md # Interactive settings configuration wizard\nsounds/                     # Custom notification sounds (MP3)\nclaude_icon.png             # Plugin icon for desktop notifications\n```\n\n## Usage\n\nThe plugin is invoked automatically by Claude Code hooks. You can also test manually:\n\n```bash\n# Test PreToolUse hook\necho '{\"session_id\":\"test\",\"transcript_path\":\"/path/to/transcript.jsonl\",\"tool_name\":\"ExitPlanMode\"}' | \\\n  claude-notifications handle-hook PreToolUse\n\n# Test Stop hook\necho '{\"session_id\":\"test\",\"transcript_path\":\"/path/to/transcript.jsonl\"}' | \\\n  claude-notifications handle-hook Stop\n```\n\n## Development\n\n### Local installation for development\n\n```bash\n# 1. Clone repository\ngit clone https://github.com/777genius/claude-notifications-go\ncd claude-notifications-go\n\n# 2. Build binary for your platform\nmake build\n\n# 3. Add as local marketplace\n/plugin marketplace add .\n\n# 4. Install plugin\n/plugin install claude-notifications-go@local-dev\n\n# 5. Restart Claude Code for hooks to take effect\n\n# 6. Download binary and configure settings\n/claude-notifications-go:notifications-init\n/claude-notifications-go:notifications-settings\n```\n\n**Note:** For local development, build the binary with `make build` first. The `/claude-notifications-go:notifications-init` command will use your locally built binary if it exists, otherwise it will download from GitHub Releases.\n\n### Building binaries\n\n```bash\n# Run tests\nmake test\n\n# Run tests with race detection\nmake test-race\n\n# Generate coverage report\nmake test-coverage\n\n# Build for all platforms\nmake build-all\n\n# Rebuild and prepare for commit\nmake rebuild-and-commit\n\n# Lint\nmake lint\n```\n\n**Note:** GitHub Actions automatically rebuilds binaries when Go code changes are pushed.\n\n## Testing\n\n```bash\n# Unit tests\ngo test ./internal/config -v\ngo test ./internal/analyzer -v\ngo test ./internal/dedup -v -race\n\n# Integration tests\ngo test ./test -v\n\n# Specific test\ngo test -run TestStateMachine ./internal/analyzer -v\n```\n\n## Documentation\n\n- **[Volume Control Guide](docs/volume-control.md)** - Customize notification volume\n  - Configure volume from 0% to 100%\n  - Logarithmic scaling for natural sound\n  - Per-environment recommendations\n\n- **[Interactive Sound Preview](docs/interactive-sound-preview.md)** - Preview sounds during setup\n  - Interactive sound selection\n  - Preview before choosing\n\n- **[Webhook Integration Guide](docs/webhooks/README.md)** - Complete guide for webhook setup\n  - **[Slack](docs/webhooks/slack.md)** - Slack integration with color-coded attachments\n  - **[Discord](docs/webhooks/discord.md)** - Discord integration with rich embeds\n  - **[Telegram](docs/webhooks/telegram.md)** - Telegram bot integration\n  - **[Lark/Feishu](docs/webhooks/lark.md)** - Lark/Feishu integration with interactive cards\n  - **[Custom Webhooks](docs/webhooks/custom.md)** - Any webhook-compatible service\n  - **[Configuration](docs/webhooks/configuration.md)** - Retry, circuit breaker, rate limiting\n  - **[Monitoring](docs/webhooks/monitoring.md)** - Metrics and debugging\n  - **[Troubleshooting](docs/webhooks/troubleshooting.md)** - Common issues and solutions\n\n## License\n\nGPL-3.0 - See [LICENSE](LICENSE) file for details.\n"
      },
      "plugins": [
        {
          "name": "claude-notifications-go",
          "source": "./",
          "description": "Smart notifications for Claude Code task statuses (Go implementation)",
          "version": "1.14.0",
          "author": {
            "name": "777genius",
            "email": "[email protected]"
          },
          "repository": "https://github.com/777genius/claude-notifications-go",
          "license": "MIT",
          "keywords": [
            "notifications",
            "alerts",
            "productivity",
            "go",
            "hooks"
          ],
          "category": "productivity",
          "tags": [
            "notifications",
            "hooks",
            "alerts",
            "go"
          ],
          "categories": [
            "alerts",
            "go",
            "hooks",
            "notifications",
            "productivity"
          ],
          "install_commands": [
            "/plugin marketplace add 777genius/claude-notifications-go",
            "/plugin install claude-notifications-go@claude-notifications-go"
          ]
        }
      ]
    }
  ]
}