{
  "author": {
    "id": "PrefectHQ",
    "display_name": "Prefect",
    "avatar_url": "https://avatars.githubusercontent.com/u/39270919?v=4"
  },
  "marketplaces": [
    {
      "name": "prefect",
      "version": null,
      "description": "Prefect workflow orchestration - read-only MCP server for diagnostics, CLI skill for mutations",
      "repo_full_name": "PrefectHQ/prefect-mcp-server",
      "repo_url": "https://github.com/PrefectHQ/prefect-mcp-server",
      "repo_description": "Prefect MCP server",
      "signals": {
        "stars": 26,
        "forks": 22,
        "pushed_at": "2026-02-12T18:44:31Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"prefect\",\n  \"owner\": {\n    \"name\": \"Prefect Technologies\",\n    \"email\": \"help@prefect.io\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"prefect\",\n      \"description\": \"Prefect workflow orchestration - read-only MCP server for diagnostics, CLI skill for mutations\",\n      \"source\": \"./\",\n      \"skills\": [\"./skills/cli\"]\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"prefect\",\n  \"description\": \"Prefect workflow orchestration - read-only MCP server for diagnostics, CLI skill for mutations\",\n  \"author\": {\n    \"name\": \"Prefect Technologies\",\n    \"email\": \"help@prefect.io\",\n    \"url\": \"https://github.com/prefecthq\"\n  },\n  \"repository\": \"https://github.com/prefecthq/prefect-mcp-server\",\n  \"keywords\": [\n    \"prefect\",\n    \"workflows\",\n    \"orchestration\",\n    \"data-pipelines\",\n    \"flow-runs\",\n    \"observability\"\n  ],\n  \"mcpServers\": \"./.mcp.json\"\n}\n",
        "README.md": "# prefect-mcp-server\n\n> [!WARNING]\n> **This project is under active development and may change drastically at any time.**\n> \n> This is an experimental MCP server for Prefect. APIs, features, and behaviors are subject to change without notice. We encourage you to try it out, provide feedback, and contribute! Please [create issues](https://github.com/PrefectHQ/prefect-mcp-server/issues) or [open PRs](https://github.com/PrefectHQ/prefect-mcp-server/pulls) with your ideas and suggestions.\n\nAn MCP server for interacting with [`prefect`](https://github.com/prefecthq/prefect) resources.\n\n## Quick start\n\n### Claude Code plugin (recommended)\n\nThe easiest way to get started with Claude Code:\n\n```bash\n# add from marketplace\n/plugin marketplace add prefecthq/prefect-mcp-server\n\n# install the plugin\n/plugin install prefect\n```\n\nThis installs both the MCP server (for read-only diagnostics) and a CLI skill (for mutations like triggering deployments or cancelling runs).\n\n> [!NOTE]\n> The plugin uses your local Prefect configuration from `~/.prefect/profiles.toml`. For explicit credentials, use the local uvx setup below.\n\n### Deploy on FastMCP Cloud\n\n1. Fork this repository on GitHub (`gh repo fork prefecthq/prefect-mcp-server`)\n2. Go to [fastmcp.cloud](https://fastmcp.cloud) and sign in\n3. Create a new server pointing to your fork:\n   - server path: `src/prefect_mcp_server/server.py`\n   - requirements: `pyproject.toml` (or leave blank)\n   - environment variables:\n     - `PREFECT_API_URL`: `https://api.prefect.cloud/api/accounts/[ACCOUNT_ID]/workspaces/[WORKSPACE_ID]`\n     - `PREFECT_API_KEY`: your Prefect Cloud API key (or `PREFECT_API_AUTH_STRING` for OSS with basic auth)\n4. get your server URL (e.g., `https://your-server-name.fastmcp.app/mcp`)\n5. Add to your favorite MCP client (e.g., Claude Code):\n\n```bash\n# add to claude code with http transport\nclaude mcp add prefect --transport http https://your-server-name.fastmcp.app/mcp\n```\n\n> [!NOTE]\n> When deploying to FastMCP Cloud, environment variables are configured on the FastMCP Cloud server itself, not in your client configuration. FastMCP's authentication secures access to your MCP server, while the MCP server uses your Prefect API key to access your Prefect instance.\n\n<details>\n<summary>Multi-tenant deployments with HTTP headers</summary>\n\nFor centrally-hosted deployments where multiple users connect to the same MCP server instance, credentials can be passed via HTTP headers instead of environment variables. This enables each user to authenticate with their own Prefect workspace.\n\n**Supported headers:**\n- `X-Prefect-Api-Url`: Prefect API URL (required for both Cloud and OSS)\n- `X-Prefect-Api-Key`: Prefect Cloud API key\n- `X-Prefect-Api-Auth-String`: Basic auth credentials for OSS (format: `username:password`)\n\n**Claude Code CLI:**\n\n```bash\nclaude mcp add-json prefect '{\n  \"type\": \"http\",\n  \"url\": \"https://your-server.fastmcp.app/mcp\",\n  \"headers\": {\n    \"X-Prefect-Api-Url\": \"https://api.prefect.cloud/api/accounts/[ACCOUNT_ID]/workspaces/[WORKSPACE_ID]\",\n    \"X-Prefect-Api-Key\": \"your-api-key\"\n  }\n}'\n```\n\n**Claude Desktop app:**\n\nEdit `~/Library/Application Support/Claude/claude_desktop_config.json`:\n\n```json\n{\n  \"mcpServers\": {\n    \"prefect\": {\n      \"type\": \"http\",\n      \"url\": \"https://your-server.fastmcp.app/mcp\",\n      \"headers\": {\n        \"X-Prefect-Api-Url\": \"https://api.prefect.cloud/api/accounts/[ACCOUNT_ID]/workspaces/[WORKSPACE_ID]\",\n        \"X-Prefect-Api-Key\": \"your-api-key\"\n      }\n    }\n  }\n}\n```\n\n**Python with FastMCP client:**\n\n```python\nfrom fastmcp.client import Client\nfrom fastmcp.client.transports import StreamableHttpTransport\n\nheaders = {\n    \"X-Prefect-Api-Url\": \"https://api.prefect.cloud/api/accounts/[ACCOUNT_ID]/workspaces/[WORKSPACE_ID]\",\n    \"X-Prefect-Api-Key\": \"your-api-key\",\n}\n\ntransport = StreamableHttpTransport(url=\"https://your-server.fastmcp.app/mcp\", headers=headers)\nclient = Client(transport=transport)\n\nasync with client:\n    result = await client.call_tool(\"get_identity\", {})\n    print(result)\n```\n\n> [!TIP]\n> Find your Prefect Cloud credentials in your dashboard or in `~/.prefect/profiles.toml`\n\n> [!NOTE]\n> When HTTP headers are provided, they take precedence over environment variables. If no headers are present, the server falls back to using the configured environment variables.\n\n</details>\n\n### run locally\n\nWhen running the MCP server locally (via stdio transport), it will automatically use your local Prefect configuration from `~/.prefect/profiles.toml` if available.\n\n```bash\n# minimal setup - inherits from local prefect profile\nclaude mcp add prefect \\\n  -- uvx --from prefect-mcp prefect-mcp-server\n\n# or explicitly set credentials\nclaude mcp add prefect \\\n  -e PREFECT_API_URL=https://api.prefect.cloud/api/accounts/[ACCOUNT_ID]/workspaces/[WORKSPACE_ID] \\\n  -e PREFECT_API_KEY=your-cloud-api-key \\\n  -- uvx --from prefect-mcp prefect-mcp-server\n```\n\n> [!NOTE]\n> For open-source servers with basic auth, [use `PREFECT_API_AUTH_STRING`](https://docs.prefect.io/v3/advanced/security-settings#basic-authentication) instead of `PREFECT_API_KEY`\n\n> [!TIP]\n> Prefect Cloud users on Team, Pro, and Enterprise plans can use service accounts for API authentication. Pro and Enterprise users can restrict service accounts to read-only access (only `see_*` permissions) since this MCP server requires no write permissions.\n\n### Other MCP Clients\n\n<details>\n<summary>Configuration examples</summary>\n\nThis MCP server works with any MCP-compatible client. Here are configuration examples for popular clients:\n\n**Cursor**\n\nAdd to your Cursor settings (`.cursor/mcp.json`):\n\n```json\n{\n  \"mcpServers\": {\n    \"prefect\": {\n      \"command\": \"uvx\",\n      \"args\": [\"--from\", \"prefect-mcp\", \"prefect-mcp-server\"],\n      \"env\": {\n        \"PREFECT_API_URL\": \"https://api.prefect.cloud/api/accounts/[ACCOUNT_ID]/workspaces/[WORKSPACE_ID]\",\n        \"PREFECT_API_KEY\": \"your-api-key\"\n      }\n    }\n  }\n}\n```\n\n**Codex CLI**\n\nAdd using the Codex CLI:\n\n```bash\n# minimal setup - inherits from local prefect profile\ncodex mcp add prefect -- uvx --from prefect-mcp prefect-mcp-server\n\n# with explicit credentials\ncodex mcp add prefect \\\n  --env PREFECT_API_URL=https://api.prefect.cloud/api/accounts/[ACCOUNT_ID]/workspaces/[WORKSPACE_ID] \\\n  --env PREFECT_API_KEY=your-api-key \\\n  -- uvx --from prefect-mcp prefect-mcp-server\n```\n\nOr edit `~/.codex/config.toml` directly:\n\n```toml\n[mcp.prefect]\ncommand = \"uvx\"\nargs = [\"--from\", \"prefect-mcp\", \"prefect-mcp-server\"]\n\n[mcp.prefect.env]\nPREFECT_API_URL = \"https://api.prefect.cloud/api/accounts/[ACCOUNT_ID]/workspaces/[WORKSPACE_ID]\"\nPREFECT_API_KEY = \"your-api-key\"\n```\n\n**Gemini CLI**\n\nAdd using the Gemini CLI:\n\n```bash\n# minimal setup - inherits from local prefect profile\ngemini mcp add prefect uvx --from prefect-mcp prefect-mcp-server\n\n# with explicit credentials\ngemini mcp add prefect \\\n  -e PREFECT_API_URL=https://api.prefect.cloud/api/accounts/[ACCOUNT_ID]/workspaces/[WORKSPACE_ID] \\\n  -e PREFECT_API_KEY=your-api-key \\\n  uvx --from prefect-mcp prefect-mcp-server\n\n# HTTP transport - for FastMCP Cloud deployment\ngemini mcp add prefect --transport http https://your-server-name.fastmcp.app/mcp\n```\n\nOr edit `~/.gemini/settings.json` directly:\n\n```json\n{\n  \"mcpServers\": {\n    \"prefect\": {\n      \"command\": \"uvx\",\n      \"args\": [\"--from\", \"prefect-mcp\", \"prefect-mcp-server\"],\n      \"env\": {\n        \"PREFECT_API_URL\": \"https://api.prefect.cloud/api/accounts/[ACCOUNT_ID]/workspaces/[WORKSPACE_ID]\",\n        \"PREFECT_API_KEY\": \"your-api-key\"\n      }\n    }\n  }\n}\n```\n\n**[Kiro](https://kiro.dev/docs/mcp/configuration/)**\n\nAdd to your Kiro MCP settings (`~/.kiro/settings/mcp.json`):\n\n```json\n{\n  \"mcpServers\": {\n    \"prefect\": {\n      \"command\": \"uvx\",\n      \"args\": [\"--from\", \"prefect-mcp\", \"prefect-mcp-server\"],\n      \"env\": {\n        \"PREFECT_API_URL\": \"https://api.prefect.cloud/api/accounts/[ACCOUNT_ID]/workspaces/[WORKSPACE_ID]\",\n        \"PREFECT_API_KEY\": \"your-api-key\"\n      }\n    }\n  }\n}\n```\n\n**VS Code with GitHub Copilot**\n\nAdd to your VS Code settings (`.vscode/mcp.json`):\n\n```json\n{\n  \"servers\": {\n    \"prefect\": {\n      \"command\": \"uvx\",\n      \"args\": [\"--from\", \"prefect-mcp\", \"prefect-mcp-server\"],\n      \"env\": {\n        \"PREFECT_API_URL\": \"https://api.prefect.cloud/api/accounts/[ACCOUNT_ID]/workspaces/[WORKSPACE_ID]\",\n        \"PREFECT_API_KEY\": \"your-api-key\"\n      }\n    }\n  }\n}\n```\n\n**Windsurf**\n\nAdd to your Windsurf MCP config (`~/.codeium/windsurf/mcp_config.json`):\n\n```json\n{\n  \"mcpServers\": {\n    \"prefect\": {\n      \"command\": \"uvx\",\n      \"args\": [\"--from\", \"prefect-mcp\", \"prefect-mcp-server\"],\n      \"env\": {\n        \"PREFECT_API_URL\": \"https://api.prefect.cloud/api/accounts/[ACCOUNT_ID]/workspaces/[WORKSPACE_ID]\",\n        \"PREFECT_API_KEY\": \"your-api-key\"\n      }\n    }\n  }\n}\n```\n\n> [!TIP]\n> Most MCP clients follow a similar configuration pattern. If your client isn't listed here, check its documentation for MCP server configuration - the `command`, `args`, and `env` values above should work with minor adjustments to the config format.\n\n</details>\n\n## Capabilities\n\nThis server enables MCP clients like Claude Code to interact with your Prefect instance:\n\n**Monitoring & inspection**\n- View dashboard overviews with flow run statistics and work pool status\n- Query deployments, flow runs, task runs, and work pools with advanced filtering\n- Retrieve detailed execution logs from flow runs\n- Track events across your workflow ecosystem\n\n**Enable CLI usage**\n- Allows AI assistants to effectively use the `prefect` CLI to manage Prefect resources\n- Create automations, trigger deployment runs, and more while maintaining proper attribution\n\n**Intelligent debugging**\n- Get contextual guidance for troubleshooting failed flow runs\n- Diagnose deployment issues, including concurrency problems\n- Identify root causes of workflow failures\n\n## Development\n\n<details>\n<summary>Setup & testing</summary>\n\n```bash\n# clone the repo\ngh repo clone prefecthq/prefect-mcp-server && cd prefect-mcp-server\n\n# install dev deps and pre-commit hooks\njust setup\n\n# run tests (uses ephemeral prefect database via prefect_test_harness)\njust test\n```\n\n</details>\n\n## Links\n\n- [FastMCP](https://github.com/jlowin/fastmcp) - the easiest way to build an mcp server\n- [FastMCP Cloud](https://fastmcp.cloud) - deploy your MCP server to the cloud\n- [Prefect](https://github.com/prefecthq/prefect) - the easiest way to build workflows\n- [Claude Code](https://docs.anthropic.com/en/docs/claude-code/overview) - one of the best MCP clients\n\n---\n\nmcp-name: io.github.PrefectHQ/prefect-mcp-server\n"
      },
      "plugins": [
        {
          "name": "prefect",
          "description": "Prefect workflow orchestration - read-only MCP server for diagnostics, CLI skill for mutations",
          "source": "./",
          "skills": [
            "./skills/cli"
          ],
          "categories": [],
          "install_commands": [
            "/plugin marketplace add PrefectHQ/prefect-mcp-server",
            "/plugin install prefect@prefect"
          ]
        }
      ]
    }
  ]
}