{
  "author": {
    "id": "PCIRCLE-AI",
    "display_name": "pcircle.ai",
    "avatar_url": "https://avatars.githubusercontent.com/u/252186075?v=4"
  },
  "marketplaces": [
    {
      "name": "pcircle-ai",
      "version": null,
      "description": "PCIRCLE AI Claude Code plugins marketplace",
      "repo_full_name": "PCIRCLE-AI/claude-code-buddy",
      "repo_url": "https://github.com/PCIRCLE-AI/claude-code-buddy",
      "repo_description": "MCP server that adds intelligence, memory, and task routing to Claude Code - turning it into a project-aware AI teammate",
      "signals": {
        "stars": 50,
        "forks": 9,
        "pushed_at": "2026-01-31T14:43:08Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"pcircle-ai\",\n  \"owner\": {\n    \"name\": \"pcircle.ai\"\n  },\n  \"metadata\": {\n    \"description\": \"PCIRCLE AI Claude Code plugins marketplace\",\n    \"version\": \"2.2.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"claude-code-buddy\",\n      \"description\": \"Your friendly AI companion for Claude Code - smart routing, prompt enhancement, and project memory\",\n      \"version\": \"2.2.0\",\n      \"author\": {\n        \"name\": \"PCIRCLE AI\"\n      },\n      \"source\": {\n        \"source\": \"github\",\n        \"repo\": \"PCIRCLE-AI/claude-code-buddy\"\n      },\n      \"tags\": [\"mcp\", \"productivity\", \"memory\", \"routing\"]\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"claude-code-buddy\",\n  \"description\": \"Your friendly AI companion for Claude Code - smart routing, prompt enhancement, and project memory\",\n  \"author\": {\n    \"name\": \"PCIRCLE AI\"\n  },\n  \"version\": \"2.2.0\",\n  \"homepage\": \"https://github.com/PCIRCLE-AI/claude-code-buddy\",\n  \"repository\": \"https://github.com/PCIRCLE-AI/claude-code-buddy\",\n  \"license\": \"AGPL-3.0\",\n  \"mcpServers\": {\n    \"claude-code-buddy\": {\n      \"type\": \"stdio\",\n      \"command\": \"node\",\n      \"args\": [\"${CLAUDE_PLUGIN_ROOT}/dist/mcp/server-bootstrap.js\"],\n      \"env\": {\n        \"NODE_ENV\": \"production\"\n      }\n    }\n  }\n}\n",
        "README.md": "# Claude Code Buddy (CCB)\n\nğŸŒ **Website:** [ccb.pcircle.ai](https://ccb.pcircle.ai) | **Languages:** English | [ç¹é«”ä¸­æ–‡](README.zh-TW.md)\n\n---\n\n> **Make Claude Code remember your project, learn from your feedback, and give you expert-level responses without expert-level prompts.**\n\nClaude Code Buddy is a Claude Code Plugin that adds intelligence, memory, and task routing to Claude Code - turning it from a powerful assistant into a project-aware AI teammate.\n\n---\n\n## The Problem\n\nYou're using Claude Code to build your project, but you keep hitting the same frustrations:\n\n- **\"Didn't we already discuss this?\"** - Claude forgets context between sessions\n- **\"Why am I explaining this again?\"** - Every conversation starts from zero\n- **\"This answer is too generic\"** - Same response whether you're debugging, reviewing code, or designing UI\n- **\"Let me write this 50-line prompt... again\"** - Repetitive instructions for common tasks\n\n**You end up being Claude's memory and project manager instead of focusing on building.**\n\n---\n\n## The Solution\n\nClaude Code Buddy sits between you and Claude Code, adding three superpowers:\n\n### 1. ğŸ§  **Project Memory**\n\nCCB remembers your architecture decisions, coding patterns, and past solutions. Ask \"Why did we choose PostgreSQL?\" and get the actual decision rationale - not a generic comparison.\n\n### 2. ğŸ¯ **Smart Task Routing**\n\nYour request gets analyzed and routed to the right \"expert mode\" - code review tasks get code review expertise, debugging gets systematic debugging methodology, frontend gets UI/UX best practices.\n\n### 3. ğŸ¯ **Capability Guidance**\n\nCCB tailors prompts to the task type and your project context, so reviews, debugging, and design work all get the right structure and guardrails.\n\n**Result:** Expert responses without expert prompts. Context that persists. Guidance that stays focused and actionable.\n\n### What does \"evolves with your project\" actually mean?\n\nCCB does not retrain models or modify Claude itself.\n\nInstead, evolution comes from a **persistent system layer** inside the Claude Code plugin:\n\nâ€¢ **Project memory accumulation**\nArchitectural decisions, conventions, and resolved discussions are stored as structured context.\n\nâ€¢ **Pattern reinforcement**\nRepeated approvals, refactors, and preferred solutions gradually shape how future prompts are constructed.\n\nâ€¢ **Task-type differentiation**\nReview, debugging, refactoring, and design tasks are handled with different internal prompting strategies.\n\nâ€¢ **Context reuse, not repetition**\nRelevant memory is selectively injected, avoiding prompt bloat while preserving continuity.\n\nOver time, Claude Code responses become:\nâ€¢ more aligned with your conventions\nâ€¢ more consistent across sessions\nâ€¢ less dependent on verbose prompts\n\nThis is *behavioral evolution through system memory and routing*, not model fine-tuning.\n\n---\n\n## See It In Action\n\n**Without CCB:**\n\n```\nYou: \"Optimize this database query\"\nClaude: [Generic advice about indexes and query structure]\n```\n\n**With CCB:**\n\n```\nYou: \"Optimize this database query\"\n\nCCB analyzes: Database optimization task\nCCB routes to: database optimization capability\nCCB enhances prompt with: DB best practices, indexing strategies, profiling techniques\n\nClaude: [Specific optimization for YOUR database setup, with actual query examples\n         and performance benchmarks based on your schema]\n```\n\n**The difference:** CCB knows your stack, remembers your schema, and delivers targeted expertise.\n\n---\n\n## How to Use CCB\n\nAfter installation, CCB works **two ways**:\n\n### ğŸ”„ Automatic Mode (Just Talk Normally)\n\nCCB enhances your requests automatically in the background. No special commands needed:\n\n```\nYou: \"Review this code for security issues\"\n     â†“\nCCB automatically:\n  â€¢ Detects task type â†’ code review\n  â€¢ Routes to â†’ security review capability\n  â€¢ Enhances prompt with â†’ security checklist, best practices\n     â†“\nClaude responds with specialized security expertise\n```\n\n**Just use Claude Code as usual** - CCB works invisibly to improve responses.\n\n### ğŸ® Buddy Commands (Explicit Control)\n\nUse these commands when you want specific CCB features:\n\n| Command | What It Does | Example |\n|---------|--------------|---------|\n| `buddy-do` | Execute task with smart routing | `buddy-do \"setup user authentication\"` |\n| `buddy-remember` | Search project memory | `buddy-remember \"why did we choose PostgreSQL\"` |\n| `buddy-help` | Get help on any command | `buddy-help remember` |\n\n### ğŸ’¾ Project Memory\n\nProject memory is captured automatically as you work. Use `buddy-remember` to recall key decisions and recent progress.\n\nProject memory is automatic. Use `buddy-remember` to recall decisions, patterns, and recent work.\n\n### ğŸ“‹ Quick Reference Card\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  CCB QUICK REFERENCE                                        â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  ğŸ”„ AUTOMATIC (just talk normally)                          â”‚\nâ”‚     â€¢ \"Review this code\" â†’ routes to code review            â”‚\nâ”‚     â€¢ \"Debug this error\" â†’ routes to debugging              â”‚\nâ”‚     â€¢ \"Design a component\" â†’ routes to UI design            â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  ğŸ® BUDDY COMMANDS                                          â”‚\nâ”‚     buddy-do \"task\"         Execute with smart routing      â”‚\nâ”‚     buddy-remember \"query\"  Search project memory           â”‚\nâ”‚     buddy-help [command]    Get help                        â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  ğŸ§­ WORKFLOW                                                 â”‚\nâ”‚     get-session-health     Check context health             â”‚\nâ”‚     get-workflow-guidance  Get next-step recommendations    â”‚\nâ”‚     generate-smart-plan    Create implementation plans      â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n---\n\n## Key Features\n\n### âœ¨ Automatic Expertise Routing\n\nCCB routes requests to internal specialists based on capability signals. You describe intent, CCB handles routing.\n\n**Capabilities include:**\n- Code review, security audits, and best-practice validation\n- Debugging and root-cause analysis\n- Refactoring and technical debt reduction\n- API design, backend architecture, and database optimization\n- Testing strategy and generation\n- Performance profiling and optimization\n- UI/UX design and technical writing\n- Research, product, and planning support\n\n### ğŸ’¾ Memory Systems\n\n**Knowledge Graph**\n\n```\nYou: \"Why did we choose this architecture?\"\nCCB: [Recalls the decision, the alternatives considered, and the tradeoffs]\n```\n\n**Project Context**\n\n```\nCCB remembers:\n- Your coding standards\n- Naming conventions\n- Project-specific patterns\n- What you've already built\n```\n\n### ğŸ¯ Capability Guidance & Prompt Focus\n\nCCB analyzes task complexity and routes to the right internal capability, shaping prompts for reviews, debugging, planning, or UI/UX work.\n\n**How it works**: TaskAnalyzer examines your request â†’ Estimates complexity (1-10) â†’ Routes to the best capability profile â†’ You get focused guidance without over-tuning prompts.\n\n**Real example**: \"Fix this typo\" gets a fast, minimal path, while \"Design authentication system\" gets a structured architecture workflow and risk checklist.\n\n### ğŸ¤ User-Friendly Commands\n\n```bash\n# Simple commands that just work\nbuddy-do \"setup authentication\"\nbuddy-do \"optimize this database query\"\nbuddy-remember \"how we implemented login\"\nbuddy-help\n```\n\n### ğŸ”„ Intelligent Workflow Guidance\n\n**CCB knows what's next.** After you write code, it suggests running tests. After tests pass, it suggests code review. No manual thinking required.\n\n```\nYou write code â†’ CCB: \"Code looks good! Run tests next?\"\nTests pass â†’ CCB: \"Tests green! Ready for code review?\"\nReview done â†’ CCB: \"Review complete! Commit and push?\"\n```\n\n**Workflow tools:**\n\n- `get-workflow-guidance` - Get next-step recommendations\n- `get-session-health` - Check session health status\n\n**Benefits:** Never wonder \"what should I do next?\" - CCB guides you through the complete development flow.\n\n### ğŸ“‹ Smart Implementation Planning\n\n**Break down complex features into bite-sized tasks.** CCB generates TDD-structured plans with capability-aware task breakdown.\n\n```\nYou: \"Plan implementation for user authentication\"\nCCB: [Generates step-by-step plan with:\n  - Test-first approach\n  - 2-5 minute tasks\n  - Right capability for each task\n  - Clear success criteria]\n```\n\n**Planning tool:**\n\n- `generate-smart-plan` - Create intelligent implementation plans\n\n### ğŸ”’ Security & Reliability\n\n**Built with security and stability as core principles.**\n\n**Security Hardening:**\n- âœ… **API Key Validation**: Comprehensive format validation prevents runtime failures\n- âœ… **Input Sanitization**: Blocks NaN, Infinity, and malicious input values (DoS prevention)\n- âœ… **SQL Injection Protection**: Pure parameterization with JSON functions (no string concatenation)\n- âœ… **Logging Sanitization**: 50+ patterns to redact API keys, tokens, credentials, PII from logs\n- âœ… **Path Traversal Prevention**: Validates database paths, resolves symlinks, enforces directory boundaries\n- âœ… **Zero Vulnerabilities**: Regular `npm audit` with immediate dependency updates\n\n**Reliability:**\n- âœ… **1226 Tests Passing**: Comprehensive test coverage across all components\n- âœ… **Timer Leak Prevention**: Proper cleanup in all async operations\n- âœ… **Race Condition Protection**: Systematic concurrency testing and prevention\n- âœ… **Graceful Error Handling**: Detailed error messages with recovery suggestions\n\n**Latest Security Audit (v2.3.5):**\n```bash\nnpm audit\n# Result: 0 vulnerabilities found âœ…\n```\n\n---\n\n## Quick Start (2 Minutes)\n\n### ğŸš€ One-Click Installation\n\n#### For Cursor Users\n\n<a href=\"cursor://anysphere.cursor-deeplink/mcp/install?name=@pcircle/claude-code-buddy-mcp&config=eyJjb21tYW5kIjoibnB4IiwiYXJncyI6WyIteSIsIkBwY2lyY2xlL2NsYXVkZS1jb2RlLWJ1ZGR5LW1jcCJdfQ==\">\n  <img src=\"https://cursor.com/deeplink/mcp-install-dark.png\" alt=\"Add to Cursor\" />\n</a>\n\n**Click the button above or paste this link in your browser:**\n```\ncursor://anysphere.cursor-deeplink/mcp/install?name=@pcircle/claude-code-buddy-mcp&config=eyJjb21tYW5kIjoibnB4IiwiYXJncyI6WyIteSIsIkBwY2lyY2xlL2NsYXVkZS1jb2RlLWJ1ZGR5LW1jcCJdfQ==\n```\n\n#### For VS Code / Claude Code Users\n\n**Quick MCP Configuration** (add to `~/.claude/mcp_settings.json`):\n```json\n{\n  \"mcpServers\": {\n    \"@pcircle/claude-code-buddy-mcp\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"@pcircle/claude-code-buddy-mcp\"]\n    }\n  }\n}\n```\n\nThen restart Claude Code and start using CCB!\n\n**ğŸ“– Detailed installation guide**: See [QUICK_INSTALL.md](docs/QUICK_INSTALL.md)\n\n### ğŸ”§ Process Management (Optional)\n\nCCB MCP server runs as a background process for each Claude Code CLI session. Normally, this is transparent and requires no action. However, you may want to manage processes when:\n\n- Upgrading to a new version\n- Debugging connection issues\n- Cleaning up orphaned processes\n\n**Quick Commands:**\n```bash\n# List all CCB MCP processes\nnpm run processes:list\n\n# Check for orphaned processes\nnpm run processes:orphaned\n\n# Clean up all CCB MCP processes\nnpm run processes:kill\n\n# Check MCP configuration\nnpm run processes:config\n```\n\n**ğŸ“– Detailed process management guide**: See [MCP_PROCESS_MANAGEMENT.md](docs/MCP_PROCESS_MANAGEMENT.md)\n\n---\n\n### Prerequisites\n\n- Node.js 20+ ([download](https://nodejs.org/))\n- Claude Code installed ([get it here](https://claude.com/claude-code)) or Cursor IDE\n\n### Manual Installation (Alternative)\n\n```bash\n# 1. Clone the repository\ngit clone https://github.com/PCIRCLE-AI/claude-code-buddy.git\ncd claude-code-buddy\n\n# 2. Run the interactive installer (it handles everything)\n./scripts/install.sh\n```\n\nThe installer guides you through **9 interactive steps**:\n\n**Core Setup (Steps 1-7)**:\n\n- âœ“ Check prerequisites (Node.js 20+, npm; git optional)\n- âœ“ Install dependencies\n- âœ“ Build the project\n- âœ“ Check system resources\n- âœ“ Configure environment\n- âœ“ Configure Claude Code MCP integration\n- âœ“ Test installation\n\n**Interactive Demos (Steps 8-9)**:\n\n- ğŸ“š **Step 8: Basic Usage Demo** - Learn about CCB's smart routing, example prompts, and memory features\n- âœ… **Step 9: MCP Verification** - Confirm the MCP server is reachable\n\n**No API keys needed in MCP server mode** - uses your existing Claude Code subscription.\n\n**Optional configuration** (only if you want to change defaults):\n```bash\ncp .env.example .env\n# For standalone orchestrator usage:\n# MCP_SERVER_MODE=false\n# ANTHROPIC_API_KEY=your_key_here\n# Optional guidance modes:\n# BEGINNER_MODE=true\n# EVIDENCE_MODE=true\n```\n\n### Start Using It\n\nRestart Claude Code, then try:\n\n```\n\"Analyze my codebase architecture\"\n\"Generate tests for auth.ts\"\n\"Review this code for security issues\"\n\"Optimize this database query\"\n```\n\nCCB automatically routes tasks to the right capability and enhances prompts with relevant context.\n\n---\n\n## How It Works\n\n```\nYour Request\n    â†“\nCCB analyzes the task\n    â†“\nRoutes to best capability type (e.g., code review, debugging)\n    â†“\nEnhances prompt with specialized context\n    â†“\nClaude Code executes with your subscription\n    â†“\nSystem learns from your choices (when you override recommendations)\n```\n\n**Under the hood:**\n\n- **Curated internal specialists** handle routing and prompt construction\n- **Smart routing** analyzes task complexity and automatically selects the right Claude model\n- **Evolution system** learns from your choices and continuously improves recommendations\n\n**Technical deep dive:** See [docs/README.md](docs/README.md)\n\n---\n\n## What CCB Does Well âœ…\n\n- **Makes Claude Code context-aware** for your specific project\n- **Reduces repetitive prompting** through intelligent task routing\n- **Remembers between sessions** with persistent memory systems (Knowledge Graph + Project Context)\n- **Provides specialized expertise** without you writing expert prompts\n- **Keeps responses focused** by routing to the right capability for each task\n- **Learns from your choices** when you override recommendations\n- **Guides your workflow** with intelligent next-step recommendations\n- **Reduces hallucinations** with evidence-first prompting and explicit assumptions\n- **Coordinates complex workflows** across multiple steps\n- **Cross-platform support** works seamlessly on Windows, macOS, and Linux\n- **Production-ready** with comprehensive testing, security hardening, and resource protection\n\n## Honest Limitations âš ï¸\n\n- **Not magic** - Still needs clear requirements from you\n- **Not a replacement for learning** - You should understand what you're building\n- **Enhances Claude Code, doesn't replace it** - Works alongside your existing setup\n- **Requires setup** - 2-minute install, not one-click (yet)\n- **Early stage (v2.2)** - Expect rough edges, but actively improving\n- **Limited by Claude's capabilities** - Can't make Claude do impossible things\n\n**Philosophy:** We're honest about what works and what doesn't. If something doesn't work for you, let us know - that feedback makes it better for everyone.\n\n---\n\n## Use Cases\n\n### Code Review\n\n```\n\"Review this PR for security vulnerabilities and code quality\"\nâ†’ Routes to code review capability\nâ†’ Gets security checklist + quality standards\nâ†’ Returns detailed review with specific recommendations\n```\n\n### Debugging\n\n```\n\"This function crashes with undefined, help debug\"\nâ†’ Routes to debugging capability\nâ†’ Gets systematic debugging methodology\nâ†’ Walks through root cause analysis step-by-step\n```\n\n### Frontend Design\n\n```\n\"Design a responsive dashboard with dark mode\"\nâ†’ Routes to UI design capability\nâ†’ Gets UI/UX patterns + accessibility guidelines\nâ†’ Returns complete design with responsive breakpoints\n```\n\n### Database Optimization\n\n```\n\"This Prisma query takes 2 seconds, optimize it\"\nâ†’ Routes to database optimization capability\nâ†’ Gets query optimization patterns + indexing strategies\nâ†’ Returns optimized query with performance benchmarks\n```\n\n---\n\n## Advanced Features\n\n### Multi-Agent Collaboration (A2A Protocol) - NEW\n\n**Enable multiple Claude Code Buddy instances to work together on complex tasks.**\n\nCCB now supports the **A2A (Agent-to-Agent) Protocol**, allowing you to:\n\n- **Delegate tasks** to other Claude instances\n- **Distribute workload** across multiple agents\n- **Specialize agents** for different domains (frontend, backend, testing, etc.)\n- **Track progress** of tasks across agents\n\n**Quick Example:**\n```\n# Terminal 1: Start agent \"alice\"\nexport CCB_AGENT_ID=\"alice\"\nnpm start\n\n# Terminal 2: Start agent \"bob\"\nexport CCB_AGENT_ID=\"bob\"\nnpm start\n\n# In Claude Desktop (connected to Alice):\n\"Use a2a-send-task to send this task to agent 'bob':\n 'Generate comprehensive test suite for UserService'\"\n```\n\n**Phase 0.5 Status**: Foundation complete with local agent discovery and task delegation. Full Claude integration coming in Phase 1.\n\nğŸ“– **[Complete A2A Documentation](docs/features/a2a-agent-collaboration.md)** - Quick start, architecture, workflows, and limitations\n\n**4 A2A MCP Tools:**\n- `a2a-send-task` - Send tasks to other agents\n- `a2a-get-task` - Query task status\n- `a2a-list-tasks` - List own tasks\n- `a2a-list-agents` - Discover available agents\n\n---\n\n### ğŸ§  Enhanced Auto-Memory System (Phase 0.6)\n\n**Automatic Knowledge Capture**\n- **Task Tracking**: Automatically extracts and records task goals, reasons, and expected outcomes from `buddy-do` calls\n- **Decision Recording**: Captures architectural decisions with full context, options considered, and trade-offs\n- **Progress Milestones**: Records significant progress points with impact analysis and learnings\n- **Error Resolution**: Auto-detects errors from command output and records solutions with root cause analysis\n\n**Entity Types**\n- `task_start`: Task initiation with extracted metadata\n- `decision`: Technical/architectural decisions\n- `progress_milestone`: Significant development milestones\n- `error_resolution`: Error patterns and solutions\n\n**Integration**\n- Seamlessly integrates with `buddy-do` tool\n- Automatic error detection via HookIntegration\n- Type-safe entity management with EntityType enum\n- Query capabilities via `buddy-remember`\n\nSee [Auto-Memory System Guide](docs/guides/auto-memory-system.md) for detailed documentation.\n\n---\n\n### Other Advanced Features\n\n- **Custom Skills** - Write your own routing behaviors in TypeScript\n- **Multi-step Planning** - Break down complex tasks into executable plans\n- **Workflow Coordination** - Automatic checkpoint detection and next-step suggestions\n- **Dashboard** - Real-time metrics, session health monitoring, performance tracking\n\n**Explore:** See [docs/](docs/) for detailed guides on each feature.\n\n---\n\n## Technical Specifications\n\n### Claude 4.5 Model Support\n\nCCB fully supports the latest Claude 4.5 model family:\n\n- **Claude Haiku 4.5** (claude-haiku-4-5-20251015) - Fast responses for simple tasks\n  - Pricing: $1.00 input / $5.00 output per MTok\n  - Use case: Quick queries, simple refactors, code formatting\n\n- **Claude Sonnet 4.5** (claude-sonnet-4-5-20250929) - Balanced performance for daily development\n  - Use case: Code generation, testing, moderate complexity tasks\n\n- **Claude Opus 4.5** (claude-opus-4-5-20251101) - Deep reasoning for complex challenges\n  - Use case: Architecture design, complex debugging, creative problem-solving\n\n**Smart Model Selection:** CCB automatically selects the appropriate model based on task complexity, optimizing for both quality and cost.\n\n### MCP Specification Compliance\n\nâœ… **Full compliance with MCP Specification 2025-11-25 (Phase 1)**\n\n**Compliance Status:**\n\n| Feature Category | Status | Coverage |\n|-----------------|--------|----------|\n| Tool Annotations (Â§4.1) | âœ… Complete | 11/11 tools |\n| Output Schemas (Â§4.2) | âœ… Complete | 11/11 tools |\n| Error Handling | âœ… Complete | All tools |\n| Documentation (Â§6) | âœ… Complete | Comprehensive |\n\n**What This Means:**\n- All MCP tools include comprehensive annotations (`readOnlyHint`, `destructiveHint`, `idempotentHint`, `openWorldHint`)\n- All tools define structured JSON schemas for type-safe, validated responses\n- Consistent error handling with actionable suggestions\n- Runtime validation ensures data integrity\n\n**ğŸ“– Complete Compliance Documentation:** [docs/mcp-compliance.md](docs/mcp-compliance.md)\n\n**11 MCP Tools Available:**\n\n**Core Tools:**\n1. `buddy-do` - Smart task execution with capability routing\n2. `buddy-remember` - Project memory recall\n3. `buddy-help` - Command documentation\n4. `get-session-health` - Session monitoring and diagnostics\n5. `get-workflow-guidance` - Intelligent workflow recommendations\n6. `generate-smart-plan` - Implementation plan generation\n7. `hook-tool-use` - Tool usage event tracking\n\n**A2A Protocol Tools (NEW):**\n8. `a2a-send-task` - Send tasks to other A2A agents\n9. `a2a-get-task` - Get task status from other agents\n10. `a2a-list-tasks` - List own tasks\n11. `a2a-list-agents` - Discover available agents\n\nSee [src/mcp/ToolDefinitions.ts](src/mcp/ToolDefinitions.ts) for complete tool specifications.\n\n---\n\n## Community & Support\n\n- **Documentation**: [docs/](docs/) folder + this README\n- **Issues**: [GitHub Issues](https://github.com/PCIRCLE-AI/claude-code-buddy/issues)\n- **Discussions**: [GitHub Discussions](https://github.com/PCIRCLE-AI/claude-code-buddy/discussions)\n- **Contributing**: [CONTRIBUTING.md](docs/CONTRIBUTING.md)\n\n**Questions?** Open an issue or start a discussion - we're here to help.\n\n---\n\n## Development\n\n```bash\n# Run tests (292 test files covering core functionality)\nnpm test\n\n# Development mode with auto-reload\nnpm run dev\n\n# Build for production\nnpm run build\n\n# View performance dashboard\nnpm run dashboard\n```\n\n**Contributing:** We welcome contributions! See [CONTRIBUTING.md](docs/CONTRIBUTING.md) for guidelines.\n\n**Project Structure:** See [docs/README.md](docs/README.md) for a documentation map.\n\n---\n\n## FAQ\n\n**Q: Do I need to be a developer to use this?**\nA: If you can use Claude Code, you can use CCB. It's designed to make Claude easier, not harder.\n\n**Q: Does this cost extra on top of Claude Code?**\nA: No - CCB uses your existing Claude Code subscription. It helps optimize token usage within your session limits, not API costs.\n\n**Q: How is this different from just using Claude Code?**\nA: Claude Code treats every task the same. CCB adds task-specific expertise, memory, and learning.\n\n**Q: Is my code private?**\nA: Yes. Everything runs locally through your Claude Code subscription. CCB does not require external AI services.\n\n**Q: What if I don't like it?**\nA: Remove it from your MCP config. No lock-in, no vendor dependency.\n\n**Q: How much does it cost?**\nA: CCB is free and open-source (AGPL-3.0). It works with your existing Claude Code subscription.\n\n**Q: Can I customize routing behavior?**\nA: Absolutely! Prompt templates are in `src/core/PromptEnhancer.ts`. Evolution config in `src/evolution/AgentEvolutionConfig.ts`.\n\n---\n\n## License\n\n**AGPL-3.0 License** - see [LICENSE](LICENSE) file for details.\n\nThis is free and open-source software. If you modify and deploy this as a network service, you must make the source code available to users.\n\n---\n\n## Acknowledgments\n\n- Built with [Model Context Protocol (MCP)](https://github.com/anthropics/mcp)\n- Works with [Claude Code](https://claude.com/claude-code)\n- Inspired by the Claude Code community\n- Thanks to all contributors and early testers\n\n**Disclaimer:** This is an independent open-source project and is not affiliated with, endorsed by, or officially connected to Anthropic PBC or its products (including Claude and Claude Code). Claude Code Buddy is a third-party tool designed to integrate with Claude Code.\n\n---\n\n<div align=\"center\">\n\n**Built with â¤ï¸ by developers, for developers.**\n\n**Make Claude Code smarter, not louder.**\n\n[Get Started](#quick-start-2-minutes) â€¢ [Documentation](docs/) â€¢ [Report Issue](https://github.com/PCIRCLE-AI/claude-code-buddy/issues) â€¢ [Join Discussion](https://github.com/PCIRCLE-AI/claude-code-buddy/discussions)\n\n---\n\nâ­ **Star this repo if CCB makes your development life easier!**\n\n</div>\n"
      },
      "plugins": [
        {
          "name": "claude-code-buddy",
          "description": "Your friendly AI companion for Claude Code - smart routing, prompt enhancement, and project memory",
          "version": "2.2.0",
          "author": {
            "name": "PCIRCLE AI"
          },
          "source": {
            "source": "github",
            "repo": "PCIRCLE-AI/claude-code-buddy"
          },
          "tags": [
            "mcp",
            "productivity",
            "memory",
            "routing"
          ],
          "categories": [
            "mcp",
            "memory",
            "productivity",
            "routing"
          ],
          "install_commands": [
            "/plugin marketplace add PCIRCLE-AI/claude-code-buddy",
            "/plugin install claude-code-buddy@pcircle-ai"
          ]
        }
      ]
    },
    {
      "name": "pcircle-ai",
      "version": null,
      "description": "PCIRCLE AI Claude Code Plugin Marketplace - High-quality plugins for productivity and AI-powered development",
      "repo_full_name": "PCIRCLE-AI/toonify-mcp",
      "repo_url": "https://github.com/PCIRCLE-AI/toonify-mcp",
      "repo_description": "MCP server that reduces Claude API token usage by 60%+ using TOON format optimization",
      "signals": {
        "stars": 4,
        "forks": 1,
        "pushed_at": "2026-01-21T13:53:47Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"pcircle-ai\",\n  \"owner\": {\n    \"name\": \"PCIRCLE AI\"\n  },\n  \"metadata\": {\n    \"description\": \"PCIRCLE AI Claude Code Plugin Marketplace - High-quality plugins for productivity and AI-powered development\",\n    \"version\": \"1.0.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"toonify-mcp\",\n      \"source\": \"./\",\n      \"metadata\": {\n        \"description\": \"Automatic token optimization for structured data using TOON format. Reduces Claude API token usage by 60%+ on JSON, CSV, and YAML data through transparent PostToolUse hook interception.\",\n        \"version\": \"0.2.3\",\n        \"author\": \"Kevin Tseng\",\n        \"homepage\": \"https://github.com/PCIRCLE-AI/toonify-mcp\",\n        \"license\": \"MIT\"\n      }\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"toonify\",\n  \"description\": \"Automatic token optimization for structured data using TOON format. Reduces Claude API token usage by 60%+ on JSON, CSV, and YAML data through transparent PostToolUse hook interception.\",\n  \"author\": {\n    \"name\": \"PCIRCLE AI\"\n  },\n  \"version\": \"0.2.3\",\n  \"homepage\": \"https://github.com/PCIRCLE-AI/toonify-mcp\",\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/PCIRCLE-AI/toonify-mcp.git\"\n  },\n  \"license\": \"MIT\",\n  \"hooks\": \"./hooks/hooks.json\"\n}\n",
        "README.md": "# ğŸ¯ Toonify MCP\n\n**[English](README.md) | [ç¹é«”ä¸­æ–‡](README.zh-TW.md) | [æ—¥æœ¬èª](README.ja.md) | [EspaÃ±ol](README.es.md) | [FranÃ§ais](README.fr.md) | [Deutsch](README.de.md) | [í•œêµ­ì–´](README.ko.md) | [Ğ ÑƒÑÑĞºĞ¸Ğ¹](README.ru.md) | [PortuguÃªs](README.pt.md) | [Tiáº¿ng Viá»‡t](README.vi.md) | [Bahasa Indonesia](README.id.md)**\n\nMCP server + Claude Code Plugin providing automatic token optimization for structured data.\nReduces Claude API token usage by **30-65% depending on data structure** through transparent TOON format conversion, with typical savings of **50-55%** for structured data.\n\n## What's New in v0.5.0\n\nâœ¨ **SDK + Tooling Updates!**\n- âœ… MCP SDK updated to the latest 1.25.x line\n- âœ… Tokenizer and YAML dependencies updated\n- âœ… Jest 30 migration with SWC-based TypeScript ESM transform\n- âœ… Security fixes applied via npm audit\n\n## Features\n\n- **30-65% Token Reduction** (typically 50-55%) for JSON, CSV, YAML data\n- **Multilingual Support** - Accurate token counting for 15+ languages\n- **Enhanced Caching** - LRU cache with TTL expiration and optional disk persistence\n- **Fully Automatic** - PostToolUse hook intercepts tool results\n- **Zero Configuration** - Works out of the box with sensible defaults\n- **Dual Mode** - Works as Plugin (auto) or MCP Server (manual)\n- **Built-in Metrics** - Track token savings locally\n- **Silent Fallback** - Never breaks your workflow\n\n## Installation\n\n### Option A: Download from GitHub (Recommended) ğŸŒŸ\n\n**Install directly from the GitHub repository (no npm publish required):**\n\n```bash\n# 1. Download the repository\ngit clone https://github.com/PCIRCLE-AI/toonify-mcp.git\ncd toonify-mcp\n\n# 2. Install deps and build\nnpm install\nnpm run build\n\n# 3. Install globally from local source\nnpm install -g .\n```\n\n### Option B: Install from pcircle.ai Marketplace (Easiest) ğŸŒŸ\n\n**One-click installation from the PCIRCLE AI marketplace:**\n\nBrowse to the [pcircle.ai marketplace](https://claudemarketplaces.com) in Claude Code and install toonify-mcp with one click. The marketplace handles everything automatically!\n\n### Option C: Claude Code Plugin (Recommended) â­\n\n**Automatic token optimization with zero manual calls:**\n\nPrerequisite: complete Option A or Option B so the `toonify-mcp` binary is available.\n\n```bash\n# 1. Add as plugin (automatic mode)\nclaude plugin add toonify-mcp\n\n# 2. Verify installation\nclaude plugin list\n# Should show: toonify-mcp âœ“\n```\n\n**That's it!** The PostToolUse hook will now automatically intercept and optimize structured data from Read, Grep, and other file tools.\n\n### Option D: MCP Server (Manual mode)\n\n**For explicit control or non-Claude Code MCP clients:**\n\nPrerequisite: complete Option A or Option B so the `toonify-mcp` binary is available.\n\n```bash\n# 1. Register as MCP server\nclaude mcp add toonify -- toonify-mcp\n\n# 2. Verify\nclaude mcp list\n# Should show: toonify: toonify-mcp - âœ“ Connected\n```\n\nThen call tools explicitly:\n```bash\nclaude mcp call toonify optimize_content '{\"content\": \"...\"}'\nclaude mcp call toonify get_stats '{}'\n```\n\n## How It Works\n\n### Plugin Mode (Automatic)\n\n```\nUser: Read large JSON file\n  â†“\nClaude Code calls Read tool\n  â†“\nPostToolUse hook intercepts result\n  â†“\nHook detects JSON, converts to TOON\n  â†“\nOptimized content sent to Claude API\n  â†“\n50-55% typical token reduction achieved âœ¨\n```\n\n### MCP Server Mode (Manual)\n\n```\nUser: explicitly calls mcp__toonify__optimize_content\n  â†“\nContent converted to TOON format\n  â†“\nReturns optimized result\n```\n\n## Configuration\n\nCreate `~/.claude/toonify-config.json` (optional):\n\n```json\n{\n  \"enabled\": true,\n  \"minTokensThreshold\": 50,\n  \"minSavingsThreshold\": 30,\n  \"skipToolPatterns\": [\"Bash\", \"Write\", \"Edit\"]\n}\n```\n\n### Options\n\n- **enabled**: Enable/disable automatic optimization (default: `true`)\n- **minTokensThreshold**: Minimum tokens before optimization (default: `50`)\n- **minSavingsThreshold**: Minimum savings percentage required (default: `30%`)\n- **skipToolPatterns**: Tools to never optimize (default: `[\"Bash\", \"Write\", \"Edit\"]`)\n\n### Environment Variables\n\n```bash\nexport TOONIFY_ENABLED=true\nexport TOONIFY_MIN_TOKENS=50\nexport TOONIFY_MIN_SAVINGS=30\nexport TOONIFY_SKIP_TOOLS=\"Bash,Write\"\nexport TOONIFY_SHOW_STATS=true  # Show optimization stats in output\n```\n\n## Examples\n\n### Before Optimization (142 tokens)\n\n```json\n{\n  \"products\": [\n    {\"id\": 101, \"name\": \"Laptop Pro\", \"price\": 1299},\n    {\"id\": 102, \"name\": \"Magic Mouse\", \"price\": 79}\n  ]\n}\n```\n\n### After Optimization (57 tokens, -60%)\n\n```\n[TOON-JSON]\nproducts[2]{id,name,price}:\n  101,Laptop Pro,1299\n  102,Magic Mouse,79\n```\n\n**Automatically applied in Plugin mode - no manual calls needed!**\n\n## Usage Tips\n\n### When Does Auto-Optimization Trigger?\n\nThe PostToolUse hook automatically optimizes when:\n- âœ… Content is valid JSON, CSV, or YAML\n- âœ… Content size â‰¥ `minTokensThreshold` (default: 50 tokens)\n- âœ… Estimated savings â‰¥ `minSavingsThreshold` (default: 30%)\n- âœ… Tool is NOT in `skipToolPatterns` (e.g., not Bash/Write/Edit)\n\n### View Optimization Stats\n\n```bash\n# In Plugin mode\nclaude mcp call toonify get_stats '{}'\n\n# Or check Claude Code output for stats (if TOONIFY_SHOW_STATS=true)\n```\n\n### Cache Management\n\nToonify v0.5.0+ includes an enhanced LRU cache with TTL expiration:\n\n```bash\n# Get cache statistics\nclaude mcp call toonify get_cache_stats '{}'\n\n# Clear all cached results\nclaude mcp call toonify clear_cache '{}'\n\n# Clean up expired entries\nclaude mcp call toonify cleanup_expired_cache '{}'\n```\n\n**Cache benefits:**\n- âœ… **50-500x faster** on cache hits (0.1ms vs 5-50ms)\n- âœ… Avoids re-optimizing identical content\n- âœ… Optional disk persistence for cross-session reuse\n- âœ… Automatic LRU eviction when full\n- âœ… TTL expiration (default: 1 hour)\n\nSee [docs/CACHE.md](docs/CACHE.md) for detailed cache documentation.\n\n## Troubleshooting\n\n### Hook Not Triggering\n\n```bash\n# 1. Check plugin is installed\nclaude plugin list | grep toonify\n\n# 2. Check configuration\ncat ~/.claude/toonify-config.json\n\n# 3. Enable stats to see optimization attempts\nexport TOONIFY_SHOW_STATS=true\n```\n\n### Optimization Not Applied\n\n- Check `minTokensThreshold` - content might be too small\n- Check `minSavingsThreshold` - savings might be < 30%\n- Check `skipToolPatterns` - tool might be in skip list\n- Verify content is valid JSON/CSV/YAML\n\n### Performance Issues\n\n- Reduce `minTokensThreshold` to optimize more aggressively\n- Increase `minSavingsThreshold` to skip marginal optimizations\n- Add more tools to `skipToolPatterns` if needed\n\n## Comparison: Plugin vs MCP Server\n\n| Feature | Plugin Mode | MCP Server Mode |\n|---------|------------|-----------------|\n| **Activation** | Automatic (PostToolUse) | Manual (call tool) |\n| **Compatibility** | Claude Code only | Any MCP client |\n| **Configuration** | Plugin config file | MCP tools |\n| **Performance** | Zero overhead | Call overhead |\n| **Use Case** | Daily workflow | Explicit control |\n\n**Recommendation**: Use Plugin mode for automatic optimization. Use MCP Server mode for explicit control or other MCP clients.\n\n## Uninstall\n\n### Plugin Mode\n```bash\nclaude plugin remove toonify-mcp\nrm ~/.claude/toonify-config.json\n```\n\n### MCP Server Mode\n```bash\nclaude mcp remove toonify\n```\n\n### Package\n```bash\nnpm uninstall -g toonify-mcp\n```\n\n## Links\n\n- **GitHub**: https://github.com/PCIRCLE-AI/toonify-mcp\n- **Issues**: https://github.com/PCIRCLE-AI/toonify-mcp/issues\n- **GitHub**: https://github.com/PCIRCLE-AI/toonify-mcp\n- **MCP Docs**: https://code.claude.com/docs/mcp\n- **TOON Format**: https://github.com/toon-format/toon\n\n## Contributing\n\nContributions welcome! Please see [CONTRIBUTING.md](CONTRIBUTING.md) for guidelines.\n\n## License\n\nMIT License - see [LICENSE](LICENSE)\n\n---\n\n## Changelog\n\n### v0.5.0 (2026-01-21)\n- âœ¨ **SDK & tooling updates** - MCP SDK, tokenizer, and YAML dependencies refreshed\n- âœ¨ Jest 30 migration with SWC-based TypeScript ESM transform\n- ğŸ”’ Security fixes applied via npm audit\n\n### v0.3.0 (2025-12-26)\n- âœ¨ **Multilingual token optimization** - accurate counting for 15+ languages\n- âœ¨ Language-aware token multipliers (2x Chinese, 2.5x Japanese, 3x Arabic, etc.)\n- âœ¨ Mixed-language text detection and optimization\n- âœ¨ Comprehensive benchmark testing with real statistics\n- ğŸ“Š Data-backed token savings claims (30-65% range, typically 50-55%)\n- âœ… 75+ tests passing, including multilingual edge cases\n- ğŸ“ Multilingual README versions\n\n### v0.2.0 (2025-12-25)\n- âœ¨ Added Claude Code Plugin support with PostToolUse hook\n- âœ¨ Automatic token optimization (no manual calls needed)\n- âœ¨ Plugin configuration system\n- âœ¨ Dual mode: Plugin (auto) + MCP Server (manual)\n- ğŸ“ Comprehensive documentation update\n\n### v0.1.1 (2024-12-24)\n- ğŸ› Bug fixes and improvements\n- ğŸ“ Documentation updates\n\n### v0.1.0 (2024-12-24)\n- ğŸ‰ Initial release\n- âœ¨ MCP Server implementation\n- âœ¨ TOON format optimization\n- âœ¨ Built-in metrics tracking\n"
      },
      "plugins": [
        {
          "name": "toonify-mcp",
          "source": "./",
          "metadata": {
            "description": "Automatic token optimization for structured data using TOON format. Reduces Claude API token usage by 60%+ on JSON, CSV, and YAML data through transparent PostToolUse hook interception.",
            "version": "0.2.3",
            "author": "Kevin Tseng",
            "homepage": "https://github.com/PCIRCLE-AI/toonify-mcp",
            "license": "MIT"
          },
          "description": null,
          "categories": [],
          "install_commands": [
            "/plugin marketplace add PCIRCLE-AI/toonify-mcp",
            "/plugin install toonify-mcp@pcircle-ai"
          ]
        }
      ]
    }
  ]
}