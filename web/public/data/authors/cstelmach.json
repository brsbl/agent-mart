{
  "author": {
    "id": "cstelmach",
    "display_name": "Christian Stelmach",
    "avatar_url": "https://avatars.githubusercontent.com/u/9914783?u=beafa6f2c115ff14425455d380891e6d2459e3d6&v=4"
  },
  "marketplaces": [
    {
      "name": "terminal-agent-visual-signals",
      "version": null,
      "description": "Visual terminal state indicators for Claude Code sessions",
      "repo_full_name": "cstelmach/terminal-agent-visual-signals",
      "repo_url": "https://github.com/cstelmach/terminal-agent-visual-signals",
      "repo_description": "Visual terminal indicators for Claude Code sessions in Ghostty",
      "signals": {
        "stars": 1,
        "forks": 0,
        "pushed_at": "2026-02-15T20:14:06Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"$schema\": \"https://anthropic.com/claude-code/marketplace.schema.json\",\n  \"name\": \"terminal-agent-visual-signals\",\n  \"owner\": {\n    \"name\": \"cstelmach\",\n    \"email\": \"chrisp.stel@gmail.com\"\n  },\n  \"metadata\": {\n    \"description\": \"Visual terminal state indicators for Claude Code sessions\",\n    \"version\": \"3.0.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"tavs\",\n      \"description\": \"Changes terminal background color and tab title based on Claude Code state (processing, permission, idle, complete, compacting, subagent, tool_error). Includes tavs CLI for quick configuration.\",\n      \"version\": \"3.0.0\",\n      \"source\": \"./\",\n      \"category\": \"productivity\",\n      \"keywords\": [\"hooks\", \"terminal\", \"visual\", \"ghostty\", \"notifications\", \"osc\", \"background-color\", \"catppuccin\"]\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"tavs\",\n  \"description\": \"Visual terminal state indicators for Claude Code sessions using OSC escape sequences. Changes background color and tab title based on Claude's state (processing, permission, idle, complete, compacting, subagent, tool_error).\",\n  \"version\": \"3.0.0\",\n  \"author\": {\n    \"name\": \"cstelmach\"\n  },\n  \"homepage\": \"https://github.com/cstelmach/terminal-agent-visual-signals\",\n  \"repository\": \"https://github.com/cstelmach/terminal-agent-visual-signals\",\n  \"license\": \"MIT\",\n  \"keywords\": [\n    \"hooks\",\n    \"terminal\",\n    \"visual\",\n    \"ghostty\",\n    \"notifications\",\n    \"osc\",\n    \"background-color\",\n    \"catppuccin\"\n  ]\n}\n",
        "README.md": "# TAVS - Terminal Agent Visual Signals\n\n[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)\n[![Version](https://img.shields.io/badge/version-3.0.0-green.svg)](CHANGELOG.md)\n[![Bash 3.2+](https://img.shields.io/badge/bash-3.2%2B-orange.svg)](#requirements)\n[![Platforms](https://img.shields.io/badge/agents-Claude%20%7C%20Gemini%20%7C%20Codex%20%7C%20OpenCode-purple.svg)](#supported-platforms)\n\n> Visual terminal feedback for AI coding sessions ‚Äî background colors, tab titles, and faces that show you what's happening at a glance.\n\n## Why?\n\nWhen running multiple AI sessions (12+ terminals side by side), you need to instantly see which ones need attention. TAVS provides visual feedback through background colors, emoji indicators, animated faces, and optional audible bells.\n\n| State | Color | Icon | Meaning |\n|-------|-------|------|---------|\n| Processing | Orange | üü† | Agent is working |\n| Permission | Red | üî¥ | Needs your approval |\n| Complete | Green | üü¢ | Response finished |\n| Idle | Purple | üü£ | Waiting for input (fades over time) |\n| Compacting | Teal | üîÑ | Context being compressed |\n| Subagent | Golden | üîÄ | Spawned a subagent |\n| Tool Error | Orange-Red | ‚ùå | Tool execution failed |\n\nWorks with **Claude Code**, **Gemini CLI**, **OpenCode**, and **Codex CLI**.\n\n---\n\n## Install\n\n### Plugin (Recommended ‚Äî Claude Code)\n\n```bash\n# Add marketplace (one-time)\nclaude plugin marketplace add cstelmach/terminal-agent-visual-signals\n\n# Install\nclaude plugin install tavs@terminal-agent-visual-signals\n```\n\nThen enable via `/plugin` in Claude Code and restart.\n\n### Other Agents\n\n```bash\n# Gemini CLI (full support, 8 events)\n./tavs install gemini\n\n# Codex CLI (limited, 1 event)\n./tavs install codex\n\n# OpenCode (npm package ‚Äî see docs/)\ncd src/agents/opencode && npm install && npm run build\n```\n\n### Manual Install (Claude Code)\n\n```bash\n# Clone\ngit clone https://github.com/cstelmach/terminal-agent-visual-signals.git \\\n    ~/.claude/hooks/terminal-agent-visual-signals\n\n# Make executable\nchmod +x ~/.claude/hooks/terminal-agent-visual-signals/src/core/trigger.sh\n```\n\nCopy hooks from `hooks/hooks.json` into `~/.claude/settings.json`, replacing\n`${CLAUDE_PLUGIN_ROOT}` with the full clone path. Restart Claude Code.\n\n---\n\n## Configuration ‚Äî Three Ways\n\nTAVS works in three tiers. Pick the one that fits you.\n\n### 1. Just Use the Defaults\n\n**Do nothing.** After installing, TAVS works immediately with sensible defaults:\n\n- Catppuccin Frappe dark theme (muted, professional colors)\n- ASCII faces in tab titles: `∆é[‚Ä¢ ‚Ä¢]E üü† ~/project`\n- Background color changes per state\n- Session icons (unique animal emoji per tab)\n- Mode-aware processing (subtle color shift in plan mode)\n\nThis is enough for most users. The colors are designed to be noticeable but not\ndistracting ‚Äî subtle tints that blend with your terminal background.\n\n**Check what you're running:**\n```bash\n./tavs status\n```\n\n### 2. Change a Setting\n\nOne command to tweak anything. No files to edit.\n\n**Switch theme:**\n```bash\n./tavs set theme nord           # Arctic blue palette\n./tavs set theme dracula        # Vibrant dark theme\n./tavs set theme tokyo-night    # City lights aesthetic\n```\n\n**Switch face mode:**\n```bash\n./tavs set face-mode compact    # Emoji eyes: ∆é[üüß +2]E instead of ∆é[‚Ä¢ ‚Ä¢]E üü† +2\n```\n\n**Turn faces off:**\n```bash\n./tavs set faces off            # Colors only, no faces in titles\n```\n\n**Control titles:**\n```bash\n./tavs set title-mode full      # TAVS owns all titles with animated spinners\n./tavs set title-mode off       # No title changes, colors only\n```\n\n**See all available settings:**\n```bash\n./tavs set                      # Lists all 23 settings with descriptions\n```\n\n**Interactive picker** ‚Äî omit the value to choose from a menu:\n```bash\n./tavs set theme                # Shows all 9 themes ‚Üí pick one\n./tavs set spinner              # Shows all spinner styles ‚Üí pick one\n```\n\n**Preview your changes:**\n```bash\n./tavs status                   # Visual summary with color swatches\n./tavs status --colors          # Just the color preview\n```\n\n### 3. Customize Everything\n\nFor full control over all 65+ settings, use the interactive wizard:\n\n```bash\n./tavs wizard\n```\n\nThis walks you through 7 steps:\n\n**Step 1 ‚Äî Operating Mode**\nChoose how colors are determined:\n- `static` ‚Äî Fixed colors from defaults (simplest)\n- `dynamic` ‚Äî Query your terminal's current background, compute matching colors\n- `preset` ‚Äî Use a named theme (Nord, Dracula, etc.)\n\n**Step 2 ‚Äî Theme Preset** (if you chose `preset`)\nPick from 9 built-in themes. Each includes dark colors, light colors, and a 16-color\nANSI palette. Preview them first:\n```bash\n./tavs theme --preview          # Side-by-side color swatches for all themes\n```\n\n**Step 3 ‚Äî Light/Dark Mode**\n- Auto-detect your system appearance (macOS dark mode ‚Üí dark colors)\n- Or force a specific mode\n\n**Step 4 ‚Äî ASCII Faces**\nEnable/disable the character faces in titles. Choose standard text eyes or\ncompact emoji eyes:\n```\nStandard:  ∆é[‚Ä¢ ‚Ä¢]E üü† +2 ü¶ä ~/project\nCompact:   ∆é[üüß +2]E ü¶ä ~/project\n```\nCompact mode embeds the status icon and subagent count directly into the face.\n\n**Step 5 ‚Äî Background Images** (iTerm2/Kitty only)\nUse images instead of solid colors for state backgrounds.\n\n**Step 6 ‚Äî Terminal Titles**\nFour modes:\n\n| Mode | What happens |\n|------|-------------|\n| `skip-processing` | (Default) TAVS handles non-processing states, Claude handles processing |\n| `prefix-only` | Adds face + status to your existing tab name |\n| `full` | TAVS owns all titles with animated spinner eyes |\n| `off` | No title changes at all |\n\nFor `full` mode, choose a spinner style (braille, circle, block, eye-animate) and\neye sync mode (sync, opposite, mirror, stagger).\n\n**Step 7 ‚Äî Palette Theming**\nOptionally modify your terminal's 16-color ANSI palette to match the theme. This\naffects `ls` colors, `git status`, shell prompts, etc.\n\n#### Direct Config Editing\n\nAfter the wizard (or instead of it), you can edit the config file directly:\n\n```bash\n./tavs config edit              # Opens ~/.tavs/user.conf in your $EDITOR\n```\n\nThe config file is organized into 5 sections with inline documentation.\nEvery setting is commented with valid values and what it does.\n\n```bash\n./tavs config validate          # Check for typos or invalid values\n./tavs config show              # Print current config\n./tavs config reset             # Backup and start fresh\n```\n\n---\n\n## Available Themes\n\nAll themes include dark colors, light colors, and a 16-color ANSI palette.\n\n| Theme | Style |\n|-------|-------|\n| `catppuccin-frappe` | Muted, subdued dark (default) |\n| `catppuccin-latte` | Warm, light pastels |\n| `catppuccin-macchiato` | Medium contrast dark |\n| `catppuccin-mocha` | The darkest Catppuccin |\n| `nord` | Arctic blue palette |\n| `dracula` | Vibrant high-contrast dark |\n| `solarized-dark` | Precision colors for readability |\n| `solarized-light` | Light variant of Solarized |\n| `tokyo-night` | Inspired by Tokyo city lights |\n\n```bash\n./tavs theme                    # List all with descriptions\n./tavs theme --preview          # Color swatches for each\n./tavs set theme nord           # Apply one\n```\n\n---\n\n## Compatible Terminals\n\n| Terminal | Background | Titles | Images | Status |\n|----------|-----------|--------|--------|--------|\n| **Ghostty** | ‚úÖ | ‚úÖ | ‚ùå | **Recommended** |\n| Kitty | ‚úÖ | ‚úÖ | ‚úÖ | Full support |\n| iTerm2 | ‚úÖ | ‚úÖ | ‚úÖ | Full support |\n| WezTerm | ‚úÖ | ‚úÖ | ‚ùå | Supported |\n| VS Code / Cursor | ‚úÖ | ‚úÖ | ‚ùå | Tested |\n| GNOME Terminal | ‚úÖ | ‚úÖ | ‚ùå | Supported |\n| Windows Terminal | ‚úÖ | ‚úÖ | ‚ùå | 2025+ |\n| Foot | ‚úÖ | ‚úÖ | ‚ùå | Supported |\n| Alacritty | ‚ö†Ô∏è | ‚úÖ | ‚ùå | Untested |\n| macOS Terminal.app | ‚ùå | ‚úÖ | ‚ùå | No OSC 11 |\n\n**Test your terminal:**\n```bash\n./tavs test --terminal          # Show capabilities\n./tavs test                     # Full 8-state visual cycle\n./tavs test --quick             # Quick 3-state test\n```\n\n### Ghostty Users\n\nGhostty's shell integration manages tab titles, which conflicts with TAVS titles.\nAdd to your Ghostty config:\n\n```ini\n# ~/Library/Application Support/com.mitchellh.ghostty/config\nshell-integration-features = no-title\n```\n\nThis only disables title management ‚Äî cursor shapes and other integrations stay active.\n\n---\n\n## Quick Disable\n\nTemporarily disable without changing configuration:\n\n```bash\nTAVS_STATUS=false claude        # Single session\nexport TAVS_STATUS=false        # All sessions in current terminal\nunset TAVS_STATUS               # Re-enable\n```\n\n---\n\n## Migrating from v2\n\nIf you have an existing `~/.tavs/user.conf` from before v3:\n\n```bash\n./tavs migrate                  # Detects old config, backs up, migrates\n```\n\nYour settings are preserved ‚Äî the migration reorganizes the file into the new\n5-section v3 format while keeping your values intact.\n\n---\n\n## How It Works\n\nTAVS uses [OSC escape sequences](https://invisible-island.net/xterm/ctlseqs/ctlseqs.html)\nsent directly to the TTY device (`/dev/ttysXXX`), bypassing stdout capture:\n\n| Sequence | Purpose |\n|----------|---------|\n| `OSC 11` | Set terminal background color |\n| `OSC 111` | Reset background to default |\n| `OSC 4` | Modify 16-color ANSI palette (optional) |\n| `OSC 0` | Set window/tab title |\n\n### Hook Event Flow\n\n```\nUserPromptSubmit ‚Üí processing (orange)\n    ‚Üì\nClaude working...\n    ‚Üì\nPreToolUse (compact) ‚Üí compacting (teal)\n    ‚Üì\nPermissionRequest ‚Üí permission (red)\n    ‚Üì\nUser approves ‚Üí PostToolUse ‚Üí processing (orange)\n    ‚Üì\nStop ‚Üí complete (green) ‚Üí idle timer starts\n    ‚Üì\n60+ sec idle ‚Üí graduated purple fade ‚Üí reset\n```\n\n### State Priority\n\nHigher priority states are protected from being overwritten:\n\n| State | Priority | Notes |\n|-------|----------|-------|\n| Permission | 100 | Never overwritten |\n| Idle | 90 | Protected during idle |\n| Compacting | 50 | Medium |\n| Processing | 30 | Common state |\n| Complete | 20 | Brief flash |\n| Reset | 10 | Lowest |\n\n---\n\n## Supported Platforms\n\n| Platform | Support | Events | Install |\n|----------|---------|--------|---------|\n| Claude Code | Full | 14 hooks | Plugin marketplace |\n| Gemini CLI | Full | 8 events | `./tavs install gemini` |\n| OpenCode | Good | 4 events | npm package |\n| Codex CLI | Limited | 1 event | `./tavs install codex` |\n\n---\n\n## Troubleshooting\n\n### Colors not appearing\n\n1. Run `./tavs test --terminal` to verify OSC support\n2. Run `./src/core/trigger.sh processing` to test manually\n3. Check that paths in `settings.json` match your install location\n4. Ensure the script is executable: `chmod +x src/core/trigger.sh`\n\n### Titles not updating\n\n- **Ghostty**: Add `shell-integration-features = no-title` to config\n- **Full mode**: Add `CLAUDE_CODE_DISABLE_TERMINAL_TITLE=1` to Claude Code env\n- Some window managers may override OSC 0 titles\n\n### Idle timer not progressing\n\n- Ensure `IDLE_CHECK_INTERVAL` <= shortest `IDLE_STAGE_DURATIONS` value\n- For testing, use short durations: `IDLE_STAGE_DURATIONS=(5 5 5 5 5 5)`\n\n### Hooks not firing\n\n- Validate `settings.json` is valid JSON\n- Check Claude Code logs for hook errors\n- Place TAVS hooks **first** in each hook array for fastest response\n\n---\n\n## Performance\n\nOptimized using bash builtins to minimize subprocess spawning:\n\n| Operation | Method |\n|-----------|--------|\n| Parent PID | `$PPID` built-in |\n| String manipulation | Parameter expansion (`${var// /}`) |\n| Elapsed time | `$SECONDS` built-in |\n| Function returns | Global variable (no subshell) |\n\nAll hooks run asynchronously with timeouts (5s processing, 10s idle/complete).\n\n---\n\n## Requirements\n\n- A [compatible terminal](#compatible-terminals) with OSC 11/111 support\n- Bash 3.2+ (macOS default works)\n- macOS or Linux\n- Optional: [fzf](https://github.com/junegunn/fzf) for interactive pickers\n\n---\n\n## Security\n\nPath values are sanitized before writing to the terminal to prevent\n[terminal escape sequence injection](https://dgl.cx/2023/09/ansi-terminal-security).\nAll ASCII control characters (0x00-0x1F, 0x7F) are stripped while preserving Unicode.\n\nConfig input is validated ‚Äî variable names are restricted to `[A-Za-z0-9_]`, values\nare escaped before writing, and command names are validated against allowlists.\n\n---\n\n## FAQ\n\n**Will TAVS slow down my AI agent?**\nNo. All hooks run asynchronously with timeouts (5s processing, 10s idle). TAVS uses\nbash builtins to minimize subprocess spawning. Your agent never waits for TAVS.\n\n**Can I use TAVS with multiple agents at the same time?**\nYes. Each agent writes to its own TTY device, so signals don't interfere. You can run\nClaude Code, Gemini CLI, and Codex CLI simultaneously with independent visual feedback.\n\n**My terminal doesn't change colors ‚Äî what's wrong?**\nRun `./tavs test --terminal` to check OSC support. If your terminal doesn't support\nOSC 11, background colors won't work (e.g., macOS Terminal.app). See\n[Troubleshooting](#troubleshooting).\n\n**Can I disable it temporarily without uninstalling?**\nYes: `TAVS_STATUS=false claude` for a single session. See [Quick Disable](#quick-disable).\n\n**How do I create a custom theme?**\nCopy an existing theme from `src/themes/` (e.g., `nord.conf`), modify the colors,\nand set `THEME_PRESET` to your filename. See [CONTRIBUTING.md](CONTRIBUTING.md#adding-themes).\n\n---\n\n## Contributing\n\nContributions welcome! See [CONTRIBUTING.md](CONTRIBUTING.md) for guidelines on:\n\n- Reporting bugs and requesting features\n- Adding themes, terminals, or agent support\n- Code style (Bash 3.2 compatibility)\n- Testing and commit conventions\n\n---\n\n## License\n\nMIT ‚Äî see [LICENSE](LICENSE)\n\n---\n\n## Credits\n\nCreated for the AI coding community. Feedback and setups welcome on\n[r/ClaudeAI](https://reddit.com/r/ClaudeAI) and\n[GitHub Discussions](https://github.com/cstelmach/terminal-agent-visual-signals/discussions).\n"
      },
      "plugins": [
        {
          "name": "tavs",
          "description": "Changes terminal background color and tab title based on Claude Code state (processing, permission, idle, complete, compacting, subagent, tool_error). Includes tavs CLI for quick configuration.",
          "version": "3.0.0",
          "source": "./",
          "category": "productivity",
          "keywords": [
            "hooks",
            "terminal",
            "visual",
            "ghostty",
            "notifications",
            "osc",
            "background-color",
            "catppuccin"
          ],
          "categories": [
            "background-color",
            "catppuccin",
            "ghostty",
            "hooks",
            "notifications",
            "osc",
            "productivity",
            "terminal",
            "visual"
          ],
          "install_commands": [
            "/plugin marketplace add cstelmach/terminal-agent-visual-signals",
            "/plugin install tavs@terminal-agent-visual-signals"
          ]
        }
      ]
    }
  ]
}