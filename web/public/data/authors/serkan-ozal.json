{
  "author": {
    "id": "serkan-ozal",
    "display_name": "Serkan ÖZAL",
    "avatar_url": "https://avatars.githubusercontent.com/u/3143425?u=a02cbc5ff10543985773573444cb86acfa9727c7&v=4"
  },
  "marketplaces": [
    {
      "name": "browser-devtools",
      "version": null,
      "description": "Browser DevTools MCP - Playwright-powered browser automation for Claude Code",
      "repo_full_name": "serkan-ozal/browser-devtools-mcp",
      "repo_url": "https://github.com/serkan-ozal/browser-devtools-mcp",
      "repo_description": "A Playwright-based MCP server that exposes a live browser as a traceable, inspectable, debuggable and controllable execution environment for AI agents.",
      "signals": {
        "stars": 61,
        "forks": 29,
        "pushed_at": "2026-01-27T17:50:24Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"browser-devtools\",\n  \"owner\": {\n    \"name\": \"Serkan Ozal\",\n    \"email\": \"serkanozal86@gmail.com\"\n  },\n  \"metadata\": {\n    \"description\": \"Browser DevTools MCP - Playwright-powered browser automation for Claude Code\",\n    \"version\": \"0.1.7\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"browser-devtools-mcp\",\n      \"source\": \"./plugins/claude\",\n      \"description\": \"Playwright-powered browser automation, debugging, and testing tools\",\n      \"version\": \"0.1.7\",\n      \"author\": {\n        \"name\": \"Serkan Ozal\"\n      },\n      \"tags\": [\n        \"browser\",\n        \"automation\",\n        \"testing\",\n        \"devtools\",\n        \"playwright\",\n        \"mcp\",\n        \"accessibility\",\n        \"screenshot\",\n        \"opentelemetry\",\n        \"observability\",\n        \"tracing\",\n        \"distributed-tracing\",\n        \"web-vitals\",\n        \"performance\",\n        \"debugging\",\n        \"scraping\",\n        \"react\",\n        \"network\",\n        \"console\",\n        \"figma\",\n        \"design-qa\"\n      ]\n    }\n  ]\n}\n",
        "README.md": "<p align=\"center\">\n  <img src=\"public/icon.svg\" alt=\"Browser DevTools MCP\" width=\"128\" height=\"128\">\n  <br>\n  <strong style=\"font-size: 2em;\">Browser DevTools MCP</strong>\n</p>\n\n<p align=\"center\">\n  <a href=\"https://github.com/serkan-ozal/browser-devtools-mcp/actions/workflows/build.yml\"><img src=\"https://github.com/serkan-ozal/browser-devtools-mcp/actions/workflows/build.yml/badge.svg\" alt=\"Build Status\"></a>\n  <a href=\"https://www.npmjs.com/package/browser-devtools-mcp\"><img src=\"https://badge.fury.io/js/browser-devtools-mcp.svg\" alt=\"NPM Version\"></a>\n  <a href=\"https://github.com/serkan-ozal/browser-devtools-mcp/blob/main/LICENSE\"><img src=\"https://img.shields.io/badge/license-MIT-blue\" alt=\"License\"></a>\n</p>\n\n<p align=\"center\">\nA powerful <a href=\"https://modelcontextprotocol.io\">Model Context Protocol (MCP)</a> server that provides AI coding assistants with comprehensive browser automation and debugging capabilities using Playwright. This server enables both <strong>execution-level debugging</strong> (logs, network requests) and <strong>visual debugging</strong> (screenshots, ARIA snapshots) to help AI assistants understand and interact with web pages effectively.\n</p>\n\n## Overview\n\nBrowser DevTools MCP exposes a Playwright-powered browser runtime to AI agents, enabling deep, bidirectional debugging and interaction with live web pages. It supports both visual understanding and code-level inspection of browser state, making it ideal for AI-driven exploration, diagnosis, and automation.\n\n### Key Capabilities\n\n- **Visual Inspection**: Screenshots, ARIA snapshots, HTML/text extraction, PDF generation\n- **Design Comparison**: Compare live page UI against Figma designs with similarity scoring\n- **DOM & Code-Level Debugging**: Element inspection, computed styles, accessibility data\n- **Browser Automation**: Navigation, input, clicking, scrolling, viewport control\n- **Execution Monitoring**: Console message capture, HTTP request/response tracking\n- **OpenTelemetry Integration**: Automatic trace injection into web pages, UI trace collection, and backend trace correlation via trace context propagation\n- **JavaScript Execution**: Execute code in browser page context or in Node.js VM sandbox on the server\n- **Session Management**: Long-lived, session-based debugging with automatic cleanup\n- **Multiple Transport Modes**: Supports both stdio and HTTP transports\n\n## Features\n\n### Content Tools\n- **Screenshots**: Capture full page or specific elements (PNG/JPEG) with image data\n- **HTML/Text Extraction**: Get page content with filtering, cleaning, and minification options\n- **PDF Export**: Save pages as PDF documents with customizable format and margins\n\n### Interaction Tools\n- **Click**: Click elements by CSS selector\n- **Fill**: Fill form inputs\n- **Hover**: Hover over elements\n- **Press Key**: Simulate keyboard input\n- **Select**: Select dropdown options\n- **Drag**: Drag and drop operations\n- **Scroll**: Scroll the page viewport or specific scrollable elements with multiple modes (by, to, top, bottom, left, right)\n- **Resize Viewport**: Resize the page viewport using Playwright viewport emulation\n- **Resize Window**: Resize the real browser window (OS-level) using Chrome DevTools Protocol\n\n### Navigation Tools\n- **Go To**: Navigate to URLs with configurable wait strategies\n- **Go Back**: Navigate backward in history\n- **Go Forward**: Navigate forward in history\n\n### Run Tools\n- **JS in Browser**: Execute JavaScript code inside the active browser page (page context with access to window, document, DOM, and Web APIs)\n- **JS in Sandbox**: Execute JavaScript code in a Node.js VM sandbox on the MCP server (with access to Playwright Page, console logging, and safe built-ins)\n\n### Observability (O11Y) Tools\n- **Console Messages**: Capture and filter browser console logs with advanced filtering (level, search, timestamp, sequence number)\n- **HTTP Requests**: Monitor network traffic with detailed request/response data, filtering by resource type, status code, and more\n- **Web Vitals**: Collect Core Web Vitals (LCP, INP, CLS) and supporting metrics (TTFB, FCP) with ratings and recommendations based on Google's thresholds\n- **OpenTelemetry Tracing**: Automatic trace injection into web pages, UI trace collection (document load, fetch, XMLHttpRequest, user interactions), and trace context propagation for backend correlation\n- **Trace ID Management**: Get, set, and generate OpenTelemetry compatible trace IDs for distributed tracing across API calls\n\n### Synchronization Tools\n- **Wait for Network Idle**: Wait until the page reaches a network-idle condition based on in-flight request count, useful for SPA pages and before taking screenshots\n\n### Accessibility (A11Y) Tools\n- **ARIA Snapshots**: Capture semantic structure and accessibility roles in YAML format\n- **AX Tree Snapshots**: Combine Chromium's Accessibility tree with runtime visual diagnostics (bounding boxes, visibility, occlusion detection, computed styles)\n\n### Stub Tools\n- **Intercept HTTP Request**: Intercept and modify outgoing HTTP requests (headers, body, method) using glob patterns\n- **Mock HTTP Response**: Mock HTTP responses (fulfill with custom status/headers/body or abort) with configurable delay, times limit, and probability (flaky testing)\n- **List Stubs**: List all currently installed stubs for the active browser context\n- **Clear Stubs**: Remove one or all installed stubs\n\n### Figma Tools\n- **Compare Page with Design**: Compare the current page UI against a Figma design snapshot and return a combined similarity score using multiple signals (MSSIM, image embedding, text embedding)\n\n### React Tools\n- **Get Component for Element**: Find React component(s) associated with a DOM element using React Fiber (best-effort)\n- **Get Element for Component**: Map a React component instance to the DOM elements it renders by traversing the React Fiber graph\n\n**Important Requirements for React Tools:**\n- **Persistent Browser Context**: React tools work best with persistent browser context enabled (`BROWSER_PERSISTENT_ENABLE=true`)\n- **React DevTools Extension**: For optimal reliability, manually install the \"React Developer Tools\" Chrome extension in the browser profile. The MCP server does NOT automatically install the extension.\n  - Chrome Web Store: https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi\n  - The extension enables reliable root discovery and component search via `__REACT_DEVTOOLS_GLOBAL_HOOK__`\n  - Without the extension, tools fall back to scanning DOM for `__reactFiber$` pointers (best-effort, less reliable)\n\n## Prerequisites\n\n- Node.js 18+\n- An AI assistant (with MCP client) like Cursor, Claude (Desktop or Code), VS Code, Windsurf, etc.\n\n## Quick Start\n\nThis MCP server (using `STDIO` or `Streamable HTTP` transport) can be added to any MCP Client \nlike VS Code, Claude, Cursor, Windsurf, GitHub Copilot via the `browser-devtools-mcp` NPM package.\n\nNo manual installation required! The server can be run directly using `npx`, which automatically downloads and runs the package.\n\n### CLI Arguments\n\nBrowser DevTools MCP server supports the following CLI arguments for configuration:\n- `--transport <stdio|streamable-http>` - Configures the transport protocol (defaults to `stdio`).\n- `--port <number>` – Configures the port number to listen on when using `streamable-http` transport (defaults to `3000`).\n\n### Install as AI Agent Skill\n\nInstall browser automation capabilities as a skill for AI coding agents (Claude Code, Cursor, Windsurf, etc.) using the [skills.sh](https://skills.sh) ecosystem:\n\n```bash\nnpx skills add serkan-ozal/browser-devtools-mcp\n```\n\nThis installs the CLI skill that enables AI agents to automate browsers for web testing, screenshots, form filling, accessibility audits, performance analysis, and more. See the [CLI Skills Documentation](skills/browser-devtools-cli/SKILL.md) for details.\n\n## MCP Client Configuration\n\n### Claude Desktop\n\n#### Local Server\nAdd the following configuration into the `claude_desktop_config.json` file.\nSee the [Claude Desktop MCP docs](https://modelcontextprotocol.io/docs/develop/connect-local-servers) for more info.\n\n```json\n{\n  \"mcpServers\": {\n    \"browser-devtools\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"browser-devtools-mcp\"]\n    }\n  }\n}\n```\n\n#### Remote Server (HTTP Transport)\nFirst, start the server with HTTP transport:\n```bash\nnpx -y browser-devtools-mcp --transport=streamable-http --port=3000\n```\n\nThen, go to `Settings` > `Connectors` > `Add Custom Connector` in Claude Desktop and add the MCP server with:\n- Name: `Browser DevTools`\n- Remote MCP server URL: Point to where your server is hosted (e.g., `http://localhost:3000/mcp` if running locally, or `https://your-server.com/mcp` if hosted remotely)\n\n### Claude Code\n\nRun the following command.\nSee [Claude Code MCP docs](https://docs.anthropic.com/en/docs/claude-code/mcp) for more info.\n\n#### Local Server\n```bash\nclaude mcp add browser-devtools -- npx -y browser-devtools-mcp\n```\n\n#### Remote Server\nFirst, start the server with HTTP transport:\n```bash\nnpx -y browser-devtools-mcp --transport=streamable-http --port=3000\n```\n\nThen add the MCP server:\n```bash\nclaude mcp add --transport http browser-devtools <SERVER_URL>\n```\n\nReplace `<SERVER_URL>` with your server URL (e.g., `http://localhost:3000/mcp` if running locally, or `https://your-server.com/mcp` if hosted remotely).\n\n### Cursor\n\nAdd the following configuration into the `~/.cursor/mcp.json` file (or `.cursor/mcp.json` in your project folder).\nSee the [Cursor MCP docs](https://docs.cursor.com/context/model-context-protocol) for more info.\n\n#### Local Server\n```json\n{\n  \"mcpServers\": {\n    \"browser-devtools\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"browser-devtools-mcp\"]\n    }\n  }\n}\n```\n\n#### Remote Server\nFirst, start the server with HTTP transport:\n```bash\nnpx -y browser-devtools-mcp --transport=streamable-http --port=3000\n```\n\nThen add the configuration:\n```json\n{\n  \"mcpServers\": {\n    \"browser-devtools\": {\n      \"url\": \"<SERVER_URL>\"\n    }\n  }\n}\n```\n\nReplace `<SERVER_URL>` with your server URL (e.g., `http://localhost:3000/mcp` if running locally, or `https://your-server.com/mcp` if hosted remotely).\n\n### VS Code\n\nAdd the following configuration into the `.vscode/mcp.json` file.\nSee the [VS Code MCP docs](https://code.visualstudio.com/docs/copilot/chat/mcp-servers) for more info.\n\n#### Local Server\n```json\n{\n  \"mcp\": {\n    \"servers\": {\n      \"browser-devtools\": {\n        \"type\": \"stdio\",\n        \"command\": \"npx\",\n        \"args\": [\"-y\", \"browser-devtools-mcp\"]\n      }\n    }\n  }\n}\n```\n\n#### Remote Server\nFirst, start the server with HTTP transport:\n```bash\nnpx -y browser-devtools-mcp --transport=streamable-http --port=3000\n```\n\nThen add the configuration:\n```json\n{\n  \"mcp\": {\n    \"servers\": {\n      \"browser-devtools\": {\n        \"type\": \"http\",\n        \"url\": \"<SERVER_URL>\"\n      }\n    }\n  }\n}\n```\n\nReplace `<SERVER_URL>` with your server URL (e.g., `http://localhost:3000/mcp` if running locally, or `https://your-server.com/mcp` if hosted remotely).\n\n### Windsurf\n\nAdd the following configuration into the `~/.codeium/windsurf/mcp_config.json` file. \nSee the [Windsurf MCP docs](https://docs.windsurf.com/windsurf/cascade/mcp) for more info.\n\n#### Local Server\n```json\n{\n  \"mcpServers\": {\n    \"browser-devtools\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"browser-devtools-mcp\"]\n    }\n  }\n}\n```\n\n#### Remote Server\nFirst, start the server with HTTP transport:\n```bash\nnpx -y browser-devtools-mcp --transport=streamable-http --port=3000\n```\n\nThen add the configuration:\n```json\n{\n  \"mcpServers\": {\n    \"browser-devtools\": {\n      \"serverUrl\": \"<SERVER_URL>\"\n    }\n  }\n}\n```\n\nReplace `<SERVER_URL>` with your server URL (e.g., `http://localhost:3000/mcp` if running locally, or `https://your-server.com/mcp` if hosted remotely).\n\n### Copilot Coding Agent\n\nAdd the following configuration to the `mcpServers` section of your Copilot Coding Agent configuration through \n`Repository` > `Settings` > `Copilot` > `Coding agent` > `MCP configuration`.\nSee the [Copilot Coding Agent MCP docs](https://docs.github.com/en/enterprise-cloud@latest/copilot/how-tos/agents/copilot-coding-agent/extending-copilot-coding-agent-with-mcp) for more info.\n\n#### Local Server\n```json\n{\n  \"mcpServers\": {\n    \"browser-devtools\": {\n      \"type\": \"local\",\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"browser-devtools-mcp\"]\n    }\n  }\n}\n```\n\n#### Remote Server\nFirst, start the server with HTTP transport:\n```bash\nnpx -y browser-devtools-mcp --transport=streamable-http --port=3000\n```\n\nThen add the configuration:\n```json\n{\n  \"mcpServers\": {\n    \"browser-devtools\": {\n      \"type\": \"http\",\n      \"url\": \"<SERVER_URL>\"\n    }\n  }\n}\n```\n\nReplace `<SERVER_URL>` with your server URL (e.g., `http://localhost:3000/mcp` if running locally, or `https://your-server.com/mcp` if hosted remotely).\n\n### Gemini CLI\n\nAdd the following configuration into the `~/.gemini/settings.json` file.\nSee the [Gemini CLI MCP docs](https://google-gemini.github.io/gemini-cli/docs/tools/mcp-server.html) for more info.\n\n#### Local Server\n```json\n{\n  \"mcpServers\": {\n    \"browser-devtools\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"browser-devtools-mcp\"]\n    }\n  }\n}\n```\n\n#### Remote Server\nFirst, start the server with HTTP transport:\n```bash\nnpx -y browser-devtools-mcp --transport=streamable-http --port=3000\n```\n\nThen add the configuration:\n```json\n{\n  \"mcpServers\": {\n    \"browser-devtools\": {\n      \"httpUrl\": \"<SERVER_URL>\"\n    }\n  }\n}\n```\n\nReplace `<SERVER_URL>` with your server URL (e.g., `http://localhost:3000/mcp` if running locally, or `https://your-server.com/mcp` if hosted remotely).\n\n### Smithery\n\nRun the following command.\nYou can find your Smithery API key [here](https://smithery.ai/account/api-keys).\nSee the [Smithery CLI docs](https://smithery.ai/docs/concepts/cli) for more info.\n\n```bash\nnpx -y @smithery/cli install serkan-ozal/browser-devtools-mcp --client <SMITHERY-CLIENT-NAME> --key <SMITHERY-API-KEY>\n```\n\n## HTTP Transport\n\nTo use HTTP transport, start the server with:\n```bash\nnpx -y browser-devtools-mcp --transport=streamable-http --port=3000\n```\n\nThe server exposes the following endpoints:\n\n- `GET /health` - Health check\n- `GET /ping` - Ping endpoint\n- `GET /mcp` - MCP protocol info\n- `POST /mcp` - MCP protocol messages\n- `DELETE /mcp` - Delete session\n\n**Important**: When configuring remote MCP servers, use the actual URL where your server is hosted:\n- If running locally: `http://localhost:3000/mcp` (or `http://127.0.0.1:3000/mcp`)\n- If hosted remotely: `https://your-server.com/mcp` (replace with your actual server URL)\n\n## MCP Inspector\n\nTest the server using the MCP Inspector:\n\n```bash\n# For stdio transport\nnpx -y @modelcontextprotocol/inspector npx -y browser-devtools-mcp\n\n# For HTTP transport (start server first)\nnpx -y browser-devtools-mcp --transport=streamable-http --port=3000\n# Then in another terminal:\nnpx -y @modelcontextprotocol/inspector http://localhost:3000/mcp --transport http\n```\n\n## CLI Tool\n\nBrowser DevTools MCP includes a standalone CLI tool (`browser-devtools-cli`) for direct command-line access to browser automation capabilities. This is particularly useful for:\n\n- **Scripting and automation**: Use in shell scripts, CI/CD pipelines, or automated workflows\n- **Session-based testing**: Maintain browser state across multiple commands with session IDs\n- **Skill-based workflows**: Build reusable automation sequences\n\n### Installation\n\nThe CLI is included with the npm package:\n\n```bash\n# Run directly with npx\nnpx -y browser-devtools-mcp browser-devtools-cli --help\n\n# Or install globally\nnpm install -g browser-devtools-mcp\nbrowser-devtools-cli --help\n```\n\n### Global Options\n\n| Option | Description | Default |\n|--------|-------------|---------|\n| `--port <number>` | Daemon server port | `2020` |\n| `--session-id <string>` | Session ID for maintaining browser state across commands | (none) |\n| `--json` | Output results as JSON | `false` |\n| `--quiet` | Suppress log messages, only show output | `false` |\n| `--verbose` | Enable verbose/debug output for troubleshooting | `false` |\n| `--timeout <ms>` | Timeout for operations in milliseconds | `30000` |\n\n### Browser Options\n\n| Option | Description | Default |\n|--------|-------------|---------|\n| `--headless` / `--no-headless` | Run browser in headless (no visible window) or headful mode | `true` |\n| `--persistent` / `--no-persistent` | Use persistent browser context (preserves cookies, localStorage) | `false` |\n| `--user-data-dir <path>` | Directory for persistent browser context user data | `./browser-devtools-mcp` |\n| `--use-system-browser` | Use system-installed Chrome instead of bundled browser | `false` |\n| `--browser-path <path>` | Custom browser executable path | (none) |\n\n**Note:** Browser options are applied when the daemon server starts. If the daemon is already running, stop it first (`daemon stop`) then start with new options.\n\n### Commands\n\nThe CLI organizes tools into domain-based subcommands:\n\n```\nbrowser-devtools-cli\n├── daemon                    # Manage the daemon server\n│   ├── start                 # Start the daemon server\n│   ├── stop                  # Stop the daemon server\n│   ├── restart               # Restart the daemon server (stop + start)\n│   ├── status                # Check daemon server status\n│   └── info                  # Get detailed daemon info (version, uptime, sessions)\n├── session                   # Manage browser sessions\n│   ├── list                  # List all active sessions\n│   ├── info <session-id>     # Get information about a session\n│   └── delete <session-id>   # Delete a specific session\n├── tools                     # Inspect available tools\n│   ├── list                  # List all tools (with --domain filter)\n│   ├── info <tool-name>      # Get detailed tool info and parameters\n│   └── search <query>        # Search tools by name or description\n├── config                    # Show current configuration\n├── completion                # Generate shell completion scripts\n│   ├── bash                  # Generate bash completion script\n│   └── zsh                   # Generate zsh completion script\n├── interactive (repl)        # Start interactive REPL mode\n├── update                    # Check for and install updates\n├── navigation                # Navigation commands\n│   ├── go-to                 # Navigate to a URL\n│   ├── go-back               # Navigate backward\n│   ├── go-forward            # Navigate forward\n│   └── reload                # Reload the page\n├── content                   # Content extraction commands\n│   ├── take-screenshot       # Take a screenshot\n│   ├── get-as-html           # Get HTML content\n│   ├── get-as-text           # Get text content\n│   └── save-as-pdf           # Save as PDF\n├── interaction               # Interaction commands\n│   ├── click                 # Click an element\n│   ├── fill                  # Fill a form field\n│   ├── hover                 # Hover over an element\n│   ├── press-key             # Press a keyboard key\n│   ├── select                # Select from dropdown\n│   ├── drag                  # Drag and drop\n│   ├── scroll                # Scroll the page\n│   ├── resize-viewport       # Resize viewport\n│   └── resize-window         # Resize browser window\n├── a11y                      # Accessibility commands\n│   └── take-aria-snapshot    # Take ARIA snapshot\n├── accessibility             # Extended accessibility commands\n│   └── take-ax-tree-snapshot # Take AX tree snapshot\n├── o11y                      # Observability commands\n│   ├── get-console-messages  # Get console logs\n│   ├── get-http-requests     # Get HTTP requests\n│   ├── get-web-vitals        # Get Web Vitals metrics\n│   ├── get-trace-id          # Get current trace ID\n│   ├── new-trace-id          # Generate new trace ID\n│   └── set-trace-id          # Set trace ID\n├── react                     # React debugging commands\n│   ├── get-component-for-element\n│   └── get-element-for-component\n├── run                       # Script execution commands\n│   ├── js-in-browser         # Run JS in browser\n│   └── js-in-sandbox         # Run JS in sandbox\n├── stub                      # HTTP stubbing commands\n│   ├── mock-http-response    # Mock HTTP responses\n│   ├── intercept-http-request # Intercept requests\n│   ├── list                  # List stubs\n│   └── clear                 # Clear stubs\n├── sync                      # Synchronization commands\n│   └── wait-for-network-idle # Wait for network idle\n└── figma                     # Figma integration commands\n    └── compare-page-with-design\n```\n\n### Usage Examples\n\n#### Basic Navigation and Screenshot\n\n```bash\n# Navigate to a URL\nbrowser-devtools-cli navigation go-to --url \"https://example.com\"\n\n# Take a screenshot\nbrowser-devtools-cli content take-screenshot --name \"homepage\"\n```\n\n#### Browser Options\n\nConfigure browser behavior when starting the daemon:\n\n```bash\n# Run browser in headful mode (visible window)\nbrowser-devtools-cli --no-headless navigation go-to --url \"https://example.com\"\n\n# Use persistent browser context\nbrowser-devtools-cli --persistent --user-data-dir ./my-profile navigation go-to --url \"https://example.com\"\n\n# Use system Chrome instead of bundled Chromium\nbrowser-devtools-cli --use-system-browser navigation go-to --url \"https://example.com\"\n\n# Use a custom browser executable\nbrowser-devtools-cli --browser-path /path/to/chrome navigation go-to --url \"https://example.com\"\n```\n\n#### Session-Based Workflow\n\nMaintain browser state across multiple commands using session IDs:\n\n```bash\n# Start a session and navigate\nbrowser-devtools-cli --session-id my-session navigation go-to --url \"https://example.com\"\n\n# Interact with the page (same session)\nbrowser-devtools-cli --session-id my-session interaction click --selector \"button.login\"\n\n# Fill a form\nbrowser-devtools-cli --session-id my-session interaction fill --selector \"#username\" --value \"user@example.com\"\n\n# Take a screenshot\nbrowser-devtools-cli --session-id my-session content take-screenshot --name \"after-login\"\n\n# Clean up session when done\nbrowser-devtools-cli session delete my-session\n```\n\n#### JSON Output for Scripting\n\nUse `--json` and `--quiet` flags for machine-readable output:\n\n```bash\n# Get page content as JSON\nbrowser-devtools-cli --json --quiet --session-id test navigation go-to --url \"https://api.example.com\"\n\n# Output:\n# {\n#   \"url\": \"https://api.example.com/\",\n#   \"status\": 200,\n#   \"statusText\": \"\",\n#   \"ok\": true\n# }\n```\n\n#### Daemon Management\n\n```bash\n# Check daemon status\nbrowser-devtools-cli daemon status\n\n# Start daemon manually\nbrowser-devtools-cli daemon start\n\n# Stop daemon\nbrowser-devtools-cli daemon stop\n\n# Restart daemon (useful when changing browser options)\nbrowser-devtools-cli daemon restart\n\n# Check status with JSON output\nbrowser-devtools-cli daemon status --json\n# Output: {\"status\":\"running\",\"port\":2020}\n\n# Get detailed daemon information\nbrowser-devtools-cli daemon info\n# Output:\n# Daemon Server Information:\n#   Version:       0.5.0\n#   Port:          2020\n#   Uptime:        5m 23s\n#   Sessions:      2\n```\n\n#### Session Management\n\n```bash\n# List all active sessions\nbrowser-devtools-cli session list\n# Output:\n# Active Sessions (2):\n#   my-session\n#     Created:     2025-01-26T10:00:00.000Z\n#     Last Active: 2025-01-26T10:05:30.000Z\n#     Idle:        30s\n#   #default\n#     Created:     2025-01-26T09:55:00.000Z\n#     Last Active: 2025-01-26T10:04:00.000Z\n#     Idle:        1m 30s\n\n# Get info about a specific session\nbrowser-devtools-cli session info my-session\n\n# Delete a session\nbrowser-devtools-cli session delete my-session\n```\n\n#### Tool Discovery\n\n```bash\n# List all available tools\nbrowser-devtools-cli tools list\n# Output:\n# Available Tools (35 total):\n#\n#   navigation:\n#     go-to                          Navigate the browser to the given URL...\n#     go-back                        Navigate back in browser history\n#     ...\n\n# Filter tools by domain\nbrowser-devtools-cli tools list --domain interaction\n\n# Search for tools by keyword\nbrowser-devtools-cli tools search click\n# Output:\n# Tools matching \"click\" (2 found):\n#\n#   interaction/click\n#     Clicks an element on the page.\n#   ...\n\n# Get detailed info about a specific tool\nbrowser-devtools-cli tools info navigation_go-to\n# Output:\n# Tool: navigation_go-to\n# Domain: navigation\n#\n# Description:\n#   Navigate the browser to the given URL...\n#\n# Parameters:\n#   --url <string> (required)\n#       The URL to navigate to\n#   --wait-until <load | domcontentloaded | networkidle> (optional)\n#       When to consider navigation succeeded\n#       Default: \"load\"\n#\n# Usage:\n#   browser-devtools-cli navigation go-to [options]\n```\n\n#### Configuration\n\n```bash\n# Show current configuration\nbrowser-devtools-cli config\n# Output:\n# Current Configuration:\n#\n#   Daemon:\n#     Port:                    2020\n#     Session Idle (sec):      300\n#     Idle Check Interval:     30\n#\n#   Browser:\n#     Headless:                true\n#     Persistent:              false\n#     ...\n\n# Show config as JSON\nbrowser-devtools-cli config --json\n```\n\n#### Verbose/Debug Mode\n\nEnable verbose output for troubleshooting:\n\n```bash\n# Run any command with --verbose for detailed debug logs\nbrowser-devtools-cli --verbose navigation go-to --url \"https://example.com\"\n# Output:\n# [2025-01-26T10:00:00.000Z] [DEBUG] Verbose mode enabled\n# [2025-01-26T10:00:00.001Z] [DEBUG] CLI version: 0.5.0\n# [2025-01-26T10:00:00.001Z] [DEBUG] Node version: v20.10.0\n# [2025-01-26T10:00:00.001Z] [DEBUG] Platform: darwin\n# [2025-01-26T10:00:00.002Z] [DEBUG] Checking if daemon is running on port 2020\n# [2025-01-26T10:00:00.010Z] [DEBUG] Daemon health check result: running\n# [2025-01-26T10:00:00.011Z] [DEBUG] Calling tool: navigation_go-to\n# [2025-01-26T10:00:00.011Z] [DEBUG] Tool input: { url: \"https://example.com\" }\n# ...\n```\n\n#### Tool Search\n\nFind tools by keyword:\n\n```bash\n# Search for tools related to \"screenshot\"\nbrowser-devtools-cli tools search screenshot\n# Output:\n# Tools matching \"screenshot\" (2 found):\n#\n#   content/take-screenshot\n#     Takes a screenshot of the current page or a specific element.\n#\n#   figma/compare-page-with-design\n#     Compares the CURRENT PAGE UI against a Figma design snapshot...\n\n# Search for tools related to \"network\"\nbrowser-devtools-cli tools search network\n```\n\n#### Shell Completions\n\nEnable tab completion for faster command entry. Shell completions require a one-time setup:\n\n**For Bash:**\n```bash\n# Option 1: Add to ~/.bashrc (recommended)\necho 'eval \"$(browser-devtools-cli completion bash)\"' >> ~/.bashrc\nsource ~/.bashrc\n\n# Option 2: Or add manually to ~/.bashrc\neval \"$(browser-devtools-cli completion bash)\"\n```\n\n**For Zsh (macOS default):**\n```bash\n# Option 1: Add to ~/.zshrc (recommended)\necho 'eval \"$(browser-devtools-cli completion zsh)\"' >> ~/.zshrc\nsource ~/.zshrc\n\n# Option 2: Or add manually to ~/.zshrc\neval \"$(browser-devtools-cli completion zsh)\"\n```\n\n**Using with npx:**\n```bash\n# If using npx instead of global install:\necho 'eval \"$(npx -y browser-devtools-cli completion zsh)\"' >> ~/.zshrc\nsource ~/.zshrc\n```\n\nAfter setup, press TAB for completions:\n```bash\nbrowser-devtools-cli dae<TAB>        # Completes to \"daemon\"\nbrowser-devtools-cli daemon st<TAB>  # Shows \"start\", \"stop\", \"status\", \"restart\"\nbrowser-devtools-cli --<TAB>         # Shows all global options\n```\n\n#### Interactive REPL Mode\n\nStart an interactive session for continuous command entry:\n\n```bash\n# Start in headless mode (default)\nbrowser-devtools-cli interactive\n\n# Start with visible browser window\nbrowser-devtools-cli --no-headless interactive\n\n# Start with persistent context (preserves cookies, localStorage)\nbrowser-devtools-cli --no-headless --persistent interactive\n\n# Aliases\nbrowser-devtools-cli repl\nbrowser-devtools-cli --no-headless repl\n```\n\n**Example session:**\n\n```\nBrowser DevTools CLI - Interactive Mode\nType \"help\" for available commands, \"exit\" to quit\n\nbrowser> navigation go-to --url \"https://example.com\"\nurl: https://example.com/\nstatus: 200\nok: true\n\nbrowser> content take-screenshot --name \"homepage\"\npath: /path/to/homepage.png\n\nbrowser> interaction click --ref \"Login\"\nclicked: true\n\nbrowser> interaction fill --ref \"Email\" --value \"test@example.com\"\nfilled: true\n\nbrowser> tools search screenshot\nFound 2 tools:\n  content_take-screenshot - Take a screenshot of the current page\n  content_take-pdf - Generate a PDF of the current page\n\nbrowser> daemon info\nVersion: 0.5.0\nUptime: 5m 23s\nSessions: 1\nPort: 2020\n\nbrowser> session list\nActive sessions: 1\n  #default (idle: 30s)\n\nbrowser> config\nCurrent Configuration:\n  port = 2020\n  headless = false\n  persistent = true\n  ...\n\nbrowser> exit\nGoodbye!\n```\n\n**Available commands in interactive mode:**\n\n| Command | Description |\n|---------|-------------|\n| `help` | Show available commands |\n| `exit`, `quit` | Exit interactive mode |\n| `status` | Show daemon status summary |\n| `config` | Show current configuration |\n| `daemon <cmd>` | Daemon management (start, stop, restart, status, info) |\n| `session <cmd>` | Session management (list, info, delete) |\n| `tools <cmd>` | Tool discovery (list, search, info) |\n| `update` | Check for CLI updates |\n| `<domain> <tool>` | Execute a tool |\n\n#### Check for Updates\n\nKeep your CLI up to date:\n\n```bash\n# Check for updates without installing\nbrowser-devtools-cli update --check\n# Output:\n# Checking for updates...\n#\n#   Current version:  0.5.0\n#   Latest version:   0.5.1\n#\n# ⚠ Update available: 0.5.0 → 0.5.1\n#\n# To update, run:\n#   npm install -g browser-devtools-mcp@latest\n\n# Check and install updates interactively\nbrowser-devtools-cli update\n# Output:\n# ...\n# Do you want to update now? (y/N) y\n# Updating...\n# ✓ Update complete!\n```\n\n#### Shell Script Example\n\n```bash\n#!/bin/bash\nSESSION=\"test-$(date +%s)\"\nCLI=\"browser-devtools-cli --json --quiet --session-id $SESSION\"\n\n# Navigate\n$CLI navigation go-to --url \"https://example.com\"\n\n# Get text content\nCONTENT=$($CLI content get-as-text)\necho \"Page content: $CONTENT\"\n\n# Take screenshot\n$CLI content take-screenshot --name \"test-result\"\n\n# Cleanup\nbrowser-devtools-cli session delete $SESSION\n```\n\n### Daemon Architecture\n\nThe CLI uses a daemon server architecture for efficient browser management:\n\n1. **Auto-start**: The daemon starts automatically when you run any tool command\n2. **Shared browser**: Multiple CLI invocations share the same browser instance\n3. **Session isolation**: Each session ID gets its own isolated browser context\n4. **Auto-cleanup**: Idle sessions are automatically cleaned up after inactivity\n\nThe daemon listens on port 2020 by default. Use `--port` to specify a different port.\n\n### CLI Skills Documentation\n\nComprehensive documentation for AI agents and automation is available in the [skills/browser-devtools-cli](skills/browser-devtools-cli) directory:\n\n- **[SKILL.md](skills/browser-devtools-cli/SKILL.md)** - Main CLI reference with global options, commands, and workflow examples\n- **Domain References** (in `references/` subdirectory):\n  - [navigation.md](skills/browser-devtools-cli/references/navigation.md) - Page navigation (go-to, back, forward, reload)\n  - [content.md](skills/browser-devtools-cli/references/content.md) - Content extraction (screenshot, PDF, HTML, text)\n  - [interaction.md](skills/browser-devtools-cli/references/interaction.md) - User interactions (click, fill, hover, scroll)\n  - [a11y.md](skills/browser-devtools-cli/references/a11y.md) - Accessibility snapshots (ARIA, AX tree)\n  - [o11y.md](skills/browser-devtools-cli/references/o11y.md) - Observability (Web Vitals, console, HTTP, traces)\n  - [run.md](skills/browser-devtools-cli/references/run.md) - JavaScript execution (browser, sandbox)\n  - [stub.md](skills/browser-devtools-cli/references/stub.md) - HTTP mocking (intercept, mock, clear)\n  - [sync.md](skills/browser-devtools-cli/references/sync.md) - Synchronization (wait for network idle)\n  - [react.md](skills/browser-devtools-cli/references/react.md) - React DevTools integration\n  - [figma.md](skills/browser-devtools-cli/references/figma.md) - Figma design comparison\n\nThese skill files are optimized for AI agent consumption with non-interactive command examples, JSON output flags, and session-based workflow patterns.\n\n## Configuration\n\nThe server can be configured using environment variables:\n\n| Variable | Description | Default |\n|----------|-------------|---------|\n| `PORT` | Port for HTTP transport | `3000` |\n| `SESSION_IDLE_SECONDS` | Idle session timeout (seconds) | `300` |\n| `SESSION_IDLE_CHECK_SECONDS` | Interval for checking idle sessions (seconds) | `30` |\n| `SESSION_CLOSE_ON_SOCKET_CLOSE` | Close session when socket closes | `false` |\n| `CONSOLE_MESSAGES_BUFFER_SIZE` | Maximum console messages to buffer | `1000` |\n| `HTTP_REQUESTS_BUFFER_SIZE` | Maximum HTTP requests to buffer | `1000` |\n| `BROWSER_HEADLESS_ENABLE` | Run browser in headless mode | `true` |\n| `BROWSER_PERSISTENT_ENABLE` | Use persistent browser context (preserves cookies, localStorage, etc.). **Required for React tools to work optimally.** | `false` |\n| `BROWSER_PERSISTENT_USER_DATA_DIR` | Directory for persistent browser context user data | `./browser-devtools-mcp` |\n| `BROWSER_USE_INSTALLED_ON_SYSTEM` | Use system-installed Chrome browser instead of Playwright's bundled browser | `false` |\n| `BROWSER_EXECUTABLE_PATH` | Custom browser executable path | (uses Playwright default) |\n| `OTEL_ENABLE` | Enable OpenTelemetry integration | `false` |\n| `OTEL_SERVICE_NAME` | OpenTelemetry service name | `frontend` |\n| `OTEL_SERVICE_VERSION` | OpenTelemetry service version | (none) |\n| `OTEL_ASSETS_DIR` | Directory containing OpenTelemetry bundle files | (uses default) |\n| `OTEL_EXPORTER_TYPE` | OpenTelemetry exporter type: \"otlp/http\", \"console\", or \"none\" | `none` |\n| `OTEL_EXPORTER_HTTP_URL` | OpenTelemetry collector base URL (e.g., \"http://localhost:4318\") | (none) |\n| `OTEL_EXPORTER_HTTP_HEADERS` | OpenTelemetry exporter HTTP headers (comma-separated key=value pairs) | (none) |\n| `OTEL_INSTRUMENTATION_USER_INTERACTION_EVENTS` | User interaction events to instrument (comma-separated, e.g., \"click,submit\") | `click` |\n| `FIGMA_ACCESS_TOKEN` | Figma API access token for design comparison | (none) |\n| `FIGMA_API_BASE_URL` | Figma API base URL | `https://api.figma.com/v1` |\n\n## Available Tools\n\n### Content Tools\n\n<details>\n<summary><code>content_take-screenshot</code> - Takes a screenshot of the current page or a specific element.</summary>\n\n**Parameters:**\n- `outputPath` (string, optional): Directory path where screenshot will be saved (default: OS temp directory)\n- `name` (string, optional): Screenshot name (default: \"screenshot\")\n- `selector` (string, optional): CSS selector for element to capture\n- `fullPage` (boolean, optional): Capture full scrollable page (default: false)\n- `type` (enum, optional): Image format - \"png\" or \"jpeg\" (default: \"png\")\n- `quality` (number, optional): The quality of the image, between 0-100. Not applicable to PNG images, only used for JPEG format (default: 100)\n- `includeBase64` (boolean, optional): Include base64-encoded image data in the response (default: false)\n\n**Returns:**\n- `filePath` (string): Full path of the saved screenshot file\n- `image` (object, optional): Screenshot image data with mimeType (only included when `includeBase64` is true)\n\n**Notes:**\n- The screenshot is always saved to the file system and the file path is returned\n- By default, image data is NOT included in the response to reduce payload size\n- Set `includeBase64` to true when the AI assistant cannot access the MCP server's file system (e.g., remote server, containerized environment, or different machine)\n- The `quality` parameter only applies to JPEG images. PNG images are always saved at full quality\n- Lower quality values (e.g., 50-70) result in smaller file sizes but reduced image quality\n</details>\n\n<details>\n<summary><code>content_get-as-html</code> - Retrieves the HTML content of the current page or a specific element.</summary>\n\n**Parameters:**\n- `selector` (string, optional): CSS selector to limit the HTML content to a specific container\n- `removeScripts` (boolean, optional): Remove all script tags from the HTML (default: true)\n- `removeComments` (boolean, optional): Remove all HTML comments (default: false)\n- `removeStyles` (boolean, optional): Remove all style tags from the HTML (default: false)\n- `removeMeta` (boolean, optional): Remove all meta tags from the HTML (default: false)\n- `cleanHtml` (boolean, optional): Perform comprehensive HTML cleaning (default: false)\n- `minify` (boolean, optional): Minify the HTML output (default: false)\n- `maxLength` (number, optional): Maximum number of characters to return (default: 50000)\n\n**Returns:**\n- `output` (string): The requested HTML content of the page\n</details>\n\n<details>\n<summary><code>content_get-as-text</code> - Retrieves the visible text content of the current page or a specific element.</summary>\n\n**Parameters:**\n- `selector` (string, optional): CSS selector to limit the text content to a specific container\n- `maxLength` (number, optional): Maximum number of characters to return (default: 50000)\n\n**Returns:**\n- `output` (string): The requested text content of the page\n</details>\n\n<details>\n<summary><code>content_save-as-pdf</code> - Saves the current page as a PDF document.</summary>\n\n**Parameters:**\n- `outputPath` (string, optional): Directory path where PDF will be saved (default: OS temp directory)\n- `name` (string, optional): PDF name (default: \"page\")\n- `format` (enum, optional): Page format - \"Letter\", \"Legal\", \"Tabloid\", \"Ledger\", \"A0\" through \"A6\" (default: \"A4\")\n- `printBackground` (boolean, optional): Whether to print background graphics (default: false)\n- `margin` (object, optional): Page margins with top, right, bottom, left (default: \"1cm\" for each)\n\n**Returns:**\n- `filePath` (string): Full path of the saved PDF file\n</details>\n\n### Interaction Tools\n\n<details>\n<summary><code>interaction_click</code> - Clicks an element on the page.</summary>\n\n**Parameters:**\n- `selector` (string, required): CSS selector for the element to click\n</details>\n\n<details>\n<summary><code>interaction_fill</code> - Fills a form input field.</summary>\n\n**Parameters:**\n- `selector` (string, required): CSS selector for the input field\n- `value` (string, required): Value to fill\n</details>\n\n<details>\n<summary><code>interaction_hover</code> - Hovers over an element.</summary>\n\n**Parameters:**\n- `selector` (string, required): CSS selector for the element to hover\n</details>\n\n<details>\n<summary><code>interaction_press-key</code> - Simulates keyboard input.</summary>\n\n**Parameters:**\n- `key` (string, required): Key to press (e.g., \"Enter\", \"Escape\", \"Tab\")\n- `selector` (string, optional): CSS selector to focus before sending the key\n- `holdMs` (number, optional): Duration in milliseconds to hold the key (repeat duration if `repeat` is true)\n- `repeat` (boolean, optional, default: false): If true, simulates key auto-repeat by pressing repeatedly during `holdMs`\n- `repeatIntervalMs` (number, optional, default: 50, min: 10): Interval between repeated key presses in ms (only when `repeat` is true)\n</details>\n\n<details>\n<summary><code>interaction_select</code> - Selects an option from a dropdown.</summary>\n\n**Parameters:**\n- `selector` (string, required): CSS selector for the select element\n- `value` (string, required): Value to select\n</details>\n\n<details>\n<summary><code>interaction_drag</code> - Performs drag and drop operation.</summary>\n\n**Parameters:**\n- `sourceSelector` (string, required): CSS selector for the source element\n- `targetSelector` (string, required): CSS selector for the target element\n</details>\n\n<details>\n<summary><code>interaction_scroll</code> - Scrolls the page viewport or a specific scrollable element.</summary>\n\n**Parameters:**\n- `mode` (enum, optional): Scroll mode - \"by\" (relative delta), \"to\" (absolute position), \"top\", \"bottom\", \"left\", \"right\" (default: \"by\")\n- `selector` (string, optional): CSS selector for a scrollable container. If omitted, scrolls the document viewport\n- `dx` (number, optional): Horizontal scroll delta in pixels (used when mode=\"by\", default: 0)\n- `dy` (number, optional): Vertical scroll delta in pixels (used when mode=\"by\", default: 0)\n- `x` (number, optional): Absolute horizontal scroll position in pixels (used when mode=\"to\")\n- `y` (number, optional): Absolute vertical scroll position in pixels (used when mode=\"to\")\n- `behavior` (enum, optional): Native scroll behavior - \"auto\" or \"smooth\" (default: \"auto\")\n\n**Returns:**\n- `mode` (string): The scroll mode used\n- `selector` (string | null): The selector of the scroll container if provided; otherwise null (document viewport)\n- `behavior` (string): The scroll behavior used\n- `before` (object): Scroll metrics before the scroll action (x, y, scrollWidth, scrollHeight, clientWidth, clientHeight)\n- `after` (object): Scroll metrics after the scroll action (x, y, scrollWidth, scrollHeight, clientWidth, clientHeight)\n- `canScrollX` (boolean): Whether horizontal scrolling is possible\n- `canScrollY` (boolean): Whether vertical scrolling is possible\n- `maxScrollX` (number): Maximum horizontal scrollLeft\n- `maxScrollY` (number): Maximum vertical scrollTop\n- `isAtLeft` (boolean): Whether the scroll position is at the far left\n- `isAtRight` (boolean): Whether the scroll position is at the far right\n- `isAtTop` (boolean): Whether the scroll position is at the very top\n- `isAtBottom` (boolean): Whether the scroll position is at the very bottom\n\n**Usage:**\n- Reveal content below the fold\n- Jump to the top/bottom without knowing exact positions\n- Bring elements into view before clicking\n- Inspect lazy-loaded content that appears on scroll\n</details>\n\n<details>\n<summary><code>interaction_resize-viewport</code> - Resizes the page viewport using Playwright viewport emulation.</summary>\n\n**Parameters:**\n- `width` (number, required): Target viewport width in CSS pixels (minimum: 200)\n- `height` (number, required): Target viewport height in CSS pixels (minimum: 200)\n\n**Returns:**\n- `requested` (object): Requested viewport configuration (width, height)\n- `viewport` (object): Viewport metrics observed inside the page after resizing:\n  - `innerWidth`, `innerHeight`: window.innerWidth/innerHeight\n  - `outerWidth`, `outerHeight`: window.outerWidth/outerHeight\n  - `devicePixelRatio`: window.devicePixelRatio\n\n**Notes:**\n- This affects `window.innerWidth/innerHeight`, CSS media queries, layout, rendering, and screenshots\n- This does NOT resize the OS-level browser window\n- Runtime switching to viewport=null (binding to real window size) is not supported by Playwright\n- If you need real window-driven responsive behavior, start the BrowserContext with viewport: null and use the window resize tool instead\n</details>\n\n<details>\n<summary><code>interaction_resize-window</code> - Resizes the real browser window (OS-level window) for the current page using Chrome DevTools Protocol (CDP).</summary>\n\n**Parameters:**\n- `width` (number, optional): Target window width in pixels (required when state=\"normal\", minimum: 200)\n- `height` (number, optional): Target window height in pixels (required when state=\"normal\", minimum: 200)\n- `state` (enum, optional): Target window state - \"normal\", \"maximized\", \"minimized\", or \"fullscreen\" (default: \"normal\")\n\n**Returns:**\n- `requested` (object): Requested window change parameters (width, height, state)\n- `before` (object): Window bounds before resizing (windowId, state, left, top, width, height)\n- `after` (object): Window bounds after resizing (windowId, state, left, top, width, height)\n- `viewport` (object): Page viewport metrics after resizing (innerWidth, innerHeight, outerWidth, outerHeight, devicePixelRatio)\n\n**Notes:**\n- Works best on Chromium-based browsers (Chromium/Chrome/Edge)\n- Especially useful in headful sessions when running with viewport emulation disabled (viewport: null)\n- If Playwright viewport emulation is enabled (viewport is NOT null), resizing the OS window may not change page layout\n- On non-Chromium browsers (Firefox/WebKit), CDP is not available and this tool will fail\n</details>\n\n### Navigation Tools\n\n<details>\n<summary><code>navigation_go-to</code> - Navigates to a URL.</summary>\n\n**Parameters:**\n- `url` (string, required): URL to navigate to (must include scheme)\n- `timeout` (number, optional): Maximum operation time in milliseconds (default: 0 - no timeout)\n- `waitUntil` (enum, optional): When to consider navigation succeeded - \"load\", \"domcontentloaded\", \"networkidle\", or \"commit\" (default: \"load\")\n\n**Returns:**\n- `url` (string): Final URL after navigation\n- `status` (number): HTTP status code\n- `statusText` (string): HTTP status text\n- `ok` (boolean): Whether navigation was successful (2xx status)\n</details>\n\n<details>\n<summary><code>navigation_go-back</code> - Navigates backward in browser history.</summary>\n</details>\n\n<details>\n<summary><code>navigation_go-forward</code> - Navigates forward in browser history.</summary>\n</details>\n\n<details>\n<summary><code>navigation_reload</code> - Reloads the current page.</summary>\n\n**Parameters:**\n- `timeout` (number, optional): Maximum operation time in milliseconds (default: 0 - no timeout)\n- `waitUntil` (enum, optional): When to consider navigation succeeded - \"load\", \"domcontentloaded\", \"networkidle\", or \"commit\" (default: \"load\")\n\n**Returns:**\n- `url` (string): Final URL after reload\n- `status` (number): HTTP status code\n- `statusText` (string): HTTP status text\n- `ok` (boolean): Whether reload was successful (2xx status)\n</details>\n\n### Run Tools\n\n<details>\n<summary><code>run_js-in-browser</code> - Runs custom JavaScript INSIDE the active browser page using Playwright's \"page.evaluate()\".</summary>\n\n**Parameters:**\n- `script` (string, required): JavaScript code to execute\n\n**Returns:**\n- `result` (any): Result of the evaluation. This value can be of any type, including primitives, arrays, or objects. It represents the direct return value of the JavaScript expression executed in the page context.\n\n**Notes:**\n- The code executes in the PAGE CONTEXT (real browser environment):\n  - Has access to window, document, DOM, Web APIs\n  - Can read/modify the page state\n  - Runs with the same permissions as the loaded web page\n- The code runs in an isolated execution context, but within the page\n- No direct access to Node.js APIs\n- Return value must be serializable\n\n**Typical use cases:**\n- Inspect or mutate DOM state\n- Read client-side variables or framework internals\n- Trigger browser-side logic\n- Extract computed values directly from the page\n</details>\n\n<details>\n<summary><code>run_js-in-sandbox</code> - Runs custom JavaScript inside a Node.js VM sandbox on the MCP server (NOT in the browser).</summary>\n\n**Parameters:**\n- `code` (string, required): JavaScript code to run on the MCP server in a VM sandbox. The code is wrapped in an async IIFE, so `await` is allowed. Use `return ...` to return a value\n- `timeoutMs` (number, optional): Max VM CPU time for synchronous execution in milliseconds (default: 5000, max: 30000)\n\n**Returns:**\n- `result` (any): Return value of the sandboxed code (best-effort JSON-safe). If user returns undefined but logs exist, returns `{ logs }`. If error occurs, returns `{ error, logs }`\n\n**Available bindings:**\n- `page`: Playwright Page (main interaction surface)\n- `console`: captured logs (log/warn/error)\n- `sleep(ms)`: async helper\n\n**Safe built-ins:**\n- Math, JSON, Number, String, Boolean, Array, Object, Date, RegExp\n- isFinite, isNaN, parseInt, parseFloat\n- URL, URLSearchParams\n- TextEncoder, TextDecoder\n- structuredClone\n- crypto.randomUUID()\n- AbortController\n- setTimeout / clearTimeout\n\n**NOT available:**\n- require, process, fs, Buffer\n- globalThis\n\n**Notes:**\n- This runs on the MCP SERVER (not in the browser)\n- This is NOT a security boundary. Intended for trusted automation logic\n- The timeoutMs parameter limits synchronous execution time, but does not automatically time out awaited Promises\n</details>\n\n### Observability (O11Y) Tools\n\n<details>\n<summary><code>o11y_get-console-messages</code> - Retrieves console messages/logs from the browser with advanced filtering.</summary>\n\n**Parameters:**\n- `type` (enum, optional): Filter by message level - \"ERROR\", \"WARNING\", \"INFO\", \"DEBUG\"\n- `search` (string, optional): Text to search for in messages\n- `timestamp` (number, optional): Start time filter (Unix epoch milliseconds)\n- `sequenceNumber` (number, optional): Only return messages after this sequence number\n- `limit` (object, optional): Limit results\n  - `count` (number): Maximum number of messages\n  - `from` (enum): \"start\" or \"end\" (default: \"end\")\n\n**Returns:**\n- `messages` (array): Array of console messages with type, text, location, timestamp, and sequence number\n</details>\n\n<details>\n<summary><code>o11y_get-http-requests</code> - Retrieves HTTP requests from the browser with detailed filtering.</summary>\n\n**Parameters:**\n- `resourceType` (enum, optional): Filter by resource type (e.g., \"document\", \"script\", \"stylesheet\")\n- `status` (object, optional): Filter by status code range\n  - `min` (number): Minimum status code\n  - `max` (number): Maximum status code\n- `ok` (boolean, optional): Filter by success/failure (2xx = success)\n- `timestamp` (number, optional): Start time filter (Unix epoch milliseconds)\n- `sequenceNumber` (number, optional): Only return requests after this sequence number\n- `limit` (object, optional): Limit results\n  - `count` (number): Maximum number of requests\n  - `from` (enum): \"start\" or \"end\" (default: \"end\")\n\n**Returns:**\n- `requests` (array): Array of HTTP requests with URL, method, headers, body, response, timing, and metadata\n</details>\n\n<details>\n<summary><code>o11y_get-web-vitals</code> - Collects Web Vitals-style performance metrics and provides recommendations based on Google's thresholds.</summary>\n\n**Parameters:**\n- `waitMs` (number, optional): Optional wait duration in milliseconds before reading metrics (default: 0, max: 30000). Useful to allow LCP/INP/CLS to settle after interactions\n- `includeDebug` (boolean, optional): If true, returns additional debug details such as entry counts and LCP element hint (default: false)\n\n**Returns:**\n- `url` (string): Current page URL\n- `title` (string): Current page title\n- `timestampMs` (number): Unix epoch timestamp (ms) when the metrics were captured\n- `metrics` (object): Raw metric values (null if unavailable):\n  - `lcpMs` (number | null): Largest Contentful Paint in milliseconds\n  - `inpMs` (number | null): Interaction to Next Paint in milliseconds (best-effort approximation)\n  - `cls` (number | null): Cumulative Layout Shift score\n  - `ttfbMs` (number | null): Time to First Byte in milliseconds\n  - `fcpMs` (number | null): First Contentful Paint in milliseconds\n- `ratings` (object): Ratings computed from Google thresholds for each metric:\n  - `lcp`, `inp`, `cls`, `ttfb`, `fcp`: Each contains:\n    - `rating` (enum): \"good\", \"needs_improvement\", \"poor\", or \"not_available\"\n    - `value` (number | null): Metric value\n    - `unit` (enum): \"ms\" or \"score\"\n    - `thresholds` (object): Thresholds used for rating (good, poor)\n- `recommendations` (object): Recommendations based on measured values:\n  - `coreWebVitalsPassed` (boolean): True if all Core Web Vitals are rated \"good\"\n  - `summary` (array): High-level summary and prioritization guidance\n  - `lcp`, `inp`, `cls`, `ttfb`, `fcp` (array): Specific recommendations for each metric\n  - `general` (array): General measurement and debugging notes\n- `notes` (array): Notes about metric availability, browser limitations, and interpretation\n- `debug` (object, optional): Optional debug details (when includeDebug=true):\n  - `waitMs` (number): Actual wait duration used\n  - `entries` (object): Counts of PerformanceEntry types used to compute metrics\n  - `lastLcpSelectorHint` (string | null): Best-effort selector hint for the last LCP element\n  - `lastLcpTagName` (string | null): Tag name of the last LCP element\n\n**Core Web Vitals Thresholds:**\n- **LCP** (Largest Contentful Paint): good <= 2500ms, poor > 4000ms\n- **INP** (Interaction to Next Paint): good <= 200ms, poor > 500ms\n- **CLS** (Cumulative Layout Shift): good <= 0.1, poor > 0.25\n\n**Supporting Metrics Thresholds:**\n- **TTFB** (Time to First Byte): good <= 800ms, poor > 1800ms\n- **FCP** (First Contentful Paint): good <= 1800ms, poor > 3000ms\n\n**Usage:**\n- Call after navigation and after user actions\n- If you need more stable LCP/CLS/INP, pass waitMs (e.g., 1000-3000ms)\n- Some metrics may be unavailable depending on browser support and whether interactions occurred\n</details>\n\n<details>\n<summary><code>o11y_get-trace-id</code> - Gets the OpenTelemetry compatible trace id of the current session.</summary>\n\n**Parameters:**\n- No input parameters\n\n**Returns:**\n- `traceId` (string, optional): The OpenTelemetry compatible trace id of the current session if available\n\n**Note:** Requires OpenTelemetry to be enabled (`OTEL_ENABLE=true`).\n</details>\n\n<details>\n<summary><code>o11y_new-trace-id</code> - Generates a new OpenTelemetry compatible trace id and sets it to the current session.</summary>\n\n**Parameters:**\n- No input parameters\n\n**Returns:**\n- `traceId` (string): The generated new OpenTelemetry compatible trace id\n\n**Note:** Requires OpenTelemetry to be enabled (`OTEL_ENABLE=true`). The new trace ID is automatically set and will be used for all subsequent traces in the session.\n</details>\n\n<details>\n<summary><code>o11y_set-trace-id</code> - Sets the OpenTelemetry compatible trace id of the current session.</summary>\n\n**Parameters:**\n- `traceId` (string, optional): The OpenTelemetry compatible trace id to be set. Leave it empty to clear the session trace id, so no OpenTelemetry trace header will be propagated from browser throughout the API calls\n\n**Returns:**\n- No return value\n\n**Note:** Requires OpenTelemetry to be enabled (`OTEL_ENABLE=true`). When a trace ID is set, it will be propagated in HTTP headers (traceparent) for all API calls, enabling correlation with backend traces.\n</details>\n\n### Synchronization Tools\n\n<details>\n<summary><code>sync_wait-for-network-idle</code> - Waits until the page reaches a network-idle condition based on the session's tracked in-flight request count.</summary>\n\n**Parameters:**\n- `timeoutMs` (number, optional): Maximum time to wait before failing (milliseconds, default: 30000)\n- `idleTimeMs` (number, optional): How long the network must stay idle continuously before resolving (milliseconds, default: 500)\n- `maxConnections` (number, optional): Idle threshold - network is considered idle when in-flight requests <= maxConnections (default: 0)\n- `pollIntervalMs` (number, optional): Polling interval used to sample the in-flight request count (milliseconds, default: 50)\n\n**Returns:**\n- `waitedMs` (number): Total time waited until the network became idle or the tool timed out\n- `idleTimeMs` (number): Idle duration required for success\n- `timeoutMs` (number): Maximum allowed wait time\n- `maxConnections` (number): Idle threshold used\n- `pollIntervalMs` (number): Polling interval used\n- `finalInFlightRequests` (number): The last observed number of in-flight requests\n- `observedIdleMs` (number): How long the in-flight request count stayed <= maxConnections\n\n**Usage:**\n- Use before interacting with SPA pages that load data asynchronously\n- Use before taking screenshots or AX tree snapshots for more stable results\n- Use after actions that trigger background fetch/XHR activity\n\n**Note:** This tool uses server-side tracking, so it works reliably even with strict CSP. It does NOT rely on window globals or page-injected counters.\n</details>\n\n### Accessibility (A11Y) Tools\n\n<details>\n<summary><code>a11y_take-aria-snapshot</code> - Captures an ARIA (accessibility) snapshot of the current page or a specific element.</summary>\n\n**Parameters:**\n- `selector` (string, optional): CSS selector for element to snapshot\n\n**Returns:**\n- `output` (string): Includes the page URL, title, and a YAML-formatted accessibility tree\n\n**Usage:**\n- Use in combination with `accessibility_take-ax-tree-snapshot` for comprehensive UI analysis\n- Provides semantic structure and accessibility roles\n- Helps identify accessibility issues and page hierarchy problems\n</details>\n\n<details>\n<summary><code>accessibility_take-ax-tree-snapshot</code> - Captures a UI-focused snapshot by combining Chromium's Accessibility (AX) tree with runtime visual diagnostics.</summary>\n\n**Parameters:**\n- `roles` (array, optional): Optional role allowlist (button, link, textbox, checkbox, radio, combobox, switch, tab, menuitem, dialog, heading, listbox, listitem, option). If omitted, a built-in set of interactive roles is used\n- `includeStyles` (boolean, optional): Whether to include computed CSS styles for each node (default: true)\n- `includeRuntimeVisual` (boolean, optional): Whether to compute runtime visual information (bounding box, visibility, viewport) (default: true)\n- `checkOcclusion` (boolean, optional): If true, checks whether each element is visually occluded by another element using elementFromPoint() sampled at multiple points (default: false)\n- `onlyVisible` (boolean, optional): If true, only visually visible nodes are returned (default: false)\n- `onlyInViewport` (boolean, optional): If true, only nodes intersecting the viewport are returned (default: false)\n- `textPreviewMaxLength` (number, optional): Maximum length of the text preview extracted from each element (default: 80)\n- `styleProperties` (array, optional): List of CSS computed style properties to extract (default: includes display, visibility, opacity, position, z-index, colors, fonts, etc.)\n\n**Returns:**\n- `url` (string): The current page URL at the time the AX snapshot was captured\n- `title` (string): The document title of the page at the time of the snapshot\n- `axNodeCount` (number): Total number of nodes returned by Chromium Accessibility.getFullAXTree before filtering\n- `candidateCount` (number): Number of DOM-backed AX nodes that passed role filtering before enrichment\n- `enrichedCount` (number): Number of nodes included in the final enriched snapshot output\n- `truncatedBySafetyCap` (boolean): Indicates whether the result set was truncated by an internal safety cap\n- `nodes` (array): List of enriched DOM-backed AX nodes combining accessibility metadata with visual diagnostics, including:\n  - `axNodeId`, `parentAxNodeId`, `childAxNodeIds`: Tree structure\n  - `role`, `name`, `ignored`: Accessibility properties\n  - `backendDOMNodeId`, `domNodeId`, `frameId`: DOM references\n  - `localName`, `id`, `className`, `selectorHint`: Element identification\n  - `textPreview`: Short preview of rendered text content\n  - `styles`: Computed CSS styles (if includeStyles is true)\n  - `runtime`: Visual diagnostics including boundingBox, isVisible, isInViewport, and optional occlusion data\n\n**Usage:**\n- Use to detect UI issues like elements that exist semantically but are visually hidden or off-screen\n- Identify wrong layout/geometry, styling issues, and overlap/stacking/occlusion problems\n- ALWAYS use `checkOcclusion: true` when investigating UI/layout problems\n- Use alongside `a11y_take-aria-snapshot` tool for complete UI analysis\n</details>\n\n### Stub Tools\n\n<details>\n<summary><code>stub_intercept-http-request</code> - Installs a request interceptor stub that can modify outgoing requests before they are sent.</summary>\n\n**Parameters:**\n- `pattern` (string, required): Glob pattern matched against the full request URL (picomatch)\n- `modifications` (object, optional): Request modifications to apply\n  - `headers` (object, optional): Headers to merge into the outgoing request headers\n  - `body` (string | object, optional): Override request body. If object/array, it will be JSON-stringified\n  - `method` (string, optional): Override HTTP method (e.g., POST, PUT)\n- `delayMs` (number, optional): Artificial delay in milliseconds before continuing the request (default: 0)\n- `times` (number, optional): Apply only N times, then let through. Omit for infinite\n\n**Returns:**\n- `stubId` (string): Unique id of the installed stub\n- `kind` (string): Stub kind (always \"intercept_http_request\")\n- `pattern` (string): Glob pattern used\n- `enabled` (boolean): Whether the stub is enabled\n- `delayMs` (number): Applied artificial delay in milliseconds\n- `times` (number): Max applications (-1 means infinite)\n\n**Use cases:**\n- A/B testing / feature flags (inject headers)\n- Security testing (inject malformed headers / payload)\n- Edge cases (special characters, large payload)\n- Auth simulation (add API keys / tokens in headers)\n\n**Notes:**\n- Pattern is a glob matched against the full request URL (picomatch)\n- This modifies requests; it does not change responses\n- Times limits how many times the interceptor applies (-1 means infinite)\n</details>\n\n<details>\n<summary><code>stub_mock-http-response</code> - Installs a response stub for matching requests using glob patterns (picomatch).</summary>\n\n**Parameters:**\n- `pattern` (string, required): Glob pattern matched against the full request URL (picomatch)\n- `response` (object, required): Mock response configuration\n  - `action` (enum, optional): \"fulfill\" or \"abort\" (default: \"fulfill\")\n  - `status` (number, optional): HTTP status code (used when action=\"fulfill\", range: 100-599)\n  - `headers` (object, optional): HTTP headers for the mocked response\n  - `body` (string | object, optional): Response body. If object/array, it will be JSON-stringified\n  - `abortErrorCode` (string, optional): Playwright abort error code (used when action=\"abort\"), e.g., \"timedout\"\n- `delayMs` (number, optional): Artificial delay in milliseconds before applying the stub (default: 0)\n- `times` (number, optional): Apply only N times, then let through. Omit for infinite\n- `chance` (number, optional): Probability (0..1) to apply the stub per request (flaky testing)\n\n**Returns:**\n- `stubId` (string): Unique id of the installed stub (use it to clear later)\n- `kind` (string): Stub kind (always \"mock_http_response\")\n- `pattern` (string): Glob pattern used\n- `enabled` (boolean): Whether the stub is enabled\n- `delayMs` (number): Applied artificial delay in milliseconds\n- `times` (number): Max applications (-1 means infinite)\n- `chance` (number, optional): Apply probability (omit means always)\n- `action` (string): Applied action (\"fulfill\" or \"abort\")\n- `status` (number, optional): HTTP status (present when action=\"fulfill\")\n\n**Use cases:**\n- Offline testing (return 200 with local JSON)\n- Error scenarios (force 500/404 or abort with timedout)\n- Edge cases (empty data / huge payload / special characters)\n- Flaky API testing (chance < 1.0)\n- Performance testing (delayMs)\n\n**Notes:**\n- Pattern is a glob matched against the full request URL\n- Stubs are evaluated in insertion order; first match wins\n- Times limits how many times the stub applies (-1 means infinite)\n</details>\n\n<details>\n<summary><code>stub_list</code> - Lists currently installed stubs for the active browser context/session.</summary>\n\n**Parameters:**\n- No input parameters\n\n**Returns:**\n- `stubs` (array): Array of installed stubs, each containing:\n  - `id` (string): Stub id\n  - `kind` (string): Stub kind (\"intercept_http_request\" or \"mock_http_response\")\n  - `enabled` (boolean): Whether stub is enabled\n  - `pattern` (string): Glob pattern (picomatch)\n  - `delayMs` (number): Artificial delay in ms\n  - `times` (number): Max applications (-1 means infinite)\n  - `usedCount` (number): How many times it has been applied\n  - `action` (string, optional): For mock_response: \"fulfill\" or \"abort\"\n  - `status` (number, optional): For mock_response: HTTP status (if set)\n\n**Usage:**\n- Useful to debug why certain calls are being mocked/intercepted\n- Check stub status and usage statistics\n- Verify stub configuration before debugging issues\n</details>\n\n<details>\n<summary><code>stub_clear</code> - Clears stubs installed.</summary>\n\n**Parameters:**\n- `stubId` (string, optional): Stub id to remove. Omit to remove all stubs\n\n**Returns:**\n- `clearedCount` (number): Number of stubs removed\n\n**Usage:**\n- Remove specific stub by ID when no longer needed\n- Clear all stubs to reset the browser context\n- Useful after testing or debugging sessions\n</details>\n\n### Figma Tools\n\n<details>\n<summary><code>figma_compare-page-with-design</code> - Compares the current page UI against a Figma design snapshot and returns a combined similarity score.</summary>\n\n**Parameters:**\n- `figmaFileKey` (string, required): Figma file key (the part after /file/ in Figma URL)\n- `figmaNodeId` (string, required): Figma node id (frame/component node, usually looks like \"12:34\")\n- `selector` (string, optional): Optional CSS selector to screenshot only a specific element instead of the whole page\n- `fullPage` (boolean, optional): If true, captures the full scrollable page. Ignored when selector is provided (default: true)\n- `figmaScale` (number, optional): Optional scale for Figma raster export (e.g., 1, 2, 3)\n- `figmaFormat` (enum, optional): Optional format for Figma export - \"png\" or \"jpg\" (default: \"png\")\n- `weights` (object, optional): Optional weights for combining signals. Missing/inactive signals are ignored and weights are renormalized:\n  - `mssim` (number, optional): Weight for MSSIM signal\n  - `imageEmbedding` (number, optional): Weight for image embedding signal\n  - `textEmbedding` (number, optional): Weight for vision→text→text embedding signal\n- `mssimMode` (enum, optional): MSSIM mode - \"raw\" (stricter) or \"semantic\" (more layout-oriented, default: \"semantic\")\n- `maxDim` (number, optional): Optional preprocessing max dimension forwarded to compare pipeline\n- `jpegQuality` (number, optional): Optional JPEG quality forwarded to compare pipeline (used only when JPEG encoding is selected internally, range: 50-100)\n\n**Returns:**\n- `score` (number): Combined similarity score in the range [0..1]. Higher means more similar\n- `notes` (array): Human-readable notes explaining which signals were used and their individual scores\n- `meta` (object): Metadata about what was compared:\n  - `pageUrl` (string): URL of the page that was compared\n  - `pageTitle` (string): Title of the page that was compared\n  - `figmaFileKey` (string): Figma file key used for the design snapshot\n  - `figmaNodeId` (string): Figma node id used for the design snapshot\n  - `selector` (string | null): Selector used for page screenshot, if any. Null means full page\n  - `fullPage` (boolean): Whether the page screenshot was full-page\n  - `pageImageType` (enum): Image type of the captured page screenshot (\"png\" or \"jpeg\")\n  - `figmaImageType` (enum): Image type of the captured Figma snapshot (\"png\" or \"jpeg\")\n\n**How it works:**\n1. Fetches a raster snapshot from Figma (frame/node screenshot)\n2. Takes a screenshot of the live browser page (full page or a specific selector)\n3. Computes multiple similarity signals and combines them into one score:\n   - MSSIM (structural similarity; always available)\n   - Image embedding similarity (optional; may be skipped if provider is not configured)\n   - Vision→text→text embedding similarity (optional; may be skipped if provider is not configured)\n\n**Usage:**\n- Prefer 'semantic' MSSIM mode when comparing Figma sample data vs real data (less sensitive to text/value differences)\n- Use 'raw' MSSIM mode only when you expect near pixel-identical output\n- If you suspect layout/structure mismatch, run with fullPage=true first, then retry with a selector for the problematic region\n- Notes explain which signals were used or skipped; skipped signals usually mean missing cloud configuration (e.g., AWS_REGION, inference profile, etc.)\n\n**Use cases:**\n- UI regression checks\n- Design parity validation\n- \"Does this page still match the intended layout?\" validation\n- Automated visual testing\n</details>\n\n## Architecture\n\n### Session Management\n\nThe server uses session-based architecture where each MCP client connection gets its own browser context and page. Sessions are automatically cleaned up when:\n\n- The client disconnects\n- The session becomes idle (configurable timeout)\n- The session is explicitly closed\n\n### Browser Support\n\nThe server supports multiple browser engines:\n- **Chromium** (default)\n- **Firefox**\n- **WebKit**\n\n**Browser Configuration:**\n- **Headless Mode**: By default, browsers run in headless mode (`BROWSER_HEADLESS_ENABLE=true`). Set to `false` to see the browser window.\n- **Persistent Context**: When enabled (`BROWSER_PERSISTENT_ENABLE=true`), browser contexts persist across sessions, preserving:\n  - Cookies and session data\n  - LocalStorage and IndexedDB\n  - Browser extensions and settings\n  - User preferences\n  \n  Persistent contexts are shared across sessions and are not automatically closed when sessions end.\n  \n  **Important for React Tools:** React tools work best with persistent browser context enabled. This allows you to manually install the React DevTools extension in the browser profile, which enables reliable root discovery and component search via `__REACT_DEVTOOLS_GLOBAL_HOOK__`.\n  \n- **System Browser**: When enabled (`BROWSER_USE_INSTALLED_ON_SYSTEM=true`), the server uses the system-installed Chrome browser instead of Playwright's bundled browser. This is useful for:\n  - Testing with the exact browser version users have\n  - Using browser extensions installed on the system\n  - Better compatibility with certain web applications\n  \n  **Note:** System browser support is currently only available for Chromium/Chrome.\n\n**React DevTools Extension Setup:**\n- React tools (`react_get-component-for-element`, `react_get-element-for-component`) work best when the React DevTools extension is installed in the browser profile\n- The MCP server does NOT automatically install the extension - you must install it manually\n- **Installation Steps:**\n  1. Enable persistent browser context: `BROWSER_PERSISTENT_ENABLE=true`\n  2. Start the MCP server (or navigate to a page in headful mode)\n  3. Manually install the React Developer Tools extension from Chrome Web Store:\n     - https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi\n  4. The extension will be available in all subsequent sessions using the same persistent context\n- **Without the Extension:** Tools will still work but use best-effort DOM scanning for `__reactFiber$` pointers, which is less reliable than using the DevTools hook\n\nBrowser instances are shared across sessions for efficiency. Each session gets its own isolated browser context, unless persistent context is enabled (in which case contexts are shared).\n\n### Buffering & Filtering\n\nConsole messages and HTTP requests are buffered in memory with configurable buffer sizes. Both tools support advanced filtering:\n\n- **Level-based filtering**: Filter by severity/type\n- **Text search**: Search within message/request content\n- **Time-based filtering**: Filter by timestamp\n- **Incremental retrieval**: Use sequence numbers to fetch only new items\n- **Pagination**: Limit results with start/end trimming\n\n### OpenTelemetry Integration\n\nWhen enabled (`OTEL_ENABLE=true`), the server automatically injects OpenTelemetry instrumentation into all web pages navigated by the browser. This enables:\n\n- **Automatic Trace Collection**: UI traces are automatically collected for:\n  - Document load events\n  - Fetch/XHR requests\n  - User interactions (clicks, form submissions, etc.)\n  \n- **Trace Context Propagation**: Trace IDs are automatically propagated in HTTP headers (traceparent) for all API calls, enabling:\n  - Correlation between frontend and backend traces\n  - End-to-end distributed tracing across the entire application stack\n  \n- **Trace ID Management**: Tools allow you to:\n  - Get the current session's trace ID\n  - Generate new trace IDs\n  - Set custom trace IDs (e.g., from backend trace context)\n  \n- **Exporter Configuration**: Traces can be exported to:\n  - **OTLP/HTTP**: Send to OpenTelemetry collector (configure via `OTEL_EXPORTER_HTTP_URL`)\n  - **Console**: Log traces to browser console (for debugging)\n  - **None**: Collect traces but don't export (for testing)\n\nThe OpenTelemetry integration uses a proxy mechanism (`/__mcp_otel/`) to forward traces from the browser to the configured collector, ensuring proper CORS handling and trace context propagation.\n\n## Development\n\n### Prerequisites\n\n- Node.js 18+\n- npm or yarn\n\n### Setup\n\n```bash\n# Clone the repository\ngit clone https://github.com/serkan-ozal/browser-devtools-mcp.git\ncd browser-devtools-mcp\n\n# Install dependencies\nnpm install\n\n# Build the project\nnpm run build\n```\n\n### Scripts\n\n- `npm run build` - Build TypeScript to JavaScript\n- `npm run start` - Start server with stdio transport\n- `npm run start:http` - Start server with HTTP transport\n- `npm run watch` - Watch mode for development\n- `npm run inspector` - Run MCP Inspector (stdio)\n- `npm run inspector:http` - Run MCP Inspector (HTTP)\n- `npm run lint:check` - Check code formatting\n- `npm run lint:format` - Format code\n\n## Use Cases\n\n### For AI Coding Assistants\n\nThis server enables AI assistants to:\n\n1. **Debug Web Applications**: Capture screenshots, inspect DOM, check console errors\n2. **Monitor Network Activity**: Track API calls, analyze request/response patterns\n3. **Distributed Tracing**: Enable OpenTelemetry to correlate frontend and backend traces for end-to-end debugging\n4. **Test User Flows**: Automate navigation and interactions\n5. **Visual Verification**: Compare visual states, verify UI changes\n6. **Design Comparison**: Compare live page UI against Figma designs with automated similarity scoring\n7. **Content Extraction**: Get HTML/text content with filtering and cleaning options\n8. **Accessibility Analysis**: Use ARIA and AX tree snapshots to understand page structure and detect UI issues\n9. **Performance Analysis**: Monitor HTTP request timing and failures\n\n### Example Workflow\n\n1. Navigate to a web page using `navigation_go-to`\n2. Wait for network idle with `sync_wait-for-network-idle` if needed (for SPA pages)\n3. Take a screenshot with `content_take-screenshot` to see the current state\n4. Check console messages with `o11y_get-console-messages` for errors\n5. Monitor HTTP requests with `o11y_get-http-requests` to see API calls\n6. Capture accessibility snapshots with `a11y_take-aria-snapshot` and `accessibility_take-ax-tree-snapshot` to understand page structure\n7. Compare page with Figma design using `figma_compare-page-with-design` to validate design parity\n8. Interact with elements using `interaction_click`, `interaction_fill`, etc.\n9. Extract content using `content_get-as-html` or `content_get-as-text`\n10. Save the page as PDF using `content_save-as-pdf` for documentation\n\n## Plugins\n\nBrowser DevTools MCP is available as a plugin for various AI coding assistants.\n\n### Claude Code\n\nA dedicated Claude Code plugin is available with slash commands, skills, and agents for browser automation and testing.\n\n#### Installation\n\n```bash\n# Add the marketplace\n/plugin marketplace add https://github.com/serkan-ozal/browser-devtools-mcp\n\n# Install the plugin\n/plugin install browser-devtools-mcp@browser-devtools\n```\n\n#### Features\n\n**Slash Commands (29 commands):**\n- Navigation: `/browse`, `/back`, `/forward`, `/reload`\n- Content: `/screenshot`, `/html`, `/text`, `/pdf`\n- Interaction: `/click`, `/fill`, `/hover`, `/keypress`, `/select`, `/drag`, `/scroll`, `/resize`\n- Debugging: `/console`, `/network`, `/webvitals`, `/react`\n- Observability: `/trace`, `/otel`\n- Testing: `/mock`, `/intercept`, `/wait`\n- Accessibility: `/accessibility`\n- Design: `/figma`\n- Execution: `/run-js`, `/sandbox`\n\n**Skills (5 skills):**\n- `browser-testing` - General browser test capabilities\n- `web-debugging` - Console, network, JS debugging\n- `performance-audit` - Web Vitals and performance analysis\n- `visual-testing` - Visual testing and responsive design\n- `observability` - Distributed tracing and monitoring\n\n**Agents (5 agents):**\n- `qa-tester` - Automated QA testing agent\n- `accessibility-auditor` - WCAG compliance auditor\n- `performance-analyzer` - Performance analysis agent\n- `scraper` - Web scraping agent\n- `design-qa` - Figma design QA agent\n\n#### Configuration\n\nThe plugin can be configured via environment variables. See [CONFIG.md](plugins/claude/CONFIG.md) for all available options.\n\nExample configuration in `~/.claude/settings.json`:\n\n```json\n{\n  \"mcpServers\": {\n    \"browser-devtools\": {\n      \"command\": \"npx\",\n      \"args\": [\"-y\", \"browser-devtools-mcp@latest\"],\n      \"env\": {\n        \"BROWSER_HEADLESS_ENABLE\": \"false\"\n      }\n    }\n  }\n}\n```\n\n## Contributing\n\nContributions are welcome! Please feel free to submit a Pull Request.\n\n## License\n\nMIT License - see [LICENSE](LICENSE) file for details.\n\n## Author\n\n**Serkan Ozal**\n\n- Email: serkanozal86@gmail.com\n- GitHub: [@serkan-ozal](https://github.com/serkan-ozal)\n\n## Acknowledgments\n\n- Built with [Playwright](https://playwright.dev) for browser automation\n- Uses [Model Context Protocol SDK](https://github.com/modelcontextprotocol/sdk) for MCP implementation\n- HTTP transport powered by [Hono](https://hono.dev)\n"
      },
      "plugins": [
        {
          "name": "browser-devtools-mcp",
          "source": "./plugins/claude",
          "description": "Playwright-powered browser automation, debugging, and testing tools",
          "version": "0.1.7",
          "author": {
            "name": "Serkan Ozal"
          },
          "tags": [
            "browser",
            "automation",
            "testing",
            "devtools",
            "playwright",
            "mcp",
            "accessibility",
            "screenshot",
            "opentelemetry",
            "observability",
            "tracing",
            "distributed-tracing",
            "web-vitals",
            "performance",
            "debugging",
            "scraping",
            "react",
            "network",
            "console",
            "figma",
            "design-qa"
          ],
          "categories": [
            "accessibility",
            "automation",
            "browser",
            "console",
            "debugging",
            "design-qa",
            "devtools",
            "distributed-tracing",
            "figma",
            "mcp",
            "network",
            "observability",
            "opentelemetry",
            "performance",
            "playwright",
            "react",
            "scraping",
            "screenshot",
            "testing",
            "tracing",
            "web-vitals"
          ],
          "install_commands": [
            "/plugin marketplace add serkan-ozal/browser-devtools-mcp",
            "/plugin install browser-devtools-mcp@browser-devtools"
          ]
        }
      ]
    }
  ]
}