{
  "author": {
    "id": "msbrettorg",
    "display_name": "msbrettorg",
    "avatar_url": "https://avatars.githubusercontent.com/u/240975487?v=4"
  },
  "marketplaces": [
    {
      "name": "maenifold-marketplace",
      "version": null,
      "description": "maenifold knowledge graph and reasoning infrastructure for Claude Code.",
      "repo_full_name": "msbrettorg/maenifold",
      "repo_url": "https://github.com/msbrettorg/maenifold",
      "repo_description": null,
      "signals": {
        "stars": 7,
        "forks": 1,
        "pushed_at": "2026-02-01T19:01:37Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"maenifold-marketplace\",\n  \"owner\": {\n    \"name\": \"maenifold\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"maenifold\",\n      \"source\": \"./integrations/claude-code/plugin-maenifold\",\n      \"description\": \"maenifold knowledge graph and reasoning infrastructure for Claude Code.\"\n    },\n    {\n      \"name\": \"maenifold-product-team\",\n      \"source\": \"./integrations/claude-code/plugin-product-team\",\n      \"description\": \"An opinionated product team workflow built on maenifold primitives.\"\n    }\n  ]\n}",
        "README.md": "<p align=\"center\">\n  <img src=\"docs/branding/maenifold-logo.svg\" alt=\"maenifold\">\n</p>\n\n<p align=\"center\">\n  Your AI is ephemeral. Your knowledge shouldn't be.\n</p>\n\n<p align=\"center\">\n  <a href=\"https://github.com/msbrettorg/maenifold/releases/latest\"><img src=\"https://img.shields.io/github/v/release/msbrettorg/maenifold?style=flat-square\" alt=\"Latest Release\"></a>\n  <a href=\"https://github.com/msbrettorg/maenifold/blob/main/LICENSE\"><img src=\"https://img.shields.io/github/license/msbrettorg/maenifold?style=flat-square\" alt=\"MIT License\"></a>\n</p>\n\n## What is maenifold?\n\n**maenifold** is a knowledge graph for AI agents. Every conversation creates `[[WikiLink]]` connections that survive sessions. Every thought builds on the last. Knowledge compounds instead of resetting.\n\nIt transforms ephemeral AI sessions into continuous collective intelligence.\n\n<p align=\"center\">\n  <img src=\"docs/branding/graph.jpeg\" alt=\"Knowledge graph visualization\">\n</p>\n\n## The Problem\n\nAI agents are brilliant in the moment but forget everything after each conversation. Teams of agents can't build on each other's work. Discoveries vanish. Patterns go unnoticed. Every session starts from zero.\n\n## The Solution\n\nmaenifold gives AI agents a persistent memory through knowledge graphs:\n\n- **Write once, remember forever** - Knowledge lives in markdown files with `[[WikiLinks]]`\n- **Automatic connections** - Graph relationships emerge from how concepts appear together\n- **Smart retrieval** - Hybrid search combines semantics and full-text for optimal recall\n- **Compound knowledge** - Later sessions benefit from all previous work automatically\n\nThink of it as giving your AI a brain that keeps learning across sessions, projects, and even across different AI systems.\n\n## See It in Action\n\nOur [multi-agent demo](docs/demo-artifacts/README.md) proves this at scale: 25 AI agents across 68 minutes discovered a critical production bug through emergent collaboration. No orchestration code. No pre-programmed coordination. Just agents building on shared knowledge.\n\n**What happened:**\n- Agents wrote discoveries using `[[WikiLinks]]` in memory files\n- Each wave built on previous findings through graph traversal\n- Bug emerged from patterns across multiple test sessions\n- 171,506 concept relationships created, connecting discoveries\n\n**Results:**\n- 85% test success rate\n- Real production bug found\n- Zero orchestration code written\n\n[Full orchestration logs](docs/demo-artifacts/part1-pm-lite/orchestration-session.md) ¬∑ [Test results](docs/demo-artifacts/part1-pm-lite/E2E_TEST_REPORT.md)\n\n## Quick Start\n\n### Installation\n\n**Recommended: Claude Code Plugin**\n\n```bash\nclaude plugin install msbrettorg/maenifold\n```\n\nThis automatically configures the MCP server, installs skills, and sets up context injection hooks.\n\n**Alternative: Manual Install**\n\nmacOS/Linux (Homebrew):\n```bash\nbrew install msbrettorg/tap/maenifold\n```\n\nWindows (Zip Archive):\n\nDownload `maenifold-win-x64.zip` from [GitHub Releases](https://github.com/msbrettorg/maenifold/releases/latest), extract to `%LOCALAPPDATA%\\Programs\\Maenifold`, and add to PATH. See [installation guide](integrations/skills/maenifold/README.md#windows-zip-archive) for details.\n\nVerify installation:\n```bash\nmaenifold --version\n```\n\n### First Steps\n\nAfter installation, try these in Claude Code:\n\n```\nWrite a memory about [[architecture]] decisions\n\nSearch memories for authentication patterns\n\nBuild context around the concept [[testing]]\n```\n\n## Skills\n\nSkills are how you interact with maenifold. They expose tools, workflows, and orchestration patterns.\n\n### Maenifold Skill (Core)\n\nProvides memory, graph, and reasoning tools.\n\n**What you get:**\n- 25+ tools for memory and graph operations\n- 6-layer cognitive stack (Concepts ‚Üí Orchestration)\n- Sequential thinking with branching\n- 32 structured workflows\n- Assumption tracking\n\n[üìñ Installation & Architecture Guide ‚Üí](integrations/skills/maenifold/README.md)\n\n### Product Manager Skill (Orchestration)\n\nMulti-agent coordination system with hooks and quality gates.\n\n**What you get:**\n- 8 concurrent agent slots (SWE, red-team, blue-team, researcher)\n- Automatic graph context injection\n- ConfessionReport quality enforcement\n- Sprint lifecycle with full traceability (PRD ‚Üí RTM ‚Üí TODO)\n\n[üéØ Installation & Architecture Guide ‚Üí](integrations/skills/product-manager/README.md)\n\n## How It Works\n\n### The Cognitive Stack\n\nmaenifold operates as a 6-layer composition architecture where higher layers invoke lower layers:\n\n```mermaid\ngraph TB\n    subgraph \"Layer 6: Orchestration\"\n        Orchestration[Workflow<br/>Multi-step processes<br/>Nested composition]\n    end\n\n    subgraph \"Layer 5: Reasoning\"\n        Reasoning[Sequential Thinking<br/>Branching and revision<br/>Multi-session persistence]\n    end\n\n    subgraph \"Layer 4: Persona\"\n        Persona[Adopt<br/>Roles, colors, perspectives<br/>Conditioned reasoning]\n    end\n\n    subgraph \"Layer 3: Session\"\n        Session[Recent Activity<br/>Assumption Ledger<br/>State tracking]\n    end\n\n    subgraph \"Layer 2: Memory + Graph\"\n        Memory[Write, Read, Search, Edit<br/>BuildContext, FindSimilar<br/>Persist and Query]\n    end\n\n    subgraph \"Layer 1: Concepts\"\n        Concepts[WikiLinks<br/>Atomic units<br/>Graph nodes]\n    end\n\n    Orchestration --> Reasoning\n    Reasoning --> Persona\n    Persona --> Session\n    Session --> Memory\n    Memory --> Concepts\n\n    style Orchestration fill:#0969DA\n    style Reasoning fill:#0969DA\n    style Persona fill:#0969DA\n    style Session fill:#0969DA\n    style Memory fill:#0969DA\n    style Concepts fill:#0969DA\n```\n\n**Layer 1: Concepts** - Every `[[WikiLink]]` becomes a graph node\n\n**Layer 2: Memory + Graph** - Persist and query knowledge with hybrid search\n\n**Layer 3: Session** - Track state and assumptions across interactions\n\n**Layer 4: Persona** - Condition reasoning through roles and perspectives\n\n**Layer 5: Reasoning** - Enable branching, revision, multi-day persistence\n\n**Layer 6: Orchestration** - Compose all layers into structured workflows\n\nComplexity emerges from composition, not bloated tools.\n\n### Knowledge Graph Growth\n\n```mermaid\ngraph TD\n    Start[User asks question] --> Search[searchmemories<br/>Check existing knowledge]\n\n    Search -->|Found| Use[Use existing<br/>memory files]\n    Search -->|Not found| Research[Research external sources]\n\n    Research --> Write[writememory<br/>with WikiLink concepts]\n    Write --> Sync[sync<br/>Extract WikiLinks to graph]\n\n    Sync --> Nodes[Create graph nodes<br/>for each concept]\n    Nodes --> Edges[Create relationships<br/>from co-occurrence]\n\n    Edges --> Context[buildcontext returns<br/>richer relationships]\n    Context --> Future[Future sessions<br/>benefit from growth]\n\n    Use --> Answer[Answer question]\n    Future --> Answer\n\n    style Start fill:#0969DA\n    style Search fill:#0969DA\n    style Use fill:#0969DA\n    style Research fill:#0969DA\n    style Write fill:#0969DA\n    style Sync fill:#0969DA\n    style Nodes fill:#0969DA\n    style Edges fill:#0969DA\n    style Context fill:#0969DA\n    style Future fill:#0969DA\n    style Answer fill:#0969DA\n```\n\nThe graph isn't static. Every interaction grows it. Knowledge compounds over time, creating institutional memory that persists across all sessions.\n\n## Cognitive Assets\n\nmaenifold includes 32 workflows, 16 roles, 7 thinking colors, and 12 linguistic perspectives that agents can adopt and compose.\n\n### Workflows\n\n_32 structured methodologies for problem-solving and analysis_\n\n**Thinking & Reasoning** (12)\n| Workflow | Description |\n|----------|-------------|\n| üí≠ Abductive Reasoning | Systematic hypothesis formation through inference to best explanation |\n| üí≠ Convergent Thinking | Systematic analysis and selection of the single best solution |\n| üí≠ Critical Thinking | Systematic evaluation, analysis, and logical assessment |\n| üí≠ Data Thinking | User-centric systematic approach to data strategy |\n| üí≠ Deductive Reasoning | Top-down logical inference from general principles |\n| üí≠ Design Thinking | Human-centered approach to innovation |\n| üí≠ Divergent Thinking | Systematic generation of multiple creative alternatives |\n| üí≠ Higher-Order Thinking | Meta-cognitive reflection and complex reasoning |\n| üí≠ Inductive Reasoning | Bottom-up inference from specific observations |\n| üí≠ Lateral Thinking | Creative problem-solving through indirect approaches |\n| üí≠ Parallel Thinking | Simultaneous exploration of multiple perspectives |\n| üí≠ Strategic Thinking | Long-term competitive positioning and analysis |\n\n**Multi-Agent Orchestrated** (4)\n| Workflow | Description |\n|----------|-------------|\n| üî¨ Advanced Research Agent | Sophisticated research with HyDE enhancement and reflexion loops |\n| üåä Agentic SLC Sprint | Multi-agent sprint execution using synchronized waves |\n| ‚ôüÔ∏è Game Theory Strategic Analysis | Parallel agent waves for equilibrium finding |\n| üèõÔ∏è Research Think Tank | Orchestrated knowledge construction through collaboration |\n\n**Development Methodologies** (4)\n| Workflow | Description |\n|----------|-------------|\n| üîÑ Agile Methodology | Iterative and incremental approach |\n| üéØ Agentic SLC | AI agent-assisted development with anti-slop controls |\n| üöÄ Lean Startup | Build-measure-learn approach |\n| üîß Software Development Lifecycle | Systematic development phases |\n\n**Creative Problem Solving** (3)\n| Workflow | Description |\n|----------|-------------|\n| üé≤ Oblique Strategies | Random creative prompts to break mental blocks |\n| üí• Provocative Operation | Deliberate provocations to escape conventional thinking |\n| üé® SCAMPER Method | Creative problem-solving using 7 prompts |\n\n**Structured Problem Solving** (2)\n| Workflow | Description |\n|----------|-------------|\n| üêõ Debug Your Reasoning | Expose broken assumptions and flawed reasoning |\n| üìê P√≥lya Problem Solving | George P√≥lya's four-step approach |\n\n**Collaborative Processes** (2)\n| Workflow | Description |\n|----------|-------------|\n| üé© Six Thinking Hats | Structured thinking using six perspectives |\n| ‚òï World Caf√© | Collaborative dialogue leveraging diverse roles |\n\n**FinOps** (2)\n| Workflow | Description |\n|----------|-------------|\n| üíµ FinOps Data Collection | Pull cost data from Microsoft FinOps hubs |\n| üíµ FinOps Strategic Analysis | Executive-grade insights with industry benchmarks |\n\n**Business Strategy** (1)\n| Workflow | Description |\n|----------|-------------|\n| ‚è∞ Compelling Reason to Act | Framework for creating urgency |\n\n**Meta/System** (2)\n| Workflow | Description |\n|----------|-------------|\n| üë§ Constitutional Role Architecture | Create specialist roles using constitutional AI |\n| üéÆ Workflow Dispatch | Intelligent cognitive strategy selection |\n\n### Roles\n\n_16 specialized personas for domain expertise_\n\n**FinOps**: Chief Financial Officer, FinOps Practitioner, FinOps Hub Query Executor\n\n**EDA**: Silicon Architect, Platform Operator\n\n**AI**: Prompt Architect, GPT-5 Prompt Architect, GPT-5-Codex Prompt Architect\n\n**Software**: Architect, Engineer, MCP Protocol Specialist, Product Manager, Red Team, Blue Team\n\n**Research**: Researcher, Writer\n\n### Thinking Colors\n\n_7 perspectives from Edward de Bono's Six Thinking Hats_\n\n| Color | Focus |\n|-------|-------|\n| ‚ö´ Black | Critical Thinking |\n| üé≠ Blue | Orchestrator |\n| üîò Gray | Skeptical Inquiry |\n| üü¢ Green | Creative Thinking |\n| üî¥ Red | Emotions & Intuition |\n| ‚ö™ White | Facts & Information |\n| üü° Yellow | Positive Thinking |\n\n### Linguistic Perspectives\n\n_12 native language modes for culturally-aware reasoning_\n\nüá∏üá¶ Arabic ¬∑ üá©üá™ German ¬∑ üá¨üáß English ¬∑ üá™üá∏ Spanish ¬∑ üá´üá∑ French ¬∑ üáÆüáπ Italian ¬∑ üáØüáµ Japanese ¬∑ üá∞üá∑ Korean ¬∑ üáµüáπ Portuguese ¬∑ üá∑üá∫ Russian ¬∑ üáπüá∑ Turkish ¬∑ üá®üá≥ Chinese\n\n## Configuration\n\n### MCP Setup (Manual Install Only)\n\nIf you installed via plugin, skip this section.\n\n**Claude Code**\n\nAdd to `.mcp.json` in your project:\n\n```json\n{\n  \"mcpServers\": {\n    \"maenifold\": {\n      \"command\": \"maenifold\",\n      \"args\": [\"--mcp\"],\n      \"type\": \"stdio\"\n    }\n  }\n}\n```\n\n**Claude Desktop**\n\nEdit configuration at:\n- macOS: `~/Library/Application Support/Claude/claude_desktop_config.json`\n- Windows: `%APPDATA%\\Claude\\claude_desktop_config.json`\n\n```json\n{\n  \"mcpServers\": {\n    \"maenifold\": {\n      \"command\": \"maenifold\",\n      \"args\": [\"--mcp\"]\n    }\n  }\n}\n```\n\nOn Windows, if you didn't add maenifold to PATH, use the full path to the extracted executable:\n```json\n{\n  \"mcpServers\": {\n    \"maenifold\": {\n      \"command\": \"%USERPROFILE%\\\\maenifold\\\\bin\\\\maenifold.exe\",\n      \"args\": [\"--mcp\"]\n    }\n  }\n}\n```\n\n**Codex CLI**\n\nEdit `~/.codex/config.toml`:\n\n```toml\n[mcp_servers.maenifold]\ntype = \"stdio\"\ncommand = \"maenifold\"\nargs = [\"--mcp\"]\nstartup_timeout_sec = 120\ntool_timeout_sec = 600\n```\n\n### Custom Data Directory\n\nSet the `MAENIFOLD_ROOT` environment variable:\n\n```bash\n# Bash/Zsh\nexport MAENIFOLD_ROOT=~/my-knowledge-base\n\n# PowerShell\n$env:MAENIFOLD_ROOT = \"$HOME\\my-knowledge-base\"\n```\n\nOr in MCP configuration:\n\n```json\n{\n  \"mcpServers\": {\n    \"maenifold\": {\n      \"command\": \"maenifold\",\n      \"args\": [\"--mcp\"],\n      \"type\": \"stdio\",\n      \"env\": {\n        \"MAENIFOLD_ROOT\": \"~/my-knowledge-base\"\n      }\n    }\n  }\n}\n```\n\n## CLI Interface\n\nUse maenifold directly in scripts, pipelines, or with non-MCP clients:\n\n```bash\n# Write a memory with WikiLinks\nmaenifold --tool WriteMemory --payload '{\n  \"title\": \"Architecture Decisions\",\n  \"content\": \"Our microservices use event-sourcing for audit-trails\"\n}'\n\n# Continue a sequential thinking session\nmaenifold --tool SequentialThinking --payload '{\n  \"sessionId\": \"session-1234567890\",\n  \"response\": \"After analyzing the architecture...\",\n  \"nextThoughtNeeded\": true\n}'\n\n# Search memories with hybrid mode\nmaenifold --tool SearchMemories --payload '{\n  \"query\": \"authentication patterns\",\n  \"mode\": \"Hybrid\",\n  \"pageSize\": 10\n}'\n```\n\nMCP and CLI have full feature parity. Start a session via MCP and continue via CLI, or vice versa. Perfect for multi-agent pipelines.\n\n## Technical Specifications\n\n- **Language**: C# with .NET 9.0\n- **Vector Dimensions**: 384 (all-MiniLM-L6-v2 via ONNX)\n- **Search Algorithm**: Reciprocal Rank Fusion (k=60)\n- **Database**: SQLite with vector extension\n- **Graph Sync**: Incremental with file watching\n- **Memory Format**: Markdown with YAML frontmatter\n- **URI Scheme**: `memory://` protocol\n- **Tested Scale**: > 1.1 million relationships\n- **MCP Compliance**: Full tool annotation support\n\n## Documentation\n\n- [Maenifold Skill Guide](integrations/skills/maenifold/README.md) - Core tools and architecture\n- [Product Manager Skill Guide](integrations/skills/product-manager/README.md) - Multi-agent orchestration\n- [Complete Documentation](docs/README.md) - Deep dive into philosophy and design\n- [Demo Artifacts](docs/demo-artifacts/README.md) - Multi-agent example with logs\n- [GitHub Releases](https://github.com/msbrettorg/maenifold/releases) - Download binaries\n\n## Community\n\nmaenifold is open source under the MIT License.\n\nContributions welcome at [github.com/msbrettorg/maenifold](https://github.com/msbrettorg/maenifold).\n\n---\n\n## Stargazers over time\n\n[![Stargazers over time](https://starchart.cc/msbrettorg/maenifold.svg?variant=adaptive)](https://starchart.cc/msbrettorg/maenifold)\n",
        "integrations/claude-code/plugin-maenifold/README.md": "# Maenifold Skill for Claude Code\n\nThis skill provides Claude Code with access to maenifold's knowledge graph and reasoning infrastructure. It enables persistent memory, graph-based context building, structured workflows, and multi-session thinking continuity.\n\n## Overview\n\nThe maenifold skill exposes 25+ MCP tools that transform ephemeral AI sessions into continuous collective intelligence:\n\n- **Memory Tools**: Write, read, search, edit, and organize knowledge files with `[[WikiLink]]` graph integration\n- **Graph Tools**: Build context, find similar concepts, visualize relationships, and sync the knowledge graph\n- **Reasoning Tools**: Sequential thinking with branching, structured workflows, and assumption tracking\n- **System Tools**: Adopt roles/perspectives, monitor activity, and manage configuration\n\nEvery `[[WikiLink]]` you create becomes a node in the graph. Knowledge compounds across sessions instead of resetting.\n\n## Cognitive Architecture\n\nMaenifold operates as a **6-layer composition architecture** where higher layers invoke lower layers. Complexity emerges from composition, not bloated tools.\n\n### 6-Layer Stack\n\n```mermaid\ngraph TB\n    subgraph \"Layer 6: Orchestration\"\n        Orchestration[Workflow<br/>Multi-step processes<br/>Nested workflows]\n    end\n\n    subgraph \"Layer 5: Reasoning\"\n        Reasoning[Sequential Thinking<br/>Branching, revision<br/>Multi-session persistence]\n    end\n\n    subgraph \"Layer 4: Persona\"\n        Persona[Adopt<br/>Roles, colors, perspectives<br/>Conditioned reasoning]\n    end\n\n    subgraph \"Layer 3: Session\"\n        Session[Recent Activity<br/>Assumption Ledger<br/>State tracking]\n    end\n\n    subgraph \"Layer 2: Memory + Graph\"\n        Memory[Write/Read/Search/Edit<br/>BuildContext, FindSimilar<br/>Persist & Query]\n    end\n\n    subgraph \"Layer 1: Concepts\"\n        Concepts[\"WikiLinks<br/>Atomic units<br/>Graph nodes\"]\n    end\n\n    Orchestration -->|invokes| Reasoning\n    Reasoning -->|conditions| Persona\n    Persona -->|tracks| Session\n    Session -->|queries| Memory\n    Memory -->|built from| Concepts\n\n    style Orchestration fill:#0969DA\n    style Reasoning fill:#0969DA\n    style Persona fill:#0969DA\n    style Session fill:#0969DA\n    style Memory fill:#0969DA\n    style Concepts fill:#0969DA\n```\n\n**Layer 1: Concepts** - Every `[[WikiLink]]` becomes a graph node. Foundation for all knowledge.\n\n**Layer 2: Memory + Graph** - Tools persist (`writememory`) and query (`searchmemories`, `buildcontext`, `findsimilarconcepts`) knowledge.\n\n**Layer 3: Session** - Track state across interactions (`recentactivity`, `assumptionledger`).\n\n**Layer 4: Persona** - Condition reasoning through roles/colors/perspectives (`adopt`).\n\n**Layer 5: Reasoning** - Enable revision, branching, multi-day persistence (`sequentialthinking`).\n\n**Layer 6: Orchestration** - Compose all layers; workflows can nest workflows (`workflow`).\n\n### Tool Composition Patterns\n\n#### Chain Pattern\n\n```mermaid\ngraph LR\n    A[findsimilarconcepts<br/>Discover variants] --> B[Pick best match]\n    B --> C[buildcontext<br/>Get relationships]\n    C --> D[searchmemories<br/>Find files]\n    D --> E[readmemory<br/>Access content]\n\n    style A fill:#0969DA\n    style B fill:#0969DA\n    style C fill:#0969DA\n    style D fill:#0969DA\n    style E fill:#0969DA\n```\n\n**Use case**: Navigate from unknown domain to specific knowledge.\n\n**Example**:\n1. `findsimilarconcepts(\"authentication\")` ‚Üí finds [[auth]], [[authentication]], [[JWT]]\n2. Pick [[authentication]] as best match\n3. `buildcontext(\"authentication\", depth=2)` ‚Üí related concepts + files\n4. `searchmemories(\"JWT authentication patterns\")` ‚Üí relevant memory files\n5. `readmemory(\"memory://security/jwt-implementation\")` ‚Üí specific content\n\n#### HYDE Pattern (Hypothetical Document Embeddings)\n\n```mermaid\ngraph TD\n    A[Synthesize hypothetical answer<br/>with concepts inline] --> B[Extract concepts<br/>from synthesis]\n    B --> C[buildcontext for<br/>each concept]\n    C --> D[searchmemories using<br/>enriched context]\n    D --> E[readmemory for<br/>relevant files]\n    E --> F[Answer with<br/>actual knowledge]\n\n    style A fill:#0969DA\n    style B fill:#0969DA\n    style C fill:#0969DA\n    style D fill:#0969DA\n    style E fill:#0969DA\n    style F fill:#0969DA\n```\n\n**Use case**: Answer complex questions by first hypothesizing, then grounding in graph.\n\n**Example**:\n```\nUser: \"How do I implement OAuth2 flows?\"\n\n1. Synthesize: \"OAuth2 requires [[authorization-server]], [[client-credentials]],\n   [[token-endpoint]], and [[JWT]] validation...\"\n\n2. Extract: [[authorization-server]], [[client-credentials]], [[token-endpoint]], [[JWT]]\n\n3. buildcontext for each concept (parallel)\n\n4. searchmemories with enriched understanding\n\n5. readmemory for implementation guides\n\n6. Answer grounded in actual memory:// files\n```\n\n#### Sequential Thinking Branching\n\n```mermaid\ngraph TD\n    Main[Main Session:<br/>sequential-20260129-001] --> Thought1[Thought 1:<br/>Problem analysis]\n    Thought1 --> Thought2[Thought 2:<br/>Approach A or B?]\n\n    Thought2 --> BranchA[Branch A:<br/>Explore approach A]\n    Thought2 --> BranchB[Branch B:<br/>Explore approach B]\n\n    BranchA --> ThoughtA1[Thought A.1:<br/>A seems better]\n    BranchB --> ThoughtB1[Thought B.1:<br/>B has issues]\n\n    ThoughtA1 --> Merge[Thought 3:<br/>Choose A, continue main]\n    ThoughtB1 --> Merge\n\n    Merge --> Memory[Persist to memory://<br/>with concepts]\n    Memory --> Graph[Graph nodes created]\n\n    style Main fill:#0969DA\n    style Thought1 fill:#0969DA\n    style Thought2 fill:#0969DA\n    style BranchA fill:#0969DA\n    style BranchB fill:#0969DA\n    style ThoughtA1 fill:#0969DA\n    style ThoughtB1 fill:#0969DA\n    style Merge fill:#0969DA\n    style Memory fill:#0969DA\n    style Graph fill:#0969DA\n```\n\n**Use case**: Explore multiple alternatives without losing thought continuity.\n\n**Example**:\n```\n1. Start session (thought 0): Set up problem\n2. Thought 1: Identify two potential solutions\n3. Branch A: Explore solution 1 (thoughts A.1, A.2, A.3)\n4. Branch B: Explore solution 2 (thoughts B.1, B.2, B.3)\n5. Thought 2 (main): Compare branches, choose best\n6. Continue main session with chosen approach\n```\n\n### Knowledge Graph Growth\n\n```mermaid\ngraph TD\n    Start[User asks question] --> Search[searchmemories<br/>Check existing knowledge]\n\n    Search -->|Found| Use[Use existing<br/>memory:// files]\n    Search -->|Not found| Research[Research external sources]\n\n    Research --> Write[writememory<br/>with concepts]\n    Write --> Sync[sync<br/>Extract WikiLinks]\n\n    Sync --> Nodes[Create graph nodes<br/>for each concept]\n    Nodes --> Edges[Create relationships<br/>from co-occurrence]\n\n    Edges --> Context[buildcontext now returns<br/>richer relationships]\n    Context --> Future[Future sessions<br/>benefit from growth]\n\n    Use --> Answer[Answer question]\n    Future --> Answer\n\n    style Start fill:#0969DA\n    style Search fill:#0969DA\n    style Use fill:#0969DA\n    style Research fill:#0969DA\n    style Write fill:#0969DA\n    style Sync fill:#0969DA\n    style Nodes fill:#0969DA\n    style Edges fill:#0969DA\n    style Context fill:#0969DA\n    style Future fill:#0969DA\n    style Answer fill:#0969DA\n```\n\n**Key insight**: The graph is not static. Every interaction can grow it:\n\n1. **Question**: User asks about [[authentication]]\n2. **Search**: `searchmemories(\"authentication\")` finds gap\n3. **Research**: Query external docs (Microsoft Docs, Context7)\n4. **Write**: `writememory` creates lineage-backed note with [[OAuth2]], [[JWT]], [[PKCE]]\n5. **Sync**: Extracts [[concepts]] and creates graph nodes\n6. **Growth**: `buildcontext(\"authentication\")` now returns OAuth2, JWT, PKCE relationships\n7. **Future**: Next session asking about [[OAuth2]] benefits from prior work\n\n**Compounding effect**: Graph becomes institutional memory that persists and improves across all sessions.\n\n### How Concepts Become Nodes\n\n```mermaid\ngraph LR\n    subgraph \"Memory File\"\n        Content[\"Fixed authentication bug<br/>using JWT tokens<br/>and session-management\"]\n    end\n\n    Content --> Sync[sync tool]\n\n    Sync --> Node1[\"Graph Node:<br/>authentication\"]\n    Sync --> Node2[\"Graph Node:<br/>JWT\"]\n    Sync --> Node3[\"Graph Node:<br/>session-management\"]\n\n    Node1 -.->|co-occurs with| Node2\n    Node1 -.->|co-occurs with| Node3\n    Node2 -.->|co-occurs with| Node3\n\n    subgraph \"Graph Database\"\n        Node1\n        Node2\n        Node3\n    end\n\n    style Content fill:#0969DA\n    style Sync fill:#0969DA\n    style Node1 fill:#0969DA\n    style Node2 fill:#0969DA\n    style Node3 fill:#0969DA\n```\n\n**Process**:\n1. Write memory file with `[[concepts]]` in double brackets\n2. Call `sync` (or happens automatically)\n3. Sync extracts all `[[WikiLinks]]` from all memory files\n4. Creates/updates graph nodes for each unique concept\n5. Records co-occurrence relationships (concepts in same file = related)\n6. Future `buildcontext` queries traverse these relationships\n\n**Best practices**:\n- Use `[[singular-form]]` for general concepts\n- Use `[[hyphens-not-spaces]]` for multi-word concepts\n- Tag substance, not structure (avoid `[[the]]`, `[[a]]`, `[[file]]`)\n- Reuse existing concepts before creating near-duplicates\n\n### Context Compounding Example\n\n```mermaid\ngraph TD\n    Session1[\"Session 1: Learn OAuth2\"] --> Write1[\"writememory OAuth2 basics\"]\n\n    Session2[\"Session 2: Learn PKCE\"] --> Build2[\"buildcontext finds OAuth2 relation\"]\n    Build2 --> Write2[\"writememory PKCE extension\"]\n\n    Session3[\"Session 3: Learn JWT\"] --> Build3[\"buildcontext finds OAuth2 + PKCE\"]\n    Build3 --> Write3[\"writememory JWT tokens\"]\n\n    Session4[\"Session 4: Implement auth\"] --> Build4[\"buildcontext finds ALL prior work\"]\n    Build4 --> Rich[\"Rich context: OAuth2, PKCE, JWT,<br/>plus all memory:// files\"]\n\n    Rich --> Answer4[\"Grounded implementation\"]\n\n    Write1 --> Session2\n    Write2 --> Session3\n    Write3 --> Session4\n\n    style Session1 fill:#0969DA\n    style Write1 fill:#0969DA\n    style Session2 fill:#0969DA\n    style Build2 fill:#0969DA\n    style Write2 fill:#0969DA\n    style Session3 fill:#0969DA\n    style Build3 fill:#0969DA\n    style Write3 fill:#0969DA\n    style Session4 fill:#0969DA\n    style Build4 fill:#0969DA\n    style Rich fill:#0969DA\n    style Answer4 fill:#0969DA\n```\n\n**Timeline**:\n- **Day 1**: Learn OAuth2 basics ‚Üí write memory:// note with [[OAuth2]]\n- **Day 2**: Learn PKCE ‚Üí buildcontext finds [[OAuth2]] relation ‚Üí write note with [[PKCE]]\n- **Day 3**: Learn JWT ‚Üí buildcontext finds [[OAuth2]] + [[PKCE]] ‚Üí write note with [[JWT]]\n- **Day 4**: Implement auth ‚Üí buildcontext returns **all 3 concepts + all notes** ‚Üí rich implementation context\n\n**Result**: Knowledge compounds over time. Later sessions benefit from all prior work automatically.\n\n## Prerequisites\n\n- **Claude Code** (CLI or VS Code extension)\n- **maenifold binary** installed and accessible in PATH (or specify full path in configuration)\n- **Write permissions** to the maenifold data directory (default: `~/maenifold`)\n\n## Installation\n\n### Method 1: Plugin Installation (Recommended)\n\nInstall the maenifold plugin directly through Claude Code:\n\n```bash\nclaude plugin install msbrettorg/maenifold\n```\n\nThis automatically:\n- Downloads the maenifold plugin\n- Configures MCP server settings\n- Registers the skill for automatic invocation\n\n### Method 2: Manual Installation\n\nIf you prefer manual setup or need custom configuration:\n\n1. Clone or download the plugin files to your `.claude/plugins` directory\n2. Configure the MCP server in your project's `.mcp.json` (see MCP Configuration below)\n3. Copy skill files to your project or reference them from the plugin cache\n\n## Binary Installation\n\nThe maenifold MCP server requires the maenifold binary. Choose your installation method:\n\n### GitHub Releases (Recommended)\n\nDownload the latest release for your platform from [GitHub Releases](https://github.com/msbrettorg/maenifold/releases/latest).\n\n#### macOS\n\n1. Download the appropriate archive:\n   - **Apple Silicon (M1/M2/M3)**: `maenifold-osx-arm64.tar.gz`\n   - **Intel**: `maenifold-osx-x64.tar.gz`\n\n2. Extract to `~/maenifold/bin`:\n   ```bash\n   # Download (replace URL with correct architecture)\n   curl -L -o maenifold.tar.gz https://github.com/msbrettorg/maenifold/releases/latest/download/maenifold-osx-arm64.tar.gz\n\n   # Extract to bin directory\n   mkdir -p ~/maenifold/bin\n   tar -xzf maenifold.tar.gz -C ~/maenifold/bin --strip-components=1\n   ```\n\n3. Add to PATH:\n   ```bash\n   # Add to ~/.zshrc or ~/.bash_profile\n   echo 'export PATH=\"$HOME/maenifold/bin:$PATH\"' >> ~/.zshrc\n\n   # Reload shell configuration\n   source ~/.zshrc\n   ```\n\n4. Verify installation:\n   ```bash\n   maenifold --tool GetConfig --payload '{}'\n   ```\n\n#### Linux\n\n1. Download `maenifold-linux-x64.tar.gz`\n\n2. Extract to `~/maenifold/bin`:\n   ```bash\n   # Download\n   curl -L -o maenifold.tar.gz https://github.com/msbrettorg/maenifold/releases/latest/download/maenifold-linux-x64.tar.gz\n\n   # Extract to bin directory\n   mkdir -p ~/maenifold/bin\n   tar -xzf maenifold.tar.gz -C ~/maenifold/bin --strip-components=1\n   ```\n\n3. Add to PATH:\n   ```bash\n   # Add to ~/.bashrc or ~/.zshrc\n   echo 'export PATH=\"$HOME/maenifold/bin:$PATH\"' >> ~/.bashrc\n\n   # Reload shell configuration\n   source ~/.bashrc\n   ```\n\n4. Verify installation:\n   ```bash\n   maenifold --tool GetConfig --payload '{}'\n   ```\n\n#### Windows\n\n1. Download `maenifold-win-x64.zip`\n\n2. Extract to `%USERPROFILE%\\maenifold\\bin`:\n   ```powershell\n   # Download (adjust path to your Downloads folder)\n   $downloadPath = \"$env:USERPROFILE\\Downloads\\maenifold-win-x64.zip\"\n\n   # Create directory and extract\n   New-Item -ItemType Directory -Force -Path \"$env:USERPROFILE\\maenifold\\bin\"\n   Expand-Archive -Path $downloadPath -DestinationPath \"$env:USERPROFILE\\maenifold\\bin\" -Force\n   ```\n\n3. Add to PATH:\n   ```powershell\n   # Add to user PATH\n   $path = [Environment]::GetEnvironmentVariable(\"PATH\", \"User\")\n   $newPath = \"$env:USERPROFILE\\maenifold\\bin\"\n   if ($path -notlike \"*$newPath*\") {\n       [Environment]::SetEnvironmentVariable(\"PATH\", \"$path;$newPath\", \"User\")\n   }\n\n   # Restart terminal for PATH change to take effect\n   ```\n\n4. Verify installation:\n   ```powershell\n   maenifold --tool GetConfig --payload '{}'\n   ```\n\n### Homebrew (Alternative for macOS/Linux)\n\nIf you prefer using Homebrew package manager:\n\n```bash\nbrew install msbrettorg/tap/maenifold\n```\n\nThis installs the binary and adds it to your PATH automatically. Note that the default installation location differs from the recommended `~/maenifold` directory.\n\n### Build from Source\n\nRequires .NET 9.0 SDK.\n\n```bash\ngit clone https://github.com/msbrettorg/maenifold.git\ncd maenifold\ndotnet build -c Release\n```\n\nThe binary will be at `src/Maenifold/bin/Release/net9.0/maenifold` (or `maenifold.exe` on Windows). Copy to `~/maenifold/bin` and add to PATH as shown in the platform-specific instructions above:\n\n```bash\n# macOS/Linux\nmkdir -p ~/maenifold/bin\ncp src/Maenifold/bin/Release/net9.0/maenifold ~/maenifold/bin/\n```\n\n## MCP Configuration\n\nThe maenifold skill requires the MCP server to be configured. Configuration varies by client.\n\n### Claude Code\n\nCreate or update `.mcp.json` in your project root:\n\n```json\n{\n  \"mcpServers\": {\n    \"maenifold\": {\n      \"command\": \"maenifold\",\n      \"args\": [\"--mcp\"],\n      \"type\": \"stdio\"\n    }\n  }\n}\n```\n\nIf maenifold is not in PATH, specify the full path to your installation:\n\n**macOS/Linux**:\n```json\n{\n  \"mcpServers\": {\n    \"maenifold\": {\n      \"command\": \"/Users/<username>/maenifold/bin/maenifold\",\n      \"args\": [\"--mcp\"],\n      \"type\": \"stdio\"\n    }\n  }\n}\n```\n\n**Windows**:\n```json\n{\n  \"mcpServers\": {\n    \"maenifold\": {\n      \"command\": \"C:\\\\Users\\\\<username>\\\\maenifold\\\\bin\\\\maenifold.exe\",\n      \"args\": [\"--mcp\"],\n      \"type\": \"stdio\"\n    }\n  }\n}\n```\n\n### Claude Desktop\n\nEdit the configuration file at:\n- **macOS**: `~/Library/Application Support/Claude/claude_desktop_config.json`\n- **Windows**: `%APPDATA%\\Claude\\claude_desktop_config.json`\n\nAdd the maenifold server:\n\n```json\n{\n  \"mcpServers\": {\n    \"maenifold\": {\n      \"command\": \"maenifold\",\n      \"args\": [\"--mcp\"]\n    }\n  }\n}\n```\n\nIf maenifold is not added to PATH, use the full path:\n\n**macOS/Linux**:\n```json\n{\n  \"mcpServers\": {\n    \"maenifold\": {\n      \"command\": \"/Users/<username>/maenifold/bin/maenifold\",\n      \"args\": [\"--mcp\"]\n    }\n  }\n}\n```\n\n**Windows**:\n```json\n{\n  \"mcpServers\": {\n    \"maenifold\": {\n      \"command\": \"C:\\\\Users\\\\<username>\\\\maenifold\\\\bin\\\\maenifold.exe\",\n      \"args\": [\"--mcp\"]\n    }\n  }\n}\n```\n\nReplace `<username>` with your actual username, or use environment variable expansion if your client supports it.\n\n### Codex CLI\n\nEdit `~/.codex/config.toml`:\n\n```toml\n[mcp_servers.maenifold]\ntype = \"stdio\"\ncommand = \"maenifold\"\nargs = [\"--mcp\"]\nstartup_timeout_sec = 120\ntool_timeout_sec = 600\n```\n\nWith custom data directory:\n\n```toml\n[mcp_servers.maenifold]\ntype = \"stdio\"\ncommand = \"maenifold\"\nargs = [\"--mcp\"]\nstartup_timeout_sec = 120\ntool_timeout_sec = 600\nenv = { MAENIFOLD_ROOT = \"~/my-knowledge-base\" }\n```\n\n## Environment Variables\n\n| Variable | Description | Default |\n|----------|-------------|---------|\n| `MAENIFOLD_ROOT` | Root directory for memory files and database | `~/maenifold` |\n\nSet the environment variable to use a custom location:\n\n```bash\n# Bash/Zsh\nexport MAENIFOLD_ROOT=~/my-knowledge-base\n\n# PowerShell\n$env:MAENIFOLD_ROOT = \"$HOME\\my-knowledge-base\"\n```\n\nOr specify it in the MCP configuration:\n\n```json\n{\n  \"mcpServers\": {\n    \"maenifold\": {\n      \"command\": \"maenifold\",\n      \"args\": [\"--mcp\"],\n      \"type\": \"stdio\",\n      \"env\": {\n        \"MAENIFOLD_ROOT\": \"~/my-knowledge-base\"\n      }\n    }\n  }\n}\n```\n\n## Verification\n\nAfter installation, verify the setup:\n\n### 1. Check Binary Installation\n\n```bash\nmaenifold --tool GetConfig --payload '{}'\n```\n\nExpected output: JSON configuration including `maenifoldRoot` path and version info\n\n### 2. Test MCP Server\n\n```bash\nmaenifold --mcp\n```\n\nThe server should start and wait for JSON-RPC input. Press Ctrl+C to exit.\n\n### 3. Test from Claude Code\n\nStart Claude Code and try:\n\n```\nWrite a test memory about [[installation]] verification\n```\n\nIf successful, you should see confirmation that the memory was written.\n\n### 4. Verify Skill Loading\n\nIn Claude Code, the skill should load automatically when you mention:\n- \"write memory\", \"read memory\", \"search memories\"\n- \"build context\", \"find similar concepts\"\n- \"sequential thinking\", \"run workflow\"\n- `[[WikiLinks]]`, `memory://`, or maenifold tools\n\n## Troubleshooting\n\n### \"Command not found\" Error\n\n- **Cause**: maenifold binary not in PATH\n- **Solution**: Either add the installation directory to PATH or use the full path in MCP configuration\n\n### \"Permission denied\" Error\n\n- **Cause**: Cannot write to MAENIFOLD_ROOT directory\n- **Solution**: Ensure the directory exists and you have write permissions:\n  ```bash\n  mkdir -p ~/maenifold\n  chmod 755 ~/maenifold\n  ```\n\n### MCP Server Timeout\n\n- **Cause**: Server taking too long to start\n- **Solution**: Increase timeout in configuration:\n  ```json\n  {\n    \"mcpServers\": {\n      \"maenifold\": {\n        \"command\": \"maenifold\",\n        \"args\": [\"--mcp\"],\n        \"type\": \"stdio\",\n        \"timeout\": 120000\n      }\n    }\n  }\n  ```\n\n### Database Lock Error\n\n- **Cause**: Multiple processes accessing the same database\n- **Solution**: Ensure only one MCP server instance is running per MAENIFOLD_ROOT. The system supports concurrent agents, but each must use the same server instance.\n\n### Skill Not Loading\n\n- **Cause**: Skill files not found or plugin not installed\n- **Solution**:\n  1. Run `claude plugin list` to verify installation\n  2. Reinstall with `claude plugin install msbrettorg/maenifold`\n\n### Empty Search Results\n\n- **Cause**: Graph not synced after adding memories\n- **Solution**: Run the sync tool:\n  ```\n  Sync the knowledge graph\n  ```\n\n## Client Comparison\n\n| Feature | Claude Code | Claude Desktop | Codex CLI |\n|---------|-------------|----------------|-----------|\n| Config Format | JSON (`.mcp.json`) | JSON | TOML |\n| Config Location | Project root | App Support folder | `~/.codex/` |\n| Skill Support | Yes | No | Partial |\n| Plugin Install | `claude plugin install` | Manual only | Manual only |\n| Env Variables | In config or shell | In config | In config |\n| Timeout Config | `timeout` field | Not configurable | `startup_timeout_sec`, `tool_timeout_sec` |\n\n## Related Documentation\n\n- [Main README](https://github.com/msbrettorg/maenifold/blob/main/README.md) - Project overview and quick start\n- [Full Documentation](https://github.com/msbrettorg/maenifold/blob/main/docs/README.md) - Architecture and examples\n- [GitHub Releases](https://github.com/msbrettorg/maenifold/releases) - Download binaries\n- [SKILL.md](../../skills/maenifold/SKILL.md) - Skill usage and tool reference\n\n## Tool Reference\n\nFor detailed tool documentation, see the `../../skills/maenifold/references/` directory:\n\n| Category | Tools |\n|----------|-------|\n| Memory | `writememory`, `readmemory`, `searchmemories`, `editmemory`, `deletememory`, `movememory`, `listmemories` |\n| Graph | `buildcontext`, `findsimilarconcepts`, `visualize`, `sync`, `extractconceptsfromfile` |\n| Repair | `analyzeconceptcorruption`, `repairconcepts` |\n| Reasoning | `workflow`, `sequentialthinking`, `assumptionledger` |\n| System | `adopt`, `getconfig`, `gethelp`, `memorystatus`, `recentactivity`, `updateassets` |\n",
        "integrations/claude-code/plugin-product-team/README.md": "# Product Manager Skill\n\nA multi-agent orchestration system that enables an AI to assume the Product Manager role and coordinate specialized ephemeral subagents (SWE, red-team, blue-team, researcher) to execute software development workflows with full traceability and quality gates.\n\n## Overview\n\nThe Product Manager skill transforms Claude Code into a software development team orchestrator. It provides:\n\n- **Multi-agent coordination**: Spawn and manage specialized subagents for development tasks\n- **Automatic context injection**: Hook system enriches subagent prompts with graph knowledge\n- **Quality gates**: ConfessionReport enforcement ensures accountability and transparency\n- **Full traceability**: Every commit traces through PRD ‚Üí RTM ‚Üí TODO ‚Üí code\n- **Knowledge graph integration**: All work contributes to institutional memory\n- **Wave-based parallelization**: Execute up to 8 concurrent tasks for maximum throughput\n\n## Prerequisites\n\n**REQUIRED**: The maenifold skill must be installed first. The Product Manager skill depends on maenifold's knowledge graph, memory system, and reasoning tools.\n\nInstall maenifold skill:\n```bash\nclaude plugin install msbrettorg/maenifold\n```\n\nSee the [maenifold skill README](../../skills/maenifold/README.md) for complete installation instructions.\n\n## Architecture\n\n### System Diagram\n\n```mermaid\ngraph TB\n    User[User] -->|invokes| PM[Product Manager<br/>Skill]\n    PM -->|reads| Docs[PRD.md<br/>RTM.md<br/>TODO.md<br/>RETROSPECTIVES.md]\n    PM -->|spawns via Task| Pool[Agent Pool<br/>8 concurrent slots]\n\n    subgraph \"Subagent Pool\"\n        SWE[SWE Instance 1]\n        SWE2[SWE Instance 2]\n        Red[Red-team]\n        Blue[Blue-team]\n        Research[Researcher]\n        More[... 3 more slots]\n    end\n\n    Pool --> Hooks[Hook System]\n    Hooks -->|PreToolUse| Context[Concept-as-Protocol<br/>Graph Context Injection]\n    Hooks -->|SubagentStop| Gate[ConfessionReport<br/>Quality Gate]\n\n    PM -->|orchestrates| Workflows[Workflow Engine]\n    Workflows -->|embeds| SeqThink[Sequential Thinking<br/>Shared Sessions]\n\n    Pool -->|contributes to| SeqThink\n    SeqThink -->|persists| Memory[memory:// corpus]\n    Memory -->|feeds| Graph[Knowledge Graph]\n\n    Graph -->|provides context via| Hooks\n\n    style PM fill:#0969DA\n    style Pool fill:#0969DA\n    style SWE fill:#0969DA\n    style Red fill:#0969DA\n    style Blue fill:#0969DA\n    style Research fill:#0969DA\n    style More fill:#0969DA\n    style Hooks fill:#0969DA\n    style Context fill:#0969DA\n    style Gate fill:#0969DA\n    style Workflows fill:#0969DA\n    style SeqThink fill:#0969DA\n    style Memory fill:#0969DA\n    style Graph fill:#0969DA\n```\n\n### Hook Integration\n\nThe hook system provides automatic enhancements to subagent interactions:\n\n```mermaid\nsequenceDiagram\n    participant PM as Product Manager\n    participant Hook as Hook System\n    participant Graph as Knowledge Graph\n    participant Agent as Subagent\n\n    PM->>Hook: Task(\"Fix [[authentication]] bug\", agent=\"swe\")\n    Hook->>Hook: Extract [[authentication]] from prompt\n    Hook->>Graph: BuildContext(authentication, depth=1)\n    Graph-->>Hook: Related concepts + memory:// files\n    Hook->>Agent: Augmented prompt with context\n    Agent->>Agent: Execute with enriched knowledge\n    Agent->>Hook: Attempt to stop\n    Hook->>Hook: Search for \"ConfessionReport\"\n    alt ConfessionReport found\n        Hook->>PM: Allow agent stop\n    else ConfessionReport missing\n        Hook->>Agent: Block with reason\n        Agent->>Agent: Write ConfessionReport\n        Agent->>Hook: Retry stop\n        Hook->>PM: Allow agent stop\n    end\n```\n\n## How It Works\n\n### Agent Pool Architecture\n\nThe system provides **8 concurrent task slots** that can execute specialized subagents in parallel:\n\n- **SWE**: Software engineer for implementation tasks\n- **Red-team**: Security and adversarial testing\n- **Blue-team**: Test creation and verification\n- **Researcher**: Analysis and investigation\n\n**Key insight**: Think \"8 SWE instances\" not \"1 SWE\". Each agent type can be instantiated multiple times for parallel execution.\n\n### Hook Mechanisms\n\n#### 1. Concept-as-Protocol (PreToolUse Hook)\n\nWhen PM spawns a subagent with `[[concepts]]` in the Task prompt, the PreToolUse hook:\n\n1. Extracts all `[[WikiLink]]` concepts from the prompt\n2. Calls `buildcontext` for each concept (depth=1, maxEntities=5)\n3. Assembles graph context (up to 8000 tokens total)\n4. Injects context into the subagent's prompt before they see it\n\n**Result**: Subagents receive automatic knowledge enrichment without manual searches.\n\n**Token Budget**: 8000 tokens max, 1000 tokens per concept\n\n#### 2. ConfessionReport Gate (SubagentStop Hook)\n\nEvery subagent must produce a ConfessionReport before termination. The SubagentStop hook:\n\n1. Intercepts agent termination attempts\n2. Searches transcript for \"ConfessionReport\" string\n3. **Blocks** termination if not found, with explanation\n4. **Allows** termination if present\n\n**ConfessionReport Structure**:\n1. All instructions/constraints/objectives followed\n2. Compliance assessment (‚úÖ/‚ùå) with evidence\n3. Gaps and transparency about limitations\n4. Uncertainties, ambiguities, grey areas\n5. Shortcuts, hacks, policy risks\n6. All files, memory:// URIs, [[concepts]] used\n\n**Purpose**: Ensures accountability, prevents silent failures, enables PM to verify quality.\n\n#### 3. Session Start Context (SessionStart Hook)\n\nOn session initialization, automatically inject repository context:\n\n1. Get repository name from git\n2. Search memory:// for project-related files\n3. Get recent activity concepts (last 24 hours)\n4. Build context for top concepts (frequency-ranked)\n5. Inject as \"Knowledge Graph Context\" message\n\n**Token Budget**: 4000 tokens max, 500 tokens per concept (lightweight bootstrap)\n\n### Workflow Patterns\n\n#### Wave-Based Orchestration\n\nComplex work is decomposed into **waves** where multiple agents execute in parallel:\n\n```mermaid\ngraph LR\n    Start[Sprint Start] --> Discovery[Discovery Wave<br/>3 agents parallel]\n    Discovery --> Spec[Specs Wave]\n    Spec --> RTM[RTM Creation]\n    RTM --> UserConfirm[User Confirmation]\n    UserConfirm --> Validation[Validation Wave]\n    Validation --> ImplPlan[Implementation Planning]\n    ImplPlan --> ImplDispatch[Implementation Dispatch<br/>8 agents parallel]\n    ImplDispatch --> RedTeam[Red Team Wave<br/>3 agents parallel]\n    RedTeam --> Remediation[Remediation Wave]\n    Remediation --> ImplVerify[Implementation Verification]\n    ImplVerify --> TestWave[Test Wave<br/>3 agents parallel]\n    TestWave --> RTMVerify[RTM Verification]\n    RTMVerify --> Cleanup[Cleanup Wave]\n    Cleanup --> Review[Sprint Review]\n\n    style Start fill:#0969DA\n    style Discovery fill:#0969DA\n    style Spec fill:#0969DA\n    style RTM fill:#0969DA\n    style UserConfirm fill:#0969DA\n    style Validation fill:#0969DA\n    style ImplPlan fill:#0969DA\n    style ImplDispatch fill:#0969DA\n    style RedTeam fill:#0969DA\n    style Remediation fill:#0969DA\n    style ImplVerify fill:#0969DA\n    style TestWave fill:#0969DA\n    style RTMVerify fill:#0969DA\n    style Cleanup fill:#0969DA\n    style Review fill:#0969DA\n```\n\n**Key Principle**: Dispatch all agents in **one message** per wave for concurrent execution.\n\nExample:\n```\n# ‚úÖ Parallel Dispatch (one message)\nTask(\"Analyze RTM-001\", agent=\"swe-1\", session=\"sprint-discovery\")\nTask(\"Analyze RTM-002\", agent=\"swe-2\", session=\"sprint-discovery\")\nTask(\"Analyze RTM-003\", agent=\"swe-3\", session=\"sprint-discovery\")\n\n# ‚ùå Serial Dispatch (anti-pattern)\nTask(\"Analyze RTM-001\", agent=\"swe\")\n# wait...\nTask(\"Analyze RTM-002\", agent=\"swe\")\n# wait...\n```\n\n#### Traceability Chain\n\nEvery artifact maintains full traceability through the requirements hierarchy:\n\n```mermaid\ngraph TD\n    PRD[PRD.md<br/>Functional Requirements<br/>FR-X.X] --> RTM[RTM.md<br/>Test Cases<br/>FR-X.X ‚Üí TC-X.X.X]\n    RTM --> TODO[TODO.md<br/>Tasks<br/>T-X.X.X ‚Üí FR-X.X]\n    TODO --> Code[Code<br/>// T-X.X.X: RTM FR-X.X]\n    Code --> Commit[Git Commit<br/>T-X.X.X in message]\n    Commit --> Confession[ConfessionReport<br/>References T-X.X.X]\n\n    style PRD fill:#0969DA\n    style RTM fill:#0969DA\n    style TODO fill:#0969DA\n    style Code fill:#0969DA\n    style Commit fill:#0969DA\n    style Confession fill:#0969DA\n```\n\n**Rule**: Work without traceability is rejected.\n\n### Sequential Thinking Collaboration\n\nAll agents in a wave can share the same sequential thinking session:\n\n```mermaid\ngraph TD\n    PM[PM creates session:<br/>sprint-20260129-discovery] --> Agent1[SWE-1 contributes<br/>thoughts + concepts]\n    PM --> Agent2[SWE-2 contributes<br/>thoughts + concepts]\n    PM --> Agent3[SWE-3 contributes<br/>thoughts + concepts]\n\n    Agent1 --> Session[Consolidated Session<br/>All thoughts + concepts]\n    Agent2 --> Session\n    Agent3 --> Session\n\n    Session --> Memory[memory://workflows/thinking/<br/>sprint-20260129-discovery.md]\n    Memory --> Graph[Knowledge Graph<br/>Concepts become nodes]\n\n    Graph --> Future[Future Sessions<br/>Benefit from richer graph]\n\n    style PM fill:#0969DA\n    style Agent1 fill:#0969DA\n    style Agent2 fill:#0969DA\n    style Agent3 fill:#0969DA\n    style Session fill:#0969DA\n    style Memory fill:#0969DA\n    style Graph fill:#0969DA\n    style Future fill:#0969DA\n```\n\n**Benefits**:\n- Persistent thought process across ephemeral agents\n- Cross-agent visibility and collaboration\n- Institutional memory that compounds over time\n- Graph building through `[[concepts]]` in thoughts\n\n## Component Overview\n\n### PM Skill (`SKILL.md`)\n\nEntry point that:\n- Defines Product Manager responsibilities\n- Embeds sprint lifecycle orchestration patterns\n- Provides access to maenifold's cognitive stack\n- Enforces traceability and quality principles\n\n### Agent Definitions (`/integrations/agents/*.md`)\n\nEach agent has:\n- **YAML frontmatter**: Color, skills, description\n- **Markdown body**: Role-specific instructions and behavioral guidelines\n- **Specialization**: SWE (implementation), red-team (security), blue-team (testing), researcher (analysis)\n\n### Hook System (`/integrations/claude-code/plugin-product-team/hooks/`)\n\n- **`hooks.json`**: Hook configuration (SessionStart, PreToolUse, SubagentStop)\n- **`hooks.sh`**: Bash implementation with timeout handling, CLI discovery, concept extraction\n\n### Workflow Assets (`/bin/assets/workflows/*.json`)\n\nStructured JSON workflows that define:\n- Step-by-step processes\n- Tool hints and metadata\n- Stop conditions and guardrails\n- Examples: `agentic-slc`, `workflow-dispatch`, `tdd-workflow`\n\n## Execution Flow Example\n\n### Sprint Flow with Wave-Based Orchestration\n\n```mermaid\nsequenceDiagram\n    participant User\n    participant PM as Product Manager\n    participant Graph as Knowledge Graph\n    participant Agents as Agent Pool\n    participant Session as Sequential Thinking\n\n    User->>PM: Start sprint for RTM-001, RTM-002, RTM-003\n    PM->>PM: Read PRD.md, RTM.md, TODO.md\n    PM->>PM: Create sprint-20260129-auth branch\n\n    Note over PM,Agents: Discovery Wave (Parallel)\n    PM->>Agents: Task(\"Analyze RTM-001\", agent=\"swe-1\", session=\"sprint-discovery\")\n    PM->>Agents: Task(\"Analyze RTM-002\", agent=\"swe-2\", session=\"sprint-discovery\")\n    PM->>Agents: Task(\"Analyze RTM-003\", agent=\"swe-3\", session=\"sprint-discovery\")\n\n    Agents->>Graph: PreToolUse Hook enriches prompts\n    Agents->>Session: All contribute to same session\n    Agents-->>PM: ConfessionReports with findings\n\n    PM->>Session: Read consolidated discovery\n\n    Note over PM,Agents: Implementation Wave (Parallel)\n    PM->>Agents: Task(\"Implement RTM-001\", agent=\"swe-1\")\n    PM->>Agents: Task(\"Implement RTM-002\", agent=\"swe-2\")\n    PM->>Agents: Task(\"Implement RTM-003\", agent=\"swe-3\")\n\n    Agents-->>PM: ConfessionReports with commits\n\n    Note over PM,Agents: Red Team Wave (Parallel)\n    PM->>Agents: Task(\"Red team RTM-001\", agent=\"red-team-1\")\n    PM->>Agents: Task(\"Red team RTM-002\", agent=\"red-team-2\")\n    PM->>Agents: Task(\"Red team RTM-003\", agent=\"red-team-3\")\n\n    Agents-->>PM: ConfessionReports with issues\n\n    Note over PM,Agents: Remediation Wave (Parallel)\n    PM->>Agents: Fix all issues found\n\n    Note over PM,Agents: Test Wave (Parallel)\n    PM->>Agents: Task(\"Test RTM-001\", agent=\"blue-team-1\")\n    PM->>Agents: Task(\"Test RTM-002\", agent=\"blue-team-2\")\n    PM->>Agents: Task(\"Test RTM-003\", agent=\"blue-team-3\")\n\n    Agents-->>PM: ConfessionReports with coverage\n\n    PM->>PM: Verify all ConfessionReports\n    PM->>PM: Verify RTM traceability\n    PM->>User: Sprint complete\n```\n\n## Key Principles\n\n### 1. Traceability Everywhere\n\n```\nCode ‚Üí Commit (T-*) ‚Üí TODO.md (T-* ‚Üí FR-*) ‚Üí RTM.md (FR-* ‚Üí TC-*) ‚Üí PRD.md (FR-*)\n```\n\nWork without traceability is rejected.\n\n### 2. Quality Gates\n\nConfessionReport requirement ensures:\n- Subagents can't silently fail\n- Non-compliance is visible\n- PM can re-assign work to new instances\n- Accountability through transparency\n\n### 3. Parallel by Default\n\nPM always asks: \"Could I give this to 8 agents instead of 1?\"\n- Decompose to file/component/test-suite level\n- Dispatch all agents in ONE message per wave\n- Maximize throughput, minimize idle time\n\n### 4. SLC Philosophy\n\nSimple, Lovable, Complete:\n- No MVPs, scaffolds, stubs, mocks\n- Ruthlessly prune non-value-adding work\n- Real systems, real data, real artifacts\n- Cargo-cult avoidance\n\n### 5. Graph-First Knowledge\n\nNever rely on internal model knowledge:\n- Always search graph first (buildcontext, findsimilarconcepts, searchmemories)\n- Use external docs when memory:// insufficient\n- Write lineage-backed memory:// notes\n- Include memory:// URIs in responses\n\n## Installation\n\n### Quick Install\n\n```bash\n# Install maenifold plugin (includes Product Manager skill)\nclaude plugin install msbrettorg/maenifold\n```\n\n### Verification\n\nStart Claude Code and invoke the Product Manager skill:\n\n```\nAdopt the product manager role and review TODO.md\n```\n\nThe skill should load automatically and the hook system should be active.\n\n## Configuration\n\n### Hook Configuration\n\nHooks are configured in `.mcp.json` via the plugin. The default configuration includes:\n\n- **SessionStart**: Automatically load maenifold skill and inject repository context\n- **PreToolUse**: Inject graph context when Task includes `[[concepts]]`\n- **SubagentStop**: Enforce ConfessionReport before agent termination\n\n### Custom Hook Timeout\n\nEdit `.mcp.json` to adjust hook timeout (default: 5 seconds):\n\n```json\n{\n  \"plugins\": {\n    \"product-team\": {\n      \"hookTimeout\": 10000\n    }\n  }\n}\n```\n\n## Usage Examples\n\n### Example 1: Simple Bug Fix\n\n```\nUser: Fix the authentication timeout bug\n\nPM Response:\n1. [Spawns researcher with [[authentication]], [[timeout]] concepts]\n2. [PreToolUse hook injects graph context]\n3. [Researcher produces findings + ConfessionReport]\n4. [Spawns SWE with research findings + T-123 identifier]\n5. [SWE implements fix, commits with T-123]\n6. [Spawns blue-team to verify fix]\n7. [Reviews all ConfessionReports, verifies traceability]\n```\n\n### Example 2: Multi-Item Sprint\n\n```\nUser: Start sprint for RTM-001, RTM-002, RTM-003\n\nPM Response:\n1. [Creates sprint-20260129-auth branch]\n2. Discovery Wave: 3 agents in parallel (all in one message)\n3. Implementation Wave: 3 agents in parallel (all in one message)\n4. Red Team Wave: 3 agents in parallel (all in one message)\n5. Remediation Wave: Fix all issues\n6. Test Wave: 3 agents in parallel (all in one message)\n7. [Verifies all ConfessionReports and traceability]\n```\n\n### Example 3: TDD Workflow\n\n```\nUser: Implement feature X using TDD workflow\n\nPM Response:\n1. Stage 1: SWE defines contract (optional)\n2. Stage 2: Blue-team writes tests from RTM\n3. Stage 3: SWE implements to pass tests\n4. Stage 4: Red-team attacks implementation\n5. Stage 5: Blue-team verifies coverage held\n\n[All stages require compliant ConfessionReport]\n```\n\n## Troubleshooting\n\n### Hook Latency\n\n**Symptom**: Task invocations take 5-10 seconds\n**Cause**: Bash hook queries graph for every Task\n**Mitigation**: Hooks have 5-second timeout; failures degrade gracefully\n\n### Agent Blocked by SubagentStop Hook\n\n**Symptom**: Agent can't terminate, receives \"ConfessionReport missing\" error\n**Cause**: Agent didn't write ConfessionReport\n**Solution**: Agent must write ConfessionReport including all required sections\n\n### Context Window Overflow\n\n**Symptom**: Large context injections consume token budget\n**Cause**: Multiple parallel agents with 8000-token contexts each\n**Mitigation**: PreCompact hook saves conversation summary to memory:// before compaction\n\n### Graph Fragmentation\n\n**Symptom**: Context injection returns weak or duplicate concepts\n**Cause**: Poor concept tagging (e.g., [[Tool]], [[tool]], [[tools]], [[Tool.cs]])\n**Solution**: Use concept repair tools: `analyzeconceptcorruption` ‚Üí `repairconcepts` with `dryRun=true`\n\n## Limitations\n\n1. **Hook Performance**: 5-10s latency per Task (bash + CLI + graph queries)\n2. **Context Budget**: 8000 tokens per Task can accumulate with parallel agents\n3. **Pool Limits**: 8 concurrent tasks maximum (requires wave sequencing for larger sprints)\n4. **ConfessionReport Enforcement**: Simple string matching (agent could game system)\n5. **Graph Fragmentation Risk**: Poor concept tagging dilutes context relevance\n\n## Related Documentation\n\n- [Maenifold Skill README](../../skills/maenifold/README.md) - Required prerequisite skill\n- [Architecture Analysis](memory://tech/maenifold/product-manager-skill-architecture-analysis) - Complete technical analysis\n- [SKILL.md](../../skills/product-manager/SKILL.md) - Skill definition and instructions\n- [Agent Definitions](../../agents/) - SWE, red-team, blue-team, researcher\n- [Hooks System](./hooks/) - Hook implementation\n\n## Source\n\nThis documentation is based on analysis of the maenifold codebase:\n\n- `/integrations/skills/product-manager/SKILL.md`\n- `/integrations/agents/*.md`\n- `/integrations/claude-code/plugin-product-team/hooks/`\n- `/bin/assets/workflows/*.json`\n\n**Date**: 2026-01-29\n**Repository**: https://github.com/msbrettorg/maenifold\n"
      },
      "plugins": [
        {
          "name": "maenifold",
          "source": "./integrations/claude-code/plugin-maenifold",
          "description": "maenifold knowledge graph and reasoning infrastructure for Claude Code.",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add msbrettorg/maenifold",
            "/plugin install maenifold@maenifold-marketplace"
          ]
        },
        {
          "name": "maenifold-product-team",
          "source": "./integrations/claude-code/plugin-product-team",
          "description": "An opinionated product team workflow built on maenifold primitives.",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add msbrettorg/maenifold",
            "/plugin install maenifold-product-team@maenifold-marketplace"
          ]
        }
      ]
    }
  ]
}