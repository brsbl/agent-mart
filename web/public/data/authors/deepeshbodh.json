{
  "author": {
    "id": "deepeshBodh",
    "display_name": "deepeshBodh",
    "avatar_url": "https://avatars.githubusercontent.com/u/178582603?u=10795333a93e3d456db50c6787a1a26bee011a06&v=4"
  },
  "marketplaces": [
    {
      "name": "humaninloop-plugins",
      "version": "3.0.0",
      "description": "Multi-agent workflow plugins for specification-driven development",
      "repo_full_name": "deepeshBodh/human-in-loop",
      "repo_url": "https://github.com/deepeshBodh/human-in-loop",
      "repo_description": "SPEC-first multi-agent framework for Claude Code.",
      "signals": {
        "stars": 20,
        "forks": 1,
        "pushed_at": "2026-02-19T20:53:28Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"humaninloop-plugins\",\n  \"version\": \"3.0.0\",\n  \"description\": \"Multi-agent workflow plugins for specification-driven development\",\n  \"owner\": {\n    \"name\": \"HumanInLoop\",\n    \"email\": \"support@humaninloop.dev\",\n    \"url\": \"https://humaninloop.dev\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"humaninloop\",\n      \"source\": \"./plugins/humaninloop\",\n      \"description\": \"Specification-driven development workflow: setup → specify → techspec → plan → tasks → implement\"\n    }\n  ]\n}\n",
        "README.md": "# HumanInLoop\n\n**Stop vibe coding. Ship software that lasts.**\n\n[Website](https://humaninloop.dev) • [Quick Start](#quick-start) • [Roadmap](./ROADMAP.md) • [Changelog](./CHANGELOG.md)\n\n---\n\n## What is HumanInLoop?\n\nHumanInLoop is a Claude Code plugin that enforces **specification-driven development**—ensuring architectural decisions are made by humans before AI writes code.\n\nInstead of letting AI improvise your architecture, you guide it through a structured workflow:\n\n```\nIdea → Specification → Technical Spec → Plan → Tasks → Implementation\n```\n\nEvery step produces artifacts you can review, refine, and approve before moving forward.\n\n---\n\n## The Workflow\n\n```\n┌──────────────────────────────────────────────────────────────────────────────────────────┐\n│                                                                                          │\n│  ┌─────────┐  ┌─────────┐  ┌──────────┐  ┌──────┐  ┌───────┐  ┌───────────┐             │\n│  │  SETUP  │─▶│ SPECIFY │─▶│ TECHSPEC │─▶│ PLAN │─▶│ TASKS │─▶│ IMPLEMENT │             │\n│  └─────────┘  └─────────┘  └──────────┘  └──────┘  └───────┘  └───────────┘             │\n│       │            │            │             │          │            │                   │\n│       ▼            ▼            ▼             ▼          ▼            ▼                   │\n│  ┌─────────┐  ┌─────────┐  ┌──────────┐  ┌──────┐  ┌───────┐  ┌───────────┐             │\n│  │ consti- │  │  spec   │  │technical/│  │ plan │  │ tasks │  │   code    │             │\n│  │ tution  │  │   .md   │  │ 5 files  │  │  .md │  │  .md  │  │  changes  │             │\n│  └─────────┘  └─────────┘  └──────────┘  └──────┘  └───────┘  └───────────┘             │\n│       │            │            │             │          │            │                   │\n│       └────────────┴────────────┴─────────────┴──────────┴────────────┘                   │\n│                                        │                                                 │\n│                                  ┌─────▼─────┐                                           │\n│                                  │   AUDIT   │                                           │\n│                                  │  (review) │                                           │\n│                                  └───────────┘                                           │\n│                                                                                          │\n│  ○────────○────────○────────○────────○────────○  Human review checkpoints               │\n│                                                                                          │\n└──────────────────────────────────────────────────────────────────────────────────────────┘\n```\n\n| Stage | Command | What You Get |\n|-------|---------|--------------|\n| **Setup** | `/humaninloop:setup` | Project constitution with your standards |\n| **Specify** | `/humaninloop:specify` | Structured spec with user stories and requirements |\n| **Techspec** | `/humaninloop:techspec` | Technical requirements, constraints, NFRs, integrations, data sensitivity |\n| **Plan** | `/humaninloop:plan` | Implementation plan with data models and contracts |\n| **Tasks** | `/humaninloop:tasks` | Ordered task list with TDD cycles |\n| **Audit** | `/humaninloop:audit` | Quality analysis across all artifacts |\n| **Implement** | `/humaninloop:implement` | Guided implementation with progress tracking |\n\nEach command produces artifacts you review before the next step. You stay in control.\n\n### Command Details\n\n<details open>\n<summary><strong>Specify</strong> - Create feature specification (DAG-based)</summary>\n\n```\n┌─────────────────────────────────────────────────────────────────────┐\n│                         /humaninloop:specify                        │\n├─────────────────────────────────────────────────────────────────────┤\n│                                                                     │\n│  ┌──────────────┐                                                   │\n│  │  SUPERVISOR  │ ◄─── You invoke the command                       │\n│  └──────┬───────┘                                                   │\n│         │  ┌──────────────────┐     ┌──────────────────┐            │\n│         ├─▶│  State Analyst   │────▶│  briefing +      │            │\n│         │  └──────────────────┘     │  recommendations │            │\n│         │                           └────────┬─────────┘            │\n│         │                                    │                      │\n│         │  ┌──────────────────┐              │                      │\n│         ├─▶│  DAG Assembler   │◄─────────────┘                      │\n│         │  └──────┬───────────┘  (assembly decisions)               │\n│         │         │                                                 │\n│         │         ▼                                                 │\n│         │  ┌──────────────────┐     ┌───────────────────┐           │\n│         │  │   Requirements   │────▶│   Devil's         │           │\n│         │  │   Analyst        │     │   Advocate        │           │\n│         │  └────────┬─────────┘     └─────────┬─────────┘           │\n│         │           │                         │                     │\n│         │           ▼                         ▼                     │\n│         │      ┌─────────┐         ┌────────────────────┐           │\n│         │      │ spec.md │         │ gaps? → new pass   │           │\n│         │      └─────────┘         └────────────────────┘           │\n│         │                                                           │\n│         ▼  Deterministic DAG tracks all nodes, edges, and status    │\n│  ┌──────────────────────────────────────────────────────────┐       │\n│  │  StrategyGraph JSON  (single DAG, multi-pass iteration)  │       │\n│  └──────────────────────────────────────────────────────────┘       │\n│                                                                     │\n└─────────────────────────────────────────────────────────────────────┘\n```\n\n**Output**: `specs/{feature}/spec.md` + StrategyGraph JSON\n\n**Agents**:\n- **DAG Assembler** — Pure graph mechanics; translates Supervisor decisions into validated DAG mutations\n- **State Analyst** — Reads DAG state and parses domain agent reports into structured briefings\n- **Requirements Analyst** — Transforms feature requests into structured specs; no implementation details\n- **Devil's Advocate** — Reviews for gaps and ambiguity; asks clarifying questions\n\n</details>\n\n<details>\n<summary><strong>Techspec</strong> - Translate spec into technical artifacts</summary>\n\n```\n┌─────────────────────────────────────────────────────────────────────┐\n│                        /humaninloop:techspec                        │\n├─────────────────────────────────────────────────────────────────────┤\n│                                                                     │\n│  ┌──────────────┐                                                   │\n│  │  SUPERVISOR  │ ◄─── Reads spec.md                                │\n│  └──────┬───────┘                                                   │\n│         │                                                           │\n│         ▼                Phase T0 (Core)                            │\n│  ┌──────────────────┐  ┌───────────────────┐  ┌─────────────────┐   │\n│  │   Technical      │─▶│   Principal       │─▶│   Devil's       │   │\n│  │   Analyst        │  │   Architect       │  │   Advocate      │   │\n│  └────────┬─────────┘  └───────────────────┘  └────────┬────────┘   │\n│           │              (feasibility)                  │           │\n│           ▼                                            ▼           │\n│  ┌────────────────┐  ┌──────────────────┐       ┌──────────┐       │\n│  │ requirements   │  │  constraints     │       │  gaps?   │       │\n│  │    .md         │  │     .md          │       └──────────┘       │\n│  └────────────────┘  └──────────────────┘                          │\n│                                                                     │\n│         │                Phase T1 (Supplementary)                   │\n│         ▼                                                           │\n│  ┌──────────────────┐  ┌───────────────────┐  ┌─────────────────┐   │\n│  │   Technical      │─▶│   Principal       │─▶│   Devil's       │   │\n│  │   Analyst        │  │   Architect       │  │   Advocate      │   │\n│  └────────┬─────────┘  └───────────────────┘  └────────┬────────┘   │\n│           │              (feasibility)                  │           │\n│           ▼                                            ▼           │\n│  ┌──────────┐ ┌──────────────┐ ┌──────────────────┐ ┌──────────┐   │\n│  │ nfrs.md  │ │integrations  │ │data-sensitivity   │ │  gaps?   │   │\n│  │          │ │    .md       │ │       .md         │ └──────────┘   │\n│  └──────────┘ └──────────────┘ └──────────────────┘                 │\n│                                                                     │\n└─────────────────────────────────────────────────────────────────────┘\n```\n\n**Output**: `specs/{feature}/technical/` — 5 traceable artifacts\n\n**Agents**:\n- **Technical Analyst** — Translates business FRs into technical requirements, constraints, NFRs, integrations, and data sensitivity\n- **Principal Architect** — Reviews feasibility of each pass; validates constraints and NFR measurability\n- **Devil's Advocate** — Validates traceability, completeness, and cross-artifact consistency\n\n</details>\n\n<details>\n<summary><strong>Plan</strong> - Create implementation plan</summary>\n\n```\n┌─────────────────────────────────────────────────────────────────────┐\n│                          /humaninloop:plan                          │\n├─────────────────────────────────────────────────────────────────────┤\n│                                                                     │\n│  ┌──────────────┐                                                   │\n│  │  SUPERVISOR  │ ◄─── Reads spec.md + technical/                    │\n│  └──────┬───────┘                                                   │\n│         │                                                           │\n│         ▼                                                           │\n│  ┌──────────────────┐     ┌───────────────────┐                     │\n│  │     Plan         │────▶│   Devil's         │                     │\n│  │     Architect    │     │   Advocate        │                     │\n│  └────────┬─────────┘     └─────────┬─────────┘                     │\n│           │                         │                               │\n│           │         ┌───────────────┼───────────────┐               │\n│           ▼         ▼               ▼               ▼               │\n│     ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐             │\n│     │ research │ │  data-   │ │contracts/│ │quickstart│             │\n│     │   .md    │ │ model.md │ │ api.yaml │ │   .md    │             │\n│     └──────────┘ └──────────┘ └──────────┘ └──────────┘             │\n│           │             │           │            │                  │\n│           └─────────────┴───────────┴────────────┘                  │\n│                                │                                    │\n│                                ▼                                    │\n│                          ┌──────────┐                               │\n│                          │ plan.md  │                               │\n│                          └──────────┘                               │\n│                                                                     │\n└─────────────────────────────────────────────────────────────────────┘\n```\n\n**Output**: `specs/{feature}/plan.md` + supporting artifacts\n\n**Agents**:\n- **Plan Architect** — Creates research, data models, and API contracts; no code generation\n- **Devil's Advocate** — Validates technical decisions and cross-artifact consistency\n\n</details>\n\n<details>\n<summary><strong>Tasks</strong> - Generate implementation tasks</summary>\n\n```\n┌─────────────────────────────────────────────────────────────────────┐\n│                         /humaninloop:tasks                          │\n├─────────────────────────────────────────────────────────────────────┤\n│                                                                     │\n│  ┌──────────────┐                                                   │\n│  │  SUPERVISOR  │ ◄─── Reads plan artifacts                         │\n│  └──────┬───────┘                                                   │\n│         │                                                           │\n│         ▼                                                           │\n│  ┌──────────────────┐     ┌───────────────────┐                     │\n│  │     Task         │────▶│   Devil's         │                     │\n│  │     Architect    │     │   Advocate        │                     │\n│  └────────┬─────────┘     └─────────┬─────────┘                     │\n│           │                         │                               │\n│           ▼                         ▼                               │\n│  ┌────────────────┐          ┌──────────┐                           │\n│  │ task-mapping.md│          │  gaps?   │──── yes ──┐               │\n│  └────────────────┘          └──────────┘           │               │\n│           │                       │                 ▼               │\n│           ▼                      no          ┌────────────┐         │\n│     ┌──────────┐                  │          │ clarify w/ │         │\n│     │ tasks.md │                  ▼          │    user    │         │\n│     └──────────┘            ┌──────────┐     └─────┬──────┘         │\n│                             │   done   │           │                │\n│                             └──────────┘     ◄─────┘ (loop)         │\n│                                                                     │\n└─────────────────────────────────────────────────────────────────────┘\n```\n\n**Output**: `specs/{feature}/tasks.md` with TDD cycles\n\n**Agents**:\n- **Task Architect** — Maps requirements to vertical slices with TDD structure; no implementation\n- **Devil's Advocate** — Ensures coverage, proper ordering, and testable increments\n\n</details>\n\n<details>\n<summary><strong>Setup</strong> - Create project constitution</summary>\n\n```\n┌─────────────────────────────────────────────────────────────────────┐\n│                         /humaninloop:setup                          │\n├─────────────────────────────────────────────────────────────────────┤\n│                                                                     │\n│  ┌──────────────┐                                                   │\n│  │  SUPERVISOR  │                                                   │\n│  └──────┬───────┘                                                   │\n│         │                                                           │\n│         ▼                                                           │\n│  ┌──────────────────┐     Brownfield?                               │\n│  │ Detect Codebase  │────────┬──────────────┐                       │\n│  └──────────────────┘        │              │                       │\n│                             yes             no                      │\n│                              │              │                       │\n│                              ▼              │                       │\n│                    ┌──────────────────┐     │                       │\n│                    │    Principal     │     │                       │\n│                    │    Architect     │     │                       │\n│                    └────────┬─────────┘     │                       │\n│                             │               │                       │\n│         ┌───────────────────┼───────────────┤                       │\n│         ▼                   ▼               ▼                       │\n│  ┌────────────┐    ┌────────────────┐  ┌────────────┐               │\n│  │  codebase- │    │  constitution  │  │constitution│               │\n│  │analysis.md │    │     .md        │  │    .md     │               │\n│  └────────────┘    └────────────────┘  └────────────┘               │\n│         │                   │                                       │\n│         ▼                   │                                       │\n│  ┌────────────┐             │                                       │\n│  │ evolution- │             │                                       │\n│  │ roadmap.md │             │                                       │\n│  └────────────┘             │                                       │\n│         └───────────────────┘                                       │\n│                                                                     │\n└─────────────────────────────────────────────────────────────────────┘\n```\n\n**Output**: `.humaninloop/memory/constitution.md`\n\n**Agents**:\n- **Principal Architect** — Defines governance principles and quality gates; enforces RFC 2119 keywords\n\n</details>\n\n<details>\n<summary><strong>Audit</strong> - Analyze artifacts for quality</summary>\n\n```\n┌─────────────────────────────────────────────────────────────────────┐\n│                         /humaninloop:audit                          │\n├─────────────────────────────────────────────────────────────────────┤\n│                                                                     │\n│  ┌──────────────┐                                                   │\n│  │  SUPERVISOR  │ ◄─── No agents, direct analysis                   │\n│  └──────┬───────┘                                                   │\n│         │                                                           │\n│         ▼                                                           │\n│  ┌──────────────────────────────────────────────────────────┐       │\n│  │                    Load Artifacts                         │       │\n│  │  spec.md │ plan.md │ tasks.md │ data-model │ contracts   │       │\n│  └──────────────────────────┬───────────────────────────────┘       │\n│                             │                                       │\n│         ┌───────────────────┼───────────────────┐                   │\n│         ▼                   ▼                   ▼                   │\n│  ┌────────────┐      ┌────────────┐      ┌────────────┐             │\n│  │   Spec     │      │   Plan     │      │   Task     │             │\n│  │  Analysis  │      │  Validation│      │ Validation │             │\n│  └────────────┘      └────────────┘      └────────────┘             │\n│         │                   │                   │                   │\n│         └───────────────────┴───────────────────┘                   │\n│                             │                                       │\n│                             ▼                                       │\n│                    ┌────────────────┐                               │\n│                    │  Audit Report  │                               │\n│                    │ (stdout/file)  │                               │\n│                    └────────────────┘                               │\n│                                                                     │\n└─────────────────────────────────────────────────────────────────────┘\n```\n\n**Output**: Coverage report + flagged issues\n\n**Agents**: None — direct analysis using validation skills\n\n</details>\n\n<details>\n<summary><strong>Implement</strong> - Execute the task plan</summary>\n\n```\n┌─────────────────────────────────────────────────────────────────────┐\n│                       /humaninloop:implement                        │\n├─────────────────────────────────────────────────────────────────────┤\n│                                                                     │\n│  ┌──────────────┐                                                   │\n│  │  SUPERVISOR  │ ◄─── Reads tasks.md                               │\n│  └──────┬───────┘                                                   │\n│         │                                                           │\n│         ▼                                                           │\n│  ┌──────────────────────────────────────────────────────────┐       │\n│  │               Foundation Cycles (Sequential)              │       │\n│  │   C1 ──▶ C2 ──▶ C3 ──▶ ...                               │       │\n│  └──────────────────────────┬───────────────────────────────┘       │\n│                             │                                       │\n│                             ▼                                       │\n│  ┌──────────────────────────────────────────────────────────┐       │\n│  │                Feature Cycles (Can Parallel)              │       │\n│  │   C4 ──┬──▶ C5                                           │       │\n│  │        └──▶ C6 [P]                                       │       │\n│  └──────────────────────────┬───────────────────────────────┘       │\n│                             │                                       │\n│  For each cycle:            │                                       │\n│  ┌──────────────────────────┴───────────────────────────────┐       │\n│  │  T1 (test) ──▶ T2 (impl) ──▶ T3 (impl) ──▶ Checkpoint    │       │\n│  │       │                                                   │       │\n│  │       ▼ (if TEST: marker)                                │       │\n│  │  ┌─────────────────┐                                     │       │\n│  │  │  Testing Agent  │ ──▶ auto-approve or human checkpoint│       │\n│  │  └─────────────────┘                                     │       │\n│  └──────────────────────────────────────────────────────────┘       │\n│                                                                     │\n└─────────────────────────────────────────────────────────────────────┘\n```\n\n**Output**: Implemented code + marked tasks\n\n**Agents**:\n- **Testing Agent** — Executes verification tasks and captures evidence; auto-approves or presents checkpoints\n\n</details>\n\n---\n\n## What's Included\n\n### 7 Commands\nThe full specify → techspec → plan → tasks → implement lifecycle.\n\n### 27 Skills\nClaude automatically invokes these when relevant—authoring requirements, technical specifications, analyzing codebases, designing APIs, running verification tests, managing GitHub issues, DAG operations, workflow strategy, and more.\n\n### 10 Specialized Agents\nFocused responsibilities: requirements analyst, technical analyst, devil's advocate, plan architect, principal architect, task architect, testing agent, UI designer, DAG assembler, state analyst.\n\nSee the [plugin documentation](./plugins/humaninloop/README.md) for full details.\n\n---\n\n## Quick Start\n\n### 1. Add the marketplace\n\n```bash\n/plugin marketplace add deepeshBodh/human-in-loop\n```\n\n### 2. Install the plugin\n\n```bash\n/plugin install humaninloop\n```\n\n### 3. Set up your project\n\n```bash\n/humaninloop:setup\n```\n\nThis creates your project constitution—the standards and conventions that guide all future specifications.\n\n### 4. Create your first spec\n\n```bash\n/humaninloop:specify add user authentication with email and password\n```\n\n---\n\n## Documentation\n\n| Resource | Description |\n|----------|-------------|\n| [Roadmap](./ROADMAP.md) | Vision and planned features |\n| [Changelog](./CHANGELOG.md) | Release history |\n| [Plugin README](./plugins/humaninloop/README.md) | Detailed command and skill reference |\n\n---\n\n## For Plugin Developers\n\nThis repository serves as a reference implementation for Claude Code plugins. If you're building your own plugins, you can learn from:\n\n### Repository Structure\n\n```\nhuman-in-loop/\n├── humaninloop_brain/                # Deterministic DAG infrastructure (Python)\n│   ├── src/humaninloop_brain/        # Package source\n│   │   ├── entities/                 # Pydantic models (11 enums, 14 models)\n│   │   ├── graph/                    # NetworkX graph operations\n│   │   ├── validators/               # Structural + contract validators\n│   │   ├── passes/                   # Pass lifecycle management\n│   │   └── cli/                      # hil-dag CLI (7 subcommands)\n│   └── tests/                        # 381 tests, 97% coverage\n├── plugins/humaninloop/\n│   ├── .claude-plugin/plugin.json    # Plugin manifest\n│   ├── commands/                     # Slash command definitions\n│   ├── agents/                       # 10 specialized agent definitions\n│   ├── skills/                       # 27 model-invoked skills\n│   ├── catalogs/                     # Node catalogs for DAG workflows\n│   ├── templates/                    # Workflow templates\n│   └── scripts/                      # Shell utilities\n├── docs/\n│   ├── decisions/                    # Architecture Decision Records (7 ADRs)\n│   ├── architecture/                 # DAG-first + v3 architecture docs\n│   ├── claude-plugin-documentation.md\n│   └── agent-skills-documentation.md\n└── specs/                            # Feature specifications (dogfooding)\n```\n\n### Key Resources\n\n- [Claude Code Plugin Documentation](./docs/claude-plugin-documentation.md) - Complete technical reference\n- [Agent Skills Documentation](./docs/agent-skills-documentation.md) - How skills work\n- [Architecture Decisions](./docs/decisions/) - ADRs explaining design choices\n\n---\n\n## Contributing\n\nSee [CONTRIBUTING.md](./CONTRIBUTING.md) for guidelines.\n\n---\n\n## License\n\nMIT - See [LICENSE](./LICENSE)\n",
        "plugins/humaninloop/README.md": "# HumanInLoop Plugin\n\nSpecification-driven development workflow: **setup → specify → techspec → plan → tasks → implement**\n\n## Overview\n\nThe HumanInLoop plugin provides a comprehensive multi-agent workflow for specification-driven development. It automates the entire feature development lifecycle from constitution setup to implementation.\n\n**Core Workflows:**\n- **Setup** - Create project constitution with enforceable governance principles\n- **Specify** - Create feature specifications with integrated quality validation\n- **Techspec** - Translate business specifications into traceable technical artifacts\n- **Plan** - Generate implementation plans with research, data models, and API contracts\n- **Tasks** - Generate actionable implementation tasks with dependency tracking and brownfield markers\n\n## Installation\n\nAdd the plugin to your Claude Code project:\n\n```bash\nclaude-code plugins add humaninloop\n```\n\n## Prerequisites\n\nThe `/humaninloop:specify` command requires the `hil-dag` CLI from the `humaninloop_brain` package:\n\n```bash\ncd humaninloop_brain && uv sync\n```\n\nThis installs the `hil-dag` CLI used by the DAG Assembler agent for deterministic graph operations.\n\n## Getting Started\n\nFirst, set up your project constitution:\n\n```bash\n/humaninloop:setup\n```\n\nThen proceed with the specification workflow for your first feature.\n\n## Commands\n\n### `/humaninloop:setup`\n\nCreate or amend your project constitution with enforceable governance principles. Supports both greenfield and brownfield projects.\n\n```\n/humaninloop:setup\n```\n\n**Modes:**\n\n| Mode | When to Use | Artefacts |\n|------|-------------|-----------|\n| **Brownfield** | Existing codebase (>5 source files) | `codebase-analysis.md`, `constitution.md`, `evolution-roadmap.md` |\n| **Greenfield** | New project | `constitution.md` only |\n| **Amend** | Update existing constitution | `constitution.md` (updated) |\n\n**Brownfield Workflow:**\n1. **Detection**: Analyze codebase for framework, entities, patterns\n2. **Analysis**: Principal Architect produces `codebase-analysis.md` with:\n   - Project inventory (factual): structure, patterns, entities\n   - Assessment (judgment): strengths, inconsistencies, essential floor status\n3. **Checkpoint**: User reviews and confirms analysis accuracy\n4. **Constitution**: Create with essential floor + emergent ceiling (existing good patterns)\n5. **Roadmap**: Generate `evolution-roadmap.md` with gap cards (P1/P2/P3 priorities)\n\n**Essential Floor** (always included in constitution):\n- **Security**: Auth at boundaries, secrets from env, input validation\n- **Testing**: Automated tests, coverage measurement\n- **Error Handling**: Explicit handling, context for debugging\n- **Observability**: Structured logging, correlation IDs\n\n**Output:**\n- `.humaninloop/memory/constitution.md` - Project governance\n- `.humaninloop/memory/codebase-analysis.md` - Codebase inventory (brownfield only)\n- `.humaninloop/memory/evolution-roadmap.md` - Gap cards for improvement (brownfield only)\n\n**Features:**\n- Three-Part Principle Rule (Enforcement, Testability, Rationale)\n- RFC 2119 keywords (MUST, SHOULD, MAY)\n- Automatic CLAUDE.md synchronization\n- Brownfield analysis with checkpoint for user confirmation\n- Evolution roadmap with prioritized gap cards and dependency graph\n\n### `/humaninloop:specify <description>`\n\nCreate a feature specification with integrated quality validation.\n\n```\n/humaninloop:specify Add user authentication with OAuth2 support\n```\n\n**Workflow (DAG-based execution):**\n1. Generate short name from description (2-4 words, e.g., `user-auth`)\n2. Create feature branch and directory using `create-new-feature.sh` script\n3. State Analyst produces workflow briefing from DAG history, catalog, and strategy skills\n4. Supervisor makes assembly decision; DAG Assembler validates and builds graph node\n5. Domain agents execute (Requirements Analyst produces spec, Devil's Advocate reviews)\n6. State Analyst parses agent reports, records status + evidence + trace via `hil-dag record`\n7. Loop until advocate verdict is `ready` or user accepts current state\n\n**Branch Format:** `###-short-name` (e.g., `001-user-auth`)\n- Branch name = spec directory name = feature ID\n- Number auto-increments based on existing branches and specs\n\n### `/humaninloop:techspec`\n\nTranslate business specifications into traceable technical artifacts through a multi-agent workflow.\n\n```\n/humaninloop:techspec\n```\n\n**Requires:** `spec.md` to exist with completed specify workflow\n\n**Workflow:**\n1. **Phase T0 (Core)**: Technical Analyst produces requirements (`requirements.md`) and constraints (`constraints.md`), Principal Architect reviews feasibility, Devil's Advocate validates completeness (phase: T0)\n2. **Phase T1 (Supplementary)**: Technical Analyst produces NFRs (`nfrs.md`), integration maps (`integrations.md`), and data sensitivity classifications (`data-sensitivity.md`), Principal Architect reviews feasibility, Devil's Advocate validates completeness (phase: T1, mode: incremental)\n\n**Output:**\n```\nspecs/<###-feature-name>/technical/\n├── requirements.md          # TR-XXX technical requirements traced to FRs\n├── constraints.md           # C-XXX constraints with sources\n├── nfrs.md                  # NFR-XXX with measurable targets\n├── integrations.md          # INT-XXX integration maps with failure modes\n└── data-sensitivity.md      # DS-XXX data classifications\n```\n\n**Features:**\n- Every technical requirement traces to a business functional requirement\n- Two-pass production: core artifacts first, supplementary after review\n- Incremental validation between passes\n- Five artifact types: TR- (requirements), C- (constraints), NFR- (non-functional), INT- (integrations), DS- (data sensitivity)\n\n### `/humaninloop:plan`\n\nGenerate an implementation plan from an existing specification.\n\n```\n/humaninloop:plan\n```\n\n**Requires:** `spec.md` and completed techspec workflow (all 5 technical artifacts must exist)\n\n**Workflow:**\n1. **Phase A0**: Codebase discovery (detects existing code conflicts)\n2. **Phase B0**: Technical research for unknowns\n3. **Phase B1**: Domain model and entity design\n4. **Phase B2**: API contracts and integration scenarios\n5. **Phase B3**: Final validation and constitution sweep\n\n### `/humaninloop:tasks`\n\nGenerate implementation tasks from an existing plan.\n\n```\n/humaninloop:tasks\n```\n\n**Requires:** `plan.md` to exist (run plan workflow first)\n\n**Workflow:**\n1. **Initialize**: Entry gate, create tasks-context.md\n2. **Mapping**: Task Architect creates task-mapping.md (story → cycle mapping)\n3. **Review**: Devil's Advocate reviews mapping for gaps\n4. **Tasks**: Task Architect creates tasks.md with TDD cycle structure\n5. **Review**: Devil's Advocate validates TDD structure and coverage\n\n**Features:**\n- **Vertical slicing**: Tasks grouped into independently testable cycles\n- **TDD discipline**: Each cycle follows test-first ordering\n- **Foundation + parallel**: Sequential foundation cycles, then parallel feature cycles\n- **Brownfield markers**: `[EXTEND]`, `[MODIFY]` for existing code\n\n### `/humaninloop:implement`\n\nExecute the implementation plan by processing all tasks defined in tasks.md.\n\n```\n/humaninloop:implement\n```\n\n**Requires:** `tasks.md` to exist (run tasks workflow first)\n\n**Workflow:**\n1. **Entry Gate**: Verify tasks workflow completed successfully\n2. **Project Setup**: Create/verify ignore files for tech stack\n3. **Parse Structure**: Extract cycles, tasks, dependencies from tasks.md\n4. **Execute Foundation**: Complete foundation cycles sequentially (C1 → C2 → C3)\n5. **Execute Features**: Run feature cycles (parallel where marked `[P]`)\n6. **Verify Checkpoints**: Validate each cycle's checkpoint criteria\n7. **Quality Gates**: Run lint, build, tests after each cycle\n\n**Features:**\n- **Cycle-based execution**: Foundation cycles sequential, feature cycles can parallelize\n- **TDD discipline**: Each cycle starts with failing test (TN.1), then implements\n- **Checkpoint verification**: Validates done criteria between cycles\n- **Brownfield support**: Handles `[EXTEND]` and `[MODIFY]` markers\n- **Progress tracking**: Marks tasks complete (`[x]`) in tasks.md\n- **User-controlled git**: Does not run git commands - leaves version control to user\n\n## Workflow Architecture\n\n### Setup Workflow Agent\n\n| Agent | Purpose |\n|-------|---------|\n| **Principal Architect** | Senior technical leader who creates enforceable project constitutions with governance judgment. In brownfield mode, analyzes existing codebase for essential floor coverage, produces codebase-analysis.md, and generates evolution-roadmap.md with prioritized gaps. Uses skills: `analysis-codebase`, `authoring-constitution`, `brownfield-constitution`, `validation-constitution`, `syncing-claude-md`, `authoring-roadmap` |\n\n### Specify Workflow Agents\n\n| Agent | Purpose |\n|-------|---------|\n| **DAG Assembler** | Pure graph mechanics: translates Supervisor decisions into validated DAG mutations via the `hil-dag` CLI. Constructs prompts for domain agents from catalog contracts. Uses skill: `dag-operations` |\n| **State Analyst** | Reads DAG history, parses domain agent reports, and produces structured briefings and summaries for the Supervisor. Records analysis results atomically via `hil-dag record`. Uses skill: `dag-operations` |\n| **Requirements Analyst** | Transforms feature requests into precise specifications with user stories, requirements, and acceptance criteria |\n| **Devil's Advocate** | Adversarial reviewer who stress-tests specs, finds gaps, challenges assumptions, and generates clarifying questions |\n\n### Techspec Workflow Agents\n\n| Agent | Purpose |\n|-------|---------|\n| **Technical Analyst** | Senior technical analyst who translates business specifications into traceable technical artifacts (requirements, constraints, NFRs, integration maps, data sensitivity). Uses skill: `authoring-technical-requirements` |\n| **Principal Architect** | Reviews feasibility of each pass; validates constraints are real limitations and NFR targets are measurable |\n| **Devil's Advocate** | Validates techspec artifacts for completeness and traceability. Uses skill: `validation-plan-artifacts` (phases: T0, T1) |\n\n### Plan Workflow Agents\n\n| Agent | Purpose |\n|-------|---------|\n| **Plan Architect** | Senior architect who transforms specifications into implementation plans through research, domain modeling, and API contract design. Uses skills: `patterns-technical-decisions`, `patterns-entity-modeling`, `patterns-api-contracts` |\n| **Devil's Advocate** | Reviews plan artifacts for gaps and quality. Uses skill: `validation-plan-artifacts` |\n\n### Tasks Workflow Agents\n\n| Agent | Purpose |\n|-------|---------|\n| **Task Architect** | Senior architect who transforms planning artifacts into implementation tasks through vertical slicing and TDD discipline. Uses skill: `patterns-vertical-tdd` |\n| **Devil's Advocate** | Reviews task artifacts for gaps, validates TDD structure. Uses skill: `validation-task-artifacts` |\n\n### Implement Workflow Agents\n\n| Agent | Purpose |\n|-------|---------|\n| **Testing Agent** | Collaborative QA partner that executes `TEST:` verification tasks, classifies them at runtime (CLI/GUI/SUBJECTIVE), captures evidence, and decides whether to auto-approve or present human checkpoints. Uses skill: `testing-end-user` |\n\n### Design Workflow Agent\n\n| Agent | Purpose |\n|-------|---------|\n| **UI Designer** | Senior interface designer who analyzes visual inspiration from existing apps to extract design patterns, build actionable design systems, and craft screen layouts and interaction flows. Uses skills: `analysis-screenshot`, `patterns-flow-mapping`, `authoring-design-system`, `patterns-interface-design` |\n\n### Validation\n\n**Techspec Workflow:** Uses `validation-plan-artifacts` skill for techspec-specific review criteria (phases T0, T1).\n\n**Plan Workflow:** Uses `validation-plan-artifacts` skill for phase-specific review criteria (phases B0, B1, B2).\n\n**Tasks Workflow:** Uses `validation-task-artifacts` skill for:\n- Vertical slice validation (cycles deliver testable value)\n- TDD structure verification (test-first ordering)\n- Story → Cycle → Tasks traceability\n\n## Output Structure\n\n**Project-Level (from setup):**\n```\n.humaninloop/memory/\n├── constitution.md            # Project governance principles\n├── codebase-analysis.md       # Codebase inventory and assessment (brownfield)\n├── evolution-roadmap.md       # Gap cards for improvement (brownfield)\n├── setup-context-*.md         # Setup workflow context (temporary)\n└── architect-report.md        # Principal Architect report (temporary)\n```\n\n**Feature-Level (from specify → techspec → plan → tasks):**\n```\nspecs/<###-feature-name>/\n├── spec.md                    # Feature specification\n├── technical/                 # Technical specification artifacts\n│   ├── requirements.md        # TR-XXX technical requirements\n│   ├── constraints.md         # C-XXX constraints\n│   ├── nfrs.md                # NFR-XXX non-functional requirements\n│   ├── integrations.md        # INT-XXX integration maps\n│   └── data-sensitivity.md    # DS-XXX data classifications\n├── plan.md                    # Implementation plan summary\n├── research.md                # Technology decisions\n├── data-model.md              # Entity definitions\n├── quickstart.md              # Integration scenarios\n├── task-mapping.md            # Story-to-component mappings\n├── tasks.md                   # Actionable task list\n├── contracts/                 # API specifications (OpenAPI)\n├── checklists/                # Audit outputs (via /humaninloop:audit)\n└── .workflow/\n    ├── context.md             # Specify workflow context\n    ├── analyst-report.md      # Requirements Analyst output\n    ├── advocate-report.md     # Devil's Advocate output\n    ├── dags/                  # DAG pass history (specify workflow)\n    │   ├── pass-001.json      # First pass DAG\n    │   └── pass-NNN.json      # Subsequent passes\n    ├── techspec-context.md    # Techspec workflow state\n    ├── plan-context.md        # Plan workflow state\n    └── tasks-context.md       # Tasks workflow state\n```\n\n## Specification Format\n\nGenerated specifications include:\n\n- **User Stories** - Prioritized (P1/P2/P3) with acceptance scenarios\n- **Edge Cases** - Boundary conditions and error scenarios\n- **Functional Requirements** - FR-XXX format with RFC 2119 keywords\n- **Key Entities** - Domain concepts without implementation details\n- **Success Criteria** - Measurable, technology-agnostic outcomes\n\n## Task Format\n\nTasks are organized into **cycles** - vertical slices that deliver testable value with TDD discipline.\n\n**Cycle Structure:**\n\n```markdown\n### Cycle N: [Vertical slice description]\n\n> Stories: US-X, US-Y\n> Dependencies: C1, C2 (or \"None\")\n> Type: Foundation | Feature [P]\n\n- [ ] **TN.1**: Write failing test for [behavior] in tests/[path]\n- [ ] **TN.2**: Implement [component] to pass test in src/[path]\n- [ ] **TN.3**: Refactor and verify tests pass\n- [ ] **TN.4**: Demo [behavior], verify acceptance criteria\n\n**Checkpoint**: [Observable outcome when cycle is complete]\n```\n\n**Task ID Format:** `TN.X` where N = cycle number, X = task sequence (e.g., T1.1, T1.2, T2.1)\n\n**Markers:**\n\n| Marker | Meaning |\n|--------|---------|\n| `[P]` | Parallel-eligible (feature cycle can run alongside others) |\n| `[EXTEND]` | Extends existing file (brownfield) |\n| `[MODIFY]` | Modifies existing code (brownfield) |\n\n**Verification Task Format (TEST:):**\n\nUse the unified `TEST:` format for all verification tasks:\n\n```markdown\n- [ ] **TN.4**: **TEST:** - {Description}\n  - **Setup**: {Prerequisites} (optional)\n  - **Action**: {Command or instruction}\n  - **Assert**: {Expected outcome}\n  - **Capture**: {console, screenshot, logs} (optional)\n```\n\nThe testing-agent classifies tasks at runtime (CLI/GUI/SUBJECTIVE) and decides whether to auto-approve or present a human checkpoint. Legacy formats (`TEST:VERIFY`, `TEST:CONTRACT`, `HUMAN VERIFICATION`) are still supported.\n\nAction modifiers: `(background)`, `(timeout Ns)`, `(in {path})`\n\nAssert patterns: `Console contains \"{text}\"`, `File exists: {path}`, `Response status: {code}`\n\n**Cycle Types:**\n\n1. **Foundation Cycles** - Sequential, establish shared infrastructure\n2. **Feature Cycles** - Parallel-eligible, deliver user value independently\n\n### `/humaninloop:audit`\n\nComprehensive artifact analysis with two output modes.\n\n```\n/humaninloop:audit              # Full diagnostic mode (default)\n/humaninloop:audit --review     # Reviewer-facing summary\n/humaninloop:audit --security   # Domain-filtered analysis\n```\n\n**Modes:**\n\n| Mode | Flag | Purpose |\n|------|------|---------|\n| Full | (default) | Deep diagnostics for authors/maintainers |\n| Review | `--review` | Scannable summary for peer reviewers |\n\n**Domain Filters:** `--security`, `--ux`, `--api`, `--performance`\n\n**Features:**\n- Phase-agnostic: works on whatever artifacts exist\n- Leverages existing validation skills\n- Coverage summary with flagged gaps\n- Constitution alignment checks\n- Cross-artifact consistency analysis\n\n**Output (Review Mode):**\n- Coverage table with status indicators\n- Flagged issues (top 10)\n- Metrics summary\n- Recommendation (ready/caution/not ready)\n\n**Output (Full Mode):**\n- Complete findings table\n- Requirement-to-task coverage mapping\n- Constitution alignment issues\n- Unmapped items\n- Remediation suggestions\n\n## Configuration\n\nThe plugin uses:\n- `${CLAUDE_PLUGIN_ROOT}/templates/` - Workflow templates\n- `${CLAUDE_PLUGIN_ROOT}/skills/` - Agent skills (validation, patterns, authoring)\n- `${CLAUDE_PLUGIN_ROOT}/catalogs/` - Node catalogs defining available nodes, edge constraints, and system invariants for DAG-based workflows\n- `.humaninloop/memory/constitution.md` - Project principles (user project)\n\n## License\n\nMIT License - Copyright (c) HumanInLoop (humaninloop.dev)\n"
      },
      "plugins": [
        {
          "name": "humaninloop",
          "source": "./plugins/humaninloop",
          "description": "Specification-driven development workflow: setup → specify → techspec → plan → tasks → implement",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add deepeshBodh/human-in-loop",
            "/plugin install humaninloop@humaninloop-plugins"
          ]
        }
      ]
    }
  ]
}