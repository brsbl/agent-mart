{
  "author": {
    "id": "orban",
    "display_name": "Ryan Orban",
    "avatar_url": "https://avatars.githubusercontent.com/u/332359?u=c330749d553bd397eb2456137fac83f40c2ff7b7&v=4"
  },
  "marketplaces": [
    {
      "name": "orban",
      "version": null,
      "description": "Plugin marketplace for Intent Layer - hierarchical AGENTS.md infrastructure for AI-navigable codebases",
      "repo_full_name": "orban/intent-layer",
      "repo_url": "https://github.com/orban/intent-layer",
      "repo_description": "Custom skills for Claude Code CLI - Intent Layer setup and maintenance",
      "signals": {
        "stars": 2,
        "forks": 0,
        "pushed_at": "2026-02-19T18:17:37Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"orban\",\n  \"owner\": {\n    \"name\": \"Intent Layer Contributors\"\n  },\n  \"metadata\": {\n    \"description\": \"Plugin marketplace for Intent Layer - hierarchical AGENTS.md infrastructure for AI-navigable codebases\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"intent-layer\",\n      \"version\": \"1.0.1\",\n      \"source\": \"./\",\n      \"description\": \"Hierarchical AGENTS.md infrastructure for AI-navigable codebases. Create CLAUDE.md/AGENTS.md files that help AI agents navigate your codebase like senior engineers.\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"intent-layer\",\n  \"version\": \"1.2.0\",\n  \"description\": \"Hierarchical AGENTS.md infrastructure for AI-navigable codebases. Create CLAUDE.md/AGENTS.md files that help AI agents navigate your codebase like senior engineers.\",\n  \"author\": {\n    \"name\": \"Intent Layer Contributors\"\n  },\n  \"keywords\": [\n    \"intent-layer\",\n    \"agents-md\",\n    \"claude-md\",\n    \"documentation\",\n    \"codebase-navigation\",\n    \"ai-infrastructure\"\n  ],\n  \"repository\": \"https://github.com/orban/intent-layer\",\n  \"license\": \"MIT\"\n}\n",
        "README.md": "# Intent Layer Plugin\n\nClaude Code plugin for creating and maintaining Intent Layer infrastructure.\n\n## Philosophy\n\nIntent Layers solve a fundamental problem: **AI agents reading raw code lack the tribal knowledge that experienced engineers have.**\n\nSenior engineers know:\n- Where to start for common tasks\n- What patterns are expected\n- What invariants must never be violated\n- What pitfalls to avoid\n\nIntent Layers compress this knowledge into high-signal AGENTS.md/CLAUDE.md files that give agents the same intuition—without reading thousands of lines of code.\n\n### Core Principles\n\n1. **Compression > Verbosity** - Target 100:1 compression. 200k tokens of code → 2k token node.\n2. **Contracts > Comments** - Document invariants and constraints, not obvious code behavior.\n3. **Pitfalls > Patterns** - What catches people matters more than standard patterns.\n4. **Progressive Disclosure** - Start minimal, agents drill down when needed.\n\n## Installation\n\n### From GitHub (recommended)\n\n```bash\n# Add the marketplace\n/plugin marketplace add orban/intent-layer\n\n# Install the plugin\n/plugin install intent-layer@orban\n```\n\nOr using the CLI:\n\n```bash\nclaude plugin marketplace add orban/intent-layer\nclaude plugin install intent-layer@orban\n```\n\n### From local directory\n\n```bash\n# Clone the repository\ngit clone https://github.com/orban/intent-layer.git\n\n# Install from local path\nclaude plugin install ./intent-layer\n```\n\n## Components\n\n### Skills\n\nInteractive workflows invoked via slash commands:\n\n| Skill | Purpose | Command |\n|-------|---------|---------|\n| `intent-layer` | Set up new Intent Layer infrastructure | `/intent-layer` |\n| `intent-layer-maintenance` | Maintain existing Intent Layers | `/intent-layer-maintenance` |\n| `intent-layer-onboarding` | Orient new developers using Intent Layer | `/intent-layer-onboarding` |\n| `intent-layer-query` | Query Intent Layer for answers | `/intent-layer-query` |\n| `review-mistakes` | Interactive review of pending mistake reports | `/review-mistakes` |\n\n### Agents\n\nSpecialized subagents that Claude invokes automatically when appropriate:\n\n| Agent | Purpose |\n|-------|---------|\n| `explorer` | Analyze directories and propose AGENTS.md content |\n| `validator` | Deep validation that nodes accurately reflect codebase |\n| `auditor` | Find drift between nodes and current code state |\n\n### Hooks\n\nAutomatic event handlers that keep the Intent Layer active during development:\n\n| Hook | Event | Purpose |\n|------|-------|---------|\n| `post-edit-check` | PostToolUse | Remind about Intent Layer coverage after edits |\n| `pre-edit-check` | PreToolUse | Inject pitfalls before edits, warn about uncovered dirs |\n| `inject-learnings` | SessionStart | Inject recent learnings, suggest setup if no Intent Layer |\n| `capture-tool-failure` | PostToolUseFailure | Auto-create skeleton mistake reports on Edit/Write failures |\n| Stop prompt | Stop | LLM evaluates session for learnings to capture |\n\n### Learning Loop\n\nThe plugin implements a continuous, mostly-automated learning loop:\n\n```\nAgent makes mistake → PostToolUseFailure auto-creates skeleton\n                              ↓\n                      Skeleton in .intent-layer/mistakes/pending/\n                              ↓\n                      Stop hook evaluates: enrich or discard?\n                              ↓\n                      Next session: Agent offers interactive review\n                      or user runs /review-mistakes\n                              ↓\n                      User decides: Accept / Reject / Discard\n                              ↓ (on accept)\n                      Auto-integrated via lib/integrate_pitfall.sh\n                      Pitfall added to covering AGENTS.md\n                              ↓\n                      Next session: SessionStart injects learnings\n                              ↓\n                      PreToolUse injects relevant pitfalls before edits\n```\n\n**Interactive review**: When pending reports exist, the agent offers to walk you through them conversationally. You can also explicitly run `/review-mistakes` to start a review session.\n\n**Supporting scripts:**\n\n| Script | Purpose |\n|--------|---------|\n| `lib/integrate_pitfall.sh` | Auto-add pitfalls to covering AGENTS.md |\n| `scripts/capture_mistake.sh` | Manual capture (if auto-capture missed something) |\n| `scripts/review_mistakes.sh` | Terminal-based review (alternative to agent) |\n\n## Usage\n\n### Initial Setup\n\n```bash\n# Check if Intent Layer exists\n./scripts/detect_state.sh /path/to/project\n\n# Analyze token distribution\n./scripts/estimate_all_candidates.sh /path/to/project\n\n# Create nodes using the skill\n# Then in Claude Code: /intent-layer /path/to/project\n```\n\n### Maintenance\n\n```bash\n# Detect which nodes need review after changes\n./scripts/detect_changes.sh main HEAD\n\n# Generate pain point capture template\n./scripts/capture_pain_points.sh pain_points.md\n\n# Run maintenance workflow\n# In Claude Code: /intent-layer-maintenance /path/to/project\n```\n\n### Onboarding\n\n```bash\n# Generate orientation overview\n./scripts/generate_orientation.sh /path/to/project\n\n# Or use the skill interactively\n# In Claude Code: /intent-layer-onboarding /path/to/project\n```\n\n## Plugin Structure\n\n```\nintent-layer-plugin/\n├── .claude-plugin/\n│   └── plugin.json          # Plugin manifest\n├── skills/                   # Slash-command skills\n│   ├── intent-layer/\n│   ├── intent-layer-maintenance/\n│   ├── intent-layer-onboarding/\n│   └── intent-layer-query/\n├── agents/                   # Specialized subagents\n│   ├── explorer.md\n│   ├── validator.md\n│   └── auditor.md\n├── hooks/\n│   └── hooks.json            # PostToolUse hook config\n├── scripts/                  # Shared bash scripts\n└── references/               # Templates and guides\n```\n\n## Script Features\n\nAll scripts support:\n- `-h` / `--help` for usage information\n- `set -euo pipefail` for robust error handling\n- Cross-platform compatibility (macOS + Linux)\n- Detailed error messages with remediation hints\n- Consistent exclusion of generated directories (node_modules, dist, etc.)\n\n## When to Use\n\n### intent-layer\n\n**Good for:**\n- New projects that will be touched by AI agents\n- Existing codebases where agents struggle to navigate\n- Monorepos with complex subsystem boundaries\n- Codebases with non-obvious contracts or invariants\n\n**Not good for:**\n- Tiny scripts or single-file projects\n- Projects that change so rapidly the docs would be stale immediately\n- Codebases you won't use AI agents on\n\n### intent-layer-maintenance\n\n**Good for:**\n- Quarterly reviews of existing Intent Layers\n- Post-incident updates (adding pitfalls, updating contracts)\n- Post-refactor updates (moving entry points, changing boundaries)\n- When agents consistently get confused about something\n\n**Not good for:**\n- Initial setup (use `intent-layer` first)\n- Minor cosmetic changes that don't affect behavior\n\n## CI Integration\n\nThe plugin includes `detect_staleness.sh` for automated staleness checks in CI pipelines. The script exits with code 2 when stale nodes are found, making it easy to fail builds or create warnings.\n\n### GitHub Actions\n\n```yaml\n# .github/workflows/intent-layer.yml\nname: Intent Layer Check\n\non:\n  pull_request:\n  push:\n    branches: [main]\n\njobs:\n  staleness:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n        with:\n          fetch-depth: 0  # Needed for git history analysis\n\n      - name: Check Intent Layer staleness\n        run: |\n          ./scripts/detect_staleness.sh --code-changes --threshold 30\n        continue-on-error: true  # Warning only, or remove for hard fail\n```\n\n### GitLab CI\n\n```yaml\n# .gitlab-ci.yml\nintent-layer:check:\n  stage: test\n  script:\n    - ./scripts/detect_staleness.sh --code-changes\n  allow_failure: true  # Warning only\n  only:\n    - merge_requests\n```\n\n### Exit Codes\n\n| Code | Meaning |\n|------|---------|\n| 0 | No stale nodes found |\n| 1 | Error (invalid path, etc.) |\n| 2 | Stale nodes found |\n\n### Useful Options\n\n- `--code-changes`: Flag nodes where code changed more recently than the node\n- `--threshold N`: Days since node update to consider stale (default: 90)\n- `--quiet`: Output only paths (useful for scripting)\n\n### PR Review Integration\n\nFor PR-specific checks, use `review_pr.sh` which validates changes against Intent Layer contracts:\n\n```yaml\n- name: Review PR against Intent Layer\n  if: github.event_name == 'pull_request'\n  run: |\n    ./scripts/review_pr.sh origin/${{ github.base_ref }} HEAD\n```\n"
      },
      "plugins": [
        {
          "name": "intent-layer",
          "version": "1.0.1",
          "source": "./",
          "description": "Hierarchical AGENTS.md infrastructure for AI-navigable codebases. Create CLAUDE.md/AGENTS.md files that help AI agents navigate your codebase like senior engineers.",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add orban/intent-layer",
            "/plugin install intent-layer@orban"
          ]
        }
      ]
    }
  ]
}