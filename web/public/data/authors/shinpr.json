{
  "author": {
    "id": "shinpr",
    "display_name": "shinpr",
    "avatar_url": "https://avatars.githubusercontent.com/u/52246947?u=92f690889f5a7148b8eca83b8aed4be3608a4f59&v=4"
  },
  "marketplaces": [
    {
      "name": "rashomon",
      "version": null,
      "description": "Prompt comparison and optimization learning plugin for Claude Code",
      "repo_full_name": "shinpr/rashomon",
      "repo_url": "https://github.com/shinpr/rashomon",
      "repo_description": "Compare, improve, and verify prompt changes with evidence — not vibes.",
      "signals": {
        "stars": 7,
        "forks": 0,
        "pushed_at": "2026-01-29T08:09:56Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"rashomon\",\n  \"description\": \"Prompt comparison and optimization learning plugin for Claude Code\",\n  \"owner\": {\n    \"name\": \"shinpr\"\n  },\n  \"metadata\": {\n    \"description\": \"Prompt comparison and optimization learning plugin for Claude Code\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"rashomon\",\n      \"description\": \"Compare original and optimized prompts by parallel execution in git worktrees\",\n      \"version\": \"0.1.1\",\n      \"author\": {\n        \"name\": \"shinpr\"\n      },\n      \"source\": \"./\",\n      \"category\": \"learning\",\n      \"homepage\": \"https://github.com/shinpr/rashomon\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"rashomon\",\n  \"description\": \"Compare original and optimized prompts by parallel execution in git worktrees and generate comparison reports to facilitate prompt engineering learning\",\n  \"version\": \"0.1.1\",\n  \"author\": {\n    \"name\": \"Rashomon Project\"\n  },\n  \"keywords\": [\n    \"prompt-engineering\",\n    \"comparison\",\n    \"optimization\",\n    \"learning\",\n    \"rashomon\"\n  ],\n  \"license\": \"MIT\"\n}\n",
        "README.md": "<p align=\"center\">\n  <img src=\"assets/rashomon-banner.jpg\" width=\"600\" alt=\"Rashomon\">\n</p>\n\n<p align=\"center\">\n  <a href=\"https://claude.ai/code\"><img src=\"https://img.shields.io/badge/Claude%20Code-Plugin-purple\" alt=\"Claude Code\"></a>\n  <a href=\"LICENSE\"><img src=\"https://img.shields.io/badge/License-MIT-blue\" alt=\"License\"></a>\n</p>\n\n**See what actually changes when you improve your prompts — not just different wording.**\n\n## Why rashomon?\n\n> Inspired by the *Rashomon effect* — the idea that the same event can produce different outcomes depending on perspective.\n> rashomon makes those differences explicit and comparable.\n\n- Spending too much time on trial-and-error with prompts?\n- Read best practices but not sure how they apply to your case?\n- Want proof that your changes actually made things better?\n\n**rashomon** analyzes, improves, and compares prompts—so you can see what *actually* changed, and whether it matters.\n\n### Who Is This For?\n\nrashomon is designed for:\n- Developers using Claude Code daily\n- Teams iterating on complex prompts (coding, analysis, writing)\n- Anyone who wants **evidence**, not vibes, when improving prompts\n\nNot ideal if:\n- You don't use git\n- You want one-shot prompt rewriting without comparison\n\n## Quick Example\n\n```\n/rashomon Write a function to sort an array\n```\n\n### What You Get\n\n**1. Detected Issues**\n```\n- BP-002 (Vague Instructions): Sort order, language, and error handling not specified\n- BP-003 (Missing Output Format): No expected output structure defined\n```\n\n**2. Improved Prompt**\n```\nWrite a TypeScript function that sorts a number array in ascending order.\n- Return empty array for empty input\n- Include JSDoc comments\n- Output: function code with example usage\n```\n\n**3. Comparison Report**\n\n| Aspect | Original | Improved |\n|--------|----------|----------|\n| Type definitions | None | Included |\n| Edge case handling | None | Included |\n| Documentation | None | JSDoc added |\n\n**Result: Structural Improvement** - The optimization made a meaningful difference.\n\n### Example: When rashomon finds no real improvement\n\n```\n/rashomon Summarize this article in 3 bullet points\n```\n\n**Result: Variance** - Prompt was already well-scoped; differences were stylistic only.\n\n## Installation\n\n> Requires [Claude Code](https://claude.ai/code) (this is a Claude Code plugin)\n\n```bash\n# 1. Start Claude Code\nclaude\n\n# 2. Install the marketplace\n/plugin marketplace add shinpr/rashomon\n\n# 3. Install plugin\n/plugin install rashomon@rashomon\n\n# 4. Restart session (required)\n# Exit and restart Claude Code\n```\n\n## Usage\n\n```\n/rashomon Your prompt here\n```\n\nFrom a file:\n```\n/rashomon Generate code following this skill: ./prompts/my-skill.md\n```\n\nFor complex tasks that need more time, just mention it in natural language:\n```\n/rashomon Refactor the entire authentication module. This might take a while.\n```\n\n## How It Works\n\n```\nYour Prompt\n    ↓\n1. Analyze    → Detect common issues automatically\n    ↓\n2. Improve    → Generate optimized version\n    ↓\n3. Run Both   → Execute in isolated environments\n    ↓\n4. Compare    → Show what actually changed\n    ↓\nComparison Report\n```\n\n<details>\n<summary>Technical Details</summary>\n\n### Isolated Execution\n\nrashomon uses **git worktrees** to run both prompts in completely separate environments. A worktree is a Git feature that creates independent working directories from the same repository—this ensures the two executions don't interfere with each other.\n\n### Parallel Execution\n\nBoth prompts run simultaneously via Claude Code subagents, so comparison time is roughly the same as a single execution, not double.\n\n### Architecture\n\n```\nMain Orchestrator\n    ├── prompt-analyzer (analyzes and optimizes)\n    ├── prompt-executor ×2 (runs in parallel)\n    └── report-generator (compares results)\n```\n\n</details>\n\n## What It Detects\n\nrashomon checks for 8 common prompt issues:\n\n| Priority | Issues |\n|----------|--------|\n| **Critical** | Negative instructions (\"don't do X\"), vague instructions, missing output format |\n| **High Impact** | Unstructured prompts, missing context, complex tasks without breakdown |\n| **Enhancement** | Biased examples, no permission for uncertainty |\n\n<details>\n<summary>Pattern Details (BP-001 through BP-008)</summary>\n\n### P1: Critical (Must Fix)\n\n| ID | Pattern | Problem | Fix |\n|----|---------|---------|-----|\n| BP-001 | Negative Instructions | \"Don't do X\" often backfires—LLMs focus on what's mentioned | Reframe positively: \"Don't include opinions\" → \"Include only factual information\" |\n| BP-002 | Vague Instructions | Missing specifics cause high output variance | Add explicit constraints: format, length, scope, tone |\n| BP-003 | Missing Output Format | No format spec leads to inconsistent outputs | Define expected structure: JSON schema, section headers, etc. |\n\n### P2: High Impact (Should Fix)\n\n| ID | Pattern | Problem | Fix |\n|----|---------|---------|-----|\n| BP-004 | Unstructured Prompt | Wall of text obscures priorities | Apply 4-block pattern: Context / Task / Constraints / Output Format |\n| BP-005 | Missing Context | No background leads to wrong assumptions | Add purpose, audience, relevant constraints |\n| BP-006 | Complex Task | Undivided complex tasks have higher error rates | Break into steps with quality checkpoints |\n\n### P3: Enhancement (Could Fix)\n\n| ID | Pattern | Problem | Fix |\n|----|---------|---------|-----|\n| BP-007 | Biased Examples | Homogeneous examples cause overfitting | Diversify: include edge cases, different formats |\n| BP-008 | No Uncertainty Permission | No \"I don't know\" option causes hallucination | Add: \"If unsure, say so\" |\n\n</details>\n\n## Improvement Classification\n\nNot all differences are improvements. rashomon classifies results into three categories:\n\n| Classification | Meaning | Recommendation |\n|---------------|---------|----------------|\n| **Structural** | Real improvement in accuracy, completeness, or quality | Use the optimized prompt |\n| **Expressive** | Different wording, same substance | Either version is fine |\n| **Variance** | Just normal LLM randomness | Original prompt was already good |\n\nClassification is based on:\n- Whether detected issues (BP patterns) were resolved\n- Output completeness and constraint adherence\n- Consistency across multiple evaluation signals\n\n<details>\n<summary>About Knowledge Base</summary>\n\n## Knowledge Base\n\nrashomon learns from your project over time.\n\n**Location**: `.claude/.rashomon/prompt-knowledge.yaml`\n\n**How it works**:\n- Automatically enabled when the file exists\n- Stores project-specific patterns (not generic best practices)\n- Referenced during analysis, updated after comparisons\n- Max 20 entries, lowest-confidence ones removed first\n\n**Key principle**: Old knowledge isn't automatically removed. Patterns that have worked for a long time are often the most valuable.\n\n</details>\n\n<details>\n<summary>Troubleshooting</summary>\n\n## Troubleshooting\n\n### Leftover worktrees\n\nIf rashomon exits unexpectedly, temporary directories might remain:\n\n```bash\n# Worktrees are stored in system temp directory\n# Clean up manually if needed:\nrm -rf ${TMPDIR:-/tmp}/worktree-rashomon-*\n```\n\n### Timeout issues\n\nFor complex prompts that need more time, mention it when invoking:\n\n```\n/rashomon Complex task here. This might take longer than usual.\n```\n\n### \"Not a git repository\" error\n\nrashomon requires a git repository. Initialize one with:\n\n```bash\ngit init\n```\n\n</details>\n\n## Requirements\n\n- Git 2.5+\n- Claude Code\n- Must run inside a git repository\n\n## License\n\nMIT\n"
      },
      "plugins": [
        {
          "name": "rashomon",
          "description": "Compare original and optimized prompts by parallel execution in git worktrees",
          "version": "0.1.1",
          "author": {
            "name": "shinpr"
          },
          "source": "./",
          "category": "learning",
          "homepage": "https://github.com/shinpr/rashomon",
          "categories": [
            "learning"
          ],
          "install_commands": [
            "/plugin marketplace add shinpr/rashomon",
            "/plugin install rashomon@rashomon"
          ]
        }
      ]
    }
  ]
}