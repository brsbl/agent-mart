{
  "author": {
    "id": "MarioGiancini",
    "display_name": "Mario",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/1424538?u=4b77b2544d7230eaa1f1eb5114344aa179f31d2f&v=4",
    "url": "https://github.com/MarioGiancini",
    "bio": "AI Engineering Leader | Idea Architect",
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 1,
      "total_commands": 1,
      "total_skills": 1,
      "total_stars": 0,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "conductor-protocol",
      "version": null,
      "description": "Multi-agent orchestration plugins for Claude Code",
      "owner_info": {
        "name": "Mario Giancini",
        "email": "mario.giancini@gmail.com"
      },
      "keywords": [],
      "repo_full_name": "MarioGiancini/conductor-protocol",
      "repo_url": "https://github.com/MarioGiancini/conductor-protocol",
      "repo_description": "Multi-agent orchestration protocol for coordinating parallel Claude instances",
      "homepage": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-17T22:59:18Z",
        "created_at": "2026-01-17T22:24:00Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 630
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 640
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 6278
        },
        {
          "path": "commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "commands/conductor.md",
          "type": "blob",
          "size": 8449
        },
        {
          "path": "skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/conductor",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/conductor/SKILL.md",
          "type": "blob",
          "size": 10997
        },
        {
          "path": "skills/conductor/protocol.md",
          "type": "blob",
          "size": 10192
        },
        {
          "path": "skills/conductor/schema.md",
          "type": "blob",
          "size": 10248
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"conductor-protocol\",\n  \"owner\": {\n    \"name\": \"Mario Giancini\",\n    \"email\": \"mario.giancini@gmail.com\"\n  },\n  \"metadata\": {\n    \"description\": \"Multi-agent orchestration plugins for Claude Code\",\n    \"version\": \"1.0.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"conductor-protocol\",\n      \"source\": \"./\",\n      \"description\": \"Multi-agent orchestration protocol for coordinating parallel Claude instances\",\n      \"version\": \"1.0.0\",\n      \"author\": {\n        \"name\": \"Mario Giancini\"\n      },\n      \"category\": \"productivity\",\n      \"keywords\": [\"orchestration\", \"multi-agent\", \"coordination\", \"parallel\"]\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"conductor-protocol\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Multi-agent orchestration protocol for coordinating parallel Claude instances. Prevents file conflicts, enforces priority alignment, and provides real-time visibility across all running agents.\",\n  \"author\": {\n    \"name\": \"Mario Giancini\",\n    \"email\": \"mario.giancini@gmail.com\",\n    \"url\": \"https://mariogiancini.com\"\n  },\n  \"repository\": \"https://github.com/MarioGiancini/conductor-protocol\",\n  \"keywords\": [\n    \"orchestration\",\n    \"multi-agent\",\n    \"coordination\",\n    \"parallel\",\n    \"conflict-prevention\",\n    \"priority-alignment\"\n  ],\n  \"license\": \"MIT\"\n}\n",
        "README.md": "# Conductor Protocol\n\nA Claude Code plugin for multi-agent orchestration. Coordinate parallel Claude instances to prevent file conflicts, enforce priority alignment, and maintain visibility across all running agents.\n\n## The Problem\n\nWhen running 3-5+ Claude instances simultaneously:\n- **Conflicting changes**: Two agents edit the same file\n- **Strategic drift**: Agents work on low-priority tasks\n- **Lost visibility**: No idea what each instance is doing\n- **Wasted effort**: Duplicate work or incompatible changes\n\n## The Solution\n\nA lightweight coordination protocol where:\n1. Each agent **registers** when starting a task\n2. Agents **claim files** before editing them\n3. A **priority gate** rejects misaligned work\n4. A **status dashboard** shows all activity\n\n## Installation\n\n### Plugin Install\n\n```bash\n# Add the marketplace\nclaude plugin marketplace add MarioGiancini/conductor-protocol\n\n# Install the plugin\nclaude plugin install conductor-protocol\n```\n\n### Updating\n\n```bash\n# Update marketplace cache first\nclaude plugin marketplace update conductor-protocol\n\n# Update the plugin\nclaude plugin update conductor-protocol@conductor-protocol\n```\n\n## Quick Start\n\n```bash\n# 1. Start a task (registers you in the conductor)\n/conductor start \"Fix auth bug\" --project pitchello --priority P1\n\n# 2. Claim files before editing\n/conductor claim src/api/users.ts src/lib/auth.ts\n\n# 3. Do your work...\n\n# 4. When done, release claims and log completion\n/conductor done\n\n# Anytime: Check what all instances are doing\n/conductor status\n```\n\n## Commands\n\n| Command | Description |\n|---------|-------------|\n| `/conductor start \"task\" --project --priority` | Register a new task |\n| `/conductor status` | Show all active instances |\n| `/conductor claim <files>` | Lock files before editing |\n| `/conductor release [files]` | Release file claims |\n| `/conductor done` | Complete task and release all claims |\n| `/conductor align \"task\"` | Check task against north-stars |\n| `/conductor conflicts` | Show active conflicts |\n| `/conductor cleanup` | Remove orphaned instances |\n\n## How It Works\n\n### Instance Lifecycle\n\n```\n/conductor start \"Fix auth bug\" --project pitchello --priority P1\n         │\n         ▼\n  ┌─────────────────┐\n  │ Priority Check  │──Fail──▶ ⚠️ Drift warning\n  └────────┬────────┘\n           │ Pass\n           ▼\n/conductor claim src/auth.ts\n         │\n         ▼\n  ┌─────────────────┐\n  │ Conflict Check  │──Conflict──▶ ⚠️ File locked\n  └────────┬────────┘\n           │ Clear\n           ▼\n  ✅ Work on task\n           │\n           ▼\n/conductor done\n         │\n         ▼\n  ✅ Claims released, logged to history\n```\n\n### Status Dashboard\n\n```\n/conductor status\n\n┌─────────────────────────────────────────────────────────────┐\n│ CONDUCTOR STATUS - 2026-01-17 10:30                         │\n├─────────────────────────────────────────────────────────────┤\n│ ACTIVE INSTANCES (3)                                        │\n├─────────────────────────────────────────────────────────────┤\n│ [itm-a1b2] pitchello       │ P1 │ Fix auth bug      │ 45m  │\n│            └─ src/api/users.ts, src/lib/auth.ts             │\n│                                                             │\n│ [cur-c3d4] mission-control │ P1 │ Lead scoring API  │ 30m  │\n│            └─ app/api/agent/leads/*                         │\n│                                                             │\n│ [web-e5f6] digital-self    │ P2 │ Content draft     │ 15m  │\n│            └─ (no files claimed)                            │\n├─────────────────────────────────────────────────────────────┤\n│ CONFLICTS: None                                             │\n│ DRIFT WARNINGS: 1 (web-e5f6 working on P2 during P1 sprint) │\n└─────────────────────────────────────────────────────────────┘\n```\n\n## State Files\n\nAll state lives in `~/.conductor/`:\n\n| File | Purpose |\n|------|---------|\n| `status.json` | Current instance state and file claims |\n| `history.jsonl` | Completed tasks log |\n| `sprint.json` | Optional sprint focus configuration |\n| `conflicts.log` | Conflict history for pattern analysis |\n\n## Priority Levels\n\n| Level | Description | Examples |\n|-------|-------------|----------|\n| P1 | Critical, sprint-blocking | Revenue features, production bugs |\n| P2 | Important, planned work | Backlog items, improvements |\n| P3 | Nice-to-have, opportunistic | Refactoring, documentation |\n\n**Priority Gate Rule:** During focused sprints, P3 work requires explicit override.\n\n## Integration\n\n### With Daily Workflows\n\n- `/daily-brief` can show conductor status at session start\n- `/shutdown` can run `/conductor done` to release claims\n\n### With Strategic Alignment\n\n- `/conductor align` checks tasks against north-stars.md\n- Sprint focus can be configured via `~/.conductor/sprint.json`\n\n## Philosophy\n\n> \"Progress should persist. Failures should evaporate. Conflicts should be prevented.\"\n\n- **File claiming** prevents merge conflicts before they happen\n- **Priority gates** keep work aligned with strategic goals\n- **Visibility** lets you orchestrate multiple agents confidently\n\n## Requirements\n\n- Claude Code CLI\n- `jq` (for JSON parsing)\n\n## Credits\n\n- Inspired by [Boris Cherny's 15-parallel-instance workflow](https://x.com/aakashgupta/status/2012396910221693216)\n- Built for the [digital-self](https://github.com/MarioGiancini) multi-agent architecture\n\n## License\n\nMIT\n",
        "commands/conductor.md": "---\ndescription: Multi-agent orchestration - start tasks, claim files, check status, prevent conflicts\nallowed-tools: Read, Write, Edit, Bash, Glob, Grep\nargument-hint: <subcommand> [args]\n---\n\n# /conductor Command\n\nCoordinate multiple Claude instances to prevent conflicts and maintain strategic alignment.\n\n## Subcommands\n\nParse $ARGUMENTS to determine which subcommand to run:\n\n- `start \"task\" --project name --priority P1|P2|P3` - Register a new task\n- `status` - Show all active instances\n- `claim path/to/file.ts [more files...]` - Lock files before editing\n- `release [file] | --all` - Release file claims\n- `done` - Complete task and release all claims\n- `align \"task description\"` - Check task against north-stars\n- `conflicts` - Show active conflicts\n- `cleanup` - Remove orphaned instances\n- `reset` - Reset status file (backup current state first)\n\n## Setup Check\n\nFirst, ensure the conductor directory and files exist:\n\n```bash\n# Check if status.json exists\nif [[ ! -f ~/.conductor/status.json ]]; then\n  # Create initial empty state\n  echo '{\n  \"version\": \"1.0\",\n  \"updated_at\": \"'$(date -u +%Y-%m-%dT%H:%M:%SZ)'\",\n  \"instances\": [],\n  \"global_claims\": {},\n  \"drift_warnings\": []\n}' > ~/.conductor/status.json\nfi\n```\n\n## Subcommand: start\n\nWhen $ARGUMENTS starts with \"start\":\n\n1. Parse arguments:\n   - Task description (quoted string after \"start\")\n   - `--project` flag value\n   - `--priority` flag value (P1, P2, or P3)\n   - `--override` flag value (optional justification)\n\n2. Detect source environment:\n   - Check `$CURSOR_SESSION` for Cursor\n   - Check `$TERM_PROGRAM` for iTerm\n   - Default to \"web\" if unknown\n\n3. Generate instance ID:\n   ```bash\n   source_prefix=\"itm\"  # or cur, vsc, web, cow\n   random_suffix=$(openssl rand -hex 3)\n   instance_id=\"${source_prefix}-${random_suffix}\"\n   ```\n\n4. Priority gate check:\n   - If priority is P1, pass automatically\n   - If priority is P2 or P3, check `~/.conductor/sprint.json` if it exists\n   - If sprint focus is P1 and task is lower priority, require `--override`\n\n5. Add instance to status.json using jq:\n   ```bash\n   jq --arg id \"$instance_id\" \\\n      --arg source \"$source\" \\\n      --arg project \"$project\" \\\n      --arg task \"$task\" \\\n      --arg priority \"$priority\" \\\n      --arg started \"$(date -u +%Y-%m-%dT%H:%M:%SZ)\" \\\n      --arg heartbeat \"$(date -u +%Y-%m-%dT%H:%M:%SZ)\" \\\n      --arg workdir \"$(pwd)\" \\\n      '.instances += [{\n        id: $id,\n        source: $source,\n        project: $project,\n        task: $task,\n        priority: $priority,\n        files_claimed: [],\n        started_at: $started,\n        last_heartbeat: $heartbeat,\n        working_directory: $workdir\n      }] | .updated_at = $heartbeat' ~/.conductor/status.json > ~/.conductor/status.json.tmp \\\n      && mv ~/.conductor/status.json.tmp ~/.conductor/status.json\n   ```\n\n6. Store instance ID for this session (for subsequent commands):\n   - Write to `~/.conductor/current_instance`\n   - Or announce it clearly so the agent remembers it\n\n7. Output:\n   ```\n   ✅ Registered as [instance_id]\n   Project: [project]\n   Task: [task]\n   Priority: [priority]\n\n   Next: Use `/conductor claim <files>` to lock files before editing.\n   ```\n\n## Subcommand: status\n\nWhen $ARGUMENTS is \"status\" or empty:\n\n1. Read ~/.conductor/status.json\n2. Format as dashboard:\n\n```\n┌─────────────────────────────────────────────────────────────┐\n│ CONDUCTOR STATUS - [timestamp]                              │\n├─────────────────────────────────────────────────────────────┤\n│ ACTIVE INSTANCES ([count])                                  │\n├─────────────────────────────────────────────────────────────┤\n│ [id] [project]      │ [priority] │ [task]          │ [age] │\n│      └─ [claimed files list]                                │\n│                                                             │\n│ [repeat for each instance]                                  │\n├─────────────────────────────────────────────────────────────┤\n│ CONFLICTS: [count or \"None\"]                                │\n│ DRIFT WARNINGS: [count with details]                        │\n└─────────────────────────────────────────────────────────────┘\n```\n\n3. Calculate age from `started_at` to now\n4. Highlight any orphaned instances (heartbeat > 60 min ago)\n\n## Subcommand: claim\n\nWhen $ARGUMENTS starts with \"claim\":\n\n1. Get current instance ID from `~/.conductor/current_instance` or ask user\n2. Parse file paths from arguments\n3. For each file:\n   - Check if in `global_claims`\n   - If claimed by another, report conflict\n   - If unclaimed, add to claims\n\n4. Update status.json:\n   ```bash\n   jq --arg id \"$instance_id\" \\\n      --arg file \"$filepath\" \\\n      '.instances |= map(if .id == $id then .files_claimed += [$file] else . end)\n       | .global_claims[$file] = $id\n       | .updated_at = (now | todate)' ~/.conductor/status.json\n   ```\n\n5. Output:\n   - Success: \"✅ Claimed: [files]. Safe to edit.\"\n   - Conflict: \"⚠️ CONFLICT: [file] is claimed by [instance] ([task]). Coordinate or wait.\"\n\n## Subcommand: done\n\nWhen $ARGUMENTS is \"done\":\n\n1. Get current instance ID\n2. Get list of files that were claimed\n3. Remove instance from status.json:\n   ```bash\n   jq --arg id \"$instance_id\" \\\n      'del(.instances[] | select(.id == $id))\n       | .global_claims |= with_entries(select(.value != $id))\n       | .updated_at = (now | todate)' ~/.conductor/status.json\n   ```\n\n4. Append to history.jsonl:\n   ```bash\n   echo '{\"id\":\"'$instance_id'\",\"project\":\"'$project'\",\"task\":\"'$task'\",...,\"outcome\":\"success\"}' >> ~/.conductor/history.jsonl\n   ```\n\n5. Clear current_instance file\n6. Output: \"✅ Task complete. All claims released.\"\n\n## Subcommand: release\n\nWhen $ARGUMENTS starts with \"release\":\n\n1. If `--all`, release all files for current instance\n2. Otherwise, release specific files listed\n3. Update status.json to remove from both instance's files_claimed and global_claims\n4. Output: \"✅ Released: [files]\"\n\n## Subcommand: align\n\nWhen $ARGUMENTS starts with \"align\":\n\n1. Parse task description\n2. Read north-stars from `~/Developer/digital-self/2-areas/personal/north-stars.md`\n3. Check alignment with:\n   - Priority hierarchy (Pitchello > LP > Self Engineer > Personal)\n   - Current quarterly goals\n   - Anti-goals (what we're NOT optimizing for)\n\n4. Output assessment:\n   ```\n   ALIGNMENT CHECK: \"[task]\"\n\n   ✅ Aligns with: [north-star priority]\n   ⚠️ Concern: [any misalignment]\n\n   Recommendation: [proceed/defer/reconsider]\n   ```\n\n## Subcommand: conflicts\n\nWhen $ARGUMENTS is \"conflicts\":\n\n1. Scan global_claims for any issues\n2. Check for orphaned claims (instance gone but claims remain)\n3. Report any active conflicts\n4. Output detailed conflict information\n\n## Subcommand: cleanup\n\nWhen $ARGUMENTS is \"cleanup\":\n\n1. Find instances with last_heartbeat > 60 minutes ago\n2. For each orphan:\n   - Release their claims\n   - Log to history with outcome \"orphaned\"\n   - Remove from status.json\n3. Output: \"✅ Cleaned up [count] orphaned instances\"\n\n## Subcommand: reset\n\nWhen $ARGUMENTS is \"reset\":\n\n1. Backup current status.json to history\n2. Create fresh empty status.json\n3. Output: \"✅ Status reset. Previous state backed up to history.\"\n\n## State File Location\n\nAll state lives in `~/.conductor/`:\n- `status.json` - Current instance state\n- `history.jsonl` - Completed task log\n- `current_instance` - This session's instance ID\n- `sprint.json` - Optional sprint focus configuration\n\n## Error Handling\n\n- If status.json is corrupted, offer to reset\n- If instance ID not found, prompt to run `/conductor start` first\n- If file claims fail, suggest `--force` option for human override\n\n## See Also\n\nRead the full skill documentation at `~/.claude/skills/conductor/SKILL.md` for:\n- Complete protocol specification\n- JSON schemas\n- Integration patterns\n",
        "skills/conductor/SKILL.md": "---\nname: conductor\ndescription: \"Multi-agent orchestration protocol for coordinating parallel Claude instances. Prevents file conflicts, enforces priority alignment, and provides real-time visibility across all running agents. Use /conductor to start tasks, claim files, check status, and release claims.\"\nallowed-tools: Read, Write, Edit, Glob, Grep, Bash\n---\n\n# Conductor: Multi-Agent Orchestration Protocol\n\nConductor coordinates multiple Claude Code instances working in parallel. It prevents conflicts, enforces strategic alignment, and provides visibility into what each agent is doing.\n\n## Quick Reference\n\n```bash\n/conductor start \"task description\" --project name --priority P1|P2|P3\n/conductor status                    # Show all active instances\n/conductor claim path/to/file.ts     # Lock files before editing\n/conductor release                   # Release your file claims\n/conductor done                      # Mark task complete, release all claims\n/conductor align                     # Check task against north-stars\n/conductor conflicts                 # Show any active conflicts\n```\n\n## Core Concepts\n\n### The Problem\n\nWhen running 3-5+ Claude instances simultaneously:\n- **Conflicting changes**: Two agents edit the same file\n- **Strategic drift**: Agents work on low-priority tasks\n- **Lost visibility**: No idea what each instance is doing\n- **Wasted effort**: Duplicate work or incompatible changes\n\n### The Solution\n\nA lightweight coordination protocol where:\n1. Each agent **registers** when starting a task\n2. Agents **claim files** before editing them\n3. A **priority gate** rejects misaligned work\n4. A **status dashboard** shows all activity\n\n## How It Works\n\n### Status File Location\n\nGlobal coordination state lives at:\n```\n~/.conductor/\n├── status.json      # Current state of all instances\n├── history.jsonl    # Completed tasks log\n└── conflicts.log    # Conflict history for learning\n```\n\n### Instance Lifecycle\n\n```\n┌─────────────────────────────────────────────────────────────┐\n│                    INSTANCE LIFECYCLE                       │\n├─────────────────────────────────────────────────────────────┤\n│                                                             │\n│   /conductor start \"Fix auth bug\" --project pitchello      │\n│          │                                                  │\n│          ▼                                                  │\n│   ┌─────────────────┐                                       │\n│   │ Priority Check  │──Fail──▶ ⚠️ Drift warning            │\n│   │ (vs north-stars)│         (require override)            │\n│   └────────┬────────┘                                       │\n│            │ Pass                                           │\n│            ▼                                                │\n│   ┌─────────────────┐                                       │\n│   │ Register in     │                                       │\n│   │ status.json     │                                       │\n│   └────────┬────────┘                                       │\n│            │                                                │\n│            ▼                                                │\n│   /conductor claim src/auth.ts src/lib/session.ts          │\n│          │                                                  │\n│          ▼                                                  │\n│   ┌─────────────────┐                                       │\n│   │ Conflict Check  │──Conflict──▶ ⚠️ File locked          │\n│   └────────┬────────┘              (coordinate)             │\n│            │ Clear                                          │\n│            ▼                                                │\n│   ✅ Work on task (files are claimed)                      │\n│            │                                                │\n│            ▼                                                │\n│   /conductor done                                           │\n│          │                                                  │\n│          ▼                                                  │\n│   ┌─────────────────┐                                       │\n│   │ Release claims  │                                       │\n│   │ Log to history  │                                       │\n│   │ Remove from     │                                       │\n│   │ status.json     │                                       │\n│   └─────────────────┘                                       │\n│                                                             │\n└─────────────────────────────────────────────────────────────┘\n```\n\n## Commands Detail\n\n### /conductor start\n\nRegister a new task with the conductor.\n\n```bash\n/conductor start \"Implement user authentication\" --project pitchello --priority P1\n```\n\n**What it does:**\n1. Generates unique instance ID (e.g., `itm-a1b2c3`)\n2. Checks priority against north-stars alignment\n3. Registers in `~/.conductor/status.json`\n4. Returns instance ID for reference\n\n**Flags:**\n- `--project` (required): Project name (pitchello, mission-control, digital-self, etc.)\n- `--priority` (required): P1 (critical), P2 (important), P3 (nice-to-have)\n- `--override` (optional): Skip priority gate with justification\n\n### /conductor claim\n\nLock files before editing to prevent conflicts.\n\n```bash\n/conductor claim src/api/users.ts src/lib/auth.ts\n```\n\n**What it does:**\n1. Checks if any file is already claimed\n2. If clear, adds files to your instance's `files_claimed` array\n3. If conflict, shows who has the file and suggests coordination\n\n**Best practice:** Claim files at the start of work, not mid-task.\n\n### /conductor status\n\nShow dashboard of all active instances.\n\n```bash\n/conductor status\n```\n\n**Output:**\n```\n┌─────────────────────────────────────────────────────────────┐\n│ CONDUCTOR STATUS - 2026-01-17 10:30                         │\n├─────────────────────────────────────────────────────────────┤\n│ ACTIVE INSTANCES (3)                                        │\n├─────────────────────────────────────────────────────────────┤\n│ [itm-a1b2] pitchello       │ P1 │ Fix auth bug      │ 45m  │\n│            └─ src/api/users.ts, src/lib/auth.ts             │\n│                                                             │\n│ [itm-c3d4] mission-control │ P1 │ Lead scoring API  │ 30m  │\n│            └─ app/api/agent/leads/*                         │\n│                                                             │\n│ [cur-e5f6] digital-self    │ P2 │ Content draft     │ 15m  │\n│            └─ (no files claimed)                            │\n├─────────────────────────────────────────────────────────────┤\n│ CONFLICTS: None                                             │\n│ DRIFT WARNINGS: 1 (cur-e5f6 working on P2 during P1 sprint) │\n└─────────────────────────────────────────────────────────────┘\n```\n\n### /conductor done\n\nComplete your task and release all claims.\n\n```bash\n/conductor done\n```\n\n**What it does:**\n1. Releases all file claims\n2. Logs task to `~/.conductor/history.jsonl`\n3. Removes instance from `status.json`\n\n### /conductor align\n\nCheck if your current/proposed task aligns with strategic priorities.\n\n```bash\n/conductor align \"Add dark mode to settings\"\n```\n\n**What it does:**\n1. Reads `north-stars.md` from digital-self\n2. Reads current sprint priorities (if defined)\n3. Returns alignment assessment\n\n### /conductor release\n\nRelease file claims without completing the task (e.g., when switching focus).\n\n```bash\n/conductor release src/api/users.ts\n# or release all\n/conductor release --all\n```\n\n### /conductor conflicts\n\nShow detailed conflict information.\n\n```bash\n/conductor conflicts\n```\n\n## Integration Points\n\n### With /daily-brief\n\nAt session start, daily-brief should:\n1. Run `/conductor status` to show active instances\n2. Flag any orphaned instances (started >24h ago)\n3. Suggest cleanup if needed\n\n### With /shutdown\n\nAt session end, shutdown should:\n1. Run `/conductor done` to release this instance's claims\n2. Log final status to history\n\n### With File Edits\n\nWhen editing files, agents should:\n1. Check if file is claimed before editing\n2. If not claimed, claim it first\n3. If claimed by another, coordinate or wait\n\n## Priority Levels\n\n| Level | Description | Examples |\n|-------|-------------|----------|\n| P1 | Critical, sprint-blocking | Revenue features, production bugs |\n| P2 | Important, planned work | Backlog items, improvements |\n| P3 | Nice-to-have, opportunistic | Refactoring, documentation |\n\n**Priority Gate Rule:** During focused sprints, P3 work requires explicit override.\n\n## When to Use Conductor\n\n**Always use when:**\n- Running 2+ Claude instances simultaneously\n- Working on shared codebases\n- Tasks that will modify files\n\n**Skip when:**\n- Single instance, simple task\n- Read-only research/exploration\n- Content creation (no file conflicts possible)\n\n## Troubleshooting\n\n### Orphaned Instances\n\nIf an instance crashed without `/conductor done`:\n```bash\n/conductor cleanup --instance itm-a1b2c3\n```\n\n### Stale Claims\n\nIf files are claimed but instance is gone:\n```bash\n/conductor release --force src/api/users.ts\n```\n\n### Manual Status Reset\n\nIf status.json is corrupted:\n```bash\n/conductor reset\n```\n(Backs up current state to history, creates fresh status.json)\n\n## See Also\n\n- [protocol.md](./protocol.md) - Detailed protocol specification\n- [schema.md](./schema.md) - JSON schema definitions\n",
        "skills/conductor/protocol.md": "# Conductor Protocol Specification\n\nThis document defines the technical protocol for multi-agent coordination.\n\n## Design Principles\n\n1. **File-based coordination** - No external services required, just JSON files\n2. **Pessimistic locking** - Claim files before editing, not after\n3. **Fail-safe defaults** - If in doubt, block and ask for human input\n4. **Minimal overhead** - Protocol adds seconds, not minutes, to workflows\n5. **Human override** - Humans can always force actions with `--force`\n\n## Instance Identification\n\n### ID Format\n\n```\n{source}-{random6}\n```\n\nWhere:\n- `source`: `itm` (iTerm), `cur` (Cursor), `vsc` (VS Code), `web` (browser), `cow` (Cowork)\n- `random6`: 6 character alphanumeric\n\nExamples: `itm-a1b2c3`, `cur-x7y8z9`, `web-m4n5o6`\n\n### ID Generation\n\n```bash\n# Bash implementation\ngenerate_instance_id() {\n  local source=$1\n  local random=$(openssl rand -hex 3)\n  echo \"${source}-${random}\"\n}\n```\n\n### Source Detection\n\nDetect source from environment:\n```bash\ndetect_source() {\n  if [[ -n \"$CURSOR_SESSION\" ]]; then\n    echo \"cur\"\n  elif [[ -n \"$VSCODE_GIT_IPC_HANDLE\" ]]; then\n    echo \"vsc\"\n  elif [[ \"$TERM_PROGRAM\" == \"iTerm.app\" ]]; then\n    echo \"itm\"\n  elif [[ -n \"$CLAUDE_COWORK_SESSION\" ]]; then\n    echo \"cow\"\n  else\n    echo \"web\"  # Default assumption\n  fi\n}\n```\n\n## File Structures\n\n### ~/.conductor/status.json\n\nThe primary coordination file. All instances read and write to this.\n\n```json\n{\n  \"version\": \"1.0\",\n  \"updated_at\": \"2026-01-17T10:30:00Z\",\n  \"instances\": [\n    {\n      \"id\": \"itm-a1b2c3\",\n      \"source\": \"itm\",\n      \"project\": \"pitchello\",\n      \"task\": \"Fix authentication bug in user service\",\n      \"priority\": \"P1\",\n      \"files_claimed\": [\n        \"src/api/users.ts\",\n        \"src/lib/auth.ts\"\n      ],\n      \"started_at\": \"2026-01-17T09:45:00Z\",\n      \"last_heartbeat\": \"2026-01-17T10:30:00Z\",\n      \"working_directory\": \"/Users/mariogiancini/Developer/pitchello\"\n    }\n  ],\n  \"global_claims\": {\n    \"src/api/users.ts\": \"itm-a1b2c3\",\n    \"src/lib/auth.ts\": \"itm-a1b2c3\"\n  },\n  \"drift_warnings\": [\n    {\n      \"instance_id\": \"cur-x7y8z9\",\n      \"reason\": \"P3 task during P1 sprint focus\",\n      \"acknowledged\": false\n    }\n  ]\n}\n```\n\n### ~/.conductor/history.jsonl\n\nAppend-only log of completed tasks. One JSON object per line.\n\n```jsonl\n{\"id\":\"itm-a1b2c3\",\"project\":\"pitchello\",\"task\":\"Fix auth bug\",\"priority\":\"P1\",\"started_at\":\"2026-01-17T09:45:00Z\",\"completed_at\":\"2026-01-17T10:30:00Z\",\"files_modified\":[\"src/api/users.ts\",\"src/lib/auth.ts\"],\"outcome\":\"success\"}\n{\"id\":\"cur-x7y8z9\",\"project\":\"mission-control\",\"task\":\"Add lead endpoint\",\"priority\":\"P1\",\"started_at\":\"2026-01-17T10:00:00Z\",\"completed_at\":\"2026-01-17T10:45:00Z\",\"files_modified\":[\"app/api/agent/leads/route.ts\"],\"outcome\":\"success\"}\n```\n\n### ~/.conductor/conflicts.log\n\nLog of conflicts for pattern analysis.\n\n```\n2026-01-17T10:30:00Z | CONFLICT | itm-a1b2c3 tried to claim src/api/users.ts already held by cur-x7y8z9\n2026-01-17T10:35:00Z | RESOLVED | cur-x7y8z9 released src/api/users.ts, itm-a1b2c3 claimed it\n```\n\n## Operations\n\n### START Operation\n\n**Purpose:** Register a new task with the conductor.\n\n**Input:**\n```json\n{\n  \"operation\": \"start\",\n  \"task\": \"Fix authentication bug\",\n  \"project\": \"pitchello\",\n  \"priority\": \"P1\",\n  \"working_directory\": \"/Users/mariogiancini/Developer/pitchello\"\n}\n```\n\n**Steps:**\n1. Generate instance ID\n2. Run priority check (see Priority Gate below)\n3. If priority check fails and no `--override`, return error\n4. Add instance to `status.json`\n5. Update `updated_at` timestamp\n6. Return instance ID\n\n**Output (success):**\n```json\n{\n  \"status\": \"ok\",\n  \"instance_id\": \"itm-a1b2c3\",\n  \"message\": \"Registered. Use /conductor claim to lock files before editing.\"\n}\n```\n\n**Output (priority fail):**\n```json\n{\n  \"status\": \"blocked\",\n  \"reason\": \"priority_gate\",\n  \"message\": \"Task priority P3 doesn't align with current P1 sprint focus.\",\n  \"options\": [\n    \"Use --override 'justification' to proceed anyway\",\n    \"Change to a P1 task instead\"\n  ]\n}\n```\n\n### CLAIM Operation\n\n**Purpose:** Lock files before editing.\n\n**Input:**\n```json\n{\n  \"operation\": \"claim\",\n  \"instance_id\": \"itm-a1b2c3\",\n  \"files\": [\n    \"src/api/users.ts\",\n    \"src/lib/auth.ts\"\n  ]\n}\n```\n\n**Steps:**\n1. Validate instance exists in status.json\n2. For each file:\n   a. Check if in `global_claims`\n   b. If claimed by another instance, add to conflicts list\n   c. If unclaimed, add to both instance's `files_claimed` and `global_claims`\n3. If any conflicts, return conflict response\n4. If all clear, return success\n\n**Output (success):**\n```json\n{\n  \"status\": \"ok\",\n  \"claimed\": [\"src/api/users.ts\", \"src/lib/auth.ts\"],\n  \"message\": \"Files claimed. Safe to edit.\"\n}\n```\n\n**Output (conflict):**\n```json\n{\n  \"status\": \"conflict\",\n  \"conflicts\": [\n    {\n      \"file\": \"src/api/users.ts\",\n      \"held_by\": \"cur-x7y8z9\",\n      \"holder_task\": \"Refactoring user service\",\n      \"holder_started\": \"2026-01-17T09:30:00Z\"\n    }\n  ],\n  \"claimed\": [\"src/lib/auth.ts\"],\n  \"message\": \"1 conflict detected. Coordinate with cur-x7y8z9 or wait for release.\"\n}\n```\n\n### STATUS Operation\n\n**Purpose:** Get current state of all instances.\n\n**Input:**\n```json\n{\n  \"operation\": \"status\"\n}\n```\n\n**Output:**\n```json\n{\n  \"status\": \"ok\",\n  \"instances\": [...],\n  \"conflicts\": [],\n  \"drift_warnings\": [...],\n  \"summary\": {\n    \"active_count\": 3,\n    \"total_files_claimed\": 5,\n    \"oldest_instance_age_minutes\": 45\n  }\n}\n```\n\n### DONE Operation\n\n**Purpose:** Complete task and release all claims.\n\n**Input:**\n```json\n{\n  \"operation\": \"done\",\n  \"instance_id\": \"itm-a1b2c3\",\n  \"outcome\": \"success\",\n  \"files_modified\": [\"src/api/users.ts\"]\n}\n```\n\n**Steps:**\n1. Remove all instance's files from `global_claims`\n2. Append to `history.jsonl`\n3. Remove instance from `status.json`\n4. Update `updated_at`\n\n### RELEASE Operation\n\n**Purpose:** Release specific files or all claims without completing.\n\n**Input:**\n```json\n{\n  \"operation\": \"release\",\n  \"instance_id\": \"itm-a1b2c3\",\n  \"files\": [\"src/api/users.ts\"],  // or \"all\": true\n  \"reason\": \"Switching to higher priority task\"\n}\n```\n\n### HEARTBEAT Operation\n\n**Purpose:** Update last_heartbeat to indicate instance is still active.\n\n**Input:**\n```json\n{\n  \"operation\": \"heartbeat\",\n  \"instance_id\": \"itm-a1b2c3\"\n}\n```\n\n**Note:** Consider running heartbeat every 5-10 minutes for long tasks.\n\n### CLEANUP Operation\n\n**Purpose:** Remove orphaned instances (no heartbeat in >1 hour).\n\n**Input:**\n```json\n{\n  \"operation\": \"cleanup\",\n  \"max_age_minutes\": 60\n}\n```\n\n**Steps:**\n1. Find instances where `last_heartbeat` is older than threshold\n2. For each orphan:\n   a. Release all their claims\n   b. Log to history with outcome \"orphaned\"\n   c. Remove from status.json\n\n## Priority Gate\n\nThe priority gate prevents strategic drift by checking task alignment.\n\n### Priority Sources (in order)\n\n1. **Sprint priorities** (if defined): `~/.conductor/sprint.json`\n2. **North-stars**: `~/Developer/digital-self/2-areas/personal/north-stars.md`\n3. **Project priorities**: Project-level `plans/prd.json` or similar\n\n### Sprint File (Optional)\n\n```json\n{\n  \"sprint_name\": \"2026-W03\",\n  \"focus\": \"P1\",\n  \"priorities\": [\n    \"Pitchello revenue features\",\n    \"Mission Control lead scoring\",\n    \"LP AI Quality Platform\"\n  ],\n  \"explicitly_deferred\": [\n    \"Documentation improvements\",\n    \"Refactoring\"\n  ]\n}\n```\n\n### Gate Logic\n\n```python\ndef priority_gate(task, priority, project):\n    # P1 always passes\n    if priority == \"P1\":\n        return {\"pass\": True}\n\n    # Check sprint focus\n    sprint = load_sprint_file()\n    if sprint and sprint[\"focus\"] == \"P1\" and priority != \"P1\":\n        return {\n            \"pass\": False,\n            \"reason\": f\"Sprint focus is P1, task is {priority}\",\n            \"suggestion\": \"Override with justification or defer task\"\n        }\n\n    # Check north-stars alignment\n    north_stars = load_north_stars()\n    if not aligns_with_priorities(task, north_stars):\n        return {\n            \"pass\": False,\n            \"reason\": \"Task doesn't align with north-stars priorities\",\n            \"current_priorities\": north_stars[\"priority_hierarchy\"]\n        }\n\n    return {\"pass\": True}\n```\n\n## Conflict Resolution\n\nWhen a conflict occurs, the protocol suggests these resolution paths:\n\n### 1. Wait\n\nThe simplest option. The other instance will eventually finish.\n\n### 2. Coordinate\n\nInstances can coordinate by:\n- One instance releases the contested file\n- Work is divided (one takes lines 1-100, other takes 101-200)\n- Sequential execution (finish one task before starting other)\n\n### 3. Force\n\nHuman override with `--force`:\n```bash\n/conductor claim src/api/users.ts --force \"Talked to other instance, taking over\"\n```\n\nForce operations are logged to `conflicts.log` for review.\n\n## Concurrency Safety\n\n### File Locking\n\nThe status.json file itself needs protection from concurrent writes.\n\n**Approach: Atomic writes with lockfile**\n\n```bash\nconductor_write() {\n  local lockfile=\"$HOME/.conductor/status.lock\"\n\n  # Acquire lock (wait up to 5 seconds)\n  exec 200>\"$lockfile\"\n  flock -w 5 200 || { echo \"Failed to acquire lock\"; return 1; }\n\n  # Read current state\n  local current=$(cat \"$HOME/.conductor/status.json\")\n\n  # Apply operation\n  local updated=$(echo \"$current\" | jq \"$1\")\n\n  # Write atomically\n  echo \"$updated\" > \"$HOME/.conductor/status.json.tmp\"\n  mv \"$HOME/.conductor/status.json.tmp\" \"$HOME/.conductor/status.json\"\n\n  # Release lock\n  exec 200>&-\n}\n```\n\n### Race Condition Handling\n\nIf two instances try to claim the same file simultaneously:\n1. Lock acquisition serializes the operations\n2. Second instance will see first's claim and get conflict response\n\n## Extension Points\n\n### Custom Priority Sources\n\nProjects can define their own priority sources:\n```json\n// .conductor/config.json in project root\n{\n  \"priority_source\": \"plans/prd.json\",\n  \"priority_field\": \"tasks[].priority\"\n}\n```\n\n### Webhooks (Future)\n\nFor integration with external dashboards:\n```json\n{\n  \"webhooks\": {\n    \"on_start\": \"https://...\",\n    \"on_conflict\": \"https://...\",\n    \"on_done\": \"https://...\"\n  }\n}\n```\n\n### Mission Control Integration (Future)\n\nSync conductor state to Mission Control database for persistent dashboard.\n",
        "skills/conductor/schema.md": "# Conductor JSON Schemas\n\nThis document defines the JSON schemas for all conductor data structures.\n\n## status.json Schema\n\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"$id\": \"conductor-status\",\n  \"title\": \"Conductor Status\",\n  \"description\": \"Current state of all active Claude instances\",\n  \"type\": \"object\",\n  \"required\": [\"version\", \"updated_at\", \"instances\", \"global_claims\"],\n  \"properties\": {\n    \"version\": {\n      \"type\": \"string\",\n      \"const\": \"1.0\"\n    },\n    \"updated_at\": {\n      \"type\": \"string\",\n      \"format\": \"date-time\",\n      \"description\": \"ISO 8601 timestamp of last update\"\n    },\n    \"instances\": {\n      \"type\": \"array\",\n      \"items\": { \"$ref\": \"#/$defs/instance\" }\n    },\n    \"global_claims\": {\n      \"type\": \"object\",\n      \"description\": \"Map of file path to instance ID that holds the claim\",\n      \"additionalProperties\": {\n        \"type\": \"string\",\n        \"pattern\": \"^[a-z]{3}-[a-f0-9]{6}$\"\n      }\n    },\n    \"drift_warnings\": {\n      \"type\": \"array\",\n      \"items\": { \"$ref\": \"#/$defs/drift_warning\" }\n    }\n  },\n  \"$defs\": {\n    \"instance\": {\n      \"type\": \"object\",\n      \"required\": [\"id\", \"source\", \"project\", \"task\", \"priority\", \"started_at\", \"last_heartbeat\", \"working_directory\"],\n      \"properties\": {\n        \"id\": {\n          \"type\": \"string\",\n          \"pattern\": \"^[a-z]{3}-[a-f0-9]{6}$\",\n          \"description\": \"Unique instance identifier (e.g., itm-a1b2c3)\"\n        },\n        \"source\": {\n          \"type\": \"string\",\n          \"enum\": [\"itm\", \"cur\", \"vsc\", \"web\", \"cow\"],\n          \"description\": \"Source application (iTerm, Cursor, VS Code, browser, Cowork)\"\n        },\n        \"project\": {\n          \"type\": \"string\",\n          \"description\": \"Project name (e.g., pitchello, mission-control)\"\n        },\n        \"task\": {\n          \"type\": \"string\",\n          \"description\": \"Human-readable task description\"\n        },\n        \"priority\": {\n          \"type\": \"string\",\n          \"enum\": [\"P1\", \"P2\", \"P3\"],\n          \"description\": \"Task priority level\"\n        },\n        \"files_claimed\": {\n          \"type\": \"array\",\n          \"items\": { \"type\": \"string\" },\n          \"description\": \"List of file paths this instance has claimed\"\n        },\n        \"started_at\": {\n          \"type\": \"string\",\n          \"format\": \"date-time\"\n        },\n        \"last_heartbeat\": {\n          \"type\": \"string\",\n          \"format\": \"date-time\"\n        },\n        \"working_directory\": {\n          \"type\": \"string\",\n          \"description\": \"Absolute path to working directory\"\n        },\n        \"override_reason\": {\n          \"type\": \"string\",\n          \"description\": \"If priority gate was overridden, the justification\"\n        }\n      }\n    },\n    \"drift_warning\": {\n      \"type\": \"object\",\n      \"required\": [\"instance_id\", \"reason\", \"acknowledged\"],\n      \"properties\": {\n        \"instance_id\": {\n          \"type\": \"string\",\n          \"pattern\": \"^[a-z]{3}-[a-f0-9]{6}$\"\n        },\n        \"reason\": {\n          \"type\": \"string\"\n        },\n        \"acknowledged\": {\n          \"type\": \"boolean\"\n        },\n        \"acknowledged_at\": {\n          \"type\": \"string\",\n          \"format\": \"date-time\"\n        }\n      }\n    }\n  }\n}\n```\n\n## history.jsonl Entry Schema\n\nEach line in history.jsonl follows this schema:\n\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"$id\": \"conductor-history-entry\",\n  \"title\": \"Conductor History Entry\",\n  \"description\": \"Record of a completed task\",\n  \"type\": \"object\",\n  \"required\": [\"id\", \"project\", \"task\", \"priority\", \"started_at\", \"completed_at\", \"outcome\"],\n  \"properties\": {\n    \"id\": {\n      \"type\": \"string\",\n      \"pattern\": \"^[a-z]{3}-[a-f0-9]{6}$\"\n    },\n    \"project\": {\n      \"type\": \"string\"\n    },\n    \"task\": {\n      \"type\": \"string\"\n    },\n    \"priority\": {\n      \"type\": \"string\",\n      \"enum\": [\"P1\", \"P2\", \"P3\"]\n    },\n    \"started_at\": {\n      \"type\": \"string\",\n      \"format\": \"date-time\"\n    },\n    \"completed_at\": {\n      \"type\": \"string\",\n      \"format\": \"date-time\"\n    },\n    \"duration_minutes\": {\n      \"type\": \"integer\",\n      \"description\": \"Calculated from started_at to completed_at\"\n    },\n    \"files_modified\": {\n      \"type\": \"array\",\n      \"items\": { \"type\": \"string\" },\n      \"description\": \"Files that were actually modified during the task\"\n    },\n    \"outcome\": {\n      \"type\": \"string\",\n      \"enum\": [\"success\", \"abandoned\", \"orphaned\", \"conflict\"],\n      \"description\": \"How the task ended\"\n    },\n    \"notes\": {\n      \"type\": \"string\",\n      \"description\": \"Optional notes about the task completion\"\n    }\n  }\n}\n```\n\n## sprint.json Schema (Optional)\n\n```json\n{\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"$id\": \"conductor-sprint\",\n  \"title\": \"Conductor Sprint\",\n  \"description\": \"Current sprint focus and priorities\",\n  \"type\": \"object\",\n  \"required\": [\"sprint_name\", \"focus\"],\n  \"properties\": {\n    \"sprint_name\": {\n      \"type\": \"string\",\n      \"description\": \"Sprint identifier (e.g., 2026-W03)\"\n    },\n    \"focus\": {\n      \"type\": \"string\",\n      \"enum\": [\"P1\", \"P2\", \"P3\"],\n      \"description\": \"Minimum priority level for this sprint\"\n    },\n    \"start_date\": {\n      \"type\": \"string\",\n      \"format\": \"date\"\n    },\n    \"end_date\": {\n      \"type\": \"string\",\n      \"format\": \"date\"\n    },\n    \"priorities\": {\n      \"type\": \"array\",\n      \"items\": { \"type\": \"string\" },\n      \"description\": \"List of priority areas for this sprint\"\n    },\n    \"explicitly_deferred\": {\n      \"type\": \"array\",\n      \"items\": { \"type\": \"string\" },\n      \"description\": \"Work explicitly deferred to later sprints\"\n    }\n  }\n}\n```\n\n## Example Files\n\n### Empty status.json (Initial State)\n\n```json\n{\n  \"version\": \"1.0\",\n  \"updated_at\": \"2026-01-17T00:00:00Z\",\n  \"instances\": [],\n  \"global_claims\": {},\n  \"drift_warnings\": []\n}\n```\n\n### Active status.json (3 Instances)\n\n```json\n{\n  \"version\": \"1.0\",\n  \"updated_at\": \"2026-01-17T10:30:00Z\",\n  \"instances\": [\n    {\n      \"id\": \"itm-a1b2c3\",\n      \"source\": \"itm\",\n      \"project\": \"pitchello\",\n      \"task\": \"Fix authentication bug in user service\",\n      \"priority\": \"P1\",\n      \"files_claimed\": [\n        \"src/api/users.ts\",\n        \"src/lib/auth.ts\"\n      ],\n      \"started_at\": \"2026-01-17T09:45:00Z\",\n      \"last_heartbeat\": \"2026-01-17T10:30:00Z\",\n      \"working_directory\": \"/Users/mariogiancini/Developer/pitchello\"\n    },\n    {\n      \"id\": \"cur-d4e5f6\",\n      \"source\": \"cur\",\n      \"project\": \"mission-control\",\n      \"task\": \"Add lead scoring API endpoint\",\n      \"priority\": \"P1\",\n      \"files_claimed\": [\n        \"app/api/agent/leads/score/route.ts\",\n        \"lib/scoring.ts\"\n      ],\n      \"started_at\": \"2026-01-17T10:00:00Z\",\n      \"last_heartbeat\": \"2026-01-17T10:28:00Z\",\n      \"working_directory\": \"/Users/mariogiancini/Developer/digital-self/1-projects/mission-control\"\n    },\n    {\n      \"id\": \"web-g7h8i9\",\n      \"source\": \"web\",\n      \"project\": \"self-engineer\",\n      \"task\": \"Draft article on AI agent coordination\",\n      \"priority\": \"P2\",\n      \"files_claimed\": [],\n      \"started_at\": \"2026-01-17T10:15:00Z\",\n      \"last_heartbeat\": \"2026-01-17T10:29:00Z\",\n      \"working_directory\": \"/Users/mariogiancini/Developer/digital-self\"\n    }\n  ],\n  \"global_claims\": {\n    \"src/api/users.ts\": \"itm-a1b2c3\",\n    \"src/lib/auth.ts\": \"itm-a1b2c3\",\n    \"app/api/agent/leads/score/route.ts\": \"cur-d4e5f6\",\n    \"lib/scoring.ts\": \"cur-d4e5f6\"\n  },\n  \"drift_warnings\": [\n    {\n      \"instance_id\": \"web-g7h8i9\",\n      \"reason\": \"P2 task during P1 sprint focus\",\n      \"acknowledged\": true,\n      \"acknowledged_at\": \"2026-01-17T10:15:30Z\"\n    }\n  ]\n}\n```\n\n### Sample history.jsonl\n\n```jsonl\n{\"id\":\"itm-x1y2z3\",\"project\":\"pitchello\",\"task\":\"Fix TypeScript errors in API\",\"priority\":\"P1\",\"started_at\":\"2026-01-17T08:00:00Z\",\"completed_at\":\"2026-01-17T09:30:00Z\",\"duration_minutes\":90,\"files_modified\":[\"src/api/users.ts\",\"src/api/projects.ts\",\"src/types/index.ts\"],\"outcome\":\"success\"}\n{\"id\":\"cur-a4b5c6\",\"project\":\"mission-control\",\"task\":\"Add content pipeline status endpoint\",\"priority\":\"P1\",\"started_at\":\"2026-01-17T08:30:00Z\",\"completed_at\":\"2026-01-17T09:15:00Z\",\"duration_minutes\":45,\"files_modified\":[\"app/api/agent/content/status/route.ts\"],\"outcome\":\"success\"}\n{\"id\":\"itm-d7e8f9\",\"project\":\"digital-self\",\"task\":\"Update daily-brief command\",\"priority\":\"P2\",\"started_at\":\"2026-01-16T14:00:00Z\",\"completed_at\":\"2026-01-16T14:30:00Z\",\"duration_minutes\":30,\"files_modified\":[\".claude/commands/daily-brief.md\"],\"outcome\":\"success\",\"notes\":\"Added conductor status integration\"}\n```\n\n## Validation\n\n### TypeScript Types (Reference)\n\n```typescript\ntype InstanceSource = 'itm' | 'cur' | 'vsc' | 'web' | 'cow';\ntype Priority = 'P1' | 'P2' | 'P3';\ntype Outcome = 'success' | 'abandoned' | 'orphaned' | 'conflict';\n\ninterface Instance {\n  id: string;                    // Pattern: /^[a-z]{3}-[a-f0-9]{6}$/\n  source: InstanceSource;\n  project: string;\n  task: string;\n  priority: Priority;\n  files_claimed: string[];\n  started_at: string;            // ISO 8601\n  last_heartbeat: string;        // ISO 8601\n  working_directory: string;\n  override_reason?: string;\n}\n\ninterface DriftWarning {\n  instance_id: string;\n  reason: string;\n  acknowledged: boolean;\n  acknowledged_at?: string;\n}\n\ninterface ConductorStatus {\n  version: '1.0';\n  updated_at: string;\n  instances: Instance[];\n  global_claims: Record<string, string>;  // file path -> instance ID\n  drift_warnings: DriftWarning[];\n}\n\ninterface HistoryEntry {\n  id: string;\n  project: string;\n  task: string;\n  priority: Priority;\n  started_at: string;\n  completed_at: string;\n  duration_minutes?: number;\n  files_modified?: string[];\n  outcome: Outcome;\n  notes?: string;\n}\n```\n\n### jq Validation Commands\n\n```bash\n# Validate status.json structure\njq -e '.version == \"1.0\" and (.instances | type) == \"array\"' ~/.conductor/status.json\n\n# Check for orphaned instances (no heartbeat in 60 min)\njq --arg cutoff \"$(date -v-60M -u +%Y-%m-%dT%H:%M:%SZ)\" \\\n  '.instances[] | select(.last_heartbeat < $cutoff)' ~/.conductor/status.json\n\n# List all claimed files\njq '.global_claims | keys[]' ~/.conductor/status.json\n\n# Find conflicts (same file claimed by multiple - shouldn't happen)\njq '.global_claims | to_entries | group_by(.value) | map(select(length > 1))' ~/.conductor/status.json\n```\n"
      },
      "plugins": [
        {
          "name": "conductor-protocol",
          "source": "./",
          "description": "Multi-agent orchestration protocol for coordinating parallel Claude instances",
          "version": "1.0.0",
          "author": {
            "name": "Mario Giancini"
          },
          "category": "productivity",
          "keywords": [
            "orchestration",
            "multi-agent",
            "coordination",
            "parallel"
          ],
          "categories": [
            "coordination",
            "multi-agent",
            "orchestration",
            "parallel",
            "productivity"
          ],
          "install_commands": [
            "/plugin marketplace add MarioGiancini/conductor-protocol",
            "/plugin install conductor-protocol@conductor-protocol"
          ]
        }
      ]
    }
  ]
}