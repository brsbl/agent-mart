{
  "author": {
    "id": "codehakase",
    "display_name": "Francis Sunday",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/9336187?u=2a2c1be2920ccb0d18481b7ae2d46b5413484e9f&v=4",
    "url": "https://github.com/codehakase",
    "bio": "Software Engineer, Gopher, Hacker. I use my powers for good!",
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 1,
      "total_commands": 0,
      "total_skills": 1,
      "total_stars": 1,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "shelby-skills",
      "version": null,
      "description": "Skills for building on Shelby decentralized storage network (Aptos blockchain). Covers file upload/download, APT/ShelbyUSD balances, and blob management.",
      "owner_info": {
        "name": "codehakase"
      },
      "keywords": [],
      "repo_full_name": "codehakase/shelby-skills",
      "repo_url": "https://github.com/codehakase/shelby-skills",
      "repo_description": "Claude Code skills for building on Shelby decentralized storage network (Aptos blockchain). Covers file upload/download, APT/ShelbyUSD balances, blob management, and WebDAV integration.",
      "homepage": null,
      "signals": {
        "stars": 1,
        "forks": 0,
        "pushed_at": "2026-01-07T10:26:08Z",
        "created_at": "2026-01-07T10:08:24Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 339
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 528
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 1824
        },
        {
          "path": "skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/shelby-blockchain",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/shelby-blockchain/API-REFERENCE.md",
          "type": "blob",
          "size": 6066
        },
        {
          "path": "skills/shelby-blockchain/EXAMPLES.md",
          "type": "blob",
          "size": 16744
        },
        {
          "path": "skills/shelby-blockchain/SKILL.md",
          "type": "blob",
          "size": 7588
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"shelby-skills\",\n  \"owner\": {\n    \"name\": \"codehakase\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"shelby-blockchain\",\n      \"source\": \"./\",\n      \"description\": \"Skills for building on Shelby decentralized storage network (Aptos blockchain). Covers file upload/download, APT/ShelbyUSD balances, and blob management.\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"shelby-skills\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Claude Code skills for building on Shelby decentralized storage network (Aptos blockchain). Covers file upload/download, APT/ShelbyUSD balances, blob management, and WebDAV integration.\",\n  \"author\": {\n    \"name\": \"codehakase\"\n  },\n  \"license\": \"MIT\",\n  \"keywords\": [\n    \"shelby\",\n    \"aptos\",\n    \"blockchain\",\n    \"decentralized-storage\",\n    \"web3\",\n    \"fungible-assets\",\n    \"webdav\"\n  ],\n  \"repository\": \"https://github.com/codehakase/shelby-skills\"\n}\n",
        "README.md": "# Shelby Skills for Claude Code\n\nA Claude Code plugin providing skills for building on [Shelby](https://shelby.xyz), a decentralized storage network built on the Aptos blockchain.\n\n## Installation\n\n### Step 1: Add the marketplace\n\n```bash\n/plugin marketplace add codehakase/shelby-skills\n```\n\n### Step 2: Install the plugin\n\n```bash\n/plugin install shelby-blockchain@shelby-skills\n```\n\n### Verify installation\n\n```bash\n/plugin list\n```\n\nYou should see `shelby-blockchain` in your installed plugins.\n\n## What's Included\n\n### shelby-blockchain skill\n\nComprehensive guidance for Shelby operations:\n\n| Operation | Description |\n|-----------|-------------|\n| **Balance Fetching** | APT & ShelbyUSD via fungible asset view functions |\n| **File Upload** | Commitments, blob registration, wallet signing |\n| **File Download** | SDK download, browser blob URLs |\n| **Blob Listing** | Account blobs with metadata parsing |\n| **Transactions** | Fetching & parsing transaction history |\n| **Cost Calculation** | Storage pricing ($0.05/GB/month) |\n\n## Usage\n\nOnce installed, Claude Code will automatically use this skill when you ask about:\n\n- \"Upload files to Shelby\"\n- \"Check APT balance on Shelbynet\"\n- \"Download blobs from Shelby\"\n- \"Build a Shelby storage app\"\n- \"Fetch ShelbyUSD balance\"\n\n## Key Information\n\n**Network:** Shelbynet (testnet)\n```\nhttps://api.shelbynet.shelby.xyz/v1\n```\n\n**Token Metadata (Fungible Assets):**\n- APT: `0xa`\n- ShelbyUSD: `0x1b18363a9f1fe5e6ebf247daba5cc1c18052bb232efdc4c50f556053922d98e1`\n\n**Important:** On Shelbynet, APT is stored as a Fungible Asset, not in legacy CoinStore format.\n\n## Dependencies\n\nProjects using this skill typically need:\n\n```json\n{\n  \"@aspect-build/shelby-sdk\": \"latest\",\n  \"@aptos-labs/ts-sdk\": \"^1.33.1\",\n  \"@aptos-labs/wallet-adapter-react\": \"^3.x\"\n}\n```\n\n## License\n\nMIT\n",
        "skills/shelby-blockchain/API-REFERENCE.md": "# Shelby API Reference\n\nComplete reference for Shelby blockchain REST API and SDK methods.\n\n## Base URL\n\n```\nhttps://api.shelbynet.shelby.xyz/v1\n```\n\n---\n\n## REST API Endpoints\n\n### View Function (POST /view)\n\nExecute Move view functions without signing a transaction.\n\n**Request:**\n```http\nPOST /view\nContent-Type: application/json\n\n{\n  \"function\": \"module_address::module_name::function_name\",\n  \"type_arguments\": [\"type1\", \"type2\"],\n  \"arguments\": [\"arg1\", \"arg2\"]\n}\n```\n\n**Common View Functions:**\n\n#### Get Fungible Asset Balance\n\n```json\n{\n  \"function\": \"0x1::primary_fungible_store::balance\",\n  \"type_arguments\": [\"0x1::fungible_asset::Metadata\"],\n  \"arguments\": [\"<account_address>\", \"<metadata_address>\"]\n}\n```\n\n**Metadata Addresses:**\n| Token | Metadata Address |\n|-------|------------------|\n| APT | `0xa` |\n| ShelbyUSD | `0x1b18363a9f1fe5e6ebf247daba5cc1c18052bb232efdc4c50f556053922d98e1` |\n\n**Response:**\n```json\n[\"2199188900\"]  // Raw balance (divide by 100_000_000 for human-readable)\n```\n\n---\n\n### Get Account Resources (GET /accounts/{address}/resources)\n\nRetrieve all resources owned by an account.\n\n**Request:**\n```http\nGET /accounts/0x4d6fb26e06d88a8ddf7c73dae6b9eaed02d7b4bf9c22e9ed084a216df3ac2ebe/resources\n```\n\n**Response:**\n```json\n[\n  {\n    \"type\": \"0x1::account::Account\",\n    \"data\": {\n      \"authentication_key\": \"0x...\",\n      \"sequence_number\": \"14\",\n      \"guid_creation_num\": \"2\"\n    }\n  }\n]\n```\n\n**Note:** On Shelbynet, APT is NOT stored in CoinStore. Use the view function instead.\n\n---\n\n### Get Account Transactions (GET /accounts/{address}/transactions)\n\nRetrieve transactions for an account.\n\n**Request:**\n```http\nGET /accounts/{address}/transactions?limit=20\n```\n\n**Query Parameters:**\n| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| limit | number | 25 | Max transactions to return |\n| start | number | 0 | Starting sequence number |\n\n**Response:**\n```json\n[\n  {\n    \"hash\": \"0x...\",\n    \"version\": \"12345\",\n    \"success\": true,\n    \"gas_used\": \"100\",\n    \"timestamp\": \"1704067200000000\",\n    \"payload\": {\n      \"function\": \"0x1::coin::transfer\",\n      \"type_arguments\": [\"0x1::aptos_coin::AptosCoin\"],\n      \"arguments\": [\"0x...\", \"1000000\"]\n    }\n  }\n]\n```\n\n**Timestamp Format:** Microseconds since Unix epoch\n\n---\n\n### Submit Transaction (POST /transactions)\n\nSubmit a signed transaction.\n\n**Request:**\n```http\nPOST /transactions\nContent-Type: application/json\n\n{\n  // BCS-encoded signed transaction\n}\n```\n\n**Response:**\n```json\n{\n  \"hash\": \"0x...\",\n  \"sender\": \"0x...\",\n  \"sequence_number\": \"15\",\n  \"payload\": { ... }\n}\n```\n\n---\n\n### Wait for Transaction (GET /transactions/by_hash/{hash})\n\nCheck transaction status.\n\n**Request:**\n```http\nGET /transactions/by_hash/0x...\n```\n\n**Response:**\n```json\n{\n  \"hash\": \"0x...\",\n  \"success\": true,\n  \"vm_status\": \"Executed successfully\",\n  \"version\": \"12346\"\n}\n```\n\n---\n\n## Shelby SDK Methods\n\n### ShelbyBlobClient\n\nMain client for blob operations.\n\n```javascript\nimport { ShelbyBlobClient } from \"@aspect-build/shelby-sdk\";\n\nconst client = new ShelbyBlobClient();\n```\n\n---\n\n### client.commitments(blobData)\n\nGenerate erasure coding commitments for blob data.\n\n**Parameters:**\n| Name | Type | Description |\n|------|------|-------------|\n| blobData | Uint8Array | Raw file data |\n\n**Returns:**\n```typescript\n{\n  blob_merkle_root: Uint8Array;  // Unique identifier\n  raw_data_size: bigint;         // Original size\n  // ... other commitment data\n}\n```\n\n---\n\n### client.createRegisterBlobPayload(options)\n\nCreate a transaction payload for registering a blob.\n\n**Parameters:**\n```typescript\n{\n  account: AccountAddress;       // Owner address\n  blobName: string;              // Human-readable name\n  blobSize: bigint;              // From commitments.raw_data_size\n  blobMerkleRoot: Uint8Array;    // From commitments.blob_merkle_root\n  expirationMicros: bigint;      // Expiration timestamp\n  numChunksets: number;          // From expectedTotalChunksets()\n}\n```\n\n**Returns:** Transaction payload for wallet signing\n\n---\n\n### client.rpc.putBlob(options)\n\nUpload blob data to storage nodes.\n\n**Parameters:**\n```typescript\n{\n  data: Uint8Array;              // Raw file data\n  commitments: Commitments;      // From client.commitments()\n  account: AccountAddress;       // Owner address\n  blobName: string;              // Must match registration\n  expirationMicros: bigint;      // Must match registration\n}\n```\n\n**Returns:** Promise<void>\n\n---\n\n### client.coordination.getAccountBlobs(options)\n\nList all blobs owned by an account.\n\n**Parameters:**\n```typescript\n{\n  account: AccountAddress;\n}\n```\n\n**Returns:**\n```typescript\nArray<{\n  blobNameSuffix: string;\n  blobName: string;\n  name: string;\n  size: bigint;\n  creationMicros: bigint;\n  expirationMicros: bigint;\n  blobMerkleRoot: Uint8Array;\n}>\n```\n\n---\n\n### client.download(options)\n\nDownload blob data.\n\n**Parameters:**\n```typescript\n{\n  account: AccountAddress;       // Owner address\n  blobName: string;              // Blob identifier\n}\n```\n\n**Returns:** Promise<Uint8Array>\n\n---\n\n### expectedTotalChunksets(size)\n\nCalculate number of chunksets for a given data size.\n\n**Parameters:**\n| Name | Type | Description |\n|------|------|-------------|\n| size | bigint | Data size in bytes |\n\n**Returns:** number\n\n---\n\n## Error Codes\n\n| Code | Description | Solution |\n|------|-------------|----------|\n| RESOURCE_NOT_FOUND | Account/resource doesn't exist | Account may have no balance |\n| SEQUENCE_NUMBER_TOO_OLD | Transaction nonce conflict | Refetch sequence number |\n| INSUFFICIENT_BALANCE | Not enough tokens | Check balance before tx |\n| BLOB_NOT_FOUND | Blob doesn't exist or expired | Verify blob name and owner |\n\n---\n\n## Rate Limits\n\n| Endpoint | Limit |\n|----------|-------|\n| View functions | 100 req/min |\n| Transactions | 10 req/min |\n| Blob operations | 50 req/min |\n\n---\n\n## CORS Headers\n\nThe Shelby API supports CORS for browser requests:\n\n```\nAccess-Control-Allow-Origin: *\nAccess-Control-Allow-Methods: GET, POST, OPTIONS\nAccess-Control-Allow-Headers: Content-Type\n```\n",
        "skills/shelby-blockchain/EXAMPLES.md": "# Shelby Code Examples\n\nComplete working examples for common Shelby operations.\n\n## Table of Contents\n\n1. [React: Complete Wallet Integration](#react-complete-wallet-integration)\n2. [React: File Upload Component](#react-file-upload-component)\n3. [React: Blob Gallery with Downloads](#react-blob-gallery-with-downloads)\n4. [Node.js: Server-Side Blob Service](#nodejs-server-side-blob-service)\n5. [Vanilla JS: Balance Fetching](#vanilla-js-balance-fetching)\n\n---\n\n## React: Complete Wallet Integration\n\n### WalletProvider.jsx\n\n```jsx\nimport { AptosWalletAdapterProvider } from \"@aptos-labs/wallet-adapter-react\";\nimport { AptosConnectWallet } from \"@aspect-build/aptos-connect-wallet-adapter\";\nimport { Network } from \"@aptos-labs/ts-sdk\";\n\nconst wallets = [\n  new AptosConnectWallet({\n    network: Network.TESTNET,\n    dappId: \"your-dapp-id\",\n    dappName: \"Your App Name\",\n  }),\n];\n\nexport function WalletProvider({ children }) {\n  return (\n    <AptosWalletAdapterProvider plugins={wallets} autoConnect={true}>\n      {children}\n    </AptosWalletAdapterProvider>\n  );\n}\n```\n\n### GuestContext.jsx (Balance Management)\n\n```jsx\nimport { createContext, useContext, useState, useEffect } from \"react\";\nimport { useWallet } from \"@aptos-labs/wallet-adapter-react\";\n\nconst SHELBY_FULLNODE = \"https://api.shelbynet.shelby.xyz/v1\";\nconst APT_METADATA = \"0xa\";\nconst SHELBY_USD_METADATA = \"0x1b18363a9f1fe5e6ebf247daba5cc1c18052bb232efdc4c50f556053922d98e1\";\n\nconst GuestContext = createContext();\n\nexport function GuestProvider({ children }) {\n  const [balance, setBalance] = useState(null);\n  const [shelbyUsdBalance, setShelbyUsdBalance] = useState(null);\n  const [balanceLoading, setBalanceLoading] = useState(false);\n  const { account, connected } = useWallet();\n\n  const fetchTokenBalance = async (address, metadata) => {\n    const payload = {\n      function: \"0x1::primary_fungible_store::balance\",\n      type_arguments: [\"0x1::fungible_asset::Metadata\"],\n      arguments: [address, metadata],\n    };\n\n    const response = await fetch(`${SHELBY_FULLNODE}/view`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(payload),\n    });\n\n    const result = await response.json();\n    return Array.isArray(result) && result.length > 0\n      ? Number(result[0]) / 100_000_000\n      : 0;\n  };\n\n  const refetchBalance = async () => {\n    if (!connected || !account?.address) return;\n    setBalanceLoading(true);\n\n    const addr = account.address.toString();\n\n    try {\n      const [apt, susd] = await Promise.all([\n        fetchTokenBalance(addr, APT_METADATA),\n        fetchTokenBalance(addr, SHELBY_USD_METADATA),\n      ]);\n      setBalance(apt);\n      setShelbyUsdBalance(susd);\n    } catch (err) {\n      console.error(\"Failed to fetch balances:\", err);\n    }\n\n    setBalanceLoading(false);\n  };\n\n  useEffect(() => {\n    if (connected && account?.address) {\n      refetchBalance();\n    }\n  }, [connected, account?.address]);\n\n  return (\n    <GuestContext.Provider\n      value={{\n        wallet: {\n          address: account?.address?.toString() || null,\n          balance,\n          isConnected: connected,\n        },\n        shelbyUsdBalance,\n        balanceLoading,\n        refetchBalance,\n      }}\n    >\n      {children}\n    </GuestContext.Provider>\n  );\n}\n\nexport const useGuest = () => useContext(GuestContext);\n```\n\n---\n\n## React: File Upload Component\n\n### useShelbyUpload.js\n\n```jsx\nimport { useState, useCallback } from \"react\";\nimport { useWallet } from \"@aptos-labs/wallet-adapter-react\";\nimport { ShelbyBlobClient, expectedTotalChunksets } from \"@aspect-build/shelby-sdk\";\nimport { AccountAddress, Aptos, AptosConfig, Network } from \"@aptos-labs/ts-sdk\";\n\nconst aptos = new Aptos(new AptosConfig({ network: Network.TESTNET }));\n\nexport function useShelbyUpload() {\n  const [uploading, setUploading] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [error, setError] = useState(null);\n  const { account, connected, signAndSubmitTransaction } = useWallet();\n\n  const uploadFile = useCallback(async (file) => {\n    if (!connected || !account?.address) {\n      throw new Error(\"Wallet not connected\");\n    }\n\n    setUploading(true);\n    setProgress(0);\n    setError(null);\n\n    try {\n      const client = new ShelbyBlobClient();\n      const blobData = new Uint8Array(await file.arrayBuffer());\n      const accountAddr = AccountAddress.from(account.address.toString());\n\n      setProgress(10);\n\n      // Generate commitments\n      const commitments = client.commitments(blobData);\n      setProgress(30);\n\n      // Calculate expiration (365 days)\n      const expirationMicros = BigInt(Date.now() + 365 * 24 * 60 * 60 * 1000) * 1000n;\n\n      // Create and submit registration transaction\n      const payload = client.createRegisterBlobPayload({\n        account: accountAddr,\n        blobName: file.name,\n        blobSize: commitments.raw_data_size,\n        blobMerkleRoot: commitments.blob_merkle_root,\n        expirationMicros,\n        numChunksets: expectedTotalChunksets(commitments.raw_data_size),\n      });\n\n      setProgress(50);\n\n      const txResponse = await signAndSubmitTransaction({ data: payload });\n      await aptos.waitForTransaction({ transactionHash: txResponse.hash });\n\n      setProgress(70);\n\n      // Upload blob data\n      await client.rpc.putBlob({\n        data: blobData,\n        commitments,\n        account: accountAddr,\n        blobName: file.name,\n        expirationMicros,\n      });\n\n      setProgress(100);\n\n      return {\n        hash: Buffer.from(commitments.blob_merkle_root).toString(\"hex\"),\n        name: file.name,\n        size: blobData.byteLength,\n        txHash: txResponse.hash,\n      };\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    } finally {\n      setUploading(false);\n    }\n  }, [connected, account, signAndSubmitTransaction]);\n\n  return { uploadFile, uploading, progress, error };\n}\n```\n\n### FileUploader.jsx\n\n```jsx\nimport { useCallback } from \"react\";\nimport { useDropzone } from \"react-dropzone\";\nimport { useShelbyUpload } from \"../hooks/useShelbyUpload\";\n\nexport function FileUploader({ onUploadComplete }) {\n  const { uploadFile, uploading, progress, error } = useShelbyUpload();\n\n  const onDrop = useCallback(async (acceptedFiles) => {\n    for (const file of acceptedFiles) {\n      try {\n        const result = await uploadFile(file);\n        onUploadComplete?.(result);\n      } catch (err) {\n        console.error(\"Upload failed:\", err);\n      }\n    }\n  }, [uploadFile, onUploadComplete]);\n\n  const { getRootProps, getInputProps, isDragActive } = useDropzone({\n    onDrop,\n    disabled: uploading,\n  });\n\n  return (\n    <div\n      {...getRootProps()}\n      className={`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer\n        ${isDragActive ? \"border-blue-500 bg-blue-50\" : \"border-gray-300\"}\n        ${uploading ? \"opacity-50 cursor-not-allowed\" : \"\"}`}\n    >\n      <input {...getInputProps()} />\n\n      {uploading ? (\n        <div>\n          <p>Uploading... {progress}%</p>\n          <div className=\"w-full bg-gray-200 rounded-full h-2 mt-2\">\n            <div\n              className=\"bg-blue-500 h-2 rounded-full transition-all\"\n              style={{ width: `${progress}%` }}\n            />\n          </div>\n        </div>\n      ) : (\n        <p>\n          {isDragActive\n            ? \"Drop files here...\"\n            : \"Drag & drop files, or click to select\"}\n        </p>\n      )}\n\n      {error && <p className=\"text-red-500 mt-2\">{error}</p>}\n    </div>\n  );\n}\n```\n\n---\n\n## React: Blob Gallery with Downloads\n\n### useShelbyBlobs.js\n\n```jsx\nimport { useState, useCallback, useEffect } from \"react\";\nimport { useWallet } from \"@aptos-labs/wallet-adapter-react\";\nimport { ShelbyBlobClient } from \"@aspect-build/shelby-sdk\";\nimport { AccountAddress } from \"@aptos-labs/ts-sdk\";\n\nconst MIME_TYPES = {\n  jpg: \"image/jpeg\", jpeg: \"image/jpeg\", png: \"image/png\",\n  gif: \"image/gif\", webp: \"image/webp\", svg: \"image/svg+xml\",\n  mp4: \"video/mp4\", webm: \"video/webm\", mp3: \"audio/mpeg\",\n  pdf: \"application/pdf\", json: \"application/json\", txt: \"text/plain\",\n};\n\nfunction getMimeType(filename) {\n  const ext = filename.split(\".\").pop()?.toLowerCase();\n  return MIME_TYPES[ext] || \"application/octet-stream\";\n}\n\nexport function useShelbyBlobs() {\n  const [blobs, setBlobs] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const { account, connected } = useWallet();\n\n  const fetchBlobs = useCallback(async () => {\n    if (!connected || !account?.address) return;\n\n    setLoading(true);\n    setError(null);\n\n    try {\n      const client = new ShelbyBlobClient();\n      const accountAddr = AccountAddress.from(account.address.toString());\n      const blobList = await client.coordination.getAccountBlobs({ account: accountAddr });\n\n      const parsed = blobList.map((blob) => ({\n        id: Buffer.from(blob.blobMerkleRoot).toString(\"hex\"),\n        name: blob.blobNameSuffix || blob.name || blob.blobName,\n        hash: Buffer.from(blob.blobMerkleRoot).toString(\"hex\"),\n        size: Number(blob.size),\n        mimeType: getMimeType(blob.blobNameSuffix || blob.name || \"\"),\n        createdAt: Number(blob.creationMicros) / 1000,\n        expiresAt: Number(blob.expirationMicros) / 1000,\n      }));\n\n      setBlobs(parsed);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [connected, account]);\n\n  const downloadBlob = useCallback(async (blob) => {\n    const client = new ShelbyBlobClient();\n    const accountAddr = AccountAddress.from(account.address.toString());\n    const data = await client.download({ account: accountAddr, blobName: blob.name });\n\n    const blobObj = new Blob([data], { type: blob.mimeType });\n    const url = URL.createObjectURL(blobObj);\n\n    // Trigger download\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = blob.name;\n    a.click();\n\n    URL.revokeObjectURL(url);\n    return data;\n  }, [account]);\n\n  useEffect(() => {\n    if (connected) {\n      fetchBlobs();\n    }\n  }, [connected, fetchBlobs]);\n\n  return { blobs, loading, error, fetchBlobs, downloadBlob };\n}\n```\n\n### BlobGallery.jsx\n\n```jsx\nimport { useShelbyBlobs } from \"../hooks/useShelbyBlobs\";\n\nfunction formatBytes(bytes) {\n  if (bytes < 1024) return `${bytes} B`;\n  if (bytes < 1024 * 1024) return `${(bytes / 1024).toFixed(1)} KB`;\n  return `${(bytes / (1024 * 1024)).toFixed(1)} MB`;\n}\n\nexport function BlobGallery() {\n  const { blobs, loading, error, fetchBlobs, downloadBlob } = useShelbyBlobs();\n\n  if (loading) return <div>Loading blobs...</div>;\n  if (error) return <div className=\"text-red-500\">Error: {error}</div>;\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex justify-between items-center\">\n        <h2 className=\"text-xl font-bold\">Your Files</h2>\n        <button onClick={fetchBlobs} className=\"btn-secondary\">\n          Refresh\n        </button>\n      </div>\n\n      {blobs.length === 0 ? (\n        <p className=\"text-gray-500\">No files uploaded yet.</p>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {blobs.map((blob) => (\n            <div key={blob.id} className=\"border rounded-lg p-4\">\n              <h3 className=\"font-medium truncate\">{blob.name}</h3>\n              <p className=\"text-sm text-gray-500\">{formatBytes(blob.size)}</p>\n              <p className=\"text-xs text-gray-400\">\n                Expires: {new Date(blob.expiresAt).toLocaleDateString()}\n              </p>\n              <button\n                onClick={() => downloadBlob(blob)}\n                className=\"mt-2 text-blue-500 hover:underline\"\n              >\n                Download\n              </button>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n```\n\n---\n\n## Node.js: Server-Side Blob Service\n\n### shelby.service.js\n\n```javascript\nimport { ShelbyBlobClient } from \"@aspect-build/shelby-sdk\";\nimport { AccountAddress } from \"@aptos-labs/ts-sdk\";\n\nclass ShelbyService {\n  constructor() {\n    this.client = new ShelbyBlobClient();\n  }\n\n  async listFiles(walletAddress) {\n    const account = AccountAddress.from(walletAddress);\n    const blobs = await this.client.coordination.getAccountBlobs({ account });\n\n    return blobs.map((blob) => ({\n      name: blob.blobNameSuffix || blob.name,\n      hash: Buffer.from(blob.blobMerkleRoot).toString(\"hex\"),\n      size: Number(blob.size),\n      createdAt: Number(blob.creationMicros) / 1000,\n      expiresAt: Number(blob.expirationMicros) / 1000,\n    }));\n  }\n\n  async downloadFile(blobName, walletAddress) {\n    const account = AccountAddress.from(walletAddress);\n    const data = await this.client.download({ account, blobName });\n    return data;\n  }\n\n  async getFileStream(blobName, walletAddress) {\n    const data = await this.downloadFile(blobName, walletAddress);\n    const { Readable } = await import(\"stream\");\n\n    return {\n      stream: Readable.from(Buffer.from(data)),\n      contentLength: data.byteLength,\n      name: blobName,\n    };\n  }\n}\n\nexport const shelbyService = new ShelbyService();\n```\n\n### Express Routes\n\n```javascript\nimport express from \"express\";\nimport { shelbyService } from \"./services/shelby.service.js\";\n\nconst router = express.Router();\n\nrouter.get(\"/files\", async (req, res) => {\n  const walletAddress = req.headers[\"x-wallet-address\"];\n\n  if (!walletAddress) {\n    return res.status(401).json({ error: \"Wallet address required\" });\n  }\n\n  try {\n    const files = await shelbyService.listFiles(walletAddress);\n    res.json(files);\n  } catch (err) {\n    res.status(500).json({ error: err.message });\n  }\n});\n\nrouter.get(\"/files/:blobName/download\", async (req, res) => {\n  const { blobName } = req.params;\n  const walletAddress = req.headers[\"x-wallet-address\"];\n\n  try {\n    const { stream, contentLength, name } = await shelbyService.getFileStream(\n      blobName,\n      walletAddress\n    );\n\n    res.setHeader(\"Content-Disposition\", `attachment; filename=\"${name}\"`);\n    res.setHeader(\"Content-Length\", contentLength);\n    stream.pipe(res);\n  } catch (err) {\n    res.status(500).json({ error: err.message });\n  }\n});\n\nexport default router;\n```\n\n---\n\n\n## Vanilla JS: Balance Fetching\n\n### For use without frameworks\n\n```html\n<!DOCTYPE html>\n<html>\n<head>\n  <title>Shelby Balance Checker</title>\n</head>\n<body>\n  <input type=\"text\" id=\"address\" placeholder=\"Wallet address (0x...)\" />\n  <button onclick=\"checkBalance()\">Check Balance</button>\n  <div id=\"result\"></div>\n\n  <script>\n    const SHELBY_FULLNODE = \"https://api.shelbynet.shelby.xyz/v1\";\n    const APT_METADATA = \"0xa\";\n    const SUSD_METADATA = \"0x1b18363a9f1fe5e6ebf247daba5cc1c18052bb232efdc4c50f556053922d98e1\";\n\n    async function fetchBalance(address, metadata) {\n      const response = await fetch(`${SHELBY_FULLNODE}/view`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          function: \"0x1::primary_fungible_store::balance\",\n          type_arguments: [\"0x1::fungible_asset::Metadata\"],\n          arguments: [address, metadata],\n        }),\n      });\n\n      const result = await response.json();\n      return Array.isArray(result) ? Number(result[0]) / 1e8 : 0;\n    }\n\n    async function checkBalance() {\n      const address = document.getElementById(\"address\").value;\n      const resultDiv = document.getElementById(\"result\");\n\n      if (!address) {\n        resultDiv.textContent = \"Please enter a wallet address\";\n        return;\n      }\n\n      resultDiv.textContent = \"Loading...\";\n\n      try {\n        const [apt, susd] = await Promise.all([\n          fetchBalance(address, APT_METADATA),\n          fetchBalance(address, SUSD_METADATA),\n        ]);\n\n        resultDiv.innerHTML = `\n          <p><strong>APT Balance:</strong> ${apt.toFixed(4)} APT</p>\n          <p><strong>ShelbyUSD Balance:</strong> ${susd.toFixed(4)} SUSD</p>\n        `;\n      } catch (err) {\n        resultDiv.textContent = `Error: ${err.message}`;\n      }\n    }\n  </script>\n</body>\n</html>\n```\n\n---\n\n## Cost Calculator\n\n```javascript\nfunction calculateStorageCost(sizeBytes) {\n  const RATE_PER_GB_MONTH = 0.05; // $0.05\n  const DURATION_MONTHS = 12;\n\n  const sizeGB = sizeBytes / (1024 ** 3);\n  const totalCost = sizeGB * RATE_PER_GB_MONTH * DURATION_MONTHS;\n\n  return {\n    sizeGB: sizeGB.toFixed(6),\n    monthlyRate: RATE_PER_GB_MONTH,\n    duration: DURATION_MONTHS,\n    totalCost: totalCost.toFixed(6),\n    currency: \"ShelbyUSD\",\n    formatted: `${totalCost.toFixed(4)} SUSD for ${DURATION_MONTHS} months`,\n  };\n}\n\n// Example\nconsole.log(calculateStorageCost(1024 * 1024 * 100)); // 100 MB file\n// { sizeGB: \"0.095367\", totalCost: \"0.057220\", ... }\n```\n",
        "skills/shelby-blockchain/SKILL.md": "---\nname: shelby-blockchain\ndescription: Interact with Shelby decentralized storage on Aptos blockchain. Use when uploading files, downloading blobs, checking APT/ShelbyUSD balances, listing transactions, or building Shelby-based applications. Covers blob storage, fungible assets, and WebDAV integration.\nallowed-tools: Read, Glob, Grep, Bash(curl:*), Bash(npm:*), WebFetch\n---\n\n# Shelby Blockchain Operations\n\nThis skill provides comprehensive guidance for interacting with Shelby, a decentralized storage network built on the Aptos blockchain.\n\n## Quick Reference\n\n| Operation | Method | Endpoint/SDK |\n|-----------|--------|--------------|\n| Upload file | SDK | `client.upload()` + wallet signing |\n| Download blob | SDK | `client.download()` |\n| List blobs | SDK | `client.coordination.getAccountBlobs()` |\n| APT balance | REST | POST `/view` with fungible asset |\n| ShelbyUSD balance | REST | POST `/view` with fungible asset |\n| List transactions | REST | GET `/accounts/{addr}/transactions` |\n\n## Network Configuration\n\n```javascript\n// Shelby Fullnode API\nconst SHELBY_FULLNODE = \"https://api.shelbynet.shelby.xyz/v1\";\n\n// Token Metadata Addresses (Fungible Assets on Shelbynet)\nconst APT_METADATA = \"0xa\";\nconst SHELBY_USD_METADATA = \"0x1b18363a9f1fe5e6ebf247daba5cc1c18052bb232efdc4c50f556053922d98e1\";\n\n// Decimal conversion (8 decimals)\nconst DECIMAL_DIVISOR = 100_000_000;\n```\n\n## Core Operations\n\n### 1. Fetching Token Balances\n\nOn Shelbynet, both APT and ShelbyUSD are stored as **Fungible Assets**, not legacy CoinStore. Use the `primary_fungible_store::balance` view function:\n\n```javascript\nasync function fetchBalance(address, metadataAddress) {\n  const payload = {\n    function: \"0x1::primary_fungible_store::balance\",\n    type_arguments: [\"0x1::fungible_asset::Metadata\"],\n    arguments: [address, metadataAddress],\n  };\n\n  const response = await fetch(`${SHELBY_FULLNODE}/view`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(payload),\n  });\n\n  const result = await response.json();\n  return Array.isArray(result) && result.length > 0\n    ? Number(result[0]) / 100_000_000\n    : 0;\n}\n\n// Usage\nconst aptBalance = await fetchBalance(walletAddress, \"0xa\");\nconst susdBalance = await fetchBalance(walletAddress, SHELBY_USD_METADATA);\n```\n\n### 2. Uploading Files to Shelby\n\n```javascript\nimport { ShelbyBlobClient, expectedTotalChunksets } from \"@aspect-build/shelby-sdk\";\n\nasync function uploadToShelby(file, wallet) {\n  const client = new ShelbyBlobClient();\n  const blobData = new Uint8Array(await file.arrayBuffer());\n  const account = AccountAddress.from(wallet.account.address);\n\n  // Calculate expiration (365 days)\n  const expirationMicros = BigInt(Date.now() + 365 * 24 * 60 * 60 * 1000) * 1000n;\n\n  // Generate commitments\n  const commitments = client.commitments(blobData);\n\n  // Create registration payload\n  const payload = client.createRegisterBlobPayload({\n    account,\n    blobName: file.name,\n    blobSize: commitments.raw_data_size,\n    blobMerkleRoot: commitments.blob_merkle_root,\n    expirationMicros,\n    numChunksets: expectedTotalChunksets(commitments.raw_data_size),\n  });\n\n  // Sign and submit transaction\n  const txResponse = await wallet.signAndSubmitTransaction({ data: payload });\n  await aptos.waitForTransaction({ transactionHash: txResponse.hash });\n\n  // Upload blob data\n  await client.rpc.putBlob({\n    data: blobData,\n    commitments,\n    account,\n    blobName: file.name,\n    expirationMicros,\n  });\n\n  return {\n    hash: commitments.blob_merkle_root,\n    name: file.name,\n    size: blobData.byteLength,\n    txHash: txResponse.hash,\n  };\n}\n```\n\n### 3. Listing Blobs\n\n```javascript\nasync function listBlobs(walletAddress) {\n  const client = new ShelbyBlobClient();\n  const account = AccountAddress.from(walletAddress);\n  const blobs = await client.coordination.getAccountBlobs({ account });\n\n  return blobs.map(blob => ({\n    name: blob.blobNameSuffix || blob.name || blob.blobName,\n    hash: Buffer.from(blob.blobMerkleRoot).toString(\"hex\"),\n    size: blob.size,\n    createdAt: Number(blob.creationMicros) / 1000,\n    expiresAt: Number(blob.expirationMicros) / 1000,\n  }));\n}\n```\n\n### 4. Downloading Blobs\n\n```javascript\nasync function downloadBlob(blobName, walletAddress) {\n  const client = new ShelbyBlobClient();\n  const account = AccountAddress.from(walletAddress);\n  const data = await client.download({ account, blobName });\n  return data; // Uint8Array\n}\n\n// Create downloadable URL in browser\nfunction createBlobUrl(data, mimeType) {\n  const blob = new Blob([data], { type: mimeType });\n  return URL.createObjectURL(blob);\n}\n```\n\n### 5. Fetching Transactions\n\n```javascript\nasync function fetchTransactions(address, limit = 20) {\n  const response = await fetch(\n    `${SHELBY_FULLNODE}/accounts/${address}/transactions?limit=${limit}`\n  );\n  const txData = await response.json();\n\n  return txData.map(tx => ({\n    hash: tx.hash,\n    version: tx.version,\n    success: tx.success,\n    gasUsed: tx.gas_used,\n    timestamp: tx.timestamp,\n    type: parseTransactionType(tx.payload?.function),\n  }));\n}\n\nfunction parseTransactionType(fn) {\n  if (!fn) return \"unknown\";\n  if (fn.includes(\"register_blob\")) return \"upload\";\n  if (fn.includes(\"transfer\")) return \"transfer\";\n  if (fn.includes(\"mint\")) return \"mint\";\n  if (fn.includes(\"faucet\")) return \"faucet\";\n  return \"other\";\n}\n```\n\n### 6. Cost Calculation\n\n```javascript\nfunction calculateUploadCost(sizeBytes) {\n  const STORAGE_RATE_PER_GB_MONTH = 0.05; // $0.05 per GB per month\n  const DURATION_MONTHS = 12;\n\n  const sizeGB = sizeBytes / (1024 * 1024 * 1024);\n  const totalCost = sizeGB * STORAGE_RATE_PER_GB_MONTH * DURATION_MONTHS;\n\n  return {\n    sizeGB,\n    costPerGBMonth: STORAGE_RATE_PER_GB_MONTH,\n    durationMonths: DURATION_MONTHS,\n    totalCost,\n    currency: \"ShelbyUSD\",\n  };\n}\n```\n\n## Required Dependencies\n\n```json\n{\n  \"@aspect-build/shelby-sdk\": \"latest\",\n  \"@aptos-labs/ts-sdk\": \"^1.33.1\",\n  \"@aptos-labs/wallet-adapter-react\": \"^3.x\"\n}\n```\n\n## Environment Variables\n\n```bash\nVITE_SHELBY_API_KEY=your_api_key    # Frontend SDK key\nSHELBY_API_KEY=your_api_key          # Server-side SDK key\nAPTOS_NETWORK=testnet                # Network setting\n```\n\n## Common Patterns\n\n### React Hook for Balances\n\n```javascript\nconst useBalances = () => {\n  const [apt, setApt] = useState(null);\n  const [susd, setSusd] = useState(null);\n  const { account, connected } = useWallet();\n\n  useEffect(() => {\n    if (connected && account?.address) {\n      const addr = account.address.toString();\n      fetchBalance(addr, \"0xa\").then(setApt);\n      fetchBalance(addr, SHELBY_USD_METADATA).then(setSusd);\n    }\n  }, [connected, account?.address]);\n\n  return { apt, susd };\n};\n```\n\n### Error Handling\n\n```javascript\ntry {\n  const balance = await fetchBalance(address, metadata);\n} catch (err) {\n  if (err.message?.includes(\"RESOURCE_NOT_FOUND\")) {\n    return 0; // Account has no balance\n  }\n  throw err;\n}\n```\n\n## Additional Resources\n\n- [API-REFERENCE.md](API-REFERENCE.md) - Detailed endpoint documentation\n- [EXAMPLES.md](EXAMPLES.md) - Complete code examples for React/Node.js\n\n## Key Insights\n\n1. **APT is a Fungible Asset on Shelbynet** - Don't look for CoinStore, use `primary_fungible_store::balance`\n2. **All amounts use 8 decimals** - Divide raw values by 100,000,000\n3. **Blobs expire automatically** - No delete operation needed; set expiration on upload\n4. **Wallet signing required for uploads** - Downloads are read-only\n5. **WebDAV provides filesystem access** - Mount blobs as a virtual drive (read-only)\n"
      },
      "plugins": [
        {
          "name": "shelby-blockchain",
          "source": "./",
          "description": "Skills for building on Shelby decentralized storage network (Aptos blockchain). Covers file upload/download, APT/ShelbyUSD balances, and blob management.",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add codehakase/shelby-skills",
            "/plugin install shelby-blockchain@shelby-skills"
          ]
        }
      ]
    }
  ]
}