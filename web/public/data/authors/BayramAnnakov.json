{
  "author": {
    "id": "BayramAnnakov",
    "display_name": "Bayram Annakov",
    "avatar_url": "https://avatars.githubusercontent.com/u/774131?v=4"
  },
  "marketplaces": [
    {
      "name": "claude-reflect-marketplace",
      "version": null,
      "description": "Official marketplace for claude-reflect, a self-learning plugin for Claude Code",
      "repo_full_name": "BayramAnnakov/claude-reflect",
      "repo_url": "https://github.com/BayramAnnakov/claude-reflect",
      "repo_description": "A self-learning system for Claude Code that captures corrections, positive feedback, and preferences — then syncs them to CLAUDE.md and AGENTS.md.",
      "signals": {
        "stars": 628,
        "forks": 36,
        "pushed_at": "2026-01-25T21:20:13Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"claude-reflect-marketplace\",\n  \"description\": \"Official marketplace for claude-reflect, a self-learning plugin for Claude Code\",\n  \"owner\": {\n    \"name\": \"Bayram Annakov\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"claude-reflect\",\n      \"source\": \"./\",\n      \"description\": \"Self-learning system that captures corrections and updates CLAUDE.md\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"claude-reflect\",\n  \"version\": \"2.5.0\",\n  \"description\": \"Self-learning system for Claude Code that captures corrections and updates CLAUDE.md automatically\",\n  \"author\": {\n    \"name\": \"Bayram Annakov\",\n    \"url\": \"https://github.com/bayramannakov\"\n  },\n  \"repository\": \"https://github.com/bayramannakov/claude-reflect\",\n  \"license\": \"MIT\",\n  \"keywords\": [\n    \"claude-code\",\n    \"self-learning\",\n    \"corrections\",\n    \"CLAUDE.md\",\n    \"memory\",\n    \"learnings\"\n  ]\n}\n",
        "README.md": "# claude-reflect\n\n[![GitHub stars](https://img.shields.io/github/stars/BayramAnnakov/claude-reflect?style=flat-square)](https://github.com/BayramAnnakov/claude-reflect/stargazers)\n[![Version](https://img.shields.io/badge/version-2.5.0-blue?style=flat-square)](https://github.com/BayramAnnakov/claude-reflect/releases)\n[![License: MIT](https://img.shields.io/badge/License-MIT-green?style=flat-square)](https://opensource.org/licenses/MIT)\n[![Tests](https://img.shields.io/badge/tests-141%20passing-brightgreen?style=flat-square)](https://github.com/BayramAnnakov/claude-reflect/actions)\n[![Platform](https://img.shields.io/badge/platform-macOS%20%7C%20Linux%20%7C%20Windows-lightgrey?style=flat-square)](https://github.com/BayramAnnakov/claude-reflect#platform-support)\n\nA self-learning system for Claude Code that captures corrections and discovers workflow patterns — turning them into permanent memory and reusable skills.\n\n## What it does\n\n### 1. Learn from Corrections\n\nWhen you correct Claude (\"no, use gpt-5.1 not gpt-5\"), it remembers forever.\n\n```\n┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐\n│  You correct    │ ──► │  Hook captures  │ ──► │  /reflect adds  │\n│  Claude Code    │     │  to queue       │     │  to CLAUDE.md   │\n└─────────────────┘     └─────────────────┘     └─────────────────┘\n      (automatic)            (automatic)            (manual review)\n```\n\n### 2. Discover Workflow Patterns (NEW in v2)\n\nAnalyzes your session history to find repeating tasks that could become reusable commands.\n\n```\n┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐\n│  Your past      │ ──► │ /reflect-skills │ ──► │   Generates     │\n│  sessions       │     │ finds patterns  │     │   /commands     │\n└─────────────────┘     └─────────────────┘     └─────────────────┘\n    (68 sessions)         (AI-powered)            (you approve)\n```\n\nExample: You've asked \"review my productivity\" 12 times → suggests creating `/daily-review`\n\n## Key Features\n\n| Feature | What it does |\n|---------|--------------|\n| **Permanent Memory** | Corrections sync to CLAUDE.md — Claude remembers across sessions |\n| **Skill Discovery** | Finds repeating patterns in your history → generates commands |\n| **Multi-language** | AI understands corrections in any language |\n| **Skill Improvement** | Corrections during `/deploy` improve the deploy skill itself |\n\n## Installation\n\n```bash\n# Add the marketplace\nclaude plugin marketplace add bayramannakov/claude-reflect\n\n# Install the plugin\nclaude plugin install claude-reflect@claude-reflect-marketplace\n\n# IMPORTANT: Restart Claude Code to activate the plugin\n```\n\nAfter installation, **restart Claude Code** (exit and reopen). Then hooks auto-configure and commands are ready.\n\n> **First run?** When you run `/reflect` for the first time, you'll be prompted to scan your past sessions for learnings.\n\n### Prerequisites\n\n- [Claude Code](https://claude.ai/code) CLI installed\n- Python 3.6+ (included on most systems)\n\n### Platform Support\n\n- **macOS**: Fully supported\n- **Linux**: Fully supported\n- **Windows**: Fully supported (native Python, no WSL required)\n\n## Commands\n\n| Command | Description |\n|---------|-------------|\n| `/reflect` | Process queued learnings with human review |\n| `/reflect --scan-history` | Scan ALL past sessions for missed learnings |\n| `/reflect --dry-run` | Preview changes without applying |\n| `/reflect --targets` | Show detected config files (CLAUDE.md, AGENTS.md) |\n| `/reflect --review` | Show queue with confidence scores and decay status |\n| `/reflect --dedupe` | Find and consolidate similar entries in CLAUDE.md |\n| `/reflect --include-tool-errors` | Include tool execution errors in scan |\n| `/reflect-skills` | Discover skill candidates from repeating patterns |\n| `/reflect-skills --days N` | Analyze last N days (default: 14) |\n| `/reflect-skills --project <path>` | Analyze specific project |\n| `/reflect-skills --all-projects` | Scan all projects for cross-project patterns |\n| `/reflect-skills --dry-run` | Preview patterns without generating skill files |\n| `/skip-reflect` | Discard all queued learnings |\n| `/view-queue` | View pending learnings without processing |\n\n## How It Works\n\n![claude-reflect in action](assets/reflect-demo.jpg)\n\n### Two-Stage Process\n\n**Stage 1: Capture (Automatic)**\n\nHooks run automatically to detect and queue corrections:\n\n| Hook | Trigger | Purpose |\n|------|---------|---------|\n| `session_start_reminder.py` | Session start | Shows pending learnings reminder |\n| `capture_learning.py` | Every prompt | Detects correction patterns and queues them |\n| `check_learnings.py` | Before compaction | Backs up queue and informs user |\n| `post_commit_reminder.py` | After git commit | Reminds to run /reflect after completing work |\n\n**Stage 2: Process (Manual)**\n\nRun `/reflect` to review and apply queued learnings to CLAUDE.md.\n\n### Detection Methods\n\nClaude-reflect uses a **hybrid detection approach**:\n\n**1. Regex patterns (real-time capture)**\n\nFast pattern matching during sessions detects:\n\n- **Corrections**: `\"no, use X\"` / `\"don't use Y\"` / `\"actually...\"` / `\"that's wrong\"`\n- **Positive feedback**: `\"Perfect!\"` / `\"Exactly right\"` / `\"Great approach\"`\n- **Explicit markers**: `\"remember:\"` — highest confidence\n\n**2. Semantic AI validation (during /reflect)**\n\nWhen you run `/reflect`, an AI-powered semantic filter:\n- **Multi-language support** — understands corrections in any language\n- **Better accuracy** — filters out false positives from regex\n- **Cleaner learnings** — extracts concise, actionable statements\n\nExample: A Spanish correction like `\"no, usa Python\"` is correctly detected even though it doesn't match English patterns.\n\nEach captured learning has a **confidence score** (0.60-0.95). The final score is the higher of regex and semantic confidence.\n\n### Human Review\n\nWhen you run `/reflect`, Claude presents a summary table with options:\n- **Apply** - Accept the learning and add to CLAUDE.md\n- **Edit before applying** - Modify the learning text first\n- **Skip** - Don't apply this learning\n\n### Multi-Target Sync\n\nApproved learnings are synced to:\n- `~/.claude/CLAUDE.md` (global - applies to all projects)\n- `./CLAUDE.md` (project-specific)\n- `./**/CLAUDE.md` (subdirectories - auto-discovered)\n- `./.claude/commands/*.md` (skill files - when correction relates to a skill)\n- `AGENTS.md` (if exists - works with Codex, Cursor, Aider, Jules, Zed, Factory)\n\nRun `/reflect --targets` to see which files will be updated.\n\n### Skill Discovery\n\nRun `/reflect-skills` to discover repeating patterns in your sessions that could become reusable skills:\n\n```\n/reflect-skills                 # Analyze current project (last 14 days)\n/reflect-skills --days 30       # Analyze last 30 days\n/reflect-skills --all-projects  # Analyze all projects (slower)\n/reflect-skills --dry-run       # Preview patterns without generating files\n```\n\n**Features:**\n- **AI-powered detection** — uses reasoning, not regex, to find patterns\n- **Semantic similarity** — detects same intent across different phrasings\n- **Project-aware** — groups patterns by project, suggests correct location\n- **Smart assignment** — asks where each skill should go (project vs global)\n- **Generates skill files** — creates draft skills in `.claude/commands/`\n\n**How it works:**\n\nThe skill discovers patterns by analyzing your session history semantically. Different phrasings of the same intent are recognized:\n\n```\nSession 1: \"review my productivity for today\"\nSession 2: \"how was my focus this afternoon?\"\nSession 3: \"check my ActivityWatch data\"\nSession 4: \"evaluate my work hours\"\n```\n\nClaude reasons: *\"These 4 requests have the same intent - reviewing productivity data. The workflow is: fetch time tracking data → categorize activities → calculate focus score. This is a strong candidate for /daily-review.\"*\n\n**Example output:**\n```\n════════════════════════════════════════════════════════════\nSKILL CANDIDATES DISCOVERED\n════════════════════════════════════════════════════════════\n\nFound 2 potential skills from analyzing 68 sessions:\n\n1. /daily-review (High) — from my-productivity-tools\n   → Review productivity using time tracking data\n   Evidence: 15 similar requests\n   Corrections learned: \"use local timezone\", \"chat apps can be work\"\n\n2. /deploy-app (High) — from my-webapp\n   → Deploy application with pre-flight checks\n   Evidence: 10 similar requests\n   Corrections learned: \"always run tests first\"\n\n════════════════════════════════════════════════════════════\n\nWhich skills should I generate?\n> [1] /daily-review, [2] /deploy-app\n\nWhere should each skill be created?\n┌──────────────────────┬─────────────────────────┐\n│ /daily-review        │ my-productivity-tools   │\n│ /deploy-app          │ my-webapp               │\n└──────────────────────┴─────────────────────────┘\n\nSkills created:\n  ~/projects/my-productivity-tools/.claude/commands/daily-review.md\n  ~/projects/my-webapp/.claude/commands/deploy-app.md\n```\n\n**Generated skill file example:**\n\n```markdown\n---\ndescription: Deploy application with pre-flight checks\nallowed-tools: Bash, Read, Write\n---\n\n## Context\nDeployment scripts in ./scripts/deploy/\n\n## Your Task\nDeploy the application to the specified environment.\n\n### Steps\n1. Run test suite\n2. Build production assets\n3. Deploy to target environment\n4. Verify deployment health\n\n### Guardrails\n- Always run tests before deploying\n- Never deploy to production on Fridays\n- Check for pending migrations\n\n---\n*Generated by /reflect-skills from 10 session patterns*\n```\n\n### Skill Improvement Routing\n\nWhen you correct Claude while using a skill (e.g., `/deploy`), the correction can be routed back to the skill file itself:\n\n```\nUser: /deploy\nClaude: [deploys without running tests]\nUser: \"no, always run tests before deploying\"\n\n→ /reflect detects this relates to /deploy\n→ Offers to add learning to .claude/commands/deploy.md\n→ Skill file updated with new step\n```\n\nThis makes skills smarter over time, not just CLAUDE.md.\n\n## Upgrading\n\n### From v2.0.x or earlier\n\nIf you see errors like \"Duplicate hooks file detected\" or \"No such file or directory\" after updating, you need to clear the plugin cache. This is due to known Claude Code caching issues:\n- [#14061](https://github.com/anthropics/claude-code/issues/14061) - `/plugin update` doesn't invalidate cache\n- [#15369](https://github.com/anthropics/claude-code/issues/15369) - Uninstall doesn't clear cached files\n\n```bash\n# 1. Uninstall the plugin\nclaude plugin uninstall claude-reflect@claude-reflect-marketplace\n\n# 2. Clear both caches (required!)\nrm -rf ~/.claude/plugins/marketplaces/claude-reflect-marketplace\nrm -rf ~/.claude/plugins/cache/claude-reflect-marketplace\n\n# 3. Exit Claude Code completely (restart terminal or close app)\n\n# 4. Reinstall\nclaude plugin install claude-reflect@claude-reflect-marketplace\n```\n\n### Standard Update\n\nFor normal updates (when no cache issues):\n\n```bash\n# Use the /plugin menu in Claude Code\n/plugin\n# Select \"Update now\" for claude-reflect\n```\n\n## Uninstall\n\n```bash\nclaude plugin uninstall claude-reflect@claude-reflect-marketplace\n```\n\n## File Structure\n\n```\nclaude-reflect/\n├── .claude-plugin/\n│   └── plugin.json         # Plugin manifest (auto-registers hooks)\n├── commands/\n│   ├── reflect.md          # Main command\n│   ├── reflect-skills.md   # Skill discovery\n│   ├── skip-reflect.md     # Discard queue\n│   └── view-queue.md       # View queue\n├── hooks/\n│   └── hooks.json          # Auto-configured when plugin installed\n├── scripts/\n│   ├── lib/\n│   │   ├── reflect_utils.py      # Shared utilities\n│   │   └── semantic_detector.py  # AI-powered semantic analysis\n│   ├── capture_learning.py       # Hook: detect corrections\n│   ├── check_learnings.py        # Hook: pre-compact check\n│   ├── post_commit_reminder.py   # Hook: post-commit reminder\n│   ├── compare_detection.py      # Compare regex vs semantic detection\n│   ├── extract_session_learnings.py\n│   ├── extract_tool_errors.py\n│   ├── extract_tool_rejections.py\n│   └── legacy/                   # Bash scripts (deprecated)\n├── tests/                  # Test suite\n└── SKILL.md                # Skill context for Claude\n```\n\n## Features\n\n### Historical Scan\n\nFirst time using claude-reflect? Run:\n\n```bash\n/reflect --scan-history\n```\n\nThis scans all your past sessions for corrections you made, so you don't lose learnings from before installation.\n\n### Smart Filtering\n\nClaude filters out:\n- Questions (not corrections)\n- One-time task instructions\n- Context-specific requests\n- Vague/non-actionable feedback\n\nOnly reusable learnings are kept.\n\n### Duplicate Detection\n\nBefore adding a learning, existing CLAUDE.md content is checked. If similar content exists, you can:\n- Merge with existing entry\n- Replace the old entry\n- Skip the duplicate\n\n### Semantic Deduplication\n\nOver time, CLAUDE.md can accumulate similar entries. Run `/reflect --dedupe` to:\n- Find semantically similar entries (even with different wording)\n- Propose consolidated versions\n- Clean up redundant learnings\n\nExample:\n```\nBefore:\n  - Use gpt-5.1 for complex tasks\n  - Prefer gpt-5.1 for reasoning\n  - gpt-5.1 is better for hard problems\n\nAfter:\n  - Use gpt-5.1 for complex reasoning tasks\n```\n\n## Tips\n\n1. **Use explicit markers** for important learnings:\n   ```\n   remember: always use venv for Python projects\n   ```\n\n2. **Run /reflect after git commits** - The hook reminds you, but make it a habit\n\n3. **Historical scan on new machines** - When setting up a new dev environment:\n   ```\n   /reflect --scan-history --days 90\n   ```\n\n4. **Project vs Global** - Model names and general patterns go global; project-specific conventions stay in project CLAUDE.md\n\n5. **Discover skills monthly** - Run `/reflect-skills --days 30` monthly to find automation opportunities you might have missed\n\n6. **Skills get smarter** - When you correct Claude during a skill, that correction can be routed back to the skill file itself via `/reflect`\n\n## Contributing\n\nPull requests welcome! Please read the contributing guidelines first.\n\n## License\n\nMIT\n"
      },
      "plugins": [
        {
          "name": "claude-reflect",
          "source": "./",
          "description": "Self-learning system that captures corrections and updates CLAUDE.md",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add BayramAnnakov/claude-reflect",
            "/plugin install claude-reflect@claude-reflect-marketplace"
          ]
        }
      ]
    }
  ]
}