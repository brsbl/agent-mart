{
  "author": {
    "id": "winwin-inc",
    "display_name": "winwin-inc",
    "type": "Organization",
    "avatar_url": "https://avatars.githubusercontent.com/u/24728762?v=4",
    "url": "https://github.com/winwin-inc",
    "bio": null,
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 1,
      "total_commands": 3,
      "total_skills": 0,
      "total_stars": 1,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "winwin-code-assist",
      "version": null,
      "description": "Winwin.Inc Claude Code æ’ä»¶å¸‚åœº - æä¾›æ–‡æ¡£ç”Ÿæˆã€Git æäº¤åŠ©æ‰‹å’Œå¼€å‘å·¥å…·é›†",
      "owner_info": {
        "name": "Winwin.Inc Team",
        "email": "support@winwin.inc",
        "url": "https://github.com/winwin-inc/claude-plugins"
      },
      "keywords": [],
      "repo_full_name": "winwin-inc/claude-plugins",
      "repo_url": "https://github.com/winwin-inc/claude-plugins",
      "repo_description": null,
      "homepage": null,
      "signals": {
        "stars": 1,
        "forks": 0,
        "pushed_at": "2026-01-08T09:00:13Z",
        "created_at": "2026-01-06T02:14:00Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 1109
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 302
        },
        {
          "path": "plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/commands/commit.md",
          "type": "blob",
          "size": 7306
        },
        {
          "path": "plugins/commands/save-session.md",
          "type": "blob",
          "size": 6336
        },
        {
          "path": "plugins/commands/wiki-generate.md",
          "type": "blob",
          "size": 31663
        },
        {
          "path": "plugins/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skills/doc-generator",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skills/doc-generator/change_detection.md",
          "type": "blob",
          "size": 11354
        },
        {
          "path": "plugins/skills/doc-generator/content_extraction.md",
          "type": "blob",
          "size": 26301
        },
        {
          "path": "plugins/skills/doc-generator/content_generation.md",
          "type": "blob",
          "size": 25600
        },
        {
          "path": "plugins/skills/doc-generator/index_generation.md",
          "type": "blob",
          "size": 24909
        },
        {
          "path": "plugins/skills/doc-generator/module_scanning.md",
          "type": "blob",
          "size": 11379
        },
        {
          "path": "plugins/skills/doc-generator/monorepo_detection.md",
          "type": "blob",
          "size": 12106
        },
        {
          "path": "plugins/skills/doc-generator/outline_generation.md",
          "type": "blob",
          "size": 16587
        },
        {
          "path": "plugins/skills/doc-generator/smart_merge.md",
          "type": "blob",
          "size": 14635
        },
        {
          "path": "plugins/skills/doc-generator/tech_stack_detection.md",
          "type": "blob",
          "size": 13162
        },
        {
          "path": "plugins/templates",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/templates/wiki-generate",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/templates/wiki-generate/README.md",
          "type": "blob",
          "size": 5459
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"$schema\": \"https://anthropic.com/claude-code/marketplace.schema.json\",\n  \"name\": \"winwin-code-assist\",\n  \"description\": \"Winwin.Inc Claude Code æ’ä»¶å¸‚åœº - æä¾›æ–‡æ¡£ç”Ÿæˆã€Git æäº¤åŠ©æ‰‹å’Œå¼€å‘å·¥å…·é›†\",\n  \"owner\": {\n    \"name\": \"Winwin.Inc Team\",\n    \"email\": \"support@winwin.inc\",\n    \"url\": \"https://github.com/winwin-inc/claude-plugins\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"winwin-code-assist\",\n      \"description\": \"è‡ªåŠ¨ç”Ÿæˆå’Œç»´æŠ¤é¡¹ç›® Wiki æ–‡æ¡£çš„ Claude Code æ’ä»¶ã€‚æä¾›é…ç½®é©±åŠ¨çš„æ–‡æ¡£ç”Ÿæˆã€Git æäº¤åŠ©æ‰‹å’Œä¼šè¯ç®¡ç†åŠŸèƒ½ã€‚\",\n      \"version\": \"1.1.0\",\n      \"author\": {\n        \"name\": \"Winwin.Inc Team\",\n        \"email\": \"support@winwin.inc\"\n      },\n      \"source\": \"./plugins\",\n      \"category\": \"productivity\",\n      \"keywords\": [\n        \"wiki\",\n        \"documentation\",\n        \"git\",\n        \"commit\",\n        \"session\",\n        \"productivity\"\n      ],\n      \"homepage\": \"https://github.com/winwin-inc/claude-plugins/tree/main/repo-wiki\",\n      \"repository\": \"https://github.com/winwin-inc/claude-plugins\",\n      \"license\": \"MIT\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"winwin-code-assist\",\n  \"version\": \"1.1.0\",\n  \"description\": \"è‡ªåŠ¨ç”Ÿæˆå’Œç»´æŠ¤é¡¹ç›® Wiki æ–‡æ¡£çš„ Claude Code æ’ä»¶ã€‚æä¾›é…ç½®é©±åŠ¨çš„æ–‡æ¡£ç”Ÿæˆã€Git æäº¤åŠ©æ‰‹å’Œä¼šè¯ç®¡ç†åŠŸèƒ½ã€‚\",\n  \"author\": {\n    \"name\": \"Winwin.Inc Team\",\n    \"email\": \"support@winwin.inc\"\n  }\n}\n",
        "plugins/commands/commit.md": "---\ndescription: Git æäº¤åŠ©æ‰‹ - ç”Ÿæˆç¬¦åˆçº¦å®šå¼æäº¤è§„èŒƒçš„æ¶ˆæ¯ï¼ˆå¸¦è¡¨æƒ…ç¬¦å·ï¼‰\nargument-hint: [--no-verify]\nallowed-tools: Bash(git add:*), Bash(git status:*), Bash(git commit:*), Bash(git diff:*), Bash(git log:*), Bash(pnpm lint:*), Bash(pnpm build:*), Bash(pnpm generate:docs:*)\n---\n\n# Claude Command: Commit\n\næ­¤å‘½ä»¤å¸®åŠ©ä½ åˆ›å»ºæ ¼å¼è§„èŒƒçš„æäº¤ï¼ŒåŒ…å«ç¬¦åˆçº¦å®šå¼æäº¤è§„èŒƒçš„æ¶ˆæ¯å’Œè¡¨æƒ…ç¬¦å·ã€‚\n\n## ä½¿ç”¨æ–¹æ³•\n\nè¦åˆ›å»ºæäº¤ï¼Œåªéœ€è¾“å…¥ï¼š\n```\n/commit\n```\n\næˆ–å¸¦é€‰é¡¹ï¼š\n```\n/commit --no-verify\n```\n\n## æ­¤å‘½ä»¤çš„åŠŸèƒ½\n\n1. é™¤éä½¿ç”¨`--no-verify`æŒ‡å®šï¼Œå¦åˆ™ä¼šè‡ªåŠ¨è¿è¡Œæäº¤å‰æ£€æŸ¥ï¼š\n   - `pnpm lint` ç¡®ä¿ä»£ç è´¨é‡\n   - `pnpm build` éªŒè¯æ„å»ºæ˜¯å¦æˆåŠŸ\n   - `pnpm generate:docs` æ›´æ–°æ–‡æ¡£\n2. ä½¿ç”¨`git status`æ£€æŸ¥å·²æš‚å­˜çš„æ–‡ä»¶\n3. å¦‚æœæ²¡æœ‰æš‚å­˜æ–‡ä»¶ï¼Œä¼šè‡ªåŠ¨ä½¿ç”¨`git add`æ·»åŠ æ‰€æœ‰ä¿®æ”¹å’Œæ–°å¢çš„æ–‡ä»¶\n4. æ‰§è¡Œ`git diff`ä»¥äº†è§£è¦æäº¤çš„æ›´æ”¹å†…å®¹\n5. åˆ†æå·®å¼‚ä»¥ç¡®å®šæ˜¯å¦å­˜åœ¨å¤šä¸ªä¸åŒçš„é€»è¾‘æ›´æ”¹\n6. å¦‚æœæ£€æµ‹åˆ°å¤šä¸ªä¸åŒçš„æ›´æ”¹ï¼Œå»ºè®®å°†æäº¤æ‹†åˆ†ä¸ºå¤šä¸ªè¾ƒå°çš„æäº¤\n7. å¯¹äºæ¯ä¸ªæäº¤ï¼ˆå¦‚æœæœªæ‹†åˆ†åˆ™ä¸ºå•ä¸ªæäº¤ï¼‰ï¼Œä½¿ç”¨å¸¦è¡¨æƒ…ç¬¦å·çš„çº¦å®šå¼æäº¤æ ¼å¼åˆ›å»ºæäº¤æ¶ˆæ¯\n\n## æäº¤çš„æœ€ä½³å®è·µ\n\n- **æäº¤å‰éªŒè¯**ï¼šç¡®ä¿ä»£ç å·²é€šè¿‡ lint æ£€æŸ¥ã€æ„å»ºæ­£ç¡®ä¸”æ–‡æ¡£å·²æ›´æ–°\n- **åŸå­æäº¤**ï¼šæ¯ä¸ªæäº¤åº”åŒ…å«ç›¸å…³çš„ã€ä¸ºå•ä¸€ç›®çš„æœåŠ¡çš„æ›´æ”¹\n- **æ‹†åˆ†å¤§å‹æ›´æ”¹**ï¼šå¦‚æœæ›´æ”¹æ¶‰åŠå¤šä¸ªæ–¹é¢ï¼Œå°†å®ƒä»¬æ‹†åˆ†ä¸ºå•ç‹¬çš„æäº¤\n- **çº¦å®šå¼æäº¤æ ¼å¼**ï¼šä½¿ç”¨`<ç±»å‹>: <æè¿°>`çš„æ ¼å¼ï¼Œå…¶ä¸­ç±»å‹åŒ…æ‹¬ï¼š\n  - `feat`ï¼šæ–°åŠŸèƒ½\n  - `fix`ï¼šé”™è¯¯ä¿®å¤\n  - `docs`ï¼šæ–‡æ¡£æ›´æ”¹\n  - `style`ï¼šä»£ç é£æ ¼æ›´æ”¹ï¼ˆæ ¼å¼ç­‰ï¼‰\n  - `refactor`ï¼šæ—¢ä¸ä¿®å¤é”™è¯¯ä¹Ÿä¸æ·»åŠ åŠŸèƒ½çš„ä»£ç æ›´æ”¹\n  - `perf`ï¼šæ€§èƒ½æ”¹è¿›\n  - `test`ï¼šæ·»åŠ æˆ–ä¿®å¤æµ‹è¯•\n  - `chore`ï¼šå¯¹æ„å»ºè¿‡ç¨‹ã€å·¥å…·ç­‰çš„æ›´æ”¹\n- **ç°åœ¨æ—¶ã€ç¥ˆä½¿è¯­æ°”**ï¼šæäº¤æ¶ˆæ¯å†™æˆå‘½ä»¤å½¢å¼ï¼ˆä¾‹å¦‚ï¼Œ\"add feature\" è€Œä¸æ˜¯ \"added feature\"ï¼‰\n- **ç®€æ´çš„ç¬¬ä¸€è¡Œ**ï¼šç¬¬ä¸€è¡Œä¿æŒåœ¨72ä¸ªå­—ç¬¦ä»¥å†…\n- **è¡¨æƒ…ç¬¦å·**ï¼šæ¯ç§æäº¤ç±»å‹éƒ½é…æœ‰ç›¸åº”çš„è¡¨æƒ…ç¬¦å·ï¼š\n  - âœ¨ `feat`ï¼šæ–°åŠŸèƒ½\n  - ğŸ› `fix`ï¼šé”™è¯¯ä¿®å¤\n  - ğŸ“ `docs`ï¼šæ–‡æ¡£\n  - ğŸ’„ `style`ï¼šæ ¼å¼/é£æ ¼\n  - â™»ï¸ `refactor`ï¼šä»£ç é‡æ„\n  - âš¡ï¸ `perf`ï¼šæ€§èƒ½æ”¹è¿›\n  - âœ… `test`ï¼šæµ‹è¯•\n  - ğŸ”§ `chore`ï¼šå·¥å…·ã€é…ç½®\n  - ğŸš€ `ci`ï¼šCI/CD æ”¹è¿›\n  - ğŸ—‘ï¸ `revert`ï¼šæ’¤é”€æ›´æ”¹\n  - ğŸ§ª `test`ï¼šæ·»åŠ å¤±è´¥æµ‹è¯•\n  - ğŸš¨ `fix`ï¼šä¿®å¤ç¼–è¯‘å™¨/æ£€æŸ¥å™¨è­¦å‘Š\n  - ğŸ”’ï¸ `fix`ï¼šä¿®å¤å®‰å…¨é—®é¢˜\n  - ğŸ‘¥ `chore`ï¼šæ·»åŠ æˆ–æ›´æ–°è´¡çŒ®è€…\n  - ğŸšš `refactor`ï¼šç§»åŠ¨æˆ–é‡å‘½åèµ„æº\n  - ğŸ—ï¸ `refactor`ï¼šè¿›è¡Œæ¶æ„æ›´æ”¹\n  - ğŸ”€ `chore`ï¼šåˆå¹¶åˆ†æ”¯\n  - ğŸ“¦ï¸ `chore`ï¼šæ·»åŠ æˆ–æ›´æ–°ç¼–è¯‘æ–‡ä»¶æˆ–åŒ…\n  - â• `chore`ï¼šæ·»åŠ ä¾èµ–\n  - â– `chore`ï¼šç§»é™¤ä¾èµ–\n  - ğŸŒ± `chore`ï¼šæ·»åŠ æˆ–æ›´æ–°ç§å­æ–‡ä»¶\n  - ğŸ§‘â€ğŸ’» `chore`ï¼šæ”¹å–„å¼€å‘è€…ä½“éªŒ\n  - ğŸ§µ `feat`ï¼šæ·»åŠ æˆ–æ›´æ–°ä¸å¤šçº¿ç¨‹æˆ–å¹¶å‘ç›¸å…³çš„ä»£ç \n  - ğŸ”ï¸ `feat`ï¼šæ”¹è¿›SEO\n  - ğŸ·ï¸ `feat`ï¼šæ·»åŠ æˆ–æ›´æ–°ç±»å‹\n  - ğŸ’¬ `feat`ï¼šæ·»åŠ æˆ–æ›´æ–°æ–‡æœ¬å’Œæ–‡å­—\n  - ğŸŒ `feat`ï¼šå›½é™…åŒ–å’Œæœ¬åœ°åŒ–\n  - ğŸ‘” `feat`ï¼šæ·»åŠ æˆ–æ›´æ–°ä¸šåŠ¡é€»è¾‘\n  - ğŸ“± `feat`ï¼šè‡´åŠ›äºå“åº”å¼è®¾è®¡\n  - ğŸš¸ `feat`ï¼šæ”¹å–„ç”¨æˆ·ä½“éªŒ/å¯ç”¨æ€§\n  - ğŸ©¹ `fix`ï¼šéå…³é”®é—®é¢˜çš„ç®€å•ä¿®å¤\n  - ğŸ¥… `fix`ï¼šæ•è·é”™è¯¯\n  - ğŸ‘½ï¸ `fix`ï¼šå› å¤–éƒ¨APIæ›´æ”¹è€Œæ›´æ–°ä»£ç \n  - ğŸ”¥ `fix`ï¼šç§»é™¤ä»£ç æˆ–æ–‡ä»¶\n  - ğŸ¨ `style`ï¼šæ”¹è¿›ä»£ç ç»“æ„/æ ¼å¼\n  - ğŸš‘ï¸ `fix`ï¼šå…³é”®çƒ­ä¿®å¤\n  - ğŸ‰ `chore`ï¼šå¼€å§‹ä¸€ä¸ªé¡¹ç›®\n  - ğŸ”– `chore`ï¼šå‘å¸ƒ/ç‰ˆæœ¬æ ‡ç­¾\n  - ğŸš§ `wip`ï¼šè¿›è¡Œä¸­çš„å·¥ä½œ\n  - ğŸ’š `fix`ï¼šä¿®å¤CIæ„å»º\n  - ğŸ“Œ `chore`ï¼šå°†ä¾èµ–é¡¹å›ºå®šåˆ°ç‰¹å®šç‰ˆæœ¬\n  - ğŸ‘· `ci`ï¼šæ·»åŠ æˆ–æ›´æ–°CIæ„å»ºç³»ç»Ÿ\n  - ğŸ“ˆ `feat`ï¼šæ·»åŠ æˆ–æ›´æ–°åˆ†ææˆ–è·Ÿè¸ªä»£ç \n  - âœï¸ `fix`ï¼šä¿®å¤æ‹¼å†™é”™è¯¯\n  - âªï¸ `revert`ï¼šæ’¤é”€æ›´æ”¹\n  - ğŸ“„ `chore`ï¼šæ·»åŠ æˆ–æ›´æ–°è®¸å¯è¯\n  - ğŸ’¥ `feat`ï¼šå¼•å…¥ç ´åæ€§æ›´æ”¹\n  - ğŸ± `assets`ï¼šæ·»åŠ æˆ–æ›´æ–°èµ„æº\n  - â™¿ï¸ `feat`ï¼šæ”¹å–„å¯è®¿é—®æ€§\n  - ğŸ’¡ `docs`ï¼šæ·»åŠ æˆ–æ›´æ–°æºä»£ç ä¸­çš„æ³¨é‡Š\n  - ğŸ—ƒï¸ `db`ï¼šæ‰§è¡Œä¸æ•°æ®åº“ç›¸å…³çš„æ›´æ”¹\n  - ğŸ”Š `feat`ï¼šæ·»åŠ æˆ–æ›´æ–°æ—¥å¿—\n  - ğŸ”‡ `fix`ï¼šç§»é™¤æ—¥å¿—\n  - ğŸ¤¡ `test`ï¼šæ¨¡æ‹Ÿäº‹ç‰©\n  - ğŸ¥š `feat`ï¼šæ·»åŠ æˆ–æ›´æ–°å½©è›‹\n  - ğŸ™ˆ `chore`ï¼šæ·»åŠ æˆ–æ›´æ–°.gitignoreæ–‡ä»¶\n  - ğŸ“¸ `test`ï¼šæ·»åŠ æˆ–æ›´æ–°å¿«ç…§\n  - âš—ï¸ `experiment`ï¼šè¿›è¡Œå®éªŒ\n  - ğŸš© `feat`ï¼šæ·»åŠ ã€æ›´æ–°æˆ–ç§»é™¤åŠŸèƒ½æ ‡å¿—\n  - ğŸ’« `ui`ï¼šæ·»åŠ æˆ–æ›´æ–°åŠ¨ç”»å’Œè¿‡æ¸¡\n  - âš°ï¸ `refactor`ï¼šç§»é™¤æ­»ä»£ç \n  - ğŸ¦º `feat`ï¼šæ·»åŠ æˆ–æ›´æ–°ä¸éªŒè¯ç›¸å…³çš„ä»£ç \n  - âœˆï¸ `feat`ï¼šæ”¹è¿›ç¦»çº¿æ”¯æŒ\n\n## æ‹†åˆ†æäº¤çš„æŒ‡å¯¼åŸåˆ™\n\nåˆ†æå·®å¼‚æ—¶ï¼Œè€ƒè™‘æ ¹æ®ä»¥ä¸‹æ ‡å‡†æ‹†åˆ†æäº¤ï¼š\n\n1. **ä¸åŒçš„å…³æ³¨ç‚¹**ï¼šå¯¹ä»£ç åº“ä¸ç›¸å…³éƒ¨åˆ†çš„æ›´æ”¹\n2. **ä¸åŒç±»å‹çš„æ›´æ”¹**ï¼šæ··åˆäº†åŠŸèƒ½ã€ä¿®å¤ã€é‡æ„ç­‰\n3. **æ–‡ä»¶æ¨¡å¼**ï¼šå¯¹ä¸åŒç±»å‹æ–‡ä»¶çš„æ›´æ”¹ï¼ˆä¾‹å¦‚ï¼Œæºä»£ç ä¸æ–‡æ¡£ï¼‰\n4. **é€»è¾‘åˆ†ç»„**ï¼šåˆ†å¼€ç†è§£æˆ–å®¡æŸ¥ä¼šæ›´å®¹æ˜“çš„æ›´æ”¹\n5. **å¤§å°**ï¼šå¦‚æœæ‹†åˆ†åä¼šæ›´æ¸…æ™°çš„å¤§å‹æ›´æ”¹\n\n## ç¤ºä¾‹\n\nè‰¯å¥½çš„æäº¤æ¶ˆæ¯ï¼š\n- âœ¨ feat: æ·»åŠ ç”¨æˆ·è®¤è¯ç³»ç»Ÿ\n- ğŸ› fix: è§£å†³æ¸²æŸ“è¿‡ç¨‹ä¸­çš„å†…å­˜æ³„æ¼\n- ğŸ“ docs: æ›´æ–°APIæ–‡æ¡£ä»¥åŒ…å«æ–°ç«¯ç‚¹\n- â™»ï¸ refactor: ç®€åŒ–è§£æå™¨ä¸­çš„é”™è¯¯å¤„ç†é€»è¾‘\n- ğŸš¨ fix: è§£å†³ç»„ä»¶æ–‡ä»¶ä¸­çš„æ£€æŸ¥å™¨è­¦å‘Š\n- ğŸ§‘â€ğŸ’» chore: æ”¹è¿›å¼€å‘è€…å·¥å…·è®¾ç½®æµç¨‹\n- ğŸ‘” feat: å®ç°äº¤æ˜“éªŒè¯çš„ä¸šåŠ¡é€»è¾‘\n- ğŸ©¹ fix: è§£å†³å¤´éƒ¨çš„ minor æ ·å¼ä¸ä¸€è‡´é—®é¢˜\n- ğŸš‘ï¸ fix: ä¿®è¡¥è®¤è¯æµç¨‹ä¸­çš„å…³é”®å®‰å…¨æ¼æ´\n- ğŸ¨ style: é‡ç»„ç»„ä»¶ç»“æ„ä»¥æé«˜å¯è¯»æ€§\n- ğŸ”¥ fix: ç§»é™¤å·²å¼ƒç”¨çš„é—ç•™ä»£ç \n- ğŸ¦º feat: ä¸ºç”¨æˆ·æ³¨å†Œè¡¨å•æ·»åŠ è¾“å…¥éªŒè¯\n- ğŸ’š fix: è§£å†³CIç®¡é“æµ‹è¯•å¤±è´¥é—®é¢˜\n- ğŸ“ˆ feat: å®ç°ç”¨æˆ·å‚ä¸åº¦çš„åˆ†æè·Ÿè¸ª\n- ğŸ”’ï¸ fix: åŠ å¼ºè®¤è¯å¯†ç è¦æ±‚\n- â™¿ï¸ feat: æ”¹å–„å±å¹•é˜…è¯»å™¨çš„è¡¨å•å¯è®¿é—®æ€§\n\næ‹†åˆ†æäº¤çš„ç¤ºä¾‹ï¼š\n- ç¬¬ä¸€æ¬¡æäº¤ï¼šâœ¨ feat: æ·»åŠ æ–°çš„solcç‰ˆæœ¬ç±»å‹å®šä¹‰\n- ç¬¬äºŒæ¬¡æäº¤ï¼šğŸ“ docs: æ›´æ–°æ–°solcç‰ˆæœ¬çš„æ–‡æ¡£\n- ç¬¬ä¸‰æ¬¡æäº¤ï¼šğŸ”§ chore: æ›´æ–°package.jsonä¾èµ–é¡¹\n- ç¬¬å››æ¬¡æäº¤ï¼šğŸ·ï¸ feat: ä¸ºæ–°APIç«¯ç‚¹æ·»åŠ ç±»å‹å®šä¹‰\n- ç¬¬äº”æ¬¡æäº¤ï¼šğŸ§µ feat: æ”¹è¿›å·¥ä½œçº¿ç¨‹ä¸­çš„å¹¶å‘å¤„ç†\n- ç¬¬å…­æ¬¡æäº¤ï¼šğŸš¨ fix: è§£å†³æ–°ä»£ç ä¸­çš„ lint é—®é¢˜\n- ç¬¬ä¸ƒæ¬¡æäº¤ï¼šâœ… test: ä¸ºæ–°solcç‰ˆæœ¬åŠŸèƒ½æ·»åŠ å•å…ƒæµ‹è¯•\n- ç¬¬å…«æ¬¡æäº¤ï¼šğŸ”’ï¸ fix: æ›´æ–°æœ‰å®‰å…¨æ¼æ´çš„ä¾èµ–é¡¹\n\n## å‘½ä»¤é€‰é¡¹\n\n- `--no-verify`ï¼šè·³è¿‡è¿è¡Œæäº¤å‰æ£€æŸ¥ï¼ˆlintã€buildã€generate:docsï¼‰\n\n## é‡è¦è¯´æ˜\n\n- é»˜è®¤æƒ…å†µä¸‹ï¼Œä¼šè¿è¡Œæäº¤å‰æ£€æŸ¥ï¼ˆ`pnpm lint`ã€`pnpm build`ã€`pnpm generate:docs`ï¼‰ä»¥ç¡®ä¿ä»£ç è´¨é‡\n- å¦‚æœè¿™äº›æ£€æŸ¥å¤±è´¥ï¼Œä¼šè¯¢é—®ä½ æ˜¯è¦ç»§ç»­æäº¤è¿˜æ˜¯å…ˆä¿®å¤é—®é¢˜\n- å¦‚æœç‰¹å®šæ–‡ä»¶å·²æš‚å­˜ï¼Œå‘½ä»¤å°†åªæäº¤è¿™äº›æ–‡ä»¶\n- å¦‚æœæ²¡æœ‰æš‚å­˜æ–‡ä»¶ï¼Œå®ƒä¼šè‡ªåŠ¨æš‚å­˜æ‰€æœ‰ä¿®æ”¹å’Œæ–°å¢çš„æ–‡ä»¶\n- æäº¤æ¶ˆæ¯å°†æ ¹æ®æ£€æµ‹åˆ°çš„æ›´æ”¹æ„å»º\n- æäº¤å‰ï¼Œå‘½ä»¤ä¼šæ£€æŸ¥å·®å¼‚ä»¥ç¡®å®šå¤šä¸ªæäº¤æ˜¯å¦æ›´åˆé€‚\n- å¦‚æœå»ºè®®å¤šä¸ªæäº¤ï¼Œå®ƒå°†å¸®åŠ©ä½ åˆ†åˆ«æš‚å­˜å’Œæäº¤æ›´æ”¹\n- å§‹ç»ˆæ£€æŸ¥æäº¤å·®å¼‚ä»¥ç¡®ä¿æ¶ˆæ¯ä¸æ›´æ”¹åŒ¹é…\n",
        "plugins/commands/save-session.md": "---\ndescription: ä¿å­˜ Claude Code ä¼šè¯çŠ¶æ€åˆ° docs/plans/ ç›®å½•\nallowed-tools: Bash(mkdir:*), Bash(date:*), Bash(ls:*), Bash(sed:*), Bash(grep:*), Bash(cat:*), Bash(pwd:*), Bash(git branch:*), Read, Write\n---\n\n# Save Session Command\n\nè¯·æ‰§è¡Œä»¥ä¸‹ä»»åŠ¡æ¥ä¿å­˜å½“å‰ä¼šè¯çš„è®¡åˆ’å’Œæ‰§è¡Œç»“æœ:\n\n## 1. åˆ›å»ºä¿å­˜ç›®å½•ç»“æ„\n\nåˆ›å»ºç»Ÿä¸€çš„ç›®å½•ç»“æ„:\n```bash\nmkdir -p docs/plans/sessions/$(date +%Y%m)\n```\n\n**è¯´æ˜**: æ‰€æœ‰æ–‡æ¡£ç»Ÿä¸€å­˜å‚¨åœ¨ `docs/plans/` ç›®å½•ä¸‹ã€‚\n\n## 2. ä¿å­˜è®¡åˆ’æ–‡æ¡£ï¼ˆæ™ºèƒ½å‘½åï¼‰\n\n### 2.1 è‡ªåŠ¨ç”Ÿæˆåºå·å’Œæ‘˜è¦\n\nå¦‚æœå­˜åœ¨ `plan.md` æˆ– `PLAN.md` æ–‡ä»¶ï¼Œè‡ªåŠ¨ç”Ÿæˆè§„èŒƒçš„æ–‡ä»¶åï¼š\n\n```bash\n# æ­¥éª¤1: è·å–å½“å‰æœ€å¤§åºå·\nlast_num=$(ls docs/plans/*.md 2>/dev/null | \\\n           sed -n -E 's/.*\\/([0-9]{3,})-.*/\\1/p' | \\\n           sort -rn | head -1)\nlast_num=${last_num:-0}  # å¦‚æœæ²¡æœ‰æ–‡ä»¶ï¼Œé»˜è®¤ä¸º0\nnext_num=$((last_num + 1))\nserial=$(printf \"%03d\" $next_num)\n\n# æ­¥éª¤2: ä» plan.md æå–æ ‡é¢˜ç”Ÿæˆæ‘˜è¦\ntitle=$(grep -m1 '^# ' plan.md 2>/dev/null | sed 's/^# //' | sed 's/^\\[.*\\] //')\nif [ -z \"$title\" ]; then\n    title=$(sed -n '/^title:/p' plan.md | cut -d: -f2 | xargs)\nfi\nif [ -z \"$title\" ]; then\n    title=\"plan\"\nfi\n\n# æ­¥éª¤3: è½¬æ¢ä¸ºæ–‡ä»¶åæ ¼å¼ï¼ˆå°å†™ã€è¿å­—ç¬¦ã€é™åˆ¶30å­—ç¬¦ï¼‰\nsummary=$(echo \"$title\" | \\\n          tr '[:upper:]' '[:lower:]' | \\\n          sed -E 's/[^a-z0-9]+/-/g' | \\\n          sed -E 's/^-+|-+$//g' | \\\n          cut -c1-30)\n\n# æ­¥éª¤4: ç»„åˆæœ€ç»ˆæ–‡ä»¶å\nplan_filename=\"${serial}-${summary}.md\"\nplan_path=\"docs/plans/${plan_filename}\"\n\necho \"ğŸ“‹ è®¡åˆ’æ–‡ä»¶å: $plan_filename\"\n```\n\n### 2.2 å¤åˆ¶å¹¶å¢å¼º plan.md\n\nå¤åˆ¶ plan.md åˆ°ç›®æ ‡è·¯å¾„ï¼Œå¹¶åœ¨æ–‡ä»¶å¼€å¤´æ·»åŠ å…ƒæ•°æ®:\n\n```bash\ncat > \"$plan_path\" << EOF\n---\ncreated: $(date '+%Y-%m-%d %H:%M:%S')\nsession_id: [å½“å‰ä¼šè¯æ ‡è¯†]\nstatus: completed\nfilename: ${plan_filename}\n---\n\nEOF\n\n# è¿½åŠ åŸ plan.md å†…å®¹\ncat plan.md >> \"$plan_path\"\n\necho \"âœ… è®¡åˆ’å·²ä¿å­˜: $plan_path\"\n```\n\n## 3. ç”Ÿæˆæ‰§è¡Œæ‘˜è¦\n\nåˆ›å»ºä¼šè¯æ‘˜è¦æ–‡ä»¶ `docs/plans/sessions/$(date +%Y%m)/session_$(date +%Y%m%d_%H%M%S).md`:\n\n```bash\nsession_file=\"docs/plans/sessions/$(date +%Y%m)/session_$(date +%Y%m%d_%H%M%S).md\"\nplan_link=\"../../${plan_filename}\"\n\ncat > \"$session_file\" << EOF\n# Claude Code ä¼šè¯æ‘˜è¦\n\n## ä¼šè¯ä¿¡æ¯\n\n- **æ‰§è¡Œæ—¶é—´**: $(date '+%Y-%m-%d %H:%M:%S')\n- **å·¥ä½œç›®å½•**: $(pwd)\n- **Git åˆ†æ”¯**: $(git rev-parse --abbrev-ref HEAD 2>/dev/null || echo \"unknown\")\n- **ä¼šè¯ ID**: [å½“å‰ä¼šè¯æ ‡è¯†]\n\n---\n\n## ä»»åŠ¡æ¦‚è¿°\n\n### ä¸»è¦ç›®æ ‡\n\n[è¯·æ€»ç»“æœ¬æ¬¡ä¼šè¯å®Œæˆçš„ä¸»è¦ä»»åŠ¡ï¼ŒåŒ…æ‹¬:]\n- ä¸»è¦ç›®æ ‡\n- å®æ–½çš„å…³é”®æ­¥éª¤\n- ä½¿ç”¨çš„æŠ€æœ¯å’Œå·¥å…·\n\n### æ–‡ä»¶å˜æ›´\n\n\\`\\`\\`bash\n# åˆ—å‡ºæ‰€æœ‰ä¿®æ”¹çš„æ–‡ä»¶\ngit status --short\n\n# æ˜¾ç¤ºå˜æ›´ç»Ÿè®¡\ngit diff --stat\n\\`\\`\\`\n\n### æ‰§è¡Œç»“æœ\n\n[è¯·æè¿°:]\n- âœ… æˆåŠŸå®Œæˆçš„ä»»åŠ¡\n- âš ï¸  é‡åˆ°çš„é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ\n- ğŸ“ å¾…åŠäº‹é¡¹æˆ–åç»­å»ºè®®\n- ğŸ§ª æµ‹è¯•ç»“æœ(å¦‚æœæœ‰)\n\n### å…³é”®ä»£ç ç‰‡æ®µ\n\n[å¦‚æœæœ‰é‡è¦çš„ä»£ç å˜æ›´ï¼Œæ‘˜å½•å…³é”®éƒ¨åˆ†å¹¶è¯´æ˜å…¶ä½œç”¨]\n\n---\n\n## ç›¸å…³æ–‡æ¡£\n\n- **è®¡åˆ’æ–‡æ¡£**: [${plan_filename}](${plan_link})\n\n---\n\n**ç”Ÿæˆæ—¶é—´**: $(date '+%Y-%m-%d %H:%M:%S')\n**çŠ¶æ€**: âœ… å·²å®Œæˆ\nEOF\n\necho \"âœ… ä¼šè¯æ‘˜è¦å·²ä¿å­˜: $session_file\"\n```\n\n## 4. ç”Ÿæˆç´¢å¼•æ¨¡æ¿\n\n### 4.1 å…¨å±€ç´¢å¼•æ¨¡æ¿\n\n**è¯·å°†ä»¥ä¸‹å†…å®¹å¤åˆ¶åˆ° `docs/plans/README.md`:**\n\n```markdown\n# é¡¹ç›®è®¡åˆ’æ–‡æ¡£ç´¢å¼•\n\næœ¬ç›®å½•åŒ…å«æ‰€æœ‰é¡¹ç›®è®¡åˆ’å’Œä¼šè¯è®°å½•ã€‚\n\n---\n\n## è®¡åˆ’æ–‡æ¡£\n\n### [001. Wiki Generator æ’ä»¶ç³»ç»Ÿæ”¹é€ ](001-plugin-system-migration.md)\n- **çŠ¶æ€**: âœ… å·²å®Œæˆ\n- **åˆ›å»ºæ—¥æœŸ**: 2025-01-06\n- **ä¼šè¯ID**: calm-mapping-giraffe\n\n### [${serial}. ${title}](plan_filename)\n- **çŠ¶æ€**: âœ… å·²å®Œæˆ\n- **åˆ›å»ºæ—¥æœŸ**: $(date +%Y-%m-%d)\n- **ä¼šè¯ID**: [å½“å‰ä¼šè¯æ ‡è¯†]\n\n<!-- åœ¨æ­¤å¤„æ·»åŠ æ–°è®¡åˆ’ -->\n\n---\n\n## ä¼šè¯å­˜æ¡£\n\n- **[2025å¹´01æœˆ](sessions/202601/README.md)** - 1 ä¸ªä¼šè¯\n\n---\n\n**æœ€åæ›´æ–°**: $(date '+%Y-%m-%d %H:%M:%S')\n```\n\n### 4.2 æœˆåº¦ç´¢å¼•æ¨¡æ¿\n\n**è¯·å°†ä»¥ä¸‹å†…å®¹å¤åˆ¶åˆ° `docs/plans/sessions/$(date +%Y%m)/README.md`:**\n\n```bash\n# é¢„å®šä¹‰å˜é‡ï¼ˆç”¨äºæ¨¡æ¿ä¸­çš„ä¸­æ–‡æ ¼å¼åŒ–æ—¥æœŸï¼‰\ncurrent_year=$(date +%Y)\ncurrent_month=$(date +%m)\ncurrent_day=$(date +%d)\ncurrent_timestamp=$(date +%Y%m%d_%H%M%S)\n```\n\n```markdown\n# Claude Code ä¼šè¯å­˜æ¡£ - ${current_year}å¹´${current_month}æœˆ\n\næœ¬ç›®å½•åŒ…å« ${current_year}å¹´${current_month}æœˆ æœŸé—´æ‰€æœ‰ Claude Code ä¼šè¯çš„è¯¦ç»†è®°å½•ã€‚\n\n---\n\n## ä¼šè¯åˆ—è¡¨\n\n### [${current_year}-${current_month}-${current_day}: ä¼šè¯æ ‡é¢˜](session_${current_timestamp}.md)\n\n**çŠ¶æ€**: âœ… å·²å®Œæˆ\n**ä¼šè¯ID**: [ä¼šè¯ID]\n**ç›¸å…³è®¡åˆ’**: [${plan_filename}](../../${plan_filename})\n\n**æ¦‚è¿°**: [ä¼šè¯æ¦‚è¿°...]\n\n**å…³é”®æˆæœ**:\n- [æˆæœ1]\n- [æˆæœ2]\n\n---\n\n**æœ€åæ›´æ–°**: $(date '+%Y-%m-%d %H:%M:%S')\n```\n\n## 5. ç¡®è®¤ä¿å­˜æˆåŠŸ\n\nè¾“å‡ºä¿å­˜ç»“æœæ‘˜è¦:\n\n```\nğŸ‰ ä¼šè¯ä¿å­˜å®Œæˆ!\n\nğŸ“ ä¿å­˜ä½ç½®:\n  - è®¡åˆ’æ–‡æ¡£: docs/plans/${plan_filename}\n  - ä¼šè¯æ‘˜è¦: docs/plans/sessions/$(date +%Y%m)/session_$(date +%Y%m%d_%H%M%S).md\n\nğŸ“‹ ä¸‹ä¸€æ­¥:\n  1. æ£€æŸ¥ç”Ÿæˆçš„æ–‡æ¡£å†…å®¹\n  2. å°†å…¨å±€ç´¢å¼•æ¨¡æ¿å¤åˆ¶åˆ° docs/plans/README.md\n  3. æ›´æ–°æœˆåº¦ç´¢å¼• docs/plans/sessions/$(date +%Y%m)/README.md\n\nğŸ”— å¿«é€Ÿå¯¼èˆª:\n  - æŸ¥çœ‹æ‰€æœ‰è®¡åˆ’: cat docs/plans/README.md\n  - æŸ¥çœ‹æœ¬æœˆä¼šè¯: cat docs/plans/sessions/$(date +%Y%m)/README.md\n```\n\n---\n\n## å…³é”®æ”¹è¿›è¯´æ˜\n\n### âœ… ç§»é™¤çš„åŠŸèƒ½\n1. **ä¸å†åˆ›å»º** `docs/claude-sessions/` ç›®å½•\n2. **ä¸å†åˆ›å»º** `docs/execution-logs/` ç›®å½•\n3. **ä¸å†è¿½åŠ ** `history.log` æ–‡ä»¶\n\n### âœ¨ æ–°å¢çš„åŠŸèƒ½\n1. **æ™ºèƒ½åºå·ç”Ÿæˆ**: è‡ªåŠ¨æ‰«æå¹¶é€’å¢åºå·ï¼ˆ001ã€002ã€003...ï¼‰\n2. **æ™ºèƒ½æ‘˜è¦æå–**: ä» plan.md æ ‡é¢˜è‡ªåŠ¨ç”Ÿæˆæ–‡ä»¶åæ‘˜è¦\n3. **ç»Ÿä¸€ç›®å½•ç»“æ„**: æ‰€æœ‰æ–‡æ¡£é›†ä¸­åœ¨ `docs/plans/` ä¸‹\n4. **è‡ªåŠ¨å…³è”**: ä¼šè¯æ–‡ä»¶è‡ªåŠ¨åŒ…å«è®¡åˆ’æ–‡æ¡£é“¾æ¥\n5. **ç´¢å¼•æ¨¡æ¿**: æä¾›å…¨å±€å’Œæœˆåº¦ç´¢å¼•æ¨¡æ¿ï¼ˆéœ€æ‰‹åŠ¨ç»´æŠ¤ï¼‰\n\n### ğŸ“‹ æ–‡ä»¶å‘½åè§„åˆ™\n\n**Plan æ–‡ä»¶**:\n- æ ¼å¼: `XXX-summary.md`\n- ç¤ºä¾‹: `002-refactor-save-session.md`\n- è§„åˆ™:\n  - XXX: ä¸‰ä½æ•°å­—åºå·ï¼ˆ001-999ï¼‰\n  - summary: å°å†™ã€è¿å­—ç¬¦ã€æœ€å¤š30å­—ç¬¦\n\n**ä¼šè¯æ–‡ä»¶**:\n- æ ¼å¼: `session_YYYYMMDD_HHMMSS.md`\n- ç¤ºä¾‹: `session_20260106_143000.md`\n- ä½ç½®: `docs/plans/sessions/YYYYMM/`\n",
        "plugins/commands/wiki-generate.md": "---\ndescription: Wiki æ–‡æ¡£ç”Ÿæˆå™¨ - é…ç½®é©±åŠ¨ + Skill è°ƒç”¨\nargument-hint: [--full|--incremental]\nallowed-tools: all\nhandoffs:\n  - label: æŠ€æœ¯æ ˆæ£€æµ‹\n    agent: doc-generator.tech_stack_detection\n    prompt: æ ¹æ®ä»£ç åº“ä¾èµ–å’Œå¯¼å…¥è¯­å¥ï¼Œæ˜¾å¼æ£€æµ‹é¡¹ç›®ä½¿ç”¨çš„æŠ€æœ¯æ ˆ\n    send: false\n\n  - label: æ¨¡å—æ‰«æ\n    agent: doc-generator.module_scanning\n    prompt: æ‰«æä»£ç åº“ç»“æ„ï¼Œè¯†åˆ«æ‰€æœ‰æ¨¡å—å’Œç»„ä»¶\n    send: false\n\n  - label: å†…å®¹æå–\n    agent: doc-generator.content_extraction\n    prompt: ä»æºä»£ç ä¸­æå–æ–‡æ¡£å†…å®¹ï¼ŒåŒ…æ‹¬å‡½æ•°ç­¾åã€ç±»å®šä¹‰ã€æ³¨é‡Šç­‰\n    send: false\n\n  - label: å¤§çº²ç”Ÿæˆ\n    agent: doc-generator.outline_generation\n    prompt: æ ¹æ®æ¨¡å—è§„æ¨¡ç”Ÿæˆ 1-4 å±‚æ–‡æ¡£ç»“æ„\n    send: false\n\n  - label: å†…å®¹ç”Ÿæˆ\n    agent: doc-generator.content_generation\n    prompt: ä½¿ç”¨æ¨¡æ¿å˜é‡å¡«å……è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£å†…å®¹\n    send: false\n\n  - label: ç´¢å¼•ç”Ÿæˆ\n    agent: doc-generator.index_generation\n    prompt: ç”Ÿæˆæ–‡æ¡£ç›®å½•ç´¢å¼•å’Œäº¤å‰å¼•ç”¨\n    send: false\n\n  - label: å˜æ›´æ£€æµ‹\n    agent: doc-generator.change_detection\n    prompt: æ£€æµ‹ä»£ç å˜æ›´å¹¶æ˜ å°„åˆ°å—å½±å“çš„æ–‡æ¡£\n    send: false\n\n  - label: æ™ºèƒ½åˆå¹¶\n    agent: doc-generator.smart_merge\n    prompt: æ™ºèƒ½åˆå¹¶ç°æœ‰æ–‡æ¡£å’Œæ–°ç”Ÿæˆå†…å®¹ï¼Œä¿ç•™æ‰‹åŠ¨ç¼–è¾‘\n    send: false\n---\n\n# Wiki æ–‡æ¡£ç”Ÿæˆå‘½ä»¤\n\n## ä»»åŠ¡æè¿°\n\næ ¹æ® `{output_dir}/wiki-config.json` é…ç½®æ–‡ä»¶è‡ªåŠ¨åˆ†æä»£ç åº“å¹¶ç”Ÿæˆé¡¹ç›® Wiki æ–‡æ¡£ã€‚æ”¯æŒå¢é‡æ›´æ–°å’Œæ™ºèƒ½åˆå¹¶åŠŸèƒ½ã€‚\n\né…ç½®æ–‡ä»¶ä½äºè¾“å‡ºç›®å½•ä¸­ï¼ˆé»˜è®¤ä¸º `docs/wiki-config.json`ï¼‰ï¼Œé¦–æ¬¡è¿è¡Œæ—¶è‡ªåŠ¨åˆ›å»ºã€‚\n\n## æ ¸å¿ƒç‰¹æ€§\n\n- **é…ç½®é©±åŠ¨**ï¼šè¯»å– `{output_dir}/wiki-config.json` å†³å®šç”Ÿæˆè¡Œä¸º\n- **å¢é‡æ›´æ–°**ï¼šæ™ºèƒ½æ£€æµ‹ä»£ç å˜æ›´ï¼Œåªæ›´æ–°å—å½±å“çš„æ–‡æ¡£\n- **æ‰‹åŠ¨ç¼–è¾‘ä¿æŠ¤**ï¼šæ™ºèƒ½åˆå¹¶ä¿ç•™ç”¨æˆ·æ‰‹åŠ¨ç¼–è¾‘çš„å†…å®¹\n- **æŠ€æœ¯æ ˆæ˜¾å¼æ£€æµ‹**ï¼šåŸºäºæ£€æµ‹åˆ°çš„æ¡†æ¶/åº“ç”Ÿæˆæ¡ä»¶æ–‡æ¡£\n- **éƒ¨åˆ†æˆåŠŸæœºåˆ¶**ï¼šä¿ç•™æˆåŠŸç”Ÿæˆçš„æ–‡æ¡£ï¼Œè·³è¿‡å¤±è´¥çš„ï¼Œç”Ÿæˆé”™è¯¯æŠ¥å‘Š\n- **ä¸­æ–‡æ–‡ä»¶å**ï¼šç”Ÿæˆæ–‡æ¡£ä½¿ç”¨ä¸­æ–‡æ–‡ä»¶åï¼ˆå¦‚ `å¿«é€Ÿå¼€å§‹.md`ï¼‰\n- **åˆ†å±‚ç›®å½•ç»“æ„**ï¼šæŒ‰ç…§å‚è€ƒé¡¹ç›®æ ‡å‡†ç»„ç»‡æ–‡æ¡£\n- **Skill é›†æˆ**ï¼šä½¿ç”¨ doc-generator skills å®Œæˆå„ä¸ªç”Ÿæˆæ­¥éª¤\n- **å¯è§†åŒ–æµç¨‹**ï¼šä½¿ç”¨ Mermaid å›¾è¡¨å±•ç¤ºç”Ÿæˆæµç¨‹å’Œæ¶æ„\n\n## æ•´ä½“æµç¨‹å›¾\n\n```mermaid\nflowchart TD\n    A[å¼€å§‹: /wiki-generate] --> B{æ›´æ–°æ¨¡å¼?}\n    B -->|--full| C[å®Œå…¨é‡æ–°ç”Ÿæˆ]\n    B -->|æ— å‚æ•°<br/>é»˜è®¤å¢é‡| D[å¢é‡æ›´æ–°]\n    B -->|--incremental| D\n\n    C --> C1[é…ç½®éªŒè¯]\n    C1 --> C2[æŠ€æœ¯æ ˆæ£€æµ‹]\n    C2 --> C3[æ–‡æ¡£ç”Ÿæˆä¸»æµç¨‹]\n    C3 --> C4[è´¨é‡éªŒè¯]\n    C4 --> C5[âœ… å®Œæ•´è¾“å‡º]\n\n    D --> D1[é…ç½®éªŒè¯]\n    D1 --> D2[åŠ è½½å…ƒæ•°æ®]\n    D2 --> D3[å˜æ›´æ£€æµ‹<br/>doc-generator.change_detection]\n    D3 --> D4{æœ‰å˜æ›´?}\n    D4 -->|å¦| D5[âœ… æ— éœ€æ›´æ–°]\n    D4 -->|æ˜¯| D6[æ™ºèƒ½ç”Ÿæˆä¸åˆå¹¶]\n    D6 --> D7[æ›´æ–°å…ƒæ•°æ®]\n    D7 --> D8[âœ… å¢é‡è¾“å‡º]\n\n    style C fill:#e1f5ff\n    style D fill:#fff4e6\n    style D3 fill:#e8f5e9\n    style D6 fill:#d4edda\n    style D8 fill:#d4edda\n```\n\n## å‚æ•°è¯´æ˜\n\n- `--full`: å®Œæ•´ç”Ÿæˆæ‰€æœ‰æ–‡æ¡£ï¼ˆå¿½ç•¥å¢é‡æ¨¡å¼ï¼Œé‡æ–°ç”Ÿæˆæ‰€æœ‰æ–‡æ¡£ï¼‰\n- `--incremental`: æ˜¾å¼å¯ç”¨å¢é‡æ›´æ–°æ¨¡å¼ï¼ˆé»˜è®¤è¡Œä¸ºï¼‰\n\n## æ‰§è¡Œæ­¥éª¤\n\n### 1. é…ç½®éªŒè¯\n\né¦–å…ˆè¯»å–å¹¶éªŒè¯é…ç½®æ–‡ä»¶ï¼š\n\n```bash\n# 1. å¯¼å…¥é…ç½®è§£æåº“\nsource plugins/libs/config_resolver.sh\n\n# 2. æŸ¥æ‰¾æˆ–åˆå§‹åŒ–é…ç½®æ–‡ä»¶\nCONFIG_FILE=$(find_config_file)\n\nif [ -z \"$CONFIG_FILE\" ] || [ ! -f \"$CONFIG_FILE\" ]; then\n    echo \"ğŸ“ æœªæ‰¾åˆ°é…ç½®æ–‡ä»¶ï¼Œæ­£åœ¨åˆå§‹åŒ–...\"\n\n    # äº¤äº’å¼è¯¢é—® output_dirï¼ˆæä¾›é»˜è®¤å€¼ docsï¼‰\n    read -p \"è¯·è¾“å…¥æ–‡æ¡£è¾“å‡ºç›®å½• [docs]: \" user_output_dir\n    output_dir=${user_output_dir:-\"docs\"}\n\n    echo \"âœ… ä½¿ç”¨è¾“å‡ºç›®å½•: $output_dir\"\n\n    # åˆå§‹åŒ–é…ç½®æ–‡ä»¶\n    CONFIG_FILE=$(init_config_file \"$output_dir\")\n    export WIKI_CONFIG=\"$CONFIG_FILE\"\nelse\n    export WIKI_CONFIG=\"$CONFIG_FILE\"\nfi\n\n# 3. éªŒè¯é…ç½®æ–‡ä»¶\nif ! validate_config \"$CONFIG_FILE\"; then\n    echo \"âŒ é…ç½®æ–‡ä»¶éªŒè¯å¤±è´¥\"\n    exit 1\nfi\n\necho \"âœ… é…ç½®æ–‡ä»¶: $CONFIG_FILE\"\n```\n\n### 2. è¯»å–é…ç½®\n\nè§£æé…ç½®æ–‡ä»¶è·å–ç”Ÿæˆå‚æ•°ï¼š\n\n```bash\n# è¯»å–è¯­è¨€é…ç½®\nLANGUAGE=$(jq -r '.language' \"$CONFIG_FILE\")  # \"zh\" | \"en\" | \"both\"\nOUTPUT_DIR=$(jq -r '.output_dir' \"$CONFIG_FILE\")  # \"docs\"\nSTRUCTURE_TEMPLATE=$(jq -r '.structure_template' \"$CONFIG_FILE\")  # \"reference\" | \"simple\" | \"custom\"\nINCLUDE_SOURCES=$(jq -r '.include_sources' \"$CONFIG_FILE\")  # true | false\nGENERATE_TOC=$(jq -r '.generate_toc' \"$CONFIG_FILE\")  # true | false\n```\n\n#### 2.1 è¯»å–å¢é‡æ›´æ–°é…ç½®\n\n```bash\n# è¯»å–æ›´æ–°æ¨¡å¼é…ç½®\nUPDATE_MODE=$(jq -r '.update_mode.strategy // \"incremental\"' \"$CONFIG_FILE\")  # \"full\" | \"incremental\"\nDETECT_CHANGES=$(jq -r '.update_mode.detect_changes // true' \"$CONFIG_FILE\")  # true | false\nPRESERVE_MANUAL_EDITS=$(jq -r '.update_mode.preserve_manual_edits // true' \"$CONFIG_FILE\")  # true | false\nMERGE_CONFLICTS=$(jq -r '.update_mode.merge_conflicts // \"skip\"' \"$CONFIG_FILE\")  # \"skip\" | \"overwrite\" | \"ask\"\n\n# è¯»å–å˜æ›´æ£€æµ‹é…ç½®\nCHANGE_METHOD=$(jq -r '.change_detection.method // \"both\"' \"$CONFIG_FILE\")  # \"git\" | \"hash\" | \"both\"\nEXCLUDE_PATTERNS=$(jq -r '.change_detection.exclude_patterns[] // [\"tests/**\", \"*.test.*\", \"mocks/**\"]' \"$CONFIG_FILE\")\n\n# è¯»å–æ™ºèƒ½åˆå¹¶é…ç½®\nSMART_MERGE_ENABLED=$(jq -r '.smart_merge.enabled // true' \"$CONFIG_FILE\")  # true | false\nSIMILARITY_THRESHOLD=$(jq -r '.smart_merge.similarity_threshold // 0.8' \"$CONFIG_FILE\")  # 0.0-1.0\n\n# è¯»å–å…ƒæ•°æ®è¿½è¸ªé…ç½®\nMETADATA_ENABLED=$(jq -r '.metadata_tracking.enabled // true' \"$CONFIG_FILE\")  # true | false\nMETADATA_FILE=$(jq -r '.metadata_tracking.metadata_file // \"{output_dir}/.wiki-metadata/metadata.json\"' \"$CONFIG_FILE\")\n```\n\n#### 2.2 é…ç½®è¿ç§»å‡½æ•°\n\næ£€æŸ¥é…ç½®ç‰ˆæœ¬å¹¶è‡ªåŠ¨è¿ç§»ï¼š\n\n```bash\n#!/usr/bin/env bash\n# é…ç½®è¿ç§»å‡½æ•°ï¼ˆå†…è” Pythonï¼‰\n# ç”¨æ³•: migrate_config <config_file>\n\nmigrate_config() {\n    local config_file=$1\n\n    # ä½¿ç”¨å†…è” Python æ£€æŸ¥å’Œè¿ç§»é…ç½®\n    python3 <<PYTHON_EOF\nimport json\nfrom pathlib import Path\n\nconfig_path = Path(\"$config_file\")\n\nif not config_path.exists():\n    print(f\"âŒ é…ç½®æ–‡ä»¶ä¸å­˜åœ¨: {config_path}\")\n    exit(1)\n\nwith open(config_path, 'r', encoding='utf-8') as f:\n    config = json.load(f)\n\n# æ£€æŸ¥ç‰ˆæœ¬\nversion = config.get('version', '2.0.0')\n\n# æ·»åŠ é»˜è®¤é…ç½®\nif version < '1.0.2':\n    print(\"ğŸ”„ é…ç½®è¿ç§»: v${version} â†’ v1.0.2\")\n\n    config['version'] = '1.0.2'\n\n    if 'update_mode' not in config:\n        config['update_mode'] = {\n            'strategy': 'incremental',\n            'detect_changes': True,\n            'preserve_manual_edits': True,\n            'merge_conflicts': 'skip'\n        }\n        print(\"  âœ… æ·»åŠ  update_mode é…ç½®\")\n\n    if 'change_detection' not in config:\n        config['change_detection'] = {\n            'method': 'both',\n            'base_commit': '',\n            'exclude_patterns': ['tests/**', '*.test.*', 'mocks/**']\n        }\n        print(\"  âœ… æ·»åŠ  change_detection é…ç½®\")\n\n    if 'smart_merge' not in config:\n        config['smart_merge'] = {\n            'enabled': True,\n            'region_markers': {\n                'start': '<!-- WIKI-GEN-START: {name} -->',\n                'end': '<!-- WIKI-GEN-END: {name} -->'\n            },\n            'manual_edit_markers': ['<!-- MANUAL-EDIT -->', '<!-- KEEP -->']\n        }\n        print(\"  âœ… æ·»åŠ  smart_merge é…ç½®\")\n\n    if 'metadata_tracking' not in config:\n        config['metadata_tracking'] = {\n            'enabled': True,\n            'metadata_file': '{output_dir}/.wiki-metadata/metadata.json',\n            'track_file_hashes': True,\n            'track_dependencies': True\n        }\n        print(\"  âœ… æ·»åŠ  metadata_tracking é…ç½®\")\n\n    # ä¿å­˜è¿ç§»åçš„é…ç½®\n    with open(config_path, 'w', encoding='utf-8') as f:\n        json.dump(config, f, indent=2, ensure_ascii=False)\n\n    print(f\"âœ… é…ç½®å·²è¿ç§»åˆ° v{config['version']}\")\nelse:\n    print(f\"âœ… é…ç½®ç‰ˆæœ¬å·²æ˜¯æœ€æ–°: v{version}\")\nPYTHON_EOF\n}\n\n# æ‰§è¡Œé…ç½®è¿ç§»\nmigrate_config \"$CONFIG_FILE\"\n```\n\n### 2.3 æ£€æŸ¥æ›´æ–°æ¨¡å¼\n\n```bash\n# æ£€æŸ¥å‘½ä»¤è¡Œå‚æ•°\nUPDATE_MODE_ARG=\"\"\nif [[ \" $@ \" =~ \" --full \" ]]; then\n    UPDATE_MODE_ARG=\"full\"\n    echo \"ğŸ”„ æ¨¡å¼: å®Œå…¨é‡æ–°ç”Ÿæˆ\"\nelif [[ \" $@ \" =~ \" --incremental \" ]]; then\n    UPDATE_MODE_ARG=\"incremental\"\n    echo \"ğŸš€ æ¨¡å¼: å¢é‡æ›´æ–°\"\nelse\n    # ä½¿ç”¨é…ç½®æ–‡ä»¶ä¸­çš„è®¾ç½®\n    UPDATE_MODE_ARG=\"$UPDATE_MODE\"\n    if [ \"$UPDATE_MODE_ARG\" = \"incremental\" ]; then\n        echo \"ğŸš€ æ¨¡å¼: å¢é‡æ›´æ–°ï¼ˆé»˜è®¤ï¼‰\"\n    else\n        echo \"ğŸ”„ æ¨¡å¼: å®Œå…¨é‡æ–°ç”Ÿæˆ\"\n    fi\nfi\n```\n\n### 3. æŠ€æœ¯æ ˆæ˜¾å¼æ£€æµ‹\n\nè°ƒç”¨ **doc-generator.tech_stack_detection** skillï¼š\n\nåŸºäºä»£ç åº“ä¸­çš„ä¾èµ–å’Œå¯¼å…¥ï¼Œæ˜¾å¼æ£€æµ‹æŠ€æœ¯æ ˆï¼š\n\n```bash\n# æ£€æµ‹æ•°æ®åº“ ORM\nDETECTED_TECH_STACK=()\n\nif grep -rq \"from sqlalchemy\" src/ 2>/dev/null || \\\n   grep -rq \"import sqlalchemy\" src/ 2>/dev/null || \\\n   [ -f \"requirements.txt\" ] && grep -q \"SQLAlchemy\" requirements.txt; then\n    DETECTED_TECH_STACK+=(\"datamodel\")\nfi\n\n# æ£€æµ‹ Web æ¡†æ¶\nif grep -rq \"from fastapi\" src/ 2>/dev/null || \\\n   grep -rq \"import fastapi\" src/ 2>/dev/null || \\\n   [ -f \"requirements.txt\" ] && grep -q \"fastapi\" requirements.txt; then\n    DETECTED_TECH_STACK+=(\"api\")\nfi\n\n# æ£€æµ‹ä»»åŠ¡é˜Ÿåˆ—\nif grep -rq \"from celery\" src/ 2>/dev/null || \\\n   grep -rq \"import celery\" src/ 2>/dev/null || \\\n   [ -f \"requirements.txt\" ] && grep -q \"celery\" requirements.txt; then\n    DETECTED_TECH_STACK+=(\"taskqueue\")\nfi\n\n# æ£€æµ‹æµ‹è¯•æ¡†æ¶\nif grep -rq \"import pytest\" src/ 2>/dev/null || \\\n   grep -rq \"import unittest\" src/ 2>/dev/null || \\\n   [ -f \"requirements.txt\" ] && (grep -q \"pytest\" requirements.txt || grep -q \"unittest\" requirements.txt); then\n    DETECTED_TECH_STACK+=(\"testing\")\nfi\n\n# æ£€æµ‹å®¹å™¨åŒ–\nif [ -f \"Dockerfile\" ] || [ -f \"docker-compose.yml\" ] || [ -f \"docker-compose.yaml\" ]; then\n    DETECTED_TECH_STACK+=(\"deployment\")\nfi\n```\n\n**æŠ€æœ¯æ ˆæ˜ å°„è§„åˆ™**ï¼š\n- `datamodel` â†’ ç”Ÿæˆ `æ•°æ®æ¨¡å‹/` ç›®å½•æ–‡æ¡£\n- `api` â†’ ç”Ÿæˆ `APIæ–‡æ¡£/` ç›®å½•æ–‡æ¡£\n- `taskqueue` â†’ ç”Ÿæˆ `ä»»åŠ¡é˜Ÿåˆ—/` ç›®å½•æ–‡æ¡£\n- `testing` â†’ ç”Ÿæˆ `æµ‹è¯•ç­–ç•¥.md`\n- `deployment` â†’ ç”Ÿæˆ `éƒ¨ç½²æŒ‡å—.md`\n\n**Skill è¾“å‡ºç¤ºä¾‹**ï¼š\n```json\n{\n  \"detected_stack\": [\"datamodel\", \"api\", \"taskqueue\", \"testing\", \"deployment\"]\n}\n```\n\n### 4. åˆ›å»ºç›®å½•ç»“æ„\n\næ ¹æ®é…ç½®çš„è¯­è¨€åˆ›å»ºåˆ†å±‚ç›®å½•ï¼š\n\n```bash\n# åˆ›å»ºè¾“å‡ºç›®å½•\nmkdir -p \"$OUTPUT_DIR\"\n\n# æ ¹æ®è¯­è¨€é…ç½®åˆ›å»ºç›®å½•ç»“æ„\nif [ \"$LANGUAGE\" = \"zh\" ] || [ \"$LANGUAGE\" = \"both\" ]; then\n    mkdir -p \"$OUTPUT_DIR/zh/content\"\nfi\n\nif [ \"$LANGUAGE\" = \"en\" ] || [ \"$LANGUAGE\" = \"both\" ]; then\n    mkdir -p \"$OUTPUT_DIR/en/content\"\nfi\n```\n\n**ç›®å½•ç»“æ„**ï¼ˆreference æ¨¡æ¿ï¼‰ï¼š\n```\ndocs/\nâ””â”€â”€ {lang}/              # è¯­è¨€ç›®å½• (zh/en)\n    â””â”€â”€ content/         # å†…å®¹ç›®å½•\n        â”œâ”€â”€ 00-å¿«é€Ÿå¼€å§‹.md\n        â”œâ”€â”€ 01-é¡¹ç›®æ¦‚è¿°.md\n        â”œâ”€â”€ 02-æŠ€æœ¯æ ˆä¸ä¾èµ–.md\n        â”œâ”€â”€ 03-ç³»ç»Ÿæ¶æ„è®¾è®¡.md\n        â”œâ”€â”€ æ•°æ®æ¨¡å‹/          # æ¡ä»¶æ–‡æ¡£ï¼ˆæ£€æµ‹åˆ° SQLAlchemyï¼‰\n        â”‚   â””â”€â”€ æ•°æ®æ¨¡å‹.md\n        â”œâ”€â”€ APIæ–‡æ¡£/          # æ¡ä»¶æ–‡æ¡£ï¼ˆæ£€æµ‹åˆ° FastAPIï¼‰\n        â”‚   â””â”€â”€ APIæ¥å£.md\n        â”œâ”€â”€ 04-æ ¸å¿ƒåŠŸèƒ½.md\n        â”œâ”€â”€ 05-å¼€å‘æŒ‡å—.md\n        â”œâ”€â”€ 06-éƒ¨ç½²æŒ‡å—.md\n        â”œâ”€â”€ 07-æµ‹è¯•ç­–ç•¥.md\n        â”œâ”€â”€ 08-æ•…éšœæ’é™¤.md\n        â””â”€â”€ 09-å®‰å…¨è€ƒè™‘.md\n```\n\n### 5. æ–‡æ¡£ç”Ÿæˆ\n\næ–‡æ¡£ç”Ÿæˆé€šè¿‡è°ƒç”¨ä¸€ç³»åˆ— doc-generator skills å®Œæˆï¼š\n\n```mermaid\nflowchart LR\n    A[5.1 æ¨¡å—æ‰«æ<br/>doc-generator.module_scanning] --> B[5.2 å†…å®¹æå–<br/>doc-generator.content_extraction]\n    B --> C[5.3 å¤§çº²ç”Ÿæˆ<br/>doc-generator.outline_generation]\n    C --> D[5.4 å†…å®¹ç”Ÿæˆ<br/>doc-generator.content_generation]\n    D --> E[5.5 ç´¢å¼•ç”Ÿæˆ<br/>doc-generator.index_generation]\n\n    style A fill:#e3f2fd\n    style B fill:#e3f2fd\n    style C fill:#fff3e0\n    style D fill:#e8f5e9\n    style E fill:#fce4ec\n```\n\n#### 5.1 å¿…éœ€æ–‡æ¡£åˆ—è¡¨\n\nä»¥ä¸‹æ–‡æ¡£æ˜¯å¿…éœ€çš„ï¼Œå¿…é¡»ç”Ÿæˆï¼š\n\n**æ³¨æ„**ï¼šæ‰€æœ‰æ¨¡æ¿æ–‡ä»¶ä½äº `plugins/templates/wiki-generate/{lang}/` ç›®å½•ï¼Œå…¶ä¸­ `{lang}` ä¸º `zh`ï¼ˆä¸­æ–‡ï¼‰æˆ– `en`ï¼ˆè‹±æ–‡ï¼‰ã€‚\n\n| åºå· | æ–‡æ¡£å | æ¨¡æ¿æ–‡ä»¶ | è¯´æ˜ |\n|------|--------|----------|------|\n| 00 | å¿«é€Ÿå¼€å§‹ | quickstart.md.template | 5 åˆ†é’Ÿå…¥é—¨æŒ‡å— |\n| 01 | é¡¹ç›®æ¦‚è¿° | overview.md.template | é¡¹ç›®ä»‹ç»å’Œæ¶æ„ |\n| 02 | æŠ€æœ¯æ ˆä¸ä¾èµ– | techstack.md.template | æŠ€æœ¯é€‰å‹è¯´æ˜ |\n| 03 | ç³»ç»Ÿæ¶æ„è®¾è®¡ | architecture.md.template | æ¶æ„å›¾å’Œè®¾è®¡ |\n| 04 | æ ¸å¿ƒåŠŸèƒ½ | corefeatures.md.template | æ ¸å¿ƒä¸šåŠ¡æµç¨‹ |\n| 05 | å¼€å‘æŒ‡å— | development.md.template | å¼€å‘ç›¸å…³ |\n| 06 | éƒ¨ç½²æŒ‡å— | deployment.md.template | éƒ¨ç½²ç›¸å…³ |\n| 07 | æµ‹è¯•ç­–ç•¥ | testing.md.template | æµ‹è¯•ç›¸å…³ |\n| 08 | æ•…éšœæ’é™¤ | troubleshooting.md.template | é—®é¢˜è§£å†³ |\n| 09 | å®‰å…¨è€ƒè™‘ | security.md.template | å®‰å…¨ç›¸å…³ |\n\n#### 5.2 æ¡ä»¶æ–‡æ¡£åˆ—è¡¨\n\nä»¥ä¸‹æ–‡æ¡£æ ¹æ®æŠ€æœ¯æ ˆæ£€æµ‹ç”Ÿæˆï¼š\n\n**æ³¨æ„**ï¼šæ‰€æœ‰æ¨¡æ¿æ–‡ä»¶ä½äº `plugins/templates/wiki-generate/{lang}/` ç›®å½•ã€‚\n\n| æŠ€æœ¯æ ˆ | æ–‡æ¡£å | æ¨¡æ¿æ–‡ä»¶ |\n|--------|--------|----------|\n| SQLAlchemy/Django ORM | æ•°æ®æ¨¡å‹/æ•°æ®æ¨¡å‹ | datamodel.md.template |\n| FastAPI/Flask/Django REST | APIæ–‡æ¡£/APIæ¥å£ | api-reference.md.template æˆ– api-endpoint.md.template |\n| Celery/RQ | ä»»åŠ¡é˜Ÿåˆ—/ä»»åŠ¡é˜Ÿåˆ— | taskqueue.md.template |\n\n#### 5.3 æ¨¡å—æ‰«æ\n\nè°ƒç”¨ **doc-generator.module_scanning** skillï¼š\n\n- æ‰«æé¡¹ç›®æ ¹ç›®å½•å’Œå­ç›®å½•\n- è¯†åˆ«æ¨¡å—è¾¹ç•Œå’Œç»„ä»¶\n- è¿”å›æ¨¡å—åˆ—è¡¨å’Œæ–‡ä»¶æ•°\n\n**è¾“å‡ºç¤ºä¾‹**ï¼š\n```json\n{\n  \"modules\": [\n    {\"name\": \"core\", \"path\": \"src/core\", \"file_count\": 15},\n    {\"name\": \"api\", \"path\": \"src/api\", \"file_count\": 8}\n  ]\n}\n```\n\n#### 5.4 å†…å®¹æå–\n\nè°ƒç”¨ **doc-generator.content_extraction** skillï¼š\n\n- ä»æºä»£ç æå– API ç­¾å\n- æå–ç±»å®šä¹‰å’Œç»§æ‰¿å…³ç³»\n- æå–æ–‡æ¡£å­—ç¬¦ä¸²å’Œæ³¨é‡Š\n\n**è¾“å‡ºç¤ºä¾‹**ï¼š\n```json\n{\n  \"classes\": [\n    {\"name\": \"UserService\", \"methods\": [\"create\", \"update\", \"delete\"]}\n  ],\n  \"functions\": [\n    {\"name\": \"authenticate\", \"signature\": \"def authenticate(username, password)\"}\n  ]\n}\n```\n\n#### 5.5 å¤§çº²ç”Ÿæˆ\n\nè°ƒç”¨ **doc-generator.outline_generation** skillï¼š\n\n- æ ¹æ®æ¨¡å—è§„æ¨¡ç¡®å®šæ–‡æ¡£å±‚çº§ï¼ˆ1-4 å±‚ï¼‰\n- ç”Ÿæˆæ¯ä¸ªæ–‡æ¡£çš„ç« èŠ‚ç»“æ„\n- è¿”å› Markdown å¤§çº²\n\n**è§„æ¨¡è§„åˆ™**ï¼š\n- å°å‹æ¨¡å—ï¼ˆ1-4 æ–‡ä»¶ï¼‰â†’ 1 å±‚æ–‡æ¡£\n- ä¸­å‹æ¨¡å—ï¼ˆ5-20 æ–‡ä»¶ï¼‰â†’ 2 å±‚æ–‡æ¡£\n- å¤§å‹æ¨¡å—ï¼ˆ21-50 æ–‡ä»¶ï¼‰â†’ 3 å±‚æ–‡æ¡£\n- è¶…å¤§å‹æ¨¡å—ï¼ˆ>50 æ–‡ä»¶ï¼‰â†’ 4 å±‚æ–‡æ¡£\n\n#### 5.6 å†…å®¹ç”Ÿæˆ\n\nè°ƒç”¨ **doc-generator.content_generation** skillï¼š\n\nå¯¹æ¯ä¸ªæ–‡æ¡£ï¼š\n\n1. **è¯»å–æ¨¡æ¿**ï¼šä» `.claude-plugin/templates/wiki-generate/{lang}/{template}` è¯»å–\n2. **æå–å˜é‡**ï¼šä»ä»£ç åº“ä¸­æå–å˜é‡å€¼ï¼ˆé¡¹ç›®åã€ç‰ˆæœ¬å·ç­‰ï¼‰\n3. **å¡«å……å˜é‡**ï¼šä½¿ç”¨æå–çš„å€¼æ›¿æ¢æ¨¡æ¿ä¸­çš„ `{variable}` å ä½ç¬¦\n4. **ç”Ÿæˆ Mermaid å›¾è¡¨**ï¼šæ ¹æ®æ–‡æ¡£ç±»å‹ç”Ÿæˆå¯¹åº”çš„å›¾è¡¨\n5. **æ·»åŠ å¿…éœ€å…ƒç´ **ï¼š\n   - `<cite>` å—ï¼šå¼•ç”¨çš„æºæ–‡ä»¶åˆ—è¡¨\n   - ç›®å½•ç´¢å¼•ï¼šæ ¹æ®æ ‡é¢˜ç”Ÿæˆ\n   - Section sourcesï¼šæ¯ä¸ªç« èŠ‚æœ«å°¾æ ‡æ³¨æ¥æº\n6. **å†™å…¥æ–‡ä»¶**ï¼šä½¿ç”¨ä¸­æ–‡æ–‡ä»¶åå†™å…¥åˆ°è¾“å‡ºç›®å½•\n\n**ç¤ºä¾‹ç”Ÿæˆæµç¨‹**ï¼ˆå¿«é€Ÿå¼€å§‹.mdï¼‰ï¼š\n\n```bash\n# 1. è¯»å–æ¨¡æ¿\nTEMPLATE_FILE=\".claude-plugin/templates/wiki-generate/zh/quickstart.md.template\"\n\n# 2. æå–å˜é‡\nPROJECT_NAME=$(jq -r '.project_name' package.json 2>/dev/null || basename \"$(pwd)\")\nVERSION=$(jq -r '.version' package.json 2>/dev/null || echo \"1.0.0\")\n\n# 3. è¯»å–æ¨¡æ¿å†…å®¹\nTEMPLATE_CONTENT=$(cat \"$TEMPLATE_FILE\")\n\n# 4. æ›¿æ¢å˜é‡ï¼ˆç¤ºä¾‹ï¼‰\nCONTENT=\"${TEMPLATE_CONTENT//\\{project_name\\}/$PROJECT_NAME}\"\nCONTENT=\"${CONTENT//\\{version\\}/$VERSION}\"\n\n# 5. æ·»åŠ  <cite> å—\nCITE_BLOCK=\"<cite>\n**æœ¬æ–‡æ¡£ä¸­å¼•ç”¨çš„æ–‡ä»¶**\n- [README.md](file://README.md)\n- [package.json](file://package.json)\n</cite>\n\n\"\n\n# 6. æ·»åŠ  Section sources\nSECTION_SOURCES=\"\n**Section sources**\n- [README.md](file://README.md#L1-L50)\n- [src/main.py](file://src/main.py#L10-L30)\n\"\n\n# 7. ç»„åˆæœ€ç»ˆå†…å®¹\nFINAL_CONTENT=\"$CITE_BLOCK\n\n$CONTENT\n\n$SECTION_SOURCES\"\n\n# 8. å†™å…¥æ–‡ä»¶ï¼ˆä½¿ç”¨ä¸­æ–‡æ–‡ä»¶åï¼‰\necho \"$FINAL_CONTENT\" > \"$OUTPUT_DIR/zh/content/00-å¿«é€Ÿå¼€å§‹.md\"\n```\n\n#### 5.7 æ•°æ®æ¨¡å‹æ–‡æ¡£ç”Ÿæˆç‰¹æ®Šè§„åˆ™\n\næ•°æ®æ¨¡å‹æ–‡æ¡£ï¼ˆ`æ•°æ®æ¨¡å‹/æ•°æ®æ¨¡å‹.md`ï¼‰æœ‰ç‰¹æ®Šçš„æå–è§„åˆ™ï¼Œä»¥é¿å…åŒ…å«æµ‹è¯•ä»£ç ä¸­çš„æ•°æ®æ¨¡å‹ï¼š\n\n**AI æå–çº¦æŸ**ï¼š\n\næ‰«æèŒƒå›´ï¼š\n- `src/`, `lib/`, `app/`, `core/` ç­‰æºä»£ç ç›®å½•\n- æ˜ç¡®æ’é™¤ï¼š`tests/`, `test/`, `__pycache__`, `mocks/`, `fixtures/`\n\næ’é™¤è§„åˆ™ï¼š\n- æ–‡ä»¶ååŒ…å« \"test\", \"mock\", \"fixture\", \"fake\" çš„æ–‡ä»¶\n- `tests/` ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶\n- æµ‹è¯•ä¸“ç”¨çš„æ¨¡å‹ç±»ï¼ˆå¦‚ TestModel, FakeModel, MockModelï¼‰\n\næ¨¡å‹è¯†åˆ«ï¼š\n- SQLAlchemy æ¨¡å‹ï¼ˆ`from sqlalchemy import ...`ï¼‰\n- Django æ¨¡å‹ï¼ˆ`from django.db import models`ï¼‰\n- Pydantic æ¨¡å‹ï¼ˆ`from pydantic import BaseModel`ï¼‰\n- å…¶ä»–ç”Ÿäº§ç¯å¢ƒçš„ ORM æ¨¡å‹ï¼ˆå¦‚ Tortoise ORM, Peewee, SQLAlchemy ç­‰ï¼‰\n\n**ä¸æµ‹è¯•ç­–ç•¥æ–‡æ¡£çš„åŒºåˆ«**ï¼š\n- **æ•°æ®æ¨¡å‹æ–‡æ¡£**ï¼šä»…åŒ…å«ç”Ÿäº§ä»£ç çš„æ•°æ®æ¨¡å‹ï¼Œä¸åŒ…å«æµ‹è¯•ä»£ç ä¸­çš„æ¨¡å‹\n- **æµ‹è¯•ç­–ç•¥æ–‡æ¡£**ï¼šæè¿°æµ‹è¯•ä»£ç ç»“æ„ã€æµ‹è¯•å·¥å…·ã€fixtures å’Œæµ‹è¯•æ•°æ®çš„ä½¿ç”¨\n\n**å®ç°æ–¹å¼**ï¼š\nåœ¨ `datamodel.md.template` æ¨¡æ¿ä¸­åŒ…å«æ˜ç¡®çš„ AI æŒ‡ä»¤æ³¨é‡Šï¼ŒæŒ‡å¯¼ AI åœ¨å¡«å……æ¨¡æ¿å˜é‡æ—¶åº”ç”¨ä¸Šè¿°è¿‡æ»¤è§„åˆ™ã€‚\n\n#### 5.8 ç´¢å¼•ç”Ÿæˆ\n\nè°ƒç”¨ **doc-generator.index_generation** skillï¼š\n\n- ä¸ºæ¯ä¸ªæ–‡æ¡£ç”Ÿæˆç›®å½•ç´¢å¼•\n- ç”Ÿæˆäº¤å‰å¼•ç”¨é“¾æ¥\n- æ›´æ–°ä¸»ç´¢å¼•æ–‡ä»¶\n\n### 6. éƒ¨åˆ†æˆåŠŸé”™è¯¯å¤„ç†\n\né‡‡ç”¨éƒ¨åˆ†æˆåŠŸç­–ç•¥ï¼šä¿ç•™æˆåŠŸç”Ÿæˆçš„æ–‡æ¡£ï¼Œè·³è¿‡å¤±è´¥çš„ï¼Œç”Ÿæˆé”™è¯¯æŠ¥å‘Šã€‚\n\n```bash\n# é”™è¯¯æŠ¥å‘Šæ–‡ä»¶\nERROR_REPORT=\"$OUTPUT_DIR/generation-errors.md\"\nERROR_COUNT=0\nSUCCESS_COUNT=0\n\n# ä¸ºæ¯ä¸ªæ–‡æ¡£ç”Ÿæˆ\nfor doc in \"${DOCUMENTS[@]}\"; do\n    if generate_document \"$doc\"; then\n        SUCCESS_COUNT=$((SUCCESS_COUNT + 1))\n        echo \"âœ… æˆåŠŸç”Ÿæˆ: $doc\"\n    else\n        ERROR_COUNT=$((ERROR_COUNT + 1))\n        echo \"âŒ ç”Ÿæˆå¤±è´¥: $doc\" >> \"$ERROR_REPORT\"\n        echo \"   åŸå› : $(get_error_message)\" >> \"$ERROR_REPORT\"\n        echo \"   å»ºè®®: $(get_fix_suggestion)\" >> \"$ERROR_REPORT\"\n        echo \"\" >> \"$ERROR_REPORT\"\n    fi\ndone\n\n# ç”Ÿæˆé”™è¯¯æŠ¥å‘Šæ‘˜è¦\nif [ $ERROR_COUNT -gt 0 ]; then\n    echo \"# æ–‡æ¡£ç”Ÿæˆé”™è¯¯æŠ¥å‘Š\n\n**ç”Ÿæˆæ—¶é—´**: $(date)\n**æˆåŠŸ**: $SUCCESS_COUNT ä¸ªæ–‡æ¡£\n**å¤±è´¥**: $ERROR_COUNT ä¸ªæ–‡æ¡£\n\n\" | cat - \"$ERROR_REPORT\" > \"$ERROR_REPORT.tmp\"\n    mv \"$ERROR_REPORT.tmp\" \"$ERROR_REPORT\"\n\n    echo \"âš ï¸  éƒ¨åˆ†æ–‡æ¡£ç”Ÿæˆå¤±è´¥ï¼Œè¯¦è§é”™è¯¯æŠ¥å‘Š: $ERROR_REPORT\"\nelse\n    echo \"âœ… æ‰€æœ‰æ–‡æ¡£ç”ŸæˆæˆåŠŸ\"\n    rm -f \"$ERROR_REPORT\"\nfi\n```\n\n### 7. è´¨é‡éªŒè¯\n\nå¯¹ç”Ÿæˆçš„æ–‡æ¡£è¿›è¡ŒåŸºç¡€è‡ªåŠ¨åŒ–éªŒè¯ï¼š\n\n#### 7.1 Markdown æ ¼å¼éªŒè¯\n\n```bash\n# éªŒè¯æ¸…å•\nVALIDATION_PASSED=0\nVALIDATION_FAILED=0\n\nfor doc_file in \"$OUTPUT_DIR\"/{zh,en}/content/*.md; do\n    # æ£€æŸ¥å¿…éœ€å…ƒç´ \n    if ! grep -q \"<cite>\" \"$doc_file\"; then\n        echo \"âŒ ç¼ºå°‘ <cite> å—: $doc_file\"\n        VALIDATION_FAILED=$((VALIDATION_FAILED + 1))\n    fi\n\n    if ! grep -q \"## ç›®å½•\" \"$doc_file\"; then\n        echo \"âŒ ç¼ºå°‘ç›®å½•ç´¢å¼•: $doc_file\"\n        VALIDATION_FAILED=$((VALIDATION_FAILED + 1))\n    fi\n\n    if ! grep -q \"Section sources\" \"$doc_file\"; then\n        echo \"âŒ ç¼ºå°‘ Section sources: $doc_file\"\n        VALIDATION_FAILED=$((VALIDATION_FAILED + 1))\n    fi\n\n    # æ£€æŸ¥ Markdown æ ¼å¼\n    if ! python3 -m markdown \"$doc_file\" > /dev/null 2>&1; then\n        echo \"âŒ Markdown æ ¼å¼é”™è¯¯: $doc_file\"\n        VALIDATION_FAILED=$((VALIDATION_FAILED + 1))\n    fi\n\n    VALIDATION_PASSED=$((VALIDATION_PASSED + 1))\ndone\n\necho \"âœ… è´¨é‡éªŒè¯å®Œæˆ: $VALIDATION_PASSED é€šè¿‡, $VALIDATION_FAILED å¤±è´¥\"\n```\n\n#### 7.2 Mermaid å›¾è¡¨éªŒè¯\n\n```bash\n# æ£€æŸ¥ Mermaid å›¾è¡¨è¯­æ³•\nfor doc_file in \"$OUTPUT_DIR\"/{zh,en}/content/*.md; do\n    # æ£€æŸ¥æ˜¯å¦åŒ…å« Mermaid ä»£ç å—\n    if grep -q '```mermaid' \"$doc_file\"; then\n        # æå–æ‰€æœ‰ Mermaid ä»£ç å—\n        mermaid_blocks=$(sed -n '/^```mermaid$/,/^```$/p' \"$doc_file\")\n\n        # éªŒè¯è¯­æ³•ï¼ˆä½¿ç”¨ mermaid-cli æˆ–å…¶ä»–éªŒè¯å·¥å…·ï¼‰\n        if [ -n \"$mermaid_blocks\" ]; then\n            # åŸºç¡€è¯­æ³•æ£€æŸ¥\n            if ! echo \"$mermaid_blocks\" | grep -qE '^(flowchart|graph|sequenceDiagram|erDiagram|classDiagram|stateDiagram|gantt|pie|gitGraph)'; then\n                echo \"âŒ Mermaid å›¾è¡¨ç±»å‹é”™è¯¯: $doc_file\"\n                VALIDATION_FAILED=$((VALIDATION_FAILED + 1))\n            fi\n\n            # æ£€æŸ¥èŠ‚ç‚¹ ID å”¯ä¸€æ€§ï¼ˆç®€åŒ–æ£€æŸ¥ï¼‰\n            node_ids=$(echo \"$mermaid_blocks\" | grep -oE '\\b[A-Z][a-zA-Z0-9_]*\\b' | sort | uniq -d)\n            if [ -n \"$node_ids\" ]; then\n                echo \"âš ï¸  Mermaid èŠ‚ç‚¹ ID å¯èƒ½é‡å¤: $doc_file\"\n                echo \"   é‡å¤çš„ ID: $node_ids\"\n            fi\n\n            # æ£€æŸ¥ç®­å¤´è¯­æ³•\n            if echo \"$mermaid_blocks\" | grep -qE '-->|-->|\\.\\.|->'; then\n                :  # ç®­å¤´è¯­æ³•æ­£ç¡®\n            else\n                echo \"âš ï¸  Mermaid ç®­å¤´è¯­æ³•å¯èƒ½æœ‰é—®é¢˜: $doc_file\"\n            fi\n        fi\n    fi\ndone\n```\n\n**éªŒè¯æ ‡å‡†**ï¼š\n- âœ… Mermaid ä»£ç å—æ ¼å¼æ­£ç¡®ï¼ˆ` ```mermaid ` å¼€å¤´ï¼Œ` ``` ` ç»“å°¾ï¼‰\n- âœ… å›¾è¡¨ç±»å‹æœ‰æ•ˆï¼ˆflowchart, graph, sequenceDiagram, erDiagram, classDiagram, stateDiagram, gantt, pie, gitGraphï¼‰\n- âœ… èŠ‚ç‚¹ ID å”¯ä¸€\n- âœ… ç®­å¤´è¯­æ³•æ­£ç¡®ï¼ˆ`-->`, `->`, `..>`, `.->` ç­‰ï¼‰\n- âœ… æ”¯æŒä¸­æ–‡æ ‡ç­¾å’Œæ–‡æœ¬\n\n**Mermaid å›¾è¡¨ç±»å‹æ˜ å°„**ï¼š\n\n| æ–‡æ¡£ç±»å‹ | æ¨èå›¾è¡¨ç±»å‹ | è¯´æ˜ |\n|---------|-------------|------|\n| architecture.md | `flowchart TD/LR` | ç³»ç»Ÿæ¶æ„æµç¨‹å›¾ |\n| datamodel.md | `erDiagram` | å®ä½“å…³ç³»å›¾ |\n| api.md | `sequenceDiagram` | API è°ƒç”¨æ—¶åºå›¾ |\n| deployment.md | `flowchart TD` | éƒ¨ç½²æµç¨‹å›¾ |\n| testing.md | `flowchart LR` | æµ‹è¯•æµç¨‹å›¾ |\n| development.md | `flowchart TD` | å¼€å‘å·¥ä½œæµ |\n| corefeatures.md | `flowchart TD` | åŠŸèƒ½æµç¨‹å›¾ |\n| troubleshooting.md | `flowchart TD` | é—®é¢˜è¯Šæ–­æµç¨‹å›¾ |\n| security.md | `flowchart TD` | å®‰å…¨éªŒè¯æµç¨‹å›¾ |\n\n## è¾“å‡º\n\n### æˆåŠŸè¾“å‡º\n\n```\nâœ… æ–‡æ¡£ç”ŸæˆæˆåŠŸ\nğŸ“‚ è¾“å‡ºç›®å½•: docs/\nğŸ“„ ç”Ÿæˆæ–‡æ¡£: 15 ä¸ª\nâœ… è´¨é‡éªŒè¯: 15/15 é€šè¿‡\nâ±ï¸ è€—æ—¶: 25.3 ç§’\n```\n\n### é”™è¯¯è¾“å‡º\n\n```\nâš ï¸  éƒ¨åˆ†æ–‡æ¡£ç”Ÿæˆå¤±è´¥\nğŸ“„ æˆåŠŸ: 12 ä¸ªæ–‡æ¡£\nâŒ å¤±è´¥: 3 ä¸ªæ–‡æ¡£\nğŸ“‹ é”™è¯¯æŠ¥å‘Š: docs/generation-errors.md\n\nğŸ’¡ å»ºè®®ï¼š\n- æ£€æŸ¥é”™è¯¯æŠ¥å‘Šäº†è§£å¤±è´¥åŸå› \n- ä¿®å¤é—®é¢˜åé‡æ–°è¿è¡Œå‘½ä»¤\n```\n\n## è´¨é‡æ ‡å‡†\n\n### æ–‡æ¡£è´¨é‡\n- âœ… æ¯ä¸ªæ–‡æ¡£åŒ…å« `<cite>` å—\n- âœ… æ¯ä¸ªæ–‡æ¡£åŒ…å«ç›®å½•ç´¢å¼•\n- âœ… æ¯ä¸ªæ–‡æ¡£åŒ…å« Section sources\n- âœ… Markdown æ ¼å¼æ­£ç¡®\n- âœ… é“¾æ¥æ ¼å¼æ­£ç¡®\n- âœ… Mermaid å›¾è¡¨è¯­æ³•æ­£ç¡®\n\n### Mermaid å›¾è¡¨è´¨é‡\n- âœ… å›¾è¡¨è¯­æ³•æ­£ç¡®ä¸”å¯æ¸²æŸ“\n- âœ… èŠ‚ç‚¹å‘½åæ¸…æ™°æ˜“æ‡‚\n- âœ… å›¾è¡¨ç±»å‹ç¬¦åˆåœºæ™¯ï¼ˆå‚è€ƒä¸Šæ–¹æ˜ å°„è¡¨ï¼‰\n- âœ… æ”¯æŒä¸­æ–‡æ ‡ç­¾å’Œæ–‡æœ¬\n- âœ… èŠ‚ç‚¹ ID å”¯ä¸€ä¸é‡å¤\n- âœ… ç®­å¤´è¯­æ³•æ­£ç¡®\n\n### Skill è°ƒç”¨è´¨é‡\n- âœ… æ‰€æœ‰ skills æŒ‰æ­£ç¡®é¡ºåºè°ƒç”¨ï¼ˆæ¨¡å—æ‰«æ â†’ å†…å®¹æå– â†’ å¤§çº²ç”Ÿæˆ â†’ å†…å®¹ç”Ÿæˆ â†’ ç´¢å¼•ç”Ÿæˆï¼‰\n- âœ… Skill è¾“å‡ºæ­£ç¡®ä¼ é€’åˆ°ä¸‹ä¸€æ­¥\n- âœ… é”™è¯¯å¤„ç†è¦†ç›–æ‰€æœ‰ skill è°ƒç”¨å¤±è´¥æƒ…å†µ\n- âœ… Skill è°ƒç”¨ä¸ç°æœ‰æ¨¡æ¿ç³»ç»Ÿå…¼å®¹\n\n### æ€§èƒ½ç›®æ ‡\n- å°å‹é¡¹ç›®ï¼ˆ< 100 æ–‡ä»¶ï¼‰ï¼š< 15 ç§’\n- ä¸­å‹é¡¹ç›®ï¼ˆ100-500 æ–‡ä»¶ï¼‰ï¼š< 30 ç§’\n- å¤§å‹é¡¹ç›®ï¼ˆ> 500 æ–‡ä»¶ï¼‰ï¼š< 90 ç§’\n\n## æ³¨æ„äº‹é¡¹\n\n1. **ä»£ç ä¼˜å…ˆåŸåˆ™**ï¼šæœ¬é¡¹ç›®ä¸“æ³¨äºå‘½ä»¤å®ç°ï¼Œä¸ä¸ºè‡ªèº«ç”Ÿæˆæ–‡æ¡£ï¼ˆé™¤éç”¨æˆ·æ˜ç¡®è¦æ±‚ï¼‰\n2. **ä¸­æ–‡ä¼˜å…ˆ**ï¼šæ‰€æœ‰ç”¨æˆ·äº¤äº’ä½¿ç”¨ç®€ä½“ä¸­æ–‡\n3. **å®Œå…¨è¦†ç›–**ï¼šæ¯æ¬¡é‡æ–°ç”Ÿæˆæ•´ä¸ªæ–‡æ¡£ï¼Œä¸ä¿ç•™æ‰‹åŠ¨ä¿®æ”¹\n4. **é…ç½®é©±åŠ¨**ï¼šæ‰€æœ‰è¡Œä¸ºç”±é…ç½®æ–‡ä»¶æ§åˆ¶\n5. **æŠ€æœ¯æ ˆæ˜¾å¼æ£€æµ‹**ï¼šåŸºäºæ˜ç¡®çš„è§„åˆ™æ£€æµ‹æŠ€æœ¯æ ˆï¼Œä¸ä¾èµ– AI æ¨æµ‹\n6. **Skill åä½œ**ï¼šé€šè¿‡ handoffs æœºåˆ¶å®ç° doc-generator skills é—´çš„åä½œ\n7. **å¯è§†åŒ–ä¼˜å…ˆ**ï¼šä¼˜å…ˆä½¿ç”¨ Mermaid å›¾è¡¨å±•ç¤ºå¤æ‚æµç¨‹å’Œæ¶æ„\n\n## ç¤ºä¾‹ä½¿ç”¨\n\n```bash\n# é»˜è®¤ï¼šå¢é‡æ›´æ–°ï¼ˆæ™ºèƒ½æ£€æµ‹å˜æ›´ï¼‰\n/wiki-generate\n\n# å®Œæ•´é‡æ–°ç”Ÿæˆæ‰€æœ‰æ–‡æ¡£\n/wiki-generate --full\n\n# æ˜¾å¼å¢é‡æ›´æ–°\n/wiki-generate --incremental\n\n# éªŒè¯é…ç½®åç”Ÿæˆ\nwiki-generator --validate && /wiki-generate\n\n# æŸ¥çœ‹ç”Ÿæˆçš„æ–‡æ¡£\nls docs/zh/content/\n```\n\n---\n\n## å¢é‡æ›´æ–°æµç¨‹\n\n### å¢é‡æ›´æ–°å®Œæ•´æµç¨‹\n\nå½“ä½¿ç”¨å¢é‡æ¨¡å¼æ—¶ï¼ˆé»˜è®¤æˆ– `--incremental`ï¼‰ï¼Œæ‰§è¡Œä»¥ä¸‹æµç¨‹ï¼š\n\n```bash\n#!/usr/bin/env bash\n# å¢é‡æ›´æ–°ä¸»æµç¨‹\n\n# 1. åŠ è½½å…ƒæ•°æ®è¿½è¸ªåº“\nsource plugins/libs/metadata_tracker.sh\n\n# 2. åˆå§‹åŒ–å…ƒæ•°æ®\ninit_metadata\n\n# 3. è·å–å½“å‰ Git commit\nCURRENT_COMMIT=$(git rev-parse HEAD)\nLAST_COMMIT=$(get_last_commit)\n\n# 4. å˜æ›´æ£€æµ‹\nif [ \"$DETECT_CHANGES\" = \"true\" ] && [ \"$UPDATE_MODE_ARG\" != \"full\" ]; then\n    echo \"ğŸ” æ£€æµ‹ä»£ç å˜æ›´...\"\n\n    # è°ƒç”¨ change_detection skill\n    changes_json=$(python3 - <<PYTHON_EOF\nimport json\nimport subprocess\n\n# è¿™é‡Œè°ƒç”¨ doc-generator.change_detection skill\n# è¿”å› JSON: {changed_files, affected_documents, ...}\nchanges = {\n    \"base_commit\": \"$LAST_COMMIT\",\n    \"current_commit\": \"$CURRENT_COMMIT\",\n    \"changed_files\": [\"src/models/user.py\", \"src/api/users.py\"],\n    \"affected_documents\": [\"datamodel\", \"api\"],\n    \"is_initial\": False\n}\n\nprint(json.dumps(changes, indent=2))\nPYTHON_EOF\n)\n\n    # è§£æå˜æ›´æ£€æµ‹ç»“æœ\n    AFFECTED_DOCS=$(echo \"$changes_json\" | jq -r '.affected_documents[]')\n    CHANGED_FILES=$(echo \"$changes_json\" | jq -r '.changed_files[]')\n    IS_INITIAL=$(echo \"$changes_json\" | jq -r '.is_initial')\n\n    if [ \"$IS_INITIAL\" = \"true\" ]; then\n        echo \"ğŸ“ é¦–æ¬¡ç”Ÿæˆï¼Œæ‰§è¡Œå®Œæ•´ç”Ÿæˆæµç¨‹\"\n        UPDATE_MODE_ARG=\"full\"\n    elif [ -z \"$AFFECTED_DOCS\" ] || [ \"$AFFECTED_DOCS\" = \"null\" ]; then\n        echo \"âœ… æ— ä»£ç å˜æ›´ï¼Œæ— éœ€æ›´æ–°æ–‡æ¡£\"\n        exit 0\n    else\n        echo \"ğŸ“ æ£€æµ‹åˆ°å˜æ›´ï¼Œå½±å“æ–‡æ¡£: $AFFECTED_DOCS\"\n    fi\nfi\n\n# 5. æ™ºèƒ½ç”Ÿæˆä¸åˆå¹¶\nif [ \"$UPDATE_MODE_ARG\" != \"full\" ] && [ -n \"$AFFECTED_DOCS\" ]; then\n    echo \"ğŸš€ å¼€å§‹å¢é‡æ›´æ–°...\"\n\n    # å¯¹æ¯ä¸ªå—å½±å“çš„æ–‡æ¡£\n    for doc_name in $AFFECTED_DOCS; do\n        echo \"ğŸ“„ å¤„ç†æ–‡æ¡£: $doc_name\"\n\n        # æ£€æŸ¥æ˜¯å¦éœ€è¦æ›´æ–°\n        update_status=$(needs_update \"$doc_name\")\n\n        if [[ \"$update_status\" == UPDATE_NEEDED* ]] || [ \"$update_status\" = \"NEW_DOCUMENT\" ]; then\n            echo \"  âœ‹ éœ€è¦æ›´æ–°: $update_status\"\n\n            # ç”Ÿæˆæ–°å†…å®¹ï¼ˆè°ƒç”¨ content_generation skillï¼‰\n            new_content=$(generate_document_content \"$doc_name\")\n\n            # æ£€æŸ¥ç°æœ‰æ–‡æ¡£æ˜¯å¦å­˜åœ¨\n            existing_doc=\"$OUTPUT_DIR/${doc_name}.md\"\n\n            if [ -f \"$existing_doc\" ] && [ \"$PRESERVE_MANUAL_EDITS\" = \"true\" ]; then\n                # æ™ºèƒ½åˆå¹¶\n                echo \"  ğŸ”„ æ™ºèƒ½åˆå¹¶...\"\n                merged_content=$(smart_merge \"$existing_doc\" \"$new_content\")\n                echo \"$merged_content\" > \"$existing_doc\"\n                echo \"  âœ… åˆå¹¶å®Œæˆ\"\n            else\n                # ç›´æ¥åˆ›å»ºæ–°æ–‡æ¡£\n                echo \"  ğŸ“ åˆ›å»ºæ–°æ–‡æ¡£...\"\n                echo \"$new_content\" > \"$existing_doc\"\n                echo \"  âœ… åˆ›å»ºå®Œæˆ\"\n            fi\n\n            # è®°å½•æ–‡æ¡£å…ƒæ•°æ®\n            source_files=$(get_document_sources \"$doc_name\")\n            record_document \"$doc_name\" \"$source_files\" \"$CURRENT_COMMIT\"\n\n        elif [ \"$update_status\" = \"NO_UPDATE\" ]; then\n            echo \"  â­ï¸  è·³è¿‡ï¼ˆæ— å˜æ›´ï¼‰\"\n        else\n            echo \"  âš ï¸  æœªçŸ¥çŠ¶æ€: $update_status\"\n        fi\n    done\n\n    # 6. æ›´æ–°ç´¢å¼•ï¼ˆå¢é‡æ¨¡å¼ï¼‰\n    echo \"ğŸ“‹ æ›´æ–°ç´¢å¼•...\"\n    # è°ƒç”¨ index_generation skillï¼ˆå¢é‡æ¨¡å¼ï¼‰\n    # åªæ›´æ–°å—å½±å“çš„æ–‡æ¡£ç´¢å¼•\n\n    # 7. æ›´æ–°å…¨å±€å…ƒæ•°æ®\n    update_global_metadata \"$CURRENT_COMMIT\"\n\n    echo \"âœ… å¢é‡æ›´æ–°å®Œæˆï¼\"\nelse\n    # å®Œæ•´ç”Ÿæˆæµç¨‹\n    echo \"ğŸ”„ æ‰§è¡Œå®Œæ•´ç”Ÿæˆ...\"\nfi\n```\n\n### å¢é‡æ›´æ–°è¯¦ç»†æ­¥éª¤\n\n#### æ­¥éª¤ 1: åŠ è½½å…ƒæ•°æ®\n\n```bash\n# åŠ è½½å…ƒæ•°æ®è¿½è¸ªåº“\nsource plugins/libs/metadata_tracker.sh\n\n# åˆå§‹åŒ–å…ƒæ•°æ®ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰\ninit_metadata\n\n# æŸ¥çœ‹ç°æœ‰æ–‡æ¡£\nlist_documents\n```\n\n#### æ­¥éª¤ 2: å˜æ›´æ£€æµ‹\n\nè°ƒç”¨ **doc-generator.change_detection** skillï¼š\n\n```python\n# å˜æ›´æ£€æµ‹ä¼ªä»£ç \ndef detect_changes(last_commit, current_commit):\n    # 1. Git diff åˆ†æ\n    changed_files = git_diff(last_commit, current_commit)\n\n    # 2. è¿‡æ»¤æºæ–‡ä»¶\n    source_files = filter_source_files(changed_files)\n\n    # 3. è®¡ç®—å“ˆå¸Œå€¼\n    file_hashes = calculate_batch_hashes(source_files)\n\n    # 4. æ˜ å°„åˆ°æ–‡æ¡£\n    affected_docs = map_to_documents(source_files)\n\n    return {\n        \"changed_files\": source_files,\n        \"affected_documents\": affected_docs,\n        \"file_hashes\": file_hashes\n    }\n```\n\n#### æ­¥éª¤ 3: æ™ºèƒ½ç”Ÿæˆ\n\nå¯¹æ¯ä¸ªå—å½±å“çš„æ–‡æ¡£ï¼š\n\n1. **æ£€æŸ¥æ›´æ–°éœ€æ±‚**ï¼šä½¿ç”¨ `needs_update` å‡½æ•°\n2. **ç”Ÿæˆæ–°å†…å®¹**ï¼šè°ƒç”¨ content_generation skill\n3. **æ™ºèƒ½åˆå¹¶**ï¼š\n   - å¦‚æœæ–‡æ¡£å­˜åœ¨ä¸”å¯ç”¨æ‰‹åŠ¨ç¼–è¾‘ä¿æŠ¤ï¼šè°ƒç”¨ smart_merge\n   - å¦åˆ™ç›´æ¥è¦†ç›–\n\n#### æ­¥éª¤ 4: è®°å½•å…ƒæ•°æ®\n\n```bash\n# è®°å½•æ¯ä¸ªç”Ÿæˆçš„æ–‡æ¡£\nsource_files='[\"README.md\", \"src/models/user.py\"]'\nrecord_document \"datamodel\" \"$source_files\" \"$CURRENT_COMMIT\"\n```\n\n#### æ­¥éª¤ 5: æ›´æ–°å…¨å±€å…ƒæ•°æ®\n\n```bash\n# æ›´æ–°å…¨å±€ç”Ÿæˆä¿¡æ¯\nupdate_global_metadata \"$CURRENT_COMMIT\"\n```\n\n### å¢é‡æ›´æ–°è¾“å‡ºç¤ºä¾‹\n\n```\nğŸš€ æ¨¡å¼: å¢é‡æ›´æ–°ï¼ˆé»˜è®¤ï¼‰\nğŸ” æ£€æµ‹ä»£ç å˜æ›´...\nğŸ“ æ£€æµ‹åˆ°å˜æ›´ï¼Œå½±å“æ–‡æ¡£: datamodel api\n\nğŸ“„ å¤„ç†æ–‡æ¡£: datamodel\n  âœ‹ éœ€è¦æ›´æ–°: UPDATE_NEEDED (src/models/user.py)\n  ğŸ”„ æ™ºèƒ½åˆå¹¶...\nğŸ“Š åˆå¹¶æŠ¥å‘Š:\n  - æ€»åŒºåŸŸæ•°: 5\n  - ä¿ç•™åŒºåŸŸ: 1 (metadata)\n  - æ›´æ–°åŒºåŸŸ: 4\n  âœ… åˆå¹¶å®Œæˆ\n\nğŸ“„ å¤„ç†æ–‡æ¡£: api\n  âœ‹ éœ€è¦æ›´æ–°: UPDATE_NEEDED (src/api/users.py)\n  ğŸ“ åˆ›å»ºæ–°æ–‡æ¡£...\n  âœ… åˆ›å»ºå®Œæˆ\n\nğŸ“‹ æ›´æ–°ç´¢å¼•...\nâœ… å¢é‡æ›´æ–°å®Œæˆï¼\nâ±ï¸  è€—æ—¶: 8.2 ç§’ï¼ˆæ¯”å®Œæ•´ç”Ÿæˆå¿« 67%ï¼‰\n```\n\n### é…ç½®ç¤ºä¾‹\n\n#### å¯ç”¨å¢é‡æ›´æ–°ï¼ˆé»˜è®¤ï¼‰\n\n```json\n{\n  \"update_mode\": {\n    \"strategy\": \"incremental\",\n    \"detect_changes\": true,\n    \"preserve_manual_edits\": true,\n    \"merge_conflicts\": \"skip\"\n  }\n}\n```\n\n#### ç¦ç”¨å¢é‡æ›´æ–°ï¼ˆå®Œå…¨é‡æ–°ç”Ÿæˆï¼‰\n\n```json\n{\n  \"update_mode\": {\n    \"strategy\": \"full\"\n  }\n}\n```\n\næˆ–ä½¿ç”¨å‘½ä»¤è¡Œå‚æ•°ï¼š\n```bash\n/wiki-generate --full\n```\n\n## æŠ€æœ¯æ ˆæ£€æµ‹è§„åˆ™å®Œæ•´åˆ—è¡¨\n\n| æ£€æµ‹è§„åˆ™ | è§¦å‘æ¡ä»¶ | ç”Ÿæˆæ–‡æ¡£ |\n|---------|---------|---------|\n| SQLAlchemy | `from sqlalchemy` æˆ– `import sqlalchemy` | æ•°æ®æ¨¡å‹/æ•°æ®æ¨¡å‹.md |\n| Django ORM | `from django.db` | æ•°æ®æ¨¡å‹/æ•°æ®æ¨¡å‹.md |\n| FastAPI | `from fastapi` æˆ– `import fastapi` | APIæ–‡æ¡£/APIæ¥å£.md |\n| Flask | `from flask` | APIæ–‡æ¡£/APIæ¥å£.md |\n| Django REST | `from rest_framework` | APIæ–‡æ¡£/APIæ¥å£.md |\n| Celery | `from celery` æˆ– `import celery` | ä»»åŠ¡é˜Ÿåˆ—/ä»»åŠ¡é˜Ÿåˆ—.md |\n| RQ | `import rq` | ä»»åŠ¡é˜Ÿåˆ—/ä»»åŠ¡é˜Ÿåˆ—.md |\n| pytest | `import pytest` | æµ‹è¯•ç­–ç•¥.md |\n| unittest | `import unittest` | æµ‹è¯•ç­–ç•¥.md |\n| Dockerfile | æ–‡ä»¶å­˜åœ¨ | éƒ¨ç½²æŒ‡å—.md |\n| docker-compose.yml | æ–‡ä»¶å­˜åœ¨ | éƒ¨ç½²æŒ‡å—.md |\n\n---\n\n**æœ€åæ›´æ–°**: 2026-01-07\n**é¡¹ç›®å®ªç« **: éµå¾ªæ‰€æœ‰ 8 æ¡æ ¸å¿ƒåŸåˆ™\n",
        "plugins/skills/doc-generator/change_detection.md": "# å˜æ›´æ£€æµ‹ Skill\n\n**åŠŸèƒ½**: æ£€æµ‹ä»£ç å˜æ›´å¹¶æ˜ å°„åˆ°å—å½±å“çš„æ–‡æ¡£\n\n**ç‰ˆæœ¬**: 3.1.0\n\n---\n\n## æ¦‚è¿°\n\nå˜æ›´æ£€æµ‹ skill é€šè¿‡ä»¥ä¸‹ä¸‰ç§æ–¹å¼æ£€æµ‹ä»£ç å˜æ›´ï¼š\n1. **Git diff åˆ†æ** - æ£€æµ‹è‡ªä¸Šæ¬¡ç”Ÿæˆä»¥æ¥å˜æ›´çš„æ–‡ä»¶\n2. **å“ˆå¸Œå€¼æ¯”è¾ƒ** - è¯†åˆ«å®è´¨æ€§å†…å®¹å˜åŒ–ï¼ˆæ’é™¤ç©ºæ ¼ã€æ³¨é‡Šï¼‰\n3. **æ¨¡å—ä¾èµ–åˆ†æ** - å»ºç«‹æ–‡æ¡£ä¸æºæ–‡ä»¶çš„æ˜ å°„å…³ç³»\n\n---\n\n## æ ¸å¿ƒå‡½æ•°\n\n### detect_changes()\n\n**åŠŸèƒ½**: æ£€æµ‹ä»£ç å˜æ›´å¹¶è¿”å›å—å½±å“çš„æ–‡æ¡£åˆ—è¡¨\n\n**ç”¨æ³•**:\n```bash\ndetect_changes <project_dir> [base_commit]\n```\n\n**å‚æ•°**:\n- `project_dir`: é¡¹ç›®æ ¹ç›®å½•\n- `base_commit`: å¯é€‰ï¼ŒåŸºå‡† commitï¼ˆé»˜è®¤ï¼šä¸Šæ¬¡ç”Ÿæˆçš„ commitï¼‰\n\n**è¾“å‡º**: JSON æ ¼å¼çš„å˜æ›´ä¿¡æ¯\n\n```bash\n#!/usr/bin/env bash\n# å˜æ›´æ£€æµ‹ä¸»å‡½æ•°\n# ç”¨æ³•: detect_changes <project_dir> [base_commit]\n\ndetect_changes() {\n    local project_dir=$1\n    local base_commit=$2\n\n    # 1. è·å–ä¸Šæ¬¡ç”Ÿæˆçš„ commitï¼ˆå¦‚æœæœªæä¾›ï¼‰\n    if [ -z \"$base_commit\" ]; then\n        base_commit=$(get_last_commit)\n        if [ -z \"$base_commit\" ]; then\n            # é¦–æ¬¡ç”Ÿæˆï¼Œä½¿ç”¨å½“å‰ commit çš„çˆ¶æäº¤\n            base_commit=$(git -C \"$project_dir\" rev-parse HEAD^ 2>/dev/null || echo \"\")\n        fi\n    fi\n\n    local current_commit=$(git -C \"$project_dir\" rev-parse HEAD)\n\n    # å¦‚æœæ²¡æœ‰åŸºå‡† commitï¼Œè§†ä¸ºé¦–æ¬¡ç”Ÿæˆ\n    if [ -z \"$base_commit\" ]; then\n        cat <<EOF\n{\n  \"base_commit\": \"\",\n  \"current_commit\": \"$current_commit\",\n  \"is_initial\": true,\n  \"changed_files\": [],\n  \"affected_documents\": \"all\",\n  \"deleted_files\": []\n}\nEOF\n        return 0\n    fi\n\n    # 2. Git diff åˆ†æ\n    local changed_files=$(git -C \"$project_dir\" diff --name-only \"$base_commit\" \"$current_commit\" 2>/dev/null)\n\n    # 3. è¿‡æ»¤æºä»£ç æ–‡ä»¶\n    local source_files=$(filter_source_files \"$changed_files\")\n\n    # 4. è®¡ç®—å“ˆå¸Œå€¼\n    local hashes_json=$(calculate_batch_hashes_json \"$source_files\")\n\n    # 5. æ˜ å°„åˆ°å—å½±å“çš„æ–‡æ¡£\n    local affected_docs=$(map_to_documents \"$source_files\" \"$project_dir\")\n\n    # 6. è¾“å‡º JSON ç»“æœ\n    cat <<EOF\n{\n  \"base_commit\": \"$base_commit\",\n  \"current_commit\": \"$current_commit\",\n  \"is_initial\": false,\n  \"changed_files\": $(echo \"$source_files\" | jq -R -s -c 'split(\"\\n\")[:-1]'),\n  \"file_hashes\": $hashes_json,\n  \"affected_documents\": $affected_docs,\n  \"deleted_files\": []\n}\nEOF\n}\n```\n\n---\n\n## è¾…åŠ©å‡½æ•°\n\n### filter_source_files()\n\n**åŠŸèƒ½**: è¿‡æ»¤åªåŒ…å«æºä»£ç æ–‡ä»¶ï¼ˆæ’é™¤æµ‹è¯•ã€mocks ç­‰ï¼‰\n\n```bash\n#!/usr/bin/env bash\n# è¿‡æ»¤æºä»£ç æ–‡ä»¶\n# ç”¨æ³•: filter_source_files <file_list>\n# æ³¨æ„: WIKI_CONFIG ç¯å¢ƒå˜é‡ç”±è°ƒç”¨æ–¹è®¾ç½®ï¼ˆé€šè¿‡ config_resolver.shï¼‰\n\nfilter_source_files() {\n    local file_list=$1\n\n    # ä»é…ç½®è¯»å–æ’é™¤æ¨¡å¼\n    # WIKI_CONFIG ç¯å¢ƒå˜é‡ç”± config_resolver.sh ç®¡ç†\n    # é…ç½®æ–‡ä»¶ä½ç½®: {output_dir}/wiki-config.json\n    local exclude_patterns=$(python3 - <<PYTHON_EOF\nimport json\nfrom pathlib import Path\n\nconfig_path = Path(\"$WIKI_CONFIG\")\nif config_path.exists():\n    with open(config_path, 'r', encoding='utf-8') as f:\n        config = json.load(f)\n        patterns = config.get('change_detection', {}).get('exclude_patterns', [])\n        print('|'.join(patterns))\nelse:\n    print('tests/**|*.test.*|mocks/**')\nPYTHON_EOF\n)\n\n    # è¿‡æ»¤æ–‡ä»¶\n    echo \"$file_list\" | grep -E '\\.(py|js|ts|tsx|jsx|go|java|rs|rb|php|cs|swift|kt)$' | \\\n        grep -v -E '(test_|_test\\.|\\.test\\.)' | \\\n        grep -v -E \"$exclude_patterns\" || true\n}\n```\n\n### calculate_batch_hashes_json()\n\n**åŠŸèƒ½**: æ‰¹é‡è®¡ç®—æ–‡ä»¶å“ˆå¸Œå€¼\n\n```bash\n#!/usr/bin/env bash\n# æ‰¹é‡è®¡ç®—æ–‡ä»¶å“ˆå¸Œ\n# ç”¨æ³•: calculate_batch_hashes_json <file_list>\n\ncalculate_batch_hashes_json() {\n    local file_list=$1\n\n    # è½¬æ¢ä¸º JSON æ•°ç»„\n    local files_json=$(echo \"$file_list\" | jq -R -s -c 'split(\"\\n\")[:-1]')\n\n    # ä½¿ç”¨å†…è” Python è®¡ç®—å“ˆå¸Œ\n    python3 <<PYTHON_EOF\nimport json\nimport hashlib\nfrom pathlib import Path\n\nfiles = json.loads('''$files_json''')\nhashes = {}\n\nfor file_path in files:\n    if Path(file_path).exists():\n        try:\n            with open(file_path, 'r', encoding='utf-8') as f:\n                # æå–å®è´¨æ€§å†…å®¹ï¼ˆæ’é™¤ç©ºè¡Œå’Œæ³¨é‡Šï¼‰\n                lines = [l.strip() for l in f\n                        if l.strip() and not l.strip().startswith('#')]\n                content = '\\n'.join(lines)\n                hashes[file_path] = hashlib.sha256(content.encode()).hexdigest()\n        except Exception as e:\n            hashes[file_path] = None\n    else:\n        hashes[file_path] = None\n\nprint(json.dumps(hashes, indent=2))\nPYTHON_EOF\n}\n```\n\n### map_to_documents()\n\n**åŠŸèƒ½**: å°†å˜æ›´æ–‡ä»¶æ˜ å°„åˆ°å—å½±å“çš„æ–‡æ¡£\n\n```bash\n#!/usr/bin/env bash\n# æ˜ å°„æ–‡ä»¶åˆ°æ–‡æ¡£\n# ç”¨æ³•: map_to_documents <file_list> <project_dir>\n\nmap_to_documents() {\n    local file_list=$1\n    local project_dir=$2\n\n    # ä½¿ç”¨å†…è” Python æ‰§è¡Œæ˜ å°„\n    python3 <<PYTHON_EOF\nimport json\nfrom pathlib import Path\nimport re\n\nfiles_str = \"\"\"$file_list\"\"\"\nchanged_files = [f for f in files_str.split('\\n') if f.strip()]\n\n# æ–‡æ¡£åˆ°æºæ–‡ä»¶çš„æ˜ å°„è§„åˆ™\ndocument_mappings = {\n    'quickstart': ['README.md', 'README.txt', 'README', 'package.json', 'pyproject.toml', 'setup.py', 'pom.xml', 'build.gradle'],\n    'overview': ['README.md', 'CONTRIBUTING.md', 'docs/*.md'],\n    'techstack': ['package.json', 'requirements.txt', 'pyproject.toml', 'go.mod', 'Cargo.toml', 'pom.xml', 'Gemfile'],\n    'architecture': ['src/**/*.py', 'src/**/*.js', 'src/**/*.ts', 'app/**/*.py', 'lib/**/*.py'],\n    'datamodel': ['**/models/**/*.py', '**/model/**/*.py', '**/entities/**/*.py', '**/schemas/**/*.py'],\n    'api': ['**/api/**/*.py', '**/routes/**/*.py', '**/controllers/**/*.py', '**/handlers/**/*.py'],\n    'corefeatures': ['src/**/*.py', 'app/**/*.py', 'lib/**/*.py'],\n    'deployment': ['Dockerfile', 'docker-compose.yml', 'k8s/**/*.yaml', '*.deploy.yml', 'deployment/*.yml'],\n    'testing': ['tests/**/*.py', 'test/**/*.py', '**/*_test.py', '**/test_*.py'],\n    'security': ['**/auth/**/*.py', '**/security/**/*.py', '**/middleware/**/*.py']\n}\n\n# æ‰¾å‡ºå—å½±å“çš„æ–‡æ¡£\naffected_docs = set()\n\nfor file_path in changed_files:\n    file_name = Path(file_path).name\n    file_dir = Path(file_path).parent.as_posix()\n\n    for doc_name, patterns in document_mappings.items():\n        for pattern in patterns:\n            # ç®€å•æ¨¡å¼åŒ¹é…\n            if pattern in file_path:\n                affected_docs.add(doc_name)\n                break\n            # é€šé…ç¬¦åŒ¹é…\n            elif '**' in pattern or '*' in pattern:\n                # å°† glob æ¨¡å¼è½¬æ¢ä¸ºæ­£åˆ™è¡¨è¾¾å¼\n                regex_pattern = pattern.replace('**', '.*').replace('*', '[^/]*')\n                if re.search(regex_pattern, file_path) or re.search(regex_pattern, file_dir):\n                    affected_docs.add(doc_name)\n                    break\n\nif affected_docs:\n    print(json.dumps(sorted(affected_docs), indent=2))\nelse:\n    print('[]')\nPYTHON_EOF\n}\n```\n\n---\n\n## ä½¿ç”¨ç¤ºä¾‹\n\n### ç¤ºä¾‹ 1: æ£€æµ‹è‡ªä¸Šæ¬¡ç”Ÿæˆä»¥æ¥çš„å˜æ›´\n\n```bash\n# åŠ è½½å…ƒæ•°æ®è¿½è¸ªåº“\nsource plugins/libs/metadata_tracker.sh\n\n# æ£€æµ‹å˜æ›´\nchanges=$(detect_changes \".\")\n\n# è§£æç»“æœ\nbase_commit=$(echo \"$changes\" | jq -r '.base_commit')\naffected_docs=$(echo \"$changes\" | jq -r '.affected_documents')\n\necho \"åŸºå‡† commit: $base_commit\"\necho \"å—å½±å“çš„æ–‡æ¡£: $affected_docs\"\n```\n\n### ç¤ºä¾‹ 2: ä¸ç°æœ‰æ–‡æ¡£å¯¹æ¯”\n\n```bash\n# æ£€æµ‹å˜æ›´\nchanges=$(detect_changes \".\")\n\n# éå†å—å½±å“çš„æ–‡æ¡£\nfor doc in $(echo \"$changes\" | jq -r '.affected_documents[]'); do\n    # æ£€æŸ¥æ–‡æ¡£æ˜¯å¦éœ€è¦æ›´æ–°\n    update_status=$(needs_update \"$doc\")\n\n    if [[ \"$update_status\" == UPDATE_NEEDED* ]]; then\n        echo \"ğŸ“ æ–‡æ¡£ '$doc' éœ€è¦æ›´æ–°: $update_status\"\n    fi\ndone\n```\n\n### ç¤ºä¾‹ 3: æ£€æµ‹ç‰¹å®šæ–‡ä»¶å˜æ›´\n\n```bash\n# æ£€æµ‹ç‰¹å®šæ–‡ä»¶çš„å˜æ›´\nchanges=$(detect_changes \".\" \"abc123\")\n\n# è·å–å˜æ›´æ–‡ä»¶åˆ—è¡¨\nchanged_files=$(echo \"$changes\" | jq -r '.changed_files[]')\n\nfor file in $changed_files; do\n    echo \"ğŸ“„ å˜æ›´æ–‡ä»¶: $file\"\ndone\n```\n\n---\n\n## è¾“å‡ºæ ¼å¼\n\n### é¦–æ¬¡ç”Ÿæˆ\n\n```json\n{\n  \"base_commit\": \"\",\n  \"current_commit\": \"abc123...\",\n  \"is_initial\": true,\n  \"changed_files\": [],\n  \"affected_documents\": \"all\",\n  \"deleted_files\": []\n}\n```\n\n### å¢é‡æ›´æ–°\n\n```json\n{\n  \"base_commit\": \"abc123...\",\n  \"current_commit\": \"def456...\",\n  \"is_initial\": false,\n  \"changed_files\": [\n    \"src/models/user.py\",\n    \"src/services/user_service.py\",\n    \"api/routes/users.py\"\n  ],\n  \"file_hashes\": {\n    \"src/models/user.py\": \"sha256...\",\n    \"src/services/user_service.py\": \"sha256...\",\n    \"api/routes/users.py\": \"sha256...\"\n  },\n  \"affected_documents\": [\n    \"datamodel\",\n    \"api\",\n    \"corefeatures\"\n  ],\n  \"deleted_files\": []\n}\n```\n\n---\n\n## é…ç½®é€‰é¡¹\n\n### wiki-config.json\n\n```json\n{\n  \"change_detection\": {\n    \"method\": \"both\",  // \"git\" | \"hash\" | \"both\"\n    \"base_commit\": \"\",  // ç•™ç©ºè‡ªåŠ¨æ£€æµ‹\n    \"exclude_patterns\": [\n      \"tests/**\",\n      \"*.test.*\",\n      \"mocks/**\",\n      \"**/*.spec.ts\",\n      \"**/*.test.js\"\n    ]\n  }\n}\n```\n\n---\n\n## æ•…éšœæ’é™¤\n\n### é—®é¢˜ 1: Git ä»“åº“æœªåˆå§‹åŒ–\n\n**é”™è¯¯**: `fatal: not a git repository`\n\n**è§£å†³æ–¹æ¡ˆ**:\n```bash\n# åœ¨é¡¹ç›®ç›®å½•ä¸­åˆå§‹åŒ– Git ä»“åº“\ngit init\ngit add -A\ngit commit -m \"Initial commit\"\n```\n\n### é—®é¢˜ 2: æ—  commit å†å²\n\n**é”™è¯¯**: `fatal: bad revision 'HEAD^'`\n\n**è§£å†³æ–¹æ¡ˆ**: æ£€æµ‹é¦–æ¬¡ç”Ÿæˆï¼Œè¿”å›æ‰€æœ‰æ–‡æ¡£ï¼š\n```bash\nif ! git rev-parse HEAD^ >/dev/null 2>&1; then\n    echo '{\"is_initial\": true, \"affected_documents\": \"all\"}'\nfi\n```\n\n### é—®é¢˜ 3: å…ƒæ•°æ®æ–‡ä»¶æŸå\n\n**è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨å¤‡ä»½æ¢å¤\n```bash\n# æ¢å¤æœ€è¿‘çš„å¤‡ä»½\nrestore_metadata \"docs/.wiki-metadata/metadata.json.backup/metadata_*.json\"\n```\n\n---\n\n## æ€§èƒ½ä¼˜åŒ–\n\n### æ‰¹é‡å“ˆå¸Œè®¡ç®—\n\nä½¿ç”¨å¹¶è¡Œè®¡ç®—åŠ é€Ÿå“ˆå¸Œè®¡ç®—ï¼ˆå¦‚æœæ–‡ä»¶æ•°é‡å¤§ï¼‰:\n\n```bash\n# å®‰è£… parallelï¼ˆå¦‚æœæœªå®‰è£…ï¼‰\n# sudo apt-get install parallel\n\n# å¹¶è¡Œè®¡ç®—å“ˆå¸Œ\ncalculate_parallel_hashes() {\n    local files=$1\n\n    echo \"$files\" | parallel -j 4 'calculate_file_hash {}' | \\\n        paste -sd,\n}\n```\n\n### ç¼“å­˜æœºåˆ¶\n\nå¯¹äºæœªå˜æ›´çš„æ–‡ä»¶ï¼Œä½¿ç”¨ç¼“å­˜çš„å“ˆå¸Œå€¼ï¼š\n\n```bash\n# åœ¨å…ƒæ•°æ®ä¸­å­˜å‚¨å“ˆå¸Œç¼“å­˜\n# åªå¯¹å®é™…å˜æ›´çš„æ–‡ä»¶é‡æ–°è®¡ç®—å“ˆå¸Œ\n```\n\n---\n\n## é›†æˆç‚¹\n\n### è°ƒç”¨æ–¹: wiki-generate å‘½ä»¤\n\n```markdown\n### å¢é‡æ›´æ–°æ¨¡å¼\n\n1. **åŠ è½½å…ƒæ•°æ®**\n   ```bash\n   source plugins/libs/metadata_tracker.sh\n   init_metadata\n   ```\n\n2. **å˜æ›´æ£€æµ‹**\n   ```bash\n   changes=$(detect_changes \"$PROJECT_DIR\")\n   affected_docs=$(echo \"$changes\" | jq -r '.affected_documents')\n   ```\n\n3. **é€‰æ‹©æ€§ç”Ÿæˆ**\n   ```bash\n   for doc in $affected_docs; do\n       if needs_update \"$doc\" | grep -q \"UPDATE_NEEDED\"; then\n           # ç”Ÿæˆæ–°å†…å®¹\n           new_content=$(generate_document \"$doc\")\n\n           # æ™ºèƒ½åˆå¹¶\n           if [ -f \"$OUTPUT_DIR/$doc.md\" ]; then\n               merged=$(smart_merge \"$OUTPUT_DIR/$doc.md\" \"$new_content\")\n               echo \"$merged\" > \"$OUTPUT_DIR/$doc.md\"\n           else\n               echo \"$new_content\" > \"$OUTPUT_DIR/$doc.md\"\n           fi\n       fi\n   done\n   ```\n\n4. **æ›´æ–°å…ƒæ•°æ®**\n   ```bash\n   current_commit=$(git rev-parse HEAD)\n   update_global_metadata \"$current_commit\"\n   ```\n```\n\n---\n\n**ç‰ˆæœ¬**: 3.1.0\n**æœ€åæ›´æ–°**: 2026-01-07\n",
        "plugins/skills/doc-generator/content_extraction.md": "# ä¿¡æ¯æå– Skill\n\n**åŠŸèƒ½**: ä» READMEã€é…ç½®æ–‡ä»¶ã€ä»£ç æ³¨é‡Šè‡ªåŠ¨æå–é¡¹ç›®ä¿¡æ¯\n\n**æå–ç­–ç•¥**: åˆ†å±‚é™çº§ï¼ˆREADME â†’ é…ç½®æ–‡ä»¶ â†’ Docstring â†’ é€šç”¨æ¨¡æ¿ï¼‰\n\n**æ€§èƒ½ç›®æ ‡**: ä¿¡æ¯æå–æ—¶é—´ < 10 ç§’\n\n---\n\n## æ ¸å¿ƒæå–å‡½æ•°\n\n### extract_project_info()\n\n```bash\n#!/usr/bin/env bash\n# é¡¹ç›®ä¿¡æ¯æå–ä¸»å‡½æ•°\n# ç”¨æ³•: extract_project_info <project_dir>\n# è¾“å‡º: JSON æ ¼å¼çš„é¡¹ç›®ä¿¡æ¯\n\nextract_project_info() {\n    local project_dir=$1\n\n    # 1. README.md æå–\n    local readme_info=$(extract_from_readme \"$project_dir\")\n\n    # 2. é…ç½®æ–‡ä»¶æå–\n    local config_info=$(extract_from_config \"$project_dir\")\n\n    # 3. ä»£ç  Docstring æå–\n    local docstring_info=$(extract_from_docstrings \"$project_dir\")\n\n    # 4. ä»£ç æ³¨é‡Šæå–\n    local comment_info=$(extract_from_comments \"$project_dir\")\n\n    # 5. åˆ†å±‚é™çº§åˆå¹¶ï¼ˆREADME ä¼˜å…ˆçº§æœ€é«˜ï¼‰\n    local merged_info=$(merge_project_info \"$readme_info\" \"$config_info\" \"$docstring_info\" \"$comment_info\")\n\n    echo \"$merged_info\"\n}\n```\n\n---\n\n## 1. README.md æå–\n\n```bash\nextract_from_readme() {\n    local project_dir=$1\n    local readme_file=\"$project_dir/README.md\"\n\n    if [ ! -f \"$readme_file\" ]; then\n        # å°è¯•å…¶ä»–å¸¸è§ README æ–‡ä»¶å\n        for alt_name in \"README\" \"readme.md\" \"README.txt\"; do\n            if [ -f \"$project_dir/$alt_name\" ]; then\n                readme_file=\"$project_dir/$alt_name\"\n                break\n            fi\n        done\n    fi\n\n    if [ ! -f \"$readme_file\" ]; then\n        echo \"{}\"\n        return\n    fi\n\n    echo \"ğŸ“– æå– README.md ä¿¡æ¯...\" >&2\n\n    # ä½¿ç”¨å†…è” Python ç‰‡æ®µè§£æ Markdown\n    python3 - <<PYTHON_EOF\nimport re\nimport json\n\nreadme_path = \"$readme_file\"\n\ntry:\n    with open(readme_path, 'r', encoding='utf-8') as f:\n        content = f.read()\n\n    info = {}\n\n    # æå–é¡¹ç›®åç§°ï¼ˆç¬¬ä¸€ä¸ª # æ ‡é¢˜ï¼‰\n    title_match = re.search(r'^#\\s+(.+)$', content, re.MULTILINE)\n    if title_match:\n        info['name'] = title_match.group(1).strip()\n\n    # æå–é¡¹ç›®æè¿°ï¼ˆæ ‡é¢˜åçš„ç¬¬ä¸€æ®µï¼‰\n    desc_match = re.search(r'^#\\s+.+?\\n\\n(.+?)(?:\\n\\n|$)', content, re.DOTALL)\n    if desc_match:\n        info['description'] = desc_match.group(1).strip()\n\n    # æå–æ ¸å¿ƒåŠŸèƒ½åˆ—è¡¨ï¼ˆç¬¬ä¸€ä¸ªæ— åºåˆ—è¡¨ï¼‰\n    features = []\n    in_feature_list = False\n    for line in content.split('\\n'):\n        stripped = line.strip()\n        if stripped.startswith('-') or stripped.startswith('*'):\n            feature_text = stripped[1:].strip()\n            if feature_text and not feature_text.startswith('#'):\n                features.append(feature_text)\n                in_feature_list = True\n        elif in_feature_list and not stripped:\n            break\n\n    if features:\n        info['features'] = features[:10]  # æœ€å¤š 10 ä¸ªç‰¹æ€§\n\n    # æå–å®‰è£…å‘½ä»¤ï¼ˆæŸ¥æ‰¾ \\`\\`\\`bash æˆ– \\`\\`\\`shell ä»£ç å—ï¼‰\n    install_match = re.search(r'```\\w*\\n(.+?)```', content, re.DOTALL)\n    if install_match:\n        install_commands = [line.strip() for line in install_match.group(1).split('\\n')\n                           if line.strip() and not line.strip().startswith('#')]\n        if install_commands:\n            info['install_commands'] = install_commands[:5]\n\n    print(json.dumps(info, ensure_ascii=False, indent=2))\n\nexcept Exception as e:\n    print(json.dumps({}, ensure_ascii=False))\nPYTHON_EOF\n}\n```\n\n---\n\n## 2. é…ç½®æ–‡ä»¶æå–\n\n```bash\nextract_from_config() {\n    local project_dir=$1\n    local info=\"{}\"\n\n    # 1. pyproject.toml\n    if [ -f \"$project_dir/pyproject.toml\" ]; then\n        info=$(merge_json \"$info\" \"$(extract_from_pyproject \"$project_dir\")\")\n    fi\n\n    # 2. package.json\n    if [ -f \"$project_dir/package.json\" ]; then\n        info=$(merge_json \"$info\" \"$(extract_from_package_json \"$project_dir\")\")\n    fi\n\n    # 3. setup.py\n    if [ -f \"$project_dir/setup.py\" ]; then\n        info=$(merge_json \"$info\" \"$(extract_from_setup_py \"$project_dir\")\")\n    fi\n\n    echo \"$info\"\n}\n\n# pyproject.toml æå–\nextract_from_pyproject() {\n    local project_dir=$1\n\n    python3 - <<PYTHON_EOF\nimport json\nimport sys\n\ntry:\n    import tomli  # Python 3.11+ å†…ç½®\nexcept ImportError:\n    try:\n        import tomllib as tomli\n    except ImportError:\n        print(json.dumps({}, ensure_ascii=False))\n        sys.exit(0)\n\ntoml_path = \"$project_dir/pyproject.toml\"\n\ntry:\n    with open(toml_path, 'rb') as f:\n        data = tomli.load(f)\n\n    project = data.get('project', {})\n    info = {}\n\n    if 'name' in project:\n        info['name'] = project['name']\n    if 'version' in project:\n        info['version'] = project['version']\n    if 'description' in project:\n        info['description'] = project['description']\n    if 'dependencies' in project:\n        info['dependencies'] = project['dependencies']\n\n    print(json.dumps(info, ensure_ascii=False, indent=2))\n\nexcept Exception as e:\n    print(json.dumps({}, ensure_ascii=False))\nPYTHON_EOF\n}\n\n# package.json æå–\nextract_from_package_json() {\n    local project_dir=$1\n\n    if command -v jq &> /dev/null; then\n        jq '{name, version, description, dependencies: .dependencies // .peerDependencies // {}}' \\\n           \"$project_dir/package.json\" 2>/dev/null || echo \"{}\"\n    else\n        # é™çº§ï¼šä½¿ç”¨ grep\n        echo \"{}\"\n    fi\n}\n\n# setup.py æå–\nextract_from_setup_py() {\n    local project_dir=$1\n\n    python3 - <<PYTHON_EOF\nimport re\nimport json\nimport ast\n\nsetup_path = \"$project_dir/setup.py\"\n\ntry:\n    with open(setup_path, 'r', encoding='utf-8') as f:\n        content = f.read()\n\n    info = {}\n\n    # æå– name å’Œ descriptionï¼ˆä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼‰\n    name_match = re.search(r'name\\s*=\\s*[\"\\'](.+?)[\"\\']', content)\n    if name_match:\n        info['name'] = name_match.group(1)\n\n    desc_match = re.search(r'description\\s*=\\s*[\"\\'](.+?)[\"\\']', content)\n    if desc_match:\n        info['description'] = desc_match.group(1)\n\n    print(json.dumps(info, ensure_ascii=False, indent=2))\n\nexcept Exception as e:\n    print(json.dumps({}, ensure_ascii=False))\nPYTHON_EOF\n}\n```\n\n---\n\n## 3. ä»£ç  Docstring æå–\n\n```bash\nextract_from_docstrings() {\n    local project_dir=$1\n    local src_dir=\"$project_dir/src\"\n\n    if [ ! -d \"$src_dir\" ]; then\n        if [ -d \"$project_dir/app\" ]; then\n            src_dir=\"$project_dir/app\"\n        else\n            src_dir=\"$project_dir\"\n        fi\n    fi\n\n    echo \"ğŸ“ æå–ä»£ç  Docstring...\" >&2\n\n    # ä½¿ç”¨ Python æå–ä¸»æ¨¡å—çš„ Docstring\n    python3 - <<PYTHON_EOF\nimport re\nimport json\nimport os\nfrom pathlib import Path\n\nsrc_dir = \"$src_dir\"\n\ninfo = {}\n\n# æ‰«æä¸» __init__.py æˆ–ä¸»è¦æ¨¡å—\ninit_files = list(Path(src_dir).rglob(\"__init__.py\"))\n\nif not init_files:\n    print(json.dumps({}, ensure_ascii=False))\nelse\n\n    # å–ç¬¬ä¸€ä¸ª __init__.pyï¼ˆé€šå¸¸æ˜¯ä¸»æ¨¡å—ï¼‰\n    main_init = init_files[0]\n\n    try:\n        with open(main_init, 'r', encoding='utf-8') as f:\n            content = f.read()\n\n        # æå–æ¨¡å— Docstringï¼ˆæ–‡ä»¶å¼€å¤´çš„ä¸‰å¼•å·å­—ç¬¦ä¸²ï¼‰\n        docstring_match = re.search(r'^\"\"\"(.*?)\"\"\"', content, re.DOTALL)\n        if docstring_match:\n            docstring = docstring_match.group(1).strip()\n            info['module_docstring'] = docstring[:500]  # é™åˆ¶é•¿åº¦\n\n        # æå–ç±»å’Œå‡½æ•°çš„ Docstring\n        class_docs = []\n        func_docs = []\n\n        # ç±» Docstring\n        for class_match in re.finditer(r'class\\s+(\\w+).*?:\\s*\\n\\s+\"\"\"(.*?)\"\"\"', content, re.DOTALL):\n            class_name = class_match.group(1)\n            class_desc = class_match.group(2).strip()\n            class_docs.append(f\"{class_name}: {class_desc}\")\n\n        # å‡½æ•° Docstring\n        for func_match in re.finditer(r'def\\s+(\\w+).*?:\\s*\\n\\s+\"\"\"(.*?)\"\"\"', content, re.DOTALL):\n            func_name = func_match.group(1)\n            func_desc = func_match.group(2).strip()\n            func_docs.append(f\"{func_name}: {func_desc}\")\n\n        if class_docs:\n            info['class_docstrings'] = class_docs[:10]\n        if func_docs:\n            info['function_docstrings'] = func_docs[:20]\n\n        print(json.dumps(info, ensure_ascii=False, indent=2))\n\n    except Exception as e:\n        print(json.dumps({}, ensure_ascii=False))\nPYTHON_EOF\n}\n```\n\n---\n\n## 4. ä»£ç æ³¨é‡Šæå–\n\n```bash\nextract_from_comments() {\n    local project_dir=$1\n    local src_dir=\"$project_dir/src\"\n\n    if [ ! -d \"$src_dir\" ]; then\n        src_dir=\"$project_dir\"\n    fi\n\n    echo \"ğŸ’¬ æå–ä»£ç æ³¨é‡Š...\" >&2\n\n    # ä½¿ç”¨ Python æå–å…³é”®é€»è¾‘çš„è¡Œå†…æ³¨é‡Š\n    python3 - <<PYTHON_EOF\nimport re\nimport json\nfrom pathlib import Path\n\nsrc_dir = \"$src_dir\"\n\ninfo = {}\n\n# æ‰«ææ‰€æœ‰ Python æ–‡ä»¶ï¼ˆæ’é™¤æµ‹è¯•ï¼‰\npy_files = []\nfor py_file in Path(src_dir).rglob(\"*.py\"):\n    if \"test\" not in str(py_file):\n        py_files.append(py_file)\n\n# é™åˆ¶æ–‡ä»¶æ•°é‡ï¼ˆé¿å…æ€§èƒ½é—®é¢˜ï¼‰\nmax_files = 50\ncomments = []\n\nfor py_file in py_files[:max_files]:\n    try:\n        with open(py_file, 'r', encoding='utf-8') as f:\n            lines = f.readlines()\n\n        for i, line in enumerate(lines, 1):\n            stripped = line.strip()\n            # æå–è¡Œå†…æ³¨é‡Šï¼ˆ# å¼€å¤´ï¼‰\n            if stripped.startswith(\"#\") and len(stripped) > 2:\n                comment_text = stripped[1:].strip()\n                # è¿‡æ»¤ç®€å•çš„æ³¨é‡Š\n                if len(comment_text) > 10 and not comment_text.startswith(\"TODO\"):\n                    comments.append(f\"{py_file.name}:{i}: {comment_text}\")\n\n    except Exception:\n        continue\n\nif comments:\n    info['comments'] = comments[:100]  # æœ€å¤š 100 æ¡æ³¨é‡Š\n\nprint(json.dumps(info, ensure_ascii=False, indent=2))\nPYTHON_EOF\n}\n```\n\n---\n\n## 5. åˆ†å±‚é™çº§åˆå¹¶\n\n```bash\n# åˆå¹¶å¤šä¸ªä¿¡æ¯æºï¼ˆREADME ä¼˜å…ˆçº§æœ€é«˜ï¼‰\nmerge_project_info() {\n    local readme_info=$1\n    local config_info=$2\n    local docstring_info=$3\n    local comment_info=$4\n\n    # ä½¿ç”¨ jq åˆå¹¶ JSONï¼ˆä¼˜å…ˆçº§ï¼šREADME > é…ç½® > Docstring > æ³¨é‡Šï¼‰\n    if command -v jq &> /dev/null; then\n        jq -s '\n            reduce .[] as $item ({}; . * $item) |\n            .readme_extracted = ($readme_info != {}) |\n            .config_extracted = ($config_info != {}) |\n            .docstring_extracted = ($docstring_info != {}) |\n            .comments_extracted = ($comment_info != {})\n        ' \\\n        --argjson readme_info \"$readme_info\" \\\n        --argjson config_info \"$config_info\" \\\n        --argjson docstring_info \"$docstring_info\" \\\n        --argjson comment_info \"$comment_info\" \\\n        <<< \"{}\"\n    else\n        # é™çº§ï¼šç®€å•åˆå¹¶ï¼ˆåªä¿ç•™ README å’Œé…ç½®ï¼‰\n        merge_json \"$readme_info\" \"$config_info\"\n    fi\n}\n\n# ç®€å•çš„ JSON åˆå¹¶å‡½æ•°\nmerge_json() {\n    local json1=$1\n    local json2=$2\n\n    if [ -z \"$json1\" ] || [ \"$json1\" = \"{}\" ]; then\n        echo \"$json2\"\n    elif [ -z \"$json2\" ] || [ \"$json2\" = \"{}\" ]; then\n        echo \"$json1\"\n    else\n        # åˆå¹¶ä¸¤ä¸ª JSONï¼ˆç¬¬äºŒä¸ªè¦†ç›–ç¬¬ä¸€ä¸ªï¼‰\n        echo \"{$json1, $json2}\" | sed 's/}{/, /g' | sed 's/{ //g' | sed 's/ }//g'\n    fi\n}\n```\n\n---\n\n## ä½¿ç”¨ç¤ºä¾‹\n\n```bash\n# æå–é¡¹ç›®ä¿¡æ¯\nproject_dir=\"/path/to/project\"\ninfo=$(extract_project_info \"$project_dir\")\n\necho \"é¡¹ç›®ä¿¡æ¯:\"\necho \"$info\" | jq '.'\n```\n\n**è¾“å‡ºç¤ºä¾‹**ï¼š\n\n```json\n{\n  \"name\": \"My Awesome Project\",\n  \"description\": \"ä¸€ä¸ªç”¨äºè‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£çš„å·¥å…·\",\n  \"version\": \"1.0.0\",\n  \"features\": [\n    \"è‡ªåŠ¨æ£€æµ‹æŠ€æœ¯æ ˆ\",\n    \"æ™ºèƒ½è¯†åˆ«ä¸šåŠ¡æ¨¡å—\",\n    \"è‡ªé€‚åº”æ–‡æ¡£ç”Ÿæˆ\"\n  ],\n  \"install_commands\": [\n    \"pip install my-awesome-project\"\n  ],\n  \"dependencies\": [\n    \"fastapi>=0.100.0\",\n    \"sqlalchemy>=2.0.0\"\n  ],\n  \"readme_extracted\": true,\n  \"config_extracted\": true,\n  \"docstring_extracted\": true,\n  \"comments_extracted\": false\n}\n```\n\n---\n\n## é™çº§ç­–ç•¥\n\n**ä¼˜å…ˆçº§é¡ºåº**ï¼š\n\n1. **README.md** â†’ åŒ…å«é¡¹ç›®åç§°ã€æè¿°ã€åŠŸèƒ½åˆ—è¡¨ã€å®‰è£…å‘½ä»¤\n2. **é…ç½®æ–‡ä»¶** â†’ åŒ…å«ç‰ˆæœ¬ã€ä¾èµ–ã€å…ƒæ•°æ®\n3. **ä»£ç  Docstring** â†’ åŒ…å«æ¨¡å—è¯´æ˜ã€ç±»å’Œå‡½æ•°æ–‡æ¡£\n4. **ä»£ç æ³¨é‡Š** â†’ åŒ…å«å…³é”®é€»è¾‘è¯´æ˜\n5. **é€šç”¨æ¨¡æ¿** â†’ ä½¿ç”¨å ä½ç¬¦ï¼ˆ`{{PROJECT_NAME}}`ã€`{{DESCRIPTION}}` ç­‰ï¼‰\n\n**é™çº§é€»è¾‘**ï¼š\n\n```bash\n# å¦‚æœ README ä¸å­˜åœ¨ï¼Œä½¿ç”¨é…ç½®æ–‡ä»¶ä¿¡æ¯\nif [ ! -f \"$project_dir/README.md\" ]; then\n    echo \"âš ï¸ æœªæ‰¾åˆ° README.mdï¼Œä½¿ç”¨é…ç½®æ–‡ä»¶ä¿¡æ¯\" >&2\nfi\n\n# å¦‚æœé…ç½®æ–‡ä»¶ä¹Ÿä¸å­˜åœ¨ï¼Œä½¿ç”¨ Docstring\nif [ ! -f \"$project_dir/pyproject.toml\" ] && [ ! -f \"$project_dir/package.json\" ]; then\n    echo \"âš ï¸ æœªæ‰¾åˆ°é…ç½®æ–‡ä»¶ï¼Œä½¿ç”¨ä»£ç  Docstring\" >&2\nfi\n\n# å¦‚æœéƒ½æ²¡æœ‰ï¼Œä½¿ç”¨é€šç”¨æ¨¡æ¿\nif [ -z \"$project_name\" ]; then\n    project_name=\"{{PROJECT_NAME}}\"\n    description=\"{{DESCRIPTION}}\"\nfi\n```\n\n---\n\n## 6. API ç­¾åæå–\n\n### extract_api_signatures()\n\n```bash\n#!/usr/bin/env bash\n# API ç­¾åæå–ä¸»å‡½æ•°\n# ç”¨æ³•: extract_api_signatures <project_dir>\n# è¾“å‡º: JSON æ ¼å¼çš„ API ç«¯ç‚¹ä¿¡æ¯\n# æ”¯æŒ: FastAPI, Flask, Django REST Framework\n\nextract_api_signatures() {\n    local project_dir=$1\n\n    echo \"ğŸ”Œ æå– API ç­¾å...\" >&2\n\n    # 1. FastAPI æå–\n    local fastapi_apis=$(extract_fastapi_apis \"$project_dir\")\n\n    # 2. Flask æå–\n    local flask_apis=$(extract_flask_apis \"$project_dir\")\n\n    # 3. Django REST æå–\n    local django_apis=$(extract_django_apis \"$project_dir\")\n\n    # åˆå¹¶æ‰€æœ‰ API ç­¾å\n    if command -v jq &> /dev/null; then\n        jq -s '{fastapi: .[0], flask: .[1], django: .[2] | add}' \\\n            <<< \"$fastapi_apis $flask_apis $django_apis\"\n    else\n        echo \"{\\\"fastapi\\\": $fastapi_apis, \\\"flask\\\": $flask_apis, \\\"django\\\": $django_apis}\"\n    fi\n}\n\n# FastAPI ç«¯ç‚¹æå–\nextract_fastapi_apis() {\n    local project_dir=$1\n\n    python3 - <<PYTHON_EOF\nimport re\nimport json\nimport ast\nfrom pathlib import Path\n\nproject_dir = Path(\"$project_dir\")\napis = []\n\n# æ‰«ææ‰€æœ‰ Python æ–‡ä»¶\nfor py_file in project_dir.rglob(\"*.py\"):\n    if \"test\" in str(py_file) or \"__pycache__\" in str(py_file):\n        continue\n\n    try:\n        with open(py_file, 'r', encoding='utf-8') as f:\n            content = f.read()\n\n        # è§£æ AST\n        tree = ast.parse(content)\n\n        for node in ast.walk(tree):\n            # æŸ¥æ‰¾å‡½æ•°å®šä¹‰\n            if isinstance(node, ast.FunctionDef):\n                # æ£€æŸ¥æ˜¯å¦ä¸º FastAPI è·¯ç”±è£…é¥°å™¨\n                for decorator in node.decorator_list:\n                    decorator_str = ast.unparse(decorator) if hasattr(ast, 'unparse') else str(decorator)\n\n                    # åŒ¹é… @app.get, @router.post ç­‰\n                    route_match = re.search(r'\\.(get|post|put|delete|patch)\\([\"\\']([^\"\\']+)[\"\\']', decorator_str)\n                    if route_match:\n                        method = route_match.group(1).upper()\n                        path = route_match.group(2)\n\n                        api_info = {\n                            \"method\": method,\n                            \"path\": path,\n                            \"function\": node.name,\n                            \"file\": str(py_file.relative_to(project_dir)),\n                            \"line\": node.lineno\n                        }\n\n                        # æå–å‚æ•°\n                        args = [arg.arg for arg in node.args.args]\n                        if args:\n                            api_info[\"parameters\"] = args\n\n                        # æå–è¿”å›ç±»å‹\n                        if node.returns:\n                            return_type = ast.unparse(node.returns) if hasattr(ast, 'unparse') else str(node.returns)\n                            api_info[\"return_type\"] = return_type\n\n                        apis.append(api_info)\n\n    except Exception:\n        continue\n\nprint(json.dumps(apis, ensure_ascii=False, indent=2))\nPYTHON_EOF\n}\n\n# Flask ç«¯ç‚¹æå–\nextract_flask_apis() {\n    local project_dir=$1\n\n    python3 - <<PYTHON_EOF\nimport re\nimport json\nimport ast\nfrom pathlib import Path\n\nproject_dir = Path(\"$project_dir\")\napis = []\n\nfor py_file in project_dir.rglob(\"*.py\"):\n    if \"test\" in str(py_file):\n        continue\n\n    try:\n        with open(py_file, 'r', encoding='utf-8') as f:\n            content = f.read()\n\n        tree = ast.parse(content)\n\n        for node in ast.walk(tree):\n            if isinstance(node, ast.FunctionDef):\n                for decorator in node.decorator_list:\n                    decorator_str = ast.unparse(decorator) if hasattr(ast, 'unparse') else str(decorator)\n\n                    # åŒ¹é… @app.route, @bp.route\n                    route_match = re.search(r'\\.route\\([\"\\']([^\"\\']+)[\"\\'].*?methods=\\[([^\\]]+)\\]', decorator_str)\n                    if route_match:\n                        path = route_match.group(1)\n                        methods_str = route_match.group(2)\n                        methods = re.findall(r'[\"\\']([A-Z]+)[\"\\']', methods_str)\n\n                        for method in methods:\n                            api_info = {\n                                \"method\": method,\n                                \"path\": path,\n                                \"function\": node.name,\n                                \"file\": str(py_file.relative_to(project_dir)),\n                                \"line\": node.lineno\n                            }\n                            apis.append(api_info)\n\n    except Exception:\n        continue\n\nprint(json.dumps(apis, ensure_ascii=False, indent=2))\nPYTHON_EOF\n}\n\n# Django REST ç«¯ç‚¹æå–\nextract_django_apis() {\n    local project_dir=$1\n\n    python3 - <<PYTHON_EOF\nimport re\nimport json\nfrom pathlib import Path\n\nproject_dir = Path(\"$project_dir\")\napis = []\n\n# æŸ¥æ‰¾ urls.py æ–‡ä»¶\nfor urls_file in project_dir.rglob(\"urls.py\"):\n    try:\n        with open(urls_file, 'r', encoding='utf-8') as f:\n            content = f.read()\n\n        # åŒ¹é… path() æˆ– url() æ¨¡å¼\n        # path('api/users/', views.UserList.as_view(), name='user-list')\n        pattern = r'(?:path|url)\\([\"\\']([^\"\\']+)[\"\\'].*?,\\s*(\\w+)\\.as_view\\(\\)'\n        matches = re.findall(pattern, content)\n\n        for path, view_class in matches:\n            api_info = {\n                \"method\": \"GET/POST\",  # è§†å›¾é›†é€šå¸¸æ”¯æŒå¤šä¸ªæ–¹æ³•\n                \"path\": path,\n                \"view_class\": view_class,\n                \"file\": str(urls_file.relative_to(project_dir))\n            }\n            apis.append(api_info)\n\n    except Exception:\n        continue\n\nprint(json.dumps(apis, ensure_ascii=False, indent=2))\nPYTHON_EOF\n}\n```\n\n**è¾“å‡ºç¤ºä¾‹**ï¼š\n\n```json\n{\n  \"fastapi\": [\n    {\n      \"method\": \"GET\",\n      \"path\": \"/api/users\",\n      \"function\": \"list_users\",\n      \"file\": \"src/api/users.py\",\n      \"line\": 15,\n      \"parameters\": [\"skip\", \"limit\"],\n      \"return_type\": \"List[User]\"\n    },\n    {\n      \"method\": \"POST\",\n      \"path\": \"/api/users\",\n      \"function\": \"create_user\",\n      \"file\": \"src/api/users.py\",\n      \"line\": 25,\n      \"parameters\": [\"user\"],\n      \"return_type\": \"User\"\n    }\n  ],\n  \"flask\": [],\n  \"django\": []\n}\n```\n\n---\n\n## 7. ç±»ç»§æ‰¿å…³ç³»æå–\n\n### extract_class_hierarchy()\n\n```bash\n#!/usr/bin/env bash\n# ç±»ç»§æ‰¿å…³ç³»æå–\n# ç”¨æ³•: extract_class_hierarchy <project_dir>\n# è¾“å‡º: Mermaid classDiagram æ ¼å¼\n\nextract_class_hierarchy() {\n    local project_dir=$1\n\n    echo \"ğŸ—ï¸ æå–ç±»ç»§æ‰¿å…³ç³»...\" >&2\n\n    python3 - <<PYTHON_EOF\nimport re\nimport ast\nfrom pathlib import Path\nfrom collections import defaultdict\n\nproject_dir = Path(\"$project_dir\")\n\n# æ”¶é›†ç±»ä¿¡æ¯\nclasses = {}\ninheritance = []\n\nfor py_file in project_dir.rglob(\"*.py\"):\n    if \"test\" in str(py_file) or \"__pycache__\" in str(py_file):\n        continue\n\n    try:\n        with open(py_file, 'r', encoding='utf-8') as f:\n            content = f.read()\n\n        tree = ast.parse(content)\n\n        for node in ast.walk(tree):\n            if isinstance(node, ast.ClassDef):\n                class_name = node.name\n\n                # æå–åŸºç±»\n                bases = []\n                for base in node.bases:\n                    if isinstance(base, ast.Name):\n                        bases.append(base.id)\n                    elif isinstance(base, ast.Attribute):\n                        bases.append(ast.unparse(base) if hasattr(ast, 'unparse') else str(base))\n\n                # æå–æ–¹æ³•\n                methods = []\n                for item in node.body:\n                    if isinstance(item, ast.FunctionDef):\n                        methods.append(item.name)\n\n                # æå–å±æ€§ï¼ˆç±»å˜é‡ï¼‰\n                attributes = []\n                for item in node.body:\n                    if isinstance(item, ast.Assign):\n                        for target in item.targets:\n                            if isinstance(target, ast.Name):\n                                attributes.append(target.id)\n\n                classes[class_name] = {\n                    \"file\": str(py_file.relative_to(project_dir)),\n                    \"methods\": methods,\n                    \"attributes\": attributes\n                }\n\n                # è®°å½•ç»§æ‰¿å…³ç³»\n                for base in bases:\n                    inheritance.append((class_name, base))\n\n    except Exception:\n        continue\n\n# ç”Ÿæˆ Mermaid classDiagram\nprint(\"```mermaid\")\nprint(\"classDiagram\")\n\n# è¾“å‡ºç±»å®šä¹‰\nfor class_name, info in classes.items():\n    methods_str = \"\\\\n    \".join(info[\"methods\"][:5])  # æœ€å¤šæ˜¾ç¤º 5 ä¸ªæ–¹æ³•\n    if methods_str:\n        print(f\"    class {class_name} {{\")\n        print(f\"        {methods_str}\")\n        print(\"    }\")\n    else:\n        print(f\"    class {class_name}\")\n\n# è¾“å‡ºç»§æ‰¿å…³ç³»\nfor child, parent in inheritance:\n    print(f\"    {child} --|> {parent}\")\n\nprint(\"```\")\nPYTHON_EOF\n}\n```\n\n**è¾“å‡ºç¤ºä¾‹**ï¼š\n\n```mermaid\nclassDiagram\n    class UserController {\n        get_user()\n        create_user()\n        update_user()\n        delete_user()\n    }\n    class BaseController {\n        handle_request()\n        validate_input()\n    }\n    class AdminController {\n        grant_permission()\n        revoke_permission()\n    }\n    UserController --|> BaseController\n    AdminController --|> BaseController\n```\n\n---\n\n## 8. é…ç½®æ–‡ä»¶è§£æ\n\n### extract_configurations()\n\n```bash\n#!/usr/bin/env bash\n# é…ç½®æ–‡ä»¶æå–\n# ç”¨æ³•: extract_configurations <project_dir>\n# è¾“å‡º: JSON æ ¼å¼çš„é…ç½®ä¿¡æ¯\n\nextract_configurations() {\n    local project_dir=$1\n\n    echo \"âš™ï¸ æå–é…ç½®ä¿¡æ¯...\" >&2\n\n    local configs=\"{}\"\n\n    # 1. .env æ–‡ä»¶\n    if [ -f \"$project_dir/.env\" ]; then\n        configs=$(merge_json \"$configs\" \"$(parse_env_file \"$project_dir/.env\")\")\n    fi\n\n    # 2. config.yaml / config.yml\n    for yaml_file in \"$project_dir\"/config.{yml,yaml}; do\n        if [ -f \"$yaml_file\" ]; then\n            configs=$(merge_json \"$configs\" \"$(parse_yaml_file \"$yaml_file\")\")\n            break\n        fi\n    done\n\n    # 3. settings.py (Django)\n    if [ -f \"$project_dir/settings.py\" ] || [ -f \"$project_dir/config/settings.py\" ]; then\n        configs=$(merge_json \"$configs\" \"$(parse_settings_py \"$project_dir\")\")\n    fi\n\n    echo \"$configs\"\n}\n\n# .env æ–‡ä»¶è§£æ\nparse_env_file() {\n    local env_file=$1\n\n    python3 - <<PYTHON_EOF\nimport re\nimport json\n\nenv_path = \"$env_file\"\n\ntry:\n    with open(env_path, 'r', encoding='utf-8') as f:\n        lines = f.readlines()\n\n    config = {}\n    for line in lines:\n        line = line.strip()\n        # è·³è¿‡æ³¨é‡Šå’Œç©ºè¡Œ\n        if not line or line.startswith('#'):\n            continue\n\n        # åŒ¹é… KEY=VALUE æˆ– KEY=\"VALUE\"\n        match = re.match(r'^([A-Z_][A-Z0-9_]*)=(.*)$', line)\n        if match:\n            key = match.group(1)\n            value = match.group(2).strip('\"\\'')  # å»é™¤å¼•å·\n            config[key] = value\n\n    print(json.dumps(config, ensure_ascii=False, indent=2))\n\nexcept Exception:\n    print(json.dumps({}, ensure_ascii=False))\nPYTHON_EOF\n}\n\n# YAML æ–‡ä»¶è§£æ\nparse_yaml_file() {\n    local yaml_file=$1\n\n    if command -v python3 &> /dev/null; then\n        python3 - <<PYTHON_EOF\nimport json\nimport sys\n\ntry:\n    import yaml\nexcept ImportError:\n    print(json.dumps({}, ensure_ascii=False))\n    sys.exit(0)\n\nyaml_path = \"$yaml_file\"\n\ntry:\n    with open(yaml_path, 'r', encoding='utf-8') as f:\n        data = yaml.safe_load(f)\n\n    print(json.dumps(data, ensure_ascii=False, indent=2))\n\nexcept Exception:\n    print(json.dumps({}, ensure_ascii=False))\nPYTHON_EOF\n    else\n        echo \"{}\"\n    fi\n}\n\n# Django settings.py è§£æ\nparse_settings_py() {\n    local project_dir=$1\n\n    local settings_file\n    if [ -f \"$project_dir/settings.py\" ]; then\n        settings_file=\"$project_dir/settings.py\"\n    elif [ -f \"$project_dir/config/settings.py\" ]; then\n        settings_file=\"$project_dir/config/settings.py\"\n    else\n        echo \"{}\"\n        return\n    fi\n\n    python3 - <<PYTHON_EOF\nimport re\nimport json\nimport ast\n\nsettings_path = \"$settings_file\"\n\ntry:\n    with open(settings_path, 'r', encoding='utf-8') as f:\n        content = f.read()\n\n    tree = ast.parse(content)\n\n    config = {}\n\n    # æå–å¤§å†™é…ç½®é¡¹\n    for node in ast.walk(tree):\n        if isinstance(node, ast.Assign):\n            for target in node.targets:\n                if isinstance(target, ast.Name):\n                    name = target.id\n                    # Django è®¾ç½®é€šå¸¸æ˜¯å¤§å†™çš„\n                    if name.isupper() and len(name) >= 4:\n                        try:\n                            value = ast.literal_eval(node.value)\n                            if isinstance(value, (str, int, bool, list, dict)):\n                                config[name] = value\n                        except Exception:\n                            # å¯¹äºæ— æ³•æ±‚å€¼çš„è¡¨è¾¾å¼ï¼Œå°è¯•å­—ç¬¦ä¸²å½¢å¼\n                            config[name] = ast.unparse(node.value) if hasattr(ast, 'unparse') else str(node.value)\n\n    print(json.dumps(config, ensure_ascii=False, indent=2))\n\nexcept Exception:\n    print(json.dumps({}, ensure_ascii=False))\nPYTHON_EOF\n}\n```\n\n**è¾“å‡ºç¤ºä¾‹**ï¼š\n\n```json\n{\n  \"database\": {\n    \"host\": \"localhost\",\n    \"port\": 5432,\n    \"name\": \"myapp\"\n  },\n  \"redis\": {\n    \"url\": \"redis://localhost:6379\"\n  },\n  \"debug\": true,\n  \"allowed_hosts\": [\"localhost\", \"127.0.0.1\"]\n}\n```\n\n---\n\n**ç‰ˆæœ¬**: 2.0.0\n**æœ€åæ›´æ–°**: 2026-01-05\n**å˜æ›´æ—¥å¿—**:\n- v2.0.0: æ·»åŠ  API ç­¾åæå–ã€ç±»ç»§æ‰¿å…³ç³»æå–ã€é…ç½®æ–‡ä»¶è§£æåŠŸèƒ½\n- v1.0.0: åˆå§‹ç‰ˆæœ¬ï¼Œæ”¯æŒ READMEã€é…ç½®æ–‡ä»¶ã€Docstringã€æ³¨é‡Šæå–\n",
        "plugins/skills/doc-generator/content_generation.md": "# æ–‡æ¡£å†…å®¹ç”Ÿæˆ Skill\n\n**åŠŸèƒ½**: ä½¿ç”¨æ¨¡æ¿å˜é‡å¡«å……è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£å†…å®¹\n\n**ç”Ÿæˆæ–¹æ³•**: ä»æ¨¡æ¿æ–‡ä»¶è¯»å–ï¼Œæ›¿æ¢å˜é‡ï¼ˆ`{PROJECT_NAME}`ã€`{FEATURE_1}` ç­‰ï¼‰\n\n**æ€§èƒ½ç›®æ ‡**: è‡ªåŠ¨å¡«å……ç‡ â‰¥ 70%\n\n**æ”¯æŒæ ¼å¼**:\n- ç»Ÿä¸€å˜é‡æ ¼å¼: `{variable_name}`\n- ä»£ç ç¤ºä¾‹: ` ```python title=\"file.py\" `\n- å…ƒæ•°æ®å¤´éƒ¨: åŒ…å«ç”Ÿæˆæ—¶é—´ã€ç‰ˆæœ¬ç­‰ä¿¡æ¯\n\n---\n\n## æ ¸å¿ƒç”Ÿæˆå‡½æ•°\n\n### generate_document_content()\n\n```bash\n#!/usr/bin/env bash\n# æ–‡æ¡£å†…å®¹ç”Ÿæˆä¸»å‡½æ•°\n# ç”¨æ³•: generate_document_content <template_file> <output_file> <project_info_json>\n# è¯´æ˜: è¯»å–æ¨¡æ¿æ–‡ä»¶ï¼Œæ›¿æ¢å˜é‡ï¼Œç”Ÿæˆæœ€ç»ˆæ–‡æ¡£\n\ngenerate_document_content() {\n    local template_file=$1\n    local output_file=$2\n    local project_info_json=$3\n\n    if [ ! -f \"$template_file\" ]; then\n        echo \"âŒ æ¨¡æ¿æ–‡ä»¶ä¸å­˜åœ¨: $template_file\" >&2\n        return 1\n    fi\n\n    echo \"ğŸ“ ç”Ÿæˆæ–‡æ¡£: $output_file\" >&2\n\n    # è¯»å–æ¨¡æ¿å†…å®¹\n    local template_content=$(cat \"$template_file\")\n\n    # æ›¿æ¢å˜é‡\n    local content=\"$template_content\"\n\n    # åŸºç¡€é¡¹ç›®ä¿¡æ¯\n    content=$(replace_var \"$content\" \"PROJECT_NAME\" \"$(echo \"$project_info_json\" | jq -r '.name // \"{{PROJECT_NAME}}\"')\")\n    content=$(replace_var \"$content\" \"DESCRIPTION\" \"$(echo \"$project_info_json\" | jq -r '.description // \"{{DESCRIPTION}}\"')\")\n    content=$(replace_var \"$content\" \"VERSION\" \"$(echo \"$project_info_json\" | jq -r '.version // \"{{VERSION}}\"')\")\n\n    # åŠŸèƒ½åˆ—è¡¨ï¼ˆæœ€å¤š 10 ä¸ªï¼‰\n    local features=($(echo \"$project_info_json\" | jq -r '.features[]? // empty' | head -10))\n    for i in {1..10}; do\n        local feature=\"${features[$((i-1))]}\"\n        if [ -n \"$feature\" ]; then\n            content=$(replace_var \"$content\" \"FEATURE_$i\" \"$feature\")\n        else\n            content=$(replace_var \"$content\" \"FEATURE_$i\" \"\")\n        fi\n    done\n\n    # æŠ€æœ¯æ ˆä¿¡æ¯\n    local tech_stack=\"${TECH_STACK[@]}\"\n    content=$(replace_var \"$content\" \"TECH_STACK\" \"${tech_stack[*]}\")\n\n    # å®‰è£…å‘½ä»¤\n    local install_commands=($(echo \"$project_info_json\" | jq -r '.install_commands[]? // empty' | head -5))\n    if [ ${#install_commands[@]} -gt 0 ]; then\n        content=$(replace_var \"$content\" \"INSTALL_COMMAND\" \"${install_commands[0]}\")\n    else\n        content=$(replace_var \"$content\" \"INSTALL_COMMAND\" \"pip install {{PROJECT_NAME}}\")\n    fi\n\n    # ä¾èµ–åˆ—è¡¨\n    local dependencies=($(echo \"$project_info_json\" | jq -r '.dependencies[]? // empty' | head -20))\n    local deps_text=\"\"\n    for dep in \"${dependencies[@]}\"; do\n        deps_text+=\"- $dep\\n\"\n    done\n    content=$(replace_var \"$content\" \"DEPENDENCIES\" \"$deps_text\")\n\n    # æ¨¡å— Docstring\n    local module_docstring=$(echo \"$project_info_json\" | jq -r '.module_docstring // \"\"')\n    content=$(replace_var \"$content\" \"MODULE_DOCSTRING\" \"$module_docstring\")\n\n    # å†™å…¥è¾“å‡ºæ–‡ä»¶\n    echo \"$content\" > \"$output_file\"\n\n    echo \"âœ… æ–‡æ¡£å·²ç”Ÿæˆ: $output_file\" >&2\n}\n```\n\n---\n\n## å˜é‡æ›¿æ¢å‡½æ•°\n\n```bash\n# æ›¿æ¢æ¨¡æ¿å˜é‡\nreplace_var() {\n    local content=$1\n    local var_name=$2\n    local var_value=$3\n\n    # è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦\n    local escaped_value=$(echo \"$var_value\" | sed 's/[[\\.*^$()+?{|]/\\\\&/g')\n\n    # æ›¿æ¢æ‰€æœ‰ {VAR_NAME} ä¸ºå®é™…å€¼\n    # æ”¯æŒæ–°æ ¼å¼: {variable_name}\n    # æ³¨æ„: ä¸å†æ”¯æŒæ—§çš„ {{VAR_NAME}} æ ¼å¼\n    echo \"$content\" | sed \"s/{{$var_name}}/$escaped_value/g\"\n}\n```\n\n---\n\n## åŸºç¡€æ–‡æ¡£æ¨¡æ¿\n\n### 1. å¿«é€Ÿå¼€å§‹æ¨¡æ¿\n\n```bash\n# åˆ›å»ºå¿«é€Ÿå¼€å§‹æ¨¡æ¿\ncreate_quickstart_template() {\n    cat > .claude/templates/base-docs/quickstart.md.template <<'EOF'\n# å¿«é€Ÿå¼€å§‹\n\næ¬¢è¿ä½¿ç”¨ {{PROJECT_NAME}}ï¼\n\n{{DESCRIPTION}}\n\n## å®‰è£…\n\n### å‰ç½®è¦æ±‚\n\n- Python 3.11+\n- pip æˆ– uv\n\n### å®‰è£…æ­¥éª¤\n\n```bash\n{{INSTALL_COMMAND}}\n```\n\n## å¿«é€Ÿä¸Šæ‰‹\n\n### åŸºæœ¬ç”¨æ³•\n\n```python\nimport {{PROJECT_NAME}}\n\n# ä½ çš„ç¬¬ä¸€ä¸ª {{PROJECT_NAME}} ç¤ºä¾‹\n```\n\n### æ ¸å¿ƒåŠŸèƒ½\n\n{{FEATURE_1}}\n\n{{FEATURE_2}}\n\n{{FEATURE_3}}\n\n## ä¸‹ä¸€æ­¥\n\n- æŸ¥çœ‹[é¡¹ç›®æ¦‚è¿°](./project-overview.md)äº†è§£æ›´å¤šä¿¡æ¯\n- é˜…è¯»[å¼€å‘æŒ‡å—](./development-guide.md)äº†è§£å¦‚ä½•å‚ä¸å¼€å‘\n- æ¢ç´¢[API æ–‡æ¡£](./api-reference.md)äº†è§£è¯¦ç»†æ¥å£\n\n## å¸¸è§é—®é¢˜\n\n### Q: å¦‚ä½•é…ç½® {{PROJECT_NAME}}ï¼Ÿ\n\nA: é…ç½®æ–‡ä»¶ä½äº `config/{{PROJECT_NAME}}.yaml`ï¼Œè¯¦è§é…ç½®è¯´æ˜ã€‚\n\n### Q: é‡åˆ°é—®é¢˜æ€ä¹ˆåŠï¼Ÿ\n\nA: è¯·æŸ¥çœ‹[æ•…éšœæ’é™¤æŒ‡å—](./troubleshooting.md)æˆ–æäº¤ Issueã€‚\nEOF\n}\n```\n\n---\n\n### 2. é¡¹ç›®æ¦‚è¿°æ¨¡æ¿\n\n```bash\ncreate_project_overview_template() {\n    cat > .claude/templates/base-docs/project-overview.md.template <<'EOF'\n# é¡¹ç›®æ¦‚è¿°\n\n{{PROJECT_NAME}} æ˜¯ä¸€ä¸ª {{DESCRIPTION}}ã€‚\n\n## æ ¸å¿ƒåŠŸèƒ½\n\n{{FEATURE_1}}\n\n{{FEATURE_2}}\n\n{{FEATURE_3}}\n\n{{FEATURE_4}}\n\n{{FEATURE_5}}\n\n## æŠ€æœ¯æ ˆ\n\n{{TECH_STACK}}\n\n## æ¶æ„\n\n```mermaid\ngraph TD\n    A[ç”¨æˆ·] --> B[API å±‚]\n    B --> C[æœåŠ¡å±‚]\n    C --> D[æ•°æ®å±‚]\n\n    style A fill:#e1f5ff\n    style B fill:#fff4e1\n    style C fill:#ffe1f5\n    style D fill:#e1ffe1\n```\n\n## é¡¹ç›®ç»“æ„\n\n```\n{{PROJECT_NAME}}/\nâ”œâ”€â”€ src/              # æºä»£ç \nâ”‚   â”œâ”€â”€ api/          # API è·¯ç”±\nâ”‚   â”œâ”€â”€ services/     # ä¸šåŠ¡é€»è¾‘\nâ”‚   â””â”€â”€ models/       # æ•°æ®æ¨¡å‹\nâ”œâ”€â”€ tests/            # æµ‹è¯•ä»£ç \nâ”œâ”€â”€ docs/             # æ–‡æ¡£\nâ””â”€â”€ config/           # é…ç½®æ–‡ä»¶\n```\n\n## è®¾è®¡ç†å¿µ\n\n- **ç®€æ´æ€§**: æœ€å°åŒ–é…ç½®ï¼Œå¼€ç®±å³ç”¨\n- **å¯æ‰©å±•æ€§**: æ¨¡å—åŒ–è®¾è®¡ï¼Œæ˜“äºæ‰©å±•\n- **æ€§èƒ½**: ä¼˜åŒ–å…³é”®è·¯å¾„ï¼Œæä¾›å“è¶Šæ€§èƒ½\n- **å®‰å…¨æ€§**: éµå¾ªå®‰å…¨æœ€ä½³å®è·µ\n\n## ä¾èµ–é¡¹\n\n{{DEPENDENCIES}}\n\n## è´¡çŒ®æŒ‡å—\n\næˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼è¯¦è§[å¼€å‘æŒ‡å—](./development-guide.md)ã€‚\n\n## è®¸å¯è¯\n\nMIT License\n\n## è”ç³»æ–¹å¼\n\n- é—®é¢˜åé¦ˆ: [GitHub Issues](https://github.com/yourusername/{{PROJECT_NAME}}/issues)\n- è®¨è®º: [GitHub Discussions](https://github.com/yourusername/{{PROJECT_NAME}}/discussions)\nEOF\n}\n```\n\n---\n\n### 3. å¼€å‘æŒ‡å—æ¨¡æ¿\n\n```bash\ncreate_development_guide_template() {\n    cat > .claude/templates/base-docs/development-guide.md.template <<'EOF'\n# å¼€å‘æŒ‡å—\n\næœ¬æŒ‡å—å¸®åŠ©ä½ å‚ä¸ {{PROJECT_NAME}} çš„å¼€å‘ã€‚\n\n## å¼€å‘ç¯å¢ƒè®¾ç½®\n\n### å…‹éš†ä»“åº“\n\n```bash\ngit clone https://github.com/yourusername/{{PROJECT_NAME}}.git\ncd {{PROJECT_NAME}}\n```\n\n### å®‰è£…å¼€å‘ä¾èµ–\n\n```bash\n# ä½¿ç”¨ uvï¼ˆæ¨èï¼‰\nuv pip install -e \".[dev]\"\n\n# æˆ–ä½¿ç”¨ pip\npip install -e \".[dev]\"\n```\n\n### è¿è¡Œæµ‹è¯•\n\n```bash\n# è¿è¡Œæ‰€æœ‰æµ‹è¯•\nuv run pytest\n\n# è¿è¡Œç‰¹å®šæµ‹è¯•\nuv run pytest tests/test_specific.py\n\n# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š\nuv run pytest --cov={{PROJECT_NAME}} --cov-report=html\n```\n\n## å¼€å‘å·¥ä½œæµ\n\n### åˆ†æ”¯ç­–ç•¥\n\n- `main`: ä¸»åˆ†æ”¯ï¼Œä¿æŒç¨³å®š\n- `develop`: å¼€å‘åˆ†æ”¯\n- `feature/*`: åŠŸèƒ½åˆ†æ”¯\n- `bugfix/*`: ä¿®å¤åˆ†æ”¯\n\n### æäº¤è§„èŒƒ\n\n```\nç±»å‹(èŒƒå›´): ç®€çŸ­æè¿°\n\nè¯¦ç»†æè¿°ï¼ˆå¯é€‰ï¼‰\n\nå…³è” Issueï¼ˆå¯é€‰ï¼‰\n```\n\n**ç±»å‹**: feat, fix, docs, style, refactor, test, chore\n\n**ç¤ºä¾‹**:\n\n```\nfeat(auth): æ·»åŠ  OAuth2 ç™»å½•æ”¯æŒ\n\n- å®ç° OAuth2 è®¤è¯æµç¨‹\n- æ·»åŠ ç”¨æˆ·æˆæƒç«¯ç‚¹\n- æ›´æ–°æ–‡æ¡£\n\nCloses #123\n```\n\n### ä»£ç å®¡æŸ¥\n\næ‰€æœ‰ä»£ç éœ€è¦é€šè¿‡ Pull Request å®¡æŸ¥ï¼š\n\n1. Fork ä»“åº“\n2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯\n3. æäº¤ä»£ç \n4. åˆ›å»º Pull Request\n5. ç­‰å¾…å®¡æŸ¥å’Œåˆå¹¶\n\n## ä»£ç è§„èŒƒ\n\n### Python ä»£ç è§„èŒƒ\n\n- éµå¾ª PEP 8\n- ä½¿ç”¨ç±»å‹æ³¨è§£ï¼ˆType Hintsï¼‰\n- ç¼–å†™ Docstringï¼ˆGoogle é£æ ¼ï¼‰\n- å•å…ƒæµ‹è¯•è¦†ç›–ç‡ â‰¥ 80%\n\n### ç¤ºä¾‹ä»£ç \n\n```python\n\"\"\"ç”¨æˆ·æœåŠ¡æ¨¡å—ã€‚\"\"\"\n\nfrom typing import List, Optional\n\nfrom sqlalchemy.orm import Session\n\nfrom {{PROJECT_NAME}}.models import User\nfrom {{PROJECT_NAME}}.schemas import UserCreate\n\n\nclass UserService:\n    \"\"\"ç”¨æˆ·æœåŠ¡ç±»ã€‚\"\"\"\n\n    def __init__(self, db: Session):\n        \"\"\"åˆå§‹åŒ–ç”¨æˆ·æœåŠ¡ã€‚\n\n        Args:\n            db: æ•°æ®åº“ä¼šè¯\n        \"\"\"\n        self.db = db\n\n    def create_user(self, user_data: UserCreate) -> User:\n        \"\"\"åˆ›å»ºæ–°ç”¨æˆ·ã€‚\n\n        Args:\n            user_data: ç”¨æˆ·åˆ›å»ºæ•°æ®\n\n        Returns:\n            åˆ›å»ºçš„ç”¨æˆ·å¯¹è±¡\n        \"\"\"\n        user = User(**user_data.dict())\n        self.db.add(user)\n        self.db.commit()\n        self.db.refresh(user)\n        return user\n\n    def get_user(self, user_id: int) -> Optional[User]:\n        \"\"\"è·å–ç”¨æˆ·ã€‚\n\n        Args:\n            user_id: ç”¨æˆ· ID\n\n        Returns:\n            ç”¨æˆ·å¯¹è±¡ï¼Œä¸å­˜åœ¨è¿”å› None\n        \"\"\"\n        return self.db.query(User).filter(User.id == user_id).first()\n```\n\n## è°ƒè¯•æŠ€å·§\n\n### ä½¿ç”¨ pdb è°ƒè¯•\n\n```python\nimport pdb; pdb.set_trace()\n```\n\n### æ—¥å¿—è°ƒè¯•\n\n```python\nimport logging\n\nlogging.basicConfig(level=logging.DEBUG)\nlogger = logging.getLogger(__name__)\n\nlogger.debug(\"è°ƒè¯•ä¿¡æ¯: %s\", variable)\n```\n\n## æ€§èƒ½åˆ†æ\n\n```bash\n# ä½¿ç”¨ cProfile åˆ†ææ€§èƒ½\npython -m cProfile -o profile.stats your_script.py\n\n# æŸ¥çœ‹åˆ†æç»“æœ\npython -m pstats profile.stats\n```\n\n## å‘å¸ƒæµç¨‹\n\n1. æ›´æ–°ç‰ˆæœ¬å·ï¼ˆ`pyproject.toml`ï¼‰\n2. æ›´æ–° CHANGELOG.md\n3. åˆ›å»º Git æ ‡ç­¾\n4. æ„å»ºå‘å¸ƒåŒ…\n5. ä¸Šä¼ åˆ° PyPI\n\n## èµ„æºé“¾æ¥\n\n- [API æ–‡æ¡£](./api-reference.md)\n- [æµ‹è¯•ç­–ç•¥](./testing-strategy.md)\n- [éƒ¨ç½²æŒ‡å—](./deployment-guide.md)\nEOF\n}\n```\n\n---\n\n### 4. éƒ¨ç½²æŒ‡å—æ¨¡æ¿\n\n```bash\ncreate_deployment_guide_template() {\n    cat > .claude/templates/base-docs/deployment-guide.md.template <<'EOF'\n# éƒ¨ç½²æŒ‡å—\n\næœ¬æŒ‡å—è¯´æ˜å¦‚ä½•éƒ¨ç½² {{PROJECT_NAME}} åˆ°ç”Ÿäº§ç¯å¢ƒã€‚\n\n## éƒ¨ç½²æ¶æ„\n\n```mermaid\ngraph LR\n    A[è´Ÿè½½å‡è¡¡] --> B[åº”ç”¨æœåŠ¡å™¨ 1]\n    A --> C[åº”ç”¨æœåŠ¡å™¨ 2]\n    B --> D[æ•°æ®åº“]\n    C --> D\n    B --> E[ç¼“å­˜]\n    C --> E\n```\n\n## ç¯å¢ƒè¦æ±‚\n\n- CPU: 2 æ ¸å¿ƒåŠä»¥ä¸Š\n- å†…å­˜: 4 GB åŠä»¥ä¸Š\n- ç£ç›˜: 20 GB åŠä»¥ä¸Š\n- æ“ä½œç³»ç»Ÿ: Linux (Ubuntu 20.04+ æ¨è)\n\n## Docker éƒ¨ç½²\n\n### ä½¿ç”¨ Docker Compose\n\n```bash\n# æ„å»ºé•œåƒ\ndocker-compose build\n\n# å¯åŠ¨æœåŠ¡\ndocker-compose up -d\n\n# æŸ¥çœ‹æ—¥å¿—\ndocker-compose logs -f\n```\n\n### ç¯å¢ƒå˜é‡é…ç½®\n\n```bash\n# .env æ–‡ä»¶ç¤ºä¾‹\nDATABASE_URL=postgresql://user:password@db:5432/{{PROJECT_NAME}}\nREDIS_URL=redis://redis:6379/0\nSECRET_KEY=your-secret-key-here\nDEBUG=False\nLOG_LEVEL=INFO\n```\n\n## ä¼ ç»Ÿéƒ¨ç½²\n\n### ä½¿ç”¨ Systemd\n\n```bash\n# åˆ›å»ºæœåŠ¡æ–‡ä»¶\nsudo cat > /etc/systemd/system/{{PROJECT_NAME}}.service <<'SERVICE'\n[Unit]\nDescription={{PROJECT_NAME}} Application\nAfter=network.target\n\n[Service]\nType=notify\nUser=www-data\nWorkingDirectory=/opt/{{PROJECT_NAME}}\nEnvironment=\"PATH=/opt/{{PROJECT_NAME}}/venv/bin\"\nExecStart=/opt/{{PROJECT_NAME}}/venv/bin/gunicorn -w 4 -b 0.0.0.0:8000 {{PROJECT_NAME}}.app:app\nRestart=always\n\n[Install]\nWantedBy=multi-user.target\nSERVICE\n\n# å¯åŠ¨æœåŠ¡\nsudo systemctl daemon-reload\nsudo systemctl enable {{PROJECT_NAME}}\nsudo systemctl start {{PROJECT_NAME}}\n```\n\n### ä½¿ç”¨ Nginx åå‘ä»£ç†\n\n```nginx\nserver {\n    listen 80;\n    server_name your-domain.com;\n\n    location / {\n        proxy_pass http://127.0.0.1:8000;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\n```\n\n## æ•°æ®åº“è¿ç§»\n\n```bash\n# è¿è¡Œè¿ç§»\nuv run alembic upgrade head\n\n# å›æ»šè¿ç§»\nuv run alembic downgrade -1\n```\n\n## å¥åº·æ£€æŸ¥\n\n```bash\n# æ£€æŸ¥åº”ç”¨çŠ¶æ€\ncurl http://localhost:8000/health\n\n# é¢„æœŸå“åº”\n{\n  \"status\": \"healthy\",\n  \"version\": \"{{VERSION}}\"\n}\n```\n\n## ç›‘æ§å’Œæ—¥å¿—\n\n### åº”ç”¨æ—¥å¿—\n\n- æ—¥å¿—ä½ç½®: `/var/log/{{PROJECT_NAME}}/`\n- æ—¥å¿—çº§åˆ«: INFOï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰\n\n### æ€§èƒ½ç›‘æ§\n\næ¨èå·¥å…·:\n- Prometheus + Grafana\n- Sentryï¼ˆé”™è¯¯è¿½è¸ªï¼‰\n\n## å¤‡ä»½ç­–ç•¥\n\n### æ•°æ®åº“å¤‡ä»½\n\n```bash\n# æ¯æ—¥è‡ªåŠ¨å¤‡ä»½\n0 2 * * * pg_dump -U user {{PROJECT_NAME}} > /backup/{{PROJECT_NAME}}_$(date +\\%Y\\%m\\%d).sql\n```\n\n### é…ç½®å¤‡ä»½\n\n```bash\n# å¤‡ä»½é…ç½®æ–‡ä»¶\ntar -czf config_backup_$(date +%Y%m%d).tar.gz /opt/{{PROJECT_NAME}}/config/\n```\n\n## æ›´æ–°å’Œå›æ»š\n\n### æ›´æ–°åº”ç”¨\n\n```bash\n# æ‹‰å–æœ€æ–°ä»£ç \ngit pull origin main\n\n# å®‰è£…ä¾èµ–\nuv pip install -e \".[prod]\"\n\n# è¿è¡Œè¿ç§»\nuv run alembic upgrade head\n\n# é‡å¯æœåŠ¡\nsudo systemctl restart {{PROJECT_NAME}}\n```\n\n### å›æ»šåº”ç”¨\n\n```bash\n# åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬\ngit checkout <previous-tag>\n\n# é‡å¯æœåŠ¡\nsudo systemctl restart {{PROJECT_NAME}}\n```\n\n## æ•…éšœæ’é™¤\n\nè¯¦è§[æ•…éšœæ’é™¤æŒ‡å—](./troubleshooting.md)ã€‚\nEOF\n}\n```\n\n---\n\n### 5. æµ‹è¯•ç­–ç•¥æ¨¡æ¿\n\n```bash\ncreate_testing_strategy_template() {\n    cat > .claude/templates/base-docs/testing-strategy.md.template <<'EOF'\n# æµ‹è¯•ç­–ç•¥\n\n{{PROJECT_NAME}} é‡‡ç”¨åˆ†å±‚æµ‹è¯•ç­–ç•¥ï¼Œç¡®ä¿ä»£ç è´¨é‡ã€‚\n\n## æµ‹è¯•é‡‘å­—å¡”\n\n```\n        /\\\n       /  \\      E2E æµ‹è¯• (5%)\n      /____\\\n     /      \\    é›†æˆæµ‹è¯• (15%)\n    /________\\\n   /          \\  å•å…ƒæµ‹è¯• (80%>\n  /____________\\\n```\n\n## å•å…ƒæµ‹è¯•\n\n### ç›®æ ‡\n\n- æµ‹è¯•å•ä¸ªå‡½æ•°å’Œç±»\n- å¿«é€Ÿæ‰§è¡Œï¼ˆ< 1 ç§’/æµ‹è¯•ï¼‰\n- é«˜è¦†ç›–ç‡ï¼ˆâ‰¥ 80%ï¼‰\n\n### ç¤ºä¾‹\n\n```python\nimport pytest\nfrom {{PROJECT_NAME}}.services.user_service import UserService\nfrom {{PROJECT_NAME}}.models import User\n\n\ndef test_create_user(db_session):\n    \"\"\"æµ‹è¯•åˆ›å»ºç”¨æˆ·ã€‚\"\"\"\n    service = UserService(db_session)\n    user_data = {\n        \"username\": \"testuser\",\n        \"email\": \"test@example.com\"\n    }\n\n    user = service.create_user(user_data)\n\n    assert user.username == \"testuser\"\n    assert user.email == \"test@example.com\"\n    assert user.id is not None\n\n\ndef test_get_user_not_found(db_session):\n    \"\"\"æµ‹è¯•è·å–ä¸å­˜åœ¨çš„ç”¨æˆ·ã€‚\"\"\"\n    service = UserService(db_session)\n\n    user = service.get_user(999)\n\n    assert user is None\n```\n\n## é›†æˆæµ‹è¯•\n\n### ç›®æ ‡\n\n- æµ‹è¯•æ¨¡å—é—´äº¤äº’\n- æµ‹è¯•æ•°æ®åº“é›†æˆ\n- æµ‹è¯• API ç«¯ç‚¹\n\n### ç¤ºä¾‹\n\n```python\nimport pytest\nfrom fastapi.testclient import TestClient\nfrom {{PROJECT_NAME}}.app import app\n\n\n@pytest.fixture\ndef client():\n    \"\"\"åˆ›å»ºæµ‹è¯•å®¢æˆ·ç«¯ã€‚\"\"\"\n    return TestClient(app)\n\n\ndef test_create_user_api(client):\n    \"\"\"æµ‹è¯•åˆ›å»ºç”¨æˆ· APIã€‚\"\"\"\n    response = client.post(\n        \"/api/users/\",\n        json={\"username\": \"testuser\", \"email\": \"test@example.com\"}\n    )\n\n    assert response.status_code == 200\n    data = response.json()\n    assert data[\"username\"] == \"testuser\"\n    assert \"id\" in data\n```\n\n## E2E æµ‹è¯•\n\n### ç›®æ ‡\n\n- æµ‹è¯•å®Œæ•´ç”¨æˆ·æµç¨‹\n- æµ‹è¯•è·¨ç³»ç»Ÿé›†æˆ\n- æ¨¡æ‹ŸçœŸå®ç”¨æˆ·è¡Œä¸º\n\n### ç¤ºä¾‹\n\n```python\nfrom playwright.sync_api import Page, expect\n\n\ndef test_user_registration_flow(page: Page):\n    \"\"\"æµ‹è¯•ç”¨æˆ·æ³¨å†Œæµç¨‹ã€‚\"\"\"\n    page.goto(\"https://your-app.com/register\")\n\n    page.fill(\"input[name='username']\", \"testuser\")\n    page.fill(\"input[name='email']\", \"test@example.com\")\n    page.fill(\"input[name='password']\", \"SecurePass123\")\n    page.click(\"button[type='submit']\")\n\n    expect(page).to_have_url(\"https://your-app.com/dashboard\")\n    expect(page.locator(\"h1\")).to_contain_text(\"æ¬¢è¿, testuser\")\n```\n\n## è¿è¡Œæµ‹è¯•\n\n```bash\n# è¿è¡Œæ‰€æœ‰æµ‹è¯•\nuv run pytest\n\n# è¿è¡Œå•å…ƒæµ‹è¯•\nuv run pytest tests/unit/\n\n# è¿è¡Œé›†æˆæµ‹è¯•\nuv run pytest tests/integration/\n\n# è¿è¡Œ E2E æµ‹è¯•\nuv run pytest tests/e2e/\n\n# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š\nuv run pytest --cov={{PROJECT_NAME}} --cov-report=html\n\n# è¿è¡Œç‰¹å®šæµ‹è¯•\nuv run pytest tests/test_user_service.py::test_create_user\n```\n\n## æµ‹è¯•æœ€ä½³å®è·µ\n\n1. **æµ‹è¯•ç‹¬ç«‹æ€§**: æ¯ä¸ªæµ‹è¯•åº”è¯¥ç‹¬ç«‹è¿è¡Œ\n2. **æµ‹è¯•å‘½å**: ä½¿ç”¨æè¿°æ€§åç§°ï¼ˆ`test_create_user_with_valid_data`ï¼‰\n3. **AAA æ¨¡å¼**: Arrangeï¼ˆå‡†å¤‡ï¼‰â†’ Actï¼ˆæ‰§è¡Œï¼‰â†’ Assertï¼ˆæ–­è¨€ï¼‰\n4. **ä½¿ç”¨ Fixture**: å…±äº«æµ‹è¯•æ•°æ®å’Œè®¾ç½®\n5. **Mock å¤–éƒ¨ä¾èµ–**: éš”ç¦»è¢«æµ‹è¯•ä»£ç \n\n## æŒç»­é›†æˆ\n\næ‰€æœ‰æµ‹è¯•åœ¨ CI/CD ç®¡é“ä¸­è‡ªåŠ¨è¿è¡Œï¼š\n\n```yaml\n# .github/workflows/test.yml\nname: Test\n\non: [push, pull_request]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - uses: actions/setup-python@v4\n        with:\n          python-version: '3.11'\n      - run: uv pip install -e \".[dev]\"\n      - run: uv run pytest --cov={{PROJECT_NAME}}\n```\n\n## æµ‹è¯•è¦†ç›–ç‡ç›®æ ‡\n\n| å±‚çº§ | è¦†ç›–ç‡ç›®æ ‡ | å½“å‰çŠ¶æ€ |\n|------|-----------|---------|\n| å•å…ƒæµ‹è¯• | â‰¥ 80% | [æ›´æ–°ä¸­] |\n| é›†æˆæµ‹è¯• | â‰¥ 60% | [æ›´æ–°ä¸­] |\n| E2E æµ‹è¯• | â‰¥ 40% | [æ›´æ–°ä¸­] |\nEOF\n}\n```\n\n---\n\n### 6. æ•…éšœæ’é™¤æ¨¡æ¿\n\n```bash\ncreate_troubleshooting_template() {\n    cat > .claude/templates/base-docs/troubleshooting.md.template <<'EOF'\n# æ•…éšœæ’é™¤æŒ‡å—\n\nå¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆã€‚\n\n## å®‰è£…é—®é¢˜\n\n### é—®é¢˜: ä¾èµ–å®‰è£…å¤±è´¥\n\n**é”™è¯¯ä¿¡æ¯**:\n```\nERROR: Could not build wheels for some-packages\n```\n\n**è§£å†³æ–¹æ¡ˆ**:\n\n1. ç¡®ä¿ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„ pipï¼š\n```bash\npip install --upgrade pip\n```\n\n2. å®‰è£…ç³»ç»Ÿä¾èµ–ï¼ˆUbuntu/Debianï¼‰ï¼š\n```bash\nsudo apt-get install python3-dev build-essential\n```\n\n3. ä½¿ç”¨ uv å®‰è£…ï¼š\n```bash\nuv pip install {{PROJECT_NAME}}\n```\n\n---\n\n## è¿è¡Œé—®é¢˜\n\n### é—®é¢˜: åº”ç”¨æ— æ³•å¯åŠ¨\n\n**é”™è¯¯ä¿¡æ¯**:\n```\nModuleNotFoundError: No module named '{{PROJECT_NAME}}'\n```\n\n**è§£å†³æ–¹æ¡ˆ**:\n\n1. ç¡®ä¿åœ¨æ­£ç¡®çš„è™šæ‹Ÿç¯å¢ƒä¸­ï¼š\n```bash\nwhich python\n# åº”è¯¥æŒ‡å‘ä½ çš„è™šæ‹Ÿç¯å¢ƒ\n```\n\n2. é‡æ–°å®‰è£…é¡¹ç›®ï¼š\n```bash\nuv pip install -e .\n```\n\n3. æ£€æŸ¥ PYTHONPATHï¼š\n```bash\nexport PYTHONPATH=\"${PYTHONPATH}:/path/to/{{PROJECT_NAME}}\"\n```\n\n---\n\n### é—®é¢˜: æ•°æ®åº“è¿æ¥å¤±è´¥\n\n**é”™è¯¯ä¿¡æ¯**:\n```\nsqlalchemy.exc.OperationalError: could not connect to server\n```\n\n**è§£å†³æ–¹æ¡ˆ**:\n\n1. æ£€æŸ¥æ•°æ®åº“æœåŠ¡çŠ¶æ€ï¼š\n```bash\nsudo systemctl status postgresql\n```\n\n2. éªŒè¯è¿æ¥å­—ç¬¦ä¸²ï¼š\n```bash\necho $DATABASE_URL\n```\n\n3. æµ‹è¯•æ•°æ®åº“è¿æ¥ï¼š\n```bash\npsql -U user -d {{PROJECT_NAME}}\n```\n\n---\n\n## æ€§èƒ½é—®é¢˜\n\n### é—®é¢˜: åº”ç”¨å“åº”ç¼“æ…¢\n\n**è¯Šæ–­æ­¥éª¤**:\n\n1. æ£€æŸ¥ç³»ç»Ÿèµ„æºï¼š\n```bash\ntop\nhtop\n```\n\n2. åˆ†æåº”ç”¨æ—¥å¿—ï¼š\n```bash\ntail -f /var/log/{{PROJECT_NAME}}/app.log\n```\n\n3. ä½¿ç”¨æ€§èƒ½åˆ†æå·¥å…·ï¼š\n```bash\nuv run python -m cProfile -o profile.stats your_script.py\n```\n\n**ä¼˜åŒ–å»ºè®®**:\n\n- å¯ç”¨ç¼“å­˜\n- ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢\n- ä½¿ç”¨è¿æ¥æ± \n- å¢åŠ  Worker æ•°é‡\n\n---\n\n## å¸¸è§é”™è¯¯ä»£ç \n\n| é”™è¯¯ä»£ç  | è¯´æ˜ | è§£å†³æ–¹æ¡ˆ |\n|---------|------|---------|\n| 400 | è¯·æ±‚å‚æ•°é”™è¯¯ | æ£€æŸ¥è¯·æ±‚æ ¼å¼ |\n| 401 | æœªæˆæƒ | æ£€æŸ¥è®¤è¯ä»¤ç‰Œ |\n| 403 | ç¦æ­¢è®¿é—® | æ£€æŸ¥æƒé™è®¾ç½® |\n| 404 | èµ„æºä¸å­˜åœ¨ | éªŒè¯ URL è·¯å¾„ |\n| 500 | æœåŠ¡å™¨é”™è¯¯ | æŸ¥çœ‹åº”ç”¨æ—¥å¿— |\n\n---\n\n## è·å–å¸®åŠ©\n\nå¦‚æœé—®é¢˜ä»æœªè§£å†³ï¼š\n\n1. æŸ¥çœ‹å®Œæ•´æ–‡æ¡£: [æ–‡æ¡£ç›®å½•](./)\n2. æœç´¢å·²æœ‰ Issue: [GitHub Issues](https://github.com/yourusername/{{PROJECT_NAME}}/issues)\n3. æäº¤æ–° Issue: åŒ…å«é”™è¯¯æ—¥å¿—å’Œç¯å¢ƒä¿¡æ¯\n4. è”ç³»ç»´æŠ¤è€…: support@example.com\n\n---\n\n## è°ƒè¯•æ¨¡å¼\n\nå¯ç”¨è°ƒè¯•æ¨¡å¼è·å–æ›´å¤šä¿¡æ¯ï¼š\n\n```bash\n# è®¾ç½®ç¯å¢ƒå˜é‡\nexport DEBUG=True\nexport LOG_LEVEL=DEBUG\n\n# å¯åŠ¨åº”ç”¨\nuv run {{PROJECT_NAME}}\n```\n\nè¿™å°†è¾“å‡ºè¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯åˆ°æ§åˆ¶å°ã€‚\nEOF\n}\n```\n\n---\n\n### 7. å®‰å…¨è€ƒè™‘æ¨¡æ¿\n\n```bash\ncreate_security_template() {\n    cat > .claude/templates/base-docs/security-considerations.md.template <<'EOF'\n# å®‰å…¨è€ƒè™‘\n\n{{PROJECT_NAME}} çš„å®‰å…¨æœ€ä½³å®è·µå’Œé…ç½®æŒ‡å—ã€‚\n\n## è®¤è¯å’Œæˆæƒ\n\n### è®¤è¯æœºåˆ¶\n\n- OAuth 2.0\n- JWT Token\n- API Key\n\n### æƒé™æ§åˆ¶\n\n- åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰\n- æœ€å°æƒé™åŸåˆ™\n- å®šæœŸæƒé™å®¡è®¡\n\n## æ•°æ®ä¿æŠ¤\n\n### æ•æ„Ÿæ•°æ®åŠ å¯†\n\n```python\n# ä½¿ç”¨ cryptography åº“åŠ å¯†æ•æ„Ÿæ•°æ®\nfrom cryptography.fernet import Fernet\n\nkey = Fernet.generate_key()\ncipher = Fernet(key)\nencrypted = cipher.encrypt(b\"sensitive data\")\n```\n\n### æ•°æ®åº“å®‰å…¨\n\n- ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢ï¼ˆé˜²æ­¢ SQL æ³¨å…¥ï¼‰\n- åŠ å¯†æ•æ„Ÿå­—æ®µ\n- å®šæœŸå¤‡ä»½\n\n## è¾“å…¥éªŒè¯\n\n### API è¾“å…¥éªŒè¯\n\n```python\nfrom pydantic import BaseModel, validator\n\n\nclass UserCreate(BaseModel):\n    username: str\n    email: str\n\n    @validator('username')\n    def validate_username(cls, v):\n        if not v.isalnum():\n            raise ValueError('ç”¨æˆ·ååªèƒ½åŒ…å«å­—æ¯å’Œæ•°å­—')\n        if len(v) < 3 or len(v) > 20:\n            raise ValueError('ç”¨æˆ·åé•¿åº¦å¿…é¡»åœ¨ 3-20 ä¹‹é—´')\n        return v\n```\n\n### XSS é˜²æŠ¤\n\n- è½¬ä¹‰ç”¨æˆ·è¾“å…¥\n- ä½¿ç”¨ Content Security Policy\n- éªŒè¯å’Œæ¸…ç† HTML\n\n## å®‰å…¨é…ç½®\n\n### ç¯å¢ƒå˜é‡\n\n```bash\n# .env æ–‡ä»¶ï¼ˆä¸è¦æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ï¼‰\nSECRET_KEY=your-secret-key-here\nDATABASE_URL=postgresql://user:password@db:5432/{{PROJECT_NAME}}\nENCRYPTION_KEY=your-encryption-key\n```\n\n### CORS é…ç½®\n\n```python\nfrom fastapi.middleware.cors import CORSMiddleware\n\napp.add_middleware(\n    CORSMiddleware,\n    allow_origins=[\"https://your-domain.com\"],  # é™åˆ¶å…è®¸çš„æ¥æº\n    allow_credentials=True,\n    allow_methods=[\"GET\", \"POST\"],\n    allow_headers=[\"*\"],\n)\n```\n\n## å®‰å…¨å®¡è®¡\n\n### ä¾èµ–æ‰«æ\n\n```bash\n# ä½¿ç”¨ safety æ£€æŸ¥å·²çŸ¥æ¼æ´\nuv pip install safety\nsafety check\n\n# ä½¿ç”¨ pip-audit\nuv pip install pip-audit\npip-audit\n```\n\n### ä»£ç æ‰«æ\n\n```bash\n# ä½¿ç”¨ bandit è¿›è¡Œå®‰å…¨æ‰«æ\nuv pip install bandit\nbandit -r {{PROJECT_NAME}}/\n```\n\n## å¸¸è§å®‰å…¨æ¼æ´é˜²æŠ¤\n\n### SQL æ³¨å…¥\n\nâŒ **é”™è¯¯ç¤ºä¾‹**:\n```python\nquery = f\"SELECT * FROM users WHERE id = {user_id}\"\n```\n\nâœ… **æ­£ç¡®ç¤ºä¾‹**:\n```python\nquery = \"SELECT * FROM users WHERE id = :user_id\"\nresult = db.execute(query, {\"user_id\": user_id})\n```\n\n### XSS æ”»å‡»\n\nâŒ **é”™è¯¯ç¤ºä¾‹**:\n```python\nreturn f\"<div>{user_input}</div>\"\n```\n\nâœ… **æ­£ç¡®ç¤ºä¾‹**:\n```python\nfrom html import escape\nreturn f\"<div>{escape(user_input)}</div>\"\n```\n\n### CSRF æ”»å‡»\n\n- ä½¿ç”¨ CSRF Token\n- éªŒè¯ Referer å¤´\n- SameSite Cookie\n\n## å®‰å…¨ç›‘æ§\n\n### æ—¥å¿—è®°å½•\n\n```python\nimport logging\n\nlogger = logging.getLogger(__name__)\n\n# è®°å½•å®‰å…¨äº‹ä»¶\nlogger.warning(\"Failed login attempt\", extra={\n    \"ip\": request.remote_addr,\n    \"username\": username\n})\n```\n\n### å…¥ä¾µæ£€æµ‹\n\n- ç›‘æ§å¼‚å¸¸è®¿é—®æ¨¡å¼\n- é€Ÿç‡é™åˆ¶ï¼ˆRate Limitingï¼‰\n- IP é»‘åå•\n\n## åˆè§„æ€§\n\n### GDPR åˆè§„\n\n- ç”¨æˆ·æ•°æ®è®¿é—®æƒ\n- æ•°æ®åˆ é™¤æƒï¼ˆ\"è¢«é—å¿˜æƒ\"ï¼‰\n- æ˜ç¡®çš„éšç§æ”¿ç­–\n\n### SOC 2 åˆè§„\n\n- è®¿é—®æ§åˆ¶\n- å˜æ›´ç®¡ç†\n- äº‹ä»¶å“åº”\n\n## å®‰å…¨æ›´æ–°\n\n### å®šæœŸæ›´æ–°\n\n```bash\n# æ›´æ–°ä¾èµ–\nuv pip install --upgrade {{PROJECT_NAME}}\n\n# æ£€æŸ¥è¿‡æœŸåŒ…\nuv pip list --outdated\n```\n\n### å®‰å…¨å…¬å‘Š\n\n- è®¢é˜…å®‰å…¨å…¬å‘Šé‚®ä»¶åˆ—è¡¨\n- å…³æ³¨ä¸Šæ¸¸é¡¹ç›®å®‰å…¨æ›´æ–°\n- åŠæ—¶åº”ç”¨å®‰å…¨è¡¥ä¸\n\n## æŠ¥å‘Šå®‰å…¨æ¼æ´\n\nå‘ç°å®‰å…¨æ¼æ´ï¼Ÿè¯·ç§ä¸‹æŠ¥å‘Šï¼š\n\n- é‚®ä»¶: security@example.com\n- PGP Key: [é“¾æ¥]\n\n**è¯·ä¸è¦å…¬å¼€æŠ«éœ²æœªä¿®å¤çš„æ¼æ´**ã€‚\nEOF\n}\n```\n\n---\n\n## åˆå§‹åŒ–æ‰€æœ‰æ¨¡æ¿\n\n```bash\n# åˆ›å»ºæ‰€æœ‰åŸºç¡€æ–‡æ¡£æ¨¡æ¿\ninit_all_templates() {\n    create_quickstart_template\n    create_project_overview_template\n    create_development_guide_template\n    create_deployment_guide_template\n    create_testing_strategy_template\n    create_troubleshooting_template\n    create_security_template\n\n    echo \"âœ… æ‰€æœ‰åŸºç¡€æ–‡æ¡£æ¨¡æ¿å·²åˆ›å»º\" >&2\n}\n```\n\n---\n\n## ä½¿ç”¨ç¤ºä¾‹\n\n```bash\n# ç”Ÿæˆå¿«é€Ÿå¼€å§‹æ–‡æ¡£\nproject_info=$(extract_project_info \"/path/to/project\")\ngenerate_document_content \\\n    \".claude/templates/base-docs/quickstart.md.template\" \\\n    \"docs/quickstart.md\" \\\n    \"$project_info\"\n\n# ç”Ÿæˆé¡¹ç›®æ¦‚è¿°\ngenerate_document_content \\\n    \".claude/templates/base-docs/project-overview.md.template\" \\\n    \"docs/project-overview.md\" \\\n    \"$project_info\"\n```\n\n---\n\n**ç‰ˆæœ¬**: 1.0.0\n**æœ€åæ›´æ–°**: 2026-01-04\n\n---\n\n## å…ƒæ•°æ®ç”Ÿæˆ\n\n### generate_metadata()\n\n```bash\n# ç”Ÿæˆæ–‡æ¡£å…ƒæ•°æ®\ngenerate_metadata() {\n    local generation_time=$(date -u +\"%Y-%m-%dT%H:%M:%SZ\")\n    local doc_version=\"1.0.2\"\n    local code_version=$(git rev-parse HEAD 2>/dev/null || echo \"unknown\")\n    \n    cat <<METADATA\n---\n**ç”Ÿæˆæ—¶é—´**: $generation_time\n**æ–‡æ¡£ç‰ˆæœ¬**: $doc_version\n**åŸºäºä»£ç ç‰ˆæœ¬**: $code_version\n**ç”Ÿæˆå·¥å…·**: wiki-generator\n---\n\nMETADATA\n}\n```\n\n---\n\n## ä»£ç ç¤ºä¾‹è§„èŒƒåŒ–\n\n### ä»£ç å—æ ¼å¼\n\n**æ ‡å‡†æ ¼å¼**:\n```markdown\n```<language> title=\"<file_path>\"\n<code_content>\n```\n\n**æ”¯æŒçš„è¯­è¨€**:\n- `python` - Python ä»£ç \n- `bash` - Shell å‘½ä»¤\n- `env` - ç¯å¢ƒå˜é‡é…ç½®\n- `json` - JSON æ•°æ®\n- `yaml` - YAML é…ç½®\n- `javascript` - JavaScript ä»£ç \n\n### ä»£ç ç¤ºä¾‹ç”Ÿæˆæµç¨‹\n\n1. **è¯†åˆ«ä»£ç ç±»å‹**: æ ¹æ®æ–‡ä»¶æ‰©å±•åæˆ–å†…å®¹åˆ¤æ–­\n2. **æ·»åŠ è¯­è¨€æ ‡è¯†**: åœ¨ ``` åæ·»åŠ è¯­è¨€ç±»å‹\n3. **æ·»åŠ  title å±æ€§**: æ ‡æ³¨æ–‡ä»¶è·¯å¾„æˆ–ç”¨é€”\n4. **æå–ä»£ç å†…å®¹**: ä»æºæ–‡ä»¶ä¸­è¯»å–\n5. **æ·»åŠ æ³¨é‡Š**: å…³é”®æ­¥éª¤æ·»åŠ ä¸­æ–‡æ³¨é‡Š\n\n---\n\n## Mermaid å›¾è¡¨ç”Ÿæˆ\n\n### å›¾è¡¨ç±»å‹é€‰æ‹©\n\næ ¹æ®æ–‡æ¡£ç±»å‹è‡ªåŠ¨é€‰æ‹©å›¾è¡¨ï¼š\n\n```bash\nselect_diagram_type() {\n    local doc_type=$1\n    \n    case $doc_type in\n        datamodel)\n            echo \"erDiagram\"\n            ;;\n        architecture)\n            echo \"flowchart TD\"\n            ;;\n        api)\n            echo \"sequenceDiagram\"\n            ;;\n        deployment)\n            echo \"flowchart TD\"\n            ;;\n        *)\n            echo \"flowchart LR\"\n            ;;\n    esac\n}\n```\n\n### å›¾è¡¨ç”Ÿæˆå‡½æ•°\n\n```bash\ngenerate_mermaid_diagram() {\n    local diagram_type=$1\n    local content=$2\n    \n    cat <<MERMAID\n\\`\\`\\`mermaid\n$diagram_type\n$content\n\\`\\`\\`\nMERMAID\n}\n```\n\n---\n\n## è´¨é‡æ£€æŸ¥\n\n### validate_generated_document()\n\n```bash\n# éªŒè¯ç”Ÿæˆçš„æ–‡æ¡£\nvalidate_generated_document() {\n    local doc_file=$1\n    \n    # æ£€æŸ¥å¿…éœ€å…ƒç´ \n    check_metadata \"$doc_file\" || return 1\n    check_cite_block \"$doc_file\" || return 1\n    check_toc \"$doc_file\" || return 1\n    check_section_sources \"$doc_file\" || return 1\n    \n    # æ£€æŸ¥ä»£ç å—æ ¼å¼\n    check_code_blocks \"$doc_file\" || return 1\n    \n    # æ£€æŸ¥ Mermaid å›¾è¡¨\n    check_mermaid_diagrams \"$doc_file\" || return 1\n    \n    echo \"âœ… æ–‡æ¡£éªŒè¯é€šè¿‡\"\n    return 0\n}\n```\n",
        "plugins/skills/doc-generator/index_generation.md": "# æ–‡æ¡£ç´¢å¼•ç”Ÿæˆ Skill\n\n**åŠŸèƒ½**: ç”Ÿæˆæ–‡æ¡£ç´¢å¼•æ–‡ä»¶ï¼Œåˆ›å»ºäº¤å‰å¼•ç”¨é“¾æ¥\n\n**éªŒè¯**: æ‰€æœ‰æ–‡æ¡£é“¾æ¥ 100% æœ‰æ•ˆ\n\n---\n\n## æ ¸å¿ƒç”Ÿæˆå‡½æ•°\n\n### generate_document_index()\n\n```bash\n#!/usr/bin/env bash\n# æ–‡æ¡£ç´¢å¼•ç”Ÿæˆä¸»å‡½æ•°\n# ç”¨æ³•: generate_document_index <output_dir> <documents_list>\n# è¾“å‡º: README.md ç´¢å¼•æ–‡ä»¶\n\ngenerate_document_index() {\n    local output_dir=$1\n    shift\n    local documents=(\"$@\")\n\n    local index_file=\"$output_dir/README.md\"\n\n    echo \"ğŸ“‹ ç”Ÿæˆæ–‡æ¡£ç´¢å¼•: $index_file\" >&2\n\n    cat > \"$index_file\" <<'EOF'\n# æ–‡æ¡£ç´¢å¼•\n\næ¬¢è¿é˜…è¯» {{PROJECT_NAME}} æ–‡æ¡£ï¼\n\n---\n\n## å¿«é€Ÿå¼€å§‹\n\n- [å¿«é€Ÿå¼€å§‹](./quickstart.md) - 5 åˆ†é’Ÿä¸Šæ‰‹æŒ‡å—\n\nEOF\n\n    # æŒ‰åˆ†ç»„æ·»åŠ æ–‡æ¡£\n    add_document_group \"$index_file\" \"æ ¸å¿ƒåŠŸèƒ½\" \"${documents[@]}\"\n    add_document_group \"$index_file\" \"æŠ€æœ¯æ–‡æ¡£\" \"${documents[@]}\"\n    add_document_group \"$index_file\" \"å¼€å‘ç›¸å…³\" \"${documents[@]}\"\n    add_document_group \"$index_file\" \"éƒ¨ç½²ä¸è¿ç»´\" \"${documents[@]}\"\n\n    # æ·»åŠ ç›¸å…³èµ„æº\n    cat >> \"$index_file\" <<'EOF'\n\n---\n\n## ç›¸å…³èµ„æº\n\n- [GitHub ä»“åº“](https://github.com/yourusername/{{PROJECT_NAME}})\n- [é—®é¢˜åé¦ˆ](https://github.com/yourusername/{{PROJECT_NAME}}/issues)\n- [æ›´æ–°æ—¥å¿—](./CHANGELOG.md)\n\n---\n\n**æœ€åæ›´æ–°**: $(date +%Y-%m-%d)\nEOF\n\n    echo \"âœ… æ–‡æ¡£ç´¢å¼•å·²ç”Ÿæˆ\" >&2\n\n    # éªŒè¯æ‰€æœ‰é“¾æ¥\n    validate_document_links \"$index_file\" \"$output_dir\"\n}\n```\n\n---\n\n## æ–‡æ¡£åˆ†ç»„\n\n```bash\n# æ ¹æ®æ–‡æ¡£ç±»å‹åˆ†ç»„\nadd_document_group() {\n    local index_file=$1\n    local group_name=$2\n    shift 2\n    local documents=(\"$@\")\n\n    echo \"## $group_name\" >> \"$index_file\"\n    echo \"\" >> \"$index_file\"\n\n    for doc in \"${documents[@]}\"; do\n        local doc_group=$(get_document_group \"$doc\")\n        if [ \"$doc_group\" = \"$group_name\" ]; then\n            local doc_title=$(get_document_title \"$doc\")\n            local doc_desc=$(get_document_description \"$doc\")\n            local doc_path=$(basename \"$doc\")\n\n            echo \"- [$doc_title](./$doc_path) - $doc_desc\" >> \"$index_file\"\n        fi\n    done\n\n    echo \"\" >> \"$index_file\"\n}\n\n# è·å–æ–‡æ¡£åˆ†ç»„\nget_document_group() {\n    local doc_file=$1\n    local filename=$(basename \"$doc_file\")\n\n    case \"$filename\" in\n        *quickstart*|*overview*)\n            echo \"å¿«é€Ÿå¼€å§‹\"\n            ;;\n        *api*|*data-model*|*cli*)\n            echo \"æŠ€æœ¯æ–‡æ¡£\"\n            ;;\n        *development*|*testing*|*contributing*)\n            echo \"å¼€å‘ç›¸å…³\"\n            ;;\n        *deployment*|*troubleshooting*|*security*)\n            echo \"éƒ¨ç½²ä¸è¿ç»´\"\n            ;;\n        *)\n            echo \"å…¶ä»–\"\n            ;;\n    esac\n}\n\n# è·å–æ–‡æ¡£æ ‡é¢˜\nget_document_title() {\n    local doc_file=$1\n\n    # æå–ç¬¬ä¸€ä¸ª # æ ‡é¢˜\n    if [ -f \"$doc_file\" ]; then\n        grep \"^# \" \"$doc_file\" | head -n 1 | sed 's/^# //'\n    else\n        echo \"$(basename \"$doc_file\" .md)\"\n    fi\n}\n\n# è·å–æ–‡æ¡£æè¿°\nget_document_description() {\n    local doc_file=$1\n\n    # æå–æ ‡é¢˜åçš„ç¬¬ä¸€æ®µï¼ˆæœ€å¤š 100 å­—ç¬¦ï¼‰\n    if [ -f \"$doc_file\" ]; then\n        awk '/^# / {getline; while ($0 ~ /^$/) {getline}; print; exit}' \"$doc_file\" | head -c 100\n    else\n        echo \"æ–‡æ¡£è¯´æ˜\"\n    fi\n}\n```\n\n---\n\n## äº¤å‰å¼•ç”¨ç”Ÿæˆ\n\n```bash\n# ç”Ÿæˆæ–‡æ¡£é—´çš„äº¤å‰å¼•ç”¨é“¾æ¥\ngenerate_cross_references() {\n    local output_dir=$1\n    local documents=(\"$@\")\n\n    echo \"ğŸ”— ç”Ÿæˆäº¤å‰å¼•ç”¨...\" >&2\n\n    for doc in \"${documents[@]}\"; do\n        if [ ! -f \"$doc\" ]; then\n            continue\n        fi\n\n        local doc_content=$(cat \"$doc\")\n        local updated_content=\"$doc_content\"\n\n        # ä¸ºå¸¸è§æœ¯è¯­æ·»åŠ äº¤å‰å¼•ç”¨\n        updated_content=$(add_cross_ref \"$updated_content\" \"å¿«é€Ÿå¼€å§‹\" \"quickstart.md\")\n        updated_content=$(add_cross_ref \"$updated_content\" \"é¡¹ç›®æ¦‚è¿°\" \"project-overview.md\")\n        updated_content=$(add_cross_ref \"$updated_content\" \"å¼€å‘æŒ‡å—\" \"development-guide.md\")\n        updated_content=$(add_cross_ref \"$updated_content\" \"éƒ¨ç½²æŒ‡å—\" \"deployment-guide.md\")\n        updated_content=$(add_cross_ref \"$updated_content\" \"API æ–‡æ¡£\" \"api-reference.md\")\n        updated_content=$(add_cross_ref \"$updated_content\" \"æ•…éšœæ’é™¤\" \"troubleshooting.md\")\n        updated_content=$(add_cross_ref \"$updated_content\" \"æµ‹è¯•ç­–ç•¥\" \"testing-strategy.md\")\n\n        # å¦‚æœå†…å®¹æœ‰æ›´æ–°ï¼Œå†™å›æ–‡ä»¶\n        if [ \"$updated_content\" != \"$doc_content\" ]; then\n            echo \"$updated_content\" > \"$doc\"\n            echo \"  âœ… æ›´æ–°äº¤å‰å¼•ç”¨: $doc\" >&2\n        fi\n    done\n}\n\n# æ·»åŠ å•ä¸ªäº¤å‰å¼•ç”¨\nadd_cross_ref() {\n    local content=$1\n    local term=$2\n    local link=$3\n\n    # åªåœ¨ç¬¬ä¸€æ¬¡å‡ºç°æ—¶æ·»åŠ é“¾æ¥ï¼ˆé¿å…é‡å¤ï¼‰\n    if ! echo \"$content\" | grep -q \"\\[$term\\]\"; then\n        echo \"$content\" | sed \"s|$term|[$term](./$link)|g\"\n    else\n        echo \"$content\"\n    fi\n}\n```\n\n---\n\n## é“¾æ¥æœ‰æ•ˆæ€§éªŒè¯\n\n```bash\n# éªŒè¯æ–‡æ¡£ä¸­çš„æ‰€æœ‰é“¾æ¥æ˜¯å¦æœ‰æ•ˆ\nvalidate_document_links() {\n    local index_file=$1\n    local output_dir=$2\n\n    echo \"ğŸ” éªŒè¯æ–‡æ¡£é“¾æ¥...\" >&2\n\n    local errors=0\n\n    # æå–æ‰€æœ‰ Markdown é“¾æ¥\n    local links=$(grep -oE '\\[.*\\]\\([^)]+\\)' \"$index_file\" | grep -oE '\\([^)]+\\)' | sed 's/[()]//g')\n\n    for link in $links; do\n        # è·³è¿‡å¤–éƒ¨é“¾æ¥\n        if [[ \"$link\" == http* ]]; then\n            continue\n        fi\n\n        # éªŒè¯æœ¬åœ°æ–‡ä»¶\n        local target_file=\"$output_dir/$link\"\n        if [ ! -f \"$target_file\" ]; then\n            echo \"âŒ é“¾æ¥å¤±æ•ˆ: [$link] -> $target_file\" >&2\n            errors=$((errors + 1))\n        else\n            echo \"  âœ… é“¾æ¥æœ‰æ•ˆ: $link\" >&2\n        fi\n    done\n\n    if [ $errors -eq 0 ]; then\n        echo \"âœ… æ‰€æœ‰é“¾æ¥æœ‰æ•ˆï¼ˆ100%ï¼‰\" >&2\n        return 0\n    else\n        echo \"âš ï¸ å‘ç° $errors ä¸ªå¤±æ•ˆé“¾æ¥\" >&2\n        return 1\n    fi\n}\n```\n\n---\n\n## æ¨¡å—æ–‡æ¡£ç´¢å¼•\n\n```bash\n# ä¸ºä¸šåŠ¡æ¨¡å—ç”Ÿæˆç‹¬ç«‹ç´¢å¼•\ngenerate_module_index() {\n    local output_dir=$1\n    shift\n    local modules=(\"$@\")\n\n    local module_index_file=\"$output_dir/modules.md\"\n\n    cat > \"$module_index_file\" <<'EOF'\n# ä¸šåŠ¡æ¨¡å—æ–‡æ¡£\n\næœ¬é¡¹ç›®çš„æ‰€æœ‰ä¸šåŠ¡æ¨¡å—æ–‡æ¡£ã€‚\n\n---\n\nEOF\n\n    for module in \"${modules[@]}\"; do\n        local module_name=$(basename \"$module\")\n        local module_doc=\"$output_dir/modules/$module_name.md\"\n\n        if [ -f \"$module_doc\" ]; then\n            local module_desc=$(get_document_description \"$module_doc\")\n\n            echo \"### [$module_name](./modules/$module_name.md)\" >> \"$module_index_file\"\n            echo \"\" >> \"$module_index_file\"\n            echo \"$module_desc\" >> \"$module_index_file\"\n            echo \"\" >> \"$module_index_file\"\n        fi\n    done\n\n    echo \"âœ… æ¨¡å—ç´¢å¼•å·²ç”Ÿæˆ: $module_index_file\" >&2\n}\n```\n\n---\n\n## API æ–‡æ¡£ç´¢å¼•\n\n```bash\n# ä¸º API ç«¯ç‚¹ç”Ÿæˆç´¢å¼•\ngenerate_api_index() {\n    local output_dir=$1\n    shift\n    local api_modules=(\"$@\")\n\n    local api_index_file=\"$output_dir/api-reference.md\"\n\n    cat > \"$api_index_file\" <<'EOF'\n# API å‚è€ƒæ–‡æ¡£\n\næ‰€æœ‰ API ç«¯ç‚¹çš„è¯¦ç»†è¯´æ˜ã€‚\n\n---\n\n## ç«¯ç‚¹åˆ—è¡¨\n\nEOF\n\n    # ç«¯ç‚¹åˆ—è¡¨è¡¨æ ¼\n    echo \"| æ–¹æ³• | è·¯å¾„ | æè¿° | æ–‡æ¡£ |\" >> \"$api_index_file\"\n    echo \"|------|------|------|------|\" >> \"$api_index_file\"\n\n    for api_module in \"${api_modules[@]}\"; do\n        local module_name=$(basename \"$api_module\")\n        local api_doc=\"$output_dir/api/$module_name.md\"\n\n        if [ -f \"$api_doc\" ]; then\n            # ä»æ–‡æ¡£ä¸­æå–ç«¯ç‚¹ä¿¡æ¯\n            local endpoints=$(grep -E \"^###.*\\[(GET|POST|PUT|DELETE)\\]\" \"$api_doc\" || echo \"\")\n\n            if [ -n \"$endpoints\" ]; then\n                while IFS= read -r line; do\n                    local method=$(echo \"$line\" | grep -oE \"(GET|POST|PUT|DELETE)\" || echo \"?\")\n                    local path=$(echo \"$line\" | grep -oE '`[^`]*`' | head -n 1 | sed 's/`//g' || echo \"?\")\n                    local desc=$(echo \"$line\" | sed 's/.*###//' | sed 's/\\[.*\\].*//' | xargs || echo \"ç«¯ç‚¹è¯´æ˜\")\n\n                    echo \"| $method | \\`$path\\` | $desc | [è¯¦æƒ…](./api/$module_name.md) |\" >> \"$api_index_file\"\n                done <<< \"$endpoints\"\n            fi\n        fi\n    done\n\n    echo \"\" >> \"$api_index_file\"\n    echo \"---\" >> \"$api_index_file\"\n    echo \"\" >> \"$api_index_file\"\n    echo \"## è®¤è¯\" >> \"$api_index_file\"\n    echo \"\" >> \"$api_index_file\"\n    echo \"æ‰€æœ‰ API è¯·æ±‚éœ€è¦è®¤è¯ã€‚è¯¦è§[è®¤è¯è¯´æ˜](./deployment-guide.md#è®¤è¯å’Œæˆæƒ)\" >> \"$api_index_file\"\n\n    echo \"âœ… API ç´¢å¼•å·²ç”Ÿæˆ: $api_index_file\" >&2\n}\n```\n\n---\n\n## æ–‡æ¡£æœç´¢ç´¢å¼•\n\n```bash\n# ç”Ÿæˆæ–‡æ¡£æœç´¢ç´¢å¼•ï¼ˆJSON æ ¼å¼ï¼‰\ngenerate_search_index() {\n    local output_dir=$1\n    shift\n    local documents=(\"$@\")\n\n    local search_index_file=\"$output_dir/search-index.json\"\n\n    echo '{\"documents\": [' > \"$search_index_file\"\n\n    local first=true\n    for doc in \"${documents[@]}\"; do\n        if [ ! -f \"$doc\" ]; then\n            continue\n        fi\n\n        if [ \"$first\" = false ]; then\n            echo \",\" >> \"$search_index_file\"\n        fi\n        first=false\n\n        local doc_title=$(get_document_title \"$doc\")\n        local doc_desc=$(get_document_description \"$doc\")\n        local doc_path=$(basename \"$doc\")\n        local doc_relative=$(realpath --relative-to=\"$output_dir\" \"$doc\")\n\n        # ä½¿ç”¨ Python ç”Ÿæˆ JSON\n        python3 - <<PYTHON_EOF\nimport json\n\ndoc = {\n    \"title\": \"$doc_title\",\n    \"description\": \"$doc_desc\",\n    \"path\": \"$doc_relative\",\n    \"url\": \"$doc_path\"\n}\n\nprint(json.dumps(doc, ensure_ascii=False))\nPYTHON_EOF\n    done\n\n    echo ']}' >> \"$search_index_file\"\n\n    echo \"âœ… æœç´¢ç´¢å¼•å·²ç”Ÿæˆ: $search_index_file\" >&2\n}\n```\n\n---\n\n## ä½¿ç”¨ç¤ºä¾‹\n\n```bash\n# ç”Ÿæˆå®Œæ•´æ–‡æ¡£ç´¢å¼•\noutput_dir=\"/path/to/docs\"\ndocuments=(\n    \"$output_dir/quickstart.md\"\n    \"$output_dir/project-overview.md\"\n    \"$output_dir/development-guide.md\"\n    \"$output_dir/deployment-guide.md\"\n    \"$output_dir/testing-strategy.md\"\n    \"$output_dir/troubleshooting.md\"\n    \"$output_dir/security-considerations.md\"\n)\n\n# ç”Ÿæˆä¸»ç´¢å¼•\ngenerate_document_index \"$output_dir\" \"${documents[@]}\"\n\n# ç”Ÿæˆäº¤å‰å¼•ç”¨\ngenerate_cross_references \"$output_dir\" \"${documents[@]}\"\n\n# éªŒè¯é“¾æ¥\nvalidate_document_links \"$output_dir/README.md\" \"$output_dir\"\n```\n\n**è¾“å‡ºç¤ºä¾‹**ï¼ˆdocs/README.mdï¼‰ï¼š\n\n```markdown\n# æ–‡æ¡£ç´¢å¼•\n\næ¬¢è¿é˜…è¯» My Awesome Project æ–‡æ¡£ï¼\n\n---\n\n## å¿«é€Ÿå¼€å§‹\n\n- [å¿«é€Ÿå¼€å§‹](./quickstart.md) - 5 åˆ†é’Ÿä¸Šæ‰‹æŒ‡å—\n\n## æ ¸å¿ƒåŠŸèƒ½\n\n- [é¡¹ç›®æ¦‚è¿°](./project-overview.md) - äº†è§£é¡¹ç›®æ ¸å¿ƒåŠŸèƒ½å’Œæ¶æ„\n- [API å‚è€ƒ](./api-reference.md) - API ç«¯ç‚¹è¯¦ç»†è¯´æ˜\n\n## æŠ€æœ¯æ–‡æ¡£\n\n- [API æ–‡æ¡£](./api-reference.md) - API ç«¯ç‚¹å’Œæ•°æ®æ¨¡å‹\n- [æ•°æ®æ¨¡å‹](./data-models.md) - æ•°æ®åº“æ¨¡å‹å’Œå…³ç³»\n\n## å¼€å‘ç›¸å…³\n\n- [å¼€å‘æŒ‡å—](./development-guide.md) - å¼€å‘ç¯å¢ƒè®¾ç½®å’Œå·¥ä½œæµ\n- [æµ‹è¯•ç­–ç•¥](./testing-strategy.md) - æµ‹è¯•æ–¹æ³•å’Œè¦†ç›–ç‡\n\n## éƒ¨ç½²ä¸è¿ç»´\n\n- [éƒ¨ç½²æŒ‡å—](./deployment-guide.md) - ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²\n- [æ•…éšœæ’é™¤](./troubleshooting.md) - å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ\n- [å®‰å…¨è€ƒè™‘](./security-considerations.md) - å®‰å…¨æœ€ä½³å®è·µ\n\n---\n\n## ç›¸å…³èµ„æº\n\n- [GitHub ä»“åº“](https://github.com/yourusername/My-Awesome-Project)\n- [é—®é¢˜åé¦ˆ](https://github.com/yourusername/My-Awesome-Project/issues)\n- [æ›´æ–°æ—¥å¿—](./CHANGELOG.md)\n\n---\n\n**æœ€åæ›´æ–°**: 2026-01-04\n```\n\n---\n\n## å¤šçº§ç›®å½•ç”Ÿæˆï¼ˆTOCï¼‰\n\n### generate_table_of_contents()\n\n```bash\n#!/usr/bin/env bash\n# ä¸ºå•ä¸ªæ–‡æ¡£ç”Ÿæˆå¤šçº§ç›®å½•ï¼ˆTable of Contentsï¼‰\n# ç”¨æ³•: generate_table_of_contents <document_file>\n# è¾“å‡º: Markdown æ ¼å¼çš„ç›®å½•ï¼Œæ”¯æŒ 1-4 çº§æ ‡é¢˜\n\ngenerate_table_of_contents() {\n    local doc_file=$1\n\n    if [ ! -f \"$doc_file\" ]; then\n        echo \"âš ï¸ æ–‡æ¡£ä¸å­˜åœ¨: $doc_file\" >&2\n        return 1\n    fi\n\n    echo \"ğŸ“‘ ç”Ÿæˆç›®å½•: $doc_file\" >&2\n\n    # æå–æ‰€æœ‰æ ‡é¢˜ï¼ˆ# ## ### ####ï¼‰\n    local toc=\"\"\n    local line_num=0\n\n    while IFS= read -r line; do\n        line_num=$((line_num + 1))\n\n        # åŒ¹é…æ ‡é¢˜\n        if [[ \"$line\" =~ ^(#{1,4})\\s+(.+)$ ]]; then\n            local level=\"${#BASH_REMATCH[1]}\"  # # æ•°é‡ = çº§åˆ«\n            local title=\"${BASH_REMATCH[2]}\"\n\n            # ç”Ÿæˆé”šç‚¹ï¼ˆç§»é™¤ç‰¹æ®Šå­—ç¬¦ï¼Œæ›¿æ¢ç©ºæ ¼ä¸ºè¿å­—ç¬¦ï¼‰\n            local anchor=$(echo \"$title\" | sed 's/[^a-zA-Z0-9\\u4e00-\\u9fa5 ]//g' | tr '[:upper:]' '[:lower:]' | tr ' ' '-')\n\n            # ç”Ÿæˆç¼©è¿›\n            local indent=\"\"\n            for ((i=1; i<level; i++)); do\n                indent=\"    $indent\"\n            done\n\n            # æ·»åŠ ç›®å½•é¡¹\n            toc+=\"${indent}- [$title](#$anchor)\\n\"\n        fi\n    done < \"$doc_file\"\n\n    echo \"$toc\"\n}\n```\n\n### generate_document_with_toc()\n\n```bash\n#!/usr/bin/env bash\n# åœ¨æ–‡æ¡£å¼€å¤´æ’å…¥è‡ªåŠ¨ç”Ÿæˆçš„ç›®å½•\n# ç”¨æ³•: generate_document_with_toc <document_file>\n# æ•ˆæœ: åœ¨æ–‡æ¡£ç¬¬ä¸€ä¸ª ## æ ‡é¢˜å‰æ’å…¥ç›®å½•\n\ngenerate_document_with_toc() {\n    local doc_file=$1\n\n    if [ ! -f \"$doc_file\" ]; then\n        echo \"âš ï¸ æ–‡æ¡£ä¸å­˜åœ¨: $doc_file\" >&2\n        return 1\n    fi\n\n    echo \"ğŸ“ æ’å…¥ç›®å½•åˆ°æ–‡æ¡£: $doc_file\" >&2\n\n    # ç”Ÿæˆç›®å½•\n    local toc=$(generate_table_of_contents \"$doc_file\")\n\n    # æŸ¥æ‰¾ç¬¬ä¸€ä¸ª ## æ ‡é¢˜çš„è¡Œå·\n    local first_heading=$(grep -n \"^##\" \"$doc_file\" | cut -d: -f1 | head -n 1)\n\n    if [ -z \"$first_heading\" ]; then\n        echo \"âš ï¸ æœªæ‰¾åˆ°äºŒçº§æ ‡é¢˜ï¼Œç›®å½•å°†æ’å…¥åˆ°æ–‡ä»¶æœ«å°¾\" >&2\n        first_heading=$(wc -l < \"$doc_file\")\n    fi\n\n    # åœ¨è¯¥è¡Œå‰æ’å…¥ç›®å½•\n    local temp_file=\"${doc_file}.tmp\"\n\n    head -n $((first_heading - 1)) \"$doc_file\" > \"$temp_file\"\n\n    cat >> \"$temp_file\" <<EOF\n\n## ç›®å½•\n\n$toc\n\n---\n\nEOF\n\n    tail -n +$first_heading \"$doc_file\" >> \"$temp_file\"\n\n    # æ›¿æ¢åŸæ–‡ä»¶\n    mv \"$temp_file\" \"$doc_file\"\n\n    echo \"âœ… ç›®å½•å·²æ’å…¥: $doc_file\" >&2\n}\n```\n\n---\n\n## é”šç‚¹é“¾æ¥ç”Ÿæˆ\n\n### generate_anchor_links()\n\n```bash\n#!/usr/bin/env bash\n# ä¸ºæ–‡æ¡£ä¸­çš„æ‰€æœ‰æ ‡é¢˜ç”Ÿæˆé”šç‚¹é“¾æ¥\n# ç”¨æ³•: generate_anchor_links <document_file>\n# æ•ˆæœ: ä¸ºæ¯ä¸ªæ ‡é¢˜æ·»åŠ  id=\"anchor\" å±æ€§ï¼ˆHTMLï¼‰æˆ–éšå¼é”šç‚¹ï¼ˆMarkdownï¼‰\n\ngenerate_anchor_links() {\n    local doc_file=$1\n\n    if [ ! -f \"$doc_file\" ]; then\n        echo \"âš ï¸ æ–‡æ¡£ä¸å­˜åœ¨: $doc_file\" >&2\n        return 1\n    fi\n\n    echo \"âš“ ç”Ÿæˆé”šç‚¹é“¾æ¥: $doc_file\" >&2\n\n    local temp_file=\"${doc_file}.tmp\"\n    local anchor_map=\"\"\n\n    # ç¬¬ä¸€æ¬¡éå†ï¼šæ”¶é›†æ‰€æœ‰æ ‡é¢˜å’Œé”šç‚¹\n    while IFS= read -r line; do\n        if [[ \"$line\" =~ ^(#{1,4})\\s+(.+)$ ]]; then\n            local title=\"${BASH_REMATCH[2]}\"\n            local anchor=$(echo \"$title\" | sed 's/[^a-zA-Z0-9\\u4e00-\\u9fa5 ]//g' | tr '[:upper:]' '[:lower:]' | tr ' ' '-' | sed 's/-\\+/-/g' | sed 's/^-*\\|-*$//g')\n            anchor_map+=\"$title|$anchor\\n\"\n        fi\n    done < \"$doc_file\"\n\n    # ç¬¬äºŒæ¬¡éå†ï¼šè¾“å‡ºæ ‡é¢˜ï¼ˆMarkdown ä¼šè‡ªåŠ¨ç”Ÿæˆé”šç‚¹ï¼‰\n    cp \"$doc_file\" \"$temp_file\"\n\n    mv \"$temp_file\" \"$doc_file\"\n\n    echo \"âœ… é”šç‚¹é“¾æ¥å·²ç”Ÿæˆ: $doc_file\" >&2\n\n    # è¾“å‡ºé”šç‚¹æ˜ å°„ï¼ˆç”¨äºè°ƒè¯•ï¼‰\n    echo -e \"$anchor_map\" >&2\n}\n```\n\n### generate_section_links()\n\n```bash\n#!/usr/bin/env bash\n# ä¸ºç‰¹å®šç« èŠ‚ç”Ÿæˆå¯ç‚¹å‡»çš„é”šç‚¹é“¾æ¥\n# ç”¨æ³•: generate_section_links <document_file> <section_title>\n# è¾“å‡º: Markdown æ ¼å¼çš„é”šç‚¹é“¾æ¥\n\ngenerate_section_links() {\n    local doc_file=$1\n    local section_title=$2\n\n    if [ ! -f \"$doc_file\" ]; then\n        echo \"âš ï¸ æ–‡æ¡£ä¸å­˜åœ¨: $doc_file\" >&2\n        return 1\n    fi\n\n    # ç”Ÿæˆé”šç‚¹\n    local anchor=$(echo \"$section_title\" | sed 's/[^a-zA-Z0-9\\u4e00-\\u9fa5 ]//g' | tr '[:upper:]' '[:lower:]' | tr ' ' '-' | sed 's/-\\+/-/g' | sed 's/^-*\\|-*$//g')\n\n    # ç”Ÿæˆç›¸å¯¹é“¾æ¥\n    local doc_name=$(basename \"$doc_file\" .md)\n    echo \"[$section_title](./$doc_name.md#$anchor)\"\n}\n```\n\n---\n\n## äº¤å‰å¼•ç”¨å¢å¼º\n\n### generate_smart_cross_references()\n\n```bash\n#!/usr/bin/env bash\n# æ™ºèƒ½ç”Ÿæˆäº¤å‰å¼•ç”¨ï¼ˆæ£€æµ‹æ–‡æ¡£ä¸­çš„æœ¯è¯­å¹¶è‡ªåŠ¨é“¾æ¥ï¼‰\n# ç”¨æ³•: generate_smart_cross_references <output_dir> <documents_list>\n# åŠŸèƒ½:\n#   1. æ£€æµ‹æ–‡æ¡£ä¸­çš„ API ç«¯ç‚¹ã€æ¨¡å—åã€å‡½æ•°å\n#   2. è‡ªåŠ¨é“¾æ¥åˆ°å¯¹åº”æ–‡æ¡£\n#   3. é¿å…é‡å¤é“¾æ¥å’Œå¾ªç¯å¼•ç”¨\n\ngenerate_smart_cross_references() {\n    local output_dir=$1\n    shift\n    local documents=(\"$@\")\n\n    echo \"ğŸ”— æ™ºèƒ½ç”Ÿæˆäº¤å‰å¼•ç”¨...\" >&2\n\n    # 1. æ„å»ºæœ¯è¯­ç´¢å¼•\n    local term_index=$(build_term_index \"${documents[@]}\")\n\n    # 2. ä¸ºæ¯ä¸ªæ–‡æ¡£æ·»åŠ äº¤å‰å¼•ç”¨\n    for doc in \"${documents[@]}\"; do\n        if [ ! -f \"$doc\" ]; then\n            continue\n        fi\n\n        local doc_content=$(cat \"$doc\")\n        local updated_content=\"$doc_content\"\n        local doc_basename=$(basename \"$doc\" .md)\n\n        # éå†æœ¯è¯­ç´¢å¼•\n        while IFS='|' read -r term target_doc; do\n            # è·³è¿‡å½“å‰æ–‡æ¡£çš„è‡ªå¼•ç”¨\n            if [ \"$target_doc\" = \"$doc_basename\" ]; then\n                continue\n            fi\n\n            # æ£€æŸ¥æœ¯è¯­æ˜¯å¦åœ¨æ–‡æ¡£ä¸­\n            if echo \"$updated_content\" | grep -q \"$term\"; then\n                # æ£€æŸ¥æ˜¯å¦å·²ç»æœ‰é“¾æ¥\n                if ! echo \"$updated_content\" | grep -q \"\\[$term\\]\"; then\n                    # æ·»åŠ é“¾æ¥ï¼ˆåªåœ¨ç¬¬ä¸€æ¬¡å‡ºç°æ—¶ï¼‰\n                    updated_content=$(echo \"$updated_content\" | sed \"0,/$term/s//$term/\")\n\n                    # å¦‚æœè¡Œä¸­æœ‰å…¶ä»–é“¾æ¥ï¼Œåˆ™è·³è¿‡\n                    if ! echo \"$updated_content\" | grep -q \".*\\[.*\\](.*)$term\"; then\n                        updated_content=$(echo \"$updated_content\" | sed \"0,/$term/s/\\\\($term\\\\)/[$term](.\\\\/$target_doc.md)/\")\n                    fi\n                fi\n            fi\n        done <<< \"$term_index\"\n\n        # å¦‚æœå†…å®¹æœ‰æ›´æ–°ï¼Œå†™å›æ–‡ä»¶\n        if [ \"$updated_content\" != \"$doc_content\" ]; then\n            echo \"$updated_content\" > \"$doc\"\n            echo \"  âœ… æ›´æ–°äº¤å‰å¼•ç”¨: $doc\" >&2\n        fi\n    done\n\n    echo \"âœ… äº¤å‰å¼•ç”¨ç”Ÿæˆå®Œæˆ\" >&2\n}\n\n# æ„å»ºæœ¯è¯­ç´¢å¼•\nbuild_term_index() {\n    local documents=(\"$@\")\n\n    for doc in \"${documents[@]}\"; do\n        if [ ! -f \"$doc\" ]; then\n            continue\n        fi\n\n        local doc_name=$(basename \"$doc\" .md)\n        local doc_title=$(get_document_title \"$doc\")\n\n        # æ·»åŠ æ–‡æ¡£æ ‡é¢˜ä½œä¸ºæœ¯è¯­\n        echo \"$doc_title|$doc_name\"\n\n        # æå– API ç«¯ç‚¹ï¼ˆå¦‚æœæ˜¯ API æ–‡æ¡£ï¼‰\n        if [[ \"$doc_name\" =~ api|endpoint ]]; then\n            local endpoints=$(grep -oE '\\`(GET|POST|PUT|DELETE|PATCH) [^`]+\\`' \"$doc\" | sed 's/`//g')\n            while IFS= read -r endpoint; do\n                echo \"$endpoint|$doc_name\"\n            done <<< \"$endpoints\"\n        fi\n\n        # æå–æ¨¡å—åï¼ˆå¦‚æœæ˜¯æ¨¡å—æ–‡æ¡£ï¼‰\n        if [[ \"$doc_name\" =~ module ]]; then\n            local modules=$(grep -oE '^### .+æ¨¡å—' \"$doc\" | sed 's/### //' | sed 's/æ¨¡å—//')\n            while IFS= read -r module; do\n                echo \"$module|$doc_name\"\n            done <<< \"$modules\"\n        fi\n    done\n}\n```\n\n---\n\n## å›¾è¡¨å’Œä»£ç å—ç´¢å¼•\n\n### generate_diagram_index()\n\n```bash\n#!/usr/bin/env bash\n# ç”Ÿæˆæ–‡æ¡£ä¸­æ‰€æœ‰ Mermaid å›¾è¡¨çš„ç´¢å¼•\n# ç”¨æ³•: generate_diagram_index <output_dir> <documents_list>\n# è¾“å‡º: diagrams.md æ–‡æ¡£\n\ngenerate_diagram_index() {\n    local output_dir=$1\n    shift\n    local documents=(\"$@\")\n\n    local diagram_index=\"$output_dir/diagrams.md\"\n\n    cat > \"$diagram_index\" <<'EOF'\n# æ–‡æ¡£å›¾è¡¨ç´¢å¼•\n\næ‰€æœ‰æ–‡æ¡£ä¸­çš„ Mermaid å›¾è¡¨ã€‚\n\n---\n\nEOF\n\n    echo \"ğŸ“Š ç”Ÿæˆå›¾è¡¨ç´¢å¼•...\" >&2\n\n    local diagram_count=0\n\n    for doc in \"${documents[@]}\"; do\n        if [ ! -f \"$doc\" ]; then\n            continue\n        fi\n\n        local doc_name=$(basename \"$doc\" .md)\n        local doc_title=$(get_document_title \"$doc\")\n        local doc_path=$(realpath --relative-to=\"$output_dir\" \"$doc\")\n\n        # æå– Mermaid å›¾è¡¨\n        local diagrams=$(grep -A 20 '```mermaid' \"$doc\" | grep -c '```mermaid' || echo \"0\")\n\n        if [ \"$diagrams\" -gt 0 ]; then\n            diagram_count=$((diagram_count + diagrams))\n\n            echo \"## [$doc_title](./$doc_path)\" >> \"$diagram_index\"\n            echo \"\" >> \"$diagram_index\"\n            echo \"**å›¾è¡¨æ•°é‡**: $diagrams\" >> \"$diagram_index\"\n            echo \"\" >> \"$diagram_index\"\n\n            # æå–å›¾è¡¨ç±»å‹\n            local diagram_types=$(grep -A 1 '```mermaid' \"$doc\" | grep -v '```mermaid' | grep -v '^\\s*$' | cut -d' ' -f1 | sort | uniq)\n\n            echo \"**å›¾è¡¨ç±»å‹**:\" >> \"$diagram_index\"\n            echo \"$diagram_types\" | while read -r type; do\n                if [ -n \"$type\" ]; then\n                    echo \"- \\`$type\\`\" >> \"$diagram_index\"\n                fi\n            done\n\n            echo \"\" >> \"$diagram_index\"\n            echo \"---\" >> \"$diagram_index\"\n            echo \"\" >> \"$diagram_index\"\n        fi\n    done\n\n    echo \"\" >> \"$diagram_index\"\n    echo \"**æ€»è®¡**: $diagram_count ä¸ªå›¾è¡¨\" >> \"$diagram_index\"\n\n    echo \"âœ… å›¾è¡¨ç´¢å¼•å·²ç”Ÿæˆ: $diagram_index ($diagram_count ä¸ªå›¾è¡¨)\" >&2\n}\n```\n\n### generate_code_example_index()\n\n```bash\n#!/usr/bin/env bash\n# ç”Ÿæˆæ–‡æ¡£ä¸­æ‰€æœ‰ä»£ç ç¤ºä¾‹çš„ç´¢å¼•\n# ç”¨æ³•: generate_code_example_index <output_dir> <documents_list>\n# è¾“å‡º: code-examples.md æ–‡æ¡£\n\ngenerate_code_example_index() {\n    local output_dir=$1\n    shift\n    local documents=(\"$@\")\n\n    local example_index=\"$output_dir/code-examples.md\"\n\n    cat > \"$example_index\" <<'EOF'\n# ä»£ç ç¤ºä¾‹ç´¢å¼•\n\næ–‡æ¡£ä¸­çš„æ‰€æœ‰ä»£ç ç¤ºä¾‹ã€‚\n\n---\n\n## è¯­è¨€åˆ†å¸ƒ\n\nEOF\n\n    echo \"ğŸ’» ç”Ÿæˆä»£ç ç¤ºä¾‹ç´¢å¼•...\" >&2\n\n    # ç»Ÿè®¡å„è¯­è¨€ä»£ç å—æ•°é‡\n    declare -A lang_counts\n\n    for doc in \"${documents[@]}\"; do\n        if [ ! -f \"$doc\" ]; then\n            continue\n        fi\n\n        # æå–ä»£ç å—è¯­è¨€æ ‡è¯†\n        local langs=$(grep -oE '^```[a-z]+' \"$doc\" | sed 's/^```//' | sort | uniq)\n\n        while IFS= read -r lang; do\n            if [ -n \"$lang\" ]; then\n                lang_counts[$lang]=$((${lang_counts[$lang]:-0} + $(grep -c \"^```$lang\" \"$doc\")))\n            fi\n        done <<< \"$langs\"\n    done\n\n    # è¾“å‡ºè¯­è¨€åˆ†å¸ƒè¡¨æ ¼\n    echo \"| è¯­è¨€ | ç¤ºä¾‹æ•°é‡ |\" >> \"$example_index\"\n    echo \"|------|----------|\" >> \"$example_index\"\n\n    for lang in \"${!lang_counts[@]}\"; do\n        echo \"| $lang | ${lang_counts[$lang]} |\" >> \"$example_index\"\n    done\n\n    echo \"\" >> \"$example_index\"\n    echo \"---\" >> \"$example_index\"\n    echo \"\" >> \"$example_index\"\n    echo \"## æŒ‰æ–‡æ¡£æµè§ˆ\" >> \"$example_index\"\n    echo \"\" >> \"$example_index\"\n\n    # æŒ‰æ–‡æ¡£åˆ—å‡ºä»£ç ç¤ºä¾‹\n    for doc in \"${documents[@]}\"; do\n        if [ ! -f \"$doc\" ]; then\n            continue\n        fi\n\n        local doc_name=$(basename \"$doc\" .md)\n        local doc_title=$(get_document_title \"$doc\")\n        local doc_path=$(realpath --relative-to=\"$output_dir\" \"$doc\")\n\n        # ç»Ÿè®¡è¯¥æ–‡æ¡£çš„ä»£ç å—æ•°é‡\n        local code_blocks=$(grep -c '^```' \"$doc\" || echo \"0\")\n\n        if [ \"$code_blocks\" -gt 0 ]; then\n            echo \"### [$doc_title](./$doc_path)\" >> \"$example_index\"\n            echo \"\" >> \"$example_index\"\n            echo \"**ä»£ç ç¤ºä¾‹**: $code_blocks ä¸ªä»£ç å—\" >> \"$example_index\"\n            echo \"\" >> \"$example_index\"\n        fi\n    done\n\n    echo \"âœ… ä»£ç ç¤ºä¾‹ç´¢å¼•å·²ç”Ÿæˆ: $example_index\" >&2\n}\n```\n\n---\n\n## æ–‡æ¡£å¯¼èˆªç”Ÿæˆ\n\n### generate_breadcrumb_nav()\n\n```bash\n#!/usr/bin/env bash\n# ä¸ºæ–‡æ¡£ç”Ÿæˆé¢åŒ…å±‘å¯¼èˆª\n# ç”¨æ³•: generate_breadcrumb_nav <document_file> <output_dir>\n# æ•ˆæœ: åœ¨æ–‡æ¡£é¡¶éƒ¨æ·»åŠ  [é¦–é¡µ] > [åˆ†ç±»] > [å½“å‰æ–‡æ¡£]\n\ngenerate_breadcrumb_nav() {\n    local doc_file=$1\n    local output_dir=$2\n\n    if [ ! -f \"$doc_file\" ]; then\n        echo \"âš ï¸ æ–‡æ¡£ä¸å­˜åœ¨: $doc_file\" >&2\n        return 1\n    fi\n\n    echo \"ğŸ ç”Ÿæˆé¢åŒ…å±‘å¯¼èˆª: $doc_file\" >&2\n\n    local doc_name=$(basename \"$doc_file\" .md)\n    local doc_group=$(get_document_group \"$doc_file\")\n    local doc_title=$(get_document_title \"$doc_file\")\n\n    # ç”Ÿæˆé¢åŒ…å±‘\n    local breadcrumb=\"[é¦–é¡µ](./README.md) > [$doc_group](./README.md#$doc_group) > **$doc_title**\"\n\n    # åœ¨æ–‡æ¡£å¼€å¤´æ’å…¥é¢åŒ…å±‘ï¼ˆåœ¨ç¬¬ä¸€ä¸ªæ ‡é¢˜å‰ï¼‰\n    local temp_file=\"${doc_file}.tmp\"\n\n    # æŸ¥æ‰¾ç¬¬ä¸€ä¸ªæ ‡é¢˜è¡Œ\n    local first_title=$(grep -n \"^#\" \"$doc_file\" | cut -d: -f1 | head -n 1)\n\n    if [ -z \"$first_title\" ]; then\n        first_title=1\n    fi\n\n    # è¾“å‡ºé¢åŒ…å±‘å’Œæ–‡æ¡£å†…å®¹\n    {\n        head -n $((first_title - 1)) \"$doc_file\"\n        echo \"\"\n        echo \"> $breadcrumb\"\n        echo \"\"\n        tail -n +$first_title \"$doc_file\"\n    } > \"$temp_file\"\n\n    mv \"$temp_file\" \"$doc_file\"\n\n    echo \"âœ… é¢åŒ…å±‘å¯¼èˆªå·²æ·»åŠ : $doc_file\" >&2\n}\n```\n\n---\n\n**ç‰ˆæœ¬**: 2.0.0\n**æœ€åæ›´æ–°**: 2026-01-05\n**å˜æ›´æ—¥å¿—**:\n- v2.0.0: æ·»åŠ å¤šçº§ç›®å½•ç”Ÿæˆã€é”šç‚¹é“¾æ¥ç”Ÿæˆã€äº¤å‰å¼•ç”¨å¢å¼ºã€å›¾è¡¨ç´¢å¼•ã€ä»£ç ç¤ºä¾‹ç´¢å¼•ã€é¢åŒ…å±‘å¯¼èˆª\n- v1.0.0: åˆå§‹ç‰ˆæœ¬ï¼Œæ”¯æŒåŸºæœ¬æ–‡æ¡£ç´¢å¼•å’Œäº¤å‰å¼•ç”¨\n",
        "plugins/skills/doc-generator/module_scanning.md": "# ä¸šåŠ¡æ¨¡å—æ‰«æ Skill\n\n**åŠŸèƒ½**: è‡ªåŠ¨è¯†åˆ«é¡¹ç›®çš„ä¸šåŠ¡æ¨¡å—ï¼ˆæœåŠ¡å±‚ã€é¡µé¢å±‚ã€API å±‚ã€æ¨¡å‹å±‚ï¼‰\n\n**æ‰«ææ–¹æ³•**: ä½¿ç”¨ `find` æ‰«æå¸¸è§ç›®å½•ç»“æ„ï¼Œç»Ÿè®¡æ–‡ä»¶æ•°é‡å’Œä»£ç è¡Œæ•°\n\n**æ€§èƒ½ç›®æ ‡**: è¯†åˆ«æ—¶é—´ < 30 ç§’ï¼ˆå¤§å‹é¡¹ç›®ï¼‰\n\n**æ–‡ä»¶ç»Ÿè®¡èŒƒå›´**: åªç»Ÿè®¡æºä»£ç æ–‡ä»¶ï¼ˆ.py, .js, .tsx, .ts, .jsxï¼‰ï¼Œæ’é™¤ test/ã€tests/ã€__pycache__/ ç­‰\n\n---\n\n## æ ¸å¿ƒæ‰«æå‡½æ•°\n\n### identify_business_modules()\n\n```bash\n#!/usr/bin/env bash\n# ä¸šåŠ¡æ¨¡å—è¯†åˆ«ä¸»å‡½æ•°\n# ç”¨æ³•: identify_business_modules <project_dir>\n\nidentify_business_modules() {\n    local project_dir=$1\n    local modules=()\n\n    # 1. æœåŠ¡å±‚è¯†åˆ«\n    modules+=($(identify_service_modules \"$project_dir\"))\n\n    # 2. é¡µé¢å±‚è¯†åˆ«\n    modules+=($(identify_page_modules \"$project_dir\"))\n\n    # 3. API è·¯ç”±è¯†åˆ«\n    modules+=($(identify_api_modules \"$project_dir\"))\n\n    # 4. æ¨¡å‹å±‚è¯†åˆ«\n    modules+=($(identify_model_modules \"$project_dir\"))\n\n    echo \"${modules[@]}\"\n}\n```\n\n---\n\n## 1. æœåŠ¡å±‚è¯†åˆ«\n\n**æ‰«æè·¯å¾„ä¼˜å…ˆçº§**ï¼š\n1. `src/services/`\n2. `app/services/`\n3. `services/`ï¼ˆæ ¹ç›®å½•ï¼‰\n\n```bash\nidentify_service_modules() {\n    local project_dir=$1\n    local service_modules=()\n    local scan_paths=(\"src/services\" \"app/services\" \"services\")\n\n    for path in \"${scan_paths[@]}\"; do\n        local full_path=\"$project_dir/$path\"\n\n        if [ -d \"$full_path\" ]; then\n            echo \"ğŸ“‚ æ‰«ææœåŠ¡å±‚: $path\" >&2\n\n            # æŸ¥æ‰¾æ‰€æœ‰å­ç›®å½•ï¼ˆæ¯ä¸ªå­ç›®å½•è§†ä¸ºä¸€ä¸ªç‹¬ç«‹æ¨¡å—ï¼‰\n            while IFS= read -r -d '' module_dir; do\n                local module_name=$(basename \"$module_dir\")\n                local file_count=$(count_source_files \"$module_dir\")\n\n                # åªåŒ…å«æœ‰æºä»£ç æ–‡ä»¶çš„æ¨¡å—\n                if [ \"$file_count\" -gt 0 ]; then\n                    service_modules+=(\"$path|$module_name|$file_count|$module_dir\")\n                fi\n            done < <(find \"$full_path\" -mindepth 1 -maxdepth 1 -type d -print0)\n\n            break  # æ‰¾åˆ°ç¬¬ä¸€ä¸ªå­˜åœ¨çš„è·¯å¾„ååœæ­¢\n        fi\n    done\n\n    echo \"${service_modules[@]}\"\n}\n```\n\n---\n\n## 2. é¡µé¢å±‚è¯†åˆ«\n\n**æ‰«æè·¯å¾„ä¼˜å…ˆçº§**ï¼š\n1. `pages/`\n2. `app/pages/`\n3. `src/pages/`\n\n```bash\nidentify_page_modules() {\n    local project_dir=$1\n    local page_modules=()\n    local scan_paths=(\"pages\" \"app/pages\" \"src/pages\")\n\n    for path in \"${scan_paths[@]}\"; do\n        local full_path=\"$project_dir/$path\"\n\n        if [ -d \"$full_path\" ]; then\n            echo \"ğŸ“„ æ‰«æé¡µé¢å±‚: $path\" >&2\n\n            while IFS= read -r -d '' module_dir; do\n                local module_name=$(basename \"$module_dir\")\n                local file_count=$(count_source_files \"$module_dir\")\n\n                if [ \"$file_count\" -gt 0 ]; then\n                    page_modules+=(\"$path|$module_name|$file_count|$module_dir\")\n                fi\n            done < <(find \"$full_path\" -mindepth 1 -maxdepth 1 -type d -print0)\n\n            break\n        fi\n    done\n\n    echo \"${page_modules[@]}\"\n}\n```\n\n---\n\n## 3. API è·¯ç”±è¯†åˆ«\n\n**æ‰«æè·¯å¾„ä¼˜å…ˆçº§**ï¼š\n1. `api/`\n2. `routers/`\n3. `app/views/`ï¼ˆDjangoï¼‰\n4. `src/api/`\n\n```bash\nidentify_api_modules() {\n    local project_dir=$1\n    local api_modules=()\n    local scan_paths=(\"api\" \"routers\" \"app/views\" \"src/api\")\n\n    for path in \"${scan_paths[@]}\"; do\n        local full_path=\"$project_dir/$path\"\n\n        if [ -d \"$full_path\" ]; then\n            echo \"ğŸŒ æ‰«æ API å±‚: $path\" >&2\n\n            while IFS= read -r -d '' module_dir; do\n                local module_name=$(basename \"$module_dir\")\n                local file_count=$(count_source_files \"$module_dir\")\n\n                if [ \"$file_count\" -gt 0 ]; then\n                    api_modules+=(\"$path|$module_name|$file_count|$module_dir\")\n                fi\n            done < <(find \"$full_path\" -mindepth 1 -maxdepth 1 -type d -print0)\n\n            break\n        fi\n    done\n\n    echo \"${api_modules[@]}\"\n}\n```\n\n---\n\n## 4. æ¨¡å‹å±‚è¯†åˆ«\n\n**æ‰«æè·¯å¾„ä¼˜å…ˆçº§**ï¼š\n1. `src/models/`\n2. `app/models/`\n3. `models/`\n\n```bash\nidentify_model_modules() {\n    local project_dir=$1\n    local model_modules=()\n    local scan_paths=(\"src/models\" \"app/models\" \"models\")\n\n    for path in \"${scan_paths[@]}\"; do\n        local full_path=\"$project_dir/$path\"\n\n        if [ -d \"$full_path\" ]; then\n            echo \"ğŸ—„ï¸ æ‰«ææ¨¡å‹å±‚: $path\" >&2\n\n            while IFS= read -r -d '' module_dir; do\n                local module_name=$(basename \"$module_dir\")\n                local file_count=$(count_source_files \"$module_dir\")\n\n                if [ \"$file_count\" -gt 0 ]; then\n                    model_modules+=(\"$path|$module_name|$file_count|$module_dir\")\n                fi\n            done < <(find \"$full_path\" -mindepth 1 -maxdepth 1 -type d -print0)\n\n            break\n        fi\n    done\n\n    echo \"${model_modules[@]}\"\n}\n```\n\n---\n\n## æ–‡ä»¶ç»Ÿè®¡å‡½æ•°\n\n**åªç»Ÿè®¡æºä»£ç æ–‡ä»¶**ï¼Œæ’é™¤ï¼š\n- æµ‹è¯•æ–‡ä»¶ï¼š`test/`ã€`tests/`ã€`test_*.py`ã€`*_test.py`\n- ç¼“å­˜ç›®å½•ï¼š`__pycache__/`ã€`.pytest_cache/`\n- é…ç½®æ–‡ä»¶ï¼š`*.ini`ã€`*.cfg`ã€`*.conf`\n- æ„å»ºæ–‡ä»¶ï¼š`dist/`ã€`build/`ã€`*.egg-info/`\n\n```bash\n# ç»Ÿè®¡æºä»£ç æ–‡ä»¶æ•°é‡\ncount_source_files() {\n    local module_dir=$1\n    local count=0\n\n    # ç»Ÿè®¡ Pythonã€JavaScriptã€TypeScript æ–‡ä»¶\n    count=$(find \"$module_dir\" -type f \\\n        \\( -name \"*.py\" -o -name \"*.js\" -o -name \"*.jsx\" -o -name \"*.ts\" -o -name \"*.tsx\" \\) \\\n        ! -path \"*/test/*\" \\\n        ! -path \"*/tests/*\" \\\n        ! -path \"*/__pycache__/*\" \\\n        ! -path \"*/.pytest_cache/*\" \\\n        ! -path \"*/node_modules/*\" \\\n        ! -path \"*/dist/*\" \\\n        ! -path \"*/build/*\" \\\n        ! -name \"test_*.py\" \\\n        ! -name \"*_test.py\" \\\n        ! -name \"test_*.js\" \\\n        ! -name \"*_test.js\" \\\n        ! -name \"*.test.ts\" \\\n        ! -name \"*.test.tsx\" \\\n        | wc -l)\n\n    echo \"$count\"\n}\n\n# ç»Ÿè®¡ä»£ç è¡Œæ•°\ncount_lines() {\n    local module_dir=$1\n    local lines=0\n\n    lines=$(find \"$module_dir\" -type f \\\n        \\( -name \"*.py\" -o -name \"*.js\" -o -name \"*.jsx\" -o -name \"*.ts\" -o -name \"*.tsx\" \\) \\\n        ! -path \"*/test/*\" \\\n        ! -path \"*/tests/*\" \\\n        ! -path \"*/__pycache__/*\" \\\n        ! -path \"*/node_modules/*\" \\\n        ! -name \"test_*.py\" \\\n        ! -name \"*_test.py\" \\\n        -exec cat {} \\; \\\n        | wc -l)\n\n    echo \"$lines\"\n}\n\n# ç»Ÿè®¡ä¾èµ–å¤æ‚åº¦ï¼ˆå¯¼å…¥è¯­å¥æ•°é‡ï¼‰\ncount_dependencies() {\n    local module_dir=$1\n    local deps=0\n\n    deps=$(find \"$module_dir\" -name \"*.py\" \\\n        ! -path \"*/test/*\" \\\n        ! -path \"*/tests/*\" \\\n        ! -path \"*/__pycache__/*\" \\\n        -exec grep -h \"^import\\|^from\" {} \\; \\\n        | sort -u \\\n        | wc -l)\n\n    echo \"$deps\"\n}\n```\n\n---\n\n## æ¨¡å—è§„æ¨¡è¯„ä¼°\n\næ ¹æ®æ–‡ä»¶æ•°é‡ã€ä»£ç è¡Œæ•°ã€ä¾èµ–å¤æ‚åº¦è®¡ç®—æ¨¡å—è§„æ¨¡ã€‚\n\n**è§„æ¨¡åˆ†çº§**ï¼š\n- å°å‹æ¨¡å—ï¼š1-4 æ–‡ä»¶ï¼ˆ1 å±‚æ–‡æ¡£ï¼‰\n- ä¸­å‹æ¨¡å—ï¼š5-20 æ–‡ä»¶ï¼ˆ2 å±‚æ–‡æ¡£ï¼‰\n- å¤§å‹æ¨¡å—ï¼š21-50 æ–‡ä»¶ï¼ˆ3 å±‚æ–‡æ¡£ï¼‰\n- è¶…å¤§å‹æ¨¡å—ï¼š>50 æ–‡ä»¶ï¼ˆ4 å±‚æ–‡æ¡£ï¼‰\n\n```bash\ncalculate_module_scale() {\n    local module_dir=$1\n    local file_count=$(count_source_files \"$module_dir\")\n    local line_count=$(count_lines \"$module_dir\")\n    local dep_count=$(count_dependencies \"$module_dir\")\n\n    # åŠ æƒè¯„åˆ†\n    # æ–‡ä»¶æ•°é‡æƒé‡ 60%ï¼Œä»£ç è¡Œæ•°æƒé‡ 30%ï¼Œä¾èµ–å¤æ‚åº¦æƒé‡ 10%\n    local score=$((file_count * 10 + line_count / 100 * 3 + dep_count * 2))\n\n    local scale=\"\"\n    local depth=0\n\n    if [ \"$file_count\" -le 4 ]; then\n        scale=\"small\"\n        depth=1\n    elif [ \"$file_count\" -le 20 ]; then\n        scale=\"medium\"\n        depth=2\n    elif [ \"$file_count\" -le 50 ]; then\n        scale=\"large\"\n        depth=3\n    else\n        scale=\"xlarge\"\n        depth=4\n    fi\n\n    echo \"$scale|$depth|$file_count|$line_count|$dep_count|$score\"\n}\n```\n\n---\n\n## æ¨¡å—ä¿¡æ¯è¾“å‡ºæ ¼å¼\n\n**è¿”å›æ ¼å¼**ï¼š`<è·¯å¾„>|<æ¨¡å—å>|<æ–‡ä»¶æ•°>|<æ¨¡å—ç›®å½•>|<è§„æ¨¡>|<æ–‡æ¡£æ·±åº¦>`\n\n```bash\n# ç¤ºä¾‹ï¼šè·å–æ‰€æœ‰æ¨¡å—çš„å®Œæ•´ä¿¡æ¯\nget_all_modules_info() {\n    local project_dir=$1\n    local modules=()\n\n    # è·å–æ‰€æœ‰æ¨¡å—\n    while IFS=' ' read -ra module_array; do\n        for module in \"${module_array[@]}\"; do\n            local path=$(echo \"$module\" | cut -d'|' -f1)\n            local name=$(echo \"$module\" | cut -d'|' -f2)\n            local file_count=$(echo \"$module\" | cut -d'|' -f3)\n            local dir=$(echo \"$module\" | cut -d'|' -f4)\n\n            # è®¡ç®—æ¨¡å—è§„æ¨¡\n            local scale_info=$(calculate_module_scale \"$dir\")\n            local scale=$(echo \"$scale_info\" | cut -d'|' -f1)\n            local depth=$(echo \"$scale_info\" | cut -d'|' -f2)\n\n            modules+=(\"$path|$name|$file_count|$dir|$scale|$depth\")\n        done\n    done < <(identify_business_modules \"$project_dir\")\n\n    echo \"${modules[@]}\"\n}\n```\n\n---\n\n## ä½¿ç”¨ç¤ºä¾‹\n\n```bash\n# è¯†åˆ«é¡¹ç›®çš„æ‰€æœ‰ä¸šåŠ¡æ¨¡å—\nproject_dir=\"/path/to/project\"\nmodules=($(identify_business_modules \"$project_dir\"))\n\necho \"å‘ç°çš„ä¸šåŠ¡æ¨¡å—:\"\nfor module in \"${modules[@]}\"; do\n    IFS='|' read -r path name file_count dir <<< \"$module\"\n    echo \"  - $name ($path): $file_count ä¸ªæ–‡ä»¶\"\ndone\n```\n\n**è¾“å‡ºç¤ºä¾‹**ï¼š\n\n```\nå‘ç°çš„ä¸šåŠ¡æ¨¡å—:\n  - user (src/services): 8 ä¸ªæ–‡ä»¶\n  - order (src/services): 12 ä¸ªæ–‡ä»¶\n  - product (src/models): 15 ä¸ªæ–‡ä»¶\n  - auth (api): 3 ä¸ªæ–‡ä»¶\n```\n\n---\n\n## è¾¹ç¼˜æƒ…å†µå¤„ç†\n\n### 1. ä¸è§„èŒƒç›®å½•ç»“æ„\n\nå¦‚æœæœåŠ¡å±‚ä»£ç æ··åœ¨æ ¹ç›®å½•ï¼ˆå¦‚ `user_service.py` ç›´æ¥åœ¨ `src/` ä¸‹ï¼‰ï¼š\n\n```bash\n# å¯å‘å¼æ‰«æï¼šé€šè¿‡æ–‡ä»¶åæ¨¡å¼è¯†åˆ«\nscan_service_files_in_root() {\n    local project_dir=$1\n    local src_dir=\"$project_dir/src\"\n\n    if [ ! -d \"$src_dir\" ]; then\n        return\n    fi\n\n    echo \"ğŸ” å¯å‘å¼æ‰«ææ ¹ç›®å½•æœåŠ¡æ–‡ä»¶...\" >&2\n\n    find \"$src_dir\" -maxdepth 1 -type f \\\n        \\( -name \"*_service.py\" -o -name \"*service.py\" \\) \\\n        ! -name \"test_*\" \\\n        -exec basename {} \\;\n}\n```\n\n### 2. ç©ºæ¨¡å—å¤„ç†\n\n```bash\n# è·³è¿‡æ²¡æœ‰æºä»£ç çš„æ¨¡å—\nif [ \"$file_count\" -eq 0 ]; then\n    echo \"âš ï¸ è·³è¿‡ç©ºæ¨¡å—: $module_name\" >&2\n    continue\nfi\n```\n\n### 3. è¶…å¤§é¡¹ç›®ä¼˜åŒ–\n\n```bash\n# é™åˆ¶æ‰«æçš„æœ€å¤§æ–‡ä»¶æ•°é‡ï¼ˆé¿å…æ€§èƒ½é—®é¢˜ï¼‰\nMAX_SCAN_FILES=1000\n\ntotal_files=$(find \"$project_dir\" -type f \\\n    \\( -name \"*.py\" -o -name \"*.js\" -o -name \"*.ts\" \\) \\\n    ! -path \"*/test/*\" \\\n    ! -path \"*/node_modules/*\" \\\n    | wc -l)\n\nif [ \"$total_files\" -gt \"$MAX_SCAN_FILES\" ]; then\n    echo \"âš ï¸ é¡¹ç›®æ–‡ä»¶æ•°é‡ ($total_files) è¶…è¿‡é™åˆ¶ ($MAX_SCAN_FILES)\" >&2\n    echo \"ğŸ’¡ å»ºè®®é…ç½®æ‰«æèŒƒå›´æˆ–è°ƒæ•´ MAX_SCAN_FILES\" >&2\nfi\n```\n\n---\n\n## Monorepo æ”¯æŒ\n\nMonorepo æ£€æµ‹é€»è¾‘åœ¨å•ç‹¬çš„ Skill ä¸­å®ç°ï¼ˆè§ `monorepo_detection.md`ï¼‰ã€‚\n\nå¦‚æœæ£€æµ‹åˆ° Monorepo ç»“æ„ï¼Œå°†ä¸ºæ¯ä¸ªå­é¡¹ç›®å•ç‹¬è°ƒç”¨ä¸šåŠ¡æ¨¡å—æ‰«æã€‚\n\n```bash\n# Monorepo é›†æˆç¤ºä¾‹\nif is_monorepo \"$project_dir\"; then\n    echo \"ğŸ“¦ æ£€æµ‹åˆ° Monorepo ç»“æ„\" >&2\n\n    # è·å–æ‰€æœ‰å­é¡¹ç›®\n    sub_projects=$(get_monorepo_sub_projects \"$project_dir\")\n\n    # ä¸ºæ¯ä¸ªå­é¡¹ç›®å•ç‹¬æ‰«æ\n    for sub_project in $sub_projects; do\n        echo \"ğŸ” æ‰«æå­é¡¹ç›®: $sub_project\" >&2\n        identify_business_modules \"$project_dir/$sub_project\"\n    done\nelse\n    # å•é¡¹ç›®æ‰«æ\n    identify_business_modules \"$project_dir\"\nfi\n```\n\n---\n\n**ç‰ˆæœ¬**: 1.0.0\n**æœ€åæ›´æ–°**: 2026-01-04\n",
        "plugins/skills/doc-generator/monorepo_detection.md": "# Monorepo æ£€æµ‹ Skill\n\n**åŠŸèƒ½**: è‡ªåŠ¨æ£€æµ‹ Monorepoï¼ˆå¤šåŒ…é¡¹ç›®ï¼‰ç»“æ„ï¼Œä¸ºæ¯ä¸ªå­é¡¹ç›®ç”Ÿæˆç‹¬ç«‹æ–‡æ¡£é›†\n\n**æ£€æµ‹æ–¹æ³•**: æ£€æŸ¥é…ç½®æ–‡ä»¶å’Œç›®å½•ç»“æ„\n\n---\n\n## æ ¸å¿ƒæ£€æµ‹å‡½æ•°\n\n### is_monorepo()\n\n```bash\n#!/usr/bin/env bash\n# Monorepo æ£€æµ‹ä¸»å‡½æ•°\n# ç”¨æ³•: is_monorepo <project_dir>\n# è¿”å›: 0 (true) æˆ– 1 (false)\n\nis_monorepo() {\n    local project_dir=$1\n\n    # æ£€æŸ¥é…ç½®æ–‡ä»¶\n    if [ -f \"$project_dir/pnpm-workspace.yaml\" ]; then\n        return 0  # pnpm workspace\n    fi\n\n    if [ -f \"$project_dir/nx.json\" ]; then\n        return 0  # Nx workspace\n    fi\n\n    if [ -f \"$project_dir/package.json\" ]; then\n        # æ£€æŸ¥æ˜¯å¦æœ‰ workspaces é…ç½®\n        if grep -q '\"workspaces\"' \"$project_dir/package.json\" 2>/dev/null; then\n            return 0  # Yarn/npm workspaces\n        fi\n    fi\n\n    # æ£€æŸ¥ç›®å½•ç»“æ„\n    if [ -d \"$project_dir/packages\" ] || [ -d \"$project_dir/apps\" ] || [ -d \"$project_dir/workspaces\" ]; then\n        # éªŒè¯ç›®å½•ä¸­ç¡®å®æœ‰å­é¡¹ç›®\n        if [ \"$(find \"$project_dir/packages\" -maxdepth 1 -type d 2>/dev/null | wc -l)\" -gt 1 ]; then\n            return 0\n        fi\n\n        if [ \"$(find \"$project_dir/apps\" -maxdepth 1 -type d 2>/dev/null | wc -l)\" -gt 1 ]; then\n            return 0\n        fi\n    fi\n\n    return 1  # ä¸æ˜¯ Monorepo\n}\n```\n\n---\n\n## è·å–å­é¡¹ç›®åˆ—è¡¨\n\n### get_monorepo_sub_projects()\n\n```bash\n# è·å– Monorepo ä¸­æ‰€æœ‰å­é¡¹ç›®çš„è·¯å¾„\n# ç”¨æ³•: get_monorepo_sub_projects <project_dir>\n# è¿”å›: å­é¡¹ç›®è·¯å¾„åˆ—è¡¨ï¼ˆç›¸å¯¹äºé¡¹ç›®æ ¹ç›®å½•ï¼‰\n\nget_monorepo_sub_projects() {\n    local project_dir=$1\n    local sub_projects=()\n\n    # 1. æ£€æŸ¥ pnpm-workspace.yaml\n    if [ -f \"$project_dir/pnpm-workspace.yaml\" ]; then\n        echo \"ğŸ“¦ æ£€æµ‹åˆ° pnpm workspace\" >&2\n\n        # ä»é…ç½®æ–‡ä»¶ä¸­æå– packages æ¨¡å¼\n        local patterns=$(grep \"^packages:\" \"$project_dir/pnpm-workspace.yaml\" -A 10 | grep \"^  -\" | sed 's/^  - //' | tr -d \"'\\\"\")\n\n        # æ ¹æ®æ¨¡å¼æŸ¥æ‰¾åŒ¹é…çš„ç›®å½•\n        for pattern in $patterns; do\n            # å°†é€šé…ç¬¦è½¬æ¢ä¸º find å‘½ä»¤\n            local glob_pattern=\"${pattern/\\*/*}\"\n\n            while IFS= read -r -d '' sub_dir; do\n                if [ -d \"$sub_dir\" ] && [ \"$(basename \"$sub_dir\")\" != \"node_modules\" ]; then\n                    # æ£€æŸ¥æ˜¯å¦æœ‰ package.json æˆ– pyproject.toml\n                    if [ -f \"$sub_dir/package.json\" ] || [ -f \"$sub_dir/pyproject.toml\" ]; then\n                        sub_projects+=(\"$(realpath --relative-to=\"$project_dir\" \"$sub_dir\")\")\n                    fi\n                fi\n            done < <(find \"$project_dir\" -type d -name \"$glob_pattern\" -print0 2>/dev/null)\n        done\n    fi\n\n    # 2. æ£€æŸ¥ nx.json\n    if [ -f \"$project_dir/nx.json\" ]; then\n        echo \"ğŸ“¦ æ£€æµ‹åˆ° Nx workspace\" >&2\n\n        # ä» nx.json ä¸­è·å–é¡¹ç›®åˆ—è¡¨\n        if command -v nx &> /dev/null; then\n            # ä½¿ç”¨ nx CLI è·å–é¡¹ç›®åˆ—è¡¨ï¼ˆå¦‚æœå¯ç”¨ï¼‰\n            local nx_projects=$(nx show projects 2>/dev/null || echo \"\")\n\n            if [ -n \"$nx_projects\" ]; then\n                for project in $nx_projects; do\n                    sub_projects+=(\"$project\")\n                done\n            fi\n        fi\n\n        # å¦‚æœ nx CLI ä¸å¯ç”¨ï¼Œæ‰«æç›®å½•ç»“æ„\n        if [ ${#sub_projects[@]} -eq 0 ]; then\n            if [ -d \"$project_dir/packages\" ]; then\n                while IFS= read -r -d '' sub_dir; do\n                    if [ -f \"$sub_dir/package.json\" ]; then\n                        sub_projects+=(\"$(realpath --relative-to=\"$project_dir\" \"$sub_dir\")\")\n                    fi\n                done < <(find \"$project_dir/packages\" -maxdepth 2 -type d -print0 2>/dev/null)\n            fi\n\n            if [ -d \"$project_dir/apps\" ]; then\n                while IFS= read -r -d '' sub_dir; do\n                    if [ -f \"$sub_dir/package.json\" ]; then\n                        sub_projects+=(\"$(realpath --relative-to=\"$project_dir\" \"$sub_dir\")\")\n                    fi\n                done < <(find \"$project_dir/apps\" -maxdepth 2 -type d -print0 2>/dev/null)\n            fi\n        fi\n    fi\n\n    # 3. æ£€æŸ¥ package.json workspaces\n    if [ -f \"$project_dir/package.json\" ]; then\n        local workspaces=$(grep -A 10 '\"workspaces\"' \"$project_dir/package.json\" | grep -E '^\\s+\"[a-z/]+\"\\s*:,?' | sed 's/.*\"\\([^\"]*\\)\".*/\\1/')\n\n        if [ -n \"$workspaces\" ]; then\n            echo \"ğŸ“¦ æ£€æµ‹åˆ° Yarn/npm workspaces\" >&2\n\n            for pattern in $workspaces; do\n                local glob_pattern=\"${pattern/\\*/*}\"\n\n                while IFS= read -r -d '' sub_dir; do\n                    if [ -f \"$sub_dir/package.json\" ]; then\n                        sub_projects+=(\"$(realpath --relative-to=\"$project_dir\" \"$sub_dir\")\")\n                    fi\n                done < <(find \"$project_dir\" -type d -name \"$glob_pattern\" -print0 2>/dev/null)\n            done\n        fi\n    fi\n\n    # 4. é™çº§ï¼šæ‰«æ packages/ å’Œ apps/ ç›®å½•\n    if [ ${#sub_projects[@]} -eq 0 ]; then\n        if [ -d \"$project_dir/packages\" ]; then\n            echo \"ğŸ“¦ æ£€æµ‹åˆ° packages/ ç›®å½•ç»“æ„\" >&2\n\n            while IFS= read -r -d '' sub_dir; do\n                if [ -f \"$sub_dir/package.json\" ] || [ -f \"$sub_dir/pyproject.toml\" ]; then\n                    sub_projects+=(\"$(realpath --relative-to=\"$project_dir\" \"$sub_dir\")\")\n                fi\n            done < <(find \"$project_dir/packages\" -mindepth 1 -maxdepth 1 -type d -print0 2>/dev/null)\n        fi\n\n        if [ -d \"$project_dir/apps\" ]; then\n            echo \"ğŸ“¦ æ£€æµ‹åˆ° apps/ ç›®å½•ç»“æ„\" >&2\n\n            while IFS= read -r -d '' sub_dir; do\n                if [ -f \"$sub_dir/package.json\" ] || [ -f \"$sub_dir/pyproject.toml\" ]; then\n                    sub_projects+=(\"$(realpath --relative-to=\"$project_dir\" \"$sub_dir\")\")\n                fi\n            done < <(find \"$project_dir/apps\" -mindepth 1 -maxdepth 1 -type d -print0 2>/dev/null)\n        fi\n    fi\n\n    echo \"${sub_projects[@]}\"\n}\n```\n\n---\n\n## å­é¡¹ç›®ç‹¬ç«‹æ–‡æ¡£ç”Ÿæˆ\n\n### generate_docs_for_monorepo()\n\n```bash\n# ä¸º Monorepo ä¸­çš„æ¯ä¸ªå­é¡¹ç›®ç”Ÿæˆç‹¬ç«‹æ–‡æ¡£\n# ç”¨æ³•: generate_docs_for_monorepo <project_dir>\n\ngenerate_docs_for_monorepo() {\n    local project_dir=$1\n    local sub_projects=($(get_monorepo_sub_projects \"$project_dir\"))\n\n    if [ ${#sub_projects[@]} -eq 0 ]; then\n        echo \"âš ï¸ æœªæ‰¾åˆ°ä»»ä½•å­é¡¹ç›®\" >&2\n        return 1\n    fi\n\n    echo \"ğŸ“¦ Monorepo åŒ…å« ${#sub_projects[@]} ä¸ªå­é¡¹ç›®:\" >&2\n    for sub_project in \"${sub_projects[@]}\"; do\n        echo \"  - $sub_project\" >&2\n    done\n    echo \"\" >&2\n\n    # ä¸ºæ¯ä¸ªå­é¡¹ç›®ç”Ÿæˆæ–‡æ¡£\n    for sub_project in \"${sub_projects[@]}\"; do\n        local sub_project_dir=\"$project_dir/$sub_project\"\n        local sub_project_name=$(basename \"$sub_project\")\n\n        echo \"â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\" >&2\n        echo \"ğŸ” å¤„ç†å­é¡¹ç›®: $sub_project_name\" >&2\n        echo \"â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\" >&2\n\n        # ä¸ºå­é¡¹ç›®åˆ›å»ºç‹¬ç«‹çš„æ–‡æ¡£è¾“å‡ºç›®å½•\n        local output_dir=\"docs/$sub_project_name\"\n\n        # æ£€æµ‹å­é¡¹ç›®çš„æŠ€æœ¯æ ˆ\n        local tech_stack=($(detect_tech_stack \"$sub_project_dir\"))\n        echo \"ğŸ“‹ æŠ€æœ¯æ ˆ: ${tech_stack[*]}\" >&2\n\n        # è¯†åˆ«å­é¡¹ç›®çš„ä¸šåŠ¡æ¨¡å—\n        local modules=($(identify_business_modules \"$sub_project_dir\"))\n        echo \"ğŸ“¦ ä¸šåŠ¡æ¨¡å—: ${modules[*]}\" >&2\n\n        # ç”Ÿæˆæ–‡æ¡£ï¼ˆè°ƒç”¨ä¸»æ–‡æ¡£ç”Ÿæˆæµç¨‹ï¼‰\n        # generate_project_docs \"$sub_project_dir\" \"$output_dir\" \"$tech_stack\" \"$modules\"\n\n        echo \"âœ… å­é¡¹ç›® $sub_project_name æ–‡æ¡£ç”Ÿæˆå®Œæˆ\" >&2\n        echo \"\" >&2\n    done\n\n    # ç”Ÿæˆ Monorepo æ€»è§ˆæ–‡æ¡£\n    generate_monorepo_overview \"$project_dir\" \"${sub_projects[@]}\"\n}\n```\n\n---\n\n## Monorepo æ€»è§ˆæ–‡æ¡£ç”Ÿæˆ\n\n```bash\n# ç”Ÿæˆ Monorepo æ€»è§ˆæ–‡æ¡£ï¼ˆåŒ…å«æ‰€æœ‰å­é¡¹ç›®ç´¢å¼•ï¼‰\ngenerate_monorepo_overview() {\n    local project_dir=$1\n    shift\n    local sub_projects=(\"$@\")\n\n    local overview_file=\"$project_dir/docs/README.md\"\n\n    cat > \"$overview_file\" <<'EOF'\n# é¡¹ç›®æ–‡æ¡£æ€»è§ˆ\n\næœ¬ä»“åº“æ˜¯ä¸€ä¸ª Monorepoï¼ŒåŒ…å«å¤šä¸ªå­é¡¹ç›®ã€‚\n\n---\n\n## å­é¡¹ç›®åˆ—è¡¨\n\nEOF\n\n    for sub_project in \"${sub_projects[@]}\"; do\n        local sub_project_name=$(basename \"$sub_project\")\n        local sub_project_dir=\"$project_dir/$sub_project\"\n\n        # æå–å­é¡¹ç›®æè¿°\n        local description=\"\"\n        if [ -f \"$sub_project_dir/package.json\" ]; then\n            description=$(grep '\"description\"' \"$sub_project_dir/package.json\" | sed 's/.*\"description\": \"\\(.*\\)\".*/\\1/')\n        elif [ -f \"$sub_project_dir/README.md\" ]; then\n            description=$(head -n 20 \"$sub_project_dir/README.md\" | grep -v \"^#\" | tr '\\n' ' ' | cut -c1-100)\n        fi\n\n        echo \"### [$sub_project_name](./$sub_project_name/)\" >> \"$overview_file\"\n        echo \"\" >> \"$overview_file\"\n        echo \"$description\" >> \"$overview_file\"\n        echo \"\" >> \"$overview_file\"\n    done\n\n    echo \"âœ… Monorepo æ€»è§ˆæ–‡æ¡£å·²ç”Ÿæˆ: $overview_file\" >&2\n}\n```\n\n---\n\n## é…ç½®è¦†ç›–æ”¯æŒ\n\nå…è®¸ç”¨æˆ·é€šè¿‡ `wiki-config.json` è‡ªå®šä¹‰ Monorepo è¡Œä¸ºï¼š\n\n```json\n{\n  \"monorepo\": {\n    \"enabled\": true,\n    \"sub_projects\": [\n      {\n        \"name\": \"frontend\",\n        \"path\": \"packages/web-app\",\n        \"output_dir\": \"docs/frontend\"\n      },\n      {\n        \"name\": \"backend\",\n        \"path\": \"packages/api\",\n        \"output_dir\": \"docs/backend\"\n      }\n    ],\n    \"generate_overview\": true\n  }\n}\n```\n\n---\n\n## ä½¿ç”¨ç¤ºä¾‹\n\n```bash\n# æ£€æµ‹æ˜¯å¦ä¸º Monorepo\nproject_dir=\"/path/to/project\"\n\nif is_monorepo \"$project_dir\"; then\n    echo \"âœ… è¿™æ˜¯ä¸€ä¸ª Monorepo é¡¹ç›®\"\n\n    # è·å–æ‰€æœ‰å­é¡¹ç›®\n    sub_projects=($(get_monorepo_sub_projects \"$project_dir\"))\n\n    echo \"å­é¡¹ç›®åˆ—è¡¨:\"\n    for sub_project in \"${sub_projects[@]}\"; do\n        echo \"  - $sub_project\"\n    done\n\n    # ä¸ºæ¯ä¸ªå­é¡¹ç›®ç”Ÿæˆæ–‡æ¡£\n    generate_docs_for_monorepo \"$project_dir\"\nelse\n    echo \"âŒ è¿™ä¸æ˜¯ Monorepo é¡¹ç›®ï¼Œä½¿ç”¨å•é¡¹ç›®æ–‡æ¡£ç”Ÿæˆ\"\nfi\n```\n\n**è¾“å‡ºç¤ºä¾‹**ï¼š\n\n```\nâœ… è¿™æ˜¯ä¸€ä¸ª Monorepo é¡¹ç›®\nå­é¡¹ç›®åˆ—è¡¨:\n  - packages/web-app\n  - packages/api\n  - packages/shared\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ” å¤„ç†å­é¡¹ç›®: web-app\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ“‹ æŠ€æœ¯æ ˆ: react typescript vite\nğŸ“¦ ä¸šåŠ¡æ¨¡å—: pages/ components/ services/\nâœ… å­é¡¹ç›® web-app æ–‡æ¡£ç”Ÿæˆå®Œæˆ\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ” å¤„ç†å­é¡¹ç›®: api\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ“‹ æŠ€æœ¯æ ˆ: fastapi sqlalchemy redis\nğŸ“¦ ä¸šåŠ¡æ¨¡å—: api/ services/ models/\nâœ… å­é¡¹ç›® api æ–‡æ¡£ç”Ÿæˆå®Œæˆ\n```\n\n---\n\n## è¾¹ç¼˜æƒ…å†µå¤„ç†\n\n### 1. åµŒå¥— Monorepo\n\n```bash\n# æ£€æµ‹å¹¶å¤„ç†åµŒå¥—çš„ Monorepo ç»“æ„\ndetect_nested_monorepo() {\n    local project_dir=$1\n    local depth=${2:-3}  # é»˜è®¤æ‰«ææ·±åº¦ 3 å±‚\n\n    for ((i=0; i<depth; i++)); do\n        if is_monorepo \"$project_dir\"; then\n            return 0\n        fi\n        # æ£€æŸ¥çˆ¶ç›®å½•\n        project_dir=$(dirname \"$project_dir\")\n    done\n\n    return 1\n}\n```\n\n### 2. æ··åˆé¡¹ç›®ç»“æ„\n\n```bash\n# å¤„ç†æ—¢æœ‰ Monorepo åˆæœ‰ç‹¬ç«‹é¡¹ç›®çš„å¤æ‚ç»“æ„\nhandle_mixed_structure() {\n    local project_dir=$1\n\n    if is_monorepo \"$project_dir\"; then\n        # Monorepo å¤„ç†\n        generate_docs_for_monorepo \"$project_dir\"\n    else\n        # æ£€æŸ¥æ˜¯å¦æœ‰æ ¹ç›®å½•çš„æºä»£ç ï¼ˆæ··åˆæ¨¡å¼ï¼‰\n        if [ -d \"$project_dir/src\" ] || [ -f \"$project_dir/package.json\" ]; then\n            echo \"âš ï¸ æ£€æµ‹åˆ°æ··åˆç»“æ„ï¼šMonorepo + æ ¹ç›®å½•é¡¹ç›®\" >&2\n            # åŒæ—¶ç”Ÿæˆæ ¹ç›®å½•æ–‡æ¡£\n            generate_project_docs \"$project_dir\" \"docs/root\"\n        fi\n    fi\n}\n```\n\n---\n\n**ç‰ˆæœ¬**: 1.0.0\n**æœ€åæ›´æ–°**: 2026-01-04\n",
        "plugins/skills/doc-generator/outline_generation.md": "# æ–‡æ¡£å¤§çº²ç”Ÿæˆ Skill\n\n**åŠŸèƒ½**: æ ¹æ®æ¨¡å—è§„æ¨¡ç”Ÿæˆ 1-4 å±‚æ–‡æ¡£ç»“æ„\n\n**è§„æ¨¡è§„åˆ™**ï¼š\n- å°å‹æ¨¡å—ï¼ˆ1-4 æ–‡ä»¶ï¼‰â†’ 1 å±‚æ–‡æ¡£\n- ä¸­å‹æ¨¡å—ï¼ˆ5-20 æ–‡ä»¶ï¼‰â†’ 2 å±‚æ–‡æ¡£\n- å¤§å‹æ¨¡å—ï¼ˆ21-50 æ–‡ä»¶ï¼‰â†’ 3 å±‚æ–‡æ¡£\n- è¶…å¤§å‹æ¨¡å—ï¼ˆ>50 æ–‡ä»¶ï¼‰â†’ 4 å±‚æ–‡æ¡£\n\n---\n\n## æ ¸å¿ƒç”Ÿæˆå‡½æ•°\n\n### generate_document_outline()\n\n```bash\n#!/usr/bin/env bash\n# æ–‡æ¡£å¤§çº²ç”Ÿæˆä¸»å‡½æ•°\n# ç”¨æ³•: generate_document_outline <module_name> <module_path> <file_count> <depth>\n# è¾“å‡º: Markdown æ ¼å¼çš„æ–‡æ¡£å¤§çº²\n\ngenerate_document_outline() {\n    local module_name=$1\n    local module_path=$2\n    local file_count=$3\n    local depth=${4:-1}  # é»˜è®¤ 1 å±‚\n\n    echo \"# ${module_name} æ¨¡å—æ–‡æ¡£\"\n    echo \"\"\n    echo \"## æ¦‚è¿°\"\n    echo \"\"\n    echo \"## æ ¸å¿ƒ\"\n    echo \"\"\n\n    # æ ¹æ®æ·±åº¦ç”Ÿæˆä¸åŒå±‚çº§\n    case $depth in\n        1)\n            generate_small_module_outline \"$module_name\" \"$module_path\"\n            ;;\n        2)\n            generate_medium_module_outline \"$module_name\" \"$module_path\"\n            ;;\n        3)\n            generate_large_module_outline \"$module_name\" \"$module_path\"\n            ;;\n        4)\n            generate_xlarge_module_outline \"$module_name\" \"$module_path\"\n            ;;\n        *)\n            generate_small_module_outline \"$module_name\" \"$module_path\"\n            ;;\n    esac\n}\n```\n\n---\n\n## 1. å°å‹æ¨¡å—å¤§çº²ï¼ˆ1 å±‚ï¼‰\n\n```bash\ngenerate_small_module_outline() {\n    local module_name=$1\n    local module_path=$2\n\n    cat <<EOF\n**æ¨¡å—ç±»å‹**: å°å‹æ¨¡å—ï¼ˆ1-4 æ–‡ä»¶ï¼‰\n\n## æ¦‚è¿°\n\n${module_name} æ¨¡å—çš„ä¸»è¦åŠŸèƒ½è¯´æ˜...\n\n## æ ¸å¿ƒ\n\n### ä¸»è¦åŠŸèƒ½\n\n- åŠŸèƒ½ 1\n- åŠŸèƒ½ 2\n\n### ä½¿ç”¨ç¤ºä¾‹\n\n\\`\\`\\`python\n# ç¤ºä¾‹ä»£ç \n\\`\\`\\`\n\n## å‚è€ƒ\n\n- ç›¸å…³æ–‡ä»¶é“¾æ¥\nEOF\n}\n```\n\n---\n\n## 2. ä¸­å‹æ¨¡å—å¤§çº²ï¼ˆ2 å±‚ï¼‰\n\n```bash\ngenerate_medium_module_outline() {\n    local module_name=$1\n    local module_path=$2\n\n    cat <<EOF\n**æ¨¡å—ç±»å‹**: ä¸­å‹æ¨¡å—ï¼ˆ5-20 æ–‡ä»¶ï¼‰\n\n## æ¦‚è¿°\n\n${module_name} æ¨¡å—çš„ä¸»è¦åŠŸèƒ½è¯´æ˜...\n\n## æ ¸å¿ƒ\n\n### ä¸»è¦åŠŸèƒ½\n\n- åŠŸèƒ½ 1\n- åŠŸèƒ½ 2\n- åŠŸèƒ½ 3\n\n### æ¶æ„\n\n\\`\\`\\`mermaid\ngraph TD\n    A[${module_name}] --> B[å­åŠŸèƒ½ 1]\n    A --> C[å­åŠŸèƒ½ 2]\n    A --> D[å­åŠŸèƒ½ 3]\n\\`\\`\\`\n\n### å…³é”®ç»„ä»¶\n\n#### ç»„ä»¶ 1\n\nè¯´æ˜...\n\n#### ç»„ä»¶ 2\n\nè¯´æ˜...\n\n### ä½¿ç”¨ç¤ºä¾‹\n\n\\`\\`\\`python\n# ç¤ºä¾‹ä»£ç \n\\`\\`\\`\n\n## å‚è€ƒ\n\n- ç›¸å…³æ–‡ä»¶é“¾æ¥\nEOF\n}\n```\n\n---\n\n## 3. å¤§å‹æ¨¡å—å¤§çº²ï¼ˆ3 å±‚ï¼‰\n\n```bash\ngenerate_large_module_outline() {\n    local module_name=$1\n    local module_path=$2\n\n    cat <<EOF\n**æ¨¡å—ç±»å‹**: å¤§å‹æ¨¡å—ï¼ˆ21-50 æ–‡ä»¶ï¼‰\n\n## æ¦‚è¿°\n\n${module_name} æ¨¡å—çš„ä¸»è¦åŠŸèƒ½è¯´æ˜...\n\n## æ ¸å¿ƒ\n\n### ä¸»è¦åŠŸèƒ½\n\n- åŠŸèƒ½ 1\n- åŠŸèƒ½ 2\n- åŠŸèƒ½ 3\n- åŠŸèƒ½ 4\n\n### æ¶æ„\n\n\\`\\`\\`mermaid\ngraph TD\n    A[${module_name}] --> B[å­æ¨¡å— 1]\n    A --> C[å­æ¨¡å— 2]\n    A --> D[å­æ¨¡å— 3]\n\n    B --> B1[åŠŸèƒ½ 1.1]\n    B --> B2[åŠŸèƒ½ 1.2]\n    C --> C1[åŠŸèƒ½ 2.1]\n    C --> C2[åŠŸèƒ½ 2.2]\n    D --> D1[åŠŸèƒ½ 3.1]\n    D --> D2[åŠŸèƒ½ 3.2]\n\\`\\`\\`\n\n### å…³é”®ç»„ä»¶\n\n#### ç»„ä»¶ 1\n\nè¯´æ˜...\n\n##### å­ç»„ä»¶ 1.1\n\nè¯¦ç»†è¯´æ˜...\n\n##### å­ç»„ä»¶ 1.2\n\nè¯¦ç»†è¯´æ˜...\n\n#### ç»„ä»¶ 2\n\nè¯´æ˜...\n\n### å·¥ä½œæµç¨‹\n\n1. æ­¥éª¤ 1\n2. æ­¥éª¤ 2\n3. æ­¥éª¤ 3\n\n### ä½¿ç”¨ç¤ºä¾‹\n\n\\`\\`\\`python\n# ç¤ºä¾‹ä»£ç \n\\`\\`\\`\n\n## é«˜çº§ä¸»é¢˜\n\n### é…ç½®é€‰é¡¹\n\n### æ‰©å±•ç‚¹\n\n### æ€§èƒ½ä¼˜åŒ–\n\n## å‚è€ƒ\n\n- ç›¸å…³æ–‡ä»¶é“¾æ¥\nEOF\n}\n```\n\n---\n\n## 4. è¶…å¤§å‹æ¨¡å—å¤§çº²ï¼ˆ4 å±‚ï¼‰\n\n```bash\ngenerate_xlarge_module_outline() {\n    local module_name=$1\n    local module_path=$2\n\n    cat <<EOF\n**æ¨¡å—ç±»å‹**: è¶…å¤§å‹æ¨¡å—ï¼ˆ>50 æ–‡ä»¶ï¼‰\n\n## æ¦‚è¿°\n\n${module_name} æ¨¡å—çš„ä¸»è¦åŠŸèƒ½è¯´æ˜...\n\n**è§„æ¨¡**: å¤§å‹æ¨¡å—ï¼ŒåŒ…å«å¤šä¸ªå­æ¨¡å—å’Œå¤æ‚çš„ä¾èµ–å…³ç³»\n\n## æ ¸å¿ƒ\n\n### ä¸»è¦åŠŸèƒ½\n\n- åŠŸèƒ½ 1\n- åŠŸèƒ½ 2\n- åŠŸèƒ½ 3\n- åŠŸèƒ½ 4\n- åŠŸèƒ½ 5\n\n### æ¶æ„\n\n\\`\\`\\`mermaid\ngraph TD\n    A[${module_name}] --> B[å­æ¨¡å— 1]\n    A --> C[å­æ¨¡å— 2]\n    A --> D[å­æ¨¡å— 3]\n    A --> E[å­æ¨¡å— 4]\n\n    B --> B1[ç»„ä»¶ 1.1]\n    B --> B2[ç»„ä»¶ 1.2]\n    C --> C1[ç»„ä»¶ 2.1]\n    C --> C2[ç»„ä»¶ 2.2]\n    D --> D1[ç»„ä»¶ 3.1]\n    D --> D2[ç»„ä»¶ 3.2]\n    E --> E1[ç»„ä»¶ 4.1]\n    E --> E2[ç»„ä»¶ 4.2]\n\n    B1 --> B1A[åŠŸèƒ½ 1.1.1]\n    B1 --> B1B[åŠŸèƒ½ 1.1.2]\n    B2 --> B2A[åŠŸèƒ½ 1.2.1]\n    B2 --> B2B[åŠŸèƒ½ 1.2.2]\n\\`\\`\\`\n\n### å…³é”®ç»„ä»¶\n\n#### ç»„ä»¶ 1\n\nè¯´æ˜...\n\n##### å­ç»„ä»¶ 1.1\n\nè¯¦ç»†è¯´æ˜...\n\n###### å¾®ç»„ä»¶ 1.1.1\n\nè¶…è¯¦ç»†è¯´æ˜...\n\n###### å¾®ç»„ä»¶ 1.1.2\n\nè¶…è¯¦ç»†è¯´æ˜...\n\n##### å­ç»„ä»¶ 1.2\n\nè¯¦ç»†è¯´æ˜...\n\n#### ç»„ä»¶ 2\n\nè¯´æ˜...\n\n##### å­ç»„ä»¶ 2.1\n\nè¯¦ç»†è¯´æ˜...\n\n### å·¥ä½œæµç¨‹\n\n1. æ­¥éª¤ 1\n2. æ­¥éª¤ 2\n3. æ­¥éª¤ 3\n4. æ­¥éª¤ 4\n\n### ä½¿ç”¨ç¤ºä¾‹\n\n\\`\\`\\`python\n# ç¤ºä¾‹ä»£ç \n\\`\\`\\`\n\n## é«˜çº§ä¸»é¢˜\n\n### é…ç½®é€‰é¡¹\n\n### æ‰©å±•ç‚¹\n\n### æ€§èƒ½ä¼˜åŒ–\n\n### å®‰å…¨è€ƒè™‘\n\n## æœ€ä½³å®è·µ\n\n### å¸¸è§æ¨¡å¼\n\n### é”™è¯¯å¤„ç†\n\n### æµ‹è¯•ç­–ç•¥\n\n## å‚è€ƒ\n\n- ç›¸å…³æ–‡ä»¶é“¾æ¥\nEOF\n}\n```\n\n---\n\n## æ¨¡å—æ–‡ä»¶åˆ—è¡¨ç”Ÿæˆ\n\n```bash\n# ä¸ºæ¨¡å—ç”Ÿæˆç›¸å…³æ–‡ä»¶åˆ—è¡¨ï¼ˆç”¨äº `<cite>` å¼•ç”¨ï¼‰\ngenerate_module_file_list() {\n    local module_path=$1\n    local module_name=$2\n\n    echo \"### ç›¸å…³æ–‡ä»¶\" >> \"$output_file\"\n    echo \"\" >> \"$output_file\"\n\n    # æŸ¥æ‰¾æ‰€æœ‰æºä»£ç æ–‡ä»¶\n    while IFS= read -r -d '' file; do\n        local relative_path=$(realpath --relative-to=\"$(dirname \"$module_path\")\" \"$file\")\n        local filename=$(basename \"$file\")\n        echo \"- \\`[$filename]($relative_path)\\`\" >> \"$output_file\"\n    done < <(find \"$module_path\" -type f \\\n        \\( -name \"*.py\" -o -name \"*.js\" -o -name \"*.ts\" \\) \\\n        ! -path \"*/test/*\" \\\n        ! -path \"*/__pycache__/*\" \\\n        -print0 | sort -z)\n\n    echo \"\" >> \"$output_file\"\n}\n```\n\n---\n\n## ä½¿ç”¨ç¤ºä¾‹\n\n```bash\n# ä¸ºæ¨¡å—ç”Ÿæˆæ–‡æ¡£å¤§çº²\nmodule_name=\"user_service\"\nmodule_path=\"/path/to/project/src/services/user\"\nfile_count=8\ndepth=2  # ä¸­å‹æ¨¡å—\n\noutline=$(generate_document_outline \"$module_name\" \"$module_path\" \"$file_count\" \"$depth\")\n\necho \"$outline\"\n```\n\n**è¾“å‡ºç¤ºä¾‹**ï¼ˆä¸­å‹æ¨¡å—ï¼‰ï¼š\n\n```markdown\n# user_service æ¨¡å—æ–‡æ¡£\n\n## æ¦‚è¿°\n\nuser_service æ¨¡å—çš„ä¸»è¦åŠŸèƒ½è¯´æ˜...\n\n## æ ¸å¿ƒ\n\n### ä¸»è¦åŠŸèƒ½\n\n- åŠŸèƒ½ 1\n- åŠŸèƒ½ 2\n- åŠŸèƒ½ 3\n\n### æ¶æ„\n\n```mermaid\ngraph TD\n    A[user_service] --> B[å­åŠŸèƒ½ 1]\n    A --> C[å­åŠŸèƒ½ 2]\n    A --> D[å­åŠŸèƒ½ 3]\n```\n\n### å…³é”®ç»„ä»¶\n\n#### ç»„ä»¶ 1\n\nè¯´æ˜...\n\n#### ç»„ä»¶ 2\n\nè¯´æ˜...\n\n### ä½¿ç”¨ç¤ºä¾‹\n\n```python\n# ç¤ºä¾‹ä»£ç \n```\n\n## å‚è€ƒ\n\n- ç›¸å…³æ–‡ä»¶é“¾æ¥\n```\n\n---\n\n## Mermaid å›¾è¡¨ç±»å‹é€‰æ‹©\n\n### select_diagram_type()\n\n```bash\n#!/usr/bin/env bash\n# æ ¹æ®æ–‡æ¡£ç±»å‹å’ŒæŠ€æœ¯æ ˆé€‰æ‹©åˆé€‚çš„ Mermaid å›¾è¡¨\n# ç”¨æ³•: select_diagram_type <doc_type> <tech_stack>\n# è¾“å‡º: Mermaid å›¾è¡¨ç±»å‹\n\nselect_diagram_type() {\n    local doc_type=$1\n    local tech_stack=$2\n\n    # æ–‡æ¡£ç±»å‹æ˜ å°„è¡¨\n    case $doc_type in\n        datamodel|data-model|data_model)\n            # æ•°æ®æ¨¡å‹æ–‡æ¡£ â†’ ER å›¾\n            if [[ \"$tech_stack\" =~ (sqlalchemy|django|sql|database|db) ]]; then\n                echo \"erDiagram\"\n            else\n                echo \"classDiagram\"\n            fi\n            ;;\n\n        api|rest-api|rest_api|graphql)\n            # API æ–‡æ¡£ â†’ åºåˆ—å›¾\n            echo \"sequenceDiagram\"\n            ;;\n\n        architecture|arch|è®¾è®¡)\n            # æ¶æ„æ–‡æ¡£ â†’ æµç¨‹å›¾\n            if [[ \"$tech_stack\" =~ (microservice|kubernetes|k8s|distributed) ]]; then\n                echo \"graph TB\"  # å¤æ‚æ¶æ„ç”¨è‡ªé¡¶å‘ä¸‹\n            else\n                echo \"flowchart TD\"\n            fi\n            ;;\n\n        deployment|deploy)\n            # éƒ¨ç½²æ–‡æ¡£ â†’ æµç¨‹å›¾ï¼ˆç½‘ç»œæ‹“æ‰‘ï¼‰\n            echo \"graph TB\"\n            ;;\n\n        workflow|flow|process)\n            # å·¥ä½œæµæ–‡æ¡£ â†’ æµç¨‹å›¾\n            echo \"flowchart LR\"  # å·¦å³æµå‘æ›´æ¸…æ™°\n            ;;\n\n        class|class-diagram|ç±»å›¾)\n            # ç±»å…³ç³»æ–‡æ¡£ â†’ ç±»å›¾\n            echo \"classDiagram\"\n            ;;\n\n        state|state-machine|çŠ¶æ€æœº)\n            # çŠ¶æ€æœºæ–‡æ¡£ â†’ çŠ¶æ€å›¾\n            echo \"stateDiagram-v2\"\n            ;;\n\n        *)\n            # é»˜è®¤ä½¿ç”¨æµç¨‹å›¾\n            echo \"flowchart LR\"\n            ;;\n    esac\n}\n```\n\n### generate_diagram_template()\n\n```bash\n#!/usr/bin/env bash\n# ç”Ÿæˆ Mermaid å›¾è¡¨æ¨¡æ¿\n# ç”¨æ³•: generate_diagram_template <diagram_type> <title>\n# è¾“å‡º: Mermaid å›¾è¡¨æ¨¡æ¿\n\ngenerate_diagram_template() {\n    local diagram_type=$1\n    local title=$2\n\n    case $diagram_type in\n        erDiagram)\n            cat <<EOF\n\\`\\`\\`mermaid\nerDiagram\n    %% å®ä½“å…³ç³»å›¾\n    %% æç¤º: ä½¿ç”¨ ||--o{ è¡¨ç¤ºä¸€å¯¹å¤šå…³ç³»\n\n    ENTITY1 ||--o{ ENTITY2 : \"å…³ç³»æè¿°\"\n    ENTITY1 {\n        number id PK\n        string name\n        timestamp created_at\n    }\n    ENTITY2 {\n        number id PK\n        number entity1_id FK\n        string value\n    }\n\\`\\`\\`\nEOF\n            ;;\n\n        classDiagram)\n            cat <<EOF\n\\`\\`\\`mermaid\nclassDiagram\n    %% ç±»å›¾\n    %% æç¤º: ä½¿ç”¨ <|-- è¡¨ç¤ºç»§æ‰¿ï¼Œä½¿ç”¨ --> è¡¨ç¤ºå…³è”\n\n    class ClassName {\n        +method1()\n        +method2()\n        -property1\n        -property2\n    }\n\\`\\`\\`\nEOF\n            ;;\n\n        sequenceDiagram)\n            cat <<EOF\n\\`\\`\\`mermaid\nsequenceDiagram\n    %% åºåˆ—å›¾\n    %% æç¤º: ä½¿ç”¨ participant å®šä¹‰å‚ä¸è€…\n\n    actor User as ç”¨æˆ·\n    participant System as ç³»ç»Ÿ\n    participant Database as æ•°æ®åº“\n\n    User->>System: å‘èµ·è¯·æ±‚\n    System->>Database: æŸ¥è¯¢æ•°æ®\n    Database-->>System: è¿”å›ç»“æœ\n    System-->>User: å“åº”\n\\`\\`\\`\nEOF\n            ;;\n\n        stateDiagram-v2)\n            cat <<EOF\n\\`\\`\\`mermaid\nstateDiagram-v2\n    %% çŠ¶æ€å›¾\n    [*] --> State1\n    State1 --> State2: äº‹ä»¶\n    State2 --> [*]\n\\`\\`\\`\nEOF\n            ;;\n\n        flowchart*)\n            cat <<EOF\n\\`\\`\\`mermaid\n${diagram_type}\n    %% æµç¨‹å›¾\n    %% æç¤º: ä½¿ç”¨ --> è¡¨ç¤ºæµå‘ï¼Œä½¿ç”¨ subgraph å®šä¹‰å­å›¾\n\n    A[å¼€å§‹] --> B[å¤„ç†]\n    B --> C{åˆ¤æ–­}\n    C -->|æ¡ä»¶1| D[ç»“æœ1]\n    C -->|æ¡ä»¶2| E[ç»“æœ2]\n    D --> F[ç»“æŸ]\n    E --> F\n\\`\\`\\`\nEOF\n            ;;\n\n        *)\n            cat <<EOF\n\\`\\`\\`mermaid\n${diagram_type}\n    %% Mermaid å›¾è¡¨\n\\`\\`\\`\nEOF\n            ;;\n    esac\n}\n```\n\n---\n\n## ä¼˜åŒ–ç« èŠ‚ç»“æ„\n\n### optimize_section_structure()\n\n```bash\n#!/usr/bin/env bash\n# æ ¹æ®å†…å®¹é‡å’Œå¤æ‚åº¦ä¼˜åŒ–ç« èŠ‚ç»“æ„\n# ç”¨æ³•: optimize_section_structure <content_type> <complexity>\n# è¾“å‡º: æ¨èçš„ç« èŠ‚å±‚æ¬¡ç»“æ„\n\noptimize_section_structure() {\n    local content_type=$1\n    local complexity=${2:-medium}  # low, medium, high\n\n    case $content_type in\n        overview|æ¦‚è§ˆ)\n            cat <<EOF\n## é¡¹ç›®æ¦‚è¿°\n\n### é¡¹ç›®ç®€ä»‹\n\n{project_description}\n\n### æ ¸å¿ƒåŠŸèƒ½\n\n- {feature_1}\n- {feature_2}\n- {feature_3}\n\n### æŠ€æœ¯æ ˆ\n\n| ç±»åˆ« | æŠ€æœ¯ |\n|------|------|\n| åç«¯ | {backend_tech} |\n| å‰ç«¯ | {frontend_tech} |\n| æ•°æ®åº“ | {database_tech} |\n\n### å¿«é€Ÿå¼€å§‹\n\n\\`\\`\\`bash\n{quickstart_command}\n\\`\\`\\`\n\n**Section sources**\n- [æºæ–‡ä»¶](file://README.md#L1-L50)\nEOF\n            ;;\n\n        module|æ¨¡å—)\n            if [ \"$complexity\" = \"low\" ]; then\n                # ç®€å•æ¨¡å—ï¼š2 å±‚ç»“æ„\n                cat <<EOF\n## {module_name} æ¨¡å—\n\n### æ¨¡å—æ¦‚è¿°\n\n{module_description}\n\n### ä¸»è¦åŠŸèƒ½\n\n- {function_1}\n- {function_2}\n\n### ä½¿ç”¨ç¤ºä¾‹\n\n\\`\\`\\`python title=\"examples/{module_name}_example.py\"\n{code_example}\n\\`\\`\\`\n\n**Section sources**\n- [æºæ–‡ä»¶](file://src/{module_name}.py#L1-L100)\nEOF\n            elif [ \"$complexity\" = \"medium\" ]; then\n                # ä¸­ç­‰æ¨¡å—ï¼š3 å±‚ç»“æ„\n                cat <<EOF\n## {module_name} æ¨¡å—\n\n### æ¨¡å—æ¦‚è¿°\n\n{module_description}\n\n### æ¶æ„è®¾è®¡\n\n\\`\\`\\`mermaid\nflowchart TD\n    A[{module_name}] --> B[ç»„ä»¶ 1]\n    A --> C[ç»„ä»¶ 2]\n    A --> D[ç»„ä»¶ 3]\n\\`\\`\\`\n\n**Section sources**\n- [è®¾è®¡æ–‡æ¡£](file://docs/design/{module_name}.md)\n\n### æ ¸å¿ƒç»„ä»¶\n\n#### ç»„ä»¶ 1\n\n{component_1_description}\n\n**ä¸»è¦æ–¹æ³•**:\n- \\`method1()\\`: {method1_description}\n- \\`method2()\\`: {method2_description}\n\n#### ç»„ä»¶ 2\n\n{component_2_description}\n\n### ä½¿ç”¨ç¤ºä¾‹\n\n\\`\\`\\`python title=\"examples/{module_name}_example.py\"\n{code_example}\n\\`\\`\\`\n\n**Section sources**\n- [æºæ–‡ä»¶](file://src/{module_name}/__init__.py#L1-L200)\nEOF\n            else\n                # å¤æ‚æ¨¡å—ï¼š4 å±‚ç»“æ„\n                cat <<EOF\n## {module_name} æ¨¡å—\n\n### æ¨¡å—æ¦‚è¿°\n\n{module_description}\n\n**æ¨¡å—è§„æ¨¡**: {file_count} ä¸ªæ–‡ä»¶\n\n### æ¶æ„è®¾è®¡\n\n\\`\\`\\`mermaid\nflowchart TD\n    A[{module_name}] --> B[å­æ¨¡å— 1]\n    A --> C[å­æ¨¡å— 2]\n    A --> D[å­æ¨¡å— 3]\n\n    B --> B1[ç»„ä»¶ 1.1]\n    B --> B2[ç»„ä»¶ 1.2]\n    C --> C1[ç»„ä»¶ 2.1]\n    D --> D1[ç»„ä»¶ 3.1]\n\\`\\`\\`\n\n**Section sources**\n- [æ¶æ„å›¾](file://docs/architecture/{module_name}.png)\n\n### æ ¸å¿ƒç»„ä»¶\n\n#### å­æ¨¡å— 1\n\n{submodule_1_description}\n\n##### ç»„ä»¶ 1.1\n\n{component_1_1_description}\n\n**ä¸»è¦æ–¹æ³•**:\n- \\`method1()\\`: {description}\n- \\`method2()\\`: {description}\n\n**å®ç°ç»†èŠ‚**:\n\\`\\`\\`python title=\"src/{module_name}/submodule1/component1_1.py\"\n{implementation_code}\n\\`\\`\\`\n\n##### ç»„ä»¶ 1.2\n\n{component_1_2_description}\n\n#### å­æ¨¡å— 2\n\n{submodule_2_description}\n\n### å·¥ä½œæµç¨‹\n\n1. **æ­¥éª¤ 1**: {step1_description}\n2. **æ­¥éª¤ 2**: {step2_description}\n3. **æ­¥éª¤ 3**: {step3_description}\n\n\\`\\`\\`mermaid\nflowchart LR\n    A[æ­¥éª¤1] --> B[æ­¥éª¤2]\n    B --> C[æ­¥éª¤3]\n\\`\\`\\`\n\n### é«˜çº§ç‰¹æ€§\n\n#### é…ç½®é€‰é¡¹\n\n| é…ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | æè¿° |\n|--------|------|--------|------|\n| {config_1} | {type_1} | {default_1} | {desc_1} |\n| {config_2} | {type_2} | {default_2} | {desc_2} |\n\n#### æ‰©å±•ç‚¹\n\n{extension_points}\n\n### æ€§èƒ½ä¼˜åŒ–\n\n{performance_tips}\n\n### ä½¿ç”¨ç¤ºä¾‹\n\n\\`\\`\\`python title=\"examples/{module_name}_advanced.py\"\n{advanced_example}\n\\`\\`\\`\n\n**Section sources**\n- [æºæ–‡ä»¶](file://src/{module_name}/__init__.py#L1-L500)\nEOF\n            fi\n            ;;\n\n        api)\n            cat <<EOF\n## {api_name} API\n\n### API æ¦‚è¿°\n\n{api_description}\n\n**è®¤è¯æ–¹å¼**: {auth_method}\n**Base URL**: \\`{base_url}\\`\n\n### ç«¯ç‚¹åˆ—è¡¨\n\n| æ–¹æ³• | è·¯å¾„ | æè¿° |\n|------|------|------|\n| GET | \\`/api/users\\` | è·å–ç”¨æˆ·åˆ—è¡¨ |\n| POST | \\`/api/users\\` | åˆ›å»ºç”¨æˆ· |\n| GET | \\`/api/users/{{id}}\\` | è·å–ç”¨æˆ·è¯¦æƒ… |\n| PUT | \\`/api/users/{{id}}\\` | æ›´æ–°ç”¨æˆ· |\n| DELETE | \\`/api/users/{{id}}\\` | åˆ é™¤ç”¨æˆ· |\n\n### è¯·æ±‚ç¤ºä¾‹\n\n\\`\\`\\`bash title=\"ç»ˆç«¯\"\ncurl -X GET \"{base_url}/api/users\" \\\\\n  -H \"Authorization: Bearer {token}\"\n\\`\\`\\`\n\n### å“åº”ç¤ºä¾‹\n\n\\`\\`\\`json title=\"å“åº”\"\n{\n  \"success\": true,\n  \"data\": [...]\n}\n\\`\\`\\`\n\n**Section sources**\n- [API å®šä¹‰](file://src/api/{api_name}.py#L1-L100)\nEOF\n            ;;\n\n        *)\n            cat <<EOF\n## {title}\n\n{content}\n\n**Section sources**\n- [æºæ–‡ä»¶](file://...)\nEOF\n            ;;\n    esac\n}\n```\n\n---\n\n## åŠ¨æ€ç« èŠ‚ç”Ÿæˆ\n\n### generate_dynamic_sections()\n\n```bash\n#!/usr/bin/env bash\n# æ ¹æ®æ–‡ä»¶ç±»å‹å’Œå†…å®¹åŠ¨æ€ç”Ÿæˆç« èŠ‚\n# ç”¨æ³•: generate_dynamic_sections <module_path> <tech_stack>\n# è¾“å‡º: Markdown æ ¼å¼çš„åŠ¨æ€ç« èŠ‚\n\ngenerate_dynamic_sections() {\n    local module_path=$1\n    local tech_stack=$2\n\n    # 1. æ£€æµ‹æ˜¯å¦æœ‰æµ‹è¯•æ–‡ä»¶\n    if find \"$module_path\" -name \"*test*.py\" -o -name \"test_*.py\" | grep -q .; then\n        cat <<EOF\n\n## æµ‹è¯•\n\n### æµ‹è¯•ç­–ç•¥\n\n{test_strategy}\n\n### è¿è¡Œæµ‹è¯•\n\n\\`\\`\\`bash title=\"ç»ˆç«¯\"\npytest {module_name}/\n\\`\\`\\`\n\n**Section sources**\n- [æµ‹è¯•æ–‡ä»¶](file://tests/{module_name}/test_*.py)\nEOF\n    fi\n\n    # 2. æ£€æµ‹æ˜¯å¦æœ‰é…ç½®æ–‡ä»¶\n    if [ -f \"$module_path/config.py\" ] || [ -f \"$module_path/settings.py\" ]; then\n        cat <<EOF\n\n## é…ç½®\n\n### é…ç½®é€‰é¡¹\n\n| é…ç½®é¡¹ | ç±»å‹ | é»˜è®¤å€¼ | æè¿° |\n|--------|------|--------|------|\n{config_table}\n\n**Section sources**\n- [é…ç½®æ–‡ä»¶](file://src/{module_name}/config.py)\nEOF\n    fi\n\n    # 3. æ£€æµ‹æ˜¯å¦æœ‰æ€§èƒ½å…³é”®ä»£ç \n    if grep -r \"async def\\|concurrent\\|threading\" \"$module_path\" 2>/dev/null | grep -q .; then\n        cat <<EOF\n\n## æ€§èƒ½è€ƒè™‘\n\n### å¹¶å‘å¤„ç†\n\n{concurrency_description}\n\n### ä¼˜åŒ–å»ºè®®\n\n{optimization_tips}\n\n**Section sources**\n- [æ€§èƒ½ç›¸å…³ä»£ç ](file://src/{module_name}/*async*.py)\nEOF\n    fi\n\n    # 4. æ£€æµ‹æ•°æ®åº“ç›¸å…³\n    if [[ \"$tech_stack\" =~ (sqlalchemy|django|prisma|mongodb) ]]; then\n        cat <<EOF\n\n## æ•°æ®æ¨¡å‹\n\n\\`\\`\\`mermaid\nerDiagram\n    {entity_relations}\n\\`\\`\\`\n\n**Section sources**\n- [æ•°æ®æ¨¡å‹](file://src/{module_name}/models.py)\nEOF\n    fi\n}\n```\n\n---\n\n**ç‰ˆæœ¬**: 2.0.0\n**æœ€åæ›´æ–°**: 2026-01-05\n**å˜æ›´æ—¥å¿—**:\n- v2.0.0: æ·»åŠ  Mermaid å›¾è¡¨ç±»å‹é€‰æ‹©ã€ä¼˜åŒ–ç« èŠ‚ç»“æ„ã€åŠ¨æ€ç« èŠ‚ç”Ÿæˆ\n- v1.0.0: åˆå§‹ç‰ˆæœ¬ï¼Œæ”¯æŒæŒ‰æ¨¡å—è§„æ¨¡ç”Ÿæˆ 1-4 å±‚æ–‡æ¡£ç»“æ„\n",
        "plugins/skills/doc-generator/smart_merge.md": "# æ™ºèƒ½åˆå¹¶ Skill\n\n**åŠŸèƒ½**: åˆå¹¶ç°æœ‰æ–‡æ¡£å’Œæ–°ç”Ÿæˆå†…å®¹ï¼Œä¿ç•™æ‰‹åŠ¨ç¼–è¾‘\n\n**ç‰ˆæœ¬**: 3.1.0\n\n---\n\n## æ¦‚è¿°\n\næ™ºèƒ½åˆå¹¶ skill é€šè¿‡ä»¥ä¸‹ç­–ç•¥ä¿ç•™ç”¨æˆ·æ‰‹åŠ¨ç¼–è¾‘ï¼š\n1. **åŒºåŸŸæ ‡è®°è¯†åˆ«** - æå– `<!-- WIKI-GEN-START/END -->` åŒ…è£¹çš„è‡ªåŠ¨ç”ŸæˆåŒºåŸŸ\n2. **æ‰‹åŠ¨ç¼–è¾‘æ£€æµ‹** - è¯†åˆ« `<!-- MANUAL-EDIT -->` æˆ– `<!-- KEEP -->` æ ‡è®°\n3. **æ™ºèƒ½åˆå¹¶** - ä¿ç•™æ‰‹åŠ¨ç¼–è¾‘åŒºåŸŸï¼Œæ›´æ–°è‡ªåŠ¨ç”ŸæˆåŒºåŸŸ\n\n---\n\n## æ ¸å¿ƒç­–ç•¥\n\n### ç­–ç•¥ 1: åŒºåŸŸæ ‡è®°\n\næ–‡æ¡£ä¸­çš„è‡ªåŠ¨ç”ŸæˆåŒºåŸŸä½¿ç”¨ä»¥ä¸‹æ ‡è®°åŒ…è£¹ï¼š\n\n```markdown\n<!-- WIKI-GEN-START: region-name -->\nè‡ªåŠ¨ç”Ÿæˆçš„å†…å®¹\n<!-- WIKI-GEN-END: region-name -->\n```\n\n### ç­–ç•¥ 2: æ‰‹åŠ¨ç¼–è¾‘ä¿æŠ¤\n\nç”¨æˆ·å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¿æŠ¤å†…å®¹ï¼š\n\n```markdown\n<!-- MANUAL-EDIT -->\nè¿™éƒ¨åˆ†å†…å®¹æ°¸è¿œä¸ä¼šè¢«è¦†ç›–\n<!-- END-MANUAL-EDIT -->\n```\n\næˆ–ä½¿ç”¨ç®€åŒ–æ ‡è®°ï¼š\n\n```markdown\n<!-- KEEP -->\nä¿ç•™æ­¤å†…å®¹\n<!-- END-KEEP -->\n```\n\n### ç­–ç•¥ 3: åˆå¹¶è§„åˆ™\n\n| æƒ…å†µ | è¡Œä¸º |\n|------|------|\n| åŒºåŸŸæœ‰ `MANUAL-EDIT` æ ‡è®° | å®Œå…¨ä¿ç•™ç°æœ‰å†…å®¹ |\n| åŒºåŸŸæœ‰ `KEEP` æ ‡è®° | å®Œå…¨ä¿ç•™ç°æœ‰å†…å®¹ |\n| åŒºåŸŸå†…å®¹å˜åŒ– >20% | æ ‡è®°ä¸º `WIKI-GEN-PRESERVED` |\n| åŒºåŸŸæ— æ‰‹åŠ¨æ ‡è®° | ä½¿ç”¨æ–°ç”Ÿæˆçš„å†…å®¹ |\n| åŒºåŸŸå¤–å†…å®¹ | å®Œå…¨ä¿ç•™ |\n\n---\n\n## æ ¸å¿ƒå‡½æ•°\n\n### smart_merge()\n\n**åŠŸèƒ½**: åˆå¹¶ç°æœ‰æ–‡æ¡£å’Œæ–°å†…å®¹ï¼Œä¿ç•™æ‰‹åŠ¨ç¼–è¾‘\n\n**ç”¨æ³•**:\n```bash\nsmart_merge <existing_doc_path> <new_content> [output_path]\n```\n\n**å‚æ•°**:\n- `existing_doc_path`: ç°æœ‰æ–‡æ¡£è·¯å¾„\n- `new_content`: æ–°ç”Ÿæˆçš„å†…å®¹ï¼ˆå­—ç¬¦ä¸²ï¼‰\n- `output_path`: å¯é€‰ï¼Œè¾“å‡ºè·¯å¾„ï¼ˆé»˜è®¤è¦†ç›–ç°æœ‰æ–‡æ¡£ï¼‰\n\n**è¾“å‡º**: åˆå¹¶åçš„æ–‡æ¡£å†…å®¹\n\n```bash\n#!/usr/bin/env bash\n# æ™ºèƒ½åˆå¹¶ä¸»å‡½æ•°\n# ç”¨æ³•: smart_merge <existing_doc_path> <new_content> [output_path]\n\nsmart_merge() {\n    local existing_doc=$1\n    local new_content=$2\n    local output_path=${3:-$existing_doc}\n\n    # æ£€æŸ¥ç°æœ‰æ–‡æ¡£æ˜¯å¦å­˜åœ¨\n    if [ ! -f \"$existing_doc\" ]; then\n        # æ–‡æ¡£ä¸å­˜åœ¨ï¼Œç›´æ¥åˆ›å»º\n        echo \"$new_content\" > \"$output_path\"\n        echo \"âœ… å·²åˆ›å»ºæ–°æ–‡æ¡£: $output_path\"\n        return 0\n    fi\n\n    # ä½¿ç”¨å†…è” Python æ‰§è¡Œåˆå¹¶\n    local merged=$(python3 <<'PYTHON_EOF'\nimport re\nimport sys\nimport json\n\ndef extract_regions(content):\n    \"\"\"æå–æ‰€æœ‰æ ‡è®°åŒºåŸŸ\"\"\"\n    regions = {}\n    pattern = r'<!-- WIKI-GEN-START: ([\\w-]+) -->(.*?)<!-- WIKI-GEN-END: \\1 -->'\n    matches = re.finditer(pattern, content, re.DOTALL)\n    for match in matches:\n        name = match.group(1)\n        region_content = match.group(2).strip()\n        regions[name] = region_content\n    return regions\n\ndef detect_manual_edit(region_content):\n    \"\"\"æ£€æµ‹æ˜¯å¦æœ‰æ‰‹åŠ¨ç¼–è¾‘æ ‡è®°\"\"\"\n    manual_markers = [\n        '<!-- MANUAL-EDIT -->',\n        '<!-- KEEP -->',\n        '<!-- END-MANUAL-EDIT -->',\n        '<!-- END-KEEP -->'\n    ]\n    for marker in manual_markers:\n        if marker in region_content:\n            return True\n    return False\n\ndef calculate_content_similarity(content1, content2):\n    \"\"\"è®¡ç®—å†…å®¹ç›¸ä¼¼åº¦ï¼ˆç®€å•æ–¹æ³•ï¼‰\"\"\"\n    if not content1 or not content2:\n        return 0.0\n\n    lines1 = set(content1.split('\\n'))\n    lines2 = set(content2.split('\\n'))\n\n    if not lines1 or not lines2:\n        return 0.0\n\n    intersection = len(lines1 & lines2)\n    union = len(lines1 | lines2)\n\n    return intersection / union if union > 0 else 0.0\n\ndef merge_documents(existing, new):\n    \"\"\"åˆå¹¶ä¸¤ä¸ªæ–‡æ¡£\"\"\"\n    existing_regions = extract_regions(existing)\n    new_regions = extract_regions(new)\n\n    merged_lines = []\n    in_region = False\n    current_region = None\n    region_content = []\n\n    lines = existing.split('\\n')\n    i = 0\n\n    while i < len(lines):\n        line = lines[i]\n\n        # æ£€æµ‹åŒºåŸŸå¼€å§‹\n        start_match = re.match(r'<!-- WIKI-GEN-START: ([\\w-]+) -->', line)\n        if start_match:\n            in_region = True\n            current_region = start_match.group(1)\n            region_content = []\n            i += 1\n            continue\n\n        # æ£€æµ‹åŒºåŸŸç»“æŸ\n        end_match = re.match(r'<!-- WIKI-GEN-END: [\\w-]+ -->', line)\n        if end_match and in_region:\n            in_region = False\n\n            existing_content = '\\n'.join(region_content)\n            new_content = new_regions.get(current_region, '')\n\n            # å†³ç­–ï¼šä½¿ç”¨å“ªä¸ªç‰ˆæœ¬\n            use_existing = False\n            reason = \"\"\n\n            if detect_manual_edit(existing_content):\n                use_existing = True\n                reason = \"MANUAL_EDIT\"\n            elif not new_content:\n                # æ–°å†…å®¹ä¸­æ²¡æœ‰è¯¥åŒºåŸŸï¼Œä¿ç•™ç°æœ‰\n                use_existing = True\n                reason = \"NOT_IN_NEW\"\n            else:\n                # è®¡ç®—ç›¸ä¼¼åº¦\n                similarity = calculate_content_similarity(existing_content, new_content)\n                if similarity < 0.8:  # ç›¸ä¼¼åº¦ä½äº 80%\n                    use_existing = True\n                    reason = f\"LOW_SIMILARITY({similarity:.2f})\"\n\n            # æ·»åŠ æ ‡è®°å’Œå†…å®¹\n            if use_existing:\n                merged_lines.append(f\"<!-- WIKI-GEN-PRESERVED: {current_region} --> ({reason})\")\n                merged_lines.append(existing_content)\n            else:\n                merged_lines.append(f\"<!-- WIKI-GEN-UPDATED: {current_region} -->\")\n                merged_lines.append(new_content)\n\n            merged_lines.append(f\"<!-- WIKI-GEN-END: {current_region} -->\")\n            current_region = None\n            i += 1\n            continue\n\n        # æ”¶é›†åŒºåŸŸå†…å®¹\n        if in_region:\n            region_content.append(line)\n        else:\n            merged_lines.append(line)\n\n        i += 1\n\n    return '\\n'.join(merged_lines)\n\n# ç”Ÿæˆåˆå¹¶æŠ¥å‘Š\ndef generate_merge_report(existing, new, merged):\n    \"\"\"ç”Ÿæˆåˆå¹¶æŠ¥å‘Š\"\"\"\n    existing_regions = extract_regions(existing)\n    new_regions = extract_regions(new)\n\n    all_regions = set(existing_regions.keys()) | set(new_regions.keys())\n\n    report = {\n        'total_regions': len(all_regions),\n        'preserved_regions': 0,\n        'updated_regions': 0,\n        'new_regions': 0,\n        'deleted_regions': 0,\n        'regions_detail': []\n    }\n\n    for region in all_regions:\n        existing_content = existing_regions.get(region, '')\n        new_content = new_regions.get(region, '')\n\n        if not existing_content and new_content:\n            report['new_regions'] += 1\n            report['regions_detail'].append({\n                'region': region,\n                'status': 'new'\n            })\n        elif existing_content and not new_content:\n            report['deleted_regions'] += 1\n            report['regions_detail'].append({\n                'region': region,\n                'status': 'deleted'\n            })\n        elif detect_manual_edit(existing_content):\n            report['preserved_regions'] += 1\n            report['regions_detail'].append({\n                'region': region,\n                'status': 'preserved',\n                'reason': 'manual_edit'\n            })\n        else:\n            similarity = calculate_content_similarity(existing_content, new_content)\n            if similarity < 0.8:\n                report['preserved_regions'] += 1\n                report['regions_detail'].append({\n                    'region': region,\n                    'status': 'preserved',\n                    'reason': f'low_similarity({similarity:.2f})'\n                })\n            else:\n                report['updated_regions'] += 1\n                report['regions_detail'].append({\n                    'region': region,\n                    'status': 'updated'\n                })\n\n    return report\n\n# ä¸»é€»è¾‘\nif len(sys.argv) < 3:\n    print(\"Usage: smart_merge <existing_doc> <new_content>\", file=sys.stderr)\n    sys.exit(1)\n\nexisting_path = sys.argv[1]\nnew_content = sys.argv[2]\n\ntry:\n    with open(existing_path, 'r', encoding='utf-8') as f:\n        existing = f.read()\nexcept Exception as e:\n    print(f\"Error reading existing document: {e}\", file=sys.stderr)\n    print(new_content)  # è¿”å›æ–°å†…å®¹\n    sys.exit(0)\n\nmerged = merge_documents(existing, new_content)\nreport = generate_merge_report(existing, new_content, merged)\n\n# è¾“å‡ºåˆå¹¶åçš„å†…å®¹\nprint(merged)\n\n# è¾“å‡ºæŠ¥å‘Šåˆ° stderr\nprint(json.dumps(report, indent=2, ensure_ascii=False), file=sys.stderr)\nPYTHON_EOF\n)\n\n    # å†™å…¥æ–‡ä»¶\n    echo \"$merged\" > \"$output_path\"\n\n    # æå–åˆå¹¶æŠ¥å‘Šï¼ˆstderrï¼‰\n    local report=$(python3 <<'PYTHON_EOF'\nimport sys\nimport json\n\n# è¯»å– stderr ä¸­çš„æŠ¥å‘Š\nreport_data = []\nfor line in sys.stderr:\n    try:\n        data = json.loads(line)\n        report_data.append(data)\n    except:\n        continue\n\nif report_data:\n    print(json.dumps(report_data[0], indent=2, ensure_ascii=False))\nPYTHON_EOF\n)\n\n    # è¾“å‡ºæŠ¥å‘Š\n    if [ -n \"$report\" ]; then\n        local total=$(echo \"$report\" | jq '.total_regions')\n        local preserved=$(echo \"$report\" | jq '.preserved_regions')\n        local updated=$(echo \"$report\" | jq '.updated_regions')\n\n        echo \"ğŸ“Š åˆå¹¶æŠ¥å‘Š:\"\n        echo \"  - æ€»åŒºåŸŸæ•°: $total\"\n        echo \"  - ä¿ç•™åŒºåŸŸ: $preserved\"\n        echo \"  - æ›´æ–°åŒºåŸŸ: $updated\"\n\n        # æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯\n        if [ \"$preserved\" -gt 0 ]; then\n            echo \"ğŸ”’ ä¿ç•™çš„åŒºåŸŸ:\"\n            echo \"$report\" | jq -r '.regions_detail[] | select(.status == \"preserved\") | \"  - \\(.region): \\(.reason)\"'\n        fi\n    fi\n\n    echo \"âœ… æ–‡æ¡£å·²åˆå¹¶: $output_path\"\n}\n```\n\n---\n\n## è¾…åŠ©å‡½æ•°\n\n### extract_regions()\n\n**åŠŸèƒ½**: æå–æ–‡æ¡£ä¸­çš„æ‰€æœ‰æ ‡è®°åŒºåŸŸ\n\n```python\nimport re\n\ndef extract_regions(content):\n    \"\"\"æå–æ‰€æœ‰æ ‡è®°åŒºåŸŸ\"\"\"\n    regions = {}\n    pattern = r'<!-- WIKI-GEN-START: ([\\w-]+) -->(.*?)<!-- WIKI-GEN-END: \\1 -->'\n    matches = re.finditer(pattern, content, re.DOTALL)\n    for match in matches:\n        name = match.group(1)\n        region_content = match.group(2).strip()\n        regions[name] = region_content\n    return regions\n```\n\n### detect_manual_edit()\n\n**åŠŸèƒ½**: æ£€æµ‹åŒºåŸŸæ˜¯å¦æœ‰æ‰‹åŠ¨ç¼–è¾‘æ ‡è®°\n\n```python\ndef detect_manual_edit(region_content):\n    \"\"\"æ£€æµ‹æ˜¯å¦æœ‰æ‰‹åŠ¨ç¼–è¾‘æ ‡è®°\"\"\"\n    manual_markers = [\n        '<!-- MANUAL-EDIT -->',\n        '<!-- KEEP -->'\n    ]\n    for marker in manual_markers:\n        if marker in region_content:\n            return True\n    return False\n```\n\n### calculate_content_similarity()\n\n**åŠŸèƒ½**: è®¡ç®—ä¸¤ä¸ªå†…å®¹çš„ç›¸ä¼¼åº¦\n\n```python\ndef calculate_content_similarity(content1, content2):\n    \"\"\"è®¡ç®—å†…å®¹ç›¸ä¼¼åº¦ï¼ˆç®€å•æ–¹æ³•ï¼‰\"\"\"\n    if not content1 or not content2:\n        return 0.0\n\n    lines1 = set(content1.split('\\n'))\n    lines2 = set(content2.split('\\n'))\n\n    if not lines1 or not lines2:\n        return 0.0\n\n    intersection = len(lines1 & lines2)\n    union = len(lines1 | lines2)\n\n    return intersection / union if union > 0 else 0.0\n```\n\n---\n\n## ä½¿ç”¨ç¤ºä¾‹\n\n### ç¤ºä¾‹ 1: åŸºæœ¬åˆå¹¶\n\n```bash\n# ç°æœ‰æ–‡æ¡£: docs/zh/æ¦‚è¿°.md\n# æ–°å†…å®¹: $NEW_CONTENT\n\nsmart_merge \"docs/zh/æ¦‚è¿°.md\" \"$NEW_CONTENT\"\n```\n\n**è¾“å‡º**:\n```\nğŸ“Š åˆå¹¶æŠ¥å‘Š:\n  - æ€»åŒºåŸŸæ•°: 5\n  - ä¿ç•™åŒºåŸŸ: 1\n  - æ›´æ–°åŒºåŸŸ: 4\nğŸ”’ ä¿ç•™çš„åŒºåŸŸ:\n  - concepts: manual_edit\nâœ… æ–‡æ¡£å·²åˆå¹¶: docs/zh/æ¦‚è¿°.md\n```\n\n### ç¤ºä¾‹ 2: è¾“å‡ºåˆ°ä¸åŒæ–‡ä»¶\n\n```bash\n# ç”Ÿæˆé¢„è§ˆç‰ˆæœ¬\nsmart_merge \"docs/zh/æ¦‚è¿°.md\" \"$NEW_CONTENT\" \"docs/zh/æ¦‚è¿°.preview.md\"\n```\n\n### ç¤ºä¾‹ 3: æ‰¹é‡åˆå¹¶\n\n```bash\n# éå†æ‰€æœ‰å—å½±å“çš„æ–‡æ¡£\nfor doc in \"${affected_docs[@]}\"; do\n    existing_doc=\"docs/zh/$doc.md\"\n    new_content=$(generate_document \"$doc\")\n\n    if [ -f \"$existing_doc\" ]; then\n        smart_merge \"$existing_doc\" \"$new_content\"\n    else\n        echo \"$new_content\" > \"$existing_doc\"\n    fi\ndone\n```\n\n---\n\n## åˆå¹¶æŠ¥å‘Šæ ¼å¼\n\n```json\n{\n  \"total_regions\": 5,\n  \"preserved_regions\": 1,\n  \"updated_regions\": 4,\n  \"new_regions\": 0,\n  \"deleted_regions\": 0,\n  \"regions_detail\": [\n    {\n      \"region\": \"metadata\",\n      \"status\": \"updated\"\n    },\n    {\n      \"region\": \"concepts\",\n      \"status\": \"preserved\",\n      \"reason\": \"manual_edit\"\n    },\n    {\n      \"region\": \"usage\",\n      \"status\": \"updated\"\n    }\n  ]\n}\n```\n\n---\n\n## é…ç½®é€‰é¡¹\n\n### wiki-config.json\n\n```json\n{\n  \"smart_merge\": {\n    \"enabled\": true,\n    \"region_markers\": {\n      \"start\": \"<!-- WIKI-GEN-START: {name} -->\",\n      \"end\": \"<!-- WIKI-GEN-END: {name} -->\"\n    },\n    \"manual_edit_markers\": [\n      \"<!-- MANUAL-EDIT -->\",\n      \"<!-- KEEP -->\"\n    ],\n    \"similarity_threshold\": 0.8,\n    \"merge_conflicts\": \"skip\"  // \"skip\" | \"overwrite\" | \"ask\"\n  }\n}\n```\n\n---\n\n## æ•…éšœæ’é™¤\n\n### é—®é¢˜ 1: åˆå¹¶åæ–‡æ¡£æ ¼å¼é”™ä¹±\n\n**åŸå› **: åŒºåŸŸæ ‡è®°ä¸åŒ¹é…\n\n**è§£å†³æ–¹æ¡ˆ**:\n```bash\n# æ£€æŸ¥æ–‡æ¡£ä¸­çš„åŒºåŸŸæ ‡è®°\ngrep \"<!-- WIKI-GEN\" docs/zh/æ¦‚è¿°.md\n```\n\nç¡®ä¿æ¯ä¸ª `<!-- WIKI-GEN-START -->` éƒ½æœ‰å¯¹åº”çš„ `<!-- WIKI-GEN-END -->`\n\n### é—®é¢˜ 2: æ‰‹åŠ¨ç¼–è¾‘å†…å®¹è¢«è¦†ç›–\n\n**åŸå› **: æœªæ·»åŠ æ‰‹åŠ¨ç¼–è¾‘æ ‡è®°\n\n**è§£å†³æ–¹æ¡ˆ**: åœ¨éœ€è¦ä¿æŠ¤çš„å†…å®¹å‰åæ·»åŠ æ ‡è®°ï¼š\n```markdown\n<!-- MANUAL-EDIT -->\nè¿™éƒ¨åˆ†å†…å®¹ä¸ä¼šè¢«è¦†ç›–\n<!-- END-MANUAL-EDIT -->\n```\n\n### é—®é¢˜ 3: ç›¸ä¼¼åº¦æ£€æµ‹ä¸å‡†ç¡®\n\n**åŸå› **: ç®€å•çš„è¡ŒåŒ¹é…ç®—æ³•ä¸å¤Ÿç²¾ç¡®\n\n**è§£å†³æ–¹æ¡ˆ**: è°ƒæ•´ç›¸ä¼¼åº¦é˜ˆå€¼\n```json\n{\n  \"smart_merge\": {\n    \"similarity_threshold\": 0.9  // æé«˜é˜ˆå€¼åˆ° 90%\n  }\n}\n```\n\n---\n\n## æœ€ä½³å®è·µ\n\n### 1. ä½¿ç”¨æœ‰æ„ä¹‰çš„åŒºåŸŸåç§°\n\n```markdown\n<!-- WIKI-GEN-START: user-authentication -->\nç”¨æˆ·è®¤è¯å†…å®¹...\n<!-- WIKI-GEN-END: user-authentication -->\n```\n\né¿å…ä½¿ç”¨ `region1`, `region2` ç­‰é€šç”¨åç§°ã€‚\n\n### 2. ä¿æŠ¤å…³é”®é…ç½®\n\n```markdown\n## ç¯å¢ƒå˜é‡\n\n<!-- MANUAL-EDIT -->\nä»¥ä¸‹ç¯å¢ƒå˜é‡å¿…é¡»æ‰‹åŠ¨é…ç½®ï¼š\n- API_KEY: ä»æ§åˆ¶å°è·å–\n- SECRET_KEY: ä½¿ç”¨å¼ºå¯†ç ç”Ÿæˆå™¨\n<!-- END-MANUAL-EDIT -->\n```\n\n### 3. å®šæœŸæ£€æŸ¥åˆå¹¶æŠ¥å‘Š\n\n```bash\n# ç”Ÿæˆåˆå¹¶åæŸ¥çœ‹æŠ¥å‘Š\nsmart_merge \"docs/zh/æ¦‚è¿°.md\" \"$NEW_CONTENT\" | tee report.txt\n```\n\n---\n\n## é›†æˆç‚¹\n\n### è°ƒç”¨æ–¹: wiki-generate å‘½ä»¤\n\n```markdown\n### å¢é‡æ›´æ–°æµç¨‹\n\n1. **æ£€æµ‹å˜æ›´**\n   ```bash\n   changes=$(detect_changes \"$PROJECT_DIR\")\n   ```\n\n2. **ç”Ÿæˆæ–°å†…å®¹**\n   ```bash\n   new_content=$(generate_document \"$doc_name\")\n   ```\n\n3. **æ™ºèƒ½åˆå¹¶**\n   ```bash\n   if [ -f \"$OUTPUT_DIR/$doc_name.md\" ]; then\n       smart_merge \"$OUTPUT_DIR/$doc_name.md\" \"$new_content\"\n   else\n       echo \"$new_content\" > \"$OUTPUT_DIR/$doc_name.md\"\n   fi\n   ```\n\n4. **è®°å½•å…ƒæ•°æ®**\n   ```bash\n   source_files=$(get_document_sources \"$doc_name\")\n   record_document \"$doc_name\" \"$source_files\" \"$current_commit\"\n   ```\n```\n\n---\n\n**ç‰ˆæœ¬**: 3.1.0\n**æœ€åæ›´æ–°**: 2026-01-07\n",
        "plugins/skills/doc-generator/tech_stack_detection.md": "# æŠ€æœ¯æ ˆæ£€æµ‹ Skill\n\n**åŠŸèƒ½**: è‡ªåŠ¨æ£€æµ‹é¡¹ç›®ä½¿ç”¨çš„ 20+ æŠ€æœ¯æ ˆå’Œæ¡†æ¶\n\n**æ£€æµ‹æ–¹æ³•**: ä½¿ç”¨ `grep`ã€`find` ç­‰å·¥å…·æ‰«æé¡¹ç›®æ–‡ä»¶ï¼Œè¯†åˆ«å¯¼å…¥è¯­å¥ã€é…ç½®æ–‡ä»¶ã€ä¾èµ–å£°æ˜\n\n**æ€§èƒ½ç›®æ ‡**: æ£€æµ‹æ—¶é—´ < 5 ç§’ï¼ˆä¸­å‹é¡¹ç›®ï¼‰\n\n---\n\n## æ ¸å¿ƒæ£€æµ‹å‡½æ•°\n\n### detect_tech_stack()\n\n```bash\n#!/usr/bin/env bash\n# æŠ€æœ¯æ ˆæ£€æµ‹ä¸»å‡½æ•°\n# ç”¨æ³•: detect_tech_stack <project_dir>\n\ndetect_tech_stack() {\n    local project_dir=$1\n    local tech_stack=()\n    local src_dir=\"$project_dir/src\"\n\n    # å¦‚æœ src/ ä¸å­˜åœ¨ï¼Œå°è¯•å…¶ä»–å¸¸è§ç›®å½•\n    if [ ! -d \"$src_dir\" ]; then\n        if [ -d \"$project_dir/app\" ]; then\n            src_dir=\"$project_dir/app\"\n        else\n            src_dir=\"$project_dir\"\n        fi\n    fi\n\n    # æ’é™¤æµ‹è¯•ç›®å½•å’Œç¼“å­˜ç›®å½•\n    local exclude_dirs=\"--exclude-dir=tests --exclude-dir=test --exclude-dir=__pycache__ --exclude-dir=.git --exclude-dir=node_modules --exclude-dir=dist --exclude-dir=build\"\n\n    # 1. åç«¯æ¡†æ¶æ£€æµ‹ï¼ˆ4 ç§ï¼‰\n    tech_stack+=($(detect_backend_frameworks \"$src_dir\" \"$exclude_dirs\"))\n\n    # 2. ORM æ£€æµ‹ï¼ˆ3 ç§ï¼‰\n    tech_stack+=($(detect_orms \"$src_dir\" \"$exclude_dirs\"))\n\n    # 3. CLI æ¡†æ¶æ£€æµ‹ï¼ˆ3 ç§ï¼‰\n    tech_stack+=($(detect_cli_frameworks \"$src_dir\" \"$exclude_dirs\"))\n\n    # 4. å‰ç«¯æ¡†æ¶æ£€æµ‹ï¼ˆ3 ç§ï¼‰\n    tech_stack+=($(detect_frontend_frameworks \"$project_dir\" \"$src_dir\" \"$exclude_dirs\"))\n\n    # 5. ä»»åŠ¡é˜Ÿåˆ—æ£€æµ‹ï¼ˆ2 ç§ï¼‰\n    tech_stack+=($(detect_task_queues \"$src_dir\" \"$exclude_dirs\"))\n\n    # 6. æ¶ˆæ¯é˜Ÿåˆ—æ£€æµ‹ï¼ˆ2 ç§ï¼‰\n    tech_stack+=($(detect_message_queues \"$src_dir\" \"$exclude_dirs\"))\n\n    # 7. æ•°æ®åº“æ£€æµ‹ï¼ˆ3 ç§ï¼‰\n    tech_stack+=($(detect_databases \"$project_dir\" \"$src_dir\" \"$exclude_dirs\"))\n\n    # 8. ç¼“å­˜æ£€æµ‹ï¼ˆ2 ç§ï¼‰\n    tech_stack+=($(detect_caches \"$src_dir\" \"$exclude_dirs\"))\n\n    # 9. å®¹å™¨åŒ–æ£€æµ‹ï¼ˆ3 ç§ï¼‰\n    tech_stack+=($(detect_containerization \"$project_dir\"))\n\n    # 10. API è§„èŒƒæ£€æµ‹ï¼ˆ3 ç§ï¼‰\n    tech_stack+=($(detect_api_specs \"$src_dir\" \"$exclude_dirs\"))\n\n    # å»é‡ï¼ˆåŒä¸€ç±»åˆ«åªä¿ç•™æœ€é«˜ä¼˜å…ˆçº§ï¼‰\n    tech_stack=($(deduplicate_tech_stack \"${tech_stack[@]}\"))\n\n    echo \"${tech_stack[@]}\"\n}\n```\n\n---\n\n## 1. åç«¯æ¡†æ¶æ£€æµ‹\n\n```bash\ndetect_backend_frameworks() {\n    local src_dir=$1\n    local exclude_dirs=$2\n    local frameworks=()\n\n    # FastAPI\n    if grep -rq \"from fastapi\" \"$src_dir\" $exclude_dirs 2>/dev/null || \\\n       grep -rq \"import fastapi\" \"$src_dir\" $exclude_dirs 2>/dev/null; then\n        frameworks+=(\"fastapi\")\n    fi\n\n    # Flask\n    if grep -rq \"from flask\" \"$src_dir\" $exclude_dirs 2>/dev/null; then\n        frameworks+=(\"flask\")\n    fi\n\n    # Django\n    if grep -rq \"from django\" \"$src_dir\" $exclude_dirs 2>/dev/null || \\\n       grep -rq \"import django\" \"$src_dir\" $exclude_dirs 2>/dev/null || \\\n       [ -f \"$(dirname \"$src_dir\")/manage.py\" ]; then\n        frameworks+=(\"django\")\n    fi\n\n    # Tornado\n    if grep -rq \"import tornado\" \"$src_dir\" $exclude_dirs 2>/dev/null || \\\n       grep -rq \"from tornado\" \"$src_dir\" $exclude_dirs 2>/dev/null; then\n        frameworks+=(\"tornado\")\n    fi\n\n    echo \"${frameworks[@]}\"\n}\n```\n\n---\n\n## 2. ORM æ£€æµ‹\n\n```bash\ndetect_orms() {\n    local src_dir=$1\n    local exclude_dirs=$2\n    local orms=()\n\n    # SQLAlchemy\n    if grep -rq \"from sqlalchemy\" \"$src_dir\" $exclude_dirs 2>/dev/null || \\\n       grep -rq \"import sqlalchemy\" \"$src_dir\" $exclude_dirs 2>/dev/null; then\n        orms+=(\"sqlalchemy\")\n    fi\n\n    # Django ORM\n    if grep -rq \"from django.db\" \"$src_dir\" $exclude_dirs 2>/dev/null; then\n        orms+=(\"django-orm\")\n    fi\n\n    # Tortoise ORM\n    if grep -rq \"from tortoise\" \"$src_dir\" $exclude_dirs 2>/dev/null || \\\n       grep -rq \"import tortoise\" \"$src_dir\" $exclude_dirs 2>/dev/null; then\n        orms+=(\"tortoise-orm\")\n    fi\n\n    echo \"${orms[@]}\"\n}\n```\n\n---\n\n## 3. CLI æ¡†æ¶æ£€æµ‹\n\n```bash\ndetect_cli_frameworks() {\n    local src_dir=$1\n    local exclude_dirs=$2\n    local frameworks=()\n\n    # Click\n    if grep -rq \"import click\" \"$src_dir\" $exclude_dirs 2>/dev/null || \\\n       grep -rq \"from click\" \"$src_dir\" $exclude_dirs 2>/dev/null; then\n        frameworks+=(\"click\")\n    fi\n\n    # Typer\n    if grep -rq \"import typer\" \"$src_dir\" $exclude_dirs 2>/dev/null || \\\n       grep -rq \"from typer\" \"$src_dir\" $exclude_dirs 2>/dev/null; then\n        frameworks+=(\"typer\")\n    fi\n\n    # argparse (æ ‡å‡†åº“)\n    if grep -rq \"import argparse\" \"$src_dir\" $exclude_dirs 2>/dev/null; then\n        frameworks+=(\"argparse\")\n    fi\n\n    echo \"${frameworks[@]}\"\n}\n```\n\n---\n\n## 4. å‰ç«¯æ¡†æ¶æ£€æµ‹\n\n```bash\ndetect_frontend_frameworks() {\n    local project_dir=$1\n    local src_dir=$2\n    local exclude_dirs=$3\n    local frameworks=()\n\n    # Reactï¼ˆæ£€æŸ¥ package.jsonï¼‰\n    if [ -f \"$project_dir/package.json\" ]; then\n        if grep -q '\"react\"' \"$project_dir/package.json\" 2>/dev/null || \\\n           grep -q '\"@types/react\"' \"$project_dir/package.json\" 2>/dev/null; then\n            frameworks+=(\"react\")\n        fi\n    fi\n\n    # Vueï¼ˆæ£€æŸ¥ package.jsonï¼‰\n    if [ -f \"$project_dir/package.json\" ]; then\n        if grep -q '\"vue\"' \"$project_dir/package.json\" 2>/dev/null || \\\n           grep -q '\"@vitejs/plugin-vue\"' \"$project_dir/package.json\" 2>/dev/null; then\n            frameworks+=(\"vue\")\n        fi\n    fi\n\n    # Streamlitï¼ˆæ£€æŸ¥å¯¼å…¥ï¼‰\n    if grep -rq \"import streamlit\" \"$src_dir\" $exclude_dirs 2>/dev/null || \\\n       grep -rq \"import streamlit\" \"$src_dir\" $exclude_dirs 2>/dev/null; then\n        frameworks+=(\"streamlit\")\n    fi\n\n    echo \"${frameworks[@]}\"\n}\n```\n\n---\n\n## 5. ä»»åŠ¡é˜Ÿåˆ—æ£€æµ‹\n\n```bash\ndetect_task_queues() {\n    local src_dir=$1\n    local exclude_dirs=$2\n    local queues=()\n\n    # Celery\n    if grep -rq \"from celery\" \"$src_dir\" $exclude_dirs 2>/dev/null || \\\n       grep -rq \"import celery\" \"$src_dir\" $exclude_dirs 2>/dev/null; then\n        queues+=(\"celery\")\n    fi\n\n    # RQ (Redis Queue)\n    if grep -rq \"from rq\" \"$src_dir\" $exclude_dirs 2>/dev/null || \\\n       grep -rq \"import rq\" \"$src_dir\" $exclude_dirs 2>/dev/null; then\n        queues+=(\"rq\")\n    fi\n\n    echo \"${queues[@]}\"\n}\n```\n\n---\n\n## 6. æ¶ˆæ¯é˜Ÿåˆ—æ£€æµ‹\n\n```bash\ndetect_message_queues() {\n    local src_dir=$1\n    local exclude_dirs=$2\n    local queues=()\n\n    # Kafka\n    if grep -rq \"from kafka\" \"$src_dir\" $exclude_dirs 2>/dev/null || \\\n       grep -rq \"import kafka\" \"$src_dir\" $exclude_dirs 2>/dev/null || \\\n       grep -rq \"aiokafka\" \"$src_dir\" $exclude_dirs 2>/dev/null; then\n        queues+=(\"kafka\")\n    fi\n\n    # RabbitMQ\n    if grep -rq \"from pika\" \"$src_dir\" $exclude_dirs 2>/dev/null || \\\n       grep -rq \"import pika\" \"$src_dir\" $exclude_dirs 2>/dev/null; then\n        queues+=(\"rabbitmq\")\n    fi\n\n    echo \"${queues[@]}\"\n}\n```\n\n---\n\n## 7. æ•°æ®åº“æ£€æµ‹\n\n```bash\ndetect_databases() {\n    local project_dir=$1\n    local src_dir=$2\n    local exclude_dirs=$3\n    local databases=()\n\n    # æ£€æŸ¥ä¾èµ–æ–‡ä»¶ï¼ˆrequirements.txtã€pyproject.tomlã€setup.pyï¼‰\n    local dep_files=(\n        \"$project_dir/requirements.txt\"\n        \"$project_dir/pyproject.toml\"\n        \"$project_dir/setup.py\"\n    )\n\n    # PostgreSQL\n    for dep_file in \"${dep_files[@]}\"; do\n        if [ -f \"$dep_file\" ]; then\n            if grep -qi \"psycopg\" \"$dep_file\" 2>/dev/null || \\\n               grep -qi \"postgresql\" \"$dep_file\" 2>/dev/null; then\n                databases+=(\"postgresql\")\n                break\n            fi\n        fi\n    done\n\n    # MySQL\n    for dep_file in \"${dep_files[@]}\"; do\n        if [ -f \"$dep_file\" ]; then\n            if grep -qi \"pymysql\" \"$dep_file\" 2>/dev/null || \\\n               grep -qi \"mysqlclient\" \"$dep_file\" 2>/dev/null || \\\n               grep -qi \"mysql\" \"$dep_file\" 2>/dev/null; then\n                databases+=(\"mysql\")\n                break\n            fi\n        fi\n    done\n\n    # MongoDB\n    for dep_file in \"${dep_files[@]}\"; do\n        if [ -f \"$dep_file\" ]; then\n            if grep -qi \"pymongo\" \"$dep_file\" 2>/dev/null || \\\n               grep -qi \"mongodb\" \"$dep_file\" 2>/dev/null; then\n                databases+=(\"mongodb\")\n                break\n            fi\n        fi\n    done\n\n    echo \"${databases[@]}\"\n}\n```\n\n---\n\n## 8. ç¼“å­˜æ£€æµ‹\n\n```bash\ndetect_caches() {\n    local src_dir=$1\n    local exclude_dirs=$2\n    local caches=()\n\n    # Redis\n    if grep -rq \"import redis\" \"$src_dir\" $exclude_dirs 2>/dev/null || \\\n       grep -rq \"from redis\" \"$src_dir\" $exclude_dirs 2>/dev/null; then\n        caches+=(\"redis\")\n    fi\n\n    # Memcached\n    if grep -rq \"import memcache\" \"$src_dir\" $exclude_dirs 2>/dev/null || \\\n       grep -rq \"from memcache\" \"$src_dir\" $exclude_dirs 2>/dev/null; then\n        caches+=(\"memcached\")\n    fi\n\n    echo \"${caches[@]}\"\n}\n```\n\n---\n\n## 9. å®¹å™¨åŒ–æ£€æµ‹\n\n```bash\ndetect_containerization() {\n    local project_dir=$1\n    local containers=()\n\n    # Dockerfile\n    if [ -f \"$project_dir/Dockerfile\" ]; then\n        containers+=(\"dockerfile\")\n    fi\n\n    # docker-compose\n    if [ -f \"$project_dir/docker-compose.yml\" ] || \\\n       [ -f \"$project_dir/docker-compose.yaml\" ]; then\n        containers+=(\"docker-compose\")\n    fi\n\n    # Kubernetes\n    if [ -d \"$project_dir/k8s\" ] || \\\n       [ -d \"$project_dir/kubernetes\" ] || \\\n       [ -f \"$project_dir/deployment.yaml\" ] || \\\n       [ -f \"$project_dir/deployment.yml\" ]; then\n        containers+=(\"kubernetes\")\n    fi\n\n    echo \"${containers[@]}\"\n}\n```\n\n---\n\n## 10. API è§„èŒƒæ£€æµ‹\n\n```bash\ndetect_api_specs() {\n    local src_dir=$1\n    local exclude_dirs=$2\n    local specs=()\n\n    # OpenAPI/Swagger\n    if grep -rq \"from fastapi.openapi\" \"$src_dir\" $exclude_dirs 2>/dev/null || \\\n       grep -rq \"swagger\" \"$src_dir\" $exclude_dirs 2>/dev/null; then\n        specs+=(\"openapi\")\n    fi\n\n    # GraphQL\n    if grep -rq \"import graphql\" \"$src_dir\" $exclude_dirs 2>/dev/null || \\\n       grep -rq \"from graphql\" \"$src_dir\" $exclude_dirs 2>/dev/null || \\\n       grep -rq \"strawberry\" \"$src_dir\" $exclude_dirs 2>/dev/null; then\n        specs+=(\"graphql\")\n    fi\n\n    # gRPC\n    if grep -rq \"import grpc\" \"$src_dir\" $exclude_dirs 2>/dev/null || \\\n       grep -rq \"from grpc\" \"$src_dir\" $exclude_dirs 2>/dev/null || \\\n       [ -f \"$(dirname \"$src_dir\")/*.proto\" ]; then\n        specs+=(\"grpc\")\n    fi\n\n    echo \"${specs[@]}\"\n}\n```\n\n---\n\n## æŠ€æœ¯æ ˆå»é‡é€»è¾‘\n\n**ä¼˜å…ˆçº§è§„åˆ™**ï¼ˆä¿ç•™æœ€é«˜ä¼˜å…ˆçº§ï¼‰ï¼š\n\n| ç±»åˆ« | ä¼˜å…ˆçº§ï¼ˆé«˜â†’ä½ï¼‰ |\n|------|----------------|\n| åç«¯æ¡†æ¶ | FastAPI > Flask > Django > Tornado |\n| ORM | SQLAlchemy > Django ORM > Tortoise ORM |\n| å‰ç«¯æ¡†æ¶ | React > Vue > Streamlit |\n| æ¶ˆæ¯é˜Ÿåˆ— | Kafka > RabbitMQ |\n\n```bash\ndeduplicate_tech_stack() {\n    local tech_stack=(\"$@\")\n    local unique_stack=()\n    local seen_backend=\"\"\n    local seen_orm=\"\"\n    local seen_frontend=\"\"\n    local seen_mq=\"\"\n\n    for tech in \"${tech_stack[@]}\"; do\n        case \"$tech\" in\n            fastapi|flask|django|tornado)\n                if [ -z \"$seen_backend\" ]; then\n                    unique_stack+=(\"$tech\")\n                    seen_backend=\"$tech\"\n                fi\n                ;;\n            sqlalchemy|django-orm|tortoise-orm)\n                if [ -z \"$seen_orm\" ]; then\n                    unique_stack+=(\"$tech\")\n                    seen_orm=\"$tech\"\n                fi\n                ;;\n            react|vue|streamlit)\n                if [ -z \"$seen_frontend\" ]; then\n                    unique_stack+=(\"$tech\")\n                    seen_frontend=\"$tech\"\n                fi\n                ;;\n            kafka|rabbitmq)\n                if [ -z \"$seen_mq\" ]; then\n                    unique_stack+=(\"$tech\")\n                    seen_mq=\"$tech\"\n                fi\n                ;;\n            *)\n                # å…¶ä»–ç±»åˆ«ç›´æ¥æ·»åŠ \n                unique_stack+=(\"$tech\")\n                ;;\n        esac\n    done\n\n    echo \"${unique_stack[@]}\"\n}\n```\n\n---\n\n## æ£€æµ‹å¤±è´¥å¤„ç†\n\n**é™çº§ç­–ç•¥**ï¼š\n\n1. å¦‚æœæ²¡æœ‰ä»»ä½•æŠ€æœ¯æ ˆè¢«æ£€æµ‹åˆ°ï¼š\n   - ç”Ÿæˆè­¦å‘Šï¼š\"âš ï¸ æœªæ£€æµ‹åˆ°ä»»ä½•å·²çŸ¥æŠ€æœ¯æ ˆ\"\n   - ç”ŸæˆåŸºç¡€æ–‡æ¡£ï¼ˆå¿«é€Ÿå¼€å§‹ã€é¡¹ç›®æ¦‚è¿°ï¼‰\n   - æä¾›æ‰‹åŠ¨é…ç½®æŒ‡å—ï¼ˆåœ¨ `wiki-config.json` ä¸­æŒ‡å®šæŠ€æœ¯æ ˆï¼‰\n\n2. å¦‚æœæ£€æµ‹ä¸å®Œæ•´ï¼ˆéƒ¨åˆ†æŠ€æœ¯æ ˆï¼‰ï¼š\n   - ä½¿ç”¨æ£€æµ‹åˆ°çš„æŠ€æœ¯æ ˆç”Ÿæˆå¯¹åº”æ–‡æ¡£\n   - å¯¹æœªæ£€æµ‹åˆ°çš„éƒ¨åˆ†ï¼Œç”Ÿæˆé€šç”¨æ–‡æ¡£\n\n```bash\n# æ£€æµ‹å¤±è´¥å¤„ç†ç¤ºä¾‹\ntech_stack=($(detect_tech_stack \"$project_dir\"))\n\nif [ ${#tech_stack[@]} -eq 0 ]; then\n    echo \"âš ï¸ è­¦å‘Š: æœªæ£€æµ‹åˆ°ä»»ä½•å·²çŸ¥æŠ€æœ¯æ ˆ\" >&2\n    echo \"ğŸ’¡ æç¤º: å¯ä»¥åœ¨ wiki-config.json ä¸­æ‰‹åŠ¨æŒ‡å®šæŠ€æœ¯æ ˆ\" >&2\n    echo \"\" >&2\n    echo \"{\" >&2\n    echo \"  \\\"tech_stack\\\": [\\\"fastapi\\\", \\\"sqlalchemy\\\", \\\"redis\\\"]\" >&2\n    echo \"}\" >&2\n    # ç”ŸæˆåŸºç¡€æ–‡æ¡£\n    generate_base_docs_only \"$project_dir\"\n    exit 1\nfi\n```\n\n---\n\n## ä½¿ç”¨ç¤ºä¾‹\n\n```bash\n# æ£€æµ‹å½“å‰é¡¹ç›®çš„æŠ€æœ¯æ ˆ\nproject_dir=\"/path/to/project\"\ntech_stack=($(detect_tech_stack \"$project_dir\"))\n\necho \"æ£€æµ‹åˆ°çš„æŠ€æœ¯æ ˆ:\"\nfor tech in \"${tech_stack[@]}\"; do\n    echo \"  - $tech\"\ndone\n```\n\n**è¾“å‡ºç¤ºä¾‹**ï¼š\n\n```\næ£€æµ‹åˆ°çš„æŠ€æœ¯æ ˆ:\n  - fastapi\n  - sqlalchemy\n  - redis\n  - dockerfile\n  - openapi\n```\n\n---\n\n**ç‰ˆæœ¬**: 1.0.0\n**æœ€åæ›´æ–°**: 2026-01-04\n",
        "plugins/templates/wiki-generate/README.md": "# Wiki æ–‡æ¡£æ¨¡æ¿\n\næœ¬ç›®å½•åŒ…å«ç”¨äºè‡ªåŠ¨ç”Ÿæˆé¡¹ç›® Wiki æ–‡æ¡£çš„ Markdown æ¨¡æ¿æ–‡ä»¶ã€‚\n\n## ç›®å½•ç»“æ„\n\n```\nwiki-generate/\nâ”œâ”€â”€ README.md                    # æœ¬æ–‡ä»¶\nâ”œâ”€â”€ TEMPLATE_FORMAT.md           # æ¨¡æ¿æ ¼å¼è§„èŒƒæ–‡æ¡£\nâ”œâ”€â”€ wiki-config.json.template    # Wiki é…ç½®æ–‡ä»¶æ¨¡æ¿\nâ”œâ”€â”€ zh/                          # ä¸­æ–‡æ¨¡æ¿ï¼ˆ13ä¸ªæ–‡ä»¶ï¼‰\nâ”‚   â”œâ”€â”€ quickstart.md.template\nâ”‚   â”œâ”€â”€ overview.md.template\nâ”‚   â”œâ”€â”€ techstack.md.template\nâ”‚   â”œâ”€â”€ architecture.md.template\nâ”‚   â”œâ”€â”€ corefeatures.md.template\nâ”‚   â”œâ”€â”€ development.md.template\nâ”‚   â”œâ”€â”€ deployment.md.template\nâ”‚   â”œâ”€â”€ testing.md.template\nâ”‚   â”œâ”€â”€ troubleshooting.md.template\nâ”‚   â”œâ”€â”€ security.md.template\nâ”‚   â”œâ”€â”€ api-reference.md.template\nâ”‚   â”œâ”€â”€ api-endpoint.md.template\nâ”‚   â””â”€â”€ datamodel.md.template\nâ””â”€â”€ en/                          # è‹±æ–‡æ¨¡æ¿ï¼ˆ13ä¸ªæ–‡ä»¶ï¼‰\n    â””â”€â”€ ...ï¼ˆå¯¹åº”è‹±æ–‡ç‰ˆæœ¬ï¼‰\n```\n\n## æ¨¡æ¿æ–‡ä»¶è¯´æ˜\n\n### å¿…éœ€æ–‡æ¡£æ¨¡æ¿ï¼ˆ9ä¸ªï¼‰\n\nè¿™äº›æ–‡æ¡£åœ¨æ¯æ¬¡ç”Ÿæˆæ—¶éƒ½ä¼šåˆ›å»ºï¼š\n\n| æ¨¡æ¿æ–‡ä»¶ | ç”Ÿæˆæ–‡æ¡£å | è¯´æ˜ |\n|---------|-----------|------|\n| quickstart.md.template | 00-å¿«é€Ÿå¼€å§‹.md | 5åˆ†é’Ÿå…¥é—¨æŒ‡å— |\n| overview.md.template | 01-é¡¹ç›®æ¦‚è¿°.md | é¡¹ç›®ä»‹ç»å’Œæ ¸å¿ƒæ¦‚å¿µ |\n| techstack.md.template | 02-æŠ€æœ¯æ ˆä¸ä¾èµ–.md | æŠ€æœ¯é€‰å‹è¯´æ˜ |\n| architecture.md.template | 03-ç³»ç»Ÿæ¶æ„è®¾è®¡.md | æ¶æ„å›¾å’Œè®¾è®¡æ¨¡å¼ |\n| corefeatures.md.template | 04-æ ¸å¿ƒåŠŸèƒ½.md | æ ¸å¿ƒä¸šåŠ¡æµç¨‹è¯´æ˜ |\n| development.md.template | 05-å¼€å‘æŒ‡å—.md | å¼€å‘ç¯å¢ƒè®¾ç½®å’ŒæŒ‡å— |\n| deployment.md.template | 06-éƒ¨ç½²æŒ‡å—.md | éƒ¨ç½²æµç¨‹å’Œé…ç½® |\n| testing.md.template | 07-æµ‹è¯•ç­–ç•¥.md | æµ‹è¯•æ–¹æ³•å’Œå·¥å…·è¯´æ˜ |\n| troubleshooting.md.template | 08-æ•…éšœæ’é™¤.md | å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ |\n| security.md.template | 09-å®‰å…¨è€ƒè™‘.md | å®‰å…¨æœ€ä½³å®è·µ |\n\n### æ¡ä»¶æ–‡æ¡£æ¨¡æ¿ï¼ˆ4ä¸ªï¼‰\n\nè¿™äº›æ–‡æ¡£æ ¹æ®æŠ€æœ¯æ ˆæ£€æµ‹åŠ¨æ€ç”Ÿæˆï¼š\n\n| æ¨¡æ¿æ–‡ä»¶ | ç”Ÿæˆæ–‡æ¡£å | è§¦å‘æ¡ä»¶ |\n|---------|-----------|---------|\n| datamodel.md.template | æ•°æ®æ¨¡å‹/æ•°æ®æ¨¡å‹.md | æ£€æµ‹åˆ° SQLAlchemy/Django ORM |\n| api-reference.md.template | API æ–‡æ¡£/API å‚è€ƒ.md | æ£€æµ‹åˆ° FastAPI/Flask/Django REST |\n| api-endpoint.md.template | API æ–‡æ¡£/API æ¥å£.md | æ£€æµ‹åˆ° FastAPI/Flask/Django REST |\n| taskqueue.md.template | ä»»åŠ¡é˜Ÿåˆ—/ä»»åŠ¡é˜Ÿåˆ—.md | æ£€æµ‹åˆ° Celery/RQ |\n\n## æ¨¡æ¿å˜é‡æ ¼å¼\n\næ¨¡æ¿ä½¿ç”¨ `{variable_name}` æ ¼å¼çš„å ä½ç¬¦ï¼Œåœ¨ç”Ÿæˆæ—¶ä¼šè¢«æ›¿æ¢ä¸ºå®é™…å†…å®¹ã€‚\n\n### å¸¸ç”¨å˜é‡\n\n| å˜é‡å | è¯´æ˜ | ç¤ºä¾‹å€¼ |\n|-------|------|--------|\n| `{project_name}` | é¡¹ç›®åç§° | \"MyProject\" |\n| `{version}` | é¡¹ç›®ç‰ˆæœ¬ | \"1.0.0\" |\n| `{generation_time}` | ç”Ÿæˆæ—¶é—´ | \"2025-01-07 15:00:00\" |\n| `{description}` | é¡¹ç›®æè¿° | \"é¡¹ç›®ç®€ä»‹æ–‡æœ¬\" |\n\n### æ–‡æ¡£ç‰¹å®šå˜é‡\n\nä¸åŒæ¨¡æ¿æ–‡ä»¶æœ‰ç‰¹å®šçš„å˜é‡ï¼Œä¾‹å¦‚ï¼š\n\n**architecture.md.template**:\n- `{architecture_diagram}` - Mermaid æ¶æ„å›¾\n- `{design_patterns}` - è®¾è®¡æ¨¡å¼è¯´æ˜\n- `{component_description}` - ç»„ä»¶æè¿°\n\n**api-reference.md.template**:\n- `{api_overview}` - API æ¦‚è¿°\n- `{endpoints_table}` - ç«¯ç‚¹åˆ—è¡¨è¡¨æ ¼\n- `{authentication}` - è®¤è¯è¯´æ˜\n\n**datamodel.md.template**:\n- `{models_list}` - æ¨¡å‹åˆ—è¡¨\n- `{relationship_diagram}` - å…³ç³»å›¾ï¼ˆMermaid ERå›¾ï¼‰\n- `{field_descriptions}` - å­—æ®µæè¿°\n\n## æ·»åŠ æ–°æ¨¡æ¿\n\nå¦‚éœ€æ·»åŠ æ–°çš„æ–‡æ¡£æ¨¡æ¿ï¼š\n\n1. **åˆ›å»ºæ¨¡æ¿æ–‡ä»¶**ï¼š\n   ```bash\n   # åœ¨ zh/ ç›®å½•åˆ›å»ºä¸­æ–‡æ¨¡æ¿\n   touch zh/new-document.md.template\n\n   # åœ¨ en/ ç›®å½•åˆ›å»ºè‹±æ–‡æ¨¡æ¿\n   touch en/new-document.md.template\n   ```\n\n2. **ç¼–å†™æ¨¡æ¿å†…å®¹**ï¼š\n   ```markdown\n   ---\n   **ç”Ÿæˆæ—¶é—´**: {generation_time}\n   **æ–‡æ¡£ç‰ˆæœ¬**: {doc_version}\n   ---\n\n   # {document_title}\n\n   {content}\n   ```\n\n3. **æ›´æ–°æ–‡æ¡£æ˜ å°„è¡¨**ï¼š\n   åœ¨ [plugins/commands/wiki-generate.md](../../commands/wiki-generate.md) çš„æ–‡æ¡£åˆ—è¡¨ä¸­æ·»åŠ æ–°æ¨¡æ¿çš„æ˜ å°„ã€‚\n\n4. **æµ‹è¯•æ¨¡æ¿**ï¼š\n   è¿è¡Œ `/wiki-generate --full` ç”Ÿæˆæ–‡æ¡£å¹¶æ£€æŸ¥ç»“æœã€‚\n\n## æ¨¡æ¿æ ¼å¼è§„èŒƒ\n\nè¯¦ç»†çš„æ¨¡æ¿æ ¼å¼è§„èŒƒè¯·å‚è€ƒ [TEMPLATE_FORMAT.md](TEMPLATE_FORMAT.md)ã€‚\n\nä¸»è¦è¦æ±‚ï¼š\n\n- âœ… ä½¿ç”¨ `{variable_name}` æ ¼å¼çš„å ä½ç¬¦\n- âœ… åŒ…å«å¿…éœ€çš„å…ƒæ•°æ®å¤´éƒ¨ï¼ˆç”Ÿæˆæ—¶é—´ã€ç‰ˆæœ¬ç­‰ï¼‰\n- âœ… æ”¯æŒ Mermaid å›¾è¡¨ï¼ˆä½¿ç”¨ ` ```mermaid ` ä»£ç å—ï¼‰\n- âœ… éµå¾ª Markdown è§„èŒƒ\n- âœ… ä¸­è‹±æ–‡åŒè¯­ç‰ˆæœ¬ä¿æŒç»“æ„ä¸€è‡´\n\n## æŠ€æœ¯æ ˆæ£€æµ‹è§„åˆ™\n\næ¨¡æ¿ç”Ÿæˆæ ¹æ®ä»¥ä¸‹æŠ€æœ¯æ ˆæ£€æµ‹è§„åˆ™ï¼š\n\n| æŠ€æœ¯æ ˆ | æ£€æµ‹æ¡ä»¶ | ç”Ÿæˆæ¨¡æ¿ |\n|-------|---------|---------|\n| SQLAlchemy | `from sqlalchemy` æˆ– `import sqlalchemy` | datamodel.md.template |\n| Django ORM | `from django.db` | datamodel.md.template |\n| FastAPI | `from fastapi` æˆ– `import fastapi` | api-*.md.template |\n| Flask | `from flask` | api-*.md.template |\n| Django REST | `from rest_framework` | api-*.md.template |\n| Celery | `from celery` æˆ– `import celery` | taskqueue.md.template |\n| pytest | `import pytest` | testing.md.template |\n| unittest | `import unittest` | testing.md.template |\n\n## ç›¸å…³æ–‡ä»¶\n\n- [Wiki ç”Ÿæˆå‘½ä»¤](../../commands/wiki-generate.md) - ä¸»è¦çš„æ–‡æ¡£ç”Ÿæˆé€»è¾‘\n- [Doc-generator Skills](../../skills/doc-generator/) - æ–‡æ¡£ç”ŸæˆæŠ€èƒ½é›†\n- [Wiki é…ç½®ç¤ºä¾‹](wiki-config.json.template) - é…ç½®æ–‡ä»¶æ¨¡æ¿\n\n---\n\n**æœ€åæ›´æ–°**: 2025-01-07\n**ç»´æŠ¤è€…**: repo-wiki é¡¹ç›®å›¢é˜Ÿ\n"
      },
      "plugins": [
        {
          "name": "winwin-code-assist",
          "description": "è‡ªåŠ¨ç”Ÿæˆå’Œç»´æŠ¤é¡¹ç›® Wiki æ–‡æ¡£çš„ Claude Code æ’ä»¶ã€‚æä¾›é…ç½®é©±åŠ¨çš„æ–‡æ¡£ç”Ÿæˆã€Git æäº¤åŠ©æ‰‹å’Œä¼šè¯ç®¡ç†åŠŸèƒ½ã€‚",
          "version": "1.1.0",
          "author": {
            "name": "Winwin.Inc Team",
            "email": "support@winwin.inc"
          },
          "source": "./plugins",
          "category": "productivity",
          "keywords": [
            "wiki",
            "documentation",
            "git",
            "commit",
            "session",
            "productivity"
          ],
          "homepage": "https://github.com/winwin-inc/claude-plugins/tree/main/repo-wiki",
          "repository": "https://github.com/winwin-inc/claude-plugins",
          "license": "MIT",
          "categories": [
            "commit",
            "documentation",
            "git",
            "productivity",
            "session",
            "wiki"
          ],
          "install_commands": [
            "/plugin marketplace add winwin-inc/claude-plugins",
            "/plugin install winwin-code-assist@winwin-code-assist"
          ]
        }
      ]
    }
  ]
}