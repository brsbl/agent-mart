{
  "author": {
    "id": "Montinou",
    "display_name": "Agustin Montoya",
    "avatar_url": "https://avatars.githubusercontent.com/u/33442778?v=4"
  },
  "marketplaces": [
    {
      "name": "triqual",
      "version": null,
      "description": "Triqual - Autonomous test automation with documented learning loops, self-healing tests, and MCP-powered pattern learning",
      "repo_full_name": "Montinou/triqual",
      "repo_url": "https://github.com/Montinou/triqual",
      "repo_description": "Unified test automation plugin combining Playwright, Quoth, and Exolar",
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-31T04:55:26Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"triqual\",\n  \"owner\": {\n    \"name\": \"Montinou\",\n    \"email\": \"montinou@ai-innovation.site\"\n  },\n  \"metadata\": {\n    \"description\": \"Triqual - Autonomous test automation with documented learning loops, self-healing tests, and MCP-powered pattern learning\",\n    \"version\": \"1.2.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"triqual-plugin\",\n      \"source\": \"./triqual-plugin\",\n      \"description\": \"Autonomous test automation plugin with enforced documentation loops, 5 Opus 4.5 agents, triqual_load_context MCP tool (Sonnet subprocess), and seamless MCP integration (Quoth patterns + Exolar analytics). Features blocking hooks, deterministic context building, draft-first development, and persistent learning.\",\n      \"version\": \"1.2.0\",\n      \"author\": {\n        \"name\": \"Montinou\"\n      },\n      \"homepage\": \"https://triqual.vercel.app/\",\n      \"repository\": \"https://github.com/Montinou/triqual\",\n      \"license\": \"MIT\",\n      \"keywords\": [\"testing\", \"automation\", \"playwright\", \"e2e\", \"self-healing\", \"quoth\", \"exolar\", \"mcp\", \"agents\", \"opus\"],\n      \"category\": \"testing\"\n    },\n    {\n      \"name\": \"quoth\",\n      \"source\": {\n        \"source\": \"github\",\n        \"repo\": \"Montinou/quoth-mcp\"\n      },\n      \"description\": \"AI Memory system that gives Claude persistent memory across sessions. Local-first .quoth/ storage, quoth-memory subagent, configurable strictness modes, session logging, and knowledge promotion.\",\n      \"version\": \"2.0.0\",\n      \"author\": {\n        \"name\": \"Montinou\"\n      },\n      \"homepage\": \"https://quoth.ai-innovation.site\",\n      \"repository\": \"https://github.com/Montinou/quoth-mcp\",\n      \"license\": \"MIT\",\n      \"keywords\": [\"memory\", \"mcp\", \"documentation\", \"knowledge\", \"rag\", \"ai-memory\", \"quoth\"],\n      \"category\": \"memory\"\n    }\n  ]\n}\n",
        "triqual-plugin/README.md": "# Triqual\n\n> **Version 1.2.0** | Opus 4.5 Agents | MCP Context Orchestration | macOS & Linux\n\n**Autonomous Test Automation for Claude Code**\n\nTriqual is a powerful Claude Code plugin that brings **autonomous, self-healing test generation** with enforced documentation and learning loops. It combines three MCP integrations:\n\n- **Playwright MCP** - Browser automation and app exploration\n- **Quoth** - Semantic pattern documentation search\n- **Exolar** - Test analytics and failure clustering\n\n[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)\n[![Claude Code Plugin](https://img.shields.io/badge/Claude%20Code-Plugin-blue)](https://claude.ai/claude-code)\n\n## Why Triqual?\n\nTraditional test automation is brittle. Triqual solves this with:\n\n1. **Enforced Documentation** - Hooks BLOCK actions until you document your approach\n2. **Autonomous Healing** - Up to 25 fix attempts with deep analysis at attempt 12\n3. **Persistent Learning** - Patterns survive session compaction in run logs\n4. **Draft-First Development** - Tests live in `.draft/` until passing, then get promoted\n\n## Installation\n\n### From Marketplace\n\n```bash\n# Add the Triqual marketplace\n/plugin marketplace add Montinou/triqual\n\n# Install the plugin (scoped to current project)\n/plugin install triqual-plugin@triqual\n```\n\n### Local Development\n\n```bash\nclaude --plugin-dir /path/to/triqual/triqual-plugin\n```\n\n## What Gets Installed\n\n| Component | Count | Description |\n|-----------|-------|-------------|\n| MCP Servers | 2 | `quoth` (patterns), `exolar-qa` (analytics) |\n| Hooks | 7 | Blocking enforcement for documentation |\n| Skills | 5 | `/init`, `/test`, `/check`, `/rules`, `/help` |\n| Agents | 5 | All Opus 4.5 (planner, generator, healer, classifier, learner) |\n| MCP Tools | 1 | `triqual_load_context` (Sonnet subprocess for context building) |\n| Rules | 31 | Playwright best practices (8 categories) |\n\n## Quick Start\n\n### 1. Initialize Your Project\n\n```bash\n/init\n```\n\nThis creates:\n- `.triqual/runs/` - Directory for run logs\n- `.triqual/knowledge.md` - Project-specific patterns\n- `triqual.config.ts` - Configuration file\n\n### 2. Generate Tests\n\n```bash\n# Full autonomous loop\n/test login\n\n# From Linear ticket\n/test --ticket ENG-123\n\n# From description\n/test --describe \"User can filter search results by date\"\n\n# Interactive exploration only\n/test --explore checkout\n```\n\n### 3. Check Test Quality\n\n```bash\n/check\n```\n\n### 4. View Best Practices\n\n```bash\n/rules\n```\n\n## The Documented Learning Loop\n\nTriqual enforces a **documented learning loop** that prevents erratic AI behavior:\n\n```\nANALYZE â†’ RESEARCH â†’ PLAN â†’ WRITE â†’ RUN â†’ FIX â†’ LEARN\n```\n\n### How It Works\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                         TRIQUAL WORKFLOW                             â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚                                                                      â”‚\nâ”‚  User: \"/test login\"                                                 â”‚\nâ”‚         â”‚                                                            â”‚\nâ”‚         â–¼                                                            â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                 â”‚\nâ”‚  â”‚  TEST-PLANNER   â”‚  ANALYZE: Review requirements                   â”‚\nâ”‚  â”‚    (Opus 4.5)   â”‚  RESEARCH: Search Quoth + Exolar                â”‚\nâ”‚  â”‚                 â”‚  PLAN: Document test strategy                   â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                 â”‚\nâ”‚           â”‚ Creates: .triqual/runs/login.md                          â”‚\nâ”‚           â–¼                                                          â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                 â”‚\nâ”‚  â”‚ TEST-GENERATOR  â”‚  WRITE: Generate code in .draft/                â”‚\nâ”‚  â”‚    (Opus 4.5)   â”‚  Creates: .draft/tests/login.spec.ts            â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                 â”‚\nâ”‚           â–¼                                                          â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                 â”‚\nâ”‚  â”‚  TEST-HEALER    â”‚  AUTONOMOUS LOOP (up to 25 attempts)            â”‚\nâ”‚  â”‚    (Opus 4.5)   â”‚                                                 â”‚\nâ”‚  â”‚                 â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚\nâ”‚  â”‚                 â”‚  â”‚  RUN â†’ FAIL â†’ FIX â†’ RUN ...  â”‚               â”‚\nâ”‚  â”‚                 â”‚  â”‚                              â”‚               â”‚\nâ”‚  â”‚                 â”‚  â”‚  Attempt 12: DEEP ANALYSIS   â”‚               â”‚\nâ”‚  â”‚                 â”‚  â”‚  Attempt 25: Mark .fixme()   â”‚               â”‚\nâ”‚  â”‚                 â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                 â”‚\nâ”‚           â”‚ On SUCCESS: mv .draft/tests/* â†’ tests/                   â”‚\nâ”‚           â–¼                                                          â”‚\nâ”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                 â”‚\nâ”‚  â”‚ PATTERN-LEARNER â”‚  LEARN: Extract patterns                        â”‚\nâ”‚  â”‚    (Opus 4.5)   â”‚  Update: .triqual/knowledge.md                  â”‚\nâ”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                 â”‚\nâ”‚                                                                      â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n### Gate-Based Enforcement\n\nHooks **BLOCK** actions until documentation is complete:\n\n| Gate | Trigger | Block Condition | Resolution |\n|------|---------|-----------------|------------|\n| **Pre-Write** | Write `.spec.ts` | No run log or missing stages | Create run log with ANALYZE/RESEARCH/PLAN/WRITE |\n| **Context Files** | Write `.spec.ts` | **No context files in .triqual/context/{feature}/** | **Call `triqual_load_context({ feature: \"...\" })`** |\n| **Post-Run** | After `playwright test` | Results not documented | Add RUN stage to log |\n| **Retry Limit** | 2+ same-category fails | No external research | Search Quoth/Exolar, document findings |\n| **Deep Analysis** | 12+ attempts | No deep analysis | Expand research, explore app, try new approaches |\n| **Max Attempts** | 25+ attempts | No resolution | Mark as `.fixme()` with justification |\n\n### Mandatory Context Loading\n\n**BEFORE writing ANY test code**, call the `triqual_load_context` MCP tool:\n\n```\ntriqual_load_context({ feature: \"login\", ticket?: \"ENG-123\", description?: \"...\" })\n```\n\nThis spawns a headless Sonnet subprocess that searches Quoth, queries Exolar, scans the codebase, and writes structured context files to `.triqual/context/{feature}/`. This is **ENFORCED** â€” test writing will be **BLOCKED** until context files exist.\n\nIf the MCP tool is unavailable, fall back to manual search:\n```typescript\nmcp__quoth__quoth_search_index({\n  query: \"{feature} playwright patterns\"\n})\n```\n\n**Why:** Context files contain proven patterns from Quoth and project history. Loading them first reduces fix iterations without consuming main context.\n\n### Example: Blocked Action\n\n```\nğŸš« BLOCKED: No run log found for \"login\"\n\nBefore writing test code, you MUST create a run log at:\n.triqual/runs/login.md\n\nRequired stages:\n1. ANALYZE - Review requirements, identify test cases\n2. RESEARCH - Search Quoth for patterns, check Exolar for similar tests\n3. PLAN - Document test strategy, tools/helpers to use\n4. WRITE - Document hypothesis\n\nThen retry this write operation.\n```\n\n## The Five Agents\n\nFive agents run on **Opus 4.5** for maximum intelligence. Context building is handled by the `triqual_load_context` MCP tool (Sonnet subprocess):\n\n### 1. TEST-PLANNER\n\n**Role:** Creates the test plan from requirements\n\n- Searches Quoth for existing patterns\n- Queries Exolar for similar tests\n- Explores app with Playwright MCP\n- Fetches Linear ticket details (if provided)\n- Creates comprehensive run log with ANALYZE/RESEARCH/PLAN stages\n\n### 2. TEST-GENERATOR\n\n**Role:** Generates test code from the plan\n\n- Reads PLAN stage from run log\n- Applies patterns from `knowledge.md`\n- Generates tests in `.draft/` folder\n- Creates Page Objects if needed\n- Documents WRITE stage with hypothesis\n\n### 3. TEST-HEALER (Autonomous Loop)\n\n**Role:** Runs tests and fixes failures autonomously\n\n- Executes up to **25 fix attempts**\n- Deep analysis phase at **attempt 12**\n- Works on files in `.draft/` folder\n- Promotes to `tests/` on SUCCESS\n- Documents every RUN and FIX stage\n\n### 4. FAILURE-CLASSIFIER\n\n**Role:** Categorizes failures for appropriate action\n\n- Classifies as: `FLAKE` | `BUG` | `ENV_ISSUE` | `TEST_ISSUE`\n- Queries Exolar for historical patterns\n- Recommends appropriate next action\n- Prevents wasting time on non-test issues\n\n### 5. PATTERN-LEARNER\n\n**Role:** Extracts and persists learnings\n\n- Reviews all run logs for patterns\n- Updates `.triqual/knowledge.md`\n- Proposes generalizable patterns to Quoth via `quoth_propose_update` (with user confirmation)\n- Ensures learnings survive sessions\n\n### MCP Tool: triqual_load_context\n\n**Role:** Deterministic context building via headless Sonnet subprocess\n\n```\ntriqual_load_context({ feature: \"login\", ticket?: \"ENG-123\", force?: false })\n```\n\n- Spawns `claude -p` subprocess (Sonnet) with Quoth/Exolar MCP access\n- Writes structured context files to `.triqual/context/{feature}/`\n- Output: patterns.md, anti-patterns.md, failures.md, codebase.md, summary.md\n- Cached: skips if context files exist and are fresh (use `force: true` to regenerate)\n\n## Directory Structure\n\n### Plugin Structure\n\n```\ntriqual-plugin/\nâ”œâ”€â”€ .claude-plugin/\nâ”‚   â””â”€â”€ plugin.json           # Plugin manifest\nâ”œâ”€â”€ .mcp.json                  # MCP server definitions\nâ”œâ”€â”€ skills/                    # Slash commands\nâ”‚   â”œâ”€â”€ init/SKILL.md\nâ”‚   â”œâ”€â”€ test/SKILL.md\nâ”‚   â”œâ”€â”€ check/SKILL.md\nâ”‚   â”œâ”€â”€ rules/SKILL.md\nâ”‚   â””â”€â”€ help/SKILL.md\nâ”œâ”€â”€ hooks/                     # Blocking enforcement\nâ”‚   â”œâ”€â”€ hooks.json\nâ”‚   â”œâ”€â”€ lib/common.sh          # 800+ lines of helpers\nâ”‚   â”œâ”€â”€ session-start.sh\nâ”‚   â”œâ”€â”€ pre-spec-write.sh      # BLOCKS without documentation\nâ”‚   â”œâ”€â”€ pre-retry-gate.sh      # BLOCKS without research\nâ”‚   â”œâ”€â”€ post-test-run.sh\nâ”‚   â”œâ”€â”€ subagent-start.sh      # Injects context to agents\nâ”‚   â”œâ”€â”€ subagent-stop.sh       # Guides next steps\nâ”‚   â”œâ”€â”€ pre-compact.sh\nâ”‚   â””â”€â”€ stop.sh\nâ”œâ”€â”€ .agents/                   # Opus 4.5 + Sonnet agents\nâ”‚   â”œâ”€â”€ test-planner.md\nâ”‚   â”œâ”€â”€ test-generator.md\nâ”‚   â”œâ”€â”€ test-healer.md\nâ”‚   â”œâ”€â”€ failure-classifier.md\nâ”‚   â”œâ”€â”€ pattern-learner.md\nâ”‚   â””â”€â”€ (pattern-learner has Quoth capture capability)\nâ”œâ”€â”€ context/                   # Templates\nâ”‚   â”œâ”€â”€ run-log.template.md\nâ”‚   â”œâ”€â”€ knowledge.template.md\nâ”‚   â””â”€â”€ config.template.ts\nâ””â”€â”€ docs/\n    â”œâ”€â”€ playwright-rules/      # 31 best practice rules\n    â””â”€â”€ references/\n```\n\n### Project Structure (After `/init`)\n\n```\nyour-project/\nâ”œâ”€â”€ .triqual/\nâ”‚   â”œâ”€â”€ runs/                  # Run logs (one per feature)\nâ”‚   â”‚   â”œâ”€â”€ login.md\nâ”‚   â”‚   â”œâ”€â”€ checkout.md\nâ”‚   â”‚   â””â”€â”€ dashboard.md\nâ”‚   â””â”€â”€ knowledge.md           # Accumulated patterns\nâ”œâ”€â”€ .draft/                    # Work in progress\nâ”‚   â”œâ”€â”€ tests/\nâ”‚   â”‚   â””â”€â”€ feature.spec.ts    # Until passing\nâ”‚   â””â”€â”€ pages/\nâ”‚       â””â”€â”€ NewPage.ts         # New Page Objects\nâ”œâ”€â”€ tests/                     # Production tests\nâ”‚   â””â”€â”€ feature.spec.ts        # After promotion\nâ””â”€â”€ triqual.config.ts          # Configuration\n```\n\n## Run Log Format\n\nEach feature gets a detailed run log at `.triqual/runs/{feature}.md`:\n\n```markdown\n# Test Run Log: login\n\n## Session: 2026-01-27T10:30:00Z\n\n### Stage: ANALYZE\n**Feature:** login\n**Objective:** Verify user authentication flow\n\n**Acceptance Criteria:**\n1. User can log in with email/password\n2. Error shown for invalid credentials\n3. Redirects to dashboard on success\n\n**User Flows:**\n1. Happy path - successful login\n2. Error case - invalid password\n3. Edge case - empty fields\n\n---\n\n### Stage: RESEARCH\n\n**Quoth Search:** \"login playwright patterns\"\n**Patterns Found:**\n- `auth-storagestate`: Save auth state for reuse\n- `visibility-filter`: Use :visible for buttons\n\n**Exolar Query:** Similar tests in project\n**Found:** 3 auth-related tests, all use storageState\n\n**Available Resources:**\n| Resource | Path | Purpose |\n|----------|------|---------|\n| LoginPage | pages/LoginPage.ts | Login actions |\n| testUsers | fixtures/users.ts | Test credentials |\n\n---\n\n### Stage: PLAN\n**Test Strategy:** Use storageState, test all 3 flows\n\n| Test Case | Priority | Dependencies |\n|-----------|----------|--------------|\n| should login with valid credentials | High | LoginPage |\n| should show error for invalid password | High | LoginPage |\n| should require email field | Medium | LoginPage |\n\n---\n\n### Stage: WRITE\n**Hypothesis:** Using LoginPage with storageState for speed.\nTesting error states with invalid credentials fixture.\n\n**Files:**\n- .draft/tests/login.spec.ts\n\n---\n\n### Stage: RUN (Attempt 1)\n**Command:** `npx playwright test .draft/tests/login.spec.ts`\n**Result:** FAILED\n\n**Error Type:** LOCATOR\n**Error:** locator resolved to 3 elements at line 23\n**Analysis:** Multiple submit buttons on page\n\n---\n\n### Stage: FIX (Attempt 1)\n**Hypothesis:** Add :visible filter per Quoth pattern\n**Pattern:** visibility-filter\n**Change:** Line 23: `button` â†’ `button:visible`\n\n---\n\n### Stage: RUN (Attempt 2)\n**Result:** PASSED\n\n---\n\n### Stage: SUCCESS\n**Attempts Required:** 2\n**Files Promoted:**\n- .draft/tests/login.spec.ts â†’ tests/login.spec.ts\n\n---\n\n### Stage: LEARN\n**Pattern Discovered:** This project has multiple hidden buttons\n**Added to knowledge.md:** Yes\n\n## Accumulated Learnings\n1. Login page has duplicate hidden buttons - use :visible\n2. storageState works well for this auth flow\n```\n\n## MCP Servers\n\n### Auto-Installed Servers\n\n| Server | URL | Purpose |\n|--------|-----|---------|\n| `quoth` | `https://quoth.ai-innovation.site/api/mcp` | Pattern documentation |\n| `exolar-qa` | `https://exolar.ai-innovation.site/api/mcp/mcp` | Test analytics |\n\n### Quoth Tools\n\n```typescript\n// Search for patterns\nquoth_search_index({ query: \"login playwright patterns\" })\n\n// Read full documentation\nquoth_read_doc({ docId: \"auth-patterns\" })\n\n// Get coding guidelines\nquoth_guidelines({ mode: \"playwright\" })\n```\n\n### Exolar Tools\n\n```typescript\n// Search existing tests\nquery_exolar_data({\n  dataset: \"test_search\",\n  filters: { search: \"login\" }\n})\n\n// Get failure history\nquery_exolar_data({\n  dataset: \"test_history\",\n  filters: { test_signature: \"login\" }\n})\n\n// Analyze failure patterns\nquery_exolar_data({\n  dataset: \"failure_patterns\",\n  filters: { error_type: \"LOCATOR\" }\n})\n```\n\n## Configuration\n\n### triqual.config.ts\n\n```typescript\nimport { defineConfig } from 'triqual';\n\nexport default defineConfig({\n  project_id: 'my-project',\n  testDir: './tests',\n  baseUrl: process.env.BASE_URL || 'http://localhost:3000',\n\n  auth: {\n    strategy: 'storageState', // 'uiLogin' | 'setupProject' | 'none'\n    storageState: { path: '.auth/user.json' },\n  },\n\n  // Optional: Custom test patterns\n  patterns: {\n    selectors: 'data-testid', // 'role' | 'text' | 'css'\n    waitStrategy: 'networkidle', // 'domcontentloaded' | 'load'\n  },\n});\n```\n\n## Troubleshooting\n\n| Issue | Solution |\n|-------|----------|\n| Hooks not blocking | Check Claude Code version, restart session |\n| MCP auth fails | Visit quoth.ai-innovation.site, complete OAuth |\n| Run logs not created | Run `/init` first |\n| Tests not promoting | Ensure tests PASS before promotion |\n| Action blocked | Read error message, document required stages |\n| Session state stale | Delete `~/.cache/triqual/` |\n\n### Debug Mode\n\nEnable verbose logging:\n\n```bash\nexport TRIQUAL_DEBUG=true\n```\n\n## Skills Reference\n\n| Command | Description |\n|---------|-------------|\n| `/init` | Initialize Triqual for project |\n| `/test {feature}` | Full autonomous test generation |\n| `/test --explore {feature}` | Interactive browser exploration |\n| `/test --ticket ENG-123` | Generate from Linear ticket |\n| `/test --describe \"...\"` | Generate from description |\n| `/check` | Lint tests for violations |\n| `/rules` | View 31 Playwright best practices |\n| `/help` | Get help and troubleshooting |\n\n## Version History\n\n| Version | Date | Changes |\n|---------|------|---------|\n| **1.2.0** | 2026-01-31 | **MCP context orchestration: replaced quoth-context agent with triqual_load_context MCP tool + headless Sonnet subprocess** |\n| **1.1.0** | 2026-01-29 | **Quoth v2 integration: context injection, enhanced hooks** |\n| **1.0.5** | 2026-01-27 | **Mandatory Quoth pattern search enforcement** |\n| **1.0.4** | 2026-01-27 | All agents on Opus 4.5, comprehensive documentation update |\n| **1.0.3** | 2026-01-26 | macOS stdin compatibility fix for hooks |\n| **1.0.2** | 2026-01-25 | SubagentStart/Stop hooks, 25 attempt limit |\n| **1.0.1** | 2026-01-24 | Initial documented learning loop |\n| **1.0.0** | 2026-01-23 | Initial release |\n\n## Architecture\n\nFor detailed architecture documentation, see the [CLAUDE.md](../CLAUDE.md) file which includes:\n- Component interaction diagrams\n- Hook communication protocol\n- Agent orchestration flow\n- API reference\n- Configuration schema\n\n## License\n\nMIT\n"
      },
      "plugins": [
        {
          "name": "triqual-plugin",
          "source": "./triqual-plugin",
          "description": "Autonomous test automation plugin with enforced documentation loops, 5 Opus 4.5 agents, triqual_load_context MCP tool (Sonnet subprocess), and seamless MCP integration (Quoth patterns + Exolar analytics). Features blocking hooks, deterministic context building, draft-first development, and persistent learning.",
          "version": "1.2.0",
          "author": {
            "name": "Montinou"
          },
          "homepage": "https://triqual.vercel.app/",
          "repository": "https://github.com/Montinou/triqual",
          "license": "MIT",
          "keywords": [
            "testing",
            "automation",
            "playwright",
            "e2e",
            "self-healing",
            "quoth",
            "exolar",
            "mcp",
            "agents",
            "opus"
          ],
          "category": "testing",
          "categories": [
            "agents",
            "automation",
            "e2e",
            "exolar",
            "mcp",
            "opus",
            "playwright",
            "quoth",
            "self-healing",
            "testing"
          ],
          "install_commands": [
            "/plugin marketplace add Montinou/triqual",
            "/plugin install triqual-plugin@triqual"
          ]
        },
        {
          "name": "quoth",
          "source": {
            "source": "github",
            "repo": "Montinou/quoth-mcp"
          },
          "description": "AI Memory system that gives Claude persistent memory across sessions. Local-first .quoth/ storage, quoth-memory subagent, configurable strictness modes, session logging, and knowledge promotion.",
          "version": "2.0.0",
          "author": {
            "name": "Montinou"
          },
          "homepage": "https://quoth.ai-innovation.site",
          "repository": "https://github.com/Montinou/quoth-mcp",
          "license": "MIT",
          "keywords": [
            "memory",
            "mcp",
            "documentation",
            "knowledge",
            "rag",
            "ai-memory",
            "quoth"
          ],
          "category": "memory",
          "categories": [
            "ai-memory",
            "documentation",
            "knowledge",
            "mcp",
            "memory",
            "quoth",
            "rag"
          ],
          "install_commands": [
            "/plugin marketplace add Montinou/triqual",
            "/plugin install quoth@triqual"
          ]
        }
      ]
    },
    {
      "name": "quoth-marketplace",
      "version": null,
      "description": "Quoth AI Memory â€” persistent memory for Claude across sessions with local-first storage, configurable strictness, and knowledge promotion",
      "repo_full_name": "Montinou/quoth-mcp",
      "repo_url": "https://github.com/Montinou/quoth-mcp",
      "repo_description": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-29T11:04:02Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"$schema\": \"https://anthropic.com/claude-code/marketplace.schema.json\",\n  \"name\": \"quoth-marketplace\",\n  \"description\": \"Quoth AI Memory â€” persistent memory for Claude across sessions with local-first storage, configurable strictness, and knowledge promotion\",\n  \"owner\": {\n    \"name\": \"Montinou\",\n    \"email\": \"montinou@ai-innovation.site\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"quoth\",\n      \"source\": \"./quoth-plugin\",\n      \"description\": \"AI Memory plugin with local-first storage, configurable strictness, and quoth-memory subagent for context summarization. Transforms documentation from 'search and read' to 'automatic memory'.\",\n      \"version\": \"2.0.0\",\n      \"author\": {\n        \"name\": \"Montinou\"\n      },\n      \"homepage\": \"https://quoth.ai-innovation.site\",\n      \"repository\": \"https://github.com/Montinou/quoth-mcp\",\n      \"license\": \"MIT\",\n      \"keywords\": [\"memory\", \"mcp\", \"documentation\", \"knowledge\", \"rag\", \"ai-memory\", \"quoth\"],\n      \"category\": \"memory\"\n    }\n  ]\n}\n",
        "README.md": "# Quoth v2.0 - AI Memory\n\n> Transform your AI from \"search and read\" to \"automatic memory\" - Local-first knowledge capture with bidirectional learning\n\nQuoth is an **AI Memory** system that gives Claude persistent memory across sessions. Unlike traditional documentation tools, Quoth creates a learning loop: it both retrieves AND stores knowledge, mediated by an intelligent `quoth-memory` subagent.\n\n```\nRAG (Basic)           â†’ Query â†’ Vectors â†’ Context â†’ LLM\nAgentic RAG (v1)      â†’ Query â†’ LLM â†’ Tools â†’ Context â†’ LLM\nAI Memory (v2)        â†’ Query â†’ LLM â†’ Memory âŸ· Tools â†’ Context â†’ LLM\n                                        â†‘___â†“\n                                    Bidirectional\n```\n\n## Key Features\n\n### ğŸ§  AI Memory Architecture\n\n| Feature | Description |\n|---------|-------------|\n| **Local-first storage** | `.quoth/` folder persists knowledge across sessions |\n| **Session logging** | Every action logged to `.quoth/sessions/{id}/` |\n| **Knowledge promotion** | User-approved transfer from session â†’ local â†’ remote |\n| **Configurable strictness** | `blocking`, `reminder`, or `off` modes |\n\n### ğŸ¤– quoth-memory Subagent\n\nA Sonnet-powered memory interface that:\n- Summarizes relevant context at session start (~500 tokens)\n- Answers questions without bloating main context\n- Prepares knowledge promotion proposals\n- Exempt from all hooks (prevents loops)\n\n### ğŸ”§ MCP Tools\n\n| Tool | Description |\n|------|-------------|\n| `quoth_search_index` | Semantic search with Jina embeddings + Cohere reranking |\n| `quoth_read_doc` | Retrieve full document content by ID |\n| `quoth_propose_update` | Submit documentation updates with evidence |\n| `quoth_genesis` | Bootstrap project documentation (minimal/standard/comprehensive) |\n| `quoth_guidelines` | Adaptive guidelines for code/review/document modes |\n\n### ğŸª Hook-Enforced Documentation\n\n| Hook | Purpose |\n|------|---------|\n| `SessionStart` | Initialize `.quoth/sessions/`, inject context |\n| `PreToolUse` | Gate Edit/Write until reasoning documented (if blocking) |\n| `PostToolUse` | Log actions to session folder |\n| `SubagentStart/Stop` | Context injection and documentation prompts |\n| `Stop` | Propose knowledge promotion to user |\n\n## Installation\n\n### Recommended: Plugin Install (Full AI Memory)\n\n```bash\n# Add marketplace (one time)\n/plugin marketplace add Montinou/quoth-mcp\n\n# Install plugin (MCP + hooks + skills + agents)\n/plugin install quoth@quoth-marketplace\n```\n\nThis bundles:\n- **MCP Server** - All tools for search, read, propose\n- **Hooks** - Automatic knowledge capture and enforcement\n- **Skills** - `/quoth-init` and `/quoth-genesis`\n- **Agents** - `quoth-memory` subagent for context queries\n\n### Alternative: MCP Server Only\n\nFor just the MCP tools without local memory:\n\n```bash\nclaude mcp add --transport http quoth https://quoth.ai-innovation.site/api/mcp\n```\n\n## Quick Start\n\n### 1. Initialize AI Memory\n\n```bash\n# Run in your project\n/quoth-init\n```\n\nThis creates your `.quoth/` folder:\n\n```\n.quoth/\nâ”œâ”€â”€ config.json         # Strictness, types, gates\nâ”œâ”€â”€ decisions.md        # Architecture choices\nâ”œâ”€â”€ patterns.md         # Code patterns\nâ”œâ”€â”€ errors.md           # Failures and fixes\nâ”œâ”€â”€ knowledge.md        # General context\nâ””â”€â”€ sessions/           # Session logs (gitignored)\n```\n\n### 2. Configure Strictness\n\nChoose how strictly Quoth enforces documentation:\n\n| Mode | Behavior |\n|------|----------|\n| **blocking** | Claude cannot edit code until reasoning is documented |\n| **reminder** | Gentle prompts to document, not blocking |\n| **off** | Manual capture only, no enforcement |\n\n### 3. Work Normally\n\nWith Quoth active:\n\n1. **Session starts** â†’ Context injected from `.quoth/*.md`\n2. **Before edits** â†’ Gate checks reasoning documented (if blocking)\n3. **After actions** â†’ Logged to `.quoth/sessions/{id}/log.md`\n4. **Session ends** â†’ Prompted to promote learnings\n\n### 4. Promote Knowledge\n\nAt session end, Quoth summarizes learnings:\n\n```\nSession complete. I captured these learnings:\n\n**Decisions:**\n- Chose retry-with-backoff over circuit-breaker for token refresh\n\n**Patterns:**\n- Token refresh uses mutex to prevent race conditions\n\n**Errors:**\n- Auth header missing on redirect (fixed by preserving headers)\n\nUpdate local files? Upload to Quoth? Both? Skip?\n```\n\n## Local Folder Structure\n\n```\n.quoth/\nâ”œâ”€â”€ config.json              # Project configuration\nâ”‚\nâ”œâ”€â”€ decisions.md             # PERSISTENT: Architecture choices\nâ”œâ”€â”€ patterns.md              # PERSISTENT: Code patterns\nâ”œâ”€â”€ errors.md                # PERSISTENT: Failures and fixes\nâ”œâ”€â”€ knowledge.md             # PERSISTENT: General context\nâ”œâ”€â”€ [custom].md              # PERSISTENT: Project-specific types\nâ”‚\nâ””â”€â”€ sessions/\n    â””â”€â”€ {session-id}/        # EPHEMERAL: Current session only\n        â”œâ”€â”€ context.md       # Injected context at start\n        â”œâ”€â”€ log.md           # Actions taken this session\n        â””â”€â”€ pending.md       # Learnings awaiting promotion\n```\n\n### Persistence Rules\n\n| Type | Survives Session | Survives Compaction | Synced to Quoth |\n|------|------------------|---------------------|-----------------|\n| Config | âœ“ | âœ“ | âœ— (local only) |\n| Type files | âœ“ | âœ“ | On promotion |\n| Session logs | Current only | âœ“ | On promotion |\n\n## Using quoth-memory\n\nQuery the memory subagent directly:\n\n```\n\"Ask quoth-memory: What's our error handling pattern?\"\n```\n\nThe subagent:\n1. Searches Quoth and local `.quoth/*.md` files\n2. Returns a concise answer (not raw documents)\n3. Keeps main context clean\n\n## Genesis v3.0\n\nBootstrap documentation with configurable depth:\n\n```bash\n# In Claude Code\n\"Run Genesis on this project\"\n```\n\n| Depth | Documents | Time | Use Case |\n|-------|-----------|------|----------|\n| `minimal` | 3 | ~3 min | Quick overview |\n| `standard` | 5 | ~7 min | Team onboarding |\n| `comprehensive` | 11 | ~20 min | Enterprise audit |\n\nGenesis v3.0 adds **Phase 0: Configuration** - asks about strictness and types before generating docs.\n\n## Team Collaboration\n\n- **Multi-user projects** - Share knowledge bases with team members\n- **Role-based access** - Admin, Editor, and Viewer roles\n- **Email invitations** - Invite collaborators via secure tokens\n- **Approval workflows** - Proposals require admin review (optional)\n\n## Environment Variables\n\n| Variable | Description |\n|----------|-------------|\n| `NEXT_PUBLIC_SUPABASE_URL` | Supabase project URL |\n| `SUPABASE_SERVICE_ROLE_KEY` | Supabase service role key |\n| `JINA_API_KEY` | Jina embeddings (512d vectors) |\n| `COHERE_API_KEY` | Cohere reranking (optional) |\n| `JWT_SECRET` | MCP token generation |\n| `RESEND_API_KEY` | Email delivery (optional) |\n\n## Links\n\n- **Website**: https://quoth.ai-innovation.site\n- **Documentation**: https://quoth.ai-innovation.site/docs\n- **Changelog**: https://quoth.ai-innovation.site/changelog\n- **GitHub**: https://github.com/Montinou/quoth-mcp\n\n## License\n\nMIT\n",
        "quoth-plugin/README.md": "# Quoth Plugin v2.0 - AI Memory for Claude Code\n\nAI Memory plugin with local-first storage, configurable strictness, and quoth-memory subagent. Transforms documentation from \"search and read\" to \"automatic memory\".\n\n## What's New in v2.0\n\n- **Local-first storage** - `.quoth/` folder persists knowledge across sessions\n- **quoth-memory subagent** - Sonnet-powered memory interface for context queries\n- **Configurable strictness** - `blocking`, `reminder`, or `off` modes\n- **Session logging** - All actions captured to `.quoth/sessions/`\n- **Knowledge promotion** - User-approved transfer to local/remote storage\n\n## Quick Install\n\n### From Marketplace (Recommended)\n\n```bash\n# Add the Quoth marketplace (one time)\n/plugin marketplace add Montinou/quoth-mcp\n\n# Install the plugin\n/plugin install quoth@quoth-marketplace\n```\n\nThis installs:\n- **MCP Server** - All tools (search, read, propose, genesis)\n- **Hooks** - Session management, gate enforcement, logging\n- **Skills** - `/quoth-init`, `/quoth-genesis`\n- **Agents** - `quoth-memory` subagent\n\n### MCP Only (No Local Memory)\n\n```bash\nclaude mcp add --transport http quoth https://quoth.ai-innovation.site/api/mcp\n```\n\n## Getting Started\n\n### 1. Initialize AI Memory\n\n```bash\n/quoth-init\n```\n\nThis creates your local memory structure:\n\n```\n.quoth/\nâ”œâ”€â”€ config.json         # Strictness, types, gates\nâ”œâ”€â”€ decisions.md        # Architecture choices\nâ”œâ”€â”€ patterns.md         # Code patterns\nâ”œâ”€â”€ errors.md           # Failures and fixes\nâ”œâ”€â”€ knowledge.md        # General context\nâ””â”€â”€ sessions/           # Session logs (gitignored)\n```\n\n### 2. Choose Strictness\n\nDuring init, choose how strictly to enforce documentation:\n\n| Mode | Behavior |\n|------|----------|\n| **blocking** | Cannot edit code until reasoning documented |\n| **reminder** | Gentle prompts, not blocking |\n| **off** | Manual capture only |\n\n### 3. Work Normally\n\nThe plugin automatically:\n1. Injects relevant context at session start\n2. Logs your actions to session folder\n3. Prompts for knowledge promotion at session end\n\n## Components\n\n### MCP Tools\n\n| Tool | Purpose |\n|------|---------|\n| `quoth_search_index` | Semantic search across documentation |\n| `quoth_read_doc` | Read full document content |\n| `quoth_propose_update` | Submit documentation updates |\n| `quoth_genesis` | Bootstrap project documentation |\n| `quoth_guidelines` | Adaptive guidelines (code/review/document modes) |\n\n### Hooks\n\n| Hook | Event | Purpose |\n|------|-------|---------|\n| `session-start.sh` | SessionStart | Initialize session, inject context |\n| `pre-tool-gate.sh` | PreToolUse | Gate Edit/Write (if blocking mode) |\n| `post-tool-log.sh` | PostToolUse | Log actions to session |\n| `subagent-start.sh` | SubagentStart | Context injection (excludes quoth-memory) |\n| `subagent-stop.sh` | SubagentStop | Documentation prompts (excludes quoth-memory) |\n| `stop.sh` | Stop | Knowledge promotion prompt |\n\n### quoth-memory Subagent\n\nA Sonnet-powered memory interface that:\n- Summarizes relevant context (~500 tokens)\n- Answers questions without bloating main context\n- Prepares knowledge promotion proposals\n- **Exempt from all hooks** (prevents infinite loops)\n\nQuery it directly:\n```\n\"Ask quoth-memory: What's our error handling pattern?\"\n```\n\n### Skills\n\n- `/quoth-init` - Initialize AI Memory with configuration wizard\n- `/quoth-genesis` - Bootstrap documentation (minimal/standard/comprehensive)\n\n## Configuration\n\n### .quoth/config.json\n\n```json\n{\n  \"version\": \"2.0\",\n  \"project_id\": \"uuid-or-empty\",\n  \"project_slug\": \"my-project\",\n  \"strictness\": \"reminder\",\n  \"types\": [\"decisions\", \"patterns\", \"errors\", \"knowledge\"],\n  \"gates\": {\n    \"require_reasoning_before_edit\": true,\n    \"require_quoth_search\": true,\n    \"require_error_documentation\": false\n  }\n}\n```\n\n### Strictness Modes\n\n**blocking** (Recommended for teams)\n- Cannot edit code until reasoning is documented\n- Must search Quoth before generating patterns\n- Gates enforced via `pre-tool-gate.sh`\n\n**reminder** (Default)\n- Gentle prompts when editing code\n- Not blocking, Claude decides when to document\n- Good balance for solo development\n\n**off**\n- No enforcement, manual capture only\n- Use for quick prototyping\n\n## Plugin Structure\n\n```\nquoth-plugin/\nâ”œâ”€â”€ .claude-plugin/\nâ”‚   â”œâ”€â”€ plugin.json           # v2.0.0 manifest\nâ”‚   â”œâ”€â”€ hooks/\nâ”‚   â”‚   â”œâ”€â”€ hooks.json        # Hook definitions\nâ”‚   â”‚   â”œâ”€â”€ lib/\nâ”‚   â”‚   â”‚   â””â”€â”€ common.sh     # Shared utilities\nâ”‚   â”‚   â”œâ”€â”€ session-start.sh  # SessionStart hook\nâ”‚   â”‚   â”œâ”€â”€ pre-tool-gate.sh  # PreToolUse gate\nâ”‚   â”‚   â”œâ”€â”€ post-tool-log.sh  # PostToolUse logging\nâ”‚   â”‚   â”œâ”€â”€ subagent-start.sh # SubagentStart context\nâ”‚   â”‚   â”œâ”€â”€ subagent-stop.sh  # SubagentStop prompts\nâ”‚   â”‚   â””â”€â”€ stop.sh           # Stop promotion\nâ”‚   â”œâ”€â”€ lib/\nâ”‚   â”‚   â”œâ”€â”€ memory-schema.sh  # Local folder operations\nâ”‚   â”‚   â””â”€â”€ config-schema.sh  # Config file operations\nâ”‚   â”œâ”€â”€ agents/\nâ”‚   â”‚   â””â”€â”€ quoth-memory.md   # Memory subagent definition\nâ”‚   â””â”€â”€ skills/\nâ”‚       â”œâ”€â”€ quoth-init/       # Init skill\nâ”‚       â””â”€â”€ genesis/          # Genesis skill\nâ”œâ”€â”€ .mcp.json                 # MCP server config\nâ””â”€â”€ README.md\n```\n\n## Knowledge Flow\n\n```\nSession Start\n    â†“\nContext injected from .quoth/*.md\n    â†“\nWork happens (edit, write, bash)\n    â†“\nActions logged to .quoth/sessions/{id}/log.md\n    â†“\nSession End\n    â†“\nquoth-memory reviews logs\n    â†“\nUser prompted to promote learnings:\nâ”œâ”€ \"Update local\" â†’ Merge into .quoth/*.md\nâ”œâ”€ \"Upload to Quoth\" â†’ quoth_propose_update()\nâ”œâ”€ \"Both\" â†’ Local + Remote\nâ””â”€ \"Skip\" â†’ Keep in session folder\n```\n\n## Links\n\n- [Quoth Website](https://quoth.ai-innovation.site)\n- [Documentation](https://quoth.ai-innovation.site/docs)\n- [Changelog](https://quoth.ai-innovation.site/changelog)\n- [GitHub](https://github.com/Montinou/quoth-mcp)\n"
      },
      "plugins": [
        {
          "name": "quoth",
          "source": "./quoth-plugin",
          "description": "AI Memory plugin with local-first storage, configurable strictness, and quoth-memory subagent for context summarization. Transforms documentation from 'search and read' to 'automatic memory'.",
          "version": "2.0.0",
          "author": {
            "name": "Montinou"
          },
          "homepage": "https://quoth.ai-innovation.site",
          "repository": "https://github.com/Montinou/quoth-mcp",
          "license": "MIT",
          "keywords": [
            "memory",
            "mcp",
            "documentation",
            "knowledge",
            "rag",
            "ai-memory",
            "quoth"
          ],
          "category": "memory",
          "categories": [
            "ai-memory",
            "documentation",
            "knowledge",
            "mcp",
            "memory",
            "quoth",
            "rag"
          ],
          "install_commands": [
            "/plugin marketplace add Montinou/quoth-mcp",
            "/plugin install quoth@quoth-marketplace"
          ]
        }
      ]
    }
  ]
}