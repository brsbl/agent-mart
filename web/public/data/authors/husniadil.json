{
  "author": {
    "id": "husniadil",
    "display_name": "Husni Adil Makmur",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/10581130?u=819b8b810c85f061dca9b7bb166229b65b99ccf3&v=4",
    "url": "https://github.com/husniadil",
    "bio": "Sang Penghibur",
    "stats": {
      "total_marketplaces": 2,
      "total_plugins": 2,
      "total_commands": 2,
      "total_skills": 1,
      "total_stars": 14,
      "total_forks": 6
    }
  },
  "marketplaces": [
    {
      "name": "cc-hooks-plugin",
      "version": null,
      "description": "Official marketplace for cc-hooks - Audio feedback and TTS announcements for Claude Code",
      "owner_info": {
        "name": "Husni Adil Makmur",
        "email": "husniadil@gmail.com"
      },
      "keywords": [],
      "repo_full_name": "husniadil/cc-hooks",
      "repo_url": "https://github.com/husniadil/cc-hooks",
      "repo_description": "Audio feedback plugin for Claude Code with TTS announcements, sound effects, and contextual AI messages. Supports multiple providers and languages.",
      "homepage": "",
      "signals": {
        "stars": 10,
        "forks": 2,
        "pushed_at": "2025-12-26T11:34:00Z",
        "created_at": "2025-09-07T16:41:35Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 1443
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 862
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 20711
        },
        {
          "path": "commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "commands/setup.md",
          "type": "blob",
          "size": 14310
        },
        {
          "path": "commands/update.md",
          "type": "blob",
          "size": 6485
        },
        {
          "path": "hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "hooks/hooks.json",
          "type": "blob",
          "size": 1944
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"cc-hooks-plugin\",\n  \"owner\": {\n    \"name\": \"Husni Adil Makmur\",\n    \"email\": \"husniadil@gmail.com\"\n  },\n  \"metadata\": {\n    \"description\": \"Official marketplace for cc-hooks - Audio feedback and TTS announcements for Claude Code\",\n    \"version\": \"1.0.12\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"cc-hooks-plugin\",\n      \"source\": \"./\",\n      \"description\": \"Audio feedback system with multilingual TTS announcements, AI-powered contextual messages, and sound effects for Claude Code. Features include: prerecorded sounds (offline), Google TTS (free), ElevenLabs (premium), contextual AI completion messages via OpenRouter, multi-language support, granular silent modes, and multi-instance support for concurrent sessions.\",\n      \"version\": \"1.0.12\",\n      \"author\": {\n        \"name\": \"Husni Adil Makmur\",\n        \"email\": \"husniadil@gmail.com\"\n      },\n      \"homepage\": \"https://github.com/husniadil/cc-hooks#readme\",\n      \"repository\": \"https://github.com/husniadil/cc-hooks\",\n      \"license\": \"MIT\",\n      \"keywords\": [\n        \"audio\",\n        \"tts\",\n        \"text-to-speech\",\n        \"hooks\",\n        \"productivity\",\n        \"ai-translation\",\n        \"multilingual\",\n        \"elevenlabs\",\n        \"gtts\",\n        \"openrouter\",\n        \"sound-effects\",\n        \"voice-feedback\",\n        \"automation\"\n      ],\n      \"category\": \"productivity\",\n      \"tags\": [\"audio\", \"tts\", \"productivity\", \"ai\", \"multilingual\"]\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"cc-hooks-plugin\",\n  \"version\": \"1.0.12\",\n  \"description\": \"Audio feedback system with multilingual TTS announcements, AI-powered contextual messages, and sound effects for Claude Code. Transform your coding experience with intelligent voice feedback that keeps you informed without breaking your flow.\",\n  \"author\": {\n    \"name\": \"Husni Adil Makmur\",\n    \"email\": \"husniadil@gmail.com\",\n    \"url\": \"https://github.com/husniadil\"\n  },\n  \"homepage\": \"https://github.com/husniadil/cc-hooks#readme\",\n  \"repository\": \"https://github.com/husniadil/cc-hooks\",\n  \"license\": \"MIT\",\n  \"keywords\": [\n    \"audio\",\n    \"tts\",\n    \"text-to-speech\",\n    \"hooks\",\n    \"productivity\",\n    \"ai-translation\",\n    \"multilingual\",\n    \"elevenlabs\",\n    \"gtts\",\n    \"openrouter\",\n    \"sound-effects\",\n    \"voice-feedback\",\n    \"automation\",\n    \"development-tools\"\n  ]\n}\n",
        "README.md": "# cc-hooks\n\n![cc-hooks Banner](public/banner.png)\n\n[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)\n[![DeepWiki](https://img.shields.io/badge/DeepWiki-cc--hooks-blue)](https://deepwiki.com/husniadil/cc-hooks)\n[![Claude Code](https://img.shields.io/badge/Claude%20Code-Enhanced-orange)](https://www.anthropic.com/claude-code)\n[![Audio](https://img.shields.io/badge/Audio-TTS%20%2B%20Sound%20Effects-purple)]()\n\n**Give Claude Code a voice!** Transform your coding experience with intelligent audio feedback,\nmultilingual TTS announcements, and AI-powered contextual messages.\n\n## Why cc-hooks?\n\nWorking with Claude Code is powerful, but it can feel silent and disconnected. **cc-hooks** brings\nyour coding sessions to life:\n\n- üéØ **Stay in the flow** - Audio cues keep you informed without breaking focus\n- üîä **Instant feedback** - Know when tools start, complete, or when Claude needs your attention\n- üó£Ô∏è **Smart announcements** - Context-aware messages that understand what you're working on\n- üåç **Your language** - TTS support for multiple languages (English, Indonesian, Spanish, and more)\n- ‚ö° **Zero config** - Works out of the box, customize when you need it\n- üéõÔ∏è **Flexible control** - From complete silence to premium AI voices, you choose\n\n## Quick Demo\n\n[![ElevenLabs TTS Demo](public/thumbnail.png)](https://www.youtube.com/watch?v=VXkKhgeZ-xU)\n\n_Watch cc-hooks in action with premium ElevenLabs text-to-speech_\n\n## Features\n\n### üéµ Audio Feedback System\n\n- **Sound effects** for different events (tool execution, notifications, completions)\n- **Voice announcements** for session lifecycle and task completions\n- **Multiple TTS providers**: Prerecorded sounds (offline), Google TTS (free), ElevenLabs (premium)\n- **Smart fallback chain** - automatically tries next provider if one fails\n\n### ü§ñ AI-Powered Intelligence (Optional)\n\n- **Contextual completion messages** - \"I've successfully implemented the authentication system you\n  requested\"\n- **Smart tool announcements** - Understands what Claude is doing and why\n- **Automatic translation** - AI messages in your preferred language\n- **Cost optimized** - Disabled by default, enable per session when needed\n\n### ‚öôÔ∏è Advanced Capabilities\n\n- **Multi-instance support** - Run multiple Claude sessions with different audio configs\n- **Granular silent modes** - Disable just announcements or just sound effects\n- **Per-session configuration** - Change settings without editing config files\n- **Auto-cleanup** - Smart session management prevents resource leaks\n- **Status line integration** - See current session info in Claude Code UI\n\n## Installation\n\n### Choose Your Installation Mode\n\n| Feature               | Plugin Mode ‚≠ê Recommended | Standalone Mode               |\n| --------------------- | -------------------------- | ----------------------------- |\n| **Setup Complexity**  | ‚úÖ Simple (3 commands)     | ‚ö†Ô∏è Manual hooks configuration |\n| **Updates**           | ‚úÖ One command             | ‚ö†Ô∏è Git pull + restart         |\n| **Slash Commands**    | ‚úÖ Built-in                | ‚ùå Not available              |\n| **Hooks Config**      | ‚úÖ Automatic               | ‚ö†Ô∏è Manual (settings.json)     |\n| **Installation Path** | Fixed location             | ‚úÖ User-defined               |\n| **For Contributors**  | ‚ö†Ô∏è Limited                 | ‚úÖ Full source access         |\n| **Recommended for**   | **Most users**             | Developers, testers           |\n\n[**‚Üí Continue with Plugin Installation**](#plugin-installation-recommended) |\n[**‚Üí Standalone Installation**](STANDALONE_README.md)\n\n---\n\n### Plugin Installation (Recommended)\n\n#### Prerequisites\n\n- **Python 3.12+** (recommended: 3.12.7)\n- **[uv](https://docs.astral.sh/uv/)** package manager\n- **Claude Code** CLI installed\n\n#### Quick Install\n\n**Option 1: CLI (Recommended - No REPL needed)**\n\n```bash\n# Add marketplace\nclaude plugin marketplace add https://github.com/husniadil/cc-hooks.git\n\n# Install plugin\nclaude plugin install cc-hooks-plugin@cc-hooks-plugin\n\n# Done! Start Claude to use\nclaude\n```\n\n**Option 2: Inside Claude REPL**\n\n```bash\n# Start Claude first\nclaude\n\n# Then in the REPL:\n/plugin marketplace add https://github.com/husniadil/cc-hooks.git\n/plugin install cc-hooks-plugin@cc-hooks-plugin\n\n# Restart Claude Code\n```\n\n**Start using!** Audio feedback works immediately with default prerecorded sounds. üéâ\n\n#### Post-Installation Setup (Recommended)\n\nAfter installation, use the interactive setup wizard:\n\n```bash\n# Inside Claude REPL\n/cc-hooks-plugin:setup\n```\n\nThis wizard helps you:\n\n- ‚úÖ Check system requirements (uv installation)\n- ‚úÖ Set up convenient shell aliases (`cld` command)\n- ‚úÖ Configure status line\n- ‚úÖ Set up API keys for premium features\n- ‚úÖ Choose preset configurations\n- ‚úÖ Test your installation\n\n**Quick setup modes:**\n\n```bash\n/cc-hooks-plugin:setup check    # Check requirements and config only\n/cc-hooks-plugin:setup apikeys  # Focus on API key setup\n/cc-hooks-plugin:setup test     # Run installation tests\n```\n\n#### Status Line Setup (Optional)\n\nThe plugin includes a status line feature that shows session info in Claude Code UI. **This is not\nconfigured automatically** and requires manual setup in `~/.claude/settings.json`:\n\n```jsonc\n{\n  \"$schema\": \"https://json.schemastore.org/claude-code-settings.json\",\n  // ...\n  \"statusLine\": {\n    \"type\": \"command\",\n    \"command\": \"uv run ~/.claude/plugins/marketplaces/cc-hooks-plugin/status-lines/status_line.py\"\n  }\n}\n```\n\n**Benefits:**\n\n- Shows current TTS provider, language, and AI mode\n- Displays session info at a glance\n- Real-time status updates\n\n## Usage\n\n### Quick Start\n\n**Automated Setup (Easiest):**\n\n```bash\n# Inside Claude REPL\n/cc-hooks-plugin:setup\n```\n\n**Manual Setup:**\n\nAdd shell alias to your `.bashrc` or `.zshrc`:\n\n```bash\nalias cld='~/.claude/plugins/marketplaces/cc-hooks-plugin/claude.sh'\n```\n\nThen reload: `source ~/.bashrc` or `source ~/.zshrc`\n\n### Usage Examples\n\n```bash\n# Default: prerecorded sounds (offline, no config needed)\ncld\n\n# Google TTS in Indonesian\ncld --audio=gtts --language=id\n\n# Premium ElevenLabs voice\ncld --audio=elevenlabs\n\n# With AI-powered contextual messages\ncld --audio=gtts --ai=full --language=id\n\n# Silent mode for meetings\ncld --silent\n```\n\n## Configuration\n\n### CLI Flags Reference\n\n#### Audio Providers\n\n```bash\ncld --audio=prerecorded  # Offline sounds (default, no API key)\ncld --audio=gtts         # Google TTS (free, requires internet)\ncld --audio=elevenlabs   # Premium quality (requires API key)\n```\n\n| Provider        | Quality | Cost | Requires Internet | API Key |\n| --------------- | ------- | ---- | ----------------- | ------- |\n| **prerecorded** | Good    | Free | ‚ùå No             | ‚ùå No   |\n| **gtts**        | Great   | Free | ‚úÖ Yes            | ‚ùå No   |\n| **elevenlabs**  | Premium | Paid | ‚úÖ Yes            | ‚úÖ Yes  |\n\n#### Language\n\n```bash\ncld --audio=gtts --language=id  # Indonesian\ncld --audio=gtts --language=es  # Spanish\ncld --audio=gtts --language=fr  # French\n```\n\nSupports any Google TTS or ElevenLabs language: `en`, `id`, `es`, `fr`, `de`, `ja`, and many more!\n\n#### AI Features\n\n```bash\ncld --ai=basic  # Contextual completion messages only\ncld --ai=full   # Completion + intelligent tool announcements\n```\n\n**Requires**: OpenRouter API key (`export OPENROUTER_API_KEY=your_key`)\n\n**What you get:**\n\n- \"I've successfully implemented the authentication system you requested\"\n- \"Running tests to validate the changes we just made\"\n- Messages automatically translated to your language\n\n**Cost**: Very affordable (~$0.15 per 1M tokens)\n\n#### Silent Modes\n\n```bash\ncld --silent                    # Complete silence\ncld --silent=announcements      # No TTS, keep sound effects\ncld --silent=sound-effects      # No sound effects, keep TTS\n```\n\n#### Advanced Flags\n\n```bash\n--elevenlabs-voice-id=ID        # Custom ElevenLabs voice\n--elevenlabs-model=MODEL        # ElevenLabs model (default: eleven_flash_v2_5)\n--openrouter-model=MODEL        # AI model (default: openai/gpt-4o-mini)\n--no-cache                      # Disable TTS caching (for testing)\n```\n\n### API Keys Setup\n\nFor ElevenLabs or AI features, set API keys as environment variables:\n\n```bash\n# Add to your .bashrc or .zshrc\nexport ELEVENLABS_API_KEY=your_key_here\nexport OPENROUTER_API_KEY=your_key_here\n```\n\n**Get your keys:**\n\n- **ElevenLabs**:\n  [elevenlabs.io/app/developers/api-keys](https://elevenlabs.io/app/developers/api-keys)\n- **OpenRouter**: [openrouter.ai/keys](https://openrouter.ai/keys) (free credits available)\n\n### Configuration File (Recommended)\n\n**Set your defaults once** - no need to use CLI flags every time!\n\n**Location**: `~/.claude/.cc-hooks/config.yaml`\n\n**Why use it?**\n\n- ‚úÖ **For Zed/Editors**: Only way to customize (editors can't pass CLI flags)\n- ‚úÖ **For Terminal**: Set once, run `claude` or `cld` - your preferences auto-apply\n- ‚úÖ **Still flexible**: CLI flags override config when needed\n\n**Create config file:**\n\n```bash\n# Inside Claude REPL\n/cc-hooks-plugin:setup\n\n# Or manually create with defaults\nuv run ~/.claude/plugins/marketplaces/cc-hooks-plugin/utils/config_loader.py --create-example\n\n# Edit to your preferences\nnano ~/.claude/.cc-hooks/config.yaml\n```\n\n**Example config** (Indonesian with Google TTS):\n\n```yaml\naudio:\n  providers: gtts,prerecorded\n  language: id\n  cache_enabled: true\n\nopenrouter:\n  enabled: false\n```\n\n**Example config** (Premium with AI):\n\n```yaml\naudio:\n  providers: elevenlabs,gtts,prerecorded\n  language: en\n  cache_enabled: true\n\nelevenlabs:\n  voice_id: 21m00Tcm4TlvDq8ikWAM\n  model_id: eleven_flash_v2_5\n\nopenrouter:\n  enabled: true\n  model: openai/gpt-4o-mini\n  contextual_stop: true\n```\n\n**Priority**: CLI flags > Environment variables > Config file > Defaults\n\n**This means:**\n\n- Config file provides defaults for all sessions\n- Run `cld --language=es` to override for one session\n- Perfect for both Zed and terminal users!\n\n### Example Configurations\n\n```bash\n# Work setup: Indonesian TTS with Google\ncld --audio=gtts --language=id\n\n# Premium experience: ElevenLabs + AI features\ncld --audio=elevenlabs --ai=full\n\n# Meeting mode: Sound effects only\ncld --silent=announcements\n\n# Testing: Premium voice without cache\ncld --audio=elevenlabs --no-cache\n\n# Multi-session workflow\n# Terminal 1: Work project\ncd ~/work-project\ncld --audio=gtts --language=id\n\n# Terminal 2: Side project with premium\ncd ~/side-project\ncld --audio=elevenlabs --ai=full\n\n# Terminal 3: Silent for meetings\ncd ~/meeting-notes\ncld --silent\n```\n\n## Audio Event Mapping\n\n| Event            | Sound Effect | TTS Announcement               |\n| ---------------- | ------------ | ------------------------------ |\n| SessionStart     | -            | ‚úÖ Always                      |\n| SessionEnd       | -            | ‚úÖ Always                      |\n| PreToolUse       | tek.mp3      | ‚úÖ With AI=full                |\n| PostToolUse      | cetek.mp3    | -                              |\n| UserPromptSubmit | klek.mp3     | -                              |\n| Notification     | tung.mp3     | -                              |\n| Stop             | -            | ‚úÖ Always (contextual with AI) |\n| SubagentStop     | cetek.mp3    | -                              |\n| PreCompact       | -            | ‚úÖ Always                      |\n\n**Notes:**\n\n- Sound effects play regardless of `--audio` flag (unless `--silent` or `--silent=sound-effects`)\n- TTS announcements use the configured provider (`--audio=prerecorded|gtts|elevenlabs`)\n- PreToolUse only announces with `--ai=full` (contextual tool messages)\n- Stop always announces, but uses AI contextual messages when `--ai=basic` or `--ai=full` is enabled\n\n## Updating cc-hooks\n\n### Check for Updates\n\nInside Claude REPL:\n\n```bash\n/cc-hooks-plugin:update\n```\n\nOr via CLI:\n\n```bash\nclaude plugin marketplace update cc-hooks-plugin\n```\n\n**The update command will:**\n\n- Detect your installation mode automatically\n- Check for available updates\n- Show current vs latest version\n- Install updates with your confirmation\n- Remind you to restart Claude Code\n\n**Alternative methods:**\n\n```bash\n# CLI (outside Claude REPL)\nclaude plugin marketplace update cc-hooks-plugin\n\n# Inside Claude REPL\n/plugin update cc-hooks-plugin@cc-hooks-plugin\n```\n\n**Important**: Restart Claude Code session after updating.\n\n## Troubleshooting\n\n### Quick Diagnostics\n\nRun `/cc-hooks-plugin:setup check` to verify your configuration.\n\n### Plugin Hook Metadata Error?\n\n**Error message:**\n\n```\n‚éø  SessionStart:startup says: Plugin hook error: Reading inline script metadata from `~/.claude/plugins/marketplaces/cc-hooks-plugin//hooks.py`\n   Installed 28 packages in 115ms\n```\n\n**Cause:** This typically occurs when Claude CLI is being auto-updated by Anthropic in the\nbackground.\n\n**Solution:** Simply restart your Claude session. The error should disappear after the update\ncompletes.\n\n### cc-hooks not starting with `--dangerously-skip-permissions` in new folders?\n\n**Symptom:** When running Claude Code with `--dangerously-skip-permissions` flag in a new/untrusted\nfolder, cc-hooks server doesn't start and hooks don't execute.\n\n**Cause:** Claude Code shows a trust prompt for new folders that requires explicit user approval:\n\n```\n Do you trust the files in this folder?\n /path/to/your/folder\n ‚ùØ 1. Yes, proceed\n   2. No, exit\n```\n\nWhen using `--dangerously-skip-permissions`, this prompt doesn't appear but hooks also fail to\nexecute. This appears to be a limitation in how Claude Code handles the trust flow with this flag.\n\n**Solution:** Run Claude Code **without** the flag first to accept the trust prompt:\n\n```bash\n# First run: accept trust prompt (without skip-permissions flag)\ncld  # or: claude\n\n# Select \"Yes, proceed\" when prompted\n\n# Exit Claude Code\n\n# Subsequent runs: flag works normally\ncld --dangerously-skip-permissions  # Now hooks will work\n```\n\n**Why this works:** Once the folder is trusted, the approval is cached. Future sessions (even with\n`--dangerously-skip-permissions`) will execute hooks normally.\n\n**Note:** It's unclear whether this is a Claude Code bug or expected behavior. The flag is meant to\nskip permission prompts, but doesn't seem to handle the initial folder trust flow.\n\n### No audio at all?\n\n1. Check system audio is working\n2. Verify plugin is installed: `/plugin`\n3. Run setup wizard: `/cc-hooks-plugin:setup test`\n4. Check logs: `tail -f ~/.claude/.cc-hooks/logs/*.log`\n5. Test manually: `uv run ~/.claude/plugins/marketplaces/cc-hooks-plugin/utils/sound_player.py`\n\n### Google TTS not working?\n\n1. Check internet connection\n2. Test:\n   `uv run ~/.claude/plugins/marketplaces/cc-hooks-plugin/utils/tts_announcer.py --provider gtts SessionStart`\n\n### ElevenLabs not working?\n\n1. Verify API key: `printenv ELEVENLABS_API_KEY`\n2. Check quota at [elevenlabs.io](https://elevenlabs.io)\n3. Test:\n   `uv run ~/.claude/plugins/marketplaces/cc-hooks-plugin/utils/tts_announcer.py --provider elevenlabs SessionStart`\n\n### AI contextual messages not working?\n\n1. Verify API key: `printenv OPENROUTER_API_KEY`\n2. Use `--ai=basic` or `--ai=full` flag when starting\n3. Check OpenRouter API quota at [openrouter.ai](https://openrouter.ai)\n\n### Database Issues\n\nCheck database exists:\n\n```bash\nls -la ~/.claude/.cc-hooks/events.db\n```\n\nView recent events:\n\n```bash\nsqlite3 ~/.claude/.cc-hooks/events.db \"SELECT id, hook_event_name, status FROM events ORDER BY created_at DESC LIMIT 10;\"\n```\n\n## Data Storage\n\nThe plugin uses a shared data directory for persistence:\n\n```\n~/.claude/.cc-hooks/\n‚îú‚îÄ‚îÄ events.db          # Event queue database\n‚îú‚îÄ‚îÄ logs/              # Per-session logs\n‚îÇ   ‚îî‚îÄ‚îÄ {pid}.log\n‚îî‚îÄ‚îÄ .tts_cache/        # Cached TTS audio (if enabled)\n```\n\n**Why shared?** This directory persists across plugin updates, allowing seamless upgrades without\nlosing data.\n\n## FAQ\n\n**Q: Do I need API keys to use cc-hooks?**\n\nNo! Default mode uses prerecorded sounds and works completely offline with no API keys required.\n\n**Q: Which TTS provider should I use?**\n\n- **Prerecorded**: Fastest, offline, no costs (great for starting)\n- **Google TTS**: Free, good quality, requires internet\n- **ElevenLabs**: Premium quality, costs money, best voices\n\n**Q: Can I use my own voice with ElevenLabs?**\n\nYes! Upload your voice at [elevenlabs.io/app/voice-lab](https://elevenlabs.io/app/voice-lab), then\nuse `--elevenlabs-voice-id=your_voice_id`\n\n**Q: How much do AI features cost?**\n\nOpenRouter has free credits to start. After that, costs vary by model. Use `--ai=basic` for minimal\ncosts (only completion messages). The default model is very cheap (~$0.15 per 1M tokens).\n\n**Q: Can I run multiple Claude sessions with different audio settings?**\n\nYes! Each session is independent. Run `cld --audio=gtts` in one terminal and `cld --silent` in\nanother.\n\n**Q: Does cc-hooks slow down Claude Code?**\n\nNo! cc-hooks uses a \"fire-and-forget\" pattern - hooks return immediately. Audio processing happens\nin the background without blocking Claude.\n\n**Q: What languages are supported?**\n\nAny language supported by Google TTS or ElevenLabs. Common ones: English (en), Indonesian (id),\nSpanish (es), French (fr), German (de), Japanese (ja), etc.\n\n**Q: Can I disable just the voice but keep sound effects?**\n\nYes! Use `--silent=announcements` to disable TTS while keeping sound effects.\n\n**Q: How do I migrate from standalone mode?**\n\nSee [MIGRATION.md](MIGRATION.md) for a comprehensive step-by-step guide.\n\n**Q: Can I use cc-hooks in CI/CD?**\n\nYes, use `--silent` mode to disable all audio in automated environments.\n\n**Q: Where are audio files cached?**\n\nTTS cache is in `~/.claude/.cc-hooks/.tts_cache/` directory. Delete it with\n`rm -rf ~/.claude/.cc-hooks/.tts_cache` to regenerate all audio.\n\n**Q: How do I contribute?**\n\nPull requests welcome! For development, use [Standalone Mode](STANDALONE_README.md). See\n[CLAUDE.md](CLAUDE.md) for development guide.\n\n## Advanced Usage\n\n### Custom ElevenLabs Voice\n\n1. Upload voice at [elevenlabs.io/app/voice-lab](https://elevenlabs.io/app/voice-lab)\n2. Get voice ID\n3. Use with flag:\n   ```bash\n   cld --audio=elevenlabs --elevenlabs-voice-id=your_voice_id\n   ```\n\n### Custom AI Model\n\nUse different AI models for contextual messages:\n\n```bash\ncld --ai=full --openrouter-model=google/gemini-2.5-flash-lite  # Faster, cheaper\ncld --ai=full --openrouter-model=anthropic/claude-3-haiku      # Better quality\n```\n\n### Multi-Instance Support\n\nRun multiple Claude sessions with different configurations simultaneously:\n\n```bash\n# Terminal 1: Work project with Indonesian TTS\ncld --audio=gtts --language=id\n\n# Terminal 2: Side project with premium voice + AI\ncld --audio=elevenlabs --ai=full\n\n# Terminal 3: Meeting mode (silent)\ncld --silent\n\n# Terminal 4: Testing with prerecorded only\ncld --audio=prerecorded\n```\n\nEach session runs independently with its own server and configuration!\n\n## Slash Commands Reference\n\ncc-hooks provides convenient slash commands for management:\n\n### Setup Command\n\nConfigure and test your installation:\n\n```bash\n/cc-hooks-plugin:setup           # Interactive setup wizard\n/cc-hooks-plugin:setup check     # Check system requirements\n/cc-hooks-plugin:setup apikeys   # Configure API keys\n/cc-hooks-plugin:setup test      # Test installation\n```\n\n### Update Command\n\nKeep cc-hooks up to date:\n\n```bash\n/cc-hooks-plugin:update          # Check and install updates\n```\n\n## Migrating from Standalone\n\nIf you previously used standalone installation, see [MIGRATION.md](MIGRATION.md) for a comprehensive\nmigration guide.\n\n**Quick summary:**\n\n1. Remove hooks from `~/.claude/settings.json`\n2. Install plugin via `claude plugin install cc-hooks-plugin@cc-hooks-plugin`\n3. Update shell alias to point to plugin path\n4. Export API keys to shell environment (if using)\n5. Test with `/cc-hooks-plugin:setup check`\n\nYour data in `~/.claude/.cc-hooks/` is automatically preserved!\n\n## Support\n\n- **Issues**: [GitHub Issues](https://github.com/husniadil/cc-hooks/issues)\n- **Documentation**: [Main README](README.md) (this file) | [Standalone](STANDALONE_README.md) |\n  [Migration](MIGRATION.md)\n- **Development**: [CLAUDE.md](CLAUDE.md) for technical details\n- **Updates**: Use `/cc-hooks-plugin:update` inside Claude REPL\n\n## Credits\n\n- **Sound effects**: Generated using [ElevenLabs](https://elevenlabs.io) voice synthesis\n- **TTS**: [Google TTS](https://github.com/pndurette/gTTS), [ElevenLabs](https://elevenlabs.io)\n- **AI**: [OpenRouter](https://openrouter.ai)\n\n## License\n\nMIT - see [LICENSE](LICENSE) for details.\n\n---\n\n**Made with ‚ù§Ô∏è for the Claude Code community**\n\nEnjoy your enhanced coding experience! üéâ\n",
        "commands/setup.md": "---\nallowed-tools: Read, Bash, Edit, Write\ndescription: Setup and configure cc-hooks plugin\nargument-hint: [check|apikeys|test]\n---\n\n# cc-hooks Setup Assistant\n\nHelp the user set up and configure the cc-hooks plugin. Follow these steps:\n\n## 1. System Requirements Check\n\nCheck if `uv` is installed:\n\n```bash\nuv --version\n```\n\nIf not installed, guide the user to install it:\n\n- **macOS/Linux**: `curl -LsSf https://astral.sh/uv/install.sh | sh`\n- **Windows**: `powershell -c \"irm https://astral.sh/uv/install.ps1 | iex\"`\n\n## 2. Shell Alias Setup\n\n### 2.1. Check `cld` Alias Availability\n\nCheck if `cld` command is available using BOTH methods:\n\n```bash\n# Detect user's shell\necho $SHELL\n\n# Method 1: Test if cld works in current shell\ntype cld 2>/dev/null && echo \"cld: available in current shell\" || echo \"cld: not found in current shell\"\n\n# Method 2: Check if cld is configured in shell config files\ngrep -h \"alias cld=\" ~/.zshrc ~/.bashrc ~/.bash_profile ~/.profile 2>/dev/null && echo \"cld: found in shell config\" || echo \"cld: not found in shell config\"\n```\n\n**Decision logic:**\n\n- If **EITHER** method finds `cld` ‚Üí Skip to checking wrapper alias (Section 2.2)\n- If **BOTH** methods fail ‚Üí Offer to create `cld` alias\n\n### Creating `cld` Alias (only if not found)\n\nIf `cld` is not available in either current shell or config files, guide the user to add it:\n\n**For zsh users** (~/.zshrc):\n\n```bash\nalias cld='~/.claude/plugins/marketplaces/cc-hooks-plugin/claude.sh'\n```\n\n**For bash users** (~/.bashrc or ~/.bash_profile):\n\n```bash\nalias cld='~/.claude/plugins/marketplaces/cc-hooks-plugin/claude.sh'\n```\n\nAsk the user if they would like to add the `cld` alias to their shell configuration for convenience.\n\nIf the user agrees, add the appropriate alias to their shell config file and remind them to run\n`source ~/.zshrc` (or appropriate config file) or restart their terminal.\n\n### 2.2. Check for Wrapper Alias (Optional)\n\nAfter confirming `cld` is available (either in current shell or config files), check if a wrapper\nalias already exists:\n\n```bash\n# Check for any alias that wraps cld with arguments\ngrep -h \"alias.*='cld \" ~/.zshrc ~/.bashrc ~/.bash_profile ~/.profile 2>/dev/null | grep -v \"^#\"\n```\n\n**If wrapper alias exists:**\n\n- Show the user what's configured (e.g., \"Found wrapper alias: cc='cld --audio=gtts --ai=full'\")\n- Skip to step 3\n\n**If no wrapper exists:**\n\nInform the user that they can optionally create a convenient wrapper alias with their preferred\ndefault settings. Present the available preset configurations:\n\n**Preset configurations:**\n\n1. **Basic**: `alias cc='cld'` - Prerecorded audio only\n2. **Enhanced**: `alias cc='cld --audio=gtts --ai=basic'` - Google TTS with AI (requires OpenRouter)\n3. **Full**: `alias cc='cld --audio=gtts --ai=full'` - Google TTS with all AI features (requires\n   OpenRouter)\n4. **Premium**: `alias cc='cld --audio=elevenlabs --ai=full'` - ElevenLabs with AI (requires both\n   API keys)\n5. **Silent**: `alias cc='cld --silent'` - No audio, visual only\n6. **Skip**: Continue without creating a wrapper alias\n\n**Implementation:**\n\n- If the user wants a preset, ask which one they prefer\n- Optionally offer to customize with language flag (e.g., `--language=id`)\n- Add the chosen alias to their shell config file\n- Remind them to run `source ~/.zshrc` (or appropriate config file) or restart their terminal\n- Explain that they can still use `cld` with different flags when needed\n\n**Example:**\n\n```bash\n# Enhanced preset with Indonesian language\nalias cc='cld --audio=gtts --ai=basic --language=id'\n```\n\n## 3. Status Line Configuration Check\n\nCheck if statusline is configured properly in `~/.claude/settings.json`:\n\n```bash\n# Read the settings file\ncat ~/.claude/settings.json | grep -A 2 '\"statusLine\"'\n```\n\n**Expected configuration**:\n\n```json\n\"statusLine\": {\n  \"type\": \"command\",\n  \"command\": \"uv run ~/.claude/plugins/marketplaces/cc-hooks-plugin/status-lines/status_line.py\"\n}\n```\n\n**If not configured or pointing to wrong path**, offer to update it automatically or guide the user\nto add/update the statusLine configuration.\n\n## 4. Environment Variables Check\n\n**IMPORTANT**: Plugin updates will delete and redownload all plugin files. Therefore, API keys and\nenvironment variables MUST be stored outside the plugin directory (e.g., in shell config files like\n`~/.zshrc` or `~/.bashrc`, or in separate files loaded by your shell).\n\n### Check if API Keys are Available\n\nFirst, check if API keys are available in the current environment:\n\n```bash\n# Check for API keys in current environment (DO NOT print values)\nenv | grep -E \"OPENROUTER_API_KEY|ELEVENLABS_API_KEY\" | sed 's/=.*/=[SET]/' || echo \"No API keys found\"\n```\n\n**If API keys ARE available** (regardless of how they're loaded):\n\n- ‚úÖ Confirm that API keys are set and ready to use\n- Skip offering to add them (user has their own setup)\n- Continue to next step\n\n**If API keys ARE NOT available**, check shell config files:\n\n```bash\n# Check for API keys in shell config (DO NOT print values)\ngrep -h \"OPENROUTER_API_KEY\\|ELEVENLABS_API_KEY\" ~/.zshrc ~/.bashrc ~/.bash_profile ~/.profile 2>/dev/null | sed 's/=.*/=[REDACTED]/' || echo \"No API keys found in shell config\"\n```\n\n### API Keys to Configure\n\n**OpenRouter** (for AI contextual messages):\n\n- `OPENROUTER_API_KEY`: Get from https://openrouter.ai/keys\n- Required only if using `--ai=basic` or `--ai=full`\n- **If provided**: Recommend starting with `cld --audio=gtts --ai=full` (or `--ai=basic`)\n\n**ElevenLabs** (for premium TTS):\n\n- `ELEVENLABS_API_KEY`: Get from https://elevenlabs.io/\n- Required only if using `--audio=elevenlabs`\n\n### Configuring Environment Variables\n\n**Only offer this if API keys are NOT available in the current environment.**\n\nGuide the user to add them to their shell config:\n\n**For zsh users** (~/.zshrc):\n\n```bash\n# cc-hooks API Keys\nexport OPENROUTER_API_KEY=\"your-key-here\"\nexport ELEVENLABS_API_KEY=\"your-key-here\"\n```\n\n**For bash users** (~/.bashrc or ~/.bash_profile):\n\n```bash\n# cc-hooks API Keys\nexport OPENROUTER_API_KEY=\"your-key-here\"\nexport ELEVENLABS_API_KEY=\"your-key-here\"\n```\n\n**After adding:**\n\n- Remind them to run `source ~/.zshrc` (or appropriate config file) or restart their terminal\n- Explain that only the keys they need should be added (OpenRouter for AI, ElevenLabs for premium\n  TTS)\n- Note that they can also load keys from separate files (e.g., `source ~/.api-keys` in their shell\n  config)\n\n**SECURITY NOTE**: Never print actual API key values in output. Always redact or mask them.\n\n## 5. Configuration File Setup (Recommended)\n\n**This step is OPTIONAL but highly recommended** - it provides a better experience for all users.\n\n### Why Use a Config File?\n\nThe config file (`~/.claude/.cc-hooks/config.yaml`) lets you set default preferences without using\nCLI flags:\n\n**Benefits for Zed/Editor users:**\n\n- ‚úÖ **Editors can't pass CLI flags** ‚Üí Config file enables customization\n- ‚úÖ Set audio provider, language, AI features ‚Üí Works automatically in Zed\n\n**Benefits for Terminal users:**\n\n- ‚úÖ No need to type flags every time ‚Üí Just run `cld` or `claude`\n- ‚úÖ Set your preferred defaults ‚Üí Consistent experience\n- ‚úÖ Can still override with CLI flags when needed\n\n### Check if Config Exists\n\n```bash\n# Check if config file already exists\nls -la ~/.claude/.cc-hooks/config.yaml\n```\n\n**If config exists:**\n\n- Show the user their current settings\n- Ask if they want to modify it\n- Skip to next section if they're happy\n\n**If config doesn't exist:**\n\n- Offer to create one with their preferences\n\n### Creating Config File\n\nIf the user wants to create a config file:\n\n**Option 1: Create with default example (Recommended)**\n\n```bash\n# Create example config with all options documented\nuv run ~/.claude/plugins/marketplaces/cc-hooks-plugin/utils/config_loader.py --create-example\n\n# Show the created file\ncat ~/.claude/.cc-hooks/config.yaml\n```\n\n**Option 2: Interactive configuration**\n\nAsk the user for their preferences:\n\n1. **Audio provider**: prerecorded (default), gtts (free), or elevenlabs (premium)\n2. **Language**: en (default), id, es, fr, etc.\n3. **AI features**: disabled (default), basic, or full\n4. **Silent modes**: none (default), announcements, or sound-effects\n\nThen create a customized config file based on their answers.\n\n**Example for Indonesian user with Google TTS:**\n\n```yaml\naudio:\n  providers: gtts,prerecorded\n  language: id\n  cache_enabled: true\n\nopenrouter:\n  enabled: false\n```\n\n**Example for premium setup (requires API keys):**\n\n```yaml\naudio:\n  providers: elevenlabs,gtts,prerecorded\n  language: en\n  cache_enabled: true\n\nelevenlabs:\n  voice_id: 21m00Tcm4TlvDq8ikWAM\n  model_id: eleven_flash_v2_5\n\nopenrouter:\n  enabled: true\n  model: openai/gpt-4o-mini\n  contextual_stop: true\n  contextual_pretooluse: false\n```\n\n### Explain Priority System\n\nAfter creating the config, explain to the user:\n\n**Configuration Priority** (highest to lowest):\n\n1. **CLI flags** ‚Üí `cld --language=es` (terminal usage, session override)\n2. **Environment variables** ‚Üí `export CC_TTS_LANGUAGE=es` (temporary override)\n3. **Config file** ‚Üí `~/.claude/.cc-hooks/config.yaml` (your defaults) ‚Üê **NEW!**\n4. **Hardcoded defaults** ‚Üí Built-in fallback values\n\n**This means:**\n\n- Config file provides your defaults for all sessions\n- Terminal users can override with `cld --flag` when needed\n- Zed/editor users get config defaults automatically\n- Everyone benefits from \"set once, forget\" workflow\n\n### Verify Config Works\n\n```bash\n# Test that config is loaded (check with a simple session)\ncld\n\n# Or test config loading directly\ncd ~/.claude/plugins/marketplaces/cc-hooks-plugin\nuv run utils/config_loader.py\n```\n\n## 6. Configuration Options (CLI Flags)\n\nUsers can configure cc-hooks using **command-line arguments** which override config file and\nenvironment variables:\n\n### Audio Control\n\n```bash\ncld --audio=gtts                    # Google TTS (free, internet required)\ncld --audio=elevenlabs              # Premium TTS (requires API key)\ncld --audio=prerecorded             # Built-in audio files (default)\ncld --language=id                   # Language (id, es, en, etc.)\ncld --silent                        # Disable all audio\ncld --silent=announcements          # Keep sound effects, disable TTS\ncld --silent=sound-effects          # Keep TTS, disable sound effects\n```\n\n### AI Features (requires OpenRouter API key)\n\n```bash\ncld --ai=basic                      # Contextual Stop messages only\ncld --ai=full                       # All contextual messages (Stop + PreToolUse)\n```\n\n### Combined Examples\n\n```bash\ncld --audio=gtts --language=id --ai=full\ncld --audio=elevenlabs --ai=basic\ncld --silent=announcements\n```\n\n**Note**: CLI arguments override config file and environment variables for that session only.\n\n## 7. Test Setup\n\nIf the user requests testing, run these verification checks:\n\n### Basic Audio Test\n\n```bash\ncd ~/.claude/plugins/marketplaces/cc-hooks-plugin\nuv run utils/sound_player.py --list\nuv run utils/sound_player.py sound_effect_cetek.mp3\n```\n\n### TTS Test\n\n```bash\ncd ~/.claude/plugins/marketplaces/cc-hooks-plugin\nuv run utils/tts_announcer.py --list\nuv run utils/tts_announcer.py SessionStart\n```\n\n### Server Test\n\nCheck if server can start:\n\n```bash\ncd ~/.claude/plugins/marketplaces/cc-hooks-plugin\ntimeout 5 uv run server.py --port 12299 || echo \"Server test completed\"\n```\n\n## 8. Usage Examples\n\nShow the user how to start Claude with different configurations:\n\n**With config file (Recommended for most users):**\n\n```bash\n# Just run claude directly - uses your config file settings\nclaude\n\n# Or if you set up the cld alias\ncld\n```\n\n**With CLI flags (Power users - per-session overrides):**\n\n**If default alias was created (e.g., `cc`):**\n\n```bash\n# Use your default configuration\ncc\n\n# Override with different settings\ncld --audio=gtts --language=id\ncld --silent\n```\n\n**Using `cld` directly with various configurations:**\n\n```bash\n# Basic usage with prerecorded audio (default)\ncld\n\n# Google TTS in Indonesian\ncld --audio=gtts --language=id\n\n# ElevenLabs TTS with AI features\ncld --audio=elevenlabs --ai=full\n\n# Silent mode (no audio)\ncld --silent\n\n# Silent announcements only (keep sound effects)\ncld --silent=announcements\n```\n\n## 9. Troubleshooting\n\nCommon issues and solutions:\n\n### Audio Not Playing\n\n- Check system volume\n- Test with: `uv run utils/sound_player.py`\n- Check if pygame is installed: `uv pip list | grep pygame`\n\n### Server Won't Start\n\n- Check if port is in use: `lsof -i :12222`\n- Check logs: `tail -f ~/.claude/.cc-hooks/logs/*.log`\n- Try different port: `CC_HOOKS_PORT=12223 ./claude.sh`\n\n### TTS Not Working\n\n- Check if API keys are set in shell config (redacted):\n  `env | grep -E \"OPENROUTER_API_KEY|ELEVENLABS_API_KEY\" | sed 's/=.*/=[SET]/' || echo \"No API keys found\"`\n- Test provider directly: `uv run utils/tts_announcer.py --provider gtts SessionStart`\n- Check internet connection (required for gtts and elevenlabs)\n- Verify shell config was sourced: restart terminal or run `source ~/.zshrc`\n\n### Setup Cannot Complete or Bug Found\n\nIf you encounter issues that prevent setup from completing, or you've found a bug:\n\n**Report the issue on GitHub:** https://github.com/husniadil/cc-hooks/issues/new\n\n**Include in your report:**\n\n- What step failed (e.g., \"Step 2: Shell Alias Setup\")\n- Error message or unexpected behavior\n- Your OS and shell (from `echo $SHELL`)\n- Relevant logs from `~/.claude/.cc-hooks/logs/`\n\n## Argument Handling\n\nIf the user provides an argument:\n\n- **check**: Run system requirements and configuration check only\n- **apikeys**: Focus on API key setup and validation\n- **test**: Run all test suites to verify installation\n\nIf no argument provided, run the full interactive setup wizard.\n\n## Important Notes\n\n- **CRITICAL**: Never print or expose API key values in any output - always redact them\n- Do NOT create or modify `.env` files in the plugin directory (they will be deleted on updates)\n- API keys MUST be stored in shell config files (~/.zshrc, ~/.bashrc, etc.)\n- Always confirm before writing/modifying files\n- Direct the user to documentation for advanced configuration: https://github.com/husniadil/cc-hooks\n- **If setup fails or you encounter a bug**: Guide the user to report the issue at\n  https://github.com/husniadil/cc-hooks/issues/new\n",
        "commands/update.md": "---\nallowed-tools: Bash\ndescription: Check for cc-hooks updates and install if available\n---\n\n# cc-hooks Update Assistant\n\nCheck for cc-hooks updates and install them if available.\n\n## Update Check Flow\n\n### 1. Detect Installation Mode\n\nDetermine if cc-hooks is running in plugin mode or standalone mode by checking the hooks\nconfiguration:\n\n```bash\n# Detect installation mode\npython3 -c \"\nimport json, sys, os\n\n# Check 1: Plugin mode - hooks defined in plugin directory\nplugin_hooks_file = os.path.expanduser('~/.claude/plugins/marketplaces/cc-hooks-plugin/hooks/hooks.json')\nif os.path.isfile(plugin_hooks_file):\n    try:\n        with open(plugin_hooks_file, 'r') as f:\n            config = json.load(f)\n            # Verify it has hooks configuration\n            if config.get('hooks') and len(config['hooks']) > 0:\n                # Verify hooks.py exists\n                plugin_hooks_py = os.path.expanduser('~/.claude/plugins/marketplaces/cc-hooks-plugin/hooks.py')\n                if os.path.isfile(plugin_hooks_py):\n                    print('plugin')\n                    sys.exit(0)\n    except:\n        pass\n\n# Check 2: Standalone mode - hooks defined in settings.json\nsettings_file = os.path.expanduser('~/.claude/settings.json')\nif os.path.isfile(settings_file):\n    try:\n        with open(settings_file, 'r') as f:\n            config = json.load(f)\n            hooks = config.get('hooks', {})\n            # Check if any hook points to hooks.py\n            for event_hooks in hooks.values():\n                if isinstance(event_hooks, list):\n                    for matcher_group in event_hooks:\n                        for hook in matcher_group.get('hooks', []):\n                            command = hook.get('command', '')\n                            if 'hooks.py' in command:\n                                print('standalone')\n                                sys.exit(0)\n    except:\n        pass\n\nprint('unknown')\n\"\n```\n\n**Detection Logic**:\n\n1. **Check Plugin Mode First**:\n   - Look for `~/.claude/plugins/marketplaces/cc-hooks-plugin/hooks/hooks.json`\n   - Verify it contains valid `hooks` configuration\n   - Verify `hooks.py` exists at `~/.claude/plugins/marketplaces/cc-hooks-plugin/hooks.py`\n   - If all checks pass ‚Üí **Plugin mode**\n\n2. **Check Standalone Mode**:\n   - Read `~/.claude/settings.json`\n   - Check the `hooks` field (MUST be exactly `hooks`, not `#hooks_disabled`)\n   - Look for any hook command containing `hooks.py`\n   - If found ‚Üí **Standalone mode**\n\n3. **If neither**:\n   - Result: **Unknown** (cc-hooks not configured)\n\n**Why this order matters**:\n\n- In plugin mode, hooks are NOT in `~/.claude/settings.json`\n- In plugin mode, hooks are in `~/.claude/plugins/marketplaces/cc-hooks-plugin/hooks/hooks.json`\n- Must check plugin directory first before checking settings.json\n\n**Example configurations**:\n\n**Plugin mode**: `~/.claude/plugins/marketplaces/cc-hooks-plugin/hooks/hooks.json`\n\n```json\n{\n  \"hooks\": {\n    \"SessionStart\": [\n      {\n        \"hooks\": [{ \"type\": \"command\", \"command\": \"uv run ${CLAUDE_PLUGIN_ROOT}/hooks.py\" }]\n      }\n    ]\n  }\n}\n```\n\n**Standalone mode**: `~/.claude/settings.json`\n\n```json\n{\n  \"hooks\": {\n    \"SessionStart\": [\n      {\n        \"hooks\": [{ \"type\": \"command\", \"command\": \"uv run /Users/username/cc-hooks/hooks.py\" }]\n      }\n    ]\n  }\n}\n```\n\n### 2. Check for Updates\n\nQuery the cc-hooks server for version status:\n\n```bash\n# Try to get version status from the server\ncurl -s http://localhost:12222/version/status 2>/dev/null || \\\ncurl -s http://localhost:12223/version/status 2>/dev/null || \\\ncurl -s http://localhost:12224/version/status 2>/dev/null || \\\necho '{\"error\": \"Server not running\"}'\n```\n\n**Important**: Try multiple ports (12222, 12223, 12224) as the server may be running on different\nports for different instances.\n\n### 3. Parse Version Information\n\nFrom the API response, extract:\n\n- `update_available` (boolean)\n- `current_version` (string)\n- `latest_version` (string)\n- `commits_behind` (number)\n\n### 4. Display Status\n\n**If server is not running or error:**\n\n```\n‚ùå Cannot check for updates: cc-hooks server is not running\nüí° Start Claude Code with cc-hooks to check for updates\n```\n\n**If no update available:**\n\n```\n‚úÖ cc-hooks is up to date\nüìå Current version: {current_version}\n```\n\n**If update available:**\n\n```\n‚ö†Ô∏è  Update available for cc-hooks\n\nCurrent version: {current_version}\nLatest version:  {latest_version}\nCommits behind:  {commits_behind}\n\nWould you like to update now?\n```\n\n### 5. Offer to Update\n\nIf update is available, ask the user if they would like to proceed with the update now.\n\n- If the user confirms ‚Üí Proceed with update\n- If the user declines ‚Üí Skip update and show them how to update manually later\n\n### 6. Execute Update\n\n**For Plugin Mode:**\n\n```bash\nclaude plugin marketplace update cc-hooks-plugin\n```\n\n**For Standalone Mode:**\n\n```bash\ncd {repo_root} && npm run update\n```\n\n**After update:**\n\n```\n‚úÖ cc-hooks has been updated to {latest_version}\n‚ö†Ô∏è  Please restart your Claude Code session for changes to take effect\n```\n\n## Error Handling\n\n**If update command fails:**\n\n```\n‚ùå Update failed. Please try manually:\n\nPlugin mode:\n  claude plugin marketplace update cc-hooks-plugin\n\nStandalone mode:\n  cd {repo_root}\n  npm run update\n```\n\n**If the update continues to fail or you encounter a bug:**\n\nDirect the user to report the issue on GitHub: https://github.com/husniadil/cc-hooks/issues/new\n\n**Include in the report:**\n\n- Current version (from error message or `/version/status` endpoint)\n- Installation mode (plugin or standalone)\n- Full error message\n- OS and shell information\n- Steps attempted before failure\n\n## Example Session\n\n```\n$ /cc-hooks-plugin:update\n\nChecking for cc-hooks updates...\n\n‚ö†Ô∏è  Update available for cc-hooks\n\nCurrent version: v1.0.0\nLatest version:  v1.0.1\nCommits behind:  3\n\nWould you like to update now? [Yes/No]\n> Yes\n\nUpdating cc-hooks...\n‚úÖ cc-hooks has been updated to v1.0.1\n‚ö†Ô∏è  Please restart your Claude Code session for changes to take effect\n```\n\n## Implementation Notes\n\n- Always check server availability first\n- Try multiple ports (race condition during server startup)\n- Detect installation mode from current working directory\n- Use appropriate update command based on mode\n- Always remind user to restart Claude Code after update\n- Handle connection errors gracefully\n- **If update fails or bugs are found**: Direct users to\n  https://github.com/husniadil/cc-hooks/issues/new\n",
        "hooks/hooks.json": "{\n  \"hooks\": {\n    \"SessionStart\": [\n      {\n        \"matcher\": \"\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"uv run ${CLAUDE_PLUGIN_ROOT}/hooks.py\"\n          }\n        ]\n      }\n    ],\n    \"SessionEnd\": [\n      {\n        \"matcher\": \"\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"uv run ${CLAUDE_PLUGIN_ROOT}/hooks.py\"\n          }\n        ]\n      }\n    ],\n    \"PreToolUse\": [\n      {\n        \"matcher\": \"\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"uv run ${CLAUDE_PLUGIN_ROOT}/hooks.py\"\n          }\n        ]\n      }\n    ],\n    \"PostToolUse\": [\n      {\n        \"matcher\": \"\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"uv run ${CLAUDE_PLUGIN_ROOT}/hooks.py\"\n          }\n        ]\n      }\n    ],\n    \"Notification\": [\n      {\n        \"matcher\": \"\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"uv run ${CLAUDE_PLUGIN_ROOT}/hooks.py\"\n          }\n        ]\n      }\n    ],\n    \"UserPromptSubmit\": [\n      {\n        \"matcher\": \"\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"uv run ${CLAUDE_PLUGIN_ROOT}/hooks.py\"\n          }\n        ]\n      }\n    ],\n    \"Stop\": [\n      {\n        \"matcher\": \"\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"uv run ${CLAUDE_PLUGIN_ROOT}/hooks.py\"\n          }\n        ]\n      }\n    ],\n    \"SubagentStop\": [\n      {\n        \"matcher\": \"\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"uv run ${CLAUDE_PLUGIN_ROOT}/hooks.py\"\n          }\n        ]\n      }\n    ],\n    \"PreCompact\": [\n      {\n        \"matcher\": \"\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"uv run ${CLAUDE_PLUGIN_ROOT}/hooks.py\"\n          }\n        ]\n      }\n    ]\n  }\n}\n"
      },
      "plugins": [
        {
          "name": "cc-hooks-plugin",
          "source": "./",
          "description": "Audio feedback system with multilingual TTS announcements, AI-powered contextual messages, and sound effects for Claude Code. Features include: prerecorded sounds (offline), Google TTS (free), ElevenLabs (premium), contextual AI completion messages via OpenRouter, multi-language support, granular silent modes, and multi-instance support for concurrent sessions.",
          "version": "1.0.12",
          "author": {
            "name": "Husni Adil Makmur",
            "email": "husniadil@gmail.com"
          },
          "homepage": "https://github.com/husniadil/cc-hooks#readme",
          "repository": "https://github.com/husniadil/cc-hooks",
          "license": "MIT",
          "keywords": [
            "audio",
            "tts",
            "text-to-speech",
            "hooks",
            "productivity",
            "ai-translation",
            "multilingual",
            "elevenlabs",
            "gtts",
            "openrouter",
            "sound-effects",
            "voice-feedback",
            "automation"
          ],
          "category": "productivity",
          "tags": [
            "audio",
            "tts",
            "productivity",
            "ai",
            "multilingual"
          ],
          "categories": [
            "ai",
            "ai-translation",
            "audio",
            "automation",
            "elevenlabs",
            "gtts",
            "hooks",
            "multilingual",
            "openrouter",
            "productivity",
            "sound-effects",
            "text-to-speech",
            "tts",
            "voice-feedback"
          ],
          "install_commands": [
            "/plugin marketplace add husniadil/cc-hooks",
            "/plugin install cc-hooks-plugin@cc-hooks-plugin"
          ]
        }
      ]
    },
    {
      "name": "fastmcp-builder-skill",
      "version": null,
      "description": "FastMCP Builder - Production-ready MCP server development skill",
      "owner_info": {
        "name": "Husni Adil Makmur",
        "email": "husni.adil@gmail.com"
      },
      "keywords": [],
      "repo_full_name": "husniadil/fastmcp-builder",
      "repo_url": "https://github.com/husniadil/fastmcp-builder",
      "repo_description": "A comprehensive Claude Code skill for building production-ready MCP servers using FastMCP. Includes reference guides, runnable examples, and a complete implementation with OAuth, testing, and best practices.",
      "homepage": "",
      "signals": {
        "stars": 4,
        "forks": 4,
        "pushed_at": "2025-10-26T17:20:13Z",
        "created_at": "2025-10-26T17:09:46Z",
        "license": "MIT"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 741
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 12412
        },
        {
          "path": "SKILL.md",
          "type": "blob",
          "size": 16624
        },
        {
          "path": "reference-project",
          "type": "tree",
          "size": null
        },
        {
          "path": "reference-project/README.md",
          "type": "blob",
          "size": 17085
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"fastmcp-builder-skill\",\n  \"owner\": {\n    \"name\": \"Husni Adil Makmur\",\n    \"email\": \"husni.adil@gmail.com\"\n  },\n  \"metadata\": {\n    \"description\": \"FastMCP Builder - Production-ready MCP server development skill\",\n    \"version\": \"1.0.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"fastmcp-builder\",\n      \"description\": \"Build production-ready MCP servers using FastMCP framework with proven patterns for tools, resources, prompts, OAuth authentication, and comprehensive testing. Use this when creating FastMCP-based MCP servers with features like Google OAuth, multiple resource types, testing with FastMCP Client, or complex tool implementations.\",\n      \"source\": \"./\",\n      \"strict\": false,\n      \"skills\": [\"./\"]\n    }\n  ]\n}\n",
        "README.md": "# FastMCP Builder - Claude Code Skill\n\nA comprehensive Claude Code skill for building production-ready MCP (Model Context Protocol) servers using the FastMCP Python framework. This skill provides complete reference implementations, working examples, and proven patterns for creating robust MCP servers with tools, resources, prompts, OAuth authentication, and comprehensive testing.\n\n## What is FastMCP?\n\n**FastMCP** is the official high-level Python framework for building MCP servers. It's simpler, faster to develop with, and more maintainable than the low-level MCP SDK. This skill focuses exclusively on FastMCP-based development.\n\n## What's Included\n\nThis skill contains everything you need to build production-ready FastMCP servers:\n\n### 1. Reference Documentation (`reference/`)\n\nSix comprehensive guides covering all aspects of FastMCP development:\n\n- **[fastmcp_overview.md](./reference/fastmcp_overview.md)** - Introduction, when to use FastMCP, key features\n- **[project_structure.md](./reference/project_structure.md)** - Recommended structure, file organization, DRY patterns\n- **[tool_patterns.md](./reference/tool_patterns.md)** - 6 tool patterns with complete examples\n- **[resource_patterns.md](./reference/resource_patterns.md)** - 4 resource types (static, dynamic, template, wildcard)\n- **[oauth_integration.md](./reference/oauth_integration.md)** - Complete Google OAuth setup guide\n- **[testing_guide.md](./reference/testing_guide.md)** - FastMCP Client testing, patterns, best practices\n\n### 2. Code Examples (`examples/`)\n\nRunnable examples from minimal to complete servers:\n\n- **[minimal_server.py](./examples/minimal_server.py)** - Absolute simplest FastMCP server (28 lines)\n- **[complete_server_structure.py](./examples/complete_server_structure.py)** - Full-featured single-file example with all patterns\n- **[test_examples.py](./examples/test_examples.py)** - Comprehensive testing examples\n\n### 3. Complete Reference Project (`reference-project/`)\n\nA full production implementation demonstrating best practices:\n\n- **6 production-ready tools** - Various patterns (sync, async, stateful, with context)\n- **7 resource instances** - 4 types (static, dynamic, template, wildcard)\n- **1 universal prompt** - Reusable prompt template\n- **145 passing tests** - Comprehensive test coverage\n- **OAuth integration** - Complete Google OAuth setup\n- **Dual-mode architecture** - `main.py` (with OAuth) + `main_noauth.py` (local testing)\n- **DRY principle** - Uses `common.py` for component registration\n\n## When to Use This Skill\n\nUse this skill when you need to:\n\n- Build MCP servers with FastMCP (Python-based development)\n- Add OAuth authentication (especially Google OAuth for remote access)\n- Implement production patterns (tools, resources, prompts with best practices)\n- Set up comprehensive testing (using FastMCP Client for fast, in-memory tests)\n- Structure larger projects (proper organization and separation of concerns)\n- Deploy to production (with authentication, error handling, monitoring)\n\n**Don't use this skill for:**\n\n- TypeScript/Node.js MCP servers (use mcp-builder skill instead)\n- Low-level MCP protocol work (use MCP SDK directly)\n- Non-FastMCP Python servers (this is FastMCP-specific)\n\n## Installation\n\n### Option 1: Install via Plugin Marketplace (Recommended)\n\n1. **Register this marketplace** in Claude Code:\n\n   ```\n   /plugin marketplace add husniadil/fastmcp-builder\n   ```\n\n2. **Browse and install:**\n   - Select \"Browse and install plugins\"\n   - Choose \"fastmcp-builder-skill\"\n   - Select \"fastmcp-builder\"\n   - Click \"Install now\"\n\n3. **Or install directly:**\n   ```\n   /plugin install fastmcp-builder@fastmcp-builder-skill\n   ```\n\n### Option 2: Manual Installation\n\nClone or download this repository to your Claude Code skills directory:\n\n```bash\ncd ~/.claude/skills\ngit clone https://github.com/husniadil/fastmcp-builder.git\n```\n\n### Using the Skill\n\nOnce installed, simply reference the skill in your request:\n\n```\nUse the fastmcp-builder skill to create a new MCP server with OAuth authentication\n```\n\n## Quick Start\n\n### Simple Example\n\nCreate a minimal FastMCP server:\n\n```python\nfrom fastmcp import FastMCP\n\nmcp = FastMCP(\"my-server\")\n\n@mcp.tool()\ndef greet(name: str) -> str:\n    \"\"\"Greet someone by name\"\"\"\n    return f\"Hello, {name}!\"\n\nif __name__ == \"__main__\":\n    mcp.run()\n```\n\n### Try the Included Examples\n\nNavigate to the skill directory and run the examples:\n\n```bash\n# Navigate to skill directory\ncd ~/.claude/plugins/marketplaces/fastmcp-builder-skill\n\n# Try the minimal server\npython examples/minimal_server.py\n\n# Try the complete server structure\npython examples/complete_server_structure.py\n\n# Run with HTTP mode\npython examples/complete_server_structure.py --http\n```\n\n## Building Your First Server\n\n### Phase 1: Planning & Setup\n\n1. **Review FastMCP Overview** - Load `reference/fastmcp_overview.md`\n2. **Understand Requirements** - What tools, resources, prompts do you need?\n3. **Review Project Structure** - Load `reference/project_structure.md`\n4. **Set Up Project** - Create directory structure and install dependencies\n\n```bash\nmkdir my-mcp-server && cd my-mcp-server\nmkdir -p app/tools app/resources app/prompts tests\nuv add fastmcp==2.13.0.1 python-dotenv==1.2.1\nuv add --optional test pytest==8.4.2 pytest-asyncio==1.2.0 pytest-mock==3.15.1 httpx==0.28.1\n```\n\n### Phase 2: Core Implementation\n\n1. **Implement Configuration** (`app/config.py`) - Environment variables, settings\n2. **Implement Tools** (`app/tools/`) - Follow patterns from `reference/tool_patterns.md`\n3. **Implement Resources** (`app/resources/`) - Follow patterns from `reference/resource_patterns.md`\n4. **Implement Prompts** (`app/prompts/`) - Reusable prompt templates\n5. **Create Common Registration** (`app/common.py`) - DRY principle for registering components\n6. **Create Server Entry Points** - `main_noauth.py` (local) + `main.py` (OAuth)\n\n### Phase 3: OAuth Integration (Optional)\n\nFollow `reference/oauth_integration.md` for:\n\n1. Setting up Google OAuth credentials\n2. Implementing GoogleProvider\n3. Testing with ngrok\n4. Configuring Claude Desktop\n\n### Phase 4: Testing\n\nFollow `reference/testing_guide.md` for:\n\n1. Setting up test structure (`tests/conftest.py`)\n2. Writing tool tests\n3. Writing resource tests\n4. Writing integration tests\n5. Running tests: `uv run pytest tests/ -v`\n\n### Phase 5: Documentation & Deployment\n\n1. Write comprehensive README\n2. Create .env.example template\n3. Test OAuth flow\n4. Deploy to production (Railway, Fly.io, VPS)\n\n## Project Structure\n\nRecommended structure for FastMCP projects:\n\n```\nmy-mcp-server/\n‚îú‚îÄ‚îÄ app/\n‚îÇ   ‚îú‚îÄ‚îÄ __init__.py\n‚îÇ   ‚îú‚îÄ‚îÄ config.py           # Configuration & environment variables\n‚îÇ   ‚îú‚îÄ‚îÄ common.py           # Shared component registration (DRY)\n‚îÇ   ‚îú‚îÄ‚îÄ main.py             # Server with OAuth\n‚îÇ   ‚îú‚îÄ‚îÄ main_noauth.py      # Server without OAuth (local testing)\n‚îÇ   ‚îú‚îÄ‚îÄ tools/              # Tool implementations\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ my_tool.py\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...\n‚îÇ   ‚îú‚îÄ‚îÄ resources/          # Resource implementations\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ static.py\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...\n‚îÇ   ‚îî‚îÄ‚îÄ prompts/            # Prompt templates\n‚îÇ       ‚îú‚îÄ‚îÄ __init__.py\n‚îÇ       ‚îî‚îÄ‚îÄ explain.py\n‚îú‚îÄ‚îÄ tests/\n‚îÇ   ‚îú‚îÄ‚îÄ __init__.py\n‚îÇ   ‚îú‚îÄ‚îÄ conftest.py         # Test fixtures\n‚îÇ   ‚îú‚îÄ‚îÄ test_tools.py\n‚îÇ   ‚îú‚îÄ‚îÄ test_resources.py\n‚îÇ   ‚îî‚îÄ‚îÄ test_integration.py\n‚îú‚îÄ‚îÄ pyproject.toml          # Project dependencies\n‚îú‚îÄ‚îÄ .env.example            # Environment variable template\n‚îú‚îÄ‚îÄ .env                    # Actual environment variables (gitignored)\n‚îî‚îÄ‚îÄ README.md\n```\n\n## Tool Patterns\n\nThis skill includes 6 proven tool patterns:\n\n1. **Basic Sync Tools** - Simple synchronous functions (health checks, queries)\n2. **Data Processing Tools** - Text analysis, transformations\n3. **Tools with Context** - Logging, progress tracking, better UX\n4. **Stateful Tools** - Counters, session management\n5. **API Integration Tools** - External service calls\n6. **Advanced Async Tools** - Complex workflows, parallel processing\n\nSee `reference/tool_patterns.md` for complete examples.\n\n## Resource Patterns\n\nThis skill includes 4 resource types:\n\n1. **Static Resources** - Fixed content (status, features, documentation)\n2. **Dynamic Resources** - Generated content (current time, computed data)\n3. **Template Resources** - Path parameters (`user://{user_id}`)\n4. **Wildcard Resources** - Multi-segment paths (`docs://{path*}`)\n\nSee `reference/resource_patterns.md` for complete examples.\n\n## OAuth Integration\n\nComplete guide for adding Google OAuth authentication:\n\n- Setting up Google Cloud Console\n- Implementing GoogleProvider\n- Testing with ngrok\n- Configuring Claude Desktop Connectors\n- Production deployment considerations\n\nSee `reference/oauth_integration.md` for the complete guide.\n\n## Testing\n\nComprehensive testing guide using FastMCP Client:\n\n- Fast, in-memory testing (no server startup required)\n- Tool testing patterns\n- Resource testing patterns\n- Integration testing patterns\n- Achieving >80% test coverage\n\nSee `reference/testing_guide.md` for complete examples.\n\n## Best Practices\n\n1. **Use FastMCP** - Simpler than MCP SDK for most use cases\n2. **Follow project structure** - Use `common.py` pattern (DRY principle)\n3. **Dual-mode servers** - `main.py` (OAuth) + `main_noauth.py` (local)\n4. **Comprehensive testing** - Use FastMCP Client, aim for >80% coverage\n5. **Clear documentation** - Docstrings, README, usage examples\n6. **Error handling** - Graceful failures, informative error messages\n7. **Context usage** - Logging, progress for better UX\n8. **Security** - Environment variables, never commit secrets\n\n## Common Workflows\n\n### Creating a New Tool\n\n1. Create `app/tools/my_tool.py`\n2. Implement tool function\n3. Add to `app/common.py` registration\n4. Write tests in `tests/test_tools.py`\n5. Run tests: `uv run pytest tests/test_tools.py -v`\n\n### Adding OAuth\n\n1. Review `reference/oauth_integration.md`\n2. Set up Google OAuth credentials\n3. Update `app/config.py` with OAuth settings\n4. Modify `app/main.py` to use GoogleProvider\n5. Test with ngrok\n6. Configure Claude Desktop Connectors\n\n### Debugging\n\n1. Use `main_noauth.py` for faster local testing\n2. Add logging with Context: `await ctx.debug(...)`\n3. Write tests to isolate issues\n4. Check tool/resource registration in `common.py`\n5. Verify environment variables loaded\n\n## Reference Project Details\n\nThe `reference-project/` directory contains a complete production implementation:\n\n- **Name:** `mcp-auth-demo`\n- **Version:** 1.0.0\n- **Tools:** 6 (ping, counter, process_text, analyze_text, get_forecast, request_info)\n- **Resources:** 7 instances across 4 types\n- **Prompts:** 1 universal prompt template\n- **Tests:** 145 passing tests with comprehensive coverage\n- **Features:** OAuth, dual-mode architecture, DRY principle, comprehensive error handling\n\nUse this as a reference when building your own servers.\n\n## Additional Resources\n\n- **FastMCP Documentation:** https://gofastmcp.com/\n- **FastMCP GitHub:** https://github.com/jlowin/fastmcp\n- **MCP Specification:** https://modelcontextprotocol.io/\n- **Google OAuth Guide:** https://developers.google.com/identity/protocols/oauth2\n- **Claude Code Skills:** https://docs.claude.com/en/docs/claude-code/skills.md\n\n## Requirements\n\n- Python 3.11+\n- FastMCP 2.13.0.1\n- python-dotenv 1.2.1\n\nFor testing:\n\n- pytest 8.4.2\n- pytest-asyncio 1.2.0\n- pytest-mock 3.15.1\n- httpx 0.28.1\n\n## Contributing\n\nThis is a Claude Code skill. To contribute:\n\n1. Test changes with the reference project\n2. Ensure all examples run successfully\n3. Update documentation as needed\n4. Add tests for new patterns\n\n## License\n\nMIT License - Copyright 2025 Husni Adil Makmur\n\nThis skill is provided as-is for use with Claude Code. See [LICENSE](./LICENSE) file for details.\n\nThe FastMCP framework itself is licensed separately - see the [FastMCP repository](https://github.com/jlowin/fastmcp) for details.\n\n## Notes\n\n- This skill focuses on **FastMCP**, not the low-level MCP SDK\n- All examples use **Python 3.11+**\n- OAuth examples use **Google OAuth** (other providers possible)\n- Testing uses **FastMCP Client** (in-memory, fast)\n- Deployment examples are production-ready\n\nHappy building!\n",
        "SKILL.md": "---\nname: fastmcp-builder\ndescription: Build production-ready MCP servers using FastMCP framework with proven patterns for tools, resources, prompts, OAuth authentication, and comprehensive testing. Use this when creating FastMCP-based MCP servers with features like Google OAuth, multiple resource types, testing with FastMCP Client, or complex tool implementations.\n---\n\n# FastMCP Builder - Production MCP Server Development\n\n## Overview\n\nThis skill provides comprehensive, production-ready patterns for building MCP (Model Context Protocol) servers using **FastMCP**, the official high-level Python framework. It includes complete reference implementations, working examples, and best practices proven in production.\n\n**FastMCP** is the recommended approach for building MCP servers in Python - it's simpler, faster to develop, and more maintainable than the low-level MCP SDK.\n\n## What's Included\n\nThis skill contains:\n\n1. **Reference Documentation** (`reference/`) - 6 comprehensive guides covering all aspects of FastMCP development\n2. **Code Examples** (`examples/`) - Runnable examples from minimal to complete servers\n3. **Complete Reference Project** (`reference-project/`) - Full production implementation with:\n   - 6 production-ready tools\n   - 7 resource instances (4 types)\n   - 1 universal prompt\n   - 145 passing tests\n   - OAuth integration\n   - Complete documentation\n\n**üí° Tip:** When in doubt, look at the reference-project for real-world implementation examples.\n\n## When to Use This Skill\n\nUse this skill when you need to:\n\n‚úÖ **Build MCP servers with FastMCP** - Python-based MCP server development\n‚úÖ **Add OAuth authentication** - Especially Google OAuth for remote access\n‚úÖ **Implement production patterns** - Tools, resources, prompts with best practices\n‚úÖ **Set up comprehensive testing** - Using FastMCP Client for fast, in-memory tests\n‚úÖ **Structure larger projects** - Proper organization and separation of concerns\n‚úÖ **Deploy to production** - With authentication, error handling, monitoring\n\n**Don't use this skill for:**\n\n- ‚ùå TypeScript/Node.js MCP servers (use mcp-builder skill instead)\n- ‚ùå Low-level MCP protocol work (use MCP SDK directly)\n- ‚ùå Non-FastMCP Python servers (this is FastMCP-specific)\n\n## Consulting Official Documentation\n\n**IMPORTANT:** When encountering questions or issues not covered in this skill's reference materials, you should:\n\n### Primary Method: Use WebSearch (Recommended)\n\nThe most reliable way to find FastMCP documentation is using WebSearch with site-specific queries:\n\n```\nWebSearch(\n    query=\"site:gofastmcp.com [your specific topic]\"\n)\n```\n\nThis will search the official FastMCP documentation site and return relevant pages.\n\n### Alternative: Direct Page Access\n\nIf you know the general documentation structure, you can fetch specific pages directly:\n\n```\nWebFetch(\n    url=\"https://gofastmcp.com/[section]/[topic]\",\n    prompt=\"Your specific question about this topic\"\n)\n```\n\n**Common documentation sections:**\n\n- `/getting-started/` - Installation, quickstart, welcome\n- `/servers/` - Tools, resources, prompts, context, logging\n- `/deployment/` - Running servers, HTTP deployment, configuration\n- `/integrations/` - Auth0, AWS Cognito, Azure, GitHub, Google, WorkOS, OpenAI, etc.\n- `/testing/` - Testing guides and best practices\n\n**Tip:** Any page can be accessed as markdown by appending `.md` to the URL.\n\n### When to Consult Official Docs\n\nConsult official documentation when:\n\n- You encounter a feature or API not covered in this skill's references\n- You need the latest updates or breaking changes\n- User asks about FastMCP capabilities you're unsure about\n- You're implementing advanced patterns not in the reference materials\n- There are version-specific behaviors or deprecations\n- You need clarification on authentication providers beyond Google OAuth\n- You want to verify current best practices\n\n### Example Workflows\n\n1. **User asks about OpenAI integration:**\n\n   ```\n   WebSearch(query=\"site:gofastmcp.com openai integration\")\n   ‚Üí Find https://gofastmcp.com/integrations/openai\n   ‚Üí Fetch that page for details\n   ```\n\n2. **User asks about AWS Cognito authentication:**\n\n   ```\n   WebSearch(query=\"site:gofastmcp.com aws cognito oauth\")\n   ‚Üí Find relevant auth documentation\n   ‚Üí Implement based on official guidance\n   ```\n\n3. **User asks about testing patterns:**\n\n   ```\n   WebSearch(query=\"site:gofastmcp.com testing\")\n   ‚Üí Find testing documentation\n   ‚Üí Apply patterns from official docs\n   ```\n\n4. **Exploring what's available:**\n   ```\n   WebSearch(query=\"site:gofastmcp.com deployment options\")\n   WebSearch(query=\"site:gofastmcp.com authentication providers\")\n   ‚Üí Browse results to see available topics\n   ```\n\n**Note:** Always try the reference materials in this skill first, then consult official docs if needed.\n\n---\n\n## Workflow - Building a FastMCP Server\n\n### Phase 1: Planning & Setup\n\n**Step 1.1: Review FastMCP Overview**\n\n- Load [fastmcp_overview.md](./reference/fastmcp_overview.md)\n- Understand FastMCP vs MCP SDK\n- Confirm FastMCP is right choice (it usually is)\n\n**Step 1.2: Understand Requirements**\n\n- What tools does the server need?\n- Do you need OAuth authentication?\n- Will you have resources? Prompts?\n- What's the deployment target?\n\n**Step 1.3: Review Project Structure**\n\n- Load [project_structure.md](./reference/project_structure.md)\n- Understand the recommended directory layout\n- Learn about the common.py pattern (DRY principle)\n- Understand dual-mode pattern (with/without OAuth)\n\n**Step 1.4: Set Up Project**\n\nCreate project structure:\n\n```bash\nmkdir my-mcp-server\ncd my-mcp-server\n\n# Create directories\nmkdir -p app/tools app/resources app/prompts tests\n\n# Create initial files\ntouch app/__init__.py\ntouch app/main.py\ntouch app/main_noauth.py\ntouch app/common.py\ntouch app/config.py\ntouch tests/__init__.py\ntouch pyproject.toml\ntouch .env.example\ntouch README.md\n```\n\nInitialize with uv:\n\n```bash\n# Install FastMCP\nuv add fastmcp==2.13.0.1\nuv add python-dotenv==1.2.1\n\n# Add test dependencies\nuv add --optional test pytest==8.4.2 pytest-asyncio==1.2.0 pytest-mock==3.15.1 httpx==0.28.1\n```\n\n---\n\n### Phase 2: Core Implementation\n\n**Step 2.1: Implement Configuration**\n\nCreate `app/config.py` based on patterns in [project_structure.md](./reference/project_structure.md):\n\n- Environment variable loading\n- Configuration class with validation\n- OAuth settings (if needed)\n- Server metadata\n\n**Step 2.2: Implement Tools**\n\nLoad [tool_patterns.md](./reference/tool_patterns.md) for comprehensive patterns:\n\n1. **Identify tool patterns needed:**\n   - Basic sync tools (health checks, simple queries)\n   - Data processing tools (analysis, transformation)\n   - Tools with Context (logging, progress)\n   - Stateful tools (if state management needed)\n   - API integration tools (external services)\n\n2. **Create tools in `app/tools/`:**\n   - One file per tool or logical group\n   - Follow patterns from tool_patterns.md\n   - Use proper error handling\n   - Add comprehensive docstrings\n\n3. **Example tool structure:**\n\n```python\n# app/tools/my_tool.py\n\nasync def my_tool(param: str, ctx: Context | None = None) -> dict:\n    \"\"\"\n    Tool description\n\n    Args:\n        param: Parameter description\n        ctx: FastMCP context (auto-injected)\n\n    Returns:\n        dict: Result structure\n    \"\"\"\n    try:\n        if ctx:\n            await ctx.info(\"Processing...\")\n\n        # Tool logic here\n        result = process(param)\n\n        if ctx:\n            await ctx.info(\"Completed!\")\n\n        return {\"status\": \"success\", \"data\": result}\n\n    except Exception as e:\n        if ctx:\n            await ctx.error(f\"Failed: {e}\")\n        return {\"status\": \"error\", \"error\": str(e)}\n```\n\n**Step 2.3: Implement Resources** (if needed)\n\nLoad [resource_patterns.md](./reference/resource_patterns.md) for all resource types:\n\n1. **Choose resource types:**\n   - Static resources (status, features, documentation)\n   - Dynamic resources (generated content)\n   - Template resources (with path parameters)\n   - Wildcard resources (multi-segment paths)\n\n2. **Create resources in `app/resources/`:**\n   - static.py for static resources\n   - Separate files for dynamic/template/wildcard\n\n3. **Example resource:**\n\n```python\n# app/resources/welcome.py\n\ndef get_welcome_message() -> str:\n    \"\"\"Welcome message resource\"\"\"\n    return \"Welcome to my MCP server!\"\n```\n\n**Step 2.4: Implement Prompts** (if needed)\n\nCreate reusable prompt templates:\n\n```python\n# app/prompts/explain.py\n\ndef explain_concept(\n    concept: str,\n    audience_level: str = \"intermediate\",\n) -> str:\n    \"\"\"Generate explanation prompt\"\"\"\n    return f\"Explain {concept} for {audience_level} audience...\"\n```\n\n**Step 2.5: Create Common Registration**\n\nIn `app/common.py`, register all components:\n\n```python\nfrom fastmcp import FastMCP\n\n# Import tools\nfrom app.tools.my_tool import my_tool\n\n# Import resources\nfrom app.resources.welcome import get_welcome_message\n\n# Import prompts\nfrom app.prompts.explain import explain_concept\n\n\ndef register_all(mcp: FastMCP) -> None:\n    \"\"\"Register all components - DRY principle\"\"\"\n\n    # Tools\n    mcp.tool()(my_tool)\n\n    # Resources\n    mcp.resource(\"greeting://welcome\")(get_welcome_message)\n\n    # Prompts\n    mcp.prompt()(explain_concept)\n```\n\n**Step 2.6: Create Server Entry Points**\n\n**app/main_noauth.py** (for local development):\n\n```python\nfrom fastmcp import FastMCP\nfrom app.config import Config\nfrom app.common import register_all\n\nmcp = FastMCP(Config.SERVER_NAME)\nregister_all(mcp)\n\nif __name__ == \"__main__\":\n    mcp.run()\n```\n\n**app/main.py** (with OAuth - if needed):\nLoad [oauth_integration.md](./reference/oauth_integration.md) for complete OAuth setup.\n\n---\n\n### Phase 3: OAuth Integration (if needed)\n\n**Only if you need remote access with authentication.**\n\n**Step 3.1: Set Up Google OAuth**\n\nFollow [oauth_integration.md](./reference/oauth_integration.md):\n\n1. Create OAuth Client in Google Cloud Console\n2. Configure environment variables (.env)\n3. Implement GoogleProvider in main.py\n4. Set up ngrok for testing\n5. Configure Claude Desktop Connectors\n\n**Step 3.2: Test OAuth Flow**\n\n1. Start ngrok\n2. Start server with base-url\n3. Connect Claude Desktop\n4. Verify authentication works\n\n---\n\n### Phase 4: Testing\n\n**Step 4.1: Set Up Test Structure**\n\nLoad [testing_guide.md](./reference/testing_guide.md) for comprehensive testing patterns.\n\nCreate `tests/conftest.py`:\n\n```python\nimport pytest\nfrom fastmcp import Client\nfrom app.main_noauth import mcp\n\n\n@pytest.fixture\nasync def client():\n    \"\"\"Provide FastMCP client for testing\"\"\"\n    async with Client(mcp) as c:\n        yield c\n```\n\n**Step 4.2: Write Tool Tests**\n\n```python\n# tests/test_tools.py\n\n@pytest.mark.asyncio\nasync def test_my_tool(client):\n    \"\"\"Should execute my_tool successfully\"\"\"\n    result = await client.call_tool(\"my_tool\", {\"param\": \"test\"})\n    assert result.data[\"status\"] == \"success\"\n```\n\n**Step 4.3: Write Resource Tests**\n\n```python\n# tests/test_resources.py\n\n@pytest.mark.asyncio\nasync def test_welcome_resource(client):\n    \"\"\"Should read welcome resource\"\"\"\n    content = await client.read_resource(\"greeting://welcome\")\n    assert \"Welcome\" in content\n```\n\n**Step 4.4: Write Integration Tests**\n\n```python\n# tests/test_integration.py\n\n@pytest.mark.asyncio\nasync def test_complete_workflow(client):\n    \"\"\"Should execute complete workflow\"\"\"\n    # Test multiple components working together\n    pass\n```\n\n**Step 4.5: Run Tests**\n\n```bash\n# Run all tests\nuv run pytest tests/ -v\n\n# Run with coverage\nuv run pytest tests/ --cov=app --cov-report=html\n```\n\n---\n\n### Phase 5: Documentation & Deployment\n\n**Step 5.1: Write README**\n\nDocument:\n\n- Project description\n- Features\n- Quick start guide\n- OAuth setup (if applicable)\n- Usage examples\n- Testing instructions\n- Deployment guide\n\n**Step 5.2: Prepare for Deployment**\n\n1. **Environment Variables:**\n   - Create .env.example template\n   - Document all required variables\n   - Never commit .env to git\n\n2. **Testing:**\n   - Ensure all tests pass\n   - Test OAuth flow (if applicable)\n   - Test in production-like environment\n\n3. **Deployment:**\n   - Choose platform (Railway, Fly.io, VPS)\n   - Set up HTTPS (required for OAuth)\n   - Configure environment variables\n   - Deploy and test\n\n---\n\n## Reference Documentation\n\nLoad these as needed during development:\n\n### Core References\n\n- **[fastmcp_overview.md](./reference/fastmcp_overview.md)** - FastMCP introduction, when to use, key features\n- **[project_structure.md](./reference/project_structure.md)** - Recommended structure, file organization, patterns\n\n### Implementation Guides\n\n- **[tool_patterns.md](./reference/tool_patterns.md)** - 6 tool patterns with complete examples\n- **[resource_patterns.md](./reference/resource_patterns.md)** - 4 resource types (static, dynamic, template, wildcard)\n- **[oauth_integration.md](./reference/oauth_integration.md)** - Complete Google OAuth setup guide\n- **[testing_guide.md](./reference/testing_guide.md)** - FastMCP Client testing, patterns, best practices\n\n### Example Code\n\nRun or reference these complete examples:\n\n- **[minimal_server.py](./examples/minimal_server.py)** - Absolute simplest FastMCP server\n- **[complete_server_structure.py](./examples/complete_server_structure.py)** - Full-featured single-file example\n- **[test_examples.py](./examples/test_examples.py)** - Comprehensive testing examples\n\n---\n\n## Quick Start Examples\n\n### Example 1: Minimal Server\n\n```python\nfrom fastmcp import FastMCP\n\nmcp = FastMCP(\"my-server\")\n\n@mcp.tool()\ndef greet(name: str) -> str:\n    \"\"\"Greet someone\"\"\"\n    return f\"Hello, {name}!\"\n\nif __name__ == \"__main__\":\n    mcp.run()\n```\n\n### Example 2: Server with Multiple Components\n\n```python\nfrom fastmcp import FastMCP, Context\n\nmcp = FastMCP(\"my-server\")\n\n# Tool\n@mcp.tool()\nasync def process(text: str, ctx: Context | None = None) -> dict:\n    if ctx:\n        await ctx.info(\"Processing...\")\n    return {\"result\": text.upper()}\n\n# Resource\n@mcp.resource(\"greeting://hello\")\ndef get_greeting() -> str:\n    return \"Hello from resource!\"\n\n# Prompt\n@mcp.prompt()\ndef explain(topic: str) -> str:\n    return f\"Explain {topic} in detail\"\n\nif __name__ == \"__main__\":\n    mcp.run()\n```\n\n### Example 3: With OAuth\n\n```python\nfrom fastmcp import FastMCP\nfrom fastmcp.server.auth.providers.google import GoogleProvider\nimport os\n\nauth = GoogleProvider(\n    client_id=os.getenv(\"GOOGLE_CLIENT_ID\"),\n    client_secret=os.getenv(\"GOOGLE_CLIENT_SECRET\"),\n    base_url=\"https://your-server.com\",\n)\n\nmcp = FastMCP(\"my-server\", auth=auth)\n\n# ... add tools, resources, prompts ...\n\nif __name__ == \"__main__\":\n    mcp.run(transport=\"http\", host=\"0.0.0.0\", port=8000)\n```\n\n---\n\n## Best Practices Summary\n\n1. **‚úÖ Use FastMCP** - Simpler than MCP SDK for most use cases\n2. **‚úÖ Follow project structure** - Use common.py pattern (DRY)\n3. **‚úÖ Dual-mode servers** - main.py (OAuth) + main_noauth.py (local)\n4. **‚úÖ Comprehensive testing** - Use FastMCP Client, aim for >80% coverage\n5. **‚úÖ Clear documentation** - Docstrings, README, usage examples\n6. **‚úÖ Error handling** - Graceful failures, informative error messages\n7. **‚úÖ Context usage** - Logging, progress for better UX\n8. **‚úÖ Security** - Environment variables, never commit secrets\n\n---\n\n## Common Workflows\n\n### Creating a New Tool\n\n1. Create `app/tools/my_tool.py`\n2. Implement tool function\n3. Add to `app/common.py` registration\n4. Write tests in `tests/test_tools.py`\n5. Run tests: `uv run pytest tests/test_tools.py -v`\n\n### Adding OAuth\n\n1. Review [oauth_integration.md](./reference/oauth_integration.md)\n2. Set up Google OAuth credentials\n3. Update `app/config.py` with OAuth settings\n4. Modify `app/main.py` to use GoogleProvider\n5. Test with ngrok\n6. Configure Claude Desktop Connectors\n\n### Debugging\n\n1. Use `main_noauth.py` for faster local testing\n2. Add logging with Context: `await ctx.debug(...)`\n3. Write tests to isolate issues\n4. Check tool/resource registration in `common.py`\n5. Verify environment variables loaded\n\n---\n\n## Additional Resources\n\n- **FastMCP Documentation:** https://gofastmcp.com/\n- **FastMCP GitHub:** https://github.com/jlowin/fastmcp\n- **MCP Specification:** https://modelcontextprotocol.io/\n- **Google OAuth Guide:** https://developers.google.com/identity/protocols/oauth2\n\n---\n\n## Notes\n\n- This skill focuses on **FastMCP**, not the low-level MCP SDK\n- All examples use **Python 3.11+**\n- OAuth examples use **Google OAuth** (other providers possible)\n- Testing uses **FastMCP Client** (in-memory, fast)\n- Deployment examples are production-ready\n\n**Happy building! üöÄ**\n",
        "reference-project/README.md": "# MCP Auth Demo\n\n**A minimal, production-ready MCP server with Google OAuth demonstrating all core FastMCP features.**\n\nBuilt with [FastMCP](https://gofastmcp.com/) - the easiest way to build Model Context Protocol servers in Python.\n\n---\n\n## ‚ú® Features\n\n- **Google OAuth 2.0** - Secure authentication for remote access\n- **6 Production Tools** - Health check, text processing, state management, API integration\n- **4 Resource Types, 7 Resource Instances** - Dynamic, static, template, and wildcard resources\n- **Universal Prompts** - Reusable prompt templates\n- **Clean Architecture** - Modular, maintainable, extensible\n- **Full Test Coverage** - 145 passing tests with FastMCP Client integration\n\n---\n\n## üöÄ Quick Start (5 Minutes)\n\n### Prerequisites\n\n- Python 3.11+\n- [uv](https://github.com/astral-sh/uv) package manager\n- Google Cloud account (for OAuth)\n\n### Installation\n\n```bash\n# Clone repository\ngit clone https://github.com/yourusername/mcp-auth-demo\ncd mcp-auth-demo\n\n# Install dependencies\nuv sync\n\n# Configure environment\ncp .env.example .env\n# Edit .env with your Google OAuth credentials\n```\n\n### Run Locally (No Auth)\n\n```bash\n# STDIO mode (for Claude Desktop local)\nuv run python -m app.main_noauth\n\n# HTTP mode (for testing, runs on port 8000)\nuv run python -m app.main_noauth --http\n```\n\n### Run with OAuth + ngrok\n\n```bash\n# Terminal 1: Start ngrok\nngrok http 8000\n\n# Terminal 2: Start server with ngrok URL\nuv run python -m app.main --http --base-url https://YOUR-NGROK-URL.ngrok-free.app\n```\n\n---\n\n## üì¶ What's Included\n\n### 6 Production Tools\n\n| Tool               | Description             | Features                                                                            |\n| ------------------ | ----------------------- | ----------------------------------------------------------------------------------- |\n| `ping`             | Health check            | Basic connectivity test                                                             |\n| `analyze_text`     | Text statistics         | Character, word, sentence counts                                                    |\n| `process_text`     | Advanced text processor | Logging + progress tracking                                                         |\n| `counter`          | State management        | Session-persistent counter (single-process only, resets on restart)                 |\n| `get_request_info` | Request metadata        | Request ID, client ID, session info                                                 |\n| `get_forecast`     | Weather forecast        | Mock weather API with temperature, conditions, humidity (1-7 days, randomized data) |\n\n### 4 Resource Types (7 Instances)\n\n| Type     | URI                             | Description                                |\n| -------- | ------------------------------- | ------------------------------------------ |\n| Dynamic  | `greeting://welcome`            | Welcome message                            |\n| Template | `userinfo://{user_id}{?format}` | User info (json/xml/text formats)          |\n| Wildcard | `docs://{path*}`                | Documentation pages                        |\n| Static   | `text://status`                 | Server operational status                  |\n| Static   | `text://features`               | Feature list                               |\n| Static   | `file://readme`                 | Project README                             |\n| Static   | `file://test-results`           | Test results (conditional, if file exists) |\n\n**Note:** The `{?format}` notation indicates an optional query parameter. In code, this is registered as `userinfo://{user_id}` with `format` as a function parameter that FastMCP automatically maps to query parameters.\n\n### 1 Universal Prompt\n\n- `explain_concept` - Technical concept explainer with audience-level customization\n\n---\n\n## üîß Google OAuth Setup\n\n### 1. Create OAuth Client\n\n1. Go to [Google Cloud Console](https://console.cloud.google.com/apis/credentials)\n2. Create OAuth 2.0 Client ID\n3. Type: **Web application**\n4. Add redirect URI: `https://YOUR-NGROK-URL.ngrok-free.app/auth/callback`\n\n‚ö†Ô∏è **Important:** Only add YOUR server's callback URI, not Claude Desktop's callback. FastMCP acts as OAuth proxy.\n\n### 2. Configure .env\n\n```bash\nGOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com\nGOOGLE_CLIENT_SECRET=your-client-secret\nBASE_URL=http://localhost:8000  # or your production URL\n```\n\n### 3. Start with ngrok\n\n```bash\n# Terminal 1: Start ngrok\nngrok http 8000\n# Copy the HTTPS URL (e.g., https://abc123xyz789.ngrok-free.app)\n\n# Terminal 2: Start server\nuv run python -m app.main --http --base-url https://abc123xyz789.ngrok-free.app\n```\n\n### 4. Configure Claude Desktop\n\n#### Option A: Local Development (STDIO, No Auth)\n\nFor local testing without OAuth, add to `claude_desktop_config.json`:\n\n```json\n{\n  \"mcpServers\": {\n    \"mcp-auth-demo-local\": {\n      \"command\": \"uv\",\n      \"args\": [\n        \"--directory\",\n        \"/path/to/mcp-auth-demo\",\n        \"run\",\n        \"python\",\n        \"-m\",\n        \"app.main_noauth\"\n      ]\n    }\n  }\n}\n```\n\nReplace `/path/to/mcp-auth-demo` with your actual project path.\n\n#### Option B: Remote Access (HTTP with OAuth)\n\n**Requirements:**\n\n- Claude Desktop with Connectors support\n- Claude Pro, Max, Team, or Enterprise plan\n- Running server with ngrok (see step 3 above)\n\n**Setup Steps:**\n\n1. Open Claude Desktop\n2. Go to **Settings > Connectors**\n3. Click **\"Add custom connector\"**\n4. Enter your ngrok URL: `https://abc123xyz789.ngrok-free.app`\n5. Claude will handle OAuth authentication automatically\n\n**Note:** Remote HTTP servers CANNOT be configured via `claude_desktop_config.json`. You MUST use the Connectors UI.\n\n---\n\n## üìö Project Structure\n\n```\nmcp-auth-demo/\n‚îú‚îÄ‚îÄ app/\n‚îÇ   ‚îú‚îÄ‚îÄ __init__.py\n‚îÇ   ‚îú‚îÄ‚îÄ common.py              # Shared registration logic\n‚îÇ   ‚îú‚îÄ‚îÄ config.py              # Configuration management\n‚îÇ   ‚îú‚îÄ‚îÄ main.py                # Server with OAuth\n‚îÇ   ‚îú‚îÄ‚îÄ main_noauth.py         # Server without OAuth (local testing)\n‚îÇ   ‚îú‚îÄ‚îÄ tools/                 # 6 production tools\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ping.py\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analyze_text.py\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ process_text.py\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ counter.py\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ request_info.py\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ get_forecast.py\n‚îÇ   ‚îú‚îÄ‚îÄ resources/             # 4 types of resources\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ welcome.py         # Dynamic\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ userinfo.py        # Template\n‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ static.py          # Static\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ docs.py            # Wildcard\n‚îÇ   ‚îî‚îÄ‚îÄ prompts/               # Reusable prompts\n‚îÇ       ‚îî‚îÄ‚îÄ explain.py\n‚îú‚îÄ‚îÄ tests/                     # Full test coverage\n‚îÇ   ‚îú‚îÄ‚îÄ test_client.py         # FastMCP Client integration tests\n‚îÇ   ‚îú‚îÄ‚îÄ test_tools.py\n‚îÇ   ‚îú‚îÄ‚îÄ test_resources.py\n‚îÇ   ‚îú‚îÄ‚îÄ test_prompts.py\n‚îÇ   ‚îî‚îÄ‚îÄ test_integration.py\n‚îú‚îÄ‚îÄ .env.example               # Environment template\n‚îú‚îÄ‚îÄ pyproject.toml             # Dependencies\n‚îî‚îÄ‚îÄ README.md                  # This file\n```\n\n---\n\n## üß™ Testing\n\n### Run All Tests\n\n```bash\n# All tests\nuv run pytest tests/ -v\n\n# Specific test file\nuv run pytest tests/test_client.py -v\n\n# With coverage\nuv run pytest tests/ --cov=app --cov-report=html\n```\n\n### Test Coverage\n\n```\n‚úÖ 145 tests passing\n‚úÖ 6 tools tested\n‚úÖ 4 resources tested\n‚úÖ 1 prompt tested\n‚úÖ FastMCP Client integration tested\n‚úÖ State management tested\n‚úÖ Error handling tested\n```\n\n### FastMCP Client Testing\n\nThe project includes comprehensive end-to-end tests using FastMCP's in-memory client:\n\n```python\nfrom fastmcp import Client\nfrom app.main_noauth import mcp\n\nasync with Client(mcp) as client:\n    # Test tools\n    result = await client.call_tool(\"ping\", {})\n\n    # Test resources\n    content = await client.read_resource(\"greeting://welcome\")\n\n    # Test prompts\n    prompt = await client.get_prompt(\"explain_concept\", {...})\n```\n\n**Benefits:**\n\n- ‚ö° Fast (no network)\n- üéØ Deterministic\n- üîí Isolated\n- üß™ Production-like\n\n---\n\n## üí° Usage Examples\n\n### Example 1: Call a Tool\n\n```python\n# Ping server\nresult = await client.call_tool(\"ping\", {})\n# {\"status\": \"ok\", \"message\": \"pong\", ...}\n\n# Get weather forecast\nresult = await client.call_tool(\"get_forecast\", {\n    \"city\": \"Tokyo\",\n    \"days\": 5\n})\n# {\"status\": \"success\", \"forecast\": [...]}\n\n# Process text with logging\nresult = await client.call_tool(\"process_text\", {\n    \"content\": \"Your text here\",\n    \"analysis_type\": \"sentiment\"\n})\n# {\"status\": \"completed\", \"analysis\": {...}}\n```\n\n### Example 2: Read Resources\n\n```python\n# Dynamic resource\nwelcome = await client.read_resource(\"greeting://welcome\")\n\n# Template resource with format parameter\nuser_json = await client.read_resource(\"userinfo://123\")  # JSON (default)\nuser_xml = await client.read_resource(\"userinfo://123?format=xml\")  # XML format\nuser_text = await client.read_resource(\"userinfo://123?format=text\")  # Plain text\n\n# Wildcard resource\ndocs = await client.read_resource(\"docs://getting-started\")\n```\n\n### Example 3: Use Prompts\n\n```python\n# Render prompt\nprompt = await client.get_prompt(\"explain_concept\", {\n    \"concept\": \"OAuth 2.0\",\n    \"audience_level\": \"intermediate\",\n    \"include_examples\": True\n})\n```\n\n---\n\n## üîç How It Works\n\n### OAuth Flow\n\n1. **Client Registration** - MCP client calls `/register`, gets Google OAuth config\n2. **Authorization** - User redirected to Google login\n3. **Callback** - Google returns to server callback (`/auth/callback`)\n4. **Token Exchange** - Server exchanges code for tokens\n5. **Validation** - GoogleProvider validates tokens via Google API\n\n**FastMCP as OAuth Proxy:**\n\n```\nClaude Desktop ‚Üí Your Server (proxy) ‚Üí Google OAuth\n                      ‚Üì\n                Token exchange & forward to Claude\n```\n\nOnly YOUR server's callback URI needed in Google Console!\n\n### Server Architecture\n\n```\nClient Request\n     ‚Üì\nFastMCP Server (main.py)\n     ‚Üì\nGoogle OAuth Provider (if --http mode)\n     ‚Üì\nTool/Resource/Prompt Execution\n     ‚Üì\nResponse to Client\n```\n\n---\n\n## üõ†Ô∏è Development\n\n### Adding a New Tool\n\n1. Create `app/tools/my_tool.py`:\n\n```python\nasync def my_tool(param: str, ctx: Context | None = None) -> dict:\n    \"\"\"Tool description\"\"\"\n    if ctx:\n        await ctx.info(\"Processing...\")\n    return {\"result\": \"success\"}\n```\n\n2. Register in `app/main.py`:\n\n```python\nfrom app.tools.my_tool import my_tool\nmcp.tool()(my_tool)\n```\n\n3. Add tests in `tests/test_client.py`:\n\n```python\nasync def test_my_tool():\n    async with Client(mcp) as client:\n        result = await client.call_tool(\"my_tool\", {\"param\": \"value\"})\n        assert result.data[\"result\"] == \"success\"\n```\n\n### Adding a New Resource\n\n1. Create `app/resources/my_resource.py`:\n\n```python\ndef get_my_resource() -> str:\n    \"\"\"Resource content\"\"\"\n    return \"Resource data\"\n```\n\n2. Register in `app/main.py`:\n\n```python\nfrom app.resources.my_resource import get_my_resource\nmcp.resource(\"myscheme://mypath\")(get_my_resource)\n```\n\n### Adding a New Prompt\n\n1. Create `app/prompts/my_prompt.py`:\n\n```python\ndef my_prompt(param: str) -> str:\n    \"\"\"Prompt template\"\"\"\n    return f\"Generate response about {param}...\"\n```\n\n2. Register in `app/main.py`:\n\n```python\nfrom app.prompts.my_prompt import my_prompt\nmcp.prompt()(my_prompt)\n```\n\n---\n\n## üö® Troubleshooting\n\n### Error: \"redirect_uri_mismatch\"\n\n**Cause:** Redirect URI not in Google Console\n\n**Solution:** Add `https://your-ngrok-url.ngrok-free.app/auth/callback` to Google Console\n\n### Error: \"Module not found\"\n\n**Cause:** Dependencies not installed\n\n**Solution:** Run `uv sync`\n\n### Error: \"Port already in use\"\n\n**Cause:** Another process using port 8000\n\n**Solution:** Kill the process or use different port:\n\n```bash\nuv run python -m app.main --http --base-url http://localhost:9000\n```\n\n### Tools Hang in Claude Desktop\n\n**Cause:** Some Context operations not fully supported\n\n**Recommendation:** Use these stable tools:\n\n- ‚úÖ `ping`\n- ‚úÖ `analyze_text`\n- ‚úÖ `process_text`\n- ‚úÖ `counter`\n- ‚úÖ `get_request_info`\n- ‚úÖ `get_forecast`\n\n### ngrok URL Changes\n\n**Issue:** Free ngrok URLs change on restart\n\n**Solution:**\n\n1. Update redirect URI in Google Console\n2. Restart server with new URL\n3. Update Claude Desktop config\n\n---\n\n## üìñ API Reference\n\n### Tools\n\n#### ping()\n\nHealth check endpoint.\n\n**Returns:** `{\"status\": \"ok\", \"message\": \"pong\", \"timestamp\": \"...\", ...}`\n\n#### analyze_text(text: str)\n\nAnalyze text statistics.\n\n**Args:**\n\n- `text` - Text to analyze\n\n**Returns:**\n\n```json\n{\n  \"status\": \"completed\",\n  \"statistics\": {\n    \"characters\": 123,\n    \"letters\": 100,\n    \"digits\": 5,\n    \"spaces\": 18,\n    \"words\": 20,\n    \"sentences\": 3,\n    \"avg_words_per_sentence\": 6.7\n  },\n  \"preview\": \"First 100 characters of text...\"\n}\n```\n\n**Note:** Sentence counting uses simple `.split('.')` and may be inaccurate with abbreviations (e.g., \"Dr.\", \"U.S.A.\").\n\n#### process_text(content: str, analysis_type: str = \"summary\")\n\nProcess text with logging and progress tracking.\n\n**Args:**\n\n- `content` - Text content\n- `analysis_type` - \"summary\", \"sentiment\", or \"keywords\"\n\n**Returns:**\n\n```json\n{\n  \"status\": \"completed\",\n  \"features_demonstrated\": [\"logging\", \"progress\"],\n  \"content_preview\": \"First 100 characters...\",\n  \"analysis\": {\n    \"type\": \"summary|sentiment|keywords\",\n    \"result\": \"...\",\n    \"characters\": 123,\n    \"words\": 20,\n    \"sentences\": 3\n  }\n}\n```\n\n#### counter(action: str = \"get\")\n\nSession-persistent counter (single-process only).\n\n**Args:**\n\n- `action` - \"get\", \"increment\", \"decrement\", or \"reset\"\n\n**Returns:** `{\"status\": \"success\", \"count\": 123, \"action\": \"get\"}`\n\n**‚ö†Ô∏è Important Limitations:**\n\n- Counter is stored in module-level variable (not truly persistent)\n- Resets on server restart\n- **Does NOT work with multi-process deployments** (e.g., gunicorn with multiple workers)\n- Each process has its own counter value\n- For production, use Redis, database, or other shared storage\n\n#### get_request_info()\n\nGet request metadata.\n\n**Returns:** `{\"status\": \"success\", \"request\": {...}, \"server\": {...}}`\n\n#### get_forecast(city: str = \"Jakarta\", days: int = 3)\n\nGet weather forecast with randomized mock data.\n\n**Args:**\n\n- `city` - City name (default: \"Jakarta\")\n- `days` - Number of forecast days (1-7, **auto-clamped to valid range if out of bounds**)\n\n**Returns:**\n\n```json\n{\n  \"status\": \"success\",\n  \"city\": \"Tokyo\",\n  \"forecast_days\": 5,\n  \"forecast\": [\n    {\n      \"date\": \"2025-10-26\",\n      \"day_name\": \"Sunday\",\n      \"temperature\": { \"high\": 28, \"low\": 18, \"unit\": \"¬∞C\" },\n      \"condition\": \"Sunny\",\n      \"humidity\": 65,\n      \"precipitation_chance\": 20\n    }\n  ],\n  \"note\": \"This is mock data. In production, integrate with a real weather API.\"\n}\n```\n\n**‚ö†Ô∏è Important Notes:**\n\n- Returns **randomized mock data** - each call produces different values\n- `days` parameter is silently clamped to 1-7 range (no error thrown)\n- For production use, replace with real weather API (OpenWeatherMap, WeatherAPI, etc.)\n\n### Resources\n\n- `greeting://welcome` - Welcome message\n- `userinfo://{user_id}{?format}` - User information (supports `?format=json|xml|text`)\n- `docs://{path*}` - Documentation pages (wildcard matching)\n- `text://status` - Server operational status\n- `text://features` - Feature list\n- `file://readme` - README content\n- `file://test-results` - Test results (**conditional** - only if TEST_RESULTS.md exists)\n\n### Prompts\n\n#### explain_concept(concept: str, audience_level: str = \"intermediate\", include_examples: bool = True)\n\nGenerate technical explanation.\n\n**Args:**\n\n- `concept` - Concept to explain\n- `audience_level` - \"beginner\", \"intermediate\", \"advanced\"\n- `include_examples` - Include examples\n\n**Returns:** Formatted prompt string\n\n---\n\n## üåê Deployment\n\n### Production Checklist\n\n1. **Set production BASE_URL:**\n\n   ```bash\n   BASE_URL=https://your-domain.com\n   ```\n\n2. **Update OAuth redirect URI** in Google Console:\n\n   ```\n   https://your-domain.com/auth/callback\n   ```\n\n3. **Use HTTPS** (required for OAuth)\n\n4. **Set secure environment variables** on hosting platform\n\n5. **Test OAuth flow** before deploying to users\n\n### Hosting Options\n\n- **Railway** - Easy Python deployment\n- **Fly.io** - Global edge deployment\n- **Heroku** - Classic PaaS\n- **VPS** - Full control (DigitalOcean, Linode)\n\n---\n\n## üìú License\n\nMIT\n\n---\n\n## ü§ù Contributing\n\nContributions welcome! Please:\n\n1. Fork the repository\n2. Create feature branch (`git checkout -b feature/amazing-feature`)\n3. Commit changes (`git commit -m 'Add amazing feature'`)\n4. Push to branch (`git push origin feature/amazing-feature`)\n5. Open Pull Request\n\n---\n\n## üîó Links\n\n- **FastMCP Documentation:** https://gofastmcp.com/\n- **FastMCP GitHub:** https://github.com/jlowin/fastmcp\n- **MCP Specification:** https://modelcontextprotocol.io/\n- **Google OAuth 2.0 Guide:** https://developers.google.com/identity/protocols/oauth2\n\n---\n\n**Built with ‚ù§Ô∏è using FastMCP**\n\nQuestions? Open an issue on GitHub!\n"
      },
      "plugins": [
        {
          "name": "fastmcp-builder",
          "description": "Build production-ready MCP servers using FastMCP framework with proven patterns for tools, resources, prompts, OAuth authentication, and comprehensive testing. Use this when creating FastMCP-based MCP servers with features like Google OAuth, multiple resource types, testing with FastMCP Client, or complex tool implementations.",
          "source": "./",
          "strict": false,
          "skills": [
            "./"
          ],
          "categories": [],
          "install_commands": [
            "/plugin marketplace add husniadil/fastmcp-builder",
            "/plugin install fastmcp-builder@fastmcp-builder-skill"
          ]
        }
      ]
    }
  ]
}