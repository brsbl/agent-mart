{
  "author": {
    "id": "taisukeoe",
    "display_name": "Taisuke Oe",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/1506707?u=a52deaad755b5d62400321ab62afcf61fe278af6&v=4",
    "url": "https://github.com/taisukeoe",
    "bio": null,
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 3,
      "total_commands": 0,
      "total_skills": 7,
      "total_stars": 2,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "agentic-skills-creator",
      "version": null,
      "description": "Skills for creating, reviewing, and improving effective AI agent skills",
      "owner_info": {
        "name": "Softgraphy GK"
      },
      "keywords": [],
      "repo_full_name": "taisukeoe/agentic-ai-skills-creator",
      "repo_url": "https://github.com/taisukeoe/agentic-ai-skills-creator",
      "repo_description": "This is a foundation to create effective Agentic AI Skills",
      "homepage": null,
      "signals": {
        "stars": 2,
        "forks": 0,
        "pushed_at": "2026-01-23T12:11:13Z",
        "created_at": "2025-12-13T11:12:18Z",
        "license": "Apache-2.0"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 1026
        },
        {
          "path": "plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/marketplace-helper",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/marketplace-helper/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/marketplace-helper/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 184
        },
        {
          "path": "plugins/marketplace-helper/README.md",
          "type": "blob",
          "size": 1318
        },
        {
          "path": "plugins/marketplace-helper/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/marketplace-helper/skills/reviewing-plugin-marketplace",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/marketplace-helper/skills/reviewing-plugin-marketplace/README.md",
          "type": "blob",
          "size": 1675
        },
        {
          "path": "plugins/marketplace-helper/skills/reviewing-plugin-marketplace/SKILL.md",
          "type": "blob",
          "size": 7378
        },
        {
          "path": "plugins/marketplace-helper/skills/reviewing-plugin-marketplace/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/marketplace-helper/skills/reviewing-plugin-marketplace/references/anthropic-format.md",
          "type": "blob",
          "size": 4906
        },
        {
          "path": "plugins/marketplace-helper/skills/reviewing-plugin-marketplace/references/common-errors.md",
          "type": "blob",
          "size": 11311
        },
        {
          "path": "plugins/marketplace-helper/skills/reviewing-plugin-marketplace/tests",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/marketplace-helper/skills/reviewing-plugin-marketplace/tests/scenarios.md",
          "type": "blob",
          "size": 7134
        },
        {
          "path": "plugins/marketplace-helper/skills/setting-up-devcontainers",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/marketplace-helper/skills/setting-up-devcontainers/README.md",
          "type": "blob",
          "size": 3044
        },
        {
          "path": "plugins/marketplace-helper/skills/setting-up-devcontainers/SKILL.md",
          "type": "blob",
          "size": 12165
        },
        {
          "path": "plugins/marketplace-helper/skills/setting-up-devcontainers/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/marketplace-helper/skills/setting-up-devcontainers/references/claude-code-installation.md",
          "type": "blob",
          "size": 2780
        },
        {
          "path": "plugins/marketplace-helper/skills/setting-up-devcontainers/references/codex-cli-installation.md",
          "type": "blob",
          "size": 1991
        },
        {
          "path": "plugins/marketplace-helper/skills/setting-up-devcontainers/references/devcontainer-spec.md",
          "type": "blob",
          "size": 3274
        },
        {
          "path": "plugins/marketplace-helper/skills/setting-up-devcontainers/tests",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/marketplace-helper/skills/setting-up-devcontainers/tests/scenarios.md",
          "type": "blob",
          "size": 16452
        },
        {
          "path": "plugins/skills-helper-experimental",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skills-helper-experimental/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skills-helper-experimental/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 204
        },
        {
          "path": "plugins/skills-helper-experimental/README.md",
          "type": "blob",
          "size": 762
        },
        {
          "path": "plugins/skills-helper-experimental/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skills-helper-experimental/skills/running-skills-edd-cycle",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skills-helper-experimental/skills/running-skills-edd-cycle/SKILL.md",
          "type": "blob",
          "size": 3509
        },
        {
          "path": "plugins/skills-helper-experimental/skills/running-skills-edd-cycle/tests",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skills-helper-experimental/skills/running-skills-edd-cycle/tests/scenarios.md",
          "type": "blob",
          "size": 8240
        },
        {
          "path": "plugins/skills-helper",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skills-helper/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skills-helper/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 212
        },
        {
          "path": "plugins/skills-helper/README.md",
          "type": "blob",
          "size": 2132
        },
        {
          "path": "plugins/skills-helper/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skills-helper/skills/creating-effective-skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skills-helper/skills/creating-effective-skills/README.md",
          "type": "blob",
          "size": 1463
        },
        {
          "path": "plugins/skills-helper/skills/creating-effective-skills/SKILL.md",
          "type": "blob",
          "size": 8516
        },
        {
          "path": "plugins/skills-helper/skills/creating-effective-skills/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skills-helper/skills/creating-effective-skills/references/degrees-of-freedom.md",
          "type": "blob",
          "size": 15002
        },
        {
          "path": "plugins/skills-helper/skills/creating-effective-skills/references/progressive-disclosure.md",
          "type": "blob",
          "size": 11941
        },
        {
          "path": "plugins/skills-helper/skills/creating-effective-skills/references/workflows-and-validation.md",
          "type": "blob",
          "size": 16665
        },
        {
          "path": "plugins/skills-helper/skills/creating-effective-skills/tests",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skills-helper/skills/creating-effective-skills/tests/scenarios.md",
          "type": "blob",
          "size": 7348
        },
        {
          "path": "plugins/skills-helper/skills/evaluating-skills-with-models",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skills-helper/skills/evaluating-skills-with-models/SKILL.md",
          "type": "blob",
          "size": 7178
        },
        {
          "path": "plugins/skills-helper/skills/evaluating-skills-with-models/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skills-helper/skills/evaluating-skills-with-models/references/evaluation-structure.md",
          "type": "blob",
          "size": 9737
        },
        {
          "path": "plugins/skills-helper/skills/evaluating-skills-with-models/tests",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skills-helper/skills/evaluating-skills-with-models/tests/scenarios.md",
          "type": "blob",
          "size": 8205
        },
        {
          "path": "plugins/skills-helper/skills/improving-skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skills-helper/skills/improving-skills/SKILL.md",
          "type": "blob",
          "size": 2805
        },
        {
          "path": "plugins/skills-helper/skills/improving-skills/tests",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skills-helper/skills/improving-skills/tests/scenarios.md",
          "type": "blob",
          "size": 6575
        },
        {
          "path": "plugins/skills-helper/skills/reviewing-skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skills-helper/skills/reviewing-skills/README.md",
          "type": "blob",
          "size": 1638
        },
        {
          "path": "plugins/skills-helper/skills/reviewing-skills/SKILL.md",
          "type": "blob",
          "size": 5713
        },
        {
          "path": "plugins/skills-helper/skills/reviewing-skills/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skills-helper/skills/reviewing-skills/references/checklist.md",
          "type": "blob",
          "size": 14542
        },
        {
          "path": "plugins/skills-helper/skills/reviewing-skills/tests",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skills-helper/skills/reviewing-skills/tests/scenarios.md",
          "type": "blob",
          "size": 8010
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"agentic-skills-creator\",\n  \"owner\": {\n    \"name\": \"Softgraphy GK\"\n  },\n  \"license\": \"Apache-2.0\",\n  \"metadata\": {\n    \"description\": \"Skills for creating, reviewing, and improving effective AI agent skills\",\n    \"author\": \"Softgraphy GK\",\n    \"version\": \"0.1.1\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"skills-helper\",\n      \"description\": \"Skills for creating, reviewing, and improving effective AI agent skills following Claude's official best practices\",\n      \"source\": \"./plugins/skills-helper\",\n      \"strict\": false\n    },\n    {\n      \"name\": \"marketplace-helper\",\n      \"description\": \"Skills for reviewing and validating Claude Code plugin marketplace configurations\",\n      \"source\": \"./plugins/marketplace-helper\",\n      \"strict\": false\n    },\n    {\n      \"name\": \"skills-helper-experimental\",\n      \"description\": \"Experimental skills for AI agent skill development, including testing and iteration workflows\",\n      \"source\": \"./plugins/skills-helper-experimental\",\n      \"strict\": false\n    }\n  ]\n}\n",
        "plugins/marketplace-helper/.claude-plugin/plugin.json": "{\n  \"name\": \"marketplace-helper\",\n  \"description\": \"Skills for reviewing and validating Claude Code plugin marketplace configurations\",\n  \"version\": \"0.2.0\",\n  \"skills\": \"./skills/\"\n}\n",
        "plugins/marketplace-helper/README.md": "# marketplace-helper\n\nSkills for reviewing and validating Claude Code plugin marketplace configurations.\n\n## Installation\n\n```bash\n/plugin install marketplace-helper@agentic-skills-creator\n```\n\n## Skills\n\n### reviewing-plugin-marketplace\n\nReview Claude Code plugin marketplace configurations against official best practices.\n\n**Features:**\n- marketplace.json structure validation\n- Skills paths verification\n- Git remote URL consistency checks\n- README.md repository reference validation\n- Common error detection (plugin.json presence, path mismatches)\n- Automated verification script\n\n**Use when:**\n- Creating a new plugin marketplace\n- Verifying marketplace configuration\n- Debugging plugin installation issues\n- Ensuring compliance with Anthropic format\n\n### setting-up-devcontainers\n\nGenerate devcontainer configurations for Claude Code plugin marketplaces.\n\n**Features:**\n- .devcontainer/ directory generation\n- Dockerfile with Claude Code and Codex CLI pre-installed\n- Post-create and post-start scripts\n- Volume mounts for persistent configuration\n- Marketplace auto-registration on container start\n\n**Use when:**\n- Setting up development containers for a marketplace\n- Creating isolated Claude Code environments\n- Configuring pre-registered plugins and skills\n- Enabling consistent development across machines\n",
        "plugins/marketplace-helper/skills/reviewing-plugin-marketplace/README.md": "# Reviewing Plugin Marketplace\n\nReview Claude Code plugin marketplace configurations against official best practices.\n\n## Required Permissions\n\nTo enable automatic execution of this skill's commands, add to `.claude/settings.json`:\n\n```json\n{\n  \"permissions\": {\n    \"allow\": [\n      \"Skill(reviewing-plugin-marketplace)\",\n      \"Bash(skills/reviewing-plugin-marketplace/scripts/verify-marketplace.sh:*)\",\n      \"Bash(cat .claude-plugin/marketplace.json)\",\n      \"Bash(git remote -v)\",\n      \"Bash(grep:*)\",\n      \"Bash(ls:*)\"\n    ]\n  }\n}\n```\n\n**Note**: Adjust the script path if your skill is in a different location.\n\n## Usage\n\nThis skill helps you review plugin marketplace configurations by checking:\n- marketplace.json structure against Anthropic's official format\n- Repository URL consistency with git remote\n- Source path validation\n- Plugin.json validation (if present)\n- Common configuration errors\n\nTrigger this skill when:\n- Analyzing marketplace.json files\n- Validating plugin configurations\n- Detecting structural issues\n- Ensuring compliance with official format\n\n## Validation Script\n\nThe skill includes a validation script that performs comprehensive checks:\n\n```bash\nbash skills/reviewing-plugin-marketplace/scripts/verify-marketplace.sh [marketplace-dir]\n```\n\nIf no directory is provided, it defaults to the current directory.\n\n## Documentation\n\n- **SKILL.md**: Main instructions for Claude\n- **references/anthropic-format.md**: Official marketplace.json structure\n- **references/common-errors.md**: Detailed error patterns and solutions\n\n## Learn More\n\nFor complete guidance, see the official Claude Code documentation on plugin marketplace configurations.\n",
        "plugins/marketplace-helper/skills/reviewing-plugin-marketplace/SKILL.md": "---\nname: reviewing-plugin-marketplace\ndescription: Review Claude Code plugin marketplace configurations against official best practices. Use when analyzing marketplace.json and plugin.json files for structural issues, common errors, path validation, and consistency with Anthropic's official format. Detects repository URL mismatches, incorrect source paths, and missing required fields.\nlicense: Apache-2.0\nmetadata:\n  author: Softgraphy GK\n  version: \"0.1.0\"\n---\n\n# Reviewing Plugin Marketplace Configurations\n\nComprehensive review of Claude Code plugin marketplace and plugin configurations against official best practices and common pitfalls.\n\n## Quick Start\n\n### Automated Review (Recommended)\n\nRun the verification script:\n\n```bash\nbash scripts/verify-marketplace.sh [marketplace-directory]\n```\n\nThis automatically checks:\n- marketplace.json structure\n- Skills paths validation\n- Git remote URL\n- README.md repository references\n- plugin.json presence (warns if exists)\n\n### Manual Review\n\n1. Ask user for marketplace directory (e.g., `.claude-plugin/`)\n2. Read marketplace.json and plugin.json (if exists)\n3. Check against official format and common errors\n4. Provide detailed feedback with priorities\n\n**Example review output**:\n```\n## Critical Issues\n- ❌ Repository URL mismatch: README.md uses \"owner-a/repo\" but marketplace.json uses \"owner-b/repo\"\n- ❌ Source path \"./.claude-plugin\" does not exist\n\n## Important Issues\n- ⚠ plugin.json exists but Anthropic's official format uses marketplace.json only\n- ⚠ Skills path \"./skills/missing-skill\" not found\n\n## Compliance Score\n- Structure: ✓ Valid JSON\n- Required fields: ✓ Present\n- Path validation: ✗ 2 invalid paths\n```\n\n## Review Process\n\n### Step 1: Read Configuration Files\n\nRead and analyze:\n- `.claude-plugin/marketplace.json` (required for marketplaces)\n- `.claude-plugin/plugin.json` (optional, check if present)\n- `README.md` (for repository URL consistency)\n- Git remote URL (if in git repository)\n\n### Step 2: Validate marketplace.json Structure\n\n**Required fields**:\n- [ ] `name` - Marketplace identifier\n- [ ] `owner.name` - Owner name\n- [ ] `plugins` - Array of plugin definitions\n\n**Each plugin must have**:\n- [ ] `name` - Plugin identifier\n- [ ] `source` - Source path (must start with `./`, e.g., `\"./plugins/plugin-name\"`)\n- [ ] `description` - What the plugin does\n\n**Recommended fields**:\n- [ ] `metadata.description` - Marketplace description\n- [ ] `metadata.version` - Version number\n\n**Note**: `skills` field specifies skills directory path (root-relative, e.g., `\"./plugins/plugin-name/skills/\"`)\n\n**Optional fields** (context-dependent):\n- [ ] `strict: false` - Only needed if plugins lack plugin.json files (see references/common-errors.md)\n\n### Step 3: Check Common Errors\n\n**Repository URL consistency**:\n- Compare URLs in marketplace.json, plugin.json, README.md, git remote\n- All should point to the same repository\n- Common issue: Using organization name instead of personal username\n\n**Source path validation**:\n- Verify `source` path exists\n- Must start with `./` (e.g., `\"./plugins/plugin-name\"`)\n- Check that source directory contains `skills/` subdirectory with SKILL.md files\n\n**Skills path validation**:\n- Verify `skills` path exists (root-relative, e.g., `\"./plugins/plugin-name/skills/\"`)\n- Directory should contain subdirectories with SKILL.md files\n\n**plugin.json conflicts**:\n- Anthropic's official format uses marketplace.json only\n- Having both may cause confusion\n- If both exist, ensure names match\n\n**README.md consistency checks**:\n- **Skills documentation**: Verify all skills in marketplace.json are documented in README.md\n  - Check \"Skills Included\" section lists each skill from the `skills` array\n  - Each skill should have description and \"Use when\" guidance\n- **Project Structure accuracy**:\n  - If `plugin.json` mentioned in README but doesn't exist, suggest using `marketplace.json`\n  - Verify structure diagram matches actual files in `.claude-plugin/`\n- **Permissions section completeness**:\n  - Check if README.md settings.json examples include all skills from marketplace.json\n  - Example: `\"Skill(skill-name)\"` for each skill should be in permissions array\n- **Repository references**: Ensure consistent GitHub URLs across README installation examples\n\n### Step 4: Compare with Anthropic Format\n\nSee [references/anthropic-format.md](references/anthropic-format.md) for official structure.\n\n**Key patterns from Anthropic**:\n- marketplace.json at `.claude-plugin/marketplace.json`\n- No plugin.json (marketplace.json only)\n- `source: \"./plugins/plugin-name\"` pointing to plugin directory (must start with `./`)\n- `strict: false` (optional - only needed when plugin.json is missing)\n- `skills` field specifies skills directory (root-relative path)\n\n### Step 5: Generate Feedback\n\nOrganize findings by priority:\n\n**Critical Issues** (breaks functionality):\n- enabledPlugins format error (array instead of object)\n- Repository URL mismatch with git remote\n- Invalid source path (doesn't exist)\n- Missing required fields\n- Invalid JSON syntax\n\n**Important Issues** (causes confusion):\n- Repository URL inconsistency across files\n- Invalid skills paths\n- Conflicting plugin.json and marketplace.json\n- Missing recommended fields\n\n**Suggestions** (best practices):\n- Add `metadata` section (improves discoverability)\n- Add `strict: false` only if plugins lack plugin.json (otherwise no effect)\n- Follow Anthropic's single-file pattern\n- Explicit `skills` array\n\n## Common Issues Reference\n\nSee [references/common-errors.md](references/common-errors.md) for detailed error patterns and solutions.\n\n**Top 3 issues from real experience** (by actual impact):\n\n1. **enabledPlugins format error** ⚠️ BREAKS FUNCTIONALITY\n   - Error: Plugins don't load, no activation\n   - Cause: Using array `[\"plugin@marketplace\"]` instead of object `{\"plugin@marketplace\": true}`\n   - Fix: Change to object format in settings.json\n   - **This is the #1 cause of \"plugin not working\" issues**\n\n2. **Repository URL mismatch**\n   - Error: `Plugin 'name' not found in marketplace`\n   - Cause: README/settings use different owner than actual git remote\n   - Fix: Ensure all URLs match `git remote -v`\n\n3. **Wrong source path**\n   - Error: `Plugin 'name' not found`\n   - Cause: Source points to non-existent directory\n   - Fix: Use `\"./\"` for root, verify path exists\n\n## Output Format\n\nStructure review with these sections:\n- **Summary**: Overall assessment\n- **Critical Issues**: Must fix (with file:line references)\n- **Important Issues**: Should fix (with explanations)\n- **Suggestions**: Best practices alignment\n- **Compliance Score**: Quick visual assessment\n\n## Tips for Effective Reviews\n\n**Be Specific**: Don't say \"URL is wrong\" - say \"marketplace.json line 7 uses 'owner-a/repo' but git remote shows 'owner-b/repo'\"\n\n**Verify Paths**: Actually check if files/directories exist, don't just validate format\n\n**Check Consistency**: Cross-reference all files that mention repository URLs\n\n**Use Official Examples**: Compare against Anthropic's format at https://github.com/anthropics/skills\n\n## References\n\n**Anthropic Format**: See [references/anthropic-format.md](references/anthropic-format.md) for official marketplace.json structure\n\n**Common Errors**: See [references/common-errors.md](references/common-errors.md) for detailed error patterns and solutions\n",
        "plugins/marketplace-helper/skills/reviewing-plugin-marketplace/references/anthropic-format.md": "# Anthropic Official Marketplace Format\n\nReference for Claude Code plugin marketplace structure based on https://github.com/anthropics/skills\n\n## Table of Contents\n\n- Official Repository Structure\n- Official marketplace.json\n- Key Patterns\n- Your Template\n- User Installation\n- User Settings Configuration\n- Comparison: Single vs Multiple Plugins\n- References\n\n## Official Repository Structure\n\n```\nanthropics/skills/\n├── .claude-plugin/\n│   └── marketplace.json          ← Only this file (no plugin.json)\n├── skills/\n│   ├── algorithmic-art/\n│   │   └── SKILL.md\n│   ├── skill-creator/\n│   │   └── SKILL.md\n│   └── [other skills]/\n│       └── SKILL.md\n├── README.md\n└── LICENSE\n```\n\n## Official marketplace.json\n\n```json\n{\n  \"name\": \"anthropic-agent-skills\",\n  \"owner\": {\n    \"name\": \"Keith Lazuka\",\n    \"email\": \"klazuka@anthropic.com\"\n  },\n  \"metadata\": {\n    \"description\": \"Anthropic example skills\",\n    \"version\": \"1.0.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"document-skills\",\n      \"description\": \"Collection of document processing suite including Excel, Word, PowerPoint, and PDF capabilities\",\n      \"source\": \"./\",\n      \"strict\": false,\n      \"skills\": [\n        \"./skills/xlsx\",\n        \"./skills/docx\",\n        \"./skills/pptx\",\n        \"./skills/pdf\"\n      ]\n    },\n    {\n      \"name\": \"example-skills\",\n      \"description\": \"Collection of example skills demonstrating various capabilities\",\n      \"source\": \"./\",\n      \"strict\": false,\n      \"skills\": [\n        \"./skills/algorithmic-art\",\n        \"./skills/brand-guidelines\",\n        \"./skills/canvas-design\",\n        \"./skills/frontend-design\",\n        \"./skills/internal-comms\",\n        \"./skills/mcp-builder\",\n        \"./skills/skill-creator\",\n        \"./skills/slack-gif-creator\",\n        \"./skills/theme-factory\",\n        \"./skills/web-artifacts-builder\",\n        \"./skills/webapp-testing\"\n      ]\n    }\n  ]\n}\n```\n\n## Key Patterns\n\n### No plugin.json\n\nAnthropic's repository has **only marketplace.json**, not plugin.json. This is the recommended approach.\n\n### Source Field\n\n```json\n\"source\": \"./\"\n```\n\nAlways points to repository root (`./`), not `./.claude-plugin`.\n\n### Strict Mode\n\n```json\n\"strict\": false\n```\n\nDisables strict mode for flexibility.\n\n### Skills Array\n\n```json\n\"skills\": [\n  \"./skills/skill-name\",\n  ...\n]\n```\n\nExplicitly lists all skill paths relative to repository root.\n\n### Multiple Plugins\n\nOne marketplace can contain multiple plugins, each grouping related skills:\n\n```json\n{\n  \"plugins\": [\n    {\n      \"name\": \"document-skills\",\n      \"skills\": [\"./skills/xlsx\", \"./skills/pdf\", ...]\n    },\n    {\n      \"name\": \"example-skills\",\n      \"skills\": [\"./skills/skill-creator\", ...]\n    }\n  ]\n}\n```\n\n## Your Template\n\nAdapt for your marketplace:\n\n```json\n{\n  \"name\": \"your-marketplace-name\",\n  \"owner\": {\n    \"name\": \"Your Name\"\n  },\n  \"metadata\": {\n    \"description\": \"Brief description of your marketplace\",\n    \"version\": \"1.0.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"your-plugin-name\",\n      \"description\": \"What your plugin does\",\n      \"source\": \"./\",\n      \"strict\": false,\n      \"skills\": [\n        \"./skills/your-skill-one\",\n        \"./skills/your-skill-two\"\n      ]\n    }\n  ]\n}\n```\n\n## User Installation\n\nUsers install from GitHub:\n\n```bash\n# Add marketplace\n/plugin marketplace add owner/repository\n\n# Install specific plugin\n/plugin install plugin-name@owner/repository\n```\n\n## User Settings Configuration\n\n**.claude/settings.json** (in user's project):\n\n```json\n{\n  \"extraKnownMarketplaces\": {\n    \"your-marketplace-name\": {\n      \"source\": {\n        \"source\": \"github\",\n        \"repo\": \"owner/repository\"\n      }\n    }\n  },\n  \"enabledPlugins\": {\n    \"your-plugin-name@your-marketplace-name\": true\n  },\n  \"permissions\": {\n    \"allow\": [\n      \"Skill(your-skill-one)\",\n      \"Skill(your-skill-two)\"\n    ]\n  }\n}\n```\n\n## Comparison: Single vs Multiple Plugins\n\n### Single Plugin Marketplace\n\nMost common for personal repositories:\n\n```json\n{\n  \"plugins\": [\n    {\n      \"name\": \"skills-helper\",\n      \"skills\": [\n        \"./skills/creating-effective-skills\",\n        \"./skills/reviewing-skills\"\n      ]\n    }\n  ]\n}\n```\n\n### Multiple Plugins Marketplace\n\nUsed when grouping related skills:\n\n```json\n{\n  \"plugins\": [\n    {\n      \"name\": \"document-skills\",\n      \"skills\": [\"./skills/pdf\", \"./skills/docx\"]\n    },\n    {\n      \"name\": \"dev-skills\",\n      \"skills\": [\"./skills/code-review\", \"./skills/testing\"]\n    }\n  ]\n}\n```\n\nUsers can install specific plugins:\n```bash\n/plugin install document-skills@your-marketplace\n/plugin install dev-skills@your-marketplace\n```\n\n## References\n\n- Official repository: https://github.com/anthropics/skills\n- marketplace.json: https://github.com/anthropics/skills/blob/main/.claude-plugin/marketplace.json\n- Documentation: https://code.claude.com/docs/en/plugin-marketplaces.md\n",
        "plugins/marketplace-helper/skills/reviewing-plugin-marketplace/references/common-errors.md": "# Common Marketplace Configuration Errors\n\nDetailed error patterns encountered in real-world Claude Code plugin marketplace configurations, with solutions.\n\n## Table of Contents\n\n- **enabledPlugins Format Error** ⚠️ #1 CRITICAL\n- Repository URL Mismatches\n- Source Path Errors\n- Skills Path Validation\n- Settings.json Format Issues\n- Understanding the `strict` Field\n\n## enabledPlugins Format Error ⚠️ MOST COMMON ISSUE\n\n### Error Pattern\n\nPlugins appear to install successfully, but **don't actually load or activate**. No obvious error messages.\n\n### Root Cause\n\nUsing **array format** instead of **object format** in `.claude/settings.json`:\n\n**WRONG** (array format - DOES NOT WORK):\n```json\n{\n  \"enabledPlugins\": [\n    \"example-plugin@my_marketplace\"\n  ]\n}\n```\n\n**CORRECT** (object format - WORKS):\n```json\n{\n  \"enabledPlugins\": {\n    \"example-plugin@my_marketplace\": true,\n    \"another-plugin@my_marketplace\": true\n  }\n}\n```\n\n### Impact\n\n**CRITICAL**: This is the **#1 cause of \"my plugin isn't working\" issues**. Based on real testing:\n- ✗ Array format: Plugins silently fail to activate\n- ✓ Object format: Plugins load and work correctly\n\n### Detection\n\nCheck user's `.claude/settings.json`:\n```bash\ncat .claude/settings.json | grep -A 3 enabledPlugins\n```\n\nLook for square brackets `[...]` (wrong) vs curly braces `{...}` (correct).\n\n### Solution\n\n**Fix the format in user's project settings.json**:\n\n```json\n{\n  \"extraKnownMarketplaces\": {\n    \"your-marketplace-name\": {\n      \"source\": {\n        \"source\": \"github\",\n        \"repo\": \"owner/repo\"\n      }\n    }\n  },\n  \"enabledPlugins\": {\n    \"plugin-name@marketplace-name\": true\n  }\n}\n```\n\n**For multiple plugins**:\n```json\n{\n  \"enabledPlugins\": {\n    \"plugin-one@marketplace\": true,\n    \"plugin-two@marketplace\": true,\n    \"another-plugin@different-marketplace\": true\n  }\n}\n```\n\n### Prevention\n\n- Always show **object format** in documentation examples\n- Include complete `.claude/settings.json` examples in README.md\n- Test installation instructions in a clean project\n\n## Repository URL Mismatches\n\n### Error Pattern\n\n```\nPlugin 'skills-helper' not found in marketplace 'agentic-skills-creator'\n→ Plugin may not exist in marketplace 'agentic-skills-creator'\n```\n\n### Root Cause\n\nRepository URLs don't match across configuration files:\n\n```\nREADME.md:           SoftGraphy/agentic-ai-skills-creator\nmarketplace.json:    (no repo field, uses marketplace name)\nGit remote:          taisukeoe/agentic-ai-skills-creator  ← ACTUAL\nUser settings:       SoftGraphy/agentic-ai-skills-creator  ← WRONG\n```\n\nClaude Code fetches from the **git remote URL in user's settings.json**, but that URL is wrong.\n\n### Detection\n\nCheck all locations:\n1. `git remote -v` - The source of truth for YOUR repository\n2. `README.md` - Installation examples\n3. User's project `.claude/settings.json` - The URL they're using to fetch\n\n### Solution\n\n**Fix all URLs to match git remote**:\n\n```bash\n# 1. Check actual remote\ngit remote -v\n# Output: origin  git@github.com:taisukeoe/repo.git\n\n# 2. Update README.md installation examples\nsed -i '' 's/SoftGraphy/taisukeoe/g' README.md\n\n# 3. Commit and push\ngit add README.md\ngit commit -m \"fix: correct repository URLs in documentation\"\ngit push\n\n# 4. In user's project, update .claude/settings.json\n# Change: \"repo\": \"SoftGraphy/agentic-ai-skills-creator\"\n# To:     \"repo\": \"taisukeoe/agentic-ai-skills-creator\"\n\n# 5. Refresh marketplace in user's project\n/plugin marketplace remove agentic-skills-creator\n/plugin marketplace add taisukeoe/agentic-ai-skills-creator\n```\n\n### Prevention\n\n- Always verify `git remote -v` before writing documentation\n- Use correct owner/username from the start\n- Test installation in a separate project before publishing\n\n## Source Path Errors\n\n### Error Pattern: Wrong Directory\n\n**marketplace.json**:\n```json\n{\n  \"plugins\": [\n    {\n      \"name\": \"my-plugin\",\n      \"source\": \"./.claude-plugin\"  ← WRONG: Don't point to .claude-plugin\n    }\n  ]\n}\n```\n\n**Correct** (Anthropic format):\n```json\n{\n  \"plugins\": [\n    {\n      \"name\": \"my-plugin\",\n      \"source\": \"./\",  ← Correct: Point to repository root\n      \"skills\": [\n        \"./skills/skill-one\",\n        \"./skills/skill-two\"\n      ]\n    }\n  ]\n}\n```\n\n### Why \"./\" is Correct\n\nmarketplace.json is **already in** `.claude-plugin/`, so:\n- `source: \"./\"` means \"go to repository root from .claude-plugin/\"\n- Skills are in `skills/` at the root\n- This matches Anthropic's official format\n\n### Verification\n\n```bash\n# From repository root, verify structure:\nls -la .claude-plugin/marketplace.json  # Should exist\nls -la skills/                          # Should exist\nls -la skills/*/SKILL.md                # Each skill should have SKILL.md\n```\n\n## Skills Path Validation\n\n### Error Pattern\n\n```json\n{\n  \"skills\": [\n    \"./skills/creating-effective-skills\",  ← Exists\n    \"./skills/reviewing-skills\",           ← Exists\n    \"./skills/missing-skill\"               ← DOESN'T EXIST\n  ]\n}\n```\n\n### Impact\n\n- Claude Code fails to load the plugin\n- Confusing error messages\n- Skills won't be available\n\n### Detection\n\n```bash\n# Verify each skill path exists with SKILL.md\nfor skill_path in ./skills/*; do\n  if [ ! -f \"$skill_path/SKILL.md\" ]; then\n    echo \"❌ Missing SKILL.md in $skill_path\"\n  else\n    echo \"✓ $skill_path\"\n  fi\ndone\n```\n\n### Solution\n\n**Option 1: Remove invalid paths**:\n```json\n{\n  \"skills\": [\n    \"./skills/creating-effective-skills\",\n    \"./skills/reviewing-skills\"\n    // Removed missing-skill\n  ]\n}\n```\n\n**Option 2: Create the missing skill**:\n```bash\nmkdir -p skills/missing-skill\n# Create SKILL.md with proper frontmatter\n```\n\n## Settings.json Format Issues\n\n### Wrong Format (Deprecated)\n\n**INCORRECT** (old format, doesn't work):\n```json\n{\n  \"skills\": {\n    \"allow\": [\"skill-name\"]\n  }\n}\n```\n\n### Correct Formats\n\n#### User's Project Settings\n\n**.claude/settings.json** (in project using your marketplace):\n```json\n{\n  \"extraKnownMarketplaces\": {\n    \"agentic-skills-creator\": {\n      \"source\": {\n        \"source\": \"github\",\n        \"repo\": \"taisukeoe/agentic-ai-skills-creator\"\n      }\n    }\n  },\n  \"enabledPlugins\": {\n    \"skills-helper@agentic-skills-creator\": true\n  },\n  \"permissions\": {\n    \"allow\": [\n      \"Skill(creating-effective-skills)\",\n      \"Skill(reviewing-skills)\",\n      \"Skill(reviewing-plugin-marketplace)\"\n    ]\n  }\n}\n```\n\n**Key points**:\n- `extraKnownMarketplaces` - Registers your marketplace\n- `enabledPlugins` - Format: `\"plugin-name@marketplace-name\": true`\n- `permissions.allow` - Format: `\"Skill(skill-name)\"`\n\n#### Your Marketplace Repository Settings\n\n**.claude/settings.json** (in your marketplace repository for local dev):\n```json\n{\n  \"permissions\": {\n    \"allow\": [\n      \"Skill(creating-effective-skills)\",\n      \"Skill(reviewing-skills)\",\n      \"Skill(reviewing-plugin-marketplace)\"\n    ]\n  }\n}\n```\n\n**Note**: Skills in `.claude/skills/` (via symlink to `skills/`) are auto-discovered, so you only need to pre-approve them.\n\n## Anthropic Official Format\n\n### Recommended Structure\n\nFollow https://github.com/anthropics/skills:\n\n```\nyour-repo/\n├── .claude-plugin/\n│   └── marketplace.json          ← Only this file needed\n├── skills/\n│   ├── skill-one/\n│   │   └── SKILL.md\n│   └── skill-two/\n│       └── SKILL.md\n└── README.md\n```\n\n**NO plugin.json needed** - marketplace.json contains everything.\n\n### marketplace.json Template\n\n```json\n{\n  \"name\": \"your-marketplace-name\",\n  \"owner\": {\n    \"name\": \"Your Name\"\n  },\n  \"metadata\": {\n    \"description\": \"Brief description\",\n    \"version\": \"1.0.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"your-plugin-name\",\n      \"description\": \"What the plugin does\",\n      \"source\": \"./\",\n      \"strict\": false,\n      \"skills\": [\n        \"./skills/skill-one\",\n        \"./skills/skill-two\"\n      ]\n    }\n  ]\n}\n```\n\n## Understanding the `strict` Field\n\n### What It Does\n\nThe `strict` field in marketplace.json controls whether plugins **must** have their own `plugin.json` file.\n\n**`strict: true` (default)**:\n- Each plugin directory MUST include `.claude-plugin/plugin.json`\n- marketplace.json fields supplement the plugin's own manifest\n- More rigid structure\n\n**`strict: false`**:\n- plugin.json is **optional**\n- If plugin.json is missing, marketplace.json serves as the complete manifest\n- More flexible structure\n\n### Real-World Impact\n\n**Based on actual testing**: If your plugins already have `plugin.json` files, `strict: false` **has NO EFFECT**.\n\n**Example**: Multi-plugin marketplace testing:\n```\nplugins/category-a/tool-one/.claude-plugin/plugin.json  ← EXISTS\nplugins/category-b/tool-two/.claude-plugin/plugin.json ← EXISTS\n\nResult: strict: false does nothing (plugins already have plugin.json)\n```\n\n### When It Matters\n\n**Use `strict: false` when**:\n- You want to define plugins entirely in marketplace.json (no individual plugin.json files)\n- Simpler plugin structure for lightweight tools\n- Example from Anthropic's format\n\n**No need for `strict: false` when**:\n- Each plugin has its own `.claude-plugin/plugin.json` (multi-plugin marketplace)\n- Plugin structure is already established\n- **This is the common case for organizational marketplaces**\n\n### Configuration Examples\n\n**Scenario 1: Multi-plugin with individual plugin.json files**\n```json\n{\n  \"plugins\": [\n    {\n      \"name\": \"example-tool\",\n      \"source\": \"./plugins/category/example-tool\"\n      // Each plugin dir has .claude-plugin/plugin.json\n      // strict: false has NO EFFECT here\n    }\n  ]\n}\n```\n\n**Scenario 2: Single plugin, no plugin.json (Anthropic pattern)**\n```json\n{\n  \"plugins\": [\n    {\n      \"name\": \"my-skills\",\n      \"source\": \"./\",\n      \"strict\": false,  ← NEEDED: No plugin.json exists\n      \"skills\": [\"./skills/skill-one\", \"./skills/skill-two\"]\n    }\n  ]\n}\n```\n\n### Recommendation\n\n**For organizational multi-plugin marketplaces**: Don't worry about `strict: false` - it won't affect functionality if you have plugin.json files.\n\n**For simple skill-only marketplaces**: Use `strict: false` and skip creating individual plugin.json files (follow Anthropic pattern).\n\n### Sources\n\n- [Plugin marketplaces - Claude Code Docs](https://code.claude.com/docs/en/plugin-marketplaces)\n- [Plugin marketplaces - Claude Docs](https://anthropic.mintlify.app/en/docs/claude-code/plugin-marketplaces)\n\n## Checklist Before Publishing\n\n**Critical** (breaks functionality):\n- [ ] README.md shows **object format** for `enabledPlugins`: `{\"plugin@marketplace\": true}`\n- [ ] NOT array format: `[\"plugin@marketplace\"]` ← WRONG\n- [ ] `git remote -v` matches all documentation URLs\n- [ ] marketplace.json has `source: \"./\"`\n- [ ] All skills paths exist with SKILL.md\n\n**Testing**:\n- [ ] Tested in a separate project:\n  ```bash\n  /plugin marketplace add your-username/your-repo\n  /plugin install plugin-name@your-username/your-repo\n  ```\n- [ ] Verified settings.json uses correct enabledPlugins format\n- [ ] Check `/plugin` for errors tab (should be empty)\n- [ ] Skills actually load and work (not just install)\n\n## Recovery from Broken Marketplace\n\n```bash\n# In user's project:\n/plugin marketplace remove marketplace-name\n# Fix your marketplace repository, commit, push\n# Re-add marketplace:\n/plugin marketplace add correct-owner/repo\n# Verify:\n/plugin\n# Errors tab should be empty\n```\n",
        "plugins/marketplace-helper/skills/reviewing-plugin-marketplace/tests/scenarios.md": "# Test Scenarios for reviewing-plugin-marketplace\n\n## Scenario: Review valid marketplace configuration\n\n**Difficulty:** Easy\n\n**Query:** Review my marketplace configuration at .claude-plugin/\n\n**Expected behaviors:**\n\n1. Reads marketplace.json correctly\n   - **Minimum:** Reads the file\n   - **Quality criteria:**\n     - Uses Read tool on .claude-plugin/marketplace.json\n     - Parses JSON structure\n     - Identifies all required fields (name, owner.name, plugins)\n     - Notes optional fields present (metadata, license)\n   - **Haiku pitfall:** Reads but misses some fields\n   - **Weight:** 3\n\n2. Validates required fields\n   - **Minimum:** Checks for required fields\n   - **Quality criteria:**\n     - Verifies name exists and is valid\n     - Verifies owner.name exists\n     - Verifies plugins array exists and is non-empty\n     - Each plugin has name, source, description\n   - **Haiku pitfall:** Superficial \"looks good\" without field-by-field check\n   - **Weight:** 4\n\n3. Checks source paths\n   - **Minimum:** Notes source paths\n   - **Quality criteria:**\n     - Verifies paths start with \"./\"\n     - Checks that source directories actually exist (Glob/ls)\n     - Validates each plugin directory has .claude-plugin/plugin.json\n     - Reports any missing directories\n   - **Haiku pitfall:** Doesn't verify paths exist on disk\n   - **Weight:** 5\n\n4. Compares with Anthropic format\n   - **Minimum:** Mentions format compliance\n   - **Quality criteria:**\n     - References references/anthropic-format.md\n     - Notes whether root has plugin.json (shouldn't for pure marketplace)\n     - Explains strict: false behavior\n     - Checks for common deviations\n   - **Haiku pitfall:** Doesn't read reference, generic format comment\n   - **Weight:** 4\n\n5. Reports compliance score\n   - **Minimum:** Provides some assessment\n   - **Quality criteria:**\n     - Structured report with checkmarks or scores\n     - Categories: Structure, Paths, Skills, Consistency\n     - Overall rating\n     - Actionable suggestions if issues found\n   - **Haiku pitfall:** Unstructured output, no clear rating\n   - **Weight:** 4\n\n---\n\n## Scenario: Detect enabledPlugins format error\n\n**Difficulty:** Medium\n\n**Query:** My plugin isn't loading. Can you check my configuration?\n\n**Test files:**\n- tests/mock-configs/wrong-enabled-format/settings.json (array format)\n\n**Expected behaviors:**\n\n1. Identifies likely cause proactively\n   - **Minimum:** Asks about configuration\n   - **Quality criteria:**\n     - Asks about settings.json enabledPlugins\n     - Mentions this is #1 cause of loading issues\n     - Knows to check this before deep-diving\n   - **Haiku pitfall:** Jumps to complex debugging without checking common issue\n   - **Weight:** 5\n\n2. Detects array vs object format issue\n   - **Minimum:** Notes the format problem if found\n   - **Quality criteria:**\n     - Shows WRONG: `\"enabledPlugins\": [\"plugin@marketplace\"]`\n     - Shows CORRECT: `\"enabledPlugins\": {\"plugin@marketplace\": true}`\n     - Explains WHY this matters (Claude Code parses as object)\n     - References references/common-errors.md\n   - **Haiku pitfall:** Doesn't check or explain format distinction\n   - **Weight:** 5\n\n3. Provides exact fix\n   - **Minimum:** Suggests changing format\n   - **Quality criteria:**\n     - Shows before/after code blocks\n     - Copy-paste ready fix\n     - Mentions checking all entries in enabledPlugins\n     - Suggests where to find settings.json\n   - **Haiku pitfall:** Vague \"change the format\" without example\n   - **Weight:** 4\n\n---\n\n## Scenario: Run automated verification\n\n**Difficulty:** Easy\n\n**Query:** Verify my marketplace setup\n\n**Expected behaviors:**\n\n1. Runs verification script\n   - **Minimum:** Attempts to run script\n   - **Quality criteria:**\n     - Runs scripts/verify-marketplace.sh with correct path\n     - Captures output\n     - Reports script results clearly\n   - **Haiku pitfall:** Skips script, does manual check instead\n   - **Weight:** 4\n\n2. Interprets script output\n   - **Minimum:** Shows output\n   - **Quality criteria:**\n     - Parses ✓ and ❌ markers\n     - Summarizes passed vs failed checks\n     - Highlights any failures prominently\n   - **Haiku pitfall:** Dumps raw output without interpretation\n   - **Weight:** 3\n\n3. Provides fixes for failures\n   - **Minimum:** Notes what failed\n   - **Quality criteria:**\n     - For each failure, explains what to fix\n     - References common-errors.md for known issues\n     - Suggests specific file changes\n     - Offers to help implement fixes\n   - **Haiku pitfall:** Just lists failures without fix guidance\n   - **Weight:** 5\n\n---\n\n## Scenario: Detect repository URL mismatch\n\n**Difficulty:** Hard\n\n**Query:** I get \"Plugin not found in marketplace\" error\n\n**Expected behaviors:**\n\n1. Checks git remote URL\n   - **Minimum:** Runs git remote command\n   - **Quality criteria:**\n     - Runs `git remote -v` to get actual URL\n     - Extracts origin URL\n     - Notes if SSH vs HTTPS format\n   - **Haiku pitfall:** Skips git check, makes assumptions\n   - **Weight:** 4\n\n2. Compares URLs across files\n   - **Minimum:** Checks marketplace.json\n   - **Quality criteria:**\n     - Checks marketplace.json URLs if present\n     - Checks README.md for repository references\n     - Checks any installation instructions\n     - Identifies mismatches between files\n   - **Haiku pitfall:** Only checks one file\n   - **Weight:** 5\n\n3. Identifies URL mismatch clearly\n   - **Minimum:** Reports if mismatch found\n   - **Quality criteria:**\n     - Shows exact URLs that don't match\n     - Identifies which file has wrong URL\n     - Explains consequence (plugin not found = wrong URL)\n     - Suggests using actual git remote as source of truth\n   - **Haiku pitfall:** Vague \"URLs might not match\"\n   - **Weight:** 5\n\n4. Provides specific fix\n   - **Minimum:** Suggests fix\n   - **Quality criteria:**\n     - Shows exact text to change in each file\n     - Ensures consistency across all files\n     - Warns about case sensitivity\n     - Recommends verifying after fix\n   - **Haiku pitfall:** General advice without specific changes\n   - **Weight:** 4\n\n---\n\n## Scenario: Handle non-existent marketplace\n\n**Difficulty:** Edge-case\n\n**Query:** Review the marketplace at /nonexistent/path\n\n**Expected behaviors:**\n\n1. Reports path error clearly\n   - **Minimum:** Says not found\n   - **Quality criteria:**\n     - Attempts to read .claude-plugin/marketplace.json\n     - Reports specific error\n     - Does NOT invent configuration to review\n   - **Haiku pitfall:** Reviews imaginary configuration\n   - **Weight:** 5\n\n2. Offers recovery options\n   - **Minimum:** Asks for correct path\n   - **Quality criteria:**\n     - Offers to search for .claude-plugin directories\n     - Suggests common locations\n     - Asks user to verify path\n   - **Haiku pitfall:** Just errors out\n   - **Weight:** 3\n\n3. Does NOT produce fake review\n   - **Minimum:** Waits for valid path\n   - **Quality criteria:**\n     - No compliance scores for non-existent config\n     - No \"issues found\" for non-existent config\n     - Clear: \"Cannot review until valid path provided\"\n   - **Haiku pitfall:** Generates fake review\n   - **Weight:** 5\n",
        "plugins/marketplace-helper/skills/setting-up-devcontainers/README.md": "# setting-up-devcontainers\n\nGenerate devcontainer configurations for Claude Code development environments.\n\n## Features\n\n- **Automatic mode detection**: Detects `marketplace.json` and switches between Generic and Marketplace modes\n- **Generic mode**: Clean Claude Code + optional Codex CLI environment\n- **Marketplace mode**: Full plugin/skill setup with auto-sync capabilities\n\n## Installation\n\nThis skill is part of the `marketplace-helper` plugin. To use it:\n\n1. Add the marketplace to Claude Code:\n   ```bash\n   claude plugin marketplace add <marketplace-url>\n   ```\n\n2. Install the plugin:\n   ```bash\n   claude plugin install marketplace-helper@<marketplace-name>\n   ```\n\n3. Enable the skill in your settings (or approve when prompted).\n\n## Usage\n\n### Generic Mode (no marketplace.json)\n\nAsk Claude to set up a devcontainer for any project:\n\n```\nSet up a devcontainer for this project\n```\n\nThe skill will:\n1. Detect no marketplace.json exists\n2. Ask about Codex CLI support\n3. Generate `.devcontainer/` files for Claude Code environment\n\n### Marketplace Mode (with marketplace.json)\n\nAsk Claude to set up a devcontainer for your marketplace:\n\n```\nSet up a devcontainer for my marketplace\n```\n\nThe skill will:\n1. Read your `.claude-plugin/marketplace.json`\n2. Discover all plugins and skills\n3. Ask about Codex CLI and auto-sync preferences\n4. Generate `.devcontainer/` files with plugin configuration\n\n## Generated Files\n\n**Generic mode**:\n```\n.devcontainer/\n├── devcontainer.json\n├── Dockerfile\n└── post-create.sh\n```\n\n**Marketplace mode** (additional files):\n```\n.devcontainer/\n├── devcontainer.json\n├── Dockerfile\n├── post-create.sh\n├── reinstall-marketplace.sh\n└── sync-codex-skills.sh      # (if Codex enabled)\n```\n\n## File Structure\n\n```\nsetting-up-devcontainers/\n├── SKILL.md              # Main skill instructions\n├── README.md             # This file (human documentation)\n├── templates/            # File templates for generation\n│   ├── devcontainer.json.template\n│   ├── Dockerfile.template\n│   ├── post-create.sh.template\n│   ├── reinstall-marketplace.sh.template\n│   └── sync-codex-skills.sh.template\n├── references/           # Reference documentation\n│   ├── devcontainer-spec.md\n│   ├── claude-code-installation.md\n│   └── codex-cli-installation.md\n└── tests/\n    └── scenarios.md      # Self-evaluation test scenarios\n```\n\n## Templates\n\nThe `templates/` directory contains template files with placeholders.\n\nSee SKILL.md for the complete placeholder reference including:\n- Common placeholders (`{{PROJECT_NAME}}`, `{{CODEX_*}}`)\n- Marketplace-specific placeholders (`{{ENABLED_PLUGINS}}`, `{{SETTINGS_BLOCK}}`)\n\n## Testing\n\nThe `tests/scenarios.md` file contains self-evaluation scenarios for testing this skill across different models (Sonnet, Opus, Haiku).\n\nTo run model evaluation:\n```\n/evaluating-skills-with-models setting-up-devcontainers\n```\n\n## License\n\nApache-2.0\n",
        "plugins/marketplace-helper/skills/setting-up-devcontainers/SKILL.md": "---\nname: setting-up-devcontainers\ndescription: Generate devcontainer configurations for Claude Code development environments. Use when setting up development containers with Claude Code and optional Codex CLI. Automatically detects marketplace.json for plugin marketplace configurations.\nlicense: Apache-2.0\nmetadata:\n  author: Softgraphy GK\n  version: \"0.2.0\"\n---\n\n# Setting Up Devcontainers for Claude Code\n\nGenerate complete `.devcontainer/` configurations for Claude Code development environments with:\n- Pre-installed Claude Code (+ optional Codex CLI built into Docker image)\n- Persistent credentials and config via Docker volumes\n- **Marketplace mode** (if marketplace.json exists): Auto-enabled plugins and skills\n\n## Quick Start\n\n```\nUser: Set up a devcontainer for this project\nAgent: I'll check for marketplace.json and generate the devcontainer configuration.\n```\n\n## Workflow\n\n### Step 1: Detect Mode\n\nCheck for `.claude-plugin/marketplace.json`:\n\n```bash\nls .claude-plugin/marketplace.json\n```\n\n**Mode determination**:\n- **Marketplace mode**: If `marketplace.json` exists → full plugin/skill setup\n- **Generic mode**: If not found → Claude Code environment (+ optional Codex CLI)\n\nFor **Marketplace mode**, extract:\n- `name` - Marketplace name (used for volume naming)\n- `plugins` - Array of plugin definitions\n\nFor **Generic mode**, use:\n- Project directory name for volume naming\n\n### Step 2: Ask About Codex CLI Support (Optional)\n\n**Ask the user explicitly**:\n\n> Do you want to add Codex CLI (OpenAI) support alongside Claude Code?\n>\n> - **Yes**: Adds Volta, Node.js, Codex CLI, and skill sync mechanism\n> - **No** (default): Claude Code only\n\nIf yes:\n- Add Volta/Node.js/Codex CLI installation to Dockerfile (installed at build time)\n- Add `~/.codex/` volume mount for config persistence\n- Add `sync-codex-skills.sh` script (copies skills to `~/.codex/skills/`) [Marketplace mode only]\n- Add Codex sync call to `post-create.sh` [Marketplace mode only]\n\n**Note**: Both Claude Code and Codex CLI are installed at Docker build time for faster container startup.\n\n### Step 3: Discover Plugins and Skills [Marketplace Mode Only]\n\nSkip this step in Generic mode.\n\nFor each plugin in `marketplace.json`:\n\n1. Read `source` path (e.g., `\"./plugins/plugin-name\"`)\n2. Check for `.claude-plugin/plugin.json` in source directory\n3. Find `skills` path from plugin.json or use `./skills/` default\n4. List all SKILL.md files in skills directory\n5. Extract skill names from directory names\n\n**Build two lists**:\n- `enabledPlugins`: `{\"plugin-name@marketplace-name\": true, ...}`\n- `allowedSkills`: `[\"Skill(skill-1)\", \"Skill(skill-2)\", ...]`\n\n### Step 4: Ask About Auto-Sync on Container Start [Marketplace Mode Only]\n\nSkip this step in Generic mode.\n\n**Ask the user explicitly**:\n\n> Do you want to automatically reinstall the marketplace on every container start?\n>\n> - **Yes**: Adds `postStartCommand` to run `reinstall-marketplace.sh` automatically\n> - **No** (recommended for stable development): Run manually when needed\n>\n> Note: This is a workaround for Claude Code not detecting local plugin changes.\n> Running on every start adds ~5-10 seconds delay.\n\n### Step 5: Generate Files from Templates\n\nUse the templates in `templates/` directory, substituting placeholders:\n\n#### Common Placeholders\n\n| Placeholder | Value |\n|-------------|-------|\n| `{{PROJECT_NAME}}` | Marketplace name (if exists) or project directory name |\n| `{{PROJECT_DIR}}` | Project directory name |\n| `{{CODEX_VOLUME_MOUNT}}` | If Codex: `,\\n    \"source=codex-config-{{PROJECT_NAME}},...\"` else: empty |\n| `{{VOLTA_ENV_BLOCK}}` | If Codex: `ENV VOLTA_HOME=... ENV PATH=...` else: empty |\n| `{{CODEX_INSTALL_BLOCK}}` | If Codex: Volta/Codex RUN command, else: empty |\n| `{{CODEX_DIR_LIST}}` | If Codex: ` \"$HOME/.codex\"` else: empty |\n| `{{CODEX_ALIASES}}` | If Codex: Codex alias lines, else: empty |\n| `{{CODEX_ALIAS_ECHO}}` | If Codex: `echo \"  codex-f   - codex --full-auto\"` else: empty |\n| `{{DEVCONTAINER_READY_MESSAGE}}` | \"Claude Code devcontainer ready!\" or \"Claude Code + Codex CLI devcontainer ready!\" |\n\n#### Marketplace Mode Placeholders\n\n| Placeholder | Value |\n|-------------|-------|\n| `{{ENABLED_PLUGINS}}` | Object entries like `\"plugin@market\": true` |\n| `{{ALLOWED_SKILLS}}` | Array entries like `\"Skill(name)\"` |\n| `{{PLUGIN_INSTALL_COMMANDS}}` | Plugin install commands (with `|| true`) |\n| `{{CODEX_SETUP_BLOCK}}` | If Codex **and** Marketplace mode: Codex skill sync in post-create.sh, else: empty |\n| `{{CODEX_SYNC_BLOCK}}` | If Codex: Codex sync in reinstall-marketplace.sh, else: empty |\n| `{{POST_START_COMMAND}}` | If auto-sync: `,\\n  \"postStartCommand\": \"bash .devcontainer/reinstall-marketplace.sh\"` else: empty |\n| `{{SETTINGS_BLOCK}}` | Shell commands to create settings.json with enabledPlugins/allowedSkills |\n| `{{MARKETPLACE_REGISTER_BLOCK}}` | Marketplace registration and plugin install commands |\n| `{{MARKETPLACE_SYNC_HINT}}` | `echo \"To sync marketplace: bash .devcontainer/reinstall-marketplace.sh\"` |\n\n#### Generic Mode Placeholders\n\n| Placeholder | Value |\n|-------------|-------|\n| `{{POST_START_COMMAND}}` | empty (no postStartCommand) |\n| `{{SETTINGS_BLOCK}}` | empty (no plugin settings needed) |\n| `{{MARKETPLACE_REGISTER_BLOCK}}` | empty (no marketplace registration) |\n| `{{CODEX_SETUP_BLOCK}}` | empty (no skill sync needed) |\n| `{{MARKETPLACE_SYNC_HINT}}` | empty |\n\n**Templates**:\n- [devcontainer.json.template](templates/devcontainer.json.template) - Container configuration\n- [Dockerfile.template](templates/Dockerfile.template) - Ubuntu + dependencies\n- [post-create.sh.template](templates/post-create.sh.template) - Initial setup\n- [reinstall-marketplace.sh.template](templates/reinstall-marketplace.sh.template) - Marketplace sync (Marketplace mode only)\n- [sync-codex-skills.sh.template](templates/sync-codex-skills.sh.template) - Codex skill sync (Marketplace mode + Codex only)\n\n**Conditional logic**:\n- **Generic mode**: Omit reinstall-marketplace.sh and sync-codex-skills.sh\n- **If user chose no auto-sync**: Remove `postStartCommand` from devcontainer.json\n- **If user chose no Codex**: Omit Volta/Codex sections\n\n### Step 6: Write Files and Set Permissions\n\n1. Create `.devcontainer/` directory if not exists\n2. Write all generated files (without `.template` suffix)\n3. Make shell scripts executable: `chmod +x .devcontainer/*.sh`\n\n### Step 7: Provide Usage Instructions\n\n**Generic mode**:\n```\nDevcontainer files created in .devcontainer/\n\nTo use:\n1. Open project in VS Code\n2. Click \"Reopen in Container\" when prompted\n   (or use Command Palette: \"Dev Containers: Reopen in Container\")\n3. Run 'claude' on first use to complete initial setup\n\nYour credentials persist in Docker volumes.\n```\n\n**Marketplace mode**:\n```\nDevcontainer files created in .devcontainer/\n\nTo use:\n1. Open project in VS Code\n2. Click \"Reopen in Container\" when prompted\n   (or use Command Palette: \"Dev Containers: Reopen in Container\")\n3. Run 'claude' on first use to complete initial setup\n\nYour credentials persist in Docker volumes.\n\nTo manually sync marketplace changes:\n  bash .devcontainer/reinstall-marketplace.sh\n```\n\n## Generated File Locations\n\n**Generic mode**:\n```\n.devcontainer/\n├── devcontainer.json         # Container configuration\n├── Dockerfile                # Ubuntu + Claude Code (+ Volta/Codex if enabled)\n└── post-create.sh            # Initial setup (config, aliases)\n```\n\n**Marketplace mode**:\n```\n.devcontainer/\n├── devcontainer.json         # Container configuration\n├── Dockerfile                # Ubuntu + Claude Code (+ Volta/Codex if enabled)\n├── post-create.sh            # Initial setup (config, marketplace, Codex sync)\n├── reinstall-marketplace.sh  # Marketplace sync script (+ Codex sync if enabled)\n└── sync-codex-skills.sh      # Codex skill sync (only if Codex enabled)\n```\n\n## Key Configuration Details\n\n### Volume Strategy\n\nUses named Docker volumes plus a symlink for complete persistence:\n\n```\nDocker Image (built once):\n├── ~/.local/bin/claude      # Claude Code binary\n└── ~/.volta/                # Volta + Node.js + Codex CLI (if enabled)\n\nVolume 1: claude-config-${PROJECT_NAME} → ~/.claude/\n├── .home-claude.json        # Setup state (symlink target)\n├── .credentials.json        # Auth tokens\n├── settings.json            # User settings\n└── plugins/                 # Plugin data (Marketplace mode)\n\nVolume 2: claude-data-${PROJECT_NAME} → ~/.local/share/claude/\n└── (Claude Code data)       # Session data, etc.\n\nVolume 3 (if Codex enabled): codex-config-${PROJECT_NAME} → ~/.codex/\n├── config.toml              # Codex CLI configuration\n├── sessions/                # Session data\n└── skills/                  # Synced skills from marketplace (Marketplace mode)\n\nSymlink (created by post-create.sh):\n~/.claude.json → ~/.claude/.home-claude.json\n```\n\n**Why this architecture?**\n\n| Location | Purpose | Persistence Method |\n|----------|---------|-------------------|\n| `~/.local/bin/claude` | Claude Code binary | Docker image (fast startup) |\n| `~/.volta/` | Codex CLI binary | Docker image (fast startup) |\n| `~/.claude/` | Config, credentials, settings | Volume mount |\n| `~/.local/share/claude/` | Claude session data | Volume mount |\n| `~/.claude.json` | Initial setup state | Symlink to volume |\n| `~/.codex/` (optional) | Codex config, sessions, skills | Volume mount |\n\n**Important**: `~/.claude.json` cannot be directly mounted as a volume (Docker creates a directory instead of a file). The symlink approach allows the file to persist inside the `~/.claude/` volume.\n\n### Shell Alias\n\nThe setup creates a persistent alias file in the volume:\n\n- `post-create.sh` creates `~/.claude/.shell-aliases` (persists in volume)\n- `post-create.sh` adds `source` line to `.zshrc` (both modes, with duplicate protection)\n- `reinstall-marketplace.sh` also adds `source` line to `.zshrc` on every start (Marketplace mode only)\n\n```bash\n# ~/.claude/.shell-aliases (persisted)\nalias claude-y='claude --dangerously-skip-permissions'\n\n# If Codex enabled:\nalias codex-f='codex --full-auto'\n```\n\nThis survives container rebuilds because the alias file is stored in the volume.\n\n### Plugin Format [Marketplace Mode Only]\n\n**enabledPlugins** must be object format (not array):\n\n```json\n{\n  \"enabledPlugins\": {\n    \"plugin-a@marketplace\": true,\n    \"plugin-b@marketplace\": true\n  }\n}\n```\n\n### Marketplace Sync (Workaround) [Marketplace Mode Only]\n\n`reinstall-marketplace.sh` is a **workaround** for Claude Code not automatically detecting local plugin/skill changes.\n\n**What it does**:\n- Removes and re-adds the marketplace\n- Reinstalls all enabled plugins\n\n**When to run**:\n- Manually after editing SKILL.md files: `bash .devcontainer/reinstall-marketplace.sh`\n- Or automatically via `postStartCommand` (if user opted in)\n\n## Error Handling\n\n| Error | Cause | Solution |\n|-------|-------|----------|\n| No plugins found | Empty plugins array | Warn user, generate minimal config |\n| Source path invalid | Plugin source doesn't exist | Report error, skip invalid plugins |\n| Existing .devcontainer/ | Files already present | Ask before overwriting |\n| GID/UID 1000 already exists | Ubuntu base image has existing user | Use `getent` to detect and rename existing user |\n| Permission denied on config | Volume owned by root | Use `sudo chown` in post-create.sh |\n| claude: command not found | PATH not set | Export `PATH=\"$HOME/.local/bin:$PATH\"` in scripts |\n| EISDIR on ~/.claude.json | Volume mounted as directory | Remove directory, use symlink instead |\n| JSON Parse error: Unexpected EOF | Empty ~/.claude.json file | Initialize with `{}` not empty file |\n| Raw mode not supported | Plugin commands in non-interactive shell | Only run plugin commands if setup complete |\n| Login required after rebuild | ~/.claude.json not persisted | Symlink to file inside volume |\n\n## References\n\n- [Devcontainer Specification](references/devcontainer-spec.md)\n- [Claude Code Installation](references/claude-code-installation.md)\n- [Codex CLI Installation](references/codex-cli-installation.md)\n",
        "plugins/marketplace-helper/skills/setting-up-devcontainers/references/claude-code-installation.md": "# Claude Code Installation Reference\n\nGuide for installing Claude Code CLI in devcontainers.\n\n## Contents\n\n- [Binary Installation](#binary-installation) - installer script usage\n- [Directory Structure](#directory-structure) - config and binary locations\n- [PATH Configuration](#path-configuration) - environment setup\n- [Authentication](#authentication) - login and persistence\n- [Plugin Commands](#plugin-commands) - marketplace and plugin management\n- [Troubleshooting](#troubleshooting) - common issues\n\n## Binary Installation\n\nRecommended method using official installer:\n\n```bash\ncurl -fsSL https://claude.ai/install.sh | bash\n```\n\n**Binary location**: Always installed to `~/.local/bin/claude`.\n\n**Version options**:\n```bash\n# Stable (default)\ncurl -fsSL https://claude.ai/install.sh | bash\n\n# Latest\ncurl -fsSL https://claude.ai/install.sh | bash -s latest\n\n# Specific version\ncurl -fsSL https://claude.ai/install.sh | bash -s 1.0.58\n```\n\n## Directory Structure\n\nClaude Code uses default paths:\n\n```\n~/.local/bin/\n└── claude                  # Binary\n\n~/.claude/                  # Config directory\n├── .credentials.json       # Auth tokens (after login)\n├── settings.json           # User settings\n└── plugins/                # Plugin data\n\n~/.local/share/claude/      # Data directory\n└── versions/               # Binary versions\n\n~/.claude.json              # Setup state (initial setup completion)\n```\n\n## PATH Configuration\n\nAdd binary to PATH (always `~/.local/bin`):\n\n```bash\nexport PATH=\"$HOME/.local/bin:$PATH\"\n```\n\nIn Dockerfile:\n```dockerfile\nENV PATH=\"/home/vscode/.local/bin:$PATH\"\n```\n\nIn shell scripts (for non-login shells):\n```bash\nexport PATH=\"$HOME/.local/bin:$PATH\"\n```\n\n## Authentication\n\nAfter installation, user must authenticate:\n\n```bash\nclaude login\n```\n\nThis creates `.credentials.json` in `~/.claude/`.\n\n**Persistence**: When using named Docker volumes for `~/.claude/`, credentials persist across container rebuilds.\n\n## Verification\n\nCheck installation:\n\n```bash\nclaude --version\nclaude doctor\n```\n\n## Plugin Commands\n\n```bash\n# Add marketplace\nclaude plugin marketplace add /path/to/marketplace\n\n# Install plugin\nclaude plugin install plugin-name@marketplace\n\n# List installed\nclaude plugin list\n```\n\n## Troubleshooting\n\n| Issue | Solution |\n|-------|----------|\n| `claude: command not found` | Check PATH includes `~/.local/bin` |\n| Permission denied on config | Run `sudo chown -R $(id -u):$(id -g) ~/.claude` |\n| Install fails in container | Ensure curl and ca-certificates installed |\n| Login fails | Check internet access, try `claude doctor` |\n| UID/GID 1000 conflict | Use `getent` to check existing users before creating |\n| EISDIR on ~/.claude.json | Docker mounted as directory; use symlink instead |\n",
        "plugins/marketplace-helper/skills/setting-up-devcontainers/references/codex-cli-installation.md": "# Codex CLI Installation Reference\n\nQuick reference for installing OpenAI Codex CLI in devcontainers.\n\n## Installation via Volta\n\n```dockerfile\n# In Dockerfile ({{VOLTA_ENV_BLOCK}} placeholder)\nENV VOLTA_HOME=\"/home/vscode/.volta\"\nENV PATH=\"$VOLTA_HOME/bin:$PATH\"\n\nUSER $USERNAME\n\n# {{CODEX_INSTALL_BLOCK}} placeholder\nRUN curl -fsSL https://get.volta.sh | bash \\\n    && $VOLTA_HOME/bin/volta install node@22.21 \\\n    && $VOLTA_HOME/bin/volta install @openai/codex\n```\n\n## Directory Structure\n\n```\n~/.codex/\n├── config.toml          # CLI configuration\n├── sessions/            # Session data\n└── skills/              # User skills (copied from marketplace)\n```\n\n## Skills Location\n\nCodex loads skills from these directories (priority order):\n\n1. `.codex/skills` - Repository root\n2. `~/.codex/skills` - User directory (where we sync)\n3. `/etc/codex/skills` - System-wide\n\n## Skill Format\n\n```yaml\n---\nname: skill-name\ndescription: What and when description\nmetadata:\n  short-description: Optional\n---\n\nInstructions for the agent...\n```\n\n## Volume Persistence\n\nMount `~/.codex/` as a named volume to persist:\n- Configuration (`config.toml`)\n- Session data\n- Synced skills\n\n```json\n{\n  \"mounts\": [\n    \"source=codex-config-${NAME},target=/home/vscode/.codex,type=volume\"\n  ]\n}\n```\n\n## Syncing Skills from Marketplace\n\nCodex ignores symlinked directories, so skills must be copied:\n\n```bash\n# sync-codex-skills.sh\nfor skill_path in plugins/*/skills/*/; do\n    [ -f \"$skill_path/SKILL.md\" ] || continue\n    skill_name=$(basename \"$skill_path\")\n    rm -rf \"$CODEX_SKILLS_DIR/$skill_name\"\n    cp -r \"$skill_path\" \"$CODEX_SKILLS_DIR/$skill_name\"\ndone\n```\n\n## Authentication\n\nRun `codex` and select \"Sign in with ChatGPT\" to authenticate.\n\n## Useful Aliases\n\n```bash\nalias codex-f='codex --full-auto'\n```\n\n## References\n\n- [Codex CLI Documentation](https://developers.openai.com/codex/cli)\n- [Codex Skills](https://developers.openai.com/codex/skills/)\n- [Volta](https://volta.sh)\n",
        "plugins/marketplace-helper/skills/setting-up-devcontainers/references/devcontainer-spec.md": "# Devcontainer Specification Reference\n\nQuick reference for devcontainer.json configuration relevant to Claude Code setups.\n\n## Contents\n\n- [Key Fields](#key-fields) - build, mounts, remoteUser\n- [Lifecycle Commands](#lifecycle-commands) - postCreateCommand, postStartCommand\n- [Volume Naming](#volume-naming) - marketplace-specific volumes\n- [Dockerfile Requirements](#dockerfile-requirements) - packages, user creation, PATH\n\n## Key Fields\n\n### build\n\nDefines how to build the container:\n\n```json\n{\n  \"build\": {\n    \"dockerfile\": \"Dockerfile\",\n    \"context\": \".\"\n  }\n}\n```\n\n### mounts\n\nMount volumes or directories:\n\n```json\n{\n  \"mounts\": [\n    \"source=volume-name,target=/path/in/container,type=volume\",\n    \"source=${localWorkspaceFolder},target=/workspaces/project,type=bind\"\n  ]\n}\n```\n\n**Mount types**:\n- `volume` - Named Docker volume (persistent across rebuilds)\n- `bind` - Bind mount from host filesystem\n\n### remoteUser\n\nNon-root user to use:\n\n```json\n{\n  \"remoteUser\": \"vscode\"\n}\n```\n\n### Lifecycle Commands\n\n```json\n{\n  \"postCreateCommand\": \"bash setup.sh\",\n  \"postStartCommand\": \"bash sync.sh\",\n  \"postAttachCommand\": \"echo 'attached'\"\n}\n```\n\n| Command | When | Use Case |\n|---------|------|----------|\n| `postCreateCommand` | After container first created | Install tools, one-time setup |\n| `postStartCommand` | Every container start | Sync files, refresh caches |\n| `postAttachCommand` | When user attaches | User notifications |\n\n## Volume Naming\n\nFor Claude Code, use marketplace-specific volume names:\n\n```\nclaude-config-{marketplace-name}   → ~/.claude\nclaude-data-{marketplace-name}     → ~/.local/share/claude\n```\n\nThis allows multiple marketplaces to have independent credential stores.\n\n## Dockerfile Requirements\n\nRequired packages for Claude Code:\n```dockerfile\nRUN apt-get update && apt-get install -y \\\n    curl git jq ca-certificates sudo zsh python3 ripgrep \\\n    && rm -rf /var/lib/apt/lists/*\n```\n\nUser creation with UID/GID 1000 handling (ubuntu image has existing user):\n```dockerfile\nARG USERNAME=vscode\nARG USER_UID=1000\nARG USER_GID=$USER_UID\nRUN if getent group $USER_GID > /dev/null 2>&1; then \\\n        groupmod -n $USERNAME $(getent group $USER_GID | cut -d: -f1); \\\n    else \\\n        groupadd --gid $USER_GID $USERNAME; \\\n    fi \\\n    && if getent passwd $USER_UID > /dev/null 2>&1; then \\\n        usermod -l $USERNAME -d /home/$USERNAME -m -s /bin/zsh $(getent passwd $USER_UID | cut -d: -f1); \\\n    else \\\n        useradd --uid $USER_UID --gid $USER_GID -m -s /bin/zsh $USERNAME; \\\n    fi \\\n    && echo \"$USERNAME ALL=(ALL) NOPASSWD:ALL\" >> /etc/sudoers.d/$USERNAME \\\n    && chmod 0440 /etc/sudoers.d/$USERNAME\n```\n\nPATH configuration (binary installed to ~/.local/bin):\n```dockerfile\nENV PATH=\"/home/vscode/.local/bin:$PATH\"\n```\n\n## Example: Complete devcontainer.json\n\n```json\n{\n  \"name\": \"my-marketplace-devcontainer\",\n  \"build\": {\n    \"dockerfile\": \"Dockerfile\"\n  },\n  \"mounts\": [\n    \"source=claude-config-my-marketplace,target=/home/vscode/.claude,type=volume\",\n    \"source=claude-data-my-marketplace,target=/home/vscode/.local/share/claude,type=volume\"\n  ],\n  \"remoteUser\": \"vscode\",\n  \"postCreateCommand\": \"bash .devcontainer/post-create.sh\",\n  \"postStartCommand\": \"bash .devcontainer/reinstall-marketplace.sh\"\n}\n```\n",
        "plugins/marketplace-helper/skills/setting-up-devcontainers/tests/scenarios.md": "# Test Scenarios for setting-up-devcontainers\n\n## Contents\n\n- [Generate devcontainer for simple marketplace](#scenario-generate-devcontainer-for-simple-marketplace) (Easy)\n- [Handle marketplace with multiple plugins](#scenario-handle-marketplace-with-multiple-plugins) (Medium)\n- [Handle missing marketplace.json](#scenario-handle-missing-marketplacejson) (Edge-case)\n- [Handle existing .devcontainer directory](#scenario-handle-existing-devcontainer-directory) (Edge-case)\n- [Marketplace with nested plugin directories](#scenario-marketplace-with-nested-plugin-directories) (Hard)\n- [Explain devcontainer architecture](#scenario-explain-devcontainer-architecture) (Easy)\n- [Generate devcontainer with Codex CLI support](#scenario-generate-devcontainer-with-codex-cli-support) (Medium)\n\n---\n\n## Scenario: Generate devcontainer for simple marketplace\n\n**Difficulty:** Easy\n\n**Query:** Set up a devcontainer for my marketplace at this project root.\n\n**Test files:**\n- `.claude-plugin/marketplace.json` with 1 plugin\n\n**Expected behaviors:**\n\n1. Reads marketplace.json correctly\n   - **Minimum:** Reads the file without errors\n   - **Quality criteria:**\n     - Parses JSON and extracts marketplace name\n     - Extracts plugins array with source paths\n     - Handles optional fields gracefully\n   - **Haiku pitfall:** Fails to parse nested structure, reports file not found incorrectly\n   - **Weight:** 4\n\n2. Discovers plugins and skills\n   - **Minimum:** Lists at least one plugin\n   - **Quality criteria:**\n     - Follows source path to plugin directory\n     - Reads plugin.json or checks skills/ directory\n     - Builds complete list of skill names\n     - Handles skills without plugin.json\n   - **Haiku pitfall:** Only reads marketplace.json, misses individual skills\n   - **Weight:** 5\n\n3. Generates valid devcontainer.json\n   - **Minimum:** Creates syntactically valid JSON\n   - **Quality criteria:**\n     - Uses named volumes for ~/.claude and ~/.local/share/claude (NOT host mount)\n     - Includes both postCreateCommand and postStartCommand\n     - Volume name includes marketplace name for uniqueness\n   - **Haiku pitfall:** Uses host mount for ~/.claude, forgets postStartCommand\n   - **Weight:** 5\n\n4. Generates functional Dockerfile\n   - **Minimum:** Creates file with FROM ubuntu:latest\n   - **Quality criteria:**\n     - Installs curl, git, jq, ca-certificates, sudo, zsh\n     - Creates non-root vscode user with zsh as default shell\n     - Handles existing UID/GID 1000 in base image (ubuntu user)\n     - Sets PATH for ~/.local/bin (always)\n     - If Codex enabled: Adds VOLTA_HOME env and extends PATH with $VOLTA_HOME/bin\n     - Configures passwordless sudo for vscode user\n     - Installs Claude Code at build time\n     - If Codex enabled: Installs Volta, Node.js, and Codex CLI via volta install\n   - **Haiku pitfall:** Missing sudo/zsh, hardcodes user creation without checking existing UID, uses npm instead of volta for Codex, sets VOLTA_HOME when Codex not enabled\n   - **Weight:** 4\n\n5. Generates post-create.sh with correct structure\n   - **Minimum:** Creates executable shell script\n   - **Quality criteria:**\n     - Exports PATH with VOLTA_HOME/bin and $HOME/.local/bin\n     - Fixes volume ownership with sudo chown before accessing (including ~/.codex if enabled)\n     - Assumes Claude Code is already available in PATH from the base image (does not attempt to install it)\n     - Generates settings.json with enabledPlugins as OBJECT (not array)\n     - Includes all discovered skills in permissions.allow\n     - Registers marketplace and installs plugins\n     - If Codex enabled: Syncs skills to ~/.codex/skills/ via sync-codex-skills.sh\n   - **Haiku pitfall:** Uses array format for enabledPlugins, missing PATH export, missing sudo chown for volume, forgets Codex skill sync\n   - **Weight:** 5\n\n6. Generates reinstall-marketplace.sh\n   - **Minimum:** Creates script that can be executed\n   - **Quality criteria:**\n     - Exports PATH with VOLTA_HOME/bin and $HOME/.local/bin\n     - Handles --quiet flag\n     - Uses $HOME/.claude for config directory\n     - Properly quotes paths and handles edge cases\n     - If Codex enabled: Also syncs skills to Codex after marketplace reinstall\n   - **Haiku pitfall:** Hardcodes paths, missing PATH export, missing error handling, forgets Codex sync\n   - **Weight:** 3\n\n7. Generates sync-codex-skills.sh (if Codex enabled)\n   - **Minimum:** Creates executable script\n   - **Quality criteria:**\n     - Copies skills from plugins/*/skills/*/ to ~/.codex/skills/\n     - Uses rm -rf and cp -r to ensure fresh copy (Codex ignores symlinks)\n     - Handles --quiet flag\n     - Reports count of synced skills\n   - **Haiku pitfall:** Uses symlinks (Codex ignores them), wrong skill path discovery\n   - **Weight:** 3\n\n**Output validation:**\n- Directory: `.devcontainer/` exists\n- Files: `devcontainer.json`, `Dockerfile`, `post-create.sh`, `reinstall-marketplace.sh`\n- Files (if Codex enabled): `sync-codex-skills.sh`\n- Pattern in devcontainer.json: `\"type\": \"volume\"` (not bind mount)\n- Pattern in devcontainer.json (if Codex): `codex-config-` volume mount\n- Pattern in Dockerfile: `zsh` in apt-get install list\n- Pattern in Dockerfile: `-s /bin/zsh` in useradd/usermod command\n- Pattern in Dockerfile: `getent group` and `getent passwd` for UID/GID handling\n- Pattern in Dockerfile: `sudoers.d` for passwordless sudo\n- Pattern in Dockerfile: `PATH=\"/home/vscode/.local/bin:$PATH\"` (always present)\n- Pattern in Dockerfile (if Codex): `VOLTA_HOME` and extended `PATH` with `$VOLTA_HOME/bin`\n- Pattern in Dockerfile (if Codex): `volta install node` and `volta install @openai/codex`\n- Pattern in post-create.sh: `export VOLTA_HOME` and `export PATH` with both paths\n- Pattern in post-create.sh: `sudo chown` for volume ownership (including ~/.codex)\n- Pattern in post-create.sh: `\"enabledPlugins\": {` (object, not array)\n- Pattern in post-create.sh (if Codex): `sync-codex-skills.sh` call\n- Pattern in reinstall-marketplace.sh: `export VOLTA_HOME` and `export PATH`\n- Pattern in reinstall-marketplace.sh (if Codex): `sync-codex-skills.sh` call\n- Pattern in sync-codex-skills.sh (if Codex): `cp -r` (NOT symlink)\n\n---\n\n## Scenario: Handle marketplace with multiple plugins\n\n**Difficulty:** Medium\n\n**Query:** Create devcontainer for a marketplace with skills-helper, marketplace-helper, and skills-helper-experimental plugins.\n\n**Test files:**\n- `.claude-plugin/marketplace.json` with 3 plugins\n- Each plugin has 2-4 skills\n\n**Expected behaviors:**\n\n1. Enumerates skills from ALL plugins\n   - **Minimum:** Lists skills from at least 2 plugins\n   - **Quality criteria:**\n     - Reads each plugin's source directory\n     - Discovers skills from each plugin's skills/ directory\n     - Handles different plugin structures (skills array vs directory)\n     - No duplicate skills in final list\n   - **Haiku pitfall:** Only processes first plugin, misses skills from later plugins\n   - **Weight:** 5\n\n2. Generates correct enabledPlugins for all plugins\n   - **Minimum:** Includes at least 2 plugins\n   - **Quality criteria:**\n     - Uses format: `\"plugin-name@marketplace-name\": true`\n     - All 3 plugins included\n     - Object format, NOT array\n   - **Haiku pitfall:** Array format, missing plugins, wrong marketplace suffix\n   - **Weight:** 5\n\n3. Generates permissions for all skills\n   - **Minimum:** Includes skills from at least 2 plugins\n   - **Quality criteria:**\n     - Uses format: `\"Skill(skill-name)\"`\n     - All skills from all plugins included\n     - No duplicates\n     - Properly formatted JSON array\n   - **Haiku pitfall:** Missing skills from some plugins, syntax errors\n   - **Weight:** 4\n\n4. Generates plugin install commands\n   - **Minimum:** At least 1 install command\n   - **Quality criteria:**\n     - One command per plugin\n     - Uses correct format: `claude plugin install plugin@marketplace --scope user`\n     - Commands in logical order\n   - **Haiku pitfall:** Wrong install command syntax, missing --scope\n   - **Weight:** 3\n\n**Output validation:**\n- enabledPlugins has exactly 3 entries\n- permissions.allow has all skills from all plugins\n\n---\n\n## Scenario: Handle missing marketplace.json\n\n**Difficulty:** Edge-case\n\n**Query:** Set up devcontainer at /path/that/does/not/exist\n\n**Expected behaviors:**\n\n1. Reports error clearly\n   - **Minimum:** Says file or path not found\n   - **Quality criteria:**\n     - Attempts to read .claude-plugin/marketplace.json\n     - Reports specific path that was checked\n     - Does NOT generate partial/broken devcontainer files\n     - Clear error message for user\n   - **Haiku pitfall:** Generates empty config anyway, unclear error\n   - **Weight:** 5\n\n2. Offers recovery options\n   - **Minimum:** Asks for correct path\n   - **Quality criteria:**\n     - Suggests checking current directory\n     - Offers to search for marketplace.json\n     - Explains what marketplace.json should contain\n   - **Haiku pitfall:** Just errors and stops without guidance\n   - **Weight:** 3\n\n**Output validation:**\n- No .devcontainer/ directory created\n- Error message includes \"marketplace.json\"\n\n---\n\n## Scenario: Handle existing .devcontainer directory\n\n**Difficulty:** Edge-case\n\n**Query:** Generate devcontainer for my marketplace (already has .devcontainer/)\n\n**Expected behaviors:**\n\n1. Detects existing files\n   - **Minimum:** Notices files exist\n   - **Quality criteria:**\n     - Checks for existing .devcontainer/ directory\n     - Lists which files would be overwritten\n     - Does NOT silently overwrite\n   - **Haiku pitfall:** Overwrites without warning\n   - **Weight:** 4\n\n2. Asks before overwriting\n   - **Minimum:** Asks user\n   - **Quality criteria:**\n     - Offers backup option\n     - Shows diff or summary of changes\n     - Respects user's choice\n   - **Haiku pitfall:** Proceeds without confirmation\n   - **Weight:** 4\n\n**Output validation:**\n- User prompted before any writes if files exist\n\n---\n\n## Scenario: Marketplace with nested plugin directories\n\n**Difficulty:** Hard\n\n**Query:** Generate devcontainer for marketplace with plugins at ./plugins/category/plugin-name structure\n\n**Expected behaviors:**\n\n1. Correctly resolves relative paths\n   - **Minimum:** Finds at least one plugin\n   - **Quality criteria:**\n     - Handles source paths like `\"./plugins/helpers/skill-helper\"`\n     - Resolves paths relative to marketplace root\n     - Validates each path exists before proceeding\n   - **Haiku pitfall:** Path resolution errors, wrong base directory\n   - **Weight:** 5\n\n2. Handles deep plugin.json discovery\n   - **Minimum:** Finds at least one plugin.json\n   - **Quality criteria:**\n     - Checks .claude-plugin/plugin.json in each source directory\n     - Falls back to skills/ directory if plugin.json missing\n     - Parses skills path correctly from plugin.json\n   - **Haiku pitfall:** Doesn't check nested .claude-plugin/ directories\n   - **Weight:** 4\n\n3. Generates correct workspace paths\n   - **Minimum:** Creates functional scripts\n   - **Quality criteria:**\n     - Paths in post-create.sh resolve correctly\n     - Paths in reinstall-marketplace.sh work from /workspaces\n     - No hardcoded absolute host paths\n   - **Haiku pitfall:** Mixes host and container paths\n   - **Weight:** 4\n\n**Output validation:**\n- All paths in generated files start with /workspaces or use $WORKSPACE variable\n\n---\n\n## Scenario: Explain devcontainer architecture\n\n**Difficulty:** Easy\n\n**Query:** How does the devcontainer setup work for Claude Code?\n\n**Expected behaviors:**\n\n1. Explains named volume strategy\n   - **Minimum:** Mentions named volumes for persistence\n   - **Quality criteria:**\n     - Explains using named volumes for ~/.claude and ~/.local/share/claude\n     - If Codex enabled: Also explains ~/.codex volume for Codex persistence\n     - Describes what's stored (credentials, settings, plugins config, Codex skills)\n     - Notes Claude binary is installed to ~/.local/bin (not in volume)\n     - Explains volume persistence benefits across container rebuilds\n   - **Haiku pitfall:** Vague explanation, confuses binary location with config, doesn't mention volume persistence\n   - **Weight:** 4\n\n2. Explains startup sequence\n   - **Minimum:** Lists key steps\n   - **Quality criteria:**\n     - Describes postCreateCommand vs postStartCommand difference\n     - Explains when Claude Code is installed\n     - Explains when marketplace is synced\n     - If Codex enabled: Explains skill sync to ~/.codex/skills/\n   - **Haiku pitfall:** Conflates the two commands, incomplete sequence\n   - **Weight:** 3\n\n3. Explains credential persistence\n   - **Minimum:** Mentions credentials persist\n   - **Quality criteria:**\n     - Named volume vs bind mount comparison\n     - Explains why credentials survive container rebuild\n     - Notes user needs to login once (both Claude and Codex if enabled)\n   - **Haiku pitfall:** Doesn't explain why named volume chosen\n   - **Weight:** 3\n\n4. Explains Codex skill sync (if Codex enabled)\n   - **Minimum:** Mentions skills are synced\n   - **Quality criteria:**\n     - Explains why copy instead of symlink (Codex ignores symlinks)\n     - Describes sync-codex-skills.sh purpose\n     - Notes skills need re-sync after editing\n   - **Haiku pitfall:** Suggests symlinks, forgets sync step\n   - **Weight:** 3\n\n**Output validation:**\n- Response mentions: named volume, ~/.claude, postCreateCommand, postStartCommand\n- If Codex: mentions ~/.codex, skill sync, copy (not symlink)\n\n---\n\n## Scenario: Generate devcontainer with Codex CLI support\n\n**Difficulty:** Medium\n\n**Query:** Set up a devcontainer for my marketplace with Codex CLI support enabled.\n\n**Test files:**\n- `.claude-plugin/marketplace.json` with 1-2 plugins\n\n**Expected behaviors:**\n\n1. Asks about Codex CLI support\n   - **Minimum:** Mentions Codex as an option\n   - **Quality criteria:**\n     - Explicitly asks user if they want Codex CLI support\n     - Explains what Codex adds (Volta, Node.js, Codex CLI, skill sync)\n     - Clarifies this is optional\n   - **Haiku pitfall:** Assumes Codex without asking, or forgets to ask\n   - **Weight:** 3\n\n2. Generates Dockerfile with Volta and Codex\n   - **Minimum:** Includes Volta installation\n   - **Quality criteria:**\n     - Sets VOLTA_HOME and PATH environment variables\n     - Uses `volta install node` (not npm/nvm)\n     - Uses `volta install @openai/codex` (not npm i -g)\n     - Installs after USER switch (as vscode user, not root)\n   - **Haiku pitfall:** Uses npm instead of volta, installs as root, missing VOLTA_HOME\n   - **Weight:** 5\n\n3. Generates devcontainer.json with Codex volume\n   - **Minimum:** Includes codex-config volume\n   - **Quality criteria:**\n     - Adds third volume for ~/.codex\n     - Volume name includes marketplace name for uniqueness\n     - Format matches existing claude volumes\n   - **Haiku pitfall:** Forgets Codex volume, wrong mount path\n   - **Weight:** 4\n\n4. Generates sync-codex-skills.sh\n   - **Minimum:** Creates the script\n   - **Quality criteria:**\n     - Uses cp -r (NOT symlinks - Codex ignores them)\n     - Discovers skills from plugins/*/skills/*/\n     - Checks for SKILL.md in each directory\n     - Removes existing target before copy (rm -rf)\n     - Handles --quiet flag\n   - **Haiku pitfall:** Uses symlinks, wrong skill discovery path\n   - **Weight:** 5\n\n5. Updates post-create.sh for Codex\n   - **Minimum:** Includes Codex section\n   - **Quality criteria:**\n     - Adds ~/.codex to chown loop\n     - Calls sync-codex-skills.sh\n     - Adds codex-f alias\n     - Updates completion message to mention Codex\n   - **Haiku pitfall:** Missing chown for ~/.codex, forgets skill sync call\n   - **Weight:** 4\n\n6. Updates reinstall-marketplace.sh for Codex\n   - **Minimum:** Includes Codex sync\n   - **Quality criteria:**\n     - Checks if codex command exists before sync\n     - Calls sync-codex-skills.sh with --quiet flag passthrough\n   - **Haiku pitfall:** Syncs without checking codex exists\n   - **Weight:** 3\n\n**Output validation:**\n- Pattern in Dockerfile: `ENV VOLTA_HOME=\"/home/vscode/.volta\"`\n- Pattern in Dockerfile: `PATH=\"$VOLTA_HOME/bin` (VOLTA_HOME in PATH)\n- Pattern in Dockerfile: `volta install node`\n- Pattern in Dockerfile: `volta install @openai/codex`\n- Pattern in devcontainer.json: `codex-config-`\n- File exists: `sync-codex-skills.sh`\n- Pattern in sync-codex-skills.sh: `cp -r` (NOT `ln -s`)\n- Pattern in post-create.sh: `sync-codex-skills.sh`\n- Pattern in post-create.sh: `codex-f`\n- Pattern in reinstall-marketplace.sh: `command -v codex`\n",
        "plugins/skills-helper-experimental/.claude-plugin/plugin.json": "{\n  \"name\": \"skills-helper-experimental\",\n  \"description\": \"Experimental skills for AI agent skill development, including testing and iteration workflows\",\n  \"version\": \"0.2.0\",\n  \"skills\": \"./skills/\"\n}\n",
        "plugins/skills-helper-experimental/README.md": "# skills-helper-experimental\n\nExperimental skills for AI agent skill development, including testing and iteration workflows.\n\n**Note:** Skills in this plugin are experimental and may change significantly between versions.\n\n## Installation\n\n```bash\n/plugin install skills-helper-experimental@agentic-skills-creator\n```\n\n## Skills\n\n### running-skills-edd-cycle\n\nGuide evaluation-driven development (EDD) process for agent skills.\n\n**Features:**\n- Skill testing workflow setup\n- Evaluation scenario creation\n- Claude A/B feedback loops for validation\n- Development methodology guidance\n\n**Use when:**\n- Setting up skill testing workflows\n- Creating skill evaluation scenarios\n- Establishing feedback loops for skill validation\n- Learning EDD methodology for skills\n",
        "plugins/skills-helper-experimental/skills/running-skills-edd-cycle/SKILL.md": "---\nname: running-skills-edd-cycle\ndescription: Guides evaluation-driven development (EDD) process for agent skills. Use when setting up skill testing workflows, creating skill evaluation scenarios, or establishing Claude A/B feedback loops for skill validation. Provides development methodology, not content guidance.\nlicense: Apache-2.0\nallowed-tools: \"Skill(creating-effective-skills) Skill(improving-skills) Skill(reviewing-skills) Skill(evaluating-skills-with-models)\"\nmetadata:\n  author: Softgraphy GK\n  version: \"0.2.0\"\n---\n\n# Running Skills EDD Cycle\n\nRun evaluation-driven development cycle for agent skills.\n\n## Workflow\n\n### Step 1: Build Evaluations First\n\nCreate evaluations BEFORE writing documentation. This ensures skills solve real problems.\n\n1. Run Claude on representative tasks WITHOUT the skill\n2. Document specific failures or missing context\n3. Create 3+ evaluation scenarios that test these gaps\n\nEvaluation scenarios are saved to `tests/scenarios.md` as the final step of `/creating-effective-skills` workflow.\n\n### Step 2: Establish Baseline\n\nMeasure Claude's performance WITHOUT the skill:\n\n1. Run each evaluation scenario\n2. Record: success/failure, missing context, wrong approaches\n3. This becomes comparison baseline\n\n### Step 3: Write Minimal Instructions\n\nCreate just enough content to address the gaps:\n\n- Start with core workflow only\n- Add detail only when tests fail\n- Avoid over-explaining\n\n**REQUIRED:** Use the Skill tool to invoke `creating-effective-skills` before writing any skill content. This ensures proper naming, description format, and structure from the start.\n\n### Step 4: Evaluate with Multiple Models\n\n> **Note:** This step requires Claude Code CLI. Skip if using Claude.ai.\n\n**REQUIRED:** Use the Skill tool to invoke `evaluating-skills-with-models` with the skill path.\n\nThis will:\n1. Auto-load scenarios from `tests/scenarios.md`\n2. Execute with sub-agents across models (sonnet, opus, haiku)\n3. Evaluate against expected behaviors\n4. Determine recommended model (least capable with full compatibility)\n\n**After evaluation:** Document recommended model in skill's metadata.\n\n**REQUIRED:** Use the Skill tool to invoke `improving-skills` when observations reveal issues.\n\n### Step 5: Final Review\n\nBefore considering the skill complete:\n\n**REQUIRED:** Use the Skill tool to invoke `reviewing-skills` to verify compliance with best practices.\n\n1. Address all compliance issues identified\n2. Re-run evaluations after fixes\n3. Repeat until skill passes review\n\n### Step 6: User Validation Guide\n\nAfter all reviews pass, output instructions for user to validate in a fresh session:\n\n```\n## Test Your Skill\n\nRun this command in a new terminal to test with a fresh Claude session:\n\nclaude --model {recommended_model} \"{evaluation_query}\"\n\nAfter testing, paste the output file or result back to this session for final confirmation.\n```\n\nReplace:\n- `{recommended_model}`: Model determined in Step 4 (e.g., `sonnet`)\n- `{evaluation_query}`: A representative query from your evaluations\n\n## Quick Reference\n\n### Cycle\n\n```\nIdentify gaps -> Create evaluations -> Baseline -> Write minimal -> Model eval (sub-agents) -> Review -> User validation\n```\n\n### What Observations Indicate\n\n| Observation | Indicates |\n|-------------|-----------|\n| Unexpected file reading order | Structure not intuitive |\n| Missed references | Links need to be explicit |\n| Repeated reads of same file | Move content to SKILL.md |\n| Never accessed file | Unnecessary or poorly signaled |\n",
        "plugins/skills-helper-experimental/skills/running-skills-edd-cycle/tests/scenarios.md": "# Test Scenarios for running-skills-edd-cycle\n\n## Scenario: Start EDD cycle for new skill\n\n**Difficulty:** Medium\n\n**Query:** I want to create a skill for API testing. Guide me through the EDD process.\n\n**Expected behaviors:**\n\n1. Explains evaluation-first approach\n   - **Minimum:** Mentions building evaluations first\n   - **Quality criteria:**\n     - Explicitly states: evaluations BEFORE documentation\n     - Explains WHY (identify gaps Claude has without skill)\n     - References Step 1 of the workflow\n     - Contrasts with documentation-first approach\n   - **Haiku pitfall:** Jumps to /creating-effective-skills without evaluation discussion\n   - **Weight:** 5\n\n2. Guides baseline testing\n   - **Minimum:** Asks user to test without skill\n   - **Quality criteria:**\n     - Asks user to run Claude on API testing tasks WITHOUT skill\n     - Suggests specific example tasks to try\n     - Asks to document failures/gaps observed\n     - Explains this becomes comparison baseline\n   - **Haiku pitfall:** Skips baseline, goes straight to skill creation\n   - **Weight:** 5\n\n3. Helps create evaluation scenarios\n   - **Minimum:** Mentions creating scenarios\n   - **Quality criteria:**\n     - Guides creation of 3+ scenarios\n     - Uses new format (Difficulty, Quality criteria, Weight)\n     - Scenarios cover: happy path, edge case, error handling\n     - Scenarios are specific to API testing domain\n   - **Haiku pitfall:** Creates only 1-2 vague scenarios in old format\n   - **Weight:** 4\n\n4. Triggers /creating-effective-skills\n   - **Minimum:** Mentions using creating skill\n   - **Quality criteria:**\n     - Explicitly invokes /creating-effective-skills\n     - Passes context about API testing requirements\n     - Ensures tests/scenarios.md is created with skill\n     - Notes this is Step 3 (after evaluations established)\n   - **Haiku pitfall:** Creates skill manually without invoking proper skill\n   - **Weight:** 4\n\n---\n\n## Scenario: Run model evaluation step\n\n**Difficulty:** Medium\n\n**Query:** I've written my skill. Now test it across models.\n\n**Expected behaviors:**\n\n1. Verifies tests/scenarios.md exists\n   - **Minimum:** Checks for file\n   - **Quality criteria:**\n     - Reads tests/scenarios.md\n     - Verifies it uses new format (Difficulty, Quality criteria, Weight)\n     - If old format: asks user to update first\n     - Reports scenario count\n   - **Haiku pitfall:** Proceeds without checking format\n   - **Weight:** 4\n\n2. Triggers /evaluating-skills-with-models correctly\n   - **Minimum:** Invokes the skill\n   - **Quality criteria:**\n     - Explicitly invokes /evaluating-skills-with-models with skill path\n     - Waits for sub-agent results\n     - Does not attempt manual evaluation\n     - Notes this is Step 4\n   - **Haiku pitfall:** Does manual model comparison instead of using skill\n   - **Weight:** 5\n\n3. Interprets evaluation results\n   - **Minimum:** Reports results\n   - **Quality criteria:**\n     - Shows scores by model\n     - Identifies recommended model\n     - If scores < 75: suggests /improving-skills before continuing\n     - Notes specific quality differences between models\n   - **Haiku pitfall:** Just passes through results without interpretation\n   - **Weight:** 4\n\n4. Suggests documenting recommended model\n   - **Minimum:** Mentions model choice\n   - **Quality criteria:**\n     - Recommends adding `model: [recommended]` to skill metadata\n     - Explains cost/capability trade-offs\n     - Notes this is optional but useful for automation\n   - **Haiku pitfall:** Doesn't mention documenting model choice\n   - **Weight:** 2\n\n---\n\n## Scenario: Complete EDD cycle with issues found\n\n**Difficulty:** Hard\n\n**Query:** Run the full EDD cycle on my skill at ./skills/data-export/\n\n**Expected behaviors:**\n\n1. Loads and validates test scenarios\n   - **Minimum:** Reads scenarios\n   - **Quality criteria:**\n     - Reads tests/scenarios.md\n     - Validates new format with Difficulty, Quality criteria\n     - Reports which scenarios will be tested\n     - If missing/invalid: stops and requests proper scenarios\n   - **Haiku pitfall:** Proceeds with invalid scenarios\n   - **Weight:** 4\n\n2. Runs /evaluating-skills-with-models\n   - **Minimum:** Invokes evaluation\n   - **Quality criteria:**\n     - Explicitly invokes /evaluating-skills-with-models\n     - Passes correct skill path\n     - Waits for complete results\n     - Captures scores for all models\n   - **Haiku pitfall:** Partial evaluation, or manual attempt\n   - **Weight:** 5\n\n3. Handles evaluation failures correctly\n   - **Minimum:** Notes if issues found\n   - **Quality criteria:**\n     - If haiku/sonnet fails: triggers /improving-skills\n     - Passes specific failure observations to improvement skill\n     - Waits for improvements before re-evaluating\n     - Iterates until threshold met or gives up\n   - **Haiku pitfall:** Ignores failures, proceeds to final review\n   - **Weight:** 5\n\n4. Runs /reviewing-skills for final check\n   - **Minimum:** Invokes review\n   - **Quality criteria:**\n     - After evaluation passes, runs /reviewing-skills\n     - Verifies compliance with best practices\n     - Addresses any Critical issues before completing\n     - Notes this is Step 5\n   - **Haiku pitfall:** Skips final review\n   - **Weight:** 4\n\n5. Outputs user validation guide\n   - **Minimum:** Provides test instructions\n   - **Quality criteria:**\n     - Shows exact command to run in fresh session\n     - Uses recommended model in command\n     - Includes realistic test query\n     - Asks user to paste results back for confirmation\n   - **Haiku pitfall:** Generic \"test it yourself\" without specific command\n   - **Weight:** 3\n\n---\n\n## Scenario: Handle skill without evaluation scenarios\n\n**Difficulty:** Edge-case\n\n**Query:** Run EDD on my skill at ./skills/no-tests/\n\n**Expected behaviors:**\n\n1. Detects missing tests/scenarios.md\n   - **Minimum:** Reports not found\n   - **Quality criteria:**\n     - Attempts to read tests/scenarios.md\n     - Reports clearly: \"No test scenarios found\"\n     - Explains this is REQUIRED for EDD cycle\n     - Does NOT proceed with fake scenarios\n   - **Haiku pitfall:** Makes up scenarios to continue\n   - **Weight:** 5\n\n2. Offers to help create scenarios\n   - **Minimum:** Asks user to create scenarios\n   - **Quality criteria:**\n     - Offers to help create scenarios.md\n     - Asks user about skill functionality to derive scenarios\n     - Shows example scenario format (new format)\n     - Links to evaluation-structure.md reference\n   - **Haiku pitfall:** Just errors out without guidance\n   - **Weight:** 4\n\n3. Blocks EDD until scenarios exist\n   - **Minimum:** Waits for scenarios\n   - **Quality criteria:**\n     - Does NOT run /evaluating-skills-with-models\n     - Does NOT produce evaluation results\n     - Clear: \"Cannot run EDD cycle without test scenarios\"\n     - Offers to resume once scenarios are created\n   - **Haiku pitfall:** Produces fake EDD results\n   - **Weight:** 5\n\n---\n\n## Scenario: Explain EDD philosophy\n\n**Difficulty:** Easy\n\n**Query:** What is evaluation-driven development for skills?\n\n**Expected behaviors:**\n\n1. Explains core philosophy\n   - **Minimum:** Describes EDD concept\n   - **Quality criteria:**\n     - Contrasts with documentation-first approach\n     - Explains: write tests BEFORE implementation\n     - Cites benefits: identifies gaps, measures improvement\n     - References Claude's current knowledge as baseline\n   - **Haiku pitfall:** Just describes the workflow steps without philosophy\n   - **Weight:** 4\n\n2. Outlines 6-step workflow\n   - **Minimum:** Lists steps\n   - **Quality criteria:**\n     - Lists all 6 steps in correct order\n     - Explains purpose of each step\n     - Notes which steps invoke other skills\n     - Emphasizes iteration (evaluation → improvement → re-evaluation)\n   - **Haiku pitfall:** Incomplete step list, wrong order\n   - **Weight:** 3\n\n3. Recommends when to use EDD\n   - **Minimum:** Gives some guidance\n   - **Quality criteria:**\n     - Best for: complex skills requiring judgment\n     - Overkill for: simple single-purpose skills\n     - Essential when: multi-model compatibility needed\n     - Mentions /creating-effective-skills as alternative for simple cases\n   - **Haiku pitfall:** \"Always use EDD\" without nuance\n   - **Weight:** 3\n",
        "plugins/skills-helper/.claude-plugin/plugin.json": "{\n  \"name\": \"skills-helper\",\n  \"description\": \"Skills for creating, reviewing, and improving effective AI agent skills following Claude's official best practices\",\n  \"version\": \"0.2.0\",\n  \"skills\": \"./skills/\"\n}\n",
        "plugins/skills-helper/README.md": "# skills-helper\n\nSkills for creating, reviewing, and improving effective AI agent skills following Claude's official best practices.\n\n## Installation\n\n```bash\n/plugin install skills-helper@agentic-skills-creator\n```\n\n## Skills\n\n### creating-effective-skills\n\nGuide for creating high-quality agent skills that follow Claude's official best practices.\n\n**Features:**\n- Naming conventions (gerund form)\n- Progressive disclosure patterns\n- Description writing guidelines\n- Degrees of freedom determination\n- File organization best practices\n- 9-step workflow for skill creation\n\n**Use when:**\n- Designing new agent skills\n- Implementing skill architecture\n- Improving existing skills\n- Learning skill development best practices\n\n### evaluating-skills-with-models\n\nEvaluate skills by executing them across multiple Claude models (sonnet, opus, haiku).\n\n**Features:**\n- Multi-model testing with sub-agents\n- Numeric scoring (0-100) for model comparison\n- Model capability differentiation\n- Cost-optimized model selection guidance\n\n**Use when:**\n- Testing if a skill works correctly across models\n- Comparing model performance on specific skills\n- Finding the cheapest compatible model for a skill\n- Validating skill robustness\n\n### improving-skills\n\nImprove existing agent skills based on user feedback and best practices.\n\n**Features:**\n- User feedback gathering workflow\n- Technical analysis against best practices\n- Improvement plan presentation\n- Implementation with diff summary\n\n**Use when:**\n- Fixing issues in existing skills\n- Enhancing skill functionality\n- Refactoring skill structure\n- Addressing user-reported problems\n\n### reviewing-skills\n\nComprehensive review of agent skills against Claude's official best practices.\n\n**Features:**\n- Compliance checks (naming, description, size, structure)\n- Progressive disclosure verification\n- Content quality assessment\n- Anti-pattern detection\n- Detailed feedback with priorities\n- Actionable improvement suggestions\n\n**Use when:**\n- Analyzing existing skills\n- Verifying compliance with best practices\n- Getting feedback before publishing\n- Quality assurance for skill development\n",
        "plugins/skills-helper/skills/creating-effective-skills/README.md": "# Creating Effective Skills\n\nGuide for creating agent skills following Claude's official best practices.\n\n## Required Permissions\n\nTo enable this skill, add to `.claude/settings.json`:\n\n```json\n{\n  \"permissions\": {\n    \"allow\": [\n      \"Skill(creating-effective-skills)\"\n    ]\n  }\n}\n```\n\nThis skill provides guidance and doesn't require additional Bash permissions. However, if your created skills use scripts, add their specific permissions following the examples in SKILL.md Step 7.\n\n## Usage\n\nThis skill helps you create high-quality agent skills by providing:\n- 8-step workflow for skill creation\n- Progressive disclosure patterns\n- Degrees of freedom guidance\n- Workflows and validation patterns\n\nTrigger this skill when:\n- Designing new agent skills\n- Improving existing skills\n- Learning about naming conventions and description writing\n- Understanding appropriate freedom levels\n\n## Documentation\n\n- **SKILL.md**: Main instructions for Claude\n- **references/progressive-disclosure.md**: Detailed patterns for organizing content\n- **references/degrees-of-freedom.md**: Guidance on freedom levels\n- **references/workflows-and-validation.md**: Creating workflows with validation\n\n## Learn More\n\nFor complete guidance, see the official Claude documentation:\n- [Agent Skills Overview](https://docs.anthropic.com/en/docs/agents-and-tools/agent-skills/overview)\n- [Best Practices](https://docs.anthropic.com/en/docs/agents-and-tools/agent-skills/best-practices)\n",
        "plugins/skills-helper/skills/creating-effective-skills/SKILL.md": "---\nname: creating-effective-skills\ndescription: Creating high-quality agent skills following Claude's official best practices. Use when designing, implementing, or improving agent skills, including naming conventions, progressive disclosure patterns, description writing, and appropriate freedom levels. Helps ensure skills are concise, well-structured, and optimized for context efficiency.\nlicense: Apache-2.0\nmetadata:\n  author: Softgraphy GK\n  version: \"0.2.1\"\n---\n\n# Creating Effective Skills\n\nGuide for creating agent skills that follow Claude's official best practices.\n\n## Core Principles\n\n**Concise is Key**: The context window is shared. Only add what Claude doesn't already know. Default assumption: Claude is already very smart.\n\n**Progressive Disclosure**: Skills load in three levels:\n1. Metadata (~100 tokens) - always loaded\n2. SKILL.md body (<5k tokens) - when triggered\n3. Bundled resources - as needed\n\n**Keep SKILL.md small**: Target ~200 lines, maximum 500 lines. Move detailed content to reference files aggressively.\n\n**Single Responsibility**: Each skill does one thing well.\n\n## Workflow\n\n### Step 1: Understand the Skill Need\n\nAsk the user to clarify (adapt questions to context):\n\n**For clear requests** (e.g., \"format markdown tables\"):\n- \"What input formats should be supported?\"\n- \"What output preferences do you have?\"\n- \"What edge cases should be handled?\"\n\n**For ambiguous requests** (e.g., \"handle data\", \"help with files\"):\n- \"What KIND of data/files?\" (format, source, structure)\n- \"What OPERATIONS?\" (transform, validate, migrate, analyze)\n- \"What's the specific problem to solve?\"\n- Ask at least 3 specific questions before proceeding\n\n**Red flags requiring extra clarification:**\n- Vague verbs: \"handle\", \"process\", \"manage\", \"help with\"\n- Broad nouns: \"data\", \"files\", \"documents\" without specifics\n\nGet clear sense of: purpose, usage examples, triggers, AND scope boundaries.\n\n### Step 2: Validate Scope\n\nBefore proceeding, verify the skill follows **Single Responsibility**:\n\n**Check naming:**\n- ❌ `handling-data` - too broad, what data? what handling?\n- ❌ `data-helper` - generic, unclear purpose\n- ✅ `transforming-csv-data` - specific operation + data type\n- ✅ `validating-json-schemas` - clear single purpose\n\n**Check boundaries:**\n- Can you clearly state what's IN scope vs OUT of scope?\n- If boundaries are unclear, scope is too broad → ask user to narrow\n\n**If scope is too broad:**\n1. Propose a focused alternative (e.g., \"handling data\" → \"transforming-csv-data\")\n2. Explain what's excluded and why\n3. Suggest splitting into multiple skills if needed\n\n**Do NOT proceed to file creation until scope is validated.**\n\n### Step 3: Determine Freedom Level\n\nFreedom level controls how much latitude Claude has when following the skill:\n\n- **High**: Multiple valid approaches, context-dependent decisions\n- **Medium**: Preferred pattern exists, some variation acceptable\n- **Low**: Fragile operations, consistency critical\n\n**Unless clearly LOW freedom**: Read [references/degrees-of-freedom.md](references/degrees-of-freedom.md) and apply the decision framework. Cite the factors (fragility, context-dependency, consistency, error impact) in your justification.\n\nIf uncertain after reading the reference, ask the user.\n\n### Step 4: Plan Reusable Contents\n\nIdentify what to include:\n\n**Scripts** (`scripts/`): Executable code for deterministic operations\n**References** (`references/`): Documentation loaded as needed\n**Assets** (`assets/`): Files used in output (templates, images, fonts)\n\n### Step 5: Create Structure\n\n```\nskill-name/\n├── SKILL.md (required - AI agent instructions)\n├── README.md (optional - human-facing installation and usage guide)\n├── references/ (optional)\n├── tests/\n│   └── scenarios.md (optional - self-evaluation scenarios)\n├── scripts/ (optional)\n└── assets/ (optional)\n```\n\n**README.md vs SKILL.md**:\n- **SKILL.md**: Instructions for Claude (workflows, patterns, technical details)\n- **README.md**: Instructions for humans (installation, permissions, overview)\n\n**README.md, if present, should include**:\n- Overview of what the skill does\n- File structure explanation (especially `tests/scenarios.md` purpose)\n- Installation instructions and required permissions\n\n**Avoid creating**: INSTALLATION_GUIDE.md, CHANGELOG.md, or other redundant docs. Use README.md for human-facing documentation.\n\n### Step 6: Write SKILL.md\n\n#### Frontmatter\n\n```yaml\n---\nname: skill-name\ndescription: What the skill does and when to use it\n---\n```\n\n**Naming** (use gerund form):\n- Good: `processing-pdfs`, `analyzing-spreadsheets`, `managing-databases`\n- Avoid: `helper`, `utils`, `tools`, `anthropic-*`, `claude-*`\n\n**Description** (third person, include WHAT and WHEN):\n- Good: \"Extract text and tables from PDF files, fill forms, merge documents. Use when working with PDF files or when the user mentions PDFs, forms, or document extraction.\"\n- Avoid: \"Helps with documents\", \"Processes data\"\n\nBe specific and include key terms. Description is the primary triggering mechanism.\n\n#### Body\n\nUse imperative form. Keep small (target ~200 lines, max 500). Include only:\n- Quick start / basic usage\n- Core workflows\n- References to additional files\n\nFor complex multi-step processes, see [references/workflows-and-validation.md](references/workflows-and-validation.md).\n\nExample pattern:\n```markdown\n## Quick start\n[Basic usage]\n\n## Advanced features\n**Feature A**: See [references/feature-a.md](references/feature-a.md)\n**Feature B**: See [references/feature-b.md](references/feature-b.md)\n```\n\nKeep references one level deep. See [references/progressive-disclosure.md](references/progressive-disclosure.md) for patterns.\n\n### Step 7: Create Reference Files\n\nFor files >100 lines, include table of contents at top.\n\nOrganize by domain when appropriate:\n```\nskill/\n├── SKILL.md\n└── references/\n    ├── domain_a.md\n    └── domain_b.md\n```\n\nAvoid: deeply nested references, duplicate information, generic file names.\n\n### Step 8: Create Test Scenarios (Optional)\n\n**Ask the user**: \"Would you like to create test scenarios for this skill? Test scenarios enable automated evaluation with `/evaluating-skills-with-models` to measure skill quality across different models (sonnet, opus, haiku).\"\n\nIf the user agrees, create `tests/scenarios.md` for self-evaluation:\n\n```markdown\n## Scenario: [Name]\n\n**Difficulty:** Easy | Medium | Hard | Edge-case\n\n**Query:** User request that triggers this skill\n\n**Expected behaviors:**\n\n1. [Action description]\n   - **Minimum:** What counts as \"did it\"\n   - **Quality criteria:** What \"did it well\" looks like\n   - **Haiku pitfall:** Common failure mode for smaller models\n   - **Weight:** 1-5 (importance)\n\n**Output validation:** (optional)\n- Pattern: `regex`\n- Line count: `< N`\n```\n\n**Why this format**: Binary pass/fail doesn't differentiate models. Quality-based scoring reveals capability differences.\n\n### Step 9: Define allowed-tools\n\nAfter completing SKILL.md and references, identify which tools the skill uses:\n\n1. Review SKILL.md and reference files for tool usage\n2. List tools that need pre-approval (e.g., `Bash(git status:*)`, `WebSearch`, `Skill(other-skill)`)\n3. Add `allowed-tools` field to frontmatter if needed\n\n```yaml\n---\nname: skill-name\ndescription: ...\nallowed-tools: \"Bash(git status:*) Bash(git diff:*) WebSearch\"\n---\n```\n\nThis field is experimental but helps agents pre-approve tool access.\n\n**Important considerations**:\n- `Read`, `Glob` are already allowed by default - do not include\n- `Edit`, `Write` are destructive - do not pre-approve\n- Be as specific as possible with Bash subcommands\n  - Good: `Bash(git status:*) Bash(git diff:*) Bash(git log:*)`\n  - Avoid: `Bash(git:*)` (too broad, includes destructive operations like `git push --force`)\n\n## Anti-Patterns\n\n❌ Windows-style paths (`scripts\\file.py`)\n❌ Too many options without a default\n❌ Time-sensitive information\n❌ Inconsistent terminology\n❌ Deeply nested references\n❌ Vague instructions\n\n## References\n\n**Progressive Disclosure**: [references/progressive-disclosure.md](references/progressive-disclosure.md) - Detailed patterns and examples\n\n**Degrees of Freedom**: [references/degrees-of-freedom.md](references/degrees-of-freedom.md) - Guidance on appropriate freedom levels\n\n**Workflows and Validation**: [references/workflows-and-validation.md](references/workflows-and-validation.md) - Creating workflows with validation and feedback loops\n",
        "plugins/skills-helper/skills/creating-effective-skills/references/degrees-of-freedom.md": "# Degrees of Freedom\n\nComprehensive guide on determining and implementing appropriate freedom levels for agent skills.\n\n## Table of Contents\n\n- Understanding Degrees of Freedom\n- The Three Freedom Levels\n- Decision Framework\n- Implementation Patterns\n- Examples by Domain\n- Common Mistakes\n\n## Understanding Degrees of Freedom\n\nThe \"degree of freedom\" in a skill refers to how much latitude Claude has when following the skill's instructions. It's about balancing:\n\n- **Flexibility**: Claude's ability to adapt to context and edge cases\n- **Reliability**: Consistency and predictability of outputs\n- **Fragility**: How sensitive the task is to variation\n\nThink of it as choosing between:\n- A detailed recipe (low freedom)\n- Cooking guidelines (medium freedom)\n- \"Make something delicious with these ingredients\" (high freedom)\n\n## The Three Freedom Levels\n\n### High Freedom (Text-Based Instructions)\n\n**When to use**:\n- Multiple approaches are valid\n- Decisions depend on context\n- Heuristics guide the approach\n- Creativity and judgment are valuable\n\n**Characteristics**:\n- Text-based procedural instructions\n- Workflow guidance\n- Decision points described in natural language\n- Claude chooses implementation details\n\n**Analogy**: Open field with no hazards. Many paths lead to success.\n\n**Example tasks**:\n- Code review\n- Content writing\n- Design feedback\n- Exploratory data analysis\n\n**Implementation**:\n```markdown\n## Code Review Process\n\n1. Analyze the code structure and organization\n2. Check for potential bugs or edge cases\n3. Suggest improvements for readability and maintainability\n4. Verify adherence to project conventions\n5. Provide constructive feedback with specific examples\n```\n\n### Medium Freedom (Pseudocode/Scripts with Parameters)\n\n**When to use**:\n- Preferred pattern exists but isn't the only option\n- Some variation is acceptable or necessary\n- Configuration affects behavior\n- Balance between flexibility and consistency needed\n\n**Characteristics**:\n- Template or pseudocode provided\n- Parameters customize behavior\n- Structure is recommended but adaptable\n- Claude can adjust details\n\n**Analogy**: Marked trail with some route options. Clear path but room to navigate.\n\n**Example tasks**:\n- Report generation\n- Data transformation pipelines\n- API integration\n- Document formatting\n\n**Implementation**:\n````markdown\n## Generate Report\n\nUse this template and customize as needed:\n\n```python\ndef generate_report(data, format=\"markdown\", include_charts=True):\n    # Process data\n    summary = analyze_data(data)\n\n    # Generate output in specified format\n    if format == \"markdown\":\n        output = create_markdown_report(summary)\n    elif format == \"html\":\n        output = create_html_report(summary)\n\n    # Optionally include visualizations\n    if include_charts:\n        charts = generate_charts(summary)\n        output = embed_charts(output, charts)\n\n    return output\n```\n\nAdjust formatting and content based on the specific use case.\n````\n\n### Low Freedom (Specific Scripts, Few Parameters)\n\n**When to use**:\n- Operations are fragile and error-prone\n- Consistency is critical\n- Specific sequence must be followed\n- Small deviations cause failures\n\n**Characteristics**:\n- Exact scripts or commands provided\n- Few or no parameters\n- Strict sequence enforcement\n- Minimal room for interpretation\n\n**Analogy**: Narrow bridge with cliffs on both sides. Only one safe way forward.\n\n**Example tasks**:\n- Database migrations\n- Deployment procedures\n- System configuration\n- Data integrity operations\n\n**Implementation**:\n````markdown\n## Database Migration\n\nRun exactly this script:\n\n```bash\npython scripts/migrate.py --verify --backup\n```\n\n**IMPORTANT**:\n- Do not modify the command\n- Do not add additional flags\n- Run verification before migration\n- Backup is mandatory\n\nIf migration fails, see [references/migration-recovery.md](references/migration-recovery.md).\n````\n\n## Decision Framework\n\nUse this framework to determine appropriate freedom level:\n\n### Step 1: Assess Task Fragility\n\n**Ask**:\n- What happens if the approach varies slightly?\n- Can mistakes be easily recovered?\n- Is there one correct answer or multiple valid solutions?\n\n**High fragility** → Lower freedom\n**Low fragility** → Higher freedom\n\n### Step 2: Evaluate Context Dependency\n\n**Ask**:\n- Does the optimal approach depend on the specific situation?\n- Are there edge cases requiring judgment?\n- Is domain expertise needed to choose the right path?\n\n**High context dependency** → Higher freedom\n**Low context dependency** → Lower freedom\n\n### Step 3: Consider Consistency Requirements\n\n**Ask**:\n- Must outputs be identical for identical inputs?\n- Are users expecting standardized results?\n- Is reproducibility critical?\n\n**High consistency needs** → Lower freedom\n**Low consistency needs** → Higher freedom\n\n### Step 4: Analyze Error Impact\n\n**Ask**:\n- What's the cost of errors?\n- Can errors be detected and fixed easily?\n- Are mistakes catastrophic or minor?\n\n**High error impact** → Lower freedom\n**Low error impact** → Higher freedom\n\n### Decision Matrix\n\n| Fragility | Context Dependency | Consistency Needs | Error Impact | Recommended Freedom |\n|-----------|-------------------|-------------------|--------------|---------------------|\n| High | Low | High | High | **Low** |\n| Medium | Medium | Medium | Medium | **Medium** |\n| Low | High | Low | Low | **High** |\n| High | High | Medium | Medium | **Medium** (with guardrails) |\n| Low | Low | High | Low | **Low to Medium** |\n\n### Step 5: Validate with Examples\n\nTest your decision with concrete examples:\n\n1. Think of 3-5 real usage scenarios\n2. For each, consider what could go wrong with the chosen freedom level\n3. If problems arise frequently, adjust freedom level\n4. If the level feels constraining for valid use cases, increase freedom\n\n## Implementation Patterns\n\n### Pattern 1: High Freedom with Heuristics\n\n**Structure**:\n```markdown\n## Task Process\n\n1. [Step with decision point]\n2. [Step requiring judgment]\n3. [Step with multiple valid approaches]\n\n**Guiding principles**:\n- Principle 1\n- Principle 2\n\n**Common patterns**:\n- Pattern A: [when to use]\n- Pattern B: [when to use]\n```\n\n**Example**:\n```markdown\n## Code Review\n\n1. Read the entire change to understand context\n2. Identify issues by priority (critical bugs, then improvements)\n3. Provide feedback with specific examples\n\n**Guiding principles**:\n- Focus on correctness first, style second\n- Be constructive and specific\n- Suggest alternatives, don't just criticize\n\n**Common patterns**:\n- Security issues: Always flag immediately\n- Performance: Flag if significant impact\n- Style: Suggest if violates project standards\n```\n\n### Pattern 2: Medium Freedom with Templates\n\n**Structure**:\n````markdown\n## Task Template\n\nUse this as a starting point:\n\n```\n[Template with parameters]\n```\n\n**Customization points**:\n- [What can be adjusted]\n- [What should remain fixed]\n\n**When to deviate**: [Conditions for going off-template]\n````\n\n**Example**:\n````markdown\n## API Integration\n\nUse this pattern:\n\n```python\ndef integrate_api(endpoint, auth_method=\"token\", timeout=30):\n    # Setup authentication\n    auth = setup_auth(auth_method)\n\n    # Make request with retry\n    response = make_request_with_retry(\n        endpoint,\n        auth=auth,\n        timeout=timeout,\n        max_retries=3\n    )\n\n    # Validate and return\n    validate_response(response)\n    return response.json()\n```\n\n**Customization points**:\n- Auth method: Choose based on API requirements\n- Timeout: Adjust for slow endpoints\n- Retry count: Increase for unreliable connections\n\n**When to deviate**: Use async pattern for batch operations\n````\n\n### Pattern 3: Low Freedom with Strict Scripts\n\n**Structure**:\n````markdown\n## Exact Procedure\n\nRun this command exactly:\n\n```bash\n[Exact command]\n```\n\n**CRITICAL**:\n- [What must not be changed]\n- [What must be verified first]\n\n**If errors occur**: [Recovery procedure or reference]\n````\n\n**Example**:\n````markdown\n## Production Deployment\n\nRun exactly this sequence:\n\n```bash\n# Verify current state\n./scripts/verify_state.sh\n\n# Create backup\n./scripts/backup_db.sh --production\n\n# Deploy with rollback capability\n./scripts/deploy.sh --environment=production --enable-rollback\n```\n\n**CRITICAL**:\n- Do NOT skip verification\n- Do NOT modify commands\n- Do NOT deploy without backup\n\n**If deployment fails**: See [references/rollback.md](references/rollback.md)\n````\n\n## Examples by Domain\n\n### Data Analysis (High Freedom)\n\n**Why**: Multiple valid approaches, context-dependent decisions, creativity valued.\n\n```markdown\n## Data Analysis Workflow\n\n1. Load and inspect the data to understand structure and quality\n2. Identify relevant variables for the analysis question\n3. Clean and transform data as needed\n4. Choose appropriate analysis methods based on data characteristics\n5. Interpret results in context of the original question\n\n**Guiding principles**:\n- Let the data guide your approach\n- Check assumptions before statistical tests\n- Consider multiple explanations for patterns\n```\n\n### Report Generation (Medium Freedom)\n\n**Why**: Preferred format exists, some customization needed, balance of consistency and flexibility.\n\n````markdown\n## Generate Report\n\nFollow this structure:\n\n```markdown\n# [Title]\n\n## Executive Summary\n[1-2 paragraphs: key findings and recommendations]\n\n## Key Metrics\n- Metric 1: [value and trend]\n- Metric 2: [value and trend]\n\n## Detailed Analysis\n[Sections based on data domains]\n\n## Recommendations\n1. [Actionable recommendation]\n2. [Actionable recommendation]\n```\n\n**Customization**:\n- Adjust sections based on available data\n- Add visualizations where helpful\n- Include comparisons to previous periods if relevant\n\n**Standard elements** (don't modify):\n- Executive summary first\n- Metrics before details\n- Recommendations last\n````\n\n### Database Migration (Low Freedom)\n\n**Why**: Fragile operations, specific sequence critical, high error cost.\n\n````markdown\n## Run Migration\n\nExecute exactly this procedure:\n\n```bash\n# Step 1: Verify database connection\npython scripts/verify_connection.py\n\n# Step 2: Create backup\npython scripts/backup.py --full --timestamp\n\n# Step 3: Run migration\npython scripts/migrate.py --version=2.1.0 --verify\n\n# Step 4: Verify migration\npython scripts/verify_migration.py --check-integrity\n```\n\n**CRITICAL**:\n- Run steps in exact order\n- Do not skip verification\n- Do not modify commands\n- Wait for each step to complete before next\n\n**If any step fails**: STOP. See [references/migration-recovery.md](references/migration-recovery.md)\n````\n\n### Content Creation (High Freedom)\n\n**Why**: Creative task, context-dependent, multiple valid approaches.\n\n```markdown\n## Create Content\n\n1. Understand the audience and purpose\n2. Research topic if needed for accuracy\n3. Structure content logically\n4. Write in appropriate tone and style\n5. Include examples and specifics\n6. Review for clarity and impact\n\n**Guiding principles**:\n- Write for the intended audience\n- Use concrete examples\n- Be clear and concise\n- Maintain consistent tone\n```\n\n### Configuration Setup (Low Freedom)\n\n**Why**: Specific settings required, errors cause system failures.\n\n````markdown\n## Configure System\n\nApply exactly this configuration:\n\n```yaml\nserver:\n  host: 0.0.0.0\n  port: 8080\n  workers: 4\n\ndatabase:\n  host: db.example.com\n  port: 5432\n  pool_size: 20\n  timeout: 30\n\ncache:\n  enabled: true\n  ttl: 3600\n```\n\n**DO NOT CHANGE**:\n- Port numbers\n- Pool size\n- Worker count\n\n**Can customize**:\n- Cache TTL (if justified)\n\n**After applying**: Run `./scripts/verify_config.sh`\n````\n\n## Common Mistakes\n\n### Mistake 1: Too Low Freedom for Creative Tasks\n\n**Problem**: Providing exact templates for tasks requiring judgment and creativity.\n\n**Example** (Wrong):\n````markdown\n## Code Review\n\nUse exactly this format:\n\n```\nFile: [filename]\nLine: [number]\nIssue: [exactly this phrasing]\nFix: [exactly this suggestion]\n```\n````\n\n**Solution**: Provide guidelines instead of strict templates.\n\n### Mistake 2: Too High Freedom for Fragile Operations\n\n**Problem**: Vague instructions for critical operations.\n\n**Example** (Wrong):\n```markdown\n## Deploy to Production\n\nDeploy the application to production. Be careful!\n```\n\n**Solution**: Provide exact scripts and procedures.\n\n### Mistake 3: Inconsistent Freedom Levels\n\n**Problem**: Mixing freedom levels within the same skill without clear boundaries.\n\n**Example** (Wrong):\n```markdown\n## Workflow\n\n1. Run exactly: `python setup.py`\n2. Configure however you think is best\n3. Run exactly: `python verify.py`\n```\n\n**Solution**: Be consistent within workflows, or clearly indicate when freedom level changes.\n\n### Mistake 4: Not Explaining Why\n\n**Problem**: Setting freedom level without explaining the reasoning.\n\n**Example** (Wrong):\n```markdown\n## Run Migration\n\nRun: `python migrate.py --verify --backup`\n\n[No explanation of why this exact command]\n```\n\n**Solution**: Briefly explain the constraints.\n\n**Example** (Right):\n```markdown\n## Run Migration\n\nRun exactly: `python migrate.py --verify --backup`\n\n**Why exact command**: Migrations are fragile. The `--verify` flag checks prerequisites, and `--backup` ensures rollback capability. Omitting either flag risks data loss.\n```\n\n### Mistake 5: Forgetting Edge Cases\n\n**Problem**: Choosing freedom level based only on happy path.\n\n**Example** (Wrong):\n```markdown\n## Process Data\n\nUse pandas to load and process the CSV file.\n```\n\n**Solution**: Consider error cases and add appropriate guardrails.\n\n**Example** (Right):\n```markdown\n## Process Data\n\n1. Load CSV with pandas\n2. Check for required columns: [list]\n3. Handle missing values based on column type\n4. Validate data ranges\n\n**If validation fails**: See [references/data-errors.md](references/data-errors.md)\n```\n\n## When to Ask the User\n\nIf uncertain about the appropriate freedom level, ask the user:\n\n```markdown\nI'm designing a skill for [task]. Based on your needs, should this skill:\n\n**Option A (High freedom)**: Provide workflow guidance and let Claude choose implementation details?\n- Pro: Flexible, adapts to context\n- Con: Less consistent outputs\n\n**Option B (Medium freedom)**: Provide templates and recommended patterns with room for customization?\n- Pro: Balance of consistency and flexibility\n- Con: May not fit all edge cases perfectly\n\n**Option C (Low freedom)**: Provide exact scripts and procedures with minimal variation?\n- Pro: Highly consistent and reliable\n- Con: Less adaptable to unexpected situations\n\nWhat's most important for your use case: flexibility, consistency, or reliability?\n```\n\n## Summary\n\n**High Freedom**: Use for creative, context-dependent tasks where judgment is valuable.\n\n**Medium Freedom**: Use for tasks with preferred patterns but acceptable variation.\n\n**Low Freedom**: Use for fragile, critical operations where consistency is essential.\n\n**Decision factors**:\n- Task fragility\n- Context dependency\n- Consistency requirements\n- Error impact\n\n**Validate**: Test your decision with concrete examples before finalizing.\n",
        "plugins/skills-helper/skills/creating-effective-skills/references/progressive-disclosure.md": "# Progressive Disclosure Patterns\n\nDetailed guidance on implementing progressive disclosure in agent skills.\n\n## Table of Contents\n\n- Three-Level Loading System\n- Pattern 1: High-Level Guide with References\n- Pattern 2: Domain-Specific Organization\n- Pattern 3: Conditional Details\n- Pattern 4: Framework/Variant Organization\n- Guidelines for Effective Progressive Disclosure\n- Common Mistakes to Avoid\n\n## Three-Level Loading System\n\nSkills use a three-level loading system to manage context efficiently:\n\n### Level 1: Metadata (Always Loaded)\n\n**Content**: YAML frontmatter (`name` and `description`)\n**Token cost**: ~100 tokens per skill\n**When loaded**: At startup, included in system prompt\n\n```yaml\n---\nname: pdf-processing\ndescription: Extract text and tables from PDF files, fill forms, merge documents. Use when working with PDF files or when the user mentions PDFs, forms, or document extraction.\n---\n```\n\nClaude loads this for all installed skills. Lightweight approach means you can install many skills without context penalty.\n\n### Level 2: Instructions (Loaded When Triggered)\n\n**Content**: SKILL.md body\n**Token cost**: <5k tokens (keep under 500 lines)\n**When loaded**: When user request matches skill description\n\nThe main body contains procedural knowledge: workflows, best practices, guidance.\n\n````markdown\n# PDF Processing\n\n## Quick start\n\nUse pdfplumber to extract text:\n\n```python\nimport pdfplumber\nwith pdfplumber.open(\"document.pdf\") as pdf:\n    text = pdf.pages[0].extract_text()\n```\n\nFor advanced form filling, see [FORMS.md](references/FORMS.md).\n````\n\nClaude reads SKILL.md from filesystem via bash when the skill triggers.\n\n### Level 3: Resources and Code (Loaded As Needed)\n\n**Content**: Reference files, scripts, assets\n**Token cost**: Effectively unlimited\n**When loaded**: Only when referenced and needed\n\n```\npdf-skill/\n├── SKILL.md (main instructions)\n├── references/\n│   ├── FORMS.md (form-filling guide)\n│   └── REFERENCE.md (detailed API reference)\n└── scripts/\n    └── fill_form.py (utility script)\n```\n\nClaude accesses these only when SKILL.md references them or Claude determines they're needed.\n\n## Pattern 1: High-Level Guide with References\n\nBest for skills with multiple feature areas that aren't always all needed.\n\n### Structure\n\n```\nskill-name/\n├── SKILL.md (overview + quick start)\n└── references/\n    ├── FEATURE_A.md (detailed guide for feature A)\n    ├── FEATURE_B.md (detailed guide for feature B)\n    └── REFERENCE.md (comprehensive API reference)\n```\n\n### SKILL.md Example\n\n````markdown\n# Document Processing\n\n## Quick start\n\nBasic document creation:\n\n```python\nfrom docx import Document\ndoc = Document()\ndoc.add_paragraph(\"Hello world\")\ndoc.save(\"output.docx\")\n```\n\n## Advanced features\n\n**Form filling**: See [references/FORMS.md](references/FORMS.md) for complete guide\n**API reference**: See [references/REFERENCE.md](references/REFERENCE.md) for all methods\n**Examples**: See [references/EXAMPLES.md](references/EXAMPLES.md) for common patterns\n**Tracked changes**: See [references/REDLINING.md](references/REDLINING.md) for working with revisions\n````\n\n### When to Use\n\n- Skill has multiple distinct features\n- Not all features are used in every request\n- Each feature has substantial documentation\n\n### Benefits\n\n- Keep SKILL.md focused on essentials\n- Claude loads only relevant feature documentation\n- Easy to extend with new features\n\n## Pattern 2: Domain-Specific Organization\n\nBest for skills that work with multiple domains or data sources.\n\n### Structure\n\n```\nbigquery-skill/\n├── SKILL.md (overview + navigation)\n└── references/\n    ├── finance.md (revenue, billing metrics)\n    ├── sales.md (opportunities, pipeline)\n    ├── product.md (API usage, features)\n    └── marketing.md (campaigns, attribution)\n```\n\n### SKILL.md Example\n\n````markdown\n# BigQuery Data Analysis\n\n## Available Datasets\n\n**Finance**: Revenue, ARR, billing → See [references/finance.md](references/finance.md)\n**Sales**: Opportunities, pipeline, accounts → See [references/sales.md](references/sales.md)\n**Product**: API usage, features, adoption → See [references/product.md](references/product.md)\n**Marketing**: Campaigns, attribution, email → See [references/marketing.md](references/marketing.md)\n\n## Quick Search\n\nFind specific metrics using grep:\n\n```bash\ngrep -i \"revenue\" references/finance.md\ngrep -i \"pipeline\" references/sales.md\ngrep -i \"api usage\" references/product.md\n```\n\n## Query Template\n\n```sql\nSELECT\n  [columns]\nFROM\n  [table from domain schema]\nWHERE\n  [filters]\n```\n\nCheck the domain reference file for available tables and columns.\n````\n\n### When to Use\n\n- Skill works with multiple data domains\n- Each domain has distinct schemas or concepts\n- User requests typically focus on one domain at a time\n\n### Benefits\n\n- When user asks about sales, Claude only loads sales.md\n- Avoids loading irrelevant domain information\n- Scales well as you add new domains\n\n## Pattern 3: Conditional Details\n\nBest for skills where basic usage is simple but advanced features are complex.\n\n### Structure\n\n```\nskill-name/\n├── SKILL.md (basic usage + conditional links)\n└── references/\n    ├── ADVANCED_FEATURE.md (detailed guide)\n    └── OOXML.md (technical details)\n```\n\n### SKILL.md Example\n\n````markdown\n# DOCX Processing\n\n## Creating Documents\n\nUse docx-js for new documents. See [references/DOCX-JS.md](references/DOCX-JS.md).\n\n## Editing Documents\n\nFor simple edits, modify the XML directly.\n\n**For tracked changes**: See [references/REDLINING.md](references/REDLINING.md)\n**For OOXML details**: See [references/OOXML.md](references/OOXML.md)\n\n## Basic Template\n\n```python\nfrom docx import Document\n\ndoc = Document()\ndoc.add_heading('Title', 0)\ndoc.add_paragraph('Content')\ndoc.save('output.docx')\n```\n````\n\n### When to Use\n\n- Basic usage covers 80% of cases\n- Advanced features are infrequently needed\n- Advanced features have substantial complexity\n\n### Benefits\n\n- Most users see only what they need\n- Advanced users can access detailed information\n- SKILL.md remains approachable for common cases\n\n## Pattern 4: Framework/Variant Organization\n\nBest for skills supporting multiple frameworks, platforms, or implementation variants.\n\n### Structure\n\n```\ncloud-deploy/\n├── SKILL.md (workflow + provider selection)\n└── references/\n    ├── aws.md (AWS deployment patterns)\n    ├── gcp.md (GCP deployment patterns)\n    └── azure.md (Azure deployment patterns)\n```\n\n### SKILL.md Example\n\n````markdown\n# Cloud Deployment\n\n## Workflow\n\n1. Choose cloud provider based on requirements\n2. Review provider-specific patterns\n3. Follow deployment steps for chosen provider\n\n## Provider Selection\n\n**AWS**: See [references/aws.md](references/aws.md) for ECS, Lambda, EC2 patterns\n**GCP**: See [references/gcp.md](references/gcp.md) for Cloud Run, Functions, GCE patterns\n**Azure**: See [references/azure.md](references/azure.md) for Container Instances, Functions, VMs\n\n## General Deployment Steps\n\n1. Build container image\n2. Push to registry\n3. Deploy to chosen platform\n4. Configure networking and permissions\n5. Verify deployment\n\nProvider-specific implementation details are in the respective reference files.\n````\n\n### When to Use\n\n- Skill supports multiple frameworks or platforms\n- Each variant has distinct patterns and syntax\n- User chooses one variant per request\n\n### Benefits\n\n- Core workflow stays unified\n- Claude loads only the chosen variant's details\n- Easy to add support for new frameworks\n\n## Guidelines for Effective Progressive Disclosure\n\n### Keep SKILL.md Under 500 Lines\n\nTarget: 300-400 lines for most skills. This leaves room for context without dominating it.\n\n### Use Clear Navigation\n\nMake it obvious what content exists and where to find it:\n\n```markdown\n## Advanced Features\n\n**Feature A**: See [references/feature-a.md](references/feature-a.md) - Description\n**Feature B**: See [references/feature-b.md](references/feature-b.md) - Description\n```\n\n### Keep References One Level Deep\n\n**Bad** (nested references):\n```markdown\n# SKILL.md\nSee [advanced.md](references/advanced.md)...\n\n# references/advanced.md\nSee [details.md](references/details.md)...\n\n# references/details.md\nHere's the actual information...\n```\n\n**Good** (one level deep):\n```markdown\n# SKILL.md\n\n**Basic usage**: [instructions in SKILL.md]\n**Advanced features**: See [references/advanced.md](references/advanced.md)\n**API reference**: See [references/api.md](references/api.md)\n**Examples**: See [references/examples.md](references/examples.md)\n```\n\n### Structure Long Reference Files\n\nFor files longer than 100 lines, include table of contents:\n\n```markdown\n# API Reference\n\n## Table of Contents\n- Authentication and setup\n- Core methods (create, read, update, delete)\n- Advanced features (batch operations, webhooks)\n- Error handling patterns\n- Code examples\n\n## Authentication and Setup\n...\n```\n\nThis ensures Claude can see the full scope even when previewing with partial reads.\n\n### Avoid Duplication\n\nInformation should live in either SKILL.md or references, not both.\n\n**Prefer references for**:\n- Detailed schemas\n- Comprehensive API documentation\n- Extensive examples\n- Domain-specific details\n\n**Keep in SKILL.md**:\n- Essential procedural instructions\n- Core workflow guidance\n- Navigation to references\n- Quick start examples\n\n### Use Descriptive File Names\n\n**Good**:\n- `references/database-schemas.md`\n- `references/api-authentication.md`\n- `references/error-handling-patterns.md`\n\n**Bad**:\n- `references/doc1.md`\n- `references/stuff.md`\n- `references/misc.md`\n\n## Common Mistakes to Avoid\n\n### Mistake 1: Putting Everything in SKILL.md\n\n**Problem**: SKILL.md becomes 2000+ lines, always consuming huge context.\n\n**Solution**: Extract detailed content to references. Keep SKILL.md focused on essentials.\n\n### Mistake 2: Too Many Small Files\n\n**Problem**: 50 tiny reference files, each 10-20 lines.\n\n**Solution**: Group related content. One `database-schemas.md` is better than 10 tiny table files.\n\n### Mistake 3: No Clear Navigation\n\n**Problem**: Reference files exist but aren't mentioned in SKILL.md.\n\n**Solution**: Always link to references from SKILL.md with clear descriptions.\n\n### Mistake 4: Duplicate Information\n\n**Problem**: Same content appears in both SKILL.md and reference files.\n\n**Solution**: Choose one location. Usually references for details, SKILL.md for workflow.\n\n### Mistake 5: Nested References\n\n**Problem**: references/advanced.md references references/details.md\n\n**Solution**: Keep all references one level from SKILL.md. Flatten the structure.\n\n## Example: Well-Designed Progressive Disclosure\n\n```\nexcel-analysis/\n├── SKILL.md (~400 lines)\n└── references/\n    ├── formulas.md (comprehensive formula reference)\n    ├── pivot-tables.md (pivot table guide)\n    ├── charts.md (chart creation patterns)\n    └── data-validation.md (validation rules)\n```\n\n**SKILL.md**:\n````markdown\n---\nname: excel-analysis\ndescription: Analyze Excel spreadsheets, create pivot tables, generate charts. Use when analyzing Excel files, spreadsheets, tabular data, or .xlsx files.\n---\n\n# Excel Analysis\n\n## Quick Start\n\nRead Excel file:\n```python\nimport pandas as pd\ndf = pd.read_excel('data.xlsx')\n```\n\n## Core Workflows\n\n**Data analysis**: Load, transform, analyze with pandas\n**Pivot tables**: See [references/pivot-tables.md](references/pivot-tables.md)\n**Charts**: See [references/charts.md](references/charts.md)\n**Formulas**: See [references/formulas.md](references/formulas.md)\n\n## Basic Analysis Template\n\n[Template here]\n````\n\n**Result**:\n- Metadata always loaded (~100 tokens)\n- SKILL.md loaded when triggered (~2k tokens)\n- References loaded only when needed (0 tokens until accessed)\n\nTotal context: ~100 tokens at rest, ~2.1k when triggered, more only if needed.\n",
        "plugins/skills-helper/skills/creating-effective-skills/references/workflows-and-validation.md": "# Workflows and Validation Patterns\n\nGuide for creating effective workflows with validation and feedback loops in agent skills.\n\n## Table of Contents\n\n- Understanding Workflows in Skills\n- Create Verifiable Intermediate Outputs Pattern\n- Validate Script Pattern\n- Feedback Loop Pattern\n- When to Use Validation Patterns\n- Implementation Examples\n- Common Mistakes\n\n## Understanding Workflows in Skills\n\nWorkflows guide Claude through multi-step processes. Well-designed workflows:\n- Break complex tasks into clear sequential steps\n- Include validation at critical points\n- Provide feedback loops for error correction\n- Create verifiable intermediate outputs when needed\n\n**Simple workflow** (no validation needed):\n```markdown\n## Basic data export\n\n1. Load data from database\n2. Transform to CSV format\n3. Save to file\n```\n\n**Complex workflow** (validation critical):\n```markdown\n## Database migration workflow\n\n1. Verify database connection\n2. Create backup\n3. **Validate backup integrity** ← validation step\n4. Run migration\n5. **Verify migration success** ← verification step\n6. If verification fails → restore from backup\n```\n\n## Create Verifiable Intermediate Outputs Pattern\n\n### What It Is\n\nThe plan-validate-execute pattern catches errors early by having Claude create a structured plan file first, then validate that plan with a script before executing it.\n\n**Flow**: analyze → **create plan file** → **validate plan** → execute → verify\n\n### When to Use\n\nUse this pattern when:\n- **Batch operations**: Updating 50+ items at once\n- **Destructive changes**: Operations that can't be easily undone\n- **Complex validation rules**: Business logic too complex for Claude to verify manually\n- **High-stakes operations**: Errors have serious consequences\n\n**Don't use** for:\n- Single simple operations\n- Read-only tasks\n- Operations with trivial validation\n\n### Why It Works\n\n**Catches errors early**: Validation finds problems before changes are applied\n**Machine-verifiable**: Scripts provide objective verification\n**Reversible planning**: Claude can iterate on the plan without touching originals\n**Clear debugging**: Error messages point to specific problems\n\n### Implementation Pattern\n\n**Step 1: Define the plan file format**\n\nChoose a structured format (JSON, YAML, or CSV) that's easy to validate:\n\n```json\n{\n  \"changes\": [\n    {\n      \"field\": \"customer_name\",\n      \"old_value\": \"John Smith\",\n      \"new_value\": \"John A. Smith\"\n    },\n    {\n      \"field\": \"order_total\",\n      \"old_value\": \"100.00\",\n      \"new_value\": \"105.00\"\n    }\n  ]\n}\n```\n\n**Step 2: Create validation script**\n\nWrite a script that checks the plan file:\n\n```python\n# scripts/validate_changes.py\nimport json\nimport sys\n\ndef validate_changes(plan_file):\n    \"\"\"Validate change plan before execution.\"\"\"\n    with open(plan_file) as f:\n        plan = json.load(f)\n\n    errors = []\n\n    # Check required fields exist\n    if \"changes\" not in plan:\n        errors.append(\"Missing 'changes' key in plan\")\n        return errors\n\n    # Validate each change\n    valid_fields = [\"customer_name\", \"order_total\", \"signature_date\"]\n    for i, change in enumerate(plan[\"changes\"]):\n        # Check field exists\n        if change[\"field\"] not in valid_fields:\n            errors.append(\n                f\"Change {i}: Field '{change['field']}' not found. \"\n                f\"Available fields: {', '.join(valid_fields)}\"\n            )\n\n        # Check value types\n        if change[\"field\"] == \"order_total\":\n            try:\n                float(change[\"new_value\"])\n            except ValueError:\n                errors.append(\n                    f\"Change {i}: order_total must be numeric, \"\n                    f\"got '{change['new_value']}'\"\n                )\n\n    return errors\n\nif __name__ == \"__main__\":\n    errors = validate_changes(sys.argv[1])\n    if errors:\n        print(\"VALIDATION FAILED:\")\n        for error in errors:\n            print(f\"  - {error}\")\n        sys.exit(1)\n    else:\n        print(\"OK: All validations passed\")\n        sys.exit(0)\n```\n\n**Step 3: Document the workflow in SKILL.md**\n\n````markdown\n## PDF Form Batch Update Workflow\n\nCopy this checklist and track your progress:\n\n```\nTask Progress:\n- [ ] Step 1: Analyze the form (run analyze_form.py)\n- [ ] Step 2: Create change plan (edit changes.json)\n- [ ] Step 3: Validate plan (run validate_changes.py)\n- [ ] Step 4: Apply changes (run apply_changes.py)\n- [ ] Step 5: Verify output (run verify_output.py)\n```\n\n**Step 1: Analyze the form**\n\nRun: `python scripts/analyze_form.py input.pdf`\n\nThis extracts form fields and saves to `fields.json`.\n\n**Step 2: Create change plan**\n\nCreate `changes.json` with the updates to apply:\n\n```json\n{\n  \"changes\": [\n    {\"field\": \"customer_name\", \"new_value\": \"John Smith\"},\n    {\"field\": \"order_total\", \"new_value\": \"150.00\"}\n  ]\n}\n```\n\n**Step 3: Validate plan**\n\nRun: `python scripts/validate_changes.py changes.json`\n\n**CRITICAL**: Do NOT proceed if validation fails. Fix the errors in `changes.json` and validate again.\n\n**Step 4: Apply changes**\n\nRun: `python scripts/apply_changes.py input.pdf changes.json output.pdf`\n\n**Step 5: Verify output**\n\nRun: `python scripts/verify_output.py output.pdf`\n\nIf verification fails, review the error messages and return to Step 2.\n````\n\n### Make Validation Scripts Verbose\n\nProvide specific, actionable error messages:\n\n**Bad** (vague):\n```python\nif field not in valid_fields:\n    errors.append(\"Invalid field\")\n```\n\n**Good** (specific):\n```python\nif field not in valid_fields:\n    errors.append(\n        f\"Field '{field}' not found. \"\n        f\"Available fields: {', '.join(valid_fields)}\"\n    )\n```\n\nSpecific messages help Claude fix issues without guessing.\n\n## Validate Script Pattern\n\n### What It Is\n\nA simpler pattern than plan-validate-execute. Just run a validation script after each significant operation.\n\n**Flow**: execute → **validate** → if errors, fix and repeat\n\n### When to Use\n\nUse this pattern when:\n- Editing structured data (XML, JSON, configuration files)\n- Generating code that must compile or pass linting\n- Creating documents with strict formatting requirements\n- Any operation where correctness can be programmatically verified\n\n### Implementation Pattern\n\n**Step 1: Create validation script**\n\n```python\n# scripts/validate.py\nimport sys\nimport xml.etree.ElementTree as ET\n\ndef validate_xml(file_path):\n    \"\"\"Validate XML structure and required elements.\"\"\"\n    try:\n        tree = ET.parse(file_path)\n        root = tree.getroot()\n    except ET.ParseError as e:\n        return [f\"XML parse error: {e}\"]\n\n    errors = []\n\n    # Check required elements\n    if root.find(\"document\") is None:\n        errors.append(\"Missing required element: <document>\")\n\n    if root.find(\"body\") is None:\n        errors.append(\"Missing required element: <body>\")\n\n    return errors\n\nif __name__ == \"__main__\":\n    errors = validate_xml(sys.argv[1])\n    if errors:\n        print(\"VALIDATION FAILED:\")\n        for error in errors:\n            print(f\"  - {error}\")\n        sys.exit(1)\n    else:\n        print(\"OK\")\n        sys.exit(0)\n```\n\n**Step 2: Document in SKILL.md**\n\n````markdown\n## Document editing process\n\n1. Make your edits to `word/document.xml`\n2. **Validate immediately**: `python scripts/validate.py word/document.xml`\n3. If validation fails:\n   - Review the error message carefully\n   - Fix the issues in the XML\n   - Run validation again\n4. **Only proceed when validation passes**\n5. Rebuild: `python scripts/pack.py unpacked_dir/ output.docx`\n6. Test the output document\n````\n\n### Key Principle\n\n**Validate after EVERY significant change**, not just at the end. This catches errors early when they're easier to fix.\n\n## Feedback Loop Pattern\n\n### What It Is\n\nA general pattern for iterative improvement: do something → check quality → fix issues → repeat.\n\n**Pattern**: Run validator → fix errors → repeat until clean\n\n### When to Use\n\nUse for tasks where:\n- Quality can be objectively measured\n- Multiple iterations improve results\n- Errors are common but fixable\n\n**Examples**:\n- Code that must pass linting\n- Documents that must follow style guidelines\n- Data that must meet quality standards\n- Outputs that must match a template\n\n### Implementation: Code-Based Feedback Loop\n\n````markdown\n## Code generation workflow\n\n1. Generate the initial code\n2. **Run linter**: `pylint generated_code.py`\n3. If linting fails:\n   - Review each error message\n   - Fix the issues\n   - Run linter again\n4. **Only proceed when linting passes**\n5. Run tests: `pytest tests/`\n````\n\n### Implementation: Reference-Based Feedback Loop\n\nFor tasks without executable validators, use reference documents:\n\n````markdown\n## Content review process\n\n1. Draft your content following the guidelines in STYLE_GUIDE.md\n2. Review against the checklist:\n   - Check terminology consistency\n   - Verify examples follow the standard format\n   - Confirm all required sections are present\n3. If issues found:\n   - Note each issue with specific section reference\n   - Revise the content\n   - Review the checklist again\n4. Only proceed when all requirements are met\n5. Finalize and save the document\n````\n\nThe \"validator\" is STYLE_GUIDE.md, and Claude performs the check by reading and comparing.\n\n## When to Use Validation Patterns\n\n### Decision Framework\n\n**Use plan-validate-execute when**:\n- Batch operations (>10 items)\n- Destructive changes (deletes, overwrites)\n- Complex business rules\n- High error cost\n\n**Use validate script when**:\n- Structured data editing\n- Format compliance required\n- Programmatic validation possible\n- Medium error cost\n\n**Use feedback loop when**:\n- Quality improvement through iteration\n- Multiple valid approaches\n- Subjective quality criteria\n- Low to medium error cost\n\n**Skip validation when**:\n- Single simple operations\n- Read-only tasks\n- Low error cost\n- Quick exploratory work\n\n### Cost-Benefit Analysis\n\n**Validation adds value when**:\n- Error cost > time to write validator\n- Operation runs repeatedly\n- Errors are common\n- Manual checking is tedious\n\n**Skip validation when**:\n- One-time operation\n- Errors are obvious and harmless\n- Manual review is quick\n- Operation is trivial\n\n## Implementation Examples\n\n### Example 1: PDF Form Batch Update (Plan-Validate-Execute)\n\n**Problem**: Update 50 form fields based on spreadsheet data. Without validation, Claude might reference non-existent fields or apply incorrect values.\n\n**Solution**:\n\n````markdown\n## Batch form update workflow\n\n**Step 1: Analyze**\n```bash\npython scripts/analyze_form.py template.pdf > fields.json\n```\n\n**Step 2: Create plan**\n\nReview `data.xlsx` and create `changes.json`:\n```json\n{\n  \"updates\": [\n    {\"form_field\": \"customer_name\", \"spreadsheet_column\": \"Name\"},\n    {\"form_field\": \"order_date\", \"spreadsheet_column\": \"Date\"}\n  ]\n}\n```\n\n**Step 3: Validate plan**\n```bash\npython scripts/validate_mapping.py changes.json fields.json data.xlsx\n```\n\nThis checks:\n- All form fields exist in the PDF\n- All spreadsheet columns exist in the Excel file\n- Data types are compatible\n\n**Step 4: Execute**\n```bash\npython scripts/apply_updates.py template.pdf data.xlsx changes.json output.pdf\n```\n\n**Step 5: Verify**\n```bash\npython scripts/verify_output.py output.pdf changes.json\n```\n````\n\n### Example 2: OOXML Document Editing (Validate Script)\n\n**Problem**: Editing Office Open XML files requires valid XML. Small syntax errors break the document.\n\n**Solution**:\n\n````markdown\n## DOCX editing workflow\n\n1. Unpack the .docx file:\n   ```bash\n   python scripts/unpack.py input.docx unpacked_dir/\n   ```\n\n2. Make your edits to `unpacked_dir/word/document.xml`\n\n3. **Validate immediately** after each edit:\n   ```bash\n   python scripts/validate_xml.py unpacked_dir/\n   ```\n\n4. If validation fails:\n   - Read the error message carefully\n   - Fix the XML syntax or structure\n   - Validate again\n   - **Repeat until validation passes**\n\n5. Only when validation passes, repack:\n   ```bash\n   python scripts/pack.py unpacked_dir/ output.docx\n   ```\n\n6. Test by opening output.docx in Word\n````\n\n### Example 3: Code Generation (Feedback Loop)\n\n**Problem**: Generated code often has style issues or minor bugs that linting can catch.\n\n**Solution**:\n\n````markdown\n## API client generation\n\n1. Generate the client code based on OpenAPI spec\n2. Save to `generated_client.py`\n3. **Run linter**:\n   ```bash\n   pylint generated_client.py\n   ```\n4. Review linting errors and fix issues:\n   - Import order problems → reorganize imports\n   - Line length violations → break long lines\n   - Type hint issues → add or fix type hints\n5. **Run linter again** until score >9.0\n6. **Run tests**:\n   ```bash\n   pytest tests/test_client.py\n   ```\n7. If tests fail, fix issues and return to step 3\n````\n\n### Example 4: Report Generation (Reference-Based)\n\n**Problem**: Reports must follow company style guide. No executable validator exists.\n\n**Solution**:\n\n````markdown\n## Generate quarterly report\n\n1. Gather data from sources in DATASOURCES.md\n2. Draft report following structure in TEMPLATE.md\n3. **Self-review** against STYLE_GUIDE.md:\n   - Terminology: Check all terms match GLOSSARY.md\n   - Formatting: Verify headings, bullets, spacing match TEMPLATE.md\n   - Completeness: Confirm all required sections present\n4. For each issue found:\n   - Note the section and specific problem\n   - Make the correction\n   - Review that section again\n5. **Final check**: Read entire report against checklist in STYLE_GUIDE.md\n6. Only when all items pass, save final version\n````\n\n## Common Mistakes\n\n### Mistake 1: Validation Too Late\n\n**Problem**: Waiting until the end to validate means many errors accumulate.\n\n**Bad**:\n```markdown\n1. Edit 50 files\n2. Make complex changes\n3. Validate everything at the end\n```\n\n**Good**:\n```markdown\n1. Edit file 1\n2. Validate file 1\n3. Edit file 2\n4. Validate file 2\n[repeat]\n```\n\nValidate after each unit of work, not after all work.\n\n### Mistake 2: Vague Validation Errors\n\n**Problem**: Generic error messages don't help Claude fix issues.\n\n**Bad**:\n```python\nif error:\n    print(\"Validation failed\")\n```\n\n**Good**:\n```python\nif field not in valid_fields:\n    print(f\"Field '{field}' not found in form\")\n    print(f\"Available fields: {', '.join(valid_fields)}\")\n    print(f\"Check line {line_num} in changes.json\")\n```\n\n### Mistake 3: No Workflow Checklist\n\n**Problem**: Complex workflows are hard to track mentally.\n\n**Bad**:\n```markdown\n## Process\n\nFollow these steps to update the forms...\n[long prose description]\n```\n\n**Good**:\n````markdown\n## Process\n\nCopy this checklist:\n```\n- [ ] Step 1: Analyze\n- [ ] Step 2: Create plan\n- [ ] Step 3: Validate plan\n- [ ] Step 4: Execute\n- [ ] Step 5: Verify\n```\n\n**Step 1: Analyze**\n...\n````\n\nChecklists help both Claude and users track progress.\n\n### Mistake 4: Skipping Validation for \"Simple\" Tasks\n\n**Problem**: Assuming a task is too simple to need validation.\n\nEven simple operations benefit from validation when:\n- They run frequently\n- Errors are annoying to fix manually\n- Correctness matters\n\n**Example**: Validating JSON files before git commit prevents pushing broken config.\n\n### Mistake 5: Validation Without Clear Recovery\n\n**Problem**: Script says \"validation failed\" but doesn't explain how to fix it or what to do next.\n\n**Bad**:\n```markdown\nRun validation. If it fails, fix the errors.\n```\n\n**Good**:\n```markdown\nRun validation: `python scripts/validate.py input.json`\n\nIf validation fails:\n1. Read the error message carefully - it shows the exact problem\n2. Edit `input.json` to fix the issue\n3. Run validation again\n4. Repeat until validation passes\n5. Only then proceed to the next step\n\nIf you can't resolve a validation error, see [references/validation-errors.md](references/validation-errors.md) for common issues and solutions.\n```\n\n## Summary\n\n**Create verifiable intermediate outputs** (plan-validate-execute):\n- Use for batch operations and high-stakes changes\n- Create structured plan file\n- Validate plan before execution\n- Iterate on plan without touching originals\n\n**Validate script pattern**:\n- Use for structured data and format compliance\n- Validate after each significant change\n- Provide specific error messages\n- Repeat until validation passes\n\n**Feedback loop pattern**:\n- Use for iterative quality improvement\n- Check quality after each iteration\n- Fix issues and repeat\n- Can use scripts or reference documents\n\n**Key principle**: Validate early and often. Catch errors before they compound.\n\n**Implementation tips**:\n- Make validators verbose with specific errors\n- Provide workflow checklists for complex processes\n- Validate after each unit of work, not at the end\n- Explain recovery process when validation fails\n",
        "plugins/skills-helper/skills/creating-effective-skills/tests/scenarios.md": "# Test Scenarios for creating-effective-skills\n\n## Scenario: Create skill with clear requirements\n\n**Difficulty:** Easy\n\n**Query:** I want to create a skill that helps format markdown tables. The skill should take messy table data and output properly aligned markdown tables.\n\n**Expected behaviors:**\n\n1. Asks clarifying questions before implementation\n   - **Minimum:** Asks at least 1 question before creating files\n   - **Quality criteria:**\n     - Asks about input format (CSV, TSV, pipe-separated, etc.)\n     - Asks about output preferences (alignment, header handling)\n     - Asks about edge cases (empty cells, special characters)\n   - **Haiku pitfall:** Asks only \"What should the skill do?\" or skips to implementation\n   - **Weight:** 3\n\n2. Determines appropriate freedom level\n   - **Minimum:** States high/medium/low\n   - **Quality criteria:**\n     - References degrees-of-freedom.md\n     - Correctly identifies as MEDIUM or HIGH freedom (formatting has valid approaches but some patterns exist)\n     - Explains why: low fragility, medium-to-high context-dependency\n   - **Haiku pitfall:** Picks LOW without justification, or misreads fragility\n   - **Weight:** 3\n\n3. Creates SKILL.md with proper naming\n   - **Minimum:** Creates file with frontmatter\n   - **Quality criteria:**\n     - Name uses gerund form (e.g., `formatting-markdown-tables`)\n     - Name is specific, not generic like \"table-helper\"\n     - Avoids reserved prefixes (claude-*, anthropic-*)\n   - **Haiku pitfall:** Uses noun form or generic names\n   - **Weight:** 4\n\n4. Writes quality description\n   - **Minimum:** Description field exists\n   - **Quality criteria:**\n     - Third person voice\n     - Includes WHAT it does\n     - Includes WHEN to use it (trigger phrases)\n     - Under 200 characters but comprehensive\n   - **Haiku pitfall:** Too short (\"Formats tables\") or missing \"when to use\"\n   - **Weight:** 5\n\n5. Asks about test scenarios (Step 8 is optional)\n   - **Minimum:** Mentions or asks about test scenarios\n   - **Quality criteria:**\n     - Explicitly asks: \"Would you like to create test scenarios for this skill?\"\n     - Explains benefit: automated evaluation with /evaluating-skills-with-models\n     - If user agrees, creates tests/scenarios.md with new format (Difficulty, Quality criteria, Weights)\n     - If user declines, proceeds without tests/scenarios.md\n   - **Haiku pitfall:** Creates tests/scenarios.md without asking, or skips Step 8 entirely\n   - **Weight:** 3\n\n**Output validation:**\n- Filename pattern: `*-tables/SKILL.md` or `*-markdown*/SKILL.md`\n- Contains: `description:.*Use when`\n- Line count: `< 300`\n\n---\n\n## Scenario: Create skill for ambiguous requirements\n\n**Difficulty:** Hard\n\n**Query:** I need a skill for handling data. Can you help?\n\n**Expected behaviors:**\n\n1. Seeks extensive clarification before proceeding\n   - **Minimum:** Asks at least 1 question\n   - **Quality criteria:**\n     - Asks what KIND of data (format, source, structure)\n     - Asks what OPERATIONS (transform, validate, migrate, analyze)\n     - Asks about ERROR handling requirements\n     - Does NOT start creating files before getting answers\n     - Asks at least 3 specific questions\n   - **Haiku pitfall:** Makes assumptions, asks 1 vague question, or starts implementing immediately\n   - **Weight:** 5\n\n2. Narrows scope appropriately\n   - **Minimum:** Proposes a skill name\n   - **Quality criteria:**\n     - Rejects overly broad scope (\"data-processing\")\n     - Proposes focused single-responsibility skill\n     - Explains what's IN scope vs OUT of scope\n     - Suggests splitting if requirements are too broad\n   - **Haiku pitfall:** Accepts broad scope, creates \"data-helper\" or similar\n   - **Weight:** 5\n\n3. Determines freedom level with detailed justification\n   - **Minimum:** States a level\n   - **Quality criteria:**\n     - References degrees-of-freedom.md explicitly\n     - Cites specific factors (fragility, context-dependency, consistency)\n     - Explains trade-offs of the chosen level\n     - Justification matches the narrowed scope, not original vague request\n   - **Haiku pitfall:** Picks level without citing factors, or justifies for wrong scope\n   - **Weight:** 4\n\n**Output validation:**\n- Should NOT create files until scope is clarified\n- If files created prematurely: score = 0 for behavior 1\n\n---\n\n## Scenario: Guide through complete workflow\n\n**Difficulty:** Medium\n\n**Query:** Walk me through creating a skill for code review automation\n\n**Expected behaviors:**\n\n1. Follows Step 1 (Understand Need)\n   - **Minimum:** Asks about functionality\n   - **Quality criteria:**\n     - Asks about specific code review aspects (style, bugs, security, etc.)\n     - Asks for usage examples\n     - Asks about trigger phrases\n   - **Haiku pitfall:** Generic questions, skips examples/triggers\n   - **Weight:** 4\n\n2. Follows Step 2 (Freedom Level)\n   - **Minimum:** Discusses freedom levels\n   - **Quality criteria:**\n     - Presents options (high/medium/low) with explanations\n     - Recommends level with justification\n     - For code review: should suggest MEDIUM (patterns exist but context matters)\n   - **Haiku pitfall:** Skips discussion, picks without explanation\n   - **Weight:** 3\n\n3. Follows Step 3 (Plan Contents)\n   - **Minimum:** Lists what to include\n   - **Quality criteria:**\n     - Identifies scripts/ needs (linting, analysis tools)\n     - Identifies references/ needs (review patterns, checklists)\n     - Considers assets/ if needed\n   - **Haiku pitfall:** Skips planning, jumps to writing\n   - **Weight:** 3\n\n4. Follows Steps 5-8 (Structure through Tests)\n   - **Minimum:** Creates basic structure\n   - **Quality criteria:**\n     - Creates proper directory structure\n     - SKILL.md follows all conventions\n     - Creates reference files for detailed content\n     - Asks about test scenarios (Step 8) and creates if user agrees\n   - **Haiku pitfall:** Incomplete structure, creates tests without asking, or skips Step 8 entirely\n   - **Weight:** 5\n\n---\n\n## Scenario: Handle skill that's too long\n\n**Difficulty:** Edge-case\n\n**Query:** My skill is getting too long at 600 lines. How should I split it up?\n\n**Expected behaviors:**\n\n1. Reads progressive disclosure reference\n   - **Minimum:** Acknowledges the 500-line limit\n   - **Quality criteria:**\n     - Explicitly reads references/progressive-disclosure.md\n     - Explains three-level loading (metadata, SKILL.md, references)\n     - Cites token budget considerations\n   - **Haiku pitfall:** Gives generic advice without reading reference\n   - **Weight:** 4\n\n2. Provides concrete splitting strategy\n   - **Minimum:** Suggests moving content to references/\n   - **Quality criteria:**\n     - Identifies WHAT to keep in SKILL.md (core workflow, quick start)\n     - Identifies WHAT to move (detailed examples, edge cases, advanced features)\n     - Provides specific file naming suggestions\n     - Shows example of how to link from SKILL.md\n   - **Haiku pitfall:** Vague \"move stuff to references\" without specifics\n   - **Weight:** 5\n\n3. Suggests validation after split\n   - **Minimum:** Mentions checking the result\n   - **Quality criteria:**\n     - Suggests running /reviewing-skills after split\n     - Mentions checking that links work\n     - Recommends re-testing with /evaluating-skills-with-models\n   - **Haiku pitfall:** Doesn't mention validation\n   - **Weight:** 2\n",
        "plugins/skills-helper/skills/evaluating-skills-with-models/SKILL.md": "---\nname: evaluating-skills-with-models\ndescription: Evaluate skills by executing them across sonnet, opus, and haiku models using sub-agents. Use when testing if a skill works correctly, comparing model performance, or finding the cheapest compatible model. Returns numeric scores (0-100) to differentiate model capabilities.\nlicense: Apache-2.0\nmetadata:\n  author: Softgraphy GK\n  version: \"0.2.1\"\n---\n\n# Evaluating Skills with Models\n\nEvaluate skills across multiple Claude models using sub-agents with quality-based scoring.\n\n> **Requirement:** Claude Code CLI only. Not available in Claude.ai.\n\n## Why Quality-Based Scoring\n\nBinary pass/fail (\"did it do X?\") fails to differentiate models - all models can \"do the steps.\" The difference is **how well** they do them. This skill uses weighted scoring to reveal capability differences.\n\n## Workflow\n\n### Step 1: Load Test Scenarios\n\nCheck for `tests/scenarios.md` in the target skill directory.\n\n**Default to difficult scenarios:** When multiple scenarios exist, prioritize **Hard** or **Medium** difficulty scenarios for evaluation. Easy scenarios often don't show meaningful differences between models and aren't realistic for production use.\n\n**Required scenario format:**\n\n```markdown\n## Scenario: [Name]\n\n**Difficulty:** Easy | Medium | Hard | Edge-case\n\n**Query:** User request that triggers this skill\n\n**Expected behaviors:**\n\n1. [Action description]\n   - **Minimum:** What counts as \"did it\"\n   - **Quality criteria:** What \"did it well\" looks like\n   - **Haiku pitfall:** Common failure mode\n   - **Weight:** 1-5\n\n**Output validation:** (optional)\n- Pattern: `regex`\n- Line count: `< N`\n```\n\n**If scenarios.md missing or uses old format:** Ask user to update following [references/evaluation-structure.md](references/evaluation-structure.md).\n\n### Step 2: Execute with Sub-Agents (Phase 1)\n\nSpawn Task sub-agents for each model in parallel.\n\n**Prompt template:**\n\n```\nExecute the skill at {skill_path} with this query:\n{evaluation_query}\n\nIMPORTANT:\n- Actually execute the skill, don't just describe what you would do.\n- Create output directory under Claude Code's working directory ($PWD):\n  $PWD/.ai_text/{yyyyMMdd}/tmp/{skill_name}-{model}-{hhmmss}/\n  (Example: If $PWD=/path/to/project, create /path/to/project/.ai_text/20250101/tmp/formatting-tables-haiku-143052/)\n- Create all output files under that directory.\n- If the skill asks questions, record the exact questions, then assume reasonable answers and proceed.\n\nReturn ONLY (keep it brief to minimize tokens):\n- Questions skill asked: [list exact questions the skill asked you, or \"none\"]\n- Assumed answers: [your assumed answers to those questions, or \"n/a\"]\n- Key decisions: [1-2 sentences on freedom level, structure choices]\n- Files created: [paths only, no content]\n- Errors: [any errors, or \"none\"]\n\nDo NOT include file contents or detailed explanations.\n```\n\nUse Task tool with `model` parameter: `haiku`, `sonnet`, `opus`\n\n**After sub-agents complete:** Read created files directly using Glob + Read to evaluate file quality (naming, structure, content). The minimal report provides process info (questions, decisions) that can't be inferred from files.\n\n### Step 3: Score Each Behavior\n\nFor each expected behavior, score 0-100:\n\n| Score | Meaning |\n|-------|---------|\n| 0 | Not attempted or completely wrong |\n| 25 | Attempted but below minimum |\n| 50 | Meets minimum criteria |\n| 75 | Meets most quality criteria |\n| 100 | Meets all quality criteria |\n\n**Scoring checklist per behavior:**\n\n1. Did it meet the **Minimum**? (No → score ≤ 25)\n2. How many **Quality criteria** met? (Calculate proportion)\n3. Did it hit the **Haiku pitfall**? (Deduct points)\n4. Apply **Weight** to final calculation\n\n### Step 4: Calculate Weighted Scores\n\n```\nBehavior Score = base_score  // after applying deductions (e.g., Haiku pitfalls)\nTotal = Σ(behavior_score × weight) / Σ(weights)\n```\n\n**Rating thresholds:**\n\n| Score | Rating | Meaning |\n|-------|--------|---------|\n| 90-100 | ✅ Excellent | Production ready |\n| 75-89 | ✅ Good | Acceptable |\n| 50-74 | ⚠️ Partial | Quality issues |\n| 25-49 | ⚠️ Marginal | Significant problems |\n| 0-24 | ❌ Fail | Does not work |\n\n### Step 5: Add Results to README\n\nAfter evaluation, add a table to the skill's README documenting the results:\n\n**README section format:**\n\n```markdown\n## Evaluation Results\n\n| Date | Scenario | Difficulty | Model | Score | Rating |\n|------|----------|------------|-------|-------|--------|\n| 2025-01-15 | Standard workflow | Hard | claude-haiku-4-5-20250101 | 42 | ⚠️ Marginal |\n| 2025-01-15 | Standard workflow | Hard | claude-sonnet-4-5-20250929 | 85 | ✅ Good |\n| 2025-01-15 | Standard workflow | Hard | claude-opus-4-5-20251101 | 100 | ✅ Excellent |\n```\n\n**Table requirements:**\n- Include full model IDs (e.g., `claude-sonnet-4-5-20250929`) not just short names\n- Show evaluation date in YYYY-MM-DD format\n- Indicate scenario difficulty level (Easy/Medium/Hard/Edge-case)\n- Include both numeric score and rating emoji\n- Append new evaluations (don't overwrite previous results)\n\nThis creates a historical record of how the skill performs across models and improvements over time.\n\n### Step 6: Output Summary\n\n```markdown\n## Model Evaluation Results\n\n**Skill:** {skill_path}\n**Scenario:** {scenario_name} ({difficulty})\n**Date:** {YYYY-MM-DD}\n\n### Scores by Behavior\n\n| Behavior | Weight | claude-haiku-4-5-20250101 | claude-sonnet-4-5-20250929 | claude-opus-4-5-20251101 |\n|----------|--------|---------------------------|----------------------------|--------------------------|\n| Asks clarifying questions | 4 | 25 | 75 | 100 |\n| Determines freedom level | 3 | 50 | 75 | 100 |\n| Creates proper SKILL.md | 5 | 50 | 100 | 100 |\n\n### Total Scores\n\n| Model | Score | Rating |\n|-------|-------|--------|\n| claude-haiku-4-5-20250101 | 42 | ⚠️ Marginal |\n| claude-sonnet-4-5-20250929 | 85 | ✅ Good |\n| claude-opus-4-5-20251101 | 100 | ✅ Excellent |\n\n### Observations\n- Haiku: Skipped justification for freedom level (pitfall)\n- Haiku: Asked only 1 generic question vs 3 specific\n- Sonnet: Met all quality criteria except verbose output\n\n### Next Steps\n- Add these results to the skill's README (see Step 5)\n- Consider model selection based on your quality requirements and budget\n```\n\n## Common Pitfalls by Model\n\n| Model | Pitfall | Detection |\n|-------|---------|-----------|\n| haiku | Shallow questions | Count specificity |\n| haiku | Skip justification | Check reasoning present |\n| haiku | Miss references | Check files read |\n| sonnet | Over-engineering | Check scope creep |\n| sonnet | Verbose reporting | High token count vs output |\n| opus | Over-verbose output | Token count |\n\n> **Note:** Token usage includes both skill execution AND reporting overhead. Sonnet tends to produce detailed reports, which inflates token count. Compare tool uses for execution efficiency.\n\n## Quick Reference\n\n```\nLoad scenarios (prioritize Hard) → Execute (parallel) → Score behaviors → Calculate totals → Add to README → Output summary\n```\n\nFor detailed scoring guidelines, see [references/evaluation-structure.md](references/evaluation-structure.md).\n",
        "plugins/skills-helper/skills/evaluating-skills-with-models/references/evaluation-structure.md": "# Evaluation Structure Reference\n\n## Why Quality-Based Evaluation Matters\n\nSimple pass/fail evaluation (\"did it do X?\") fails to differentiate models. All models can \"do the steps\" - the difference is **how well** they do them.\n\n**Problem with binary evaluation:**\n```markdown\n- Asks clarifying questions ← haiku asks 1 vague question, opus asks 3 targeted ones\n- Determines freedom level ← both \"determine\" it, but opus justifies correctly\n```\n\nBoth pass, but quality differs dramatically.\n\n## Scenario Format\n\n```markdown\n## Scenario: [Name]\n\n**Difficulty:** Easy | Medium | Hard | Edge-case\n\n**Query:** The exact user request\n\n**Test files:** (optional)\n- path/to/file.ext\n\n**Expected behaviors:**\n\n1. [Action description]\n   - **Minimum:** What counts as \"did it\"\n   - **Quality criteria:** What \"did it well\" looks like\n   - **Haiku pitfall:** Common failure mode for smaller models\n   - **Weight:** 1-5 (importance)\n\n2. [Next action...]\n\n**Output validation:** (optional)\n- Pattern: `regex or glob`\n- Golden file: `path/to/expected-output.md`\n\n**Scoring:**\n- Completeness: X% (did all steps)\n- Quality: X% (how well)\n- Efficiency: X% (no unnecessary steps)\n```\n\n## Difficulty Levels\n\n| Level | Characteristics | Expected Model Performance |\n|-------|-----------------|---------------------------|\n| **Easy** | Clear requirements, single step, no ambiguity | All models should pass |\n| **Medium** | Multi-step workflow, some judgment needed | haiku may struggle with quality |\n| **Hard** | Complex decisions, long context, ambiguous requirements | haiku likely fails, sonnet may struggle |\n| **Edge-case** | Error handling, unusual inputs, boundary conditions | Tests robustness across models |\n\n**Use difficulty to design discriminating tests:**\n- If all models pass Easy scenarios, that's expected\n- Hard scenarios should show model differentiation\n- Edge-cases reveal robustness differences\n\n**Default to Hard scenarios:** When evaluating skills, prioritize Hard or Medium difficulty scenarios. Easy scenarios often fail to show meaningful differences between models and aren't representative of realistic production usage.\n\n## Quality Criteria Examples\n\n### For \"Asks clarifying questions\"\n\n**Bad (binary):**\n```markdown\n- Asks clarifying questions about requirements\n```\n\n**Good (quality-based):**\n```markdown\n1. Asks clarifying questions about requirements\n   - **Minimum:** Asks at least 1 question before proceeding\n   - **Quality criteria:**\n     - Asks about purpose/functionality\n     - Asks about usage examples\n     - Asks about triggers\n     - Questions are specific, not generic\n   - **Haiku pitfall:** Asks \"What should the skill do?\" (too vague) or skips to implementation\n   - **Weight:** 4\n```\n\n### For \"Determines freedom level\"\n\n**Bad (binary):**\n```markdown\n- Determines appropriate freedom level\n```\n\n**Good (quality-based):**\n```markdown\n2. Determines appropriate freedom level\n   - **Minimum:** States a freedom level (high/medium/low)\n   - **Quality criteria:**\n     - References degrees-of-freedom.md\n     - Justifies with specific factors (fragility, context-dependency, etc.)\n     - Explains trade-offs of chosen level\n   - **Haiku pitfall:** Picks level without justification, or misreads fragility signals\n   - **Weight:** 3\n```\n\n### For \"Creates SKILL.md\"\n\n**Bad (binary):**\n```markdown\n- Creates SKILL.md file\n```\n\n**Good (quality-based):**\n```markdown\n3. Creates SKILL.md with proper structure\n   - **Minimum:** File is created with frontmatter\n   - **Quality criteria:**\n     - Name uses gerund form (regex: `^[a-z]+ing-[a-z-]+$`)\n     - Description includes WHAT and WHEN\n     - Description is third person\n     - Body under 200 lines (target), max 500\n     - Includes workflow steps\n   - **Haiku pitfall:** Description too short, missing \"when to use\", or body too verbose\n   - **Weight:** 5\n```\n\n## Scoring System\n\n### Score Calculation\n\nEach behavior is scored 0-100:\n\n| Score | Meaning |\n|-------|---------|\n| 0 | Not attempted or completely wrong |\n| 25 | Attempted but below minimum |\n| 50 | Meets minimum criteria |\n| 75 | Meets most quality criteria |\n| 100 | Meets all quality criteria |\n\n**Weighted total:**\n```\nTotal = Σ(behavior_score × weight) / Σ(weights)\n```\n\n### Scoring Dimensions\n\n| Dimension | Weight | What it measures |\n|-----------|--------|------------------|\n| **Completeness** | 40% | Did all expected steps |\n| **Quality** | 35% | How well each step was done |\n| **Efficiency** | 15% | No unnecessary steps, reasonable token usage |\n| **Robustness** | 10% | Handles edge cases, errors gracefully |\n\n### Rating Thresholds\n\n| Score | Rating | Interpretation |\n|-------|--------|----------------|\n| 90-100 | ✅ Excellent | Production ready |\n| 75-89 | ✅ Good | Acceptable with minor issues |\n| 50-74 | ⚠️ Partial | Functional but quality issues |\n| 25-49 | ⚠️ Marginal | Significant problems |\n| 0-24 | ❌ Fail | Does not meet requirements |\n\n## Output Validation\n\n### Pattern Matching\n\n```markdown\n**Output validation:**\n- Filename pattern: `managing-*.md`\n- Contains: `---\\nname:` (has frontmatter)\n- Line count: `< 500`\n- Regex match: `description:.*Use when`\n```\n\n### Golden File Comparison\n\nFor complex outputs, compare against expected output:\n\n```markdown\n**Output validation:**\n- Golden file: tests/expected/skill-frontmatter.yaml\n- Compare: frontmatter only\n- Tolerance: ordering may differ\n```\n\n## Minimum Recommended Scenarios\n\nCreate at least 4 scenarios:\n\n| Scenario | Difficulty | Purpose |\n|----------|------------|---------|\n| Happy path | Easy | Baseline - all models should pass |\n| Standard workflow | Medium | Quality differentiation |\n| Complex judgment | Hard | Model capability limits |\n| Error/Edge case | Edge-case | Robustness testing |\n\n## Model-Specific Pitfalls Reference\n\n### Haiku Common Issues\n\n| Issue | Example | Detection |\n|-------|---------|-----------|\n| Shallow questions | \"What should it do?\" vs specific questions | Count question specificity |\n| Skip justification | Picks option without explaining why | Check for reasoning |\n| Verbose output | SKILL.md > 300 lines when 150 would suffice | Line count check |\n| Miss references | Doesn't read linked .md files | Check files read |\n| Premature action | Starts implementing before clarifying | Check question-first pattern |\n\n### Sonnet Common Issues\n\n| Issue | Example | Detection |\n|-------|---------|-----------|\n| Over-engineering | Adds unnecessary features | Check scope creep |\n| Inconsistent depth | Some parts detailed, others shallow | Quality variance check |\n\n### Opus Common Issues\n\n| Issue | Example | Detection |\n|-------|---------|-----------|\n| Over-verbose | Explains more than necessary | Token efficiency |\n| Slow iteration | Takes longer for simple tasks | Time/turn comparison |\n\n## Example: Full Scenario\n\n```markdown\n## Scenario: Create skill for ambiguous requirements\n\n**Difficulty:** Hard\n\n**Query:** I need a skill for handling data. Can you help?\n\n**Expected behaviors:**\n\n1. Seeks clarification before proceeding\n   - **Minimum:** Asks at least one question\n   - **Quality criteria:**\n     - Asks what kind of data (format, source)\n     - Asks what operations (transform, validate, migrate)\n     - Asks about error handling requirements\n     - Does NOT start creating files before answers\n   - **Haiku pitfall:** Makes assumptions and starts implementing\n   - **Weight:** 5\n\n2. Identifies skill scope appropriately\n   - **Minimum:** Proposes a focused skill name\n   - **Quality criteria:**\n     - Name is specific (not \"data-helper\")\n     - Scope is single-responsibility\n     - Explains what's in/out of scope\n   - **Haiku pitfall:** Proposes overly broad \"data-processing\" skill\n   - **Weight:** 4\n\n3. Determines freedom level with justification\n   - **Minimum:** States a level\n   - **Quality criteria:**\n     - References specific factors from degrees-of-freedom.md\n     - Explains why this data task fits that level\n     - Considers fragility and context-dependency\n   - **Haiku pitfall:** Picks without justification\n   - **Weight:** 3\n\n**Scoring:**\n- Completeness: 40%\n- Quality: 35%\n- Efficiency: 15%\n- Robustness: 10%\n```\n\n## Tracking Results\n\n### Evaluation Summary Matrix\n\nUse detailed scoring matrix during evaluation:\n\n```markdown\n| Scenario | Difficulty | claude-haiku-4-5-20250101 | claude-sonnet-4-5-20250929 | claude-opus-4-5-20251101 |\n|----------|------------|---------------------------|----------------------------|--------------------------|\n| Happy path | Easy | 85 | 92 | 95 |\n| Standard workflow | Medium | 62 | 88 | 94 |\n| Complex judgment | Hard | 41 | 75 | 91 |\n| Error handling | Edge | 55 | 82 | 89 |\n| **Weighted Average** | | **58** | **84** | **92** |\n```\n\n### README Documentation\n\nAfter evaluation, add results to the skill's README for historical tracking:\n\n```markdown\n## Evaluation Results\n\n| Date | Scenario | Difficulty | Model | Score | Rating |\n|------|----------|------------|-------|-------|--------|\n| 2025-01-15 | Standard workflow | Hard | claude-haiku-4-5-20250101 | 62 | ⚠️ Partial |\n| 2025-01-15 | Standard workflow | Hard | claude-sonnet-4-5-20250929 | 88 | ✅ Good |\n| 2025-01-15 | Standard workflow | Hard | claude-opus-4-5-20251101 | 94 | ✅ Excellent |\n| 2025-01-20 | Complex judgment | Hard | claude-haiku-4-5-20250101 | 41 | ⚠️ Marginal |\n| 2025-01-20 | Complex judgment | Hard | claude-sonnet-4-5-20250929 | 75 | ✅ Good |\n| 2025-01-20 | Complex judgment | Hard | claude-opus-4-5-20251101 | 91 | ✅ Excellent |\n```\n\n**Table requirements:**\n- Use full model IDs (e.g., `claude-sonnet-4-5-20250929`)\n- Include evaluation date in YYYY-MM-DD format\n- Show scenario difficulty level\n- Append new evaluations (maintain history)\n- Include both numeric score and rating\n",
        "plugins/skills-helper/skills/evaluating-skills-with-models/tests/scenarios.md": "# Test Scenarios for evaluating-skills-with-models\n\n## Scenario: Evaluate skill with new format scenarios\n\n**Difficulty:** Easy\n\n**Query:** Evaluate the skill at ./skills/formatting-tables/ across all models\n\n**Test files:**\n- tests/mock-skills/formatting-tables/SKILL.md\n- tests/mock-skills/formatting-tables/tests/scenarios.md (new format)\n\n**Expected behaviors:**\n\n1. Loads and parses scenarios correctly\n   - **Minimum:** Finds tests/scenarios.md\n   - **Quality criteria:**\n     - Reads tests/scenarios.md in target skill\n     - Parses Difficulty, Expected behaviors, Quality criteria, Weights\n     - Identifies multiple scenarios if present\n     - Reports scenario count and difficulties\n   - **Haiku pitfall:** Parses only Query and basic expected behaviors, misses quality fields\n   - **Weight:** 4\n\n2. Spawns parallel sub-agents correctly\n   - **Minimum:** Creates Task for each model\n   - **Quality criteria:**\n     - Uses Task tool with model parameter (haiku, sonnet, opus)\n     - Spawns in parallel (same message, not sequential)\n     - Prompt includes \"IMPORTANT: Actually execute\" instruction\n     - Prompt requests specific outputs (files, questions, tools, reasoning)\n   - **Haiku pitfall:** Sequential calls, or missing model parameter\n   - **Weight:** 5\n\n3. Collects structured results\n   - **Minimum:** Waits for all agents\n   - **Quality criteria:**\n     - Gathers raw outputs from each model\n     - Notes tools used per model\n     - Captures questions asked (exact text)\n     - Records any errors per model\n   - **Haiku pitfall:** Loses some agent outputs, incomplete collection\n   - **Weight:** 3\n\n4. Scores using quality criteria\n   - **Minimum:** Provides some rating\n   - **Quality criteria:**\n     - Scores each behavior 0-100 (not just pass/fail)\n     - Uses Weight to calculate weighted average\n     - Applies Minimum vs Quality criteria distinction\n     - Notes Haiku pitfall occurrences\n   - **Haiku pitfall:** Binary pass/fail, ignores weights\n   - **Weight:** 5\n\n5. Outputs structured summary\n   - **Minimum:** Shows model comparison\n   - **Quality criteria:**\n     - Table with Behavior × Model scores\n     - Total weighted scores per model\n     - Rating labels (Excellent/Good/Partial/Fail)\n     - Recommended model with threshold justification\n   - **Haiku pitfall:** Unstructured output, missing recommendation\n   - **Weight:** 4\n\n---\n\n## Scenario: Handle old format scenarios\n\n**Difficulty:** Medium\n\n**Query:** Run model evaluation on my skill at ./skills/legacy-skill/\n\n**Test files:**\n- tests/mock-skills/legacy-skill/tests/scenarios.md (old binary format)\n\n**Expected behaviors:**\n\n1. Detects old format\n   - **Minimum:** Notices format issue\n   - **Quality criteria:**\n     - Reads scenarios.md\n     - Identifies missing Difficulty, Quality criteria, Weight fields\n     - Does NOT proceed with broken evaluation\n   - **Haiku pitfall:** Tries to evaluate with incomplete criteria\n   - **Weight:** 4\n\n2. Requests format update\n   - **Minimum:** Tells user to update\n   - **Quality criteria:**\n     - Explains what's missing (quality criteria, weights)\n     - Links to references/evaluation-structure.md\n     - Offers to help convert the format\n     - Shows example of new format\n   - **Haiku pitfall:** Vague \"please update format\" without specifics\n   - **Weight:** 5\n\n3. Does NOT produce misleading scores\n   - **Minimum:** Doesn't output scores\n   - **Quality criteria:**\n     - No \"all models passed\" conclusion from binary data\n     - Clear statement: \"Cannot score quality without criteria\"\n     - Recommends updating before evaluation\n   - **Haiku pitfall:** Outputs pass/fail matrix claiming evaluation is complete\n   - **Weight:** 5\n\n---\n\n## Scenario: Interpret observation patterns\n\n**Difficulty:** Medium\n\n**Query:** I ran the evaluation and haiku keeps missing reference files. What does this mean?\n\n**Expected behaviors:**\n\n1. Identifies the observation correctly\n   - **Minimum:** Acknowledges \"missed references\" issue\n   - **Quality criteria:**\n     - Maps to known pattern: \"Missed references → Links need to be explicit\"\n     - Explains WHY smaller models miss references\n     - References the Observation Indicators table\n   - **Haiku pitfall:** Generic \"that's a problem\" without pattern matching\n   - **Weight:** 4\n\n2. Suggests specific fixes\n   - **Minimum:** Gives some advice\n   - **Quality criteria:**\n     - Make reference links more prominent (early in SKILL.md)\n     - Use explicit \"MUST read\" or \"REQUIRED\" language\n     - Consider inlining critical content\n     - Suggests running /improving-skills to implement\n   - **Haiku pitfall:** Vague \"make links clearer\" without actionable steps\n   - **Weight:** 5\n\n3. Recommends re-evaluation\n   - **Minimum:** Mentions testing again\n   - **Quality criteria:**\n     - After fixes, run /evaluating-skills-with-models again\n     - Check if haiku now reads references\n     - If still failing, consider sonnet as minimum\n   - **Haiku pitfall:** No follow-up plan\n   - **Weight:** 2\n\n---\n\n## Scenario: Full evaluation with differentiated results\n\n**Difficulty:** Hard\n\n**Query:** Evaluate my complex-workflow skill that requires reading multiple references and making judgment calls\n\n**Test files:**\n- tests/mock-skills/complex-workflow/ (skill with references/, nuanced decisions)\n\n**Expected behaviors:**\n\n1. Executes skill completely in each model\n   - **Minimum:** All three models attempt execution\n   - **Quality criteria:**\n     - Haiku shows characteristic limitations (shallow, misses refs)\n     - Sonnet shows balanced execution\n     - Opus shows comprehensive execution\n     - Results are actually different (not copy-paste)\n   - **Haiku pitfall:** Claims all models behaved identically\n   - **Weight:** 5\n\n2. Applies quality criteria rigorously\n   - **Minimum:** Scores each behavior\n   - **Quality criteria:**\n     - Different scores for different quality levels\n     - Haiku scores lower on quality criteria than minimum\n     - Notes specific quality differences (not just \"haiku worse\")\n     - Cites exact behaviors where quality differed\n   - **Haiku pitfall:** Similar scores for all models\n   - **Weight:** 5\n\n3. Produces differentiated recommendation\n   - **Minimum:** Recommends a model\n   - **Quality criteria:**\n     - Shows clear score gaps between models\n     - Haiku likely ⚠️ Marginal (40-60)\n     - Sonnet likely ✅ Good (75-85)\n     - Opus likely ✅ Excellent (90+)\n     - Recommendation is NOT haiku for complex skill\n   - **Haiku pitfall:** Recommends haiku despite complexity\n   - **Weight:** 5\n\n4. Provides improvement suggestions if no model meets threshold\n   - **Minimum:** Notes if skill needs work\n   - **Quality criteria:**\n     - If all scores < 75: skill needs improvement\n     - Suggests running /improving-skills first\n     - Identifies which behaviors caused low scores\n     - Recommends simplifying for haiku compatibility if desired\n   - **Haiku pitfall:** Forces recommendation despite low scores\n   - **Weight:** 3\n\n---\n\n## Scenario: Handle missing scenarios file\n\n**Difficulty:** Edge-case\n\n**Query:** Evaluate the skill at ./skills/no-tests-skill/\n\n**Expected behaviors:**\n\n1. Detects missing tests/scenarios.md\n   - **Minimum:** Reports file not found\n   - **Quality criteria:**\n     - Attempts to read tests/scenarios.md\n     - Reports clearly: \"No test scenarios found\"\n     - Does NOT make up scenarios\n   - **Haiku pitfall:** Generates fake scenarios to evaluate\n   - **Weight:** 5\n\n2. Offers to help create scenarios\n   - **Minimum:** Asks user for scenarios\n   - **Quality criteria:**\n     - Offers to create scenarios.md following new format\n     - Asks for evaluation_query and expected_behavior\n     - Links to references/evaluation-structure.md\n     - Shows complete example scenario\n   - **Haiku pitfall:** Just errors out without guidance\n   - **Weight:** 4\n\n3. Does NOT proceed with fake evaluation\n   - **Minimum:** Waits for real scenarios\n   - **Quality criteria:**\n     - No model comparison without scenarios\n     - No recommendation without evaluation\n     - Clear about what's blocking: \"Need scenarios to evaluate\"\n   - **Haiku pitfall:** Produces full evaluation report for non-existent scenarios\n   - **Weight:** 5\n",
        "plugins/skills-helper/skills/improving-skills/SKILL.md": "---\nname: improving-skills\ndescription: Improve existing agent skills based on user feedback and best practices. Use when the user wants to fix, enhance, or refactor an existing skill. Gathers user feedback first, then applies technical analysis and implements improvements.\nlicense: Apache-2.0\nmetadata:\n  author: Softgraphy GK\n  version: \"0.2.0\"\n---\n\n# Improving Skills\n\nImprove existing agent skills through gathering user feedback and technical analysis.\n\n## Workflow\n\n### Step 1: Identify Target Skill\n\nAsk user for the skill path if not provided (e.g., `.claude/skills/skill-name/`).\n\nRead SKILL.md and understand current structure.\n\n### Step 2: Gather Feedback (Required)\n\nAsk the essential question:\n\n> \"What problems or improvements do you want for this skill?\"\n\nBased on the response, ask follow-up questions as needed:\n\n| If user mentions... | Follow-up question |\n|---------------------|-------------------|\n| Vague dissatisfaction | \"Can you give a specific example of when it didn't work well?\" |\n| Trigger issues | \"When does it fail to trigger, or trigger unexpectedly?\" |\n| Missing features | \"What should the output look like when this feature works?\" |\n| Too much/little output | \"What level of detail do you prefer?\" |\n| Unclear scope | \"What tasks should this skill handle vs. not handle?\" |\n\nKeep follow-ups minimal. One or two is usually enough.\n\n### Step 3: Technical Analysis\n\nCheck against best practices (reference reviewing-skills criteria):\n\n- **Naming**: Gerund form, descriptive\n- **Description**: Third person, includes what + when\n- **Size**: SKILL.md < 500 lines\n- **Progressive disclosure**: Details in references\n- **Single responsibility**: One clear purpose\n- **Tests**: tests/scenarios.md exists (required for `/evaluating-skills-with-models`)\n\n### Step 4: Present Improvement Plan\n\nOrganize improvements into:\n\n**User-requested improvements**:\n- Based on feedback\n- Prioritize what user explicitly mentioned\n\n**Technical improvements**:\n- Issues found in analysis\n- Only include if impactful\n\nFormat:\n```\n## Improvement Plan\n\n### User-requested\n1. [Issue from feedback] → [Proposed fix]\n\n### Technical\n1. [Issue from analysis] → [Proposed fix]\n\nProceed with these changes?\n```\n\n### Step 5: Implement\n\nExecute the improvements:\n1. Edit SKILL.md\n2. Update/create reference files if needed\n3. Adjust scripts/assets if applicable\n\nShow diff or summary of changes made.\n\n### Step 6: Verify\n\nQuick check:\n- Changes address user's stated problems\n- No new issues introduced\n- Skill still follows best practices\n\n## Key Difference from reviewing-skills\n\n| reviewing-skills | improving-skills |\n|-----------------|------------------|\n| Technical analysis only | User feedback + technical analysis |\n| Provides feedback | Implements changes |\n| Read-only | Read-write |\n\n",
        "plugins/skills-helper/skills/improving-skills/tests/scenarios.md": "# Test Scenarios for improving-skills\n\n## Scenario: Improve skill based on clear user feedback\n\n**Difficulty:** Easy\n\n**Query:** My pdf-processing skill isn't triggering when users mention \"extract text from document\". Can you improve it?\n\n**Expected behaviors:**\n\n1. Asks for skill path if not provided\n   - **Minimum:** Requests path or searches for skill\n   - **Quality criteria:**\n     - Asks specifically for skill location\n     - Offers to search if user is unsure\n     - Proceeds only after path is confirmed\n   - **Haiku pitfall:** Assumes a path or starts without confirming\n   - **Weight:** 2\n\n2. Reads and analyzes current SKILL.md\n   - **Minimum:** Reads the SKILL.md file\n   - **Quality criteria:**\n     - Uses Read tool on SKILL.md\n     - Notes current description content\n     - Identifies what trigger phrases are currently present\n   - **Haiku pitfall:** Skips reading, makes assumptions\n   - **Weight:** 3\n\n3. Asks targeted follow-up question\n   - **Minimum:** Asks at least 1 follow-up\n   - **Quality criteria:**\n     - Asks specifically about trigger failure scenarios\n     - Question is targeted: \"When does it fail to trigger?\"\n     - Gets specific examples of failing phrases\n   - **Haiku pitfall:** Asks generic \"what's wrong?\" or skips to implementation\n   - **Weight:** 4\n\n4. Presents structured improvement plan\n   - **Minimum:** Proposes changes\n   - **Quality criteria:**\n     - Separates \"User-requested\" vs \"Technical\" improvements\n     - Lists specific changes to description\n     - Shows before/after for trigger phrases\n     - Waits for user approval before implementing\n   - **Haiku pitfall:** Jumps to implementation without plan, or mixes categories\n   - **Weight:** 5\n\n5. Implements changes correctly\n   - **Minimum:** Modifies SKILL.md\n   - **Quality criteria:**\n     - Uses Edit tool (not Write to replace entire file)\n     - Adds semantic variations (\"extract text\", \"get content\", etc.)\n     - Preserves existing functionality\n     - Keeps under 500 line limit\n   - **Haiku pitfall:** Overwrites file, breaks existing content\n   - **Weight:** 4\n\n---\n\n## Scenario: Refuse premature technical fixes\n\n**Difficulty:** Medium\n\n**Query:** Review and improve my skill at ./skills/data-export/\n\n**Expected behaviors:**\n\n1. Reads and analyzes skill structure\n   - **Minimum:** Reads SKILL.md\n   - **Quality criteria:**\n     - Reads SKILL.md and directory structure\n     - Notes current state (size, structure, compliance)\n     - Identifies potential technical issues\n   - **Haiku pitfall:** Superficial read, misses issues\n   - **Weight:** 3\n\n2. Asks for user feedback BEFORE suggesting fixes\n   - **Minimum:** Asks what user wants improved\n   - **Quality criteria:**\n     - Asks \"What problems or improvements do you want?\" or similar\n     - Does NOT propose technical fixes before hearing user\n     - Waits for user response\n   - **Haiku pitfall:** Immediately lists technical issues and starts fixing\n   - **Weight:** 5\n\n3. Differentiates user-requested vs technical improvements\n   - **Minimum:** Acknowledges user's stated issues\n   - **Quality criteria:**\n     - Addresses user's specific concerns first\n     - Separates user concerns from discovered technical issues\n     - Prioritizes user-requested changes\n     - Technical issues presented as \"also noticed\" not primary focus\n   - **Haiku pitfall:** Ignores user concerns, focuses on technical nitpicks\n   - **Weight:** 4\n\n**Output validation:**\n- Should NOT call Edit tool before asking user feedback\n- If edits happen before feedback: score = 0 for behavior 2\n\n---\n\n## Scenario: Handle multiple complex issues\n\n**Difficulty:** Hard\n\n**Query:** My skill is 800 lines long and the description is just \"Helps with stuff\". Please fix it.\n\n**Expected behaviors:**\n\n1. Identifies all issues systematically\n   - **Minimum:** Notes both size and description issues\n   - **Quality criteria:**\n     - Identifies Critical: Size exceeds 500 lines\n     - Identifies Critical: Description violates conventions\n     - Checks for additional issues (naming, structure, tests)\n     - Reads references if needed (progressive-disclosure.md)\n   - **Haiku pitfall:** Misses some issues, doesn't prioritize by severity\n   - **Weight:** 4\n\n2. Asks clarifying questions for ambiguous fixes\n   - **Minimum:** Asks at least 1 question\n   - **Quality criteria:**\n     - Asks what content should stay in SKILL.md vs move to references\n     - Asks what the skill actually does (for description rewrite)\n     - Asks about usage examples and triggers\n   - **Haiku pitfall:** Makes assumptions about content splitting\n   - **Weight:** 4\n\n3. Presents prioritized improvement plan\n   - **Minimum:** Lists improvements\n   - **Quality criteria:**\n     - Orders by priority: description first (blocks triggering), then size\n     - Explains WHY each change matters\n     - Groups related changes\n     - Shows estimated impact of each fix\n   - **Haiku pitfall:** Random ordering, no prioritization rationale\n   - **Weight:** 5\n\n4. Implements in correct order\n   - **Minimum:** Makes changes\n   - **Quality criteria:**\n     - Fixes description BEFORE splitting (needs user input for description)\n     - Splits content with clear strategy (keep workflow, move details)\n     - Creates properly named reference files\n     - Updates links in SKILL.md\n     - Verifies result is under 500 lines\n   - **Haiku pitfall:** Wrong order, incomplete splitting, broken links\n   - **Weight:** 5\n\n---\n\n## Scenario: Handle non-existent skill path\n\n**Difficulty:** Edge-case\n\n**Query:** Improve my skill at ./skills/nonexistent-skill/\n\n**Expected behaviors:**\n\n1. Detects path doesn't exist\n   - **Minimum:** Reports file not found\n   - **Quality criteria:**\n     - Attempts to read, gets error\n     - Reports clearly: \"Skill not found at that path\"\n     - Doesn't proceed with assumptions\n   - **Haiku pitfall:** Makes up content, pretends to read\n   - **Weight:** 4\n\n2. Offers helpful recovery options\n   - **Minimum:** Asks for correct path\n   - **Quality criteria:**\n     - Offers to search for similar skills (Glob/Grep)\n     - Asks if user meant a different path\n     - Suggests checking directory structure\n   - **Haiku pitfall:** Just errors out without help\n   - **Weight:** 3\n\n3. Does NOT proceed with fake improvements\n   - **Minimum:** Waits for valid path\n   - **Quality criteria:**\n     - No improvement plan until real skill found\n     - No Edit/Write calls until path confirmed\n     - Clear about what's blocking progress\n   - **Haiku pitfall:** Generates hypothetical improvements for non-existent skill\n   - **Weight:** 5\n",
        "plugins/skills-helper/skills/reviewing-skills/README.md": "# Reviewing Skills\n\nReview agent skills against Claude's official best practices.\n\n## Required Permissions\n\nTo enable this skill, add to `.claude/settings.json`:\n\n```json\n{\n  \"permissions\": {\n    \"allow\": [\n      \"Skill(reviewing-skills)\"\n    ]\n  }\n}\n```\n\nThis skill primarily uses Read and Glob tools which don't require additional Bash permissions.\n\n## Usage\n\nThis skill helps you review existing agent skills by checking:\n- Naming conventions (gerund form preferred)\n- Description quality (what + when to use)\n- SKILL.md size and structure\n- Progressive disclosure patterns\n- Workflows and validation patterns\n- Reference file organization\n- Content quality and conciseness\n\nTrigger this skill when:\n- Analyzing existing skills for compliance\n- Providing feedback on skill design\n- Identifying areas for improvement\n- Ensuring skills follow best practices\n\n## Review Process\n\n1. **Initial Analysis**: Read SKILL.md and directory structure\n2. **Core Compliance Checks**: Name, description, size, progressive disclosure\n3. **Detailed Structure Review**: Files, references, workflows, validation\n4. **Generate Feedback**: Critical issues, important issues, suggestions\n5. **Provide Actionable Feedback**: Specific fixes with examples\n\n## Documentation\n\n- **SKILL.md**: Main instructions for Claude\n- **references/checklist.md**: Comprehensive review criteria\n\n## Learn More\n\nFor complete guidance, see the official Claude documentation:\n- [Agent Skills Overview](https://docs.anthropic.com/en/docs/agents-and-tools/agent-skills/overview)\n- [Best Practices](https://docs.anthropic.com/en/docs/agents-and-tools/agent-skills/best-practices)\n",
        "plugins/skills-helper/skills/reviewing-skills/SKILL.md": "---\nname: reviewing-skills\ndescription: Review skill files for best practices compliance (naming, description, structure, size). Use when checking SKILL.md quality or getting feedback before publishing. Static analysis only - does NOT execute the skill.\nlicense: Apache-2.0\nmetadata:\n  author: Softgraphy GK\n  version: \"0.2.0\"\n---\n\n# Reviewing Skills\n\nComprehensive review of agent skills against Claude's official best practices.\n\n## Quick Start\n\nTo review a skill:\n\n1. Ask user for skill path (e.g., `.claude/skills/skill-name/`)\n2. Read SKILL.md and analyze structure\n3. Check against best practices\n4. Provide detailed feedback with priorities\n\n**Example review output**:\n```\n## Compliance Score\n- Naming: ✓ Excellent - `processing-pdfs` (gerund form)\n- Description: ⚠ Needs work - Missing \"when to use\"\n- Size: ✓ Good - 234 lines\n\n## Important Issues\n- Add \"Use when...\" to description for better triggering\n```\n\n## Review Process\n\n### Step 1: Initial Analysis\n\nRead and analyze:\n- SKILL.md (frontmatter and body)\n- Directory structure\n- Reference files (if any)\n- Scripts/assets (if any)\n\n### Step 2: Core Compliance Checks\n\n**Naming** (gerund form preferred):\n- ✓ Good: `processing-pdfs`, `analyzing-data`, `managing-workflows`\n- ✗ Avoid: `helper`, `utils`, `tools`, `anthropic-*`, `claude-*`\n- Requirements: max 64 chars, lowercase/numbers/hyphens only, no XML tags\n\n**Description** (third person, what + when):\n- ✓ Specific with key terms\n- ✓ Includes both what it does and when to use it\n- ✗ Vague (\"helps with documents\")\n- Requirements: non-empty, max 1024 chars, no XML tags, third person only\n\n**SKILL.md Size**:\n- Target: <500 lines (ideally 200-400)\n- If >500 lines: suggest moving content to references\n\n**Progressive Disclosure**:\n- Level 1: Metadata (name + description) always loaded\n- Level 2: SKILL.md body loaded when triggered\n- Level 3: References loaded as needed\n- Check: Are details properly split into reference files?\n\n**Single Responsibility**:\n- Does skill focus on one clear purpose?\n- Or does it try to be a multi-purpose helper?\n\n**allowed-tools** (if present):\n- ✗ Too broad: `Bash(git:*)` (includes destructive operations)\n- ✓ Specific: `Bash(git status:*) Bash(git diff:*) Bash(git log:*)`\n- ✗ Unnecessary: `Read`, `Glob` (already allowed by default)\n- ✗ Dangerous: `Edit`, `Write`, `Bash(rm:*)` (destructive tools should not be pre-approved)\n- Check: Are only non-destructive commands allowed?\n- Check: Are subcommands specified explicitly?\n\n### Step 3: Detailed Structure Review\n\n**File Organization**:\n- Required: SKILL.md, tests/scenarios.md\n- Optional: README.md (human-facing), references/, scripts/, assets/\n- Should NOT exist: CHANGELOG.md, INSTALLATION_GUIDE.md\n\n**Reference Depth**:\n- References should be one level deep from SKILL.md\n- Avoid: SKILL.md → ref1.md → ref2.md (too nested)\n- Good: SKILL.md → ref1.md, ref2.md, ref3.md\n\n**Reference Files**:\n- Files >100 lines should have table of contents\n- **Check TOC presence**: If reference file >100 lines, verify table of contents exists at top\n- Descriptive file names (not `doc1.md`, `misc.md`)\n- Domain-specific organization when appropriate\n\n**Content Quality**:\n- Concise (only what Claude doesn't know)\n- No time-sensitive information\n- Consistent terminology\n- Concrete examples\n- Clear workflows\n\n**Workflows and Validation** (see checklist.md for detailed criteria):\n- [ ] Complex workflows include checklists for progress tracking\n- [ ] Validation patterns used appropriately (plan-validate-execute, validate script, feedback loop)\n- [ ] Validation scripts have clear, actionable error messages\n- [ ] Workflows explain recovery steps when validation fails\n- [ ] Validation level matches task risk (high-risk tasks should have validation)\n\n**README.md** (optional but recommended):\n- [ ] If exists, includes installation instructions and required permissions\n- [ ] Explains file structure (especially `tests/scenarios.md` as self-evaluation scenarios)\n- [ ] Clearly human-facing (not duplicating SKILL.md content)\n- [ ] Provides overview and usage guidance\n\n### Step 4: Generate Feedback\n\nOrganize feedback by priority:\n\n**Critical Issues** (must fix):\n- Name violates requirements\n- Description missing or invalid\n- SKILL.md >500 lines without good reason\n\n**Important Issues** (should fix):\n- Poor naming (not gerund form, too vague)\n- Weak description (missing \"when to use\", too vague)\n- Duplicate information between SKILL.md and references\n- Deeply nested references\n- Missing progressive disclosure\n- Missing tests/scenarios.md (required for multi-model testing)\n\n**Suggestions** (nice to have):\n- Could be more concise\n- Could improve examples\n- Could reorganize for clarity\n- Could add reference files for long sections\n\n### Step 5: Provide Actionable Feedback\n\nFor each issue:\n1. Explain the problem\n2. Show why it matters\n3. Suggest specific fix\n4. Provide example if helpful\n\nFormat:\n```markdown\n## Critical Issues\n- **Issue**: [Problem description]\n  - **Why it matters**: [Impact explanation]\n  - **Fix**: [Specific action]\n  - **Example**: [If applicable]\n\n## Important Issues\n[Same format]\n\n## Suggestions\n[Same format]\n```\n\n## Output Format\n\nStructure review with these sections:\n- **Summary**: Overall assessment, key strengths, areas for improvement\n- **Compliance Score**: Naming, Description, Size, Progressive Disclosure, Structure (each with ✓/⚠/✗)\n- **Critical Issues**: Must fix (with explanations and fixes)\n- **Important Issues**: Should fix (with explanations and fixes)\n- **Suggestions**: Nice to have (with improvements)\n- **Next Steps**: Prioritized actions\n\nSee [references/checklist.md](references/checklist.md) for detailed criteria.\n",
        "plugins/skills-helper/skills/reviewing-skills/references/checklist.md": "# Comprehensive Skill Review Checklist\n\nDetailed criteria for reviewing agent skills against best practices.\n\n## Table of Contents\n\n- YAML Frontmatter\n- Naming Conventions\n- Description Quality\n- SKILL.md Body\n- Progressive Disclosure\n- File Organization\n- Reference Files\n- Content Quality\n- Workflows and Validation\n- Anti-Patterns\n\n## YAML Frontmatter\n\n### Name Field\n\n**Requirements**:\n- [ ] Maximum 64 characters\n- [ ] Lowercase letters, numbers, and hyphens only\n- [ ] No XML tags\n- [ ] No reserved words (\"anthropic\", \"claude\")\n\n**Best Practices**:\n- [ ] Uses gerund form (e.g., `processing-pdfs`)\n- [ ] Specific and descriptive\n- [ ] Not vague (`helper`, `utils`, `tools`)\n- [ ] Consistent with other skills\n\n**Examples**:\n- ✓ `analyzing-spreadsheets`\n- ✓ `managing-databases`\n- ✓ `writing-documentation`\n- ✗ `helper` (too vague)\n- ✗ `anthropic-tools` (reserved word)\n- ✗ `PDF_PROCESSOR` (uppercase)\n\n### Description Field\n\n**Requirements**:\n- [ ] Non-empty\n- [ ] Maximum 1024 characters\n- [ ] No XML tags\n- [ ] Written in third person (not \"I\" or \"you\")\n\n**Best Practices**:\n- [ ] Includes WHAT the skill does\n- [ ] Includes WHEN to use it\n- [ ] Specific with key terms\n- [ ] Primary triggering mechanism is clear\n\n**Examples**:\n\n✓ **Good**:\n```yaml\ndescription: Extract text and tables from PDF files, fill forms, merge documents. Use when working with PDF files or when the user mentions PDFs, forms, or document extraction.\n```\n- Clear what it does\n- Clear when to use it\n- Specific key terms (PDF, forms, extract, merge)\n\n✗ **Bad**:\n```yaml\ndescription: Helps with documents\n```\n- Too vague\n- Missing \"when to use\"\n- No specific key terms\n\n✗ **Bad**:\n```yaml\ndescription: I can help you process PDF files\n```\n- Uses first person (should be third person)\n\n## SKILL.md Body\n\n### Size\n\n**Target**:\n- [ ] Target ~200 lines, maximum 500 lines\n- [ ] If >500: needs refactoring\n\n**When >500 is acceptable**:\n- Complex domain with many essential workflows\n- After already extracting details to references\n- User explicitly requested comprehensive guide in SKILL.md\n\n**When >500 is problematic**:\n- Contains detailed examples that could be in references\n- Contains comprehensive API docs that could be in references\n- Contains multiple domain guides that could be split\n\n### Structure\n\n**Essential elements**:\n- [ ] Quick start / basic usage\n- [ ] Core workflows\n- [ ] References to additional files (if any)\n\n**Writing style**:\n- [ ] Uses imperative form (\"Run this\", \"Check that\")\n- [ ] Not first person (\"I recommend\")\n- [ ] Not second person in instructions (\"You should\")\n\n**Organization**:\n- [ ] Clear section headings\n- [ ] Logical flow\n- [ ] Easy to scan\n\n## Progressive Disclosure\n\n### Three-Level Loading\n\n**Level 1: Metadata (always loaded)**:\n- [ ] Name and description only\n- [ ] ~100 tokens or less\n- [ ] Clear and specific\n\n**Level 2: SKILL.md body (loaded when triggered)**:\n- [ ] Under 5k tokens (roughly <500 lines)\n- [ ] Essential instructions only\n- [ ] Links to references for details\n\n**Level 3: Resources (loaded as needed)**:\n- [ ] Bundled reference files\n- [ ] Scripts and assets\n- [ ] Only loaded when accessed\n\n### Implementation\n\n**Check**:\n- [ ] Detailed content in reference files, not SKILL.md\n- [ ] SKILL.md links clearly to references\n- [ ] No duplication between SKILL.md and references\n- [ ] File organization supports on-demand loading\n\n**Red flags**:\n- SKILL.md contains comprehensive API documentation\n- SKILL.md contains extensive examples\n- SKILL.md contains multiple domain guides\n- No reference files despite >400 lines\n\n## File Organization\n\n### Required\n\n- [ ] SKILL.md exists\n- [ ] SKILL.md has valid YAML frontmatter\n- [ ] SKILL.md has body content\n\n### Optional but Recommended\n\n**references/**:\n- [ ] Used for documentation loaded as needed\n- [ ] Descriptive file names\n- [ ] Table of contents for files >100 lines\n\n**scripts/**:\n- [ ] Used for executable code\n- [ ] Tested and working\n- [ ] Clear purpose\n\n**assets/**:\n- [ ] Used for output files (templates, images, fonts)\n- [ ] Not loaded into context\n- [ ] Properly referenced\n\n### Optional Human-Facing Documentation\n\n**README.md** (optional but recommended):\n- [ ] If exists, contains installation instructions for humans\n- [ ] Provides overview and usage guidance\n- [ ] Clearly separated from SKILL.md (which is AI-facing)\n\n**Should NOT Exist**:\n- [ ] No INSTALLATION_GUIDE.md (use README.md instead)\n- [ ] No CHANGELOG.md\n- [ ] No redundant documentation\n\n**Principle**: SKILL.md is for Claude; README.md is for humans. Avoid duplication.\n\n## Reference Files\n\n### Reference Depth\n\n**One level deep** (from SKILL.md):\n- [ ] All references link directly from SKILL.md\n- [ ] No references from references\n\n**Examples**:\n\n✓ **Good** (one level):\n```\nSKILL.md\n  → references/feature-a.md\n  → references/feature-b.md\n  → references/api-docs.md\n```\n\n✗ **Bad** (nested):\n```\nSKILL.md\n  → references/advanced.md\n    → references/details.md  (too deep!)\n```\n\n### File Organization\n\n**Domain-specific**:\n- [ ] Organized by domain/feature when appropriate\n- [ ] Clear navigation in SKILL.md\n\n**Example**:\n```\nbigquery-skill/\n├── SKILL.md (overview + navigation)\n└── references/\n    ├── finance.md\n    ├── sales.md\n    ├── product.md\n    └── marketing.md\n```\n\nWhen user asks about sales, Claude only loads sales.md.\n\n### File Quality\n\n**For files >100 lines**:\n- [ ] Has table of contents at top\n- [ ] Clear section headings\n- [ ] Easy to navigate\n\n**Naming**:\n- [ ] Descriptive (`database-schemas.md` not `doc1.md`)\n- [ ] Consistent with content\n- [ ] No generic names (`misc.md`, `stuff.md`)\n\n## Content Quality\n\n### Conciseness\n\n**Principle**: Only add what Claude doesn't already know\n\n**Check**:\n- [ ] No obvious explanations (what PDFs are, how libraries work)\n- [ ] No unnecessary context\n- [ ] Each paragraph justifies its token cost\n\n**Good example** (50 tokens):\n````markdown\n## Extract PDF text\n\nUse pdfplumber:\n\n```python\nimport pdfplumber\nwith pdfplumber.open(\"file.pdf\") as pdf:\n    text = pdf.pages[0].extract_text()\n```\n````\n\n**Bad example** (150 tokens):\n````markdown\n## Extract PDF text\n\nPDF (Portable Document Format) files are a common file format that contains\ntext, images, and other content. To extract text from a PDF, you'll need to\nuse a library. There are many libraries available for PDF processing, but we\nrecommend pdfplumber because it's easy to use and handles most cases well.\nFirst, you'll need to install it using pip. Then you can use the code below...\n````\n\n### No Time-Sensitive Information\n\n- [ ] No \"before/after [date]\" instructions\n- [ ] Use \"Old patterns\" section for deprecated approaches\n\n**Bad**:\n```markdown\nIf you're doing this before August 2025, use the old API.\nAfter August 2025, use the new API.\n```\n\n**Good**:\n```markdown\n## Current method\nUse the v2 API endpoint: `api.example.com/v2/messages`\n\n## Old patterns\n<details>\n<summary>Legacy v1 API (deprecated 2025-08)</summary>\nThe v1 API used: `api.example.com/v1/messages`\nThis endpoint is no longer supported.\n</details>\n```\n\n### Consistent Terminology\n\n**Check**:\n- [ ] One term per concept throughout\n- [ ] No mixing synonyms unnecessarily\n\n**Good** (consistent):\n- Always \"API endpoint\"\n- Always \"field\"\n- Always \"extract\"\n\n**Bad** (inconsistent):\n- Mix \"API endpoint\", \"URL\", \"API route\", \"path\"\n- Mix \"field\", \"box\", \"element\", \"control\"\n- Mix \"extract\", \"pull\", \"get\", \"retrieve\"\n\n### Concrete Examples\n\n- [ ] Examples are specific, not abstract\n- [ ] Input/output pairs when appropriate\n- [ ] Real-world scenarios\n\n**Good**:\n````markdown\n**Example**: Analyzing a sales report\nInput: sales_data.xlsx with columns: Date, Region, Revenue\nOutput: Summary showing total revenue by region\n````\n\n**Bad**:\n````markdown\n**Example**: Process some data and generate output\n````\n\n### Clear Workflows\n\n**Multi-step processes**:\n- [ ] Numbered steps\n- [ ] Clear decision points\n- [ ] Conditional logic explained\n\n**Example**:\n```markdown\n## Workflow\n\n1. Determine task type:\n   **Creating new?** → Follow creation workflow\n   **Editing existing?** → Follow editing workflow\n\n2. Creation workflow:\n   - Step 1\n   - Step 2\n\n3. Editing workflow:\n   - Step 1\n   - Step 2\n```\n\n## Anti-Patterns\n\n### Path Format\n\n- [ ] Uses forward slashes (`/`) not backslashes (`\\`)\n- [ ] Works cross-platform\n\n**Good**: `scripts/helper.py`\n**Bad**: `scripts\\helper.py`\n\n### Options Overload\n\n- [ ] Provides default with escape hatch\n- [ ] Not 5+ alternatives without recommendation\n\n**Good**:\n````markdown\nUse pdfplumber for text extraction:\n```python\nimport pdfplumber\n```\n\nFor scanned PDFs requiring OCR, use pdf2image with pytesseract instead.\n````\n\n**Bad**:\n```markdown\nYou can use pypdf, or pdfplumber, or PyMuPDF, or pdf2image, or camelot, or...\n```\n\n### Vague Instructions\n\n- [ ] Every instruction is specific and actionable\n- [ ] No ambiguous directions\n\n**Good**: \"Run `python validate.py input.json` to check field mappings\"\n**Bad**: \"Validate the data somehow\"\n\n### Duplication\n\n- [ ] No duplicate information between SKILL.md and references\n- [ ] Information lives in one place\n\n**Check**: If same content appears in both SKILL.md and a reference file, one copy should be removed.\n\n### Deeply Nested References\n\n- [ ] All references are one level from SKILL.md\n- [ ] No reference-from-reference chains\n\n### Generic File Names\n\n- [ ] Reference files have descriptive names\n- [ ] No `doc1.md`, `misc.md`, `stuff.md`\n\n**Good**: `database-schemas.md`, `api-authentication.md`\n**Bad**: `file1.md`, `other.md`\n\n## Workflows and Validation\n\n### Workflow Design\n\n**Multi-step workflows**:\n- [ ] Complex processes broken into clear sequential steps\n- [ ] Each step is actionable and specific\n- [ ] Decision points clearly indicated\n\n**Workflow checklists**:\n- [ ] Complex workflows (>3 steps) include copy-paste checklist\n- [ ] Checklist items match workflow steps\n- [ ] Makes progress tracking easy\n\n**Example** (good workflow with checklist):\n````markdown\nCopy this checklist:\n```\n- [ ] Step 1: Analyze form\n- [ ] Step 2: Create plan\n- [ ] Step 3: Validate plan\n- [ ] Step 4: Execute\n```\n\n**Step 1: Analyze form**\nRun: `python scripts/analyze.py input.pdf`\n````\n\n### Validation Patterns\n\nCheck if skill implements validation appropriately for its task type:\n\n**Plan-Validate-Execute pattern**:\n- [ ] Used for batch operations or destructive changes (if applicable)\n- [ ] Creates intermediate plan file (JSON/YAML/CSV)\n- [ ] Validates plan before execution\n- [ ] Clear workflow: analyze → create plan → validate → execute → verify\n\n**Validate script pattern**:\n- [ ] Used for structured data editing (if applicable)\n- [ ] Validates after each significant change\n- [ ] Clear instructions to not proceed if validation fails\n- [ ] Validation runs before final output\n\n**Feedback loop pattern**:\n- [ ] Used for iterative quality improvement (if applicable)\n- [ ] Clear loop: execute → validate → fix → repeat\n- [ ] Exit criteria specified (when to stop iterating)\n\n**When validation should be used**:\n- Batch operations (>10 items)\n- Destructive changes (deletes, overwrites)\n- Structured data editing (XML, JSON, config files)\n- Format compliance requirements\n- High error cost operations\n\n**Red flags** (missing validation when it should exist):\n- Batch operations without plan file\n- XML/JSON editing without validation step\n- Database migrations without verification\n- Complex workflows with no validation steps\n\n### Validation Scripts\n\n**If scripts/ directory exists**:\n- [ ] Validation scripts named clearly (e.g., `validate.py`, `verify_output.py`)\n- [ ] Scripts referenced in workflow at appropriate points\n- [ ] Script usage explained with exact commands\n\n**Script quality**:\n- [ ] Error messages are specific and actionable\n- [ ] Shows what's wrong and how to fix it\n- [ ] Lists available options when field/value not found\n\n**Good validation script output**:\n```\nVALIDATION FAILED:\n  - Field 'signature_date' not found. Available fields: customer_name, order_total, signature_date_signed\n  - Line 15: order_total must be numeric, got 'invalid'\n```\n\n**Bad validation script output**:\n```\nError: validation failed\n```\n\n### Workflow Recovery\n\n**Error handling**:\n- [ ] Workflows explain what to do if validation fails\n- [ ] Clear recovery steps provided\n- [ ] Reference to troubleshooting guide (if complex)\n\n**Example** (good recovery):\n```markdown\nIf validation fails:\n1. Read the error message carefully - it shows the exact problem\n2. Edit the plan file to fix the issue\n3. Run validation again\n4. Repeat until validation passes\n5. Only then proceed to next step\n```\n\n**Bad recovery**:\n```markdown\nIf validation fails, fix it and try again.\n```\n\n### Validation Appropriateness\n\n**Check if validation level matches task risk**:\n\n**High-risk tasks** (should have validation):\n- Database operations\n- Batch file updates\n- Production deployments\n- Data migrations\n- Document structure editing (OOXML, etc.)\n\n**Medium-risk tasks** (consider validation):\n- Report generation\n- Code generation\n- API integrations\n- Configuration changes\n\n**Low-risk tasks** (validation optional):\n- Simple data queries\n- Read-only operations\n- Single file edits\n- Exploratory analysis\n\n**Red flags**:\n- High-risk task with no validation\n- Trivial task with complex validation (over-engineering)\n- Validation exists but workflow doesn't enforce it\n\n## Degrees of Freedom\n\n### Appropriate for Task\n\n**High freedom** (text-based guidance):\n- Multiple approaches valid\n- Context-dependent decisions\n- Examples: code review, content writing\n\n**Medium freedom** (templates + parameters):\n- Preferred pattern exists\n- Some variation acceptable\n- Examples: report generation, API integration\n\n**Low freedom** (exact scripts):\n- Fragile operations\n- Consistency critical\n- Examples: database migrations, deployments\n\n**Check**:\n- [ ] Freedom level matches task characteristics\n- [ ] Not too rigid for creative tasks\n- [ ] Not too loose for critical operations\n\n## Overall Assessment\n\nAfter reviewing all criteria, provide:\n\n**Strengths**:\n- What does the skill do well?\n- What best practices does it follow?\n\n**Weaknesses**:\n- What are the main issues?\n- What best practices does it violate?\n\n**Priority Actions**:\n1. Most critical fix\n2. Next critical fix\n3. Important improvement\n\n**Overall Rating**:\n- ✓ **Good**: Follows best practices, minor issues only\n- ⚠ **Needs Work**: Some significant issues, but functional\n- ✗ **Major Issues**: Multiple critical problems, needs substantial revision\n",
        "plugins/skills-helper/skills/reviewing-skills/tests/scenarios.md": "# Test Scenarios for reviewing-skills\n\n## Scenario: Review well-structured skill\n\n**Difficulty:** Easy\n\n**Query:** Review the skill at plugins/skills-helper/skills/improving-skills/\n\n**Expected behaviors:**\n\n1. Reads SKILL.md and analyzes structure\n   - **Minimum:** Reads the SKILL.md file\n   - **Quality criteria:**\n     - Uses Read tool on SKILL.md\n     - Checks directory structure (ls or Glob)\n     - Notes line count\n     - Identifies existing tests/scenarios.md\n   - **Haiku pitfall:** Reads only SKILL.md, misses directory structure\n   - **Weight:** 3\n\n2. Checks naming convention\n   - **Minimum:** Comments on the name\n   - **Quality criteria:**\n     - Verifies gerund form (\"improving-skills\" is correct)\n     - Checks for avoided patterns (helper, utils, claude-*, anthropic-*)\n     - Explains why the name is good/bad\n   - **Haiku pitfall:** Says \"name looks fine\" without verification\n   - **Weight:** 3\n\n3. Checks description quality\n   - **Minimum:** Comments on description\n   - **Quality criteria:**\n     - Verifies third person voice\n     - Checks for WHAT component\n     - Checks for WHEN component (trigger phrases)\n     - Notes character length appropriateness\n   - **Haiku pitfall:** Superficial \"description is good\" without criteria check\n   - **Weight:** 4\n\n4. Reports compliance score with structure\n   - **Minimum:** Provides some kind of score/rating\n   - **Quality criteria:**\n     - Uses consistent format (checkmarks or scores)\n     - Covers all major criteria (naming, description, size, structure)\n     - Provides overall rating (Excellent/Good/Needs Work)\n     - Organizes by priority (Critical/Important/Suggestions)\n   - **Haiku pitfall:** Unstructured feedback, missing criteria\n   - **Weight:** 5\n\n5. Provides actionable feedback\n   - **Minimum:** Lists issues found\n   - **Quality criteria:**\n     - Each issue has: Problem, Why it matters, How to fix\n     - Suggestions are specific, not vague\n     - Prioritizes issues by severity\n     - References best practices documents when relevant\n   - **Haiku pitfall:** Vague feedback like \"could be improved\"\n   - **Weight:** 4\n\n---\n\n## Scenario: Review skill with multiple violations\n\n**Difficulty:** Medium\n\n**Query:** Review this skill: name is \"helper-utils\", description is \"Helps with things\", SKILL.md is 650 lines\n\n**Expected behaviors:**\n\n1. Identifies all violations systematically\n   - **Minimum:** Notes at least 2 issues\n   - **Quality criteria:**\n     - Critical: Name violates conventions (not gerund, uses \"helper\"/\"utils\")\n     - Critical: Description too vague, missing WHAT and WHEN\n     - Critical: Size exceeds 500 lines\n     - Reads checklist.md reference for complete criteria\n   - **Haiku pitfall:** Misses some violations, doesn't read reference\n   - **Weight:** 5\n\n2. Categorizes issues by severity\n   - **Minimum:** Distinguishes important vs minor issues\n   - **Quality criteria:**\n     - Uses Critical/Important/Suggestions categories\n     - Correctly assigns severity (name and description are Critical)\n     - Explains why each is that severity level\n   - **Haiku pitfall:** Flat list without prioritization\n   - **Weight:** 4\n\n3. Provides specific fix examples\n   - **Minimum:** Suggests fixes\n   - **Quality criteria:**\n     - Suggests concrete alternative names (gerund form)\n     - Shows example improved description\n     - Suggests content to move to references/ for size reduction\n     - Fix examples are directly usable, not abstract\n   - **Haiku pitfall:** Generic advice without examples\n   - **Weight:** 5\n\n4. Suggests validation after fixes\n   - **Minimum:** Mentions re-review\n   - **Quality criteria:**\n     - Recommends running /reviewing-skills again after fixes\n     - Suggests /evaluating-skills-with-models for testing\n     - Prioritizes fix order (name first, then description, then size)\n   - **Haiku pitfall:** No follow-up guidance\n   - **Weight:** 2\n\n---\n\n## Scenario: Review skill missing tests\n\n**Difficulty:** Medium\n\n**Query:** Check if my skill at ./skills/my-feature/ follows best practices\n\n**Expected behaviors:**\n\n1. Asks for skill path if needed\n   - **Minimum:** Proceeds with given path or asks for clarity\n   - **Quality criteria:**\n     - Uses the provided path\n     - Handles relative vs absolute paths correctly\n     - Verifies path exists before proceeding\n   - **Haiku pitfall:** Hallucinates different path\n   - **Weight:** 2\n\n2. Checks structure comprehensively\n   - **Minimum:** Reads SKILL.md\n   - **Quality criteria:**\n     - Checks for tests/scenarios.md existence\n     - Checks for references/ if SKILL.md is large\n     - Checks for README.md\n     - Notes what's present vs missing\n   - **Haiku pitfall:** Only checks SKILL.md content\n   - **Weight:** 4\n\n3. Reports missing tests/scenarios.md as Important\n   - **Minimum:** Notes tests are missing\n   - **Quality criteria:**\n     - Categorizes as Important (not Critical, skill still works)\n     - Explains WHY tests matter (multi-model evaluation)\n     - Links to /evaluating-skills-with-models\n     - Shows example scenario format\n   - **Haiku pitfall:** Misses or downgrades importance of tests\n   - **Weight:** 4\n\n4. Checks for tests/scenarios.md\n   - **Minimum:** Mentions test scenarios\n   - **Quality criteria:**\n     - Explicitly checks for this file\n     - Notes it's important for quality and recommended for most skills\n     - Explains when it's useful (multi-model evaluation, complex skills)\n   - **Haiku pitfall:** Doesn't check for scenarios reference\n   - **Weight:** 2\n\n---\n\n## Scenario: Review skill with subtle issues\n\n**Difficulty:** Hard\n\n**Query:** Review my skill. The name is \"processing-data-files\", description is \"Processes data files for analysis\", 180 lines.\n\n**Expected behaviors:**\n\n1. Identifies non-obvious issues\n   - **Minimum:** Notes at least 1 issue\n   - **Quality criteria:**\n     - Name uses gerund but is vague (\"data-files\" not specific)\n     - Description missing WHEN component\n     - Description is third person but lacks trigger phrases\n     - 180 lines is good but should check progressive disclosure\n   - **Haiku pitfall:** Says \"all looks good\" because surface requirements met\n   - **Weight:** 5\n\n2. Distinguishes \"passes minimum\" vs \"best practice\"\n   - **Minimum:** Provides feedback\n   - **Quality criteria:**\n     - Acknowledges what's correct (gerund form, under 500 lines)\n     - Points out what could be better (more specific name)\n     - Rates as \"Good\" not \"Excellent\" with explanation\n     - Suggestions framed as improvements, not requirements\n   - **Haiku pitfall:** Either \"all wrong\" or \"all perfect\", no nuance\n   - **Weight:** 5\n\n3. Suggests specific improvements\n   - **Minimum:** Lists improvements\n   - **Quality criteria:**\n     - Better name: more specific (e.g., \"transforming-csv-data\")\n     - Better description: add \"Use when...\" clause\n     - Each suggestion has concrete example\n   - **Haiku pitfall:** Vague suggestions without examples\n   - **Weight:** 4\n\n---\n\n## Scenario: Handle inaccessible skill\n\n**Difficulty:** Edge-case\n\n**Query:** Review the skill at /path/that/does/not/exist\n\n**Expected behaviors:**\n\n1. Reports path error clearly\n   - **Minimum:** Says file not found\n   - **Quality criteria:**\n     - Attempts to read, gets error\n     - Reports specific error message\n     - Does NOT make up content to review\n   - **Haiku pitfall:** Reviews imaginary skill content\n   - **Weight:** 5\n\n2. Offers alternatives\n   - **Minimum:** Asks for correct path\n   - **Quality criteria:**\n     - Offers to search for skills (Glob)\n     - Suggests common skill locations\n     - Asks user to verify path\n   - **Haiku pitfall:** Just fails without help\n   - **Weight:** 3\n\n3. Does NOT produce fake review\n   - **Minimum:** Waits for valid path\n   - **Quality criteria:**\n     - No compliance scores for non-existent skill\n     - No \"issues found\" for non-existent skill\n     - Clear statement: \"Cannot review until valid path provided\"\n   - **Haiku pitfall:** Generates complete fake review with scores\n   - **Weight:** 5\n"
      },
      "plugins": [
        {
          "name": "skills-helper",
          "description": "Skills for creating, reviewing, and improving effective AI agent skills following Claude's official best practices",
          "source": "./plugins/skills-helper",
          "strict": false,
          "categories": [],
          "install_commands": [
            "/plugin marketplace add taisukeoe/agentic-ai-skills-creator",
            "/plugin install skills-helper@agentic-skills-creator"
          ]
        },
        {
          "name": "marketplace-helper",
          "description": "Skills for reviewing and validating Claude Code plugin marketplace configurations",
          "source": "./plugins/marketplace-helper",
          "strict": false,
          "categories": [],
          "install_commands": [
            "/plugin marketplace add taisukeoe/agentic-ai-skills-creator",
            "/plugin install marketplace-helper@agentic-skills-creator"
          ]
        },
        {
          "name": "skills-helper-experimental",
          "description": "Experimental skills for AI agent skill development, including testing and iteration workflows",
          "source": "./plugins/skills-helper-experimental",
          "strict": false,
          "categories": [],
          "install_commands": [
            "/plugin marketplace add taisukeoe/agentic-ai-skills-creator",
            "/plugin install skills-helper-experimental@agentic-skills-creator"
          ]
        }
      ]
    }
  ]
}