{
  "author": {
    "id": "insilications",
    "display_name": "Francisco Boni",
    "avatar_url": "https://avatars.githubusercontent.com/u/55766834?u=71adab2c5c835bcc7d37466413bf5cc5309df6be&v=4"
  },
  "marketplaces": [
    {
      "name": "osgrep",
      "version": null,
      "description": "Semantic code search for Claude Code. Automatically indexes your project and provides intelligent search capabilities.",
      "repo_full_name": "insilications/osgrep",
      "repo_url": "https://github.com/insilications/osgrep",
      "repo_description": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2025-12-11T14:26:45Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"$schema\": \"https://anthropic.com/claude-code/marketplace.schema.json\",\n  \"name\": \"osgrep\",\n  \"owner\": {\n    \"name\": \"Ryan D'Onofrio\",\n    \"email\": \"ryandonofrio@gmail.com\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"osgrep\",\n      \"source\": \"./plugins/osgrep\",\n      \"description\": \"Semantic code search for Claude Code. Automatically indexes your project and provides intelligent search capabilities.\",\n      \"version\": \"0.2.0\",\n      \"author\": {\n        \"name\": \"Ryan D'Onofrio\",\n        \"email\": \"ryandonofrio@gmail.com\"\n      },\n      \"skills\": [\"./skills/osgrep\"]\n    }\n  ]\n}\n",
        "README.md": "<div align=\"center\">\n  <h1>osgrep</h1>\n  <p><em>Ultra-fast semantic code search with native SIMD acceleration.</em></p>\n  <a href=\"https://opensource.org/licenses/Apache-2.0\"><img src=\"https://img.shields.io/badge/License-Apache%202.0-blue.svg\" alt=\"License: Apache 2.0\" /></a><br>\n</div>\n\nNatural-language search that works like `grep`. Native Rust implementation with SIMD-optimized vector operations.\n\n- **Semantic:** Finds concepts (\"auth logic\"), not just strings.\n- **Native Performance:** Pure Rust with AVX-512/AVX2/NEON SIMD acceleration.\n- **Cloud-Powered:** Remote embeddings via OpenAI-compatible APIs (OpenRouter, OpenAI).\n- **Lightweight:** SQLite-Vec storage, no heavy dependencies.\n- **Agent-Ready:** MCP server for Claude Code integration.\n\n## Installation\n\n### macOS\n\n#### Apple Silicon (M1/M2/M3/M4) - Recommended\n```bash\n# Download and install\ncurl -LO https://github.com/wwicak/osgrep/releases/latest/download/osgrep-darwin-arm64.tar.gz\ntar xzf osgrep-darwin-arm64.tar.gz\nsudo mv osgrep osgrep-mcp /usr/local/bin/\n\n# Verify installation\nosgrep info\n```\n\n#### Intel Mac\n```bash\ncurl -LO https://github.com/wwicak/osgrep/releases/latest/download/osgrep-darwin-x64.tar.gz\ntar xzf osgrep-darwin-x64.tar.gz\nsudo mv osgrep osgrep-mcp /usr/local/bin/\n```\n\n#### Build from Source (macOS)\n```bash\n# Install Rust if needed\ncurl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh\nsource ~/.cargo/env\n\n# Clone and build\ngit clone https://github.com/wwicak/osgrep\ncd osgrep\ncargo build --release -p osgrep --features sqlite,parallel\n\n# Install\nsudo cp target/release/osgrep /usr/local/bin/\n```\n\n### Windows\n\n#### Pre-built Binary (Recommended)\n```powershell\n# Create install directory\nNew-Item -ItemType Directory -Force -Path \"$env:LOCALAPPDATA\\osgrep\"\n\n# Download and extract\nInvoke-WebRequest -Uri \"https://github.com/wwicak/osgrep/releases/latest/download/osgrep-win32-x64.zip\" -OutFile \"$env:TEMP\\osgrep.zip\"\nExpand-Archive -Path \"$env:TEMP\\osgrep.zip\" -DestinationPath \"$env:LOCALAPPDATA\\osgrep\" -Force\n\n# Add to PATH permanently (run as Administrator or add manually)\n[Environment]::SetEnvironmentVariable(\"Path\", $env:Path + \";$env:LOCALAPPDATA\\osgrep\", \"User\")\n\n# Restart terminal and verify\nosgrep info\n```\n\n#### Build from Source (Windows)\n```powershell\n# Install Rust from https://rustup.rs (follow installer prompts)\n# Install Visual Studio Build Tools with \"Desktop development with C++\"\n\n# Clone and build\ngit clone https://github.com/wwicak/osgrep\ncd osgrep\ncargo build --release -p osgrep --features sqlite,parallel\n\n# Install\nCopy-Item target\\release\\osgrep.exe $env:LOCALAPPDATA\\osgrep\\\n```\n\n### Linux\n\n```bash\n# Download and install\ncurl -LO https://github.com/wwicak/osgrep/releases/latest/download/osgrep-linux-x64.tar.gz\ntar xzf osgrep-linux-x64.tar.gz\nsudo mv osgrep osgrep-mcp /usr/local/bin/\n\n# Verify installation\nosgrep info\n```\n\n#### Build from Source (Linux)\n```bash\n# Install Rust\ncurl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh\nsource ~/.cargo/env\n\n# Clone and build\ngit clone https://github.com/wwicak/osgrep\ncd osgrep\ncargo build --release -p osgrep --features sqlite,parallel\n\n# Install\nsudo cp target/release/osgrep /usr/local/bin/\n```\n\n## Quick Start\n\n```bash\n# Configure remote embeddings (required)\nosgrep config --init\n# Edit ~/.osgrep/config.json with your API key\n\n# Index your codebase\ncd my-repo\nosgrep index\n\n# Search semantically\nosgrep search \"where do we handle authentication?\"\n\n# Show system info (SIMD level, features)\nosgrep info\n```\n\n## Claude Code Integration\n\nosgrep integrates with Claude Code as an MCP (Model Context Protocol) server, providing semantic search tools that replace traditional grep/find operations.\n\n### Installation\n\n**Option 1: Automatic Setup**\n```bash\nosgrep install-claude-code\n```\n\n**Option 2: Manual Setup**\n\n1. Build the MCP server:\n```bash\ncargo build --release -p osgrep-mcp\n```\n\n2. Add to your Claude Code MCP settings (`~/.claude/claude_desktop_config.json`):\n```json\n{\n  \"mcpServers\": {\n    \"osgrep\": {\n      \"command\": \"/usr/local/bin/osgrep-mcp\",\n      \"args\": []\n    }\n  }\n}\n```\n\nOn Windows, use the full path:\n```json\n{\n  \"mcpServers\": {\n    \"osgrep\": {\n      \"command\": \"C:\\\\Users\\\\YOU\\\\AppData\\\\Local\\\\osgrep\\\\osgrep-mcp.exe\",\n      \"args\": []\n    }\n  }\n}\n```\n\n### Available Tools\n\nOnce configured, Claude Code has access to:\n\n| Tool | Description |\n|------|-------------|\n| `semantic_search` | Search code by meaning (replaces grep for conceptual queries) |\n| `index_directory` | Index a codebase for semantic search |\n| `get_simd_info` | Show SIMD capabilities and version |\n\n### Usage in Claude Code\n\nAsk Claude natural language questions about your codebase:\n\n```\n\"Where is authentication handled?\"\n\"How does the rate limiting work?\"\n\"Find the database connection pooling logic\"\n```\n\nClaude will automatically use osgrep's semantic search instead of traditional grep when appropriate.\n\n## Commands\n\n### `osgrep search`\n\nThe default command. Searches the current directory using semantic meaning.\n\nThe CLI prefers the hot server when available (via `.osgrep/server.json`), falling back to standalone search automatically.\n\n```bash\nosgrep \"how is the database connection pooled?\"\n```\n\n**Options:**\n| Flag | Description | Default |\n| --- | --- | --- |\n| `-m <n>` | Max total results to return. | `25` |\n| `--per-file <n>` | Max matches to show per file. | `1` |\n| `-c`, `--content` | Show full chunk content instead of snippets. | `false` |\n| `--scores` | Show relevance scores (0.0-1.0). | `false` |\n| `--compact` | Show file paths only (like `grep -l`). | `false` |\n| `-s`, `--sync` | Force re-index changed files before searching. | `false` |\n| `--json` | Dense output for agents. | `false` |\n\n**Examples:**\n\n```bash\n# General concept search\nosgrep \"API rate limiting logic\"\n\n# Deep dive (show more matches per file)\nosgrep \"error handling\" --per-file 5\n\n# Just give me the files\nosgrep \"user validation\" --compact\n```\n\n### `osgrep index`\n\nManually indexes the repository. Useful if you want to pre-warm the cache or if you've made massive changes outside of the editor.\n\n- Respects `.gitignore` and `.osgrepignore` (see [Configuration](#ignoring-files) section).\n- **Smart Indexing:** Only embeds code and config files. Skips binaries, lockfiles, and minified assets.\n- **Adaptive Throttling:** Monitors your RAM and CPU usage. If your system gets hot, indexing slows down automatically.\n\n```bash\nosgrep index              # Index current dir\nosgrep index --dry-run    # See what would be indexed\n```\n\n### `osgrep serve`\n\nRuns a lightweight HTTP server with live file watching so searches stay hot in RAM.\n\n- Keeps LanceDB and the embedding worker resident for <50ms responses.\n- Watches the repo (via chokidar) and incrementally re-indexes on change.\n- Health endpoint: `GET /health`\n- Search endpoint: `POST /search` with `{ query, limit, path, rerank }`\n- Writes lock: `.osgrep/server.json` with `port`/`pid`\n\nUsage:\n\n```bash\nosgrep serve             # defaults to port 4444\nOSGREP_PORT=5555 osgrep serve\n```\n\nClaude Code hooks start/stop this automatically; you rarely need to run it manually.\n\n### `osgrep list`\n\nLists all indexed repositories (stores) and their metadata.\n\n```bash\nosgrep list\n```\n\nShows store names, sizes, and last modified times. Useful for seeing what's indexed and cleaning up old stores.\n\n### `osgrep doctor`\n\nChecks installation health, model paths, and database integrity.\n\n```bash\nosgrep doctor\n```\n\n## Performance & Architecture\n\nosgrep is designed to be a \"good citizen\" on your machine:\n\n1.  **The Thermostat:** Indexing adjusts concurrency in real-time based on memory pressure and CPU speed. It won't freeze your laptop.\n2.  **Smart Chunking:** Uses `tree-sitter` to split code by function/class boundaries (Rust, JS/TS, Python, Go, C/C++, Java, Kotlin, Swift, Ruby, PHP, C#, Scala, Zig, Lua, shells, HTML/CSS/JSON/YAML/TOML), ensuring embeddings capture complete logical blocks.\n3.  **Deduplication:** Identical code blocks (boilerplate, license headers) are embedded once and cached, saving space and time.\n4.  **Hybrid Search:** Uses Reciprocal Rank Fusion (RRF) to combine Vector Search (semantic) with FTS (keyword) for best-of-both-worlds accuracy.\n\n## Configuration\n\n### Embedding Providers\n\nosgrep uses remote embeddings via cloud APIs like OpenRouter, OpenAI, or any OpenAI-compatible endpoint.\n\n#### Configuring Remote Embeddings (Required)\n\nYou must configure remote embeddings before using osgrep:\n\n**1. Create config file:**\n```bash\nosgrep config --init\n```\n\n**2. Edit `~/.osgrep/config.json`:**\n```json\n{\n  \"embedding\": {\n    \"provider\": \"openrouter\",\n    \"api_key\": \"sk-or-v1-YOUR_API_KEY_HERE\",\n    \"model\": \"openai/text-embedding-3-small\",\n    \"base_url\": \"https://openrouter.ai/api/v1\"\n  }\n}\n```\n\n**3. Or use CLI commands:**\n```bash\nosgrep config --provider openrouter\nosgrep config --api-key sk-or-v1-...\nosgrep config --model openai/text-embedding-3-small\n```\n\n#### Config Commands\n\n| Command | Description |\n|---------|-------------|\n| `osgrep config` | Show current configuration |\n| `osgrep config --init` | Create sample config file |\n| `osgrep config --path` | Print config file path |\n| `osgrep config --reset` | Delete config file |\n| `osgrep config --provider X` | Set embedding provider |\n| `osgrep config --api-key X` | Set API key |\n| `osgrep config --model X` | Set model name |\n| `osgrep config --base-url X` | Set API base URL |\n\n#### Supported Providers\n\n| Provider | `provider` value | `base_url` |\n|----------|------------------|------------|\n| OpenRouter | `openrouter` | `https://openrouter.ai/api/v1` (default) |\n| OpenAI | `openai` | `https://api.openai.com/v1` |\n\n#### Recommended Models\n\n| Model | Provider | Dimensions | Notes |\n|-------|----------|------------|-------|\n| `openai/text-embedding-3-small` | OpenRouter | 1536 | Default, good balance |\n| `openai/text-embedding-3-large` | OpenRouter | 3072 | Higher quality |\n| `text-embedding-3-small` | OpenAI | 1536 | Direct OpenAI API |\n\n### Automatic Repository Isolation\n\nosgrep automatically creates a unique index for each repository based on:\n\n1. **Git Remote URL** (e.g., `github.com/facebook/react` → `facebook-react`)\n2. **Git Repo without Remote** → directory name + hash (e.g., `utils-7f8a2b3c`)\n3. **Non-Git Directory** → directory name + hash for collision safety\n\n**Examples:**\n```bash\ncd ~/work/myproject        # Auto-detected: owner-myproject\nosgrep \"API handlers\"\n\ncd ~/personal/utils        # Auto-detected: utils-abc12345\nosgrep \"helper functions\"\n```\n\nStores are isolated automatically — no manual `--store` flags needed!\n\n### Ignoring Files\n\nosgrep respects both `.gitignore` and `.osgrepignore` files when indexing. Create a `.osgrepignore` file in your repository root to exclude additional files or patterns from indexing.\n\n**`.osgrepignore` syntax:**\n- Uses the same pattern syntax as `.gitignore`\n- Patterns are relative to the repository root\n- Supports glob patterns, negation (`!`), and directory patterns (`/`)\n\n\n### Manual Store Management\n\n  - **View all stores:** `osgrep list`\n  - **Override auto-detection:** `osgrep --store custom-name \"query\"`\n  - **Clean up old stores:** `rm -rf ~/.osgrep/data/store-name`\n  - **Data location:** `~/.osgrep/data`\n  - **Env Vars:**\n      - `MXBAI_STORE`: Override default store name\n      - `OSGREP_PROFILE=1`: Enable performance profiling logs\n\n## Development\n\n```bash\n# Build all packages\ncargo build --release\n\n# Run tests\ncargo test\n\n# Format code\ncargo fmt --all\n\n# Lint\ncargo clippy --all-targets --all-features\n```\n\n## Troubleshooting\n\n  - **Index feels stale?** Run `osgrep index` to refresh.\n  - **Weird results?** Run `osgrep doctor` to verify models.\n  - **Need a fresh start?** Delete `~/.osgrep/data` and re-index.\n\n## Attribution\n\nosgrep is built upon the foundation of [mgrep](https://github.com/mixedbread-ai/mgrep) by MixedBread. While approximately 90% of the current codebase has been rewritten or substantially modified, we acknowledge and appreciate the original architectural concepts and design decisions that informed this work.\n\nKey transformations in osgrep include:\n- Transition to remote-only embeddings via OpenAI-compatible APIs\n- SQLite-Vec storage architecture for efficient vector operations\n- Enhanced chunking, indexing, and watch mode capabilities\n- Extensive tooling for benchmarking and evaluation\n\nSee the [NOTICE](NOTICE) file for detailed attribution information.\n\n## License\n\nLicensed under the Apache License, Version 2.0.  \nSee [LICENSE](LICENSE) and [Apache-2.0](https://opensource.org/licenses/Apache-2.0) for details.\n\n"
      },
      "plugins": [
        {
          "name": "osgrep",
          "source": "./plugins/osgrep",
          "description": "Semantic code search for Claude Code. Automatically indexes your project and provides intelligent search capabilities.",
          "version": "0.2.0",
          "author": {
            "name": "Ryan D'Onofrio",
            "email": "ryandonofrio@gmail.com"
          },
          "skills": [
            "./skills/osgrep"
          ],
          "categories": [],
          "install_commands": [
            "/plugin marketplace add insilications/osgrep",
            "/plugin install osgrep@osgrep"
          ]
        }
      ]
    }
  ]
}