{
  "author": {
    "id": "mnthe",
    "display_name": "Junghun Kim",
    "avatar_url": "https://avatars.githubusercontent.com/u/23460502?u=f30801a0dc1464bc3515fa4a45f83adbfd69a617&v=4"
  },
  "marketplaces": [
    {
      "name": "hardworker-marketplace",
      "version": null,
      "description": "Bun cross-platform version of ultrawork - strict verification-first development with TDD support and token-optimized state management",
      "repo_full_name": "mnthe/hardworker-marketplace",
      "repo_url": "https://github.com/mnthe/hardworker-marketplace",
      "repo_description": "Hardwork plugin for Claude Code (ultrawork / teamwork)",
      "signals": {
        "stars": 2,
        "forks": 0,
        "pushed_at": "2026-02-19T08:33:41Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"hardworker-marketplace\",\n  \"owner\": {\n    \"name\": \"mnthe\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"ultrawork\",\n      \"source\": \"./plugins/ultrawork\",\n      \"description\": \"Bun cross-platform version of ultrawork - strict verification-first development with TDD support and token-optimized state management\",\n      \"version\": \"1.4.0\",\n      \"author\": {\n        \"name\": \"mnthe\"\n      },\n      \"keywords\": [\n        \"ultrawork\",\n        \"typescript\",\n        \"cross-platform\",\n        \"verification\",\n        \"planning\",\n        \"tdd\"\n      ],\n      \"category\": \"productivity\"\n    },\n    {\n      \"name\": \"teamwork\",\n      \"source\": \"./plugins/teamwork\",\n      \"description\": \"Native teammate-based collaboration plugin with role-based workers, event-driven coordination, and Claude Code agent teams\",\n      \"version\": \"3.3.3\",\n      \"author\": {\n        \"name\": \"mnthe\"\n      },\n      \"keywords\": [\n        \"teamwork\",\n        \"collaboration\",\n        \"agent-teams\",\n        \"role-based\",\n        \"workers\",\n        \"task-management\",\n        \"parallel\",\n        \"native-api\",\n        \"cross-platform\"\n      ],\n      \"category\": \"productivity\"\n    },\n    {\n      \"name\": \"knowledge-extraction\",\n      \"source\": \"./plugins/knowledge-extraction\",\n      \"description\": \"Collect insights from Claude sessions and extract them into reusable components (Skills, Commands, Agents, CLAUDE.md, Rules Files)\",\n      \"version\": \"0.7.1\",\n      \"author\": {\n        \"name\": \"mnthe\"\n      },\n      \"keywords\": [\n        \"knowledge\",\n        \"insights\",\n        \"extraction\",\n        \"skills\",\n        \"learning\",\n        \"productivity\"\n      ],\n      \"category\": \"productivity\"\n    }\n  ]\n}\n",
        "README.md": "# hardworker-marketplace\n\nClaude Code plugin marketplace focused on \"hardworker\" productivity patterns: verification-first development, multi-session collaboration, and evidence-based completion.\n\n## TL;DR\n\n- **ultrawork** - Strict verification-first development. Use for solo features with evidence requirements.\n- **teamwork** - Multi-session collaboration. Use for team projects with parallel workers.\n- **knowledge-extraction** - Capture and extract insights. Use for learning and documentation.\n\n**Quick Install:**\n```bash\nclaude plugin marketplace add mnthe/hardworker-marketplace\nclaude plugin install ultrawork@hardworker-marketplace\n```\n\n[Detailed Comparison →](#plugin-comparison) | [Architecture →](#architecture-overview)\n\n---\n\n## Prerequisites\n\n- **Claude Code CLI** (latest version with plugin support) - https://claude.ai/download\n- **Bun 1.3+** (runtime for all plugins) - https://bun.sh/\n- **Git** (version control)\n- **Platform**: Windows, MacOS, or Linux\n\n## Quick Start\n\n### Installation\n\n```bash\n# Add marketplace\nclaude plugin marketplace add mnthe/hardworker-marketplace\n\n# Install verification-first development\nclaude plugin install ultrawork@hardworker-marketplace\n\n# Install multi-session collaboration\nclaude plugin install teamwork@hardworker-marketplace\n\n# Install knowledge extraction\nclaude plugin install knowledge-extraction@hardworker-marketplace\n```\n\n### Example: ultrawork Session\n\n```bash\n# Start verification-first development session\n/ultrawork \"implement user authentication with JWT\"\n\n# System creates plan with tasks and success criteria\n# Worker agents execute tasks in parallel\n# Verifier checks all criteria with concrete evidence\n\n# Check status\n/ultrawork-status\n```\n\n### Example: teamwork Session\n\n```bash\n# Start coordination (orchestrator spawns native teammates automatically)\n/teamwork \"build REST API with tests and docs\"\n\n# Orchestrator creates tasks, spawns role-based workers as native teammates\n# Workers execute tasks, coordinate via SendMessage\n# Event-driven: TaskCompleted and TeammateIdle hooks drive progress\n\n# Check status\n/teamwork-status\n```\n\n## Which Plugin Should I Use?\n\n| Scenario | Recommendation |\n|----------|----------------|\n| Solo developer, strict verification | **ultrawork** |\n| Team collaboration, parallel work | **teamwork** |\n| Capturing code patterns and insights | **knowledge-extraction** |\n| CI/CD and automation | **ultrawork --auto** |\n| Parallel agent collaboration | **teamwork** |\n| TDD workflow enforcement | **ultrawork** |\n\nSee [Detailed Scenarios](#decision-guide) below for more guidance.\n\n---\n\n## Plugins\n\n### ultrawork - Verification-First Development\n\nStrict verification-first development mode with session isolation and mandatory evidence collection.\n\n**Key Features:** Session isolation, mandatory planning with success criteria, evidence-based completion, Execute→Verify loop with auto-retry, parallel task execution, cross-platform support.\n\n**[Full Documentation →](plugins/ultrawork/)**\n\n### teamwork - Native Teammate Collaboration\n\nRole-based worker agents for parallel development using Claude Code's native teammate API.\n\n**Key Features:** Role-based worker agents (frontend, backend, devops, test, docs, security, review), native teammate API, event-driven coordination (TaskCompleted, TeammateIdle hooks), dashboard status, project and team isolation.\n\n**[Full Documentation →](plugins/teamwork/)**\n\n### knowledge-extraction - Extract Knowledge from Codebases\n\nExtract and manage knowledge from codebases for AI agent context.\n\n**Key Features:** Pattern-based knowledge extraction, markdown documentation generation, context management for AI agents, integration with ultrawork and teamwork.\n\n**[Full Documentation →](plugins/knowledge-extraction/)**\n\n## Plugin Comparison\n\n| Feature | ultrawork | teamwork | knowledge-extraction |\n|---------|-----------|----------|---------------------|\n| **Primary Use Case** | Solo developer, strict verification | Agent team collaboration, parallel work | Pattern capture, documentation |\n| **Session Model** | Single session, isolated worktree | Single session, native teammate API | Session-based insights |\n| **Verification** | Mandatory, multi-tier (task + final) | Final verifier agent | Not applicable |\n| **Evidence Collection** | Automatic via hooks | Structured via workers | Insight extraction |\n| **Concurrency** | Parallel workers, single session | Native teammates, event-driven coordination | Single session |\n| **Role Specialization** | No | Yes (8 worker roles) | No |\n| **Auto Mode** | Yes (`--auto` flag) | No (interactive only) | No (hook-based) |\n| **Best For** | Feature implementation, bug fixes | Large features, parallel agent work | Learning, documentation |\n\n## Architecture Overview\n\n### System Architecture\n\n```mermaid\nflowchart TD\n    CLI[Claude Code CLI] --> Commands\n    CLI --> Hooks[Lifecycle Hooks]\n\n    subgraph ultrawork\n        UW_CMD[\"/ultrawork\"] --> UW_AGENTS[6 Agents]\n        UW_AGENTS --> UW_STATE[\"~/.claude/ultrawork/\"]\n        Hooks --> UW_HOOKS[\"Evidence/Gates\"]\n        UW_HOOKS --> UW_STATE\n    end\n\n    subgraph teamwork\n        TW_CMD[\"/teamwork\"] --> TW_AGENTS[10 Agents]\n        TW_AGENTS --> TW_STATE[\"~/.claude/teamwork/\"]\n        Hooks --> TW_HOOKS[Event Hooks]\n        TW_HOOKS --> TW_STATE\n    end\n\n    subgraph knowledge-extraction\n        KE_CMD[\"/insights\"] --> KE_AGENT[Extractor]\n        Hooks --> KE_HOOKS[Auto Extract]\n        KE_HOOKS --> KE_STATE[\"~/.claude/knowledge-extraction/\"]\n        KE_AGENT --> KE_STATE\n    end\n\n    Commands --> UW_CMD\n    Commands --> TW_CMD\n    Commands --> KE_CMD\n\n    UW_STATE -.-> KE_HOOKS\n    TW_STATE -.-> KE_HOOKS\n```\n\n### Data Flow\n\n1. **ultrawork**: Goal → Explorer → Planner → Workers (parallel) → Verifier → Complete\n2. **teamwork**: Goal → Orchestrator → Tasks ← Workers (native teammates) → Verification → Complete\n3. **knowledge-extraction**: Session → Hooks → Storage → Extract → Components\n\n## Decision Guide\n\n#### Scenario 1: Solo Developer, Single Feature Implementation\n\n**Recommendation: ultrawork**\n\nUse ultrawork when:\n- Working alone on a well-defined feature\n- Need strict verification and evidence\n- Want automatic retry on failures\n- Require TDD workflow enforcement\n- Need session isolation (worktree support)\n\n```bash\n/ultrawork \"implement user authentication with JWT\"\n```\n\n#### Scenario 2: Team Collaboration, Large Feature\n\n**Recommendation: teamwork**\n\nUse teamwork when:\n- Need parallel agent collaboration on a project\n- Tasks can be parallelized across roles\n- Need specialization (frontend, backend, test, etc.)\n- Want event-driven coordination with native teammate API\n- Require final verification by dedicated verifier agent\n\n```bash\n# Single session: Orchestrator spawns and coordinates native teammates\n/teamwork \"build REST API with authentication\"\n\n# Orchestrator automatically:\n# - Creates tasks via TaskCreate\n# - Spawns workers: Task(teamwork:backend), Task(teamwork:frontend), etc.\n# - Assigns tasks via TaskUpdate(owner)\n# - Monitors via TaskCompleted and TeammateIdle hooks\n```\n\n#### Scenario 3: Strict Verification Required\n\n**Recommendation: ultrawork**\n\nUse ultrawork when:\n- Zero tolerance for incomplete work\n- Need blocked pattern detection (\"TODO\", \"FIXME\")\n- Require concrete evidence for every success criterion\n- Want automatic execute→verify retry loop\n- Need final verifier to audit all evidence\n\n#### Scenario 4: Parallel Agent Development\n\n**Recommendation: teamwork**\n\nUse teamwork when:\n- Need multiple agents working in parallel\n- Workers should receive tasks from orchestrator\n- Need role-based task assignment\n- Require event-driven coordination\n- Want native teammate API for agent lifecycle management\n\n#### Scenario 5: Capturing Code Patterns and Insights\n\n**Recommendation: knowledge-extraction**\n\nUse knowledge-extraction when:\n- Want to learn from past sessions\n- Need to document discovered patterns\n- Building reusable skills and commands\n- Creating project-specific rules files\n- Extracting architectural decisions\n\n```bash\n# During any session, Claude generates insights\n★ Insight ─────────────────────────────────────\nJWT tokens should include minimal claims.\n─────────────────────────────────────────────────\n\n# Later, extract to components\n/insights extract\n```\n\n#### Scenario 6: CI/CD and Automation\n\n**Recommendation: ultrawork --auto**\n\nUse ultrawork auto mode when running in CI/CD pipelines with no user interaction possible, well-defined tasks with clear criteria, or need fully autonomous operation.\n\n```bash\n/ultrawork --auto \"add unit tests for payment module\"\n```\n\n## Skills System Overview\n\nPlugins provide reusable skills that can be referenced by agents and commands. Skills are markdown files containing documented patterns, workflows, and best practices.\n\n### ultrawork Skills (15 skills)\n\nCore workflow skills: **planning** (task decomposition), **overview-exploration** (project discovery), **ultrawork** (session lifecycle), **tdd-workflow** (test-first enforcement).\n\nUtility skills: **scripts-path-usage** (script access), **data-access-patterns** (state reading), **utility-scripts** (common patterns).\n\nReview skills: **code-quality-review**, **architecture-review**, **security-review**, **consistency-review**.\n\nPattern skills: **backend-patterns**, **frontend-patterns**, **security-patterns**, **testing-patterns**.\n\n**Key Pattern:** All agents use `scripts-path-usage` for correct script invocation.\n\n### teamwork Skills (4 skills)\n\nCore workflow skills: **worker-workflow** (task execution with native API), **event-coordination** (hook-based orchestration patterns), **task-decomposition** (parallel planning with role assignment), **teamwork-clean** (project reset).\n\n**Key Pattern:** The `worker-workflow` skill is shared by all 8 role-specific workers. The `event-coordination` skill drives the orchestrator's hook-based coordination via `TaskCompleted` and `TeammateIdle` events.\n\n### knowledge-extraction Skills (1 skill)\n\n**insight-awareness**: Documents `★ Insight` format and automatic capture workflow. Operates primarily via hooks.\n\n### Skills Invocation\n\nSkills are referenced in agent frontmatter:\n\n```yaml\n---\nname: worker\nskills: [scripts-path-usage, data-access-patterns, worker-workflow]\n---\n```\n\nSkills are also available as standalone commands in Claude Code CLI (when skill has frontmatter with `command: true`).\n\n## Troubleshooting\n\n### Issue 1: Version Mismatch Between plugin.json and marketplace.json\n\n**Symptom:** Plugin updates not reflected after installation from marketplace.\n\n**Cause:** `plugins/{plugin}/.claude-plugin/plugin.json` version doesn't match `.claude-plugin/marketplace.json` version.\n\n**Solution:**\n\n```bash\n# Verify version sync\nbun -e \"\n  const pluginVersion = require('./plugins/ultrawork/.claude-plugin/plugin.json').version;\n  const marketplaceVersion = require('./.claude-plugin/marketplace.json').plugins\n    .find(p => p.name === 'ultrawork').version;\n  if (pluginVersion !== marketplaceVersion) {\n    console.error('Version mismatch:', pluginVersion, '!=', marketplaceVersion);\n    process.exit(1);\n  }\n  console.log('Versions match:', pluginVersion);\n\"\n```\n\n**Prevention:** Always update both files when bumping plugin version.\n\n### Issue 2: Session Not Found (ultrawork)\n\n**Symptom:** Command fails with \"Session not found\" error.\n\n**Solution:** List sessions with `/ultrawork-status --all`. Verify `$CLAUDE_SESSION_ID` is set. Sessions in terminal states are auto-deleted after 7 days.\n\n### Issue 3: Workers Not Receiving Tasks (teamwork)\n\n**Symptom:** Spawned workers are idle and not executing tasks.\n\n**Solution:** Check `/teamwork-status`. Verify the orchestrator has created tasks via `TaskCreate` and assigned them via `TaskUpdate(owner)`. Check that `TaskCompleted` and `TeammateIdle` hooks are registered in `hooks/hooks.json`. Workers receive tasks through orchestrator assignment, not self-claiming.\n\n### Issue 4: Evidence Collection Failing (ultrawork)\n\n**Symptom:** Verifier reports \"missing evidence\" despite task completion.\n\n**Solution:** View `/ultrawork-evidence`. Verify evidence includes command, output, and exit code. Check for blocked patterns (\"should work\", \"TODO\", \"FIXME\"). Ensure hooks are registered in hooks.json.\n\n### Issue 5: Hook Not Triggering (all plugins)\n\n**Symptom:** Expected hook behavior doesn't occur (evidence not collected, insights not captured, gates not enforced).\n\n**Solution:** Verify Bun is installed (`bun --version`). Check hook registration in `hooks/hooks.json`. Test manually: `echo '{\"session_id\": \"test\"}' | bun hook-script.js`. Use explicit `bun` prefix in hooks.json for cross-platform compatibility.\n\n\n## Contributing\n\nSee [CLAUDE.md](CLAUDE.md) for full development guidelines.\n\n### Quick Guidelines\n\n**Version Sync:** When updating plugin versions, MUST sync both `plugins/{plugin}/.claude-plugin/plugin.json` and `.claude-plugin/marketplace.json`.\n\n**Script Requirements:**\n- Flag-based parameters (no positional args)\n- JSON output for structured data\n- Exit codes: 0 (success), 1 (error)\n\n**Version Bumps:**\n- Patch (0.0.x): Bug fixes, typo fixes\n- Minor (0.x.0): New commands/agents\n- Major (x.0.0): Breaking changes\n\n**Commit Convention:**\n```\nfeat(plugin): Add new feature\nfix(plugin): Fix bug\ndocs(plugin): Update documentation\nrefactor(plugin): Refactor code\n```\n\n## License\n\nMIT\n",
        "plugins/ultrawork/README.md": "# ultrawork\n\nStrict verification-first development mode with Session ID-based isolation.\n\n## Overview\n\nUltrawork enforces rigorous development practices through automated planning, evidence-based completion, and zero tolerance for partial implementations. Every task requires success criteria defined BEFORE implementation, and completion is only accepted when backed by concrete evidence (test results, command outputs, exit codes).\n\nThe plugin operates in isolated sessions, where each development goal goes through structured phases:\n1. **Exploration**: Automated codebase discovery via explorer agents\n2. **Planning**: Task decomposition with dependency graphs\n3. **Execution**: Parallel worker execution with evidence collection\n4. **Verification**: Strict validation of all success criteria\n\n## Features\n\n- **Mandatory Planning**: Every goal requires upfront planning with success criteria\n- **Evidence-Based Completion**: No speculative language allowed (\"should work\", \"probably works\")\n- **Session Isolation**: Each goal runs in isolated session with unique UUID\n- **Automated Exploration**: Explorer agents discover codebase patterns before planning\n- **Parallel Execution**: Workers run concurrently with configurable limits\n- **Execute-Verify Loop**: Automatic retry on verification failure (Ralph loop pattern)\n- **TDD Support**: Built-in Test-Driven Development workflow enforcement\n- **Zero Tolerance**: Blocked patterns (\"TODO\", \"FIXME\", \"basic implementation\") fail verification\n- **Cross-Platform**: JavaScript/Bun implementation works on Windows, MacOS, Linux\n- **Interactive Mode**: User approval at decision points (authentication method, architecture choices)\n- **Auto Mode**: Fully autonomous operation for CI/CD and well-defined tasks\n- **Worktree Support**: Isolated git worktree for each session (v6.1+)\n\n## Installation\n\n### From Marketplace\n\n```bash\nclaude plugin marketplace add mnthe/hardworker-marketplace\nclaude plugin install ultrawork@hardworker-marketplace\n```\n\n### Local Development\n\n```bash\nclaude --plugin-dir /path/to/hardworker-marketplace/plugins/ultrawork\n```\n\n## Usage\n\n### Basic Commands\n\n```bash\n# Full workflow (plan + execute)\n/ultrawork \"implement user authentication\"\n\n# Auto mode (no user interaction)\n/ultrawork --auto \"fix login bug\"\n\n# Plan only (review before execution)\n/ultrawork-plan \"add payment processing\"\n\n# Execute existing plan\n/ultrawork-exec\n\n# Check session status\n/ultrawork-status\n\n# Show collected evidence\n/ultrawork-evidence\n\n# Clean up sessions\n/ultrawork-clean\n\n# Show help\n/ultrawork-help\n```\n\n### Command Options\n\n#### /ultrawork\n\n```bash\n/ultrawork [options] <goal>\n\nOptions:\n  --auto              Skip user interaction, auto-decide everything\n  --max-workers N     Limit concurrent workers (default: unlimited)\n  --max-iterations N  Max execute-verify retry loops (default: 5)\n  --skip-verify       Skip verification phase (fast mode)\n  --plan-only         Stop after planning, don't execute\n  --worktree          Create isolated git worktree for session (v6.1+)\n```\n\nExamples:\n\n```bash\n# Feature implementation with user interaction\n/ultrawork \"implement JWT authentication\"\n\n# Auto mode for well-defined tasks\n/ultrawork --auto \"add unit tests for auth module\"\n\n# Limit parallel workers\n/ultrawork --max-workers 3 \"refactor database layer\"\n\n# Plan only (dry run)\n/ultrawork --plan-only \"migrate to TypeScript\"\n\n# Fast mode (skip verification)\n/ultrawork --skip-verify \"fix typo in documentation\"\n\n# Isolated worktree (v6.1+)\n/ultrawork --worktree \"implement payment integration\"\n```\n\n#### /ultrawork-plan\n\n```bash\n/ultrawork-plan [options] <goal>\n\nOptions:\n  --auto    Auto-decide during planning (no user questions)\n```\n\nCreates planning documents without execution. Outputs:\n- `docs/plans/YYYY-MM-DD-{goal-slug}-design.md` (design document)\n- `~/.claude/ultrawork/sessions/{session-id}/tasks/*.json` (task files)\n\n#### /ultrawork-exec\n\n```bash\n/ultrawork-exec [options]\n\nOptions:\n  --max-iterations N  Override max retry iterations\n  --skip-verify       Skip verification phase\n```\n\nExecutes plan created by `/ultrawork-plan`. Includes automatic retry loop for failed tasks.\n\n#### /ultrawork-status\n\n```bash\n# Current session status\n/ultrawork-status\n\n# All sessions\n/ultrawork-status --all\n```\n\nDisplays:\n- Current phase (PLANNING/EXECUTION/VERIFICATION/COMPLETE)\n- Exploration stage\n- Task progress (completed/total)\n- Evidence collection status\n\n#### /ultrawork-evidence\n\n```bash\n/ultrawork-evidence\n```\n\nShows collected evidence for all tasks with verification status.\n\n#### /ultrawork-clean\n\n```bash\n# Default: Delete sessions older than 7 days in terminal states\n/ultrawork-clean\n\n# Delete sessions older than N days in terminal states\n/ultrawork-clean --older-than 30\n\n# Delete all completed sessions (terminal states)\n/ultrawork-clean --completed\n\n# Delete ALL sessions (including active ones)\n/ultrawork-clean --all\n```\n\nCleans up ultrawork sessions based on age and status:\n- **Default**: Deletes sessions >7 days old in COMPLETE/CANCELLED/FAILED states\n- **--older-than N**: Deletes sessions older than N days in terminal states\n- **--completed**: Deletes all sessions in terminal states regardless of age\n- **--all**: Deletes ALL sessions including active ones (PLANNING/EXECUTION/VERIFICATION)\n\n## Commands\n\n| Command                  | Description                    | Options                                                                           |\n| ------------------------ | ------------------------------ | --------------------------------------------------------------------------------- |\n| `/ultrawork <goal>`      | Full workflow (plan + execute) | `--auto`, `--max-workers N`, `--max-iterations N`, `--skip-verify`, `--plan-only` |\n| `/ultrawork-plan <goal>` | Interactive planning only      | `--auto`                                                                          |\n| `/ultrawork-exec`        | Execute existing plan          | `--max-iterations N`, `--skip-verify`                                             |\n| `/ultrawork-status`      | Check session status           | `--all`                                                                           |\n| `/ultrawork-evidence`    | Show collected evidence        | -                                                                                 |\n| `/ultrawork-clean`       | Clean up sessions              | `--older-than N`, `--completed`, `--all`                                          |\n| `/ultrawork-help`        | Show help documentation        | -                                                                                 |\n\n## Agents\n\n| Agent              | Model   | Role                          | Key Responsibilities                                                                                                              |\n| ------------------ | ------- | ----------------------------- | --------------------------------------------------------------------------------------------------------------------------------- |\n| **explorer**       | haiku   | Codebase discovery            | Fast exploration, writes findings to exploration/*.md, updates context.json summary                                               |\n| **planner**        | inherit | Task decomposition and design | Reads exploration context, makes architecture decisions (auto mode), creates task graph with dependencies, writes design document |\n| **worker**         | inherit | Task implementation           | Executes ONE task, collects evidence for success criteria, updates task status, supports standard and TDD approaches              |\n| **verifier**       | inherit | Quality gatekeeper            | Audits evidence completeness, scans for blocked patterns, runs final tests, makes PASS/FAIL determination, triggers Ralph loop    |\n| **reviewer**       | inherit | Code quality review           | Deep code verification, security vulnerability detection, edge case identification, performance analysis (optional)               |\n| **scope-analyzer** | haiku   | Dependency detection          | Analyzes cross-layer dependencies, outputs to context.json scopeExpansion field                                                   |\n\n### Agent Execution Flow\n\n```mermaid\nflowchart TD\n    Start([\"/ultrawork 'goal'\"]) --> Explorer1[Explorer: Overview]\n    Explorer1 --> Explorer2[Explorer: Targeted]\n    Explorer2 --> Planner[Planner: Task Decomposition]\n    Planner --> Worker1[Worker: Task 1]\n    Planner --> Worker2[Worker: Task 2]\n    Planner --> Worker3[Worker: Task 3]\n    Worker1 --> Verifier[Verifier: Final Validation]\n    Worker2 --> Verifier\n    Worker3 --> Verifier\n    Verifier --> Complete([COMPLETE])\n\n    style Explorer1 fill:#e1f5ff\n    style Explorer2 fill:#e1f5ff\n    style Planner fill:#fff4e6\n    style Worker1 fill:#e8f5e9\n    style Worker2 fill:#e8f5e9\n    style Worker3 fill:#e8f5e9\n    style Verifier fill:#fce4ec\n    style Complete fill:#f3e5f5\n```\n\n## Skills\n\nUltrawork provides 7 reusable skills that enhance agent capabilities:\n\n| Skill | Purpose |\n| ----- | ------- |\n| **data-access-patterns** | Guidelines for accessing session data via scripts vs direct file reads |\n| **overview-exploration** | Codebase discovery patterns for quick project understanding |\n| **planning** | Task decomposition and design document creation strategies |\n| **scripts-path-usage** | How to use SCRIPTS_PATH for calling utility scripts |\n| **tdd-workflow** | Test-Driven Development workflow enforcement patterns |\n| **ultrawork** | Core ultrawork workflow and phase transition rules |\n| **utility-scripts** | Common script invocation patterns and data access utilities |\n\n## How It Works\n\n### Workflow Diagram\n\n```\n┌─────────────────────────────────────────────────────┐\n│ 1. EXPLORATION                                      │\n│    ├─ Overview: Quick project scan (Skill)          │\n│    └─ Targeted: Deep area exploration (Agents)      │\n│    Output: exploration/*.md, context.json           │\n└─────────────────┬───────────────────────────────────┘\n                  ▼\n┌─────────────────────────────────────────────────────┐\n│ 2. PLANNING                                         │\n│    ├─ Interactive: User clarifications via UI       │\n│    └─ Auto: Planner agent decides autonomously      │\n│    Output: design.md, tasks/*.json                  │\n└─────────────────┬───────────────────────────────────┘\n                  ▼\n┌─────────────────────────────────────────────────────┐\n│ 3. EXECUTION                                        │\n│    ├─ Workers run tasks in parallel                 │\n│    ├─ Dependency resolution (task graph)            │\n│    └─ Evidence collected per task                   │\n│    Loop: Retry failed tasks up to max_iterations    │\n└─────────────────┬───────────────────────────────────┘\n                  ▼\n┌─────────────────────────────────────────────────────┐\n│ 4. VERIFICATION                                     │\n│    ├─ Validate evidence completeness                │\n│    ├─ Scan for blocked patterns                     │\n│    ├─ Run final tests                               │\n│    └─ PASS → COMPLETE / FAIL → EXECUTION (retry)    │\n└─────────────────────────────────────────────────────┘\n```\n\n### Session Phases\n\n```mermaid\nstateDiagram-v2\n    [*] --> PLANNING: /ultrawork\n    PLANNING --> EXECUTION: Plan approved\n    EXECUTION --> VERIFICATION: All tasks resolved\n    VERIFICATION --> COMPLETE: Evidence valid (PASS)\n    VERIFICATION --> EXECUTION: Evidence invalid (FAIL - Ralph loop)\n    EXECUTION --> FAILED: Max iterations reached\n    PLANNING --> CANCELLED: User cancels\n    EXECUTION --> CANCELLED: User cancels\n    VERIFICATION --> CANCELLED: User cancels\n    COMPLETE --> [*]\n    FAILED --> [*]\n    CANCELLED --> [*]\n\n    note right of PLANNING\n        Exploration + Task Decomposition\n        Gate: No code edits allowed\n    end note\n\n    note right of EXECUTION\n        Workers implement tasks\n        Gate: TDD tasks block implementation before tests\n    end note\n\n    note right of VERIFICATION\n        Audit evidence, run final tests\n        Blocked patterns cause instant FAIL\n    end note\n```\n\n| Phase          | Description                             | Next Phase                              |\n| -------------- | --------------------------------------- | --------------------------------------- |\n| `PLANNING`     | Exploration + task decomposition        | `EXECUTION`                             |\n| `EXECUTION`    | Workers implement tasks in parallel     | `VERIFICATION`                          |\n| `VERIFICATION` | Verifier checks evidence and criteria   | `COMPLETE` (pass) or `EXECUTION` (fail) |\n| `COMPLETE`     | All criteria verified with evidence     | End                                     |\n| `FAILED`       | Max iterations reached without pass     | End                                     |\n| `CANCELLED`    | User cancelled session                  | End                                     |\n\n### Exploration Stages\n\n| Stage         | Description                                  |\n| ------------- | -------------------------------------------- |\n| `not_started` | Fresh session, no exploration yet            |\n| `overview`    | Quick project scan running/complete          |\n| `analyzing`   | Overview done, planning targeted exploration |\n| `targeted`    | Targeted explorers running                   |\n| `complete`    | All exploration finished                     |\n\n## Configuration\n\n### Session Options\n\nConfigured via command-line flags:\n\n| Option           | Default       | Description                        |\n| ---------------- | ------------- | ---------------------------------- |\n| `auto`           | false         | Skip user interaction              |\n| `max_workers`    | 0 (unlimited) | Limit concurrent worker agents     |\n| `max_iterations` | 5             | Maximum execute-verify retry loops |\n| `skip_verify`    | false         | Skip verification phase            |\n| `plan_only`      | false         | Stop after planning                |\n\n### Task Complexity\n\nDetermines model selection:\n\n| Complexity | Model  | Use Cases                                                       |\n| ---------- | ------ | --------------------------------------------------------------- |\n| `standard` | sonnet | CRUD operations, simple features, tests, documentation          |\n| `complex`  | opus   | Architecture changes, security features, multi-file refactoring |\n\n### TDD Workflow\n\nTasks can specify `approach: \"tdd\"` to enforce Test-Driven Development:\n\n```mermaid\nsequenceDiagram\n    participant W as Worker Agent\n    participant G as Gate Hook\n    participant T as Test Runner\n    participant E as Evidence Log\n\n    Note over W,E: Phase 1: RED (Write Failing Test)\n    W->>W: Create test file (*.test.ts)\n    W->>T: npm test\n    T-->>W: Exit code 1 (FAIL)\n    W->>E: TDD-RED: Test fails as expected\n\n    Note over W,E: Phase 2: GREEN (Minimal Implementation)\n    W->>G: Write implementation file\n    G->>G: Check evidence for TDD-RED\n    G-->>W: Allow (TDD-RED found)\n    W->>W: Implement minimal code\n    W->>T: npm test\n    T-->>W: Exit code 0 (PASS)\n    W->>E: TDD-GREEN: Test passes\n\n    Note over W,E: Phase 3: REFACTOR (Optional)\n    W->>W: Improve code quality\n    W->>T: npm test\n    T-->>W: Exit code 0 (PASS)\n    W->>E: TDD-REFACTOR: Tests still pass\n\n    Note over W,E: Gate blocks implementation before TDD-RED evidence\n```\n\n**TDD Phases:**\n\n```\nPhase 1: RED      - Write failing test first (REQUIRED)\nPhase 2: GREEN    - Minimal implementation to pass (REQUIRED)\nPhase 3: REFACTOR - Improve code quality (OPTIONAL)\n```\n\nGate hooks block out-of-order operations (implementation before test). Evidence chain must show: test created → test failed → implementation → test passed.\n\n## Storage\n\n### Session Directory Structure\n\n```\n~/.claude/ultrawork/sessions/{session-id}/\n├── session.json           # Session state (minimal metadata)\n│                          # Contains: version, session_id, working_dir, goal, phase\n│                          # phase values: PLANNING | EXECUTION | VERIFICATION | COMPLETE | FAILED | CANCELLED\n│                          # Access via: session-get.js --session <ID> --field phase\n│\n├── context.json           # Exploration summary (lightweight index)\n│                          # Contains: expected_explorers, explorers[], key_files[], patterns[]\n│                          # Optional: scopeExpansion (cross-layer dependency detection)\n│                          # Access via: context-get.js --session <ID> --summary\n│\n├── evidence/              # Evidence files (separated from session.json in v6.0+)\n│   ├── log.jsonl          # Append-only evidence log (JSONL format)\n│   │                      # Each line: {\"timestamp\": \"...\", \"type\": \"...\", \"data\": {...}}\n│   │                      # Access via: ultrawork-evidence.js or evidence-query.js\n│   └── index.md           # AI-friendly summary (generated on demand)\n│                          # Generated via: evidence-summary.js --save\n│\n├── exploration/           # Detailed exploration findings (Markdown)\n│   ├── overview.md        # Project overview (always first)\n│   │                      # Generated by: overview-exploration skill\n│   ├── exp-1.md           # Targeted exploration 1\n│   ├── exp-2.md           # Targeted exploration 2\n│   └── exp-3.md           # Targeted exploration 3\n│                          # Generated by: explorer agents with hints\n│                          # OK to read directly (Markdown format)\n│\n└── tasks/                 # Task files with evidence\n    ├── 1.json             # Task metadata: id, subject, description, complexity, status\n    │                      # status values: open | in_progress | resolved | blocked\n    │                      # approach values: standard | tdd\n    ├── 2.json             # Access via: task-get.js --session <ID> --task-id <TASK>\n    ├── 3.json\n    ├── verify.json        # Special verification task (always last)\n    └── summary.md         # AI-friendly task overview (generated on demand)\n                           # Generated via: task-summary.js --save\n```\n\n**Data Access Rules:**\n- **JSON files**: Always use scripts (`session-get.js`, `task-get.js`, `context-get.js`)\n- **Markdown files**: OK to read directly with Read tool\n- **Evidence**: Use `evidence-query.js` for filtering, `evidence-summary.js` for AI-friendly view\n\n### Project Directory Structure\n\nDesign documents are written to the project directory:\n\n```\n{working-directory}/\n└── docs/\n    └── plans/\n        └── YYYY-MM-DD-{goal-slug}-design.md\n```\n\n### Session State Format\n\n**File**: `~/.claude/ultrawork/sessions/{session-id}/session.json`\n\n```json\n{\n  \"version\": \"6.1\",\n  \"session_id\": \"abc-123\",\n  \"working_dir\": \"/path/to/project\",\n  \"original_dir\": null,\n  \"goal\": \"Implement user authentication\",\n  \"started_at\": \"2026-01-12T10:00:00Z\",\n  \"updated_at\": \"2026-01-12T10:05:00Z\",\n  \"phase\": \"PLANNING\",\n  \"exploration_stage\": \"overview\",\n  \"iteration\": 1,\n  \"plan\": {\n    \"approved_at\": null\n  },\n  \"options\": {\n    \"max_workers\": 0,\n    \"max_iterations\": 5,\n    \"skip_verify\": false,\n    \"plan_only\": false,\n    \"auto_mode\": false\n  },\n  \"worktree\": null,\n  \"evidence_log\": [],\n  \"cancelled_at\": null\n}\n```\n\n**Phase values**: `PLANNING` | `EXECUTION` | `VERIFICATION` | `COMPLETE` | `CANCELLED` | `FAILED`\n\n**Exploration stages**: `not_started` | `overview` | `analyzing` | `targeted` | `complete`\n\n### Task File Format\n\n**File**: `~/.claude/ultrawork/sessions/{session-id}/tasks/{task-id}.json`\n\n```json\n{\n  \"id\": \"1\",\n  \"subject\": \"Add user authentication middleware\",\n  \"description\": \"Implement JWT-based auth middleware in src/middleware/auth.ts\",\n  \"complexity\": \"standard\",\n  \"status\": \"open\",\n  \"blocked_by\": [],\n  \"criteria\": [\n    \"Middleware created in src/middleware/auth.ts\",\n    \"Tests pass with 5/5 assertions\",\n    \"Handles invalid tokens gracefully\"\n  ],\n  \"evidence\": [\n    \"Created src/middleware/auth.ts\",\n    \"npm test -- auth.test.ts: 5/5 passed, exit 0\"\n  ],\n  \"created_at\": \"2026-01-12T10:10:00Z\",\n  \"updated_at\": \"2026-01-12T10:15:00Z\",\n  \"approach\": \"standard\",\n  \"test_file\": null\n}\n```\n\n**Task status values**: `open` | `in_progress` | `resolved` | `blocked`\n\n**Complexity values**: `simple` | `standard` | `complex`\n\n**Approach values**: `standard` | `tdd`\n\n### TDD Task Format\n\n**File**: `~/.claude/ultrawork/sessions/{session-id}/tasks/{task-id}.json`\n\n```json\n{\n  \"id\": \"2\",\n  \"subject\": \"Validate user input\",\n  \"description\": \"Add input validation with test-first approach\",\n  \"complexity\": \"standard\",\n  \"status\": \"in_progress\",\n  \"blocked_by\": [],\n  \"criteria\": [\n    \"Test file created first\",\n    \"Test failed (TDD-RED)\",\n    \"Implementation passes test (TDD-GREEN)\"\n  ],\n  \"evidence\": [\n    \"TDD-RED: Created test file tests/validation.test.ts\",\n    \"TDD-RED: Test fails as expected (exit code 1)\",\n    \"TDD-GREEN: Implemented src/validation.ts\",\n    \"TDD-GREEN: Test passes (exit code 0)\"\n  ],\n  \"created_at\": \"2026-01-12T10:20:00Z\",\n  \"updated_at\": \"2026-01-12T10:25:00Z\",\n  \"approach\": \"tdd\",\n  \"test_file\": \"tests/validation.test.ts\"\n}\n```\n\n**TDD Evidence Chain (Required):**\n1. `TDD-RED: Test file created`\n2. `TDD-RED: Test execution failed (exit code 1)`\n3. `TDD-GREEN: Implementation created`\n4. `TDD-GREEN: Test execution passed (exit code 0)`\n5. `TDD-REFACTOR: Improvements made, tests still pass` (optional)\n\nGate enforcement blocks implementation edits until TDD-RED evidence exists in task.\n\n## Workflows\n\n### Interactive Workflow\n\n```bash\n# 1. Start planning\n/ultrawork-plan \"implement user authentication\"\n\n# 2. Exploration (automatic)\n#    - Overview skill gathers project structure\n#    - Targeted explorers investigate auth patterns\n\n# 3. Planning (interactive)\n#    - Agent asks: \"Which auth method?\" (OAuth, JWT, etc.)\n#    - User selects option\n#    - Agent presents design in sections\n#    - User approves each section\n\n# 4. Plan review\n#    - Agent shows task breakdown\n#    - User approves or requests changes\n\n# 5. Execute\n/ultrawork-exec\n\n# 6. Monitor progress\n/ultrawork-status\n/ultrawork-evidence\n```\n\n### Auto Workflow\n\n```bash\n# Single command for autonomous operation\n/ultrawork --auto \"add unit tests for payment module\"\n\n# System automatically:\n# 1. Explores codebase\n# 2. Creates plan (no user input)\n# 3. Executes tasks\n# 4. Verifies completion\n# 5. Reports results\n```\n\n### TDD Workflow\n\n```bash\n# Task with TDD approach enforced\n# 1. Worker creates test file FIRST\n# 2. Runs test, VERIFIES IT FAILS (RED)\n# 3. Implements minimal code (GREEN)\n# 4. Refactors while keeping tests passing\n# 5. Evidence chain proves TDD sequence\n```\n\n## Zero Tolerance Rules\n\n### Blocked Patterns\n\nThese phrases cause immediate verification FAIL:\n\n```\n- \"should work\"\n- \"probably works\"\n- \"basic implementation\"\n- \"you can extend\"\n- \"TODO\"\n- \"FIXME\"\n- \"not implemented\"\n- \"placeholder\"\n```\n\n### Evidence Requirements\n\nEvery success criterion MUST have:\n\n| Element     | Example                | Required |\n| ----------- | ---------------------- | -------- |\n| Command     | `npm test`             | Yes      |\n| Full output | Complete stdout/stderr | Yes      |\n| Exit code   | `Exit code: 0`         | Yes      |\n\nInvalid evidence:\n- \"I ran the tests and they passed\" (no proof)\n- \"The API works correctly\" (no request/response)\n- \"Implementation looks good\" (subjective)\n\n## Troubleshooting\n\n### Session Not Found\n\n```bash\n# List all sessions\n/ultrawork-status --all\n\n# Session ID provided by hook in system-reminder\n# Look for: CLAUDE_SESSION_ID: {uuid}\n```\n\n### Tasks Not Executing\n\n```bash\n# Check task dependencies\n/ultrawork-status\n\n# Tasks blocked by dependencies won't run until blockers resolve\n```\n\n### Verification Failing\n\n```bash\n# Review evidence\n/ultrawork-evidence\n\n# Check for:\n# - Missing evidence for criteria\n# - Blocked patterns in output\n# - Failed test commands\n\n# Fix issues and execution will retry automatically\n```\n\n### Worker Pool Exhaustion\n\n```bash\n# Limit concurrent workers\n/ultrawork --max-workers 2 \"goal\"\n\n# Useful for:\n# - Resource-constrained environments\n# - Debugging worker failures\n# - Rate-limited external services\n```\n\n## Requirements\n\n- **Claude Code CLI**: Latest version with plugin support\n- **Bun**: 1.3+ for script execution\n- **Git**: For version control operations\n- **Platform**: Windows, MacOS, or Linux\n\n## License\n\nMIT\n",
        "plugins/teamwork/README.md": "# teamwork\n\nNative teammate-based collaboration plugin for Claude Code. Enables multi-agent project execution with role-based workers and event-driven coordination.\n\n## Overview\n\nTeamwork v3 uses Claude Code's native agent teams API for multi-agent collaboration. The orchestrator operates in delegate mode -- it plans tasks, spawns workers as native teammates, and coordinates through `TaskCreate`, `TaskUpdate`, `SendMessage`, and event hooks.\n\n**Key capabilities:**\n- Native Claude Code agent teams (no tmux/shell spawning)\n- Orchestrator in delegate mode (plans and coordinates, never writes code)\n- Role-based task assignment (frontend, backend, test, devops, docs, security, review)\n- Event-driven coordination via `TaskCompleted` and `TeammateIdle` hooks\n- Project-level verification via final-verifier agent\n- Dashboard status view with progress tracking\n- Cross-platform support (Windows, macOS, Linux)\n\n## Requirements\n\n- **Claude Code CLI**: Latest version with agent teams support\n- **Bun**: 1.3+ for script execution\n- **Git**: For project/team name detection (optional)\n- **Agent Teams**: Must be enabled in Claude Code configuration (`CLAUDE_AGENT_TEAMS=1` or equivalent setting)\n\n## Installation\n\n### From Marketplace\n\n```bash\nclaude plugin marketplace add mnthe/hardworker-marketplace\nclaude plugin install teamwork@hardworker-marketplace\n```\n\n### Local Development\n\n```bash\nclaude --plugin-dir /path/to/teamwork\n```\n\n## Usage\n\n### Start a Project\n\n```bash\n# Start project with goal (orchestrator plans and spawns workers)\n/teamwork \"build REST API with authentication and tests\"\n\n# Start with plan documents\n/teamwork --plans docs/api-spec.md docs/design.md\n```\n\n### Check Progress\n\n```bash\n# Basic status\n/teamwork-status\n\n# JSON output\n/teamwork-status --format json\n```\n\n### Manual Worker (Optional)\n\n```bash\n# Workers are spawned automatically by the orchestrator.\n# Manual worker for ad-hoc task execution:\n/teamwork-worker --role backend\n```\n\n### Cleanup\n\n```bash\n# Clean project to start fresh\n/teamwork-clean\n```\n\n## Commands\n\n| Command | Description | Options |\n|---------|-------------|---------|\n| `/teamwork <goal>` | Start coordination session | `--project NAME`, `--team NAME`, `--plans FILE...` |\n| `/teamwork-status` | View dashboard with progress | `--project NAME`, `--team NAME` |\n| `/teamwork-worker` | Manual task execution | `--role ROLE`, `--project NAME`, `--team NAME` |\n| `/teamwork-verify` | Trigger manual verification | `--final`, `--project NAME`, `--team NAME` |\n| `/teamwork-clean` | Clean project state | `--project NAME`, `--team NAME` |\n\n## Agents\n\n| Agent | Model | Purpose |\n|-------|-------|---------|\n| **orchestrator** | opus | Planning, worker spawning, task assignment, coordination |\n| **final-verifier** | opus | Project-level build/test verification |\n| **worker** | inherit | General purpose task execution |\n| **frontend** | inherit | UI components, styling, state management |\n| **backend** | inherit | API endpoints, services, database |\n| **test** | inherit | Unit tests, integration tests |\n| **devops** | inherit | CI/CD, deployment, infrastructure |\n| **docs** | inherit | Documentation, README, examples |\n| **security** | inherit | Authentication, authorization, validation |\n| **review** | inherit | Code review, refactoring |\n\nSpecialist agents use `model: inherit` -- they inherit the model from the parent agent (orchestrator) that spawns them.\n\n## How It Works\n\n### Architecture\n\n```\nOrchestrator (delegate mode, Opus)\n    |\n    +-- TaskCreate / TaskUpdate / SendMessage\n    |\n    +-- Workers (native teammates)\n    |   |-- backend, frontend, test, devops\n    |   |-- docs, security, review, worker\n    |\n    +-- Hooks (event-driven)\n    |   |-- TaskCompleted -> track progress\n    |   |-- TeammateIdle -> assign next task\n    |\n    +-- Final Verifier (project validation)\n```\n\n### Workflow\n\n1. **PLANNING**: Orchestrator explores codebase, decomposes goal into tasks via `TaskCreate`, sets dependencies\n2. **EXECUTION**: Orchestrator spawns role-specific workers as native teammates, assigns tasks, reacts to completion events\n3. **VERIFICATION**: Final verifier runs full build/test, checks evidence completeness\n4. **COMPLETE**: All tasks verified, project finished\n\n### Coordination Model\n\nThe orchestrator uses Claude Code's native API for all coordination:\n\n| Operation | API |\n|-----------|-----|\n| Create tasks | `TaskCreate` |\n| List tasks | `TaskList` |\n| Assign/update tasks | `TaskUpdate` |\n| Communicate | `SendMessage` |\n| Spawn workers | `Task(teamwork:backend)`, etc. |\n| React to events | `TaskCompleted` hook, `TeammateIdle` hook |\n\n## Storage\n\n```\n~/.claude/teamwork/{project}/{team}/\n    project.json      # Project metadata and stats\n    tasks/\n        1.json        # Individual task files\n        2.json\n        ...\n```\n\n### Task Statuses\n\n- `open` - Available for assignment\n- `in_progress` - Assigned to a worker\n- `resolved` - Completed with evidence\n\n### Project Phases\n\n- `PLANNING` - Orchestrator analyzing and creating tasks\n- `EXECUTION` - Workers implementing tasks\n- `VERIFICATION` - Final verification in progress\n- `COMPLETE` - All tasks verified\n\n## Configuration\n\n| Option | Default | Description |\n|--------|---------|-------------|\n| `--project` | Git repo name | Override project name |\n| `--team` | Git branch name | Override team name |\n| `--role` | none (all roles) | Filter tasks by role |\n| `--format` | table | Output format (`json` or `table`) |\n\n### Role Assignment\n\n| Role | Use Cases |\n|------|-----------|\n| `frontend` | UI components, styling, user interactions |\n| `backend` | API endpoints, services, database |\n| `test` | Unit tests, integration tests |\n| `devops` | CI/CD, deployment, infrastructure |\n| `docs` | Documentation, README, examples |\n| `security` | Authentication, authorization, validation |\n| `review` | Code review, refactoring suggestions |\n| `worker` | General purpose (claims any role) |\n\n## Troubleshooting\n\n### Worker Not Finding Tasks\n\n```bash\n# Check if tasks exist\n/teamwork-status --format json\n\n# Verify project and team names match\n/teamwork-status --project myapp --team feature-123\n```\n\n### Project State Issues\n\n```bash\n# Clean and restart\n/teamwork-clean\n/teamwork \"your goal\"\n```\n\n## License\n\nMIT\n",
        "plugins/knowledge-extraction/README.md": "# Knowledge Extraction Plugin\n\nCollect insights from Claude sessions and extract them into reusable components (Skills, Commands, Agents, CLAUDE.md, Rules Files).\n\n## Overview\n\nThis plugin automatically captures valuable insights generated during Claude sessions and converts them into permanent, reusable knowledge. When Claude generates `★ Insight` markers or discovers useful patterns, they're saved to session files and can later be extracted into appropriate components.\n\n## Features\n\n- **Automatic Collection**: Captures insights using the `★ Insight` format\n- **Session Isolation**: Each session's insights stored separately\n- **Smart Classification**: Categorizes insights by type (code-pattern, workflow, debugging, etc.)\n- **Threshold Alerts**: Notifies when insight count reaches configurable threshold\n- **Multi-target Extraction**: Converts insights to Skills, Commands, Agents, CLAUDE.md, or Rules Files\n- **Standards Compliance**: Follows CLAUDE.md and Rules File writing guidelines automatically\n\n## Installation\n\n### From Marketplace\n\n```bash\nclaude plugin install hardworker-marketplace/knowledge-extraction\n```\n\n### Local Development\n\n```bash\nclaude --plugin-dir /path/to/knowledge-extraction\n```\n\n## Usage\n\n### Automatic Collection\n\nInsights are **automatically extracted by hooks** - no manual action required. When Claude generates `★ Insight` markers:\n\n```\n★ Insight ─────────────────────────────────────\nJWT tokens should include minimal claims. Store sensitive data server-side.\n─────────────────────────────────────────────────\n```\n\nThe **Stop/SubagentStop hooks** parse Claude's transcript and extract these patterns to `~/.claude/knowledge-extraction/{session-id}/insights.md`.\n\n**Efficiency**: State tracking (`{session-id}/state.json`) ensures already-processed messages are skipped on subsequent hook calls.\n\n## Commands\n\n| Command             | Description                             |\n| ------------------- | --------------------------------------- |\n| `/insights`         | View current session's insights         |\n| `/insights extract` | Extract insights to reusable components |\n| `/insights clear`   | Clear current session's insights        |\n\n## Agents\n\n| Agent             | Model   | Purpose                           | Key Responsibilities                                                                          |\n| ----------------- | ------- | --------------------------------- | --------------------------------------------------------------------------------------------- |\n| insight-extractor | inherit | Convert insights to components    | Analyzes collected insights, classifies by type and extraction target, proposes component creation, executes approved extractions |\n\n## Skills\n\nKnowledge-extraction provides 1 skill for insight capture:\n\n| Skill | Purpose |\n| ----- | ------- |\n| **insight-awareness** | Guides Claude to recognize valuable insights and use ★ Insight format for automatic extraction |\n\n## How It Works\n\n### Insight Collection Workflow\n\n1. **Generation**: Claude produces insight using `★ Insight` format during conversation\n2. **Hook Trigger**: Stop/SubagentStop hook fires when Claude finishes responding\n3. **Transcript Parse**: Hook reads transcript, finds new messages since last processed\n4. **Pattern Match**: Extracts content between `★ Insight ─────` markers\n5. **Context Capture**: Saves user question + text before insight for context\n6. **Storage**: Appends to `{session-id}/insights.md`\n7. **State Update**: Saves last processed uuid to `state.json`\n8. **Threshold Check**: (Stop only) Recommends extraction if count >= threshold\n\n```mermaid\nflowchart LR\n    A[Claude Response] --> B[★ Insight Generated]\n    B --> C[Hook Fires:<br/>Stop/SubagentStop]\n    C --> D[Parse Transcript]\n    D --> E[Extract Pattern]\n    E --> F[Capture Context]\n    F --> G[Store in insights.md]\n    G --> H[Update state.json]\n    H --> I{Stop Hook?}\n    I -->|Yes| J{Count >= Threshold?}\n    I -->|No| K[Complete]\n    J -->|Yes| L[Recommend Extraction]\n    J -->|No| K\n    L --> K\n```\n\n### Extraction Workflow\n\n1. Insights are collected during normal Claude usage\n2. When threshold reached (default: 5), hook recommends extraction\n3. Run `/insights extract` to launch the extractor agent\n4. Agent analyzes and proposes extraction targets\n5. Approve proposals to create components\n6. Session file is cleaned up after extraction\n\n### Insight Format Integration\n\n```\n★ Insight ─────────────────────────────────────\n[key educational points]\n─────────────────────────────────────────────────\n```\n\n**Automatic workflow:**\n1. Claude generates `★ Insight` block (visible to user)\n2. Hook parses transcript after response completes\n3. Extracts content between markers\n4. Saves to session file with context\n5. Recommends extraction when threshold reached\n\n### Hook Behavior\n\n- **Stop Hook**: Automatically extracts `★ Insight` patterns from Claude's responses and saves to session file. Also recommends extraction when threshold reached.\n- **SubagentStop Hook**: Extracts insights from subagent responses (extraction only, no recommendations)\n\n```mermaid\nflowchart TD\n    A[Hook Event Triggered] --> B{Event Type?}\n    B -->|Stop| C[Session Stop]\n    B -->|SubagentStop| D[Agent Stop]\n\n    C --> E[Read Transcript]\n    D --> E\n\n    E --> F[Parse for ★ Insight Markers]\n    F --> G{New Insights Found?}\n\n    G -->|No| H[Exit Silently]\n    G -->|Yes| I[Extract Content Between Markers]\n\n    I --> J[Capture Context:<br/>User Question +<br/>Preceding Text]\n    J --> K[Append to insights.md]\n    K --> L[Update state.json<br/>with lastProcessedUuid]\n\n    L --> M{Hook Type?}\n    M -->|SubagentStop| H\n    M -->|Stop| N{Count >= Threshold?}\n\n    N -->|No| H\n    N -->|Yes| O[Recommend Extraction<br/>via additionalContext]\n    O --> H\n```\n\n### Extraction Targets\n\n| Insight Type   | Primary Target | Secondary Target | Criteria                            |\n| -------------- | -------------- | ---------------- | ----------------------------------- |\n| `code-pattern` | Skill          | Rules File       | Reusable patterns across projects   |\n| `workflow`     | Command        | Skill            | Automatable step-by-step procedures |\n| `debugging`    | Skill          | CLAUDE.md        | Troubleshooting techniques          |\n| `architecture` | CLAUDE.md      | Rules File       | Project-specific decisions          |\n| `tool-usage`   | Skill          | Rules File       | Effective tool combinations         |\n| `standard`     | Rules File     | CLAUDE.md        | Standards, conventions, formatting  |\n| `convention`   | Rules File     | CLAUDE.md        | Naming conventions, file patterns   |\n\n```mermaid\ngraph TD\n    A[Insight Collected] --> B{Classify Type}\n\n    B -->|code-pattern| C1[Primary: Skill]\n    B -->|workflow| C2[Primary: Command]\n    B -->|debugging| C3[Primary: Skill]\n    B -->|architecture| C4[Primary: CLAUDE.md]\n    B -->|tool-usage| C5[Primary: Skill]\n    B -->|standard| C6[Primary: Rules File]\n    B -->|convention| C7[Primary: Rules File]\n\n    C1 --> D1[Secondary: Rules File]\n    C2 --> D2[Secondary: Skill]\n    C3 --> D3[Secondary: CLAUDE.md]\n    C4 --> D4[Secondary: Rules File]\n    C5 --> D5[Secondary: Rules File]\n    C6 --> D6[Secondary: CLAUDE.md]\n    C7 --> D7[Secondary: CLAUDE.md]\n\n    D1 --> E{Check Criteria}\n    D2 --> E\n    D3 --> E\n    D4 --> E\n    D5 --> E\n    D6 --> E\n    D7 --> E\n\n    E -->|Reusable across projects| F[Extract to Skill]\n    E -->|Automatable procedure| G[Extract to Command]\n    E -->|Project-specific| H[Extract to CLAUDE.md]\n    E -->|Standard/Convention| I[Extract to Rules File]\n```\n\n### Rules Files\n\nRules files (`.claude/rules/*.rules`) are created for reusable standards that can be referenced from multiple places:\n\n- Documentation standards\n- Code style guidelines\n- Testing requirements\n- Workflow procedures\n\nThe insight-extractor follows strict formatting guidelines when creating Rules files, including:\n- Proper file naming (`topic-name.rules`)\n- Required section structure\n- Evidence-based language (no speculation)\n- Consistent markdown formatting\n\n## Configuration\n\nCreate `~/.claude/knowledge-extraction/config.local.md` to customize:\n\n```yaml\n---\nthreshold: 5\nauto_recommend: true\n---\n\n# Knowledge Extraction Configuration\n\nCustomize insight collection and extraction behavior.\n```\n\n### Options\n\n| Option           | Default | Description                             |\n| ---------------- | ------- | --------------------------------------- |\n| `threshold`      | 5       | Insights before recommending extraction |\n| `auto_recommend` | true    | Show extraction recommendations         |\n\n## Storage\n\nInsights and state are stored per-session:\n\n```\n~/.claude/knowledge-extraction/\n├── config.local.md              # Configuration (optional)\n└── {session-id}/\n    ├── state.json               # Processing state (last processed uuid)\n    └── insights.md              # Collected insights with context\n```\n\n### Insight Format\n\nEach insight includes context for better understanding:\n\n```markdown\n## 2026-01-11T22:10:30+09:00\n\n### User Question\n\n> How should I manage complex form state in React?\n\n### Context\n\nI've been looking at different approaches for form state management.\n\n### Content\n\nWhen managing complex form state with multiple interdependent fields, prefer useReducer over multiple useState calls.\n\n---\n```\n\n## Workflows\n\n### Skill: insight-awareness\n\nGuides Claude to recognize and save insights. Triggers when:\n- Generating `★ Insight` markers\n- Discovering code patterns\n- Finding debugging solutions\n- Making architectural decisions\n\n### Command: /insights\n\nUser-facing command for managing insights.\n\n### Agent: insight-extractor\n\nAutonomous agent that:\n- Analyzes collected insights\n- Classifies by type and extraction target\n- Proposes component creation\n- Executes approved extractions\n\n### Hooks\n\n- **Stop Hook**: Automatically extracts `★ Insight` patterns from Claude's responses and saves to session file. Also recommends extraction when threshold reached.\n- **SubagentStop Hook**: Extracts insights from subagent responses (extraction only, no recommendations)\n\n## Troubleshooting\n\n### No Insights Appearing\n\n```bash\n# Check if session directory exists\nls ~/.claude/knowledge-extraction/\n\n# Verify state file\ncat ~/.claude/knowledge-extraction/{session-id}/state.json\n\n# Ensure ★ Insight format is correct (must have exact markers)\n```\n\n### Hook Not Triggering\n\n- Verify hooks are enabled in Claude Code settings\n- Check that Bun runtime is available\n- Confirm hook file permissions are executable\n- Review Claude Code logs for hook execution errors\n\n### Duplicate Insights\n\nState tracking should prevent duplicates. If duplicates occur:\n- Delete `~/.claude/knowledge-extraction/{session-id}/state.json`\n- Restart Claude session\n- Hook will reprocess with fresh state\n\n### Extraction Failed\n\n```bash\n# View current session's insights\n/insights\n\n# Clear and retry extraction\n/insights clear\n/insights extract\n```\n\nCommon issues:\n- Insufficient insights (need descriptive content)\n- Missing context (user question not captured)\n- Invalid insight format (missing markers)\n\n## Requirements\n\n- Claude Code CLI\n- Bun (for hooks)\n\n## License\n\nMIT\n"
      },
      "plugins": [
        {
          "name": "ultrawork",
          "source": "./plugins/ultrawork",
          "description": "Bun cross-platform version of ultrawork - strict verification-first development with TDD support and token-optimized state management",
          "version": "1.4.0",
          "author": {
            "name": "mnthe"
          },
          "keywords": [
            "ultrawork",
            "typescript",
            "cross-platform",
            "verification",
            "planning",
            "tdd"
          ],
          "category": "productivity",
          "categories": [
            "cross-platform",
            "planning",
            "productivity",
            "tdd",
            "typescript",
            "ultrawork",
            "verification"
          ],
          "install_commands": [
            "/plugin marketplace add mnthe/hardworker-marketplace",
            "/plugin install ultrawork@hardworker-marketplace"
          ]
        },
        {
          "name": "teamwork",
          "source": "./plugins/teamwork",
          "description": "Native teammate-based collaboration plugin with role-based workers, event-driven coordination, and Claude Code agent teams",
          "version": "3.3.3",
          "author": {
            "name": "mnthe"
          },
          "keywords": [
            "teamwork",
            "collaboration",
            "agent-teams",
            "role-based",
            "workers",
            "task-management",
            "parallel",
            "native-api",
            "cross-platform"
          ],
          "category": "productivity",
          "categories": [
            "agent-teams",
            "collaboration",
            "cross-platform",
            "native-api",
            "parallel",
            "productivity",
            "role-based",
            "task-management",
            "teamwork",
            "workers"
          ],
          "install_commands": [
            "/plugin marketplace add mnthe/hardworker-marketplace",
            "/plugin install teamwork@hardworker-marketplace"
          ]
        },
        {
          "name": "knowledge-extraction",
          "source": "./plugins/knowledge-extraction",
          "description": "Collect insights from Claude sessions and extract them into reusable components (Skills, Commands, Agents, CLAUDE.md, Rules Files)",
          "version": "0.7.1",
          "author": {
            "name": "mnthe"
          },
          "keywords": [
            "knowledge",
            "insights",
            "extraction",
            "skills",
            "learning",
            "productivity"
          ],
          "category": "productivity",
          "categories": [
            "extraction",
            "insights",
            "knowledge",
            "learning",
            "productivity",
            "skills"
          ],
          "install_commands": [
            "/plugin marketplace add mnthe/hardworker-marketplace",
            "/plugin install knowledge-extraction@hardworker-marketplace"
          ]
        }
      ]
    }
  ]
}