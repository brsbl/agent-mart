{
  "author": {
    "id": "hgeldenhuys",
    "display_name": "hgeldenhuys",
    "avatar_url": "https://avatars.githubusercontent.com/u/179999?v=4"
  },
  "marketplaces": [
    {
      "name": "claude-code-sdk",
      "version": null,
      "description": "Claude Code SDK plugins - session naming, documentation tracking, and more",
      "repo_full_name": "hgeldenhuys/claude-code-sdk",
      "repo_url": "https://github.com/hgeldenhuys/claude-code-sdk",
      "repo_description": null,
      "signals": {
        "stars": 2,
        "forks": 0,
        "pushed_at": "2026-02-01T01:50:04Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"claude-code-sdk\",\n  \"owner\": {\n    \"name\": \"Herman Geldenhuys\",\n    \"email\": \"hgeldenhuys@gmail.com\",\n    \"url\": \"https://github.com/hgeldenhuys\"\n  },\n  \"description\": \"Claude Code SDK plugins - session naming, documentation tracking, and more\",\n  \"plugins\": [\n    {\n      \"name\": \"session-naming\",\n      \"description\": \"Human-friendly session names for Claude Code. Assigns memorable names like 'brave-elephant' to sessions, persists across /compact and /clear. v2.0: centralized storage, transcript tracking, machine namespacing, sesh CLI with transcript/machines/migrate commands.\",\n      \"source\": \"./\",\n      \"version\": \"2.0.0\",\n      \"keywords\": [\"sessions\", \"naming\", \"productivity\", \"hooks\", \"transcripts\", \"multi-machine\", \"sesh\"]\n    },\n    {\n      \"name\": \"hook-framework\",\n      \"description\": \"YAML-based hook framework with built-in handlers. Includes session naming, turn tracking, dangerous command guards. Routes ALL hook events through a unified framework with environment variable injection.\",\n      \"source\": \"./plugins/hook-framework\",\n      \"version\": \"1.0.0\",\n      \"keywords\": [\"hooks\", \"framework\", \"yaml\", \"session-naming\", \"turn-tracker\", \"command-guard\", \"automation\"]\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"session-naming\",\n  \"version\": \"2.0.0\",\n  \"description\": \"Human-friendly session names for Claude Code. Assigns memorable names like 'brave-elephant' to sessions, persists across /compact and /clear, enables resume by name. v2.0 adds centralized storage, transcript tracking, and machine namespacing for multi-machine sync.\",\n  \"author\": {\n    \"name\": \"Herman Geldenhuys\",\n    \"email\": \"hgeldenhuys@gmail.com\",\n    \"url\": \"https://github.com/hgeldenhuys\"\n  },\n  \"homepage\": \"https://github.com/hgeldenhuys/claude-code-sdk\",\n  \"repository\": \"https://github.com/hgeldenhuys/claude-code-sdk\",\n  \"license\": \"MIT\",\n  \"keywords\": [\n    \"claude-code\",\n    \"sessions\",\n    \"naming\",\n    \"hooks\",\n    \"productivity\",\n    \"transcripts\",\n    \"multi-machine\"\n  ],\n  \"hooks\": \"./hooks.json\"\n}\n",
        "README.md": "# Claude Code SDK\n\nA TypeScript toolkit for extending Claude Code with documentation tracking, transcript search, and reusable skills.\n\n## Quick Start (Project Install)\n\nGet hooks, skills, and CLI tools in one command:\n\n```bash\ncurl -fsSL https://raw.githubusercontent.com/hgeldenhuys/claude-code-sdk/main/scripts/install-hooks.sh | bash\n```\n\nThis installs:\n- **Hook Framework** - Session naming, turn tracking, context injection, event logging\n- **30+ Skills** - Including `/recall`, `/transcript-intelligence`, `/creating-hooks`\n- **CLI Tools** - `transcript`, `hook-events`, `sesh` for debugging and analysis\n\nAfter install, start Claude Code and your sessions will be automatically named (e.g., \"brave-elephant\").\n\n## Features\n\n- **Documentation Tracking** - Cache and detect changes in Claude Code official docs\n- **Transcript Intelligence** - Search across session history to recall past decisions\n- **Skills Library** - Reusable guides for building Claude Code extensions\n- **Change Tracker** - Monitor Claude Code releases and breaking changes\n- **Plugin Manager** - Load and manage skills, hooks, commands, and MCP servers\n\n## Installing Skills\n\nThis repo is a **Claude Code plugin marketplace**. Install skills directly in Claude Code:\n\n### Method 1: Plugin Marketplace (Recommended)\n\n```bash\n# In Claude Code, add this repo as a marketplace\n/plugin marketplace add hgeldenhuys/claude-code-sdk\n\n# Then install any skill\n/plugin install claude-code-reference@claude-code-sdk\n/plugin install creating-hooks@claude-code-sdk\n/plugin install creating-mcp-servers@claude-code-sdk\n/plugin install custom-slash-commands@claude-code-sdk\n/plugin install creating-plugins@claude-code-sdk\n/plugin install creating-subagents@claude-code-sdk\n/plugin install headless-mode@claude-code-sdk\n/plugin install transcript-intelligence@claude-code-sdk\n/plugin install writing-skills@claude-code-sdk\n\n# User-focused skills\n/plugin install chrome-integration@claude-code-sdk\n/plugin install effective-prompting@claude-code-sdk\n/plugin install memory-management@claude-code-sdk\n/plugin install debugging-claude-code@claude-code-sdk\n/plugin install project-setup@claude-code-sdk\n/plugin install git-workflows@claude-code-sdk\n/plugin install context-optimization@claude-code-sdk\n/plugin install permission-patterns@claude-code-sdk\n\n# Advanced workflow skills\n/plugin install testing-patterns@claude-code-sdk\n/plugin install code-review@claude-code-sdk\n/plugin install refactoring-safely@claude-code-sdk\n/plugin install multi-file-editing@claude-code-sdk\n/plugin install cost-optimization@claude-code-sdk\n/plugin install ide-integration@claude-code-sdk\n/plugin install team-workflows@claude-code-sdk\n/plugin install documentation-generation@claude-code-sdk\n/plugin install database-workflows@claude-code-sdk\n/plugin install error-recovery@claude-code-sdk\n/plugin install migration-guides@claude-code-sdk\n/plugin install security-practices@claude-code-sdk\n/plugin install monorepo-patterns@claude-code-sdk\n/plugin install ci-cd-integration@claude-code-sdk\n```\n\n### Method 2: Direct Copy\n\n```bash\n# Clone and copy skills you want\ngit clone https://github.com/hgeldenhuys/claude-code-sdk.git\ncp -r claude-code-sdk/skills/creating-hooks ~/.claude/skills/\n\n# Or copy all skills\ncp -r claude-code-sdk/skills/* ~/.claude/skills/\n```\n\n### Method 3: npm Package + Symlink\n\n```bash\n# Install the package\nbun add claude-code-sdk\n\n# Symlink skills from node_modules\nln -s node_modules/claude-code-sdk/skills/creating-hooks ~/.claude/skills/\nln -s node_modules/claude-code-sdk/skills/creating-mcp-servers ~/.claude/skills/\nln -s node_modules/claude-code-sdk/skills/transcript-intelligence ~/.claude/skills/\n```\n\n### Skill Locations\n\n| Location | Scope |\n|----------|-------|\n| `~/.claude/skills/` | Available in all your projects |\n| `.claude/skills/` | Project-specific (version controlled) |\n\n## Available Skills\n\n### Extension Development Skills\n\nSkills for building Claude Code extensions (hooks, MCP servers, plugins, etc.):\n\n| Skill | Description |\n|-------|-------------|\n| [claude-code-reference](skills/claude-code-reference/SKILL.md) | Reference guide for Claude Code extensions |\n| [creating-hooks](skills/creating-hooks/SKILL.md) | All 13 hook events with examples |\n| [creating-mcp-servers](skills/creating-mcp-servers/SKILL.md) | MCP server development and integration |\n| [creating-plugins](skills/creating-plugins/SKILL.md) | Full plugin bundling and distribution |\n| [creating-subagents](skills/creating-subagents/SKILL.md) | Custom Task tool agents |\n| [custom-slash-commands](skills/custom-slash-commands/SKILL.md) | Create custom slash commands |\n| [headless-mode](skills/headless-mode/SKILL.md) | CLI flags and SDKs for automation |\n| [recall](skills/recall/SKILL.md) | Search past sessions for decisions and solutions |\n| [transcript-intelligence](skills/transcript-intelligence/SKILL.md) | Search session transcripts |\n| [writing-skills](skills/writing-skills/SKILL.md) | Create effective skills |\n\n### User-Focused Skills\n\nSkills for everyday Claude Code usage:\n\n| Skill | Description |\n|-------|-------------|\n| [chrome-integration](skills/chrome-integration/SKILL.md) | Browser automation, web app testing, live debugging |\n| [effective-prompting](skills/effective-prompting/SKILL.md) | @ mentions, thinking modes, task framing |\n| [memory-management](skills/memory-management/SKILL.md) | CLAUDE.md, rules, memory strategies |\n| [debugging-claude-code](skills/debugging-claude-code/SKILL.md) | Diagnostics, common fixes, recovery |\n| [project-setup](skills/project-setup/SKILL.md) | Configuration, permissions, checklists |\n| [git-workflows](skills/git-workflows/SKILL.md) | Commits, PRs, branch strategies |\n| [context-optimization](skills/context-optimization/SKILL.md) | /compact, /clear, context management |\n| [permission-patterns](skills/permission-patterns/SKILL.md) | Default, plan, trusted modes |\n\n### Advanced Workflow Skills\n\nSkills for advanced development workflows:\n\n| Skill | Description |\n|-------|-------------|\n| [testing-patterns](skills/testing-patterns/SKILL.md) | TDD workflows, test generation, coverage strategies |\n| [code-review](skills/code-review/SKILL.md) | PR workflows, review prompts, checklists |\n| [refactoring-safely](skills/refactoring-safely/SKILL.md) | Large-scale changes, validation, rollback |\n| [multi-file-editing](skills/multi-file-editing/SKILL.md) | Coordinated changes across multiple files |\n| [cost-optimization](skills/cost-optimization/SKILL.md) | Token strategies, model selection, monitoring |\n| [ide-integration](skills/ide-integration/SKILL.md) | VS Code, JetBrains, terminal workflows |\n| [team-workflows](skills/team-workflows/SKILL.md) | Shared configs, standards, onboarding |\n| [documentation-generation](skills/documentation-generation/SKILL.md) | READMEs, API docs, inline comments |\n| [database-workflows](skills/database-workflows/SKILL.md) | Schema design, migrations, query optimization |\n| [error-recovery](skills/error-recovery/SKILL.md) | Error types, recovery patterns, prevention |\n| [migration-guides](skills/migration-guides/SKILL.md) | From other AI tools, version upgrades |\n| [security-practices](skills/security-practices/SKILL.md) | Vulnerability prevention, secrets, security review |\n| [monorepo-patterns](skills/monorepo-patterns/SKILL.md) | Navigation, cross-package changes, tooling |\n| [ci-cd-integration](skills/ci-cd-integration/SKILL.md) | GitHub Actions, automation, pipelines |\n\n## SDK Installation\n\nFor programmatic access to documentation tracking and transcript search:\n\n```bash\nbun add claude-code-sdk\n```\n\n## Quick Start\n\n```typescript\nimport { ClaudeCodeSDK } from 'claude-code-sdk';\n\nconst sdk = new ClaudeCodeSDK();\nawait sdk.init();\n\n// Search past sessions for context\nimport { searchTranscripts, indexTranscripts } from 'claude-code-sdk/transcripts';\nconst index = await indexTranscripts();\nconst results = await searchTranscripts('authentication bug', { limit: 10 });\n\n// Track documentation changes\nconst docs = sdk.docs;\nawait docs.fetchAll();\nconst changes = await docs.checkForChanges();\n```\n\n## Modules\n\n### Transcript Intelligence\n\nSearch across all Claude Code session transcripts to recall past solutions, decisions, and discussions:\n\n```typescript\nimport {\n  searchTranscripts,\n  indexTranscripts,\n  parseTranscriptFile,\n  getConversationThread\n} from 'claude-code-sdk/transcripts';\n\n// Index all sessions\nconst index = await indexTranscripts();\nconsole.log(`Found ${index.stats.totalFiles} sessions`);\n\n// Search with scoring\nconst results = await searchTranscripts('database migration', {\n  limit: 20,\n  messageTypes: ['user', 'assistant'],\n  timeframe: 'week'\n});\n\n// Get conversation context around a match\nconst thread = getConversationThread(transcriptLines, matchUuid, 5);\n```\n\n### Documentation Tracker\n\nCache and monitor official Claude Code documentation:\n\n```bash\nbun run docs:fetch   # Fetch and cache all docs\nbun run docs:check   # Detect changes since last fetch\nbun run docs:status  # Show cache status\nbun run docs search \"hooks\"  # Search documentation\n```\n\n```typescript\nimport { DocsTracker } from 'claude-code-sdk/docs';\n\nconst docs = new DocsTracker();\nawait docs.fetchAll();\n\n// Check for updates\nconst delta = await docs.checkForChanges();\nif (delta.changed.length > 0) {\n  console.log('Docs updated:', delta.changed);\n}\n\n// Search cached docs\nconst results = docs.search('MCP servers');\n```\n\n### Change Tracker\n\nMonitor Claude Code releases and identify breaking changes:\n\n```typescript\nimport { ChangeTracker } from 'claude-code-sdk/tracker';\n\nconst tracker = new ChangeTracker();\nconst changes = await tracker.fetchChanges();\nconst breaking = tracker.getBreakingChanges('1.0.0', '2.0.0');\nconst guide = tracker.getMigrationGuide('1.0.0', '2.0.0');\n```\n\n### Plugin Manager\n\nLoad and manage Claude Code extensions:\n\n```typescript\nimport { PluginManager } from 'claude-code-sdk/plugins';\n\nconst manager = new PluginManager();\nawait manager.loadAll();\n\nconst skills = manager.getByType('skill');\nconst hooks = manager.getByType('hook');\n```\n\n### Hook Framework\n\nBuild Claude Code hooks with YAML configuration and built-in handlers:\n\n```yaml\n# hooks.yaml\nversion: 1\n\nsettings:\n  debug: false\n  parallelExecution: true\n  defaultTimeoutMs: 30000\n\nbuiltins:\n  session-naming:\n    enabled: true\n    options:\n      format: adjective-animal\n\n  turn-tracker:\n    enabled: true\n\n  dangerous-command-guard:\n    enabled: true\n    options:\n      blockedPatterns:\n        - \"rm -rf /\"\n\n  tool-logger:\n    enabled: true\n    options:\n      outputPath: ~/.claude/logs/tools.log\n\nhandlers:\n  my-custom-hook:\n    events: [PreToolUse]\n    command: ./scripts/validate-tool.sh\n```\n\n**Built-in Handlers:**\n\n| Handler | Description | Default Events |\n|---------|-------------|----------------|\n| `session-naming` | Assigns human-friendly names (adjective-animal) | SessionStart |\n| `turn-tracker` | Tracks turns between Stop events | SessionStart, Stop, SubagentStop, PreToolUse, PostToolUse |\n| `dangerous-command-guard` | Blocks dangerous Bash commands | PreToolUse |\n| `context-injection` | Injects session context | SessionStart, PreCompact |\n| `tool-logger` | Logs tool usage with turn/session context | PostToolUse |\n\n**Environment Variables for Custom Handlers:**\n\nCustom command handlers receive these environment variables:\n\n| Variable | Description |\n|----------|-------------|\n| `CLAUDE_SESSION_ID` | Current session ID |\n| `CLAUDE_SESSION_NAME` | Human-friendly session name |\n| `CLAUDE_TURN_ID` | Turn identifier (session:sequence) |\n| `CLAUDE_TURN_SEQUENCE` | Current turn number |\n| `CLAUDE_EVENT_TYPE` | Hook event type |\n| `CLAUDE_CWD` | Current working directory |\n\n```typescript\nimport { createFramework, handler, blockResult } from 'claude-code-sdk/hooks/framework';\n\nconst framework = createFramework({ debug: true });\n\nframework.onPreToolUse(\n  handler()\n    .id('my-validator')\n    .forTools('Bash')\n    .handle(ctx => {\n      const input = ctx.event.tool_input as { command?: string };\n      if (input.command?.includes('rm -rf')) {\n        return blockResult('Dangerous command blocked');\n      }\n      return { success: true };\n    })\n);\n\nawait framework.run();\n```\n\n## CLI Tools\n\n### Transcript Viewer CLI\n\nView and filter Claude Code session transcripts:\n\n```bash\n# Basic viewing\nbun run transcript <file|session> --human     # Human-readable format\nbun run transcript <file|session> --json      # Raw JSON output\nbun run transcript <file|session> --minimal   # Text content only\n\n# Filtering\nbun run transcript <file> --assistant         # Only assistant responses\nbun run transcript <file> --user-prompts      # Only user messages\nbun run transcript <file> --tools             # Only tool use/results\nbun run transcript <file> --thinking          # Only thinking blocks\nbun run transcript <file> --text-only         # AI text only (no tools/thinking)\nbun run transcript <file> --last 50           # Last 50 entries\nbun run transcript <file> --type user,assistant  # Specific types\n\n# Session filtering\nbun run transcript <file> --session abc123              # Filter by session ID\nbun run transcript <file> --session abc123,def456       # Multiple sessions\nbun run transcript <file> --session-name my-project     # Filter by sesh name\n\n# Time filtering\nbun run transcript <file> --from-time \"1h ago\"          # Last hour\nbun run transcript <file> --from-time 2024-01-15T10:00:00Z  # ISO timestamp\n\n# Live modes\nbun run transcript <file> --tail              # Stream new entries (colored 1-liners)\nbun run transcript <file> --watch             # Show last entry, auto-refresh\n\n# Export\nbun run transcript <file> --json --output results.json  # Export to file\n```\n\n### Transcript Viewer TUI\n\nInteractive terminal UI for browsing transcripts:\n\n```bash\nbun run transcript-tui <file|session>         # Open TUI\nbun run transcript-tui <file> --assistant     # Pre-filtered\nbun run transcript-tui <file> --session abc123  # Filter by session\n```\n\n**Navigation:**\n| Key | Action |\n|-----|--------|\n| `j/k` or `↑/↓` | Navigate lines |\n| `h/l` | Scroll content |\n| `g/G` | First/last line |\n| `Tab` | Switch panes |\n| `f` | Toggle fullscreen |\n| `s` | Toggle scroll mode (fullscreen) |\n\n**View Modes:**\n| Key | Mode |\n|-----|------|\n| `1` | Raw JSON |\n| `2` | Human-readable |\n| `3` | Minimal |\n| `4` | Context (thread) |\n| `5` | Markdown |\n\n**Features:**\n| Key | Feature |\n|-----|---------|\n| `c` | Copy content to clipboard |\n| `y` | Copy recall reference |\n| `b` | Toggle bookmark |\n| `[/]` | Jump between bookmarks |\n| `u` | Usage graph overlay |\n| `m` | Toggle mouse support |\n| `?` | Help overlay |\n| `/` | Search |\n\n### Session Manager (sesh)\n\nManage session names for easy resumption:\n\n```bash\nbun run sesh list                    # List all named sessions\nbun run sesh my-project              # Get session ID for name\nbun run sesh rename old-name new     # Rename a session\nbun run sesh info my-project         # Show session details\n\n# Resume by name\nclaude --resume $(bun run sesh my-project)\n```\n\n### Hook Events CLI\n\nView and filter Claude Code hook events:\n\n```bash\n# List sessions with hook events\nbun run hook-events list\n\n# View events for current project (. = current session)\nbun run hook-events .\nbun run hook-events . --last 10\nbun run hook-events . --event PreToolUse,PostToolUse\nbun run hook-events . --tool Bash,Read\n\n# Search across all hook events\nbun run hook-events search \"error\"\n\n# Session info and statistics\nbun run hook-events info .\n\n# Watch mode (tail -f style)\nbun run hook-events . --watch\n\n# Output formats\nbun run hook-events . --human        # Human-readable\nbun run hook-events . --json         # Raw JSON\nbun run hook-events . --minimal      # Text content only\n```\n\n### Hook Events TUI\n\nInteractive terminal UI for browsing hook events:\n\n```bash\nbun run hook-events-tui .                        # Current session\nbun run hook-events-tui . --event PreToolUse     # Pre-filtered\nbun run hook-events-tui . --live                 # Live mode\nbun run hook-events-tui \"tender-spider,earnest-lion\"  # Multi-session\n```\n\n**Navigation:**\n| Key | Action |\n|-----|--------|\n| `j/k` or `↑/↓` | Navigate lines |\n| `h/l` | Scroll content |\n| `g/G` | First/last line |\n| `Tab` | Switch panes |\n| `r` or `Ctrl+L` | Redraw screen |\n\n**View Modes:**\n| Key | Mode |\n|-----|------|\n| `1` | Raw JSON |\n| `2` | Human-readable (with custom tool views) |\n| `3` | Minimal |\n| `4` | Tool I/O |\n| `5` | Timeline |\n\n**Custom Tool Views** (Human mode):\n| Tool | Rendering |\n|------|-----------|\n| Edit | Delta-style unified diff (red/green) |\n| Bash | Command with syntax highlighting + stdout/stderr |\n| Read | File content with line numbers |\n| Grep | Pattern + highlighted matches |\n| Glob | File tree visualization |\n| Write | Full file content |\n| TodoWrite | Task list with progress bar |\n\n**Features:**\n| Key | Feature |\n|-----|---------|\n| `Space` | Toggle bookmark |\n| `[/]` | Jump between bookmarks |\n| `L` | Toggle live mode (200ms polling) |\n| `?` | Help overlay |\n\n**List format:** `*★ 08:31:02 Pre Bash npm install [ 45%] 8-earnest-lion`\n- `*` = bookmark, `★` = starred\n- Context usage colored: green ≤50%, yellow 51-70%, red 71%+\n- Turn-session column shows `{turn}-{session-name}`\n\n### Development Commands\n\n```bash\nbun install          # Install dependencies\nbun test             # Run tests\nbun run dev          # Development with watch mode\nbun run build        # Build for distribution\nbun run lint         # Check code with Biome\nbun run typecheck    # TypeScript type checking\n\n# Documentation tracking\nbun run docs         # Show docs CLI help\nbun run docs:fetch   # Fetch all documentation\nbun run docs:check   # Check for changes\nbun run docs:status  # Show cache status\nbun run docs list    # List cached documents\nbun run docs search <query>  # Search docs\n```\n\n## Project Structure\n\n```\n.claude-plugin/\n└── marketplace.json   # Plugin marketplace manifest\n\nskills/                # Distributable skills (30 total)\n├── claude-code-reference/   # Extension reference guide\n├── creating-hooks/          # Hook implementation guide\n├── creating-mcp-servers/    # MCP server development\n├── creating-plugins/        # Full plugin creation\n├── creating-subagents/      # Custom subagents\n├── custom-slash-commands/   # Slash command creation\n├── headless-mode/           # Programmatic usage\n├── transcript-intelligence/ # Session search\n├── writing-skills/          # Skill creation guide\n├── effective-prompting/     # Prompting techniques\n├── memory-management/       # CLAUDE.md and rules\n├── debugging-claude-code/   # Troubleshooting\n├── project-setup/           # Project configuration\n├── git-workflows/           # Git best practices\n├── context-optimization/    # Context management\n├── permission-patterns/     # Permission modes\n├── testing-patterns/        # TDD and test generation\n├── code-review/             # PR review workflows\n├── refactoring-safely/      # Safe refactoring\n├── multi-file-editing/      # Coordinated changes\n├── cost-optimization/       # API cost management\n├── ide-integration/         # VS Code, JetBrains\n├── team-workflows/          # Team collaboration\n├── documentation-generation/ # Doc generation\n├── database-workflows/      # Schema, migrations\n├── error-recovery/          # Error handling\n├── migration-guides/        # Tool migrations\n├── security-practices/      # Security patterns\n├── monorepo-patterns/       # Monorepo workflows\n└── ci-cd-integration/       # CI/CD pipelines\n\nbin/                   # CLI tools\n├── sesh.ts            # Session name manager\n├── transcript.ts      # Transcript viewer CLI\n├── transcript-tui.ts  # Transcript viewer TUI\n├── hooks.ts           # Hooks framework CLI\n├── hook-events.ts     # Hook events viewer CLI\n└── hook-events-tui.ts # Hook events viewer TUI\n\nsrc/\n├── index.ts           # Main SDK entry point\n├── types/             # TypeScript interfaces\n├── tracker/           # Change tracking module\n├── marketplace/       # Plugin marketplace\n├── plugins/           # Plugin management\n├── docs/              # Documentation tracker\n├── hooks/             # Hooks SDK\n│   ├── framework/     # Hook framework (YAML config, pipelines)\n│   │   ├── handlers/  # Built-in handlers (session-naming, turn-tracker, etc.)\n│   │   └── config/    # YAML loader and validator\n│   └── sessions/      # Session naming module\n└── transcripts/       # Transcript parsing, viewing, search\n\nexamples/              # Example implementations\n├── hooks.yaml         # Hook framework config example\n└── hooks/             # Hook script examples\n\nscripts/               # Build and maintenance scripts\n└── patch-blessed.ts   # Patches blessed library for terminfo compatibility\n\ntests/                 # Test suites\n```\n\n## License\n\nMIT\n",
        "plugins/hook-framework/README.md": "# Hook Framework Plugin\n\nYAML-based hook framework with built-in handlers for session naming, turn tracking, and dangerous command guards.\n\n## Installation\n\n```bash\n/plugin install hook-framework@claude-code-sdk\n```\n\n## Features\n\nOnce installed, the plugin automatically:\n\n- **Routes all hook events** through the framework\n- **Enables built-in handlers:**\n  - `session-naming` - Human-friendly session names (e.g., \"brave-elephant\")\n  - `turn-tracker` - Tracks turns between Stop events\n  - `dangerous-command-guard` - Blocks dangerous Bash commands\n\n## Customization\n\nCreate a `hooks.yaml` in your project root to customize:\n\n```yaml\nversion: 1\n\nsettings:\n  debug: false\n\nbuiltins:\n  session-naming:\n    enabled: true\n    options:\n      format: adjective-animal\n\n  turn-tracker:\n    enabled: true\n\n  dangerous-command-guard:\n    enabled: true\n    options:\n      blocked_patterns:\n        - \"rm -rf /\"\n        - \"git push --force origin main\"\n\n  tool-logger:\n    enabled: true  # Enable for debugging\n    options:\n      log_level: info\n\nhandlers:\n  # Add custom handlers\n  my-custom-hook:\n    events: [PostToolUse]\n    matcher: \"Write|Edit\"\n    command: ./scripts/format.sh\n```\n\n## Environment Variables\n\nCustom command handlers receive these environment variables:\n\n| Variable | Description |\n|----------|-------------|\n| `CLAUDE_SESSION_ID` | Current session ID |\n| `CLAUDE_SESSION_NAME` | Human-friendly session name |\n| `CLAUDE_TURN_ID` | Turn identifier (session:sequence) |\n| `CLAUDE_TURN_SEQUENCE` | Current turn number |\n| `CLAUDE_EVENT_TYPE` | Hook event type |\n| `CLAUDE_CWD` | Current working directory |\n\n## Configuration Search Order\n\n1. `./hooks.yaml` (project root)\n2. `./hooks.yml`\n3. `./.claude/hooks.yaml`\n4. `./.claude/hooks.yml`\n5. Plugin's default config (fallback)\n\n## For More Control\n\nIf you need more control, install the SDK directly:\n\n```bash\nbun add claude-code-sdk\nbun run hooks init\n```\n\nThis gives you access to:\n- TypeScript framework API\n- Custom handler implementations\n- Full configuration control\n\n## License\n\nMIT\n"
      },
      "plugins": [
        {
          "name": "session-naming",
          "description": "Human-friendly session names for Claude Code. Assigns memorable names like 'brave-elephant' to sessions, persists across /compact and /clear. v2.0: centralized storage, transcript tracking, machine namespacing, sesh CLI with transcript/machines/migrate commands.",
          "source": "./",
          "version": "2.0.0",
          "keywords": [
            "sessions",
            "naming",
            "productivity",
            "hooks",
            "transcripts",
            "multi-machine",
            "sesh"
          ],
          "categories": [
            "hooks",
            "multi-machine",
            "naming",
            "productivity",
            "sesh",
            "sessions",
            "transcripts"
          ],
          "install_commands": [
            "/plugin marketplace add hgeldenhuys/claude-code-sdk",
            "/plugin install session-naming@claude-code-sdk"
          ]
        },
        {
          "name": "hook-framework",
          "description": "YAML-based hook framework with built-in handlers. Includes session naming, turn tracking, dangerous command guards. Routes ALL hook events through a unified framework with environment variable injection.",
          "source": "./plugins/hook-framework",
          "version": "1.0.0",
          "keywords": [
            "hooks",
            "framework",
            "yaml",
            "session-naming",
            "turn-tracker",
            "command-guard",
            "automation"
          ],
          "categories": [
            "automation",
            "command-guard",
            "framework",
            "hooks",
            "session-naming",
            "turn-tracker",
            "yaml"
          ],
          "install_commands": [
            "/plugin marketplace add hgeldenhuys/claude-code-sdk",
            "/plugin install hook-framework@claude-code-sdk"
          ]
        }
      ]
    },
    {
      "name": "claude-skills-marketplace",
      "version": "1.0.0",
      "description": "Official marketplace for Claude Code agent lifecycle, knowledge management, and SDLC orchestration plugins",
      "repo_full_name": "hgeldenhuys/claude-agent-lifecycle",
      "repo_url": "https://github.com/hgeldenhuys/claude-agent-lifecycle",
      "repo_description": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2025-12-06T19:43:12Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"claude-skills-marketplace\",\n  \"description\": \"Official marketplace for Claude Code agent lifecycle, knowledge management, and SDLC orchestration plugins\",\n  \"version\": \"1.0.0\",\n  \"owner\": {\n    \"name\": \"Hendrik Geldenhuys\",\n    \"url\": \"https://github.com/hgeldenhuys\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"claude-agent-lifecycle\",\n      \"description\": \"Persistent agent lifecycle management with 6 lifespans (ephemeral, turn, context, session, workflow, project)\",\n      \"version\": \"1.0.0\",\n      \"source\": \"./\",\n      \"keywords\": [\"agent-lifecycle\", \"persistent-agents\", \"workflow\", \"hooks\"]\n    },\n    {\n      \"name\": \"claude-weave\",\n      \"description\": \"11-dimensional knowledge framework with Shadow Advisor, Librarian, and Bayesian fact tracking\",\n      \"version\": \"2.1.0\",\n      \"source\": {\n        \"source\": \"github\",\n        \"repo\": \"hgeldenhuys/claude-weave\"\n      },\n      \"keywords\": [\"knowledge-management\", \"institutional-memory\", \"shadow-advisor\"]\n    },\n    {\n      \"name\": \"claude-loom\",\n      \"description\": \"Autonomous SDLC orchestration with workflow-scoped story execution agents\",\n      \"version\": \"2.0.0\",\n      \"source\": {\n        \"source\": \"github\",\n        \"repo\": \"hgeldenhuys/claude-loom\"\n      },\n      \"keywords\": [\"sdlc\", \"orchestration\", \"workflow\", \"story-execution\"]\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"claude-agent-lifecycle\",\n  \"description\": \"Persistent agent lifecycle management for Claude Code. Provides 6 agent lifespans (ephemeral, turn, context, session, workflow, project) with automatic disposal via hooks.\",\n  \"version\": \"1.0.0\",\n  \"author\": {\n    \"name\": \"Hendrik Geldenhuys\",\n    \"url\": \"https://github.com/hgeldenhuys\"\n  },\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"https://github.com/hgeldenhuys/claude-agent-lifecycle\"\n  },\n  \"license\": \"MIT\",\n  \"keywords\": [\n    \"agent-lifecycle\",\n    \"persistent-agents\",\n    \"workflow\",\n    \"session-management\",\n    \"hooks\"\n  ],\n  \"hooks\": {\n    \"Stop\": \"hooks/lifecycle-manager.ts\",\n    \"SessionEnd\": \"hooks/lifecycle-manager.ts\"\n  },\n  \"skills\": \".claude/skills/\"\n}\n",
        "README.md": "# Claude Agent Lifecycle\n\nPersistent agent lifecycle management for Claude Code. Create, resume, and dispose agents with automatic lifecycle management based on scope boundaries.\n\n## Features\n\n- **Six Agent Lifespans**: ephemeral, turn, context, session, workflow, project\n- **Automatic Disposal**: Hooks dispose agents at appropriate lifecycle events\n- **Persistent Storage**: File-based storage for session/workflow/project agents\n- **Memory Storage**: In-memory storage for ephemeral/turn/context agents\n- **Debug Mode**: Opt-in JSON logging for debugging and monitoring\n- **Hook Integration**: Uses `claude-hooks-sdk` for lifecycle event handling\n- **Claude Code Plugin**: Install via plugin marketplace with automatic hook wiring\n\n## Installation\n\n### As Claude Code Plugin (Recommended)\n\n```bash\n# Add the marketplace\n/plugin marketplace add hgeldenhuys/claude-agent-lifecycle\n\n# Install the plugin (hooks auto-wired)\n/plugin install claude-agent-lifecycle\n```\n\n### As npm Package\n\n```bash\n# Install the package\nbun add claude-agent-lifecycle\n\n# Run the installer to set up hooks\nbun scripts/install.ts\n```\n\n### Related Plugins\n\nThis plugin is the base for:\n- **[claude-weave](https://github.com/hgeldenhuys/claude-weave)** - 11D knowledge framework with Shadow Advisor\n- **[claude-loom](https://github.com/hgeldenhuys/claude-loom)** - SDLC orchestration with workflow agents\n\nInstall the full stack:\n```bash\n/plugin install claude-loom  # Installs all dependencies\n```\n\n## Quick Start\n\n```typescript\nimport { AgentRegistry } from '@anthropic/claude-agent-lifecycle';\n\nconst registry = new AgentRegistry();\n\n// Create a session-scoped agent\nconst { agent, isNew } = await registry.create({\n  lifespan: 'session',\n  name: 'shadow-advisor',\n  model: 'haiku',\n});\n\n// Resume later in the session\nconst shadow = await registry.resume('shadow-advisor');\n\n// Start a workflow-scoped agent\nconst executor = await registry.startWorkflow({\n  lifespan: 'workflow',\n  workflowId: 'FEAT-001',\n  name: 'story-executor',\n  model: 'sonnet',\n});\n\n// Complete workflow (disposes all workflow agents)\nawait registry.completeWorkflow('FEAT-001');\n```\n\n## Agent Lifespans\n\n| Lifespan | Scope | Auto-Disposal | Storage |\n|----------|-------|---------------|---------|\n| `ephemeral` | Single use | Immediately | Memory |\n| `turn` | Response cycle | Stop event | Memory |\n| `context` | Until compaction | Context reset | Memory |\n| `session` | Claude session | SessionEnd event | File |\n| `workflow` | Bounded work unit | Manual/complete | File |\n| `project` | Indefinite | Manual only | File |\n\n### Lifespan Details\n\n**ephemeral**: Fire-and-forget agents. Created, used once, and discarded.\n\n**turn**: Lives for one request-response cycle. Disposed when the assistant's response completes (Stop event).\n\n**context**: Lives until context window compaction. Useful for agents that should survive multiple turns but reset when context is cleared.\n\n**session**: Lives for the entire Claude Code session. Disposed when the session ends (SessionEnd event).\n\n**workflow**: Lives for a bounded unit of work (story, feature, task). Explicitly completed when work is done. Generic pattern - Loom uses this for stories.\n\n**project**: Lives indefinitely in the project. Must be manually disposed. Useful for singleton agents like Shadow Advisor.\n\n## API Reference\n\n### AgentRegistry\n\n```typescript\nconst registry = new AgentRegistry(options?: RegistryOptions);\n\ninterface RegistryOptions {\n  storagePath?: string;  // Default: '.agent/agents'\n  debug?: boolean;       // Enable debug logging\n}\n```\n\n#### Methods\n\n**create(config)**: Create or resume an agent\n```typescript\nconst { agent, isNew } = await registry.create({\n  lifespan: 'session',\n  name: 'my-agent',\n  sessionId: 'optional-session-id',\n  model: 'haiku', // optional\n  metadata: {},   // optional\n});\n```\n\n**resume(name, scope?)**: Resume an existing agent by name\n```typescript\nconst agent = await registry.resume('my-agent');\n```\n\n**dispose(agentId)**: Dispose a specific agent\n```typescript\nawait registry.dispose(agent.agentId);\n```\n\n**disposeByLifespan(lifespan)**: Dispose all agents of a lifespan type\n```typescript\nconst count = await registry.disposeByLifespan('turn');\n```\n\n**disposeByScope(scope)**: Dispose all agents in a scope\n```typescript\nconst count = await registry.disposeByScope('session-123');\n```\n\n**list(filter?)**: List agents matching a filter\n```typescript\nconst agents = await registry.list({ lifespan: 'session' });\n```\n\n### Workflow Methods\n\n**startWorkflow(config)**: Start a workflow-scoped agent\n```typescript\nconst agent = await registry.startWorkflow({\n  lifespan: 'workflow',\n  workflowId: 'FEAT-001',\n  name: 'executor',\n  workflowType: 'loom-story', // optional\n});\n```\n\n**completeWorkflow(workflowId)**: Complete a workflow and dispose its agents\n```typescript\nconst disposed = await registry.completeWorkflow('FEAT-001');\n```\n\n**getWorkflowAgents(workflowId)**: Get all agents for a workflow\n```typescript\nconst agents = await registry.getWorkflowAgents('FEAT-001');\n```\n\n## Hook Configuration\n\nHooks are automatically installed by the installer. They can also be manually configured:\n\n### Default Mode (Silent)\n\n```json\n{\n  \"hooks\": {\n    \"Stop\": [{\n      \"matcher\": \"*\",\n      \"hooks\": [{\n        \"type\": \"command\",\n        \"command\": \"bun \\\"$CLAUDE_PROJECT_DIR\\\"/.agent/hooks/lifecycle-manager.ts\"\n      }]\n    }],\n    \"SessionEnd\": [{\n      \"matcher\": \"*\",\n      \"hooks\": [{\n        \"type\": \"command\",\n        \"command\": \"bun \\\"$CLAUDE_PROJECT_DIR\\\"/.agent/hooks/lifecycle-manager.ts\"\n      }]\n    }]\n  }\n}\n```\n\n### Debug Mode\n\nEnable debug logging for troubleshooting:\n\n**Option 1: Environment Variable**\n```bash\nexport AGENT_LIFECYCLE_DEBUG=true\n```\n\n**Option 2: Command Flag**\n```json\n{\n  \"hooks\": {\n    \"Stop\": [{\n      \"matcher\": \"*\",\n      \"hooks\": [{\n        \"type\": \"command\",\n        \"command\": \"bun \\\"$CLAUDE_PROJECT_DIR\\\"/.agent/hooks/lifecycle-manager.ts --debug\"\n      }]\n    }]\n  }\n}\n```\n\n**Option 3: Per-Session**\n```bash\nAGENT_LIFECYCLE_DEBUG=true claude\n```\n\n### Debug Log Output\n\nWhen debug mode is enabled:\n\n**Console Output:**\n```\n[agent-lifecycle] SessionStart: abc-123 (source: new)\n[agent-lifecycle] Active agents: shadow-advisor(session), helper(turn)\n[agent-lifecycle] Stop: Disposed 1 turn-scoped agents\n[agent-lifecycle] SessionEnd: Disposed 2 agents for session abc-123\n```\n\n**File Output (JSON Lines):**\n```json\n{\"event\":\"agent:created\",\"timestamp\":\"2025-01-01T00:00:00Z\",\"agentId\":\"uuid\",\"agentName\":\"shadow\",\"lifespan\":\"session\",\"scope\":\"abc-123\"}\n{\"event\":\"agent:disposed\",\"timestamp\":\"2025-01-01T00:05:00Z\",\"agentId\":\"uuid\",\"agentName\":\"shadow\",\"lifespan\":\"session\",\"scope\":\"abc-123\"}\n```\n\nLog file location: `.agent/agents/lifecycle.log`\n\n## Storage Structure\n\n```\n.agent/\n├── agents/\n│   ├── lifecycle.log      # Debug logs (when enabled)\n│   ├── session/\n│   │   └── {session-id}/\n│   │       └── {agent-name}.json\n│   ├── workflow/\n│   │   └── {workflow-id}/\n│   │       └── {agent-name}.json\n│   └── project/\n│       └── {agent-name}.json\n└── hooks/\n    └── lifecycle-manager.ts\n```\n\n## Integration Examples\n\n### Shadow Advisor Pattern\n\n```typescript\nimport { AgentRegistry } from '@anthropic/claude-agent-lifecycle';\n\nconst registry = new AgentRegistry();\n\n// Create or resume shadow advisor for the session\nconst { agent: shadow, isNew } = await registry.create({\n  lifespan: 'session',\n  name: 'shadow-advisor',\n  model: 'haiku',\n  metadata: {\n    role: 'knowledge-retrieval',\n    preloadedKnowledge: ['weave', 'librarian'],\n  },\n});\n\nif (isNew) {\n  console.log('Created new shadow advisor');\n} else {\n  console.log(`Resumed shadow advisor (turn ${shadow.turnCount})`);\n}\n```\n\n### Loom Workflow Integration\n\n```typescript\nimport { AgentRegistry } from '@anthropic/claude-agent-lifecycle';\n\nconst registry = new AgentRegistry();\n\n// Start story execution\nconst executor = await registry.startWorkflow({\n  lifespan: 'workflow',\n  workflowId: 'ACCT-001',\n  name: 'story-executor',\n  workflowType: 'loom-story',\n  model: 'sonnet',\n});\n\n// Additional helpers for the workflow\nawait registry.startWorkflow({\n  lifespan: 'workflow',\n  workflowId: 'ACCT-001',\n  name: 'backend-dev',\n  model: 'sonnet',\n});\n\n// When story is complete\nawait registry.completeWorkflow('ACCT-001');\n// All workflow agents disposed\n```\n\n### Custom Cleanup\n\n```typescript\nimport { AgentRegistry } from '@anthropic/claude-agent-lifecycle';\n\nconst registry = new AgentRegistry();\n\n// Dispose all agents for a custom scope\nawait registry.disposeByScope('my-custom-scope');\n\n// Dispose specific lifespan\nawait registry.disposeByLifespan('context');\n```\n\n## Development\n\n```bash\n# Install dependencies\nbun install\n\n# Run tests\nbun test\n\n# Run unit tests only\nbun test tests/unit/\n\n# Run integration tests only\nbun test tests/integration/\n```\n\n## License\n\nMIT\n"
      },
      "plugins": [
        {
          "name": "claude-agent-lifecycle",
          "description": "Persistent agent lifecycle management with 6 lifespans (ephemeral, turn, context, session, workflow, project)",
          "version": "1.0.0",
          "source": "./",
          "keywords": [
            "agent-lifecycle",
            "persistent-agents",
            "workflow",
            "hooks"
          ],
          "categories": [
            "agent-lifecycle",
            "hooks",
            "persistent-agents",
            "workflow"
          ],
          "install_commands": [
            "/plugin marketplace add hgeldenhuys/claude-agent-lifecycle",
            "/plugin install claude-agent-lifecycle@claude-skills-marketplace"
          ]
        },
        {
          "name": "claude-weave",
          "description": "11-dimensional knowledge framework with Shadow Advisor, Librarian, and Bayesian fact tracking",
          "version": "2.1.0",
          "source": {
            "source": "github",
            "repo": "hgeldenhuys/claude-weave"
          },
          "keywords": [
            "knowledge-management",
            "institutional-memory",
            "shadow-advisor"
          ],
          "categories": [
            "institutional-memory",
            "knowledge-management",
            "shadow-advisor"
          ],
          "install_commands": [
            "/plugin marketplace add hgeldenhuys/claude-agent-lifecycle",
            "/plugin install claude-weave@claude-skills-marketplace"
          ]
        },
        {
          "name": "claude-loom",
          "description": "Autonomous SDLC orchestration with workflow-scoped story execution agents",
          "version": "2.0.0",
          "source": {
            "source": "github",
            "repo": "hgeldenhuys/claude-loom"
          },
          "keywords": [
            "sdlc",
            "orchestration",
            "workflow",
            "story-execution"
          ],
          "categories": [
            "orchestration",
            "sdlc",
            "story-execution",
            "workflow"
          ],
          "install_commands": [
            "/plugin marketplace add hgeldenhuys/claude-agent-lifecycle",
            "/plugin install claude-loom@claude-skills-marketplace"
          ]
        }
      ]
    }
  ]
}