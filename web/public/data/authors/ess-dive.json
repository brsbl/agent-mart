{
  "author": {
    "id": "ess-dive",
    "display_name": "ESS-DIVE",
    "avatar_url": "https://avatars.githubusercontent.com/u/47407644?v=4"
  },
  "marketplaces": [
    {
      "name": "essdive-mcp-skills",
      "version": null,
      "description": "Skills for ESS-DIVE dataset search, identifier conversion, and ESS-DeepDive queries",
      "repo_full_name": "ess-dive/essdive-mcp",
      "repo_url": "https://github.com/ess-dive/essdive-mcp",
      "repo_description": "Prototype MCP server for ESS-DIVE API",
      "signals": {
        "stars": 1,
        "forks": 0,
        "pushed_at": "2026-02-10T04:21:49Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"essdive-mcp-skills\",\n  \"owner\": {\n    \"name\": \"J. Harry Caufield\",\n    \"email\": \"jhc@lbl.gov\"\n  },\n  \"metadata\": {\n    \"description\": \"Skills for ESS-DIVE dataset search, identifier conversion, and ESS-DeepDive queries\",\n    \"version\": \"0.2.2\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"essdive-datasets\",\n      \"description\": \"Search ESS-DIVE datasets and fetch metadata/permissions\",\n      \"source\": \"./\",\n      \"strict\": false,\n      \"skills\": [\n        \"./skills/essdive-datasets\"\n      ]\n    },\n    {\n      \"name\": \"essdive-identifiers\",\n      \"description\": \"Convert between ESS-DIVE IDs and DOIs\",\n      \"source\": \"./\",\n      \"strict\": false,\n      \"skills\": [\n        \"./skills/essdive-identifiers\"\n      ]\n    },\n    {\n      \"name\": \"essdeepdive\",\n      \"description\": \"Query the ESS-DeepDive fusion database\",\n      \"source\": \"./\",\n      \"strict\": false,\n      \"skills\": [\n        \"./skills/essdeepdive\"\n      ]\n    }\n  ]\n}\n",
        "README.md": "# ESS-DIVE MCP Server\n\nAn MCP (Model Context Protocol) server for querying the ESS-DIVE (Environmental System Science Data Infrastructure for a Virtual Ecosystem) API and the ESS-DeepDive fusion database.\n\n## Overview\n\nThis project implements a Model Context Protocol server that allows language models to search and retrieve information from the ESS-DIVE repository and the ESS-DeepDive fusion database. The server provides comprehensive access to dataset search, detailed dataset information, identifier conversion, FLMD parsing, dataset permissions, and fusion database queries through the ESS-DIVE and ESS-DeepDive APIs.\n\n## Features\n\n- **ESS-DIVE Dataset Tools**:\n  - Search for datasets with various filtering options (keywords, creators, dates, etc.)\n  - Retrieve detailed information about specific datasets\n  - Access dataset metadata, creators, keywords, and file listings\n  - Get dataset sharing permissions\n  - Parse File Level Metadata (FLMD) CSV files\n\n- **Identifier Conversion**:\n  - Convert between DOIs and ESS-DIVE dataset IDs\n  - Support for flexible DOI formats (with/without prefix, URLs, etc.)\n  - Automatic DOI normalization\n\n- **ESS-DeepDive Fusion Database**:\n  - Search the fusion database for data fields and values\n  - Filter by field names, definitions, text values, numeric values, dates, and record counts\n  - Retrieve detailed field information for specific files\n  - Support for pagination and DOI filtering\n  - Download file metadata and information\n\n## Example Queries\n\n### Searching\n\n```\n> Search ESS-DIVE for datasets involving snowfall in Colorado. \n\n● essdive-mcp - search-datasets (MCP)(query: \"snowfall Colorado\", page_size: 10, format: \"summary\")\n  ⎿ {                                                                                                                                                                                                                         \n      \"result\": \"Found 5 datasets. Showing 5 results:\\n\\n1. Groundwater and Surface Water Flow (GSFLOW) model files to explore bedrock circulation depth and porosity in Copper Creek, Colorado\\n   ID: ess-dive-9ea5fe57db73c\n    90-20241024T093714082510\\n   Published: 2024\\n   URL: https://data.ess-dive.lbl.gov/view/doi:10.15485/2453885\\n\\n2. Data from: \\\"Warming and provenance limit tree recruitment across and beyond the elevation range of su\n    …\n```\n\n## Installation\n\n### Install from Source\n\n1. Clone this repository\n2. Navigate to the project directory\n3. Install using uv:\n\n```bash\nuv init\nuv add .\n```\n\n## Usage\n\n### Run the Server\n\n```bash\nuv run python src/essdive_mcp/main.py --token YOUR_ESS_DIVE_TOKEN_HERE\n```\n\nYou can also provide the token via a file to avoid putting it in shell history:\n\n```bash\nuv run python src/essdive_mcp/main.py --token-file /path/to/token.txt\n```\n\nNote: the environment variable name is `ESSDIVE_API_TOKEN` (no underscore between\nESS and DIVE).\n\n### Install MCP in Claude Code\n\nClaude Code can connect to local MCP servers over stdio. All options\n(`--transport`, `--env`, `--scope`, `--header`) must come before the server\nname, and `--` separates Claude's flags from the server command.\n\nLocal scope (default, only for you in this project; stored in `~/.claude.json`\nunder this project's path):\n\n```\nclaude mcp add --transport stdio --env ESSDIVE_API_TOKEN=YOUR_ESS_DIVE_TOKEN_HERE essdive-mcp -- \\\n  uv run python ./src/essdive_mcp/main.py\n```\n\nToken file alternative (no environment variable):\n\n```\nclaude mcp add --transport stdio essdive-mcp -- \\\n  uv run python ./src/essdive_mcp/main.py --token-file /path/to/token.txt\n```\n\nProject scope (shared via `.mcp.json` in the repo). Claude Code will prompt\nfor approval before using a project-scoped server. To reset approvals:\n\n```\nclaude mcp reset-project-choices\n```\n\n```\nclaude mcp add --transport stdio --scope project --env ESSDIVE_API_TOKEN=YOUR_ESS_DIVE_TOKEN_HERE essdive-mcp -- \\\n  uv run python ./src/essdive_mcp/main.py\n```\n\nUser scope (available across all projects):\n\n```\nclaude mcp add --transport stdio --scope user --env ESSDIVE_API_TOKEN=YOUR_ESS_DIVE_TOKEN_HERE essdive-mcp -- \\\n  uv run python ./src/essdive_mcp/main.py\n```\n\nNote: in older Claude Code versions, `local` scope was called `project`, and\n`user` scope was called `global`.\n\nManage servers:\n\n```\nclaude mcp list\nclaude mcp get essdive-mcp\nclaude mcp remove essdive-mcp\n```\n\nWithin Claude Code, use `/mcp` to check server status.\n\n### Install MCP in Codex\n\nCodex uses the same MCP configuration for both the CLI and the IDE extension.\nYou can add servers with the CLI or edit `~/.codex/config.toml` directly. You\ncan also create a project-scoped config at `.codex/config.toml` (trusted\nprojects only).\n\nAdd the server with the CLI:\n\n```\ncodex mcp add essdive-mcp --env ESSDIVE_API_TOKEN=YOUR_ESS_DIVE_TOKEN_HERE -- \\\n  uv run python ./src/essdive_mcp/main.py\n```\n\nOr configure it in `~/.codex/config.toml`:\n\n```\n[mcp_servers.essdive-mcp]\ncommand = \"uv\"\nargs = [\"run\", \"python\", \"./src/essdive_mcp/main.py\"]\n\n[mcp_servers.essdive-mcp.env]\nESSDIVE_API_TOKEN = \"YOUR_ESS_DIVE_TOKEN_HERE\"\n```\n\nToken file alternative (no environment variable):\n\n```\n[mcp_servers.essdive-mcp]\ncommand = \"uv\"\nargs = [\"run\", \"python\", \"./src/essdive_mcp/main.py\", \"--token-file\", \"/path/to/token.txt\"]\n```\n\nManage servers:\n\n```\ncodex mcp list\ncodex mcp get essdive-mcp\ncodex mcp remove essdive-mcp\n```\n\nIn the Codex TUI, use `/mcp` to view active servers.\n\n### Install MCP in Goose\n\n1. Open the Goose Extensions interface\n2. Click \"Add Custom Extension\"\n3. Fill in the following fields:\n   - **Extension Name**: `essdive-mcp`\n   - **Type**: `STDIO`\n   - **Description** (optional): `ESS-DIVE and ESS-DeepDive dataset search and retrieval`\n   - **Command**: `uv run python /path/to/essdive-mcp/src/essdive_mcp/main.py`\n   - **Timeout**: `300` (default)\n   - **Environment Variables**:\n     - Variable name: `ESSDIVE_API_TOKEN`\n     - Value: `YOUR_ESS_DIVE_TOKEN_HERE`\n     - Click the \"+Add Extension\" button to add\n\n4. Save the extension and restart Goose\n\nReplace `/path/to/essdive-mcp` with the actual path to this repository.\n\n**Token file alternative**: Instead of adding the `ESSDIVE_API_TOKEN` environment variable, you can modify the Command field to include the token file:\n```\nuv run python /path/to/essdive-mcp/src/essdive_mcp/main.py --token-file /path/to/token.txt\n```\n\n## Skills (Claude Code + Codex)\n\nThis repository includes skill definitions under `skills/` that can be used by\nClaude Code and Codex.\n\n### Claude Code\n\nRegister the skills plugin:\n\n```\n/plugin marketplace add ./.claude-plugin/marketplace.json\n```\n\n### Codex\n\nCopy or symlink the skill folders into your Codex skills directory (usually\n`~/.codex/skills`), for example:\n\n```\nln -s \"$(pwd)/skills/essdive-datasets\" ~/.codex/skills/essdive-datasets\nln -s \"$(pwd)/skills/essdive-identifiers\" ~/.codex/skills/essdive-identifiers\nln -s \"$(pwd)/skills/essdeepdive\" ~/.codex/skills/essdeepdive\n```\n\nOr use the helper script:\n\n```\n./scripts/install_codex_skills.sh\n```\n\nRemove the links later with:\n\n```\n./scripts/uninstall_codex_skills.sh\n```\n\n\n### Command Line Options\n\n- `--name`: Set the name of the MCP server (default: `essdive-server`)\n- `--token`: Provide an ESS-DIVE API token for authentication\n\n### Environment Variables\n\nThe server can also be configured using environment variables:\n\n- `ESSDIVE_API_TOKEN`: Your ESS-DIVE API token. This is used for authenticated requests to the ESS-DIVE API. It can be used as an alternative to the `--token` command-line argument.\n\n### Using with Claude Desktop\n\n1. Run the server\n2. In Claude Desktop, connect to the running server\n3. Use the available tools and resources:\n   - Search for datasets by keywords, authors, or content\n   - Retrieve detailed information about specific datasets\n\n## Available Tools\n\n### ESS-DIVE Dataset Tools\n\n#### search-datasets\n\nSearch for datasets in the ESS-DIVE repository with flexible filtering options.\n\n**Parameters:**\n- `query` (optional): Full-text search query across dataset metadata\n- `creator` (optional): Filter by dataset creator\n- `provider_name` (optional): Filter by dataset project/provider\n- `date_published` (optional): Filter by publication date (e.g., \"[2016 TO 2023]\")\n- `keywords` (optional): Search for datasets with specific keywords (string or list)\n- `row_start` (optional): The row number to start on for pagination (default: 1)\n- `page_size` (optional): Number of results per page, max 100 (default: 25)\n- `format` (optional): Format of results - `summary`, `detailed`, or `raw` (default: summary)\n\n**Example:**\n```\nsearch-datasets with query=\"soil carbon\" and page_size=10\n```\n\n#### get-dataset\n\nGet detailed information about a specific ESS-DIVE dataset.\n\n**Parameters:**\n- `id` (required): ESS-DIVE dataset identifier\n\n**Returns:** Complete dataset metadata including name, description, creators, keywords, files, and distribution information.\n\n#### get-dataset-permissions\n\nGet sharing permissions for a specific ESS-DIVE dataset.\n\n**Parameters:**\n- `id` (required): ESS-DIVE dataset identifier\n\n**Returns:** List of users/groups with access and their permission levels.\n\n#### parse-flmd-file\n\nParse a File Level Metadata (FLMD) CSV file and extract file descriptions.\n\n**Parameters:**\n- `content` (required): The FLMD CSV file content as a string\n\n**Returns:** JSON mapping of filenames to their descriptions.\n\n**FLMD Format:** CSV file with columns for filename and file description (supports case-insensitive header matching).\n\n### Identifier Conversion Tools\n\n#### doi-to-essdive-id\n\nConvert a DOI to an ESS-DIVE dataset ID by querying the ESS-DIVE API.\n\n**Parameters:**\n- `doi` (required): A DOI in any common format:\n  - `doi:10.xxxx/...`\n  - `10.xxxx/...`\n  - `https://doi.org/10.xxxx/...`\n  - `http://doi.org/10.xxxx/...`\n\n**Returns:** JSON with original DOI and converted ESS-DIVE ID.\n\n**Use Case:** When you have a DOI but need the ESS-DIVE dataset ID for other tools.\n\n#### essdive-id-to-doi\n\nConvert an ESS-DIVE dataset ID to a DOI by querying the ESS-DIVE API.\n\n**Parameters:**\n- `essdive_id` (required): An ESS-DIVE dataset identifier\n\n**Returns:** JSON with original ESS-DIVE ID and normalized DOI (format: `doi:10.xxxx/...`).\n\n**Use Case:** When you have an ESS-DIVE dataset ID but need the DOI for external services.\n\n### ESS-DeepDive Fusion Database Tools\n\n#### search-ess-deepdive\n\nSearch the ESS-DeepDive fusion database for data fields and values.\n\n**Parameters:**\n- `field_name` (optional): Search for a specific field name (max 100 chars)\n- `field_definition` (optional): Search field definitions (max 100 chars)\n- `field_value_text` (optional): Search for text field values (case insensitive)\n- `field_value_numeric` (optional): Filter by numeric value\n- `field_value_date` (optional): Filter by date value (yyyy-mm-dd or yyyy-mm-ddTHH:MM:SS)\n- `record_count_min` (optional): Filter by minimum record count\n- `record_count_max` (optional): Filter by maximum record count\n- `doi` (optional): Filter by DOI (comma-separated for multiple, max 100)\n- `row_start` (optional): Starting row for pagination (default: 1)\n- `page_size` (optional): Results per page, max 100 (default: 25)\n- `max_pages` (optional): Maximum number of pages to automatically fetch (for large result sets)\n\n**Returns:** Search results with field metadata and pagination info. Automatically collects results across multiple pages if `max_pages` is specified.\n\n**Example:**\n```\nsearch-ess-deepdive with field_name=\"temperature\" and record_count_min=100\n```\n\n#### get-ess-deepdive-dataset\n\nGet detailed field information for a specific dataset file in ESS-DeepDive.\n\n**Parameters:**\n- `doi` (required): The DOI of the dataset (with or without 'doi:' prefix)\n- `file_path` (required): The file path within the dataset\n\n**Returns:** Complete field metadata including field names, definitions, data types, record counts, and value ranges.\n\n#### get-ess-deepdive-file\n\nRetrieve detailed information about a specific file from ESS-DeepDive (Get-Dataset-File endpoint).\n\n**Parameters:**\n- `doi` (required): The DOI of the dataset (format: `doi:10.xxxx/...` or `10.xxxx/...`)\n- `file_path` (required): The file path within the dataset (e.g., \"dataset.zip/data.csv\")\n\n**Returns:** JSON with summary of key file information and complete API response including:\n- All field names and their definitions\n- Data types and summary statistics for each field\n- File metadata and download information\n- Record counts and value ranges\n- Download URLs\n\n**Use Case:** After finding a file of interest from `search-ess-deepdive`, retrieve complete field-level metadata before downloading.\n\n### Mapping Tools\n\n#### coords-to-map-links\n\nConvert points or a bounding box into map links (geojson.io, OpenStreetMap, Google Maps,\nand Google Earth KML data URIs).\n\n**Parameters:**\n- `points` (optional): List of `[lat, lon]` points\n- `bbox` (optional): `[min_lat, min_lon, max_lat, max_lon]`\n- `zoom` (optional): Zoom level for a centered geojson.io view\n\n**Returns:** Links for geojson.io, OpenStreetMap, Google Maps (center point), and\nGoogle Earth KML data URIs for center/bbox/points.\n\n**Example:**\n```\ncoords-to-map-links with points=[[38.9219, -106.9490]] and zoom=12\n```\n\n## License\n\nBSD\n"
      },
      "plugins": [
        {
          "name": "essdive-datasets",
          "description": "Search ESS-DIVE datasets and fetch metadata/permissions",
          "source": "./",
          "strict": false,
          "skills": [
            "./skills/essdive-datasets"
          ],
          "categories": [],
          "install_commands": [
            "/plugin marketplace add ess-dive/essdive-mcp",
            "/plugin install essdive-datasets@essdive-mcp-skills"
          ]
        },
        {
          "name": "essdive-identifiers",
          "description": "Convert between ESS-DIVE IDs and DOIs",
          "source": "./",
          "strict": false,
          "skills": [
            "./skills/essdive-identifiers"
          ],
          "categories": [],
          "install_commands": [
            "/plugin marketplace add ess-dive/essdive-mcp",
            "/plugin install essdive-identifiers@essdive-mcp-skills"
          ]
        },
        {
          "name": "essdeepdive",
          "description": "Query the ESS-DeepDive fusion database",
          "source": "./",
          "strict": false,
          "skills": [
            "./skills/essdeepdive"
          ],
          "categories": [],
          "install_commands": [
            "/plugin marketplace add ess-dive/essdive-mcp",
            "/plugin install essdeepdive@essdive-mcp-skills"
          ]
        }
      ]
    }
  ]
}