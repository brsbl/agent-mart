{
  "author": {
    "id": "kbrockhoff",
    "display_name": "Kevin Brockhoff",
    "avatar_url": "https://avatars.githubusercontent.com/u/1822996?u=bc546d5646c45beb9c0da73cf261f587289b0b31&v=4"
  },
  "marketplaces": [
    {
      "name": "brockhoff-tools",
      "version": null,
      "description": "Git lifecycle commands for worktree-based development: status, branch, commit, sync, and PR management",
      "repo_full_name": "kbrockhoff/brockhoff-tools-claude",
      "repo_url": "https://github.com/kbrockhoff/brockhoff-tools-claude",
      "repo_description": "Brockhoff Cloud Claude Plugins",
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-24T17:56:41Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"brockhoff-tools\",\n  \"owner\": {\n    \"name\": \"kbrockhoff\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"bkff-git\",\n      \"source\": \"./plugins/bkff-git\",\n      \"description\": \"Git lifecycle commands for worktree-based development: status, branch, commit, sync, and PR management\"\n    },\n    {\n      \"name\": \"bkff\",\n      \"source\": \"./plugins/bkff\",\n      \"description\": \"Spec-driven development workflows: compliance checking, task-to-issue conversion, agentic development loops, verification skills, ADR generation, test generation, README generation, and PR feedback handling\"\n    }\n  ]\n}\n",
        "README.md": "# Brockhoff Cloud Platform Claude Tooling\n\nClaude Code Plugins used for Brockhoff Cloud Platform development.\n\n## Installation\n\nAdd the marketplace to Claude Code:\n\n```\n/plugin marketplace add kbrockhoff/brockhoff-tools-claude\n```\n\nInstall a specific plugin:\n\n```\n/plugin install bkff-git@brockhoff-tools\n```\n\n## Plugins\n\n- **bkff-git**: Git lifecycle commands for worktree-based development\n\n## Development\n\nRun the linter to validate plugin structure:\n\n```bash\nmake lint\n```\n\nUpdate plugin documentation and website:\n\n```bash\nmake update\n```\n\n## Documentation\n\nVisit the [documentation site](https://kbrockhoff.github.io/brockhoff-tools-claude) for more information.\n\n## License\n\nMIT\n",
        "plugins/bkff-git/README.md": "# bkff-git Plugin\n\nGit lifecycle commands for Claude Code, designed for developers working in git worktree environments. Automates branch creation, conventional commits with GPG signing, remote synchronization, PR management, and status reporting.\n\n## Installation\n\n1. **Clone or copy** this plugin to your Claude Code plugins directory:\n   ```bash\n   # Option 1: Clone the repository\n   git clone https://github.com/kbrockhoff/brockhoff-tools-claude.git\n   cd brockhoff-tools-claude/git-plugin/plugins/bkff-git\n\n   # Option 2: Copy to your plugins directory\n   cp -r plugins/bkff-git ~/.claude/plugins/\n   ```\n\n2. **Install dependencies**:\n   ```bash\n   # Git (2.25+) - required\n   git --version  # verify >= 2.25\n\n   # GitHub CLI (2.0+) - required for PR management\n   brew install gh        # macOS\n   # apt install gh       # Debian/Ubuntu\n   gh auth login\n\n   # jq - required for JSON parsing\n   brew install jq        # macOS\n   # apt install jq       # Debian/Ubuntu\n\n   # Beads CLI - optional (features degrade gracefully without it)\n   # Install bd from the Claude Code marketplace or your organization\n   # Verify: bd --version\n   ```\n\n3. **Configure GPG signing** (required for commits):\n   ```bash\n   # Install GPG if needed\n   brew install gnupg     # macOS\n   # apt install gnupg    # Debian/Ubuntu\n\n   # Generate a GPG key if you don't have one\n   gpg --gen-key\n\n   # Get your key ID (look for \"sec\" line, use the part after the slash)\n   gpg --list-secret-keys --keyid-format=long\n\n   # Configure git to use your key\n   git config --global user.signingkey YOUR_KEY_ID\n   git config --global commit.gpgsign true\n   ```\n\n4. **Verify installation**:\n   ```bash\n   # Run the status command\n   /bkff:git-st\n   ```\n\n## Commands\n\n| Command | Priority | Description |\n|---------|----------|-------------|\n| `/bkff:git-st` | P1 | Check development status (changes, commits, tasks, PR) |\n| `/bkff:git-branch` | P2 | Create feature branch from beads issue |\n| `/bkff:git-commit` | P2 | Commit with validation, conventional message, GPG signing |\n| `/bkff:git-sync` | P3 | Sync with remote using smart rebase/merge |\n| `/bkff:git-pr` | P3 | Create or update pull request |\n\n## Command Reference\n\n### `/bkff:git-st` - Check Status\n\nDisplays comprehensive status of the current git worktree.\n\n```bash\n/bkff:git-st\n```\n\n**Output includes:**\n- Current branch and push status\n- Staged, unstaged, and untracked files\n- Last commit information\n- In-progress beads tasks\n- Pull request status (if exists)\n\n### `/bkff:git-branch` - Create Branch\n\nCreates a new branch from a beads issue with automatic prefix detection.\n\n```bash\n/bkff:git-branch <issue-id>\n```\n\n**Branch prefix logic:**\n| Issue Type | Priority | Prefix |\n|------------|----------|--------|\n| feature/task | any | `feature/` |\n| bug | P2-P4 | `bugfix/` |\n| bug | P0-P1 | `hotfix/` |\n\n**Actions:**\n1. Validates issue exists\n2. Creates worktree with new branch\n3. Pushes to origin\n4. Initializes beads database\n\n### `/bkff:git-commit` - Commit Changes\n\nValidates, stages, commits with conventional message, and pushes.\n\n```bash\n/bkff:git-commit [-m \"message\"] [--co-author \"Name <email>\"]\n```\n\n**Options:**\n- `-m`, `--message`: Override auto-generated commit message\n- `--co-author`: Add co-author attribution (format: `\"Name <email>\"`)\n\n**Actions:**\n1. Runs build validation (make lint, npm run lint, etc.)\n2. Stages all changes\n3. Generates conventional commit message\n4. Creates GPG-signed commit\n5. Pushes to origin\n\n### `/bkff:git-sync` - Sync with Remote\n\nFetches and integrates changes using smart strategy selection.\n\n```bash\n/bkff:git-sync [source-branch]\n```\n\n**Arguments:**\n- `source-branch`: Branch to sync from (default: `main`)\n\n**Strategy:**\n- **Rebase**: Used when branch not yet pushed (clean history)\n- **Merge**: Used when branch already pushed (preserve history)\n\n**Actions:**\n1. Fetches from origin\n2. Determines push status\n3. Rebases or merges from source branch\n4. Reports conflicts if any\n\n### `/bkff:git-pr` - Manage Pull Request\n\nCreates or updates a pull request for the current branch.\n\n```bash\n/bkff:git-pr [-t \"PR title\"] [-d]\n```\n\n**Options:**\n- `-t`, `--title`: Override auto-generated PR title\n- `-d`, `--draft`: Create as draft PR\n\n**Actions:**\n1. Pushes branch if needed\n2. Checks for existing PR\n3. Creates new PR or updates existing\n4. Uses PR template if available\n\n## Features\n\n- **Worktree-aware**: Designed for git worktree development workflows\n- **Conventional commits**: Auto-generates properly formatted commit messages\n- **GPG signing**: All commits are signed for security\n- **Smart sync**: Chooses rebase (unpushed) or merge (pushed) automatically\n- **Beads integration**: Links branches to beads issues for tracking\n- **PR templates**: Uses repository PR templates when available\n\n## Requirements\n\n| Dependency | Version | Purpose |\n|------------|---------|---------|\n| Git | 2.25+ | Version control |\n| GitHub CLI (`gh`) | 2.0+ | PR management |\n| `bd` (beads CLI) | any | Issue tracking |\n| `jq` | any | JSON parsing |\n| GPG | any | Commit signing |\n\n## Directory Structure\n\n```\nplugins/bkff-git/\n├── .claude-plugin/\n│   └── plugin.json       # Plugin metadata\n├── skills/\n│   ├── git-st/SKILL.md        # Status command\n│   ├── git-branch/SKILL.md    # Branch command\n│   ├── git-commit/SKILL.md    # Commit command\n│   ├── git-sync/SKILL.md      # Sync command\n│   └── git-pr/SKILL.md        # PR command\n├── lib/\n│   ├── common.sh         # Shared utilities (worktree, errors, formatting)\n│   ├── git-helpers.sh    # Git helper functions (branch status, parsing)\n│   └── validation.sh     # Validation helpers (build tools, GPG)\n└── tests/\n    ├── test-helpers.sh   # Test framework\n    └── test-common.sh    # Tests for common.sh\n```\n\n## Quick Start\n\n```bash\n# 1. Check current status\n/bkff:git-st\n\n# 2. Create branch for a beads issue\n/bkff:git-branch tool-abc\n\n# 3. Make your changes...\n\n# 4. Commit all changes\n/bkff:git-commit\n\n# 5. Sync with main (if needed)\n/bkff:git-sync\n\n# 6. Create/update PR\n/bkff:git-pr\n```\n\n## Troubleshooting\n\n### \"Command must be run within a git worktree\"\n\nYou're not in a git repository. Navigate to a git worktree directory:\n```bash\ncd /path/to/your/repo\n```\n\n### \"GPG signing required but unavailable\"\n\nGPG is not configured. Set up GPG signing:\n```bash\n# List your keys\ngpg --list-secret-keys --keyid-format=long\n\n# Configure git (replace KEY_ID with your key)\ngit config --global user.signingkey KEY_ID\ngit config --global commit.gpgsign true\n```\n\n### \"gh CLI not available\"\n\nInstall and authenticate GitHub CLI:\n```bash\nbrew install gh  # macOS\ngh auth login\n```\n\n### \"bd CLI not available\"\n\nThe beads CLI is not installed. Install it or the beads-related features will be skipped gracefully.\n\n### \"Push failed\"\n\nCheck your network connection and git remote configuration:\n```bash\ngit remote -v\ngit fetch origin\n```\n\n### \"Branch already exists\"\n\nThe branch name conflicts with an existing branch:\n```bash\ngit branch -a | grep <branch-name>\n```\n\n### Validation Errors\n\nIf `git-commit` reports validation errors, fix them before committing:\n```bash\n# Check what validation is running\nmake lint  # or npm run lint, cargo clippy, etc.\n```\n\n### Merge/Rebase Conflicts\n\nIf `git-sync` reports conflicts:\n1. Open conflicted files and resolve conflicts\n2. Stage resolved files: `git add <file>`\n3. Continue: `git rebase --continue` or `git commit`\n4. Or abort: `git rebase --abort` or `git merge --abort`\n\n### \"Cannot create PR from main branch\"\n\nYou're on the main/master branch. Create a feature branch first:\n```bash\n/bkff:git-branch <issue-id>\n```\n\n### \"Failed to create PR\" / GitHub Authentication\n\nGitHub CLI is not authenticated or token expired:\n```bash\ngh auth status      # Check current auth\ngh auth login       # Re-authenticate\ngh auth refresh     # Refresh token\n```\n\n### \"Issue not found\"\n\nThe beads issue ID doesn't exist. List available issues:\n```bash\nbd list --status=open\nbd search \"keyword\"\n```\n\n### \"Directory already exists\"\n\nThe worktree directory path already exists. Remove or rename it:\n```bash\nls -la ../          # Check existing directories\nrm -rf ../old-dir   # Remove if unused\n```\n\n### \"You have uncommitted changes\"\n\n`git-sync` requires a clean working directory. Commit or stash changes first:\n```bash\n/bkff:git-commit              # Commit changes\n# or\ngit stash                     # Temporarily stash\n/bkff:git-sync\ngit stash pop                 # Restore stashed changes\n```\n\n### \"Source branch not found on origin\"\n\nThe branch you're syncing from doesn't exist on the remote:\n```bash\ngit fetch origin              # Update remote refs\ngit branch -r                 # List remote branches\n/bkff:git-sync main           # Specify correct branch\n```\n",
        "plugins/bkff/README.md": "# bkff Plugin\n\nSpec-driven development workflows for Claude Code. Provides comprehensive tooling for repository compliance, issue management, verification, documentation generation, and PR feedback handling.\n\n## Features\n\n### Repository Compliance\n- **Check Compliance** (`/bkff:chkcompliance`): Scan repository for missing files and configuration issues\n- **Fix Compliance** (`/bkff:fixcompliance`): Automatically create missing files and fix issues\n\n### Issue Management\n- **Convert Tasks** (`/bkff:tasks2issues`): Convert SpecKit tasks.md to beads issues with dependencies\n- **Start Development Loop** (`/bkff:startloop`): Begin autonomous task execution cycle\n- **Cancel Loop** (`/bkff:cancelloop`): Stop or pause development loop\n\n### Verification\n- **Verify Task** (`/bkff:verifytask`): Run validation for task completion\n- **Verify Feature** (`/bkff:verifyfeat`): Check all child tasks closed and run verify target\n- **Verify Epic** (`/bkff:verifyepic`): Check all child features closed and run epic verification\n- **Verify Bug** (`/bkff:verifybug`): Validate bug fix with regression testing\n\n### Documentation\n- **Write ADR** (`/bkff:writeadr`): Generate Architecture Decision Records using multi-agent pipeline\n- **Generate Tests** (`/bkff:gentests`): Create unit tests for source code\n- **Generate README** (`/bkff:genreadme`): Generate project documentation\n\n### PR Workflow\n- **PR Feedback** (`/bkff:prfeedback`): Parse review comments, create tasks, manage re-review\n\n## Installation\n\nThis plugin is part of the brockhoff-tools-claude plugin collection.\n\n```bash\n# Clone the repository\ngit clone https://github.com/kbrockhoff/brockhoff-tools-claude.git\n\n# The plugin is located at:\n# brockhoff-tools-claude/bkff-plugin/plugins/bkff/\n```\n\n## Requirements\n\n- Bash 4.0+ (POSIX-compatible where possible)\n- Git 2.25+\n- GitHub CLI (gh) 2.0+\n- Beads CLI (bd)\n- jq (JSON processing)\n- make (for build targets)\n\n## Quick Start\n\n### 1. Check Repository Compliance\n\n```bash\n/bkff:chkcompliance\n```\n\nThis checks for required files like CODEOWNERS, CONTRIBUTING.md, PR templates, etc.\n\n### 2. Fix Compliance Issues\n\n```bash\n/bkff:fixcompliance --check=all\n```\n\nAutomatically creates missing files with sensible defaults.\n\n### 3. Convert Tasks to Issues\n\n```bash\n/bkff:tasks2issues --file=tasks.md\n```\n\nParses SpecKit format and creates beads issues with proper hierarchy.\n\n### 4. Start Development Loop\n\n```bash\n/bkff:startloop\n```\n\nBegins autonomous task execution, picking up ready tasks from beads.\n\n### 5. Verify Completion\n\n```bash\n/bkff:verifytask --issue=beads-abc123\n```\n\nRuns the `validate` make target and checks acceptance criteria.\n\n## Skills Reference\n\n| Skill | Description | Key Arguments |\n|-------|-------------|---------------|\n| `/bkff:chkcompliance` | Check repository compliance | `--format`, `--check` |\n| `/bkff:fixcompliance` | Fix compliance issues | `--check`, `--dry-run` |\n| `/bkff:tasks2issues` | Convert tasks to issues | `--file`, `--parent` |\n| `/bkff:startloop` | Start development loop | `--strategy`, `--verify-only` |\n| `/bkff:cancelloop` | Cancel development loop | `--pause` |\n| `/bkff:verifytask` | Verify task completion | `--issue`, `--format` |\n| `/bkff:verifyfeat` | Verify feature completion | `--issue`, `--format` |\n| `/bkff:verifyepic` | Verify epic completion | `--issue`, `--format` |\n| `/bkff:verifybug` | Verify bug fix | `--issue`, `--format` |\n| `/bkff:writeadr` | Write ADR | `--decision`, `--context`, `--sources` |\n| `/bkff:gentests` | Generate unit tests | `--file`, `--framework`, `--update` |\n| `/bkff:genreadme` | Generate README | `--update`, `--sections` |\n| `/bkff:prfeedback` | Handle PR feedback | `--pr`, `--ready`, `--format` |\n\n## Agents\n\nThe plugin includes specialized agents for complex tasks:\n\n| Agent | Purpose |\n|-------|---------|\n| `adr-writer` | Generates initial ADR content using MADR template |\n| `adr-validator` | Validates ADR claims against grounding sources |\n| `adr-formatter` | Assigns sequential numbers and formats output |\n\n## Library Functions\n\nThe plugin provides reusable library functions in `lib/`:\n\n- **common.sh**: Error handling, output formatting, worktree detection\n- **compliance.sh**: Compliance checks and fix functions\n- **tasks-parser.sh**: SpecKit tasks.md parsing and conversion\n- **loop-state.sh**: Development loop state management\n- **verification.sh**: Build target execution and verification\n\n## Build Targets\n\nThe plugin integrates with Makefile targets:\n\n| Target | Used By | Purpose |\n|--------|---------|---------|\n| `validate` | verifytask, verifybug | Run tests, linting, quality checks |\n| `verify` | verifyfeat, verifyepic | Full verification including integration |\n\n## Development\n\n### Running Tests\n\n```bash\ncd plugins/bkff\nmake test\n```\n\n### Linting\n\n```bash\nmake lint\n```\n\n### Structure\n\n```\nplugins/bkff/\n├── .claude-plugin/\n│   └── plugin.json       # Plugin manifest\n├── agents/\n│   ├── adr-writer.md     # ADR generation agent\n│   ├── adr-validator.md  # ADR validation agent\n│   └── adr-formatter.md  # ADR formatting agent\n├── skills/\n│   ├── chkcompliance/    # Compliance checking\n│   ├── fixcompliance/    # Compliance fixing\n│   ├── tasks2issues/     # Task conversion\n│   ├── startloop/        # Development loop\n│   ├── cancelloop/       # Loop cancellation\n│   ├── verifytask/       # Task verification\n│   ├── verifyfeat/       # Feature verification\n│   ├── verifyepic/       # Epic verification\n│   ├── verifybug/        # Bug verification\n│   ├── writeadr/         # ADR generation\n│   ├── gentests/         # Test generation\n│   ├── genreadme/        # README generation\n│   └── prfeedback/       # PR feedback handling\n├── lib/\n│   ├── common.sh         # Shared utilities\n│   ├── compliance.sh     # Compliance functions\n│   ├── tasks-parser.sh   # Task parsing\n│   ├── loop-state.sh     # Loop management\n│   └── verification.sh   # Verification helpers\n├── tests/\n│   └── test-helpers.sh   # Test framework\n└── README.md\n```\n\n## License\n\nMIT\n"
      },
      "plugins": [
        {
          "name": "bkff-git",
          "source": "./plugins/bkff-git",
          "description": "Git lifecycle commands for worktree-based development: status, branch, commit, sync, and PR management",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add kbrockhoff/brockhoff-tools-claude",
            "/plugin install bkff-git@brockhoff-tools"
          ]
        },
        {
          "name": "bkff",
          "source": "./plugins/bkff",
          "description": "Spec-driven development workflows: compliance checking, task-to-issue conversion, agentic development loops, verification skills, ADR generation, test generation, README generation, and PR feedback handling",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add kbrockhoff/brockhoff-tools-claude",
            "/plugin install bkff@brockhoff-tools"
          ]
        }
      ]
    }
  ]
}