{
  "author": {
    "id": "bigdra50",
    "display_name": "Ryudai Kimura",
    "avatar_url": "https://avatars.githubusercontent.com/u/38492895?u=ba7234dea3d62c1c85fc03d6277e124119f41338&v=4"
  },
  "marketplaces": [
    {
      "name": "unity-tools",
      "version": null,
      "description": "Unity CLI plugins for editor automation",
      "repo_full_name": "bigdra50/unity-cli",
      "repo_url": "https://github.com/bigdra50/unity-cli",
      "repo_description": "CLI tool for controlling Unity Editor via command line - Play Mode, console logs, tests, scenes, GameObjects and more",
      "signals": {
        "stars": 20,
        "forks": 1,
        "pushed_at": "2026-02-18T13:25:25Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"unity-tools\",\n  \"owner\": {\n    \"name\": \"bigdra50\"\n  },\n  \"description\": \"Unity CLI plugins for editor automation\",\n  \"plugins\": [\n    {\n      \"name\": \"unity-cli\",\n      \"source\": {\n        \"source\": \"github\",\n        \"repo\": \"bigdra50/unity-cli\"\n      },\n      \"description\": \"Unity development workflow automation: build verification, debug investigation, UI Toolkit inspection\",\n      \"version\": \"0.0.1\",\n      \"repository\": \"https://github.com/bigdra50/unity-cli\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"unity-cli\",\n  \"version\": \"0.0.1\",\n  \"description\": \"Claude Code plugin to integrate unity-cli into Unity development workflows\",\n  \"author\": {\n    \"name\": \"bigdra50\"\n  },\n  \"repository\": \"https://github.com/bigdra50/unity-cli\"\n}\n",
        "README.md": "# Unity CLI\n\n[![CI](https://github.com/bigdra50/unity-cli/actions/workflows/ci.yml/badge.svg)](https://github.com/bigdra50/unity-cli/actions/workflows/ci.yml)\n[![Python](https://img.shields.io/badge/python-3.11%20%7C%203.12%20%7C%203.13-blue)](https://www.python.org/)\n[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)\n[![Unity](https://img.shields.io/badge/Unity-2022.3%2B-black?logo=unity)](https://unity.com/)\n[![openupm](https://img.shields.io/npm/v/com.bigdra50.unity-bridge?label=openupm&registry_uri=https://package.openupm.com)](https://openupm.com/packages/com.bigdra50.unity-bridge/)\n[![Ask DeepWiki](https://deepwiki.com/badge.svg)](https://deepwiki.com/bigdra50/unity-cli)\n\n[日本語版](README.jp.md)\n\nA CLI tool for controlling Unity Editor from the command line.\n\n## Overview\n\nExecute Unity Editor operations from CLI: Play Mode control, console log retrieval, test execution, scene/GameObject manipulation, and more.\n\n```bash\n# Play Mode control\nu play\nu stop\n\n# Get console logs (error and above)\nu console get -l E\n\n# Execute menu items\nu menu exec \"Assets/Refresh\"\n\n# Execute ContextMenu\nu menu context \"DoSomething\" -t \"/Player\"\n```\n\nKey features:\n- Execute Unity Editor operations from CLI\n- Support for MenuItem / ContextMenu execution\n- Simultaneous control of multiple Unity instances\n- Domain reload resilience (auto-reconnection)\n- UI Toolkit VisualElement tree inspection (dump, query, inspect with ref IDs)\n- Open projects with appropriate version (Unity Hub integration)\n- Project information retrieval (no Relay Server required)\n\n## Requirements\n\n- [uv](https://docs.astral.sh/uv/) (Python package manager)\n- Python 3.11+\n- Unity 2022.3+\n- Unity Hub (for `open`/`editor` commands)\n\n## Quick Start\n\n### 1. Unity Setup\n\nAdd the UnityBridge package to your Unity project:\n\n```bash\n# Via OpenUPM (recommended)\nopenupm add com.bigdra50.unity-bridge\n\n# Or via git URL\n# Window > Package Manager > + > Add package from git URL...\n# https://github.com/bigdra50/unity-cli.git?path=UnityBridge\n```\n\n### 2. Connection\n\nIn Unity Editor, open `Window > Unity Bridge`:\n1. Click Start Server (launches Relay Server)\n2. Click Connect (Unity → Relay connection)\n\nThe toolbar indicator (right side) shows connection status and allows toggle via click.\n\n### 3. CLI Operations\n\n```bash\n# Run directly with uvx (no installation required)\nuvx --from git+https://github.com/bigdra50/unity-cli u state\n\n# Play Mode control\nuvx --from git+https://github.com/bigdra50/unity-cli u play\nuvx --from git+https://github.com/bigdra50/unity-cli u stop\n\n# Get console logs (error and above)\nuvx --from git+https://github.com/bigdra50/unity-cli u console get -l E\n```\n\n## Installation\n\n```bash\n# Global installation\nuv tool install git+https://github.com/bigdra50/unity-cli\n\n# With interactive UI (editor selection prompt)\nuv tool install \"git+https://github.com/bigdra50/unity-cli[interactive]\"\n\n# CLI commands (all aliases work the same)\nunity-cli state    # Full name\nunity state        # Short alias\nu state            # Shortest alias\n\nu play\nu console get -l E | head -10  # Last 10 error+ logs\n\n# Run Relay Server standalone\nunity-relay --port 6500\n```\n\n## CLI Commands\n\n### Version\n\n```bash\nu version                     # Show CLI version\n```\n\n### Shell Completion\n\n```bash\n# Zsh\nu completion -s zsh > ~/.zsh/completions/_unity-cli\n\n# Bash\nu completion -s bash >> ~/.bashrc\n\n# Fish\nu completion -s fish > ~/.config/fish/completions/unity-cli.fish\n```\n\n### Open Project\n\n```bash\n# Open project with appropriate version (reads ProjectVersion.txt)\nu open ./MyUnityProject\n\n# Specify editor version\nu open ./MyUnityProject --editor 2022.3.10f1\n\n# Non-interactive mode (for CI/scripts)\nu open ./MyUnityProject --non-interactive\n\n# Wait until exit\nu open ./MyUnityProject --wait\n```\n\n### Editor Management\n\n```bash\n# List installed editors\nu editor list\n\n# Install editor\nu editor install 2022.3.10f1\n\n# Install with modules\nu editor install 2022.3.10f1 --modules android ios webgl\n```\n\n### Project Information (No Relay Server Required)\n\n```bash\n# Full project info\nu project info ./MyUnityProject\n\n# Unity version only\nu project version ./MyUnityProject\n\n# Package list\nu project packages ./MyUnityProject\n\n# Tags & layers\nu project tags ./MyUnityProject\n\n# Quality settings\nu project quality ./MyUnityProject\n\n# Assembly Definition list\nu project assemblies ./MyUnityProject\n\n# JSON output\nu --json project info ./MyUnityProject\n```\n\n### Basic Operations (via Relay Server)\n\n```bash\n# Check editor state\nu state\n\n# Play Mode control\nu play\nu stop\nu pause\n\n# Console logs\nu console get                  # All logs (plain text)\nu console get -o json          # All logs (JSON format)\nu console get -s               # All logs with stack traces\nu console get -l W             # Warning and above (warning, error, exception)\nu console get -l E             # Error and above (error, exception)\nu console get -l +W            # Warning only\nu console get -l +E+X          # Error and exception only\nu console get | head -20       # Last 20 entries\nu console get | grep \"error\"   # Filter by text\nu console clear                # Clear console\n\n# Asset refresh\nu refresh\n\n# Editor selection\nu selection\n\n# Screenshot\nu screenshot                           # GameView (default)\nu screenshot -s scene                  # SceneView\nu screenshot -s camera                 # Camera.Render\nu screenshot -p ./output.png           # Custom path\nu screenshot -s camera -c \"Main Camera\" -W 1920 -H 1080\n```\n\n### Instance Management\n\n```bash\n# List connected instances\nu instances\n\n# Specify target instance\nu --instance /Users/dev/MyGame state\nu --instance /Users/dev/Demo play\n```\n\n### Test Execution\n\n```bash\n# EditMode tests\nu tests run edit\n\n# PlayMode tests\nu tests run play\n\n# Filtering\nu tests run edit --test-names \"MyTests.SampleTest\"\nu tests run edit --categories \"Unit\" \"Integration\"\nu tests run edit --assemblies \"MyGame.Tests\"\n\n# List available tests\nu tests list edit\nu tests list play\n\n# Check running test status\nu tests status\n```\n\n### Scene Operations\n\n```bash\n# Active scene info\nu scene active\n\n# Hierarchy\nu scene hierarchy                    # Root only (depth 1)\nu scene hierarchy --depth 2          # Up to 2 levels\nu scene hierarchy --page-size 100    # Custom page size\n\n# Scene operations\nu scene load --name MainScene\nu scene save\n```\n\n### GameObject Operations\n\n```bash\n# Find\nu gameobject find \"Main Camera\"\nu gameobject find \"Player\" --iterate-all\n\n# Create\nu gameobject create --name \"MyCube\" --primitive Cube --position 0 1 0\n\n# Modify\nu gameobject modify --name \"MyCube\" --position 5 0 0 --rotation 0 45 0\n\n# Delete\nu gameobject delete --name \"MyCube\"\n```\n\n### Component Operations\n\n```bash\n# List components\nu component list -t \"Main Camera\"\n\n# Inspect component\nu component inspect -t \"Main Camera\" -T Camera\n\n# Add component\nu component add -t \"Player\" -T Rigidbody\n\n# Remove component\nu component remove -t \"Player\" -T Rigidbody\n```\n\n### Menu / ContextMenu\n\n```bash\n# Execute menu\nu menu exec \"Edit/Play\"\nu menu exec \"Assets/Refresh\"\nu menu exec \"Window/General/Console\"\n\n# List menus\nu menu list                    # All menus\nu menu list -f \"Assets\"        # Filter\nu menu list -f \"Play\" -l 20    # Limit count\n\n# Execute ContextMenu (scene objects)\nu menu context \"Reset\" -t \"/Player\"\n\n# Execute ContextMenu (ScriptableObject)\nu menu context \"DoSomething\" -t \"Assets/Data/Config.asset\"\n\n# Execute ContextMenu (Prefab)\nu menu context \"Initialize\" -t \"Assets/Prefabs/Enemy.prefab\"\n```\n\n### Asset Operations\n\n```bash\n# Create Prefab\nu asset prefab -s \"Player\" -p \"Assets/Prefabs/Player.prefab\"\n\n# Create ScriptableObject\nu asset scriptable-object -T \"GameConfig\" -p \"Assets/Data/Config.asset\"\n\n# Asset info\nu asset info \"Assets/Data/Config.asset\"\n```\n\n### UI Toolkit Tree Inspection\n\nInspect UI Toolkit VisualElement trees across Editor and Runtime panels. Uses a ref ID system (similar to Playwright MCP) for interactive debugging: dump the tree, then inspect individual elements by ref ID.\n\n```bash\n# List all panels (Editor + Runtime)\nu uitree dump\n\n# Dump a panel's VisualElement tree\nu uitree dump -p \"Toolbar\"\n\n# Limit depth\nu uitree dump -p \"Toolbar\" -d 3\n\n# JSON output\nu uitree dump -p \"Toolbar\" -o json\n\n# Query elements by type, name, or USS class (AND conditions)\nu uitree query -p \"PanelSettings\" -t Button\nu uitree query -p \"PanelSettings\" -n \"StartBtn\"\nu uitree query -p \"PanelSettings\" -c \"primary-button\"\n\n# Inspect element by ref ID (assigned during dump/query)\nu uitree inspect ref_3\n\n# Include resolvedStyle (layout, colors, font, margins, etc.)\nu uitree inspect ref_3 --style\n\n# Include direct children info\nu uitree inspect ref_3 --children\n\n# Inspect by panel + name (without prior dump)\nu uitree inspect -p \"Toolbar\" -n \"Play\"\n```\n\n### Configuration\n\n```bash\n# Show current configuration\nu config show\n\n# Generate default .unity-cli.toml\nu config init\nu config init -o ./custom-config.toml\nu config init --force                  # Overwrite existing\n```\n\n## Options\n\n### Common Options\n\n| Option | Description | Default |\n|--------|-------------|---------|\n| `--relay-host` | Relay Server host | 127.0.0.1 |\n| `--relay-port` | Relay Server port | 6500 |\n| `--instance`, `-i` | Target Unity instance | default |\n| `--timeout`, `-t` | Timeout (seconds) | 10.0 |\n| `--json`, `-j` | Output JSON format | false |\n| `--quiet`, `-q` | Suppress success messages | false |\n| `--verbose` | Show request/response on stderr | false |\n\n### Tests Options\n\n| Option | Description |\n|--------|-------------|\n| `--test-names`, `-n` | Test names (exact match) |\n| `--group-pattern`, `-g` | Regex pattern for test names |\n| `--categories`, `-c` | NUnit categories |\n| `--assemblies`, `-a` | Assembly names |\n| `--sync`, `-s` | Run synchronously (EditMode only) |\n\n### Scene Hierarchy Options\n\n| Option | Description | Default |\n|--------|-------------|---------|\n| `--depth`, `-d` | Hierarchy depth | 1 (root only) |\n| `--page-size` | Page size | 50 |\n| `--cursor` | Pagination cursor | 0 |\n\n## Exit Codes\n\n| Code | Name | Description |\n|------|------|-------------|\n| 0 | SUCCESS | Command completed successfully |\n| 1 | USAGE_ERROR | Invalid arguments or validation failure |\n| 2 | TRANSIENT_ERROR | Retryable: instance reloading, busy, timeout |\n| 3 | CONNECTION_ERROR | Relay Server not running or unreachable |\n| 4 | OPERATION_ERROR | Command failed (instance not found, protocol error, etc.) |\n| 5 | TEST_FAILURE | Tests ran but some failed |\n\n```bash\nu state; echo $?              # 0 = connected, 3 = relay not running\nu tests run edit; echo $?     # 0 = all passed, 5 = some failed\nu play --quiet 2>/dev/null; echo $?  # Suppress output, check exit code only\n```\n\n## Environment Variables\n\n| Variable | Description |\n|----------|-------------|\n| `UNITY_CLI_QUIET` | Set to `1` to suppress success messages |\n| `UNITY_CLI_VERBOSE` | Set to `1` to log request/response to stderr |\n| `UNITY_CLI_JSON` | Set to `1` for JSON output by default |\n| `UNITY_CLI_NO_PRETTY` | Set to `1` to disable Rich formatting |\n| `NO_COLOR` | Set to disable colors (standard) |\n\n## Claude Code Plugin (Experimental)\n\nA Claude Code plugin that helps integrate unity-cli into your Unity development workflow with Claude Code. Provides routing, validation, debugging, and other skills to assist CLI-based Unity operations.\n\n```bash\n# Add from marketplace\n/plugin marketplace add bigdra50/unity-cli\n\n# Install\n/plugin install unity-cli@unity-tools\n```\n\n| Skill | Description |\n|-------|-------------|\n| `/unity-preflight` | Compile & test validation |\n| `/unity-debug` | Error investigation |\n| `/unity-build` | Build pipeline |\n| `/unity-scene` | Scene construction |\n| `/unity-asset` | Asset & dependency management |\n| `/unity-perf` | Profiler analysis |\n| `/unity-ui` | UI Toolkit / uGUI inspection |\n\n## Architecture\n\n```mermaid\nflowchart TB\n    subgraph CLI[\"u (Python)\"]\n        direction TB\n        RC[RelayConnection: TCP communication]\n        EB[Exponential Backoff: 500ms → 8s]\n        RID[request_id: idempotency guarantee]\n    end\n\n    subgraph Relay[\"Relay Server (Python)\"]\n        direction TB\n        IR[InstanceRegistry: multiple Unity management]\n        Cache[RequestCache: idempotency cache]\n        HB[Heartbeat: Single Outstanding PING]\n        Q[Queue: FIFO max 10]\n    end\n\n    subgraph Unity[\"UnityBridge (C#)\"]\n        direction TB\n        Client[RelayClient: connection management]\n        Dispatcher[CommandDispatcher: BridgeTool attribute]\n        Reload[BridgeReloadHandler: reconnection]\n    end\n\n    CLI -->|TCP:6500| Relay\n    Relay -->|TCP:6500| Unity\n```\n\n## Protocol Specification\n\nSee [docs/protocol-spec.md](docs/protocol-spec.md) for details.\n\n- Framing: 4-byte big-endian length + JSON\n- State Machine: DISCONNECTED → READY → BUSY → RELOADING\n- Heartbeat: 5s interval, 15s timeout (3 retries)\n- Retry: Exponential Backoff (500ms → 8s, max 30s)\n\n## Troubleshooting\n\n```bash\n# Check if Relay Server is running\nlsof -i :6500\n\n# Check connected instances\nu instances\n\n# Check Unity console for errors\nu console get -l E\n```\n\n## v2.x → v3.0 Migration\n\n| Change | v2.x | v3.0 |\n|--------|------|------|\n| Command name | `unity-mcp` | `unity-cli` |\n| Connection target | Unity direct (6400) | Relay Server (6500) |\n| Protocol | 8-byte framing | 4-byte framing |\n| Multiple instances | Not supported | Supported |\n\n```bash\n# v2.x\nunity-mcp --port 6400 state\n\n# v3.0\nu state  # Via Relay\nu --instance /path/to/project state  # Specific instance\n```\n\n## License\n\nMIT License\n"
      },
      "plugins": [
        {
          "name": "unity-cli",
          "source": {
            "source": "github",
            "repo": "bigdra50/unity-cli"
          },
          "description": "Unity development workflow automation: build verification, debug investigation, UI Toolkit inspection",
          "version": "0.0.1",
          "repository": "https://github.com/bigdra50/unity-cli",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add bigdra50/unity-cli",
            "/plugin install unity-cli@unity-tools"
          ]
        }
      ]
    }
  ]
}