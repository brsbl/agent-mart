{
  "author": {
    "id": "xrf9268-hue",
    "display_name": "xrf9268-hue",
    "avatar_url": "https://avatars.githubusercontent.com/u/244283935?v=4"
  },
  "marketplaces": [
    {
      "name": "llm-council",
      "version": null,
      "description": "Multi-model LLM consensus plugins for collaborative AI deliberation",
      "repo_full_name": "xrf9268-hue/llm-council-plugin",
      "repo_url": "https://github.com/xrf9268-hue/llm-council-plugin",
      "repo_description": null,
      "signals": {
        "stars": 13,
        "forks": 7,
        "pushed_at": "2025-12-19T06:11:04Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"llm-council\",\n  \"owner\": {\n    \"name\": \"LLM Council Contributors\",\n    \"url\": \"https://github.com/xrf9268-hue\"\n  },\n  \"metadata\": {\n    \"description\": \"Multi-model LLM consensus plugins for collaborative AI deliberation\",\n    \"version\": \"1.0.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"llm-council-plugin\",\n      \"source\": {\n        \"source\": \"github\",\n        \"repo\": \"xrf9268-hue/llm-council-plugin\"\n      },\n      \"description\": \"Multi-model consensus engine that summons OpenAI Codex, Google Gemini, and Claude to collaboratively answer your technical questions through peer review and synthesis.\",\n      \"category\": \"Developer Tools\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"llm-council-plugin\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Multi-model consensus engine integrating OpenAI Codex CLI, Gemini CLI, and Claude CLI for collaborative code review and problem-solving.\",\n  \"license\": \"MIT\",\n  \"repository\": \"https://github.com/xrf9268-hue/llm-council-plugin\",\n  \"homepage\": \"https://github.com/xrf9268-hue/llm-council-plugin\",\n  \"keywords\": [\n    \"multi-model\",\n    \"consensus\",\n    \"code-review\",\n    \"openai\",\n    \"gemini\",\n    \"claude\",\n    \"deliberation\",\n    \"peer-review\",\n    \"synthesis\"\n  ],\n  \"author\": {\n    \"name\": \"LLM Council Contributors\",\n    \"url\": \"https://github.com/xrf9268-hue/llm-council-plugin\"\n  },\n  \"commands\": [\n    \"./commands/council.md\",\n    \"./commands/council-status.md\",\n    \"./commands/council-config.md\",\n    \"./commands/council-cleanup.md\",\n    \"./commands/council-help.md\",\n    \"./commands/council-verify-deps.md\"\n  ],\n  \"agents\": [\n    \"./agents/council-chairman.md\"\n  ],\n  \"skills\": [\n    \"./skills/council-orchestrator/\"\n  ]\n}\n",
        "README.md": "# LLM Council Plugin for Claude Code\n\n![LLM Council Header](header.png)\n\nA multi-model consensus engine that integrates OpenAI Codex CLI, Google Gemini CLI, and Claude CLI for collaborative code review and problem-solving.\n\n## Overview\n\nThe LLM Council summons multiple AI models to deliberate on your technical questions. Each model provides its perspective, reviews its peers' answers, and a chairman synthesizes everything into a final verdict.\n\n### How It Works\n\n```\n┌─────────────────────────────────────────────────────────────┐\n│                    LLM COUNCIL WORKFLOW                      │\n├─────────────────────────────────────────────────────────────┤\n│                                                             │\n│  Stage 1: Opinion Collection (Parallel)                     │\n│  ┌─────────┐   ┌─────────┐   ┌─────────┐                   │\n│  │ Claude  │   │  Codex  │   │ Gemini  │                   │\n│  └────┬────┘   └────┬────┘   └────┬────┘                   │\n│       │             │             │                         │\n│       v             v             v                         │\n│  Stage 2: Peer Review (Cross-examination)                   │\n│  ┌─────────────────────────────────────┐                   │\n│  │ Each model reviews others' answers  │                   │\n│  └─────────────────────────────────────┘                   │\n│                      │                                      │\n│                      v                                      │\n│  Stage 3: Chairman Synthesis                                │\n│  ┌─────────────────────────────────────┐                   │\n│  │ Claude Opus synthesizes the verdict │                   │\n│  └─────────────────────────────────────┘                   │\n│                                                             │\n└─────────────────────────────────────────────────────────────┘\n```\n\n## Quick Start\n\n### Prerequisites\n\n#### Required Dependencies\n\nBefore installing the plugin, ensure these critical dependencies are available:\n\n| Dependency | Purpose | Installation |\n|------------|---------|--------------|\n| **jq** | JSON parsing for hook security validations | **macOS**: `brew install jq`<br>**Ubuntu/Debian**: `sudo apt-get install jq`<br>**Alpine**: `apk add jq`<br>**Verify**: `jq --version` |\n| **Claude CLI** | Required for council deliberations | See [code.claude.com/docs/setup](https://code.claude.com/docs/en/setup) |\n\n**⚠️ IMPORTANT**: Without `jq`, all security validations are disabled:\n- ❌ Command injection detection\n- ❌ Sensitive data leak detection (API keys, tokens)\n- ❌ Council quorum verification\n- ❌ Command length limits\n\n#### Optional Dependencies (for multi-model council)\n\nFor full three-model council functionality, install these optional CLIs:\n\n| CLI | Installation | Purpose |\n|-----|--------------|---------|\n| Codex | `npm install -g @openai/codex` | Adds OpenAI perspective |\n| Gemini | `npm install -g @google/gemini-cli` | Adds Google perspective |\n\n**Note**: The plugin works with Claude CLI alone, but multi-model deliberation provides richer perspectives.\n\n### Installation\n\nFor a full installation and debugging walkthrough, see `docs/INSTALL.md`.\n\n#### Option A: Install via Marketplace (Recommended)\n\nIn Claude Code, run these commands:\n\n```bash\n# Add the marketplace\n/plugin marketplace add xrf9268-hue/llm-council-plugin\n\n# Install the plugin\n/plugin install llm-council-plugin@llm-council\n```\n\nAlternatively, you can add via Git URL:\n```bash\n/plugin marketplace add https://github.com/xrf9268-hue/llm-council-plugin.git\n```\n\n#### Option B: Local Development\n\nClone this repo:\n\n```bash\ngit clone https://github.com/xrf9268-hue/llm-council-plugin.git .claude-plugins/llm-council\n```\n\n**Note**: Scripts already have execute permissions set in the repository. They should work immediately after cloning on Linux/Mac systems. Only run `chmod +x` if you encounter permission errors (e.g., on Windows or after extracting from ZIP):\n\n```bash\n# Only needed if scripts aren't executable:\nchmod +x .claude-plugins/llm-council/hooks/*.sh .claude-plugins/llm-council/skills/council-orchestrator/scripts/*.sh\n```\n\n#### ⚠️ Troubleshooting Hook Issues\n\nIf you see errors like **\"BLOCKED: Detected potentially dangerous pattern: &&\"**, your cached plugin is outdated.\n\n**Quick fix:**\n```bash\n# Run diagnostic script\n./scripts/verify-plugin-version.sh\n\n# Or manually update cache\nrm -rf ~/.claude/plugins/cache/llm-council-plugin\n# Then reinstall the plugin\n```\n\nSee [docs/TROUBLESHOOTING.md](docs/TROUBLESHOOTING.md) for comprehensive troubleshooting guidance.\n\n### Usage\n\n#### Using the Slash Command\n\nIn Claude Code, use the `/council` command:\n\n```\n/council \"How should I implement rate limiting in a Node.js API?\"\n```\n\nEach `/council` run:\n\n- Resets the `.council/` working directory for this session.\n- Runs opinion collection, peer review, and chairman synthesis.\n- Displays the final report in chat and saves it to `.council/final_report.md`.\n\nWhen you no longer need files from previous sessions, you can clean up with:\n\n```\n/council-cleanup\n```\n\n#### Using the Skill Directly\n\nInvoke the `council-orchestrator` skill for more control:\n\n```\nUse the council-orchestrator skill to answer: \"What's the best approach for database connection pooling?\"\n```\n\n#### Running Scripts Manually\n\nFor debugging or customization:\n\n```bash\n# Resolve plugin root (works for both local dev and marketplace installations)\nPLUGIN_ROOT=\"${COUNCIL_PLUGIN_ROOT:-${CLAUDE_PLUGIN_ROOT:-${CLAUDE_PROJECT_DIR}}}\"\n\n# Stage 1: Collect opinions\n\"${PLUGIN_ROOT}/skills/council-orchestrator/scripts/run_parallel.sh\" \"Your question here\"\n\n# Stage 2: Run peer reviews\n\"${PLUGIN_ROOT}/skills/council-orchestrator/scripts/run_peer_review.sh\" \"Your question here\" .council\n\n# Stage 3: Generate chairman prompt\n\"${PLUGIN_ROOT}/skills/council-orchestrator/scripts/run_chairman.sh\" \"Your question here\" .council\n```\n\n## Commands\n\n| Command | Description |\n|---------|-------------|\n| `/council <query>` | Summon the council for a technical question |\n| `/council-cleanup` | Delete the `.council/` working directory and all session files |\n| `/council-help` | Display usage information and examples |\n| `/council-status` | Check CLI availability and configuration |\n| `/council-config` | Manage council settings |\n\n## Configuration\n\nConfiguration is stored in `~/.council/config`. Available settings:\n\n| Setting | Default | Description |\n|---------|---------|-------------|\n| `enabled_members` | `claude,codex,gemini` | Which CLIs to use |\n| `min_quorum` | `2` | Minimum responses required |\n| `timeout` | `120` | CLI timeout in seconds |\n| `max_prompt_length` | `10000` | Maximum prompt length |\n\n### Example Configuration\n\n```bash\n# Resolve path to council_utils.sh\nPLUGIN_ROOT=\"${COUNCIL_PLUGIN_ROOT:-${CLAUDE_PLUGIN_ROOT:-${CLAUDE_PROJECT_DIR}}}\"\nsource \"${PLUGIN_ROOT}/skills/council-orchestrator/scripts/council_utils.sh\"\n\n# Enable only Claude and Codex\nconfig_set enabled_members \"claude,codex\"\n\n# Adjust timeout\nconfig_set timeout 180\n```\n\n## Output Files\n\nDuring execution, the council creates files in the `.council/` directory:\n\n```\n.council/\n├── stage1_claude.txt      # Claude's initial response\n├── stage1_openai.txt      # Codex's initial response\n├── stage1_gemini.txt      # Gemini's initial response\n├── stage2_review_claude.txt   # Claude's peer review\n├── stage2_review_openai.txt   # Codex's peer review\n├── stage2_review_gemini.txt   # Gemini's peer review\n└── final_report.md        # Chairman's synthesized verdict\n```\n\nThe `.council/` directory always represents the **most recent** `/council` run. A new `/council` invocation will reset this directory before starting a fresh session, so previous session files are never mixed into a new deliberation. Use `/council-cleanup` if you want to remove the directory entirely when you no longer need the latest session's files.\n\n## Final Report Format\n\nThe chairman produces a structured Markdown report:\n\n```markdown\n# LLM Council Verdict\n\n## Executive Summary\n[One-paragraph overview of the consensus]\n\n## Council Participation\n| Member | Status | Key Position |\n|--------|--------|--------------|\n| Claude | Present | ... |\n| Codex  | Present | ... |\n| Gemini | Absent  | N/A |\n\n## Consensus Points\n- Point 1\n- Point 2\n\n## Areas of Disagreement\n### Topic 1\n- Claude: [position]\n- Codex: [position]\n\n## Final Recommendation\n[Synthesized answer incorporating all perspectives]\n```\n\n## Graceful Degradation\n\nThe council handles failures gracefully:\n\n- **One CLI unavailable**: Council proceeds with remaining members\n- **Empty response**: Member marked as \"absent\" in report\n- **Timeout**: Member terminated and marked absent\n- **Rate limits**: Automatic retry with exponential backoff\n\n### Quorum Requirements\n\n- Minimum 2 responses required for peer review stage\n- Council can produce a verdict with just 1 response (degraded mode)\n- Missing members are clearly noted in the final report\n\n## Testing\n\nRun the test suite:\n\n```bash\n# Run all tests (council + hooks)\n./tests/test_runner.sh\n\n# Run hook tests separately\n./tests/test_hooks.sh\n\n# Run specific test category\n./tests/test_runner.sh unit_council_init\n./tests/test_runner.sh partial_failure_simulation\n```\n\n### Test Categories\n\n- `unit_*` - Unit tests for utility functions\n- `integration_*` - Script existence and permissions\n- `happy_path_*` - Full flow with real CLIs\n- `edge_*` - Edge cases (empty prompts, special characters)\n- `partial_failure_*` - Simulated CLI failures\n- `total_failure_*` - Complete failure scenarios\n\n## Troubleshooting\n\n**For comprehensive troubleshooting guidance, see [docs/TROUBLESHOOTING.md](docs/TROUBLESHOOTING.md).**\n\n### Common Issues\n\n#### \"Claude CLI is required but not available\"\n\nInstall the Claude Code CLI:\n\n```bash\n# Visit https://code.claude.com/docs/en/setup for installation instructions\n```\n\n#### \"Quorum not met\"\n\nAt least 2 responses are needed for peer review. Check:\n\n1. Are the CLIs properly authenticated?\n2. Are there rate limit issues?\n3. Check `.council/stage1_*.txt` files for error messages\n\n#### \"Empty response from [CLI]\"\n\nThe CLI returned nothing. Common causes:\n\n- Authentication expired\n- Rate limit exceeded\n- Network issues\n\nCheck the output file for error details:\n\n```bash\ncat .council/stage1_claude.txt\n```\n\n#### Hooks Not Running\n\nEnsure hooks are configured in `hooks/hooks.json`. If `/doctor` reports \"Duplicate hooks file detected\", remove `\"hooks\": \"./hooks/hooks.json\"` from `.claude-plugin/plugin.json` or point it at a separate file (Claude Code v2.0.73+ auto-loads `hooks/hooks.json`).\n\nIf you get permission errors, verify scripts are executable:\n\n```bash\n# Check if scripts have execute permissions\nls -l hooks/*.sh\n\n# Only if needed (scripts should already be executable):\nchmod +x hooks/session-start.sh hooks/pre-tool.sh hooks/post-tool.sh\n```\n\nSee [hooks/README.md](hooks/README.md) for detailed hook troubleshooting.\n\n## Security\n\n### Input Validation\n\nPrompts are validated for:\n- Shell injection patterns (backticks, `$()`, pipes)\n- Maximum length (10,000 characters default)\n- Null bytes\n\n### Output Sanitization\n\nPost-execution hooks check for:\n- API key leakage\n- Rate limit indicators\n- Error patterns\n\n## Architecture\n\n### Project Structure\n\n```\nllm-council-plugin/\n├── .claude-plugin/\n│   ├── plugin.json              # Plugin manifest\n│   └── marketplace.json         # Marketplace metadata\n├── agents/                      # Sub-agent definitions (chairman, etc.)\n├── commands/                    # Slash commands (/council, /council-cleanup, ...)\n├── skills/\n│   └── council-orchestrator/\n│       ├── SKILL.md             # Core workflow (Level 2)\n│       ├── REFERENCE.md         # Detailed implementation (Level 3)\n│       ├── EXAMPLES.md          # Usage scenarios (Level 3)\n│       ├── SECURITY.md          # Security best practices (Level 3)\n│       ├── METADATA.md          # Version and licensing (Level 3)\n│       ├── scripts/             # Orchestration and CLI wrapper scripts\n│       └── templates/           # Peer review + chairman prompt templates\n├── hooks/\n│   ├── hooks.json               # Hook configuration\n│   ├── session-start.sh         # SessionStart hook (environment setup)\n│   ├── pre-tool.sh              # Pre-execution validation\n│   ├── post-tool.sh             # Post-execution verification\n│   └── README.md                # Hook documentation and troubleshooting\n├── scripts/                     # Development and diagnostic scripts\n├── docs/\n│   ├── INSTALL.md               # Installation and setup guide\n│   └── TROUBLESHOOTING.md       # Comprehensive troubleshooting guide\n├── tests/\n│   ├── test_runner.sh           # Main test suite\n│   ├── test_hooks.sh            # Hook-specific tests\n│   └── test_codex_integration.sh# Codex integration tests\n├── CLAUDE.md                    # Core project instructions for AI agents\n├── AGENTS.md                    # Subagent definitions (council chairman)\n├── header.png                   # Header image\n└── README.md                    # This file\n```\n\n### Skill Architecture - Progressive Disclosure Pattern\n\nThe council-orchestrator skill follows the official progressive disclosure pattern (2025):\n\n- **SKILL.md** (Level 2) - Core workflow and quick-start guide (~8.5KB)\n  - Loaded when skill is activated\n  - Contains essential execution flow\n  - Links to detailed documentation\n\n- **REFERENCE.md** (Level 3) - Detailed bash implementation (~16KB)\n  - Loaded only when referenced\n  - Manual execution procedures\n  - Advanced configuration options\n\n- **EXAMPLES.md** (Level 3) - Usage scenarios and troubleshooting (~14KB)\n  - Loaded only when referenced\n  - Real-world usage patterns\n  - Error recovery procedures\n\n- **SECURITY.md** (Level 3) - Security best practices (~6.7KB)\n  - Loaded only when referenced\n  - Input validation patterns\n  - Threat model and mitigations\n\n- **METADATA.md** (Level 3) - Version history and licensing (~1KB)\n  - Loaded only when referenced\n  - Changelog and compatibility info\n\n**Benefits:**\n- Reduces Level 2 context consumption by ~65%\n- Faster skill loading\n- On-demand access to detailed docs\n- Better maintainability\n\n## Documentation\n\n- **[INSTALL.md](docs/INSTALL.md)** - Detailed installation and setup guide\n- **[TROUBLESHOOTING.md](docs/TROUBLESHOOTING.md)** - Comprehensive troubleshooting for common issues\n- **[CHANGELOG.md](CHANGELOG.md)** - Version history and breaking changes\n- **[DEVELOPMENT.md](docs/DEVELOPMENT.md)** - Comprehensive development guidelines and repository standards\n- **[AGENTS.md](AGENTS.md)** - Subagent definitions and configuration\n- **[hooks/README.md](hooks/README.md)** - Hook behavior and security model\n\n## License\n\nMIT License - See LICENSE file for details.\n\n## Contributing\n\n1. Fork the repository\n2. Create a feature branch\n3. Run tests: `./tests/test_runner.sh`\n4. Submit a pull request\n\n## Acknowledgments\n\n- Inspired by [karpathy/llm-council](https://github.com/karpathy/llm-council): LLM Council works together to answer your hardest questions - GitHub, accessed November 25, 2025\n- OpenAI for the Codex CLI\n- Google for the Gemini CLI\n- Anthropic for Claude Code and the plugin system\n"
      },
      "plugins": [
        {
          "name": "llm-council-plugin",
          "source": {
            "source": "github",
            "repo": "xrf9268-hue/llm-council-plugin"
          },
          "description": "Multi-model consensus engine that summons OpenAI Codex, Google Gemini, and Claude to collaboratively answer your technical questions through peer review and synthesis.",
          "category": "Developer Tools",
          "categories": [
            "developer-tools"
          ],
          "install_commands": [
            "/plugin marketplace add xrf9268-hue/llm-council-plugin",
            "/plugin install llm-council-plugin@llm-council"
          ]
        }
      ]
    }
  ]
}