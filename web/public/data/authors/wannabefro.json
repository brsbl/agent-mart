{
  "author": {
    "id": "wannabefro",
    "display_name": "Sam McTaggart",
    "avatar_url": "https://avatars.githubusercontent.com/u/2521383?u=0313f3baa0f07b4de38b1178b6c7676e806f5fdb&v=4"
  },
  "marketplaces": [
    {
      "name": "wanplugins",
      "version": null,
      "description": "A collection of Claude Code plugins",
      "repo_full_name": "wannabefro/wanplugins",
      "repo_url": "https://github.com/wannabefro/wanplugins",
      "repo_description": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-21T14:17:42Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"wanplugins\",\n  \"owner\": {\n    \"name\": \"Sam McTaggart\"\n  },\n  \"metadata\": {\n    \"description\": \"A collection of Claude Code plugins\",\n    \"version\": \"1.0.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"fantasia\",\n      \"source\": \"./fantasia\",\n      \"description\": \"Codebase-aware development accelerator. Map patterns, plan with understanding, build with parallel agents, review thoroughly.\",\n      \"version\": \"0.1.0\",\n      \"author\": {\n        \"name\": \"Sam McTaggart\"\n      },\n      \"license\": \"MIT\",\n      \"keywords\": [\"codebase\", \"patterns\", \"parallel\", \"agents\", \"development\", \"review\"],\n      \"category\": \"development\"\n    },\n    {\n      \"name\": \"genie\",\n      \"source\": \"./genie\",\n      \"description\": \"Intelligent model router. Analyzes prompts and selects the optimal Claude model (haiku/sonnet/opus) for your task.\",\n      \"version\": \"0.1.0\",\n      \"author\": {\n        \"name\": \"Sam McTaggart\"\n      },\n      \"license\": \"MIT\",\n      \"keywords\": [\"model-selection\", \"routing\", \"optimization\", \"haiku\", \"sonnet\", \"opus\"],\n      \"category\": \"utility\"\n    }\n  ]\n}\n",
        "README.md": "# Wanplugins\n\nA collection of Claude Code plugins.\n\n## Available Plugins\n\n| Plugin | Description |\n|--------|-------------|\n| [fantasia](./fantasia) | Codebase-aware development accelerator. Map patterns, plan with understanding, build with parallel agents, review thoroughly. |\n| [genie](./genie) | Intelligent model router for Claude Code. Analyze a prompt and select the best Claude model. |\n\n## Installation\n\n\n```bash\n/plugin marketplace add wannabefro/wanplugins\n# then pick which plugins to use\n```\n\n## Plugin Structure\n\nEach plugin follows the standard Claude Code plugin format:\n\n```\nplugin-name/\n├── .claude-plugin/\n│   └── plugin.json      # Plugin metadata (name, version, description)\n├── commands/            # Slash commands (/plugin:command)\n├── skills/              # Skills that can be invoked\n├── agents/              # Specialized subagents\n├── hooks/               # Event hooks (PreToolUse, PostToolUse, etc.)\n└── README.md            # Plugin documentation\n```\n\n## Contributing\n\nTo add a new plugin:\n\n1. Create a new directory with your plugin name\n2. Add `.claude-plugin/plugin.json` with metadata\n3. Add your commands, skills, agents, and hooks\n4. Update this README with your plugin in the table\n5. Submit a PR\n\n## License\n\nMIT\n",
        "fantasia/README.md": "# Fantasia\n\nCodebase-aware development accelerator. Like Mickey orchestrating enchanted brooms, Fantasia coordinates parallel agents to map, plan, build, and review your code.\n\n> **Note**: All Fantasia outputs go to `~/.claude/fantasia/<project>/` by default to keep your repos clean. Nothing is checked into git. Override with `FANTASIA_DIR` env var if needed.\n\n## Workflow\n\n```\n/fantasia:setup   → Configure for your repo (first time only)\n        ↓\n/fantasia:ticket  → Start from Linear/Jira ticket (optional entry point)\n        ↓\n/fantasia:map     → Understand codebase patterns & architecture\n        ↓\n/fantasia:plan    → Design with verification before building\n        ↓\n/fantasia:build   → Execute with parallel specialist agents\n        ↓\n/fantasia:review  → Quality check with parallel reviewers\n        ↓\n/fantasia:verify  → Record manual testing results (optional)\n        ↓\n/fantasia:ci      → Check CI status, auto-fix on failure (optional)\n        ↓\n/fantasia:pr      → Address PR feedback (reviews, discussions, CI) (optional)\n\nAlternative workflows:\n/fantasia:refactor <target>              → Safe refactoring with behavior preservation\n/fantasia:fix <issue> [--sentry]         → Bug investigation and fixing (Sentry integration)\n```\n\n**First time?**: `/fantasia:setup` to configure org patterns and project settings\n\n**Quick start**: `/fantasia:ticket PROJ-123` or `/fantasia:map` then `/fantasia:plan <task>`\n\n**Bug fixing**: `/fantasia:fix SENTRY-123` or `/fantasia:fix \"users can't login\" --sentry`\n\n**Fix not working?**: `/fantasia:feedback \"still failing with different error\"`\n\n**Refactoring**: `/fantasia:refactor src/auth/` or `/fantasia:refactor \"UserService class\"`\n\n**YOLO mode**: `/fantasia:yolo PROJ-123 --worktree` — full automated workflow in isolated worktree\n\n## Commands\n\n### `/fantasia:setup [--org]`\nConfigures Fantasia for your organization and project. Uses a hybrid approach: auto-detects repository patterns, then asks targeted questions for anything it couldn't detect.\n\n**Two-tier configuration:**\n- **Organization context** (`~/.claude/fantasia/org-context.md`): Shared patterns, integrations, and coding standards that apply across all your projects\n- **Project config** (`~/.claude/fantasia/<project>/fantasia-config.md`): Project-specific settings and overrides\n\n**What it captures:**\n\n| Category | Examples |\n|----------|----------|\n| **Repository patterns** | Build systems, required commands (test/lint/typecheck/format), pre-commit hooks, environment setup |\n| **Integrations** | Jira domain & project keys, Linear teams, Sentry org, GitHub org |\n| **Coding standards** | Style preferences, architectural patterns, things to avoid |\n\n**Flow:**\n1. Checks if org context exists → if not, offers to create it\n2. Auto-detects repo markers (pants.toml, turbo.json, package.json, etc.)\n3. Matches against org patterns or guides you through setup\n4. Writes configuration files\n\n**Flags:**\n| Flag | Description |\n|------|-------------|\n| `--org` | Edit organization context only (skip project setup) |\n\n**Examples:**\n```bash\n/fantasia:setup                # Full setup (org if needed + project)\n/fantasia:setup --org          # Edit organization context only\n```\n\n**First-time setup** creates both org context and project config.\n**Returning users** skip straight to project setup (org context already exists).\n\n### `/fantasia:ticket <url-or-id> [flags]`\nStarts a workflow from a Linear or Jira ticket:\n- Fetches ticket details (title, description, acceptance criteria)\n- Saves original requirements to `TICKET.md`\n- Transitions into planning phase\n- Tracks acceptance criteria through review\n\n**Flags**:\n| Flag | Description |\n|------|-------------|\n| `--jira` | Explicitly use Jira (for ambiguous IDs) |\n| `--linear` | Explicitly use Linear (for ambiguous IDs) |\n| `--worktree` | Create isolated git worktree for this ticket |\n| `--yolo` | Run full workflow without confirmations |\n\n**Examples**:\n```bash\n/fantasia:ticket PROJ-123 --jira           # Explicitly Jira\n/fantasia:ticket TEAM-456 --linear         # Explicitly Linear\n/fantasia:ticket PROJ-123 --jira --worktree --yolo  # Full combo\n```\n\n**Supported sources**:\n- Linear: `https://linear.app/team/issue/TEAM-123` or `TEAM-123`\n- Jira: `https://yourcompany.atlassian.net/browse/PROJ-456` or `PROJ-456`\n\nOutputs to `~/.claude/fantasia/<project>/plans/<ticket-id>/`:\n- `TICKET.md` - Original ticket content and requirements\n\n### `/fantasia:yolo <task-or-ticket> [flags]`\nRuns the **full workflow without confirmations**:\n1. Setup (+ worktree if flagged)\n2. Map (if not already mapped)\n3. Plan (auto-approved)\n4. Build (all phases)\n5. Review (all agents)\n\nPerfect for when you trust the process and want to go fast.\n\n**Flags**: `--jira`, `--linear`, `--worktree`\n\n```bash\n# From a Jira ticket\n/fantasia:yolo PROJ-123 --jira\n\n# From a Linear ticket with worktree\n/fantasia:yolo TEAM-456 --linear --worktree\n\n# From a task description\n/fantasia:yolo \"add user auth\" --worktree\n```\n\n### `/fantasia:worktree <subcommand>`\nManages git worktrees for isolated feature development:\n\n| Subcommand | Description |\n|------------|-------------|\n| `list` | Show all Fantasia-managed worktrees |\n| `switch <task>` | Switch to a task's worktree |\n| `finish` | Merge current worktree branch and cleanup |\n| `cleanup` | Remove worktrees for merged/deleted branches |\n\nWorktrees are created with `--worktree` flag on `/fantasia:ticket` or `/fantasia:yolo`.\n\n### `/fantasia:map [focus]`\nAnalyzes your codebase with 4 parallel mapper agents:\n- **tech-mapper**: Stack, dependencies, integrations\n- **arch-mapper**: Architecture, structure, patterns\n- **quality-mapper**: Conventions, testing approaches\n- **concerns-mapper**: Technical debt, risks, gaps\n\nOutputs to `~/.claude/fantasia/<project>/codebase/`:\n- `STACK.md` - Technologies and dependencies\n- `INTEGRATIONS.md` - External services and APIs\n- `ARCHITECTURE.md` - System design\n- `STRUCTURE.md` - Code organization\n- `CONVENTIONS.md` - Coding patterns\n- `TESTING.md` - Test strategies\n- `CONCERNS.md` - Issues and risks\n\nOptional focus area: `/fantasia:map auth` for deep-dive on specific areas.\n\n### `/fantasia:plan <task>`\nPlans a feature with thorough understanding:\n1. **Discovery** - Explores relevant code, asks clarifying questions\n2. **Verify** - Confirms sufficient context before designing\n3. **Approach Exploration** - Spawns 3 parallel approach-explorer agents to evaluate:\n   - Simplest possible approach\n   - Most maintainable approach\n   - Minimal changes approach\n4. **Design** - Synthesizes approaches, creates implementation plan\n5. **Readiness** - Presents plan for approval before build\n\nOutputs to `~/.claude/fantasia/<project>/plans/<task-slug>/`:\n- `PLAN.md` - Implementation plan\n- `EXTERNAL-DEPS.md` - Cross-repo dependencies (if any)\n\n### `/fantasia:build [--task <name>]`\nExecutes plan with parallel specialist agents:\n- **architect**: Design, contracts, interfaces\n- **implementer**: Core logic (adapts to stack)\n- **integrator**: APIs, boundaries, connections\n\nUses most recent plan by default, or specify with `--task`.\n\nOn completion, suggests: \"Ready for review? Run /fantasia:review\"\n\n### `/fantasia:review [--task <name>]`\nReviews changes with 3 parallel agents:\n- **code-reviewer**: Quality, patterns compliance\n- **bug-hunter**: Bugs, edge cases, error handling\n- **test-reviewer**: Coverage, test quality\n\nOutputs to `~/.claude/fantasia/<project>/plans/<task>/REVIEW.md` with actionable findings.\n\n### `/fantasia:refactor <target> [--yolo]`\nPlans and executes safe refactoring with behavior preservation:\n1. **Analysis** - Spawns 3 parallel agents (all haiku for speed):\n   - **code-smell-detector**: Identifies specific code smells with severity\n   - **dependency-mapper**: Maps incoming/outgoing dependencies, assesses blast radius\n   - **test-coverage-checker**: Evaluates test coverage, recommends if tests needed first\n2. **Planning** - Synthesizes analysis, creates step-by-step refactoring plan\n3. **Execution** - Makes incremental changes, verifying tests pass after each step\n4. **Verification** - Uses parallel-verifier to run tests/types/lint simultaneously\n5. **Review** - Runs code reviewer to verify quality\n\n**Flags**:\n| Flag | Description |\n|------|-------------|\n| `--yolo` | Execute without confirmations |\n\n**Examples**:\n```bash\n/fantasia:refactor src/services/auth/       # Refactor a directory\n/fantasia:refactor \"UserService class\"      # Refactor by description\n/fantasia:refactor utils.ts --yolo          # Auto-mode\n```\n\nOutputs to `~/.claude/fantasia/<project>/plans/refactor-<slug>/`:\n- `ANALYSIS.md` - Code smell detection, risk assessment\n- `PLAN.md` - Step-by-step refactoring plan\n- `SUMMARY.md` - Results and follow-up recommendations\n\n### `/fantasia:fix <issue> [flags]`\nInvestigates and fixes bugs with optional Sentry integration:\n1. **Gathering** - Fetches Sentry data or captures bug report\n2. **Investigation** - Spawns 3 parallel agents to analyze the bug:\n   - **stack-tracer**: Traces execution path, finds bug origin (requires file:line evidence)\n   - **git-historian**: Finds when code was introduced, detects regressions\n   - **similar-bug-finder**: Searches for related patterns and previous fixes\n3. **Skeptic Review** - Spawns **bug-skeptic** to challenge findings:\n   - Audits evidence quality (are claims backed by specific citations?)\n   - Detects contradictions between investigators\n   - Generates alternative explanations\n   - Recommends verification steps\n4. **Synthesis** - Consolidates findings with contradiction detection and confidence scoring\n5. **Planning** - Designs minimal fix (only if confidence is Medium/High)\n6. **Implementation** - Writes regression test first, then fixes\n7. **Verification** - Uses parallel-verifier to run tests/types/lint simultaneously\n8. **Feedback Loop** - If verification fails, iterates based on observations\n\n**Flags**:\n| Flag | Description |\n|------|-------------|\n| `--sentry` | Explicitly use Sentry (for ambiguous inputs) |\n| `--yolo` | Execute without confirmations |\n\n**Examples**:\n```bash\n/fantasia:fix PROJ-123 --sentry             # Fix from Sentry issue ID\n/fantasia:fix https://sentry.io/...         # Fix from Sentry URL\n/fantasia:fix \"login fails for SSO users\"   # Fix from description\n/fantasia:fix PROJ-123 --sentry --yolo      # Auto-mode\n```\n\n**Sentry Integration**:\n- Fetches error details, stack traces, breadcrumbs\n- Shows frequency and user impact\n- Reminds to mark issue resolved after merge\n\nOutputs to `~/.claude/fantasia/<project>/plans/fix-<slug>/`:\n- `SENTRY.md` - Sentry issue details (if applicable)\n- `BUG-REPORT.md` - Bug report (if manual)\n- `INVESTIGATION.md` - Root cause analysis\n- `PLAN.md` - Fix plan\n- `SUMMARY.md` - Results\n\n### `/fantasia:feedback <observation> [flags]`\nProvides feedback when a fix didn't work, enabling iterative refinement:\n1. **Loads context** - Finds the most recent fix and its state\n2. **Asks clarifying questions** - Understands what you observed\n3. **Decides path** - Re-investigate (root cause wrong) or iterate (fix insufficient)\n4. **Continues workflow** - Loops back to the appropriate phase\n\n**Flags**:\n| Flag | Description |\n|------|-------------|\n| `--reinvestigate` | Force re-investigation (skip decision logic) |\n| `--iterate` | Force iteration on fix (skip decision logic) |\n\n**Examples**:\n```bash\n/fantasia:feedback \"The login still fails but with a 401 instead of 500\"\n/fantasia:feedback \"Works for email login but SSO is still broken\"\n/fantasia:feedback \"I think we're looking at the wrong code\" --reinvestigate\n```\n\n**Soft limit**: After 3 failed attempts, Fantasia warns and offers options:\n- Continue trying\n- Re-map the relevant code area\n- Pause and discuss with a teammate\n\nThis command integrates with `/fantasia:fix` - verification failures can automatically trigger the feedback flow, or you can invoke it manually anytime.\n\n### `/fantasia:status`\nShows current workflow state:\n- Which phase you're in\n- What maps/plans exist\n- What's been completed\n- Suggested next steps\n\n### `/fantasia:resume [--yolo]`\nRestores context from saved checkpoint:\n- Loads `~/.claude/fantasia/<project>/fantasia-state.md`\n- Reads relevant maps and plans\n- Continues from where you left off\n- Suggests next action based on saved state\n\n**Flag**: `--yolo` - Continue in YOLO mode (skip confirmations)\n\n### `/fantasia:checkpoint`\nManually saves current workflow state:\n- Captures phase, progress, and context\n- Writes to `~/.claude/fantasia/<project>/fantasia-state.md`\n- Useful for pausing work mid-session\n\n### `/fantasia:verify [pass|fail] [notes]`\nRecords manual testing results:\n- Tracks what was manually tested and outcome\n- Appends to `MANUAL-VERIFICATION.md` in task directory\n- Updates review status with verification evidence\n\n### `/fantasia:ci [--wait] [--fix-on-fail]`\nChecks CI/CD pipeline status for current branch:\n- Uses `gh` CLI to query GitHub Actions\n- `--wait` - Poll until CI completes (up to 30 min)\n- `--fix-on-fail` - Auto-trigger `/fantasia:fix` if CI fails\n\n**Requires**: GitHub CLI (`gh`) installed and authenticated\n\n### `/fantasia:pr <github-pr-url>`\nAddresses feedback from a GitHub PR — code review comments, discussions, and CI failures:\n1. **Fetches** all feedback from the PR (review comments, discussions, CI status)\n2. **Triages** with priority levels (HIGH/MEDIUM/LOW) using lightweight haiku agent\n3. **Presents** interactive summary — choose all, high-priority only, specific items, or none\n4. **Addresses** feedback adaptively:\n   - Simple fixes (typos, null checks) → handled directly\n   - Complex issues → escalates to specialists (bug-hunter, code-reviewer, approach-explorer)\n5. **Stages** changes for review — you control the commit\n\n**Examples**:\n```bash\n/fantasia:pr https://github.com/owner/repo/pull/123\n```\n\n**Interactive selection**:\n```\nPR #123: \"Add user authentication flow\"\n━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n\n HIGH  [1] @reviewer on auth.ts:45 — \"Add null check\"\n HIGH  [2] CI: jest tests failing\n MED   [3] @reviewer on utils.ts:12 — \"Extract helper\"\n LOW   [4] Discussion — \"Typo in comment\"\n\nAddress: [a]ll, [h]igh only, [1,2,3] specific, [n]one?\n```\n\n**Token efficiency**:\n- Haiku for triage, sonnet for changes\n- Batches feedback by file\n- Loads only relevant codebase maps\n- Truncates CI logs to relevant errors\n- Skips resolved/outdated comments\n\n**Conflict resolution**:\nWhen reviewers disagree, Fantasia picks the approach that aligns with codebase conventions (from CONVENTIONS.md) and documents the reasoning.\n\n**Requires**: GitHub CLI (`gh`) installed and authenticated\n\nOutputs to `~/.claude/fantasia/<project>/pr-feedback/PR-<number>/`:\n- `CONTEXT.md` - PR metadata\n- `TRIAGE.md` - Prioritized feedback list\n- `CHANGES.md` - What was changed and why\n\n## Context Management\n\nFantasia automatically preserves context across sessions and compactions:\n\n### Automatic Checkpoints\nEach main command saves state after completion:\n- `/fantasia:map` → Saves after maps written\n- `/fantasia:plan` → Saves after plan approved\n- `/fantasia:build` → Saves after each phase + completion\n- `/fantasia:review` → Saves after review complete\n\n### State File\nContext stored in `~/.claude/fantasia/<project>/fantasia-state.md`:\n```markdown\n# Fantasia Checkpoint\n\n**Saved**: <timestamp>\n**Phase**: idle | mapping | planning | building | reviewing\n**Plan**: <task-slug>\n\n## Context\n- Maps: available in ~/.claude/fantasia/<project>/codebase/\n- Plan: ~/.claude/fantasia/<project>/plans/<task>/PLAN.md\n- Build: complete | in-progress | not started\n- Review: complete | not started\n\n## Next Step\n<Suggested action>\n```\n\n### Context Recovery\nWhen context is compacted (long sessions), a PreCompact hook:\n1. Reads `~/.claude/fantasia/<project>/fantasia-state.md`\n2. Summarizes map headings from `~/.claude/fantasia/<project>/codebase/`\n3. Injects essential context into the summary\n\nThis ensures you never lose your place in the workflow.\n\n### Recovery Commands\n- Start fresh session → Run `/fantasia:resume`\n- Check where you are → Run `/fantasia:status`\n- Save before leaving → Run `/fantasia:checkpoint`\n\n## Git Worktrees\n\nFantasia supports isolated feature development with git worktrees:\n\n### Why Worktrees?\n- **Isolation**: Each ticket/task gets its own workspace\n- **Parallel work**: Work on multiple tickets without stashing\n- **Clean history**: One branch per feature\n- **Safe experimentation**: Easy to abandon failed attempts\n\n### Worktree Workflow\n```bash\n# Start ticket in worktree\n/fantasia:ticket PROJ-123 --worktree\n# Creates ../fantasia-proj-123/ with feat/proj-123 branch\n\n# Work happens in isolated directory\ncd ../fantasia-proj-123\n/fantasia:build\n/fantasia:review\n\n# When done, merge and cleanup\n/fantasia:worktree finish\n# Merges to main, removes worktree\n```\n\n### Shared Data\nAll Fantasia data is in the home directory, so worktrees automatically share everything:\n```\n~/.claude/fantasia/<project>/\n├── codebase/      ← Shared maps (all worktrees)\n├── plans/         ← Shared plans (all tasks)\n├── fantasia-state.md\n└── worktrees.md   ← Worktree registry\n```\n\nNo symlinks needed - worktrees naturally share the same Fantasia directory.\n\n## YOLO Mode\n\nFor when you want to go from ticket to reviewed code without stopping:\n\n```bash\n/fantasia:yolo PROJ-123 --worktree\n```\n\n### What YOLO Does\n1. **Setup**: Creates worktree (if flagged), fetches ticket\n2. **Map**: Runs mappers if codebase maps don't exist\n3. **Plan**: Auto-discovers and designs without asking questions\n4. **Build**: Executes all phases without confirmation\n5. **Review**: Runs all reviewers and compiles findings\n\n### When to Use YOLO\n- ✅ Well-defined tickets with clear acceptance criteria\n- ✅ Familiar codebase patterns\n- ✅ Time-sensitive work\n- ✅ Exploratory/prototype work\n\n### When NOT to Use YOLO\n- ❌ Complex architectural decisions needed\n- ❌ Ambiguous requirements\n- ❌ First time in a new codebase\n- ❌ Production-critical code\n\n### Error Recovery\nYOLO saves checkpoints at each phase. If it fails:\n```bash\n# Fix the issue, then resume\n/fantasia:resume\n```\n\n## Token Efficiency\n\nFantasia is designed for minimal token usage:\n- Agents write directly to files, return only confirmations\n- Each agent receives only the context they need\n- File-based handoffs between phases\n- Lean orchestration\n\n### Model Selection\n\nAgents use different models based on task complexity:\n\n| Model | Agents | Rationale |\n|-------|--------|-----------|\n| **haiku** | tech-mapper, quality-mapper, test-reviewer, code-smell-detector, dependency-mapper, test-coverage-checker, parallel-verifier, pr-feedback-triager | Fast scanning, pattern matching, straightforward analysis |\n| **sonnet** | arch-mapper, concerns-mapper, implementer, integrator, code-reviewer, bug-hunter, approach-explorer, stack-tracer, git-historian, similar-bug-finder, bug-skeptic, pr-feedback-handler | Code writing, judgment calls, nuanced reasoning |\n| **opus** | architect | Complex design decisions, interface contracts, architectural choices |\n\nThis tiered approach balances cost and quality - using heavyweight models only where reasoning depth matters.\n\n### Custom Configuration\n\nOverride defaults per-project by creating `~/.claude/fantasia/<project>/fantasia-config.md`:\n\n```yaml\n---\nmodels:\n  architect: sonnet      # downgrade from opus\n  tech-mapper: sonnet    # upgrade from haiku\ndefault-model: sonnet    # fallback for unspecified agents\n\nworkflow:\n  auto-review: false     # auto-run review after build\n  map-cache-days: 7      # skip re-mapping if recent\n  default-worktree: false\n---\n\n# Project-specific notes that agents will consider\n```\n\nSee `CONFIG.md` in the plugin directory for full options.\n\n## Prerequisites\n\nEach command checks prerequisites and offers to run them:\n- `build` requires: maps + approved plan\n- `review` requires: recent build\n\n## Output Structure\n\nAll outputs go to `~/.claude/fantasia/<project>/` by default to keep your repo clean:\n\n```\n~/.claude/fantasia/<project>/\n├── fantasia-state.md   # Checkpoint for context recovery\n├── fantasia-config.md  # Optional per-project configuration\n├── worktrees.md        # Registry of active worktrees\n├── codebase/           # From /fantasia:map\n│   ├── STACK.md\n│   ├── INTEGRATIONS.md\n│   ├── ARCHITECTURE.md\n│   ├── STRUCTURE.md\n│   ├── CONVENTIONS.md\n│   ├── TESTING.md\n│   └── CONCERNS.md\n├── plans/              # From /fantasia:plan, /fantasia:ticket, /fantasia:fix, /fantasia:refactor\n│   ├── <task-slug>/\n│   │   ├── TICKET.md       # From /fantasia:ticket (original requirements)\n│   │   ├── PLAN.md\n│   │   ├── EXTERNAL-DEPS.md\n│   │   └── REVIEW.md       # From /fantasia:review\n│   ├── fix-<slug>/         # From /fantasia:fix\n│   │   ├── SENTRY.md       # Sentry issue details (if applicable)\n│   │   ├── BUG-REPORT.md   # Manual bug report (if no Sentry)\n│   │   ├── INVESTIGATION.md\n│   │   ├── PLAN.md\n│   │   └── SUMMARY.md\n│   └── refactor-<slug>/    # From /fantasia:refactor\n│       ├── ANALYSIS.md\n│       ├── PLAN.md\n│       └── SUMMARY.md\n└── pr-feedback/        # From /fantasia:pr\n    └── PR-<number>/\n        ├── CONTEXT.md      # PR metadata\n        ├── TRIAGE.md       # Prioritized feedback list\n        └── CHANGES.md      # What was changed and why\n```\n\nThe project slug is derived from your repo directory name (lowercase, hyphenated).\n\n### Custom Output Location\n\nOverride the default location with the `FANTASIA_DIR` environment variable:\n\n```bash\n# Per-session override\nexport FANTASIA_DIR=/path/to/custom/location\nclaude\n\n# Or inline\nFANTASIA_DIR=.fantasia claude  # Store in repo (if you want to commit)\n```\n\nUse cases:\n- **Team sharing**: Point to a shared location for collaborative mapping\n- **Repo-local storage**: Set `FANTASIA_DIR=.fantasia` to store in the repo\n- **Multiple projects**: Organize outputs differently than the default\n\n",
        "genie/README.md": "# Genie\n\n> *\"You ain't never had a friend like me!\"* - Genie, Aladdin\n\nIntelligent model router for Claude Code. Give Genie your wish (prompt), and it figures out the best Claude model to grant it.\n\n## Features\n\n- **Smart Model Selection**: Analyzes task complexity and selects optimal model\n- **Fast Analysis**: Uses Haiku for quick decisions\n- **Spawnable Agent**: Other plugins can use Genie for model selection\n- **Brief Explanations**: Shows reasoning without being verbose\n\n## Usage\n\n### Command\n\n```\n/genie:wish <your prompt here>\n```\n\nGenie will:\n1. Analyze your prompt\n2. Select the optimal model (haiku/sonnet/opus)\n3. Show brief reasoning: `✨ Sonnet - Code implementation task detected`\n4. Execute your task with the selected model\n\n### Agent\n\nOther plugins can spawn the Genie agent for model selection:\n\n```\nTask(subagent_type=\"genie:genie\", prompt=\"Select model for: <task description>\")\n```\n\n## Model Selection Criteria\n\n| Model | Best For |\n|-------|----------|\n| **Haiku** | Scanning, pattern matching, simple lookups, quick questions |\n| **Sonnet** | Code writing, implementation, nuanced reasoning, investigation |\n| **Opus** | Complex architecture, design decisions, heavy reasoning |\n\n## Part of the Disney Plugin Collection\n\nGenie lives alongside [Fantasia](../fantasia/) in the wanplugins repository.\n"
      },
      "plugins": [
        {
          "name": "fantasia",
          "source": "./fantasia",
          "description": "Codebase-aware development accelerator. Map patterns, plan with understanding, build with parallel agents, review thoroughly.",
          "version": "0.1.0",
          "author": {
            "name": "Sam McTaggart"
          },
          "license": "MIT",
          "keywords": [
            "codebase",
            "patterns",
            "parallel",
            "agents",
            "development",
            "review"
          ],
          "category": "development",
          "categories": [
            "agents",
            "codebase",
            "development",
            "parallel",
            "patterns",
            "review"
          ],
          "install_commands": [
            "/plugin marketplace add wannabefro/wanplugins",
            "/plugin install fantasia@wanplugins"
          ]
        },
        {
          "name": "genie",
          "source": "./genie",
          "description": "Intelligent model router. Analyzes prompts and selects the optimal Claude model (haiku/sonnet/opus) for your task.",
          "version": "0.1.0",
          "author": {
            "name": "Sam McTaggart"
          },
          "license": "MIT",
          "keywords": [
            "model-selection",
            "routing",
            "optimization",
            "haiku",
            "sonnet",
            "opus"
          ],
          "category": "utility",
          "categories": [
            "haiku",
            "model-selection",
            "optimization",
            "opus",
            "routing",
            "sonnet",
            "utility"
          ],
          "install_commands": [
            "/plugin marketplace add wannabefro/wanplugins",
            "/plugin install genie@wanplugins"
          ]
        }
      ]
    }
  ]
}