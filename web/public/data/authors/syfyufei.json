{
  "author": {
    "id": "syfyufei",
    "display_name": "Yufei Sun (Adrian)",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/58319029?u=bf502ce9cc90cb5205c96d7b546f4290552b49f2&v=4",
    "url": "https://github.com/syfyufei",
    "bio": "I am an egalitarian and a comparative political scientist. Currently I am a Ph.D. candidate at Department of Political Science, Tsinghua University.",
    "stats": {
      "total_marketplaces": 2,
      "total_plugins": 6,
      "total_commands": 42,
      "total_skills": 0,
      "total_stars": 3,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "research-memory-marketplace",
      "version": null,
      "description": "Research Memory skill marketplace for Claude Code",
      "owner_info": {
        "name": "Adrian",
        "email": "syfyufei@gmail.com"
      },
      "keywords": [],
      "repo_full_name": "syfyufei/research-memory",
      "repo_url": "https://github.com/syfyufei/research-memory",
      "repo_description": null,
      "homepage": null,
      "signals": {
        "stars": 2,
        "forks": 0,
        "pushed_at": "2025-12-04T02:54:25Z",
        "created_at": "2025-12-03T01:31:13Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 516
        },
        {
          "path": ".claude-plugin/plugin.json",
          "type": "blob",
          "size": 487
        },
        {
          "path": ".claude",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude/commands/bootstrap.md",
          "type": "blob",
          "size": 492
        },
        {
          "path": ".claude/commands/checkpoint.md",
          "type": "blob",
          "size": 1403
        },
        {
          "path": ".claude/commands/focus.md",
          "type": "blob",
          "size": 2897
        },
        {
          "path": ".claude/commands/insights.md",
          "type": "blob",
          "size": 1415
        },
        {
          "path": ".claude/commands/query.md",
          "type": "blob",
          "size": 487
        },
        {
          "path": ".claude/commands/remember.md",
          "type": "blob",
          "size": 592
        },
        {
          "path": ".claude/commands/review.md",
          "type": "blob",
          "size": 1261
        },
        {
          "path": ".claude/commands/status.md",
          "type": "blob",
          "size": 687
        },
        {
          "path": ".claude/commands/summary.md",
          "type": "blob",
          "size": 834
        },
        {
          "path": ".claude/commands/timeline.md",
          "type": "blob",
          "size": 1027
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 17263
        },
        {
          "path": "skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "skills/research-memory.md",
          "type": "blob",
          "size": 10373
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"research-memory-marketplace\",\n  \"description\": \"Research Memory skill marketplace for Claude Code\",\n  \"owner\": {\n    \"name\": \"Adrian\",\n    \"email\": \"syfyufei@gmail.com\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"research-memory\",\n      \"description\": \"Academic research memory management skill for tracking project continuity, decisions, and experiments\",\n      \"version\": \"0.2.0\",\n      \"source\": \"./\",\n      \"author\": {\n        \"name\": \"Adrian\",\n        \"email\": \"syfyufei@gmail.com\"\n      }\n    }\n  ]\n}",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"research-memory\",\n  \"description\": \"Academic research memory management skill for tracking project continuity, decisions, and experiments\",\n  \"version\": \"0.2.0\",\n  \"author\": {\n    \"name\": \"Adrian\",\n    \"email\": \"syfyufei@gmail.com\"\n  },\n  \"homepage\": \"https://github.com/syfyufei/research-memory\",\n  \"repository\": \"https://github.com/syfyufei/research-memory\",\n  \"license\": \"MIT\",\n  \"keywords\": [\"research\", \"memory\", \"academic\", \"logging\", \"context\", \"decision-tracking\"]\n}",
        ".claude/commands/bootstrap.md": "---\ndescription: Restore project context and generate work plan\n---\n\nUse the research-memory skill to bootstrap the project context.\n\nCall the `research_memory_bootstrap` tool to:\n- Load the project overview from `memory/project-overview.md`\n- Show recent development log entries from `memory/devlog.md`\n- List current TODOs from `memory/todos.md`\n- Generate a suggested work plan for today\n\nPresent the information in a clear, organized format and suggest what the user should work on next.\n",
        ".claude/commands/checkpoint.md": "---\ndescription: Create a named checkpoint of current state\n---\n\nUse the research-memory skill to create a checkpoint of the current project state.\n\nAsk the user for a checkpoint name/description if not provided.\n\nA checkpoint captures:\n- Current timestamp\n- Checkpoint name/tag\n- Project state summary\n- Recent work summary\n- Active TODOs at this point\n- Key metrics snapshot\n\nLog the checkpoint to `memory/checkpoints.md` in this format:\n\n```markdown\n## Checkpoint: [NAME] (YYYY-MM-DD HH:MM)\n\n**Purpose**: [User's description]\n\n**Project State**:\n- Phase: [Current phase]\n- Progress: [Brief summary]\n- Open TODOs: X items\n- Recent experiments: Y\n\n**Key Metrics**:\n- Total sessions: N\n- Experiments run: M\n- Decisions made: P\n\n**Notable Context**:\n- [Important note 1]\n- [Important note 2]\n\n---\n```\n\nAfter creating the checkpoint, confirm:\n- Where it was saved\n- How to reference it later\n- Suggest using it as a comparison point\n\nUse cases:\n- Before major changes: `/research-memory:checkpoint \"Before refactor\"`\n- Milestones: `/research-memory:checkpoint \"Paper draft v1 complete\"`\n- Experiments: `/research-memory:checkpoint \"Baseline model finalized\"`\n- Reviews: `/research-memory:checkpoint \"End of sprint 3\"`\n\nSupport optional arguments:\n- `--tag milestone` : Mark as a milestone checkpoint\n- `--tag experiment` : Mark as an experiment checkpoint\n- `--tag backup` : Mark as a safety backup point\n",
        ".claude/commands/focus.md": "---\ndescription: Get focused daily work plan\n---\n\nUse the research-memory skill to generate a focused daily work plan.\n\nRead from memory files and analyze:\n- Open TODOs from `memory/todos.md`\n- Recent work context from `memory/devlog.md`\n- Current project phase and blockers\n- Dependencies between tasks\n\nGenerate a focused daily plan with:\n\n## â˜€ï¸ Today's Focus ([DATE])\n\n### âš¡ Top Priority (2-3 hours)\n[Single most important task today]\n- **Task**: [Description]\n- **Why now**: [Urgency/blocking reason]\n- **Blocks**: [What depends on this]\n- **Context**: [Relevant background from recent work]\n- **Success criteria**: [How to know it's done]\n\n### ğŸ“Œ Secondary Tasks (1-2 hours each)\n[2-3 important but not urgent tasks]\n- **Task 1**: [Description]\n  â†’ Est: X hours | Impact: High/Medium\n\n- **Task 2**: [Description]\n  â†’ Est: X hours | Impact: High/Medium\n\n### ğŸ¯ Stretch Goals (if time permits)\n[1-2 nice-to-have tasks for extra time]\n- [Task that can be done if ahead of schedule]\n- [Quick win or preparation for tomorrow]\n\n### â° Time Budget Check\n- Top Priority: 2-3 hours\n- Secondary Tasks: 2-4 hours\n- Stretch Goals: 1-2 hours\n- **Total: 5-9 hours**\n\n### ğŸ’¡ Focus Recommendation\n[Specific advice on how to approach today's work]\n- Recommended order: [Task sequence]\n- Deep work needed: [Which tasks need focus]\n- Quick wins: [Tasks that can be done quickly]\n- Blockers to resolve: [What's in the way]\n\n### ğŸš« Not Today\n[Tasks that are important but should wait]\n- [Task]: Wait until [dependency] is resolved\n- [Task]: Schedule for [later time]\n\n---\n\n## Selection Criteria\n\nWhen selecting tasks, prioritize based on:\n1. **Blockers**: Tasks that are blocking other work\n2. **Urgency**: Deadlines or time-sensitive items\n3. **Dependencies**: Prerequisites for planned work\n4. **Energy level**: Match task difficulty to typical daily energy curve\n5. **Momentum**: Build on recent progress\n\n## Time Management\n\nSupport optional arguments:\n- `--hours N` : Plan for N hours of work (default: 6-8)\n- `--energy high|normal|low` : Adjust for energy level\n- `--mode deep|varied|quick` : Focus style preference\n\nExamples:\n```bash\n/research-memory:focus\n/research-memory:focus --hours 4\n/research-memory:focus --energy low --mode quick\n```\n\n## Focus Tips\n\nInclude practical advice:\n- **Deep work blocks**: Suggest 90-120 min focused sessions\n- **Break strategy**: Recommend when to take breaks\n- **Context switching**: Minimize by grouping similar tasks\n- **Energy management**: Hard tasks when fresh, routine tasks when tired\n\n## Integration with Other Commands\n\nSuggest complementary commands:\n- \"Run `/research-memory:status` to see current state\"\n- \"Use `/research-memory:remember` at end of day to log progress\"\n- \"Check `/research-memory:insights` if feeling stuck\"\n\nBe specific, actionable, and realistic. Help the user make actual progress today, not just plan theoretically.\n",
        ".claude/commands/insights.md": "---\ndescription: Get AI-powered insights and suggestions\n---\n\nUse the research-memory skill to analyze the project and provide intelligent insights.\n\nRead all memory files and analyze patterns, gaps, and opportunities.\n\nProvide insights in these categories:\n\n## ğŸ” Pattern Analysis\n- **Work patterns**: When are you most productive?\n- **Research phases**: Which phase takes longest?\n- **Decision velocity**: How quickly do decisions get made?\n- **Iteration speed**: Time between experiments\n\n## âš ï¸ Potential Issues\n- **Forgotten TODOs**: Items open for >30 days\n- **Stale decisions**: Decisions that may need revisiting\n- **Repeated experiments**: Similar experiments with different results\n- **Documentation gaps**: Missing context or rationale\n\n## ğŸ’¡ Suggestions\n- **Next steps**: Based on current progress and patterns\n- **Quick wins**: Easy tasks that could be completed soon\n- **Research directions**: Promising areas to explore\n- **Efficiency tips**: Ways to speed up common tasks\n\n## ğŸ“Š Project Health Metrics\n- **Momentum**: Are things progressing well?\n- **Clarity**: Are goals and next steps clear?\n- **Documentation**: Is the project well-documented?\n- **Risk factors**: What could slow down progress?\n\n## ğŸ¯ Recommendations\n- [Prioritized list of 3-5 actionable recommendations]\n\nBe constructive and specific. Focus on actionable insights that can immediately improve the research workflow.\n",
        ".claude/commands/query.md": "---\ndescription: Query research memory history\n---\n\nUse the research-memory skill to search through project history.\n\nAsk the user what they want to search for if not specified.\n\nCall the `research_memory_query_history` tool with the search query to find relevant information from:\n- Development logs (`memory/devlog.md`)\n- Decision records (`memory/decisions.md`)\n- Experiment data (`memory/experiments.csv`)\n\nPresent the search results with context, timestamps, and relevant excerpts.\n",
        ".claude/commands/remember.md": "---\ndescription: Remember current work session\n---\n\nUse the research-memory skill to remember the current work session.\n\nAnalyze the conversation history and extract:\n- Session goal and main objective\n- Summary of changes made\n- Experiments conducted (hypothesis, dataset, model, metrics, notes)\n- Key decisions made (decision, rationale, alternatives considered)\n- New TODOs and completed items\n- Research phases (data_preprocess, modeling, robustness, etc.)\n\nThen call the `research_memory_log_session` tool with the structured information.\n\nConfirm what was logged and where it was saved.\n",
        ".claude/commands/review.md": "---\ndescription: Review work in a specific time period\n---\n\nUse the research-memory skill to review work done in a specific time period.\n\nAsk the user for the time period if not specified in the command arguments.\n\nRead from memory files and extract all activities within the specified period:\n- Development log entries\n- Experiments conducted\n- Decisions made\n- TODOs created and completed\n\nPresent as a structured review:\n\n## Period Review: [START_DATE] to [END_DATE]\n\n### Summary\n- Total sessions: X\n- Experiments completed: Y\n- Decisions made: Z\n- TODOs completed: N of M\n\n### Detailed Activities\n\n#### Week of [DATE]\n- [Activity 1 with context]\n- [Activity 2 with context]\n\n#### Week of [DATE]\n- [Activity 1 with context]\n- [Activity 2 with context]\n\n### Key Achievements\n- [Notable accomplishment 1]\n- [Notable accomplishment 2]\n\n### Challenges & Blockers\n- [Issue 1 and how it was resolved]\n- [Issue 2 and current status]\n\n### Productivity Insights\n- Most productive days: [DAYS]\n- Primary focus area: [PHASE]\n- Velocity: X activities per week\n\nSupport arguments:\n- `--last-week` : Review last 7 days\n- `--last-month` : Review last 30 days\n- `--from YYYY-MM-DD --to YYYY-MM-DD` : Custom range\n- `--format report|weekly|monthly` : Different report styles\n",
        ".claude/commands/status.md": "---\ndescription: Quick project status overview\n---\n\nUse the research-memory skill to show a quick project status overview.\n\nCall the `research_memory_bootstrap` tool and present a concise summary including:\n- **Project name and main objective**\n- **Last updated**: When was the last session logged\n- **Recent progress**: Brief 1-2 line summary of latest work\n- **Current phase**: Which research phase (data_preprocess, modeling, robustness, etc.)\n- **Active TODOs**: Number of open vs completed items\n- **Quick stats**:\n  - Total sessions logged\n  - Total experiments conducted\n  - Total decisions recorded\n\nPresent this in a compact, dashboard-style format that can be quickly scanned.\n",
        ".claude/commands/summary.md": "---\ndescription: Generate comprehensive project summary\n---\n\nUse the research-memory skill to generate a comprehensive project summary.\n\nRead from memory files and create a structured summary:\n\n## Project Overview\n- Research questions and hypotheses\n- Dataset information\n- Timeline (start date to present)\n\n## Key Findings\n- Summarize all successful experiments\n- Highlight significant results with metrics\n- Key insights discovered\n\n## Important Decisions\n- List major decisions made\n- Rationale for each decision\n- Impact on project direction\n\n## Progress Summary\n- What phases are complete\n- What's currently in progress\n- What's planned next\n\n## Open Questions / TODOs\n- Outstanding issues\n- Next steps\n\nFormat this as a polished report suitable for:\n- Team updates\n- Advisor meetings\n- Research documentation\n- Progress reports\n",
        ".claude/commands/timeline.md": "---\ndescription: Visualize project timeline\n---\n\nUse the research-memory skill to create a visual project timeline.\n\nRead `memory/devlog.md`, `memory/experiments.csv`, and `memory/decisions.md` to extract:\n- All dated entries\n- Experiments with timestamps\n- Decision points\n\nPresent as a chronological timeline:\n\n```\n2025-11-15 | [DATA] Data cleaning completed - removed 150 outliers\n2025-11-18 | [MODEL] Baseline model RÂ²=0.72\n2025-11-20 | [DECISION] Chose log transformation over Box-Cox\n2025-11-22 | [ROBUST] Heteroscedasticity test passed\n2025-11-25 | [EXPERIMENT] Added control variables, RÂ²â†’0.78\n2025-12-01 | [WRITING] Started draft of results section\n```\n\nUse emoji indicators for different activities:\n- ğŸ“Š Data processing\n- ğŸ”¬ Experiments\n- ğŸ¤” Decisions\n- âœ… Completed milestones\n- ğŸ“ Writing\n\nSupport optional arguments:\n- `--last 7d` : Show last 7 days\n- `--last 30d` : Show last 30 days\n- `--from YYYY-MM-DD --to YYYY-MM-DD` : Custom date range\n\nIf no arguments provided, show last 14 days by default.\n",
        "README.md": "[**English**](README.md) | [æ—¥æœ¬èª](README.ja.md) | [ç®€ä½“ä¸­æ–‡](README.zh.md)\n\n<p align=\"center\">\n  <img src=\"https://maas-log-prod.cn-wlcb.ufileos.com/anthropic/c40838a3-d7bd-48b7-aa5c-ffc7e375eafa/361cbdc75b756c1a65f45153a2b60a0a.png?UCloudPublicKey=TOKEN_e15ba47a-d098-4fbd-9afc-a0dcf0e4e621&Expires=1764755166&Signature=j3dFWqiM%2BLqbBUWEMIR5C0jipSk%3D\" alt=\"Research Memory Banner\" width=\"100%\"/>\n</p>\n\nWe all know how academic research really works:\n\n1. **Your research cycles will inevitably stretch far beyond your initial timeline.**\n2. **You'll inevitably have more repositories open simultaneously than you intended.**\n3. **When you return to a project, you'll inevitably have forgotten where you left off.**\n\nIf you're a developer who works with AI assistants, this scenario probably feels all too familiar:\n\n> You open a repository that's been sitting untouched for three months,\n> Scroll through `git log` from top to bottom,\n> All your notebooks, scripts, and paper drafts are still there,\n> But only one question echoes in your mind:\n> **\"Where exactly did I leave things last time?\"**\n\nHere's what makes it even more frustrating:\n**You've forgotten, and so has your LLM assistant.**\nStarting a fresh conversation, the LLM only has access to \"the current few screens of context\",\nyet has absolutely no understanding of all the struggles, detours, and breakthroughs you've navigated through over the past few months.\n\n`research-memory` is designed to create a **truly \"long-term\" project-level memory layer** during your development process:\n\n- It doesn't try to be a general-purpose RAG system or help you memorize literature;\n- It faithfully records what you and your AI assistant accomplish in this project:\n  **what you did, how you did it, why you chose that approach, and what comes next**.\n\nIn other words:\n\n> Empower \"future you + your current AI assistant\"\n> to seamlessly continue where \"past you\" left off,\n> rather than starting from scratch with a blank conversation every single time.\n\n\n## Quick Overview (TL;DR)\n\n`research-memory` is a Claude Code Skill / Python tool specifically designed for academic research projects, providing three essential capabilities:\n\n1. **Session Bootstrap: `research_memory_bootstrap`**\n   - Pulls from your `memory/` directory:\n     - Project overview (research questions, hypotheses, data sources...)\n     - Recent N devlog entries\n     - Current TODO list\n   - Automatically generates \"recent progress + suggested work plan\"\n\n2. **Session Logging: `research_memory_log_session`**\n   - Structured recording of research work into:\n     - `devlog.md`: Organized by research phases (DGP / data_preprocess / data_analyse / modeling / robustness / writing / infra / notes)\n     - `experiments.csv`: One line per experiment (hypothesis/dataset/model/metrics/notes...)\n     - `decisions.md`: Key decisions and their rationale/alternatives\n     - `todos.md`: Add new items while marking completed ones as `[x]`\n\n3. **History Query: `research_memory_query_history`**\n   - Search using keywords + simple filters (date / phase / type) across:\n     - `devlog.md`\n     - `decisions.md`\n     - `experiments.csv`\n   - Returns summaries + key snippets.\n\n**Everything runs on local text files (Markdown + CSV), plays nicely with Git, is manually editable, and has zero external service dependencies.**\n\n---\n\n## Architecture Overview\n\nOverall structure:\n\n```text\nresearch-memory/\nâ”œâ”€â”€ handlers.py        # Skill's Python implementation & CLI entry point\nâ”œâ”€â”€ SKILL.md           # Claude Code Skill description (tool definitions)\nâ”œâ”€â”€ config/\nâ”‚   â””â”€â”€ config.json    # Skill behavior configuration\nâ”œâ”€â”€ .claude/\nâ”‚   â”œâ”€â”€ CLAUDE.md      # Project-level instructions, telling Claude when to use this skill\nâ”‚   â””â”€â”€ settings.local.json  # Claude Code local settings example\nâ””â”€â”€ memory/            # Actual \"project memory layer\" (auto-creatable)\n    â”œâ”€â”€ project-overview.md  # Long-term project information\n    â”œâ”€â”€ devlog.md            # Development/analysis log (by session + phase)\n    â”œâ”€â”€ decisions.md         # Key decision records\n    â”œâ”€â”€ experiments.csv      # Experiment table (structured)\n    â””â”€â”€ todos.md             # TODO / open questions\n```\n\nCore components:\n\n* **Skill Layer**\n\n  * `SKILL.md` defines three tools:\n\n    * `research_memory_bootstrap`\n    * `research_memory_log_session`\n    * `research_memory_query_history`\n  * Called by Claude Code to corresponding functions in `handlers.py`.\n\n* **Backend Layer**\n\n  * `MemoryBackend` encapsulates all file I/O, configuration loading, and TODO processing logic:\n\n    * Currently local Markdown + CSV;\n    * Can be replaced with SQLite / vector database / MCP server in the future without changing the outer interface.\n\n---\n\n## Installation\n\nIn Claude Code, register the marketplace first:\n\n```bash\n/plugin marketplace add syfyufei/research-memory\n```\n\nThen install the plugin from this marketplace:\n\n```bash\n/plugin install research-memory@research-memory-marketplace\n```\n\n### Verify Installation\n\nCheck that commands appear:\n\n```bash\n/help\n```\n\n```\n# Should see 10 commands:\n# /research-memory:bootstrap - Restore project context and generate work plan\n# /research-memory:status - Quick project status overview\n# /research-memory:focus - Get focused daily work plan\n# /research-memory:remember - Remember current work session\n# /research-memory:query - Query research memory history\n# /research-memory:timeline - Visualize project timeline\n# /research-memory:summary - Generate comprehensive project summary\n# /research-memory:review - Review work in a specific time period\n# /research-memory:insights - Get AI-powered insights and suggestions\n# /research-memory:checkpoint - Create a named checkpoint of current state\n```\n\n### Quick Start\n\nResearch Memory can be used in two ways:\n\n**Option 1: Slash Commands**\n\nCore commands:\n```bash\n/research-memory:bootstrap    # Restore project context\n/research-memory:status       # Quick status overview\n/research-memory:focus        # Get today's focused work plan\n/research-memory:remember     # Remember current session\n/research-memory:query        # Search history\n```\n\nAnalysis & reporting:\n```bash\n/research-memory:timeline     # Show project timeline\n/research-memory:summary      # Generate full project summary\n/research-memory:review       # Review specific time period\n/research-memory:insights     # Get AI insights\n/research-memory:checkpoint   # Create state checkpoint\n```\n\n**Option 2: Natural Language**\n\n```\n\"Research Memory, help me get back up to speed with my project\"\n\"Show me a quick status of the project\"\n\"What should I focus on today?\"\n\"Remember this work session\"\n\"Search for our decisions about spatial lag models\"\n\"Generate a project summary for my weekly meeting\"\n```\n\nResearch Memory will automatically create the necessary `memory/` directory and files on first use.\n\n### Uninstallation\n\n**If installed via marketplace**:\n\n```bash\nclaude plugin uninstall research-memory\n```\n\n**If installed manually**:\n\n```bash\n# Remove the skill files from your project\nrm -f handlers.py config/config.json .claude/CLAUDE.md SKILL.md\nrm -rf config/ .claude/ memory/\n```\n\n---\n\n## Configuration: `config/config.json`\n\nAll behavior is controlled by one JSON configuration file, default configuration looks like this (excerpt):\n\n```jsonc\n{\n  \"memory_directory\": \"memory\",\n  \"encoding\": \"utf-8\",\n  \"csv_delimiter\": \",\",\n  \"timestamp_format\": \"ISO8601\",\n\n  \"bootstrap\": {\n    \"recent_entries_count\": 5,\n    \"include_todos\": true,\n    \"suggest_work_plan\": true\n  },\n\n  \"logging\": {\n    \"auto_timestamp\": true,\n    \"phase_sections\": [\n      \"DGP\",\n      \"data_preprocess\",\n      \"data_analyse\",\n      \"modeling\",\n      \"robustness\",\n      \"writing\",\n      \"infra\",\n      \"notes\"\n    ],\n    \"experiment_schema\": [\n      \"hypothesis\",\n      \"dataset\",\n      \"model\",\n      \"metrics\",\n      \"notes\"\n    ]\n  },\n\n  \"search\": {\n    \"max_results\": 10,\n    \"include_context\": true,\n    \"context_lines\": 3\n  }\n}\n```\n\nKey field descriptions:\n\n* `memory_directory`: Memory file directory (relative to project root);\n\n* `encoding`: File encoding (default `utf-8`, can also be changed to `gbk`, etc.);\n\n* `timestamp_format`:\n\n  * `\"ISO8601\"` â†’ e.g., `2025-12-03T19:30:00+09:00`\n  * `\"YYYY-MM-DD_HH-MM-SS\"` â†’ suitable for filenames / human reading\n  * `\"timestamp\"` â†’ Unix timestamp (seconds);\n\n* `bootstrap.recent_entries_count`: How many recent devlog entries to show on startup;\n\n* `logging.phase_sections`: Supported research phase tags;\n\n* `logging.experiment_schema`: Required fields in `experiments.csv`;\n\n* `search.*`: Number of results returned on query and whether to include context.\n\nYou can modify `config.json` as needed, all configuration items are effective in `MemoryBackend`.\n\n---\n\n## Using with Claude Code\n\n### Typical Usage Patterns\n\n**1. Starting your day: Getting back up to speed**\n\n> \"Hey, help me get back up to speed with my research using research-memory, and suggest a plan for today.\"\n\nHere's what happens:\n\n* Calls `research_memory_bootstrap`:\n\n  * Reads `project-overview.md` (if it exists);\n  * Extracts recent N devlog entries (with timestamps + phase info);\n  * Summarizes current incomplete TODOs;\n  * Generates a \"today's work suggestion plan\".\n\n---\n\n**2. Completing a work session: Logging your progress**\n\n> \"Help me organize this work session into a research log, broken down by DGP / data_analyse / modeling phases, and save it to research-memory.\"\n\nClaude will:\n\n1. Based on current conversation content and what you just did, construct a payload, for example:\n\n   ```jsonc\n   {\n     \"session_goal\": \"Run spatial DiD on MCIB_v1.3 to verify H2\",\n     \"changes_summary\": [\n       \"Updated 01_clean_mcib.R, added treat_window_180 variable\",\n       \"Filtered municipalities with sample count < 100\"\n     ],\n     \"phases\": {\n       \"DGP\": \"Assume treatment effects gradually appear within 0-180 days, use distance threshold 50km to construct weight matrix.\",\n       \"data_analyse\": \"Plot baseline period cognitive mean comparison for treatment/control groups, no obvious pre-trend crossover observed.\",\n       \"modeling\": \"Estimate two specifications: TWFE + cluster by municipality; extended specification with provincial time trends.\",\n       \"robustness\": \"Simple placebo: shift treatment time by 1 year overall, results not significant.\"\n     },\n     \"experiments\": [\n       {\n         \"hypothesis\": \"H2\",\n         \"dataset\": \"MCIB_v1.3\",\n         \"model\": \"Spatial DiD with 50km binary contiguity W\",\n         \"metrics\": {\n           \"ATT\": 0.153,\n           \"p_value\": 0.021\n         },\n         \"notes\": \"Results sensitive to window setting, need further robustness checks.\"\n       }\n     ],\n     \"decisions\": [\n       {\n         \"title\": \"Tentatively adopt Model B as main specification\",\n         \"rationale\": \"Pre-trend smoother after adding provincial time trends, coefficients more stable.\",\n         \"alternatives\": [\n           \"Continue using simple TWFE as main specification\",\n           \"Try event-study form\"\n         ]\n       }\n     ],\n     \"todos\": [\n       \"Add k-nearest neighbors based spatial weight matrix comparison\",\n       \"Systematically organize placebo/alternative spec results into paper.qmd\"\n     ],\n     \"completed_todos\": [\n       \"Add spatial weight matrix construction explanation in Methods section\"\n     ]\n   }\n   ```\n\n2. Call `research_memory_log_session(payload)`, automatically:\n\n   * Append a timestamped session record to `devlog.md`;\n   * Insert a complete experiment information row to `experiments.csv`;\n   * Write decision block to `decisions.md`;\n   * Add new TODOs to `todos.md`, and mark items in `completed_todos` as completed.\n\nAfter that, you just need to naturally describe \"what you just did\", and the Skill will help you turn it into structured memory that can be long-term retrieved.\n\n---\n\n**3. Looking back: Reviewing past decisions and experiments**\n\n> \"Why did we abandon spatial lag models before?\"\n> \"Show me all experiments we ran for H2.\"\n> \"Look up changes related to hksarg_parser.R.\"\n\nClaude will call:\n\n```python\nquery_history(query, filters=None)\n```\n\nThe Skill will:\n\n* Perform keyword matching across `devlog.md` / `decisions.md` / `experiments.csv`;\n* Return up to `search.max_results` matches per your configuration;\n* Attach necessary context (a few lines before and after);\n* Generate a brief summary, telling you:\n\n  * What decisions were made at that time;\n  * Which experiments were conducted;\n  * Which alternative approaches/specifications were abandoned.\n\n---\n\n## Command Line Usage (Optional)\n\nBesides calling through Claude Code, you can also directly operate `handlers.py` from the command lineâ€”suitable for when you temporarily don't have Claude open, or want to use scripts for batch processing.\n\n### 1. Bootstrap\n\n```bash\npython handlers.py bootstrap\n```\n\nOutput a JSON, including:\n\n* `project_context`\n* `recent_progress`\n* `current_todos`\n* `work_plan_suggestions`\n* `timestamp`\n\n### 2. Record Session\n\n```bash\npython handlers.py log-session \\\n  --payload-json '{\n    \"session_goal\": \"Test CLI logging\",\n    \"changes_summary\": [\"Update README examples\"],\n    \"phases\": {\"notes\": \"First time using research-memory from command line\"},\n    \"todos\": [\"Reference this tool in paper.qmd\"]\n  }'\n```\n\n### 3. Query History\n\n```bash\n# Simplest: search by keywords\npython handlers.py query --question \"spatial lag model\"\n\n# With filters: time + phase + type\npython handlers.py query \\\n  --question \"H2\" \\\n  --from-date 2025-01-01 \\\n  --to-date 2025-12-31 \\\n  --phase modeling \\\n  --type experiments \\\n  --limit 5\n```\n\nCLI will output JSON, convenient for you to continue using in other scripts.\n\n---\n\n## File Format Examples\n\n### `memory/devlog.md`\n\n```markdown\n# Development Log\n\n## 2025-12-03 10:15\n\n**Session Goal**: Run spatial DiD on MCIB_v1.3 to verify H2\n\n**Changes Summary**:\n- Updated 01_clean_mcib.R, added treat_window_180 variable\n- Filtered out municipalities with sample count < 100\n\n### DGP\nAssume treatment effects gradually appear within 0-180 days, use 50km threshold to construct binary spatial weight matrix and row standardize.\n\n### data_analyse\nPlot baseline period cognitive mean comparison for treatment vs control groups, no obvious pre-trend crossover observed.\n\n### modeling\nEstimate two specifications: Model A (TWFE), Model B (TWFE + provincial time trends), H2 coefficients consistent in both directions.\n\n### robustness\nDid simple placebo test (shift treatment time by one year overall), effect not significant.\n\n### notes\nNeed to further try event-study and different spatial weight matrices.\n\n---\n\n```\n\n### `memory/experiments.csv` (header example)\n\n```csv\ntimestamp,experiment_id,hypothesis,dataset,model,metrics,notes,research_phase\n2025-12-03T10:15:00+09:00,exp_20251203_101500,H2,MCIB_v1.3,\"Spatial DiD, W=50km\",{\"ATT\":0.153,\"p_value\":0.021},\"placebo results unstable\",\"DGP,data_analyse,modeling,robustness\"\n```\n\n### `memory/todos.md`\n\n```markdown\n# Project TODOs\n\n- [ ] Add k-nearest neighbors based spatial weight matrix comparison\n- [x] Add spatial weight matrix construction explanation in Methods section (completed: 2025-12-03 - via log_session)\n```\n\n### `memory/decisions.md`\n\n```markdown\n# Key Decisions\n\n## 2025-12-03 10:20 â€” Tentatively adopt Model B as main specification\n\n**Decision**\nUse TWFE with provincial time trends as main specification.\n\n**Rationale**\nPre-trend smoother, estimation results more stable across different subsamples.\n\n**Alternatives**\n- Keep simple TWFE as main specification\n- Switch to event-study + group-specific trends\n```\n\n---\n\n## Design Principles\n\n* **Local-first**: Everything is local text files, Git-manageable, manually editable;\n* **Skill-first**: Claude Code calls through skill tools, you don't need to care about specific file paths;\n* **Extensible**: Through `MemoryBackend` abstraction layer, can seamlessly switch to database / MCP / remote services in the future;\n* **Semantically aligned with research workflow**:\n\n  * DGP / data_preprocess / data_analyse / modeling / robustness / writing / infra / notes\n  * Instead of just writing a few lines like \"changed some code today\".\n\n---\n\n## Roadmap\n\nCurrent version is **v0.x (file backend version)**, future considerations include:\n\n* Support SQLite / DuckDB as backend (stronger query capabilities, support aggregation analysis);\n* Add vector retrieval, provide fuzzy matching for long devlogs;\n* MCP / HTTP service mode, can be shared by multiple projects / Agents;\n* Locking and merge strategies for multi-user collaboration scenarios.\n\n---\n\n## License & Author\n\n* **License**: MIT\n* **Author**: Yufei Sun (Adrian) `<syfyufei@gmail.com>`\n* **Repo**: [https://github.com/syfyufei/research-memory](https://github.com/syfyufei/research-memory)\n\n---\n\nIf you frequently juggle multiple large projects\nand dread spending half a day each time \"remembering what yesterday's you was thinking\",\ntry installing `research-memory` into your research repositoriesâ€”\nlet Claude Code become a partner that **truly remembers your entire project history**,\ninstead of just a chat interface that only remembers the current conversation.\n\n```\n::contentReference[oaicite:0]{index=0}\n```",
        "skills/research-memory.md": "---\nname: research-memory\ndescription: Academic research memory management skill for tracking project continuity, decisions, and experiments across sessions\n---\n\n# Research Memory Skill\n\nAn academic research project memory management skill that helps maintain context across different sessions, enabling researchers to quickly resume work and track progress through complex research workflows.\n\n## Overview\n\nThe `research-memory` skill provides three core capabilities for academic research projects:\n\n1. **Context Bootstrap** - Quickly restore project state and recent progress\n2. **Session Logging** - Document research activities with structured phase segmentation\n3. **Historical Query** - Search past decisions, experiments, and insights\n\n## When to Use\n\n### Starting a Research Session\nTrigger when you want to resume work on a project:\n- \"æˆ‘ä¸Šæ¬¡åšåˆ°å“ªå„¿äº†ï¼Ÿ\"\n- \"å¸®æˆ‘æ¢å¤ä¸€ä¸‹é¡¹ç›®çŠ¶æ€\"\n- \"ç”¨ research-memory æ€»ç»“ä¸€ä¸‹æœ€è¿‘çš„è¿›å±•\"\n- \"ä»Šå¤©åº”è¯¥åšä»€ä¹ˆï¼Ÿ\"\n\n### Documenting Progress\nTrigger when you want to record research activities:\n- \"å¸®æˆ‘è®°å½•ä»Šå¤©çš„å·¥ä½œ\"\n- \"è®°ä¸€æ¡ research log\"\n- \"æŠŠè¿™ä¸ªå®éªŒç»“æœè®°åˆ° research-memory é‡Œ\"\n- \"ç”¨ research-memory æ€»ç»“è¿™ä¸ª session\"\n\n### Querying History\nTrigger when you need to find past information:\n- \"æˆ‘ä»¬ä¹‹å‰ä¸ºä»€ä¹ˆæ”¾å¼ƒè¿‡è¿™ä¸ªæ–¹æ¡ˆï¼Ÿ\"\n- \"H2 ç›¸å…³çš„å®éªŒæœ‰å“ªäº›ï¼Ÿ\"\n- \"å…³äºæ•°æ®å¤„ç†çš„å†³å®šæœ‰å“ªäº›è®°å½•ï¼Ÿ\"\n- \"æŸ¥ä¸€ä¸‹ä¹‹å‰å…³äºå˜é‡æ„é€ çš„è®¨è®º\"\n\n## Tools\n\n### research_memory_bootstrap\n\n**Purpose**: Restore project context and generate work plan suggestions\n\n**Behavior**:\n- Reads `memory/project-overview.md` for project context\n- Extracts recent N entries from `memory/devlog.md` (configurable, default: 5)\n- Gathers open TODOs from `memory/todos.md`\n- Generates structured summary and suggested work plan\n\n**Example Usage**:\n```\nUser: \"å¸®æˆ‘ç”¨ research-memory æ¢å¤ä¸€ä¸‹ä¸Šæ¬¡åšåˆ°å“ªä¸€æ­¥ï¼Œå¹¶ç»™ä¸€ä¸ªä»Šå¤©çš„ planã€‚\"\nClaude: [Calls research_memory_bootstrap]\nReturns: Recent progress summary + Current TODOs + Suggested work plan\n```\n\n### research_memory_log_session\n\n**Purpose**: Document research session with structured phase segmentation\n\n**Input Structure**:\n```python\n{\n    \"session_goal\": \"Main objective of this session\",\n    \"changes_summary\": \"Summary of changes made\",\n    \"experiments\": [\n        {\n            \"hypothesis\": \"H1: X affects Y\",\n            \"dataset\": \"sample_data_v2\",\n            \"model\": \"OLS regression\",\n            \"metrics\": {\"r_squared\": 0.75, \"p_value\": 0.02},\n            \"notes\": \"Unexpected heteroscedasticity observed\"\n        }\n    ],\n    \"decisions\": [\n        {\n            \"decision\": \"Switched from linear to log transformation\",\n            \"rationale\": \"Better normality of residuals\",\n            \"alternatives_considered\": [\"Box-Cox transformation\", \"Non-parametric methods\"]\n        }\n    ],\n    \"todos\": [\"Test robustness with alternative specifications\", \"Add control variables\"],\n    \"phases\": {\n        \"data_preprocess\": \"Applied log transformation to dependent variable\",\n        \"modeling\": \"Estimated OLS with robust standard errors\",\n        \"robustness\": \"Tested with alternative functional forms\",\n        \"notes\": \"Consider interaction terms for next iteration\"\n    }\n}\n```\n\n**Behavior**:\n- Appends timestamped entry to `memory/devlog.md` with phase segmentation\n- Updates `memory/experiments.csv` with structured experiment records\n- Records significant decisions in `memory/decisions.md`\n- Updates `memory/todos.md` with new items and completion status\n- Updates `memory/project-overview.md` for new long-term information\n\n**Example Usage**:\n```\nUser: \"è¿™ä¸€æ®µå·¥ä½œå¸®æˆ‘æ•´ç†æˆä¸€æ¡ research-memory è®°å½•ã€‚\"\nClaude: [Analyzes conversation, extracts structured information, calls research_memory_log_session]\n```\n\n### research_memory_query_history\n\n**Purpose**: Search and retrieve relevant historical information\n\n**Behavior**:\n- Performs keyword search across `memory/devlog.md`, `memory/decisions.md`, and `memory/experiments.csv`\n- Filters results by research phase, date range, or content type if specified\n- Provides concise summary with relevant excerpts\n- Includes timestamps and context for each match\n\n**Example Usage**:\n```\nUser: \"æˆ‘ä»¬ä¹‹å‰ä¸ºä»€ä¹ˆæ”¾å¼ƒè¿‡ç©ºé—´ lag æ¨¡å‹ï¼Ÿ\"\nClaude: [Calls research_memory_query_history with query about spatial lag models]\nReturns: Summary of decision rationale + Relevant excerpts from decisions.md and devlog.md\n```\n\n## Research Phases Supported\n\nThe skill recognizes and organizes content by these academic research phases:\n\n- **DGP**: Data Generating Process documentation and assumptions\n- **data_preprocess**: Data cleaning, variable construction, missing value handling\n- **data_analyse**: Descriptive statistics, visualization, correlation analysis\n- **modeling**: Model specification, estimation methods, hyperparameter tuning\n- **robustness**: Sensitivity analysis, alternative specifications, validation tests\n- **writing**: Documentation, paper writing, figure preparation\n- **infra**: Environment setup, code organization, tooling changes\n- **notes**: General observations, intuitions, future ideas\n\n## Memory File Structure\n\nThe skill creates and manages these files in the `memory/` directory:\n\n- `project-overview.md` - Long-term project knowledge (research questions, hypotheses, datasets)\n- `devlog.md` - Time-ordered development and experiment logs\n- `decisions.md` - Key decisions with rationale and alternatives considered\n- `experiments.csv` - Structured experiment records with metrics and metadata\n- `todos.md` - TODO items and open questions with checkbox tracking\n\n## Usage Examples\n\n### Example 1: Daily Session Start\n```\nUser: \"æ—©ä¸Šå¥½ï¼å¸®æˆ‘ç”¨ research-memory æ¢å¤ä¸€ä¸‹é¡¹ç›®çŠ¶æ€ã€‚\"\n\nClaude: [Calls research_memory_bootstrap]\n\n**é¡¹ç›®çŠ¶æ€æ¢å¤ (2025-12-02)**\n\n**æœ€è¿‘è¿›å±•æ‘˜è¦:**\n- 11æœˆ30æ—¥ï¼šå®Œæˆæ•°æ®æ¸…æ´—å’Œå¼‚å¸¸å€¼å¤„ç†\n- 12æœˆ1æ—¥ï¼šå»ºç«‹åŸºç¡€å›å½’æ¨¡å‹ï¼ŒRÂ²=0.72\n- 12æœˆ1æ—¥ï¼šå‘ç°å¼‚æ–¹å·®é—®é¢˜ï¼Œæ”¹ç”¨ç¨³å¥æ ‡å‡†è¯¯\n\n**å½“å‰å¾…åŠäº‹é¡¹:**\n- [ ] æ£€éªŒå¤šé‡å…±çº¿æ€§é—®é¢˜\n- [ ] æ·»åŠ æ§åˆ¶å˜é‡ï¼ˆæ•™è‚²æ°´å¹³ã€å·¥ä½œç»éªŒï¼‰\n- [ ] è¿›è¡Œç¨³å¥æ€§æ£€éªŒï¼ˆæ›¿æ¢å˜é‡æ„é€ æ–¹å¼ï¼‰\n\n**å»ºè®®ä»Šæ—¥å·¥ä½œè®¡åˆ’:**\n1. è§£å†³å¼‚æ–¹å·®é—®é¢˜çš„æ ¹æœ¬åŸå› ï¼ˆè€ƒè™‘å˜é‡å˜æ¢ï¼‰\n2. æ·»åŠ æ›´å¤šæ§åˆ¶å˜é‡æé«˜æ¨¡å‹è§£é‡ŠåŠ›\n3. å¼€å§‹å‡†å¤‡åˆæ­¥ç»“æœè¡¨æ ¼ç”¨äºè®ºæ–‡å†™ä½œ\n```\n\n### Example 2: Session Documentation\n```\nUser: \"ä»Šå¤©çš„å·¥ä½œå¸®æˆ‘è®°åˆ° research-memory é‡Œï¼Œä¸»è¦è§£å†³äº†å¼‚æ–¹å·®é—®é¢˜ã€‚\"\n\nClaude: [Analyzes session, extracts structured information, calls research_memory_log_session]\n\nâœ… å·²è®°å½•åˆ° research-memoryï¼š\n\n**ä¼šè¯ç›®æ ‡**: è§£å†³å›å½’æ¨¡å‹ä¸­çš„å¼‚æ–¹å·®é—®é¢˜\n\n**ä¸»è¦è¿›å±•**:\n- data_preprocess: å¯¹å› å˜é‡è¿›è¡Œå¯¹æ•°å˜æ¢ï¼Œæ˜¾è‘—æ”¹å–„æ®‹å·®åˆ†å¸ƒ\n- modeling: ä½¿ç”¨å¯¹æ•°çº¿æ€§æ¨¡å‹ï¼ŒRÂ²æå‡è‡³0.78\n- robustness: é€šè¿‡Breusch-Paganæ£€éªŒç¡®è®¤å¼‚æ–¹å·®é—®é¢˜å·²è§£å†³\n\n**å®éªŒè®°å½•**:\n- æ¨¡å‹: å¯¹æ•°çº¿æ€§å›å½’ (log(Y) = Î²â‚€ + Î²â‚X + Îµ)\n- æ•°æ®é›†: sample_data_v2_cleaned\n- æŒ‡æ ‡: RÂ²=0.78, F-statistic=45.3, p<0.001\n- è¯Šæ–­: Breusch-Paganæ£€éªŒ p=0.15ï¼ˆæ— æ³•æ‹’ç»åŒæ–¹å·®å‡è®¾ï¼‰\n\n**å…³é”®å†³å®š**:\n- å†³å®šï¼šé‡‡ç”¨å¯¹æ•°å˜æ¢è€ŒéåŠ æƒæœ€å°äºŒä¹˜æ³•\n- åŸå› ï¼šå¯¹æ•°å˜æ¢åŒæ—¶æ”¹å–„äº†çº¿æ€§æ€§å’Œå¼‚æ–¹å·®é—®é¢˜\n- å¤‡é€‰æ–¹æ¡ˆï¼šè€ƒè™‘è¿‡Box-Coxå˜æ¢ï¼Œä½†å¯¹æ•°å˜æ¢è§£é‡Šæ€§æ›´å¼º\n\n**æ›´æ–°å¾…åŠäº‹é¡¹**:\n- [x] è§£å†³å¼‚æ–¹å·®é—®é¢˜\n- [ ] è¿›è¡ŒVIFæ£€éªŒæ£€æŸ¥å¤šé‡å…±çº¿æ€§\n- [ ] æ·»åŠ æ›´å¤šæ§åˆ¶å˜é‡\n- [ ] å‡†å¤‡ç»“æœå¯è§†åŒ–\n```\n\n### Example 3: Historical Query\n```\nUser: \"æŸ¥ä¸€ä¸‹æˆ‘ä»¬ä¹‹å‰å…³äºå˜é‡æ„é€ çš„æ‰€æœ‰è®¨è®ºã€‚\"\n\nClaude: [Calls research_memory_query_history]\n\n**å˜é‡æ„é€ ç›¸å…³è®°å½•**:\n\n**2025-11-28 - devlog.md:**\n> **data_preprocess**: å¯¹æ”¶å…¥å˜é‡è¿›è¡Œwinsorizeå¤„ç†ï¼ˆ1%å’Œ99%åˆ†ä½æ•°ï¼‰\n> åŸå› ï¼šå‘ç°æç«¯å¼‚å¸¸å€¼å½±å“å›å½’ç»“æœï¼Œæœ€å¤§å€¼è¶…è¿‡å‡å€¼100å€\n> æ–¹æ³•ï¼šä½¿ç”¨scipy.stats.mstats.winsorizeï¼Œä¸¤ç«¯å„æˆªæ–­1%\n\n**2025-11-29 - decisions.md:**\n> **å†³å®š**: æ·»åŠ å¹´é¾„çš„äºŒæ¬¡é¡¹ä½œä¸ºæ§åˆ¶å˜é‡\n> **ç†ç”±**: è§‚å¯Ÿåˆ°å¹´é¾„ä¸å› å˜é‡å­˜åœ¨éçº¿æ€§å…³ç³»ï¼ˆUå‹æ›²çº¿ï¼‰\n> **éªŒè¯**: æ®‹å·®å›¾æ˜¾ç¤ºåŠ å…¥äºŒæ¬¡é¡¹åæ¨¡å¼æ˜æ˜¾æ”¹å–„\n\n**2025-12-01 - experiments.csv:**\n> experiment_id: exp_2025_001, hypothesis: \"H1: æ•™è‚²å›æŠ¥éçº¿æ€§\",\n> variables: \"age, age_squared, log_income, experience\",\n> result: \"age_squaredç³»æ•°æ˜¾è‘—ä¸ºæ­£ï¼ˆp<0.01ï¼‰ï¼Œæ”¯æŒéçº¿æ€§å‡è®¾\"\n\n**æ€»ç»“**:\n- å¤„ç†äº†æ”¶å…¥å˜é‡çš„æç«¯å¼‚å¸¸å€¼ï¼ˆwinsorizeï¼‰\n- æ·»åŠ äº†å¹´é¾„çš„äºŒæ¬¡é¡¹ä»¥æ•æ‰éçº¿æ€§æ•ˆåº”\n- å¯¹æ•°å˜æ¢æ”¹å–„äº†æ”¶å…¥å˜é‡çš„åˆ†å¸ƒ\n- æ‰€æœ‰å˜æ¢éƒ½ç»è¿‡äº†ç»Ÿè®¡æ£€éªŒå’Œå¯è§†åŒ–éªŒè¯\n```\n\n## Configuration\n\nThe skill supports configuration through `config/config.json`:\n\n```json\n{\n    \"bootstrap\": {\n        \"recent_entries_count\": 5,\n        \"include_todos\": true,\n        \"suggest_work_plan\": true\n    },\n    \"logging\": {\n        \"auto_timestamp\": true,\n        \"phase_sections\": [\"DGP\", \"data_preprocess\", \"data_analyse\", \"modeling\", \"robustness\", \"writing\", \"infra\", \"notes\"],\n        \"experiment_schema\": [\"hypothesis\", \"dataset\", \"model\", \"metrics\", \"notes\"]\n    },\n    \"search\": {\n        \"max_results\": 10,\n        \"include_context\": true,\n        \"context_lines\": 3\n    }\n}\n```\n\n## Future Extensibility\n\nThis v0 implementation uses local files but provides clear migration paths to v1:\n\n- **Backend Abstraction**: All storage operations go through `MemoryBackend` interface\n- **Schema Evolution**: JSON-based schemas support versioning and validation\n- **Search Enhancement**: File-based search can be replaced with vector search\n- **Collaboration**: Individual memory files can be merged to shared databases\n\n## Best Practices\n\n1. **Consistent Logging**: Log sessions regularly, preferably at major milestones\n2. **Structured Queries**: Be specific about research phases when querying history\n3. **Decision Documentation**: Always include rationale and alternatives for key decisions\n4. **Regular Bootstrap**: Use bootstrap functionality at the start of each work session\n5. **TODO Maintenance**: Keep todos current and mark completed items\n\nThis skill helps maintain research continuity and accelerates academic progress by preserving institutional knowledge and decision rationale across the research lifecycle."
      },
      "plugins": [
        {
          "name": "research-memory",
          "description": "Academic research memory management skill for tracking project continuity, decisions, and experiments",
          "version": "0.2.0",
          "source": "./",
          "author": {
            "name": "Adrian",
            "email": "syfyufei@gmail.com"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add syfyufei/research-memory",
            "/plugin install research-memory@research-memory-marketplace"
          ]
        }
      ]
    },
    {
      "name": "LLM-Research-Marketplace",
      "version": "4.0.0",
      "description": "Curated marketplace of Claude Code skills for AI/LLM research and development",
      "owner_info": {
        "name": "Adrian",
        "email": "syfyufei@gmail.com"
      },
      "keywords": [],
      "repo_full_name": "syfyufei/LLM-Research-Marketplace",
      "repo_url": "https://github.com/syfyufei/LLM-Research-Marketplace",
      "repo_description": null,
      "homepage": null,
      "signals": {
        "stars": 1,
        "forks": 0,
        "pushed_at": "2025-12-19T07:40:32Z",
        "created_at": "2025-12-03T10:32:13Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 1811
        },
        {
          "path": "plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/academic-figures",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/academic-figures/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/academic-figures/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 426
        },
        {
          "path": "plugins/academic-figures/README.md",
          "type": "blob",
          "size": 1412
        },
        {
          "path": "plugins/academic-figures/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/academic-figures/commands/bar.md",
          "type": "blob",
          "size": 5209
        },
        {
          "path": "plugins/academic-figures/commands/dotwhisker.md",
          "type": "blob",
          "size": 5258
        },
        {
          "path": "plugins/academic-figures/commands/line.md",
          "type": "blob",
          "size": 3870
        },
        {
          "path": "plugins/academic-figures/commands/map.md",
          "type": "blob",
          "size": 3586
        },
        {
          "path": "plugins/academic-figures/commands/scatter.md",
          "type": "blob",
          "size": 5762
        },
        {
          "path": "plugins/academic-figures/commands/setup.md",
          "type": "blob",
          "size": 2964
        },
        {
          "path": "plugins/project-management",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/project-management/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/project-management/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 649
        },
        {
          "path": "plugins/project-management/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/project-management/commands/create.md",
          "type": "blob",
          "size": 2602
        },
        {
          "path": "plugins/project-management/commands/restructure.md",
          "type": "blob",
          "size": 2361
        },
        {
          "path": "plugins/project-management/commands/status.md",
          "type": "blob",
          "size": 2308
        },
        {
          "path": "plugins/project-management/commands/validate.md",
          "type": "blob",
          "size": 2305
        },
        {
          "path": "plugins/research-memory",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/research-memory/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/research-memory/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 775
        },
        {
          "path": "plugins/research-memory/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/research-memory/commands/bootstrap.md",
          "type": "blob",
          "size": 492
        },
        {
          "path": "plugins/research-memory/commands/checkpoint.md",
          "type": "blob",
          "size": 1403
        },
        {
          "path": "plugins/research-memory/commands/focus.md",
          "type": "blob",
          "size": 2897
        },
        {
          "path": "plugins/research-memory/commands/insights.md",
          "type": "blob",
          "size": 1415
        },
        {
          "path": "plugins/research-memory/commands/query.md",
          "type": "blob",
          "size": 487
        },
        {
          "path": "plugins/research-memory/commands/remember.md",
          "type": "blob",
          "size": 592
        },
        {
          "path": "plugins/research-memory/commands/review.md",
          "type": "blob",
          "size": 1261
        },
        {
          "path": "plugins/research-memory/commands/status.md",
          "type": "blob",
          "size": 687
        },
        {
          "path": "plugins/research-memory/commands/summary.md",
          "type": "blob",
          "size": 834
        },
        {
          "path": "plugins/research-memory/commands/timeline.md",
          "type": "blob",
          "size": 1027
        },
        {
          "path": "plugins/skill-squared",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skill-squared/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skill-squared/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 605
        },
        {
          "path": "plugins/skill-squared/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skill-squared/commands/command.md",
          "type": "blob",
          "size": 1523
        },
        {
          "path": "plugins/skill-squared/commands/create.md",
          "type": "blob",
          "size": 1983
        },
        {
          "path": "plugins/skill-squared/commands/sync.md",
          "type": "blob",
          "size": 1713
        },
        {
          "path": "plugins/skill-squared/commands/validate.md",
          "type": "blob",
          "size": 1558
        },
        {
          "path": "plugins/truth-verification",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/truth-verification/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/truth-verification/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 513
        },
        {
          "path": "plugins/truth-verification/README.md",
          "type": "blob",
          "size": 6834
        },
        {
          "path": "plugins/truth-verification/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/truth-verification/commands/audit.md",
          "type": "blob",
          "size": 10826
        },
        {
          "path": "plugins/truth-verification/commands/cite-check.md",
          "type": "blob",
          "size": 7837
        },
        {
          "path": "plugins/truth-verification/commands/init.md",
          "type": "blob",
          "size": 3603
        },
        {
          "path": "plugins/truth-verification/commands/register.md",
          "type": "blob",
          "size": 4783
        },
        {
          "path": "plugins/truth-verification/commands/reproduce.md",
          "type": "blob",
          "size": 9946
        },
        {
          "path": "plugins/truth-verification/commands/status.md",
          "type": "blob",
          "size": 9497
        },
        {
          "path": "plugins/truth-verification/commands/track.md",
          "type": "blob",
          "size": 7617
        },
        {
          "path": "plugins/truth-verification/commands/verify.md",
          "type": "blob",
          "size": 5728
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"LLM-Research-Marketplace\",\n  \"description\": \"Curated marketplace of Claude Code skills for AI/LLM research and development\",\n  \"version\": \"4.0.0\",\n  \"owner\": {\n    \"name\": \"Adrian\",\n    \"email\": \"syfyufei@gmail.com\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"research-memory\",\n      \"description\": \"A skill for academic research memory management.\",\n      \"version\": \"0.2.0\",\n      \"source\": \"./plugins/research-memory\",\n      \"author\": {\n        \"name\": \"Adrian\",\n        \"email\": \"syfyufei@gmail.com\"\n      }\n    },\n    {\n      \"name\": \"project-management\",\n      \"description\": \"A skill for standardized project scaffolding, restructuring, and validation.\",\n      \"version\": \"0.1.0\",\n      \"source\": \"./plugins/project-management\",\n      \"author\": {\n        \"name\": \"Adrian\",\n        \"email\": \"syfyufei@gmail.com\"\n      }\n    },\n    {\n      \"name\": \"skill-squared\",\n      \"description\": \"A skill for skill creation, extension, sync, and validation.\",\n      \"version\": \"0.1.0\",\n      \"source\": \"./plugins/skill-squared\",\n      \"author\": {\n        \"name\": \"Adrian\",\n        \"email\": \"syfyufei@gmail.com\"\n      }\n    },\n    {\n      \"name\": \"truth-verification\",\n      \"description\": \"Ensure research integrity by tracking data provenance, verifying authenticity, and preventing fabricated claims.\",\n      \"version\": \"1.0.0\",\n      \"source\": \"./plugins/truth-verification\",\n      \"author\": {\n        \"name\": \"Adrian\",\n        \"email\": \"syfyufei@gmail.com\"\n      }\n    },\n    {\n      \"name\": \"academic-figures\",\n      \"description\": \"Generate publication-ready academic figures with grayscale styling and Chinese font support.\",\n      \"version\": \"0.1.0\",\n      \"source\": \"./plugins/academic-figures\",\n      \"author\": {\n        \"name\": \"Adrian\",\n        \"email\": \"syfyufei@gmail.com\"\n      }\n    }\n  ]\n}",
        "plugins/academic-figures/.claude-plugin/plugin.json": "{\n  \"name\": \"academic-figures\",\n  \"version\": \"0.1.0\",\n  \"description\": \"Generate publication-ready academic figures with grayscale styling and Chinese font support\",\n  \"author\": {\n    \"name\": \"Adrian\",\n    \"email\": \"syfyufei@gmail.com\"\n  },\n  \"commands\": [\n    \"./commands/setup.md\",\n    \"./commands/line.md\",\n    \"./commands/bar.md\",\n    \"./commands/dotwhisker.md\",\n    \"./commands/scatter.md\",\n    \"./commands/map.md\"\n  ]\n}\n",
        "plugins/academic-figures/README.md": "# Academic Figures\n\nA Claude Code skill for generating publication-ready academic figures with grayscale styling and Chinese font support.\n\n## Installation\n\n```bash\n/plugin install academic-figures@LLM-Research-Marketplace\n```\n\n## Quick Start\n\n1. **Setup**: Run `/academic-figures:setup` to verify dependencies\n2. **Generate**: Use chart commands with your data\n\n## Commands\n\n| Command | Description |\n|---------|-------------|\n| `/academic-figures:setup` | Check environment and configure fonts |\n| `/academic-figures:line` | Generate line charts |\n| `/academic-figures:bar` | Generate bar charts with error bars |\n| `/academic-figures:dotwhisker` | Generate coefficient plots |\n| `/academic-figures:scatter` | Generate scatter plots |\n| `/academic-figures:map` | Generate choropleth maps |\n\n## Features\n\n- **Grayscale Design**: Optimized for B&W academic publishing\n- **Chinese Support**: Full CJK character rendering (STFangsong, SimSun, etc.)\n- **High Quality**: 300 DPI output, PDF and PNG formats\n- **AJPS Style**: Following American Journal of Political Science guidelines\n\n## Requirements\n\n- Python 3.8+\n- matplotlib\n- numpy\n- pandas\n- geopandas (for maps)\n\n## Example\n\n```python\n# Line chart with Chinese labels\n/academic-figures:line data.csv --x year --y gdp --title \"ç»æµå¢é•¿è¶‹åŠ¿\"\n```\n\n## Output\n\nFigures are saved to `paper/figures/` by default with both PDF and PNG formats.\n\n## License\n\nMIT\n",
        "plugins/academic-figures/commands/bar.md": "---\ndescription: Generate a bar chart with error bars and grayscale styling for academic publications\n---\n\n## Goal\n\nGenerate a publication-ready bar chart with optional error bars, grayscale styling, and Chinese font support.\n\n## Preparation\n\nCollect the following parameters from the user:\n\n| Parameter | Required | Default | Description |\n|-----------|----------|---------|-------------|\n| `data` | Yes | - | Data source: CSV file path |\n| `x` | Yes | - | Column name for categories (X-axis) |\n| `y` | Yes | - | Column name for values |\n| `error` | No | - | Column name for error values (for error bars) |\n| `group` | No | - | Column name for grouping (creates grouped bars) |\n| `title` | No | - | Chart title |\n| `xlabel` | No | - | X-axis label |\n| `ylabel` | No | - | Y-axis label |\n| `orientation` | No | `vertical` | Bar orientation: vertical or horizontal |\n| `show_values` | No | `true` | Show value labels on bars |\n| `output` | No | `paper/figures/bar_chart` | Output file path |\n| `width` | No | 6 | Figure width in inches |\n| `height` | No | 4 | Figure height in inches |\n\n## Execution Steps\n\n1. **Load and prepare data**\n\n```python\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport matplotlib as mpl\nimport numpy as np\nfrom pathlib import Path\n\ndata = pd.read_csv('{{data}}')\n```\n\n2. **Configure academic style**\n\n```python\nplt.rcParams['font.sans-serif'] = ['STFangsong', 'SimSun', 'PingFang SC', 'SimHei']\nplt.rcParams['font.family'] = 'sans-serif'\nplt.rcParams['axes.unicode_minus'] = False\n\nCOLORS = ['#000000', '#4D4D4D', '#7F7F7F', '#B2B2B2', '#D9D9D9']\nHATCHES = ['', '///', '...', 'xxx', '\\\\\\\\\\\\']\n\nmpl.rcParams.update({\n    'font.size': 11,\n    'axes.linewidth': 0.8,\n    'axes.spines.top': False,\n    'axes.spines.right': False,\n    'axes.grid': True,\n    'grid.alpha': 0.3,\n    'legend.frameon': False,\n    'savefig.dpi': 300,\n    'savefig.bbox': 'tight'\n})\n```\n\n3. **Generate bar chart**\n\n```python\nfig, ax = plt.subplots(figsize=({{width}}, {{height}}))\n\nx_col = '{{x}}'\ny_col = '{{y}}'\nerror_col = '{{error}}' if '{{error}}' else None\ngroup_col = '{{group}}' if '{{group}}' else None\norientation = '{{orientation}}' or 'vertical'\nshow_values = '{{show_values}}' != 'false'\n\ncategories = data[x_col].unique()\nx_pos = np.arange(len(categories))\n\nif group_col:\n    # Grouped bar chart\n    groups = data[group_col].unique()\n    n_groups = len(groups)\n    width = 0.8 / n_groups\n\n    for i, group in enumerate(groups):\n        subset = data[data[group_col] == group]\n        values = [subset[subset[x_col] == cat][y_col].values[0] if len(subset[subset[x_col] == cat]) > 0 else 0\n                  for cat in categories]\n        errors = None\n        if error_col:\n            errors = [subset[subset[x_col] == cat][error_col].values[0] if len(subset[subset[x_col] == cat]) > 0 else 0\n                      for cat in categories]\n\n        offset = (i - n_groups/2 + 0.5) * width\n        bars = ax.bar(x_pos + offset, values, width,\n                      label=group,\n                      color=COLORS[i % len(COLORS)],\n                      edgecolor='black', linewidth=0.8,\n                      hatch=HATCHES[i % len(HATCHES)] if i > 0 else '',\n                      yerr=errors, capsize=4,\n                      error_kw={'linewidth': 1, 'color': 'black'})\nelse:\n    # Simple bar chart\n    values = data.groupby(x_col)[y_col].mean().reindex(categories).values\n    errors = None\n    if error_col:\n        errors = data.groupby(x_col)[error_col].mean().reindex(categories).values\n\n    bars = ax.bar(x_pos, values,\n                  color=COLORS[2],\n                  edgecolor='black', linewidth=0.8,\n                  yerr=errors, capsize=4,\n                  error_kw={'linewidth': 1, 'color': 'black'})\n\n    # Add value labels above bars (above error bars if present)\n    if show_values:\n        for bar, val, err in zip(bars, values, errors if errors is not None else [0]*len(values)):\n            height = val + (err if err else 0) + (max(values) * 0.03)\n            ax.text(bar.get_x() + bar.get_width()/2, height,\n                    f'{val:.0f}%' if val < 100 else f'{val:.0f}',\n                    ha='center', va='bottom', fontsize=9)\n\n# Configure axes\nax.set_xticks(x_pos)\nax.set_xticklabels(categories, rotation=15 if len(str(categories[0])) > 4 else 0, ha='right' if len(str(categories[0])) > 4 else 'center')\nax.set_xlabel('{{xlabel}}' or '')\nax.set_ylabel('{{ylabel}}' or y_col)\n\nif '{{title}}':\n    ax.set_title('{{title}}')\n\nif group_col:\n    ax.legend()\n\n# Adjust y-axis to fit labels\nif show_values:\n    ymax = ax.get_ylim()[1]\n    ax.set_ylim(0, ymax * 1.1)\n\nplt.tight_layout()\n```\n\n4. **Save output**\n\n```python\noutput_path = Path('{{output}}' or 'paper/figures/bar_chart')\noutput_path.parent.mkdir(parents=True, exist_ok=True)\n\nfor fmt in ['pdf', 'png']:\n    fig.savefig(f\"{output_path}.{fmt}\")\n    print(f\"Saved: {output_path}.{fmt}\")\n\nplt.close()\n```\n\n## Example Usage\n\n```\n/academic-figures:bar survey.csv --x category --y support_rate --error std_error --title \"æ”¿ç­–æ”¯æŒç‡\" --ylabel \"æ”¯æŒç‡ (%)\"\n```\n\n## Output\n\n- Grayscale bar chart with optional error bars\n- Value labels positioned above error bars (not overlapping)\n- PDF and PNG formats\n",
        "plugins/academic-figures/commands/dotwhisker.md": "---\ndescription: Generate a dot-whisker coefficient plot for regression results\n---\n\n## Goal\n\nGenerate a publication-ready dot-whisker plot (coefficient plot) showing regression estimates with confidence intervals, following AJPS style guidelines.\n\n## Preparation\n\nCollect the following parameters from the user:\n\n| Parameter | Required | Default | Description |\n|-----------|----------|---------|-------------|\n| `data` | Yes | - | CSV with columns: term, estimate, std.error (or conf.low, conf.high) |\n| `model` | No | - | Column name for model identifier (for multi-model comparison) |\n| `ci_level` | No | 0.95 | Confidence interval level |\n| `reference` | No | 0 | Reference line position |\n| `reorder` | No | `false` | Reorder variables by estimate size |\n| `title` | No | - | Chart title |\n| `xlabel` | No | `Coefficient Estimate` | X-axis label |\n| `output` | No | `paper/figures/dotwhisker` | Output file path |\n| `width` | No | 6 | Figure width in inches |\n| `height` | No | 5 | Figure height in inches |\n\n## Data Format\n\nInput CSV should have these columns:\n- `term`: Variable names\n- `estimate`: Point estimates\n- `std.error`: Standard errors (will compute CI as estimate +/- 1.96*SE)\n- OR `conf.low`, `conf.high`: Pre-computed confidence interval bounds\n- `model` (optional): Model identifier for multi-model plots\n\n## Execution Steps\n\n1. **Load and prepare data**\n\n```python\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport matplotlib as mpl\nimport numpy as np\nfrom pathlib import Path\nfrom scipy import stats\n\ndata = pd.read_csv('{{data}}')\n\n# Compute confidence intervals if not provided\nci_level = float('{{ci_level}}' or 0.95)\nz_score = stats.norm.ppf((1 + ci_level) / 2)\n\nif 'conf.low' not in data.columns:\n    data['conf.low'] = data['estimate'] - z_score * data['std.error']\n    data['conf.high'] = data['estimate'] + z_score * data['std.error']\n```\n\n2. **Configure academic style**\n\n```python\nplt.rcParams['font.sans-serif'] = ['STFangsong', 'SimSun', 'PingFang SC', 'SimHei']\nplt.rcParams['font.family'] = 'sans-serif'\nplt.rcParams['axes.unicode_minus'] = False\n\nmpl.rcParams.update({\n    'font.size': 11,\n    'axes.linewidth': 0.8,\n    'axes.spines.top': False,\n    'axes.spines.right': False,\n    'axes.grid': True,\n    'grid.alpha': 0.3,\n    'legend.frameon': False,\n    'savefig.dpi': 300,\n    'savefig.bbox': 'tight'\n})\n\nCOLORS = ['#000000', '#7F7F7F']\nMARKERS = ['o', 's', '^', 'D']\n```\n\n3. **Generate dot-whisker plot**\n\n```python\nfig, ax = plt.subplots(figsize=({{width}}, {{height}}))\n\nmodel_col = '{{model}}' if '{{model}}' else None\nreference = float('{{reference}}' or 0)\nreorder = '{{reorder}}' == 'true'\n\nif reorder:\n    data = data.sort_values('estimate', ascending=True)\n\nvariables = data['term'].unique()\ny_pos = np.arange(len(variables))\n\nif model_col and model_col in data.columns:\n    # Multi-model comparison\n    models = data[model_col].unique()\n    n_models = len(models)\n    offset_step = 0.3 / n_models\n\n    for i, model in enumerate(models):\n        subset = data[data[model_col] == model]\n        offset = (i - n_models/2 + 0.5) * offset_step\n\n        # Map variable positions\n        var_to_pos = {var: pos for pos, var in enumerate(variables)}\n        positions = [var_to_pos[var] + offset for var in subset['term']]\n\n        # Draw whiskers (confidence intervals)\n        for j, (_, row) in enumerate(subset.iterrows()):\n            pos = var_to_pos[row['term']] + offset\n            ax.plot([row['conf.low'], row['conf.high']], [pos, pos],\n                    color=COLORS[i % len(COLORS)], linewidth=1.5)\n\n        # Draw points\n        ax.scatter(subset['estimate'], positions,\n                   color=COLORS[i % len(COLORS)],\n                   s=50, marker=MARKERS[i % len(MARKERS)],\n                   label=model, zorder=5)\nelse:\n    # Single model\n    for i, (_, row) in enumerate(data.iterrows()):\n        ax.plot([row['conf.low'], row['conf.high']], [i, i],\n                color='black', linewidth=1.5, solid_capstyle='round')\n\n    ax.scatter(data['estimate'], y_pos, color='black', s=60, zorder=5)\n\n# Reference line\nax.axvline(x=reference, color='gray', linestyle='--', linewidth=1, alpha=0.7)\n\n# Configure axes\nax.set_yticks(y_pos)\nax.set_yticklabels(variables)\nax.set_xlabel('{{xlabel}}' or f'ç³»æ•°ä¼°è®¡å€¼ ({int(ci_level*100)}% ç½®ä¿¡åŒºé—´)')\n\nif '{{title}}':\n    ax.set_title('{{title}}')\n\nax.invert_yaxis()  # Highest variable at top\n\nif model_col:\n    ax.legend(loc='lower right')\n\nplt.tight_layout()\n```\n\n4. **Save output**\n\n```python\noutput_path = Path('{{output}}' or 'paper/figures/dotwhisker')\noutput_path.parent.mkdir(parents=True, exist_ok=True)\n\nfor fmt in ['pdf', 'png']:\n    fig.savefig(f\"{output_path}.{fmt}\")\n    print(f\"Saved: {output_path}.{fmt}\")\n\nplt.close()\n```\n\n## Example Usage\n\n```\n/academic-figures:dotwhisker regression_results.csv --title \"å·¥èµ„å†³å®šå› ç´ åˆ†æ\" --xlabel \"ç³»æ•°ä¼°è®¡å€¼ (95% ç½®ä¿¡åŒºé—´)\"\n```\n\n## Data Example\n\n```csv\nterm,estimate,std.error\næ•™è‚²å¹´é™,0.082,0.009\nå·¥ä½œç»éªŒ,0.035,0.004\næ€§åˆ« (å¥³æ€§),-0.152,0.023\nåŸå¸‚æˆ·ç±,0.124,0.019\n```\n\n## Output\n\n- Clean dot-whisker plot with reference line at zero\n- Confidence intervals displayed as horizontal lines\n- Point estimates as solid dots\n- No overlapping annotations\n",
        "plugins/academic-figures/commands/line.md": "---\ndescription: Generate a line chart with grayscale styling for academic publications\n---\n\n## Goal\n\nGenerate a publication-ready line chart with grayscale styling and Chinese font support.\n\n## Preparation\n\nCollect the following parameters from the user:\n\n| Parameter | Required | Default | Description |\n|-----------|----------|---------|-------------|\n| `data` | Yes | - | Data source: CSV file path, or inline data |\n| `x` | Yes | - | Column name for X-axis |\n| `y` | Yes | - | Column name(s) for Y-axis (comma-separated for multiple lines) |\n| `group` | No | - | Column name for grouping/coloring lines |\n| `title` | No | - | Chart title |\n| `xlabel` | No | X column name | X-axis label |\n| `ylabel` | No | Y column name | Y-axis label |\n| `output` | No | `paper/figures/line_chart` | Output file path (without extension) |\n| `format` | No | `pdf,png` | Output formats |\n| `width` | No | 6 | Figure width in inches |\n| `height` | No | 4 | Figure height in inches |\n\n## Execution Steps\n\n1. **Load data**\n\n```python\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport matplotlib as mpl\nimport numpy as np\nfrom pathlib import Path\n\n# Load data\ndata = pd.read_csv('{{data}}')  # or pd.read_excel() for .xlsx\n```\n\n2. **Configure academic style**\n\n```python\n# Font configuration\nplt.rcParams['font.sans-serif'] = ['STFangsong', 'SimSun', 'PingFang SC', 'SimHei']\nplt.rcParams['font.family'] = 'sans-serif'\nplt.rcParams['axes.unicode_minus'] = False\n\n# Academic style\nCOLORS = ['#000000', '#4D4D4D', '#7F7F7F', '#B2B2B2', '#D9D9D9']\nLINESTYLES = ['-', '--', ':', '-.']\nMARKERS = ['o', 's', '^', 'D', 'v']\n\nmpl.rcParams.update({\n    'font.size': 11,\n    'axes.linewidth': 0.8,\n    'axes.spines.top': False,\n    'axes.spines.right': False,\n    'axes.grid': True,\n    'grid.alpha': 0.3,\n    'grid.linewidth': 0.5,\n    'grid.linestyle': '--',\n    'legend.frameon': False,\n    'savefig.dpi': 300,\n    'savefig.bbox': 'tight'\n})\n```\n\n3. **Generate line chart**\n\n```python\nfig, ax = plt.subplots(figsize=({{width}}, {{height}}))\n\nx_col = '{{x}}'\ny_cols = '{{y}}'.split(',')  # Support multiple Y columns\ngroup_col = '{{group}}' if '{{group}}' else None\n\nif group_col:\n    # Grouped lines\n    groups = data[group_col].unique()\n    for i, group in enumerate(groups):\n        subset = data[data[group_col] == group]\n        ax.plot(subset[x_col], subset[y_cols[0]],\n                color=COLORS[i % len(COLORS)],\n                linestyle=LINESTYLES[i % len(LINESTYLES)],\n                marker=MARKERS[i % len(MARKERS)],\n                markersize=6, linewidth=1.5,\n                label=group)\nelse:\n    # Multiple Y columns as separate lines\n    for i, y_col in enumerate(y_cols):\n        ax.plot(data[x_col], data[y_col.strip()],\n                color=COLORS[i % len(COLORS)],\n                linestyle=LINESTYLES[i % len(LINESTYLES)],\n                marker=MARKERS[i % len(MARKERS)],\n                markersize=6, linewidth=1.5,\n                label=y_col.strip())\n\n# Labels and title\nax.set_xlabel('{{xlabel}}' or x_col)\nax.set_ylabel('{{ylabel}}' or y_cols[0])\nif '{{title}}':\n    ax.set_title('{{title}}')\n\nax.legend()\nplt.tight_layout()\n```\n\n4. **Save output**\n\n```python\noutput_path = Path('{{output}}' or 'paper/figures/line_chart')\noutput_path.parent.mkdir(parents=True, exist_ok=True)\n\nformats = '{{format}}'.split(',') if '{{format}}' else ['pdf', 'png']\nfor fmt in formats:\n    fig.savefig(f\"{output_path}.{fmt.strip()}\")\n    print(f\"Saved: {output_path}.{fmt.strip()}\")\n\nplt.close()\n```\n\n## Example Usage\n\nUser request: \"Create a line chart showing GDP growth over years for regions A, B, C\"\n\n```\n/academic-figures:line data.csv --x year --y gdp --group region --title \"GDPå¢é•¿è¶‹åŠ¿æ¯”è¾ƒ\"\n```\n\n## Output\n\n- PDF file (vector format, best for publications)\n- PNG file (raster format, for preview)\n\nBoth saved to `paper/figures/` or specified output path.\n",
        "plugins/academic-figures/commands/map.md": "---\ndescription: Generate a choropleth map with grayscale fill for academic publications\n---\n\n## Goal\n\nGenerate a publication-ready choropleth map with grayscale fills suitable for academic journals.\n\n## Preparation\n\nCollect the following parameters from the user:\n\n| Parameter | Required | Default | Description |\n|-----------|----------|---------|-------------|\n| `shapefile` | Yes | - | Path to shapefile (.shp) or GeoJSON file |\n| `data` | No | - | CSV with attribute data to join |\n| `join_key` | No | - | Column name to join shapefile with data |\n| `fill_var` | No | - | Column name for fill values (choropleth) |\n| `title` | No | - | Map title |\n| `legend_title` | No | - | Legend title |\n| `output` | No | `paper/figures/map` | Output file path |\n| `width` | No | 8 | Figure width in inches |\n| `height` | No | 6 | Figure height in inches |\n\n## Execution Steps\n\n1. **Load geographic data**\n\n```python\nimport geopandas as gpd\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport matplotlib as mpl\nfrom pathlib import Path\n\n# Load shapefile or GeoJSON\ngdf = gpd.read_file('{{shapefile}}')\n\n# Optionally join with attribute data\nif '{{data}}':\n    attr_data = pd.read_csv('{{data}}')\n    join_key = '{{join_key}}'\n    gdf = gdf.merge(attr_data, on=join_key, how='left')\n```\n\n2. **Configure academic style**\n\n```python\nplt.rcParams['font.sans-serif'] = ['STFangsong', 'SimSun', 'PingFang SC', 'SimHei']\nplt.rcParams['font.family'] = 'sans-serif'\nplt.rcParams['axes.unicode_minus'] = False\n\nmpl.rcParams.update({\n    'font.size': 11,\n    'savefig.dpi': 300,\n    'savefig.bbox': 'tight'\n})\n\n# Grayscale colormap\nfrom matplotlib.colors import LinearSegmentedColormap\ngrayscale_cmap = LinearSegmentedColormap.from_list('grayscale',\n    ['#FFFFFF', '#D9D9D9', '#B2B2B2', '#7F7F7F', '#4D4D4D', '#000000'])\n```\n\n3. **Generate map**\n\n```python\nfig, ax = plt.subplots(figsize=({{width}}, {{height}}))\n\nfill_var = '{{fill_var}}' if '{{fill_var}}' else None\n\nif fill_var and fill_var in gdf.columns:\n    # Choropleth map\n    gdf.plot(column=fill_var,\n             ax=ax,\n             cmap=grayscale_cmap,\n             edgecolor='black',\n             linewidth=0.5,\n             legend=True,\n             legend_kwds={\n                 'label': '{{legend_title}}' or fill_var,\n                 'orientation': 'horizontal',\n                 'shrink': 0.6,\n                 'pad': 0.05\n             })\nelse:\n    # Simple boundary map\n    gdf.plot(ax=ax,\n             facecolor='white',\n             edgecolor='black',\n             linewidth=0.8)\n\n# Remove axes for cleaner look\nax.set_axis_off()\n\nif '{{title}}':\n    ax.set_title('{{title}}', fontsize=12, fontweight='bold', pad=10)\n\nplt.tight_layout()\n```\n\n4. **Save output**\n\n```python\noutput_path = Path('{{output}}' or 'paper/figures/map')\noutput_path.parent.mkdir(parents=True, exist_ok=True)\n\nfor fmt in ['pdf', 'png']:\n    fig.savefig(f\"{output_path}.{fmt}\")\n    print(f\"Saved: {output_path}.{fmt}\")\n\nplt.close()\n```\n\n## Requirements\n\nThis command requires `geopandas` which can be installed with:\n```bash\npip install geopandas\n```\n\n## Example Usage\n\n```\n/academic-figures:map china_provinces.shp --data gdp_data.csv --join_key province --fill_var gdp_per_capita --title \"ä¸­å›½å„çœäººå‡GDP\"\n```\n\n## Data Sources\n\nCommon sources for shapefiles:\n- Natural Earth: https://www.naturalearthdata.com/\n- GADM: https://gadm.org/\n- ä¸­å›½åœ°å›¾: https://datav.aliyun.com/portal/school/atlas/area_selector\n\n## Output\n\n- Choropleth map with grayscale fill gradient\n- Clean boundary lines\n- Horizontal legend below map\n- PDF and PNG formats\n",
        "plugins/academic-figures/commands/scatter.md": "---\ndescription: Generate a scatter plot with optional trend line for academic publications\n---\n\n## Goal\n\nGenerate a publication-ready scatter plot with grayscale styling, optional trend lines, and support for grouping and faceting.\n\n## Preparation\n\nCollect the following parameters from the user:\n\n| Parameter | Required | Default | Description |\n|-----------|----------|---------|-------------|\n| `data` | Yes | - | Data source: CSV file path |\n| `x` | Yes | - | Column name for X-axis |\n| `y` | Yes | - | Column name for Y-axis |\n| `group` | No | - | Column name for grouping (different markers) |\n| `facet` | No | - | Column name for faceting (multiple panels) |\n| `fit_line` | No | `none` | Trend line: none, linear, loess |\n| `title` | No | - | Chart title |\n| `xlabel` | No | X column name | X-axis label |\n| `ylabel` | No | Y column name | Y-axis label |\n| `output` | No | `paper/figures/scatter` | Output file path |\n| `width` | No | 6 | Figure width in inches |\n| `height` | No | 5 | Figure height in inches |\n\n## Execution Steps\n\n1. **Load data**\n\n```python\nimport pandas as pd\nimport matplotlib.pyplot as plt\nimport matplotlib as mpl\nimport numpy as np\nfrom pathlib import Path\n\ndata = pd.read_csv('{{data}}')\n```\n\n2. **Configure academic style**\n\n```python\nplt.rcParams['font.sans-serif'] = ['STFangsong', 'SimSun', 'PingFang SC', 'SimHei']\nplt.rcParams['font.family'] = 'sans-serif'\nplt.rcParams['axes.unicode_minus'] = False\n\nCOLORS = ['#000000', '#4D4D4D', '#7F7F7F', '#B2B2B2']\nMARKERS = ['o', 's', '^', 'D', 'v']\n\nmpl.rcParams.update({\n    'font.size': 11,\n    'axes.linewidth': 0.8,\n    'axes.spines.top': False,\n    'axes.spines.right': False,\n    'axes.grid': True,\n    'grid.alpha': 0.3,\n    'legend.frameon': False,\n    'savefig.dpi': 300,\n    'savefig.bbox': 'tight'\n})\n```\n\n3. **Generate scatter plot**\n\n```python\nx_col = '{{x}}'\ny_col = '{{y}}'\ngroup_col = '{{group}}' if '{{group}}' else None\nfacet_col = '{{facet}}' if '{{facet}}' else None\nfit_line = '{{fit_line}}' or 'none'\n\nif facet_col:\n    # Faceted scatter plot\n    facets = data[facet_col].unique()\n    n_facets = len(facets)\n    fig, axes = plt.subplots(1, n_facets, figsize=({{width}} * n_facets / 2, {{height}}), sharey=True)\n    if n_facets == 1:\n        axes = [axes]\n\n    for ax, facet in zip(axes, facets):\n        subset = data[data[facet_col] == facet]\n\n        ax.scatter(subset[x_col], subset[y_col],\n                   color='black', s=30, alpha=0.6,\n                   edgecolors='black', linewidths=0.5)\n\n        if fit_line == 'linear':\n            z = np.polyfit(subset[x_col], subset[y_col], 1)\n            p = np.poly1d(z)\n            x_line = np.linspace(subset[x_col].min(), subset[x_col].max(), 100)\n            ax.plot(x_line, p(x_line), color='black', linestyle='--', linewidth=1)\n\n        ax.set_title(facet)\n        ax.set_xlabel('{{xlabel}}' or x_col if ax == axes[len(axes)//2] else '')\n\n    axes[0].set_ylabel('{{ylabel}}' or y_col)\n\n    if '{{title}}':\n        fig.suptitle('{{title}}', y=1.02, fontweight='bold')\n\nelse:\n    # Single scatter plot\n    fig, ax = plt.subplots(figsize=({{width}}, {{height}}))\n\n    if group_col:\n        groups = data[group_col].unique()\n        for i, group in enumerate(groups):\n            subset = data[data[group_col] == group]\n            ax.scatter(subset[x_col], subset[y_col],\n                       marker=MARKERS[i % len(MARKERS)],\n                       color=COLORS[i % len(COLORS)],\n                       s=40, alpha=0.7, label=group,\n                       edgecolors='black', linewidths=0.5)\n    else:\n        ax.scatter(data[x_col], data[y_col],\n                   color='black', s=40, alpha=0.6,\n                   edgecolors='black', linewidths=0.5)\n\n    # Add trend line\n    if fit_line == 'linear':\n        z = np.polyfit(data[x_col], data[y_col], 1)\n        p = np.poly1d(z)\n        x_line = np.linspace(data[x_col].min(), data[x_col].max(), 100)\n        ax.plot(x_line, p(x_line), color='black', linestyle='--', linewidth=1.5,\n                label='è¶‹åŠ¿çº¿' if group_col else None)\n    elif fit_line == 'loess':\n        try:\n            from scipy.ndimage import uniform_filter1d\n            # Simple moving average as LOESS approximation\n            sorted_idx = np.argsort(data[x_col])\n            x_sorted = data[x_col].values[sorted_idx]\n            y_sorted = data[y_col].values[sorted_idx]\n            y_smooth = uniform_filter1d(y_sorted, size=max(5, len(y_sorted)//10))\n            ax.plot(x_sorted, y_smooth, color='black', linestyle='--', linewidth=1.5,\n                    label='è¶‹åŠ¿çº¿' if group_col else None)\n        except ImportError:\n            print(\"LOESS requires scipy. Using linear fit instead.\")\n            z = np.polyfit(data[x_col], data[y_col], 1)\n            p = np.poly1d(z)\n            x_line = np.linspace(data[x_col].min(), data[x_col].max(), 100)\n            ax.plot(x_line, p(x_line), color='black', linestyle='--', linewidth=1.5)\n\n    ax.set_xlabel('{{xlabel}}' or x_col)\n    ax.set_ylabel('{{ylabel}}' or y_col)\n\n    if '{{title}}':\n        ax.set_title('{{title}}')\n\n    if group_col or (fit_line != 'none' and group_col):\n        ax.legend()\n\nplt.tight_layout()\n```\n\n4. **Save output**\n\n```python\noutput_path = Path('{{output}}' or 'paper/figures/scatter')\noutput_path.parent.mkdir(parents=True, exist_ok=True)\n\nfor fmt in ['pdf', 'png']:\n    fig.savefig(f\"{output_path}.{fmt}\")\n    print(f\"Saved: {output_path}.{fmt}\")\n\nplt.close()\n```\n\n## Example Usage\n\n```\n/academic-figures:scatter data.csv --x education --y income --group region --fit_line linear --title \"æ•™è‚²ä¸æ”¶å…¥çš„å…³ç³»\"\n```\n\n## Output\n\n- Scatter plot with grayscale styling\n- Optional trend line (linear or LOESS)\n- Grouped by marker shape and color\n- Faceted panels if specified\n",
        "plugins/academic-figures/commands/setup.md": "---\ndescription: Check environment and configure fonts for academic figure generation\n---\n\n## Goal\n\nVerify the user's Python environment has required packages installed and detect available Chinese fonts for academic figure generation.\n\n## Execution Steps\n\n1. **Check Python and required packages**\n\nRun the following Python script to check dependencies:\n\n```python\nimport sys\nprint(f\"Python version: {sys.version}\")\n\nrequired = ['matplotlib', 'numpy', 'pandas']\noptional = ['seaborn', 'geopandas', 'scipy']\n\nmissing_required = []\nmissing_optional = []\n\nfor pkg in required:\n    try:\n        __import__(pkg)\n        print(f\"[OK] {pkg}\")\n    except ImportError:\n        missing_required.append(pkg)\n        print(f\"[MISSING] {pkg}\")\n\nfor pkg in optional:\n    try:\n        __import__(pkg)\n        print(f\"[OK] {pkg} (optional)\")\n    except ImportError:\n        missing_optional.append(pkg)\n        print(f\"[MISSING] {pkg} (optional)\")\n\nif missing_required:\n    print(f\"\\nInstall missing required packages: pip install {' '.join(missing_required)}\")\n```\n\n2. **Detect available Chinese fonts**\n\n```python\nfrom matplotlib import font_manager\n\n# Chinese font candidates by platform\nfont_candidates = [\n    'STFangsong', 'SimSun', 'SimHei',  # Windows/Mac\n    'PingFang SC', 'Heiti SC', 'STHeiti',  # macOS\n    'Noto Sans CJK SC', 'WenQuanYi Micro Hei',  # Linux\n    'Microsoft YaHei', 'FangSong'\n]\n\navailable_fonts = set(f.name for f in font_manager.fontManager.ttflist)\nchinese_fonts = [f for f in font_candidates if f in available_fonts]\n\nprint(\"\\nAvailable Chinese fonts:\")\nfor f in chinese_fonts:\n    print(f\"  - {f}\")\n\nif chinese_fonts:\n    print(f\"\\nRecommended font: {chinese_fonts[0]}\")\nelse:\n    print(\"\\nWARNING: No Chinese fonts found. Chinese characters may not display correctly.\")\n    print(\"Consider installing: Noto Sans CJK or Source Han Sans\")\n```\n\n3. **Test figure generation**\n\n```python\nimport matplotlib.pyplot as plt\nimport matplotlib as mpl\n\n# Configure Chinese font\nchinese_fonts = ['STFangsong', 'SimSun', 'PingFang SC', 'SimHei']\nplt.rcParams['font.sans-serif'] = chinese_fonts\nplt.rcParams['font.family'] = 'sans-serif'\nplt.rcParams['axes.unicode_minus'] = False\n\n# Test plot\nfig, ax = plt.subplots(figsize=(4, 3))\nax.bar(['ç±»åˆ«A', 'ç±»åˆ«B', 'ç±»åˆ«C'], [3, 7, 5], color=['black', 'gray', 'lightgray'])\nax.set_title('ä¸­æ–‡å­—ä½“æµ‹è¯•')\nax.set_ylabel('æ•°å€¼')\nplt.tight_layout()\nplt.savefig('font_test.png', dpi=150)\nplt.close()\nprint(\"\\nTest figure saved to: font_test.png\")\nprint(\"Please verify Chinese characters display correctly.\")\n```\n\n## Output\n\nReport the following to the user:\n- Python version and package status\n- Available Chinese fonts\n- Test figure location for verification\n\n## Error Handling\n\n- If matplotlib is missing: Provide `pip install matplotlib numpy pandas` command\n- If no Chinese fonts found: Suggest installing Noto Sans CJK fonts\n- If font test fails: Check matplotlib cache with `matplotlib.get_cachedir()`\n",
        "plugins/project-management/.claude-plugin/plugin.json": "{\n  \"name\": \"project-management\",\n  \"description\": \"A skill for standardized project scaffolding, restructuring, and validation.\",\n  \"version\": \"0.1.0\",\n  \"author\": {\n    \"name\": \"Adrian\",\n    \"email\": \"syfyufei@gmail.com\"\n  },\n  \"homepage\": \"https://github.com/syfyufei/llm-research-marketplace\",\n  \"repository\": \"https://github.com/syfyufei/llm-research-marketplace\",\n  \"license\": \"MIT\",\n  \"keywords\": [\"project\", \"management\", \"scaffolding\", \"validation\"],\n  \"skills\": [\n    \"./project-management.md\"\n  ],\n  \"commands\": [\n    \"./commands/create.md\",\n    \"./commands/restructure.md\",\n    \"./commands/validate.md\",\n    \"./commands/status.md\"\n  ]\n}\n",
        "plugins/project-management/commands/create.md": "---\ndescription: Create a standardized research project workspace with templates, Git init, and metadata.\n---\n\n## Goal\nGuide the user through `/project-management:create` to spin up a new project directory following the standard blueprint.\n\n## Preparation\n1. Collect parameters (ask concise follow-up questions if missing):\n   - `project_name` (kebab-case, required)\n   - `root` directory (default current workspace)\n   - `git_init` (y/n, default yes)\n   - `author_name` (default from config)\n   - `description`\n   - `force` overwrite flag if directory already exists\n2. Validate project name against regex `^[a-z][a-z0-9-]*[a-z0-9]$`. Reject uppercase, underscores, or trailing hyphens.\n3. Determine `PROJECT_PATH=\"$ROOT/$project_name\"` and confirm with the user before creating anything when `force` not provided.\n\n## Execution Steps\n1. **Create directories**\n   ```bash\n   PROJECT_PATH=\"<abs path>\"\n   mkdir -p \"$PROJECT_PATH\"/{claude-code,data/raw,data/cleaned,codes,paper/figures,paper/manuscripts,pre/poster,pre/slides}\n   ```\n   Mention any pre-existing directories that were reused.\n2. **Render templates** using values:\n   - `creation_date=$(date +%Y-%m-%d)`\n   - `year=$(date +%Y)`\n   Copy from `../templates/project/*.template`:\n   ```bash\n   env PROJECT_NAME=\"...\" AUTHOR_NAME=\"...\" DESCRIPTION=\"...\" CREATION_DATE=\"$creation_date\" YEAR=\"$year\" \\\n     envsubst < ../templates/project/README.md.template > \"$PROJECT_PATH/README.md\"\n   ```\n   Repeat for `.gitignore` and `project.yml`. Also write `.project-config.json` matching the template in `skills/project-management.md`.\n3. **Git initialization**\n   ```bash\n   if [ \"$git_init\" = \"true\" ]; then\n     (cd \"$PROJECT_PATH\" && git init && git add . && git commit -m \"Initial commit: $project_name\")\n   fi\n   ```\n   If Git commands fail, capture stderr and report as warning, not fatal.\n4. **Summary**\n   Respond with:\n   - Absolute project path\n   - Directories created\n   - Files generated\n   - Git initialization status\n   - Suggested next steps (e.g., â€œopen README.md and update problem statementâ€)\n\n## Error Handling\n- Directory already exists â†’ offer `force` or alternative name.\n- Missing template or permission issue â†’ stop and show exact path plus remediation idea.\n- Invalid project name â†’ repeat regex hint.\n\n## Example Reply\n```\nCreated /Users/adrian/research/causal-impact\n- Directories: claude-code, data/raw, data/cleaned, ...\n- Files: README.md, .gitignore, project.yml, .project-config.json\nGit repo initialized with initial commit.\nNext: document hypotheses inside README.md and add datasets under data/raw/.\n```\n",
        "plugins/project-management/commands/restructure.md": "---\ndescription: Restructure an existing project into the standard directory/file blueprint with backups.\n---\n\n## Goal\nUpgrade an existing project to the canonical layout while preserving data by creating a timestamped backup and normalizing directories.\n\n## Preparation\n1. Gather `root` (project path), `backup` (default true), `remove_nonstandard` (default true), and `force` flags.\n2. Verify the directory exists via `ls \"$root\"`; abort with actionable error if missing.\n3. Load required directories/files from `../config/config.json -> standard_structure`.\n\n## Execution\n1. **Backup (if enabled)**\n   ```bash\n   if [ \"$backup\" = \"true\" ]; then\n     ts=$(date +%Y%m%d_%H%M%S)\n     backup_dir=\"$(dirname \"$root\")/$(basename \"$root\")_backup_$ts\"\n     cp -R \"$root\" \"$backup_dir\"\n   fi\n   ```\n   Report backup path.\n2. **Create missing directories**\n   Loop through required list and run `mkdir -p \"$root/$dir\"` while tracking which ones were added.\n3. **Suggest file moves**\n   - Scan top-level items (excluding `.git`, `.claude*`).\n   - For loose `.py`/`.ipynb`, suggest moving into `codes/`.\n   - For figures (`*.png`, `*.svg`, `*.pdf`), suggest `paper/figures/`.\n   Confirm before moving unless `force=true`.\n4. **Remove non-standard directories** when permitted:\n   ```bash\n   if [ \"$remove_nonstandard\" = \"true\" ]; then\n     # list directories not in required set + allowed hidden ones\n   fi\n   ```\n   Always log deletions; skip if uncertain.\n5. **Refresh templates**\n   Re-render README, `.gitignore`, `project.yml`, `.project-config.json` using `update_existing=true` semantics (overwrite while keeping backups). Mention fields updated (e.g., restructure date).\n6. **Report**\n   Summarize backup, created dirs, removed dirs, files moved, and manual follow-ups.\n\n## Error Handling\n- If copy fails due to permissions, warn and confirm whether to continue without backup.\n- If user declines destructive step, skip and note outstanding work.\n- Keep backups until user deletes them.\n\n## Example Reply\n```\nRestructured ~/projects/ablation-study\n- Backup: ~/projects/ablation-study_backup_20250214_103255\n- Created dirs: paper/manuscripts, pre/poster\n- Moved scripts -> codes/, PNGs -> paper/figures/\n- Removed non-standard dir: old-notes/\nTemplates refreshed with restructure date 2025-02-14.\nNext: run /project-management:validate to confirm compliance.\n```\n",
        "plugins/project-management/commands/status.md": "---\ndescription: Generate a comprehensive status report for a research project, combining structure stats, validation score, and Git telemetry.\n---\n\n## Goal\nProduce `/project-management:status` output so the user can see readiness at a glance.\n\n## Preparation\n1. Ask for `root` path (default current).\n2. Determine whether to include Git data (`include_git`, default true) and per-directory file stats (`include_file_stats`, default true).\n\n## Execution\n1. Confirm project exists. Collect `project_name=$(basename \"$root\")` and `last_modified` via `stat -f \"%Sm\"`.\n2. Traverse directory tree (skip hidden) using `find` or `python - <<'PY' ...` to compute:\n   - Total directory count\n   - Total file count\n   - Total size in MB (rounded to 0.1)\n   - Optional breakdown: for each top-level directory, record file count + size.\n3. Invoke `/project-management:validate` internally (or re-run the validation logic inline) to reuse compliance score and key issues.\n4. If `.git` exists and `include_git=true`, gather:\n   ```bash\n   commits=$(git -C \"$root\" rev-list --count HEAD 2>/dev/null || echo 0)\n   branches=$(git -C \"$root\" branch --list | wc -l | tr -d ' ')\n   last_commit=$(git -C \"$root\" log -1 --format=%ci 2>/dev/null || echo \"n/a\")\n   ```\n   Handle detached HEAD gracefully.\n5. Render a human-readable report:\n   - Header: project name, path, last modified\n   - Structure stats table\n   - Compliance score with emoji indicator (>=90 âœ…, 75-89 ğŸ‘, 60-74 âš ï¸, <60 âŒ)\n   - File breakdown (only if requested)\n   - Git stats or warning if repo missing\n   - Recommendations (e.g., â€œScore < 70 â†’ run /project-management:restructureâ€)\n\n## Error Handling\n- Missing directory â†’ respond with actionable message.\n- `git` not installed or repo missing â†’ show â€œGit data unavailableâ€.\n- Traversal permission issues â†’ skip and mention path.\n\n## Example Reply\n```\nStatus: /Users/adrian/projects/ablation-study (updated 2025-02-18 09:42)\nStructure: 23 dirs, 178 files, 412.5â€¯MB, compliance score 88/100 (ğŸ‘)\nBreakdown:\n- data/: 94 files, 320.4â€¯MB\n- codes/: 28 files, 12.6â€¯MB\nGit: 42 commits across 3 branches, last commit 2025-02-17 22:10 UTC\nInsights:\n- Missing directory pre/poster. Create before conference prep.\n- Consider validating again after migrating notebooks under codes/.\n```\n",
        "plugins/project-management/commands/validate.md": "---\ndescription: Validate a project directory, compute compliance score, and optionally auto-fix issues.\n---\n\n## Goal\nRun `/project-management:validate` to ensure a project matches the standard blueprint and produce a scored report.\n\n## Preparation\n1. Ask for `root` path (default current).\n2. Determine whether to `fix_issues` (y/n) and if `strict_mode` should flag extra directories/files.\n3. Load scoring weights from `../config/config.json -> validation.scoring_weights`.\n\n## Execution Steps\n1. **Directory/File Scan**\n   ```bash\n   root=\"<abs path>\"\n   required_dirs=(claude-code data/raw data/cleaned codes paper/figures paper/manuscripts pre/poster pre/slides)\n   required_files=(README.md .gitignore project.yml)\n   ```\n   - Capture missing and extra items (ignore `.git`, `.claude`, `.claude-plugin`, `__pycache__`).\n2. **Score Calculation**\n   - `dir_score = (required_dirs - missing_dirs)/required_dirs * 40`\n   - `file_score = (required_files - missing_files)/required_files * 35`\n   - `content_score = 15` if key files exist and non-empty else 0.\n   - `git_score = 10` when `.git` exists and has commits (`git rev-list --count HEAD > 0`).\n   - Total score = round sum to int.\n3. **Issue List**\n   - Missing directories/files.\n   - Strict mode: list extras.\n   - Empty or tiny files (<10 bytes) flagged for rewrite.\n4. **Auto-Fix (optional)**\n   When `fix_issues=true`, create missing directories and render templates with `missing_only=true` so existing files remain untouched. Document each fix.\n5. **Report**\n   Respond with:\n   - Score out of 100 + qualitative tier (>=90 excellent, >=75 good, >=60 fair, else poor).\n   - Table/bullets of missing vs. extra.\n   - Fixes applied or pending.\n   - Recommendations (e.g., â€œInitialize Git before sharingâ€).\n\n## Error Handling\n- Root missing â†’ abort with helpful tip.\n- If Git commands fail, treat as warning and continue scoring without Git points.\n- When template rendering fails, include failing file path and leave instructions for manual creation.\n\n## Example Reply\n```\n/Users/adrian/projects/causal-impact scored 82/100 (good)\nMissing: pre/poster, README.md\nExtras (strict): old-data/\nFixes: created pre/poster, generated README.md from template.\nRecommendation: move raw datasets under data/raw and remove old-data after backup.\n```\n",
        "plugins/research-memory/.claude-plugin/plugin.json": "{\n  \"name\": \"research-memory\",\n  \"description\": \"A skill for academic research memory management.\",\n  \"version\": \"0.2.0\",\n  \"author\": {\n    \"name\": \"Adrian\",\n    \"email\": \"syfyufei@gmail.com\"\n  },\n  \"homepage\": \"https://github.com/syfyufei/llm-research-marketplace\",\n  \"repository\": \"https://github.com/syfyufei/llm-research-marketplace\",\n  \"license\": \"MIT\",\n  \"keywords\": [\"research\", \"memory\", \"academic\", \"llm\"],\n  \"skills\": [\n    \"./research-memory.md\"\n  ],\n  \"commands\": [\n    \"./commands/bootstrap.md\",\n    \"./commands/checkpoint.md\",\n    \"./commands/focus.md\",\n    \"./commands/insights.md\",\n    \"./commands/query.md\",\n    \"./commands/remember.md\",\n    \"./commands/review.md\",\n    \"./commands/status.md\",\n    \"./commands/summary.md\",\n    \"./commands/timeline.md\"\n  ]\n}\n",
        "plugins/research-memory/commands/bootstrap.md": "---\ndescription: Restore project context and generate work plan\n---\n\nUse the research-memory skill to bootstrap the project context.\n\nCall the `research_memory_bootstrap` tool to:\n- Load the project overview from `memory/project-overview.md`\n- Show recent development log entries from `memory/devlog.md`\n- List current TODOs from `memory/todos.md`\n- Generate a suggested work plan for today\n\nPresent the information in a clear, organized format and suggest what the user should work on next.\n",
        "plugins/research-memory/commands/checkpoint.md": "---\ndescription: Create a named checkpoint of current state\n---\n\nUse the research-memory skill to create a checkpoint of the current project state.\n\nAsk the user for a checkpoint name/description if not provided.\n\nA checkpoint captures:\n- Current timestamp\n- Checkpoint name/tag\n- Project state summary\n- Recent work summary\n- Active TODOs at this point\n- Key metrics snapshot\n\nLog the checkpoint to `memory/checkpoints.md` in this format:\n\n```markdown\n## Checkpoint: [NAME] (YYYY-MM-DD HH:MM)\n\n**Purpose**: [User's description]\n\n**Project State**:\n- Phase: [Current phase]\n- Progress: [Brief summary]\n- Open TODOs: X items\n- Recent experiments: Y\n\n**Key Metrics**:\n- Total sessions: N\n- Experiments run: M\n- Decisions made: P\n\n**Notable Context**:\n- [Important note 1]\n- [Important note 2]\n\n---\n```\n\nAfter creating the checkpoint, confirm:\n- Where it was saved\n- How to reference it later\n- Suggest using it as a comparison point\n\nUse cases:\n- Before major changes: `/research-memory:checkpoint \"Before refactor\"`\n- Milestones: `/research-memory:checkpoint \"Paper draft v1 complete\"`\n- Experiments: `/research-memory:checkpoint \"Baseline model finalized\"`\n- Reviews: `/research-memory:checkpoint \"End of sprint 3\"`\n\nSupport optional arguments:\n- `--tag milestone` : Mark as a milestone checkpoint\n- `--tag experiment` : Mark as an experiment checkpoint\n- `--tag backup` : Mark as a safety backup point\n",
        "plugins/research-memory/commands/focus.md": "---\ndescription: Get focused daily work plan\n---\n\nUse the research-memory skill to generate a focused daily work plan.\n\nRead from memory files and analyze:\n- Open TODOs from `memory/todos.md`\n- Recent work context from `memory/devlog.md`\n- Current project phase and blockers\n- Dependencies between tasks\n\nGenerate a focused daily plan with:\n\n## â˜€ï¸ Today's Focus ([DATE])\n\n### âš¡ Top Priority (2-3 hours)\n[Single most important task today]\n- **Task**: [Description]\n- **Why now**: [Urgency/blocking reason]\n- **Blocks**: [What depends on this]\n- **Context**: [Relevant background from recent work]\n- **Success criteria**: [How to know it's done]\n\n### ğŸ“Œ Secondary Tasks (1-2 hours each)\n[2-3 important but not urgent tasks]\n- **Task 1**: [Description]\n  â†’ Est: X hours | Impact: High/Medium\n\n- **Task 2**: [Description]\n  â†’ Est: X hours | Impact: High/Medium\n\n### ğŸ¯ Stretch Goals (if time permits)\n[1-2 nice-to-have tasks for extra time]\n- [Task that can be done if ahead of schedule]\n- [Quick win or preparation for tomorrow]\n\n### â° Time Budget Check\n- Top Priority: 2-3 hours\n- Secondary Tasks: 2-4 hours\n- Stretch Goals: 1-2 hours\n- **Total: 5-9 hours**\n\n### ğŸ’¡ Focus Recommendation\n[Specific advice on how to approach today's work]\n- Recommended order: [Task sequence]\n- Deep work needed: [Which tasks need focus]\n- Quick wins: [Tasks that can be done quickly]\n- Blockers to resolve: [What's in the way]\n\n### ğŸš« Not Today\n[Tasks that are important but should wait]\n- [Task]: Wait until [dependency] is resolved\n- [Task]: Schedule for [later time]\n\n---\n\n## Selection Criteria\n\nWhen selecting tasks, prioritize based on:\n1. **Blockers**: Tasks that are blocking other work\n2. **Urgency**: Deadlines or time-sensitive items\n3. **Dependencies**: Prerequisites for planned work\n4. **Energy level**: Match task difficulty to typical daily energy curve\n5. **Momentum**: Build on recent progress\n\n## Time Management\n\nSupport optional arguments:\n- `--hours N` : Plan for N hours of work (default: 6-8)\n- `--energy high|normal|low` : Adjust for energy level\n- `--mode deep|varied|quick` : Focus style preference\n\nExamples:\n```bash\n/research-memory:focus\n/research-memory:focus --hours 4\n/research-memory:focus --energy low --mode quick\n```\n\n## Focus Tips\n\nInclude practical advice:\n- **Deep work blocks**: Suggest 90-120 min focused sessions\n- **Break strategy**: Recommend when to take breaks\n- **Context switching**: Minimize by grouping similar tasks\n- **Energy management**: Hard tasks when fresh, routine tasks when tired\n\n## Integration with Other Commands\n\nSuggest complementary commands:\n- \"Run `/research-memory:status` to see current state\"\n- \"Use `/research-memory:remember` at end of day to log progress\"\n- \"Check `/research-memory:insights` if feeling stuck\"\n\nBe specific, actionable, and realistic. Help the user make actual progress today, not just plan theoretically.\n",
        "plugins/research-memory/commands/insights.md": "---\ndescription: Get AI-powered insights and suggestions\n---\n\nUse the research-memory skill to analyze the project and provide intelligent insights.\n\nRead all memory files and analyze patterns, gaps, and opportunities.\n\nProvide insights in these categories:\n\n## ğŸ” Pattern Analysis\n- **Work patterns**: When are you most productive?\n- **Research phases**: Which phase takes longest?\n- **Decision velocity**: How quickly do decisions get made?\n- **Iteration speed**: Time between experiments\n\n## âš ï¸ Potential Issues\n- **Forgotten TODOs**: Items open for >30 days\n- **Stale decisions**: Decisions that may need revisiting\n- **Repeated experiments**: Similar experiments with different results\n- **Documentation gaps**: Missing context or rationale\n\n## ğŸ’¡ Suggestions\n- **Next steps**: Based on current progress and patterns\n- **Quick wins**: Easy tasks that could be completed soon\n- **Research directions**: Promising areas to explore\n- **Efficiency tips**: Ways to speed up common tasks\n\n## ğŸ“Š Project Health Metrics\n- **Momentum**: Are things progressing well?\n- **Clarity**: Are goals and next steps clear?\n- **Documentation**: Is the project well-documented?\n- **Risk factors**: What could slow down progress?\n\n## ğŸ¯ Recommendations\n- [Prioritized list of 3-5 actionable recommendations]\n\nBe constructive and specific. Focus on actionable insights that can immediately improve the research workflow.\n",
        "plugins/research-memory/commands/query.md": "---\ndescription: Query research memory history\n---\n\nUse the research-memory skill to search through project history.\n\nAsk the user what they want to search for if not specified.\n\nCall the `research_memory_query_history` tool with the search query to find relevant information from:\n- Development logs (`memory/devlog.md`)\n- Decision records (`memory/decisions.md`)\n- Experiment data (`memory/experiments.csv`)\n\nPresent the search results with context, timestamps, and relevant excerpts.\n",
        "plugins/research-memory/commands/remember.md": "---\ndescription: Remember current work session\n---\n\nUse the research-memory skill to remember the current work session.\n\nAnalyze the conversation history and extract:\n- Session goal and main objective\n- Summary of changes made\n- Experiments conducted (hypothesis, dataset, model, metrics, notes)\n- Key decisions made (decision, rationale, alternatives considered)\n- New TODOs and completed items\n- Research phases (data_preprocess, modeling, robustness, etc.)\n\nThen call the `research_memory_log_session` tool with the structured information.\n\nConfirm what was logged and where it was saved.\n",
        "plugins/research-memory/commands/review.md": "---\ndescription: Review work in a specific time period\n---\n\nUse the research-memory skill to review work done in a specific time period.\n\nAsk the user for the time period if not specified in the command arguments.\n\nRead from memory files and extract all activities within the specified period:\n- Development log entries\n- Experiments conducted\n- Decisions made\n- TODOs created and completed\n\nPresent as a structured review:\n\n## Period Review: [START_DATE] to [END_DATE]\n\n### Summary\n- Total sessions: X\n- Experiments completed: Y\n- Decisions made: Z\n- TODOs completed: N of M\n\n### Detailed Activities\n\n#### Week of [DATE]\n- [Activity 1 with context]\n- [Activity 2 with context]\n\n#### Week of [DATE]\n- [Activity 1 with context]\n- [Activity 2 with context]\n\n### Key Achievements\n- [Notable accomplishment 1]\n- [Notable accomplishment 2]\n\n### Challenges & Blockers\n- [Issue 1 and how it was resolved]\n- [Issue 2 and current status]\n\n### Productivity Insights\n- Most productive days: [DAYS]\n- Primary focus area: [PHASE]\n- Velocity: X activities per week\n\nSupport arguments:\n- `--last-week` : Review last 7 days\n- `--last-month` : Review last 30 days\n- `--from YYYY-MM-DD --to YYYY-MM-DD` : Custom range\n- `--format report|weekly|monthly` : Different report styles\n",
        "plugins/research-memory/commands/status.md": "---\ndescription: Quick project status overview\n---\n\nUse the research-memory skill to show a quick project status overview.\n\nCall the `research_memory_bootstrap` tool and present a concise summary including:\n- **Project name and main objective**\n- **Last updated**: When was the last session logged\n- **Recent progress**: Brief 1-2 line summary of latest work\n- **Current phase**: Which research phase (data_preprocess, modeling, robustness, etc.)\n- **Active TODOs**: Number of open vs completed items\n- **Quick stats**:\n  - Total sessions logged\n  - Total experiments conducted\n  - Total decisions recorded\n\nPresent this in a compact, dashboard-style format that can be quickly scanned.\n",
        "plugins/research-memory/commands/summary.md": "---\ndescription: Generate comprehensive project summary\n---\n\nUse the research-memory skill to generate a comprehensive project summary.\n\nRead from memory files and create a structured summary:\n\n## Project Overview\n- Research questions and hypotheses\n- Dataset information\n- Timeline (start date to present)\n\n## Key Findings\n- Summarize all successful experiments\n- Highlight significant results with metrics\n- Key insights discovered\n\n## Important Decisions\n- List major decisions made\n- Rationale for each decision\n- Impact on project direction\n\n## Progress Summary\n- What phases are complete\n- What's currently in progress\n- What's planned next\n\n## Open Questions / TODOs\n- Outstanding issues\n- Next steps\n\nFormat this as a polished report suitable for:\n- Team updates\n- Advisor meetings\n- Research documentation\n- Progress reports\n",
        "plugins/research-memory/commands/timeline.md": "---\ndescription: Visualize project timeline\n---\n\nUse the research-memory skill to create a visual project timeline.\n\nRead `memory/devlog.md`, `memory/experiments.csv`, and `memory/decisions.md` to extract:\n- All dated entries\n- Experiments with timestamps\n- Decision points\n\nPresent as a chronological timeline:\n\n```\n2025-11-15 | [DATA] Data cleaning completed - removed 150 outliers\n2025-11-18 | [MODEL] Baseline model RÂ²=0.72\n2025-11-20 | [DECISION] Chose log transformation over Box-Cox\n2025-11-22 | [ROBUST] Heteroscedasticity test passed\n2025-11-25 | [EXPERIMENT] Added control variables, RÂ²â†’0.78\n2025-12-01 | [WRITING] Started draft of results section\n```\n\nUse emoji indicators for different activities:\n- ğŸ“Š Data processing\n- ğŸ”¬ Experiments\n- ğŸ¤” Decisions\n- âœ… Completed milestones\n- ğŸ“ Writing\n\nSupport optional arguments:\n- `--last 7d` : Show last 7 days\n- `--last 30d` : Show last 30 days\n- `--from YYYY-MM-DD --to YYYY-MM-DD` : Custom date range\n\nIf no arguments provided, show last 14 days by default.\n",
        "plugins/skill-squared/.claude-plugin/plugin.json": "{\n  \"name\": \"skill-squared\",\n  \"description\": \"A skill for skill creation, extension, sync, and validation.\",\n  \"version\": \"0.1.0\",\n  \"author\": {\n    \"name\": \"Adrian\",\n    \"email\": \"syfyufei@gmail.com\"\n  },\n  \"homepage\": \"https://github.com/syfyufei/llm-research-marketplace\",\n  \"repository\": \"https://github.com/syfyufei/llm-research-marketplace\",\n  \"license\": \"MIT\",\n  \"keywords\": [\"skill\", \"development\", \"claude\", \"tool\"],\n  \"skills\": [\n    \"./skill-squared.md\"\n  ],\n  \"commands\": [\n    \"./commands/create.md\",\n    \"./commands/command.md\",\n    \"./commands/sync.md\",\n    \"./commands/validate.md\"\n  ]\n}\n",
        "plugins/skill-squared/commands/command.md": "---\ndescription: Add a new slash command to an existing skill and update plugin metadata.\n---\n\n## Goal\nExecute `/skill-squared:command` so the user gains a new `.claude/commands/<name>.md` in their skill repo and the plugin manifest references it.\n\n## Steps\n1. Collect:\n   - `skill_dir` (absolute path to skill root)\n   - `command_name` (kebab-case)\n   - `command_description`\n   - Optional `command_instructions`\n2. Validate:\n   - `skill_dir` contains `.claude-plugin/plugin.json`\n   - Command name not already present in `.claude/commands/`\n   - Plugin JSON is valid.\n3. Ensure `.claude/commands/` folder exists: `mkdir -p \"$skill_dir/.claude/commands\"`.\n4. Render command file using `../templates/skill/command.md.template`. Variables:\n   - `command_name`\n   - `command_title` (title case)\n   - `command_description`\n   - `command_instructions` (fallback to default sentence when empty)\n5. Append command path to plugin manifest:\n   ```bash\n   jq '.commands += [\"./.claude/commands/'\"$command_name\"'.md\"]' \\\n     \"$skill_dir/.claude-plugin/plugin.json\" > /tmp/plugin.json && \\\n   mv /tmp/plugin.json \"$skill_dir/.claude-plugin/plugin.json\"\n   ```\n   If the `commands` array is missing, initialize it.\n6. Respond with success message including the relative command path and reminder to reinstall the skill.\n\n## Error Handling\n- Directory missing â†’ explain expected structure.\n- Invalid command name â†’ show kebab-case example.\n- JSON update failure â†’ keep created command file but warn user to manually register it.\n",
        "plugins/skill-squared/commands/create.md": "---\ndescription: Create a brand new Claude Code skill repository with templates, metadata, and executable install script.\n---\n\n## Goal\nUse `/skill-squared:create` to scaffold a complete skill project from scratch.\n\n## Workflow\n1. Gather required inputs:\n   - `skill_name` (kebab-case)\n   - `skill_description`\n   - `author_name`\n   - `author_email`\n   - `github_user`\n   - Optional `target_dir` (defaults to current)\n   - Optional `version` (default `0.1.0`)\n2. Validate:\n   - Name matches `^[a-z0-9]+(-[a-z0-9]+)*$`\n   - Email contains `@`\n   - Target directory is writable and destination folder does not already exist (prompt for overwrite only if user insists).\n3. Create directory skeleton inside `$TARGET/$skill_name`:\n   ```\n   .claude-plugin/\n   .claude/commands/\n   skills/\n   handlers/\n   templates/skill/\n   templates/command/\n   config/\n   docs/\n   ```\n4. Render templates from `../templates/skill/*.template` using env substitution:\n   ```bash\n   export SKILL_NAME=...\n   export SKILL_DESCRIPTION=...\n   export AUTHOR_NAME=...\n   export AUTHOR_EMAIL=...\n   export GITHUB_USER=...\n   export VERSION=...\n   export CREATED_DATE=$(date +%Y-%m-%d)\n   envsubst < ../templates/skill/plugin.json.template > \"$SKILL_PATH/.claude-plugin/plugin.json\"\n   # repeat for marketplace.json, skill.md, README.md, install.sh, CLAUDE.md\n   ```\n5. Copy `.gitignore` and `LICENSE` contents (use MIT license text with current year + author).\n6. Make install script executable: `chmod +x \"$SKILL_PATH/install.sh\"`.\n7. Output summary table:\n   - Root path\n   - Directories created\n   - Files rendered\n   - Reminder to run `./install.sh` from inside the new skill.\n\n## Error Handling\n- If directory exists, stop unless the user explicitly confirms `force`.\n- Missing templates â†’ point to `../templates/skill/` and suggest running `/skill-squared:sync` to refresh.\n- Template render failure â†’ include variable name causing the issue and reference docs/skill-squared.md for valid placeholders.\n",
        "plugins/skill-squared/commands/sync.md": "---\ndescription: Synchronize a standalone skill repository into the marketplace with optional dry-run and backups.\n---\n\n## Goal\nUse `/skill-squared:sync` to copy the skill markdown + command files from a source repo into this marketplace safely.\n\n## Inputs\n- `source_dir` (standalone skill root)\n- `target_dir` (usually this marketplace root)\n- `skill_name` (auto-detect from plugin.json if omitted)\n- `dry_run` (bool, default false)\n- `backup` (bool, default true)\n\n## Procedure\n1. Validate both directories exist and contain the expected `.claude-plugin/plugin.json` files.\n2. Determine `skill_name`:\n   - If provided, trust it.\n   - Else parse `.claude-plugin/plugin.json` for `\"name\"`.\n3. Load sync config from `../config/config.json -> sync.files_to_sync` (defaults: `skills/{skill_name}.md` + `.claude/commands/`).\n4. Build file list; show preview to the user and confirm unless `dry_run=false` with explicit approval.\n5. For each file:\n   - Ensure target subdirectory exists (e.g., `.claude/commands/skill-squared/` inside the marketplace).\n   - If backup enabled and target file already exists, copy it to `<file>.backup.<timestamp>.md`.\n   - Copy file when not `dry_run`; otherwise, log `[DRY RUN]` entry.\n6. After copying, verify file sizes match (`stat -f \"%z\"`) and display summary counts: copied, skipped, backups.\n7. Recommend running `/skill-squared:validate` on the marketplace copy to confirm success.\n\n## Error Handling\n- Missing source/target path â†’ fail fast and show `ls` command to help locate.\n- Dry-run flagged issues (e.g., missing commands dir) should block execution until resolved.\n- If timestamp indicates target newer than source, warn and request confirmation before overwriting.\n",
        "plugins/skill-squared/commands/validate.md": "---\ndescription: Validate a skill repository for required files, JSON structure, frontmatter, and executable permissions.\n---\n\n## Goal\nRun `/skill-squared:validate` on a skill directory (standalone or marketplace) to ensure it meets publishing requirements.\n\n## Inputs\n- `skill_dir`\n- Optional `skill_name`\n- `strict` flag (optional) for additional linting\n\n## Steps\n1. Confirm directory exists. If `skill_name` omitted, auto-detect by reading `.claude-plugin/plugin.json` or the lone file inside `skills/`.\n2. Load validation config from `../config/config.json -> validation`.\n3. **Required files**: iterate through configured patterns (expand `{skill_name}`) and ensure each exists. Record missing items as errors.\n4. **JSON validation**: run `jq empty` (or `python -m json.tool`) on `.claude-plugin/plugin.json` and `.claude-plugin/marketplace.json`.\n5. **Frontmatter checks**:\n   - Parse YAML blocks (between `---` lines) for `skills/{skill}.md`.\n   - Iterate `.claude/commands/*.md`; ensure `description` present.\n6. **Executable files**: verify `install.sh` has executable bit (`[ -x install.sh ]`).\n7. Compile findings into categories:\n   - `errors`\n   - `warnings`\n   - `info`\n   Provide actionable suggestions for each.\n8. Return pass/fail message plus summary table (e.g., â€œ3 errors, 1 warningâ€). Encourage rerunning after fixes.\n\n## Error Handling\n- If YAML/frontmatter missing, highlight file and provide snippet example.\n- If JSON parse fails, show `jq` stderr to guide fixes.\n- When permissions insufficient, suggest `chmod +x install.sh`.\n",
        "plugins/truth-verification/.claude-plugin/plugin.json": "{\n  \"name\": \"truth-verification\",\n  \"version\": \"1.0.0\",\n  \"description\": \"Ensure research integrity by tracking data provenance, verifying authenticity, and preventing fabricated claims\",\n  \"author\": {\n    \"name\": \"Adrian\",\n    \"email\": \"syfyufei@gmail.com\"\n  },\n  \"commands\": [\n    \"./commands/init.md\",\n    \"./commands/register.md\",\n    \"./commands/track.md\",\n    \"./commands/verify.md\",\n    \"./commands/cite-check.md\",\n    \"./commands/reproduce.md\",\n    \"./commands/audit.md\",\n    \"./commands/status.md\"\n  ]\n}\n",
        "plugins/truth-verification/README.md": "# truth-verification Plugin\n\n**Version**: 1.0.0 (All Phases Complete)\n**Status**: Production Ready\n**Release Date**: 2025-12-15\n\nEnsure research integrity through comprehensive data provenance tracking, cryptographic verification, and reproducibility validation.\n\n## Features at a Glance\n\nâœ… **Phase 1**: Data registration, integrity verification, status dashboard\nâœ… **Phase 2**: Script tracking, dependency graphs, research-memory integration\nâœ… **Phase 3**: Citation validation, reproducibility scoring (0-100)\nâœ… **Phase 4**: Audit reports (Markdown/JSON/HTML), timeline, anomaly detection\nâœ… **Phase 5**: Large file optimization, data versioning, collaboration features\n\n## Quick Links\n\n- **Full Documentation**: [docs/truth-verification.md](docs/truth-verification.md)\n- **Skill Definition**: [truth-verification.md](truth-verification.md)\n- **Configuration**: [config/config.json](config/config.json)\n- **Commands**: [commands/](commands/)\n\n## Installation\n\n```bash\n./install.sh  # Install marketplace first\n/plugin install truth-verification@LLM-Research-Marketplace\n```\n\n## Quick Start\n\n```bash\n# 1. Initialize in your project\n/truth-verification:init\n\n# 2. Register data files\n/truth-verification:register --recursive --dir data/raw\n\n# 3. Track scripts\n/truth-verification:track --script codes/analysis.py \\\n  --inputs data/raw/data.csv \\\n  --outputs data/clean/results.csv\n\n# 4. Verify and validate\n/truth-verification:verify\n/truth-verification:reproduce --generate-report\n\n# 5. Generate audit\n/truth-verification:audit --include-timeline\n\n# Ready for publication! ğŸ“š\n```\n\n## Commands\n\n| Command | Phase | Purpose |\n|---------|-------|---------|\n| `init` | 1 | Initialize `.truth/` tracking infrastructure |\n| `register` | 1 | Register data files with SHA256 hashing |\n| `verify` | 1 | Check data integrity against baselines |\n| `status` | 1 | Display verification dashboard |\n| `track` | 2 | Record script execution and dependencies |\n| `cite-check` | 3 | Validate paper citations |\n| `reproduce` | 3 | Check reproducibility (0-100 score) |\n| `audit` | 4 | Generate comprehensive audit reports |\n\nAll commands fully implemented and documented.\n\n## Key Capabilities\n\n### ğŸ” Cryptographic Verification\n- SHA256 hashing for all registered files\n- Detects ANY modification to tracked data\n- Proves data authenticity and integrity\n\n### ğŸ“Š Reproducibility Scoring\n- Quantifies reproducibility (0-100)\n- Identifies missing pieces for full reproducibility\n- Supports publication workflows\n\n### ğŸ” Complete Audit Trails\n- Tracks every step: data â†’ script â†’ result\n- Generates publication-ready reports\n- Supports compliance and regulatory requirements\n\n### ğŸ¤ Research Integration\n- Integrates with research-memory for logging\n- Respects project-management structure\n- Collaborative and multi-user support\n\n### ğŸ“ˆ Advanced Features\n- Large file optimization with streaming\n- Data versioning system\n- Anomaly detection for suspicious patterns\n- Multi-format reports (Markdown/JSON/HTML)\n\n## Use Cases\n\n### ğŸ“ Before Publication\n```bash\n/truth-verification:audit --include-timeline --format markdown\n# Generate publication-ready reproducibility documentation\n```\n\n### ğŸ”¬ Data Analysis Projects\n```bash\n/truth-verification:track --script codes/...\n/truth-verification:reproduce --generate-report\n# Document complete analysis lineage\n```\n\n### ğŸ“š Compliance & Regulatory\n```bash\n/truth-verification:audit --include-anomalies --detail-level full\n# Create audit trail for compliance verification\n```\n\n### ğŸ‘¥ Team Collaboration\n```bash\n/truth-verification:status --format json\n# Share structured status with team members\n```\n\n## Architecture\n\n### Manifest-Based Tracking\nCentral `.truth/manifest.json` records:\n- Data sources with hashes and provenance\n- Analysis scripts with execution metadata\n- Results with attribution to scripts\n- Dependency graph showing data lineage\n- Verification logs and status\n\n### Dependency Graph\nTracks relationships:\n```\ndata/raw/data.csv\n    â†“ [input to]\ncodes/analysis.py\n    â†“ [produces]\npaper/figures/results.png\n```\n\n### Reproducibility Score\n```\nScore = (Input Integrity Ã— 40%) +\n        (Script Traceability Ã— 30%) +\n        (Output Attribution Ã— 20%) +\n        (No Orphaned Data Ã— 10%)\n```\n\n## Configuration\n\nDefault settings in [config/config.json](config/config.json):\n\n```json\n{\n  \"hash_algorithm\": \"SHA256\",\n  \"monitored_directories\": [\n    \"data/raw\", \"data/cleaned\", \"codes\",\n    \"paper/figures\", \"paper/manuscripts\"\n  ],\n  \"verification_mode\": \"strict\",\n  \"reproducibility_scoring\": {\n    \"weights\": { ... },\n    \"pass_threshold\": 75,\n    \"excellent_threshold\": 90\n  }\n}\n```\n\nCustomize by editing the config file.\n\n## Performance\n\n| Operation | Time | Notes |\n|-----------|------|-------|\n| Initialize | <0.1 sec | One-time setup |\n| Register 100 files | <1 sec | Streaming hashing |\n| Verify 100 files | 2-5 sec | Hash computation |\n| Track script | <0.1 sec | Metadata recording |\n| Reproduce | 1-2 sec | Graph analysis |\n| Generate audit | 2-5 sec | Report generation |\n\nNo performance impact on actual analysis work.\n\n## Version History\n\n| Version | Date | Status | Features |\n|---------|------|--------|----------|\n| 1.0.0 | 2025-12-15 | Production Ready | All phases complete |\n| 0.4.0 | 2025-12-15 | Phase 4 | Audit reports, timeline |\n| 0.3.0 | 2025-12-15 | Phase 3 | Citations, reproducibility |\n| 0.2.0 | 2025-12-15 | Phase 2 | Script tracking |\n| 0.1.0 | 2025-12-15 | Phase 1 | Core functionality |\n\n## Integration\n\n### With research-memory\nAutomatically logs:\n- Data registration events\n- Script execution tracking\n- Verification milestones\n- Publication events\n\n### With project-management\nRespects:\n- Standard directory structure\n- Project validation rules\n- Compliance requirements\n\n### With Git\nArchive with code:\n```bash\ngit add .truth/manifest.json\ngit commit -m \"Add research integrity tracking\"\n```\n\n## Troubleshooting\n\n| Issue | Solution |\n|-------|----------|\n| Manifest not found | Run `/truth-verification:init` |\n| Files show modified | Re-register or restore from backup |\n| Low reproducibility score | Run `/truth-verification:reproduce --generate-report` |\n| Citation validation fails | Register missing data or fix citations |\n\nSee [docs/truth-verification.md](docs/truth-verification.md) for detailed troubleshooting.\n\n## Requirements\n\n- Claude Code v1.0+\n- Marketplace configured for LLM-Research-Marketplace\n- Write access to project directory\n- Optional: research-memory and project-management skills\n\n## License\n\nPart of LLM-Research-Marketplace\nAuthor: Adrian\n\n## Support\n\n- Documentation: [docs/truth-verification.md](docs/truth-verification.md)\n- Full spec: [truth-verification.md](truth-verification.md)\n- Issues: GitHub repository\n\n---\n\n**Ready to ensure research integrity? Start with `/truth-verification:init`**\n",
        "plugins/truth-verification/commands/audit.md": "# truth-verification:audit\n\n**Goal**: Generate comprehensive audit reports documenting research methodology, data provenance, and analysis lineage for publication, compliance, and reproducibility verification.\n\n**When to use**: Before publication, before sharing research, for compliance audits, or to create reproducible research archives.\n\n---\n\n## Preparation\n\nBefore running this command:\n\n1. Ensure `.truth/manifest.json` exists with complete tracking\n2. Register all data files\n3. Track all script executions\n4. Run `/truth-verification:verify` to confirm data integrity\n5. Run `/truth-verification:reproduce` to validate reproducibility\n6. Optional: Run `/truth-verification:cite-check` to validate citations\n\n---\n\n## Execution\n\n### Generate default audit report (Markdown):\n```bash\n/truth-verification:audit\n```\n\n### Generate with timeline:\n```bash\n/truth-verification:audit --include-timeline\n```\n\n### Generate JSON report for systems:\n```bash\n/truth-verification:audit --format json --output audit-report.json\n```\n\n### Generate HTML report for web viewing:\n```bash\n/truth-verification:audit --format html --output audit-report.html\n```\n\n### Generate with full details:\n```bash\n/truth-verification:audit --detail-level full --include-timeline --include-anomalies\n```\n\n### Generate publication-ready report:\n```bash\n/truth-verification:audit --format markdown \\\n  --include-timeline \\\n  --include-recommendations \\\n  --output publication-audit.md\n```\n\n### Generate with anomaly detection:\n```bash\n/truth-verification:audit --include-anomalies --anomaly-sensitivity high\n```\n\n---\n\n## What Happens\n\n1. **Data Collection**:\n   - Loads complete manifest with all tracking data\n   - Collects all registration, execution, and verification logs\n   - Gathers timeline information from timestamps\n   - Extracts dependency graph and reproducibility metrics\n\n2. **Analysis**:\n   - Validates all data sources and their provenance\n   - Traces complete lineage from inputs â†’ scripts â†’ outputs\n   - Detects anomalies:\n     - Files modified after registration\n     - Missing scripts or data\n     - Broken dependency chains\n     - Orphaned data\n     - Unusual patterns (very large jumps in file size, unexpected modifications)\n   - Evaluates reproducibility\n   - Checks for policy violations\n\n3. **Timeline Generation** (optional):\n   - Creates chronological record of:\n     - When data was registered\n     - When scripts were executed\n     - When verifications occurred\n     - When modifications were detected\n     - All significant events with timestamps\n\n4. **Anomaly Detection** (optional):\n   - Identifies suspicious patterns:\n     - Data modified after analysis claimed to be complete\n     - Scripts with very long/short execution times\n     - Unusual modifications to input data\n     - Files added to manifest much later than creation\n     - Gaps in tracking\n   - Provides risk assessments\n\n5. **Report Generation**:\n   - Creates formatted report in selected format\n   - Includes summary statistics\n   - Lists all data sources with provenance\n   - Documents all analysis steps\n   - Shows complete dependency chains\n   - Provides reproducibility assessment\n   - Lists issues and recommendations\n   - Includes timeline (if requested)\n   - Includes anomaly analysis (if requested)\n\n6. **Manifest Update**:\n   - Records audit generation in manifest\n   - Adds audit metadata and timestamp\n   - Updates audit_status field\n\n---\n\n## Output Examples\n\n### Markdown Audit Report (Sample):\n```\n# Research Audit Report\n\n## Executive Summary\n- Project: test-project\n- Generated: 2025-12-15T15:00:00Z\n- Status: AUDIT COMPLETE âœ“\n- Reproducibility Score: 95/100 (Excellent)\n- Issues Found: 0 critical, 0 warnings\n\n## Data Inventory\n\n### Registered Data Sources (5 files)\n1. data/raw/dataset.csv\n   - Registered: 2025-12-15T10:00:00Z\n   - Hash: a7b3f8d9e2c1b4f6a8e9c2d5f7a8b3c1\n   - Size: 2.5 MB\n   - Status: âœ“ Verified\n   - Integrity: âœ“ Unchanged since registration\n\n2. data/raw/metrics.csv\n   - Registered: 2025-12-15T10:05:00Z\n   - Hash: b8c4a9e3d1f2c5a8b1d4e7f9a2c5d8e1\n   - Size: 1.2 MB\n   - Status: âœ“ Verified\n   - Integrity: âœ“ Unchanged since registration\n\n... (more data sources)\n\n## Analysis Scripts (3 tracked)\n1. codes/preprocessing.py\n   - First executed: 2025-12-15T11:00:00Z (45 seconds)\n   - Executions: 3 total\n   - Inputs: data/raw/dataset.csv, data/raw/metrics.csv\n   - Outputs: data/cleaned/merged.csv\n   - Status: âœ“ All executions complete\n\n2. codes/analysis.py\n   - First executed: 2025-12-15T12:30:00Z (120 seconds)\n   - Executions: 2 total\n   - Inputs: data/cleaned/merged.csv\n   - Outputs: paper/figures/results.png, paper/data/analysis.json\n   - Status: âœ“ All executions complete\n\n... (more scripts)\n\n## Dependency Chains\n### Chain 1: Primary Analysis Pipeline\n  data/raw/dataset.csv (2.5 MB)\n    â†’ preprocessing.py (45 sec)\n    â†’ data/cleaned/merged.csv (2.3 MB) âœ“\n    â†’ analysis.py (120 sec)\n    â†’ paper/figures/results.png (456 KB) âœ“\n    â†’ paper/manuscript.md (references results)\n\nStatus: âœ“ COMPLETE AND TRACEABLE\n\n### Chain 2: Metrics Processing\n  data/raw/metrics.csv (1.2 MB)\n    â†’ merge.py (30 sec)\n    â†’ data/cleaned/metrics.csv (1.1 MB) âœ“\n\nStatus: âœ“ COMPLETE AND TRACEABLE\n\n## Timeline of Events\n\n2025-12-15T10:00:00Z - Registered data/raw/dataset.csv (2.5 MB)\n2025-12-15T10:05:00Z - Registered data/raw/metrics.csv (1.2 MB)\n2025-12-15T10:30:00Z - Registered codes/preprocessing.py\n2025-12-15T11:00:00Z - Executed preprocessing.py (45 seconds)\n2025-12-15T11:05:00Z - Generated data/cleaned/merged.csv (2.3 MB)\n2025-12-15T12:30:00Z - Executed analysis.py (120 seconds)\n2025-12-15T12:32:00Z - Generated paper/figures/results.png (456 KB)\n2025-12-15T14:00:00Z - Verified all data files (âœ“ all unchanged)\n2025-12-15T14:30:00Z - Validated reproducibility score: 95/100\n\n## Reproducibility Assessment\nScore: 95/100 (EXCELLENT)\n- Input Integrity: 40/40 âœ“\n- Script Traceability: 30/30 âœ“\n- Output Attribution: 20/20 âœ“\n- No Orphaned Data: 5/10 (5 extra files marked as backup)\n\nRecommendation: READY FOR PUBLICATION\n\n## Anomalies Detected\nNone - All systems normal.\n\n## Compliance Summary\nâœ“ All data sources registered with cryptographic hashes\nâœ“ All analysis steps traced with execution metadata\nâœ“ All outputs attributed to generating scripts\nâœ“ No data modifications after analysis completion\nâœ“ Complete dependency graph with no broken links\nâœ“ Reproducibility score exceeds 90 (excellent range)\n\n## Recommendations\n1. Archive this audit report with the manuscript\n2. Commit .truth/ directory to version control\n3. Share audit report with collaborators\n4. Consider publishing with full reproducibility support\n\n---\nGenerated by truth-verification v0.4.0\nAudit Report Version: 1.0.0\n```\n\n---\n\n## Report Formats\n\n### Markdown Format\n- Human-readable\n- Suitable for documentation\n- Can be included in papers\n- Good for version control\n- Default format\n\n### JSON Format\n- Machine-parseable\n- Suitable for tools and systems\n- Complete structured data\n- Enables automated analysis\n- Good for dashboards\n\n### HTML Format\n- Web-viewable\n- Interactive navigation\n- Formatted for presentation\n- Shareable via email or web\n- Includes styling and navigation\n\n---\n\n## Anomaly Sensitivity Levels\n\n**Low**: Only critical issues (missing files, broken chains)\n**Medium**: Critical + significant issues (modified data, missing metadata)\n**High**: All issues including minor inconsistencies\n\n---\n\n## Error Handling\n\n| Error | Cause | Solution |\n|-------|-------|----------|\n| \"No data to audit\" | Manifest is empty | Register files and track scripts first |\n| \"Invalid manifest\" | Manifest corrupted | Restore from backup or reinitialize |\n| \"Cannot generate report\" | Disk space or permission issue | Check disk and permissions |\n| \"Invalid format\" | Unsupported report format | Use json, markdown, or html |\n\n---\n\n## Success Indicators\n\nAfter successful execution:\n\n1. Audit report generated in selected format\n2. Report includes all sections:\n   - Executive summary\n   - Data inventory\n   - Analysis scripts\n   - Dependency chains\n   - Timeline (if requested)\n   - Anomalies (if requested)\n   - Recommendations\n3. Report file created at specified output path\n4. Manifest updated with audit metadata\n\n---\n\n## Advanced Scenarios\n\n### Generate with full forensics:\n```bash\n/truth-verification:audit --detail-level forensic \\\n  --include-timeline \\\n  --include-anomalies \\\n  --anomaly-sensitivity high \\\n  --format markdown\n```\n\nCreates detailed analysis suitable for investigations.\n\n### Compare audits over time:\n```bash\n/truth-verification:audit --compare-with-previous-audit\n```\n\nShows what changed since last audit.\n\n### Generate for specific data subset:\n```bash\n/truth-verification:audit --include-only \"data/raw/*,paper/*\"\n```\n\nOnly audits specific directories.\n\n### Generate with external reviewer summary:\n```bash\n/truth-verification:audit --format markdown \\\n  --executive-summary-only \\\n  --output executive-audit-summary.md\n```\n\nCreates concise summary for external reviewers.\n\n---\n\n## Publication Integration\n\n**Complete publication workflow**:\n```bash\n# 1. Initialize and track all work\n/truth-verification:init\n/truth-verification:register --recursive --dir data/\n/truth-verification:track --script codes/...\n/truth-verification:verify\n\n# 2. Validate reproducibility and citations\n/truth-verification:reproduce --generate-report\n/truth-verification:cite-check --paper paper/manuscript.md --strict-mode\n\n# 3. Generate final audit\n/truth-verification:audit --include-timeline --format markdown --output audit-trail.md\n\n# 4. Publish with complete reproducibility documentation\n# Include audit-trail.md with submission\n# Archive .truth/ with code repository\n# Share reproducibility badge or DOI\n```\n\n---\n\n## Compliance and Regulatory\n\nUse audit reports for:\n- **Research Ethics**: Document data handling and modification tracking\n- **Data Privacy**: Track access and modifications\n- **Regulatory Compliance**: Create audit trails for compliance audits\n- **Fraud Detection**: Anomaly detection helps identify suspicious patterns\n- **Institutional Policies**: Demonstrate compliance with research standards\n\n---\n\n## Next Steps\n\nAfter audit generation:\n\n1. **Review report**: Check for issues and recommendations\n2. **Address anomalies**: Investigate any detected anomalies\n3. **Archive report**: Save audit report with manuscript/code\n4. **Share with team**: Provide audit report to collaborators\n5. **Publish**: Submit with full reproducibility documentation\n\n---\n\n## Related Commands\n\n- `/truth-verification:register` - Register data files\n- `/truth-verification:track` - Record script execution\n- `/truth-verification:verify` - Check data integrity\n- `/truth-verification:reproduce` - Validate reproducibility\n- `/truth-verification:cite-check` - Validate citations\n",
        "plugins/truth-verification/commands/cite-check.md": "# truth-verification:cite-check\n\n**Goal**: Validate that all data references in papers and manuscripts correspond to registered data sources, ensuring no fabricated citations.\n\n**When to use**: Before finalizing papers, ensure every data claim references actual registered files.\n\n---\n\n## Preparation\n\nBefore running this command:\n\n1. Ensure `.truth/manifest.json` exists with registered data files\n2. Have paper/manuscript files to validate (Markdown, LaTeX, or plain text)\n3. Ensure data files are registered in manifest (run `/truth-verification:register` if needed)\n4. Optional: Define citation patterns for your domain\n\n---\n\n## Execution\n\n### Check citations in a paper file:\n```bash\n/truth-verification:cite-check --paper paper/manuscript.md\n```\n\n### Check all papers in a directory:\n```bash\n/truth-verification:cite-check --directory paper/manuscripts\n```\n\n### Strict mode (fail on unresolved references):\n```bash\n/truth-verification:cite-check --paper paper/manuscript.md --strict-mode\n```\n\n### Include orphaned data (data not cited anywhere):\n```bash\n/truth-verification:cite-check --paper paper/manuscript.md --report-orphaned-data\n```\n\n### Custom citation patterns:\n```bash\n/truth-verification:cite-check --paper paper/manuscript.md \\\n  --patterns \"data/.*\\.csv,file:data/[a-zA-Z0-9_-]+\\.(csv|json)\"\n```\n\n### Generate detailed report:\n```bash\n/truth-verification:cite-check --paper paper/manuscript.md \\\n  --report-format detailed --output citation-report.txt\n```\n\n---\n\n## What Happens\n\n1. **Paper Scanning**:\n   - Reads paper file (supports .md, .tex, .txt formats)\n   - Extracts all potential data references using citation patterns\n   - Handles different reference formats:\n     - File paths: `data/raw/dataset.csv`\n     - Labeled references: `file:data/raw/dataset.csv`\n     - URL references: `https://example.com/data.csv`\n     - Line citations: `data/raw/dataset.csv:line42`\n\n2. **Reference Validation**:\n   - Checks each referenced file exists in manifest\n   - Verifies file hashes if available\n   - Identifies missing or unregistered files\n   - Flags external URLs (may be outside manifest scope)\n\n3. **Orphaned Data Detection** (optional):\n   - Scans manifest for registered files\n   - Checks if each file is referenced in papers\n   - Reports data files never cited anywhere\n   - Suggests either removing data or citing it\n\n4. **Citation Index Creation**:\n   - Builds index of all citations and their locations\n   - Records line numbers and context\n   - Groups citations by file\n\n5. **Report Generation**:\n   - Summary: Total files referenced, verified, unresolved\n   - Detailed list of all citations\n   - Issues found (missing refs, unregistered files)\n   - Recommendations for fixing issues\n\n6. **Manifest Update** (optional):\n   - Adds citations array to manifest (if `--update-manifest`)\n   - Records verified citations with timestamps\n   - Tracks which data appears in which papers\n\n---\n\n## Output Examples\n\n### All citations verified:\n```\nâœ“ Citation Validation Complete\n  Paper: paper/manuscript.md\n  Total references: 12\n  Verified: 12\n  Unregistered: 0\n  External: 0\n  Status: ALL CITATIONS VERIFIED âœ“\n\nVerified Citations:\n  âœ“ data/raw/dataset.csv (line 23)\n  âœ“ data/raw/metrics.csv (line 45)\n  âœ“ data/cleaned/results.csv (line 78)\n  ... (9 more verified)\n```\n\n### Issues found:\n```\nâš  Citation Validation Complete (with issues)\n  Paper: paper/manuscript.md\n  Total references: 12\n  Verified: 10\n  Unregistered: 2\n  External: 0\n\nUnregistered References:\n  âŒ data/raw/missing_dataset.csv (line 89)\n     Status: FILE NOT IN MANIFEST\n     Suggestion: Register file with /truth-verification:register\n\n  âŒ results/analysis_output.csv (line 102)\n     Status: FILE NOT IN MANIFEST\n     Suggestion: Register file or correct citation\n\nOrphaned Data (in manifest but not cited):\n  âš  data/raw/old_backup.csv - Never cited in papers\n     Suggestion: Remove if obsolete, or add citation if needed\n```\n\n---\n\n## Error Handling\n\n| Error | Cause | Solution |\n|-------|-------|----------|\n| \"Paper file not found\" | File path doesn't exist | Verify paper file location |\n| \"No citations found\" | Paper has no data references | Check citation patterns match your format |\n| \"Invalid manifest\" | `.truth/manifest.json` corrupted | Restore from backup or reinitialize |\n| \"Cannot read paper file\" | Permission denied or corrupted file | Check file permissions |\n\n---\n\n## Success Indicators\n\nAfter successful execution:\n\n1. Command returns citation validation summary\n2. All referenced files exist in manifest\n3. If unresolved references found, displays suggestions for fixing them\n4. Orphaned data identified (if `--report-orphaned-data`)\n5. Citation index created in manifest (if `--update-manifest`)\n\n---\n\n## Citation Patterns\n\nSupported formats:\n- **File paths**: `data/raw/dataset.csv`\n- **Labeled refs**: `data:raw/dataset.csv` or `file:data/raw/dataset.csv`\n- **Line citations**: `data/raw/dataset.csv:42` (reference specific line)\n- **Markdown links**: `[Dataset](data/raw/dataset.csv)`\n- **LaTeX citations**: `\\cite{data/raw/dataset.csv}`\n- **URLs**: `https://example.com/data.csv`\n\nDefault patterns defined in `config/config.json`:\n```json\n\"citation_patterns\": [\n  \"file:path/to/file\",\n  \"data/[a-zA-Z0-9_-]+\\\\.csv\",\n  \"codes/[a-zA-Z0-9_-]+\\\\.py\",\n  \"paper/figures/[a-zA-Z0-9_-]+\\\\.(png|jpg|pdf)\"\n]\n```\n\n---\n\n## Strict Mode\n\nIn strict mode (`--strict-mode`):\n- Command fails if any references unresolved\n- Returns non-zero exit code\n- Suitable for CI/CD pipelines and publication automation\n- Forces all citations to be verified before proceeding\n\n```bash\n/truth-verification:cite-check --paper manuscript.md --strict-mode\n# Returns error if any citations unverified\n```\n\n---\n\n## Advanced Scenarios\n\n### Check multiple papers:\n```bash\n/truth-verification:cite-check --directory paper/manuscripts --recursive\n```\n\nValidates all papers in directory and subdirectories.\n\n### Cross-reference papers (data used in multiple papers):\n```bash\n/truth-verification:cite-check --directory paper/manuscripts \\\n  --cross-reference --report-data-usage\n```\n\nShows which data files appear in which papers.\n\n### Audit trail (when data was cited):\n```bash\n/truth-verification:cite-check --paper manuscript.md \\\n  --include-audit-trail\n```\n\nRecords when each citation was first verified.\n\n### Fix citations automatically:\n```bash\n/truth-verification:cite-check --paper manuscript.md \\\n  --auto-fix-paths\n```\n\nAttempts to find correctly spelled file paths and suggest corrections.\n\n---\n\n## Integration with verification workflow\n\n**Complete validation workflow**:\n```bash\n# 1. Initialize\n/truth-verification:init\n\n# 2. Register all data\n/truth-verification:register --recursive --dir data/\n\n# 3. Track script execution\n/truth-verification:track --script codes/analysis.py ...\n\n# 4. Verify data integrity\n/truth-verification:verify\n\n# 5. Check paper citations\n/truth-verification:cite-check --paper paper/manuscript.md --strict-mode\n\n# 6. Generate reproducibility report\n/truth-verification:reproduce --generate-report\n\n# 7. Publish with confidence\n```\n\n---\n\n## Next Steps\n\nAfter validating citations:\n\n1. **Fix unverified references**: Register missing files or correct citations\n2. **Remove orphaned data**: Delete unused files or add citations\n3. **Check reproducibility**: `/truth-verification:reproduce` to validate complete chain\n4. **Generate audit**: `/truth-verification:audit` before publication\n5. **Archive manifest**: Commit `.truth/` to version control with manuscript\n\n---\n\n## Related Commands\n\n- `/truth-verification:register` - Register data files\n- `/truth-verification:track` - Record script execution\n- `/truth-verification:reproduce` - Validate reproducibility (Phase 3)\n- `/truth-verification:audit` - Generate comprehensive audit reports (Phase 4)\n- `/truth-verification:verify` - Check data integrity\n",
        "plugins/truth-verification/commands/init.md": "# truth-verification:init\n\n**Goal**: Initialize the `.truth/` directory infrastructure and create an empty manifest file for tracking data provenance and analysis workflows.\n\n**When to use**: Run this command at the start of any research project or when setting up truth-verification for an existing project.\n\n---\n\n## Preparation\n\nBefore running this command:\n\n1. Ensure you are in your project's root directory\n2. Have write permissions for creating the `.truth/` directory\n3. Verify the project doesn't already have a `.truth/` directory (unless using `--force`)\n\n---\n\n## Execution\n\n### Basic usage:\n```bash\n/truth-verification:init\n```\n\nCreates `.truth/` directory with default manifest structure.\n\n### Force overwrite existing manifest:\n```bash\n/truth-verification:init --force\n```\n\nRecreates manifest even if `.truth/` already exists (backs up old manifest as `.truth/manifest.backup.json`).\n\n### Custom manifest location:\n```bash\n/truth-verification:init --manifest-dir .verification\n```\n\nUses `.verification/` instead of `.truth/` (useful for teams with naming preferences).\n\n---\n\n## What Happens\n\n1. **Creates directory structure**:\n   ```\n   .truth/\n   â”œâ”€â”€ manifest.json           # Central registry\n   â”œâ”€â”€ hashes/                 # Hash records (populated by register)\n   â”œâ”€â”€ logs/                   # Execution logs\n   â””â”€â”€ reports/                # Generated reports\n   ```\n\n2. **Creates empty manifest.json** with template structure:\n   ```json\n   {\n     \"version\": \"1.0.0\",\n     \"initialized_at\": \"2025-12-15T10:30:00Z\",\n     \"project_root\": \"/path/to/project\",\n     \"data_sources\": [],\n     \"analysis_scripts\": [],\n     \"results\": [],\n     \"dependencies\": []\n   }\n   ```\n\n3. **Adds `.truth/` to .gitignore** (creates .gitignore if needed):\n   - Prevents accidental commits of manifest changes during local work\n   - Optional: Use `--include-gitignore` to NOT add to .gitignore (for shared teams)\n\n4. **Validates setup**:\n   - Confirms all directories created\n   - Verifies manifest.json is valid JSON\n   - Tests write permissions\n   - Shows success message or errors\n\n---\n\n## Error Handling\n\n| Error | Cause | Solution |\n|-------|-------|----------|\n| \"Permission denied\" | No write access to project dir | Check directory permissions: `chmod u+w .` |\n| \".truth directory already exists\" | Init already run | Use `--force` to overwrite, or use different `--manifest-dir` |\n| \"Not in a project root\" | Current dir isn't a valid project | Verify you're in project root (`ls project.yml` or `ls .claude-plugin/`) |\n| \"Invalid manifest JSON created\" | File system issue | Contact support; manifest template is hard-coded and should never fail |\n\n---\n\n## Success Indicators\n\nAfter successful execution:\n\n1. Directory `.truth/` exists with subdirectories (manifest, hashes, logs, reports)\n2. File `.truth/manifest.json` contains valid JSON with empty data_sources array\n3. `.gitignore` includes `.truth/` line (unless `--include-gitignore=false`)\n4. Command output shows: `âœ“ Initialized .truth/ directory at /path/to/project/.truth`\n\n---\n\n## Next Steps\n\nAfter initialization:\n\n1. **Register existing data**: `/truth-verification:register --recursive --dir data/raw`\n2. **Check status**: `/truth-verification:status`\n3. **Track analysis**: `/truth-verification:track --script codes/analysis.py ...` (after running scripts)\n\n---\n\n## Related Commands\n\n- `/truth-verification:register` - Add data files to manifest after init\n- `/truth-verification:status` - View current verification state\n- `/truth-verification:verify` - Check if any registered files have been modified\n",
        "plugins/truth-verification/commands/register.md": "# truth-verification:register\n\n**Goal**: Register data source files with SHA256 hashing to establish baseline integrity and enable change detection.\n\n**When to use**: Before starting data analysis, register all raw data files. Register outputs after completion to create dependencies for reproducibility tracking.\n\n---\n\n## Preparation\n\nBefore running this command:\n\n1. Ensure `.truth/manifest.json` exists (run `/truth-verification:init` if needed)\n2. Identify all data files to register\n3. Have read access to all files being registered\n4. For large files (>100MB), allow extra time for hashing\n\n---\n\n## Execution\n\n### Register a single file:\n```bash\n/truth-verification:register --file data/raw/dataset.csv\n```\n\n### Register all files in a directory (recursive):\n```bash\n/truth-verification:register --recursive --dir data/raw\n```\n\n### Register with pattern filtering:\n```bash\n/truth-verification:register --recursive --dir data/ --include \"*.csv\" --exclude \"*-temp*\"\n```\n\n### Register and add metadata:\n```bash\n/truth-verification:register --file data/raw/dataset.csv --source \"downloaded from https://example.com/data\" --description \"Q4 2025 sales records\"\n```\n\n### Dry run (preview without committing):\n```bash\n/truth-verification:register --recursive --dir data/ --dry-run\n```\n\nShows which files would be registered without modifying manifest.\n\n---\n\n## What Happens\n\n1. **File Discovery**:\n   - Locates all files matching criteria\n   - Skips symbolic links and directories (unless `--follow-symlinks`)\n   - Skips binary files by default (unless `--include-binary`)\n\n2. **Hash Calculation**:\n   - Computes SHA256 for each file\n   - Uses streaming for files >10MB to minimize memory use\n   - Stores hash at `.truth/hashes/{filename}.sha256`\n\n3. **Metadata Collection**:\n   - File size, modification time, permissions\n   - Optional: source URL, description, author\n   - Optional: file tags for organization (e.g., \"raw\", \"external\", \"validated\")\n\n4. **Manifest Update**:\n   - Adds entry to `.truth/manifest.json` under `data_sources`\n   - Creates entry structure:\n   ```json\n   {\n     \"path\": \"data/raw/dataset.csv\",\n     \"hash\": \"a7b3f...\",\n     \"size_bytes\": 1048576,\n     \"registered_at\": \"2025-12-15T10:30:00Z\",\n     \"source\": \"original source info\",\n     \"tags\": [\"raw\", \"external\"]\n   }\n   ```\n\n5. **Logging**:\n   - Records registration in `.truth/logs/register.log`\n   - Shows summary: \"Registered 15 files, 2 skipped, total 487 MB\"\n\n---\n\n## Error Handling\n\n| Error | Cause | Solution |\n|-------|-------|----------|\n| \"File not found: ...\" | Path doesn't exist | Verify file path with `ls -la` |\n| \"Permission denied\" | Can't read file | Check read permissions: `chmod u+r filename` |\n| \"Invalid manifest\" | `.truth/manifest.json` corrupted | Restore with `/truth-verification:init --force` |\n| \"File already registered\" | File exists in manifest | Use `--update` to re-hash and update entry |\n| \"Hash mismatch during re-registration\" | File was modified since last registration | Use `--force` to overwrite hash, or investigate the modification |\n\n---\n\n## Success Indicators\n\nAfter successful execution:\n\n1. Output shows count of registered files: `âœ“ Registered 15 files`\n2. New entries appear in `.truth/manifest.json` under `data_sources`\n3. Hash files created in `.truth/hashes/` directory\n4. Log entry in `.truth/logs/register.log` shows timestamp and file list\n\n---\n\n## Advanced Options\n\n### Register with backup:\n```bash\n/truth-verification:register --file data/raw/dataset.csv --backup-original\n```\n\nCreates `.truth/backups/dataset.csv.original` for future recovery if needed.\n\n### Register with external source tracking:\n```bash\n/truth-verification:register --file data/raw/download.zip --source \"AWS S3: s3://bucket/archive.zip\" --source-hash \"s3:md5:abcd1234...\"\n```\n\nEnables verification that original source hasn't changed (if source supports hash queries).\n\n### Register outputs as results:\n```bash\n/truth-verification:register --file data/cleaned/results.csv --tag \"output\" --parent-script codes/analysis.py\n```\n\nLinks result file to generating script for dependency tracking.\n\n---\n\n## Next Steps\n\nAfter registration:\n\n1. **Proceed with analysis**: Run your data processing scripts\n2. **Track execution**: `/truth-verification:track --script codes/analysis.py --inputs data/raw/dataset.csv --outputs data/cleaned/results.csv`\n3. **Verify later**: `/truth-verification:verify --file data/raw/dataset.csv` to check if data changed\n\n---\n\n## Related Commands\n\n- `/truth-verification:init` - Initialize manifest before registering\n- `/truth-verification:verify` - Check if registered files have been modified\n- `/truth-verification:track` - Record how registered files are used in scripts\n- `/truth-verification:reproduce` - Validate complete dependency chains\n",
        "plugins/truth-verification/commands/reproduce.md": "# truth-verification:reproduce\n\n**Goal**: Validate that research results are reproducible by verifying the complete dependency chain from source data through analysis scripts to final outputs.\n\n**When to use**: Before publishing or sharing research, ensure all data and scripts form a complete reproducible chain.\n\n---\n\n## Preparation\n\nBefore running this command:\n\n1. Ensure `.truth/manifest.json` exists with registered files\n2. Register data sources: `/truth-verification:register --recursive --dir data/`\n3. Track script execution: `/truth-verification:track --script codes/...`\n4. Optional: Run `/truth-verification:verify` to ensure current data integrity\n\n---\n\n## Execution\n\n### Check reproducibility of complete project:\n```bash\n/truth-verification:reproduce\n```\n\n### Generate detailed reproducibility report:\n```bash\n/truth-verification:reproduce --generate-report --output reproduce-report.md\n```\n\n### Show only reproducibility score:\n```bash\n/truth-verification:reproduce --score-only\n```\n\n### Check reproducibility for specific output:\n```bash\n/truth-verification:reproduce --target data/cleaned/results.csv\n```\n\n### Trace backwards from output to all inputs:\n```bash\n/truth-verification:reproduce --trace-back data/cleaned/results.csv\n```\n\n### Export report as JSON for tools:\n```bash\n/truth-verification:reproduce --generate-report --format json --output reproduce.json\n```\n\n---\n\n## What Happens\n\n1. **Dependency Graph Analysis**:\n   - Loads dependency graph from manifest\n   - Identifies all data â†’ script â†’ result chains\n   - Detects cycles or broken links\n   - Validates graph structure integrity\n\n2. **Data Validation**:\n   - Verifies all input files exist and match registered hashes\n   - Checks all intermediate files are registered\n   - Validates output files exist and are accessible\n   - Reports missing or modified files\n\n3. **Script Traceability**:\n   - Confirms all scripts are registered and accessible\n   - Verifies script hashes haven't changed\n   - Validates execution parameters are recorded\n   - Reports any scripts with missing metadata\n\n4. **Reproducibility Scoring**:\n   - Calculates score based on configuration weights:\n     - Input integrity (40 points): All inputs verified\n     - Script traceability (30 points): All scripts recorded\n     - Output attribution (20 points): All outputs linked to scripts\n     - No orphaned data (10 points): No unregistered files\n   - Produces score 0-100\n   - Rates as: Poor (<60), Fair (60-75), Good (75-90), Excellent (>90)\n\n5. **Dependency Tracing**:\n   - Traces complete lineage for each output\n   - Shows which inputs contributed to which outputs\n   - Identifies redundant files or unused data\n   - Detects missing intermediate steps\n\n6. **Report Generation**:\n   - Summary: Overall reproducibility score and rating\n   - Detailed chain breakdown: Which data â†’ which script â†’ which output\n   - Issues found: Missing files, broken chains, unregistered data\n   - Recommendations: What needs to be added for reproducibility\n   - Timeline: When each step was executed\n\n7. **Manifest Update**:\n   - Records reproducibility score in manifest\n   - Updates `reproducibility_status` field\n   - Adds timestamp of reproducibility check\n\n---\n\n## Output Examples\n\n### Excellent reproducibility:\n```\nâœ“ Reproducibility Validation Complete\n  Status: EXCELLENT (95/100)\n\nSummary:\n  Input integrity: âœ“ 100% (5/5 files verified)\n  Script traceability: âœ“ 100% (3/3 scripts recorded)\n  Output attribution: âœ“ 100% (8/8 outputs linked)\n  No orphaned data: âœ“ 100% (0 orphaned files)\n\nReproducibility Score: 95/100 - EXCELLENT\n  Can be reproduced with high confidence.\n  Ready for publication.\n\nDependency Chains (3 found):\n  âœ“ Chain 1: data/raw/raw1.csv\n              â†’ codes/preprocessing.py\n              â†’ data/cleaned/merged.csv\n              â†’ codes/analysis.py\n              â†’ paper/figures/results.png (8 steps, all traceable)\n\n  âœ“ Chain 2: data/raw/metrics.csv\n              â†’ codes/merge.py\n              â†’ data/cleaned/metrics.csv (2 steps, all traceable)\n\n  âœ“ Chain 3: data/cleaned/merged.csv + codes/statistical.py\n              â†’ paper/manuscripts/results.md (complete)\n```\n\n### Issues found:\n```\nâš  Reproducibility Validation Complete (with issues)\n  Status: FAIR (68/100)\n\nSummary:\n  Input integrity: âš  80% (4/5 files verified, 1 MODIFIED)\n  Script traceability: âœ“ 100% (3/3 scripts recorded)\n  Output attribution: âš  75% (6/8 outputs linked)\n  No orphaned data: âŒ 0% (2 orphaned files detected)\n\nReproducibility Score: 68/100 - FAIR\n  Can be reproduced but some issues exist.\n  Recommend fixing before publication.\n\nIssues Detected:\n  âŒ Input file modified: data/raw/dataset.csv\n     Expected hash: a7b3f8d9e2c1...\n     Current hash:  c9d5b1a4e2f3...\n     Impact: Results from this file may not be reproducible\n\n  âŒ Output not attributed: results/preliminary.csv\n     Not linked to any script in manifest\n     Suggestion: Track the script that generated it\n\n  âš  Orphaned data: data/raw/backup_2025-12-01.csv\n     Registered but never used in any script\n     Suggestion: Remove or cite in paper\n\nRecommendations:\n  1. Investigate modified input: data/raw/dataset.csv\n  2. Re-register modified file or restore from backup\n  3. Track the script that generated results/preliminary.csv\n  4. Remove orphaned file: data/raw/backup_2025-12-01.csv\n  5. Re-run /reproduce to validate fixes\n```\n\n---\n\n## Error Handling\n\n| Error | Cause | Solution |\n|-------|-------|----------|\n| \"No dependencies found\" | No scripts tracked yet | Run `/truth-verification:track` for each script |\n| \"Input file missing\" | Referenced file no longer exists | Restore from backup or remove from manifest |\n| \"Broken dependency chain\" | Script or output file missing | Register missing files or re-track scripts |\n| \"Invalid manifest\" | `.truth/manifest.json` corrupted | Restore from backup or reinitialize |\n\n---\n\n## Reproducibility Score Breakdown\n\n**Input Integrity (40 points)**:\n- 40 pts: All registered input files exist and match hashes\n- 30 pts: 75%+ of input files verified\n- 20 pts: 50%+ of input files verified\n- 10 pts: <50% of input files verified\n- 0 pts: No input files verified or verified = false\n\n**Script Traceability (30 points)**:\n- 30 pts: All scripts recorded with parameters and timestamps\n- 20 pts: 75%+ of scripts have metadata\n- 10 pts: 50%+ of scripts have metadata\n- 5 pts: <50% of scripts have metadata\n- 0 pts: No scripts tracked\n\n**Output Attribution (20 points)**:\n- 20 pts: All outputs linked to generating scripts\n- 15 pts: 75%+ of outputs attributed\n- 10 pts: 50%+ of outputs attributed\n- 5 pts: 25%+ of outputs attributed\n- 0 pts: No outputs attributed\n\n**No Orphaned Data (10 points)**:\n- 10 pts: All registered data files used in scripts\n- 5 pts: 50%+ of data files used\n- 0 pts: <50% of data files used or many orphaned files\n\n---\n\n## Reproducibility Levels\n\n| Score | Level | Meaning | Action |\n|-------|-------|---------|--------|\n| 90-100 | Excellent | Fully reproducible, ready for publication | Publish with confidence |\n| 75-89 | Good | Mostly reproducible, minor issues | Address recommendations before publication |\n| 60-74 | Fair | Partially reproducible, significant issues | Fix issues before sharing |\n| <60 | Poor | Barely reproducible, major gaps | Major work needed to ensure reproducibility |\n\n---\n\n## Advanced Scenarios\n\n### Trace specific output backwards:\n```bash\n/truth-verification:reproduce --trace-back data/cleaned/results.csv\n```\n\nShows complete lineage: which inputs â†’ which scripts â†’ this output.\n\n### Check reproducibility for publication:\n```bash\n/truth-verification:reproduce --generate-report \\\n  --include-recommendations \\\n  --format markdown \\\n  --output publication-audit.md\n```\n\nGenerates publication-ready documentation.\n\n### Compare reproducibility over time:\n```bash\n/truth-verification:reproduce --compare-with-date \"2025-12-01T00:00:00Z\"\n```\n\nShows how reproducibility score changed since specific date.\n\n### Validate for specific paper:\n```bash\n/truth-verification:reproduce --target paper/manuscripts/main.md \\\n  --include-cited-data-only\n```\n\nOnly validates data cited in the specified paper.\n\n---\n\n## Reproducibility Workflow\n\n**Before Publication**:\n```bash\n# 1. Register all data\n/truth-verification:register --recursive --dir data/\n\n# 2. Track all scripts\n/truth-verification:track --script codes/preprocessing.py ...\n/truth-verification:track --script codes/analysis.py ...\n/truth-verification:track --script codes/visualization.py ...\n\n# 3. Verify data integrity\n/truth-verification:verify\n\n# 4. Check reproducibility\n/truth-verification:reproduce --generate-report\n\n# 5. Fix any issues found\n# ... investigate and fix issues ...\n\n# 6. Re-validate\n/truth-verification:reproduce --score-only\n\n# 7. Publish when score > 90\n```\n\n---\n\n## Integration with other commands\n\n**Complete publication workflow**:\n```bash\n/truth-verification:init\n/truth-verification:register --recursive --dir data/\n/truth-verification:track --script codes/...\n/truth-verification:verify\n/truth-verification:reproduce --generate-report  # This command\n/truth-verification:cite-check --paper paper/manuscript.md --strict-mode\n/truth-verification:audit --include-timeline\n# Ready for publication!\n```\n\n---\n\n## Next Steps\n\nAfter validation:\n\n1. **If score > 90**: Proceed to citation validation and publication\n2. **If score 75-90**: Address recommendations before publishing\n3. **If score < 75**: Fix critical issues before sharing\n4. **Generate audit**: `/truth-verification:audit` for final report\n5. **Archive**: Commit `.truth/` with manuscript in version control\n\n---\n\n## Related Commands\n\n- `/truth-verification:register` - Register data files\n- `/truth-verification:track` - Record script execution\n- `/truth-verification:verify` - Check data integrity\n- `/truth-verification:cite-check` - Validate citations (Phase 3)\n- `/truth-verification:audit` - Generate audit reports (Phase 4)\n",
        "plugins/truth-verification/commands/status.md": "# truth-verification:status\n\n**Goal**: Display a comprehensive verification status dashboard showing project integrity, statistics, and recommendations for research continuity.\n\n**When to use**: Run before major milestones (paper submission, milestone checkpoints) or as a quick health check (daily/weekly).\n\n---\n\n## Preparation\n\nBefore running this command:\n\n1. Ensure `.truth/manifest.json` exists (run `/truth-verification:init` if needed)\n2. Register files to track (run `/truth-verification:register` if manifest is empty)\n3. Optional: Run `/truth-verification:verify` first for current integrity status\n\n---\n\n## Execution\n\n### Quick status overview:\n```bash\n/truth-verification:status\n```\n\nShows dashboard with essential statistics.\n\n### Detailed status with recommendations:\n```bash\n/truth-verification:status --detail-level full\n```\n\nIncludes detailed statistics, issue analysis, and actionable recommendations.\n\n### Export status to file:\n```bash\n/truth-verification:status --output status-report.txt\n```\n\n### Generate JSON status for tools/scripts:\n```bash\n/truth-verification:status --format json --output status.json\n```\n\n### Focus on specific category:\n```bash\n/truth-verification:status --category data\n```\n\nShows only data source statistics.\n\n---\n\n## What Happens\n\n1. **Manifest Analysis**:\n   - Reads `.truth/manifest.json`\n   - Parses all data sources, scripts, results, and dependencies\n   - Calculates comprehensive statistics\n\n2. **Status Checks**:\n   - Verifies .truth/ directory is accessible\n   - Checks for recent verification logs\n   - Detects unregistered files in monitored directories\n   - Computes dependency graph completeness\n\n3. **Statistics Computation**:\n   - Counts registered items by category\n   - Calculates total data size\n   - Measures time since last activities\n   - Computes integrity and reproducibility metrics\n\n4. **Dashboard Rendering**:\n   - Displays human-readable status summary\n   - Shows color-coded indicators (âœ“ green, âš  yellow, âŒ red)\n   - Lists recommendations and next actions\n\n---\n\n## Sample Output\n\n```\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n                    TRUTH-VERIFICATION STATUS\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nPROJECT: test-verification\nROOT: /path/to/test-verification\nSTATUS: âœ“ HEALTHY\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nDATA SOURCES\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  Registered files:     15\n  Total size:          487 MB\n  Integrity status:     âœ“ All verified (as of 2 hours ago)\n  Last verification:    2025-12-15T15:00:00Z\n  Files modified:       0\n  Files missing:        0\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nANALYSIS SCRIPTS\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  Tracked scripts:      3\n  Total executions:     12\n  Last execution:       2025-12-15T14:30:00Z (analysis.py)\n  Execution success:    100%\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nRESULTS\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  Generated results:    8\n  Total output size:    156 MB\n  All results traced:   âœ“ Yes\n  Reproducibility:      95/100 (Excellent)\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nDEPENDENCIES\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  Total dependencies:   18\n  Complete chains:      âœ“ All intact\n  Broken links:         0\n  Orphaned data:        0 files\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nINTEGRATION STATUS\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n  research-memory:      âœ“ Integrated\n  project-management:   âœ“ Integrated\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nRECOMMENDATIONS\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nâœ“ All systems nominal. Ready for paper submission.\nâœ“ Consider archiving .truth/ with manuscript for reproducibility.\n```\n\n---\n\n## Status Categories\n\n### Data Sources\n- Number of registered files\n- Total data volume\n- Integrity verification status\n- Time since last verification\n- Any missing or modified files\n\n### Analysis Scripts\n- Number of tracked scripts\n- Execution history\n- Execution success rate\n- Latest execution details\n\n### Results\n- Number of generated results\n- Output volume\n- Traceability to source scripts\n- Reproducibility scoring\n\n### Dependencies\n- Total number of tracked dependencies\n- Completeness of dependency graph\n- Detection of orphaned or unused files\n- Validation of chains\n\n### Integration Status\n- research-memory connection status\n- project-management validation status\n- Any integration warnings or issues\n\n---\n\n## Interpretation Guide\n\n### âœ“ HEALTHY Status\nAll checks pass:\n- All data files integrity verified\n- All dependencies complete\n- No orphaned files\n- High reproducibility score (>85)\n\nâ†’ Safe to proceed with analysis or publication.\n\n### âš  CAUTION Status\nSome issues detected:\n- Some data files not recently verified\n- Some minor dependency issues\n- Low-medium reproducibility score (60-85)\n\nâ†’ Investigate recommendations before major decisions.\n\n### âŒ CRITICAL Status\nSerious issues detected:\n- Missing data files\n- Broken dependency chains\n- Data integrity violations\n- Very low reproducibility score (<60)\n\nâ†’ Must resolve before proceeding with analysis or publication.\n\n---\n\n## Error Handling\n\n| Error | Cause | Solution |\n|-------|-------|----------|\n| \"Manifest not found\" | `.truth/manifest.json` doesn't exist | Run `/truth-verification:init` first |\n| \"Manifest corrupted\" | JSON parsing failed | Restore from backup or reinitialize |\n| \"No data registered\" | Manifest has empty data_sources array | Register files: `/truth-verification:register ...` |\n| \"Permission denied\" | Can't read manifest or logs | Check file permissions in `.truth/` |\n\n---\n\n## Advanced Options\n\n### Show status for time period:\n```bash\n/truth-verification:status --since \"2025-12-15T00:00:00Z\"\n```\n\nShows activities and changes since specified time.\n\n### Compare with previous status:\n```bash\n/truth-verification:status --compare-with-previous-day\n```\n\nHighlights what changed in past 24 hours.\n\n### Generate status with historical trend:\n```bash\n/truth-verification:status --include-historical-trend\n```\n\nShows how integrity has changed over time.\n\n---\n\n## Common Status Checks\n\n**Before Paper Submission**:\n```bash\n/truth-verification:status --detail-level full\n```\n\nEnsure reproducibility score is excellent (>90).\n\n**Weekly Health Check**:\n```bash\n/truth-verification:status\n```\n\nQuick overview to catch issues early.\n\n**Collaboration Checkpoint**:\n```bash\n/truth-verification:status --format json\n```\n\nShare structured status with team members.\n\n---\n\n## Next Steps\n\nBased on status output:\n\n**If HEALTHY**:\n- Proceed with analysis or publication\n- Consider archiving `.truth/` with results\n\n**If CAUTION**:\n- Run `/truth-verification:verify` to get detailed results\n- Address recommendations listed\n- Retry `/truth-verification:status` to confirm resolution\n\n**If CRITICAL**:\n- Immediately run `/truth-verification:verify --fail-fast`\n- Investigate issues with `/truth-verification:audit`\n- Restore data from backup if needed\n\n---\n\n## Related Commands\n\n- `/truth-verification:verify` - Detailed integrity checking\n- `/truth-verification:audit` - Comprehensive audit report\n- `/truth-verification:reproduce` - Check reproducibility in detail\n- `/truth-verification:init` - Initialize if status fails\n",
        "plugins/truth-verification/commands/track.md": "# truth-verification:track\n\n**Goal**: Track the execution of analysis scripts and record data dependencies to enable reproducibility verification and analysis traceability.\n\n**When to use**: After running analysis scripts, track their execution to document data lineage and enable reproducibility validation.\n\n---\n\n## Preparation\n\nBefore running this command:\n\n1. Ensure `.truth/manifest.json` exists (run `/truth-verification:init` if needed)\n2. Register input data files first (run `/truth-verification:register` for all source data)\n3. Have the analysis script file available\n4. Know which files are inputs and outputs for the script\n5. Optional: Note any parameters used in the script execution\n\n---\n\n## Execution\n\n### Track script execution with inputs and outputs:\n```bash\n/truth-verification:track --script codes/analysis.py --inputs data/raw/dataset.csv --outputs data/cleaned/results.csv\n```\n\n### Track with multiple inputs:\n```bash\n/truth-verification:track --script codes/preprocessing.py --inputs data/raw/raw1.csv,data/raw/raw2.csv --outputs data/cleaned/merged.csv\n```\n\n### Track with execution parameters:\n```bash\n/truth-verification:track --script codes/analysis.py \\\n  --inputs data/raw/dataset.csv \\\n  --outputs data/cleaned/results.csv \\\n  --parameters \"threshold=0.75,method=zscore\"\n```\n\n### Track with execution duration:\n```bash\n/truth-verification:track --script codes/analysis.py \\\n  --inputs data/raw/dataset.csv \\\n  --outputs data/cleaned/results.csv \\\n  --execution-duration 45\n```\n\n### Auto-register outputs if not yet registered:\n```bash\n/truth-verification:track --script codes/analysis.py \\\n  --inputs data/raw/dataset.csv \\\n  --outputs data/cleaned/results.csv \\\n  --auto-register-outputs\n```\n\n---\n\n## What Happens\n\n1. **Script Validation**:\n   - Verifies script file exists and is readable\n   - Extracts script hash (SHA256) for tracking\n   - Validates script format based on extension\n\n2. **Input Verification**:\n   - Checks all input files are registered in manifest\n   - Verifies file hashes match registered values\n   - Warns if input files have been modified since registration\n\n3. **Output Handling**:\n   - Checks if output files exist\n   - Registers outputs if not already registered (with `--auto-register-outputs`)\n   - Records output file paths and hashes\n\n4. **Dependency Graph Creation**:\n   - Creates edges in dependency graph:\n     - Input files â†’ Script (relationship: \"input\")\n     - Script â†’ Output files (relationship: \"produces\")\n   - Links previous script outputs to current script inputs\n   - Builds complete lineage chain\n\n5. **Manifest Update**:\n   - Adds entry to `analysis_scripts` array\n   - Adds entries to `dependencies` array\n   - Records execution metadata in manifest\n   - Updates `last_updated` timestamp\n\n6. **Research Memory Integration** (if enabled):\n   - Logs execution event to `memory/devlog.md` (if using research-memory skill)\n   - Records: script name, inputs, outputs, execution time\n   - Tags entry with `#data-tracking`\n\n7. **Logging**:\n   - Records event in `.truth/logs/track.log`\n   - Shows summary of tracked dependencies\n\n---\n\n## Output Examples\n\n### Successful tracking:\n```\nâœ“ Tracked script execution\n  Script: codes/analysis.py\n  Inputs: data/raw/dataset.csv (verified âœ“)\n  Outputs: data/cleaned/results.csv (registered & hashed)\n  Dependencies: 2 edges added\n  Duration: 45 seconds\n  Status: Complete\n```\n\n### With warnings:\n```\nâš  Tracked script execution (with warnings)\n  Script: codes/analysis.py\n  Inputs: data/raw/dataset.csv (MODIFIED since registration!)\n    Expected hash: a7b3f8d9...\n    Current hash:  c9d5b1a4...\n  Outputs: data/cleaned/results.csv (registered & hashed)\n  Dependencies: 2 edges added\n\n  Warning: Input data modified! Reproducibility may be affected.\n```\n\n---\n\n## Error Handling\n\n| Error | Cause | Solution |\n|-------|-------|----------|\n| \"Script file not found\" | Script path doesn't exist | Verify script file path |\n| \"Input file not registered\" | Input file not in manifest | Run `/truth-verification:register --file <input>` first |\n| \"Output file not found\" | Output file doesn't exist | Run script first to generate output, or use `--dry-run` to preview |\n| \"Hash mismatch on input\" | Input file was modified | Investigate modification or re-register with `--update` |\n| \"Invalid manifest\" | `.truth/manifest.json` corrupted | Restore from backup or reinitialize |\n\n---\n\n## Success Indicators\n\nAfter successful execution:\n\n1. Command returns summary with all dependencies listed\n2. Manifest contains new entries:\n   - `analysis_scripts`: New script entry with execution metadata\n   - `dependencies`: New edges linking inputs â†’ script â†’ outputs\n3. `.truth/logs/track.log` contains execution record\n4. If research-memory enabled: New entry in `memory/devlog.md`\n\n---\n\n## Dependency Graph Structure\n\nThe manifest's `dependencies` array tracks relationships:\n\n```json\n{\n  \"id\": \"dep_001\",\n  \"type\": \"data_to_script\",\n  \"from\": \"data/raw/dataset.csv\",\n  \"to\": \"codes/analysis.py\",\n  \"relationship\": \"input\",\n  \"created_at\": \"2025-12-15T14:30:00Z\"\n}\n```\n\nGraph types:\n- **data_to_script**: Data file feeds into a script\n- **script_to_result**: Script produces a result\n- **result_to_script**: Previous result feeds into current script\n\n---\n\n## Advanced Scenarios\n\n### Track with dry-run (preview dependencies):\n```bash\n/truth-verification:track --script codes/analysis.py \\\n  --inputs data/raw/dataset.csv \\\n  --outputs data/cleaned/results.csv \\\n  --dry-run\n```\n\nShows what dependencies would be created without modifying manifest.\n\n### Track with external input (outside project):\n```bash\n/truth-verification:track --script codes/download.py \\\n  --external-inputs \"https://api.example.com/data\" \\\n  --outputs data/raw/downloaded.csv\n```\n\nRecords external data sources that scripts depend on.\n\n### Track with full lineage history:\n```bash\n/truth-verification:track --script codes/pipeline.py \\\n  --inputs data/raw/raw.csv \\\n  --outputs data/final/results.csv \\\n  --include-intermediate results/step1.csv,results/step2.csv\n```\n\nDocuments all intermediate processing steps for complete traceability.\n\n### Check script before tracking:\n```bash\n/truth-verification:track --script codes/analysis.py \\\n  --validate-inputs \\\n  --validate-outputs\n```\n\nValidates all inputs are registered and all outputs exist before tracking.\n\n---\n\n## Integration with research-memory\n\nWhen research-memory is installed, tracking automatically logs:\n\n**In memory/devlog.md**:\n```markdown\n## 2025-12-15 14:30 - Data Analysis Pipeline #data-tracking\nRan analysis script with:\n- Input: data/raw/dataset.csv (verified âœ“)\n- Output: data/cleaned/results.csv (456 KB)\n- Duration: 45 seconds\n- Status: Complete\n\nDependency graph updated with 2 edges.\n```\n\nThis creates an audit trail in your research memory.\n\n---\n\n## Next Steps\n\nAfter tracking script execution:\n\n1. **Verify outputs**: `/truth-verification:verify --file data/cleaned/results.csv`\n2. **Track next step**: If outputs feed into another script, track that too\n3. **Check reproducibility**: `/truth-verification:reproduce` (Phase 3) to validate complete chain\n4. **Generate audit**: `/truth-verification:audit` (Phase 4) to create full report\n\n---\n\n## Related Commands\n\n- `/truth-verification:register` - Register data files and outputs\n- `/truth-verification:verify` - Check data integrity\n- `/truth-verification:reproduce` - Validate reproducibility of complete chains (Phase 3)\n- `/truth-verification:audit` - Generate comprehensive audit reports (Phase 4)\n- `/research-memory:remember` - Log analysis work to memory (when research-memory installed)\n",
        "plugins/truth-verification/commands/verify.md": "# truth-verification:verify\n\n**Goal**: Verify the integrity of registered data files by comparing their current SHA256 hashes against stored baseline values. Detect any unauthorized or accidental modifications.\n\n**When to use**: Verify data regularly (weekly or after major analysis steps) to detect corruption or changes.\n\n---\n\n## Preparation\n\nBefore running this command:\n\n1. Ensure `.truth/manifest.json` exists with registered files\n2. Ensure all registered files still exist on disk\n3. Have read permissions for all files\n4. Allocate time proportional to total data size (large datasets may take minutes)\n\n---\n\n## Execution\n\n### Verify all registered files:\n```bash\n/truth-verification:verify\n```\n\n### Verify specific file:\n```bash\n/truth-verification:verify --file data/raw/dataset.csv\n```\n\n### Verify files in a directory:\n```bash\n/truth-verification:verify --directory data/raw\n```\n\n### Verify with detailed report:\n```bash\n/truth-verification:verify --report-format detailed\n```\n\n### Verify and generate JSON report:\n```bash\n/truth-verification:verify --report-format json --output-file verify-report.json\n```\n\n### Stop on first error (fail-fast mode):\n```bash\n/truth-verification:verify --fail-fast\n```\n\nStops checking after first file integrity failure.\n\n---\n\n## What Happens\n\n1. **Hash Calculation**:\n   - Recomputes SHA256 for each registered file\n   - Uses streaming to minimize memory usage\n   - Shows progress for large files\n\n2. **Comparison**:\n   - Compares current hash against registered baseline\n   - Marks as VERIFIED if hashes match\n   - Marks as MODIFIED if hashes differ\n   - Marks as MISSING if file no longer exists\n\n3. **Status Recording**:\n   - Updates `last_verified` timestamp in manifest for each file\n   - Records verification results in `.truth/logs/verify.log`\n   - Updates overall `integrity_status` in manifest\n\n4. **Report Generation**:\n   - Displays summary: \"15 files verified, 2 modified, 0 missing\"\n   - Lists all files with issues in detail\n   - Suggests next actions if issues found\n\n---\n\n## Output Examples\n\n### Success (all files verified):\n```\nâœ“ Verification Complete\n  Files verified: 15\n  Files modified: 0\n  Files missing: 0\n  Status: ALL DATA INTEGRITY VERIFIED âœ“\n  Last verification: 2025-12-15T15:30:00Z\n```\n\n### Issues found:\n```\nâš  Verification Complete\n  Files verified: 15\n  Files modified: 2\n  Files missing: 0\n  Status: INTEGRITY ISSUES DETECTED\n\nModified Files:\n  âŒ data/raw/dataset.csv\n     Expected hash: a7b3f8d9e2c1...\n     Current hash:  c9d5b1a4e2f3...\n     Last verified: 2025-12-15T10:30:00Z\n     Time since change: 5 hours\n\n  âŒ data/cleaned/results.csv\n     Expected hash: b8c4a9e3d1f2...\n     Current hash:  d1e6c2b5f4a9...\n     Last verified: 2025-12-15T14:30:00Z\n     Time since change: 1 hour\n```\n\n---\n\n## Error Handling\n\n| Error | Cause | Solution |\n|-------|-------|----------|\n| \"File not found: ...\" | Registered file no longer exists | Use `--mark-missing` to update manifest, then investigate deletion |\n| \"Permission denied\" | Can't read a file | Check file permissions: `ls -l filename` |\n| \"Invalid manifest\" | `.truth/manifest.json` corrupted | Restore backup: `git checkout .truth/manifest.json` |\n| \"Hash computation timeout\" | Very large file or slow disk | Use `--timeout-minutes 30` to extend limit |\n| \"No files to verify\" | Manifest has empty data_sources array | Register files first: `/truth-verification:register ...` |\n\n---\n\n## Success Indicators\n\nAfter successful execution:\n\n1. Command returns \"ALL DATA INTEGRITY VERIFIED âœ“\" or lists specific issues\n2. Manifest's `integrity_status` field updated with verification timestamp\n3. All files shown as \"verified\" (or specific issues listed)\n4. `.truth/logs/verify.log` contains verification record\n\n---\n\n## Interpretation of Results\n\n### VERIFIED\nFile's current hash matches registered baseline exactly. Data is unchanged.\n\n### MODIFIED\nFile's hash differs from baseline. This can happen due to:\n- **Legitimate**: Analysis scripts updated the file (expected)\n- **Accidental**: File was edited manually without updating hash\n- **Concerning**: Unauthorized modification or data corruption\n\n### MISSING\nFile was registered but no longer exists on disk. This can happen due to:\n- **Accidental**: File was deleted\n- **Expected**: Data cleanup or restructuring\n- **Concerning**: Data loss or backup failure\n\n---\n\n## Advanced Scenarios\n\n### Update modified files that changed legitimately:\n```bash\n/truth-verification:verify --auto-update-modified --backup-old-hashes\n```\n\nRecalculates hashes for files that changed, and backs up old hashes.\n\n### Check specific time range:\n```bash\n/truth-verification:verify --modified-since \"2025-12-15T12:00:00Z\"\n```\n\nOnly reports files modified since specified timestamp.\n\n### Compare against previous verification:\n```bash\n/truth-verification:verify --compare-with-previous\n```\n\nShows detailed diff of what changed since last verification.\n\n---\n\n## Next Steps\n\nIf all files verify:\n- Continue with analysis confident data is unchanged\n- Run `/truth-verification:status` to view overall health\n- Commit `.truth/manifest.json` to version control\n\nIf issues found:\n- Investigate modified files: `git log -p -- data/raw/dataset.csv`\n- If modification was intentional, re-register: `/truth-verification:register --file data/raw/dataset.csv --update`\n- If modification was accidental, restore from backup or git\n\n---\n\n## Related Commands\n\n- `/truth-verification:register` - Register new files to establish baseline\n- `/truth-verification:status` - View verification status and recommendations\n- `/truth-verification:reproduce` - Check if results are reproducible given current data\n- `/truth-verification:audit` - Generate comprehensive audit report\n"
      },
      "plugins": [
        {
          "name": "research-memory",
          "description": "A skill for academic research memory management.",
          "version": "0.2.0",
          "source": "./plugins/research-memory",
          "author": {
            "name": "Adrian",
            "email": "syfyufei@gmail.com"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add syfyufei/LLM-Research-Marketplace",
            "/plugin install research-memory@LLM-Research-Marketplace"
          ]
        },
        {
          "name": "project-management",
          "description": "A skill for standardized project scaffolding, restructuring, and validation.",
          "version": "0.1.0",
          "source": "./plugins/project-management",
          "author": {
            "name": "Adrian",
            "email": "syfyufei@gmail.com"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add syfyufei/LLM-Research-Marketplace",
            "/plugin install project-management@LLM-Research-Marketplace"
          ]
        },
        {
          "name": "skill-squared",
          "description": "A skill for skill creation, extension, sync, and validation.",
          "version": "0.1.0",
          "source": "./plugins/skill-squared",
          "author": {
            "name": "Adrian",
            "email": "syfyufei@gmail.com"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add syfyufei/LLM-Research-Marketplace",
            "/plugin install skill-squared@LLM-Research-Marketplace"
          ]
        },
        {
          "name": "truth-verification",
          "description": "Ensure research integrity by tracking data provenance, verifying authenticity, and preventing fabricated claims.",
          "version": "1.0.0",
          "source": "./plugins/truth-verification",
          "author": {
            "name": "Adrian",
            "email": "syfyufei@gmail.com"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add syfyufei/LLM-Research-Marketplace",
            "/plugin install truth-verification@LLM-Research-Marketplace"
          ]
        },
        {
          "name": "academic-figures",
          "description": "Generate publication-ready academic figures with grayscale styling and Chinese font support.",
          "version": "0.1.0",
          "source": "./plugins/academic-figures",
          "author": {
            "name": "Adrian",
            "email": "syfyufei@gmail.com"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add syfyufei/LLM-Research-Marketplace",
            "/plugin install academic-figures@LLM-Research-Marketplace"
          ]
        }
      ]
    }
  ]
}