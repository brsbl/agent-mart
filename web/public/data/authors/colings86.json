{
  "author": {
    "id": "colings86",
    "display_name": "Colin Goodheart-Smithe",
    "avatar_url": "https://avatars.githubusercontent.com/u/236731?u=58f7cdc10fff8f8786cea2ff0dd9445dac9b4a96&v=4"
  },
  "marketplaces": [
    {
      "name": "tts-plugin",
      "version": null,
      "description": "Text-to-speech system for Claude Code that reads Claude's responses aloud using kokoro-tts",
      "repo_full_name": "colings86/tts-plugin",
      "repo_url": "https://github.com/colings86/tts-plugin",
      "repo_description": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-02-16T22:51:43Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"tts-plugin\",\n  \"owner\": {\n    \"name\": \"colings86\",\n    \"email\": \"colings86@gmail.com\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"tts\",\n      \"source\": \"./plugins/tts\",\n      \"description\": \"Text-to-speech system for Claude Code that reads Claude's responses aloud using kokoro-tts\",\n      \"version\": \"0.1.0\",\n      \"author\": {\n        \"name\": \"colings86\"\n      }\n    }\n  ]\n}\n",
        "plugins/tts/README.md": "# TTS Plugin for Claude Code\n\nText-to-speech system for Claude Code that reads Claude's responses aloud using [kokoro-tts](https://github.com/thewh1teagle/kokoro).\n\n## Features\n\n- üîä **Automatic TTS**: Speaks Claude's responses when they complete\n- üõ†Ô∏è **Tool-specific TTS**: Extensible system for speaking tool outputs (e.g., AskUserQuestion)\n- ‚ö° **Real-time feedback**: Optional TTS during tool execution\n- üéØ **Smart extraction**: Extracts TTS-optimized \"## TTS Response\" sections\n- üéõÔ∏è **Configurable**: Customize voice, language, speed, and behavior\n- üîá **Interrupt handling**: Automatically stops playback when you submit a new prompt\n- üìù **Session tracking**: Prevents re-speaking already-heard messages\n\n## Tool TTS Support\n\nThe TTS plugin can speak outputs from specific tools, not just Claude's text responses. This is implemented using an extensible **PreToolUse hook** system with tool-specific handlers.\n\n### Supported Tools\n\n- **AskUserQuestion** - Speaks questions and options when Claude asks for input (before you answer!)\n\n### How It Works\n\n1. PreToolUse hook fires when a tool is about to be called\n2. Handler registry checks if a handler exists for that tool\n3. Tool-specific handler extracts and formats the relevant content\n4. Text is spoken asynchronously (doesn't block the tool)\n\n### Configuration\n\nEnable/disable tool TTS globally:\n\n```json\n{\n  \"tools\": {\n    \"speak\": true\n  }\n}\n```\n\nConfigure specific tools:\n\n```json\n{\n  \"tools\": {\n    \"AskUserQuestion\": {\n      \"speak\": true,\n      \"format\": \"sentence\"\n    }\n  }\n}\n```\n\n**Format options for AskUserQuestion:**\n- `\"sentence\"` - \"Your options are: Option A, Option B, or Option C\" (default)\n- `\"list\"` - \"Option 1: Option A. Option 2: Option B. Option 3: Option C.\"\n- `\"simple\"` - \"Option A. Option B. Option C.\"\n\n### Adding New Tool Handlers\n\nThe system is designed to be easily extensible. To add TTS support for a new tool:\n\n1. Create a handler file in `scripts/tts-tool-handlers/`\n2. Implement the `handle_tool_output()` function\n3. Add configuration to `settings.default.json`\n\nSee [docs/TOOL_HANDLERS.md](docs/TOOL_HANDLERS.md) for detailed guide and examples.\n\n**Future tool ideas:**\n- WebSearch - Read search results summary\n- Bash - Speak command output (opt-in)\n- Task - Announce subagent completion\n- NotebookRead - Read cell outputs aloud\n\n## Prerequisites\n\nThis plugin requires [kokoro-tts](https://github.com/thewh1teagle/kokoro) to be installed:\n\n```bash\n# Install kokoro-tts (follow official installation guide)\n# Verify installation\nkokoro-tts --help\n```\n\n## Installation\n\n1. Clone or copy this plugin to your Claude Code plugins directory:\n   ```bash\n   git clone https://github.com/colings86/tts-plugin ~/.claude/plugins/tts-plugin\n   ```\n\n2. Enable the plugin in Claude Code settings or via:\n   ```bash\n   cc --plugin-dir ~/.claude/plugins/tts-plugin\n   ```\n\n3. Configure TTS settings (optional):\n   ```bash\n   # Interactive configuration wizard\n   /tts-plugin:configure\n   ```\n\n## Configuration\n\nThe plugin uses a hierarchical `settings.json` configuration system that supports user-level, project-level, and local-level settings.\n\n### Configuration Hierarchy\n\nSettings are loaded and merged in this priority order (highest to lowest):\n\n1. **Local** (`.claude/plugins/tts/settings.local.json`) - Machine-specific overrides, not committed to git\n2. **Project** (`.claude/plugins/tts/settings.json`) - Team settings, committed to git\n3. **User** (`~/.claude/plugins/tts/settings.json`) - Personal defaults across all projects\n4. **Defaults** (shipped with plugin) - Base configuration\n\nThis allows you to:\n- Set personal preferences globally\n- Share team settings via git\n- Override settings locally without affecting committed files\n\n### Quick Start\n\nUse the interactive configure command:\n```bash\n/tts-plugin:configure\n```\n\nThis wizard will:\n1. Ask which configuration level to modify (user/project/local)\n2. Show current merged settings\n3. Guide you through Quick Setup or Advanced Setup\n4. Save settings to the appropriate file\n\n### Configuration Levels\n\n#### User-Level (Global)\nPersonal defaults that apply to all projects:\n```bash\n/tts-plugin:configure --user\n```\nLocation: `~/.claude/plugins/tts/settings.json`\n\n#### Project-Level (Team)\nSettings for a specific project, shared with your team via git:\n```bash\n/tts-plugin:configure --project\n```\nLocation: `.claude/plugins/tts/settings.json`\n\n**Recommended .gitignore entry:**\n```\n# Keep local TTS overrides private\n.claude/plugins/tts/settings.local.json\n```\n\n#### Local-Level (Machine-Specific)\nOverride project/user settings on your machine only:\n```bash\n/tts-plugin:configure --local\n```\nLocation: `.claude/plugins/tts/settings.local.json` (automatically ignored by git)\n\n### Configuration Format\n\nSettings are stored in JSON format with logical grouping:\n\n```json\n{\n  \"enabled\": {\n    \"global\": true,\n    \"pretool\": true\n  },\n  \"voice\": {\n    \"name\": \"af_bella\",\n    \"language\": \"en-gb\",\n    \"speed\": 1.3\n  },\n  \"models\": {\n    \"model\": \"$HOME/.local/share/kokoro-tts/kokoro-v1.0.onnx\",\n    \"voices\": \"$HOME/.local/share/kokoro-tts/voices-v1.0.bin\"\n  },\n  \"processing\": {\n    \"useTtsSection\": true,\n    \"maxLength\": 5000\n  },\n  \"paths\": {\n    \"stateDir\": \"$HOME/.local/state/claude-tts/session-state\",\n    \"logDir\": \"$HOME/.local/state/claude-tts/logs\"\n  },\n  \"tools\": {\n    \"speak\": true,\n    \"AskUserQuestion\": {\n      \"speak\": true,\n      \"format\": \"sentence\",\n      \"pause\": 0.5\n    }\n  }\n}\n```\n\n### Available Settings\n\n| Setting | Type | Default | Description |\n|---------|------|---------|-------------|\n| `enabled.global` | boolean | true | Global TTS enable/disable (affects all hooks) |\n| `enabled.pretool` | boolean | true | PreToolUse hook enable/disable |\n| `voice.name` | string | \"af_bella\" | Voice to use (run `kokoro-tts --help-voices`) |\n| `voice.language` | string | \"en-gb\" | Language code (run `kokoro-tts --help-languages`) |\n| `voice.speed` | number | 1.3 | Speech speed (0.5-2.0, where 1.0 is normal) |\n| `models.model` | string | (path) | Path to kokoro-tts model file |\n| `models.voices` | string | (path) | Path to kokoro-tts voices file |\n| `processing.useTtsSection` | boolean | true | Extract \"## TTS Response\" section if present |\n| `processing.maxLength` | number | 5000 | Maximum characters to speak per message |\n| `paths.stateDir` | string | (path) | Directory for session state files |\n| `paths.logDir` | string | (path) | Directory for TTS log files |\n| `tools.speak` | boolean | true | Global enable/disable for all tool TTS |\n| `tools.AskUserQuestion.speak` | boolean | true | Enable TTS for AskUserQuestion tool |\n| `tools.AskUserQuestion.format` | string | \"sentence\" | Format for options (sentence/list/simple) |\n| `tools.AskUserQuestion.pause` | number | 0.5 | Pause before speaking (reserved for future use) |\n\n### Migrating from .env\n\nIf you have an existing `.env` configuration file, migrate automatically:\n```bash\n/tts-plugin:migrate\n```\n\nThis will:\n- Convert your `.env` to `settings.json`\n- Back up the original to `.env.backup`\n- Show you what was migrated\n\nSee [MIGRATION.md](MIGRATION.md) for detailed migration guide.\n\n## Usage\n\n### Commands\n\n- `/tts-plugin:enable [--user|--project|--local]` - Enable TTS at specified level\n- `/tts-plugin:disable [--user|--project|--local]` - Disable TTS at specified level\n- `/tts-plugin:configure [--user|--project|--local]` - Interactive configuration wizard\n- `/tts-plugin:test [message] [--voice VOICE] [--speed SPEED] [--lang LANG]` - Test TTS\n- `/tts-plugin:migrate` - Migrate from legacy .env to settings.json\n\n### Skills\n\n- **tts-setup** - Automatically activates when you ask about TTS setup, configuration, or troubleshooting\n\n### How It Works\n\n1. **UserPromptSubmit Hook**: When you submit a prompt, the plugin:\n   - Interrupts any ongoing TTS playback\n   - Adds a request for Claude to include a \"## TTS Response\" section\n\n2. **Stop Hook**: When Claude finishes responding:\n   - Extracts new messages from the transcript\n   - Looks for \"## TTS Response\" section (if configured)\n   - Speaks the text using kokoro-tts\n   - Updates session state to track what's been spoken\n\n3. **PreToolUse Hook** (optional): Before each tool executes:\n   - Speaks any new text that appeared\n   - Provides real-time audio feedback during execution\n\n4. **SessionEnd Hook**: When session ends:\n   - Cleans up session state files\n\n## Examples\n\n### Test TTS\n```bash\n# Use default test text\n/tts-plugin:test\n\n# Custom text\n/tts-plugin:test \"Hello, this is a custom message\"\n\n# Test with different voice\n/tts-plugin:test \"Testing voice\" --voice af_sarah\n\n# Test with different speed\n/tts-plugin:test \"Testing speed\" --speed 1.5\n```\n\n### Enable/Disable TTS\n```bash\n# Enable at user level (default, all projects)\n/tts-plugin:enable\n/tts-plugin:enable --user\n\n# Enable at project level (committed to git, shared with team)\n/tts-plugin:enable --project\n\n# Enable at local level (this machine only, not committed)\n/tts-plugin:enable --local\n\n# Disable at user level\n/tts-plugin:disable\n/tts-plugin:disable --user\n\n# Disable at project level\n/tts-plugin:disable --project\n\n# Disable at local level\n/tts-plugin:disable --local\n```\n\n### Get Help\nJust ask Claude:\n- \"How do I set up TTS?\"\n- \"How can I change the TTS voice?\"\n- \"TTS isn't working, help me troubleshoot\"\n\nThe `tts-setup` skill will automatically activate with relevant guidance.\n\n## Troubleshooting\n\n### TTS Not Speaking\n\n1. Verify kokoro-tts is installed: `kokoro-tts --help`\n2. Check TTS is enabled: `/tts-plugin:configure` (check `enabled.global`)\n3. Test manually: `/tts-plugin:test`\n4. Check logs: `~/.local/state/claude-tts/logs/`\n5. Verify settings are valid JSON: `jq . ~/.claude/plugins/tts/settings.json`\n\n### Wrong Voice or Speed\n\nUse the configure command to update settings:\n```bash\n/tts-plugin:configure\n```\n\nOr manually edit your settings file:\n```bash\n# Edit user-level settings\nvim ~/.claude/plugins/tts/settings.json\n\n# Edit project-level settings\nvim .claude/plugins/tts/settings.json\n```\n\n### TTS Too Verbose\n\nDisable the PreToolUse hook in configuration:\n```bash\n/tts-plugin:configure\n# Set enabled.pretool to false\n```\n\n### Configuration Not Taking Effect\n\n1. Restart Claude Code after changing settings\n2. Check which level settings are coming from - local overrides project, project overrides user\n3. Verify JSON syntax is valid: `jq . <settings-file>`\n\n### Migration Issues\n\nIf you're migrating from .env and having issues:\n```bash\n# Automatic migration\n/tts-plugin:migrate\n\n# Or see detailed migration guide\ncat ~/.claude/plugins/tts-plugin/MIGRATION.md\n```\n\n## Development\n\n### Directory Structure\n\n```\ntts-plugin/\n‚îú‚îÄ‚îÄ .claude-plugin/\n‚îÇ   ‚îî‚îÄ‚îÄ plugin.json               # Plugin manifest\n‚îú‚îÄ‚îÄ commands/                      # User commands\n‚îÇ   ‚îú‚îÄ‚îÄ enable.md\n‚îÇ   ‚îú‚îÄ‚îÄ disable.md\n‚îÇ   ‚îú‚îÄ‚îÄ configure.md\n‚îÇ   ‚îú‚îÄ‚îÄ test.md\n‚îÇ   ‚îî‚îÄ‚îÄ migrate.md                # NEW: Migration from .env\n‚îú‚îÄ‚îÄ skills/                        # Auto-activating skills\n‚îÇ   ‚îî‚îÄ‚îÄ tts-setup/\n‚îÇ       ‚îî‚îÄ‚îÄ SKILL.md\n‚îú‚îÄ‚îÄ hooks/                         # Event handlers\n‚îÇ   ‚îú‚îÄ‚îÄ hooks.json                # Hook configuration\n‚îÇ   ‚îî‚îÄ‚îÄ scripts/                  # Hook scripts\n‚îú‚îÄ‚îÄ scripts/                       # Shared utilities\n‚îÇ   ‚îú‚îÄ‚îÄ tts-common.sh             # Core TTS library (JSON-based config)\n‚îÇ   ‚îú‚îÄ‚îÄ tts-instruction-template.txt\n‚îÇ   ‚îî‚îÄ‚îÄ tts-tool-handlers/        # Tool-specific TTS handlers\n‚îÇ       ‚îú‚îÄ‚îÄ handler-registry.sh   # Handler discovery/dispatch\n‚îÇ       ‚îî‚îÄ‚îÄ ask-user-question-handler.sh  # AskUserQuestion TTS logic\n‚îú‚îÄ‚îÄ docs/                          # Documentation\n‚îÇ   ‚îî‚îÄ‚îÄ TOOL_HANDLERS.md          # Guide for creating tool handlers\n‚îú‚îÄ‚îÄ settings.default.json         # NEW: Default settings (shipped)\n‚îú‚îÄ‚îÄ MIGRATION.md                  # NEW: Migration guide\n‚îú‚îÄ‚îÄ .env.example                  # DEPRECATED: Legacy config template\n‚îî‚îÄ‚îÄ README.md\n```\n\n### Configuration Files (User's Machine)\n\n```\n~/.claude/plugins/tts/\n‚îî‚îÄ‚îÄ settings.json                 # User-level settings\n\n<project-root>/.claude/plugins/tts/\n‚îú‚îÄ‚îÄ settings.json                 # Project-level settings (committed)\n‚îî‚îÄ‚îÄ settings.local.json           # Local overrides (not committed)\n```\n\n## License\n\nMIT\n\n## Contributing\n\nIssues and pull requests welcome at https://github.com/colings86/tts-plugin\n"
      },
      "plugins": [
        {
          "name": "tts",
          "source": "./plugins/tts",
          "description": "Text-to-speech system for Claude Code that reads Claude's responses aloud using kokoro-tts",
          "version": "0.1.0",
          "author": {
            "name": "colings86"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add colings86/tts-plugin",
            "/plugin install tts@tts-plugin"
          ]
        }
      ]
    }
  ]
}