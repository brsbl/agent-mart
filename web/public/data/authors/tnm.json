{
  "author": {
    "id": "tnm",
    "display_name": "Ted Nyman",
    "avatar_url": "https://avatars.githubusercontent.com/u/126905?u=b7b9c8f8803df27dd71c461162f13537c1fed25d&v=4"
  },
  "marketplaces": [
    {
      "name": "email-cli",
      "version": null,
      "description": "Email tools for AI agents",
      "repo_full_name": "tnm/email-cli",
      "repo_url": "https://github.com/tnm/email-cli",
      "repo_description": "CLI for your agents to send email",
      "signals": {
        "stars": 2,
        "forks": 0,
        "pushed_at": "2026-02-16T06:56:06Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"email-cli\",\n  \"description\": \"Email tools for AI agents\",\n  \"owner\": {\n    \"name\": \"tnm\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"email-cli\",\n      \"description\": \"Send emails via Google Workspace, Proton Mail, or SMTP\",\n      \"source\": \"./\",\n      \"version\": \"1.0.0\"\n    }\n  ]\n}\n",
        ".claude-plugin/plugin.json": "{\n  \"name\": \"email-cli\",\n  \"description\": \"Send emails via Google Workspace, Proton Mail, or SMTP. Built for AI agents and automation.\",\n  \"version\": \"1.0.0\",\n  \"author\": {\n    \"name\": \"tnm\"\n  },\n  \"repository\": \"https://github.com/tnm/email-cli\",\n  \"license\": \"MIT\",\n  \"keywords\": [\"email\", \"smtp\", \"gmail\", \"proton\", \"automation\"]\n}\n",
        "README.md": "# email-cli\n\nA simple CLI for agents to send emails. Supports AgentMail, Google Workspace, Proton Mail, and generic SMTP.\n\n## Install\n\n### Install Script (requires Go)\n\n```bash\ncurl -fsSL https://raw.githubusercontent.com/tnm/email-cli/main/email/install.sh | bash\n```\n\nInstalls `email-cli` into `~/.local/bin` by default. If that directory is not on your `PATH`:\n\n```bash\nexport PATH=\"$HOME/.local/bin:$PATH\"\n```\n\nOr install from a local checkout:\n\n```bash\ngit clone https://github.com/tnm/email-cli\ncd email-cli/email\n./install.sh\n```\n\n### Go Install\n\n```bash\ngo install github.com/tnm/email-cli@latest\n```\n\nOr build from source:\n\n```bash\ngit clone https://github.com/tnm/email-cli\ncd email-cli/email\ngo build -o email-cli .\n```\n\n### Claude Code Plugin\n\nInstall as a Claude Code plugin for AI agent access:\n\n```bash\n# Add the marketplace\n/plugin marketplace add tnm/email-cli\n\n# Install the plugin\n/plugin install email-cli@email-cli\n\n# Or load locally during development\nclaude --plugin-dir /path/to/email-cli\n```\n\nOnce installed, Claude automatically uses email-cli when you ask it to send emails.\n\n## Quick Start\n\n```bash\n# Add a provider (interactive)\nemail-cli config add mymail\n\n# Send an email\nemail-cli send -t recipient@example.com -s \"Hello\" -m \"Message body\"\n```\n\n---\n\n## Configuration\n\nConfig is stored at `~/.config/email-cli/config.json`\n\n## Security\n\n`email-cli` follows a pragmatic local-file security model:\n\n- Secrets are stored in plaintext in `~/.config/email-cli/config.json` by default.\n- On macOS, you can use `--use-keychain` to store secrets in macOS Keychain instead.\n- File permissions are restricted to owner-only (`0600`) when writing config.\n- `email-cli config show` redacts secrets by default.\n- `email-cli config show --show-secrets` prints raw secrets and should be treated as sensitive.\n\n### macOS Keychain Support\n\nOn macOS, you can store secrets in the system Keychain instead of the config file:\n\n```bash\n# Store credentials in Keychain when adding a provider\nemail-cli config add --name agent \\\n  --type agentmail \\\n  --api-key \"am_...\" \\\n  --inbox-id \"myagent@agentmail.to\" \\\n  --use-keychain\n\n# Update a secret and store in Keychain\nemail-cli config set --use-keychain mymail password \"new-password\"\n```\n\nWhen using Keychain, the config file stores a reference like `keychain:mymail/password` instead of the actual secret. The secret is resolved from Keychain at runtime.\n\nBenefits:\n- Secrets never appear in the config file\n- Protected by macOS Keychain security (Touch ID, password, etc.)\n- Secrets survive config file inspection\n\nNote: Keychain support is only available on macOS.\n\n### Operational Guidance\n\n- Avoid passing secrets directly on command lines when possible (`--api-key`, `--password`, `--access-token`, `--refresh-token`) because shell history and process inspection may expose them.\n- Use `--use-keychain` on macOS for sensitive credentials.\n- Prefer app-specific passwords for SMTP providers (for Gmail, use an App Password).\n- Rotate credentials immediately if a machine, shell history, or agent transcript is exposed.\n- For install safety, prefer reviewing `install.sh` from a pinned version tag before running it.\n\n### Interactive Mode (for humans)\n\n```bash\nemail-cli config add mymail\n```\n\nWalks you through provider selection and credential entry.\n\n### Non-Interactive Mode (for scripts/agents)\n\n#### AgentMail (easiest - just API key)\n\n```bash\nemail-cli config add --name agent \\\n  --type agentmail \\\n  --api-key \"am_...\" \\\n  --inbox-id \"myagent@agentmail.to\" \\\n  --default\n```\n\nNo OAuth, no app passwords, no local servers. Just an API key from [agentmail.to](https://agentmail.to). Free tier: 3 inboxes, 3k emails/month.\n\n#### Recommended for Gmail (lowest friction): SMTP + App Password\n\n```bash\nemail-cli config add --name gmail-smtp \\\n  --type smtp \\\n  --from me@gmail.com \\\n  --host smtp.gmail.com \\\n  --port 587 \\\n  --username me@gmail.com \\\n  --password \"$GMAIL_APP_PASSWORD\" \\\n  --tls \\\n  --default\n```\n\nUse this when you want the fastest setup for humans and agents. It avoids Google Cloud OAuth client setup.\n\n#### SMTP\n\n```bash\nemail-cli config add --name mymail \\\n  --type smtp \\\n  --from me@example.com \\\n  --host smtp.example.com \\\n  --port 587 \\\n  --username me@example.com \\\n  --password \"secret\" \\\n  --tls\n```\n\n#### Proton Mail\n\n```bash\nemail-cli config add --name proton \\\n  --type proton \\\n  --from me@proton.me \\\n  --username me@proton.me \\\n  --password \"bridge-password\"\n```\n\n#### Google Workspace (Gmail API)\n\n```bash\nemail-cli config add --name google \\\n  --type google \\\n  --from me@gmail.com \\\n  --client-id \"xxx.apps.googleusercontent.com\" \\\n  --client-secret \"xxx\"\n```\n\nBy default this starts OAuth device flow and prints a verification URL/code in your terminal.\nTo force localhost callback flow instead:\n\n```bash\nemail-cli config add --name google \\\n  --type google \\\n  --from me@gmail.com \\\n  --client-id \"xxx.apps.googleusercontent.com\" \\\n  --client-secret \"xxx\" \\\n  --oauth-method local\n```\n\n### Config Commands\n\n```bash\n# List providers\nemail-cli config list\n\n# Show config as JSON (useful for agents)\nemail-cli config show                     # full config (secrets redacted)\nemail-cli config show mymail              # specific provider (secrets redacted)\nemail-cli config show --show-secrets      # include secrets/tokens\nemail-cli config show --show-secrets mymail\n\n# Set individual values\nemail-cli config set mymail password \"new-password\"\nemail-cli config set mymail host smtp.newserver.com\n\n# Set default provider\nemail-cli config default mymail\n\n# Remove provider\nemail-cli config remove mymail\n\n# Show config file path\nemail-cli config path\n```\n\n### Config Set Keys\n\n| Provider | Available Keys |\n|----------|---------------|\n| AgentMail | `api-key`, `inbox-id` |\n| SMTP | `from`, `host`, `port`, `username`, `password`, `tls` |\n| Proton | `from`, `host`, `port`, `username`, `password` |\n| Google | `from`, `client-id`, `client-secret`, `access-token`, `refresh-token` |\n\n---\n\n## Sending Email\n\n### Basic Usage\n\n```bash\nemail-cli send -t user@example.com -s \"Subject\" -m \"Body\"\n```\n\n### Options\n\n| Flag | Short | Description |\n|------|-------|-------------|\n| `--to` | `-t` | Recipient(s) - required, repeatable |\n| `--subject` | `-s` | Subject line - required |\n| `--body` | `-m` | Message body |\n| `--cc` | `-c` | CC recipient(s) |\n| `--bcc` | `-b` | BCC recipient(s) |\n| `--attach` | `-a` | File attachment(s) |\n| `--html` | | Treat body as HTML |\n| `--provider` | `-p` | Use specific provider |\n\n### Examples\n\n```bash\n# Multiple recipients\nemail-cli send -t a@example.com -t b@example.com -s \"Team Update\" -m \"Hello team\"\n\n# With CC/BCC\nemail-cli send -t user@example.com -c cc@example.com -b bcc@example.com -s \"Subject\" -m \"Body\"\n\n# HTML email\nemail-cli send -t user@example.com -s \"Newsletter\" -m \"<h1>Hello</h1><p>World</p>\" --html\n\n# Attachments\nemail-cli send -t user@example.com -s \"Report\" -m \"See attached\" -a report.pdf -a data.csv\n\n# Read body from stdin\ncat message.txt | email-cli send -t user@example.com -s \"From file\"\necho \"Quick message\" | email-cli send -t user@example.com -s \"Piped\"\n\n# Use specific provider\nemail-cli send -p work -t user@example.com -s \"Subject\" -m \"Body\"\n```\n\n---\n\n## Provider Setup\n\n### AgentMail (Easiest)\n\n[AgentMail](https://agentmail.to) is email infrastructure designed for AI agents. No OAuth, no app passwords, no local servers — just an API key.\n\n1. Sign up at [agentmail.to](https://agentmail.to)\n2. Create an API key in the console\n3. Create an inbox (or use the API to create one)\n4. Configure:\n\n```bash\nemail-cli config add --name agent \\\n  --type agentmail \\\n  --api-key \"am_...\" \\\n  --inbox-id \"myagent@agentmail.to\" \\\n  --default\n```\n\n**Free tier:** 3 inboxes, 3,000 emails/month, no credit card required.\n\n**Note:** You'll send from `@agentmail.to` addresses unless you add a custom domain (paid plans).\n\n### Gmail (Recommended for Lowest Friction)\n\nUse Gmail over SMTP with an App Password.\n\n1. Turn on Google 2-Step Verification.\n2. Create an App Password at [Google App Passwords](https://myaccount.google.com/apppasswords).\n3. Configure `email-cli`:\n\n```bash\nemail-cli config add --name gmail-smtp \\\n  --type smtp \\\n  --from me@gmail.com \\\n  --host smtp.gmail.com \\\n  --port 587 \\\n  --username me@gmail.com \\\n  --password \"YOUR_APP_PASSWORD\" \\\n  --tls \\\n  --default\n```\n\nNotes:\n- This is the simplest path for agent-driven setup.\n- Agents cannot create App Passwords for users; the user must do that account-security step once.\n\n### Google Workspace (Gmail API)\n\nUses Gmail API with OAuth2.\n\n`email-cli` defaults to OAuth device flow for Google setup, so you do not need a localhost callback server in the common case.\nThis path requires Google Cloud OAuth project setup.\n\n1. Create a project in [Google Cloud Console](https://console.cloud.google.com/)\n2. Enable the Gmail API\n3. Create OAuth2 credentials (Desktop app type)\n4. Run `email-cli config add google` and complete device auth in terminal\n5. Optional for local callback mode: add `http://127.0.0.1:8089/callback` to authorized redirect URIs and run with `--oauth-method local`\n\nIf you already have tokens, you can set them directly:\n\n```bash\nemail-cli config add --name google \\\n  --type google \\\n  --from me@gmail.com \\\n  --client-id \"YOUR_CLIENT_ID\" \\\n  --client-secret \"YOUR_CLIENT_SECRET\" \\\n  --access-token \"YOUR_ACCESS_TOKEN\" \\\n  --refresh-token \"YOUR_REFRESH_TOKEN\"\n```\n\n### Proton Mail\n\nUses [Proton Mail Bridge](https://proton.me/mail/bridge) which runs a local SMTP server.\n\n1. Install and run Proton Mail Bridge\n2. Get the bridge password from Bridge settings (not your account password)\n3. Configure:\n\n```bash\n# Interactive\nemail-cli config add proton\n\n# Non-interactive\nemail-cli config add --name proton \\\n  --type proton \\\n  --from me@proton.me \\\n  --username me@proton.me \\\n  --password \"BRIDGE_PASSWORD\"\n```\n\nDefault bridge address: `127.0.0.1:1025`\n\n### Generic SMTP\n\nWorks with any SMTP server: SendGrid, Mailgun, Fastmail, AWS SES, etc.\n\n```bash\n# Interactive\nemail-cli config add smtp\n\n# Non-interactive (SendGrid example)\nemail-cli config add --name sendgrid \\\n  --type smtp \\\n  --from me@example.com \\\n  --host smtp.sendgrid.net \\\n  --port 587 \\\n  --username apikey \\\n  --password \"SG.xxxx\" \\\n  --tls\n```\n\n---\n\n## For AI Agents\n\nThis CLI is designed to be easily used by AI agents and automation.\n\n### Recommended Setup Order\n\nUse this order when helping users configure email:\n1. **AgentMail first** — easiest, just needs API key + inbox ID\n2. For existing email accounts, try SMTP\n3. For Gmail, prefer `smtp.gmail.com` + App Password\n4. Use Google API only if the user explicitly wants Gmail API/OAuth features\n5. Use Proton Bridge only when the user is on Proton Mail\n\n### Agent Setup Playbook\n\n1. Check for an existing provider:\n```bash\nemail-cli config list\n```\n2. If no provider exists, recommend AgentMail for simplest setup:\n```bash\nemail-cli config add --name agent \\\n  --type agentmail \\\n  --api-key \"am_...\" \\\n  --inbox-id \"myagent@agentmail.to\" \\\n  --default\n```\n3. Or for existing email, collect SMTP details and configure:\n```bash\nemail-cli config add --name agent-mail \\\n  --type smtp \\\n  --from \"$EMAIL_FROM\" \\\n  --host \"$SMTP_HOST\" \\\n  --port \"$SMTP_PORT\" \\\n  --username \"$SMTP_USER\" \\\n  --password \"$SMTP_PASS\" \\\n  --default\n```\n4. Send:\n```bash\nemail-cli send -t \"$TO\" -s \"$SUBJECT\" -m \"$BODY\"\n```\n\n### Claude Code Plugin\n\nThe easiest way to use email-cli with Claude Code:\n\n```bash\n/plugin marketplace add tnm/email-cli\n/plugin install email-cli@email-cli\n```\n\nClaude will automatically invoke the email skill when you ask it to send emails. The skill includes full documentation so Claude knows all available options.\n\n### Simple Interface\n\n```bash\n# Predictable, scriptable\nemail-cli send -t \"$TO\" -s \"$SUBJECT\" -m \"$BODY\"\n\n# Exit codes: 0 = success, non-zero = failure\nemail-cli send -t user@example.com -s \"Test\" -m \"Hello\" && echo \"Sent!\"\n```\n\n### Pipe Content\n\n```bash\n# Pipe generated content\necho \"$GENERATED_REPORT\" | email-cli send -t user@example.com -s \"Daily Report\"\n\n# From files\ncat analysis.txt | email-cli send -t user@example.com -s \"Analysis Results\"\n```\n\n### Non-Interactive Config\n\n```bash\n# Set up without prompts\nemail-cli config add --name agent-mail \\\n  --type smtp \\\n  --from agent@example.com \\\n  --host smtp.example.com \\\n  --port 587 \\\n  --username agent@example.com \\\n  --password \"$SMTP_PASSWORD\" \\\n  --default\n\n# Update credentials programmatically\nemail-cli config set agent-mail password \"$NEW_PASSWORD\"\n```\n\n### JSON Output\n\n```bash\n# Get config as JSON for parsing (secrets are redacted by default)\nemail-cli config show\nemail-cli config show agent-mail\n\n# Include secrets/tokens only when needed\nemail-cli config show --show-secrets agent-mail\n```\n\n### Environment Variables\n\nYou can use environment variables in scripts:\n\n```bash\nemail-cli config add --name mymail \\\n  --type smtp \\\n  --from \"$EMAIL_FROM\" \\\n  --host \"$SMTP_HOST\" \\\n  --port \"$SMTP_PORT\" \\\n  --username \"$SMTP_USER\" \\\n  --password \"$SMTP_PASS\"\n```\n\n---\n\n## Config File Format\n\n`~/.config/email-cli/config.json`:\n\n```json\n{\n  \"default_provider\": \"agent\",\n  \"providers\": {\n    \"agent\": {\n      \"type\": \"agentmail\",\n      \"name\": \"agent\",\n      \"agentmail\": {\n        \"api_key\": \"am_...\",\n        \"inbox_id\": \"myagent@agentmail.to\"\n      }\n    },\n    \"work\": {\n      \"type\": \"google\",\n      \"name\": \"work\",\n      \"from\": \"me@company.com\",\n      \"google\": {\n        \"client_id\": \"...\",\n        \"client_secret\": \"...\",\n        \"access_token\": \"...\",\n        \"refresh_token\": \"...\",\n        \"token_expiry\": \"2024-01-01T00:00:00Z\"\n      }\n    },\n    \"personal\": {\n      \"type\": \"smtp\",\n      \"name\": \"personal\",\n      \"from\": \"me@fastmail.com\",\n      \"smtp\": {\n        \"host\": \"smtp.fastmail.com\",\n        \"port\": 587,\n        \"username\": \"me@fastmail.com\",\n        \"password\": \"app-password\",\n        \"use_tls\": true\n      }\n    }\n  }\n}\n```\n\n---\n\n## Exit Codes\n\n| Code | Meaning |\n|------|---------|\n| 0 | Success |\n| 1 | Error (config, auth, send failure, etc.) |\n\n---\n\n## License\n\nMIT\n"
      },
      "plugins": [
        {
          "name": "email-cli",
          "description": "Send emails via Google Workspace, Proton Mail, or SMTP",
          "source": "./",
          "version": "1.0.0",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add tnm/email-cli",
            "/plugin install email-cli@email-cli"
          ]
        }
      ]
    }
  ]
}