{
  "author": {
    "id": "JacobPEvans",
    "display_name": "Jacob",
    "avatar_url": "https://avatars.githubusercontent.com/u/20714140?u=40ad203f6f4007cbe60a4753210013535ca2b9c2&v=4"
  },
  "marketplaces": [
    {
      "name": "jacobpevans-cc-plugins",
      "version": null,
      "description": "Claude Code plugins and hooks by JacobPEvans",
      "repo_full_name": "JacobPEvans/claude-code-plugins",
      "repo_url": "https://github.com/JacobPEvans/claude-code-plugins",
      "repo_description": "My custom claude code (hopefully agentsmd soon) plugins for when I've scoured the interwebs and all the existing CC marketplaces but couldn't find anything good enough.",
      "signals": {
        "stars": 1,
        "forks": 0,
        "pushed_at": "2026-02-20T00:04:38Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"jacobpevans-cc-plugins\",\n  \"owner\": {\n    \"name\": \"JacobPEvans\",\n    \"email\": \"20714140+JacobPEvans@users.noreply.github.com\"\n  },\n  \"metadata\": {\n    \"description\": \"Claude Code plugins and hooks by JacobPEvans\",\n    \"version\": \"2.0.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"git-guards\",\n      \"source\": \"./git-guards\",\n      \"description\": \"Combined git security and workflow protection via PreToolUse hooks - merges git-permission-guard and main-branch-guard functionality\",\n      \"version\": \"1.0.0\",\n      \"author\": {\n        \"name\": \"JacobPEvans\"\n      }\n    },\n    {\n      \"name\": \"content-guards\",\n      \"source\": \"./content-guards\",\n      \"description\": \"Combined content validation and guard plugin that merges token-validator, markdown-validator, webfetch-guard, and issue-limiter functionality\",\n      \"version\": \"1.0.0\",\n      \"author\": {\n        \"name\": \"JacobPEvans\"\n      }\n    },\n    {\n      \"name\": \"git-workflows\",\n      \"source\": \"./git-workflows\",\n      \"description\": \"Git worktree initialization, main branch sync, repository refresh, and troubleshooting workflows\",\n      \"version\": \"1.0.0\",\n      \"author\": {\n        \"name\": \"JacobPEvans\"\n      }\n    },\n    {\n      \"name\": \"github-workflows\",\n      \"source\": \"./github-workflows\",\n      \"description\": \"PR management, multi-repo PR finalization, and issue shaping with Shape Up methodology\",\n      \"version\": \"1.0.0\",\n      \"author\": {\n        \"name\": \"JacobPEvans\"\n      }\n    },\n    {\n      \"name\": \"infra-orchestration\",\n      \"source\": \"./infra-orchestration\",\n      \"description\": \"Cross-repo infrastructure orchestration for Terraform and Ansible workflows\",\n      \"version\": \"1.0.0\",\n      \"author\": {\n        \"name\": \"JacobPEvans\"\n      }\n    },\n    {\n      \"name\": \"ai-delegation\",\n      \"source\": \"./ai-delegation\",\n      \"description\": \"Delegate tasks to external AI models and run autonomous maintenance loops\",\n      \"version\": \"1.0.0\",\n      \"author\": {\n        \"name\": \"JacobPEvans\"\n      }\n    },\n    {\n      \"name\": \"config-management\",\n      \"source\": \"./config-management\",\n      \"description\": \"Sync AI tool permissions across repos and quickly add always-allow permissions\",\n      \"version\": \"1.0.0\",\n      \"author\": {\n        \"name\": \"JacobPEvans\"\n      }\n    },\n    {\n      \"name\": \"codeql-resolver\",\n      \"source\": \"./codeql-resolver\",\n      \"description\": \"Systematic CodeQL alert analysis and resolution for GitHub Actions workflows\",\n      \"version\": \"1.0.0\",\n      \"author\": {\n        \"name\": \"JacobPEvans\"\n      }\n    },\n    {\n      \"name\": \"process-cleanup\",\n      \"source\": \"./process-cleanup\",\n      \"description\": \"Cleanup orphaned MCP server processes on session exit — workaround for upstream bug #1935\",\n      \"version\": \"1.0.0\",\n      \"author\": {\n        \"name\": \"JacobPEvans\"\n      }\n    }\n  ]\n}\n",
        "README.md": "# Claude Code Plugins\n\nA collection of Claude Code plugins for enhanced development workflows with AI assistants.\n\n## Available Plugins\n\n### git-rebase-workflow\n\nLocal rebase-merge workflow for maintaining linear git history with signed commits.\n\n- **Type**: Command/Skill-based plugin\n- **Command**: `/rebase-pr`\n- **Purpose**: Merge PRs using a local rebase workflow that preserves commit signatures\n\n### webfetch-guard\n\nIntercepts WebFetch and WebSearch tool calls to enforce date awareness and block outdated year references.\n\n- **Type**: PreToolUse hook\n- **Tools**: WebFetch, WebSearch\n- **Purpose**: Prevents Claude from using outdated search queries by blocking old year references\n\n### markdown-validator\n\nValidates markdown files after Write/Edit operations using industry-standard linting tools.\n\n- **Type**: PostToolUse hook\n- **Tools**: Write, Edit\n- **Linters**: markdownlint-cli2, cspell\n- **Purpose**: Ensures markdown quality and consistency\n\n### token-validator\n\nEnforces configurable token limits on files to prevent bloat and maintain focused modules.\n\n- **Type**: PreToolUse hook\n- **Tools**: Write, Edit\n- **Configuration**: `.token-limits.yaml`\n- **Purpose**: File size governance via token counting\n\n### issue-limiter\n\nPrevents GitHub issue backlog overflow by enforcing creation limits.\n\n- **Type**: PreToolUse hook\n- **Tools**: Bash (gh CLI)\n- **Limits**: 50 total issues, 25 AI-created issues\n- **Purpose**: Backlog management and quality control\n\n## Installation\n\n### From Marketplace\n\n```bash\nclaude plugins add jacobpevans-cc-plugins/<plugin-name>\n```\n\n**Available plugins**:\n\n- `jacobpevans-cc-plugins/git-rebase-workflow`\n- `jacobpevans-cc-plugins/issue-limiter`\n- `jacobpevans-cc-plugins/markdown-validator`\n- `jacobpevans-cc-plugins/token-validator`\n- `jacobpevans-cc-plugins/webfetch-guard`\n\n### Local Development\n\nClone this repository and link plugins:\n\n```bash\ngit clone https://github.com/JacobPEvans/claude-code-plugins.git\ncd claude-code-plugins\nclaude plugins link ./git-rebase-workflow\nclaude plugins link ./issue-limiter\nclaude plugins link ./markdown-validator\nclaude plugins link ./token-validator\nclaude plugins link ./webfetch-guard\n```\n\n## Plugin Structure\n\nEach plugin follows Claude Code official best practices. Most plugins use hook-based structure:\n\n```text\nplugin-name/\n├── .claude-plugin/\n│   └── plugin.json       # Plugin metadata\n├── hooks/\n│   └── hooks.json        # Hook configuration\n├── scripts/\n│   └── hook-script.py    # Implementation\n└── README.md             # Plugin documentation\n```\n\nCommand/skill-based plugins use a different structure:\n\n```text\nplugin-name/\n├── .claude-plugin/\n│   └── plugin.json       # Plugin metadata\n├── commands/\n│   └── command.md        # Command definition\n├── skills/\n│   └── skill-name/\n│       └── SKILL.md      # Skill documentation\n└── README.md             # Plugin documentation\n```\n\n## Contributing\n\nSee individual plugin READMEs for specific details. General contribution guidelines:\n\n1. Fork the repository\n2. Create a feature branch: `git checkout -b feat/your-feature`\n3. Follow conventional commits: `feat(plugin): description`\n4. Sign your commits (GPG required)\n5. Submit a pull request\n\n## Development\n\n### Requirements\n\n- Claude Code CLI\n- Python 3.10+ (for hook scripts)\n- bats-core (for running tests)\n- Tool-specific dependencies (see individual plugin READMEs)\n\n### Testing Plugins Locally\n\n```bash\n# Link a plugin for testing\nclaude plugins link ./plugin-name\n\n# Verify it loaded\nclaude plugins list\n\n# Test functionality\n# (trigger the hook conditions for the specific plugin)\n```\n\n### Running Tests\n\nRun the shared test runner to execute all plugin tests:\n\n```bash\n# Run all tests\n./scripts/run-tests.sh\n\n# Run tests for a specific plugin\n./scripts/run-tests.sh content-guards\n\n# Alternative: run bats directly on a specific test file\nbats content-guards/tests/markdown-validator.bats\n```\n\n### Git Hooks\n\nEnable optional pre-push hooks that run tests before pushing:\n\n```bash\n# Enable git hooks\ngit config core.hooksPath .githooks\n\n# Disable git hooks\ngit config --unset core.hooksPath\n```\n\n## Repository Integration\n\n### Nix Flake Auto-Update\n\nThis repository automatically triggers Nix flake updates when changes are merged to main.\nThis ensures downstream repositories (like [nix-config](https://github.com/JacobPEvans/nix))\nimmediately pull in plugin updates instead of waiting for scheduled updates.\n\n#### How It Works\n\n1. Changes merged to `main` branch trigger `.github/workflows/trigger-nix-update.yml`\n2. Workflow sends a `repository_dispatch` event to the nix repository\n3. Nix repository's `deps-update-flake.yml` workflow updates the `claude-code-plugins` flake input\n4. Automated PR created with the updated `flake.lock`\n\n#### Organization Secret Required\n\nThe trigger workflow requires a GitHub Personal Access Token (PAT) stored as an organization secret:\n\n**Secret Name**: `GH_PAT_WORKFLOW_DISPATCH`\n\n**Required Scopes**:\n\n- `repo` - Full control of private repositories\n- `workflow` - Update GitHub Action workflows\n\n**Setup Instructions**:\n\n1. Generate PAT: GitHub.com → Settings → Developer settings → Personal access tokens → Tokens (classic)\n2. Select required scopes: `repo` and `workflow`\n3. Set expiration to 1 year\n4. Copy the token\n5. Add as organization secret: Organization Settings → Secrets and variables → Actions → New organization secret\n6. Name: `GH_PAT_WORKFLOW_DISPATCH`\n7. Paste token value\n8. Select repository access (all repositories or specific repos)\n\n**Security Notes**:\n\n- Token has minimal scopes (no admin, no packages)\n- Rotate token annually before expiration\n- Never expose token in logs or workflow outputs\n- Organization-level secret is accessible to all repos\n\n#### Reusable Pattern\n\nThis pattern can be replicated to any JacobPEvans repository that's a flake input. Simply:\n\n1. Copy `.github/workflows/trigger-nix-update.yml` to the target repository\n2. Update the `flake_input_name` field to match the flake input name in `nix/flake.nix`\n3. No changes needed to the nix repository workflow (uses generic event type)\n\n## License\n\nApache License 2.0 - See [LICENSE](LICENSE) for details.\n\n## Author\n\nJacobPEvans\n\n- GitHub: [@JacobPEvans](https://github.com/JacobPEvans)\n- Email: <20714140+JacobPEvans@users.noreply.github.com>\n",
        "git-guards/README.md": "# git-guards\n\nGit security and workflow protection via PreToolUse hooks.\n\n## Features\n\n- **git-permission-guard**: Blocks dangerous git/gh commands (force push, hard reset, destructive operations)\n- **main-branch-guard**: Prevents file edits on main branch (enforces worktree workflow)\n\n## Installation\n\n```bash\nclaude plugins add jacobpevans-cc-plugins/git-guards\n```\n\n## License\n\nApache-2.0\n",
        "content-guards/README.md": "# content-guards\n\nContent validation and guard hooks via PostToolUse.\n\n## Features\n\n- **markdown-validator**: Validates markdown with markdownlint and cspell\n- **token-validator**: Enforces configurable file token limits\n- **webfetch-guard**: Blocks outdated year references in web queries\n- **issue-limiter**: Prevents GitHub issue backlog overflow\n\n## Installation\n\n```bash\nclaude plugins add jacobpevans-cc-plugins/content-guards\n```\n\n## Dependencies\n\n- `jq` - JSON processing\n- `atc` - Token counting tool\n- `markdownlint-cli2` - Markdown linting\n- `cspell` - Spell checking\n- `gh` - GitHub CLI\n\n## Testing\n\nRun tests using the shared test runner:\n\n```bash\n# From repository root\n./scripts/run-tests.sh content-guards\n\n# Alternative: run bats directly\nbats content-guards/tests/*.bats\n```\n\nTest coverage includes:\n\n- File type filtering (non-markdown, missing, dotfiles)\n- Config resolution (project vs fallback)\n- Cross-repo editing scenarios\n- Unbound variable regression prevention (PR #39, #40)\n\n## License\n\nApache-2.0\n",
        "git-workflows/README.md": "# git-workflows\n\nClaude Code plugin for git worktree initialization, main branch synchronization, and repository refresh.\n\n## Skills\n\n- **`/init-worktree`** - Initialize a clean worktree for new development work with stale cleanup and branch naming\n- **`/sync-main`** - Update main from remote and merge into current branch (or all open PR branches with `all`)\n- **`/git-refresh`** - Check PR merge-readiness, sync local repo, and cleanup stale worktrees\n\n## Installation\n\n```bash\nclaude plugins add jacobpevans-cc-plugins/git-workflows\n```\n\n## Usage\n\n```text\n/init-worktree fix login bug\n/sync-main\n/sync-main all\n/git-refresh\n```\n\n## License\n\nMIT\n",
        "github-workflows/README.md": "# github-workflows\n\nClaude Code plugin for PR management, multi-repo PR finalization, and issue shaping with Shape Up methodology.\n\n## Skills\n\n- **`/finalize-pr`** - Automatically finalize pull requests for merge (CodeQL checks, CI, review threads)\n- **`/squash-merge-pr`** - Review PR metadata and recommend merge strategy with release-note-friendly commit message\n- **`/ready-player-one`** - Orchestrate PR finalization across all repositories and report merge-readiness\n- **`/resolve-pr-threads`** - Orchestrate resolution of PR review threads (requires superpowers plugin)\n- **`/shape-issues`** - Shape raw ideas into actionable GitHub Issues using Shape Up methodology\n- **`/trigger-ai-reviews`** - Trigger Claude, Gemini, and Copilot reviews on a PR\n\n## Installation\n\n```bash\nclaude plugins add jacobpevans-cc-plugins/github-workflows\n```\n\n## Usage\n\n```text\n/finalize-pr              # Automatic PR finalization workflow\n/squash-merge-pr          # PR metadata review and merge recommendation\n/ready-player-one         # Multi-repo PR finalization\n/resolve-pr-threads       # Batch resolve review threads\n/shape-issues             # Shape ideas into GitHub issues\n/trigger-ai-reviews       # Trigger Claude, Gemini, Copilot reviews\n```\n\n## Dependencies\n\n| Skill | Requires | Why |\n|-------|----------|-----|\n| `/resolve-pr-threads` | `superpowers` plugin | Sub-agents invoke `superpowers:receiving-code-review` for review feedback handling |\n\nInstall superpowers: `claude plugins add superpowers-marketplace/superpowers`\n\n## License\n\nMIT\n",
        "infra-orchestration/README.md": "# infra-orchestration\n\nClaude Code plugin for cross-repo infrastructure orchestration across Terraform and Ansible workflows.\n\n## Skills\n\n- **`/infra-orchestrate`** - Master orchestrator with dependency graph dispatch across infrastructure repos\n- **`/infra-sync-inventory`** - Export Terraform inventory and distribute to Ansible repositories\n- **`/infra-e2e-test`** - End-to-end pipeline validation across Terraform and Ansible repos\n\n## Installation\n\n```bash\nclaude plugins add jacobpevans-cc-plugins/infra-orchestration\n```\n\n## Usage\n\n```text\n/infra-orchestrate plan-all\n/infra-orchestrate validate-all\n/infra-sync-inventory\n/infra-e2e-test\n```\n\n## License\n\nMIT\n",
        "ai-delegation/README.md": "# ai-delegation\n\nClaude Code plugin for delegating tasks to external AI models and running autonomous maintenance loops.\n\n## Skills\n\n- **`/delegate-to-ai`** - Route tasks to specialized AI models via PAL MCP tools based on task type\n- **`/auto-claude`** - Autonomous maintenance orchestrator that continuously finds and dispatches work\n\n## Installation\n\n```bash\nclaude plugins add jacobpevans-cc-plugins/ai-delegation\n```\n\n## Usage\n\n```text\n/delegate-to-ai\n/auto-claude\n```\n\n## License\n\nMIT\n",
        "config-management/README.md": "# config-management\n\nClaude Code plugin for syncing AI tool permissions across repositories and quickly adding always-allow permissions.\n\n## Skills\n\n- **`/sync-permissions`** - Scan, analyze, and merge local AI permission settings into repository-wide permissions\n- **`/quick-add-permission`** - Quickly add always-allow permissions to all AI tool permission lists\n\n## Installation\n\n```bash\nclaude plugins add jacobpevans-cc-plugins/config-management\n```\n\n## Usage\n\n```text\n/sync-permissions\n/quick-add-permission \"docker ps\"\n/quick-add-permission \"docker ps\" \"docker logs\" \"kubectl get\"\n```\n\n## License\n\nMIT\n",
        "codeql-resolver/README.md": "# CodeQL Resolver\n\nA Claude Code plugin that provides systematic analysis and resolution of CodeQL alerts in GitHub Actions workflows.\n\n## Overview\n\n**CodeQL Resolver** implements a three-tier command→agent→skill architecture for managing GitHub security scanning alerts:\n\n- **`/resolve-codeql`** - Main command for discovering, classifying, and delegating CodeQL alerts\n- **3 Specialized Agents** - Permission auditor, expression injection fixer, generic resolver\n- **2 Reusable Skills** - Permission classification, security patterns\n\n## Key Features\n\n### Alert Classification\nAutomatically categorizes CodeQL alerts by type:\n- ✅ **Permissions** - \"Workflow does not contain permissions\"\n- ✅ **Expression Injection** - Untrusted input in shell commands\n- ✅ **Other** - Resource leaks, hardcoded credentials, etc.\n\n### Specialized Agents\n\n#### 1. Permissions Auditor\nFixes \"Workflow does not contain permissions\" alerts by:\n- Analyzing reusable workflow call requirements\n- Determining minimum permissions needed\n- Adding explicit least-privilege blocks\n\n**Test case**: [ci-gate.yml](https://github.com/JacobPEvans/ai-assistant-instructions/blob/main/.github/workflows/ci-gate.yml) - Fixed 8 alerts with this agent's methodology\n\n#### 2. Expression Injection Fixer\nMitigates GitHub Actions expression injection vulnerabilities by:\n- Identifying dangerous untrusted inputs\n- Wrapping in environment variables\n- Following GitHub's official security guidance\n\n#### 3. Generic Resolver\nHandles other CodeQL alert types:\n- Resource leaks, hardcoded credentials, unsafe shell\n- Escalates unclear issues for human review\n- Provides detailed analysis when patterns match\n\n## Installation\n\n### Option 1: Add via Marketplace (Recommended)\n\n```bash\n/plugin marketplace add /path/to/claude-code-plugins\n/plugin install codeql-resolver@jacobpevans-plugins\n```\n\n### Option 2: Local Development\n\n```bash\nclaude --plugin-dir /path/to/codeql-resolver\n```\n\n## Usage\n\n### List All Alerts\n\n```bash\n/resolve-codeql\n```\n\n### Fix All Alerts\n\n```bash\n/resolve-codeql fix\n```\n\n### Fix Specific Alert Type\n\n```bash\n/resolve-codeql type:permissions     # Fix only permissions alerts\n/resolve-codeql type:injection       # Fix only expression injection\n/resolve-codeql type:other           # Fix other alert types\n```\n\n### Fix Specific File\n\n```bash\n/resolve-codeql file:.github/workflows/ci-gate.yml\n```\n\n## Architecture\n\n```\n┌────────────────────────────────────┐\n│   /resolve-codeql (Command)        │\n│   - Discover alerts via GitHub API │\n│   - Classify by type               │\n│   - Delegate to specialists        │\n│   - Verify fixes                   │\n└────────────────┬───────────────────┘\n                 │\n         ┌───────┼───────┐\n         │       │       │\n         ▼       ▼       ▼\n    ┌────────┬────────┬──────────┐\n    │Perms   │Inject  │Generic   │\n    │Auditor │Fixer   │Resolver  │\n    └────────┴────────┴──────────┘\n         │       │       │\n         └───────┼───────┘\n                 │\n              Skills\n         ┌──────────────────┐\n         │ Permission       │\n         │ Classification   │\n         │                  │\n         │ Workflow         │\n         │ Security Patterns│\n         └──────────────────┘\n```\n\n## Plugin Structure\n\n```\ncodeql-resolver/\n├── .claude-plugin/\n│   └── plugin.json              # Plugin manifest\n├── hooks/\n│   └── hooks.json               # Hook configuration\n├── agents/\n│   ├── codeql-permissions-auditor.md\n│   ├── codeql-expression-injector.md\n│   └── codeql-generic-resolver.md\n├── skills/\n│   ├── codeql-permission-classification.md\n│   └── github-workflow-security-patterns.md\n├── commands/\n│   └── resolve-codeql.md\n└── README.md\n```\n\n## Examples\n\n### Example 1: Fix ci-gate.yml Permissions\n\n```bash\ncd ~/git/ai-assistant-instructions\n/resolve-codeql file:.github/workflows/ci-gate.yml\n```\n\n**Output**:\n```\nCodeQL Alert Resolution Report\n===============================\nFile: .github/workflows/ci-gate.yml\nAlerts found: 8 (permissions)\n\nFixing permissions on reusable workflow calls...\n✓ cclint (line 103) - Added contents:read\n✓ validate-cclint (line 109) - Added contents:read, pull-requests:write\n✓ markdownlint (line 118) - Added contents:read\n✓ spellcheck (line 124) - Added contents:read\n✓ token-limits (line 130) - Added contents:read, pull-requests:write\n✓ validate-instructions (line 146) - Added contents:read\n✓ yaml-lint (line 152) - Added contents:read\n✓ gate (line 160) - Added permissions:{}\n\nVerification: Running CodeQL scan...\n✓ All 8 alerts resolved!\n\nCommit: \"security: fix CodeQL alerts - add explicit permissions\"\n```\n\n### Example 2: Fix Expression Injection\n\n```bash\n/resolve-codeql type:injection\n```\n\n**Output**:\n```\nCodeQL Alert Resolution Report\n===============================\nAlert Type: Expression Injection\n\nAnalyzing vulnerable patterns...\nFound 1 alert in .github/workflows/deploy.yml:45\n\nFixing expression injection...\n✓ Added env: block for PR_BODY variable\n✓ Updated script to use $PR_BODY instead of untrusted expression\n\nVerification: ✓ Alert resolved!\n\nCommit: \"security: fix CodeQL - mitigate expression injection\"\n```\n\n## Real-World Test Case\n\nThe plugin was designed with [PR #413](https://github.com/JacobPEvans/ai-assistant-instructions/pull/413) as a real test case:\n\n- **Starting point**: 8 CodeQL alerts in ci-gate.yml\n- **Issue**: Missing `permissions:` blocks on reusable workflow calls\n- **Solution**: Permissions auditor agent analyzed each job and added appropriate blocks\n- **Result**: All 8 alerts resolved with single commit\n\n## Security Principles\n\nAll fixes follow these security principles:\n\n1. **Least Privilege** - Requests only minimum permissions needed\n2. **Explicit Over Implicit** - Declares permissions explicitly rather than relying on defaults\n3. **Auditable** - All changes follow documented patterns and are reviewable\n4. **Safe By Default** - Expression injection vulnerabilities wrapped in env vars\n5. **Escalation** - Unclear issues flagged for human review, not auto-fixed\n\n## References\n\n- [GitHub Security Blog: Catching GitHub Actions Workflow Injections](https://github.blog/security/vulnerability-research/how-to-catch-github-actions-workflow-injections-before-attackers-do/)\n- [GitHub Actions Security: Best Practices](https://docs.github.com/en/actions/security-guides)\n- [CodeQL Rules Documentation](https://docs.github.com/en/code-security/codeql)\n\n## Development\n\n### Local Testing\n\n```bash\ncd ~/git/claude-code-plugins/feat/codeql-resolver/codeql-resolver\npython3 scripts/test_codeql_plugin.py\n```\n\n### Adding New Alert Types\n\n1. Create new agent in `agents/codeql-{type}-resolver.md`\n2. Add to `plugin.json` agents list\n3. Update `/resolve-codeql` command to delegate to new agent\n4. Create corresponding skill if pattern is reusable\n5. Add tests in `scripts/test_codeql_plugin.py`\n\n## Contributing\n\nSee [CONTRIBUTING.md](../docs/CONTRIBUTING.md)\n\n## License\n\nApache 2.0\n",
        "process-cleanup/README.md": "# process-cleanup\n\nCleans up orphaned MCP server processes when a Claude Code session exits.\n\n## Purpose\n\nWorkaround for upstream Claude Code bug [#1935](https://github.com/anthropics/claude-code/issues/1935),\nwhere MCP server child processes are not reliably terminated when a Claude session ends.\n\nThis plugin fires on the `Stop` event (triggered by `/exit` or Ctrl+C) and sweeps\nsystem-wide for orphaned processes with `ppid=1` — meaning they were reparented to\nlaunchd because their parent terminal died without cleanup.\n\n## Safety Guarantees\n\n- **Only kills ppid=1 processes** — cannot affect processes with a living parent\n- **Cannot affect other Claude sessions** — active sessions have a living parent terminal\n- **SIGTERM first, SIGKILL only for survivors** — 2-second grace period\n- **Targets node processes by substring match** — matches orphaned `node` processes whose command\n  line contains `mcp` or `context7`; unrelated node processes with those substrings could be affected\n\n## Targets\n\n| Process | Description |\n|---------|-------------|\n| `terraform-mcp-server` | Terraform/OpenTofu MCP server |\n| `context7-mcp` | Context7 documentation MCP server |\n| `node` (with MCP args) | Node-based MCP servers with mcp/context7 in arguments |\n\n## Logs\n\nCleanup activity is logged to:\n\n```text\n~/Library/Logs/claude-process-cleanup/cleanup-YYYY-MM-DD.log\n```\n\n## Hook Architecture\n\nThis is a **defense-in-depth** second layer. The primary cleanup runs via `zshexit()`\nin the parent zsh shell (Layer 1), which catches tab close via SIGHUP. This layer\ncatches explicit Claude exits (`/exit`, Ctrl+C) when zshexit may not fire.\n\nBoth layers are complementary and safe to run together.\n"
      },
      "plugins": [
        {
          "name": "git-guards",
          "source": "./git-guards",
          "description": "Combined git security and workflow protection via PreToolUse hooks - merges git-permission-guard and main-branch-guard functionality",
          "version": "1.0.0",
          "author": {
            "name": "JacobPEvans"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add JacobPEvans/claude-code-plugins",
            "/plugin install git-guards@jacobpevans-cc-plugins"
          ]
        },
        {
          "name": "content-guards",
          "source": "./content-guards",
          "description": "Combined content validation and guard plugin that merges token-validator, markdown-validator, webfetch-guard, and issue-limiter functionality",
          "version": "1.0.0",
          "author": {
            "name": "JacobPEvans"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add JacobPEvans/claude-code-plugins",
            "/plugin install content-guards@jacobpevans-cc-plugins"
          ]
        },
        {
          "name": "git-workflows",
          "source": "./git-workflows",
          "description": "Git worktree initialization, main branch sync, repository refresh, and troubleshooting workflows",
          "version": "1.0.0",
          "author": {
            "name": "JacobPEvans"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add JacobPEvans/claude-code-plugins",
            "/plugin install git-workflows@jacobpevans-cc-plugins"
          ]
        },
        {
          "name": "github-workflows",
          "source": "./github-workflows",
          "description": "PR management, multi-repo PR finalization, and issue shaping with Shape Up methodology",
          "version": "1.0.0",
          "author": {
            "name": "JacobPEvans"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add JacobPEvans/claude-code-plugins",
            "/plugin install github-workflows@jacobpevans-cc-plugins"
          ]
        },
        {
          "name": "infra-orchestration",
          "source": "./infra-orchestration",
          "description": "Cross-repo infrastructure orchestration for Terraform and Ansible workflows",
          "version": "1.0.0",
          "author": {
            "name": "JacobPEvans"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add JacobPEvans/claude-code-plugins",
            "/plugin install infra-orchestration@jacobpevans-cc-plugins"
          ]
        },
        {
          "name": "ai-delegation",
          "source": "./ai-delegation",
          "description": "Delegate tasks to external AI models and run autonomous maintenance loops",
          "version": "1.0.0",
          "author": {
            "name": "JacobPEvans"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add JacobPEvans/claude-code-plugins",
            "/plugin install ai-delegation@jacobpevans-cc-plugins"
          ]
        },
        {
          "name": "config-management",
          "source": "./config-management",
          "description": "Sync AI tool permissions across repos and quickly add always-allow permissions",
          "version": "1.0.0",
          "author": {
            "name": "JacobPEvans"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add JacobPEvans/claude-code-plugins",
            "/plugin install config-management@jacobpevans-cc-plugins"
          ]
        },
        {
          "name": "codeql-resolver",
          "source": "./codeql-resolver",
          "description": "Systematic CodeQL alert analysis and resolution for GitHub Actions workflows",
          "version": "1.0.0",
          "author": {
            "name": "JacobPEvans"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add JacobPEvans/claude-code-plugins",
            "/plugin install codeql-resolver@jacobpevans-cc-plugins"
          ]
        },
        {
          "name": "process-cleanup",
          "source": "./process-cleanup",
          "description": "Cleanup orphaned MCP server processes on session exit — workaround for upstream bug #1935",
          "version": "1.0.0",
          "author": {
            "name": "JacobPEvans"
          },
          "categories": [],
          "install_commands": [
            "/plugin marketplace add JacobPEvans/claude-code-plugins",
            "/plugin install process-cleanup@jacobpevans-cc-plugins"
          ]
        }
      ]
    }
  ]
}