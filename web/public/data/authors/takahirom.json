{
  "author": {
    "id": "takahirom",
    "display_name": "Takahiro Menju",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/1386930?u=ded0546028d0c2993d504475d0de5f34d8cafc24&v=4",
    "url": "https://github.com/takahirom",
    "bio": "Google Developers Expert for Android \r\nCyberAgent.Inc, AbemaTv.Inc\r\n@abema ",
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 2,
      "total_commands": 0,
      "total_skills": 0,
      "total_stars": 10,
      "total_forks": 1
    }
  },
  "marketplaces": [
    {
      "name": "takahirom-claude-code-marketplace",
      "version": null,
      "description": "Quality gate automation using Claude Code hooks and subagents.",
      "owner_info": {
        "name": "takahirom"
      },
      "keywords": [],
      "repo_full_name": "takahirom/takahirom-claude-code-marketplace",
      "repo_url": "https://github.com/takahirom/takahirom-claude-code-marketplace",
      "repo_description": "Plugins such as Quality Gate and Skill Extractor",
      "homepage": "",
      "signals": {
        "stars": 10,
        "forks": 1,
        "pushed_at": "2026-01-22T10:20:54Z",
        "created_at": "2025-08-03T06:43:53Z",
        "license": "Apache-2.0"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 606
        },
        {
          "path": "plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-quality-gate",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-quality-gate/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-quality-gate/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 151
        },
        {
          "path": "plugins/claude-code-quality-gate/README.md",
          "type": "blob",
          "size": 3977
        },
        {
          "path": "plugins/claude-code-quality-gate/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-quality-gate/agents/quality-gate-keeper.md",
          "type": "blob",
          "size": 4832
        },
        {
          "path": "plugins/claude-code-quality-gate/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/claude-code-quality-gate/hooks/hooks.json",
          "type": "blob",
          "size": 734
        },
        {
          "path": "plugins/skill-extractor",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skill-extractor/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skill-extractor/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 135
        },
        {
          "path": "plugins/skill-extractor/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skill-extractor/agents/skill-extractor.md",
          "type": "blob",
          "size": 1946
        },
        {
          "path": "plugins/skill-extractor/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/skill-extractor/hooks/hooks.json",
          "type": "blob",
          "size": 373
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n    \"name\": \"takahirom-claude-code-marketplace\",\n    \"owner\": {\n        \"name\": \"takahirom\"\n    },\n    \"plugins\": [\n        {\n            \"name\": \"claude-code-quality-gate\",\n            \"source\": \"./plugins/claude-code-quality-gate\",\n            \"description\": \"Quality gate automation using Claude Code hooks and subagents.\",\n            \"version\": \"1.0.0\"\n        },\n        {\n            \"name\": \"skill-extractor\",\n            \"source\": \"./plugins/skill-extractor\",\n            \"description\": \"Extract learnings from conversation and save as skills.\",\n            \"version\": \"1.0.0\"\n        }\n    ]\n}\n",
        "plugins/claude-code-quality-gate/.claude-plugin/plugin.json": "{\n    \"name\": \"claude-code-quality-gate\",\n    \"description\": \"Quality gate automation using Claude Code hooks and subagents.\",\n    \"version\": \"1.0.0\"\n}",
        "plugins/claude-code-quality-gate/README.md": "# Claude Code Quality Gate Example\n\nA complete quality automation system using Claude Code Hooks and Subagents to enforce code quality standards automatically.\n\n**In simple terms**: A system that uses Hooks to repeatedly launch quality-gate-keeper Subagent and perform fixes until it says `Final Result: ✅ APPROVED`.\n\n> **⚠️ Note**: This system may cause infinite loops if quality standards are too strict. Adjust quality-gate-keeper.md or modify scripts if needed.\n\n## How to Install (Plugin)\n\n1. Install from GitHub (recommended):\n   ```\n   /plugin marketplace add takahirom/takahirom-claude-code-marketplace\n   /plugin install takahirom-claude-code-marketplace@claude-code-quality-gate\n   ```\n\n2. Ensure dependencies are installed:\n   ```bash\n   # macOS\n   brew install jq\n    \n    # Ubuntu/Debian\n    sudo apt-get install jq\n    ```\n\n> Legacy note: The previous setup used project hooks in `.claude/settings.json` and a symlinked agent. The plugin install replaces both, so `.claude/` is no longer required.\n\n## Execution Flow\n\n```mermaid\nflowchart TD\n    A[Claude Code<br/>ends work] --> B[Stop Hook] \n    B --> C[quality-gate-stop.sh]\n    C --> D{Final Result<br/>in history?}\n    D -->|APPROVED| E[✓ Session Complete]\n    D -->|No/REJECTED| F{git changes?}\n    F -->|No| E\n    F -->|Yes| G[Show message:<br/>Use quality-gate-keeper]\n    G --> H[Claude Code<br/>launches Subagent]\n    H --> I[quality-gate-keeper checks quality and<br/>outputs Final Result: APPROVED/REJECTED]\n    I --> J[Claude Code<br/>performs fixes]\n    J --> B\n    \n    L[Claude Code<br/>runs git commit] --> M[PreToolUse Hook] \n    M --> N[quality-gate-pre-commit.sh]\n    N --> O{Latest<br/>Final Result?}\n    O -->|APPROVED| P[✓ Allow Commit]\n    O -->|REJECTED/No Result| Q[❌ Commit Blocked<br/>Use quality-gate-keeper]\n    Q --> R[Claude Code<br/>launches Subagent]\n    R --> S[quality-gate-keeper checks quality and<br/>outputs Final Result: APPROVED/REJECTED]\n    S --> T[Claude Code<br/>performs fixes]\n    T --> U[Retry git commit]\n    U --> M\n```\n\n## Components\n\n### Hooks\n- **Stop**: Launches `quality-gate-stop.sh` when work ends - checks transcript history for Final Result\n- **PreToolUse**: Launches `quality-gate-pre-commit.sh` on git commit - blocks commit unless APPROVED\n  - Plugin hooks rely on `CLAUDE_PLUGIN_ROOT` (provided by Claude Code) to resolve script paths\n\n### Subagents\n- **quality-gate-keeper**: Analyzes code quality and outputs clear verdicts\n  - Must end with `Final Result: ✅ APPROVED` or `Final Result: ❌ REJECTED`\n  - Focuses on session changes only\n  - Applies \"Less is More\" principle\n  - Detects testing cheats and shortcuts\n\n## Testing\n\n### E2E Testing\nRun the complete test suite:\n```bash\n./tests/e2e-test.sh\n```\n\n### Integration Testing\nRun quality gate integration tests:\n```bash\n./tests/test-quality-gate-integration.sh\n```\n\n### All Tests\nRun all tests (used in CI):\n```bash\n./tests/test-functions.sh\n./tests/test-quality-gate-integration.sh\n./tests/test-edge-cases.sh\n```\n\nThis validates the entire workflow from test creation to quality intervention.\n\n## Key Features\n\n### System Behavior\nThe system uses quality-gate-keeper's direct output for decision making:\n\n1. **Direct Result Checking**: Parses transcript for `Final Result: ✅ APPROVED` or `Final Result: ❌ REJECTED`\n2. **Stale Approval Detection**: Automatically invalidates old approvals after file edits\n3. **Manual Override**: Type `SKIP QG` to bypass quality gate checks when needed\n4. **Loop Prevention**: Automatically stops after 10 quality check attempts to prevent infinite loops\n\n\n## Important Notes\n\n- **REJECTED Handling**: Unlike the old passphrase system, you must actually fix issues - no shortcuts allowed\n- **Infinite Loop Risk**: Quality standards that are too strict may cause loops. Adjust quality-gate-keeper.md or scripts as needed\n- **Experimental System**: Test in a safe environment first  \n- **Use at Your Own Risk**: No warranty or support provided\n",
        "plugins/claude-code-quality-gate/agents/quality-gate-keeper.md": "---\nname: quality-gate-keeper\ndescription: Guards code quality intelligently. Use after edits and before commits.\ntools: Bash, Edit, Read, Grep, Glob, WebFetch, TodoWrite, WebSearch, BashOutput, KillBash\n---\n\nYou are a quality gate keeper. Your role is to:\n\n## Core Responsibilities\n1. **Quality Gate Enforcement**: Ensure code meets quality standards\n2. **Test Quality**: Detect missing assertions and test shortcuts\n3. **Complexity Check**: Identify unnecessary complexity and over-engineering\n4. **Less is More**: Remove redundant code, logs, comments, and conditions\n\n## Quality Gate Process\n1. **Focus ONLY on current session changes** - do NOT analyze entire codebase\n2. **Identify actual changes made** - use git diff or explicit file list\n3. **Check only modified files** - ignore unchanged existing code\n4. **Run ONLY relevant tests** - not the entire test suite:\n   - Tests for modified files only\n   - Tests in the same directory/module\n   - Use test patterns/filters when available\n5. **Generate focused report** - only issues in changed files\n\n**CRITICAL: Only analyze files that were actually modified in this session. Do NOT suggest changes to files that weren't touched.**\n\n## Mode Selection (Automatic)\n**The mode is determined by test execution results:**\n- **Tests PASS ✅**: Enforce all quality standards including debug code removal\n- **Tests FAIL ❌**: Focus on fixing tests, allow debug code temporarily\n- **No Tests ⚠️**: Require tests to be written first\n\n## Key Checks\n\n### Always Check (Both Modes):\n- **Anti-cheat patterns**:\n  - Direct method calls instead of proper integration testing\n  - Deleted tests to make them \"pass\"\n  - Fake assertions or misleading output messages\n  - Tests that bypass actual functionality testing\n  - Changes made without running tests to verify they work\n  - Assertions with incorrect expected values that don't match specification\n  - Tests that appear to pass but actually test the wrong behavior\n- **Test Quality**: Missing assertions, debug output without expects\n- **Test Execution**: Verify tests were actually run after changes\n\n### When Tests PASS (Additional Checks):\n- **Debug Code**: MUST remove debug output EXCEPT:\n  - Server-side/backend error logging (for production monitoring and observability)\n  - Structured error logs with timestamps and context\n  - Logs with explicit comments explaining monitoring/security purpose\n- **Client-side/UI layer debug output**: MUST remove ALL debug statements (print, log, println, etc.)\n- **Temporary Code**: MUST remove commented-out code, experimental features\n- **Comments**: Remove obvious or redundant comments\n- **Complexity**: Simplify over-engineered code\n- **Documentation**: Remove inline change annotations like \"(modified from X to Y)\"\n- **Temporal Comments**: Remove short-lived annotations like \"(Refactored)\", \"(Updated)\", \"(Fixed)\"\n\n### When Tests FAIL (Different Approach):\n- **Priority**: Help fix tests FIRST\n- **Debug Code**: KEEP existing, even SUGGEST adding more if needed\n  - \"Consider adding debug output to track variable values\"\n  - \"Add logging to understand the execution flow\"\n- **Guidance**: Provide clear steps to fix failures\n- **Examples**: Show correct test patterns with debug suggestions\n\n## Report Format\nFor each issue found:\n1. **What** - specific line and problem\n2. **Why** - principle violated (or why test fails)\n3. **How** - exact fix needed (with examples if tests failing)\n\n## Final Assessment\n\n**✅ APPROVED** - ONLY when ALL conditions met:\n1. Tests exist and ALL pass\n2. No debug code (print statements, logging, TODO comments)\n3. No test anti-patterns\n4. Production-ready code\n\n**❌ REJECTED** - When ANY of:\n- Tests fail → Focus on fix, SUGGEST debug code additions\n- Tests pass but debug code remains → List what to remove\n- Test anti-patterns detected → Explain the issue\n- Security issues found → Critical fix required\n- Tests deleted or bypassed → Unacceptable shortcut\n\n**CRITICAL FORMAT REQUIREMENT**: \nThe scripts ONLY detect these EXACT patterns on a single line:\n- `Final Result: ✅ APPROVED` (with checkmark emoji)\n- `Final Result: ❌ REJECTED` (with X emoji)\n\n**MANDATORY**: You MUST end your report with EXACTLY one of these formats on a single line:\n```\nFinal Result: ✅ APPROVED - [reason]\n```\nor\n```\nFinal Result: ❌ REJECTED - [reason and guidance]\n```\n\n**DO NOT** use any other format like:\n- ❌ \"Result: APPROVED\" (missing \"Final\")\n- ❌ \"Final Result: APPROVED\" (missing emoji)\n- ❌ \"✅ APPROVED\" (missing \"Final Result:\")\n- ❌ Split across multiple lines\n\nThe automation will FAIL if you don't use the exact format above!\n\n**SCOPE LIMITATION: Only analyze files explicitly modified in the current session. Use git status or git diff to identify changed files. Do NOT analyze or suggest changes to existing unchanged code.**",
        "plugins/claude-code-quality-gate/hooks/hooks.json": "{\n    \"hooks\": {\n        \"PreToolUse\": [\n            {\n                \"matcher\": \"Bash\",\n                \"hooks\": [\n                    {\n                        \"type\": \"command\",\n                        \"command\": \"${CLAUDE_PLUGIN_ROOT}/scripts/quality-gate-pre-commit.sh\",\n                        \"timeout\": 30\n                    }\n                ]\n            }\n        ],\n        \"Stop\": [\n            {\n                \"matcher\": \"*\",\n                \"hooks\": [\n                    {\n                        \"type\": \"command\",\n                        \"command\": \"${CLAUDE_PLUGIN_ROOT}/scripts/quality-gate-stop.sh\",\n                        \"timeout\": 30\n                    }\n                ]\n            }\n        ]\n    }\n}",
        "plugins/skill-extractor/.claude-plugin/plugin.json": "{\n    \"name\": \"skill-extractor\",\n    \"description\": \"Extract learnings from conversation and save as skills.\",\n    \"version\": \"1.1.0\"\n}",
        "plugins/skill-extractor/agents/skill-extractor.md": "---\nname: skill-extractor\ndescription: Extract learnings from conversation transcript and generate SKILL.md files in skill directories.\ntools: Read, Write, Bash, Glob\n---\n\nYou are a skill extractor. Analyze conversation transcripts and extract reusable learnings as skills.\n\n## Key Principles\n\n1. **Default to not creating** - Most sessions don't produce skill-worthy learnings\n2. **Maximum 1 skill per session** - Focus on the single most valuable learning\n3. **Edit existing skills first** - Check `~/.claude/skills/*/SKILL.md` before creating new\n\n## Quality Criteria (ALL must apply)\n\n| Create Skill | Don't Create Skill |\n|--------------|-------------------|\n| Struggled and figured out | Completed smoothly (Claude already knows) |\n| Reusable across multiple projects | Project-specific knowledge |\n| Non-obvious to Claude | Basic/common knowledge |\n| Actionable with concrete steps | Vague or theoretical |\n\n**If smooth completion → \"No skill worth extracting\"**\n\n## Process\n\n1. Read transcript from provided path\n2. Check existing skills: `~/.claude/skills/*/SKILL.md`\n3. Apply quality criteria above\n4. If similar skill exists → Edit it\n5. If no similar skill → Create new directory + SKILL.md\n\n## Skill File Format\n\n```markdown\n---\nname: kebab-case-skill-name\ndescription: This skill should be used when [specific triggers]. [What it does].\n---\n\n# Title\n\n[Concise, actionable content - <50 lines]\n```\n\n**Description rules (Critical for triggering):**\n- Use third-person: \"This skill should be used when...\"\n- Include 3-5 specific trigger phrases (exact words users would say)\n- Be concrete, not vague\n\n**Body rules:**\n- Only add what Claude doesn't already know\n- Challenge each line: \"Does this justify its token cost?\"\n- Prefer examples over explanations\n\n## Output Location\n\n```\n~/.claude/skills/\n└── skill-name/\n    └── SKILL.md\n```\n\n## Final Output\n\nReport: \"Skill created: [path]\" or \"No skill worth extracting\"\n",
        "plugins/skill-extractor/hooks/hooks.json": "{\n    \"hooks\": {\n        \"Stop\": [\n            {\n                \"matcher\": \"*\",\n                \"hooks\": [\n                    {\n                        \"type\": \"command\",\n                        \"command\": \"${CLAUDE_PLUGIN_ROOT}/scripts/check-for-learnings.sh\",\n                        \"timeout\": 10\n                    }\n                ]\n            }\n        ]\n    }\n}"
      },
      "plugins": [
        {
          "name": "claude-code-quality-gate",
          "source": "./plugins/claude-code-quality-gate",
          "description": "Quality gate automation using Claude Code hooks and subagents.",
          "version": "1.0.0",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add takahirom/takahirom-claude-code-marketplace",
            "/plugin install claude-code-quality-gate@takahirom-claude-code-marketplace"
          ]
        },
        {
          "name": "skill-extractor",
          "source": "./plugins/skill-extractor",
          "description": "Extract learnings from conversation and save as skills.",
          "version": "1.0.0",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add takahirom/takahirom-claude-code-marketplace",
            "/plugin install skill-extractor@takahirom-claude-code-marketplace"
          ]
        }
      ]
    }
  ]
}