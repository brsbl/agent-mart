{
  "author": {
    "id": "takahirom",
    "display_name": "Takahiro Menju",
    "avatar_url": "https://avatars.githubusercontent.com/u/1386930?u=ded0546028d0c2993d504475d0de5f34d8cafc24&v=4"
  },
  "marketplaces": [
    {
      "name": "takahirom-claude-code-marketplace",
      "version": null,
      "description": "Quality gate automation using Claude Code hooks and subagents.",
      "repo_full_name": "takahirom/takahirom-claude-code-marketplace",
      "repo_url": "https://github.com/takahirom/takahirom-claude-code-marketplace",
      "repo_description": "Plugins such as Quality Gate and Skill Extractor",
      "signals": {
        "stars": 10,
        "forks": 1,
        "pushed_at": "2026-01-22T10:20:54Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n    \"name\": \"takahirom-claude-code-marketplace\",\n    \"owner\": {\n        \"name\": \"takahirom\"\n    },\n    \"plugins\": [\n        {\n            \"name\": \"claude-code-quality-gate\",\n            \"source\": \"./plugins/claude-code-quality-gate\",\n            \"description\": \"Quality gate automation using Claude Code hooks and subagents.\",\n            \"version\": \"1.0.0\"\n        },\n        {\n            \"name\": \"skill-extractor\",\n            \"source\": \"./plugins/skill-extractor\",\n            \"description\": \"Extract learnings from conversation and save as skills.\",\n            \"version\": \"1.0.0\"\n        }\n    ]\n}\n",
        "README.md": "# takahirom-claude-code-marketplace\n\n## Plugins\n\n### [claude-code-quality-gate](./plugins/claude-code-quality-gate)\n\nA quality automation system using Claude Code Hooks and Subagents to enforce code quality standards automatically.\n\n### [skill-extractor](./plugins/skill-extractor)\n\nExtract learnings from conversation and save as reusable skills.\n\n## Install\n\n```\n/plugin marketplace add takahirom/takahirom-claude-code-marketplace\n/plugin install takahirom-claude-code-marketplace@claude-code-quality-gate\n/plugin install takahirom-claude-code-marketplace@skill-extractor\n```\n",
        "plugins/claude-code-quality-gate/README.md": "# Claude Code Quality Gate Example\n\nA complete quality automation system using Claude Code Hooks and Subagents to enforce code quality standards automatically.\n\n**In simple terms**: A system that uses Hooks to repeatedly launch quality-gate-keeper Subagent and perform fixes until it says `Final Result: ✅ APPROVED`.\n\n> **⚠️ Note**: This system may cause infinite loops if quality standards are too strict. Adjust quality-gate-keeper.md or modify scripts if needed.\n\n## How to Install (Plugin)\n\n1. Install from GitHub (recommended):\n   ```\n   /plugin marketplace add takahirom/takahirom-claude-code-marketplace\n   /plugin install takahirom-claude-code-marketplace@claude-code-quality-gate\n   ```\n\n2. Ensure dependencies are installed:\n   ```bash\n   # macOS\n   brew install jq\n    \n    # Ubuntu/Debian\n    sudo apt-get install jq\n    ```\n\n> Legacy note: The previous setup used project hooks in `.claude/settings.json` and a symlinked agent. The plugin install replaces both, so `.claude/` is no longer required.\n\n## Execution Flow\n\n```mermaid\nflowchart TD\n    A[Claude Code<br/>ends work] --> B[Stop Hook] \n    B --> C[quality-gate-stop.sh]\n    C --> D{Final Result<br/>in history?}\n    D -->|APPROVED| E[✓ Session Complete]\n    D -->|No/REJECTED| F{git changes?}\n    F -->|No| E\n    F -->|Yes| G[Show message:<br/>Use quality-gate-keeper]\n    G --> H[Claude Code<br/>launches Subagent]\n    H --> I[quality-gate-keeper checks quality and<br/>outputs Final Result: APPROVED/REJECTED]\n    I --> J[Claude Code<br/>performs fixes]\n    J --> B\n    \n    L[Claude Code<br/>runs git commit] --> M[PreToolUse Hook] \n    M --> N[quality-gate-pre-commit.sh]\n    N --> O{Latest<br/>Final Result?}\n    O -->|APPROVED| P[✓ Allow Commit]\n    O -->|REJECTED/No Result| Q[❌ Commit Blocked<br/>Use quality-gate-keeper]\n    Q --> R[Claude Code<br/>launches Subagent]\n    R --> S[quality-gate-keeper checks quality and<br/>outputs Final Result: APPROVED/REJECTED]\n    S --> T[Claude Code<br/>performs fixes]\n    T --> U[Retry git commit]\n    U --> M\n```\n\n## Components\n\n### Hooks\n- **Stop**: Launches `quality-gate-stop.sh` when work ends - checks transcript history for Final Result\n- **PreToolUse**: Launches `quality-gate-pre-commit.sh` on git commit - blocks commit unless APPROVED\n  - Plugin hooks rely on `CLAUDE_PLUGIN_ROOT` (provided by Claude Code) to resolve script paths\n\n### Subagents\n- **quality-gate-keeper**: Analyzes code quality and outputs clear verdicts\n  - Must end with `Final Result: ✅ APPROVED` or `Final Result: ❌ REJECTED`\n  - Focuses on session changes only\n  - Applies \"Less is More\" principle\n  - Detects testing cheats and shortcuts\n\n## Testing\n\n### E2E Testing\nRun the complete test suite:\n```bash\n./tests/e2e-test.sh\n```\n\n### Integration Testing\nRun quality gate integration tests:\n```bash\n./tests/test-quality-gate-integration.sh\n```\n\n### All Tests\nRun all tests (used in CI):\n```bash\n./tests/test-functions.sh\n./tests/test-quality-gate-integration.sh\n./tests/test-edge-cases.sh\n```\n\nThis validates the entire workflow from test creation to quality intervention.\n\n## Key Features\n\n### System Behavior\nThe system uses quality-gate-keeper's direct output for decision making:\n\n1. **Direct Result Checking**: Parses transcript for `Final Result: ✅ APPROVED` or `Final Result: ❌ REJECTED`\n2. **Stale Approval Detection**: Automatically invalidates old approvals after file edits\n3. **Manual Override**: Type `SKIP QG` to bypass quality gate checks when needed\n4. **Loop Prevention**: Automatically stops after 10 quality check attempts to prevent infinite loops\n\n\n## Important Notes\n\n- **REJECTED Handling**: Unlike the old passphrase system, you must actually fix issues - no shortcuts allowed\n- **Infinite Loop Risk**: Quality standards that are too strict may cause loops. Adjust quality-gate-keeper.md or scripts as needed\n- **Experimental System**: Test in a safe environment first  \n- **Use at Your Own Risk**: No warranty or support provided\n"
      },
      "plugins": [
        {
          "name": "claude-code-quality-gate",
          "source": "./plugins/claude-code-quality-gate",
          "description": "Quality gate automation using Claude Code hooks and subagents.",
          "version": "1.0.0",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add takahirom/takahirom-claude-code-marketplace",
            "/plugin install claude-code-quality-gate@takahirom-claude-code-marketplace"
          ]
        },
        {
          "name": "skill-extractor",
          "source": "./plugins/skill-extractor",
          "description": "Extract learnings from conversation and save as skills.",
          "version": "1.0.0",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add takahirom/takahirom-claude-code-marketplace",
            "/plugin install skill-extractor@takahirom-claude-code-marketplace"
          ]
        }
      ]
    }
  ]
}