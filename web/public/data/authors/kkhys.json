{
  "author": {
    "id": "kkhys",
    "display_name": "Keisuke Hayashi",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/69025878?u=c1a6b71189cf5f0b6bd25dfcf744cbac1b759484&v=4",
    "url": "https://github.com/kkhys",
    "bio": null,
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 1,
      "total_commands": 12,
      "total_skills": 11,
      "total_stars": 1,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "my-marketplace",
      "version": null,
      "description": "Keisuke Hayashi's personal Claude Code plugin marketplace for custom toolsets and development integrations",
      "owner_info": {
        "name": "Keisuke Hayashi",
        "email": "hi@kkhys.me"
      },
      "keywords": [],
      "repo_full_name": "kkhys/claude-code-marketplace",
      "repo_url": "https://github.com/kkhys/claude-code-marketplace",
      "repo_description": "My personal marketplace for Claude Code.",
      "homepage": "",
      "signals": {
        "stars": 1,
        "forks": 0,
        "pushed_at": "2026-01-20T13:40:07Z",
        "created_at": "2026-01-10T14:07:22Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 452
        },
        {
          "path": "plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 231
        },
        {
          "path": "plugins/base/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base/commands/create-command.md",
          "type": "blob",
          "size": 591
        },
        {
          "path": "plugins/base/commands/create-hooks.md",
          "type": "blob",
          "size": 552
        },
        {
          "path": "plugins/base/commands/create-rules.md",
          "type": "blob",
          "size": 514
        },
        {
          "path": "plugins/base/commands/create-skill.md",
          "type": "blob",
          "size": 512
        },
        {
          "path": "plugins/base/commands/create-subagent.md",
          "type": "blob",
          "size": 700
        },
        {
          "path": "plugins/base/commands/git",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base/commands/git/commit-split.md",
          "type": "blob",
          "size": 583
        },
        {
          "path": "plugins/base/commands/git/commit.md",
          "type": "blob",
          "size": 402
        },
        {
          "path": "plugins/base/commands/git/create-branch.md",
          "type": "blob",
          "size": 355
        },
        {
          "path": "plugins/base/commands/git/create-worktree.md",
          "type": "blob",
          "size": 465
        },
        {
          "path": "plugins/base/commands/git/publish.md",
          "type": "blob",
          "size": 873
        },
        {
          "path": "plugins/base/commands/github",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base/commands/github/create-pr.md",
          "type": "blob",
          "size": 488
        },
        {
          "path": "plugins/base/commands/memo.md",
          "type": "blob",
          "size": 1070
        },
        {
          "path": "plugins/base/hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base/hooks/hooks.json",
          "type": "blob",
          "size": 788
        },
        {
          "path": "plugins/base/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base/skills/adding-hooks",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base/skills/adding-hooks/SKILL.md",
          "type": "blob",
          "size": 5401
        },
        {
          "path": "plugins/base/skills/adding-hooks/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base/skills/adding-hooks/references/events.md",
          "type": "blob",
          "size": 2866
        },
        {
          "path": "plugins/base/skills/adding-hooks/references/json-output.md",
          "type": "blob",
          "size": 2985
        },
        {
          "path": "plugins/base/skills/adding-hooks/references/scripts.md",
          "type": "blob",
          "size": 4295
        },
        {
          "path": "plugins/base/skills/creating-branch-name",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base/skills/creating-branch-name/SKILL.md",
          "type": "blob",
          "size": 2919
        },
        {
          "path": "plugins/base/skills/creating-command",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base/skills/creating-command/SKILL.md",
          "type": "blob",
          "size": 4417
        },
        {
          "path": "plugins/base/skills/creating-command/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base/skills/creating-command/references/examples.md",
          "type": "blob",
          "size": 4930
        },
        {
          "path": "plugins/base/skills/creating-command/references/frontmatter.md",
          "type": "blob",
          "size": 4508
        },
        {
          "path": "plugins/base/skills/creating-git-worktree",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base/skills/creating-git-worktree/SKILL.md",
          "type": "blob",
          "size": 1160
        },
        {
          "path": "plugins/base/skills/creating-pr",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base/skills/creating-pr/SKILL.md",
          "type": "blob",
          "size": 5329
        },
        {
          "path": "plugins/base/skills/creating-pr/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base/skills/creating-pr/references/commit-types.md",
          "type": "blob",
          "size": 3117
        },
        {
          "path": "plugins/base/skills/creating-rules",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base/skills/creating-rules/SKILL.md",
          "type": "blob",
          "size": 5723
        },
        {
          "path": "plugins/base/skills/creating-rules/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base/skills/creating-rules/references/examples.md",
          "type": "blob",
          "size": 5275
        },
        {
          "path": "plugins/base/skills/creating-skill",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base/skills/creating-skill/SKILL.md",
          "type": "blob",
          "size": 8014
        },
        {
          "path": "plugins/base/skills/creating-subagent",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base/skills/creating-subagent/SKILL.md",
          "type": "blob",
          "size": 5824
        },
        {
          "path": "plugins/base/skills/creating-subagent/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base/skills/creating-subagent/references/examples.md",
          "type": "blob",
          "size": 8528
        },
        {
          "path": "plugins/base/skills/creating-subagent/references/frontmatter.md",
          "type": "blob",
          "size": 4370
        },
        {
          "path": "plugins/base/skills/creating-subagent/references/hooks.md",
          "type": "blob",
          "size": 4241
        },
        {
          "path": "plugins/base/skills/formatting-commit",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base/skills/formatting-commit/SKILL.md",
          "type": "blob",
          "size": 2669
        },
        {
          "path": "plugins/base/skills/formatting-commit/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base/skills/formatting-commit/references/examples.md",
          "type": "blob",
          "size": 12899
        },
        {
          "path": "plugins/base/skills/splitting-commit",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base/skills/splitting-commit/SKILL.md",
          "type": "blob",
          "size": 2398
        },
        {
          "path": "plugins/base/skills/using-serena",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/base/skills/using-serena/SKILL.md",
          "type": "blob",
          "size": 6155
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"my-marketplace\",\n  \"metadata\": {\n    \"description\": \"Keisuke Hayashi's personal Claude Code plugin marketplace for custom toolsets and development integrations\",\n    \"version\": \"0.1.0\"\n  },\n  \"owner\": {\n    \"name\": \"Keisuke Hayashi\",\n    \"email\": \"hi@kkhys.me\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"base\",\n      \"source\": \"./plugins/base\",\n      \"description\": \"Base toolset for personal development workflow and utilities\"\n    }\n  ]\n}\n",
        "plugins/base/.claude-plugin/plugin.json": "{\n  \"name\": \"base\",\n  \"description\": \"Personal development workflow utilities for efficient knowledge management and automation\",\n  \"version\": \"0.14.3\",\n  \"author\": {\n    \"name\": \"Keisuke Hayashi\",\n    \"email\": \"hi@kkhys.me\"\n  }\n}\n",
        "plugins/base/commands/create-command.md": "---\ndescription: Create custom slash commands with frontmatter, arguments, and bash execution\nargument-hint: <command description or purpose>\nmodel: claude-opus-4-5\n---\n\n**IMPORTANT**: Invoke the `creating-command` skill before proceeding.\n\n# Create Command\n\nCreate custom slash commands following best practices with proper frontmatter, argument handling, bash execution, and file references.\n\n1. Invoke `creating-command` skill\n2. Follow the command creation workflow defined in the skill\n3. Ask user for command location (project or user scope)\n4. Ensure proper frontmatter configuration\n",
        "plugins/base/commands/create-hooks.md": "---\ndescription: Add and configure Claude Code hooks for event-driven automation\nargument-hint: <hook description or event type>\nmodel: claude-opus-4-5\n---\n\n**IMPORTANT**: Invoke the `adding-hooks` skill before proceeding.\n\n# Create Hooks\n\nAdd and configure Claude Code hooks following best practices for event-driven automation.\n\n1. Invoke `adding-hooks` skill\n2. Follow the hook configuration workflow defined in the skill\n3. Ask user for hook location (user, project, local, or plugin scope)\n4. Ensure proper JSON structure and script configuration\n",
        "plugins/base/commands/create-rules.md": "---\ndescription: Create Claude Code rules for .claude/rules/ directory\nargument-hint: <rule topic or file type>\n---\n\n**IMPORTANT**: Invoke the `creating-rules` skill before proceeding.\n\n# Create Rules\n\nCreate Claude Code rules (.claude/rules/*.md) with YAML frontmatter and optional path-specific scoping.\n\n1. Invoke `creating-rules` skill\n2. Ask user for rule scope (global or path-specific) and location\n3. Create focused, single-topic rule file\n4. Use descriptive filename (e.g., `typescript.md`, `testing.md`)\n",
        "plugins/base/commands/create-skill.md": "---\ndescription: Create Claude Code skills with best practices and guidelines\nargument-hint: <skill description or purpose>\nmodel: claude-opus-4-5\n---\n\n**IMPORTANT**: Invoke the `creating-skill` skill before proceeding.\n\n# Create Skill\n\nCreate Claude Code skills following best practices for structure, naming conventions, descriptions, and progressive disclosure patterns.\n\n1. Invoke `creating-skill` skill\n2. Follow the skill creation guidelines defined in the skill\n3. Ensure SKILL.md body is under 500 lines\n",
        "plugins/base/commands/create-subagent.md": "---\ndescription: Create custom subagents with YAML frontmatter, system prompts, and tool restrictions\nargument-hint: <subagent description or purpose>\nmodel: claude-opus-4-5\n---\n\n**IMPORTANT**: Invoke the `creating-subagent` skill before proceeding.\n\n# Create Subagent\n\nCreate Claude Code subagents following best practices for structure, descriptions, tool restrictions, and permission modes.\n\n1. Invoke `creating-subagent` skill\n2. Follow the subagent creation guidelines defined in the skill\n3. Ask user for subagent location (`.claude/agents/` for project or `~/.claude/agents/` for user scope)\n4. Ensure proper frontmatter configuration with name, description, and appropriate tool restrictions\n",
        "plugins/base/commands/git/commit-split.md": "---\ndescription: Split large changes into logical commits by semantic meaning\nmodel: claude-haiku-4-5\n---\n\n**IMPORTANT**: Invoke the `split-commit` skill before proceeding.\n\n# Commit Split\n\nSplit large changes into logical commits organized by semantic meaning.\n\nWhen working on large features or refactors, this workflow helps organize changes into focused, meaningful commits:\n\n1. Invoke `split-commit` skill\n2. Follow the interactive workflow to identify semantic groups\n3. Create commits for each logical unit\n4. Create commit using heredoc format for proper multi-line handling\n",
        "plugins/base/commands/git/commit.md": "---\ndescription: Create git commit with Conventional Commits format\nmodel: claude-haiku-4-5\n---\n\n**IMPORTANT**: Invoke the `formatting-commit` skill before proceeding.\n\n# Commit\n\nCreate a git commit following Conventional Commits specification.\n\n1. Invoke `formatting-commit` skill\n2. Follow the commit workflow defined in the skill\n3. Create commit using heredoc format for proper multi-line handling\n",
        "plugins/base/commands/git/create-branch.md": "---\ndescription: Create a new branch with an auto-suggested name based on changes\nallowed-tools: Bash(git:*)\nmodel: claude-haiku-4-5\n---\n\n**IMPORTANT**: Invoke the `creating-branch-name` skill before proceeding.\n\n# Create Branch\n\nAnalyze git changes (commits and uncommitted) and create a new branch with an appropriate name following naming conventions.\n",
        "plugins/base/commands/git/create-worktree.md": "---\ndescription: Create git worktree for parallel development\nargument-hint: <branch-name>\nallowed-tools: Bash(git:*), Read\n---\n\n**IMPORTANT**: Invoke the `creating-git-worktree` skill before proceeding.\n\n# Create Worktree\n\nCreate an isolated git worktree environment for parallel development.\n\n1. Invoke `creating-git-worktree` skill\n2. Execute the worktree creation script with the provided branch name: $ARGUMENTS\n3. Report the created worktree path to the user\n",
        "plugins/base/commands/git/publish.md": "---\ndescription: Complete git workflow - create branch, split commits, and create PR\nallowed-tools: Bash(git:*), Bash(gh:*)\nmodel: claude-haiku-4-5\n---\n\n**IMPORTANT**: Execute the following skills in sequence:\n\n1. Invoke the `creating-branch-name` skill to create a new branch\n2. Invoke the `split-commit` skill to split changes into logical commits\n3. Invoke the `creating-pr` skill to create a GitHub pull request\n\n# Publish Workflow\n\nThis command executes a complete git workflow from branch creation to PR submission:\n\n## Workflow Steps\n\n1. **Branch Creation**: Analyzes current changes and creates a branch with appropriate naming\n2. **Commit Splitting**: Organizes changes into logical, semantic commits\n3. **PR Creation**: Creates a GitHub pull request with standardized format\n\nExecute each step in order, waiting for completion before proceeding to the next step.\n",
        "plugins/base/commands/github/create-pr.md": "---\ndescription: Create GitHub pull requests with standardized title format and draft status\nmodel: claude-haiku-4-5\n---\n\n**IMPORTANT**: Invoke the `creating-pr` skill before proceeding.\n\n# PR (Pull Request)\n\nCreate GitHub pull requests following a standardized format with proper Conventional Commits types and draft status.\n\n1. Invoke `creating-pr` skill\n2. Follow the PR creation workflow defined in the skill\n3. Use heredoc format for proper multi-line body handling when creating PR\n",
        "plugins/base/commands/memo.md": "---\ndescription: Create a timestamped memo with ULID in ~/projects/private-content/memo/\nargument-hint: <memo content>\nallowed-tools: Bash(bash:*)\nmodel: claude-haiku-4-5\ndisable-model-invocation: true\n---\n\n# Memo Command\n\nCreate a new memo entry with the following content:\n\n```\n$ARGUMENTS\n```\n\n## Instructions\n\nExecute the shell script with the memo content:\n\n```bash\nbash \"${CLAUDE_PLUGIN_ROOT}/scripts/create-memo.sh\" \"$ARGUMENTS\"\n```\n\nThe script will:\n- Generate a ULID-like identifier\n- Create a timestamped directory in `~/projects/private-content/memo/YYYYMMDD_HHMMSS/`\n- Write `index.md` with frontmatter (id, createdAt) and content\n\n## Example\n\nInput: `/memo Astroで開発をする際はAstro Docs MCPを使うのがおすすめ。`\n\nExecute: `bash \"${CLAUDE_PLUGIN_ROOT}/scripts/create-memo.sh\" \"Astroで開発をする際はAstro Docs MCPを使うのがおすすめ。\"`\n\nOutput:\n```\nMemo created successfully\n  Directory: ~/projects/private-content/memo/20260111_223042/\n  File: index.md\n  ID: 01kengh578ah895bt7284sm3ns\n  Created: 2026-01-11 22:30:42\n```\n",
        "plugins/base/hooks/hooks.json": "{\n  \"$schema\": \"https://json.schemastore.org/claude-code-settings.json\",\n  \"hooks\": {\n    \"Notification\": [\n      {\n        \"matcher\": \"\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"afplay /System/Library/Sounds/Hero.aiff\"\n          }\n        ]\n      }\n    ],\n    \"Stop\": [\n      {\n        \"matcher\": \"\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"afplay /System/Library/Sounds/Glass.aiff\"\n          },\n          {\n            \"type\": \"command\",\n            \"command\": \"${CLAUDE_PLUGIN_ROOT}/scripts/cleanup-worktrees.sh\"\n          },\n          {\n            \"type\": \"command\",\n            \"command\": \"${CLAUDE_PLUGIN_ROOT}/scripts/cleanup-merged-branches.sh\"\n          }\n        ]\n      }\n    ]\n  }\n}\n",
        "plugins/base/skills/adding-hooks/SKILL.md": "---\nname: adding-hooks\ndescription: Add and configure Claude Code hooks for event-driven automation. Use when setting up hooks, creating hook scripts, or automating tool-related workflows.\n---\n\n# Claude Code Hooks Configuration\n\n## Quick Start\n\n**First, ask the user where to add hooks**:\n- `~/.claude/settings.json` - User-scoped (personal, all projects)\n- `.claude/settings.json` - Project-scoped (shared via git)\n- `.claude/settings.local.json` - Local project (not committed)\n- Plugin `hooks/hooks.json` - Plugin-bundled hooks\n\n## Basic Structure\n\n```json\n{\n  \"hooks\": {\n    \"EventName\": [\n      {\n        \"matcher\": \"ToolPattern\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"your-command-here\",\n            \"timeout\": 60\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\n## Hook Events\n\n| Event | When | Common Use |\n|-------|------|------------|\n| `PreToolUse` | Before tool execution | Validation, blocking |\n| `PostToolUse` | After tool completion | Formatting, logging |\n| `PermissionRequest` | Permission dialog shown | Auto-approve/deny |\n| `UserPromptSubmit` | User sends prompt | Context injection |\n| `Stop` | Agent finishes | Task completion check |\n| `SubagentStop` | Subagent finishes | Subagent validation |\n| `SessionStart` | Session begins | Environment setup |\n| `SessionEnd` | Session ends | Cleanup tasks |\n| `Notification` | Notification sent | Alerts |\n| `PreCompact` | Before compact | Custom summarization |\n\nSee [events.md](references/events.md) for detailed event documentation.\n\n## Matchers\n\n**For PreToolUse, PostToolUse, PermissionRequest**:\n- Exact match: `\"Write\"` - matches Write tool only\n- Regex: `\"Edit|Write\"` - matches Edit or Write\n- All tools: `\"*\"` or `\"\"` or omit matcher\n- MCP tools: `\"mcp__server__tool\"` pattern\n\n**Case-sensitive**: `Write` ≠ `write`\n\n## Hook Types\n\n### Command Hooks\n\n```json\n{\n  \"type\": \"command\",\n  \"command\": \"\\\"$CLAUDE_PROJECT_DIR\\\"/scripts/check.sh\",\n  \"timeout\": 30\n}\n```\n\n### Prompt Hooks (LLM evaluation)\n\n```json\n{\n  \"type\": \"prompt\",\n  \"prompt\": \"Evaluate if Claude should stop: $ARGUMENTS. Check if all tasks complete.\",\n  \"timeout\": 30\n}\n```\n\nSupported for: `Stop`, `SubagentStop`, `UserPromptSubmit`, `PreToolUse`, `PermissionRequest`\n\n## Exit Codes\n\n| Code | Meaning | Behavior |\n|------|---------|----------|\n| 0 | Success | Continue execution |\n| 2 | Block | Block tool/prompt, show stderr to Claude |\n| Other | Non-blocking error | Show stderr, continue |\n\n## Common Patterns\n\n### Auto-format on Write/Edit\n\n```json\n{\n  \"hooks\": {\n    \"PostToolUse\": [\n      {\n        \"matcher\": \"Write|Edit\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"\\\"$CLAUDE_PROJECT_DIR\\\"/scripts/format.sh\"\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\n### Validate Bash Commands\n\n```json\n{\n  \"hooks\": {\n    \"PreToolUse\": [\n      {\n        \"matcher\": \"Bash\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"\\\"$CLAUDE_PROJECT_DIR\\\"/scripts/validate-bash.sh\"\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\n### Inject Context on Prompt\n\n```json\n{\n  \"hooks\": {\n    \"UserPromptSubmit\": [\n      {\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"echo \\\"Current time: $(date)\\\"\"\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\n### Protect Files\n\n```json\n{\n  \"hooks\": {\n    \"PreToolUse\": [\n      {\n        \"matcher\": \"Write|Edit\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"\\\"$CLAUDE_PROJECT_DIR\\\"/scripts/protect-files.sh\"\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\n## Hook Script Template\n\n```bash\n#!/usr/bin/env bash\nset -euo pipefail\n\n# Read JSON input from stdin\ninput=$(cat)\n\n# Parse fields with jq\ntool_name=$(echo \"$input\" | jq -r '.tool_name // empty')\ntool_input=$(echo \"$input\" | jq -r '.tool_input // empty')\n\n# Validation logic here\n\n# Exit 0: success, Exit 2: block with stderr message\nexit 0\n```\n\nSee [scripts.md](references/scripts.md) for script examples.\n\n## JSON Output (Advanced)\n\nFor structured control, output JSON to stdout (exit code 0):\n\n```json\n{\n  \"hookSpecificOutput\": {\n    \"hookEventName\": \"PreToolUse\",\n    \"permissionDecision\": \"allow\",\n    \"permissionDecisionReason\": \"Auto-approved\"\n  }\n}\n```\n\nSee [json-output.md](references/json-output.md) for complete schema.\n\n## Environment Variables\n\n| Variable | Description |\n|----------|-------------|\n| `CLAUDE_PROJECT_DIR` | Project root directory |\n| `CLAUDE_PLUGIN_ROOT` | Plugin directory (plugins only) |\n| `CLAUDE_ENV_FILE` | Env file path (SessionStart only) |\n| `CLAUDE_CODE_REMOTE` | `\"true\"` if remote environment |\n\n## Security Best Practices\n\n1. **Quote variables**: `\"$VAR\"` not `$VAR`\n2. **Validate input**: Don't trust stdin blindly\n3. **Block path traversal**: Check for `..` in paths\n4. **Use absolute paths**: Full script paths\n5. **Skip sensitive files**: Avoid `.env`, `.git/`, keys\n\n## Debugging\n\n```bash\n# Check registered hooks\n/hooks\n\n# Debug mode for execution details\nclaude --debug\n```\n\nCommon issues:\n- Unescaped quotes in JSON: Use `\\\"`\n- Wrong matcher case: `Write` not `write`\n- Missing executable permission: `chmod +x script.sh`\n\n## Resources\n\n- [events.md](references/events.md) - Detailed event documentation\n- [scripts.md](references/scripts.md) - Hook script examples\n- [json-output.md](references/json-output.md) - JSON output schema\n",
        "plugins/base/skills/adding-hooks/references/events.md": "# Hook Events Reference\n\n## PreToolUse\n\nRuns after Claude creates tool parameters, before tool execution.\n\n**Common matchers**: `Task`, `Bash`, `Glob`, `Grep`, `Read`, `Edit`, `Write`, `WebFetch`, `WebSearch`\n\n**Input**:\n```json\n{\n  \"session_id\": \"abc123\",\n  \"transcript_path\": \"/path/to/transcript.jsonl\",\n  \"cwd\": \"/current/dir\",\n  \"permission_mode\": \"default\",\n  \"hook_event_name\": \"PreToolUse\",\n  \"tool_name\": \"Write\",\n  \"tool_input\": { \"file_path\": \"/path\", \"content\": \"...\" },\n  \"tool_use_id\": \"toolu_01ABC...\"\n}\n```\n\n**Control**: Can allow, deny, or ask permission. Can modify tool input via `updatedInput`.\n\n## PostToolUse\n\nRuns immediately after tool completes successfully.\n\n**Input**: Same as PreToolUse plus `tool_response` field.\n\n**Control**: Can provide feedback to Claude via `decision: \"block\"` and `reason`.\n\n## PermissionRequest\n\nRuns when permission dialog is shown to user.\n\n**Matchers**: Same as PreToolUse\n\n**Control**: Can auto-allow or deny permissions programmatically.\n\n## UserPromptSubmit\n\nRuns when user submits a prompt, before Claude processes it.\n\n**Input**:\n```json\n{\n  \"session_id\": \"abc123\",\n  \"hook_event_name\": \"UserPromptSubmit\",\n  \"prompt\": \"User's prompt text\"\n}\n```\n\n**Control**:\n- stdout (exit 0) adds context\n- `decision: \"block\"` prevents processing\n\n## Stop\n\nRuns when main Claude agent finishes. Not triggered on user interrupts.\n\n**Input**:\n```json\n{\n  \"hook_event_name\": \"Stop\",\n  \"stop_hook_active\": false\n}\n```\n\n`stop_hook_active: true` means Claude is already continuing from a stop hook. Check this to prevent infinite loops.\n\n**Control**: `decision: \"block\"` with `reason` makes Claude continue working.\n\n## SubagentStop\n\nRuns when a Task tool (subagent) finishes.\n\nSame structure as Stop.\n\n## SessionStart\n\nRuns when Claude Code starts or resumes a session.\n\n**Matchers**: `startup`, `resume`, `clear`, `compact`\n\n**Input**:\n```json\n{\n  \"hook_event_name\": \"SessionStart\",\n  \"source\": \"startup\"\n}\n```\n\n**Special**: Access `CLAUDE_ENV_FILE` to persist environment variables:\n```bash\nif [ -n \"$CLAUDE_ENV_FILE\" ]; then\n  echo 'export NODE_ENV=production' >> \"$CLAUDE_ENV_FILE\"\nfi\n```\n\n## SessionEnd\n\nRuns when session ends. Cannot block session end.\n\n**Input**:\n```json\n{\n  \"hook_event_name\": \"SessionEnd\",\n  \"reason\": \"exit\"\n}\n```\n\n`reason`: `clear`, `logout`, `prompt_input_exit`, `other`\n\n## Notification\n\nRuns when Claude Code sends notifications.\n\n**Matchers**: `permission_prompt`, `idle_prompt`, `auth_success`, `elicitation_dialog`\n\n**Input**:\n```json\n{\n  \"hook_event_name\": \"Notification\",\n  \"message\": \"Notification text\",\n  \"notification_type\": \"permission_prompt\"\n}\n```\n\n## PreCompact\n\nRuns before compact operation.\n\n**Matchers**: `manual` (from `/compact`), `auto` (context window full)\n\n**Input**:\n```json\n{\n  \"hook_event_name\": \"PreCompact\",\n  \"trigger\": \"manual\",\n  \"custom_instructions\": \"\"\n}\n```\n",
        "plugins/base/skills/adding-hooks/references/json-output.md": "# JSON Output Schema\n\nHook scripts can return structured JSON to stdout (exit code 0) for advanced control.\n\n## Common Fields\n\nAll hook types support:\n\n```json\n{\n  \"continue\": true,\n  \"stopReason\": \"Reason for stopping\",\n  \"suppressOutput\": false,\n  \"systemMessage\": \"Warning message\"\n}\n```\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `continue` | boolean | If `false`, Claude stops after hook |\n| `stopReason` | string | Shown to user when `continue: false` |\n| `suppressOutput` | boolean | Hide from verbose mode |\n| `systemMessage` | string | Warning shown to user |\n\n## PreToolUse\n\n```json\n{\n  \"hookSpecificOutput\": {\n    \"hookEventName\": \"PreToolUse\",\n    \"permissionDecision\": \"allow\",\n    \"permissionDecisionReason\": \"Auto-approved\",\n    \"updatedInput\": {\n      \"file_path\": \"/new/path\"\n    }\n  }\n}\n```\n\n| Field | Values | Effect |\n|-------|--------|--------|\n| `permissionDecision` | `\"allow\"` | Bypass permission, execute |\n| | `\"deny\"` | Block execution, reason shown to Claude |\n| | `\"ask\"` | Show permission dialog |\n| `permissionDecisionReason` | string | Explanation |\n| `updatedInput` | object | Modify tool parameters |\n\n## PermissionRequest\n\n```json\n{\n  \"hookSpecificOutput\": {\n    \"hookEventName\": \"PermissionRequest\",\n    \"decision\": {\n      \"behavior\": \"allow\",\n      \"updatedInput\": { \"command\": \"npm run lint\" }\n    }\n  }\n}\n```\n\nFor deny:\n```json\n{\n  \"hookSpecificOutput\": {\n    \"hookEventName\": \"PermissionRequest\",\n    \"decision\": {\n      \"behavior\": \"deny\",\n      \"message\": \"Not allowed\",\n      \"interrupt\": true\n    }\n  }\n}\n```\n\n## PostToolUse\n\n```json\n{\n  \"decision\": \"block\",\n  \"reason\": \"Lint errors found\",\n  \"hookSpecificOutput\": {\n    \"hookEventName\": \"PostToolUse\",\n    \"additionalContext\": \"Details for Claude\"\n  }\n}\n```\n\n| Field | Effect |\n|-------|--------|\n| `decision: \"block\"` | Prompt Claude with `reason` |\n| `additionalContext` | Add context for Claude |\n\n## UserPromptSubmit\n\nBlock prompt:\n```json\n{\n  \"decision\": \"block\",\n  \"reason\": \"Blocked: contains sensitive data\"\n}\n```\n\nAdd context:\n```json\n{\n  \"hookSpecificOutput\": {\n    \"hookEventName\": \"UserPromptSubmit\",\n    \"additionalContext\": \"Current time: 2024-01-15 10:30\"\n  }\n}\n```\n\nNote: Plain text stdout (non-JSON) also adds context.\n\n## Stop / SubagentStop\n\n```json\n{\n  \"decision\": \"block\",\n  \"reason\": \"Tests not passing. Please fix before stopping.\"\n}\n```\n\n| Field | Effect |\n|-------|--------|\n| `decision: \"block\"` | Prevent stop, Claude continues |\n| `reason` | Required when blocking, shown to Claude |\n\n## SessionStart\n\n```json\n{\n  \"hookSpecificOutput\": {\n    \"hookEventName\": \"SessionStart\",\n    \"additionalContext\": \"Project uses TypeScript 5.0\"\n  }\n}\n```\n\n## Prompt Hooks Response\n\nFor `type: \"prompt\"` hooks, LLM must return:\n\n```json\n{\n  \"ok\": true,\n  \"reason\": \"All tasks complete\"\n}\n```\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `ok` | boolean | `true` allows, `false` blocks |\n| `reason` | string | Required if `ok: false` |\n",
        "plugins/base/skills/adding-hooks/references/scripts.md": "# Hook Script Examples\n\n## Basic Template\n\n```bash\n#!/usr/bin/env bash\nset -euo pipefail\n\n# Read JSON input\ninput=$(cat)\n\n# Parse with jq\ntool_name=$(echo \"$input\" | jq -r '.tool_name // empty')\n\n# Your logic here\n\n# Exit codes:\n# 0 = success, continue\n# 2 = block, stderr shown to Claude\n# other = non-blocking error\nexit 0\n```\n\n## Bash Command Validator\n\nBlock dangerous bash commands:\n\n```bash\n#!/usr/bin/env bash\nset -euo pipefail\n\ninput=$(cat)\ntool_name=$(echo \"$input\" | jq -r '.tool_name // empty')\ncommand=$(echo \"$input\" | jq -r '.tool_input.command // empty')\n\n[[ \"$tool_name\" != \"Bash\" ]] && exit 0\n[[ -z \"$command\" ]] && exit 0\n\n# Block rm -rf on root\nif [[ \"$command\" =~ rm[[:space:]]+-rf?[[:space:]]+/ ]]; then\n  echo \"Blocked: dangerous rm command\" >&2\n  exit 2\nfi\n\n# Block sudo\nif [[ \"$command\" =~ ^sudo ]]; then\n  echo \"Blocked: sudo commands require manual execution\" >&2\n  exit 2\nfi\n\nexit 0\n```\n\n## File Protection\n\nProtect specific files from modification:\n\n```bash\n#!/usr/bin/env bash\nset -euo pipefail\n\ninput=$(cat)\nfile_path=$(echo \"$input\" | jq -r '.tool_input.file_path // empty')\n\n[[ -z \"$file_path\" ]] && exit 0\n\n# Protected patterns\nprotected=(\n  \".env\"\n  \".env.local\"\n  \"secrets.json\"\n  \"credentials.json\"\n)\n\nfor pattern in \"${protected[@]}\"; do\n  if [[ \"$file_path\" == *\"$pattern\"* ]]; then\n    echo \"Protected file: $pattern\" >&2\n    exit 2\n  fi\ndone\n\nexit 0\n```\n\n## Auto-Format Code\n\nRun formatter after file writes:\n\n```bash\n#!/usr/bin/env bash\nset -euo pipefail\n\ninput=$(cat)\nfile_path=$(echo \"$input\" | jq -r '.tool_input.file_path // empty')\n\n[[ -z \"$file_path\" ]] && exit 0\n[[ ! -f \"$file_path\" ]] && exit 0\n\ncase \"$file_path\" in\n  *.ts|*.tsx|*.js|*.jsx)\n    npx prettier --write \"$file_path\" 2>/dev/null || true\n    ;;\n  *.py)\n    black \"$file_path\" 2>/dev/null || true\n    ;;\n  *.go)\n    gofmt -w \"$file_path\" 2>/dev/null || true\n    ;;\nesac\n\nexit 0\n```\n\n## Context Injection (UserPromptSubmit)\n\nAdd context to every prompt:\n\n```bash\n#!/usr/bin/env bash\nset -euo pipefail\n\n# Add current git branch\nbranch=$(git branch --show-current 2>/dev/null || echo \"not a git repo\")\necho \"Current branch: $branch\"\n\n# Add recent commits\nif git rev-parse --git-dir >/dev/null 2>&1; then\n  echo \"Recent commits:\"\n  git log --oneline -3 2>/dev/null || true\nfi\n\nexit 0\n```\n\n## Environment Setup (SessionStart)\n\nSet up environment on session start:\n\n```bash\n#!/usr/bin/env bash\nset -euo pipefail\n\n# Install dependencies if needed\nif [[ -f \"package.json\" ]] && [[ ! -d \"node_modules\" ]]; then\n  npm install >/dev/null 2>&1 || true\nfi\n\n# Persist environment variables\nif [[ -n \"${CLAUDE_ENV_FILE:-}\" ]]; then\n  echo 'export NODE_ENV=development' >> \"$CLAUDE_ENV_FILE\"\n\n  # Load nvm if available\n  if [[ -f \"$HOME/.nvm/nvm.sh\" ]]; then\n    source \"$HOME/.nvm/nvm.sh\"\n    nvm use --lts >/dev/null 2>&1 || true\n  fi\nfi\n\nexit 0\n```\n\n## Python Example: Validate Commands\n\n```python\n#!/usr/bin/env python3\nimport json\nimport re\nimport sys\n\nBLOCKED_PATTERNS = [\n    (r\"\\brm\\s+-rf\\s+/\", \"Dangerous rm command\"),\n    (r\"\\bsudo\\b\", \"sudo requires manual execution\"),\n    (r\"\\bcurl\\b.*\\|\\s*bash\", \"Piping curl to bash is blocked\"),\n]\n\ntry:\n    data = json.load(sys.stdin)\nexcept json.JSONDecodeError:\n    sys.exit(1)\n\nif data.get(\"tool_name\") != \"Bash\":\n    sys.exit(0)\n\ncommand = data.get(\"tool_input\", {}).get(\"command\", \"\")\n\nfor pattern, message in BLOCKED_PATTERNS:\n    if re.search(pattern, command, re.IGNORECASE):\n        print(message, file=sys.stderr)\n        sys.exit(2)\n\nsys.exit(0)\n```\n\n## Python Example: Auto-Approve Safe Tools\n\n```python\n#!/usr/bin/env python3\nimport json\nimport sys\n\nSAFE_EXTENSIONS = (\".md\", \".txt\", \".json\", \".yaml\", \".yml\")\n\ntry:\n    data = json.load(sys.stdin)\nexcept json.JSONDecodeError:\n    sys.exit(1)\n\ntool_name = data.get(\"tool_name\", \"\")\ntool_input = data.get(\"tool_input\", {})\n\n# Auto-approve reading documentation files\nif tool_name == \"Read\":\n    file_path = tool_input.get(\"file_path\", \"\")\n    if file_path.endswith(SAFE_EXTENSIONS):\n        output = {\n            \"hookSpecificOutput\": {\n                \"hookEventName\": \"PreToolUse\",\n                \"permissionDecision\": \"allow\",\n                \"permissionDecisionReason\": \"Safe file type\"\n            }\n        }\n        print(json.dumps(output))\n        sys.exit(0)\n\nsys.exit(0)\n```\n",
        "plugins/base/skills/creating-branch-name/SKILL.md": "---\nname: creating-branch-name\ndescription: Analyzes git changes and creates a new branch with an appropriate name following naming conventions. Use when creating new branches from current changes.\n---\n\n# Branch Creation with Auto-naming\n\nAnalyze git changes (commits and uncommitted changes) to determine appropriate branch name, then create the branch.\n\n## Naming Convention\n\n### Format\n\n```\n<type>/<description>\n```\n\n### Types\n\n| Type | Usage |\n|------|-------|\n| `feature/` | New feature |\n| `fix/` | Bug fix |\n| `refactor/` | Refactoring |\n| `docs/` | Documentation |\n| `style/` | Code style / design |\n| `chore/` | Miscellaneous / config |\n\n### Description Rules\n\n- English, concise\n- Start with verb (`add-`, `update-`, `remove-`, `fix-`)\n- Kebab-case (hyphen-separated)\n- Prioritize clarity over brevity\n\n### Examples\n\n```\nfeature/add-contact-form\nfix/spelling-error-in-footer\nrefactor/user-controller\ndocs/update-readme\nchore/update-dependencies\n```\n\n## Workflow\n\n### Step 1: Analyze Changes\n\nRun these commands to understand changes:\n\n```bash\n# Check current branch\ngit branch --show-current\n\n# View uncommitted changes\ngit status --short\n\n# View diff of uncommitted changes\ngit diff --stat\n\n# View staged changes\ngit diff --cached --stat\n\n# View recent commits (if on a feature branch)\ngit log --oneline -10\n```\n\n### Step 2: Determine Type\n\nBased on changes:\n\n| Changes | Type |\n|---------|------|\n| New files, new functionality | `feature/` |\n| Bug corrections | `fix/` |\n| Code restructuring without behavior change | `refactor/` |\n| README, comments, docs | `docs/` |\n| Formatting, CSS | `style/` |\n| Config, dependencies, tooling | `chore/` |\n\n### Step 3: Generate Description\n\n1. Identify the **main purpose** of changes\n2. Start with a **verb**: add, update, remove, fix, implement, refactor\n3. Keep it **short but clear** (2-4 words ideal)\n4. Use **kebab-case**\n\n### Step 4: Create Branch\n\nOnce you've determined the appropriate branch name:\n\n```bash\ngit checkout -b <type>/<description>\n```\n\nPresent the result in this format:\n\n```\nCreated branch: <type>/<description>\n\nReason: <brief explanation of why this name fits the changes>\n```\n\n## Anti-patterns\n\nAvoid these names:\n\n```\n# Too vague\ntest\nfix1\nbranch2\nupdate\nchanges\n\n# Missing type prefix\nadd-login\nuser-feature\n\n# Wrong case\nfeature/Add_Login\nfeature/addLogin\n```\n\n## Decision Tree\n\n```\nChanges include new functionality?\n├─ Yes → feature/\n└─ No\n    ├─ Fixing a bug? → fix/\n    ├─ Only docs/README? → docs/\n    ├─ Only formatting/style? → style/\n    ├─ Restructuring code? → refactor/\n    └─ Config/tooling? → chore/\n```\n\n## Interactive Mode\n\nIf changes are ambiguous, ask user:\n\n1. What is the main purpose of these changes?\n2. Is this a new feature or modification?\n3. Are there any specific keywords to include?\n\nThen suggest 2-3 options with explanations and create the branch with user's choice.\n",
        "plugins/base/skills/creating-command/SKILL.md": "---\nname: creating-command\ndescription: Best practices for creating custom slash commands with frontmatter, arguments, bash execution, and file references. Use when creating slash commands.\n---\n\n# Custom Slash Command Best Practices\n\n## Quick Start\n\n**First, ask the user**:\n- Where to create the command file?\n  - `.claude/commands/` (project-scoped, shared via git)\n  - `~/.claude/commands/` (user-scoped, personal across all projects)\n\nThen create a `.md` file:\n```markdown\n---\ndescription: Review code for security vulnerabilities\n---\n\nReview this code for:\n- SQL injection risks\n- XSS vulnerabilities\n- Authentication issues\n```\n\n## Essential Features\n\n### 1. Frontmatter\n\nSee [frontmatter.md](references/frontmatter.md) for complete reference.\n\n```markdown\n---\ndescription: Brief, specific description\nargument-hint: [arg1] [arg2]\nallowed-tools: Bash(git:*), Read, Edit\nmodel: claude-sonnet-4-5-20250929\n---\n```\n\n### 2. Arguments\n\n**All arguments**: `$ARGUMENTS`\n```markdown\nFix issue #$ARGUMENTS following coding standards\n```\n\n**Positional**: `$1`, `$2`, etc.\n```markdown\n---\nargument-hint: [pr-number] [priority]\n---\nReview PR #$1 with priority $2\n```\n\n### 3. Bash Execution\n\nUse exclamation mark followed by backtick-quoted bash command (requires `allowed-tools: Bash(...)`)\n\nSyntax: `!backtick` + bash command + `backtick`\n\nExample:\n```markdown\n---\nallowed-tools: Bash(git:*)\n---\nStatus: !backtick git status backtick\nRecent: !backtick git log --oneline -5 backtick\n```\n\n### 4. File References\n\nPrefix: `@`\n```markdown\nReview @src/utils/auth.js for security issues\nCompare @old-version.ts with @new-version.ts\n```\n\n## Best Practices\n\n### DO\n\n**Write specific descriptions**:\n```yaml\n# ✓ Good\ndescription: Create git commit with Conventional Commits format\n\n# ✗ Bad\ndescription: Git helper\n```\n\n**Use argument hints**:\n```yaml\nargument-hint: [component-name] [type:functional|class]\n```\n\n**Scope tools appropriately**:\n```yaml\n# ✓ Good - specific commands only\nallowed-tools: Bash(git add:*), Bash(git commit:*)\n\n# ✗ Bad - too broad\nallowed-tools: Bash(*)\n```\n\n**Keep commands focused**:\n```markdown\n# ✓ Good - one clear purpose\nCreate unit tests for the selected code\n\n# ✗ Bad - multiple unrelated tasks\nCreate tests, update docs, and refactor code\n```\n\n**Include context via bash**:\n```markdown\n---\nallowed-tools: Bash(git:*)\n---\nCurrent changes: !backtick git diff HEAD backtick\nCreate commit message based on changes above\n```\n\n### DON'T\n\n**Avoid overly broad permissions**:\n```yaml\n# ✗ Avoid\nallowed-tools: Bash(*), Write, Edit, Read\n```\n\n**Don't skip descriptions**:\n```markdown\n# ✗ Bad - no description\nReview this code\n```\n\n**Don't mix unrelated tasks**:\n```markdown\n# ✗ Bad\nRun tests, deploy to staging, and update documentation\n```\n\n**Don't forget argument hints**:\n```markdown\n# ✗ Bad - uses $1 but no hint\n---\ndescription: Create component\n---\nCreate component: $1\n\n# ✓ Good\n---\ndescription: Create component\nargument-hint: [component-name]\n---\nCreate component: $1\n```\n\n## Common Patterns\n\nSee [examples.md](references/examples.md) for detailed examples.\n\n### Git Workflow\n```markdown\n---\ndescription: Create conventional commit\nallowed-tools: Bash(git:*)\n---\nChanges: !backtick git diff --cached backtick\nStatus: !backtick git status --short backtick\n\nCreate Conventional Commits format message\n```\n\n### Code Review\n```markdown\n---\ndescription: Security-focused code review\n---\n\nReview for:\n- Input validation\n- SQL injection\n- XSS prevention\n- Auth/authz issues\n```\n\n### With Arguments\n```markdown\n---\ndescription: Fix GitHub issue\nargument-hint: [issue-number] [priority]\n---\n\nFix issue #$1 with priority $2\nFollow project coding standards\n```\n\n## Advanced: Disable Auto-Invocation\n\nPrevent Claude from auto-calling via `Skill` tool:\n```yaml\n---\ndescription: Destructive operation\ndisable-model-invocation: true\n---\n```\n\nUse for:\n- Destructive operations\n- Commands requiring explicit user confirmation\n- Experimental commands\n\n## Quick Reference\n\n| Feature | Syntax | Example |\n|---------|--------|---------|\n| All args | `$ARGUMENTS` | `Fix #$ARGUMENTS` |\n| Positional | `$1`, `$2` | `Review PR #$1` |\n| Bash | `!backtick cmd backtick` | `!backtick git status backtick` |\n| File ref | `@path` | `@src/main.ts` |\n\n## Resources\n\n- [frontmatter.md](references/frontmatter.md) - Complete frontmatter reference\n- [examples.md](references/examples.md) - Practical examples\n",
        "plugins/base/skills/creating-command/references/examples.md": "# Slash Command Examples\n\nPractical examples for common use cases.\n\n## Basic Commands\n\n### Code Review\n```markdown\n---\ndescription: Review code for security and performance\n---\n\nReview this code for:\n- Security vulnerabilities\n- Performance issues\n- Code style violations\n- Potential bugs\n```\n\n### Optimization\n```markdown\n---\ndescription: Analyze and optimize code performance\n---\n\nAnalyze this code for performance optimization:\n- Algorithm complexity\n- Memory usage\n- Caching opportunities\n```\n\n## Commands with Arguments\n\n### Fix Issue (All Arguments)\n```markdown\n---\ndescription: Fix GitHub issue following coding standards\nargument-hint: [issue-number] [additional-context]\n---\n\nFix issue #$ARGUMENTS following our coding standards.\n```\n\nUsage: `/fix-issue 123 high-priority`\n\n### PR Review (Positional Arguments)\n```markdown\n---\ndescription: Review pull request\nargument-hint: [pr-number] [priority]\n---\n\nReview PR #$1 with priority $2.\n\nFocus on:\n- Code quality\n- Security\n- Test coverage\n```\n\nUsage: `/pr-review 456 high`\n\n### Create Component\n```markdown\n---\ndescription: Create React component with tests\nargument-hint: [component-name] [type]\n---\n\nCreate React component: $1 (type: $2)\n\nInclude:\n- TypeScript types\n- Unit tests\n- Storybook stories\n```\n\nUsage: `/component UserProfile functional`\n\n## Commands with Bash Execution\n\n### Git Commit\n```markdown\n---\ndescription: Create conventional commit\nallowed-tools: Bash(git:*)\n---\n\n**Status**: !\\`git status --short\\`\n**Staged**: !\\`git diff --cached\\`\n**Recent commits**: !\\`git log --oneline -5\\`\n\nCreate Conventional Commits format message based on staged changes.\n```\n\n### Project Status\n```markdown\n---\ndescription: Show project status\nallowed-tools: Bash(git:*), Bash(npm:*)\n---\n\n**Git**: !\\`git status --short\\`\n**Branch**: !\\`git branch --show-current\\`\n**Tests**: !\\`npm test -- --listTests\\`\n\nAnalyze and suggest next steps.\n```\n\n### Build Verification\n```markdown\n---\ndescription: Verify build and tests\nallowed-tools: Bash(pnpm:*)\n---\n\n**Build**: !\\`pnpm build\\`\n**Tests**: !\\`pnpm test\\`\n\nReport results and suggest fixes for failures.\n```\n\n## Commands with File References\n\n### Compare Files\n```markdown\n---\ndescription: Compare two files\nargument-hint: [file1] [file2]\n---\n\nCompare @$1 with @$2:\n- Key differences\n- Which approach is better\n- Migration steps needed\n```\n\nUsage: `/compare src/old-api.ts src/new-api.ts`\n\n### Review Implementation\n```markdown\n---\ndescription: Review implementation vs spec\nargument-hint: [spec-file] [impl-file]\n---\n\nReview @$2 against spec in @$1.\n\nCheck:\n- Requirement coverage\n- Edge cases\n- Error handling\n```\n\nUsage: `/review-impl docs/spec.md src/feature.ts`\n\n## Git Workflow Commands\n\n### Create Commit with Context\n```markdown\n---\ndescription: Create commit with full context\nallowed-tools: Bash(git:*)\n---\n\n**Changes**: !\\`git diff HEAD\\`\n**Status**: !\\`git status\\`\n**Branch**: !\\`git branch --show-current\\`\n\nCreate meaningful commit message in Conventional Commits format.\n```\n\n### Review Changes Before PR\n```markdown\n---\ndescription: Review changes before creating PR\nallowed-tools: Bash(git:*)\n---\n\n**Commits**: !\\`git log origin/main..HEAD --oneline\\`\n**Diff**: !\\`git diff origin/main...HEAD\\`\n\nAnalyze changes and suggest:\n- PR title\n- PR description\n- Areas needing attention\n```\n\n## Testing Commands\n\n### Generate Unit Tests\n```markdown\n---\ndescription: Generate comprehensive unit tests\nargument-hint: [file-path]\n---\n\nGenerate unit tests for @$1.\n\nInclude:\n- Happy path\n- Error cases\n- Edge cases\n- Mocked dependencies\n```\n\nUsage: `/test src/utils/validator.ts`\n\n### Coverage Analysis\n```markdown\n---\ndescription: Analyze test coverage\nallowed-tools: Bash(npm:*)\n---\n\n**Coverage**: !\\`npm test -- --coverage --silent\\`\n\nIdentify:\n- Uncovered critical paths\n- Missing edge cases\n- Suggested test additions\n```\n\n## Advanced: Hooks Example\n\n### Deploy with Validation\n```markdown\n---\ndescription: Deploy with pre-deploy validation\nallowed-tools: Bash(git:*), Bash(npm:*)\nhooks:\n  PreToolUse:\n    - matcher: \"Bash\"\n      hooks:\n        - type: command\n          command: \"./scripts/pre-deploy-check.sh\"\n          once: true\n---\n\n**Branch**: !\\`git branch --show-current\\`\n**Build**: !\\`npm run build\\`\n**Tests**: !\\`npm test\\`\n\nDeploy after all checks pass.\n```\n\n## Quick Templates\n\n### Minimal\n```markdown\nReview this code for bugs and suggest improvements.\n```\n\n### With Description\n```markdown\n---\ndescription: Quick code review\n---\n\nReview for bugs and improvements.\n```\n\n### With Arguments\n```markdown\n---\ndescription: Process file\nargument-hint: [file-path]\n---\n\nProcess file: @$1\n```\n\n### With Bash\n```markdown\n---\ndescription: Git status summary\nallowed-tools: Bash(git:*)\n---\n\nStatus: !\\`git status\\`\n```\n\n## Tips\n\n- Start simple, add complexity as needed\n- Test with various inputs\n- Use `argument-hint` for better UX\n- Scope `allowed-tools` appropriately\n- Keep commands focused on one task\n",
        "plugins/base/skills/creating-command/references/frontmatter.md": "# Frontmatter Reference\n\nYAML metadata for slash command configuration.\n\n## Basic Structure\n\n```markdown\n---\nkey: value\n---\n\nCommand content...\n```\n\n## Available Fields\n\n### `description`\n\nBrief description shown in `/help` and autocomplete.\n\n```yaml\ndescription: Create git commit with conventional format\n```\n\n**Best practices**:\n- Be specific and concise\n- Include what it does and when to use it\n- Avoid vague terms like \"helper\" or \"utility\"\n\n### `argument-hint`\n\nShows expected arguments in autocomplete.\n\n```yaml\n# Simple\nargument-hint: [file-path]\n\n# Multiple\nargument-hint: [source] [destination]\n\n# With alternatives\nargument-hint: add [tagId] | remove [tagId] | list\n\n# Complex\nargument-hint: [pr-number] [priority:high|medium|low] [assignee]\n```\n\n### `allowed-tools`\n\nTools permitted for this command.\n\n```yaml\n# Single tool\nallowed-tools: Bash(git:*)\n\n# Multiple (comma-separated)\nallowed-tools: Bash(git:*), Read, Edit\n\n# Multiple (list)\nallowed-tools:\n  - Bash(git:*)\n  - Bash(npm:*)\n  - Read\n  - Write\n```\n\n**Common patterns**:\n```yaml\n# Git operations\nallowed-tools: Bash(git:*)\n\n# Package managers\nallowed-tools: Bash(npm:*), Bash(pnpm:*)\n\n# File operations\nallowed-tools: Read, Write, Edit\n\n# Specific git commands\nallowed-tools: Bash(git add:*), Bash(git commit:*), Bash(git status:*)\n```\n\n### `model`\n\nSpecific model for this command.\n\n```yaml\n# Balanced (default)\nmodel: claude-sonnet-4-5-20250929\n\n# Most capable\nmodel: claude-opus-4-5-20251101\n\n# Fastest, economical\nmodel: claude-3-5-haiku-20241022\n```\n\n**When to specify**:\n- Haiku: Simple, quick tasks\n- Opus: Complex reasoning\n- Sonnet: Balanced (default)\n\n### `disable-model-invocation`\n\nPrevent auto-invocation via `Skill` tool.\n\n```yaml\ndisable-model-invocation: true\n```\n\n**Use for**:\n- Destructive operations\n- Commands requiring explicit confirmation\n- Experimental features\n\n### `hooks`\n\nExecute scripts during command execution.\n\n```yaml\nhooks:\n  PreToolUse:\n    - matcher: \"Bash\"\n      hooks:\n        - type: command\n          command: \"./scripts/validate.sh\"\n          once: true\n```\n\n**Hook types**:\n- `PreToolUse`: Before tool execution\n- `PostToolUse`: After tool execution\n- `Stop`: When command completes\n\n**Options**:\n- `once: true`: Run once per session, then remove\n\n## Complete Examples\n\n### Minimal\n```markdown\n---\ndescription: Review code for bugs\n---\n\nReview this code for bugs and suggest fixes.\n```\n\n### With Arguments\n```markdown\n---\ndescription: Fix GitHub issue\nargument-hint: [issue-number]\n---\n\nFix issue #$ARGUMENTS following coding standards.\n```\n\n### With Tools\n```markdown\n---\ndescription: Create git commit\nallowed-tools: Bash(git:*)\n---\n\nStatus: !\\`git status\\`\nCreate commit for staged changes.\n```\n\n### Advanced\n```markdown\n---\ndescription: Deploy to staging\nargument-hint: [version]\nallowed-tools: Bash(git:*), Bash(npm:*)\nmodel: claude-sonnet-4-5-20250929\nhooks:\n  PreToolUse:\n    - matcher: \"Bash\"\n      hooks:\n        - type: command\n          command: \"./scripts/pre-deploy-check.sh\"\n          once: true\n---\n\nVersion: $1\nBranch: !\\`git branch --show-current\\`\n\nDeploy version $1 to staging.\n```\n\n### Production-Safe\n```markdown\n---\ndescription: Database migration\nargument-hint: [migration-name]\nallowed-tools: Bash(npm run migrate:*)\ndisable-model-invocation: true\nhooks:\n  PreToolUse:\n    - matcher: \"Bash\"\n      hooks:\n        - type: command\n          command: \"./scripts/backup-db.sh\"\n          once: true\n---\n\nRun migration: $ARGUMENTS\n\n**WARNING**: Affects production database.\nAutomatic backup will run before migration.\n```\n\n## Validation Tips\n\n**YAML syntax**:\n```yaml\n# ✗ Wrong - missing quotes\ndescription: Review: security check\n\n# ✓ Correct\ndescription: \"Review: security check\"\n```\n\n**Tool patterns**:\n```yaml\n# ✗ Wrong - too broad\nallowed-tools: Bash(*)\n\n# ✓ Correct\nallowed-tools: Bash(git:*)\n```\n\n**Argument hints with usage**:\n```yaml\n# ✗ Wrong - uses $1 but no hint\n---\ndescription: Create component\n---\nCreate: $1\n\n# ✓ Correct\n---\ndescription: Create component\nargument-hint: [component-name]\n---\nCreate: $1\n```\n\n## Quick Reference\n\n| Field | Purpose | Example |\n|-------|---------|---------|\n| `description` | Command description | `Create git commit` |\n| `argument-hint` | Argument guidance | `[pr-number] [priority]` |\n| `allowed-tools` | Tool permissions | `Bash(git:*), Read` |\n| `model` | Specific model | `claude-3-5-haiku-20241022` |\n| `disable-model-invocation` | Prevent auto-call | `true` |\n| `hooks` | Script execution | See examples above |\n",
        "plugins/base/skills/creating-git-worktree/SKILL.md": "---\nname: creating-git-worktree\ndescription: Creates isolated git worktree environments for parallel development. Fetches latest from default branch, creates worktree in .git-worktrees/, copies .env and .serena files. Branch '/' is converted to '-'. Use when starting new features or switching context.\n---\n\n# Create Git Worktree Environment\n\nAutomate worktree creation with environment setup for parallel development workflows.\n\n## Quick Start\n\nExecute the script with your branch name:\n\n```bash\nbash skills/creating-git-worktree/scripts/create-worktree.sh <branch-name>\n```\n\n**Example**:\n```bash\nbash skills/creating-git-worktree/scripts/create-worktree.sh feature/user-auth\n# Creates: .git-worktrees/feature-user-auth\n```\n\n## What the Script Does\n\n1. **Sync with remote**: Checkout and pull default branch\n2. **Create worktree**: In `.git-worktrees/<branch-name>` (new or existing branch)\n3. **Copy environment files**: `.env`, `.serena` if they exist\n4. **Reuse existing**: Skip creation if worktree already exists\n\n## Branch Name Handling\n\n- `/` is converted to `-` for directory names\n- `feature/new-feature` becomes `.git-worktrees/feature-new-feature`\n",
        "plugins/base/skills/creating-pr/SKILL.md": "---\nname: creating-pr\ndescription: Create GitHub pull requests with standardized title format and draft status. Use when the user requests to create a PR. This skill uses gh command to create PRs with specific title format '[base-branch] type: description' and generates concise bullet-point descriptions from git changes.\n---\n\n# Creating PR\n\n## Overview\n\nCreate GitHub pull requests following a standardized format with proper Conventional Commits types and draft status.\n\n## PR Creation Workflow\n\n### 1. Analyze Current State\n\nCheck the current branch and merge target:\n\n```bash\n# Get current branch\ngit branch --show-current\n\n# Check remote tracking and base branch\ngit status\n```\n\n### 2. Gather Change Information\n\nCollect information about the changes:\n\n```bash\n# Get commit history from base branch\ngit log origin/main..HEAD --oneline\n\n# Get detailed diff from base branch\ngit diff origin/main...HEAD --stat\ngit diff origin/main...HEAD\n```\n\nReplace `origin/main` with the actual base branch (e.g., `origin/master`, `origin/develop`).\n\n### 3. Analyze Changes and Determine Type\n\nAnalyze the changes and determine the appropriate Conventional Commits type:\n\n- Read [commit-types.md](references/commit-types.md) for detailed type selection guidelines\n- Consider the primary purpose of the changes\n- Follow the priority order: feat > fix > perf > refactor > test > docs > chore\n\n### 4. Create PR Title\n\nFormat: `[base-branch] type: description`\n\n**Components:**\n- `[base-branch]`: The target branch name (e.g., `main`, `master`, `develop`)\n- `type`: Conventional Commits type (feat, fix, chore, docs, refactor, test, perf, style, ci, build)\n- `description`: Concise summary of changes in lowercase\n\n**Examples:**\n- `[main] feat: add user authentication system`\n- `[main] fix: resolve null pointer in login handler`\n- `[develop] refactor: extract validation logic`\n\n### 5. Create PR Description\n\nGenerate a concise bullet-point list of main changes:\n\n**Format:**\n```markdown\n- Main change 1\n- Main change 2\n- Main change 3\n```\n\n**Guidelines:**\n- Focus on user-facing or significant technical changes\n- Keep each point concise (one line)\n- Limit to 3-5 main points\n- Use imperative mood (e.g., \"Add\", \"Fix\", \"Update\")\n\n**Example:**\n```markdown\n- Add JWT authentication middleware\n- Implement user login and logout endpoints\n- Add password hashing with bcrypt\n```\n\n### 6. Push Branch to Remote\n\nBefore creating the PR, ensure the current branch is pushed to the remote repository:\n\n```bash\n# Check if branch has remote tracking\ngit rev-parse --abbrev-ref @{upstream} 2>/dev/null\n\n# If no upstream or unpushed commits, push the branch\ngit push -u origin $(git branch --show-current)\n```\n\n**Important:**\n- Always push before creating PR to avoid \"must first push\" errors\n- Use `-u` flag to set up tracking relationship\n- This step is idempotent - safe to run even if already pushed\n\n### 7. Create Draft PR\n\nUse `gh` command to create the draft PR:\n\n```bash\ngh pr create \\\n  --title \"[main] feat: add user authentication\" \\\n  --body \"- Add JWT authentication middleware\n- Implement user login and logout endpoints\n- Add password hashing with bcrypt\" \\\n  --draft \\\n  --assignee kkhys\n```\n\n**Important:**\n- Always use `--draft` flag to create draft PR\n- Always use `--assignee kkhys` flag to assign PR to kkhys (REQUIRED)\n- Use heredoc for multi-line body if needed:\n\n```bash\ngh pr create \\\n  --title \"[main] feat: add user authentication\" \\\n  --body \"$(cat <<'EOF'\n- Add JWT authentication middleware\n- Implement user login and logout endpoints\n- Add password hashing with bcrypt\nEOF\n)\" \\\n  --draft \\\n  --assignee kkhys\n```\n\n## Common Scenarios\n\n### Scenario 1: Feature Branch to Main\n\n**User Request:** \"PRを作成して\"\n\n**Workflow:**\n1. Current branch: `feature/user-auth`\n2. Base branch: `main`\n3. Changes: Added authentication system\n4. Type: `feat`\n5. Title: `[main] feat: add user authentication system`\n6. Description:\n   - Add JWT authentication middleware\n   - Implement login/logout endpoints\n   - Add bcrypt password hashing\n\n### Scenario 2: Bugfix Branch to Main\n\n**User Request:** \"create a PR\"\n\n**Workflow:**\n1. Current branch: `bugfix/null-pointer`\n2. Base branch: `main`\n3. Changes: Fixed null pointer exception\n4. Type: `fix`\n5. Title: `[main] fix: resolve null pointer in login handler`\n6. Description:\n   - Add null check before accessing user object\n   - Add error handling for missing credentials\n\n### Scenario 3: Multiple Types of Changes\n\n**User Request:** \"make a pull request\"\n\n**Workflow:**\n1. Current branch: `feature/api-improvements`\n2. Base branch: `develop`\n3. Changes: New endpoint + refactoring + tests\n4. Type: `feat` (primary purpose is new functionality)\n5. Title: `[develop] feat: add data export endpoint`\n6. Description:\n   - Add CSV export endpoint\n   - Refactor data processing logic\n   - Add integration tests\n\n## Type Selection Reference\n\nFor detailed guidelines on selecting the appropriate type, see [commit-types.md](references/commit-types.md).\n\n**Quick Reference:**\n- **feat**: New features or functionality\n- **fix**: Bug fixes\n- **refactor**: Code restructuring\n- **test**: Test additions\n- **docs**: Documentation only\n- **chore**: Maintenance tasks\n- **perf**: Performance improvements\n- **style**: Code style/formatting\n- **ci**: CI/CD changes\n- **build**: Build system changes\n",
        "plugins/base/skills/creating-pr/references/commit-types.md": "# Conventional Commits Types\n\n## Type Selection Guidelines\n\nAnalyze the changes and select the most appropriate type based on the primary purpose of the changes.\n\n### Types\n\n**feat**: New feature or functionality\n- Adding new endpoints, components, or capabilities\n- Implementing user-facing features\n- Adding new configuration options or settings\n- Example: \"Add user authentication system\", \"Add dark mode support\"\n\n**fix**: Bug fixes\n- Fixing crashes, errors, or incorrect behavior\n- Resolving issues reported by users or tests\n- Correcting logic errors\n- Example: \"Fix null pointer exception in login\", \"Fix incorrect calculation\"\n\n**chore**: Maintenance tasks without code changes\n- Dependency updates\n- Build configuration changes\n- CI/CD pipeline updates\n- Tooling configuration\n- Example: \"Update dependencies\", \"Configure ESLint\", \"Update .gitignore\"\n\n**docs**: Documentation only\n- README updates\n- API documentation\n- Code comments (when that's the only change)\n- Example: \"Update installation guide\", \"Add API usage examples\"\n\n**refactor**: Code restructuring without behavior change\n- Code cleanup, reorganization\n- Performance improvements without new features\n- Renaming variables/functions for clarity\n- Example: \"Extract validation logic\", \"Simplify error handling\"\n\n**test**: Test additions or modifications\n- Adding new test cases\n- Fixing broken tests\n- Improving test coverage\n- Example: \"Add unit tests for auth module\", \"Fix failing integration tests\"\n\n**perf**: Performance improvements\n- Optimizations that measurably improve performance\n- Caching implementations\n- Query optimizations\n- Example: \"Optimize database queries\", \"Add caching layer\"\n\n**style**: Code style/formatting changes\n- Formatting changes (indentation, whitespace)\n- Linting fixes\n- Code style adjustments\n- Example: \"Format code with Prettier\", \"Fix linting warnings\"\n\n**ci**: CI/CD changes\n- GitHub Actions, CircleCI, Travis updates\n- Deployment pipeline changes\n- Build automation\n- Example: \"Add automated deployment\", \"Update CI workflow\"\n\n**build**: Build system changes\n- Webpack, Rollup, Vite configuration\n- Build script modifications\n- Package.json scripts\n- Example: \"Update build configuration\", \"Add production build script\"\n\n**revert**: Reverting previous commits\n- Reverting a previous commit\n- Example: \"Revert 'Add experimental feature'\"\n\n## Selection Priority\n\nWhen changes span multiple types, choose based on this priority:\n\n1. **feat** - If adding any new functionality\n2. **fix** - If fixing a bug (even with refactoring)\n3. **perf** - If primary goal is performance\n4. **refactor** - If restructuring existing code\n5. **test** - If only test changes\n6. **docs** - If only documentation\n7. **chore** - For everything else\n\n## Examples\n\n### Multiple file types\n- Added feature + tests → **feat**\n- Bug fix + refactoring → **fix**\n- Refactor + new tests → **refactor**\n\n### Common scenarios\n- Added new API endpoint with tests → **feat**\n- Fixed bug and added test for it → **fix**\n- Updated dependencies and fixed breaking changes → **chore**\n- Reorganized code structure → **refactor**\n",
        "plugins/base/skills/creating-rules/SKILL.md": "---\nname: creating-rules\ndescription: Creates Claude Code rules (.claude/rules/*.md) with YAML frontmatter and path-specific scoping. Use when creating project rules, coding standards, or conditional guidelines for specific file types.\n---\n\n# Creating Claude Code Rules\n\nCreate modular, focused rules for `.claude/rules/` directory.\n\n## Quick Start\n\n**First, ask the user**:\n- Rule scope: global (all files) or path-specific (certain file types)?\n- Location: `.claude/rules/` (project) or `~/.claude/rules/` (personal)?\n\nThen create a `.md` file:\n\n```markdown\n---\npaths: src/**/*.ts\n---\n\n# TypeScript Guidelines\n\n- Use strict mode\n- Prefer interfaces over type aliases for object shapes\n- Use explicit return types for exported functions\n```\n\n## Rule File Structure\n\n### Global Rules (No Frontmatter)\n\nApply to all files:\n\n```markdown\n# Code Style\n\n- Use 2-space indentation\n- Prefer const over let\n- No unused variables\n```\n\n### Path-Specific Rules (With Frontmatter)\n\nApply only when Claude works with matching files:\n\n```markdown\n---\npaths: src/api/**/*.ts\n---\n\n# API Development Rules\n\n- All endpoints must include input validation\n- Use standard error response format\n- Include OpenAPI documentation comments\n```\n\n## YAML Frontmatter\n\n### `paths` Field\n\nSingle pattern:\n```yaml\npaths: src/**/*.ts\n```\n\nMultiple patterns with brace expansion:\n```yaml\npaths: src/**/*.{ts,tsx}\n```\n\nComma-separated patterns:\n```yaml\npaths: {src,lib}/**/*.ts, tests/**/*.test.ts\n```\n\n### Glob Patterns Reference\n\n| Pattern | Matches |\n|---------|---------|\n| `**/*.ts` | All TypeScript files anywhere |\n| `src/**/*` | All files under `src/` |\n| `*.md` | Markdown files in project root only |\n| `src/components/*.tsx` | React components in specific directory |\n| `**/*.{ts,tsx}` | TypeScript and TSX files |\n| `{src,lib}/**/*.ts` | TypeScript in `src/` or `lib/` |\n\n## Directory Organization\n\n### Basic Structure\n\n```\n.claude/rules/\n├── code-style.md      # General coding standards\n├── testing.md         # Testing conventions\n└── security.md        # Security requirements\n```\n\n### With Subdirectories\n\n```\n.claude/rules/\n├── frontend/\n│   ├── react.md\n│   └── styles.md\n├── backend/\n│   ├── api.md\n│   └── database.md\n└── general.md\n```\n\nAll `.md` files are discovered recursively.\n\n### Symlinks for Shared Rules\n\n```bash\n# Symlink shared rules directory\nln -s ~/shared-claude-rules .claude/rules/shared\n\n# Symlink individual files\nln -s ~/company-standards/security.md .claude/rules/security.md\n```\n\n## Best Practices\n\n### DO\n\n**Keep rules focused** (one topic per file):\n```markdown\n# ✓ Good - testing.md\n# Testing Conventions\n\n- Use vitest for unit tests\n- Place tests in __tests__ directory\n- Name test files: *.test.ts\n```\n\n**Use descriptive filenames**:\n- `api-validation.md` not `rules1.md`\n- `react-components.md` not `frontend.md`\n\n**Be specific**:\n```markdown\n# ✓ Good\n- Use 2-space indentation\n- Prefer `interface` over `type` for objects\n\n# ✗ Bad\n- Format code properly\n- Use good naming\n```\n\n**Use path scoping appropriately**:\n```yaml\n# ✓ Good - applies to specific files\npaths: src/api/**/*.ts\n\n# ✗ Bad - too broad for API-specific rules\n# (no paths = applies to everything)\n```\n\n### DON'T\n\n**Don't create catch-all files**:\n```markdown\n# ✗ Bad - rules.md containing everything\n# All Rules\n## Coding\n## Testing\n## Deployment\n## Security\n```\n\n**Don't duplicate CLAUDE.md content**:\n- CLAUDE.md: Project overview, common commands, architecture\n- Rules: Specific guidelines for code/files\n\n**Don't use time-sensitive info**:\n```markdown\n# ✗ Bad\n- As of January 2025, use React 19 features\n```\n\n## Common Rule Categories\n\nFor detailed examples, see [examples.md](references/examples.md).\n\n### Code Style\n\n```markdown\n# Code Style\n\n- Use ESLint/Prettier configuration\n- No console.log in production code\n- Prefer named exports\n- Use absolute imports with @/ prefix\n```\n\n### Testing\n\n```markdown\n---\npaths: **/*.test.{ts,tsx}\n---\n\n# Testing Standards\n\n- Arrange-Act-Assert pattern\n- Mock external dependencies\n- Test edge cases explicitly\n- Aim for 80%+ coverage on new code\n```\n\n### API Development\n\n```markdown\n---\npaths: src/api/**/*.ts\n---\n\n# API Guidelines\n\n- Validate all inputs with zod\n- Return consistent error format: { error: string, code: string }\n- Log all 5xx errors\n- Include request ID in responses\n```\n\n### Security\n\n```markdown\n# Security Requirements\n\n- Never log sensitive data (passwords, tokens, PII)\n- Sanitize user inputs before database queries\n- Use parameterized queries only\n- Validate file uploads: type, size, content\n```\n\n### React/Frontend\n\n```markdown\n---\npaths: src/components/**/*.tsx\n---\n\n# React Component Guidelines\n\n- Prefer functional components with hooks\n- Extract complex logic to custom hooks\n- Use React.memo for expensive renders\n- Props interface named: ComponentNameProps\n```\n\n## Rules vs CLAUDE.md\n\n**CLAUDE.md**: High-level project info, build commands, architecture patterns\n\n**Rules (`.claude/rules/*.md`)**: Specific coding guidelines, often conditional on file types\n\nUse rules when:\n- Guidelines apply to specific file types or paths\n- Content is focused on single topic (testing, security, etc.)\n- Team wants modular, organized guidelines\n\nUse CLAUDE.md when:\n- General project information applies to all files\n- Build/test/lint commands needed frequently\n- Architectural overview needed\n\n## Checklist\n\nBefore creating a rule:\n- [ ] Identified clear, focused topic\n- [ ] Chose appropriate scope (global or path-specific)\n- [ ] Used descriptive filename\n- [ ] Kept content specific and actionable\n- [ ] Avoided duplicating CLAUDE.md content\n- [ ] Tested glob patterns if using path scoping\n",
        "plugins/base/skills/creating-rules/references/examples.md": "# Rule Examples\n\nPractical examples for common rule scenarios.\n\n## Language-Specific Rules\n\n### TypeScript\n\n```markdown\n---\npaths: **/*.{ts,tsx}\n---\n\n# TypeScript Guidelines\n\n## Type Safety\n- Enable strict mode in tsconfig.json\n- Avoid `any` - use `unknown` when type is uncertain\n- Prefer interfaces for object shapes, type for unions/intersections\n- Use explicit return types for exported functions\n\n## Patterns\n- Use optional chaining `?.` and nullish coalescing `??`\n- Prefer ES modules over require()\n- Use const assertions for literal types: `as const`\n\n## Generics\n- Use generics for reusable components\n- Name type parameters descriptively: `TItem`, `TResult`\n```\n\n### Python\n\n```markdown\n---\npaths: **/*.py\n---\n\n# Python Guidelines\n\n## Style\n- Follow PEP 8\n- Use type hints for function signatures\n- Prefer f-strings over .format()\n\n## Imports\n- Group: stdlib, third-party, local\n- Use absolute imports\n- Avoid `from module import *`\n\n## Error Handling\n- Catch specific exceptions, not bare `except:`\n- Use context managers for resources\n```\n\n### Bash\n\n```markdown\n---\npaths: **/*.sh\n---\n\n# Bash Script Guidelines\n\n## Header\n- Always use `#!/usr/bin/env bash`\n- Set `set -euo pipefail`\n\n## Variables\n- Quote all variables: `\"${var}\"`\n- Use `readonly` for constants\n- Use `local` in functions\n\n## Error Handling\n- Use `trap` for cleanup\n- Check command existence with `command -v`\n```\n\n## Framework-Specific Rules\n\n### React\n\n```markdown\n---\npaths: src/components/**/*.tsx\n---\n\n# React Component Guidelines\n\n## Structure\n- One component per file\n- Props interface: `ComponentNameProps`\n- Export component as default\n\n## Hooks\n- Prefix custom hooks with `use`\n- Extract complex logic to custom hooks\n- Follow Rules of Hooks\n\n## Performance\n- Use `React.memo` for expensive renders\n- Memoize callbacks with `useCallback`\n- Memoize computed values with `useMemo`\n```\n\n### Next.js\n\n```markdown\n---\npaths: {app,pages}/**/*.{ts,tsx}\n---\n\n# Next.js Guidelines\n\n## App Router\n- Use Server Components by default\n- Add 'use client' only when needed\n- Colocate loading.tsx and error.tsx\n\n## Data Fetching\n- Use fetch with caching options\n- Prefer server-side data fetching\n- Handle loading and error states\n\n## Routing\n- Use file-based routing conventions\n- Keep route handlers in route.ts\n```\n\n### Express/API\n\n```markdown\n---\npaths: src/api/**/*.ts\n---\n\n# API Development Rules\n\n## Request Handling\n- Validate all inputs with zod/joi\n- Return consistent error format:\n  ```json\n  { \"error\": \"message\", \"code\": \"ERROR_CODE\" }\n  ```\n\n## Response\n- Use proper HTTP status codes\n- Include request ID in responses\n- Set appropriate cache headers\n\n## Security\n- Sanitize inputs before queries\n- Use parameterized SQL only\n- Rate limit endpoints\n```\n\n## Domain-Specific Rules\n\n### Testing\n\n```markdown\n---\npaths: **/*.{test,spec}.{ts,tsx,js}\n---\n\n# Testing Standards\n\n## Structure\n- Use Arrange-Act-Assert pattern\n- One assertion per test (when practical)\n- Group related tests with describe\n\n## Naming\n- Describe behavior, not implementation\n- Format: \"should [expected behavior] when [condition]\"\n\n## Mocking\n- Mock external dependencies\n- Avoid mocking internal modules\n- Reset mocks between tests\n```\n\n### Database\n\n```markdown\n---\npaths: src/db/**/*.ts\n---\n\n# Database Guidelines\n\n## Queries\n- Use parameterized queries only\n- Add indexes for frequent queries\n- Use transactions for multi-step operations\n\n## Migrations\n- Name: `YYYYMMDD_HHMMSS_description.sql`\n- Include both up and down migrations\n- Test migrations on copy of production data\n\n## Performance\n- Use connection pooling\n- Batch bulk operations\n- Monitor slow queries\n```\n\n### Security\n\n```markdown\n# Security Requirements\n\n## Sensitive Data\n- Never log passwords, tokens, or PII\n- Mask sensitive data in error messages\n- Use secure environment variables\n\n## Authentication\n- Use secure session management\n- Implement proper CSRF protection\n- Hash passwords with bcrypt/argon2\n\n## Input Validation\n- Validate on both client and server\n- Sanitize HTML content\n- Limit file upload types and sizes\n```\n\n## Project Structure Rules\n\n### Monorepo\n\n```markdown\n---\npaths: packages/**/*\n---\n\n# Monorepo Guidelines\n\n## Package Structure\n- Each package has own package.json\n- Shared dependencies at root\n- Internal packages: `@repo/package-name`\n\n## Dependencies\n- Use workspace protocol: `workspace:*`\n- Hoist common dependencies\n- Keep package-specific deps local\n```\n\n### Microservices\n\n```markdown\n---\npaths: services/**/*\n---\n\n# Microservice Guidelines\n\n## Communication\n- Use message queue for async operations\n- Implement retry with exponential backoff\n- Include correlation IDs\n\n## Resilience\n- Implement circuit breakers\n- Handle partial failures gracefully\n- Log all external calls\n```\n\n## Combining Multiple Scopes\n\n### Frontend + Backend\n\n```\n.claude/rules/\n├── frontend/\n│   ├── react.md\n│   ├── styling.md\n│   └── testing.md\n├── backend/\n│   ├── api.md\n│   ├── database.md\n│   └── testing.md\n└── shared/\n    ├── security.md\n    └── logging.md\n```\n\n### Shared Standards via Symlinks\n\n```bash\n# In each project\nln -s ~/company-rules/security.md .claude/rules/security.md\nln -s ~/company-rules/logging.md .claude/rules/logging.md\n```\n",
        "plugins/base/skills/creating-skill/SKILL.md": "---\nname: creating-skill\ndescription: Provides best practices and guidelines for creating Claude Code skills. Use when you need help with skill structure, naming conventions, writing effective descriptions, progressive disclosure patterns, and evaluation methods.\n---\n\n# Skill Creation Guide\n\nPractical guidelines for creating skills that Claude Code can effectively discover and use.\n\n## Core Principles\n\n### 1. Brevity is Key\n\n**Claude is already smart** - Only add context that Claude doesn't already have.\n\n```markdown\n✓ Good example (concise):\n## Extracting PDF Text\nUse pdfplumber:\nimport pdfplumber\nwith pdfplumber.open(\"file.pdf\") as pdf:\n    text = pdf.pages[0].extract_text()\n\n✗ Bad example (verbose):\nPDF (Portable Document Format) files are...\nFirst, you need to install using pip...\n```\n\n**Token Budget**: Keep SKILL.md body under 500 lines\n\n### 2. Set Appropriate Freedom Levels\n\nAdjust specificity level to match task fragility:\n\n**High Freedom** (multiple approaches valid):\n```markdown\n## Code Review Process\n1. Analyze code structure and organization\n2. Check for potential bugs\n3. Suggest readability improvements\n```\n\n**Low Freedom** (operation is fragile):\n```markdown\n## Database Migration\nExecute this script exactly:\npython scripts/migrate.py --verify --backup\nDo not modify the command.\n```\n\n### 3. Test with All Models\n\nTest your skill with all models you plan to use (Haiku, Sonnet, Opus).\n\n## Skill Structure\n\n### YAML Front Matter\n\n```yaml\n---\nname: example-skill        # lowercase, numbers, hyphens only (max 64 chars)\ndescription: Specific description  # max 1024 chars, written in third person\n---\n```\n\n**Naming Conventions** (gerund form recommended):\n- ✓ `processing-pdfs`, `analyzing-spreadsheets`, `managing-databases`\n- ✗ `helper`, `utils`, `anthropic-helper`\n\n### Writing Effective Descriptions\n\n**Always write in third person**:\n- ✓ \"Processes Excel files and generates reports\"\n- ✗ \"I can help you process Excel files\"\n\n**Be specific and include key terms**:\n```yaml\ndescription: Extracts text and tables from PDF files and fills forms. Use when mentioning PDF files, forms, or document extraction.\n```\n\n## Progressive Disclosure Patterns\n\n### Pattern 1: High-Level Guide with References\n\n```markdown\n## Quick Start\n[Basic code example]\n\n## Advanced Features\n**Form Filling**: See [FORMS.md](FORMS.md)\n**API Reference**: See [REFERENCE.md](REFERENCE.md)\n```\n\n### Pattern 2: Domain-Specific Organization\n\n```\nskill/\n├── SKILL.md (overview)\n└── reference/\n    ├── finance.md\n    ├── sales.md\n    └── product.md\n```\n\n### Important Rules\n\n- **Keep references 1 level deep only** - Link directly from SKILL.md\n- **Include table of contents for long reference files** (100+ lines)\n- **Avoid deeply nested references**\n\n## Workflows and Feedback Loops\n\n### Checklist Pattern\n\n```markdown\n## Research Synthesis Workflow\n\nProgress checklist:\n- [ ] Step 1: Read all sources\n- [ ] Step 2: Identify key themes\n- [ ] Step 3: Cross-reference claims\n- [ ] Step 4: Create structured summary\n- [ ] Step 5: Verify citations\n\n**Step 1: Read all sources**\n[Detailed instructions]\n\n**Step 2: Identify key themes**\n[Detailed instructions]\n```\n\n### Validation Loop Pattern\n\n```markdown\n## Document Editing Process\n1. Make edits to XML\n2. **Validate immediately**: python validate.py\n3. If validation fails:\n   - Check errors\n   - Fix issues\n   - Re-validate\n4. **Only proceed on success**\n5. Test output\n```\n\n## Content Guidelines\n\n### ✓ Do's\n\n- **Use consistent terminology** - Pick one term and stick with it\n- **Provide concrete examples** - Real examples, not abstract ones\n- **Provide templates** - Clear structure for output formats\n- **Conditional workflows** - Guide Claude through decision points\n\n### ✗ Don'ts\n\n- **Time-sensitive information** - \"Before August 2025...\"\n- **Windows-style paths** - Use `scripts/file.py` instead of `scripts\\file.py`\n- **Too many options** - Provide defaults, alternatives only when needed\n- **Vague descriptions** - \"Helps with documents\"\n\n## Skills with Executable Code\n\n### Utility Scripts\n\n```markdown\n## Utility Scripts\n\n**analyze_form.py**: Extract form fields from PDF\npython scripts/analyze_form.py input.pdf > fields.json\n\n**validate_boxes.py**: Check for overlapping bounding boxes\npython scripts/validate_boxes.py fields.json\n```\n\n### Error Handling\n\n```python\n# ✓ Good: Explicitly handle errors\ndef process_file(path):\n    try:\n        with open(path) as f:\n            return f.read()\n    except FileNotFoundError:\n        print(f\"File {path} not found, creating default\")\n        with open(path, 'w') as f:\n            f.write('')\n        return ''\n\n# ✗ Bad: Leave it to Claude\ndef process_file(path):\n    return open(path).read()  # May fail\n```\n\n### Verifiable Intermediate Output\n\nUse \"plan-validate-execute\" pattern for complex tasks:\n\n```markdown\n## Batch Update Workflow\n1. Analyze: Identify fields\n2. **Create plan file**: changes.json\n3. **Validate plan**: python validate_plan.py changes.json\n4. Execute: Apply changes\n5. Verify: Validate output\n```\n\n## Evaluation and Iteration\n\n### Evaluation-Driven Development\n\n1. **Identify gaps** - Run Claude without skill\n2. **Create evaluations** - Build 3 scenarios\n3. **Establish baseline** - Measure performance\n4. **Write minimal instructions** - Just enough to pass evaluations\n5. **Iterate** - Run and improve\n\n### Iterative Development with Claude\n\n**Creating new skills**:\n1. Complete task with Claude A (normal prompts)\n2. Identify reusable patterns\n3. Ask Claude A to create skill\n4. Review for brevity\n5. Test with Claude B (new instance)\n6. Iterate based on observations\n\n**Improving existing skills**:\n1. Use real workflows with Claude B\n2. Observe Claude B's behavior\n3. Return to Claude A for improvements\n4. Review Claude A's suggestions\n5. Apply changes and test\n6. Repeat based on usage\n\n## Checklist\n\n### Core Quality\n- [ ] Description is specific and includes key terms\n- [ ] Description includes what it does and when to use\n- [ ] SKILL.md body is under 500 lines\n- [ ] No time-sensitive information\n- [ ] Consistent terminology throughout\n- [ ] Examples are concrete\n- [ ] File references are 1 level deep\n- [ ] Clear steps in workflows\n\n### Code and Scripts\n- [ ] Scripts solve problems\n- [ ] Error handling is explicit\n- [ ] All values are justified\n- [ ] Required packages are listed\n- [ ] No Windows-style paths\n- [ ] Validation/verification steps\n- [ ] Feedback loops\n\n### Testing\n- [ ] At least 3 evaluations\n- [ ] Tested with Haiku, Sonnet, Opus\n- [ ] Tested with real use scenarios\n\n## Technical Notes\n\n### YAML Front Matter Requirements\n- `name`: Max 64 chars, lowercase/numbers/hyphens only, no XML tags\n- `description`: Max 1024 chars, non-empty, no XML tags\n\n### MCP Tool References\nUse fully qualified tool names: `ServerName:tool_name`\n\nExample:\n```markdown\nUse BigQuery:bigquery_schema tool to get schema\nUse GitHub:create_issue tool to create issue\n```\n\n### Runtime Environment\n- Claude accesses files via bash\n- Scripts can be executed without loading content\n- Use forward slashes (all platforms)\n- Use descriptive file names\n\n## Practical Examples\n\n### Good Skill Structure\n\n```\npdf-skill/\n├── SKILL.md              # Main instructions\n├── FORMS.md              # Form filling guide\n├── reference.md          # API reference\n└── scripts/\n    ├── analyze_form.py\n    └── fill_form.py\n```\n\n### Good SKILL.md\n\n```markdown\n---\nname: processing-pdfs\ndescription: Extracts text and tables from PDF files and fills forms. Use when mentioning PDF files, forms, or document extraction.\n---\n\n# PDF Processing\n\n## Quick Start\nExtract text with pdfplumber:\n[Code example]\n\n## Advanced Features\n**Form Filling**: See [FORMS.md](FORMS.md)\n**API Reference**: See [reference.md](reference.md)\n```\n\n## Analogy: Think of Claude as a Robot Exploring Paths\n\n- **Narrow bridge** (low freedom): Provide precise instructions\n- **Open field** (high freedom): Indicate general direction\n",
        "plugins/base/skills/creating-subagent/SKILL.md": "---\nname: creating-subagent\ndescription: Guides creation of custom subagents with YAML frontmatter, system prompts, tool restrictions, and permission modes. Use when creating or configuring subagents.\n---\n\n# Custom Subagent Creation Guide\n\n## Quick Start\n\n**First, ask the user**:\n- Where to create the subagent file?\n  - `.claude/agents/` (project-scoped, shared via git)\n  - `~/.claude/agents/` (user-scoped, personal across all projects)\n\nThen create a `.md` file:\n```markdown\n---\nname: code-reviewer\ndescription: Reviews code for quality and best practices\ntools: Read, Glob, Grep\nmodel: sonnet\n---\n\nYou are a code reviewer. When invoked, analyze the code and provide\nspecific, actionable feedback on quality, security, and best practices.\n```\n\n## Essential Structure\n\n### YAML Frontmatter (Required)\n\n| Field | Required | Description |\n|-------|----------|-------------|\n| `name` | Yes | Unique identifier (lowercase, hyphens) |\n| `description` | Yes | When Claude delegates to this subagent |\n| `tools` | No | Allowed tools (inherits all if omitted) |\n| `disallowedTools` | No | Tools to deny |\n| `model` | No | `sonnet`, `opus`, `haiku`, or `inherit` |\n| `permissionMode` | No | `default`, `acceptEdits`, `dontAsk`, `bypassPermissions`, `plan` |\n| `skills` | No | Skills to inject at startup |\n| `hooks` | No | Lifecycle hooks for this subagent |\n\nSee [frontmatter.md](references/frontmatter.md) for complete reference.\n\n### System Prompt (Body)\n\nThe markdown body becomes the subagent's system prompt. Include:\n1. Role definition\n2. Invocation behavior\n3. Workflow steps\n4. Output format\n\n## Best Practices\n\n### DO\n\n**Write specific descriptions** (Claude uses this for delegation):\n```yaml\n# Good\ndescription: Expert code reviewer. Proactively reviews code for quality, security, and maintainability. Use immediately after writing or modifying code.\n\n# Bad\ndescription: Reviews code\n```\n\n**Restrict tools appropriately**:\n```yaml\n# Good - read-only reviewer\ntools: Read, Grep, Glob, Bash\ndisallowedTools: Write, Edit\n\n# Bad - too permissive for a reviewer\ntools: Read, Write, Edit, Bash\n```\n\n**Specify model based on task complexity**:\n```yaml\n# Fast exploration\nmodel: haiku\n\n# Complex analysis\nmodel: sonnet\n\n# Consistent with main conversation\nmodel: inherit\n```\n\n**Include clear workflow steps**:\n```markdown\nWhen invoked:\n1. Run git diff to see recent changes\n2. Focus on modified files\n3. Begin review immediately\n```\n\n### DON'T\n\n**Don't use bypassPermissions carelessly**:\n```yaml\n# Dangerous - use only when necessary\npermissionMode: bypassPermissions\n```\n\n**Don't make descriptions vague**:\n```yaml\n# Bad\ndescription: Helps with code\n```\n\n**Don't forget to restrict tools for read-only agents**:\n```yaml\n# Bad - reviewer shouldn't have Write/Edit\nname: code-reviewer\ntools: Read, Write, Edit, Grep\n```\n\n## Common Patterns\n\n### Read-Only Reviewer\n\n```markdown\n---\nname: code-reviewer\ndescription: Expert code review specialist. Proactively reviews code for quality, security, and maintainability.\ntools: Read, Grep, Glob, Bash\nmodel: inherit\n---\n\nYou are a senior code reviewer.\n\nWhen invoked:\n1. Run git diff to see recent changes\n2. Focus on modified files\n3. Begin review immediately\n\nReview checklist:\n- Code clarity and readability\n- Proper error handling\n- No exposed secrets\n- Input validation\n- Performance considerations\n\nProvide feedback by priority:\n- Critical issues (must fix)\n- Warnings (should fix)\n- Suggestions (consider improving)\n```\n\n### Debugger (with Edit access)\n\n```markdown\n---\nname: debugger\ndescription: Debugging specialist for errors, test failures, and unexpected behavior. Use proactively when encountering issues.\ntools: Read, Edit, Bash, Grep, Glob\n---\n\nYou are an expert debugger specializing in root cause analysis.\n\nWhen invoked:\n1. Capture error message and stack trace\n2. Identify reproduction steps\n3. Isolate the failure location\n4. Implement minimal fix\n5. Verify solution works\n\nFor each issue, provide:\n- Root cause explanation\n- Evidence supporting diagnosis\n- Specific code fix\n- Prevention recommendations\n```\n\n### Domain Expert\n\n```markdown\n---\nname: data-scientist\ndescription: Data analysis expert for SQL queries, BigQuery operations, and data insights. Use proactively for data analysis tasks.\ntools: Bash, Read, Write\nmodel: sonnet\n---\n\nYou are a data scientist specializing in SQL and BigQuery analysis.\n\nWhen invoked:\n1. Understand the data analysis requirement\n2. Write efficient SQL queries\n3. Use BigQuery CLI tools (bq) when appropriate\n4. Analyze and summarize results\n5. Present findings clearly\n\nKey practices:\n- Write optimized SQL with proper filters\n- Include comments explaining complex logic\n- Format results for readability\n- Provide data-driven recommendations\n```\n\n## Advanced: Hooks\n\nDefine lifecycle hooks within the subagent:\n\n```yaml\n---\nname: code-reviewer\ndescription: Review code changes with automatic linting\nhooks:\n  PreToolUse:\n    - matcher: \"Bash\"\n      hooks:\n        - type: command\n          command: \"./scripts/validate-command.sh $TOOL_INPUT\"\n  PostToolUse:\n    - matcher: \"Edit|Write\"\n      hooks:\n        - type: command\n          command: \"./scripts/run-linter.sh\"\n---\n```\n\nSee [hooks.md](references/hooks.md) for details.\n\n## Quick Reference\n\n| Feature | Syntax | Example |\n|---------|--------|---------|\n| Name | lowercase, hyphens | `code-reviewer` |\n| Tools (allow) | `tools: A, B, C` | `tools: Read, Grep` |\n| Tools (deny) | `disallowedTools: X` | `disallowedTools: Write, Edit` |\n| Model | `model: alias` | `model: haiku` |\n| Permission | `permissionMode: mode` | `permissionMode: plan` |\n\n## Resources\n\n- [frontmatter.md](references/frontmatter.md) - Complete frontmatter reference\n- [hooks.md](references/hooks.md) - Lifecycle hooks reference\n- [examples.md](references/examples.md) - More practical examples\n",
        "plugins/base/skills/creating-subagent/references/examples.md": "# Subagent Examples\n\nPractical examples for common subagent patterns.\n\n## Code Quality\n\n### Code Reviewer (Read-Only)\n\n```markdown\n---\nname: code-reviewer\ndescription: Expert code review specialist. Proactively reviews code for quality, security, and maintainability. Use immediately after writing or modifying code.\ntools: Read, Grep, Glob, Bash\nmodel: inherit\n---\n\nYou are a senior code reviewer ensuring high standards of code quality and security.\n\nWhen invoked:\n1. Run git diff to see recent changes\n2. Focus on modified files\n3. Begin review immediately\n\nReview checklist:\n- Code is clear and readable\n- Functions and variables are well-named\n- No duplicated code\n- Proper error handling\n- No exposed secrets or API keys\n- Input validation implemented\n- Good test coverage\n- Performance considerations addressed\n\nProvide feedback organized by priority:\n- Critical issues (must fix)\n- Warnings (should fix)\n- Suggestions (consider improving)\n\nInclude specific examples of how to fix issues.\n```\n\n### Security Reviewer\n\n```markdown\n---\nname: security-reviewer\ndescription: Security-focused code reviewer for vulnerabilities, injection risks, and auth issues. Use after security-sensitive code changes.\ntools: Read, Grep, Glob, Bash\ndisallowedTools: Write, Edit\nmodel: sonnet\n---\n\nYou are a security expert reviewing code for vulnerabilities.\n\nWhen invoked:\n1. Identify security-sensitive code paths\n2. Check for common vulnerabilities\n3. Report findings with severity ratings\n\nSecurity checklist:\n- SQL injection\n- XSS vulnerabilities\n- CSRF protection\n- Authentication/authorization flaws\n- Sensitive data exposure\n- Insecure deserialization\n- Input validation\n- Cryptographic issues\n\nFor each finding:\n- Severity: Critical/High/Medium/Low\n- Location: File and line\n- Issue: What's wrong\n- Impact: Potential consequences\n- Fix: How to remediate\n```\n\n## Debugging\n\n### Debugger\n\n```markdown\n---\nname: debugger\ndescription: Debugging specialist for errors, test failures, and unexpected behavior. Use proactively when encountering any issues.\ntools: Read, Edit, Bash, Grep, Glob\n---\n\nYou are an expert debugger specializing in root cause analysis.\n\nWhen invoked:\n1. Capture error message and stack trace\n2. Identify reproduction steps\n3. Isolate the failure location\n4. Implement minimal fix\n5. Verify solution works\n\nDebugging process:\n- Analyze error messages and logs\n- Check recent code changes\n- Form and test hypotheses\n- Add strategic debug logging\n- Inspect variable states\n\nFor each issue, provide:\n- Root cause explanation\n- Evidence supporting the diagnosis\n- Specific code fix\n- Testing approach\n- Prevention recommendations\n\nFocus on fixing the underlying issue, not the symptoms.\n```\n\n### Test Fixer\n\n```markdown\n---\nname: test-fixer\ndescription: Fixes failing tests by analyzing errors and updating test code or implementation. Use when tests fail.\ntools: Read, Edit, Bash, Grep, Glob\n---\n\nYou are a test specialist focused on fixing failing tests.\n\nWhen invoked:\n1. Run the failing tests to capture output\n2. Analyze error messages\n3. Determine if the bug is in the test or implementation\n4. Fix the appropriate code\n5. Re-run tests to verify\n\nApproach:\n- Read the test code first\n- Understand what behavior is being tested\n- Check if the expected behavior is correct\n- Fix the test if expectations are wrong\n- Fix the implementation if behavior is wrong\n\nAlways verify the fix by running tests again.\n```\n\n## Domain Specialists\n\n### Data Scientist\n\n```markdown\n---\nname: data-scientist\ndescription: Data analysis expert for SQL queries, BigQuery operations, and data insights. Use proactively for data analysis tasks and queries.\ntools: Bash, Read, Write\nmodel: sonnet\n---\n\nYou are a data scientist specializing in SQL and BigQuery analysis.\n\nWhen invoked:\n1. Understand the data analysis requirement\n2. Write efficient SQL queries\n3. Use BigQuery command line tools (bq) when appropriate\n4. Analyze and summarize results\n5. Present findings clearly\n\nKey practices:\n- Write optimized SQL queries with proper filters\n- Use appropriate aggregations and joins\n- Include comments explaining complex logic\n- Format results for readability\n- Provide data-driven recommendations\n\nFor each analysis:\n- Explain the query approach\n- Document any assumptions\n- Highlight key findings\n- Suggest next steps based on data\n\nAlways ensure queries are efficient and cost-effective.\n```\n\n### API Integrator\n\n```markdown\n---\nname: api-integrator\ndescription: Integrates external APIs by reading documentation and implementing client code. Use when adding new API integrations.\ntools: Read, Write, Edit, Bash, WebFetch\nmodel: sonnet\n---\n\nYou are an API integration specialist.\n\nWhen invoked:\n1. Fetch and analyze API documentation\n2. Understand authentication requirements\n3. Design the client interface\n4. Implement with proper error handling\n5. Add tests for the integration\n\nImplementation standards:\n- Use environment variables for credentials\n- Implement retry logic with backoff\n- Handle rate limiting gracefully\n- Log requests for debugging\n- Validate responses before using\n\nOutput for each integration:\n- Client class/module\n- Type definitions\n- Example usage\n- Error handling guide\n```\n\n## Documentation\n\n### Documentation Writer\n\n```markdown\n---\nname: doc-writer\ndescription: Creates and updates documentation based on code analysis. Use when documentation needs to be created or updated.\ntools: Read, Write, Grep, Glob\nmodel: sonnet\n---\n\nYou are a technical documentation specialist.\n\nWhen invoked:\n1. Analyze the code structure\n2. Identify public APIs and interfaces\n3. Write clear, concise documentation\n4. Include practical examples\n\nDocumentation standards:\n- Start with a brief overview\n- Document all public functions/methods\n- Include parameter descriptions\n- Show common usage examples\n- Note any limitations or gotchas\n\nOutput formats:\n- README.md for project overview\n- API.md for API reference\n- Inline comments for complex logic\n```\n\n## Infrastructure\n\n### DB Reader (Restricted)\n\n```markdown\n---\nname: db-reader\ndescription: Execute read-only database queries for analysis and reporting. Use for database exploration and data analysis.\ntools: Bash\nhooks:\n  PreToolUse:\n    - matcher: \"Bash\"\n      hooks:\n        - type: command\n          command: \"./scripts/validate-readonly-query.sh\"\n---\n\nYou are a database analyst with read-only access.\n\nWhen invoked:\n1. Understand the data requirement\n2. Write efficient SELECT queries\n3. Execute and analyze results\n4. Present findings clearly\n\nRestrictions:\n- Only SELECT queries allowed\n- No INSERT, UPDATE, DELETE, DROP\n- No schema modifications\n\nBest practices:\n- Use appropriate indexes\n- Limit result sets\n- Explain query logic\n- Format output for readability\n```\n\n### Deployment Helper\n\n```markdown\n---\nname: deployer\ndescription: Assists with deployment tasks including builds, migrations, and releases. Use for deployment workflows.\ntools: Bash, Read\npermissionMode: dontAsk\n---\n\nYou are a deployment specialist.\n\nWhen invoked:\n1. Check current deployment status\n2. Run pre-deployment checks\n3. Execute deployment steps\n4. Verify deployment success\n\nPre-deployment checklist:\n- All tests passing\n- No pending migrations\n- Environment variables set\n- Dependencies up to date\n\nPost-deployment verification:\n- Health checks passing\n- No error spike in logs\n- Key features functional\n```\n\n## Research\n\n### Codebase Explorer\n\n```markdown\n---\nname: explorer\ndescription: Explores and maps codebase structure, dependencies, and patterns. Use for understanding unfamiliar code.\ntools: Read, Grep, Glob, Bash\nmodel: haiku\npermissionMode: plan\n---\n\nYou are a codebase exploration specialist.\n\nWhen invoked:\n1. Map the directory structure\n2. Identify key entry points\n3. Trace dependencies\n4. Document patterns and conventions\n\nOutput a summary including:\n- Project structure overview\n- Key files and their purposes\n- Dependency relationships\n- Coding patterns used\n- Areas needing attention\n```\n\n### Dependency Analyzer\n\n```markdown\n---\nname: dep-analyzer\ndescription: Analyzes project dependencies for updates, vulnerabilities, and optimization. Use for dependency management.\ntools: Bash, Read, Grep\nmodel: haiku\n---\n\nYou are a dependency management specialist.\n\nWhen invoked:\n1. List all dependencies\n2. Check for outdated packages\n3. Scan for known vulnerabilities\n4. Identify unused dependencies\n\nReport format:\n- Outdated: package@current -> @latest\n- Vulnerable: package - CVE details\n- Unused: packages not imported\n- Recommendations: priority updates\n```\n",
        "plugins/base/skills/creating-subagent/references/frontmatter.md": "# Frontmatter Reference\n\nComplete reference for subagent YAML frontmatter fields.\n\n## Required Fields\n\n### name\n\nUnique identifier for the subagent.\n\n**Rules**:\n- Lowercase letters, numbers, and hyphens only\n- Maximum 64 characters\n- No XML tags\n\n```yaml\n# Good\nname: code-reviewer\nname: data-scientist\nname: db-reader\n\n# Bad\nname: Code_Reviewer  # uppercase, underscore\nname: my agent       # space\n```\n\n### description\n\nDescribes when Claude should delegate to this subagent.\n\n**Rules**:\n- Maximum 1024 characters\n- Write in third person\n- Be specific about use cases\n\n```yaml\n# Good - specific, actionable\ndescription: Expert code review specialist. Proactively reviews code for quality, security, and maintainability. Use immediately after writing or modifying code.\n\n# Good - includes trigger keywords\ndescription: Data analysis expert for SQL queries, BigQuery operations, and data insights. Use proactively for data analysis tasks and queries.\n\n# Bad - too vague\ndescription: Reviews code\ndescription: Helps with data\n```\n\n## Optional Fields\n\n### tools\n\nSpecifies which tools the subagent can use. If omitted, inherits all tools from main conversation (including MCP tools).\n\n**Available internal tools**:\n- `Read` - Read files\n- `Write` - Create/overwrite files\n- `Edit` - Modify files\n- `Grep` - Search file contents\n- `Glob` - Find files by pattern\n- `Bash` - Execute shell commands\n- `Task` - Spawn subagents (not available to subagents)\n- `WebFetch` - Fetch web content\n- `WebSearch` - Search the web\n- `AskUserQuestion` - Ask clarifying questions\n\n```yaml\n# Allow specific tools\ntools: Read, Grep, Glob, Bash\n\n# Read-only tools\ntools: Read, Grep, Glob\n\n# All tools (explicit)\ntools: Read, Write, Edit, Grep, Glob, Bash, WebFetch, WebSearch\n```\n\n### disallowedTools\n\nTools to deny, removed from inherited or specified list.\n\n```yaml\n# Inherit all but deny Write and Edit\ndisallowedTools: Write, Edit\n\n# Allow Read, Grep, Glob, Bash but deny Edit\ntools: Read, Grep, Glob, Bash, Edit\ndisallowedTools: Edit\n```\n\n### model\n\nThe AI model for this subagent.\n\n| Value | Description |\n|-------|-------------|\n| `sonnet` | Default. Balanced speed and capability |\n| `haiku` | Fast, low-latency. Good for exploration |\n| `opus` | Most capable. Complex reasoning |\n| `inherit` | Same model as main conversation |\n\n```yaml\n# Fast exploration\nmodel: haiku\n\n# Complex analysis\nmodel: sonnet\n\n# Most capable\nmodel: opus\n\n# Match main conversation\nmodel: inherit\n```\n\n### permissionMode\n\nControls how the subagent handles permission prompts.\n\n| Mode | Behavior |\n|------|----------|\n| `default` | Standard permission checks with prompts |\n| `acceptEdits` | Auto-accept file edits |\n| `dontAsk` | Auto-deny permission prompts (allowed tools still work) |\n| `bypassPermissions` | Skip all permission checks (dangerous) |\n| `plan` | Plan mode (read-only exploration) |\n\n```yaml\n# Standard (default)\npermissionMode: default\n\n# Auto-accept edits\npermissionMode: acceptEdits\n\n# Read-only exploration\npermissionMode: plan\n\n# Use with extreme caution\npermissionMode: bypassPermissions\n```\n\n**Note**: If parent uses `bypassPermissions`, it takes precedence and cannot be overridden.\n\n### skills\n\nSkills to inject into subagent context at startup. Full skill content is injected, not just made available for invocation.\n\n**Note**: Subagents do not inherit skills from parent conversation.\n\n```yaml\nskills:\n  - formatting-commit\n  - code-style-guide\n```\n\n### hooks\n\nLifecycle hooks scoped to this subagent. See [hooks.md](hooks.md) for details.\n\n```yaml\nhooks:\n  PreToolUse:\n    - matcher: \"Bash\"\n      hooks:\n        - type: command\n          command: \"./scripts/validate.sh\"\n  PostToolUse:\n    - matcher: \"Edit|Write\"\n      hooks:\n        - type: command\n          command: \"./scripts/lint.sh\"\n  Stop:\n    - hooks:\n        - type: command\n          command: \"./scripts/cleanup.sh\"\n```\n\n## Complete Example\n\n```yaml\n---\nname: secure-reviewer\ndescription: Security-focused code reviewer. Proactively analyzes code for vulnerabilities, injection risks, and authentication issues. Use after security-sensitive changes.\ntools: Read, Grep, Glob, Bash\ndisallowedTools: Write, Edit\nmodel: sonnet\npermissionMode: default\nskills:\n  - security-checklist\nhooks:\n  PreToolUse:\n    - matcher: \"Bash\"\n      hooks:\n        - type: command\n          command: \"./scripts/validate-readonly.sh\"\n---\n```\n",
        "plugins/base/skills/creating-subagent/references/hooks.md": "# Hooks Reference\n\nLifecycle hooks for subagents.\n\n## Hook Types\n\n### In Subagent Frontmatter\n\nHooks defined in the subagent's frontmatter run only while that subagent is active.\n\n| Event | Matcher Input | Fires When |\n|-------|---------------|------------|\n| `PreToolUse` | Tool name | Before subagent uses a tool |\n| `PostToolUse` | Tool name | After subagent uses a tool |\n| `Stop` | (none) | When subagent completes |\n\n### In settings.json\n\nHooks for subagent lifecycle events in the main session.\n\n| Event | Matcher Input | Fires When |\n|-------|---------------|------------|\n| `SubagentStart` | Agent type name | Subagent starts execution |\n| `SubagentStop` | Agent type name | Subagent completes |\n\n## Frontmatter Hook Examples\n\n### Validate Commands Before Execution\n\n```yaml\n---\nname: db-reader\ndescription: Execute read-only database queries\ntools: Bash\nhooks:\n  PreToolUse:\n    - matcher: \"Bash\"\n      hooks:\n        - type: command\n          command: \"./scripts/validate-readonly-query.sh\"\n---\n```\n\nThe validation script inspects `$TOOL_INPUT` and exits non-zero to block write operations.\n\n### Run Linter After File Changes\n\n```yaml\n---\nname: code-fixer\ndescription: Fix code issues with automatic linting\nhooks:\n  PostToolUse:\n    - matcher: \"Edit|Write\"\n      hooks:\n        - type: command\n          command: \"./scripts/run-linter.sh\"\n---\n```\n\n### Cleanup on Completion\n\n```yaml\n---\nname: temp-processor\ndescription: Process files with cleanup on completion\nhooks:\n  Stop:\n    - hooks:\n        - type: command\n          command: \"./scripts/cleanup-temp.sh\"\n---\n```\n\n**Note**: `Stop` hooks in frontmatter are automatically converted to `SubagentStop` events.\n\n## settings.json Hook Examples\n\n### Setup/Cleanup for Specific Subagent\n\n```json\n{\n  \"hooks\": {\n    \"SubagentStart\": [\n      {\n        \"matcher\": \"db-agent\",\n        \"hooks\": [\n          { \"type\": \"command\", \"command\": \"./scripts/setup-db-connection.sh\" }\n        ]\n      }\n    ],\n    \"SubagentStop\": [\n      {\n        \"matcher\": \"db-agent\",\n        \"hooks\": [\n          { \"type\": \"command\", \"command\": \"./scripts/cleanup-db-connection.sh\" }\n        ]\n      }\n    ]\n  }\n}\n```\n\n### Log All Subagent Activity\n\n```json\n{\n  \"hooks\": {\n    \"SubagentStart\": [\n      {\n        \"matcher\": \".*\",\n        \"hooks\": [\n          { \"type\": \"command\", \"command\": \"echo 'Started: $AGENT_TYPE' >> subagent.log\" }\n        ]\n      }\n    ],\n    \"SubagentStop\": [\n      {\n        \"matcher\": \".*\",\n        \"hooks\": [\n          { \"type\": \"command\", \"command\": \"echo 'Stopped: $AGENT_TYPE' >> subagent.log\" }\n        ]\n      }\n    ]\n  }\n}\n```\n\n## Hook Structure\n\n```yaml\nhooks:\n  EventName:\n    - matcher: \"regex-pattern\"  # Optional, matches against tool name or agent type\n      hooks:\n        - type: command\n          command: \"shell command to run\"\n```\n\n## Environment Variables\n\nAvailable in hook commands:\n\n| Variable | Description |\n|----------|-------------|\n| `$TOOL_INPUT` | JSON input to the tool (PreToolUse/PostToolUse) |\n| `$TOOL_OUTPUT` | Tool output (PostToolUse only) |\n| `$AGENT_TYPE` | Subagent type name (SubagentStart/SubagentStop) |\n\n## Use Cases\n\n### Read-Only Database Access\n\nEnsure subagent can only run SELECT queries:\n\n```yaml\n---\nname: db-reader\ndescription: Execute read-only database queries\ntools: Bash\nhooks:\n  PreToolUse:\n    - matcher: \"Bash\"\n      hooks:\n        - type: command\n          command: |\n            if echo \"$TOOL_INPUT\" | grep -iE 'INSERT|UPDATE|DELETE|DROP|CREATE|ALTER'; then\n              echo \"Write operations not allowed\" >&2\n              exit 1\n            fi\n---\n```\n\n### Automatic Formatting\n\nFormat code after every edit:\n\n```yaml\n---\nname: code-writer\ndescription: Write code with automatic formatting\nhooks:\n  PostToolUse:\n    - matcher: \"Edit|Write\"\n      hooks:\n        - type: command\n          command: \"npx prettier --write .\"\n---\n```\n\n### Resource Management\n\nSetup and teardown resources:\n\n```yaml\n---\nname: integration-tester\ndescription: Run integration tests with resource management\nhooks:\n  PreToolUse:\n    - matcher: \"Bash\"\n      hooks:\n        - type: command\n          command: \"./scripts/ensure-test-db.sh\"\n  Stop:\n    - hooks:\n        - type: command\n          command: \"./scripts/cleanup-test-db.sh\"\n---\n```\n",
        "plugins/base/skills/formatting-commit/SKILL.md": "---\nname: formatting-commit\ndescription: Commits code changes with appropriate git commit strategy. Adopts Squash (default), new commit, or Interactive Rebase based on context, and creates messages following Conventional Commits format. Use when implementation is complete or user requests a commit.\n---\n\n# High Quality Commit\n\n## Step 1: Check Branch State\n\n```bash\ngit status\ngit log --oneline --graph origin/main..HEAD\n```\n\n## Step 2: Choose Commit Strategy\n\n### Strategy A: Squash (Default)\n\nSquash into existing commit when changes relate to same theme and no reason to split.\n\n```bash\ngit add -A\ngit commit --amend\n```\n\n### Strategy B: New Commit\n\nCreate new commit when it's the first commit, or changes are independent from existing commits.\n\n```bash\ngit add -A\ngit commit\n```\n\n### Strategy C: Interactive Rebase\n\nReorganize commit history to group small commits, reorder, or clean up WIP commits.\n\n```bash\ngit rebase -i origin/main\n```\n\nOperations: `pick` (keep), `squash` (merge), `reword` (edit message), `drop` (remove)\n\n## Strategy Selection Flowchart\n\n```\nDoes branch have commits?\n  ├─ No → New commit\n  └─ Yes → Same theme as existing commit?\n      ├─ Yes → Squash (git commit --amend)\n      └─ No → Rational to split?\n          ├─ Yes → New commit\n          └─ Want to organize history → Interactive Rebase\n```\n\n## Step 3: Commit Message\n\n### Format (Conventional Commits)\n\n```\n<type>[scope]: <description>\n\n[body]\n\n[footer]\n```\n\n### Types\n\n- `feat`: New feature\n- `fix`: Bug fix\n- `refactor`: Code refactoring\n- `perf`: Performance improvement\n- `test`: Add or modify tests\n- `docs`: Documentation changes\n- `style`: Formatting changes\n- `build`: Build-related changes\n- `ci`: CI configuration\n- `chore`: Other changes\n\n### Guidelines\n\n- **Subject**: Max 50 chars, imperative mood, lowercase start, no period\n- **Body (Optional)**: Explain why (not what), wrap at 72 chars\n- **Footer (Optional)**: `Closes #123`, `BREAKING CHANGE:` or `feat(api)!:`\n\n### Commit with Heredoc\n\n```bash\ngit commit -m \"$(cat <<'EOF'\nfeat(auth): add OAuth2 login flow\n\nImplement OAuth2 authentication to support third-party login providers.\n\nCloses #123\nEOF\n)\"\n```\n\n## Step 4: Verify After Commit\n\n```bash\ngit log -1 --stat\ngit status\n```\n\n## Important Notes\n\n1. **Never execute on main branch**: Always work on feature branches\n2. **Atomic commits**: Each commit should be independently meaningful\n3. **Consistency**: Follow existing project commit style\n4. **Force push**: Use `git push --force-with-lease` after amend\n\n## Detailed Guide\n\nSee [references/examples.md](references/examples.md) for detailed examples and troubleshooting.\n",
        "plugins/base/skills/formatting-commit/references/examples.md": "# High Quality Commit - Examples and Reference\n\nThis document provides detailed examples, best practices, and troubleshooting for high-quality commit creation.\n\n## Table of Contents\n\n- [Detailed Examples](#detailed-examples)\n  - [Example 1: Initial Implementation Commit](#example-1-initial-implementation-commit)\n  - [Example 2: Addressing Review Feedback (Squash)](#example-2-addressing-review-feedback-squash)\n  - [Example 3: Independent Feature Addition (New Commit)](#example-3-independent-feature-addition-new-commit)\n  - [Example 4: Organizing WIP Commits (Interactive Rebase)](#example-4-organizing-wip-commits-interactive-rebase)\n  - [Example 5: Incremental Feature Implementation](#example-5-incremental-feature-implementation)\n  - [Example 6: Bug Fix with Tests](#example-6-bug-fix-with-tests)\n- [Commit Strategy Details](#commit-strategy-details)\n- [Commit Message Best Practices](#commit-message-best-practices)\n- [Common Scenarios](#common-scenarios)\n- [Troubleshooting](#troubleshooting)\n\n## Detailed Examples\n\n### Example 1: Initial Implementation Commit\n\n**Scenario**: Implementing \"Task Management\" feature for the first time\n\n**Steps**:\n\n```bash\n# 1. Check branch status\ngit status\n# On branch feature/task-management\n# Changes not staged for commit:\n#   modified:   src/views/TaskList.tsx\n#   modified:   src/services/tasks.ts\n#   new file:   src/components/TaskCreateForm.tsx\n\ngit log --oneline --graph origin/main..HEAD\n# (no commits yet on this branch)\n\n# 2. Strategy decision: First commit on branch → New commit\n\n# 3. Execute commit\ngit add -A\ngit commit\n```\n\n**Commit Message**:\n\n```\nfeat: add task management feature\n\nImplement task creation and listing functionality:\n- Add TaskCreateForm component with validation\n- Add POST /api/tasks endpoint\n- Integrate form with existing TaskList view\n\nUsers can now create and view tasks with due dates.\n\nCloses #789\n```\n\n### Example 2: Addressing Review Feedback (Squash)\n\n**Scenario**: After PR creation, received feedback to \"add input sanitization for security\"\n\n**Steps**:\n\n```bash\n# 1. Check current commits\ngit log --oneline --graph origin/main..HEAD\n# * b3c4d5e feat: add task management feature\n\n# 2. Fix the issue\n# Edit src/components/TaskCreateForm.tsx...\n\n# 3. Strategy decision: Same theme as existing commit → Squash\n\n# 4. Merge into existing commit\ngit add -A\ngit commit --amend\n```\n\n**Updated Commit Message**:\n\n```\nfeat: add task management feature\n\nImplement task creation and listing functionality:\n- Add TaskCreateForm component with enhanced security\n- Add POST /api/tasks endpoint\n- Integrate form with existing TaskList view\n\nSecurity improvements:\n- Input sanitization for XSS prevention\n- Title length validation (1-200 chars)\n- Description content filtering\n\nUsers can now create and view tasks with due dates.\n\nCloses #789\n```\n\n```bash\n# 5. Force push (update PR)\ngit push --force-with-lease\n```\n\n### Example 3: Independent Feature Addition (New Commit)\n\n**Scenario**: After implementing task management, separately adding \"Notification System\"\n\n**Steps**:\n\n```bash\n# 1. Check current commits\ngit log --oneline --graph origin/main..HEAD\n# * b3c4d5e feat: add task management feature\n\n# 2. Implement notification system\n# ...\n\n# 3. Strategy decision: Independent from existing commit → New commit\n\n# 4. Create new commit\ngit add -A\ngit commit\n```\n\n**Commit Message**:\n\n```\nfeat: add notification system\n\nImplement real-time notification functionality:\n- Add notification service with WebSocket\n- Add POST /api/notifications endpoint\n- Add notification bell icon with counter\n- Store notifications in local cache\n\nSupports task updates, mentions, and deadline alerts.\n\nCloses #812\n```\n\n```bash\n# 5. Verify result\ngit log --oneline --graph origin/main..HEAD\n# * f7g8h9i feat: add notification system\n# * b3c4d5e feat: add task management feature\n```\n\n### Example 4: Organizing WIP Commits (Interactive Rebase)\n\n**Scenario**: Created many small commits during development. Want to organize before PR.\n\n**Current Commit History**:\n\n```bash\ngit log --oneline --graph origin/main..HEAD\n# * k9l0m1n WIP: fix styling\n# * h6i7j8k WIP: add sorting\n# * e3f4g5h feat: add dashboard component\n# * b0c1d2e WIP: try different layout\n# * y8z9a0b feat: add chart model\n# * v5w6x7y fix: data type\n```\n\n**Steps**:\n\n```bash\n# 1. Start interactive rebase\ngit rebase -i origin/main\n\n# 2. Editor opens\n```\n\n**Editor Changes**:\n\nBefore:\n```\npick y8z9a0b feat: add chart model\npick v5w6x7y fix: data type\npick b0c1d2e WIP: try different layout\npick e3f4g5h feat: add dashboard component\npick h6i7j8k WIP: add sorting\npick k9l0m1n WIP: fix styling\n```\n\nAfter:\n```\npick y8z9a0b feat: add chart model\nsquash v5w6x7y fix: data type\ndrop b0c1d2e WIP: try different layout\npick e3f4g5h feat: add dashboard component\nsquash h6i7j8k WIP: add sorting\nsquash k9l0m1n WIP: fix styling\n```\n\n**Edit Commit Messages**:\n\n**First commit:**\n```\nfeat: add data visualization model\n\nDefine chart data structure with TypeScript:\n- Chart interface with configuration options\n- Data transformation utilities\n- Type-safe rendering methods\n\nSupports bar, line, and pie chart types.\n```\n\n**Second commit:**\n```\nfeat: add analytics dashboard\n\nImplement dashboard UI component:\n- Widget grid layout with responsive design\n- Interactive chart rendering\n- Real-time data updates\n\nUsers can visualize project metrics with customizable charts.\n```\n\n**Result**:\n\n```bash\ngit log --oneline --graph origin/main..HEAD\n# * p3q4r5s feat: add analytics dashboard\n# * m0n1o2p feat: add data visualization model\n\n# Clean history achieved!\n```\n\n### Example 5: Incremental Feature Implementation\n\n**Scenario**: Implementing large \"Search Functionality\" feature incrementally (Model → API → UI)\n\n**Step 1: Model Implementation**\n\n```bash\n# Implementation...\n\ngit add src/models/\ngit commit -m \"feat: add search model\n\nDefine search data structures:\n- Query interface with filter options\n- SearchResult type definitions\n- Pagination utilities\n\nProvides type-safe search operations.\"\n\ngit push\n```\n\n**Step 2: API Implementation**\n\n```bash\n# Implementation...\n\ngit add src/api/search.ts\ngit commit -m \"feat: add search API endpoints\n\nImplement search REST API:\n- GET /api/search - Execute search query\n- GET /api/search/suggest - Get autocomplete suggestions\n- POST /api/search/history - Save search history\n- GET /api/search/filters - Get available filters\n\nUses full-text indexing for fast search results.\"\n\ngit push\n```\n\n**Step 3: UI Implementation**\n\n```bash\n# Implementation...\n\ngit add src/components/search/\ngit commit -m \"feat: add search UI components\n\nImplement search user interface:\n- SearchBar component with autocomplete\n- Filter panel with dynamic options\n- Result list with pagination\n- Search history dropdown\n\nProvides comprehensive search experience.\"\n\ngit push\n```\n\n**Final History**:\n\n```bash\ngit log --oneline --graph origin/main..HEAD\n# * t6u7v8w feat: add search UI components\n# * q3r4s5t feat: add search API endpoints\n# * n0p1q2r feat: add search model\n\n# Each commit is independently reviewable\n# Each commit can be built and tested independently\n```\n\n### Example 6: Bug Fix with Tests\n\n**Scenario**: Found bug in URL validation, fixing and adding tests\n\n**Steps**:\n\n```bash\n# 1. Check current work\ngit status\n# On branch fix/url-validation\n\n# 2. Fix bug and add tests\n# Modified src/utils/validators.ts\n# Added src/utils/validators.test.ts\n\n# 3. Commit\ngit add -A\ngit commit\n```\n\n**Commit Message**:\n\n```\nfix: correct URL validation for special characters\n\nFix URL validation to properly handle query parameters and fragments.\nPreviously, URLs with encoded characters were incorrectly rejected.\n\nChanges:\n- Update validation regex to support URL encoding\n- Add comprehensive test cases for edge cases\n\nCloses #921\n```\n\n## Commit Strategy Details\n\n### Squash Strategy (Default)\n\n**When to use:**\n- Continuously developing with repeated feature additions or bug fixes\n- Addressing review feedback or making adjustments\n- Grouping multiple related changes into one\n\n**Benefits:**\n- Clean branch commit history\n- Easy to review as single logical change\n- Organized history when PR is merged\n\n**Execution:**\n\n```bash\n# Stage changes\ngit add -A\n\n# Merge into previous commit (edit message)\ngit commit --amend\n\n# Or merge without changing message\ngit commit --amend --no-edit\n```\n\n**Notes:**\n- Force push required after amending pushed commits\n- In team development, verify no one is based on that commit\n\n### New Commit Strategy\n\n**When to use:**\n- Adding clearly different features or fixes\n- Splitting commits improves history understanding\n- Each commit can be independently built and tested\n\n**Benefits:**\n- Detailed change history\n- Easy problem tracking with git bisect\n- Can revert specific changes\n\n**Execution:**\n\n```bash\n# Stage changes\ngit add -A\n\n# Create new commit\ngit commit -m \"feat: add real-time sync\n\nImplement real-time data synchronization:\n- Add WebSocket connection manager\n- Add conflict resolution logic\n- Add offline queue handling\n\nCloses #567\"\n```\n\n### Interactive Rebase Strategy\n\n**When to use:**\n- Want to organize commit history before PR\n- Want to logically group small commits\n- Want to change commit order\n- Want to remove unnecessary commits (WIP, fixup, etc.)\n\n**Benefits:**\n- Create clean, meaningful commit history\n- Easier for reviewers to understand\n- Organized main branch history\n\n**Execution:**\n\n```bash\n# Interactive rebase with diff from main\ngit rebase -i origin/main\n\n# Or rebase last N commits\ngit rebase -i HEAD~3\n```\n\n**Editor operations:**\n\n```\npick abc1234 feat: add data model\npick def5678 fix: typo in model\npick ghi9012 feat: add controller\npick jkl3456 fix: validation\n\n# ↓ Edit as follows\n\npick abc1234 feat: add data model\nsquash def5678 fix: typo in model\npick ghi9012 feat: add controller\nsquash jkl3456 fix: validation\n```\n\nResult: Merged into 2 logical commits\n\n## Commit Message Best Practices\n\n### Good Commit Message Examples\n\n```\nfeat: add export functionality\n\nAllow users to export data in multiple formats:\n- CSV export with custom column selection\n- JSON export with nested structures\n- PDF export with formatted tables\n- Excel export with multiple sheets\n\nImplemented with streaming for large datasets.\n\nCloses #445\n```\n\n### Bad Commit Message Examples\n\n```\n# Bad example 1: Unclear\nupdate stuff\n\n# Bad example 2: Too detailed implementation\nChanged DataService.ts line 67 to use Promise.all instead of sequential awaits\n\n# Bad example 3: Multiple unrelated changes\nFix memory leak and add caching and update dependencies\n```\n\n### Type Selection Guide\n\n- **feat**: User-visible new feature\n- **fix**: User-affecting bug fix\n- **refactor**: Code improvement without behavior change\n- **perf**: Performance improvement\n- **test**: Test addition/modification\n- **docs**: Documentation-only changes\n- **style**: Code formatting, semicolons, etc.\n- **chore**: Build, dependency updates, etc.\n\n## Common Scenarios\n\n### Scenario 1: Addressing Review Feedback\n\n**Situation:** PR has review comments, fixes needed\n\n**Recommended strategy:** Squash\n\n```bash\n# Make fixes\n# ...\n\n# Merge into existing commit\ngit add -A\ngit commit --amend\n\n# Force push (update PR)\ngit push --force-with-lease\n```\n\n### Scenario 2: Incremental Implementation of Large Feature\n\n**Situation:** Implementing large feature in multiple steps\n\n**Recommended strategy:** New commit (per step)\n\n```bash\n# Step 1: Create foundation\ngit add src/core/\ngit commit -m \"feat: add core infrastructure\"\n\n# Step 2: Implement business logic\ngit add src/services/\ngit commit -m \"feat: add business logic layer\"\n\n# Step 3: Implement presentation\ngit add src/components/\ngit commit -m \"feat: add UI components\"\n```\n\n### Scenario 3: Organizing WIP Commits\n\n**Situation:** Created many WIP commits during development\n\n**Recommended strategy:** Interactive Rebase\n\n```bash\n# Check WIP commits\ngit log --oneline\n\n# Organize with interactive rebase\ngit rebase -i origin/main\n\n# In editor, change unnecessary commits to squash/fixup\n# Keep only meaningful commits\n```\n\n## Troubleshooting\n\n### Problem: Cannot push amended commit\n\n**Cause:** Remote history differs\n\n**Solution:**\n\n```bash\n# Safe force push\ngit push --force-with-lease\n```\n\n### Problem: Conflict during rebase\n\n**Solution:**\n\n```bash\n# Resolve conflict\n# Edit files...\n\n# Continue rebase after resolution\ngit add .\ngit rebase --continue\n\n# Or abort\ngit rebase --abort\n```\n\n### Problem: Accidentally amended wrong commit\n\n**Solution:**\n\n```bash\n# Check previous state with reflog\ngit reflog\n\n# Return to previous commit\ngit reset --hard HEAD@{1}\n```\n\n## Summary\n\nTwo principles for high-quality commits:\n\n1. **Choose appropriate strategy**: Squash (default), new commit (independent changes), Rebase (organize history)\n2. **Clear messages**: Describe why the change was necessary\n\nFollowing these improves team development efficiency and future maintainability.\n",
        "plugins/base/skills/splitting-commit/SKILL.md": "---\nname: splitting-commit\ndescription: Split large changes into logical commits by semantic meaning. Use when handling large features or refactors that should be split into focused commits.\n---\n\n# Split Commit Workflow\n\nSplit large changes into logical commits organized by semantic meaning. This ensures each commit represents a single, cohesive unit of work.\n\n## Workflow Steps\n\n1. **Analyze Changes**\n   - Run `git status` to identify all modified, added, and deleted files\n   - Run `git diff` to review the full scope of changes\n   - Group files by their semantic purpose (features, fixes, refactors, docs, etc.)\n\n2. **Identify Semantic Groups**\n   - Group related changes together logically\n   - Ensure each group has a clear, single purpose\n   - Consider dependencies between groups (e.g., fix before feature that uses it)\n\n3. **Interactive Selection**\n   - For each semantic group, use `git add <files>` to stage relevant files\n   - Review staged changes with `git diff --cached`\n   - **Invoke `formatting-commit` skill** to create properly formatted commit\n   - Repeat for each semantic group\n\n4. **Commit Creation**\n   For each semantic group, use the `formatting-commit` skill to ensure Conventional Commits compliance.\n   The skill provides detailed guidance on commit format, types, and best practices.\n\n## Best Practices\n\n- **One concern per commit**: Each commit should represent a single logical unit\n- **Atomic changes**: Commits should be testable and deployable independently\n- **Clear messages**: Messages should explain why, not just what\n- **Logical ordering**: Commits should flow from foundation to features\n- **Test verification**: Each commit should pass tests independently\n\n## Example Workflow\n\nGiven changes across auth, API, and docs:\n\n1. **First commit** - `fix(auth): handle token expiration`\n2. **Second commit** - `feat(api): add user profile endpoint`\n3. **Third commit** - `docs(api): add authentication guide`\n4. **Fourth commit** - `refactor(core): extract validation utilities`\n\n## Common Patterns\n\n### Feature with tests\n```\nfeat(feature): implement new functionality\ntest(feature): add unit tests for new feature\n```\n\n### Bug fix with docs\n```\nfix(bug): resolve issue with edge case\ndocs(bug): document expected behavior\n```\n\n### Refactor with improvements\n```\nrefactor(module): extract shared logic\nperf(module): optimize performance after refactoring\n```\n",
        "plugins/base/skills/using-serena/SKILL.md": "---\nname: using-serena\ndescription: Serena MCP expert for efficient code editing and analysis. Use when starting projects, editing code, or refactoring. Prioritize symbol-based operations over full-file reads.\n---\n\n# Serena MCP Expert Guide\n\nSerena is an MCP server for efficient code navigation and editing through LSP-based symbol operations.\n\n## When to Use\n\n- **Project initialization (required)**: When `.serena` directory doesn't exist\n- **Code editing/analysis (priority)**: Use symbol-based operations instead of reading entire files\n- **Refactoring**: Analyze dependencies before making changes\n\n## Core Principles\n\n1. **Full-file read is last resort**: Search symbols first with Serena\n2. **Token efficiency**: Symbol-based operations drastically reduce token usage\n3. **Validation before changes**: Always call `think_about_task_adherence()` before editing\n4. **Use regex mode**: Prefer `replace_content` with regex mode and wildcards\n5. **Worktree usage**: Copy `.serena` from parent directory (`cp -r ../.serena .serena`)\n\n## Essential Workflow\n\n### 1. Project Initialization (First time only)\n\n```bash\nls -la .serena\n\n# If not exists\nmcp__serena__activate_project(project=\".\")\nmcp__serena__check_onboarding_performed()\nmcp__serena__onboarding()  # If not performed\n```\n\n### 2. Code Analysis\n\n#### Get Symbol Overview\n\n```\nmcp__serena__get_symbols_overview(\n  relative_path=\"src/file.ts\",\n  depth=0  # 0=top-level only, 1=includes direct children\n)\n```\n\n#### Find Symbols\n\n```\n# Search by name path pattern\nmcp__serena__find_symbol(\n  name_path_pattern=\"ClassName/methodName\",  # Relative path\n  name_path_pattern=\"/ClassName/methodName\", # Absolute path (exact match)\n  name_path_pattern=\"methodName\",            # Simple name\n  relative_path=\"src/\",                      # Restrict search scope\n  include_body=True,                         # Include source code\n  depth=1,                                   # Include children\n  substring_matching=True                    # Substring search\n)\n```\n\n#### Analyze Dependencies\n\n```\nmcp__serena__find_referencing_symbols(\n  name_path=\"functionName\",\n  relative_path=\"src/file.ts\"  # File specification required\n)\n```\n\n#### Pattern Search\n\n```\nmcp__serena__search_for_pattern(\n  substring_pattern=\"TODO|FIXME\",           # Regex pattern\n  relative_path=\"src/\",                     # Search scope\n  paths_include_glob=\"*.ts\",                # Include files\n  paths_exclude_glob=\"*test*\",              # Exclude files\n  restrict_search_to_code_files=True,       # Code files only\n  context_lines_before=2,                   # Context lines\n  context_lines_after=2\n)\n```\n\n### 3. Code Editing\n\n#### Replace Symbol Body (Recommended)\n\n```\nmcp__serena__replace_symbol_body(\n  name_path=\"methodName\",\n  relative_path=\"src/file.ts\",\n  body=\"function methodName() { ... }\"  # Include signature, exclude docstring/imports\n)\n```\n\n#### Replace Content (Flexible)\n\n```\nmcp__serena__replace_content(\n  relative_path=\"src/file.ts\",\n  needle=\"beginning.*?end\",  # Regex recommended\n  repl=\"new content\",\n  mode=\"regex\",              # \"literal\" or \"regex\"\n  allow_multiple_occurrences=False\n)\n```\n\n#### Insert Before/After Symbol\n\n```\n# Add import statements\nmcp__serena__insert_before_symbol(\n  name_path=\"firstSymbol\",\n  relative_path=\"src/file.ts\",\n  body=\"import { X } from 'y';\\n\"\n)\n\n# Add new method\nmcp__serena__insert_after_symbol(\n  name_path=\"lastMethod\",\n  relative_path=\"src/file.ts\",\n  body=\"\\n  newMethod() { ... }\"\n)\n```\n\n#### Rename Symbol\n\n```\nmcp__serena__rename_symbol(\n  name_path=\"oldName\",\n  relative_path=\"src/file.ts\",\n  new_name=\"newName\"  # Changes across entire codebase\n)\n```\n\n### 4. File Operations\n\n```\n# List directory\nmcp__serena__list_dir(relative_path=\"src/\", recursive=True)\n\n# Find files\nmcp__serena__find_file(file_mask=\"*.test.ts\", relative_path=\"src/\")\n\n# Read file (only when symbol operations are not possible)\nmcp__serena__read_file(\n  relative_path=\"config.json\",\n  start_line=0,\n  end_line=50\n)\n\n# Create/overwrite file\nmcp__serena__create_text_file(\n  relative_path=\"src/new-file.ts\",\n  content=\"// content\"\n)\n```\n\n### 5. Project Knowledge Management (Memory)\n\n```\n# List memories\nmcp__serena__list_memories()\n\n# Read memory\nmcp__serena__read_memory(memory_file_name=\"architecture.md\")\n\n# Write memory\nmcp__serena__write_memory(\n  memory_file_name=\"decisions.md\",\n  content=\"# Design Decisions\\n...\"\n)\n\n# Edit memory\nmcp__serena__edit_memory(\n  memory_file_name=\"decisions.md\",\n  needle=\"old text\",\n  repl=\"new text\",\n  mode=\"literal\"  # or \"regex\"\n)\n\n# Delete memory\nmcp__serena__delete_memory(memory_file_name=\"outdated.md\")\n```\n\n### 6. Thinking Tools\n\n```\n# Call after gathering information\nmcp__serena__think_about_collected_information()\n\n# Call before code changes (required)\nmcp__serena__think_about_task_adherence()\n\n# Call when task is complete\nmcp__serena__think_about_whether_you_are_done()\n```\n\n### 7. Other Operations\n\n```\n# Execute shell command\nmcp__serena__execute_shell_command(\n  command=\"npm run build\",\n  cwd=None  # None = project root\n)\n\n# Get current configuration\nmcp__serena__get_current_config()\n\n# Switch modes\nmcp__serena__switch_modes(modes=[\"editing\", \"interactive\"])\n```\n\n## LSP Symbol Kinds\n\nFor `include_kinds`/`exclude_kinds` parameters:\n\n| Value | Kind | Value | Kind |\n|-------|------|-------|------|\n| 1 | file | 14 | constant |\n| 2 | module | 15 | string |\n| 3 | namespace | 16 | number |\n| 4 | package | 17 | boolean |\n| 5 | class | 18 | array |\n| 6 | method | 19 | object |\n| 7 | property | 20 | key |\n| 8 | field | 21 | null |\n| 9 | constructor | 22 | enum member |\n| 10 | enum | 23 | struct |\n| 11 | interface | 24 | event |\n| 12 | function | 25 | operator |\n| 13 | variable | 26 | type parameter |\n\n## Best Practices\n\n- Always initialize project before using other tools\n- Use symbol operations before reading entire files\n- Call thinking tools at appropriate stages\n- Use regex mode for flexible content replacement\n- Store architectural decisions and patterns in memory\n- Analyze dependencies before refactoring\n\n## Reference\n\nOfficial documentation: https://oraios.github.io/serena/_sources/02-usage/050_configuration.md\n"
      },
      "plugins": [
        {
          "name": "base",
          "source": "./plugins/base",
          "description": "Base toolset for personal development workflow and utilities",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add kkhys/claude-code-marketplace",
            "/plugin install base@my-marketplace"
          ]
        }
      ]
    }
  ]
}