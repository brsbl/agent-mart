{
  "author": {
    "id": "eli0shin",
    "display_name": "Eli Oshinsky",
    "avatar_url": "https://avatars.githubusercontent.com/u/22717000?u=60f71d8623116e0edba0060e16970597b9523ba7&v=4"
  },
  "marketplaces": [
    {
      "name": "cli-lsp-client-plugins",
      "version": null,
      "description": "Claude Code plugins for CLI LSP Client integration",
      "repo_full_name": "eli0shin/cli-lsp-client",
      "repo_url": "https://github.com/eli0shin/cli-lsp-client",
      "repo_description": "CLI tool for getting LSP diagnostics via background daemon",
      "signals": {
        "stars": 42,
        "forks": 6,
        "pushed_at": "2026-01-02T14:25:52Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"cli-lsp-client-plugins\",\n  \"owner\": {\n    \"name\": \"Eli Oshinsky\",\n    \"email\": \"elimelech.oshinsky@gmail.com\"\n  },\n  \"metadata\": {\n    \"description\": \"Claude Code plugins for CLI LSP Client integration\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"lsp-plugin\",\n      \"source\": \"./claude-plugins/lsp-plugin\",\n      \"description\": \"Integrates CLI LSP Client with Claude Code using hooks for real-time language server updates\"\n    },\n    {\n      \"name\": \"eslint-plugin\",\n      \"source\": \"./claude-plugins/eslint-plugin\",\n      \"description\": \"Automatically runs ESLint checks on JavaScript/TypeScript files after edits\"\n    },\n    {\n      \"name\": \"prettier-plugin\",\n      \"source\": \"./claude-plugins/prettier-plugin\",\n      \"description\": \"Automatically formats files with Prettier after edits\"\n    }\n  ]\n}\n",
        "README.md": "# cli-lsp-client\n\nCLI tool for getting LSP diagnostics. Uses a background daemon to keep LSP servers running.\n\n## Features\n\n- Get diagnostics from LSP servers\n- Get hover information for symbols (functions, variables, types)\n- Background daemon for fast repeated requests\n- Built in Claude Code hook to provide feedback on file edit tool calls\n- Comprehensive daemon management (`list`, `stop-all` commands)\n- Multi-project support with isolated daemon instances per directory\n- [Custom language server support via config files](#custom-language-servers-config-file)\n\n## Supported Languages\n\n| Language              | LSP Server                     | Auto-installed                       | Notes                                                                                                                                        |\n| --------------------- | ------------------------------ | ------------------------------------ | -------------------------------------------------------------------------------------------------------------------------------------------- |\n| TypeScript/JavaScript | `typescript-language-server`   | ✓ (via bunx)                         | `.ts`, `.tsx`, `.js`, `.jsx`, `.mjs`, `.cjs`, `.mts`, `.cts`                                                                                 |\n| Python                | `pyright-langserver`           | ✓ (via bunx)                         | `.py`, `.pyi`                                                                                                                                |\n| JSON                  | `vscode-json-language-server`  | ✓ (via vscode-langservers-extracted) | `.json`, `.jsonc` - includes schema validation                                                                                               |\n| CSS                   | `vscode-css-language-server`   | ✓ (via vscode-langservers-extracted) | `.css`, `.scss`, `.sass`, `.less`                                                                                                            |\n| YAML                  | `yaml-language-server`         | ✓ (via bunx)                         | `.yaml`, `.yml` - includes schema validation                                                                                                 |\n| Bash/Shell            | `bash-language-server`         | ✓ (via bunx)                         | `.sh`, `.bash`, `.zsh` - **requires shellcheck** (`brew install shellcheck`)                                                                 |\n| GraphQL               | `graphql-language-service-cli` | ✓ (via bunx)                         | `.graphql`, `.gql`                                                                                                                           |\n| **R**                 | **R languageserver**           | **✗**                                | **`.r`, `.R`, `.rmd`, `.Rmd` - see [R Installation](#r-installation-guide) below**                                                           |\n| **C#**                | **OmniSharp-Roslyn**           | **✗**                                | **`.cs` - see [C# Installation](#c-installation-guide) below**                                                                               |\n| **Swift**             | **SourceKit-LSP**              | **✗**                                | **`.swift` - see [Swift Configuration](#swift-configuration) below**                                                                         |\n| Go                    | `gopls`                        | ✗                                    | Requires manual install: `go install golang.org/x/tools/gopls@latest`                                                                        |\n| Java                  | `jdtls` (Eclipse JDT)          | ✗                                    | `.java` - see [Java Installation](#java-installation-guide) below                                                                            |\n| Lua                   | `lua-language-server`          | ✗                                    | `.lua` - requires manual install via package manager (brew, scoop) or from [releases](https://github.com/LuaLS/lua-language-server/releases) |\n\n## How It Works\n\n- Daemon starts automatically when needed\n- LSP servers spawn based on file type\n- Finds project roots using config files (tsconfig.json, etc.)\n- Servers stay running for subsequent requests\n\n## Claude Code Integration\n\n### Plugin Installation (Recommended)\n\nThe easiest way to integrate with Claude Code is via the official plugin:\n\n```bash\n# Add the plugin marketplace\n/plugin marketplace add eli0shin/cli-lsp-client\n\n# Install the plugin\n/plugin install lsp-plugin\n```\n\nThis automatically configures:\n\n- **SessionStart hook**: Starts the LSP daemon when Claude Code starts\n- **PostToolUse hook**: Runs diagnostics after file edits (Edit, Write, MultiEdit)\n\nNo manual configuration needed - the plugin handles everything!\n\n**Additional plugins available:**\n\n- `eslint-plugin`: Automatically runs ESLint checks on file edits and blocks on linting errors\n- `prettier-plugin`: Automatically formats files with Prettier after edits\n\n### MCP Server\n\nAdd as an MCP server to enable Claude to access symbol definitions and hover information:\n\n```bash\nclaude mcp add lsp --scope user -- bunx cli-lsp-client mcp-server\n```\n\n### Manual Hook Configuration\n\nFor advanced users who want to customize their hook setup, you can manually configure Claude Code to use the built-in hook commands.\n\nGet instant diagnostic feedback for TypeScript, Python, JSON, CSS, YAML, Bash, GraphQL, R, C#, Swift, Go, Java, and Lua files as you edit in Claude Code.\n\n#### Setup\n\nAdd the following to your Claude Code settings.json:\n\n```json\n{\n  \"$schema\": \"https://json.schemastore.org/claude-code-settings.json\",\n  \"hooks\": {\n    \"SessionStart\": [\n      {\n        \"matcher\": \"startup|resume\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"bunx cli-lsp-client start\"\n          }\n        ]\n      }\n    ],\n    \"PreToolUse\": [\n      {\n        \"matcher\": \"Edit|MultiEdit|Write\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"bunx cli-lsp-client claude-code-hook\"\n          }\n        ]\n      }\n    ],\n    \"PostToolUse\": [\n      {\n        \"matcher\": \"Edit|MultiEdit|Write\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"bunx cli-lsp-client claude-code-hook\"\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\n#### How It Works\n\n- **SessionStart**: Automatically starts LSP servers when Claude Code starts for faster initial diagnostics\n- **PreToolUse**: Opens the file in the LSP (like an IDE would) to improve diagnostic accuracy\n- **PostToolUse**: Runs diagnostics after each file edit (Edit, MultiEdit, Write tools)\n- Built-in file filtering for all supported languages (16 file types)\n- Shows errors, warnings, and hints inline\n- Graceful error handling - never breaks your editing experience\n- Uses the same fast daemon as the regular diagnostics command\n\n#### Example Output\n\nWhen you save a file with errors, you'll see immediate feedback:\n\n```\nEdit operation feedback:\n- [bunx cli-lsp-client claude-code-hook]:\nERROR at line 3, column 9:\n  Type 'number' is not assignable to type 'string'.\n  Source: typescript\n  Code: 2322\n```\n\n## Custom Language Servers (Config File)\n\nYou can extend the built-in language servers by creating a custom configuration file. This allows you to add support for any LSP server not included by default.\n\n### Configuration File\n\nCreate a config file at `~/.config/cli-lsp-client/settings.json` (default location) or use `--config-file` to specify a custom path:\n\n```json\n{\n  \"servers\": [\n    {\n      \"id\": \"svelte\",\n      \"extensions\": [\".svelte\"],\n      \"rootPatterns\": [\"svelte.config.js\", \"package.json\"],\n      \"command\": [\"bunx\", \"svelte-language-server\", \"--stdio\"],\n      \"env\": {\n        \"NODE_ENV\": \"development\"\n      },\n      \"initialization\": {\n        \"settings\": {\n          \"svelte\": {\n            \"compilerWarnings\": true\n          }\n        }\n      }\n    }\n  ],\n  \"languageExtensions\": {\n    \".svelte\": \"svelte\"\n  }\n}\n```\n\n### Using Custom Config\n\n**Default config file location:**\n\n```bash\n# Uses ~/.config/cli-lsp-client/settings.json automatically\nnpx cli-lsp-client diagnostics Component.svelte\n```\n\n**Custom config file location:**\n\n```bash\n# Specify custom config file path\nnpx cli-lsp-client --config-file ./my-config.json diagnostics Component.svelte\nnpx cli-lsp-client --config-file ./my-config.json hover Component.svelte myFunction\nnpx cli-lsp-client --config-file ./my-config.json status\n```\n\n**Important:** When using `--config-file`, you must include it on every command. The CLI automatically restarts the daemon when switching between different config files to ensure the correct language servers are loaded.\n\n### Config File Schema\n\n- `servers`: Array of custom language server definitions\n  - `id`: Unique identifier for the server\n  - `extensions`: File extensions this server handles (e.g. `[\".svelte\"]`)\n  - `rootPatterns`: Files/patterns used to detect project root (e.g. `[\"package.json\"]`)\n  - `command`: Command array to start the LSP server (e.g. `[\"bunx\", \"svelte-language-server\", \"--stdio\"]`)\n  - `env`: Optional environment variables for the server process\n  - `initialization`: Optional LSP initialization parameters\n\n- `languageExtensions`: Maps file extensions to LSP language identifiers\n\n## Usage\n\n### Get Diagnostics\n\n```bash\n# Check a TypeScript file\nnpx cli-lsp-client diagnostics src/example.ts\n\n# Check any supported file type\nnpx cli-lsp-client diagnostics app.py\nnpx cli-lsp-client diagnostics main.go\nnpx cli-lsp-client diagnostics analysis.R\nnpx cli-lsp-client diagnostics Program.cs\n\n# Check Swift files (requires config file)\nnpx cli-lsp-client diagnostics Sources/App/main.swift\n```\n\nExit codes: 0 for no issues, 2 for issues found.\n\n```bash\n$ npx cli-lsp-client diagnostics error.ts\nERROR at line 5, column 20:\n  Argument of type 'string' is not assignable to parameter of type 'number'.\n  Source: typescript\n  Code: 2345\n```\n\n### Get Hover Information\n\n```bash\n# Get hover info for a function\nnpx cli-lsp-client hover src/main.ts myFunction\n\n# Get hover info for a variable or type\nnpx cli-lsp-client hover app.py MyClass\nnpx cli-lsp-client hover analysis.R mean\nnpx cli-lsp-client hover Program.cs Console\n\n# Get hover info for Swift symbols (requires config file)\nnpx cli-lsp-client hover Sources/App/main.swift greetUser\n```\n\n````bash\n$ npx cli-lsp-client hover src/client.ts runCommand\nLocation: src/client.ts:370:17\n```typescript\nexport function runCommand(command: string, commandArgs: string[]): Promise<void>\n````\n\n````\n\n### Daemon Management\n\n```bash\n# Check daemon status with uptime and running language servers\nnpx cli-lsp-client status\n\n# List all running daemons across directories\nnpx cli-lsp-client list\n\n# Stop current directory's daemon\nnpx cli-lsp-client stop\n\n# Stop all daemons across all directories (useful after package updates)\nnpx cli-lsp-client stop-all\n\n# Show version\nnpx cli-lsp-client --version\n\n# Show help\nnpx cli-lsp-client help\n````\n\nThe `status` command shows the current daemon's uptime and running language servers:\n\n```bash\n$ npx cli-lsp-client status\nLSP Daemon Status\n================\nPID: 33502\nUptime: 1m 38s\n\nLanguage Servers:\n- typescript (.) - running 1m 33s\n- pyright (.) - running 1m 10s\n\nTotal: 2 language servers running\n```\n\nThe `list` command shows all running daemon instances with their working directories, PIDs, and status:\n\n```bash\n$ npx cli-lsp-client list\n\nRunning Daemons:\n================\nHash   | PID   | Status    | Working Directory\n----------------------------------------------------------\nh0gx9u | 12345 | ● Running | /Users/user/project-a\n94yi9w | 12346 | ● Running | /Users/user/project-b\n\n2/2 daemon(s) running\n```\n\nUse `stop-all` when updating the CLI package to ensure all old daemon processes are terminated and fresh ones spawn with the updated code.\n\n## Java Installation Guide\n\nEclipse JDT Language Server requires Java 17+ and manual setup:\n\n### Installation Steps\n\n1. **Download**: Get the latest server from [Eclipse JDT.LS downloads](http://download.eclipse.org/jdtls/snapshots/)\n2. **Extract**: Unpack to your preferred location (e.g., `/opt/jdtls/`)\n3. **Create wrapper script** named `jdtls` in your PATH:\n\n```bash\n#!/bin/bash\njava -Declipse.application=org.eclipse.jdt.ls.core.id1 \\\n     -Dosgi.bundles.defaultStartLevel=4 \\\n     -Declipse.product=org.eclipse.jdt.ls.core.product \\\n     -Xms1g -Xmx2G \\\n     -jar /opt/jdtls/plugins/org.eclipse.equinox.launcher_*.jar \\\n     -configuration /opt/jdtls/config_linux \\\n     -data \"${1:-$HOME/workspace}\" \\\n     --add-modules=ALL-SYSTEM \\\n     --add-opens java.base/java.util=ALL-UNNAMED \\\n     --add-opens java.base/java.lang=ALL-UNNAMED \"$@\"\n```\n\n4. **Make executable**: `chmod +x /usr/local/bin/jdtls`\n\n### Alternative Installation Methods\n\n**Homebrew (macOS/Linux)**:\n\n```bash\nbrew install jdtls\n```\n\n**Arch Linux**:\n\n```bash\npacman -S jdtls\n```\n\n### Configuration Notes\n\n- Replace `config_linux` with `config_mac` on macOS or `config_win` on Windows\n- Adjust the `-data` workspace path as needed\n- Requires Java 17 or higher to run\n\nFor detailed setup instructions, see the [official Eclipse JDT.LS documentation](https://github.com/eclipse-jdtls/eclipse.jdt.ls).\n\n## R Installation Guide\n\nThe R language server requires R runtime and the `languageserver` package:\n\n### Installation Steps\n\n1. **Install R**: Download and install R from [CRAN](https://cran.r-project.org/) or use a package manager:\n\n   **macOS (Homebrew)**:\n\n   ```bash\n   brew install r\n   ```\n\n   **Ubuntu/Debian**:\n\n   ```bash\n   sudo apt-get update\n   sudo apt-get install r-base\n   ```\n\n   **Windows**: Download installer from [CRAN Windows](https://cran.r-project.org/bin/windows/base/)\n\n2. **Install R languageserver package**: Open R and run:\n\n   ```r\n   install.packages(\"languageserver\")\n   ```\n\n   Or from command line:\n\n   ```bash\n   R --slave -e 'install.packages(\"languageserver\", repos=\"https://cran.rstudio.com/\")'\n   ```\n\n### Verification\n\nTest that the language server works:\n\n```bash\nR --slave -e 'languageserver::run()'\n```\n\n### Project Detection\n\nThe R LSP automatically detects R projects based on these files:\n\n- `DESCRIPTION` (R packages)\n- `NAMESPACE` (R packages)\n- `.Rproj` (RStudio projects)\n- `renv.lock` (renv dependency management)\n- Any `.r`, `.R`, `.rmd`, `.Rmd` files\n\nFor more information, see the [R languageserver documentation](https://github.com/REditorSupport/languageserver).\n\n## C# Installation Guide\n\nThe C# language server requires .NET SDK and OmniSharp-Roslyn:\n\n### Installation Steps\n\n1. **Install .NET SDK**: Download .NET 6.0+ from [Microsoft .NET](https://dotnet.microsoft.com/download) or use a package manager:\n\n   **macOS (Homebrew)**:\n\n   ```bash\n   brew install dotnet\n   ```\n\n   **Ubuntu/Debian**:\n\n   ```bash\n   # Add Microsoft package repository\n   wget https://packages.microsoft.com/config/ubuntu/$(lsb_release -rs)/packages-microsoft-prod.deb -O packages-microsoft-prod.deb\n   sudo dpkg -i packages-microsoft-prod.deb\n   sudo apt-get update\n   sudo apt-get install -y dotnet-sdk-8.0\n   ```\n\n   **Windows**: Download installer from [.NET Downloads](https://dotnet.microsoft.com/download)\n\n2. **Install OmniSharp-Roslyn**: Download the latest release from [OmniSharp releases](https://github.com/OmniSharp/omnisharp-roslyn/releases):\n\n   **Automatic script** (recommended):\n\n   ```bash\n   # Download and extract OmniSharp to ~/.omnisharp/\n   mkdir -p ~/.omnisharp\n   curl -L https://github.com/OmniSharp/omnisharp-roslyn/releases/latest/download/omnisharp-osx-arm64-net6.0.tar.gz | tar -xz -C ~/.omnisharp/\n\n   # Create symlink to make omnisharp available in PATH\n   sudo ln -sf ~/.omnisharp/OmniSharp /usr/local/bin/omnisharp\n   ```\n\n   **Manual installation**:\n   - Download the appropriate release for your platform (Windows: `omnisharp-win-x64-net6.0.zip`, Linux: `omnisharp-linux-x64-net6.0.tar.gz`)\n   - Extract to a directory (e.g., `~/.omnisharp/`)\n   - Add the executable to your PATH or create a symlink\n\n3. **Set environment variables**:\n\n   **Fish shell**:\n\n   ```bash\n   set -Ux DOTNET_ROOT ~/.dotnet\n   ```\n\n   **Bash/Zsh**:\n\n   ```bash\n   echo 'export DOTNET_ROOT=~/.dotnet' >> ~/.bashrc  # or ~/.zshrc\n   source ~/.bashrc  # or ~/.zshrc\n   ```\n\n   **Note**: `DOTNET_ROOT` must be set in your shell environment for the C# language server to work. The CLI will only load OmniSharp if this environment variable is defined. Restart your terminal after setting the environment variable to ensure it's available.\n\n### Verification\n\nTest that OmniSharp works:\n\n```bash\n# Verify DOTNET_ROOT is set\necho $DOTNET_ROOT\n\n# Test OmniSharp command\nomnisharp --help\n```\n\n### Project Detection\n\nThe C# LSP automatically detects C# projects based on these files:\n\n- `*.sln` (Solution files)\n- `*.csproj` (Project files)\n- `project.json` (Legacy project files)\n- `global.json` (.NET global configuration)\n- Any `.cs` files\n\nFor more information, see the [OmniSharp documentation](https://github.com/OmniSharp/omnisharp-roslyn).\n\n## Swift Configuration\n\nSwift language support is available through SourceKit-LSP, which is included with Xcode Command Line Tools. Support for swift and other LSPs can be added via a config file.\n\n### Prerequisites\n\n**macOS (with Xcode Command Line Tools)**:\n\n```bash\n# Check if SourceKit-LSP is available\nxcrun --find sourcekit-lsp\n```\n\n**Alternative toolchains**: If using Swift toolchains from swift.org, SourceKit-LSP is included and can be run with:\n\n```bash\nxcrun --toolchain swift sourcekit-lsp\n```\n\n### Configuration\n\nCreate a config file at `~/.config/cli-lsp-client/settings.json`:\n\n```json\n{\n  \"servers\": [\n    {\n      \"id\": \"sourcekit_lsp\",\n      \"extensions\": [\".swift\"],\n      \"rootPatterns\": [\"Package.swift\", \".xcodeproj\", \".xcworkspace\"],\n      \"command\": [\"xcrun\", \"sourcekit-lsp\"],\n      \"env\": {}\n    }\n  ],\n  \"languageExtensions\": {\n    \".swift\": \"swift\"\n  }\n}\n```\n\nFor more information about SourceKit-LSP, see the [official documentation](https://github.com/swiftlang/sourcekit-lsp).\n\n### Additional Commands\n\n```bash\n# Start LSP servers for current directory (faster subsequent requests)\nnpx cli-lsp-client start\n\n# Start servers for specific directory\nnpx cli-lsp-client start /path/to/project\n\n# View daemon log file path\nnpx cli-lsp-client logs\n```\n\n## Examples\n\n```bash\n# Check a specific file\nnpx cli-lsp-client diagnostics src/main.ts\n\n# Get hover info for a symbol\nnpx cli-lsp-client hover src/main.ts myFunction\n\n# List all daemon instances\nnpx cli-lsp-client list\n\n# Stop all daemons after package update\nnpx cli-lsp-client stop-all\n```\n\n## Development\n\n### Installation\n\n```bash\n# Install dependencies and build\nbun install\nbun run build    # Build executable\nbun run typecheck\nbun test\n```\n\nAdd new LSP servers in `src/lsp/servers.ts`.\n"
      },
      "plugins": [
        {
          "name": "lsp-plugin",
          "source": "./claude-plugins/lsp-plugin",
          "description": "Integrates CLI LSP Client with Claude Code using hooks for real-time language server updates",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add eli0shin/cli-lsp-client",
            "/plugin install lsp-plugin@cli-lsp-client-plugins"
          ]
        },
        {
          "name": "eslint-plugin",
          "source": "./claude-plugins/eslint-plugin",
          "description": "Automatically runs ESLint checks on JavaScript/TypeScript files after edits",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add eli0shin/cli-lsp-client",
            "/plugin install eslint-plugin@cli-lsp-client-plugins"
          ]
        },
        {
          "name": "prettier-plugin",
          "source": "./claude-plugins/prettier-plugin",
          "description": "Automatically formats files with Prettier after edits",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add eli0shin/cli-lsp-client",
            "/plugin install prettier-plugin@cli-lsp-client-plugins"
          ]
        }
      ]
    }
  ]
}