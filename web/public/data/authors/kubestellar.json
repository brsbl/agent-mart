{
  "author": {
    "id": "kubestellar",
    "display_name": "kubestellar",
    "type": "Organization",
    "avatar_url": "https://avatars.githubusercontent.com/u/134407106?v=4",
    "url": "https://github.com/kubestellar",
    "bio": "KubeStellar - a flexible solution for challenges associated with multi-cluster configuration management for edge, multi-cloud, and hybrid cloud",
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 2,
      "total_commands": 14,
      "total_skills": 0,
      "total_stars": 0,
      "total_forks": 0
    }
  },
  "marketplaces": [
    {
      "name": "kubestellar",
      "version": null,
      "description": "KubeStellar plugins for Claude Code - multi-cluster Kubernetes management tools",
      "owner_info": {
        "name": "KubeStellar",
        "email": "kubestellar-dev@googlegroups.com",
        "url": "https://kubestellar.io"
      },
      "keywords": [],
      "repo_full_name": "kubestellar/claude-plugins",
      "repo_url": "https://github.com/kubestellar/claude-plugins",
      "repo_description": "KubeStellar plugins for Claude Code - multi-cluster Kubernetes tools",
      "homepage": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-29T05:25:46Z",
        "created_at": "2026-01-14T17:34:38Z",
        "license": "Apache-2.0"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 1019
        },
        {
          "path": "plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/kubestellar-deploy",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/kubestellar-deploy/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/kubestellar-deploy/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 889
        },
        {
          "path": "plugins/kubestellar-deploy/README.md",
          "type": "blob",
          "size": 3267
        },
        {
          "path": "plugins/kubestellar-deploy/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/kubestellar-deploy/commands/app-logs.md",
          "type": "blob",
          "size": 804
        },
        {
          "path": "plugins/kubestellar-deploy/commands/app-status.md",
          "type": "blob",
          "size": 875
        },
        {
          "path": "plugins/kubestellar-deploy/commands/deploy.md",
          "type": "blob",
          "size": 1342
        },
        {
          "path": "plugins/kubestellar-deploy/commands/gitops-drift.md",
          "type": "blob",
          "size": 1053
        },
        {
          "path": "plugins/kubestellar-deploy/commands/gitops-sync.md",
          "type": "blob",
          "size": 1129
        },
        {
          "path": "plugins/kubestellar-ops",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/kubestellar-ops/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/kubestellar-ops/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 868
        },
        {
          "path": "plugins/kubestellar-ops/README.md",
          "type": "blob",
          "size": 4079
        },
        {
          "path": "plugins/kubestellar-ops/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/kubestellar-ops/commands/k8s-analyze.md",
          "type": "blob",
          "size": 608
        },
        {
          "path": "plugins/kubestellar-ops/commands/k8s-audit-kubeconfig.md",
          "type": "blob",
          "size": 743
        },
        {
          "path": "plugins/kubestellar-ops/commands/k8s-health.md",
          "type": "blob",
          "size": 490
        },
        {
          "path": "plugins/kubestellar-ops/commands/k8s-issues.md",
          "type": "blob",
          "size": 714
        },
        {
          "path": "plugins/kubestellar-ops/commands/k8s-ownership.md",
          "type": "blob",
          "size": 2489
        },
        {
          "path": "plugins/kubestellar-ops/commands/k8s-rbac.md",
          "type": "blob",
          "size": 800
        },
        {
          "path": "plugins/kubestellar-ops/commands/k8s-security.md",
          "type": "blob",
          "size": 792
        },
        {
          "path": "plugins/kubestellar-ops/commands/k8s-upgrade-check.md",
          "type": "blob",
          "size": 2443
        },
        {
          "path": "plugins/kubestellar-ops/commands/k8s-upgrade.md",
          "type": "blob",
          "size": 5006
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"kubestellar\",\n  \"description\": \"KubeStellar plugins for Claude Code - multi-cluster Kubernetes management tools\",\n  \"owner\": {\n    \"name\": \"KubeStellar\",\n    \"email\": \"kubestellar-dev@googlegroups.com\",\n    \"url\": \"https://kubestellar.io\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"kubestellar-ops\",\n      \"source\": \"./plugins/kubestellar-ops\",\n      \"description\": \"Multi-cluster Kubernetes diagnostics, RBAC analysis, and security checks\",\n      \"version\": \"0.7.1\",\n      \"author\": {\n        \"name\": \"KubeStellar\"\n      },\n      \"keywords\": [\"kubernetes\", \"multi-cluster\", \"rbac\", \"diagnostics\", \"security\", \"gatekeeper\", \"opa\"]\n    },\n    {\n      \"name\": \"kubestellar-deploy\",\n      \"source\": \"./plugins/kubestellar-deploy\",\n      \"description\": \"App-centric multi-cluster deployment and operations with GitOps support\",\n      \"version\": \"0.7.1\",\n      \"author\": {\n        \"name\": \"KubeStellar\"\n      },\n      \"keywords\": [\"kubernetes\", \"multi-cluster\", \"deployment\", \"gitops\", \"app-centric\"]\n    }\n  ]\n}\n",
        "plugins/kubestellar-deploy/.claude-plugin/plugin.json": "{\n  \"name\": \"kubestellar-deploy\",\n  \"description\": \"App-centric multi-cluster deployment and operations. Deploy apps, aggregate logs, check status, and sync from git across all your Kubernetes clusters - working with apps, not clusters.\",\n  \"version\": \"0.7.1\",\n  \"author\": {\n    \"name\": \"KubeStellar\",\n    \"url\": \"https://github.com/kubestellar/kubestellar-mcp\"\n  },\n  \"repository\": \"https://github.com/kubestellar/kubestellar-mcp\",\n  \"keywords\": [\"kubernetes\", \"k8s\", \"multi-cluster\", \"deployment\", \"gitops\", \"devops\", \"logs\", \"app-centric\"],\n  \"mcpServers\": {\n    \"kubestellar-deploy\": {\n      \"command\": \"/opt/homebrew/bin/kubestellar-deploy\",\n      \"args\": [\"--mcp-server\"],\n      \"description\": \"App-centric multi-cluster deployment MCP server with tools for deploying apps, aggregating logs, smart placement (GPU/CPU/memory), and GitOps (sync from git, drift detection)\"\n    }\n  }\n}\n",
        "plugins/kubestellar-deploy/README.md": "# kubestellar-deploy\n\nApp-centric multi-cluster deployment and operations for Kubernetes.\n\n## Vision: Single-Cluster UX for Multi-Cluster Reality\n\nWork with your **apps**, not your **clusters**. kubestellar-deploy automatically discovers where your apps are running and aggregates results from all clusters.\n\n```\nTraditional Multi-Cluster UX (cluster-centric):\n  kubectl --context=prod-east get pods\n  kubectl --context=prod-west get pods\n  kubectl --context=staging get pods\n\nkubestellar-deploy UX (app-centric):\n  \"Where is nginx running?\"\n  \"Get logs from my api service\"\n  \"Deploy my ML model to GPU clusters\"\n```\n\n## Installation\n\n```bash\n# Install via Homebrew\nbrew tap kubestellar/tap\nbrew install kubestellar-deploy\n\n# Or download from releases\n# https://github.com/kubestellar/kubestellar-mcp/releases\n```\n\n## Features\n\n### App Discovery & Status\n- **get_app_instances** - Find all instances of an app across clusters\n- **get_app_status** - Unified health view (healthy/degraded/failed)\n- **get_app_logs** - Aggregated logs with cluster labels\n\n### Smart Deployment\n- **deploy_app** - Deploy to clusters matching criteria (GPU, memory, labels)\n- **scale_app** - Scale across all clusters where app runs\n- **patch_app** - Apply patches everywhere at once\n\n### Cluster Resources\n- **list_cluster_capabilities** - GPU, CPU, memory per cluster\n- **find_clusters_for_workload** - Find clusters that can run a workload\n\n### GitOps\n- **detect_drift** - Find clusters that diverged from git\n- **sync_from_git** - Apply manifests from git repository\n- **reconcile** - Bring clusters back in sync\n- **preview_changes** - Dry-run to see what would change\n\n## Slash Commands\n\n| Command | Description |\n|---------|-------------|\n| `/app-status` | Show status of an app across all clusters |\n| `/app-logs` | Get aggregated logs from an app |\n| `/deploy` | Deploy or update an app |\n| `/gitops-sync` | Sync clusters from git |\n| `/gitops-drift` | Check for drift from git |\n\n## Example Workflows\n\n### \"Where is my app running?\"\n```\nUser: Where is nginx running?\n→ nginx is running on 3 clusters:\n  - prod-east: 3 replicas, healthy\n  - prod-west: 3 replicas, healthy\n  - staging: 1 replica, healthy\n```\n\n### \"Deploy to GPU clusters\"\n```\nUser: Deploy my ML model to clusters with GPUs\n→ Found 2 clusters with nvidia.com/gpu\n→ Deployed to gpu-cluster-1, gpu-cluster-2\n→ All healthy\n```\n\n### \"Get logs\"\n```\nUser: Get logs from nginx\n→ [prod-east/nginx-abc] GET /api/health 200\n  [prod-west/nginx-xyz] GET /api/health 200\n  [prod-east/nginx-abc] POST /api/data 201\n```\n\n### \"Check drift\"\n```\nUser: Are my clusters in sync with git?\n→ Drift detected:\n  - prod-west: ConfigMap/app-config differs\n  - staging: Deployment/api has extra replicas\n```\n\n## Allow Tools Without Prompts\n\nTo avoid permission prompts for each tool call:\n\n```\n/allowed-tools add mcp__plugin_kubestellar-deploy_kubestellar-deploy__*\n```\n\nOr add to `~/.claude/settings.json`:\n```json\n{\n  \"permissions\": {\n    \"allow\": [\n      \"mcp__plugin_kubestellar-deploy_kubestellar-deploy__*\"\n    ]\n  }\n}\n```\n\n## Related\n\n- **kubestellar-ops**: Multi-cluster diagnostics, RBAC analysis, security checks\n- **kubernetes-mcp-server**: Core Kubernetes operations (pods, deployments, helm)\n\n## License\n\nApache-2.0\n",
        "plugins/kubestellar-deploy/commands/app-logs.md": "# App Logs\n\nGet aggregated logs from an app across all clusters.\n\n## Usage\n\nRequest logs from an app by name, and kubestellar-deploy will aggregate logs from all clusters where it runs.\n\n## Examples\n\n- \"Get logs from nginx\"\n- \"Show me the last 50 lines of logs from the api service\"\n- \"Get logs from ml-worker since 1 hour ago\"\n\n## What it shows\n\n- Logs from all pods matching the app across all clusters\n- Each log line is prefixed with cluster and pod name\n- Can filter by time range and line count\n\n## MCP Tools Used\n\n- `get_app_logs` - Get aggregated logs from an app across all clusters\n\n## Implementation\n\nUse the `get_app_logs` tool with:\n- `app`: App name to search for\n- `tail`: Number of lines (default 100)\n- `since`: Time duration (e.g., \"1h\", \"30m\")\n- `namespace`: Optional namespace filter\n",
        "plugins/kubestellar-deploy/commands/app-status.md": "# App Status\n\nShow the status of an app across all clusters.\n\n## Usage\n\nAsk about an app's status, and kubestellar-deploy will find where it's running and aggregate the status.\n\n## Examples\n\n- \"What's the status of nginx?\"\n- \"Is my api service healthy?\"\n- \"Show me the status of the ml-pipeline app\"\n\n## What it shows\n\n- Which clusters the app is running on\n- Replica counts and health status per cluster\n- Overall health (healthy, degraded, failed)\n- Any issues detected\n\n## MCP Tools Used\n\n- `get_app_status` - Get unified status of an app across all clusters\n- `get_app_instances` - Find all instances of an app\n\n## Implementation\n\nUse the `get_app_status` tool with the app name. The tool will:\n1. Search all clusters for deployments/statefulsets/daemonsets matching the app name\n2. Aggregate replica counts and health status\n3. Return a unified view of the app's health\n",
        "plugins/kubestellar-deploy/commands/deploy.md": "# Deploy\n\nDeploy an app to multiple clusters with smart placement.\n\n## Usage\n\nDeploy a workload to clusters. You can specify target clusters explicitly or let kubestellar-deploy find matching clusters based on requirements.\n\n## Examples\n\n- \"Deploy this nginx deployment to all clusters\"\n- \"Deploy my ML model to clusters with GPUs\"\n- \"Deploy this app to clusters with at least 16Gi memory\"\n- \"Do a dry run of deploying this manifest\"\n\n## What it does\n\n1. Finds clusters matching your requirements (or uses all clusters)\n2. Applies the manifest to each target cluster\n3. Reports success/failure per cluster\n\n## MCP Tools Used\n\n- `deploy_app` - Deploy an app to clusters\n- `find_clusters_for_workload` - Find clusters matching requirements\n- `list_cluster_capabilities` - See what each cluster can run\n\n## Implementation\n\nUse the `deploy_app` tool with:\n- `manifest`: The Kubernetes YAML manifest\n- `clusters`: Optional list of target clusters\n- `gpu_type`: Optional GPU type requirement (e.g., \"nvidia.com/gpu\")\n- `min_gpu`: Optional minimum GPU count\n- `dry_run`: Set to true to preview without applying\n\n## Smart Placement\n\nIf you don't specify clusters, kubestellar-deploy can:\n- Deploy to all clusters\n- Filter to clusters with specific GPU types\n- Filter to clusters with minimum CPU/memory\n- Filter to clusters with specific node labels\n",
        "plugins/kubestellar-deploy/commands/gitops-drift.md": "# GitOps Drift Detection\n\nDetect drift between git manifests and what's actually deployed in your clusters.\n\n## Usage\n\nCompare your git repository against cluster state to find configuration drift.\n\n## Examples\n\n- \"Are my clusters in sync with git?\"\n- \"Check for drift from github.com/myorg/manifests\"\n- \"What's different between git and production?\"\n- \"Find configuration drift in my clusters\"\n\n## What it shows\n\n- Missing resources (in git but not in cluster)\n- Modified resources (differ between git and cluster)\n- Specific field differences\n\n## MCP Tools Used\n\n- `detect_drift` - Compare git manifests against cluster state\n\n## Implementation\n\nUse `detect_drift` with:\n- `repo`: Git repository URL (required)\n- `path`: Path within repo (optional)\n- `branch`: Branch name (default: main)\n- `clusters`: Target clusters (all if not specified)\n\n## Drift Types\n\n- **missing**: Resource exists in git but not in cluster\n- **modified**: Resource exists in both but fields differ\n- **extra**: Resource exists in cluster but not in git (not yet implemented)\n",
        "plugins/kubestellar-deploy/commands/gitops-sync.md": "# GitOps Sync\n\nSync manifests from a git repository to your clusters.\n\n## Usage\n\nProvide a git repository URL and optional path, and kubestellar-deploy will apply all manifests to your clusters.\n\n## Examples\n\n- \"Sync my manifests from github.com/myorg/k8s-manifests\"\n- \"Apply the production manifests from git to all clusters\"\n- \"Sync from git repo github.com/org/configs path environments/prod\"\n- \"Preview what would change if I sync from git\"\n\n## What it does\n\n1. Clones the git repository (shallow clone)\n2. Reads all YAML/JSON manifests from the specified path\n3. Applies each manifest to target clusters\n4. Reports created/updated/unchanged counts per cluster\n\n## MCP Tools Used\n\n- `sync_from_git` - Apply manifests from git to clusters\n- `preview_changes` - Dry-run to see what would change\n- `reconcile` - Force sync to bring clusters in line with git\n\n## Implementation\n\nUse `sync_from_git` with:\n- `repo`: Git repository URL (required)\n- `path`: Path within repo (optional)\n- `branch`: Branch name (default: main)\n- `clusters`: Target clusters (all if not specified)\n- `dry_run`: Set to true to preview without applying\n",
        "plugins/kubestellar-ops/.claude-plugin/plugin.json": "{\n  \"name\": \"kubestellar-ops\",\n  \"description\": \"Multi-cluster Kubernetes diagnostics, RBAC analysis, and security checks. Find pod issues, security misconfigurations, and analyze permissions across all your clusters.\",\n  \"version\": \"0.7.1\",\n  \"author\": {\n    \"name\": \"KubeStellar\",\n    \"url\": \"https://github.com/kubestellar/kubestellar-mcp\"\n  },\n  \"repository\": \"https://github.com/kubestellar/kubestellar-mcp\",\n  \"keywords\": [\"kubernetes\", \"k8s\", \"multi-cluster\", \"rbac\", \"diagnostics\", \"security\", \"devops\", \"infrastructure\", \"gatekeeper\", \"opa\"],\n  \"mcpServers\": {\n    \"kubestellar-ops\": {\n      \"command\": \"/opt/homebrew/bin/kubestellar-ops\",\n      \"args\": [\"--mcp-server\"],\n      \"description\": \"Multi-cluster Kubernetes diagnostics MCP server with tools for finding pod issues, security checks, RBAC analysis, and OPA Gatekeeper policy management\"\n    }\n  }\n}\n",
        "plugins/kubestellar-ops/README.md": "# kubestellar-ops\n\nMulti-cluster Kubernetes diagnostics, RBAC analysis, and security checks for Claude Code.\n\n## Features\n\n### Cluster Management\n- **list_clusters** - Discover all Kubernetes clusters from kubeconfig\n- **get_cluster_health** - Check cluster health status\n- **get_nodes** - List cluster nodes with status\n- **audit_kubeconfig** - Audit clusters for connectivity and recommend cleanup\n\n### Workload Tools\n- **get_pods** - List pods with filtering options\n- **get_deployments** - List deployments\n- **get_services** - List services\n- **get_events** - Get recent events for troubleshooting\n- **describe_pod** - Get detailed pod information\n- **get_pod_logs** - Retrieve pod logs\n\n### RBAC Analysis\n- **get_roles** - List Roles in a namespace\n- **get_cluster_roles** - List ClusterRoles\n- **get_role_bindings** - List RoleBindings\n- **get_cluster_role_bindings** - List ClusterRoleBindings\n- **can_i** - Check if you can perform an action\n- **analyze_subject_permissions** - Full RBAC analysis for any subject\n- **describe_role** - Detailed view of Role/ClusterRole rules\n\n### Diagnostic Tools\n- **find_pod_issues** - Find CrashLoopBackOff, ImagePullBackOff, OOMKilled pods\n- **find_deployment_issues** - Find stuck rollouts, unavailable replicas\n- **check_resource_limits** - Find pods without CPU/memory limits\n- **check_security_issues** - Find privileged containers, root users\n- **analyze_namespace** - Comprehensive namespace analysis\n- **get_warning_events** - Get only Warning events\n- **find_resource_owners** - Find who owns/manages resources\n\n### OPA Gatekeeper Policy Tools\n- **check_gatekeeper** - Check if OPA Gatekeeper is installed\n- **install_ownership_policy** - Install ownership labels policy\n- **list_ownership_violations** - List resources missing ownership labels\n- **set_ownership_policy_mode** - Change enforcement mode (dryrun/warn/enforce)\n\n### Upgrade Tools\n- **detect_cluster_type** - Detect distribution (OpenShift, EKS, GKE, AKS, kubeadm)\n- **get_cluster_version_info** - Get current version and available upgrades\n- **check_olm_operator_upgrades** - Check OLM operators for pending upgrades\n- **check_helm_release_upgrades** - List Helm releases and versions\n- **get_upgrade_prerequisites** - Validate upgrade readiness\n- **trigger_openshift_upgrade** - Trigger OpenShift upgrade (with safety checks)\n- **get_upgrade_status** - Monitor upgrade progress\n\n## Slash Commands\n\n| Command | Description |\n|---------|-------------|\n| `/k8s-health` | Check health of all clusters |\n| `/k8s-issues` | Find pod and deployment issues |\n| `/k8s-security` | Check for security misconfigurations |\n| `/k8s-rbac` | Analyze RBAC permissions |\n| `/k8s-analyze` | Comprehensive namespace analysis |\n| `/k8s-audit-kubeconfig` | Audit and cleanup kubeconfig |\n| `/k8s-ownership` | Manage ownership tracking with OPA Gatekeeper |\n| `/k8s-upgrade-check` | Check for available upgrades (cluster, OLM, Helm) |\n| `/k8s-upgrade` | Guided cluster upgrade with safety checks |\n\n## Installation\n\n```bash\n# macOS (Homebrew)\nbrew install kubestellar/tap/kubestellar-ops\n\n# Or download from releases\n# https://github.com/kubestellar/kubestellar-mcp/releases\n```\n\n## Allow Tools Without Prompts\n\nTo avoid permission prompts for each tool call:\n\n```\n/allowed-tools add mcp__plugin_kubestellar-ops_kubestellar-ops__*\n```\n\nOr add to `~/.claude/settings.json`:\n```json\n{\n  \"permissions\": {\n    \"allow\": [\n      \"mcp__plugin_kubestellar-ops_kubestellar-ops__*\"\n    ]\n  }\n}\n```\n\n## Example Usage\n\nOnce installed, you can ask Claude:\n\n- \"List all my Kubernetes clusters\"\n- \"Show me pods that aren't running in the production namespace\"\n- \"What permissions does the admin service account have?\"\n- \"Check for security issues across my clusters\"\n- \"Find pods without resource limits\"\n\n## Related\n\n- **kubestellar-deploy**: App-centric multi-cluster deployment and operations\n- **kubernetes-mcp-server**: Core Kubernetes operations (pods, deployments, helm)\n\n## Links\n\n- [GitHub Repository](https://github.com/kubestellar/kubestellar-mcp)\n- [KubeStellar](https://kubestellar.io)\n",
        "plugins/kubestellar-ops/commands/k8s-analyze.md": "---\nallowed-tools: mcp__plugin_kubectl-claude_kubectl-claude__*\ndescription: Analyze a Kubernetes namespace\n---\n\n## Your task\n\nUse the kubectl-claude MCP tools to perform a comprehensive analysis of a Kubernetes namespace.\n\n1. Ask the user which cluster and namespace to analyze (if not specified, use the default context and default namespace)\n2. Use `analyze_namespace` to get a comprehensive overview\n3. Provide insights on:\n   - Workload health (pods, deployments)\n   - Resource usage and limits\n   - Potential issues and recommendations\n\nDo not use any other tools besides the kubectl-claude MCP tools.\n",
        "plugins/kubestellar-ops/commands/k8s-audit-kubeconfig.md": "---\nallowed-tools: mcp__plugin_kubectl-claude_kubectl-claude__*\ndescription: Audit kubeconfig clusters and recommend cleanup\n---\n\n## Your task\n\nUse the kubectl-claude MCP tools to audit all clusters in the user's kubeconfig.\n\n1. Use `audit_kubeconfig` to check connectivity to all configured clusters\n2. Present the results showing:\n   - Which clusters are accessible (with their Kubernetes versions)\n   - Which clusters are inaccessible (with error reasons)\n3. If there are inaccessible clusters, provide the cleanup commands to remove stale contexts, clusters, and users\n\nThis helps users maintain a clean kubeconfig by identifying and removing stale cluster configurations.\n\nDo not use any other tools besides the kubectl-claude MCP tools.\n",
        "plugins/kubestellar-ops/commands/k8s-health.md": "---\nallowed-tools: mcp__plugin_kubectl-claude_kubectl-claude__*\ndescription: Check health of all Kubernetes clusters\n---\n\n## Your task\n\nUse the kubectl-claude MCP tools to check the health of all available Kubernetes clusters.\n\n1. First, use `list_clusters` to discover all available clusters\n2. Then use `get_cluster_health` on each cluster to check its health status\n3. Summarize any issues found with recommended actions\n\nDo not use any other tools besides the kubectl-claude MCP tools.\n",
        "plugins/kubestellar-ops/commands/k8s-issues.md": "---\nallowed-tools: mcp__plugin_kubectl-claude_kubectl-claude__*\ndescription: Find issues across Kubernetes clusters\n---\n\n## Your task\n\nUse the kubectl-claude MCP tools to find all issues across Kubernetes clusters.\n\n1. Use `list_clusters` to get all available clusters\n2. For each cluster, check for:\n   - Pod issues using `find_pod_issues` (CrashLoopBackOff, ImagePullBackOff, OOMKilled, pending pods)\n   - Deployment issues using `find_deployment_issues` (stuck rollouts, unavailable replicas)\n   - Warning events using `get_warning_events`\n\n3. Provide a summary of all problems found organized by cluster, with severity and recommended actions.\n\nDo not use any other tools besides the kubectl-claude MCP tools.\n",
        "plugins/kubestellar-ops/commands/k8s-ownership.md": "---\nallowed-tools: mcp__plugin_kubectl-claude_kubectl-claude__*\ndescription: Set up and manage resource ownership tracking with OPA Gatekeeper\n---\n\n## Your task\n\nHelp the user set up and manage resource ownership tracking using OPA Gatekeeper policies.\n\n### Workflow\n\n1. **Check Gatekeeper Status**\n   - Use `check_gatekeeper` to verify OPA Gatekeeper is installed\n   - If not installed, provide installation instructions\n\n2. **Check/Install Ownership Policy**\n   - Use `get_ownership_policy_status` to see if the ownership policy exists\n   - If not installed, ask the user if they want to install it using `install_ownership_policy`\n   - Default to `dryrun` mode for safety\n\n3. **Show Violations**\n   - Use `list_ownership_violations` to show resources missing ownership labels\n   - Group by namespace and highlight the most problematic areas\n\n4. **Recommend Next Steps**\n   - If in dryrun mode with many violations, help users fix them before enforcing\n   - Suggest switching to `warn` mode first, then `enforce`\n\n### Available Tools\n\n| Tool | Purpose |\n|------|---------|\n| `check_gatekeeper` | Check if Gatekeeper is installed |\n| `get_ownership_policy_status` | Get current policy configuration |\n| `list_ownership_violations` | List resources missing labels |\n| `install_ownership_policy` | Install the policy (dryrun/warn/enforce) |\n| `set_ownership_policy_mode` | Change enforcement mode |\n| `uninstall_ownership_policy` | Remove the policy |\n| `find_resource_owners` | Check who owns existing resources |\n\n### Key Parameters\n\n**install_ownership_policy:**\n- `labels`: Required labels (default: [\"owner\", \"team\"])\n- `mode`: dryrun (default), warn, or enforce\n- `exclude_namespaces`: Namespaces to skip (auto-excludes system namespaces)\n\n### Example Outputs\n\n**Policy not installed:**\n```\nGatekeeper is installed and healthy.\nOwnership policy is not configured.\n\nWould you like to install it? I recommend starting with dryrun mode\nto see which resources would be affected before enforcing.\n```\n\n**Showing violations:**\n```\nFound 47 resources missing ownership labels:\n\nBy Namespace:\n- default: 12 violations\n- app-prod: 23 violations\n- app-staging: 12 violations\n\nTop violations:\n| Namespace | Kind | Name | Missing |\n|-----------|------|------|---------|\n| app-prod | Deployment | api-server | owner, team |\n...\n```\n\n### Safety Notes\n\n- Always start with `dryrun` mode\n- Show violation count before suggesting `enforce` mode\n- Warn users that `enforce` mode will block deployments\n",
        "plugins/kubestellar-ops/commands/k8s-rbac.md": "---\nallowed-tools: mcp__plugin_kubectl-claude_kubectl-claude__*\ndescription: Analyze RBAC permissions for a subject\n---\n\n## Your task\n\nUse the kubectl-claude MCP tools to analyze RBAC permissions.\n\n1. Ask the user for:\n   - The subject type (user, group, or serviceaccount)\n   - The subject name\n   - The cluster (optional, defaults to current context)\n   - The namespace (for serviceaccounts)\n\n2. Use `analyze_subject_permissions` to get all roles, bindings, and effective permissions\n\n3. Provide a report showing:\n   - All RoleBindings and ClusterRoleBindings for the subject\n   - Effective permissions (what actions they can perform)\n   - Any overly permissive access (cluster-admin, wildcards, etc.)\n   - Security recommendations\n\nDo not use any other tools besides the kubectl-claude MCP tools.\n",
        "plugins/kubestellar-ops/commands/k8s-security.md": "---\nallowed-tools: mcp__plugin_kubectl-claude_kubectl-claude__*\ndescription: Check for security issues in Kubernetes\n---\n\n## Your task\n\nUse the kubectl-claude MCP tools to perform a security audit across Kubernetes clusters.\n\n1. Use `list_clusters` to get all available clusters\n2. For each cluster, use `check_security_issues` to find:\n   - Privileged containers\n   - Containers running as root\n   - Host network/PID/IPC usage\n   - Other security misconfigurations\n\n3. Also use `check_resource_limits` to find pods without CPU/memory limits (resource exhaustion risk)\n\n4. Provide a security report with:\n   - Issues organized by severity (Critical, High, Medium, Low)\n   - Affected workloads\n   - Remediation recommendations\n\nDo not use any other tools besides the kubectl-claude MCP tools.\n",
        "plugins/kubestellar-ops/commands/k8s-upgrade-check.md": "---\nallowed-tools: mcp__plugin_kubectl-claude_kubectl-claude__*\ndescription: Check for available upgrades\n---\n\n## Your task\n\nUse the kubectl-claude MCP tools to check for available upgrades across Kubernetes clusters, including cluster version, OLM operators, and Helm releases.\n\n### Workflow\n\n1. **Discover Clusters**\n   - Use `list_clusters` to get all available clusters\n   - Ask the user which cluster(s) to check, or check all if they don't specify\n\n2. **For each cluster:**\n\n   a. **Detect Cluster Type**\n      - Use `detect_cluster_type` to identify the distribution (OpenShift, EKS, GKE, AKS, kubeadm, etc.)\n      - This determines what upgrade mechanisms are available\n\n   b. **Check Cluster Version**\n      - Use `get_cluster_version_info` to get current version and available upgrades\n      - For OpenShift: Show available upgrade paths from ClusterVersion\n      - For managed clusters: Show current version and guide to cloud console\n      - For kubeadm: Show current version and upgrade guidance\n\n   c. **Check OLM Operators** (if applicable)\n      - Use `check_olm_operator_upgrades` to find operators with pending upgrades\n      - Show current vs available versions\n      - Note which operators have auto-update enabled vs manual\n\n   d. **Check Helm Releases**\n      - Use `check_helm_release_upgrades` to list Helm releases and their versions\n      - Note: Cannot check for newer chart versions without helm CLI configured\n\n3. **Generate Summary Report**\n\n   Structure the output as:\n\n   ```\n   # Upgrade Check Report\n\n   ## Cluster: <name>\n   Type: <OpenShift 4.x | EKS | GKE | AKS | kubeadm | k3s | kind>\n   Current Version: <version>\n\n   ### Cluster Upgrade\n   [Available upgrades or guidance based on cluster type]\n\n   ### OLM Operators (if installed)\n   | Operator | Current | Channel | Auto-Update | Status |\n   |----------|---------|---------|-------------|--------|\n\n   ### Helm Releases\n   | Release | Namespace | Chart | Version |\n   |---------|-----------|-------|---------|\n   ```\n\n### Available Tools\n\n| Tool | Purpose |\n|------|---------|\n| `list_clusters` | Discover available clusters |\n| `detect_cluster_type` | Identify cluster distribution |\n| `get_cluster_version_info` | Get version and upgrade paths |\n| `check_olm_operator_upgrades` | Check OLM operators for upgrades |\n| `check_helm_release_upgrades` | List Helm releases and versions |\n\nDo not use any other tools besides the kubectl-claude MCP tools.\n",
        "plugins/kubestellar-ops/commands/k8s-upgrade.md": "---\nallowed-tools: mcp__plugin_kubectl-claude_kubectl-claude__*\ndescription: Upgrade cluster (master and nodes)\n---\n\n## Your task\n\nGuide the user through a Kubernetes cluster upgrade with appropriate safety checks.\n\n### CRITICAL SAFETY NOTES\n\n- **ALWAYS** run prerequisite checks before any upgrade\n- **NEVER** trigger an upgrade without explicit user confirmation\n- **WARN** users about potential downtime and workload impact\n- For managed clusters (EKS/GKE/AKS), only provide guidance - do not attempt direct upgrades\n\n### Workflow\n\n1. **Identify Target Cluster**\n   - Use `list_clusters` to show available clusters\n   - Ask the user which cluster to upgrade\n   - Use `detect_cluster_type` to determine the distribution\n\n2. **Check Current State**\n   - Use `get_cluster_version_info` to show current version and available upgrades\n   - If no upgrades available, inform the user and stop\n\n3. **Select Target Version** (for OpenShift)\n   - Present available upgrade versions to the user\n   - Show upgrade graph with recommended paths if available\n   - Ask user to confirm target version\n\n4. **Run Prerequisites Check**\n   - Use `get_upgrade_prerequisites` to verify:\n     - All nodes are Ready\n     - No pods in CrashLoopBackOff or ImagePullBackOff\n     - No degraded ClusterOperators (OpenShift)\n     - No MachineConfigPools updating (OpenShift)\n   - If any checks fail, show issues and recommend fixing before upgrading\n\n5. **Handle by Cluster Type**\n\n   **OpenShift:**\n   - Show exactly what will happen during the upgrade\n   - Warn about expected behavior:\n     - Rolling restart of control plane and workers\n     - Temporary API unavailability during control plane upgrade\n     - Workload disruptions during node drains\n   - Request explicit confirmation: \"Type 'yes-upgrade-now' to proceed\"\n   - Use `trigger_openshift_upgrade` with the confirmation\n   - Use `get_upgrade_status` to monitor progress\n\n   **EKS:**\n   ```\n   To upgrade EKS:\n   1. Update control plane via AWS Console or:\n      aws eks update-cluster-version --name <cluster> --kubernetes-version <version>\n   2. Wait for control plane upgrade to complete\n   3. Update node groups:\n      aws eks update-nodegroup-version --cluster-name <cluster> --nodegroup-name <name>\n   4. Update add-ons (VPC CNI, CoreDNS, kube-proxy):\n      aws eks update-addon --cluster-name <cluster> --addon-name <addon>\n   ```\n\n   **GKE:**\n   ```\n   To upgrade GKE:\n   1. Via Console: Container > Clusters > <cluster> > Upgrade available\n   2. Via gcloud:\n      gcloud container clusters upgrade <cluster> --master --cluster-version <version>\n   3. Node pools upgrade separately:\n      gcloud container clusters upgrade <cluster> --node-pool <pool> --cluster-version <version>\n   ```\n\n   **AKS:**\n   ```\n   To upgrade AKS:\n   1. Via Portal: Kubernetes services > <cluster> > Upgrade\n   2. Via CLI:\n      az aks upgrade --resource-group <rg> --name <cluster> --kubernetes-version <version>\n   ```\n\n   **kubeadm:**\n   ```\n   To upgrade a kubeadm cluster:\n\n   1. Upgrade control plane (on first control plane node):\n      sudo apt-get update && sudo apt-get install -y kubeadm=<version>\n      sudo kubeadm upgrade plan\n      sudo kubeadm upgrade apply v<version>\n\n   2. Upgrade additional control plane nodes:\n      sudo kubeadm upgrade node\n\n   3. Upgrade kubelet and kubectl on control plane nodes:\n      sudo apt-get install -y kubelet=<version> kubectl=<version>\n      sudo systemctl daemon-reload && sudo systemctl restart kubelet\n\n   4. Upgrade worker nodes (one at a time):\n      kubectl drain <node> --ignore-daemonsets --delete-emptydir-data\n      # SSH to node:\n      sudo apt-get update && sudo apt-get install -y kubeadm=<version>\n      sudo kubeadm upgrade node\n      sudo apt-get install -y kubelet=<version> kubectl=<version>\n      sudo systemctl daemon-reload && sudo systemctl restart kubelet\n      # Back on control plane:\n      kubectl uncordon <node>\n   ```\n\n6. **Monitor Progress** (OpenShift only)\n   - Use `get_upgrade_status` periodically to check progress\n   - Report on ClusterOperator and MachineConfigPool status\n   - Alert on any degraded operators or pools\n\n### Available Tools\n\n| Tool | Purpose |\n|------|---------|\n| `list_clusters` | Discover clusters |\n| `detect_cluster_type` | Identify distribution type |\n| `get_cluster_version_info` | Get version and upgrade options |\n| `get_upgrade_prerequisites` | Validate upgrade readiness |\n| `trigger_openshift_upgrade` | Initiate OpenShift upgrade (requires confirmation) |\n| `get_upgrade_status` | Monitor upgrade progress |\n\n### Confirmation Requirement\n\nBefore triggering any upgrade, you MUST:\n1. Show the user exactly what will happen\n2. List all prerequisites that passed/failed\n3. Warn about potential impact:\n   - API server may be temporarily unavailable\n   - Nodes will be drained and rebooted\n   - Workloads may experience disruption\n4. Request explicit confirmation with the exact phrase \"yes-upgrade-now\"\n\nDo not use any other tools besides the kubectl-claude MCP tools.\n"
      },
      "plugins": [
        {
          "name": "kubestellar-ops",
          "source": "./plugins/kubestellar-ops",
          "description": "Multi-cluster Kubernetes diagnostics, RBAC analysis, and security checks",
          "version": "0.7.1",
          "author": {
            "name": "KubeStellar"
          },
          "keywords": [
            "kubernetes",
            "multi-cluster",
            "rbac",
            "diagnostics",
            "security",
            "gatekeeper",
            "opa"
          ],
          "categories": [
            "diagnostics",
            "gatekeeper",
            "kubernetes",
            "multi-cluster",
            "opa",
            "rbac",
            "security"
          ],
          "install_commands": [
            "/plugin marketplace add kubestellar/claude-plugins",
            "/plugin install kubestellar-ops@kubestellar"
          ]
        },
        {
          "name": "kubestellar-deploy",
          "source": "./plugins/kubestellar-deploy",
          "description": "App-centric multi-cluster deployment and operations with GitOps support",
          "version": "0.7.1",
          "author": {
            "name": "KubeStellar"
          },
          "keywords": [
            "kubernetes",
            "multi-cluster",
            "deployment",
            "gitops",
            "app-centric"
          ],
          "categories": [
            "app-centric",
            "deployment",
            "gitops",
            "kubernetes",
            "multi-cluster"
          ],
          "install_commands": [
            "/plugin marketplace add kubestellar/claude-plugins",
            "/plugin install kubestellar-deploy@kubestellar"
          ]
        }
      ]
    }
  ]
}