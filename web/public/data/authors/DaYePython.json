{
  "author": {
    "id": "DaYePython",
    "display_name": "ma ke",
    "avatar_url": "https://avatars.githubusercontent.com/u/31787077?u=725a9e00e0ba540423290b1778241ef146a7332b&v=4"
  },
  "marketplaces": [
    {
      "name": "ykc-parser-skills",
      "version": null,
      "description": "云快充充电桩通信协议解析工具集",
      "repo_full_name": "DaYePython/ykc-parser",
      "repo_url": "https://github.com/DaYePython/ykc-parser",
      "repo_description": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2025-12-30T01:51:34Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"$schema\": \"https://anthropic.com/claude-code/marketplace.schema.json\",\n  \"name\": \"ykc-parser-skills\",\n  \"owner\": {\n    \"name\": \"yesongsheng\",\n    \"email\": \"yesongsheng@163.com\"\n  },\n  \"metadata\": {\n    \"description\": \"云快充充电桩通信协议解析工具集\",\n    \"version\": \"1.0.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"ykc-parser\",\n      \"description\": \"解析云快充充电桩通信协议报文,支持CRC16校验、多种帧类型解析、错误诊断,返回标准JSON格式。用于处理云快充协议V1.6的报文数据。\",\n      \"source\": \"./\",\n      \"strict\": false,\n      \"skills\": [\n        \"./\"\n      ]\n    }\n  ]\n}\n",
        "README.md": "# 云快充报文解析器\n\n一个用于解析云快充充电桩通信协议报文的Python工具，支持云快充协议V1.6。\n\n## 功能特性\n\n- **完整报文解析**: 解析起始标志、数据长度、序列号、加密标志、帧类型、消息体、CRC校验等完整报文结构\n- **CRC16校验**: 基于Modbus算法的CRC16校验，即使校验失败也继续解析\n- **多种帧类型支持**: 支持登录认证、实时数据、心跳包等多种帧类型的详细解析\n- **数据类型转换**: 自动处理BCD码、BIN码、ASCII码等多种数据格式\n- **错误诊断**: 提供详细的错误信息和容错处理\n- **标准JSON输出**: 返回结构化的JSON格式数据，便于集成\n\n## 支持的帧类型\n\n| 帧类型 | 说明 | 解析状态 |\n|--------|------|---------|\n| 0x01 | 充电桩登录认证 | ✅ 完整解析 |\n| 0x02 | 登录认证应答 | ✅ 完整解析 |\n| 0x12 | 读取实时监测数据 | ✅ 完整解析 |\n| 0x13 | 上传实时监测数据 | ✅ 完整解析 |\n| 其他 | 其他帧类型 | ⚠️ 返回原始数据 |\n\n## 安装要求\n\n- Python 3.6+\n- 无需额外依赖库\n\n## 快速开始\n\n### 基本使用\n\n```bash\npython scripts/parse_ykc.py \"68 22 0000 00 01 55031412782305 00 02 0F 56342E312E353000 01 01010101010101010101 04 675A\"\n```\n\n### 在代码中使用\n\n```python\nfrom scripts.parse_ykc import YKCParser\n\n# 创建解析器实例\nparser = YKCParser()\n\n# 解析报文\nhex_string = \"68 22 0000 00 01 55031412782305 00 02 0F 56342E312E353000 01 01010101010101010101 04 675A\"\nresult = parser.parse(hex_string)\n\n# 输出结果\nprint(result)\n```\n\n## 使用示例\n\n### 示例1: 解析登录认证报文\n\n**输入报文:**\n```\n68 22 0000 00 01 55031412782305 00 02 0F 56342E312E353000 01 01010101010101010101 04 675A\n```\n\n**解析结果:**\n```json\n{\n  \"code\": 200,\n  \"msg\": \"解析成功\",\n  \"start_flag\": \"0x68\",\n  \"data_length\": 34,\n  \"sequence_number\": 0,\n  \"encrypt_flag\": \"0x00\",\n  \"is_encrypted\": false,\n  \"frame_type\": \"0x01\",\n  \"frame_type_name\": \"充电桩登录认证\",\n  \"body_length\": 28,\n  \"crc16_received\": \"0x675A\",\n  \"crc16_calculated\": \"0x675A\",\n  \"crc16_valid\": true,\n  \"body_data\": {\n    \"pile_code\": \"55031412782305\",\n    \"pile_type\": \"直流桩\",\n    \"gun_count\": 2,\n    \"protocol_version\": \"v1.5\",\n    \"program_version\": \"v4.1.50\",\n    \"network_type\": \"LAN\",\n    \"sim_card\": \"01010101010101010101\",\n    \"operator\": \"其他\"\n  }\n}\n```\n\n### 示例2: 解析实时监测数据\n\n**输入报文:**\n```\n68 40 1A03 00 13 01 01 00 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 00000000 00000000 00 00 00 00 00 00 9DAC\n```\n\n**解析结果:**\n```json\n{\n  \"code\": 200,\n  \"msg\": \"解析成功\",\n  \"frame_type\": \"0x13\",\n  \"frame_type_name\": \"上传实时监测数据\",\n  \"body_data\": {\n    \"gun_no\": 1,\n    \"work_status\": \"空闲中\",\n    \"soc\": 0,\n    \"voltage\": 0.0,\n    \"current\": 0.0,\n    \"charged_kwh\": 0.0,\n    \"charged_duration\": 0,\n    \"reserved\": \"...\"\n  }\n}\n```\n\n## 项目结构\n\n```\nykc-parser/\n├── scripts/\n│   ├── parse_ykc.py          # 主解析脚本\n│   ├── crc16.py              # CRC16校验模块\n│   ├── frame_parsers.py      # 帧类型解析器\n│   └── parser_factory.py     # 解析器工厂\n├── references/\n│   ├── docs/                 # 完整协议文档\n│   ├── protocol_structure.md # 协议结构快速参考\n│   ├── data_formats.md       # 数据格式定义\n│   └── frame_types.md        # 帧类型定义表\n├── .claude-plugin/\n│   └── marketplace.json      # Claude技能配置\n├── test_all_frames.py        # 测试脚本\n├── SKILL.md                  # 技能说明文档\n└── README.md                 # 本文件\n```\n\n## 参考文档\n\n项目包含完整的云快充协议V1.6参考文档：\n\n- **协议基础**: `references/docs/02-协议基础/`\n  - 通信协议结构\n  - 应用层报文帧格式\n  - 数据格式定义\n  - 帧类型定义表\n\n- **业务流程**: `references/docs/`\n  - 登录认证流程\n  - 心跳包协议\n  - 实时数据上报\n  - 充电启动/停止流程\n  - 平台设置、远程维护等\n\n- **附录**: `references/docs/11-附录/`\n  - CRC16校验计算方法\n  - 充电停止原因代码表\n  - 协议注意事项\n\n## 技术细节\n\n### CRC16校验\n\n- 算法: Modbus CRC16（多项式0x180D）\n- 校验范围: 序列号域到消息体结束\n- 字节序: 小端序（低字节在前）\n- 初始值: 0xFFFF\n- 实现方式: 查表法\n\n### 数据类型\n\n| 类型 | 说明 | 转换方式 |\n|------|------|---------|\n| BCD码 | 每字节表示两位十进制数 | 直接转十六进制字符串 |\n| BIN小端 | 小端序二进制 | `int.from_bytes(byteorder='little')` |\n| ASCII码 | ASCII字符串 | `decode('ascii')` 并移除尾部0x00 |\n\n### 精度处理\n\n- 电压/电流: 精确到0.1，除以10\n- 电量/金额: 精确到0.0001，除以10000\n- 温度: 整数偏移-50℃\n\n## 错误处理\n\n解析器提供完善的错误处理机制：\n\n- **CRC校验失败**: 标注警告但继续解析\n- **报文长度不匹配**: 尽可能解析已有字段\n- **数据类型错误**: 返回错误信息并标注位置\n- **未知帧类型**: 返回原始十六进制数据\n\n## 作为Claude技能使用\n\n本项目可作为Claude Code技能使用，让Claude自动解析云快充报文。\n\n### 安装方法\n\n#### 方法1: 从Claude Marketplace安装（推荐）\n\n1. 首先注册本仓库到Claude Code的Marketplace：\n```\n/plugin marketplace add DaYePython/ykc-parser\n```\n\n2. 然后在Claude Code中打开Marketplace：\n```\n/marketplace\n```\n\n3. 搜索 `ykc-parser` 或 `云快充`，点击安装即可\n\n这是最简单的安装方式，Claude会自动下载和配置技能。只需在首次使用时注册一次marketplace。\n\n#### 方法2: 从GitHub克隆\n\n1. 打开终端，进入Claude技能目录：\n```bash\ncd ~/.claude/skills\n```\n\n2. 克隆本仓库：\n```bash\ngit clone https://github.com/DaYePython/ykc-parser.git\n```\n\n3. 重启Claude Code或重新加载技能列表\n\n#### 方法3: 手动下载\n\n1. 下载本仓库的ZIP文件：\n   - 访问 https://github.com/DaYePython/ykc-parser\n   - 点击 \"Code\" > \"Download ZIP\"\n\n2. 解压到Claude技能目录：\n   - Windows: `C:\\Users\\<你的用户名>\\.claude\\skills\\ykc-parser`\n   - macOS/Linux: `~/.claude/skills/ykc-parser`\n\n3. 重启Claude Code\n\n### 验证安装\n\n安装完成后，在Claude Code中输入：\n```\n/skills\n```\n查看技能列表中是否有`ykc-parser`。\n\n### 使用示例\n\n安装成功后，你可以直接在Claude Code中使用：\n\n```\n帮我解析这个云快充报文: 68 22 0000 00 01 55031412782305 00 02 0F 56342E312E353000 01 01010101010101010101 04 675A\n```\n\n或者明确调用技能：\n```\n使用ykc-parser技能解析报文: 68 40 1A03 00 13 ...\n```\n\nClaude会自动：\n1. 识别这是云快充报文解析任务\n2. 调用解析脚本\n3. 返回结构化的JSON结果\n4. 解释报文内容\n\n\n## 许可证\n\nMIT License\n\n## 贡献\n\n欢迎提交Issue和Pull Request！\n\n## 联系方式\n\n如有问题或建议，请通过以下方式联系：\n\n- GitHub Issues: https://github.com/DaYePython/ykc-parser/issues\n- 项目地址: https://github.com/DaYePython/ykc-parser\n\n---\n\n**注意**: 本项目用于云快充充电桩通信协议的学习和开发，请遵守相关协议规范和使用条款。\n"
      },
      "plugins": [
        {
          "name": "ykc-parser",
          "description": "解析云快充充电桩通信协议报文,支持CRC16校验、多种帧类型解析、错误诊断,返回标准JSON格式。用于处理云快充协议V1.6的报文数据。",
          "source": "./",
          "strict": false,
          "skills": [
            "./"
          ],
          "categories": [],
          "install_commands": [
            "/plugin marketplace add DaYePython/ykc-parser",
            "/plugin install ykc-parser@ykc-parser-skills"
          ]
        }
      ]
    }
  ]
}