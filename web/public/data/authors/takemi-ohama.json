{
  "author": {
    "id": "takemi-ohama",
    "display_name": "大浜毅美",
    "avatar_url": "https://avatars.githubusercontent.com/u/10234200?u=5234c3bda85b1b6bdd98e5a4f2dfa04541b37ebb&v=4"
  },
  "marketplaces": [
    {
      "name": "ai-plugins",
      "version": null,
      "description": "All-in-one plugin combining 6 MCP servers, 6 development workflow commands, 6 specialized agents, and Slack notifications with AI-generated summaries",
      "repo_full_name": "takemi-ohama/ai-plugins",
      "repo_url": "https://github.com/takemi-ohama/ai-plugins",
      "repo_description": "AI Agent Marketplace - Claude Codeプラグインマーケットプレイス",
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-02-01T15:05:01Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"ai-plugins\",\n  \"owner\": {\n    \"name\": \"takemi-ohama\",\n    \"email\": \"takemi.ohama+ai-plugins@gmail.com\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"ndf\",\n      \"source\": \"./plugins/ndf\",\n      \"description\": \"All-in-one plugin combining 6 MCP servers, 6 development workflow commands, 6 specialized agents, and Slack notifications with AI-generated summaries\"\n    },\n    {\n      \"name\": \"affaan-m\",\n      \"source\": \"./plugins/affaan-m\",\n      \"description\": \"Context management, quality assurance, TDD workflow, and security checks plugin (complements NDF plugin)\"\n    },\n    {\n      \"name\": \"playwright\",\n      \"source\": \"./plugins/playwright\",\n      \"description\": \"Playwright MCP auto-setup plugin with Chromium browser installation and configuration\"\n    }\n  ]\n}\n",
        "README.md": "# AI Plugins\n\nClaude Codeプラグイン、プロジェクトスキル、MCP（Model Context Protocol）設定を共有するための内部マーケットプレイスです。\n\n## 概要\n\nこのマーケットプレイスは、チーム全体でClaude Codeの導入を加速するための事前設定されたプラグインを提供します。\n\n**NDFプラグイン**は、以下の機能を**オールインワン**で提供する統合プラグインです：\n\n- **10つのMCPサーバー**: GitHub、Serena、BigQuery、Notion、DBHub、Chrome DevTools、AWS Docs、Codex CLI、Context7、Claude Code\n- **6つの開発ワークフローコマンド**: `/ndf:pr`, `/ndf:fix`, `/ndf:review`, `/ndf:merged`, `/ndf:clean`, `/ndf:serena`\n- **6つの専門エージェント**: タスク統括、データ分析、コーディング、調査、ファイル読み取り、品質管理\n- **自動フック**: Claude Code終了時にAI要約生成とSlack通知\n\n## 利用方法\n\n### 1. マーケットプレイスの追加\n\nClaude Codeでマーケットプレイスを追加します：\n\n```bash\n/plugin marketplace add https://github.com/takemi-ohama/ai-plugins\n```\n\n### 2. プラグインのインストール\n\n利用したいプラグインをインストールします：\n\n```bash\n# NDFプラグイン（オールインワン統合プラグイン）\n/plugin install ndf@ai-plugins\n```\n\nこのプラグイン1つで、MCP統合、開発ワークフロー、専門エージェント、自動フックのすべてが利用可能です。\n\n### 利用可能なプラグイン\n\n| プラグイン名 | バージョン | 説明 | 詳細 |\n|------------|----------|------|------|\n| **ndf** | 1.0.6 | Claude Code開発環境を**オールインワン**で強化する統合プラグイン。10つのMCPサーバー（GitHub、Serena、BigQuery、Notion、DBHub、Chrome DevTools、AWS Docs、Codex CLI、Context7、Claude Code）、6つの開発ワークフローコマンド、6つの専門エージェント（タスク統括、データ分析、コーディング、調査、ファイル読み取り、品質管理）、Stopフック（AI要約生成とSlack通知）を提供。 | [README](./plugins/ndf/README.md) |\n\n## 開発ガイドライン\n\n### プラグイン開発\n\n#### ディレクトリ構造\n\n```\nai-plugins/\n├── .claude-plugin/\n│   └── marketplace.json          # マーケットプレイスメタデータ\n├── plugins/\n│   └── {plugin-name}/\n│       ├── .claude-plugin/\n│       │   └── plugin.json       # プラグインメタデータ（必須）\n│       ├── commands/             # スラッシュコマンド (*.md)\n│       ├── agents/               # サブエージェント (*.md)\n│       └── skills/               # プロジェクトスキル\n│           └── {skill-name}/\n│               └── SKILL.md      # エントリポイント（必須）\n├── README.md\n└── CLAUDE.md                     # AIエージェント向けガイドライン\n```\n\n#### 新しいプラグインの作成手順\n\n**1. プラグインディレクトリを作成:**\n\n```bash\nmkdir -p plugins/{plugin-name}/{.claude-plugin,commands,agents,skills}\n```\n\n**2. `plugin.json` を作成:**\n\n```json\n{\n  \"name\": \"plugin-name\",\n  \"version\": \"1.0.0\",\n  \"description\": \"プラグインの説明\",\n  \"author\": {\n    \"name\": \"作者名\",\n    \"url\": \"https://github.com/username\"\n  },\n  \"skills\": [\n    {\n      \"path\": \"skills/skill-name/SKILL.md\"\n    }\n  ]\n}\n```\n\n**3. プロジェクトスキルを作成（オプション）:**\n\n`skills/{skill-name}/SKILL.md` を作成：\n\n```markdown\n---\nname: スキル名\ndescription: スキルの説明（自動起動のキーワードを含める）\n---\n\n# スキル名\n\nスキルの詳細説明とドキュメント...\n```\n\n**4. `marketplace.json` に登録:**\n\n`.claude-plugin/marketplace.json` に追加：\n\n```json\n{\n  \"name\": \"ai-plugins\",\n  \"owner\": {\n    \"name\": \"takemi-ohama\",\n    \"email\": \"takemi.ohama@example.com\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"plugin-name\",\n      \"source\": \"./plugins/plugin-name\",\n      \"description\": \"プラグインの簡単な説明\"\n    }\n  ]\n}\n```\n\n**5. README.md を作成:**\n\n`plugins/{plugin-name}/README.md` を作成し、以下を含める：\n- プラグインの概要\n- インストール手順（マーケットプレイス追加を含む）\n- 使用方法\n- トラブルシューティング\n\n**6. テストとコミット:**\n\n```bash\n# ローカルでテスト\n/plugin marketplace add file:///path/to/ai-plugins\n/plugin install plugin-name@ai-plugins\n\n# 動作確認後、コミット\ngit add .\ngit commit -m \"Add plugin-name plugin\"\ngit push\n```\n\n#### 開発のベストプラクティス\n\n**実施すること:**\n- ✅ セマンティックバージョニング（MAJOR.MINOR.PATCH）に従う\n- ✅ `plugin.json` に完全なメタデータを含める\n- ✅ YAMLフロントマター付きの `SKILL.md` を作成\n- ✅ 包括的なドキュメント（README.md）を提供\n- ✅ 環境変数で認証情報を管理\n- ✅ `.env` を `.gitignore` に追加\n- ✅ インストール手順をテスト\n- ✅ プラグイン追加時は `marketplace.json` を更新\n\n**してはいけないこと:**\n- ❌ 機密トークンや認証情報をコミット\n- ❌ ドキュメントをスキップ\n- ❌ バージョンインクリメントを忘れる\n- ❌ 一貫性のない命名規則を使用\n\n### マーケットプレイス管理\n\n#### プラグインの更新\n\n```bash\n# 1. プラグインファイルを修正\n# 2. plugin.json のバージョンをインクリメント\nvim plugins/{plugin-name}/.claude-plugin/plugin.json\n\n# 3. 変更をコミット\ngit add plugins/{plugin-name}\ngit commit -m \"Update plugin-name to v1.1.0\"\ngit push\n```\n\nユーザーは Claude Code UI から更新を確認できます。\n\n#### プラグインの削除\n\n```bash\n# 1. marketplace.json から削除\nvim .claude-plugin/marketplace.json\n\n# 2. オプションでプラグインディレクトリを削除\nrm -rf plugins/{plugin-name}\n\n# 3. 変更をコミット\ngit add .\ngit commit -m \"Remove plugin-name from marketplace\"\ngit push\n```\n\n#### バージョン管理ルール\n\nセマンティックバージョニング（`MAJOR.MINOR.PATCH`）に従います：\n\n- **MAJOR**: 破壊的変更（後方互換性なし）\n- **MINOR**: 後方互換性のある新機能追加\n- **PATCH**: バグフィックスのみ\n\n例：\n- `1.0.0 → 1.0.1`: バグ修正\n- `1.0.1 → 1.1.0`: 新機能追加\n- `1.1.0 → 2.0.0`: 破壊的変更\n\n### リファレンス\n\n#### 公式ドキュメント\n\n- [Claude Code ドキュメント](https://docs.claude.com/en/docs/claude-code)\n- [プラグインマーケットプレイス](https://code.claude.com/docs/ja/plugin-marketplaces)\n- [プラグイン開発ガイド](https://docs.claude.com/en/docs/claude-code/plugins)\n- [スキルドキュメント](https://docs.claude.com/en/docs/claude-code/skills)\n- [MCP仕様](https://modelcontextprotocol.io)\n\n#### MCPサーバー公式リポジトリ\n\n- [GitHub MCP](https://github.com/github/github-mcp-server)\n- [Serena MCP](https://github.com/oraios/serena)\n- [Notion MCP](https://mcp.notion.com)\n- [BigQuery MCP](https://github.com/ergut/mcp-server-bigquery)\n- [DBHub MCP](https://github.com/bytebase/dbhub)\n- [Chrome DevTools MCP](https://github.com/ChromeDevTools/chrome-devtools-mcp)\n- [AWS Documentation MCP](https://github.com/awslabs/aws-documentation-mcp-server)\n\n#### プロジェクト内ドキュメント\n\n- [CLAUDE.md](./CLAUDE.md) - AIエージェント向けガイドライン\n- [LICENSE](./LICENSE) - MITライセンス\n\n## コントリビューション\n\n1. このリポジトリをフォーク\n2. 新しいプラグインを作成または既存のものを改善\n3. プルリクエストを送信\n4. 新しいプラグインを追加する場合は `marketplace.json` を更新\n\n## サポート\n\n問題が発生した場合：\n1. 各プラグインの README.md を確認\n2. 公式ドキュメントを参照\n3. このリポジトリにイシューを開く\n4. プラグイン作者に連絡（`plugin.json` を参照）\n\n## ライセンス\n\nMIT License - 詳細は [LICENSE](./LICENSE) ファイルを参照\n\n---\n\n**作成者:** takemi-ohama - https://github.com/takemi-ohama\n",
        "plugins/ndf/README.md": "# NDF Plugin\n\nClaude Code開発環境を**オールインワン**で強化する統合プラグインです。\n\n## 概要\n\nこのプラグイン1つで、以下の**すべて**の機能を利用できます：\n\n1. **MCP統合**: 6個のMCPサーバー（Notion、BigQuery、DBHub、Chrome DevTools、AWS Docs、Codex CLI）\n2. **開発ワークフロー**: 7つのコマンド（PR作成、Test Plan自動実行、レビュー、修正対応、マージ、ブランチクリーンアップ）\n3. **専門エージェント**: 6つの特化型AIエージェント（**director指揮者**、データ分析、コーディング、調査、ファイル読み取り、品質管理）\n4. **Skills**: 9個のモデル起動型機能モジュール（SQL最適化、コードテンプレート、テスト生成、PDF解析、Markdown文書作成等）\n5. **自動フック**: Slack通知\n\n> **Note (v2.1.0)**: GitHub MCP、Serena MCP、Context7 MCPは公式プラグイン（`anthropics/claude-plugins-official`）に移行しました。**directorエージェント**がClaude Code機能を活用する指揮者として再定義されました。\n\n## インストール\n\n### 前提条件\n\n- Claude Code がインストール済み\n- Python 3.10以上（BigQuery MCP用）\n- `uvx` がインストール済み（`pip install uv`）\n- Node.js（DBHub、Chrome DevTools MCP用）\n- Codex CLI（Codex CLI MCP用）- オプション\n\n### 公式プラグインのインストール（推奨）\n\nGitHub、Serena、Context7 MCPは公式プラグインとして提供されています：\n\n```bash\n# Claude Codeで実行\n/plugin install github@anthropics/claude-plugins-official\n/plugin install serena@anthropics/claude-plugins-official\n/plugin install context7@anthropics/claude-plugins-official\n```\n\n### ステップ1: マーケットプレイスの追加\n\n```bash\n# Claude Codeで実行\n/plugin marketplace add https://github.com/takemi-ohama/ai-plugins\n```\n\n### ステップ2: プラグインのインストール\n\n```bash\n# Claude Codeで実行\n/plugin install ndf@ai-plugins\n```\n\n### ステップ3: .envファイルの作成\n\nプロジェクトルートに `.env` ファイルを作成し、必要な認証情報を設定します。\n\n```bash\n# Notion MCP (オプション - Notion使用時のみ)\n# Integration Token取得: https://www.notion.so/my-integrations\nNOTION_TOKEN=\n\n# BigQuery MCP (オプション - BigQuery使用時のみ)\n# GCPプロジェクトID、ロケーション、サービスアカウントキーファイル\nBIGQUERY_PROJECT=\nBIGQUERY_LOCATION=US\nBIGQUERY_KEY_FILE=\n\n# DBHub MCP (オプション - データベース操作用)\n# データベース接続文字列 (DSN)\nDSN=\n\n# Slack通知 (オプション)\n# Slack Appセットアップ手順は下記の詳細設定を参照\nSLACK_BOT_TOKEN=\nSLACK_CHANNEL_ID=\nSLACK_USER_MENTION=  # 例: <@U0123456789>\n\n# 注意:\n# - AWS Docs MCP、Chrome DevTools MCPは認証不要\n# - Codex CLI MCPはインストール必要: https://github.com/openai/codex/releases\n#   インストール後、'codex login'を実行\n# - GitHub MCP、Serena MCP、Context7 MCPは公式プラグインを使用してください\n```\n\n#### .envファイルの保護\n\n`.env` ファイルには機密情報が含まれるため、必ず `.gitignore` に追加してください：\n\n```bash\necho \".env\" >> .gitignore\n```\n\n#### 各認証情報の詳細設定\n\n<details>\n<summary><strong>DSN（DATABASE_DSN）の設定方法（DBHub MCP用）</strong></summary>\n\nDBHub MCPは複数のデータベースに対応しています。環境変数名は`DSN`または`DATABASE_DSN`のどちらでも使用可能です。\n\n**PostgreSQL:**\n```bash\nDSN=\"postgres://USERNAME:PASSWORD@HOST:PORT/DATABASE?sslmode=disable\"\n```\n\nSSL接続が必要な場合：\n```bash\nDSN=\"postgres://USERNAME:PASSWORD@HOST:PORT/DATABASE?sslmode=require\"\n```\n\n**MySQL / MariaDB:**\n```bash\nDSN=\"mysql://USERNAME:PASSWORD@HOST:PORT/DATABASE\"\n```\n\nSSH踏み台サーバー経由で接続する場合：\n1. SSHトンネルを作成（ローカルポート転送）\n   ```bash\n   ssh -L 3307:DB_HOST:3306 USER@BASTION_HOST -N\n   ```\n2. ローカルポート経由で接続\n   ```bash\n   DSN=\"mysql://USERNAME:PASSWORD@localhost:3307/DATABASE\"\n   ```\n\n**SQLite:**\n```bash\nDSN=\"sqlite:///PATH/TO/DATABASE.db\"\n```\n\n**SQL Server:**\n```bash\nDSN=\"sqlserver://USERNAME:PASSWORD@HOST:PORT?database=DATABASE\"\n```\n\n**注意事項:**\n- パスワードに特殊文字が含まれる場合は、URLエンコードが必要（例: `@` → `%40`, `#` → `%23`）\n- ローカルデータベースの場合は `localhost` を使用\n- `DSN`と`DATABASE_DSN`は同じ意味（どちらを使用してもOK）\n\n</details>\n\n<details>\n<summary><strong>SLACK_BOT_TOKEN と SLACK_CHANNEL_ID の設定方法</strong></summary>\n\nSlack通知を有効にするには、Slack Appを作成してBot Tokenとチャンネル IDを取得する必要があります。\n\n**ステップ1: Slack Appの作成**\n\n1. https://api.slack.com/apps にアクセス\n2. \"Create New App\" をクリック\n3. \"From scratch\" を選択\n4. App名を入力（例: \"Claude Code Notifier\"）\n5. Workspaceを選択\n\n**ステップ2: Bot Token Scopesの追加**\n\n1. 左メニューから \"OAuth & Permissions\" を選択\n2. \"Scopes\" セクションまでスクロール\n3. \"Bot Token Scopes\" で以下を追加：\n   - `chat:write` （必須 - メッセージ投稿用）\n   - `chat:write.public` （推奨 - 公開チャンネル投稿用）\n   - `channels:read` （オプション - チャンネル情報取得用）\n\n**ステップ3: Workspaceへのインストール**\n\n1. ページ上部の \"Install to Workspace\" をクリック\n2. 権限を確認して \"Allow\" をクリック\n3. **Bot User OAuth Token** をコピー（`xoxb-`で始まる）\n   → これを `.env` の `SLACK_BOT_TOKEN` に設定\n\n**ステップ4: Botをチャンネルに追加**\n\n1. Slackで通知先チャンネルを開く\n2. チャンネル名をクリック → \"Integrations\" タブ\n3. \"Add apps\" をクリック\n4. 作成したアプリを選択して追加\n\n**ステップ5: チャンネルIDの取得**\n\n1. 通知先チャンネルを開く\n2. チャンネル名をクリック\n3. 下部の「その他」→ チャンネルIDをコピー（`C`で始まる）\n   → これを `.env` の `SLACK_CHANNEL_ID` に設定\n\n**ステップ6: ユーザーIDの取得（オプション - 通知音用）**\n\n1. Slackでプロフィールを開く\n2. \"その他\" → \"メンバーIDをコピー\"（`U`で始まる）\n3. メンション形式で設定：\n   ```bash\n   SLACK_USER_MENTION=\"<@U0123456789>\"\n   ```\n\n**最終的な.env設定例:**\n```bash\nSLACK_BOT_TOKEN=\"xoxb-YOUR-BOT-TOKEN-HERE\"\nSLACK_CHANNEL_ID=\"C0123456789\"\nSLACK_USER_MENTION=\"<@U0123456789>\"  # オプション\n```\n\n**⚠️ セキュリティ注意:**\n- Bot Tokenは絶対にGitにコミットしない\n- トークンが漏洩した場合は即座に無効化（Revoke）\n- 最小限の権限（Scope）のみを付与\n\n</details>\n\n### ステップ4: Claude Codeを再起動\n\n`.env` ファイルに値を入力したら、Claude Codeを再起動してMCPサーバーとフックをロードします。\n\n## 環境変数リファレンス\n\n各MCPサーバーが使用する環境変数の完全な一覧です。太字は必須、通常テキストはオプションです。\n\n### 📋 環境変数テンプレート\n\nプロジェクトルートに以下の`.env`ファイルを作成してください：\n\n```bash\n# ============================================\n# Chrome DevTools MCP - Web調査\n# ============================================\n# 専用環境変数なし - envFileのみ\n\n# ============================================\n# Codex CLI MCP - コードレビュー\n# ============================================\n# すべてオプション - ローカルインストール推奨\n# CODEX_HOME=/path/to/codex/home\n# OPENAI_API_KEY=your-openai-api-key\n# OPENAI_BASE_URL=https://api.openai.com/v1\n# AZURE_OPENAI_API_KEY=your-azure-openai-key\n# MISTRAL_API_KEY=your-mistral-api-key\n\n# ============================================\n# Notion MCP - Notionドキュメント管理\n# ============================================\nNOTION_TOKEN=your-notion-token-here\n\n# オプション設定\n# OPENAPI_MCP_HEADERS={\"Authorization\": \"Bearer token\"}\n# AUTH_TOKEN=your-auth-token\n\n# ============================================\n# AWS Docs MCP - AWS公式ドキュメント\n# ============================================\n# FASTMCP_LOG_LEVEL=ERROR\n# AWS_DOCUMENTATION_PARTITION=aws\n# MCP_USER_AGENT=custom-user-agent\n\n# ============================================\n# BigQuery MCP - BigQueryデータ分析\n# ============================================\nBIGQUERY_PROJECT=your-gcp-project-id\nBIGQUERY_LOCATION=US\n\n# オプション設定\n# BIGQUERY_DATASETS=dataset1,dataset2\n# BIGQUERY_KEY_FILE=/path/to/service-account-key.json\n\n# ============================================\n# DBHub MCP - データベース操作\n# ============================================\n# Method 1: DSN（推奨）\nDSN=mysql://user:password@host:3306/database\n\n# Method 2: 個別指定\n# DB_TYPE=mysql\n# DB_HOST=localhost\n# DB_USER=username\n# DB_PASSWORD=password\n# DB_NAME=database\n# DB_PORT=3306\n\n# オプション設定\n# TRANSPORT=http\n# PORT=8080\n# READONLY=false\n\n# SSH踏み台サーバー経由接続（オプション）\n# SSH_HOST=bastion.example.com\n# SSH_PORT=22\n# SSH_USER=ssh-user\n# SSH_PRIVATE_KEY_PATH=/path/to/ssh/key\n# SSH_PRIVATE_KEY=-----BEGIN RSA PRIVATE KEY-----...\n# SSH_PASSWORD=ssh-password\n\n# ============================================\n# Slack通知 - 自動フック\n# ============================================\nSLACK_BOT_TOKEN=xoxb-your-slack-bot-token\nSLACK_CHANNEL_ID=C0123456789\nSLACK_USER_MENTION=<@U0123456789>\n```\n\n### 📊 MCPサーバー別環境変数詳細\n\n> **Note (v2.0.0)**: GitHub MCP、Serena MCP、Context7 MCPは公式プラグイン（`anthropics/claude-plugins-official`）に移行しました。環境変数設定は各公式プラグインのドキュメントを参照してください。\n\n#### 1. Chrome DevTools MCP\n\n**専用環境変数なし** - `.env`ファイルの`envFile`設定のみ使用。\n\n#### 2. Codex CLI MCP\n\n| 環境変数 | 必須/オプション | デフォルト値 | 説明 |\n|---------|--------------|------------|------|\n| CODEX_HOME | オプション | `~/.codex` | Codex CLIのホームディレクトリ |\n| OPENAI_API_KEY | オプション | - | OpenAI APIキー |\n| OPENAI_BASE_URL | オプション | `https://api.openai.com/v1` | OpenAI APIのベースURL |\n| AZURE_OPENAI_API_KEY | オプション | - | Azure OpenAI APIキー |\n| MISTRAL_API_KEY | オプション | - | Mistral AIのAPIキー |\n\n**注意:** Codex CLI MCPを使用するには、Codex CLIを事前にインストールし、`codex login`を実行してください。\n\nインストール: https://github.com/openai/codex/releases\n\n#### 3. Notion MCP\n\n| 環境変数 | 必須/オプション | デフォルト値 | 説明 |\n|---------|--------------|------------|------|\n| **NOTION_TOKEN** | **必須** | - | Notion Internal Integration Token<br>取得: https://www.notion.so/my-integrations |\n| OPENAPI_MCP_HEADERS | オプション | - | カスタムHTTPヘッダー（JSON形式） |\n| AUTH_TOKEN | オプション | - | 追加の認証トークン |\n\n#### 4. AWS Docs MCP\n\n| 環境変数 | 必須/オプション | デフォルト値 | 説明 |\n|---------|--------------|------------|------|\n| FASTMCP_LOG_LEVEL | オプション | `ERROR` | ログレベル（`DEBUG`, `INFO`, `WARNING`, `ERROR`, `CRITICAL`） |\n| AWS_DOCUMENTATION_PARTITION | オプション | `aws` | AWSパーティション（`aws`, `aws-cn`, `aws-us-gov`） |\n| MCP_USER_AGENT | オプション | - | カスタムUser-Agent |\n\n**注意:** 認証不要でAWS公式ドキュメントにアクセスできます。\n\n#### 5. BigQuery MCP\n\n| 環境変数 | 必須/オプション | デフォルト値 | 説明 |\n|---------|--------------|------------|------|\n| **BIGQUERY_PROJECT** | **必須** | - | GCPプロジェクトID |\n| BIGQUERY_LOCATION | オプション | `US` | BigQueryデータセットのロケーション |\n| BIGQUERY_DATASETS | オプション | - | アクセス許可するデータセット（カンマ区切り） |\n| BIGQUERY_KEY_FILE | オプション | - | サービスアカウントキーファイルのパス<br>（未指定の場合はApplication Default Credentials使用） |\n\n**認証方法:**\n1. **サービスアカウントキーファイル（推奨）**: `BIGQUERY_KEY_FILE`にJSON keyファイルのパスを指定\n2. **Application Default Credentials（ADC）**: `BIGQUERY_KEY_FILE`を設定せず、以下のいずれかを使用\n   - 環境変数`GOOGLE_APPLICATION_CREDENTIALS`でキーファイルのパスを指定\n   - `gcloud auth application-default login`を実行してユーザー認証情報を使用\n\n**注意:** NDFプラグインでは`BIGQUERY_KEY_FILE`を推奨します。ADCを使う場合は`BIGQUERY_KEY_FILE`を設定しないでください。\n\nサービスアカウント作成: https://console.cloud.google.com/iam-admin/serviceaccounts\n\n#### 6. DBHub MCP\n\n| 環境変数 | 必須/オプション | デフォルト値 | 説明 |\n|---------|--------------|------------|------|\n| **DSN** または **DATABASE_DSN** | **必須（Method 1）** | - | データベース接続文字列<br>例: `mysql://user:pass@host:3306/db`<br>（両変数名をサポート） |\n| **DB_TYPE** | **必須（Method 2）** | - | データベースタイプ（`mysql`, `postgres`, `sqlite`, `sqlserver`） |\n| **DB_HOST** | **必須（Method 2）** | - | データベースホスト |\n| **DB_USER** | **必須（Method 2）** | - | データベースユーザー名 |\n| **DB_PASSWORD** | **必須（Method 2）** | - | データベースパスワード |\n| **DB_NAME** | **必須（Method 2）** | - | データベース名 |\n| DB_PORT | オプション | DB依存 | データベースポート（MySQL: 3306, PostgreSQL: 5432） |\n| TRANSPORT | オプション | `http` | トランスポートプロトコル（`http`または`tcp`） |\n| PORT | オプション | `8080` | MCPサーバーのポート |\n| SSH_HOST | オプション | - | SSH踏み台サーバーのホスト |\n| SSH_PORT | オプション | `22` | SSHポート |\n| SSH_USER | オプション | - | SSHユーザー名 |\n| SSH_PRIVATE_KEY_PATH | オプション | - | SSH秘密鍵のパス |\n| SSH_PRIVATE_KEY | オプション | - | SSH秘密鍵の内容（直接指定） |\n| SSH_PASSWORD | オプション | - | SSHパスワード（鍵認証推奨） |\n| READONLY | オプション | `false` | 読み取り専用モード |\n\n**接続方法の選択:**\n- **Method 1（推奨）**: `DSN`または`DATABASE_DSN`のみ指定\n- **Method 2**: `DB_TYPE`, `DB_HOST`, `DB_USER`, `DB_PASSWORD`, `DB_NAME`を個別指定\n\n### 🔧 データベース接続文字列（DSN）の形式\n\n#### PostgreSQL\n```bash\nDSN=\"postgres://USERNAME:PASSWORD@HOST:PORT/DATABASE?sslmode=disable\"\n```\n\nSSL接続が必要な場合：\n```bash\nDSN=\"postgres://USERNAME:PASSWORD@HOST:PORT/DATABASE?sslmode=require\"\n```\n\n#### MySQL / MariaDB\n```bash\nDSN=\"mysql://USERNAME:PASSWORD@HOST:PORT/DATABASE\"\n```\n\n#### SQLite\n```bash\nDSN=\"sqlite:///PATH/TO/DATABASE.db\"\n```\n\n#### SQL Server\n```bash\nDSN=\"sqlserver://USERNAME:PASSWORD@HOST:PORT?database=DATABASE\"\n```\n\n**注意事項:**\n- パスワードに特殊文字が含まれる場合は、URLエンコードが必要（例: `@` → `%40`, `#` → `%23`）\n- ローカルデータベースの場合は `localhost` を使用\n\n### 🔐 Slack通知の環境変数\n\n| 環境変数 | 必須/オプション | デフォルト値 | 説明 |\n|---------|--------------|------------|------|\n| SLACK_BOT_TOKEN | 必須（Slack通知用） | - | Slack Bot User OAuth Token（`xoxb-`で始まる） |\n| SLACK_CHANNEL_ID | 必須（Slack通知用） | - | 通知先チャンネルID（`C`で始まる） |\n| SLACK_USER_MENTION | オプション | - | メンション対象ユーザーID（`<@U0123456789>`形式） |\n\n詳細な設定手順は[SLACK_BOT_TOKENとSLACK_CHANNEL_IDの設定方法](#各認証情報の詳細設定)を参照してください。\n\n### 🛡️ セキュリティのベストプラクティス\n\n- ✅ `.env` ファイルを `.gitignore` に追加\n- ✅ 最小限のスコープ/権限を使用\n- ✅ トークンを定期的にローテーション\n- ✅ チーム内で環境変数を安全に共有（1Password、AWS Secrets Manager等）\n- ❌ トークンをコードやドキュメントにコミットしない\n- ❌ トークンをSlack/メール等で平文送信しない\n\n## 機能詳細\n\n### 1. 開発ワークフローコマンド\n\n開発の各段階で使用するコマンド群です。効率的なワークフローを実現します。\n\n#### `/serena`\n**用途:** Serena MCPを使用した開発記憶（メモリー）の記録  \n**使用タイミング:** 重要な実装内容や設計判断を記録したいとき\n\n#### `/pr`\n**用途:** 現在のブランチから自動的にプルリクエストを作成\n**使用タイミング:** 機能実装やバグ修正が完了し、レビューを依頼したいとき\nコミット履歴とdiffを分析し、適切なPR説明を自動生成します。\n\n#### `/pr-tests` ⭐ NEW in v2.3.0\n**用途:** `/pr`コマンドで作成されたPRのTest Planを自動実行\n**使用タイミング:** PRが作成された後、Test Planの項目を自動でテストしたいとき\nPRの本文に記載されたTest Plan（チェックリスト形式）を読み取り、各テスト項目を自動で実行します。成功したテストにはチェックマークを付け、失敗したテストについてはコードを修正またはコメントを追加します。\n\n**引数:**\n- PR番号（オプション）: 指定しない場合は現在のブランチから自動検出\n\n**使用例:**\n```bash\n# 現在のブランチのPRをテスト\n/ndf:pr-tests\n\n# 特定のPR番号を指定\n/ndf:pr-tests 123\n```\n\n#### `/review`\n**用途:** 指定されたPRの内容をレビュー  \n**使用タイミング:** 他の開発者のPRをレビューする必要があるとき  \nコード品質、セキュリティ、ベストプラクティスの観点から包括的にレビューします。\n\n#### `/fix`\n**用途:** PRのレビューコメントを確認し、指摘事項に対応  \n**使用タイミング:** PRにレビューコメントが付いたとき  \nレビュー内容を分析し、必要な修正を実施してコミット・プッシュします。\n\n#### `/merged`\n**用途:** PRマージ後のローカルブランチクリーンアップ  \n**使用タイミング:** 自分が作成したPRがマージされた直後  \nmainブランチを更新し、マージ済みのfeatureブランチを安全に削除します。\n\n#### `/clean`\n**用途:** マージ済みの古いブランチを一括クリーンアップ  \n**使用タイミング:** ローカルに不要なブランチが溜まってきたとき  \nリモートで削除済みのブランチをローカルからも削除します。\n\n### 3. 専門エージェント (6種類)\n\n**重要**: このプラグインには`CLAUDE.ndf.md`が含まれており、メインエージェント（Claude）に対してサブエージェントの積極的な活用を促す指示が記載されています。\n\n**サブエージェントの活用方針:**\n- **複雑なタスクは`director`に委譲** - directorがMain Agentに報告し、Main Agentが他のエージェントを起動\n- **単純なタスクは専門エージェントに直接委譲**\n- **directorはMain Agentに報告する** - メモリエラー防止のため直接呼び出しは行わない\n\n詳細は `plugins/ndf/CLAUDE.ndf.md` を参照してください。\n\n#### `director` エージェント（指揮者）⭐ NEW in v2.1.0\n**専門領域:** タスク統括・設計立案・エージェント調整\n\n**特徴:**\n- **Main Agentに報告** - 必要なエージェントをMain Agentに報告し、Main Agentがサブエージェントを起動（メモリエラー防止）\n- Claude Code機能（Plan Mode、Explore Agent、TodoWrite）を活用\n- タスク規模に応じた適切な対応（小規模→直接処理、大規模→Plan Mode）\n- Main agentのコンテキスト消費を最小化\n- **計画・調査結果をファイルに保存** - 途中停止からの復帰を可能に\n\n**機能:**\n- タスク分析と規模判定（小/中/大）\n- 複数エージェントの並列/順次実行の計画立案\n- 進捗管理（TodoWrite）\n- 設計計画の策定と**ファイル保存**（`issues/`, `docs/`, `specs/`）\n- **Main Agentへの報告** - 必要なエージェントと実行順序を明示\n\n**使用例:**\n```\n@director ユーザー認証機能を追加してください。ベストプラクティスを調査し、実装してセキュリティレビューも行ってください\n```\n→ directorが調査・計画後、Main Agentに「researcher → corder → qaの順次実行が必要」と報告\n→ Main Agentが報告に基づきエージェントを起動\n\n#### `data-analyst` エージェント\n**専門領域:** データ分析とSQL操作\n\n**使用MCPツール:**\n- BigQuery MCP\n- DBHub MCP\n\n**機能:**\n- SQL生成と実行\n- クエリ結果の分析と解釈\n- データの傾向とパターン発見\n- CSV/JSON/Excel形式でのデータ出力\n- レポート生成とデータ可視化の準備\n\n**使用例:**\n```\n@data-analyst BigQueryで過去1ヶ月の売上データを分析してください\n```\n\n#### `corder` エージェント\n**専門領域:** 高品質コード生成\n\n**使用MCPツール:**\n- Codex CLI MCP（コードレビュー）\n\n> **Note (v2.0.0)**: Serena MCP、Context7 MCPは公式プラグインに移行しました。これらは引き続きcorderエージェントで使用可能ですが、別途インストールが必要です。\n\n**機能:**\n- クリーンで読みやすいコードの作成\n- 設計パターンとアーキテクチャの適用\n- AIによるコードレビューと品質保証\n- セキュリティ脆弱性のチェック\n- リファクタリング提案\n\n**使用例:**\n```\n@corder ユーザー認証機能を実装してください。セキュリティとテストも考慮して\n```\n\n#### `researcher` エージェント\n**専門領域:** 情報収集と分析\n\n**使用MCPツール:**\n- Codex CLI MCP（コードベース分析）\n- AWS Documentation MCP（AWS公式ドキュメント）\n- Chrome DevTools MCP（Webスクレイピング）\n\n**機能:**\n- 技術ドキュメントの調査と要約\n- Webサイトからの情報収集\n- コードベースのアーキテクチャ分析\n- 複数ソースからの情報統合\n- スクリーンショットとPDF取得\n\n**使用例:**\n```\n@researcher AWS Lambda関数のベストプラクティスを調査してください\n```\n\n#### `scanner` エージェント\n**専門領域:** ファイル読み取りとOCR\n\n**使用MCPツール:**\n- Codex CLI MCP（ファイル読み取り）\n\n**機能:**\n- PDFドキュメントのテキスト抽出\n- 画像内のテキスト認識（OCR）\n- PowerPoint/Excelファイルの読み取り\n- 読み取った内容の構造化\n- Markdown/CSV/JSON形式への変換\n\n**使用例:**\n```\n@scanner document.pdfの内容を読み取って要約してください\n```\n\n#### `qa` エージェント\n**専門領域:** 品質管理とテスト\n\n**使用MCPツール:**\n- Codex CLI MCP（コードレビュー、セキュリティチェック）\n- Serena MCP（コードベース分析）\n- Chrome DevTools MCP（パフォーマンステスト）\n- Claude Code MCP（プラグイン品質検証）\n\n**機能:**\n- コード品質レビューとリファクタリング提案\n- セキュリティ脆弱性検出（OWASP Top 10対応）\n- パフォーマンステスト（Core Web Vitals評価）\n- テストカバレッジとエッジケース検証\n- ドキュメント品質チェック\n- Claude Codeプラグイン仕様準拠確認\n\n**使用例:**\n```\n@qa このコードの品質とセキュリティをレビューしてください\n@qa Webアプリケーションのパフォーマンスを測定してください\n@qa プラグインがClaude Code仕様に準拠しているか確認してください\n```\n\n### 4. Skills (9種類) 🎯\n\n**Claude Code Skills**は、Claudeが自律的に判断して起動する**モデル起動型**の機能モジュールです。各サブエージェントは、タスク内容に応じて適切なSkillsを自動的に活用します。\n\n> **Note (v2.0.0)**: `director-project-planning`と`qa-code-review-checklist`は重複機能のため削除されました。プロジェクト計画にはClaude CodeのPlan Modeを、コードレビューチェックには公式プラグイン（`pr-review-toolkit`等）を使用してください。\n\n#### Skills一覧\n\n**Data Analyst Skills (2個):**\n- ⚡ **data-analyst-sql-optimization** - SQL最適化パターンとベストプラクティス\n  - N+1クエリ削減、インデックス活用、JOIN最適化\n  - Before/After実例集（8パターン）\n- 💾 **data-analyst-export** - クエリ結果を様々な形式でエクスポート\n  - CSV（UTF-8 BOM、Excel互換）、JSON、Excel（複数シート）、Markdownテーブル\n\n**Corder Skills (2個):**\n- 📝 **corder-code-templates** - コード生成テンプレート集\n  - REST APIエンドポイント（Express.js、FastAPI）\n  - Reactコンポーネント（Hooks、状態管理）\n  - データベースモデル（Sequelize、TypeORM、Mongoose）\n  - 認証ミドルウェア（JWT、OAuth）\n- 🧪 **corder-test-generation** - テストコード自動生成\n  - ユニットテスト（Jest、Mocha、pytest）\n  - AAA（Arrange-Act-Assert）パターン\n  - テストフィクスチャ・モック生成\n\n**Researcher Skills (1個):**\n- 📊 **researcher-report-templates** - 調査レポートテンプレート集\n  - 構造化された調査レポート\n  - 技術比較テーブル\n  - ベストプラクティスまとめ\n  - エグゼクティブサマリー\n\n**Scanner Skills (2個):**\n- 📄 **scanner-pdf-analysis** - PDF解析とデータ抽出\n  - テキスト抽出、テーブル検出とCSV変換\n  - セクション・見出し識別、重要ポイント要約\n- 📊 **scanner-excel-extraction** - Excelデータ抽出と構造化\n  - 複数シート読み込み、JSON/CSV形式変換\n  - 数式評価、大容量ファイル対応\n\n**QA Skills (1個):**\n- 🔒 **qa-security-scan** - セキュリティスキャンと脆弱性評価\n  - OWASP Top 10チェックリスト（詳細な修正方法付き）\n  - 認証・認可テスト、データ保護確認\n\n**Documentation Skills (1個):**\n- 📝 **markdown-writing** - Markdown文書作成のルールとベストプラクティス\n  - mermaid/plantUMLによる図表作成（ASCII ART禁止）\n  - 文書の適切な分割（300行超の場合、順序prefix付きで分割）\n  - 構造化されたドキュメント作成ガイド\n\n#### Skillsの使い方\n\n**自動起動（推奨）:**\nClaudeは自然言語リクエストから適切なSkillsを自動判断して起動します。\n\n```\nこのSQLクエリを最適化してください\n→ data-analyst-sql-optimizationが自動起動\n\nREST APIのテンプレートを使ってエンドポイントを作成してください\n→ corder-code-templatesが自動起動\n\nセキュリティスキャンを実行してください\n→ qa-security-scanが自動起動\n```\n\n**トリガーキーワード例:**\n- \"optimize SQL\", \"slow query\", \"SQL最適化\"\n- \"export data\", \"save results\", \"データ出力\"\n- \"create API\", \"new component\", \"コードテンプレート\"\n- \"generate tests\", \"create unit test\", \"テスト生成\"\n- \"analyze PDF\", \"extract tables\", \"PDF解析\"\n- \"security scan\", \"OWASP\", \"セキュリティスキャン\"\n\n#### Skillsの特徴\n\n- **Model-invoked**: Claudeが自律的に判断して呼び出す\n- **Progressive Disclosure**: メインドキュメント≤500行、詳細はテンプレート/スクリプトに分離\n- **Sub-agent specialization**: 各サブエージェントの既存機能を補完\n- **Templates & Scripts**: 実用的なテンプレートとスクリプトを提供\n\n詳細は各Skillの`SKILL.md`を参照してください。\n\n### 2. MCP統合 (6サーバー)\n\nこのプラグインは6個の強力なMCPサーバーを統合しています。各MCPの詳細な使用方法やベストプラクティスは、エージェント向けガイド `plugins/ndf/CLAUDE.md` を参照してください。\n\n> **Note (v2.0.0)**: GitHub MCP、Serena MCP、Context7 MCPは公式プラグイン（`anthropics/claude-plugins-official`）に移行しました。\n\n**Notion** などの基本MCP、**BigQuery、DBHub** などのデータベースMCP、**Chrome DevTools、AWS Docs、Codex CLI** など専門MCPを含みます。\n\n#### MCPのデフォルト状態\n\nコンテキスト使用量を最適化するため、よく使うMCPのみがデフォルトで有効化されています。\n\n**デフォルトで有効（2つ）:**\n- ✅ **Chrome DevTools MCP** - Web調査、パフォーマンステスト\n- ✅ **Codex CLI MCP** - コードレビュー、ファイル読み取り\n\n**デフォルトで無効（5つ）:**\n- ⏸️ **Notion MCP** - コンテキストが大きいため無効\n- ⏸️ **AWS Documentation MCP** - エラーが発生するため無効\n- ⏸️ **BigQuery MCP** - 利用するプロジェクトが限られるため無効\n- ⏸️ **DBHub MCP** - 利用するプロジェクトが限られるため無効\n- ⏸️ **Claude Code MCP** - コンテキストが大きいため無効\n\n> **Tip**: GitHub MCP、Serena MCP、Context7 MCPは公式プラグインからインストールして使用してください：\n> ```bash\n> /plugin install github@anthropics/claude-plugins-official\n> /plugin install serena@anthropics/claude-plugins-official\n> /plugin install context7@anthropics/claude-plugins-official\n> ```\n\n#### 無効化されているMCPを有効にする方法\n\n特定のプロジェクトで無効化されているMCPを使いたい場合、`/mcp`コマンドで簡単に有効化できます：\n\n**手順:**\n\n1. **Claude Codeで`/mcp`コマンドを実行**\n\n   チャット入力欄に以下を入力してEnter：\n   ```\n   /mcp\n   ```\n\n2. **MCP一覧から有効化したいMCPを選択**\n\n   表示されるMCP一覧で：\n   - 🟢 緑色のドット = 有効\n   - ⚫ グレーのドット = 無効\n\n   有効化したいMCP（例: `plugin:ndf:notion`）をクリックして選択します。\n\n3. **Enable（有効化）を選択**\n\n   選択したMCPの詳細画面で「Enable」ボタンをクリックします。\n\n   または、一覧画面でMCP名の右側にあるトグルスイッチをクリックして有効化できます。\n\n4. **（必要に応じて）認証情報を設定**\n\n   BigQuery、DBHub、Notionなどを有効化した場合は、`.env`ファイルに対応する認証情報も設定してください：\n   ```bash\n   # .envファイルに追加\n   NOTION_TOKEN=your_notion_integration_token_here\n   DSN=mysql://user:pass@host:3306/db\n   BIGQUERY_PROJECT=your-gcp-project-id\n   BIGQUERY_KEY_FILE=/path/to/service-account-key.json\n   ```\n\n5. **Claude Codeを再起動**\n\n   変更を反映するために、Claude Codeを終了して再起動します。\n\n   ```bash\n   # ターミナルから再起動する場合\n   # Ctrl+C で終了後、再度起動\n   claude\n   ```\n\n6. **有効化を確認**\n\n   再度 `/mcp` コマンドを実行して、該当のMCPが🟢緑色になっていることを確認します。\n\n**有効化の具体例:**\n\n| MCP | 必要な認証情報 | 用途 |\n|-----|-------------|------|\n| **Notion MCP** | `NOTION_TOKEN` | Notionドキュメント管理 |\n| **BigQuery MCP** | `BIGQUERY_PROJECT`, `BIGQUERY_KEY_FILE`（オプション） | BigQueryデータ分析 |\n| **DBHub MCP** | `DSN`（または`DATABASE_DSN`） | データベース操作（MySQL/PostgreSQL等） |\n| **AWS Docs MCP** | 不要 | AWS公式ドキュメント検索 |\n| **Claude Code MCP** | 不要 | Claude Code機能拡張 |\n\n**注意事項:**\n- MCPを有効化すると、コンテキスト使用量が増加します（1MCPあたり約5k～30k tokens）\n- 認証が必要なMCPは、対応する`.env`設定を忘れずに行ってください\n- 使わないMCPは無効のままにしておくことを推奨します（パフォーマンス向上）\n\n#### 現在有効なMCPをさらに無効化する\n\nデフォルトで有効になっている5つのMCPのうち、使用しないものがあればさらに無効化できます。\n\n**無効化の手順:**\n\n1. **Claude Codeで`/mcp`コマンドを実行**\n\n   チャット入力欄に以下を入力してEnter：\n   ```\n   /mcp\n   ```\n\n2. **MCP一覧から無効化したいMCPを選択**\n\n   表示されるMCP一覧で：\n   - 🟢 緑色のドット = 有効\n   - ⚫ グレーのドット = 無効\n\n   無効化したいMCP（例: `plugin:ndf:context7`）をクリックして選択します。\n\n3. **Disable（無効化）を選択**\n\n   選択したMCPの詳細画面で「Disable」ボタンをクリックします。\n\n   または、一覧画面でMCP名の右側にあるトグルスイッチをクリックして無効化できます。\n\n4. **Claude Codeを再起動**\n\n   変更を反映するために、Claude Codeを終了して再起動します。\n\n5. **無効化を確認**\n\n   再度 `/mcp` コマンドを実行して、該当のMCPが⚫グレーになっていることを確認します。\n\n**無効化の具体例:**\n\n| MCP | 無効化を検討すべきケース |\n|-----|---------------------|\n| **Chrome DevTools** | Webスクレイピングやパフォーマンステストが不要な場合（約10k tokens削減） |\n| **Codex CLI** | AIコードレビュー機能が不要な場合（約3k tokens削減） |\n\n**補足:**\n- MCPの有効化/無効化は各プロジェクトごとに設定されます\n- 設定は`.claude/settings.json`または`.mcp.json`に保存されます\n- 変更後、Claude Codeを再起動すると設定が反映されます\n\n### 3. 自動フック\n\nClaude Code終了時に自動的に以下が実行されます：\n\n#### Slack通知\n\n作業終了時にSlackへ要約通知を送信します（`SLACK_BOT_TOKEN`設定時のみ）。\n\n**機能:**\n- Claude Codeとのやり取りをAIが自動要約（40文字）\n- Claude CLI + `--no-session-persistence`を使用（要約生成時に追加のセッションログを作成しない）\n- Claude Codeの認証設定を自動継承（API KeyでもBedrockでも対応）\n- 会話履歴、transcriptから最適な情報源を自動選択\n- リポジトリ名とタイムスタンプも含めて通知\n\n**設定:**\n- `.env`に`SLACK_BOT_TOKEN`、`SLACK_CHANNEL_ID`、`SLACK_USER_MENTION`を設定\n- 詳細な設定手順は上記の[SLACK_BOT_TOKENとSLACK_CHANNEL_IDの設定方法](#各認証情報の詳細設定)を参照\n- 設定後、Claude Codeを再起動で有効化\n\n**注意:**\n- プラグイン更新後も再起動が必要です\n\n## 推奨プラグイン併用\n\n### affaan-m プラグイン\n\nNDFプラグインと併用することで、以下の機能が追加されます：\n\n- **コンテキスト管理**: `/context-status`でコンテキスト使用率を監視\n- **品質保証**: 自動フォーマット、console.log検出、シークレットスキャン\n- **TDDワークフロー**: `/tdd`コマンドで5段階TDDプロセスをガイド\n- **セキュリティチェック**: OWASP Top 10準拠の脆弱性検出\n\n### インストール方法\n\n```bash\n/plugin install affaan-m@ai-plugins\n```\n\n### 併用による相乗効果\n\n| プラグイン | 役割 |\n|-----------|------|\n| **NDFプラグイン** | MCP統合、ワークフロー、専門エージェント |\n| **affaan-mプラグイン** | コンテキスト管理、品質保証、TDDワークフロー |\n\n詳細は[affaan-mプラグインREADME](../affaan-m/README.md)を参照してください。\n\n## 利用方法\n\nセットアップが完了したら、Claude Codeで自然言語でリクエストするだけです：\n\n```\nこのリポジトリのオープンなPRを確認して\n```\n\nClaude Codeが自動的に適切なMCPツールを選択・利用します。\n\nまた、スラッシュコマンドも利用可能：\n\n```\n/pr\n/review 123\n/merge\n```\n\n## セキュリティのベストプラクティス\n\n- ✅ 環境変数でトークンを管理\n- ✅ `.env` ファイルを `.gitignore` に追加\n- ✅ 最小限のスコープ/権限を使用\n- ✅ トークンを定期的にローテーション\n- ❌ トークンをコードやドキュメントにコミットしない\n\n## サポート\n\n問題が発生した場合：\n1. 上記のトラブルシューティングセクションを確認\n2. GitHubリポジトリでイシューを作成: https://github.com/takemi-ohama/ai-plugins/issues\n\n## ライセンス\n\nMIT License\n\n## 作者\n\ntakemi-ohama - https://github.com/takemi-ohama\n\n## 貢献\n\nプルリクエストを歓迎します。大きな変更の場合は、まずイシューを開いて変更内容を議論してください。\n",
        "plugins/affaan-m/README.md": "# affaan-m プラグイン\n\n**コンテキスト管理、品質保証、TDDワークフローを提供するClaude Codeプラグイン**\n\n## 概要\n\naffaan-mプラグインは、[everything-claude-code](https://github.com/affaan-m/everything-claude-code)（Anthropicハッカソン優勝者による本番環境対応設定集）に基づいて開発されたプラグインです。NDFプラグインと併用することで、本番環境レベルの開発支援環境を構築できます。\n\n**バージョン**: 1.0.0\n\n## NDFプラグインとの併用前提\n\naffaan-mプラグインは**NDFプラグイン（v2.1.0以降）との併用を前提**としています。\n\n### 役割分担\n\n| プラグイン | 役割 |\n|-----------|------|\n| **NDFプラグイン** | MCP統合、ワークフロー、専門エージェント |\n| **affaan-mプラグイン** | コンテキスト管理、品質保証、TDDワークフロー |\n\n### 併用による効果\n\n- NDFプラグイン: MCP統合（6個）+ 専門エージェント（6個）\n- affaan-mプラグイン: コンテキスト管理 + 品質保証Hooks\n- = **本番環境対応の開発支援環境**\n\n## 主要機能\n\n### 1. コンテキスト管理\n\n**問題**: MCPツール有効化により200k→70kへコンテキストが大幅縮小\n\n**解決策**:\n- `/context-status` - コンテキスト使用率の監視\n- 自動コンパクト化 - 60%閾値で`/compact`実行推奨\n- MCP数警告 - 10個超過時に警告表示\n- ツール数監視 - 80個以下を推奨\n\n### 2. 品質保証Hooks\n\n**PreToolUse Hooks**:\n- `context-monitor` - コンテキスト使用率を監視\n- `detect-package-manager` - パッケージマネージャー自動検出\n\n**PostToolUse Hooks** (Edit|Write時に自動実行):\n- `auto-format` - Prettier/ESLintで自動フォーマット\n- `detect-console-log` - console.log/debugger検出警告\n- `typescript-check` - TypeScript型チェック自動実行\n- `secret-scan` - シークレット混入チェック（ファイル変更時）\n\n**Note**: `coverage-check`は`/tdd-coverage`コマンドから手動実行されます\n\n### 3. TDDワークフロー\n\n**5段階TDDプロセス**:\n1. インターフェース定義\n2. RED - 失敗テスト作成（`/tdd-red`）\n3. GREEN - 最小実装（`/tdd-green`）\n4. REFACTOR - リファクタリング（`/tdd-refactor`）\n5. COVERAGE - カバレッジ検証（`/tdd-coverage`）\n\n**コマンド**:\n- `/tdd [機能名]` - TDDワークフロー開始\n\n### 4. セキュリティチェック\n\n**OWASP Top 10準拠**:\n- `/security-scan` - 総合セキュリティスキャン\n- `/owasp-check` - OWASP Top 10チェックリスト\n- シークレット検出 - API key, token, 秘密鍵等\n- 脆弱性パターン検出 - SQLインジェクション、XSS等\n\n### 5. パッケージマネージャー自動検出\n\n**検出順序**:\n1. 環境変数チェック\n2. プロジェクト設定ファイル（package.json）\n3. lockファイル検出（pnpm, yarn, bun, npm）\n\n## インストール\n\n### 前提条件\n\n1. **NDFプラグインのインストール**:\n```bash\n/plugin install ndf@ai-plugins\n```\n\n2. **affaan-mプラグインのインストール**:\n```bash\n/plugin install affaan-m@ai-plugins\n```\n\n### 動作確認\n\n```bash\n# コンテキスト監視\n/context-status\n\n# TDDワークフロー開始\n/tdd \"テスト機能\"\n\n# セキュリティスキャン\n/security-scan\n```\n\n## 使用方法\n\n### シナリオ1: コーディング作業\n\n```bash\n# 1. コンテキスト確認\n/context-status\n\n# 2. TDDワークフロー開始\n/tdd \"ユーザー認証機能\"\n\n# 3. NDFのcorderエージェントで実装\n# （affaan-mのHooksが自動的にチェック）\n\n# 4. カバレッジ検証\n/tdd-coverage \"ユーザー認証機能\"\n```\n\n### シナリオ2: セキュリティレビュー\n\n```bash\n# 1. セキュリティスキャン実行\n/security-scan\n\n# 2. OWASP Top 10チェック\n/owasp-check\n\n# 3. 検出された問題を修正（NDFのcorderと連携）\n\n# 4. 再スキャンで確認\n/security-scan\n```\n\n### シナリオ3: コンテキスト管理\n\n```bash\n# 1. 定期的にコンテキスト確認\n/context-status\n\n# 2. 60%超過時\n/compact\n\n# 3. MCP設定の最適化\n# 未使用MCPを無効化\n```\n\n## 設定\n\n### plugin.json でのカスタマイズ\n\n```json\n{\n  \"config\": {\n    \"contextMonitoring\": {\n      \"enabled\": true,\n      \"threshold\": 60,\n      \"autoCompact\": true\n    },\n    \"hooks\": {\n      \"autoFormat\": true,\n      \"consoleLogDetection\": true,\n      \"typescriptCheck\": true,\n      \"secretScan\": true,\n      \"coverageCheck\": true\n    },\n    \"tdd\": {\n      \"coverageThreshold\": 80,\n      \"enforceRedGreenRefactor\": true\n    },\n    \"security\": {\n      \"owaspCheck\": true,\n      \"secretPatterns\": [\n        \"AWS_ACCESS_KEY_ID\",\n        \"AWS_SECRET_ACCESS_KEY\",\n        \"GITHUB_TOKEN\",\n        \"SLACK_TOKEN\"\n      ]\n    }\n  }\n}\n```\n\n### Hooksの無効化\n\n特定のHooksを無効化する場合は、上記設定で`false`に変更してください。\n\n## コマンド一覧\n\n### コンテキスト管理\n- `/context-status` - コンテキスト使用状況の確認\n\n### TDDワークフロー\n- `/tdd [機能名]` - TDDワークフロー開始\n- `/tdd-red [機能名]` - REDフェーズ（失敗テスト作成）\n- `/tdd-green [機能名]` - GREENフェーズ（最小実装）\n- `/tdd-refactor [機能名]` - REFACTORフェーズ（リファクタリング）\n- `/tdd-coverage [機能名]` - COVERAGEフェーズ（カバレッジ検証）\n\n### セキュリティ\n- `/security-scan [ディレクトリ]` - 総合セキュリティスキャン\n- `/owasp-check [ディレクトリ]` - OWASP Top 10チェック\n\n## Hooks一覧\n\n### PreToolUse Hooks\n- `context-monitor` - コンテキスト使用率監視\n- `detect-package-manager` - パッケージマネージャー自動検出\n\n### PostToolUse Hooks\n- `auto-format` - 自動フォーマット（Prettier/ESLint）\n- `detect-console-log` - console.log/debugger検出\n- `typescript-check` - TypeScript型チェック\n\n### PreCommit Hooks\n- `secret-scan` - シークレット混入チェック\n- `coverage-check` - テストカバレッジ検証\n\n## Skills一覧\n\n- `tdd-workflow` - TDDワークフロースキル\n- `security-review` - セキュリティレビュースキル\n\n## ベストプラクティス\n\n### コンテキスト管理\n\n**推奨MCP設定数**:\n- グローバル設定: 20-30個以内\n- プロジェクト設定: 10個以下\n- 総ツール数: 80個以下\n\n**監視頻度**:\n- タスク開始前に確認\n- 60%を超えたら定期的にチェック\n\n### TDDワークフロー\n\n**原則**:\n- RED → GREEN → REFACTOR の順序を厳守\n- 80%以上のカバレッジを目標\n- リファクタリング時はテストをパスし続ける\n\n### セキュリティ\n\n**実行タイミング**:\n- 機能開発完了後\n- Pull Request作成前\n- 定期的なスキャン（週1回）\n\n**シークレット管理**:\n- 環境変数を使用（`.env`）\n- `.gitignore`に`.env`を追加\n- `.env.example`でテンプレート提供\n\n## トラブルシューティング\n\n### コンテキスト使用率が常に高い\n\n1. 未使用MCPを無効化\n2. プロジェクト固有のMCPのみ有効化\n3. 定期的に`/compact`実行\n\n### Hooksが動作しない\n\n1. Node.jsがインストールされているか確認\n2. Hookスクリプトの実行権限を確認\n3. プラグイン設定を確認（`plugin.json`）\n\n### カバレッジが計測されない\n\n1. テストフレームワークの設定確認\n2. カバレッジツールのインストール確認\n3. テストコマンドの確認\n\n## 依存関係\n\n- **NDFプラグイン**: ^2.1.0 （必須）\n- Node.js: 16.x以上 （推奨）\n- npm/pnpm/yarn/bun: 任意のパッケージマネージャー\n\n## ライセンス\n\nMIT License\n\n## 作成者\n\n- **名前**: takemi-ohama\n- **URL**: https://github.com/takemi-ohama\n\n## 参考\n\n- [everything-claude-code](https://github.com/affaan-m/everything-claude-code)\n- [Claude Code 実践ガイド (Qiita)](https://qiita.com/dai_chi/items/c19be47044d062d59ee8)\n- [Claude Code 実装パターン (Zenn)](https://zenn.dev/ttks/articles/a54c7520f827be)\n- [OWASP Top 10](https://owasp.org/www-project-top-ten/)\n\n## 変更履歴\n\n詳細は[CHANGELOG.md](./CHANGELOG.md)を参照してください。\n\n## サポート\n\nIssue報告: https://github.com/takemi-ohama/ai-plugins/issues\n",
        "plugins/playwright/README.md": "# playwright Plugin\n\nPlaywright MCPを自動的にセットアップし、ブラウザ自動化機能を提供するプラグインです。\n\n## 概要\n\nこのプラグインは、Playwright MCPサーバーとChromiumブラウザを自動的にインストール・設定します。Claude Codeでブラウザ自動化タスク（Webスクレイピング、E2Eテスト、スクリーンショット取得など）を簡単に実行できるようになります。\n\n## 機能\n\n- **自動セットアップ**: 初回起動時にPlaywright Chromiumブラウザを自動インストール\n- **バージョン互換性**: @playwright/mcpと互換性のあるPlaywrightバージョンを自動検出\n- **冪等性**: 既にインストール済みの場合はスキップ（高速起動）\n- **環境変数対応**: PLAYWRIGHT_BROWSERS_PATHで共有キャッシュを利用\n\n## インストール\n\nこのプラグインをインストールすると、以下が自動的に設定されます：\n\n1. Playwright MCP設定（`.mcp.json`）\n2. SessionStart hookによる自動セットアップ\n3. Chromiumブラウザのインストール\n\n## 使用方法\n\n### 基本的な使い方\n\nプラグインをインストールして、Claude Codeを起動するだけで自動的にセットアップが実行されます。\n\n```bash\n# Claude Codeを起動\nclaude\n```\n\n初回起動時、以下のようなメッセージが表示されます：\n\n```\n━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n🎭 Playwright MCP Plugin: 初回セットアップ\n━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n\nPlaywright Chromiumブラウザをインストール中...\nネットワーク環境により1-2分かかる場合があります。\n\n🔍 @playwright/mcpが使用するPlaywrightバージョンを確認中...\n✓ Playwright 1.49.1 を使用します\n\n📦 Playwright 1.49.1 でChromiumをインストール中...\n[インストールログ...]\n\n✅ セットアップ完了！Playwright Chromiumの準備ができました。\n   Playwrightバージョン: 1.49.1\n   ブラウザパス: ~/.cache/ms-playwright\n━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n```\n\n### Playwright MCPツールの使用例\n\nセットアップ完了後、以下のようなタスクが実行できます：\n\n```\n// Webページにアクセスしてスクリーンショットを取得\nmcp__plugin_playwright__browser_navigate(url: \"https://example.com\")\nmcp__plugin_playwright__browser_take_screenshot()\n\n// フォームに入力してボタンをクリック\nmcp__plugin_playwright__browser_fill(selector: \"#email\", value: \"test@example.com\")\nmcp__plugin_playwright__browser_click(selector: \"button[type='submit']\")\n\n// ページのスナップショットを取得（アクセシビリティツリー）\nmcp__plugin_playwright__browser_snapshot()\n```\n\n## 設定\n\n### MCP設定（`.mcp.json`）\n\nプラグインは以下のMCP設定を提供します：\n\n```json\n{\n  \"mcpServers\": {\n    \"playwright\": {\n      \"type\": \"stdio\",\n      \"command\": \"npx\",\n      \"args\": [\n        \"-y\",\n        \"@playwright/mcp@latest\",\n        \"--browser\",\n        \"chromium\",\n        \"--isolated\",\n        \"--no-sandbox\"\n      ],\n      \"env\": {\n        \"PLAYWRIGHT_BROWSERS_PATH\": \"${HOME}/.cache/ms-playwright\"\n      }\n    }\n  }\n}\n```\n\n### ブラウザキャッシュパス\n\nデフォルトでは、Chromiumブラウザは `~/.cache/ms-playwright` にインストールされます。\n\n別の場所を使用したい場合は、環境変数を設定してください：\n\n```bash\nexport PLAYWRIGHT_BROWSERS_PATH=/path/to/custom/location\n```\n\n## トラブルシューティング\n\n### インストールが失敗する場合\n\n1. **手動インストール**:\n   ```bash\n   # 互換性のあるバージョンを確認\n   npm view @playwright/mcp@latest dependencies\n\n   # Chromiumをインストール\n   PLAYWRIGHT_BROWSERS_PATH=~/.cache/ms-playwright npx playwright@<version> install chromium\n   ```\n\n2. **キャッシュをクリア**:\n   ```bash\n   rm ~/.claude-playwright-installed\n   ```\n\n3. **ログを確認**:\n   プラグインは詳細なログを出力するので、エラーメッセージを確認してください。\n\n### ブラウザが見つからない場合\n\n環境変数 `PLAYWRIGHT_BROWSERS_PATH` が正しく設定されているか確認してください：\n\n```bash\necho $PLAYWRIGHT_BROWSERS_PATH\nls -la ~/.cache/ms-playwright\n```\n\n### タイムアウトエラー\n\nネットワーク環境が遅い場合、インストールに時間がかかることがあります。\nデフォルトのタイムアウトは5分です。\n\n## 参考資料\n\n- [Playwright公式ドキュメント](https://playwright.dev/)\n- [@playwright/mcp README](https://www.npmjs.com/package/@playwright/mcp)\n- [Playwright Browser Management](https://playwright.dev/docs/browsers)\n\n## ライセンス\n\nMIT License\n\n## サポート\n\n問題が発生した場合は、GitHubリポジトリでissueを作成してください：\nhttps://github.com/takemi-ohama/ai-plugins/issues\n"
      },
      "plugins": [
        {
          "name": "ndf",
          "source": "./plugins/ndf",
          "description": "All-in-one plugin combining 6 MCP servers, 6 development workflow commands, 6 specialized agents, and Slack notifications with AI-generated summaries",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add takemi-ohama/ai-plugins",
            "/plugin install ndf@ai-plugins"
          ]
        },
        {
          "name": "affaan-m",
          "source": "./plugins/affaan-m",
          "description": "Context management, quality assurance, TDD workflow, and security checks plugin (complements NDF plugin)",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add takemi-ohama/ai-plugins",
            "/plugin install affaan-m@ai-plugins"
          ]
        },
        {
          "name": "playwright",
          "source": "./plugins/playwright",
          "description": "Playwright MCP auto-setup plugin with Chromium browser installation and configuration",
          "categories": [],
          "install_commands": [
            "/plugin marketplace add takemi-ohama/ai-plugins",
            "/plugin install playwright@ai-plugins"
          ]
        }
      ]
    }
  ]
}