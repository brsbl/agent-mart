{
  "author": {
    "id": "Git-Fg",
    "display_name": "Git-Fg",
    "avatar_url": "https://avatars.githubusercontent.com/u/7906045?v=4"
  },
  "marketplaces": [
    {
      "name": "ralph-planner-marketplace",
      "version": null,
      "description": "Ralph Wiggum iterative development loops with persistent planning and validation",
      "repo_full_name": "Git-Fg/ralph-planner",
      "repo_url": "https://github.com/Git-Fg/ralph-planner",
      "repo_description": null,
      "signals": {
        "stars": 0,
        "forks": 0,
        "pushed_at": "2026-01-21T14:14:03Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"ralph-planner-marketplace\",\n  \"owner\": {\n    \"name\": \"Ralph Planner Team\"\n  },\n  \"metadata\": {\n    \"description\": \"Ralph Wiggum iterative development loops with persistent planning and validation\",\n    \"version\": \"2.0.0\",\n    \"pluginRoot\": \"ralph-planner\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"ralph-planner-v2\",\n      \"source\": \"./ralph-planner\",\n      \"description\": \"Ralph Planner v2 - Unified loop with persistent planning and validation based on Ralph Wiggum philosophy\",\n      \"version\": \"2.0.0\",\n      \"author\": {\n        \"name\": \"Ralph Planner Team\"\n      },\n      \"category\": \"productivity\",\n      \"keywords\": [\n        \"planning\",\n        \"automation\",\n        \"iteration\",\n        \"workflow\",\n        \"development\",\n        \"ralph-wiggum\"\n      ],\n      \"homepage\": \"https://github.com/Git-Fg/ralph-planner\",\n      \"license\": \"MIT\",\n      \"strict\": true\n    }\n  ]\n}",
        "ralph-planner/README.md": "# Ralph Planner v2\n\n**Ralph Wiggum technique with persistent planning and validation**\n\nRalph Planner v2 implements the original Ralph Wiggum philosophy - a simple bash loop that keeps Claude working until completion - but adds persistent state, dynamic planning, and multi-step validation.\n\n## Philosophy\n\n**\"Ralph is a Bash loop\"** - The core insight is that iteration beats perfection. Instead of trying to get everything right on the first try, let Claude iterate autonomously using a self-referential feedback loop.\n\n## Quick Start\n\n```bash\n/ralph-start \"Build a REST API for todos with authentication and tests\" --max-iterations 30\n```\n\nClaude will:\n1. Implement the API iteratively\n2. Run tests and see failures\n3. Fix bugs based on test output\n4. Iterate until completion promise is detected\n\n## Architecture\n\n### Minimal Design\n\nRalph Planner v2 is **intentionally minimal**:\n- **1 command**: `/ralph-start`\n- **1 hook**: `stop-hook.sh` (the loop orchestrator)\n- **1 script**: `convert-planning.py` (planning to goals)\n\nThis keeps it simple like the original Ralph Wiggum, while adding the features needed for real-world planning.\n\n### Core Components\n\n#### 1. Stop Hook (`hooks/stop-hook.sh`)\n\nThe heart of the system. Creates the self-referential loop:\n\n- Intercepts Claude's exit attempts\n- Checks for completion promise\n- Re-blocks exit if not done\n- Updates state and continues\n\n#### 2. State Management\n\nAll state in `.ralph/`:\n- `state.md` - Current iteration, phase, configuration\n- `goals.xml` - Structured goals with status\n- `transcript.md` - Full conversation history\n\n#### 3. Planning Conversion\n\nDynamic planning support:\n- Planning docs written in Markdown\n- Converted to XML goals automatically\n- **Re-converts every iteration** if doc changes\n- Allows planning evolution mid-loop\n\n#### 4. Validation\n\nAcceptance criteria in planning docs:\n```markdown\n## Task: User Auth\n\n- [ ] Login endpoint works\n- [ ] Logout endpoint works\n- [ ] Passwords hashed\n\nAcceptance: All auth tests pass\n```\n\nGoals include acceptance criteria for verification.\n\n## How It Works\n\n### The Loop\n\n```\n┌─────────────────────────────────────┐\n│ 1. User runs /ralph-start          │\n│    (starts loop)                    │\n└──────────────┬──────────────────────┘\n               │\n               ▼\n┌─────────────────────────────────────┐\n│ 2. Claude works on task             │\n│    (reads state, works on goals)    │\n└──────────────┬──────────────────────┘\n               │\n               ▼\n┌─────────────────────────────────────┐\n│ 3. Claude tries to exit             │\n│    (thinks it's done)              │\n└──────────────┬──────────────────────┘\n               │\n               ▼\n┌─────────────────────────────────────┐\n│ 4. Stop hook intercepts             │\n│    (blocks exit)                    │\n└──────────────┬──────────────────────┘\n               │\n               ▼\n┌─────────────────────────────────────┐\n│ 5. Check completion promise        │\n│    - If found: Allow exit           │\n│    - If not: Continue loop         │\n└──────────────┬──────────────────────┘\n               │\n               └──────┬───────────────┘\n                      │ (loop)\n                      ▼\n              ┌───────────────┐\n              │  Go to step 2 │\n              └───────────────┘\n```\n\n### State Flow\n\n```\nInitial State → Planning → Conversion → Execution → Verification → Complete\n     ↓              ↓           ↓           ↓           ↓\n  Start       Create goals   XML goals   Work on    Check promise\n               from doc      generated   goals       + validate\n     ↓              ↓           ↓           ↓           ↓\n  .ralph/      .ralph/      .ralph/     .ralph/     .ralph/\n  state.md     goals.xml    goals.xml   goals.xml   goals.xml\n                            (updated)   (updated)   (all done)\n```\n\n## Differences from v1\n\n| Feature | v1 | v2 |\n|---------|----|----|\n| **Commands** | 10 | 1 |\n| **Hooks** | 4 | 1 |\n| **Scripts** | 8 | 1 |\n| **State Files** | Multiple | Single unified |\n| **Complexity** | High | Low (like original Ralph) |\n| **Learning Curve** | Steep | Gentle |\n| **XML Goals** | Complex | Simple |\n| **Hooks Config** | Required | Not needed |\n\n## Differences from Original Ralph Wiggum\n\n| Feature | Original Ralph | v2 |\n|---------|----------------|----|\n| **State** | Session-only | Persistent (files) |\n| **Planning** | Single prompt | Dynamic (Markdown → XML) |\n| **Goals** | Single task | Multi-goal queue |\n| **Validation** | Manual promise | Automated criteria |\n| **History** | In memory | Saved to transcript |\n| **Error Recovery** | None | State survives restarts |\n\n## Writing Planning Docs\n\n### Basic Format\n\n```markdown\n# Project: My Web App\n\n## Task: Setup Project\n\n- [ ] Initialize React app\n- [ ] Install dependencies\n- [ ] Create basic structure\n\nAcceptance: npm start runs without errors\n\n## Task: User Interface\n\n- [ ] Create login form\n- [ ] Create dashboard\n- [ ] Add routing\n\nAcceptance: All routes accessible via URL\n\n## Task: API Integration\n\n- [ ] Connect to backend\n- [ ] Handle authentication\n- [ ] Display user data\n\nAcceptance: User sees their data after login\n```\n\n### Task Format\n\n- `## Task: <name>` - Defines a new task\n- `- [ ] <criteria>` - Acceptance criteria (unchecked)\n- `- [x] <criteria>` - Acceptance criteria (checked)\n- `Acceptance: <command>` - Verification command\n\n### Best Practices\n\n1. **Clear tasks** - Each task should be a coherent unit of work\n2. **Specific criteria** - Use concrete, verifiable criteria\n3. **Testable acceptance** - Include commands that can be run\n4. **Sequential tasks** - Order matters; dependencies should be sequential\n\n## Examples\n\n### Example 1: Simple Project\n\n```bash\n/ralph-start \"Create a Python calculator with unit tests\" --max-iterations 20\n```\n\n### Example 2: With Planning Doc\n\n```bash\n# Create planning doc\ncat > plan.md << 'EOF'\n# Project: Blog Platform\n\n## Task: Database\n\n- [ ] Create posts table\n- [ ] Create comments table\n- [ ] Add migrations\n\nAcceptance: psql shows all tables exist\n\n## Task: API\n\n- [ ] GET /posts endpoint\n- [ ] POST /posts endpoint\n- [ ] GET /posts/:id endpoint\n\nAcceptance: curl returns expected JSON\n\n## Task: Frontend\n\n- [ ] List posts page\n- [ ] Create post page\n- [ ] View post page\n\nAcceptance: All pages render without errors\nEOF\n\n# Start Ralph\n/ralph-start --planning-doc ./plan.md --max-iterations 50\n```\n\n### Example 3: Editing Planning Mid-Loop\n\n```bash\n# Start with basic plan\n/ralph-start --planning-doc ./plan.md\n\n# While loop is running, edit the plan\n# Ralph detects change and re-converts goals\n# Next iteration uses updated plan\n```\n\n## State Files\n\n### `.ralph/state.md`\n\n```yaml\n---\niteration: 3\nmax_iterations: 30\nstatus: \"running\"\nphase: \"execution\"\nprompt: \"Build a web app...\"\nplanning_doc: \"./plan.md\"\ngoals_xml: \".ralph/goals.xml\"\ntranscript: \".ralph/transcript.md\"\nstarted_at: \"2026-01-21T10:00:00Z\"\nlast_updated: \"2026-01-21T10:15:00Z\"\n---\n```\n\n### `.ralph/goals.xml`\n\n```xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<goals>\n  <goal id=\"goal-001\" section=\"General\">\n    <title>Setup Project</title>\n    <description>Initialize React app and install dependencies</description>\n    <promise>Initialize React app and install dependencies</promise>\n    <acceptance>\n      <item>Initialize React app</item>\n      <item>Install dependencies</item>\n      <item>Create basic structure</item>\n    </acceptance>\n    <status>pending</status>\n  </goal>\n</goals>\n```\n\n## Philosophy\n\nRalph Planner embodies four key principles:\n\n### 1. Iteration > Perfection\n\nDon't aim for perfect on first try. Let the loop refine the work.\n\n### 2. Failures Are Data\n\n\"Deterministically bad\" means failures are predictable and informative. Use them to tune prompts.\n\n### 3. Operator Skill Matters\n\nSuccess depends on writing good planning docs and prompts, not just having a good model.\n\n### 4. Persistence Wins\n\nKeep trying until success. The loop handles retry logic automatically.\n\n## When to Use\n\n**Good for:**\n- Well-defined tasks with clear success criteria\n- Tasks requiring iteration (tests, refactoring, debugging)\n- Greenfield projects\n- Tasks with automatic verification (tests, linters)\n\n**Not good for:**\n- Tasks requiring human judgment or design decisions\n- One-shot operations\n- Tasks with unclear success criteria\n- Production debugging (use targeted debugging instead)\n\n## Troubleshooting\n\n### Loop won't stop\n\nCheck if completion promise is in transcript:\n```bash\ngrep \"ALL GOALS COMPLETE\" .ralph/transcript.md\n```\n\n### Goals not progressing\n\nVerify goals.xml is valid:\n```bash\ncat .ralph/goals.xml\n```\n\nCheck acceptance criteria are met.\n\n### State file corrupted\n\nCancel loop and re-initialize:\n```bash\nrm -rf .ralph\n/ralph-start \"...\" --max-iterations N\n```\n\n### Session restart\n\nState persists in `.ralph/`. Loop will continue where it left off.\n\n## Credits\n\n- **Ralph Wiggum Technique**: Geoffrey Huntley (https://ghuntley.com/ralph/)\n- **Ralph Orchestrator**: Mikey O'Brien (https://github.com/mikeyobrien/ralph-orchestrator)\n- **Ralph Planner v1**: Original comprehensive implementation\n- **Ralph Planner v2**: Minimalist redesign keeping Ralph Wiggum simplicity\n\n## License\n\nMIT\n"
      },
      "plugins": [
        {
          "name": "ralph-planner-v2",
          "source": "./ralph-planner",
          "description": "Ralph Planner v2 - Unified loop with persistent planning and validation based on Ralph Wiggum philosophy",
          "version": "2.0.0",
          "author": {
            "name": "Ralph Planner Team"
          },
          "category": "productivity",
          "keywords": [
            "planning",
            "automation",
            "iteration",
            "workflow",
            "development",
            "ralph-wiggum"
          ],
          "homepage": "https://github.com/Git-Fg/ralph-planner",
          "license": "MIT",
          "strict": true,
          "categories": [
            "automation",
            "development",
            "iteration",
            "planning",
            "productivity",
            "ralph-wiggum",
            "workflow"
          ],
          "install_commands": [
            "/plugin marketplace add Git-Fg/ralph-planner",
            "/plugin install ralph-planner-v2@ralph-planner-marketplace"
          ]
        }
      ]
    }
  ]
}