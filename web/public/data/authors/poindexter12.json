{
  "author": {
    "id": "poindexter12",
    "display_name": "Joe Seymour",
    "avatar_url": "https://avatars.githubusercontent.com/u/590638?v=4"
  },
  "marketplaces": [
    {
      "name": "waypoint-marketplace",
      "version": null,
      "description": "Waypoint plugins for Claude Code - workflows and technologies",
      "repo_full_name": "poindexter12/waypoint",
      "repo_url": "https://github.com/poindexter12/waypoint",
      "repo_description": null,
      "signals": {
        "stars": 4,
        "forks": 0,
        "pushed_at": "2026-01-20T23:19:43Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"waypoint-marketplace\",\n  \"owner\": {\n    \"name\": \"Joe Seymour\"\n  },\n  \"metadata\": {\n    \"description\": \"Waypoint plugins for Claude Code - workflows and technologies\",\n    \"version\": \"1.1.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"workflows\",\n      \"description\": \"Operational tooling for development workflows - git worktree management with AI context tracking\",\n      \"source\": \"./workflows\",\n      \"strict\": true\n    },\n    {\n      \"name\": \"technologies\",\n      \"description\": \"Domain knowledge for infrastructure tools - Terraform, Ansible, Docker, Proxmox\",\n      \"source\": \"./technologies\",\n      \"strict\": true\n    },\n    {\n      \"name\": \"claire\",\n      \"description\": \"Claude Code component authoring system - agents for creating and optimizing agents, commands, and skills\",\n      \"source\": \"./claire\",\n      \"strict\": true\n    }\n  ]\n}\n",
        "README.md": "# Waypoint\n\n**Modular Claude Code plugins organized into workflows and technologies.**\n\nWaypoint is a collection of Claude agents, commands, and skills organized into two categories:\n\n- **Workflows**: Operational tooling that enhances how you work with Claude Code (git worktree management)\n- **Technologies**: Domain knowledge for infrastructure tools (Terraform, Ansible, Docker, Proxmox)\n\nEach category is a plugin with its own `.claude-plugin/plugin.json` manifest.\n\n## Philosophy\n\n- **Workflows vs Technologies**: Clear separation between operational tooling and domain knowledge\n- **Modular**: Each plugin is independent and can be installed separately\n- **Namespaced**: Agents, commands, and skills are organized by plugin\n- **Reusable**: Clone once, use everywhere via the Claude Code plugin system\n\n## Installation\n\nInstall Waypoint as a Claude Code plugin:\n\n```bash\n# Clone the repository\ngit clone git@github.com:poindexter12/waypoint.git\n\n# The plugin system will automatically discover and load the plugins\n# Just ensure the repository is accessible to Claude Code\n```\n\nWaypoint uses the Claude Code plugin system. Each subdirectory (`workflows/`, `technologies/`, `claire/`) contains a `.claude-plugin/plugin.json` manifest that defines the available agents, commands, and skills.\n\n## Available Plugins\n\n### Workflows\n\nOperational tooling that enhances development workflows.\n\n**Agents**: `consultant` - Git worktree strategy and organization\n**Commands**: `/working-tree:new`, `/working-tree:status`, `/working-tree:list`, `/working-tree:destroy`, `/working-tree:adopt`\n**Skills**: `working-tree` - Worktree patterns and templates\n\n### Technologies\n\nDomain knowledge for infrastructure tools.\n\n**Agents**:\n- `terraform` - Terraform/IaC patterns and best practices\n- `ansible` - Ansible playbooks and automation\n- `docker-compose` - Docker and container orchestration\n- `proxmox` - Proxmox virtualization platform\n\n**Skills**:\n- `terraform` - HCL patterns, state management, Proxmox provider\n- `ansible` - Playbooks, inventory, modules\n- `docker` - Dockerfile, Compose, networking\n- `proxmox` - VMs, LXC, storage, clustering\n\n### Claire (Meta-Tooling)\n\nTools for creating and optimizing Claude Code components.\n\n**Commands**: `/claire:fetch-docs`\n**Agents**: `coordinator`, `author-agent`, `author-command`\n**Skills**: `doc-validator`\n\n## Directory Structure\n\n```\nwaypoint/\n├── .claude-plugin/plugin.json    # Root plugin index\n├── workflows/                    # Operational tooling\n│   ├── .claude-plugin/plugin.json\n│   ├── agents/consultant.md\n│   ├── commands/*.md\n│   └── skills/working-tree/\n├── technologies/                 # Domain knowledge\n│   ├── .claude-plugin/plugin.json\n│   ├── agents/*.md               # terraform, ansible, docker, proxmox\n│   └── skills/*/                 # Per-technology skills\n└── claire/                       # Meta-tooling\n    ├── .claude-plugin/plugin.json\n    ├── agents/\n    ├── commands/\n    └── skills/\n```\n\n## Makefile Reference\n\nThe Makefile provides tools for managing plugin manifests and versions.\n\n### Targets\n\n| Target | Description |\n|--------|-------------|\n| `help` | Show all available commands (default) |\n| `manifest` | Update plugin.json files from directory contents |\n| `version V=x.y.z` | Bump version in all plugin.json files |\n| `changelog-preview` | Show commits since last version tag |\n| `clean` | Remove build artifacts |\n\n### Examples\n\n```bash\n# Update all plugin.json manifests from directory contents\nmake manifest\n\n# Bump all versions to 1.2.0\nmake version V=1.2.0\n\n# Preview unreleased changes for changelog\nmake changelog-preview\n```\n\n## Development\n\n### Adding Components\n\n**Add a new workflow agent/command:**\n- Add agent to `workflows/agents/`\n- Add commands to `workflows/commands/`\n- Add skill (if needed) to `workflows/skills/`\n\n**Add a new technology:**\n- Add agent to `technologies/agents/my-tech.md`\n- Add skill to `technologies/skills/my-tech/SKILL.md`\n- Add references to `technologies/skills/my-tech/references/`\n\nThen run `make manifest` to update plugin.json files.\n\n### Plugin Structure\n\nEach plugin category follows this pattern:\n\n```\nplugin-category/\n├── .claude-plugin/\n│   └── plugin.json      # Plugin manifest (auto-updated by make manifest)\n├── agents/\n│   └── *.md            # Agent definitions\n├── commands/\n│   └── *.md            # Command definitions (workflows only)\n└── skills/\n    └── skill-name/     # Skill directories\n        ├── SKILL.md    # Required: skill definition\n        ├── REFERENCE.md # Optional: detailed documentation\n        └── references/ # Optional: additional docs\n```\n\n### Slash Command and Agent File Format\n\n**Slash Command Files** (`commands/*.md`) use YAML frontmatter with these allowed fields:\n\n- `description`: Brief description of the command (defaults to first line of prompt)\n- `argument-hint`: Arguments expected, shown during auto-completion (e.g., `<branch> [--mode <mode>]`)\n- `allowed-tools`: List of tools the command can use (inherits from conversation if not specified)\n- `model`: Specific model to use (inherits from conversation if not specified)\n- `disable-model-invocation`: Prevent SlashCommand tool from calling this command\n- Additional custom fields as needed (e.g., `agent` for delegation)\n\n**Agent Files** (`agents/*.md`) use YAML frontmatter with these fields:\n\n- `name` (required): Unique identifier using lowercase letters and hyphens\n- `description` (required): Natural language description of the agent's purpose\n- `tools` (optional): Comma-separated list of specific tools (inherits all if omitted)\n- `model` (optional): Model alias (`sonnet`, `opus`, `haiku`) or `inherit` (defaults to configured subagent model)\n- `permissionMode` (optional): Permission handling (`default`, `acceptEdits`, `bypassPermissions`, `plan`, `ignore`)\n- `skills` (optional): Comma-separated list of skill names to auto-load\n\n**Skill Files** (`skills/skill-name/SKILL.md`) use YAML frontmatter with these fields:\n\n- `name` (required): Unique identifier using lowercase letters and hyphens (max 64 chars)\n- `description` (required): Natural language description including trigger keywords (max 1024 chars)\n- `allowed-tools` (optional): Comma-separated list of tools the skill can use\n\nExample slash command:\n```markdown\n---\ndescription: Create a new git worktree with AI context\nargument-hint: <branch> [--mode <mode>] [--description \"<text>\"]\nagent: working-tree-manager\n---\n\nCommand instructions here...\n```\n\nExample agent:\n```markdown\n---\nname: working-tree-manager\ndescription: Manages git worktrees with AI context tracking\ntools: Bash, Read, Write, Grep\nmodel: sonnet\n---\n\nYou are a git worktree manager. When invoked...\n```\n\nExample skill:\n```markdown\n---\nname: doc-validator\ndescription: Validate documentation files for completeness, accuracy, and consistency. Use when checking README files, API docs, or documentation quality.\nallowed-tools: Read, Grep, Glob\n---\n\n# Documentation Validator Skill\n\nValidates documentation files to ensure they are complete...\n```\n\n## Contributing\n\nContributions are welcome! To contribute:\n\n1. Fork the repository\n2. Create a feature branch\n3. Add or improve a module\n4. Run `make manifest` to update plugin.json files\n5. Submit a pull request\n\n## License\n\nMIT License - See [LICENSE](./LICENSE) for details.\n\n## Credits\n\nCreated by [Joe Seymour](https://github.com/poindexter12)\n\nDesigned for use with [Claude Code](https://claude.com/claude-code) and compatible AI coding tools.\n",
        "workflows/README.md": "# Working Tree Module\n\n**Git worktree management with AI context tracking for isolated development environments.**\n\nThe working-tree module provides a complete Claude Code integration for managing Git worktrees with structured metadata. Each worktree becomes an isolated workspace with explicit context that helps AI tools understand the branch purpose, development mode, and constraints.\n\n## Overview\n\nGit worktrees allow you to check out multiple branches simultaneously in separate directories. This module extends that capability by:\n\n- **Automating worktree creation** with standardized naming conventions\n- **Tracking development context** via `.ai-context.json` metadata files\n- **Providing mode semantics** (main, feature, bugfix, experiment, review) to guide AI behavior\n- **Quick reference and templates** for worktree best practices\n- **Strategic consulting** for complex worktree organization\n- **Simplifying cleanup** with safe destruction commands\n\n## Architecture\n\nThis module demonstrates the **correct use** of Claude Code's three component types, following the coordinator framework:\n\n- **Commands** → Simple operations with arguments (create, list, status, destroy, adopt)\n- **Agent** → Complex multi-step consulting and strategic guidance\n- **Skill** → Cross-cutting knowledge, patterns, and templates\n\n### Why This Matters\n\nClaude Code has three distinct component types, each with specific purposes:\n\n1. **Commands** are for **simple, stateless operations**\n   - Execute quickly with arguments\n   - No conversational context needed\n   - Example: Creating a single worktree\n\n2. **Agents** are for **complex, stateful workflows**\n   - Multi-step processes\n   - Strategic decision-making\n   - Ongoing assistance\n   - Example: Migrating entire project to worktrees\n\n3. **Skills** are for **cross-cutting knowledge**\n   - Keyword-triggered\n   - Progressive disclosure\n   - Reusable templates and patterns\n   - Example: Best practices and quick reference\n\nThis module uses all three correctly.\n\n## Installation\n\n```bash\n# From the waypoint root directory\nmake install working-tree\n\n# Or to a specific directory\nmake CLAUDE_DIR=/path/to/.claude install working-tree\n\n# Verify installation\nmake check working-tree\n```\n\n## Components\n\n### Commands (Standalone Operations)\n\nAll commands operate independently without requiring agent invocation. Use these for day-to-day worktree operations.\n\n#### `/working-tree:new` - Create New Worktree\n\nCreates a new worktree with branch, metadata, and documentation.\n\n**Usage**:\n```bash\n/working-tree:new <branch> [--mode <mode>] [--description \"<text>\"]\n```\n\n**Modes**:\n- `main` - Minimal changes, stable work\n- `feature` - Active development, larger changes allowed (default)\n- `bugfix` - Isolated, surgical fixes only\n- `experiment` - Prototypes, large swings, unsafe changes allowed\n- `review` - Documentation, analysis, audits\n\n**Examples**:\n```bash\n/working-tree:new feature/user-auth\n/working-tree:new bugfix/session-timeout --mode bugfix --description \"Fix session expiry bug\"\n/working-tree:new exp/ai-integration --mode experiment --description \"Spike on AI features\"\n```\n\n**What It Does**:\n1. Creates branch if it doesn't exist (off current HEAD)\n2. Creates worktree directory with naming convention: `<repo>-<branch-normalized>`\n3. Generates `.ai-context.json` with metadata\n4. Generates `README.working-tree.md` documentation\n5. Returns path to new worktree\n\n**Location**: `~/.claude/commands/working-tree/new.md`\n\n---\n\n#### `/working-tree:status` - Show Current Worktree Info\n\nDisplays metadata for the current worktree.\n\n**Usage**:\n```bash\n/working-tree:status\n```\n\n**Output Example**:\n```\nWorktree Status\n═══════════════════════════════════════════════════════════\n\nDirectory:    myapp-feature-login\nBranch:       feature/login-refactor\nMode:         feature\nCreated:      2025-11-23T10:30:00Z\n\nPurpose:\nRefactor authentication flow to support OAuth2\n```\n\nIf no metadata exists, suggests using `/working-tree:adopt` to add it.\n\n**Location**: `~/.claude/commands/working-tree/status.md`\n\n---\n\n#### `/working-tree:list` - List All Worktrees\n\nShows all registered worktrees with their metadata in a table format.\n\n**Usage**:\n```bash\n/working-tree:list\n```\n\n**Output Example**:\n```\nGit Worktrees\n═══════════════════════════════════════════════════════════\n\nPath                          Branch              Mode         Description\n───────────────────────────────────────────────────────────\n→ /Users/joe/myapp            main                main         Main development\n  /Users/joe/myapp-feat-api   feature/api-v2      feature      New API endpoints\n  /Users/joe/myapp-fix-bug    bugfix/login-bug    bugfix       Fix login redirect\n```\n\nThe current worktree is marked with `→`.\n\n**Location**: `~/.claude/commands/working-tree/list.md`\n\n---\n\n#### `/working-tree:destroy` - Remove Worktree\n\nSafely removes a worktree and its metadata.\n\n**Usage**:\n```bash\n/working-tree:destroy <worktree-path>\n```\n\n**Important**: This command:\n- ✓ Removes the worktree directory\n- ✓ Removes metadata files\n- ✓ Prunes stale worktree references\n- ✓ **Preserves the branch** (by design)\n- ✓ Warns about uncommitted changes\n\n**Example**:\n```bash\n/working-tree:destroy ../myapp-feature-login\n```\n\n**Location**: `~/.claude/commands/working-tree/destroy.md`\n\n---\n\n#### `/working-tree:adopt` - Add Metadata to Existing Worktree\n\nRetroactively adds metadata to a worktree that was created manually or lacks metadata.\n\n**Usage**:\n```bash\n/working-tree:adopt [--mode <mode>] [--description \"<text>\"]\n```\n\n**Example**:\n```bash\n# From within an existing worktree\n/working-tree:adopt --mode feature --description \"User authentication system\"\n```\n\n**Location**: `~/.claude/commands/working-tree/adopt.md`\n\n---\n\n### Agent (Strategic Consulting)\n\nThe `working-tree-consultant` agent provides expert guidance for complex worktree scenarios.\n\n**Use the agent when you need:**\n- Strategic worktree organization planning\n- Migration from branch-based to worktree-based workflows\n- Multi-step setup guidance (e.g., dev/staging/prod environments)\n- Troubleshooting complex worktree issues\n- Review of current worktree organization\n- Best practices consultation\n\n**Example Invocations**:\n- \"Help me organize my worktrees for parallel feature development\"\n- \"How do I migrate to a worktree workflow?\"\n- \"Review my current worktree setup and suggest improvements\"\n- \"I have conflicts between my worktrees, help me diagnose\"\n- \"Set up worktrees for dev, staging, and production deployments\"\n\n**Do NOT use the agent for:**\n- Creating a single worktree → Use `/working-tree:new`\n- Listing worktrees → Use `/working-tree:list`\n- Checking status → Use `/working-tree:status`\n- Simple operations → Use commands\n\n**Location**: `~/.claude/agents/working-tree/consultant.md`\n\n**Key Capabilities**:\n- Analyzes current worktree setup\n- Recommends organization strategies\n- Creates multi-step action plans\n- Provides migration guidance\n- Troubleshoots complex issues\n- Explains best practices with rationale\n\n---\n\n### Skill (Quick Reference & Templates)\n\nThe `worktree-guide` skill provides cross-cutting worktree knowledge.\n\n**Auto-triggered by keywords**:\n- \"worktree best practices\"\n- \"worktree patterns\"\n- \"git worktree help\"\n- \"worktree template\"\n- \"worktree mode semantics\"\n- \"explain worktree metadata\"\n\n**What it provides:**\n- **Mode semantics reference** - Quick lookup for mode meanings\n- **Templates** - Copy-paste templates for metadata files\n- **Common patterns** - Examples of typical worktree workflows\n- **Progressive disclosure** - Start with overview, dive deeper on request\n- **Comprehensive reference** - Full guide in REFERENCE.md\n\n**Location**: `~/.claude/skills/worktree-guide/`\n\n**Supporting Files**:\n- `SKILL.md` - Main skill with quick reference\n- `REFERENCE.md` - Comprehensive guide (detailed best practices, workflows, troubleshooting)\n- `templates/ai-context.json.template` - Metadata file template\n- `templates/README.working-tree.template` - README template\n\n**Example Usage**:\n```\nYou: \"What mode should I use for a prototype?\"\n\nSkill: For prototypes, use **experiment** mode.\n\nExperiment mode allows:\n- No restrictions, can be messy\n- AI will be aggressive with suggestions\n- Expect to discard if prototype fails\n\nCommand: /working-tree:new exp/prototype-name --mode experiment\n```\n\n---\n\n## When to Use What\n\n### Quick Decision Guide\n\n| Your Need | Use This |\n|-----------|----------|\n| Create a worktree | `/working-tree:new <branch>` command |\n| See all worktrees | `/working-tree:list` command |\n| Check current worktree | `/working-tree:status` command |\n| Remove a worktree | `/working-tree:destroy <path>` command |\n| Add metadata | `/working-tree:adopt` command |\n| Understand mode semantics | Mention \"worktree mode semantics\" (triggers skill) |\n| Get best practices | Mention \"worktree best practices\" (triggers skill) |\n| Strategic guidance | Invoke `working-tree-consultant` agent |\n| Migration help | Invoke `working-tree-consultant` agent |\n| Complex troubleshooting | Invoke `working-tree-consultant` agent |\n\n### Decision Tree\n\n```\nDo you need to DO something?\n  ├─ Yes: Simple operation (create, list, status, destroy, adopt)\n  │   └─ Use COMMAND (/working-tree:*)\n  │\n  ├─ No: Want to LEARN something?\n  │   ├─ Quick reference/templates\n  │   │   └─ Mention keywords → SKILL activates\n  │   │\n  │   └─ Strategic consulting/complex scenarios\n  │       └─ Invoke working-tree-consultant AGENT\n```\n\n---\n\n## Metadata Structure\n\n### `.ai-context.json`\n\nEvery managed worktree contains a `.ai-context.json` file at its root:\n\n```json\n{\n  \"worktree\": \"myapp-feature-login\",\n  \"branch\": \"feature/login-refactor\",\n  \"mode\": \"feature\",\n  \"created\": \"2025-11-23T10:30:00Z\",\n  \"description\": \"Refactor authentication flow to support OAuth2\"\n}\n```\n\n**Fields**:\n- `worktree`: Directory name (not full path)\n- `branch`: Git branch name\n- `mode`: Development mode (main|feature|bugfix|experiment|review)\n- `created`: UTC timestamp in ISO 8601 format\n- `description`: Freeform description of purpose\n\n**Template available**: See `skills/worktree-guide/templates/ai-context.json.template`\n\n### `README.working-tree.md`\n\nHuman-readable documentation generated alongside `.ai-context.json`:\n\n```markdown\n# Worktree: myapp-feature-login\n\n**Branch:** `feature/login-refactor`\n**Mode:** `feature`\n**Created:** 2025-11-23T10:30:00Z\n\n## Purpose\n\nRefactor authentication flow to support OAuth2\n\n## Mode Semantics\n\n- **main**: Minimal changes, stable work only\n- **feature**: Active development, larger changes allowed\n- **bugfix**: Isolated, surgical fixes only\n- **experiment**: Prototypes, large swings, unsafe changes allowed\n- **review**: Documentation, analysis, audits\n\n...\n```\n\n**Template available**: See `skills/worktree-guide/templates/README.working-tree.template`\n\n---\n\n## Mode Semantics\n\nModes guide AI behavior and set expectations for the scope of changes:\n\n| Mode | Purpose | Change Scope | AI Behavior |\n|------|---------|-------------|-------------|\n| `main` | Production stability | Minimal, conservative | Conservative, safety-focused |\n| `feature` | New functionality | Larger changes, active development | Helpful, proactive |\n| `bugfix` | Isolated bug fixes | Surgical, focused fixes only | Focused, warns about scope creep |\n| `experiment` | Prototyping | Large, unsafe changes allowed | Aggressive suggestions, OK with rough code |\n| `review` | Code review, docs | Analysis, documentation | Analytical, critical feedback |\n\n**Example Usage**:\n- Creating a new API endpoint → `feature`\n- Fixing a null pointer crash → `bugfix`\n- Testing a new architecture → `experiment`\n- Writing documentation → `review`\n- Hotfix for production → `main`\n\n**For detailed mode guide**: Mention \"worktree mode semantics\" to trigger the skill\n\n---\n\n## Naming Convention\n\nWorktrees follow a predictable naming pattern:\n\n```\n<repo-name>-<branch-name-normalized>\n```\n\n**Normalization**:\n- Replace `/` with `-`\n- Replace `_` with `-`\n- Lowercase\n\n**Examples**:\n- Branch: `feature/user-auth` → Directory: `myapp-feature-user-auth`\n- Branch: `bugfix/session-expiry` → Directory: `myapp-bugfix-session-expiry`\n- Branch: `exp/ai-spike` → Directory: `myapp-exp-ai-spike`\n\nThis makes worktrees:\n- Easy to identify\n- Safe for filesystem operations\n- Consistent across projects\n\n---\n\n## Workflows\n\n### Creating a Feature Branch Worktree\n\n```bash\n# Create new feature worktree\n/working-tree:new feature/payment-processing --description \"Add Stripe integration\"\n\n# Output:\n# Created worktree successfully!\n#   Path: ../myapp-feature-payment-processing\n#   Branch: feature/payment-processing\n#   Mode: feature (inferred from branch name)\n\n# Navigate and start working\ncd ../myapp-feature-payment-processing\n# Work on feature...\n```\n\n### Quick Bug Fix\n\n```bash\n# Create bugfix worktree\n/working-tree:new bugfix/null-check --mode bugfix --description \"Fix null pointer in auth\"\n\n# AI knows to keep changes minimal and focused\ncd ../myapp-bugfix-null-check\n# Make surgical fix...\n\n# Clean up when done\ncd ../myapp\n/working-tree:destroy ../myapp-bugfix-null-check\n```\n\n### Experimental Work\n\n```bash\n# Create experiment worktree\n/working-tree:new exp/graphql-migration --mode experiment --description \"Test GraphQL migration\"\n\n# AI knows larger, riskier changes are acceptable\ncd ../myapp-exp-graphql-migration\n# Try new approaches...\n\n# Either:\n# - Success → Create proper feature worktree for real implementation\n# - Failure → Destroy and document learnings\n```\n\n### Parallel Feature Development\n\n```bash\n# Morning: Create API worktree\n/working-tree:new feature/api-v2 --description \"New REST API endpoints\"\ncd ../myapp-feature-api-v2\n# Work on API...\n\n# Afternoon: Create UI worktree\n/working-tree:new feature/ui-redesign --description \"Frontend redesign\"\ncd ../myapp-feature-ui-redesign\n# Work on UI...\n\n# No git stash needed! Context switching is instant: just `cd`\n\n# Check all active work\n/working-tree:list\n```\n\n### Migration to Worktrees\n\n**For complex migration scenarios**, invoke the consultant agent:\n\n```\n\"Help me migrate my project to a worktree workflow. I currently have 8 branches and switch between them frequently.\"\n```\n\nThe consultant will:\n1. Analyze your current branches\n2. Recommend worktree organization\n3. Create a step-by-step migration plan\n4. Guide you through implementation\n5. Provide validation checkpoints\n\n---\n\n## Safety & Constraints\n\nThe working-tree module enforces these rules:\n\n- ✓ **Isolation**: Each worktree is treated as independent\n- ✓ **Validation**: Commands check if branch is already checked out\n- ✓ **No auto-delete**: Never removes worktrees without explicit command\n- ✓ **Branch preservation**: `/working-tree:destroy` never deletes branches\n- ✓ **Uncommitted change warnings**: Warns before destroying worktrees with uncommitted work\n- ✓ **Mode validation**: Ensures mode is one of the five valid values\n- ✓ **Metadata integrity**: Validates JSON structure before writing\n\n---\n\n## Troubleshooting\n\n### \"Branch already has a worktree\"\n\n**Cause**: Trying to create a second worktree for the same branch.\n\n**Solution**:\n```bash\n# See what's checked out where\n/working-tree:list\n\n# Option 1: Use existing worktree\ncd ../existing-worktree\n\n# Option 2: Destroy old worktree first\n/working-tree:destroy ../old-worktree\n/working-tree:new feature/branch-name\n```\n\n### Missing Metadata\n\n**Cause**: Worktree was created manually without `/working-tree:new`.\n\n**Solution**:\n```bash\ncd /path/to/worktree\n/working-tree:adopt --mode feature --description \"Purpose of this worktree\"\n```\n\n### Stale Worktrees\n\n**Cause**: Manually deleted a worktree directory, but Git still tracks it.\n\n**Solution**:\n```bash\ngit worktree prune\n/working-tree:list  # Verify cleanup\n```\n\n### Too Many Worktrees\n\n**Cause**: Created many worktrees and lost track.\n\n**Solution**:\n```bash\n# Audit all worktrees\n/working-tree:list\n\n# Destroy completed work\n/working-tree:destroy ../myapp-feature-completed\n\n# For strategic cleanup guidance, invoke consultant:\n# \"Help me organize my worktrees, I have too many\"\n```\n\n### Understanding Best Practices\n\n**For quick reference**, mention trigger keywords:\n- \"worktree best practices\"\n- \"worktree patterns\"\n\n**For strategic consulting**, invoke the agent:\n- \"Review my worktree organization\"\n- \"What's the best worktree strategy for my workflow?\"\n\n---\n\n## Advanced Usage\n\n### Custom Installation Directory\n\n```bash\n# Install to project-specific directory\nmake CLAUDE_DIR=$(pwd)/.claude install working-tree\n```\n\n### Copy Instead of Symlink\n\n```bash\n# Copy files instead of symlinking\nmake MODE=copy install working-tree\n```\n\n### Uninstall\n\n```bash\n# Remove working-tree module\nmake uninstall working-tree\n```\n\n---\n\n## Files Installed\n\nAfter installation, these files are in `~/.claude/` (or your specified directory):\n\n```\n~/.claude/\n├── commands/working-tree/\n│   ├── new.md           # /working-tree:new command\n│   ├── status.md        # /working-tree:status command\n│   ├── list.md          # /working-tree:list command\n│   ├── destroy.md       # /working-tree:destroy command\n│   └── adopt.md         # /working-tree:adopt command\n│\n├── agents/working-tree/\n│   └── consultant.md    # working-tree-consultant agent\n│\n└── skills/worktree-guide/\n    ├── SKILL.md         # Main skill (quick reference)\n    ├── REFERENCE.md     # Comprehensive guide\n    └── templates/\n        ├── ai-context.json.template\n        └── README.working-tree.template\n```\n\n---\n\n## Contributing\n\nTo improve the working-tree module:\n\n1. **Commands**: Edit `commands/*.md`\n2. **Agent**: Edit `agents/consultant.md`\n3. **Skill**: Edit `skills/worktree-guide/SKILL.md` or `REFERENCE.md`\n4. **Templates**: Edit files in `skills/worktree-guide/templates/`\n5. Test changes locally\n6. Submit PR with description of improvements\n\n### Architecture Principles\n\nThis module follows the coordinator framework from `claire/agents/coordinator.md`:\n\n- **Commands** are stateless, simple operations\n- **Agent** provides strategic, stateful consulting\n- **Skill** offers cross-cutting knowledge and templates\n\nIf adding features, ensure they're in the right component type:\n- Simple operation with args → Command\n- Complex multi-step workflow → Agent\n- Cross-cutting knowledge → Skill\n\n---\n\n## Related Documentation\n\n- [Git Worktree Documentation](https://git-scm.com/docs/git-worktree)\n- [Main Waypoint README](../README.md)\n- [Claude Code Documentation](https://code.claude.com)\n- [Claire Coordinator Framework](../claire/agents/coordinator.md)\n\n---\n\n## License\n\nMIT License - See [LICENSE](../LICENSE) for details.\n",
        "claire/README.md": "# Claire Module\n\n**Claude Code component authoring system with specialized agents and automatic documentation fetching.**\n\nClaire is a meta-system that helps you create and optimize Claude Code agents, slash commands, and skills. It uses specialized author agents for each component type and automatically fetches the latest official documentation before working, ensuring your creations follow current best practices.\n\n## Components\n\n### Agent: `coordinator`\n\nMeta-coordinator that helps determine the right component type (agent, command, or skill) for your needs.\n\n**Invocation**: Automatically activated when you:\n- Describe a need without specifying type: \"I need something for...\"\n- Ask for recommendations: \"should I make an agent or command for...\"\n- Are uncertain about approach: \"help me build a tool for...\"\n\n**Process**:\n1. Asks clarifying questions about your use case\n2. Consults documentation cache for guidance\n3. Analyzes requirements (trigger, complexity, context)\n4. Recommends best component type with reasoning\n5. Delegates to appropriate specialist agent for creation\n\n### Agent: `agent-author`\n\nSpecialized agent for creating and optimizing Claude Code agents.\n\n**Invocation**: Automatically activated when you mention:\n- \"create agent for...\"\n- \"optimize agent...\"\n- \"improve agent behavior...\"\n- \"agent design review...\"\n\n**Process**:\n1. Fetches latest sub-agents docs (if needed)\n2. Reads documentation from cache\n3. Clarifies domain, boundaries, and requirements\n4. Designs agent with proper frontmatter\n5. Validates against official agent specs\n6. Provides complete implementation with test checklist\n\n### Agent: `command-author`\n\nSpecialized agent for creating and optimizing slash commands.\n\n**Invocation**: Automatically activated when you mention:\n- \"create command for...\"\n- \"make a slash command...\"\n- \"optimize this command...\"\n\n**Process**:\n1. Fetches latest slash-commands docs (if needed)\n2. Reads documentation from cache\n3. Clarifies arguments and workflow\n4. Designs command with proper frontmatter\n5. Validates against official command specs\n6. Provides complete implementation with examples\n\n### Skill Creation\n\nFor creating skills, the coordinator delegates to the `skill-creator` skill from the anthropic-agent-skills plugin. This provides:\n- Interactive skill design workflow\n- `init_skill.py` for scaffolding new skills\n- `package_skill.py` for packaging skills for distribution\n- Best practices for progressive disclosure\n\n**Process**:\n1. Coordinator identifies skill as the best component type\n2. Invokes skill-creator skill\n3. Guides through requirements gathering\n4. Creates skill with proper structure\n\n### Command: `/claire:fetch-docs`\n\nFetches and caches the latest Claude Code documentation.\n\n**Usage**:\n```bash\n/claire:fetch-docs              # Fetch all (respects 24h cache)\n/claire:fetch-docs --force      # Force refresh\n/claire:fetch-docs skills       # Fetch specific doc\n```\n\n**What it fetches**:\n- Skills documentation\n- Sub-agents (agents) documentation\n- Slash commands reference\n- Plugins guide and reference\n- Hooks guide and reference\n\n**Cache location**: `claire/docs-cache/`\n\n### Skill: `doc-validator`\n\nValidates documentation files for completeness, accuracy, and consistency.\n\n**Triggers**:\n- \"check documentation\"\n- \"validate the README\"\n- \"are the docs up to date?\"\n- \"docs quality review\"\n\n**Validates**:\n- Completeness (installation, usage, examples)\n- Accuracy (code examples, commands, paths)\n- Consistency (terminology, formatting)\n- Quality (spelling, grammar, markdown)\n\n## Installation\n\n```bash\n# Install claire module to ~/.claude/\nmake install claire\n\n# Or install to a project\nmake CLAUDE_DIR=./.claude install claire\n```\n\nAfter installation, you'll have:\n- `~/.claude/agents/claire/coordinator.md`\n- `~/.claude/agents/claire/author-agent.md`\n- `~/.claude/agents/claire/author-command.md`\n- `~/.claude/commands/claire/fetch-docs.md`\n- `~/.claude/skills/claire/doc-validator/`\n  - `SKILL.md`\n  - `REFERENCE.md`\n\n## Usage\n\n### Unsure What to Create?\n\n```\nYou: \"I need something to help with docker containers\"\n\nClaude: [Activates claire:coordinator agent]\n- Asks clarifying questions about use case\n- Determines if you need command vs agent vs skill\n- Explains reasoning for recommendation\n- Delegates to appropriate specialist for creation\n```\n\n### Creating an Agent\n\n```\nYou: \"Create an agent for managing database migrations\"\n\nClaude: [Activates claire:agent-author]\n- Runs /claire:fetch-docs (uses cache)\n- Reads sub-agents.md from cache\n- Clarifies: Which databases? Safety constraints?\n- Creates agent with proper frontmatter\n- Validates against current specs\n- Provides test checklist\n```\n\n### Creating a Slash Command\n\n```\nYou: \"Make a command to run prettier on changed files\"\n\nClaude: [Activates claire:command-author]\n- Fetches slash-commands.md\n- Clarifies: Arguments? File types?\n- Creates command with argument-hint\n- Provides usage examples\n```\n\n### Creating a Skill\n\n```\nYou: \"I want a skill for generating test cases\"\n\nClaude: [Coordinator determines skill is best type]\n- Invokes skill-creator skill\n- Guides through requirements gathering\n- Runs init_skill.py to scaffold\n- Creates SKILL.md with trigger keywords\n- Adds supporting files (scripts, references, assets)\n```\n\n### Validating Documentation\n\n```\nYou: \"Check if the README is complete\"\n\nClaude: [Activates doc-validator skill]\n- Scans README.md\n- Checks for installation, usage, examples\n- Verifies code examples are accurate\n- Validates links and references\n- Reports findings with suggestions\n```\n\n## Documentation Cache\n\nClaire maintains a local cache of Claude Code documentation:\n\n**Structure**:\n```\nclaire/\n\u001c\u0000\u0000 docs-index.json       # URLs and metadata\n\u0014\u0000\u0000 docs-cache/          # Cached documentation\n    \u001c\u0000\u0000 skills.md\n    \u001c\u0000\u0000 sub-agents.md\n    \u001c\u0000\u0000 slash-commands.md\n    \u001c\u0000\u0000 plugins.md\n    \u001c\u0000\u0000 hooks-guide.md\n    \u0014\u0000\u0000 .metadata.json   # Fetch timestamps\n```\n\n**Cache lifetime**: 24 hours\n\n**Force refresh**:\n```bash\n/claire:fetch-docs --force\n```\n\n## Frontmatter Reference\n\nClaire knows the correct frontmatter for each type:\n\n### Agents\n```yaml\nname: agent-name              # Required\ndescription: \"Purpose\"        # Required\ntools: Tool1, Tool2           # Optional\nmodel: sonnet|opus|haiku      # Optional\npermissionMode: default       # Optional\nskills: skill1, skill2        # Optional\n```\n\n### Slash Commands\n```yaml\ndescription: \"Brief desc\"           # Optional\nargument-hint: <arg> [--flag]       # Optional\nallowed-tools: Tool1, Tool2         # Optional\nmodel: sonnet                       # Optional\ndisable-model-invocation: false     # Optional\n```\n\n### Skills\n```yaml\nname: skill-name              # Required\ndescription: \"What + when\"   # Required (max 1024 chars)\nallowed-tools: Tool1, Tool2   # Optional\n```\n\n## Validation Checklists\n\n### Agent Validation\n- [x] Required fields: name, description\n- [x] Tools properly formatted\n- [x] Model valid (if specified)\n- [x] When/Process/Provide structure\n- [x] Examples included\n- [x] Test checklist provided\n- [x] Security constraints defined\n\n### Command Validation\n- [x] Description clear\n- [x] argument-hint if args needed\n- [x] Usage examples provided\n- [x] Expected behavior documented\n\n### Skill Validation\n- [x] Directory structure correct\n- [x] SKILL.md with valid frontmatter\n- [x] Name: lowercase, hyphens, max 64 chars\n- [x] Description includes trigger keywords\n- [x] Description under 1024 chars\n- [x] Supporting files organized\n\n## Examples\n\n### Example Agent Created by Claire\n\n**Input**: \"Create an agent for managing docker containers\"\n\n**Output**:\n```markdown\n---\nname: docker-manager\ndescription: Manage Docker containers, images, and compose services\ntools: Bash, Read, Grep\nmodel: sonnet\n---\n\n# Docker Manager Agent\n\nHelps manage Docker containers, images, and docker-compose services.\n\n## When to Invoke\n[... complete agent specification ...]\n```\n\n### Example Command Created by Claire\n\n**Input**: \"Make a command to format SQL files\"\n\n**Output**:\n```markdown\n---\ndescription: Format SQL files using pg_format or sqlformat\nargument-hint: [--file <path>] [--directory <path>]\nallowed-tools: Bash, Read, Write\n---\n\n## Format SQL Command\n[... complete command specification ...]\n```\n\n### Example Skill Created by Claire\n\n**Input**: \"Create a skill for reviewing security vulnerabilities\"\n\n**Output**:\n```\nskills/security-reviewer/\n\u001c\u0000\u0000 SKILL.md              # With proper frontmatter\n\u001c\u0000\u0000 REFERENCE.md          # Detailed rules\n\u0014\u0000\u0000 templates/\n    \u0014\u0000\u0000 report.md         # Report template\n```\n\n## Troubleshooting\n\n### Docs not fetching\n```bash\n# Check permissions for WebFetch\n/permissions\n\n# Force refresh\n/claire:fetch-docs --force\n```\n\n### Agent not activating\n- Check keywords match what you're asking\n- Try being more explicit: \"use claire agent to...\"\n- Verify installation: `make check claire`\n\n### Validation errors\n- Run `/claire:fetch-docs` to ensure latest docs\n- Check the docs-cache/ for cached documentation\n- Compare against examples in skills/doc-validator/\n\n## Development\n\nTo improve claire itself:\n1. Update specialist agents for new patterns:\n   - `agents/author-agent.md` for agent authoring improvements\n   - `agents/author-command.md` for command authoring improvements\n   - `agents/coordinator.md` for better triage and delegation\n2. Modify `docs-index.json` to add new doc sources\n3. Enhance `skills/doc-validator/` for better checks\n4. Test with `make install claire && make check claire`\n\n**Note**: Skill authoring uses the `skill-creator` skill from the anthropic-agent-skills plugin.\n\n## License\n\nPart of the Waypoint project. See [LICENSE](../LICENSE) for details.\n"
      },
      "plugins": [
        {
          "name": "workflows",
          "description": "Operational tooling for development workflows - git worktree management with AI context tracking",
          "source": "./workflows",
          "strict": true,
          "categories": [],
          "install_commands": [
            "/plugin marketplace add poindexter12/waypoint",
            "/plugin install workflows@waypoint-marketplace"
          ]
        },
        {
          "name": "technologies",
          "description": "Domain knowledge for infrastructure tools - Terraform, Ansible, Docker, Proxmox",
          "source": "./technologies",
          "strict": true,
          "categories": [],
          "install_commands": [
            "/plugin marketplace add poindexter12/waypoint",
            "/plugin install technologies@waypoint-marketplace"
          ]
        },
        {
          "name": "claire",
          "description": "Claude Code component authoring system - agents for creating and optimizing agents, commands, and skills",
          "source": "./claire",
          "strict": true,
          "categories": [],
          "install_commands": [
            "/plugin marketplace add poindexter12/waypoint",
            "/plugin install claire@waypoint-marketplace"
          ]
        }
      ]
    }
  ]
}