{
  "author": {
    "id": "colonyops",
    "display_name": "colonyops",
    "avatar_url": "https://avatars.githubusercontent.com/u/258544745?v=4"
  },
  "marketplaces": [
    {
      "name": "hive",
      "version": null,
      "description": "Skills for managing AI coding agent sessions with hive CLI",
      "repo_full_name": "colonyops/hive",
      "repo_url": "https://github.com/colonyops/hive",
      "repo_description": "AI Agent Session Manager",
      "signals": {
        "stars": 2,
        "forks": 0,
        "pushed_at": "2026-02-14T19:54:29Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"hive\",\n  \"owner\": {\n    \"name\": \"Hayden K\",\n    \"email\": \"\"\n  },\n  \"metadata\": {\n    \"description\": \"Skills for managing AI coding agent sessions with hive CLI\",\n    \"version\": \"0.4.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"hive\",\n      \"description\": \"Skills for using the hive CLI\",\n      \"source\": \"./claude-plugin/hive\",\n      \"strict\": false,\n      \"skills\": [\"./skills\"]\n    }\n  ]\n}\n",
        "README.md": "<div align=\"center\">\n\n# hive\n\n**The command center for your AI colony**\n\nManage multiple AI agent sessions in isolated git environments with real-time status monitoring.\n\n[![Go Version](https://img.shields.io/badge/Go-1.25+-00ADD8?style=for-the-badge&logo=go&labelColor=1a1b26)](https://go.dev)\n[![License](https://img.shields.io/badge/License-MIT-9ece6a?style=for-the-badge&labelColor=1a1b26)](LICENSE)\n[![Platform](https://img.shields.io/badge/Platform-macOS%20%7C%20Linux-7aa2f7?style=for-the-badge&labelColor=1a1b26)](https://github.com/colonyops/hive)\n[![Release](https://img.shields.io/github/v/release/colonyops/hive?style=for-the-badge&color=e0af68&labelColor=1a1b26)](https://github.com/colonyops/hive/releases)\n\n[Installation](#installation) | [Configuration](#configuration) | [Themes](#themes) | [Tmux Integration](#tmux-integration) | [CLI Reference](#cli-reference)\n\n</div>\n\n---\n\n## Installation\n\nDownload the latest binary from [GitHub Releases](https://github.com/colonyops/hive/releases) and place it on your PATH.\n\n## Overview\n\nHive manages isolated git sessions for running AI agents in parallel. Instead of manually managing git worktrees or directories, hive handles cloning, recycling, and spawning terminal sessions with your preferred AI tool (Claude, Aider, Codex).\n\nEach hive session is a complete git clone in a dedicated directory with its own terminal environment. Sessions are tracked through a lifecycle (active → recycled → deleted) and can be reused, reducing clone time and disk usage.\n\n**Key Features:**\n\n- **Session Management** — Create, recycle, and prune isolated git clones\n- **Terminal Integration** — Real-time status monitoring of AI agents in tmux (works out of the box)\n- **Inter-agent Messaging** — Pub/sub communication between sessions\n- **Context Sharing** — Shared storage per repository via `.hive` symlinks\n- **Custom Keybindings** — Bind keys to user-defined or system commands\n- **Command Palette** — Vim-style command palette for custom commands (`:` key)\n\n## Terminology\n\nHive uses specific terminology to describe its components:\n\n### Hive Session\n\nAn isolated git clone in a dedicated directory, running an AI agent in a terminal. Each session is a self-contained environment for working on a specific task or feature.\n\n**Key characteristics**:\n\n- Unique 6-character ID (e.g., `26kj0c`)\n- Display name (e.g., `fix-auth-bug`)\n- Isolated git clone at a specific path\n- Lifecycle: `active` → `recycled` → `deleted`\n\n**Not to be confused with**: Tmux session (see relationship below)\n\n### Agent\n\nAn AI tool instance (Claude, Aider, Codex) running within a session. The agent is the actual AI assistant that processes your requests.\n\n**Future**: Hive will support multiple agents per session (e.g., primary agent + test runner).\n\n### Tmux Session\n\nA terminal multiplexer session that hosts a hive session. When you create a hive session with tmux integration enabled, hive spawns a tmux session with the same name as the session slug.\n\n**Relationship**:\n\n```\nHive Session: fix-auth-bug (ID: 26kj0c)\n   ↓ spawns\nTmux Session: fix-auth-bug\n   ├─ Window: claude (runs Claude AI agent)\n   └─ Window: shell (regular shell)\n```\n\n### Repository\n\nA git remote URL (e.g., `github.com/colonyops/hive`). Multiple sessions can be created from the same repository.\n\n### Inbox\n\nA message topic for inter-agent communication. Each session has a conventional inbox topic at `agent.<session-id>.inbox`.\n\n**Example**: Session `26kj0c` has inbox `agent.26kj0c.inbox`\n\n### Context Directory\n\nA shared directory symlinked as `.hive/` in each session's working directory. All sessions from the same repository share this context directory, making it useful for storing plans, research notes, and other artifacts that should be accessible across sessions.\n\n**Location**: `~/.local/share/hive/context/{owner}/{repo}/`\n\n## Quick Start\n\n**Prerequisites:** Git and tmux installed.\n\n### 1. Set up a shell alias\n\nHive works best when running inside tmux. When you create a session, hive spawns a tmux session for the agent — if hive itself is also a tmux session, you can seamlessly switch between hive and your agents without leaving tmux. Hive becomes your home base: open an agent, do some work, jump back to hive, spin up another.\n\nAdd to your `.bashrc` / `.zshrc`:\n\n```bash\nalias hv='tmux new-session -As hive hive'\n```\n\nThis runs hive inside a dedicated tmux session called `hive`. If the session already exists, it reattaches.\n\n### 2. Add a tmux keybinding to jump back\n\nAdd to your `~/.tmux.conf`:\n\n```tmux\nbind l switch-client -t hive\n```\n\nNow `<prefix> l` returns you to hive from any agent session.\n\n### 3. Configure repo directories (optional)\n\nTo create sessions from the TUI with `n`, tell hive where your repos live:\n\n```yaml\n# ~/.config/hive/config.yaml\nrepo_dirs:\n  - ~/projects\n  - ~/work\n```\n\nWithout this, you can still create sessions from the CLI:\n\n```bash\ncd ~/projects/my-app\nhive new Fix Auth Bug\n```\n\n### 4. Launch\n\n```bash\nhv\n```\n\nHive auto-detects tmux, bundles its own session management scripts, and registers default keybindings — no other config needed. Press `n` to create sessions, `enter` to open them, and `:` for the command palette.\n\n## TUI Status Indicators\n\nWhen terminal integration is enabled, the TUI shows real-time agent status:\n\n| Indicator | Color            | Meaning                         |\n| --------- | ---------------- | ------------------------------- |\n| `[●]`     | Green (animated) | Agent actively working          |\n| `[!]`     | Yellow           | Agent needs approval/permission |\n| `[>]`     | Cyan             | Agent ready for input           |\n| `[?]`     | Dim              | Terminal session not found      |\n| `[○]`     | Gray             | Session recycled                |\n\n## Inter-Agent Messaging\n\nHive includes a lightweight pub/sub messaging system that enables agents to communicate across repositories. This is useful when work in one microservice depends on information from another.\n\n### Example: Cross-Repository Collaboration\n\n```mermaid\nsequenceDiagram\n    participant A as Agent A<br/>(auth-service)\n    participant Bus as Message Bus<br/>topic: agent.x7k2\n    participant B as Agent B<br/>(user-service)\n\n    Note over A: Working on auth flow,<br/>needs User struct format\n\n    A->>Bus: pub \"What fields are in the User struct?\"\n    Bus-->>B: sub --wait receives message\n\n    Note over B: Reads user/model.go\n\n    B->>Bus: pub \"User{ID, Email, Name, CreatedAt}\"\n    Bus-->>A: sub --last 1 receives response\n\n    Note over A: Continues implementation<br/>with correct struct\n```\n\nThis example is simple, but I've used this system at work to debug complex issues across several microservices, pinpointing a bug in a service I didn't own.\n\n### Messaging Commands\n\n```bash\n# Generate a unique topic for collaboration\nhive msg topic                    # outputs: agent.x7k2\n\n# Agent A publishes a question\nhive msg pub -t agent.x7k2 \"What fields are in the User struct?\"\n\n# Agent B subscribes and waits for messages\nhive msg sub -t agent.x7k2 --wait\n\n# Agent B responds\nhive msg pub -t agent.x7k2 \"User struct has: ID, Email, Name, CreatedAt\"\n\n# Agent A receives the response\nhive msg sub -t agent.x7k2 --last 1\n```\n\n### Inbox Convention\n\nEach hive session has a conventional inbox topic using the format `agent.{session-id}.inbox`. This convention makes it easy for agents to find each other's inboxes and send direct messages.\n\n**Example**:\n\n- Session ID: `26kj0c`\n- Inbox topic: `agent.26kj0c.inbox`\n\nYou can find your current session ID and inbox with:\n\n```bash\nhive session info\n```\n\n**Note**: The `agent.` prefix refers to the AI agent running in the session, not the session itself. In the future when hive supports multiple agents per session, inbox addressing will use `agent.<session-id>.<agent-name>.inbox`.\n\n## Configuration\n\nConfig file: `~/.config/hive/config.yaml`\n\n```yaml\n# Directories to scan for repositories (enables 'n' key in TUI)\nrepo_dirs:\n  - ~/code/repos\n\n# Terminal integration for real-time agent status (always enabled)\ntmux:\n  poll_interval: 500ms\n\n# Rules for repository-specific setup\nrules:\n  # Default rule (empty pattern matches all)\n  - pattern: \"\"\n    max_recycled: 5\n    # spawn/batch_spawn default to bundled hive-tmux script if not set:\n    #   spawn: ['{{ hiveTmux }} {{ .Name | shq }} {{ .Path | shq }}']\n    #   batch_spawn: ['{{ hiveTmux }} -b {{ .Name | shq }} {{ .Path | shq }} {{ .Prompt | shq }}']\n    # Override for non-tmux terminals:\n    # spawn:\n    #   - 'wezterm cli spawn --cwd \"{{ .Path }}\" -- claude'\n    commands:\n      - hive ctx init\n\n  # Override spawn for work repos\n  - pattern: \".*/my-org/.*\"\n    spawn:\n      - 'wezterm cli spawn --cwd \"{{ .Path }}\" -- aider'\n    commands:\n      - npm install\n    copy:\n      - .envrc\n\n# User commands (accessible via : or keybindings)\n# System provides default Recycle and Delete commands\nusercommands:\n  review:\n    sh: \"send-claude {{ .Name }} /review\"\n    help: \"Send /review to Claude session\"\n    silent: true\n  tidy:\n    sh: \"send-claude {{ .Name }} /tidy\"\n    help: \"Send /tidy to Claude session\"\n    confirm: \"Commit and push changes?\"\n  open:\n    sh: \"open {{ .Path }}\"\n    help: \"Open session in Finder\"\n    silent: true\n    exit: \"true\"\n\n# TUI keybindings (all reference usercommands)\nkeybindings:\n  r:\n    cmd: Recycle # System default command\n    confirm: \"Recycle this session?\" # Override default confirm\n  d:\n    cmd: Delete # System default command\n  o:\n    cmd: open # User-defined command above\n```\n\n### Template Variables\n\nCommands support Go templates with `{{ .Variable }}` syntax and `{{ .Variable | shq }}` for shell-safe quoting.\n\n| Context               | Variables                                                           |\n| --------------------- | ------------------------------------------------------------------- |\n| `rules[].spawn`       | `.Path`, `.Name`, `.Slug`, `.ContextDir`, `.Owner`, `.Repo`         |\n| `rules[].batch_spawn` | Same as spawn, plus `.Prompt`                                       |\n| `rules[].recycle`     | `.DefaultBranch`                                                    |\n| `usercommands.*.sh`   | `.Path`, `.Name`, `.Remote`, `.ID`, `.Tool`, `.TmuxWindow`, `.Args`, `.Form.*` |\n\n**Template functions:**\n\n| Function    | Description                                   |\n| ----------- | --------------------------------------------- |\n| `shq`       | Shell-quote a string for safe use in commands |\n| `join`      | Join string slice with separator              |\n| `hiveTmux`  | Path to bundled `hive-tmux` script            |\n| `agentSend` | Path to bundled `agent-send` script           |\n\n### User Commands & Command Palette\n\nUser commands provide a vim-style command palette accessible by pressing `:` in the TUI. This allows you to define custom commands that can be executed on selected sessions with arguments.\n\n**Command Palette Features:**\n\n- **Vim-style interface** — Press `:` to open the palette\n- **Fuzzy filtering** — Type to filter commands (prefix and substring matching)\n- **Arguments support** — Pass arguments to commands (e.g., `:review pr-123`)\n- **Tab completion** — Auto-fill selected command name\n- **Keyboard navigation** — `↑/k/ctrl+k`, `↓/j/ctrl+j`, `tab`, `enter`, `esc`\n\n**Command Options:**\n\n| Field     | Type           | Description                                                         |\n| --------- | -------------- | ------------------------------------------------------------------- |\n| `sh`      | string         | Shell command template (mutually exclusive with action)             |\n| `action`  | string         | Built-in action: `recycle` or `delete` (mutually exclusive with sh) |\n| `help`    | string         | Description shown in palette                                        |\n| `confirm` | string         | Confirmation prompt (empty = no confirmation)                       |\n| `silent`  | bool           | Skip loading popup for fast commands                                |\n| `exit`    | string         | Exit TUI after command (bool or `$ENV_VAR`)                         |\n| `form`    | `[]FormField`  | Interactive form fields collected before execution (see below)      |\n\n**System Default Commands:**\n\nHive provides built-in commands that can be overridden in usercommands:\n\n| Name        | Type   | Description                                            |\n| ----------- | ------ | ------------------------------------------------------ |\n| `Recycle`   | action | Recycles the selected session                          |\n| `Delete`    | action | Deletes the selected session (or selected tmux window) |\n| `SendBatch` | form   | Send a message to multiple agents via `agent-send`     |\n\n**Using Arguments:**\n\nArguments passed in the command palette are available via the `.Args` template variable:\n\n```yaml\nusercommands:\n  msg:\n    sh: |\n      hive msg pub -t agent.{{ .ID }}.inbox \"{{ range .Args }}{{ . }} {{ end }}\"\n    help: \"Send message to session inbox\"\n```\n\nUsage: `:msg hello world` → sends \"hello world\" to the session inbox\n\n**Exit Conditions:**\n\nThe `exit` field supports environment variables for conditional behavior:\n\n```yaml\nusercommands:\n  attach:\n    sh: \"tmux attach -t {{ .Name }}\"\n    exit: \"$HIVE_POPUP\" # Only exit if HIVE_POPUP=true\n```\n\nThis is useful when running hive in a tmux popup vs a dedicated session.\n\n**Form Fields:**\n\nCommands with `form` fields display an interactive dialog before execution. Form values are available under `.Form.<variable>` in the shell template.\n\n| Field         | Type     | Description                                                     |\n| ------------- | -------- | --------------------------------------------------------------- |\n| `variable`    | string   | Template variable name (accessed as `.Form.<variable>`)         |\n| `type`        | string   | `text`, `textarea`, `select`, or `multi-select` (one of type/preset) |\n| `preset`      | string   | `SessionSelector` or `ProjectSelector` (one of type/preset)    |\n| `label`       | string   | Display label for the field                                     |\n| `placeholder` | string   | Placeholder text (text/textarea)                                |\n| `default`     | string   | Default value (text/textarea/select)                            |\n| `options`     | []string | Static options (select/multi-select)                            |\n| `multi`       | bool     | Enable multi-select (presets only)                              |\n| `filter`      | string   | `active` (default) or `all` — SessionSelector only             |\n\nPreset fields populate from runtime data. `SessionSelector` shows active sessions with running tmux sessions (grouped by project when multiple remotes exist). `ProjectSelector` shows discovered repositories.\n\nForm commands don't require a focused session — they collect their own targets.\n\n**Example:**\n\n```yaml\nusercommands:\n  broadcast:\n    sh: |\n      {{ range .Form.targets }}\n      {{ agentSend }} {{ .Name | shq }}:claude {{ $.Form.message | shq }}\n      {{ end }}\n    form:\n      - variable: targets\n        preset: SessionSelector\n        multi: true\n        label: \"Select recipients\"\n      - variable: message\n        type: text\n        label: \"Message\"\n        placeholder: \"Type your message...\"\n    help: \"send message to multiple agents\"\n    silent: true\n```\n\n### Keybindings\n\nKeybindings map keys to user commands. All keybindings must reference a command via the `cmd` field.\n\n**Keybinding Options:**\n\n| Field     | Type   | Description                                   |\n| --------- | ------ | --------------------------------------------- |\n| `cmd`     | string | Command name to execute (required)            |\n| `help`    | string | Override help text from the command           |\n| `confirm` | string | Override confirmation prompt from the command |\n\n**Example:**\n\n```yaml\nkeybindings:\n  r:\n    cmd: Recycle # System default\n  d:\n    cmd: Delete # System default\n  o:\n    cmd: open # User-defined command\n  t:\n    cmd: tidy\n    confirm: \"Run tidy on this session?\" # Override command's confirm\n```\n\n### Plugins\n\nHive supports plugins that extend functionality with custom commands and status providers.\n\n#### Claude Plugin\n\nThe Claude plugin provides integration with Claude Code sessions:\n\n- **ClaudeFork** — Fork the current Claude session in a new tmux window with conversation history\n- **Analytics Status** — Display context usage with color warnings (yellow at 60%, red at 80%)\n\n**Configuration:**\n\n```yaml\nplugins:\n  claude:\n    enabled: true # nil = auto-detect, true/false = override\n    cache_ttl: 30s # status cache duration\n    yellow_threshold: 60 # yellow above this % (default: 60)\n    red_threshold: 80 # red above this % (default: 80)\n    model_limit: 200000 # context limit (default: 200000 for Sonnet)\n```\n\n**Usage:**\n\n```yaml\n# Add keybinding for fork\nkeybindings:\n  f:\n    cmd: ClaudeFork\n\n# Or invoke via command palette\n:ClaudeFork\n```\n\n**Context Analytics:**\n\nThe plugin displays session names in color based on context usage:\n\n- **Default color**: < 60% (no warning)\n- **Yellow**: 60-79% (approaching limit)\n- **Red**: ≥ 80% (at/near limit)\n\n**Requirements:**\n\n- Claude CLI installed (`claude`)\n- Claude session metadata stored in session (see spawn configuration below)\n\n**Spawn Configuration:**\n\n```yaml\nrules:\n  - pattern: \"\"\n    spawn:\n      - 'tmux new-window -c \"{{ .Path }}\" \"exec claude\"'\n```\n\nThe Claude plugin automatically detects active session IDs by scanning `~/.claude/projects/{project-dir}/` for the most recently modified UUID session file (within 5 minutes). No manual metadata configuration needed.\n\n#### Tmux Plugin\n\nThe tmux plugin is auto-detected when `tmux` is on PATH. It provides default commands for session management using bundled scripts (`hive-tmux`, `agent-send`) that are auto-extracted to `$HIVE_DATA_DIR/bin/`.\n\n**Commands provided:**\n\n| Command          | Description                     | Default Key |\n| ---------------- | ------------------------------- | ----------- |\n| `TmuxOpen`       | Open/attach tmux session        | `enter`     |\n| `TmuxStart`      | Start tmux session (background) | —           |\n| `TmuxKill`       | Kill tmux session               | `ctrl+d`    |\n| `TmuxPopUp`      | Popup tmux session              | `p`         |\n| `AgentSend`      | Send Enter to agent             | `A`         |\n| `AgentSendClear` | Send /clear to agent            | —           |\n\n**Configuration:**\n\n```yaml\nplugins:\n  tmux:\n    enabled: true # nil = auto-detect, true/false = override\n```\n\n### Configuration Options\n\n| Option                            | Type                     | Default                                  | Description                                  |\n| --------------------------------- | ------------------------ | ---------------------------------------- | -------------------------------------------- |\n| `repo_dirs`                       | `[]string`               | `[]`                                     | Directories to scan for repositories         |\n| `copy_command`                    | `string`                 | `pbcopy` (macOS)                         | Command to copy to clipboard                 |\n| `rules`                           | `[]Rule`                 | `[]`                                     | Repository-specific setup rules              |\n| `rules[].pattern`                 | `string`                 | `\"\"`                                     | Regex pattern to match remote URL            |\n| `rules[].spawn`                   | `[]string`               | bundled `hive-tmux`                      | Commands after session creation              |\n| `rules[].batch_spawn`             | `[]string`               | bundled `hive-tmux -b`                   | Commands after batch session creation        |\n| `rules[].recycle`                 | `[]string`               | git fetch/checkout/reset/clean           | Commands when recycling a session            |\n| `rules[].commands`                | `[]string`               | `[]`                                     | Setup commands to run after clone            |\n| `rules[].copy`                    | `[]string`               | `[]`                                     | Glob patterns for files to copy              |\n| `rules[].max_recycled`            | `*int`                   | `5`                                      | Max recycled sessions (0 = unlimited)        |\n| `keybindings`                     | `map[string]Keybinding`  | See [default keybindings](#hive-default) | TUI keybindings (reference usercommands)     |\n| `usercommands`                    | `map[string]UserCommand` | Recycle, Delete, NewSession (system)     | Named commands for palette and keybindings   |\n| `tui.theme`                       | `string`                 | `tokyo-night`                            | Built-in theme name                          |\n| `tui.refresh_interval`            | `duration`               | `15s`                                    | Auto-refresh interval (0 to disable)         |\n| `tui.preview_enabled`             | `bool`                   | `false`                                  | Enable tmux pane preview sidebar on startup  |\n| `tmux.poll_interval`              | `duration`               | `500ms`                                  | Status check frequency (tmux always enabled) |\n| `tmux.preview_window_matcher`     | `[]string`               | `[\"claude\", \"aider\", \"codex\"]`           | Regex patterns for preferred window names    |\n| `messaging.topic_prefix`          | `string`                 | `agent`                                  | Default prefix for topic IDs                 |\n| `context.symlink_name`            | `string`                 | `.hive`                                  | Symlink name for context directories         |\n| `plugins.tmux.enabled`            | `*bool`                  | `nil` (auto-detect)                      | Enable/disable tmux plugin                   |\n| `plugins.github.enabled`          | `*bool`                  | `nil` (auto-detect)                      | Enable/disable GitHub plugin                 |\n| `plugins.github.results_cache`    | `duration`               | `8m`                                     | GitHub status polling interval               |\n| `plugins.beads.enabled`           | `*bool`                  | `nil` (auto-detect)                      | Enable/disable Beads plugin                  |\n| `plugins.beads.results_cache`     | `duration`               | `30s`                                    | Beads status polling interval                |\n| `plugins.claude.enabled`          | `*bool`                  | `nil` (auto-detect)                      | Enable/disable Claude plugin                 |\n| `plugins.claude.cache_ttl`        | `duration`               | `30s`                                    | Status cache duration                        |\n| `plugins.claude.yellow_threshold` | `int`                    | `60`                                     | Yellow warning threshold (%)                 |\n| `plugins.claude.red_threshold`    | `int`                    | `80`                                     | Red warning threshold (%)                    |\n| `plugins.claude.model_limit`      | `int`                    | `200000`                                 | Context token limit                          |\n\n## Themes\n\nHive ships with five built-in color themes:\n\n| Theme         | Description                |\n| ------------- | -------------------------- |\n| `tokyo-night` | Default — cool blue/purple |\n| `gruvbox`     | Warm retro                 |\n| `catppuccin`  | Catppuccin Mocha           |\n| `kanagawa`    | Kanagawa Wave              |\n| `onedark`     | One Dark                   |\n\nSet a theme in your config:\n\n```yaml\ntui:\n  theme: catppuccin\n```\n\n### Semantic Color Roles\n\nEach theme defines 9 semantic colors. All TUI styles derive from these values:\n\n| Role         | Usage                                                    |\n| ------------ | -------------------------------------------------------- |\n| `Primary`    | Selections, borders, active elements                     |\n| `Secondary`  | IDs, branches, links                                     |\n| `Foreground` | Main text                                                |\n| `Muted`      | De-emphasized text, help text, dividers                  |\n| `Background` | Base background                                          |\n| `Surface`    | Elevated surfaces (modals, selections, status bar)       |\n| `Success`    | Positive states (active agent, open PRs, clean git)      |\n| `Warning`    | Caution states (needs approval, dirty git)               |\n| `Error`      | Error states, destructive actions, search highlights     |\n\n### Adding a Theme\n\nAdd a new palette to `internal/core/styles/themes.go`:\n\n```go\n\"my-theme\": {\n    Primary:    lipgloss.Color(\"#hex\"),\n    Secondary:  lipgloss.Color(\"#hex\"),\n    Foreground: lipgloss.Color(\"#hex\"),\n    Muted:      lipgloss.Color(\"#hex\"),\n    Background: lipgloss.Color(\"#hex\"),\n    Surface:    lipgloss.Color(\"#hex\"),\n    Success:    lipgloss.Color(\"#hex\"),\n    Warning:    lipgloss.Color(\"#hex\"),\n    Error:      lipgloss.Color(\"#hex\"),\n},\n```\n\nAll 70+ lipgloss styles are rebuilt from these 9 colors by `SetTheme()`, so adding a palette entry is all that's needed.\n\n## Data Storage\n\nAll data is stored at `~/.local/share/hive/`:\n\n```\n~/.local/share/hive/\n├── sessions.json              # Session state\n├── bin/                       # Bundled scripts (auto-extracted)\n│   ├── hive-tmux              # Tmux session launcher\n│   └── agent-send             # Send text to agent in tmux\n├── repos/                     # Cloned repositories\n│   └── myproject-feature1-abc123/\n├── context/                   # Per-repo context directories\n│   ├── {owner}/{repo}/        # Linked via .hive symlink\n│   └── shared/                # Shared context\n└── messages/\n    └── topics/                # Pub/sub message storage\n```\n\n## Tmux Integration\n\nHive integrates with tmux out of the box. When tmux is detected on PATH, the tmux plugin activates automatically with bundled scripts, default spawn commands, and keybindings. No manual script setup required. See the [Tmux Integration recipe](docs/recipes/tmux-integration.md) for advanced configuration.\n\n## Acknowledgments\n\nThis project was heavily inspired by [agent-deck](https://github.com/asheshgoplani/agent-deck) by Ashesh Goplani. Several concepts and code patterns were adapted from their work. Thanks to the agent-deck team for open-sourcing their project under the MIT license.\n\n**Disclaimer:** The majority of this codebase was vibe-coded with AI assistance. Use at your own risk.\n\n## Dependencies\n\n- Git (available in PATH or configured via `git_path`)\n- tmux (optional, auto-detected — enables bundled session management and status monitoring)\n\n---\n\n## FAQ\n\n### What's the difference between a hive session and a tmux session?\n\n- **Hive session**: A git clone + terminal environment managed by hive\n- **Tmux session**: A terminal multiplexer session that hosts the hive session\n\nWhen you create a hive session with tmux integration, hive spawns a tmux session with the same name. The relationship is:\n\n```\nHive Session \"fix-bug\" (ID: abc123)\n  ↓ creates\nTmux Session \"fix-bug\"\n  ↓ contains\nAgent (Claude) running in tmux window\n```\n\n### Can I run multiple agents in one session?\n\nNot yet, but it's planned. Currently each session runs one agent. Future versions will support multiple agents per session (e.g., Claude + test runner).\n\nWhen multi-agent support is added, agents will have individual inboxes:\n\n- `agent.<session-id>.claude.inbox`\n- `agent.<session-id>.test-runner.inbox`\n\n### Why is the inbox format `agent.<id>.inbox` not `session.<id>.inbox`?\n\nThe inbox belongs to the agent (AI tool), not the session (container). When multi-agent support is added, you'll be able to send messages to specific agents within a session using `agent.<session-id>.<agent-name>.inbox`.\n\n### What's a \"recycled\" session?\n\nWhen you're done with a session, you can recycle it instead of deleting it. Recycling:\n\n1. Resets the git repository to a clean state\n2. Renames the directory to a recycled pattern\n3. Makes it available for reuse\n\nWhen you create a new session, hive will reuse a recycled session if available, avoiding a fresh clone and saving time.\n\n---\n\n## CLI Reference\n\n### Global Flags\n\n| Flag           | Env Variable     | Default                      | Description                          |\n| -------------- | ---------------- | ---------------------------- | ------------------------------------ |\n| `--log-level`  | `HIVE_LOG_LEVEL` | `info`                       | Log level (debug, info, warn, error) |\n| `--log-file`   | `HIVE_LOG_FILE`  | -                            | Path to log file                     |\n| `--config, -c` | `HIVE_CONFIG`    | `~/.config/hive/config.yaml` | Config file path                     |\n| `--data-dir`   | `HIVE_DATA_DIR`  | `~/.local/share/hive`        | Data directory path                  |\n\n### `hive` (default)\n\nLaunches the interactive TUI for managing sessions.\n\n**Features:**\n\n- Tree view of sessions grouped by repository\n- Real-time terminal status monitoring (with tmux integration)\n- Preview sidebar showing live tmux pane output (`v` to toggle)\n- Git status display (branch, additions, deletions)\n- Filter sessions with `/` or by status via command palette\n- Switch between Sessions and Messages views with `tab`\n\n**Default keybindings:**\n\n- `:` - Open command palette\n- `v` - Toggle preview sidebar (shows tmux pane output)\n- `r` - Recycle session\n- `d` - Delete session (or selected tmux window)\n- `n` - New session (when repos discovered)\n- `enter` - Open/attach tmux session (tmux plugin)\n- `ctrl+d` - Kill tmux session (tmux plugin)\n- `A` - Send Enter to agent (tmux plugin)\n- `p` - Popup tmux session (tmux plugin)\n- `g` - Refresh git statuses\n- `tab` - Switch views\n- `q` / `Ctrl+C` - Quit\n\n**Built-in commands** (via `:` command palette):\n\n- `FilterAll` - Show all sessions\n- `FilterActive` - Show sessions with active agents\n- `FilterApproval` - Show sessions needing approval\n- `FilterReady` - Show sessions with idle agents\n- `Recycle` - Recycle selected session\n- `Delete` - Delete selected session (or selected tmux window)\n- `NewSession` - Create a new session\n- `SendBatch` - Send a message to multiple agents (form-based)\n\n### `hive new`\n\nCreates a new agent session.\n\n| Flag       | Alias | Description                                     |\n| ---------- | ----- | ----------------------------------------------- |\n| `--name`   | `-n`  | Session name                                    |\n| `--remote` | `-r`  | Git remote URL (auto-detected if not specified) |\n| `--prompt` | `-p`  | AI prompt to pass to spawn command              |\n\n```bash\nhive new                                    # Interactive mode\nhive new -n feature-auth -p \"Add OAuth2\"   # Non-interactive\n```\n\n### `hive ls`\n\nLists all sessions in a table format.\n\n| Flag     | Description    |\n| -------- | -------------- |\n| `--json` | Output as JSON |\n\n### `hive prune`\n\nRemoves recycled sessions exceeding the `max_recycled` limit.\n\n| Flag    | Alias | Description                  |\n| ------- | ----- | ---------------------------- |\n| `--all` | `-a`  | Delete all recycled sessions |\n\n### `hive batch`\n\nCreates multiple sessions from a JSON specification.\n\n| Flag     | Alias | Description                                          |\n| -------- | ----- | ---------------------------------------------------- |\n| `--file` | `-f`  | Path to JSON file (reads from stdin if not provided) |\n\n```bash\necho '{\"sessions\":[{\"name\":\"task1\",\"prompt\":\"Fix auth bug\"}]}' | hive batch\n```\n\n### `hive doctor`\n\nRuns diagnostic checks on configuration and environment.\n\n| Flag       | Description                      |\n| ---------- | -------------------------------- |\n| `--format` | Output format (`text` or `json`) |\n\n### `hive ctx`\n\nManages context directories for sharing files between sessions.\n\n#### `hive ctx init`\n\nCreates a symlink to the repository's context directory.\n\n```bash\nhive ctx init  # Creates .hive -> ~/.local/share/hive/context/{owner}/{repo}/\n```\n\n#### `hive ctx prune`\n\nDeletes files older than the specified duration.\n\n| Flag           | Description                  |\n| -------------- | ---------------------------- |\n| `--older-than` | Duration (e.g., `7d`, `24h`) |\n\n### `hive msg`\n\nPublish and subscribe to messages for inter-agent communication.\n\n#### `hive msg pub`\n\n| Flag       | Alias | Description                    |\n| ---------- | ----- | ------------------------------ |\n| `--topic`  | `-t`  | Topic to publish to (required) |\n| `--file`   | `-f`  | Read message from file         |\n| `--sender` | `-s`  | Override sender ID             |\n\n```bash\nhive msg pub -t build.status \"Build completed\"\n```\n\n#### `hive msg sub`\n\n| Flag        | Alias | Description                        |\n| ----------- | ----- | ---------------------------------- |\n| `--topic`   | `-t`  | Topic pattern (supports wildcards) |\n| `--last`    | `-n`  | Return only last N messages        |\n| `--listen`  | `-l`  | Poll for new messages continuously |\n| `--wait`    | `-w`  | Wait for a single message and exit |\n| `--new`     | -     | Only unread messages               |\n| `--timeout` | -     | Timeout for listen/wait mode       |\n\n```bash\nhive msg sub -t \"agent.*\" --last 10\nhive msg sub --wait --timeout 5m\n```\n\n#### `hive msg list`\n\nLists all topics with message counts.\n\n#### `hive msg topic`\n\nGenerates a unique topic ID.\n\n| Flag       | Alias | Description  |\n| ---------- | ----- | ------------ |\n| `--prefix` | `-p`  | Topic prefix |\n\n### `hive session info`\n\nDisplays information about the current session.\n\n| Flag     | Description    |\n| -------- | -------------- |\n| `--json` | Output as JSON |\n\n### `hive review`\n\nReview and annotate markdown documents stored in context directories. Opens an interactive document picker when run without arguments, or directly reviews a specified file.\n\n| Flag       | Alias | Description                          |\n| ---------- | ----- | ------------------------------------ |\n| `--file`   | `-f`  | Path to specific document to review  |\n| `--latest` | `-l`  | Open most recently modified document |\n\n```bash\nhive review                          # Interactive picker\nhive review -f .hive/plans/auth.md   # Review specific file\nhive review --latest                 # Review most recent document\n```\n\n**Interactive Features:**\n\n- **Document Picker** — Fuzzy search through context documents (only available when multiple documents exist)\n- **Line Selection** — Navigate and select specific lines with visual feedback\n- **Inline Comments** — Add multiline comments at any line with automatic indentation\n- **Smart Wrapping** — Comments wrap at 80 characters preserving indentation\n- **Search** — `/` to search within document, `n/N` to navigate matches\n- **Persistence** — Comments are saved directly to the file\n\n**Keyboard Navigation:**\n\n| Key                  | Action                               |\n| -------------------- | ------------------------------------ |\n| `↑/k`                | Move up                              |\n| `↓/j`                | Move down                            |\n| `g`                  | Jump to top                          |\n| `G`                  | Jump to bottom                       |\n| `enter`              | Select line and add comment          |\n| `/`                  | Search in document                   |\n| `n/N`                | Next/previous search match           |\n| `esc`                | Cancel comment/search, back to picker |\n| `q`/`ctrl+c`         | Quit                                 |\n\n**Comment Format:**\n\nComments are inserted with proper markdown formatting and indentation alignment:\n\n```markdown\n│  42 │ ## Implementation Steps\n\n       > **Comment:** This section needs to address the authentication flow.\n       > The current approach doesn't handle token refresh properly.\n\n│  43 │ 1. Add OAuth2 client configuration\n```\n\n## Review Context Documents\n\nContext directories provide shared storage for plans, research notes, and other artifacts across all sessions from the same repository. Documents stored in `.hive/` are accessible to all agents working on the repository.\n\n### Context Directory Structure\n\n```\n.hive/                                    # Symlink (per session)\n  ↓ points to\n~/.local/share/hive/context/{owner}/{repo}/\n├── plans/                                # Implementation plans\n│   ├── 2026-01-15-auth-refactor.md\n│   └── 2026-01-20-api-redesign.md\n├── research/                             # Research notes\n│   ├── authentication-analysis.md\n│   └── performance-profiling.md\n└── context/                              # General context documents\n    └── architecture-decisions.md\n```\n\n### Initialization\n\nBefore storing documents, initialize the context directory for your repository:\n\n```bash\n# Creates .hive symlink in current directory\nhive ctx init\n\n# Verify symlink and list contents\nhive ctx ls\n```\n\n**Important:** `.hive/` must ONLY be a symlink, never a regular directory. Always use `hive ctx init` to create it.\n\n### Finding Documents\n\nTo locate context documents for review:\n\n```bash\n# List all context documents (follows symlink correctly)\nhive ctx ls\n\n# Review with interactive picker\nhive review\n\n# Review specific document\nhive review -f .hive/plans/2026-01-15-auth-refactor.md\n\n# Review most recent document\nhive review --latest\n```\n\n### Usage Patterns\n\n**Planning workflow:**\n```bash\n# Create plan document\necho \"# Auth Refactor Plan\" > .hive/plans/auth-refactor.md\n\n# Review and annotate\nhive review --latest\n\n# Later sessions can review the same document\ncd ~/another-session\nhive review -f .hive/plans/auth-refactor.md\n```\n\n**Research workflow:**\n```bash\n# Store research findings\nhive review -f .hive/research/api-analysis.md\n\n# Add comments with findings\n# > **Comment:** Found bottleneck in user lookup - missing index on email column\n```\n\n### `hive doc`\n\nAccess documentation and guides.\n\n#### `hive doc migrate`\n\nShows configuration migration information.\n\n| Flag    | Description         |\n| ------- | ------------------- |\n| `--all` | Show all migrations |\n\n#### `hive doc messaging`\n\nOutputs messaging conventions documentation for LLMs.\n"
      },
      "plugins": [
        {
          "name": "hive",
          "description": "Skills for using the hive CLI",
          "source": "./claude-plugin/hive",
          "strict": false,
          "skills": [
            "./skills"
          ],
          "categories": [],
          "install_commands": [
            "/plugin marketplace add colonyops/hive",
            "/plugin install hive@hive"
          ]
        }
      ]
    }
  ]
}