{
  "author": {
    "id": "colonyops",
    "display_name": "colonyops",
    "avatar_url": "https://avatars.githubusercontent.com/u/258544745?v=4"
  },
  "marketplaces": [
    {
      "name": "hive",
      "version": null,
      "description": "Skills for managing AI coding agent sessions with hive CLI",
      "repo_full_name": "colonyops/hive",
      "repo_url": "https://github.com/colonyops/hive",
      "repo_description": "AI Agent Session Manager",
      "signals": {
        "stars": 1,
        "forks": 0,
        "pushed_at": "2026-02-05T02:27:41Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"hive\",\n  \"owner\": {\n    \"name\": \"Hayden K\",\n    \"email\": \"\"\n  },\n  \"metadata\": {\n    \"description\": \"Skills for managing AI coding agent sessions with hive CLI\",\n    \"version\": \"0.4.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"hive\",\n      \"description\": \"Skills for using the hive CLI\",\n      \"source\": \"./claude-plugin/hive\",\n      \"strict\": false,\n      \"skills\": [\"./skills\"]\n    }\n  ]\n}\n",
        "README.md": "<div align=\"center\">\n\n# hive\n\n**The command center for your AI colony**\n\nManage multiple AI agent sessions in isolated git environments with real-time status monitoring.\n\n[![Go Version](https://img.shields.io/badge/Go-1.25+-00ADD8?style=for-the-badge&logo=go&labelColor=1a1b26)](https://go.dev)\n[![License](https://img.shields.io/badge/License-MIT-9ece6a?style=for-the-badge&labelColor=1a1b26)](LICENSE)\n[![Platform](https://img.shields.io/badge/Platform-macOS%20%7C%20Linux-7aa2f7?style=for-the-badge&labelColor=1a1b26)](https://github.com/colonyops/hive)\n[![Release](https://img.shields.io/github/v/release/colonyops/hive?style=for-the-badge&color=e0af68&labelColor=1a1b26)](https://github.com/colonyops/hive/releases)\n\n[Installation](#installation) | [Configuration](#configuration) | [Tmux Integration](#tmux-integration) | [CLI Reference](#cli-reference)\n\n</div>\n\n---\n\n## Installation\n\n```bash\ngo install github.com/colonyops/hive@latest\n```\n\nWe also publish binaries as a part of our release cycle.\n\n## Overview\n\nHive creates isolated git environments for running multiple AI agents in parallel. Instead of managing worktrees manually, hive handles cloning, recycling, and spawning terminal sessions with your preferred AI tool.\n\n**Key Features:**\n\n- **Session Management** — Create, recycle, and prune isolated git clones\n- **Terminal Integration** — Real-time status monitoring of AI agents in tmux\n- **Inter-agent Messaging** — Pub/sub communication between sessions\n- **Context Sharing** — Shared storage per repository via `.hive` symlinks\n- **Custom Keybindings** — Bind keys to user-defined or system commands\n- **Command Palette** — Vim-style command palette for custom commands (`:` key)\n\n## Quick Start\n\n// TODO\n\n## TUI Status Indicators\n\nWhen terminal integration is enabled, the TUI shows real-time agent status:\n\n| Indicator | Color            | Meaning                         |\n| --------- | ---------------- | ------------------------------- |\n| `[●]`     | Green (animated) | Agent actively working          |\n| `[!]`     | Yellow           | Agent needs approval/permission |\n| `[>]`     | Cyan             | Agent ready for input           |\n| `[?]`     | Dim              | Terminal session not found      |\n| `[○]`     | Gray             | Session recycled                |\n\n## Inter-Agent Messaging\n\nHive includes a lightweight pub/sub messaging system that enables agents to communicate across repositories. This is useful when work in one microservice depends on information from another.\n\n### Example: Cross-Repository Collaboration\n\n```mermaid\nsequenceDiagram\n    participant A as Agent A<br/>(auth-service)\n    participant Bus as Message Bus<br/>topic: agent.x7k2\n    participant B as Agent B<br/>(user-service)\n\n    Note over A: Working on auth flow,<br/>needs User struct format\n\n    A->>Bus: pub \"What fields are in the User struct?\"\n    Bus-->>B: sub --wait receives message\n\n    Note over B: Reads user/model.go\n\n    B->>Bus: pub \"User{ID, Email, Name, CreatedAt}\"\n    Bus-->>A: sub --last 1 receives response\n\n    Note over A: Continues implementation<br/>with correct struct\n```\n\nThis example is simple, but I've used this system at work to debug complex issues across several microservices, pinpointing a bug in a service I didn't own.\n\n### Messaging Commands\n\n```bash\n# Generate a unique topic for collaboration\nhive msg topic                    # outputs: agent.x7k2\n\n# Agent A publishes a question\nhive msg pub -t agent.x7k2 \"What fields are in the User struct?\"\n\n# Agent B subscribes and waits for messages\nhive msg sub -t agent.x7k2 --wait\n\n# Agent B responds\nhive msg pub -t agent.x7k2 \"User struct has: ID, Email, Name, CreatedAt\"\n\n# Agent A receives the response\nhive msg sub -t agent.x7k2 --last 1\n```\n\n### Inbox Convention\n\nA common pattern is to give each agent an inbox topic using the format `agent.{session-id}.inbox`. This isn't built into hive automatically. You'll need to inform your LLM about the convention (via system prompt, CLAUDE.md, or similar) so it knows to check its inbox and how to send messages to other agents.\n\n## Configuration\n\nConfig file: `~/.config/hive/config.yaml`\n\n```yaml\n# Directories to scan for repositories (enables 'n' key in TUI)\nrepo_dirs:\n  - ~/code/repos\n\n# Terminal integration for real-time agent status\nintegrations:\n  terminal:\n    enabled: [tmux]\n    poll_interval: 500ms\n\n# Rules for repository-specific setup\nrules:\n  # Default rule (empty pattern matches all)\n  - pattern: \"\"\n    max_recycled: 5\n    spawn:\n      - 'wezterm cli spawn --cwd \"{{ .Path }}\" -- claude'\n    batch_spawn:\n      - 'wezterm cli spawn --cwd \"{{ .Path }}\" -- claude \"{{ .Prompt }}\"'\n    # recycle commands have sensible defaults; override if needed:\n    # recycle:\n    #   - git fetch origin\n    #   - git checkout -f {{ .DefaultBranch }}\n    #   - git reset --hard origin/{{ .DefaultBranch }}\n    #   - git clean -fd\n    commands:\n      - hive ctx init\n\n  # Override spawn for work repos\n  - pattern: \".*/my-org/.*\"\n    spawn:\n      - 'wezterm cli spawn --cwd \"{{ .Path }}\" -- aider'\n    commands:\n      - npm install\n    copy:\n      - .envrc\n\n# User commands (accessible via : or keybindings)\n# System provides default Recycle and Delete commands\nusercommands:\n  review:\n    sh: \"send-claude {{ .Name }} /review\"\n    help: \"Send /review to Claude session\"\n    silent: true\n  tidy:\n    sh: \"send-claude {{ .Name }} /tidy\"\n    help: \"Send /tidy to Claude session\"\n    confirm: \"Commit and push changes?\"\n  open:\n    sh: \"open {{ .Path }}\"\n    help: \"Open session in Finder\"\n    silent: true\n    exit: \"true\"\n\n# TUI keybindings (all reference usercommands)\nkeybindings:\n  r:\n    cmd: Recycle  # System default command\n    confirm: \"Recycle this session?\"  # Override default confirm\n  d:\n    cmd: Delete   # System default command\n  o:\n    cmd: open     # User-defined command above\n```\n\n### Template Variables\n\nCommands support Go templates with `{{ .Variable }}` syntax and `{{ .Variable | shq }}` for shell-safe quoting.\n\n| Context                | Variables                                                   |\n| ---------------------- | ----------------------------------------------------------- |\n| `rules[].spawn`        | `.Path`, `.Name`, `.Slug`, `.ContextDir`, `.Owner`, `.Repo` |\n| `rules[].batch_spawn`  | Same as spawn, plus `.Prompt`                               |\n| `rules[].recycle`      | `.DefaultBranch`                                            |\n| `usercommands.*.sh`    | `.Path`, `.Name`, `.Remote`, `.ID`, `.Args`                 |\n\n### User Commands & Command Palette\n\nUser commands provide a vim-style command palette accessible by pressing `:` in the TUI. This allows you to define custom commands that can be executed on selected sessions with arguments.\n\n**Command Palette Features:**\n\n- **Vim-style interface** — Press `:` to open the palette\n- **Fuzzy filtering** — Type to filter commands (prefix and substring matching)\n- **Arguments support** — Pass arguments to commands (e.g., `:review pr-123`)\n- **Tab completion** — Auto-fill selected command name\n- **Keyboard navigation** — `↑/k/ctrl+k`, `↓/j/ctrl+j`, `tab`, `enter`, `esc`\n\n**Command Options:**\n\n| Field     | Type   | Description                                              |\n| --------- | ------ | -------------------------------------------------------- |\n| `sh`      | string | Shell command template (mutually exclusive with action)  |\n| `action`  | string | Built-in action: `recycle` or `delete` (mutually exclusive with sh) |\n| `help`    | string | Description shown in palette                             |\n| `confirm` | string | Confirmation prompt (empty = no confirmation)            |\n| `silent`  | bool   | Skip loading popup for fast commands                     |\n| `exit`    | string | Exit TUI after command (bool or `$ENV_VAR`)              |\n\n**System Default Commands:**\n\nHive provides built-in commands that can be overridden in usercommands:\n\n| Name      | Action   | Description                    |\n| --------- | -------- | ------------------------------ |\n| `Recycle` | recycle  | Recycles the selected session  |\n| `Delete`  | delete   | Deletes the selected session   |\n\n**Using Arguments:**\n\nArguments passed in the command palette are available via the `.Args` template variable:\n\n```yaml\nusercommands:\n  msg:\n    sh: |\n      hive msg pub -t agent.{{ .ID }}.inbox \"{{ range .Args }}{{ . }} {{ end }}\"\n    help: \"Send message to session inbox\"\n```\n\nUsage: `:msg hello world` → sends \"hello world\" to the session inbox\n\n**Exit Conditions:**\n\nThe `exit` field supports environment variables for conditional behavior:\n\n```yaml\nusercommands:\n  attach:\n    sh: \"tmux attach -t {{ .Name }}\"\n    exit: \"$HIVE_POPUP\"  # Only exit if HIVE_POPUP=true\n```\n\nThis is useful when running hive in a tmux popup vs a dedicated session.\n\n### Keybindings\n\nKeybindings map keys to user commands. All keybindings must reference a command via the `cmd` field.\n\n**Keybinding Options:**\n\n| Field     | Type   | Description                                         |\n| --------- | ------ | --------------------------------------------------- |\n| `cmd`     | string | Command name to execute (required)                  |\n| `help`    | string | Override help text from the command                 |\n| `confirm` | string | Override confirmation prompt from the command       |\n\n**Example:**\n\n```yaml\nkeybindings:\n  r:\n    cmd: Recycle                         # System default\n  d:\n    cmd: Delete                          # System default\n  o:\n    cmd: open                            # User-defined command\n  t:\n    cmd: tidy\n    confirm: \"Run tidy on this session?\" # Override command's confirm\n```\n\n### Configuration Options\n\n| Option                                | Type                    | Default                        | Description                              |\n| ------------------------------------- | ----------------------- | ------------------------------ | ---------------------------------------- |\n| `repo_dirs`                           | `[]string`              | `[]`                           | Directories to scan for repositories     |\n| `copy_command`                        | `string`                | `pbcopy` (macOS)               | Command to copy to clipboard             |\n| `rules`                               | `[]Rule`                | `[]`                           | Repository-specific setup rules          |\n| `rules[].pattern`                     | `string`                | `\"\"`                           | Regex pattern to match remote URL        |\n| `rules[].spawn`                       | `[]string`              | `[]`                           | Commands after session creation          |\n| `rules[].batch_spawn`                 | `[]string`              | `[]`                           | Commands after batch session creation    |\n| `rules[].recycle`                     | `[]string`              | git fetch/checkout/reset/clean | Commands when recycling a session        |\n| `rules[].commands`                    | `[]string`              | `[]`                           | Setup commands to run after clone        |\n| `rules[].copy`                        | `[]string`              | `[]`                           | Glob patterns for files to copy          |\n| `rules[].max_recycled`                | `*int`                  | `5`                            | Max recycled sessions (0 = unlimited)    |\n| `keybindings`                         | `map[string]Keybinding` | `r`=Recycle, `d`=Delete        | TUI keybindings (reference usercommands) |\n| `usercommands`                        | `map[string]UserCommand`| Recycle, Delete (system)       | Named commands for palette and keybindings |\n| `tui.refresh_interval`                         | `duration`              | `15s`                          | Auto-refresh interval (0 to disable)     |\n| `tui.preview_enabled`                          | `bool`                  | `false`                        | Enable tmux pane preview sidebar on startup |\n| `integrations.terminal.enabled`                | `[]string`              | `[]`                           | Terminal integrations (e.g., `[\"tmux\"]`) |\n| `integrations.terminal.poll_interval`          | `duration`              | `500ms`                        | Status check frequency                   |\n| `integrations.terminal.preview_window_matcher` | `[]string`              | `[\"claude\", \"aider\", \"codex\"]` | Regex patterns for preferred window names |\n| `messaging.topic_prefix`              | `string`                | `agent`                        | Default prefix for topic IDs             |\n| `context.symlink_name`                | `string`                | `.hive`                        | Symlink name for context directories     |\n\n## Data Storage\n\nAll data is stored at `~/.local/share/hive/`:\n\n```\n~/.local/share/hive/\n├── sessions.json              # Session state\n├── repos/                     # Cloned repositories\n│   └── myproject-feature1-abc123/\n├── context/                   # Per-repo context directories\n│   ├── {owner}/{repo}/        # Linked via .hive symlink\n│   └── shared/                # Shared context\n└── messages/\n    └── topics/                # Pub/sub message storage\n```\n\n## Tmux Integration\n\nHive integrates with tmux for real-time status monitoring and session management. See the [Tmux Integration recipe](docs/recipes/tmux-integration.md) for complete setup with helper scripts, keybindings, and configuration examples.\n\n## Acknowledgments\n\nThis project was heavily inspired by [agent-deck](https://github.com/asheshgoplani/agent-deck) by Ashesh Goplani. Several concepts and code patterns were adapted from their work. Thanks to the agent-deck team for open-sourcing their project under the MIT license.\n\n**Disclaimer:** The majority of this codebase was vibe-coded with AI assistance. Use at your own risk.\n\n## Dependencies\n\n- Git (available in PATH or configured via `git_path`)\n- Terminal emulator with CLI spawning support (e.g., wezterm, kitty, alacritty, tmux)\n\n---\n\n## CLI Reference\n\n### Global Flags\n\n| Flag           | Env Variable     | Default                      | Description                          |\n| -------------- | ---------------- | ---------------------------- | ------------------------------------ |\n| `--log-level`  | `HIVE_LOG_LEVEL` | `info`                       | Log level (debug, info, warn, error) |\n| `--log-file`   | `HIVE_LOG_FILE`  | -                            | Path to log file                     |\n| `--config, -c` | `HIVE_CONFIG`    | `~/.config/hive/config.yaml` | Config file path                     |\n| `--data-dir`   | `HIVE_DATA_DIR`  | `~/.local/share/hive`        | Data directory path                  |\n\n### `hive` (default)\n\nLaunches the interactive TUI for managing sessions.\n\n**Features:**\n\n- Tree view of sessions grouped by repository\n- Real-time terminal status monitoring (with tmux integration)\n- Preview sidebar showing live tmux pane output (`v` to toggle)\n- Git status display (branch, additions, deletions)\n- Filter sessions with `/` or by status via command palette\n- Switch between Sessions and Messages views with `tab`\n\n**Default keybindings:**\n\n- `:` - Open command palette\n- `v` - Toggle preview sidebar (shows tmux pane output)\n- `r` - Recycle session\n- `d` - Delete session\n- `n` - New session (when repos discovered)\n- `g` - Refresh git statuses\n- `tab` - Switch views\n- `q` / `Ctrl+C` - Quit\n\n**Built-in commands** (via `:` command palette):\n\n- `FilterAll` - Show all sessions\n- `FilterActive` - Show sessions with active agents\n- `FilterApproval` - Show sessions needing approval\n- `FilterReady` - Show sessions with idle agents\n- `Recycle` - Recycle selected session\n- `Delete` - Delete selected session\n\n### `hive new`\n\nCreates a new agent session.\n\n| Flag       | Alias | Description                                     |\n| ---------- | ----- | ----------------------------------------------- |\n| `--name`   | `-n`  | Session name                                    |\n| `--remote` | `-r`  | Git remote URL (auto-detected if not specified) |\n| `--prompt` | `-p`  | AI prompt to pass to spawn command              |\n\n```bash\nhive new                                    # Interactive mode\nhive new -n feature-auth -p \"Add OAuth2\"   # Non-interactive\n```\n\n### `hive ls`\n\nLists all sessions in a table format.\n\n| Flag     | Description    |\n| -------- | -------------- |\n| `--json` | Output as JSON |\n\n### `hive prune`\n\nRemoves recycled sessions exceeding the `max_recycled` limit.\n\n| Flag    | Alias | Description                  |\n| ------- | ----- | ---------------------------- |\n| `--all` | `-a`  | Delete all recycled sessions |\n\n### `hive batch`\n\nCreates multiple sessions from a JSON specification.\n\n| Flag     | Alias | Description                                          |\n| -------- | ----- | ---------------------------------------------------- |\n| `--file` | `-f`  | Path to JSON file (reads from stdin if not provided) |\n\n```bash\necho '{\"sessions\":[{\"name\":\"task1\",\"prompt\":\"Fix auth bug\"}]}' | hive batch\n```\n\n### `hive doctor`\n\nRuns diagnostic checks on configuration and environment.\n\n| Flag       | Description                      |\n| ---------- | -------------------------------- |\n| `--format` | Output format (`text` or `json`) |\n\n### `hive ctx`\n\nManages context directories for sharing files between sessions.\n\n#### `hive ctx init`\n\nCreates a symlink to the repository's context directory.\n\n```bash\nhive ctx init  # Creates .hive -> ~/.local/share/hive/context/{owner}/{repo}/\n```\n\n#### `hive ctx prune`\n\nDeletes files older than the specified duration.\n\n| Flag           | Description                  |\n| -------------- | ---------------------------- |\n| `--older-than` | Duration (e.g., `7d`, `24h`) |\n\n### `hive msg`\n\nPublish and subscribe to messages for inter-agent communication.\n\n#### `hive msg pub`\n\n| Flag       | Alias | Description                    |\n| ---------- | ----- | ------------------------------ |\n| `--topic`  | `-t`  | Topic to publish to (required) |\n| `--file`   | `-f`  | Read message from file         |\n| `--sender` | `-s`  | Override sender ID             |\n\n```bash\nhive msg pub -t build.status \"Build completed\"\n```\n\n#### `hive msg sub`\n\n| Flag        | Alias | Description                        |\n| ----------- | ----- | ---------------------------------- |\n| `--topic`   | `-t`  | Topic pattern (supports wildcards) |\n| `--last`    | `-n`  | Return only last N messages        |\n| `--listen`  | `-l`  | Poll for new messages continuously |\n| `--wait`    | `-w`  | Wait for a single message and exit |\n| `--new`     | -     | Only unread messages               |\n| `--timeout` | -     | Timeout for listen/wait mode       |\n\n```bash\nhive msg sub -t \"agent.*\" --last 10\nhive msg sub --wait --timeout 5m\n```\n\n#### `hive msg list`\n\nLists all topics with message counts.\n\n#### `hive msg topic`\n\nGenerates a unique topic ID.\n\n| Flag       | Alias | Description  |\n| ---------- | ----- | ------------ |\n| `--prefix` | `-p`  | Topic prefix |\n\n### `hive session info`\n\nDisplays information about the current session.\n\n| Flag     | Description    |\n| -------- | -------------- |\n| `--json` | Output as JSON |\n\n### `hive doc`\n\nAccess documentation and guides.\n\n#### `hive doc migrate`\n\nShows configuration migration information.\n\n| Flag    | Description         |\n| ------- | ------------------- |\n| `--all` | Show all migrations |\n\n#### `hive doc messaging`\n\nOutputs messaging conventions documentation for LLMs.\n"
      },
      "plugins": [
        {
          "name": "hive",
          "description": "Skills for using the hive CLI",
          "source": "./claude-plugin/hive",
          "strict": false,
          "skills": [
            "./skills"
          ],
          "categories": [],
          "install_commands": [
            "/plugin marketplace add colonyops/hive",
            "/plugin install hive@hive"
          ]
        }
      ]
    }
  ]
}