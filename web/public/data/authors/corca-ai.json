{
  "author": {
    "id": "corca-ai",
    "display_name": "Corca",
    "avatar_url": "https://avatars.githubusercontent.com/u/72978860?v=4"
  },
  "marketplaces": [
    {
      "name": "corca-plugins",
      "version": null,
      "description": "A collection of Claude Code plugins for AI-Native Product Teams",
      "repo_full_name": "corca-ai/claude-plugins",
      "repo_url": "https://github.com/corca-ai/claude-plugins",
      "repo_description": null,
      "signals": {
        "stars": 22,
        "forks": 4,
        "pushed_at": "2026-02-05T00:59:52Z"
      },
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"corca-plugins\",\n  \"owner\": {\n    \"name\": \"Corca\",\n    \"email\": \"contact@corca.ai\"\n  },\n  \"metadata\": {\n    \"description\": \"A collection of Claude Code plugins for AI-Native Product Teams\",\n    \"version\": \"1.11.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"clarify\",\n      \"source\": \"./plugins/clarify\",\n      \"description\": \"A skill that transforms ambiguous requirements into clear specifications\",\n      \"keywords\": [\"requirements\", \"specification\", \"clarification\"]\n    },\n    {\n      \"name\": \"deep-clarify\",\n      \"source\": \"./plugins/deep-clarify\",\n      \"description\": \"A skill that autonomously researches requirements through codebase exploration and best practice analysis, only asking humans about genuinely subjective decisions\",\n      \"keywords\": [\"requirements\", \"clarification\", \"research\", \"sub-agents\", \"autonomous\"]\n    },\n    {\n      \"name\": \"suggest-tidyings\",\n      \"source\": \"./plugins/suggest-tidyings\",\n      \"description\": \"A skill that suggests safe refactoring opportunities based on Kent Beck's Tidy First? philosophy\",\n      \"keywords\": [\"refactoring\", \"tidying\", \"code-quality\", \"tidy-first\"]\n    },\n    {\n      \"name\": \"attention-hook\",\n      \"source\": \"./plugins/attention-hook\",\n      \"description\": \"A hook that sends Slack notifications when Claude Code is waiting\",\n      \"keywords\": [\"notification\", \"slack\", \"hook\"]\n    },\n    {\n      \"name\": \"interview\",\n      \"source\": \"./plugins/interview\",\n      \"description\": \"A skill that conducts structured interviews to extract requirements, constraints, and design decisions\",\n      \"keywords\": [\"interview\", \"requirements\", \"discovery\", \"specification\"]\n    },\n    {\n      \"name\": \"retro\",\n      \"source\": \"./plugins/retro\",\n      \"description\": \"A skill that performs comprehensive session retrospectives with CDM analysis and expert lens\",\n      \"keywords\": [\"retrospective\", \"session-review\", \"learning\", \"improvement\", \"cdm\", \"expert-analysis\"]\n    },\n    {\n      \"name\": \"gather-context\",\n      \"source\": \"./plugins/gather-context\",\n      \"description\": \"A skill that auto-detects URLs and gathers external content from Google Docs, Slack, Notion, and web pages\",\n      \"keywords\": [\"url\", \"export\", \"google\", \"slack\", \"notion\", \"gather\", \"context\"]\n    },\n    {\n      \"name\": \"web-search\",\n      \"source\": \"./plugins/web-search\",\n      \"description\": \"A skill that provides web search, code search, and URL content extraction via Tavily and Exa APIs\",\n      \"keywords\": [\"search\", \"web-search\", \"tavily\", \"exa\", \"code-search\", \"extract\"]\n    },\n    {\n      \"name\": \"plan-and-lessons\",\n      \"source\": \"./plugins/plan-and-lessons\",\n      \"description\": \"A hook that injects the Plan & Lessons Protocol when entering plan mode\",\n      \"keywords\": [\"plan\", \"lessons\", \"protocol\", \"plan-mode\", \"hook\"]\n    },\n    {\n      \"name\": \"smart-read\",\n      \"source\": \"./plugins/smart-read\",\n      \"description\": \"A hook that enforces intelligent file reading based on file size\",\n      \"keywords\": [\"read\", \"file-size\", \"context\", \"hook\", \"guard\"]\n    },\n    {\n      \"name\": \"prompt-logger\",\n      \"source\": \"./plugins/prompt-logger\",\n      \"description\": \"A hook that auto-logs every conversation turn to markdown files for retrospective analysis\",\n      \"keywords\": [\"logging\", \"transcript\", \"prompt\", \"retrospective\", \"hook\"]\n    }\n  ]\n}\n",
        "README.md": "# corca-plugins\n\n[ÌïúÍµ≠Ïñ¥](README.ko.md)\n\nA Claude Code plugin marketplace maintained by Corca for the [AI-Native Product Team](AI_NATIVE_PRODUCT_TEAM.md).\n\n## Installation\n\n### 1. Add and update the marketplace\n\n```bash\nclaude plugin marketplace add https://github.com/corca-ai/claude-plugins.git\n```\n\nWhen new plugins are added or existing plugins are updated, update the marketplace first:\n```bash\nclaude plugin marketplace update corca-plugins\n```\n\nThen install or update the plugin you need:\n```bash\nclaude plugin install <plugin-name>@corca-plugins  # install\nclaude plugin update <plugin-name>@corca-plugins   # update\n```\n\nRestart Claude Code after installing/updating for changes to take effect.\n\nTo update the marketplace and **all** installed plugins at once:\n```bash\nbash scripts/update-all.sh\n```\n\nYou can do the same from inside Claude Code (instead of your terminal):\n```\n/plugin marketplace add corca-ai/claude-plugins\n/plugin marketplace update\n```\n\n### 2. Plugin overview\n\n| Plugin | Type | Description |\n|---------|------|-------------|\n| [clarify](#clarify) | Skill | Turn ambiguous requirements into an actionable spec |\n| [deep-clarify](#deep-clarify) | Skill | Research-first requirement clarification with autonomous decision-making |\n| [interview](#interview) | Skill | Extract requirements through structured interviews |\n| [suggest-tidyings](#suggest-tidyings) | Skill | Suggest safe refactoring opportunities |\n| [retro](#retro) | Skill | Run a comprehensive end-of-session retrospective with CDM analysis and expert lens |\n| [gather-context](#gather-context) | Skill | Auto-detect URLs and gather external content via built-in scripts |\n| [web-search](#web-search) | Skill + Hook | Web search, code search, and URL content extraction |\n| [attention-hook](#attention-hook) | Hook | Send a Slack notification when idle/waiting |\n| [plan-and-lessons](#plan-and-lessons) | Hook | Inject the Plan & Lessons Protocol when entering plan mode |\n| [smart-read](#smart-read) | Hook | Enforce intelligent file reading based on file size |\n| [prompt-logger](#prompt-logger) | Hook | Auto-log conversation turns to markdown for retrospective analysis |\n\n## Skills\n\n### [clarify](plugins/clarify/skills/clarify/SKILL.md)\n\n**Install**: `claude plugin install clarify@corca-plugins` | **Update**: `claude plugin update clarify@corca-plugins`\n\nA skill that turns vague or unclear requirements into clear, executable specs through iterative questioning. It is based on Team Attention's [Clarify skill](https://github.com/team-attention/plugins-for-claude-natives/blob/main/plugins/clarify/SKILL.md) and customized for our workflow. (Usage reference: Jeong Gubong's [LinkedIn post](https://www.linkedin.com/posts/gb-jeong_%ED%81%B4%EB%A1%9C%EB%93%9C%EC%BD%94%EB%93%9C%EA%B0%80-%EA%B0%9D%EA%B4%80%EC%8B%9D%EC%9C%BC%EB%A1%9C-%EC%A7%88%EB%AC%B8%ED%95%98%EA%B2%8C-%ED%95%98%EB%8A%94-skills%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%B4%EB%B3%B4%EC%84%B8%EC%9A%94-clarify-activity-7413349697022570496-qLts))\n\n**How to use**: trigger with phrases like \"clarify the following:\" / \"Please clarify this requirement\"\n\n**Key features**:\n- Records the original request, then resolves ambiguity via structured questions\n- Shows a clear Before/After comparison\n- Optionally saves the clarified spec to a file (you can feed it into plan mode for implementation)\n\n### [deep-clarify](plugins/deep-clarify/skills/deep-clarify/SKILL.md)\n\n**Install**: `claude plugin install deep-clarify@corca-plugins` | **Update**: `claude plugin update deep-clarify@corca-plugins`\n\nA research-first alternative to `clarify`. Instead of asking the user about every ambiguity, deep-clarify autonomously researches via codebase exploration and best practice analysis, then only asks about genuinely subjective decisions ‚Äî with informed advisory opinions from two opposing perspectives.\n\n**Usage**: `/deep-clarify <requirement>`\n\n**Key features**:\n- Parallel sub-agents: codebase researcher + best practice researcher (with named expert perspectives)\n- 3-tier classification: Tier 1 (codebase-resolved), Tier 2 (best-practice-resolved), Tier 3 (human decision)\n- Advisory sub-agents argue opposing perspectives for Tier 3 items\n- Only asks the human about items where evidence conflicts or the question is inherently subjective\n- Skips advisory and questioning phases entirely when all items are resolvable\n\n**How it differs from clarify**:\n- `/clarify` ‚Äî quick, lightweight, asks about all ambiguities\n- `/deep-clarify` ‚Äî thorough, autonomous research first, asks only subjective items\n\n### [interview](plugins/interview/skills/interview/SKILL.md)\n\n**Install**: `claude plugin install interview@corca-plugins` | **Update**: `claude plugin update interview@corca-plugins`\n\nA skill created by Corca AX consultant [Jeonghyeok Choi](https://denoiser.club/) to match his preferred workflow. Its goal is similar to Clarify: it runs a structured interview to extract requirements, constraints, and design decisions, and documents the project's core requirements via conversation.\n\n**Usage**:\n- `/interview <topic>` - start a new interview (e.g., `/interview auth-system`)\n- `/interview <topic> --ref <path>` - interview based on a reference file\n- `/interview <topic> --workspace <dir>` - set the working directory\n\n**Key features**:\n- One question at a time for focused conversation\n- Real-time notes written to `SCRATCHPAD.md`\n- Generates a summarized `SYNTHESIS.md` at the end\n- Automatically detects and adapts to the user's language (Korean/English)\n\n**Outputs**:\n- `SCRATCHPAD.md` - real-time notes during the interview\n- `SYNTHESIS.md` - consolidated requirements synthesis\n- `JUST_IN_CASE.md` - extra context for future agents (optional)\n\n### [suggest-tidyings](plugins/suggest-tidyings/skills/suggest-tidyings/SKILL.md)\n\n**Install**: `claude plugin install suggest-tidyings@corca-plugins` | **Update**: `claude plugin update suggest-tidyings@corca-plugins`\n\nA skill based on Kent Beck's \"Tidy First?\" philosophy. It analyzes recent commits and finds safe refactoring opportunities. It uses parallel sub-agents to review multiple commits at once.\n\n**Usage**:\n- Analyze the current branch: `/suggest-tidyings`\n- Analyze a specific branch: `/suggest-tidyings develop`\n\n**Key features**:\n- Finds tidying opportunities from recent non-tidying commits\n- Parallel per-commit analysis (Task tool + sub-agents)\n- Applies 8 tidying techniques (guard clauses, dead code removal, extract helper, etc.)\n- Safety check: excludes code that has already changed on HEAD\n- Actionable suggestions in the format `file:line-range ‚Äî description (reason: ...)`\n\n**Core principles**:\n- Safe changes that only improve readability (no logic changes)\n- Atomic edits that can be separated into a single commit\n- Simple diffs that are easy for anyone to review\n\n### [retro](plugins/retro/skills/retro/SKILL.md)\n\n**Install**: `claude plugin install retro@corca-plugins` | **Update**: `claude plugin update retro@corca-plugins`\n\nA skill that runs a comprehensive retrospective at the end of a session. If `lessons.md` in the [Plan & Lessons Protocol](plugins/plan-and-lessons/protocol.md) is a progressively accumulated learning log, `retro` is a \"full-session, bird's-eye\" retrospective.\n\n**Usage**:\n- End of a session: `/retro`\n- With a specific directory: `/retro prompt-logs/260130-my-session`\n\n**Key features**:\n- Documents user/org/project context that will help future work\n- Observes working style and collaboration patterns and suggests CLAUDE.md updates (applies only with user approval)\n- Suggests prompting habit improvements (with concrete examples from the session)\n- Analyzes critical decisions using Gary Klein's CDM (Critical Decision Method) with session-specific probes\n- Expert Lens: parallel sub-agents adopt real expert identities to analyze the session through contrasting frameworks (with verified citations)\n- Shares learning resources tailored to the user's knowledge/experience level\n- Searches for relevant workflow skills or suggests creating new ones\n\n**Outputs**:\n- `prompt-logs/{YYMMDD}-{NN}-{title}/retro.md` ‚Äî saved alongside plan.md and lessons.md\n\n### [gather-context](plugins/gather-context/skills/gather-context/SKILL.md)\n\n**Install**: `claude plugin install gather-context@corca-plugins` | **Update**: `claude plugin update gather-context@corca-plugins`\n\nAn integrated skill that detects URL types and gathers external content into local files. It includes built-in converters, so it can gather Google Docs, Slack, and Notion content with a single plugin **without installing separate skills**. It combines the functionality of [`slack-to-md`](https://www.stdy.blog/1p1w-01-slack-to-md/), [`g-export`](https://www.stdy.blog/1p1w-02-g-export/), and `notion-to-md`.\n\n**Usage**:\n- Explicit invocation: `/gather-context <url>`\n- URL detection: if the agent encounters a supported service URL, it automatically runs the right converter\n\n**Supported services**:\n\n| URL pattern | Handler |\n|----------|--------|\n| `docs.google.com/{document,presentation,spreadsheets}/d/*` | Google Export (built-in script) |\n| `*.slack.com/archives/*/p*` | Slack to MD (built-in script) |\n| `*.notion.site/*`, `www.notion.so/*` | Notion to MD (built-in script) |\n| Other URLs | WebFetch fallback |\n\n**Output directory**: default `./gathered/` (override with `CLAUDE_CORCA_GATHER_CONTEXT_OUTPUT_DIR`; you can also set per-service env vars)\n\n**Note**:\n- If you need information lookup, consider using `/web-search`.\n\n### [web-search](plugins/web-search/skills/web-search/SKILL.md)\n\n**Install**: `claude plugin install web-search@corca-plugins` | **Update**: `claude plugin update web-search@corca-plugins`\n\nA skill that uses the Tavily and Exa REST APIs for web search, code search, and URL content extraction. Uses the **script delegation pattern**: SKILL.md handles command parsing and query intelligence, wrapper scripts handle API execution.\n\n**Usage**:\n- Web search: `/web-search <query>`\n- News search: `/web-search --news <query>`\n- Advanced depth: `/web-search --deep <query>`\n- Code/technical search: `/web-search code <query>`\n- URL extraction: `/web-search extract <url> [query]`\n\n**Key features**:\n- General web search via Tavily (summary + sources)\n- Query intelligence: auto-detects temporal intent and topic to set script parameters\n- Optional modifiers: `--news` for news topic, `--deep` for advanced search depth\n- Specialized code/technical search via Exa with dynamic token allocation\n- URL extraction with optional relevance reranking via query parameter\n- Self-contained scripts (`search.sh`, `code-search.sh`, `extract.sh`) handle env loading, JSON building, curl, and response formatting\n- Includes a Sources section in results\n\n**Requirements**:\n- `TAVILY_API_KEY` ‚Äî required for web search and URL extraction ([get a key](https://app.tavily.com/home))\n- `EXA_API_KEY` ‚Äî required for code search ([get a key](https://dashboard.exa.ai/api-keys))\n- Set keys in `~/.zshrc` or `~/.claude/.env`\n\n**Built-in WebSearch redirect** (Hook):\n- Installing this plugin also registers a `PreToolUse` hook that blocks Claude's built-in `WebSearch` tool and redirects to `/web-search`.\n- This ensures all web searches go through the Tavily/Exa APIs with proper key management.\n- The redirect is automatic and requires no additional configuration.\n\n**Caution**:\n- Your queries are sent to external search services. Do not include confidential code or sensitive information in search queries.\n\n## Hooks\n\n### [attention-hook](plugins/attention-hook/README.md)\n\n**Install**: `claude plugin install attention-hook@corca-plugins` | **Update**: `claude plugin update attention-hook@corca-plugins`\n\nSlack notifications with threading when Claude Code is waiting for input. All notifications from a single session are grouped into one Slack thread, keeping your channel clean. Useful when running on a remote server. (Background: [blog post](https://www.stdy.blog/1p1w-03-attention-hook/))\n\n**Key features**:\n- **Thread grouping**: first user prompt creates a parent message; subsequent notifications appear as thread replies\n- **Idle notification**: when Claude waits 60+ seconds for input (`idle_prompt`)\n- **AskUserQuestion notification**: when Claude asks a question and gets no response for 30+ seconds (`CLAUDE_ATTENTION_DELAY`)\n- **Plan mode notification**: when Claude enters or exits plan mode and gets no response for 30+ seconds\n- **Heartbeat status**: periodic updates during long autonomous operations (5+ min idle)\n- **Backward compatible**: falls back to webhook (no threading) if only `SLACK_WEBHOOK_URL` is set\n\n> **Compatibility note**: this script parses Claude Code's internal transcript structure using `jq`. It may break when Claude Code updates. See the script comments for the tested version info.\n\n**Requirements**:\n- `jq` installed (for JSON parsing)\n- Slack App with `chat:write` + `im:write` scopes (recommended) or Incoming Webhook URL\n\n**Setup** (Slack App ‚Äî enables threading):\n\n1. Create a Slack App at [api.slack.com/apps](https://api.slack.com/apps), add `chat:write` and `im:write` scopes, install to workspace\n2. Get the channel ID: open a DM with your bot ‚Üí click the bot name ‚Üí copy the Channel ID (starts with `D`). For channels, use `/invite @YourBotName` first.\n3. Create `~/.claude/.env`:\n```bash\n# ~/.claude/.env\nSLACK_BOT_TOKEN=\"xoxb-your-bot-token\"\nSLACK_CHANNEL_ID=\"D0123456789\"  # Bot DM channel (or C... for channels)\nCLAUDE_ATTENTION_DELAY=30  # AskUserQuestion notification delay in seconds (default: 30)\n```\n\nFor legacy webhook setup (no threading), set `SLACK_WEBHOOK_URL` instead. See [plugin README](plugins/attention-hook/README.md) for details.\n\n**Notification contents**:\n- üìù User request (first/last 5 lines, truncated)\n- ü§ñ Claude response (first/last 5 lines, truncated)\n- ‚ùì Waiting on a question: AskUserQuestion prompt + choices (if any)\n- ‚úÖ Todo: counts of done/in-progress/pending items and their text\n- üíì Heartbeat: periodic status with todo progress during long tasks\n\n**Examples**:\n\n<img src=\"assets/attention-hook-normal-response.png\" alt=\"Slack notification example 1 - normal response\" width=\"600\">\n\n<img src=\"assets/attention-hook-AskUserQuestion.png\" alt=\"Slack notification example 2 - AskUserQuestion\" width=\"600\">\n\n### [plan-and-lessons](plugins/plan-and-lessons/hooks/hooks.json)\n\n**Install**: `claude plugin install plan-and-lessons@corca-plugins` | **Update**: `claude plugin update plan-and-lessons@corca-plugins`\n\nA hook that automatically injects the Plan & Lessons Protocol when Claude Code enters plan mode (via the `EnterPlanMode` tool call). The protocol defines a workflow that creates plan.md and lessons.md under `prompt-logs/{YYMMDD}-{NN}-{title}/`.\n\n**How it works**:\n- Uses a `PreToolUse` ‚Üí `EnterPlanMode` matcher to detect plan-mode entry\n- Injects the protocol document path via `additionalContext`\n- Claude reads the protocol and follows it\n\n**Notes**:\n- If you enter plan mode directly via `/plan` or Shift+Tab, the hook won't fire (CLI mode toggle; no tool call happens)\n- For better coverage, also referencing the protocol from `CLAUDE.md` is recommended\n\n### [smart-read](plugins/smart-read/hooks/hooks.json)\n\n**Install**: `claude plugin install smart-read@corca-plugins` | **Update**: `claude plugin update smart-read@corca-plugins`\n\nA hook that intercepts Read tool calls and enforces intelligent file reading based on file size. Prevents context waste by warning on medium files and blocking full reads on large files, guiding Claude to use offset/limit or Grep instead.\n\n**How it works**:\n- Uses a `PreToolUse` ‚Üí `Read` matcher to intercept file reads\n- Checks file size (line count) before allowing full reads\n- Small files (‚â§500 lines): allowed silently\n- Medium files (500-2000 lines): allowed with `additionalContext` showing line count\n- Large files (>2000 lines): denied with guidance to use `offset`/`limit` or `Grep`\n- Binary files (PDF, images, notebooks): always allowed (Read handles these natively)\n\n**Bypass**: Claude can bypass the deny by setting `offset` or `limit` explicitly ‚Äî the hook only blocks when both are absent, so intentional partial reads always go through.\n\n**Configuration** (optional):\n\nSet thresholds in `~/.claude/.env`:\n```bash\n# ~/.claude/.env\nCLAUDE_CORCA_SMART_READ_WARN_LINES=500   # Lines above which additionalContext is added (default: 500)\nCLAUDE_CORCA_SMART_READ_DENY_LINES=2000  # Lines above which read is denied (default: 2000)\n```\n\n### [prompt-logger](plugins/prompt-logger/README.md)\n\n**Install**: `claude plugin install prompt-logger@corca-plugins` | **Update**: `claude plugin update prompt-logger@corca-plugins`\n\nA hook that auto-logs every conversation turn to markdown files. Uses `Stop` and `SessionEnd` hooks to incrementally capture turns as they happen ‚Äî no model involvement, pure bash + jq processing.\n\n**How it works**:\n- `Stop` hook fires when Claude finishes responding ‚Üí logs the completed turn\n- `SessionEnd` hook fires on exit/clear ‚Üí catches any unlogged final content\n- Both call the same idempotent script with offset-based incremental processing\n\n**Output**: One markdown file per session at `{cwd}/prompt-logs/sessions/{date}-{hash}.md`, containing:\n- Session metadata (model, branch, CWD, Claude Code version)\n- Each turn with timestamps, duration, and token usage\n- Full user prompts (with `[Image]` placeholders for images)\n- Truncated assistant responses (first 5 + last 5 lines if > threshold)\n- Tool call summaries (tool name + key parameter)\n\n**Configuration** (optional):\n\nSet in `~/.claude/.env`:\n```bash\n# ~/.claude/.env\nCLAUDE_CORCA_PROMPT_LOGGER_DIR=\"/custom/path\"        # Output directory (default: {cwd}/prompt-logs/sessions)\nCLAUDE_CORCA_PROMPT_LOGGER_ENABLED=false              # Disable logging (default: true)\nCLAUDE_CORCA_PROMPT_LOGGER_TRUNCATE=20                # Truncation threshold in lines (default: 10)\n```\n\n## Removed skills\n\nThe following skills were removed in v1.8.0. The same functionality is now built into [gather-context](#gather-context).\n\n| Removed skill | Replacement |\n|------------|------|\n| `g-export` | `gather-context` (built-in Google Docs/Slides/Sheets) |\n| `slack-to-md` | `gather-context` (built-in Slack thread export) |\n| `notion-to-md` | `gather-context` (built-in Notion page export) |\n\n**Migration**:\n```bash\nclaude plugin install gather-context@corca-plugins\n```\n\n## License\n\nMIT\n",
        "plugins/attention-hook/README.md": "# attention-hook\n\nSlack notifications with threading when Claude Code is waiting for input.\n\nAll notifications from a single session are grouped into one Slack thread, keeping your channel clean even with multiple concurrent sessions.\n\n## Features\n\n- **Thread grouping**: First user prompt creates a parent message; all subsequent notifications appear as thread replies (also broadcast to channel for notifications)\n- **Idle notification**: When Claude waits 60+ seconds for user input (`idle_prompt`)\n- **AskUserQuestion notification**: When Claude asks a question and gets no response for 30+ seconds\n- **Plan mode notification**: When Claude enters or exits plan mode and gets no response for 30+ seconds\n- **Heartbeat status**: Periodic status updates during long autonomous operations (5+ min idle)\n- **Backward compatible**: Falls back to webhook (no threading) if only `SLACK_WEBHOOK_URL` is configured\n\n## Setup\n\n### Option A: Slack App (Recommended ‚Äî enables threading)\n\n1. **Create a Slack App** at [api.slack.com/apps](https://api.slack.com/apps):\n   - Click \"Create New App\" ‚Üí \"From scratch\"\n   - Name it (e.g., \"Claude Code\") and select your workspace\n\n2. **Add Bot Token Scopes** under \"OAuth & Permissions\":\n   - `chat:write` ‚Äî post messages\n   - `im:write` ‚Äî send DM notifications\n\n3. **Install the App** to your workspace (OAuth & Permissions ‚Üí Install to Workspace)\n\n4. **Copy the Bot Token** (`xoxb-...`) from the OAuth & Permissions page\n\n5. **Get the Channel ID**:\n   - **For DM notifications**: Open a DM with your bot in Slack ‚Üí click the bot name at top ‚Üí copy the Channel ID (starts with `D`)\n   - **For channel notifications**: Right-click the channel ‚Üí \"View channel details\" ‚Üí copy the Channel ID (starts with `C`)\n   - **Note**: Do NOT use your self-DM channel ID ‚Äî use the DM channel between you and the bot\n\n6. **Invite the bot** to the channel (skip for DM):\n   ```\n   /invite @Claude Code\n   ```\n\n7. **Configure** `~/.claude/.env`:\n   ```bash\n   SLACK_BOT_TOKEN=\"xoxb-your-bot-token\"\n   SLACK_CHANNEL_ID=\"D0123456789\"  # Bot DM channel ID (or C... for channels)\n   ```\n\n### Option B: Incoming Webhook (Legacy ‚Äî no threading)\n\n1. Create a Slack Incoming Webhook at [api.slack.com/messaging/webhooks](https://api.slack.com/messaging/webhooks)\n\n2. Configure `~/.claude/.env`:\n   ```bash\n   SLACK_WEBHOOK_URL=\"https://hooks.slack.com/services/...\"\n   ```\n\n### Install the plugin\n\n```bash\nclaude plugin marketplace add https://github.com/corca-ai/claude-plugins.git\nclaude plugin install attention-hook@corca-plugins\n```\n\nRestart Claude Code after installing.\n\n## How it works\n\n### Message flow\n\n```\nUser enters first prompt\n  ‚Üí track-user-input.sh posts parent message to Slack\n  ‚Üí Saves message ts for threading\n\nClaude works autonomously for 5+ minutes\n  ‚Üí heartbeat.sh sends threaded status update with todo progress\n\nClaude finishes and waits 60s\n  ‚Üí attention.sh sends threaded notification with full context\n```\n\n### Hook registrations\n\n| Event | Script | Mode |\n|-------|--------|------|\n| `UserPromptSubmit` | `track-user-input.sh` | async |\n| `Notification:idle_prompt` | `attention.sh` | async |\n| `PreToolUse:AskUserQuestion` | `start-timer.sh` | sync |\n| `PostToolUse:AskUserQuestion` | `cancel-timer.sh` | sync |\n| `PreToolUse:EnterPlanMode` | `start-timer.sh` | sync |\n| `PostToolUse:EnterPlanMode` | `cancel-timer.sh` | sync |\n| `PreToolUse:ExitPlanMode` | `start-timer.sh` | sync |\n| `PostToolUse:ExitPlanMode` | `cancel-timer.sh` | sync |\n| `PreToolUse:*` | `heartbeat.sh` | async |\n\n### Session-scoped state\n\nEach session uses isolated state files at `/tmp/claude-attention-{hash}-*`:\n\n| File | Purpose |\n|------|---------|\n| `thread-ts` | Slack message ts for threading |\n| `last-user-ts` | Epoch of last user interaction |\n| `heartbeat-ts` | Epoch of last heartbeat sent |\n| `timer.pid` | Background timer PID (AskUserQuestion / plan mode) |\n| `thread-lock/` | Atomic lock directory for thread creation |\n| `input.json` | Cached hook input for timer |\n| `last-hash` | Deduplication hash |\n\n## Configuration\n\n| Variable | Default | Description |\n|----------|---------|-------------|\n| `SLACK_BOT_TOKEN` | ‚Äî | Bot token (`xoxb-...`) for Web API |\n| `SLACK_CHANNEL_ID` | ‚Äî | Channel ID for `chat.postMessage` |\n| `SLACK_WEBHOOK_URL` | ‚Äî | Legacy webhook (fallback, no threading) |\n| `CLAUDE_ATTENTION_DELAY` | `30` | AskUserQuestion / plan mode notification delay (seconds) |\n| `CLAUDE_ATTENTION_HEARTBEAT_USER_IDLE` | `300` | User idle time before heartbeat activates (seconds) |\n| `CLAUDE_ATTENTION_HEARTBEAT_INTERVAL` | `300` | Minimum interval between heartbeats (seconds) |\n\n## Requirements\n\n- `jq` (JSON parsing)\n- `bash` 4+\n- `curl`\n\n## Compatibility\n\nThis plugin parses Claude Code's internal transcript format via `jq`. The format is not a public API and may change between Claude Code versions. See script comments for tested version info.\n\n## Troubleshooting\n\nRun the built-in diagnostics to verify your Slack configuration:\n\n```bash\n./hooks/scripts/slack-send.sh --diagnose\n```\n\nThis checks: env file, token validity, channel access, and sends a test message.\n\n## Running tests\n\n```bash\n./hooks/scripts/attention.test.sh\n```\n",
        "plugins/prompt-logger/README.md": "# prompt-logger\n\nA hook-only plugin that auto-logs every conversation turn to markdown files for retrospective analysis.\n\n## How It Works\n\nThe plugin uses `Stop` and `SessionEnd` hooks to incrementally capture conversation turns:\n\n| Hook | When | Purpose |\n|------|------|---------|\n| `Stop` | Claude finishes responding | Log the completed turn |\n| `SessionEnd` | Exit/clear/Ctrl+C | Catch any unlogged final content |\n\nBoth hooks call the same idempotent script. If `Stop` already logged everything, `SessionEnd` finds no new lines and exits fast.\n\n## Output\n\nEach session produces one markdown file at `{cwd}/prompt-logs/sessions/{date}-{hash}.md`:\n\n```markdown\n# Session: abc12345\nModel: claude-opus-4-5-20251101 | Branch: main\nCWD: /Users/ted/codes/project\nStarted: 2026-02-04 14:30:00 KST | Claude Code v2.1.31\n\n---\n## Turn 1 [14:30:05 ‚Üí 14:31:22] (77s) | Tokens: 5394‚Üë 1283‚Üì\n\n### User\nFix the login bug in auth.ts\n\n### Assistant (15 lines ‚Üí truncated)\nfirst 5 lines...\n\n...(5 lines truncated)...\n\nlast 5 lines...\n\n### Tools\n1. Read `/src/auth/login.ts`\n2. Bash `git log --oneline -5`\n3. Task[Explore] \"find auth error handlers\"\n4. Edit `/src/auth/login.ts`\n```\n\n### Features\n\n- **Incremental logging** ‚Äî only new JSONL entries are processed each time\n- **Turn grouping** ‚Äî user message + all assistant responses grouped as one turn\n- **Tool summaries** ‚Äî each tool shows name + key parameter (file path, command, pattern, etc.)\n- **Text truncation** ‚Äî long assistant responses show first 5 + last 5 lines\n- **Image handling** ‚Äî image content replaced with `[Image]`\n- **Thinking blocks** ‚Äî skipped entirely\n- **Local timezone** ‚Äî UTC transcript timestamps converted to local time (e.g., KST)\n- **Race-safe** ‚Äî atomic mkdir lock prevents concurrent Stop/SessionEnd conflicts\n- **Auto-commit** ‚Äî session log is committed automatically at session end (no untracked leftovers)\n\n## Configuration\n\n| Variable | Default | Description |\n|----------|---------|-------------|\n| `CLAUDE_CORCA_PROMPT_LOGGER_DIR` | `{cwd}/prompt-logs/sessions` | Output directory |\n| `CLAUDE_CORCA_PROMPT_LOGGER_ENABLED` | `true` | Enable/disable logging |\n| `CLAUDE_CORCA_PROMPT_LOGGER_TRUNCATE` | `10` | Line threshold for assistant text truncation |\n| `CLAUDE_CORCA_PROMPT_LOGGER_AUTO_COMMIT` | `true` | Auto-commit session log at session end |\n\nSet in `~/.claude/.env` or shell profile:\n\n```bash\nexport CLAUDE_CORCA_PROMPT_LOGGER_DIR=\"$HOME/prompt-logs\"\nexport CLAUDE_CORCA_PROMPT_LOGGER_TRUNCATE=20\n```\n\n## Install\n\n```bash\nclaude mcp add-plugin prompt-logger ./plugins/prompt-logger\n```\n\nOr via marketplace:\n\n```bash\nclaude plugin install prompt-logger\n```\n\n## Dependencies\n\n- `bash`, `jq` (standard on macOS/Linux)\n- No model involvement ‚Äî pure bash processing\n"
      },
      "plugins": [
        {
          "name": "clarify",
          "source": "./plugins/clarify",
          "description": "A skill that transforms ambiguous requirements into clear specifications",
          "keywords": [
            "requirements",
            "specification",
            "clarification"
          ],
          "categories": [
            "clarification",
            "requirements",
            "specification"
          ],
          "install_commands": [
            "/plugin marketplace add corca-ai/claude-plugins",
            "/plugin install clarify@corca-plugins"
          ]
        },
        {
          "name": "deep-clarify",
          "source": "./plugins/deep-clarify",
          "description": "A skill that autonomously researches requirements through codebase exploration and best practice analysis, only asking humans about genuinely subjective decisions",
          "keywords": [
            "requirements",
            "clarification",
            "research",
            "sub-agents",
            "autonomous"
          ],
          "categories": [
            "autonomous",
            "clarification",
            "requirements",
            "research",
            "sub-agents"
          ],
          "install_commands": [
            "/plugin marketplace add corca-ai/claude-plugins",
            "/plugin install deep-clarify@corca-plugins"
          ]
        },
        {
          "name": "suggest-tidyings",
          "source": "./plugins/suggest-tidyings",
          "description": "A skill that suggests safe refactoring opportunities based on Kent Beck's Tidy First? philosophy",
          "keywords": [
            "refactoring",
            "tidying",
            "code-quality",
            "tidy-first"
          ],
          "categories": [
            "code-quality",
            "refactoring",
            "tidy-first",
            "tidying"
          ],
          "install_commands": [
            "/plugin marketplace add corca-ai/claude-plugins",
            "/plugin install suggest-tidyings@corca-plugins"
          ]
        },
        {
          "name": "attention-hook",
          "source": "./plugins/attention-hook",
          "description": "A hook that sends Slack notifications when Claude Code is waiting",
          "keywords": [
            "notification",
            "slack",
            "hook"
          ],
          "categories": [
            "hook",
            "notification",
            "slack"
          ],
          "install_commands": [
            "/plugin marketplace add corca-ai/claude-plugins",
            "/plugin install attention-hook@corca-plugins"
          ]
        },
        {
          "name": "interview",
          "source": "./plugins/interview",
          "description": "A skill that conducts structured interviews to extract requirements, constraints, and design decisions",
          "keywords": [
            "interview",
            "requirements",
            "discovery",
            "specification"
          ],
          "categories": [
            "discovery",
            "interview",
            "requirements",
            "specification"
          ],
          "install_commands": [
            "/plugin marketplace add corca-ai/claude-plugins",
            "/plugin install interview@corca-plugins"
          ]
        },
        {
          "name": "retro",
          "source": "./plugins/retro",
          "description": "A skill that performs comprehensive session retrospectives with CDM analysis and expert lens",
          "keywords": [
            "retrospective",
            "session-review",
            "learning",
            "improvement",
            "cdm",
            "expert-analysis"
          ],
          "categories": [
            "cdm",
            "expert-analysis",
            "improvement",
            "learning",
            "retrospective",
            "session-review"
          ],
          "install_commands": [
            "/plugin marketplace add corca-ai/claude-plugins",
            "/plugin install retro@corca-plugins"
          ]
        },
        {
          "name": "gather-context",
          "source": "./plugins/gather-context",
          "description": "A skill that auto-detects URLs and gathers external content from Google Docs, Slack, Notion, and web pages",
          "keywords": [
            "url",
            "export",
            "google",
            "slack",
            "notion",
            "gather",
            "context"
          ],
          "categories": [
            "context",
            "export",
            "gather",
            "google",
            "notion",
            "slack",
            "url"
          ],
          "install_commands": [
            "/plugin marketplace add corca-ai/claude-plugins",
            "/plugin install gather-context@corca-plugins"
          ]
        },
        {
          "name": "web-search",
          "source": "./plugins/web-search",
          "description": "A skill that provides web search, code search, and URL content extraction via Tavily and Exa APIs",
          "keywords": [
            "search",
            "web-search",
            "tavily",
            "exa",
            "code-search",
            "extract"
          ],
          "categories": [
            "code-search",
            "exa",
            "extract",
            "search",
            "tavily",
            "web-search"
          ],
          "install_commands": [
            "/plugin marketplace add corca-ai/claude-plugins",
            "/plugin install web-search@corca-plugins"
          ]
        },
        {
          "name": "plan-and-lessons",
          "source": "./plugins/plan-and-lessons",
          "description": "A hook that injects the Plan & Lessons Protocol when entering plan mode",
          "keywords": [
            "plan",
            "lessons",
            "protocol",
            "plan-mode",
            "hook"
          ],
          "categories": [
            "hook",
            "lessons",
            "plan",
            "plan-mode",
            "protocol"
          ],
          "install_commands": [
            "/plugin marketplace add corca-ai/claude-plugins",
            "/plugin install plan-and-lessons@corca-plugins"
          ]
        },
        {
          "name": "smart-read",
          "source": "./plugins/smart-read",
          "description": "A hook that enforces intelligent file reading based on file size",
          "keywords": [
            "read",
            "file-size",
            "context",
            "hook",
            "guard"
          ],
          "categories": [
            "context",
            "file-size",
            "guard",
            "hook",
            "read"
          ],
          "install_commands": [
            "/plugin marketplace add corca-ai/claude-plugins",
            "/plugin install smart-read@corca-plugins"
          ]
        },
        {
          "name": "prompt-logger",
          "source": "./plugins/prompt-logger",
          "description": "A hook that auto-logs every conversation turn to markdown files for retrospective analysis",
          "keywords": [
            "logging",
            "transcript",
            "prompt",
            "retrospective",
            "hook"
          ],
          "categories": [
            "hook",
            "logging",
            "prompt",
            "retrospective",
            "transcript"
          ],
          "install_commands": [
            "/plugin marketplace add corca-ai/claude-plugins",
            "/plugin install prompt-logger@corca-plugins"
          ]
        }
      ]
    }
  ]
}