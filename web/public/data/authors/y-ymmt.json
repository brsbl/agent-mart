{
  "author": {
    "id": "y-ymmt",
    "display_name": "yamamoto yuki",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/169212902?u=2576b84566ea241e7795202864d470139f416348&v=4",
    "url": "https://github.com/y-ymmt",
    "bio": null,
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 1,
      "total_commands": 2,
      "total_skills": 2,
      "total_stars": 0,
      "total_forks": 1
    }
  },
  "marketplaces": [
    {
      "name": "manim-video-creator",
      "version": null,
      "description": "Manim（Mathematical Animation Engine）を使用してTTSナレーション・BGM付きのアニメーション動画を作成するプラグイン",
      "owner_info": {
        "name": "ymmt"
      },
      "keywords": [],
      "repo_full_name": "y-ymmt/cc-manim-video-creator-plugin",
      "repo_url": "https://github.com/y-ymmt/cc-manim-video-creator-plugin",
      "repo_description": "manimで動画作成をするためのclaude codeプラグイン",
      "homepage": null,
      "signals": {
        "stars": 0,
        "forks": 1,
        "pushed_at": "2026-01-01T10:06:10Z",
        "created_at": "2025-12-31T15:27:08Z",
        "license": null
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 715
        },
        {
          "path": "plugins",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/manim-video-creator",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/manim-video-creator/.claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/manim-video-creator/.claude-plugin/plugin.json",
          "type": "blob",
          "size": 265
        },
        {
          "path": "plugins/manim-video-creator/README.md",
          "type": "blob",
          "size": 3707
        },
        {
          "path": "plugins/manim-video-creator/agents",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/manim-video-creator/agents/scene-reviewer.md",
          "type": "blob",
          "size": 8064
        },
        {
          "path": "plugins/manim-video-creator/agents/timing-analyzer.md",
          "type": "blob",
          "size": 3642
        },
        {
          "path": "plugins/manim-video-creator/commands",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/manim-video-creator/commands/create-video.md",
          "type": "blob",
          "size": 16027
        },
        {
          "path": "plugins/manim-video-creator/commands/init.md",
          "type": "blob",
          "size": 2290
        },
        {
          "path": "plugins/manim-video-creator/skills",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/manim-video-creator/skills/manim-video-creator",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/manim-video-creator/skills/manim-video-creator/SKILL.md",
          "type": "blob",
          "size": 31313
        },
        {
          "path": "plugins/manim-video-creator/skills/manim-video-creator/references",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/manim-video-creator/skills/manim-video-creator/references/3d-scenes.md",
          "type": "blob",
          "size": 5930
        },
        {
          "path": "plugins/manim-video-creator/skills/manim-video-creator/references/animations.md",
          "type": "blob",
          "size": 7505
        },
        {
          "path": "plugins/manim-video-creator/skills/manim-video-creator/references/graphing.md",
          "type": "blob",
          "size": 6908
        },
        {
          "path": "plugins/manim-video-creator/skills/manim-video-creator/references/mobjects.md",
          "type": "blob",
          "size": 6585
        },
        {
          "path": "plugins/manim-video-creator/skills/manim-video-creator/references/text-and-math.md",
          "type": "blob",
          "size": 6180
        },
        {
          "path": "plugins/manim-video-creator/skills/youtube-uploader",
          "type": "tree",
          "size": null
        },
        {
          "path": "plugins/manim-video-creator/skills/youtube-uploader/SKILL.md",
          "type": "blob",
          "size": 10191
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"$schema\": \"https://anthropic.com/claude-code/marketplace.schema.json\",\n  \"name\": \"manim-video-creator\",\n  \"description\": \"Manim（Mathematical Animation Engine）を使用してTTSナレーション・BGM付きのアニメーション動画を作成するプラグイン\",\n  \"owner\": {\n    \"name\": \"ymmt\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"manim-video-creator\",\n      \"description\": \"Manim（Mathematical Animation Engine）を使用してTTSナレーション・BGM付きのアニメーション動画を作成するプラグイン\",\n      \"version\": \"0.1.0\",\n      \"author\": {\n        \"name\": \"ymmt\"\n      },\n      \"source\": \"./plugins/manim-video-creator\",\n      \"category\": \"development\"\n    }\n  ]\n}\n",
        "plugins/manim-video-creator/.claude-plugin/plugin.json": "{\n  \"name\": \"manim-video-creator\",\n  \"version\": \"0.1.0\",\n  \"description\": \"Manim（Mathematical Animation Engine）を使用してTTSナレーション・BGM付きのアニメーション動画を作成するプラグイン\",\n  \"author\": {\n    \"name\": \"ymmt\"\n  }\n}\n",
        "plugins/manim-video-creator/README.md": "# Manim Video Creator Plugin\n\nManim（Mathematical Animation Engine）を使用してTTSナレーション・BGM付きのアニメーション動画を作成するClaude Codeプラグイン。\n\n## 機能\n\n- **2D/3Dアニメーション**: Manim Community ライブラリを使用\n- **TTSナレーション**: edge-tts による高品質音声合成\n- **BGM生成**: 著作権フリーのアンビエントBGM自動生成\n- **タイミング同期**: ナレーションとアニメーションの自動同期\n\n## 使用例\n\n- 解説動画・教育コンテンツ\n- プレゼンテーション動画\n- ロゴアニメーション\n- インフォグラフィック\n- アルゴリズム・データ構造の可視化\n- 3Dアニメーション\n\n## インストール\n\n```bash\n# プラグインをインストール\nclaude plugin install manim-video-creator\n```\n\n## コマンド\n\n### `/manim:init [project-name]`\n\n新規Manimプロジェクトをセットアップします。\n\n```bash\n# 使用例\n/manim:init my-video-project\n```\n\n- uvでプロジェクトを初期化\n- manim, edge-tts, pydub を依存関係に追加\n- 基本的なシーンテンプレートを作成\n\n### `/manim:create-video`\n\n動画作成ワークフローを開始します。\n\n```bash\n# 使用例\n/manim:create-video\n```\n\n1. ヒアリング（動画の種類、音声設定など）\n2. 台本作成\n3. シーン設計\n4. レンダリング\n5. 音声生成・合成\n\n## エージェント\n\n### scene-reviewer\n\nManimシーンのコードレビューを行います。\n\n- タイミング構成の確認\n- ベストプラクティスへの準拠\n- 潜在的な問題の検出\n\n### timing-analyzer\n\nナレーションとアニメーションのタイミング同期を分析します。\n\n- ナレーション長の測定\n- ずれの検出\n- 修正提案\n\n## システム要件\n\n### 必須\n\n- Python 3.12+\n- uv（推奨パッケージマネージャー）\n- FFmpeg\n\n### OS別依存パッケージ\n\n**macOS:**\n```bash\nbrew install pkg-config cairo pango ffmpeg\nbrew install --cask mactex\n```\n\n**Linux (Ubuntu/Debian):**\n```bash\nsudo apt-get install libcairo2-dev libpango1.0-dev ffmpeg texlive-full\n```\n\n**Windows:**\n- MiKTeX: https://miktex.org/download\n- FFmpeg: https://ffmpeg.org/download.html\n\n## ファイル構成\n\n```\nmanim-video-creator-plugin/\n├── .claude-plugin/\n│   └── plugin.json          # プラグインマニフェスト\n├── skills/\n│   └── manim-video-creator/\n│       ├── SKILL.md          # メインスキル\n│       ├── references/       # 参照ドキュメント\n│       │   ├── animations.md\n│       │   ├── mobjects.md\n│       │   ├── text-and-math.md\n│       │   ├── 3d-scenes.md\n│       │   └── graphing.md\n│       └── templates/        # テンプレート\n│           ├── scene_template.py\n│           ├── measure_audio.py\n│           └── generate_audio.py\n├── commands/\n│   ├── init.md               # プロジェクト初期化コマンド\n│   └── create-video.md       # 動画作成コマンド\n├── agents/\n│   ├── scene-reviewer.md     # シーンレビューエージェント\n│   └── timing-analyzer.md    # タイミング分析エージェント\n└── README.md\n```\n\n## 著作権に関する注意\n\n### BGM\n- 自動生成BGMは著作権フリーで商用・非商用問わず使用可能\n- 外部BGMを使用する場合は各サイトの利用規約を確認\n\n### TTSナレーション\n- edge-tts で生成した音声はMicrosoftの利用規約に従う\n- 商用利用の場合はAzure Speech Servicesの有料プランを検討\n",
        "plugins/manim-video-creator/agents/scene-reviewer.md": "---\nname: scene-reviewer\nwhenToUse: |\n  Use this agent after creating or editing a Manim scene file to review it for best practices, timing accuracy, and potential issues.\n\n  <example>\n  Context: User has just finished writing a Manim scene with narration sync.\n  user: \"I've created the scene for the explainer video. Can you check it?\"\n  assistant: \"I'll use the scene-reviewer agent to review your Manim scene for timing accuracy and best practices.\"\n  </example>\n\n  <example>\n  Context: Assistant has created a Manim scene file.\n  assistant: \"I've created the scene.py file. Now let me use the scene-reviewer agent to verify the timing and code quality.\"\n  </example>\n\n  <example>\n  Context: User is about to render their Manim video.\n  user: \"I think the scene is ready to render\"\n  assistant: \"Before rendering, let me use the scene-reviewer agent to check for any timing issues or improvements.\"\n  </example>\nmodel: opus\ncolor: blue\ntools:\n  - Read\n  - Glob\n  - Grep\n---\n\n# Manim Scene Reviewer\n\nManimシーンファイルをレビューし、ベストプラクティスへの準拠、タイミングの正確性、潜在的な問題を確認する。\n\n## レビュー対象\n\n1. **タイミング構成**\n   - docstringにタイミング構成が記載されているか\n   - 各セクションの累計時間が正確か\n   - ナレーションタイミングとアニメーションが一致しているか\n\n2. **コード品質**\n   - 適切なインポート文\n   - フォント設定（日本語対応）\n   - カラーパレットの定義\n   - 適切なコメント\n\n3. **アニメーション設計**\n   - run_time パラメータの指定\n   - wait() の適切な使用\n   - FadeOut/FadeIn のバランス\n   - 画面外への要素配置（マージン確保）\n\n4. **ナレーション同期**\n   - タイムスタンプコメントの形式\n   - 累計時間の追跡\n   - wait() 計算の正確性\n\n5. **視覚的品質（重なり・はみ出しチェック）**\n   - テキストやオブジェクトが互いに重なっていないか\n   - 要素が画面境界からはみ出していないか\n   - 適切なバッファ（余白）が確保されているか\n\n## チェックリスト\n\n```\n[ ] docstringにタイミング構成が記載されている\n[ ] 各セクションに累計時間コメントがある\n[ ] ナレーションテキストがコメントに記載されている\n[ ] run_time が適切に設定されている\n[ ] 日本語フォント設定がコメントにある\n[ ] カラーパレットが定義されている\n[ ] 画面端のマージンが確保されている\n[ ] FadeOut で画面がクリアされている\n[ ] テキスト・オブジェクトの重なりがない\n[ ] 要素が画面境界からはみ出していない\n```\n\n## 出力形式\n\n### レビュー結果\n\n**ファイル**: `scene.py`\n\n**タイミング分析**:\n- セクション1: 0-8秒 (アニメーション: 6秒, wait: 2秒) ✓\n- セクション2: 8-20秒 (アニメーション: 10秒, wait: 2秒) ✓\n\n**問題点**:\n1. [重要度: 高] セクション2の累計時間が1秒ずれています\n2. [重要度: 中] フォント設定のコメントがありません\n\n**改善提案**:\n1. セクション2の wait() を 2秒から 3秒に変更\n2. ファイル先頭にフォント設定のコメントを追加\n\n**視覚的品質**:\n- 重なりチェック: 問題なし / 要確認\n- はみ出しチェック: 問題なし / 要確認\n\n**総合評価**: 良好 / 要修正 / 問題あり\n\n---\n\n## 視覚的品質チェックの詳細ガイド\n\n### 1. テキスト・オブジェクトの重なり検出\n\n以下のパターンを確認し、オブジェクトが同じ位置に配置されていないかチェックする：\n\n#### 危険なパターン（重なりの可能性が高い）\n\n```python\n# 同じ位置に複数のオブジェクトを配置\ntext1.move_to(ORIGIN)\ntext2.move_to(ORIGIN)  # ⚠️ 重なり！\n\n# next_to() で buff=0 の場合\nitem.next_to(title, DOWN, buff=0)  # ⚠️ 接触の可能性\n\n# VGroup の要素が適切に配置されていない\ngroup = VGroup(text1, text2)  # arrange() がない場合は重なる可能性\n```\n\n#### 安全なパターン\n\n```python\n# next_to() で適切なバッファを確保\nsubtitle.next_to(title, DOWN, buff=0.5)  # ✓ 十分な間隔\n\n# VGroup で arrange() を使用\ngroup = VGroup(text1, text2, text3).arrange(DOWN, buff=0.3)  # ✓ 自動配置\n\n# 明示的に異なる位置を指定\ntitle.to_edge(UP, buff=0.5)\ncontent.move_to(ORIGIN)\nfooter.to_edge(DOWN, buff=0.5)  # ✓ 明確に分離\n```\n\n#### 確認すべき項目\n\n1. **同時に表示されるオブジェクト**: FadeOut される前に新しいオブジェクトが追加される場合\n2. **VGroup 内の要素**: `arrange()` が使われているか\n3. **テキストサイズ**: 大きなフォントサイズ（48以上）の場合は特に注意\n4. **`buff` パラメータ**: 最低でも 0.3 以上を推奨\n\n### 2. 画面境界からのはみ出し検出\n\nManimの標準画面境界は以下の通り（16:9の場合）：\n- 横: -7.1 ～ +7.1（frame_width / 2）\n- 縦: -4.0 ～ +4.0（frame_height / 2）\n\n#### 危険なパターン（はみ出しの可能性が高い）\n\n```python\n# 大きなオブジェクトを端に配置\nlarge_text = Text(\"長いテキスト文字列\", font_size=72)\nlarge_text.to_edge(RIGHT)  # ⚠️ はみ出す可能性\n\n# shift() で画面外に移動\nobj.shift(RIGHT * 8)  # ⚠️ 画面外（7.1以上）\n\n# scale() 後に位置調整なし\nbox.scale(3)  # ⚠️ 元の位置でスケールすると境界を超える可能性\n\n# to_edge() で buff が小さすぎる\ntitle.to_edge(UP, buff=0.1)  # ⚠️ マージン不足\n```\n\n#### 安全なパターン\n\n```python\n# to_edge() で適切なバッファ\ntitle.to_edge(UP, buff=0.5)  # ✓ 標準的なマージン\n\n# 長いテキストにはフォントサイズを調整\nlong_text = Text(\"非常に長いテキスト...\", font_size=24)  # ✓ 小さめのサイズ\n\n# scale_to_fit_width() で画面内に収める\nobj.scale_to_fit_width(config.frame_width - 2)  # ✓ 両端1ユニットの余白\n\n# 動的な位置調整\nif obj.get_width() > 10:\n    obj.scale_to_fit_width(10)  # ✓ 条件付きスケーリング\n```\n\n#### 確認すべき項目\n\n1. **`to_edge()` の buff 値**: 0.5 以上を推奨\n2. **`shift()` の値**: 6.5以上の移動は要注意\n3. **大きなフォントサイズ**: 48以上の場合、テキスト長に注意\n4. **`scale()` 後の位置**: 拡大後に画面内に収まるか\n5. **日本語テキスト**: 同じ文字数でも英語より幅が広くなる\n\n### 3. よくある問題と修正例\n\n#### 問題1: 箇条書きの重なり\n\n```python\n# 問題のあるコード\npoints = VGroup(\n    Text(\"ポイント1\"),\n    Text(\"ポイント2\"),\n    Text(\"ポイント3\"),\n)\npoints.move_to(ORIGIN)  # ⚠️ 全て同じ位置\n\n# 修正後\npoints = VGroup(\n    Text(\"ポイント1\"),\n    Text(\"ポイント2\"),\n    Text(\"ポイント3\"),\n).arrange(DOWN, aligned_edge=LEFT, buff=0.4)  # ✓ 縦に配置\npoints.move_to(ORIGIN)\n```\n\n#### 問題2: タイトルとコンテンツの重なり\n\n```python\n# 問題のあるコード\ntitle = Text(\"タイトル\", font_size=48)\ncontent = Text(\"内容\", font_size=32)\n# 両方とも中央に配置される ⚠️\n\n# 修正後\ntitle = Text(\"タイトル\", font_size=48)\ntitle.to_edge(UP, buff=0.5)  # ✓ 上端に配置\ncontent = Text(\"内容\", font_size=32)\ncontent.next_to(title, DOWN, buff=0.8)  # ✓ タイトルの下に配置\n```\n\n#### 問題3: 長いテキストのはみ出し\n\n```python\n# 問題のあるコード\nlong_text = Text(\"これは非常に長いテキストで画面からはみ出す可能性があります\", font_size=36)\n\n# 修正後\nlong_text = Text(\"これは非常に長いテキストで画面からはみ出す可能性があります\", font_size=28)\nif long_text.get_width() > config.frame_width - 1:\n    long_text.scale_to_fit_width(config.frame_width - 1)  # ✓ 画面幅に収める\n```\n",
        "plugins/manim-video-creator/agents/timing-analyzer.md": "---\nname: timing-analyzer\nwhenToUse: |\n  Use this agent when synchronizing narration audio with Manim animations, or when checking if the timing of narration and animation match correctly.\n\n  <example>\n  Context: User wants to verify narration timing matches the animation.\n  user: \"Can you check if the narration timing matches my animation?\"\n  assistant: \"I'll use the timing-analyzer agent to analyze the timing synchronization between your narration and animation.\"\n  </example>\n\n  <example>\n  Context: User is experiencing audio-video sync issues.\n  user: \"The narration seems off from the animation\"\n  assistant: \"Let me use the timing-analyzer agent to identify where the timing discrepancies are occurring.\"\n  </example>\n\n  <example>\n  Context: Before final render, checking all timings.\n  user: \"I want to make sure everything is synced before the final render\"\n  assistant: \"I'll use the timing-analyzer agent to perform a comprehensive timing check before your final render.\"\n  </example>\nmodel: opus\ncolor: green\ntools:\n  - Read\n  - Bash\n  - Glob\n  - Grep\n---\n\n# Manim Timing Analyzer\n\nナレーションとManimアニメーションのタイミング同期を分析し、ずれを検出して修正を提案する。\n\n## 分析手順\n\n### 1. ナレーション台本の確認\n\n`measure_audio.py` または `generate_audio.py` からナレーションリストを抽出：\n\n```python\nNARRATIONS = [\n    (0.0, \"最初のナレーション。\"),\n    (5.0, \"2番目のナレーション。\"),\n    ...\n]\n```\n\n### 2. ナレーション長の測定\n\nedge-tts を使用して各ナレーションの実際の長さを測定：\n\n```bash\nuv run python measure_audio.py\n```\n\n### 3. シーンタイミングの抽出\n\nscene.py のdocstringとコメントからタイミング情報を抽出：\n- セクション開始・終了時間\n- アニメーション時間（run_time）\n- 待機時間（wait）\n\n### 4. 同期分析\n\nナレーションタイミングとアニメーションタイミングを比較：\n\n| セクション | ナレーション開始 | アニメーション開始 | ずれ |\n|------------|------------------|--------------------|----- |\n| 1          | 0.0秒            | 0.0秒              | 0秒  |\n| 2          | 5.0秒            | 5.5秒              | +0.5秒 |\n\n### 5. 問題検出\n\n以下の問題を検出：\n- タイミングのずれ（±0.3秒以上）\n- ナレーション重複（次のナレーション開始前に現在のが終わらない）\n- 長すぎる無音区間（3秒以上）\n- アニメーションがナレーションより短い\n\n## 出力形式\n\n### タイミング分析レポート\n\n**ナレーション一覧**:\n| # | 開始時間 | 長さ | 終了時間 | テキスト |\n|---|----------|------|----------|----------|\n| 1 | 0.0秒    | 3.5秒 | 3.5秒   | 最初の... |\n| 2 | 5.0秒    | 4.2秒 | 9.2秒   | 2番目... |\n\n**アニメーション一覧**:\n| セクション | 開始時間 | 終了時間 | 累計 |\n|------------|----------|----------|------|\n| 1          | 0.0秒    | 4.0秒    | 4.0秒 |\n| 2          | 4.0秒    | 9.0秒    | 9.0秒 |\n\n**同期状態**:\n- セクション1: ✓ 同期OK\n- セクション2: ⚠ 1秒のずれ（ナレーション: 5.0秒開始、アニメーション: 4.0秒で開始）\n\n**推奨修正**:\n1. セクション1の wait() を 0.5秒 → 1.5秒に変更\n2. generate_audio.py のナレーション2の開始時間を 5.0秒 → 4.0秒に変更\n\n**修正後のタイミング表**:\n```python\nNARRATIONS = [\n    (0.5, \"最初のナレーション。\"),\n    (4.5, \"2番目のナレーション。\"),  # 修正: 5.0 → 4.5\n    ...\n]\n```\n",
        "plugins/manim-video-creator/commands/create-video.md": "---\ndescription: 動画作成ワークフローを開始する（ヒアリング→台本→シーン→音声→合成）\nallowed-tools:\n  - Bash\n  - Write\n  - Read\n  - Edit\n  - AskUserQuestion\n  - Glob\n  - Grep\n---\n\n# Manim Video Creation Workflow\n\nTTSナレーション・BGM付きのManimアニメーション動画を作成するための包括的なワークフロー。\n\n## ステップ1: ヒアリング\n\n**重要**: 動画作成を開始する前に、**必ず** `AskUserQuestion` ツールを使用して以下の情報を収集すること。\n\n```\nAskUserQuestion ツールを以下のパラメータで呼び出す：\n\nquestions:\n  - question: \"どのような種類の動画を作成しますか？\"\n    header: \"動画種類\"\n    multiSelect: false\n    options:\n      - label: \"解説・教育動画\"\n        description: \"論文解説、チュートリアル、概念説明など\"\n      - label: \"プレゼンテーション動画\"\n        description: \"スライド形式のプレゼン動画\"\n      - label: \"ロゴアニメーション\"\n        description: \"ロゴや短いモーショングラフィック\"\n      - label: \"アルゴリズム・コード可視化\"\n        description: \"アルゴリズムやデータ構造の動的可視化\"\n\n  - question: \"作成範囲を選択してください\"\n    header: \"作成範囲\"\n    multiSelect: false\n    options:\n      - label: \"フル版（Manim + TTSナレーション + BGM）\"\n        description: \"動画、音声、BGMすべてを含む完全版（推奨）\"\n      - label: \"Manim動画 + 台本\"\n        description: \"動画と台本のみ、音声は別途追加\"\n      - label: \"Manim動画のみ\"\n        description: \"音声なしのアニメーション動画のみ\"\n\n  - question: \"どのプラットフォーム向けに作成しますか？\"\n    header: \"プラットフォーム\"\n    multiSelect: false\n    options:\n      - label: \"YouTube（16:9, 1920x1080）\"\n        description: \"標準的なYouTube動画向け（推奨）\"\n      - label: \"YouTube Shorts/TikTok（9:16, 1080x1920）\"\n        description: \"縦長のショート動画向け\"\n      - label: \"Instagram投稿（1:1, 1080x1080）\"\n        description: \"正方形のInstagram投稿向け\"\n\n  - question: \"エンディング動画を追加しますか？\"\n    header: \"エンディング\"\n    multiSelect: false\n    options:\n      - label: \"エンディング動画を追加する（推奨）\"\n        description: \"プロジェクトまたはプラグインのendingsディレクトリから自動選択\"\n      - label: \"エンディング動画なし\"\n        description: \"メイン動画のみで終了\"\n```\n\n**フル版選択時のみ追加で確認:**\n\n```\nquestions:\n  - question: \"ナレーション音声を選択してください\"\n    header: \"音声\"\n    multiSelect: false\n    options:\n      - label: \"日本語女性（ja-JP-NanamiNeural）\"\n        description: \"明瞭で聞きやすい日本語女性音声（推奨）\"\n      - label: \"日本語男性（ja-JP-KeitaNeural）\"\n        description: \"落ち着いた日本語男性音声\"\n      - label: \"英語女性（en-US-JennyNeural）\"\n        description: \"ナチュラルな英語女性音声\"\n\n  - question: \"BGMの種類を選択してください\"\n    header: \"BGM\"\n    multiSelect: false\n    options:\n      - label: \"自動生成（アンビエント）\"\n        description: \"著作権フリーのアンビエントBGMを自動生成\"\n      - label: \"BGMなし\"\n        description: \"ナレーションのみ\"\n      - label: \"外部BGMを後から追加\"\n        description: \"動画作成後に別途BGMを追加\"\n```\n\n### ヒアリング結果の記録\n\nヒアリングで得た回答を以下の形式で記録し、後続のステップで参照する：\n\n```\n【ヒアリング結果】\n- 動画種類: [解説・教育動画 / プレゼン / ロゴ / アルゴリズム可視化]\n- 作成範囲: [フル版 / 動画+台本 / 動画のみ]\n- プラットフォーム: [YouTube 16:9 / Shorts 9:16 / Instagram 1:1]\n- エンディング動画: [追加する / なし]  ← ステップ8で使用\n- ナレーション音声: [音声ID]（フル版のみ）\n- BGM: [自動生成 / なし / 外部]（フル版のみ）\n```\n\n## エンディング動画のディレクトリ構成\n\nエンディング動画は**以下の優先順位**で検索される：\n\n### 1. プロジェクトディレクトリ（優先）\n\n現在のmanimプロジェクトディレクトリに `endings/` フォルダがある場合、そちらを優先使用：\n\n```\n./                          # 現在のプロジェクトディレクトリ\n└── endings/\n    ├── 16_9/\n    │   └── ending.mp4\n    ├── 9_16/\n    │   └── ending.mp4\n    └── 1_1/\n        └── ending.mp4\n```\n\n### 2. プラグインディレクトリ（フォールバック）\n\nプロジェクトにエンディング動画がない場合、プラグインディレクトリから取得：\n\n```\n${CLAUDE_PLUGIN_ROOT}/\n└── endings/\n    ├── 16_9/    # YouTube用（1920x1080）\n    │   └── ending.mp4\n    ├── 9_16/    # Shorts/TikTok用（1080x1920）\n    │   └── ending.mp4\n    └── 1_1/     # Instagram用（1080x1080）\n        └── ending.mp4\n```\n\n**注意:**\n- プロジェクト固有のエンディングがある場合は `./endings/` に配置\n- 共通のエンディングは `${CLAUDE_PLUGIN_ROOT}/endings/` に配置\n- 各アスペクト比に対応したエンディング動画を事前に作成しておく\n- ファイル名は `ending.mp4` 固定\n- どちらにもエンディング動画がない場合はスキップされる\n\n## ステップ2: コンテンツ確認\n\nユーザーから動画の内容について詳細を確認：\n- 主なトピック\n- 説明したいポイント\n- 参考資料（論文、ウェブページなど）\n\n## ステップ3: 台本作成\n\n1. ナレーション台本を作成\n2. 各セグメントのテキストをリスト化\n3. `measure_audio.py` を使用して各セグメントの長さを測定\n\n```python\n# measure_audio.py を使用\nNARRATIONS = [\n    \"最初のナレーション。\",\n    \"2番目のナレーション。\",\n    # ...\n]\n```\n\n## ステップ4: シーン設計\n\n1. タイミング構成を設計（ナレーション長に基づく）\n2. 各セクションの開始・終了時間を計算\n3. シーンスクリプトを作成\n\n```python\nclass MyScene(Scene):\n    \"\"\"\n    タイミング構成:\n    - セクション1: 0-8秒\n    - セクション2: 8-20秒\n    ...\n    \"\"\"\n    def construct(self):\n        self.section1()  # 8秒\n        self.section2()  # 12秒\n```\n\n## ステップ4.5: シーンレビュー（品質チェック①）\n\n> **⚠️ 必須ステップ - スキップ禁止**\n>\n> シーンファイル作成後、**必ず Task ツールで scene-reviewer エージェントを起動**してコードレビューを実施すること。\n> ffprobe などの技術的なチェックのみでは不十分。サブエージェントによるレビューが必須。\n\n### Task ツールの呼び出し（必須）\n\n```json\n{\n  \"subagent_type\": \"manim-video-creator:scene-reviewer\",\n  \"prompt\": \"scene.py をレビューしてください。以下の項目を確認し、問題点があれば報告してください：\\n1. タイミング構成（docstring記載、累計時間の正確性）\\n2. コード品質（インポート、フォント設定、カラーパレット）\\n3. アニメーション設計（run_time、wait()の使用）\\n4. ナレーション同期（タイムスタンプコメント）\\n5. 視覚的品質（テキスト/オブジェクトの重なり、画面からのはみ出し）\",\n  \"description\": \"Manimシーンのレビュー\"\n}\n```\n\n**レビュー対象:**\n- docstringにタイミング構成が記載されているか\n- 各セクションの累計時間が正確か\n- run_time パラメータが適切に設定されているか\n- 日本語フォント設定があるか\n- カラーパレットが定義されているか\n- テキストやオブジェクトの重なりがないか\n- 要素が画面境界からはみ出していないか\n\n**問題が見つかった場合:**\n1. レビュー結果に基づいて scene.py を修正\n2. 修正後、再度 scene-reviewer でレビュー\n3. 問題がなくなるまで繰り返す\n\n## ステップ5: プレビューレンダリング\n\n低品質でプレビューをレンダリング：\n\n```bash\nuv run manim -ql scene.py MyScene --disable_caching\n```\n\n## ステップ5.5: タイミング分析（品質チェック②）\n\n> **⚠️ 必須ステップ - スキップ禁止**\n>\n> プレビューレンダリング後、**必ず Task ツールで timing-analyzer エージェントを起動**してナレーションとアニメーションの同期を確認すること。\n> このステップをスキップすると、最終動画でナレーションとアニメーションがずれる原因になる。\n\n### Task ツールの呼び出し（必須）\n\n```json\n{\n  \"subagent_type\": \"manim-video-creator:timing-analyzer\",\n  \"prompt\": \"measure_audio.py（またはgenerate_audio.py）のナレーション台本と、scene.py のタイミングを分析してください。以下を確認し、問題があれば報告してください：\\n1. 各ナレーションの開始時間と長さ\\n2. アニメーションの累計時間\\n3. ナレーションとアニメーションのずれ（±0.3秒以上は問題）\\n4. ナレーションの重複\\n5. 長すぎる無音区間（3秒以上）\",\n  \"description\": \"タイミング同期分析\"\n}\n```\n\n**分析対象:**\n- 各ナレーションの開始時間と長さ\n- アニメーションの累計時間\n- ナレーションとアニメーションのずれ（±0.3秒以上は問題）\n- ナレーションの重複（次のナレーション開始前に現在のが終わらない）\n- 長すぎる無音区間（3秒以上）\n\n**問題が検出された場合:**\n1. scene.py の wait() 時間を調整\n2. generate_audio.py のタイムスタンプを調整\n3. 修正後、再度プレビューをレンダリングして確認\n4. timing-analyzer で再分析\n\n## ステップ6: 高品質レンダリング\n\nタイミング分析で問題がないことを確認後、高品質で最終レンダリング：\n\n```bash\nuv run manim -qh scene.py MyScene --disable_caching\n```\n\n## ステップ7: 音声生成（フル版）\n\n1. `generate_audio.py` でナレーション生成\n2. BGM生成（必要な場合）\n3. ナレーションとBGMを合成\n\n## ステップ8: 最終合成（エンディング動画結合を含む）\n\n### 8-1: 動画と音声の合成\n\n```bash\nffmpeg -i video.mp4 -i combined_audio.mp3 \\\n  -c:v copy -c:a aac -b:a 192k \\\n  -map 0:v:0 -map 1:a:0 \\\n  -shortest -y main_with_audio.mp4\n```\n\n### 8-2: エンディング動画の結合\n\n**重要**: ステップ1のヒアリングで「エンディング動画を追加する」を選択した場合のみ実行する。\n\n```\n【ヒアリング結果の確認】\nステップ1で記録した「エンディング動画」の回答を確認：\n- 「追加する」の場合 → 以下の処理を実行\n- 「なし」の場合 → このステップをスキップし、main_with_audio.mp4 を final_output.mp4 としてリネーム\n```\n\n#### エンディング動画の結合手順\n\n1. **動画のアスペクト比を判定**\n\n```bash\n# 動画の幅と高さを取得\nWIDTH=$(ffprobe -v error -select_streams v:0 -show_entries stream=width -of csv=p=0 main_with_audio.mp4)\nHEIGHT=$(ffprobe -v error -select_streams v:0 -show_entries stream=height -of csv=p=0 main_with_audio.mp4)\n\n# アスペクト比を判定\nif [ \"$WIDTH\" -gt \"$HEIGHT\" ]; then\n  ASPECT_DIR=\"16_9\"\nelif [ \"$WIDTH\" -lt \"$HEIGHT\" ]; then\n  ASPECT_DIR=\"9_16\"\nelse\n  ASPECT_DIR=\"1_1\"\nfi\n```\n\n2. **エンディング動画を検索（優先順位順）**\n\n以下の順序でエンディング動画を探す：\n\n| 優先度 | 検索場所 | パス |\n|--------|----------|------|\n| 1 | プロジェクトディレクトリ | `./endings/${ASPECT_DIR}/ending.mp4` |\n| 2 | プラグインディレクトリ | `${CLAUDE_PLUGIN_ROOT}/endings/${ASPECT_DIR}/ending.mp4` |\n\n```bash\n# エンディング動画のパスを決定（プロジェクト優先、プラグインフォールバック）\nPROJECT_ENDING=\"./endings/${ASPECT_DIR}/ending.mp4\"\nPLUGIN_ENDING=\"${CLAUDE_PLUGIN_ROOT}/endings/${ASPECT_DIR}/ending.mp4\"\n\nif [ -f \"$PROJECT_ENDING\" ]; then\n  ENDING_PATH=\"$PROJECT_ENDING\"\n  echo \"プロジェクトのエンディング動画を使用: $ENDING_PATH\"\nelif [ -f \"$PLUGIN_ENDING\" ]; then\n  ENDING_PATH=\"$PLUGIN_ENDING\"\n  echo \"プラグインのエンディング動画を使用: $ENDING_PATH\"\nelse\n  ENDING_PATH=\"\"\n  echo \"警告: エンディング動画が見つかりませんでした\"\n  echo \"  - プロジェクト: $PROJECT_ENDING\"\n  echo \"  - プラグイン: $PLUGIN_ENDING\"\nfi\n```\n\n3. **動画の結合**\n\n```bash\n# エンディング動画が見つかった場合のみ結合\nif [ -n \"$ENDING_PATH\" ] && [ -f \"$ENDING_PATH\" ]; then\n  # 結合用のリストファイルを作成（絶対パスを使用）\n  echo \"file '$(realpath main_with_audio.mp4)'\" > concat_list.txt\n  echo \"file '$(realpath \"$ENDING_PATH\")'\" >> concat_list.txt\n\n  # 動画を結合\n  ffmpeg -f concat -safe 0 -i concat_list.txt \\\n    -c copy -y final_output.mp4\n\n  # クリーンアップ\n  rm concat_list.txt main_with_audio.mp4\n  echo \"エンディング動画を結合しました: final_output.mp4\"\nelse\n  # エンディング動画がない場合はそのまま使用\n  mv main_with_audio.mp4 final_output.mp4\n  echo \"エンディング動画なしで完了: final_output.mp4\"\nfi\n```\n\n**注意:**\n- メイン動画とエンディング動画のコーデック・解像度・フレームレートが一致している必要がある\n- 一致しない場合は再エンコードが必要（処理時間が長くなる）\n\n```bash\n# 再エンコードが必要な場合\nffmpeg -f concat -safe 0 -i concat_list.txt \\\n  -c:v libx264 -preset medium -crf 18 \\\n  -c:a aac -b:a 192k \\\n  -y final_output.mp4\n```\n\n## ステップ9: 完了報告\n\n動画作成完了時に以下を伝える：\n- 出力ファイルの場所\n- 動画の長さ\n- 著作権に関する注意事項（BGM、TTS音声について）\n\n## 重要な注意事項\n\n### 品質チェックは必須（サブエージェント使用必須）\n\n> **⚠️ 絶対に守ること**\n>\n> 品質チェックでは**必ず Task ツールでサブエージェントを起動**すること。\n> ffprobe や目視確認だけでは不十分。以下の2つのサブエージェントを必ず使用すること。\n\n以下の2つの品質チェックは**スキップ不可**。問題が見つかった場合は必ず修正してから次のステップに進むこと：\n\n1. **ステップ4.5: シーンレビュー**\n   - **使用エージェント**: `manim-video-creator:scene-reviewer`\n   - **タイミング**: シーンファイル作成直後\n   - **確認項目**: コード品質、タイミング構成、アニメーション設計、視覚的品質\n   - **必須アクション**: Task ツールで scene-reviewer を起動\n\n2. **ステップ5.5: タイミング分析**\n   - **使用エージェント**: `manim-video-creator:timing-analyzer`\n   - **タイミング**: プレビューレンダリング後\n   - **確認項目**: ナレーションとアニメーションの同期\n   - **必須アクション**: Task ツールで timing-analyzer を起動\n\n### 禁止事項\n\n- ❌ 品質チェックをスキップする\n- ❌ ffprobe のみで品質チェック完了とする\n- ❌ サブエージェントを起動せずに次のステップに進む\n\n### その他の注意事項\n\n- 各ステップで進捗を報告する\n- タイミングのずれが生じた場合は調整を提案する\n- 品質チェックで問題がなくなるまで繰り返し修正を行う\n",
        "plugins/manim-video-creator/commands/init.md": "---\ndescription: 新規Manimプロジェクトをセットアップする\nargument-hint: \"[project-name]\"\nallowed-tools:\n  - Bash\n  - Write\n  - Read\n  - AskUserQuestion\n---\n\n# Manim Project Initialization\n\n新規のManimプロジェクトを作成し、必要な依存関係をセットアップする。\n\n## 手順\n\n1. **プロジェクト名の確認**\n   - 引数でプロジェクト名が指定されていない場合は `AskUserQuestion` で確認する\n   - デフォルト: `manim-project`\n\n2. **uvでプロジェクトを初期化**\n   ```bash\n   uv init --python 3.12 <project-name>\n   cd <project-name>\n   ```\n\n3. **依存関係を追加**\n   ```bash\n   uv add manim edge-tts pydub\n   ```\n\n4. **OS検出とシステム依存パッケージの案内**\n   - macOS: `brew install pkg-config cairo pango ffmpeg && brew install --cask mactex`\n   - Linux: `sudo apt-get install libcairo2-dev libpango1.0-dev ffmpeg texlive-full`\n   - Windows: MiKTeX と FFmpeg のインストールを案内\n\n5. **基本ファイルを作成**\n   - `scene.py`: 基本的なシーンテンプレート\n   - `README.md`: プロジェクトの説明\n\n6. **セットアップの確認**\n   ```bash\n   uv run manim checkhealth\n   ```\n\n## scene.py テンプレート\n\n```python\nfrom manim import *\n\n# Japanese font setting\n# config.font = \"Hiragino Sans\"  # macOS\n# config.font = \"Noto Sans CJK JP\"  # Linux\n# config.font = \"Yu Gothic\"  # Windows\n\n# Dark mode (recommended)\nconfig.background_color = \"#1a1a2e\"\n\n# Color palette\nPRIMARY = \"#4fc3f7\"\nSECONDARY = \"#81c784\"\nACCENT = \"#ffb74d\"\nHIGHLIGHT = \"#f06292\"\n\n\nclass MyScene(Scene):\n    \"\"\"\n    Basic scene template.\n\n    Render commands:\n    - Preview: uv run manim -ql scene.py MyScene --disable_caching\n    - High quality: uv run manim -qh scene.py MyScene --disable_caching\n    \"\"\"\n\n    def construct(self):\n        title = Text(\"Hello, Manim!\", font_size=48, color=PRIMARY)\n        self.play(Write(title))\n        self.wait(2)\n        self.play(FadeOut(title))\n```\n\n## 完了メッセージ\n\nプロジェクトのセットアップが完了したら、以下を伝える：\n- プロジェクトディレクトリの場所\n- 基本的なレンダリングコマンド\n- 動画作成を開始するには `/manim:create-video` を使用できること\n",
        "plugins/manim-video-creator/skills/manim-video-creator/SKILL.md": "---\nname: manim-video-creator\ndescription: Manim（Mathematical Animation Engine）を使用してアニメーション動画を作成します。このスキルは、(1) 解説動画やビジュアライゼーションの作成、(2) プレゼンテーション動画、(3) ロゴアニメーション、(4) インフォグラフィック、(5) 教育コンテンツ、(6) 3Dアニメーション、(7) アルゴリズムやデータ構造の可視化に使用します。2D/3Dシーン、LaTeX数式、グラフ、TTSナレーション、BGMなどをサポートします。\n---\n\n# Manim 動画クリエイター\n\nManim Community ライブラリを使用して、TTSナレーション・BGM付きのアニメーション動画を作成します。\n\n---\n\n## 動画作成前の必須ヒアリング\n\n**重要**: 動画作成を開始する前に、必ず `AskUserQuestion` ツールを使用して以下の情報をヒアリングしてください。\n\n### ヒアリング項目\n\n```\nAskUserQuestionで以下を確認：\n\n1. 動画の種類\n   - 解説・教育動画（論文解説、チュートリアル等）\n   - プレゼンテーション動画\n   - ロゴアニメーション\n   - インフォグラフィック・データ可視化\n   - アルゴリズム・コード可視化\n   - その他\n\n2. 作成範囲\n   - Manim動画のみ（音声なし）\n   - Manim動画 + 台本\n   - フル版（Manim + TTSナレーション + BGM）\n\n3. ナレーション音声（フル版の場合）\n   - 日本語女性（ja-JP-NanamiNeural）- 推奨\n   - 日本語男性（ja-JP-KeitaNeural）\n   - 英語女性（en-US-JennyNeural）\n   - 英語男性（en-US-GuyNeural）\n\n4. BGMの種類（フル版の場合）\n   - 自動生成（アンビエント）- 著作権フリー\n   - BGMなし\n   - 外部BGMを後から追加\n\n5. プラットフォーム/アスペクト比\n   - YouTube（16:9, 1920x1080）- 推奨\n   - YouTube Shorts/TikTok（9:16, 1080x1920）\n   - Instagram投稿（1:1, 1080x1080）\n   - カスタム\n```\n\n---\n\n## ワークフロー概要\n\n### ステージ1: Manim動画作成\n1. ナレーション台本を先に作成し、各セグメントの長さを測定\n2. タイミングを計算してManimシーンを設計\n3. シーンスクリプトを作成（各セクションの開始・終了時間をコメントで明示）\n4. 低品質でプレビューレンダリング → タイミング確認\n5. 高品質で最終レンダリング\n\n### ステージ2: 音声生成\n1. edge-ttsでナレーション音声を生成\n2. 各セグメントを正確なタイムスタンプで配置\n\n### ステージ3: 音声・動画合成\n1. BGMを生成または準備\n2. ナレーションとBGMを合成（BGM音量: -18dB推奨）\n3. ffmpegで動画と音声を合成\n\n---\n\n## 重要: タイミング同期のベストプラクティス\n\n### ナレーション先行設計\n\n動画とナレーションのずれを防ぐため、**ナレーション台本を先に作成**し、その長さに基づいて動画のタイミングを設計します。\n\n```python\n# ステップ1: ナレーション台本を作成し、各セグメントの長さを測定\nNARRATIONS = [\n    \"最初のナレーション。\",  # 測定結果: 3.5秒\n    \"2番目のナレーション。\",  # 測定結果: 4.2秒\n]\n\n# ステップ2: タイミング構成を設計\n\"\"\"\nタイミング構成:\n- セクション1: 0.0 - 4.0秒（ナレーション1 + 余白）\n- セクション2: 4.0 - 9.0秒（ナレーション2 + 余白）\n\"\"\"\n\n# ステップ3: シーンに反映\nclass MyScene(Scene):\n    \"\"\"\n    タイミング構成（ナレーション同期版）:\n    - セクション1: 0.0 - 4.0秒\n    - セクション2: 4.0 - 9.0秒\n    \"\"\"\n    def construct(self):\n        self.section1()  # 4秒\n        self.section2()  # 5秒\n\n    def section1(self):\n        \"\"\"セクション1: 0.0 - 4.0秒\n        ナレーション (0.5秒開始, 3.5秒): 最初のナレーション。\n        \"\"\"\n        # 0.0-1.5秒: タイトル表示\n        self.play(Write(title), run_time=1.5)\n        # 1.5-4.0秒: 待機（ナレーション終了を待つ）\n        self.wait(2.5)\n        # 累計: 4.0秒\n```\n\n### アニメーション時間の計算式\n\n```python\n# 基本式\n待機時間 = ナレーション終了時間 - 現在の累計アニメーション時間\n\n# 例: ナレーションが8.5秒で終了、現在のアニメーションが6秒まで進んでいる場合\nself.wait(8.5 - 6.0)  # = 2.5秒待機\n```\n\n### シーンのドキュメント形式\n\n各セクションに以下の情報をコメントで明示してください：\n\n```python\ndef show_section(self):\n    \"\"\"セクション名: 開始時間 - 終了時間（所要時間）\n    ナレーション1 (開始秒, 長さ): テキスト...\n    ナレーション2 (開始秒, 長さ): テキスト...\n    \"\"\"\n    # タイムスタンプコメント\n    # 0.0-1.0秒: アニメーション説明\n    self.play(...)\n    # 1.0-3.0秒: 待機\n    self.wait(2)\n    # 累計: 3.0秒\n```\n\n---\n\n## クイックスタート\n\n### プロジェクトセットアップ\n```bash\n# uvでプロジェクトを作成\nuv init --python 3.12 my-animation\ncd my-animation\nuv add manim\n\n# 音声処理用（フル版）\nuv add edge-tts pydub\n\n# システム依存パッケージのインストール\n# macOS\nbrew install pkg-config cairo pango ffmpeg\nbrew install --cask mactex  # LaTeXサポート用\n\n# Linux (Ubuntu/Debian)\n# sudo apt-get install libcairo2-dev libpango1.0-dev ffmpeg texlive-full\n\n# Windows\n# 1. MiKTeX をインストール: https://miktex.org/download\n# 2. FFmpeg をインストール: https://ffmpeg.org/download.html\n# 3. パスを環境変数に追加\n\n# インストール確認\nuv run manim checkhealth\n```\n\n### 基本的なシーン構造\n```python\nfrom manim import *\n\n# 日本語フォント設定\nconfig.font = \"Hiragino Sans\"  # macOS\n# config.font = \"Noto Sans CJK JP\"  # Linux\n# config.font = \"Yu Gothic\"  # Windows\n\n# ダークモード背景（推奨）\nconfig.background_color = \"#1a1a2e\"\n\n# カラーパレット\nPRIMARY = \"#4fc3f7\"\nSECONDARY = \"#81c784\"\nACCENT = \"#ffb74d\"\nHIGHLIGHT = \"#f06292\"\n\nclass MyScene(Scene):\n    def construct(self):\n        title = Text(\"タイトル\", font_size=48, color=PRIMARY)\n        self.play(Write(title))\n        self.wait(2)\n```\n\n### レンダリングコマンド\n```bash\n# 低品質プレビュー（高速）- 開発・タイミング確認用\nuv run manim -ql scene.py MyScene --disable_caching\n\n# 高品質 - 最終出力用\nuv run manim -qh scene.py MyScene --disable_caching\n\n# 4K品質\nuv run manim -qk scene.py MyScene\n```\n\n---\n\n## 動画ジャンル別シーン構成\n\n### 1. 解説・教育動画（論文解説など）\n\n```python\nclass ExplainerScene(Scene):\n    \"\"\"\n    タイミング構成:\n    - タイトル: 0-8秒\n    - セクション1: 8-25秒\n    - セクション2: 25-45秒\n    - まとめ: 45-55秒\n    - エンディング: 55-65秒\n    \"\"\"\n    def construct(self):\n        self.show_title()\n        self.show_section1()\n        self.show_section2()\n        self.show_summary()\n        self.show_ending()\n\n    def show_title(self):\n        \"\"\"タイトル: 0-8秒\n        ナレーション (0.5秒, 7秒): タイトルの説明...\n        \"\"\"\n        title = Text(\"タイトル\", font_size=72, color=PRIMARY, weight=BOLD)\n        subtitle = Text(\"サブタイトル\", font_size=32, color=WHITE)\n        subtitle.next_to(title, DOWN, buff=0.5)\n\n        # 0.0-1.5秒: タイトル\n        self.play(Write(title), run_time=1.5)\n        # 1.5-2.5秒: サブタイトル\n        self.play(FadeIn(subtitle), run_time=1)\n        # 2.5-7.0秒: 待機\n        self.wait(4.5)\n        # 7.0-8.0秒: トランジション\n        self.play(FadeOut(title), FadeOut(subtitle), run_time=1)\n\n    def show_section1(self):\n        \"\"\"セクション1: 8-25秒\"\"\"\n        section_title = Text(\"セクション1\", font_size=42, color=ACCENT)\n        section_title.to_edge(UP, buff=0.5)\n        self.play(Write(section_title), run_time=1)\n        # ... セクションの内容\n        self.play(*[FadeOut(mob) for mob in self.mobjects], run_time=1)\n\n    def show_summary(self):\n        \"\"\"まとめセクション\"\"\"\n        title = Text(\"まとめ\", font_size=42, color=ACCENT)\n        title.to_edge(UP, buff=0.5)\n\n        points = VGroup(\n            Text(\"• ポイント1\", font_size=26),\n            Text(\"• ポイント2\", font_size=26),\n            Text(\"• ポイント3\", font_size=26),\n        ).arrange(DOWN, aligned_edge=LEFT, buff=0.5)\n        points.next_to(title, DOWN, buff=0.8)\n        points.shift(LEFT * 2)\n\n        self.play(Write(title))\n        for point in points:\n            self.play(FadeIn(point, shift=RIGHT * 0.3), run_time=0.8)\n            self.wait(1.5)\n\n    def show_ending(self):\n        \"\"\"エンディング\"\"\"\n        self.play(*[FadeOut(mob) for mob in self.mobjects])\n        thanks = Text(\"ご視聴ありがとうございました\", font_size=32, color=GRAY)\n        self.play(Write(thanks))\n        self.wait(3)\n```\n\n### 2. プレゼンテーション動画\n\n```python\nclass PresentationScene(Scene):\n    \"\"\"スライド形式のプレゼン動画\"\"\"\n    def construct(self):\n        self.slide_title(\"プレゼンタイトル\", \"発表者名\")\n        self.slide_bullets(\"概要\", [\"ポイント1\", \"ポイント2\", \"ポイント3\"])\n        self.slide_diagram()\n\n    def slide_title(self, title, author):\n        t = Text(title, font_size=56, color=PRIMARY)\n        a = Text(author, font_size=28, color=GRAY)\n        a.next_to(t, DOWN, buff=0.5)\n        self.play(Write(t), FadeIn(a))\n        self.wait(2)\n        self.play(FadeOut(t), FadeOut(a))\n\n    def slide_bullets(self, title, bullets):\n        t = Text(title, font_size=42, color=ACCENT).to_edge(UP)\n        items = VGroup(*[\n            Text(f\"• {b}\", font_size=28) for b in bullets\n        ]).arrange(DOWN, aligned_edge=LEFT, buff=0.5)\n        items.next_to(t, DOWN, buff=0.8).shift(LEFT * 2)\n\n        self.play(Write(t))\n        for item in items:\n            self.play(FadeIn(item, shift=RIGHT * 0.5))\n            self.wait(1)\n        self.wait(1)\n        self.play(*[FadeOut(mob) for mob in self.mobjects])\n```\n\n### 3. ロゴアニメーション\n\n```python\nclass LogoAnimation(Scene):\n    def construct(self):\n        circle = Circle(radius=1.5, color=BLUE, fill_opacity=0.8)\n        text = Text(\"LOGO\", font_size=48, color=WHITE)\n\n        self.play(GrowFromCenter(circle), run_time=1)\n        self.play(Write(text), run_time=0.8)\n        self.play(\n            circle.animate.scale(1.1),\n            text.animate.scale(1.1),\n            rate_func=there_and_back,\n            run_time=0.5\n        )\n        self.wait(1)\n```\n\n### 4. フローチャート・サイクル図\n\n```python\nclass CycleFlowScene(Scene):\n    \"\"\"サイクル図（Thought→Action→Observation等）\"\"\"\n    def construct(self):\n        # ボックス作成\n        box1 = RoundedRectangle(width=3, height=1.2, corner_radius=0.15,\n                                fill_color=PRIMARY, fill_opacity=0.3,\n                                stroke_color=PRIMARY, stroke_width=2)\n        box1.shift(UP * 1.5)\n        label1 = Text(\"ステップ1\", font_size=22, color=PRIMARY)\n        label1.move_to(box1.get_center())\n\n        box2 = RoundedRectangle(width=3, height=1.2, corner_radius=0.15,\n                                fill_color=SECONDARY, fill_opacity=0.3,\n                                stroke_color=SECONDARY, stroke_width=2)\n        box2.shift(RIGHT * 3 + DOWN * 0.8)\n        label2 = Text(\"ステップ2\", font_size=22, color=SECONDARY)\n        label2.move_to(box2.get_center())\n\n        box3 = RoundedRectangle(width=3, height=1.2, corner_radius=0.15,\n                                fill_color=ACCENT, fill_opacity=0.3,\n                                stroke_color=ACCENT, stroke_width=2)\n        box3.shift(LEFT * 3 + DOWN * 0.8)\n        label3 = Text(\"ステップ3\", font_size=22, color=ACCENT)\n        label3.move_to(box3.get_center())\n\n        # 矢印\n        arrow1 = Arrow(box1.get_right() + DOWN * 0.2, box2.get_top(), color=WHITE, buff=0.1)\n        arrow2 = Arrow(box2.get_left(), box3.get_right(), color=WHITE, buff=0.1)\n        arrow3 = Arrow(box3.get_top() + RIGHT * 0.3, box1.get_left() + DOWN * 0.2, color=WHITE, buff=0.1)\n\n        # 順番にアニメーション\n        self.play(Create(box1), Write(label1), run_time=1)\n        self.play(Create(arrow1), run_time=0.5)\n        self.play(Create(box2), Write(label2), run_time=1)\n        self.play(Create(arrow2), run_time=0.5)\n        self.play(Create(box3), Write(label3), run_time=1)\n        self.play(Create(arrow3), run_time=0.5)\n        self.wait(2)\n```\n\n---\n\n## TTSナレーション\n\n### 利用可能な音声\n\n| 言語 | 音声ID | 性別 | 特徴 |\n|------|--------|------|------|\n| 日本語 | ja-JP-NanamiNeural | 女性 | 明瞭で聞きやすい（推奨）|\n| 日本語 | ja-JP-KeitaNeural | 男性 | 落ち着いた声 |\n| 英語 | en-US-JennyNeural | 女性 | ナチュラル |\n| 英語 | en-US-GuyNeural | 男性 | プロフェッショナル |\n| 英語 | en-US-AriaNeural | 女性 | エネルギッシュ |\n| 中国語 | zh-CN-XiaoxiaoNeural | 女性 | 標準的 |\n| 韓国語 | ko-KR-SunHiNeural | 女性 | 標準的 |\n\n### ナレーション長さの測定\n\n```python\n# measure_audio.py\nimport asyncio\nimport edge_tts\nfrom pydub import AudioSegment\nimport os\n\nVOICE = \"ja-JP-NanamiNeural\"  # または選択された音声\n\nNARRATIONS = [\n    \"最初のナレーション。\",\n    \"2番目のナレーション。\",\n]\n\nasync def measure_duration(text: str, index: int) -> float:\n    temp_path = f\"temp_{index}.mp3\"\n    communicate = edge_tts.Communicate(text, VOICE, rate=\"+0%\")\n    await communicate.save(temp_path)\n\n    audio = AudioSegment.from_mp3(temp_path)\n    duration = len(audio) / 1000.0\n\n    os.remove(temp_path)\n    return duration\n\nasync def main():\n    print(\"ナレーション音声長さ測定:\")\n    print(\"=\" * 50)\n    total = 0\n    for i, text in enumerate(NARRATIONS):\n        duration = await measure_duration(text, i)\n        total += duration\n        print(f\"{i+1}. [{duration:.2f}秒] {text[:30]}...\")\n    print(\"=\" * 50)\n    print(f\"合計: {total:.2f}秒\")\n\nasyncio.run(main())\n```\n\n### タイムスタンプ付き音声生成\n\n```python\n# generate_audio.py\nimport asyncio\nimport edge_tts\nfrom pydub import AudioSegment\nimport os\n\nVOICE = \"ja-JP-NanamiNeural\"\n\n# (開始秒, テキスト)\nNARRATIONS = [\n    (0.5, \"最初のナレーション。\"),\n    (8.5, \"2番目のナレーション。\"),\n    (16.0, \"3番目のナレーション。\"),\n]\n\nasync def generate_audio_segment(text: str, output_path: str):\n    communicate = edge_tts.Communicate(text, VOICE, rate=\"+0%\")\n    await communicate.save(output_path)\n\nasync def main():\n    audio_dir = \"audio_segments\"\n    os.makedirs(audio_dir, exist_ok=True)\n\n    # 動画の総時間を指定\n    video_duration_ms = 120 * 1000\n    final_audio = AudioSegment.silent(duration=video_duration_ms)\n\n    print(\"ナレーション生成中...\")\n    for i, (start_time, text) in enumerate(NARRATIONS):\n        segment_path = f\"{audio_dir}/segment_{i:02d}.mp3\"\n        print(f\"  {i+1}/{len(NARRATIONS)}: [{start_time:.1f}秒] {text[:30]}...\")\n        await generate_audio_segment(text, segment_path)\n\n        segment = AudioSegment.from_mp3(segment_path)\n        start_ms = int(start_time * 1000)\n        final_audio = final_audio.overlay(segment, position=start_ms)\n\n    final_audio.export(\"narration.mp3\", format=\"mp3\")\n    print(\"完成: narration.mp3\")\n\n    # クリーンアップ\n    for i in range(len(NARRATIONS)):\n        os.remove(f\"{audio_dir}/segment_{i:02d}.mp3\")\n    os.rmdir(audio_dir)\n\nasyncio.run(main())\n```\n\n---\n\n## BGM生成・追加\n\n### 自動生成BGM（著作権フリー）\n\n外部ダウンロード不要で、pydubのみでアンビエントBGMを生成できます。\n\n```python\n# generate_bgm.py\nimport math\nimport struct\nimport wave\nimport os\nfrom pydub import AudioSegment\n\ndef generate_ambient_chord(frequencies, duration_ms, sample_rate=44100, amplitude=0.15):\n    \"\"\"複数の周波数を合成してアンビエントなコードを生成\"\"\"\n    n_samples = int(sample_rate * duration_ms / 1000)\n    samples = []\n\n    for i in range(n_samples):\n        t = i / sample_rate\n        value = 0\n        for freq in frequencies:\n            phase_mod = 0.002 * math.sin(2 * math.pi * 0.1 * t)\n            value += amplitude * math.sin(2 * math.pi * freq * t * (1 + phase_mod))\n        samples.append(value / len(frequencies))\n\n    return samples\n\ndef apply_envelope(samples, attack_ms, decay_ms, sustain_level, release_ms, sample_rate=44100):\n    \"\"\"ADSRエンベロープを適用\"\"\"\n    n_samples = len(samples)\n    attack_samples = int(sample_rate * attack_ms / 1000)\n    decay_samples = int(sample_rate * decay_ms / 1000)\n    release_samples = int(sample_rate * release_ms / 1000)\n\n    result = []\n    for i, sample in enumerate(samples):\n        if i < attack_samples:\n            envelope = i / attack_samples\n        elif i < attack_samples + decay_samples:\n            decay_progress = (i - attack_samples) / decay_samples\n            envelope = 1.0 - (1.0 - sustain_level) * decay_progress\n        elif i > n_samples - release_samples:\n            release_progress = (i - (n_samples - release_samples)) / release_samples\n            envelope = sustain_level * (1.0 - release_progress)\n        else:\n            envelope = sustain_level\n        result.append(sample * envelope)\n\n    return result\n\ndef samples_to_wav(samples, filename, sample_rate=44100):\n    \"\"\"サンプルをWAVファイルに書き出し\"\"\"\n    with wave.open(filename, 'w') as wav_file:\n        wav_file.setnchannels(1)\n        wav_file.setsampwidth(2)\n        wav_file.setframerate(sample_rate)\n\n        for sample in samples:\n            sample = max(-1.0, min(1.0, sample))\n            packed = struct.pack('h', int(sample * 32767))\n            wav_file.writeframes(packed)\n\ndef generate_ambient_bgm(duration_seconds=130, output_path=\"bgm.mp3\"):\n    \"\"\"アンビエントBGMを生成\"\"\"\n    print(\"アンビエントBGMを生成中...\")\n\n    sample_rate = 44100\n    duration_ms = duration_seconds * 1000\n\n    # Cメジャー系コード進行\n    chord_progressions = [\n        [130.81, 164.81, 196.00],  # C E G\n        [146.83, 174.61, 220.00],  # D F A\n        [164.81, 196.00, 246.94],  # E G B\n        [130.81, 164.81, 196.00],  # C E G\n    ]\n\n    chord_duration_ms = 8000\n    all_samples = []\n\n    for i in range(int(duration_ms / chord_duration_ms) + 1):\n        chord = chord_progressions[i % len(chord_progressions)]\n        samples = generate_ambient_chord(chord, chord_duration_ms, sample_rate, amplitude=0.12)\n        samples = apply_envelope(samples, 2000, 1000, 0.7, 2000, sample_rate)\n        all_samples.extend(samples)\n\n    all_samples = all_samples[:int(sample_rate * duration_seconds)]\n\n    # ベースドローン追加\n    print(\"  ベースドローンを追加中...\")\n    drone_freq = 65.41  # C2\n    for i in range(len(all_samples)):\n        t = i / sample_rate\n        drone = 0.08 * math.sin(2 * math.pi * drone_freq * t)\n        drone += 0.04 * math.sin(2 * math.pi * drone_freq * 1.5 * t)\n        all_samples[i] += drone\n\n    # フェードイン・フェードアウト\n    print(\"  フェード処理中...\")\n    fade_in_samples = int(sample_rate * 3)\n    fade_out_samples = int(sample_rate * 5)\n\n    for i in range(fade_in_samples):\n        all_samples[i] *= i / fade_in_samples\n\n    for i in range(fade_out_samples):\n        idx = len(all_samples) - fade_out_samples + i\n        all_samples[idx] *= (fade_out_samples - i) / fade_out_samples\n\n    # WAVに書き出し\n    temp_wav = \"temp_bgm.wav\"\n    samples_to_wav(all_samples, temp_wav, sample_rate)\n\n    # MP3に変換\n    audio = AudioSegment.from_wav(temp_wav)\n    audio.export(output_path, format=\"mp3\", bitrate=\"128k\")\n\n    os.remove(temp_wav)\n    print(f\"BGM生成完了: {output_path}\")\n\nif __name__ == \"__main__\":\n    generate_ambient_bgm(130, \"bgm.mp3\")\n```\n\n### ナレーションとBGMの合成\n\n```python\n# combine_final.py\nfrom pydub import AudioSegment\nimport subprocess\nimport os\n\ndef combine_audio_and_video():\n    \"\"\"ナレーションとBGMを合成し、動画と結合\"\"\"\n    print(\"音声を処理中...\")\n\n    narration = AudioSegment.from_mp3(\"narration.mp3\")\n    bgm = AudioSegment.from_mp3(\"bgm.mp3\")\n\n    # BGMをナレーションの長さに合わせる\n    if len(bgm) < len(narration):\n        while len(bgm) < len(narration):\n            bgm = bgm + bgm\n    bgm = bgm[:len(narration)]\n\n    # BGM音量調整（-18dB推奨）\n    bgm = bgm - 18\n\n    # フェードイン・フェードアウト\n    bgm = bgm.fade_in(3000).fade_out(4000)\n\n    # 合成\n    combined = narration.overlay(bgm)\n    combined.export(\"combined_audio.mp3\", format=\"mp3\", bitrate=\"192k\")\n\n    # 動画と合成\n    subprocess.run([\n        \"ffmpeg\", \"-i\", \"media/videos/scene/1080p60/MyScene.mp4\",\n        \"-i\", \"combined_audio.mp3\",\n        \"-c:v\", \"copy\", \"-c:a\", \"aac\", \"-b:a\", \"192k\",\n        \"-map\", \"0:v:0\", \"-map\", \"1:a:0\",\n        \"-shortest\", \"-y\", \"final_output.mp4\"\n    ])\n\n    os.remove(\"combined_audio.mp3\")\n    print(\"完成: final_output.mp4\")\n\nif __name__ == \"__main__\":\n    combine_audio_and_video()\n```\n\n---\n\n## エンディング動画の結合\n\n### ディレクトリ構成と検索優先順位\n\n> **重要**: エンディング動画は自動検索されます。ユーザーにパスを聞く必要はありません。\n\nエンディング動画は**以下の優先順位**で自動検索されます：\n\n| 優先度 | 場所 | パス |\n|--------|------|------|\n| 1 | プロジェクトディレクトリ | `./endings/{aspect_dir}/ending.mp4` |\n| 2 | プラグインディレクトリ | `${CLAUDE_PLUGIN_ROOT}/endings/{aspect_dir}/ending.mp4` |\n\n※ `{aspect_dir}` は動画のアスペクト比に応じて `16_9`、`9_16`、`1_1` のいずれか\n\n#### 1. プロジェクトディレクトリ（優先）\n\nプロジェクト固有のエンディング動画がある場合：\n\n```\n./                          # 現在のmanimプロジェクトディレクトリ\n└── endings/\n    ├── 16_9/\n    │   └── ending.mp4\n    ├── 9_16/\n    │   └── ending.mp4\n    └── 1_1/\n        └── ending.mp4\n```\n\n#### 2. プラグインディレクトリ（フォールバック）\n\nプロジェクトにエンディング動画がない場合、共通のエンディング動画を使用：\n\n```\n${CLAUDE_PLUGIN_ROOT}/\n└── endings/\n    ├── 16_9/    # YouTube用（1920x1080）\n    │   └── ending.mp4\n    ├── 9_16/    # Shorts/TikTok用（1080x1920）\n    │   └── ending.mp4\n    └── 1_1/     # Instagram用（1080x1080）\n        └── ending.mp4\n```\n\n### CLAUDE_PLUGIN_ROOT 環境変数\n\n`CLAUDE_PLUGIN_ROOT` はClaude Codeによって自動的に設定される環境変数で、プラグインのルートディレクトリを指します。\n\n```bash\n# 環境変数の確認\necho $CLAUDE_PLUGIN_ROOT\n\n# 例: ~/.claude/plugins/marketplaces/manim-video-creator/plugins/manim-video-creator\n```\n\n**注意:**\n- プロジェクト固有のエンディングがある場合は `./endings/` に配置\n- 共通のエンディングは `${CLAUDE_PLUGIN_ROOT}/endings/` に配置\n- どちらにもエンディングがない場合は、エンディングなしで動画を出力\n\n### エンディング動画結合スクリプト\n\n```python\n# concat_ending.py\nimport subprocess\nimport os\nimport sys\n\ndef get_video_dimensions(video_path):\n    \"\"\"動画の幅と高さを取得\"\"\"\n    result = subprocess.run([\n        \"ffprobe\", \"-v\", \"error\",\n        \"-select_streams\", \"v:0\",\n        \"-show_entries\", \"stream=width,height\",\n        \"-of\", \"csv=p=0\",\n        video_path\n    ], capture_output=True, text=True)\n    width, height = map(int, result.stdout.strip().split(','))\n    return width, height\n\ndef get_aspect_ratio_dir(width, height):\n    \"\"\"アスペクト比に基づいてディレクトリ名を返す\"\"\"\n    if width > height:\n        return \"16_9\"\n    elif width < height:\n        return \"9_16\"\n    else:\n        return \"1_1\"\n\ndef find_ending_video(aspect_dir, plugin_root=None):\n    \"\"\"エンディング動画を検索（プロジェクト優先、プラグインフォールバック）\n\n    Args:\n        aspect_dir: アスペクト比ディレクトリ名（16_9, 9_16, 1_1）\n        plugin_root: プラグインのルートディレクトリ\n\n    Returns:\n        エンディング動画のパス、見つからない場合はNone\n    \"\"\"\n    # 1. プロジェクトディレクトリを優先\n    project_ending = os.path.join(\".\", \"endings\", aspect_dir, \"ending.mp4\")\n    if os.path.exists(project_ending):\n        print(f\"プロジェクトのエンディング動画を使用: {project_ending}\")\n        return project_ending\n\n    # 2. プラグインディレクトリをフォールバック\n    if plugin_root is None:\n        plugin_root = os.environ.get(\"CLAUDE_PLUGIN_ROOT\", \".\")\n\n    plugin_ending = os.path.join(plugin_root, \"endings\", aspect_dir, \"ending.mp4\")\n    if os.path.exists(plugin_ending):\n        print(f\"プラグインのエンディング動画を使用: {plugin_ending}\")\n        return plugin_ending\n\n    # どちらにも見つからない\n    print(f\"警告: エンディング動画が見つかりませんでした\")\n    print(f\"  - プロジェクト: {project_ending}\")\n    print(f\"  - プラグイン: {plugin_ending}\")\n    return None\n\ndef concat_with_ending(main_video, plugin_root=None):\n    \"\"\"メイン動画とエンディング動画を結合\n\n    Args:\n        main_video: メイン動画のパス\n        plugin_root: プラグインのルートディレクトリ（指定しない場合は環境変数から取得）\n    \"\"\"\n    width, height = get_video_dimensions(main_video)\n    aspect_dir = get_aspect_ratio_dir(width, height)\n\n    # エンディング動画を検索（プロジェクト優先）\n    ending_path = find_ending_video(aspect_dir, plugin_root)\n\n    if ending_path is None:\n        print(\"エンディング動画なしで続行します\")\n        return main_video\n\n    # 結合リストを作成\n    with open(\"concat_list.txt\", \"w\") as f:\n        f.write(f\"file '{os.path.abspath(main_video)}'\\n\")\n        f.write(f\"file '{os.path.abspath(ending_path)}'\\n\")\n\n    output_path = main_video.replace(\".mp4\", \"_with_ending.mp4\")\n\n    # 動画を結合（同じコーデックの場合は高速）\n    subprocess.run([\n        \"ffmpeg\", \"-f\", \"concat\", \"-safe\", \"0\",\n        \"-i\", \"concat_list.txt\",\n        \"-c\", \"copy\", \"-y\", output_path\n    ])\n\n    os.remove(\"concat_list.txt\")\n    print(f\"完成: {output_path}\")\n    return output_path\n\nif __name__ == \"__main__\":\n    main_video = sys.argv[1] if len(sys.argv) > 1 else \"final_output.mp4\"\n    concat_with_ending(main_video)\n```\n\n### 注意事項\n\n- メイン動画とエンディング動画のコーデック・解像度・フレームレートを一致させる\n- 不一致の場合は再エンコードが必要：\n\n```bash\nffmpeg -f concat -safe 0 -i concat_list.txt \\\n  -c:v libx264 -preset medium -crf 18 \\\n  -c:a aac -b:a 192k \\\n  -y final_with_ending.mp4\n```\n\n---\n\n## デザインガイドライン\n\n### 推奨カラーパレット\n\n```python\n# ダークモード（推奨）\nconfig.background_color = \"#1a1a2e\"\nPRIMARY = \"#4fc3f7\"      # ライトブルー\nSECONDARY = \"#81c784\"    # グリーン\nACCENT = \"#ffb74d\"       # オレンジ\nHIGHLIGHT = \"#f06292\"    # ピンク\nTEXT_COLOR = WHITE\n\n# ライトモード\nconfig.background_color = WHITE\nPRIMARY = \"#2563eb\"\nSECONDARY = \"#16a34a\"\nACCENT = \"#f59e0b\"\nHIGHLIGHT = \"#ec4899\"\nTEXT_COLOR = \"#1f2937\"\n```\n\n### フォント設定\n\n```python\n# 日本語フォント（OS別）\nconfig.font = \"Hiragino Sans\"     # macOS\n# config.font = \"Noto Sans CJK JP\"  # Linux\n# config.font = \"Yu Gothic\"         # Windows\n\n# 推奨フォントサイズ\n# メインタイトル: 48-72\n# セクションタイトル: 36-42\n# 本文: 22-28\n# キャプション: 18-22\n```\n\n---\n\n## プラットフォーム別設定\n\n| プラットフォーム | 解像度 | アスペクト比 | 最大長さ |\n|------------------|--------|--------------|----------|\n| YouTube | 1920x1080 | 16:9 | 制限なし |\n| YouTube Shorts | 1080x1920 | 9:16 | 60秒 |\n| TikTok | 1080x1920 | 9:16 | 10分 |\n| Instagram Reels | 1080x1920 | 9:16 | 90秒 |\n| Instagram 投稿 | 1080x1080 | 1:1 | 60秒 |\n| Twitter/X | 1920x1080 | 16:9 | 2分20秒 |\n\n---\n\n## 動画作成後の注意事項\n\n### 著作権に関する重要事項\n\n動画作成完了後、以下の注意事項をユーザーに必ず伝えてください：\n\n```\n【動画利用に関する重要な注意事項】\n\n1. BGMについて\n   - 「自動生成BGM」を使用した場合：\n     → このBGMは著作権フリーです。商用・非商用問わず自由に利用できます。\n\n   - 外部BGMを使用する場合：\n     → 必ず利用規約を確認してください\n     → フリーBGMサイトでも「クレジット表記必須」「商用利用不可」などの\n       条件がある場合があります\n     → 推奨フリーBGMサイト:\n       - DOVA-SYNDROME (https://dova-s.jp/)\n       - 甘茶の音楽工房 (https://amachamusic.chagasi.com/)\n       - YouTube Audio Library\n\n2. TTSナレーションについて\n   - edge-ttsで生成した音声は、Microsoftの利用規約に従います\n   - 商用利用の場合は、Azure Speech Servicesの有料プランを検討してください\n\n3. コンテンツについて\n   - 論文解説などの場合、引用元を明記してください\n   - 他者の著作物を使用する場合は、著作権法に従ってください\n\n4. 推奨クレジット表記例\n   「アニメーション: Manim Community\n    BGM: [BGMのソース]\n    ナレーション: Microsoft Edge TTS」\n```\n\n---\n\n## テンプレート\n\n- **シーンテンプレート**: [scene_template.py](templates/scene_template.py)\n- **音声測定**: [measure_audio.py](templates/measure_audio.py)\n- **音声生成**: [generate_audio.py](templates/generate_audio.py)\n\n## リファレンス\n\n- **アニメーション**: [animations.md](references/animations.md)\n- **Mobjects**: [mobjects.md](references/mobjects.md)\n- **テキスト & 数式**: [text-and-math.md](references/text-and-math.md)\n- **3Dシーン**: [3d-scenes.md](references/3d-scenes.md)\n- **グラフ**: [graphing.md](references/graphing.md)\n\n## トラブルシューティング\n\n### 音声と動画がずれる\n1. ナレーション台本を先に作成し、各セグメントの長さを測定\n2. 測定結果に基づいて動画のタイミングを設計\n3. 各セクションの累計時間をコメントで追跡\n4. wait()の時間を調整して同期\n\n### テキストが画面端で切れる\n- font_sizeを小さくする（日本語は48以下推奨）\n- buff値を調整してマージンを確保\n- shift()で位置を調整\n\n### レンダリングが遅い\n- 開発中は `-ql` オプション（低品質）を使用\n- 最終出力のみ `-qh` を使用\n- `--disable_caching` でキャッシュ問題を回避\n",
        "plugins/manim-video-creator/skills/manim-video-creator/references/3d-scenes.md": "# Manim 3D Scenes Reference\n\n## Table of Contents\n1. [ThreeDScene Basics](#threedscene-basics)\n2. [Camera Control](#camera-control)\n3. [3D Objects](#3d-objects)\n4. [3D Axes and Graphs](#3d-axes-and-graphs)\n5. [Fixed Frame Mobjects](#fixed-frame-mobjects)\n6. [Lighting](#lighting)\n\n---\n\n## ThreeDScene Basics\n\nUse `ThreeDScene` instead of `Scene` for 3D content.\n\n```python\nfrom manim import *\n\nclass My3DScene(ThreeDScene):\n    def construct(self):\n        axes = ThreeDAxes()\n        sphere = Sphere(radius=1)\n        self.add(axes, sphere)\n        self.wait()\n```\n\n### Default Camera Position\n```python\n# Default orientation: phi=0, theta=-PI/2\n# Looking straight at the xy-plane\n```\n\n---\n\n## Camera Control\n\n### Set Camera Orientation\n```python\nself.set_camera_orientation(\n    phi=75 * DEGREES,    # Angle from z-axis (vertical tilt)\n    theta=-45 * DEGREES,  # Angle around z-axis (horizontal rotation)\n    gamma=0,              # Roll angle\n    zoom=1                # Zoom level\n)\n```\n\n### Animate Camera Movement\n```python\nself.move_camera(\n    phi=60 * DEGREES,\n    theta=30 * DEGREES,\n    run_time=3\n)\n```\n\n### Ambient Camera Rotation\n```python\n# Start continuous rotation\nself.begin_ambient_camera_rotation(rate=0.1)\n\n# ... do animations ...\n\n# Stop rotation\nself.stop_ambient_camera_rotation()\n```\n\n### 3D Illusion Rotation\n```python\nself.begin_3dillusion_camera_rotation(rate=0.1)\n# ...\nself.stop_3dillusion_camera_rotation()\n```\n\n### Default Angled View\n```python\nself.set_to_default_angled_camera_orientation()\n```\n\n---\n\n## 3D Objects\n\n### Sphere\n```python\nsphere = Sphere(radius=1)\nsphere = Sphere(\n    radius=2,\n    resolution=(32, 32),  # (u_res, v_res)\n    fill_opacity=0.8\n)\n```\n\n### Cube\n```python\ncube = Cube(side_length=2)\ncube = Cube(\n    side_length=1,\n    fill_color=BLUE,\n    fill_opacity=0.7,\n    stroke_width=2\n)\n```\n\n### Prism\n```python\nprism = Prism(dimensions=[2, 1, 3])  # width, height, depth\n```\n\n### Cylinder\n```python\ncylinder = Cylinder(\n    radius=1,\n    height=2,\n    direction=UP,\n    resolution=(24, 1)\n)\n```\n\n### Cone\n```python\ncone = Cone(\n    base_radius=1,\n    height=2,\n    direction=UP\n)\n```\n\n### Torus\n```python\ntorus = Torus(\n    major_radius=2,\n    minor_radius=0.5\n)\n```\n\n### Line3D / Arrow3D / Dot3D\n```python\nline = Line3D(start=ORIGIN, end=[2, 2, 2])\narrow = Arrow3D(start=ORIGIN, end=[1, 1, 1])\ndot = Dot3D(point=[1, 1, 1], radius=0.1)\n```\n\n### Surface (Parametric)\n```python\nsurface = Surface(\n    lambda u, v: np.array([\n        u,\n        v,\n        np.sin(u) * np.cos(v)\n    ]),\n    u_range=[-PI, PI],\n    v_range=[-PI, PI],\n    resolution=(32, 32)\n)\nsurface.set_fill_by_checkerboard(BLUE, GREEN)\n```\n\n### Polyhedra\n```python\ntetra = Tetrahedron()\nocta = Octahedron()\ndodeca = Dodecahedron()\nicosa = Icosahedron()\n\n# Custom polyhedron\npoly = Polyhedron(\n    vertex_coords=[...],\n    faces_list=[...]\n)\n```\n\n---\n\n## 3D Axes and Graphs\n\n### ThreeDAxes\n```python\naxes = ThreeDAxes(\n    x_range=[-6, 6, 1],\n    y_range=[-6, 6, 1],\n    z_range=[-4, 4, 1],\n    x_length=12,\n    y_length=12,\n    z_length=8\n)\n```\n\n### Plot 3D Function\n```python\naxes = ThreeDAxes()\n\n# Parametric curve\ncurve = ParametricFunction(\n    lambda t: np.array([\n        np.cos(t),\n        np.sin(t),\n        t / 4\n    ]),\n    t_range=[0, 4 * PI]\n)\n\n# Surface\nsurface = axes.plot_surface(\n    lambda u, v: u * np.sin(v),\n    u_range=[-1, 1],\n    v_range=[0, 2 * PI]\n)\n```\n\n### Surface with Color Gradient\n```python\nsurface = Surface(\n    lambda u, v: np.array([u, v, np.sin(u + v)]),\n    u_range=[-2, 2],\n    v_range=[-2, 2]\n)\nsurface.set_fill_by_value(\n    axes=axes,\n    colors=[(RED, -1), (YELLOW, 0), (GREEN, 1)]\n)\n```\n\n---\n\n## Fixed Frame Mobjects\n\nKeep certain objects fixed (e.g., labels) while camera moves.\n\n### Fixed in Frame\n```python\n# Object won't move with camera\nlabel = Text(\"Fixed Label\").to_corner(UL)\nself.add_fixed_in_frame_mobjects(label)\nself.add(label)\n\n# Remove from fixed\nself.remove_fixed_in_frame_mobjects(label)\n```\n\n### Fixed Orientation\n```python\n# Object faces camera but can move in 3D\nlabel = Text(\"Always Facing\")\nself.add_fixed_orientation_mobjects(label)\n\n# Remove\nself.remove_fixed_orientation_mobjects(label)\n```\n\n---\n\n## Lighting\n\n### Basic Light Setup\n```python\n# ThreeDScene has default lighting\n# Ambient light illuminates all surfaces equally\n# Point lights create directional shadows\n```\n\n### Adjust Light Position\n```python\nclass CustomLighting(ThreeDScene):\n    def construct(self):\n        self.camera.light_source.move_to([3, 3, 3])\n\n        sphere = Sphere()\n        self.add(sphere)\n```\n\n### Shading\n```python\n# Surfaces automatically get shading based on light position\n# Adjust surface properties for different effects\nsurface.set_fill(color=BLUE, opacity=0.8)\nsurface.set_stroke(color=WHITE, width=0.5)\n```\n\n---\n\n## Example: Complete 3D Scene\n\n```python\nclass Example3D(ThreeDScene):\n    def construct(self):\n        # Setup\n        axes = ThreeDAxes()\n\n        # Camera position\n        self.set_camera_orientation(phi=75 * DEGREES, theta=-45 * DEGREES)\n\n        # Create surface\n        surface = Surface(\n            lambda u, v: np.array([u, v, np.sin(u) * np.cos(v)]),\n            u_range=[-PI, PI],\n            v_range=[-PI, PI],\n            resolution=(30, 30)\n        )\n        surface.set_fill_by_checkerboard(BLUE_D, BLUE_E, opacity=0.8)\n\n        # Fixed label\n        title = Text(\"3D Surface\").to_corner(UL)\n        self.add_fixed_in_frame_mobjects(title)\n\n        # Animate\n        self.add(axes)\n        self.play(Create(surface), Write(title))\n\n        # Rotate camera\n        self.begin_ambient_camera_rotation(rate=0.2)\n        self.wait(5)\n        self.stop_ambient_camera_rotation()\n```\n\n---\n\n## SpecialThreeDScene\n\nExtended 3D scene with additional features.\n\n```python\nclass MySpecialScene(SpecialThreeDScene):\n    def construct(self):\n        # Has additional helper methods\n        # for common 3D operations\n        pass\n```\n",
        "plugins/manim-video-creator/skills/manim-video-creator/references/animations.md": "# Manim Animations Reference\n\n## Table of Contents\n1. [Creation Animations](#creation-animations)\n2. [Fading Animations](#fading-animations)\n3. [Transform Animations](#transform-animations)\n4. [Movement Animations](#movement-animations)\n5. [Indication Animations](#indication-animations)\n6. [Animation Composition](#animation-composition)\n7. [Updaters](#updaters)\n\n---\n\n## Creation Animations\n\n### Create\nIncrementally show a VMobject by drawing it.\n```python\nself.play(Create(circle))\nself.play(Create(square, run_time=2))\n```\n\n### Write\nSimulate handwriting effect for text/equations.\n```python\nself.play(Write(text))\nself.play(Write(equation, run_time=3))\n```\n\n### Uncreate / Unwrite\nReverse of Create/Write.\n```python\nself.play(Uncreate(circle))\nself.play(Unwrite(text))\n```\n\n### DrawBorderThenFill\nDraw border first, then fill.\n```python\nself.play(DrawBorderThenFill(square))\n```\n\n### AddTextLetterByLetter / AddTextWordByWord\nTypewriter-style text animation.\n```python\nself.play(AddTextLetterByLetter(text))\nself.play(AddTextWordByWord(paragraph))\n```\n\n### TypeWithCursor / UntypeWithCursor\nType with visible cursor.\n```python\nself.play(TypeWithCursor(text, cursor=\"|\"))\n```\n\n### SpiralIn\nObjects spiral in from edges.\n```python\nself.play(SpiralIn(mobject))\n```\n\n### ShowIncreasingSubsets / ShowSubmobjectsOneByOne\nReveal submobjects progressively.\n```python\nself.play(ShowIncreasingSubsets(vgroup))\nself.play(ShowSubmobjectsOneByOne(vgroup))\n```\n\n---\n\n## Fading Animations\n\n### FadeIn\n```python\nself.play(FadeIn(mobject))\nself.play(FadeIn(mobject, shift=UP))      # Fade in from below\nself.play(FadeIn(mobject, shift=DOWN))    # Fade in from above\nself.play(FadeIn(mobject, scale=0.5))     # Grow while fading in\nself.play(FadeIn(mobject, target_position=dot))  # Fade from position\n```\n\n### FadeOut\n```python\nself.play(FadeOut(mobject))\nself.play(FadeOut(mobject, shift=UP))     # Fade out upward\nself.play(FadeOut(mobject, scale=0.5))    # Shrink while fading\n```\n\n---\n\n## Transform Animations\n\n### Transform\nTransform mobject into target (modifies original).\n```python\nself.play(Transform(circle, square))\n# circle now looks like square, but is still the same object\n```\n\n### ReplacementTransform\nTransform and replace in scene.\n```python\nself.play(ReplacementTransform(circle, square))\n# circle is removed, square is added\n```\n\n### TransformFromCopy\nTransform a copy, keeping original.\n```python\nself.play(TransformFromCopy(original, target))\n```\n\n### FadeTransform / FadeTransformPieces\nSmooth fade between objects.\n```python\nself.play(FadeTransform(old_text, new_text))\n```\n\n### TransformMatchingShapes / TransformMatchingTex\nMatch similar parts between transforms.\n```python\nself.play(TransformMatchingTex(eq1, eq2))\nself.play(TransformMatchingShapes(shape1, shape2))\n```\n\n### MoveToTarget\nUse with `mobject.generate_target()`.\n```python\nmobject.generate_target()\nmobject.target.shift(RIGHT * 2).scale(1.5)\nself.play(MoveToTarget(mobject))\n```\n\n### ApplyMethod (deprecated, use .animate)\n```python\n# Old way:\nself.play(ApplyMethod(circle.shift, UP))\n# New way:\nself.play(circle.animate.shift(UP))\n```\n\n### ApplyFunction\nApply arbitrary function to mobject.\n```python\nself.play(ApplyFunction(lambda m: m.scale(2).rotate(PI/4), mobject))\n```\n\n### ApplyMatrix\nApply transformation matrix.\n```python\nmatrix = [[1, 1], [0, 1]]  # Shear matrix\nself.play(ApplyMatrix(matrix, square))\n```\n\n### ApplyComplexFunction\nApply complex function to points.\n```python\nself.play(ApplyComplexFunction(lambda z: z**2, plane))\n```\n\n### ClockwiseTransform / CounterclockwiseTransform\nTransform with rotation direction.\n```python\nself.play(ClockwiseTransform(a, b))\n```\n\n### CyclicReplace / Swap\nCycle or swap positions.\n```python\nself.play(CyclicReplace(a, b, c))  # a->b, b->c, c->a\nself.play(Swap(a, b))\n```\n\n### ScaleInPlace / ShrinkToCenter\n```python\nself.play(ScaleInPlace(mobject, 2))\nself.play(ShrinkToCenter(mobject))\n```\n\n### Restore\nRestore to saved state.\n```python\nmobject.save_state()\n# ... modify mobject ...\nself.play(Restore(mobject))\n```\n\n---\n\n## Movement Animations\n\n### Rotate / Rotating\n```python\nself.play(Rotate(square, PI/2))\nself.play(Rotate(square, PI, about_point=ORIGIN))\nself.play(Rotating(square, radians=2*PI, run_time=3))\n```\n\n### MoveAlongPath\nMove object along a path.\n```python\npath = Line(LEFT, RIGHT)\nself.play(MoveAlongPath(dot, path))\n```\n\n### Homotopy / ComplexHomotopy\nContinuous deformation.\n```python\ndef homotopy(x, y, z, t):\n    return [x + t, y + t*np.sin(x), z]\nself.play(Homotopy(homotopy, mobject))\n```\n\n### PhaseFlow\nFlow along vector field.\n```python\nself.play(PhaseFlow(lambda p: np.array([p[1], -p[0], 0]), mobject))\n```\n\n---\n\n## Indication Animations\n\n### Indicate\nBriefly highlight an object.\n```python\nself.play(Indicate(equation))\nself.play(Indicate(word, color=YELLOW))\n```\n\n### Circumscribe\nDraw shape around object.\n```python\nself.play(Circumscribe(equation))\nself.play(Circumscribe(text, Circle))  # Use circle instead of rectangle\n```\n\n### Flash\nFlash effect at position.\n```python\nself.play(Flash(dot))\nself.play(Flash(point, color=RED, line_length=0.5))\n```\n\n### FocusOn\nZoom focus effect.\n```python\nself.play(FocusOn(mobject))\n```\n\n### ShowPassingFlash\nFlash travels along path.\n```python\nself.play(ShowPassingFlash(line))\n```\n\n### ApplyWave\nWave effect through mobject.\n```python\nself.play(ApplyWave(text))\n```\n\n### Wiggle\nWiggle back and forth.\n```python\nself.play(Wiggle(mobject))\n```\n\n### Blink\nBlink effect.\n```python\nself.play(Blink(dot))\n```\n\n---\n\n## Animation Composition\n\n### AnimationGroup\nPlay animations together with timing control.\n```python\nself.play(AnimationGroup(\n    Create(circle),\n    Create(square),\n    lag_ratio=0.5  # Start second at 50% of first\n))\n```\n\n### LaggedStart\nStaggered animation starts.\n```python\nself.play(LaggedStart(*[\n    FadeIn(obj) for obj in objects\n], lag_ratio=0.2))\n```\n\n### LaggedStartMap\nApply animation to each element with lag.\n```python\nself.play(LaggedStartMap(FadeIn, vgroup, lag_ratio=0.1))\n```\n\n### Succession\nPlay one after another.\n```python\nself.play(Succession(\n    Create(circle),\n    Transform(circle, square),\n    FadeOut(circle)\n))\n```\n\n---\n\n## Updaters\n\n### add_updater\nContinuously update mobject.\n```python\n# Position updater\nline.add_updater(lambda m: m.move_to(dot.get_center()))\n\n# Time-based updater\nmobject.add_updater(lambda m, dt: m.rotate(dt))\n```\n\n### UpdateFromFunc / UpdateFromAlphaFunc\nAnimation-based updates.\n```python\nself.play(UpdateFromFunc(\n    mobject,\n    lambda m: m.set_color(random_color())\n))\n\nself.play(UpdateFromAlphaFunc(\n    mobject,\n    lambda m, alpha: m.set_opacity(alpha)\n))\n```\n\n### ValueTracker\nTrack and animate values.\n```python\ntracker = ValueTracker(0)\nnumber.add_updater(lambda m: m.set_value(tracker.get_value()))\nself.play(tracker.animate.set_value(10))\n```\n\n### always_redraw\nRecreate mobject each frame.\n```python\nline = always_redraw(lambda: Line(dot1.get_center(), dot2.get_center()))\n```\n\n---\n\n## Common Parameters\n\nAll animations support:\n- `run_time` (float): Duration in seconds (default: 1)\n- `rate_func`: Timing function (linear, smooth, there_and_back, etc.)\n- `lag_ratio` (float): Delay between sub-animations\n\n### Rate Functions\n```python\nfrom manim import *\n# Built-in rate functions:\nsmooth           # Smooth acceleration/deceleration\nlinear           # Constant speed\nrush_into        # Fast start\nrush_from        # Fast end\nthere_and_back   # Go and return\nwiggle           # Oscillate\ndouble_smooth    # Extra smooth\n```\n",
        "plugins/manim-video-creator/skills/manim-video-creator/references/graphing.md": "# Manim Graphing Reference\n\n## Table of Contents\n1. [Axes](#axes)\n2. [Number Line](#number-line)\n3. [Plotting Functions](#plotting-functions)\n4. [Areas and Regions](#areas-and-regions)\n5. [Coordinate Systems](#coordinate-systems)\n6. [Charts and Graphs](#charts-and-graphs)\n7. [Vector Fields](#vector-fields)\n\n---\n\n## Axes\n\n### Basic Axes\n```python\naxes = Axes(\n    x_range=[-3, 3, 1],     # [min, max, step]\n    y_range=[-2, 2, 0.5],\n    x_length=10,\n    y_length=6,\n    axis_config={\"include_numbers\": True}\n)\n```\n\n### Axis Configuration\n```python\naxes = Axes(\n    x_range=[0, 10, 2],\n    y_range=[0, 100, 20],\n    x_axis_config={\n        \"numbers_to_include\": [2, 4, 6, 8, 10],\n        \"include_tip\": True\n    },\n    y_axis_config={\n        \"include_numbers\": True\n    },\n    tips=True  # Arrow tips on axes\n)\n```\n\n### Axis Labels\n```python\naxes = Axes(x_range=[-3, 3], y_range=[-2, 2])\nlabels = axes.get_axis_labels(x_label=\"x\", y_label=\"f(x)\")\n# or\nlabels = axes.get_axis_labels(\n    x_label=MathTex(\"t\"),\n    y_label=MathTex(\"v(t)\")\n)\n```\n\n### Coordinate Conversion\n```python\n# Point on axes -> scene coordinates\npoint = axes.coords_to_point(2, 3)\n# Shorthand:\npoint = axes @ (2, 3)\n\n# Scene coordinates -> axes point\ncoords = axes.point_to_coords([1, 0, 0])\n```\n\n---\n\n## Number Line\n\n### Basic Number Line\n```python\nnumber_line = NumberLine(\n    x_range=[-10, 10, 2],\n    length=10,\n    include_numbers=True\n)\n```\n\n### Custom Number Line\n```python\nnumber_line = NumberLine(\n    x_range=[0, 5, 0.5],\n    length=12,\n    include_numbers=True,\n    numbers_to_include=[0, 1, 2, 3, 4, 5],\n    decimal_number_config={\"num_decimal_places\": 1},\n    include_tip=True\n)\n```\n\n### Point on Number Line\n```python\ndot = Dot(number_line.n2p(3))  # Number to point\n```\n\n---\n\n## Plotting Functions\n\n### Basic Plot\n```python\naxes = Axes(x_range=[-3, 3], y_range=[-1, 1])\ngraph = axes.plot(lambda x: np.sin(x), color=BLUE)\n```\n\n### Plot with Range\n```python\ngraph = axes.plot(\n    lambda x: x**2,\n    x_range=[-2, 2],\n    color=GREEN\n)\n```\n\n### Parametric Plot\n```python\ncurve = axes.plot_parametric_curve(\n    lambda t: np.array([np.cos(t), np.sin(t), 0]),\n    t_range=[0, 2 * PI],\n    color=YELLOW\n)\n```\n\n### Implicit Function\n```python\nimplicit = axes.plot_implicit_curve(\n    lambda x, y: x**2 + y**2 - 1,  # Circle: x^2 + y^2 = 1\n    color=RED\n)\n```\n\n### FunctionGraph (Standalone)\n```python\ngraph = FunctionGraph(\n    lambda x: np.sin(x),\n    x_range=[-PI, PI],\n    color=BLUE\n)\n```\n\n### ParametricFunction (Standalone)\n```python\ncurve = ParametricFunction(\n    lambda t: np.array([np.cos(t), np.sin(t), 0]),\n    t_range=[0, 2 * PI]\n)\n```\n\n---\n\n## Areas and Regions\n\n### Area Under Curve\n```python\naxes = Axes(x_range=[-1, 5], y_range=[-1, 5])\ngraph = axes.plot(lambda x: x**2 / 4)\n\narea = axes.get_area(\n    graph,\n    x_range=[0, 4],\n    color=BLUE,\n    opacity=0.5\n)\n```\n\n### Riemann Rectangles\n```python\nrects = axes.get_riemann_rectangles(\n    graph,\n    x_range=[0, 4],\n    dx=0.5,\n    stroke_width=0.5,\n    stroke_color=WHITE,\n    fill_opacity=0.7\n)\n```\n\n### Area Between Curves\n```python\ngraph1 = axes.plot(lambda x: x**2)\ngraph2 = axes.plot(lambda x: x)\n\narea = axes.get_area(\n    graph1,\n    x_range=[0, 1],\n    bounded_graph=graph2,\n    color=YELLOW,\n    opacity=0.5\n)\n```\n\n### Vertical/Horizontal Lines\n```python\nv_line = axes.get_vertical_line(axes.i2gp(2, graph))\nh_line = axes.get_horizontal_line(axes.i2gp(2, graph))\n\n# Or\nv_line = axes.get_v_line(point)\nh_line = axes.get_h_line(point)\n```\n\n---\n\n## Coordinate Systems\n\n### NumberPlane\n```python\nplane = NumberPlane(\n    x_range=[-7, 7, 1],\n    y_range=[-4, 4, 1],\n    background_line_style={\n        \"stroke_color\": BLUE_D,\n        \"stroke_width\": 2,\n        \"stroke_opacity\": 0.5\n    }\n)\n```\n\n### ComplexPlane\n```python\ncomplex_plane = ComplexPlane(\n    x_range=[-3, 3],\n    y_range=[-3, 3]\n)\n\n# Plot complex numbers\ndot = Dot(complex_plane.n2p(1 + 2j))\n```\n\n### PolarPlane\n```python\npolar = PolarPlane(\n    radius_max=3,\n    size=6\n)\n\n# Polar coordinates\npolar.polar_to_point(r=2, theta=PI/4)\n```\n\n---\n\n## Charts and Graphs\n\n### Bar Chart\n```python\nchart = BarChart(\n    values=[3, 5, 2, 4, 6],\n    bar_names=[\"A\", \"B\", \"C\", \"D\", \"E\"],\n    y_range=[0, 8, 2],\n    y_length=4,\n    x_length=6,\n    bar_colors=[RED, BLUE, GREEN, YELLOW, PURPLE]\n)\n```\n\n### Animated Bar Chart\n```python\nchart = BarChart(values=[1, 2, 3, 4])\nself.play(Create(chart))\n\n# Change values\nself.play(chart.animate.change_bar_values([4, 3, 2, 1]))\n```\n\n### Line Graph\n```python\naxes = Axes(x_range=[0, 5], y_range=[0, 10])\nline_graph = axes.plot_line_graph(\n    x_values=[0, 1, 2, 3, 4, 5],\n    y_values=[1, 3, 2, 5, 4, 6],\n    line_color=GOLD,\n    vertex_dot_radius=0.05,\n    stroke_width=4\n)\n```\n\n---\n\n## Vector Fields\n\n### ArrowVectorField\n```python\nfield = ArrowVectorField(\n    lambda pos: np.array([pos[1], -pos[0], 0]),  # Circular field\n    x_range=[-3, 3],\n    y_range=[-3, 3]\n)\n```\n\n### StreamLines\n```python\nstream = StreamLines(\n    lambda pos: np.array([pos[1], -pos[0], 0]),\n    x_range=[-3, 3, 0.3],\n    y_range=[-3, 3, 0.3],\n    stroke_width=3,\n    max_anchors_per_line=30\n)\nself.play(stream.create())\n```\n\n### Animated Stream Lines\n```python\nstream = StreamLines(func, stroke_width=3)\nself.add(stream)\nstream.start_animation(warm_up=True, flow_speed=1.5)\nself.wait(3)\n```\n\n---\n\n## Graphs (Network/Tree)\n\n### Graph\n```python\ngraph = Graph(\n    vertices=[1, 2, 3, 4, 5],\n    edges=[(1, 2), (2, 3), (3, 4), (4, 5), (5, 1), (1, 3)],\n    layout=\"circular\"\n)\n\n# Layout options: \"circular\", \"kamada_kawai\", \"planar\",\n# \"random\", \"shell\", \"spectral\", \"spring\", \"tree\"\n```\n\n### DiGraph (Directed)\n```python\ndigraph = DiGraph(\n    vertices=[1, 2, 3],\n    edges=[(1, 2), (2, 3), (3, 1)],\n    layout=\"circular\",\n    edge_type=Arrow\n)\n```\n\n### Custom Layout\n```python\ngraph = Graph(\n    vertices=[1, 2, 3],\n    edges=[(1, 2), (2, 3)],\n    layout={1: LEFT, 2: ORIGIN, 3: RIGHT}\n)\n```\n\n---\n\n## Table\n\n### Basic Table\n```python\ntable = Table(\n    [[\"A\", \"B\", \"C\"],\n     [\"1\", \"2\", \"3\"],\n     [\"X\", \"Y\", \"Z\"]],\n    include_outer_lines=True\n)\n```\n\n### MathTable\n```python\ntable = MathTable(\n    [[r\"x\", r\"x^2\", r\"x^3\"],\n     [r\"1\", r\"1\", r\"1\"],\n     [r\"2\", r\"4\", r\"8\"]],\n    include_outer_lines=True\n)\n```\n\n### Styled Table\n```python\ntable = Table(\n    [[\"A\", \"B\"], [\"C\", \"D\"]],\n    row_labels=[Text(\"R1\"), Text(\"R2\")],\n    col_labels=[Text(\"C1\"), Text(\"C2\")],\n    top_left_entry=Text(\"X\")\n)\ntable.add_highlighted_cell((1, 1), color=GREEN)\n```\n\n---\n\n## Matrix\n\n### Matrix Display\n```python\nmatrix = Matrix(\n    [[1, 2, 3],\n     [4, 5, 6],\n     [7, 8, 9]]\n)\n\n# Integer matrix\nint_matrix = IntegerMatrix([[1, 0], [0, 1]])\n\n# Decimal matrix\ndec_matrix = DecimalMatrix([[1.5, 2.7], [3.14, 4.0]])\n```\n\n### Matrix Operations\n```python\nmatrix = Matrix([[1, 2], [3, 4]])\nbrackets = matrix.get_brackets()\nentries = matrix.get_entries()\nentry = matrix.get_entries()[0]  # First entry\n```\n",
        "plugins/manim-video-creator/skills/manim-video-creator/references/mobjects.md": "# Manim Mobjects Reference\n\n## Table of Contents\n1. [Basic Shapes](#basic-shapes)\n2. [Lines and Arrows](#lines-and-arrows)\n3. [Polygons](#polygons)\n4. [Arcs and Circles](#arcs-and-circles)\n5. [3D Objects](#3d-objects)\n6. [Grouping](#grouping)\n7. [Positioning Methods](#positioning-methods)\n8. [Styling Methods](#styling-methods)\n\n---\n\n## Basic Shapes\n\n### Dot\n```python\ndot = Dot()\ndot = Dot(point=RIGHT, radius=0.1, color=RED)\n```\n\n### Square\n```python\nsquare = Square()\nsquare = Square(side_length=2, color=BLUE, fill_opacity=0.5)\n```\n\n### Rectangle\n```python\nrect = Rectangle(width=4, height=2)\nrect = Rectangle(width=4, height=2, color=GREEN, fill_opacity=0.8)\n```\n\n### RoundedRectangle\n```python\nrrect = RoundedRectangle(corner_radius=0.5, width=4, height=2)\n```\n\n### Circle\n```python\ncircle = Circle()\ncircle = Circle(radius=2, color=RED)\ncircle.set_fill(BLUE, opacity=0.5)\n\n# From three points\ncircle = Circle.from_three_points(p1, p2, p3)\n\n# Surround another object\ncircle = Circle().surround(mobject, buffer_factor=1.2)\n```\n\n### Ellipse\n```python\nellipse = Ellipse(width=4, height=2)\n```\n\n---\n\n## Lines and Arrows\n\n### Line\n```python\nline = Line(start=LEFT, end=RIGHT)\nline = Line(ORIGIN, UP * 2, color=YELLOW)\n```\n\n### DashedLine\n```python\ndashed = DashedLine(LEFT, RIGHT, dash_length=0.2)\n```\n\n### Arrow\n```python\narrow = Arrow(start=LEFT, end=RIGHT)\narrow = Arrow(LEFT, RIGHT, buff=0.1, stroke_width=5)\narrow = Arrow(LEFT, RIGHT, tip_shape=ArrowCircleFilledTip)\n```\n\n### DoubleArrow\n```python\ndouble_arrow = DoubleArrow(LEFT, RIGHT)\n```\n\n### Vector\n```python\nvector = Vector(direction=UP)\nvector = Vector([1, 2, 0])\n```\n\n### CurvedArrow / CurvedDoubleArrow\n```python\ncurved = CurvedArrow(LEFT, RIGHT, angle=TAU/4)\n```\n\n### TangentLine\n```python\ntangent = TangentLine(curve, alpha=0.5)  # Tangent at midpoint\n```\n\n---\n\n## Polygons\n\n### Polygon\n```python\npolygon = Polygon(LEFT, UP, RIGHT)  # Triangle\npolygon = Polygon(*vertices, color=GREEN)\n```\n\n### Triangle\n```python\ntriangle = Triangle()\n```\n\n### RegularPolygon\n```python\npentagon = RegularPolygon(n=5)\nhexagon = RegularPolygon(n=6, color=PURPLE)\n```\n\n### Star\n```python\nstar = Star()\nstar = Star(n=5, outer_radius=2, inner_radius=1)\n```\n\n### Angle / RightAngle\n```python\nangle = Angle(line1, line2)\nright_angle = RightAngle(line1, line2, length=0.4)\n```\n\n---\n\n## Arcs and Circles\n\n### Arc\n```python\narc = Arc(radius=1, start_angle=0, angle=PI/2)\narc = Arc(radius=2, start_angle=0, angle=TAU, color=RED)\n```\n\n### ArcBetweenPoints\n```python\narc = ArcBetweenPoints(LEFT, RIGHT, angle=PI/2)\n```\n\n### Annulus\n```python\nannulus = Annulus(inner_radius=1, outer_radius=2)\n```\n\n### Sector\n```python\nsector = Sector(outer_radius=2, inner_radius=1, angle=PI/3)\n```\n\n### AnnularSector\n```python\nsector = AnnularSector(inner_radius=1, outer_radius=2, angle=PI/2)\n```\n\n---\n\n## 3D Objects\n\n### Sphere\n```python\nsphere = Sphere(radius=1)\nsphere = Sphere(radius=2, resolution=(32, 32))\n```\n\n### Cube\n```python\ncube = Cube(side_length=2)\ncube = Cube(side_length=1, fill_opacity=0.7)\n```\n\n### Prism\n```python\nprism = Prism(dimensions=[1, 2, 3])\n```\n\n### Cylinder\n```python\ncylinder = Cylinder(radius=1, height=2)\n```\n\n### Cone\n```python\ncone = Cone(base_radius=1, height=2)\n```\n\n### Torus\n```python\ntorus = Torus(major_radius=2, minor_radius=0.5)\n```\n\n### Arrow3D / Line3D / Dot3D\n```python\narrow3d = Arrow3D(start=ORIGIN, end=[1, 1, 1])\nline3d = Line3D(start=ORIGIN, end=[1, 1, 1])\ndot3d = Dot3D(point=[1, 1, 1])\n```\n\n### Surface\n```python\nsurface = Surface(\n    lambda u, v: np.array([u, v, np.sin(u) * np.cos(v)]),\n    u_range=[-PI, PI],\n    v_range=[-PI, PI]\n)\n```\n\n### Polyhedra\n```python\ntetra = Tetrahedron()\nocta = Octahedron()\ndodeca = Dodecahedron()\nicosa = Icosahedron()\n```\n\n---\n\n## Grouping\n\n### VGroup\nGroup VMobjects together.\n```python\ngroup = VGroup(circle, square, triangle)\ngroup = VGroup(*[Circle() for _ in range(5)])\n\n# Arrange in row/column\ngroup.arrange(RIGHT, buff=0.5)\ngroup.arrange(DOWN, buff=0.3)\n\n# Arrange in grid\ngroup.arrange_in_grid(rows=2, cols=3, buff=0.5)\n\n# Access elements\ngroup[0]  # First element\ngroup[-1]  # Last element\n```\n\n### Group\nGroup any Mobjects (including non-VMobjects).\n```python\ngroup = Group(image, shape)\n```\n\n### VDict\nDictionary-like access to VMobjects.\n```python\nvdict = VDict({\"circle\": Circle(), \"square\": Square()})\nvdict[\"circle\"]  # Access by key\n```\n\n---\n\n## Positioning Methods\n\n### Basic Movement\n```python\nmobject.shift(RIGHT * 2)\nmobject.move_to(ORIGIN)\nmobject.move_to([1, 2, 0])\n```\n\n### Relative Positioning\n```python\nmobject.next_to(other, RIGHT)\nmobject.next_to(other, UP, buff=0.5)\nmobject.next_to(other, DOWN + LEFT)\n```\n\n### Alignment\n```python\nmobject.align_to(other, UP)     # Align top edges\nmobject.align_to(other, LEFT)   # Align left edges\nmobject.align_to(other, UR)     # Align to upper-right corner\n```\n\n### Centering\n```python\nmobject.center()\nmobject.to_edge(LEFT)\nmobject.to_edge(UP, buff=0.5)\nmobject.to_corner(UL)\n```\n\n### Get Positions\n```python\nmobject.get_center()\nmobject.get_top()\nmobject.get_bottom()\nmobject.get_left()\nmobject.get_right()\nmobject.get_corner(UR)\nmobject.get_edge_center(UP)\n```\n\n---\n\n## Styling Methods\n\n### Color\n```python\nmobject.set_color(RED)\nmobject.set_color(color=[RED, BLUE])  # Gradient\n\n# Named colors: RED, BLUE, GREEN, YELLOW, ORANGE, PURPLE, PINK,\n# TEAL, GOLD, MAROON, WHITE, BLACK, GREY/GRAY, etc.\n```\n\n### Stroke (Border)\n```python\nmobject.set_stroke(color=WHITE, width=4, opacity=1)\n```\n\n### Fill\n```python\nmobject.set_fill(color=BLUE, opacity=0.5)\n```\n\n### Opacity\n```python\nmobject.set_opacity(0.5)  # Both stroke and fill\nmobject.set_fill_opacity(0.5)\nmobject.set_stroke_opacity(0.8)\n```\n\n### Scale\n```python\nmobject.scale(2)           # Double size\nmobject.scale(0.5)         # Half size\nmobject.scale_to_fit_width(4)\nmobject.scale_to_fit_height(3)\nmobject.stretch_to_fit_width(4)\nmobject.stretch_to_fit_height(3)\n```\n\n### Rotation\n```python\nmobject.rotate(PI/4)\nmobject.rotate(PI/2, about_point=ORIGIN)\nmobject.rotate(PI, axis=UP)  # 3D rotation\n```\n\n### Z-index\n```python\nmobject.set_z_index(1)  # Higher = in front\n```\n\n---\n\n## Special Mobjects\n\n### Brace / BraceLabel\n```python\nbrace = Brace(mobject, direction=DOWN)\nbrace_label = BraceLabel(mobject, \"label\", brace_direction=DOWN)\n```\n\n### SurroundingRectangle\n```python\nrect = SurroundingRectangle(mobject, buff=0.1, color=YELLOW)\n```\n\n### BackgroundRectangle\n```python\nbg = BackgroundRectangle(text, fill_opacity=0.8)\n```\n\n### Cross\n```python\ncross = Cross(mobject, stroke_width=5)\n```\n\n### Underline\n```python\nunderline = Underline(text)\n```\n",
        "plugins/manim-video-creator/skills/manim-video-creator/references/text-and-math.md": "# Manim Text and Math Reference\n\n## Table of Contents\n1. [Text (Pango)](#text-pango)\n2. [MarkupText](#markuptext)\n3. [LaTeX (Tex/MathTex)](#latex-texmathtex)\n4. [Code](#code)\n5. [Numbers](#numbers)\n6. [Common Patterns](#common-patterns)\n\n---\n\n## Text (Pango)\n\nBasic text using Pango rendering (no LaTeX required).\n\n### Basic Usage\n```python\ntext = Text(\"Hello, World!\")\ntext = Text(\"Hello\", font_size=48)\ntext = Text(\"Colored\", color=RED)\n```\n\n### Font Settings\n```python\n# Specify font (must be installed on system)\ntext = Text(\"Custom Font\", font=\"Arial\")\ntext = Text(\"Monospace\", font=\"Courier New\")\n\n# List available fonts:\n# import manimpango\n# manimpango.list_fonts()\n```\n\n### Slant and Weight\n```python\ntext = Text(\"Italic\", slant=ITALIC)\ntext = Text(\"Bold\", weight=BOLD)\n# Weight options: NORMAL, BOLD, THIN, LIGHT, HEAVY, etc.\n```\n\n### Color by Character/Word\n```python\n# t2c: text to color mapping\ntext = Text(\"Hello World\", t2c={\"Hello\": RED, \"World\": BLUE})\n\n# By index\ntext = Text(\"Rainbow\", t2c={\"[0]\": RED, \"[1]\": ORANGE, \"[2]\": YELLOW})\n\n# By slice\ntext = Text(\"Highlight\", t2c={\"[2:5]\": YELLOW})\n```\n\n### Gradient\n```python\ntext = Text(\"Gradient\", gradient=(RED, BLUE))\ntext = Text(\"Rainbow\", gradient=(RED, ORANGE, YELLOW, GREEN, BLUE))\n\n# t2g: partial gradient\ntext = Text(\"Partial\", t2g={\"art\": (RED, BLUE)})\n```\n\n### Multi-language Support\n```python\ntext = Text(\"Hello\")\ntext = Text(\"Привет\")  # Russian\ntext = Text(\"日本語\")   # Japanese\ntext = Text(\"中文\")     # Chinese\ntext = Text(\"العربية\")  # Arabic\n```\n\n### Line Spacing\n```python\nmultiline = Text(\"Line 1\\nLine 2\\nLine 3\", line_spacing=1.5)\n```\n\n### Paragraph\n```python\npara = Paragraph(\n    \"First line\",\n    \"Second line\",\n    \"Third line\",\n    line_spacing=1.0,\n    alignment=\"center\"  # or \"left\", \"right\"\n)\n```\n\n---\n\n## MarkupText\n\nHTML-like markup for rich text formatting.\n\n```python\ntext = MarkupText('<b>Bold</b> and <i>Italic</i>')\ntext = MarkupText('<span foreground=\"red\">Red</span>')\ntext = MarkupText('<u>Underlined</u>')\ntext = MarkupText('<s>Strikethrough</s>')\ntext = MarkupText('<span size=\"x-large\">Large</span>')\ntext = MarkupText('<span font_family=\"serif\">Serif</span>')\n\n# Combined\ntext = MarkupText(\n    '<span foreground=\"blue\" font_family=\"monospace\"><b>Bold Blue Mono</b></span>'\n)\n```\n\n---\n\n## LaTeX (Tex/MathTex)\n\n### Tex (Mixed Text and Math)\n```python\ntex = Tex(\"Hello, $x^2 + y^2 = z^2$\")\ntex = Tex(r\"The equation $E = mc^2$ is famous\")\ntex = Tex(r\"\\LaTeX{} is great!\")\n```\n\n### MathTex (Pure Math Mode)\n```python\n# Everything is in math mode by default\neq = MathTex(r\"x^2 + y^2 = z^2\")\neq = MathTex(r\"\\int_0^1 x^2 \\, dx = \\frac{1}{3}\")\neq = MathTex(r\"\\sum_{n=1}^{\\infty} \\frac{1}{n^2} = \\frac{\\pi^2}{6}\")\n```\n\n### Color by Substring\n```python\n# Multiple arguments for easy coloring\neq = MathTex(\"x^2\", \"+\", \"y^2\", \"=\", \"z^2\")\neq.set_color_by_tex(\"x\", RED)\neq.set_color_by_tex(\"y\", BLUE)\n\n# Using {{ }} for automatic splitting\neq = MathTex(r\"{{ a^2 }} + {{ b^2 }} = {{ c^2 }}\")\neq[0].set_color(RED)  # a^2\neq[2].set_color(BLUE)  # b^2\n```\n\n### Isolate Substrings\n```python\neq = MathTex(\n    r\"e^x = \\sum_{n=0}^{\\infty} \\frac{x^n}{n!}\",\n    substrings_to_isolate=[\"x\", \"e\"]\n)\neq.set_color_by_tex(\"x\", YELLOW)\n```\n\n### Custom LaTeX Packages\n```python\nfrom manim import TexTemplate\n\ntemplate = TexTemplate()\ntemplate.add_to_preamble(r\"\\usepackage{mathrsfs}\")\ntemplate.add_to_preamble(r\"\\usepackage{amssymb}\")\n\ntex = MathTex(r\"\\mathscr{L}\", tex_template=template)\n```\n\n### Font Templates\n```python\nfrom manim import TexFontTemplates\n\ntex = Tex(\"Fancy Math\", tex_template=TexFontTemplates.french_cursive)\n# Available: american_typewriter, antykwa, apple_chancery,\n# auriocus_kalligraphicus, baskervaldx, baskerville_it,\n# comfortaa, comic_sans, french_cursive, ...\n```\n\n### Multi-line Equations\n```python\n# Using align* environment\neq = MathTex(r\"\"\"\n    f(x) &= x^2 + 2x + 1 \\\\\n         &= (x + 1)^2\n\"\"\")\n```\n\n### BulletedList\n```python\nbullets = BulletedList(\n    \"First point\",\n    \"Second point\",\n    \"Third point\",\n    buff=0.5\n)\n```\n\n### Title\n```python\ntitle = Title(\"My Presentation\")\ntitle = Title(\"Chapter 1\", include_underline=True)\n```\n\n---\n\n## Code\n\nDisplay syntax-highlighted code.\n\n```python\ncode = Code(\n    \"example.py\",  # File path\n    language=\"python\",\n    font=\"Monospace\",\n    background=\"window\"  # or \"rectangle\"\n)\n\n# From string\ncode = Code(\n    code=\"\"\"\ndef hello():\n    print(\"Hello, World!\")\n\"\"\",\n    language=\"python\"\n)\n```\n\n### Parameters\n- `file_name` or `code`: Source code\n- `language`: Programming language\n- `font`: Font family\n- `font_size`: Size of text\n- `background`: \"window\" or \"rectangle\"\n- `insert_line_no`: Show line numbers\n\n---\n\n## Numbers\n\n### DecimalNumber\n```python\nnum = DecimalNumber(3.14159, num_decimal_places=2)\nnum = DecimalNumber(42, num_decimal_places=0)\n```\n\n### Integer\n```python\nnum = Integer(42)\n```\n\n### Variable\nDisplay variable with label.\n```python\nvar = Variable(2, Text(\"x\"), num_decimal_places=2)\n# Shows: x = 2.00\n\n# Update value\nvar.tracker.set_value(5)\n```\n\n### Animated Numbers\n```python\ntracker = ValueTracker(0)\nnum = DecimalNumber(0)\nnum.add_updater(lambda m: m.set_value(tracker.get_value()))\n\nself.play(tracker.animate.set_value(100), run_time=3)\n```\n\n---\n\n## Common Patterns\n\n### Highlighting Equations\n```python\neq = MathTex(r\"E = mc^2\")\nbox = SurroundingRectangle(eq, color=YELLOW)\nself.play(Create(box))\n```\n\n### Equation Transformation\n```python\neq1 = MathTex(r\"x^2 - 1\")\neq2 = MathTex(r\"(x-1)(x+1)\")\nself.play(TransformMatchingTex(eq1, eq2))\n```\n\n### Split and Animate Parts\n```python\neq = MathTex(\"a\", \"+\", \"b\", \"=\", \"c\")\nself.play(Write(eq[0]))      # Write \"a\"\nself.play(Write(eq[1:3]))    # Write \"+ b\"\nself.play(Write(eq[3:]))     # Write \"= c\"\n```\n\n### Debug: Show Indices\n```python\neq = MathTex(r\"a^2 + b^2 = c^2\")\nself.add(index_labels(eq))  # Show index of each part\n```\n\n### CJK Support (Chinese/Japanese/Korean)\n```python\nfrom manim import TexTemplateLibrary\n\n# For Chinese\ntex = Tex(\n    r\"中文内容\",\n    tex_template=TexTemplateLibrary.ctex\n)\n\n# For Japanese (requires appropriate LaTeX setup)\ntext = Text(\"日本語テキスト\", font=\"Noto Sans JP\")\n```\n",
        "plugins/manim-video-creator/skills/youtube-uploader/SKILL.md": "---\nname: youtube-uploader\ndescription: YouTube Data API v3を使用して動画をYouTubeにアップロードします。このスキルは、(1) Manimで作成した動画のYouTubeへのアップロード、(2) 動画メタデータ（タイトル、説明、タグ）の設定、(3) プライバシー設定（公開、限定公開、非公開）、(4) 予約投稿、(5) プレイリストへの追加に使用します。\n---\n\n# YouTube動画アップローダー\n\nYouTube Data API v3を使用して、作成した動画をYouTubeにプログラマティックにアップロードします。\n\n---\n\n## 前提条件\n\n### 初回セットアップ（ユーザーが行う）\n\n以下のセットアップはユーザー自身が行う必要があります。セットアップが完了していない場合は、このスキルの「初回セットアップガイド」セクションを参照するよう案内してください。\n\n1. Google Cloud Consoleでプロジェクトを作成\n2. YouTube Data API v3を有効化\n3. OAuth 2.0認証情報を作成\n4. `credentials.json` をダウンロード\n\n### 依存パッケージ\n\n```bash\npip3 install google-auth-oauthlib google-api-python-client\n```\n\n---\n\n## credentials.json の配置場所\n\n**重要**: `credentials.json` は以下の優先順位で自動検索されます。明示的に `--credentials` オプションを指定しなくても、以下の場所に配置されていれば自動的に使用されます。\n\n### 検索優先順位\n\n| 優先度 | 場所 | パス |\n|--------|------|------|\n| 1 | 明示的指定 | `--credentials /path/to/credentials.json` |\n| 2 | プロジェクトディレクトリ | `./credentials.json` |\n| 3 | ホームディレクトリ | `~/credentials.json` |\n| 4 | 設定ディレクトリ | `~/.config/youtube/credentials.json` |\n| 5 | プラグインディレクトリ | `${CLAUDE_PLUGIN_ROOT}/credentials.json` |\n\n### 推奨配置場所\n\n```bash\n# 個人用（全プロジェクト共通）- 推奨\n~/.config/youtube/credentials.json\n\n# または\n~/credentials.json\n\n# プロジェクト固有の認証情報\n./credentials.json\n```\n\n### 注意事項\n\n- `token.json`（認証トークン）は `credentials.json` と同じディレクトリに自動生成されます\n- `.gitignore` に `credentials.json` と `token.json` を追加してください\n- 複数の場所に `credentials.json` がある場合、優先度の高い場所のファイルが使用されます\n\n---\n\n## アップロード前の確認事項\n\n動画をアップロードする前に、以下を確認してください：\n\n```\n1. 動画ファイルの確認\n   - ファイルパスが正しいか\n   - MP4形式であるか\n   - ファイルが存在するか\n\n2. 認証情報の確認\n   - credentials.json が存在するか\n   - 初回実行時はブラウザ認証が必要\n\n3. メタデータの準備\n   - タイトル（必須）\n   - 説明（推奨）\n   - タグ（推奨）\n   - カテゴリ（デフォルト: 22 = People & Blogs）\n   - プライバシー設定（デフォルト: private）\n```\n\n---\n\n## 使用方法\n\n### スクリプトの場所\n\nアップロードスクリプトは以下の場所にあります：\n`${CLAUDE_PLUGIN_ROOT}/skills/youtube-uploader/scripts/youtube_uploader.py`\n\n### 基本的なアップロード\n\n```bash\npython3 ${CLAUDE_PLUGIN_ROOT}/skills/youtube-uploader/scripts/youtube_uploader.py \\\n  /path/to/video.mp4 \\\n  --title \"動画タイトル\" \\\n  --credentials /path/to/credentials.json\n```\n\n### フルオプションでのアップロード\n\n```bash\npython3 ${CLAUDE_PLUGIN_ROOT}/skills/youtube-uploader/scripts/youtube_uploader.py \\\n  /path/to/video.mp4 \\\n  --title \"動画タイトル\" \\\n  --description \"動画の詳細な説明文\" \\\n  --tags \"manim,アニメーション,解説\" \\\n  --privacy private \\\n  --category 27 \\\n  --credentials /path/to/credentials.json\n```\n\n### Manimで作成した動画のアップロード例\n\n```bash\n# Manimの出力動画をアップロード\npython3 ${CLAUDE_PLUGIN_ROOT}/skills/youtube-uploader/scripts/youtube_uploader.py \\\n  ./media/videos/scene/1080p60/MyScene.mp4 \\\n  --title \"Manimで作成した解説動画\" \\\n  --description \"Manim Community ライブラリで作成したアニメーション\" \\\n  --tags \"manim,animation,python,math\" \\\n  --privacy unlisted \\\n  --category 27 \\\n  --credentials ~/credentials.json\n```\n\n---\n\n## コマンドラインオプション\n\n| オプション | 必須 | 説明 | デフォルト |\n|------------|------|------|------------|\n| `file` | 必須 | アップロードするMP4動画のパス | - |\n| `--title` | 必須 | 動画タイトル | - |\n| `--description` | 任意 | 動画の説明文 | 空 |\n| `--tags` | 任意 | カンマ区切りのタグ | 空 |\n| `--privacy` | 任意 | `private`, `unlisted`, `public` | `private` |\n| `--category` | 任意 | YouTubeカテゴリID | `22` |\n| `--credentials` | 任意 | credentials.jsonのパス | `credentials.json` |\n| `--playlist` | 任意 | 追加先プレイリストID | - |\n| `--publish-at` | 任意 | 予約投稿日時（ISO 8601形式） | - |\n\n---\n\n## YouTubeカテゴリID\n\n| カテゴリ | ID |\n|---------|-----|\n| Film & Animation | 1 |\n| Autos & Vehicles | 2 |\n| Music | 10 |\n| Pets & Animals | 15 |\n| Sports | 17 |\n| Travel & Events | 19 |\n| Gaming | 20 |\n| People & Blogs | 22 |\n| Comedy | 23 |\n| Entertainment | 24 |\n| News & Politics | 25 |\n| Howto & Style | 26 |\n| Education | 27 |\n| Science & Technology | 28 |\n\n**Manim動画の推奨カテゴリ:**\n- 解説・教育動画: `27` (Education)\n- 技術デモ: `28` (Science & Technology)\n- エンターテイメント: `24` (Entertainment)\n\n---\n\n## 初回セットアップガイド\n\nユーザーがセットアップ未完了の場合、以下の手順を案内してください。\n\n### ステップ1: Google Cloud Consoleでプロジェクト作成\n\n1. [Google Cloud Console](https://console.cloud.google.com) にアクセス\n2. 上部の「プロジェクト選択」→「新しいプロジェクト」\n3. プロジェクト名を入力（例: `YouTube-Uploader`）\n4. 「作成」をクリック\n\n### ステップ2: YouTube Data API v3を有効化\n\n1. 左メニュー →「APIとサービス」→「ライブラリ」\n2. 「YouTube Data API v3」を検索\n3. 「有効にする」をクリック\n\n### ステップ3: OAuth 2.0認証情報を作成\n\n1. 「APIとサービス」→「認証情報」\n2. 「+ 認証情報を作成」→「OAuth クライアントID」\n\n**同意画面の設定（初回のみ）:**\n1. User Type:「外部」を選択\n2. アプリ名: `YouTube Uploader`\n3. サポートメール: 自分のメールアドレス\n4. 「保存して次へ」を繰り返す\n5. テストユーザーに自分のGoogleアカウントを追加\n\n**OAuth クライアントIDの作成:**\n1. アプリケーションの種類:「デスクトップアプリ」\n2. 「作成」→「JSONをダウンロード」\n3. ダウンロードしたファイルを `credentials.json` にリネーム\n\n### ステップ4: 依存パッケージのインストール\n\n```bash\npip3 install google-auth-oauthlib google-api-python-client\n```\n\n### ステップ5: 初回認証\n\n```bash\npython3 youtube_uploader.py test_video.mp4 \\\n  --title \"Test Upload\" \\\n  --credentials credentials.json\n```\n\n初回実行時：\n1. ブラウザが自動で開く\n2. Googleアカウントでログイン\n3. 「許可」をクリック\n4. `token.json` が自動生成される（以降の認証に使用）\n\n---\n\n## 予約投稿\n\n動画を特定の日時に公開予約できます：\n\n```bash\npython3 youtube_uploader.py video.mp4 \\\n  --title \"予約投稿動画\" \\\n  --privacy private \\\n  --publish-at \"2025-02-01T18:00:00Z\"\n```\n\n**注意:** 予約投稿は `private` または `unlisted` の動画でのみ機能します。\n\n---\n\n## プレイリストへの追加\n\nアップロードと同時にプレイリストに追加：\n\n```bash\npython3 youtube_uploader.py video.mp4 \\\n  --title \"プレイリスト用動画\" \\\n  --playlist \"PLxxxxxxxxxxxx\"\n```\n\nプレイリストIDの取得方法：\n1. YouTubeで該当プレイリストを開く\n2. URLから抽出: `https://www.youtube.com/playlist?list=PLxxxxxxxxxxxx`\n3. `list=` の後の部分がプレイリストID\n\n---\n\n## トラブルシューティング\n\n### `credentials.json` が見つからない\n\n```bash\n# 正しいパスを指定\npython3 youtube_uploader.py video.mp4 \\\n  --title \"Test\" \\\n  --credentials ~/path/to/credentials.json\n```\n\n### 権限エラー (403)\n\n1. `token.json` を削除\n2. スクリプトを再実行して再認証\n3. 「すべてを許可」をクリック\n\n### Invalid value エラー (400)\n\n- `--category` が1-28の範囲か確認\n- `--publish-at` がISO 8601形式か確認: `2025-01-15T15:30:00Z`\n\n### アップロードが途中で止まる\n\n- `Ctrl+C` で中断可能\n- 再実行で続行される場合あり\n- ネットワーク接続を確認\n\n---\n\n## セキュリティ\n\n### 認証情報ファイルの管理\n\n```bash\n# .gitignoreに追加\necho \"credentials.json\" >> .gitignore\necho \"token.json\" >> .gitignore\n```\n\n### 環境変数での管理\n\n```bash\nexport YOUTUBE_CREDENTIALS_FILE=\"/path/to/credentials.json\"\n\npython3 youtube_uploader.py video.mp4 \\\n  --title \"My Video\" \\\n  --credentials $YOUTUBE_CREDENTIALS_FILE\n```\n\n---\n\n## ワークフロー例: Manim動画作成→YouTubeアップロード\n\n```bash\n# 1. Manimで動画をレンダリング\nuv run manim -qh scene.py MyScene\n\n# 2. 音声を合成（フル版の場合）\npython3 combine_final.py\n\n# 3. YouTubeにアップロード\npython3 ${CLAUDE_PLUGIN_ROOT}/skills/youtube-uploader/scripts/youtube_uploader.py \\\n  ./final_output.mp4 \\\n  --title \"Manim解説動画\" \\\n  --description \"Manim Community ライブラリで作成\" \\\n  --tags \"manim,animation,python\" \\\n  --privacy unlisted \\\n  --category 27 \\\n  --credentials ~/credentials.json\n```\n\n---\n\n## リファレンス\n\n- [YouTube Data API v3 公式ドキュメント](https://developers.google.com/youtube/v3)\n- [動画アップロードAPI](https://developers.google.com/youtube/v3/guides/uploading_a_video)\n- [Google OAuth 2.0](https://developers.google.com/identity/protocols/oauth2)\n"
      },
      "plugins": [
        {
          "name": "manim-video-creator",
          "description": "Manim（Mathematical Animation Engine）を使用してTTSナレーション・BGM付きのアニメーション動画を作成するプラグイン",
          "version": "0.1.0",
          "author": {
            "name": "ymmt"
          },
          "source": "./plugins/manim-video-creator",
          "category": "development",
          "categories": [
            "development"
          ],
          "install_commands": [
            "/plugin marketplace add y-ymmt/cc-manim-video-creator-plugin",
            "/plugin install manim-video-creator@manim-video-creator"
          ]
        }
      ]
    }
  ]
}