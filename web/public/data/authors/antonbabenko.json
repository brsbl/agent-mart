{
  "author": {
    "id": "antonbabenko",
    "display_name": "Anton Babenko",
    "type": "User",
    "avatar_url": "https://avatars.githubusercontent.com/u/393243?u=942cb9dc4cee4340f2b1ededd903a293101999de&v=4",
    "url": "https://github.com/antonbabenko",
    "bio": "AWS Community Hero / Terraform Influencer üá∫üá¶üá≥üá¥ / compliance.tf",
    "stats": {
      "total_marketplaces": 1,
      "total_plugins": 1,
      "total_commands": 0,
      "total_skills": 1,
      "total_stars": 830,
      "total_forks": 54
    }
  },
  "marketplaces": [
    {
      "name": "antonbabenko",
      "version": "1.5.0",
      "description": "Comprehensive Terraform and OpenTofu best practices skill covering testing, modules, CI/CD, and production patterns.",
      "owner_info": {
        "name": "Anton Babenko"
      },
      "keywords": [],
      "repo_full_name": "antonbabenko/terraform-skill",
      "repo_url": "https://github.com/antonbabenko/terraform-skill",
      "repo_description": "The Claude Agent Skill for Terraform and OpenTofu - testing, modules, CI/CD, and production patterns",
      "homepage": "",
      "signals": {
        "stars": 830,
        "forks": 54,
        "pushed_at": "2026-01-19T18:56:53Z",
        "created_at": "2026-01-15T18:26:37Z",
        "license": "NOASSERTION"
      },
      "file_tree": [
        {
          "path": ".claude-plugin",
          "type": "tree",
          "size": null
        },
        {
          "path": ".claude-plugin/marketplace.json",
          "type": "blob",
          "size": 1015
        },
        {
          "path": "README.md",
          "type": "blob",
          "size": 6867
        },
        {
          "path": "SKILL.md",
          "type": "blob",
          "size": 16906
        }
      ],
      "files": {
        ".claude-plugin/marketplace.json": "{\n  \"name\": \"antonbabenko\",\n  \"owner\": {\n    \"name\": \"Anton Babenko\"\n  },\n  \"version\": \"1.5.0\",\n  \"metadata\": {\n    \"description\": \"Comprehensive Terraform and OpenTofu best practices skill covering testing, modules, CI/CD, and production patterns.\",\n    \"repository\": \"https://github.com/antonbabenko/terraform-skill\",\n    \"license\": \"Apache-2.0\"\n  },\n  \"plugins\": [\n    {\n      \"name\": \"terraform-skill\",\n      \"description\": \"Use when working with Terraform or OpenTofu - creating modules, writing tests (native test framework, Terratest), setting up CI/CD pipelines, reviewing configurations, choosing between testing approaches, debugging state issues, implementing security scanning (trivy, checkov), or making infrastructure-as-code architecture decisions\",\n      \"source\": \"./\",\n      \"category\": \"development\",\n      \"keywords\": [\n        \"terraform\",\n        \"opentofu\",\n        \"infrastructure-as-code\",\n        \"testing\",\n        \"ci-cd\",\n        \"modules\"\n      ],\n      \"version\": \"1.5.0\"\n    }\n  ]\n}\n",
        "README.md": "# Terraform Skill for Claude\n\n[![Claude Skill](https://img.shields.io/badge/Claude-Skill-5865F2)](https://docs.claude.ai/docs/agent-skills)\n[![Terraform](https://img.shields.io/badge/Terraform-1.0+-623CE4)](https://www.terraform.io/)\n[![OpenTofu](https://img.shields.io/badge/OpenTofu-1.6+-FFD814)](https://opentofu.org/)\n[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](LICENSE)\n\nComprehensive Terraform and OpenTofu best practices skill for Claude Code. Get instant guidance on testing strategies, module patterns, CI/CD workflows, and production-ready infrastructure code.\n\n## What This Skill Provides\n\nüß™ **Testing Frameworks**\n- Decision matrix for choosing between native tests and Terratest\n- Testing strategy workflows (static ‚Üí integration ‚Üí E2E)\n- Real-world examples and patterns\n\nüì¶ **Module Development**\n- Structure and naming conventions\n- Versioning strategies\n- Public vs private module patterns\n\nüîÑ **CI/CD Integration**\n- GitHub Actions workflows\n- GitLab CI examples\n- Cost optimization patterns\n- Compliance automation\n\nüîí **Security & Compliance**\n- Trivy, Checkov integration\n- Policy-as-code patterns\n- Compliance scanning workflows\n\nüìã **Quick Reference**\n- Decision flowcharts\n- Common patterns (‚úÖ DO vs ‚ùå DON'T)\n- Cheat sheets for rapid consultation\n\n## Installation\n\nThis plugin is distributed via Claude Code marketplace using `.claude-plugin/marketplace.json`.\n\n### Claude Code (Recommended)\n\n```bash\n/plugin marketplace add antonbabenko/terraform-skill\n/plugin install terraform-skill@antonbabenko\n```\n\n### Manual Installation\n\n```bash\n# Clone to Claude skills directory\ngit clone https://github.com/antonbabenko/terraform-skill ~/.claude/skills/terraform-skill\n```\n\n### Private Testing\n\nWhile the repository is private, you can test locally:\n\n```bash\ngit clone git@github.com:antonbabenko/terraform-skill.git ~/.claude/skills/terraform-skill\n# Claude Code will load it from the local filesystem\n```\n\n### Verify Installation\n\nAfter installation, try:\n```\n\"Create a Terraform module with testing for an S3 bucket\"\n```\n\nClaude will automatically use the skill when working with Terraform/OpenTofu code.\n\n## Quick Start Examples\n\n**Create a module with tests:**\n> \"Create a Terraform module for AWS VPC with native tests\"\n\n**Review existing code:**\n> \"Review this Terraform configuration following best practices\"\n\n**Generate CI/CD workflow:**\n> \"Create a GitHub Actions workflow for Terraform with cost estimation\"\n\n**Testing strategy:**\n> \"Help me choose between native tests and Terratest for my modules\"\n\n## What It Covers\n\n### Testing Strategy Framework\n\nDecision matrices for:\n- When to use native tests (Terraform 1.6+)\n- When to use Terratest (Go-based)\n- Multi-environment testing patterns\n\n### Module Development Patterns\n\n- Naming conventions (`terraform-<PROVIDER>-<NAME>`)\n- Directory structure best practices\n- Input variable organization\n- Output value design\n- Version constraint patterns\n- Documentation standards\n\n### CI/CD Workflows\n\n- GitHub Actions examples\n- GitLab CI templates\n- Atlantis integration\n- Cost estimation (Infracost)\n- Security scanning (Trivy, Checkov)\n- Compliance checking\n\n### Security & Compliance\n\n- Static analysis integration\n- Policy-as-code patterns\n- Secrets management\n- State file security\n- Compliance scanning workflows\n\n### Common Patterns & Anti-patterns\n\nSide-by-side ‚úÖ DO vs ‚ùå DON'T examples for:\n- Variable naming\n- Resource naming\n- Module composition\n- State management\n- Provider configuration\n\n## Why This Skill?\n\n**Based on Production Experience:**\n- Patterns from [terraform-best-practices.com](https://terraform-best-practices.com)\n- Community-tested approaches from terraform-aws-modules\n- AWS Hero expertise in enterprise IaC\n- Real-world usage across 100+ modules\n\n**Version-Specific Guidance:**\n- Terraform 1.0+ features\n- OpenTofu 1.6+ compatibility\n- Native test framework (1.6+)\n- Current tooling ecosystem (2024-2026)\n\n**Decision Frameworks:**\nNot just \"what to do\" but \"when and why\" - helping you make informed architecture decisions.\n\n## Requirements\n\n- **Claude Code** or other Claude environment supporting skills\n- **Terraform** 1.0+ or **OpenTofu** 1.6+\n- Optional: MCP Terraform server for enhanced registry integration\n\n## Contributing\n\nSee [CLAUDE.md](CLAUDE.md) for:\n- Skill development guidelines\n- Content structure philosophy\n- How to propose improvements\n- Testing and validation approach\n\n**Issues & Feedback:**\n[GitHub Issues](https://github.com/antonbabenko/terraform-skill/issues)\n\n## Releases\n\nReleases are automated based on conventional commits in commit messages:\n\n| Commit Type | Version Bump | Example |\n|-------------|--------------|---------|\n| `feat!:` or `BREAKING CHANGE:` | Major | 1.2.3 ‚Üí 2.0.0 |\n| `feat:` | Minor | 1.2.3 ‚Üí 1.3.0 |\n| `fix:` | Patch | 1.2.3 ‚Üí 1.2.4 |\n| Other commits | Patch (default) | 1.2.3 ‚Üí 1.2.4 |\n\nReleases are created automatically when changes are pushed to master.\n\n## Related Resources\n\n### Official Documentation\n- [Terraform Language](https://developer.hashicorp.com/terraform/docs) - HashiCorp official docs\n- [Terraform Testing](https://developer.hashicorp.com/terraform/language/tests) - Native test framework\n- [OpenTofu Documentation](https://opentofu.org/docs/) - OpenTofu official docs\n- [HashiCorp Best Practices](https://developer.hashicorp.com/terraform/cloud-docs/recommended-practices) - Cloud best practices\n\n### Community Resources\n- [Awesome Terraform](https://github.com/shuaibiyy/awesome-tf)\n- [Terraform Best Practices](https://terraform-best-practices.com) - Comprehensive guide (base for this skill)\n- [terraform-aws-modules](https://github.com/terraform-aws-modules) - Production-grade AWS modules\n- [Terratest](https://terratest.gruntwork.io/docs/) - Go testing framework for Terraform\n- [Google Cloud Best Practices](https://docs.cloud.google.com/docs/terraform/best-practices/general-style-structure)\n- [AWS Terraform Best Practices](https://docs.aws.amazon.com/prescriptive-guidance/latest/terraform-aws-provider-best-practices/introduction.html)\n\n### Development Tools\n- [pre-commit-terraform](https://github.com/antonbabenko/pre-commit-terraform) - Pre-commit hooks for Terraform\n- [terraform-docs](https://terraform-docs.io/) - Generate documentation from Terraform modules\n- [terraform-switcher](https://github.com/warrensbox/terraform-switcher) - Terraform version manager\n- [TFLint](https://github.com/terraform-linters/tflint) - Terraform linter\n- [Trivy](https://github.com/aquasecurity/trivy) - Security scanner for IaC\n\n## License & Attribution\n\n**License:** Apache 2.0 - see [LICENSE](LICENSE)\n\nIf you create derivative works or skills based on this skill, please include:\n```\nBased on terraform-skill by Anton Babenko\nhttps://github.com/antonbabenko/terraform-skill\nterraform-best-practices.com | Compliance.tf\n```\n",
        "SKILL.md": "---\nname: terraform-skill\ndescription: Use when working with Terraform or OpenTofu - creating modules, writing tests (native test framework, Terratest), setting up CI/CD pipelines, reviewing configurations, choosing between testing approaches, debugging state issues, implementing security scanning (trivy, checkov), or making infrastructure-as-code architecture decisions\nlicense: Apache-2.0\nmetadata:\n  author: Anton Babenko\n  version: 1.5.0\n---\n\n# Terraform Skill for Claude\n\nComprehensive Terraform and OpenTofu guidance covering testing, modules, CI/CD, and production patterns. Based on terraform-best-practices.com and enterprise experience.\n\n## When to Use This Skill\n\n**Activate this skill when:**\n- Creating new Terraform or OpenTofu configurations or modules\n- Setting up testing infrastructure for IaC code\n- Deciding between testing approaches (validate, plan, frameworks)\n- Structuring multi-environment deployments\n- Implementing CI/CD for infrastructure-as-code\n- Reviewing or refactoring existing Terraform/OpenTofu projects\n- Choosing between module patterns or state management approaches\n\n**Don't use this skill for:**\n- Basic Terraform/OpenTofu syntax questions (Claude knows this)\n- Provider-specific API reference (link to docs instead)\n- Cloud platform questions unrelated to Terraform/OpenTofu\n\n## Core Principles\n\n### 1. Code Structure Philosophy\n\n**Module Hierarchy:**\n\n| Type | When to Use | Scope |\n|------|-------------|-------|\n| **Resource Module** | Single logical group of connected resources | VPC + subnets, Security group + rules |\n| **Infrastructure Module** | Collection of resource modules for a purpose | Multiple resource modules in one region/account |\n| **Composition** | Complete infrastructure | Spans multiple regions/accounts |\n\n**Hierarchy:** Resource ‚Üí Resource Module ‚Üí Infrastructure Module ‚Üí Composition\n\n**Directory Structure:**\n```\nenvironments/        # Environment-specific configurations\n‚îú‚îÄ‚îÄ prod/\n‚îú‚îÄ‚îÄ staging/\n‚îî‚îÄ‚îÄ dev/\n\nmodules/            # Reusable modules\n‚îú‚îÄ‚îÄ networking/\n‚îú‚îÄ‚îÄ compute/\n‚îî‚îÄ‚îÄ data/\n\nexamples/           # Module usage examples (also serve as tests)\n‚îú‚îÄ‚îÄ complete/\n‚îî‚îÄ‚îÄ minimal/\n```\n\n**Key principle from terraform-best-practices.com:**\n- Separate **environments** (prod, staging) from **modules** (reusable components)\n- Use **examples/** as both documentation and integration test fixtures\n- Keep modules small and focused (single responsibility)\n\n**For detailed module architecture, see:** [Code Patterns: Module Types & Hierarchy](references/code-patterns.md)\n\n### 2. Naming Conventions\n\n**Resources:**\n```hcl\n# Good: Descriptive, contextual\nresource \"aws_instance\" \"web_server\" { }\nresource \"aws_s3_bucket\" \"application_logs\" { }\n\n# Good: \"this\" for singleton resources (only one of that type)\nresource \"aws_vpc\" \"this\" { }\nresource \"aws_security_group\" \"this\" { }\n\n# Avoid: Generic names for non-singletons\nresource \"aws_instance\" \"main\" { }\nresource \"aws_s3_bucket\" \"bucket\" { }\n```\n\n**Singleton Resources:**\n\nUse `\"this\"` when your module creates only one resource of that type:\n\n‚úÖ DO:\n```hcl\nresource \"aws_vpc\" \"this\" {}           # Module creates one VPC\nresource \"aws_security_group\" \"this\" {}  # Module creates one SG\n```\n\n‚ùå DON'T use \"this\" for multiple resources:\n```hcl\nresource \"aws_subnet\" \"this\" {}  # If creating multiple subnets\n```\n\nUse descriptive names when creating multiple resources of the same type.\n\n**Variables:**\n```hcl\n# Prefix with context when needed\nvar.vpc_cidr_block          # Not just \"cidr\"\nvar.database_instance_class # Not just \"instance_class\"\n```\n\n**Files:**\n- `main.tf` - Primary resources\n- `variables.tf` - Input variables\n- `outputs.tf` - Output values\n- `versions.tf` - Provider versions\n- `data.tf` - Data sources (optional)\n\n## Testing Strategy Framework\n\n### Decision Matrix: Which Testing Approach?\n\n| Your Situation | Recommended Approach | Tools | Cost |\n|----------------|---------------------|-------|------|\n| **Quick syntax check** | Static analysis | `terraform validate`, `fmt` | Free |\n| **Pre-commit validation** | Static + lint | `validate`, `tflint`, `trivy`, `checkov` | Free |\n| **Terraform 1.6+, simple logic** | Native test framework | Built-in `terraform test` | Free-Low |\n| **Pre-1.6, or Go expertise** | Integration testing | Terratest | Low-Med |\n| **Security/compliance focus** | Policy as code | OPA, Sentinel | Free |\n| **Cost-sensitive workflow** | Mock providers (1.7+) | Native tests + mocking | Free |\n| **Multi-cloud, complex** | Full integration | Terratest + real infra | Med-High |\n\n### Testing Pyramid for Infrastructure\n\n```\n        /\\\n       /  \\          End-to-End Tests (Expensive)\n      /____\\         - Full environment deployment\n     /      \\        - Production-like setup\n    /________\\\n   /          \\      Integration Tests (Moderate)\n  /____________\\     - Module testing in isolation\n /              \\    - Real resources in test account\n/________________\\   Static Analysis (Cheap)\n                     - validate, fmt, lint\n                     - Security scanning\n```\n\n### Native Test Best Practices (1.6+)\n\n**Before generating test code:**\n\n1. **Validate schemas with Terraform MCP:**\n   ```\n   Search provider docs ‚Üí Get resource schema ‚Üí Identify block types\n   ```\n\n2. **Choose correct command mode:**\n   - `command = plan` - Fast, for input validation\n   - `command = apply` - Required for computed values and set-type blocks\n\n3. **Handle set-type blocks correctly:**\n   - Cannot index with `[0]`\n   - Use `for` expressions to iterate\n   - Or use `command = apply` to materialize\n\n**Common patterns:**\n- S3 encryption rules: **set** (use for expressions)\n- Lifecycle transitions: **set** (use for expressions)\n- IAM policy statements: **set** (use for expressions)\n\n**For detailed testing guides, see:**\n- **[Testing Frameworks Guide](references/testing-frameworks.md)** - Deep dive into static analysis, native tests, and Terratest\n- **[Quick Reference](references/quick-reference.md#testing-approach-selection)** - Decision flowchart and command cheat sheet\n\n## Code Structure Standards\n\n### Resource Block Ordering\n\n**Strict ordering for consistency:**\n1. `count` or `for_each` FIRST (blank line after)\n2. Other arguments\n3. `tags` as last real argument\n4. `depends_on` after tags (if needed)\n5. `lifecycle` at the very end (if needed)\n\n```hcl\n# ‚úÖ GOOD - Correct ordering\nresource \"aws_nat_gateway\" \"this\" {\n  count = var.create_nat_gateway ? 1 : 0\n\n  allocation_id = aws_eip.this[0].id\n  subnet_id     = aws_subnet.public[0].id\n\n  tags = {\n    Name = \"${var.name}-nat\"\n  }\n\n  depends_on = [aws_internet_gateway.this]\n\n  lifecycle {\n    create_before_destroy = true\n  }\n}\n```\n\n### Variable Block Ordering\n\n1. `description` (ALWAYS required)\n2. `type`\n3. `default`\n4. `validation`\n5. `nullable` (when setting to false)\n\n```hcl\nvariable \"environment\" {\n  description = \"Environment name for resource tagging\"\n  type        = string\n  default     = \"dev\"\n\n  validation {\n    condition     = contains([\"dev\", \"staging\", \"prod\"], var.environment)\n    error_message = \"Environment must be one of: dev, staging, prod.\"\n  }\n\n  nullable = false\n}\n```\n\n**For complete structure guidelines, see:** [Code Patterns: Block Ordering & Structure](references/code-patterns.md#block-ordering--structure)\n\n## Count vs For_Each: When to Use Each\n\n### Quick Decision Guide\n\n| Scenario | Use | Why |\n|----------|-----|-----|\n| Boolean condition (create or don't) | `count = condition ? 1 : 0` | Simple on/off toggle |\n| Simple numeric replication | `count = 3` | Fixed number of identical resources |\n| Items may be reordered/removed | `for_each = toset(list)` | Stable resource addresses |\n| Reference by key | `for_each = map` | Named access to resources |\n| Multiple named resources | `for_each` | Better maintainability |\n\n### Common Patterns\n\n**Boolean conditions:**\n```hcl\n# ‚úÖ GOOD - Boolean condition\nresource \"aws_nat_gateway\" \"this\" {\n  count = var.create_nat_gateway ? 1 : 0\n  # ...\n}\n```\n\n**Stable addressing with for_each:**\n```hcl\n# ‚úÖ GOOD - Removing \"us-east-1b\" only affects that subnet\nresource \"aws_subnet\" \"private\" {\n  for_each = toset(var.availability_zones)\n\n  availability_zone = each.key\n  # ...\n}\n\n# ‚ùå BAD - Removing middle AZ recreates all subsequent subnets\nresource \"aws_subnet\" \"private\" {\n  count = length(var.availability_zones)\n\n  availability_zone = var.availability_zones[count.index]\n  # ...\n}\n```\n\n**For migration guides and detailed examples, see:** [Code Patterns: Count vs For_Each](references/code-patterns.md#count-vs-for_each-deep-dive)\n\n## Locals for Dependency Management\n\n**Use locals to ensure correct resource deletion order:**\n\n```hcl\n# Problem: Subnets might be deleted after CIDR blocks, causing errors\n# Solution: Use try() in locals to hint deletion order\n\nlocals {\n  # References secondary CIDR first, falling back to VPC\n  # Forces Terraform to delete subnets before CIDR association\n  vpc_id = try(\n    aws_vpc_ipv4_cidr_block_association.this[0].vpc_id,\n    aws_vpc.this.id,\n    \"\"\n  )\n}\n\nresource \"aws_vpc\" \"this\" {\n  cidr_block = \"10.0.0.0/16\"\n}\n\nresource \"aws_vpc_ipv4_cidr_block_association\" \"this\" {\n  count = var.add_secondary_cidr ? 1 : 0\n\n  vpc_id     = aws_vpc.this.id\n  cidr_block = \"10.1.0.0/16\"\n}\n\nresource \"aws_subnet\" \"public\" {\n  vpc_id     = local.vpc_id  # Uses local, not direct reference\n  cidr_block = \"10.1.0.0/24\"\n}\n```\n\n**Why this matters:**\n- Prevents deletion errors when destroying infrastructure\n- Ensures correct dependency order without explicit `depends_on`\n- Particularly useful for VPC configurations with secondary CIDR blocks\n\n**For detailed examples, see:** [Code Patterns: Locals for Dependency Management](references/code-patterns.md#locals-for-dependency-management)\n\n## Module Development\n\n### Standard Module Structure\n\n```\nmy-module/\n‚îú‚îÄ‚îÄ README.md           # Usage documentation\n‚îú‚îÄ‚îÄ main.tf             # Primary resources\n‚îú‚îÄ‚îÄ variables.tf        # Input variables with descriptions\n‚îú‚îÄ‚îÄ outputs.tf          # Output values\n‚îú‚îÄ‚îÄ versions.tf         # Provider version constraints\n‚îú‚îÄ‚îÄ examples/\n‚îÇ   ‚îú‚îÄ‚îÄ minimal/        # Minimal working example\n‚îÇ   ‚îî‚îÄ‚îÄ complete/       # Full-featured example\n‚îî‚îÄ‚îÄ tests/              # Test files\n    ‚îî‚îÄ‚îÄ module_test.tftest.hcl  # Or .go\n```\n\n### Best Practices Summary\n\n**Variables:**\n- ‚úÖ Always include `description`\n- ‚úÖ Use explicit `type` constraints\n- ‚úÖ Provide sensible `default` values where appropriate\n- ‚úÖ Add `validation` blocks for complex constraints\n- ‚úÖ Use `sensitive = true` for secrets\n\n**Outputs:**\n- ‚úÖ Always include `description`\n- ‚úÖ Mark sensitive outputs with `sensitive = true`\n- ‚úÖ Consider returning objects for related values\n- ‚úÖ Document what consumers should do with each output\n\n**For detailed module patterns, see:**\n- **[Module Patterns Guide](references/module-patterns.md)** - Variable best practices, output design, ‚úÖ DO vs ‚ùå DON'T patterns\n- **[Quick Reference](references/quick-reference.md#common-patterns)** - Resource naming, variable naming, file organization\n\n## CI/CD Integration\n\n### Recommended Workflow Stages\n\n1. **Validate** - Format check + syntax validation + linting\n2. **Test** - Run automated tests (native or Terratest)\n3. **Plan** - Generate and review execution plan\n4. **Apply** - Execute changes (with approvals for production)\n\n### Cost Optimization Strategy\n\n1. **Use mocking for PR validation** (free)\n2. **Run integration tests only on main branch** (controlled cost)\n3. **Implement auto-cleanup** (prevent orphaned resources)\n4. **Tag all test resources** (track spending)\n\n**For complete CI/CD templates, see:**\n- **[CI/CD Workflows Guide](references/ci-cd-workflows.md)** - GitHub Actions, GitLab CI, Atlantis integration, cost optimization\n- **[Quick Reference](references/quick-reference.md#troubleshooting-guide)** - Common CI/CD issues and solutions\n\n## Security & Compliance\n\n### Essential Security Checks\n\n```bash\n# Static security scanning\ntrivy config .\ncheckov -d .\n```\n\n### Common Issues to Avoid\n\n‚ùå **Don't:**\n- Store secrets in variables\n- Use default VPC\n- Skip encryption\n- Open security groups to 0.0.0.0/0\n\n‚úÖ **Do:**\n- Use AWS Secrets Manager / Parameter Store\n- Create dedicated VPCs\n- Enable encryption at rest\n- Use least-privilege security groups\n\n**For detailed security guidance, see:**\n- **[Security & Compliance Guide](references/security-compliance.md)** - Trivy/Checkov integration, secrets management, state file security, compliance testing\n\n## Version Management\n\n### Version Constraint Syntax\n\n```hcl\nversion = \"5.0.0\"      # Exact (avoid - inflexible)\nversion = \"~> 5.0\"     # Recommended: 5.0.x only\nversion = \">= 5.0\"     # Minimum (risky - breaking changes)\n```\n\n### Strategy by Component\n\n| Component | Strategy | Example |\n|-----------|----------|---------|\n| **Terraform** | Pin minor version | `required_version = \"~> 1.9\"` |\n| **Providers** | Pin major version | `version = \"~> 5.0\"` |\n| **Modules (prod)** | Pin exact version | `version = \"5.1.2\"` |\n| **Modules (dev)** | Allow patch updates | `version = \"~> 5.1\"` |\n\n### Update Workflow\n\n```bash\n# Lock versions initially\nterraform init              # Creates .terraform.lock.hcl\n\n# Update to latest within constraints\nterraform init -upgrade     # Updates providers\n\n# Review and test\nterraform plan\n```\n\n**For detailed version management, see:** [Code Patterns: Version Management](references/code-patterns.md#version-management)\n\n## Modern Terraform Features (1.0+)\n\n### Feature Availability by Version\n\n| Feature | Version | Use Case |\n|---------|---------|----------|\n| `try()` function | 0.13+ | Safe fallbacks, replaces `element(concat())` |\n| `nullable = false` | 1.1+ | Prevent null values in variables |\n| `moved` blocks | 1.1+ | Refactor without destroy/recreate |\n| `optional()` with defaults | 1.3+ | Optional object attributes |\n| Native testing | 1.6+ | Built-in test framework |\n| Mock providers | 1.7+ | Cost-free unit testing |\n| Provider functions | 1.8+ | Provider-specific data transformation |\n| Cross-variable validation | 1.9+ | Validate relationships between variables |\n| Write-only arguments | 1.11+ | Secrets never stored in state |\n\n### Quick Examples\n\n```hcl\n# try() - Safe fallbacks (0.13+)\noutput \"sg_id\" {\n  value = try(aws_security_group.this[0].id, \"\")\n}\n\n# optional() - Optional attributes with defaults (1.3+)\nvariable \"config\" {\n  type = object({\n    name    = string\n    timeout = optional(number, 300)  # Default: 300\n  })\n}\n\n# Cross-variable validation (1.9+)\nvariable \"environment\" { type = string }\nvariable \"backup_days\" {\n  type = number\n  validation {\n    condition     = var.environment == \"prod\" ? var.backup_days >= 7 : true\n    error_message = \"Production requires backup_days >= 7\"\n  }\n}\n```\n\n**For complete patterns and examples, see:** [Code Patterns: Modern Terraform Features](references/code-patterns.md#modern-terraform-features-10)\n\n## Version-Specific Guidance\n\n### Terraform 1.0-1.5\n- Use Terratest for testing\n- No native testing framework available\n- Focus on static analysis and plan validation\n\n### Terraform 1.6+ / OpenTofu 1.6+\n- **New:** Native `terraform test` / `tofu test` command\n- Consider migrating from external frameworks for simple tests\n- Keep Terratest only for complex integration tests\n\n### Terraform 1.7+ / OpenTofu 1.7+\n- **New:** Mock providers for unit testing\n- Reduce cost by mocking external dependencies\n- Use real integration tests for final validation\n\n### Terraform vs OpenTofu\n\nBoth are fully supported by this skill. For licensing, governance, and feature comparison, see [Quick Reference: Terraform vs OpenTofu](references/quick-reference.md#terraform-vs-opentofu-comparison).\n\n## Detailed Guides\n\nThis skill uses **progressive disclosure** - essential information is in this main file, detailed guides are available when needed:\n\nüìö **Reference Files:**\n- **[Testing Frameworks](references/testing-frameworks.md)** - In-depth guide to static analysis, native tests, and Terratest\n- **[Module Patterns](references/module-patterns.md)** - Module structure, variable/output best practices, ‚úÖ DO vs ‚ùå DON'T patterns\n- **[CI/CD Workflows](references/ci-cd-workflows.md)** - GitHub Actions, GitLab CI templates, cost optimization, automated cleanup\n- **[Security & Compliance](references/security-compliance.md)** - Trivy/Checkov integration, secrets management, compliance testing\n- **[Quick Reference](references/quick-reference.md)** - Command cheat sheets, decision flowcharts, troubleshooting guide\n\n**How to use:** When you need detailed information on a topic, reference the appropriate guide. Claude will load it on demand to provide comprehensive guidance.\n\n## License\n\nThis skill is licensed under the **Apache License 2.0**. See the LICENSE file for full terms.\n\n**Copyright ¬© 2026 Anton Babenko**\n"
      },
      "plugins": [
        {
          "name": "terraform-skill",
          "description": "Use when working with Terraform or OpenTofu - creating modules, writing tests (native test framework, Terratest), setting up CI/CD pipelines, reviewing configurations, choosing between testing approaches, debugging state issues, implementing security scanning (trivy, checkov), or making infrastructure-as-code architecture decisions",
          "source": "./",
          "category": "development",
          "keywords": [
            "terraform",
            "opentofu",
            "infrastructure-as-code",
            "testing",
            "ci-cd",
            "modules"
          ],
          "version": "1.5.0",
          "categories": [
            "ci-cd",
            "development",
            "infrastructure-as-code",
            "modules",
            "opentofu",
            "terraform",
            "testing"
          ],
          "install_commands": [
            "/plugin marketplace add antonbabenko/terraform-skill",
            "/plugin install terraform-skill@antonbabenko"
          ]
        }
      ]
    }
  ]
}